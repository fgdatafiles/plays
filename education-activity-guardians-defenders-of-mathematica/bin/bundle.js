!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=487)}([function(t,e,n){"use strict";e.a={STAGE_WIDTH:1792,STAGE_HEIGHT:768,config:{},renderer:null,stage:null,ticker:null,transitions:null,userId:0,locationIndex:1,location:{},character:{},achievements:null,debug:!1,gui:null,requiredAssetsReady:!1,days:0,date:0,weekday:0,week:0,year:0,equipmentAchievement:-1}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return i});var i=function(){function t(e,n,r,i,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._module=e,this._type=n,this._view=r,this._input=i,this._range=o,this._template=a,this.difficulty=s,this.part=0,this.values=[],this.options=[],this.useWords=!1,this.operands=[]}var e,n;return e=t,(n=[{key:"module",get:function(){return this._module}},{key:"type",get:function(){return this._type}},{key:"view",get:function(){return this._view}},{key:"input",get:function(){return this._input}},{key:"range",get:function(){return this._range}},{key:"template",get:function(){return this._template}},{key:"answer",get:function(){if(Array.isArray(this.part)){for(var t=[],e=0;e<this.part.length;++e)t.push(this.values[this.part[e]]);return t}return this.values[this.part]}},{key:"result",get:function(){return this.values[this.values.length-1]}}])&&r(e.prototype,n),t}();i.TYPE_ADDITION="addition",i.TYPE_SUBTRACTION="subtraction",i.TYPE_MULTIPLICATION="multiplication",i.TYPE_DIVISION="division",i.TYPE_DIVISION_FRACTION="division_fraction",i.TYPE_MULTIPLICATION_FRACTION="multiplication_fraction",i.TYPE_MIXED_ARITHMETIC="mixed_arithmetic",i.TYPE_TIMES_TABLE="times_table",i.TYPE_MIXED="mixed",i.TYPE_BOOLEAN="boolean",i.TYPE_SORT_INTEGER="integer",i.TYPE_SORT_FRACTION="fraction",i.TYPE_SORT_DECIMAL="decimal",i.TYPE_SQUARE="square",i.TYPE_FACES="faces",i.TYPE_RATIOS="ratios",i.TYPE_ANGLES="angles",i.TYPE_SIDES="sides",i.TYPE_COMPARISON="comparison",i.TYPE_COMPARISON_FRACTION="comparison_fraction",i.TYPE_VALUE="value",i.TYPE_COMPOSE="compose",i.TYPE_ROUND="round",i.TYPE_PERIMETER="perimeter",i.TYPE_AREA_TRIANGLE="area_triangle",i.TYPE_AREA_PARALLELOGRAM="area_parallelogram",i.TYPE_AREA_CIRCLE="area_circle",i.TYPE_DIAMETER="diameter",i.TYPE_RADIUS="radius",i.TYPE_VOLUME="volume",i.TYPE_MISSING_ANGLE="missing_angle",i.TYPE_FIXED_TRIANGLE="fixed_triangle",i.TYPE_COVERSION_X_IN_Y="conversion_x_in_y",i.TYPE_COVERSION_SUBTRACTION="conversion_subtraction",i.TYPE_COVERSION_ADDITION="conversion_addition",i.TYPE_COVERSION_PERCENT_OF_X="conversion_percent_of_x",i.TYPE_COVERSION_MULTIPLICATION="conversion_multiplication",i.TYPE_COVERSION_EQUIVALENT="conversion_equivalent",i.TYPE_COVERSION_SORT="conversion_sort",i.TYPE_LIQUID_MEASUREMENT="liquid_measurement",i.TYPE_TIME_DIFFERENCE="time_difference",i.TYPE_TIME_CONVERSION="time_conversion",i.TYPE_RATIO_SIMPLE="simple",i.TYPE_RATIO_SIMPLE_TRIPLE="simple_triple",i.TYPE_RATIO_PERCENT="percent",i.TYPE_RATIO_FIND_RAT="find_ratio",i.TYPE_RATIO_FIND_VAL="find_value",i.TYPE_RATIO_SIMPLIFY="simplify_ratio",i.TYPE_STATS_VEN="ven",i.TYPE_STATS_BAR="bar",i.TYPE_STATS_TALLY="tally",i.TYPE_STATS_LINE="line",i.TYPE_STATS_SIMPLE_MEAN="simple_mean",i.TYPE_STATS_MOST_OFTEN="most_often",i.TYPE_STATS_MIDDLE="middle",i.TYPE_FIND_REST="find_rest",i.TYPE_DOUBLE_UNKNOWN="double_unknown",i.TYPE_SHAPE_SIDES_EQUAL_FOUR="sides_four",i.TYPE_SHAPE_SIDES_UNDER_FOUR="sides_under_four",i.TYPE_SHAPE_PARALLEL_LINES="parallel_lines",i.TYPE_SHAPE_PERPENDICULAR_LINES="perpendicular_lines",i.TYPE_SHAPE_VISUAL_RIGHT_ANGLE="visual_right_angles",i.TYPE_SHAPE_VISUAL_ISOSCELES="visual_isosceles",i.TYPE_SHAPE_ODD_ONE_OUT="odd_one_out",i.TYPE_SHAPE_SYMMETRY="symmetry",i.TYPE_SHAPE_ANGLE_TYPE="angle_type",i.TYPE_SHAPE_SYMMETRY_LINES="symmetry_lines",i.TYPE_SHAPE_VERTICES="vertices",i.TYPE_SHAPE_ROTATED_SHAPE="rotated_shape"},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return i});var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._value=e}var e,n;return e=t,(n=[{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0],this._value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"value",get:function(){return this._value}}])&&r(e.prototype,n),t}()},function(t,e,n){(function(t){t.exports=function(){"use strict";var e,r;function i(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function u(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in e)h(e,n)&&(t[n]=e[n]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,r){return Ie(t,e,n,r,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function _(t){if(null==t._isValid){var e=p(t),n=r.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function m(t){var e=d(NaN);return null!=t?f(p(e),t):p(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var y=i.momentProperties=[];function v(t,e){var n,r,i;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=p(e)),s(e._locale)||(t._locale=e._locale),y.length>0)for(n=0;n<y.length;n++)s(i=e[r=y[n]])||(t[r]=i);return t}var g=!1;function b(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,i.updateOffset(this),g=!1)}function w(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function T(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=x(e)),n}function E(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&T(t[r])!==T(e[r]))&&a++;return a+o}function P(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var n=!0;return f(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}P(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var M,O={};function I(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),O[t]||(P(e),O[t]=!0)}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function L(t,e){var n,r=f({},t);for(n in e)h(e,n)&&(a(t[n])&&a(e[n])?(r[n]={},f(r[n],t[n]),f(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)h(t,n)&&!h(e,n)&&a(t[n])&&(r[n]=f({},r[n]));return r}function A(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,M=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)h(t,e)&&n.push(e);return n};var D={};function R(t,e){var n=t.toLowerCase();D[n]=D[n+"s"]=D[e]=t}function C(t){return"string"==typeof t?D[t]||D[t.toLowerCase()]:void 0}function j(t){var e,n,r={};for(n in t)h(t,n)&&(e=C(n))&&(r[e]=t[n]);return r}var Y={};function N(t,e){Y[t]=e}function B(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},q={};function W(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(q[t]=i),e&&(q[e[0]]=function(){return B(i.apply(this,arguments),e[1],e[2])}),n&&(q[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function U(t,e){return t.isValid()?(e=X(e,t.localeData()),V[e]=V[e]||function(t){var e,n,r,i=t.match(F);for(e=0,n=i.length;e<n;e++)q[i[e]]?i[e]=q[i[e]]:i[e]=(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,o="";for(r=0;r<n;r++)o+=k(i[r])?i[r].call(e,t):i[r];return o}}(e),V[e](t)):t.localeData().invalidDate()}function X(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(H.lastIndex=0;n>=0&&H.test(t);)t=t.replace(H,r),H.lastIndex=0,n-=1;return t}var G=/\d/,z=/\d\d/,Q=/\d{3}/,J=/\d{4}/,K=/[+-]?\d{6}/,Z=/\d\d?/,$=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,et=/\d{1,3}/,nt=/\d{1,4}/,rt=/[+-]?\d{1,6}/,it=/\d+/,ot=/[+-]?\d+/,at=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,ut=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lt={};function ct(t,e,n){lt[t]=k(e)?e:function(t,r){return t&&n?n:e}}function ht(t,e){return h(lt,t)?lt[t](e._strict,e._locale):new RegExp(ft(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})))}function ft(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dt={};function pt(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),u(e)&&(r=function(t,n){n[e]=T(t)}),n=0;n<t.length;n++)dt[t[n]]=r}function _t(t,e){pt(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function mt(t,e,n){null!=e&&h(dt,t)&&dt[t](e,n._a,n,t)}var yt=0,vt=1,gt=2,bt=3,wt=4,xt=5,Tt=6,Et=7,Pt=8;function St(t){return Mt(t)?366:365}function Mt(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),R("year","y"),N("year",1),ct("Y",ot),ct("YY",Z,z),ct("YYYY",nt,J),ct("YYYYY",rt,K),ct("YYYYYY",rt,K),pt(["YYYYY","YYYYYY"],yt),pt("YYYY",function(t,e){e[yt]=2===t.length?i.parseTwoDigitYear(t):T(t)}),pt("YY",function(t,e){e[yt]=i.parseTwoDigitYear(t)}),pt("Y",function(t,e){e[yt]=parseInt(t,10)}),i.parseTwoDigitYear=function(t){return T(t)+(T(t)>68?1900:2e3)};var Ot,It=kt("FullYear",!0);function kt(t,e){return function(n){return null!=n?(At(this,t,n),i.updateOffset(this,e),this):Lt(this,t)}}function Lt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function At(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Mt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Dt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Dt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?Mt(t)?29:28:31-n%7%2}Ot=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),R("month","M"),N("month",8),ct("M",Z),ct("MM",Z,z),ct("MMM",function(t,e){return e.monthsShortRegex(t)}),ct("MMMM",function(t,e){return e.monthsRegex(t)}),pt(["M","MM"],function(t,e){e[vt]=T(t)-1}),pt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[vt]=i:p(n).invalidMonth=t});var Rt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ct="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Yt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=T(e);else if(!u(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Dt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Nt(t){return null!=t?(Yt(this,t),i.updateOffset(this,!0),this):Lt(this,"Month")}var Bt=ut,Ft=ut;function Ht(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=d([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=ft(r[e]),i[e]=ft(i[e]);for(e=0;e<24;e++)o[e]=ft(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Vt(t){var e;if(t<100&&t>=0){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function qt(t,e,n){var r=7+e-n;return-((7+Vt(t,0,r).getUTCDay()-e)%7)+r-1}function Wt(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+qt(t,r,i);return s<=0?a=St(o=t-1)+s:s>St(t)?(o=t+1,a=s-St(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Ut(t,e,n){var r,i,o=qt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+Xt(i=t.year()-1,e,n):a>Xt(t.year(),e,n)?(r=a-Xt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Xt(t,e,n){var r=qt(t,e,n),i=qt(t+1,e,n);return(St(t)-r+i)/7}function Gt(t,e){return t.slice(e,7).concat(t.slice(0,e))}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),N("week",5),N("isoWeek",5),ct("w",Z),ct("ww",Z,z),ct("W",Z),ct("WW",Z,z),_t(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=T(t)}),W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),ct("d",Z),ct("e",Z),ct("E",Z),ct("dd",function(t,e){return e.weekdaysMinRegex(t)}),ct("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ct("dddd",function(t,e){return e.weekdaysRegex(t)}),_t(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:p(n).invalidWeekday=t}),_t(["d","e","E"],function(t,e,n,r){e[r]=T(t)});var zt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Jt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Kt=ut,Zt=ut,$t=ut;function te(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],l=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(t),s.sort(t),u.sort(t),l.sort(t),e=0;e<7;e++)s[e]=ft(s[e]),u[e]=ft(u[e]),l[e]=ft(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ee(){return this.hours()%12||12}function ne(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function re(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,ee),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+ee.apply(this)+B(this.minutes(),2)}),W("hmmss",0,0,function(){return""+ee.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),ne("a",!0),ne("A",!1),R("hour","h"),N("hour",13),ct("a",re),ct("A",re),ct("H",Z),ct("h",Z),ct("k",Z),ct("HH",Z,z),ct("hh",Z,z),ct("kk",Z,z),ct("hmm",$),ct("hmmss",tt),ct("Hmm",$),ct("Hmmss",tt),pt(["H","HH"],bt),pt(["k","kk"],function(t,e,n){var r=T(t);e[bt]=24===r?0:r}),pt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),pt(["h","hh"],function(t,e,n){e[bt]=T(t),p(n).bigHour=!0}),pt("hmm",function(t,e,n){var r=t.length-2;e[bt]=T(t.substr(0,r)),e[wt]=T(t.substr(r)),p(n).bigHour=!0}),pt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[bt]=T(t.substr(0,r)),e[wt]=T(t.substr(r,2)),e[xt]=T(t.substr(i)),p(n).bigHour=!0}),pt("Hmm",function(t,e,n){var r=t.length-2;e[bt]=T(t.substr(0,r)),e[wt]=T(t.substr(r))}),pt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[bt]=T(t.substr(0,r)),e[wt]=T(t.substr(r,2)),e[xt]=T(t.substr(i))});var ie,oe=kt("Hours",!0),ae={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ct,monthsShort:jt,week:{dow:0,doy:6},weekdays:zt,weekdaysMin:Jt,weekdaysShort:Qt,meridiemParse:/[ap]\.?m?\.?/i},se={},ue={};function le(t){return t?t.toLowerCase().replace("_","-"):t}function ce(e){var r=null;if(!se[e]&&void 0!==t&&t&&t.exports)try{r=ie._abbr,n(787)("./"+e),he(r)}catch(t){}return se[e]}function he(t,e){var n;return t&&((n=s(e)?de(t):fe(t,e))?ie=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ie._abbr}function fe(t,e){if(null!==e){var n,r=ae;if(e.abbr=t,null!=se[t])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=se[t]._config;else if(null!=e.parentLocale)if(null!=se[e.parentLocale])r=se[e.parentLocale]._config;else{if(null==(n=ce(e.parentLocale)))return ue[e.parentLocale]||(ue[e.parentLocale]=[]),ue[e.parentLocale].push({name:t,config:e}),null;r=n._config}return se[t]=new A(L(r,e)),ue[t]&&ue[t].forEach(function(t){fe(t.name,t.config)}),he(t),se[t]}return delete se[t],null}function de(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ie;if(!o(t)){if(e=ce(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=le(t[o]).split("-")).length,n=(n=le(t[o+1]))?n.split("-"):null;e>0;){if(r=ce(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&E(i,n,!0)>=e-1)break;e--}o++}return ie}(t)}function pe(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[vt]<0||n[vt]>11?vt:n[gt]<1||n[gt]>Dt(n[yt],n[vt])?gt:n[bt]<0||n[bt]>24||24===n[bt]&&(0!==n[wt]||0!==n[xt]||0!==n[Tt])?bt:n[wt]<0||n[wt]>59?wt:n[xt]<0||n[xt]>59?xt:n[Tt]<0||n[Tt]>999?Tt:-1,p(t)._overflowDayOfYear&&(e<yt||e>gt)&&(e=gt),p(t)._overflowWeeks&&-1===e&&(e=Et),p(t)._overflowWeekday&&-1===e&&(e=Pt),p(t).overflow=e),t}function _e(t,e,n){return null!=t?t:null!=e?e:n}function me(t){var e,n,r,o,a,s=[];if(!t._d){for(r=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[gt]&&null==t._a[vt]&&function(t){var e,n,r,i,o,a,s,u;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=_e(e.GG,t._a[yt],Ut(ke(),1,4).year),r=_e(e.W,1),((i=_e(e.E,1))<1||i>7)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var l=Ut(ke(),o,a);n=_e(e.gg,t._a[yt],l.year),r=_e(e.w,l.week),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o}r<1||r>Xt(n,o,a)?p(t)._overflowWeeks=!0:null!=u?p(t)._overflowWeekday=!0:(s=Wt(n,r,i,o,a),t._a[yt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=_e(t._a[yt],r[yt]),(t._dayOfYear>St(a)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),n=Vt(a,0,t._dayOfYear),t._a[vt]=n.getUTCMonth(),t._a[gt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[bt]&&0===t._a[wt]&&0===t._a[xt]&&0===t._a[Tt]&&(t._nextDay=!0,t._a[bt]=0),t._d=(t._useUTC?Vt:function(t,e,n,r,i,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[bt]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(p(t).weekdayMismatch=!0)}}var ye=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/Z|[+-]\d\d(?::?\d\d)?/,be=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],we=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xe=/^\/?Date\((\-?\d+)/i;function Te(t){var e,n,r,i,o,a,s=t._i,u=ye.exec(s)||ve.exec(s);if(u){for(p(t).iso=!0,e=0,n=be.length;e<n;e++)if(be[e][1].exec(u[1])){i=be[e][0],r=!1!==be[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=we.length;e<n;e++)if(we[e][1].exec(u[3])){o=(u[2]||" ")+we[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!ge.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Me(t)}else t._isValid=!1}var Ee=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var Pe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Se(t){var e=Ee.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(e){var n=function(t,e,n,r,i,o){var a=[function(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}(t),jt.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,n){if(t&&Qt.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return p(n).weekdayMismatch=!0,n._isValid=!1,!1;return!0}(e[1],n,t))return;t._a=n,t._tzm=function(t,e,n){if(t)return Pe[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return 60*((r-i)/100)+i}(e[8],e[9],e[10]),t._d=Vt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function Me(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],p(t).empty=!0;var e,n,r,o,a,s=""+t._i,u=s.length,l=0;for(r=X(t._f,t._locale).match(F)||[],e=0;e<r.length;e++)o=r[e],(n=(s.match(ht(o,t))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&p(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),l+=n.length),q[o]?(n?p(t).empty=!1:p(t).unusedTokens.push(o),mt(o,n,t)):t._strict&&!n&&p(t).unusedTokens.push(o);p(t).charsLeftOver=u-l,s.length>0&&p(t).unusedInput.push(s),t._a[bt]<=12&&!0===p(t).bigHour&&t._a[bt]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[bt]=(c=t._locale,h=t._a[bt],null==(f=t._meridiem)?h:null!=c.meridiemHour?c.meridiemHour(h,f):null!=c.isPM?((d=c.isPM(f))&&h<12&&(h+=12),d||12!==h||(h=0),h):h),me(t),pe(t)}else Se(t);else Te(t);var c,h,f,d}function Oe(t){var e=t._i,n=t._f;return t._locale=t._locale||de(t._l),null===e||void 0===n&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new b(pe(e)):(l(e)?t._d=e:o(n)?function(t){var e,n,r,i,o;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Me(e),_(e)&&(o+=p(e).charsLeftOver,o+=10*p(e).unusedTokens.length,p(e).score=o,(null==r||o<r)&&(r=o,n=e));f(t,n||e)}(t):n?Me(t):function(t){var e=t._i;s(e)?t._d=new Date(i.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=xe.exec(t._i);null===e?(Te(t),!1===t._isValid&&(delete t._isValid,Se(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=c(e.slice(0),function(t){return parseInt(t,10)}),me(t)):a(e)?function(t){if(!t._d){var e=j(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),me(t)}}(t):u(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),_(t)||(t._d=null),t))}function Ie(t,e,n,r,i){var s,u={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||o(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=t,u._f=e,u._strict=r,(s=new b(pe(Oe(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function ke(t,e,n,r){return Ie(t,e,n,r,!1)}i.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Le=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),Ae=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()});function De(t,e){var n,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return ke();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Re=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ce(t){var e=j(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Ot.call(Re,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Re.length;++r)if(t[Re[r]]){if(n)return!1;parseFloat(t[Re[r]])!==T(t[Re[r]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=de(),this._bubble()}function je(t){return t instanceof Ce}function Ye(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ne(t,e){W(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+B(~~(t/60),2)+e+B(~~t%60,2)})}Ne("Z",":"),Ne("ZZ",""),ct("Z",st),ct("ZZ",st),pt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Fe(st,t)});var Be=/([\+\-]|\d\d)/gi;function Fe(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Be)||["-",0,0],i=60*r[1]+T(r[2]);return 0===i?0:"+"===r[0]?i:-i}function He(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(w(t)||l(t)?t.valueOf():ke(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):ke(t).local()}function Ve(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function qe(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var We=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ue=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xe(t,e){var n,r,i,o,a,s,l=t,c=null;return je(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:u(t)?(l={},e?l[e]=t:l.milliseconds=t):(c=We.exec(t))?(n="-"===c[1]?-1:1,l={y:0,d:T(c[gt])*n,h:T(c[bt])*n,m:T(c[wt])*n,s:T(c[xt])*n,ms:T(Ye(1e3*c[Tt]))*n}):(c=Ue.exec(t))?(n="-"===c[1]?-1:1,l={y:Ge(c[2],n),M:Ge(c[3],n),w:Ge(c[4],n),d:Ge(c[5],n),h:Ge(c[6],n),m:Ge(c[7],n),s:Ge(c[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=ke(l.from),a=ke(l.to),i=o.isValid()&&a.isValid()?(a=He(a,o),o.isBefore(a)?s=ze(o,a):((s=ze(a,o)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(l={}).ms=i.milliseconds,l.M=i.months),r=new Ce(l),je(t)&&h(t,"_locale")&&(r._locale=t._locale),r}function Ge(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ze(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Qe(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(I(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Je(this,Xe(n="string"==typeof n?+n:n,r),t),this}}function Je(t,e,n,r){var o=e._milliseconds,a=Ye(e._days),s=Ye(e._months);t.isValid()&&(r=null==r||r,s&&Yt(t,Lt(t,"Month")+s*n),a&&At(t,"Date",Lt(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&i.updateOffset(t,a||s))}Xe.fn=Ce.prototype,Xe.invalid=function(){return Xe(NaN)};var Ke=Qe(1,"add"),Ze=Qe(-1,"subtract");function $e(t,e){var n,r=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(r,"months");return e-i<0?n=(e-i)/(i-t.clone().add(r-1,"months")):n=(e-i)/(t.clone().add(r+1,"months")-i),-(r+n)||0}function tn(t){var e;return void 0===t?this._locale._abbr:(null!=(e=de(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function nn(){return this._locale}var rn=126227808e5;function on(t,e){return(t%e+e)%e}function an(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-rn:new Date(t,e,n).valueOf()}function sn(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-rn:Date.UTC(t,e,n)}function un(t,e){W(0,[t,t.length],0,e)}function ln(t,e,n,r,i){var o;return null==t?Ut(this,r,i).year:(e>(o=Xt(t,r,i))&&(e=o),function(t,e,n,r,i){var o=Wt(t,e,n,r,i),a=Vt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,r,i))}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),un("gggg","weekYear"),un("ggggg","weekYear"),un("GGGG","isoWeekYear"),un("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),ct("G",ot),ct("g",ot),ct("GG",Z,z),ct("gg",Z,z),ct("GGGG",nt,J),ct("gggg",nt,J),ct("GGGGG",rt,K),ct("ggggg",rt,K),_t(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=T(t)}),_t(["gg","GG"],function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),R("quarter","Q"),N("quarter",7),ct("Q",G),pt("Q",function(t,e){e[vt]=3*(T(t)-1)}),W("D",["DD",2],"Do","date"),R("date","D"),N("date",9),ct("D",Z),ct("DD",Z,z),ct("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),pt(["D","DD"],gt),pt("Do",function(t,e){e[gt]=T(t.match(Z)[0])});var cn=kt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),N("dayOfYear",4),ct("DDD",et),ct("DDDD",Q),pt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=T(t)}),W("m",["mm",2],0,"minute"),R("minute","m"),N("minute",14),ct("m",Z),ct("mm",Z,z),pt(["m","mm"],wt);var hn=kt("Minutes",!1);W("s",["ss",2],0,"second"),R("second","s"),N("second",15),ct("s",Z),ct("ss",Z,z),pt(["s","ss"],xt);var fn,dn=kt("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),N("millisecond",16),ct("S",et,G),ct("SS",et,z),ct("SSS",et,Q),fn="SSSS";fn.length<=9;fn+="S")ct(fn,it);function pn(t,e){e[Tt]=T(1e3*("0."+t))}for(fn="S";fn.length<=9;fn+="S")pt(fn,pn);var _n=kt("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var mn=b.prototype;function yn(t){return t}mn.add=Ke,mn.calendar=function(t,e){var n=t||ke(),r=He(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=e&&(k(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,ke(n)))},mn.clone=function(){return new b(this)},mn.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=He(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=C(e)){case"year":o=$e(this,r)/12;break;case"month":o=$e(this,r);break;case"quarter":o=$e(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:x(o)},mn.endOf=function(t){var e;if(void 0===(t=C(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?sn:an;switch(t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-on(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-on(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-on(e,1e3)-1}return this._d.setTime(e),i.updateOffset(this,!0),this},mn.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=U(this,t);return this.localeData().postformat(e)},mn.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||ke(t).isValid())?Xe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},mn.fromNow=function(t){return this.from(ke(),t)},mn.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||ke(t).isValid())?Xe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},mn.toNow=function(t){return this.to(ke(),t)},mn.get=function(t){return k(this[t=C(t)])?this[t]():this},mn.invalidAt=function(){return p(this).overflow},mn.isAfter=function(t,e){var n=w(t)?t:ke(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=C(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},mn.isBefore=function(t,e){var n=w(t)?t:ke(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=C(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},mn.isBetween=function(t,e,n,r){var i=w(t)?t:ke(t),o=w(e)?e:ke(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},mn.isSame=function(t,e){var n,r=w(t)?t:ke(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=C(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},mn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},mn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},mn.isValid=function(){return _(this)},mn.lang=en,mn.locale=tn,mn.localeData=nn,mn.max=Ae,mn.min=Le,mn.parsingFlags=function(){return f({},p(this))},mn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:Y[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=j(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(k(this[t=C(t)]))return this[t](e);return this},mn.startOf=function(t){var e;if(void 0===(t=C(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?sn:an;switch(t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=on(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=on(e,6e4);break;case"second":e=this._d.valueOf(),e-=on(e,1e3)}return this._d.setTime(e),i.updateOffset(this,!0),this},mn.subtract=Ze,mn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},mn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},mn.toDate=function(){return new Date(this.valueOf())},mn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?U(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},mn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},mn.toJSON=function(){return this.isValid()?this.toISOString():null},mn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},mn.unix=function(){return Math.floor(this.valueOf()/1e3)},mn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},mn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},mn.year=It,mn.isLeapYear=function(){return Mt(this.year())},mn.weekYear=function(t){return ln.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},mn.isoWeekYear=function(t){return ln.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},mn.quarter=mn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},mn.month=Nt,mn.daysInMonth=function(){return Dt(this.year(),this.month())},mn.week=mn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},mn.isoWeek=mn.isoWeeks=function(t){var e=Ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},mn.weeksInYear=function(){var t=this.localeData()._week;return Xt(this.year(),t.dow,t.doy)},mn.isoWeeksInYear=function(){return Xt(this.year(),1,4)},mn.date=cn,mn.day=mn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},mn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},mn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},mn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},mn.hour=mn.hours=oe,mn.minute=mn.minutes=hn,mn.second=mn.seconds=dn,mn.millisecond=mn.milliseconds=_n,mn.utcOffset=function(t,e,n){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Fe(st,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Ve(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?Je(this,Xe(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ve(this)},mn.utc=function(t){return this.utcOffset(0,t)},mn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ve(this),"m")),this},mn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Fe(at,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},mn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ke(t).utcOffset():0,(this.utcOffset()-t)%60==0)},mn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},mn.isLocal=function(){return!!this.isValid()&&!this._isUTC},mn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},mn.isUtc=qe,mn.isUTC=qe,mn.zoneAbbr=function(){return this._isUTC?"UTC":""},mn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},mn.dates=S("dates accessor is deprecated. Use date instead.",cn),mn.months=S("months accessor is deprecated. Use month instead",Nt),mn.years=S("years accessor is deprecated. Use year instead",It),mn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),mn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Oe(t))._a){var e=t._isUTC?d(t._a):ke(t._a);this._isDSTShifted=this.isValid()&&E(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var vn=A.prototype;function gn(t,e,n,r){var i=de(),o=d().set(r,e);return i[n](o,t)}function bn(t,e,n){if(u(t)&&(e=t,t=void 0),t=t||"",null!=e)return gn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=gn(t,r,n,"month");return i}function wn(t,e,n,r){"boolean"==typeof t?(u(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,u(e)&&(n=e,e=void 0),e=e||"");var i,o=de(),a=t?o._week.dow:0;if(null!=n)return gn(e,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=gn(e,(i+a)%7,r,"day");return s}vn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return k(r)?r.call(e,n):r},vn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},vn.invalidDate=function(){return this._invalidDate},vn.ordinal=function(t){return this._ordinal.replace("%d",t)},vn.preparse=yn,vn.postformat=yn,vn.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return k(i)?i(t,e,n,r):i.replace(/%d/i,t)},vn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return k(n)?n(e):n.replace(/%s/i,e)},vn.set=function(t){var e,n;for(n in t)k(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},vn.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Rt).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},vn.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Rt.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},vn.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=Ot.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ot.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=Ot.call(this._shortMonthsParse,a))?i:-1!==(i=Ot.call(this._longMonthsParse,a))?i:null:-1!==(i=Ot.call(this._longMonthsParse,a))?i:-1!==(i=Ot.call(this._shortMonthsParse,a))?i:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},vn.monthsRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Ft),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},vn.monthsShortRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Bt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},vn.week=function(t){return Ut(t,this._week.dow,this._week.doy).week},vn.firstDayOfYear=function(){return this._week.doy},vn.firstDayOfWeek=function(){return this._week.dow},vn.weekdays=function(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Gt(n,this._week.dow):t?n[t.day()]:n},vn.weekdaysMin=function(t){return!0===t?Gt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},vn.weekdaysShort=function(t){return!0===t?Gt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},vn.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=Ot.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Ot.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ot.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=Ot.call(this._weekdaysParse,a))?i:-1!==(i=Ot.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ot.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Ot.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ot.call(this._weekdaysParse,a))?i:-1!==(i=Ot.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ot.call(this._minWeekdaysParse,a))?i:-1!==(i=Ot.call(this._weekdaysParse,a))?i:-1!==(i=Ot.call(this._shortWeekdaysParse,a))?i:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},vn.weekdaysRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Kt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},vn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Zt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},vn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},vn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},vn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},he("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===T(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=S("moment.lang is deprecated. Use moment.locale instead.",he),i.langData=S("moment.langData is deprecated. Use moment.localeData instead.",de);var xn=Math.abs;function Tn(t,e,n,r){var i=Xe(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function En(t){return t<0?Math.floor(t):Math.ceil(t)}function Pn(t){return 4800*t/146097}function Sn(t){return 146097*t/4800}function Mn(t){return function(){return this.as(t)}}var On=Mn("ms"),In=Mn("s"),kn=Mn("m"),Ln=Mn("h"),An=Mn("d"),Dn=Mn("w"),Rn=Mn("M"),Cn=Mn("Q"),jn=Mn("y");function Yn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Nn=Yn("milliseconds"),Bn=Yn("seconds"),Fn=Yn("minutes"),Hn=Yn("hours"),Vn=Yn("days"),qn=Yn("months"),Wn=Yn("years"),Un=Math.round,Xn={ss:44,s:45,m:45,h:22,d:26,M:11},Gn=Math.abs;function zn(t){return(t>0)-(t<0)||+t}function Qn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Gn(this._milliseconds)/1e3,r=Gn(this._days),i=Gn(this._months);t=x(n/60),e=x(t/60),n%=60,t%=60;var o=x(i/12),a=i%=12,s=r,u=e,l=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var f=h<0?"-":"",d=zn(this._months)!==zn(h)?"-":"",p=zn(this._days)!==zn(h)?"-":"",_=zn(this._milliseconds)!==zn(h)?"-":"";return f+"P"+(o?d+o+"Y":"")+(a?d+a+"M":"")+(s?p+s+"D":"")+(u||l||c?"T":"")+(u?_+u+"H":"")+(l?_+l+"M":"")+(c?_+c+"S":"")}var Jn=Ce.prototype;return Jn.isValid=function(){return this._isValid},Jn.abs=function(){var t=this._data;return this._milliseconds=xn(this._milliseconds),this._days=xn(this._days),this._months=xn(this._months),t.milliseconds=xn(t.milliseconds),t.seconds=xn(t.seconds),t.minutes=xn(t.minutes),t.hours=xn(t.hours),t.months=xn(t.months),t.years=xn(t.years),this},Jn.add=function(t,e){return Tn(this,t,e,1)},Jn.subtract=function(t,e){return Tn(this,t,e,-1)},Jn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=C(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+Pn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Sn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Jn.asMilliseconds=On,Jn.asSeconds=In,Jn.asMinutes=kn,Jn.asHours=Ln,Jn.asDays=An,Jn.asWeeks=Dn,Jn.asMonths=Rn,Jn.asQuarters=Cn,Jn.asYears=jn,Jn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12):NaN},Jn._bubble=function(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*En(Sn(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=x(o/1e3),u.seconds=t%60,e=x(t/60),u.minutes=e%60,n=x(e/60),u.hours=n%24,a+=x(n/24),s+=i=x(Pn(a)),a-=En(Sn(i)),r=x(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},Jn.clone=function(){return Xe(this)},Jn.get=function(t){return t=C(t),this.isValid()?this[t+"s"]():NaN},Jn.milliseconds=Nn,Jn.seconds=Bn,Jn.minutes=Fn,Jn.hours=Hn,Jn.days=Vn,Jn.weeks=function(){return x(this.days()/7)},Jn.months=qn,Jn.years=Wn,Jn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var r=Xe(t).abs(),i=Un(r.as("s")),o=Un(r.as("m")),a=Un(r.as("h")),s=Un(r.as("d")),u=Un(r.as("M")),l=Un(r.as("y")),c=i<=Xn.ss&&["s",i]||i<Xn.s&&["ss",i]||o<=1&&["m"]||o<Xn.m&&["mm",o]||a<=1&&["h"]||a<Xn.h&&["hh",a]||s<=1&&["d"]||s<Xn.d&&["dd",s]||u<=1&&["M"]||u<Xn.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=n,function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}.apply(null,c)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Jn.toISOString=Qn,Jn.toString=Qn,Jn.toJSON=Qn,Jn.locale=tn,Jn.localeData=nn,Jn.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qn),Jn.lang=en,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ct("x",ot),ct("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),pt("x",function(t,e,n){n._d=new Date(T(t))}),i.version="2.24.0",e=ke,i.fn=mn,i.min=function(){return De("isBefore",[].slice.call(arguments,0))},i.max=function(){return De("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=d,i.unix=function(t){return ke(1e3*t)},i.months=function(t,e){return bn(t,e,"months")},i.isDate=l,i.locale=he,i.invalid=m,i.duration=Xe,i.isMoment=w,i.weekdays=function(t,e,n){return wn(t,e,n,"weekdays")},i.parseZone=function(){return ke.apply(null,arguments).parseZone()},i.localeData=de,i.isDuration=je,i.monthsShort=function(t,e){return bn(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return wn(t,e,n,"weekdaysMin")},i.defineLocale=fe,i.updateLocale=function(t,e){if(null!=e){var n,r,i=ae;null!=(r=ce(t))&&(i=r._config),(n=new A(e=L(i,e))).parentLocale=se[t],se[t]=n,he(t)}else null!=se[t]&&(null!=se[t].parentLocale?se[t]=se[t].parentLocale:null!=se[t]&&delete se[t]);return se[t]},i.locales=function(){return M(se)},i.weekdaysShort=function(t,e,n){return wn(t,e,n,"weekdaysShort")},i.normalizeUnits=C,i.relativeTimeRounding=function(t){return void 0===t?Un:"function"==typeof t&&(Un=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==Xn[t]&&(void 0===e?Xn[t]:(Xn[t]=e,"s"===t&&(Xn.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=mn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,n(76)(t))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return i});var i=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:PIXI.Texture.EMPTY;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=e,this._group=n,this._name=r,this._icon=i}var e,n;return e=t,(n=[{key:"id",get:function(){return this._id}},{key:"group",get:function(){return this._group}},{key:"name",get:function(){return this._name}},{key:"icon",get:function(){return this._icon}}])&&r(e.prototype,n),t}();i.FACE_THE_GOLDEN_DRAGON=0,i.XP_LEVEL1=1,i.XP_LEVEL2=2,i.XP_LEVEL3=3,i.XP_LEVEL4=4,i.XP_LEVEL5=5,i.XP_LEVEL6=6,i.XP_LEVEL7=7,i.COMPLETE_TWO_TOPIC_DAY=10,i.ANSWER_QUESTIONS_LEVEL1=20,i.ANSWER_QUESTIONS_LEVEL2=21,i.COMPLETE_CHALLENGES_LEVEL1=30,i.COMPLETE_CHALLENGES_LEVEL2=31,i.COMPLETE_CHALLENGES_LEVEL3=32,i.COMPLETE_CHALLENGES_LEVEL4=33,i.COMPLETE_CHALLENGES_LEVEL5=34,i.COMPLETE_DRAGON_LEVEL1=40,i.COMPLETE_DRAGON_LEVEL2=41,i.COMPLETE_DRAGON_LEVEL3=42,i.COMPLETE_DRAGON_LEVEL4=43,i.COMPLETE_DRAGON_LEVEL5=44,i.COMPLETE_HOBGOBLIN_LEVEL1=50,i.COMPLETE_HOBGOBLIN_LEVEL2=51,i.COMPLETE_HOBGOBLIN_LEVEL3=52,i.COMPLETE_HOBGOBLIN_LEVEL4=53,i.COMPLETE_HOBGOBLIN_LEVEL5=54,i.COMPLETE_MAGE_LEVEL1=60,i.COMPLETE_MAGE_LEVEL2=61,i.COMPLETE_MAGE_LEVEL3=62,i.COMPLETE_MAGE_LEVEL4=63,i.COMPLETE_MAGE_LEVEL5=64,i.COMPLETE_SPIDER_LEVEL1=70,i.COMPLETE_SPIDER_LEVEL2=71,i.COMPLETE_SPIDER_LEVEL3=72,i.COMPLETE_SPIDER_LEVEL4=73,i.COMPLETE_SPIDER_LEVEL5=74,i.COMPLETE_SPIRIT_LEVEL1=80,i.COMPLETE_SPIRIT_LEVEL2=81,i.COMPLETE_SPIRIT_LEVEL3=82,i.COMPLETE_SPIRIT_LEVEL4=83,i.COMPLETE_SPIRIT_LEVEL5=84,i.COMPLETE_TROLL_LEVEL1=90,i.COMPLETE_TROLL_LEVEL2=91,i.COMPLETE_TROLL_LEVEL3=92,i.COMPLETE_TROLL_LEVEL4=93,i.COMPLETE_TROLL_LEVEL5=94,i.UNLOCK_ALL_BRACELETS=100,i.UNLOCK_ALL_AMULETS=110,i.UNLOCK_ALL_BELTS=120,i.UNLOCK_ALL_CLOAKS=130,i.UNLOCK_ALL_FEATHERS=140,i.UNLOCK_ALL_PURSES=150,i.UNLOCK_ALL_SHIELDS=160,i.UNLOCK_ALL_PETS=170},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={down:new P3.utils.MiniSignal,up:new P3.utils.MiniSignal,over:new P3.utils.MiniSignal,out:new P3.utils.MiniSignal,click:new P3.utils.MiniSignal,animate:new P3.utils.MiniSignal},this.animate=!0,this.animateIcon=!0,this.animateOverScale=1.1,this.animateDownScale=.9,this.animateIconOverScale=1.2,this.enabled=!0,this.upSoundName=null,this.overSoundName=null,this.downSoundName=null,this.clickSoundName=null,this.voSoundName=null,this._states=e,this._currentNormalTexture=this._states.normal,this._currentOverTexture=this._states.over,this._currentDownTexture=this._states.down,this._currentIconTexture=this._states.icon,this._currentIconOverTexture=this._states.iconOver,this._currentIconDownTexture=this._states.iconDown,this._tweens={},this._position="",this._scale=1,this._tabIndex=-1,this._ariaLabel="",this._resizeFunction=null,this._resizeListener=null;var r=PIXI.utils.isMobile.any?64:70,i=this._currentNormalTexture?Math.max(r,this._currentNormalTexture.frame.width):r,o=this._currentNormalTexture?Math.max(r,this._currentNormalTexture.frame.height):r;this._htmlElement=$("<div/>"),this._htmlElement.scale=1,this._htmlElement.css({position:"absolute",width:i+"px",height:o+"px",padding:"0px",cursor:"pointer"}),this._background=$("<button type='button'>"),this._background.css({position:"absolute","background-color":"transparent",border:"none",outline:"none",cursor:"inherit"}),this._htmlElement.append(this._background),this.setTexture(this._currentNormalTexture),this._icon=$("<div/>"),this._icon.scale=1,this._icon.css({position:"absolute","background-color":"transparent","pointer-events":"none"}),this._htmlElement.append(this._icon),this.setIconTexture(this._currentIconTexture),this._text=$("<div/>"),this._text.css({position:"absolute",width:"100%",height:"100%","text-align":"center","pointer-events":"none"}),this._htmlElement.append(this._text),PIXI.utils.isMobile.any?(this._htmlElement.on("touchstart",function(t){return n.onMouseDown(t)}),this._htmlElement.on("touchend",function(t){return n.onMouseUp(t)})):(this._htmlElement.mousedown(function(t){return n.onMouseDown(t)}),this._htmlElement.mouseup(function(t){return n.onMouseUp(t)}),this._htmlElement.click(function(t){return n.onMouseClick(t)}),this._htmlElement.mouseover(function(t){return n.onMouseOver(t)}),this._htmlElement.mouseout(function(t){return n.onMouseOut(t)})),this._htmlElement.focusin(function(t){return n.onFocusIn(t)}),this._htmlElement.focusout(function(t){return n.onFocusOut(t)}),$("#"+P3.View.holder.id).append(this._htmlElement)}var e,n,o;return e=t,o=[{key:"create",value:function(e,n,r,i){return new t(new P3.ButtonStates(e,n,r,i))}}],(n=[{key:"destroy",value:function(){this._htmlElement.remove(),this._resizeListener&&(r.a.view.signals.resize.detach(this._resizeListener,this),this._resizeListener=null)}},{key:"onMouseDown",value:function(t){this._states.down&&this.setTexture(this._currentDownTexture),this._states.iconDown&&this.setTexture(this._currentIconDownTexture),this.animate&&(this.stopAnimations(),this._tweens.down=this.animateDown()),t.preventDefault(),this._background.css("outline","none"),this.enabled&&this.signals.down.dispatch(this,t)}},{key:"onMouseUp",value:function(t){this.setTexture(this._currentNormalTexture),this._states.iconOver&&!PIXI.utils.isMobile.any?this.setIconTexture(this._currentIconOverTexture):this._states.icon&&this.setIconTexture(this._currentIconTexture),this.animate&&this._tweens.down&&(this.stopAnimations(),PIXI.utils.isMobile.any?this._tweens.out=this.animateOut():this._tweens.over=this.animateOver()),t.preventDefault(),this.upSoundName&&P3.audio.playSound(this.upSoundName),this.enabled&&this.signals.up.dispatch(this,t),PIXI.utils.isMobile.any&&this.onMouseClick(t)}},{key:"onMouseOver",value:function(t){this._states.over&&this.setTexture(this._currentOverTexture),this._states.iconOver&&this.setIconTexture(this._currentIconOverTexture),this.animate&&!PIXI.utils.isMobile.any&&(this.stopAnimations(),this._tweens.over=this.animateOver()),this.animateIcon&&!PIXI.utils.isMobile.any&&(this._tweens.iconOver=this.animateIconOver()),this.overSoundName&&P3.audio.playSound(this.overSoundName),this.voSoundName&&P3.audio.playButtonVO(this.voSoundName),this.enabled&&this.signals.over.dispatch(this,t)}},{key:"onMouseOut",value:function(t){this.setTexture(this._currentNormalTexture),this._states.icon&&this.setIconTexture(this._currentIconTexture),this.stopAnimations(),this._tweens.out=this.animateOut(),this._tweens.iconOut=this.animateIconOut(),this.upSoundName&&P3.audio.playSound(this.upSoundName),this.enabled&&this.signals.out.dispatch(this,t)}},{key:"onMouseClick",value:function(t){this.clickSoundName&&P3.audio.playSound(this.clickSoundName),this.enabled&&this.signals.click.dispatch(this,t)}},{key:"onFocusIn",value:function(t){this._background.css("outline","2px solid #5E9ED6"),this.onMouseOver(null)}},{key:"onFocusOut",value:function(t){this._background.css("outline","none"),this.onMouseOut(null)}},{key:"animateOver",value:function(){var t=this;return"undefined"!=typeof TweenMax?TweenMax.to(this._htmlElement,.6,{scaleX:this.animateOverScale,scaleY:this.animateOverScale,ease:Elastic.easeOut,easeParams:[1],onComplete:function(){this.signals.animate.dispatch(this,"over")},onCompleteScope:this}):new P3.utils.TWEEN.Tween(this._htmlElement).to({scale:this.animateOverScale},600).easing(P3.utils.TWEEN.Easing.Elastic.Out).onUpdate(function(){t._htmlElement.css("transform","scale("+t._htmlElement.scale*t._scale+")")}).onComplete(function(){t.signals.animate.dispatch(t,"over")}).start()}},{key:"animateOut",value:function(){var t=this;return"undefined"!=typeof TweenMax?TweenMax.to(this._htmlElement,.3,{scaleX:1,scaleY:1,ease:Back.easeInOut,easeParams:[2],onComplete:function(){this.signals.animate.dispatch(this,"out")},onCompleteScope:this}):new P3.utils.TWEEN.Tween(this._htmlElement).to({scale:1},300).easing(P3.utils.Easing.Back2.InOut).onUpdate(function(){t._htmlElement.css("transform","scale("+t._htmlElement.scale*t._scale+")")}).onComplete(function(){t.signals.animate.dispatch(t,"out")}).start()}},{key:"animateDown",value:function(){var t=this;return"undefined"!=typeof TweenMax?TweenMax.to(this._htmlElement,.14,{scaleX:this.animateDownScale,scaleY:this.animateDownScale,ease:Back.easeOut,easeParams:[1],onComplete:function(){this.signals.animate.dispatch(this,"down")},onCompleteScope:this}):new P3.utils.TWEEN.Tween(this._htmlElement).to({scale:this.animateDownScale},140).easing(P3.utils.TWEEN.Easing.Back.Out).onUpdate(function(){t._htmlElement.css("transform","scale("+t._htmlElement.scale*t._scale+")")}).onComplete(function(){t.signals.animate.dispatch(t,"down")}).start()}},{key:"animateIconOver",value:function(){var t=this;return"undefined"!=typeof TweenMax?TweenMax.to(this._icon,.8,{scaleX:this.animateIconOverScale,scaleY:this.animateIconOverScale,ease:Elastic.easeOut,easeParams:[1.6]}):new P3.utils.TWEEN.Tween(this._icon).to({scale:this.animateIconOverScale},800).easing(function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(8*(t-.04)*Math.PI)+1}).onUpdate(function(){t._icon.css("transform","scale("+t._icon.scale+")")}).start()}},{key:"animateIconOut",value:function(){var t=this;return"undefined"!=typeof TweenMax?TweenMax.to(this._icon,.34,{scaleX:1,scaleY:1,ease:Power1.easeInOut}):new P3.utils.TWEEN.Tween(this._icon).to({scale:1},340).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onUpdate(function(){t._icon.css("transform","scale("+t._icon.scale+")")}).start()}},{key:"stopAnimations",value:function(){if("undefined"!=typeof TweenMax){for(var t in this._tweens)this._tweens.hasOwnProperty(t)&&this._tweens[t].kill();this._tweens={}}else{for(var e in this._tweens)this._tweens.hasOwnProperty(e)&&this._tweens[e].stop();this._tweens={}}}},{key:"setTexture",value:function(t){var e=t.frame.x,n=t.frame.y,r=t.frame.width,i=t.frame.height,o=t.baseTexture.imageUrl;this._background.css({left:.5*(this._htmlElement.width()-r)+"px",top:.5*(this._htmlElement.height()-i)+"px",width:r+"px",height:i+"px","background-image":"url("+o+")","background-position":-e+"px "+-n+"px"})}},{key:"setIconTexture",value:function(t){if(t){var e=t.frame.x,n=t.frame.y,r=t.frame.width,i=t.frame.height,o=t.baseTexture.imageUrl;this._icon.css({left:.5*(this._htmlElement.width()-r)+"px",top:.5*(this._htmlElement.height()-i)+"px",width:r+"px",height:i+"px","background-image":"url("+o+")","background-position":-e+"px "+-n+"px"})}else this._icon.css("background-image","none")}},{key:"setText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"white";this._text.html(t),this._text.css({"font-family":"BBC Reith Sans","font-size":e+"px",color:n}),this._text.css({"line-height":this._htmlElement.height()+"px"})}},{key:"setResizeFunction",value:function(t){this._resizeListener&&r.a.view.signals.resize.detach(this._resizeFunction,this),this._resizeFunction&&(this._resizeFunction=t,this._resizeListener=r.a.view.signals.resize.add(this._resizeFunction,this)),t&&t.call()}},{key:"resizeForDesktopWindowSize",value:function(){if(!PIXI.utils.isMobile.any){if($("#"+P3.View.holder.id).width()<770)return this.scale=.656,!0;this.scale=1}return!1}},{key:"getBottomPadding",value:function(){return $("#"+P3.View.holder.id).width()<=568?"32px":"4%"}},{key:"setStates",value:function(t){this._states=t.clone(),this.setTexture(this._states.normal),this.setIconTexture(this._states.icon),this._currentNormalTexture=this._states.normal,this._currentOverTexture=this._states.over,this._currentDownTexture=this._states.down,this._currentIconTexture=this._states.icon,this._currentIconOverTexture=this._states.iconOver,this._currentIconDownTexture=this._states.iconDown}},{key:"restoreTabIndex",value:function(){this._background.attr("tabIndex",this._tabIndex)}},{key:"states",get:function(){return this._states.clone()}},{key:"currentNormalTexture",get:function(){return this._currentNormalTexture}},{key:"currentOverTexture",get:function(){return this._currentOverTexture}},{key:"currentDownTexture",get:function(){return this._currentDownTexture}},{key:"position",get:function(){return this._position},set:function(e){var n=this,r=this._htmlElement.width(),i=this._htmlElement.height();switch(this._position=e,e){default:this._htmlElement.css({left:"auto",right:"auto",top:"auto",bottom:"auto",margin:"auto"}),this.setResizeFunction(null);break;case t.POSITION_BOTTOM_LEFT:this._htmlElement.css({left:"4%",right:"auto",top:"auto",bottom:"4%",margin:"auto","margin-left":"0px","margin-top":"0px"}),this.setResizeFunction(function(){n.resizeForDesktopWindowSize()?n._htmlElement.css("left","-1%"):n._htmlElement.css("left","4%")});break;case t.POSITION_BOTTOM_RIGHT:this._htmlElement.css({left:"auto",right:"4%",top:"auto",bottom:PIXI.utils.isMobile.any?"3%":"4%",margin:"auto","margin-left":"0px","margin-top":"0px"}),this.setResizeFunction(function(){n.resizeForDesktopWindowSize()?n._htmlElement.css("right","-1%"):n._htmlElement.css("right","4%")});break;case t.POSITION_TOP_LEFT:this._htmlElement.css({left:"2%",right:"auto",top:.02*$(window).height()+"px",bottom:"auto",margin:"auto","margin-left":"0px","margin-top":"0px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_TOP_RIGHT_FIRST:this._htmlElement.css({left:"auto",right:"2%",top:.02*$(window).height()+"px",bottom:"auto",margin:"auto","margin-left":"0px","margin-top":"0px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_TOP_RIGHT_SECOND:this._htmlElement.css({left:"auto",right:"2%",top:.02*$(window).height()+"px",bottom:"auto",margin:"auto"}),this.setResizeFunction(function(){var t=n.resizeForDesktopWindowSize(),e=n._htmlElement.width();PIXI.utils.isMobile.any||t||(e+=24-(n._htmlElement.width()-n._background.width())),n._htmlElement.css("right","2%").css("right","+="+e+"px")});break;case t.POSITION_TOP_RIGHT_THIRD:this._htmlElement.css({left:"auto",right:"2%",top:.02*$(window).height()+"px",bottom:"auto",margin:"auto"}),this.setResizeFunction(function(){var t=n.resizeForDesktopWindowSize(),e=2*n._htmlElement.width();PIXI.utils.isMobile.any||t||(e+=24-(n._htmlElement.width()-n._background.width()),e+=24-(n._htmlElement.width()-n._background.width())),n._htmlElement.css("right","2%").css("right","+="+e+"px")});break;case t.POSITION_TOP_RIGHT_FOURTH:this._htmlElement.css({left:"auto",right:"2%",top:.02*$(window).height()+"px",bottom:"auto",margin:"auto"}),this.setResizeFunction(function(){var t=n.resizeForDesktopWindowSize(),e=3*n._htmlElement.width();PIXI.utils.isMobile.any||t||(e+=24-(n._htmlElement.width()-n._htmlElement.button.width()),e+=24-(n._htmlElement.width()-n._htmlElement.button.width()),e+=24-(n._htmlElement.width()-n._htmlElement.button.width())),n._htmlElement.css("right","2%").css("right","+="+e+"px")});break;case t.POSITION_LEFT:this._htmlElement.css({left:"2%",right:"auto",top:"50%",bottom:"auto",margin:"auto","margin-left":"0px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_RIGHT:this._htmlElement.css({left:"auto",right:"2%",top:"50%",bottom:"auto",margin:"auto","margin-left":"0px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_MIDDLE:this._htmlElement.css({left:"50%",right:"auto",top:"50%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_MIDDLE_LOW:this._htmlElement.css({left:"50%",right:"auto",top:"74%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_MIDDLE_THREE_LEFT:this._htmlElement.css({left:"50%",right:"right",top:"50%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){if(!(P3.View.width<P3.View.height)){var t=n.resizeForDesktopWindowSize(),e=PIXI.utils.isMobile.any||t?110:170;n._htmlElement.css("left","50%").css("left","-="+e+"px")}});break;case t.POSITION_MIDDLE_THREE_RIGHT:this._htmlElement.css({left:"50%",right:"auto",top:"50%",bottom:"auto",marin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){if(!(P3.View.width<P3.View.height)){var t=n.resizeForDesktopWindowSize(),e=PIXI.utils.isMobile.any||t?110:170;n._htmlElement.css("left","50%").css("left","+="+e+"px")}});break;case t.POSITION_MIDDLE_TWO_LEFT:this._htmlElement.css({left:"50%",right:"auto",top:"50%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){var t=n.resizeForDesktopWindowSize(),e=PIXI.utils.isMobile.any||t?75:150;n._htmlElement.css("left","50%").css("left","-="+e+"px")});break;case t.POSITION_MIDDLE_TWO_RIGHT:this._htmlElement.css({left:"50%",right:"auto",top:"50%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){var t=n.resizeForDesktopWindowSize(),e=PIXI.utils.isMobile.any||t?75:150;n._htmlElement.css("left","50%").css("left","+="+e+"px")});break;case t.POSITION_MIDDLE_LEVEL:this._htmlElement.css({left:"50%",right:"auto",top:"45%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_MIDDLE_LEVEL_DOWN:this._htmlElement.css({left:"50%",right:"auto",top:"85%",bottom:"auto",margin:"margin","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_MIDDLE_LEVEL_LEFT:this._htmlElement.css({left:"auto",right:"auto",top:"60%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){n.resizeForDesktopWindowSize();var t=240/P3.View.width,e=$(window).width()*t;n._htmlElement.css("left","50%").css("left","-="+e+"px")});break;case t.POSITION_MIDDLE_LEVEL_RIGHT:this._htmlElement.css({left:"auto",right:"auto",top:"60%",bottom:"auto",margin:"margin","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){n.resizeForDesktopWindowSize();var t=240/P3.View.width,e=$(window).width()*t;n._htmlElement.css("left","50%").css("left","+="+e+"px")});break;case t.POSITION_LOW_TWO_LEFT:this._htmlElement.css({left:"50%",right:"auto",top:"auto",bottom:PIXI.utils.isMobile.any?"15px":"52px",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){var t=n.resizeForDesktopWindowSize(),e=PIXI.utils.isMobile.any||t?110:140;n._htmlElement.css("left","50%").css("left","-="+e+"px")});break;case t.POSITION_LOW_TWO_CENTER:this._htmlElement.css({left:"50%",right:"auto",top:PIXI.utils.isMobile.any?"70%":"66%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_LOW_TWO_RIGHT:this._htmlElement.css({left:"50%",right:"auto",top:"auto",bottom:PIXI.utils.isMobile.any?"15px":"52px",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){var t=n.resizeForDesktopWindowSize(),e=PIXI.utils.isMobile.any||t?110:140;n._htmlElement.css("left","50%").css("left","+="+e+"px")});break;case t.POSITION_SETTINGS_CLOSE:this._htmlElement.css({left:"auto",right:(PIXI.utils.isMobile.any?0:14)+"px",top:(PIXI.utils.isMobile.any?0:14)+"px",bottom:"auto",margin:"auto","margin-left":"0px","margin-top":"0px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_USER_SLOT_ONE:this._htmlElement.css({left:"50%",right:"auto",top:"40%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_USER_SLOT_TWO:this._htmlElement.css({left:"50%",right:"auto",top:"54%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_USER_SLOT_THREE:this._htmlElement.css({left:"50%",right:"auto",top:"68%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_PAUSE_PLAY:this._htmlElement.css({left:"50%",right:"auto",top:"64%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()});break;case t.POSITION_PAUSE_RESTART:this._htmlElement.css({left:"50%",right:"auto",top:"44%",bottom:"auto",margin:"auto","margin-left":.5*-r+"px","margin-top":.5*-i+"px"}),this.setResizeFunction(function(){return n.resizeForDesktopWindowSize()})}}},{key:"htmlElement",get:function(){return this._htmlElement}},{key:"tabIndex",get:function(){return this._tabIndex},set:function(t){this._tabIndex=t,this._background.attr("tabIndex",t)}},{key:"ariaLabel",get:function(){return this._ariaLabel},set:function(t){this._ariaLabel=t,this._htmlElement.attr("aria-label",t),this._htmlElement.attr("role","button")}},{key:"visible",get:function(){return this._htmlElement.is(":visible")},set:function(t){t?this._htmlElement.show():this._htmlElement.hide()}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t,this._htmlElement.css({transform:"scale("+t*this._htmlElement.scale+")","-webkit-transform":"scale("+t*this._htmlElement.scale+")","-moz-transform":"scale("+t*this._htmlElement.scale+")","-o-transform":"scale("+t*this._htmlElement.scale+")"})}}])&&i(e.prototype,n),o&&i(e,o),t}();o.POSITION_TOP_RIGHT_FIRST="position_top_right_first",o.POSITION_TOP_RIGHT_SECOND="position_top_right_second",o.POSITION_TOP_RIGHT_THIRD="position_top_right_third",o.POSITION_TOP_RIGHT_FOURTH="position_top_right_forth",o.POSITION_TOP_LEFT="position_top_left",o.POSITION_BOTTOM_RIGHT="position_bottom_right",o.POSITION_BOTTOM_LEFT="position_bottom_left",o.POSITION_LEFT="position_left",o.POSITION_RIGHT="position_right",o.POSITION_MIDDLE="position_middle",o.POSITION_MIDDLE_LOW="position_middle_low",o.POSITION_MIDDLE_THREE_LEFT="position_middle_three_left",o.POSITION_MIDDLE_THREE_RIGHT="position_middle_three_right",o.POSITION_MIDDLE_TWO_LEFT="position_middle_two_left",o.POSITION_MIDDLE_TWO_RIGHT="position_middle_two_right",o.POSITION_MIDDLE_LEVEL="position_middle_level",o.POSITION_MIDDLE_LEVEL_LEFT="position_middle_level_left",o.POSITION_MIDDLE_LEVEL_RIGHT="position_middle_level_right",o.POSITION_MIDDLE_LEVEL_DOWN="position_middle_level_down",o.POSITION_LOW_TWO_LEFT="position_low_two_left",o.POSITION_LOW_TWO_RIGHT="position_low_two_right",o.POSITION_LOW_TWO_CENTER="position_low_two_center",o.POSITION_SETTINGS_CLOSE="position_settings_close",o.POSITION_USER_SLOT_ONE="position_user_slot_one",o.POSITION_USER_SLOT_TWO="position_user_slot_two",o.POSITION_USER_SLOT_THREE="position_user_slot_three",o.POSITION_PAUSE_RESTART="position_pause_restart",o.POSITION_PAUSE_PLAY="position_pause_play",o.TAB_INDEX_NONE=-1,o.TAB_INDEX_LEVEL_0=1,o.TAB_INDEX_LEVEL_1=21,o.TAB_INDEX_LEVEL_2=41,o.TAB_INDEX_LEVEL_3=61},function(t,e,n){var r=n(19),i=n(29),o=n(45),a=n(42),s=n(51),u=function(t,e,n){var l,c,h,f,d=t&u.F,p=t&u.G,_=t&u.S,m=t&u.P,y=t&u.B,v=p?r:_?r[e]||(r[e]={}):(r[e]||{}).prototype,g=p?i:i[e]||(i[e]={}),b=g.prototype||(g.prototype={});for(l in p&&(n=e),n)h=((c=!d&&v&&void 0!==v[l])?v:n)[l],f=y&&c?s(h,r):m&&"function"==typeof h?s(Function.call,h):h,v&&a(v,l,h,t&u.U),g[l]!=h&&o(g,l,f),m&&b[l]!=h&&(b[l]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(0);var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,P3.Button);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t)).enabledSwapStates=!1,e._timerArc=new PIXI.Graphics,e.animation.addChild(e._timerArc),e.animation.addChild(e._icon),e.setTimerAmount(0),e}return e=s,(n=[{key:"setTimerAmount",value:function(t){var e=P3.math.clamp(t,0,1);0===e?this._timerArc.visible=!1:(this._drawArc(360*e,52),this._timerArc.visible=!0)}},{key:"_drawArc",value:function(t,e){this._timerArc.clear(),this._timerArc.beginFill(0,1),this._timerArc.moveTo(0,0);for(var n=0;n<=t;++n){var r=.5*-Math.PI+n*PIXI.DEG_TO_RAD;this._timerArc.lineTo(-Math.cos(r)*e,Math.sin(r)*e)}}}])&&i(e.prototype,n),s}(),l=n(12);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(i,l.a);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(t){var e;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t)).enabledSwapStates=!1,e._timerArc=new PIXI.Graphics,e.animation.addChild(e._timerArc),e.animation.addChild(e._icon),e.setTimerAmount(0),e}return e=i,(n=[{key:"setTimerAmount",value:function(t){var e=P3.math.clamp(t,0,1);0===e?this._timerArc.visible=!1:(this._drawArc(360*e,52),this._timerArc.visible=!0)}},{key:"_drawArc",value:function(t,e){this._timerArc.clear(),this._timerArc.beginFill(0,1),this._timerArc.moveTo(0,0);for(var n=0;n<=t;++n){var r=.5*-Math.PI+n*PIXI.DEG_TO_RAD;this._timerArc.lineTo(-Math.cos(r)*e,Math.sin(r)*e)}}}])&&h(e.prototype,n),i}(),_=n(5);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return x});var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(i,PIXI.Container);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?b(t):e}(this,n)}}(i);function i(t){var e;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this)).signals={select:new P3.utils.MiniSignal,confirm:new P3.utils.MiniSignal},e._question=t,e._header=null,e._footer=null,e._inputValue=null,e._inputField=null,e.initHeader(),e.initFooter(),e.initInputField(),e.initConfirmButton(),e.on("added",e.added,b(e)),e}return e=i,(n=[{key:"destroy",value:function(){P3.utils.destroyAllSignals(this.signals),v(w(i.prototype),"destroy",this).call(this,{children:!0})}},{key:"added",value:function(){this.off("added",this.added,this),this._confirmButton.resize&&this._confirmButton.resize()}},{key:"update",value:function(t){}},{key:"hideInputField",value:function(){this._inputField.visible=!1}},{key:"initHeader",value:function(){this._header=new PIXI.Container,this.addChild(this._header),this._header.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("question_box_9slice"),88,44,88,44),this._header.image.position.set(0),this._header.image.width=740,this._header.image.pivot.set(.5*this._header.image.width,.5*this._header.image.height),this._header.addChild(this._header.image),this._header.label=new PIXI.extras.BitmapText(this.getHeaderText(),{font:{name:"BBC Reith Sans Math Large",size:24},tint:0,align:"center"}),this._header.label.anchor.set(.5),this._header.label.maxWidth=this._header.image.width-100,this._header.addChild(this._header.label),this.resizeHeaderToFitText()}},{key:"initFooter",value:function(){this._footer=new PIXI.Container,this.addChild(this._footer),this._footer.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),88,88,88,88),this._footer.image.position.set(0),this._footer.image.width=820,this._footer.image.pivot.set(.5*this._footer.image.width,.5*this._footer.image.height),this._footer.addChild(this._footer.image)}},{key:"initInputField",value:function(){this._inputField=new PIXI.Sprite(P3.assets.texture("ui_drop_in_answerbox")),this._inputField.anchor.set(.5),this._footer.addChild(this._inputField),this._inputField.label=new PIXI.Text("?",{fontSize:48,fontFamily:"BBC Reith Sans",fontWeight:"bold",wordWrap:!0,wordWrapWidth:125}),this._inputField.label.anchor.set(.5),this._inputField.label.resolution=2,this._inputField.addChild(this._inputField.label)}},{key:"initConfirmButton",value:function(){var t=new P3.ButtonStates;t.normal=P3.assets.texture("ui_btn_confirm_out"),t.over=P3.assets.texture("ui_btn_confirm_over"),t.down=P3.assets.texture("ui_btn_confirm_down"),t.icon=P3.assets.texture("ui_icon_accept_medium"),t.normalInactive=P3.assets.texture("ui_btn_fail_out"),t.overInactive=P3.assets.texture("ui_btn_fail_over"),t.downInactive=P3.assets.texture("ui_btn_fail_down"),t.iconInactive=P3.assets.texture("ui_icon_decline_medium"),this._confirmButton=PIXI.utils.isMobile.any?new u(t):new p(t),this._confirmButton.tabIndex=_.a.TAB_INDEX_LEVEL_2,this._confirmButton.signals.click.add(this.onConfirmButtonClick,this),this._footer.addChild(this._confirmButton)}},{key:"resizeHeaderToFitText",value:function(){var t=Math.max(128,this._header.label.textHeight+60);if(t>200){var e=this._header.label.font.size;e/=t/200,this._header.label.font.size=e,this._header.label.updateText(),t=Math.max(128,this._header.label.textHeight+60)}this._header.image.height=t,this._header.image.pivot.y=.5*this._header.image.height}},{key:"getHeaderText",value:function(){var t=P3.assets.json("templates").templates,e=this._question.template.split("/"),n=P3.utils.selectRandom(P3.utils.objectToArray(t[e[0]][e[1]])).text;return n.charAt(0).toUpperCase()+n.slice(1)}},{key:"setHeaderText",value:function(t){this._header.label.text=t}},{key:"setAnswer",value:function(t){if(this._inputValue=t,null!=this._inputField)if(t){var e=t.toString();this._inputField.label.text=e;var n=40;switch(!0){case e.length>=8:n=14;break;case e.length>=5:n=20}this._inputField.label.style.fontSize=n}else this._inputField.label.text="?",this._inputField.label.style.fontSize=40}},{key:"setInputFieldHeight",value:function(t){this._inputField&&(this._inputField.y=t)}},{key:"onConfirmButtonClick",value:function(t){this._inputValue&&(this._confirmButton.enabled=!1,this.signals.confirm.dispatch(this,this.isCorrect()))}},{key:"isCorrect",value:function(){return!!this._inputValue&&this._inputValue.value===this._question.answer.value}},{key:"filterTemplate",value:function(t){return!0}},{key:"headerHeight",get:function(){return this._header.image.height}},{key:"footerHeight",get:function(){return this._footer.image.height}},{key:"question",get:function(){return this._question}},{key:"answer",get:function(){return this._inputValue}},{key:"header",get:function(){return this._header}},{key:"footer",get:function(){return this._footer}},{key:"confirmButton",get:function(){return this._confirmButton}}])&&y(e.prototype,n),i}();x.VIEW_STATEMENT="statement",x.VIEW_STATEMENT_MULTI="statement_multi",x.VIEW_STATEMENT_FRACTION="statement_fraction",x.VIEW_STATEMENT_LONG="statement_long",x.VIEW_STATEMENT_ALGEBRA="statement_algebra",x.VIEW_STATEMENT_ALGEBRA_PAIR="statement_algebra_pair",x.VIEW_SORT="sort",x.VIEW_VISUAL="visual",x.VIEW_COMPARISON="comparison",x.VIEW_SEQUENCE="sequence",x.VIEW_VERBAL="verbal",x.VIEW_VERBAL_BOOLEAN="verbal_boolean",x.VIEW_VERBAL_VALUE="verbal_value",x.VIEW_VERBAL_EXPONENT="verbal_exponent",x.VIEW_VERBAL_CONVERSION="verbal_conversion",x.VIEW_VERBAL_VOLUME="verbal_volume",x.VIEW_VERBAL_SHAPE="verbal_shape",x.VIEW_VERBAL_EQUIVALENT="verbal_equivalent",x.VIEW_VERBAL_TIME="verbal_time",x.VIEW_VERBAL_COMPOSE="verbal_compose",x.VIEW_VERBAL_RATIO="verbal_ratio",x.VIEW_VERBAL_MULTIPLES="verbal_multiples",x.VIEW_VERBAL_ROUND="verbal_round",x.VIEW_VERBAL_SUM="verbal_sum",x.VIEW_VERBAL_REST="verbal_rest",x.VIEW_VERBAL_STATS="verbal_stats",x.VIEW_VERBAL_ANGLE="verbal_angle",x.VIEW_VISUAL_TIME="visual_time",x.VIEW_VISUAL_CLOCK_FACE="visual_clock_face",x.VIEW_VISUAL_LIQUID="visual_liquid",x.VIEW_VISUAL_EQUIVALENT="visual_equivalent",x.VIEW_VISUAL_ROTATED_SHAPE="visual_rotated_shape",x.VIEW_VISUAL_SHAPE="visual_shape",x.VIEW_GRAPH_VEN="graph_ven",x.VIEW_GRAPH_BAR="graph_bar",x.VIEW_GRAPH_TALLY="graph_tally",x.VIEW_GRAPH_LINE="graph_line",x.STATIC_VERBAL="static_verbal"},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(1);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"create",value:function(t){return new r.a(t.module,t.type,t.view,t.input,t.range,t.template||"generic/default",t.difficulty)}},{key:"generateOptions",value:function(){}}])&&i(e.prototype,n),t}();o.MODULE_TUTORIAL="tutorial",o.MODULE_ARITHMETIC="arithmetic",o.MODULE_ALGEBRA="algebra",o.MODULE_PLACE_VALUE="place_value",o.MODULE_FRACTION_ARITHMETIC="fraction_arithmetic",o.MODULE_ROMAN_ARITHMETIC="roman_arithmetic",o.MODULE_SORTING="sorting",o.MODULE_SHAPES="place_value",o.MODULE_VISUAL="visual",o.MODULE_BOOLEAN="boolean",o.MODULE_SEQUENCE="sequence",o.MODULE_EXPONENT="exponent",o.MODULE_MEASUREMENT="measurement",o.MODULE_RATIO="ratio",o.MODULE_STATS="statistics",o.MODULE_MULTIPLES="multiples",o.MODULE_SUM="sum",o.MODULE_SHAPES="shapes",o.MODULE_STATIC="static",o.MODULE_TIMES_TABLE="times_table"},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(109);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(n=i.call(this,t))._type=e,n._skinData=P3.assets.json("skin_slot_data"),n._skinSlots=new Map,n._golden=r,n._weaponRevealAnims=[],n}return e=c,(n=[{key:"init",value:function(t){a(l(c.prototype),"init",this).call(this,t);for(var e=0;e<this._spine.skeleton.slots.length;++e)for(var n=this._spine.skeleton.slots[e],r=0;r<this._skinData.length;++r){var i=this._skinData[r];n.data.name===i.slot&&this._mapSkinSlots(n)}for(var o=0;o<this._spine.spineData.defaultSkin.attachments.length;++o){var s=this._spine.spineData.defaultSkin.attachments[o];for(var u in s)this._mapSkinAttachments(s,u)}}},{key:"setItem",value:function(t,e){var n=e,r=this._skinSlots.get(t);r.setAttachment(r.attachmentGroup.get(r.attachmentKey+n))}},{key:"setSkin",value:function(t){t&&this._golden&&(t+="_golden"),console.warn(t),a(l(c.prototype),"setSkin",this).call(this,t)}},{key:"setWeaponRevealAnims",value:function(t){this._weaponRevealAnims=t.slice()}},{key:"playWeaponRevealAnim",value:function(){if(this._weaponRevealAnims.length){var t=P3.utils.selectRandom(this._weaponRevealAnims);this._spine.state.setAnimation(0,t,!0)}}},{key:"onStateComplete",value:function(t){a(l(c.prototype),"onStateComplete",this).call(this,t),-1!==this._weaponRevealAnims.indexOf(t.animation.name)&&this.playIdleAnim()}},{key:"onStateEvent",value:function(t,e){switch(a(l(c.prototype),"onStateEvent",this).call(this,t,e),e.stringValue){case"weapon_reveal":this.setSkin(this._spine.skeleton.skin.name+"_golden")}}},{key:"_mapSkinSlots",value:function(t){for(var e in this._skinData)if(this._skinData.hasOwnProperty(e)){var n=this._skinData[e];if(t.data.name===n.slot){this._skinSlots.set(n.slot,t);break}}}},{key:"_mapSkinAttachments",value:function(t,e){for(var n in this._skinData)if(this._skinData.hasOwnProperty(n)){var r=this._skinData[n],i=this._skinSlots.get(r.slot);i.attachmentGroup||(i.attachmentGroup=new Map,i.attachmentKey=r.attachmentPrefix);for(var o=1;o<=r.attachmentLength;o++)r.attachmentPrefix+o===e&&i.attachmentGroup.set(e,t[e])}}},{key:"type",get:function(){return this._type}}])&&o(e.prototype,n),c}();c.TYPE_KNIGHT="knight",c.TYPE_KNIGHT_FEMALE="knight_female",c.TYPE_WARRIOR="warrior",c.TYPE_WIZARD="wizard",c.TYPE_ELF="elf",c.TYPE_ELF_FEMALE="elf_female",c.TYPE_RANGER="ranger",c.TYPE_RANGER_FEMALE="ranger_female",c.TYPE_WITCH="witch"},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(109),i=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(l,r.a);var e,n,o=u(l);function l(t,e){var n;return function(t,e){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(n=o.call(this,t))._type=e,n._vos=P3.utils.copyObjectFast(P3.assets.json("bosses").filter(function(t){return t.type===e})[0].audio.vo),n}return e=l,(n=[{key:"playTauntVO",value:function(){var t=this._vos.taunt.location[i.a.location.id].length&&Math.random()<.5?this._vos.taunt.location[i.a.location.id]:this._vos.taunt.generic;return P3.audio.playVO(t,1,!0)}},{key:"playAttackVO",value:function(){return P3.audio.playVO(this._vos.attack,1,!0)}},{key:"playDamageVO",value:function(){return P3.audio.playVO(this._vos.damage,1,!0)}},{key:"playDamageSound",value:function(){return P3.audio.playSound(["sfx_generic_adversary_damage_00","sfx_generic_adversary_damage_01","sfx_generic_adversary_damage_02"])}},{key:"type",get:function(){return this._type}}])&&a(e.prototype,n),l}();c.TYPE_DRAGON="dragon",c.TYPE_GOLDEN_DRAGON="goldendragon",c.TYPE_SPIDER="spider",c.TYPE_HOBGOBLIN="hobgoblin",c.TYPE_TROLL="troll",c.TYPE_TRAINING_TROLL="trainingtroll",c.TYPE_SPIRIT="spirit",c.TYPE_MAGE="mage"},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}(this,n)}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return c});var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,PIXI.Container);var e,n,r=s(c);function c(t,e){var n;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(n=r.call(this))._question=t,n._view=e,n._view.signals.select.add(n.onInputButtonClick,u(n)),n._tutorialHand=null,n._tutorialHandTweens=new P3.utils.TWEEN.Group,n._tutorialHandRunning=!1,n}return e=c,(n=[{key:"init",value:function(){this.initTutorial()}},{key:"destroy",value:function(){this._tutorialHandTweens.removeAll(),o(l(c.prototype),"destroy",this).call(this,{children:!0})}},{key:"update",value:function(t){this._tutorialHand.update(t),this._tutorialHandTweens.update()}},{key:"lock",value:function(){}},{key:"unlock",value:function(){}},{key:"setInteractive",value:function(t){}},{key:"showCorrectAnswer",value:function(){}},{key:"onInputButtonClick",value:function(t){}},{key:"initTutorial",value:function(){var t=new P3.MovieClipSequence;t.addTextures([P3.assets.texture("tutorial_finger")],"default"),t.addTextures([P3.assets.texture("tutorial_finger_tap"),P3.assets.texture("tutorial_finger")],"tap"),this._tutorialHand=new P3.MovieClip(t,"default",!1),this._tutorialHand.anchor.set(.1,.04),this._tutorialHand.hitArea=new PIXI.Rectangle,this._tutorialHand.visible=!1,this._tutorialHand.animationSpeed=1,this.addChild(this._tutorialHand)}},{key:"animateTutorial",value:function(){}},{key:"showTutorial",value:function(){this._tutorialHandRunning=!0,this.animateTutorial(),this.addChild(this._tutorialHand)}},{key:"hideTutorial",value:function(){this._tutorialHandRunning=!1,this._tutorialHandTweens.removeAll(),this._tutorialHand.visible=!1}},{key:"calculateFontSize",value:function(t){for(var e=40,n=0,r=0;r<t.length;++r){var i=t[r].toString();i.length>=8?i.length>n&&(n=7,e=15):i.length>=5&&i.length>n&&(n=5,e=18)}return e}},{key:"question",get:function(){return this._question}},{key:"view",get:function(){return this._view}}])&&i(e.prototype,n),c}();c.INPUT_SELECT="select",c.INPUT_SELECT_SUM="select_sum",c.INPUT_SELECT_MULTI="select_multi",c.INPUT_SELECT_MULTI_SUM="select_multi_sum",c.INPUT_SELECT_VISUAL="select_visual",c.INPUT_SELECT_MULTI_GRAPH="select_multi_graph",c.INPUT_SELECT_TIME="select_time",c.INPUT_KEYPAD="keypad",c.INPUT_KEYPAD_RIGHT="keypad_right",c.INPUT_SORT="sort",c.INPUT_SORT_CONVERSION="sort_conversion",c.INPUT_SELECT_CLOCK_FACE="select_clock_face",c.INPUT_SELECT_MULTI_EQUIVALENT="select_multi_equivalent",c.INPUT_SELECT_MULTI_VISUAL="select_multi_visual",c.INPUT_SELECT_MULTI_VISUAL_EQUIVALENT="select_multi_visual_equivalent"},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(5);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?l(t):e}(this,n)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(f,P3.Button);var e,n,i,h=u(f);function f(t){var e;!function(t,e){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}(this),(e=h.call(this,t)).signals.focusIn=new P3.utils.MiniSignal,e.signals.focusOut=new P3.utils.MiniSignal,e.hitArea=new PIXI.Rectangle,e.refocusable=!1,e._tabIndex=r.a.TAB_INDEX_NONE,e._interactive=!0,e._ariaLabel="";var n=PIXI.utils.isMobile.any?64:70,i=e._currentNormalTexture?Math.max(n,e._currentNormalTexture.orig.width):n,o=e._currentNormalTexture?Math.max(n,e._currentNormalTexture.orig.height):n;return e._htmlElement=$("<button type='button'>"),e._htmlElement.scale=1,e._htmlElement.css({position:"absolute",width:i+"px",height:o+"px",padding:"0px",border:"none","background-color":"transparent",cursor:"pointer"}),PIXI.utils.isMobile.any?(e._htmlElement.on("touchstart",function(t){return e.onMouseDown(t)}),e._htmlElement.on("touchend",function(t){return e.onMouseUp(t)})):(e._htmlElement.mousedown(function(t){return e.onMouseDown(t)}),e._htmlElement.mouseup(function(t){return e.onMouseUp(t)}),e._htmlElement.click(function(t){return e.onMouseClick(t)}),e._htmlElement.mouseover(function(t){return e.onMouseOver(t)}),e._htmlElement.mouseout(function(t){return e.onMouseOut(t)})),e._htmlElement.focusin(function(t){return e.onFocusIn(t)}),e._htmlElement.focusout(function(t){return e.onFocusOut(t)}),$("#"+P3.View.holder.id).append(e._htmlElement),e.on("added",e.resize,l(e)),e}return e=f,i=[{key:"create",value:function(t,e,n,r){return new f(new P3.ButtonStates(t,e,n,r))}}],(n=[{key:"destroy",value:function(){this._htmlElement.remove(),a(c(f.prototype),"destroy",this).call(this)}},{key:"resize",value:function(){var t=P3.View.width/$(window).width(),e=1/t*this.scale.x,n=this.toGlobal(new PIXI.Point);this._htmlElement.css({left:Math.round(n.x/t),top:Math.round(n.y/t),"margin-left":Math.round(.5*-this._htmlElement.width())+"px","margin-top":Math.round(.5*-this._htmlElement.height())+"px",transform:"scale("+e+")","-webkit-transform":"scale("+e+")","-moz-transform":"scale("+e+")","-o-transform":"scale("+e+")",disabled:!this.interactive}),this.visible?this._htmlElement.show():this._htmlElement.hide()}},{key:"updateTransform",value:function(){a(c(f.prototype),"updateTransform",this).call(this),this.resize()}},{key:"onMouseDown",value:function(t){a(c(f.prototype),"onMouseDown",this).call(this,t),t.preventDefault(),this._htmlElement.css("outline","none"),PIXI.utils.isMobile.any&&this.onMouseClick(t)}},{key:"onMouseUp",value:function(t){a(c(f.prototype),"onMouseUp",this).call(this,t),t.preventDefault()}},{key:"onMouseClick",value:function(t){var e=this;a(c(f.prototype),"onMouseClick",this).call(this,t),this.refocusable&&document.activeElement===this._htmlElement[0]&&setTimeout(function(){return e._htmlElement.focus()},0)}},{key:"onFocusIn",value:function(t){this._htmlElement.css("outline","2px solid #5E9ED6"),this.onMouseOver(null),this.signals.focusIn.dispatch(this)}},{key:"onFocusOut",value:function(t){this._htmlElement.css("outline","none"),this.onMouseOut(null),this.signals.focusOut.dispatch(this)}},{key:"htmlElement",get:function(){return this._htmlElement}},{key:"tabIndex",get:function(){return this._tabIndex},set:function(t){this._tabIndex=t,this._htmlElement&&this._htmlElement.attr("tabIndex",this._interactive?t:r.a.TAB_INDEX_NONE)}},{key:"interactive",get:function(){return this._interactive},set:function(t){this._interactive=t,this._htmlElement&&this._htmlElement.css("pointer-events",t?"auto":"none"),this.tabIndex=this._tabIndex}},{key:"ariaLabel",get:function(){return this._ariaLabel},set:function(t){this._ariaLabel=t,this._htmlElement.attr("ariaLabel",t)}}])&&o(e.prototype,n),i&&o(e,i),f}()},function(t,e,n){"use strict";var r=n(1);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t,e,n,r,o){var a;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(a=i.call(this,t,e,n,r,o))._answer=null,a.templateType="",a.labelKey=null,a.labelIndex=-1,a.answerIndex=-1,a}return e=u,(n=[{key:"answer",set:function(t){this._answer=t},get:function(){return this._answer}}])&&o(e.prototype,n),u}(),c=n(2),h=n(38),f=n(64),d=n(8);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return g});var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(o,d.a);var e,n,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(o);function o(){var t;return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this))._answerType=null,t}return e=o,(n=[{key:"create",value:function(t){var e;switch(t.type){case r.a.TYPE_STATS_VEN:case r.a.TYPE_RATIO_PERCENT:case r.a.TYPE_SUBTRACTION:case r.a.TYPE_STATS_MIDDLE:case r.a.TYPE_STATS_MOST_OFTEN:case r.a.TYPE_STATS_SIMPLE_MEAN:e=m(v(o.prototype),"create",this).call(this,t);break;default:e=new l(t.module,t.type,t.view,t.input,t.range)}return void 0!==t.useWords&&(e.useWords=t.useWords),t.answer_type&&(this._answerType=t.answer_type),t.bar_scale&&(e.barScale=t.bar_scale),this.generate(e,t.values),e}},{key:"generate",value:function(t,e){switch(t.type){case r.a.TYPE_STATS_VEN:this.generateVen(t,e);break;case r.a.TYPE_STATS_LINE:case r.a.TYPE_STATS_TALLY:case r.a.TYPE_STATS_BAR:this.generateBar(t,e);break;case r.a.TYPE_RATIO_PERCENT:this.generatePercent(t,e);break;case r.a.TYPE_SUBTRACTION:this.generateSubtraction(t,e);break;case r.a.TYPE_STATS_SIMPLE_MEAN:this.generateSimpleMean(t,e);break;case r.a.TYPE_STATS_MOST_OFTEN:this.generateMostOften(t,e);break;case r.a.TYPE_STATS_MIDDLE:this.generateMiddle(t,e)}}},{key:"generateVen",value:function(t,e){if(2===e){for(var n=100,r=[];n-- >0&&r.length<3;){var i=P3.math.randomInt(t.range.min,t.range.max);-1===r.indexOf(i)&&r.push(i)}var o=r[0],a=r[1],s=r[2];t.values.push(new c.a(o)),t.values.push(new c.a(a)),t.values.push(new c.a(s)),t.part=P3.math.randomInt(0,t.values.length-1);var u=t.answer;t.options.push(new c.a(u.value)),t.labelIndexA=0,t.labelIndexB=1,n=100;for(var l=[];n-- >0&&t.options.length<5;){var h=P3.utils.selectRandom(t.values).value;-1===l.indexOf(h)&&h!==u.value&&(l.push(h),t.options.push(new c.a(h)))}P3.utils.shuffleArray(t.options)}else if(3===e){for(var f=100,d=[];f-- >0&&d.length<7;){var p=P3.math.randomInt(t.range.min,t.range.max);-1===d.indexOf(p)&&d.push(p)}var _=d[0],m=d[1],y=d[2],v=d[3],g=d[4],b=d[5],w=d[6];t.values.push(new c.a(_)),t.values.push(new c.a(m)),t.values.push(new c.a(g)),t.values.push(new c.a(y)),t.values.push(new c.a(v)),t.values.push(new c.a(b)),t.values.push(new c.a(w)),t.part=P3.math.randomInt(0,t.values.length-1);var x=t.answer;t.options.push(new c.a(x.value)),t.labelIndexA=0,t.labelIndexB=1,t.labelIndexC=3,f=100;for(var T=[];f-- >0&&t.options.length<5;){var E=P3.utils.selectRandom(t.values).value;-1===T.indexOf(E)&&E!==x.value&&(T.push(E),t.options.push(new c.a(E)))}P3.utils.shuffleArray(t.options)}}},{key:"generateBar",value:function(t,e){for(var n=1e3,r=[],i=e;n-- >0&&r.length<e;){var a=this._answerType!==o.TYPE_AVG?P3.math.randomInt(t.range.min,t.range.max):Math.round(P3.math.randomInt(t.range.min,t.range.max)/i)*i;a>0&&a<=t.range.max&&-1===r.indexOf(a)&&(r.push(a),t.values.push(new c.a(a)))}var s=[];for(n=100;n-- >0&&s.length<2;){var u=P3.math.randomInt(0,t.values.length-1);-1===s.indexOf(u)&&s.push(u)}var l=t.values[s[0]],f=t.values[s[1]],d=l-f,p=f-l;t.labelIndexA=s[0],t.labelIndexB=s[1];var _=this._answerType;switch(_){default:console.error("unknown bar graph answer type : "+_);case o.TYPE_READ:t.answer=new c.a(l),t.labelIndexA=s[0],t.options.push(new c.a(Math.abs(t.answer.value))),n=100;for(var m=[parseInt(t.options[0].value)];n-- >0&&t.options.length<5;){var y=P3.math.randomInt(t.range.min,t.range.max-1);-1===m.indexOf(y)&&(m.push(y),t.options.push(new c.a(y)))}P3.utils.shuffleArray(t.options);break;case o.TYPE_DIFF_POS:d>0?(t.answer=new c.a(Math.abs(d)),t.labelIndexA=s[0],t.labelIndexB=s[1]):(t.answer=new c.a(Math.abs(p)),t.labelIndexA=s[1],t.labelIndexB=s[0]),t.options.push(new c.a(Math.abs(t.answer.value))),n=100;for(var v=[parseInt(t.options[0].value)];n-- >0&&t.options.length<5;){var g=P3.math.randomInt(t.range.min,t.range.max-1);-1===v.indexOf(g)&&(v.push(g),t.options.push(new c.a(g)))}P3.utils.shuffleArray(t.options);break;case o.TYPE_DIFF_NEG:d<0?(t.answer=new c.a(Math.abs(d)),t.labelIndexA=s[0],t.labelIndexB=s[1]):(t.answer=new c.a(Math.abs(p)),t.labelIndexA=s[1],t.labelIndexB=s[0]),t.options.push(new c.a(Math.abs(t.answer.value))),n=100;for(var b=[parseInt(t.options[0].value)];n-- >0&&t.options.length<5;){var w=P3.math.randomInt(t.range.min,t.range.max-1);-1===b.indexOf(w)&&(b.push(w),t.options.push(new c.a(w)))}P3.utils.shuffleArray(t.options);break;case o.TYPE_LOW:for(var x=Number.POSITIVE_INFINITY,T=-1,E=0;E<t.values.length;E++)t.values[E].value<x&&(x=t.values[E].value,T=E);t.answer=new h.a(x),t.answerIndex=T;break;case o.TYPE_HIGH:for(var P=Number.NEGATIVE_INFINITY,S=-1,M=0;M<t.values.length;M++)t.values[M].value>P&&(P=t.values[M].value,S=M);t.answer=new h.a(P),t.answerIndex=S;break;case o.TYPE_AVG:for(var O=0,I=0;I<t.values.length;I++)O+=t.values[I].value;var k=O/t.values.length;t.answer=new c.a(k),t.options.push(new c.a(t.answer.value)),n=100;for(var L=[parseInt(t.options[0].value)];n-- >0&&t.options.length<5;){var A=P3.math.randomInt(t.range.min,t.range.max-1);-1===L.indexOf(A)&&(L.push(A),t.options.push(new c.a(A)))}break;case o.TYPE_RANGE:var D=t.values.slice();D.sort(function(t,e){return t.value-e.value});var R=D[0].value,C=D[D.length-1].value-R;t.answer=new c.a(C),t.options.push(new c.a(t.answer.value)),n=100;for(var j=[parseInt(t.options[0].value)];n-- >0&&t.options.length<5;){var Y=P3.math.randomInt(t.range.min,t.range.max-1);-1===j.indexOf(Y)&&(j.push(Y),t.options.push(new c.a(Y)))}break;case o.TYPE_SAME:t.values.pop(),t.values.push(new c.a(t.values[0].value));var N=t.values[0].value;P3.utils.shuffleArray(t.values);for(var B=[],F=0;F<t.values.length;F++)t.values[F].value===N&&B.push(F);t.answerIndex=B,t.answer=new h.a(-1);break;case o.TYPE_EXACT:var H=P3.math.randomInt(0,t.values.length-1),V=t.values[H].value;t.answer=new h.a(V),t.answerIndex=H;break;case o.TYPE_TOTAL:for(var q=0,W=0;W<t.values.length;W++)q+=t.values[W].value;t.answer=new c.a(q),t.options.push(new c.a(t.answer.value)),n=100;for(var U=[q];n-- >0&&t.options.length<5;){var X=P3.math.randomInt(q-t.range.max,q+t.range.max);-1===U.indexOf(X)&&(U.push(X),t.options.push(new c.a(X)))}}t.templateType=_}},{key:"generatePercent",value:function(t,e){var n=P3.math.randomInt(15,30),r=P3.math.randomInt(15,35),i=P3.math.randomInt(15,30),o=100-n-r-i;t.values.push(new f.a(n,100)),t.values.push(new f.a(r,100)),t.values.push(new f.a(i,100));var a=P3.math.randomInt(t.range.min,t.range.max),s=a*o/100;t.part=3,t.values.push(new c.a(s)),t.values.push(new c.a(a)),t.options.push(new c.a(s));for(var u=100,l=[s];u-- >0&&t.options.length<e;){var h=P3.math.randomInt(s-10,s+10);-1===l.indexOf(h)&&(l.push(h),t.options.push(new c.a(h)))}P3.utils.shuffleArray(t.options)}},{key:"generateSubtraction",value:function(t,e){for(var n=100,r=[];n-- >0&&t.values.length<e;){var i=P3.math.randomInt(t.range.min,t.range.max);-1===r.indexOf(i)&&(r.push(i),t.values.push(new c.a(i)))}t.values.sort(function(t,e){return e.value-t.value});var o=t.values[0],a=t.values[t.values.length-1],s=o.value-a.value;t.values.shift(),t.values.pop(),P3.utils.shuffleArray(t.values),t.values.unshift(o),t.values.push(a),t.values.push(new c.a(s)),t.part=t.values.length-1,t.options.push(new c.a(s)),n=100;for(var u=[s];n-- >0&&t.options.length<5;){var l=P3.math.randomInt(s-10,s+10);-1===u.indexOf(l)&&(u.push(l),t.options.push(new c.a(l)))}P3.utils.shuffleArray(t.options)}},{key:"generateSimpleMean",value:function(t,e){for(var n=0,r=100,i=[];r-- >0&&t.values.length<e;){var o=P3.math.randomInt(t.range.min,t.range.max);-1===i.indexOf(o)&&(i.push(o),t.values.push(new c.a(o)),n+=o)}t.values.push(new c.a(e));var a=n/e;t.values.push(new c.a(a)),t.part=t.values.length-1,t.options.push(new c.a(a)),r=100;for(var s=[a];r-- >0&&t.options.length<5;){var u=Math.round(P3.math.randomInt(t.range.min,t.range.max)/e)*e;-1===s.indexOf(u)&&(s.push(u),t.options.push(new c.a(u)))}P3.utils.shuffleArray(t.options)}},{key:"generateMostOften",value:function(t,e){for(var n=Math.ceil(.5*e),r=n-1,i=P3.math.randomInt(t.range.min,t.range.max),o=i,a=100;a-- >0&&o===i;)o=P3.math.randomInt(t.range.min,t.range.max);for(var s=0;s<n;s++)t.values.push(new c.a(i));for(var u=0;u<r;u++)t.values.push(new c.a(o));P3.utils.shuffleArray(t.values),t.options=t.values.slice();var l=n*i;t.values.push(new c.a(l)),t.part=t.values.length-1}},{key:"generateMiddle",value:function(t,e){for(var n=100,r=[];n-- >0&&t.values.length<e;){var i=P3.math.randomInt(t.range.min,t.range.max);-1===r.indexOf(i)&&(r.push(i),t.values.push(new c.a(i)))}t.options=t.values.slice(),t.values.sort(function(t,e){return e.value-t.value}),t.part=Math.floor(.5*t.values.length)}}])&&_(e.prototype,n),o}();g.TYPE_READ="read_value",g.TYPE_DIFF_POS="difference_positive",g.TYPE_DIFF_NEG="difference_negative",g.TYPE_LOW="lowest",g.TYPE_HIGH="highest",g.TYPE_AVG="average",g.TYPE_RANGE="range",g.TYPE_SAME="same",g.TYPE_EXACT="exact",g.TYPE_TOTAL="total"},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n(0),n(1),n(64);var r=n(7);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(36);var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){var e;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,t))._template=null,e._confirmButton.x=e._footer.x+400,null!=e._inputField&&(e._inputField.position.set(0,0),e._footer.addChild(e._inputField)),e}return e=u,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(void 0===this._question.useWords&&(this._question.useWords=P3.math.randomBool()),r&&r.length>0&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=e.words,o=this._template?this._template.text:"";if(this._template){var a=this.generateWords(this._template.text,i.names,/\[NAME([0-9])?]/g);for(var s in a)a.hasOwnProperty(s)&&(o=o.replace(new RegExp(P3.utils.escape(s),"g"),a[s]));var u=this.generateWords(this._template.text,i.items,/\[ITEM([0-9])?]/g);for(var l in u)u.hasOwnProperty(l)&&(o=o.replace(new RegExp(P3.utils.escape(l),"g"),u[l]));var c=this.generateWords(this._template.text,i.verb_2,/\[VERB_TWO([0-9])?]/g);for(var h in c)c.hasOwnProperty(h)&&(o=o.replace(new RegExp(P3.utils.escape(h),"g"),c[h]));var f=this.generateWords(this._template.text,i.verb,/\[VERB([0-9])?]/g);for(var d in f)f.hasOwnProperty(d)&&(o=o.replace(new RegExp(P3.utils.escape(d),"g"),f[d]));var p=this.generateWords(this._template.text,i.character_class,/\[CHARACTER_CLASS([0-9])?]/g);for(var _ in p)p.hasOwnProperty(_)&&(o=o.replace(new RegExp(P3.utils.escape(_),"g"),p[_]));var m=this.generateWords(this._template.text,i.character_class_2,/\[CHARACTER_CLASS_TWO([0-9])?]/g);for(var y in m)m.hasOwnProperty(y)&&(o=o.replace(new RegExp(P3.utils.escape(y),"g"),m[y]));var v=this.generateWords(this._template.text,i.defenceitem,/\[DEFENCE([0-9])?]/g);for(var g in v)v.hasOwnProperty(g)&&(o=o.replace(new RegExp(P3.utils.escape(g),"g"),v[g]));var b=this.generateWords(this._template.text,i.currency,/\[CURRENCY([0-9])?]/g);for(var w in b)b.hasOwnProperty(w)&&(o=o.replace(new RegExp(P3.utils.escape(w),"g"),b[w]));var x=this.generateWords(this._template.text,i.item_pairs,/\[ITEM_PAIR([0-9])?]/g);for(var T in x)x.hasOwnProperty(T)&&(o=(o=o.replace(new RegExp(P3.utils.escape(T)),x[T][0])).replace(new RegExp(P3.utils.escape(T),"g"),x[T][1]));var E=this.generateWords(this._template.text,i.enemies,/\[ENEMY([0-9])?]/g);for(var P in E)E.hasOwnProperty(P)&&(o=o.replace(new RegExp(P3.utils.escape(P),"g"),E[P]));var S=this.generateWords(this._template.text,i.locations,/\[LOCATION([0-9])?]/g);for(var M in S)S.hasOwnProperty(M)&&(o=o.replace(new RegExp(P3.utils.escape(M),"g"),S[M]));for(var O in S=this.generateWords(this._template.text,i.specific_locations,/\[SPECIFIC_LOCATION([0-9])?]/g))S.hasOwnProperty(O)&&(o=o.replace(new RegExp(P3.utils.escape(O),"g"),S[O]));var I=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var k in I)I.hasOwnProperty(k)&&(o=o.replace(new RegExp(P3.utils.escape(k),"g"),I[k]));var L=this.generateWords(this._template.text,i.places,/\[PLACE([0-9])?]/g);for(var A in L)L.hasOwnProperty(A)&&(o=o.replace(new RegExp(P3.utils.escape(A),"g"),L[A]));var D=this.generateWords(this._template.text,i.character_activities,/\[CHARACTER_ACTIVITIES([0-9])?]/g);if(D)for(var R in D)D.hasOwnProperty(R)&&(o=o.replace(new RegExp(P3.utils.escape(R),"g"),D[R]));var C=this.generateWords(this._template.text,i.specific_activities,/\[SPECIFIC_ACTIVITIES([0-9])?]/g);if(C)for(var j in C)C.hasOwnProperty(j)&&(o=o.replace(new RegExp(P3.utils.escape(j),"g"),C[j]));var Y=this.generateWords(this._template.text,i.carry_items_liquid,/\[CARRY_ITEM_LIQUID([0-9])?]/g);for(var N in Y)Y.hasOwnProperty(N)&&(o=o.replace(new RegExp(P3.utils.escape(N),"g"),Y[N]));var B=this.generateWords(this._template.text,i.item_measurement.liquid,/\[LIQUID([0-9])?]/g);for(var F in B)B.hasOwnProperty(F)&&(o=o.replace(new RegExp(P3.utils.escape(F),"g"),B[F]));var H=o.match(/\. [a-z]/g);if(H)for(var V=0;V<H.length;++V){var q=H[V];o=o.replace(new RegExp(P3.utils.escape(q),"g"),q.toUpperCase())}}return o.charAt(0).toUpperCase()+o.slice(1)}},{key:"generateWords",value:function(t,e,n){var r={};e=e.slice();var i=t.match(n);if(i)for(var o=0;o<i.length;++o){var a=i[o],s=P3.utils.selectRandom(e);!r[a]&&(r[a]=s),e.splice(e.indexOf(s),1)}return r}},{key:"generateValues",value:function(t,e){var n={},r=t.match(e);if(r)for(var i=0;i<r.length;++i){var o=r[i],a=o.match(/[0-9]/),s=a?parseInt(a[0]):0,u=this._question.values[s];n[o]=u.toString()}return n}},{key:"filterTemplate",value:function(t){return t.part===this._question.part&&t.values===this._question.values.length&&(void 0===t.useWords||t.useWords===this._question.useWords)}},{key:"template",get:function(){return this._template}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";e.__esModule=!0,e.VERSION="4.8.1",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,n){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var r=n(15);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(35);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=n(47);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return G(o).default}});var a=n(240);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return G(a).default}});var s=n(298);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return G(s).default}});var u=n(119);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return G(u).default}});var l=n(300);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return G(l).default}});var c=n(299);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return G(c).default}});var h=n(242);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return G(h).default}});var f=n(244);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return G(f).default}});var d=n(705);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return G(d).default}});var p=n(248);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return G(p).default}});var _=n(708);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return G(_).default}});var m=n(724);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return G(m).default}});var y=n(313);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return G(y).default}});var v=n(314);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return G(v).default}});var g=n(726);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return G(g).default}});var b=n(315);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return G(b).default}});var w=n(728);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return G(w).default}});var x=n(735);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return G(x).default}});var T=n(736);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return G(T).default}});var E=n(75);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return G(E).default}});var P=n(311);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return G(P).default}});var S=n(107);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return G(S).default}});var M=n(247);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return G(M).default}});var O=n(306);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return G(O).default}});var I=n(303);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return G(I).default}});var k=n(304);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return G(k).default}});var L=n(307);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return G(L).default}});var A=n(122);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return G(A).default}});var D=n(121);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return G(D).default}});var R=n(143);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return G(R).default}});var C=n(145);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return G(C).default}});var j=n(312);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return G(j).default}});var Y=n(309);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return G(Y).default}});var N=n(310);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return G(N).default}});var B=n(316);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return G(B).default}});var F=n(317);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return F.autoDetectRenderer}});var H=X(n(23)),V=X(n(246)),q=G(n(33)),W=G(n(120)),U=G(n(144));function X(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function G(t){return t&&t.__esModule?t:{default:t}}e.settings=q.default,e.utils=H,e.ticker=V,e.CanvasRenderer=W.default,e.WebGLRenderer=U.default},function(t,e,n){"use strict";var r=n(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,P3.Scene);var e,n,i=u(c);function c(){var t;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this))._tweens=new P3.utils.TWEEN.Group,t}return e=c,(n=[{key:"destroy",value:function(){this._tweens.removeAll(),a(l(c.prototype),"destroy",this).call(this,{children:!0})}},{key:"resize",value:function(){this.x=.5*(P3.View.width-r.a.STAGE_WIDTH)}},{key:"update",value:function(){this._tweens.update()}},{key:"tweens",get:function(){return this._tweens}}])&&o(e.prototype,n),c}(),h=n(5);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(o,h.a);var e,n,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(o);function o(t){var e;return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,t))._currentIconTexture=e.isEnabled()?e._states.icon:e._states.iconAlt,e._currentIconOverTexture=e.isEnabled()?e._states.iconOver:e._states.iconOverAlt,e._currentIconDownTexture=e.isEnabled()?e._states.iconDown:e._states.iconDownAlt,e.setIconTexture(e._states.iconOver&&!PIXI.utils.ismobilejs.any?e._currentIconOverTexture:e._currentIconTexture),e}return e=o,(n=[{key:"updateTextures",value:function(){this._currentIconTexture=this.isEnabled()?this._states.icon:this._states.iconAlt,this._currentIconOverTexture=this.isEnabled()?this._states.iconOver:this._states.iconOverAlt,this._currentIconDownTexture=this.isEnabled()?this._states.iconDown:this._states.iconDownAlt,this.setIconTexture(this._states.iconOver&&!PIXI.utils.ismobilejs.any?this._currentIconOverTexture:this._currentIconTexture)}},{key:"onMouseClick",value:function(t){var e=r.a.gmi.getAllSettings();console.warn("before -","audio:",e.audio,"muted:",e.muted,"p3mute:",P3.audio.isMute),P3.audio&&(r.a.gmi.setAudio(!e.audio),e=r.a.gmi.getAllSettings(),P3.audio.mute(e.muted)),console.warn("after -","audio:",e.audio,"muted:",e.muted,"p3mute:",P3.audio.isMute),this.updateTextures(),p(m(o.prototype),"onMouseClick",this).call(this,t)}},{key:"isEnabled",value:function(){return!!P3.audio&&!P3.audio.isMute}}])&&d(e.prototype,n),o}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(i,h.a);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(t){var e;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t))._toggle=!1,e}return e=i,(n=[{key:"onMouseClick",value:function(t){this.toggle=!this._toggle,b(x(i.prototype),"onMouseClick",this).call(this,t)}},{key:"toggle",get:function(){return this._toggle},set:function(t){this._toggle=t,this._currentNormalTexture=this._toggle?this._states.normalAlt:this._states.normal,this._currentOverTexture=this._toggle?this._states.overAlt:this._states.over,this._currentDownTexture=this._toggle?this._states.downAlt:this._states.down,this._currentIconTexture=this._toggle?this._states.iconAlt:this._states.icon,this._currentIconOverTexture=this._toggle?this._states.iconOverAlt:this._states.iconOver,this._currentIconDownTexture=this._toggle?this._states.iconDownAlt:this._states.iconDown,this.setTexture(this._currentNormalTexture),this._states.icon&&this.setIconTexture(this._currentIconTexture)}}])&&g(e.prototype,n),i}();function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return I});var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(o,c);var e,n,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(o);function o(){var t;return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this))._title=null,t.signals.character=new P3.utils.MiniSignal,t.signals.help=new P3.utils.MiniSignal,t.signals.settings=new P3.utils.MiniSignal,t.signals.achievements=new P3.utils.MiniSignal,t.signals.restart=new P3.utils.MiniSignal,t.signals.exit=new P3.utils.MiniSignal,t.signals.calculator=new P3.utils.MiniSignal,t._gelButtons=[],t._playButton=null,t._nextButton=null,t._restartButton=null,t._pauseButton=null,t._helpButton=null,t._characterButton=null,t._homeButton=null,t._backButton=null,t._exitButton=null,t._muteButton=null,t._settingsButton=null,t._achievementsButton=null,t._leftButton=null,t._rightButton=null,t._skipButton=null,t._userSlot1Button=null,t._userSlot2Button=null,t._userSlot3Button=null,t._calculatorButton=null,t}return e=o,(n=[{key:"init",value:function(){S(O(o.prototype),"init",this).call(this)}},{key:"destroy",value:function(){for(var t=0;t<this._gelButtons.length;++t)this._gelButtons[t].destroy();this._gelButtons.length=0,P3.audio.stopVO(),S(O(o.prototype),"destroy",this).call(this)}},{key:"show",value:function(){S(O(o.prototype),"show",this).call(this),this.setAllButtonsVisible(!0),this.setAllButtonsEnabled(!0),this.restoreAllButtonsTabIndex(),this._muteButton&&this._muteButton.updateTextures()}},{key:"hide",value:function(){S(O(o.prototype),"hide",this).call(this),this.setAllButtonsVisible(!1)}},{key:"animateIn",value:function(t,e){var n=this;this._title&&(this._title.scale.set(0),new P3.utils.TWEEN.Tween(this._title.scale,this._tweens).to({x:1,y:1},400).easing(P3.utils.TWEEN.Easing.Back.Out).onStart(function(){n._title.visible=!0}).start())}},{key:"initTitle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;this._title=new PIXI.Sprite(P3.assets.texture("ui_title_bg")),this._title.position.set(.5*r.a.STAGE_WIDTH,94),this._title.anchor.set(.5),this._title.visible=!1,this.addChild(this._title),this._title.label=new PIXI.extras.BitmapText(t,{font:e+"px BBC Reith Sans"}),this._title.label.position.set(0,-15),this._title.label.anchor.set(.5),this._title.label.tint=16777215,this._title.addChild(this._title.label)}},{key:"initPlayButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_MIDDLE_LOW,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.SIZE_LARGE,r=new P3.ButtonStates;r.normal=P3.assets.texture("btn_primary_"+n+"_normal"),r.over=P3.assets.texture("btn_primary_"+n+"_over"),r.down=P3.assets.texture("btn_primary_"+n+"_down"),r.icon=P3.assets.texture("btn_icon_play_large"),this._playButton=new h.a(r),this._playButton.position=e,this._playButton.tabIndex=t,this._playButton.ariaLabel="Play",this._playButton.overSoundName="sfx_btn_rollover_00",this._playButton.clickSoundName="sfx_btn_press_00",this._playButton.voSoundName="vo_queen_103a",this._playButton.signals.click.add(this.onPlayButtonClick,this),this._gelButtons.push(this._playButton)}},{key:"initNextButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_MIDDLE_LOW,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_large_normal"),n.over=P3.assets.texture("btn_primary_large_over"),n.down=P3.assets.texture("btn_primary_large_down"),n.icon=P3.assets.texture("btn_icon_next_large"),this._nextButton=new h.a(n),this._nextButton.position=e,this._nextButton.tabIndex=t,this._nextButton.ariaLabel="Next",this._nextButton.overSoundName="sfx_btn_rollover_00",this._nextButton.clickSoundName="sfx_btn_press_00",this._nextButton.voSoundName="vo_queen_103a",this._nextButton.signals.click.add(this.onNextButtonClick,this),this._gelButtons.push(this._nextButton)}},{key:"initRestartButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_MIDDLE_TWO_LEFT,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_medium_normal"),n.over=P3.assets.texture("btn_primary_medium_over"),n.down=P3.assets.texture("btn_primary_medium_down"),n.icon=P3.assets.texture("btn_icon_restart_medium"),this._restartButton=new h.a(n),this._restartButton.position=e,this._restartButton.tabIndex=t,this._restartButton.ariaLabel="Restart",this._restartButton.overSoundName="sfx_btn_rollover_00",this._restartButton.clickSoundName="sfx_btn_press_00",this._restartButton.voSoundName="vo_queen_123",this._restartButton.signals.click.add(this.onRestartButtonClick,this),this._gelButtons.push(this._restartButton)}},{key:"initPauseButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_TOP_RIGHT_FIRST,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_small_normal"),n.over=P3.assets.texture("btn_primary_small_over"),n.down=P3.assets.texture("btn_primary_small_down"),n.icon=P3.assets.texture("btn_icon_pause_small"),this._pauseButton=new h.a(n),this._pauseButton.position=e,this._pauseButton.tabIndex=t,this._pauseButton.ariaLabel="Pause",this._pauseButton.overSoundName="sfx_btn_rollover_00",this._pauseButton.clickSoundName="sfx_btn_press_00",this._pauseButton.voSoundName="vo_queen_120a",this._pauseButton.signals.click.add(this.onPauseButtonClick,this),this._gelButtons.push(this._pauseButton)}},{key:"initHelpButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_BOTTOM_RIGHT,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_secondary_rectwide_normal"),n.over=P3.assets.texture("btn_secondary_rectwide_over"),n.down=P3.assets.texture("btn_secondary_rectwide_down"),n.icon=P3.assets.texture("btn_icon_howtoplay"),this._helpButton=new h.a(n),this._helpButton.position=e,this._helpButton.tabIndex=t,this._helpButton.ariaLabel="How to play",this._helpButton.animateIcon=!1,this._helpButton.overSoundName="sfx_btn_rollover_00",this._helpButton.clickSoundName="sfx_btn_press_00",this._helpButton.voSoundName="vo_queen_105b",this._helpButton.signals.click.add(this.onHelpButtonClick,this),this._gelButtons.push(this._helpButton)}},{key:"initCharacterButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_BOTTOM_LEFT,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_secondary_rectangle_248_off"),n.over=P3.assets.texture("btn_secondary_rectangle_248_over"),n.down=P3.assets.texture("btn_secondary_rectangle_248_off"),this._characterButton=new h.a(n),this._characterButton.position=e,this._characterButton.tabIndex=t,this._characterButton.setText("Choose Character",24),this._characterButton.overSoundName="sfx_btn_rollover_00",this._characterButton.clickSoundName="sfx_btn_press_00",this._characterButton.signals.click.add(this.onCharacterButtonClick,this),this._gelButtons.push(this._characterButton)}},{key:"initHomeButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_TOP_LEFT,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_small_normal"),n.over=P3.assets.texture("btn_primary_small_over"),n.down=P3.assets.texture("btn_primary_small_down"),n.icon=P3.assets.texture("btn_icon_home_small"),this._homeButton=new h.a(n),this._homeButton.position=e,this._homeButton.tabIndex=t,this._homeButton.ariaLabel="Home",this._homeButton.overSoundName="sfx_btn_rollover_00",this._homeButton.clickSoundName="sfx_btn_press_00",this._homeButton.voSoundName="vo_queen_104a",this._homeButton.signals.click.add(this.onHomeButtonClick,this),this._gelButtons.push(this._homeButton)}},{key:"initBackButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_TOP_LEFT,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_small_normal"),n.over=P3.assets.texture("btn_primary_small_over"),n.down=P3.assets.texture("btn_primary_small_down"),n.icon=P3.assets.texture("btn_icon_back_small"),this._backButton=new h.a(n),this._backButton.position=e,this._backButton.tabIndex=t,this._backButton.ariaLabel="Back",this._backButton.overSoundName="sfx_btn_rollover_00",this._backButton.clickSoundName="sfx_btn_press_00",this._backButton.voSoundName="vo_queen_163",this._backButton.signals.click.add(this.onBackButtonClick,this),this._gelButtons.push(this._backButton)}},{key:"initExitButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_TOP_LEFT;if(r.a.gmi.shouldShowExitButton){var n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_small_normal"),n.over=P3.assets.texture("btn_primary_small_over"),n.down=P3.assets.texture("btn_primary_small_down"),n.icon=P3.assets.texture("btn_icon_exit_small"),this._exitButton=new h.a(n),this._exitButton.position=e,this._exitButton.tabIndex=t,this._exitButton.ariaLabel="Exit",this._exitButton.overSoundName="sfx_btn_rollover_00",this._exitButton.clickSoundName="sfx_btn_press_00",this._exitButton.voSoundName="vo_queen_163",this._exitButton.signals.click.add(this.onExitButtonClick,this),this._gelButtons.push(this._exitButton)}}},{key:"initSettingsButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_TOP_RIGHT_FIRST,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_tertiary_small_normal"),n.over=P3.assets.texture("btn_tertiary_small_over"),n.down=P3.assets.texture("btn_tertiary_small_down"),n.icon=P3.assets.texture("btn_icon_settings_small"),this._settingsButton=new h.a(n),this._settingsButton.position=e,this._settingsButton.tabIndex=t,this._settingsButton.ariaLabel="Settings",this._settingsButton.overSoundName="sfx_btn_rollover_00",this._settingsButton.clickSoundName="sfx_btn_press_00",this._settingsButton.voSoundName="vo_queen_106b",this._settingsButton.signals.click.add(this.onSettingsButtonClick,this),this._gelButtons.push(this._settingsButton)}},{key:"initMuteButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_TOP_RIGHT_SECOND,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_tertiary_small_normal"),n.over=P3.assets.texture("btn_tertiary_small_over"),n.down=P3.assets.texture("btn_tertiary_small_down"),n.icon=P3.assets.texture("btn_icon_audio_small"),n.iconAlt=P3.assets.texture("btn_icon_mute_small"),this._muteButton=new y(n),this._muteButton.position=e,this._muteButton.tabIndex=t,this._muteButton.ariaLabel="Mute",this._muteButton.overSoundName="sfx_btn_rollover_00",this._muteButton.clickSoundName="sfx_btn_press_00",this._muteButton.voSoundName="vo_queen_107",this._muteButton.signals.click.add(this.onMuteButtonClick,this),this._gelButtons.push(this._muteButton)}},{key:"initAchievementsButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_TOP_RIGHT_THIRD,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_tertiary_small_normal"),n.over=P3.assets.texture("btn_tertiary_small_over"),n.down=P3.assets.texture("btn_tertiary_small_down"),n.icon=P3.assets.texture("btn_icon_achievements_small"),this._achievementsButton=new h.a(n),this._achievementsButton.position=e,this._achievementsButton.tabIndex=t,this._achievementsButton.ariaLabel="Achievements",this._achievementsButton.overSoundName="sfx_btn_rollover_00",this._achievementsButton.clickSoundName="sfx_btn_press_00",this._achievementsButton.voSoundName="vo_queen_extra_01a",this._achievementsButton.signals.click.add(this.onAchievementsButtonClick,this),this._gelButtons.push(this._achievementsButton)}},{key:"initLeftButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_LEFT,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_medium_normal"),n.over=P3.assets.texture("btn_primary_medium_over"),n.down=P3.assets.texture("btn_primary_medium_down"),n.icon=P3.assets.texture("btn_icon_previous_small"),this._leftButton=new h.a(n),this._leftButton.position=e,this._leftButton.tabIndex=t,this._leftButton.ariaLabel="Previous",this._leftButton.overSoundName="sfx_btn_rollover_00",this._leftButton.clickSoundName="sfx_btn_press_00",this._leftButton.signals.click.add(this.onLeftButtonClick,this),this._gelButtons.push(this._leftButton)}},{key:"initRightButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_RIGHT,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_medium_normal"),n.over=P3.assets.texture("btn_primary_medium_over"),n.down=P3.assets.texture("btn_primary_medium_down"),n.icon=P3.assets.texture("btn_icon_next_small"),this._rightButton=new h.a(n),this._rightButton.position=e,this._rightButton.tabIndex=t,this._rightButton.ariaLabel="Next",this._rightButton.overSoundName="sfx_btn_rollover_00",this._rightButton.clickSoundName="sfx_btn_press_00",this._rightButton.signals.click.add(this.onRightButtonClick,this),this._gelButtons.push(this._rightButton)}},{key:"initSkipButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_BOTTOM_RIGHT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.SIZE_MEDIUM,r=new P3.ButtonStates;r.normal=P3.assets.texture("btn_primary_"+n+"_normal"),r.over=P3.assets.texture("btn_primary_"+n+"_over"),r.down=P3.assets.texture("btn_primary_"+n+"_down"),r.icon=P3.assets.texture("btn_icon_skip_"+n),this._skipButton=new h.a(r),this._skipButton.position=e,this._skipButton.tabIndex=t,this._skipButton.ariaLabel="Skip tutorial",this._skipButton.overSoundName="sfx_btn_rollover_00",this._skipButton.clickSoundName="sfx_btn_press_00",this._skipButton.signals.click.add(this.onSkipButtonClick,this),this._gelButtons.push(this._skipButton)}},{key:"initUserSlot1Button",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_USER_SLOT_ONE,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_rectwide_normal"),n.over=P3.assets.texture("btn_primary_rectwide_over"),n.down=P3.assets.texture("btn_primary_rectwide_down"),this._userSlot1Button=new h.a(n),this._userSlot1Button.id=0,this._userSlot1Button.position=e,this._userSlot1Button.tabIndex=t,this._userSlot1Button.setText("Save Slot #1",28),this._userSlot1Button.overSoundName="sfx_btn_rollover_00",this._userSlot1Button.clickSoundName="sfx_btn_press_00",this._userSlot1Button.voSoundName="vo_queen_112a",this._userSlot1Button.signals.click.add(this.onUserSlotButtonClick,this),this._gelButtons.push(this._userSlot1Button)}},{key:"initUserSlot2Button",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_USER_SLOT_TWO,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_rectwide_normal"),n.over=P3.assets.texture("btn_primary_rectwide_over"),n.down=P3.assets.texture("btn_primary_rectwide_down"),this._userSlot2Button=new h.a(n),this._userSlot2Button.id=1,this._userSlot2Button.position=e,this._userSlot2Button.tabIndex=t,this._userSlot2Button.setText("Save Slot #2",28),this._userSlot2Button.overSoundName="sfx_btn_rollover_00",this._userSlot2Button.clickSoundName="sfx_btn_press_00",this._userSlot2Button.voSoundName="vo_queen_112a",this._userSlot2Button.signals.click.add(this.onUserSlotButtonClick,this),this._gelButtons.push(this._userSlot2Button)}},{key:"initUserSlot3Button",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_USER_SLOT_THREE,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_primary_rectwide_normal"),n.over=P3.assets.texture("btn_primary_rectwide_over"),n.down=P3.assets.texture("btn_primary_rectwide_down"),this._userSlot3Button=new h.a(n),this._userSlot3Button.id=2,this._userSlot3Button.position=e,this._userSlot3Button.tabIndex=t,this._userSlot3Button.setText("Save Slot #3",28),this._userSlot3Button.overSoundName="sfx_btn_rollover_00",this._userSlot3Button.clickSoundName="sfx_btn_press_00",this._userSlot3Button.voSoundName="vo_queen_112a",this._userSlot3Button.signals.click.add(this.onUserSlotButtonClick,this),this._gelButtons.push(this._userSlot3Button)}},{key:"initCalculatorButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.POSITION_TOP_RIGHT_SECOND,n=new P3.ButtonStates;n.normal=P3.assets.texture("btn_calculator_normal"),n.over=P3.assets.texture("btn_calculator_over"),n.down=P3.assets.texture("btn_calculator_down"),n.icon=P3.assets.texture("btn_icon_calculator"),n.normalAlt=P3.assets.texture("btn_calculator_on"),n.overAlt=P3.assets.texture("btn_calculator_over"),n.downAlt=P3.assets.texture("btn_calculator_down"),n.iconAlt=P3.assets.texture("btn_icon_calculator"),this._calculatorButton=new T(n),this._calculatorButton.position=e,this._calculatorButton.tabIndex=t,this._calculatorButton.ariaLabel="Keypad",this._calculatorButton.overSoundName="sfx_btn_rollover_00",this._calculatorButton.clickSoundName="sfx_btn_press_00",this._calculatorButton.signals.click.add(this.onCalculatorButtonClick,this),this._gelButtons.push(this._calculatorButton)}},{key:"setAllButtonsEnabled",value:function(t){for(var e=0;e<this._gelButtons.length;++e)this._gelButtons[e].enabled=t}},{key:"setAllButtonsVisible",value:function(t){for(var e=0;e<this._gelButtons.length;++e)this._gelButtons[e].visible=t}},{key:"restoreAllButtonsTabIndex",value:function(){for(var t=0;t<this._gelButtons.length;++t)this._gelButtons[t].restoreTabIndex()}},{key:"onPlayButtonClick",value:function(t){this.setAllButtonsEnabled(!1),this.signals.next.dispatch(this)}},{key:"onNextButtonClick",value:function(t){this.signals.next.dispatch(this)}},{key:"onRestartButtonClick",value:function(t){this.setAllButtonsEnabled(!1),this.signals.restart.dispatch(this)}},{key:"onPauseButtonClick",value:function(t){this.setAllButtonsEnabled(!1),this.signals.pause.dispatch(this)}},{key:"onHelpButtonClick",value:function(t){this.setAllButtonsEnabled(!1),this.signals.help.dispatch(this)}},{key:"onCharacterButtonClick",value:function(t){this.setAllButtonsEnabled(!1),this.signals.character.dispatch(this)}},{key:"onHomeButtonClick",value:function(t){this.setAllButtonsEnabled(!1),this.signals.home.dispatch(this),r.a.gmi.sendStatsEvent("home","click")}},{key:"onBackButtonClick",value:function(t){this.setAllButtonsEnabled(!1),this.signals.previous.dispatch(this)}},{key:"onExitButtonClick",value:function(t){this.signals.exit.dispatch(this)}},{key:"onSettingsButtonClick",value:function(t){this.setAllButtonsEnabled(!1),this.signals.settings.dispatch(this)}},{key:"onMuteButtonClick",value:function(t){r.a.gmi.sendStatsEvent("audio",P3.audio.isMuted()?"off":"on")}},{key:"onAchievementsButtonClick",value:function(t){this.setAllButtonsEnabled(!1),this.signals.achievements.dispatch(this)}},{key:"onLeftButtonClick",value:function(t){}},{key:"onRightButtonClick",value:function(t){}},{key:"onSkipButtonClick",value:function(t){this.setAllButtonsEnabled(!1),this.signals.next.dispatch(this)}},{key:"onUserSlotButtonClick",value:function(t){}},{key:"onCalculatorButtonClick",value:function(t){}}])&&P(e.prototype,n),o}();I.SIZE_SMALL="small",I.SIZE_MEDIUM="medium",I.SIZE_LARGE="large"},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t,e){var n;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(n=i.call(this,t/e))._numerator=t,n._denominator=e,n}return e=u,(n=[{key:"toString",value:function(){return this._numerator+"/"+this._denominator}},{key:"numerator",get:function(){return this._numerator}},{key:"denominator",get:function(){return this._denominator}}])&&o(e.prototype,n),u}()},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(22);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++p},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+("000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var n=i.default.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==e?e:1},e.decomposeDataUri=function(t){var e=r.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}},e.getUrlFileExtension=function(t){var e=r.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()},e.getSvgSize=function(t){var e=r.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n},e.skipHello=function(){_=!0},e.sayHello=function(t){if(!_){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+r.VERSION+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+r.VERSION+" - "+t+" - http://www.pixijs.com/");_=!0}},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in m)m[t].destroy();for(t in y)y[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in m)delete m[t];for(t in y)delete y[t]},e.correctBlendMode=function(t,e){return v[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,r=t>>8&255,i=255&t;return(255*e<<24)+((n=n*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(i*e+.5|0)},e.premultiplyRgba=function(t,e,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n},e.premultiplyTintToRgba=function(t,e,n,r){return(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||void 0===r)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n};var r=n(15),i=d(n(33)),o=d(n(96)),a=d(n(694)),s=f(n(695)),u=f(n(241)),l=d(n(696)),c=d(n(697)),h=d(n(243));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var p=0,_=!1;e.isMobile=u,e.removeItems=l.default,e.EventEmitter=o.default,e.pluginTarget=a.default,e.mixins=s,e.earcut=h.default;var m=e.TextureCache=Object.create(null),y=e.BaseTextureCache=Object.create(null),v=e.premultiplyBlendMode=(0,c.default)()},function(t,e,n){var r=n(131)("wks"),i=n(86),o=n(19).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(53),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n(5),o=n(37),a=n(11);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,a.a);var e,n,s=h(d);function d(t,e){var n;return function(t,e){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}(this),(n=s.call(this,t,e))._buttons=[],n._spacing=134,n._selected=null,n._buttonsContainer=null,n._fontSize=0,n._tutorialHandStart=new PIXI.Point,n._tutorialHandAnchor=new PIXI.Point,n._tutorialHandEnd=new PIXI.Point,n}return e=d,(n=[{key:"init",value:function(){this.createOptionButtons(this._question.options),l(f(d.prototype),"init",this).call(this)}},{key:"selectOption",value:function(t){t.toggle=!0,this._selected=t;var e=this._selected.value;this._view.setAnswer(e)}},{key:"deselectOption",value:function(t){t.toggle=!1,this._selected=null}},{key:"lock",value:function(){for(var t=0;t<this._buttons.length;++t)this._buttons[t].enabled=!1}},{key:"unlock",value:function(){for(var t=0;t<this._buttons.length;++t)this._buttons[t].enabled=!0}},{key:"setInteractive",value:function(t){for(var e=0;e<this._buttons.length;++e)this._buttons[e].interactive=t}},{key:"createOptionButtons",value:function(t){this._buttonsContainer=new PIXI.Container,this.addChild(this._buttonsContainer),this._fontSize=this.calculateFontSize(t);for(var e=0;e<t.length;++e){var n=this.createOptionButton(t[e]);n.index=e,n.position.set(this._spacing*e-this._spacing*(t.length-1)*.5,0),n.tabIndex=i.a.TAB_INDEX_LEVEL_1+e,n.signals.down.add(this.onOptionButtonDown,this),n.signals.up.add(this.onOptionButtonUp,this),n.signals.click.add(this.onOptionButtonClick,this);var r=new PIXI.Sprite(P3.assets.texture("ui_drop_in_answerbox"));r.anchor.set(.5),r.position.set(n.x,n.y),this._buttonsContainer.addChildAt(r,0),this._buttonsContainer.addChild(n),this._buttons.push(n)}}},{key:"createOptionButton",value:function(t){var e=P3.assets,n=new P3.ButtonStates;n.normal=e.texture("ui_drop_in_area"),n.normalAlt=e.texture("ui_drop_in_area_selected"),n.over=e.texture("ui_drop_in_area_highlight"),n.over=e.texture("ui_drop_in_area_selected");var i=PIXI.utils.isMobile.any?new P3.ToggleButton(n):new o.a(n);return i.value=t,i.animate=!1,i.animateIcon=!1,i.tint=r.a.config.debug&&i.value===this._question.answer?43520:16777215,i.overSoundName="sfx_btn_rollover_00",i.clickSoundName="sfx_btn_press_00",i.label=new PIXI.Text(i.value.toString(),{fontSize:this._fontSize,fontFamily:"Arial",fontWeight:"bold",fill:0}),i.label.position.set(0,0),i.label.anchor.set(.5,.5),i.label.resolution=2,i.animation.addChild(i.label),i}},{key:"initTutorial",value:function(){var t;l(f(d.prototype),"initTutorial",this).call(this);for(var e=0;e<this._buttons.length&&(t=this._buttons[e]).value!==this._question.answer;++e);t&&(this._tutorialHandStart=new PIXI.Point(t.x+40,t.y+120),this._tutorialHandAnchor=new PIXI.Point(t.x+40,t.y+40),this._tutorialHandEnd=new PIXI.Point(t.x,t.y))}},{key:"animateTutorial",value:function(){var t=this;this._tutorialHandTweens.removeAll();var e=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).delay(200).onStart(function(){t._tutorialHand.position.set(t._tutorialHandStart.x,t._tutorialHandStart.y),t._tutorialHand.alpha=0}),n=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).to({x:[this._tutorialHandAnchor.x,this._tutorialHandEnd.x],y:[this._tutorialHandAnchor.y,this._tutorialHandEnd.y],alpha:1},640).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).interpolation(P3.utils.TWEEN.Interpolation.Bezier).onStart(function(){t._tutorialHand.visible=!0}).onComplete(function(){t._tutorialHand.gotoAndPlay("tap")}),r=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).to({alpha:0},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(800).onComplete(function(){t._tutorialHand.visible=!1,t.animateTutorial()});e.chain(n),n.chain(r),e.start()}},{key:"onOptionButtonDown",value:function(t){}},{key:"onOptionButtonUp",value:function(t){}},{key:"onOptionButtonClick",value:function(t){this._selected&&this.deselectOption(this._selected),this.selectOption(t)}}])&&u(e.prototype,n),d}()},function(t,e,n){"use strict";function r(){return navigator.platform.indexOf(/iPad/)&&768===screen.width&&1024===screen.height}function i(){return!!window.MSInputMethodContext&&!!document.documentMode}function o(){return!!window.MSInputMethodContext&&!!document.documentMode&&-1!==navigator.userAgent.indexOf("Windows NT 10")}function a(){return-1!==navigator.userAgent.indexOf("Edge/18")}function s(){var t=navigator.userAgent||navigator.vendor||window.opera;return t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1}n.d(e,"c",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n(0),PIXI.Text.prototype.renderWebGL=function(t){this.resolution||(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),PIXI.Sprite.prototype.renderWebGL.call(this,t)},P3.utils.TWEEN.Group.prototype.time=0,P3.utils.TWEEN.Group.prototype.update=function(t,e){this.time+=window.tweendt;var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:this.time;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[n[r]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},P3.utils.TWEEN.Tween.prototype.start=function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?this._group.time+parseFloat(t):t:this._group.time,this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(109);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t,e){var n;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(n=i.call(this,t))._type=e,n.setIdleAnims(["idle1"]),n.setAttackAnims(["attack"]),n.setDamageAnims(["damage"]),n.setDefeatAnims(["defeat"]),n.setVictoryAnims(["victory"]),n}return e=u,(n=[{key:"type",get:function(){return this._type}}])&&o(e.prototype,n),u}();l.TYPE_OWL=1,l.TYPE_BAT=2,l.TYPE_DRAGON=3,l.TYPE_RAVEN=4},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(21),i=n(254),o=n(73),a=Object.defineProperty;e.f=n(30)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(4),i=n(0);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._achievements={},this.signals={unlocked:new P3.utils.MiniSignal}}var e,n;return e=t,(n=[{key:"destroy",value:function(){P3.utils.destroyAllSignals(this.signals)}},{key:"parseData",value:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if(n.enabled){var i=P3.assets.texture(n.icon);this._achievements[n.id]=new r.a(n.id,n.group,n.name,i)}}}},{key:"setProgress",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.SETTING_FORCE,a=i.a.save.getUserData(i.a.userId);return!(!a.achievements||a.achievements[e]>=1||((r||!a.achievements[e]||n>a.achievements[e])&&(a.achievements[e]=P3.math.clamp(n,0,1)),i.a.save.saveGame(),!(n>=1)))&&this.unlock(e,o)}},{key:"unlock",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.SETTING_DEFAULT,r=this._achievements[e];if(null!=r){var o=!1,a=i.a.save.getUserData(i.a.userId);if(a.achievements&&(n===t.SETTING_FORCE||n===t.SETTING_FORCE_SILENT||n===t.SETTING_FORCE_HIDDEN||!a.achievements[e]||a.achievements[e]&&a.achievements[e]<1)&&(a.achievements[e]=1,i.a.save.saveGame(),o=!0),o)return n!==t.SETTING_HIDDEN&&n!==t.SETTING_FORCE_HIDDEN&&this.signals.unlocked.dispatch(r),n!==t.SETTING_FORCE_SILENT&&i.a.gmi.sendStatsEvent("achievement","earned",{source:r.name.toLowerCase().replace(/ /g,"_")}),console.log("Achievement Unlocked: "+e),!0}return!1}},{key:"getProgress",value:function(t){var e=i.a.save.getUserData(i.a.userId);return e.achievements?e.achievements[t]:0}},{key:"isUnlocked",value:function(t){var e=i.a.save.getUserData(i.a.userId);return!!e.achievements&&e.achievements[t]>=1}},{key:"isActive",value:function(t){var e=this._achievements[t];if(null!=e){if(!this.isUnlocked(t)&&e.group>-1){var n=null;for(var r in this._achievements)if(this._achievements.hasOwnProperty(r)){var i=this._achievements[r];if(i.group===e.group){if(this.isUnlocked(i.id))continue;if(null===n&&(n=i),i===e)return n===e}}}return!0}return!1}},{key:"achievements",get:function(){return P3.utils.copyObject(this._achievements,!1)}}])&&o(e.prototype,n),t}();a.SETTING_DEFAULT="default",a.SETTING_HIDDEN="hidden",a.SETTING_FORCE="force",a.SETTING_FORCE_SILENT="force_silent",a.SETTING_FORCE_HIDDEN="force_hidden"},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(692)),i=o(n(693));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,r.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return QuestionValueSum});var _QuestionValue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var QuestionValueSum=function(_QuestionValue){_inherits(QuestionValueSum,_QuestionValue);var _super=_createSuper(QuestionValueSum);function QuestionValueSum(left,operand,right){var _this;return _classCallCheck(this,QuestionValueSum),"number"==typeof left&&"number"==typeof right||console.error("ensure pass a valid statement to QuestionValueSum"),_this=_super.call(this,eval(left+operand+right)),_this._left=left,_this._operand=operand,_this._right=right,_this}return _createClass(QuestionValueSum,[{key:"toString",value:function(){return this._left+"\n"+this._operand+" "+this._right}},{key:"operand",set:function(t){this._operand=t}}]),QuestionValueSum}(_QuestionValue__WEBPACK_IMPORTED_MODULE_0__.a)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(236);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f(r).default}});var i=n(287);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return f(i).default}});var o=n(237);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var a=n(288);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return f(a).default}});var s=n(682);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return f(s).default}});var u=n(683);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var l=n(684);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f(l).default}});var c=n(238);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return f(c).default}});var h=n(685);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return f(h).default}})},function(t,e,n){(function(n){
/*!
 * Number-To-Words util
 * @version v1.2.4
 * @link https://github.com/marlun78/number-to-words
 * @author Martin Eneqvist (https://github.com/marlun78)
 * @contributors Aleksey Pilyugin (https://github.com/pilyugin),Jeremiah Hall (https://github.com/jeremiahrhall),Adriano Melo (https://github.com/adrianomelo),dmrzn (https://github.com/dmrzn)
 * @license MIT
 */
!function(){"use strict";"object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global;var r=9007199254740991;function i(t){return!("number"!=typeof t||t!=t||t===1/0||t===-1/0)}function o(t){return"number"==typeof t&&Math.abs(t)<=r}var a=/(hundred|thousand|(m|b|tr|quadr)illion)$/,s=/teen$/,u=/y$/,l=/(zero|one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)$/,c={zero:"zeroth",one:"first",two:"second",three:"third",four:"fourth",five:"fifth",six:"sixth",seven:"seventh",eight:"eighth",nine:"ninth",ten:"tenth",eleven:"eleventh",twelve:"twelfth"};function h(t){return a.test(t)||s.test(t)?t+"th":u.test(t)?t.replace(u,"ieth"):l.test(t)?t.replace(l,f):t}function f(t,e){return c[e]}var d=10,p=100,_=1e3,m=1e6,y=1e9,v=1e12,g=1e15,b=9007199254740992,w=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],x=["zero","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function T(t,e){var n,r=parseInt(t,10);if(!i(r))throw new TypeError("Not a finite number: "+t+" ("+typeof t+")");if(!o(r))throw new RangeError("Input is not a safe number, its either too large or too small.");return n=function t(e){var n,r,i=arguments[1];if(0===e)return i?i.join(" ").replace(/,$/,""):"zero";if(i||(i=[]),e<0&&(i.push("minus"),e=Math.abs(e)),e<20)n=0,r=w[e];else if(e<p)n=e%d,r=x[Math.floor(e/d)],n&&(r+="-"+w[n],n=0);else if(e<_){var o=" hundred";(n=e%p)>0&&(o=" hundred and"),r=t(Math.floor(e/p))+o}else e<m?(n=e%_,r=t(Math.floor(e/_))+" thousand,"):e<y?(n=e%m,r=t(Math.floor(e/m))+" million,"):e<v?(n=e%y,r=t(Math.floor(e/y))+" billion,"):e<g?(n=e%v,r=t(Math.floor(e/v))+" trillion,"):e<=b&&(n=e%g,r=t(Math.floor(e/g))+" quadrillion,");return i.push(r),t(n,i)}(r),e?h(n):n}var E={toOrdinal:function(t){var e=parseInt(t,10);if(!i(e))throw new TypeError("Not a finite number: "+t+" ("+typeof t+")");if(!o(e))throw new RangeError("Input is not a safe number, its either too large or too small.");var n=String(e),r=Math.abs(e%100),a=r>=11&&r<=13,s=n.charAt(n.length-1);return n+(a?"th":"1"===s?"st":"2"===s?"nd":"3"===s?"rd":"th")},toWords:T,toWordsOrdinal:function(t){return h(T(t))}};t.exports&&(e=t.exports=E),e.numberToWords=E}()}).call(this,n(95))},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(12);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(t){var e;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,t))._toggle=!1,e._states.normalAlt=e._states.normalAlt||e._states.normal,e._states.overAlt=e._states.overAlt||e._states.over,e._states.downAlt=e._states.downAlt||e._states.down,e._states.iconAlt=e._states.iconAlt||e._states.icon,e._states.iconOverAlt=e._states.iconOverAlt||e._states.iconOver,e._states.iconDownAlt=e._states.iconDownAlt||e._states.iconDown,e}return e=c,(n=[{key:"onMouseClick",value:function(t){this._enabled&&(this.toggle=!this.toggle),a(l(c.prototype),"onMouseClick",this).call(this,t)}},{key:"toggle",get:function(){return this._toggle},set:function(t){this._toggle=t,this._currentNormalTexture=this._toggle?this._states.normalAlt:this._states.normal,this._currentOverTexture=this._toggle?this._states.overAlt:this._states.over,this._currentDownTexture=this._toggle?this._states.downAlt:this._states.down,this._currentIconTexture=this._toggle?this._states.iconAlt:this._states.icon,this._currentIconOverTexture=this._toggle?this._states.iconOverAlt:this._states.iconOver,this._currentIconDownTexture=this._toggle?this._states.iconDownAlt:this._states.iconDown,this._states.normal&&(this._background.texture=this._currentNormalTexture),this._states.icon&&(this._icon.texture=this._currentIconTexture)}},{key:"enabled",set:function(t){this._enabled=t}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,t))._label=n,e}return e=u,(n=[{key:"toString",value:function(){return this._label}},{key:"label",set:function(t){this._label=t},get:function(){return this._label}}])&&o(e.prototype,n),u}()},function(t,e,n){var r=n(66);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n(36),n(0);var r=n(1),i=n(7);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(l,i.a);var e,n,o=u(l);function l(t){var e;return function(t,e){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(e=o.call(this,t))._footer.statement=new PIXI.Container,e._footer.addChild(e._footer.statement),e._confirmButton.x=e._footer.x+400,e._minimumFontSize=e.calculateFontSize(e._question.values),e._minimumStatementSpacing=e.calculateStatementSpacing(e._question.values),e.createStatement(e._minimumStatementSpacing),e}return e=l,(n=[{key:"createStatement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=0,n=[];if(void 0!==this._question.operands&&this._question.operands.length>0)(n=this._question.operands.slice()).push("=");else for(var i=1;i<this._question.values.length;++i){var o="=";if(i<this._question.values.length-1)switch(this._question.type){case r.a.TYPE_ADDITION:o="+";break;case r.a.TYPE_SUBTRACTION:o="-";break;case r.a.TYPE_MULTIPLICATION:o="";break;case r.a.TYPE_DIVISION:o=""}n.push(o)}for(var a=0,s=0;a<this._question.values.length;++a){var u=this._question.values[a];if(a!==this._question.part){var l=this.createLabel(u.toString());l.position.set(e,0),this._footer.statement.addChild(l),e+=l.textWidth,a<this._question.values.length-1&&(e+=t)}else e+=.5*this._inputField.width,this._inputField.position.set(e,0),this._footer.statement.addChild(this._inputField),e+=.5*this._inputField.width,a<this._question.values.length-1&&(e+=t);var c=this.createLabel(n[s++]);c.position.set(e,0),this._footer.statement.addChild(c),e+=c.textWidth,a<this._question.values.length-1&&(e+=t)}this._footer.statement.pivot.x=.5*e}},{key:"createLabel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new PIXI.extras.BitmapText(t,{font:{name:"BBC Reith Sans Math Large",size:this._minimumFontSize},tint:0});return e.anchor.set(0,.5),this._footer.statement.addChild(e),e}},{key:"calculateFontSize",value:function(t){if(t.length>4)return 26;for(var e=0;e<t.length;++e){var n=t[e].toString();if(n.length>=8)return 20;if(n.length>=6)return 32;if(n.length>=5)return 36}return 48}},{key:"calculateStatementSpacing",value:function(t){if(t.length>4)return 6;for(var e=0;e<t.length;++e){var n=t[e].toString();if(n.length>=6)return 9;if(n.length>=5)return 12}return 16}}])&&a(e.prototype,n),l}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t,e,n){var r;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(r=i.call(this,t))._texture=e,r._tag=n,r}return e=u,(n=[{key:"texture",get:function(){return this._texture}},{key:"tag",get:function(){return this._tag}}])&&o(e.prototype,n),u}()},function(t,e,n){var r=n(19),i=n(45),o=n(44),a=n(86)("src"),s=n(492),u=(""+s).split("toString");n(29).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(6),i=n(20),o=n(66),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(31),i=n(85);t.exports=n(30)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(115),i=n(66);t.exports=function(t){return r(i(t))}},function(t,e,n){var r={createContext:n(686),setVertexAttribArrays:n(289),GLBuffer:n(687),GLFramebuffer:n(688),GLShader:n(689),GLTexture:n(290),VertexArrayObject:n(690),shader:n(691)};t.exports&&(t.exports=r),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n(2);var r=n(18);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t,e){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t,e)}return e=u,(n=[{key:"toString",value:function(){return this._numerator+":"+this._denominator}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";var r=n(20);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r=n(52);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(116),i=n(85),o=n(46),a=n(73),s=n(44),u=n(254),l=Object.getOwnPropertyDescriptor;e.f=n(30)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(6),i=n(29),o=n(20);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(51),i=n(115),o=n(39),a=n(25),s=n(270);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var _,m,y=o(e),v=i(y),g=r(s,p,3),b=a(v.length),w=0,x=n?d(e,b):u?d(e,0):void 0;b>w;w++)if((f||w in v)&&(m=g(_=v[w],w,y),t))if(n)x[w]=m;else if(m)switch(t){case 3:return!0;case 5:return _;case 6:return w;case 2:x.push(_)}else if(c)return!1;return h?-1:l||c?c:x}}},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return r.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return(r?"/":"")+(e=n(o(e.split("/"),function(t){return!!t}),!r).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),i="/"===a(t,-1);return(t=n(o(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&i&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(711))},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(0);var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,r.a);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this,"guardian_elf_male",r.a.TYPE_ELF,i)).setIdleAnims(["idle1_elf"]),t.setAttackAnims(["attack_elf"]),t.setDamageAnims(["damage_elf"]),t.setDefeatAnims(["defeat_elf"]),t.setVictoryAnims(["victory_elf"]),t.setWeaponRevealAnims(["weapon_reveal_elf"]),t._attackSoundName="sfx_guardian_arrow_attack_00",t}return n}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(0);var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,r.a);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this,"guardian_knight_male",r.a.TYPE_KNIGHT,i)).setIdleAnims(["idle1_knight"]),t.setAttackAnims(["attack_knight"]),t.setDamageAnims(["damage_knight"]),t.setDefeatAnims(["defeat_knight"]),t.setVictoryAnims(["victory_knight"]),t.setWeaponRevealAnims(["weapon_reveal_knight"]),t._attackSoundName="sfx_guardian_sword_attack_00",t}return n}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(0);var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,r.a);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this,"guardian_ranger_male",r.a.TYPE_RANGER,i)).setIdleAnims(["idle1_ranger"]),t.setAttackAnims(["attack_ranger"]),t.setDamageAnims(["damage_ranger"]),t.setDefeatAnims(["defeat_ranger"]),t.setVictoryAnims(["victory_ranger"]),t.setWeaponRevealAnims(["weapon_reveal_ranger"]),t._attackSoundName="sfx_guardian_spear_attack_00",t}return n}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(0);var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,r.a);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this,"guardian_warrior",r.a.TYPE_WARRIOR,i)).setIdleAnims(["idle1_warrior"]),t.setAttackAnims(["attack_warrior1"]),t.setDamageAnims(["damage_warrior1"]),t.setDefeatAnims(["defeat_warrior1"]),t.setVictoryAnims(["victory_warrior1"]),t.setWeaponRevealAnims(["weapon_reveal_warrior1"]),t._attackSoundName="sfx_guardian_hammer_attack_00",t}return n}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(0);var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,r.a);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this,"guardian_wizard",r.a.TYPE_WIZARD,i)).setIdleAnims(["idle1_wizard"]),t.setAttackAnims(["attack_wizard1"]),t.setDamageAnims(["damage_wizard1"]),t.setDefeatAnims(["defeat_wizard1"]),t.setVictoryAnims(["victory_wizard1"]),t.setWeaponRevealAnims(["weapon_reveal_wizard1"]),t._attackSoundName="sfx_guardian_spell_attack_00",t}return n}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n(0);var r=n(26);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t,e){var n;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(n=i.call(this,t,e))._selected=[],n}return e=u,(n=[{key:"selectOption",value:function(t){this._selected.push(t.value),this._view.setAnswer(this._selected),t.toggle=!0}},{key:"deselectOption",value:function(t){var e=this._selected.indexOf(t.value);-1!==e&&(this._selected.splice(e,1),t.toggle=!1)}},{key:"onOptionButtonClick",value:function(t){-1!==this._selected.indexOf(t.value)?this.deselectOption(t):this.selectOption(t)}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(49);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,r.a);var e,n,i,u=s(l);function l(t,e){return function(t,e){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),u.call(this,t,e)}return e=l,i=[{key:"isInt",value:function(t){return t%1==0}}],(n=[{key:"toString",value:function(){return Math.round(100*this.value)+"%"}}])&&o(e.prototype,n),i&&o(e,i),l}()},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";if(n(30)){var r=n(87),i=n(19),o=n(20),a=n(6),s=n(142),u=n(232),l=n(51),c=n(105),h=n(85),f=n(45),d=n(106),p=n(53),_=n(25),m=n(281),y=n(89),v=n(73),g=n(44),b=n(117),w=n(22),x=n(39),T=n(224),E=n(90),P=n(92),S=n(91).f,M=n(226),O=n(86),I=n(24),k=n(56),L=n(132),A=n(118),D=n(228),R=n(103),C=n(135),j=n(104),Y=n(227),N=n(272),B=n(31),F=n(54),H=B.f,V=F.f,q=i.RangeError,W=i.TypeError,U=i.Uint8Array,X=Array.prototype,G=u.ArrayBuffer,z=u.DataView,Q=k(0),J=k(2),K=k(3),Z=k(4),$=k(5),tt=k(6),et=L(!0),nt=L(!1),rt=D.values,it=D.keys,ot=D.entries,at=X.lastIndexOf,st=X.reduce,ut=X.reduceRight,lt=X.join,ct=X.sort,ht=X.slice,ft=X.toString,dt=X.toLocaleString,pt=I("iterator"),_t=I("toStringTag"),mt=O("typed_constructor"),yt=O("def_constructor"),vt=s.CONSTR,gt=s.TYPED,bt=s.VIEW,wt=k(1,function(t,e){return St(A(t,t[yt]),e)}),xt=o(function(){return 1===new U(new Uint16Array([1]).buffer)[0]}),Tt=!!U&&!!U.prototype.set&&o(function(){new U(1).set({})}),Et=function(t,e){var n=p(t);if(n<0||n%e)throw q("Wrong offset!");return n},Pt=function(t){if(w(t)&&gt in t)return t;throw W(t+" is not a typed array!")},St=function(t,e){if(!(w(t)&&mt in t))throw W("It is not a typed array constructor!");return new t(e)},Mt=function(t,e){return Ot(A(t,t[yt]),e)},Ot=function(t,e){for(var n=0,r=e.length,i=St(t,r);r>n;)i[n]=e[n++];return i},It=function(t,e,n){H(t,e,{get:function(){return this._d[n]}})},kt=function(t){var e,n,r,i,o,a,s=x(t),u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,f=M(s);if(null!=f&&!T(f)){for(a=f.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(h&&u>2&&(c=l(c,arguments[2],2)),e=0,n=_(s.length),i=St(this,n);n>e;e++)i[e]=h?c(s[e],e):s[e];return i},Lt=function(){for(var t=0,e=arguments.length,n=St(this,e);e>t;)n[t]=arguments[t++];return n},At=!!U&&o(function(){dt.call(new U(1))}),Dt=function(){return dt.apply(At?ht.call(Pt(this)):Pt(this),arguments)},Rt={copyWithin:function(t,e){return N.call(Pt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Z(Pt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return Y.apply(Pt(this),arguments)},filter:function(t){return Mt(this,J(Pt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return $(Pt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Pt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Pt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(Pt(this),arguments)},lastIndexOf:function(t){return at.apply(Pt(this),arguments)},map:function(t){return wt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Pt(this),arguments)},reduceRight:function(t){return ut.apply(Pt(this),arguments)},reverse:function(){for(var t,e=Pt(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return K(Pt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(Pt(this),t)},subarray:function(t,e){var n=Pt(this),r=n.length,i=y(t,r);return new(A(n,n[yt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,_((void 0===e?r:y(e,r))-i))}},Ct=function(t,e){return Mt(this,ht.call(Pt(this),t,e))},jt=function(t){Pt(this);var e=Et(arguments[1],1),n=this.length,r=x(t),i=_(r.length),o=0;if(i+e>n)throw q("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Yt={entries:function(){return ot.call(Pt(this))},keys:function(){return it.call(Pt(this))},values:function(){return rt.call(Pt(this))}},Nt=function(t,e){return w(t)&&t[gt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Bt=function(t,e){return Nt(t,e=v(e,!0))?h(2,t[e]):V(t,e)},Ft=function(t,e,n){return!(Nt(t,e=v(e,!0))&&w(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?H(t,e,n):(t[e]=n.value,t)};vt||(F.f=Bt,B.f=Ft),a(a.S+a.F*!vt,"Object",{getOwnPropertyDescriptor:Bt,defineProperty:Ft}),o(function(){ft.call({})})&&(ft=dt=function(){return lt.call(this)});var Ht=d({},Rt);d(Ht,Yt),f(Ht,pt,Yt.values),d(Ht,{slice:Ct,set:jt,constructor:function(){},toString:ft,toLocaleString:Dt}),It(Ht,"buffer","b"),It(Ht,"byteOffset","o"),It(Ht,"byteLength","l"),It(Ht,"length","e"),H(Ht,_t,{get:function(){return this[gt]}}),t.exports=function(t,e,n,u){var l=t+((u=!!u)?"Clamped":"")+"Array",h="get"+t,d="set"+t,p=i[l],y=p||{},v=p&&P(p),g=!p||!s.ABV,x={},T=p&&p.prototype,M=function(t,n){H(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[h](n*e+r.o,xt)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,xt)}(this,n,t)},enumerable:!0})};g?(p=n(function(t,n,r,i){c(t,p,l,"_d");var o,a,s,u,h=0,d=0;if(w(n)){if(!(n instanceof G||"ArrayBuffer"==(u=b(n))||"SharedArrayBuffer"==u))return gt in n?Ot(p,n):kt.call(p,n);o=n,d=Et(r,e);var y=n.byteLength;if(void 0===i){if(y%e)throw q("Wrong length!");if((a=y-d)<0)throw q("Wrong length!")}else if((a=_(i)*e)+d>y)throw q("Wrong length!");s=a/e}else s=m(n),o=new G(a=s*e);for(f(t,"_d",{b:o,o:d,l:a,e:s,v:new z(o)});h<s;)M(t,h++)}),T=p.prototype=E(Ht),f(T,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&C(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,r,i){var o;return c(t,p,l),w(n)?n instanceof G||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==i?new y(n,Et(r,e),i):void 0!==r?new y(n,Et(r,e)):new y(n):gt in n?Ot(p,n):kt.call(p,n):new y(m(n))}),Q(v!==Function.prototype?S(y).concat(S(v)):S(y),function(t){t in p||f(p,t,y[t])}),p.prototype=T,r||(T.constructor=p));var O=T[pt],I=!!O&&("values"==O.name||null==O.name),k=Yt.values;f(p,mt,!0),f(T,gt,l),f(T,bt,!0),f(T,yt,p),(u?new p(1)[_t]==l:_t in T)||H(T,_t,{get:function(){return l}}),x[l]=p,a(a.G+a.W+a.F*(p!=y),x),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){y.of.call(p,1)}),l,{from:kt,of:Lt}),"BYTES_PER_ELEMENT"in T||f(T,"BYTES_PER_ELEMENT",e),a(a.P,l,Rt),j(l),a(a.P+a.F*Tt,l,{set:jt}),a(a.P+a.F*!I,l,Yt),r||T.toString==ft||(T.toString=ft),a(a.P+a.F*o(function(){new p(1).slice()}),l,{slice:Ct}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){T.toLocaleString.call([1,2])})),l,{toLocaleString:Dt}),R[l]=I?O:k,r||I||f(T,pt,k)}}else t.exports=function(){}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(1);var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){var e;if(function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),e=i.call(this,t),t.hasOwnProperty("useBG")&&t.useBG){var n=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),0,20,0,20);n.position.set(0,340),n.width=300,n.height=250,n.pivot.set(.5*n.width,.5*n.height),e.addChild(n)}return e._display=new PIXI.Sprite(t.answer.texture),e._display.position.set(0,340),e._display.anchor.set(.5),e.addChild(e._display),e}return e=u,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(r&&r.length>0&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=e.words,o=this._template?this._template.text:"";if(this._template){var a=this.generateWords(this._template.text,i.names,/\[NAME([0-9])?]/g);for(var s in a)a.hasOwnProperty(s)&&(o=o.replace(new RegExp(P3.utils.escape(s),"g"),a[s]));var u=this.generateWords(this._template.text,i.items,/\[ITEM([0-9])?]/g);for(var l in u)u.hasOwnProperty(l)&&(o=o.replace(new RegExp(P3.utils.escape(l),"g"),u[l]));var c=this.generateWords(this._template.text,i.defenceitem,/\[DEFENCE([0-9])?]/g);for(var h in c)c.hasOwnProperty(h)&&(o=o.replace(new RegExp(P3.utils.escape(h),"g"),c[h]));var f=this.generateWords(this._template.text,i.currency,/\[CURRENCY([0-9])?]/g);for(var d in f)f.hasOwnProperty(d)&&(o=o.replace(new RegExp(P3.utils.escape(d),"g"),f[d]));var p=this.generateWords(this._template.text,i.item_pairs,/\[ITEM_PAIR([0-9])?]/g);for(var _ in p)p.hasOwnProperty(_)&&(o=(o=o.replace(new RegExp(P3.utils.escape(_)),p[_][0])).replace(new RegExp(P3.utils.escape(_),"g"),p[_][1]));var m=this.generateWords(this._template.text,i.enemies,/\[ENEMY([0-9])?]/g);for(var y in m)m.hasOwnProperty(y)&&(o=o.replace(new RegExp(P3.utils.escape(y),"g"),m[y]));var v=this.generateWords(this._template.text,i.locations,/\[LOCATION([0-9])?]/g);for(var g in v)v.hasOwnProperty(g)&&(o=o.replace(new RegExp(P3.utils.escape(g),"g"),v[g]));var b=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var w in b)b.hasOwnProperty(w)&&(o=this._template.hasOwnProperty("value")?o.replace(new RegExp(P3.utils.escape(w),"g"),this._question.answer.value):o.replace(new RegExp(P3.utils.escape(w),"g"),b[w]));var x=this._template.text.match(/\[RANDINRANGE?]/g);if(x){for(var T=[],E=this._question.range.min;E<=this._question.range.max;E++){var P=!0;for(var S in b)b[S]===E&&(P=!1);P&&T.push(E)}var M=T[P3.math.randomInt(0,T.length-1)];for(var O in x)o=o.replace(new RegExp(P3.utils.escape("[RANDINRANGE]"),"g"),M)}var I=o.match(/\[GEM([0-9])?]/g);I&&(o=o.replace(I,P3.utils.selectRandom(i.gems)));var k=o.match(/\. [a-z]/g);if(k)for(var L=0;L<k.length;++L){var A=k[L];o=o.replace(new RegExp(P3.utils.escape(A),"g"),A.toUpperCase())}}return o}},{key:"filterTemplate",value:function(t){return!0}},{key:"display",get:function(){return this._display}}])&&o(e.prototype,n),u}()},function(t,e,n){
/*!
* screenfull
* v3.3.2 - 2017-10-27
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=t.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((t=n[r])&&t[1]in e){for(r=0;r<t.length;r++)o[n[0][r]]=t[r];return o}return!1}(),o={change:i.fullscreenchange,error:i.fullscreenerror},a={request:function(t){var n=i.requestFullscreen;t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[n]():t[n](r&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){e[i.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var r=o[t];r&&e.addEventListener(r,n,!1)},off:function(t,n){var r=o[t];r&&e.removeEventListener(r,n,!1)},raw:i};i?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),n?t.exports=a:window.screenfull=a):n?t.exports=!1:window.screenfull=!1}()},function(t,e){t.exports=function(t){"use strict";for(var e={},n=location.search.substr(1).split("&"),r=0;r<n.length;r++)e[n[r].split("=")[0]]=decodeURIComponent(n[r].split("=")[1]);return t?e.hasOwnProperty(t)?decodeURIComponent(e[t].replace(/\+/g," ")):"":e}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t,e,n){var r;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(r=i.call(this,t))._name=e,r._texture=n,r}return e=u,(n=[{key:"toString",value:function(){return this._name}},{key:"texture",get:function(){return this._texture}}])&&o(e.prototype,n),u}()},function(t,e,n){var r;
/**
 * @license Fraction.js v4.0.12 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.0.12 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(n){"use strict";var i={s:1,n:0,d:1};function o(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function n(){}return n.prototype=Error.prototype,e.prototype=new n,e}var a=f.DivisionByZero=o("DivisionByZero"),s=f.InvalidParameter=o("InvalidParameter");function u(t,e){return isNaN(t=parseInt(t,10))&&l(),t*e}function l(){throw new s}var c=function(t,e){var n,r=0,o=1,s=1,c=0,h=0,f=0,d=1,p=1,_=0,m=1,y=1,v=1,g=1e7;if(null==t);else if(void 0!==e)s=(r=t)*(o=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(r=t.n,o=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(o=t[1])):l(),s=r*o;break;case"number":if(t<0&&(s=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(t/=p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));m<=g&&v<=g;){if(t===(n=(_+y)/(m+v))){m+v<=g?(r=_+y,o=m+v):v>m?(r=y,o=v):(r=_,o=m);break}t>n?(_+=y,m+=v):(y+=_,v+=m),m>g?(r=y,o=v):(r=_,o=m)}r*=p}else(isNaN(t)||isNaN(e))&&(o=r=NaN);break;case"string":if(null===(m=t.match(/\d+|./g))&&l(),"-"===m[_]?(s=-1,_++):"+"===m[_]&&_++,m.length===_+1?h=u(m[_++],s):"."===m[_+1]||"."===m[_]?("."!==m[_]&&(c=u(m[_++],s)),(++_+1===m.length||"("===m[_+1]&&")"===m[_+3]||"'"===m[_+1]&&"'"===m[_+3])&&(h=u(m[_],s),d=Math.pow(10,m[_].length),_++),("("===m[_]&&")"===m[_+2]||"'"===m[_]&&"'"===m[_+2])&&(f=u(m[_+1],s),p=Math.pow(10,m[_+1].length)-1,_+=3)):"/"===m[_+1]||":"===m[_+1]?(h=u(m[_],s),d=u(m[_+2],1),_+=3):"/"===m[_+3]&&" "===m[_+1]&&(c=u(m[_],s),h=u(m[_+2],s),d=u(m[_+4],1),_+=5),m.length<=_){s=r=f+(o=d*p)*c+p*h;break}default:l()}if(0===o)throw new a;i.s=s<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(o)};function h(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function f(t,e){if(!(this instanceof f))return new f(t,e);c(t,e),t=f.REDUCE?h(i.d,i.n):1,this.s=i.s,this.n=i.n/t,this.d=i.d/t}f.REDUCE=1,f.prototype={s:1,n:0,d:1,abs:function(){return new f(this.n,this.d)},neg:function(){return new f(-this.s*this.n,this.d)},add:function(t,e){return c(t,e),new f(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(t,e){return c(t,e),new f(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(t,e){return c(t,e),new f(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(t,e){return c(t,e),new f(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new f(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new f(NaN):void 0===t?new f(this.s*this.n%this.d,1):(c(t,e),0===i.n&&0===this.d&&f(0,0),new f(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(t,e){return c(t,e),new f(h(i.n,this.n)*h(i.d,this.d),i.d*this.d)},lcm:function(t,e){return c(t,e),0===i.n&&0===this.n?new f:new f(i.n*this.n,h(i.n,this.n)*h(i.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new f(this.s*this.d,this.n)},pow:function(t){return t<0?new f(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new f(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return c(t,e),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(t,e){c(t,e);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function n(t){return 1===t.length?new f(t[0]):n(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var r=0;r<e.length;r++){var i=n(e.slice(0,r+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return c(t,e),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(this.n)||isNaN(this.d))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";f.REDUCE||(n/=e=h(n,r),r/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,r),o=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0}(0,r,i),a=-1===this.s?"-":"";if(a+=n/r|0,n%=r,(n*=10)&&(a+="."),i){for(var s=o;s--;)a+=n/r|0,n%=r,n*=10;for(a+="(",s=i;s--;)a+=n/r|0,n%=r,n*=10;a+=")"}else for(s=t;n&&s--;)a+=n/r|0,n%=r,n*=10;return a}},void 0===(r=function(){return f}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){var r=n(22);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(86)("meta"),i=n(22),o=n(44),a=n(31).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(20)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&h.NEED&&u(t)&&!o(t,r)&&c(t),t}}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(107)),o=h(n(303)),a=h(n(304)),s=h(n(96)),u=n(35),l=n(23),c=h(n(33));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(n,r,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(s.noFrame=!1,r||(s.noFrame=!0,r=new u.Rectangle(0,0,1,1)),n instanceof e&&(n=n.baseTexture),s.baseTexture=n,s._frame=r,s.trim=o,s.valid=!1,s.requiresUpdate=!1,s._uvs=null,s.orig=i||r,s._rotate=Number(a||0),!0===a)s._rotate=2;else if(s._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return n.hasLoaded?(s.noFrame&&(r=new u.Rectangle(0,0,n.width,n.height),n.on("update",s.onBaseTextureUpdated,s)),s.frame=r):n.once("loaded",s.onBaseTextureLoaded,s),s._updateID=0,s.transform=null,s.textureCacheIds=[],s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(l.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new a.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,n,r,o){var a=l.TextureCache[t];return a||(a=new e(i.default.fromImage(t,n,r,o)),e.addToCache(a,t)),a},e.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(i.default.fromCanvas(t,n,r))},e.fromVideo=function(t,n){return"string"==typeof t?e.fromVideoUrl(t,n):new e(o.default.fromVideo(t,n))},e.fromVideoUrl=function(t,n){return new e(o.default.fromUrl(t,n))},e.from=function(t){return"string"==typeof t?l.TextureCache[t]||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t)):t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,c.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,n,r){var o=new i.default(t,void 0,(0,l.getResolutionOfUrl)(n)),a=new e(o);return o.imageUrl=n,r||(r=n),i.default.addToCache(a.baseTexture,r),e.addToCache(a,r),r!==n&&(i.default.addToCache(a.baseTexture,n),e.addToCache(a,n)),a},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),l.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),l.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=l.TextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete l.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)l.TextureCache[t.textureCacheIds[r]]===t&&delete l.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},r(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,r=t.width,i=t.height,o=e+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",u="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,l="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+l)}this.valid=r&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(s.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new i.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new f(new i.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(0);var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,r.a);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this,"guardian_elf_female",r.a.TYPE_ELF_FEMALE,i)).setIdleAnims(["idle1_elf"]),t.setAttackAnims(["attack_elf"]),t.setDamageAnims(["damage_elf"]),t.setDefeatAnims(["defeat_elf"]),t.setVictoryAnims(["victory_elf"]),t.setWeaponRevealAnims(["weapon_reveal_elf"]),t._attackSoundName="sfx_guardian_arrow_attack_00",t}return n}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(0);var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,r.a);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this,"guardian_knight_female",r.a.TYPE_KNIGHT_FEMALE,i)).setIdleAnims(["idle1_knight"]),t.setAttackAnims(["attack_knight"]),t.setDamageAnims(["damage_knight"]),t.setDefeatAnims(["defeat_knight"]),t.setVictoryAnims(["victory_knight"]),t.setWeaponRevealAnims(["weapon_reveal_knight"]),t._attackSoundName="sfx_guardian_sword_attack_00",t}return n}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(0);var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,r.a);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this,"guardian_ranger_female",r.a.TYPE_RANGER_FEMALE,i)).setIdleAnims(["idle1_ranger"]),t.setAttackAnims(["attack_ranger"]),t.setDamageAnims(["damage_ranger"]),t.setDefeatAnims(["defeat_ranger"]),t.setVictoryAnims(["victory_ranger"]),t.setWeaponRevealAnims(["weapon_reveal_ranger"]),t._attackSoundName="sfx_guardian_spear_attack_00",t}return n}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(0);var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,r.a);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this,"guardian_witch",r.a.TYPE_WITCH,i)).setIdleAnims(["idle1_witch"]),t.setAttackAnims(["attack_witch"]),t.setDamageAnims(["damage_witch"]),t.setDefeatAnims(["defeat_witch"]),t.setVictoryAnims(["victory_witch"]),t.setWeaponRevealAnims(["weapon_reveal_witch"]),t._attackSoundName="sfx_guardian_spell_attack_00",t}return n}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(1),i=n(2),o=n(8);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,o.a);var e,n,a=c(f);function f(){return function(t,e){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}(this),a.call(this)}return e=f,(n=[{key:"create",value:function(t){var e=u(h(f.prototype),"create",this).call(this,t);switch(t.type){case r.a.TYPE_ADDITION:this.generateValuesAddition(e,t);break;case r.a.TYPE_SUBTRACTION:this.generateValuesSubtraction(e,t);break;case r.a.TYPE_MULTIPLICATION:this.generateValuesMultiplication(e,t);break;case r.a.TYPE_MULTIPLICATION_FRACTION:this.generateValuesMultiplicationFraction(e,t);break;case r.a.TYPE_DIVISION_FRACTION:case r.a.TYPE_DIVISION:this.generateValuesDivision(e,t);break;case r.a.TYPE_MIXED_ARITHMETIC:this.generateValuesMixed(e,t);break;default:console.warn("unknown module type : "+t.type)}if(e.view===r.a.VIEW_STATEMENT_MULTI){e.part=[];var n=P3.utils.objectToArray(t.parts),i=P3.math.randomInt(0,n.length-1);e.part.push(n[i]),n.splice(i,1),i=P3.math.randomInt(0,n.length-1),e.part.push(n[i])}else e.part="number"==typeof t.parts?t.parts:P3.utils.selectRandom(P3.utils.objectToArray(t.parts));return e.options=this.generateOptions(e,t.options||5),e.xp=t.xp,e.useWords=!1,e}},{key:"generateValuesMixed",value:function(t,e){for(var n=0;n<e.values-1;++n){var r=Array.isArray(e.range)?P3.math.randomInt(e.range[n].min,e.range[n].max):P3.math.randomInt(e.range.min,e.range.max);t.values.push(new i.a(r))}t.values.sort(function(t,e){return e.value-t.value});var o=e.operands.slice();t.operands=[];for(var a=t.values[0].value,s=1;s<t.values.length;s++){var u=P3.math.randomInt(0,o.length-1),l=o[u];switch(l){case"+":a+=t.values[s].value;break;case"-":a-=t.values[s].value;break;default:console.warn("unsupported operand : "+l)}t.operands.push(l),o.splice(u,1)}t.values.push(new i.a(a))}},{key:"generateValuesAddition",value:function(t,e){for(var n=0,r=0;r<e.values-1;++r){var o=Array.isArray(e.range)?P3.math.randomInt(e.range[r].min,e.range[r].max):P3.math.randomInt(e.range.min,e.range.max);t.values.push(new i.a(o)),0===r?n=o:n+=o}t.values.push(new i.a(n))}},{key:"generateValuesSubtraction",value:function(t,e){for(var n=0;n<e.values-1;++n){var r=Array.isArray(e.range)?P3.math.randomInt(e.range[n].min,e.range[n].max):P3.math.randomInt(e.range.min,e.range.max);t.values.push(new i.a(r))}t.values.sort(function(t,e){return e.value-t.value});for(var o=t.values[0].value,a=1;a<t.values.length;a++)o-=t.values[a].value;0===o&&(o+=1,t.values[t.values.length-2]=new i.a(t.values[t.values.length-2].value-1)),t.values.push(new i.a(o))}},{key:"generateValuesMultiplication",value:function(t,e){for(var n=0,r=0;r<e.values-1;++r){var o=Array.isArray(e.range)?P3.math.randomInt(e.range[r].min,e.range[r].max):P3.math.randomInt(e.range.min,e.range.max);t.values.push(new i.a(o)),n=0===r?o:Math.round(n*o)}t.values.push(new i.a(n))}},{key:"generateValuesDivision",value:function(t,e){if(t.type===r.a.TYPE_DIVISION_FRACTION){var n,o,a=P3.math.randomInt(e.range.min,e.range.max);n=e.scale,o=(a/=e.scale)*n,t.values.push(new i.a(Math.round(o))),t.values.push(new i.a(Math.round(n))),t.values.push(new i.a(a))}else{e.div_range||(e.div_range=e.range);var s=P3.math.randomInt(e.div_range.min,e.div_range.max),u=P3.math.randomInt(e.range.min,e.range.max),l=s*u;t.values.push(new i.a(l)),t.values.push(new i.a(s)),t.values.push(new i.a(u))}}},{key:"generateValuesMultiplicationFraction",value:function(t,e){var n=parseFloat(P3.math.random(e.range.min,e.range.max).toFixed(1)),r=e.scale,o=Math.round(n*r);t.values.push(new i.a(n)),t.values.push(new i.a(r)),t.values.push(new i.a(o)),t.useWords=!1}},{key:"generateOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],1e3),o=[t.answer];switch(t.type){case r.a.TYPE_MIXED_ARITHMETIC:case r.a.TYPE_ADDITION:for(var a=function(){var e=Math.abs(t.answer.value+P3.math.randomInt(-10,10));o.every(function(t){return t.value!==e})&&o.push(new i.a(e))};o.length<e&&n-- >0;)a();break;case r.a.TYPE_SUBTRACTION:for(var s=function(){var e=Math.abs(t.answer.value+P3.math.randomInt(-8,8));o.every(function(t){return t.value!==e})&&o.push(new i.a(e))};o.length<e&&n-- >0;)s();break;case r.a.TYPE_MULTIPLICATION:for(var u=function(){var e=function(){var e=Array.isArray(t.range)?Math.min(t.range[0].min,-t.answer.value):Math.min(t.range.min,-t.answer.value),n=Array.isArray(t.range)?Math.min(t.range[0].max,t.answer.value):Math.min(t.range.min,-t.answer.value);switch(P3.math.randomInt(0,1)){default:case 0:return t.answer.value+P3.math.randomInt(e,n)}}();o.every(function(t){return t.value!==e})&&o.push(new i.a(e))};o.length<e&&n-- >0;)u();break;case r.a.TYPE_DIVISION:for(var l=function(){var e=function(){var e=Math.min(t.range.min,-t.answer.value),n=Math.max(t.range.max,t.answer.value);switch(P3.math.randomInt(0,1)){default:case 0:return t.answer.value+P3.math.randomInt(e,n)}}();o.every(function(t){return t.value!==e})&&o.push(new i.a(e))};o.length<e&&n-- >0;)l();break;case r.a.TYPE_DIVISION_FRACTION:for(var c=function(){var e=function(){switch(P3.math.randomInt(0,2)){default:case 0:return parseFloat((t.answer.value+P3.math.random(.1,.9)).toFixed(1));case 1:return parseFloat((t.answer.value+P3.math.random(.1,.9)/10).toFixed(1));case 2:return parseFloat(((t.answer.value+P3.math.random(0,.1))/10).toFixed(2))}}();o.every(function(t){return t.value!==e})&&o.push(new i.a(e))};o.length<e&&n-- >0;)c();break;case r.a.TYPE_MULTIPLICATION_FRACTION:if("break"===function(){for(var r=[10,100],a=function(){var e=function(){switch(P3.math.randomInt(0,1)){default:case 0:return parseInt(""+t.answer.value*P3.utils.selectRandom(r));case 1:return parseInt(""+t.answer.value/P3.utils.selectRandom(r))}}();o.every(function(t){return t.value!==e})&&o.push(new i.a(e))};o.length<e&&n-- >0;)a();return"break"}())break}return P3.utils.shuffleArray(o),o}}])&&s(e.prototype,n),f}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n(1);var r=n(83);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"getHeaderText",value:function(){var t=P3.assets.json("templates");this._answer=this._question.answer;var e=this._getTemplate(t),n=e?e.text:"",r=t.words,i=this.generateWords(n,r.generic_locations,/\[GENERIC_LOCATION([0-9])?]/g);for(var o in i)i.hasOwnProperty(o)&&(n=n.replace(new RegExp(P3.utils.escape(o),"g"),i[o]));var a=this.generateWords(n,r.verb,/\[VERB([0-9])?]/g);for(var s in a)a.hasOwnProperty(s)&&(n=n.replace(new RegExp(P3.utils.escape(s),"g"),a[s]));return n=this._replaceValues(n),this._replaceEnemies(t.words.enemies,n)}},{key:"_replaceValues",value:function(t){var e=t.match(/\[VALUE([0-9])?]/g);if(e)for(var n=0;n<e.length;n++)t=t.replace(e[n],this._question.values[n].toTime());return t}},{key:"filterTemplate",value:function(t){return t.view===this.question.view}},{key:"isCorrect",value:function(){return!!this._inputValue&&this._inputValue.value[0]===this._question.answer.value[0]&&this._inputValue.value[1]===this._question.answer.value[1]}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(14),i=n(1);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,r.a);var e,n,o=l(h);function h(t){return function(t,e){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),o.call(this,t)}return e=h,(n=[{key:"getHeaderText",value:function(){var t=P3.assets.json("templates");this._answer=this._question.answer;var e=this._getTemplate(t),n=e?e.text:"",r=t.words;switch(this.question.type){case i.a.TYPE_MISSING_ANGLE:n=this._conversionPerecentOfX(n);break;case i.a.TYPE_PERIMETER:n=this._perimeter(n);break;case i.a.TYPE_COVERSION_X_IN_Y:n=this._conversionXinY(n);break;case i.a.TYPE_COVERSION_SUBTRACTION:n=this._conversionSubtraction(n);break;case i.a.TYPE_COVERSION_ADDITION:n=this._conversionAddition(n);break;case i.a.TYPE_COVERSION_PERCENT_OF_X:n=this._conversionPerecentOfX(n);break;case i.a.TYPE_COVERSION_MULTIPLICATION:n=this._conversionMultiplication(n)}var o=this.generateWords(e.text,r.carry_items_liquid,/\[CARRY_ITEM_LIQUID([0-9])?]/g);for(var a in o)o.hasOwnProperty(a)&&(n=n.replace(new RegExp(P3.utils.escape(a),"g"),o[a]));for(var s in o=this.generateWords(e.text,r.items,/\[ITEM([0-9])?]/g))o.hasOwnProperty(s)&&(n=n.replace(new RegExp(P3.utils.escape(s),"g"),o[s]));for(var u in o=this.generateWords(e.text,r.character_class,/\[CHARACTER_CLASS([0-9])?]/g))o.hasOwnProperty(u)&&(n=n.replace(new RegExp(P3.utils.escape(u),"g"),o[u]));return n=this._replaceLocation(t.words.locations,n),n=this._replaceNames(t.words.names,n),n=this._replaceEnemies(t.words.enemies,n),n=this._replaceWeapons(t.words.defenceitem,n),n=this._replaceUnits(n),n=this._replaceItems(t.words.item_measurement,n),this._replaceCurrency(t.words.currency,n)}},{key:"_getTemplate",value:function(t){var e=this,n=this._question.template.split("/"),r=t.templates[n[0]][n[1]];return r&&r.length>0?(r=r.slice().filter(function(t){return e.filterTemplate(t)}),P3.utils.selectRandom(r)):"ERROR: NO TEMPLATE FOUND"}},{key:"_replaceUnits",value:function(t){var e=t.match(/\[UNIT([0-9])?]/g);if(e)switch(this.question.type){default:for(var n=0;n<e.length;n++)t=t.replace(e[n],this.question.units[n].long);break;case i.a.TYPE_MISSING_ANGLE:for(var r=0;r<e.length;r++)t=t.replace(e[r],this.question.unit.long);break;case i.a.TYPE_PERIMETER:for(var o=0;o<e.length;o++)t=t.replace(e[o]," "+this.question.units.long);break;case i.a.TYPE_COVERSION_PERCENT_OF_X:t=t.replace(e,this.question.units[1].long);break;case i.a.TYPE_COVERSION_MULTIPLICATION:t=t.replace(e,this._question.units[this._question.units.length-1].short)}return t}},{key:"_replaceLocation",value:function(t,e){var n=e.match(/\[LOCATION([0-9])?]/g);if(n)for(var r=0;r<n.length;r++)e=e.replace(n[r],P3.utils.selectRandom(t));return e}},{key:"_replaceNames",value:function(t,e){var n=e.match(/\[NAME([0-9])?]/g);if(n)if(this.question.type===i.a.TYPE_COVERSION_SUBTRACTION)for(var r="",o="",a=P3.utils.copyObject(t,!0),s=0;s<n.length;s++)r!==n[s]&&(o=P3.utils.selectRandom(a)),r=n[s],e=e.replace(r,o),a.splice(a.indexOf(o),1);else e=e.replace(n,P3.utils.selectRandom(t));return e}},{key:"_replaceEnemies",value:function(t,e){var n=e.match(/\[ENEMY([0-9])?]/g);return n&&(e=e.replace(n,P3.utils.selectRandom(t))),e}},{key:"_replaceWeapons",value:function(t,e){var n=e.match(/\[DEFENCE([0-9])?]/g);return n&&(e=e.replace(n,P3.utils.selectRandom(t))),e}},{key:"_replaceItems",value:function(t,e){if(this.question.hasOwnProperty("item")){if(null===this.question.item)return e;var n=e.match(/\[ITEM_MEASUREMENT([0-9])?]/g);n&&(e=e.replace(n,P3.utils.selectRandom(t[this.question.item])))}return e}},{key:"_replaceCurrency",value:function(t,e){var n=e.match(/\[CURRENCY([0-9])?]/g),r=P3.utils.selectRandom(t);if(n)for(var i=0;i<n.length;i++)e=e.replace(n[i],r);return e}},{key:"_conversionXinY",value:function(t){var e=t.match(/\[VALUE([0-9])?]/g);return e&&(t=t.replace(e,this._question.values[this._question.reversed?1:0].value)),t}},{key:"_conversionSubtraction",value:function(t){var e=t.match(/\[VALUE([0-9])?]/g);return 3===this._question.part?(t=t.replace(e[0],this.question.values[1].value)).replace(e[1],this.question.values[0].value):(t=t.replace(e[0],this.question.values[0].value*this.question.conversion)).replace(e[1],this.question.values[3].value)}},{key:"_conversionAddition",value:function(t){var e=t.match(/\[VALUE([0-9])?]/g);return e&&(t=(t=t.replace(e[0],this.question.values[1].value)).replace(e[1],this.question.values[0].value)),t}},{key:"_conversionPerecentOfX",value:function(t){var e=t.match(/\[VALUE([0-9])?]/g);return e&&(t=(t=t.replace(e[0],this.question.values[0].value)).replace(e[1],this.question.values[1].value)),t}},{key:"_conversionMultiplication",value:function(t){var e=t.match(/\[VALUE([0-9])?]/g);return e&&(t=(t=t.replace(e[0],this.question.values[0].value)).replace(e[1],this.question.values[1].value)),t}},{key:"_perimeter",value:function(t){var e=this.generateValues(t,/\[VALUE([0-9])?]/g);for(var n in e)e.hasOwnProperty(n)&&(t=t.replace(new RegExp(P3.utils.escape(n),"g"),e[n]));return t}},{key:"initInputField",value:function(){if(s(c(h.prototype),"initInputField",this).call(this),this.question.answer.hasOwnProperty("_unit")){var t=new PIXI.Text(this.question.answer.unit,{fontSize:40,fontFamily:"BBC Reith Sans",fontWeight:"bold"});t.anchor.set(0,.5),t.resolution=2,t.position.set(.5*this._inputField.width,0),this._inputField.addChild(t)}}},{key:"filterTemplate",value:function(t){switch(this.question.type){case i.a.TYPE_MISSING_ANGLE:return t.hasOwnProperty("part");case i.a.TYPE_COVERSION_X_IN_Y:return t.reversed===this.question.reversed;case i.a.TYPE_COVERSION_PERCENT_OF_X:return!0;case i.a.TYPE_COVERSION_MULTIPLICATION:if(t.type.constructor===Array){for(var e=0;e<t.type.length;e++)if(t.type[e]===this.question.unitType||"any"===t.type[e])return!0;return!1}return t.type===this.question.unitType||"any"===t.type;case i.a.TYPE_COVERSION_EQUIVALENT:return!0;case i.a.TYPE_COVERSION_SUBTRACTION:if(t.part!==this.question.part)return!1;if(t.type.constructor===Array){for(var n=0;n<t.type.length;n++)if(t.type[n]===this.question.unitType||"any"===t.type[n])return!0;return!1}return t.type===this.question.unitType||"any"===t.type;default:return t.part===this.question.part}}}])&&a(e.prototype,n),h}()},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(58),i=n(9),o=n(59),a=n(60),s=n(61),u=n(62),l=n(0),c=n(128),h=n.n(c),f=n(5),d=n(12),p=n(37);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?b(t):e}(this,n)}}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(_,PIXI.Container);var e,n,c=g(_);function _(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.MODE_CHARACTER;!function(t,e){if(!(t instanceof _))throw new TypeError("Cannot call a class as a function")}(this),(t=c.call(this)).signals={character:new P3.utils.MiniSignal,item:new P3.utils.MiniSignal},t._mode=null,t._frame=0,t._pageIndex=0,t._pageCount=0,t._setPageFunc=null,t._characterColumns=4,t._characterRows=3,t._characterSlots=[],t._itemColumns=4,t._itemRows=5,t._itemSlots=[],t._slotMask=null,t._slotMaskTall=null;var n=new P3.ButtonStates;return n.normal=P3.assets.texture("ui_btn_tab_l_out"),n.over=P3.assets.texture("ui_btn_tab_l_over"),n.down=P3.assets.texture("ui_btn_tab_l_down"),n.normalAlt=P3.assets.texture("ui_btn_tab_l_over"),n.overAlt=P3.assets.texture("ui_btn_tab_l_over"),t._characterButton=new p.a(n),t._characterButton.animate=!1,t._characterButton.animateIcon=!1,t._characterButton.clickSoundName="sfx_btn_press_00",t._characterButton.voSoundName="vo_queen_118",t._characterButton.tabIndex=f.a.TAB_INDEX_LEVEL_1,t._characterButton.signals.click.add(t.onCharacterButtonClick,b(t)),t.addChild(t._characterButton),t._characterButton.label=new PIXI.extras.BitmapText("Character",{font:"30px BBC Reith Sans"}),t._characterButton.label.position.set(0,2),t._characterButton.label.anchor.set(.5),t._characterButton.label.tint=16777215,t._characterButton.animation.addChild(t._characterButton.label),(n=new P3.ButtonStates).normal=P3.assets.texture("ui_btn_tab_r_out"),n.over=P3.assets.texture("ui_btn_tab_r_over"),n.down=P3.assets.texture("ui_btn_tab_r_down"),n.normalAlt=P3.assets.texture("ui_btn_tab_r_over"),n.overAlt=P3.assets.texture("ui_btn_tab_r_over"),t._itemButton=new p.a(n),t._itemButton.animate=!1,t._itemButton.animateIcon=!1,t._itemButton.clickSoundName="sfx_btn_press_00",t._itemButton.voSoundName="vo_queen_116",t._itemButton.tabIndex=f.a.TAB_INDEX_LEVEL_1+1,t._itemButton.signals.click.add(t.onItemButtonClick,b(t)),t.addChild(t._itemButton),t._itemButton.label=new PIXI.extras.BitmapText("Equipment",{font:"30px BBC Reith Sans"}),t._itemButton.label.position.set(0,2),t._itemButton.label.anchor.set(.5),t._itemButton.label.tint=16777215,t._itemButton.animation.addChild(t._itemButton.label),t._panel=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_library_9slice"),40,40,40,40),t._panel.position.set(0,0),t._panel.width=432,t._panel.height=600,t._panel.pivot.set(.5*t._panel.width,.5*t._panel.height),t.addChild(t._panel),t._characterButton.position.set(-90,.5*-(t._panel.height+t._characterButton.height)+8),t._itemButton.position.set(90,.5*-(t._panel.height+t._itemButton.height)+8),t._activeSlots=new PIXI.Container,t._activeSlots.position.set(t._panel.x+22,t._panel.y+28),t._panel.addChild(t._activeSlots),t.initPagePanel(),t.initSlotMasks(),t.loadCharacters(),t.loadItems(),t.setMode(e),t}return e=_,(n=[{key:"destroy",value:function(){P3.utils.destroyAllSignals(this.signals),y(w(_.prototype),"destroy",this).call(this,{children:!0})}},{key:"update",value:function(t){if(this._frame++%3==0)for(var e=0;e<this._activeSlots.children.length;++e){var n=this._activeSlots.children[e];n.portrait&&n.portrait.update&&n.portrait.update(3*t*.5)}}},{key:"initPagePanel",value:function(){this._pagePanel=new PIXI.Container,this._pagePanel.position.set(214,0),this.addChild(this._pagePanel),this._pagePanel.image=new PIXI.Sprite(P3.assets.texture("ui_pagination_bg")),this._pagePanel.image.height=300,this._pagePanel.addChild(this._pagePanel.image),this._pagePanel.blips=new PIXI.Container,this._pagePanel.blips.position.set(32,.5*this._pagePanel.image.height),this._pagePanel.addChild(this._pagePanel.blips),this._pagePanel.nextButton=d.a.create(P3.assets.texture("ui_btn_page_down_normal"),P3.assets.texture("ui_btn_page_down_over"),P3.assets.texture("ui_btn_page_down_down")),this._pagePanel.nextButton.position.set(32,this._pagePanel.image.height),this._pagePanel.nextButton.animate=!1,this._pagePanel.nextButton.animateIcon=!1,this._pagePanel.nextButton.tabIndex=f.a.TAB_INDEX_LEVEL_2-1,this._pagePanel.nextButton.signals.click.add(this.onPageNextButtonClick,this),this._pagePanel.addChild(this._pagePanel.nextButton),this._pagePanel.previousButton=d.a.create(P3.assets.texture("ui_btn_page_up_normal"),P3.assets.texture("ui_btn_page_up_over"),P3.assets.texture("ui_btn_page_up_down")),this._pagePanel.previousButton.position.set(32,0),this._pagePanel.previousButton.animate=!1,this._pagePanel.previousButton.animateIcon=!1,this._pagePanel.previousButton.tabIndex=f.a.TAB_INDEX_LEVEL_2-2,this._pagePanel.previousButton.signals.click.add(this.onPagePreviousButtonClick,this),this._pagePanel.addChild(this._pagePanel.previousButton),this._pagePanel.pivot.set(0,.5*this._pagePanel.image.height)}},{key:"initSlotMasks",value:function(){var t=new Float32Array(3);t[0]=1,t[1]=1,t[2]=1;var e=new PIXI.Sprite(P3.assets.texture("ui_library_slot_equip"));e.filters=[new PIXI.Filter(null,h.a,{pickColor:{type:"vec3",value:t}})],this._slotMask=l.a.renderer.generateTexture(e),(e=new PIXI.Sprite(P3.assets.texture("ui_library_slot_character"))).filters=[new PIXI.Filter(null,h.a,{pickColor:{type:"vec3",value:t}})],this._slotMaskTall=l.a.renderer.generateTexture(e)}},{key:"loadCharacters",value:function(){var t=P3.utils.objectToArray(P3.assets.json("characters")).filter(function(t){return t.enabled});t.sort(function(t,e){return t.order-e.order});for(var e=this._characterColumns*this._characterRows,n=new PIXI.Point(96,180),c=0;c<t.length;++c){var h=t[c],p=c%e,_=d.a.create(P3.assets.texture("ui_library_slot_character"));_.id=c,_.data=h,_.page=Math.floor(c/e),_.position.set(p%this._characterColumns*n.x+.5*_.width,Math.floor(p/this._characterColumns)*n.y+.5*_.height),_.animate=!1,_.animateIcon=!1,_.clickSoundName="sfx_btn_keypad_press_00",_.tabIndex=f.a.TAB_INDEX_LEVEL_2+p,_.interactive=!1,_.signals.click.add(this.onCharacterSlotButtonClick,this),this._characterSlots.push(_);var m=l.a.save.isWeeklyChallengeComplete(l.a.userId);if(l.a.config.game.character_select.animate){switch(h.type){default:case i.a.TYPE_KNIGHT:_.portrait=new o.a(m);break;case i.a.TYPE_WARRIOR:_.portrait=new s.a(m);break;case i.a.TYPE_ELF:_.portrait=new r.a(m);break;case i.a.TYPE_RANGER:_.portrait=new a.a(m);break;case i.a.TYPE_WIZARD:_.portrait=new u.a(m)}_.portrait.position.set(-12,212),_.portrait.scale.set(.3),_.portrait.update(0),_.portrait.init(h.skin),_.addChild(_.portrait),_.portrait.playIdleAnim();for(var y=10*c;--y>0;)_.portrait.update(Math.random());_.portrait.mask=new PIXI.Sprite(this._slotMaskTall),_.portrait.mask.anchor.set(.5),_.addChild(_.portrait.mask)}else _.portrait=new PIXI.Sprite(P3.assets.texture(h.images.portrait)),_.portrait.anchor.set(.5),_.addChild(_.portrait);_.highlight=new PIXI.Sprite(P3.assets.texture("ui_library_slot_character_selected")),_.highlight.anchor.set(.5),_.highlight.visible=l.a.character.skin===h.skin,_.addChild(_.highlight)}}},{key:"loadItems",value:function(){var t=l.a.save.getUserData(l.a.userId),e=P3.utils.objectToArray(P3.assets.json("equipment")).filter(function(t){return t.enabled});e.sort(function(t,e){return t.order-e.order});for(var n=this._itemColumns*this._itemRows,r=new PIXI.Point(96,110),i=0;i<e.length;++i){var o=e[i],a=i%n,s=!1;!l.a.config.game.debug_unlock_equipment&&o.locked&&(t.unlock[o.slot]&&-1!==t.unlock[o.slot].indexOf(o.type)||(s=!0));var u=Array.isArray(o.slot)?o.slot[0]:o.slot,c=t.equipment[u]===o.type,h=d.a.create(s?P3.assets.texture("ui_library_slot_equip_locked"):P3.assets.texture("ui_library_slot_equip_unlocked"));h.id=i,h.slot=o.slot,h.page=Math.floor(i/n),h.type=o.type,h.position.set(a%this._itemColumns*r.x+.5*h.width,Math.floor(a/this._itemColumns)*r.y+.5*h.height),h.animate=!1,h.animateIcon=!1,h.clickSoundName="sfx_btn_keypad_press_00",h.tabIndex=f.a.TAB_INDEX_LEVEL_2+a,h.interactive=!1,h.signals.click.add(this.onItemSlotButtonClick,this),this._itemSlots.push(h),h.enabled=!s,h.selected=new PIXI.Sprite(P3.assets.texture("ui_library_slot_equip_selected")),h.selected.anchor.set(.5),h.selected.visible=c,h.addChild(h.selected),h.image=new PIXI.Sprite(P3.assets.texture(o.images.default)),h.image.anchor.set(.5),h.image.alpha=s?.6:1,h.addChild(h.image),h.lock=new PIXI.Sprite(P3.assets.texture("ui_equip_lock")),h.lock.anchor.set(.5),h.lock.visible=s,h.addChild(h.lock),h.highlight=new PIXI.Sprite(P3.assets.texture("ui_library_slot_equip_highlight")),h.highlight.anchor.set(.5),h.highlight.visible=c,h.addChild(h.highlight)}}},{key:"clearSlots",value:function(){for(var t=0;t<this._activeSlots.children.length;++t)this._activeSlots.getChildAt(t).interactive=!1;this._activeSlots.removeChildren()}},{key:"initPageBlips",value:function(t){this._pagePanel.blips.removeChildren();for(var e=200/t,n=0;n<t;++n){var r=new PIXI.Sprite(P3.assets.texture("ui_pagination_off"));r.position.set(0,n*e-(t-1)*e*.5),r.anchor.set(.5),this._pagePanel.blips.addChild(r)}}},{key:"setCharacterPage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.clearSlots();for(var e=0;e<this._characterSlots.length;++e){var n=this._characterSlots[e];n.page===t&&(n.interactive=!0,this._activeSlots.addChild(n))}for(var r=0;r<this._pagePanel.blips.children.length;++r)this._pagePanel.blips.children[r].texture=r===t?P3.assets.texture("ui_pagination_on"):P3.assets.texture("ui_pagination_off")}},{key:"setItemPage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.clearSlots();for(var e=0;e<this._itemSlots.length;++e){var n=this._itemSlots[e];n.page===t&&(n.interactive=!0,this._activeSlots.addChild(n))}for(var r=0;r<this._pagePanel.blips.children.length;++r)this._pagePanel.blips.children[r].texture=r===t?P3.assets.texture("ui_pagination_on"):P3.assets.texture("ui_pagination_off")}},{key:"setMode",value:function(t){if(t!==this._mode)switch(this._mode=t,t){case _.MODE_CHARACTER:this._characterButton.toggle=!0,this._itemButton.toggle=!1,this._pageCount=Math.ceil(this._characterSlots.length/(this._characterColumns*this._characterRows)),this._setPageFunc=this.setCharacterPage,this.initPageBlips(this._pageCount),this.setCharacterPage(0);break;case _.MODE_ITEM:this._characterButton.toggle=!1,this._itemButton.toggle=!0,this._pageCount=Math.ceil(this._itemSlots.length/(this._itemColumns*this._itemRows)),this._setPageFunc=this.setItemPage,console.log(this._itemSlots.length,this._itemColumns*this._itemRows),this.initPageBlips(this._pageCount),this.setItemPage(0)}}},{key:"disableInput",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._characterButton.interactive=!t,this._itemButton.interactive=!t,this._pagePanel.nextButton.interactive=!t,this._pagePanel.previousButton.interactive=!t;for(var e=0;e<this._activeSlots.children.length;++e)this._activeSlots.getChildAt(e).interactive=!t}},{key:"gotoItemPage",value:function(t,e){this.setMode(_.MODE_ITEM),Array.isArray(t)&&(t=t[0]);var n=this._itemSlots.filter(function(n){return-1!==n.slot.indexOf(t)&&n.type===e})[0];n&&this.setItemPage(n.page)}},{key:"onCharacterButtonClick",value:function(t){this.setMode(_.MODE_CHARACTER)}},{key:"onItemButtonClick",value:function(t){this.setMode(_.MODE_ITEM),l.a.gmi.sendStatsEvent("equipment","click")}},{key:"onCharacterSlotButtonClick",value:function(t){for(var e=0;e<this._characterSlots.length;++e)this._characterSlots[e].highlight.visible=!1;t.highlight.visible=!0,this.signals.character.dispatch(this,t.id,t.data)}},{key:"onItemSlotButtonClick",value:function(t){var e=t.slot;Array.isArray(e)||(e=[e]);for(var n=0;n<this._itemSlots.length;++n){var r=this._itemSlots[n],i=Array.isArray(r.slot)?r.slot[0]:r.slot;-1!==e.indexOf(i)&&(r.selected.visible=r.highlight.visible=!1)}this.signals.item.dispatch(this,t.id,t.slot,t.type);var o=l.a.save.getUserData(l.a.userId);t.highlight.visible=o.equipment[e[0]]===t.type,t.selected.visible=t.highlight.visible}},{key:"onPageNextButtonClick",value:function(t){++this._pageIndex>this._pageCount-1&&(this._pageIndex=this._pageCount-1),this._setPageFunc(this._pageIndex)}},{key:"onPagePreviousButtonClick",value:function(t){--this._pageIndex<0&&(this._pageIndex=0),this._setPageFunc(this._pageIndex)}},{key:"mode",get:function(){return this._mode}}])&&m(e.prototype,n),_}();x.MODE_CHARACTER="character",x.MODE_ITEM="item"},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(256),i=n(211);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(53),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(21),i=n(257),o=n(211),a=n(210)("IE_PROTO"),s=function(){},u=function(){var t,e=n(208)("iframe"),r=o.length;for(e.style.display="none",n(212).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(256),i=n(211).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(44),i=n(39),o=n(210)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(24)("unscopables"),i=Array.prototype;null==i[r]&&n(45)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(22);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},s.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,r);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(t,e,n){var r=new a(e,n||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.once=function(t,e,n){var r=new a(e,n||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.removeListener=function(t,e,n,r){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,t.exports=s},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(0),i=n(8),o=n(5),a=n(12),s=n(26);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(p,s.a);var e,n,u=f(p);function p(t,e){var n;if(function(t,e){if(!(t instanceof p))throw new TypeError("Cannot call a class as a function")}(this),(n=u.call(this,t,e))._grabPoint=new PIXI.Point,n._grabRadius=24,n._grabBound=!1,n._focusSortTarget=null,t.module===i.a.MODULE_TUTORIAL)n._question.sort=n._question.values.slice(),n._question.sort[0]=n._question.sort[1],n._question.sort[1]=n._question.values[0];else{var r=200;for(n._question.sort=P3.utils.shuffleArray(n._question.values.slice());e.isCorrect()&&r-- >0;)n._question.sort=P3.utils.shuffleArray(n._question.values.slice())}return n._bindings={},n._bindings.mouseup=function(t){return n.onDocumentMouseUp(t)},n._bindings.mousemove=function(t){return n.onDocumentMouseMove(t)},n._bindings.touchend=function(t){return n.onDocumentMouseUp(t)},n._bindings.touchmove=function(t){return n.onDocumentMouseMove(t)},n._bindings.keydown=function(t){return n.onDocumentKeyDown(t)},document.addEventListener("mouseup",n._bindings.mouseup),document.addEventListener("mousemove",n._bindings.mousemove),document.addEventListener("touchend",n._bindings.touchend),document.addEventListener("touchmove",n._bindings.touchmove),document.addEventListener("keydown",n._bindings.keydown),n}return e=p,(n=[{key:"init",value:function(){this.createOptionButtons(this._question.sort);for(var t=0;t<this._buttons.length;++t)this._buttons[t].refocusable=!0;c(d(p.prototype),"init",this).call(this)}},{key:"destroy",value:function(){document.removeEventListener("mouseup",this._bindings.mouseup),document.removeEventListener("mousemove",this._bindings.mousemove),document.removeEventListener("touchend",this._bindings.touchend),document.removeEventListener("touchmove",this._bindings.touchmove),document.removeEventListener("keydown",this._bindings.keydown),c(d(p.prototype),"destroy",this).call(this)}},{key:"update",value:function(t){c(d(p.prototype),"update",this).call(this,t);for(var e=P3.input.mouse&&this.toLocal(P3.input.mouse,r.a.stage),n=this._buttons.length,i=0;i<n;++i){var o=this._buttons[i];if(e&&o.grabbed){o.x+=10*(e.x-o.x)*t,o.y+=10*(e.y-o.y)*t;var a=P3.math.clamp(Math.floor((o.x+.5*this._spacing+this._spacing*(n-1)*.5)/this._spacing),0,n-1);if(a!==o.index){var s=o.index;o.index=a,this.sort(o.index,s)}}else o.x+=10*(this._spacing*o.index-this._spacing*(n-1)*.5-o.x)*t,o.y+=10*-o.y*t}}},{key:"sort",value:function(t,e){for(var n,r=0;r<this._buttons.length;++r)if(this._buttons[r].value===this._question.sort[t]){n=this._buttons[r];break}var i=this._question.sort[n.index];this._question.sort[e]||(n.index=e,this._question.sort[t]=null,this._question.sort[e]=i);for(var a=0;a<this._buttons.length;++a){var s=this._buttons[a];s.tabIndex=o.a.TAB_INDEX_LEVEL_2+s.index}}},{key:"createOptionButton",value:function(t){var e=P3.assets,n=new P3.ButtonStates;n.normal=e.texture("ui_drop_in_area"),n.over=e.texture("ui_drop_in_area_highlight");var i=PIXI.utils.isMobile.any?new P3.Button(n):new a.a(n);return i.value=t,i.animate=!1,i.animateIcon=!1,i.tint=r.a.config.debug&&i.value===this._question.answer?43520:16777215,i.label=new PIXI.Text(i.value.toString(),{fontSize:this._fontSize,fontFamily:"Arial",fontWeight:"bold",fill:0}),i.label.position.set(0,0),i.label.anchor.set(.5,.5),i.label.resolution=2,i.animation.addChild(i.label),i}},{key:"showCorrectAnswer",value:function(){}},{key:"grab",value:function(t){t.grabbed=!0,t.parent.addChild(t);for(var e=0;e<this._buttons.length;++e)this._buttons[e].interactive=!1;this._selected=t,this._selected.interactive=!0;var n=this._question.sort.indexOf(t.value);this._question.sort[n]=null,P3.audio.playSound("sfx_block_move_00")}},{key:"release",value:function(){if(this._focusSortTarget=null,this._selected){this._selected.grabbed=!1;for(var t=0;t<this._buttons.length;++t)this._buttons[t].interactive=!0;var e=this._buttons.length,n=P3.math.clamp(Math.floor((this._selected.x+.5*this._spacing+this._spacing*(e-1)*.5)/this._spacing),0,e-1);this._question.sort[n]=this._selected.value,this._selected=null,P3.audio.playSound("sfx_block_placed_01")}}},{key:"initTutorial",value:function(){c(d(p.prototype),"initTutorial",this).call(this);var t=this._buttons[0];t&&(this._tutorialHandStart=new PIXI.Point(t.x+40,t.y+120),this._tutorialHandAnchor=new PIXI.Point(t.x+40,t.y+40),this._tutorialHandEnd=new PIXI.Point(t.x,t.y))}},{key:"animateTutorial",value:function(){var t=this;this._tutorialHandTweens.removeAll();var e=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).delay(200).onStart(function(){t._tutorialHand.position.set(t._tutorialHandStart.x,t._tutorialHandStart.y),t._tutorialHand.alpha=0,t._tutorialHand.gotoAndStop("default")}),n=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).to({x:[this._tutorialHandAnchor.x,this._tutorialHandEnd.x],y:[this._tutorialHandAnchor.y,this._tutorialHandEnd.y],alpha:1},640).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).interpolation(P3.utils.TWEEN.Interpolation.Bezier).onStart(function(){t._tutorialHand.visible=!0}).onComplete(function(){t._tutorialHand.gotoAndStop("tap")}),r=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).to({x:this._tutorialHandEnd.x+200},640).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(200).onComplete(function(){t._tutorialHand.gotoAndStop("default")}),i=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).to({alpha:0},340).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(400).onComplete(function(){t._tutorialHand.visible=!1,t.animateTutorial()});e.chain(n),n.chain(r),r.chain(i),e.start()}},{key:"onOptionButtonDown",value:function(t){this.grab(t),PIXI.utils.isMobile.any||(this._grabPoint=P3.input.mouse.clone())}},{key:"onOptionButtonUp",value:function(t){}},{key:"onOptionButtonClick",value:function(t){null==this._focusSortTarget?(this._focusSortTarget=t,this._focusSortIndex=t.index):this._focusSortTarget=null}},{key:"onDocumentMouseUp",value:function(t){var e=this;setTimeout(function(){e._focusSortTarget=null,e._selected&&(PIXI.utils.isMobile.any?e.release():e._grabBound?(e._grabBound=!1,e.release()):new P3.Vector3(e._grabPoint.x-P3.input.mouse.x,e._grabPoint.y-P3.input.mouse.y).length>e._grabRadius?e.release():e._grabBound=!0,console.log(e._question.sort))},0)}},{key:"onDocumentMouseMove",value:function(t){}},{key:"onDocumentKeyDown",value:function(t){if(this._focusSortTarget&&"Tab"===t.key){t.preventDefault();var e,n=this._focusSortTarget.index+1;n>this._buttons.length-1&&(n=0);for(var r=0;r<this._buttons.length;++r)if(this._buttons[r].value===this._question.sort[n]){e=this._buttons[r];break}this._focusSortTarget.parent.addChild(this._focusSortTarget),e.parent.addChild(e),e.index=this._focusSortTarget.index,this._focusSortTarget.index=n,this._question.sort[n]=this._focusSortTarget.value,this._question.sort[e.index]=e.value,console.log(n,this._focusSortTarget.index);for(var i=0;i<this._buttons.length;++i){var a=this._buttons[i];a.tabIndex=o.a.TAB_INDEX_LEVEL_2+a.index}}}}])&&l(e.prototype,n),p}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n(0);var r=n(40);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=e.template?e.template:this._question.module,r=e.templates[n].single_unknown;if(r&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=e.words,o=this.generateWords(this._template.text,i.specific_locations,/\[SPECIFIC_LOCATION([0-9])?]/g);for(var a in o)o.hasOwnProperty(a)&&(this._template.text=this._template.text.replace(new RegExp(P3.utils.escape(a),"g"),o[a]));console.log(o);var s=this._template.text.match(/\[VAR([0-9])?]/g);return s?this._template.text.replace(s[0],this._question.answer.unknownCharacter):this._template.text}},{key:"createStatement",value:function(){for(var t=0,e=this._question.operands,n=0,r=0;n<this._question.values.length;++n){var i=this._question.values[n],o=this.createLabel(i.toString(!1));o.position.set(t,0),this._footer.statement.addChild(o),n<this._question.values.length-1&&(t+=o.width+15);var a=this.createLabel(e[r++]);a.position.set(t,0),this._footer.statement.addChild(a),n<this._question.values.length-1&&(t+=a.width+15)}this._footer.addChild(this._inputField),this._footer.statement.pivot.x=.5*t}},{key:"generateWords",value:function(t,e,n){var r={};e=e.slice();var i=t.match(n);if(i)for(var o=0;o<i.length;++o){var a=i[o],s=P3.utils.selectRandom(e);!r[a]&&(r[a]=s),e.splice(e.indexOf(s),1)}return r}},{key:"filterTemplate",value:function(t){return t.allow_q_mark===this._question.hasQuestionMark}},{key:"isCorrect",value:function(){return parseInt(this._inputValue.value)===parseInt(this._question.answer.variable)}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";var r=n(0),i=n(8),o=n(2);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,o.a);var e,n,r=l(i);function i(t){var e;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,isNaN(t)?NaN:parseFloat(t)))._string=t,e}return e=i,(n=[{key:"toString",value:function(){return this._string}}])&&s(e.prototype,n),i}(),f=n(5),d=n(12),p=n(37),_=n(11);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return x});var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(a,_.a);var e,n,o=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?b(t):e}(this,n)}}(a);function a(t,e){var n;return function(t,e){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(n=o.call(this,t,e))._value="",n._buttons=[],n._negative=!1,n._locked=!1,n._isKeypadEnabled=!0,n._panel=new PIXI.Container,n._panel.position.set(0,-200),n.addChild(n._panel),n._grid=[{value:1,x:-1,y:-1,toggle:!1},{value:2,x:0,y:-1,toggle:!1},{value:3,x:1,y:-1,toggle:!1},{value:4,x:-1,y:0,toggle:!1},{value:5,x:0,y:0,toggle:!1},{value:6,x:1,y:0,toggle:!1},{value:7,x:-1,y:1,toggle:!1},{value:8,x:0,y:1,toggle:!1},{value:9,x:1,y:1,toggle:!1},{value:"del",x:-2,y:2,toggle:!1},{value:".",x:-1,y:2,toggle:!1},{value:0,x:0,y:2,toggle:!1},{value:"-",x:1,y:2,toggle:!1}],n._spacing=new PIXI.Point(96,76),n.createKeypad(),n._onInputKeyDownBinding=P3.input.signals.keyDown.add(n.onInputKeyDown,b(n)),n}return e=a,(n=[{key:"init",value:function(){v(w(a.prototype),"init",this).call(this),this.update(0)}},{key:"destroy",value:function(){P3.input.signals.keyDown.detach(this._onInputKeyDownBinding,this),v(w(a.prototype),"destroy",this).call(this)}},{key:"update",value:function(t){v(w(a.prototype),"update",this).call(this,t);var e=r.a.save.getUserData(r.a.userId);this._isKeypadEnabled&&!e.showKeypad?(this.setInteractive(!1),this._isKeypadEnabled=!1,console.log("disable keypad")):!this._isKeypadEnabled&&e.showKeypad&&(this._isKeypadEnabled=!0,this.setInteractive(!0),console.log("enabled keypad")),this._panel.visible=e.showKeypad,this._tutorialHandRunning&&this._question.module===i.a.MODULE_TUTORIAL&&(this._tutorialHand.visible=this._panel.visible)}},{key:"lock",value:function(){this._locked=!0;for(var t=0;t<this._buttons.length;++t)this._buttons[t].enabled=!1}},{key:"unlock",value:function(){this._locked=!1;for(var t=0;t<this._buttons.length;++t)this._buttons[t].enabled=!0}},{key:"setInteractive",value:function(t){if(this._isKeypadEnabled)for(var e=0;e<this._buttons.length;++e)this._buttons[e].interactive=t}},{key:"createKeypad",value:function(){for(var t=0;t<this._grid.length;++t){var e=this._grid[t],n=new P3.ButtonStates;n.normal=P3.assets.texture("ui_calculator_btn_normal"),n.over=P3.assets.texture("ui_calculator_btn_over"),n.down=P3.assets.texture("ui_calculator_btn_down"),n.icon="del"===e.value?P3.assets.texture("ui_calculator_backspace"):null,n.normalAlt=P3.assets.texture("ui_calculator_btn_over");var r=void 0;(r=PIXI.utils.isMobile.any?e.toggle?new P3.ToggleButton(n):new P3.Button(n):e.toggle?new p.a(n):new d.a(n)).value=e.value,r.position.set(e.x*this._spacing.x,e.y*this._spacing.y),r.animate=!1,r.animateIcon=!1,r.tabIndex=f.a.TAB_INDEX_LEVEL_1+t,r.signals.click.add(this.onKeypadButtonClick,this),this._panel.addChild(r),this._buttons.push(r),r.overSoundName="sfx_btn_keypad_rollover_00",r.clickSoundName="sfx_btn_keypad_press_00","del"!==e.value&&(r.label=new PIXI.Text(r.value.toString(),{fontSize:40,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:16777215}),r.label.position.set(0,-4),r.label.anchor.set(.5),r.label.resolution=2,r.animation.addChild(r.label))}}},{key:"initTutorial",value:function(){v(w(a.prototype),"initTutorial",this).call(this);for(var t,e=parseInt(this._question.answer.toString().charAt(0)),n=0;n<this._buttons.length&&(t=this._buttons[n]).value!==e;++n);var r=this._tutorialHand.parent.toLocal(t.position,t.parent);t&&(this._tutorialHandStart=new PIXI.Point(r.x+40,r.y+240),this._tutorialHandAnchor=new PIXI.Point(r.x+40,r.y+40),this._tutorialHandEnd=new PIXI.Point(r.x,r.y-12))}},{key:"animateTutorial",value:function(){var t=this;this._tutorialHandTweens.removeAll();var e=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).delay(200).onStart(function(){t._tutorialHand.position.set(t._tutorialHandStart.x,t._tutorialHandStart.y),t._tutorialHand.alpha=0}),n=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).to({x:[this._tutorialHandAnchor.x,this._tutorialHandEnd.x],y:[this._tutorialHandAnchor.y,this._tutorialHandEnd.y],alpha:1},640).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).interpolation(P3.utils.TWEEN.Interpolation.Bezier).onStart(function(){t._tutorialHand.visible=!0}).onComplete(function(){t._tutorialHand.gotoAndPlay("tap")}),r=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).to({alpha:0},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(800).onComplete(function(){t._tutorialHand.visible=!1,t.animateTutorial()});e.chain(n),n.chain(r),e.start()}},{key:"onKeypadButtonClick",value:function(t){"del"===t.value?this._value.length>0&&(this._value=this._value.substr(0,this._value.length-1)):this._value.length<12&&(this._value+=t.value),this._view.setAnswer(this._value.length>0?new h((this._negative?"-":"")+this._value):null),console.log(this._view.answer)}},{key:"onInputKeyDown",value:function(t){"Backspace"===t.key&&t.preventDefault(),this._locked||("Backspace"===t.key||"Delete"===t.key?this._value.length>0&&(this._value=this._value.substr(0,this._value.length-1)):-1!==["0","1","2","3","4","5","6","7","8","9",".","-"].indexOf(t.key)&&this._value.length<12&&(this._value+=t.key),this._view.setAnswer(this._value.length>0?new h((this._negative?"-":"")+this._value):null),console.log(this._view.answer)),"Enter"===t.key&&this._view.confirmButton.enabled&&this._view.onConfirmButtonClick()}},{key:"value",get:function(){return parseInt(this._value)}}])&&y(e.prototype,n),a}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"toString",value:function(){return this._value<=0?"False":"True"}}])&&o(e.prototype,n),u}()},function(t,e,n){var r=n(31).f,i=n(44),o=n(24)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(6),i=n(66),o=n(20),a=n(214),s="["+a+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(t,e,n){var i={},s=o(function(){return!!a[t]()||""!=""[t]()}),u=i[t]=s?e(h):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},h=c.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(19),i=n(31),o=n(30),a=n(24)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(42);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(23),i=u(n(33)),o=u(n(96)),a=u(n(301)),s=u(n(245));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return s.uid=(0,r.uid)(),s.touched=0,s.resolution=a||i.default.RESOLUTION,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=void 0!==o?o:i.default.SCALE_MODE,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=i.default.MIPMAP_TEXTURES,s.wrapMode=i.default.WRAP_MODE,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,s._destroyed=!1,s.textureCacheIds=[],n&&s.loadSource(n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=s.default.isPow2(this.realWidth)&&s.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var r=this;if(t.onload=function(){r._updateImageType(),t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),"svg"!==r.imageType?r.emit("loaded",r):r._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===r.imageType)return void r._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,r.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var n=t.subType.split("+")[0];if(!(e=(0,r.getUrlFileExtension)("."+n)))throw new Error("Invalid image type in data URI.")}else(e=(0,r.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,r.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var n=(0,r.getSvgSize)(t),i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var a=document.createElement("canvas");a.width=this.realWidth,a.height=this.realHeight,a._pixiId="canvas_"+(0,r.uid)(),a.getContext("2d").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=a,e.addToCache(this,a._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete r.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,n,i,o){var s=r.BaseTextureCache[t];if(!s){var u=new Image;void 0===n&&0!==t.indexOf("data:")?u.crossOrigin=(0,a.default)(t):n&&(u.crossOrigin="string"==typeof n?n:"anonymous"),(s=new e(u,i)).imageUrl=t,o&&(s.sourceScale=o),s.resolution=(0,r.getResolutionOfUrl)(t),u.src=t,e.addToCache(s,t)}return s},e.fromCanvas=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,r.uid)());var o=r.BaseTextureCache[t._pixiId];return o||(o=new e(t,n),e.addToCache(o,t._pixiId)),o},e.from=function(t,n,i){if("string"==typeof t)return e.fromImage(t,void 0,n,i);if(t instanceof HTMLImageElement){var o=t.src,a=r.BaseTextureCache[o];return a||((a=new e(t,n)).imageUrl=o,i&&(a.sourceScale=i),a.resolution=(0,r.getResolutionOfUrl)(o),e.addToCache(a,o)),a}return t instanceof HTMLCanvasElement?e.fromCanvas(t,n):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),r.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),r.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=r.BaseTextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete r.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete r.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=l},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,PIXI.Container);var e,n,r=s(l);function l(t){var e;return function(t,e){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this))._spine=new PIXI.spine.Spine(P3.assets.spineData(t)),e._spine.position.set(0,0),e._spine.autoUpdate=!1,e._spine.skeleton.setSkin(null),e._spine.stateData.defaultMix=.2,e.addChild(e._spine),e._spine.state.addListener({complete:function(t){return e.onStateComplete(t)},event:function(t,n){return e.onStateEvent(t,n)}}),e._isAttacking=!1,e._isAnimating=!0,e._idleAnims=[],e._attackAnims=[],e._damageAnims=[],e._defeatAnims=[],e._victoryAnims=[],e._enterAnims=[],e._attackSoundName="",e._damageSoundName="",e._enterSoundName="",e}return e=l,(n=[{key:"init",value:function(t){this.setSkin(t)}},{key:"destroy",value:function(){o(u(l.prototype),"destroy",this).call(this,{children:!0})}},{key:"update",value:function(t){this._isAnimating&&this._spine.update(t)}},{key:"playIdleAnim",value:function(){if(this._idleAnims.length){var t=P3.utils.selectRandom(this._idleAnims);this._spine.state.setAnimation(0,t,!0)}}},{key:"playAttackAnim",value:function(){if(this._attackAnims.length){this._isAttacking=!0;var t=P3.utils.selectRandom(this._attackAnims);this._spine.state.setAnimation(0,t,!1)}}},{key:"playDamageAnim",value:function(){if(this._damageAnims.length){this._isAttacking=!1;var t=P3.utils.selectRandom(this._damageAnims);this._spine.state.setAnimation(0,t,!1)}}},{key:"playDefeatAnim",value:function(){if(this._defeatAnims.length){this._isAttacking=!1;var t=P3.utils.selectRandom(this._defeatAnims);this._spine.state.setAnimation(0,t,!1)}}},{key:"playVictoryAnim",value:function(){if(this._victoryAnims.length){this._isAttacking=!1;var t=P3.utils.selectRandom(this._victoryAnims);this._spine.state.setAnimation(0,t,!1)}}},{key:"playEnterAnim",value:function(){if(this._enterAnims.length){this._isAttacking=!1;var t=P3.utils.selectRandom(this._enterAnims);this._spine.state.setAnimation(0,t,!1)}}},{key:"reset",value:function(){this.playIdleAnim(),this._spine.update(0)}},{key:"setSkin",value:function(t){this._spine.skeleton.setSkin(null),t&&this._spine.skeleton.setSkinByName(t)}},{key:"setIdleAnims",value:function(t){this._idleAnims=t.slice()}},{key:"setAttackAnims",value:function(t){this._attackAnims=t.slice()}},{key:"setDamageAnims",value:function(t){this._damageAnims=t.slice()}},{key:"setDefeatAnims",value:function(t){this._defeatAnims=t.slice()}},{key:"setVictoryAnims",value:function(t){this._victoryAnims=t.slice()}},{key:"setEnterAnims",value:function(t){this._enterAnims=t.slice()}},{key:"setEmitterParent",value:function(t){}},{key:"playAttackSound",value:function(){this._attackSoundName.length&&P3.audio.playSound(this._attackSoundName)}},{key:"playDamageSound",value:function(){this._damageSoundName.length&&P3.audio.playSound(this._damageSoundName)}},{key:"playEnterSound",value:function(){this._enterSoundName.length&&P3.audio.playSound(this._enterSoundName)}},{key:"onStateComplete",value:function(t){var e=this._spine.state.getCurrent(0).animation.name;-1!==this._idleAnims.indexOf(t.animation.name)?-1!==this._idleAnims.indexOf(e)&&this.playIdleAnim():-1!==this._defeatAnims.indexOf(t.animation.name)?this._isAnimating=!1:(this._isAttacking=!1,this.playIdleAnim())}},{key:"onStateEvent",value:function(t,e){switch(e.stringValue){case"sfx_attack":this.playAttackSound();break;case"sfx_damage":this.playDamageSound();break;case"sfx_enter":this.playEnterSound()}}},{key:"spine",get:function(){return this._spine}}])&&i(e.prototype,n),l}();l.ITEM_PURSE="equip_purse"},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){var t;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this,"adversary_trainingtroll",r.a.TYPE_TRAINING_TROLL)).scale.set(.4),t.setIdleAnims(["idle"]),t.setAttackAnims(["attack"]),t.setDamageAnims(["damage"]),t.setDefeatAnims(["defeat"]),t.setVictoryAnims(["victory"]),t.setEnterAnims(["enter"]),t._attackSoundName="sfx_troll_attack_00",t._enterSoundName="sfx_enter_troll",t}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["trainingtroll"]))}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(2),i=n(18),o=n(64),a=n(8),s=n(1);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(p,a.a);var e,n,u=f(p);function p(){return function(t,e){if(!(t instanceof p))throw new TypeError("Cannot call a class as a function")}(this),u.call(this)}return e=p,(n=[{key:"create",value:function(t,e){var n=c(d(p.prototype),"create",this).call(this,t);switch(n.ascending=void 0===e?P3.math.randomBool():e,t.type){default:return console.warn("Question model type incompatible with module:",t.type),n;case s.a.TYPE_SORT_INTEGER:return this.createWholeNumber(n,t);case s.a.TYPE_SORT_FRACTION:return this.createFraction(n,t);case s.a.TYPE_SORT_DECIMAL:return this.createDecimal(n,t);case s.a.TYPE_MIXED:return this.createMixed(n,t)}}},{key:"createWholeNumber",value:function(t,e){for(var n=1e3,i=e.rounding?e.rounding:10,o=Math.floor(P3.math.randomInt(e.range.min,e.range.max)/i)*i,a=function(){var n=o+P3.math.randomInt(0,e.rounding-1);t.values.length&&!t.values.every(function(t){return t.value!==n})||t.values.push(new r.a(n))};t.values.length<e.values&&n-- >0;)a();return t.values.sort(function(e,n){return t.ascending?e.value-n.value:n.value-e.value}),t}},{key:"createFraction",value:function(t,e){if(e.difficulty<2){var n=Math.random()<.5,r=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max);1===r&&r++;for(var o=1e3,a=function(){var o=n?1:P3.math.randomInt(e.range.min,e.range.max),a=n?P3.math.randomInt(e.range_denominator.min,e.range_denominator.max):r;1===a&&a++,a!==o&&o<a&&t.values.every(function(t){return parseFloat(t.value)!==o/a})&&t.values.push(new i.a(o,a))};t.values.length<e.values&&o-- >0;)a();t.values.sort(function(e,n){return t.ascending?e.value-n.value:n.value-e.value})}else if(2===e.difficulty){var s=Math.random()<.5,u=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max);1===u&&u++;for(var l=1e3,c=function(){var n=s?1:P3.math.randomInt(e.range.min,e.range.max),r=s?P3.math.randomInt(e.range_denominator.min,e.range_denominator.max):u;1===r&&r++,Math.random()<.35&&(r*=P3.math.randomInt(2,3)),r!==n&&n<r&&t.values.every(function(t){return parseFloat(t.value)!==n/r})&&t.values.push(new i.a(n,r))};t.values.length<e.values&&l-- >0;)c();t.values.sort(function(e,n){return t.ascending?e.value-n.value:n.value-e.value})}else{for(var h=1e3,f=function(){var n=P3.math.randomInt(e.range.min,e.range.max),r=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max);1===r&&r++,r!==n&&n<r&&t.values.every(function(t){return parseFloat(t.value)!==n/r})&&t.values.push(new i.a(n,r))};t.values.length<e.values&&h-- >0;)f();t.values.sort(function(e,n){return t.ascending?e.value-n.value:n.value-e.value})}return t}},{key:"createDecimal",value:function(t,e){for(var n=e.dp?e.dp:1,i=1e3;t.values.length<e.values&&i-- >0;){var o=P3.math.random(e.range.min,e.range.max);o%1!=0&&function(){var e=parseFloat(o.toFixed(n));e%1!=0&&t.values.every(function(t){return t.value!==e})&&t.values.push(new r.a(e))}()}return t.values.sort(function(e,n){return t.ascending?e.value-n.value:n.value-e.value}),t}},{key:"createMixed",value:function(t,e){for(var n=P3.utils.selectRandom([2,4,10]),a=100,s=[];a-- >0&&t.values.length<e.values;){var u=P3.math.randomInt(1,9),l=Math.random();l<.33?-1===s.indexOf(u/10)&&(t.values.push(new o.a(u,10)),s.push(u/10)):l<.66?-1===s.indexOf(u/10)&&(t.values.push(new r.a(u/10)),s.push(u/10)):u<n&&-1===s.indexOf(u/n)&&(t.values.push(new i.a(u,n)),s.push(u/n))}return t.values.sort(function(e,n){return t.ascending?e.value-n.value:n.value-e.value}),t}}])&&l(e.prototype,n),p}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(26);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?u(t):e}(this,n)}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,r.a);var e,n,i=s(l);function l(t,e){var n;return function(t,e){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(n=i.call(this,t,e))._view.signals.slotChosen.add(n.onSlotChosen,u(n)),n._selections=[],n}return e=l,(n=[{key:"selectOption",value:function(t){this._selected=t,this._selected.alpha=.5,-1===this._selections.indexOf(this._selected)&&this._selections.push(this._selected)}},{key:"onSlotChosen",value:function(t,e){if(e>-1){var n=this._selections[e];n.tint=16777215,n.alpha=1,n.enabled=!0}this._selected?(this._view.setAnswer(this._selected.value,t,this._selections.indexOf(this._selected)),this._selected.tint=16711680,this._selected.alpha=.25,this._selected.enabled=!1,this._selected=null):this._view.setAnswer(null,t,-1)}}])&&o(e.prototype,n),l}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return QuestionViewStatementMulti});var _maths_QuestionModel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_QuestionViewStatement__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var QuestionViewStatementMulti=function(_QuestionViewStatemen){_inherits(QuestionViewStatementMulti,_QuestionViewStatemen);var _super=_createSuper(QuestionViewStatementMulti);function QuestionViewStatementMulti(t){var e;return _classCallCheck(this,QuestionViewStatementMulti),(e=_super.call(this,t)).signals.slotChosen=new P3.utils.MiniSignal,e}return _createClass(QuestionViewStatementMulti,[{key:"createStatement",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,e=0,n=[],r=1;r<this._question.values.length;++r){var i="=";if(r<this._question.values.length-1)switch(this._question.type){case _maths_QuestionModel__WEBPACK_IMPORTED_MODULE_0__.a.TYPE_ADDITION:i="+";break;case _maths_QuestionModel__WEBPACK_IMPORTED_MODULE_0__.a.TYPE_SUBTRACTION:i="-";break;case _maths_QuestionModel__WEBPACK_IMPORTED_MODULE_0__.a.TYPE_MULTIPLICATION:i="x";break;case _maths_QuestionModel__WEBPACK_IMPORTED_MODULE_0__.a.TYPE_DIVISION:i=""}n.push(i)}for(var o=this._inputField.slice(),a=this._question.part.slice(),s=0,u=0;s<this._question.values.length;++s){var l=this._question.values[s],c=a.indexOf(s);if(-1===c){var h=this.createLabel(l.toString(!1));h.position.set(e,0),this._footer.statement.addChild(h),s<this._question.values.length-1&&(e+=h.width+t)}else s>0&&(e+=.5*o[c].width),o[c].position.set(e,0),this._footer.statement.addChild(o[c]),s<this._question.values.length-1&&(e+=.5*o[c].width+t),o.splice(c,1),a.splice(c,1);var f=this.createLabel(n[u++]);f.position.set(e,0),this._footer.statement.addChild(f),s<this._question.values.length-1&&(e+=f.width+t)}this._footer.statement.pivot.x=.5*e}},{key:"setAnswer",value:function(t,e,n){this._inputValue=t,this._inputField[e].label.text=t?t.toString(!1):"?","?"===t?this._inputField[e].label.scale.set(1):this._inputField[e].label.width>this._inputField[e].texture.width-25&&(this._inputField[e].label.width=this._inputField[e].texture.width-25,this._inputField[e].label.scale.y=this._inputField[e].label.scale.x),this._inputField[e].inputNdx=n}},{key:"initInputField",value:function(){var t=this;this._inputField=[];for(var e=0;e<this._question.part.length;e++){var n=new PIXI.Sprite(P3.assets.texture("ui_drop_in_area"));n.anchor.set(.5),this.addChild(n),n.label=new PIXI.Text("?",{fontSize:48,fontFamily:"BBC Reith Sans",fontWeight:"bold"}),n.label.anchor.set(.5),n.label.resolution=2,n.addChild(n.label),n.interactive=!0,n.buttonMode=!0,n.click=n.touchstart=function(e){return t.onInputFieldClick(e)},this._inputField.push(n)}}},{key:"onInputFieldClick",value:function(t){var e=this._inputField.indexOf(t.target);this.signals.slotChosen.dispatch(e,t.target.inputNdx)}},{key:"isCorrect",value:function isCorrect(){for(var statement="",count=this._inputField.length,i=0;i<count;++i)if(statement+=this._inputField[i].label.text,i<count-1)switch(this._question.type){case _maths_QuestionModel__WEBPACK_IMPORTED_MODULE_0__.a.TYPE_ADDITION:statement+=" + ";break;case _maths_QuestionModel__WEBPACK_IMPORTED_MODULE_0__.a.TYPE_SUBTRACTION:statement+=" - ";break;case _maths_QuestionModel__WEBPACK_IMPORTED_MODULE_0__.a.TYPE_MULTIPLICATION:statement+=" * ";break;case _maths_QuestionModel__WEBPACK_IMPORTED_MODULE_0__.a.TYPE_DIVISION:statement+=" / "}return eval(statement)===this._question.result.value}}]),QuestionViewStatementMulti}(_QuestionViewStatement__WEBPACK_IMPORTED_MODULE_1__.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(113);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"createStatement",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this._footer.statement.pivot.x=0}},{key:"getHeaderText",value:function(){var t=P3.assets.json("templates");this._answer=this._question.answer;var e=P3.assets.json("templates").templates,n=this._question.template.split("/"),r=P3.utils.selectRandom(P3.utils.objectToArray(e[n[0]][n[1]])),i=r?r.text:"";return i=this._replaceValue(i),i=this._replaceLocation(t.words.locations,i),this._replaceUnits(i)}},{key:"isCorrect",value:function(){for(var t=[],e=0;e<this.question.part.length;e++)t.push(this.question.values[this.question.part[e]]);if(this._inputValue.length&&this._inputValue.length>0){for(var n=this._inputValue.length,r=0;r<n;r++){var i=!1,o=this._inputValue[r].value;for(var a in t)if(t[a].toString()===o){i=!0;break}if(!1===i)return!1}return!0}}},{key:"_replaceValue",value:function(t){var e=t.match(/\[VALUE([0-9])?]/g);return e&&(t=t.replace(e,this._question.temp.value)),t}},{key:"_replaceUnits",value:function(t){var e=t.match(/\[UNIT([0-9])?]/g);return e&&(t=t.replace(e,this.question.units[this.question.units.length-1].long)),t}},{key:"_replaceLocation",value:function(t,e){var n=e.match(/\[LOCATION([0-9])?]/g);return n&&(e=e.replace(n,P3.utils.selectRandom(t))),e}},{key:"setAnswer",value:function(t){if(this._inputValue=t,!Array.isArray(t))if(t){var e=t.toString();this._inputField.label.text=e,this._inputField.label.style.fontSize=e.length<5?40:20}else this._inputField.label.text="?",this._inputField.label.style.fontSize=40}},{key:"initInputField",value:function(){}}])&&o(e.prototype,n),u}()},function(t,e,n){var r=n(65);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(65),i=n(24)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(21),i=n(52),o=n(24)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(23),a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.children=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);(0,o.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.removeChild(arguments[n]);else{var r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=t,r="number"==typeof e?e:this.children.length,i=r-n,o=void 0;if(i>0&&i<=r){o=this.children.splice(n,i);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<o.length;++s)o[s].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}n&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),n&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var n="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(e)},i(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((r=n(298))&&r.__esModule?r:{default:r}).default);e.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},function(t,e,n){"use strict";e.__esModule=!0;var r=c(n(305)),i=c(n(706)),o=c(n(307)),a=c(n(707)),s=n(23),u=n(15),l=c(n(33));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",n,r,o));return s.type=u.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new i.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,a.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,n,r,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var a=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!i){var l=t.parent,c=this._tempDisplayObjectParent.transform.worldTransform;r?(r.copy(c),this._tempDisplayObjectParent.transform._worldID=-1):c.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=l}s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var h=this.context;this.context=s,t.renderCanvas(this),this.context=h,s.restore(),this.resolution=a,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=l.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(r.default);e.default=h,s.pluginTarget.mixin(h)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(47),o=(r=n(33))&&r.__esModule?r:{default:r};function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var n=t.slice(0);return n.unshift("precision "+e+" float;"),n}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var s=function(t){function e(n,r,i,s,u){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a(r,u||o.default.PRECISION_VERTEX),a(i,u||o.default.PRECISION_FRAGMENT),void 0,s))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=s},function(t,e,n){"use strict";var r=n(760).default,i=n(250).default,o=n(332),a=n(333);r.Resource=i,r.async=o,r.base64=a,t.exports=r,t.exports.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),a=(r=n(75))&&r.__esModule?r:{default:r},s=new o.Point,u=new o.Polygon,l=function(t){function e(n,r,i,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return l._texture=n||a.default.EMPTY,l.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),l.vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),l.indices=s||new Uint16Array([0,1,3,2]),l.dirty=0,l.indexDirty=0,l.vertexDirty=0,l.autoUpdate=!0,l.blendMode=o.BLEND_MODES.NORMAL,l.canvasPadding=o.settings.MESH_CANVAS_PADDING,l.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,l.shader=null,l.tintRgb=new Float32Array([1,1,1]),l._glDatas={},l._uvTransform=new o.TextureMatrix(l._texture),l.uploadUvTransform=!1,l.pluginName="mesh",l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,s);for(var n=this.vertices,r=u.points,i=this.indices,o=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,l=0;l+2<o;l+=a){var c=2*i[l],h=2*i[l+1],f=2*i[l+2];if(r[0]=n[c],r[1]=n[c+1],r[2]=n[h],r[3]=n[h+1],r[4]=n[f],r[5]=n[f+1],u.contains(s.x,s.y))return!0}return!1},e.prototype.destroy=function(e){for(var n in this._glDatas){var r=this._glDatas[n];r.destroy?r.destroy():(r.vertexBuffer&&(r.vertexBuffer.destroy(),r.vertexBuffer=null),r.indexBuffer&&(r.indexBuffer.destroy(),r.indexBuffer=null),r.uvBuffer&&(r.uvBuffer.destroy(),r.uvBuffer=null),r.vao&&(r.vao.destroy(),r.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},i(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=l,l.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e){t.exports=function(){throw new Error("It appears that you're using glslify in browserify without its transform applied. Make sure that you've set up glslify as a source transform: https://github.com/substack/node-browserify#browserifytransform")}},function(t,e,n){"use strict";var r=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(n=i.call(this,t*e))._coefficient=t,n._variable=e,n._unknownCharacter=r,n}return e=u,(n=[{key:"toString",value:function(){return 1===parseInt(this._coefficient)?""+this._unknownCharacter:this.coefficient+this._unknownCharacter}},{key:"unknownCharacter",get:function(){return this._unknownCharacter}},{key:"variable",get:function(){return this._variable}},{key:"coefficient",get:function(){return this._coefficient}}])&&o(e.prototype,n),u}(),c=n(8),h=n(1);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return y});var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(o,c.a);var e,n,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(o);function o(){var t;return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this))._equations=[],t._coefficentRange={min:1,max:1},t}return e=o,(n=[{key:"create",value:function(t){var e=p(m(o.prototype),"create",this).call(this,t);return e.hasQuestionMark=!1,t.coefficient_range&&(this._coefficentRange=t.coefficient_range),this.generateOptions(e,t.values,t),e}},{key:"generateOptions",value:function(t,e,n){switch(t.type){case h.a.TYPE_MIXED:case h.a.TYPE_DIVISION:case h.a.TYPE_MULTIPLICATION:case h.a.TYPE_SUBTRACTION:case h.a.TYPE_ADDITION:this.generateSingleEquation(t,e,n);break;case h.a.TYPE_DOUBLE_UNKNOWN:this.generateDoubleEquation(t,e,n);break;case h.a.TYPE_FIND_REST:this.generateFindRest(t,e,n)}}},{key:"generateSingleEquation",value:function(t,e,n){if(n.type!==h.a.TYPE_DIVISION){var i=P3.math.randomInt(this._coefficentRange.min,this._coefficentRange.max),o=P3.utils.shuffleArray(n.variable_character);"?"!==o[0]&&"?"!==o[1]||(t.hasQuestionMark=!0);var a=P3.math.randomInt(n.variable_range.min,n.variable_range.max);t.options.push(new r.a(a));for(var s=100,u=[a];s-- >0&&t.options.length<5;){var c=P3.math.randomInt(n.variable_range.min,n.variable_range.max);-1===u.indexOf(c)&&(u.push(c),t.options.push(new r.a(c)))}P3.utils.shuffleArray(t.options);for(var f=0;f<e;f++)t.values.push(new r.a(P3.math.randomInt(t.range.min,t.range.max)));n.type===h.a.TYPE_MIXED&&t.values.sort(function(t,e){return e.value-t.value});var d=new l(i,a,o?o[0]:"");t.values.push(d),t.part=t.values.indexOf(d);for(var p=t.values[0].value,_=1;_<t.values.length;_++)switch(t.type){case h.a.TYPE_ADDITION:p+=t.values[_].value,_>0&&t.operands.push("+");break;case h.a.TYPE_SUBTRACTION:p-=t.values[_].value,_>0&&t.operands.push("-");break;case h.a.TYPE_MULTIPLICATION:p*=t.values[_].value,_>0&&t.operands.push("");break;case h.a.TYPE_DIVISION:p/=t.values[_].value,_>0&&t.operands.push("");break;case h.a.TYPE_MIXED:Math.random()<.5||t.operands.length>0&&"-"===t.operands[t.operands.length-1]?(p+=t.values[_].value,_>0&&t.operands.push("+")):(p-=t.values[_].value,_>0&&t.operands.push("-"))}t.operands.push("="),t.values.push(new r.a(p))}else this.generateDivision(t,e,n)}},{key:"generateDivision",value:function(t,e,n){var i=P3.utils.shuffleArray(n.variable_character);"?"!==i[0]&&"?"!==i[1]||(t.hasQuestionMark=!0);var o=P3.math.randomInt(n.range.min,n.range.max),a=1*P3.math.randomInt(n.variable_range.min,n.variable_range.max),s=a*o;t.values.push(new r.a(s));var u=new l(1,a,i?i[0]:"");t.values.push(u),t.part=t.values.indexOf(u),t.values.push(new r.a(o)),t.options.push(new r.a(a));for(var c=100,h=[a];c-- >0&&t.options.length<5;){var f=P3.math.randomInt(a-8,a+10);-1===h.indexOf(f)&&(h.push(f),t.options.push(new r.a(f)))}P3.utils.shuffleArray(t.options);for(var d=1;d<t.values.length-1;d++)t.operands.push("");t.operands.push("=")}},{key:"generateDoubleEquation",value:function(t,e,n){var i=[h.a.TYPE_ADDITION,h.a.TYPE_SUBTRACTION,h.a.TYPE_MULTIPLICATION],o=P3.math.randomInt(this._coefficentRange.min,this._coefficentRange.max),a=P3.utils.shuffleArray(n.variable_character);"?"!==a[0]&&"?"!==a[1]||(t.hasQuestionMark=!0);for(var s=100,u=[];s-- >0&&t.options.length<5;){var c=P3.math.randomInt(n.variable_range.min,n.variable_range.max);-1===u.indexOf(c)&&(u.push(c),t.options.push(new r.a(c)))}var f=P3.math.randomInt(0,t.options.length-1),d=t.options[f].value;t.options.splice(f,1);for(var p=0;p<1;p++)t.values.push(new r.a(P3.math.randomInt(t.range.min,t.range.max)));var _=new l(o,d,a?a[0]:"");t.values.push(_),t.part=t.values.indexOf(_);for(var m=P3.utils.selectRandom(i),y=t.values[0].value,v=1;v<t.values.length;v++)switch(m){case h.a.TYPE_ADDITION:y+=t.values[v].value,v>0&&t.operands.push("+");break;case h.a.TYPE_SUBTRACTION:y-=t.values[v].value,v>0&&t.operands.push("-");break;case h.a.TYPE_MULTIPLICATION:y*=t.values[v].value,v>0&&t.operands.push("");break;case h.a.TYPE_DIVISION:y/=t.values[v].value,v>0&&t.operands.push("");break;case h.a.TYPE_MIXED:Math.random()<.5||t.operands.length>0&&"-"===t.operands[t.operands.length-1]?(y+=t.values[v].value,v>0&&t.operands.push("+")):(y-=t.values[v].value,v>0&&t.operands.push("-"))}t.operands.push("="),t.values.push(new r.a(y)),o=P3.math.randomInt(this._coefficentRange.min,this._coefficentRange.max),_=new l(o,d,a?a[0]:""),t.values.push(_),d=t.options[P3.math.randomInt(0,t.options.length-1)].value,o=P3.math.randomInt(this._coefficentRange.min,this._coefficentRange.max),_=new l(o,d,a?a[1]:""),t.values.push(_),t.part=t.values.indexOf(_);var g=t.values.length-2;y=t.values[g].value;for(var b=g+1;b<t.values.length;b++)switch(h.a.TYPE_ADDITION){case h.a.TYPE_ADDITION:y+=t.values[b].value,b>0&&t.operands.push("+");break;case h.a.TYPE_SUBTRACTION:y-=t.values[b].value,b>0&&t.operands.push("-");break;case h.a.TYPE_MULTIPLICATION:y*=t.values[b].value,b>0&&t.operands.push("");break;case h.a.TYPE_DIVISION:y/=t.values[b].value,b>0&&t.operands.push("");break;case h.a.TYPE_MIXED:Math.random()<.5||t.operands.length>0&&"-"===t.operands[t.operands.length-1]?(y+=t.values[b].value,b>0&&t.operands.push("+")):(y-=t.values[b].value,b>0&&t.operands.push("-"))}t.operands.push("="),t.values.push(new r.a(y))}},{key:"generateFindRest",value:function(t,e,n){var i=P3.math.randomInt(t.range.min,t.range.max),o=P3.math.randomInt(t.range.min,t.range.max),a=i+o;t.values.push(new r.a(a)),t.values.push(new r.a(i)),t.values.push(new r.a(o)),t.part=2,t.options.push(new r.a(o));for(var s=100,u=[o];s-- >0&&t.options.length<e;){var l=P3.math.randomInt(t.range.min,t.range.max);-1===u.indexOf(l)&&(u.push(l),t.options.push(new r.a(l)))}P3.utils.shuffleArray(t.options)}}])&&d(e.prototype,n),o}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(252),i=n.n(r),o=n(8);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"generate",value:function(e){for(var n=P3.assets.json("questions"),r=[],a=[],s=function(t,e){return t.reduce(function(t,n){return n===e?t+1:t},0)},u=function(t){var e=[];for(var i in n)if(n.hasOwnProperty(i)){if(i===o.a.MODULE_TUTORIAL)continue;if(s(r,i)<1)for(var u=n[i].filter(function(e){return e.enabled&&e.difficulty===t}),l=0;l<u.length;++l)s(a,i+"/"+u[l].type)<1&&(u[l].module=i,e.push(u[l]))}return e},l=function(e,n,o){var s=i()(n+o+"");t.questions[e]||(t.questions[e]={}),t.questions[e][o]=[];for(var l=0;l<10;++l){var c=u(o),h=c[Math.floor(s()*c.length)];h.seed=n,t.questions[e][o].push(h),r.push(h.module),a.push(h.module+"/"+h.type)}r.length=0,a.length=0},c=0;c<e.length;++c){var h=e[c];l(c,h,0),l(c,h,1),l(c,h,2),l(c,h,3)}}},{key:"print",value:function(){for(var e="week,difficulty,no,module,type,view,input,seed,template\n",n=function(e,n){for(var r="",i=0;i<10;++i){var o=t.questions[e][n][i];r+=e+1+","+(o.difficulty+1)+","+(i+1)+","+o.module+","+o.type+","+o.view+","+o.input+","+o.seed+","+(o.template?o.template:"n/a")+"\n"}return r},r=0;r<t.questions.length;++r)e+=n(r,0)+"\n",e+=n(r,1)+"\n",e+=n(r,2)+"\n",e+=n(r,3)+"\n";return console.warn(e),e}}],null&&a(e.prototype,null),n&&a(e,n),t}();s.questions=[]},function(t,e){t.exports="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 pickColor;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float alpha = color.a > 0.0 ? 1.0 : 0.0;\n\tgl_FragColor = vec4(pickColor.r * alpha, pickColor.g * alpha, pickColor.b * alpha, alpha);\n}\n"},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n(17),o=n(69),a=n.n(o);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,i.a);var e,n,o=h(s);function s(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this)).loaded=0,t._bindings={},t._first=e,t._bg=null,t._title=null,t._dummyLabel=null,t._progress=null,t._tip=null,t._isLoaded=!1,t._bindings.progress=P3.assets.signals.progress.add(function(e){return t.onLoadingProgress(e)}),t._bindings.complete=P3.assets.signals.complete.once(function(e){return t.onLoadingComplete(e)}),t}return e=s,(n=[{key:"init",value:function(){l(f(s.prototype),"init",this).call(this),this._bg=new PIXI.Sprite(P3.assets.texture("ui_preloader")),this._bg.width=r.a.STAGE_WIDTH,this.addChild(this._bg),this._title=new PIXI.Sprite(P3.assets.texture("ui_logo")),this._title.position.set(.5*r.a.STAGE_WIDTH,300),this._title.anchor.set(.5),this._title.visible=!1,this.addChild(this._title),this._dummyLabel=new PIXI.Text("",{fontFamily:"BBC Reith Sans"}),this.addChild(this._dummyLabel),this.initProgressBar(),this.initTipPanel()}},{key:"destroy",value:function(){this._bindings.progress&&this._bindings.progress.detach(),this._bindings.complete&&this._bindings.complete.detach(),l(f(s.prototype),"destroy",this).call(this)}},{key:"appear",value:function(){l(f(s.prototype),"appear",this).call(this),r.a.requiredAssetsReady&&!this._isLoaded&&this.onLoadingComplete(null)}},{key:"animateIn",value:function(){var t=this;if(null!==this.parent){this._title.alpha=0,new P3.utils.TWEEN.Tween(this._title,this._tweens).to({alpha:1},200).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(200).onStart(function(){t._title.visible=!0}).start();var e=this._title.y;this._title.y+=80,new P3.utils.TWEEN.Tween(this._title,this._tweens).to({y:e},340).easing(P3.utils.TWEEN.Easing.Cubic.Out).delay(200).start(),this._title.scale.set(.5),new P3.utils.TWEEN.Tween(this._title.scale,this._tweens).to({x:1,y:1},340).easing(P3.utils.TWEEN.Easing.Back.Out).delay(200).start(),this._progress.alpha=0,new P3.utils.TWEEN.Tween(this._progress,this._tweens).to({alpha:1},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(400).onStart(function(){t._progress.visible=!0}).start(),e=this._tip.y,this._tip.y+=100,new P3.utils.TWEEN.Tween(this._tip,this._tweens).to({y:e},400).easing(P3.utils.TWEEN.Easing.Quadratic.Out).delay(1e3).onStart(function(){t._tip.visible=!0}).start()}}},{key:"animateOut",value:function(t,e){var n=this;new P3.utils.TWEEN.Tween(this._progress,this._tweens).to({alpha:0},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){n._progress.visible=!1}).start();var r=this._title.y-60;new P3.utils.TWEEN.Tween(this._title,this._tweens).to({y:r},460).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(200).onComplete(function(){t&&t.call(e)}).start()}},{key:"update",value:function(){l(f(s.prototype),"update",this).call(this),this._progress.fill.mask.scale.x=this.loaded}},{key:"initProgressBar",value:function(){this._progress=new PIXI.Sprite(P3.assets.texture("ui_preloader_bg")),this._progress.position.set(.5*r.a.STAGE_WIDTH,600),this._progress.anchor.set(.5),this._progress.visible=!1,this.addChild(this._progress),this._progress.fill=new PIXI.Sprite(P3.assets.texture("ui_preloader_fill")),this._progress.fill.anchor.set(.5),this._progress.addChild(this._progress.fill);var t=this._progress.fill.texture.width,e=this._progress.fill.texture.height;this._progress.fill.mask=new PIXI.Graphics,this._progress.fill.mask.position.set(.5*-t,0),this._progress.fill.mask.scale.x=0,this._progress.fill.mask.beginFill(16711680,1),this._progress.fill.mask.drawRect(0,.5*-e,t,e),this._progress.fill.mask.endFill(),this._progress.fill.addChild(this._progress.fill.mask),this._progress.label=new PIXI.extras.BitmapText("Loading",{font:"34px BBC Reith Sans"}),this._progress.label.position.set(-4,22),this._progress.label.anchor.set(.5),this._progress.label.tint=15820625,this._progress.addChild(this._progress.label)}},{key:"initTipPanel",value:function(){this._tip=new PIXI.Container,this._tip.position.set(.5*r.a.STAGE_WIDTH,P3.View.height-28),this._tip.visible=!1,this.addChild(this._tip),this._tip.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),88,44,88,44),this._tip.image.width=800,this._tip.image.pivot.set(.5*this._tip.image.width,.5*this._tip.image.height),this._tip.addChild(this._tip.image),this._tip.label=new PIXI.extras.BitmapText("Have your brain, pencil and paper ready!",{font:"34px BBC Reith Sans"}),this._tip.label.position.set(0,-10),this._tip.label.anchor.set(.5),this._tip.label.tint=2831962,this._tip.addChild(this._tip.label)}},{key:"onLoadingProgress",value:function(t){this.loaded=t.progress/100,console.log("loading:",t.progress)}},{key:"onLoadingComplete",value:function(t){var e=this;this.loaded=1,this._isLoaded=!0,this._bindings.progress.detach(),this._bindings.complete.detach(),this._bindings.progress=null,this._bindings.complete=null,this._first?this.animateOut(function(){e.initPlayButton()}):P3.utils.delayg(this._tweens,2,function(){e.signals.next.dispatch(e)})}},{key:"onPlayButtonClick",value:function(t){this.signals.next.dispatch(this),PIXI.utils.isMobile.android.device&&a.a.enabled&&a.a.request()}}])&&u(e.prototype,n),s}()},function(t,e,n){"use strict";var r=n(9),i=n(58),o=n(77),a=n(59),s=n(78),u=n(60),l=n(79),c=n(61),h=n(80),f=n(62),d=n(28),p=n(153),_=n(154),m=n(155),y=n(156),v=n(0),g=n(84),b=n(5),w=n(12),x=n(17);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(3);var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(i,PIXI.Container);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?M(t):e}(this,n)}}(i);function i(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:54;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this)).signals={select:new P3.utils.MiniSignal},t._finishedTraining=e,t._spacing=n,t._xpos=0,t._index=0,t._wrapIndex=0,t._snapIndex=0,t._locations=[],t._holder=new PIXI.Container,t.addChild(t._holder),t._initLocations(),t._nextButton=w.a.create(P3.assets.texture("ui_btn_chevron_l_bg_normal"),P3.assets.texture("ui_btn_chevron_l_over"),P3.assets.texture("ui_btn_chevron_l_bg_down"),P3.assets.texture("ui_icon_chevron_r_out")),t._nextButton.position.set(224,0),t._nextButton.animate=!1,t._nextButton.animateIcon=!1,t._nextButton.clickSoundName="sfx_btn_press_00",t._nextButton.tabIndex=b.a.TAB_INDEX_LEVEL_1+1,t._nextButton.refocusable=!0,t._nextButton.visible=t._locations.length>1,t._nextButton.signals.click.add(t.onNextButtonClick,M(t)),t.addChild(t._nextButton),t._previousButton=w.a.create(P3.assets.texture("ui_btn_chevron_r_bg_normal"),P3.assets.texture("ui_btn_chevron_r_over"),P3.assets.texture("ui_btn_chevron_r_bg_down"),P3.assets.texture("ui_icon_chevron_l_out")),t._previousButton.position.set(-224,0),t._previousButton.animate=!1,t._previousButton.animateIcon=!1,t._previousButton.clickSoundName="sfx_btn_press_00",t._previousButton.tabIndex=b.a.TAB_INDEX_LEVEL_1,t._previousButton.refocusable=!0,t._previousButton.visible=t._locations.length>1,t._previousButton.signals.click.add(t.onPreviousButtonClick,M(t)),t.addChild(t._previousButton),t.on("added",t.init,M(t)),t}return e=i,(n=[{key:"init",value:function(){this.off("added",this.init,this),this.scroll(0)}},{key:"destroy",value:function(){P3.utils.destroyAllSignals(this.signals),P(O(i.prototype),"destroy",this).call(this,{children:!0})}},{key:"update",value:function(t){this.scroll(8*(this._xpos-this._spacing*this._snapIndex)*t)}},{key:"scroll",value:function(t){this._xpos-=t,this._wrapIndex=Math.floor((this._xpos+.5*this._spacing)/this._spacing),this._index=this._wrapIndex;var e=this._locations.length;this._index%=e,this._index<0&&(this._index+=e);for(var n=0;n<this._locations.length;++n){var r=this._locations[n];for(r.parent.x+=t;r.parent.x>this._spacing*this._locations.length*.5;)r.parent.x-=this._spacing*this._locations.length;for(;r.parent.x<-this._spacing*this._locations.length*.5;)r.parent.x+=this._spacing*this._locations.length;r.scale.set(P3.math.clamp(1-Math.abs(.4*r.parent.x)/240,0,1)),r.alpha=P3.math.clamp(Math.pow(1-(Math.abs(r.parent.x)-20)/200,3),0,1)}this._holder.children.sort(function(t,e){return Math.abs(e.x)-Math.abs(t.x)})}},{key:"scrollTo",value:function(t){this.scroll(this._xpos-this._locations[t].parent.x),this._snapIndex=this._wrapIndex;var e=this._locations[this.selected].challenge;e&&(e.tween&&e.tween.stop(),e.y=274-e.height,e.tween=new P3.utils.TWEEN.Tween(e,this._tweens).to({y:274},240).easing(P3.utils.TWEEN.Easing.Quadratic.Out).delay(200).onStart(function(){return e.visible=!0}).start())}},{key:"next",value:function(){var t=this._locations[this.selected].challenge;t&&(t.visible=!1,t.tween&&t.tween.stop()),++this._snapIndex;var e=this._locations[this.selected].id;this.signals.select.dispatch(this,e,this.selected),(t=this._locations[this.selected].challenge)&&(t.tween&&t.tween.stop(),t.y=274-t.height,t.tween=new P3.utils.TWEEN.Tween(t,this._tweens).to({y:274},240).easing(P3.utils.TWEEN.Easing.Quadratic.Out).delay(200).onStart(function(){return t.visible=!0}).start()),P3.audio.playSound("sfx_level_select_card_00")}},{key:"previous",value:function(){var t=this._locations[this.selected].challenge;t&&(t.visible=!1,t.tween&&t.tween.stop()),--this._snapIndex;var e=this._locations[this.selected].id;this.signals.select.dispatch(this,e,this.selected),(t=this._locations[this.selected].challenge)&&(t.tween&&t.tween.stop(),t.y=274-t.height,t.tween=new P3.utils.TWEEN.Tween(t,this._tweens).to({y:274},240).easing(P3.utils.TWEEN.Easing.Quadratic.Out).delay(200).onStart(function(){return t.visible=!0}).start()),P3.audio.playSound("sfx_level_select_card_00")}},{key:"createLocation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=new PIXI.Container;o.base=new PIXI.Sprite(e.base),o.base.anchor.set(.5),o.addChild(o.base),o.image=new PIXI.Sprite(e.card),o.image.position.set(0,16),o.image.anchor.set(.5),o.addChild(o.image),o.label=new PIXI.extras.BitmapText(t,{font:"28px BBC Reith Sans",align:"center"}),o.label.position.set(0,-194),o.label.anchor.set(.5),o.label.tint=2831962,o.label.maxWidth=320,o.addChild(o.label);var a=r?1:4;o.icons=new PIXI.Container,o.icons.y=160,o.icons.pivot.x=52*(a-1)*.5,o.addChild(o.icons),i&&v.a.save.isWeeklyChallengeComplete(v.a.userId)&&(o.challenge=new PIXI.Sprite(P3.assets.texture("ui_card_new_challenge")),o.challenge.position.set(0,274-o.challenge.height),o.challenge.anchor.set(.5),o.challenge.visible=!1,o.addChildAt(o.challenge,0),o.challenge.text=new PIXI.extras.BitmapText("New challenge in "+(7-v.a.weekday)+" days",{font:"23px BBC Reith Sans",align:"center"}),o.challenge.text.position.set(0,-8),o.challenge.text.anchor.set(.5),o.challenge.addChild(o.challenge.text));for(var s=v.a.save.getUserData(v.a.userId),u=0;u<a;++u){var l=new PIXI.Sprite(e.shieldOff);l.position.set(52*u,0),l.anchor.set(.5),o.icons.addChild(l),l.on=new PIXI.Sprite(e.shieldOn),l.on.anchor.set(.5),l.on.visible=!(!r||!s.finishedTraining)||u<n,l.addChild(l.on)}return o}},{key:"disableInput",value:function(t){this._nextButton.interactive=!t,this._previousButton.interactive=!t}},{key:"_initLocations",value:function(){var t=this,e=P3.utils.objectToArray(P3.assets.json("locations")).filter(function(e){return t._finishedTraining?e.enabled:e.enabled&&e.training});e.sort(function(t,e){return t.order-e.order});for(var n=0;n<e.length;++n){var r=e[n];console.log(r);var i=new PIXI.Container;i.position.set(n*this._spacing,0),this._holder.addChild(i);var o=v.a.difficulty.getLevelUnclamped(r),a=this.createLocation(r.name,{base:P3.assets.texture(r.images.base),card:P3.assets.texture(r.images.card),shieldOn:P3.assets.texture(r.images.shield_on),shieldOff:P3.assets.texture(r.images.shield_off)},o,r.training,r.challenge);a.id=r.id,i.addChild(a),this._locations.push(a)}}},{key:"onNextButtonClick",value:function(t){this.next()}},{key:"onPreviousButtonClick",value:function(t){this.previous()}},{key:"selected",get:function(){var t=this._locations.length,e=this._snapIndex;return(e%=t)<0&&(e+=t),e}},{key:"nextButton",get:function(){return this._nextButton}},{key:"previousButton",get:function(){return this._previousButton}}])&&E(e.prototype,n),i}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e,n){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return C});var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(E,x.a);var e,n,T=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(E);function E(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof E))throw new TypeError("Cannot call a class as a function")}(this),(t=T.call(this))._data=null,t._camera=null,t._backgroundLayer=null,t._mainLayer=null,t._particleLayer=null,t._characterInfo=null,t._characterButton=null,t._characterSelector=null,t._locationSelector=null,t._lastCharacterType="",t._editCharacter=!e||!!n,t._finishedTraining=e,t._gotoPage=n,t._weaponReveal=r,t._layoutTweens=new P3.utils.TWEEN.Group,t._cameraLeft=-260,t._cameraRight=300,t._ambienceAudio=null,t._equipEmitter=null,t._characterEmitter=null,t._fairyDustEmitter=null,t._weeklyChallengeVO=null,t}return e=E,(n=[{key:"init",value:function(){A(R(E.prototype),"init",this).call(this),this._data=v.a.save.getUserData(v.a.userId),this._camera=new P3.NewCamera,this._backgroundLayer=new PIXI.Container,this.addChild(this._backgroundLayer),this._mainLayer=new PIXI.Container,this.addChild(this._mainLayer),this._camera.addLayer(new P3.CameraLayer(this._backgroundLayer,new PIXI.Point(.1,1))),this._camera.addLayer(new P3.CameraLayer(this._mainLayer,new PIXI.Point(1,1))),this._camera.setTarget(new PIXI.Point(this._editCharacter?this._cameraLeft:this._cameraRight)),this.initBackButton(b.a.TAB_INDEX_LEVEL_0),this.initAchievementsButton(b.a.TAB_INDEX_LEVEL_0+1),this.initMuteButton(b.a.TAB_INDEX_LEVEL_0+2),this.initSettingsButton(b.a.TAB_INDEX_LEVEL_0+3),this.initNextButton(b.a.TAB_INDEX_LEVEL_3,b.a.POSITION_BOTTOM_RIGHT),this.initScene(),this.initCharacterInfo(),this.initCharacterButton(),this.initCharacterSelector(),this.initProgressBar(),this.initLocationSelector(),this.initTitle("Choose Battle"),this._particleLayer=new PIXI.Container,this._mainLayer.addChild(this._particleLayer);var t=P3.assets.json("particle_equip_character_0");this._equipEmitter=new PIXI.particles.Emitter(this._particleLayer,[P3.assets.texture("particle_divide"),P3.assets.texture("particle_minus"),P3.assets.texture("particle_multiply"),P3.assets.texture("particle_plus"),P3.assets.texture("particle_shape1"),P3.assets.texture("particle_shape2"),P3.assets.texture("particle_shape3"),P3.assets.texture("particle_shape4")],t),this._equipEmitter.updateOwnerPos(this._characterInfo.x,this._characterInfo.y-180),this._equipEmitter.emit=!1,t=P3.assets.json("particle_change_character_0"),this._characterEmitter=new PIXI.particles.Emitter(this._particleLayer,[P3.assets.texture("particle_divide"),P3.assets.texture("particle_minus"),P3.assets.texture("particle_multiply"),P3.assets.texture("particle_plus"),P3.assets.texture("particle_shape1"),P3.assets.texture("particle_shape2"),P3.assets.texture("particle_shape3"),P3.assets.texture("particle_shape4")],t),this._characterEmitter.updateOwnerPos(this._characterInfo.x,this._characterInfo.y-180),this._characterEmitter.emit=!1,t=P3.assets.json("particle_fairy_dust"),this._fairyDustEmitter=new PIXI.particles.Emitter(this._backgroundLayer,[P3.assets.texture("particle_divide"),P3.assets.texture("particle_minus"),P3.assets.texture("particle_multiply"),P3.assets.texture("particle_plus")],t),this._fairyDustEmitter.emit=!0,this._fairyDustEmitter.updateOwnerPos(0,0),this._title.visible=!this._editCharacter;var e=this._nextButton.states;e.icon=P3.assets.texture(this._editCharacter?"btn_icon_next_large":"btn_icon_play_large"),this._nextButton.setStates(e),this._gotoPage?this._gotoPage.type!==E.PAGE_CHARACTER&&this._gotoPage.type!==E.PAGE_ITEM||v.a.gmi.setStatsScreen&&v.a.gmi.setStatsScreen("editcharacter"):v.a.gmi.setStatsScreen&&v.a.gmi.setStatsScreen("battlecards")}},{key:"destroy",value:function(){this._equipEmitter.destroy(),this._characterEmitter.destroy(),this._fairyDustEmitter.destroy(),this._characterInfo.orbBanner.emitter.destroy(),this._weeklyChallengeVO&&(this._weeklyChallengeVO.destroy(),this._weeklyChallengeVO=null),A(R(E.prototype),"destroy",this).call(this)}},{key:"resize",value:function(){A(R(E.prototype),"resize",this).call(this),this._fairyDustEmitter.spawnRect=new PIXI.Rectangle(0,0,this._backgroundLayer.width,P3.View.height)}},{key:"show",value:function(){A(R(E.prototype),"show",this).call(this),this.setAllButtonsEnabled(!0),this._nextButton.interactive=!0,this.playAmbienceSFX()}},{key:"hide",value:function(){A(R(E.prototype),"hide",this).call(this),this._nextButton.interactive=!0,this.stopAmbienceSFX()}},{key:"appear",value:function(){A(R(E.prototype),"appear",this).call(this),this._weaponReveal?v.a.save.getUserData(v.a.userId).orbs<=1?P3.audio.playVO("vo_queen_extra_0608",1,!0):P3.audio.playVO("vo_queen_extra_09b1",1,!0):this._finishedTraining?!this._gotoPage&&this.playBattlecardsDiscoveredVO():P3.audio.playVO("vo_queen_07b",1,!0),this._weaponReveal&&(this._characterInfo.animation.playWeaponRevealAnim(),this._characterInfo.orbBanner.spine.state.setAnimation(0,"glow",!1),this._characterInfo.orbBanner.spine.state.addAnimation(0,"default",!0,0))}},{key:"animateIn",value:function(t,e){}},{key:"update",value:function(){A(R(E.prototype),"update",this).call(this);var t=window.dt;this._camera.update(),this._locationSelector.update(t),this._characterSelector.update(t);var e=v.a.gmi.getAllSettings();if(e.motion&&(this._characterInfo.animation&&this._characterInfo.animation.update(t),this._characterInfo.petAnimation&&this._characterInfo.petAnimation.update(t)),this._layoutTweens.update(),e.motion){this._equipEmitter.update(t),this._characterEmitter.update(t),this._fairyDustEmitter.update(t),this._characterInfo.orbBanner.spine.update(t),this._characterInfo.orbBanner.emitter.update(t),this._characterInfo.animation.emitter.update(t);var n=this._characterInfo.animation.spine.skeleton.findSlot("object_right"),r=this._characterInfo.toLocal(new PIXI.Point(n.currentSprite.position.x,n.currentSprite.position.y),n.currentSprite.parent);this._characterInfo.animation.emitter.updateOwnerPos(r.x,r.y)}}},{key:"gotoItemPage",value:function(t,e){this._editCharacter&&this._characterSelector.gotoItemPage(t,e)}},{key:"initScene",value:function(){var t=new PIXI.Sprite(P3.assets.texture("env_bg_char_select"));t.width=v.a.STAGE_WIDTH,this._backgroundLayer.addChild(t);var e=new PIXI.Sprite(P3.assets.texture("character_island_0"));e.position.set(.5*v.a.STAGE_WIDTH,670),e.anchor.set(.5),this._mainLayer.addChild(e)}},{key:"initCharacterInfo",value:function(){this._characterInfo=new PIXI.Container,this._characterInfo.position.set(.5*v.a.STAGE_WIDTH,600),this._mainLayer.addChild(this._characterInfo),this.initOrbBanner(),this.initPetAnimation(),this.initCharacterAnimation(),this._characterInfo.nameLabel=new PIXI.extras.BitmapText(v.a.character.name,{font:"32px Carter One"}),this._characterInfo.nameLabel.anchor.set(.5),this._characterInfo.addChild(this._characterInfo.nameLabel),v.a.save.isWeeklyChallengeComplete(v.a.userId)?this._characterInfo.nameLabel.position.set(80,-424):this._characterInfo.nameLabel.position.set(12,-424)}},{key:"initCharacterAnimation",value:function(){var t=this;this._characterInfo.animation&&this._characterInfo.animation.destroy(),this._characterInfo.animation=null;var e=!this._weaponReveal&&v.a.save.isWeeklyChallengeComplete(v.a.userId),n=v.a.save.getUserData(v.a.userId);switch(v.a.character.type){default:case r.a.TYPE_ELF:this._characterInfo.animation=new i.a(e);break;case r.a.TYPE_ELF_FEMALE:this._characterInfo.animation=new o.a(e);break;case r.a.TYPE_KNIGHT:this._characterInfo.animation=new a.a(e);break;case r.a.TYPE_KNIGHT_FEMALE:this._characterInfo.animation=new s.a(e);break;case r.a.TYPE_RANGER:this._characterInfo.animation=new u.a(e);break;case r.a.TYPE_RANGER_FEMALE:this._characterInfo.animation=new l.a(e);break;case r.a.TYPE_WARRIOR:this._characterInfo.animation=new c.a(e);break;case r.a.TYPE_WIZARD:this._characterInfo.animation=new f.a(e);break;case r.a.TYPE_WITCH:this._characterInfo.animation=new h.a(e)}v.a.save.isWeeklyChallengeComplete(v.a.userId)&&this._characterInfo.animation.position.set(60,0),this._characterInfo.animation.scale.set(.4),this._characterInfo.animation.init(n.class),this._characterInfo.addChild(this._characterInfo.animation),this._characterInfo.animation.playIdleAnim(),this._characterInfo.animation.update(0);var d=P3.assets.json("particle_weapon_reveal_0");for(var p in this._characterInfo.animation.emitter=new PIXI.particles.Emitter(this._characterInfo,[P3.assets.texture("particle_divide"),P3.assets.texture("particle_minus"),P3.assets.texture("particle_multiply"),P3.assets.texture("particle_plus"),P3.assets.texture("particle_shape1"),P3.assets.texture("particle_shape2"),P3.assets.texture("particle_shape3"),P3.assets.texture("particle_shape4")],d),this._characterInfo.animation.emitter.emit=!1,this._characterInfo.animation.spine.state.addListener({event:function(e,n){switch(n.stringValue){case"weapon_reveal":t._characterInfo.animation.emitter.emit=!0}}}),n.equipment)if(n.equipment.hasOwnProperty(p)){var _=n.equipment[p];"pet"!==p&&this._characterInfo.animation.setItem(p,_)}}},{key:"initPetAnimation",value:function(){this._characterInfo.petAnimation&&this._characterInfo.petAnimation.destroy(),this._characterInfo.petAnimation=null;var t=v.a.save.getUserPetId(v.a.userId);if(-1!==t){switch(t){default:case d.a.TYPE_OWL:this._characterInfo.petAnimation=new m.a;break;case d.a.TYPE_BAT:this._characterInfo.petAnimation=new p.a;break;case d.a.TYPE_DRAGON:this._characterInfo.petAnimation=new _.a;break;case d.a.TYPE_RAVEN:this._characterInfo.petAnimation=new y.a}v.a.save.isWeeklyChallengeComplete(v.a.userId)&&this._characterInfo.petAnimation.position.set(60,0),this._characterInfo.petAnimation.scale.set(.4),this._characterInfo.petAnimation.init(),this._characterInfo.addChild(this._characterInfo.petAnimation),this._characterInfo.petAnimation.playIdleAnim(),this._characterInfo.petAnimation.update(0),v.a.gmi.getAllSettings().motion&&(this._characterInfo.petAnimation.scale.set(0),new P3.utils.TWEEN.Tween(this._characterInfo.petAnimation.scale,this._tweens).to({x:.4,y:.4},440).easing(P3.utils.TWEEN.Easing.Cubic.Out).start())}}},{key:"initOrbBanner",value:function(){var t=v.a.save.getUserData(v.a.userId);this._characterInfo.orbBanner=new PIXI.Container,this._characterInfo.orbBanner.position.set(-84,8),this._characterInfo.addChild(this._characterInfo.orbBanner),this._characterInfo.orbBanner.spine=new PIXI.spine.Spine(P3.assets.spineData("challenge_flag")),this._characterInfo.orbBanner.spine.autoUpdate=!1,this._characterInfo.orbBanner.spine.skeleton.setSkin(null),this._characterInfo.orbBanner.spine.stateData.defaultMix=.2,this._characterInfo.orbBanner.spine.update(),this._characterInfo.orbBanner.addChild(this._characterInfo.orbBanner.spine),this._characterInfo.orbBanner.text=new PIXI.extras.BitmapText(t.orbs+"",{font:"42px BBC Reith Sans",align:"center"}),this._characterInfo.orbBanner.text.position.set(-6,-334),this._characterInfo.orbBanner.text.anchor.set(.5),this._characterInfo.orbBanner.text.tint=132476,this._characterInfo.orbBanner.addChild(this._characterInfo.orbBanner.text),this._characterInfo.orbBanner.particles=new PIXI.Container,this._characterInfo.orbBanner.particles.position.set(-6,-334),this._characterInfo.orbBanner.addChildAt(this._characterInfo.orbBanner.particles,0);var e=P3.assets.json("particle_orb");this._characterInfo.orbBanner.emitter=new PIXI.particles.Emitter(this._characterInfo.orbBanner.particles,[P3.assets.texture("particle_orb")],e),this._characterInfo.orbBanner.spine.state.setAnimation(0,"default",!0),v.a.save.isWeeklyChallengeComplete(v.a.userId)||(this._characterInfo.orbBanner.visible=!1)}},{key:"initCharacterButton",value:function(){this._characterButton=w.a.create(P3.assets.texture("btn_char_info_normal"),P3.assets.texture("ui_btn_char_info_over"),P3.assets.texture("ui_btn_char_info_down")),this._characterButton.position.set(this._characterInfo.x,this._characterInfo.y-140),this._characterButton.animate=!1,this._characterButton.animateIcon=!1,this._characterButton.visible=!this._editCharacter,this._characterButton.overSoundName="sfx_btn_rollover_00",this._characterButton.clickSoundName="sfx_btn_press_00",this._characterButton.voSoundName="vo_queen_119b",this._characterButton.tabIndex=b.a.TAB_INDEX_LEVEL_1,this._characterButton.signals.click.add(this.onCharacterButtonClick,this),this._mainLayer.addChild(this._characterButton),this._characterButton.label=new PIXI.extras.BitmapText("Edit Character",{font:"26px BBC Reith Sans"}),this._characterButton.label.position.set(26,178),this._characterButton.label.anchor.set(.5),this._characterButton.label.tint=16777215,this._characterButton.animation.addChild(this._characterButton.label)}},{key:"initProgressBar",value:function(){var t=v.a.save.getUserData(v.a.userId),e=P3.utils.objectToArray(v.a.config.game.level_progression),n=e[Math.min(e.length-1,t.level)],r=t.xp/n;this._progress=new PIXI.Sprite(P3.assets.texture("progress/ui_xp_bg_small")),this._progress.position.set(this._characterButton.x,714),this._progress.anchor.set(.5),this._progress.visible=!this._editCharacter,this._mainLayer.addChild(this._progress),this._progress.fill=new PIXI.Sprite(P3.assets.texture("progress/ui_xp_fill_small")),this._progress.fill.anchor.set(.5),this._progress.addChild(this._progress.fill);var i=this._progress.fill.texture.width,o=this._progress.fill.texture.height;this._progress.fill.mask=new PIXI.Graphics,this._progress.fill.mask.position.set(.5*-i,0),this._progress.fill.mask.scale.x=r,this._progress.fill.mask.beginFill(16711680,1),this._progress.fill.mask.drawRect(0,.5*-o,i,o),this._progress.fill.mask.endFill(),this._progress.fill.addChild(this._progress.fill.mask),this._progress.plaque=new PIXI.Sprite(P3.assets.texture("progress/ui_xp_count_bg_small")),this._progress.plaque.position.set(.5*-this._progress.texture.width-40,0),this._progress.plaque.anchor.set(.5),this._progress.addChild(this._progress.plaque),this._progress.icon=new PIXI.Sprite(P3.assets.texture("progress/ui_xp_loot_small")),this._progress.icon.position.set(.5*this._progress.texture.width+36,0),this._progress.icon.anchor.set(.5),this._progress.addChild(this._progress.icon);var a=Math.round(t.totalXp),s=30;a>v.a.config.game.xp_cap&&(a=Math.round(v.a.config.game.xp_cap)+"+",s=26),this._progress.xpLabel=new PIXI.extras.BitmapText(a+"",{font:s+"px BBC Reith Sans",align:"center"}),this._progress.xpLabel.position.set(0,14),this._progress.xpLabel.anchor.set(.5),this._progress.xpLabel.tint=3736327,this._progress.plaque.addChild(this._progress.xpLabel)}},{key:"initCharacterSelector",value:function(){var t=g.a.MODE_CHARACTER;this._gotoPage&&this._gotoPage.type===E.PAGE_ITEM&&(t=g.a.MODE_ITEM),this._characterSelector=new g.a(t),this._characterSelector.position.set(.5*v.a.STAGE_WIDTH-200,430),this._characterSelector.filters=[new PIXI.filters.AlphaFilter(this._editCharacter)],this._characterSelector.visible=this._editCharacter,this._characterSelector.disableInput(!this._editCharacter),this._characterSelector.signals.character.add(this.onCharacterSelectorSelect,this),this._characterSelector.signals.item.add(this.onCharacterSelectorItem,this),this.addChild(this._characterSelector),this._gotoPage&&t===g.a.MODE_ITEM&&this._gotoPage.item&&this.gotoItemPage(this._gotoPage.item.slot,this._gotoPage.item.type)}},{key:"initLocationSelector",value:function(){this._locationSelector=new I(this._finishedTraining),this._locationSelector.position.set(.5*v.a.STAGE_WIDTH+180,386),this._locationSelector.filters=[new PIXI.filters.AlphaFilter(!this._editCharacter)],this._locationSelector.visible=!this._editCharacter,this._locationSelector.scrollTo(v.a.locationIndex),this._locationSelector.signals.select.add(this.onLocationSelectorSelect,this),this.addChild(this._locationSelector)}},{key:"setCharacter",value:function(t){console.log("*"+t);var e=v.a.save.getUserData(v.a.userId);e.class=t,v.a.save.saveGame(),this._characterEmitter.emit=!0;var n=P3.utils.objectToArray(P3.assets.json("characters"));v.a.character=n.filter(function(t){return t.skin===e.class})[0],this.initCharacterAnimation(),v.a.character.group!==this._lastCharacterType?(this._lastCharacterType=v.a.character.group,P3.audio.playVO(v.a.character.audio.name)):this._characterInfo.animation.setSkin(e.class),v.a.gmi.sendStatsEvent("select_character","click",{metadata:"AVA="+e.class})}},{key:"setItem",value:function(t,e){var n=v.a.save.getUserData(v.a.userId);Array.isArray(t)||(t=[t]),this._equipEmitter.emit=!0;for(var r=0;r<t.length;++r){var i=t[r];e=n.equipment[i]!==e?e:0,n.equipment[i]=e,"pet"!==i?(this._characterInfo.animation.setItem(i,e),!v.a.gmi.getAllSettings().motion&&this._characterInfo.animation.reset()):this.initPetAnimation()}v.a.save.saveGame(),v.a.gmi.sendStatsEvent("item","click")}},{key:"showLocationSelector",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=this._locationSelector.filters[0];new P3.utils.TWEEN.Tween(i,this._layoutTweens).to({alpha:1},180).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(e).onStart(function(){t._locationSelector.visible=!0}).onComplete(function(){n&&n.call(r)}).start()}},{key:"hideLocationSelector",value:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1?arguments[1]:void 0),n=arguments.length>2?arguments[2]:void 0,r=this._locationSelector.filters[0];new P3.utils.TWEEN.Tween(r,this._layoutTweens).to({alpha:0},180).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){t._locationSelector.visible=!1,e&&e.call(n)}).start()}},{key:"showCharacterSelector",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=this._characterSelector.filters[0];new P3.utils.TWEEN.Tween(i,this._layoutTweens).to({alpha:1},180).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(e).onStart(function(){t._characterSelector.visible=!0}).onComplete(function(){n&&n.call(r)}).start()}},{key:"hideCharacterSelector",value:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1?arguments[1]:void 0),n=arguments.length>2?arguments[2]:void 0,r=this._characterSelector.filters[0];new P3.utils.TWEEN.Tween(r,this._layoutTweens).to({alpha:0},180).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){t._characterSelector.visible=!1,e&&e.call(n)}).start()}},{key:"switchLayout",value:function(){var t=this;if(this._layoutTweens.removeAll(),this._editCharacter){this._editCharacter=!1,this._characterButton.interactive=!0,this._nextButton.voSoundName="vo_queen_103a",this._finishedTraining&&this.playBattlecardsDiscoveredVO(),console.log("lock");var e=this._nextButton.states;e.icon=P3.assets.texture("btn_icon_play_large"),this._nextButton.setStates(e),this._locationSelector.disableInput(!1),this._characterSelector.disableInput(!0),new P3.utils.TWEEN.Tween(this._camera.target,this._layoutTweens).to({x:this._cameraRight},640).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).start(),new P3.utils.TWEEN.Tween(this._title,this._layoutTweens).to({alpha:1},200).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(240).onStart(function(){t._title.visible=!0}).start(),new P3.utils.TWEEN.Tween(this._characterButton,this._layoutTweens).to({alpha:1},200).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(240).onStart(function(){t._characterButton.visible=!0,t._characterButton.enabled=!0}).start(),new P3.utils.TWEEN.Tween(this._progress,this._layoutTweens).to({alpha:1},200).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(240).onStart(function(){t._progress.visible=!0}).start(),this.showLocationSelector(320),this.hideCharacterSelector(),P3.audio.playSound("sfx_customise_open_00"),this._finishedTraining?P3.audio.playVO(Math.random()<.4?v.a.character.audio.select:["vo_queen_27d","vo_queen_28a","vo_queen_29c","vo_queen_30c","vo_queen_31b","vo_queen_32a","vo_queen_33a","vo_queen_34","vo_queen_35b"]):P3.audio.playVO("vo_queen_56",1,!0),v.a.gmi.setStatsScreen&&v.a.gmi.setStatsScreen("battlecards")}else{this._editCharacter=!0,this._characterButton.interactive=!1,this._nextButton.voSoundName="vo_queen_114c",console.log("unlock");var n=this._nextButton.states;n.icon=P3.assets.texture("btn_icon_next_large"),this._nextButton.setStates(n),this._locationSelector.disableInput(!0),this._characterSelector.disableInput(!1),new P3.utils.TWEEN.Tween(this._camera.target,this._layoutTweens).to({x:this._cameraLeft},640).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).start(),new P3.utils.TWEEN.Tween(this._title,this._layoutTweens).to({alpha:0},200).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){t._title.visible=!1}).start(),new P3.utils.TWEEN.Tween(this._characterButton,this._layoutTweens).to({alpha:0},200).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){t._characterButton.visible=!1}).start(),new P3.utils.TWEEN.Tween(this._progress,this._layoutTweens).to({alpha:0},200).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){t._progress.visible=!1}).start(),this.hideLocationSelector(),this.showCharacterSelector(320),P3.audio.playSound("sfx_customise_close_00"),v.a.gmi.setStatsScreen&&v.a.gmi.setStatsScreen("editcharacter")}}},{key:"playAmbienceSFX",value:function(){this.stopAmbienceSFX(),this._ambienceAudio=P3.audio.playSound("sfx_avatar_loop_ambience_01",{loop:!0})}},{key:"stopAmbienceSFX",value:function(){this._ambienceAudio&&(this._ambienceAudio.stop(),this._ambienceAudio=null)}},{key:"playBattlecardsDiscoveredVO",value:function(){var t=v.a.save.getUserData(v.a.userId);t.battlecardsLearned?v.a.location.challenge&&this.playWeeklyChallengeVO():(t.battlecardsLearned=!0,v.a.save.saveGame(),P3.audio.playVO("vo_queen_40c",1,!0))}},{key:"onCharacterButtonClick",value:function(t){this._characterButton.enabled=!1,this.switchLayout(),v.a.gmi.sendStatsEvent("edit_character","click")}},{key:"onNextButtonClick",value:function(t){this._editCharacter?this.switchLayout():(this.setAllButtonsEnabled(!1),this.signals.next.dispatch(this,v.a.location.training))}},{key:"onLocationSelectorSelect",value:function(t,e,n){v.a.locationIndex=n;var r=P3.utils.objectToArray(P3.assets.json("locations")).filter(function(t){return t.id===e});v.a.location=r[0],v.a.save.getUserData(v.a.userId).location=n,v.a.save.saveGame(),v.a.location.challenge&&this.playWeeklyChallengeVO(),console.log("location",v.a.locationIndex,v.a.location)}},{key:"onCharacterSelectorSelect",value:function(t,e,n){this._weaponReveal=!1,this.setCharacter(n.skin),this._characterInfo.nameLabel.text=n.name}},{key:"onCharacterSelectorItem",value:function(t,e,n,r){this.setItem(n,r),Math.random()<.4&&P3.audio.playVO(["vo_queen_36a","vo_queen_37a","vo_queen_38a","vo_queen_39a"])}},{key:"playWeeklyChallengeVO",value:function(){var t=this;if(v.a.save.isWeeklyChallengeComplete(v.a.userId)){var e;switch(this._weeklyChallengeVO&&(this._weeklyChallengeVO.destroy(),this._weeklyChallengeVO=null),7-v.a.weekday){case 1:e="vo_queen_extra_18a";break;case 2:e="vo_queen_extra_19a";break;case 3:e="vo_queen_extra_20a";break;case 4:e="vo_queen_extra_21a";break;case 5:e="vo_queen_extra_22a";break;case 6:e="vo_queen_extra_23a";break;case 7:e="vo_queen_extra_24a"}this._weeklyChallengeVO=P3.audio.playVO("vo_queen_extra_17b1",1,!0),this._weeklyChallengeVO&&this._weeklyChallengeVO.signals.end.once(function(){t._weeklyChallengeVO=P3.audio.playVO(e,1,!0),t._weeklyChallengeVO&&t._weeklyChallengeVO.signals.end.once(function(){t._weeklyChallengeVO=P3.audio.playVO("vo_queen_extra_17b2",1,!0)})})}else P3.audio.playVO("vo_queen_extra_15a",1,!0)}},{key:"editCharacter",get:function(){return this._editCharacter}},{key:"characterSelector",get:function(){return this._characterSelector}}])&&L(e.prototype,n),E}();C.PAGE_CHARACTER="character",C.PAGE_ITEM="item"},function(t,e,n){var r=n(29),i=n(19),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(87)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(46),i=n(25),o=n(89);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(65);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(24)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(21);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(117),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";n(274);var r=n(42),i=n(45),o=n(20),a=n(66),s=n(24),u=n(229),l=s("species"),c=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),d=!o(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),p=d?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e}):void 0;if(!d||!p||"replace"===t&&!c||"split"===t&&!h){var _=/./[f],m=n(a,f,""[t],function(t,e,n,r,i){return e.exec===u?d&&!i?{done:!0,value:_.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),y=m[0],v=m[1];r(String.prototype,t,y),i(RegExp.prototype,f,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},function(t,e,n){var r=n(51),i=n(269),o=n(224),a=n(21),s=n(25),u=n(226),l={},c={};(e=t.exports=function(t,e,n,h,f){var d,p,_,m,y=f?function(){return t}:u(t),v=r(n,h,e?2:1),g=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(d=s(t.length);d>g;g++)if((m=e?v(a(p=t[g])[0],p[1]):v(t[g]))===l||m===c)return m}else for(_=y.call(t);!(p=_.next()).done;)if((m=i(_,v,p.value,e))===l||m===c)return m}).BREAK=l,e.RETURN=c},function(t,e,n){var r=n(19).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(19),i=n(6),o=n(42),a=n(106),s=n(74),u=n(139),l=n(105),c=n(22),h=n(20),f=n(135),d=n(101),p=n(215);t.exports=function(t,e,n,_,m,y){var v=r[t],g=v,b=m?"set":"add",w=g&&g.prototype,x={},T=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(y&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof g&&(y||w.forEach&&!h(function(){(new g).entries().next()}))){var E=new g,P=E[b](y?{}:-0,1)!=E,S=h(function(){E.has(1)}),M=f(function(t){new g(t)}),O=!y&&h(function(){for(var t=new g,e=5;e--;)t[b](e,e);return!t.has(-0)});M||((g=e(function(e,n){l(e,g,t);var r=p(new v,e,g);return null!=n&&u(n,m,r[b],r),r})).prototype=w,w.constructor=g),(S||O)&&(T("delete"),T("has"),m&&T("get")),(O||P)&&T(b),y&&w.clear&&delete w.clear}else g=_.getConstructor(e,t,m,b),a(g.prototype,n),s.NEED=!0;return d(g,t),x[t]=g,i(i.G+i.W+i.F*(g!=v),x),y||_.setStrong(g,t,m),g}},function(t,e,n){for(var r,i=n(19),o=n(45),a=n(86),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[f[h++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((r=n(121))&&r.__esModule?r:{default:r}).default);e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r=v(n(305)),i=v(n(709)),o=v(n(712)),a=v(n(713)),s=v(n(145)),u=v(n(143)),l=v(n(715)),c=v(n(107)),h=v(n(716)),f=v(n(717)),d=v(n(719)),p=v(n(720)),_=n(23),m=v(n(47)),y=n(15);function v(t){return t&&t.__esModule?t:{default:t}}var g=0,b=function(t){function e(n,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",n,r,a));return s.legacy=s.options.legacy,s.legacy&&(m.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=y.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener("webglcontextlost",s.handleContextLost,!1),s.view.addEventListener("webglcontextrestored",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&"notMultiplied"!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new i.default(s),s.stencilManager=new o.default(s),s.emptyRenderer=new u.default(s),s.currentRenderer=s.emptyRenderer,s.textureManager=null,s.filterManager=null,s.initPlugins(),s.options.context&&(0,p.default)(s.options.context),s.gl=s.options.context||m.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=g++,s.state=new f.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.drawModes=(0,d.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new l.default(this),this.filterManager=new a.default(this),this.textureGC=new h.default(this),this.state.resetToDefault(),this.rootRenderTarget=new s.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new m.default.GLTexture.fromData(t,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new c.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[i]=r,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,n,r,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,r),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){r.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var n=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var n=void 0;if(t){var r=t.baseTexture;r._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(r,0),this.unbindTexture(r),(n=r._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else n=this.rootRenderTarget;return n.transform=e,this.bindRenderTarget(n),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,n){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,n)e=e||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===t)return r;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===t&&(this.boundTextures[n]=this.emptyTextures[n],e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new m.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(r.default);e.default=b,_.pluginTarget.mixin(b)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(35),o=n(15),a=(r=n(33))&&r.__esModule?r:{default:r},s=n(47),u=function(){function t(e,n,r,u,l,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=l||a.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==u?u:a.default.SCALE_MODE,this.root=c,this.root?(this.frameBuffer=new s.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=s.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,r)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var n=this.projectionMatrix;e=e||t,n.identity(),this.root?(n.a=1/t.width*2,n.d=-1/t.height*2,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2,n.d=1/t.height*2,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=u},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){t.nativeLines?function(t,e){var n=0,r=t.points;if(0!==r.length){var o=e.points,a=r.length/2,s=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,l=s[0]*u,c=s[1]*u,h=s[2]*u;for(n=1;n<a;n++){var f=r[2*(n-1)],d=r[2*(n-1)+1],p=r[2*n],_=r[2*n+1];o.push(f,d),o.push(l,c,h,u),o.push(p,_),o.push(l,c,h,u)}}}(t,n):function(t,e){var n=t.points;if(0!==n.length){var o=new r.Point(n[0],n[1]),a=new r.Point(n[n.length-2],n[n.length-1]);if(o.x===a.x&&o.y===a.y){(n=n.slice()).pop(),n.pop();var s=(a=new r.Point(n[n.length-2],n[n.length-1])).x+.5*(o.x-a.x),u=a.y+.5*(o.y-a.y);n.unshift(s,u),n.push(s,u)}var l=e.points,c=e.indices,h=n.length/2,f=n.length,d=l.length/6,p=t.lineWidth/2,_=(0,i.hex2rgb)(t.lineColor),m=t.lineAlpha,y=_[0]*m,v=_[1]*m,g=_[2]*m,b=n[0],w=n[1],x=n[2],T=n[3],E=0,P=0,S=-(w-T),M=b-x,O=0,I=0,k=0,L=0,A=Math.sqrt(S*S+M*M);S/=A,M/=A,S*=p,M*=p;var D=t.lineAlignment,R=2*(1-D),C=2*D;l.push(b-S*R,w-M*R,y,v,g,m),l.push(b+S*C,w+M*C,y,v,g,m);for(var j=1;j<h-1;++j){b=n[2*(j-1)],w=n[2*(j-1)+1],x=n[2*j],T=n[2*j+1],E=n[2*(j+1)],P=n[2*(j+1)+1],S=-(w-T),M=b-x,S/=A=Math.sqrt(S*S+M*M),M/=A,S*=p,M*=p,O=-(T-P),I=x-E,O/=A=Math.sqrt(O*O+I*I),I/=A;var Y=-M+w-(-M+T),N=-S+x-(-S+b),B=(-S+b)*(-M+T)-(-S+x)*(-M+w),F=-(I*=p)+P-(-I+T),H=-(O*=p)+x-(-O+E),V=(-O+E)*(-I+T)-(-O+x)*(-I+P),q=Y*H-F*N;if(Math.abs(q)<.1)q+=10.1,l.push(x-S*R,T-M*R,y,v,g,m),l.push(x+S*C,T+M*C,y,v,g,m);else{var W=(N*V-H*B)/q,U=(F*B-Y*V)/q;(W-x)*(W-x)+(U-T)*(U-T)>196*p*p?(k=S-O,L=M-I,k/=A=Math.sqrt(k*k+L*L),L/=A,k*=p,L*=p,l.push(x-k*R,T-L*R),l.push(y,v,g,m),l.push(x+k*C,T+L*C),l.push(y,v,g,m),l.push(x-k*C*R,T-L*R),l.push(y,v,g,m),f++):(l.push(x+(W-x)*R,T+(U-T)*R),l.push(y,v,g,m),l.push(x-(W-x)*C,T-(U-T)*C),l.push(y,v,g,m))}}b=n[2*(h-2)],w=n[2*(h-2)+1],x=n[2*(h-1)],S=-(w-(T=n[2*(h-1)+1])),M=b-x,S/=A=Math.sqrt(S*S+M*M),M/=A,S*=p,M*=p,l.push(x-S*R,T-M*R),l.push(y,v,g,m),l.push(x+S*C,T+M*C),l.push(y,v,g,m),c.push(d);for(var X=0;X<f;++X)c.push(d++);c.push(d-1)}}(t,e)};var r=n(35),i=n(23)},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){var t;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this,"adversary_dragon",r.a.TYPE_DRAGON)).scale.set(.5),t.setIdleAnims(["idle"]),t.setAttackAnims(["attack"]),t.setDamageAnims(["damage"]),t.setDefeatAnims(["defeat"]),t.setVictoryAnims(["victory"]),t.setEnterAnims(["enter"]),t._fireEmitter=null,t._fireEmitterBone=null,t._spine.state.addListener({event:function(e,n){return t.onAnimationEvent(e,n)}}),t._attackSoundName="sfx_dragon_attack_00",t._enterSoundName="sfx_enter_dragon",t}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["dragon1","dragon2"]));var t=P3.assets.json("particle_emitter_dragon_flame");this._fireEmitter=new PIXI.particles.Emitter(this.parent,[P3.assets.texture("flame_particle_00")],t),this._fireEmitter.emit=!1,this._fireEmitterBone=this._spine.skeleton.findBone("emitter_flame")}},{key:"update",value:function(t){a(l(c.prototype),"update",this).call(this,t),this._fireEmitter.update(t);var e=this._fireEmitter.parent.toLocal(new PIXI.Point(this._fireEmitterBone.worldX,this._fireEmitterBone.worldY),this._spine);this._fireEmitter.updateOwnerPos(e.x,e.y)}},{key:"setEmitterParent",value:function(t){a(l(c.prototype),"setEmitterParent",this).call(this,t),this._fireEmitter.parent=t}},{key:"onAnimationEvent",value:function(t,e){console.log(e),"emitter_flame"===e.stringValue&&(this._fireEmitter.emit=!0)}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){var t;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this,"adversary_hobgoblin",r.a.TYPE_HOBGOBLIN)).scale.set(.34),t.setIdleAnims(["idle"]),t.setAttackAnims(["attack"]),t.setDamageAnims(["damage"]),t.setDefeatAnims(["defeat"]),t.setVictoryAnims(["victory"]),t.setEnterAnims(["enter"]),t._attackSoundName="sfx_hobgoblin_attack_00",t._enterSoundName="sfx_enter_hobgoblin",t}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["hobgoblin1","hobgoblin2"]))}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){var t;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this,"adversary_mage",r.a.TYPE_MAGE)).scale.set(.4),t.setIdleAnims(["idle"]),t.setAttackAnims(["attack"]),t.setDamageAnims(["damage"]),t.setDefeatAnims(["defeat"]),t.setVictoryAnims(["victory"]),t.setEnterAnims(["enter"]),t._attackSoundName="sfx_mage_attack_00",t._enterSoundName="sfx_enter_mage",t}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["mage1","mage2"]))}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){var t;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this,"adversary_spider",r.a.TYPE_SPIDER)).scale.set(.5),t.setIdleAnims(["idle"]),t.setAttackAnims(["attack"]),t.setDamageAnims(["damage"]),t.setDefeatAnims(["defeat"]),t.setVictoryAnims(["victory"]),t.setEnterAnims(["enter"]),t._attackSoundName="sfx_spider_attack_00",t._enterSoundName="sfx_enter_spider",t}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["spider1","spider2"]))}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){var t;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this,"adversary_spirit",r.a.TYPE_SPIRIT)).scale.set(.4),t.setIdleAnims(["idle"]),t.setAttackAnims(["attack"]),t.setDamageAnims(["damage"]),t.setDefeatAnims(["defeat"]),t.setVictoryAnims(["victory"]),t.setEnterAnims(["enter"]),t._attackSoundName="sfx_spirit_attack_00",t._enterSoundName="sfx_enter_spirit",t}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["spirit1","spirit2"]))}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){var t;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this,"adversary_troll",r.a.TYPE_TROLL)).scale.set(.4),t.setIdleAnims(["idle"]),t.setAttackAnims(["attack"]),t.setDamageAnims(["damage"]),t.setDefeatAnims(["defeat"]),t.setVictoryAnims(["victory"]),t.setEnterAnims(["enter"]),t._attackSoundName="sfx_troll_attack_00",t._enterSoundName="sfx_enter_troll",t}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["troll1","troll2"]))}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(28);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,"guardian_pet",r.a.TYPE_BAT)}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["pet2"]))}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(28);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,"guardian_pet",r.a.TYPE_DRAGON)}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["pet3"]))}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(28);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,"guardian_pet",r.a.TYPE_OWL)}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["pet1"]))}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(28);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(){return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,"guardian_pet",r.a.TYPE_RAVEN)}return e=c,(n=[{key:"init",value:function(){a(l(c.prototype),"init",this).call(this,P3.utils.selectRandom(["pet4"]))}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(100),i=n(8);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,i.a);var e,n,o=l(h);function h(){return function(t,e){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),o.call(this)}return e=h,(n=[{key:"create",value:function(t){var e=s(c(h.prototype),"create",this).call(this,t);return e.values=[new r.a(P3.math.randomInt(0,1))],this.generateOptions(e),e}},{key:"generateOptions",value:function(t,e){t.options=[new r.a(1),new r.a(0)]}}])&&a(e.prototype,n),h}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(2),i=n(8);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,i.a);var e,n,o=l(h);function h(){return function(t,e){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),o.call(this)}return e=h,(n=[{key:"create",value:function(t){var e=s(c(h.prototype),"create",this).call(this,t);return this.generateOptions(e,t.type),e}},{key:"generateOptions",value:function(t,e){if("squared"===e){var n=P3.math.randomInt(t.range.min,t.range.max),i=n*n;t.values.push(new r.a(n+"")),t.values.push(new r.a(i)),t.part=1;for(var o=100,a=[];o-- >0&&t.options.length<5;){var s=P3.math.randomInt(t.range.min,t.range.max),u=s*s+P3.math.randomInt(0,4);-1===a.indexOf(u)&&u!==i&&(a.push(u),t.options.push(new r.a(u)))}t.options.push(new r.a(i)),P3.utils.shuffleArray(t.options)}else if("cubed"===e){var l=P3.math.randomInt(t.range.min,t.range.max),c=l*l*l;t.values.push(new r.a(l+"")),t.values.push(new r.a(c)),t.part=1;for(var h=100,f=[];h-- >0&&t.options.length<5;){var d=P3.math.randomInt(t.range.min,t.range.max),p=d*d*d+P3.math.randomInt(0,4);-1===f.indexOf(p)&&p!==c&&(f.push(p),t.options.push(new r.a(p)))}t.options.push(new r.a(c)),P3.utils.shuffleArray(t.options)}else if("square_root"===e){var _=P3.math.randomInt(t.range.min,t.range.max),m=_*_;t.values.push(new r.a(m)),t.values.push(new r.a(_)),t.part=1;for(var y=100,v=[];y-- >0&&t.options.length<5;){var g=P3.math.randomInt(t.range.min,t.range.max);-1===v.indexOf(g)&&g!==_&&(v.push(g),t.options.push(new r.a(g)))}t.options.push(new r.a(_)),P3.utils.shuffleArray(t.options)}else if("cube_root"===e){var b=P3.math.randomInt(t.range.min,t.range.max),w=b*b*b;t.values.push(new r.a(w)),t.values.push(new r.a(b)),t.part=1;for(var x=100,T=[];x-- >0&&t.options.length<5;){var E=P3.math.randomInt(t.range.min,t.range.max);-1===T.indexOf(E)&&E!==b&&(T.push(E),t.options.push(new r.a(E)))}t.options.push(new r.a(b)),P3.utils.shuffleArray(t.options)}else console.warn("exponential supports square and cube only")}}])&&a(e.prototype,n),h}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(72),i=n.n(r),o=n(1),a=n(18),s=n(8);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(u,s.a);var e,n,r=f(u);function u(){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),r.call(this)}return e=u,(n=[{key:"create",value:function(t){var e=c(d(u.prototype),"create",this).call(this,t);switch(t.type){case o.a.TYPE_ADDITION:return this.createAddition(e,t);case o.a.TYPE_SUBTRACTION:return this.createSubtract(e,t);case o.a.TYPE_MULTIPLICATION:return this.createMultiplication(e,t);case o.a.TYPE_DIVISION:return this.createDivide(e,t)}}},{key:"createAddition",value:function(t,e){for(var n=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max),r=1e3;r-- >0&&t.values.length<e.values;){var o=P3.math.randomInt(e.range.min,Math.round(n/e.values)-1);t.values.push(new a.a(o,n))}for(var s=new i.a(0,1),u=0;u<t.values.length;u++){var l=t.values[u];s=s.add(new i.a(l.numerator,l.denominator))}var c=1,h=!1;s.d!==n&&(h=!0,e.simplify||s.d!==n&&(c=n/s.d)),t.values.push(new a.a(s.n*c,s.d*c)),t.part=t.values.length-1,t.options.push(new a.a(s.n*c,s.d*c)),h&&(n=s.d),r=100;for(var f=function(){var r=P3.math.randomInt(e.range.min,n-1);t.options.every(function(t){return parseFloat(t.value)!==r/n})&&t.options.push(new a.a(r,n))};r-- >0&&t.options.length<5;)f();r=100;for(var d=function(){var r=P3.math.randomInt(e.range.min,e.range.max);n=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max),r<n&&t.options.every(function(t){return parseFloat(t.value)!==r/n})&&t.options.push(new a.a(r,n))};r-- >0&&t.options.length<5;)d();return P3.utils.shuffleArray(t.options),t}},{key:"createSubtract",value:function(t,e){var n=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max),r=new a.a(n-P3.math.randomInt(1,2),n);t.values.push(r);for(var o=1e3;o-- >0&&t.values.length<e.values;){var s=P3.math.randomInt(e.range.min,Math.round(n/e.values)-1);t.values.push(new a.a(s,n))}for(var u=new i.a(r.numerator,r.denominator),l=1;l<t.values.length;l++){var c=t.values[l];u=u.sub(new i.a(c.numerator,c.denominator))}var h=1,f=!1;u.d!==n&&(f=!0,e.simplify||u.d!==n&&(h=n/u.d)),t.values.push(new a.a(u.n*h,u.d*h)),t.part=t.values.length-1,t.options.push(new a.a(u.n*h,u.d*h)),f&&(n=u.d),o=100;for(var d=function(){var r=P3.math.randomInt(e.range.min,n-1);t.options.every(function(t){return parseFloat(t.value)!==r/n})&&t.options.push(new a.a(r,n))};o-- >0&&t.options.length<5;)d();o=100;for(var p=function(){var r=P3.math.randomInt(e.range.min,e.range.max);n=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max),r<n&&t.options.every(function(t){return parseFloat(t.value)!==r/n})&&t.options.push(new a.a(r,n))};o-- >0&&t.options.length<5;)p();return P3.utils.shuffleArray(t.options),t}},{key:"createMultiplication",value:function(t,e){for(var n=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max),r=1e3;r-- >0&&t.values.length<e.values;){var o=P3.math.randomInt(e.range.min,e.range.max);t.values.push(new a.a(o,n))}for(var s=new i.a(1,1),u=0;u<t.values.length;u++){var l=t.values[u];s=s.mul(new i.a(l.numerator,l.denominator))}var c=1,h=!1;s.d!==n&&(h=!0,e.simplify||s.d!==n&&(c=n/s.d)),t.values.push(new a.a(s.n*c,s.d*c)),t.part=t.values.length-1,t.options.push(new a.a(s.n*c,s.d*c)),h&&(n=s.d),r=100;for(var f=function(){var r=P3.math.randomInt(e.range.min,n-1);t.options.every(function(t){return parseFloat(t.value)!==r/n})&&t.options.push(new a.a(r,n))};r-- >0&&t.options.length<5;)f();r=100;for(var d=function(){var r=P3.math.randomInt(e.range.min,e.range.max);n=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max),r<n&&t.options.every(function(t){return parseFloat(t.value)!==r/n})&&t.options.push(new a.a(r,n))};r-- >0&&t.options.length<5;)d();return P3.utils.shuffleArray(t.options),t}},{key:"createDivide",value:function(t,e){for(var n=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max),r=1e3;r-- >0&&t.values.length<e.values;){var o=P3.math.randomInt(e.range.min,e.range.max);t.values.push(new a.a(o,n))}t.values.sort(function(t,e){return t.value-e.value});for(var s=t.values[0],u=new i.a(s.numerator,s.denominator),l=1;l<t.values.length;l++){var c=t.values[l];u=u.div(new i.a(c.numerator,c.denominator))}var h=1,f=!1;u.d!==n&&(f=!0,e.simplify||u.d!==n&&(h=n/u.d)),t.values.push(new a.a(u.n*h,u.d*h)),t.part=t.values.length-1,t.options.push(new a.a(u.n*h,u.d*h)),f&&(n=u.d),r=100;for(var d=function(){var r=P3.math.randomInt(e.range.min,n-1);t.options.every(function(t){return parseFloat(t.value)!==r/n})&&t.options.push(new a.a(r,n))};r-- >0&&t.options.length<5;)d();r=100;for(var p=function(){var r=P3.math.randomInt(e.range.min,e.range.max);n=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max),r<n&&t.options.every(function(t){return parseFloat(t.value)!==r/n})&&t.options.push(new a.a(r,n))};r-- >0&&t.options.length<5;)p();return P3.utils.shuffleArray(t.options),t}}])&&l(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n(1);var r=n(2),i=n(8);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,i.a);var e,n,o=l(h);function h(){return function(t,e){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),o.call(this)}return e=h,(n=[{key:"create",value:function(t){var e=s(c(h.prototype),"create",this).call(this,t);return e.options=this.generateOptions(e,t.values,t.multiplierRange),e}},{key:"generateOptions",value:function(t,e,n){var i=P3.math.randomInt(t.range.min,t.range.max);t.values.push(new r.a(i));for(var o=[],a=P3.math.randomInt(1,Math.max(1,e-1)),s=[],u=n.min;u<=n.max;u++)s.push(i*u);for(var l=[],c=0;c<e;c++){var h=void 0;if(c<a)h=s.splice(P3.math.randomInt(0,s.length-1),1)[0];else{for(h=i;this.isAMultipleOf(i,h)||l.indexOf(h)>-1;)h=P3.math.randomInt(i*n.min,i*n.max);l.push(h)}o.push(new r.a(h))}for(var f in P3.utils.shuffleArray(o),t.part=[],o)this.isAMultipleOf(i,o[f])&&t.part.push(Number(f));return o}},{key:"isAMultipleOf",value:function(t,e){return e%t==0}}])&&a(e.prototype,n),h}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(1),i=n(2),o=n(18),a=n(8);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,a.a);var e,n,s=h(d);function d(){return function(t,e){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}(this),s.call(this)}return e=d,(n=[{key:"create",value:function(t){var e=l(f(d.prototype),"create",this).call(this,t);switch(t.type){case r.a.TYPE_COMPARISON_FRACTION:this.createComparisonFraction(e,t);break;case r.a.TYPE_COMPARISON:this.createComparison(e,t);break;case r.a.TYPE_VALUE:this.createValue(e,t);break;case r.a.TYPE_COMPOSE:this.createCompose(e,t);break;case r.a.TYPE_ROUND:this.createRound(e,t)}return e}},{key:"createComparison",value:function(t,e){t.lowest=P3.math.randomBool(),void 0===e.dp&&(e.dp=2);for(var n=100,r=function(){var n=new i.a(e.decimal?parseFloat(P3.math.random(e.range.min,e.range.max).toFixed(e.dp)):P3.math.randomInt(e.range.min,e.range.max));t.options.length&&!t.options.every(function(t){return t.value!==n.value})||t.options.push(n)};t.options.length<e.values&&--n>0;)r();t.options.sort(function(e,n){return t.lowest?n.value-e.value:e.value-n.value}),t.values=[t.options[0]],P3.utils.shuffleArray(t.options)}},{key:"createComparisonFraction",value:function(t,e){t.lowest=P3.math.randomBool(),e.range_denominator||(e.range_denominator=e.range);var n=Math.random()<.5,r=P3.math.randomInt(e.range_denominator.min,e.range_denominator.max);1===r&&r++;for(var i=1e3,a=function(){var i=n?1:P3.math.randomInt(e.range.min,e.range.max),a=n?P3.math.randomInt(e.range_denominator.min,e.range_denominator.max):r;1===a&&a++,i<a&&t.options.every(function(t){return parseFloat(t.value)!==i/a})&&t.options.push(new o.a(i,a))};t.options.length<e.values&&--i>0;)a();t.options.sort(function(e,n){return t.lowest?n.value-e.value:e.value-n.value}),t.values=[t.options[0]],P3.utils.shuffleArray(t.options)}},{key:"createValue",value:function(t,e){var n=10,r=P3.math.randomInt(e.range.min,e.range.max);t.values=[new i.a(r)],t.options=[new i.a(r)];for(var o=function(){var e=(""+r).split(""),n=e[0];e.splice(0,1),P3.utils.shuffleArray(e);for(var o=n,a=0;a<e.length;a++)o+=e[a];var s=parseInt(o),u=new i.a(s);t.options.length&&!t.options.every(function(t){return t.value!==u.value})||t.options.push(u)};t.options.length<e.values&&n-- >0;)o();for(var a=function(){var e=new i.a(P3.math.randomInt(r-20,r+20));t.options.length&&!t.options.every(function(t){return t.value!==e.value})||t.options.push(e)};t.options.length<5;)a();P3.utils.shuffleArray(t.options)}},{key:"createCompose",value:function(t,e){for(var n=e.values,r=1,o=0,a=100,s=[];t.values.length<n&&--a>0;){var u=P3.math.randomInt(t.range.min,t.range.max),l=u*r;-1===s.indexOf(u)&&(s.push(u),t.values.push(new i.a(l)),t.options.push(new i.a(l)),o+=l,r*=10)}t.values.splice(0,0,new i.a(o)),t.part=P3.utils.selectRandom(e.parts),t.length=n,a=100;for(var c=[10,100,1e3],h=function(){var e=new i.a(P3.utils.selectRandom(s)*P3.utils.selectRandom(c));t.options.every(function(t){return t.value!==e.value})&&(t.options.push(e),r*=10)};t.options.length<5&&--a>0;)h();P3.utils.shuffleArray(t.options)}},{key:"createRound",value:function(t,e){var n=e.rounding?e.rounding:10,r=P3.math.randomInt(e.range.min,e.range.max);r%10==0&&r++;var o=Math.round(r/n)*n;t.values.push(new i.a(r)),t.values.push(new i.a(n)),t.values.push(new i.a(o)),t.part=2,t.options.push(new i.a(o));for(var a=100,s=function(){var e=new i.a(Math.round((o+P3.math.randomInt(4*-n,4*n))/n)*n);t.options.every(function(t){return t.value!==e.value})&&t.options.push(e)};t.options.length<5&&--a>0;)s()}}])&&u(e.prototype,n),d}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(1),i=n(2),o=n(8);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,o.a);var e,n,a=c(f);function f(){return function(t,e){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}(this),a.call(this)}return e=f,(n=[{key:"create",value:function(t){var e=u(h(f.prototype),"create",this).call(this,t);return e.step=t.step,t.type!==r.a.TYPE_DIVISION?this.generateOptions(e,t.values):this.generateOptionsDivision(e,t.values),e}},{key:"generateOptions",value:function(t,e){var n,o;t.type===r.a.TYPE_ADDITION||t.type===r.a.TYPE_MULTIPLICATION?(n=P3.math.randomInt(t.range.min,t.range.max),o=P3.math.randomInt(t.step?t.step.min:t.range.min,t.step?t.step.max:t.range.max)):t.type===r.a.TYPE_SUBTRACTION?(n=P3.math.randomInt(t.range.min,t.range.max+60),o=P3.math.randomInt(t.step?t.step.min:t.range.min,t.step?t.step.max:t.range.max)):t.type===r.a.TYPE_DIVISION?(o=P3.math.randomInt(t.step?t.step.min:t.range.min,t.step?t.step.max:t.range.max),n=P3.math.randomInt(t.range.min+40,t.range.max+100)*o):n=(o=P3.math.randomInt(t.range.min,t.range.max))*P3.math.randomInt(1,3),t.values.push(new i.a(n));var a=t.values[0];switch(t.type){case r.a.TYPE_MULTIPLICATION:for(var s=0;s<e-1;s++)t.values.push(new i.a(a.value*o)),a=t.values[t.values.length-1];break;case r.a.TYPE_TIMES_TABLE:case r.a.TYPE_ADDITION:for(var u=0;u<e-1;u++)t.values.push(new i.a(a.value+o)),a=t.values[t.values.length-1];break;case r.a.TYPE_SUBTRACTION:for(var l=0;l<e-1;l++)t.values.push(new i.a(a.value-o)),a=t.values[t.values.length-1];break;case r.a.TYPE_DIVISION:for(var c=0;c<e-1;c++)t.values.push(new i.a(a.value/o)),a=t.values[t.values.length-1];break;default:console.log(t.type+" is not implemented for series")}t.part=P3.math.randomInt(1,e-1);for(var h=t.values[t.part],f=100,d=[h.value];f-- >0&&t.options.length<4;){var p=Math.round(parseInt(h.value)+P3.math.randomInt(.1*-t.values[t.values.length-1].value,.1*t.values[t.values.length-1].value));-1===d.indexOf(p)&&(d.push(p),t.options.push(new i.a(p)))}t.options.push(new i.a(h.value)),P3.utils.shuffleArray(t.options)}},{key:"generateOptionsDivision",value:function(t,e){var n,r;r=P3.math.randomInt(t.step?t.step.min:t.range.min,t.step?t.step.max:t.range.max),n=P3.math.randomInt(t.range.min+40,t.range.max+100)*r,t.values.push(new i.a(n));for(var o=t.values[0],a=0;a<e-1;a++)t.values.push(new i.a(o.value*r)),o=t.values[t.values.length-1];t.values=t.values.reverse(),t.part=P3.math.randomInt(1,e-1);for(var s=t.values[t.part],u=100,l=[s.value];u-- >0&&t.options.length<4;){var c=parseInt(s)+P3.math.randomInt(1,t.values[t.values.length-1]);-1===l.indexOf(c)&&(l.push(c),t.options.push(new i.a(c)))}t.options.push(new i.a(s.value)),P3.utils.shuffleArray(t.options)}}])&&s(e.prototype,n),f}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(1),i=n(2),o=n(34),a=n(8);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,a.a);var e,n,s=h(d);function d(){return function(t,e){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}(this),s.call(this)}return e=d,(n=[{key:"create",value:function(t){var e=l(f(d.prototype),"create",this).call(this,t);switch(e.selectMultiNum=t.select_multi_num?t.select_multi_num:1,t.type){case r.a.TYPE_ADDITION:this.generateOptionsAddition(e,t);break;case r.a.TYPE_SUBTRACTION:this.generateOptionsSubtraction(e,t);break;case r.a.TYPE_MULTIPLICATION:this.generateOptionsMultiplication(e,t);break;case r.a.TYPE_DIVISION:this.generateOptionsDivision(e,t)}return this.generateOptions(e,t),e}},{key:"generateOptionsAddition",value:function(t,e){var n=P3.math.randomInt(e.range.min,e.range.max),r=P3.math.randomInt(.5*e.range.min,.5*n),a=new o.a(n-r,"+",r);t.options.push(a);for(var s=100,u=r;s-- >0&&r===u;)u=P3.math.randomInt(.5*e.range.min,.5*n);var l=new o.a(n-u,"+",u);t.options.push(l);var c=[n];for(s=100;s-- >0&&t.options.length<5;){var h=P3.math.randomInt(e.range.min,e.range.max);if(-1===c.indexOf(h)){c.push(h);var f=P3.math.randomInt(.5*e.range.min,.5*h);t.options.push(new o.a(h-f,"+",f))}}P3.utils.shuffleArray(t.options),t.values.push(new i.a(n)),t.part=0}},{key:"generateOptionsSubtraction",value:function(t,e){var n=P3.math.randomInt(e.range.min,e.range.max),r=P3.math.randomInt(.5*e.range.min,.5*n),a=new o.a(n+r,"-",r);t.options.push(a);for(var s=100,u=r;s-- >0&&r===u;)u=P3.math.randomInt(.5*e.range.min,.5*n);var l=new o.a(n+u,"-",u);t.options.push(l);var c=[n];for(s=100;s-- >0&&t.options.length<5;){var h=P3.math.randomInt(e.range.min,e.range.max);if(-1===c.indexOf(h)){c.push(h);var f=P3.math.randomInt(.5*e.range.min,.5*h);t.options.push(new o.a(h+f,"-",f))}}P3.utils.shuffleArray(t.options),t.values.push(new i.a(n)),t.part=0}},{key:"generateOptionsMultiplication",value:function(t,e){if("equal_to"===e.sum_type){for(var n,r,a,s=100;s-- >0&&(n=P3.math.randomInt(e.range.min,e.range.max),r=P3.math.randomInt(e.range.min,e.range.max),n%(a=P3.math.randomInt(e.range.min,.5*e.range.max))!=0||r%a!=0););var u,l,c=n*r;Math.random()<.5?(u=n/a,l=r*a):(u=n*a,l=r/a);var h=new o.a(u,"*",l);h.operand="",t.options.push(h),s=100;for(var f=[c];s-- >0&&t.options.length<5;){var d=P3.math.randomInt(e.range.min,e.range.max),p=P3.math.randomInt(e.range.min,e.range.max);if(-1===f.indexOf(d*p)){f.push(d*p);var _=new o.a(d,"*",p);_.operand="",t.options.push(_)}}t.values.push(new i.a(n)),t.values.push(new i.a(r)),t.values.push(new i.a(c)),t.part=2,P3.utils.shuffleArray(t.options)}else{for(var m,y,v,g=100;g-- >0&&(m=P3.math.randomInt(e.range.min,e.range.max),y=P3.math.randomInt(e.range.min,e.range.max),m%(v=P3.math.randomInt(4,12))!=0||y%v!=0););var b=m*y;t.values.push(new i.a(b)),g=100;for(var w,x,T=[];g-- >0&&t.options.length<4;){var E=P3.math.randomInt(2,40);if(m%E==0){var P,S,M=(P=m/E)+"*"+(S=y*E);if(-1===T.indexOf(M)){T.push(M);var O=new o.a(P,"*",S);O.operand="",t.options.push(O)}}else if(y%E==0){var I,k,L=(I=m*E)+"*"+(k=y/E);if(-1===T.indexOf(L)){T.push(L);var A=new o.a(I,"*",k);A.operand="",t.options.push(A)}}}g=100;for(var D=b;g-- >0&&D===b;)D=(w=P3.math.randomInt(e.range.min,e.range.max))*(x=P3.math.randomInt(e.range.min,e.range.max));var R=new o.a(w,"*",x);R.operand="",t.options.push(R),t.values.push(new i.a(R.value)),t.part=t.values.length-1,P3.utils.shuffleArray(t.options)}}},{key:"generateOptionsDivision",value:function(t,e){if("equal_to"===e.sum_type){var n=P3.math.randomInt(e.range.min,e.range.max),r=P3.math.randomInt(.5*e.range.min,.5*n),a=new o.a(n*r,"/",r);t.options.push(a);for(var s=100,u=r;s-- >0&&r===u;)u=P3.math.randomInt(.5*e.range.min,.5*n);var l=new o.a(n*u,"/",u);t.options.push(l);var c=[n];for(s=100;s-- >0&&t.options.length<5;){var h=P3.math.randomInt(e.range.min,e.range.max);if(-1===c.indexOf(h)){c.push(h);var f=P3.math.randomInt(.5*e.range.min,.5*h);t.options.push(new o.a(h*f,"/",f))}}P3.utils.shuffleArray(t.options),t.values.push(new i.a(n)),t.part=0}else{for(var d=P3.math.randomInt(e.range.min,e.range.max),p=[],_=100;_-- >0&&t.options.length<4;){var m=P3.math.randomInt(Math.round(.5*e.range.min),Math.round(.5*d));if(-1===p.indexOf(m)){var y=new o.a(d*m,"/",m);y.operand="",t.options.push(y),p.push(m)}}for(_=100;_-- >0&&t.options.length<4;){var v=P3.math.randomInt(Math.round(.5*e.range.min),Math.round(.5*d)),g=new o.a(d*v,"/",v);g.operand="",t.options.push(g)}var b=d;for(_=100;_-- >0&&b===d;)b=P3.math.randomInt(e.range.min,e.range.max);var w=P3.math.randomInt(Math.round(.5*e.range.min),Math.round(.5*b)),x=new o.a(b*w,"/",w);x.operand="",t.options.push(x),P3.utils.shuffleArray(t.options),t.values.push(new i.a(x.value)),t.part=0}}}])&&u(e.prototype,n),d}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(71),i=n(8);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,i.a);var e,n,o=l(h);function h(){return function(t,e){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),o.call(this)}return e=h,(n=[{key:"create",value:function(t){var e=s(c(h.prototype),"create",this).call(this,t),n=P3.utils.objectToArray(t.range),i=P3.utils.selectRandom(n);return e.values=[new r.a(i.value,i.name,P3.assets.texture(i.image))],e.options=this.generateOptions(e,t.values,n),e}},{key:"generateOptions",value:function(t,e){for(var n=P3.utils.objectToArray(t.range),i=t.values.slice(0),o=200,a=function(){var t=P3.utils.selectRandom(n);i.every(function(e){return e.value!==t.value})&&i.push(new r.a(t.value,t.name,P3.assets.texture(t.image)))};i.length<e&&--o>0;)a();return P3.utils.shuffleArray(i),i}}])&&a(e.prototype,n),h}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(26),i=n(12),o=n(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(5);var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,r.a);var e,n,a=c(f);function f(t,e){return function(t,e){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}(this),a.call(this,t,e)}return e=f,(n=[{key:"selectOption",value:function(t){this._selected=t,this._selected.alpha=.3;var e=this._selected.value;this._view.setAnswer(e)}},{key:"deselectOption",value:function(t){this._selected.alpha=1,this._selected.onMouseOut({}),this._selected=null}},{key:"createOptionButton",value:function(t){var e=i.a.create(P3.assets.texture("clock_face_base"));e.value=t,e.animate=!1,e.animateIcon=!1,e.tint=o.a.config.debug&&e.value===this._question.answer?43520:16777215,e.scale.set(.7),e.hourHand=new PIXI.Sprite(P3.assets.texture("clock_face_shorthand")),e.hourHand.anchor.set(.5),e.hourHand.scale.set(.85),e.hourHand.position.set(0,0),e.addChild(e.hourHand),e.minuteHand=new PIXI.Sprite(P3.assets.texture("clock_face_longhand")),e.minuteHand.anchor.set(.5),e.minuteHand.scale.set(.85),e.minuteHand.position.set(0,0),e.addChild(e.minuteHand),console.log(t.value),e.hourHand.rotation=(30*t.value[0]+360*t.value[1]/60/12)*PIXI.DEG_TO_RAD,e.minuteHand.rotation=6*t.value[1]*PIXI.DEG_TO_RAD;for(var n=1;n<=12;n++){var r=30*n-180,a=58*Math.sin(r*PIXI.DEG_TO_RAD)*-1,s=58*Math.cos(r*PIXI.DEG_TO_RAD),u=new PIXI.Text(n.toString(),{fontSize:"15px",fontFamily:"Arial",fontWeight:"bold",fill:0});u.position.set(a,s),u.anchor.set(.5,.5),u.resolution=2,e.addChild(u)}return e}},{key:"createOptionButtons",value:function(t){u(h(f.prototype),"createOptionButtons",this).call(this,t),this._buttonsContainer.x-=15;for(var e=0;e<this._buttonsContainer.children.length/2;e++)this._buttonsContainer.children[e].visible=!1}}])&&s(e.prototype,n),f}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(0),i=n(37),o=n(26);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,o.a);var e,n,a=l(c);function c(t,e){var n;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(n=a.call(this,t,e))._selected=[],n}return e=c,(n=[{key:"selectOption",value:function(t){this._selected.length<this._question.selectMultiNum?(this._selected.push(t.value),this._view.setAnswer(this._selected),t.toggle=!0):(t.toggle=!1,t.onMouseOver(null))}},{key:"deselectOption",value:function(t){var e=this._selected.indexOf(t.value);-1!==e&&(this._selected.splice(e,1),t.toggle=!1)}},{key:"createOptionButton",value:function(t){var e=P3.assets,n=new P3.ButtonStates;n.normal=e.texture("ui_drop_in_area"),n.normalAlt=e.texture("ui_drop_in_area_selected"),n.over=e.texture("ui_drop_in_area_highlight"),n.over=e.texture("ui_drop_in_area_selected");var o=PIXI.utils.isMobile.any?new P3.ToggleButton(n):new i.a(n);return o.value=t,o.animate=!1,o.animateIcon=!1,o.tint=r.a.config.debug&&o.value===this._question.answer?43520:16777215,o.overSoundName="sfx_btn_rollover_00",o.clickSoundName="sfx_btn_press_00",o.label=new PIXI.Text(o.value.toString(),{fontSize:this._fontSize,fontFamily:"Arial",fontWeight:"bold",fill:0,align:"right",wordWrap:!0}),o.label.position.set(0,0),o.label.anchor.set(.5,.5),o.label.resolution=2,o.animation.addChild(o.label),o}},{key:"calculateFontSize",value:function(t){for(var e=0;e<t.length;++e)if(t[e].toString().length>=10)return 18;return 24}},{key:"onOptionButtonClick",value:function(t){-1!==this._selected.indexOf(t.value)?this.deselectOption(t):this.selectOption(t)}}])&&s(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(63),i=n(5),o=n(37),a=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(12);var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(h,r.a);var e,n,s=c(h);function h(t,e){return function(t,e){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),s.call(this,t,e)}return e=h,(n=[{key:"selectOption",value:function(t){this._selected.push(t.value),this._view.setAnswer(this._selected),t.toggle=!0,t.image.tint=618576}},{key:"deselectOption",value:function(t){var e=this._selected.indexOf(t.value);-1!==e&&(this._selected.splice(e,1),t.toggle=!1,t.image.alpha=1,t.image.tint=16777215)}},{key:"createOptionButtons",value:function(t){this._buttonsContainer=new PIXI.Container,this.addChild(this._buttonsContainer),this._fontSize=this.calculateFontSize(t);for(var e=0;e<t.length;++e){var n=this.createOptionButton(t[e]);n.index=e,n.position.set(this._spacing*e-this._spacing*(t.length-1)*.5,0),n.tabIndex=i.a.TAB_INDEX_LEVEL_1+e,n.signals.down.add(this.onOptionButtonDown,this),n.signals.up.add(this.onOptionButtonUp,this),n.signals.click.add(this.onOptionButtonClick,this);var r=new PIXI.Sprite(P3.assets.texture("ui_drop_in_answerbox"));r.anchor.set(.5),r.position.set(n.x,n.y),this._buttonsContainer.addChild(n),this._buttons.push(n)}}},{key:"createOptionButton",value:function(t){P3.assets;var e=new P3.ButtonStates;e.normal=PIXI.Texture.EMPTY,e.normalAlt=PIXI.Texture.EMPTY,e.over=PIXI.Texture.EMPTY,e.over=PIXI.Texture.EMPTY;var n=PIXI.utils.isMobile.any?new P3.ToggleButton(e):new o.a(e);return n.value=t,n.animate=!1,n.animateIcon=!1,n.tint=a.a.config.debug&&n.value===this._question.answer?43520:16777215,n.image=new PIXI.Sprite(P3.assets.texture(t.texture)),n.image.anchor.set(.5),n.image.scale.set(.4),t.hasOwnProperty("rotation")&&(n.image.rotation=t.rotation*PIXI.DEG_TO_RAD),n.animation.addChild(n.image),n}}])&&u(e.prototype,n),h}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(112),i=n(5),o=n(12),a=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(h,r.a);var e,n,s=c(h);function h(t,e){return function(t,e){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),s.call(this,t,e)}return e=h,(n=[{key:"deselectOption",value:function(t){this._selected.alpha=1,this._selected.onMouseOut({}),this._selected=null}},{key:"createOptionButtons",value:function(t){this._buttonsContainer=new PIXI.Container,this.addChild(this._buttonsContainer),this._fontSize=this.calculateFontSize(t);for(var e=0;e<t.length;++e){var n=this.createOptionButton(t[e]);n.index=e,n.position.set(this._spacing*e-this._spacing*(t.length-1)*.5,0),n.tabIndex=i.a.TAB_INDEX_LEVEL_1+e,n.signals.down.add(this.onOptionButtonDown,this),n.signals.up.add(this.onOptionButtonUp,this),n.signals.click.add(this.onOptionButtonClick,this);var r=new PIXI.Sprite(P3.assets.texture("ui_drop_in_answerbox"));r.anchor.set(.5),r.position.set(n.x,n.y),this._buttonsContainer.addChild(n),this._buttons.push(n)}}},{key:"createOptionButton",value:function(t){var e=PIXI.utils.isMobile.any?P3.Button.create(PIXI.Texture.EMPTY):o.a.create(PIXI.Texture.EMPTY);return e.value=t,e.animate=!1,e.animateIcon=!1,e.tint=a.a.config.debug&&e.value===this._question.answer?43520:16777215,e.value.toString().length,e.image=new PIXI.Sprite(P3.assets.texture(t.texture)),e.image.anchor.set(.5),e.image.scale.set(.5),e.animation.addChild(e.image),e}}])&&u(e.prototype,n),h}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(0),i=n(37),o=n(26);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,o.a);var e,n,a=l(c);function c(t,e){return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),a.call(this,t,e)}return e=c,(n=[{key:"createOptionButton",value:function(t){var e=P3.assets,n=new P3.ButtonStates;n.normal=e.texture("ui_drop_in_area"),n.normalAlt=e.texture("ui_drop_in_area_selected"),n.over=e.texture("ui_drop_in_area_highlight"),n.over=e.texture("ui_drop_in_area_selected");var o=PIXI.utils.isMobile.any?new P3.ToggleButton(n):new i.a(n);return o.value=t,o.animate=!1,o.animateIcon=!1,o.tint=r.a.config.debug&&o.value===this._question.answer?43520:16777215,o.overSoundName="sfx_btn_rollover_00",o.clickSoundName="sfx_btn_press_00",o.label=new PIXI.Text(o.value.toString(),{fontSize:this._fontSize,fontFamily:"Arial",fontWeight:"bold",fill:0,align:"right",wordWrap:!0}),o.label.position.set(0,0),o.label.anchor.set(.5,.5),o.label.resolution=2,o.animation.addChild(o.label),o}},{key:"calculateFontSize",value:function(t){for(var e=0;e<t.length;++e)if(t[e].toString().length>=10)return 18;return 24}}])&&s(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(37),i=n(26),o=(n(12),n(0));function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,i.a);var e,n,a=l(c);function c(t,e){return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),a.call(this,t,e)}return e=c,(n=[{key:"showCorrectAnswer",value:function(){}},{key:"createOptionButton",value:function(t){var e=P3.assets,n=new P3.ButtonStates;n.normal=e.texture("ui_drop_in_area"),n.normalAlt=e.texture("ui_drop_in_area_selected"),n.over=e.texture("ui_drop_in_area_highlight"),n.over=e.texture("ui_drop_in_area_selected");var i=PIXI.utils.isMobile.any?new P3.ToggleButton(n):new r.a(n);i.value=t,i.animate=!1,i.animateIcon=!1,i.tint=o.a.config.debug&&i.value===this._question.answer?43520:16777215;var a=2===this._question.part||"time"===this._question.timeType?i.value.toString():i.value.toTime();return i.label=new PIXI.Text(a,{fontSize:this._fontSize,fontFamily:"Arial",fontWeight:"bold",fill:0,wordWrap:!0,wordWrapWidth:125}),i.label.position.set(0,0),i.label.anchor.set(.5,.5),i.label.resolution=2,i.animation.addChild(i.label),i}}])&&s(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(26),i=(n(12),n(0)),o=n(37),a=n(5);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,r.a);var e,n,s=h(d);function d(t,e){return function(t,e){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}(this),s.call(this,t,e)}return e=d,(n=[{key:"selectOption",value:function(t){l(f(d.prototype),"selectOption",this).call(this,t),t.toggle=!0,t.image.tint=618576}},{key:"deselectOption",value:function(t){l(f(d.prototype),"selectOption",this).call(this,t),t.toggle=!1,t.image.alpha=1,t.image.tint=16777215}},{key:"createOptionButtons",value:function(t){this._buttonsContainer=new PIXI.Container,this.addChild(this._buttonsContainer),this._fontSize=this.calculateFontSize(t);for(var e=0;e<t.length;++e){var n=this.createOptionButton(t[e]);n.index=e,n.position.set(this._spacing*e-this._spacing*(t.length-1)*.5,0),n.tabIndex=a.a.TAB_INDEX_LEVEL_1+e,n.signals.down.add(this.onOptionButtonDown,this),n.signals.up.add(this.onOptionButtonUp,this),n.signals.click.add(this.onOptionButtonClick,this);var r=new PIXI.Sprite(P3.assets.texture("ui_drop_in_answerbox"));r.anchor.set(.5),r.position.set(n.x,n.y),this._buttonsContainer.addChild(n),this._buttons.push(n)}}},{key:"createOptionButton",value:function(t){P3.assets;var e=new P3.ButtonStates;e.normal=PIXI.Texture.EMPTY,e.normalAlt=PIXI.Texture.EMPTY,e.over=PIXI.Texture.EMPTY,e.over=PIXI.Texture.EMPTY;var n=PIXI.utils.isMobile.any?new P3.ToggleButton(e):new o.a(e);return n.value=t,n.animate=!1,n.animateIcon=!1,n.tint=i.a.config.debug&&n.value===this._question.answer?43520:16777215,n.image=new PIXI.Sprite(P3.assets.texture(t.texture)),n.image.anchor.set(.5),n.image.scale.set(.4),t.hasOwnProperty("rotation")&&(n.image.rotation=t.rotation*PIXI.DEG_TO_RAD),n.animation.addChild(n.image),n}}])&&u(e.prototype,n),d}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(97),i=n(12),o=n(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,r.a);var e,n,a=l(c);function c(t,e){return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),a.call(this,t,e)}return e=c,(n=[{key:"createOptionButton",value:function(t){var e=P3.assets,n=PIXI.utils.isMobile.any?P3.Button.create(e.texture("ui_drop_in_area"),e.texture("ui_drop_in_area_highlight")):i.a.create(e.texture("ui_drop_in_area"),e.texture("ui_drop_in_area_highlight"));return n.value=t,n.animate=!1,n.animateIcon=!1,n.tint=o.a.config.debug&&n.value===this._question.answer?43520:16777215,n.label=new PIXI.Text(n.value.toString()+n.value.unit,{fontSize:this._fontSize,fontFamily:"Arial",fontWeight:"bold",fill:0}),n.label.position.set(0,0),n.label.anchor.set(.5,.5),n.label.resolution=2,n.animation.addChild(n.label),n}},{key:"calculateFontSize",value:function(t){for(var e=0;e<t.length;++e){var n=t[e];if((n.toString()+n.unit).length>=5)return 20}return 40}}])&&s(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(t){return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=c,(n=[{key:"getHeaderText",value:function(){var t=this;if("vertices"===this._question.type){var e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(r&&r.length>0&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=this._template?this._template.text:"";if(this._template){var o=i.match(/\[VALUE([0-9])?]/g);if(o)for(var s=0;s<o.length;s++)i=i.replace(o[s],this._question.shape)}return i}return a(l(c.prototype),"getHeaderText",this).call(this)}},{key:"filterTemplate",value:function(t){return!t.correct||t.correct==this._question.answer.value}},{key:"isCorrect",value:function(){return parseInt(this._inputValue.value)===parseInt(this._question.answer.value)}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"filterTemplate",value:function(t){return t.lowest===this._question.lowest}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r=n(36),i=n.n(r),o=(n(0),n(13)),a=n(1),s=n(38),u=n(7);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(l,u.a);var e,n,r=d(l);function l(t){var e;return function(t,e){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t))._graph=new PIXI.Container,e._graph.position.set(0,280),e.addChild(e._graph),e._key=new PIXI.Container,e._key.position.set(130,250),e.addChild(e._key),e._confirmButton.x=e._footer.x+400,e._generated=[],e.createGraph(),t.templateType===o.a.TYPE_SAME&&(e._inputField.visible=!1),e}return e=l,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=e.template?e.template:this._question.module,r=e.templates[n][this._question.type];if(r&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return console.error("ERROR: NO TEMPLATE FOUND"),"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=e.words,a=this._template?this._template.text:"";this._graphLabelCopies=[];var u=i.graph_labels[this._template.graph_label||0],l=this.generateWords(this._template.text,i.character_class_2,/\[CHARACTER_CLASS_TWO([0-9])?]/g);for(var c in l)l.hasOwnProperty(c)&&(a=a.replace(new RegExp(P3.utils.escape(c),"g"),l[c]));for(var h={},f=null,d=null,p=null,_=0;_<this._question.values.length;_++){var m=P3.math.randomInt(0,u.length-1),y=u[m];this._graphLabelCopies.push(y),this._question.answerIndex.length?_===this._question.answerIndex[0]?this._question.answer.label=y:_===this._question.answerIndex[1]&&(this._question.answer.label+=","+y):_===this._question.answerIndex?(this._question.answer.label=y,this._question.templateType!==o.a.TYPE_LOW&&this._question.templateType!==o.a.TYPE_HIGH&&this._question.templateType!==o.a.TYPE_EXACT||this._question.options.push(new s.a(0,y))):_===this._question.labelIndexA?f=y:_===this._question.labelIndexB?d=y:_===this._question.labelIndexC?p=y:h["[ITEM"+_+"]"]=y,(this._question.templateType===o.a.TYPE_LOW||this._question.templateType===o.a.TYPE_HIGH||this._question.templateType===o.a.TYPE_EXACT)&&this._question.options.length<5&&_!==this._question.answerIndex&&this._question.options.push(new s.a(-1,y)),this._question.templateType===o.a.TYPE_SAME&&this._question.options.length<this._question.values.length&&this._question.options.push(new s.a(-1,y)),u.splice(m,1)}if(P3.utils.shuffleArray(this._question.options),a){var v=this.generateWords(this._template.text,i.names,/\[NAME([0-9])?]/g);for(var g in v)v.hasOwnProperty(g)&&(a=a.replace(new RegExp(P3.utils.escape(g),"g"),v[g]));var b=this.generateWords(this._template.text,i.enemies,/\[ENEMY([0-9])?]/g);for(var w in b)b.hasOwnProperty(w)&&(a=a.replace(new RegExp(P3.utils.escape(w),"g"),b[w]));var x=this.generateWords(this._template.text,i.items,/\[ITEM_([A-Za-z])?]/g);for(var T in x)x.hasOwnProperty(T)&&(a="[ITEM_A]"===T&&f?a.replace(new RegExp(P3.utils.escape(T),"g"),f):"[ITEM_B]"===T&&d?a.replace(new RegExp(P3.utils.escape(T),"g"),d):"[ITEM_C]"===T&&d?a.replace(new RegExp(P3.utils.escape(T),"g"),p):a.replace(new RegExp(P3.utils.escape(T),"g"),h[T]));var E=this.generateValues(this._template.text,/\[VALUE]/g);for(var P in E)E.hasOwnProperty(P)&&(a=a.replace(new RegExp(P3.utils.escape(P),"g"),this._question.answer.value))}return a}},{key:"createGraph",value:function(){this.createBar()}},{key:"createBar",value:function(){var t=this._question.barScale?this._question.barScale:20,e=[16711680,255,3025759,6556845,424277,9071360,7935494],n=Math.round(200/this._question.values.length);this._graph.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),44,88,44,88),this._graph.image.position.set(0,60),this._graph.image.width=460,this._graph.image.height=310,this._graph.image.pivot.set(180,.5*this._graph.image.height),this._graph.addChild(this._graph.image);var r=new PIXI.Sprite(PIXI.Texture.WHITE);r.tint=0,r.anchor.set(0,.5),r.width=205,r.height=2,r.x=-100,r.y=180;var i=new PIXI.Sprite(PIXI.Texture.WHITE);i.tint=0,i.anchor.set(.5,1),i.width=2,i.height=220,i.x=r.x,i.y=r.y;var o,a=Math.floor(i.height/t);switch(!0){default:o=1;break;case a>20&&a<30:o=2;break;case a>30&&a<40:o=5}for(var s=1;s<a;s++){var u=new PIXI.Sprite(PIXI.Texture.WHITE);if(u.tint=6908265,u.anchor.set(0,.5),u.x=r.x-5,u.y=r.y-s*t,u.alpha=.3,u.width=205,u.height=2,this._graph.addChild(u),s%o==0){var l=new PIXI.Text(s,{fontSize:14,fontFamily:"BBC Reith Sans",fill:6908265});u.width+=4,u.x-=4,u.tint=2500134,l.anchor.set(1,.5),l.x=u.x-5,l.y=u.y,this._graph.addChild(l)}}for(var c=0;c<this._question.values.length;c++){var h=this._question.values[c].value,f=new PIXI.Sprite(PIXI.Texture.WHITE);f.width=n-5,f.height=h*t,f.x=n*c-80-20,f.y=180,f.anchor.set(0,1),f.tint=void 0!==e[c]?e[c]:13882323,this._graph.addChild(f);var d=new PIXI.Text(this._graphLabelCopies[c].toUpperCase(),{fontSize:12,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:0});d.y=30*c,d.anchor.set(0,.5);var p=new PIXI.Sprite(PIXI.Texture.WHITE);p.tint=void 0!==e[c]?e[c]:13882323,p.x=d.x-10,p.y=d.y,p.anchor.set(.5),this._key.addChild(p),this._key.addChild(d)}this._graph.addChild(r),this._graph.addChild(i)}},{key:"generateWords",value:function(t,e,n){var r={};e=e.slice();var i=t.match(n);if(i)for(var o=0;o<i.length;++o){var a=i[o],s=P3.utils.selectRandom(e);!r[a]&&(r[a]=s),e.splice(e.indexOf(s),1)}return r}},{key:"generateValues",value:function(t,e){var n={},r=this._question.type===a.a.TYPE_MULTIPLICATION&&Math.random()<.5,o=t.match(e);if(o)for(var s=0;s<o.length;++s){var u=o[s],l=u.match(/[0-9]/),c=l?parseInt(l[0]):0,h=this._question.values[c].value;n[u]||(n[u]=r?i.a.toWords(h):h)}return n}},{key:"destroy",value:function(){if(this._generated)for(var t=0;t<this._generated.length;t++)this._generated[t].destroy(!0);h(p(l.prototype),"destroy",this).call(this)}},{key:"filterTemplate",value:function(t){return t.type===this._question.templateType}},{key:"isCorrect",value:function(){if(this._question.templateType===o.a.TYPE_SAME){var t=this._question.answer.toString().split(","),e=t[1]+","+t[0];return this._inputValue.toString()===this._question.answer.toString()||this._inputValue.toString()===e}return this._question.templateType===o.a.TYPE_LOW||this._question.templateType===o.a.TYPE_HIGH||this._question.templateType===o.a.TYPE_EXACT?this._inputValue.toString()===this._question.answer.toString():parseInt(this._inputValue.value)===parseInt(this._question.answer.value)}},{key:"graph",get:function(){return this._graph}}])&&c(e.prototype,n),l}()},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r=n(36),i=n.n(r),o=(n(0),n(13)),a=n(1),s=n(38),u=n(7);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(l,u.a);var e,n,r=d(l);function l(t){var e;return function(t,e){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t))._graph=new PIXI.Container,e._graph.position.set(0,280),e.addChild(e._graph),e._key=new PIXI.Container,e._key.position.set(130,250),e.addChild(e._key),e._confirmButton.x=e._footer.x+400,e._generated=[],e.createGraph(),t.templateType===o.a.TYPE_SAME&&(e._inputField.visible=!1),e}return e=l,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=e.template?e.template:this._question.module,r=e.templates[n][this._question.type];if(r&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return console.error("ERROR: NO TEMPLATE FOUND"),"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=e.words,a=this._template?this._template.text:"";this._graphLabelCopies=[];for(var u=i.tally_labels[this._template.tally_label||0].slice(),l={},c=null,h=null,f=null,d=0;d<this._question.values.length;d++){var p=u[d<u.length-1?d:u.length-1];this._graphLabelCopies.push(p),this._question.answerIndex.length?d===this._question.answerIndex[0]?this._question.answer.label=p:d===this._question.answerIndex[1]&&(this._question.answer.label+=","+p):d===this._question.answerIndex?(this._question.answer.label=p,this._question.templateType!==o.a.TYPE_LOW&&this._question.templateType!==o.a.TYPE_HIGH&&this._question.templateType!==o.a.TYPE_EXACT||this._question.options.push(new s.a(0,p))):d===this._question.labelIndexA?c=p:d===this._question.labelIndexB?h=p:d===this._question.labelIndexC?f=p:l["[ITEM"+d+"]"]=p,(this._question.templateType===o.a.TYPE_LOW||this._question.templateType===o.a.TYPE_HIGH||this._question.templateType===o.a.TYPE_EXACT)&&this._question.options.length<5&&d!==this._question.answerIndex&&this._question.options.push(new s.a(-1,p)),this._question.templateType===o.a.TYPE_SAME&&this._question.options.length<this._question.values.length&&this._question.options.push(new s.a(-1,p))}if(a){var _=this.generateWords(this._template.text,i.names,/\[NAME([0-9])?]/g);for(var m in _)_.hasOwnProperty(m)&&(a=a.replace(new RegExp(P3.utils.escape(m),"g"),_[m]));var y=this.generateWords(this._template.text,i.enemies,/\[ENEMY([0-9])?]/g);for(var v in y)y.hasOwnProperty(v)&&(a=a.replace(new RegExp(P3.utils.escape(v),"g"),y[v]));var g=this.generateWords(this._template.text,i.friendly,/\[FRIENDLY([0-9])?]/g);for(var b in g)g.hasOwnProperty(b)&&(a=a.replace(new RegExp(P3.utils.escape(b),"g"),g[b]));var w=this.generateWords(this._template.text,i.items,/\[ITEM_([A-Za-z])?]/g);for(var x in w)w.hasOwnProperty(x)&&(a="[ITEM_A]"===x&&c?a.replace(new RegExp(P3.utils.escape(x),"g"),c):"[ITEM_B]"===x&&h?a.replace(new RegExp(P3.utils.escape(x),"g"),h):"[ITEM_C]"===x&&h?a.replace(new RegExp(P3.utils.escape(x),"g"),f):a.replace(new RegExp(P3.utils.escape(x),"g"),l[x]));var T=this.generateValues(this._template.text,/\[VALUE]/g);for(var E in T)T.hasOwnProperty(E)&&(a=a.replace(new RegExp(P3.utils.escape(E),"g"),this._question.answer.value))}return a}},{key:"createGraph",value:function(){this.createTally()}},{key:"createTally",value:function(){this._graph.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),44,88,44,88),this._graph.image.position.set(0,60),this._graph.image.width=360,this._graph.image.height=310,this._graph.image.pivot.set(.5*this._graph.image.width,.5*this._graph.image.height),this._graph.addChild(this._graph.image);for(var t=0,e=0;e<this._question.values.length;e++){var n=this._question.values[e].value,r=new PIXI.Container;this._graph.addChild(r),r.x=30,r.y=t-20,r.markHolder=new PIXI.Container,r.addChild(r.markHolder),r.markHolder.scale.set(.8,.25);for(var i=0;i<n;i++){var o=new PIXI.Sprite(P3.assets.texture("tally_0"));o.anchor.set(0,.5),o.scale.set(.5),o.x=10*i-50,0!==i&&i%5==4&&(o.texture=P3.assets.texture("tally_1"),o.x-=40,o.width=46),r.markHolder.addChild(o)}var a=new PIXI.Text(this._graphLabelCopies[e].toUpperCase(),{fontSize:12,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:0});a.x=-60,a.anchor.set(1,.5),r.addChild(a),t+=40}}},{key:"generateWords",value:function(t,e,n){var r={};e=e.slice();var i=t.match(n);if(i)for(var o=0;o<i.length;++o){var a=i[o],s=P3.utils.selectRandom(e);!r[a]&&(r[a]=s),e.splice(e.indexOf(s),1)}return r}},{key:"generateValues",value:function(t,e){var n={},r=this._question.type===a.a.TYPE_MULTIPLICATION&&Math.random()<.5,o=t.match(e);if(o)for(var s=0;s<o.length;++s){var u=o[s],l=u.match(/[0-9]/),c=l?parseInt(l[0]):0;console.log(l);var h=this._question.values[c].value;n[u]||(n[u]=r?i.a.toWords(h):h)}return n}},{key:"destroy",value:function(){if(this._generated)for(var t=0;t<this._generated.length;t++)this._generated[t].destroy(!0);h(p(l.prototype),"destroy",this).call(this)}},{key:"filterTemplate",value:function(t){return t.type===this._question.templateType}},{key:"isCorrect",value:function(){if(this._question.templateType===o.a.TYPE_SAME){var t=this._question.answer.toString().split(","),e=t[1]+","+t[0];return this._inputValue.toString()===this._question.answer.toString()||this._inputValue.toString()===e}return this._question.templateType===o.a.TYPE_LOW||this._question.templateType===o.a.TYPE_HIGH||this._question.templateType===o.a.TYPE_EXACT?this._inputValue.toString()===this._question.answer.toString():parseInt(this._inputValue.value)===parseInt(this._question.answer.value)}},{key:"graph",get:function(){return this._graph}}])&&c(e.prototype,n),l}()},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r=n(36),i=n.n(r),o=(n(0),n(13)),a=n(1),s=n(38),u=n(7);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(l,u.a);var e,n,r=d(l);function l(t){var e;return function(t,e){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t))._graph=new PIXI.Container,e._graph.position.set(0,280),e.addChild(e._graph),e._key=new PIXI.Container,e._key.position.set(130,250),e.addChild(e._key),e._confirmButton.x=e._footer.x+400,e._generated=[],e.createGraph(),e}return e=l,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=e.template?e.template:this._question.module,r=e.templates[n][this._question.type];if(r&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return console.error("ERROR: NO TEMPLATE FOUND"),"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=e.words,a=this._template?this._template.text:"";this._graphLabelCopies=[];for(var u=i.graph_labels[this._template.graph_label||0],l={},c=null,h=null,f=null,d=0;d<this._question.values.length;d++){var p=P3.math.randomInt(0,u.length-1),_=u[p];this._graphLabelCopies.push(_),d===this._question.answerIndex?(this._question.answer.label=_,this._question.templateType!==o.a.TYPE_LOW&&this._question.templateType!==o.a.TYPE_HIGH&&this._question.templateType!==o.a.TYPE_EXACT||this._question.options.push(new s.a(0,_))):d===this._question.labelIndexA?c=_:d===this._question.labelIndexB?h=_:d===this._question.labelIndexC?f=_:l["[ITEM"+d+"]"]=_,(this._question.templateType===o.a.TYPE_LOW||this._question.templateType===o.a.TYPE_HIGH||this._question.templateType===o.a.TYPE_EXACT)&&this._question.options.length<5&&d!==this._question.answerIndex&&this._question.options.push(new s.a(0,_)),u.splice(p,1)}if(P3.utils.shuffleArray(this._question.options),a){var m=this.generateWords(this._template.text,i.names,/\[NAME([0-9])?]/g);for(var y in m)m.hasOwnProperty(y)&&(a=a.replace(new RegExp(P3.utils.escape(y),"g"),m[y]));var v=this.generateWords(this._template.text,i.enemies,/\[ENEMY([0-9])?]/g);for(var g in v)v.hasOwnProperty(g)&&(a=a.replace(new RegExp(P3.utils.escape(g),"g"),v[g]));var b=this.generateWords(this._template.text,i.items,/\[ITEM_([A-Za-z])?]/g);for(var w in b)b.hasOwnProperty(w)&&(a="[ITEM_A]"===w&&c?a.replace(new RegExp(P3.utils.escape(w),"g"),c):"[ITEM_B]"===w&&h?a.replace(new RegExp(P3.utils.escape(w),"g"),h):"[ITEM_C]"===w&&f?a.replace(new RegExp(P3.utils.escape(w),"g"),f):a.replace(new RegExp(P3.utils.escape(w),"g"),l[w]));var x=this.generateValues(this._template.text,/\[VALUE]/g);for(var T in x)x.hasOwnProperty(T)&&(a=a.replace(new RegExp(P3.utils.escape(T),"g"),this._question.answer.value))}return a}},{key:"createGraph",value:function(){this._question.values.length<4?this.createVenDouble():this.createVenTriple()}},{key:"createVenDouble",value:function(){this._graph.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),44,88,44,88),this._graph.image.position.set(0,60),this._graph.image.width=420,this._graph.image.height=310,this._graph.image.pivot.set(.5*this._graph.image.width,.5*this._graph.image.height),this._graph.addChild(this._graph.image);var t=P3.assets.texture("shape_2d_circle_1"),e=new PIXI.Sprite(t);e.anchor.set(.5);var n=new PIXI.Sprite(t);n.anchor.set(.5),e.x=-40,e.y=80,n.x=40,n.y=80,this._graph.addChild(e,n);var r=[16711680,255,3025759,6556845],i=this._question.values[0],o=new PIXI.Text(i,{fontSize:42,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:r[0]});o.x=e.x-50,o.y=e.y,o.anchor.set(.5),this._graph.addChild(o);var a=new PIXI.Text(this._graphLabelCopies[0].toUpperCase(),{fontSize:24,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:r[0]});a.anchor.set(.5),a.x=e.x-62.5,a.y=e.y-.5*e.height-20,this._graph.addChild(a);var s=this._question.values[1],u=new PIXI.Text(s,{fontSize:42,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:r[1]});u.x=n.x+50,u.y=n.y,u.anchor.set(.5),this._graph.addChild(u);var l=new PIXI.Text(this._graphLabelCopies[1].toUpperCase(),{fontSize:24,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:r[1]});l.anchor.set(.5),l.x=n.x+62.5,l.y=n.y-.5*n.height-20,this._graph.addChild(l);var c=this._question.values[2],h=new PIXI.Text(c,{fontSize:42,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:6908265});h.x=.5*(e.x+n.x),h.y=n.y,h.anchor.set(.5),this._graph.addChild(h)}},{key:"createVenTriple",value:function(){this._graph.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),44,88,44,88),this._graph.image.position.set(0,60),this._graph.image.width=520,this._graph.image.height=310,this._graph.image.pivot.set(.5*this._graph.image.width,.5*this._graph.image.height),this._graph.addChild(this._graph.image);var t=P3.assets.texture("shape_2d_circle_1"),e=new PIXI.Sprite(t);e.anchor.set(.5);var n=new PIXI.Sprite(t);n.anchor.set(.5);var r=new PIXI.Sprite(t);r.anchor.set(.5),e.x=-40,e.y=100,n.x=40,n.y=100,r.x=0,r.y=20,this._graph.addChild(e,n,r);var i=[16711680,255,1044495,16751104,16770560,15663359,63487,16751104],o=this._question.values[0],a=new PIXI.Text(o,{fontSize:42,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:i[0]});a.x=e.x-50,a.y=e.y,a.anchor.set(.5),this._graph.addChild(a);var s=new PIXI.Text(this._graphLabelCopies[0].toUpperCase(),{fontSize:18,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:i[0]});s.anchor.set(.5),s.x=e.x-125,s.y=e.y+.5*e.height-40,this._graph.addChild(s);var u=this._question.values[1],l=new PIXI.Text(u,{fontSize:42,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:i[1]});l.x=n.x+50,l.y=n.y,l.anchor.set(.5),this._graph.addChild(l);var c=new PIXI.Text(this._graphLabelCopies[1].toUpperCase(),{fontSize:18,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:i[1]});c.anchor.set(.5),c.x=n.x+125,c.y=n.y+.5*n.height-40,this._graph.addChild(c);var h=this._question.values[3],f=new PIXI.Text(h,{fontSize:42,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:i[2]});f.x=.5*(e.x+n.x),f.y=r.y-40,f.anchor.set(.5),this._graph.addChild(f);var d=new PIXI.Text(this._graphLabelCopies[3].toUpperCase(),{fontSize:18,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:i[2]});d.anchor.set(.5),d.x=n.x+125,d.y=n.y-.5*n.height-40,this._graph.addChild(d);var p=this._question.values[2],_=new PIXI.Text(p,{fontSize:36,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:6908265});_.x=.5*(e.x+n.x),_.y=.5*(n.y+n.y)+30,_.anchor.set(.5),this._graph.addChild(_);var m=this._question.values[4],y=new PIXI.Text(m,{fontSize:36,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:0});y.x=.5*(e.x+n.x),y.y=.5*(e.y+n.y)-30,y.anchor.set(.5),this._graph.addChild(y);var v=this._question.values[5],g=new PIXI.Text(v,{fontSize:36,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:6908265});g.x=.5*(e.x+r.x)-30,g.y=.5*(e.y+r.y)-10,g.anchor.set(.5),this._graph.addChild(g);var b=this._question.values[6],w=new PIXI.Text(b,{fontSize:36,fontFamily:"BBC Reith Sans",fontWeight:"bold",fill:6908265});w.x=.5*(r.x+n.x)+30,w.y=.5*(r.y+n.y)-10,w.anchor.set(.5),this._graph.addChild(w)}},{key:"generateWords",value:function(t,e,n){var r={};e=e.slice();var i=t.match(n);if(i)for(var o=0;o<i.length;++o){var a=i[o],s=P3.utils.selectRandom(e);!r[a]&&(r[a]=s),e.splice(e.indexOf(s),1)}return r}},{key:"generateValues",value:function(t,e){var n={},r=this._question.type===a.a.TYPE_MULTIPLICATION&&Math.random()<.5,o=t.match(e);if(o)for(var s=0;s<o.length;++s){var u=o[s],l=u.match(/[0-9]/),c=l?parseInt(l[0]):0;console.log(l);var h=this._question.values[c].value;n[u]||(n[u]=r?i.a.toWords(h):h)}return n}},{key:"destroy",value:function(){if(this._generated)for(var t=0;t<this._generated.length;t++)this._generated[t].destroy(!0);h(p(l.prototype),"destroy",this).call(this)}},{key:"filterTemplate",value:function(t){return t.part===this._question.part}},{key:"isCorrect",value:function(){return this._question.templateType===o.a.TYPE_LOW||this._question.templateType===o.a.TYPE_HIGH||this._question.templateType===o.a.TYPE_EXACT?this._inputValue.toString()===this._question.answer.toString():parseInt(this._inputValue.value)===parseInt(this._question.answer.value)}},{key:"graph",get:function(){return this._graph}}])&&c(e.prototype,n),l}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n(68);var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(t){var e;!function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),e=i.call(this,t);var n=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),0,20,0,20);n.width=300,n.height=275,n.pivot.set(.5*n.width,.5*n.height),e.addChild(n);var r=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),0,20,0,20);return r.width=300,r.height=275,r.pivot.set(.5*r.width,.5*r.height),e.addChild(r),e._normalShape=new PIXI.Sprite(P3.assets.texture(t.answer.texture)),e._normalShape.position.set(-e._normalShape.width,340),e._normalShape.anchor.set(.5),e.addChild(e._normalShape),e._rotatedShape=new PIXI.Sprite(P3.assets.texture(t.answer.texture)),e._rotatedShape.position.set(e._rotatedShape.width,340),e._rotatedShape.anchor.set(.5),e._rotatedShape.rotation=t.answer.value*PIXI.DEG_TO_RAD,e.addChild(e._rotatedShape),n.position.set(e._normalShape.x,e._normalShape.y),r.position.set(e._rotatedShape.x,e._rotatedShape.y),e}return e=c,(n=[{key:"filterTemplate",value:function(t){return!0}},{key:"initInputField",value:function(){a(l(c.prototype),"initInputField",this).call(this);var t=new PIXI.Text("",{fontSize:40,fontFamily:"BBC Reith Sans",fontWeight:"bold"});t.anchor.set(0,.5),t.resolution=2,t.position.set(.5*this._inputField.width,-20),this._inputField.addChild(t)}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n(0);var r=n(7);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){var e;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,t))._confirmButton.x=e._footer.x+400,e._minimumFontSize=e.calculateFontSize(e._question.values),e.createSeries(),e}return e=u,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=(e.template?e.template:this._question.module,this._question.template.split("/")),r=e.templates[n[0]][n[1]];return r&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),r&&r.length?(this._template=P3.utils.selectRandom(r),this._template.text):"ERROR: NO TEMPLATE FOUND"}},{key:"createSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=0,n=new PIXI.Container;this._footer.addChild(n);for(var r=0;r<this._question.values.length;++r){var i=this._question.values[r];if(r!==this._question.part){var o=this.createLabel(i.toString());o.position.set(e,0),n.addChild(o),e+=o.textWidth+t,r<this._question.values.length-1&&(e+=t)}else e+=.5*this._inputField.width,this._inputField.position.set(e,0),n.addChild(this._inputField),e+=.5*this._inputField.width,r<this._question.values.length-1&&(e+=t)}n.pivot.x=.5*e}},{key:"createLabel",value:function(t){var e=new PIXI.extras.BitmapText(t,{font:{name:"BBC Reith Sans Math Large",size:this._minimumFontSize},tint:0});return e.anchor.set(0,.5),this._footer.addChild(e),e}},{key:"calculateFontSize",value:function(t){for(var e=0;e<t.length;++e){var n=t[e].toString();if(n.length>=7)return 36;if(n.length>=5)return 40}return 48}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(14),i=n(1);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(s,r.a);var e,n,o=c(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=o.call(this,t))._inputField.visible=!1,e}return e=s,(n=[{key:"filterTemplate",value:function(t){switch(this._question.type){case i.a.TYPE_COVERSION_SORT:if(t.type.constructor===Array){var e,n=a(t.type);try{for(n.s();!(e=n.n()).done;){var r=e.value;if((r===this.question.unitType||"any"===r)&&t.ascending===this._question.ascending)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}return(t.type===this.question.unitType||"any"===t.type)&&t.ascending===this._question.ascending;default:return t.ascending===this._question.ascending}}},{key:"onConfirmButtonClick",value:function(t){this._confirmButton.enabled=!1,this.signals.confirm.dispatch(this,this.isCorrect())}},{key:"isCorrect",value:function(){for(var t=0;t<this._question.values.length;++t)if(this._question.values[t]!==this._question.sort[t])return!1;return!0}}])&&u(e.prototype,n),s}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n(0),n(1);var r=n(98);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"getHeaderText",value:function(){var t=P3.assets.json("templates").templates,e=this._question.template.split("/"),n=P3.utils.selectRandom(P3.utils.objectToArray(t[e[0]][e[1]])).text,r=P3.assets.json("templates").words,i=this.generateWords(n,r.specific_locations,/\[SPECIFIC_LOCATION([0-9])?]/g);for(var o in i)i.hasOwnProperty(o)&&(n=n.replace(new RegExp(P3.utils.escape(o),"g"),i[o]));console.log(i);var a=n.match(/\[VAR([0-9])?]/g);return a?n.replace(a[0],this._question.answer.unknownCharacter):n}},{key:"createStatement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,e=0;this._footer.statementA=new PIXI.Container,this._footer.addChild(this._footer.statementA),this._footer.statementB=new PIXI.Container,this._footer.addChild(this._footer.statementB);for(var n=this._question.operands,r=this._question.values.slice(0,3),i=this._question.values.slice(3,this._question.values.length),o=0,a=0;a<r.length;++a){var s=r[a],u=this.createLabel(s.toString(!1));if(u.position.set(e,0),this._footer.statementA.addChild(u),a<r.length-1&&(e+=u.width+t),o<2){var l=this.createLabel(n[o++]);l.position.set(e,0),this._footer.statementA.addChild(l),a<this._question.values.length-1&&(e+=l.width+t)}}this._footer.statementA.pivot.x=.5*e,e=0;for(var c=0;c<i.length;++c){var h=i[c],f=this.createLabel(h.toString(!1));f.position.set(e,50),this._footer.statementB.addChild(f),c<i.length-1&&(e+=f.width+t);var d=this.createLabel(n[o++]);d.position.set(e,50),this._footer.statementB.addChild(d),c<this._question.values.length-1&&(e+=d.width+t)}this._inputField.position.set(0,-100),this._footer.addChild(this._inputField),this._footer.statementB.pivot.x=.5*e,this._footer.statementA.y-=30,this._footer.statementB.y-=30,this._footer.pivot.y=-50}},{key:"filterTemplate",value:function(t){return t.allow_q_mark===this._question.hasQuestionMark}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(40);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"isCorrect",value:function(){return this._inputValue.toString()===this._question.answer.toString()}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n(0);var r=n(1),i=n(40);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(l,i.a);var e,n,o=u(l);function l(t){return function(t,e){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),o.call(this,t)}return e=l,(n=[{key:"createStatement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=0;this._footer.image.width=300,this._footer.image.height=300,this._footer.x=0;for(var n=[],i=1;i<this._question.values.length;++i){var o="";if(i<this._question.values.length-1)switch(this._question.type){case r.a.TYPE_ADDITION:o="+";break;case r.a.TYPE_SUBTRACTION:o="-";break;case r.a.TYPE_MULTIPLICATION:o="x";break;case r.a.TYPE_DIVISION:o=""}n.push(o)}for(var a=0,s=0;a<this._question.values.length;++a){var u=this._question.values[a];if(a!==this._question.part){var l=this.createLabel(u.toString(!1));l.position.set(60,e-20),l.anchor.set(1,0),this._footer.statement.addChild(l),a<this._question.values.length-1&&(e+=l.height+t)}else a>0&&(e+=.5*this._inputField.height),this._inputField.position.set(0,e-20),this._footer.statement.addChild(this._inputField),a<this._question.values.length-1&&(e+=.5*this._inputField.height+t);var c=this.createLabel(n[s++]);c.position.set(-80,e),this._footer.statement.addChild(c)}var h=new PIXI.Sprite(PIXI.Texture.WHITE);h.tint=0,h.height=4,h.anchor.set(.5,0),h.width=120,h.y=.5*e+16,this._footer.statement.addChild(h),this._inputField.position.set(0,e),this._footer.image.pivot.set(.5*this._footer.image.width,.5*this._footer.image.height),this._footer.statement.pivot.y=.5*e}},{key:"filterTemplate",value:function(t){return!0}},{key:"isCorrect",value:function(){return parseInt(this._inputValue.value)===parseInt(this._question.answer.value)}}])&&a(e.prototype,n),l}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(11),i=n(14),o=n(1);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,i.a);var e,n,a=l(c);function c(t){var e;if(function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),e=a.call(this,t),t.type===o.a.TYPE_MISSING_ANGLE&&t.input===r.a.INPUT_KEYPAD){var n=new PIXI.Text("",{fontSize:40,fontFamily:"BBC Reith Sans",fontWeight:"bold"});n.x=60,n.y=-26,e.footer.addChild(n)}return e}return e=c,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(void 0===this._question.useWords&&(this._question.useWords=P3.math.randomBool()),r&&r.length>0&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=this._template?this._template.text:"";if(this._template){i=this._replaceUnits(i);var o=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var a in o)o.hasOwnProperty(a)&&(i=i.replace(new RegExp(P3.utils.escape(a),"g"),o[a]));var s=i.match(/\. [a-z]/g);if(s)for(var u=0;u<s.length;++u){var l=s[u];i=i.replace(new RegExp(P3.utils.escape(l),"g"),l.toUpperCase())}}return i}},{key:"_replaceUnits",value:function(t){var e=t.match(/\[UNIT([0-9])?]/g);if(e)switch(this.question.type){default:for(var n=0;n<e.length;n++)t=t.replace(e[n],this.question.units[n].long);break;case o.a.TYPE_MISSING_ANGLE:for(var r=0;r<e.length;r++)t=t.replace(e[r],this.question.unit.long);break;case o.a.TYPE_PERIMETER:for(var i=0;i<e.length;i++)t=t.replace(e[i],this.question.units.long);break;case o.a.TYPE_COVERSION_PERCENT_OF_X:t=t.replace(e,this.question.units[1].long);break;case o.a.TYPE_COVERSION_MULTIPLICATION:t=t.replace(e,this._question.units[this._question.units.length-1].short)}return t}},{key:"filterTemplate",value:function(t){return t.part===this._question.part&&t.difficulty===this.question.difficulty}}])&&s(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(82);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"initFooter",value:function(){this._footer=new PIXI.Container,this.addChild(this._footer),this._footer.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),88,88,88,88),this._footer.image.position.set(0),this._footer.image.width=820,this._footer.image.pivot.set(.5*this._footer.image.width,.5*this._footer.image.height)}},{key:"initInputField",value:function(){this._inputField=new PIXI.Sprite(PIXI.Texture.EMPTY),this._inputField.anchor.set(.5),this._footer.addChild(this._inputField)}},{key:"setAnswer",value:function(t){this._inputValue=t}},{key:"filterTemplate",value:function(t){return!0}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n(1);var r=n(14),i=n(36),o=n.n(i);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(a,r.a);var e,n,i=l(a);function a(t){var e;return function(t,e){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,t))._inputField.visible=0!==t.part,e}return e=a,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(!(r&&r.length>0))return"ERROR: NO TEMPLATE FOUND";r=r.slice().filter(function(e){return t.filterTemplate(e)}),this._template=P3.utils.selectRandom(r);var i=this._template?this._template.text:"",a=["ones","tens","hundreds","thousands"],s=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var u in s)if(s.hasOwnProperty(u))if("[VALUE0]"===u)i=i.replace(new RegExp(P3.utils.escape(u),"g"),s[u]);else{var l=parseInt(u.substr(6,6))-1;i=i.replace(new RegExp(P3.utils.escape(u),"g"),a[l])}var c=this.generateValues(this._template.text,/\[LENGTH]/g);for(var h in c)c.hasOwnProperty(h)&&(i=i.replace(new RegExp(P3.utils.escape(h),"g"),Math.random()<.5?this._question.length:o.a.toWords(this._question.length)));var f=i.match(/\. [a-z]/g);if(f)for(var d=0;d<f.length;++d){var p=f[d];i=i.replace(new RegExp(P3.utils.escape(p),"g"),p.toUpperCase())}return i}},{key:"generateValues",value:function(t,e){var n={},r=t.match(e);if(r)for(var i=0;i<r.length;++i){var o=r[i],a=o.match(/[0-9]/),s=a?parseInt(a[0]):0,u=this._question.values[s].value;n[o]||(n[o]=u)}return n}},{key:"setAnswer",value:function(t){if(this._inputValue=t,!Array.isArray(t))if(t){var e=t.toString();this._inputField.label.text=e,this._inputField.label.style.fontSize=e.length<5?40:20}else this._inputField.label.text="?",this._inputField.label.style.fontSize=40}},{key:"isCorrect",value:function(){if(this._inputValue.length&&this._inputValue.length>0){for(var t=0,e=0;e<this._inputValue.length;e++)t+=this._inputValue[e].value;return t===this._question.answer.value}return this._inputValue.value===this._question.answer.value}},{key:"filterTemplate",value:function(t){return t.part===this._question.part}}])&&s(e.prototype,n),a}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(!(r&&r.length>0))return"ERROR: NO TEMPLATE FOUND";r=r.slice().filter(function(e){return t.filterTemplate(e)}),this._template=P3.utils.selectRandom(r);var i=this._template?this._template.text:"",o=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var a in o)o.hasOwnProperty(a)&&("string"==typeof o[a]&&(o[a]=o[a].replace("",""),o[a]=o[a].replace("","")),i=i.replace(new RegExp(P3.utils.escape(a),"g"),o[a]));var s=i.match(/\. [a-z]/g);if(s)for(var u=0;u<s.length;++u){var l=s[u];i=i.replace(new RegExp(P3.utils.escape(l),"g"),l.toUpperCase())}return i}},{key:"isCorrect",value:function(){return this._inputValue.value===this._question.answer.value}},{key:"filterTemplate",value:function(t){return!0}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n(36),n(0);var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(!(r&&r.length>0))return"ERROR: NO TEMPLATE FOUND";r=r.slice().filter(function(e){return t.filterTemplate(e)}),this._template=P3.utils.selectRandom(r);var i=e.words,o=this._template?this._template.text:"";if(this._template){var a=this.generateWords(this._template.text,i.names,/\[NAME([0-9])?]/g);for(var s in a)a.hasOwnProperty(s)&&(o=o.replace(new RegExp(P3.utils.escape(s),"g"),a[s]));var u=this.generateWords(this._template.text,i.items,/\[ITEM([0-9])?]/g);for(var l in u)u.hasOwnProperty(l)&&(o=o.replace(new RegExp(P3.utils.escape(l),"g"),u[l]));var c=this.generateWords(this._template.text,i.currency,/\[CURRENCY([0-9])?]/g);for(var h in c)c.hasOwnProperty(h)&&(o=o.replace(new RegExp(P3.utils.escape(h),"g"),c[h]));var f=this.generateWords(this._template.text,i.item_pairs,/\[ITEM_PAIR([0-9])?]/g);for(var d in f)f.hasOwnProperty(d)&&(o=(o=o.replace(new RegExp(P3.utils.escape(d)),f[d][0])).replace(new RegExp(P3.utils.escape(d),"g"),f[d][1]));var p=this.generateWords(this._template.text,i.enemies,/\[ENEMY([0-9])?]/g);for(var _ in p)p.hasOwnProperty(_)&&(o=o.replace(new RegExp(P3.utils.escape(_),"g"),p[_]));var m=this.generateWords(this._template.text,i.locations,/\[LOCATION([0-9])?]/g);for(var y in m)m.hasOwnProperty(y)&&(o=o.replace(new RegExp(P3.utils.escape(y),"g"),m[y]));var v=this.generateWords(this._template.text,i.noun_adjective,/\[NOUN]?]/g),g=null;for(var b in v)if(v.hasOwnProperty(b)){o=o.replace(new RegExp(P3.utils.escape(b),"g"),v[b].noun),g=v[b];break}var w=o.match(/\[ADJECTIVE([0-9])?]/g);w&&(o=(o=o.replace(new RegExp(P3.utils.escape(w[0]),"g"),g.adjective[0])).replace(new RegExp(P3.utils.escape(w[1]),"g"),g.adjective[1])),(w=o.match(/\[PLURAL]?]/g))&&(o=o.replace(new RegExp(P3.utils.escape(w[0]),"g"),g.plural));var x=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var T in x)x.hasOwnProperty(T)&&(o=o.replace(new RegExp(P3.utils.escape(T),"g"),x[T]));if(w=o.match(/\. [a-z]/g))for(var E=0;E<w.length;++E){var P=w[E];o=o.replace(new RegExp(P3.utils.escape(P),"g"),P.toUpperCase())}}return o}},{key:"isCorrect",value:function(){return this._inputValue.value===this._question.answer.value}},{key:"filterTemplate",value:function(t){return!0}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(14),i=n(36),o=n.n(i);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(a,r.a);var e,n,i=c(a);function a(t){var e;return function(t,e){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),e=i.call(this,t),"keypad"!==t.input&&(e._inputField.visible=!1),e}return e=a,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(!(r&&r.length>0))return"ERROR: NO TEMPLATE FOUND";r=r.slice().filter(function(e){return t.filterTemplate(e)}),this._template=P3.utils.selectRandom(r);var i=this._template?this._template.text:"",a=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var s in a)a.hasOwnProperty(s)&&"[VALUE0]"===s&&(i=i.replace(new RegExp(P3.utils.escape(s),"g"),a[s]));var u=this.generateValues(this._template.text,/\[LENGTH]/g);for(var l in u)u.hasOwnProperty(l)&&(i=i.replace(new RegExp(P3.utils.escape(l),"g"),Math.random()<.5?this._question.length:o.a.toWords(this._question.length)));var c=i.match(/\. [a-z]/g);if(c)for(var h=0;h<c.length;++h){var f=c[h];i=i.replace(new RegExp(P3.utils.escape(f),"g"),f.toUpperCase())}return i}},{key:"setAnswer",value:function(t){this._inputValue=t,"keypad"===this._question.input&&u(h(a.prototype),"setAnswer",this).call(this,t)}},{key:"isCorrect",value:function(){var t=0,e=0;if(this._inputValue.length){for(var n=0;n<this._inputValue.length;n++)t+=this._inputValue[n].value;for(var r=0;r<this._question.part.length;r++)e+=Number(this._question.options[this._question.part[r]])}else t=this._inputValue.value,e=this._question.options[0].value;return t===e}},{key:"filterTemplate",value:function(t){return!0}}])&&s(e.prototype,n),a}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n(36),n(0),n(1);var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=e.template?e.template:this._question.module,r=e.templates[n][this._question.type];if(r&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=e.words,o=this._template?this._template.text:"";if(this._template){var a=this.generateWords(this._template.text,i.items,/\[ITEM([0-9])?]/g);for(var s in a)a.hasOwnProperty(s)&&(o=o.replace(new RegExp(P3.utils.escape(s),"g"),a[s]));var u=this.generateWords(this._template.text,i.enemies,/\[ENEMY([0-9])?]/g);for(var l in u)u.hasOwnProperty(l)&&(o=o.replace(new RegExp(P3.utils.escape(l),"g"),u[l]));var c=this.generateWords(this._template.text,i.friendly,/\[FRIENDLY([0-9])?]/g);for(var h in c)c.hasOwnProperty(h)&&(o=o.replace(new RegExp(P3.utils.escape(h),"g"),c[h]));var f=this.generateWords(this._template.text,i.gems,/\[GEM([0-9])?]/g);for(var d in f)f.hasOwnProperty(d)&&(o=o.replace(new RegExp(P3.utils.escape(d),"g"),f[d]));var p=this.generateWords(this._template.text,i.colours,/\[COLOUR([0-9])?]/g);for(var _ in p)p.hasOwnProperty(_)&&(o=o.replace(new RegExp(P3.utils.escape(_),"g"),p[_]));var m=this.generateWords(this._template.text,i.character_class_2,/\[CHARACTER_CLASS_TWO([0-9])?]/g);for(var y in m)m.hasOwnProperty(y)&&(o=o.replace(new RegExp(P3.utils.escape(y),"g"),m[y]));var v=this.generateWords(this._template.text,i.character_class,/\[CHARACTER_CLASS_PLURAL([0-9])?]/g);for(var g in v)v.hasOwnProperty(g)&&(o=o.replace(new RegExp(P3.utils.escape(g),"g"),v[g]));var b=this.generateWords(this._template.text,i.spell_types,/\[SPELL([0-9])?]/g);for(var w in b)b.hasOwnProperty(w)&&(o=o.replace(new RegExp(P3.utils.escape(w),"g"),b[w]));var x=P3.utils.selectRandom(i.item_variants),T=this.generateWords(this._template.text,i.item_variants,/\[VARIANT([0-9])?]/g);for(var E in T)T.hasOwnProperty(E)&&("[VARIANT0]"===E?o=o.replace(new RegExp(P3.utils.escape(E),"g"),x[0]):"[VARIANT1]"===E?o=o.replace(new RegExp(P3.utils.escape(E),"g"),x[1]):"[VARIANT2]"===E&&(o=o.replace(new RegExp(P3.utils.escape(E),"g"),x[2])));var P=this.generateRatioValues(this._template.text,/\[RVAL([0-9])?]/g);for(var S in P)P.hasOwnProperty(S)&&(o=o.replace(new RegExp(P3.utils.escape(S),"g"),P[S]));var M=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var O in M)M.hasOwnProperty(O)&&(o=o.replace(new RegExp(P3.utils.escape(O),"g"),M[O]))}return o}},{key:"generateRatioValues",value:function(t,e){var n={},r=t.match(e);if(r)for(var i=0;i<r.length;++i){var o=r[i],a=o.match(/[0-9]/),s=a?parseInt(a[0]):0,u=this._question.values[s].toString();n[o]||(n[o]=u)}return n}},{key:"isCorrect",value:function(){return this._inputValue.value===this._question.answer.value}},{key:"filterTemplate",value:function(t){return void 0===this._question.plural||(this._question.plural?!0===t.plural||void 0===t.plural:!!t.plural_indices&&JSON.stringify(t.plural_indices.sort())===JSON.stringify(this._question.pluralIndices.sort()))}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n(0);var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(!(r&&r.length>0))return"ERROR: NO TEMPLATE FOUND";r=r.slice().filter(function(e){return t.filterTemplate(e)}),this._template=P3.utils.selectRandom(r);var i=this._template?this._template.text:"",o=e.words,a=this.generateWords(this._template.text,o.character_activities,/\[CHARACTER_ACTIVITIES([0-9])?]/g);if(a)for(var s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(P3.utils.escape(s),"g"),a[s]));var u=this.generateWords(this._template.text,o.specific_activities,/\[CHARACTER_ACTIVITIES([0-9])?]/g);if(u)for(var l in u)u.hasOwnProperty(l)&&(i=i.replace(new RegExp(P3.utils.escape(l),"g"),u[l]));var c=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var h in c)c.hasOwnProperty(h)&&(i=i.replace(new RegExp(P3.utils.escape(h),"g"),c[h]));var f=this.generateValues(this._template.text,/\[LENGTH]/g);for(var d in f)f.hasOwnProperty(d)&&(i=i.replace(new RegExp(P3.utils.escape(d),"g"),this._question.length));var p=i.match(/\. [a-z]/g);if(p)for(var _=0;_<p.length;++_){var m=p[_];i=i.replace(new RegExp(P3.utils.escape(m),"g"),m.toUpperCase())}return i}},{key:"isCorrect",value:function(){return parseInt(this._inputValue)===parseInt(this._question.answer.value)}},{key:"filterTemplate",value:function(t){return!0}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(68),i=n(1),o=n(11);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,r.a);var e,n,a=c(f);function f(t){var e;return function(t,e){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}(this),(e=a.call(this,t)).textWidth=0,e.display.x=0,e.display.y=0,e.removeChild(e.display),e._bk=new PIXI.Container,e.addChildAt(e._bk,0),e._bk.temp=new PIXI.Container,e._bk.addChild(e._bk.temp),e._populatePanel(t),e._bk.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),80,60,60,60),e._bk.image.position.set(0,0),e._bk.image.width=e._bk.temp.width+20,e._bk.image.height=250,e._bk.addChildAt(e._bk.image,0),e._bk.image.x=.5*-e._bk.image.width,e._bk.image.y=.5*-e._bk.image.height,e._bk.position.set(0,340),t.input===o.a.INPUT_KEYPAD_RIGHT&&(e._bk.x-=150),e.useUnitInAnswer=!0,e._createNotations(t),e}return e=f,(n=[{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(this._question.useWords=Math.random()<.5,r&&r.length>0&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=e.words,o=this._template?this._template.text:"";if(this._template){var a=this.generateWords(this._template.text,i.names,/\[NAME([0-9])?]/g);for(var s in a)a.hasOwnProperty(s)&&(o=o.replace(new RegExp(P3.utils.escape(s),"g"),a[s]));var u=this.generateWords(this._template.text,i.items,/\[ITEM([0-9])?]/g);for(var l in u)u.hasOwnProperty(l)&&(o=o.replace(new RegExp(P3.utils.escape(l),"g"),u[l]));o.match(/\[UNIT([0-9])?]/g)&&(o=this._replaceUnits(o));var c=this.generateWords(this._template.text,i.defenceitem,/\[DEFENCE([0-9])?]/g);for(var h in c)c.hasOwnProperty(h)&&(o=o.replace(new RegExp(P3.utils.escape(h),"g"),c[h]));var f=this.generateWords(this._template.text,i.currency,/\[CURRENCY([0-9])?]/g);for(var d in f)f.hasOwnProperty(d)&&(o=o.replace(new RegExp(P3.utils.escape(d),"g"),f[d]));var p=this.generateWords(this._template.text,i.item_pairs,/\[ITEM_PAIR([0-9])?]/g);for(var _ in p)p.hasOwnProperty(_)&&(o=(o=o.replace(new RegExp(P3.utils.escape(_)),p[_][0])).replace(new RegExp(P3.utils.escape(_),"g"),p[_][1]));var m=this.generateWords(this._template.text,i.enemies,/\[ENEMY([0-9])?]/g);for(var y in m)m.hasOwnProperty(y)&&(o=o.replace(new RegExp(P3.utils.escape(y),"g"),m[y]));var v=this.generateWords(this._template.text,i.locations,/\[LOCATION([0-9])?]/g);for(var g in v)v.hasOwnProperty(g)&&(o=o.replace(new RegExp(P3.utils.escape(g),"g"),v[g]));var b=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var w in b)b.hasOwnProperty(w)&&(o=o.replace(new RegExp(P3.utils.escape(w),"g"),b[w]));var x=o.match(/\. [a-z]/g);if(x)for(var T=0;T<x.length;++T){var E=x[T];o=o.replace(new RegExp(P3.utils.escape(E),"g"),E.toUpperCase())}}return o}},{key:"_replaceUnits",value:function(t){var e=t.match(/\[UNIT([0-9])?]/g);if(e)switch(this.question.type){default:for(var n=0;n<e.length;n++)t=t.replace(e[n],this.question.units[n].long);break;case i.a.TYPE_MISSING_ANGLE:for(var r=0;r<e.length;r++)t=t.replace(e[r],this.question.unit.long);break;case i.a.TYPE_PERIMETER:for(var o=0;o<e.length;o++)t=t.replace(e[o]," "+this.question.units.long);break;case i.a.TYPE_COVERSION_PERCENT_OF_X:t=t.replace(e,this.question.units[1].long);break;case i.a.TYPE_COVERSION_MULTIPLICATION:t=t.replace(e,this._question.units[this._question.units.length-1].short)}return t}},{key:"_createNotations",value:function(t){var e=t.notations;for(var n in e){var r=new PIXI.Sprite(P3.assets.texture(e[n].texture));r.anchor.set(0,.5),this.display.addChild(r)}}},{key:"_populatePanel",value:function(t){var e=new PIXI.Container;this._bk.temp.addChild(e),this.display.anchor.set(0,.5),this._bk.temp.addChild(this.display);for(var n=0,r=0;r<t.values.length-1;r++){var i=t.values[r],o=new PIXI.Text("".concat(i.tag," = ").concat(i.value).concat(t.unit.short),{fontSize:30,fontFamily:"BBC Reith Sans",fill:0,align:"center"});o.anchor.set(0,.5),o.resolution=2,o.position.set(0,n),e.addChild(o),n+=35}this.textWidth=e.width,this.display.x+=e.width+20,this._bk.temp.x-=.5*this._bk.temp.width-10}},{key:"initInputField",value:function(){var t;u(h(f.prototype),"initInputField",this).call(this),(t=this.question.type===i.a.TYPE_AREA_PARALLELOGRAM||this.question.type===i.a.TYPE_AREA_TRIANGLE||this.question.type===i.a.TYPE_AREA_CIRCLE?new PIXI.Text(this.question.unit.short+"",{fontSize:40,fontFamily:"BBC Reith Sans",fontWeight:"bold"}):this.question.type===i.a.TYPE_MISSING_ANGLE&&"keypad_right"!==this.question.input&&"keypad"!==this.question.input?new PIXI.Text("",{fontSize:40,fontFamily:"BBC Reith Sans",fontWeight:"bold"}):new PIXI.Text(this.question.unit.short,{fontSize:40,fontFamily:"BBC Reith Sans",fontWeight:"bold"})).anchor.set(0,.5),t.resolution=2,t.position.set(.5*this._inputField.width,0),this._inputField.addChild(t)}},{key:"filterTemplate",value:function(t){return this.question.type!==i.a.TYPE_MISSING_ANGLE||(t.hasOwnProperty("difficulty")?t.part===this.question.part&&t.difficulty===this.question.difficulty:t.part===this.question.part)}}])&&s(e.prototype,n),f}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(7);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){var e;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,t))._confirmButton.x=e._footer.x+400,e._inputField.position.set(0,0),e._footer.addChild(e._inputField),e}return e=u,(n=[{key:"getHeaderText",value:function(){return this.question.data.question_copy}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(1),i=n(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(36);var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(l,i.a);var e,n,o=u(l);function l(t){return function(t,e){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),o.call(this,t)}return e=l,(n=[{key:"isCorrect",value:function(){if(this._question.type===r.a.TYPE_STATS_MOST_OFTEN){for(var t=0,e=0;e<this._inputValue.length;e++)t+=this._inputValue[e].value;return t===this._question.answer.value}return this._inputValue===this._question.answer.value}},{key:"filterTemplate",value:function(t){return!0}}])&&a(e.prototype,n),l}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){var e;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,t))._question.selectMultiNum>1&&(e._inputField.visible=!1),e}return e=u,(n=[{key:"isCorrect",value:function(){if(Array.isArray(this._inputValue)){for(var t=2*this._question.answer.value,e=0,n=0;n<this._inputValue.length;n++)e+=this._inputValue[n].value;return e===t}return console.log(this._inputValue.value),console.log(this._question.answer.value),this._inputValue.value===this._question.answer.value}},{key:"filterTemplate",value:function(t){return!0}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n(0),n(2);var r=n(14),i=n(36),o=n.n(i);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(a,r.a);var e,n,i=l(a);function a(t){return function(t,e){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=a,(n=[{key:"getHeaderText",value:function(){var t=P3.assets.json("templates"),e=P3.assets.json("templates").templates,n=this._question.template.split("/"),r=t.words;if(!e)return"ERROR: NO TEMPLATE FOUND";var i=P3.utils.selectRandom(P3.utils.objectToArray(e[n[0]][n[1]])).text,a=i.match(/\[VALUE([0-9])?]/g);a&&(i=i.replace(a,o.a.toWords(this._question.answer.value)));var s=this.generateWords(i,r.enemies,/\[ENEMY([0-9])?]/g);for(var u in s)s.hasOwnProperty(u)&&(i=i.replace(new RegExp(P3.utils.escape(u),"g"),s[u]));var l=this.generateWords(i,r.character_class,/\[CHARACTER_CLASS([0-9])?]/g);for(var c in l)l.hasOwnProperty(c)&&(i=i.replace(new RegExp(P3.utils.escape(c),"g"),l[c]));var h=this.generateWords(i,r.character_class_2,/\[CHARACTER_CLASS_TWO([0-9])?]/g);for(var f in h)h.hasOwnProperty(f)&&(i=i.replace(new RegExp(P3.utils.escape(f),"g"),h[f]));var d=this.generateWords(i,r.character_activities,/\[CHARACTER_ACTIVITIES([0-9])?]/g);if(d)for(var p in d)d.hasOwnProperty(p)&&(i=i.replace(new RegExp(P3.utils.escape(p),"g"),d[p]));return i}},{key:"isCorrect",value:function(){return this._inputValue.value===this._question.answer.value}},{key:"filterTemplate",value:function(t){return!0}}])&&s(e.prototype,n),a}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(t){return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=c,(n=[{key:"initInputField",value:function(){a(l(c.prototype),"initInputField",this).call(this);var t=new PIXI.Text("cm",{fontSize:40,fontFamily:"BBC Reith Sans",fontWeight:"bold"});t.anchor.set(0,.5),t.resolution=2,t.position.set(.5*this._inputField.width,0),this._inputField.addChild(t)}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(114);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),i.call(this,t)}return e=u,(n=[{key:"createStatement",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"setAnswer",value:function(t){if(this._inputValue=t,!Array.isArray(t)&&null!=this._inputField)if(t){var e=t.toString();this._inputField.label.text=e,this._inputField.label.style.fontSize=e.length<5?40:20}else this._inputField.label.text="?",this._inputField.label.style.fontSize=40}},{key:"initInputField",value:function(){}},{key:"isCorrect",value:function(){for(var t=[],e=0;e<this.question.part.length;e++)t.push(this.question.values[this.question.part[e]]);if(Array.isArray(this._inputValue)){if(!(this._inputValue.length>0&&this._inputValue.length===t.length))return!1;for(var n=this._inputValue.length,r=0;r<n;r++){var i=!1,o=this._inputValue[r].value;for(var a in t)if(t.hasOwnProperty(a)&&t[a].value===o){i=!0;break}return!1!==i}}else if(this._inputValue===t[0])return!0;return!1}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(83);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){var e;!function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,t))._panel=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_card_bg_9slice"),88,88,88,88),e._panel.position.set(30,290),e._panel.width=240,e._panel.height=240,e._panel.pivot.set(.5*e._panel.width,.5*e._panel.height),e.addChild(e._panel),e._fillBG=new PIXI.Sprite(P3.assets.texture("measurement_volume_bg_0")),e._fillBG.anchor.set(.5),e._fillBG.position.set(0,290),e.addChild(e._fillBG);var n=(e._fillBG.height-65)/t.steps,r=(e._fillBG.height-65)/t.substeps;return e._fill=new PIXI.Sprite(P3.assets.texture("measurement_volume_fill_0")),e._fill.height=r*t.selectedSubStep,e._fill.anchor.set(.5,1),e._fill.position.set(-2.5,0),e._fill.y+=.5*e._fillBG.height-12,e._fillBG.addChild(e._fill),e._fillFG=new PIXI.Sprite(P3.assets.texture("measurement_volume_fg_0")),e._fillFG.anchor.set(.5),e._fillFG.position.set(0,0),e._fillBG.addChild(e._fillFG),e._maxText=new PIXI.extras.BitmapText(t.values[0].toString()+t.values[0]._unit,{font:"20px BBC Reith Sans",align:"center"}),e._maxText.position.set(.32*e._fillBG.width,.5*e._fillBG.height-n*t.steps),e._maxText.anchor.set(0,1),e._maxText.tint=0,e._fillBG.addChild(e._maxText),e._indicatorText=new PIXI.extras.BitmapText("0"+t.values[0]._unit,{font:"20px BBC Reith Sans",align:"center"}),e._indicatorText.position.set(.32*e._fillBG.width,.5*e._fillBG.height),e._indicatorText.anchor.set(0,1),e._indicatorText.tint=0,e._fillBG.addChild(e._indicatorText),e}return e=u,(n=[{key:"getHeaderText",value:function(){var t=P3.assets.json("templates");this._answer=this._question.answer;var e=this._getTemplate(t),n=e?e.text:"";return n=this._replaceUnits(n),this._replaceItems(t.words.item_measurement,n)}},{key:"filterTemplate",value:function(t){return!0}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(68);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(1);var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,r.a);var e,n,i=u(c);function c(t){var e;return function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,t)).disable&&(e._display.visible=!1),e}return e=c,(n=[{key:"initHeader",value:function(){a(l(c.prototype),"initHeader",this).call(this),this._template.hasOwnProperty("value")&&(this.disable=!0)}},{key:"getHeaderText",value:function(){var t=this,e=P3.assets.json("templates"),n=this._question.template.split("/"),r=e.templates[n[0]][n[1]];if(r&&r.length>0&&(r=r.slice().filter(function(e){return t.filterTemplate(e)})),!r||!r.length)return"ERROR: NO TEMPLATE FOUND";this._template=P3.utils.selectRandom(r);var i=e.words,o=this._template?this._template.text:"";if(this._template){var a=this.generateWords(this._template.text,i.names,/\[NAME([0-9])?]/g);for(var s in a)a.hasOwnProperty(s)&&(o=o.replace(new RegExp(P3.utils.escape(s),"g"),a[s]));var u=this.generateWords(this._template.text,i.items,/\[ITEM([0-9])?]/g);for(var l in u)u.hasOwnProperty(l)&&(o=o.replace(new RegExp(P3.utils.escape(l),"g"),u[l]));var c=this.generateWords(this._template.text,i.defenceitem,/\[DEFENCE([0-9])?]/g);for(var h in c)c.hasOwnProperty(h)&&(o=o.replace(new RegExp(P3.utils.escape(h),"g"),c[h]));var f=this.generateWords(this._template.text,i.currency,/\[CURRENCY([0-9])?]/g);for(var d in f)f.hasOwnProperty(d)&&(o=o.replace(new RegExp(P3.utils.escape(d),"g"),f[d]));var p=this.generateWords(this._template.text,i.item_pairs,/\[ITEM_PAIR([0-9])?]/g);for(var _ in p)p.hasOwnProperty(_)&&(o=(o=o.replace(new RegExp(P3.utils.escape(_)),p[_][0])).replace(new RegExp(P3.utils.escape(_),"g"),p[_][1]));var m=this.generateWords(this._template.text,i.enemies,/\[ENEMY([0-9])?]/g);for(var y in m)m.hasOwnProperty(y)&&(o=o.replace(new RegExp(P3.utils.escape(y),"g"),m[y]));var v=this.generateWords(this._template.text,i.locations,/\[LOCATION([0-9])?]/g);for(var g in v)v.hasOwnProperty(g)&&(o=o.replace(new RegExp(P3.utils.escape(g),"g"),v[g]));var b=this.generateValues(this._template.text,/\[VALUE([0-9])?]/g);for(var w in b)b.hasOwnProperty(w)&&(o=this._template.hasOwnProperty("value")&&!this.question.hasOwnProperty("hack")?o.replace(new RegExp(P3.utils.escape(w),"g"),this._question.answer.value):this.question.hasOwnProperty("hack")?o.replace(new RegExp(P3.utils.escape(w),"g"),this._question.values[0].toString()):o.replace(new RegExp(P3.utils.escape(w),"g"),b[w]));var x=o.match(/\[GEM([0-9])?]/g);x&&(o=o.replace(x,P3.utils.selectRandom(i.gems)));var T=o.match(/\. [a-z]/g);if(T)for(var E=0;E<T.length;++E){var P=T[E];o=o.replace(new RegExp(P3.utils.escape(P),"g"),P.toUpperCase())}}return o}}])&&o(e.prototype,n),c}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(82);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t){var e;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),e=i.call(this,t),2!==t.part&&e._createClocks(),e}return e=u,(n=[{key:"getHeaderText",value:function(){var t=P3.assets.json("templates");this._answer=this._question.answer;var e=this._getTemplate(t),n=e?e.text:"",r=t.words;this._question.timeType="string";var i=n.match(/\[VALUE([0-9])?]/g);i&&(n=1===this.question.part?n.replace(i,this._question.values[2].toString()):(n=n.replace(i[0],this._question.values[0].toTime())).replace(i[1],this._question.values[1].toTime()));var o=this.generateWords(e.text,r.generic_locations,/\[GENERIC_LOCATION([0-9])?]/g);for(var a in o)o.hasOwnProperty(a)&&(n=n.replace(new RegExp(P3.utils.escape(a),"g"),o[a]));for(var s in o=this.generateWords(e.text,r.specific_locations,/\[SPECIFIC_LOCATION([0-9])?]/g))o.hasOwnProperty(s)&&(n=n.replace(new RegExp(P3.utils.escape(s),"g"),o[s]));var u=this.generateWords(e.text,r.verb,/\[VERB([0-9])?]/g);for(var l in u)u.hasOwnProperty(l)&&(n=n.replace(new RegExp(P3.utils.escape(l),"g"),u[l]));return n=this._replaceEnemies(t.words.enemies,n),this._clockValues=[],this._clockValues.push(this.question.values[1===this.question.part?0:1]),2===this.question.part&&this._clockValues.push(this.question.values[0]),n}},{key:"setAnswer",value:function(t){if(this._inputValue=t,null!=this._inputField)if(t){var e=1===this.question.part?t.toTime():t.toString();this._inputField.label.text=e,this._inputField.label.style.fontSize=e.length<5?40:20}else this._inputField.label.text="?",this._inputField.label.style.fontSize=40}},{key:"_setHandPositions",value:function(t,e,n,r){n.rotation=(30*t+360*e/60/12)*PIXI.DEG_TO_RAD,r.rotation=6*e*PIXI.DEG_TO_RAD}},{key:"filterTemplate",value:function(t){return t.view===this.question.view&&t.part===this.question.part}},{key:"_createClocks",value:function(){var t=new PIXI.Container;this.addChild(t);for(var e=P3.assets.texture("clock_face_base"),n=0,r=this._clockValues.length-1;r>=0;r--){var i=new PIXI.Sprite(e);i.anchor.set(0,.5),i.position.set(n,340),t.addChild(i);var o=new PIXI.Sprite(P3.assets.texture("clock_face_shorthand"));o.anchor.set(.5),o.scale.set(.8),o.x+=.5*i.width,i.addChild(o);var a=new PIXI.Sprite(P3.assets.texture("clock_face_longhand"));a.anchor.set(.5),a.scale.set(.8),a.x+=.5*i.width,i.addChild(a);for(var s=1;s<=12;s++){var u=30*s-180,l=58*Math.sin(u*PIXI.DEG_TO_RAD)*-1,c=58*Math.cos(u*PIXI.DEG_TO_RAD),h=new PIXI.Text(s.toString(),{fontSize:"15px",fontFamily:"Arial",fontWeight:"bold",fill:0});h.position.set(l+.5*i.width,c),h.anchor.set(.5,.5),h.resolution=2,i.addChild(h)}this._setHandPositions(this._clockValues[r].value[0],this._clockValues[r].value[1],o,a),n+=i.width+30}t.x-=.5*t.width}}])&&o(e.prototype,n),u}()},function(t,e,n){"use strict";var r=n(10),i=n(147),o=n(148),a=n(149),s=n(150),u=n(151),l=n(110),c=n(152),h=n(9),f=n(58),d=n(77),p=n(59),_=n(78),m=n(60),y=n(79),v=n(61),g=n(80),b=n(62),w=n(28),x=n(153),T=n(154),E=n(155),P=n(156),S=n(0),M=n(8),O=n(126),I=n(81),k=n(205),L=n(157),A=n(158),D=n(159),R=n(203),C=n(160),j=n(161),Y=n(206),N=n(162),B=n(204),F=n(111),H=n(207),V=n(13),q=n(163),W=n(2);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e,n){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Q(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(i,M.a);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Q(t);if(e){var i=Q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(){return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),r.call(this)}return e=i,(n=[{key:"create",value:function(t){var e=G(Q(i.prototype),"create",this).call(this,t);return e.part=2,e.values[0]=new W.a(P3.utils.selectRandom(e.range.left)),e.values[1]=new W.a(P3.utils.selectRandom(e.range.right)),e.values[2]=new W.a(e.values[0]*e.values[1]),e}}])&&X(e.prototype,n),i}(),K=n(164),Z=(n(1),n(252),n(127));function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tt=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;arguments.length>2&&arguments[2],function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._difficulty=r,this._data=[],this._seenData=[];var i=P3.assets.json("questions");if(e.all){for(var o in i)if(i.hasOwnProperty(o)){if(o===M.a.MODULE_TUTORIAL)continue;for(var a=i[o].filter(function(t){return t.enabled&&t.difficulty===r}),s=0;s<a.length;++s)a[s].module=o;this._data=this._data.concat(a)}}else for(var u in e)if(e.hasOwnProperty(u))for(var l=function(t){for(var o=e[u][t],a=i[u].filter(function(t){return t.type===o&&!0===t.enabled&&(Array.isArray(t.difficulty)?-1!==t.difficulty.indexOf(r):t.difficulty===r)}),s=0;s<a.length;++s)a[s].module=u;n._data=n._data.concat(a)},c=0;c<e[u].length;++c)l(c);var h=P3.assets.json("static_questions")[S.a.location.id];if(h){var f=h.filter(function(t){return Array.isArray(t.difficulty)?-1!==t.difficulty.indexOf(r):t.difficulty===r});f.length>0&&this._data.push(P3.utils.selectRandom(f))}if(!this._data.length)throw new Error("No questions available!")}var e,n;return e=t,(n=[{key:"createQuestion",value:function(){for(var t,e=100;e-- >0;){t=P3.utils.selectRandom(this._data);var n=JSON.stringify(t);if("static"===t.module&&console.log("adding static question",t),-1===this._seenData.indexOf(n)){this._seenData.push(n);break}}return this._seenData.length===this._data.length&&(this._seenData.length=0),this._createModule(t)}},{key:"createQuestionWithSeed",value:function(t){var e=Z.a.questions[S.a.week-1][this._difficulty],n=e[t%e.length];return this._createModule(n)}},{key:"_createModule",value:function(t){switch(t.module){case M.a.MODULE_ARITHMETIC:return(new I.a).create(t);case M.a.MODULE_ALGEBRA:return(new O.a).create(t);case M.a.MODULE_PLACE_VALUE:return(new j.a).create(t);case M.a.MODULE_VISUAL:return(new K.a).create(t);case M.a.MODULE_FRACTION_ARITHMETIC:return(new D.a).create(t);case M.a.MODULE_ROMAN_ARITHMETIC:return(new k.a).create(t);case M.a.MODULE_SORTING:return(new F.a).create(t);case M.a.MODULE_BOOLEAN:return(new L.a).create(t);case M.a.MODULE_SHAPES:return(new B.a).create(t);case M.a.MODULE_SEQUENCE:return(new N.a).create(t);case M.a.MODULE_EXPONENT:return(new A.a).create(t);case M.a.MODULE_MEASUREMENT:return(new R.a).create(t);case M.a.MODULE_RATIO:return(new Y.a).create(t);case M.a.MODULE_STATS:return(new V.a).create(t);case M.a.MODULE_MULTIPLES:return(new C.a).create(t);case M.a.MODULE_SUM:return(new q.a).create(t);case M.a.MODULE_STATIC:return(new H.a).create(t);case M.a.MODULE_TIMES_TABLE:return(new J).create(t)}throw new Error("Module not found: "+t.module)}}])&&$(e.prototype,n),t}(),et=n(5),nt=n(17);function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e){return(ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}(i,PIXI.Container);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=at(t);if(e){var i=at(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(){var t;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this))._health=1,t._healthSmooth=t._health,t._healthEase=12,t._colors=[16724224,16544256,16755479,16774147,5039872],t._frame=new PIXI.Sprite(P3.assets.texture("ui_char_health_bg")),t._frame.position.set(.5*-t._frame.texture.width,0),t._frame.anchor.set(0,.5),t.addChild(t._frame),t._fill=new PIXI.Sprite(P3.assets.texture("ui_char_health_fill")),t._fill.position.set(.5*-t._fill.texture.width,0),t._fill.anchor.set(0,.5),t.addChild(t._fill),t._fill.mask=new PIXI.Graphics,t._fill.mask.beginFill(16711680,1),t._fill.mask.drawRect(0,.5*-t._fill.texture.height,t._fill.texture.width,t._fill.texture.height),t._fill.mask.endFill(),t._fill.addChild(t._fill.mask),t._gloss=new PIXI.Sprite(P3.assets.texture("ui_char_health_fg")),t._gloss.position.set(.5*-t._frame.texture.width,0),t._gloss.anchor.set(0,.5),t.addChild(t._gloss),t}return e=i,(n=[{key:"update",value:function(t){this._healthSmooth+=(this._health-this._healthSmooth)*this._healthEase*t,this._fill.mask.scale.x+=(this._health-this._fill.mask.scale.x)*this._healthEase*t;var e=Math.round(this._healthSmooth*(this._colors.length-1));this._fill.tint=this._colors[e]}},{key:"health",get:function(){return this._health},set:function(t){this._health=Math.max(0,Math.min(1,t))}}])&&it(e.prototype,n),i}(),ut=n(11),lt=n(99),ct=n(26),ht=n(165),ft=n(63),dt=n(112),pt=n(166);function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(i,ft.a);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==_t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(t,e){return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),r.call(this,t,e)}return e=i,(n=[{key:"selectOption",value:function(t){this._selected.push(t.value),this._view.setAnswer(this._selected),t.toggle=!0}}])&&mt(e.prototype,n),i}(),bt=n(167),wt=n(168),xt=n(169),Tt=n(170),Et=n(171),Pt=n(97),St=n(172);function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(i,PIXI.Container);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=kt(t);if(e){var i=kt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==Mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(){var t;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this))._icons=[],t._spacing=40,t._index=0,t._tweens=new P3.utils.TWEEN.Group,t._textures={normal:P3.assets.texture("ui_icon_question_off"),selected:P3.assets.texture("ui_icon_question_current"),correct:P3.assets.texture("ui_icon_question_passed"),incorrect:P3.assets.texture("ui_icon_question_failed")},t.createIcons(10),t.setIndex(t._index),t}return e=i,(n=[{key:"update",value:function(t){this._tweens.update()}},{key:"animateIn",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;r=r||window,e?function(){for(var e=0,n=function(n){var r=t._icons[n];r.alpha=0,new P3.utils.TWEEN.Tween(r,t._tweens).to({alpha:1},176).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(340*n*.4).onStart(function(){r.visible=!0}).onComplete(function(){if(new P3.utils.TWEEN.Tween(r.additive,t._tweens).to({alpha:0},256).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){r.additive.visible=!1}).start(),++e>=t._icons.length)for(var n=function(e){var n=t._icons[e];e<3?new P3.utils.TWEEN.Tween(n,t._tweens).to({x:e*t._spacing-2*t._spacing*.5},440).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(1400).start():new P3.utils.TWEEN.Tween(n,t._tweens).to({alpha:0},420).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(1e3).onComplete(function(){n.visible=!1}).start()},i=0;i<t._icons.length;++i)n(i)}).start()},r=0;r<t._icons.length;++r)n(r)}():function(){for(var e=0,i=function(i){var o=t._icons[i];o.alpha=0,new P3.utils.TWEEN.Tween(o,t._tweens).to({alpha:1},440).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(340*i*.4).onStart(function(){o.visible=!0}).onComplete(function(){new P3.utils.TWEEN.Tween(o.additive,t._tweens).to({alpha:0},256).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){o.additive.visible=!1}).start(),++e>=t._icons.length&&n&&n.call(r)}).start()},o=0;o<t._icons.length;++o)i(o)}()}},{key:"createIcons",value:function(t){for(var e=0;e<t;++e){var n=new PIXI.Sprite(this._textures.normal);n.position.set(e*this._spacing-this._spacing*(t-1)*.5,0),n.anchor.set(.5),n.visible=!1,this.addChild(n),n.additive=new PIXI.Sprite(this._textures.normal),n.additive.anchor.set(.5),n.additive.blendMode=PIXI.BLEND_MODES.ADD,n.addChild(n.additive),this._icons.push(n)}}},{key:"next",value:function(){var t=this._index;t<this._icons.length-1&&this.setIndex(++t,!1)}},{key:"previous",value:function(){var t=this._index;t>0&&this.setIndex(--t,!1)}},{key:"setIndex",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._icons[this._index];e&&(n.texture=this._textures.normal);var r=this._icons[this._index];r.tween&&r.tween.stop(),r.tween=new P3.utils.TWEEN.Tween(r.scale,this._tweens).to({x:1,y:1},340).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).start(),this._index=t,(r=this._icons[this._index]).texture=this._textures.selected,r.tween=new P3.utils.TWEEN.Tween(r.scale,this._tweens).to({x:1.14,y:1.14},1e3).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).repeat(1/0).yoyo(!0).start()}},{key:"setAnswerIndex",value:function(t,e){var n=this._icons[e];n.texture=t?this._textures.correct:this._textures.incorrect,n.tween&&n.tween.stop();var r=new P3.utils.TWEEN.Tween(n.scale,this._tweens).to({x:1.4,y:1.4},180),i=new P3.utils.TWEEN.Tween(n.scale,this._tweens).to({x:1,y:1},240).easing(P3.utils.TWEEN.Easing.Back.Out);r.chain(i),r.start()}},{key:"setAnswer",value:function(t){this.setAnswerIndex(t,this._index)}},{key:"index",get:function(){return this._index}}])&&Ot(e.prototype,n),i}(),At=n(3),Dt=n.n(At);function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(i,PIXI.Container);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Yt(t);if(e){var i=Yt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==Rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e5;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this))._running=!1,t._startTime=e,t._duration=e+1e3,t._outputLabel=new PIXI.extras.BitmapText(t.formatTime(Math.min(t._duration,t._startTime)),{font:"40px BBC Reith Sans",align:"left"}),t._outputLabel.anchor.set(0,.5),t.addChild(t._outputLabel),t.reset(),t.update(0),t}return e=i,(n=[{key:"update",value:function(t){this._running&&(++this._frame%100&&(this._frameAlt=!this._frameAlt),this._duration-=1e3*t,this._outputLabel.text=this.formatTime(Math.min(this._duration,this._startTime)),this._outputLabel.tint=this._duration<0?16711680:16777215)}},{key:"start",value:function(){this.reset(),this._running=!0}},{key:"reset",value:function(){this._duration=Dt.a.duration(this._startTime+1e3),this._running=!1}},{key:"formatTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=t/1e3;e%=3600;var n=parseInt(e/60);return e%=60,(t<0?"+":"")+(P3.utils.padNum(n,2)+":"+P3.utils.padNum(parseInt(e),2)).toString()}},{key:"startTime",get:function(){return this._startTime}},{key:"running",get:function(){return this._running}}])&&Ct(e.prototype,n),i}(),Bt=n(7),Ft=n(173),Ht=n(174),Vt=n(175),qt=n(176),Wt=n(177),Ut=n(178),Xt=n(179),Gt=n(180),zt=n(40),Qt=n(98),Jt=n(181),Kt=n(182),Zt=n(183),$t=n(113),te=n(14),ee=n(184),ne=n(185),re=n(186),ie=n(83),oe=n(114),ae=n(187),se=n(188),ue=n(189),le=n(190),ce=n(191),he=n(192),fe=n(193),de=n(194),pe=n(195),_e=n(82),me=n(196),ye=n(197),ve=n(68),ge=n(198),be=n(199),we=n(200),xe=n(201),Te=n(4),Ee=n(70),Pe=n.n(Ee);function Se(t){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oe(t,e,n){return(Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ke(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ie(t,e){return(Ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ke(t){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ie(t,e)}(o,r.a);var e,n,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=ke(t);if(e){var i=ke(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==Se(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(o);function o(){var t;return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this,"adversary_dragon",r.a.TYPE_GOLDEN_DRAGON)).scale.set(.5),t.setIdleAnims(["idle"]),t.setAttackAnims(["attack"]),t.setDamageAnims(["damage"]),t.setDefeatAnims(["defeat"]),t.setVictoryAnims(["victory"]),t.setEnterAnims(["enter"]),t._fireEmitter=null,t._fireEmitterBone=null,t._spine.state.addListener({event:function(e,n){return t.onAnimationEvent(e,n)}}),t._attackSoundName="sfx_dragon_attack_00",t._enterSoundName="sfx_enter_dragon",t}return e=o,(n=[{key:"init",value:function(){Oe(ke(o.prototype),"init",this).call(this,"dragon3");var t=P3.assets.json("particle_emitter_dragon_flame");this._fireEmitter=new PIXI.particles.Emitter(this.parent,[P3.assets.texture("flame_particle_00")],t),this._fireEmitter.emit=!1,this._fireEmitterBone=this._spine.skeleton.findBone("emitter_flame")}},{key:"update",value:function(t){Oe(ke(o.prototype),"update",this).call(this,t),this._fireEmitter.update(t);var e=this._fireEmitter.parent.toLocal(new PIXI.Point(this._fireEmitterBone.worldX,this._fireEmitterBone.worldY),this._spine);this._fireEmitter.updateOwnerPos(e.x,e.y)}},{key:"setEmitterParent",value:function(t){Oe(ke(o.prototype),"setEmitterParent",this).call(this,t),this._fireEmitter.parent=t}},{key:"onAnimationEvent",value:function(t,e){console.log(e),"emitter_flame"===e.stringValue&&(this._fireEmitter.emit=!0)}}])&&Me(e.prototype,n),o}(),Ae=n(27);function De(t){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ce(t,e,n){return(Ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ye(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function je(t,e){return(je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return Ne});var Ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&je(t,e)}(O,nt.a);var e,n,M=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Ye(t);if(e){var i=Ye(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==De(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(O);function O(){var t;return function(t,e){if(!(t instanceof O))throw new TypeError("Cannot call a class as a function")}(this),(t=M.call(this))._camera=null,t._cameraTweens=new P3.utils.TWEEN.Group,t._backgroundLayer=null,t._midgroundLayer=null,t._gameLayer=null,t._particleLayer=null,t._hudLayer=null,t._totalXp=0,t._correctCount=0,t._questions=[],t._questionCount=Math.min(10,S.a.config.game.question_count),t._questionIndex=0,t._questionView=null,t._questionInput=null,t._answers=[],t._partyHealth=0,t._bossHealth=0,t._party=[],t._partyCount=0,t._boss=null,t._pet=null,t._partyHealthBar=null,t._bossHealthBar=null,t._questionCounter=null,t._timer=null,t._questionHolder=null,t._xpPanel=null,t._running=!1,t._defaultMusicName=P3.utils.selectRandom(["music_battle_loop_01","music_battle_loop_02","music_battle_loop_03"]),t._dangerMusicName=P3.utils.selectRandom(["music_timed_battle_01","music_timed_battle_02","music_timed_battle_03"]),t._ambienceAudio=null,t._challengeAmbienceAudio=null,t._challengeAmbienceTween=null,t._bossIntroFinished=!1,t._timePerQuestionStart=0,t._timePerQuestion=0,t._timePerQuestionFired=!1,t._timePerQuestionEnabled=!1,t._timePerQuestionDelay=0,t._timePerQuestionDelayFired=!1,t._timerLoopSFX=null,t}return e=O,(n=[{key:"init",value:function(){if(Ce(Ye(O.prototype),"init",this).call(this),this._camera=new P3.NewCamera(new PIXI.Point(.5*S.a.STAGE_WIDTH,.5*P3.View.height),new PIXI.Point),this._backgroundLayer=new PIXI.Container,this.addChild(this._backgroundLayer),this._midgroundLayer=new PIXI.Container,this.addChild(this._midgroundLayer),this._gameLayer=new PIXI.Container,this.addChild(this._gameLayer),this._hudLayer=new PIXI.Container,this.addChild(this._hudLayer),this._camera.addLayer(new P3.CameraLayer(this._backgroundLayer,new PIXI.Point(.2,1))),this._camera.addLayer(new P3.CameraLayer(this._midgroundLayer,new PIXI.Point(.6,1))),this._camera.addLayer(new P3.CameraLayer(this._gameLayer,new PIXI.Point(1,1))),this._partyHealth=this._questionCount,this._bossHealth=this._questionCount,this.generateQuestions(),this.createScene(),this._particleLayer=new PIXI.Container,this._gameLayer.addChild(this._particleLayer),this.initParty(.5*S.a.STAGE_WIDTH-380,600),this.initBoss(.5*S.a.STAGE_WIDTH+440,580),this.createUI(),this.initPauseButton(et.a.TAB_INDEX_LEVEL_0+1),!PIXI.utils.isMobile.any){this.initCalculatorButton(et.a.TAB_INDEX_LEVEL_0);var t=S.a.save.getUserData(S.a.userId);this._calculatorButton.toggle=t.showKeypad}this._timePerQuestionEnabled=S.a.location.timed_per_question,this.start(),"tutorial"===S.a.location.id?S.a.gmi.setStatsScreen&&S.a.gmi.setStatsScreen("training"):S.a.gmi.setStatsScreen&&S.a.gmi.setStatsScreen(S.a.locationIndex+""),S.a.gmi.sendStatsEvent("level","start",{metadata:"LVL="+S.a.location.id+"-"+(S.a.difficulty.level+1)})}},{key:"destroy",value:function(){this.stopAmbienceSFX(),this.stopTimerLoopSFX(),Ce(Ye(O.prototype),"destroy",this).call(this)}},{key:"resize",value:function(){Ce(Ye(O.prototype),"resize",this).call(this),this._xpPanel.position.set(.5*S.a.STAGE_WIDTH-440,80)}},{key:"show",value:function(){Ce(Ye(O.prototype),"show",this).call(this),this.setAllButtonsEnabled(!0),this.playMusic(),this.playAmbienceSFX(),this._timerLoopSFX&&this._timerLoopSFX.howl.volume(1),this._questionInput&&this._questionInput.setInteractive(!0),this._questionView&&(this._questionView.confirmButton.interactive=!0),!S.a.gmi.getAllSettings().motion&&this.disableMotionFX()}},{key:"hide",value:function(){Ce(Ye(O.prototype),"hide",this).call(this),this._questionInput&&this._questionInput.setInteractive(!1),this._questionView&&(this._questionView.confirmButton.interactive=!1),this.stopAmbienceSFX(),this._timerLoopSFX&&this._timerLoopSFX.howl.volume(0),P3.audio.stopVO()}},{key:"appear",value:function(){var t=this;if(Ce(Ye(O.prototype),"appear",this).call(this),this._boss){this._boss.playEnterAnim(),P3.utils.delayg(this._tweens,0,function(){t._boss.visible=!0});var e=this._boss.playTauntVO();Object(Ae.d)()||Object(Ae.e)()?this._timer.start():e.signals.end.once(function(){t._timer.start(),t._bossIntroFinished=!0})}else console.log("boss no initialised - expected:",S.a.boss.type,S.a.boss);this._questionCounter.animateIn(!1),S.a.location.challenge&&S.a.achievements.unlock(Te.a.FACE_THE_GOLDEN_DRAGON)}},{key:"update",value:function(){Ce(Ye(O.prototype),"update",this).call(this);var t=window.dt;if(this._camera.update(t),this._cameraTweens.update(),S.a.gmi.getAllSettings().motion){for(var e=0;e<this._party.length;++e)this._party[e].update(t);this._boss.update(t),this._pet&&this._pet.update(t)}this._partyHealthBar.update(t),this._bossHealthBar.update(t),this._questionInput&&this._questionInput.update(t),this._questionView&&this._questionView.update(t),this._questionCounter.update(t),this._timer.update(t),this._timePerQuestionEnabled&&(0===this._questionIndex?this._bossIntroFinished&&(this._timePerQuestionDelay-=1e3*t,this._timePerQuestionDelay<=0&&(this._timePerQuestionDelayFired||(this._timePerQuestionDelayFired=!0,this.startTimerLoopSFX()),this.updateTimerButton(t))):(this._timePerQuestionDelayFired||(this._timePerQuestionDelayFired=!0,this.startTimerLoopSFX()),this.updateTimerButton(t)))}},{key:"updateTimerButton",value:function(t){if(!this._timePerQuestionFired){this._timePerQuestion-=1e3*t;var e=1-this._timePerQuestion/this._timePerQuestionStart;this._questionView.confirmButton.setTimerAmount(e),this._timePerQuestion<=0&&(this._timePerQuestionFired=!0,this.stopTimerLoopSFX(),this._questionView.confirmButton.enabledSwapStates=!0,this._questionView.confirmButton.enabled=!1,this._questionView.confirmButton.setTimerAmount(0),this.onQuestionViewConfirm(this._questionView,!1))}}},{key:"start",value:function(){this._running=!0,this.initQuestion()}},{key:"end",value:function(){var t=this;this._running=!1;var e=this._bossHealth<this._partyHealth;if(e){for(var n=0;n<this._party.length;++n)this._party[n].playVictoryAnim();this._pet&&this._pet.playVictoryAnim(),this._boss.playDefeatAnim(),P3.audio.playSound("music_round_won")}else{for(var r=0;r<this._party.length;++r)this._party[r].playDefeatAnim();this._pet&&this._pet.playDefeatAnim(),this._boss.playVictoryAnim(),P3.audio.playSound("music_round_lost")}var i=this._bossHealth<this._partyHealth;""!==Pe()("extraXp")&&(this._totalXp=100),P3.utils.delayg(this._tweens,1.4,function(){t.signals.next.dispatch(t,t._correctCount,t._questionCount,t._totalXp,i,t._answers)}),S.a.gmi.sendStatsEvent("level","complete",{metadata:"LVL="+S.a.location.id+"-"+(S.a.difficulty.level+1)+"~LVR="+(e?"Success":"Failure")+"~SCO="+this._correctCount}),console.log("game ended")}},{key:"generateQuestions",value:function(){var t=Pe()("seed");if(S.a.location.challenge&&""===t){var e=P3.math.clamp(S.a.week-1,1,52);t=S.a.config.game.weekly_challenge_seeds[e],console.warn("seed:",t,"week:",e,"forced:",""!==Pe()("forceWeek"))}for(var n=new tt(S.a.location.modules,S.a.difficulty.level,t),r=0;r<this._questionCount;++r)if(S.a.location.challenge){var i=this._questions.length;this._questions.push(n.createQuestionWithSeed(i))}else this._questions.push(n.createQuestion())}},{key:"initQuestion",value:function(t){this._questionView&&this._questionView.destroy(),this._questionInput&&this._questionInput.destroy(),t=void 0===t?this._questionIndex:t;var e=this._questions[t];switch(console.log(e),e.view){default:console.warn("unknown question view : "+e.view);break;case Bt.a.STATIC_VERBAL:this._questionView=new fe.a(e);break;case Bt.a.VIEW_STATEMENT:this._questionView=new zt.a(e);break;case Bt.a.VIEW_STATEMENT_MULTI:this._questionView=new $t.a(e);break;case Bt.a.VIEW_STATEMENT_LONG:this._questionView=new Zt.a(e);break;case Bt.a.VIEW_STATEMENT_FRACTION:this._questionView=new Kt.a(e);break;case Bt.a.VIEW_STATEMENT_ALGEBRA:this._questionView=new Qt.a(e);break;case Bt.a.VIEW_STATEMENT_ALGEBRA_PAIR:this._questionView=new Jt.a(e);break;case Bt.a.VIEW_VERBAL:this._questionView=new te.a(e);break;case Bt.a.VIEW_VERBAL_VOLUME:this._questionView=new ye.a(e);break;case Bt.a.VIEW_VERBAL_BOOLEAN:this._questionView=new Ft.a(e);break;case Bt.a.VIEW_VERBAL_EXPONENT:this._questionView=new ae.a(e);break;case Bt.a.VIEW_VERBAL_ROUND:this._questionView=new ce.a(e);break;case Bt.a.VIEW_VERBAL_STATS:this._questionView=new de.a(e);break;case Bt.a.VIEW_SORT:this._questionView=new Gt.a(e);break;case Bt.a.VIEW_VISUAL:this._questionView=new ve.a(e);break;case Bt.a.VIEW_VISUAL_TIME:this._questionView=new xe.a(e);break;case Bt.a.VIEW_VISUAL_CLOCK_FACE:this._questionView=new ne.a(e);break;case Bt.a.VIEW_VISUAL_LIQUID:this._questionView=new be.a(e);break;case Bt.a.VIEW_VISUAL_ROTATED_SHAPE:this._questionView=new Ut.a(e);break;case Bt.a.VIEW_COMPARISON:this._questionView=new Ht.a(e);break;case Bt.a.VIEW_SEQUENCE:this._questionView=new Xt.a(e);break;case Bt.a.VIEW_VERBAL_SHAPE:this._questionView=new he.a(e);break;case Bt.a.VIEW_VERBAL_EQUIVALENT:this._questionView=new oe.a(e);break;case Bt.a.VIEW_VERBAL_RATIO:this._questionView=new le.a(e);break;case Bt.a.VIEW_VERBAL_VALUE:this._questionView=new me.a(e);break;case Bt.a.VIEW_VERBAL_COMPOSE:this._questionView=new re.a(e);break;case Bt.a.VIEW_VERBAL_MULTIPLES:this._questionView=new ue.a(e);break;case Bt.a.VIEW_VERBAL_TIME:this._questionView=new _e.a(e);break;case Bt.a.VIEW_VERBAL_CONVERSION:this._questionView=new ie.a(e);break;case Bt.a.VIEW_VERBAL_REST:this._questionView=new se.a(e);break;case Bt.a.VIEW_VERBAL_SUM:this._questionView=new pe.a(e);break;case Bt.a.VIEW_VERBAL_ANGLE:this._questionView=new ee.a(e);break;case Bt.a.VIEW_GRAPH_VEN:this._questionView=new Wt.a(e);break;case Bt.a.VIEW_GRAPH_BAR:this._questionView=new Vt.a(e);break;case Bt.a.VIEW_GRAPH_TALLY:this._questionView=new qt.a(e);break;case Bt.a.VIEW_VISUAL_EQUIVALENT:this._questionView=new ge.a(e);break;case Bt.a.VIEW_VISUAL_SHAPE:this._questionView=new we.a(e)}switch(this._questionView.position.set(.5*S.a.STAGE_WIDTH,0),this._questionView.signals.confirm.add(this.onQuestionViewConfirm,this),this._questionHolder.addChild(this._questionView),this._questionView.header.y=.5*this._questionView.header.height+20,this._questionView.footer.y=P3.View.height-.5*this._questionView.footerHeight-60,Array.isArray(e.input)&&(e._input=P3.utils.selectRandom(e.input)),e.input){default:case ut.a.INPUT_SELECT:this._questionInput=new ct.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-.5*this._questionView.footerHeight-36);break;case ut.a.INPUT_SELECT_SUM:this._questionInput=new xt.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-.5*this._questionView.footerHeight-36);break;case ut.a.INPUT_SELECT_TIME:this._questionInput=new Tt.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-.5*this._questionView.footerHeight-36);break;case ut.a.INPUT_SELECT_MULTI:this._questionInput=new ft.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case ut.a.INPUT_SELECT_MULTI_SUM:this._questionInput=new pt.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case ut.a.INPUT_SELECT_MULTI_VISUAL:this._questionInput=new bt.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case ut.a.INPUT_SELECT_MULTI_EQUIVALENT:this._questionInput=new dt.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-100);break;case ut.a.INPUT_SELECT_MULTI_GRAPH:this._questionInput=new gt(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-100);break;case ut.a.INPUT_SELECT_VISUAL:this._questionInput=new Et.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case ut.a.INPUT_SELECT_CLOCK_FACE:this._questionInput=new ht.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case ut.a.INPUT_KEYPAD:this._questionInput=new lt.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-.5*this._questionView.footer.height-20);break;case ut.a.INPUT_KEYPAD_RIGHT:this._questionInput=new lt.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH+250,this._questionView.y+this._questionView.footer.y-.5*this._questionView.footer.height-20);break;case ut.a.INPUT_SORT:this._questionInput=new Pt.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case ut.a.INPUT_SORT_CONVERSION:this._questionInput=new St.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case ut.a.INPUT_SELECT_MULTI_VISUAL_EQUIVALENT:this._questionInput=new wt.a(e,this._questionView),this._questionInput.position.set(.5*S.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-100)}switch(this._questionInput.init(),this._questionHolder.addChild(this._questionInput),e.view){case Bt.a.VIEW_STATEMENT_LONG:this._questionView.footer.y=.5*P3.View.height,this._questionView.confirmButton.y=255,this._questionInput.y=635;break;case Bt.a.VIEW_STATEMENT_ALGEBRA:this._questionView.footer.y=P3.View.height-.5*this._questionView.footerHeight-120,e.input!==ut.a.INPUT_KEYPAD?this._questionInput.y=this._questionView.y+this._questionView.footer.y-.5*this._questionView.footerHeight-36:this._questionInput.y=this._questionView.y+this._questionView.footer.y-.5*this._questionView.footerHeight-26,this._questionView.setInputFieldHeight(100);break;case Bt.a.VIEW_STATEMENT_ALGEBRA_PAIR:this._questionView.footer.y=P3.View.height-.5*this._questionView.footerHeight-170,e.input!==ut.a.INPUT_KEYPAD&&(this._questionInput.y=this._questionView.y+this._questionView.footer.y-.5*this._questionView.footerHeight+10),this._questionView.setInputFieldHeight(100)}switch(e.input){case ut.a.INPUT_SELECT_MULTI_VISUAL_EQUIVALENT:case ut.a.INPUT_SELECT_MULTI_VISUAL:case ut.a.INPUT_SELECT_MULTI_EQUIVALENT:case ut.a.INPUT_SELECT_MULTI_SUM:case ut.a.INPUT_SELECT_MULTI:case ut.a.INPUT_SELECT_MULTI_GRAPH:this._questionInput.y=this._questionView.footer.y}this._timePerQuestionEnabled&&(this._timePerQuestionStart=S.a.config.game.time_per_question[S.a.difficulty.level],this._timePerQuestion=this._timePerQuestionStart,this._timePerQuestionDelay=Object(Ae.d)()||Object(Ae.e)()?S.a.config.game.time_per_question_delay:1e3,this._timePerQuestionFired=!1,this._timePerQuestionDelayFired=!1),P3.audio.playSound(["sfx_scroll_open_00","sfx_scroll_open_01"])}},{key:"startTimerLoopSFX",value:function(){this.stopTimerLoopSFX(),this._timerLoopSFX=P3.audio.playSound("sfx_question_timer_01",{loop:!0})}},{key:"stopTimerLoopSFX",value:function(){this._timerLoopSFX&&(this._timerLoopSFX.stop(),this._timerLoopSFX=null)}},{key:"animateCamera",value:function(t,e,n,r){var i=this;if(S.a.gmi.getAllSettings().motion){this._cameraTweens.removeAll();var o=new PIXI.Point(-120,20),a=new PIXI.Point(120,-40),s=new PIXI.Point(0,0),u=t?o:a,l=new P3.utils.TWEEN.Tween(this._camera.position,this._cameraTweens).to({x:u.x,y:u.y},420).easing(P3.utils.TWEEN.Easing.Cubic.InOut).onStart(function(){new P3.utils.TWEEN.Tween(i._camera,i._cameraTweens).to({zoom:1.2},420).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).start()}).onComplete(function(){P3.utils.delayg(i._cameraTweens,1,function(){e&&e.call(r)})});u=t?a:o;var c=new P3.utils.TWEEN.Tween(this._camera.position,this._cameraTweens).to({x:u.x,y:u.y},340).easing(P3.utils.TWEEN.Easing.Cubic.Out).delay(600),h=new P3.utils.TWEEN.Tween(this._camera.position,this._cameraTweens).to({x:s.x,y:s.y},640).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(400).onStart(function(){new P3.utils.TWEEN.Tween(i._camera,i._cameraTweens).to({zoom:1},640).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).start()}).onComplete(function(){n&&n.call(r)});l.chain(c),c.chain(h),l.start()}else e&&e.call(r),n&&n.call(r)}},{key:"damageParty",value:function(){--this._partyHealth;var t=this._partyHealth/this._questionCount;this._partyHealthBar.health=t,this._partyHealth<=0&&(this._running=!1);var e=P3.utils.selectRandom(this._party);e.playDamageAnim(),S.a.character.female?P3.audio.playSound(["sfx_generic_guardian_damage_female_00","sfx_generic_guardian_damage_female_01","sfx_generic_guardian_damage_female_02"]):P3.audio.playSound(["sfx_generic_guardian_damage_male_00","sfx_generic_guardian_damage_male_01","sfx_generic_guardian_damage_male_02"]),e===this.player&&this._pet&&this._pet.playDamageAnim(),console.log("party health:",100*t+"%")}},{key:"damageBoss",value:function(){--this._bossHealth;var t=this._bossHealth/this._questionCount;this._bossHealthBar.health=t,this._bossHealth<=0&&(this._running=!1),this._boss.playDamageAnim(),this._boss.playDamageVO(),this._boss.playDamageSound(),console.log("boss health:",100*t+"%")}},{key:"initParty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[new PIXI.Point(-70,-6),new PIXI.Point(-120,6)];this._party[0]=this.createGuardian(S.a.character.type),this._party[0].position.set(t,e),this._party[0].scale.set(.25),this._party[0].init(S.a.character.skin),this._gameLayer.addChildAt(this._party[0],this._gameLayer.getChildIndex(this._particleLayer)),this._party[0].setEmitterParent(this._particleLayer),this._party[0].playIdleAnim();for(var r=[S.a.character.type],i=P3.utils.objectToArray(P3.assets.json("characters").filter(function(t){return-1===r.indexOf(t.skin)})),o=1;o<Math.min(2,this._partyCount)+1;++o){var a=n[o-1],s=P3.utils.selectRandom(i);r.push(s.skin),i=i.filter(function(t){return-1===r.indexOf(t.skin)}),this._party[o]=this.createGuardian(s.type),this._party[o].position.set(t+a.x,e+a.y),this._party[o].scale.set(.25),this._party[o].init(s.skin),this._gameLayer.addChildAt(this._party[o],this.player.parent.getChildIndex(this.player)),this._party[o].setEmitterParent(this._particleLayer),this._party[o].playIdleAnim()}var u=S.a.save.getUserData(S.a.userId);for(var l in u.equipment)if(u.equipment.hasOwnProperty(l)){var c=u.equipment[l];"pet"!==l?this._party[0].setItem(l,c):c>0&&(this._pet=this.createPet(c),this._pet.position.set(this._party[0].x,this._party[0].y-40),this._pet.scale.set(.25),this._pet.init(),this._gameLayer.addChild(this._pet),this._pet.playIdleAnim())}}},{key:"initBoss",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._boss=this.createBoss(S.a.boss.type),this._boss.position.set(t,e),this._boss.visible=!1,this._boss.init(),this._gameLayer.addChildAt(this._boss,this._gameLayer.getChildIndex(this._particleLayer)),this._boss.setEmitterParent(this._particleLayer)}},{key:"createGuardian",value:function(t){var e=S.a.save.isWeeklyChallengeComplete(S.a.userId);switch(t){default:case h.a.TYPE_ELF:return new f.a(e);case h.a.TYPE_ELF_FEMALE:return new d.a(e);case h.a.TYPE_KNIGHT:return new p.a(e);case h.a.TYPE_KNIGHT_FEMALE:return new _.a(e);case h.a.TYPE_RANGER:return new m.a(e);case h.a.TYPE_RANGER_FEMALE:return new y.a(e);case h.a.TYPE_WARRIOR:return new v.a(e);case h.a.TYPE_WIZARD:return new b.a(e);case h.a.TYPE_WITCH:return new g.a(e)}}},{key:"createBoss",value:function(t){switch(t){default:case r.a.TYPE_DRAGON:return new i.a;case r.a.TYPE_SPIDER:return new s.a;case r.a.TYPE_HOBGOBLIN:return new o.a;case r.a.TYPE_TROLL:return new c.a;case r.a.TYPE_TRAINING_TROLL:return new l.a;case r.a.TYPE_SPIRIT:return new u.a;case r.a.TYPE_MAGE:return new a.a;case r.a.TYPE_GOLDEN_DRAGON:return new Le}}},{key:"createPet",value:function(t){switch(t){default:case w.a.TYPE_OWL:return new E.a;case w.a.TYPE_BAT:return new x.a;case w.a.TYPE_DRAGON:return new T.a;case w.a.TYPE_RAVEN:return new P.a}}},{key:"createScene",value:function(){var t=new PIXI.Sprite(P3.assets.texture(S.a.location.theme.bg));this._backgroundLayer.addChild(t);var e=new PIXI.Sprite(P3.assets.texture(S.a.location.theme.left));e.position.set(0,P3.View.height),e.anchor.set(0,1),this._midgroundLayer.addChild(e);var n=new PIXI.Sprite(P3.assets.texture(S.a.location.theme.right));n.position.set(S.a.STAGE_WIDTH,P3.View.height),n.anchor.set(1,1),this._midgroundLayer.addChild(n);var r=new PIXI.Sprite(P3.assets.texture(S.a.location.theme.fg));r.position.set(0,P3.View.height),r.anchor.set(0,1),this._gameLayer.addChild(r)}},{key:"createUI",value:function(){this._partyHealthBar=new st,this._partyHealthBar.position.set(.5*S.a.STAGE_WIDTH-390,360),this._gameLayer.addChild(this._partyHealthBar),this._bossHealthBar=new st,this._bossHealthBar.position.set(.5*S.a.STAGE_WIDTH+360,360),this._gameLayer.addChild(this._bossHealthBar),this._questionHolder=new PIXI.Container,this._hudLayer.addChild(this._questionHolder),this._questionCounter=new Lt(this._questionCount),this._questionCounter.position.set(.5*S.a.STAGE_WIDTH,P3.View.height-26),this._hudLayer.addChild(this._questionCounter);var t=S.a.config.game.time[S.a.difficulty.level];this._timer=new Nt(t),this._timer.position.set(this._questionCounter.x+220,P3.View.height-38),this._timer.visible=S.a.location.timed,this._hudLayer.addChild(this._timer),this._xpPanel=new PIXI.Sprite(P3.assets.texture("ui_results_xp")),this._xpPanel.position.set(.5*S.a.STAGE_WIDTH,200),this._xpPanel.anchor.set(.5),this._hudLayer.addChild(this._xpPanel);var e=S.a.save.getUserData(S.a.userId),n=Math.round(e.totalXp+this._totalXp),r=36;n>S.a.config.game.xp_cap&&(n=Math.round(S.a.config.game.xp_cap)+"+",r=32),this._xpPanel.label=new PIXI.extras.BitmapText(n+"",{font:r+"px BBC Reith Sans",align:"center"}),this._xpPanel.label.position.set(-2,18),this._xpPanel.label.anchor.set(.5),this._xpPanel.label.tint=3736327,this._xpPanel.addChild(this._xpPanel.label)}},{key:"playMusic",value:function(){this._questionIndex/this._questionCount<.6?P3.audio.playMusic(this._defaultMusicName):P3.audio.playMusic(this._dangerMusicName)}},{key:"playAmbienceSFX",value:function(){this.stopAmbienceSFX(),this._ambienceAudio=P3.audio.playSound(S.a.location.audio.ambience,{loop:!0}),S.a.location.challenge&&(this._challengeAmbienceAudio=P3.audio.playSound("sfx_ambience_crowd_roar_loop_00",{volume:0,loop:!0}))}},{key:"stopAmbienceSFX",value:function(){this._ambienceAudio&&(this._ambienceAudio.stop(),this._ambienceAudio=null),this._challengeAmbienceAudio&&(this._challengeAmbienceAudio.stop(),this._challengeAmbienceAudio=null)}},{key:"playRoarEffect",value:function(){var t=this;this._challengeAmbienceTween&&(this._challengeAmbienceTween.stop(),this._challengeAmbienceTween=null);var e={value:0};this._challengeAmbienceTween=new P3.utils.TWEEN.Tween(e,this._tweens).to({value:1},3e3).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).repeat(1).yoyo(!0).onUpdate(function(){t._challengeAmbienceAudio&&t._challengeAmbienceAudio.howl.volume(e.value)}).start()}},{key:"playGuardianPositiveVO",value:function(){P3.audio.playSound(["vo_guardian_pos_1","vo_guardian_pos_2","vo_guardian_pos_3","vo_guardian_pos_4","vo_guardian_pos_5","vo_guardian_pos_6","vo_guardian_pos_7","vo_guardian_pos_8","vo_guardian_pos_9"])}},{key:"playGuardianNegativeVO",value:function(){P3.audio.playSound(["vo_guardian_neg_1","vo_guardian_neg_2","vo_guardian_neg_3","vo_guardian_neg_4","vo_guardian_neg_5","vo_guardian_neg_6","vo_guardian_neg_7","vo_guardian_neg_8","vo_guardian_neg_9"])}},{key:"disableMotionFX",value:function(){for(var t=0;t<this._party.length;++t){var e=this._party[t];e.playIdleAnim(),e.update(1)}this._boss.playIdleAnim(),this._boss.update(1)}},{key:"onQuestionViewConfirm",value:function(t,e){var n=this;if(this._running){if(this._timePerQuestionFired=!0,this._questionInput.showCorrectAnswer(),this._questionInput.lock(),this._answers.push(e),this._questionCounter.setAnswer(e),this.stopTimerLoopSFX(),e){++this._correctCount,this._totalXp+=S.a.config.game.xp[S.a.difficulty.level]||S.a.config.game.xp[0];var r=S.a.save.getUserData(S.a.userId),i=Math.round(r.totalXp+this._totalXp),o=36;i>S.a.config.game.xp_cap&&(i=Math.round(S.a.config.game.xp_cap)+"+",o=32),this._xpPanel.label.font.size=o,this._xpPanel.label.text=i+"",P3.audio.playSound(["music_round_won"]),S.a.location.challenge&&this.playRoarEffect()}else P3.audio.playSound(["music_round_lost"]);console.log("question:",this._questionIndex+1),P3.utils.delayg(this._tweens,1,function(){if(n._questionView.visible=!1,n._questionInput.visible=!1,P3.audio.playSound("sfx_scroll_disappear_00"),e){var t=P3.utils.selectRandom(n._party);t.playAttackAnim(),t===n.player&&n._pet&&n._pet.playAttackAnim(),n.animateCamera(e,function(){return n.damageBoss()},function(){a.call(n),n.playGuardianPositiveVO()}),n.unlockQuestionAchievement(),console.log("potential xp",n._totalXp)}else n._boss.playAttackAnim(),n.animateCamera(e,function(){return n.damageParty()},function(){a.call(n),n._boss.playAttackVO()})})}function a(){var t=this;this._questionIndex++<this._questions.length-1?this.initQuestion():P3.utils.delayg(this._tweens,1.2,function(){return t.end()}),this._questionCounter.next(),this.playMusic()}}},{key:"onCalculatorButtonClick",value:function(t){S.a.save.getUserData(S.a.userId).showKeypad=t.toggle,S.a.save.saveGame(),t.toggle&&S.a.gmi.sendStatsEvent("keypad","true")}},{key:"unlockQuestionAchievement",value:function(){S.a.location.challenge||(S.a.achievements.setProgress(Te.a.ANSWER_QUESTIONS_LEVEL1,this._correctCount/5),this._correctCount>=5&&S.a.achievements.unlock(Te.a.ANSWER_QUESTIONS_LEVEL1),S.a.achievements.setProgress(Te.a.ANSWER_QUESTIONS_LEVEL2,this._correctCount/10),this._correctCount>=10&&S.a.achievements.unlock(Te.a.ANSWER_QUESTIONS_LEVEL2))}},{key:"player",get:function(){return this._party[0]}}])&&Re(e.prototype,n),O}()},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(41);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(o,i.a);var e,n,r=l(o);function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t))._unit=n,e}return e=o,(n=[{key:"toString",value:function(){return""+this._value}},{key:"unit",get:function(){return this._unit}}])&&s(e.prototype,n),o}(),f=n(8);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(i,h);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(t,e,n){var o;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(o=r.call(this,t,e))._conversionFactor=n,o}return e=i,(n=[{key:"value",get:function(){return this._value/this._conversionFactor}},{key:"conversionFactor",get:function(){return this._conversionFactor}}])&&p(e.prototype,n),i}(),v=n(3),g=n.n(v);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(o,i.a);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(o);function o(t){return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),r.call(this,t)}return e=o,(n=[{key:"toTime",value:function(){var t=this._value[0]<10?"0".concat(this._value[0]):this._value[0],e=this._value[1]<10?"0".concat(this._value[1]):this._value[1];return"".concat(t,":").concat(e)}},{key:"toString",value:function(){var t="",e=this._value[0];if(0!==e){var n=1===this._value[0]?"hour":"hours";t="".concat(e," ").concat(n," ")}var r=this._value[1];if(0!==r){var i=1===this._value[1]?"minute":"minutes";t+="".concat(r," ").concat(i," ")}return t}}])&&w(e.prototype,n),o}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(o,i.a);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(o);function o(t){return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),r.call(this,t)}return e=o,(n=[{key:"toTime",value:function(){var t=this._value[0]>12?this._value[0]-12:this._value[0],e=this._value[1]<10?"0".concat(this._value[1]):this._value[1];return this._value[0]>=12?"".concat(t,":").concat(e,"pm"):"".concat(t,":").concat(e,"am")}},{key:"toString",value:function(){var t="",e=this._value[0];if(0!==e){var n=1===this._value[0]?"hour":"hours";t="".concat(e," ").concat(n," ")}var r=this._value[1];if(0!==r){var i=1===this._value[1]?"minute":"minutes";t+="".concat(r," ").concat(i," ")}return t}}])&&S(e.prototype,n),o}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e,n){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return C});var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(s,f.a);var e,n,a=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(s);function s(){return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),a.call(this)}return e=s,(n=[{key:"create",value:function(t){var e=A(R(s.prototype),"create",this).call(this,t);switch(t.type){case r.a.TYPE_PERIMETER:this._perimeter(t,e);break;case r.a.TYPE_AREA_TRIANGLE:case r.a.TYPE_AREA_PARALLELOGRAM:case r.a.TYPE_AREA_CIRCLE:case r.a.TYPE_DIAMETER:case r.a.TYPE_RADIUS:this._visualGeometry(t,e);break;case r.a.TYPE_COVERSION_X_IN_Y:this._conversionXinY(t,e);break;case r.a.TYPE_COVERSION_SUBTRACTION:case r.a.TYPE_COVERSION_ADDITION:this._conversionAddSub(t,e);break;case r.a.TYPE_COVERSION_PERCENT_OF_X:this._conversionPercentageOfX(t,e);break;case r.a.TYPE_COVERSION_MULTIPLICATION:this._conversionMultiplcation(t,e);break;case r.a.TYPE_COVERSION_EQUIVALENT:this._conversionEquivalent(t,e);break;case r.a.TYPE_COVERSION_SORT:this._conversionSort(t,e);break;case r.a.TYPE_TIME_DIFFERENCE:t.difficulty<2?this._time12(t,e):this._time(t,e);break;case r.a.TYPE_TIME_CONVERSION:this._time(t,e);break;case r.a.TYPE_LIQUID_MEASUREMENT:this._liquidMeasurment(t,e)}return e.xp=t.xp,e}},{key:"_conversionAddSub",value:function(t,e){var n,i=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)},o=P3.utils.selectRandom(t.variations),a=this._generateValues(o.range,t.values-1);a.sort();for(var s=a.length-1;s>=0;s--){var u=a[s];if(s===a.length-1)e.values.push(new h(u,"")),n=u;else switch(t.type){case r.a.TYPE_COVERSION_SUBTRACTION:n-=u,e.values.push(new h(u*o.conversion,o.units[0].short)),e.values.push(new h(Math.abs(i(n-u,2)),o.units[1].short));break;case r.a.TYPE_COVERSION_ADDITION:n+=u,e.values.push(new h(u*o.conversion,""))}}e.conversion=o.conversion,e.units=o.units,n=parseFloat(i(n,2)),e.values.push(new h(n,o.units[1].short)),e.part="number"==typeof t.parts?t.parts:P3.utils.selectRandom(P3.utils.objectToArray(t.parts)),e.options=this.generateOptions(e,5),e.item=t.item,e.item=o.item||null,e.unitType=o.unit_type||null}},{key:"_conversionMultiplcation",value:function(t,e){var n=P3.utils.selectRandom(t.variations),r=P3.math.random(n.range.min,n.range.max),o=Math.round(10*r)/10,a=P3.math.randomInt(t.range.min,t.range.max);e.values.push(new h(o,n.units[n.units.length-1].short)),e.values.push(new i.a(a));var s=o*a,u=n.units[P3.math.randomInt(0,n.units.length-2)],l=s*u.conversion;e.values.push(new h(Math.round(10*l)/10,u.short)),e.units=n.units,e.part=2,e.options=this.generateOptions(e,5),e.item=n.item||null,e.unitType=n.unit_type||null}},{key:"_conversionEquivalent",value:function(t,e){var n=P3.utils.selectRandom(t.variations),r=P3.math.random(n.range.min,n.range.max),i=Math.round(10*r)/10;e.values.push(new h(i,n.units[n.units.length-1].short));var o=P3.utils.copyObject(n.units,!0);o.splice(o.length-1,1);for(var a=0;a<2;a++){var s=o[P3.math.randomInt(0,o.length-1)],u=i*s.conversion;e.values.push(new h(Math.round(100*u)/100,s.short)),o.splice(o.indexOf(s),1)}for(var l in e.units=n.units,e.part=[1,2],e.options=this.generateOptions(e,3),e.part)e.options.push(e.values[e.part[l]]);P3.utils.shuffleArray(e.options)}},{key:"_conversionPercentageOfX",value:function(t,e){var n=P3.utils.selectRandom(t.variations),r=this._generateValues(n.range,t.values-1),o=[];r.sort(),r.forEach(function(t){o.push(10*Math.ceil(t/10)),e.values.unshift(new i.a(10*Math.ceil(t/10)))});var a=o[0]/(o[1]/n.conversion);e.values.push(new h(Math.round(100*a)/100,n.units[0].short)),e.conversion=n.conversion,e.part=t.parts,e.units=n.units,e.options=this.generateOptions(e,5),e.item=n.item}},{key:"_conversionSort",value:function(t,e){var n=P3.utils.selectRandom(t.variations);e.ascending=P3.math.randomBool();for(var r=[],i=100;r.length<t.values&&i-- >0;){var o=P3.math.random(n.range.min,n.range.max),a=Math.round(10*o)/10;if(-1===r.indexOf(a)){var s=P3.utils.selectRandom(n.units),u=a*s.conversion;e.values.push(new y(Math.round(10*u)/10,s.short,s.conversion)),r.push(a)}}e.values.sort(function(t,n){return e.ascending?t.value-n.value:n.value-t.value}),e.units=n.units,e.item=n.item||null,e.unitType=n.unit_type||null}},{key:"_conversionXinY",value:function(t,e){var n=P3.utils.selectRandom(P3.utils.objectToArray(t.options)),r=Math.random()<.5;e.part=r?0:1,this._generateValues(n.range,t.values-1).forEach(function(t){e.values.push(new h(t,n.units[1].short))}),e.values.push(new h(Math.round(e.values[0].value*n.conversion*100/100),n.units[0].short)),e.units=n.units,e.reversed=r,e.options=this.generateOptions(e,5)}},{key:"_liquidMeasurment",value:function(t,e){var n,r,i,o=P3.utils.selectRandom(t.variations),a=[];if(0===t.difficulty){n=P3.utils.selectRandom([25,50,75]),a=[];for(var s=1;s<10;s++)s*(n/10)%5==0&&a.push(s);r=P3.utils.selectRandom(a),i=10}if(1===t.difficulty){n=P3.utils.selectRandom([20,40,60,80,100]),a=[];for(var u=1;u<10;u++)u*(n/10)%2==0&&a.push(u);r=P3.utils.selectRandom(a),i=10}if(2===t.difficulty){n=P3.utils.selectRandom([20,40,60,80,100]),a=[];for(var l=1;l<20;l++)l*(n/20)%2==0&&a.push(l);r=P3.utils.selectRandom(a),i=20}e.steps=10,e.substeps=i,e.selectedStep=r,e.selectedSubStep=r,e.values.push(new h(n,o.units[1].short)),e.values.push(new h(0,o.units[0].short)),e.values.push(new h(n/i*r,o.units[1].short)),e.item=o.item,e.part=2,e.units=o.units,e.difficulty=t.difficulty,e.options=this.generateOptions(e,5)}},{key:"_time",value:function(t,e){for(var n=function(t){var e=t.split(":");return 60*parseInt(e[0])+parseInt(e[1])},r=function(e){var n,r=P3.math.randomInt(0,54);if(e){var i=e.split(":"),o=1e3;switch(t.difficulty){case 2:if(r>parseInt(i[1])){do{n=P3.math.randomInt(parseInt(i[0]),Math.max(1,parseInt(i[0])-12))}while(n===parseInt(i[0])&&r===parseInt(i[1])&&o-- >0);n=P3.math.randomInt(parseInt(i[0]),Math.max(1,parseInt(i[0])-12))}else do{n=P3.math.randomInt(parseInt(i[0]),Math.min(23,parseInt(i[0])+12))}while(n===parseInt(i[0])&&r===parseInt(i[1])&&o-- >0);n=P3.math.randomInt(parseInt(i[0]),Math.min(23,parseInt(i[0])+12));break;case 3:if(r>parseInt(i[1])){do{n=P3.math.randomInt(parseInt(i[0]),Math.max(1,parseInt(i[0])-23))}while(n===parseInt(i[0])&&r===parseInt(i[1])&&o-- >0);n=P3.math.randomInt(parseInt(i[0]),Math.max(1,parseInt(i[0])-23))}else do{n=P3.math.randomInt(parseInt(i[0]),Math.min(23,parseInt(i[0])+23))}while(n===parseInt(i[0])&&r===parseInt(i[1])&&o-- >0);n=P3.math.randomInt(parseInt(i[0]),Math.min(23,parseInt(i[0])+23))}}else n=P3.math.randomInt(1,23);return(n=(n<10?"0":"")+n)+":"+(r=(r<10?"0":"")+r)},i=0,o=0,a=1e3,s=[];0===i&&0===o&&a-- >0;){s=[];var u=r(),l=r(u);s.push(g()(u,"HH:mm")),s.push(g()(l,"HH:mm")),s.sort(function(t,e){return n(t._i)-n(e._i)});var c=s[1].diff(s[0],"minutes",!0);i=Math.floor(c/60),o=c%60}for(var h in s){var f=s[h]._i.split(":"),d=[parseInt(f[0]),parseInt(f[1])];e.values.push(new E(d))}e.values.push(new E([i,o])),"verbal_time"===t.view&&(e.part=2,e.timeType="string"),"time_conversion"===t.type?e.part=0:e.part=P3.utils.selectRandom([1,2]),e.options=[e.answer];for(var p=1e3,_=function(){var t,n=(t=P3.math.randomInt(1,55),[e.answer.value[0],t]);e.options.every(function(t){return t.value[0]!==n[0]||t.value[1]!==n[1]})&&e.options.push(new E(n))};e.options.length<5&&p-- >0;)_();P3.utils.shuffleArray(e.options),e.difficulty=t.difficulty}},{key:"_time12",value:function(t,e){for(var n=function(t){var e=t.split(":");return 60*parseInt(e[0])+parseInt(e[1])},r=function(e){var n,r=P3.math.randomInt(0,54);if(e){var i=e.split(":");switch(t.difficulty){case 0:n=r>parseInt(i[1])?Math.max(1,parseInt(i[0])-1):Math.min(23,parseInt(i[0]));break;case 1:n=r>parseInt(i[1])?P3.math.randomInt(parseInt(i[0]),Math.max(1,parseInt(i[0])-2)):P3.math.randomInt(parseInt(i[0]),Math.min(23,parseInt(i[0])+2))}}else n=P3.math.randomInt(1,23);return 0!==t.difficulty&&1!==t.difficulty||(r=5*Math.ceil(r/5)),(n=(n<10?"0":"")+n)+":"+(r=(r<10?"0":"")+r)},i=0,o=0,a=1e3,s=[];0===i&&0===o&&a-- >0;){s=[];var u=r(),l=r(u);s.push(g()(u,"HH:mm")),s.push(g()(l,"HH:mm")),s.sort(function(t,e){return n(t._i)-n(e._i)});var c=s[1].diff(s[0],"minutes",!0);i=Math.floor(c/60),o=c%60}for(var h in s){var f=s[h]._i.split(":"),d=[parseInt(f[0]),parseInt(f[1])];e.values.push(new I(d))}e.values.push(new I([i,o])),"verbal_time"===t.view&&(e.part=2,e.timeType="string"),"time_conversion"===t.type?e.part=0:e.part=P3.utils.selectRandom([1,2]),e.options=[e.answer];for(var p=1e3,_=function(){var n,r,i=(n=0===t.difficulty||1===t.difficulty?5:1,r=P3.math.randomInt(n,55),r=0===t.difficulty||1===t.difficulty?5*Math.ceil(parseInt(r)/5):r,[e.answer.value[0],r]);e.options.every(function(t){return t.value[0]!==i[0]||t.value[1]!==i[1]})&&e.options.push(new I(i))};e.options.length<5&&p-- >0;)_();P3.utils.shuffleArray(e.options)}},{key:"_visualGeometry",value:function(t,e){var n,i=P3.utils.selectRandom(t.units),a=P3.utils.selectRandom(P3.utils.objectToArray(t.range));switch(e.values=this._generateMeasurementLabel(a,i),e.part=t.parts,t.type){case r.a.TYPE_AREA_TRIANGLE:n=e.values[0].value*e.values[1].value/2;break;case r.a.TYPE_AREA_PARALLELOGRAM:n=e.values[0].value*e.values[1].value;break;case r.a.TYPE_AREA_CIRCLE:n=Math.PI*(e.values[0].value*e.values[0].value);break;case r.a.TYPE_DIAMETER:n=2*e.values[0].value;break;case r.a.TYPE_RADIUS:n=e.values[0].value/(2*Math.PI)}e.values.push(new o.a(parseFloat(n.toFixed(1)),P3.assets.texture(a.texture),"")),e.options=this.generateOptions(e,5),e.notations=a.notations,e.unit=i}},{key:"_perimeter",value:function(t,e){var n,r;if(0===t.difficulty)for(r=n=2*Math.round(P3.math.randomInt(2,8)/2);r===n;)r=2*Math.round(P3.math.randomInt(2,8)/2);else for(r=n=2*Math.round(P3.math.randomInt(10,20)/2);r===n;)r=2*Math.round(P3.math.randomInt(10,20)/2);var i=P3.utils.selectRandom(t.units),o=2*(n+r);e.values.push(new h(n,i.long)),e.values.push(new h(r,i.long)),e.values.push(new h(o,i.short)),e.units=i,e.part=2}},{key:"_generateValues",value:function(t,e){for(var n=[],r=0;r<e;r++){var i=t.min%1==0?P3.math.randomInt(t.min,t.max):Math.round(10*P3.math.random(t.min,t.max))/10;n.push(Math.round(10*i)/10)}return n}},{key:"_generateMeasurementLabel",value:function(t,e){for(var n=[],r=0;r<t.labels.length;++r){var i=t.labels[r],a=P3.math.randomInt(i.range.min,i.range.max);n.push(new o.a(a,"",i.value,e.short))}return n}},{key:"generateOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=1e3,o=[t.answer],a=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)},s=function(t){if(!isFinite(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}(t.answer.value);switch(t.type){default:for(var u=function(){var e,n,r=(e=Math.min(-10,-t.answer.value),n=Math.max(10,t.answer.value),Math.abs(a(t.answer.value+P3.math.random(e,n),s)));o.every(function(t){return t.value!==r})&&o.push(new i.a(r))};o.length<e&&n-- >0;)u();return P3.utils.shuffleArray(o),o;case r.a.TYPE_AREA_PARALLELOGRAM:for(var l=function(){var e=Math.abs(t.answer.value+P3.math.randomInt(-5,5));o.every(function(t){return t.value!==e})&&o.push(new i.a(e))};o.length<e&&n-- >0;)l();return P3.utils.shuffleArray(o),o;case r.a.TYPE_COVERSION_X_IN_Y:for(var c=function(){var e,n,r=(e=Math.min(-10,-t.answer.value),n=Math.max(10,t.answer.value),Math.abs(a(t.answer.value+P3.math.random(e,n),s)));o.every(function(t){return t.value!==r})&&o.push(new h(r,t.units[t.reversed?1:0].short))};o.length<e&&n-- >0;)c();return P3.utils.shuffleArray(o),o;case r.a.TYPE_COVERSION_PERCENT_OF_X:for(var f=function(){var e,n,r=(e=Math.min(-10,-t.answer.value),n=Math.max(10,t.answer.value),Math.abs(a(t.answer.value+P3.math.random(e,n),s)));o.every(function(t){return t.value!==r})&&o.push(new h(r,t.units[0].short))};o.length<e&&n-- >0;)f();return P3.utils.shuffleArray(o),o;case r.a.TYPE_COVERSION_SUBTRACTION:for(var d=function(){var e,n,r,i=(e=Math.log(t.answer.value)*Math.LOG10E+1|0,n=Math.min(-10,-t.answer.value),r=Math.max(10,t.answer.value),e<3?Math.abs(a(t.answer.value+P3.math.random(n,r),s)):Math.abs(Math.round(t.answer.value+P3.math.random(n,r)/100*100))),u=3===t.part?t.units[1].short:t.units[0].short;o.every(function(t){return t.value!==i})&&o.push(new h(i,u))};o.length<e&&n-- >0;)d();return P3.utils.shuffleArray(o),o;case r.a.TYPE_COVERSION_ADDITION:for(var p=function(){var e,n,r=(e=Math.min(-10,-t.answer.value),n=Math.max(10,t.answer.value),Math.abs(a(t.answer.value+P3.math.random(e,n),s)));o.every(function(t){return t.value!==r})&&o.push(new h(r,t.units[1].short))};o.length<e&&n-- >0;)p();return P3.utils.shuffleArray(o),o;case r.a.TYPE_COVERSION_MULTIPLICATION:for(var _=function(){var e=void 0,n=function(){e=t.units[P3.math.randomInt(0,t.units.length-2)];var n=Math.min(-10,-t.values[0].value),r=Math.max(10,t.values[0].value);return Math.abs(a(t.values[0].value+P3.math.random(n*e.conversion,r*e.conversion),s))}();o.every(function(t){return t.value!==n})&&o.push(new h(n,e.short))};o.length<e&&n-- >0;)_();return P3.utils.shuffleArray(o),o;case r.a.TYPE_COVERSION_EQUIVALENT:var m=function(){o=[];var r=P3.utils.copyObject(t.units);r.splice(r.length-1,1);for(var i=function(){var e=void 0,n=function(){e=r[P3.math.randomInt(0,r.length-1)];var n=Math.min(-10,-t.values[0].value),i=Math.max(10,t.values[0].value);return Math.abs(a(t.values[0].value+P3.math.random(n*e.conversion,i*e.conversion),s))}();o.every(function(t){return t.value!==n})&&o.push(new h(n,e.short))};o.length<e&&n-- >0;)i();return P3.utils.shuffleArray(o),{v:o}}();if("object"===k(m))return m.v;case r.a.TYPE_LIQUID_MEASUREMENT:for(var y=function(){var e,n,r=(e=Math.min(0),n=Math.max(t.values[0].value),0===t.difficulty?5*Math.ceil(P3.math.random(e,n)/5):Math.abs(a(P3.math.random(e,n),s))),i=t.units[1].short;o.every(function(t){return t.value!==r})&&o.push(new h(r,i))};o.length<e&&n-- >0;)y();return P3.utils.shuffleArray(o),o}}}])&&L(e.prototype,n),s}()},function(t,e,n){"use strict";var r=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,r.a);var e,n,i=s(u);function u(t,e){var n;return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(n=i.call(this,t))._measurentCharacter=e,n}return e=u,(n=[{key:"toString",value:function(){return""+this.value+this._measurentCharacter}}])&&o(e.prototype,n),u}(),c=n(8);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(o,r.a);var e,n,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(o);function o(t,e){var n;return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(n=i.call(this,t))._texture=e,n}return e=o,(n=[{key:"texture",get:function(){return this._texture}}])&&f(e.prototype,n),o}(),m=n(1),y=n(41),v=n(71),g=n(100);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return P});var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(o,c.a);var e,n,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=E(t);if(e){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(o);function o(){return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),i.call(this)}return e=o,(n=[{key:"create",value:function(t){var e=x(E(o.prototype),"create",this).call(this,t);switch(e.useWords=!1,t.type){case m.a.TYPE_SHAPE_SYMMETRY:case m.a.TYPE_SHAPE_VISUAL_ISOSCELES:case m.a.TYPE_SHAPE_PERPENDICULAR_LINES:case m.a.TYPE_SHAPE_PARALLEL_LINES:case m.a.TYPE_SHAPE_SIDES_UNDER_FOUR:case m.a.TYPE_SHAPE_SIDES_EQUAL_FOUR:case m.a.TYPE_SHAPE_VISUAL_RIGHT_ANGLE:this._selectShapes(t,e);break;case m.a.TYPE_SHAPE_ODD_ONE_OUT:this._oddOneOut(t,e);break;case m.a.TYPE_MISSING_ANGLE:this._missingAngle(t,e);break;case m.a.TYPE_FIXED_TRIANGLE:this._fixedTriangle(t,e);break;case m.a.TYPE_VOLUME:this._volume(t,e);break;case m.a.TYPE_SHAPE_ANGLE_TYPE:this._angleType(t,e);break;case m.a.TYPE_SHAPE_SYMMETRY_LINES:this._symmetryLines(t,e);break;case m.a.TYPE_SHAPE_VERTICES:this._vertices(t,e);break;case m.a.TYPE_SHAPE_ROTATED_SHAPE:this._rotatedShape(t,e);break;case m.a.TYPE_DIAMETER:this._diameter(t,e);break;case m.a.TYPE_FACES:this._faces(t,e)}return e.xp=t.xp,e}},{key:"_oddOneOut",value:function(t,e){var n=P3.utils.selectRandom(t.correct);e.values.push(new _(1,n.image)),e.options=[e.values[0]],e.part=[0];for(var r=t.shapes.slice();e.options.length<Math.min(4,e.options.length+t.shapes.length);){var i=P3.utils.selectRandom(r);r.splice(r.indexOf(i),1),e.options.push(new _(0,i.image))}P3.utils.shuffleArray(e.options)}},{key:"_selectShapes",value:function(t,e){for(var n=P3.utils.copyObject(t,!0),r=P3.math.randomInt(1,Math.min(3,n.correct.length)),i=n.correct.slice(),o=0;o<r;o++){var a=P3.utils.selectRandom(i);i.splice(i.indexOf(a),1);var s=new _(1,a.image);a.hasOwnProperty("rotation")&&(s.rotation=a.rotation),e.values.push(s)}e.part=[],e.options=[],e.totalCorrect=r;for(var u=0;u<r;u++)e.part.push(u);for(var l=0;l<e.values.length;l++)e.options.push(e.values[l]);for(var c=n.shapes.slice();e.options.length<Math.min(5,e.options.length+n.shapes.length);){var h=P3.utils.selectRandom(c);c.splice(c.indexOf(h),1),e.options.push(new _(0,h.image))}P3.utils.shuffleArray(e.options)}},{key:"_missingAngle",value:function(t,e){var n=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)},r=P3.utils.selectRandom(t.variations),i=r.max_angle,o=r.values;e.values=[];var a=i,s=r.range;if(2===o){var u=1===t.difficulty?P3.math.randomInt(s.min,s.max):P3.math.random(s.min,s.max);u=parseFloat(n(u,1)),e.values.push(new y.a(a-u,P3.assets.texture(r.texture),r.labels[0])),e.values.push(new y.a(u,P3.assets.texture(r.texture),r.labels[0]))}else if(3===o&&3!==t.difficulty){var c=1===t.difficulty?P3.math.randomInt(s.min,s.max):P3.math.random(s.min,s.max);c=parseFloat(n(c,1)),e.values.push(new y.a(c,P3.assets.texture(r.texture),r.labels[0])),e.values.push(new y.a(c,P3.assets.texture(r.texture),r.labels[1])),e.values.push(new y.a(a-2*c,P3.assets.texture(r.texture),r.labels[0]))}else{var h=P3.math.randomInt(s.min,s.max),f=180-h-P3.math.randomInt(5,180-h-10),d=180-h-(f=parseFloat(n(f,1)));d=parseFloat(n(d,1)),e.values.push(new y.a(f,P3.assets.texture(r.texture),r.labels[0])),e.values.push(new y.a(d,P3.assets.texture(r.texture),r.labels[1])),e.values.push(new y.a(h,P3.assets.texture(r.texture),r.labels[0]))}e.difficulty=t.difficulty,e.part=o-1;for(var p=[e.answer],_=function(t){if(!isFinite(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}(e.answer.value),m=1e3,v=function(){var r=1===t.difficulty?Math.abs(Math.round(e.answer.value+P3.math.randomInt(-20,20))):Math.abs(n(e.answer.value+P3.math.random(-20,20),_));p.every(function(t){return t.value!==r})&&p.push(new l(r,t.units.short))};p.length<5&&m-- >0;)v();p.splice(0,1),p.push(new l(e.answer.value,t.units.short)),P3.utils.shuffleArray(p),e.options=p,e.notations=[],e.unit=t.units}},{key:"_fixedTriangle",value:function(t,e){var n=P3.utils.selectRandom(t.options);e.temp=new r.a(n.question);for(var i=0;i<n.correct.length;i++)e.values.push(new r.a(n.correct[i]));for(var o=["Isosceles","Scalene","Equilateral"],a=0;a<o.length;a++)e.options.push(new r.a(o[a]));P3.utils.shuffleArray(e.options),e.part=n.part}},{key:"_volume",value:function(t,e){var n=P3.math.randomInt(t.range.min,t.range.max);e.values.push(new r.a(n)),e.values.push(new r.a(Math.pow(n,3))),e.part=1;for(var i=[e.answer],o=1e3,a=function(){var t=Math.abs(Math.round(e.answer.value+P3.math.randomInt(-5,5)));i.every(function(e){return e.value!==t})&&i.push(new r.a(t))};i.length<5&&o-- >0;)a();P3.utils.shuffleArray(i),e.options=i}},{key:"_angleType",value:function(t,e){var n=t.options.slice(),r=P3.utils.selectRandom(n);e.useBG=!0,e.part=0,e.values=[new v.a(r.type,r.type,P3.assets.texture(r.texture))],e.options=[e.answer],n.splice(n.indexOf(r),1);for(var i=0;i<n.length;i++)e.options.push(new v.a(n[i].type,n[i].type,P3.assets.texture(n[i].texture)));P3.utils.shuffleArray(e.options)}},{key:"_symmetryLines",value:function(t,e){var n=t.options.slice(),i=P3.utils.selectRandom(n);e.part=0,e.values=[new v.a(i.value,i.value,P3.assets.texture(i.texture))],e.options=[e.answer];for(var o=1e3,a=function(){var t=Math.abs(Math.round(P3.math.randomInt(1,12)));e.options.every(function(e){return e.value!==t})&&e.options.push(new r.a(t))};e.options.length<5&&o-- >0;)a();P3.utils.shuffleArray(e.options)}},{key:"_vertices",value:function(t,e){var n=t.options.slice(),r=P3.utils.selectRandom(n);e.part=0,e.shape=r.name,e.values=[new g.a(r.verts>r.faces?1:0)],e.options=[e.answer,new g.a(!e.answer.value)],P3.utils.shuffleArray(e.options),console.log(e.answer)}},{key:"_rotatedShape",value:function(t,e){var n=P3.utils.selectRandom(t.options);e.values.push(new v.a(n,n,P3.utils.selectRandom(t.shapes))),e.part=0,e.options=[e.answer];for(var i=1e3,o=function(){var t,n,i=(t=Math.max(0,e.answer.value-50),n=Math.min(354,e.answer.value+50),5*Math.ceil(P3.math.randomInt(t,n)/5));e.options.every(function(t){return t.value!==i})&&e.options.push(new r.a(i))};e.options.length<4&&i-- >0;)o();P3.utils.shuffleArray(e.options)}},{key:"_diameter",value:function(t,e){var n,r=P3.utils.selectRandom(t.units),i=P3.utils.selectRandom(P3.utils.objectToArray(t.range));e.values=this._generateMeasurementLabel(i,r),e.part=t.parts,n=2*e.values[0].value,e.values.push(new y.a(parseFloat(n.toFixed(1)),P3.assets.texture(i.texture),"")),e.options=this.generateOptions(e,5),e.notations=i.notations,e.unit=r}},{key:"_faces",value:function(t,e){var n=P3.utils.objectToArray(t.range),i=P3.utils.selectRandom(n);e.values=[new v.a(i.value,i.name,P3.assets.texture(i.image))],e.options=function(t,e){for(var n=P3.utils.objectToArray(t.range),i=[new r.a(t.values[0].value)],o=200,a=function(){var t=P3.utils.selectRandom(n);i.every(function(e){return e.value!==t.value})&&i.push(new r.a(t.value))};i.length<e&&--o>0;)a();return P3.utils.shuffleArray(i),i}(e,t.values),e.hack=!0,console.log(i.value)}},{key:"_generateMeasurementLabel",value:function(t,e){for(var n=[],r=0;r<t.labels.length;++r){var i=t.labels[r],o=P3.math.randomInt(i.range.min,i.range.max);n.push(new y.a(o,"",i.value,e.short))}return n}},{key:"generateOptions",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=1e3,i=[t.answer],o=function(t){if(!isFinite(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}(t.answer.value),a=function(){var e=function(){var e,n,r=Math.min(-10,-t.answer.value),i=Math.max(10,t.answer.value);return Math.abs((e=t.answer.value+P3.math.random(r,i),n=o,Number(Math.round(e+"e"+n)+"e-"+n)))}();i.every(function(t){return t.value!==e})&&i.push(new r.a(e))};i.length<e&&n-- >0;)a();return P3.utils.shuffleArray(i),i}}])&&w(e.prototype,n),o}()},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(472);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(a,i.a);var e,n,r=l(a);function a(t){return function(t,e){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.call(this,t)}return e=a,(n=[{key:"toString",value:function(){return Object(o.toRoman)(this._value)}}])&&s(e.prototype,n),a}(),f=n(8);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(81),n.d(e,"a",function(){return v});var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(o,f.a);var e,n,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(o);function o(){return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),i.call(this)}return e=o,(n=[{key:"create",value:function(t){var e=_(y(o.prototype),"create",this).call(this,t),n=0;if(e.type!==r.a.TYPE_DIVISION)for(var i=0;i<t.values-1;++i){var a=P3.math.randomInt(t.range.min,t.range.max);if(e.values.push(new h(a)),0===i)n=a;else switch(t.type){case r.a.TYPE_ADDITION:n+=a;break;case r.a.TYPE_SUBTRACTION:n-=a;break;case r.a.TYPE_MULTIPLICATION:n*=a}}else{n=P3.math.randomInt(t.range.min,t.range.max);var s=P3.math.randomInt(t.range.min,t.range.max),u=n*s;e.values.push(new h(u)),e.values.push(new h(s))}if(e.values.push(new h(n)),e.view!==r.a.VIEW_STATEMENT_MULTI)e.part="number"==typeof t.parts?t.parts:P3.utils.selectRandom(P3.utils.objectToArray(t.parts));else{e.part=[];var l=P3.utils.objectToArray(t.parts),c=P3.math.randomInt(0,l.length-1);e.part.push(l[c]),l.splice(c,1),c=P3.math.randomInt(0,l.length-1),e.part.push(l[c])}return e.options=this.generateOptions(e,t.options||5),e.xp=t.xp,e}},{key:"generateOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=1e3,i=[t.answer];switch(t.type){case r.a.TYPE_ADDITION:for(var o=function(){var e=function(){var e=t.range.max;switch(P3.math.randomInt(0,1)){default:case 0:return t.answer.value+P3.math.randomInt(0,e)}}();i.every(function(t){return t.value!==e})&&i.push(new h(e))};i.length<e&&n-- >0;)o();break;case r.a.TYPE_SUBTRACTION:for(var a=function(){var e,n,r=(e=Math.min(-10,2*-t.answer),n=Math.max(10,.5*t.answer),t.answer.value+P3.math.randomInt(e,n));i.every(function(t){return t.value!==r})&&i.push(new h(r))};i.length<e&&n-- >0;)a();break;case r.a.TYPE_MULTIPLICATION:for(var s=function(){var e=function(){var e=Math.min(t.range.min,-t.answer),n=Math.max(t.range.max,t.answer);switch(P3.math.randomInt(0,1)){default:case 0:return t.answer.value+P3.math.randomInt(e,n)}}();i.every(function(t){return t.value!==e})&&i.push(new h(e))};i.length<e&&n-- >0;)s();break;case r.a.TYPE_DIVISION:for(var u=function(){var e=function(){var e=Math.min(t.range.min,-t.answer),n=Math.max(t.range.max,t.answer);switch(P3.math.randomInt(0,1)){default:case 0:return t.answer.value+P3.math.randomInt(e,n)}}();i.every(function(t){return t.value!==e})&&i.push(new h(e))};i.length<e&&n-- >0;)u()}return P3.utils.shuffleArray(i),i}}])&&p(e.prototype,n),o}()},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(64),a=n(49);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,a.a);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(t,e,n){var o;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(o=r.call(this,t,e))._value/=n,o._denominator2=n,o}return e=i,(n=[{key:"toString",value:function(){return this._numerator+":"+this._denominator+":"+this._denominator2}}])&&u(e.prototype,n),i}(),f=n(8);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return v});var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(u,f.a);var e,n,s=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(u);function u(){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),s.call(this)}return e=u,(n=[{key:"create",value:function(t){var e=_(y(u.prototype),"create",this).call(this,t);return this.generate(e,t),e}},{key:"generate",value:function(t,e){switch(t.type){case r.a.TYPE_RATIO_SIMPLE:this.generateSimple(t,e);break;case r.a.TYPE_RATIO_SIMPLE_TRIPLE:this.generateSimpleTriple(t,e);break;case r.a.TYPE_RATIO_PERCENT:this.generatePercent(t,e);break;case r.a.TYPE_RATIO_FIND_RAT:this.generateFindRatio(t,e);break;case r.a.TYPE_RATIO_FIND_VAL:this.generateFindValue(t,e);break;case r.a.TYPE_RATIO_SIMPLIFY:this.generateSimplifyRatio(t,e)}}},{key:"generateSimple",value:function(t,e){e.numerator_range||(e.numerator_range={min:4,max:8}),e.denominator_range||(e.denominator_range={min:2,max:4});var n=P3.math.randomInt(e.numerator_range.min,e.numerator_range.max),r=P3.math.randomInt(e.denominator_range.min,e.denominator_range.max),o=(new a.a(n,r),P3.math.randomInt(e.range.min,e.range.max));t.values.push(new i.a(n)),t.values.push(new i.a(r));var s=new i.a(r*o);t.values.push(s);var u=new i.a(n*o);t.options.push(u),t.values.push(u),t.part=3;for(var l=100,c=[];l-- >0&&t.options.length<5;){var h=u.value+P3.math.randomInt(-4,10);-1===c.indexOf(h)&&h!==u.value&&(c.push(h),t.options.push(new i.a(h)))}P3.utils.shuffleArray(t.options)}},{key:"generateSimpleTriple",value:function(t,e){var n=P3.math.randomInt(t.range.min,t.range.max),r=P3.math.randomInt(t.range.min,t.range.max),o=P3.math.randomInt(t.range.min,t.range.max),a=new h(n,r,o);t.values.push(a);var s=P3.math.randomInt(2,8);t.values.push(new i.a(n*s)),t.values.push(new i.a(r*s)),t.part=2,t.options.push(t.answer);for(var u=100,l=[t.answer.value];u-- >0&&t.options.length<5;){var c=t.answer.value+P3.math.randomInt(-10,20);-1===l.indexOf(c)&&(l.push(c),t.options.push(new i.a(c)))}P3.utils.shuffleArray(t.options)}},{key:"generatePercent",value:function(t,e){for(var n=100,r=.1;r%1!=0&&n-- >0;){t.values=[],t.options=[];var a=P3.math.randomInt(t.range.min,t.range.max),s=a*Math.round(P3.math.randomInt(2,6));t.values.push(new i.a(s)),t.values.push(new i.a(a));var u=new o.a(s-a,s);r=100*u.value,t.options.push(u),t.values.push(u),t.part=2;for(var l=100,c=[];l-- >0&&t.options.length<5;){var h=P3.math.randomInt(1,9);Math.random()<.3&&(h+=.5);var f=new o.a(h,10);-1===c.indexOf(f.value)&&f.value!==u.value&&(c.push(f.value),t.options.push(f))}P3.utils.shuffleArray(t.options)}}},{key:"generateFindRatio",value:function(t,e){var n=P3.math.randomInt(t.range.min,t.range.max),r=n-P3.math.randomInt(1,Math.floor(.5*n)),o=n-r;t.values.push(new i.a(r)),t.values.push(new i.a(o)),t.values.push(new i.a(n)),t.plural=!0,t.pluralIndices=[],1===r&&(t.plural=!1,t.pluralIndices.push(0)),1===o&&(t.plural=!1,t.pluralIndices.push(1));var s=_(r,o),u=new a.a(s.n,s.d);t.values.push(u),t.part=3,t.options.push(u);for(var l=100,c=[];l-- >0&&t.options.length<5;){var h=Math.abs(r+P3.math.randomInt(-6,6)),f=Math.abs(o+P3.math.randomInt(-6,6));0===h&&(h+=1),0===f&&(f+=1);var d=_(h,f),p=new a.a(d.n,d.d);-1===c.indexOf(p.value)&&p.value!==u.value&&(c.push(p.value),t.options.push(p))}function _(t,e){var n=function t(e,n){return n?t(n,e%n):e};return{n:t/(n=n(t,e)),d:e/n}}P3.utils.shuffleArray(t.options)}},{key:"generateFindValue",value:function(t,e){var n=P3.math.randomInt(t.range.min,t.range.max),r=Math.floor(P3.math.randomInt(1,.5*n)),o=n-r,s=function(t,e){var n=function t(e,n){return n?t(n,e%n):e};return{n:r/(n=n(r,e)),d:e/n}}(0,o);r=s.n,o=s.d;var u=new a.a(r,o);t.values.push(u);var l=(r+o)*n;t.values.push(new i.a(l));var c=l/(r+o),h=new i.a(c*o);t.options.push(h),t.values.push(h),t.part=2;for(var f=100,d=[];f-- >0&&t.options.length<5;){var p=new i.a(Math.abs(h.value+P3.math.randomInt(.5*-t.range.max,.5*t.range.max)));-1===d.indexOf(p.value)&&p.value!==h.value&&0!==p.value&&(d.push(p.value),t.options.push(p))}P3.utils.shuffleArray(t.options)}},{key:"generateSimplifyRatio",value:function(t,e){e.scale||(e.scale={min:2,max:6});var n=P3.math.randomInt(e.scale.min,e.scale.max),r=P3.math.randomInt(t.range.min,t.range.max),o=Math.floor(P3.math.randomInt(2,.5*(r-1))),s=r-o;t.values.push(new i.a(o*n)),t.values.push(new i.a(s*n)),t.values.push(new i.a(r*n));var u=new a.a(o*n,s*n);t.values.push(u);var l=function(t,e){var n=function t(e,n){return n?t(n,e%n):e};return{n:o/(n=n(o,e)),d:e/n}}(0,s),c=new a.a(l.n,l.d);t.values.push(c),t.part=4,t.options.push(c);for(var h=100,f=[];h-- >0&&t.options.length<5;){var d=new a.a(P3.math.randomInt(2,4),P3.math.randomInt(4,8));-1===f.indexOf(d.value)&&d.value!==c.value&&(f.push(d.value),t.options.push(d))}P3.utils.shuffleArray(t.options)}}])&&p(e.prototype,n),u}()},function(t,e,n){"use strict";var r=n(1);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,r.a);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(t,r,i,o,a,s,u){return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),e.call(this,t,r,i,o,a,s,u)}return n}(),u=n(8),l=n(2);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return p});var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(i,u.a);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(){return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),r.call(this)}return e=i,(n=[{key:"create",value:function(t){var e=new s(t.module,t.type,t.view,t.input,t.range,t.template||"generic/default",t.difficulty);return t.option_1&&e.options.push(t.option_1),t.option_2&&e.options.push(t.option_2),t.option_3&&e.options.push(t.option_3),t.option_4&&e.options.push(t.option_4),e.values.push(new l.a(t.result)),e.options.push(new l.a(t.result)),P3.utils.shuffleArray(e.options),e.data=t,e}}])&&h(e.prototype,n),i}()},function(t,e,n){var r=n(22),i=n(19).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){e.f=n(24)},function(t,e,n){var r=n(131)("keys"),i=n(86);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(19).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(22),i=n(21),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(51)(Function.call,n(54).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){var r=n(22),i=n(213).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(53),i=n(66);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(53),i=n(66);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(87),i=n(6),o=n(42),a=n(45),s=n(103),u=n(268),l=n(101),c=n(92),h=n(24)("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,p,_,m,y){u(n,e,p);var v,g,b,w=function(t){if(!f&&t in P)return P[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",T="values"==_,E=!1,P=t.prototype,S=P[h]||P["@@iterator"]||_&&P[_],M=S||w(_),O=_?T?w("entries"):M:void 0,I="Array"==e&&P.entries||S;if(I&&(b=c(I.call(new t)))!==Object.prototype&&b.next&&(l(b,x,!0),r||"function"==typeof b[h]||a(b,h,d)),T&&S&&"values"!==S.name&&(E=!0,M=function(){return S.call(this)}),r&&!y||!f&&!E&&P[h]||a(P,h,M),s[e]=M,s[x]=d,_)if(v={values:T?M:w("values"),keys:m?M:w("keys"),entries:O},y)for(g in v)g in P||o(P,g,v[g]);else i(i.P+i.F*(f||E),e,v);return v}},function(t,e,n){var r=n(222),i=n(66);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(22),i=n(65),o=n(24)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(24)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(103),i=n(24)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(31),i=n(85);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(117),i=n(24)("iterator"),o=n(103);t.exports=n(29).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(39),i=n(89),o=n(25);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(93),i=n(273),o=n(103),a=n(46);t.exports=n(220)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r,i,o=n(136),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,l=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),c=void 0!==/()??/.exec("")[1];(l||c)&&(u=function(t){var e,n,r,i,u=this;return c&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),l&&(e=u.lastIndex),r=a.call(u,t),l&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),c&&r&&r.length>1&&s.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=u},function(t,e,n){"use strict";var r=n(219)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r,i,o,a=n(51),s=n(262),u=n(212),l=n(208),c=n(19),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,_=c.Dispatch,m=0,y={},v=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},g=function(t){v.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},d=function(t){delete y[t]},"process"==n(65)(h)?r=function(t){h.nextTick(a(v,t,1))}:_&&_.now?r=function(t){_.now(a(v,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=g,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",g,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:f,clear:d}},function(t,e,n){"use strict";var r=n(19),i=n(30),o=n(87),a=n(142),s=n(45),u=n(106),l=n(20),c=n(105),h=n(53),f=n(25),d=n(281),p=n(91).f,_=n(31).f,m=n(227),y=n(101),v="prototype",g="Wrong index!",b=r.ArrayBuffer,w=r.DataView,x=r.Math,T=r.RangeError,E=r.Infinity,P=b,S=x.abs,M=x.pow,O=x.floor,I=x.log,k=x.LN2,L=i?"_b":"buffer",A=i?"_l":"byteLength",D=i?"_o":"byteOffset";function R(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,l=u>>1,c=23===e?M(2,-24)-M(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=S(t))!=t||t===E?(i=t!=t?1:0,r=u):(r=O(I(t)/k),t*(o=M(2,-r))<1&&(r--,o*=2),(t+=r+l>=1?c/o:c*M(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(t*o-1)*M(2,e),r+=l):(i=t*M(2,l-1)*M(2,e),r=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*f,a}function C(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-E:E;r+=M(2,e),c-=a}return(l?-1:1)*r*M(2,c-e)}function j(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function Y(t){return[255&t]}function N(t){return[255&t,t>>8&255]}function B(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function F(t){return R(t,52,8)}function H(t){return R(t,23,4)}function V(t,e,n){_(t[v],e,{get:function(){return this[n]}})}function q(t,e,n,r){var i=d(+n);if(i+e>t[A])throw T(g);var o=t[L]._b,a=i+t[D],s=o.slice(a,a+e);return r?s:s.reverse()}function W(t,e,n,r,i,o){var a=d(+n);if(a+e>t[A])throw T(g);for(var s=t[L]._b,u=a+t[D],l=r(+i),c=0;c<e;c++)s[u+c]=l[o?c:e-c-1]}if(a.ABV){if(!l(function(){b(1)})||!l(function(){new b(-1)})||l(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var U,X=(b=function(t){return c(this,b),new P(d(t))})[v]=P[v],G=p(P),z=0;G.length>z;)(U=G[z++])in b||s(b,U,P[U]);o||(X.constructor=b)}var Q=new w(new b(2)),J=w[v].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||u(w[v],{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},!0)}else b=function(t){c(this,b,"ArrayBuffer");var e=d(t);this._b=m.call(new Array(e),0),this[A]=e},w=function(t,e,n){c(this,w,"DataView"),c(t,b,"DataView");var r=t[A],i=h(e);if(i<0||i>r)throw T("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw T("Wrong length!");this[L]=t,this[D]=i,this[A]=n},i&&(V(b,"byteLength","_l"),V(w,"buffer","_b"),V(w,"byteLength","_l"),V(w,"byteOffset","_o")),u(w[v],{getInt8:function(t){return q(this,1,t)[0]<<24>>24},getUint8:function(t){return q(this,1,t)[0]},getInt16:function(t){var e=q(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=q(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return j(q(this,4,t,arguments[1]))},getUint32:function(t){return j(q(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return C(q(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return C(q(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){W(this,1,t,Y,e)},setUint8:function(t,e){W(this,1,t,Y,e)},setInt16:function(t,e){W(this,2,t,N,e,arguments[2])},setUint16:function(t,e){W(this,2,t,N,e,arguments[2])},setInt32:function(t,e){W(this,4,t,B,e,arguments[2])},setUint32:function(t,e){W(this,4,t,B,e,arguments[2])},setFloat32:function(t,e){W(this,4,t,H,e,arguments[2])},setFloat64:function(t,e){W(this,8,t,F,e,arguments[2])}});y(b,"ArrayBuffer"),y(w,"DataView"),s(w[v],a.VIEW,!0),e.ArrayBuffer=b,e.DataView=w},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(286)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n(236))&&r.__esModule?r:{default:r},a=n(15),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new o.default;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new o.default;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y;return e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(n*this.a+r*this.c),this.ty=e-(n*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),s=Math.atan2(n,e),u=Math.abs(o+s);return u<1e-5||Math.abs(a.PI_2-u)<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(15),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(o),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=n-e,this.y=r,this.height=i-r},r(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e){var n=null,r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!n){var i=Object.keys(r);n={};for(var o=0;o<i.length;++o){var a=i[o];n[t[a]]=r[a]}}return n[e]}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(35),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:((t=t||new r.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[2])<e?o:e,n=(a=t[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[4])<e?o:e,n=(a=t[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[6])<e?o:e,n=(a=t[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){var o=t.worldTransform,a=o.a,s=o.b,u=o.c,l=o.d,c=o.tx,h=o.ty,f=this.minX,d=this.minY,p=this.maxX,_=this.maxY,m=a*e+u*n+c,y=s*e+l*n+h;f=m<f?m:f,d=y<d?y:d,p=m>p?m:p,_=y>_?y:_,f=(m=a*r+u*n+c)<f?m:f,d=(y=s*r+l*n+h)<d?y:d,p=m>p?m:p,_=y>_?y:_,f=(m=a*e+u*i+c)<f?m:f,d=(y=s*e+l*i+h)<d?y:d,p=m>p?m:p,_=y>_?y:_,f=(m=a*r+u*i+c)<f?m:f,d=(y=s*r+l*i+h)<d?y:d,p=m>p?m:p,_=y>_?y:_,this.minX=f,this.minY=d,this.maxX=p,this.maxY=_},t.prototype.addVertices=function(t,e,n,r){for(var i=t.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=this.minX,f=this.minY,d=this.maxX,p=this.maxY,_=n;_<r;_+=2){var m=e[_],y=e[_+1],v=o*m+s*y+l,g=u*y+a*m+c;h=v<h?v:h,f=g<f?g:f,d=v>d?v:d,p=g>p?g:p}this.minX=h,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t}();e.default=i},function(t,e,n){var r,i,o,a,s,u,l,c,h,f,d,p,_,m,y,v,g,b,w,x,T;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */a=/iPhone/i,s=/iPod/i,u=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,h=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,f=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/Windows Phone/i,p=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,_=/BlackBerry/i,m=/BB10/i,y=/Opera Mini/i,v=/(CriOS|Chrome)(?=.*\bMobile\b)/i,g=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),w=function(t,e){return t.test(e)},x=function(t){var e=t||navigator.userAgent,n=e.split("[FBAN");if(void 0!==n[1]&&(e=n[0]),void 0!==(n=e.split("Twitter"))[1]&&(e=n[0]),this.apple={phone:w(a,e),ipod:w(s,e),tablet:!w(a,e)&&w(u,e),device:w(a,e)||w(s,e)||w(u,e)},this.amazon={phone:w(h,e),tablet:!w(h,e)&&w(f,e),device:w(h,e)||w(f,e)},this.android={phone:w(h,e)||w(l,e),tablet:!w(h,e)&&!w(l,e)&&(w(f,e)||w(c,e)),device:w(h,e)||w(f,e)||w(l,e)||w(c,e)},this.windows={phone:w(d,e),tablet:w(p,e),device:w(d,e)||w(p,e)},this.other={blackberry:w(_,e),blackberry10:w(m,e),opera:w(y,e),firefox:w(g,e),chrome:w(v,e),device:w(_,e)||w(m,e)||w(y,e)||w(g,e)||w(v,e)},this.seven_inch=w(b,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},T=function(){var t=new x;return t.Class=x,t},t.exports&&"undefined"==typeof window?t.exports=x:t.exports&&"undefined"!=typeof window?t.exports=T():(i=[],void 0===(o="function"==typeof(r=this.isMobile=T())?r.apply(e,i):r)||(t.exports=o))},function(t,e,n){"use strict";e.__esModule=!0;var r=n(35),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,n=this.worldTransform,r=this.localTransform;n.a=r.a*e.a+r.b*e.c,n.b=r.a*e.b+r.b*e.d,n.c=r.c*e.a+r.d*e.c,n.d=r.c*e.b+r.d*e.d,n.tx=r.tx*e.a+r.ty*e.c+e.tx,n.ty=r.tx*e.b+r.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,s,u,l,c,d,_,m=e&&e.length,y=m?e[0]*n:t.length,v=i(t,0,y,n,!0),g=[];if(!v)return g;if(m&&(v=function(t,e,n,r){var a,s,u,l=[];for(a=0,s=e.length;a<s;a++)(u=i(t,e[a]*r,a<s-1?e[a+1]*r:t.length,r,!1))===u.next&&(u.steiner=!0),l.push(p(u));for(l.sort(h),a=0;a<l.length;a++)f(l[a],n),n=o(n,n.next);return n}(t,e,v,n)),t.length>80*n){r=u=t[0],s=l=t[1];for(var b=n;b<y;b+=n)(c=t[b])<r&&(r=c),(d=t[b+1])<s&&(s=d),c>u&&(u=c),d>l&&(l=d);_=0!==(_=Math.max(u-r,l-s))?1/_:0}return a(v,g,n,r,s,_),g}function i(t,e,n,r,i){var o,a;if(i===P(t,e,n,r)>0)for(o=e;o<n;o+=r)a=x(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=x(o,t[o],t[o+1],a);return a&&v(a,a.next)&&(T(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!v(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(T(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,h,f){if(t){!f&&h&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,h);for(var p,_,m=t;t.prev!==t.next;)if(p=t.prev,_=t.next,h?u(t,r,i,h):s(t))e.push(p.i/n),e.push(t.i/n),e.push(_.i/n),T(t),t=_.next,m=_.next;else if((t=_)===m){f?1===f?a(t=l(t,e,n),e,n,r,i,h,2):2===f&&c(t,e,n,r,i,h):a(o(t),e,n,r,i,h,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(y(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(_(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=d(s,u,e,n,r),f=d(l,c,e,n,r),p=t.prevZ,m=t.nextZ;p&&p.z>=h&&m&&m.z<=f;){if(p!==t.prev&&p!==t.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,m!==t.prev&&m!==t.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=f;){if(m!==t.prev&&m!==t.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!v(i,o)&&g(i,r,r.next,o)&&b(i,o)&&b(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),T(r),T(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&m(u,l)){var c=w(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,e,n,r,i,s),void a(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function h(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&_(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&b(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=w(e,t);o(n,n.next)}}function d(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function _(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&g(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function y(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function v(t,e){return t.x===e.x&&t.y===e.y}function g(t,e,n,r){return!!(v(t,e)&&v(n,r)||v(t,r)&&v(n,e))||y(t,e,n)>0!=y(t,e,r)>0&&y(n,r,t)>0!=y(n,r,e)>0}function b(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function w(t,e){var n=new E(t.i,t.x,t.y),r=new E(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function x(t,e,n,r){var i=new E(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(P(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(P(t,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(35),o=n(23),a=n(15),s=l(n(75)),u=l(n(119));function l(t){return t&&t.__esModule?t:{default:t}}var c=new i.Point,h=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._anchor=new i.ObservablePoint(r._onAnchorUpdate,r),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=a.BLEND_MODES.NORMAL,r.shader=null,r.cachedTint=16777215,r.texture=n||s.default.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.pluginName="sprite",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,l=t.trim,c=t.orig,h=this._anchor,f=0,d=0,p=0,_=0;l?(f=(d=l.x-h._x*c.width)+l.width,p=(_=l.y-h._y*c.height)+l.height):(f=(d=-h._x*c.width)+c.width,p=(_=-h._y*c.height)+c.height),u[0]=n*d+i*_+a,u[1]=o*_+r*d+s,u[2]=n*f+i*_+a,u[3]=o*_+r*f+s,u[4]=n*f+i*p+a,u[5]=o*p+r*f+s,u[6]=n*d+i*p+a,u[7]=o*p+r*d+s}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=-r._x*n.width,f=h+n.width,d=-r._y*n.height,p=d+n.height;e[0]=o*h+s*d+l,e[1]=u*d+a*h+c,e[2]=o*f+s*d+l,e[3]=u*d+a*f+c,e[4]=o*f+s*p+l,e[5]=u*p+a*f+c,e[6]=o*h+s*p+l,e[7]=u*p+a*h+c},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0;return c.x>=r&&c.x<r+e&&(i=-n*this.anchor.y,c.y>=i&&c.y<i+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},e.from=function(t){return new e(s.default.from(t))},e.fromFrame=function(t){var n=o.TextureCache[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(n)},e.fromImage=function(t,n,r){return new e(s.default.fromImage(t,n,r))},r(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=h},function(t,e,n){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var r,i=(r=n(703))&&r.__esModule?r:{default:r},o=new i.default;o.autoStart=!0,o.destroy=function(){},e.shared=o,e.Ticker=i.default},function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(306));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;if(!(n instanceof r.default)){var a=arguments[1],s=arguments[2],u=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+s+") instead of the ctor directly."),o=arguments[0],i=null,n=new r.default(a,s,u,l)}var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i));return c.legacyRenderer=o,c.valid=!0,c._updateUvs(),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,n){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,n,i,o){return new e(new r.default(t,n,i,o))},e}(i(n(75)).default);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(23),o={getTintedTexture:function(t,e){var n=t._texture,r="#"+("00000"+(0|(e=o.roundColor(e))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var i=n.tintCache[r],a=void 0;if(i){if(i.tintId===n._updateID)return n.tintCache[r];a=n.tintCache[r]}else a=o.canvas||document.createElement("canvas");if(o.tintMethod(n,e,a),a.tintId=n._updateID,o.convertTintToImage){var s=new Image;s.src=a.toDataURL(),n.tintCache[r]=s}else n.tintCache[r]=a,o.canvas=null;return a},tintWithMultiply:function(t,e,n){var r=n.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(t,e,n){var r=n.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(t,e,n){var r=n.getContext("2d"),o=t._frame.clone(),a=t.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),r.restore();for(var s=(0,i.hex2rgb)(e),u=s[0],l=s[1],c=s[2],h=r.getImageData(0,0,o.width,o.height),f=h.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=l,f[d+2]*=c;r.putImageData(h,0,0)},roundColor:function(t){var e=o.cacheStepsPerColorChannel,n=(0,i.hex2rgb)(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),(0,i.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=n(308))&&r.__esModule?r:{default:r}).default)(),tintMethod:0};o.tintMethod=o.canUseMultiply?o.tintWithMultiply:o.tintWithPerPixel,e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,n=new Uint16Array(e),r=0,i=0;r<e;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(331)),o=a(n(330));function a(t){return t&&t.__esModule?t:{default:t}}var s=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;function l(){}var c=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=l,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,n){h(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){h(t._xhrTypeMap,e,n)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(n)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=n,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(f(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(f(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,n="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(n=e.responseText),0===r&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2==(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var o=document.createElement("div");o.innerHTML=n,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||n;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,u||(u=document.createElement("a")),u.href=t;var n=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&n&&r===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var r=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(r>-1?r:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function h(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}function f(t){return t.toString().replace("object ","")}e.default=c,c.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},c.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},c.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},c.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},c._loadTypeMap={gif:c.LOAD_TYPE.IMAGE,png:c.LOAD_TYPE.IMAGE,bmp:c.LOAD_TYPE.IMAGE,jpg:c.LOAD_TYPE.IMAGE,jpeg:c.LOAD_TYPE.IMAGE,tif:c.LOAD_TYPE.IMAGE,tiff:c.LOAD_TYPE.IMAGE,webp:c.LOAD_TYPE.IMAGE,tga:c.LOAD_TYPE.IMAGE,svg:c.LOAD_TYPE.IMAGE,"svg+xml":c.LOAD_TYPE.IMAGE,mp3:c.LOAD_TYPE.AUDIO,ogg:c.LOAD_TYPE.AUDIO,wav:c.LOAD_TYPE.AUDIO,mp4:c.LOAD_TYPE.VIDEO,webm:c.LOAD_TYPE.VIDEO},c._xhrTypeMap={xhtml:c.XHR_RESPONSE_TYPE.DOCUMENT,html:c.XHR_RESPONSE_TYPE.DOCUMENT,htm:c.XHR_RESPONSE_TYPE.DOCUMENT,xml:c.XHR_RESPONSE_TYPE.DOCUMENT,tmx:c.XHR_RESPONSE_TYPE.DOCUMENT,svg:c.XHR_RESPONSE_TYPE.DOCUMENT,tsx:c.XHR_RESPONSE_TYPE.DOCUMENT,gif:c.XHR_RESPONSE_TYPE.BLOB,png:c.XHR_RESPONSE_TYPE.BLOB,bmp:c.XHR_RESPONSE_TYPE.BLOB,jpg:c.XHR_RESPONSE_TYPE.BLOB,jpeg:c.XHR_RESPONSE_TYPE.BLOB,tif:c.XHR_RESPONSE_TYPE.BLOB,tiff:c.XHR_RESPONSE_TYPE.BLOB,webp:c.XHR_RESPONSE_TYPE.BLOB,tga:c.XHR_RESPONSE_TYPE.BLOB,json:c.XHR_RESPONSE_TYPE.JSON,text:c.XHR_RESPONSE_TYPE.TEXT,txt:c.XHR_RESPONSE_TYPE.TEXT,ttf:c.XHR_RESPONSE_TYPE.BUFFER,otf:c.XHR_RESPONSE_TYPE.BUFFER},c.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=(r=n(337))&&r.__esModule?r:{default:r},a=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var s=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new o.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(d),this.registerFindHook(p),this.registerFindHook(u),this.registerFindHook(l),this.registerFindHook(c),this.registerUploadHook(h),this.registerUploadHook(f)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++)o[s]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},t.prototype.destroy=function(){this.ticking&&a.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function u(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof i.Texture){var o=t._textures[r].baseTexture;-1===e.indexOf(o)&&(e.push(o),n=!0)}return n}function l(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function c(t,e){if(t._texture&&t._texture instanceof i.Texture){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function h(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function f(t,e){if(e instanceof i.TextStyle){var n=e.toFontString();return i.TextMetrics.measureFont(n),!0}return!1}function d(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function p(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=s},function(t,e,n){var r=n(790),i=n(791),o=n(792),a=n(793),s=n(794),u=n(795),l=n(796);l.alea=r,l.xor128=i,l.xorwow=o,l.xorshift7=a,l.xor4096=s,l.tychei=u,t.exports=l},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n(5),o=n(17),a=n(27);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,o.a);var e,n,s=h(d);function d(){var t;return function(t,e){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this)).loaded=0,t._bindings={},t._showButton=!1,t._bg=null,t._mapHolder=null,t._mapScaleHolder=null,t._mapCenter=new PIXI.Point,t._map=null,t._isLoaded=!1,t._locationVO=null,t._locationVOFinished=!1,t._bindings.progress=P3.assets.signals.progress.add(function(e){return t.onLoadingProgress(e)}),t._bindings.complete=P3.assets.signals.complete.once(function(e){return t.onLoadingComplete(e)}),t}return e=d,(n=[{key:"init",value:function(){l(f(d.prototype),"init",this).call(this),this._showButton=r.a.location.map_button,this.initMap(),this.initTipPanel()}},{key:"destroy",value:function(){this._bindings.progress.detach(),this._bindings.complete.detach(),this._locationVO&&(this._locationVO.destroy(),this._locationVO=null),l(f(d.prototype),"destroy",this).call(this)}},{key:"resize",value:function(){l(f(d.prototype),"resize",this).call(this),this._bg.width=3*P3.View.width,this._bg.height=3*P3.View.height}},{key:"update",value:function(){l(f(d.prototype),"update",this).call(this),100!==Math.round(100*this.loaded)||this._isLoaded||(this._isLoaded=!0,this.animateIn())}},{key:"appear",value:function(){var t=this;"string"!=typeof r.a.location.audio.vo?this._locationVO=P3.audio.playVO(r.a.location.audio.vo[r.a.difficulty.level],1,!0):this._locationVO=P3.audio.playVO(r.a.location.audio.vo,1,!0),this._locationVO&&this._showButton&&(Object(a.d)()||Object(a.e)()?(this._locationVOFinished=!0,this.setAllButtonsEnabled(!1),this._isLoaded&&this.signals.next.dispatch(this)):this._locationVO.signals.end.once(function(){t._locationVOFinished=!0,t.setAllButtonsEnabled(!1),t._isLoaded&&t.signals.next.dispatch(t)}))}},{key:"animateIn",value:function(){var t=this;if(null!==this.parent){var e=r.a.gmi.getAllSettings();if(this._showButton){if(e.motion){var n=new PIXI.Point(r.a.location.map.x-.5*this._map.texture.width,r.a.location.map.y-.5*this._map.texture.width);new P3.utils.TWEEN.Tween(this._mapScaleHolder.scale,this._tweens).to({x:1,y:1},4e3).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).start(),new P3.utils.TWEEN.Tween(this._mapHolder,this._tweens).to({x:this._mapCenter.x-n.x,y:this._mapCenter.y-n.y},4e3).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).start()}}else if(e.motion){var i=new PIXI.Point(r.a.location.map.x-.5*this._map.texture.width,r.a.location.map.y-.5*this._map.texture.width);new P3.utils.TWEEN.Tween(this._mapScaleHolder.scale,this._tweens).to({x:.74,y:.74},988).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).repeat(1).yoyo(!0).start(),new P3.utils.TWEEN.Tween(this._mapHolder,this._tweens).to({x:this._mapCenter.x-i.x,y:this._mapCenter.y-i.y},2e3).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){P3.utils.delayg(t._tweens,1,function(){return t.signals.next.dispatch(t)})}).start()}else P3.utils.delayg(this._tweens,1,function(){return t.signals.next.dispatch(t)});var o=this._tip.y;this._tip.y+=100,new P3.utils.TWEEN.Tween(this._tip,this._tweens).to({y:o},400).easing(P3.utils.TWEEN.Easing.Quadratic.Out).onStart(function(){t._tip.visible=!0}).start()}}},{key:"initTipPanel",value:function(){this._tip=new PIXI.Container,this._tip.position.set(.5*r.a.STAGE_WIDTH,P3.View.height-28),this._tip.visible=!1,this.addChild(this._tip),this._tip.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),88,44,88,44),this._tip.image.width=800,this._tip.image.pivot.set(.5*this._tip.image.width,.5*this._tip.image.height),this._tip.addChild(this._tip.image),this._tip.label=new PIXI.extras.BitmapText("Have your brain, pencil and paper ready!",{font:"34px BBC Reith Sans"}),this._tip.label.position.set(0,-10),this._tip.label.anchor.set(.5),this._tip.label.tint=2831962,this._tip.addChild(this._tip.label)}},{key:"initMap",value:function(){this._mapCenter.set(.5*r.a.STAGE_WIDTH,.5*P3.View.height),this._mapHolder=new PIXI.Container,this._mapHolder.position.set(this._mapCenter.x,this._mapCenter.y),this._mapHolder.interactive=!0,this._mapHolder.hitArea=new PIXI.Rectangle(.5*-Number.MAX_VALUE,.5*-Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this.addChild(this._mapHolder);var t=r.a.gmi.getAllSettings();this._mapScaleHolder=new PIXI.Container,this._mapScaleHolder.scale.set(this._showButton&&t.motion?.6:1),this._mapHolder.addChild(this._mapScaleHolder),this._bg=new PIXI.extras.TilingSprite(P3.assets.texture("wooden_table_texture")),this._bg.anchor.set(.5),this._mapScaleHolder.addChild(this._bg),this._map=new PIXI.Sprite(P3.assets.texture("map_2048")),this._map.anchor.set(.5),this._mapScaleHolder.addChild(this._map)}},{key:"onLoadingProgress",value:function(t){this.loaded=t.progress/100,console.log("loading:",t.progress)}},{key:"onLoadingComplete",value:function(t){var e=this;this.loaded=1,this._showButton&&(this.initSkipButton(0,i.a.POSITION_MIDDLE_LOW,o.a.SIZE_LARGE),this._locationVOFinished&&P3.utils.delayg(this._tweens,2,function(){e.signals.next.dispatch(e)}))}}])&&u(e.prototype,n),d}()},function(t,e,n){t.exports=!n(30)&&!n(20)(function(){return 7!=Object.defineProperty(n(208)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(19),i=n(29),o=n(87),a=n(209),s=n(31).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(44),i=n(46),o=n(132)(!1),a=n(210)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(31),i=n(21),o=n(88);t.exports=n(30)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(46),i=n(91).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var r=n(30),i=n(88),o=n(133),a=n(116),s=n(39),u=n(115),l=Object.assign;t.exports=!l||n(20)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r})?function(t,e){for(var n=s(t),l=arguments.length,c=1,h=o.f,f=a.f;l>c;)for(var d,p=u(arguments[c++]),_=h?i(p).concat(h(p)):i(p),m=_.length,y=0;m>y;)d=_[y++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:l},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(52),i=n(22),o=n(262),a=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(19).parseInt,i=n(102).trim,o=n(214),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(19).parseFloat,i=n(102).trim;t.exports=1/r(n(214)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(65);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(22),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var r=n(90),i=n(85),o=n(101),a={};n(45)(a,n(24)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(21);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(582);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(52),i=n(39),o=n(115),a=n(25);t.exports=function(t,e,n,s,u){r(e);var l=i(t),c=o(l),h=a(l.length),f=u?h-1:0,d=u?-1:1;if(n<2)for(;;){if(f in c){s=c[f],f+=d;break}if(f+=d,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=d)f in c&&(s=e(s,c[f],f,l));return s}},function(t,e,n){"use strict";var r=n(39),i=n(89),o=n(25);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),h=1;for(u<s&&s<u+c&&(h=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=h,u+=h;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(229);n(6)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(30)&&"g"!=/./g.flags&&n(31).f(RegExp.prototype,"flags",{configurable:!0,get:n(136)})},function(t,e,n){"use strict";var r,i,o,a,s=n(87),u=n(19),l=n(51),c=n(117),h=n(6),f=n(22),d=n(52),p=n(105),_=n(139),m=n(118),y=n(231).set,v=n(602)(),g=n(277),b=n(603),w=n(140),x=n(278),T=u.TypeError,E=u.process,P=E&&E.versions,S=P&&P.v8||"",M=u.Promise,O="process"==c(E),I=function(){},k=i=g.f,L=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n(24)("species")]=function(t){t(I,I)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==S.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),A=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;v(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&j(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?l(T("Promise-chain cycle")):(o=A(n))?o.call(n,u,l):u(n)):l(r)}catch(t){c&&!a&&c.exit(),l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){y.call(u,function(){var e,n,r,i=t._v,o=C(t);if(o&&(e=b(function(){O?E.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=O||C(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},C=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){y.call(u,function(){var e;O?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},Y=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(e=A(t))?v(function(){var r={_w:n,_d:!1};try{e.call(t,l(N,r,1),l(Y,r,1))}catch(t){Y.call(r,t)}}):(n._v=t,n._s=1,D(n,!1))}catch(t){Y.call({_w:n,_d:!1},t)}}};L||(M=function(t){p(this,M,"Promise","_h"),d(t),r.call(this);try{t(l(N,this,1),l(Y,this,1))}catch(t){Y.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(106)(M.prototype,{then:function(t,e){var n=k(m(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(N,t,1),this.reject=l(Y,t,1)},g.f=k=function(t){return t===M||t===a?new o(t):i(t)}),h(h.G+h.W+h.F*!L,{Promise:M}),n(101)(M,"Promise"),n(104)("Promise"),a=n(29).Promise,h(h.S+h.F*!L,"Promise",{reject:function(t){var e=k(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!L),"Promise",{resolve:function(t){return x(s&&this===a?M:this,t)}}),h(h.S+h.F*!(L&&n(135)(function(t){M.all(t).catch(I)})),"Promise",{all:function(t){var e=this,n=k(e),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;_(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=k(e),r=n.reject,i=b(function(){_(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(52);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){var r=n(21),i=n(22),o=n(277);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(31).f,i=n(90),o=n(106),a=n(51),s=n(105),u=n(139),l=n(220),c=n(273),h=n(104),f=n(30),d=n(74).fastKey,p=n(94),_=f?"_s":"size",m=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[_]=0,null!=r&&u(r,n,t[l],t)});return o(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[_]=0},delete:function(t){var n=p(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[_]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(p(this,e),t)}}),f&&r(c.prototype,"size",{get:function(){return p(this,e)[_]}}),c},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[_]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(106),i=n(74).getWeak,o=n(21),a=n(22),s=n(105),u=n(139),l=n(56),c=n(44),h=n(94),f=l(5),d=l(6),p=0,_=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},y=function(t,e){return f(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=r&&u(r,n,t[o],t)});return r(l.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?_(h(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?_(h(this,e)).has(t):n&&c(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?_(t).set(e,n):r[t._i]=n,t},ufstore:_}},function(t,e,n){var r=n(53),i=n(25);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(91),i=n(133),o=n(21),a=n(19).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(25),i=n(216),o=n(66);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,l=void 0===n?" ":String(n),c=r(e);if(c<=u||""==l)return s;var h=c-u,f=i.call(l,Math.ceil(h/l.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},function(t,e,n){var r=n(30),i=n(88),o=n(46),a=n(116).f;t.exports=function(t){return function(e){for(var n,s=o(e),u=i(s),l=u.length,c=0,h=[];l>c;)n=u[c++],r&&!a.call(s,n)||h.push(t?[n,s[n]]:s[n]);return h}}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=r,this._y=i,this.cb=e,this.scope=n}return t.prototype.set=function(t,e){var n=t||0,r=e||(0!==e?n:0);this._x===n&&this._y===r||(this._x=n,this._y=r,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},r(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(237))&&r.__esModule?r:{default:r},o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],s=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];function h(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var n=0;n<16;n++)for(var r=h(o[t]*o[n]+s[t]*a[n]),f=h(a[t]*o[n]+u[t]*a[n]),d=h(o[t]*s[n]+s[t]*u[n]),p=h(a[t]*s[n]+u[t]*u[n]),_=0;_<16;_++)if(o[_]===r&&a[_]===f&&s[_]===d&&u[_]===p){e.push(_);break}}for(var m=0;m<16;m++){var y=new i.default;y.set(o[m],a[m],s[m],u[m],0,0),l.push(y)}}();var f={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return o[t]},uY:function(t){return a[t]},vX:function(t){return s[t]},vY:function(t){return u[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][f.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?f.S:f.N:2*Math.abs(e)<=Math.abs(t)?t>0?f.E:f.W:e>0?t>0?f.SE:f.SW:t>0?f.NE:f.NW},matrixAppendRotationInv:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[f.inv(e)];i.tx=n,i.ty=r,t.append(i)}};e.default=f},function(t,e){t.exports=function(t,e,n){var r;if(n){var i=n.tempAttribState,o=n.attribState;for(r=0;r<i.length;r++)i[r]=!1;for(r=0;r<e.length;r++)i[e[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==i[r]&&(o[r]=i[r],n.attribState[r]?t.enableVertexAttribArray(r):t.disableVertexAttribArray(r))}else for(r=0;r<e.length;r++){var a=e[r];t.enableVertexAttribArray(a.attribute.location)}}},function(t,e){var n=function(t,e,n,r,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=n||-1,this.format=r||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=t.videoWidth||t.width,r=t.videoHeight||t.height;r!==this.height||n!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=n,this.height=r};var r=!1;n.prototype.uploadData=function(t,e,n){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!r){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");r=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||n!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,n,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,n,this.format,this.type,t||null),this.width=e,this.height=n},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},t.exports=n},function(t,e){var n=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)};t.exports=function(t,e,r,i){var o=n(t,t.VERTEX_SHADER,e),a=n(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),i)for(var u in i)t.bindAttribLocation(s,i[u],u);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(o),t.deleteShader(a),s}},function(t,e,n){var r=n(239),i=n(293),o=function(t,e,n,r){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,n||0,r||0)};t.exports=function(t,e){for(var n={},a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var u=t.getActiveAttrib(e,s),l=r(t,u.type);n[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:o}}return n}},function(t,e){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return n[t]}},function(t,e,n){var r=n(239),i=n(295);t.exports=function(t,e){for(var n={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=t.getActiveUniform(e,a),u=s.name.replace(/\[.*?\]/,""),l=r(t,s.type);n[u]={type:l,size:s.size,location:t.getUniformLocation(e,u),value:i(l,s.size)}}return n}},function(t,e){var n=function(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e};t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return n(2*e);case"bvec3":return n(3*e);case"bvec4":return n(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var n=function(t){return function(){return this.data[t].value}},r={float:function(t,e,n){t.uniform1f(e,n)},vec2:function(t,e,n){t.uniform2f(e,n[0],n[1])},vec3:function(t,e,n){t.uniform3f(e,n[0],n[1],n[2])},vec4:function(t,e,n){t.uniform4f(e,n[0],n[1],n[2],n[3])},int:function(t,e,n){t.uniform1i(e,n)},ivec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},ivec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},ivec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},bool:function(t,e,n){t.uniform1i(e,n)},bvec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},bvec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},bvec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},mat2:function(t,e,n){t.uniformMatrix2fv(e,!1,n)},mat3:function(t,e,n){t.uniformMatrix3fv(e,!1,n)},mat4:function(t,e,n){t.uniformMatrix4fv(e,!1,n)},sampler2D:function(t,e,n){t.uniform1i(e,n)}},i={float:function(t,e,n){t.uniform1fv(e,n)},vec2:function(t,e,n){t.uniform2fv(e,n)},vec3:function(t,e,n){t.uniform3fv(e,n)},vec4:function(t,e,n){t.uniform4fv(e,n)},int:function(t,e,n){t.uniform1iv(e,n)},ivec2:function(t,e,n){t.uniform2iv(e,n)},ivec3:function(t,e,n){t.uniform3iv(e,n)},ivec4:function(t,e,n){t.uniform4iv(e,n)},bool:function(t,e,n){t.uniform1iv(e,n)},bvec2:function(t,e,n){t.uniform2iv(e,n)},bvec3:function(t,e,n){t.uniform3iv(e,n)},bvec4:function(t,e,n){t.uniform4iv(e,n)},sampler2D:function(t,e,n){t.uniform1iv(e,n)}};function o(t,e){return function(n){this.data[t].value=n;var o=this.data[t].location;1===e.size?r[e.type](this.gl,o,n):i[e.type](this.gl,o,n)}}function a(t,e){for(var n=e,r=0;r<t.length-1;r++){var i=n[t[r]]||{data:{}};n[t[r]]=i,n=i}return n}t.exports=function(t,e){var r={data:{}};r.gl=t;for(var i=Object.keys(e),s=0;s<i.length;s++){var u=i[s],l=u.split("."),c=l[l.length-1],h=a(l,r),f=e[u];h.data[c]=f,h.gl=t,Object.defineProperty(h,c,{get:n(c),set:o(c,f)})}return r}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(96)),o=n(15),a=h(n(33)),s=h(n(299)),u=h(n(300)),l=h(n(240)),c=n(35);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),r=a.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?s.default:u.default;return n.tempDisplayObjectParent=null,n.transform=new r,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new l.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._destroyed=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new c.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=n,this.transform=e,r},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(35),a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.position=new o.ObservablePoint(n.onChange,n,0,0),n.scale=new o.ObservablePoint(n.onChange,n,1,1),n.pivot=new o.ObservablePoint(n.onChange,n,0,0),n.skew=new o.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((r=n(242))&&r.__esModule?r:{default:r}).default);e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(35),a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.position=new o.Point(0,0),n.scale=new o.Point(1,1),n.skew=new o.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new o.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((r=n(242))&&r.__esModule?r:{default:r}).default);e.default=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,o||(o=document.createElement("a")),o.href=t;var n=!(t=i.default.parse(o.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&n&&t.protocol===e.protocol?"":"anonymous"};var r,i=(r=n(302))&&r.__esModule?r:{default:r},o=void 0},function(t,e,n){"use strict";var r=n(698),i=n(699);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=g,e.resolve=function(t,e){return g(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?g(t,!1,!0).resolveObject(e):e},e.format=function(t){return i.isString(t)&&(t=g(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(700);function g(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(s);l[0]=l[0].replace(/\\/g,"/");var g=t=l.join(s);if(g=g.trim(),!n&&1===t.split("#").length){var b=u.exec(g);if(b)return this.path=g,this.href=g,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(g);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,g=g.substr(w.length)}if(n||w||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===g.substr(0,2);!T||w&&m[w]||(g=g.substr(2),this.slashes=!0)}if(!m[w]&&(T||w&&!y[w])){for(var E,P,S=-1,M=0;M<f.length;M++)-1!==(O=g.indexOf(f[M]))&&(-1===S||O<S)&&(S=O);for(-1!==(P=-1===S?g.lastIndexOf("@"):g.lastIndexOf("@",S))&&(E=g.slice(0,P),g=g.slice(P+1),this.auth=decodeURIComponent(E)),S=-1,M=0;M<h.length;M++){var O;-1!==(O=g.indexOf(h[M]))&&(-1===S||O<S)&&(S=O)}-1===S&&(S=g.length),this.host=g.slice(0,S),g=g.slice(S),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var k=this.hostname.split(/\./),L=(M=0,k.length);M<L;M++){var A=k[M];if(A&&!A.match(d)){for(var D="",R=0,C=A.length;R<C;R++)A.charCodeAt(R)>127?D+="x":D+=A[R];if(!D.match(d)){var j=k.slice(0,M),Y=k.slice(M+1),N=A.match(p);N&&(j.push(N[1]),Y.unshift(N[2])),Y.length&&(g="/"+Y.join(".")+g),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!_[x])for(M=0,L=c.length;M<L;M++){var H=c[M];if(-1!==g.indexOf(H)){var V=encodeURIComponent(H);V===H&&(V=escape(H)),g=g.split(H).join(V)}}var q=g.indexOf("#");-1!==q&&(this.hash=g.substr(q),g=g.slice(0,q));var W=g.indexOf("?");if(-1!==W?(this.search=g.substr(W),this.query=g.substr(W+1),e&&(this.query=v.parse(this.query)),g=g.slice(0,W)):e&&(this.search="",this.query={}),g&&(this.pathname=g),y[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var U=this.search||"";this.path=B+U}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(n[c]=t[c])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var _=n.pathname||"",v=n.search||"";n.path=_+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||g||n.host&&t.pathname,x=w,T=n.pathname&&n.pathname.split("/")||[],E=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===T[0]?T[0]=n.host:T.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),w=w&&(""===p[0]||""===T[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search))return E&&(n.hostname=n.host=T.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!T.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var P=T.slice(-1)[0],S=(n.host||t.host||T.length>1)&&("."===P||".."===P)||""===P,M=0,O=T.length;O>=0;O--)"."===(P=T[O])?T.splice(O,1):".."===P?(T.splice(O,1),M++):M&&(T.splice(O,1),M--);if(!w&&!x)for(;M--;M)T.unshift("..");!w||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),S&&"/"!==T.join("/").substr(-1)&&T.push("");var I,k=""===T[0]||T[0]&&"/"===T[0].charAt(0);return E&&(n.hostname=n.host=k?"":T.length?T.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),(w=w||n.host&&T.length)&&!k&&T.unshift(""),T.length?n.pathname=T.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(107)),o=n(23),a=n(246),s=n(15),u=l(n(301));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw new Error("No video source element specified.");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));return i.width=n.videoWidth,i.height=n.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),n.addEventListener("play",i._onPlayStart.bind(i)),n.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(n.addEventListener("canplay",i._onCanPlay),n.addEventListener("canplaythrough",i._onCanPlay)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&a.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,n){t._pixiId||(t._pixiId="video_"+(0,o.uid)());var r=o.BaseTextureCache[t._pixiId];return r||(r=new e(t,n),i.default.addToCache(r,t._pixiId)),r},e.fromUrl=function(t,n,r){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","");var o=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===r&&0!==o.indexOf("data:")?i.crossOrigin=(0,u.default)(o):r&&(i.crossOrigin="string"==typeof r?r:"anonymous"),Array.isArray(t))for(var a=0;a<t.length;++a)i.appendChild(h(t[a].src||t[a],t[a].mime));else i.appendChild(h(o,t.mime));return i.load(),e.fromVideo(i,n)},r(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function h(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=t,n.type=e,n}e.default=c,c.fromUrls=c.fromUrl},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(288))&&r.__esModule?r:{default:r},o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,n){var r=e.width,o=e.height;if(n){var a=t.width/2/r,s=t.height/2/o,u=t.x/r+a,l=t.y/o+s;n=i.default.add(n,i.default.NW),this.x0=u+a*i.default.uX(n),this.y0=l+s*i.default.uY(n),n=i.default.add(n,2),this.x1=u+a*i.default.uX(n),this.y1=l+s*i.default.uY(n),n=i.default.add(n,2),this.x2=u+a*i.default.uX(n),this.y2=l+s*i.default.uY(n),n=i.default.add(n,2),this.x3=u+a*i.default.uX(n),this.y3=l+s*i.default.uY(n)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(23),o=n(35),a=n(15),s=h(n(33)),u=h(n(119)),l=h(n(247)),c=h(n(96));function h(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(n,r,l,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(n),"number"==typeof r&&(r=Object.assign({width:r,height:l||s.default.RENDER_OPTIONS.height},c)),r=Object.assign({},s.default.RENDER_OPTIONS,r),h.options=r,h.type=a.RENDERER_TYPE.UNKNOWN,h.screen=new o.Rectangle(0,0,r.width,r.height),h.view=r.view||document.createElement("canvas"),h.resolution=r.resolution||s.default.RESOLUTION,h.transparent=r.transparent,h.autoResize=r.autoResize||!1,h.blendModes=null,h.preserveDrawingBuffer=r.preserveDrawingBuffer,h.clearBeforeRender=r.clearBeforeRender,h.roundPixels=r.roundPixels,h._backgroundColor=0,h._backgroundColorRgba=[0,0,0,0],h._backgroundColorString="#000000",h.backgroundColor=r.backgroundColor||h._backgroundColor,h._tempDisplayObjectParent=new u.default,h._lastObjectRendered=h._tempDisplayObjectParent,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,n,r){r=r||t.getLocalBounds();var i=l.default.create(0|r.width,0|r.height,e,n);return f.tx=-r.x,f.ty=-r.y,this.render(t,i,!1,f,!0),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(c.default);e.default=d},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(107)),i=o(n(33));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],a=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,o));return s.resolution=a||i.default.RESOLUTION,s.width=Math.ceil(n),s.height=Math.ceil(r),s.realWidth=s.width*s.resolution,s.realHeight=s.height*s.resolution,s.scaleMode=void 0!==o?o:i.default.SCALE_MODE,s.hasLoaded=!0,s._glRenderTargets={},s._canvasRenderTarget=null,s.valid=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(r.default);e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n(33))&&r.__esModule?r:{default:r},a=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||o.default.RESOLUTION,this.resize(e,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=a},function(t,e,n){"use strict";function r(t){var e=document.createElement("canvas");e.width=6,e.height=1;var n=e.getContext("2d");return n.fillStyle=t,n.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=r("#ff00ff"),e=r("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;var i=n.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(310)),i=n(35),o=(n(57),a(n(311)));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return n.renderable=!1,o.maskSprite=n,o.maskMatrix=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){var r=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new o.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(i.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,n))},e}(r.default);e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(710)),o=n(23),a=n(15),s=u(n(33));function u(t){return t&&t.__esModule?t:{default:t}}var l={},c=function(){function t(e,n,r){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=r||(0,i.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},l[this.vertexSrc+this.fragmentSrc]||(l[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=l[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=s.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},r(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=c},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n(237))&&r.__esModule?r:{default:r},a=new o.default,s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new o.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===n?.5:n}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,r=0;r<t.length;r+=2){var i=t[r],o=t[r+1];e[r]=i*n.a+o*n.c+n.tx,e[r+1]=i*n.b+o*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=e.orig,i=e.trim;i&&(a.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(e._frame.x+u+l)/o.width,s[1]=(e._frame.y+u+l)/o.height,s[2]=(e._frame.x+e._frame.width-u+l)/o.width,s[3]=(e._frame.y+e._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(47)),i=o(n(249));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=r.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(e,n)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(15),o=n(23),a={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),c(this,e,e)}return t.prototype.clone=function(){var e={};return c(e,this,a),new t(e)},t.prototype.reset=function(){c(this,a,a)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var r=e[n].trim();/([\"\'])[^\'\"]+\1/.test(r)||(r='"'+r+'"'),e[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},r(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=l(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=l(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=l(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function u(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function l(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=u(t[e]);return t}return u(t)}function c(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e,n,r,i,o,a,s,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=n,this.width=r,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l}return t.measureText=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;r=r||n.wordWrap;var o=n.toFontString(),a=t.measureFont(o),s=i.getContext("2d");s.font=o;for(var u=(r?t.wordWrap(e,n,i):e).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),c=0,h=0;h<u.length;h++){var f=s.measureText(u[h]).width+(u[h].length-1)*n.letterSpacing;l[h]=f,c=Math.max(c,f)}var d=c+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||a.fontSize+n.strokeThickness,_=Math.max(p,a.fontSize+n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(_+=n.dropShadowDistance),new t(e,n,d,_,u,l,p+n.leading,c,a)},t.wordWrap=function(e,n){for(var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),i=0,o="",a="",s={},u=n.letterSpacing,l=n.whiteSpace,c=t.collapseSpaces(l),h=t.collapseNewlines(l),f=!c,d=n.wordWrapWidth+u,p=t.tokenize(e),_=0;_<p.length;_++){var m=p[_];if(t.isNewline(m)){if(!h){a+=t.addLine(o),f=!c,o="",i=0;continue}m=" "}if(c){var y=t.isBreakingSpace(m),v=t.isBreakingSpace(o[o.length-1]);if(y&&v)continue}var g=t.getFromCache(m,u,s,r);if(g>d)if(""!==o&&(a+=t.addLine(o),o="",i=0),t.canBreakWords(m,n.breakWords))for(var b=m.split(""),w=0;w<b.length;w++){for(var x=b[w],T=1;b[w+T];){var E=b[w+T],P=x[x.length-1];if(t.canBreakChars(P,E,m,w,n.breakWords))break;x+=E,T++}w+=x.length-1;var S=t.getFromCache(x,u,s,r);S+i>d&&(a+=t.addLine(o),f=!1,o="",i=0),o+=x,i+=S}else{o.length>0&&(a+=t.addLine(o),o="",i=0);var M=_===p.length-1;a+=t.addLine(m,!M),f=!1,o="",i=0}else g+i>d&&(f=!1,a+=t.addLine(o),o="",i=0),(o.length>0||!t.isBreakingSpace(m)||f)&&(o+=m,i+=g)}return a+t.addLine(o,!1)},t.addLine=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),n?e+"\n":e},t.getFromCache=function(t,e,n,r){var i=n[t];if(void 0===i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r="";if("string"!=typeof e)return n;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(""!==r&&(n.push(r),r=""),n.push(o)):r+=o}return""!==r&&n.push(r),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,r,i){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={},r=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*s;s=s*t.BASELINE_MULTIPLIER|0,r.width=a,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var l=i.getImageData(0,0,a,u).data,c=l.length,h=4*a,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var _=0;_<h;_+=4)if(255!==l[d+_]){p=!0;break}if(p)break;d+=h}for(n.ascent=s-f,d=c-h,p=!1,f=u;f>s;--f){for(var m=0;m<h;m+=4)if(255!==l[d+m]){p=!0;break}if(p)break;d-=h}return n.descent=f-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}},t}();e.default=r;var i=document.createElement("canvas");i.width=i.height=10,r._canvas=i,r._context=i.getContext("2d"),r._fonts={},r.METRICS_STRING="|q",r.BASELINE_SYMBOL="M",r.BASELINE_MULTIPLIER=1.4,r._newlines=[10,13],r._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e,n,r,i,o,a,s,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=e,this.lineAlignment=l,this.nativeLines=s,this.lineColor=n,this.lineAlpha=r,this._lineTint=n,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=a,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(317),o=l(n(119)),a=n(246),s=l(n(33)),u=n(15);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n,r,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:n||s.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!l},r)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?a.shared:new a.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},r(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,n,a){var s=t&&t.forceCanvas;return void 0!==a&&(s=a),!s&&r.isWebGLSupported()?new o.default(t,e,n):new i.default(t,e,n)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(23)),i=a(n(120)),o=a(n(144));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,n){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var r=n(743);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return s(r).default}});var i=n(744);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return s(i).default}});var o=n(745);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return s(o).default}});var a=n(746);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return s(a).default}}),n(747),n(748),n(749)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=u(n(321)),a=u(n(322)),s=u(n(323));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var l=(0,o.default)(u,!0),c=(0,a.default)(u),h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,l,c));return h.resolution=s||i.settings.RESOLUTION,h._quality=0,h.quality=r||4,h.strength=n||8,h.firstRun=!0,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,u=(0,s.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,a.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var l=t.getRenderTarget(!0),c=e,h=l,f=0;f<this.passes-1;f++){t.applyFilter(this,c,h,!0);var d=h;h=c,c=d}t.applyFilter(this,c,n,r),t.returnRenderTarget(l)}},r(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=Math.ceil(t/2),i=r,o="",a=void 0;a=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var u=a.replace("%index%",s);o+=u=u.replace("%sampleIndex%",s-(n-1)+".0"),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t)};var r=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){for(var e=r[t],n=e.length,o=i,a="",s=void 0,u=0;u<t;u++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);s=u,u>=n&&(s=t-u-1),a+=l=l.replace("%value%",e[s]),a+="\n"}return(o=o.replace("%blur%",a)).replace("%size%",t)};var r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),n=15;n>e;)n-=2;return n}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=u(n(321)),a=u(n(322)),s=u(n(323));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var l=(0,o.default)(u,!1),c=(0,a.default)(u),h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,l,c));return h.resolution=s||i.settings.RESOLUTION,h._quality=0,h.quality=r||4,h.strength=n||8,h.firstRun=!0,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,u=(0,s.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,a.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var l=t.getRenderTarget(!0),c=e,h=l,f=0;f<this.passes-1;f++){t.applyFilter(this,c,h,!0);var d=h;h=c,c=d}t.applyFilter(this,c,n,r),t.returnRenderTarget(l)}},r(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=l},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},r(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},r(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,n){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,n){"use strict";e.__esModule=!0,e.parse=a,e.default=function(){return function(t,e){if(t.data&&t.type===i.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var n=t.isDataUrl?"":r.dirname(t.url);t.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/")),(n=n.replace(this.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/");for(var o=t.data.getElementsByTagName("page"),s={},u=function(n){s[n.metadata.pageFile]=n.texture,Object.keys(s).length===o.length&&(a(t,s),e())},l=0;l<o.length;++l){var c=o[l].getAttribute("file"),h=n+c,f=!1;for(var d in this.resources)if(this.resources[d].url===h){this.resources[d].metadata.pageFile=c,u(this.resources[d]),f=!0;break}if(!f){var p={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(h,p,u)}}}else e();else e()}};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(57)),i=n(123),o=n(319);function a(t,e){t.bitmapFont=o.BitmapText.registerFont(t.data,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n,r){void 0===n&&(n=!1),i(this,t),this._fn=e,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function a(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return a(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return a(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=o,e.default=s,t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t,e){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(i[n.q.name][e]=r)}),i}},function(t,e,n){"use strict";function r(){}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,n,r){var i=0,o=t.length;!function a(s){s||i===o?n&&n(s):r?setTimeout(function(){e(t[i++],a)},1):e(t[i++],a)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var n=0,o={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(t,e){a(t,!1,e)},kill:function(){n=0,o.drain=r,o.started=!1,o._tasks=[]},unshift:function(t,e){a(t,!0,e)},process:function(){for(;!o.paused&&n<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(n+=1)===o.concurrency&&o.saturated(),t(e.data,i(s(e)))}},length:function(){return o._tasks.length},running:function(){return n},idle:function(){return o._tasks.length+n===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function a(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var i={data:t,callback:"function"==typeof n?n:r};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){return o.process()},1)}}function s(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),n<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,n){"use strict";e.__esModule=!0,e.encodeBinary=function(t){for(var e="",n=0;n<t.length;){for(var i=[0,0,0],o=[0,0,0,0],a=0;a<i.length;++a)n<t.length?i[a]=255&t.charCodeAt(n++):i[a]=0;switch(o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2],n-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var s=0;s<o.length;++s)e+=r.charAt(o[s])}return e};var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){var n=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[n]){var r={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=s(t,this.baseUrl);this.add(n,o,r,function(n){if(n.error)e(n.error);else{var r=new a.Spritesheet(n.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})}})}else e()}},e.getResourcePath=s;var r,i=n(123),o=(r=n(302))&&r.__esModule?r:{default:r},a=n(16);function s(t,e){return t.isDataUrl?t.data.meta.image:o.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=o.default.fromLoader(t.data,t.url,t.name)),e()}};var r,i=n(123),o=(r=n(75))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(124))&&r.__esModule?r:{default:r},o=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return a._ready=!0,a.verticesX=r||10,a.verticesY=o||10,a.drawMode=i.default.DRAW_MODES.TRIANGLES,a.refresh(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,n=[],r=[],i=[],o=this.verticesX-1,a=this.verticesY-1,s=t.width/o,u=t.height/a,l=0;l<e;l++){var c=l%this.verticesX,h=l/this.verticesX|0;n.push(c*s,h*u),r.push(c/o,h/a)}for(var f=o*a,d=0;d<f;d++){var p=d%o,_=d/o|0,m=_*this.verticesX+p,y=_*this.verticesX+p+1,v=(_+1)*this.verticesX+p,g=(_+1)*this.verticesX+p+1;i.push(m,y,v),i.push(y,g,v)}this.vertices=new Float32Array(n),this.uvs=new Float32Array(r),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){i.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(i.default);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=r},function(t,e,n){!function(t){"use strict";n(3).defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(t){return function(e,n,o,a){var s=r(e),u=i[t][r(e)];return 2===s&&(u=u[n?0:1]),u.replace(/%d/i,e)}},a=["","","","","","","","","","","",""];t.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}()},function(t,e,n){!function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(t){return function(e,i,o,a){var s=n(e),u=r[t][n(e)];return 2===s&&(u=u[i?0:1]),u.replace(/%d/i,e)}},o=["","","","","","","","","","","",""];t.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var n=t%10;return t+(e[n]||e[t%100-n]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(3))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"":"":"h"===n?e?"":"":t+" "+(r=+t,i={ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}n(3).defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:e,mm:e,h:e,hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";function e(t,e,n){return t+" "+function(t,e){return 2===e?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}n(3).defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:function(t){switch(function t(e){return e>9?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return r+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return r+(1===t?"dan":"dana");case"MM":return r+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return r+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}n(3).defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),r=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],i=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function o(t){return t>1&&t<5&&1!=~~(t/10)}function a(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"pr sekund":"pr sekundami";case"ss":return e||r?i+(o(t)?"sekundy":"sekund"):i+"sekundami";case"m":return e?"minuta":r?"minutu":"minutou";case"mm":return e||r?i+(o(t)?"minuty":"minut"):i+"minutami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?i+(o(t)?"hodiny":"hodin"):i+"hodinami";case"d":return e||r?"den":"dnem";case"dd":return e||r?i+(o(t)?"dny":"dn"):i+"dny";case"M":return e||r?"msc":"mscem";case"MM":return e||r?i+(o(t)?"msce":"msc"):i+"msci";case"y":return e||r?"rok":"rokem";case"yy":return e||r?i+(o(t)?"roky":"let"):i+"lety"}}t.defineLocale("cs",{months:e,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/$/i.exec(t)?"":/$/i.exec(t)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}n(3).defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}n(3).defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}n(3).defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("dv",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,n){return t>11?n?"":"":n?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var n,r=this._calendarEl[t],i=e&&e.hours();return((n=r)instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(e)),r.replace("{}",i%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}n(3).defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,n){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,function(t){return n[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(3))},function(t,e,n){!function(t){"use strict";var e="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",e[7],e[8],e[9]];function r(t,r,i,o){var a="";switch(i){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":return o?"sekunnin":"sekuntia";case"m":return o?"minuutin":"minuutti";case"mm":a=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":a=o?"tunnin":"tuntia";break;case"d":return o?"pivn":"piv";case"dd":a=o?"pivn":"piv";break;case"M":return o?"kuukauden":"kuukausi";case"MM":a=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":a=o?"vuoden":"vuotta"}return function(t,r){return t<10?o?n[t]:e[t]:t}(t)+" "+a}t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Mitheamh","Iil","Lnasa","Men Fmhair","Deaireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feab","Mrt","Aibr","Beal","Mit","Iil","Lna","Men","Deai","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Satharn"],weekdaysShort:["Dom","Lua","Mi","Ca","Da","hAo","Sat"],weekdaysMin:["Do","Lu","M","Ce","D","hA","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d m",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["thodde secondanim","thodde second"],ss:[t+" secondanim",t+" second"],m:["eka mintan","ek minute"],mm:[t+" mintanim",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voranim",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disanim",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineanim",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsanim",t+" vorsam"]};return e?i[n][0]:i[n][1]}n(3).defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokalli"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokalli":t<16?"donparam":t<20?"sanje":"rati"}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,n){return t<5?" ":t<10?"":t<12?n?'"':" ":t<18?n?'"':" ":""}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return r+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return r+(1===t?"dan":"dana");case"MM":return r+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return r+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}n(3).defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";var e="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(t,e,n,r){var i=t;switch(n){case"s":return r||e?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||e)?" msodperc":" msodperce";case"m":return"egy"+(r||e?" perc":" perce");case"mm":return i+(r||e?" perc":" perce");case"h":return"egy"+(r||e?" ra":" rja");case"hh":return i+(r||e?" ra":" rja");case"d":return"egy"+(r||e?" nap":" napja");case"dd":return i+(r||e?" nap":" napja");case"M":return"egy"+(r||e?" hnap":" hnapja");case"MM":return i+(r||e?" hnap":" hnapja");case"y":return"egy"+(r||e?" v":" ve");case"yy":return i+(r||e?" v":" ve")}return""}function r(t){return(t?"":"[mlt] ")+"["+e[this.day()]+"] LT[-kor]"}t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";function e(t){return t%100==11||t%10!=1}function n(t,n,r,i){var o=t+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"ss":return e(t)?o+(n||i?"sekndur":"sekndum"):o+"seknda";case"m":return n?"mnta":"mntu";case"mm":return e(t)?o+(n||i?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return e(t)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return e(t)?n?o+"dagar":o+(i?"daga":"dgum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return e(t)?n?o+"mnuir":o+(i?"mnui":"mnuum"):n?o+"mnuur":o+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return e(t)?o+(n||i?"r":"rum"):o+(n||i?"r":"ri")}}t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ja",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()<t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return/(|||)/.test(t)?t.replace(/$/,""):t+""},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(3))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t){return t+""},week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[" ","","","","","","","",""," "," "," "];t.defineLocale("ku",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return//.test(t)},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(3))},function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(3))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?i[n][0]:i[n][1]}function n(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return n(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return n(t)}return n(t/=1e3)}t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return n(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return n(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}})}()},function(t,e,n){!function(t){"use strict";var e={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(t,e,n,r){return e?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(t){return t%10==0||t>10&&t<20}function i(t){return e[t].split("_")}function o(t,e,o,a){var s=t+" ";return 1===t?s+n(0,e,o[0],a):e?s+(r(t)?i(o)[1]:i(o)[0]):a?s+i(o)[1]:s+(r(t)?i(o)[1]:i(o)[2])}t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(t,e,n,r){return e?"kelios sekunds":r?"keli sekundi":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";var e={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function r(t,r,i){return t+" "+n(e[i],t,r)}function i(t,r,i){return n(e[i],t,r)}t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(t,e){return e?"daas sekundes":"dam sekundm"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||" "===e||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?" ":t<20?"":""}})}()},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){switch(n){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}n(3).defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(t,e,n,r){var i="";if(e)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,t)}t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";var e="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function r(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function i(t,e,n){var i=t+" ";switch(n){case"ss":return i+(r(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return i+(r(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return i+(r(t)?"godziny":"godzin");case"MM":return i+(r(t)?"miesice":"miesicy");case"yy":return i+(r(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,r){return t?""===r?"("+n[t.month()]+"|"+e[t.month()]+")":/D MMMM/.test(r)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzie",dd:"%d dni",M:"miesic",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})}()},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=" ";return(t%100>=20||t>=100&&t%100==0)&&(r=" de "),t+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}n(3).defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:e,m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"":"":t+" "+(r=+t,i={ss:e?"__":"__",mm:e?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:e,m:e,mm:e,h:"",hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("sd",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,n){return t>11?n?"..":" ":n?"..":" "}})}()},function(t,e,n){!function(t){"use strict";var e="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(t){return t>1&&t<5}function i(t,e,n,i){var o=t+" ";switch(n){case"s":return e||i?"pr seknd":"pr sekundami";case"ss":return e||i?o+(r(t)?"sekundy":"seknd"):o+"sekundami";case"m":return e?"minta":i?"mintu":"mintou";case"mm":return e||i?o+(r(t)?"minty":"mint"):o+"mintami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?o+(r(t)?"hodiny":"hodn"):o+"hodinami";case"d":return e||i?"de":"dom";case"dd":return e||i?o+(r(t)?"dni":"dn"):o+"dami";case"M":return e||i?"mesiac":"mesiacom";case"MM":return e||i?o+(r(t)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return e||i?"rok":"rokom";case"yy":return e||i?o+(r(t)?"roky":"rokov"):o+"rokmi"}}t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+(1===t?e?"sekundo":"sekundi":2===t?e||r?"sekundi":"sekundah":t<5?e||r?"sekunde":"sekundah":"sekund");case"m":return e?"ena minuta":"eno minuto";case"mm":return i+(1===t?e?"minuta":"minuto":2===t?e||r?"minuti":"minutama":t<5?e||r?"minute":"minutami":e||r?"minut":"minutami");case"h":return e?"ena ura":"eno uro";case"hh":return i+(1===t?e?"ura":"uro":2===t?e||r?"uri":"urama":t<5?e||r?"ure":"urami":e||r?"ur":"urami");case"d":return e||r?"en dan":"enim dnem";case"dd":return i+(1===t?e||r?"dan":"dnem":2===t?e||r?"dni":"dnevoma":e||r?"dni":"dnevi");case"M":return e||r?"en mesec":"enim mesecem";case"MM":return i+(1===t?e||r?"mesec":"mesecem":2===t?e||r?"meseca":"mesecema":t<5?e||r?"mesece":"meseci":e||r?"mesecev":"meseci");case"y":return e||r?"eno leto":"enim letom";case"yy":return i+(1===t?e||r?"leto":"letom":2===t?e||r?"leti":"letoma":t<5?e||r?"leta":"leti":e||r?"let":"leti")}}n(3).defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"",dd:e.translate,M:"",MM:e.translate,y:"",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||||/,meridiem:function(t,e,n){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e?t:""===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=11?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";var e="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t,n,r,i){var o=function(t){var n=Math.floor(t%1e3/100),r=Math.floor(t%100/10),i=t%10,o="";return n>0&&(o+=e[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+e[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+e[i]),""===o?"pagh":o}(t);switch(r){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}t.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var r=t%10;return t+(e[r]||e[t%100-r]||e[t>=100?100:null])}},week:{dow:1,doy:7}})}(n(3))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return r?i[n][0]:e?i[n][0]:i[n][1]}n(3).defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"":"":"h"===n?e?"":"":t+" "+(r=+t,i={ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}function n(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(t,e){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===t?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):t?n[/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:e,m:e,mm:e,h:"",hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(n(3))},function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("ur",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(3))},function(t,e,n){!function(t){"use strict";n(3).defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}()},function(t,e,n){!function(t){"use strict";n(3).defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}()},function(t,e,n){var r;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,h=o.indexOf,f={},d=f.toString,p=f.hasOwnProperty,_=p.toString,m=_.call(Object),y={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},g=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,noModule:!0};function w(t,e,n){var r,i=(e=e||a).createElement("script");if(i.text=t,n)for(r in b)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function x(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[d.call(t)]||"object":typeof t}var T=function(t,e){return new T.fn.init(t,e)},E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function P(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!v(t)&&!g(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}T.fn=T.prototype={jquery:"3.3.1",constructor:T,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(r=t[e])&&(l&&r&&(T.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&T.isPlainObject(n)?n:{},a[e]=T.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},T.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t)||(e=s(t))&&("function"!=typeof(n=p.call(e,"constructor")&&e.constructor)||_.call(n)!==m))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){w(t)},each:function(t,e){var n,r=0;if(P(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(E,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(P(Object(t))?T.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(P(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return l.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var S=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,n,r,i,o,a,s,u,l,c,h,f,d,p,_,m,y,v,g,b="sizzle"+1*new Date,w=t.document,x=0,T=0,E=at(),P=at(),S=at(),M=function(t,e){return t===e&&(h=!0),0},O={}.hasOwnProperty,I=[],k=I.pop,L=I.push,A=I.push,D=I.slice,R=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",Y="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",N="\\["+j+"*("+Y+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Y+"))|)"+j+"*\\]",B=":("+Y+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",F=new RegExp(j+"+","g"),H=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),V=new RegExp("^"+j+"*,"+j+"*"),q=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),W=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),U=new RegExp(B),X=new RegExp("^"+Y+"$"),G={ID:new RegExp("^#("+Y+")"),CLASS:new RegExp("^\\.("+Y+")"),TAG:new RegExp("^("+Y+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},z=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),tt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){f()},it=vt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{A.apply(I=D.call(w.childNodes),w.childNodes),I[w.childNodes.length].nodeType}catch(t){A={apply:I.length?function(t,e){L.apply(t,D.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function ot(t,e,r,i){var o,s,l,c,h,p,y,v=e&&e.ownerDocument,x=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return r;if(!i&&((e?e.ownerDocument||e:w)!==d&&f(e),e=e||d,_)){if(11!==x&&(h=K.exec(t)))if(o=h[1]){if(9===x){if(!(l=e.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(v&&(l=v.getElementById(o))&&g(e,l)&&l.id===o)return r.push(l),r}else{if(h[2])return A.apply(r,e.getElementsByTagName(t)),r;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return A.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!S[t+" "]&&(!m||!m.test(t))){if(1!==x)v=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=b),s=(p=a(t)).length;s--;)p[s]="#"+c+" "+yt(p[s]);y=p.join(","),v=Z.test(t)&&_t(e.parentNode)||e}if(y)try{return A.apply(r,v.querySelectorAll(y)),r}catch(t){}finally{c===b&&e.removeAttribute("id")}}}return u(t.replace(H,"$1"),e,r,i)}function at(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function st(t){return t[b]=!0,t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function ct(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&it(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return st(function(e){return e=+e,st(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function _t(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:w;return a!==d&&9===a.nodeType&&a.documentElement?(p=(d=a).documentElement,_=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(d.getElementsByClassName),n.getById=ut(function(t){return p.appendChild(t).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(t){var e=t.replace($,tt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&_){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace($,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&_){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&_)return e.getElementsByClassName(t)},y=[],m=[],(n.qsa=J.test(d.querySelectorAll))&&(ut(function(t){p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+C+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=J.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),y.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),e=J.test(p.compareDocumentPosition),g=e||J.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},M=e?function(t,e){if(t===e)return h=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===d||t.ownerDocument===w&&g(w,t)?-1:e===d||e.ownerDocument===w&&g(w,e)?1:c?R(c,t)-R(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t===d?-1:e===d?1:i?-1:o?1:c?R(c,t)-R(c,e):0;if(i===o)return ct(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ct(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&f(t),e=e.replace(W,"='$1']"),n.matchesSelector&&_&&!S[e+" "]&&(!y||!y.test(e))&&(!m||!m.test(e)))try{var r=v.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&f(t),g(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&f(t);var i=r.attrHandle[e.toLowerCase()],o=i&&O.call(r.attrHandle,e.toLowerCase())?i(t,e,!_):void 0;return void 0!==o?o:n.attributes||!_?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,r=[],i=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(M),h){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return c=null,t},i=ot.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=ot.selectors={cacheLength:50,createPseudo:st,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace($,tt),t[3]=(t[3]||t[4]||t[5]||"").replace($,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&U.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace($,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=E[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&E(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=ot.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(F," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,_=o!==a?"nextSibling":"previousSibling",m=e.parentNode,y=s&&e.nodeName.toLowerCase(),v=!u&&!s,g=!1;if(m){if(o){for(;_;){for(f=e;f=f[_];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;p=_="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&v){for(g=(d=(l=(c=(h=(f=m)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===x&&l[1])&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[_]||(g=d=0)||p.pop();)if(1===f.nodeType&&++g&&f===e){c[t]=[x,d,g];break}}else if(v&&(g=d=(l=(c=(h=(f=e)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===x&&l[1]),!1===g)for(;(f=++d&&f&&f[_]||(g=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++g||(v&&((c=(h=f[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[x,g]),f!==e)););return(g-=i)===r||g%r==0&&g/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var r,o=i(t,e),a=o.length;a--;)t[r=R(t,o[a])]=!(n[r]=o[a])}):function(t){return i(t,0,n)}):i}},pseudos:{not:st(function(t){var e=[],n=[],r=s(t.replace(H,"$1"));return r[b]?st(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace($,tt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:st(function(t){return X.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace($,tt).toLowerCase(),function(e){var n;do{if(n=_?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:pt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ft(e);function mt(){}function yt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function vt(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=T++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var l,c,h,f=[x,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(c=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===x&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function gt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function bt(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function wt(t,e,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),st(function(o,a,s,u){var l,c,h,f=[],d=[],p=a.length,_=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)ot(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?_:bt(_,f,t,s,u),y=n?i||(o?t:p||r)?[]:a:m;if(n&&n(m,y,s,u),r)for(l=bt(y,d),r(l,[],s,u),c=l.length;c--;)(h=l[c])&&(y[d[c]]=!(m[d[c]]=h));if(o){if(i||t){if(i){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(m[c]=h);i(null,y=[],l,u)}for(c=y.length;c--;)(h=y[c])&&(l=i?R(o,h):f[c])>-1&&(o[l]=!(a[l]=h))}}else y=bt(y===a?y.splice(p,y.length):y),i?i(null,a,y,u):A.apply(a,y)})}function xt(t){for(var e,n,i,o=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],u=a?1:0,c=vt(function(t){return t===e},s,!0),h=vt(function(t){return R(e,t)>-1},s,!0),f=[function(t,n,r){var i=!a&&(r||n!==l)||((e=n).nodeType?c(t,n,r):h(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])f=[vt(gt(f),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[b]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return wt(u>1&&gt(f),u>1&&yt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(H,"$1"),n,u<i&&xt(t.slice(u,i)),i<o&&xt(t=t.slice(i)),i<o&&yt(t))}f.push(n)}return gt(f)}return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,a=ot.tokenize=function(t,e){var n,i,o,a,s,u,l,c=P[t+" "];if(c)return e?0:c.slice(0);for(s=t,u=[],l=r.preFilter;s;){for(a in n&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=q.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(H," ")}),s=s.slice(n.length)),r.filter)!(i=G[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):P(t,u).slice(0)},s=ot.compile=function(t,e){var n,i=[],o=[],s=S[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=xt(e[n]))[b]?i.push(s):o.push(s);(s=S(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,a,s,u,c){var h,p,m,y=0,v="0",g=o&&[],b=[],w=l,T=o||i&&r.find.TAG("*",c),E=x+=null==w?1:Math.random()||.1,P=T.length;for(c&&(l=a===d||a||c);v!==P&&null!=(h=T[v]);v++){if(i&&h){for(p=0,a||h.ownerDocument===d||(f(h),s=!_);m=t[p++];)if(m(h,a||d,s)){u.push(h);break}c&&(x=E)}n&&((h=!m&&h)&&y--,o&&g.push(h))}if(y+=v,n&&v!==y){for(p=0;m=e[p++];)m(g,b,a,s);if(o){if(y>0)for(;v--;)g[v]||b[v]||(b[v]=k.call(u));b=bt(b)}A.apply(u,b),c&&!o&&b.length>0&&y+e.length>1&&ot.uniqueSort(u)}return c&&(x=E,l=w),g};return n?st(o):o}(o,i))).selector=t}return s},u=ot.select=function(t,e,n,i){var o,u,l,c,h,f="function"==typeof t&&t,d=!i&&a(t=f.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&_&&r.relative[u[1].type]){if(!(e=(r.find.ID(l.matches[0].replace($,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=G.needsContext.test(t)?0:u.length;o--&&(l=u[o],!r.relative[c=l.type]);)if((h=r.find[c])&&(i=h(l.matches[0].replace($,tt),Z.test(u[0].type)&&_t(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&yt(u)))return A.apply(n,i),n;break}}return(f||s(t,d))(i,e,!_,n,!e||Z.test(t)&&_t(e.parentNode)||e),n},n.sortStable=b.split("").sort(M).join("")===b,n.detectDuplicates=!!h,f(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||lt(C,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),ot}(n);T.find=S,T.expr=S.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=S.uniqueSort,T.text=S.getText,T.isXMLDoc=S.isXML,T.contains=S.contains,T.escapeSelector=S.escape;var M=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&T(t).is(n))break;r.push(t)}return r},O=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},I=T.expr.match.needsContext;function k(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(t,e,n){return v(e)?T.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?T.grep(t,function(t){return t===e!==n}):"string"!=typeof e?T.grep(t,function(t){return h.call(e,t)>-1!==n}):T.filter(e,t,n)}T.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?T.find.matchesSelector(r,t)?[r]:[]:T.find.matches(t,T.grep(e,function(t){return 1===t.nodeType}))},T.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(T(t).filter(function(){for(e=0;e<r;e++)if(T.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)T.find(t,i[e],n);return r>1?T.uniqueSort(n):n},filter:function(t){return this.pushStack(A(this,t||[],!1))},not:function(t){return this.pushStack(A(this,t||[],!0))},is:function(t){return!!A(this,"string"==typeof t&&I.test(t)?T(t):t||[],!1).length}});var D,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||D,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),L.test(r[1])&&T.isPlainObject(e))for(r in e)v(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(T):T.makeArray(t,this)}).prototype=T.fn,D=T(a);var C=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function Y(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(T.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&T(t);if(!I.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(T(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return M(t,"parentNode")},parentsUntil:function(t,e,n){return M(t,"parentNode",n)},next:function(t){return Y(t,"nextSibling")},prev:function(t){return Y(t,"previousSibling")},nextAll:function(t){return M(t,"nextSibling")},prevAll:function(t){return M(t,"previousSibling")},nextUntil:function(t,e,n){return M(t,"nextSibling",n)},prevUntil:function(t,e,n){return M(t,"previousSibling",n)},siblings:function(t){return O((t.parentNode||{}).firstChild,t)},children:function(t){return O(t.firstChild)},contents:function(t){return k(t,"iframe")?t.contentDocument:(k(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},function(t,e){T.fn[t]=function(n,r){var i=T.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=T.filter(r,i)),this.length>1&&(j[t]||T.uniqueSort(i),C.test(t)&&i.reverse()),this.pushStack(i)}});var N=/[^\x20\t\r\n\f]+/g;function B(t){return t}function F(t){throw t}function H(t,e,n,r){var i;try{t&&v(i=t.promise)?i.call(t).done(e).fail(n):t&&v(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}T.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return T.each(t.match(N)||[],function(t,n){e[n]=!0}),e}(t):T.extend({},t);var e,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){T.each(n,function(n,r){v(r)?t.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&e(r)})}(arguments),n&&!e&&u()),this},remove:function(){return T.each(arguments,function(t,e){for(var n;(n=T.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?T.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return T.Deferred(function(n){T.each(e,function(e,r){var i=v(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){var o=0;function a(t,e,r,i){return function(){var s=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=r.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(l)?i?l.call(n,a(o,e,B,i),a(o,e,F,i)):(o++,l.call(n,a(o,e,B,i),a(o,e,F,i),a(o,e,B,e.notifyWith))):(r!==B&&(s=void 0,u=[n]),(i||e.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(n){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(r!==F&&(s=void 0,u=[n]),e.rejectWith(s,u))}};t?c():(T.Deferred.getStackHook&&(c.stackTrace=T.Deferred.getStackHook()),n.setTimeout(c))}}return T.Deferred(function(n){e[0][3].add(a(0,n,v(i)?i:B,n.notifyWith)),e[1][3].add(a(0,n,v(t)?t:B)),e[2][3].add(a(0,n,v(r)?r:F))}).promise()},promise:function(t){return null!=t?T.extend(t,i):i}},o={};return T.each(e,function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=u.call(arguments),o=T.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(H(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||v(i[n]&&i[n].then)))return o.then();for(;n--;)H(i[n],a(n),o.reject);return o.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&V.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){n.setTimeout(function(){throw t})};var q=T.Deferred();function W(){a.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),T.ready()}T.fn.ready=function(t){return q.then(t).catch(function(t){T.readyException(t)}),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||q.resolveWith(a,[T]))}}),T.ready.then=q.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(T.ready):(a.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var U=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===x(n))for(s in i=!0,n)U(t,e,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(T(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o},X=/^-ms-/,G=/-([a-z])/g;function z(t,e){return e.toUpperCase()}function Q(t){return t.replace(X,"ms-").replace(G,z)}var J=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=T.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},J(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[Q(e)]=n;else for(r in e)i[Q(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Q(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Q):(e=Q(e))in r?[e]:e.match(N)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||T.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var Z=new K,$=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}T.extend({hasData:function(t){return $.hasData(t)||Z.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),T.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=$.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Q(r.slice(5)),nt(o,r,i[r]));Z.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){$.set(this,t)}):U(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=$.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){$.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),T.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Z.get(t,e),n&&(!r||Array.isArray(n)?r=Z.access(t,e,T.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),r=n.length,i=n.shift(),o=T._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){T.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:T.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",n])})})}}),T.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?T.queue(this[0],t):void 0===e?this:this.each(function(){var n=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&T.dequeue(this,t)})},dequeue:function(t){return this.each(function(){T.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=T.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Z.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&T.contains(t.ownerDocument,t)&&"none"===T.css(t,"display")},st=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=a[o];return i};function ut(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return T.css(t,e,"")},u=s(),l=n&&n[3]||(T.cssNumber[e]?"":"px"),c=(T.cssNumber[e]||"px"!==l&&+u)&&it.exec(T.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)T.style(t,e,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,T.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var lt={};function ct(t){var e,n=t.ownerDocument,r=t.nodeName,i=lt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=T.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),lt[r]=i,i)}function ht(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=Z.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&at(r)&&(i[o]=ct(r))):"none"!==n&&(i[o]="none",Z.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}T.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?T(this).show():T(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,_t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&k(t,e)?T.merge([t],n):n}function yt(t,e){for(var n=0,r=t.length;n<r;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}_t.optgroup=_t.option,_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td;var vt,gt,bt=/<|&#?\w+;/;function wt(t,e,n,r,i){for(var o,a,s,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===x(o))T.merge(f,o.nodeType?[o]:o);else if(bt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(dt.exec(o)||["",""])[1].toLowerCase(),u=_t[s]||_t._default,a.innerHTML=u[1]+T.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;T.merge(f,a.childNodes),(a=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(r&&T.inArray(o,r)>-1)i&&i.push(o);else if(l=T.contains(o.ownerDocument,o),a=mt(h.appendChild(o),"script"),l&&yt(a),n)for(c=0;o=a[c++];)pt.test(o.type||"")&&n.push(o);return h}vt=a.createDocumentFragment().appendChild(a.createElement("div")),(gt=a.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),vt.appendChild(gt),y.checkClone=vt.cloneNode(!0).cloneNode(!0).lastChild.checked,vt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!vt.cloneNode(!0).lastChild.defaultValue;var xt=a.documentElement,Tt=/^key/,Et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Pt=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Mt(){return!1}function Ot(){try{return a.activeElement}catch(t){}}function It(t,e,n,r,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)It(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Mt;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return T().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=T.guid++)),t.each(function(){T.event.add(this,e,i,r,n)})}T.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,_,m=Z.get(t);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&T.find.matchesSelector(xt,i),n.guid||(n.guid=T.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(N)||[""]).length;l--;)d=_=(s=Pt.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d&&(h=T.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=T.event.special[d]||{},c=T.extend({type:d,origType:_,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),T.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,_,m=Z.hasData(t)&&Z.get(t);if(m&&(u=m.events)){for(l=(e=(e||"").match(N)||[""]).length;l--;)if(d=_=(s=Pt.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d){for(h=T.event.special[d]||{},f=u[d=(r?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&_!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||T.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)T.event.remove(t,d+e[l],n,r,!0);T.isEmptyObject(u)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=T.event.fix(t),u=new Array(arguments.length),l=(Z.get(this,"events")||{})[s.type]||[],c=T.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=T.event.handlers.call(this,s,l),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((T.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?T(i,this).index(l)>-1:T.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ot()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ot()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k(this,"input"))return this.click(),!1},_default:function(t){return k(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Mt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Mt,isPropagationStopped:Mt,isImmediatePropagationStopped:Mt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Tt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Et.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},T.event.addProp),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||T.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),T.fn.extend({on:function(t,e,n,r){return It(this,t,e,n,r)},one:function(t,e,n,r){return It(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,T(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Mt),this.each(function(){T.event.remove(this,t,n,e)})}});var kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Lt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Rt(t,e){return k(t,"table")&&k(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Ct(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Yt(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if(Z.hasData(t)&&(o=Z.access(t),a=Z.set(e,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)T.event.add(e,i,l[i][n]);$.hasData(t)&&(s=$.access(t),u=T.extend({},s),$.set(e,u))}}function Nt(t,e,n,r){e=l.apply([],e);var i,o,a,s,u,c,h=0,f=t.length,d=f-1,p=e[0],_=v(p);if(_||f>1&&"string"==typeof p&&!y.checkClone&&At.test(p))return t.each(function(i){var o=t.eq(i);_&&(e[0]=p.call(this,i,o.html())),Nt(o,e,n,r)});if(f&&(o=(i=wt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=T.map(mt(i,"script"),Ct)).length;h<f;h++)u=i,h!==d&&(u=T.clone(u,!0,!0),s&&T.merge(a,mt(u,"script"))),n.call(t[h],u,h);if(s)for(c=a[a.length-1].ownerDocument,T.map(a,jt),h=0;h<s;h++)u=a[h],pt.test(u.type||"")&&!Z.access(u,"globalEval")&&T.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?T._evalUrl&&T._evalUrl(u.src):w(u.textContent.replace(Dt,""),c,u))}return t}function Bt(t,e,n){for(var r,i=e?T.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||T.cleanData(mt(r)),r.parentNode&&(n&&T.contains(r.ownerDocument,r)&&yt(mt(r,"script")),r.parentNode.removeChild(r));return t}T.extend({htmlPrefilter:function(t){return t.replace(kt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s,u,l,c=t.cloneNode(!0),h=T.contains(t.ownerDocument,t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(a=mt(c),r=0,i=(o=mt(t)).length;r<i;r++)s=o[r],"input"===(l=(u=a[r]).nodeName.toLowerCase())&&ft.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(e)if(n)for(o=o||mt(t),a=a||mt(c),r=0,i=o.length;r<i;r++)Yt(o[r],a[r]);else Yt(t,c);return(a=mt(c,"script")).length>0&&yt(a,!h&&mt(t,"script")),c},cleanData:function(t){for(var e,n,r,i=T.event.special,o=0;void 0!==(n=t[o]);o++)if(J(n)){if(e=n[Z.expando]){if(e.events)for(r in e.events)i[r]?T.event.remove(n,r):T.removeEvent(n,r,e.handle);n[Z.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return U(this,function(t){return void 0===t?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Nt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Rt(this,t).appendChild(t)})},prepend:function(){return Nt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Rt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return T.clone(this,t,e)})},html:function(t){return U(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!_t[(dt.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(T.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,function(e){var n=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(mt(this)),n&&n.replaceChild(e,this))},t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){T.fn[t]=function(t){for(var n,r=[],i=T(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),T(i[a])[e](n),c.apply(r,n.get());return this.pushStack(r)}});var Ft=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Ht=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Vt=new RegExp(ot.join("|"),"i");function qt(t,e,n){var r,i,o,a,s=t.style;return(n=n||Ht(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||T.contains(t.ownerDocument,t)||(a=T.style(t,e)),!y.pixelBoxStyles()&&Ft.test(a)&&Vt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xt.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);r="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),i=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",xt.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,s,u,l=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===c.style.backgroundClip,T.extend(y,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Ut=/^(none|table(?!-c[ea]).+)/,Xt=/^--/,Gt={position:"absolute",visibility:"hidden",display:"block"},zt={letterSpacing:"0",fontWeight:"400"},Qt=["Webkit","Moz","ms"],Jt=a.createElement("div").style;function Kt(t){var e=T.cssProps[t];return e||(e=T.cssProps[t]=function(t){if(t in Jt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Qt.length;n--;)if((t=Qt[n]+e)in Jt)return t}(t)||t),e}function Zt(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function $t(t,e,n,r,i,o){var a="width"===e?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=T.css(t,n+ot[a],!0,i)),r?("content"===n&&(u-=T.css(t,"padding"+ot[a],!0,i)),"margin"!==n&&(u-=T.css(t,"border"+ot[a]+"Width",!0,i))):(u+=T.css(t,"padding"+ot[a],!0,i),"padding"!==n?u+=T.css(t,"border"+ot[a]+"Width",!0,i):s+=T.css(t,"border"+ot[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))),u}function te(t,e,n){var r=Ht(t),i=qt(t,e,r),o="border-box"===T.css(t,"boxSizing",!1,r),a=o;if(Ft.test(i)){if(!n)return i;i="auto"}return a=a&&(y.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===T.css(t,"display",!1,r))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(i=parseFloat(i)||0)+$t(t,e,n||(o?"border":"content"),a,r,i)+"px"}function ee(t,e,n,r,i){return new ee.prototype.init(t,e,n,r,i)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=Q(e),u=Xt.test(e),l=t.style;if(u||(e=Kt(s)),a=T.cssHooks[e]||T.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e];"string"==(o=typeof n)&&(i=it.exec(n))&&i[1]&&(n=ut(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(T.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,r){var i,o,a,s=Q(e);return Xt.test(e)||(e=Kt(s)),(a=T.cssHooks[e]||T.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=qt(t,e,r)),"normal"===i&&e in zt&&(i=zt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),T.each(["height","width"],function(t,e){T.cssHooks[e]={get:function(t,n,r){if(n)return!Ut.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,r):st(t,Gt,function(){return te(t,e,r)})},set:function(t,n,r){var i,o=Ht(t),a="border-box"===T.css(t,"boxSizing",!1,o),s=r&&$t(t,e,r,a,o);return a&&y.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-$t(t,e,"border",!1,o)-.5)),s&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=T.css(t,e)),Zt(0,n,s)}}}),T.cssHooks.marginLeft=Wt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(qt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(t,e){T.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(T.cssHooks[t+e].set=Zt)}),T.fn.extend({css:function(t,e){return U(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=Ht(t),i=e.length;a<i;a++)o[e[a]]=T.css(t,e[a],!1,r);return o}return void 0!==n?T.style(t,e,n):T.css(t,e)},t,e,arguments.length>1)}}),T.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(T.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[T.cssProps[t.prop]]&&!T.cssHooks[t.prop]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=ee.prototype.init,T.fx.step={};var ne,re,ie=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function ae(){re&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ae):n.setTimeout(ae,T.fx.interval),T.fx.tick())}function se(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function le(t,e,n){for(var r,i=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function ce(t,e,n){var r,i,o=0,a=ce.prefilters.length,s=T.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ne||se(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(t,[l,r,n]),r<1&&a?n:(a||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||se(),duration:n.duration,tweens:[],createTween:function(e,n){var r=T.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=Q(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=T.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=ce.prefilters[o].call(l,t,c,l.opts))return v(r.stop)&&(T._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return T.map(c,le,l),v(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),T.fx.timer(T.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}T.Animation=T.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(N);for(var n,r=0,i=t.length;r<i;r++)n=t[r],ce.tweeners[n]=ce.tweeners[n]||[],ce.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,_=t.nodeType&&at(t),m=Z.get(t,"fxshow");for(r in n.queue||(null==(a=T._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,T.queue(t,"fx").length||a.empty.fire()})})),e)if(i=e[r],ie.test(i)){if(delete e[r],o=o||"toggle"===i,i===(_?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;_=!0}d[r]=m&&m[r]||T.style(t,r)}if((u=!T.isEmptyObject(e))||!T.isEmptyObject(d))for(r in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=Z.get(t,"display")),"none"===(c=T.css(t,"display"))&&(l?c=l:(ht([t],!0),l=t.style.display||l,c=T.css(t,"display"),ht([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===T.css(t,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(m?"hidden"in m&&(_=m.hidden):m=Z.access(t,"fxshow",{display:l}),o&&(m.hidden=!_),_&&ht([t],!0),f.done(function(){for(r in _||ht([t]),Z.remove(t,"fxshow"),d)T.style(t,r,d[r])})),u=le(_?m[r]:0,r,f),r in m||(m[r]=u.start,_&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),T.speed=function(t,e,n){var r=t&&"object"==typeof t?T.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return T.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in T.fx.speeds?r.duration=T.fx.speeds[r.duration]:r.duration=T.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&T.dequeue(this,r.queue)},r},T.fn.extend({fadeTo:function(t,e,n,r){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=T.isEmptyObject(t),o=T.speed(e,n,r),a=function(){var e=ce(this,T.extend({},t),o);(i||Z.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=T.timers,a=Z.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&oe.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||T.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Z.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=T.timers,a=r?r.length:0;for(n.finish=!0,T.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),T.each(["toggle","show","hide"],function(t,e){var n=T.fn[e];T.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,r,i)}}),T.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){T.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),T.timers=[],T.fx.tick=function(){var t,e=0,n=T.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||T.fx.stop(),ne=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){re||(re=!0,ae())},T.fx.stop=function(){re=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var he,fe=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return U(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){T.removeAttr(this,t)})}}),T.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?T.prop(t,e,n):(1===o&&T.isXMLDoc(t)||(i=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void T.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=T.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&k(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(N);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?T.removeAttr(t,n):t.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||T.find.attr;fe[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=fe[a],fe[a]=i,i=null!=n(t,e,r)?a:null,fe[a]=o),i}});var de=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function _e(t){return(t.match(N)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}T.fn.extend({prop:function(t,e){return U(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[T.propFix[t]||t]})}}),T.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(t)||(e=T.propFix[e]||e,i=T.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(v(t))return this.each(function(e){T(this).addClass(t.call(this,e,me(this)))});if((e=ye(t)).length)for(;n=this[u++];)if(i=me(n),r=1===n.nodeType&&" "+_e(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=_e(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(v(t))return this.each(function(e){T(this).removeClass(t.call(this,e,me(this)))});if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[u++];)if(i=me(n),r=1===n.nodeType&&" "+_e(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=_e(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):v(t)?this.each(function(n){T(this).toggleClass(t.call(this,n,me(this),e),e)}):this.each(function(){var e,i,o,a;if(r)for(i=0,o=T(this),a=ye(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=me(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+_e(me(n))+" ").indexOf(e)>-1)return!0;return!1}});var ve=/\r/g;T.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=v(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,T(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=T.map(i,function(t){return null==t?"":t+""})),(e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ve,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:_e(T.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(e=T(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=T.makeArray(e),a=i.length;a--;)((r=i[a]).selected=T.inArray(T.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},y.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in n;var ge=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,r,i){var o,s,u,l,c,h,f,d,_=[r||a],m=p.call(t,"type")?t.type:t,y=p.call(t,"namespace")?t.namespace.split("."):[];if(s=d=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!ge.test(m+T.event.triggered)&&(m.indexOf(".")>-1&&(m=(y=m.split(".")).shift(),y.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[T.expando]?t:new T.Event(m,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:T.makeArray(e,[t]),f=T.event.special[m]||{},i||!f.trigger||!1!==f.trigger.apply(r,e))){if(!i&&!f.noBubble&&!g(r)){for(l=f.delegateType||m,ge.test(l+m)||(s=s.parentNode);s;s=s.parentNode)_.push(s),u=s;u===(r.ownerDocument||a)&&_.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=_[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?l:f.bindType||m,(h=(Z.get(s,"events")||{})[t.type]&&Z.get(s,"handle"))&&h.apply(s,e),(h=c&&s[c])&&h.apply&&J(s)&&(t.result=h.apply(s,e),!1===t.result&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(_.pop(),e)||!J(r)||c&&v(r[m])&&!g(r)&&((u=r[c])&&(r[c]=null),T.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,be),r[m](),t.isPropagationStopped()&&d.removeEventListener(m,be),T.event.triggered=void 0,u&&(r[c]=u)),t.result}},simulate:function(t,e,n){var r=T.extend(new T.Event,n,{type:t,isSimulated:!0});T.event.trigger(r,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each(function(){T.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return T.event.trigger(t,e,n,!0)}}),y.focusin||T.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){T.event.simulate(e,t.target,T.event.fix(t))};T.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Z.access(r,e);i||r.addEventListener(t,n,!0),Z.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Z.access(r,e)-1;i?Z.access(r,e,i):(r.removeEventListener(t,n,!0),Z.remove(r,e))}}});var we=n.location,xe=Date.now(),Te=/\?/;T.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+t),e};var Ee=/\[\]$/,Pe=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;function Oe(t,e,n,r){var i;if(Array.isArray(e))T.each(e,function(e,i){n||Ee.test(t)?r(t,i):Oe(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==x(e))r(t,e);else for(i in e)Oe(t+"["+i+"]",e[i],n,r)}T.param=function(t,e){var n,r=[],i=function(t,e){var n=v(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,function(){i(this.name,this.value)});else for(n in t)Oe(n,t[n],e,i);return r.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Me.test(this.nodeName)&&!Se.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,function(t){return{name:e.name,value:t.replace(Pe,"\r\n")}}):{name:e.name,value:n.replace(Pe,"\r\n")}}).get()}});var Ie=/%20/g,ke=/#.*$/,Le=/([?&])_=[^&]*/,Ae=/^(.*?):[ \t]*([^\r\n]*)$/gm,De=/^(?:GET|HEAD)$/,Re=/^\/\//,Ce={},je={},Ye="*/".concat("*"),Ne=a.createElement("a");function Be(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(N)||[];if(v(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Fe(t,e,n,r){var i={},o=t===je;function a(s){var u;return i[s]=!0,T.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),a(l),!1)}),u}return a(e.dataTypes[0])||!i["*"]&&a("*")}function He(t,e){var n,r,i=T.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&T.extend(!0,t,r),t}Ne.href=we.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,T.ajaxSettings),e):He(T.ajaxSettings,t)},ajaxPrefilter:Be(Ce),ajaxTransport:Be(je),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,u,l,c,h,f,d,p=T.ajaxSetup({},e),_=p.context||p,m=p.context&&(_.nodeType||_.jquery)?T(_):T.event,y=T.Deferred(),v=T.Callbacks("once memory"),g=p.statusCode||{},b={},w={},x="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Ae.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)E.always(t[E.status]);else for(e in t)g[e]=[g[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),P(0,e),this}};if(y.promise(E),p.url=((t||p.url||we.href)+"").replace(Re,we.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){l=a.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ne.protocol+"//"+Ne.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=T.param(p.data,p.traditional)),Fe(Ce,p,e,E),c)return E;for(f in(h=T.event&&p.global)&&0==T.active++&&T.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!De.test(p.type),i=p.url.replace(ke,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ie,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Te.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Le,"$1"),d=(Te.test(i)?"&":"?")+"_="+xe+++d),p.url=i+d),p.ifModified&&(T.lastModified[i]&&E.setRequestHeader("If-Modified-Since",T.lastModified[i]),T.etag[i]&&E.setRequestHeader("If-None-Match",T.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ye+"; q=0.01":""):p.accepts["*"]),p.headers)E.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(_,E,p)||c))return E.abort();if(x="abort",v.add(p.complete),E.done(p.success),E.fail(p.error),r=Fe(je,p,e,E)){if(E.readyState=1,h&&m.trigger("ajaxSend",[E,p]),c)return E;p.async&&p.timeout>0&&(u=n.setTimeout(function(){E.abort("timeout")},p.timeout));try{c=!1,r.send(b,P)}catch(t){if(c)throw t;P(-1,t)}}else P(-1,"No Transport");function P(t,e,a,s){var l,f,d,b,w,x=e;c||(c=!0,u&&n.clearTimeout(u),r=void 0,o=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,a&&(b=function(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,E,a)),b=function(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,b,E,l),l?(p.ifModified&&((w=E.getResponseHeader("Last-Modified"))&&(T.lastModified[i]=w),(w=E.getResponseHeader("etag"))&&(T.etag[i]=w)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=b.state,f=b.data,l=!(d=b.error))):(d=x,!t&&x||(x="error",t<0&&(t=0))),E.status=t,E.statusText=(e||x)+"",l?y.resolveWith(_,[f,x,E]):y.rejectWith(_,[E,x,d]),E.statusCode(g),g=void 0,h&&m.trigger(l?"ajaxSuccess":"ajaxError",[E,p,l?f:d]),v.fireWith(_,[E,x]),h&&(m.trigger("ajaxComplete",[E,p]),--T.active||T.event.trigger("ajaxStop")))}return E},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],function(t,e){T[e]=function(t,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),T.ajax(T.extend({url:t,type:e,dataType:i,data:n,success:r},T.isPlainObject(t)&&t))}}),T._evalUrl=function(t){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return v(t)?this.each(function(e){T(this).wrapInner(t.call(this,e))}):this.each(function(){var e=T(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=v(t);return this.each(function(n){T(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ve={0:200,1223:204},qe=T.ajaxSettings.xhr();y.cors=!!qe&&"withCredentials"in qe,y.ajax=qe=!!qe,T.ajaxTransport(function(t){var e,r;if(y.cors||qe&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ve[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),T.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),T.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,i){e=T("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var We,Ue=[],Xe=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ue.pop()||T.expando+"_"+xe++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xe,"$1"+i):!1!==t.jsonp&&(t.url+=(Te.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||T.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?T(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ue.push(i)),a&&v(o)&&o(a[0]),a=o=void 0}),"script"}),y.createHTMLDocument=((We=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===We.childNodes.length),T.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(y.createHTMLDocument?((r=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(r)):e=a),o=!n&&[],(i=L.exec(t))?[e.createElement(i[1])]:(i=wt([t],e,o),o&&o.length&&T(o).remove(),T.merge([],i.childNodes)));var r,i,o},T.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=_e(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&T.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?T("<div>").append(T.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){T.fn[e]=function(t){return this.on(e,t)}}),T.expr.pseudos.animated=function(t){return T.grep(T.timers,function(e){return t===e.elem}).length},T.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l=T.css(t,"position"),c=T(t),h={};"static"===l&&(t.style.position="relative"),s=c.offset(),o=T.css(t,"top"),u=T.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(e)&&(e=e.call(t,n,T.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):c.css(h)}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){T.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===T.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),i.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-T.css(r,"marginTop",!0),left:e.left-i.left-T.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||xt})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;T.fn[t]=function(r){return U(this,function(t,r,i){var o;if(g(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),T.each(["top","left"],function(t,e){T.cssHooks[e]=Wt(y.pixelPosition,function(t,n){if(n)return n=qt(t,e),Ft.test(n)?T(t).position()[e]+"px":n})}),T.each({Height:"height",Width:"width"},function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){T.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return U(this,function(e,n,i){var o;return g(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?T.css(e,n,s):T.style(e,n,i,s)},e,a?i:void 0,a)}})}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){T.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),T.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),T.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return r=u.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(u.call(arguments)))}).guid=t.guid=t.guid||T.guid++,i},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=k,T.isFunction=v,T.isWindow=g,T.camelCase=Q,T.type=x,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(r=function(){return T}.apply(e,[]))||(t.exports=r);var Ge=n.jQuery,ze=n.$;return T.noConflict=function(t){return n.$===T&&(n.$=ze),t&&n.jQuery===T&&(n.jQuery=Ge),T},i||(n.jQuery=n.$=T),T})},function(t,e,n){"use strict";function r(t,e){var n=t.__state.conversionName.toString(),r=Math.round(t.r),i=Math.round(t.g),o=Math.round(t.b),a=t.a,s=Math.round(t.h),u=t.s.toFixed(1),l=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=t.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+r+","+i+","+o+")":"CSS_RGBA"===n?"rgba("+r+","+i+","+o+","+a+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+i+","+o+"]":"RGBA_ARRAY"===n?"["+r+","+i+","+o+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+u+",v:"+l+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+u+",v:"+l+",a:"+a+"}":"unknown format"}n.r(e),n.d(e,"color",function(){return at}),n.d(e,"controllers",function(){return st}),n.d(e,"dom",function(){return ut}),n.d(e,"gui",function(){return lt}),n.d(e,"GUI",function(){return ct});var i=Array.prototype.forEach,o=Array.prototype.slice,a={BREAK:{},extend:function(t){return this.each(o.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))},this),t},defaults:function(t){return this.each(o.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))},this),t},compose:function(){var t=o.call(arguments);return function(){for(var e=o.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(i&&t.forEach&&t.forEach===i)t.forEach(e,n);else if(t.length===t.length+0){var r,o=void 0;for(o=0,r=t.length;o<r;o++)if(o in t&&e.call(n,t[o],o)===this.BREAK)return}else for(var a in t)if(e.call(n,t[a],a)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r=void 0;return function(){var i=this,o=arguments,a=n||!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,o)},e),a&&t.apply(i,o)}},toArray:function(t){return t.toArray?t.toArray():o.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}},s=[{litmus:a.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:r},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:r},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:r},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:r}}},{litmus:a.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:a.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:a.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(a.isNumber(t.r)&&a.isNumber(t.g)&&a.isNumber(t.b)&&a.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(a.isNumber(t.r)&&a.isNumber(t.g)&&a.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(a.isNumber(t.h)&&a.isNumber(t.s)&&a.isNumber(t.v)&&a.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(a.isNumber(t.h)&&a.isNumber(t.s)&&a.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],u=void 0,l=void 0,c=function(){l=!1;var t=arguments.length>1?a.toArray(arguments):arguments[0];return a.each(s,function(e){if(e.litmus(t))return a.each(e.conversions,function(e,n){if(u=e.read(t),!1===l&&!1!==u)return l=u,u.conversionName=n,u.conversion=e,a.BREAK}),a.BREAK}),l},h=void 0,f={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][r];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=i-r,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=t===i?(e-n)/o:e===i?2+(n-t)/o:4+(t-e)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/i,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(h=8*e)|t&~(255<<h)}},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},y=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},v=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},g=function(){function t(){if(p(this,t),this.__state=c.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return _(t,[{key:"toString",value:function(){return r(this)}},{key:"toHexString",value:function(){return r(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function b(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(g.recalculateRGB(this,e,n),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(g.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function w(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(g.recalculateHSV(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(g.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}g.recalculateRGB=function(t,e,n){if("HEX"===t.__state.space)t.__state[e]=f.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");a.extend(t.__state,f.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},g.recalculateHSV=function(t){var e=f.rgb_to_hsv(t.r,t.g,t.b);a.extend(t.__state,{s:e.s,v:e.v}),a.isNaN(e.h)?a.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},g.COMPONENTS=["r","g","b","h","s","v","hex","a"],b(g.prototype,"r",2),b(g.prototype,"g",1),b(g.prototype,"b",0),w(g.prototype,"h"),w(g.prototype,"s"),w(g.prototype,"v"),Object.defineProperty(g.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(g.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=f.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var x=function(){function t(e,n){p(this,t),this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return _(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),T={};a.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(t,e){a.each(t,function(t){T[t]=e})});var E=/(\d+(\.\d+)?)px/;function P(t){if("0"===t||a.isUndefined(t))return 0;var e=t.match(E);return a.isNull(e)?0:parseFloat(e[1])}var S={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var r=n,i=e;a.isUndefined(i)&&(i=!0),a.isUndefined(r)&&(r=!0),t.style.position="absolute",i&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){var i=n||{},o=T[e];if(!o)throw new Error("Event type "+e+" not supported.");var s=document.createEvent(o);switch(o){case"MouseEvents":var u=i.x||i.clientX||0,l=i.y||i.clientY||0;s.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,u,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=s.initKeyboardEvent||s.initKeyEvent;a.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:s.initEvent(e,i.bubbles||!1,i.cancelable||!0)}a.defaults(s,r),t.dispatchEvent(s)},bind:function(t,e,n,r){var i=r||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n),S},unbind:function(t,e,n,r){var i=r||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n),S},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return S},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(" "))}else t.className=void 0;return S},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return P(e["border-left-width"])+P(e["border-right-width"])+P(e["padding-left"])+P(e["padding-right"])+P(e.width)},getHeight:function(t){var e=getComputedStyle(t);return P(e["border-top-width"])+P(e["border-bottom-width"])+P(e["padding-top"])+P(e["padding-bottom"])+P(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},M=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),S.bind(r.__checkbox,"change",function(){i.setValue(!i.__prev)},!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return y(e,x),_(e,[{key:"setValue",value:function(t){var n=m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(),O=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r,s=i;if(i.__select=document.createElement("select"),a.isArray(o)){var u={};a.each(o,function(t){u[t]=t}),o=u}return a.each(o,function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),s.__select.appendChild(n)}),i.updateDisplay(),S.bind(i.__select,"change",function(){var t=this.options[this.selectedIndex].value;s.setValue(t)}),i.domElement.appendChild(i.__select),i}return y(e,x),_(e,[{key:"setValue",value:function(t){var n=m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return S.isActive(this.__select)?this:(this.__select.value=this.getValue(),m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(),I=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;function o(){i.setValue(i.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),S.bind(r.__input,"keyup",o),S.bind(r.__input,"change",o),S.bind(r.__input,"blur",function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),S.bind(r.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return y(e,x),_(e,[{key:"updateDisplay",value:function(){return S.isActive(this.__input)||(this.__input.value=this.getValue()),m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}();function k(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var L=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r||{};return i.__min=o.min,i.__max=o.max,i.__step=o.step,a.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=k(i.__impliedStep),i}return y(e,x),_(e,[{key:"setValue",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=k(t),this}}]),e}(),A=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));i.__truncationSuspended=!1;var o=i,s=void 0;function u(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function l(t){var e=s-t.clientY;o.setValue(o.getValue()+e*o.__impliedStep),s=t.clientY}function c(){S.unbind(window,"mousemove",l),S.unbind(window,"mouseup",c),u()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),S.bind(i.__input,"change",function(){var t=parseFloat(o.__input.value);a.isNaN(t)||o.setValue(t)}),S.bind(i.__input,"blur",function(){u()}),S.bind(i.__input,"mousedown",function(t){S.bind(window,"mousemove",l),S.bind(window,"mouseup",c),s=t.clientY}),S.bind(i.__input,"keydown",function(t){13===t.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,u())}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return y(e,L),_(e,[{key:"updateDisplay",value:function(){var t,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(t*r)/r),m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}();function D(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}var R=function(t){function e(t,n,r,i,o){p(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:r,max:i,step:o})),s=a;function u(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(D(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function l(){S.unbind(window,"mousemove",u),S.unbind(window,"mouseup",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function c(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(D(e,n.left,n.right,s.__min,s.__max))}function h(){S.unbind(window,"touchmove",c),S.unbind(window,"touchend",h),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),S.bind(a.__background,"mousedown",function(t){document.activeElement.blur(),S.bind(window,"mousemove",u),S.bind(window,"mouseup",l),u(t)}),S.bind(a.__background,"touchstart",function(t){1===t.touches.length&&(S.bind(window,"touchmove",c),S.bind(window,"touchend",h),c(t))}),S.addClass(a.__background,"slider"),S.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return y(e,L),_(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(),C=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===r?"Fire":r,S.bind(i.__button,"click",function(t){return t.preventDefault(),o.fire(),!1}),S.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return y(e,x),_(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(),j=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.__color=new g(r.getValue()),r.__temp=new g(0);var i=r;r.domElement=document.createElement("div"),S.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",S.bind(r.__input,"keydown",function(t){13===t.keyCode&&d.call(this)}),S.bind(r.__input,"blur",d),S.bind(r.__selector,"mousedown",function(){S.addClass(this,"drag").bind(window,"mouseup",function(){S.removeClass(i.__selector,"drag")})}),S.bind(r.__selector,"touchstart",function(){S.addClass(this,"drag").bind(window,"touchend",function(){S.removeClass(i.__selector,"drag")})});var o,s=document.createElement("div");function u(t){m(t),S.bind(window,"mousemove",m),S.bind(window,"touchmove",m),S.bind(window,"mouseup",h),S.bind(window,"touchend",h)}function l(t){y(t),S.bind(window,"mousemove",y),S.bind(window,"touchmove",y),S.bind(window,"mouseup",f),S.bind(window,"touchend",f)}function h(){S.unbind(window,"mousemove",m),S.unbind(window,"touchmove",m),S.unbind(window,"mouseup",h),S.unbind(window,"touchend",h),_()}function f(){S.unbind(window,"mousemove",y),S.unbind(window,"touchmove",y),S.unbind(window,"mouseup",f),S.unbind(window,"touchend",f),_()}function d(){var t=c(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function _(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function m(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,r=n.clientX,o=n.clientY,a=(r-e.left)/(e.right-e.left),s=1-(o-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function y(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return a.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),a.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),a.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),a.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),a.extend(s.style,{width:"100%",height:"100%",background:"none"}),N(s,"top","rgba(0,0,0,0)","#000"),a.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(o=r.__hue_field).style.background="",o.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",o.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),S.bind(r.__saturation_field,"mousedown",u),S.bind(r.__saturation_field,"touchstart",u),S.bind(r.__field_knob,"mousedown",u),S.bind(r.__field_knob,"touchstart",u),S.bind(r.__hue_field,"mousedown",l),S.bind(r.__hue_field,"touchstart",l),r.__saturation_field.appendChild(s),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return y(e,x),_(e,[{key:"updateDisplay",value:function(){var t=c(this.getValue());if(!1!==t){var e=!1;a.each(g.COMPONENTS,function(n){if(!a.isUndefined(t[n])&&!a.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}},this),e&&a.extend(this.__color.__state,t)}a.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;a.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,N(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),a.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),e}(),Y=["-moz-","-o-","-webkit-","-ms-",""];function N(t,e,n,r){t.style.background="",a.each(Y,function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+n+" 0%, "+r+" 100%); "})}var B=function(t,e){var n=t[e];return a.isArray(arguments[2])||a.isObject(arguments[2])?new O(t,e,arguments[2]):a.isNumber(n)?a.isNumber(arguments[2])&&a.isNumber(arguments[3])?a.isNumber(arguments[4])?new R(t,e,arguments[2],arguments[3],arguments[4]):new R(t,e,arguments[2],arguments[3]):a.isNumber(arguments[4])?new A(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new A(t,e,{min:arguments[2],max:arguments[3]}):a.isString(n)?new I(t,e):a.isFunction(n)?new C(t,e,""):a.isBoolean(n)?new M(t,e):null},F=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},H=function(){function t(){p(this,t),this.backgroundElement=document.createElement("div"),a.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),S.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),a.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;S.bind(this.backgroundElement,"click",function(){e.hide()})}return _(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),a.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",S.unbind(t.domElement,"webkitTransitionEnd",e),S.unbind(t.domElement,"transitionend",e),S.unbind(t.domElement,"oTransitionEnd",e)};S.bind(this.domElement,"webkitTransitionEnd",e),S.bind(this.domElement,"transitionend",e),S.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-S.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-S.getHeight(this.domElement)/2+"px"}}]),t}();!function(t,e){var n=e||document,r=document.createElement("style");r.type="text/css",r.innerHTML=t;var i=n.getElementsByTagName("head")[0];try{i.appendChild(r)}catch(t){}}(function(t){if("undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var V="Default",q=function(){try{return!!window.localStorage}catch(t){return!1}}(),W=void 0,U=!0,X=void 0,G=!1,z=[],Q=function t(e){var n=this,r=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),S.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=a.defaults(r,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),r=a.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),a.isUndefined(r.load)?r.load={preset:V}:r.preset&&(r.load.preset=r.preset),a.isUndefined(r.parent)&&r.hideable&&z.push(this),r.resizable=a.isUndefined(r.parent)&&r.resizable,r.autoPlace&&a.isUndefined(r.scrollable)&&(r.scrollable=!0);var i,o=q&&"true"===localStorage.getItem(et(this,"isLocal")),s=void 0,u=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(t){n.parent?n.getRoot().preset=t:r.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return r.width},set:function(t){r.width=t,it(n,t)}},name:{get:function(){return r.name},set:function(t){r.name=t,u&&(u.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?S.addClass(n.__ul,t.CLASS_CLOSED):S.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return o},set:function(t){q&&(o=t,t?S.bind(window,"unload",s):S.unbind(window,"unload",s),localStorage.setItem(et(n,"isLocal"),t))}}}),a.isUndefined(r.parent)){if(this.closed=r.closed||!1,S.addClass(this.domElement,t.CLASS_MAIN),S.makeSelectable(this.domElement,!1),q&&o){n.useLocalStorage=!0;var l=localStorage.getItem(et(this,"gui"));l&&(r.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,S.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),r.closeOnTop?(S.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(S.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),S.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===r.closed&&(r.closed=!0);var c=document.createTextNode(r.name);S.addClass(c,"controller-name"),u=J(n,c),S.addClass(this.__ul,t.CLASS_CLOSED),S.addClass(u,"title"),S.bind(u,"click",function(t){return t.preventDefault(),n.closed=!n.closed,!1}),r.closed||(this.closed=!1)}r.autoPlace&&(a.isUndefined(r.parent)&&(U&&(X=document.createElement("div"),S.addClass(X,"dg"),S.addClass(X,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(X),U=!1),X.appendChild(this.domElement),S.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||it(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},S.bind(window,"resize",this.__resizeHandler),S.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),S.bind(this.__ul,"transitionend",this.__resizeHandler),S.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&function(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function r(){S.removeClass(t.__closeButton,Q.CLASS_DRAG),S.unbind(window,"mousemove",n),S.unbind(window,"mouseup",r)}function i(i){return i.preventDefault(),e=i.clientX,S.addClass(t.__closeButton,Q.CLASS_DRAG),S.bind(window,"mousemove",n),S.bind(window,"mouseup",r),!1}t.__resize_handle=document.createElement("div"),a.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),S.bind(t.__resize_handle,"mousedown",i),S.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}(this),s=function(){q&&"true"===localStorage.getItem(et(n,"isLocal"))&&localStorage.setItem(et(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=s,r.parent||((i=n.getRoot()).width+=1,a.defer(function(){i.width-=1}))};function J(t,e,n){var r=document.createElement("li");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,n):t.__ul.appendChild(r),t.onResize(),r}function K(t){S.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&S.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function Z(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function $(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!==r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var o=n.load.remembered,a=void 0;if(o[t.preset])a=o[t.preset];else{if(!o[V])return;a=o[V]}if(a[r]&&void 0!==a[r][e.property]){var s=a[r][e.property];e.initialValue=s,e.setValue(s)}}}}function tt(t,e,n,r){if(void 0===e[n])throw new Error('Object "'+e+'" has no property "'+n+'"');var i=void 0;if(r.color)i=new j(e,n);else{var o=[e,n].concat(r.factoryArgs);i=B.apply(t,o)}r.before instanceof x&&(r.before=r.before.__li),$(t,i),S.addClass(i.domElement,"c");var s=document.createElement("span");S.addClass(s,"property-name"),s.innerHTML=i.property;var u=document.createElement("div");u.appendChild(s),u.appendChild(i.domElement);var l=J(t,u,r.before);return S.addClass(l,Q.CLASS_CONTROLLER_ROW),i instanceof j?S.addClass(l,"color"):S.addClass(l,d(i.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,a.extend(n,{options:function(e){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),tt(t,n.object,n.property,{before:r,factoryArgs:[a.toArray(arguments)]})}if(a.isArray(e)||a.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),tt(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof R){var r=new A(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});a.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(t){var e=n[t],i=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(r,t),e.apply(n,t)}}),S.addClass(e,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof A){var i=function(e){if(a.isNumber(n.__min)&&a.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=tt(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(r),i&&o.listen(),o}return e};n.min=a.compose(i,n.min),n.max=a.compose(i,n.max)}else n instanceof M?(S.bind(e,"click",function(){S.fakeEvent(n.__checkbox,"click")}),S.bind(n.__checkbox,"click",function(t){t.stopPropagation()})):n instanceof C?(S.bind(e,"click",function(){S.fakeEvent(n.__button,"click")}),S.bind(e,"mouseover",function(){S.addClass(n.__button,"hover")}),S.bind(e,"mouseout",function(){S.removeClass(n.__button,"hover")})):n instanceof j&&(S.addClass(e,"color"),n.updateDisplay=a.compose(function(t){return e.style.borderLeftColor=n.__color.toString(),t},n.updateDisplay),n.updateDisplay());n.setValue=a.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&Z(t.getRoot(),!0),e},n.setValue)}(t,l,i),t.__controllers.push(i),i}function et(t,e){return document.location.href+"."+e}function nt(t,e,n){var r=document.createElement("option");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function rt(t,e){e.style.display=t.useLocalStorage?"block":"none"}function it(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function ot(t,e){var n={};return a.each(t.__rememberedObjects,function(r,i){var o={},s=t.__rememberedObjectIndecesToControllers[i];a.each(s,function(t,n){o[n]=e?t.initialValue:t.getValue()}),n[i]=o}),n}Q.toggleHide=function(){G=!G,a.each(z,function(t){t.domElement.style.display=G?"none":""})},Q.CLASS_AUTO_PLACE="a",Q.CLASS_AUTO_PLACE_CONTAINER="ac",Q.CLASS_MAIN="main",Q.CLASS_CONTROLLER_ROW="cr",Q.CLASS_TOO_TALL="taller-than-window",Q.CLASS_CLOSED="closed",Q.CLASS_CLOSE_BUTTON="close-button",Q.CLASS_CLOSE_TOP="close-top",Q.CLASS_CLOSE_BOTTOM="close-bottom",Q.CLASS_DRAG="drag",Q.DEFAULT_WIDTH=245,Q.TEXT_CLOSED="Close Controls",Q.TEXT_OPEN="Open Controls",Q._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||Q.toggleHide()},S.bind(window,"keydown",Q._keydownHandler,!1),a.extend(Q.prototype,{add:function(t,e){return tt(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return tt(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;a.defer(function(){e.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&X.removeChild(this.domElement);var t=this;a.each(this.__folders,function(e){t.removeFolder(e)}),S.unbind(window,"keydown",Q._keydownHandler,!1),K(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new Q(e);this.__folders[t]=n;var r=J(this,n.domElement);return S.addClass(r,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],K(t);var e=this;a.each(t.__folders,function(e){t.removeFolder(e)}),a.defer(function(){e.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=S.getOffset(t.__ul).top,n=0;a.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=S.getHeight(e))}),window.innerHeight-e-20<n?(S.addClass(t.domElement,Q.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(S.removeClass(t.domElement,Q.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&a.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:a.debounce(function(){this.onResize()},50),remember:function(){if(a.isUndefined(W)&&((W=new H).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;a.each(Array.prototype.slice.call(arguments),function(e){0===t.__rememberedObjects.length&&function(t){var e=t.__save_row=document.createElement("li");S.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),S.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",S.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",S.addClass(r,"button"),S.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",S.addClass(i,"button"),S.addClass(i,"save-as");var o=document.createElement("span");o.innerHTML="Revert",S.addClass(o,"button"),S.addClass(o,"revert");var s=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?a.each(t.load.remembered,function(e,n){nt(t,n,n===t.preset)}):nt(t,V,!1),S.bind(s,"change",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),e.appendChild(s),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(o),q){var u=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(et(0,"isLocal"))&&l.setAttribute("checked","checked"),rt(t,u),S.bind(l,"change",function(){t.useLocalStorage=!t.useLocalStorage,rt(t,u)})}var c=document.getElementById("dg-new-constructor");S.bind(c,"keydown",function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||W.hide()}),S.bind(n,"click",function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),W.show(),c.focus(),c.select()}),S.bind(r,"click",function(){t.save()}),S.bind(i,"click",function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)}),S.bind(o,"click",function(){t.revert()})}(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&it(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=ot(this)),t.folders={},a.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ot(this),Z(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[V]=ot(this,!0)),this.load.remembered[t]=ot(this),this.preset=t,nt(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){a.each(this.__controllers,function(e){this.getRoot().load.remembered?$(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())},this),a.each(this.__folders,function(t){t.revert(t)}),t||Z(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&F.call(window,function(){t(e)}),a.each(e,function(t){t.updateDisplay()})}(this.__listening)},updateDisplay:function(){a.each(this.__controllers,function(t){t.updateDisplay()}),a.each(this.__folders,function(t){t.updateDisplay()})}});var at={Color:g,math:f,interpret:c},st={Controller:x,BooleanController:M,OptionController:O,StringController:I,NumberController:L,NumberControllerBox:A,NumberControllerSlider:R,FunctionController:C,ColorController:j},ut={dom:S},lt={GUI:Q},ct=Q,ht={color:at,controllers:st,dom:ut,gui:lt,GUI:ct};e.default=ht},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(69),i=n.n(r),o=n(468),a=n(0),s=n(129),u=n(27),l=(n(70),n(3)),c=n.n(l);function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:768;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._width=e,this._height=n,this._app=null,this._preloader=null,this._startReady=!1}var e,n;return e=t,(n=[{key:"init",value:function(){P3.assets.audioFileTypes=["ogg","mp3"],PIXI.settings.RETINA_PREFIX=/\_(?=[^_]*$)(.+)x/,PIXI.settings.MIPMAP_TEXTURES=!1,P3.settings.WARN_TEXTURE_DIVISIBLE_BY_2=!1,P3.settings.WARN_TEXTURE_MISSING=!0,P3.audio.forceHTML5Audio=Object(u.a)()||Object(u.d)(),P3.audio.preloadAudio=!0,a.a.gmi=window.gmi;var t=a.a.gmi.getAllSettings();P3.audio.mute(!t.audio),P3.audio.mute(void 0!==t.gameData&&!t.gameData.button_audio,"button"),console.log(a.a.gmi.getAllSettings()),"undefined"!=typeof TweenMax&&(TweenMax.defaultOverwrite="none"),PIXI.utils.isMobile.android.device&&i.a.enabled&&i.a.on("change",function(){setTimeout(function(){a.a.view.resize()},1e3)});var e=Object(u.b)()?"assets/images/ui_social_media_message.jpg":"assets/images/rotate_device.jpg",n={width:this._width,height:this._height,holderId:"game-holder",portrait:!1,rotateImageUrl:(a.a.gmi?a.a.gmi.gameDir:"./")+e,rotateImageColor:"#000000",aspectRatioFillHeight:!0},r=new P3.View(n);r.signals.ready.once(function(t){var n={};n.view=t,n.transparent=PIXI.utils.isMobile.android.device||PIXI.utils.isMobile.amazon.device,n.antialias=!1,n.preserveDrawingBuffer=n.transparent,n.resolution=1;var i=new PIXI.Container;a.a.stage=i,P3.input.init(i,t),P3.utils.isCocoonJS()&&(i.scale.x=window.innerHeight/this._height,i.scale.y=window.innerHeight/this._height);var o=P3.utils.isCocoonJS()?new PIXI.WebGLRenderer(window.innerWidth,window.innerHeight,n):PIXI.autoDetectRenderer(this._width,this._height,n);a.a.renderer=o,a.a.stage.addChild(P3.scene.view);var s=new PIXI.Container;if(a.a.stage.addChild(s),a.a.transitions=s,window.lasttweentime=0,window.tweendt=0,PIXI.ticker.shared.add(function(t){if(r.isCorrectOrientation){window.dt=t/PIXI.settings.TARGET_FPMS/1e3,P3.scene.update(),P3.input.update();var e=P3.utils.TWEEN.now();window.tweendt=e-window.lasttweentime,window.lasttweentime=e,P3.utils.TWEEN.update(),o.render(i)}}),Object(u.b)()){var l=new PIXI.Sprite(PIXI.Texture.fromImage((a.a.gmi?a.a.gmi.gameDir:"./")+e));l.position.set(.5*P3.View.width,.5*P3.View.height),l.rotation=.5*-Math.PI,l.anchor.set(.5,.5),l.visible=!1,a.a.stage.addChild(l),l.texture.on("update",function(){var t=l.texture.height/l.texture.width;l.width=P3.View.height,l.height=l.width*t,l.visible=!0})}else this.loadPreAssets()},this),r.signals.resize.add(this.onCanvasResize,this),a.a.view=r,this.loadConfig(function(){r.init()},this),this.applyViewPatch(),$(window).focus(function(){Howler.volume(1)}).blur(function(){Howler.volume(0)})}},{key:"loadConfig",value:function(t,e){e=e||window,a.a.days=c()().diff("2020-01-01","days"),a.a.date=c()().format("DD/MM/YY"),a.a.weekday=c()().weekday(),a.a.week=c()().week(),a.a.year=c()().year();var n=a.a.gmi?a.a.gmi.gameDir:"./";P3.assets.addFiles([{name:"config",url:"config.json"}],n),P3.assets.signals.complete.once(function(){a.a.config=P3.assets.json("config"),t&&t.call(e)},this),P3.assets.load()}},{key:"loadPreAssets",value:function(){var t=[{name:"static_questions",url:"data/static_questions.json"},{name:"skin_slot_data",url:"data/skin_slot_data.json"},{name:"bosses",url:"data/bosses.json"},{name:"characters",url:"data/characters.json"},{name:"equipment",url:"data/equipment.json"},{name:"locations",url:"data/locations.json"},{name:"questions",url:"data/questions.json"},{name:"templates",url:"data/templates.json"},{name:"subtitles",url:"data/subtitles.json"},{name:"strings",url:"data/strings.json"},{name:"achievements",url:"data/achievements.json"},{name:"reith_44",url:"fonts/reith_44.xml"},{name:"reith_100",url:"fonts/reith_100.xml"},{name:"bbc_reith_mathssymbols_24pt",url:"fonts/bbc_reith_mathssymbols_24pt.xml"},{name:"bbc_reith_mathssymbols_48pt",url:"fonts/bbc_reith_mathssymbols_48pt.xml"},{name:"carter_one_32",url:"fonts/carter_one_32.xml"}];if((t=t.concat(PIXI.utils.isMobile.any?[{name:"ui_9slice",url:"images/ui_9slice_0.6x.json"},{name:"ui_preloader_1x",url:"images/ui_preloader_0.6x.json"},{name:"ui_preloader",url:"images/ui_preloader_0.5x.jpg"}]:[{name:"ui_9slice",url:"images/ui_9slice_1x.json"},{name:"ui_preloader_1x",url:"images/ui_preloader_1x.json"},{name:"ui_preloader",url:"images/ui_preloader.jpg"}])).length){var e=a.a.gmi?a.a.gmi.gameDir:"./";P3.assets.addFiles(t,e+"assets/"),P3.assets.signals.complete.once(this.loadMinimumAssets,this),P3.assets.load()}else this.loadMinimumAssets()}},{key:"loadMinimumAssets",value:function(){var t=this,e=[{name:"guardians_spine_elf_all",url:"images/guardians_spine_elf_all_0.6x.json"},{name:"guardians_spine_knight_all",url:"images/guardians_spine_knight_all_0.6x.json"},{name:"guardians_spine_ranger_all",url:"images/guardians_spine_ranger_all_0.6x.json"},{name:"guardians_spine_warrior_all",url:"images/guardians_spine_warrior_all_0.6x.json"},{name:"guardians_spine_witch_all",url:"images/guardians_spine_witch_all_0.6x.json"},{name:"guardians_spine_wizard_all",url:"images/guardians_spine_wizard_all_0.6x.json"},{name:"guardians_spine_equip",url:"images/guardians_spine_equip_0.6x.json"},{name:"guardians_spine_pets",url:"images/guardians_spine_pets_0.6x.json"},{name:"guardians_spine_vfx",url:"images/guardians_spine_vfx_0.6x.json"},{name:"adversary_dragon",url:"spine/adversary_dragon.json"},{name:"adversary_spider",url:"spine/adversary_spider.json"},{name:"adversary_hobgoblin",url:"spine/adversary_hobgoblin.json"},{name:"adversary_troll",url:"spine/adversary_troll.json"},{name:"adversary_trainingtroll",url:"spine/adversary_trainingtroll.json"},{name:"adversary_mage",url:"spine/adversary_mage.json"},{name:"adversary_spirit",url:"spine/adversary_spirit.json"},{name:"challenge_flag",url:"spine/challenge_flag.json"},{name:"particle_emitter_dragon_flame",url:"particles/particle_emitter_dragon_flame.json"},{name:"particle_equip_character_0",url:"particles/particle_equip_character_0.json"},{name:"particle_change_character_0",url:"particles/particle_change_character_0.json"},{name:"particle_loot_coins_burst_0",url:"particles/particle_loot_coins_burst_0.json"},{name:"particle_fairy_dust",url:"particles/particle_fairy_dust.json"},{name:"particle_fire_fg_flame_00",url:"particles/particle_fire_fg_flame_00.json"},{name:"particle_fire_bg_smoke_00",url:"particles/particle_fire_bg_smoke_00.json"},{name:"particle_orb",url:"particles/particle_orb.json"},{name:"particle_orb_big",url:"particles/particle_orb_big.json"},{name:"particle_weapon_reveal_0",url:"particles/particle_weapon_reveal_0.json"}];if(e=e.concat(PIXI.utils.isMobile.any?[{name:"ui_gel",url:"images/gel_btns_mobile_1x.json"},{name:"ui_splash",url:"images/ui_splash_0.5x.jpg"},{name:"ui_results_bg1",url:"images/ui_results_0.5x.jpg"},{name:"ui_achievements",url:"images/ui_achievements_0.6x.json"},{name:"ui_elements",url:"images/ui_elements_0.6x.json"},{name:"ui_help",url:"images/ui_help_0.6x.json"},{name:"ui_btns",url:"images/ui_btns_0.6x.json"},{name:"fx",url:"images/fx_0.6x.json"},{name:"ui_particle_fx",url:"images/ui_particle_fx_0.5x.json"}]:[{name:"ui_gel",url:"images/gel_btns_desktop_1x.json"},{name:"ui_splash",url:"images/ui_splash.jpg"},{name:"ui_results_bg1",url:"images/ui_results.jpg"},{name:"ui_achievements",url:"images/ui_achievements_1x.json"},{name:"ui_elements",url:"images/ui_elements_1x.json"},{name:"ui_help",url:"images/ui_help_1x.json"},{name:"ui_btns",url:"images/ui_btns_1x.json"},{name:"fx",url:"images/fx_1x.json"},{name:"ui_particle_fx",url:"images/ui_particle_fx_1x.json"}]),(e=Object(u.d)()||Object(u.e)()?e.concat([{name:"music_mathematica_main_theme",url:"audio/mono/music/music_mathematica_main_theme"+P3.assets.audioFileExt},{name:"vo_queen_163",url:"audio/mono/vos/queen/vo_queen_163"+P3.assets.audioFileExt}]):e.concat([{name:"music_mathematica_main_theme",url:"audio/mono/music/music_mathematica_main_theme"+P3.assets.audioFileExt},{name:"sfx_btn_press_00",url:"audio/mono/sfx_btn_press_00"+P3.assets.audioFileExt},{name:"sfx_btn_rollover_00",url:"audio/mono/sfx_btn_rollover_00"+P3.assets.audioFileExt},{name:"vo_queen_03",url:"audio/mono/vos/queen/vo_queen_03"+P3.assets.audioFileExt},{name:"vo_queen_103a",url:"audio/mono/vos/queen/vo_queen_103a"+P3.assets.audioFileExt},{name:"vo_queen_105b",url:"audio/mono/vos/queen/vo_queen_105b"+P3.assets.audioFileExt},{name:"vo_queen_106b",url:"audio/mono/vos/queen/vo_queen_106b"+P3.assets.audioFileExt},{name:"vo_queen_107",url:"audio/mono/vos/queen/vo_queen_107"+P3.assets.audioFileExt},{name:"vo_queen_163",url:"audio/mono/vos/queen/vo_queen_163"+P3.assets.audioFileExt}])).length){a.a.config.strings=P3.assets.json("strings"),this._preloader=new s.a,this._preloader.signals.next.add(function(){t._startReady&&t.start(),t._startReady=!0}),P3.scene.show(this._preloader);var n=a.a.gmi?a.a.gmi.gameDir:"./";P3.assets.addFiles(e,n+"assets/"),P3.assets.signals.complete.once(function(){return t.loadSharedSpines()}),P3.assets.load()}else this.start()}},{key:"loadRequiredAssets",value:function(){var t=this,e=[{name:"wooden_table_texture",url:"images/wooden_table_texture.jpg"},{name:"character_island_0",url:"images/environments/character_island_0.png"},{name:"env_bg_char_select",url:"images/environments/env_bg_char_select_0.5x.jpg"}];if(e=e.concat(PIXI.utils.isMobile.any?[{name:"ui_levelselect",url:"images/ui_levelselect_0.6x.json"},{name:"ui_equip",url:"images/ui_equip_0.6x.json"},{name:"ui_results",url:"images/ui_results_0.6x.json"},{name:"shapes",url:"images/shapes_0.6x.json"},{name:"measurement",url:"images/measurement_0.6x.json"},{name:"map_2048",url:"images/map_2048_0.5x.jpg"}]:[{name:"ui_levelselect",url:"images/ui_levelselect_1x.json"},{name:"ui_equip",url:"images/ui_equip_1x.json"},{name:"ui_results",url:"images/ui_results_1x.json"},{name:"shapes",url:"images/shapes_1x.json"},{name:"measurement",url:"images/measurement_1x.json"},{name:"map_2048",url:"images/map_2048_1x.jpg"}]),(e=Object(u.d)()||Object(u.e)()?e.concat([{name:"vo_queen_57",url:"audio/mono/vos/queen/vo_queen_57"+P3.assets.audioFileExt},{name:"vo_queen_58",url:"audio/mono/vos/queen/vo_queen_58"+P3.assets.audioFileExt},{name:"vo_queen_61b",url:"audio/mono/vos/queen/vo_queen_61b"+P3.assets.audioFileExt},{name:"vo_queen_126",url:"audio/mono/vos/queen/vo_queen_126"+P3.assets.audioFileExt},{name:"vo_queen_127b",url:"audio/mono/vos/queen/vo_queen_127b"+P3.assets.audioFileExt},{name:"vo_queen_128",url:"audio/mono/vos/queen/vo_queen_128"+P3.assets.audioFileExt},{name:"vo_queen_62a",url:"audio/mono/vos/queen/vo_queen_62a"+P3.assets.audioFileExt},{name:"vo_queen_64",url:"audio/mono/vos/queen/vo_queen_64"+P3.assets.audioFileExt},{name:"vo_queen_68",url:"audio/mono/vos/queen/vo_queen_68"+P3.assets.audioFileExt},{name:"vo_queen_69",url:"audio/mono/vos/queen/vo_queen_69"+P3.assets.audioFileExt},{name:"vo_queen_70a",url:"audio/mono/vos/queen/vo_queen_70a"+P3.assets.audioFileExt},{name:"vo_queen_71a",url:"audio/mono/vos/queen/vo_queen_71a"+P3.assets.audioFileExt},{name:"vo_queen_72a",url:"audio/mono/vos/queen/vo_queen_72a"+P3.assets.audioFileExt},{name:"music_avatar_loop_00",url:"audio/mono/music/music_avatar_loop_00"+P3.assets.audioFileExt},{name:"music_battle_loop_01",url:"audio/mono/music/music_battle_loop_01"+P3.assets.audioFileExt},{name:"music_battle_loop_02",url:"audio/mono/music/music_battle_loop_02"+P3.assets.audioFileExt},{name:"music_battle_loop_03",url:"audio/mono/music/music_battle_loop_03"+P3.assets.audioFileExt},{name:"music_timed_battle_01",url:"audio/mono/music/music_timed_battle_01"+P3.assets.audioFileExt},{name:"music_timed_battle_02",url:"audio/mono/music/music_timed_battle_02"+P3.assets.audioFileExt},{name:"music_timed_battle_03",url:"audio/mono/music/music_timed_battle_03"+P3.assets.audioFileExt},{name:"music_pause_menu",url:"audio/mono/music/music_pause_menu"+P3.assets.audioFileExt},{name:"music_results_loop",url:"audio/mono/music/music_results_loop"+P3.assets.audioFileExt}]):e.concat(Object(u.c)()?[{name:"vo_queen_57",url:"audio/mono/vos/queen/vo_queen_57"+P3.assets.audioFileExt},{name:"vo_queen_58",url:"audio/mono/vos/queen/vo_queen_58"+P3.assets.audioFileExt},{name:"vo_queen_61b",url:"audio/mono/vos/queen/vo_queen_61b"+P3.assets.audioFileExt},{name:"vo_queen_126",url:"audio/mono/vos/queen/vo_queen_126"+P3.assets.audioFileExt},{name:"vo_queen_127b",url:"audio/mono/vos/queen/vo_queen_127b"+P3.assets.audioFileExt},{name:"vo_queen_128",url:"audio/mono/vos/queen/vo_queen_128"+P3.assets.audioFileExt},{name:"music_avatar_loop_00",url:"audio/mono/music/music_avatar_loop_00"+P3.assets.audioFileExt},{name:"music_battle_loop_01",url:"audio/mono/music/music_battle_loop_01"+P3.assets.audioFileExt},{name:"music_battle_loop_02",url:"audio/mono/music/music_battle_loop_02"+P3.assets.audioFileExt},{name:"music_battle_loop_03",url:"audio/mono/music/music_battle_loop_03"+P3.assets.audioFileExt},{name:"music_timed_battle_01",url:"audio/mono/music/music_timed_battle_01"+P3.assets.audioFileExt},{name:"music_timed_battle_02",url:"audio/mono/music/music_timed_battle_02"+P3.assets.audioFileExt},{name:"music_timed_battle_03",url:"audio/mono/music/music_timed_battle_03"+P3.assets.audioFileExt},{name:"music_pause_menu",url:"audio/mono/music/music_pause_menu"+P3.assets.audioFileExt},{name:"music_results_loop",url:"audio/mono/music/music_results_loop"+P3.assets.audioFileExt},{name:"sfx_scroll_disappear_00",url:"audio/mono/sfx_scroll_disappear_00"+P3.assets.audioFileExt},{name:"sfx_scroll_open_00",url:"audio/mono/sfx_scroll_open_00"+P3.assets.audioFileExt},{name:"sfx_scroll_open_01",url:"audio/mono/sfx_scroll_open_01"+P3.assets.audioFileExt},{name:"sfx_round_lost_00",url:"audio/mono/sfx_round_lost_00"+P3.assets.audioFileExt},{name:"sfx_round_won_00",url:"audio/mono/sfx_round_won_00"+P3.assets.audioFileExt},{name:"sfx_level_select_card_00",url:"audio/mono/sfx_level_select_card_00"+P3.assets.audioFileExt},{name:"sfx_loot_crate_reveal_02",url:"audio/mono/sfx_loot_crate_reveal_02"+P3.assets.audioFileExt},{name:"sfx_loot_crate_reveal_03",url:"audio/mono/sfx_loot_crate_reveal_03"+P3.assets.audioFileExt},{name:"sfx_lootcrate_open_00",url:"audio/mono/sfx_lootcrate_open_00"+P3.assets.audioFileExt},{name:"sfx_customise_close_00",url:"audio/mono/sfx_customise_close_00"+P3.assets.audioFileExt},{name:"sfx_customise_open_00",url:"audio/mono/sfx_customise_open_00"+P3.assets.audioFileExt},{name:"sfx_btn_keypad_press_00",url:"audio/mono/sfx_btn_keypad_press_00"+P3.assets.audioFileExt},{name:"sfx_btn_keypad_rollover_00",url:"audio/mono/sfx_btn_keypad_rollover_00"+P3.assets.audioFileExt},{name:"sfx_avatar_loop_ambience_01",url:"audio/mono/sfx_avatar_loop_ambience_01"+P3.assets.audioFileExt},{name:"sfx_block_move_00",url:"audio/mono/sfx_block_move_00"+P3.assets.audioFileExt},{name:"sfx_block_placed_01",url:"audio/mono/sfx_block_placed_01"+P3.assets.audioFileExt},{name:"sfx_guardian_arrow_attack_00",url:"audio/mono/sfx_guardian_arrow_attack_00"+P3.assets.audioFileExt},{name:"sfx_guardian_hammer_attack_00",url:"audio/mono/sfx_guardian_hammer_attack_00"+P3.assets.audioFileExt},{name:"sfx_guardian_magic_attack_00",url:"audio/mono/sfx_guardian_magic_attack_00"+P3.assets.audioFileExt},{name:"sfx_guardian_spear_attack_00",url:"audio/mono/sfx_guardian_spear_attack_00"+P3.assets.audioFileExt},{name:"sfx_guardian_spell_attack_00",url:"audio/mono/sfx_guardian_spell_attack_00"+P3.assets.audioFileExt},{name:"sfx_guardian_sword_attack_00",url:"audio/mono/sfx_guardian_sword_attack_00"+P3.assets.audioFileExt},{name:"sfx_shield_level_1",url:"audio/mono/sfx_shield_level_1"+P3.assets.audioFileExt},{name:"sfx_shield_level_2",url:"audio/mono/sfx_shield_level_2"+P3.assets.audioFileExt},{name:"sfx_shield_level_3",url:"audio/mono/sfx_shield_level_3"+P3.assets.audioFileExt},{name:"sfx_shield_level_4",url:"audio/mono/sfx_shield_level_4"+P3.assets.audioFileExt},{name:"sfx_enter_dragon",url:"audio/mono/sfx_enter_dragon"+P3.assets.audioFileExt},{name:"sfx_enter_hobgoblin",url:"audio/mono/sfx_enter_hobgoblin"+P3.assets.audioFileExt},{name:"sfx_enter_mage",url:"audio/mono/sfx_enter_mage"+P3.assets.audioFileExt},{name:"sfx_enter_spider",url:"audio/mono/sfx_enter_spider"+P3.assets.audioFileExt},{name:"sfx_enter_spirit",url:"audio/mono/sfx_enter_spirit"+P3.assets.audioFileExt},{name:"sfx_enter_troll",url:"audio/mono/sfx_enter_troll"+P3.assets.audioFileExt},{name:"sfx_generic_adversary_damage_00",url:"audio/mono/sfx_generic_adversary_damage_00"+P3.assets.audioFileExt},{name:"sfx_generic_adversary_damage_01",url:"audio/mono/sfx_generic_adversary_damage_01"+P3.assets.audioFileExt},{name:"sfx_generic_adversary_damage_02",url:"audio/mono/sfx_generic_adversary_damage_02"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_female_00",url:"audio/mono/sfx_generic_guardian_damage_female_00"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_female_01",url:"audio/mono/sfx_generic_guardian_damage_female_01"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_female_02",url:"audio/mono/sfx_generic_guardian_damage_female_02"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_male_00",url:"audio/mono/sfx_generic_guardian_damage_male_00"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_male_01",url:"audio/mono/sfx_generic_guardian_damage_male_01"+P3.assets.audioFileExt},{name:"sfx_question_timer_01",url:"audio/mono/sfx_question_timer_01"+P3.assets.audioFileExt}]:[{name:"vo_queen_04b",url:"audio/mono/vos/queen/vo_queen_04b"+P3.assets.audioFileExt},{name:"vo_queen_07b",url:"audio/mono/vos/queen/vo_queen_07b"+P3.assets.audioFileExt},{name:"vo_queen_08",url:"audio/mono/vos/queen/vo_queen_08"+P3.assets.audioFileExt},{name:"vo_queen_10a",url:"audio/mono/vos/queen/vo_queen_10a"+P3.assets.audioFileExt},{name:"vo_queen_11b",url:"audio/mono/vos/queen/vo_queen_11b"+P3.assets.audioFileExt},{name:"vo_queen_13b",url:"audio/mono/vos/queen/vo_queen_13b"+P3.assets.audioFileExt},{name:"vo_queen_14b",url:"audio/mono/vos/queen/vo_queen_14b"+P3.assets.audioFileExt},{name:"vo_queen_16a",url:"audio/mono/vos/queen/vo_queen_16a"+P3.assets.audioFileExt},{name:"vo_queen_17",url:"audio/mono/vos/queen/vo_queen_17"+P3.assets.audioFileExt},{name:"vo_queen_19b",url:"audio/mono/vos/queen/vo_queen_19b"+P3.assets.audioFileExt},{name:"vo_queen_20b",url:"audio/mono/vos/queen/vo_queen_20b"+P3.assets.audioFileExt},{name:"vo_queen_21",url:"audio/mono/vos/queen/vo_queen_21"+P3.assets.audioFileExt},{name:"vo_queen_23",url:"audio/mono/vos/queen/vo_queen_23"+P3.assets.audioFileExt},{name:"vo_queen_25a",url:"audio/mono/vos/queen/vo_queen_25a"+P3.assets.audioFileExt},{name:"vo_queen_26a",url:"audio/mono/vos/queen/vo_queen_26a"+P3.assets.audioFileExt},{name:"vo_queen_27d",url:"audio/mono/vos/queen/vo_queen_27d"+P3.assets.audioFileExt},{name:"vo_queen_28a",url:"audio/mono/vos/queen/vo_queen_28a"+P3.assets.audioFileExt},{name:"vo_queen_29c",url:"audio/mono/vos/queen/vo_queen_29c"+P3.assets.audioFileExt},{name:"vo_queen_30c",url:"audio/mono/vos/queen/vo_queen_30c"+P3.assets.audioFileExt},{name:"vo_queen_31b",url:"audio/mono/vos/queen/vo_queen_31b"+P3.assets.audioFileExt},{name:"vo_queen_32a",url:"audio/mono/vos/queen/vo_queen_32a"+P3.assets.audioFileExt},{name:"vo_queen_33a",url:"audio/mono/vos/queen/vo_queen_33a"+P3.assets.audioFileExt},{name:"vo_queen_34",url:"audio/mono/vos/queen/vo_queen_34"+P3.assets.audioFileExt},{name:"vo_queen_35b",url:"audio/mono/vos/queen/vo_queen_35b"+P3.assets.audioFileExt},{name:"vo_queen_36a",url:"audio/mono/vos/queen/vo_queen_36a"+P3.assets.audioFileExt},{name:"vo_queen_37a",url:"audio/mono/vos/queen/vo_queen_37a"+P3.assets.audioFileExt},{name:"vo_queen_38a",url:"audio/mono/vos/queen/vo_queen_38a"+P3.assets.audioFileExt},{name:"vo_queen_39a",url:"audio/mono/vos/queen/vo_queen_39a"+P3.assets.audioFileExt},{name:"vo_queen_40c",url:"audio/mono/vos/queen/vo_queen_40c"+P3.assets.audioFileExt},{name:"vo_queen_41",url:"audio/mono/vos/queen/vo_queen_41"+P3.assets.audioFileExt},{name:"vo_queen_42b",url:"audio/mono/vos/queen/vo_queen_42b"+P3.assets.audioFileExt},{name:"vo_queen_43a",url:"audio/mono/vos/queen/vo_queen_43a"+P3.assets.audioFileExt},{name:"vo_queen_44a",url:"audio/mono/vos/queen/vo_queen_44a"+P3.assets.audioFileExt},{name:"vo_queen_45a",url:"audio/mono/vos/queen/vo_queen_45a"+P3.assets.audioFileExt},{name:"vo_queen_46",url:"audio/mono/vos/queen/vo_queen_46"+P3.assets.audioFileExt},{name:"vo_queen_47a",url:"audio/mono/vos/queen/vo_queen_47a"+P3.assets.audioFileExt},{name:"vo_queen_48",url:"audio/mono/vos/queen/vo_queen_48"+P3.assets.audioFileExt},{name:"vo_queen_49a",url:"audio/mono/vos/queen/vo_queen_49a"+P3.assets.audioFileExt},{name:"vo_queen_50",url:"audio/mono/vos/queen/vo_queen_50"+P3.assets.audioFileExt},{name:"vo_queen_51a",url:"audio/mono/vos/queen/vo_queen_51a"+P3.assets.audioFileExt},{name:"vo_queen_52",url:"audio/mono/vos/queen/vo_queen_52"+P3.assets.audioFileExt},{name:"vo_queen_53c",url:"audio/mono/vos/queen/vo_queen_53c"+P3.assets.audioFileExt},{name:"vo_queen_54a",url:"audio/mono/vos/queen/vo_queen_54a"+P3.assets.audioFileExt},{name:"vo_queen_56",url:"audio/mono/vos/queen/vo_queen_56"+P3.assets.audioFileExt},{name:"vo_queen_57",url:"audio/mono/vos/queen/vo_queen_57"+P3.assets.audioFileExt},{name:"vo_queen_58",url:"audio/mono/vos/queen/vo_queen_58"+P3.assets.audioFileExt},{name:"vo_queen_61b",url:"audio/mono/vos/queen/vo_queen_61b"+P3.assets.audioFileExt},{name:"vo_queen_126",url:"audio/mono/vos/queen/vo_queen_126"+P3.assets.audioFileExt},{name:"vo_queen_127b",url:"audio/mono/vos/queen/vo_queen_127b"+P3.assets.audioFileExt},{name:"vo_queen_128",url:"audio/mono/vos/queen/vo_queen_128"+P3.assets.audioFileExt},{name:"vo_queen_129",url:"audio/mono/vos/queen/vo_queen_129"+P3.assets.audioFileExt},{name:"vo_queen_130",url:"audio/mono/vos/queen/vo_queen_130"+P3.assets.audioFileExt},{name:"vo_queen_131",url:"audio/mono/vos/queen/vo_queen_131"+P3.assets.audioFileExt},{name:"vo_queen_132",url:"audio/mono/vos/queen/vo_queen_132"+P3.assets.audioFileExt},{name:"vo_queen_133b",url:"audio/mono/vos/queen/vo_queen_133b"+P3.assets.audioFileExt},{name:"vo_queen_134b",url:"audio/mono/vos/queen/vo_queen_134b"+P3.assets.audioFileExt},{name:"vo_queen_135",url:"audio/mono/vos/queen/vo_queen_135"+P3.assets.audioFileExt},{name:"vo_queen_136f",url:"audio/mono/vos/queen/vo_queen_136f"+P3.assets.audioFileExt},{name:"vo_queen_137",url:"audio/mono/vos/queen/vo_queen_137"+P3.assets.audioFileExt},{name:"vo_queen_104a",url:"audio/mono/vos/queen/vo_queen_104a"+P3.assets.audioFileExt},{name:"vo_queen_112a",url:"audio/mono/vos/queen/vo_queen_112a"+P3.assets.audioFileExt},{name:"vo_queen_114c",url:"audio/mono/vos/queen/vo_queen_114c"+P3.assets.audioFileExt},{name:"vo_queen_115",url:"audio/mono/vos/queen/vo_queen_115"+P3.assets.audioFileExt},{name:"vo_queen_116",url:"audio/mono/vos/queen/vo_queen_116"+P3.assets.audioFileExt},{name:"vo_queen_118",url:"audio/mono/vos/queen/vo_queen_118"+P3.assets.audioFileExt},{name:"vo_queen_119b",url:"audio/mono/vos/queen/vo_queen_119b"+P3.assets.audioFileExt},{name:"vo_queen_120a",url:"audio/mono/vos/queen/vo_queen_120a"+P3.assets.audioFileExt},{name:"vo_queen_123",url:"audio/mono/vos/queen/vo_queen_123"+P3.assets.audioFileExt},{name:"vo_queen_62a",url:"audio/mono/vos/queen/vo_queen_62a"+P3.assets.audioFileExt},{name:"vo_queen_64",url:"audio/mono/vos/queen/vo_queen_64"+P3.assets.audioFileExt},{name:"vo_queen_68",url:"audio/mono/vos/queen/vo_queen_68"+P3.assets.audioFileExt},{name:"vo_queen_69",url:"audio/mono/vos/queen/vo_queen_69"+P3.assets.audioFileExt},{name:"vo_queen_70a",url:"audio/mono/vos/queen/vo_queen_70a"+P3.assets.audioFileExt},{name:"vo_queen_71a",url:"audio/mono/vos/queen/vo_queen_71a"+P3.assets.audioFileExt},{name:"vo_queen_72a",url:"audio/mono/vos/queen/vo_queen_72a"+P3.assets.audioFileExt},{name:"vo_queen_191b",url:"audio/mono/vos/queen/vo_queen_191b"+P3.assets.audioFileExt},{name:"vo_queen_193a",url:"audio/mono/vos/queen/vo_queen_193a"+P3.assets.audioFileExt},{name:"vo_queen_194b",url:"audio/mono/vos/queen/vo_queen_194b"+P3.assets.audioFileExt},{name:"vo_queen_195b",url:"audio/mono/vos/queen/vo_queen_195b"+P3.assets.audioFileExt},{name:"vo_queen_196c",url:"audio/mono/vos/queen/vo_queen_196c"+P3.assets.audioFileExt},{name:"vo_queen_200a",url:"audio/mono/vos/queen/vo_queen_200a"+P3.assets.audioFileExt},{name:"vo_queen_200b193a",url:"audio/mono/vos/queen/vo_queen_200b193a"+P3.assets.audioFileExt},{name:"vo_queen_200b194b",url:"audio/mono/vos/queen/vo_queen_200b194b"+P3.assets.audioFileExt},{name:"vo_queen_200b195b",url:"audio/mono/vos/queen/vo_queen_200b195b"+P3.assets.audioFileExt},{name:"vo_queen_200b196c",url:"audio/mono/vos/queen/vo_queen_200b196c"+P3.assets.audioFileExt},{name:"vo_guardian_neg_1",url:"audio/mono/vos/guardian/vo_guardian_neg_1"+P3.assets.audioFileExt},{name:"vo_guardian_neg_2",url:"audio/mono/vos/guardian/vo_guardian_neg_2"+P3.assets.audioFileExt},{name:"vo_guardian_neg_3",url:"audio/mono/vos/guardian/vo_guardian_neg_3"+P3.assets.audioFileExt},{name:"vo_guardian_neg_4",url:"audio/mono/vos/guardian/vo_guardian_neg_4"+P3.assets.audioFileExt},{name:"vo_guardian_neg_5",url:"audio/mono/vos/guardian/vo_guardian_neg_5"+P3.assets.audioFileExt},{name:"vo_guardian_neg_6",url:"audio/mono/vos/guardian/vo_guardian_neg_6"+P3.assets.audioFileExt},{name:"vo_guardian_neg_7",url:"audio/mono/vos/guardian/vo_guardian_neg_7"+P3.assets.audioFileExt},{name:"vo_guardian_neg_8",url:"audio/mono/vos/guardian/vo_guardian_neg_8"+P3.assets.audioFileExt},{name:"vo_guardian_neg_9",url:"audio/mono/vos/guardian/vo_guardian_neg_9"+P3.assets.audioFileExt},{name:"vo_guardian_pos_1",url:"audio/mono/vos/guardian/vo_guardian_pos_1"+P3.assets.audioFileExt},{name:"vo_guardian_pos_2",url:"audio/mono/vos/guardian/vo_guardian_pos_2"+P3.assets.audioFileExt},{name:"vo_guardian_pos_3",url:"audio/mono/vos/guardian/vo_guardian_pos_3"+P3.assets.audioFileExt},{name:"vo_guardian_pos_4",url:"audio/mono/vos/guardian/vo_guardian_pos_4"+P3.assets.audioFileExt},{name:"vo_guardian_pos_5",url:"audio/mono/vos/guardian/vo_guardian_pos_5"+P3.assets.audioFileExt},{name:"vo_guardian_pos_6",url:"audio/mono/vos/guardian/vo_guardian_pos_6"+P3.assets.audioFileExt},{name:"vo_guardian_pos_7",url:"audio/mono/vos/guardian/vo_guardian_pos_7"+P3.assets.audioFileExt},{name:"vo_guardian_pos_8",url:"audio/mono/vos/guardian/vo_guardian_pos_8"+P3.assets.audioFileExt},{name:"vo_guardian_pos_9",url:"audio/mono/vos/guardian/vo_guardian_pos_9"+P3.assets.audioFileExt},{name:"music_avatar_loop_00",url:"audio/mono/music/music_avatar_loop_00"+P3.assets.audioFileExt},{name:"music_battle_loop_01",url:"audio/mono/music/music_battle_loop_01"+P3.assets.audioFileExt},{name:"music_battle_loop_02",url:"audio/mono/music/music_battle_loop_02"+P3.assets.audioFileExt},{name:"music_battle_loop_03",url:"audio/mono/music/music_battle_loop_03"+P3.assets.audioFileExt},{name:"music_timed_battle_01",url:"audio/mono/music/music_timed_battle_01"+P3.assets.audioFileExt},{name:"music_timed_battle_02",url:"audio/mono/music/music_timed_battle_02"+P3.assets.audioFileExt},{name:"music_timed_battle_03",url:"audio/mono/music/music_timed_battle_03"+P3.assets.audioFileExt},{name:"music_pause_menu",url:"audio/mono/music/music_pause_menu"+P3.assets.audioFileExt},{name:"music_results_loop",url:"audio/mono/music/music_results_loop"+P3.assets.audioFileExt},{name:"music_round_lost",url:"audio/mono/music/music_round_lost"+P3.assets.audioFileExt},{name:"music_round_won",url:"audio/mono/music/music_round_won"+P3.assets.audioFileExt},{name:"sfx_scroll_disappear_00",url:"audio/mono/sfx_scroll_disappear_00"+P3.assets.audioFileExt},{name:"sfx_scroll_open_00",url:"audio/mono/sfx_scroll_open_00"+P3.assets.audioFileExt},{name:"sfx_scroll_open_01",url:"audio/mono/sfx_scroll_open_01"+P3.assets.audioFileExt},{name:"sfx_round_lost_00",url:"audio/mono/sfx_round_lost_00"+P3.assets.audioFileExt},{name:"sfx_round_won_00",url:"audio/mono/sfx_round_won_00"+P3.assets.audioFileExt},{name:"sfx_level_select_card_00",url:"audio/mono/sfx_level_select_card_00"+P3.assets.audioFileExt},{name:"sfx_loot_crate_reveal_02",url:"audio/mono/sfx_loot_crate_reveal_02"+P3.assets.audioFileExt},{name:"sfx_loot_crate_reveal_03",url:"audio/mono/sfx_loot_crate_reveal_03"+P3.assets.audioFileExt},{name:"sfx_lootcrate_open_00",url:"audio/mono/sfx_lootcrate_open_00"+P3.assets.audioFileExt},{name:"sfx_customise_close_00",url:"audio/mono/sfx_customise_close_00"+P3.assets.audioFileExt},{name:"sfx_customise_open_00",url:"audio/mono/sfx_customise_open_00"+P3.assets.audioFileExt},{name:"sfx_btn_keypad_press_00",url:"audio/mono/sfx_btn_keypad_press_00"+P3.assets.audioFileExt},{name:"sfx_btn_keypad_rollover_00",url:"audio/mono/sfx_btn_keypad_rollover_00"+P3.assets.audioFileExt},{name:"sfx_avatar_loop_ambience_01",url:"audio/mono/sfx_avatar_loop_ambience_01"+P3.assets.audioFileExt},{name:"sfx_block_move_00",url:"audio/mono/sfx_block_move_00"+P3.assets.audioFileExt},{name:"sfx_block_placed_01",url:"audio/mono/sfx_block_placed_01"+P3.assets.audioFileExt},{name:"sfx_guardian_arrow_attack_00",url:"audio/mono/sfx_guardian_arrow_attack_00"+P3.assets.audioFileExt},{name:"sfx_guardian_hammer_attack_00",url:"audio/mono/sfx_guardian_hammer_attack_00"+P3.assets.audioFileExt},{name:"sfx_guardian_magic_attack_00",url:"audio/mono/sfx_guardian_magic_attack_00"+P3.assets.audioFileExt},{name:"sfx_guardian_spear_attack_00",url:"audio/mono/sfx_guardian_spear_attack_00"+P3.assets.audioFileExt},{name:"sfx_guardian_spell_attack_00",url:"audio/mono/sfx_guardian_spell_attack_00"+P3.assets.audioFileExt},{name:"sfx_guardian_sword_attack_00",url:"audio/mono/sfx_guardian_sword_attack_00"+P3.assets.audioFileExt},{name:"sfx_shield_level_1",url:"audio/mono/sfx_shield_level_1"+P3.assets.audioFileExt},{name:"sfx_shield_level_2",url:"audio/mono/sfx_shield_level_2"+P3.assets.audioFileExt},{name:"sfx_shield_level_3",url:"audio/mono/sfx_shield_level_3"+P3.assets.audioFileExt},{name:"sfx_shield_level_4",url:"audio/mono/sfx_shield_level_4"+P3.assets.audioFileExt},{name:"sfx_enter_dragon",url:"audio/mono/sfx_enter_dragon"+P3.assets.audioFileExt},{name:"sfx_enter_hobgoblin",url:"audio/mono/sfx_enter_hobgoblin"+P3.assets.audioFileExt},{name:"sfx_enter_mage",url:"audio/mono/sfx_enter_mage"+P3.assets.audioFileExt},{name:"sfx_enter_spider",url:"audio/mono/sfx_enter_spider"+P3.assets.audioFileExt},{name:"sfx_enter_spirit",url:"audio/mono/sfx_enter_spirit"+P3.assets.audioFileExt},{name:"sfx_enter_troll",url:"audio/mono/sfx_enter_troll"+P3.assets.audioFileExt},{name:"sfx_dragon_attack_00",url:"audio/mono/sfx_dragon_attack_00"+P3.assets.audioFileExt},{name:"sfx_hobgoblin_attack_00",url:"audio/mono/sfx_hobgoblin_attack_00"+P3.assets.audioFileExt},{name:"sfx_mage_attack_00",url:"audio/mono/sfx_mage_attack_00"+P3.assets.audioFileExt},{name:"sfx_spider_attack_00",url:"audio/mono/sfx_spider_attack_00"+P3.assets.audioFileExt},{name:"sfx_spirit_attack_00",url:"audio/mono/sfx_spirit_attack_00"+P3.assets.audioFileExt},{name:"sfx_troll_attack_00",url:"audio/mono/sfx_troll_attack_00"+P3.assets.audioFileExt},{name:"sfx_generic_adversary_damage_00",url:"audio/mono/sfx_generic_adversary_damage_00"+P3.assets.audioFileExt},{name:"sfx_generic_adversary_damage_01",url:"audio/mono/sfx_generic_adversary_damage_01"+P3.assets.audioFileExt},{name:"sfx_generic_adversary_damage_02",url:"audio/mono/sfx_generic_adversary_damage_02"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_female_00",url:"audio/mono/sfx_generic_guardian_damage_female_00"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_female_01",url:"audio/mono/sfx_generic_guardian_damage_female_01"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_female_02",url:"audio/mono/sfx_generic_guardian_damage_female_02"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_male_00",url:"audio/mono/sfx_generic_guardian_damage_male_00"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_male_01",url:"audio/mono/sfx_generic_guardian_damage_male_01"+P3.assets.audioFileExt},{name:"sfx_generic_guardian_damage_male_02",url:"audio/mono/sfx_generic_guardian_damage_male_02"+P3.assets.audioFileExt},{name:"sfx_question_timer_01",url:"audio/mono/sfx_question_timer_01"+P3.assets.audioFileExt},{name:"sfx_ambience_crowd_roar_loop_00",url:"audio/mono/sfx_ambience_crowd_roar_loop_00"+P3.assets.audioFileExt},{name:"vo_queen_extra_01a",url:"audio/mono/vos/queen/vo_queen_extra_01a"+P3.assets.audioFileExt},{name:"vo_queen_extra_02a",url:"audio/mono/vos/queen/vo_queen_extra_02a"+P3.assets.audioFileExt},{name:"vo_queen_extra_03b",url:"audio/mono/vos/queen/vo_queen_extra_03b"+P3.assets.audioFileExt},{name:"vo_queen_extra_04b",url:"audio/mono/vos/queen/vo_queen_extra_04b"+P3.assets.audioFileExt},{name:"vo_queen_extra_15a",url:"audio/mono/vos/queen/vo_queen_extra_15a"+P3.assets.audioFileExt},{name:"vo_queen_extra_09b1",url:"audio/mono/vos/queen/vo_queen_extra_09b1"+P3.assets.audioFileExt},{name:"vo_queen_extra_17b1",url:"audio/mono/vos/queen/vo_queen_extra_17b1"+P3.assets.audioFileExt},{name:"vo_queen_extra_17b2",url:"audio/mono/vos/queen/vo_queen_extra_17b2"+P3.assets.audioFileExt},{name:"vo_queen_extra_18a",url:"audio/mono/vos/queen/vo_queen_extra_18a"+P3.assets.audioFileExt},{name:"vo_queen_extra_19a",url:"audio/mono/vos/queen/vo_queen_extra_19a"+P3.assets.audioFileExt},{name:"vo_queen_extra_20a",url:"audio/mono/vos/queen/vo_queen_extra_20a"+P3.assets.audioFileExt},{name:"vo_queen_extra_21a",url:"audio/mono/vos/queen/vo_queen_extra_21a"+P3.assets.audioFileExt},{name:"vo_queen_extra_22a",url:"audio/mono/vos/queen/vo_queen_extra_22a"+P3.assets.audioFileExt},{name:"vo_queen_extra_23a",url:"audio/mono/vos/queen/vo_queen_extra_23a"+P3.assets.audioFileExt},{name:"vo_queen_extra_24a",url:"audio/mono/vos/queen/vo_queen_extra_24a"+P3.assets.audioFileExt},{name:"vo_queen_extra_11b12c",url:"audio/mono/vos/queen/vo_queen_extra_11b12c"+P3.assets.audioFileExt},{name:"vo_queen_extra_0608",url:"audio/mono/vos/queen/vo_queen_extra_0608"+P3.assets.audioFileExt}])).length){var n=a.a.gmi?a.a.gmi.gameDir:"./";P3.assets.addFiles(e,n+"assets/"),P3.assets.signals.complete.once(function(){return t.onRequiredAssetsReady()}),P3.assets.load()}}},{key:"loadSharedSpines",value:function(){for(var t=this,e=[{name:"guardian_elf_male",sharedName:"guardian_elf",url:"spine/guardian_elf_male.json",metadata:{},textureSheets:["guardians_spine_elf_all","guardians_spine_equip","guardians_spine_vfx"]},{name:"guardian_elf_female",sharedName:"guardian_elf",url:"spine/guardian_elf_female.json",metadata:{},textureSheets:["guardians_spine_elf_all","guardians_spine_equip","guardians_spine_vfx"]},{name:"guardian_knight_male",sharedName:"guardian_knight",url:"spine/guardian_knight_male.json",metadata:{},textureSheets:["guardians_spine_knight_all","guardians_spine_equip","guardians_spine_vfx"]},{name:"guardian_knight_female",sharedName:"guardian_knight",url:"spine/guardian_knight_female.json",metadata:{},textureSheets:["guardians_spine_knight_all","guardians_spine_equip","guardians_spine_vfx"]},{name:"guardian_ranger_male",sharedName:"guardian_ranger",url:"spine/guardian_ranger_male.json",metadata:{},textureSheets:["guardians_spine_ranger_all","guardians_spine_equip","guardians_spine_vfx"]},{name:"guardian_ranger_female",sharedName:"guardian_ranger",url:"spine/guardian_ranger_female.json",metadata:{},textureSheets:["guardians_spine_ranger_all","guardians_spine_equip","guardians_spine_vfx"]},{name:"guardian_warrior",sharedName:"guardian_warrior",url:"spine/guardian_warrior.json",metadata:{},textureSheets:["guardians_spine_warrior_all","guardians_spine_equip","guardians_spine_vfx"]},{name:"guardian_witch",sharedName:"guardian_witch",url:"spine/guardian_witch.json",metadata:{},textureSheets:["guardians_spine_witch_all","guardians_spine_equip","guardians_spine_vfx"]},{name:"guardian_wizard",sharedName:"guardian_wizard",url:"spine/guardian_wizard.json",metadata:{},textureSheets:["guardians_spine_wizard_all","guardians_spine_equip","guardians_spine_vfx"]},{name:"guardian_pet",sharedName:"guardian_pet",url:"spine/guardian_pet.json",metadata:{},textureSheets:["guardians_spine_pets"]}],n={},r=0;r<e.length;++r){var i=e[r],o=n[i.sharedName];if(!o){n[i.sharedName]=o=new PIXI.spine.core.TextureAtlas;for(var s={},u=0;u<i.textureSheets.length;++u){var l=P3.assets.json(i.textureSheets[u]).frames;for(var c in l)if(l.hasOwnProperty(c)){var h=c.split(".")[0];s[h]=P3.assets.texture(h)}}o.addTextureHash(s,!0)}i.metadata.spineAtlas=o}var f=a.a.gmi?a.a.gmi.gameDir:"./";P3.assets.addFiles(e,f+"assets/"),P3.assets.signals.complete.once(function(){t._startReady&&t.start(),t._startReady=!0}),P3.assets.load()}},{key:"start",value:function(){this.loadRequiredAssets(),a.a.gmi.gameLoaded(),this._app=new o.a,this._app.init(),a.a.gmi.sendStatsEvent("gameloaded",!0)}},{key:"onRequiredAssetsReady",value:function(){a.a.requiredAssetsReady=!0}},{key:"onCanvasResize",value:function(t){var e=a.a.gmi.getAllSettings();if(t){if(a.a.renderer.resize(P3.View.width,P3.View.height),P3.scene){P3.scene.resize();for(var n=0;n<a.a.transitions.children.length;++n){var r=a.a.transitions.children[n];r.resize&&r.resize()}}P3.audio.mute(!e.audio),P3.audio.mute(void 0!==e.gameData&&!e.gameData.button_audio,"button")}else P3.audio.mute(!0),P3.audio.mute(!0,"button")}},{key:"applyViewPatch",value:function(){P3.View.prototype.resize=function(t){var e=this,n=function(){e._isResizing=!1,PIXI.utils.isMobile.apple.any?setTimeout(function(){e._holder.style.display="block",window.scrollTo(0,0)},100):e._holder.style.display="block";var n=PIXI.utils.isMobile.any?document.documentElement.clientWidth:window.innerWidth,r=PIXI.utils.isMobile.any?document.documentElement.clientHeight:window.innerHeight,i=r;if(e._options.aspectRatioFillHeight){var o=n/e._options.width,a=e._options.height/r;e._updateDimensions(Math.floor(e._options.width*o*a),e._options.height)}else{var s=e._options.width/n,u=r/e._options.height;e._updateDimensions(e._options.width,Math.floor(e._options.height*u*s))}if(e.isCorrectOrientation&&568===window.screen.height?window.self===window.top?(i=r-32,e._holder.style.width=n+"px",e._holder.style.height=i+"px"):(e._holder.style.width="100%",e._holder.style.height="99%"):window.self===window.top?(e._holder.style.width=n+"px",e._holder.style.height=r+"px"):(e._holder.style.width="100%",e._holder.style.height="100%"),PIXI.utils.isMobile.apple.device&&(e._iosfix.style.height=parseInt(r)+1+"px"),e._options.aspectRatioFillHeight){var l=n/e._options.width,c=e._options.height/i;e._updateDimensions(Math.floor(e._options.width*l*c),e._options.height)}else{var h=e._options.width/n,f=i/e._options.height;e._updateDimensions(e._options.width,Math.floor(e._options.height*f*h))}e.toggleRotate(!e.isCorrectOrientation),!t&&e.signals.resize.dispatch(e.isCorrectOrientation)};this._isResizing||(this._isResizing=!0,this._holder.style.display="none",PIXI.utils.isMobile.any?t?n():setTimeout(function(){n()},PIXI.utils.isMobile.android.any?1e3:400):n())}}}])&&h(e.prototype,n),t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return R});var r=n(10),i=n(0),o=n(469),a=n(470),s=n(486),u=n(471),l=n(202),c=n(473),h=n(474),f=n(253),d=n(130),p=n(475),_=n(129),m=n(476),y=n(485),v=n(477),g=n(478),b=n(479),w=n(480),x=n(481),T=n(482),E=n(27),P=n(32),S=n(483),M=n(484),O=n(4),I=(n(3),n(70)),k=n.n(I),L=n(127),A=n(84);function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var R=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i.a.save=new s.a,this._loadedManifest=null,this._unlockedItem=null}var n,I;return n=e,(I=[{key:"init",value:function(){i.a.debug&&(t.gui=new dat.GUI,i.a.gui=new a.a);var e=P3.utils.objectToArray(P3.assets.json("locations")).sort(function(t,e){return t.order-e.order});i.a.location=e[i.a.locationIndex];var n=new P.a;n.parseData(P3.utils.objectToArray(P3.assets.json("achievements"))),i.a.achievements=n;var r=new S.a;i.a.stage.addChild(r);var s=i.a.save.getUserData(i.a.userId),u=P3.utils.objectToArray(P3.assets.json("characters"));i.a.character=u.filter(function(t){return t.skin===s.class})[0],i.a.difficulty=new o.a,this.initSubtitles(),i.a.debug?this.showQuestionScene():this.showSplashScene();var l=k()("seed");if(L.a.generate(""!==l?[l]:i.a.config.game.weekly_challenge_seeds),"true"===k()("export")&&L.a.print(),"true"===k()("debugEquip")){var c=i.a.save.getUserData(i.a.userId);c.unlock.equip_purse=[1,2,3],c.unlock.equip_belt=[1,2,3],c.unlock.equip_band=[1,2,3],c.unlock.equip_amulet=[1,2,3,4,5,6],c.unlock.equip_feather=[1,2,3],c.unlock.equip_purse=[1,2,3],c.unlock["equip_cloakfront,equip_cloakback"]=[1,2,3,4,5,6],c.unlock.equip_shield=[1,2,3,4,5,6],c.unlock.pet=[1,2,3],i.a.save.saveGame()}this.resetDayAchievement(s)}},{key:"showRequiredAssetPreloader",value:function(){var t=new _.a;return t.autoAppear=!1,this.fadeTransition(function(){P3.scene.show(t)},function(){t.appear()}),t}},{key:"showSplashScene",value:function(){var t=this,e=new g.a;return e.autoAppear=!1,e.signals.next.add(function(){i.a.requiredAssetsReady?t.showUserScene():t.showRequiredAssetPreloader().signals.next.add(function(){return t.showUserScene()},t)}),e.signals.settings.add(function(){t.showSettingsScene()}),e.signals.exit.add(function(){i.a.gmi.exit()}),e.signals.help.add(function(){t.showHelpScene().signals.previous.add(function(){t.showSplashScene()},null,1)}),this.fadeTransition(function(){P3.scene.show(e)},function(){e.appear()}),P3.audio.playMusic("music_mathematica_main_theme"),e}},{key:"showUserScene",value:function(){var t=this,e=new w.a;return e.autoAppear=!1,e.signals.next.add(function(){var e=i.a.save.getUserData(i.a.userId),n=e.finishedTraining,r=P3.utils.objectToArray(P3.assets.json("locations")).sort(function(t,e){return t.order-e.order});i.a.locationIndex=e.location,i.a.location=r[e.location];var o=P3.utils.objectToArray(P3.assets.json("characters"));i.a.character=o.filter(function(t){return t.skin===e.class})[0],t.showOverviewScene(n)}),e.signals.previous.add(function(){t.showSplashScene()}),e.signals.settings.add(function(){t.showSettingsScene()}),e.signals.deleteUser.add(function(e,n){t.showDeleteUserScene().signals.next.add(function(){e.deleteUser(n)},null,1)}),this.fadeTransition(function(){P3.scene.show(e)},function(){e.appear()}),e}},{key:"showDeleteUserScene",value:function(){var t=new u.a;return t.signals.next.add(function(){P3.scene.remove()}),t.signals.previous.add(function(){P3.scene.remove()}),P3.scene.add(t,!1),t}},{key:"showOverviewScene",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new d.a(e,n,o);return a.autoAppear=!1,a.signals.next.add(function(){var e=P3.assets.json("bosses");if(""===i.a.config.game.debug_boss){var n=P3.utils.selectRandom([r.a.TYPE_DRAGON,r.a.TYPE_SPIDER,r.a.TYPE_MAGE,r.a.TYPE_SPIRIT,r.a.TYPE_HOBGOBLIN,r.a.TYPE_TROLL]);"statistics"===i.a.location.id&&n===r.a.TYPE_DRAGON&&(n=r.a.TYPE_SPIDER),i.a.location.challenge&&(n=r.a.TYPE_GOLDEN_DRAGON),i.a.boss=e.filter(function(t){return t.type===n})[0]}else i.a.boss=e.filter(function(t){return t.type===i.a.config.game.debug_boss})[0];var o=t.createManifest(i.a.location,i.a.boss.type);t.loadLevel(o),t._loadedManifest=o}),a.signals.previous.add(function(){t.showUserScene()}),a.signals.settings.add(function(){t.showSettingsScene()}),a.signals.achievements.add(function(){var e=null;a.editCharacter&&(a.characterSelector.mode===A.a.MODE_CHARACTER?e={type:d.a.PAGE_CHARACTER}:a.characterSelector.mode===A.a.MODE_ITEM&&(e={type:d.a.PAGE_ITEM})),t.showAchievementScene(e)}),this.fadeTransition(function(){P3.scene.show(a)},function(){a.appear()}),P3.audio.playMusic("music_avatar_loop_00"),a}},{key:"showGameScene",value:function(){var t=this,e=new l.a;return e.autoAppear=!1,e.signals.next.add(function(e,n,r,o,a,s){var u=!1;i.a.location.challenge&&a&&i.a.save.completeWeeklyChallenge(i.a.userId)&&(u=!0);var l=t.levelComplete(n,o,a);t.showResultScene(n,r,l,a,s,u)}),e.signals.previous.add(function(){t.showOverviewScene()}),e.signals.pause.add(function(){t.showPauseScene()}),this.fadeTransition(function(){P3.scene.show(e)},function(){e.appear()}),e}},{key:"showMapPreloader",value:function(){var t=new f.a;return t.autoAppear=!1,this.fadeTransition(function(){P3.scene.show(t)},function(){t.appear()}),t}},{key:"showTrainingScene",value:function(){var t=this,e=i.a.save.getUserData(i.a.userId),n=new b.a;return n.autoAppear=!1,n.signals.next.add(function(){if(e.finishedTraining)t.showOverviewScene(e.finishedTraining);else{e.finishedTraining=!0;var n=t.levelComplete(3,i.a.config.game.level_progression[0]);t.showResultScene(3,3,n,!0,[!0,!0,!0]),i.a.save.saveGame()}}),n.signals.pause.add(function(){t.showPauseScene()}),this.fadeTransition(function(){P3.scene.show(n)},function(){n.appear()}),n}},{key:"showPauseScene",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=i.a.save.getUserData(i.a.userId),r=new p.a;return r.signals.home.add(function(){t.showOverviewScene(n.finishedTraining)}),r.signals.restart.add(function(){i.a.location.training?t.showTrainingScene():t.showGameScene()}),r.signals.help.add(function(){t.showHelpScene(!0).signals.previous.add(function(){t.showPauseScene(!0)},null,1)}),r.signals.settings.add(function(){t.showSettingsScene()}),r.signals.next.add(function(){P3.scene.remove()}),e?P3.scene.swap(r):P3.scene.add(r),P3.audio.playMusic("music_pause_menu"),r}},{key:"showSettingsScene",value:function(){var t=new x.a;return t.signals.next.add(function(){P3.scene.remove()}),P3.scene.add(t),t}},{key:"showHelpScene",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=new c.a;return n.autoAppear=!1,n.signals.settings.add(function(){t.showSettingsScene()}),this.fadeTransition(function(){e?P3.scene.swap(n):P3.scene.show(n)},function(){n.appear()}),n}},{key:"showResultScene",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{from:0,to:1,current:0,target:1},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=new v.a(t,e,r,o,a);return u.autoAppear=!1,u.signals.home.add(function(){n.showSplashScene()}),u.signals.settings.add(function(){n.showSettingsScene()}),u.signals.next.add(function(){var t=i.a.save.getUserData(i.a.userId);t.loot||s?(n.showLootCrateScene(n._unlockedItem,t.loot,s),n._unlockedItem=null,t.loot=!1,i.a.save.saveGame()):n.showOverviewScene(!0);var e=P3.utils.objectToArray(P3.assets.json("locations")).sort(function(t,e){return t.order-e.order});0===i.a.locationIndex&&(i.a.locationIndex=t.location=1,i.a.location=e[t.location],i.a.save.saveGame())}),this.fadeTransition(function(){P3.scene.show(u)},function(){u.appear()}),P3.audio.playMusic("music_results_loop"),u}},{key:"showLootCrateScene",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=new h.a(t,n,r);return o.signals.next.add(function(){var n=i.a.save.getUserData(i.a.userId),o=t.slot;Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;++a)n.equipment[o[a]]=t.type;i.a.save.saveGame(),e.showOverviewScene(!0,{type:d.a.PAGE_ITEM,item:t},r)}),o.signals.previous.add(function(){e.showOverviewScene(!0,null,r)}),P3.scene.add(o,!1),o}},{key:"showAchievementScene",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=new M.a;return n.autoAppear=!1,n.signals.previous.add(function(){var n=i.a.save.getUserData(i.a.userId).finishedTraining;t.showOverviewScene(n,e)}),this.fadeTransition(function(){P3.scene.show(n)},function(){n.appear()}),n}},{key:"showQuestionScene",value:function(){var t=i.a.debug?new y.a:new m.a;return t.autoAppear=!1,this.fadeTransition(function(){P3.scene.show(t)},function(){t.appear()}),t}},{key:"createManifest",value:function(t,e){var n=P3.utils.objectToArray(P3.assets.json("bosses")).filter(function(t){return t.type===e})[0],r=[{name:t.theme.bg,url:"images/environments/"+t.path+t.theme.bg+"_0.5x.jpg"},{name:t.theme.fg,url:"images/environments/"+t.path+t.theme.fg+"_0.5x.png"},{name:t.theme.left,url:"images/environments/"+t.path+t.theme.left+"_0.5x.png"},{name:t.theme.right,url:"images/environments/"+t.path+t.theme.right+"_0.5x.png"}];if(
/*!isEdge18() &&*/
!Object(E.e)()){r.push({name:t.audio.ambience,url:"audio/mono/"+t.audio.ambience+P3.assets.audioFileExt});for(var i=0;i<n.audio.vo.taunt.generic.length;++i){var o=n.audio.vo.taunt.generic[i];r.push({name:o,url:"audio/mono/vos/"+(n.path?n.path:n.type)+"/"+o+P3.assets.audioFileExt})}for(var a=0;a<n.audio.vo.taunt.location[t.id].length;++a){var s=n.audio.vo.taunt.location[t.id][a];r.push({name:s,url:"audio/mono/vos/"+(n.path?n.path:n.type)+"/"+s+P3.assets.audioFileExt})}for(var u=0;u<n.audio.vo.damage.length;++u){var l=n.audio.vo.damage[u];r.push({name:l,url:"audio/mono/vos/"+(n.path?n.path:n.type)+"/"+l+P3.assets.audioFileExt})}for(var c=0;c<n.audio.vo.attack.length;++c){var h=n.audio.vo.attack[c];r.push({name:h,url:"audio/mono/vos/"+(n.path?n.path:n.type)+"/"+h+P3.assets.audioFileExt})}}return r}},{key:"loadLevel",value:function(t){var e=this;if(this.unloadLevel(this._loadedManifest),console.log(t),t.length){var n;(n=-1!==["tutorial"].indexOf(i.a.location.id)?new _.a(!1):new f.a).autoAppear=!1,n.signals.next.add(function(){i.a.location.training?e.showTrainingScene():e.showGameScene()});var r=i.a.gmi?i.a.gmi.gameDir:"./";P3.assets.addFiles(t,r+"assets/"),this.fadeTransition(function(){P3.scene.show(n)},function(){P3.assets.load(),n.appear()})}}},{key:"unloadLevel",value:function(t){if(t&&t.length)for(var e=0;e<t.length;++e){var n=t[e],r=n.url.split("."),i=r[r.length-1];-1!==P3.assets.audioFileTypes.indexOf(i)?P3.audio.unloadSound(n.name):P3.assets.unloadTexture(n.name,i)}}},{key:"levelComplete",value:function(t,e,n){var r=i.a.save.getUserData(i.a.userId),o=P3.utils.objectToArray(i.a.config.game.level_progression),a=o[Math.min(o.length-1,r.level)],s=Math.max(0,Math.min(1,r.xp/a)),u=Math.max(0,Math.min(1,(r.xp+e)/a)),l=Math.max(0,r.xp+e-a);console.log("xp:",{start:r.xp,end:e,target:a,from:s,to:u,extra:l});var c=Math.max(0,Math.min(o.length-1,r.level));if(r.xp+e>=o[c]){this._unlockedItem=i.a.save.unlockRandomItem(),r.loot=null!==this._unlockedItem,++r.level;var h=o[Math.min(o.length-1,r.level)];l>h&&(l=.6*h,console.log("adjusted extra xp:",l)),r.xp=l}else r.xp+=e;return r.totalXp+=e,r.loot&&this.unlockEquipmentAchievement(r),n&&(++r.victory,this.unlockChallengeAchievement(r),this.unlockDayAchievement(r),this.unlockBossAchievement(r)),i.a.save.saveGame(),console.log("new xp:",r.xp),i.a.difficulty.setProgression(t),i.a.gmi.sendStatsEvent("xpincrease","true",{metadata:"XPL="+r.totalXp}),i.a.achievements.setProgress(O.a.XP_LEVEL1,r.totalXp/100),i.a.achievements.setProgress(O.a.XP_LEVEL2,r.totalXp/200),i.a.achievements.setProgress(O.a.XP_LEVEL3,r.totalXp/500),i.a.achievements.setProgress(O.a.XP_LEVEL4,r.totalXp/750),i.a.achievements.setProgress(O.a.XP_LEVEL5,r.totalXp/1e3),i.a.achievements.setProgress(O.a.XP_LEVEL6,r.totalXp/1500),i.a.achievements.setProgress(O.a.XP_LEVEL7,r.totalXp/2e3),{from:s,to:u,current:a*u,target:a}}},{key:"unlockDayAchievement",value:function(t){if(!i.a.location.challenge&&!i.a.location.modules.all){t.streak[t.location]=!0;var e=0;for(var n in t.streak)t.streak[n]&&++e;i.a.save.saveGame(),i.a.achievements.setProgress(O.a.COMPLETE_TWO_TOPIC_DAY,e/2),e>1&&i.a.achievements.unlock(O.a.COMPLETE_TWO_TOPIC_DAY)}}},{key:"resetDayAchievement",value:function(t){var e=i.a.days;e!==t.timestamp&&(t.timestamp=e,t.streak={},i.a.achievements.setProgress(O.a.COMPLETE_TWO_TOPIC_DAY,0,!0))}},{key:"unlockChallengeAchievement",value:function(t){i.a.achievements.setProgress(O.a.COMPLETE_CHALLENGES_LEVEL1,t.victory/5),t.victory>=5&&i.a.achievements.unlock(O.a.COMPLETE_CHALLENGES_LEVEL1),i.a.achievements.setProgress(O.a.COMPLETE_CHALLENGES_LEVEL2,t.victory/10),t.victory>=10&&i.a.achievements.unlock(O.a.COMPLETE_CHALLENGES_LEVEL2),i.a.achievements.setProgress(O.a.COMPLETE_CHALLENGES_LEVEL3,t.victory/20),t.victory>=20&&i.a.achievements.unlock(O.a.COMPLETE_CHALLENGES_LEVEL3),i.a.achievements.setProgress(O.a.COMPLETE_CHALLENGES_LEVEL4,t.victory/50),t.victory>=50&&i.a.achievements.unlock(O.a.COMPLETE_CHALLENGES_LEVEL4),i.a.achievements.setProgress(O.a.COMPLETE_CHALLENGES_LEVEL5,t.victory/100),t.victory>=100&&i.a.achievements.unlock(O.a.COMPLETE_CHALLENGES_LEVEL5)}},{key:"unlockBossAchievement",value:function(t){var e=i.a.boss.type,n=t.bosses[e]||0;switch(t.bosses[e]=++n,e){case r.a.TYPE_DRAGON:i.a.achievements.setProgress(O.a.COMPLETE_DRAGON_LEVEL1,n/5),n>=5&&i.a.achievements.unlock(O.a.COMPLETE_DRAGON_LEVEL1),i.a.achievements.setProgress(O.a.COMPLETE_DRAGON_LEVEL2,n/10),n>=10&&i.a.achievements.unlock(O.a.COMPLETE_DRAGON_LEVEL2),i.a.achievements.setProgress(O.a.COMPLETE_DRAGON_LEVEL3,n/20),n>=20&&i.a.achievements.unlock(O.a.COMPLETE_DRAGON_LEVEL3),i.a.achievements.setProgress(O.a.COMPLETE_DRAGON_LEVEL4,n/50),n>=50&&i.a.achievements.unlock(O.a.COMPLETE_DRAGON_LEVEL4),i.a.achievements.setProgress(O.a.COMPLETE_DRAGON_LEVEL5,n/100),n>=100&&i.a.achievements.unlock(O.a.COMPLETE_DRAGON_LEVEL5);break;case r.a.TYPE_HOBGOBLIN:i.a.achievements.setProgress(O.a.COMPLETE_HOBGOBLIN_LEVEL1,n/5),n>=5&&i.a.achievements.unlock(O.a.COMPLETE_HOBGOBLIN_LEVEL1),i.a.achievements.setProgress(O.a.COMPLETE_HOBGOBLIN_LEVEL2,n/10),n>=10&&i.a.achievements.unlock(O.a.COMPLETE_HOBGOBLIN_LEVEL2),i.a.achievements.setProgress(O.a.COMPLETE_HOBGOBLIN_LEVEL3,n/20),n>=20&&i.a.achievements.unlock(O.a.COMPLETE_HOBGOBLIN_LEVEL3),i.a.achievements.setProgress(O.a.COMPLETE_HOBGOBLIN_LEVEL4,n/50),n>=50&&i.a.achievements.unlock(O.a.COMPLETE_HOBGOBLIN_LEVEL4),i.a.achievements.setProgress(O.a.COMPLETE_HOBGOBLIN_LEVEL5,n/100),n>=100&&i.a.achievements.unlock(O.a.COMPLETE_HOBGOBLIN_LEVEL5);break;case r.a.TYPE_MAGE:i.a.achievements.setProgress(O.a.COMPLETE_MAGE_LEVEL1,n/5),n>=5&&i.a.achievements.unlock(O.a.COMPLETE_MAGE_LEVEL1),i.a.achievements.setProgress(O.a.COMPLETE_MAGE_LEVEL2,n/10),n>=10&&i.a.achievements.unlock(O.a.COMPLETE_MAGE_LEVEL2),i.a.achievements.setProgress(O.a.COMPLETE_MAGE_LEVEL3,n/20),n>=20&&i.a.achievements.unlock(O.a.COMPLETE_MAGE_LEVEL3),i.a.achievements.setProgress(O.a.COMPLETE_MAGE_LEVEL4,n/50),n>=50&&i.a.achievements.unlock(O.a.COMPLETE_MAGE_LEVEL4),i.a.achievements.setProgress(O.a.COMPLETE_MAGE_LEVEL5,n/100),n>=100&&i.a.achievements.unlock(O.a.COMPLETE_MAGE_LEVEL5);break;case r.a.TYPE_SPIDER:i.a.achievements.setProgress(O.a.COMPLETE_SPIDER_LEVEL1,n/5),n>=5&&i.a.achievements.unlock(O.a.COMPLETE_SPIDER_LEVEL1),i.a.achievements.setProgress(O.a.COMPLETE_SPIDER_LEVEL2,n/10),n>=10&&i.a.achievements.unlock(O.a.COMPLETE_SPIDER_LEVEL2),i.a.achievements.setProgress(O.a.COMPLETE_SPIDER_LEVEL3,n/20),n>=20&&i.a.achievements.unlock(O.a.COMPLETE_SPIDER_LEVEL3),i.a.achievements.setProgress(O.a.COMPLETE_SPIDER_LEVEL4,n/50),n>=50&&i.a.achievements.unlock(O.a.COMPLETE_SPIDER_LEVEL4),i.a.achievements.setProgress(O.a.COMPLETE_SPIDER_LEVEL5,n/100),n>=100&&i.a.achievements.unlock(O.a.COMPLETE_SPIDER_LEVEL5);break;case r.a.TYPE_SPIRIT:i.a.achievements.setProgress(O.a.COMPLETE_SPIRIT_LEVEL1,n/5),n>=5&&i.a.achievements.unlock(O.a.COMPLETE_SPIRIT_LEVEL1),i.a.achievements.setProgress(O.a.COMPLETE_SPIRIT_LEVEL2,n/10),n>=10&&i.a.achievements.unlock(O.a.COMPLETE_SPIRIT_LEVEL2),i.a.achievements.setProgress(O.a.COMPLETE_SPIRIT_LEVEL3,n/20),n>=20&&i.a.achievements.unlock(O.a.COMPLETE_SPIRIT_LEVEL3),i.a.achievements.setProgress(O.a.COMPLETE_SPIRIT_LEVEL4,n/50),n>=50&&i.a.achievements.unlock(O.a.COMPLETE_SPIRIT_LEVEL4),i.a.achievements.setProgress(O.a.COMPLETE_SPIRIT_LEVEL5,n/100),n>=100&&i.a.achievements.unlock(O.a.COMPLETE_SPIRIT_LEVEL5);break;case r.a.TYPE_TROLL:i.a.achievements.setProgress(O.a.COMPLETE_TROLL_LEVEL1,n/5),n>=5&&i.a.achievements.unlock(O.a.COMPLETE_TROLL_LEVEL1),i.a.achievements.setProgress(O.a.COMPLETE_TROLL_LEVEL2,n/10),n>=10&&i.a.achievements.unlock(O.a.COMPLETE_TROLL_LEVEL2),i.a.achievements.setProgress(O.a.COMPLETE_TROLL_LEVEL3,n/20),n>=20&&i.a.achievements.unlock(O.a.COMPLETE_TROLL_LEVEL3),i.a.achievements.setProgress(O.a.COMPLETE_TROLL_LEVEL4,n/50),n>=50&&i.a.achievements.unlock(O.a.COMPLETE_TROLL_LEVEL4),i.a.achievements.setProgress(O.a.COMPLETE_TROLL_LEVEL5,n/100),n>=100&&i.a.achievements.unlock(O.a.COMPLETE_TROLL_LEVEL5)}}},{key:"unlockEquipmentAchievement",value:function(t){var e=t.unlock.equip_purse;Array.isArray(e)&&i.a.achievements.setProgress(O.a.UNLOCK_ALL_PURSES,e.length/4,!1,P.a.SETTING_FORCE_HIDDEN)&&(i.a.equipmentAchievement=O.a.UNLOCK_ALL_PURSES);var n=t.unlock.equip_belt;Array.isArray(n)&&i.a.achievements.setProgress(O.a.UNLOCK_ALL_BELTS,n.length/4,!1,P.a.SETTING_FORCE_HIDDEN)&&(i.a.equipmentAchievement=O.a.UNLOCK_ALL_BELTS);var r=t.unlock.equip_band;Array.isArray(r)&&i.a.achievements.setProgress(O.a.UNLOCK_ALL_BRACELETS,r.length/4,!1,P.a.SETTING_FORCE_HIDDEN)&&(i.a.equipmentAchievement=O.a.UNLOCK_ALL_BRACELETS);var o=t.unlock.equip_amulet;Array.isArray(o)&&i.a.achievements.setProgress(O.a.UNLOCK_ALL_AMULETS,o.length/7,!1,P.a.SETTING_FORCE_HIDDEN)&&(i.a.equipmentAchievement=O.a.UNLOCK_ALL_AMULETS);var a=t.unlock.equip_feather;Array.isArray(a)&&i.a.achievements.setProgress(O.a.UNLOCK_ALL_FEATHERS,a.length/4,!1,P.a.SETTING_FORCE_HIDDEN)&&(i.a.equipmentAchievement=O.a.UNLOCK_ALL_FEATHERS);var s=t.unlock["equip_cloakfront,equip_cloakback"];Array.isArray(s)&&i.a.achievements.setProgress(O.a.UNLOCK_ALL_CLOAKS,s.length/7,!1,P.a.SETTING_FORCE_HIDDEN)&&(i.a.equipmentAchievement=O.a.UNLOCK_ALL_CLOAKS);var u=t.unlock.equip_shield;Array.isArray(u)&&i.a.achievements.setProgress(O.a.UNLOCK_ALL_SHIELDS,u.length/7,!1,P.a.SETTING_FORCE_HIDDEN)&&(i.a.equipmentAchievement=O.a.UNLOCK_ALL_SHIELDS);var l=t.unlock.pet;Array.isArray(l)&&i.a.achievements.setProgress(O.a.UNLOCK_ALL_PETS,l.length/4,!1,P.a.SETTING_FORCE_HIDDEN)&&(i.a.equipmentAchievement=O.a.UNLOCK_ALL_PETS)}},{key:"fadeTransition",value:function(t,e,n){n=n||window;var r=new P3.FadeTransition(0);i.a.transitions.addChild(r),r.signals.in.add(function(){r.out(),t&&t.call(n)}),r.signals.out.add(function(){r.destroy(),e&&e.call(n)}),r.in()}},{key:"initSubtitles",value:function(){var t=i.a.gmi.getAllSettings(),e=new T.a;e.visible=t.subtitles,i.a.subtitles=e,P3.audio.signals.vo.add(function(t,e,r){n(e,r?r.howl.duration():3)}),P3.audio.signals.button.add(function(e,r,i){t.gameData&&t.gameData.button_audio&&n(r,i?i.howl.duration():1)});var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=P3.assets.json("subtitles");i.a.subtitles.show(n[t]?n[t]:t,e)}}}])&&D(n.prototype,I),e}()}).call(this,n(95))},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._levelChange=0}var e,n;return e=t,(n=[{key:"setProgression",value:function(t){console.log(this.levelUnclamped),this.levelUnclamped>0&&t<=r.a.config.game.difficulty.min?(this._progressLevel(!1),this._levelChange=-1,console.log("level went down:",this.levelUnclamped)):this.levelUnclamped<4&&t>=r.a.config.game.difficulty.max?(this._progressLevel(!0),this._levelChange=1,console.log("level went up:",this.levelUnclamped)):(this._levelChange=0,console.log("level no change"))}},{key:"_progressLevel",value:function(t){var e=r.a.location;if(e.id){var n=Math.max(0,Math.min(4,t?this.levelUnclamped+1:this.levelUnclamped-1));r.a.save.setUserDifficultyLevel(r.a.userId,e.id,n)}else console.warn("Location not set.")}},{key:"getLevel",value:function(t){return t.id?P3.math.clamp(r.a.save.getUserDifficultyLevel(r.a.userId,t.id),0,3):-1}},{key:"getLevelUnclamped",value:function(t){return t.id?r.a.save.getUserDifficultyLevel(r.a.userId,t.id):-1}},{key:"level",get:function(){return this.getLevel(r.a.location)}},{key:"levelUnclamped",get:function(){return this.getLevelUnclamped(r.a.location)}},{key:"levelChange",get:function(){return this._levelChange}}])&&i(e.prototype,n),t}()},function(t,e,n){"use strict";function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return a});var a=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.topic="",this.module=null,this.question=null,this.difficulty=null,this.topicData=null,this.signals={submit:new P3.utils.MiniSignal},this.submit=function(){e.signals.submit.dispatch()},this.guiReferences={},this.loadData()}var e,n;return e=t,(n=[{key:"loadData",value:function(){this.data=P3.utils.copyObject(P3.assets.json("locations"));var t,e=this,n={},i=r(this.data);try{for(i.s();!(t=i.n()).done;){var o=t.value;n[o.name]=o.id}}catch(t){i.e(t)}finally{i.f()}console.log(n),this.guiReferences.submit=gui.add(this,"submit");var a={Topic:this.topic};this.guiReferences.topic=gui.add(a,"Topic",n).onFinishChange(function(){e.topic=a.Topic;var t,n=r(e.data);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.id===e.topic&&(e.topicData=i)}}catch(t){n.e(t)}finally{n.f()}e.setModuleDropDown(),console.log(e.topic)})}},{key:"setModuleDropDown",value:function(){console.log(this.topicData);var t=[];for(var e in this.topicData.modules)t.push({name:e,questions:this.topicData.modules[e]});t.push({name:"//",questions:null}),console.log(t);for(var n={module:""},r={},i=0,o=t;i<o.length;i++){var a=o[i];r[a.name]=a.name}var s=this;this.guiReferences.module&&(gui.remove(this.guiReferences.module),this.guiReferences.module=null),this.guiReferences.question&&(gui.remove(this.guiReferences.question),this.guiReferences.question=null),this.guiReferences.difficulty&&(gui.remove(this.guiReferences.difficulty),this.guiReferences.difficulty=null),this.guiReferences.module=gui.add(n,"module",r).onFinishChange(function(){s.module=n.module,s.setQuestionDropDown(),console.log(s.module)})}},{key:"setQuestionDropDown",value:function(){var t={question:""},e=[];for(var n in this.topicData.modules)if(n===this.module){var i,o=r(this.topicData.modules[n]);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.push(a)}}catch(t){o.e(t)}finally{o.f()}break}for(var s={},u=0,l=e;u<l.length;u++){var c=l[u];s[c]=c}s["//"]="//";var h=this;this.guiReferences.question&&(gui.remove(this.guiReferences.question),this.guiReferences.question=null),this.guiReferences.difficulty&&(gui.remove(this.guiReferences.difficulty),this.guiReferences.difficulty=null),this.guiReferences.question=gui.add(t,"question",s).onFinishChange(function(){h.question=t.question,h.setDifficultyDropDown(),console.log(h.question)})}},{key:"setDifficultyDropDown",value:function(){var t=[],e=P3.assets.json("questions"),n=P3.assets.json("static_questions");for(var i in e.static=n.static,e)if(i===this.module){var o,a=r(e[i]);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.question===s.type&&s.enabled&&t.push(s.difficulty)}}catch(t){a.e(t)}finally{a.f()}}t.push("//"),this.guiReferences.difficulty&&(gui.remove(this.guiReferences.difficulty),this.guiReferences.difficulty=null);var u=this,l={difficulty:""};this.guiReferences.difficulty=gui.add(l,"difficulty",t).onFinishChange(function(){u.difficulty=l.difficulty,console.log(u.difficulty)})}}])&&o(e.prototype,n),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n(5),o=n(12),a=n(17);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,a.a);var e,n,s=h(d);function d(){var t;return function(t,e){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this))._overlay=null,t._confirmButton=null,t._declineButton=null,t}return e=d,(n=[{key:"init",value:function(){l(f(d.prototype),"init",this).call(this),this._overlay=new PIXI.Sprite(PIXI.Texture.WHITE),this._overlay.height=P3.View.height,this._overlay.alpha=.7,this._overlay.tint=0,this._overlay.visible=!1,this.addChild(this._overlay),this.initPanel()}},{key:"resize",value:function(){l(f(d.prototype),"resize",this).call(this),this._overlay.x=.5*(r.a.STAGE_WIDTH-P3.View.width),this._overlay.width=P3.View.width}},{key:"animateIn",value:function(){var t=this;if(null!==this.parent){var e=this._overlay.alpha;this._overlay.alpha=0,new P3.utils.TWEEN.Tween(this._overlay,this._tweens).to({alpha:e},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onStart(function(){t._overlay.visible=!0}).start(),new P3.utils.TWEEN.Tween(this._panel,this._tweens).to({alpha:1},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onStart(function(){t._panel.visible=!0}).start(),e=this._panel.y,this._panel.y+=80,new P3.utils.TWEEN.Tween(this._panel,this._tweens).to({y:e},340).easing(P3.utils.TWEEN.Easing.Cubic.Out).start(),this._confirmButton.scale.set(0),new P3.utils.TWEEN.Tween(this._confirmButton.scale,this._tweens).to({x:1,y:1},340).easing(P3.utils.TWEEN.Easing.Back.Out).delay(260).onStart(function(){t._confirmButton.interactive=!0,t._confirmButton.visible=!0}).start(),this._declineButton.scale.set(0),new P3.utils.TWEEN.Tween(this._declineButton.scale,this._tweens).to({x:1,y:1},340).easing(P3.utils.TWEEN.Easing.Back.Out).delay(220).onStart(function(){t._declineButton.interactive=!0,t._declineButton.visible=!0}).start()}}},{key:"animateOut",value:function(t,e){new P3.utils.TWEEN.Tween(this,this._tweens).to({alpha:0},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){t&&t.call(e)}).start()}},{key:"initPanel",value:function(){this._panel=new PIXI.Sprite(P3.assets.texture("ui_results_panel_equip")),this._panel.position.set(.5*r.a.STAGE_WIDTH,P3.View.height-200),this._panel.anchor.set(.5),this._panel.visible=!1,this.addChild(this._panel),this._panel.label=new PIXI.extras.BitmapText("Are you sure you want to delete this character?",{font:"34px BBC Reith Sans",align:"center"}),this._panel.label.position.set(0,-16),this._panel.label.anchor.set(.5),this._panel.label.maxWidth=.8*this._panel.texture.width,this._panel.label.lineHeight=4,this._panel.addChild(this._panel.label),this._confirmButton=o.a.create(P3.assets.texture("btn_large_normal"),P3.assets.texture("btn_large_over"),P3.assets.texture("btn_large_down"),P3.assets.texture("ui_icon_accept_nongel_medium")),this._confirmButton.position.set(this._panel.position.x+120,this._panel.position.y+88),this._confirmButton.visible=!1,this._confirmButton.tabIndex=i.a.TAB_INDEX_LEVEL_0+1,this._confirmButton.interactive=!1,this._confirmButton.signals.click.add(this.onConfirmButtonClick,this),this.addChild(this._confirmButton),this._declineButton=o.a.create(P3.assets.texture("btn_large_normal"),P3.assets.texture("btn_large_over"),P3.assets.texture("btn_large_down"),P3.assets.texture("ui_icon_decline_nongel_medium")),this._declineButton.position.set(this._panel.position.x-120,this._panel.position.y+88),this._declineButton.visible=!1,this._declineButton.tabIndex=i.a.TAB_INDEX_LEVEL_0,this._declineButton.interactive=!1,this._declineButton.signals.click.add(this.onDeclineButtonClick,this),this.addChild(this._declineButton)}},{key:"onConfirmButtonClick",value:function(t){var e=this;this._confirmButton.enabled=!1,this._declineButton.enabled=!1,this.animateOut(function(){e.signals.next.dispatch(e)})}},{key:"onDeclineButtonClick",value:function(t){var e=this;this._confirmButton.enabled=!1,this._declineButton.enabled=!1,this.animateOut(function(){e.signals.previous.dispatch(e)})}}])&&u(e.prototype,n),d}()},function(t,e,n){t.exports={toArabic:n(788),toRoman:n(789)}},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(0),i=n(5),o=n(17);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,o.a);var e,n,a=c(f);function f(){var t;return function(t,e){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this))._panel=null,t._pageIndicator=null,t._pageIndex=0,t._pages=[{image:"ui_help_image1",text:"Click to select the correct answer"},{image:"ui_help_image2",text:"Click and drag the correct answers into place"},{image:"ui_help_image3",text:"Enter the missing number. You can use your keyboard or turn on the on-screen keypad."}],t}return e=f,(n=[{key:"init",value:function(){u(h(f.prototype),"init",this).call(this);var t=new PIXI.Sprite(P3.assets.texture("ui_results_bg1"));t.width=r.a.STAGE_WIDTH,this.addChild(t),this.initPanel(),this.initPageIndicator(),this.initTitle("How to Play"),this.initBackButton(i.a.TAB_INDEX_LEVEL_0),this.initMuteButton(i.a.TAB_INDEX_LEVEL_0+1),this.initSettingsButton(i.a.TAB_INDEX_LEVEL_0+2),this.initLeftButton(i.a.TAB_INDEX_LEVEL_1),this.initRightButton(i.a.TAB_INDEX_LEVEL_1+1),this.setPage(0)}},{key:"show",value:function(){u(h(f.prototype),"show",this).call(this),this.setPage(this._pageIndex)}},{key:"animateIn",value:function(){var t=this;if(null!==this.parent){u(h(f.prototype),"animateIn",this).call(this);var e=this._panel.y;this._panel.y+=460,new P3.utils.TWEEN.Tween(this._panel,this._tweens).to({y:e},340).easing(P3.utils.TWEEN.Easing.Quadratic.Out).delay(140).start(),this._panel.scale.set(0),new P3.utils.TWEEN.Tween(this._panel.scale,this._tweens).to({x:1,y:1},340).easing(P3.utils.TWEEN.Easing.Quadratic.Out).delay(140).onStart(function(){t._panel.visible=!0}).onComplete(function(){new P3.utils.TWEEN.Tween(t._panel.left,t._tweens).to({x:.5*-t._panel.image.width},440).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).start(),new P3.utils.TWEEN.Tween(t._panel.right,t._tweens).to({x:.5*t._panel.image.width},440).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onUpdate(function(){t._panel.inner.mask.width=Math.abs(t._panel.left.x-t._panel.right.x)}).onComplete(function(){}).start()}).start();for(var n=function(e){var n=t._pageIndicator.children[e];n.alpha=0,new P3.utils.TWEEN.Tween(n,t._tweens).to({alpha:1},220).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(620+40*e).onStart(function(){n.visible=!0}).start()},r=0;r<this._pageIndicator.children.length;++r)n(r)}}},{key:"initPanel",value:function(){this._panel=new PIXI.Container,this._panel.position.set(.5*r.a.STAGE_WIDTH,420),this._panel.visible=!1,this.addChild(this._panel),this._panel.inner=new PIXI.Container,this._panel.addChild(this._panel.inner),this._panel.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_help_scroll_bg_50pcwidth"),180,20,180,20),this._panel.image.width=800,this._panel.image.height=480,this._panel.image.pivot.set(.5*this._panel.image.width,.5*this._panel.image.height),this._panel.inner.addChild(this._panel.image),this._panel.content=new PIXI.Sprite(PIXI.Texture.EMPTY),this._panel.content.position.set(0,-44),this._panel.content.anchor.set(.5),this._panel.inner.addChild(this._panel.content),this._panel.label=new PIXI.extras.BitmapText("How to play description goes here",{font:"30px BBC Reith Sans",align:"center"}),this._panel.label.position.set(0,178),this._panel.label.anchor.set(.5),this._panel.label.tint=2831962,this._panel.label.maxWidth=680,this._panel.inner.addChild(this._panel.label),this._panel.left=new PIXI.Sprite(P3.assets.texture("ui_help_scroll_fg")),this._panel.left.position.set(-34,0),this._panel.left.anchor.set(.5),this._panel.addChild(this._panel.left),this._panel.right=new PIXI.Sprite(P3.assets.texture("ui_help_scroll_fg")),this._panel.right.position.set(34,0),this._panel.right.anchor.set(.5),this._panel.addChild(this._panel.right),r.a.renderer instanceof PIXI.WebGLRenderer?(this._panel.inner.mask=new PIXI.Sprite(PIXI.Texture.WHITE),this._panel.inner.mask.x=.5*this._panel.image.width,this._panel.inner.mask.width=Math.abs(this._panel.left.x-this._panel.right.x),this._panel.inner.mask.height=this._panel.image.height,this._panel.inner.mask.anchor.set(.5,0),this._panel.inner.mask.tint=16711680,this._panel.image.addChild(this._panel.inner.mask)):(this._panel.inner.mask=new PIXI.Graphics,this._panel.inner.mask.beginFill(16711680,1),this._panel.inner.mask.drawRect(.5*-Math.abs(this._panel.left.x-this._panel.right.x),.5*-this._panel.image.height,Math.abs(this._panel.left.x-this._panel.right.x),this._panel.inner.height),this._panel.inner.mask.endFill(),this._panel.inner.addChild(this._panel.inner.mask))}},{key:"initPageIndicator",value:function(){this._pageIndicator=new PIXI.Container,this._pageIndicator.position.set(.5*r.a.STAGE_WIDTH,P3.View.height-54),this.addChild(this._pageIndicator);for(var t=0;t<this._pages.length;++t){var e=new PIXI.Container;e.position.set(100*t-100*(this._pages.length-1)*.5,0),e.visible=!1,this._pageIndicator.addChild(e),e.off=new PIXI.Sprite(P3.assets.texture("ui_icon_pagination_off")),e.off.anchor.set(.5),e.addChild(e.off),e.on=new PIXI.Sprite(P3.assets.texture("ui_icon_pagination_on")),e.on.anchor.set(.5),e.on.visible=!1,e.addChild(e.on)}}},{key:"setPage",value:function(t){var e=this._pages[t];this._panel.content.texture=P3.assets.texture(e.image),this._panel.label.text=e.text,this._rightButton.visible=t<this._pages.length-1,this._leftButton.visible=t>0;for(var n=0;n<this._pageIndicator.children.length;++n)this._pageIndicator.getChildAt(n).on.visible=n===t}},{key:"onLeftButtonClick",value:function(t){--this._pageIndex,this._pageIndex<0&&(this._pageIndex=0),this.setPage(this._pageIndex)}},{key:"onRightButtonClick",value:function(t){++this._pageIndex,this._pageIndex>=this._pages.length&&(this._pageIndex=this._pages.length-1),this.setPage(this._pageIndex)}}])&&s(e.prototype,n),f}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(0),i=n(12),o=n(17),a=n(4),s=n(32);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(p,o.a);var e,n,u=f(p);function p(t,e,n){var i;return function(t,e){if(!(t instanceof p))throw new TypeError("Cannot call a class as a function")}(this),(i=u.call(this))._item=t,i._showItem=e,i._showOrb=n,i._overlay=null,i._glow=null,i._image=null,i._orb=null,i._weapon=null,i._crate=null,i._panel=null,i._confirmButton=null,i._declineButton=null,i._particleLayer=null,i._coinEmitter=null,i._bindings={},i._imageLoaded=!1,i._equipmentAchievement=r.a.equipmentAchievement,r.a.equipmentAchievement=-1,console.log(i._item),i}return e=p,(n=[{key:"init",value:function(){c(d(p.prototype),"init",this).call(this),this._overlay=new PIXI.Sprite(PIXI.Texture.WHITE),this._overlay.height=P3.View.height,this._overlay.alpha=.7,this._overlay.tint=0,this._overlay.visible=!1,this.addChild(this._overlay),this._glow=new PIXI.Sprite(P3.assets.texture("ui_results_loot_glow")),this._glow.position.set(.5*r.a.STAGE_WIDTH,.5*P3.View.height),this._glow.scale.set(4),this._glow.anchor.set(.5),this._glow.visible=!1,this.addChild(this._glow),this._glow.additive=new PIXI.Sprite(P3.assets.texture("ui_results_loot_glow")),this._glow.additive.anchor.set(.5),this._glow.additive.blendMode=PIXI.BLEND_MODES.ADD,this._glow.additive.alpha=0,this._glow.addChild(this._glow.additive),this._particleLayer=new PIXI.Container,this.addChild(this._particleLayer),this._image=new PIXI.Sprite(P3.assets.texture("coins_1")),this._image.position.set(.5*r.a.STAGE_WIDTH,300),this._image.anchor.set(.5),this._image.visible=!1,this.addChild(this._image),this._orb=new PIXI.Container,this._orb.position.set(.5*r.a.STAGE_WIDTH,300),this._orb.visible=!1,this.addChild(this._orb),this._orb.back=new PIXI.Sprite(P3.assets.texture("orb_base")),this._orb.back.anchor.set(.5),this._orb.addChild(this._orb.back),this._orb.front=new PIXI.Sprite(P3.assets.texture("orb_base")),this._orb.front.alpha=.1,this._orb.front.anchor.set(.5),this._orb.front.blendMode=PIXI.BLEND_MODES.ADD,this._orb.addChild(this._orb.front);var t=P3.assets.json("particle_orb_big");this._orb.emitter=new PIXI.particles.Emitter(this._particleLayer,[P3.assets.texture("particle_orb")],t),this._orb.emitter.updateOwnerPos(this._orb.x,this._orb.y),this._orb.emitter.emit=!1,this._weapon=new PIXI.Sprite(P3.assets.texture("guardians/"+r.a.character.group+"/"+r.a.character.skin+"/tool_golden")),this._weapon.position.set(.5*r.a.STAGE_WIDTH,300),this._weapon.anchor.set(.5),this._weapon.rotation=.5,this._weapon.visible=!1,this.addChild(this._weapon),t=P3.assets.json("particle_loot_coins_burst_0"),this._coinEmitter=new PIXI.particles.Emitter(this._particleLayer,[P3.assets.texture("particle_coin_1"),P3.assets.texture("particle_coin_2"),P3.assets.texture("particle_coin_3")],t),this._coinEmitter.emit=!1,this._coinEmitter.updateOwnerPos(this._glow.x,this._glow.y+60),this.initCrate(),this.initPanel(),this.preloadItem()}},{key:"destroy",value:function(){this._coinEmitter.destroy(),this._orb.emitter.destroy(),this._item&&P3.assets.unloadTexture(this._item.images.loot),c(d(p.prototype),"destroy",this).call(this)}},{key:"resize",value:function(){c(d(p.prototype),"resize",this).call(this),this._overlay.position.x=.5*(r.a.STAGE_WIDTH-P3.View.width),this._overlay.width=P3.View.width}},{key:"preloadItem",value:function(){if(this._item){var t=[{name:this._item.images.loot,url:"images/equipment/"+this._item.images.loot+".png"}],e=P3.assets,n=r.a.gmi?r.a.gmi.gameDir:"./";e.addFiles(t,n+"assets/"),this._bindings.progress=e.signals.progress.add(this.onPreloaderProgress,this),this._bindings.complete=e.signals.complete.once(this.onPreloaderComplete,this),e.load()}else this._imageLoaded=!0}},{key:"onPreloaderProgress",value:function(t){console.log(t.progress)}},{key:"onPreloaderComplete",value:function(t){var e=this;this._bindings.progress.detach(),this._bindings.complete.detach(),this._image.texture=P3.assets.texture(this._item.images.loot),this._imageLoaded=!0,r.a.gmi.getAllSettings().motion||(this._image.visible=!0,this._item?(this._panel.visible=!0,this._confirmButton.visible=!0,this._declineButton.visible=!0):P3.utils.delayg(this._tweens,1,function(){e.signals.previous.dispatch(e)}))}},{key:"appear",value:function(){c(d(p.prototype),"appear",this).call(this);var t=P3.audio.music;if(t){var e={value:1};new P3.utils.TWEEN.Tween(e,this._tweens).to({value:.3},1e3).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onUpdate(function(){t.howl.volume(e.value)}).start()}P3.audio.playSound(["sfx_loot_crate_reveal_02","sfx_loot_crate_reveal_03"]),r.a.location.training?P3.utils.delayg(this._tweens,.4,function(){P3.audio.playVO("vo_queen_129",1,!0)}):this._showOrb?P3.utils.delayg(this._tweens,.4,function(){P3.audio.playVO("vo_queen_extra_11b12c",1,!0)}):P3.utils.delayg(this._tweens,.4,function(){P3.audio.playVO("vo_queen_130",1,!0)})}},{key:"animateIn",value:function(){var t=this;if(r.a.gmi.getAllSettings().motion){var e=this._overlay.alpha;this._overlay.alpha=0,new P3.utils.TWEEN.Tween(this._overlay,this._tweens).to({alpha:e},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onStart(function(){t._overlay.visible=!0}).start(),this._glow.alpha=0,new P3.utils.TWEEN.Tween(this._glow,this._tweens).to({alpha:1},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(240).onStart(function(){t._glow.visible=!0}).start(),this._glow.scale.set(3),new P3.utils.TWEEN.Tween(this._glow.scale,this._tweens).to({x:4,y:4},340).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(240).start(),this._crate.scale.set(0);var n=new P3.utils.TWEEN.Tween(this._crate.scale,this._tweens).to({x:1,y:1},340).easing(P3.utils.TWEEN.Easing.Back.Out).delay(300).onStart(function(){t._crate.visible=!0;var e=t._crate.y;t._crate.y+=80,new P3.utils.TWEEN.Tween(t._crate,t._tweens).to({y:e},340).easing(P3.utils.TWEEN.Easing.Cubic.Out).start()});n.start();var i=this._crate.top.y,o=new P3.utils.TWEEN.Tween(this._crate.top,this._tweens).to({y:this._crate.top.y-3},80).repeat(1/0).yoyo(!0).start(),a=new P3.utils.TWEEN.Tween(this._crate,this._tweens).to({rotation:-.032},70).easing(P3.utils.TWEEN.Easing.Quadratic.Out).onComplete(function(){(function t(e,n){var r=this;n=n||window,new P3.utils.TWEEN.Tween(this._crate,this._tweens).to({rotation:.032},140).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).repeat(3).yoyo(!0).onComplete(function(){r._imageLoaded?e&&e.call(n):t.call(r,e,n)}).start()}).call(t,function(){var e=new P3.utils.TWEEN.Tween(t._crate,t._tweens).to({rotation:0},70).easing(P3.utils.TWEEN.Easing.Quadratic.In).onComplete(function(){o&&o.stop(),t._crate.top.y=i}),n=new P3.utils.TWEEN.Tween(t._crate.top.scale,t._tweens).to({x:.84,y:.84},320).easing(P3.utils.TWEEN.Easing.Cubic.In).delay(100).onStart(function(){new P3.utils.TWEEN.Tween(t._crate.top,t._tweens).to({y:t._crate.top.y-300,alpha:0},320).easing(P3.utils.TWEEN.Easing.Cubic.In).start(),new P3.utils.TWEEN.Tween(t._crate.bottom.scale,t._tweens).to({x:.8,y:.8},320).easing(P3.utils.TWEEN.Easing.Cubic.In).delay(40).onStart(function(){new P3.utils.TWEEN.Tween(t._crate.bottom,t._tweens).to({x:0,y:400,alpha:0},320).easing(P3.utils.TWEEN.Easing.Cubic.In).start(),P3.audio.playSound("sfx_lootcrate_open_00")}).onComplete(function(){t._crate.bottom.visible=!1}).start(),new P3.utils.TWEEN.Tween(t._glow.additive,t._tweens).to({alpha:.64},400).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).repeat(1).yoyo(!0).start(),new P3.utils.TWEEN.Tween(t._glow,t._tweens).to({alpha:0},600).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(640).start()}).onComplete(function(){var e=r.a.save.getUserData(r.a.userId);t.fakeEquipmentAchievement(e),t._crate.top.visible=!1;var n=t._image.y;if(t._showOrb&&(t._weapon.y+=120,new P3.utils.TWEEN.Tween(t._weapon,t._tweens).to({y:n},340).easing(P3.utils.TWEEN.Easing.Cubic.Out).delay(340).start(),t._weapon.scale.set(0),new P3.utils.TWEEN.Tween(t._weapon.scale,t._tweens).to({x:1,y:1},340).easing(P3.utils.TWEEN.Easing.Back.Out).delay(340).onStart(function(){t._weapon.visible=!0,t._coinEmitter.emit=!0}).start(),t._showItem?new P3.utils.TWEEN.Tween(t._weapon,t._tweens).to({alpha:0},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(8340).onComplete(function(){t._weapon.visible=!1}).start():P3.utils.delayg(t._tweens,8.5,function(){t.signals.previous.dispatch(t)})),t._showItem){var i=t._showOrb?8680:0;if(t._image.y+=120,new P3.utils.TWEEN.Tween(t._image,t._tweens).to({y:n},340).easing(P3.utils.TWEEN.Easing.Cubic.Out).delay(i).start(),t._image.scale.set(0),new P3.utils.TWEEN.Tween(t._image.scale,t._tweens).to({x:1,y:1},340).easing(P3.utils.TWEEN.Easing.Back.Out).delay(i).onStart(function(){t._image.visible=!0,t._coinEmitter.emit=!0,t._showOrb&&P3.audio.playSound("sfx_lootcrate_open_00")}).start(),t._item){new P3.utils.TWEEN.Tween(t._panel,t._tweens).to({alpha:1},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(i).onStart(function(){t._panel.visible=!0}).start();var o=t._panel.y;t._panel.y+=80,new P3.utils.TWEEN.Tween(t._panel,t._tweens).to({y:o},340).easing(P3.utils.TWEEN.Easing.Cubic.Out).delay(i).start(),t._confirmButton.scale.set(0),new P3.utils.TWEEN.Tween(t._confirmButton.scale,t._tweens).to({x:1,y:1},340).easing(P3.utils.TWEEN.Easing.Back.Out).delay(260+i).onStart(function(){t._confirmButton.interactive=!0,t._confirmButton.visible=!0}).start(),t._declineButton.scale.set(0),new P3.utils.TWEEN.Tween(t._declineButton.scale,t._tweens).to({x:1,y:1},340).easing(P3.utils.TWEEN.Easing.Back.Out).delay(220+i).onStart(function(){t._declineButton.interactive=!0,t._declineButton.visible=!0}).start()}else P3.utils.delayg(t._tweens,2.5+i/1e3,function(){t.signals.previous.dispatch(t)})}});e.chain(n),e.start()})});n.chain(a),n.start()}}},{key:"update",value:function(){c(d(p.prototype),"update",this).call(this);var t=window.dt;this._coinEmitter.update(t),this._orb.emitter.update(t),r.a.gmi.getAllSettings().motion&&(this._orb.back.rotation-=3*t,this._orb.front.rotation+=1*t)}},{key:"initCrate",value:function(){this._crate=new PIXI.Container,this._crate.position.set(.5*r.a.STAGE_WIDTH,.5*P3.View.height),this._crate.visible=!1,this.addChild(this._crate),this._crate.bottom=new PIXI.Sprite(P3.assets.texture("ui_results_loot_crate_bottom")),this._crate.bottom.anchor.set(.5),this._crate.addChild(this._crate.bottom),this._crate.top=new PIXI.Sprite(P3.assets.texture("ui_results_loot_crate_top")),this._crate.top.anchor.set(.5),this._crate.addChild(this._crate.top)}},{key:"initPanel",value:function(){this._panel=new PIXI.Sprite(P3.assets.texture("ui_results_panel_equip")),this._panel.position.set(.5*r.a.STAGE_WIDTH,P3.View.height-200),this._panel.anchor.set(.5),this._panel.visible=!1,this.addChild(this._panel),this._panel.label=new PIXI.extras.BitmapText("Do you want to equip your Guardian with this new item?",{font:"34px BBC Reith Sans",align:"center"}),this._panel.label.position.set(0,-16),this._panel.label.anchor.set(.5),this._panel.label.maxWidth=.8*this._panel.texture.width,this._panel.label.lineHeight=4,this._panel.addChild(this._panel.label),this._confirmButton=i.a.create(P3.assets.texture("btn_large_normal"),P3.assets.texture("btn_large_over"),P3.assets.texture("btn_large_down"),P3.assets.texture("ui_icon_accept_nongel_medium")),this._confirmButton.position.set(this._panel.position.x+120,this._panel.position.y+88),this._confirmButton.visible=!1,this._confirmButton.signals.click.add(this.onConfirmButtonClick,this),this.addChild(this._confirmButton),this._declineButton=i.a.create(P3.assets.texture("btn_large_normal"),P3.assets.texture("btn_large_over"),P3.assets.texture("btn_large_down"),P3.assets.texture("ui_icon_decline_nongel_medium")),this._declineButton.position.set(this._panel.position.x-120,this._panel.position.y+88),this._declineButton.visible=!1,this._declineButton.signals.click.add(this.onDeclineButtonClick,this),this.addChild(this._declineButton)}},{key:"onConfirmButtonClick",value:function(t){this._confirmButton.enabled=!1,this._declineButton.enabled=!1,this.signals.next.dispatch(this)}},{key:"onDeclineButtonClick",value:function(t){this._confirmButton.enabled=!1,this._declineButton.enabled=!1,this.signals.previous.dispatch(this)}},{key:"fakeEquipmentAchievement",value:function(t){var e=t.unlock.equip_purse;Array.isArray(e)&&this._equipmentAchievement===a.a.UNLOCK_ALL_PURSES&&r.a.achievements.unlock(a.a.UNLOCK_ALL_PURSES,s.a.SETTING_FORCE_SILENT);var n=t.unlock.equip_belt;Array.isArray(n)&&this._equipmentAchievement===a.a.UNLOCK_ALL_BELTS&&r.a.achievements.unlock(a.a.UNLOCK_ALL_BELTS,s.a.SETTING_FORCE_SILENT);var i=t.unlock.equip_band;Array.isArray(i)&&this._equipmentAchievement===a.a.UNLOCK_ALL_BRACELETS&&r.a.achievements.unlock(a.a.UNLOCK_ALL_BRACELETS,s.a.SETTING_FORCE_SILENT);var o=t.unlock.equip_amulet;Array.isArray(o)&&this._equipmentAchievement===a.a.UNLOCK_ALL_AMULETS&&r.a.achievements.unlock(a.a.UNLOCK_ALL_AMULETS,s.a.SETTING_FORCE_SILENT);var u=t.unlock.equip_feather;Array.isArray(u)&&this._equipmentAchievement===a.a.UNLOCK_ALL_FEATHERS&&r.a.achievements.unlock(a.a.UNLOCK_ALL_FEATHERS,s.a.SETTING_FORCE_SILENT);var l=t.unlock["equip_cloakfront,equip_cloakback"];Array.isArray(l)&&this._equipmentAchievement===a.a.UNLOCK_ALL_CLOAKS&&r.a.achievements.unlock(a.a.UNLOCK_ALL_CLOAKS,s.a.SETTING_FORCE_SILENT);var c=t.unlock.equip_shield;Array.isArray(c)&&this._equipmentAchievement===a.a.UNLOCK_ALL_SHIELDS&&r.a.achievements.unlock(a.a.UNLOCK_ALL_SHIELDS,s.a.SETTING_FORCE_SILENT);var h=t.unlock.pet;Array.isArray(h)&&this._equipmentAchievement===a.a.UNLOCK_ALL_PETS&&r.a.achievements.unlock(a.a.UNLOCK_ALL_PETS,s.a.SETTING_FORCE_SILENT)}}])&&l(e.prototype,n),p}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(0),i=n(5),o=n(17);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,o.a);var e,n,a=c(f);function f(){var t;return function(t,e){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this))._overlay=null,t._panel=null,t}return e=f,(n=[{key:"init",value:function(){u(h(f.prototype),"init",this).call(this),this._overlay=new PIXI.Sprite(PIXI.Texture.WHITE),this._overlay.height=P3.View.height,this._overlay.alpha=.7,this._overlay.tint=0,this.addChild(this._overlay);var t=$("#"+P3.View.holder.id).width()>=770?1e3:820;this._panel=new PIXI.Container,this._panel.position.set(.5*r.a.STAGE_WIDTH,384),this._panel.scale.set(.8),this.addChild(this._panel),this._panel.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_help_scroll_bg_50pcwidth"),180,20,180,20),this._panel.image.width=t,this._panel.image.height=480,this._panel.image.pivot.set(.5*this._panel.image.width,.5*this._panel.image.height),this._panel.addChild(this._panel.image),this._panel.left=new PIXI.Sprite(P3.assets.texture("ui_help_scroll_fg")),this._panel.left.x=.5*-this._panel.image.width,this._panel.left.anchor.set(.5),this._panel.addChild(this._panel.left),this._panel.right=new PIXI.Sprite(P3.assets.texture("ui_help_scroll_fg")),this._panel.right.x=.5*this._panel.image.width,this._panel.right.anchor.set(.5),this._panel.addChild(this._panel.right),this.initTitle("Paused"),this.initHomeButton(1),this.initMuteButton(2),this.initSettingsButton(3),this.initRestartButton(4),this.initPlayButton(5,i.a.POSITION_MIDDLE_TWO_RIGHT),this.initHelpButton(6)}},{key:"destroy",value:function(){u(h(f.prototype),"destroy",this).call(this)}},{key:"resize",value:function(){u(h(f.prototype),"resize",this).call(this),this._overlay.x=.5*(r.a.STAGE_WIDTH-P3.View.width),this._overlay.width=P3.View.width}},{key:"animateIn",value:function(){null!==this.parent&&u(h(f.prototype),"animateIn",this).call(this)}},{key:"onRestartButtonClick",value:function(t){u(h(f.prototype),"onRestartButtonClick",this).call(this,t),r.a.gmi.sendStatsEvent("level","restart")}},{key:"onHelpButtonClick",value:function(t){u(h(f.prototype),"onHelpButtonClick",this).call(this,t),r.a.gmi.sendStatsEvent("howtoplay","click")}}])&&s(e.prototype,n),f}()},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n(0),i=(n(126),n(1)),o=n(2),a=n(17),s=(n(99),n(26)),u=(n(97),n(7)),l=n(40);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(98);var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(m,a.a);var e,n,c=p(m);function m(){return function(t,e){if(!(t instanceof m))throw new TypeError("Cannot call a class as a function")}(this),c.call(this)}return e=m,(n=[{key:"init",value:function(){var t=this;f(_(m.prototype),"init",this).call(this);var e=new i.a;e.values=[new o.a(20),new o.a(20),new o.a(20)],e._template="generic/default",this._input=new s.a(e,new u.a(e)),this._input.position.set(.5*r.a.STAGE_WIDTH,.5*P3.View.height),this._input.init(),this._view=new l.a(e),this._view.position.set(.5*r.a.STAGE_WIDTH,600),this._view.signals.confirm.add(function(){console.log("IS CORRECT : "+t._view.isCorrect())},this),this.addChild(this._view)}},{key:"resize",value:function(){f(_(m.prototype),"resize",this).call(this),this.hitArea=new PIXI.Rectangle(.5*(r.a.STAGE_WIDTH-P3.View.width),0,P3.View.width,P3.View.height)}},{key:"update",value:function(){var t=window.dt;this._input&&this._input.update(t)}}])&&h(e.prototype,n),m}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(0),i=n(5),o=n(17);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(3);var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,o.a);var e,n,a=c(f);function f(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{from:0,to:1,xp:0,target:1},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return function(t,e){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this))._score=e,t._total=n,t._xp=r,t._victory=i,t._panel=null,t._progress=null,t._shields=[],t._answers=o,t._currentTutorialVO=null,t._particleLayer=null,t._fairyDustEmitter=null,t}return e=f,(n=[{key:"init",value:function(){u(h(f.prototype),"init",this).call(this);var t=new PIXI.Sprite(P3.assets.texture("ui_results_bg1"));t.width=r.a.STAGE_WIDTH,this.addChild(t),this.initHomeButton(i.a.TAB_INDEX_LEVEL_0),this.initMuteButton(i.a.TAB_INDEX_LEVEL_0+1),this.initSettingsButton(i.a.TAB_INDEX_LEVEL_0+2),this.initPlayButton(i.a.TAB_INDEX_LEVEL_3,i.a.POSITION_BOTTOM_RIGHT),this._particleLayer=new PIXI.Container,this.addChild(this._particleLayer);var e=P3.assets.json("particle_fairy_dust");this._fairyDustEmitter=new PIXI.particles.Emitter(this._particleLayer,[P3.assets.texture("particle_divide"),P3.assets.texture("particle_minus"),P3.assets.texture("particle_multiply"),P3.assets.texture("particle_plus")],e),this._fairyDustEmitter.emit=!0,this._fairyDustEmitter.updateOwnerPos(.5*r.a.STAGE_WIDTH,0),r.a.location.challenge?this.initTitle("Results - "+r.a.date,32):this.initTitle("Results"),this.initPanel(),this.initProgressBar()}},{key:"destroy",value:function(){this._currentTutorialVO&&this._currentTutorialVO.destroy(),this._fairyDustEmitter.destroy(),u(h(f.prototype),"destroy",this).call(this)}},{key:"show",value:function(){u(h(f.prototype),"show",this).call(this),this._currentTutorialVO&&this._currentTutorialVO.play()}},{key:"hide",value:function(){u(h(f.prototype),"hide",this).call(this),this._currentTutorialVO&&this._currentTutorialVO.pause()}},{key:"resize",value:function(){u(h(f.prototype),"resize",this).call(this),this._fairyDustEmitter.spawnRect=new PIXI.Rectangle(.5*-P3.View.width,0,P3.View.width,P3.View.height)}},{key:"appear",value:function(){if(u(h(f.prototype),"appear",this).call(this),r.a.location.training){var t=0,e=["vo_queen_126","vo_queen_127b","vo_queen_128"];(function n(){var i=this;if(t<e.length){if(this._currentTutorialVO=P3.audio.playSound(e[t++]),!this._currentTutorialVO)return void n.call(this);if(this._currentTutorialVO.signals.end.once(function(){return n.call(i)}),r.a.gmi.getAllSettings().subtitles){var o=P3.assets.json("subtitles");r.a.subtitles.show(o[this._currentTutorialVO.howl.name]?o[this._currentTutorialVO.howl.name]:this._currentTutorialVO.howl.name,this._currentTutorialVO.howl.duration())}}else this._currentTutorialVO=null}).call(this)}else 1===r.a.difficulty.levelChange?this.playShieldLevelVO():-1===r.a.difficulty.levelChange?P3.audio.playVO("vo_queen_135",1,!0):P3.audio.playVO(["vo_queen_136f","vo_queen_137","vo_queen_191b"],1,!0);this._fairyDustEmitter.emit=!0}},{key:"animateIn",value:function(t,e){var n=this;if(null!==this.parent){u(h(f.prototype),"animateIn",this).call(this);var i=this._panel.y;this._panel.y+=140,new P3.utils.TWEEN.Tween(this._panel,this._tweens).to({y:i},340).easing(P3.utils.TWEEN.Easing.Quadratic.Out).delay(120).start(),this._panel.scale.set(0),new P3.utils.TWEEN.Tween(this._panel.scale,this._tweens).to({x:1,y:1},400).easing(P3.utils.TWEEN.Easing.Back.Out).delay(120).onStart(function(){n._panel.visible=!0}).start(),i=this._progress.y,this._progress.y+=80,new P3.utils.TWEEN.Tween(this._progress,this._tweens).to({y:i},320).easing(P3.utils.TWEEN.Easing.Quadratic.Out).delay(340).start(),this._progress.alpha=0,new P3.utils.TWEEN.Tween(this._progress,this._tweens).to({alpha:1},200).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(360).onStart(function(){n._progress.visible=!0}).onComplete(function(){new P3.utils.TWEEN.Tween(n._progress.fill.mask.scale,n._tweens).to({x:n._xp.to},1e3).easing(P3.utils.TWEEN.Easing.Cubic.InOut).delay(80).start();for(var t=function(t){var e=n._shields[t];if(r.a.location.training)e.fill.scale.set(0),new P3.utils.TWEEN.Tween(e.fill.scale,n._tweens).to({x:1,y:1},320).easing(P3.utils.TWEEN.Easing.Back.Out).delay(80*t).onStart(function(){e.fill.visible=!0}).start();else switch(r.a.difficulty.levelChange){case-1:e.fill.scale.set(1),new P3.utils.TWEEN.Tween(e.fill.scale,n._tweens).to({x:0,y:0},320).easing(P3.utils.TWEEN.Easing.Back.In).delay(80*t).onComplete(function(){e.fill.visible=!1}).start();break;case 1:e.fill.scale.set(0),new P3.utils.TWEEN.Tween(e.fill.scale,n._tweens).to({x:1,y:1},320).easing(P3.utils.TWEEN.Easing.Back.Out).delay(80*t).onStart(function(){e.fill.visible=!0}).start()}},e=0;e<n._shields.length;++e)t(e)}).start()}}},{key:"update",value:function(){u(h(f.prototype),"update",this).call(this);var t=window.dt;r.a.gmi.getAllSettings().motion&&this._fairyDustEmitter.update(t)}},{key:"initPanel",value:function(){this._panel=new PIXI.Sprite(P3.assets.texture("ui_results_panel")),this._panel.position.set(.5*r.a.STAGE_WIDTH,.5*P3.View.height),this._panel.anchor.set(.5),this._panel.visible=!1,this.addChild(this._panel),this._panel.title=new PIXI.Container,this._panel.title.position.set(0,-170),this._panel.addChild(this._panel.title),this._panel.title.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_results_location_title"),60,0,60,0),this._panel.title.image.pivot.set(.5*this._panel.title.image.width,.5*this._panel.title.image.height),this._panel.title.addChild(this._panel.title.image),this._panel.title.label=new PIXI.extras.BitmapText(r.a.location.name,{font:"36px BBC Reith Sans",align:"center"}),this._panel.title.label.anchor.set(.5),this._panel.title.label.maxWidth=450,this._panel.title.label.tint=16777215,this._panel.title.addChild(this._panel.title.label),this._panel.title.image.width=1.4*this._panel.title.label.textWidth,this._panel.title.image.pivot.x=.5*this._panel.title.image.width,this._panel.scoreValueLabel=new PIXI.extras.BitmapText("Score "+this._score+"/"+this._total,{font:"36px BBC Reith Sans Large",align:"center"}),this._panel.scoreValueLabel.position.set(0,-60),this._panel.scoreValueLabel.anchor.set(.5),this._panel.scoreValueLabel.tint=16777215,this._panel.addChild(this._panel.scoreValueLabel),this._panel.answers=new PIXI.Container,this._panel.answers.position.set(0,-4),this._panel.addChild(this._panel.answers);for(var t=0;t<this._answers.length;++t){var e=this._answers[t]?P3.assets.texture("ui_icon_question_passed"):P3.assets.texture("ui_icon_question_failed"),n=new PIXI.Sprite(e);n.position.set(42*t-42*(this._answers.length-1)*.5,0),n.anchor.set(.5),this._panel.answers.addChild(n)}this._panel.level=new PIXI.Sprite(P3.assets.texture("ui_results_shield_bg")),this._panel.level.position.set(0,100),this._panel.level.anchor.set(.5),this._panel.addChild(this._panel.level);var i=r.a.difficulty.levelUnclamped,o=r.a.difficulty.levelChange;console.log(i,o);for(var a=r.a.location.training?1:4,s=0;s<a;++s){var u=new PIXI.Sprite(P3.assets.texture(r.a.location.images.result_shield_off));if(u.position.set(94*s-94*(a-1)*.5,0),u.anchor.set(.5),this._panel.level.addChild(u),u.fill=new PIXI.Sprite(P3.assets.texture(r.a.location.images.result_shield_on)),u.fill.anchor.set(.5),u.fill.visible=!1,u.addChild(u.fill),r.a.location.training)this._shields.push(u);else switch(o){case 0:s<i&&(u.fill.visible=!0);break;case-1:s<=i&&(u.fill.visible=!0),s===i&&this._shields.push(u);break;case 1:s<i-1&&(u.fill.visible=!0),s===i-1&&this._shields.push(u)}}}},{key:"initProgressBar",value:function(){this._progress=new PIXI.Sprite(P3.assets.texture("ui_xp_bg")),this._progress.position.set(.5*r.a.STAGE_WIDTH,640),this._progress.anchor.set(.5),this._progress.visible=!1,this.addChild(this._progress),this._progress.fill=new PIXI.Sprite(P3.assets.texture("ui_xp_fill")),this._progress.fill.anchor.set(.5),this._progress.addChild(this._progress.fill);var t=this._progress.fill.texture.width,e=this._progress.fill.texture.height;this._progress.fill.mask=new PIXI.Graphics,this._progress.fill.mask.position.set(.5*-t,0),this._progress.fill.mask.scale.x=0,this._progress.fill.mask.beginFill(16711680,1),this._progress.fill.mask.drawRect(0,.5*-e,t,e),this._progress.fill.mask.endFill(),this._progress.fill.addChild(this._progress.fill.mask),this._progress.plaque=new PIXI.Sprite(P3.assets.texture("ui_results_xp")),this._progress.plaque.position.set(.5*-this._progress.texture.width-54,0),this._progress.plaque.anchor.set(.5),this._progress.addChild(this._progress.plaque),this._progress.icon=new PIXI.Sprite(P3.assets.texture("ui_results_loot_crate")),this._progress.icon.position.set(.5*this._progress.texture.width+50,0),this._progress.icon.anchor.set(.5),this._progress.addChild(this._progress.icon);var n=r.a.save.getUserData(r.a.userId),i=Math.round(n.totalXp),o=36;i>r.a.config.game.xp_cap&&(i=Math.round(r.a.config.game.xp_cap)+"+",o=32),this._progress.xpLabel=new PIXI.extras.BitmapText(i+"",{font:o+"px BBC Reith Sans",align:"center"}),this._progress.xpLabel.position.set(-2,18),this._progress.xpLabel.anchor.set(.5),this._progress.xpLabel.tint=3736327,this._progress.plaque.addChild(this._progress.xpLabel)}},{key:"playShieldLevelVO",value:function(){switch(r.a.difficulty.levelUnclamped){case 1:P3.audio.playVO("vo_queen_131",1,!0);break;case 2:P3.audio.playVO("vo_queen_132",1,!0);break;case 3:P3.audio.playVO("vo_queen_133b",1,!0);break;case 4:P3.audio.playVO("vo_queen_134b",1,!0)}}}])&&s(e.prototype,n),f}();f.DIFFICULTY_ANIM_CHANGE_NONE="change_none",f.DIFFICULTY_ANIM_CHANGE_UP="change_up",f.DIFFICULTY_ANIM_CHANGE_DOWN="change_down"},function(t,e,n){"use strict";n.d(e,"a",function(){return A});var r=n(69),i=n.n(r),o=n(10),a=n(147),s=n(148),u=n(149),l=n(150),c=n(151),h=n(110),f=n(152),d=n(9),p=n(58),_=n(77),m=n(59),y=n(78),v=n(60),g=n(79),b=n(61),w=n(80),x=n(62),T=n(0),E=n(5),P=n(17);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=L(t);if(e){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(4);var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(S,P.a);var e,n,r=k(S);function S(){var t;return function(t,e){if(!(t instanceof S))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this))._bg=null,t._title=null,t._tip=null,t._bitesizeLogo=null,t._party=[],t._boss=null,t._particleLayer=null,t._leftFireEmitter=null,t._rightFireEmitter=null,t._leftSmokeEmitter=null,t._rightSmokeEmitter=null,t}return e=S,(n=[{key:"init",value:function(){O(L(S.prototype),"init",this).call(this),this._bg=new PIXI.Sprite(P3.assets.texture("ui_splash")),this._bg.width=T.a.STAGE_WIDTH,this.addChild(this._bg),this._particleLayer=new PIXI.Container,this.addChild(this._particleLayer),this._leftFireEmitter=new PIXI.particles.Emitter(this._particleLayer,[P3.assets.texture("particle_fire_fg_flame")],P3.assets.json("particle_fire_fg_flame_00")),this._leftFireEmitter.updateOwnerPos(.5*T.a.STAGE_WIDTH-240,472),this._leftFireEmitter.emit=!0,this._leftSmokeEmitter=new PIXI.particles.Emitter(this._particleLayer,[P3.assets.texture("particle_fires_bg_smoke")],P3.assets.json("particle_fire_bg_smoke_00")),this._leftSmokeEmitter.updateOwnerPos(.5*T.a.STAGE_WIDTH-240,472),this._leftSmokeEmitter.emit=!0,this._rightFireEmitter=new PIXI.particles.Emitter(this._particleLayer,[P3.assets.texture("particle_fire_fg_flame")],P3.assets.json("particle_fire_fg_flame_00")),this._rightFireEmitter.updateOwnerPos(.5*T.a.STAGE_WIDTH+240,472),this._rightFireEmitter.emit=!0,this._rightSmokeEmitter=new PIXI.particles.Emitter(this._particleLayer,[P3.assets.texture("particle_fires_bg_smoke")],P3.assets.json("particle_fire_bg_smoke_00")),this._rightSmokeEmitter.updateOwnerPos(.5*T.a.STAGE_WIDTH+240,472),this._rightSmokeEmitter.emit=!0,this.initParty(.5*T.a.STAGE_WIDTH-340,600),this.initBoss(.5*T.a.STAGE_WIDTH+340,580),this._title=new PIXI.Sprite(P3.assets.texture("ui_logo")),this._title.position.set(.5*T.a.STAGE_WIDTH,240),this._title.scale.set(.9),this._title.anchor.set(.5),this.addChild(this._title),this._bitesizeLogo=new PIXI.Sprite(P3.assets.texture("ui_logo_bitesize")),this._bitesizeLogo.anchor.set(0,1),this.addChild(this._bitesizeLogo),this.initTipPanel(),this.initExitButton(E.a.TAB_INDEX_LEVEL_0),this.initMuteButton(E.a.TAB_INDEX_LEVEL_0+1),this.initSettingsButton(E.a.TAB_INDEX_LEVEL_0+2),this.initPlayButton(E.a.TAB_INDEX_LEVEL_3),this.initHelpButton(E.a.TAB_INDEX_LEVEL_3+1)}},{key:"destroy",value:function(){this._leftFireEmitter.destroy(),this._rightFireEmitter.destroy(),this._leftSmokeEmitter.destroy(),this._rightSmokeEmitter.destroy(),O(L(S.prototype),"destroy",this).call(this)}},{key:"initParty",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[new PIXI.Point(0,0),new PIXI.Point(-70,-6),new PIXI.Point(-120,6)],r=[],i=P3.assets.json("characters"),o=0;o<3;++o){var a=n[o],s=P3.utils.selectRandom(i);r.push(s.skin),i=i.filter(function(t){return-1===r.indexOf(t.skin)}),this._party[o]=this.createGuardian(s.type),this._party[o].position.set(t+a.x,e+a.y),this._party[o].scale.set(.25),this._party[o].init(s.skin),this.addChild(this._party[o]),this._party[o].setEmitterParent(this._particleLayer),this._party[o].playIdleAnim(),this._party[o].update(0)}}},{key:"initBoss",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[o.a.TYPE_DRAGON,o.a.TYPE_TROLL,o.a.TYPE_HOBGOBLIN,o.a.TYPE_SPIRIT,o.a.TYPE_MAGE,o.a.TYPE_SPIDER];this._boss=this.createBoss(P3.utils.selectRandom(n)),this._boss.position.set(t,e),this._boss.scale.set(.8*this._boss.scale.x,.8*this._boss.scale.y),this._boss.init(),this.addChild(this._boss),this._boss.setEmitterParent(this),this._boss.playIdleAnim(),this._boss.update(0)}},{key:"createGuardian",value:function(t){switch(t){default:case d.a.TYPE_ELF:return new p.a;case d.a.TYPE_ELF_FEMALE:return new _.a;case d.a.TYPE_KNIGHT:return new m.a;case d.a.TYPE_KNIGHT_FEMALE:return new y.a;case d.a.TYPE_RANGER:return new v.a;case d.a.TYPE_RANGER_FEMALE:return new g.a;case d.a.TYPE_WARRIOR:return new b.a;case d.a.TYPE_WIZARD:return new x.a;case d.a.TYPE_WITCH:return new w.a}}},{key:"createBoss",value:function(t){switch(t){default:case o.a.TYPE_DRAGON:return new a.a;case o.a.TYPE_SPIDER:return new l.a;case o.a.TYPE_HOBGOBLIN:return new s.a;case o.a.TYPE_TROLL:return new f.a;case o.a.TYPE_TRAINING_TROLL:return new h.a;case o.a.TYPE_SPIRIT:return new c.a;case o.a.TYPE_MAGE:return new u.a}}},{key:"destroy",value:function(){O(L(S.prototype),"destroy",this).call(this)}},{key:"resize",value:function(){O(L(S.prototype),"resize",this).call(this),this._bitesizeLogo.position.set(.5*(T.a.STAGE_WIDTH-P3.View.width)+50,P3.View.height-32)}},{key:"appear",value:function(){O(L(S.prototype),"appear",this).call(this),P3.audio.playVO("vo_queen_03",1,!0)}},{key:"animateIn",value:function(t,e){}},{key:"update",value:function(){var t=window.dt;if(T.a.gmi.getAllSettings().motion){for(var e=0;e<this._party.length;++e)this._party[e].update(t);this._boss.update(t),this._pet&&this._pet.update(t)}this._leftFireEmitter.update(t),this._rightFireEmitter.update(t),this._leftSmokeEmitter.update(t),this._rightSmokeEmitter.update(t)}},{key:"initTipPanel",value:function(){this._tip=new PIXI.Container,this._tip.position.set(.5*T.a.STAGE_WIDTH,P3.View.height-28),this._tip.visible=!1,this.addChild(this._tip),this._tip.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("answer_box_9slice"),88,44,88,44),this._tip.image.width=800,this._tip.image.pivot.set(.5*this._tip.image.width,.5*this._tip.image.height),this._tip.addChild(this._tip.image),this._tip.label=new PIXI.extras.BitmapText("Have your brain, pencil and paper ready!",{font:"34px BBC Reith Sans"}),this._tip.label.position.set(0,-10),this._tip.label.anchor.set(.5),this._tip.label.tint=2831962,this._tip.addChild(this._tip.label)}},{key:"onPlayButtonClick",value:function(t){O(L(S.prototype),"onPlayButtonClick",this).call(this,t),PIXI.utils.isMobile.android.device&&i.a.enabled&&i.a.request(),T.a.gmi.sendStatsEvent("play","click")}},{key:"onHelpButtonClick",value:function(t){O(L(S.prototype),"onHelpButtonClick",this).call(this,t),T.a.gmi.sendStatsEvent("howtoplay","click")}}])&&M(e.prototype,n),S}()},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r=n(110),i=n(0),o=n(81),a=n(111),s=n(5),u=(n(27),n(202));function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(_,u.a);var e,n,l=d(_);function _(){var t;return function(t,e){if(!(t instanceof _))throw new TypeError("Cannot call a class as a function")}(this),(t=l.call(this))._state=_.STATE_NONE,t._nextState=t._state,t._questionCount=3,t._partyCount=0,t._incorrectAnswerTweens=new P3.utils.TWEEN.Group,t._tutorialHand=null,t._tutorialHandTweens=new P3.utils.TWEEN.Group,t._currentTutorialVO=null,t._guardianAttackDelay=null,t._bossAttackDelay=null,t._message=null,t}return e=_,(n=[{key:"init",value:function(){h(p(_.prototype),"init",this).call(this);var t=new P3.MovieClipSequence;t.addTextures([P3.assets.texture("tutorial_finger")],"default"),t.addTextures([P3.assets.texture("tutorial_finger_tap"),P3.assets.texture("tutorial_finger")],"tap"),this._tutorialHand=new P3.MovieClip(t,"default",!1),this._tutorialHand.anchor.set(.1,.04),this._tutorialHand.hitArea=new PIXI.Rectangle,this._tutorialHand.visible=!1,this._tutorialHand.animationSpeed=1,this.addChild(this._tutorialHand),this.initSkipButton(s.a.TAB_INDEX_LEVEL_3),PIXI.utils.isMobile.any||(this._calculatorButton.visible=!1)}},{key:"destroy",value:function(){this._currentTutorialVO&&this._currentTutorialVO.destroy(),h(p(_.prototype),"destroy",this).call(this)}},{key:"appear",value:function(){var t=this;this._boss.playEnterAnim(),P3.utils.delayg(this._tweens,0,function(){t._boss.visible=!0})}},{key:"start",value:function(){this.setState(_.STATE_INTRO)}},{key:"end",value:function(){this._running=!1,this.signals.next.dispatch(this),i.a.gmi.sendStatsEvent("level","complete",{metadata:"LVL="+i.a.location.id+"-"+(i.a.difficulty.level+1)+"~LVR=Success~SCO="+this._correctCount})}},{key:"show",value:function(){h(p(_.prototype),"show",this).call(this),this._currentTutorialVO&&this._currentTutorialVO.play(),this.showSkipButton(),PIXI.utils.isMobile.any||this.showCalculatorButton()}},{key:"showSkipButton",value:function(){-1===[_.STATE_NONE,_.STATE_INTRO].indexOf(this._state)&&(this._skipButton.visible=!1)}},{key:"showCalculatorButton",value:function(){-1!==[_.STATE_NONE,_.STATE_INTRO,_.STATE_SELECT,_.STATE_SELECT_NEXT,_.STATE_SORT,_.STATE_SORT_NEXT].indexOf(this._state)&&(this._calculatorButton.visible=!1)}},{key:"hide",value:function(){h(p(_.prototype),"hide",this).call(this),this._currentTutorialVO&&this._currentTutorialVO.pause()}},{key:"update",value:function(){h(p(_.prototype),"update",this).call(this),this._incorrectAnswerTweens.update(),this._tutorialHandTweens.update();var t=window.dt;this.updateFSM(t),this._tutorialHand.visible&&this._tutorialHand.update(t)}},{key:"updateFSM",value:function(t){void 0!==this._nextState&&this._nextState!==this._state&&(this.exitState(this._state),this._state=this._nextState,this.enterState(this._state)),this.updateState(this._state)}},{key:"createBoss",value:function(t){return new r.a}},{key:"createUI",value:function(){h(p(_.prototype),"createUI",this).call(this),this._xpPanel.visible=!1}},{key:"setState",value:function(t){this._nextState=t}},{key:"enterState",value:function(t){var e=this;switch(t){default:case _.STATE_NONE:this._running=!1;break;case _.STATE_INTRO:this._running=!1;var n=0,r=["vo_queen_57","vo_queen_58","vo_queen_61b"];(function t(){var e=this;if(n<r.length){if(this._currentTutorialVO=P3.audio.playSound(r[n]),!this._currentTutorialVO)return void t.call(this);this._currentTutorialVO.signals.end.once(function(){return t.call(e)});var o=P3.assets.json("subtitles")[r[n]];switch(this.showMessage(o),n++){case 0:console.log("tutorial part 1"),P3.utils.delayg(this._tweens,1.54,function(){e._questionCounter.animateIn(!0)}),this._guardianAttackDelay=P3.utils.delayg(this._tweens,6.46,function(){e.player.playAttackAnim(),P3.audio.playSound(["sfx_guardian_arrow_attack_00","sfx_guardian_hammer_attack_00","sfx_guardian_magic_attack_00","sfx_guardian_spear_attack_00","sfx_guardian_spell_attack_00","sfx_guardian_sword_attack_00"])});break;case 1:console.log("tutorial part 2"),this._bossAttackDelay=P3.utils.delayg(this._tweens,3,function(){e._boss.playAttackAnim(),P3.audio.playSound(["sfx_guardian_arrow_attack_00","sfx_guardian_hammer_attack_00","sfx_guardian_magic_attack_00","sfx_guardian_spear_attack_00","sfx_guardian_spell_attack_00","sfx_guardian_sword_attack_00"])});break;case 2:console.log("tutorial part 3")}if(i.a.gmi.getAllSettings().subtitles){var a=P3.assets.json("subtitles");i.a.subtitles.show(a[this._currentTutorialVO.howl.name]?a[this._currentTutorialVO.howl.name]:this._currentTutorialVO.howl.name,this._currentTutorialVO.howl.duration())}}else this._currentTutorialVO=null,this.setState(_.STATE_SELECT)}).call(this);break;case _.STATE_SELECT:this._running=!0,this.initQuestion(0),this._questionInput.showTutorial(),this.clearMessage(),this._skipButton.visible=!1,PIXI.utils.isMobile.any?P3.audio.playVO("vo_queen_64",1,!0):P3.audio.playVO("vo_queen_62a",1,!0);break;case _.STATE_SELECT_NEXT:this.showTutorialHand();break;case _.STATE_SORT:this._running=!0,this.initQuestion(1),this._questionInput.showTutorial(),PIXI.utils.isMobile.any?P3.audio.playVO("vo_queen_69",1,!0):P3.audio.playVO("vo_queen_68",1,!0);break;case _.STATE_SORT_NEXT:this.showTutorialHand();break;case _.STATE_KEYPAD:if(this._running=!0,this.initQuestion(2),this._questionInput.showTutorial(),!PIXI.utils.isMobile.any){this._calculatorButton.scale=0;var o=new P3.utils.TWEEN.Tween(this._calculatorButton,this._tweens).to({scale:1.2},440).easing(P3.utils.Easing.Back2.Out).onStart(function(){e._calculatorButton.visible=!0}),a=new P3.utils.TWEEN.Tween(this._calculatorButton,this._tweens).to({scale:1},440).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).repeat(1/0).yoyo(!0);o.chain(a),o.start()}if(PIXI.utils.isMobile.any)P3.audio.playVO("vo_queen_70a",1,!0);else{var s=P3.audio.playVO("vo_queen_71a",1,!0);s&&s.signals.end.once(function(){P3.audio.playVO("vo_queen_72a",1,!0)})}break;case _.STATE_KEYPAD_NEXT:this.showTutorialHand();break;case _.STATE_OUTRO:this._running=!1,P3.utils.delayg(this._tweens,2,function(){return e.end()})}}},{key:"exitState",value:function(t){switch(t){default:case _.STATE_NONE:break;case _.STATE_SELECT_NEXT:this.setState(_.STATE_SORT);break;case _.STATE_SORT_NEXT:this.setState(_.STATE_KEYPAD)}}},{key:"updateState",value:function(t){switch(t){default:case _.STATE_NONE:break;case _.STATE_SELECT:this._questionView.isCorrect()&&(this._questionInput.lock(),this._questionInput.hideTutorial(),this.setState(_.STATE_SELECT_NEXT));break;case _.STATE_SORT:this._questionView.isCorrect()&&(this._questionInput.lock(),this._questionInput.hideTutorial(),this.setState(_.STATE_SORT_NEXT));break;case _.STATE_KEYPAD:this._questionView.isCorrect()&&(this._questionInput.lock(),this._questionInput.hideTutorial(),this.setState(_.STATE_KEYPAD_NEXT))}}},{key:"generateQuestions",value:function(){var t=P3.assets.json("questions"),e=t.tutorial[0];e.module="tutorial",this._questions[0]=(new o.a).create(e),(e=t.tutorial[1]).module="tutorial",this._questions[1]=(new a.a).create(e,!0),(e=t.tutorial[2]).module="tutorial",this._questions[2]=(new o.a).create(e)}},{key:"animateIncorrectAnswer",value:function(){var t=P3.assets.json("templates").templates;this._questionView.setHeaderText(P3.utils.selectRandom(P3.utils.objectToArray(t.tutorial.incorrect)).text),this._incorrectAnswerTweens.removeAll(),this._questionView.header.position.x=0;var e=new P3.utils.TWEEN.Tween(this._questionView.header,this._incorrectAnswerTweens).to({x:24},30).easing(P3.utils.TWEEN.Easing.Cubic.Out),n=new P3.utils.TWEEN.Tween(this._questionView.header,this._incorrectAnswerTweens).to({x:-24},60).easing(P3.utils.TWEEN.Easing.Cubic.InOut).repeat(5).yoyo(!0),r=new P3.utils.TWEEN.Tween(this._questionView.header,this._incorrectAnswerTweens).to({x:0},30).easing(P3.utils.TWEEN.Easing.Cubic.Out);e.chain(n),n.chain(r),e.start()}},{key:"showTutorialHand",value:function(){var t=this._tutorialHand.parent.toLocal(this._questionView.confirmButton.position,this._questionView.confirmButton.parent);this._tutorialHand.position.set(t.x,t.y),this.animateTutorialHand(200)}},{key:"hideTutorialHand",value:function(){this._tutorialHandTweens.removeAll(),this._tutorialHand.visible=!1}},{key:"animateTutorialHand",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._tutorialHandTweens.removeAll(),this._tutorialHand.alpha=0;var n=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).to({alpha:1},640).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).delay(e).onStart(function(){t._tutorialHand.visible=!0}),r=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).to({},1e3).delay(200).onStart(function(){t._tutorialHand.gotoAndPlay("tap")}),i=new P3.utils.TWEEN.Tween(this._tutorialHand,this._tutorialHandTweens).to({alpha:0},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){t._tutorialHand.visible=!1,t.animateTutorialHand(1e3)});n.chain(r),r.chain(i),n.start()}},{key:"showMessage",value:function(t){this.clearMessage(),this._message=new PIXI.mesh.NineSlicePlane(P3.assets.texture("question_box_9slice"),88,44,88,44),this._message.position.set(.5*i.a.STAGE_WIDTH,.5*this._message.height+20),this._message.width=740,this._message.pivot.set(.5*this._message.width,.5*this._message.height),this.addChild(this._message),this._message.label=new PIXI.extras.BitmapText(t,{font:{name:"BBC Reith Sans Math",size:24},align:"center",tint:0}),this._message.label.position.set(.5*this._message.width,.5*this._message.height),this._message.label.anchor.set(.5),this._message.label.maxWidth=this._message.width-100,this._message.addChild(this._message.label),this._message.alpha=0,new P3.utils.TWEEN.Tween(this._message,this._tweens).to({alpha:1},240).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).start()}},{key:"clearMessage",value:function(){this._message&&(this._message.parent.removeChild(this._message),this._message=null)}},{key:"onQuestionViewConfirm",value:function(t,e){var n=this;this._running&&(e?(++this._correctCount,P3.audio.playSound(["music_round_won"])):P3.audio.playSound(["music_round_lost"]),console.log("question:",this._questionIndex+1),e?(this._questionView.visible=!1,this._questionInput.visible=!1,this._questionCounter.setAnswer(e),this.hideTutorialHand(),P3.audio.playSound("sfx_scroll_disappear_00"),++this._correctCount,this._totalXp+=i.a.config.game.xp[i.a.difficulty.level]||i.a.config.game.xp[0],this._party[0].playAttackAnim(),this.animateCamera(!0,function(){return n.damageBoss()},function(){(function(){this._questionIndex++<this._questions.length-1?this.setState(_.STATE_NONE):this.setState(_.STATE_OUTRO),this._questionCounter.next(),this.playMusic()}).call(n),Math.random()<.5?n.playGuardianPositiveVO():n._boss.playDamageVO()}),console.log("potential xp",this._xp)):(this._questionView.confirmButton.enabled=!0,this.animateIncorrectAnswer()))}},{key:"onSkipButtonClick",value:function(t){this._currentTutorialVO&&(this._currentTutorialVO.stop(),this._currentTutorialVO=null),this._guardianAttackDelay&&(this._guardianAttackDelay.stop(),this._guardianAttackDelay=null),this._bossAttackDelay&&(this._bossAttackDelay.stop(),this._bossAttackDelay=null),this.setState(_.STATE_SELECT),i.a.gmi.sendStatsEvent("skip","click")}}])&&c(e.prototype,n),_}();_.STATE_NONE="none",_.STATE_INTRO="intro",_.STATE_SELECT="select",_.STATE_SELECT_NEXT="select_next",_.STATE_SORT="sort",_.STATE_SORT_NEXT="sort_next",_.STATE_KEYPAD="keypad",_.STATE_KEYPAD_NEXT="keypad_next",_.STATE_OUTRO="outro"},function(t,e,n){"use strict";n.d(e,"a",function(){return P});var r=n(9),i=n(58),o=n(77),a=n(59),s=n(78),u=n(60),l=n(79),c=n(61),h=n(80),f=n(62),d=n(0),p=n(128),_=n.n(p),m=n(5),y=n(12),v=n(17);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=E(t);if(e){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(g,v.a);var e,n,p=T(g);function g(){var t;return function(t,e){if(!(t instanceof g))throw new TypeError("Cannot call a class as a function")}(this),(t=p.call(this)).signals.deleteUser=new P3.utils.MiniSignal,t._userSlot1Button=null,t._userSlot2Button=null,t._userSlot3Button=null,t._userSlotMask=null,t._frame=0,t._slotOverDelay=null,t._slotTexture=null,t}return e=g,(n=[{key:"init",value:function(){w(E(g.prototype),"init",this).call(this);var t=new PIXI.Sprite(P3.assets.texture("ui_results_bg1"));t.width=d.a.STAGE_WIDTH,this.addChild(t),this.initTitle("Choose Game"),this.initBackButton(1),this.initMuteButton(2),this.initSettingsButton(3),this._userSlot1Button=this.createUserSlot(0),this._userSlot1Button.position.set(.5*d.a.STAGE_WIDTH-280,420),this._userSlot1Button.visible=!1,this.addChild(this._userSlot1Button),this._userSlot2Button=this.createUserSlot(1),this._userSlot2Button.position.set(.5*d.a.STAGE_WIDTH,420),this._userSlot2Button.visible=!1,this.addChild(this._userSlot2Button),this._userSlot3Button=this.createUserSlot(2),this._userSlot3Button.position.set(.5*d.a.STAGE_WIDTH+280,420),this._userSlot3Button.visible=!1,this.addChild(this._userSlot3Button),d.a.gmi.setStatsScreen&&d.a.gmi.setStatsScreen("saveslots")}},{key:"destroy",value:function(){this.onSlotMouseOut(),w(E(g.prototype),"destroy",this).call(this)}},{key:"appear",value:function(){w(E(g.prototype),"appear",this).call(this),P3.audio.playVO("vo_queen_04b",1,!0)}},{key:"animateIn",value:function(){var t=this;if(null!==this.parent){var e=this._userSlot1Button.y;this._userSlot1Button.y+=120,this._userSlot1Button.alpha=0,this._userSlot1Button.button.enabled=!0,this._userSlot1Button.dummyButton.enabled=!0,new P3.utils.TWEEN.Tween(this._userSlot1Button,this._tweens).to({y:e,alpha:1},440).easing(P3.utils.TWEEN.Easing.Cubic.Out).delay(200).onStart(function(){t._userSlot1Button.visible=!0}).start(),e=this._userSlot2Button.y,this._userSlot2Button.y+=120,this._userSlot2Button.alpha=0,this._userSlot2Button.button.enabled=!0,this._userSlot2Button.dummyButton.enabled=!0,new P3.utils.TWEEN.Tween(this._userSlot2Button,this._tweens).to({y:e,alpha:1},440).easing(P3.utils.TWEEN.Easing.Cubic.Out).delay(280).onStart(function(){t._userSlot2Button.visible=!0}).start(),e=this._userSlot3Button.y,this._userSlot3Button.y+=120,this._userSlot3Button.alpha=0,this._userSlot3Button.button.enabled=!0,this._userSlot3Button.dummyButton.enabled=!0,new P3.utils.TWEEN.Tween(this._userSlot3Button,this._tweens).to({y:e,alpha:1},440).easing(P3.utils.TWEEN.Easing.Cubic.Out).delay(340).onStart(function(){t._userSlot3Button.visible=!0}).start()}}},{key:"show",value:function(){w(E(g.prototype),"show",this).call(this),this._userSlot1Button.interactive=!0,this._userSlot2Button.interactive=!0,this._userSlot3Button.interactive=!0,this._userSlot1Button.button.enabled=!0,this._userSlot2Button.button.enabled=!0,this._userSlot3Button.button.enabled=!0,this._userSlot1Button.deleteButton.enabled=!0,this._userSlot2Button.deleteButton.enabled=!0,this._userSlot3Button.deleteButton.enabled=!0}},{key:"hide",value:function(){w(E(g.prototype),"hide",this).call(this),this._userSlot1Button.interactive=!1,this._userSlot2Button.interactive=!1,this._userSlot3Button.interactive=!1,this._userSlot1Button.button.enabled=!1,this._userSlot2Button.button.enabled=!1,this._userSlot3Button.button.enabled=!1,this._userSlot1Button.deleteButton.enabled=!1,this._userSlot2Button.deleteButton.enabled=!1,this._userSlot3Button.deleteButton.enabled=!1}},{key:"update",value:function(){w(E(g.prototype),"update",this).call(this);var t=window.dt,e=d.a.gmi.getAllSettings(),n=[this._userSlot1Button,this._userSlot2Button,this._userSlot3Button];if(this._frame++%3==0)for(var r=0;r<n.length;++r){var i=n[r];e.motion&&i.portrait&&i.portrait.update(3*t*.5)}}},{key:"deleteUser",value:function(t){d.a.save.resetUserData(t);var e=[this._userSlot1Button,this._userSlot2Button,this._userSlot3Button][t];e.fill.tint=14935255,e.label.visible=!0,e.deleteButton.interactive=!1,e.deleteButton.visible=!1,e.portrait.destroy(),e.portrait=null,e.progress.visible=!1}},{key:"createUserSlot",value:function(t){var e=this,n=new PIXI.Container,p=d.a.save.getUserData(t);if(n.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_card_bg_9slice"),60,60,60,60),n.image.width=240,n.image.height=310,n.image.pivot.x=.5*n.image.width,n.image.pivot.y=.5*n.image.height,n.addChild(n.image),this._slotTexture||(this._slotTexture=d.a.renderer.generateTexture(n.image)),d.a.renderer instanceof PIXI.WebGLRenderer?(n.fill=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_card_fill_9slice"),10,10,10,10),n.fill.width=240,n.fill.height=310,n.fill.pivot.set(.5*n.fill.width,.5*n.fill.height),n.fill.scale.set(.86),n.fill.tint=p.finishedTraining?10295348:14935255,n.addChild(n.fill)):(n.fill=new PIXI.Graphics,n.fill.beginFill(p.finishedTraining?10295348:14935255,1),n.fill.drawRect(-120,-155,240,310),n.fill.endFill(),n.fill.scale.set(.86),n.addChild(n.fill)),!this._userSlotMask){var v=new Float32Array(3);v[0]=1,v[1]=1,v[2]=1,n.fill.filters=[new PIXI.Filter(null,_.a,{pickColor:{type:"vec3",value:v}})],this._userSlotMask=d.a.renderer.generateTexture(n.fill),n.fill.filters=null}if(p.finishedTraining){var g=P3.utils.objectToArray(P3.assets.json("characters")).filter(function(t){return t.skin===p.class})[0],b=d.a.save.isWeeklyChallengeComplete(d.a.userId);switch(g.type){default:case r.a.TYPE_KNIGHT:n.portrait=new a.a(b);break;case r.a.TYPE_KNIGHT_FEMALE:n.portrait=new s.a(b);break;case r.a.TYPE_WARRIOR:n.portrait=new c.a(b);break;case r.a.TYPE_ELF:n.portrait=new i.a(b);break;case r.a.TYPE_ELF_FEMALE:n.portrait=new o.a(b);break;case r.a.TYPE_RANGER:n.portrait=new u.a(b);break;case r.a.TYPE_RANGER_FEMALE:n.portrait=new l.a(b);break;case r.a.TYPE_WIZARD:n.portrait=new f.a(b);break;case r.a.TYPE_WITCH:n.portrait=new h.a(b)}for(var w in n.portrait.position.set(-12,262),n.portrait.scale.set(.4),n.portrait.init(p.class),n.addChild(n.portrait),n.portrait.playIdleAnim(),n.portrait.update(0),p.equipment)if(p.equipment.hasOwnProperty(w)){var x=p.equipment[w];"pet"!==w&&n.portrait.setItem(w,x)}for(var T=10*t;--T>0;)n.portrait.update(Math.random());d.a.renderer instanceof PIXI.WebGLRenderer?(n.portrait.mask=new PIXI.Sprite(this._userSlotMask),n.portrait.mask.scale.set(n.fill.scale.x),n.portrait.mask.anchor.set(.5),n.addChild(n.portrait.mask)):(n.portrait.mask=new PIXI.Graphics,n.portrait.mask.beginFill(16711680),n.portrait.mask.drawRect(.5*-n.fill.width,.5*-n.fill.height,n.fill.width,n.fill.height),n.portrait.mask.endFill(),n.addChild(n.portrait.mask))}return n.label=new PIXI.extras.BitmapText("Create\nNew Game",{font:"36px BBC Reith Sans",align:"center"}),n.label.position.set(0,-12),n.label.anchor.set(.5),n.label.tint=2831962,n.label.maxWidth=200,n.label.visible=!p.finishedTraining,n.addChild(n.label),n.dummyButton=y.a.create(this._slotTexture),n.dummyButton.id=t,n.dummyButton.alpha=0,n.dummyButton.tabIndex=m.a.TAB_INDEX_LEVEL_2+t,n.dummyButton.animate=!1,n.dummyButton.enabled=!1,n.dummyButton.signals.click.add(function(t){return e.onUserSlotButtonClick(t)}),n.dummyButton.signals.over.add(function(t){return e.onSlotMouseOver(t)}),n.dummyButton.signals.out.add(function(t){return e.onSlotMouseOut(t)}),n.addChild(n.dummyButton),n.button=y.a.create(P3.assets.texture("btn_large_normal"),P3.assets.texture("btn_large_over"),P3.assets.texture("btn_large_down"),P3.assets.texture("btn_icon_play_large_nongel")),n.button.id=t,n.button.position.set(0,150),n.button.tabIndex=m.a.TAB_INDEX_NONE,n.button.enabled=!1,n.button.overSoundName="sfx_btn_rollover_00",n.button.clickSoundName="sfx_btn_press_00",n.button.voSoundName="vo_queen_103a",n.button.signals.click.add(function(t){return e.onUserSlotButtonClick(t)}),n.addChild(n.button),n.deleteButton=y.a.create(P3.assets.texture("btn_large_normal"),P3.assets.texture("btn_large_over"),P3.assets.texture("btn_large_down"),P3.assets.texture("ui_btn_large_icon_trash")),n.deleteButton.id=t,n.deleteButton.position.set(90,-132),n.deleteButton.overSoundName="sfx_btn_rollover_00",n.deleteButton.clickSoundName="sfx_btn_press_00",n.deleteButton.signals.click.add(function(t){return e.onUserDeleteButtonClick(t)}),n.deleteButton.visible=p.finishedTraining,n.addChild(n.deleteButton),n.progress=this.createProgressBar(t),n.progress.position.set(0,240),n.progress.visible=p.finishedTraining,n.addChild(n.progress),n}},{key:"createProgressBar",value:function(t){var e=d.a.save.getUserData(t),n=P3.utils.objectToArray(d.a.config.game.level_progression),r=n[Math.min(n.length-1,e.level)],i=e.xp/r,o=new PIXI.Sprite(P3.assets.texture("progress/ui_xp_bg_small"));o.anchor.set(.5),o.fill=new PIXI.Sprite(P3.assets.texture("progress/ui_xp_fill_small")),o.fill.anchor.set(.5),o.addChild(o.fill);var a=o.fill.texture.width,s=o.fill.texture.height;o.fill.mask=new PIXI.Graphics,o.fill.mask.position.set(.5*-a,0),o.fill.mask.scale.x=i,o.fill.mask.beginFill(16711680,1),o.fill.mask.drawRect(0,.5*-s,a,s),o.fill.mask.endFill(),o.fill.addChild(o.fill.mask),o.plaque=new PIXI.Sprite(P3.assets.texture("progress/ui_xp_count_bg_small")),o.plaque.position.set(.5*-o.texture.width-40,0),o.plaque.anchor.set(.5),o.addChild(o.plaque),o.icon=new PIXI.Sprite(P3.assets.texture("progress/ui_xp_loot_small")),o.icon.position.set(.5*o.texture.width+36,0),o.icon.anchor.set(.5),o.addChild(o.icon);var u=Math.round(e.totalXp),l=30;return u>d.a.config.game.xp_cap&&(u=Math.round(d.a.config.game.xp_cap)+"+",l=26),o.xpLabel=new PIXI.extras.BitmapText(u+"",{font:l+"px BBC Reith Sans",align:"center"}),o.xpLabel.position.set(0,14),o.xpLabel.anchor.set(.5),o.xpLabel.tint=3736327,o.plaque.addChild(o.xpLabel),o}},{key:"onUserSlotButtonClick",value:function(t){this._userSlot1Button.interactive=!1,this._userSlot2Button.interactive=!1,this._userSlot3Button.interactive=!1,this._userSlot1Button.button.enabled=!1,this._userSlot2Button.button.enabled=!1,this._userSlot3Button.button.enabled=!1,this._userSlot1Button.deleteButton.enabled=!1,this._userSlot2Button.deleteButton.enabled=!1,this._userSlot3Button.deleteButton.enabled=!1,d.a.userId=t.id,d.a.gmi.sendStatsEvent("saveslot","click"),this.signals.next.dispatch(this)}},{key:"onUserDeleteButtonClick",value:function(t){this.signals.deleteUser.dispatch(this,t.id)}},{key:"onSlotMouseOver",value:function(t){this._slotOverDelay=P3.utils.delayg(this._tweens,3,function(){P3.audio.playVO("vo_queen_112a")})}},{key:"onSlotMouseOut",value:function(t){this._slotOverDelay&&(this._slotOverDelay.stop(),this._slotOverDelay=null)}}])&&b(e.prototype,n),g}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(0),i=n(17);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,i.a);var e,n,o=l(h);function h(){return function(t,e){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),o.call(this)}return e=h,(n=[{key:"init",value:function(){var t=this;s(c(h.prototype),"init",this).call(this),r.a.gmi.showSettings(function(t,e){switch(console.log("settings changed:",t,e),t){case"audio":P3.audio.mute(!e);break;case"subtitles":r.a.subtitles.visible=e;break;case"button_audio":P3.audio.mute(!e,"button")}},function(){t.signals.next.dispatch(t)})}}])&&a(e.prototype,n),h}()},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return i});var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._timeout=null,this._htmlElement=$("<div id='subtitles' tabIndex='-1'></div>"),this._htmlElement.css({"font-family":"BBC Reith Sans",position:"fixed",bottom:"4%",left:"10%",width:"80%","text-align":"center","font-size":PIXI.utils.isMobile.any?"1.5em":"2.0em",color:"#FFFFFF","background-color":"rgba(0, 0, 0, 0.8)","z-index":20,"pointer-events":"none"}),$("#"+P3.View.holder.id).append(this._htmlElement)}var e,n;return e=t,(n=[{key:"show",value:function(t,e){var n=this;e=e||2,this._htmlElement.html(t),this._timeout&&this._timeout.stop(),this._timeout=P3.utils.delay(e,function(){n.clear()})}},{key:"clear",value:function(){this._htmlElement.html("")}},{key:"visible",get:function(){return this._htmlElement.is(":visible")},set:function(t){t?this._htmlElement.show():this._htmlElement.hide()}}])&&r(e.prototype,n),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?l(t):e}(this,n)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,PIXI.Container);var e,n,i=u(h);function h(){var t;return function(t,e){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this)).interactive=!1,t.interactiveChildren=!1,t.hitArea=new PIXI.Rectangle,t._unlockStack=[],t._width=720,t._panel=new PIXI.Container,t._panel.x=.5*P3.View.width,t._panel.y=P3.View.height-96,t._panel.visible=!1,t.addChild(t._panel),t._panel.image=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_achievements_title"),50,0,50,0),t._panel.image.width=t._width,t._panel.image.pivot.x=.5*t._panel.image.width,t._panel.addChild(t._panel.image),t._panel.icon=new PIXI.Sprite(PIXI.Texture.EMPTY),t._panel.icon.position.set(.5*-t._width+70,56),t._panel.icon.anchor.set(.5),t._panel.icon.scale.set(.9),t._panel.addChild(t._panel.icon),t._panel.medal=new PIXI.Sprite(P3.assets.texture("ui_icon_medal")),t._panel.medal.position.set(0,t._panel.icon.y),t._panel.medal.anchor.set(.5),t._panel.addChild(t._panel.medal),t._panel.tick=new PIXI.Sprite(P3.assets.texture("ui_achievement_tick_on")),t._panel.tick.position.set(.5*t._width-70,56),t._panel.tick.anchor.set(.5),t._panel.addChild(t._panel.tick),t._panel.nameText=new PIXI.extras.BitmapText("",{font:{name:"BBC Reith Sans",size:22},tint:16777215,align:"center"}),t._panel.nameText.position.set(0,56),t._panel.nameText.anchor.set(.5),t._panel.addChild(t._panel.nameText),t._initPositionY=t._panel.y,r.a.achievements&&r.a.achievements.signals.unlocked.add(t.onAchievementUnlocked,l(t)),r.a.view&&r.a.view.signals.resize.add(t.onViewResize,l(t)),t.resize(),t}return e=h,(n=[{key:"destroy",value:function(){r.a.achievements&&r.a.achievements.signals.unlocked.detach(this.onAchievementUnlocked,this),r.a.view&&r.a.view.signals.resize.detach(this.onViewResize,this),a(c(h.prototype),"destroy",this).call(this,{children:!0})}},{key:"resize",value:function(){this._panel.x=.5*P3.View.width}},{key:"animate",value:function(){var t=this;this._panel.y=P3.View.height+this._panel.image.height,this._panel.image.width=.34*this._width,this._panel.image.pivot.x=.5*this._panel.image.width,this._panel.icon.visible=!1,this._panel.medal.visible=!0,this._panel.tick.visible=!1,this._panel.nameText.visible=!1;var e=new P3.utils.TWEEN.Tween(this._panel).to({y:this._initPositionY},340).delay(1e3).easing(P3.utils.TWEEN.Easing.Quadratic.Out).onStart(function(){t._panel.visible=!0,t._panel.medal.scale.set(0),new P3.utils.TWEEN.Tween(t._panel.medal.scale).to({x:1,y:1},200).easing(P3.utils.TWEEN.Easing.Back.Out).delay(300).start()}),n=new P3.utils.TWEEN.Tween(this._panel.image).to({width:this._width},640).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onUpdate(function(){t._panel.image.pivot.x=.5*t._panel.image.width}).onComplete(function(){new P3.utils.TWEEN.Tween(t._panel.medal).to({alpha:0},100).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onComplete(function(){t._panel.medal.alpha=1,t._panel.medal.visible=!1}).start(),t._panel.icon.alpha=0,new P3.utils.TWEEN.Tween(t._panel.icon).to({alpha:1},160).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onStart(function(){t._panel.icon.visible=!0}).start(),t._panel.tick.alpha=0,new P3.utils.TWEEN.Tween(t._panel.tick).to({alpha:1},160).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onStart(function(){t._panel.tick.visible=!0}).start(),t._panel.nameText.alpha=0,new P3.utils.TWEEN.Tween(t._panel.nameText).to({alpha:1},160).easing(P3.utils.TWEEN.Easing.Quadratic.InOut).onStart(function(){t._panel.nameText.visible=!0}).start()}),r=new P3.utils.TWEEN.Tween(this._panel).to({y:P3.View.height+this._panel.image.height},300).delay(2e3).easing(P3.utils.TWEEN.Easing.Quadratic.In).onComplete(function(){t.onAnimationFinished()});e.chain(n),n.chain(r),e.start()}},{key:"setAchievement",value:function(t){t?(this._panel.nameText.text=t.name,this._panel.icon.texture=t.icon):(this._panel.nameText.text="",this._panel.icon.texture=PIXI.Texture.EMPTY)}},{key:"onAnimationFinished",value:function(){if(this._unlockStack.length>0&&this._unlockStack.shift(),this._unlockStack.length>0){var t=this._unlockStack[0];this.setAchievement(t),this.animate()}}},{key:"onAchievementUnlocked",value:function(t){this._unlockStack.push(t),this._unlockStack.length<=1&&(this.setAchievement(t),this.animate())}},{key:"onViewResize",value:function(t){this.resize()}},{key:"currentAchievement",get:function(){return this._unlockStack.length>0?this._unlockStack[0]:null}}])&&o(e.prototype,n),h}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(17),i=n(0),o=n(12),a=n(5);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,r.a);var e,n,s=h(d);function d(){var t;return function(t,e){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this))._achievements=[],t._entries=[],t._panel=null,t._pageIndex=0,t._pageCount=0,t._activeAchievementCount=0,t._achievementsPerPage=6,t}return e=d,(n=[{key:"init",value:function(){l(f(d.prototype),"init",this).call(this),this._achievements=P3.utils.objectToArray(i.a.achievements.achievements),this._achievements.sort(function(t,e){return t.id-e.id});var t=new PIXI.Sprite(P3.assets.texture("ui_results_bg1"));t.width=i.a.STAGE_WIDTH,this.addChild(t),this._panel=new PIXI.Container,this._panel.position.set(.5*i.a.STAGE_WIDTH,.5*P3.View.height+40),this._panel.pivot=new PIXI.Point(300,300),this.addChild(this._panel),this._panel.fill=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_library_9slice"),40,40,40,40),this._panel.fill.width=600,this._panel.fill.height=600,this._panel.addChild(this._panel.fill),this._panel.title=new PIXI.Sprite(P3.assets.texture("ui_achievements_title")),this._panel.title.position.set(300,-80),this._panel.title.anchor.set(.5,0),this._panel.addChildAt(this._panel.title,0),this._panel.entries=new PIXI.Container,this._panel.addChild(this._panel.entries),this._panel.title.text=new PIXI.extras.BitmapText("Achievements",{font:{name:"BBC Reith Sans",size:30},tint:16777215,align:"center"}),this._panel.title.text.position.set(0,.5*this._panel.title.height-9),this._panel.title.text.anchor.set(.5),this._panel.title.addChild(this._panel.title.text),this.initPagePanel(),this.initAchievements(),this._pageCount=Math.ceil(this._activeAchievementCount/this._achievementsPerPage),this.initPageBlips(this._pageCount),this.setPage(0),this.initBackButton(a.a.TAB_INDEX_LEVEL_0),i.a.gmi.setStatsScreen&&i.a.gmi.setStatsScreen("achievements")}},{key:"destroy",value:function(){l(f(d.prototype),"destroy",this).call(this)}},{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"appear",value:function(){P3.audio.playVO("vo_queen_extra_02a",1,!0)}},{key:"animateIn",value:function(t,e){}},{key:"update",value:function(){}},{key:"initPagePanel",value:function(){this._panel.pages=new PIXI.Container,this._panel.pages.position.set(this._panel.fill.width-4,.5*this._panel.fill.height),this._panel.addChild(this._panel.pages),this._panel.pages.image=new PIXI.Sprite(P3.assets.texture("ui_pagination_bg")),this._panel.pages.image.height=300,this._panel.pages.addChild(this._panel.pages.image),this._panel.pages.blips=new PIXI.Container,this._panel.pages.blips.position.set(32,.5*this._panel.pages.image.height),this._panel.pages.addChild(this._panel.pages.blips),this._panel.pages.nextButton=o.a.create(P3.assets.texture("ui_btn_page_down_normal"),P3.assets.texture("ui_btn_page_down_over"),P3.assets.texture("ui_btn_page_down_down")),this._panel.pages.nextButton.position.set(32,this._panel.pages.image.height),this._panel.pages.nextButton.animate=!1,this._panel.pages.nextButton.animateIcon=!1,this._panel.pages.nextButton.tabIndex=a.a.TAB_INDEX_LEVEL_2-1,this._panel.pages.nextButton.signals.click.add(this.onPageNextButtonClick,this),this._panel.pages.addChild(this._panel.pages.nextButton),this._panel.pages.previousButton=o.a.create(P3.assets.texture("ui_btn_page_up_normal"),P3.assets.texture("ui_btn_page_up_over"),P3.assets.texture("ui_btn_page_up_down")),this._panel.pages.previousButton.position.set(32,0),this._panel.pages.previousButton.animate=!1,this._panel.pages.previousButton.animateIcon=!1,this._panel.pages.previousButton.tabIndex=a.a.TAB_INDEX_LEVEL_2-2,this._panel.pages.previousButton.signals.click.add(this.onPagePreviousButtonClick,this),this._panel.pages.addChild(this._panel.pages.previousButton),this._panel.pages.pivot.set(0,.5*this._panel.pages.image.height)}},{key:"initPageBlips",value:function(t){this._panel.pages.blips.removeChildren();for(var e=220/t,n=0;n<t;++n){var r=new PIXI.Sprite(P3.assets.texture("ui_pagination_off"));r.position.set(0,n*e-(t-1)*e*.5),r.anchor.set(.5),this._panel.pages.blips.addChild(r)}}},{key:"initAchievements",value:function(){for(var t=0;t<this._achievements.length;++t){var e=this._pageIndex*this._achievementsPerPage+t,n=this._achievements[e];if(i.a.achievements.isActive(n.id)){++this._activeAchievementCount;var r=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_library_slot_equip"),20,20,20,20);r.width=520,r.height=86,r.pivot.set(.5*r.width,0),this._entries.push(r),r.icon=new PIXI.Sprite(n.icon),r.icon.y=.5*(r.height-r.icon.height)-1,r.icon.x=r.icon.y+8,r.addChild(r.icon),r.text=new PIXI.extras.BitmapText(n.name,{font:{name:"BBC Reith Sans",size:24},tint:16777215,align:"left"}),r.text.position.set(96,32),r.text.anchor.y=.5,r.addChild(r.text),r.text.textWidth>340&&(r.text.font.size=18,r.text.updateText());var o=i.a.achievements.isUnlocked(n.id),a=o?P3.assets.texture("ui_achievement_tick_on"):P3.assets.texture("ui_achievement_tick_off");r.tick=new PIXI.Sprite(a),r.tick.position.set(r.width-46,.5*r.height),r.tick.anchor.set(.5),r.addChild(r.tick),r.progress=new PIXI.Container,r.progress.position.set(r.text.x,60),r.addChild(r.progress),r.progress.bar=new PIXI.mesh.NineSlicePlane(P3.assets.texture("ui_achievement_progress_bg_9slice"),8,8,8,8),r.progress.bar.width=320,r.progress.addChild(r.progress.bar),a=o?P3.assets.texture("ui_achievement_progress_fill_complete_9slice"):P3.assets.texture("ui_achievement_progress_fill_9slice"),r.progress.fill=new PIXI.mesh.NineSlicePlane(a,8,8,8,8),r.progress.fill.width=320,r.progress.addChild(r.progress.fill);var s=i.a.achievements.getProgress(n.id);r.progress.fill.mask=new PIXI.Sprite(PIXI.Texture.WHITE),r.progress.fill.mask.width=r.progress.fill.width*s,r.progress.fill.mask.height=r.progress.fill.height,r.progress.addChild(r.progress.fill.mask)}}}},{key:"setPage",value:function(t){this._panel.entries.removeChildren();for(var e=this._pageIndex*this._achievementsPerPage,n=Math.min(e+this._achievementsPerPage,this._entries.length),r=e,i=0;r<n;++r,++i){var o=this._entries[r];o.position.set(.5*this._panel.fill.width,36+(o.height+0)*i),this._panel.entries.addChild(o)}for(var a=0;a<this._panel.pages.blips.children.length;++a)this._panel.pages.blips.children[a].texture=a===t?P3.assets.texture("ui_pagination_on"):P3.assets.texture("ui_pagination_off")}},{key:"onPageNextButtonClick",value:function(t){++this._pageIndex>this._pageCount-1&&(this._pageIndex=this._pageCount-1),this.setPage(this._pageIndex)}},{key:"onPagePreviousButtonClick",value:function(t){--this._pageIndex<0&&(this._pageIndex=0),this.setPage(this._pageIndex)}}])&&u(e.prototype,n),d}()},function(t,e,n){"use strict";var r=n(0),i=n(17),o=n(26),a=n(203),s=n(166),u=n(169),l=n(199),c=n(83),h=n(82),f=n(201),d=n(185),p=n(165),_=n(192),m=n(11),y=n(63),v=n(171),g=n(99),b=n(97),w=n(7),x=n(40),T=n(113),E=n(183),P=n(182),S=n(98),M=n(181),O=n(14),I=n(173),k=n(187),L=n(191),A=n(180),D=n(68),R=n(174),C=n(179),j=n(114),Y=n(190),N=n(196),B=n(186),F=n(189),H=n(188),V=n(177),q=n(175),W=n(176),U=n(112),X=n(204),G=n(198),z=n(168),Q=n(170);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(i,y.a);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=$(t);if(e){var i=$(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(i);function i(t,e){var n;return function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(n=r.call(this,t,e))._view.hideInputField(),n}return e=i,(n=[{key:"selectOption",value:function(t){this._selected.length<2&&(t.alpha=.5,this._selected.push(t.value),this._view.setAnswer(this._selected))}}])&&K(e.prototype,n),i}(),et=n(195),nt=n(8),rt=n(81),it=n(126),ot=n(161),at=n(164),st=n(159),ut=n(205),lt=n(111),ct=n(157),ht=n(162),ft=n(158),dt=n(206),pt=n(13),_t=n(160),mt=n(163),yt=n(1),vt=n(172),gt=n(197),bt=n(194),wt=n(184),xt=n(178),Tt=n(167),Et=n(193),Pt=n(207),St=n(200);function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t,e,n){return(It="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return At});var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(K,i.a);var e,n,J=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==Mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(K);function K(){return function(t,e){if(!(t instanceof K))throw new TypeError("Cannot call a class as a function")}(this),J.call(this)}return e=K,(n=[{key:"init",value:function(){var t=this;It(Lt(K.prototype),"init",this).call(this),this.reset(),r.a.gui.signals.submit.add(function(){return t.reset()})}},{key:"reset",value:function(){this._questionView&&(this.removeChild(this._questionView),this._questionView=null,this.removeChild(this._questionInput),this._questionInput=null);var t=r.a.gui.module||"measurement",e=r.a.gui.question||"area_triangle",n=r.a.gui.difficulty||2,i=[],o=P3.assets.json("questions"),a=P3.assets.json("static_questions");for(var s in o.static=a.static,o)if(o.hasOwnProperty(s)&&s===t){for(var u=P3.utils.objectToArray(o[s].filter(function(t){return t.enabled&&t.difficulty===Number(n)&&t.type===e})),l=0;l<u.length;++l)u[l].module=s;i=i.concat(u)}var c=P3.utils.selectRandom(i),h=this.model(c);this.view(h),this.input(h),console.log(h)}},{key:"model",value:function(t){switch(t.module){case"static":return(new Pt.a).create(t);case nt.a.MODULE_ARITHMETIC:return(new rt.a).create(t);case nt.a.MODULE_ALGEBRA:return(new it.a).create(t);case nt.a.MODULE_PLACE_VALUE:return(new ot.a).create(t);case nt.a.MODULE_VISUAL:return(new at.a).create(t);case nt.a.MODULE_FRACTION_ARITHMETIC:return(new st.a).create(t);case nt.a.MODULE_ROMAN_ARITHMETIC:return(new ut.a).create(t);case nt.a.MODULE_SORTING:return(new lt.a).create(t);case nt.a.MODULE_BOOLEAN:return(new ct.a).create(t);case nt.a.MODULE_SHAPES:return(new X.a).create(t);case nt.a.MODULE_SEQUENCE:return(new ht.a).create(t);case nt.a.MODULE_EXPONENT:return(new ft.a).create(t);case nt.a.MODULE_MEASUREMENT:return(new a.a).create(t);case nt.a.MODULE_RATIO:return(new dt.a).create(t);case nt.a.MODULE_STATS:return(new pt.a).create(t);case nt.a.MODULE_MULTIPLES:return(new _t.a).create(t);case nt.a.MODULE_SUM:return(new mt.a).create(t)}return new yt.a(t.type,t.view,t.input)}},{key:"view",value:function(t){var e=this;switch(t.view){default:console.warn("unknown question view : "+t.view);break;case w.a.STATIC_VERBAL:this._questionView=new Et.a(t);break;case w.a.VIEW_STATEMENT:this._questionView=new x.a(t);break;case w.a.VIEW_STATEMENT_MULTI:this._questionView=new T.a(t);break;case w.a.VIEW_STATEMENT_LONG:this._questionView=new E.a(t);break;case w.a.VIEW_STATEMENT_FRACTION:this._questionView=new P.a(t);break;case w.a.VIEW_STATEMENT_ALGEBRA:this._questionView=new S.a(t);break;case w.a.VIEW_STATEMENT_ALGEBRA_PAIR:this._questionView=new M.a(t);break;case w.a.VIEW_VERBAL:this._questionView=new O.a(t);break;case w.a.VIEW_VERBAL_VOLUME:this._questionView=new gt.a(t);break;case w.a.VIEW_VERBAL_BOOLEAN:this._questionView=new I.a(t);break;case w.a.VIEW_VERBAL_EXPONENT:this._questionView=new k.a(t);break;case w.a.VIEW_VERBAL_ROUND:this._questionView=new L.a(t);break;case w.a.VIEW_VERBAL_STATS:this._questionView=new bt.a(t);break;case w.a.VIEW_SORT:this._questionView=new A.a(t);break;case w.a.VIEW_VISUAL:this._questionView=new D.a(t);break;case w.a.VIEW_VISUAL_TIME:this._questionView=new f.a(t);break;case w.a.VIEW_VISUAL_CLOCK_FACE:this._questionView=new d.a(t);break;case w.a.VIEW_VISUAL_LIQUID:this._questionView=new l.a(t);break;case w.a.VIEW_VISUAL_ROTATED_SHAPE:this._questionView=new xt.a(t);break;case w.a.VIEW_COMPARISON:this._questionView=new R.a(t);break;case w.a.VIEW_SEQUENCE:this._questionView=new C.a(t);break;case w.a.VIEW_VERBAL_SHAPE:this._questionView=new _.a(t);break;case w.a.VIEW_VERBAL_EQUIVALENT:this._questionView=new j.a(t);break;case w.a.VIEW_VERBAL_RATIO:this._questionView=new Y.a(t);break;case w.a.VIEW_VERBAL_VALUE:this._questionView=new N.a(t);break;case w.a.VIEW_VERBAL_COMPOSE:this._questionView=new B.a(t);break;case w.a.VIEW_VERBAL_MULTIPLES:this._questionView=new F.a(t);break;case w.a.VIEW_VERBAL_TIME:this._questionView=new h.a(t);break;case w.a.VIEW_VERBAL_CONVERSION:this._questionView=new c.a(t);break;case w.a.VIEW_VERBAL_REST:this._questionView=new H.a(t);break;case w.a.VIEW_VERBAL_SUM:this._questionView=new et.a(t);break;case w.a.VIEW_VERBAL_ANGLE:this._questionView=new wt.a(t);break;case w.a.VIEW_GRAPH_VEN:this._questionView=new V.a(t);break;case w.a.VIEW_GRAPH_BAR:this._questionView=new q.a(t);break;case w.a.VIEW_GRAPH_TALLY:this._questionView=new W.a(t);break;case w.a.VIEW_VISUAL_EQUIVALENT:this._questionView=new G.a(t);break;case w.a.VIEW_VISUAL_SHAPE:this._questionView=new St.a(t)}this._questionView.position.set(.5*r.a.STAGE_WIDTH,0),this._questionView.signals.confirm.add(function(){console.error("IS CORRECT : "+e._questionView.isCorrect()),e.reset()},this),this.addChild(this._questionView),this._questionView.header.y=.5*this._questionView.header.height+20,this._questionView.footer.y=P3.View.height-.5*this._questionView.footer.height-60}},{key:"input",value:function(t){switch(Array.isArray(t.input)&&(t._input=P3.utils.selectRandom(t.input)),t.input){default:case m.a.INPUT_SELECT:this._questionInput=new o.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-.5*this._questionView.footer.height-40);break;case m.a.INPUT_SELECT_SUM:this._questionInput=new u.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-.5*this._questionView.footer.height-40);break;case m.a.INPUT_SELECT_TIME:this._questionInput=new Q.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-.5*this._questionView.footer.height-40);break;case m.a.INPUT_SELECT_MULTI:this._questionInput=new y.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case m.a.INPUT_SELECT_MULTI_SUM:this._questionInput=new s.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case m.a.INPUT_SELECT_MULTI_VISUAL:this._questionInput=new Tt.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case m.a.INPUT_SELECT_MULTI_EQUIVALENT:this._questionInput=new U.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-100);break;case m.a.INPUT_SELECT_MULTI_GRAPH:this._questionInput=new tt(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-100);break;case m.a.INPUT_SELECT_VISUAL:this._questionInput=new v.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case m.a.INPUT_SELECT_CLOCK_FACE:this._questionInput=new p.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case m.a.INPUT_KEYPAD:this._questionInput=new g.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-.5*this._questionView.footer.height-20);break;case m.a.INPUT_KEYPAD_RIGHT:this._questionInput=new g.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH+250,this._questionView.y+this._questionView.footer.y-.5*this._questionView.footer.height-20);break;case m.a.INPUT_SORT:this._questionInput=new b.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case m.a.INPUT_SORT_CONVERSION:this._questionInput=new vt.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y);break;case m.a.INPUT_SELECT_MULTI_VISUAL_EQUIVALENT:this._questionInput=new z.a(t,this._questionView),this._questionInput.position.set(.5*r.a.STAGE_WIDTH,this._questionView.y+this._questionView.footer.y-100)}this._questionInput.init(),this.addChild(this._questionInput)}},{key:"resize",value:function(){It(Lt(K.prototype),"resize",this).call(this),this.hitArea=new PIXI.Rectangle(.5*(r.a.STAGE_WIDTH-P3.View.width),0,P3.View.width,P3.View.height)}},{key:"update",value:function(){var t=window.dt;this._questionInput.update(t)}}])&&Ot(e.prototype,n),K}()},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,PIXI.Container);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this))._view=new PIXI.Sprite(t),e._view.anchor.set(.5,1),e.addChild(e._view),e}return e=s,(n=[{key:"update",value:function(t){}},{key:"view",get:function(){return this._view}}])&&i(e.prototype,n),s}();u.CLASS_KNIGHT_1="knight1",u.CLASS_KNIGHT_2="knight2",u.CLASS_KNIGHT_3="knight3",u.CLASS_KNIGHT_4="knight4";var l=n(0);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(3),n.d(e,"a",function(){return h});var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=null,this.loadGame()}var e,n;return e=t,(n=[{key:"newGame",value:function(){this._data={},this._data.users=[this.createUser(0),this.createUser(1),this.createUser(2)],this.saveGame()}},{key:"saveGame",value:function(){var t=l.a.config.save.name+l.a.config.save.version;l.a.config.game.debug_legacy_save?window.localStorage.setItem(t,JSON.stringify(this._data)):l.a.gmi.setGameData(t,this._data)}},{key:"loadGame",value:function(){var t=l.a.config.save.name+l.a.config.save.version,e=l.a.gmi.getAllSettings();return l.a.config.game.debug_legacy_save?this._data=window.localStorage.getItem(t):this._data=e.gameData?e.gameData[t]:null,this.convertSave(),!(!this._data||!this._data.users)||(this.newGame(),!1)}},{key:"unlockRandomItem",value:function(){var t=this.getUserData(l.a.userId),e=P3.utils.objectToArray(P3.assets.json("equipment")).filter(function(e){return e.enabled&&e.locked&&(t.unlock[e.slot]&&-1===t.unlock[e.slot].indexOf(e.type)||!t.unlock[e.slot])}),n=e.filter(function(t){return t.priority});if(n.length>0&&(e=n),e.length>0){var r=P3.utils.selectRandom(e);return t.unlock[r.slot]?t.unlock[r.slot].push(r.type):t.unlock[r.slot]=[r.type],this.saveGame(),console.log("unlocked new item:",r.slot,r.type),l.a.gmi.sendStatsEvent("item","unlock",{metadata:"IID="+r.slot+r.type}),r}return console.log("no items to unlock"),null}},{key:"createUser",value:function(t){return{id:t,class:u.CLASS_KNIGHT_1,xp:0,totalXp:0,level:0,location:0,difficulty:{},loot:!1,equipment:{},unlock:{},finishedTraining:!1,showKeypad:PIXI.utils.isMobile.any,battlecardsLearned:!1,achievements:{},victory:0,bosses:{},timestamp:0,streak:{},week:"",orbs:0}}},{key:"convertSave",value:function(){var t=0;if(this._data&&this._data.users)for(var e in this._data.users)if(this._data.users.hasOwnProperty(e)){var n=this._data.users[e];n.achievements||(n.achievements={},n.victory=0,n.bosses={},n.timestamp=0,n.streak={},n.week="",n.orbs=0,++t)}t>0&&(this.saveGame(),console.warn("Save converted to support achievements!"))}},{key:"resetUserData",value:function(t){this._data.users[t]=this.createUser(t),this.saveGame(),console.log("user",t,"reset")}},{key:"getUserData",value:function(t){return this._data.users[t]}},{key:"getUserDifficultyLevel",value:function(t,e){return-1===l.a.config.game.debug_level?this.getUserData(t).difficulty[e]||0:P3.math.clamp(l.a.config.game.debug_level,1,4)}},{key:"setUserDifficultyLevel",value:function(t,e,n){this.getUserData(t).difficulty[e]=n,this.saveGame()}},{key:"getUserPetId",value:function(t){var e=this.getUserData(t);return e.equipment.pet?e.equipment.pet:-1}},{key:"completeWeeklyChallenge",value:function(t){var e=this.getUserData(t),n=l.a.week+"_"+l.a.year;return e.week!==n&&(e.week=n,++e.orbs,this.saveGame(),!0)}},{key:"isWeeklyChallengeComplete",value:function(t){var e=this.getUserData(t),n=l.a.week+"_"+l.a.year;return e.week===n}}])&&c(e.prototype,n),t}()},function(t,e,n){n(488),t.exports=n(674)},function(t,e,n){"use strict";n(489);var r,i=(r=n(661))&&r.__esModule?r:{default:r};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},function(t,e,n){"use strict";n(490),n(633),n(635),n(638),n(640),n(642),n(644),n(646),n(648),n(650),n(652),n(654),n(656),n(660)},function(t,e,n){n(491),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(572),n(573),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(228),n(596),n(274),n(597),n(275),n(598),n(599),n(600),n(601),n(276),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),t.exports=n(29)},function(t,e,n){"use strict";var r=n(19),i=n(44),o=n(30),a=n(6),s=n(42),u=n(74).KEY,l=n(20),c=n(131),h=n(101),f=n(86),d=n(24),p=n(209),_=n(255),m=n(493),y=n(134),v=n(21),g=n(22),b=n(39),w=n(46),x=n(73),T=n(85),E=n(90),P=n(258),S=n(54),M=n(133),O=n(31),I=n(88),k=S.f,L=O.f,A=P.f,D=r.Symbol,R=r.JSON,C=R&&R.stringify,j=d("_hidden"),Y=d("toPrimitive"),N={}.propertyIsEnumerable,B=c("symbol-registry"),F=c("symbols"),H=c("op-symbols"),V=Object.prototype,q="function"==typeof D&&!!M.f,W=r.QObject,U=!W||!W.prototype||!W.prototype.findChild,X=o&&l(function(){return 7!=E(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=k(V,e);r&&delete V[e],L(t,e,n),r&&t!==V&&L(V,e,r)}:L,G=function(t){var e=F[t]=E(D.prototype);return e._k=t,e},z=q&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},Q=function(t,e,n){return t===V&&Q(H,e,n),v(t),e=x(e,!0),v(n),i(F,e)?(n.enumerable?(i(t,j)&&t[j][e]&&(t[j][e]=!1),n=E(n,{enumerable:T(0,!1)})):(i(t,j)||L(t,j,T(1,{})),t[j][e]=!0),X(t,e,n)):L(t,e,n)},J=function(t,e){v(t);for(var n,r=m(e=w(e)),i=0,o=r.length;o>i;)Q(t,n=r[i++],e[n]);return t},K=function(t){var e=N.call(this,t=x(t,!0));return!(this===V&&i(F,t)&&!i(H,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,j)&&this[j][t])||e)},Z=function(t,e){if(t=w(t),e=x(e,!0),t!==V||!i(F,e)||i(H,e)){var n=k(t,e);return!n||!i(F,e)||i(t,j)&&t[j][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=A(w(t)),r=[],o=0;n.length>o;)i(F,e=n[o++])||e==j||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===V,r=A(n?H:w(t)),o=[],a=0;r.length>a;)!i(F,e=r[a++])||n&&!i(V,e)||o.push(F[e]);return o};q||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(H,n),i(this,j)&&i(this[j],t)&&(this[j][t]=!1),X(this,t,T(1,n))};return o&&U&&X(V,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),S.f=Z,O.f=Q,n(91).f=P.f=$,n(116).f=K,M.f=tt,o&&!n(87)&&s(V,"propertyIsEnumerable",K,!0),p.f=function(t){return G(d(t))}),a(a.G+a.W+a.F*!q,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=I(d.store),it=0;rt.length>it;)_(rt[it++]);a(a.S+a.F*!q,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=D(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!q,"Object",{create:function(t,e){return void 0===e?E(t):J(E(t),e)},defineProperty:Q,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=l(function(){M.f(1)});a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return M.f(b(t))}}),R&&a(a.S+a.F*(!q||l(function(){var t=D();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(g(e)||void 0!==t)&&!z(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),r[1]=e,C.apply(R,r)}}),D.prototype[Y]||n(45)(D.prototype,Y,D.prototype.valueOf),h(D,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){t.exports=n(131)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(88),i=n(133),o=n(116);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var r=n(6);r(r.S,"Object",{create:n(90)})},function(t,e,n){var r=n(6);r(r.S+r.F*!n(30),"Object",{defineProperty:n(31).f})},function(t,e,n){var r=n(6);r(r.S+r.F*!n(30),"Object",{defineProperties:n(257)})},function(t,e,n){var r=n(46),i=n(54).f;n(55)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(39),i=n(92);n(55)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(39),i=n(88);n(55)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(55)("getOwnPropertyNames",function(){return n(258).f})},function(t,e,n){var r=n(22),i=n(74).onFreeze;n(55)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(22),i=n(74).onFreeze;n(55)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(22),i=n(74).onFreeze;n(55)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(22);n(55)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(22);n(55)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(22);n(55)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(259)})},function(t,e,n){var r=n(6);r(r.S,"Object",{is:n(260)})},function(t,e,n){var r=n(6);r(r.S,"Object",{setPrototypeOf:n(213).set})},function(t,e,n){"use strict";var r=n(117),i={};i[n(24)("toStringTag")]="z",i+""!="[object z]"&&n(42)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(6);r(r.P,"Function",{bind:n(261)})},function(t,e,n){var r=n(31).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(30)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(22),i=n(92),o=n(24)("hasInstance"),a=Function.prototype;o in a||n(31).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(6),i=n(263);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(6),i=n(264);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(19),i=n(44),o=n(65),a=n(215),s=n(73),u=n(20),l=n(91).f,c=n(54).f,h=n(31).f,f=n(102).trim,d=r.Number,p=d,_=d.prototype,m="Number"==o(n(90)(_)),y="trim"in String.prototype,v=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=y?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(m?u(function(){_.valueOf.call(n)}):"Number"!=o(n))?a(new p(v(e)),n,d):v(e)};for(var g,b=n(30)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)i(p,g=b[w])&&!i(d,g)&&h(d,g,c(p,g));d.prototype=_,_.constructor=d,n(42)(r,"Number",d)}},function(t,e,n){"use strict";var r=n(6),i=n(53),o=n(265),a=n(216),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=u(r/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=u(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(20)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,c),l=i(t),_="",m="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(_="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=u*p(2,69,1);n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}()-69)<0?u*p(2,-e,1):u/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),r=l;r>=7;)h(1e7,0),r-=7;for(h(p(10,r,1),0),r=e-1;r>=23;)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),m=d()}else h(0,n),h(1<<-e,0),m=d()+a.call("0",l);return l>0?_+((s=m.length)<=l?"0."+a.call("0",l-s)+m:m.slice(0,s-l)+"."+m.slice(s-l)):_+m}})},function(t,e,n){"use strict";var r=n(6),i=n(20),o=n(265),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(6);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(6),i=n(19).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(6);r(r.S,"Number",{isInteger:n(266)})},function(t,e,n){var r=n(6);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(6),i=n(266),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(6);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(6);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(6),i=n(264);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(6),i=n(263);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(6),i=n(267),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(6),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(6),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(6),i=n(217);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(6);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(6),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(6),i=n(218);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(6);r(r.S,"Math",{fround:n(536)})},function(t,e,n){var r=n(217),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*(i/u/a+1/o-1/o)*u*a:(n=(e=(1+a/o)*i)-(e-i))>s||n!=n?l*(1/0):l*n}},function(t,e,n){var r=n(6),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(6),i=Math.imul;r(r.S+r.F*n(20)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(6);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(6);r(r.S,"Math",{log1p:n(267)})},function(t,e,n){var r=n(6);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(6);r(r.S,"Math",{sign:n(217)})},function(t,e,n){var r=n(6),i=n(218),o=Math.exp;r(r.S+r.F*n(20)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(6),i=n(218),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(6);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(6),i=n(89),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(6),i=n(46),o=n(25);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(102)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(219)(!0);n(220)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(6),i=n(219)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(6),i=n(25),o=n(221),a="".endsWith;r(r.P+r.F*n(223)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var r=n(6),i=n(221);r(r.P+r.F*n(223)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(6);r(r.P,"String",{repeat:n(216)})},function(t,e,n){"use strict";var r=n(6),i=n(25),o=n(221),a="".startsWith;r(r.P+r.F*n(223)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(43)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(43)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(43)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(43)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(43)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(43)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(43)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(43)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(43)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(43)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(43)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(43)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(43)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(6);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(6),i=n(39),o=n(73);r(r.P+r.F*n(20)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(6),i=n(571);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(20),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(42)(r,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},function(t,e,n){var r=n(24)("toPrimitive"),i=Date.prototype;r in i||n(45)(i,r,n(574))},function(t,e,n){"use strict";var r=n(21),i=n(73);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(6);r(r.S,"Array",{isArray:n(134)})},function(t,e,n){"use strict";var r=n(51),i=n(6),o=n(39),a=n(269),s=n(224),u=n(25),l=n(225),c=n(226);i(i.S+i.F*!n(135)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,_=p>1?arguments[1]:void 0,m=void 0!==_,y=0,v=c(f);if(m&&(_=r(_,p>2?arguments[2]:void 0,2)),null==v||d==Array&&s(v))for(n=new d(e=u(f.length));e>y;y++)l(n,y,m?_(f[y],y):f[y]);else for(h=v.call(f),n=new d;!(i=h.next()).done;y++)l(n,y,m?a(h,_,[i.value,y],!0):i.value);return n.length=y,n}})},function(t,e,n){"use strict";var r=n(6),i=n(225);r(r.S+r.F*n(20)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(6),i=n(46),o=[].join;r(r.P+r.F*(n(115)!=Object||!n(50)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(6),i=n(212),o=n(65),a=n(89),s=n(25),u=[].slice;r(r.P+r.F*n(20)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),l=a(e,n),c=s(l-i),h=new Array(c),f=0;f<c;f++)h[f]="String"==r?this.charAt(i+f):this[i+f];return h}})},function(t,e,n){"use strict";var r=n(6),i=n(52),o=n(39),a=n(20),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(50)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(6),i=n(56)(0),o=n(50)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(22),i=n(134),o=n(24)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(6),i=n(56)(1);r(r.P+r.F*!n(50)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(6),i=n(56)(2);r(r.P+r.F*!n(50)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(6),i=n(56)(3);r(r.P+r.F*!n(50)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(6),i=n(56)(4);r(r.P+r.F*!n(50)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(6),i=n(271);r(r.P+r.F*!n(50)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(6),i=n(271);r(r.P+r.F*!n(50)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(6),i=n(132)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(50)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(6),i=n(46),o=n(53),a=n(25),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(50)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(6);r(r.P,"Array",{copyWithin:n(272)}),n(93)("copyWithin")},function(t,e,n){var r=n(6);r(r.P,"Array",{fill:n(227)}),n(93)("fill")},function(t,e,n){"use strict";var r=n(6),i=n(56)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(93)("find")},function(t,e,n){"use strict";var r=n(6),i=n(56)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(93)(o)},function(t,e,n){n(104)("Array")},function(t,e,n){var r=n(19),i=n(215),o=n(31).f,a=n(91).f,s=n(222),u=n(136),l=r.RegExp,c=l,h=l.prototype,f=/a/g,d=/a/g,p=new l(f)!==f;if(n(30)&&(!p||n(20)(function(){return d[n(24)("match")]=!1,l(f)!=f||l(d)==d||"/a/i"!=l(f,"i")}))){l=function(t,e){var n=this instanceof l,r=s(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(p?new c(r&&!o?t.source:t,e):c((r=t instanceof l)?t.source:t,r&&o?u.call(t):e),n?this:h,l)};for(var _=function(t){t in l||o(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},m=a(c),y=0;m.length>y;)_(m[y++]);h.constructor=l,l.prototype=h,n(42)(r,"RegExp",l)}n(104)("RegExp")},function(t,e,n){"use strict";n(275);var r=n(21),i=n(136),o=n(30),a=/./.toString,s=function(t){n(42)(RegExp.prototype,"toString",t,!0)};n(20)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){"use strict";var r=n(21),i=n(25),o=n(230),a=n(137);n(138)("match",1,function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=r(t),l=String(this);if(!u.global)return a(u,l);var c=u.unicode;u.lastIndex=0;for(var h,f=[],d=0;null!==(h=a(u,l));){var p=String(h[0]);f[d]=p,""===p&&(u.lastIndex=o(l,i(u.lastIndex),c)),d++}return 0===d?null:f}]})},function(t,e,n){"use strict";var r=n(21),i=n(39),o=n(25),a=n(53),s=n(230),u=n(137),l=Math.max,c=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(138)("replace",2,function(t,e,n,p){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var h=r(t),f=String(this),d="function"==typeof e;d||(e=String(e));var m=h.global;if(m){var y=h.unicode;h.lastIndex=0}for(var v=[];;){var g=u(h,f);if(null===g)break;if(v.push(g),!m)break;""===String(g[0])&&(h.lastIndex=s(f,o(h.lastIndex),y))}for(var b,w="",x=0,T=0;T<v.length;T++){g=v[T];for(var E=String(g[0]),P=l(c(a(g.index),f.length),0),S=[],M=1;M<g.length;M++)S.push(void 0===(b=g[M])?b:String(b));var O=g.groups;if(d){var I=[E].concat(S,P,f);void 0!==O&&I.push(O);var k=String(e.apply(void 0,I))}else k=_(E,f,P,S,O,e);P>=x&&(w+=f.slice(x,P)+k,x=P+E.length)}return w+f.slice(x)}];function _(t,e,r,o,a,s){var u=r+t.length,l=o.length,c=d;return void 0!==a&&(a=i(a),c=f),n.call(s,c,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>l){var f=h(c/10);return 0===f?n:f<=l?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}s=o[c-1]}return void 0===s?"":s})}})},function(t,e,n){"use strict";var r=n(21),i=n(260),o=n(137);n(138)("search",1,function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=r(t),u=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var c=o(s,u);return i(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]})},function(t,e,n){"use strict";var r=n(222),i=n(21),o=n(118),a=n(230),s=n(25),u=n(137),l=n(229),c=n(20),h=Math.min,f=[].push,d=!c(function(){RegExp(4294967295,"y")});n(138)("split",2,function(t,e,n,c){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,d=void 0===e?4294967295:e>>>0,p=new RegExp(t.source,c+"g");(o=l.call(p,i))&&!((a=p.lastIndex)>h&&(u.push(i.slice(h,o.index)),o.length>1&&o.index<i.length&&f.apply(u,o.slice(1)),s=o[0].length,h=a,u.length>=d));)p.lastIndex===o.index&&p.lastIndex++;return h===i.length?!s&&p.test("")||u.push(""):u.push(i.slice(h)),u.length>d?u.slice(0,d):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):p.call(String(i),n,r)},function(t,e){var r=c(p,t,this,e,p!==n);if(r.done)return r.value;var l=i(t),f=String(this),_=o(l,RegExp),m=l.unicode,y=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(d?"y":"g"),v=new _(d?l:"^(?:"+l.source+")",y),g=void 0===e?4294967295:e>>>0;if(0===g)return[];if(0===f.length)return null===u(v,f)?[f]:[];for(var b=0,w=0,x=[];w<f.length;){v.lastIndex=d?w:0;var T,E=u(v,d?f:f.slice(w));if(null===E||(T=h(s(v.lastIndex+(d?0:w)),f.length))===b)w=a(f,w,m);else{if(x.push(f.slice(b,w)),x.length===g)return x;for(var P=1;P<=E.length-1;P++)if(x.push(E[P]),x.length===g)return x;w=b=T}}return x.push(f.slice(b)),x}]})},function(t,e,n){var r=n(19),i=n(231).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(65)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var h=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var r=n(279),i=n(94);t.exports=n(141)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(279),i=n(94);t.exports=n(141)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(19),o=n(56)(0),a=n(42),s=n(74),u=n(259),l=n(280),c=n(22),h=n(94),f=n(94),d=!i.ActiveXObject&&"ActiveXObject"in i,p=s.getWeak,_=Object.isExtensible,m=l.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(c(t)){var e=p(t);return!0===e?m(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,"WeakMap"),t,e)}},g=t.exports=n(141)("WeakMap",y,v,l,!0,!0);f&&d&&(u((r=l.getConstructor(y,"WeakMap")).prototype,v),s.NEED=!0,o(["delete","has","get","set"],function(t){var e=g.prototype,n=e[t];a(e,t,function(e,i){if(c(e)&&!_(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(280),i=n(94);n(141)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(6),i=n(142),o=n(232),a=n(21),s=n(89),u=n(25),l=n(22),c=n(19).ArrayBuffer,h=n(118),f=o.ArrayBuffer,d=o.DataView,p=i.ABV&&c.isView,_=f.prototype.slice,m=i.VIEW;r(r.G+r.W+r.F*(c!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||l(t)&&m in t}}),r(r.P+r.U+r.F*n(20)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==_&&void 0===e)return _.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(h(this,f))(u(i-r)),l=new d(this),c=new d(o),p=0;r<i;)c.setUint8(p++,l.getUint8(r++));return o}}),n(104)("ArrayBuffer")},function(t,e,n){var r=n(6);r(r.G+r.W+r.F*!n(142).ABV,{DataView:n(232).DataView})},function(t,e,n){n(67)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(67)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(67)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(67)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(67)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(67)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(67)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(67)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(67)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(6),i=n(52),o=n(21),a=(n(19).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(20)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(6),i=n(90),o=n(52),a=n(21),s=n(22),u=n(20),l=n(261),c=(n(19).Reflect||{}).construct,h=u(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),f=!u(function(){c(function(){})});r(r.S+r.F*(h||f),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var u=n.prototype,d=i(s(u)?u:Object.prototype),p=Function.apply.call(t,d,e);return s(p)?p:d}})},function(t,e,n){var r=n(31),i=n(6),o=n(21),a=n(73);i(i.S+i.F*n(20)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(6),i=n(54).f,o=n(21);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(6),i=n(21),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(268)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(54),i=n(92),o=n(44),a=n(6),s=n(22),u=n(21);a(a.S,"Reflect",{get:function t(e,n){var a,l,c=arguments.length<3?e:arguments[2];return u(e)===c?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(l=i(e))?t(l,n,c):void 0}})},function(t,e,n){var r=n(54),i=n(6),o=n(21);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(6),i=n(92),o=n(21);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(6);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(6),i=n(21),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(6);r(r.S,"Reflect",{ownKeys:n(282)})},function(t,e,n){var r=n(6),i=n(21),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(31),i=n(54),o=n(92),a=n(44),s=n(6),u=n(85),l=n(21),c=n(22);s(s.S,"Reflect",{set:function t(e,n,s){var h,f,d=arguments.length<4?e:arguments[3],p=i.f(l(e),n);if(!p){if(c(f=o(e)))return t(f,n,s,d);p=u(0)}if(a(p,"value")){if(!1===p.writable||!c(d))return!1;if(h=i.f(d,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,r.f(d,n,h)}else r.f(d,n,u(0,s));return!0}return void 0!==p.set&&(p.set.call(d,s),!0)}})},function(t,e,n){var r=n(6),i=n(213);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(634),t.exports=n(29).Array.includes},function(t,e,n){"use strict";var r=n(6),i=n(132)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(93)("includes")},function(t,e,n){n(636),t.exports=n(29).Array.flatMap},function(t,e,n){"use strict";var r=n(6),i=n(637),o=n(39),a=n(25),s=n(52),u=n(270);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(93)("flatMap")},function(t,e,n){"use strict";var r=n(134),i=n(22),o=n(25),a=n(51),s=n(24)("isConcatSpreadable");t.exports=function t(e,n,u,l,c,h,f,d){for(var p,_,m=c,y=0,v=!!f&&a(f,d,3);y<l;){if(y in u){if(p=v?v(u[y],y,n):u[y],_=!1,i(p)&&(_=void 0!==(_=p[s])?!!_:r(p)),_&&h>0)m=t(e,n,p,o(p.length),m,h-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=p}m++}y++}return m}},function(t,e,n){n(639),t.exports=n(29).String.padStart},function(t,e,n){"use strict";var r=n(6),i=n(283),o=n(140),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){n(641),t.exports=n(29).String.padEnd},function(t,e,n){"use strict";var r=n(6),i=n(283),o=n(140),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(643),t.exports=n(29).String.trimLeft},function(t,e,n){"use strict";n(102)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){n(645),t.exports=n(29).String.trimRight},function(t,e,n){"use strict";n(102)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){n(647),t.exports=n(209).f("asyncIterator")},function(t,e,n){n(255)("asyncIterator")},function(t,e,n){n(649),t.exports=n(29).Object.getOwnPropertyDescriptors},function(t,e,n){var r=n(6),i=n(282),o=n(46),a=n(54),s=n(225);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,l=i(r),c={},h=0;l.length>h;)void 0!==(n=u(r,e=l[h++]))&&s(c,e,n);return c}})},function(t,e,n){n(651),t.exports=n(29).Object.values},function(t,e,n){var r=n(6),i=n(284)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){n(653),t.exports=n(29).Object.entries},function(t,e,n){var r=n(6),i=n(284)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";n(276),n(655),t.exports=n(29).Promise.finally},function(t,e,n){"use strict";var r=n(6),i=n(29),o=n(19),a=n(118),s=n(278);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){n(657),n(658),n(659),t.exports=n(29)},function(t,e,n){var r=n(19),i=n(6),o=n(140),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(6),i=n(231);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(228),i=n(88),o=n(42),a=n(19),s=n(45),u=n(103),l=n(24),c=l("iterator"),h=l("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),_=0;_<p.length;_++){var m,y=p[_],v=d[y],g=a[y],b=g&&g.prototype;if(b&&(b[c]||s(b,c,f),b[h]||s(b,h,y),u[y]=f,v))for(m in r)b[m]||o(b,m,r[m],!0)}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n,r){var i=e&&e.prototype instanceof _?e:_,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=function(t,e,n){var r=c;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c="suspendedStart",h="suspendedYield",f="executing",d="completed",p={};function _(){}function m(){}function y(){}var v={};v[o]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(O([])));b&&b!==n&&r.call(b,o)&&(v=b);var w=y.prototype=_.prototype=Object.create(v);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function T(t,e){var n;this._invoke=function(i,o){function a(){return new e(function(n,a){!function n(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(h).then(function(t){c.value=t,a(c)},function(t){return n("throw",t,a,s)})}s(u.arg)}(i,o,n,a)})}return n=n?n.then(a,a):a()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:e,done:!0}}return m.prototype=w.constructor=y,y.constructor=m,y[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(T.prototype),T.prototype[a]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new T(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},x(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){n(662),t.exports=n(285).global},function(t,e,n){var r=n(663);r(r.G,{global:n(233)})},function(t,e,n){var r=n(233),i=n(285),o=n(664),a=n(666),s=n(673),u=function(t,e,n){var l,c,h,f=t&u.F,d=t&u.G,p=t&u.S,_=t&u.P,m=t&u.B,y=t&u.W,v=d?i:i[e]||(i[e]={}),g=v.prototype,b=d?r:p?r[e]:(r[e]||{}).prototype;for(l in d&&(n=e),n)(c=!f&&b&&void 0!==b[l])&&s(v,l)||(h=c?b[l]:n[l],v[l]=d&&"function"!=typeof b[l]?n[l]:m&&c?o(h,r):y&&b[l]==h?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):_&&"function"==typeof h?o(Function.call,h):h,_&&((v.virtual||(v.virtual={}))[l]=h,t&u.R&&g&&!g[l]&&a(g,l,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(665);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(667),i=n(672);t.exports=n(235)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(668),i=n(669),o=n(671),a=Object.defineProperty;e.f=n(235)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(234);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(235)&&!n(286)(function(){return 7!=Object.defineProperty(n(670)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(234),i=n(233).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(234);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";n.r(e),function(t){n(675),n(777),n(778),n(779),n(785),n(27);var e=n(465),r=n.n(e),i=n(466),o=n(467);t.$=r.a,t.dat=i,new o.a(1024,768).init()}.call(this,n(95))},function(t,e,n){"use strict";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var r=n(676);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(16);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o,a=(o=n(737))&&o.__esModule?o:{default:o},s=m(n(738)),u=m(n(740)),l=m(n(319)),c=m(n(750)),h=m(n(757)),f=m(n(759)),d=m(n(763)),p=m(n(768)),_=m(n(773));function m(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}i.utils.mixins.performMixins();var y=f.shared||null;e.accessibility=s,e.extract=u,e.extras=l,e.filters=c,e.interaction=h,e.loaders=f,e.mesh=d,e.particles=p,e.prepare=_,e.loader=y,"function"==typeof a.default&&(0,a.default)(e),t.PIXI=e}).call(this,n(95))},function(t,e,n){"use strict";n(677),n(679),n(680),n(681),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,n){"use strict";var r,i=(r=n(678))&&r.__esModule?r:{default:r};Object.assign||(Object.assign=i.default)},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(t,e,n){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),r=["ms","moz","webkit","o"],i=0;i<r.length&&!t.requestAnimationFrame;++i){var o=r[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+n-e;return r<0&&(r=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,n(95))},function(t,e,n){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,n){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(238))&&r.__esModule?r:{default:r},o=n(15),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.radius=r,this.type=o.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return(r*=r)+(i*=i)<=n},t.prototype.getBounds=function(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(238))&&r.__esModule?r:{default:r},o=n(15),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.width=r,this.height=i,this.type=o.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return(n*=n)+(r*=r)<=1},t.prototype.getBounds=function(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(236))&&r.__esModule?r:{default:r},o=n(15),a=function(){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof i.default){for(var a=[],s=0,u=n.length;s<u;s++)a.push(n[s].x,n[s].y);n=a}this.closed=!0,this.points=n,this.type=o.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];s>e!=l>e&&t<(e-s)/(l-s)*(u-a)+a&&(n=!n)}return n},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=n(15),i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.width=i,this.height=o,this.radius=a,this.type=r.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),r=e-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=t-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=e-(this.y+this.height-this.radius))*r<=i)return!0;if((n=t-(this.x+this.radius))*n+r*r<=i)return!0}return!1},t}();e.default=i},function(t,e){t.exports=function(t,e){var n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!n)throw new Error("This browser does not support webGL. Try using the canvas renderer");return n}},function(t,e){var n=new ArrayBuffer(0),r=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};r.prototype.upload=function(t,e,n){n||this.bind();var r=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?r.bufferSubData(this.type,e,t):r.bufferData(this.type,t,this.drawType),this.data=t},r.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(t,e,n){return new r(t,t.ARRAY_BUFFER,e,n)},r.createIndexBuffer=function(t,e,n){return new r(t,t.ELEMENT_ARRAY_BUFFER,e,n)},r.create=function(t,e,n,i){return new r(t,e,n,i)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=r},function(t,e,n){var r=n(290),i=function(t,e,n){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=n||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new r(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,n,r){this.bind();var i=this.gl;i.clearColor(t,e,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var n=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,n,o){var a=r.fromData(t,null,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},i.createFloat32=function(t,e,n,o){var a=new r.fromData(t,o,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},t.exports=i},function(t,e,n){var r=n(291),i=n(292),o=n(294),a=n(296),s=n(297),u=function(t,e,n,u,l){this.gl=t,u&&(e=a(e,u),n=a(n,u)),this.program=r(t,e,n,l),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=s(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,n){var r=n(289);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,n=0;n<this.attributes.length;n++){var i=this.attributes[n];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return r(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,n,r,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,n){var r=this.gl;return this.indexBuffer?r.drawElements(t,e||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(t,n,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,n){t.exports={compileProgram:n(291),defaultValue:n(295),extractAttributes:n(292),extractUniforms:n(294),generateUniformAccessObject:n(297),setPrecision:n(296),mapSize:n(293),mapType:n(239)}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return i.default.tablet||i.default.phone?4:t};var r,i=(r=n(241))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,n){"use strict";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,n){"use strict";function r(t,e){if(t&&e)for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=r,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)r(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i=t.length;if(!(e>=i||0===n)){var o=i-(n=e+n>i?i-e:n);for(r=e;r<o;++r)t[r]=t[r+n];t.length=o}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[r.BLEND_MODES.NORMAL_NPM]=r.BLEND_MODES.NORMAL,t[r.BLEND_MODES.ADD_NPM]=r.BLEND_MODES.ADD,t[r.BLEND_MODES.SCREEN_NPM]=r.BLEND_MODES.SCREEN,e[r.BLEND_MODES.NORMAL]=r.BLEND_MODES.NORMAL_NPM,e[r.BLEND_MODES.ADD]=r.BLEND_MODES.ADD_NPM,e[r.BLEND_MODES.SCREEN]=r.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var r=n(15)},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,c=1,h=26,f=38,d=700,p=72,_=128,m="-",y=/^xn--/,v=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-c,x=Math.floor,T=String.fromCharCode;function E(t){throw new RangeError(b[t])}function P(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function S(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+P((t=t.replace(g,".")).split("."),e).join(".")}function M(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function O(t){return P(t,function(t){var e="";return t>65535&&(e+=T((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+T(t)}).join("")}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function k(t,e,n){var r=0;for(t=n?x(t/d):t>>1,t+=x(t/e);t>w*h>>1;r+=l)t=x(t/w);return x(r+(w+1)*t/(t+f))}function L(t){var e,n,r,i,o,a,s,f,d,y,v,g=[],b=t.length,w=0,T=_,P=p;for((n=t.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&E("not-basic"),g.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=w,a=1,s=l;i>=b&&E("invalid-input"),((f=(v=t.charCodeAt(i++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:l)>=l||f>x((u-w)/a))&&E("overflow"),w+=f*a,!(f<(d=s<=P?c:s>=P+h?h:s-P));s+=l)a>x(u/(y=l-d))&&E("overflow"),a*=y;P=k(w-o,e=g.length+1,0==o),x(w/e)>u-T&&E("overflow"),T+=x(w/e),w%=e,g.splice(w++,0,T)}return O(g)}function A(t){var e,n,r,i,o,a,s,f,d,y,v,g,b,w,P,S=[];for(g=(t=M(t)).length,e=_,n=0,o=p,a=0;a<g;++a)(v=t[a])<128&&S.push(T(v));for(r=i=S.length,i&&S.push(m);r<g;){for(s=u,a=0;a<g;++a)(v=t[a])>=e&&v<s&&(s=v);for(s-e>x((u-n)/(b=r+1))&&E("overflow"),n+=(s-e)*b,e=s,a=0;a<g;++a)if((v=t[a])<e&&++n>u&&E("overflow"),v==e){for(f=n,d=l;!(f<(y=d<=o?c:d>=o+h?h:d-o));d+=l)P=f-y,w=l-y,S.push(T(I(y+P%w,0))),f=x(P/w);S.push(T(I(f,0))),o=k(n,b,r==i),n=0,++r}++n,++e}return S.join("")}s={version:"1.4.1",ucs2:{decode:M,encode:O},decode:L,encode:A,toASCII:function(t){return S(t,function(t){return v.test(t)?"xn--"+A(t):t})},toUnicode:function(t){return S(t,function(t){return y.test(t)?L(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(76)(t),n(95))},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(701),e.encode=e.stringify=n(702)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,f,d,p,_=t[c].replace(s,"%20"),m=_.indexOf(n);m>=0?(h=_.substr(0,m),f=_.substr(m+1)):(h=_,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(a(t),function(a){var s=encodeURIComponent(r(a))+n;return i(t[a])?o(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(33)),o=n(15),a=s(n(704));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,n))},t.prototype.addOnce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},r(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.context=n,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(120)),i=n(15),o=n(35),a=s(n(248));function s(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,n=this.renderer,r=e._frame.width,s=e._frame.height,l=t.transform.worldTransform,c=0,h=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(n.setBlendMode(t.blendMode),e.valid)){n.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==f&&(n.context[n.smoothProperty]=f),e.trim?(c=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,h=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(c=(.5-t.anchor.x)*e.orig.width,h=(.5-t.anchor.y)*e.orig.height),e.rotate&&(l.copy(u),l=u,o.GroupD8.matrixAppendRotationInv(l,e.rotate,c,h),c=0,h=0),c-=r/2,h-=s/2,n.roundPixels?(n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution|0,l.ty*n.resolution|0),c|=0,h|=0):n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution,l.ty*n.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=a.default.getTintedTexture(t,t.tint)),n.context.drawImage(t.tintedTexture,0,0,r*d,s*d,c*n.resolution,h*n.resolution,r*n.resolution,s*n.resolution)):n.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,r*d,s*d,c*n.resolution,h*n.resolution,r*n.resolution,s*n.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=l,r.default.registerPlugin("sprite",l)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(15),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var n=t.alpha,r=t.transform.worldTransform,i=e.resolution;e.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=n},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,n=t.graphicsData.length;if(0!==n){e.beginPath();for(var i=0;i<n;i++){var o=t.graphicsData[i],a=o.shape;if(o.type===r.SHAPES.POLY){var s=a.points;e.moveTo(s[0],s[1]);for(var u=1;u<s.length/2;u++)e.lineTo(s[2*u],s[2*u+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath()}else if(o.type===r.SHAPES.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(o.type===r.SHAPES.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(o.type===r.SHAPES.ELIP){var l=2*a.width,c=2*a.height,h=a.x-l/2,f=a.y-c/2,d=l/2*.5522848,p=c/2*.5522848,_=h+l,m=f+c,y=h+l/2,v=f+c/2;e.moveTo(h,v),e.bezierCurveTo(h,v-p,y-d,f,y,f),e.bezierCurveTo(y+d,f,_,v-p,_,v),e.bezierCurveTo(_,v+p,y+d,m,y,m),e.bezierCurveTo(y-d,m,h,v+p,h,v),e.closePath()}else if(o.type===r.SHAPES.RREC){var g=a.x,b=a.y,w=a.width,x=a.height,T=a.radius,E=Math.min(w,x)/2|0;T=T>E?E:T,e.moveTo(g,b+T),e.lineTo(g,b+x-T),e.quadraticCurveTo(g,b+x,g+T,b+x),e.lineTo(g+w-T,b+x),e.quadraticCurveTo(g+w,b+x,g+w,b+x-T),e.lineTo(g+w,b+T),e.quadraticCurveTo(g+w,b,g+w-T,b),e.lineTo(g+T,b),e.quadraticCurveTo(g,b,g,b+T),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over"),t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var r,i=n(15),o=(r=n(308))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";e.__esModule=!0;var r=d(n(143)),i=d(n(144)),o=d(n(249)),a=d(n(721)),s=d(n(722)),u=d(n(723)),l=d(n(33)),c=n(23),h=d(n(47)),f=d(n(245));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,_=0,m=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));r.vertSize=5,r.vertByteSize=4*r.vertSize,r.size=l.default.SPRITE_BATCH_SIZE,r.buffers=[];for(var i=1;i<=f.default.nextPow2(r.size);i*=2)r.buffers.push(new u.default(4*i*r.vertByteSize));r.indices=(0,o.default)(r.size),r.shader=null,r.currentIndex=0,r.groups=[];for(var a=0;a<r.size;a++)r.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return r.sprites=[],r.vertexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.on("prerender",r.onPrerender,r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,s.default)(this.MAX_TEXTURES,t)),this.shader=(0,a.default)(t,this.MAX_TEXTURES),this.indexBuffer=h.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,n=0;n<this.vaoMax;n++){var r=this.vertexBuffers[n]=h.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(r,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(r,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,n=f.default.nextPow2(this.currentIndex),r=f.default.log2(n),i=this.buffers[r],o=this.sprites,a=this.groups,s=i.float32View,u=i.uint32View,d=this.boundTextures,m=this.renderer.boundTextures,y=this.renderer.textureGC.count,v=0,g=void 0,b=void 0,w=1,x=0,T=a[0],E=void 0,P=void 0,S=c.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];T.textureCount=0,T.start=0,T.blend=S,p++;var M=void 0;for(M=0;M<e;++M){var O=m[M];O._enabled!==p?(d[M]=O,O._virtalBoundId=M,O._enabled=p):d[M]=this.renderer.emptyTextures[M]}for(p++,M=0;M<this.currentIndex;++M){var I=o[M];o[M]=null,g=I._texture.baseTexture;var k=c.premultiplyBlendMode[Number(g.premultipliedAlpha)][I.blendMode];if(S!==k&&(S=k,b=null,x=e,p++),b!==g&&(b=g,g._enabled!==p)){if(x===e&&(p++,T.size=M-T.start,x=0,(T=a[w++]).blend=S,T.textureCount=0,T.start=M),g.touched=y,-1===g._virtalBoundId)for(var L=0;L<e;++L){var A=(L+_)%e,D=d[A];if(D._enabled!==p){_++,D._virtalBoundId=-1,g._virtalBoundId=A,d[A]=g;break}}g._enabled=p,T.textureCount++,T.ids[x]=g._virtalBoundId,T.textures[x++]=g}if(E=I.vertexData,P=I._texture._uvs.uvsUint32,this.renderer.roundPixels){var R=this.renderer.resolution;s[v]=(E[0]*R|0)/R,s[v+1]=(E[1]*R|0)/R,s[v+5]=(E[2]*R|0)/R,s[v+6]=(E[3]*R|0)/R,s[v+10]=(E[4]*R|0)/R,s[v+11]=(E[5]*R|0)/R,s[v+15]=(E[6]*R|0)/R,s[v+16]=(E[7]*R|0)/R}else s[v]=E[0],s[v+1]=E[1],s[v+5]=E[2],s[v+6]=E[3],s[v+10]=E[4],s[v+11]=E[5],s[v+15]=E[6],s[v+16]=E[7];u[v+2]=P[0],u[v+7]=P[1],u[v+12]=P[2],u[v+17]=P[3];var C=Math.min(I.worldAlpha,1),j=C<1&&g.premultipliedAlpha?(0,c.premultiplyTint)(I._tintRGB,C):I._tintRGB+(255*C<<24);u[v+3]=u[v+8]=u[v+13]=u[v+18]=j,s[v+4]=s[v+9]=s[v+14]=s[v+19]=g._virtalBoundId,v+=20}if(T.size=M-T.start,l.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var Y=this.shader.attributes,N=this.vertexBuffers[this.vertexCount]=h.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),B=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(N,Y.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(N,Y.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(N,Y.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);Y.aTextureId&&B.addAttribute(N,Y.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=B}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(M=0;M<e;++M)m[M]._virtalBoundId=-1;for(M=0;M<w;++M){for(var F=a[M],H=F.textureCount,V=0;V<H;V++)b=F.textures[V],m[F.ids[V]]!==b&&this.renderer.bindTexture(b,F.ids[V],!0),b._virtalBoundId=-1;this.renderer.state.setBlendMode(F.blend),t.drawElements(t.TRIANGLES,6*F.size,t.UNSIGNED_SHORT,6*F.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),l.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},e}(r.default);e.default=m,i.default.registerPlugin("sprite",m)},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(121)),i=o(n(309));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.scissor=!1,r.scissorData=null,r.scissorRenderTarget=null,r.enableScissor=!0,r.alphaMaskPool=[],r.alphaMaskIndex=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var n=e.worldTransform,r=Math.atan2(n.b,n.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,n),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var n=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(n.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(r.x*i,(n.root?n.size.height-r.y-r.height:r.y)*i,r.width*i,r.height*i),this.scissorRenderTarget=n,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(r.default);e.default=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){var r=o(t),i=o(e);return Object.assign(r,i)};var r,i=((r=n(47))&&r.__esModule?r:{default:r}).default.shader.defaultValue;function o(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},r=void 0,o=t.replace(/\s+/g," ").split(/\s*;\s*/),a=0;a<o.length;a++){var s=o[a].trim();if(s.indexOf("uniform")>-1){var u=s.split(" "),l=u[1],c=u[2],h=1;c.indexOf("[")>-1&&(c=(r=c.split(/\[|]/))[0],h*=Number(r[1])),c.match(e)||(n[c]={value:i(l,h),name:c,type:l})}}return n}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(121))&&r.__esModule?r:{default:r},o=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.stencilMaskStack=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,n,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){i.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(i.default);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=c(n(121)),i=c(n(145)),o=c(n(312)),a=n(35),s=c(n(122)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(714)),l=c(n(245));function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function(){function t(){h(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new a.Rectangle,this.destinationFrame=new a.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),d=function(t){function e(n){h(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.gl=r.renderer.gl,r.quad=new o.default(r.gl,n.state.attribState),r.shaderCache={},r.pool={},r.filterData=null,r.managedFilters=[],r.renderer.on("prerender",r.onPrerender,r),r._screenWidth=n.view.width,r._screenHeight=n.view.height,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var n=this.renderer,r=this.filterData;if(!r){r=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[i]},this.filterData=r}var o=r.stack[++r.index],a=r.stack[0].destinationFrame;o||(o=r.stack[r.index]=new f);var s=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===n.screen.width&&t.filterArea.height===n.screen.height,u=e[0].resolution,l=0|e[0].padding,c=s?n.screen:t.filterArea||t.getBounds(!0),h=o.sourceFrame,d=o.destinationFrame;h.x=(c.x*u|0)/u,h.y=(c.y*u|0)/u,h.width=(c.width*u|0)/u,h.height=(c.height*u|0)/u,s||(r.stack[0].renderTarget.transform||e[0].autoFit&&h.fit(a),h.pad(l)),d.width=h.width,d.height=h.height;var p=this.getPotRenderTarget(n.gl,h.width,h.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=p,p.setFrame(d,h),n.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],n=t.stack[t.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var r=n.filters;if(1===r.length)r[0].apply(this,n.renderTarget,e.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var i=n.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);o.setFrame(n.destinationFrame,n.sourceFrame),o.clear();var a=0;for(a=0;a<r.length-1;++a){r[a].apply(this,i,o,!0,n);var s=i;i=o,o=s}r[a].apply(this,i,e.renderTarget,!1,n),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}n.clear(),t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,n,r){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new s.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[i.CONTEXT_UID]=new s.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(n),r&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),n===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var n=e.uniformData,r=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=s}for(var u in n){var l=n[u].type;if("sampler2d"===l&&0!==r[u]){if(r[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(r[u].baseTexture,i);else{t.uniforms[u]=i;var c=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],c.activeTexture(c.TEXTURE0+i),r[u].texture.bind()}i++}else if("mat3"===l)void 0!==r[u].a?t.uniforms[u]=r[u].toArray(!0):t.uniforms[u]=r[u];else if("vec2"===l)if(void 0!==r[u].x){var h=t.uniforms[u]||new Float32Array(2);h[0]=r[u].x,h[1]=r[u].y,t.uniforms[u]=h}else t.uniforms[u]=r[u];else"float"===l?t.uniforms.data[u].value!==n[u]&&(t.uniforms[u]=r[u]):t.uniforms[u]=r[u]}},e.prototype.getRenderTarget=function(t,e){var n=this.filterData.stack[this.filterData.index],r=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,e||n.resolution);return r.setFrame(n.destinationFrame,n.sourceFrame),r},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,n.sourceFrame,n.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,n=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var r=0;r<n.length;r++)t||n[r].glShaders[e.CONTEXT_UID].destroy(),delete n[r].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,n,r){var o="screen";n*=r,(e*=r)===this._screenWidth&&n===this._screenHeight||(o=(65535&(e=l.default.nextPow2(e)))<<16|65535&(n=l.default.nextPow2(n))),this.pool[o]||(this.pool[o]=[]);var a=this.pool[o].pop();if(!a){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),a=new i.default(t,e,n,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return a.resolution=r,a.defaultFrame.width=a.size.width=e/r,a.defaultFrame.height=a.size.height=n/r,a.filterPoolKey=o,a},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var n=0;n<e.length;n++)e[n].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(r.default);e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,n){var r=t.identity();return r.translate(e.x/n.width,e.y/n.height),r.scale(n.width,n.height),r},e.calculateNormalizedScreenSpaceMatrix=function(t,e,n){var r=t.identity();r.translate(e.x/n.width,e.y/n.height);var i=n.width/e.width,o=n.height/e.height;return r.scale(i,o),r},e.calculateSpriteMatrix=function(t,e,n,i){var o=i._texture.orig,a=t.set(n.width,0,0,n.height,e.x,e.y),s=i.worldTransform.copy(r.Matrix.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(i.anchor.x,i.anchor.y),a};var r=n(35)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(47),o=n(15),a=(r=n(145))&&r.__esModule?r:{default:r},s=n(23),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var n=this.gl,r=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,n.activeTexture(n.TEXTURE0+e);var l=t._glTextures[this.renderer.CONTEXT_UID];if(l)r?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):l.upload(t.source);else{if(r){var c=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);c.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=c,l=c.texture}else(l=new i.GLTexture(this.gl,null,null,null,null)).bind(e),l.premultiplyAlpha=!0,l.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=l,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&l.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?l.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?l.enableWrapRepeat():l.enableWrapMirrorRepeat()):l.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?l.enableNearestScaling():l.enableLinearScaling()}return l},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var n=this.renderer.CONTEXT_UID,r=t._glTextures,i=t._glRenderTargets;if(r[n]&&(this.renderer.unbindTexture(t),r[n].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete r[n],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,s.removeItems)(this._managedTextures,o,1)}i&&i[n]&&(i[n].destroy(),delete i[n])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(15),o=(r=n(33))&&r.__esModule?r:{default:r},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=o.default.GC_MAX_IDLE,this.checkCountMax=o.default.GC_MAX_CHECK_COUNT,this.mode=o.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,n=!1,r=0;r<e.length;r++){var i=e[r];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(718))&&r.__esModule?r:{default:r},o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,i.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[r.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[r.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var r=n(15)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[r.DRAW_MODES.POINTS]=t.POINTS,e[r.DRAW_MODES.LINES]=t.LINES,e[r.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[r.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[r.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[r.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[r.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var r=n(15)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=o;n=(n=n.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var n=0;n<t;n++)n>0&&(e+="\nelse "),n<t-1&&(e+="if(textureId == "+n+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"}(e));for(var r=new i.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",n),a=[],s=0;s<e;s++)a[s]=s;return r.bind(),r.uniforms.uSamplers=a,r};var r,i=(r=n(122))&&r.__esModule?r:{default:r};n(57);var o=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(n){var r=document.createElement("canvas");r.width=1,r.height=1,e=i.default.createContext(r)}for(var s=e.createShader(e.FRAGMENT_SHADER);;){var u=o.replace(/%forloop%/gi,a(t));if(e.shaderSource(s,u),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS))break;t=t/2|0}return n&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t};var r,i=(r=n(47))&&r.__esModule?r:{default:r},o=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t){for(var e="",n=0;n<t;++n)n>0&&(e+="\nelse "),n<t-1&&(e+="if(test == "+n+".0){}");return e}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=d(n(244)),o=d(n(75)),a=n(35),s=n(23),u=n(15),l=d(n(33)),c=d(n(313)),h=d(n(314)),f=d(n(725));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},_=function(t){function e(n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var s=o.default.fromCanvas(i,l.default.SCALE_MODE,"text");s.orig=new a.Rectangle,s.trim=new a.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,s));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext("2d"),u.resolution=l.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=n,u.style=r,u.localStyleID=-1,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var n=this.context,r=h.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,a=r.lines,s=r.lineHeight,u=r.lineWidths,l=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=e.stroke,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){n.fillStyle=e.dropShadowColor,n.globalAlpha=e.dropShadowAlpha,n.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(n.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,_=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,m=0;m<a.length;m++)f=e.strokeThickness/2,d=e.strokeThickness/2+m*s+c.ascent,"right"===e.align?f+=l-u[m]:"center"===e.align&&(f+=(l-u[m])/2),e.fill&&(this.drawLetterSpacing(a[m],f+p+e.padding,d+_+e.padding),e.stroke&&e.strokeThickness&&(n.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(a[m],f+p+e.padding,d+_+e.padding,!0),n.strokeStyle=e.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(e,a);for(var y=0;y<a.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*s+c.ascent,"right"===e.align?f+=l-u[y]:"center"===e.align&&(f+=(l-u[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[y],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(a[y],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,""),a=e,s=0,u="";s<t.length;)u=o[s++],r?this.context.strokeText(u,a,n):this.context.fillText(u,a,n),a+=this.context.measureText(u).width+i;else r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,n.trim.width=n._frame.width=t.width/this.resolution,n.trim.height=n._frame.height=t.height/this.resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var n=void 0,r=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,l=t.fill.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var h=l.length+1,f=1;f<h;++f)c.push(f/h);if(l.unshift(t.fill[0]),c.unshift(0),l.push(t.fill[t.fill.length-1]),c.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,s),r=(l.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<l.length;p++)o="number"==typeof c[p]?c[p]/e.length+d/e.length:i/r,n.addColorStop(o,l[p]),i++}}else{n=this.context.createLinearGradient(0,s/2,a,s/2),r=l.length+1,i=1;for(var _=0;_<l.length;_++)o="number"==typeof c[_]?c[_]:i/r,n.addColorStop(o,l[_]),i++}return n},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof c.default?this._style=t:this._style=new c.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=_},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,n=t.height,r=t.getContext("2d"),i=r.getImageData(0,0,e,n).data,o=i.length,a={top:null,left:null,right:null,bottom:null},s=void 0,u=void 0,l=void 0;for(s=0;s<o;s+=4)0!==i[s+3]&&(u=s/4%e,l=~~(s/4/e),null===a.top&&(a.top=l),null===a.left?a.left=u:u<a.left&&(a.left=u),null===a.right?a.right=u+1:a.right<u&&(a.right=u+1),null===a.bottom?a.bottom=l:a.bottom<l&&(a.bottom=l));return e=a.right-a.left,{height:n=a.bottom-a.top+1,width:e,data:r.getImageData(a.left,a.top,e,n)}}},function(t,e,n){"use strict";e.__esModule=!0;var r=p(n(119)),i=p(n(247)),o=p(n(75)),a=p(n(315)),s=p(n(244)),u=n(35),l=n(23),c=n(15),h=p(n(240)),f=p(n(727)),d=p(n(120));function p(t){return t&&t.__esModule?t:{default:t}}var _=void 0,m=new u.Matrix,y=new u.Point,v=new Float32Array(4),g=new Float32Array(4),b=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.fillAlpha=1,r.lineWidth=0,r.nativeLines=n,r.lineColor=0,r.lineAlignment=.5,r.graphicsData=[],r.tint=16777215,r._prevTint=16777215,r.blendMode=c.BLEND_MODES.NORMAL,r.currentPath=null,r._webGL={},r.isMask=!1,r.boundsPadding=0,r._localBounds=new h.default,r.dirty=0,r.fastRectDirty=-1,r.clearDirty=0,r.boundsDirty=-1,r.cachedSpriteDirty=!1,r._spriteRect=null,r._fastRect=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var n=0;n<this.graphicsData.length;++n)t.graphicsData.push(this.graphicsData[n].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,n,r,i,o){var a=t-(2*n+i),s=e-(2*r+o),u=(n-2)*t*2,l=(r-2)*e*2,c=4*(a*a+s*s),h=4*(a*u+s*l),f=u*u+l*l,d=2*Math.sqrt(c+h+f),p=Math.sqrt(c),_=2*c*p,m=2*Math.sqrt(f),y=h/p;return(_*d+p*h*(d-m)+(4*f*c-h*h)*Math.log((2*p+y+d)/(y+m)))/(4*_)},e.prototype._bezierCurveLength=function(t,e,n,r,i,o,a,s){for(var u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,y=0,v=0,g=t,b=e,w=1;w<=10;++w)y=g-(_=(p=(d=(f=1-(l=w/10))*f)*f)*t+3*d*l*n+3*f*(c=l*l)*i+(h=c*l)*a),v=b-(m=p*e+3*d*l*r+3*f*c*o+h*s),g=_,b=m,u+=Math.sqrt(y*y+v*v);return u},e.prototype._segmentsCount=function(t){var n=Math.ceil(t/e.CURVES.maxLength);return n<e.CURVES.minSegments?n=e.CURVES.minSegments:n>e.CURVES.maxSegments&&(n=e.CURVES.maxSegments),n},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this.lineAlignment=r,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var n=new u.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,a=0,s=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],l=o[o.length-1],c=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,l,t,n,r,i)):20,h=1;h<=c;++h){var f=h/c;a=u+(t-u)*f,s=l+(n-l)*f,o.push(a+(t+(r-t)*f-a)*f,s+(n+(i-n)*f-s)*f)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,n,r,i,o,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(u,l,t,n,r,i,o,a)):20;return(0,f.default)(u,l,t,n,r,i,o,a,c,s),this.dirty++,this},e.prototype.arcTo=function(t,e,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1]-e,u=a-t,l=r-e,c=n-t,h=Math.abs(s*c-u*l);if(h<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=s*s+u*u,d=l*l+c*c,p=s*l+u*c,_=i*Math.sqrt(f)/h,m=i*Math.sqrt(d)/h,y=_*p/f,v=m*p/d,g=_*c+m*u,b=_*l+m*s,w=u*(m+y),x=s*(m+y),T=c*(_+v),E=l*(_+v),P=Math.atan2(x-b,w-g),S=Math.atan2(E-b,T-g);this.arc(g+t,b+e,i,P,S,u*l>c*s)}return this.dirty++,this},e.prototype.arc=function(t,n,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;!a&&o<=i?o+=c.PI_2:a&&i<=o&&(i+=c.PI_2);var s=o-i,u=e.CURVES.adaptive?this._segmentsCount(Math.abs(s)*r):40*Math.ceil(Math.abs(s)/c.PI_2);if(0===s)return this;var l=t+Math.cos(i)*r,h=n+Math.sin(i)*r,f=this.currentPath?this.currentPath.shape.points:null;f?f[f.length-2]===l&&f[f.length-1]===h||f.push(l,h):(this.moveTo(l,h),f=this.currentPath.shape.points);for(var d=s/(2*u),p=2*d,_=Math.cos(d),m=Math.sin(d),y=u-1,v=y%1/y,g=0;g<=y;++g){var b=d+i+p*(g+v*g),w=Math.cos(b),x=-Math.sin(b);f.push((_*w+m*x)*r+t,(_*-x+m*w)*r+n)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new u.Rectangle(t,e,n,r)),this},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new u.RoundedRectangle(t,e,n,r,i)),this},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new u.Circle(t,e,n)),this},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new u.Ellipse(t,e,n,r)),this},e.prototype.drawPolygon=function(t){var e=t,n=!0;if(e instanceof u.Polygon&&(n=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var i=new u.Polygon(e);return i.closed=n,this.drawShape(i),this},e.prototype.drawStar=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||r/2;for(var a=-1*Math.PI/2+o,s=2*n,u=c.PI_2/s,l=[],h=0;h<s;h++){var f=h%2?i:r,d=h*u+a;l.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(l)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===c.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new s.default(new o.default(o.default.WHITE)));var n=this._spriteRect;if(16777215===this.tint)n.tint=this.graphicsData[0].fillColor;else{var r=v,i=g;(0,l.hex2rgb)(this.graphicsData[0].fillColor,r),(0,l.hex2rgb)(this.tint,i),r[0]*=i[0],r[1]*=i[1],r[2]*=i[2],n.tint=(0,l.rgb2hex)(r)}n.alpha=this.graphicsData[0].fillAlpha,n.worldAlpha=this.worldAlpha*n.alpha,n.blendMode=this.blendMode,n._texture._frame.width=e.width,n._texture._frame.height=e.height,n.transform.worldTransform=this.transform.worldTransform,n.anchor.set(-e.x/e.width,-e.y/e.height),n._onAnchorUpdate(),n._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,y);for(var e=this.graphicsData,n=0;n<e.length;++n){var r=e[n];if(r.fill&&r.shape&&r.shape.contains(y.x,y.y)){if(r.holes)for(var i=0;i<r.holes.length;i++)if(r.holes[i].contains(y.x,y.y))return!1;return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0;if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,u=0,l=0;l<this.graphicsData.length;l++){var h=this.graphicsData[l],f=h.type,d=h.lineWidth;if(i=h.shape,f===c.SHAPES.RECT||f===c.SHAPES.RREC)o=i.x-d/2,a=i.y-d/2,t=o<t?o:t,e=o+(s=i.width+d)>e?o+s:e,n=a<n?a:n,r=a+(u=i.height+d)>r?a+u:r;else if(f===c.SHAPES.CIRC)o=i.x,a=i.y,t=o-(s=i.radius+d/2)<t?o-s:t,e=o+s>e?o+s:e,n=a-(u=i.radius+d/2)<n?a-u:n,r=a+u>r?a+u:r;else if(f===c.SHAPES.ELIP)o=i.x,a=i.y,t=o-(s=i.width+d/2)<t?o-s:t,e=o+s>e?o+s:e,n=a-(u=i.height+d/2)<n?a-u:n,r=a+u>r?a+u:r;else for(var p=i.points,_=0,m=0,y=0,v=0,g=0,b=0,w=0,x=0,T=0;T+2<p.length;T+=2)o=p[T],a=p[T+1],_=p[T+2],m=p[T+3],y=Math.abs(_-o),v=Math.abs(m-a),u=d,(s=Math.sqrt(y*y+v*v))<1e-9||(t=(w=(_+o)/2)-(g=(u/s*v+y)/2)<t?w-g:t,e=w+g>e?w+g:e,n=(x=(m+a)/2)-(b=(u/s*y+v)/2)<n?x-b:n,r=x+b>r?x+b:r)}else t=0,e=0,n=0,r=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=n-E,this._localBounds.maxY=r+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===c.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),r=i.default.create(n.width,n.height,t,e);_||(_=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(m),m.invert(),m.tx-=n.x,m.ty-=n.y,_.render(this,r,!0,m);var a=o.default.fromCanvas(r.baseTexture._canvasRenderTarget.canvas,t,"graphics");return a.baseTexture.resolution=e,a.baseTexture.update(),a},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var r in this._webGL)for(var i=0;i<this._webGL[r].data.length;++i)this._webGL[r].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(r.default);e.default=b,b._SPRITE_TEXTURE=null,b.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n,r,i,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],c=0,h=0,f=0,d=0,p=0;l.push(t,e);for(var _=1,m=0;_<=u;++_)f=(h=(c=1-(m=_/u))*c)*c,p=(d=m*m)*m,l.push(f*t+3*h*m*n+3*c*d*i+p*a,f*e+3*h*m*r+3*c*d*o+p*s);return l}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(23),i=n(15),o=d(n(143)),a=d(n(144)),s=d(n(729)),u=d(n(730)),l=d(n(731)),c=d(n(732)),h=d(n(733)),f=d(n(734));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.graphicsDataPool=[],r.primitiveShader=null,r.gl=n.gl,r.CONTEXT_UID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,n=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var a=this.primitiveShader;e.bindShader(a),e.state.setBlendMode(t.blendMode);for(var s=0,u=o.data.length;s<u;s++){var l=(i=o.data[s]).shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,r.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?n.drawArrays(n.LINES,0,i.points.length/6):i.vao.draw(n.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[this.CONTEXT_UID];if(n||(n=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),n.dirty=t.dirty,t.clearDirty!==n.clearDirty){n.clearDirty=t.clearDirty;for(var r=0;r<n.data.length;r++)this.graphicsDataPool.push(n.data[r]);n.data.length=0,n.lastIndex=0}for(var o=void 0,a=void 0,s=n.lastIndex;s<t.graphicsData.length;s++){var u=t.graphicsData[s];o=this.getWebGLData(n,0),u.nativeLines&&u.lineWidth&&(a=this.getWebGLData(n,0,!0),n.lastIndex++),u.type===i.SHAPES.POLY&&(0,l.default)(u,o,a),u.type===i.SHAPES.RECT?(0,c.default)(u,o,a):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,o,a):u.type===i.SHAPES.RREC&&(0,h.default)(u,o,a),n.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<n.data.length;d++)(o=n.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,n){var r=t.data[t.data.length-1];return(!r||r.nativeLines!==n||r.points.length>32e4)&&((r=this.graphicsDataPool.pop()||new s.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=n,r.reset(e),t.data.push(r)),r.dirty=!0,r},e}(o.default);e.default=p,a.default.registerPlugin("graphics",p)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(47))&&r.__esModule?r:{default:r},o=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new i.default.VertexArrayObject(e,r).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=n(122))&&r.__esModule?r:{default:r}).default);e.default=i},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){t.points=t.shape.points.slice();var a=t.points;if(t.fill&&a.length>=6){for(var s=[],u=t.holes,l=0;l<u.length;l++){var c=u[l];s.push(a.length/2),a=a.concat(c.points)}var h=e.points,f=e.indices,d=a.length/2,p=(0,i.hex2rgb)(t.fillColor),_=t.fillAlpha,m=p[0]*_,y=p[1]*_,v=p[2]*_,g=(0,o.default)(a,s,2);if(!g)return;for(var b=h.length/6,w=0;w<g.length;w+=3)f.push(g[w]+b),f.push(g[w]+b),f.push(g[w+1]+b),f.push(g[w+2]+b),f.push(g[w+2]+b);for(var x=0;x<d;x++)h.push(a[2*x],a[2*x+1],m,y,v,_)}t.lineWidth>0&&(0,r.default)(t,e,n)};var r=a(n(146)),i=n(23),o=a(n(243));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){var r=t.shape,a=r.x,s=r.y,u=r.width,l=r.height;if(t.fill){var c=(0,o.hex2rgb)(t.fillColor),h=t.fillAlpha,f=c[0]*h,d=c[1]*h,p=c[2]*h,_=e.points,m=e.indices,y=_.length/6;_.push(a,s),_.push(f,d,p,h),_.push(a+u,s),_.push(f,d,p,h),_.push(a,s+l),_.push(f,d,p,h),_.push(a+u,s+l),_.push(f,d,p,h),m.push(y,y,y+1,y+2,y+3,y+3)}if(t.lineWidth){var v=t.points;t.points=[a,s,a+u,s,a+u,s+l,a,s+l,a,s],(0,i.default)(t,e,n),t.points=v}};var r,i=(r=n(146))&&r.__esModule?r:{default:r},o=n(23)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){var a=t.shape,s=a.x,l=a.y,c=a.width,h=a.height,f=a.radius,d=[];if(d.push(s,l+f),u(s,l+h-f,s,l+h,s+f,l+h,d),u(s+c-f,l+h,s+c,l+h,s+c,l+h-f,d),u(s+c,l+f,s+c,l,s+c-f,l,d),u(s+f,l,s,l,s,l+f+1e-10,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),_=t.fillAlpha,m=p[0]*_,y=p[1]*_,v=p[2]*_,g=e.points,b=e.indices,w=g.length/6,x=(0,r.default)(d,null,2),T=0,E=x.length;T<E;T+=3)b.push(x[T]+w),b.push(x[T]+w),b.push(x[T+1]+w),b.push(x[T+2]+w),b.push(x[T+2]+w);for(var P=0,S=d.length;P<S;P++)g.push(d[P],d[++P],m,y,v,_)}if(t.lineWidth){var M=t.points;t.points=d,(0,i.default)(t,e,n),t.points=M}};var r=a(n(243)),i=a(n(146)),o=n(23);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return t+(e-t)*n}function u(t,e,n,r,i,o){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0;p<=20;++p)u=s(t,n,_=p/20),l=s(e,r,_),c=s(n,i,_),h=s(r,o,_),f=s(u,c,_),d=s(l,h,_),a.push(f,d);return a}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){var r=t.shape,s=r.x,u=r.y,l=void 0,c=void 0;if(t.type===o.SHAPES.CIRC?(l=r.radius,c=r.radius):(l=r.width,c=r.height),0!==l&&0!==c){var h=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),f=2*Math.PI/h;if(t.fill){var d=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,_=d[0]*p,m=d[1]*p,y=d[2]*p,v=e.points,g=e.indices,b=v.length/6;g.push(b);for(var w=0;w<h+1;w++)v.push(s,u,_,m,y,p),v.push(s+Math.sin(f*w)*l,u+Math.cos(f*w)*c,_,m,y,p),g.push(b++,b++);g.push(b-1)}if(t.lineWidth){var x=t.points;t.points=[];for(var T=0;T<h+1;T++)t.points.push(s+Math.sin(f*-T)*l,u+Math.cos(f*-T)*c);(0,i.default)(t,e,n),t.points=x}}};var r,i=(r=n(146))&&r.__esModule?r:{default:r},o=n(15),a=n(23)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(120))&&r.__esModule?r:{default:r},o=n(15),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldAlpha,i=t.transform.worldTransform,a=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),n.setTransform(i.a*a,i.b*a,i.c*a,i.d*a,i.tx*a,i.ty*a),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var s=0;s<t.graphicsData.length;s++){var u=t.graphicsData[s],l=u.shape,c=u._fillTint,h=u._lineTint;if(n.lineWidth=u.lineWidth,u.type===o.SHAPES.POLY){n.beginPath(),this.renderPolygon(l.points,l.closed,n);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,n);u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.stroke())}else if(u.type===o.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fillRect(l.x,l.y,l.width,l.height)),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.strokeRect(l.x,l.y,l.width,l.height));else if(u.type===o.SHAPES.CIRC)n.beginPath(),n.arc(l.x,l.y,l.radius,0,2*Math.PI),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.stroke());else if(u.type===o.SHAPES.ELIP){var d=2*l.width,p=2*l.height,_=l.x-d/2,m=l.y-p/2;n.beginPath();var y=d/2*.5522848,v=p/2*.5522848,g=_+d,b=m+p,w=_+d/2,x=m+p/2;n.moveTo(_,x),n.bezierCurveTo(_,x-v,w-y,m,w,m),n.bezierCurveTo(w+y,m,g,x-v,g,x),n.bezierCurveTo(g,x+v,w+y,b,w,b),n.bezierCurveTo(w-y,b,_,x+v,_,x),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.stroke())}else if(u.type===o.SHAPES.RREC){var T=l.x,E=l.y,P=l.width,S=l.height,M=l.radius,O=Math.min(P,S)/2|0;M=M>O?O:M,n.beginPath(),n.moveTo(T,E+M),n.lineTo(T,E+S-M),n.quadraticCurveTo(T,E+S,T+M,E+S),n.lineTo(T+P-M,E+S),n.quadraticCurveTo(T+P,E+S,T+P,E+S-M),n.lineTo(T+P,E+M),n.quadraticCurveTo(T+P,E,T+P-M,E),n.lineTo(T+M,E),n.quadraticCurveTo(T,E,T,E+M),n.closePath(),(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,r=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255}},t.prototype.renderPolygon=function(t,e,n){n.moveTo(t[0],t[1]);for(var r=1;r<t.length/2;++r)n.lineTo(t[2*r],t[2*r+1]);e&&n.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,i.default.registerPlugin("graphics",a)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(16),o=n(23),a=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseTexture=e,this.textures={},this.data=n,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,n=(0,o.getResolutionOfUrl)(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE,o=this.baseTexture.sourceScale;n-e<r&&n<this._frameKeys.length;){var a=this._frameKeys[n],s=this._frames[a],u=s.frame;if(u){var l,c=null,h=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,f=new i.Rectangle(0,0,Math.floor(h.w*o)/this.resolution,Math.floor(h.h*o)/this.resolution);l=s.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(c=new i.Rectangle(Math.floor(s.spriteSourceSize.x*o)/this.resolution,Math.floor(s.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[a]=new i.Texture(this.baseTexture,l,f,c,s.rotated?2:0),i.Texture.addToCache(this.textures[a],a)}n++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=t.mesh,n=t.particles,r=t.extras,o=t.filters,a=t.prepare,s=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),n.ParticleContainer}},MovieClip:{get:function(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),r.AnimatedSprite}},TilingSprite:{get:function(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),r.TilingSprite}},BitmapText:{get:function(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),r.BitmapText}},blendModes:{get:function(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var l=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],c=function(e){var n=l[e];Object.defineProperty(t[n.parent],"DEFAULT",{get:function(){return i("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]},set:function(e){i("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]=e}})},h=0;h<l.length;h++)c(h);Object.defineProperties(t.settings,{PRECISION:{get:function(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),r.AnimatedSprite}}}),r&&Object.defineProperties(r,{TextureTransform:{get:function(){return i("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}}),t.DisplayObject.prototype.generateTexture=function(t,e,n){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,n)},t.Graphics.prototype.generateTexture=function(t,e){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return i("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,n,r){this.legacyRenderer.render(t,this,n,e,!r),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},r.BitmapText&&(r.BitmapText.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),t.Text.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return i("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return i("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return i("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return i("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),n=-1;this._fontSize=26;for(var r=0;r<e.length;++r)if(e[r].match(/(px|pt|em|%)/)){n=r,this._fontSize=e[r];break}this._fontWeight="normal";for(var o=0;o<n;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(n>-1&&n<e.length-1){this._fontFamily="";for(var a=n+1;a<e.length;++a)this._fontFamily+=e[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,n){t.Texture.addToCache(e,n),i("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return i("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return i("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var f=!0;if(Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),f=t},get:function(){return f}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(t,e){return i("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),a.canvas&&Object.defineProperty(a.canvas,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.webgl&&Object.defineProperty(a.webgl,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),s.Loader){var d=s.Resource,p=s.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return i("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var r={};function i(t){if(!r[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),r[t]=!0}}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(318);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return o(r).default}});var i=n(739);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),i=a(n(241)),o=a(n(318));function a(t){return t&&t.__esModule?t:{default:t}}r.utils.mixins.delayMixin(r.DisplayObject.prototype,o.default);var s=100,u=0,l=0,c=2,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement("div");n.style.width=s+"px",n.style.height=s+"px",n.style.position="absolute",n.style.top=u+"px",n.style.left=l+"px",n.style.zIndex=c,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,n=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var a=this.children[o];if(a.renderId!==this.renderId)a._accessibleActive=!1,r.utils.removeItems(this.children,o,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=a._accessibleDiv;var s=a.hitArea,u=a.worldTransform;a.hitArea?(i.style.left=(u.tx+s.x*u.a)*e+"px",i.style.top=(u.ty+s.y*u.d)*n+"px",i.style.width=s.width*u.a*e+"px",i.style.height=s.height*u.d*n+"px"):(s=a.getBounds(),this.capHitArea(s),i.style.left=s.x*e+"px",i.style.top=s.y*n+"px",i.style.width=s.width*e+"px",i.style.height=s.height*n+"px",i.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(i.title=a.accessibleTitle),i.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&i.setAttribute("aria-label",a.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=s+"px",e.style.height=s+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=c,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=h,r.WebGLRenderer.registerPlugin("accessibility",h),r.CanvasRenderer.registerPlugin("accessibility",h)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(741);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return o(r).default}});var i=n(742);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),i=new r.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=!1,u=void 0,l=!1;t&&(t instanceof r.RenderTexture?u=t:(u=this.renderer.generateTexture(t),l=!0)),u?(o=(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=u.frame,s=!1):(o=(n=this.renderer.rootRenderTarget).resolution,s=!0,(a=i).width=n.size.width,a.height=n.size.height);var c=a.width*o,h=a.height*o,f=new r.CanvasRenderTarget(c,h);if(n){e.bindRenderTarget(n);var d=new Uint8Array(4*c*h),p=e.gl;p.readPixels(a.x*o,a.y*o,c,h,p.RGBA,p.UNSIGNED_BYTE,d);var _=f.context.getImageData(0,0,c,h);_.data.set(d),f.context.putImageData(_,0,0),s&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-h))}return l&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0,u=!1;t&&(t instanceof r.RenderTexture?s=t:(s=this.renderer.generateTexture(t),u=!0)),s?(o=(n=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=s.frame):(o=(n=this.renderer.rootRenderTarget).resolution,(a=i).width=n.size.width,a.height=n.size.height);var l=a.width*o,c=a.height*o,h=new Uint8Array(4*l*c);if(n){e.bindRenderTarget(n);var f=e.gl;f.readPixels(a.x*o,a.y*o,l,c,f.RGBA,f.UNSIGNED_BYTE,h)}return u&&s.destroy(!0),h},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,r.WebGLRenderer.registerPlugin("extract",o)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),i=new r.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0;t&&(s=t instanceof r.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,(a=i).width=this.renderer.width,a.height=this.renderer.height);var u=a.width*o,l=a.height*o,c=new r.CanvasRenderTarget(u,l),h=n.getImageData(a.x*o,a.y*o,u,l);return c.context.putImageData(h,0,0),c.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0;return t&&(s=t instanceof r.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,(a=i).width=e.width,a.height=e.height),n.getImageData(0,0,a.width*o,a.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,r.CanvasRenderer.registerPlugin("extract",o)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n[0]instanceof i.Texture?n[0]:n[0].texture));return o._textures=null,o._durations=null,o.textures=n,o._autoUpdate=!1!==r,o.animationSpeed=1,o.loop=!0,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.Texture.fromFrame(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.Texture.fromImage(t[r]));return new e(n)},r(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),a=(r=n(248))&&r.__esModule?r:{default:r},s=new o.Point,u=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return a.tileTransform=new o.TransformStatic,a._width=r,a._height=i,a._canvasPattern=null,a.uvTransform=n.transform||new o.TextureMatrix(n),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,r=this.worldTransform,i=t.resolution,s=e.baseTexture,u=s.resolution,l=this.tilePosition.x/this.tileScale.x%e._frame.width*u,c=this.tilePosition.y/this.tileScale.y%e._frame.height*u;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var h=new o.CanvasRenderTarget(e._frame.width,e._frame.height,u);16777215!==this.tint?(this.tintedTexture=a.default.getTintedTexture(this,this.tint),h.context.drawImage(this.tintedTexture,0,0)):h.context.drawImage(s.source,-e._frame.x*u,-e._frame.y*u),this.cachedTint=this.tint,this._canvasPattern=h.context.createPattern(h.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.scale(this.tileScale.x/u,this.tileScale.y/u);var f=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(n.translate(l,c),n.fillRect(-l+f,-c+d,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u)):(n.translate(l+f,c+d),n.fillRect(-l,-c,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,s);var e=this._width,n=this._height,r=-e*this.anchor._x;if(s.x>=r&&s.x<r+e){var i=-n*this.anchor._y;if(s.y>=i&&s.y<i+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,n,r){return new e(o.Texture.from(t),n,r)},e.fromFrame=function(t,n,r){var i=o.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,n,r)},e.fromImage=function(t,n,r,i,a){return new e(o.Texture.fromImage(t,i,a),n,r)},i(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),i=n(15);n(57);var o=new r.Matrix,a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.shader=null,r.simpleShader=null,r.quad=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new r.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new r.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,n=this.quad;e.bindVao(n.vao);var a=n.vertices;a[0]=a[6]=t._width*-t.anchor.x,a[1]=a[3]=t._height*-t.anchor.y,a[2]=a[4]=t._width*(1-t.anchor.x),a[5]=a[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((a=n.uvs)[0]=a[6]=-t.anchor.x,a[1]=a[3]=-t.anchor.y,a[2]=a[4]=1-t.anchor.x,a[5]=a[7]=1-t.anchor.y),n.upload();var s=t._texture,u=s.baseTexture,l=t.tileTransform.localTransform,c=t.uvTransform,h=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;h&&(u._glTextures[e.CONTEXT_UID]?h=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var f=h?this.simpleShader:this.shader;e.bindShader(f);var d=s.width,p=s.height,_=t._width,m=t._height;o.set(l.a*d/_,l.b*d/m,l.c*p/_,l.d*p/m,l.tx/_,l.ty/m),o.invert(),h?o.prepend(c.mapCoord):(f.uniforms.uMapCoord=c.mapCoord.toArray(!0),f.uniforms.uClampFrame=c.uClampFrame,f.uniforms.uClampOffset=c.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=r.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(s),e.setBlendMode(r.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(r.ObjectRenderer);e.default=a,r.WebGLRenderer.registerPlugin("tilingSprite",a)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=u(n(287)),a=n(23),s=u(n(33));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||"left",name:null,size:0},i.font=r.font,i._text=n,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],n=this._font.size/t.size,r=new i.Point,o=[],a=[],s=this.text.replace(/(?:\r\n|\r)/g,"\n"),u=s.length,l=this._maxWidth*t.size/this._font.size,c=null,h=0,f=0,d=0,p=-1,_=0,m=0,y=0,v=0;v<u;v++){var g=s.charCodeAt(v),b=s.charAt(v);if(/(?:\s)/.test(b)&&(p=v,_=h),"\r"!==b&&"\n"!==b){var w=t.chars[g];w&&(c&&w.kerning[c]&&(r.x+=w.kerning[c]),o.push({texture:w.texture,line:d,charCode:g,position:new i.Point(r.x+w.xOffset+this._letterSpacing/2,r.y+w.yOffset)}),r.x+=w.xAdvance+this._letterSpacing,h=r.x,y=Math.max(y,w.yOffset+w.texture.height),c=g,-1!==p&&l>0&&r.x>l&&(++m,i.utils.removeItems(o,1+p-m,1+v-p),v=p,p=-1,a.push(_),f=Math.max(f,_),d++,r.x=0,r.y+=t.lineHeight,c=null))}else a.push(h),f=Math.max(f,h),++d,++m,r.x=0,r.y+=t.lineHeight,c=null}var x=s.charAt(s.length-1);"\r"!==x&&"\n"!==x&&(/(?:\s)/.test(x)&&(h=_),a.push(h),f=Math.max(f,h));for(var T=[],E=0;E<=d;E++){var P=0;"right"===this._font.align?P=f-a[E]:"center"===this._font.align&&(P=(f-a[E])/2),T.push(P)}for(var S=o.length,M=this.tint,O=0;O<S;O++){var I=this._glyphs[O];I?I.texture=o[O].texture:(I=new i.Sprite(o[O].texture),this._glyphs.push(I)),I.position.x=(o[O].position.x+T[o[O].line])*n,I.position.y=o[O].position.y*n,I.scale.x=I.scale.y=n,I.tint=M,I.parent||this.addChild(I)}for(var k=S;k<this._glyphs.length;++k)this.removeChild(this._glyphs[k]);if(this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var L=0;L<S;L++)this._glyphs[L].x-=this._textWidth*this.anchor.x,this._glyphs[L].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*n},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,n){var r={},o=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0],l=t.getElementsByTagName("page"),c=(0,a.getResolutionOfUrl)(l[0].getAttribute("file"),s.default.RESOLUTION),h={};r.font=o.getAttribute("face"),r.size=parseInt(o.getAttribute("size"),10),r.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/c,r.chars={},n instanceof i.Texture&&(n=[n]);for(var f=0;f<l.length;f++){var d=l[f].getAttribute("id"),p=l[f].getAttribute("file");h[d]=n instanceof Array?n[f]:n[p]}for(var _=t.getElementsByTagName("char"),m=0;m<_.length;m++){var y=_[m],v=parseInt(y.getAttribute("id"),10),g=y.getAttribute("page")||0,b=new i.Rectangle(parseInt(y.getAttribute("x"),10)/c+h[g].frame.x/c,parseInt(y.getAttribute("y"),10)/c+h[g].frame.y/c,parseInt(y.getAttribute("width"),10)/c,parseInt(y.getAttribute("height"),10)/c);r.chars[v]={xOffset:parseInt(y.getAttribute("xoffset"),10)/c,yOffset:parseInt(y.getAttribute("yoffset"),10)/c,xAdvance:parseInt(y.getAttribute("xadvance"),10)/c,kerning:{},texture:new i.Texture(h[g].baseTexture,b),page:g}}for(var w=t.getElementsByTagName("kerning"),x=0;x<w.length;x++){var T=w[x],E=parseInt(T.getAttribute("first"),10)/c,P=parseInt(T.getAttribute("second"),10)/c,S=parseInt(T.getAttribute("amount"),10)/c;r.chars[P]&&(r.chars[P].kerning[E]=S)}return e.fonts[r.font]=r,r},r(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=l,l.fonts={}},function(t,e,n){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),i=s(n(75)),o=s(n(107)),a=n(23);function s(t){return t&&t.__esModule?t:{default:t}}var u=r.DisplayObject,l=new r.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var c=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new c),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters){var s=this._filters[0].padding;n.pad(s)}var u=t._activeRenderTarget,c=t.filterManager.filterStack,h=r.RenderTexture.create(0|n.width,0|n.height),f="cacheAsBitmap_"+(0,a.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(h.baseTexture,f),i.default.addToCache(h,f);var d=l;d.tx=-n.x,d.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,h,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=c,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var p=new r.Sprite(h);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-n.x/n.width,p.anchor.y=-n.y/n.height,p.alpha=e,p._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),n=this.alpha;this.alpha=1;var s=t.context,u=r.RenderTexture.create(0|e.width,0|e.height),c="cacheAsBitmap_"+(0,a.uid)();this._cacheData.textureCacheId=c,o.default.addToCache(u.baseTexture,c),i.default.addToCache(u,c);var h=l;this.transform.localTransform.copy(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,h,!1),t.context=s,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var f=new r.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f._bounds=this._bounds,f.alpha=n,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=f,this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,n){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16));r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,n){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16));r.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new r.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(751);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return h(r).default}});var i=n(752);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return h(i).default}});var o=n(753);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return h(o).default}});var a=n(754);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return h(a).default}});var s=n(320);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return h(s).default}});var u=n(324);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return h(u).default}});var l=n(755);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return h(l).default}});var c=n(756);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return h(c).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16));n(57);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.Filter);e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16));n(57);var o=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=n,i.seed=r,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16));n(57);var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new i.Matrix;n.renderable=!1;var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return a.maskSprite=n,a.maskMatrix=o,a.uniforms.mapSampler=n._texture,a.uniforms.filterMatrix=o,a.uniforms.scale={x:1,y:1},null!=r||(r=20),a.scale=new i.Point(r,r),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,n)},r(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=s(n(320)),a=s(n(324));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return l.blurXFilter=new o.default(n,r,s,u),l.blurYFilter=new a.default(n,r,s,u),l.padding=0,l.resolution=s||i.settings.RESOLUTION,l.quality=r||4,l.blur=n||8,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){var r=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,r,!0),this.blurYFilter.apply(t,r,n,!1),t.returnRenderTarget(r)},r(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16));n(57);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n.alpha=1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,u=((r=r||3375104)>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,l,c,e=e||.15,0,o-u,a-l,s-c,0,0];this._loadMatrix(h,i)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16));n(57);var o=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return r.alpha=n,r.glShaderKey="alpha",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=n(325);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return u(r).default}});var i=n(758);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}});var o=n(328);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var a=n(327);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return u(a).default}});var s=n(326);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=c(n(325)),a=c(n(326)),s=c(n(327)),u=c(n(96)),l=c(n(328));function c(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,l.default);var h=1,f={target:null,data:{global:null}},d=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r=r||{},s.renderer=n,s.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,s.interactionFrequency=r.interactionFrequency||10,s.mouse=new o.default,s.mouse.identifier=h,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[h]=s.mouse,s.interactionDataPool=[],s.eventData=new a.default,s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.mouseOverRenderer=!1,s.supportsTouchEvents="ontouchstart"in window,s.supportsPointerEvents=!!window.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:"inherit",pointer:"pointer"},s.currentCursorMode=null,s.cursor=null,s._tempPoint=new i.Point,s.resolution=1,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&"touch"!==n.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":r(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.mapPositionToPoint=function(t,e,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*i,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},e.prototype.processInteractive=function(t,e,n,r,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,u=!1)),s=!1):e._mask&&r&&(e._mask.containsPoint(o)||(r=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,c=l.length-1;c>=0;c--){var h=l[c],f=this.processInteractive(t,h,n,r,s);if(f){if(!h.parent)continue;s=!1,f&&(t.target&&(r=!1),a=!0)}}return i&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),n&&n(t,e,!!a))),a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var r=t.data,i=t.data.identifier;if(n)if(e.trackedPointers[i]||(e.trackedPointers[i]=new s.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var r=this.normalizeToPointerData(t),i=r.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.renderer._lastObjectRendered,n,e||!o),this.emit(e?"pointercancel":"pointerup"+o,l),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+o:"mouseup"+o,l)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(s.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r=t.data,i=t.data.identifier,o=e.trackedPointers[i],a="touch"===r.pointerType,u="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(u){var c=2===r.button,h=s.default.FLAGS,f=c?h.RIGHT_DOWN:h.LEFT_DOWN,d=void 0!==o&&o.flags&f;n?(this.dispatchEvent(e,c?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,c?"rightclick":"click",t),l=!0)):d&&this.dispatchEvent(e,c?"rightupoutside":"mouseupoutside",t),o&&(c?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(u&&!l||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t;var s="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=e.trackedPointers[i];n&&!a&&(a=e.trackedPointers[i]=new s.default(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,n=void 0;return e===h||"mouse"===t.pointerType?n=this.mouse:this.activeInteractionData[e]?n=this.activeInteractionData[e]:((n=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=n),n.copyEvent(t),n},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var i=t.changedTouches[n];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=h),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,i.WebGLRenderer.registerPlugin("interaction",d),i.CanvasRenderer.registerPlugin("interaction",d)},function(t,e,n){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var r=n(329);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return l(r).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return r.parse}});var i=n(334);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return l(i).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=n(335);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return l(o).default}});var a=n(123);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return a.Resource}});var s=l(n(316)),u=l(n(761));function l(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var c=new u.default;c.destroy=function(){},e.shared=c;var h=s.default.prototype;h._loader=null,Object.defineProperty(h,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?c:new u.default}return this._loader}}),h._parentDestroy=h.destroy,h.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,n){"use strict";e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(330)),a=l(n(331)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(332)),u=l(n(250));function l(t){return t&&t.__esModule?t:{default:t}}var c=/(#[\w-]+)?$/,h=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,n){return e._loadResource(t,n)},this._queue=s.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return t.prototype.add=function(t,e,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":r(t))&&(i=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(i=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.default(t,e,n),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,s=[],l=0;l<a.children.length;++l)a.children[l].isComplete||s.push(a.children[l]);var c=a.progressChunk*(s.length+1)/(s.length+2);a.children.push(this.resources[t]),a.progressChunk=c;for(var h=0;h<s.length;++h)s[h].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,a.default)(t,{strictMode:!0}),n=void 0;if(n=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=c.exec(n)[0];-1!==(n=n.substr(0,n.length-r.length)).indexOf("?")?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=r}return n},t.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,s.eachSeries(this._beforeMiddleware,function(e,r){e.call(n,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),s.eachSeries(this._afterMiddleware,function(n,r){n.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},i(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();e.default=h},function(t,e,n){"use strict";e.__esModule=!0;var r=l(n(123)),i=n(762),o=l(n(96)),a=l(n(335)),s=l(n(334)),u=l(n(329));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));o.default.call(i);for(var a=0;a<e._pixiMiddleware.length;++a)i.use(e._pixiMiddleware[a]());return i.onStart.add(function(t){return i.emit("start",t)}),i.onProgress.add(function(t,e){return i.emit("progress",t,e)}),i.onError.add(function(t,e,n){return i.emit("error",t,e,n)}),i.onLoad.add(function(t,e){return i.emit("load",t,e)}),i.onComplete.add(function(t,e){return i.emit("complete",t,e)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(r.default);for(var h in e.default=c,o.default.prototype)c.prototype[h]=o.default.prototype[h];c._pixiMiddleware=[i.blobMiddlewareFactory,a.default,s.default,u.default];var f=r.default.Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,n){"use strict";e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===i.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=(u=s.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=u,t.type=i.default.TYPE.IMAGE,t.data.onload=function(){s.revokeObjectURL(u),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===n?"undefined":r(n)))return n.v}}else{var a=t.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image"))return t.data=new Image,t.data.src="data:"+a+";base64,"+o.default.encodeBinary(t.xhr.responseText),t.type=i.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var u;e()}else e()}};var i=a(n(250)),o=a(n(333));function a(t){return t&&t.__esModule?t:{default:t}}var s=window.URL||window.webkitURL},function(t,e,n){"use strict";e.__esModule=!0;var r=n(124);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return l(r).default}});var i=n(764);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return l(i).default}});var o=n(765);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return l(o).default}});var a=n(336);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return l(a).default}});var s=n(766);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return l(s).default}});var u=n(767);function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return l(u).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),i=a(n(47)),o=a(n(124));function a(t){return t&&t.__esModule?t:{default:t}}n(57);var s=r.Matrix.IDENTITY,u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.shader=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,n=e.gl,a=t._texture;if(a.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(n,t.vertices,n.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(n,t.uvs,n.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(n,t.indices,n.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new i.default.VertexArrayObject(n).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),t.vertexDirty!==u.vertexDirty&&(u.vertexDirty=t.vertexDirty,u.vertexBuffer.upload(t.vertices)),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(a),e.state.setBlendMode(r.utils.correctBlendMode(t.blendMode,a.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=s.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var l=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;u.vao.draw(l,t.indices.length,0)}},e}(r.ObjectRenderer);e.default=u,r.WebGLRenderer.registerPlugin("mesh",u)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=(r=n(124))&&r.__esModule?r:{default:r},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldTransform,i=e.resolution;e.roundPixels?n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i|0,r.ty*i|0):n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,n=0;n<e-2;n++){var r=2*n;this._renderDrawTriangle(t,r,r+2,r+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,n=e.length,r=0;r<n;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];this._renderDrawTriangle(t,i,o,a)}},t.prototype._renderDrawTriangle=function(t,e,n,r){var i=this.renderer.context,o=t.uvs,a=t.vertices,s=t._texture;if(s.valid){var u=s.baseTexture,l=u.source,c=u.width,h=u.height,f=void 0,d=void 0,p=void 0,_=void 0,m=void 0,y=void 0;if(t.uploadUvTransform){var v=t._uvTransform.mapCoord;f=(o[e]*v.a+o[e+1]*v.c+v.tx)*u.width,d=(o[n]*v.a+o[n+1]*v.c+v.tx)*u.width,p=(o[r]*v.a+o[r+1]*v.c+v.tx)*u.width,_=(o[e]*v.b+o[e+1]*v.d+v.ty)*u.height,m=(o[n]*v.b+o[n+1]*v.d+v.ty)*u.height,y=(o[r]*v.b+o[r+1]*v.d+v.ty)*u.height}else f=o[e]*u.width,d=o[n]*u.width,p=o[r]*u.width,_=o[e+1]*u.height,m=o[n+1]*u.height,y=o[r+1]*u.height;var g=a[e],b=a[n],w=a[r],x=a[e+1],T=a[n+1],E=a[r+1],P=t.canvasPadding/this.renderer.resolution;if(P>0){var S=P/Math.abs(t.worldTransform.a),M=P/Math.abs(t.worldTransform.d),O=(g+b+w)/3,I=(x+T+E)/3,k=g-O,L=x-I,A=Math.sqrt(k*k+L*L);g=O+k/A*(A+S),x=I+L/A*(A+M),L=T-I,b=O+(k=b-O)/(A=Math.sqrt(k*k+L*L))*(A+S),T=I+L/A*(A+M),L=E-I,w=O+(k=w-O)/(A=Math.sqrt(k*k+L*L))*(A+S),E=I+L/A*(A+M)}i.save(),i.beginPath(),i.moveTo(g,x),i.lineTo(b,T),i.lineTo(w,E),i.closePath(),i.clip();var D=f*m+_*p+d*y-m*p-_*d-f*y,R=g*m+_*w+b*y-m*w-_*b-g*y,C=f*b+g*p+d*w-b*p-g*d-f*w,j=f*m*w+_*b*p+g*d*y-g*m*p-_*d*w-f*b*y,Y=x*m+_*E+T*y-m*E-_*T-x*y,N=f*T+x*p+d*E-T*p-x*d-f*E,B=f*m*E+_*T*p+x*d*y-x*m*p-_*d*E-f*T*y;i.transform(R/D,Y/D,C/D,N/D,j/D,B/D),i.drawImage(l,0,0,c*u.resolution,h*u.resolution,0,0,c,h),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,n=t.vertices,r=n.length/2;e.beginPath();for(var i=1;i<r-2;++i){var o=2*i,a=n[o],s=n[o+1],u=n[o+2],l=n[o+3],c=n[o+4],h=n[o+5];e.moveTo(a,s),e.lineTo(u,l),e.lineTo(c,h)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,i.CanvasRenderer.registerPlugin("mesh",a)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(336),a=10,s=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,4,4));return u._origWidth=n.orig.width,u._origHeight=n.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=void 0!==r?r:a,u._rightWidth=void 0!==o?o:a,u._topHeight=void 0!==i?i:a,u._bottomHeight=void 0!==s?s:a,u.refresh(!0),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,n=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var n=this.worldTransform,r=t.resolution;t.roundPixels?e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r|0,n.ty*r|0):e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r);var i=this._texture.baseTexture,o=i.source,a=i.width*i.resolution,s=i.height*i.resolution;this.drawSegment(e,o,a,s,0,1,10,11),this.drawSegment(e,o,a,s,2,3,12,13),this.drawSegment(e,o,a,s,4,5,14,15),this.drawSegment(e,o,a,s,8,9,18,19),this.drawSegment(e,o,a,s,10,11,20,21),this.drawSegment(e,o,a,s,12,13,22,23),this.drawSegment(e,o,a,s,16,17,26,27),this.drawSegment(e,o,a,s,18,19,28,29),this.drawSegment(e,o,a,s,20,21,30,31)},e.prototype.drawSegment=function(t,e,n,r,i,o,a,s){var u=this.uvs,l=this.vertices,c=(u[a]-u[i])*n,h=(u[s]-u[o])*r,f=l[a]-l[i],d=l[s]-l[o];c<1&&(c=1),h<1&&(h=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*n,u[o]*r,c,h,l[i],l[o],f,d)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,n=this._texture;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(((r=o)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.points=r,i.vertices=new Float32Array(4*r.length),i.uvs=new Float32Array(4*r.length),i.colors=new Float32Array(2*r.length),i.indices=new Uint16Array(2*r.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,n=this.indices,r=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,r[0]=1,r[1]=1,n[0]=0,n[1]=1;for(var i=t.length,o=1;o<i;o++){var a=4*o,s=o/(i-1);e[a]=s,e[a+1]=0,e[a+2]=s,e[a+3]=1,r[a=2*o]=1,r[a+1]=1,n[a=2*o]=a,n[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],n=void 0,r=0,i=0,o=this.vertices,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;i=-((n=s<t.length-1?t[s+1]:u).x-e.x),r=n.y-e.y;var c=10*(1-s/(a-1));c>1&&(c=1);var h=Math.sqrt(r*r+i*i),f=this._texture.height/2;r/=h,i/=h,r*=f,i*=f,o[l]=u.x+r,o[l+1]=u.y+i,o[l+2]=u.x-r,o[l+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((r=n(124))&&r.__esModule?r:{default:r}).default);e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r=n(769);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return o(r).default}});var i=n(770);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=n(23),a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,r=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>n&&(o=n),s._properties=[!1,!0,!1,!1,!1],s._maxSize=n,s._batchSize=o,s._glBuffers={},s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=i.BLEND_MODES.NORMAL,s.autoResize=a,s.roundPixels=!0,s.baseTexture=null,s.setProperties(r),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,r=!0,i=0,o=0,a=0,s=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l=this.children[u];if(l.visible){var c=l._texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)==0)r&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx*t.resolution,n.ty*t.resolution),r=!1),i=l.anchor.x*(-c.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-c.height*l.scale.y)+l.position.y+.5,a=c.width*l.scale.x,s=c.height*l.scale.y;else{r||(r=!0),l.displayObjectUpdateTransform();var h=l.worldTransform;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution|0,h.ty*t.resolution|0):e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution,h.ty*t.resolution),i=l.anchor.x*-c.width+.5,o=l.anchor.y*-c.height+.5,a=c.width,s=c.height}var f=l._texture.baseTexture.resolution;e.drawImage(l._texture.baseTexture.source,c.x*f,c.y*f,c.width*f,c.height*f,i*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),i=s(n(771)),o=s(n(772)),a=n(23);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new r.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,n=t._maxSize,i=t._batchSize,o=this.renderer,a=e.length;if(0!==a){a>n&&(a=n);var s=t._glBuffers[o.CONTEXT_UID];s||(s=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(r.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var l=o.gl,c=t.worldTransform.copy(this.tempMatrix);c.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=c.toArray(!0),this.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var h=!1,f=0,d=0;f<a;f+=i,d+=1){var p=a-f;if(p>i&&(p=i),d>=s.length){if(!t.autoResize)break;s.push(this._generateOneMoreBuffer(t))}var _=s[d];_.uploadDynamic(e,f,p);var m=t._bufferUpdateIDs[d]||0;(h=h||_._updateID<m)&&(_._updateID=t._updateID,_.uploadStatic(e,f,p)),o.bindVao(_.vao),_.vao.draw(l.TRIANGLES,6*p)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,n=[],r=t._maxSize,i=t._batchSize,a=t._properties,s=0;s<r;s+=i)n.push(new o.default(e,this.properties,a,i));return n},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,n=t._batchSize,r=t._properties;return new o.default(e,this.properties,r,n)},e.prototype.uploadVertices=function(t,e,n,r,i,o){for(var a=0,s=0,u=0,l=0,c=0;c<n;++c){var h=t[e+c],f=h._texture,d=h.scale.x,p=h.scale.y,_=f.trim,m=f.orig;_?(a=(s=_.x-h.anchor.x*m.width)+_.width,u=(l=_.y-h.anchor.y*m.height)+_.height):(a=m.width*(1-h.anchor.x),s=m.width*-h.anchor.x,u=m.height*(1-h.anchor.y),l=m.height*-h.anchor.y),r[o]=s*d,r[o+1]=l*p,r[o+i]=a*d,r[o+i+1]=l*p,r[o+2*i]=a*d,r[o+2*i+1]=u*p,r[o+3*i]=s*d,r[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,n,r,i,o){for(var a=0;a<n;++a){var s=t[e+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,n,r,i,o){for(var s=0;s<n;++s){var u=t[e+s],l=u._texture.baseTexture.premultipliedAlpha,c=u.alpha,h=c<1&&l?(0,a.premultiplyTint)(u._tintRGB,c):u._tintRGB+(255*c<<24);r[o]=h,r[o+i]=h,r[o+2*i]=h,r[o+3*i]=h,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(r.ObjectRenderer);e.default=u,r.WebGLRenderer.registerPlugin("particle",u)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=n(122))&&r.__esModule?r:{default:r}).default);e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(47)),i=o(n(249));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<n.length;++o){var a=n[o];a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,unsignedByte:a.unsignedByte,offset:a.offset},r[o]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=r.default.GLBuffer.createVertexBuffer(t,a,t.STREAM_DRAW);var s=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var l=this.staticProperties[u];l.offset=s,s+=l.size,this.staticStride+=l.size}var c=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(c),this.staticDataUint32=new Uint32Array(c),this.staticBuffer=r.default.GLBuffer.createVertexBuffer(t,c,t.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var h=0;h<this.dynamicProperties.length;++h){var f=this.dynamicProperties[h];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(t,e,n,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(t,e,n,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=n(774);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return u(r).default}});var i=n(775);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return u(i).default}});var o=n(251);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}});var a=n(337);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return u(a).default}});var s=n(776);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.uploadHookHelper=r.renderer,r.registerFindHook(u),r.registerUploadHook(a),r.registerUploadHook(s),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=n(251))&&r.__esModule?r:{default:r}).default);function a(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function s(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function u(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=o,i.WebGLRenderer.registerPlugin("prepare",o)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),o=n(251),a=16,s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.uploadHookHelper=r,r.canvas=document.createElement("canvas"),r.canvas.width=a,r.canvas.height=a,r.ctx=r.canvas.getContext("2d"),r.registerUploadHook(u),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(((r=o)&&r.__esModule?r:{default:r}).default);function u(t,e){if(e instanceof i.BaseTexture){var n=e.source,r=0===n.width?t.canvas.width:Math.min(t.canvas.width,n.width),o=0===n.height?t.canvas.height:Math.min(t.canvas.height,n.height);return t.ctx.drawImage(n,0,0,r,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=s,i.CanvasRenderer.registerPlugin("prepare",s)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=r},function(t,e){var n,r,i,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});!function(t){!function(t){var e,n,r,i=function(){function t(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=n}return t.prototype.apply=function(t,e,n,r,i,o,a,s){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,l=0,c=u.length;l<c;l++)u[l].apply(t,e,n,i,o,a,s)},t.binarySearch=function(t,e,n){void 0===n&&(n=1);var r=0,i=t.length/n-2;if(0==i)return n;for(var o=i>>>1;;){if(t[(o+1)*n]<=e?r=o+1:i=o,r==i)return(r+1)*n;o=r+i>>>1}},t.linearSearch=function(t,e,n){for(var r=0,i=t.length-n;r<=i;r+=n)if(t[r]>e)return r;return-1},t}();t.Animation=i,function(t){t[t.setup=0]="setup",t[t.current=1]="current",t[t.currentLayered=2]="currentLayered"}(e=t.MixPose||(t.MixPose={})),function(t){t[t.in=0]="in",t[t.out=1]="out"}(n=t.MixDirection||(t.MixDirection={})),function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"}(r=t.TimelineType||(t.TimelineType={}));var a=function(){function e(n){if(n<=0)throw new Error("frameCount must be > 0: "+n);this.curves=t.Utils.newFloatArray((n-1)*e.BEZIER_SIZE)}return e.prototype.getFrameCount=function(){return this.curves.length/e.BEZIER_SIZE+1},e.prototype.setLinear=function(t){this.curves[t*e.BEZIER_SIZE]=e.LINEAR},e.prototype.setStepped=function(t){this.curves[t*e.BEZIER_SIZE]=e.STEPPED},e.prototype.getCurveType=function(t){var n=t*e.BEZIER_SIZE;if(n==this.curves.length)return e.LINEAR;var r=this.curves[n];return r==e.LINEAR?e.LINEAR:r==e.STEPPED?e.STEPPED:e.BEZIER},e.prototype.setCurve=function(t,n,r,i,o){var a=.03*(2*-n+i),s=.03*(2*-r+o),u=.006*(3*(n-i)+1),l=.006*(3*(r-o)+1),c=2*a+u,h=2*s+l,f=.3*n+a+.16666667*u,d=.3*r+s+.16666667*l,p=t*e.BEZIER_SIZE,_=this.curves;_[p++]=e.BEZIER;for(var m=f,y=d,v=p+e.BEZIER_SIZE-1;p<v;p+=2)_[p]=m,_[p+1]=y,f+=c,d+=h,c+=u,h+=l,m+=f,y+=d},e.prototype.getCurvePercent=function(n,r){r=t.MathUtils.clamp(r,0,1);var i=this.curves,o=n*e.BEZIER_SIZE,a=i[o];if(a==e.LINEAR)return r;if(a==e.STEPPED)return 0;for(var s=0,u=++o,l=o+e.BEZIER_SIZE-1;o<l;o+=2)if((s=i[o])>=r){var c=void 0,h=void 0;return o==u?(c=0,h=0):(c=i[o-2],h=i[o-1]),h+(i[o+1]-h)*(r-c)/(s-c)}var f=i[o-1];return f+(1-f)*(r-s)/(1-s)},e.LINEAR=0,e.STEPPED=1,e.BEZIER=2,e.BEZIER_SIZE=19,e}();t.CurveTimeline=a;var s=function(n){function a(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e<<1),r}return o(a,n),a.prototype.getPropertyId=function(){return(r.rotate<<24)+this.boneIndex},a.prototype.setFrame=function(t,e,n){t<<=1,this.frames[t]=e,this.frames[t+a.ROTATION]=n},a.prototype.apply=function(t,n,r,o,s,u,l){var c=this.frames,h=t.bones[this.boneIndex];if(r<c[0])switch(u){case e.setup:return void(h.rotation=h.data.rotation);case e.current:var f=h.data.rotation-h.rotation;f-=360*(16384-(16384.499999999996-f/360|0)),h.rotation+=f*s}else if(r>=c[c.length-a.ENTRIES])if(u==e.setup)h.rotation=h.data.rotation+c[c.length+a.PREV_ROTATION]*s;else{var d=h.data.rotation+c[c.length+a.PREV_ROTATION]-h.rotation;d-=360*(16384-(16384.499999999996-d/360|0)),h.rotation+=d*s}else{var p=i.binarySearch(c,r,a.ENTRIES),_=c[p+a.PREV_ROTATION],m=c[p],y=this.getCurvePercent((p>>1)-1,1-(r-m)/(c[p+a.PREV_TIME]-m)),v=c[p+a.ROTATION]-_;v=_+(v-=360*(16384-(16384.499999999996-v/360|0)))*y,u==e.setup?(v-=360*(16384-(16384.499999999996-v/360|0)),h.rotation=h.data.rotation+v*s):(v=h.data.rotation+v-h.rotation,v-=360*(16384-(16384.499999999996-v/360|0)),h.rotation+=v*s)}},a.ENTRIES=2,a.PREV_TIME=-2,a.PREV_ROTATION=-1,a.ROTATION=1,a}(a);t.RotateTimeline=s;var u=function(n){function a(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*a.ENTRIES),r}return o(a,n),a.prototype.getPropertyId=function(){return(r.translate<<24)+this.boneIndex},a.prototype.setFrame=function(t,e,n,r){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.X]=n,this.frames[t+a.Y]=r},a.prototype.apply=function(t,n,r,o,s,u,l){var c=this.frames,h=t.bones[this.boneIndex];if(r<c[0])switch(u){case e.setup:return h.x=h.data.x,void(h.y=h.data.y);case e.current:h.x+=(h.data.x-h.x)*s,h.y+=(h.data.y-h.y)*s}else{var f=0,d=0;if(r>=c[c.length-a.ENTRIES])f=c[c.length+a.PREV_X],d=c[c.length+a.PREV_Y];else{var p=i.binarySearch(c,r,a.ENTRIES);f=c[p+a.PREV_X],d=c[p+a.PREV_Y];var _=c[p],m=this.getCurvePercent(p/a.ENTRIES-1,1-(r-_)/(c[p+a.PREV_TIME]-_));f+=(c[p+a.X]-f)*m,d+=(c[p+a.Y]-d)*m}u==e.setup?(h.x=h.data.x+f*s,h.y=h.data.y+d*s):(h.x+=(h.data.x+f-h.x)*s,h.y+=(h.data.y+d-h.y)*s)}},a.ENTRIES=3,a.PREV_TIME=-3,a.PREV_X=-2,a.PREV_Y=-1,a.X=1,a.Y=2,a}(a);t.TranslateTimeline=u;var l=function(a){function s(t){return a.call(this,t)||this}return o(s,a),s.prototype.getPropertyId=function(){return(r.scale<<24)+this.boneIndex},s.prototype.apply=function(r,o,a,u,l,c,h){var f=this.frames,d=r.bones[this.boneIndex];if(a<f[0])switch(c){case e.setup:return d.scaleX=d.data.scaleX,void(d.scaleY=d.data.scaleY);case e.current:d.scaleX+=(d.data.scaleX-d.scaleX)*l,d.scaleY+=(d.data.scaleY-d.scaleY)*l}else{var p=0,_=0;if(a>=f[f.length-s.ENTRIES])p=f[f.length+s.PREV_X]*d.data.scaleX,_=f[f.length+s.PREV_Y]*d.data.scaleY;else{var m=i.binarySearch(f,a,s.ENTRIES);p=f[m+s.PREV_X],_=f[m+s.PREV_Y];var y=f[m],v=this.getCurvePercent(m/s.ENTRIES-1,1-(a-y)/(f[m+s.PREV_TIME]-y));p=(p+(f[m+s.X]-p)*v)*d.data.scaleX,_=(_+(f[m+s.Y]-_)*v)*d.data.scaleY}if(1==l)d.scaleX=p,d.scaleY=_;else{var g=0,b=0;c==e.setup?(g=d.data.scaleX,b=d.data.scaleY):(g=d.scaleX,b=d.scaleY),h==n.out?(p=Math.abs(p)*t.MathUtils.signum(g),_=Math.abs(_)*t.MathUtils.signum(b)):(g=Math.abs(g)*t.MathUtils.signum(p),b=Math.abs(b)*t.MathUtils.signum(_)),d.scaleX=g+(p-g)*l,d.scaleY=b+(_-b)*l}}},s}(u);t.ScaleTimeline=l;var c=function(t){function n(e){return t.call(this,e)||this}return o(n,t),n.prototype.getPropertyId=function(){return(r.shear<<24)+this.boneIndex},n.prototype.apply=function(t,r,o,a,s,u,l){var c=this.frames,h=t.bones[this.boneIndex];if(o<c[0])switch(u){case e.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case e.current:h.shearX+=(h.data.shearX-h.shearX)*s,h.shearY+=(h.data.shearY-h.shearY)*s}else{var f=0,d=0;if(o>=c[c.length-n.ENTRIES])f=c[c.length+n.PREV_X],d=c[c.length+n.PREV_Y];else{var p=i.binarySearch(c,o,n.ENTRIES);f=c[p+n.PREV_X],d=c[p+n.PREV_Y];var _=c[p],m=this.getCurvePercent(p/n.ENTRIES-1,1-(o-_)/(c[p+n.PREV_TIME]-_));f+=(c[p+n.X]-f)*m,d+=(c[p+n.Y]-d)*m}u==e.setup?(h.shearX=h.data.shearX+f*s,h.shearY=h.data.shearY+d*s):(h.shearX+=(h.data.shearX+f-h.shearX)*s,h.shearY+=(h.data.shearY+d-h.shearY)*s)}},n}(u);t.ShearTimeline=c;var h=function(n){function a(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*a.ENTRIES),r}return o(a,n),a.prototype.getPropertyId=function(){return(r.color<<24)+this.slotIndex},a.prototype.setFrame=function(t,e,n,r,i,o){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.R]=n,this.frames[t+a.G]=r,this.frames[t+a.B]=i,this.frames[t+a.A]=o},a.prototype.apply=function(t,n,r,o,s,u,l){var c=t.slots[this.slotIndex],h=this.frames;if(r<h[0])switch(u){case e.setup:return void c.color.setFromColor(c.data.color);case e.current:var f=c.color,d=c.data.color;f.add((d.r-f.r)*s,(d.g-f.g)*s,(d.b-f.b)*s,(d.a-f.a)*s)}else{var p=0,_=0,m=0,y=0;if(r>=h[h.length-a.ENTRIES]){var v=h.length;p=h[v+a.PREV_R],_=h[v+a.PREV_G],m=h[v+a.PREV_B],y=h[v+a.PREV_A]}else{var g=i.binarySearch(h,r,a.ENTRIES);p=h[g+a.PREV_R],_=h[g+a.PREV_G],m=h[g+a.PREV_B],y=h[g+a.PREV_A];var b=h[g],w=this.getCurvePercent(g/a.ENTRIES-1,1-(r-b)/(h[g+a.PREV_TIME]-b));p+=(h[g+a.R]-p)*w,_+=(h[g+a.G]-_)*w,m+=(h[g+a.B]-m)*w,y+=(h[g+a.A]-y)*w}1==s?c.color.set(p,_,m,y):(f=c.color,u==e.setup&&f.setFromColor(c.data.color),f.add((p-f.r)*s,(_-f.g)*s,(m-f.b)*s,(y-f.a)*s))}},a.ENTRIES=5,a.PREV_TIME=-5,a.PREV_R=-4,a.PREV_G=-3,a.PREV_B=-2,a.PREV_A=-1,a.R=1,a.G=2,a.B=3,a.A=4,a}(a);t.ColorTimeline=h;var f=function(n){function a(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*a.ENTRIES),r}return o(a,n),a.prototype.getPropertyId=function(){return(r.twoColor<<24)+this.slotIndex},a.prototype.setFrame=function(t,e,n,r,i,o,s,u,l){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.R]=n,this.frames[t+a.G]=r,this.frames[t+a.B]=i,this.frames[t+a.A]=o,this.frames[t+a.R2]=s,this.frames[t+a.G2]=u,this.frames[t+a.B2]=l},a.prototype.apply=function(t,n,r,o,s,u,l){var c=t.slots[this.slotIndex],h=this.frames;if(r<h[0])switch(u){case e.setup:return c.color.setFromColor(c.data.color),void c.darkColor.setFromColor(c.data.darkColor);case e.current:var f=c.color,d=c.darkColor,p=c.data.color,_=c.data.darkColor;f.add((p.r-f.r)*s,(p.g-f.g)*s,(p.b-f.b)*s,(p.a-f.a)*s),d.add((_.r-d.r)*s,(_.g-d.g)*s,(_.b-d.b)*s,0)}else{var m=0,y=0,v=0,g=0,b=0,w=0,x=0;if(r>=h[h.length-a.ENTRIES]){var T=h.length;m=h[T+a.PREV_R],y=h[T+a.PREV_G],v=h[T+a.PREV_B],g=h[T+a.PREV_A],b=h[T+a.PREV_R2],w=h[T+a.PREV_G2],x=h[T+a.PREV_B2]}else{var E=i.binarySearch(h,r,a.ENTRIES);m=h[E+a.PREV_R],y=h[E+a.PREV_G],v=h[E+a.PREV_B],g=h[E+a.PREV_A],b=h[E+a.PREV_R2],w=h[E+a.PREV_G2],x=h[E+a.PREV_B2];var P=h[E],S=this.getCurvePercent(E/a.ENTRIES-1,1-(r-P)/(h[E+a.PREV_TIME]-P));m+=(h[E+a.R]-m)*S,y+=(h[E+a.G]-y)*S,v+=(h[E+a.B]-v)*S,g+=(h[E+a.A]-g)*S,b+=(h[E+a.R2]-b)*S,w+=(h[E+a.G2]-w)*S,x+=(h[E+a.B2]-x)*S}1==s?(c.color.set(m,y,v,g),c.darkColor.set(b,w,x,1)):(f=c.color,d=c.darkColor,u==e.setup&&(f.setFromColor(c.data.color),d.setFromColor(c.data.darkColor)),f.add((m-f.r)*s,(y-f.g)*s,(v-f.b)*s,(g-f.a)*s),d.add((b-d.r)*s,(w-d.g)*s,(x-d.b)*s,0))}},a.ENTRIES=8,a.PREV_TIME=-8,a.PREV_R=-7,a.PREV_G=-6,a.PREV_B=-5,a.PREV_A=-4,a.PREV_R2=-3,a.PREV_G2=-2,a.PREV_B2=-1,a.R=1,a.G=2,a.B=3,a.A=4,a.R2=5,a.G2=6,a.B2=7,a}(a);t.TwoColorTimeline=f;var d=function(){function o(e){this.frames=t.Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return o.prototype.getPropertyId=function(){return(r.attachment<<24)+this.slotIndex},o.prototype.getFrameCount=function(){return this.frames.length},o.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},o.prototype.apply=function(t,r,o,a,s,u,l){var c=t.slots[this.slotIndex];if(l!=n.out||u!=e.setup){var h=this.frames;if(o<h[0]){if(u==e.setup){var f=c.data.attachmentName;c.setAttachment(null==f?null:t.getAttachment(this.slotIndex,f))}}else{var d;d=o>=h[h.length-1]?h.length-1:i.binarySearch(h,o,1)-1;var p=this.attachmentNames[d];t.slots[this.slotIndex].setAttachment(null==p?null:t.getAttachment(this.slotIndex,p))}}else{var _=c.data.attachmentName;c.setAttachment(null==_?null:t.getAttachment(this.slotIndex,_))}},o}();t.AttachmentTimeline=d;var p=null,_=function(n){function a(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e),r.frameVertices=new Array(e),null==p&&(p=t.Utils.newFloatArray(64)),r}return o(a,n),a.prototype.getPropertyId=function(){return(r.deform<<27)+ +this.attachment.id+this.slotIndex},a.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},a.prototype.apply=function(n,r,o,a,s,u,l){var c=n.slots[this.slotIndex],h=c.getAttachment();if(h instanceof t.VertexAttachment&&h.applyDeform(this.attachment)){var f=c.attachmentVertices,d=this.frameVertices,_=d[0].length,m=t.Utils.setArraySize(f,_),y=this.frames;if(o<y[0]){var v=h;switch(u){case e.setup:var g=void 0;return null==v.bones?g=v.vertices:(g=p).length<_&&(p=g=t.Utils.newFloatArray(_)),void t.Utils.arrayCopy(g,0,m,0,_);case e.current:if(1==s)break;if(null==v.bones)for(var b=v.vertices,w=0;w<_;w++)m[w]+=(b[w]-m[w])*s;else{s=1-s;for(var x=0;x<_;x++)m[x]*=s}}}else if(o>=y[y.length-1]){var T=d[y.length-1];if(1==s)t.Utils.arrayCopy(T,0,m,0,_);else if(u==e.setup)if(null==(v=h).bones){b=v.vertices;for(var E=0;E<_;E++){var P=b[E];m[E]=P+(T[E]-P)*s}}else for(var S=0;S<_;S++)m[S]=T[S]*s;else for(var M=0;M<_;M++)m[M]+=(T[M]-m[M])*s}else{var O=i.binarySearch(y,o),I=d[O-1],k=d[O],L=y[O],A=this.getCurvePercent(O-1,1-(o-L)/(y[O-1]-L));if(1==s)for(var D=0;D<_;D++){var R=I[D];m[D]=R+(k[D]-R)*A}else if(u==e.setup)if(null==(v=h).bones){b=v.vertices;for(var C=0;C<_;C++)R=I[C],P=b[C],m[C]=P+(R+(k[C]-R)*A-P)*s}else for(var j=0;j<_;j++)R=I[j],m[j]=(R+(k[j]-R)*A)*s;else for(var Y=0;Y<_;Y++)R=I[Y],m[Y]+=(R+(k[Y]-R)*A-m[Y])*s}}},a}(a);t.DeformTimeline=_;var m=function(){function e(e){this.frames=t.Utils.newFloatArray(e),this.events=new Array(e)}return e.prototype.getPropertyId=function(){return r.event<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},e.prototype.apply=function(t,e,n,r,o,a,s){if(null!=r){var u=this.frames,l=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,r,o,a,s),e=-1;else if(e>=u[l-1])return;if(!(n<u[0])){var c=0;if(e<u[0])c=0;else for(var h=u[c=i.binarySearch(u,e)];c>0&&u[c-1]==h;)c--;for(;c<l&&n>=u[c];c++)r.push(this.events[c])}}},e}();t.EventTimeline=m;var y=function(){function o(e){this.frames=t.Utils.newFloatArray(e),this.drawOrders=new Array(e)}return o.prototype.getPropertyId=function(){return r.drawOrder<<24},o.prototype.getFrameCount=function(){return this.frames.length},o.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},o.prototype.apply=function(r,o,a,s,u,l,c){var h=r.drawOrder,f=r.slots;if(c!=n.out||l!=e.setup){var d=this.frames;if(a<d[0])l==e.setup&&t.Utils.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else{var p;p=a>=d[d.length-1]?d.length-1:i.binarySearch(d,a)-1;var _=this.drawOrders[p];if(null==_)t.Utils.arrayCopy(f,0,h,0,f.length);else for(var m=0,y=_.length;m<y;m++)h[m]=f[_[m]]}}else t.Utils.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length)},o}();t.DrawOrderTimeline=y;var v=function(a){function s(e){var n=a.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*s.ENTRIES),n}return o(s,a),s.prototype.getPropertyId=function(){return(r.ikConstraint<<24)+this.ikConstraintIndex},s.prototype.setFrame=function(t,e,n,r){t*=s.ENTRIES,this.frames[t]=e,this.frames[t+s.MIX]=n,this.frames[t+s.BEND_DIRECTION]=r},s.prototype.apply=function(t,r,o,a,u,l,c){var h=this.frames,f=t.ikConstraints[this.ikConstraintIndex];if(o<h[0])switch(l){case e.setup:return f.mix=f.data.mix,void(f.bendDirection=f.data.bendDirection);case e.current:f.mix+=(f.data.mix-f.mix)*u,f.bendDirection=f.data.bendDirection}else if(o>=h[h.length-s.ENTRIES])l==e.setup?(f.mix=f.data.mix+(h[h.length+s.PREV_MIX]-f.data.mix)*u,f.bendDirection=c==n.out?f.data.bendDirection:h[h.length+s.PREV_BEND_DIRECTION]):(f.mix+=(h[h.length+s.PREV_MIX]-f.mix)*u,c==n.in&&(f.bendDirection=h[h.length+s.PREV_BEND_DIRECTION]));else{var d=i.binarySearch(h,o,s.ENTRIES),p=h[d+s.PREV_MIX],_=h[d],m=this.getCurvePercent(d/s.ENTRIES-1,1-(o-_)/(h[d+s.PREV_TIME]-_));l==e.setup?(f.mix=f.data.mix+(p+(h[d+s.MIX]-p)*m-f.data.mix)*u,f.bendDirection=c==n.out?f.data.bendDirection:h[d+s.PREV_BEND_DIRECTION]):(f.mix+=(p+(h[d+s.MIX]-p)*m-f.mix)*u,c==n.in&&(f.bendDirection=h[d+s.PREV_BEND_DIRECTION]))}},s.ENTRIES=3,s.PREV_TIME=-3,s.PREV_MIX=-2,s.PREV_BEND_DIRECTION=-1,s.MIX=1,s.BEND_DIRECTION=2,s}(a);t.IkConstraintTimeline=v;var g=function(n){function a(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*a.ENTRIES),r}return o(a,n),a.prototype.getPropertyId=function(){return(r.transformConstraint<<24)+this.transformConstraintIndex},a.prototype.setFrame=function(t,e,n,r,i,o){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.ROTATE]=n,this.frames[t+a.TRANSLATE]=r,this.frames[t+a.SCALE]=i,this.frames[t+a.SHEAR]=o},a.prototype.apply=function(t,n,r,o,s,u,l){var c=this.frames,h=t.transformConstraints[this.transformConstraintIndex];if(r<c[0]){var f=h.data;switch(u){case e.setup:return h.rotateMix=f.rotateMix,h.translateMix=f.translateMix,h.scaleMix=f.scaleMix,void(h.shearMix=f.shearMix);case e.current:h.rotateMix+=(f.rotateMix-h.rotateMix)*s,h.translateMix+=(f.translateMix-h.translateMix)*s,h.scaleMix+=(f.scaleMix-h.scaleMix)*s,h.shearMix+=(f.shearMix-h.shearMix)*s}}else{var d=0,p=0,_=0,m=0;if(r>=c[c.length-a.ENTRIES]){var y=c.length;d=c[y+a.PREV_ROTATE],p=c[y+a.PREV_TRANSLATE],_=c[y+a.PREV_SCALE],m=c[y+a.PREV_SHEAR]}else{var v=i.binarySearch(c,r,a.ENTRIES);d=c[v+a.PREV_ROTATE],p=c[v+a.PREV_TRANSLATE],_=c[v+a.PREV_SCALE],m=c[v+a.PREV_SHEAR];var g=c[v],b=this.getCurvePercent(v/a.ENTRIES-1,1-(r-g)/(c[v+a.PREV_TIME]-g));d+=(c[v+a.ROTATE]-d)*b,p+=(c[v+a.TRANSLATE]-p)*b,_+=(c[v+a.SCALE]-_)*b,m+=(c[v+a.SHEAR]-m)*b}u==e.setup?(f=h.data,h.rotateMix=f.rotateMix+(d-f.rotateMix)*s,h.translateMix=f.translateMix+(p-f.translateMix)*s,h.scaleMix=f.scaleMix+(_-f.scaleMix)*s,h.shearMix=f.shearMix+(m-f.shearMix)*s):(h.rotateMix+=(d-h.rotateMix)*s,h.translateMix+=(p-h.translateMix)*s,h.scaleMix+=(_-h.scaleMix)*s,h.shearMix+=(m-h.shearMix)*s)}},a.ENTRIES=5,a.PREV_TIME=-5,a.PREV_ROTATE=-4,a.PREV_TRANSLATE=-3,a.PREV_SCALE=-2,a.PREV_SHEAR=-1,a.ROTATE=1,a.TRANSLATE=2,a.SCALE=3,a.SHEAR=4,a}(a);t.TransformConstraintTimeline=g;var b=function(n){function a(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*a.ENTRIES),r}return o(a,n),a.prototype.getPropertyId=function(){return(r.pathConstraintPosition<<24)+this.pathConstraintIndex},a.prototype.setFrame=function(t,e,n){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.VALUE]=n},a.prototype.apply=function(t,n,r,o,s,u,l){var c=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(r<c[0])switch(u){case e.setup:return void(h.position=h.data.position);case e.current:h.position+=(h.data.position-h.position)*s}else{var f=0;if(r>=c[c.length-a.ENTRIES])f=c[c.length+a.PREV_VALUE];else{var d=i.binarySearch(c,r,a.ENTRIES);f=c[d+a.PREV_VALUE];var p=c[d],_=this.getCurvePercent(d/a.ENTRIES-1,1-(r-p)/(c[d+a.PREV_TIME]-p));f+=(c[d+a.VALUE]-f)*_}u==e.setup?h.position=h.data.position+(f-h.data.position)*s:h.position+=(f-h.position)*s}},a.ENTRIES=2,a.PREV_TIME=-2,a.PREV_VALUE=-1,a.VALUE=1,a}(a);t.PathConstraintPositionTimeline=b;var w=function(t){function n(e){return t.call(this,e)||this}return o(n,t),n.prototype.getPropertyId=function(){return(r.pathConstraintSpacing<<24)+this.pathConstraintIndex},n.prototype.apply=function(t,r,o,a,s,u,l){var c=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(o<c[0])switch(u){case e.setup:return void(h.spacing=h.data.spacing);case e.current:h.spacing+=(h.data.spacing-h.spacing)*s}else{var f=0;if(o>=c[c.length-n.ENTRIES])f=c[c.length+n.PREV_VALUE];else{var d=i.binarySearch(c,o,n.ENTRIES);f=c[d+n.PREV_VALUE];var p=c[d],_=this.getCurvePercent(d/n.ENTRIES-1,1-(o-p)/(c[d+n.PREV_TIME]-p));f+=(c[d+n.VALUE]-f)*_}u==e.setup?h.spacing=h.data.spacing+(f-h.data.spacing)*s:h.spacing+=(f-h.spacing)*s}},n}(b);t.PathConstraintSpacingTimeline=w;var x=function(n){function a(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*a.ENTRIES),r}return o(a,n),a.prototype.getPropertyId=function(){return(r.pathConstraintMix<<24)+this.pathConstraintIndex},a.prototype.setFrame=function(t,e,n,r){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.ROTATE]=n,this.frames[t+a.TRANSLATE]=r},a.prototype.apply=function(t,n,r,o,s,u,l){var c=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(r<c[0])switch(u){case e.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case e.current:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*s,h.translateMix+=(h.data.translateMix-h.translateMix)*s}else{var f=0,d=0;if(r>=c[c.length-a.ENTRIES])f=c[c.length+a.PREV_ROTATE],d=c[c.length+a.PREV_TRANSLATE];else{var p=i.binarySearch(c,r,a.ENTRIES);f=c[p+a.PREV_ROTATE],d=c[p+a.PREV_TRANSLATE];var _=c[p],m=this.getCurvePercent(p/a.ENTRIES-1,1-(r-_)/(c[p+a.PREV_TIME]-_));f+=(c[p+a.ROTATE]-f)*m,d+=(c[p+a.TRANSLATE]-d)*m}u==e.setup?(h.rotateMix=h.data.rotateMix+(f-h.data.rotateMix)*s,h.translateMix=h.data.translateMix+(d-h.data.translateMix)*s):(h.rotateMix+=(f-h.rotateMix)*s,h.translateMix+=(d-h.translateMix)*s)}},a.ENTRIES=3,a.PREV_TIME=-3,a.PREV_ROTATE=-2,a.PREV_TRANSLATE=-1,a.ROTATE=1,a.TRANSLATE=2,a}(a);t.PathConstraintMixTimeline=x}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new i(this),this.propertyIDs=new t.IntSet,this.mixingTo=new Array,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new t.Pool(function(){return new n}),this.data=e}return e.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,r=e.length;n<r;n++){var i=e[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=t*i.timeScale;if(i.delay>0){if(i.delay-=o,i.delay>0)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(s>=0){for(a.delay=0,a.trackTime=s+t*a.timeScale,i.trackTime+=o,this.setCurrent(n,a,!0);null!=a.mixingFrom;)a.mixTime+=o,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null;null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=o}}this.queue.drain()},e.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(null==n)return!0;var r=this.updateMixingFrom(n,e);return t.mixTime>0&&(t.mixTime>=t.mixDuration||0==t.timeScale)?(0==n.totalAlpha&&(t.mixingFrom=n.mixingFrom,t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,n.trackTime+=e*n.timeScale,t.mixTime+=e*t.timeScale,!1)},e.prototype.apply=function(n){if(null==n)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,i=this.tracks,o=!1,a=0,s=i.length;a<s;a++){var u=i[a];if(!(null==u||u.delay>0)){o=!0;var l=0==a?t.MixPose.current:t.MixPose.currentLayered,c=u.alpha;null!=u.mixingFrom?c*=this.applyMixingFrom(u,n,l):u.trackTime>=u.trackEnd&&null==u.next&&(c=0);var h=u.animationLast,f=u.getAnimationTime(),d=u.animation.timelines.length,p=u.animation.timelines;if(1==c)for(var _=0;_<d;_++)p[_].apply(n,h,f,r,1,t.MixPose.setup,t.MixDirection.in);else{var m=u.timelineData,y=0==u.timelinesRotation.length;y&&t.Utils.setArraySize(u.timelinesRotation,d<<1,null);var v=u.timelinesRotation;for(_=0;_<d;_++){var g=p[_],b=m[_]>=e.FIRST?t.MixPose.setup:l;g instanceof t.RotateTimeline?this.applyRotateTimeline(g,n,f,c,b,v,_<<1,y):g.apply(n,h,f,r,c,b,t.MixDirection.in)}}this.queueEvents(u,f),r.length=0,u.nextAnimationLast=f,u.nextTrackLast=u.trackTime}}return this.queue.drain(),o},e.prototype.applyMixingFrom=function(n,r,i){var o=n.mixingFrom;null!=o.mixingFrom&&this.applyMixingFrom(o,r,i);var a=0;0==n.mixDuration?a=1:(a=n.mixTime/n.mixDuration)>1&&(a=1);var s=a<o.eventThreshold?this.events:null,u=a<o.attachmentThreshold,l=a<o.drawOrderThreshold,c=o.animationLast,h=o.getAnimationTime(),f=o.animation.timelines.length,d=o.animation.timelines,p=o.timelineData,_=o.timelineDipMix,m=0==o.timelinesRotation.length;m&&t.Utils.setArraySize(o.timelinesRotation,f<<1,null);var y,v=o.timelinesRotation,g=o.alpha*n.interruptAlpha,b=g*(1-a),w=0;o.totalAlpha=0;for(var x=0;x<f;x++){var T=d[x];switch(p[x]){case e.SUBSEQUENT:if(!u&&T instanceof t.AttachmentTimeline)continue;if(!l&&T instanceof t.DrawOrderTimeline)continue;y=i,w=b;break;case e.FIRST:y=t.MixPose.setup,w=b;break;case e.DIP:y=t.MixPose.setup,w=g;break;default:y=t.MixPose.setup,w=g;var E=_[x];w*=Math.max(0,1-E.mixTime/E.mixDuration)}o.totalAlpha+=w,T instanceof t.RotateTimeline?this.applyRotateTimeline(T,r,h,w,y,v,x<<1,m):T.apply(r,c,h,s,w,y,t.MixDirection.out)}return n.mixDuration>0&&this.queueEvents(o,h),this.events.length=0,o.nextAnimationLast=h,o.nextTrackLast=o.trackTime,a},e.prototype.applyRotateTimeline=function(e,n,r,i,o,a,s,u){if(u&&(a[s]=0),1!=i){var l=e,c=l.frames,h=n.bones[l.boneIndex];if(r<c[0])o==t.MixPose.setup&&(h.rotation=h.data.rotation);else{var f=0;if(r>=c[c.length-t.RotateTimeline.ENTRIES])f=h.data.rotation+c[c.length+t.RotateTimeline.PREV_ROTATION];else{var d=t.Animation.binarySearch(c,r,t.RotateTimeline.ENTRIES),p=c[d+t.RotateTimeline.PREV_ROTATION],_=c[d],m=l.getCurvePercent((d>>1)-1,1-(r-_)/(c[d+t.RotateTimeline.PREV_TIME]-_));f=c[d+t.RotateTimeline.ROTATION]-p,f=p+(f-=360*(16384-(16384.499999999996-f/360|0)))*m+h.data.rotation,f-=360*(16384-(16384.499999999996-f/360|0))}var y=o==t.MixPose.setup?h.data.rotation:h.rotation,v=0,g=f-y;if(0==g)v=a[s];else{g-=360*(16384-(16384.499999999996-g/360|0));var b=0,w=0;u?(b=0,w=g):(b=a[s],w=a[s+1]);var x=g>0,T=b>=0;t.MathUtils.signum(w)!=t.MathUtils.signum(g)&&Math.abs(w)<=90&&(Math.abs(b)>180&&(b+=360*t.MathUtils.signum(b)),T=x),v=g+b-b%360,T!=x&&(v+=360*t.MathUtils.signum(b)),a[s]=v}a[s+1]=g,y+=v*i,h.rotation=y-360*(16384-(16384.499999999996-y/360|0))}}else e.apply(n,0,r,null,1,o,t.MixDirection.in)},e.prototype.queueEvents=function(t,e){for(var n=t.animationStart,r=t.animationEnd,i=r-n,o=t.trackLast%i,a=this.events,s=0,u=a.length;s<u;s++){var l=a[s];if(l.time<o)break;l.time>r||this.queue.event(t,l)}for((t.loop?o>t.trackTime%i:e>=r&&t.animationLast<r)&&this.queue.complete(t);s<u;s++)a[s].time<n||this.queue.event(t,a[s])},e.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},e.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n=r}this.tracks[e.trackIndex]=null,this.queue.drain()}}},e.prototype.setCurrent=function(t,e,n){var r=this.expandToIndex(t);this.tracks[t]=e,null!=r&&(n&&this.queue.interrupt(r),e.mixingFrom=r,e.mixTime=0,null!=r.mixingFrom&&r.mixDuration>0&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)},e.prototype.setAnimation=function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},e.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var r=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i));var o=this.trackEntry(t,e,n,i);return this.setCurrent(t,o,r),this.queue.drain(),o},e.prototype.addAnimation=function(t,e,n,r){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,n,r)},e.prototype.addAnimationWith=function(t,e,n,r){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;var o=this.trackEntry(t,e,n,i);if(null==i)this.setCurrent(t,o,!0),this.queue.drain();else if(i.next=o,r<=0){var a=i.animationEnd-i.animationStart;0!=a?r+=a*(1+(i.trackTime/a|0))-this.data.getMix(i.animation,e):r=0}return o.delay=r,o},e.prototype.setEmptyAnimation=function(t,n){var r=this.setAnimationWith(t,e.emptyAnimation,!1);return r.mixDuration=n,r.trackEnd=n,r},e.prototype.addEmptyAnimation=function(t,n,r){r<=0&&(r-=n);var i=this.addAnimationWith(t,e.emptyAnimation,!1,r);return i.mixDuration=n,i.trackEnd=n,i},e.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},e.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(t.Utils.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},e.prototype.trackEntry=function(t,e,n,r){var i=this.trackEntryPool.obtain();return i.trackIndex=t,i.animation=e,i.loop=n,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==r?0:this.data.getMix(r.animation,e),i},e.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},e.prototype._animationsChanged=function(){this.animationsChanged=!1;var t=this.propertyIDs;t.clear();for(var e=this.mixingTo,n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&i.setTimelineData(null,e,t)}},e.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},e.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},e.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},e.prototype.clearListeners=function(){this.listeners.length=0},e.prototype.clearListenerNotifications=function(){this.queue.clear()},e.prototype.setAnimationByName=function(t,n,r){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,n,r)},e.prototype.addAnimationByName=function(t,n,r,i){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,n,r,i)},e.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},e.prototype.hasAnimationByName=function(t){return e.deprecatedWarning3||(e.deprecatedWarning3=!0,console.warn("Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},e.emptyAnimation=new t.Animation("<empty>",[],0),e.SUBSEQUENT=0,e.FIRST=1,e.DIP=2,e.DIP_MIX=3,e.deprecatedWarning1=!1,e.deprecatedWarning2=!1,e.deprecatedWarning3=!1,e}();t.AnimationState=e;var n=function(){function n(){this.timelineData=new Array,this.timelineDipMix=new Array,this.timelinesRotation=new Array}return n.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelineData.length=0,this.timelineDipMix.length=0,this.timelinesRotation.length=0},n.prototype.setTimelineData=function(n,r,i){null!=n&&r.push(n);var o=null!=this.mixingFrom?this.mixingFrom.setTimelineData(this,r,i):this;null!=n&&r.pop();var a=r,s=r.length-1,u=this.animation.timelines,l=this.animation.timelines.length,c=t.Utils.setArraySize(this.timelineData,l);this.timelineDipMix.length=0;var h=t.Utils.setArraySize(this.timelineDipMix,l);t:for(var f=0;f<l;f++){var d=u[f].getPropertyId();if(i.add(d))if(null!=n&&n.hasTimeline(d)){for(var p=s;p>=0;p--){var _=a[p];if(!_.hasTimeline(d)&&_.mixDuration>0){c[f]=e.DIP_MIX,h[f]=_;continue t}}c[f]=e.DIP}else c[f]=e.FIRST;else c[f]=e.SUBSEQUENT}return o},n.prototype.hasTimeline=function(t){for(var e=this.animation.timelines,n=0,r=e.length;n<r;n++)if(e[n].getPropertyId()==t)return!0;return!1},n.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},n.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},n.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},n.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(n.prototype,"time",{get:function(){return n.deprecatedWarning1||(n.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){n.deprecatedWarning1||(n.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endTime",{get:function(){return n.deprecatedWarning2||(n.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){n.deprecatedWarning2||(n.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),n.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},n.deprecatedWarning1=!1,n.deprecatedWarning2=!1,n}();t.TrackEntry=n;var r,i=function(){function e(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return e.prototype.start=function(t){this.objects.push(r.start),this.objects.push(t),this.animState.animationsChanged=!0},e.prototype.interrupt=function(t){this.objects.push(r.interrupt),this.objects.push(t)},e.prototype.end=function(t){this.objects.push(r.end),this.objects.push(t),this.animState.animationsChanged=!0},e.prototype.dispose=function(t){this.objects.push(r.dispose),this.objects.push(t)},e.prototype.complete=function(t){this.objects.push(r.complete),this.objects.push(t)},e.prototype.event=function(t,e){this.objects.push(r.event),this.objects.push(t),this.objects.push(e)},e.prototype.deprecateStuff=function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,n=this.animState.listeners,i=0;i<e.length;i+=2){var o=e[i],a=e[i+1];switch(o){case r.start:null!=a.listener&&a.listener.start&&a.listener.start(a);for(var s=0;s<n.length;s++)n[s].start&&n[s].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case r.interrupt:for(null!=a.listener&&a.listener.interrupt&&a.listener.interrupt(a),s=0;s<n.length;s++)n[s].interrupt&&n[s].interrupt(a);break;case r.end:for(null!=a.listener&&a.listener.end&&a.listener.end(a),s=0;s<n.length;s++)n[s].end&&n[s].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case r.dispose:for(null!=a.listener&&a.listener.dispose&&a.listener.dispose(a),s=0;s<n.length;s++)n[s].dispose&&n[s].dispose(a);this.animState.trackEntryPool.free(a);break;case r.complete:for(null!=a.listener&&a.listener.complete&&a.listener.complete(a),s=0;s<n.length;s++)n[s].complete&&n[s].complete(a);var u=t.MathUtils.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,u),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,u);break;case r.event:var l=e[2+i++];for(null!=a.listener&&a.listener.event&&a.listener.event(a,l),s=0;s<n.length;s++)n[s].event&&n[s].event(a,l);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,l),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,l)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e.deprecatedWarning1=!1,e}();t.EventQueue=i,function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(r=t.EventType||(t.EventType={}));var o=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}();t.AnimationStateAdapter2=o}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(r,i,n)},t.prototype.setMixByName=function(e,n,r){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,n,r)},t.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var r=t.name+e.name;this.animationToMixTime[r]=n},t.prototype.getMix=function(t,e){var n=t.name+e.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r},t.deprecatedWarning1=!1,t}();t.AnimationStateData=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(t){this.atlas=t}return e.prototype.newRegionAttachment=function(e,n,r){var i=this.atlas.findRegion(r);if(null==i)throw new Error("Region not found in atlas: "+r+" (region attachment: "+n+")");var o=new t.RegionAttachment(n);return o.region=i,o},e.prototype.newMeshAttachment=function(e,n,r){var i=this.atlas.findRegion(r);if(null==i)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+n+")");var o=new t.MeshAttachment(n);return o.region=i,o},e.prototype.newBoundingBoxAttachment=function(e,n){return new t.BoundingBoxAttachment(n)},e.prototype.newPathAttachment=function(e,n){return new t.PathAttachment(n)},e.prototype.newPointAttachment=function(e,n){return new t.PointAttachment(n)},e.prototype.newClippingAttachment=function(e,n){return new t.ClippingAttachment(n)},e}();t.AtlasAttachmentLoader=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(t.BlendMode||(t.BlendMode={}))}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(t,e,n){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}return Object.defineProperty(e.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(n,r,i,o,a,s,u){this.ax=n,this.ay=r,this.arotation=i,this.ascaleX=o,this.ascaleY=a,this.ashearX=s,this.ashearY=u,this.appliedValid=!0;var l=this.parent,c=this.matrix;if(null==l){var h=i+90+u,f=t.MathUtils.cosDeg(i+s)*o,d=t.MathUtils.cosDeg(h)*a,p=t.MathUtils.sinDeg(i+s)*o,_=t.MathUtils.sinDeg(h)*a,m=this.skeleton;return m.flipX&&(n=-n,f=-f,d=-d),m.flipY!==e.yDown&&(r=-r,p=-p,_=-_),c.a=f,c.c=d,c.b=p,c.d=_,c.tx=n+m.x,void(c.ty=r+m.y)}var y=l.matrix.a,v=l.matrix.c,g=l.matrix.b,b=l.matrix.d;switch(c.tx=y*n+v*r+l.matrix.tx,c.ty=g*n+b*r+l.matrix.ty,this.data.transformMode){case t.TransformMode.Normal:return h=i+90+u,f=t.MathUtils.cosDeg(i+s)*o,d=t.MathUtils.cosDeg(h)*a,p=t.MathUtils.sinDeg(i+s)*o,_=t.MathUtils.sinDeg(h)*a,c.a=y*f+v*p,c.c=y*d+v*_,c.b=g*f+b*p,void(c.d=g*d+b*_);case t.TransformMode.OnlyTranslation:h=i+90+u,c.a=t.MathUtils.cosDeg(i+s)*o,c.c=t.MathUtils.cosDeg(h)*a,c.b=t.MathUtils.sinDeg(i+s)*o,c.d=t.MathUtils.sinDeg(h)*a;break;case t.TransformMode.NoRotationOrReflection:var w=0;(E=y*y+g*g)>1e-4?(v=g*(E=Math.abs(y*b-v*g)/E),b=y*E,w=Math.atan2(g,y)*t.MathUtils.radDeg):(y=0,g=0,w=90-Math.atan2(b,v)*t.MathUtils.radDeg);var x=i+s-w,T=i+u-w+90;f=t.MathUtils.cosDeg(x)*o,d=t.MathUtils.cosDeg(T)*a,p=t.MathUtils.sinDeg(x)*o,_=t.MathUtils.sinDeg(T)*a,c.a=y*f-v*p,c.c=y*d-v*_,c.b=g*f+b*p,c.d=g*d+b*_;break;case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:var E,P=t.MathUtils.cosDeg(i),S=t.MathUtils.sinDeg(i),M=y*P+v*S,O=g*P+b*S;(E=Math.sqrt(M*M+O*O))>1e-5&&(E=1/E),M*=E,O*=E,E=Math.sqrt(M*M+O*O);var I=Math.PI/2+Math.atan2(O,M),k=Math.cos(I)*E,L=Math.sin(I)*E;return f=t.MathUtils.cosDeg(s)*o,d=t.MathUtils.cosDeg(90+u)*a,p=t.MathUtils.sinDeg(s)*o,_=t.MathUtils.sinDeg(90+u)*a,c.a=M*f+k*p,c.c=M*d+k*_,c.b=O*f+L*p,c.d=O*d+L*_,void((this.data.transformMode!=t.TransformMode.NoScaleOrReflection?y*b-v*g<0:this.skeleton.flipX!=this.skeleton.flipY!=e.yDown)&&(c.c=-c.c,c.d=-c.d))}this.skeleton.flipX&&(c.a=-c.a,c.c=-c.c),this.skeleton.flipY!=e.yDown&&(c.b=-c.b,c.d=-c.d)},e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*t.MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*t.MathUtils.radDeg},e.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},e.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},e.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,n=this.matrix;if(null==e)return this.ax=n.tx,this.ay=n.ty,this.arotation=Math.atan2(n.b,n.a)*t.MathUtils.radDeg,this.ascaleX=Math.sqrt(n.a*n.a+n.b*n.b),this.ascaleY=Math.sqrt(n.c*n.c+n.d*n.d),this.ashearX=0,void(this.ashearY=Math.atan2(n.a*n.c+n.b*n.d,n.a*n.d-n.b*n.c)*t.MathUtils.radDeg);var r=e.matrix,i=1/(r.a*r.d-r.b*r.c),o=n.tx-r.tx,a=n.ty-r.ty;this.ax=o*r.d*i-a*r.c*i,this.ay=a*r.a*i-o*r.b*i;var s=i*r.d,u=i*r.a,l=i*r.c,c=i*r.b,h=s*n.a-l*n.b,f=s*n.c-l*n.d,d=u*n.b-c*n.a,p=u*n.d-c*n.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(h*h+d*d),this.ascaleX>1e-4){var _=h*p-f*d;this.ascaleY=_/this.ascaleX,this.ashearY=Math.atan2(h*f+d*p,_)*t.MathUtils.radDeg,this.arotation=Math.atan2(d,h)*t.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,f)*t.MathUtils.radDeg},e.prototype.worldToLocal=function(t){var e=this.matrix,n=e.a,r=e.c,i=e.b,o=e.d,a=1/(n*o-r*i),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*o*a-u*r*a,t.y=u*n*a-s*i*a,t},e.prototype.localToWorld=function(t){var e=this.matrix,n=t.x,r=t.y;return t.x=n*e.a+r*e.c+e.tx,t.y=n*e.b+r*e.d+e.ty,t},e.prototype.worldToLocalRotation=function(e){var n=t.MathUtils.sinDeg(e),r=t.MathUtils.cosDeg(e),i=this.matrix;return Math.atan2(i.a*n-i.b*r,i.d*r-i.c*n)*t.MathUtils.radDeg},e.prototype.localToWorldRotation=function(e){var n=t.MathUtils.sinDeg(e),r=t.MathUtils.cosDeg(e),i=this.matrix;return Math.atan2(r*i.b+n*i.d,r*i.a+n*i.c)*t.MathUtils.radDeg},e.prototype.rotateWorld=function(e){var n=this.matrix,r=n.a,i=n.c,o=n.b,a=n.d,s=t.MathUtils.cosDeg(e),u=t.MathUtils.sinDeg(e);n.a=s*r-u*o,n.c=s*i-u*a,n.b=u*r+s*o,n.d=u*i+s*a,this.appliedValid=!1},e.yDown=!1,e}();t.Bone=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e,n=function(t,n,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=e.Normal,t<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");this.index=t,this.name=n,this.parent=r};t.BoneData=n,function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(e=t.TransformMode||(t.TransformMode={}))}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e};t.Event=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(t){this.name=t};t.EventData=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(t,e){if(this.mix=1,this.bendDirection=0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return e.prototype.getOrder=function(){return this.data.order},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}},e.prototype.apply1=function(e,n,r,i){e.appliedValid||e.updateAppliedTransform();var o=e.parent.matrix,a=1/(o.a*o.d-o.b*o.c),s=n-o.tx,u=r-o.ty,l=(s*o.d-u*o.c)*a-e.ax,c=(u*o.a-s*o.b)*a-e.ay,h=Math.atan2(c,l)*t.MathUtils.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(h+=180),h>180?h-=360:h<-180&&(h+=360),e.updateWorldTransformWith(e.ax,e.ay,e.arotation+h*i,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,n,r,i,o,a){if(0!=a){e.appliedValid||e.updateAppliedTransform(),n.appliedValid||n.updateAppliedTransform();var s=e.ax,u=e.ay,l=e.ascaleX,c=e.ascaleY,h=n.ascaleX,f=e.matrix,d=0,p=0,_=0;l<0?(l=-l,d=180,_=-1):(d=0,_=1),c<0&&(c=-c,_=-_),h<0?(h=-h,p=180):p=0;var m=n.ax,y=0,v=0,g=0,b=f.a,w=f.c,x=f.b,T=f.d,E=Math.abs(l-c)<=1e-4;E?(v=b*m+w*(y=n.ay)+f.tx,g=x*m+T*y+f.ty):(y=0,v=b*m+f.tx,g=x*m+f.ty);var P=e.parent.matrix;b=P.a,w=P.c,x=P.b;var S=1/(b*(T=P.d)-w*x),M=r-P.tx,O=i-P.ty,I=(M*T-O*w)*S-s,k=(O*b-M*x)*S-u,L=((M=v-P.tx)*T-(O=g-P.ty)*w)*S-s,A=(O*b-M*x)*S-u,D=Math.sqrt(L*L+A*A),R=n.data.length*h,C=0,j=0;t:if(E){var Y=(I*I+k*k-D*D-(R*=l)*R)/(2*D*R);Y<-1?Y=-1:Y>1&&(Y=1),j=Math.acos(Y)*o,b=D+R*Y,w=R*Math.sin(j),C=Math.atan2(k*b-I*w,I*b+k*w)}else{var N=(b=l*R)*b,B=(w=c*R)*w,F=I*I+k*k,H=Math.atan2(k,I),V=-2*B*D,q=B-N;if((T=V*V-4*q*(x=B*D*D+N*F-N*B))>=0){var W=Math.sqrt(T);V<0&&(W=-W);var U=(W=-(V+W)/2)/q,X=x/W,G=Math.abs(U)<Math.abs(X)?U:X;if(G*G<=F){O=Math.sqrt(F-G*G)*o,C=H-Math.atan2(O,G),j=Math.atan2(O/c,(G-D)/l);break t}}var z=t.MathUtils.PI,Q=D-b,J=Q*Q,K=0,Z=0,$=D+b,tt=$*$,et=0;(x=-b*D/(N-B))>=-1&&x<=1&&(x=Math.acos(x),(T=(M=b*Math.cos(x)+D)*M+(O=w*Math.sin(x))*O)<J&&(z=x,J=T,Q=M,K=O),T>tt&&(Z=x,tt=T,$=M,et=O)),F<=(J+tt)/2?(C=H-Math.atan2(K*o,Q),j=z*o):(C=H-Math.atan2(et*o,$),j=Z*o)}var nt=Math.atan2(y,m)*_,rt=e.arotation;(C=(C-nt)*t.MathUtils.radDeg+d-rt)>180?C-=360:C<-180&&(C+=360),e.updateWorldTransformWith(s,u,rt+C*a,e.ascaleX,e.ascaleY,0,0),rt=n.arotation,(j=((j+nt)*t.MathUtils.radDeg-n.ashearX)*_+p-rt)>180?j-=360:j<-180&&(j+=360),n.updateWorldTransformWith(m,y,rt+j*a,n.ascaleX,n.ascaleY,n.ashearX,n.ashearY)}else n.updateWorldTransform()},e}();t.IkConstraint=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=t};t.IkConstraintData=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;n<r;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof t.PathAttachment){var n=this.rotateMix,r=this.translateMix,i=n>0;if(r>0||i){var o=this.data,a=o.spacingMode,s=a==t.SpacingMode.Length,u=o.rotateMode,l=u==t.RotateMode.Tangent,c=u==t.RotateMode.ChainScale,h=this.bones.length,f=l?h:h+1,d=this.bones,p=t.Utils.setArraySize(this.spaces,f),_=null,m=this.spacing;if(c||s){c&&(_=t.Utils.setArraySize(this.lengths,h));for(var y=0,v=f-1;y<v;){var g=(I=d[y]).data.length,b=g*I.matrix.a,w=g*I.matrix.b,x=Math.sqrt(b*b+w*w);c&&(_[y]=x),p[++y]=(s?g+m:m)*x/g}}else for(y=1;y<f;y++)p[y]=m;var T=this.computeWorldPositions(e,f,l,o.positionMode==t.PositionMode.Percent,a==t.SpacingMode.Percent),E=T[0],P=T[1],S=o.offsetRotation,M=!1;0==S?M=u==t.RotateMode.Chain:(M=!1,S*=(O=this.target.bone.matrix).a*O.d-O.b*O.c>0?t.MathUtils.degRad:-t.MathUtils.degRad),y=0;for(var O=3;y<h;y++,O+=3){var I,k=(I=d[y]).matrix;k.tx+=(E-k.tx)*r,k.ty+=(P-k.ty)*r;var L=(b=T[O])-E,A=(w=T[O+1])-P;if(c){var D=_[y];if(0!=D){var R=(Math.sqrt(L*L+A*A)/D-1)*n+1;k.a*=R,k.b*=R}}if(E=b,P=w,i){var C=k.a,j=k.c,Y=k.b,N=k.d,B=0,F=0,H=0;if(B=l?T[O-1]:0==p[y+1]?T[O+2]:Math.atan2(A,L),B-=Math.atan2(Y,C),M){F=Math.cos(B),H=Math.sin(B);var V=I.data.length;E+=(V*(F*C-H*Y)-L)*n,P+=(V*(H*C+F*Y)-A)*n}else B+=S;B>t.MathUtils.PI?B-=t.MathUtils.PI2:B<-t.MathUtils.PI&&(B+=t.MathUtils.PI2),B*=n,F=Math.cos(B),H=Math.sin(B),k.a=F*C-H*Y,k.c=F*j-H*N,k.b=H*C+F*Y,k.d=H*j+F*N}I.appliedValid=!1}}}},e.prototype.computeWorldPositions=function(n,r,i,o,a){var s=this.target,u=this.position,l=this.spaces,c=t.Utils.setArraySize(this.positions,3*r+2),h=null,f=n.closed,d=n.worldVerticesLength,p=d/6,_=e.NONE;if(!n.constantSpeed){var m=n.lengths,y=m[p-=f?1:2];if(o&&(u*=y),a)for(var v=0;v<r;v++)l[v]*=y;h=t.Utils.setArraySize(this.world,8),v=0;for(var g=0,b=0;v<r;v++,g+=3){var w=u+=U=l[v];if(f)(w%=y)<0&&(w+=y),b=0;else{if(w<0){_!=e.BEFORE&&(_=e.BEFORE,n.computeWorldVertices(s,2,4,h,0,2)),this.addBeforePosition(w,h,0,c,g);continue}if(w>y){_!=e.AFTER&&(_=e.AFTER,n.computeWorldVertices(s,d-6,4,h,0,2)),this.addAfterPosition(w-y,h,0,c,g);continue}}for(;;b++){var x=m[b];if(!(w>x)){0==b?w/=x:w=(w-(Q=m[b-1]))/(x-Q);break}}b!=_&&(_=b,f&&b==p?(n.computeWorldVertices(s,d-4,4,h,0,2),n.computeWorldVertices(s,0,4,h,4,2)):n.computeWorldVertices(s,6*b+2,8,h,0,2)),this.addCurvePosition(w,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],c,g,i||v>0&&0==U)}return c}f?(d+=2,h=t.Utils.setArraySize(this.world,d),n.computeWorldVertices(s,2,d-4,h,0,2),n.computeWorldVertices(s,0,2,h,d-4,2),h[d-2]=h[0],h[d-1]=h[1]):(p--,d-=4,h=t.Utils.setArraySize(this.world,d),n.computeWorldVertices(s,2,d,h,0,2));for(var T=t.Utils.setArraySize(this.curves,p),E=0,P=h[0],S=h[1],M=0,O=0,I=0,k=0,L=0,A=0,D=0,R=0,C=0,j=0,Y=0,N=0,B=0,F=0,H=(v=0,2);v<p;v++,H+=6)M=h[H],O=h[H+1],I=h[H+2],k=h[H+3],Y=2*(D=.1875*(P-2*M+I))+(C=.09375*(3*(M-I)-P+(L=h[H+4]))),N=2*(R=.1875*(S-2*O+k))+(j=.09375*(3*(O-k)-S+(A=h[H+5]))),B=.75*(M-P)+D+.16666667*C,F=.75*(O-S)+R+.16666667*j,E+=Math.sqrt(B*B+F*F),B+=Y,F+=N,Y+=C,N+=j,E+=Math.sqrt(B*B+F*F),B+=Y,F+=N,E+=Math.sqrt(B*B+F*F),B+=Y+C,F+=N+j,E+=Math.sqrt(B*B+F*F),T[v]=E,P=L,S=A;if(o&&(u*=E),a)for(v=0;v<r;v++)l[v]*=E;for(var V=this.segments,q=0,W=(v=0,g=0,b=0,0);v<r;v++,g+=3){var U;if(w=u+=U=l[v],f)(w%=E)<0&&(w+=E),b=0;else{if(w<0){this.addBeforePosition(w,h,0,c,g);continue}if(w>E){this.addAfterPosition(w-E,h,d-4,c,g);continue}}for(;;b++){var X=T[b];if(!(w>X)){0==b?w/=X:w=(w-(Q=T[b-1]))/(X-Q);break}}if(b!=_){_=b;var G=6*b;for(P=h[G],S=h[G+1],M=h[G+2],O=h[G+3],I=h[G+4],k=h[G+5],Y=2*(D=.03*(P-2*M+I))+(C=.006*(3*(M-I)-P+(L=h[G+6]))),N=2*(R=.03*(S-2*O+k))+(j=.006*(3*(O-k)-S+(A=h[G+7]))),B=.3*(M-P)+D+.16666667*C,F=.3*(O-S)+R+.16666667*j,q=Math.sqrt(B*B+F*F),V[0]=q,G=1;G<8;G++)B+=Y,F+=N,Y+=C,N+=j,q+=Math.sqrt(B*B+F*F),V[G]=q;B+=Y,F+=N,q+=Math.sqrt(B*B+F*F),V[8]=q,B+=Y+C,F+=N+j,q+=Math.sqrt(B*B+F*F),V[9]=q,W=0}for(w*=q;;W++){var z=V[W];if(!(w>z)){var Q;0==W?w/=z:w=W+(w-(Q=V[W-1]))/(z-Q);break}}this.addCurvePosition(.1*w,P,S,M,O,I,k,L,A,c,g,i||v>0&&0==U)}return c},e.prototype.addBeforePosition=function(t,e,n,r,i){var o=e[n],a=e[n+1],s=e[n+2]-o,u=e[n+3]-a,l=Math.atan2(u,s);r[i]=o+t*Math.cos(l),r[i+1]=a+t*Math.sin(l),r[i+2]=l},e.prototype.addAfterPosition=function(t,e,n,r,i){var o=e[n+2],a=e[n+3],s=o-e[n],u=a-e[n+1],l=Math.atan2(u,s);r[i]=o+t*Math.cos(l),r[i+1]=a+t*Math.sin(l),r[i+2]=l},e.prototype.addCurvePosition=function(t,e,n,r,i,o,a,s,u,l,c,h){(0==t||isNaN(t))&&(t=1e-4);var f=t*t,d=f*t,p=1-t,_=p*p,m=_*p,y=p*t,v=3*y,g=p*v,b=v*t,w=e*m+r*g+o*b+s*d,x=n*m+i*g+a*b+u*d;l[c]=w,l[c+1]=x,h&&(l[c+2]=Math.atan2(x-(n*_+i*y*2+a*f),w-(e*_+r*y*2+o*f)))},e.prototype.getOrder=function(){return this.data.order},e.NONE=-1,e.BEFORE=-2,e.AFTER=-3,e}();t.PathConstraint=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(t){this.order=0,this.bones=new Array,this.name=t};t.PathConstraintData=e,function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(t.PositionMode||(t.PositionMode={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(t.SpacingMode||(t.SpacingMode={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(t.RotateMode||(t.RotateMode={}))}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var r=e.bones[n],i=void 0;if(null==r.parent)i=new t.Bone(r,this,null);else{var o=this.bones[r.parent.index];i=new t.Bone(r,this,o),o.children.push(i)}this.bones.push(i)}for(this.slots=new Array,this.drawOrder=new Array,n=0;n<e.slots.length;n++){var a=e.slots[n],s=(i=this.bones[a.boneData.index],new t.Slot(a,i));this.slots.push(s),this.drawOrder.push(s)}for(this.ikConstraints=new Array,n=0;n<e.ikConstraints.length;n++){var u=e.ikConstraints[n];this.ikConstraints.push(new t.IkConstraint(u,this))}for(this.transformConstraints=new Array,n=0;n<e.transformConstraints.length;n++){var l=e.transformConstraints[n];this.transformConstraints.push(new t.TransformConstraint(l,this))}for(this.pathConstraints=new Array,n=0;n<e.pathConstraints.length;n++){var c=e.pathConstraints[n];this.pathConstraints.push(new t.PathConstraint(c,this))}this.color=new t.Color(1,1,1,1),this.updateCache()}return e.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].sorted=!1;var r=this.ikConstraints,i=this.transformConstraints,o=this.pathConstraints,a=r.length,s=i.length,u=o.length,l=a+s+u;t:for(e=0;e<l;e++){for(var c=0;c<a;c++)if((h=r[c]).data.order==e){this.sortIkConstraint(h);continue t}for(c=0;c<s;c++)if((h=i[c]).data.order==e){this.sortTransformConstraint(h);continue t}for(c=0;c<u;c++){var h;if((h=o[c]).data.order==e){this.sortPathConstraint(h);continue t}}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},e.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var n=t.bones,r=n[0];if(this.sortBone(r),n.length>1){var i=n[n.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(t),this.sortReset(r.children),n[n.length-1].sorted=!0},e.prototype.sortPathConstraint=function(e){var n=e.target,r=n.data.index,i=n.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,i);for(var o=0,a=this.data.skins.length;o<a;o++)this.sortPathConstraintAttachment(this.data.skins[o],r,i);var s=n.getAttachment();s instanceof t.PathAttachment&&this.sortPathConstraintAttachmentWith(s,i);var u=e.bones,l=u.length;for(o=0;o<l;o++)this.sortBone(u[o]);for(this._updateCache.push(e),o=0;o<l;o++)this.sortReset(u[o].children);for(o=0;o<l;o++)u[o].sorted=!0},e.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var r=0;r<n;r++){var i=e[r];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(r=0;r<n;r++)this.sortBone(e[r]);this._updateCache.push(t);for(var o=0;o<n;o++)this.sortReset(e[o].children);for(o=0;o<n;o++)e[o].sorted=!0},e.prototype.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},e.prototype.sortPathConstraintAttachmentWith=function(e,n){if(e instanceof t.PathAttachment){var r=e.bones;if(null==r)this.sortBone(n);else for(var i=this.bones,o=0;o<r.length;)for(var a=r[o++],s=o+a;o<s;o++){var u=r[o];this.sortBone(i[u])}}},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},e.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.sorted&&this.sortReset(r.children),r.sorted=!1}},e.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var r=t[e];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}var i=this._updateCache;for(e=0,n=i.length;e<n;e++)i[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();var r=this.ikConstraints;for(e=0,n=r.length;e<n;e++)(s=r[e]).bendDirection=s.data.bendDirection,s.mix=s.data.mix;var i=this.transformConstraints;for(e=0,n=i.length;e<n;e++){var o=(s=i[e]).data;s.rotateMix=o.rotateMix,s.translateMix=o.translateMix,s.scaleMix=o.scaleMix,s.shearMix=o.shearMix}var a=this.pathConstraints;for(e=0,n=a.length;e<n;e++){var s;o=(s=a[e]).data,s.position=o.position,s.spacing=o.spacing,s.rotateMix=o.rotateMix,s.translateMix=o.translateMix}},e.prototype.setSlotsToSetupPose=function(){var e=this.slots;t.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var n=0,r=e.length;n<r;n++)e[n].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n],o=i.data.attachmentName;if(null!=o){var a=t.getAttachment(n,o);null!=a&&i.setAttachment(a)}}this.skin=t},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;r<i;r++){var o=n[r];if(o.data.name==t){var a=null;if(null!=e&&null==(a=this.getAttachment(r,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void o.setAttachment(a)}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.getBounds=function(e,n,r){if(null==e)throw new Error("offset cannot be null.");if(null==n)throw new Error("size cannot be null.");for(var i=this.drawOrder,o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=0,c=i.length;l<c;l++){var h=i[l],f=0,d=null,p=h.getAttachment();if(p instanceof t.RegionAttachment)f=8,d=t.Utils.setArraySize(r,f,0),p.computeWorldVertices(h.bone,d,0,2);else if(p instanceof t.MeshAttachment){var _=p;f=_.worldVerticesLength,d=t.Utils.setArraySize(r,f,0),_.computeWorldVertices(h,0,f,d,0,2)}if(null!=d)for(var m=0,y=d.length;m<y;m+=2){var v=d[m],g=d[m+1];o=Math.min(o,v),a=Math.min(a,g),s=Math.max(s,v),u=Math.max(u,g)}}e.set(o,a),n.set(s-o,u-a)},e.prototype.update=function(t){this.time+=t},e}();t.Skeleton=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new t.Pool(function(){return t.Utils.newFloatArray(16)})}return e.prototype.update=function(e,n){if(null==e)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,i=this.polygons,o=this.polygonPool,a=e.slots,s=a.length;r.length=0,o.freeAll(i),i.length=0;for(var u=0;u<s;u++){var l=a[u],c=l.getAttachment();if(c instanceof t.BoundingBoxAttachment){var h=c;r.push(h);var f=o.obtain();f.length!=h.worldVerticesLength&&(f=t.Utils.newFloatArray(h.worldVerticesLength)),i.push(f),h.computeWorldVertices(l,0,h.worldVerticesLength,f,0,2)}}n?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,o=0,a=i.length;o<a;o++)for(var s=i[o],u=s,l=0,c=s.length;l<c;l+=2){var h=u[l],f=u[l+1];t=Math.min(t,h),e=Math.min(e,f),n=Math.max(n,h),r=Math.max(r,f)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,n,r){var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY;if(t<=i&&n<=i||e<=o&&r<=o||t>=a&&n>=a||e>=s&&r>=s)return!1;var u=(r-e)/(n-t),l=u*(i-t)+e;if(l>o&&l<s)return!0;if((l=u*(a-t)+e)>o&&l<s)return!0;var c=(o-e)/u+t;return c>i&&c<a||(c=(s-e)/u+t)>i&&c<a},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var n=this.polygons,r=0,i=n.length;r<i;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},e.prototype.containsPointPolygon=function(t,e,n){for(var r=t,i=t.length,o=i-2,a=!1,s=0;s<i;s+=2){var u=r[s+1],l=r[o+1];if(u<n&&l>=n||l<n&&u>=n){var c=r[s];c+(n-u)/(l-u)*(r[o]-c)<e&&(a=!a)}o=s}return a},e.prototype.intersectsSegment=function(t,e,n,r){for(var i=this.polygons,o=0,a=i.length;o<a;o++)if(this.intersectsSegmentPolygon(i[o],t,e,n,r))return this.boundingBoxes[o];return null},e.prototype.intersectsSegmentPolygon=function(t,e,n,r,i){for(var o=t,a=t.length,s=e-r,u=n-i,l=e*i-n*r,c=o[a-2],h=o[a-1],f=0;f<a;f+=2){var d=o[f],p=o[f+1],_=c*p-h*d,m=c-d,y=h-p,v=s*y-u*m,g=(l*m-s*_)/v;if((g>=c&&g<=d||g>=d&&g<=c)&&(g>=e&&g<=r||g>=r&&g<=e)){var b=(l*y-u*_)/v;if((b>=h&&b<=p||b>=p&&b<=h)&&(b>=n&&b<=i||b>=i&&b<=n))return!0}c=d,h=p}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},e}();t.SkeletonBounds=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(){this.triangulator=new t.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return e.prototype.clipStart=function(n,r){if(null!=this.clipAttachment)return 0;this.clipAttachment=r;var i=r.worldVerticesLength,o=t.Utils.setArraySize(this.clippingPolygon,i);r.computeWorldVertices(n,0,i,o,0,2);var a=this.clippingPolygon;e.makeClockwise(a);for(var s=this.clippingPolygons=this.triangulator.decompose(a,this.triangulator.triangulate(a)),u=0,l=s.length;u<l;u++){var c=s[u];e.makeClockwise(c),c.push(c[0]),c.push(c[1])}return s.length},e.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},e.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},e.prototype.isClipping=function(){return null!=this.clipAttachment},e.prototype.clipTriangles=function(e,n,r,i,o,a,s,u){var l=this.clipOutput,c=this.clippedVertices,h=this.clippedTriangles,f=this.clippingPolygons,d=this.clippingPolygons.length,p=u?12:8,_=0;c.length=0,h.length=0;t:for(var m=0;m<i;m+=3)for(var y=r[m]<<1,v=e[y],g=e[y+1],b=o[y],w=o[y+1],x=e[y=r[m+1]<<1],T=e[y+1],E=o[y],P=o[y+1],S=e[y=r[m+2]<<1],M=e[y+1],O=o[y],I=o[y+1],k=0;k<d;k++){var L=c.length;if(!this.clip(v,g,x,T,S,M,f[k],l)){(F=t.Utils.setArraySize(c,L+3*p))[L]=v,F[L+1]=g,F[L+2]=a.r,F[L+3]=a.g,F[L+4]=a.b,F[L+5]=a.a,u?(F[L+6]=b,F[L+7]=w,F[L+8]=s.r,F[L+9]=s.g,F[L+10]=s.b,F[L+11]=s.a,F[L+12]=x,F[L+13]=T,F[L+14]=a.r,F[L+15]=a.g,F[L+16]=a.b,F[L+17]=a.a,F[L+18]=E,F[L+19]=P,F[L+20]=s.r,F[L+21]=s.g,F[L+22]=s.b,F[L+23]=s.a,F[L+24]=S,F[L+25]=M,F[L+26]=a.r,F[L+27]=a.g,F[L+28]=a.b,F[L+29]=a.a,F[L+30]=O,F[L+31]=I,F[L+32]=s.r,F[L+33]=s.g,F[L+34]=s.b,F[L+35]=s.a):(F[L+6]=b,F[L+7]=w,F[L+8]=x,F[L+9]=T,F[L+10]=a.r,F[L+11]=a.g,F[L+12]=a.b,F[L+13]=a.a,F[L+14]=E,F[L+15]=P,F[L+16]=S,F[L+17]=M,F[L+18]=a.r,F[L+19]=a.g,F[L+20]=a.b,F[L+21]=a.a,F[L+22]=O,F[L+23]=I),L=h.length,(Q=t.Utils.setArraySize(h,L+3))[L]=_,Q[L+1]=_+1,Q[L+2]=_+2,_+=3;continue t}var A=l.length;if(0!=A){for(var D=T-M,R=S-x,C=v-S,j=M-g,Y=1/(D*C+R*(g-M)),N=A>>1,B=this.clipOutput,F=t.Utils.setArraySize(c,L+N*p),H=0;H<A;H+=2){var V=B[H],q=B[H+1];F[L]=V,F[L+1]=q,F[L+2]=a.r,F[L+3]=a.g,F[L+4]=a.b,F[L+5]=a.a;var W=V-S,U=q-M,X=(D*W+R*U)*Y,G=(j*W+C*U)*Y,z=1-X-G;F[L+6]=b*X+E*G+O*z,F[L+7]=w*X+P*G+I*z,u&&(F[L+8]=s.r,F[L+9]=s.g,F[L+10]=s.b,F[L+11]=s.a),L+=p}L=h.length;var Q=t.Utils.setArraySize(h,L+3*(N-2));for(N--,H=1;H<N;H++)Q[L]=_,Q[L+1]=_+H,Q[L+2]=_+H+1,L+=3;_+=N+1}}},e.prototype.clip=function(t,e,n,r,i,o,a,s){var u=s,l=!1,c=null;a.length%4>=2?(c=s,s=this.scratch):c=this.scratch,c.length=0,c.push(t),c.push(e),c.push(n),c.push(r),c.push(i),c.push(o),c.push(t),c.push(e),s.length=0;for(var h=a,f=a.length-4,d=0;;d+=2){for(var p=h[d],_=h[d+1],m=h[d+2],y=h[d+3],v=p-m,g=_-y,b=c,w=c.length-2,x=s.length,T=0;T<w;T+=2){var E=b[T],P=b[T+1],S=b[T+2],M=b[T+3],O=v*(M-y)-g*(S-m)>0;if(v*(P-y)-g*(E-m)>0){if(O){s.push(S),s.push(M);continue}var I=((L=S-E)*(_-P)-(k=M-P)*(p-E))/(k*(m-p)-L*(y-_));s.push(p+(m-p)*I),s.push(_+(y-_)*I)}else if(O){var k,L;I=((L=S-E)*(_-P)-(k=M-P)*(p-E))/(k*(m-p)-L*(y-_)),s.push(p+(m-p)*I),s.push(_+(y-_)*I),s.push(S),s.push(M)}l=!0}if(x==s.length)return u.length=0,!0;if(s.push(s[0]),s.push(s[1]),d==f)break;var A=s;(s=c).length=0,c=A}if(u!=s){u.length=0,d=0;for(var D=s.length-2;d<D;d++)u[d]=s[d]}else u.length=u.length-2;return l},e.makeClockwise=function(t){for(var e=t,n=t.length,r=e[n-2]*e[1]-e[0]*e[n-1],i=0,o=0,a=0,s=0,u=n-3;s<u;s+=2)i=e[s],o=e[s+1],a=e[s+2],r+=i*e[s+3]-a*o;if(!(r<0)){s=0;var l=n-2;for(u=n>>1;s<u;s+=2){var c=e[s],h=e[s+1],f=l-s;e[s]=e[f],e[s+1]=e[f+1],e[f]=c,e[f+1]=h}}},e}();t.SkeletonClipping=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t}();t.SkeletonData=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return e.prototype.readSkeletonData=function(n){var r=this.scale,i=new t.SkeletonData,o="string"==typeof n?JSON.parse(n):n,a=o.skeleton;if(null!=a&&(i.hash=a.hash,i.version=a.spine,i.width=a.width,i.height=a.height,i.fps=a.fps,i.imagesPath=a.images),o.bones)for(var s=0;s<o.bones.length;s++){var u=o.bones[s],l=null,c=this.getValue(u,"parent",null);if(null!=c&&null==(l=i.findBone(c)))throw new Error("Parent bone not found: "+c);(p=new t.BoneData(i.bones.length,u.name,l)).length=this.getValue(u,"length",0)*r,p.x=this.getValue(u,"x",0)*r,p.y=this.getValue(u,"y",0)*r,p.rotation=this.getValue(u,"rotation",0),p.scaleX=this.getValue(u,"scaleX",1),p.scaleY=this.getValue(u,"scaleY",1),p.shearX=this.getValue(u,"shearX",0),p.shearY=this.getValue(u,"shearY",0),p.transformMode=e.transformModeFromString(this.getValue(u,"transform","normal")),i.bones.push(p)}if(o.slots)for(s=0;s<o.slots.length;s++){var h=(P=o.slots[s]).name,f=P.bone,d=i.findBone(f);if(null==d)throw new Error("Slot bone not found: "+f);var p=new t.SlotData(i.slots.length,h,d),_=this.getValue(P,"color",null);null!=_&&p.color.setFromString(_);var m=this.getValue(P,"dark",null);null!=m&&(p.darkColor=new t.Color(1,1,1,1),p.darkColor.setFromString(m)),p.attachmentName=this.getValue(P,"attachment",null),p.blendMode=e.blendModeFromString(this.getValue(P,"blend","normal")),i.slots.push(p)}if(o.ik)for(s=0;s<o.ik.length;s++){var y=o.ik[s];(p=new t.IkConstraintData(y.name)).order=this.getValue(y,"order",0);for(var v=0;v<y.bones.length;v++){if(f=y.bones[v],null==(b=i.findBone(f)))throw new Error("IK bone not found: "+f);p.bones.push(b)}var g=y.target;if(p.target=i.findBone(g),null==p.target)throw new Error("IK target bone not found: "+g);p.bendDirection=this.getValue(y,"bendPositive",!0)?1:-1,p.mix=this.getValue(y,"mix",1),i.ikConstraints.push(p)}if(o.transform)for(s=0;s<o.transform.length;s++){for(y=o.transform[s],(p=new t.TransformConstraintData(y.name)).order=this.getValue(y,"order",0),v=0;v<y.bones.length;v++){if(f=y.bones[v],null==(b=i.findBone(f)))throw new Error("Transform constraint bone not found: "+f);p.bones.push(b)}if(g=y.target,p.target=i.findBone(g),null==p.target)throw new Error("Transform constraint target bone not found: "+g);p.local=this.getValue(y,"local",!1),p.relative=this.getValue(y,"relative",!1),p.offsetRotation=this.getValue(y,"rotation",0),p.offsetX=this.getValue(y,"x",0)*r,p.offsetY=this.getValue(y,"y",0)*r,p.offsetScaleX=this.getValue(y,"scaleX",0),p.offsetScaleY=this.getValue(y,"scaleY",0),p.offsetShearY=this.getValue(y,"shearY",0),p.rotateMix=this.getValue(y,"rotateMix",1),p.translateMix=this.getValue(y,"translateMix",1),p.scaleMix=this.getValue(y,"scaleMix",1),p.shearMix=this.getValue(y,"shearMix",1),i.transformConstraints.push(p)}if(o.path)for(s=0;s<o.path.length;s++){for(y=o.path[s],(p=new t.PathConstraintData(y.name)).order=this.getValue(y,"order",0),v=0;v<y.bones.length;v++){var b;if(f=y.bones[v],null==(b=i.findBone(f)))throw new Error("Transform constraint bone not found: "+f);p.bones.push(b)}if(g=y.target,p.target=i.findSlot(g),null==p.target)throw new Error("Path target slot not found: "+g);p.positionMode=e.positionModeFromString(this.getValue(y,"positionMode","percent")),p.spacingMode=e.spacingModeFromString(this.getValue(y,"spacingMode","length")),p.rotateMode=e.rotateModeFromString(this.getValue(y,"rotateMode","tangent")),p.offsetRotation=this.getValue(y,"rotation",0),p.position=this.getValue(y,"position",0),p.positionMode==t.PositionMode.Fixed&&(p.position*=r),p.spacing=this.getValue(y,"spacing",0),p.spacingMode!=t.SpacingMode.Length&&p.spacingMode!=t.SpacingMode.Fixed||(p.spacing*=r),p.rotateMix=this.getValue(y,"rotateMix",1),p.translateMix=this.getValue(y,"translateMix",1),i.pathConstraints.push(p)}if(o.skins)for(var w in o.skins){var x=o.skins[w],T=new t.Skin(w);for(var h in x){var E=i.findSlotIndex(h);if(-1==E)throw new Error("Slot not found: "+h);var P=x[h];for(var S in P){var M=this.readAttachment(P[S],T,E,S,i);null!=M&&T.addAttachment(E,S,M)}}i.skins.push(T),"default"==T.name&&(i.defaultSkin=T)}s=0;for(var O=this.linkedMeshes.length;s<O;s++){var I=this.linkedMeshes[s];if(null==(T=null==I.skin?i.defaultSkin:i.findSkin(I.skin)))throw new Error("Skin not found: "+I.skin);var k=T.getAttachment(I.slotIndex,I.parent);if(null==k)throw new Error("Parent mesh not found: "+I.parent);I.mesh.setParentMesh(k)}if(this.linkedMeshes.length=0,o.events)for(var L in o.events){var A=o.events[L];(p=new t.EventData(L)).intValue=this.getValue(A,"int",0),p.floatValue=this.getValue(A,"float",0),p.stringValue=this.getValue(A,"string",""),p.audio=this.getValue(A,"audio",null),i.events.push(p)}if(o.animations)for(var D in o.animations){var R=o.animations[D];this.readAnimation(R,D,i)}return i},e.prototype.readAttachment=function(e,r,i,o,a){var s=this.scale;switch(o=this.getValue(e,"name",o),this.getValue(e,"type","region")){case"region":var u=this.getValue(e,"path",o),l=this.attachmentLoader.newRegionAttachment(r,o,u);return null==l?null:(l.path=u,l.x=this.getValue(e,"x",0)*s,l.y=this.getValue(e,"y",0)*s,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*s,l.height=e.height*s,null!=(g=this.getValue(e,"color",null))&&l.color.setFromString(g),l);case"boundingbox":var c=this.attachmentLoader.newBoundingBoxAttachment(r,o);return null==c?null:(this.readVertices(e,c,e.vertexCount<<1),null!=(g=this.getValue(e,"color",null))&&c.color.setFromString(g),c);case"mesh":case"linkedmesh":u=this.getValue(e,"path",o);var h=this.attachmentLoader.newMeshAttachment(r,o,u);if(null==h)return null;h.path=u,null!=(g=this.getValue(e,"color",null))&&h.color.setFromString(g);var f=this.getValue(e,"parent",null);if(null!=f)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new n(h,this.getValue(e,"skin",null),i,f)),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=d,h.hullLength=2*this.getValue(e,"hull",0),h;case"path":if(null==(u=this.attachmentLoader.newPathAttachment(r,o)))return null;u.closed=this.getValue(e,"closed",!1),u.constantSpeed=this.getValue(e,"constantSpeed",!0);var p=e.vertexCount;this.readVertices(e,u,p<<1);for(var _=t.Utils.newArray(p/3,0),m=0;m<e.lengths.length;m++)_[m]=e.lengths[m]*s;return u.lengths=_,null!=(g=this.getValue(e,"color",null))&&u.color.setFromString(g),u;case"point":var y=this.attachmentLoader.newPointAttachment(r,o);return null==y?null:(y.x=this.getValue(e,"x",0)*s,y.y=this.getValue(e,"y",0)*s,y.rotation=this.getValue(e,"rotation",0),null!=(g=this.getValue(e,"color",null))&&y.color.setFromString(g),y);case"clipping":var v=this.attachmentLoader.newClippingAttachment(r,o);if(null==v)return null;var g,b=this.getValue(e,"end",null);if(null!=b){var w=a.findSlot(b);if(null==w)throw new Error("Clipping end slot not found: "+b);v.endSlot=w}return p=e.vertexCount,this.readVertices(e,v,p<<1),null!=(g=this.getValue(e,"color",null))&&v.color.setFromString(g),v}return null},e.prototype.readVertices=function(e,n,r){var i=this.scale;n.worldVerticesLength=r;var o=e.vertices;if(r!=o.length){var a=new Array,s=new Array;for(h=0,f=o.length;h<f;){var u=o[h++];s.push(u);for(var l=h+4*u;h<l;h+=4)s.push(o[h]),a.push(o[h+1]*i),a.push(o[h+2]*i),a.push(o[h+3])}n.bones=s,n.vertices=t.Utils.toFloatArray(a)}else{var c=t.Utils.toFloatArray(o);if(1!=i)for(var h=0,f=o.length;h<f;h++)c[h]*=i;n.vertices=c}},e.prototype.readAnimation=function(e,n,r){var i=this.scale,o=new Array,a=0;if(e.slots)for(var s in e.slots){var u=e.slots[s];if(-1==(Q=r.findSlotIndex(s)))throw new Error("Slot not found: "+s);for(var l in u){var c=u[l];if("attachment"==l){(b=new t.AttachmentTimeline(c.length)).slotIndex=Q;for(var h=0,f=0;f<c.length;f++){var d=c[f];b.setFrame(h++,d.time,d.name)}o.push(b),a=Math.max(a,b.frames[b.getFrameCount()-1])}else if("color"==l){for((b=new t.ColorTimeline(c.length)).slotIndex=Q,h=0,f=0;f<c.length;f++){d=c[f];var p=new t.Color;p.setFromString(d.color||"ffffffff"),b.setFrame(h,d.time,p.r,p.g,p.b,p.a),this.readCurve(d,b,h),h++}o.push(b),a=Math.max(a,b.frames[(b.getFrameCount()-1)*t.ColorTimeline.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: "+l+" ("+s+")");for((b=new t.TwoColorTimeline(c.length)).slotIndex=Q,h=0,f=0;f<c.length;f++){d=c[f];var _=new t.Color,m=new t.Color;_.setFromString(d.light),m.setFromString(d.dark),b.setFrame(h,d.time,_.r,_.g,_.b,_.a,m.r,m.g,m.b),this.readCurve(d,b,h),h++}o.push(b),a=Math.max(a,b.frames[(b.getFrameCount()-1)*t.TwoColorTimeline.ENTRIES])}}}if(e.bones)for(var y in e.bones){var v=e.bones[y],g=r.findBoneIndex(y);if(-1==g)throw new Error("Bone not found: "+y);for(var l in v)if(c=v[l],"rotate"===l){for((b=new t.RotateTimeline(c.length)).boneIndex=g,h=0,f=0;f<c.length;f++)d=c[f],b.setFrame(h,d.time,d.angle),this.readCurve(d,b,h),h++;o.push(b),a=Math.max(a,b.frames[(b.getFrameCount()-1)*t.RotateTimeline.ENTRIES])}else{if("translate"!==l&&"scale"!==l&&"shear"!==l)throw new Error("Invalid timeline type for a bone: "+l+" ("+y+")");var b=null,w=1;for("scale"===l?b=new t.ScaleTimeline(c.length):"shear"===l?b=new t.ShearTimeline(c.length):(b=new t.TranslateTimeline(c.length),w=i),b.boneIndex=g,h=0,f=0;f<c.length;f++){d=c[f];var x=this.getValue(d,"x",0),T=this.getValue(d,"y",0);b.setFrame(h,d.time,x*w,T*w),this.readCurve(d,b,h),h++}o.push(b),a=Math.max(a,b.frames[(b.getFrameCount()-1)*t.TranslateTimeline.ENTRIES])}}if(e.ik)for(var E in e.ik){var P=e.ik[E],S=r.findIkConstraint(E);for((b=new t.IkConstraintTimeline(P.length)).ikConstraintIndex=r.ikConstraints.indexOf(S),h=0,f=0;f<P.length;f++)d=P[f],b.setFrame(h,d.time,this.getValue(d,"mix",1),this.getValue(d,"bendPositive",!0)?1:-1),this.readCurve(d,b,h),h++;o.push(b),a=Math.max(a,b.frames[(b.getFrameCount()-1)*t.IkConstraintTimeline.ENTRIES])}if(e.transform)for(var E in e.transform){for(P=e.transform[E],S=r.findTransformConstraint(E),(b=new t.TransformConstraintTimeline(P.length)).transformConstraintIndex=r.transformConstraints.indexOf(S),h=0,f=0;f<P.length;f++)d=P[f],b.setFrame(h,d.time,this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1),this.getValue(d,"scaleMix",1),this.getValue(d,"shearMix",1)),this.readCurve(d,b,h),h++;o.push(b),a=Math.max(a,b.frames[(b.getFrameCount()-1)*t.TransformConstraintTimeline.ENTRIES])}if(e.paths)for(var E in e.paths){P=e.paths[E];var M=r.findPathConstraintIndex(E);if(-1==M)throw new Error("Path constraint not found: "+E);var O=r.pathConstraints[M];for(var l in P)if(c=P[l],"position"===l||"spacing"===l){for(b=null,w=1,"spacing"===l?(b=new t.PathConstraintSpacingTimeline(c.length),O.spacingMode!=t.SpacingMode.Length&&O.spacingMode!=t.SpacingMode.Fixed||(w=i)):(b=new t.PathConstraintPositionTimeline(c.length),O.positionMode==t.PositionMode.Fixed&&(w=i)),b.pathConstraintIndex=M,h=0,f=0;f<c.length;f++)d=c[f],b.setFrame(h,d.time,this.getValue(d,l,0)*w),this.readCurve(d,b,h),h++;o.push(b),a=Math.max(a,b.frames[(b.getFrameCount()-1)*t.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===l){for((b=new t.PathConstraintMixTimeline(c.length)).pathConstraintIndex=M,h=0,f=0;f<c.length;f++)d=c[f],b.setFrame(h,d.time,this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1)),this.readCurve(d,b,h),h++;o.push(b),a=Math.max(a,b.frames[(b.getFrameCount()-1)*t.PathConstraintMixTimeline.ENTRIES])}}if(e.deform)for(var I in e.deform){var k=e.deform[I],L=r.findSkin(I);if(null==L)throw new Error("Skin not found: "+I);for(var s in k){if(u=k[s],-1==(Q=r.findSlotIndex(s)))throw new Error("Slot not found: "+u.name);for(var l in u){c=u[l];var A=L.getAttachment(Q,l);if(null==A)throw new Error("Deform attachment not found: "+c.name);var D=null!=A.bones,R=A.vertices,C=D?R.length/3*2:R.length;(b=new t.DeformTimeline(c.length)).slotIndex=Q,b.attachment=A,h=0;for(var j=0;j<c.length;j++){d=c[j];var Y=void 0,N=this.getValue(d,"vertices",null);if(null==N)Y=D?t.Utils.newFloatArray(C):R;else{Y=t.Utils.newFloatArray(C);var B=this.getValue(d,"offset",0);if(t.Utils.arrayCopy(N,0,Y,B,N.length),1!=i)for(var F=(f=B)+N.length;f<F;f++)Y[f]*=i;if(!D)for(f=0;f<C;f++)Y[f]+=R[f]}b.setFrame(h,d.time,Y),this.readCurve(d,b,h),h++}o.push(b),a=Math.max(a,b.frames[b.getFrameCount()-1])}}}var H=e.drawOrder;if(null==H&&(H=e.draworder),null!=H){b=new t.DrawOrderTimeline(H.length);var V=r.slots.length;for(h=0,j=0;j<H.length;j++){var q=H[j],W=null,U=this.getValue(q,"offsets",null);if(null!=U){W=t.Utils.newArray(V,-1);var X=t.Utils.newArray(V-U.length,0),G=0,z=0;for(f=0;f<U.length;f++){var Q,J=U[f];if(-1==(Q=r.findSlotIndex(J.slot)))throw new Error("Slot not found: "+J.slot);for(;G!=Q;)X[z++]=G++;W[G+J.offset]=G++}for(;G<V;)X[z++]=G++;for(f=V-1;f>=0;f--)-1==W[f]&&(W[f]=X[--z])}b.setFrame(h++,q.time,W)}o.push(b),a=Math.max(a,b.frames[b.getFrameCount()-1])}if(e.events){for(b=new t.EventTimeline(e.events.length),h=0,f=0;f<e.events.length;f++){var K=e.events[f],Z=r.findEvent(K.name);if(null==Z)throw new Error("Event not found: "+K.name);var $=new t.Event(t.Utils.toSinglePrecision(K.time),Z);$.intValue=this.getValue(K,"int",Z.intValue),$.floatValue=this.getValue(K,"float",Z.floatValue),$.stringValue=this.getValue(K,"string",Z.stringValue),b.setFrame(h++,$)}o.push(b),a=Math.max(a,b.frames[b.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new t.Animation(n,o,a))},e.prototype.readCurve=function(t,e,n){if(t.curve)if("stepped"===t.curve)e.setStepped(n);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var r=t.curve;e.setCurve(n,r[0],r[1],r[2],r[3])}},e.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},e.blendModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.BlendMode.Normal;if("additive"==e)return t.BlendMode.Additive;if("multiply"==e)return t.BlendMode.Multiply;if("screen"==e)return t.BlendMode.Screen;throw new Error("Unknown blend mode: "+e)},e.positionModeFromString=function(e){if("fixed"==(e=e.toLowerCase()))return t.PositionMode.Fixed;if("percent"==e)return t.PositionMode.Percent;throw new Error("Unknown position mode: "+e)},e.spacingModeFromString=function(e){if("length"==(e=e.toLowerCase()))return t.SpacingMode.Length;if("fixed"==e)return t.SpacingMode.Fixed;if("percent"==e)return t.SpacingMode.Percent;throw new Error("Unknown position mode: "+e)},e.rotateModeFromString=function(e){if("tangent"==(e=e.toLowerCase()))return t.RotateMode.Tangent;if("chain"==e)return t.RotateMode.Chain;if("chainscale"==e)return t.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+e)},e.transformModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.TransformMode.Normal;if("onlytranslation"==e)return t.TransformMode.OnlyTranslation;if("norotationorreflection"==e)return t.TransformMode.NoRotationOrReflection;if("noscale"==e)return t.TransformMode.NoScale;if("noscaleorreflection"==e)return t.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},e}();t.SkeletonJson=e;var n=function(t,e,n,r){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r}}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function t(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return t.prototype.addAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},t.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},t.prototype.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var i=t.slots[r],o=i.getAttachment();if(o&&n<e.attachments.length){var a=e.attachments[n];for(var s in a)if(o==a[s]){var u=this.getAttachment(n,name);null!=u&&i.setAttachment(u);break}}n++}},t}();t.Skin=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(e,n){if(this.attachmentVertices=new Array,null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("bone cannot be null.");this.data=e,this.bone=n,this.color=new t.Color,this.darkColor=null==e.darkColor?null:new t.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}();t.Slot=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(e,n,r){if(this.color=new t.Color(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=e,this.name=n,this.boneData=r};t.SlotData=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e,n,r=function(){function t(t){this._image=t}return t.prototype.getImage=function(){return this._image},t.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},t.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return n.MirroredRepeat;case"clamptoedge":return n.ClampToEdge;case"repeat":return n.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t}();t.Texture=r,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(e=t.TextureFilter||(t.TextureFilter={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(n=t.TextureWrap||(t.TextureWrap={}));var i=function(){function t(){this.size=null}return Object.defineProperty(t.prototype,"width",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.width:t.trim?t.trim.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.height:t.trim?t.trim.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.width:t.crop.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.height:t.crop.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),t}();t.TextureRegion=i}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(t,e,n){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,n)}return e.prototype.addTexture=function(e,n){for(var o=this.pages,a=null,s=0;s<o.length;s++)if(o[s].baseTexture===n.baseTexture){a=o[s];break}if(null===a){(a=new r).name="texturePage";var u=n.baseTexture;a.width=u.realWidth,a.height=u.realHeight,a.baseTexture=u,a.minFilter=a.magFilter=t.TextureFilter.Nearest,a.uWrap=t.TextureWrap.ClampToEdge,a.vWrap=t.TextureWrap.ClampToEdge,o.push(a)}var l=new i;return l.name=e,l.page=a,l.texture=n,l.index=-1,this.regions.push(l),l},e.prototype.addTextureHash=function(t,e){for(var n in t)t.hasOwnProperty(n)&&this.addTexture(e&&-1!==n.indexOf(".")?n.substr(0,n.lastIndexOf(".")):n,t[n])},e.prototype.addSpineAtlas=function(t,e,n){return this.load(t,e,n)},e.prototype.load=function(e,o,a){var s=this;if(null==o)throw new Error("textureLoader cannot be null.");var u=new n(e),l=new Array(4),c=null,h=function(){for(;;){var e=u.readLine();if(null==e)return a&&a(s);if(0==(e=e.trim()).length)c=null;else{if(!c){(c=new r).name=e,2==u.readTuple(l)&&(c.width=parseInt(l[0]),c.height=parseInt(l[1]),u.readTuple(l)),u.readTuple(l),c.minFilter=t.Texture.filterFromString(l[0]),c.magFilter=t.Texture.filterFromString(l[1]);var n=u.readValue();c.uWrap=t.TextureWrap.ClampToEdge,c.vWrap=t.TextureWrap.ClampToEdge,"x"==n?c.uWrap=t.TextureWrap.Repeat:"y"==n?c.vWrap=t.TextureWrap.Repeat:"xy"==n&&(c.uWrap=c.vWrap=t.TextureWrap.Repeat),o(e,function(t){c.baseTexture=t,t.hasLoaded||(t.width=c.width,t.height=c.height),s.pages.push(c),c.setFilters(),c.width&&c.height||(c.width=t.realWidth,c.height=t.realHeight,c.width&&c.height||console.log("ERROR spine atlas page "+c.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()}),s.pages.push(c);break}var f=new i;f.name=e,f.page=c;var d="true"==u.readValue()?6:0;u.readTuple(l);var p=parseInt(l[0]),_=parseInt(l[1]);u.readTuple(l);var m=parseInt(l[0]),y=parseInt(l[1]),v=c.baseTexture.resolution;p/=v,_/=v,m/=v,y/=v;var g=new PIXI.Rectangle(p,_,d?y:m,d?m:y);4==u.readTuple(l)&&4==u.readTuple(l)&&u.readTuple(l);var b=parseInt(l[0])/v,w=parseInt(l[1])/v;u.readTuple(l);var x=parseInt(l[0])/v,T=parseInt(l[1])/v,E=new PIXI.Rectangle(0,0,b,w),P=new PIXI.Rectangle(x,w-y-T,m,y);if("3"!=PIXI.VERSION[0])f.texture=new PIXI.Texture(f.page.baseTexture,g,E,P,d);else{var S=new PIXI.Rectangle(p,_,m,y),M=S.clone();P.width=b,P.height=w,f.texture=new PIXI.Texture(f.page.baseTexture,S,M,P,d)}f.index=parseInt(u.readValue()),f.texture._updateUvs(),s.regions.push(f)}}};h()},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},e}();t.TextureAtlas=e;var n=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var r=0,i=n+1;r<3;r++){var o=e.indexOf(",",i);if(-1==o)break;t[r]=e.substr(i,o-i).trim(),i=o+1}return t[r]=e.substring(i).trim(),r+1},t}(),r=function(){function e(){}return e.prototype.setFilters=function(){var e=this.baseTexture,n=this.minFilter;n==t.TextureFilter.Linear?e.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==t.TextureFilter.Nearest?e.scaleMode=PIXI.SCALE_MODES.NEAREST:(e.mipmap=!0,n==t.TextureFilter.MipMapNearestNearest?e.scaleMode=PIXI.SCALE_MODES.NEAREST:e.scaleMode=PIXI.SCALE_MODES.LINEAR)},e}();t.TextureAtlasPage=r;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t.TextureRegion);t.TextureAtlasRegion=i}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(e,n){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new t.Vector2,null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var r=0;r<e.bones.length;r++)this.bones.push(n.findBone(e.bones[r].name));this.target=n.findBone(e.target.name)}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,n=this.translateMix,r=this.scaleMix,i=this.shearMix,o=this.target,a=o.matrix,s=a.a,u=a.c,l=a.b,c=a.d,h=s*c-u*l>0?t.MathUtils.degRad:-t.MathUtils.degRad,f=this.data.offsetRotation*h,d=this.data.offsetShearY*h,p=this.bones,_=0,m=p.length;_<m;_++){var y=p[_],v=!1,g=y.matrix;if(0!=e){var b=g.a,w=g.c,x=g.b,T=g.d;(I=Math.atan2(l,s)-Math.atan2(x,b)+f)>t.MathUtils.PI?I-=t.MathUtils.PI2:I<-t.MathUtils.PI&&(I+=t.MathUtils.PI2),I*=e;var E=Math.cos(I),P=Math.sin(I);g.a=E*b-P*x,g.c=E*w-P*T,g.b=P*b+E*x,g.d=P*w+E*T,v=!0}if(0!=n){var S=this.temp;o.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),g.tx+=(S.x-g.tx)*n,g.ty+=(S.y-g.ty)*n,v=!0}if(r>0){var M=Math.sqrt(g.a*g.a+g.b*g.b),O=Math.sqrt(s*s+l*l);M>1e-5&&(M=(M+(O-M+this.data.offsetScaleX)*r)/M),g.a*=M,g.b*=M,M=Math.sqrt(g.c*g.c+g.d*g.d),O=Math.sqrt(u*u+c*c),M>1e-5&&(M=(M+(O-M+this.data.offsetScaleY)*r)/M),g.c*=M,g.d*=M,v=!0}if(i>0){w=g.c,T=g.d;var I,k=Math.atan2(T,w);(I=Math.atan2(c,u)-Math.atan2(l,s)-(k-Math.atan2(g.b,g.a)))>t.MathUtils.PI?I-=t.MathUtils.PI2:I<-t.MathUtils.PI&&(I+=t.MathUtils.PI2),I=k+(I+d)*i,M=Math.sqrt(w*w+T*T),g.c=Math.cos(I)*M,g.d=Math.sin(I)*M,v=!0}v&&(y.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,n=this.translateMix,r=this.scaleMix,i=this.shearMix,o=this.target,a=o.matrix,s=a.a,u=a.c,l=a.b,c=a.d,h=s*c-u*l>0?t.MathUtils.degRad:-t.MathUtils.degRad,f=this.data.offsetRotation*h,d=this.data.offsetShearY*h,p=this.bones,_=0,m=p.length;_<m;_++){var y,v=p[_],g=!1,b=v.matrix;if(0!=e){var w=b.a,x=b.c,T=b.b,E=b.d;(y=Math.atan2(l,s)+f)>t.MathUtils.PI?y-=t.MathUtils.PI2:y<-t.MathUtils.PI&&(y+=t.MathUtils.PI2),y*=e;var P=Math.cos(y),S=Math.sin(y);b.a=P*w-S*T,b.c=P*x-S*E,b.b=S*w+P*T,b.d=S*x+P*E,g=!0}if(0!=n){var M=this.temp;o.localToWorld(M.set(this.data.offsetX,this.data.offsetY)),b.tx+=M.x*n,b.ty+=M.y*n,g=!0}if(r>0){var O=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*r+1;b.a*=O,b.b*=O,O=(Math.sqrt(u*u+c*c)-1+this.data.offsetScaleY)*r+1,b.c*=O,b.d*=O,g=!0}if(i>0)(y=Math.atan2(c,u)-Math.atan2(l,s))>t.MathUtils.PI?y-=t.MathUtils.PI2:y<-t.MathUtils.PI&&(y+=t.MathUtils.PI2),x=b.c,E=b.d,y=Math.atan2(E,x)+(y-t.MathUtils.PI/2+d)*i,O=Math.sqrt(x*x+E*E),b.c=Math.cos(y)*O,b.d=Math.sin(y)*O,g=!0;g&&(v.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;if(0!=t){var c=i.arotation-l+this.data.offsetRotation;l+=(c-=360*(16384-(16384.499999999996-c/360|0)))*t}var h=u.ax,f=u.ay;0!=e&&(h+=(i.ax-h+this.data.offsetX)*e,f+=(i.ay-f+this.data.offsetY)*e);var d=u.ascaleX,p=u.ascaleY;n>0&&(d>1e-5&&(d=(d+(i.ascaleX-d+this.data.offsetScaleX)*n)/d),p>1e-5&&(p=(p+(i.ascaleY-p+this.data.offsetScaleY)*n)/p));var _=u.ashearY;r>0&&(c=i.ashearY-_+this.data.offsetShearY,c-=360*(16384-(16384.499999999996-c/360|0)),u.shearY+=c*r),u.updateWorldTransformWith(h,f,l,d,p,u.ashearX,_)}},e.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;0!=t&&(l+=(i.arotation+this.data.offsetRotation)*t);var c=u.ax,h=u.ay;0!=e&&(c+=(i.ax+this.data.offsetX)*e,h+=(i.ay+this.data.offsetY)*e);var f=u.ascaleX,d=u.ascaleY;n>0&&(f>1e-5&&(f*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(i.ascaleY-1+this.data.offsetScaleY)*n+1));var p=u.ashearY;r>0&&(p+=(i.ashearY+this.data.offsetShearY)*r),u.updateWorldTransformWith(c,h,l,f,d,u.ashearX,p)}},e.prototype.getOrder=function(){return this.data.order},e}();t.TransformConstraint=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t};t.TransformConstraintData=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool(function(){return new Array}),this.polygonIndicesPool=new t.Pool(function(){return new Array})}return e.prototype.triangulate=function(t){var n=t,r=t.length>>1,i=this.indicesArray;i.length=0;for(var o=0;o<r;o++)i[o]=o;var a=this.isConcaveArray;a.length=0,o=0;for(var s=r;o<s;++o)a[o]=e.isConcave(o,r,n,i);var u=this.triangles;for(u.length=0;r>3;){for(var l=r-1,c=(o=0,1);;){t:if(!a[o]){for(var h=i[l]<<1,f=i[o]<<1,d=i[c]<<1,p=n[h],_=n[h+1],m=n[f],y=n[f+1],v=n[d],g=n[d+1],b=(c+1)%r;b!=l;b=(b+1)%r)if(a[b]){var w=i[b]<<1,x=n[w],T=n[w+1];if(e.positiveArea(v,g,p,_,x,T)&&e.positiveArea(p,_,m,y,x,T)&&e.positiveArea(m,y,v,g,x,T))break t}break}if(0==c){do{if(!a[o])break;o--}while(o>0);break}l=o,o=c,c=(c+1)%r}u.push(i[(r+o-1)%r]),u.push(i[o]),u.push(i[(o+1)%r]),i.splice(o,1),a.splice(o,1);var E=(--r+o-1)%r,P=o==r?0:o;a[E]=e.isConcave(E,r,n,i),a[P]=e.isConcave(P,r,n,i)}return 3==r&&(u.push(i[2]),u.push(i[0]),u.push(i[1])),u},e.prototype.decompose=function(t,n){var r=t,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;var o=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(o),o.length=0;var a=this.polygonIndicesPool.obtain();a.length=0;var s=this.polygonPool.obtain();s.length=0;for(var u=-1,l=0,c=0,h=n.length;c<h;c+=3){var f=n[c]<<1,d=n[c+1]<<1,p=n[c+2]<<1,_=r[f],m=r[f+1],y=r[d],v=r[d+1],g=r[p],b=r[p+1],w=!1;if(u==f){var x=s.length-4,T=e.winding(s[x],s[x+1],s[x+2],s[x+3],g,b),E=e.winding(g,b,s[0],s[1],s[2],s[3]);T==l&&E==l&&(s.push(g),s.push(b),a.push(p),w=!0)}w||(s.length>0?(i.push(s),o.push(a)):(this.polygonPool.free(s),this.polygonIndicesPool.free(a)),(s=this.polygonPool.obtain()).length=0,s.push(_),s.push(m),s.push(y),s.push(v),s.push(g),s.push(b),(a=this.polygonIndicesPool.obtain()).length=0,a.push(f),a.push(d),a.push(p),l=e.winding(_,m,y,v,g,b),u=f)}for(s.length>0&&(i.push(s),o.push(a)),c=0,h=i.length;c<h;c++)if(0!=(a=o[c]).length)for(var P=a[0],S=a[a.length-1],M=(s=i[c])[x=s.length-4],O=s[x+1],I=s[x+2],k=s[x+3],L=s[0],A=s[1],D=s[2],R=s[3],C=e.winding(M,O,I,k,L,A),j=0;j<h;j++)if(j!=c){var Y=o[j];if(3==Y.length){var N=Y[0],B=Y[1],F=Y[2],H=i[j];g=H[H.length-2],b=H[H.length-1],N==P&&B==S&&(T=e.winding(M,O,I,k,g,b),E=e.winding(g,b,L,A,D,R),T==C&&E==C&&(H.length=0,Y.length=0,s.push(g),s.push(b),a.push(F),M=I,O=k,I=g,k=b,j=0))}}for(c=i.length-1;c>=0;c--)0==(s=i[c]).length&&(i.splice(c,1),this.polygonPool.free(s),a=o[c],o.splice(c,1),this.polygonIndicesPool.free(a));return i},e.isConcave=function(t,e,n,r){var i=r[(e+t-1)%e]<<1,o=r[t]<<1,a=r[(t+1)%e]<<1;return!this.positiveArea(n[i],n[i+1],n[o],n[o+1],n[a],n[a+1])},e.positiveArea=function(t,e,n,r,i,o){return t*(o-r)+n*(e-o)+i*(r-e)>=0},e.winding=function(t,e,n,r,i,o){var a=n-t,s=r-e;return i*s-o*a+a*e-t*s>=0?1:-1},e}();t.Triangulator=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function t(){this.array=new Array}return t.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},t.prototype.contains=function(t){return null!=this.array[0|t]},t.prototype.remove=function(t){this.array[0|t]=void 0},t.prototype.clear=function(){this.array.length=0},t}();t.IntSet=e;var n=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=t,this.g=e,this.b=n,this.a=r}return t.prototype.set=function(t,e,n,r){return this.r=t,this.g=e,this.b=n,this.a=r,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,n,r){return this.r+=t,this.g+=e,this.b+=n,this.a+=r,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}();t.Color=n;var r=function(){function t(){}return t.clamp=function(t,e,n){return t<e?e:t>n?n:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(t){return t>0?1:t<0?-1:0},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},t.randomTriangular=function(e,n){return t.randomTriangularWith(e,n,.5*(e+n))},t.randomTriangularWith=function(t,e,n){var r=Math.random(),i=e-t;return r<=(n-t)/i?t+Math.sqrt(r*i*(n-t)):e-Math.sqrt((1-r)*i*(e-n))},t.PI=3.1415927,t.PI2=2*t.PI,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}();t.MathUtils=r;var i=function(){function t(){}return t.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)},t}();t.Interpolation=i;var a=function(t){function e(e){var n=t.call(this)||this;return n.power=2,n.power=e,n}return o(e,t),e.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},e}(i);t.Pow=a;var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},e}(a);t.PowOut=s;var u=function(){function t(){}return t.arrayCopy=function(t,e,n,r,i){for(var o=e,a=r;o<e+i;o++,a++)n[a]=t[o]},t.setArraySize=function(t,e,n){void 0===n&&(n=0);var r=t.length;if(r==e)return t;if(t.length=e,r<e)for(var i=r;i<e;i++)t[i]=n;return t},t.ensureArrayCapacity=function(e,n,r){return void 0===r&&(r=0),e.length>=n?e:t.setArraySize(e,n,r)},t.newArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var n=new Array(e),r=0;r<n.length;r++)n[r]=0;return n},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var n=new Array(e),r=0;r<n.length;r++)n[r]=0;return n},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e},t.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t}();t.Utils=u;var l=function(){function t(){}return t.logBones=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e],r=n.matrix;console.log(n.data.name+", "+r.a+", "+r.b+", "+r.c+", "+r.d+", "+r.tx+", "+r.ty)}},t}();t.DebugUtils=l;var c=function(){function t(t){this.items=new Array,this.instantiator=t}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},t.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},t.prototype.clear=function(){this.items.length=0},t}();t.Pool=c;var h=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}();t.Vector2=h;var f=function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t}();t.TimeKeeper=f;var d=function(){function t(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}return t.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},t.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},t.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t}();t.WindowedMean=d}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(t){if(null==t)throw new Error("name cannot be null.");this.name=t};t.Attachment=e;var n=function(t){function e(n){var r=t.call(this,n)||this;return r.id=(65535&e.nextID++)<<11,r.worldVerticesLength=0,r}return o(e,t),e.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},e.prototype.computeWorldVertices=function(t,e,n,r,i,o){n=i+(n>>1)*o;var a=t.bone.skeleton,s=t.attachmentVertices,u=this.vertices,l=this.bones;if(null!=l){for(var c=0,h=0,f=0;f<e;f+=2)c+=(m=l[c])+1,h+=m;var d=a.bones;if(0==s.length)for(O=i,E=3*h;O<n;O+=o){var p=0,_=0,m=l[c++];for(m+=c;c<m;c++,E+=3){b=d[l[c]].matrix,I=u[E],k=u[E+1];var y=u[E+2];p+=(I*b.a+k*b.c+b.tx)*y,_+=(I*b.b+k*b.d+b.ty)*y}r[O]=p,r[O+1]=_}else for(var v=s,g=(O=i,E=3*h,h<<1);O<n;O+=o){for(p=0,_=0,m=l[c++],m+=c;c<m;c++,E+=3,g+=2)b=d[l[c]].matrix,I=u[E]+v[g],k=u[E+1]+v[g+1],y=u[E+2],p+=(I*b.a+k*b.c+b.tx)*y,_+=(I*b.b+k*b.d+b.ty)*y;r[O]=p,r[O+1]=_}}else{s.length>0&&(u=s);for(var b,w=(b=t.bone.matrix).tx,x=b.ty,T=b.a,E=b.c,P=b.b,S=b.d,M=e,O=i;O<n;M+=2,O+=o){var I=u[M],k=u[M+1];r[O]=I*T+k*E+w,r[O+1]=I*P+k*S+x}}},e.prototype.applyDeform=function(t){return this==t},e.nextID=0,e}(e);t.VertexAttachment=n}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point"}(t.AttachmentType||(t.AttachmentType={}))}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(1,1,1,1),r}return o(n,e),n}(t.VertexAttachment);t.BoundingBoxAttachment=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(.2275,.2275,.8078,1),r}return o(n,e),n}(t.VertexAttachment);t.ClippingAttachment=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(1,1,1,1),r.inheritDeform=!1,r.tempColor=new t.Color(0,0,0,0),r}return o(n,e),n.prototype.updateUVs=function(e,n){var r=this.regionUVs.length;if(n&&n.length==r||(n=t.Utils.newFloatArray(r)),null!=e){for(var i=e.texture._uvs,o=e.width,a=e.height,s=e.originalWidth,u=e.originalHeight,l=e.offsetX,c=e.pixiOffsetY,h=0;h<r;h+=2){var f=this.regionUVs[h],d=this.regionUVs[h+1];f=(f*s-l)/o,d=(d*u-c)/a,n[h]=(i.x0*(1-f)+i.x1*f)*(1-d)+(i.x3*(1-f)+i.x2*f)*d,n[h+1]=(i.y0*(1-f)+i.y1*f)*(1-d)+(i.y3*(1-f)+i.y2*f)*d}return n}},n.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},n.prototype.getParentMesh=function(){return this.parentMesh},n.prototype.setParentMesh=function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},n}(t.VertexAttachment);t.MeshAttachment=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.closed=!1,r.constantSpeed=!1,r.color=new t.Color(1,1,1,1),r}return o(n,e),n}(t.VertexAttachment);t.PathAttachment=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(.38,.94,0,1),r}return o(n,e),n.prototype.computeWorldPosition=function(t,e){var n=t.matrix;return e.x=this.x*n.a+this.y*n.c+t.worldX,e.y=this.x*n.b+this.y*n.d+t.worldY,e},n.prototype.computeWorldRotation=function(e){var n=e.matrix,r=t.MathUtils.cosDeg(this.rotation),i=t.MathUtils.sinDeg(this.rotation),o=r*n.a+i*n.c,a=r*n.b+i*n.d;return Math.atan2(a,o)*t.MathUtils.radDeg},n}(t.VertexAttachment);t.PointAttachment=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new t.Color(1,1,1,1),r.offset=t.Utils.newFloatArray(8),r.uvs=t.Utils.newFloatArray(8),r.tempColor=new t.Color(1,1,1,1),r}return o(n,e),n.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*e,o=r+this.region.width*t,a=i+this.region.height*e,s=this.rotation*Math.PI/180,u=Math.cos(s),l=Math.sin(s),c=r*u+this.x,h=r*l,f=i*u+this.y,d=i*l,p=o*u+this.x,_=o*l,m=a*u+this.y,y=a*l,v=this.offset;v[n.OX1]=c-d,v[n.OY1]=f+h,v[n.OX2]=c-y,v[n.OY2]=m+h,v[n.OX3]=p-y,v[n.OY3]=m+_,v[n.OX4]=p-d,v[n.OY4]=f+_},n.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},n.prototype.computeWorldVertices=function(t,e,r,i){var o=this.offset,a=t.matrix,s=a.tx,u=a.ty,l=a.a,c=a.c,h=a.b,f=a.d,d=0,p=0;d=o[n.OX1],p=o[n.OY1],e[r]=d*l+p*c+s,e[r+1]=d*h+p*f+u,r+=i,d=o[n.OX2],p=o[n.OY2],e[r]=d*l+p*c+s,e[r+1]=d*h+p*f+u,r+=i,d=o[n.OX3],p=o[n.OY3],e[r]=d*l+p*c+s,e[r+1]=d*h+p*f+u,r+=i,d=o[n.OX4],p=o[n.OY4],e[r]=d*l+p*c+s,e[r+1]=d*h+p*f+u},n.OX1=0,n.OY1=1,n.OX2=2,n.OY2=3,n.OX3=4,n.OY3=5,n.OX4=6,n.OY4=7,n.X1=0,n.Y1=1,n.C1R=2,n.C1G=3,n.C1B=4,n.C1A=5,n.U1=6,n.V1=7,n.X2=8,n.Y2=9,n.C2R=10,n.C2G=11,n.C2B=12,n.C2A=13,n.U2=14,n.V2=15,n.X3=16,n.Y3=17,n.C3R=18,n.C3G=19,n.C3B=20,n.C3A=21,n.U3=22,n.V3=23,n.X4=24,n.Y4=25,n.C4R=26,n.C4G=27,n.C4B=28,n.C4A=29,n.U4=30,n.V4=31,n}(t.Attachment);t.RegionAttachment=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return e.prototype.begin=function(t){},e.prototype.transform=function(e,n,r,i){e.x+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e}();t.JitterEffect=e}(t.core||(t.core={}))}(i||(i={})),function(t){!function(t){var e=function(){function e(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return e.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},e.prototype.transform=function(n,r,i,o){var a=this.angle*t.MathUtils.degreesToRadians,s=n.x-this.worldX,u=n.y-this.worldY,l=Math.sqrt(s*s+u*u);if(l<this.radius){var c=e.interpolation.apply(0,a,(this.radius-l)/this.radius),h=Math.cos(c),f=Math.sin(c);n.x=h*s-f*u+this.worldX,n.y=f*s+h*u+this.worldY}},e.prototype.end=function(){},e.interpolation=new t.PowOut(2),e}();t.SwirlEffect=e}(t.core||(t.core={}))}(i||(i={})),function(t){PIXI.spine=t;var e=PIXI.Texture.prototype;e._updateUvs||(e._updateUvs=e.updateUvs)}(i||(i={})),function(t){function e(){return function(e,i){if(!e.data||e.type!==PIXI.loaders.Resource.TYPE.JSON||!e.data.bones)return i();var o=e.metadata||{},a=o?e.metadata.spineSkeletonScale:null,s=o?e.metadata.spineAtlas:null;if(!1===s)return i();if(s&&s.pages){var u=new t.core.SkeletonJson(new t.core.AtlasAttachmentLoader(s)).readSkeletonData(e.data);return e.spineData=u,e.spineAtlas=s,i()}var l=o.spineAtlasSuffix||".atlas",c=e.url.substr(0,e.url.lastIndexOf("."))+l;e.metadata&&e.metadata.spineAtlasFile&&(c=e.metadata.spineAtlasFile),c=c.replace(this.baseUrl,"");var h={crossOrigin:e.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:o.spineMetadata||null,parentResource:e},f={crossOrigin:e.crossOrigin,metadata:o.imageMetadata||null,parentResource:e},d=e.url.substr(0,e.url.lastIndexOf("/")+1);d=d.replace(this.baseUrl,"");var p=o.images?r(o.images):o.image?r({default:o.image}):o.imageLoader?o.imageLoader(this,e.name+"_atlas_page_",d,f):n(this,e.name+"_atlas_page_",d,f),_=function(n){new t.core.TextureAtlas(n,p,function(n){var r=new t.core.SkeletonJson(new t.core.AtlasAttachmentLoader(n));a&&(r.scale=a),e.spineData=r.readSkeletonData(e.data),e.spineAtlas=n,i()})};e.metadata&&e.metadata.atlasRawData?_(e.metadata.atlasRawData):this.add(e.name+"_atlas",c,h,function(t){_(t.xhr.responseText)})}}function n(t,e,n,r){return n&&n.lastIndexOf("/")!==n.length-1&&(n+="/"),function(i,o){var a=e+i,s=n+i;t.add(a,s,r,function(t){o(t.texture.baseTexture)})}}function r(t){return function(e,n){var r=t[e]||t.default;r&&r.baseTexture?n(r.baseTexture):n(r)}}t.atlasParser=e,t.imageLoaderAdapter=n,t.syncImageLoaderAdapter=function(t,e){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,n){n(PIXI.BaseTexture.fromImage(t,e))}},t.staticImageLoader=r,PIXI.loaders.Loader.addPixiMiddleware(e),PIXI.loader.use(e())}(i||(i={})),Math.fround||(Math.fround=Math.fround=(r=new Float32Array(1),function(t){return r[0]=t,r[0]})),function(t){t.core.Bone.yDown=!0;var e=[0,0,0],n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.region=null,e}return o(e,t),e}(PIXI.Sprite);t.SpineSprite=n;var r=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return o(e,t),e}(PIXI.mesh.Mesh);t.SpineMesh=r;var i=function(i){function s(e){var n=i.call(this)||this;if(!e)throw new Error("The spineData param is required.");if("string"==typeof e)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=e,n.skeleton=new t.core.Skeleton(e),n.skeleton.updateWorldTransform(),n.stateData=new t.core.AnimationStateData(e),n.state=new t.core.AnimationState(n.stateData),n.slotContainers=[],n.tempClipContainers=[];for(var r=0,o=n.skeleton.slots.length;r<o;r++){var a=n.skeleton.slots[r],s=a.attachment,u=n.newContainer();if(n.slotContainers.push(u),n.addChild(u),n.tempClipContainers.push(null),s instanceof t.core.RegionAttachment){var l=s.region.name,c=n.createSprite(a,s,l);a.currentSprite=c,a.currentSpriteName=l,u.addChild(c)}else if(s instanceof t.core.MeshAttachment){var h=n.createMesh(a,s);a.currentMesh=h,a.currentMeshName=s.name,u.addChild(h)}else{if(!(s instanceof t.core.ClippingAttachment))continue;n.createGraphics(a,s),u.addChild(a.clippingContainer),u.addChild(a.currentGraphics)}}return n.autoUpdate=!0,n.tintRgb=new Float32Array([1,1,1]),n}return o(s,i),Object.defineProperty(s.prototype,"autoUpdate",{get:function(){return this.updateTransform===s.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?s.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!0,configurable:!0}),s.prototype.update=function(n){this.state.update(n),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();var r=this.skeleton.slots,i=this.color,o=null,s=null;i?(o=i.light,s=i.dark):o=this.tintRgb;for(var u=PIXI.TransformBase&&1==this.transformHack(),l=0,c=r.length;l<c;l++){var h=(L=r[l]).attachment,f=this.slotContainers[l];if(h){var d=null,p=h.color;if(h instanceof t.core.RegionAttachment){var _=h.region;if(_){L.currentMesh&&(L.currentMesh.visible=!1,L.currentMesh=null,L.currentMeshName=void 0);var m=_;if(!L.currentSpriteName||L.currentSpriteName!==m.name){var y=m.name;if(L.currentSprite&&(L.currentSprite.visible=!1),L.sprites=L.sprites||{},void 0!==L.sprites[y])L.sprites[y].visible=!0;else{var v=this.createSprite(L,h,y);f.addChild(v)}L.currentSprite=L.sprites[y],L.currentSpriteName=y}}if(f.transform){var g=w=f.transform,b=null;g.matrix2d?(b=g.matrix2d,g._dirtyVersion++,g.version=g._dirtyVersion,g.isStatic=!0,g.operMode=0):u?(g.position&&((w=new PIXI.TransformBase)._parentID=-1,w._worldID=f.transform._worldID,f.transform=w),b=w.localTransform):g.setFromMatrix(L.bone.matrix),b&&L.bone.matrix.copy(b)}else b=f.localTransform||new PIXI.Matrix,L.bone.matrix.copy(b),f.localTransform=b,f.displayObjectUpdateTransform=a;L.currentSprite.color?d=L.currentSprite.color:(e[0]=o[0]*L.color.r*p.r,e[1]=o[1]*L.color.g*p.g,e[2]=o[2]*L.color.b*p.b,L.currentSprite.tint=PIXI.utils.rgb2hex(e)),L.currentSprite.blendMode=L.blendMode}else if(h instanceof t.core.MeshAttachment){var w;if(L.currentSprite&&(L.currentSprite.visible=!1,L.currentSprite=null,L.currentSpriteName=void 0,f.transform?((w=new PIXI.TransformStatic)._parentID=-1,w._worldID=f.transform._worldID,f.transform=w):(f.localTransform=new PIXI.Matrix,f.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform)),!L.currentMeshName||L.currentMeshName!==h.name){var x=h.name;if(L.currentMesh&&(L.currentMesh.visible=!1),L.meshes=L.meshes||{},void 0!==L.meshes[x])L.meshes[x].visible=!0;else{var T=this.createMesh(L,h);f.addChild(T)}L.currentMesh=L.meshes[x],L.currentMeshName=x}if(h.computeWorldVerticesOld(L,L.currentMesh.vertices),L.currentMesh.color)d=L.currentMesh.color;else if("3"!==PIXI.VERSION[0]){var E=L.currentMesh.tintRgb;E[0]=o[0]*L.color.r*p.r,E[1]=o[1]*L.color.g*p.g,E[2]=o[2]*L.color.b*p.b}L.currentMesh.blendMode=L.blendMode}else{if(!(h instanceof t.core.ClippingAttachment)){f.visible=!1;continue}L.currentGraphics||(this.createGraphics(L,h),f.addChild(L.clippingContainer),f.addChild(L.currentGraphics)),this.updateGraphics(L,h)}if(f.visible=!0,d){var P=L.color.r*p.r,S=L.color.g*p.g,M=L.color.b*p.b;d.setLight(o[0]*P+s[0]*(1-P),o[1]*S+s[1]*(1-S),o[2]*M+s[2]*(1-M)),L.darkColor?(P=L.darkColor.r,S=L.darkColor.g,M=L.darkColor.b):(P=0,S=0,M=0),d.setDark(o[0]*P+s[0]*(1-P),o[1]*S+s[1]*(1-S),o[2]*M+s[2]*(1-M))}f.alpha=L.color.a}else f.visible=!1}var O=this.skeleton.drawOrder,I=null,k=null;for(l=0,c=O.length;l<c;l++){var L=r[O[l].data.index];if(f=this.slotContainers[O[l].data.index],k||f.parent!==this&&(f.parent.removeChild(f),f.parent=this),L.currentGraphics&&L.attachment)k=L.clippingContainer,I=L.attachment,k.children.length=0,this.children[l]=f,I.endSlot==L.data&&(I.endSlot=null);else if(k){var A=this.tempClipContainers[l];A||((A=this.tempClipContainers[l]=this.newContainer()).visible=!1),this.children[l]=A,f.parent=null,k.addChild(f),I.endSlot==L.data&&(k.renderable=!0,k=null,I=null)}else this.children[l]=f}},s.prototype.setSpriteRegion=function(t,e,n){e.region=n,e.texture=n.texture,n.size?(e.scale.x=n.size.width/n.originalWidth,e.scale.y=-n.size.height/n.originalHeight):(e.scale.x=t.scaleX*t.width/n.originalWidth,e.scale.y=-t.scaleY*t.height/n.originalHeight)},s.prototype.setMeshRegion=function(t,e,n){e.region=n,e.texture=n.texture,n.texture._updateUvs(),t.updateUVs(n,e.uvs),e.dirty++},s.prototype.autoUpdateTransform=function(){if(s.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},s.prototype.createSprite=function(e,n,r){var i=n.region;e.tempAttachment===n&&(i=e.tempRegion,e.tempAttachment=null,e.tempRegion=null);var o=i.texture,a=this.newSprite(o);return a.rotation=n.rotation*t.core.MathUtils.degRad,a.anchor.x=.5,a.anchor.y=.5,a.position.x=n.x,a.position.y=n.y,a.alpha=n.color.a,a.region=n.region,this.setSpriteRegion(n,a,n.region),e.sprites=e.sprites||{},e.sprites[r]=a,a},s.prototype.createMesh=function(t,e){var n=e.region;t.tempAttachment===e&&(n=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var r=this.newMesh(n.texture,new Float32Array(e.regionUVs.length),new Float32Array(e.regionUVs.length),new Uint16Array(e.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return r.canvasPadding=1.5,r.alpha=e.color.a,r.region=e.region,this.setMeshRegion(e,r,n),t.meshes=t.meshes||{},t.meshes[e.name]=r,r},s.prototype.createGraphics=function(t,e){var n=this.newGraphics(),r=new PIXI.Polygon([]);return n.clear(),n.beginFill(16777215,1),n.drawPolygon(r),n.renderable=!1,t.currentGraphics=n,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,n},s.prototype.updateGraphics=function(t,e){var n=t.currentGraphics.graphicsData[0].shape.points,r=e.worldVerticesLength;n.length=r,e.computeWorldVertices(t,0,r,n,0,2),t.currentGraphics.dirty++,t.currentGraphics.clearDirty++},s.prototype.hackTextureBySlotIndex=function(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=this.skeleton.slots[e];if(!i)return!1;var o=i.attachment,a=o.region;return n&&((a=new t.core.TextureRegion).texture=n,a.size=r),i.currentSprite&&i.currentSprite.region!=a?(this.setSpriteRegion(o,i.currentSprite,a),i.currentSprite.region=a):i.currentMesh&&i.currentMesh.region!=a?this.setMeshRegion(o,i.currentMesh,a):(i.tempRegion=a,i.tempAttachment=o),!0},s.prototype.hackTextureBySlotName=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=this.skeleton.findSlotIndex(t);return-1!=r&&this.hackTextureBySlotIndex(r,e,n)},s.prototype.newContainer=function(){return new PIXI.Container},s.prototype.newSprite=function(t){return new n(t)},s.prototype.newGraphics=function(){return new PIXI.Graphics},s.prototype.newMesh=function(t,e,n,i,o){return new r(t,e,n,i,o)},s.prototype.transformHack=function(){return 1},s.globalAutoUpdate=!0,s.clippingPolygon=[],s}(PIXI.Container);function a(){var t=this.parent.worldTransform,e=this.worldTransform,n=this.localTransform;e.a=n.a*t.a+n.b*t.c,e.b=n.a*t.b+n.b*t.d,e.c=n.c*t.a+n.d*t.c,e.d=n.c*t.b+n.d*t.d,e.tx=n.tx*t.a+n.ty*t.c+t.tx,e.ty=n.tx*t.b+n.ty*t.d+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}t.Spine=i}(i||(i={}))},function(t,e,n){var r;t.exports=function t(e,n,i){function o(s,u){if(!n[s]){if(!e[s]){if(!u&&("function"==typeof r&&r))return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){return o(e[s][1][t]||t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Particle"),o=PIXI.Texture,a=function(t){function e(e){var n=t.call(this,e)||this;return n.textures=null,n.duration=0,n.framerate=0,n.elapsed=0,n.loop=!1,n}return r(e,t),e.prototype.init=function(){this.Particle_init(),this.elapsed=0,this.framerate<0&&(this.duration=this.maxLife,this.framerate=this.textures.length/this.duration)},e.prototype.applyArt=function(t){this.textures=t.textures,this.framerate=t.framerate,this.duration=t.duration,this.loop=t.loop},e.prototype.update=function(t){var e=this.Particle_update(t);if(e>=0){this.elapsed+=t,this.elapsed>this.duration&&(this.loop?this.elapsed=this.elapsed%this.duration:this.elapsed=this.duration-1e-6);var n=this.elapsed*this.framerate+1e-7|0;this.texture=this.textures[n]||PIXI.Texture.EMPTY}return e},e.prototype.destroy=function(){this.Particle_destroy(),this.textures=null},e.parseArt=function(t){for(var e,n,r,i,a,s=[],u=0;u<t.length;++u){e=t[u],s[u]=n={},n.textures=a=[],r=e.textures;for(var l=0;l<r.length;++l)if("string"==typeof(i=r[l]))a.push(o.fromImage(i));else if(i instanceof o)a.push(i);else{var c=i.count||1;for(i="string"==typeof i.texture?o.fromImage(i.texture):i.texture;c>0;--c)a.push(i)}"matchLife"==e.framerate?(n.framerate=-1,n.duration=0,n.loop=!1):(n.loop=!!e.loop,n.framerate=e.framerate>0?e.framerate:60,n.duration=a.length/n.framerate)}return s},e}(i.default);n.default=a},{"./Particle":3}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./ParticleUtils"),i=t("./Particle"),o=t("./PropertyNode"),a=PIXI.ticker.shared,s=new PIXI.Point,u=function(){function t(t,e,n){this._particleConstructor=i.default,this.particleImages=null,this.startAlpha=null,this.startSpeed=null,this.minimumSpeedMultiplier=1,this.acceleration=null,this.maxSpeed=NaN,this.startScale=null,this.minimumScaleMultiplier=1,this.startColor=null,this.minLifetime=0,this.maxLifetime=0,this.minStartRotation=0,this.maxStartRotation=0,this.noRotation=!1,this.minRotationSpeed=0,this.maxRotationSpeed=0,this.particleBlendMode=0,this.customEase=null,this.extraData=null,this._frequency=1,this.spawnChance=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=null,this.spawnType=null,this._spawnFunc=null,this.spawnRect=null,this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,this.rotation=0,this.ownerPos=null,this._prevEmitterPos=null,this._prevPosIsValid=!1,this._posChanged=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._origArt=null,this._autoUpdate=!1,this._destroyWhenComplete=!1,this._completeCallback=null,this.parent=t,e&&n&&this.init(e,n),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos}return Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},set:function(t){this._frequency="number"==typeof t&&t>0?t:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"particleConstructor",{get:function(){return this._particleConstructor},set:function(t){if(t!=this._particleConstructor){this._particleConstructor=t,this.cleanup();for(var e=this._poolFirst;e;e=e.next)e.destroy();this._poolFirst=null,this._origConfig&&this._origArt&&this.init(this._origArt,this._origConfig)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){this.cleanup(),this._parent=t},enumerable:!0,configurable:!0}),t.prototype.init=function(t,e){if(t&&e){this.cleanup(),this._origConfig=e,this._origArt=t,t=Array.isArray(t)?t.slice():[t];var n=this._particleConstructor;this.particleImages=n.parseArt?n.parseArt(t):t,e.alpha?this.startAlpha=o.default.createList(e.alpha):this.startAlpha=new o.default(1,0),e.speed?(this.startSpeed=o.default.createList(e.speed),this.minimumSpeedMultiplier=e.speed.minimumSpeedMultiplier||1):(this.minimumSpeedMultiplier=1,this.startSpeed=new o.default(0,0));var i,a=e.acceleration;switch(a&&(a.x||a.y)?(this.startSpeed.next=null,this.acceleration=new PIXI.Point(a.x,a.y),this.maxSpeed=e.maxSpeed||NaN):this.acceleration=new PIXI.Point,e.scale?(this.startScale=o.default.createList(e.scale),this.minimumScaleMultiplier=e.scale.minimumScaleMultiplier||1):(this.startScale=new o.default(1,0),this.minimumScaleMultiplier=1),e.color?this.startColor=o.default.createList(e.color):this.startColor=new o.default({r:255,g:255,b:255},0),e.startRotation?(this.minStartRotation=e.startRotation.min,this.maxStartRotation=e.startRotation.max):this.minStartRotation=this.maxStartRotation=0,e.noRotation&&(this.minStartRotation||this.maxStartRotation)?this.noRotation=!!e.noRotation:this.noRotation=!1,e.rotationSpeed?(this.minRotationSpeed=e.rotationSpeed.min,this.maxRotationSpeed=e.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0,this.minLifetime=e.lifetime.min,this.maxLifetime=e.lifetime.max,this.particleBlendMode=r.default.getBlendMode(e.blendMode),e.ease?this.customEase="function"==typeof e.ease?e.ease:r.default.generateEase(e.ease):this.customEase=null,n.parseData?this.extraData=n.parseData(e.extraData):this.extraData=e.extraData||null,this.spawnRect=this.spawnCircle=null,this.particlesPerWave=1,e.particlesPerWave&&e.particlesPerWave>1&&(this.particlesPerWave=e.particlesPerWave),this.particleSpacing=0,this.angleStart=0,e.spawnType){case"rect":this.spawnType="rect",this._spawnFunc=this._spawnRect;var s=e.spawnRect;this.spawnRect=new PIXI.Rectangle(s.x,s.y,s.w,s.h);break;case"circle":this.spawnType="circle",this._spawnFunc=this._spawnCircle,i=e.spawnCircle,this.spawnCircle=new PIXI.Circle(i.x,i.y,i.r);break;case"ring":this.spawnType="ring",this._spawnFunc=this._spawnRing,i=e.spawnCircle,this.spawnCircle=new PIXI.Circle(i.x,i.y,i.r),this.spawnCircle.minRadius=i.minR;break;case"burst":this.spawnType="burst",this._spawnFunc=this._spawnBurst,this.particleSpacing=e.particleSpacing,this.angleStart=e.angleStart?e.angleStart:0;break;case"point":default:this.spawnType="point",this._spawnFunc=this._spawnPoint}this.frequency=e.frequency,this.spawnChance="number"==typeof e.spawnChance&&e.spawnChance>0?e.spawnChance:1,this.emitterLifetime=e.emitterLifetime||-1,this.maxParticles=e.maxParticles>0?e.maxParticles:1e3,this.addAtBack=!!e.addAtBack,this.rotation=0,this.ownerPos=new PIXI.Point,this.spawnPos=new PIXI.Point(e.pos.x,e.pos.y),this._prevEmitterPos=this.spawnPos.clone(),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=void 0===e.emit||!!e.emit,this.autoUpdate=void 0!==e.autoUpdate&&!!e.autoUpdate}},t.prototype.recycle=function(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t==this._activeParticlesLast&&(this._activeParticlesLast=t.prev),t==this._activeParticlesFirst&&(this._activeParticlesFirst=t.next),t.prev=null,t.next=this._poolFirst,this._poolFirst=t,t.parent&&t.parent.removeChild(t),--this.particleCount},t.prototype.rotate=function(t){if(this.rotation!=t){var e=t-this.rotation;this.rotation=t,r.default.rotatePoint(e,this.spawnPos),this._posChanged=!0}},t.prototype.updateSpawnPos=function(t,e){this._posChanged=!0,this.spawnPos.x=t,this.spawnPos.y=e},t.prototype.updateOwnerPos=function(t,e){this._posChanged=!0,this.ownerPos.x=t,this.ownerPos.y=e},t.prototype.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(t.prototype,"emit",{get:function(){return this._emit},set:function(t){this._emit=!!t,this._emitterLife=this.emitterLifetime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){this._autoUpdate&&!t?a.remove(this.update,this):!this._autoUpdate&&t&&a.add(this.update,this),this._autoUpdate=!!t},enumerable:!0,configurable:!0}),t.prototype.playOnceAndDestroy=function(t){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0,this._completeCallback=t},t.prototype.playOnce=function(t){this.emit=!0,this._completeCallback=t},t.prototype.update=function(t){if(this._autoUpdate&&(t=t/PIXI.settings.TARGET_FPMS/1e3),this._parent){var e,n,r,i,o;for(n=this._activeParticlesFirst;n;n=r)r=n.next,n.update(t);this._prevPosIsValid&&(i=this._prevEmitterPos.x,o=this._prevEmitterPos.y);var a=this.ownerPos.x+this.spawnPos.x,s=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=t;this._spawnTimer<=0;){if(this._emitterLife>0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles)this._spawnTimer+=this._frequency;else{var u;if(u=this.minLifetime==this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer<u){var l=void 0,c=void 0;if(this._prevPosIsValid&&this._posChanged){var h=1+this._spawnTimer/t;l=(a-i)*h+i,c=(s-o)*h+o}else l=a,c=s;e=0;for(var f=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount);e<f;++e)if(!(this.spawnChance<1&&Math.random()>=this.spawnChance)){var d=void 0;if(this._poolFirst?(d=this._poolFirst,this._poolFirst=this._poolFirst.next,d.next=null):d=new this.particleConstructor(this),this.particleImages.length>1?d.applyArt(this.particleImages[Math.floor(Math.random()*this.particleImages.length)]):d.applyArt(this.particleImages[0]),d.alphaList.reset(this.startAlpha),1!=this.minimumSpeedMultiplier&&(d.speedMultiplier=Math.random()*(1-this.minimumSpeedMultiplier)+this.minimumSpeedMultiplier),d.speedList.reset(this.startSpeed),d.acceleration.x=this.acceleration.x,d.acceleration.y=this.acceleration.y,d.maxSpeed=this.maxSpeed,1!=this.minimumScaleMultiplier&&(d.scaleMultiplier=Math.random()*(1-this.minimumScaleMultiplier)+this.minimumScaleMultiplier),d.scaleList.reset(this.startScale),d.colorList.reset(this.startColor),this.minRotationSpeed==this.maxRotationSpeed?d.rotationSpeed=this.minRotationSpeed:d.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,d.noRotation=this.noRotation,d.maxLife=u,d.blendMode=this.particleBlendMode,d.ease=this.customEase,d.extraData=this.extraData,this._spawnFunc(d,l,c,e),d.init(),d.update(-this._spawnTimer),d.parent){var p=this._parent.children;if(p[0]==d)p.shift();else if(p[p.length-1]==d)p.pop();else{var _=p.indexOf(d);p.splice(_,1)}this.addAtBack?p.unshift(d):p.push(d)}else this.addAtBack?this._parent.addChildAt(d,0):this._parent.addChild(d);this._activeParticlesLast?(this._activeParticlesLast.next=d,d.prev=this._activeParticlesLast,this._activeParticlesLast=d):this._activeParticlesLast=this._activeParticlesFirst=d,++this.particleCount}}this._spawnTimer+=this._frequency}}this._posChanged&&(this._prevEmitterPos.x=a,this._prevEmitterPos.y=s,this._prevPosIsValid=!0,this._posChanged=!1),this._emit||this._activeParticlesFirst||(this._completeCallback&&this._completeCallback(),this._destroyWhenComplete&&this.destroy())}},t.prototype._spawnPoint=function(t,e,n){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,t.position.x=e,t.position.y=n},t.prototype._spawnRect=function(t,e,n){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,s.x=Math.random()*this.spawnRect.width+this.spawnRect.x,s.y=Math.random()*this.spawnRect.height+this.spawnRect.y,0!==this.rotation&&r.default.rotatePoint(this.rotation,s),t.position.x=e+s.x,t.position.y=n+s.y},t.prototype._spawnCircle=function(t,e,n){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,s.x=Math.random()*this.spawnCircle.radius,s.y=0,r.default.rotatePoint(360*Math.random(),s),s.x+=this.spawnCircle.x,s.y+=this.spawnCircle.y,0!==this.rotation&&r.default.rotatePoint(this.rotation,s),t.position.x=e+s.x,t.position.y=n+s.y},t.prototype._spawnRing=function(t,e,n){var i=this.spawnCircle;this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,i.minRadius==i.radius?s.x=Math.random()*(i.radius-i.minRadius)+i.minRadius:s.x=i.radius,s.y=0;var o=360*Math.random();t.rotation+=o,r.default.rotatePoint(o,s),s.x+=this.spawnCircle.x,s.y+=this.spawnCircle.y,0!==this.rotation&&r.default.rotatePoint(this.rotation,s),t.position.x=e+s.x,t.position.y=n+s.y},t.prototype._spawnBurst=function(t,e,n,r){0===this.particleSpacing?t.rotation=360*Math.random():t.rotation=this.angleStart+this.particleSpacing*r+this.rotation,t.position.x=e,t.position.y=n},t.prototype.cleanup=function(){var t,e;for(t=this._activeParticlesFirst;t;t=e)e=t.next,this.recycle(t),t.parent&&t.parent.removeChild(t);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0},t.prototype.destroy=function(){this.autoUpdate=!1,this.cleanup();for(var t,e=this._poolFirst;e;e=t)t=e.next,e.destroy();this._poolFirst=this._parent=this.particleImages=this.spawnPos=this.ownerPos=this.startColor=this.startScale=this.startAlpha=this.startSpeed=this.customEase=this._completeCallback=null},t}();n.default=u},{"./Particle":3,"./ParticleUtils":4,"./PropertyNode":7}],3:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./ParticleUtils"),o=t("./PropertyList"),a=function(t){function e(n){var r=t.call(this)||this;return r.emitter=n,r.anchor.x=r.anchor.y=.5,r.velocity=new PIXI.Point,r.maxLife=0,r.age=0,r.ease=null,r.extraData=null,r.alphaList=new o.default,r.speedList=new o.default,r.speedMultiplier=1,r.acceleration=new PIXI.Point,r.maxSpeed=NaN,r.scaleList=new o.default,r.scaleMultiplier=1,r.colorList=new o.default(!0),r._doAlpha=!1,r._doScale=!1,r._doSpeed=!1,r._doAcceleration=!1,r._doColor=!1,r._doNormalMovement=!1,r._oneOverLife=0,r.next=null,r.prev=null,r.init=r.init,r.Particle_init=e.prototype.init,r.update=r.update,r.Particle_update=e.prototype.update,r.Sprite_destroy=t.prototype.destroy,r.Particle_destroy=e.prototype.destroy,r.applyArt=r.applyArt,r.kill=r.kill,r}return r(e,t),e.prototype.init=function(){this.age=0,this.velocity.x=this.speedList.current.value*this.speedMultiplier,this.velocity.y=0,i.default.rotatePoint(this.rotation,this.velocity),this.noRotation?this.rotation=0:this.rotation*=i.default.DEG_TO_RADS,this.rotationSpeed*=i.default.DEG_TO_RADS,this.alpha=this.alphaList.current.value,this.scale.x=this.scale.y=this.scaleList.current.value,this._doAlpha=!!this.alphaList.current.next,this._doSpeed=!!this.speedList.current.next,this._doScale=!!this.scaleList.current.next,this._doColor=!!this.colorList.current.next,this._doAcceleration=0!==this.acceleration.x||0!==this.acceleration.y,this._doNormalMovement=this._doSpeed||0!==this.speedList.current.value||this._doAcceleration,this._oneOverLife=1/this.maxLife;var t=this.colorList.current.value;this.tint=i.default.combineRGBComponents(t.r,t.g,t.b),this.visible=!0},e.prototype.applyArt=function(t){this.texture=t||PIXI.Texture.EMPTY},e.prototype.update=function(t){if(this.age+=t,this.age>=this.maxLife)return this.kill(),-1;var e=this.age*this._oneOverLife;if(this.ease&&(e=4==this.ease.length?this.ease(e,0,1,1):this.ease(e)),this._doAlpha&&(this.alpha=this.alphaList.interpolate(e)),this._doScale){var n=this.scaleList.interpolate(e)*this.scaleMultiplier;this.scale.x=this.scale.y=n}if(this._doNormalMovement){if(this._doSpeed){var r=this.speedList.interpolate(e)*this.speedMultiplier;i.default.normalize(this.velocity),i.default.scaleBy(this.velocity,r)}else if(this._doAcceleration&&(this.velocity.x+=this.acceleration.x*t,this.velocity.y+=this.acceleration.y*t,this.maxSpeed)){var o=i.default.length(this.velocity);o>this.maxSpeed&&i.default.scaleBy(this.velocity,this.maxSpeed/o)}this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t}return this._doColor&&(this.tint=this.colorList.interpolate(e)),0!==this.rotationSpeed?this.rotation+=this.rotationSpeed*t:this.acceleration&&!this.noRotation&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x)),e},e.prototype.kill=function(){this.emitter.recycle(this)},e.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.Sprite_destroy(),this.emitter=this.velocity=this.colorList=this.scaleList=this.alphaList=this.speedList=this.ease=this.next=this.prev=null},e.parseArt=function(t){var e;for(e=t.length;e>=0;--e)"string"==typeof t[e]&&(t[e]=PIXI.Texture.fromImage(t[e]));if(i.default.verbose)for(e=t.length-1;e>0;--e)if(t[e].baseTexture!=t[e-1].baseTexture){window.console&&console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");break}return t},e.parseData=function(t){return t},e}(PIXI.Sprite);n.default=a},{"./ParticleUtils":4,"./PropertyList":6}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=PIXI.BLEND_MODES,i=t("./PropertyNode"),o={verbose:!1,DEG_TO_RADS:Math.PI/180,rotatePoint:function(t,e){if(t){t*=o.DEG_TO_RADS;var n=Math.sin(t),r=Math.cos(t),i=e.x*r-e.y*n,a=e.x*n+e.y*r;e.x=i,e.y=a}},combineRGBComponents:function(t,e,n){return t<<16|e<<8|n},normalize:function(t){var e=1/o.length(t);t.x*=e,t.y*=e},scaleBy:function(t,e){t.x*=e,t.y*=e},length:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},hexToRGB:function(t,e){var n;return e||(e={}),"#"==t.charAt(0)?t=t.substr(1):0===t.indexOf("0x")&&(t=t.substr(2)),8==t.length&&(n=t.substr(0,2),t=t.substr(2)),e.r=parseInt(t.substr(0,2),16),e.g=parseInt(t.substr(2,2),16),e.b=parseInt(t.substr(4,2),16),n&&(e.a=parseInt(n,16)),e},generateEase:function(t){var e=t.length,n=1/e;return function(r){var i,o,a=e*r|0;return i=(r-a*n)*e,(o=t[a]||t[e-1]).s+i*(2*(1-i)*(o.cp-o.s)+i*(o.e-o.s))}},getBlendMode:function(t){if(!t)return r.NORMAL;for(t=t.toUpperCase();t.indexOf(" ")>=0;)t=t.replace(" ","_");return r[t]||r.NORMAL},createSteppedGradient:function(t,e){void 0===e&&(e=10),("number"!=typeof e||e<=0)&&(e=10);var n=new i.default(t[0].value,t[0].time);n.isStepped=!0;for(var r=n,a=t[0],s=1,u=t[s],l=1;l<e;++l){for(var c=l/e;c>u.time;)a=u,u=t[++s];c=(c-a.time)/(u.time-a.time);var h=o.hexToRGB(a.value),f=o.hexToRGB(u.value),d={};d.r=(f.r-h.r)*c+h.r,d.g=(f.g-h.g)*c+h.g,d.b=(f.b-h.b)*c+h.b,r.next=new i.default(d,l/e),r=r.next}return n}};n.default=o},{"./PropertyNode":7}],5:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./ParticleUtils"),o=t("./Particle"),a=new PIXI.Point,s=["pow","sqrt","abs","floor","round","ceil","E","PI","sin","cos","tan","asin","acos","atan","atan2","log"],u=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(s).join("|"),"g"),l=function(t){function e(e){var n=t.call(this,e)||this;return n.path=null,n.initialRotation=0,n.initialPosition=new PIXI.Point,n.movement=0,n}return r(e,t),e.prototype.init=function(){this.initialRotation=this.rotation,this.Particle_init(),this.path=this.extraData.path,this._doNormalMovement=!this.path,this.movement=0,this.initialPosition.x=this.position.x,this.initialPosition.y=this.position.y},e.prototype.update=function(t){var e=this.Particle_update(t);if(e>=0&&this.path){var n=this.speedList.interpolate(e)*this.speedMultiplier;this.movement+=n*t,a.x=this.movement,a.y=this.path(this.movement),i.default.rotatePoint(this.initialRotation,a),this.position.x=this.initialPosition.x+a.x,this.position.y=this.initialPosition.y+a.y}return e},e.prototype.destroy=function(){this.Particle_destroy(),this.path=this.initialPosition=null},e.parseArt=function(t){return o.default.parseArt(t)},e.parseData=function(t){var e={};if(t&&t.path)try{e.path=function(t){for(var e=t.match(u),n=e.length-1;n>=0;--n)s.indexOf(e[n])>=0&&(e[n]="Math."+e[n]);return t=e.join(""),new Function("x","return "+t+";")}(t.path)}catch(t){i.default.verbose&&console.error("PathParticle: error in parsing path expression"),e.path=null}else i.default.verbose&&console.error("PathParticle requires a path string in extraData!"),e.path=null;return e},e}(o.default);n.default=l},{"./Particle":3,"./ParticleUtils":4}],6:[function(t,e,n){"use strict";function r(t){return this.ease&&(t=this.ease(t)),(this.next.value-this.current.value)*t+this.current.value}function i(t){this.ease&&(t=this.ease(t));var e=this.current.value,n=this.next.value,r=(n.r-e.r)*t+e.r,i=(n.g-e.g)*t+e.g,o=(n.b-e.b)*t+e.b;return l.default.combineRGBComponents(r,i,o)}function o(t){for(this.ease&&(t=this.ease(t));t>this.next.time;)this.current=this.next,this.next=this.next.next;return t=(t-this.current.time)/(this.next.time-this.current.time),(this.next.value-this.current.value)*t+this.current.value}function a(t){for(this.ease&&(t=this.ease(t));t>this.next.time;)this.current=this.next,this.next=this.next.next;t=(t-this.current.time)/(this.next.time-this.current.time);var e=this.current.value,n=this.next.value,r=(n.r-e.r)*t+e.r,i=(n.g-e.g)*t+e.g,o=(n.b-e.b)*t+e.b;return l.default.combineRGBComponents(r,i,o)}function s(t){for(this.ease&&(t=this.ease(t));this.next&&t>this.next.time;)this.current=this.next,this.next=this.next.next;return this.current.value}function u(t){for(this.ease&&(t=this.ease(t));this.next&&t>this.next.time;)this.current=this.next,this.next=this.next.next;var e=this.current.value;return l.default.combineRGBComponents(e.r,e.g,e.b)}Object.defineProperty(n,"__esModule",{value:!0});var l=t("./ParticleUtils"),c=function(){function t(t){void 0===t&&(t=!1),this.current=null,this.next=null,this.isColor=!!t,this.interpolate=null,this.ease=null}return t.prototype.reset=function(t){this.current=t,this.next=t.next,this.next&&this.next.time>=1?this.interpolate=this.isColor?i:r:t.isStepped?this.interpolate=this.isColor?u:s:this.interpolate=this.isColor?a:o,this.ease=this.current.ease},t}();n.default=c},{"./ParticleUtils":4}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./ParticleUtils"),i=function(){function t(t,e,n){this.value="string"==typeof t?r.default.hexToRGB(t):t,this.time=e,this.next=null,this.isStepped=!1,this.ease=n?"function"==typeof n?n:r.default.generateEase(n):null}return t.createList=function(e){if(Array.isArray(e.list)){var n=e.list,r=void 0,i=void 0;if(i=r=new t(n[0].value,n[0].time,e.ease),n.length>2||2===n.length&&n[1].value!==n[0].value)for(var o=1;o<n.length;++o)r.next=new t(n[o].value,n[o].time),r=r.next;return i.isStepped=!!e.isStepped,i}var a=new t(e.start,0);return e.end!==e.start&&(a.next=new t(e.end,1)),a},t}();n.default=i},{"./ParticleUtils":4}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./ParticleUtils.js");n.ParticleUtils=r.default;var i=t("./Particle.js");n.Particle=i.default;var o=t("./Emitter.js");n.Emitter=o.default;var a=t("./PathParticle.js");n.PathParticle=a.default;var s=t("./AnimatedParticle.js");n.AnimatedParticle=s.default},{"./AnimatedParticle.js":1,"./Emitter.js":2,"./Particle.js":3,"./ParticleUtils.js":4,"./PathParticle.js":5}],9:[function(t,e,n){"use strict";if(Object.defineProperty(n,"__esModule",{value:!0}),"undefined"==typeof PIXI)throw"pixi-particles requires pixi.js to be loaded first";PIXI.particles||(PIXI.particles={});var r=t("./particles");for(var i in r)PIXI.particles[i]=r[i]},{"./particles":8}]},{},[9])(9)},function(t,e,n){for(var r in t.exports={GlowFilter:n(780),OutlineFilter:n(781),BulgePinchFilter:n(782),ColorReplaceFilter:n(783),SimpleLightmapFilter:n(784)},t.exports)PIXI.filters[r]=t.exports[r]},function(t,e,n){var r=n(125);function i(t,e,n,i,o){PIXI.Filter.call(this,r("./glow.vert"),r("./glow.frag").replace(/%QUALITY_DIST%/gi,""+(1/o/t).toFixed(7)).replace(/%DIST%/gi,""+t.toFixed(7))),this.uniforms.distance=t,this.uniforms.glowColor=new Float32Array([0,0,0,1]),o=Math.pow(o,1/3),this.quality=o,this.uniforms.distance.value*=o,this.color=i,this.outerStrength=e,this.innerStrength=n}i.prototype=Object.create(PIXI.Filter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{color:{get:function(){return PIXI.utils.rgb2hex(this.uniforms.glowColor)},set:function(t){PIXI.utils.hex2rgb(t,this.uniforms.glowColor)}},outerStrength:{get:function(){return this.uniforms.outerStrength},set:function(t){this.uniforms.outerStrength=t}}})},function(t,e,n){var r=n(125);function i(t,e){t=t||1,PIXI.Filter.call(this,r("./outline.vert"),r("./outline.frag").replace(/%THICKNESS%/gi,(1/t).toFixed(7))),this.uniforms.thickness=t,this.uniforms.outlineColor=new Float32Array([0,0,0,1]),e&&(this.color=e)}i.prototype=Object.create(PIXI.Filter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{color:{get:function(){return PIXI.utils.rgb2hex(this.uniforms.outlineColor)},set:function(t){PIXI.utils.hex2rgb(t,this.uniforms.outlineColor)}}})},function(t,e,n){var r=n(125);function i(){PIXI.Filter.call(this,r("./bulgePinch.vert"),r("./bulgePinch.frag"))}i.prototype=Object.create(PIXI.Filter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{radius:{get:function(){return this.uniforms.radius},set:function(t){this.uniforms.radius=t}},strength:{get:function(){return this.uniforms.strength},set:function(t){this.uniforms.strength=t}},center:{get:function(){return this.uniforms.center},set:function(t){this.uniforms.center=t}}})},function(t,e,n){var r=n(125);function i(t,e,n){PIXI.Filter.call(this,r("./colorReplace.vert"),r("./colorReplace.frag")),this.uniforms.originalColor=t,this.uniforms.newColor=e,this.uniforms.epsilon=n}i.prototype=Object.create(PIXI.Filter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperty(i.prototype,"originalColor",{set:function(t){var e=((16711680&t)>>16)/255,n=((65280&t)>>8)/255,r=(255&t)/255;this.uniforms.originalColor={x:e,y:n,z:r}}}),Object.defineProperty(i.prototype,"newColor",{set:function(t){var e=((16711680&t)>>16)/255,n=((65280&t)>>8)/255,r=(255&t)/255;this.uniforms.newColor={x:e,y:n,z:r}}}),Object.defineProperty(i.prototype,"epsilon",{set:function(t){this.uniforms.epsilon=t}})},function(t,e,n){var r=n(125);function i(t,e,n){PIXI.Filter.call(this,r("./simpleLightmap.vert"),r("./simpleLightmap.frag")),this.uniforms.u_lightmap=t,this.uniforms.resolution=new Float32Array(n||[1,1]),this.uniforms.ambientColor=new Float32Array(e)}i.prototype=Object.create(PIXI.Filter.prototype),i.prototype.constructor=i,Object.defineProperties(i.prototype,{texture:{get:function(){return this.uniforms.u_lightmap},set:function(t){this.uniforms.u_lightmap=t}},color:{get:function(){return this.uniforms.ambientColor},set:function(t){this.uniforms.ambientColor=new Float32Array(t)}},resolution:{get:function(){return this.uniforms.resolution},set:function(t){this.uniforms.resolution=new Float32Array(t)}}}),t.exports=i},function(t,e,n){(function(t){!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=56)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.copyObjectFast=function(t){return JSON.parse(JSON.stringify(t))},e.copyObject=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object.create(Object.getPrototypeOf(t));return f(n,t,e),n},e.copyOwnPropertiesFrom=f,e.padNum=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.abs(t),r=Math.max(0,e-Math.floor(n).toString().length),i=Math.pow(10,r).toString().substr(1);return n<0&&(i="-"+i),i+n},e.selectRandom=function(t){return t[Math.floor(Math.random()*t.length)]},e.shuffleArray=function(t){for(var e=t.length,n=null,r=-1;0!==e;)r=Math.floor(Math.random()*e),n=t[--e],t[e]=t[r],t[r]=n;return t},e.destroyAllSignals=function(t){for(var e in t)t.hasOwnProperty(e)&&e instanceof a.default&&e.detatchAll()},e.isCocoonJS=function(){return void 0!==navigator.isCocoonJS},e.isCordova=function(){return!1},e.marray=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],i=0;i<t;i++){for(var o=[],a=0;a<e;a++)o[a]=n;r[i]=o}return r},e.delay=function(t,e,n,r){return d(s.default,t,e,n,r)},e.delayg=d,e.objectToArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},e.escape=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},e.sprite=function(t,e,n){t instanceof PIXI.Texture==0&&(console.warn("arg is not of type PIXI.Texture : utils.sprite"),t=(new PIXI.Graphics).beginFill(16711680,.5).drawRect(0,0,125,125).endFill().generateTexture()),n=n||new PIXI.Point;var r=new PIXI.Sprite(t);return r.anchor=n,e&&e.addChild(r),r},e.boundsCheck=function(t,e,n){if(!(t&&e&&t.getBounds&&e.getBounds))throw new Error("both args must be PIXI.DisplayObject : utils.boundsCheck");var r=t.getBounds(),i={x:r.x,y:r.y},o={x:r.x+r.width,y:r.y},a={x:r.x,y:r.y+r.height},s={x:r.x+r.width,y:r.y+r.height};return n&&(!e.containsPoint(i)&&!e.containsPoint(a)&&e.containsPoint(o)&&e.containsPoint(s)?n.side="left":!e.containsPoint(o)&&!e.containsPoint(s)&&e.containsPoint(i)&&e.containsPoint(a)?n.side="right":!e.containsPoint(i)&&!e.containsPoint(o)&&e.containsPoint(a)&&e.containsPoint(s)?n.side="top":!e.containsPoint(a)&&!e.containsPoint(s)&&e.containsPoint(i)&&e.containsPoint(o)&&(n.side="bottom")),e.containsPoint(i)&&e.containsPoint(o)&&e.containsPoint(a)&&e.containsPoint(s)},e.collide=function(t,e){if(p(t,e)){var n=_(t,e);if(n)return n}return!1},e.collideAABB=p,e.collideSAT=_,Object.defineProperty(e,"Easing",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Howl",{enumerable:!0,get:function(){return i.Howl}}),Object.defineProperty(e,"Howler",{enumerable:!0,get:function(){return i.Howler}}),Object.defineProperty(e,"md5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"MiniSignal",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"TWEEN",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"ObjectPool",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"ScrollView",{enumerable:!0,get:function(){return l.default}});var r=c(n(53)),i=n(20),o=c(n(52)),a=c(n(1)),s=c(n(7)),u=c(n(48)),l=c(n(47));function c(t){return t&&t.__esModule?t:{default:t}}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object.getOwnPropertyNames(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i),n&&"object"===h(i.value)&&null!==i.value&&(t[r]=P3.utils.copyObject(e[r],n))}),t}function d(t,e,n,r,i){return i=i||window,"undefined"!=typeof TweenMax?TweenMax.delayedCall(e,n,r,i):new s.default.Tween({},t).to({},1e3*e).onComplete(function(){n.apply(i,r)}).start()}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new PIXI.Point(1,1);return t=t.getBounds(),!((e=e.getBounds()).x>t.x+t.width*n.x||e.x+e.width*n.x<t.x||e.y>t.y+t.height*n.y||e.y+e.height*n.y<t.y)}function _(t,e){for(var n,r,i,o,a,s,u,l,c,h,f=void 0===t.points?T(t.vertexData):T(t.points),d=void 0===e.points?T(e.vertexData):T(e.points),p=f.length,_=d.length,m={x:0,y:0},y=0;y<p;y++){c=f[y===p-1?0:y+1],h=f[y],m.x=-(c[1]-h[1]),m.y=c[0]-h[0],n=Math.sqrt(m.x*m.x+m.y*m.y),m.x/=n,m.y/=n,r=i=-1,o=a=-1;for(var v=0;v<p;++v)((l=f[v][0]*m.x+f[v][1]*m.y)>o||-1===o)&&(o=l),(l<r||-1===r)&&(r=l);for(var g=0;g<_;++g)((l=d[g][0]*m.x+d[g][1]*m.y)>a||-1===a)&&(a=l),(l<i||-1===i)&&(i=l);if((s=r<i?i-o:r-a)>0)return!1;s>u&&(u=s)}for(var b=0;b<_;b++){c=d[b===_-1?0:b+1],h=d[b],m.x=-(c[1]-h[1]),m.y=c[0]-h[0],n=Math.sqrt(m.x*m.x+m.y*m.y),m.x/=n,m.y/=n,r=i=-1,o=a=-1;for(var w=0;w<p;++w)((l=f[w][0]*m.x+f[w][1]*m.y)>o||-1===o)&&(o=l),(l<r||-1===r)&&(r=l);for(var x=0;x<_;++x)((l=d[x][0]*m.x+d[x][1]*m.y)>a||-1===a)&&(a=l),(l<i||-1===i)&&(i=l);if((s=r<i?i-o:r-a)>0)return!1;s>u&&(u=s)}return{overlap:u};function T(t){for(var e=P3.utils.marray(4,2),n=0,r=0;r<t.length;r+=2)e[n][0]=t[r],e[n][1]=t[r+1],n++;return e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n,r){void 0===n&&(n=!1),i(this,t),this._fn=e,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function a(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return a(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return a(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=o,e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e;return(e=[{key:"track",value:function(t){}},{key:"isScriptFound",value:function(){return!1}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Audio",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"NewAudio",{enumerable:!0,get:function(){return o.default}}),e.audio=void 0;var r=a(n(54)),i=a(n(46)),o=a(n(45));function a(t){return t&&t.__esModule?t:{default:t}}var s=new r.default;e.audio=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(4),i=l(n(15)),o=n(0),a=l(n(1)),s=l(n(7)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0));function l(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var m=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=d(e).call(this))||"object"!==c(r)&&"function"!=typeof r?_(this):r).signals={down:new a.default,up:new a.default,over:new a.default,out:new a.default,click:new a.default,animate:new a.default,focus:new a.default,unfocus:new a.default},n.animate=!0,n.animateIcon=!0,n.animateOverScale=new PIXI.Point(1.1,1.1),n.animateDownScale=new PIXI.Point(.9,.9),n.upSoundName=null,n.overSoundName=null,n.downSoundName=null,n.clickSoundName=null,n.voSoundName=null,n.enabledSwapStates=!0,n._states=t,n._animation=new PIXI.Container,n.addChild(n._animation),n._background=new PIXI.Sprite(n._states.normal),n._background.anchor=new PIXI.Point(.5,.5),n._animation.addChild(n._background),n._icon=new PIXI.Sprite(n._states.icon||PIXI.Texture.EMPTY),n._icon.anchor=new PIXI.Point(.5,.5),n._icon.interactive=!1,n._animation.addChild(n._icon),n._focus=new PIXI.Sprite(n._states.focus||PIXI.Texture.EMPTY),n._focus.anchor=new PIXI.Point(.5,.5),n._focus.visible=!1,n._focus.interactive=!1,n._animation.addChild(n._focus),n._shortcutIcon=new PIXI.Sprite(PIXI.Texture.EMPTY),n._shortcutIcon.anchor=new PIXI.Point(.5,.5),n._shortcutIcon.visible=!PIXI.utils.isMobile.any,n._shortcutIcon.interactive=!1,n._background.addChild(n._shortcutIcon),n._currentNormalTexture=n._states.normal,n._currentOverTexture=n._states.over,n._currentDownTexture=n._states.down,n._currentIconTexture=n._states.icon,n._currentIconOverTexture=n._states.iconOver,n._currentIconDownTexture=n._states.iconDown,n._tweens={},n._enabled=!0,n._focused=!1,n.interactive=!0,n.buttonMode=!0,n.on("mousedown",n.onMouseDown,_(_(n))),n.on("mouseup",n.onMouseUp,_(_(n))),n.on("mouseupoutside",n.onMouseUpOutside,_(_(n))),n.on("click",n.onMouseClick,_(_(n))),n.on("mouseover",n.onMouseOver,_(_(n))),n.on("mouseout",n.onMouseOut,_(_(n))),n.on("touchstart",n.onMouseDown,_(_(n))),n.on("touchend",n.onMouseUp,_(_(n))),n.on("touchendoutside",n.onMouseUp,_(_(n))),n.on("tap",n.onMouseClick,_(_(n))),n}var n,l,m;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,PIXI.Container),n=e,m=[{key:"create",value:function(t,n,r,o){return new e(new i.default(t,n,r,o))}}],(l=[{key:"destroy",value:function(){this.off("mousedown",this.onMouseDown,this),this.off("mouseup",this.onMouseUp,this),this.off("mouseupoutside",this.onMouseUp,this),this.off("click",this.onMouseClick,this),this.off("mouseover",this.onMouseOver,this),this.off("mouseout",this.onMouseOut,this),this.off("touchstart",this.onMouseDown,this),this.off("touchend",this.onMouseUp,this),this.off("touchendoutside",this.onMouseUp,this),this.off("tap",this.onMouseClick,this),(0,o.destroyAllSignals)(this.signals),this.stopAnimations(),f(d(e.prototype),"destroy",this).call(this,{children:!0})}},{key:"focus",value:function(){this._focused=!0,this._focus.visible=!0,this.signals.focus.dispatch(this)}},{key:"unfocus",value:function(){this._focused=!1,this._focus.visible=!1,this.signals.unfocus.dispatch(this)}},{key:"setShortcutIcon",value:function(t,e){this._shortcutIcon.texture=t,this._shortcutIcon.position.set(e.x,e.y)}},{key:"onMouseDown",value:function(t){this._states.down&&(this._background.texture=this._currentDownTexture),this._states.iconDown&&(this._icon.texture=this._currentIconDownTexture),this.animate&&(this.stopAnimations(),this._tweens.down=this.animateDown()),this.downSoundName&&r.audio.playOneShot(this.downSoundName),this._enabled&&this.signals.down.dispatch(this,t)}},{key:"onMouseUp",value:function(t){this._background.texture=this._states.over&&!PIXI.utils.isMobile.any?this._currentOverTexture:this._currentNormalTexture,this._states.iconOver&&!PIXI.utils.isMobile.any?this._icon.texture=this._currentIconOverTexture:this._states.icon&&(this._icon.texture=this._currentIconTexture),this.animate&&this._tweens.down&&(this.stopAnimations(),PIXI.utils.isMobile.any?this._tweens.out=this.animateOut():this._tweens.over=this.animateOver()),this.upSoundName&&r.audio.playOneShot(this.upSoundName),this._enabled&&this.signals.up.dispatch(this,t)}},{key:"onMouseUpOutside",value:function(t){this._enabled&&this.signals.up.dispatch(this,t)}},{key:"onMouseOver",value:function(t){this._states.over&&(this._background.texture=this._currentOverTexture),this._states.iconOver&&(this._icon.texture=this._currentIconOverTexture),this.animate&&!PIXI.utils.isMobile.any&&(this.stopAnimations(),this._tweens.over=this.animateOver()),this.animateIcon&&!PIXI.utils.isMobile.any&&(this._tweens.iconOver=this.animateIconOver()),this.overSoundName&&r.audio.playOneShot(this.overSoundName),this.voSoundName&&P3.audio.playButtonVO(this.voSoundName),this._enabled&&this.signals.over.dispatch(this,t)}},{key:"onMouseOut",value:function(t){this._background.texture=this._currentNormalTexture,this._states.icon&&(this._icon.texture=this._currentIconTexture),this.stopAnimations(),this._tweens.out=this.animateOut(),this._tweens.iconOut=this.animateIconOut(),this.upSoundName&&r.audio.playOneShot(this.upSoundName),this._enabled&&this.signals.out.dispatch(this,t)}},{key:"onMouseClick",value:function(t){this.clickSoundName&&r.audio.playOneShot(this.clickSoundName),this._enabled&&this.signals.click.dispatch(this,t)}},{key:"animateOver",value:function(){var t=this;return"undefined"!=typeof TweenMax?TweenMax.to(this._animation.scale,.6,{x:this.animateOverScale.x,y:this.animateOverScale.y,ease:Elastic.easeOut,easeParams:[1],onComplete:function(){this.signals.animate.dispatch(this,"over")},onCompleteScope:this}):new s.default.Tween(this._animation.scale).to({x:this.animateOverScale.x,y:this.animateOverScale.y},600).easing(s.default.Easing.Elastic.Out).onComplete(function(){t.signals.animate.dispatch(t,"over")}).start()}},{key:"animateOut",value:function(){var t=this;return"undefined"!=typeof TweenMax?TweenMax.to(this._animation.scale,.3,{x:1,y:1,ease:Back.easeInOut,easeParams:[2],onComplete:function(){this.signals.animate.dispatch(this,"out")},onCompleteScope:this}):new s.default.Tween(this._animation.scale).to({x:1,y:1},300).easing(u.Easing.Back2.InOut).onComplete(function(){t.signals.animate.dispatch(t,"out")}).start()}},{key:"animateDown",value:function(){var t=this;return"undefined"!=typeof TweenMax?TweenMax.to(this._animation.scale,.14,{x:this.animateDownScale.x,y:this.animateDownScale.y,ease:Back.easeOut,easeParams:[1],onComplete:function(){this.signals.animate.dispatch(this,"down")},onCompleteScope:this}):new s.default.Tween(this._animation.scale).to({x:this.animateDownScale.x,y:this.animateDownScale.y},140).easing(s.default.Easing.Back.Out).onComplete(function(){t.signals.animate.dispatch(t,"down")}).start()}},{key:"animateIconOver",value:function(){return"undefined"!=typeof TweenMax?TweenMax.to(this._icon.scale,.8,{x:1.2,y:1.2,ease:Elastic.easeOut,easeParams:[1.6]}):new s.default.Tween(this._icon.scale).to({x:1.2,y:1.2},800).easing(function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(8*(t-.04)*Math.PI)+1}).start()}},{key:"animateIconOut",value:function(){return"undefined"!=typeof TweenMax?TweenMax.to(this._icon.scale,.34,{x:1,y:1,ease:Power1.easeInOut}):new s.default.Tween(this._icon.scale).to({x:1,y:1},340).easing(s.default.Easing.Quadratic.InOut).start()}},{key:"stopAnimations",value:function(){if("undefined"!=typeof TweenMax){for(var t in this._tweens)this._tweens.hasOwnProperty(t)&&this._tweens[t].kill();this._tweens={}}else{for(var e in this._tweens)this._tweens.hasOwnProperty(e)&&this._tweens[e].stop();this._tweens={}}}},{key:"setStates",value:function(t){this._states=t,this._background.texture=this._states.normal,this._icon.texture=this._states.icon||PIXI.Texture.EMPTY,this._currentNormalTexture=this._states.normal,this._currentOverTexture=this._states.over,this._currentDownTexture=this._states.down,this._currentIconTexture=this._states.icon,this._currentIconOverTexture=this._states.iconOver,this._currentIconDownTexture=this._states.iconDown}},{key:"states",get:function(){return this._states.clone()}},{key:"currentNormalTexture",get:function(){return this._currentNormalTexture}},{key:"currentOverTexture",get:function(){return this._currentOverTexture}},{key:"currentDownTexture",get:function(){return this._currentDownTexture}},{key:"currentIconTexture",get:function(){return this._currentIconTexture}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this.enabledSwapStates?(this._currentNormalTexture=t||!this._states.normalInactive?this._states.normal:this._states.normalInactive,this._currentOverTexture=t||!this._states.overInactive?this._states.over:this._states.overInactive,this._currentDownTexture=t||!this._states.downInactive?this._states.down:this._states.downInactive,this._currentIconTexture=t||!this._states.iconInactive?this._states.icon:this._states.iconInactive,this._currentIconOverTexture=t||!this._states.iconOverInactive?this._states.iconOver:this._states.iconOverInactive,this._currentIconDownTexture=t||!this._states.iconDownInactive?this._states.iconDown:this._states.iconDownInactive):(this._currentNormalTexture=this._states.normal,this._currentOverTexture=this._states.over,this._currentDownTexture=this._states.down,this._currentIconTexture=this._states.icon,this._currentIconOverTexture=this._states.iconOver,this._currentIconDownTexture=this._states.iconDown),this._currentNormalTexture&&(this._background.texture=this._currentNormalTexture),this._currentIconTexture&&(this._icon.texture=this._currentIconTexture)}},{key:"focused",get:function(){return this._focused}},{key:"tint",get:function(){return this._background.tint},set:function(t){this._background.tint=t,this._icon.tint=t}},{key:"animation",get:function(){return this._animation}}])&&h(n.prototype,l),m&&h(n,m),e}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n}var e;return(e=[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"subtract",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"scale",value:function(e){return new t(this.x*e,this.y*e)}},{key:"incrementBy",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"decrementBy",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"scaleBy",value:function(t){return this.x*=t,this.y*=t,this}},{key:"normalize",value:function(){var t=this.length;return t>0&&(this.x/=t,this.y/=t),this}},{key:"truncate",value:function(t){var e=this.length;return e>t&&(this.x=this.x/e*t,this.y=this.y/e*t),this}},{key:"normal",value:function(){return new t(this.y,-this.x)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"perp",value:function(t){return-this.y*t.x+this.x*t.y}},{key:"project",value:function(t){return(t=t.clone().normalize()).scale(this.dot(t))}},{key:"angleBetween",value:function(t){return Math.atan2(t.y-this.y,t.x-this.x)}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=e*this.y+n*this.x;return this.x=r,this.y=i,this}},{key:"rotateAround",value:function(t,e,n){return this.x-=t,this.y-=e,this.rotate(n),this.x+=t,this.y+=e,this}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copy",value:function(t){this.set(t.x,t.y)}},{key:"equals",value:function(t){return t.x===this.x&&t.x===this.y}},{key:"set",value:function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{key:"unit",value:function(){var t=this.clone();return t.normalize(),t}},{key:"angle",get:function(){return Math.atan2(this.y,this.x)}},{key:"length",get:function(){return Math.sqrt(this.lengthSq)}},{key:"lengthSq",get:function(){return this.x*this.x+this.y*this.y}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r},function(t,e,n){(function(n){var r,i=function(){this._tweens={},this._tweensAddedDuringUpdate={}};i.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:a.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[n[r]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var o,a=new i;a.Group=i,a._nextId=0,a.nextId=function(){return a._nextId++},"undefined"==typeof self&&void 0!==n&&n.hrtime?a.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?a.now=self.performance.now.bind(self.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=a.Easing.Linear.None,this._interpolationFunction=a.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||a,this._id=a.nextId()},a.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?a.now()+parseFloat(t):t:a.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,n,r;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,r=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,r):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[e]=i+(o-i)*r))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var a=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=a}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},a.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-a.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*a.Easing.Bounce.In(2*t):.5*a.Easing.Bounce.Out(2*t-1)+.5}}},a.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=a.Interpolation.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-e,r-s)*i(e,s)*t[s]*o(r,s);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=a.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(o=[1],function(t){var e=1;if(o[t])return o[t];for(var n=t;n>1;n--)e*=n;return o[t]=e,e}),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}}},void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}).call(this,n(49))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(3))&&r.__esModule?r:{default:r};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,a(e).call(this))).name=t,n.params=r,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,i.default),e}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(3))&&r.__esModule?r:{default:r};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,a(e).call(this))).page=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,i.default),e}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(3))&&r.__esModule?r:{default:r};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,n,r,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,s(e).call(this))).category=t,o.action=n,o.label=r,o.value=i,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i.default),e}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.z=r}var e;return(e=[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z)}},{key:"subtract",value:function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z)}},{key:"scale",value:function(e){return new t(this.x*e,this.y*e,this.z*e)}},{key:"incrementBy",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"decrementBy",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"scaleBy",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"normalize",value:function(){var t=this.length;return t>0&&(this.x/=t,this.y/=t,this.z/=t),this}},{key:"truncate",value:function(t){var e=this.length;return e>t&&(this.x=this.x/e*t,this.y=this.y/e*t,this.z=this.z/e*t),this}},{key:"normal",value:function(){return new t(this.y,-this.x,this.z)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"perp",value:function(t){return-this.y*t.x+this.x*t.y+this.z*t.z}},{key:"project",value:function(t){return(t=t.clone().normalize()).scale(this.dot(t))}},{key:"clone",value:function(){return new t(this.x,this.y,this.z)}},{key:"copy",value:function(t){this.set(t.x,t.y,t.z)}},{key:"equals",value:function(t){return t.x===this.x&&t.x===this.y}},{key:"set",value:function(t,e,n){this.x=t||0,this.y=e||(0!==e?this.x:0),this.z=n||(0!==n?this.x:0)}},{key:"unit",value:function(){var t=this.clone();return t.normalize(),t}},{key:"length",get:function(){return Math.sqrt(this.lengthSq)}},{key:"lengthSq",get:function(){return this.x*this.x+this.y*this.y+this.z*this.z}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._r=0,this._g=0,this._b=0,this._a=n,this._h=0,this._s=0,this._v=0,this.setHex(e)}var e,n,i;return e=t,i=[{key:"hexNumberToString",value:function(t){var e=parseInt(t).toString(16);return"#000000".substring(0,"#000000".length-e.length)+e}},{key:"lerp",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=new P3.Color(t.toNumber());return r.lerp(e,n),r}}],(n=[{key:"setHex",value:function(e){"number"==typeof e&&(e=t.hexNumberToString(e));var n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,r){return e+e+n+n+r+r}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return r&&(this._r=parseInt(r[1],16)/255,this._g=parseInt(r[2],16)/255,this._b=parseInt(r[3],16)/255,this._updateHSV()),this}},{key:"setColor",value:function(t){return this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._h=t.h,this._s=t.s,this._v=t.v,this}},{key:"setRGB",value:function(t,e,n){return this._r=t,this._g=e,this._b=n,this._updateHSV(),this}},{key:"setRGBA",value:function(t,e,n,r){return this._a=r,this.setRGB(t,e,n),this}},{key:"setHSV",value:function(t,e,n){return this._h=t,this._s=e,this._v=n,this._updateRGB(),this}},{key:"desaturate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.59,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.11;return this._r=this._g*t+this._r*e+this._b*n,this._g=this._r,this._b=this._r,this._updateHSV(),this}},{key:"invert",value:function(){return this._r=1-this._r,this._g=1-this._g,this._b=1-this._b,this._updateHSV(),this}},{key:"lerp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return e=Math.min(1,Math.max(0,e)),this._r=this._r*(1-e)+t.r*e,this._g=this._g*(1-e)+t.g*e,this._b=this._b*(1-e)+t.b*e,this._updateHSV(),this}},{key:"random",value:function(){return this._r=Math.random(),this._g=Math.random(),this._b=Math.random(),this._updateHSV(),this}},{key:"_normalize",value:function(){this._r=this._r<0?0:this._r>1?1:this._r,this._g=this._g<0?0:this._g>1?1:this._g,this._b=this._b<0?0:this._b>1?1:this._b,this._a=this._a<0?0:this._a>1?1:this._a,this._h=Number((this._h-Math.floor(this._h)).toPrecision(8)),this._s=this._s<0?0:this._s>1?1:this._s,this._v=this._v<0?0:this._v>1?1:this._v}},{key:"_updateRGB",value:function(){this._normalize();var t=Math.floor(6*this._h),e=6*this._h-t,n=this._v*(1-this._s),r=this._v*(1-e*this._s),i=this._v*(1-(1-e)*this._s);switch(t%6){case 0:this._r=this._v,this._g=i,this._b=n;break;case 1:this._r=r,this._g=this._v,this._b=n;break;case 2:this._r=n,this._g=this._v,this._b=i;break;case 3:this._r=n,this._g=r,this._b=this._v;break;case 4:this._r=i,this._g=n,this._b=this._v;break;case 5:this._r=this._v,this._g=n,this._b=r}}},{key:"_updateHSV",value:function(){this._normalize();var t=Math.max(this._r,this._g,this._b),e=t-Math.min(this._r,this._g,this._b),n=0,r=0,i=t;if(0==e)n=0,r=0;else{r=e/t;var o=60*(t-this._r)/e+180,a=60*(t-this._g)/e+180,s=60*(t-this._b)/e+180;n=this._r==t?s-a:this._g==t?120+o-s:240+a-o}n<0&&(n+=360),n>=360&&(n-=360),this._h=n/360,this._s=r,this._v=i}},{key:"toHex",value:function(){return"#"+((1<<24)+(Math.round(255*this._r)<<16)+(Math.round(255*this._g)<<8)+Math.round(255*this._b)).toString(16).slice(1)}},{key:"toNumber",value:function(){return(Math.round(255*this._r)<<16)+(Math.round(255*this._g)<<8)+Math.round(255*this._b)}},{key:"toCSS",value:function(){return"rgba("+Math.round(255*this._r)+","+Math.round(255*this._g)+","+Math.round(255*this._b)+","+this._a+")"}},{key:"r",get:function(){return this._r},set:function(t){this._r=t,this._updateHSV()}},{key:"g",get:function(){return this._g},set:function(t){this._g=t,this._updateHSV()}},{key:"b",get:function(){return this._b},set:function(t){this._b=t,this._updateHSV()}},{key:"a",get:function(){return this._a},set:function(t){this._a=t}},{key:"h",get:function(){return this._h},set:function(t){this._h=t,this._updateRGB()}},{key:"s",get:function(){return this._s},set:function(t){this._s=t,this._updateRGB()}},{key:"v",get:function(){return this._v},set:function(t){this._v=t,this._updateRGB()}},{key:"luminosity",get:function(){return.299*this._r+.587*this._g+.114*this._b}}])&&r(e.prototype,n),i&&r(e,i),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=n(0),o=(r=n(1))&&r.__esModule?r:{default:r};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=function(t){function e(){var t,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=!(n=u(e).call(this))||"object"!==a(n)&&"function"!=typeof n?c(this):n).signals={in:new o.default,out:new o.default},t._tweens={},t.on("added",t.init,c(c(t))),t}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,PIXI.Container),(n=[{key:"init",value:function(){this.off("added",this.init),this.interactive=!0}},{key:"destroy",value:function(t){if((0,i.destroyAllSignals)(this.signals),"undefined"!=typeof TweenMax){for(var n in this._tweens)this._tweens.hasOwnProperty(n)&&this._tweens[n].kill();this._tweens={}}else{for(var r in this._tweens)this._tweens.hasOwnProperty(r)&&this._tweens[r].stop();this._tweens={}}s(u(e.prototype),"destroy",this).call(this,t)}},{key:"in",value:function(){this.signals.in.dispatch(this)}},{key:"out",value:function(){this.signals.out.dispatch(this)}},{key:"resize",value:function(){}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textures={},e&&this.addTextures(e,n)}var e;return(e=[{key:"addTextures",value:function(t,e){e=e||"default",this.textures[e]=t}},{key:"removeTextures",value:function(t){t=t||"default",this.textures[t]=null}},{key:"removeAllTextures",value:function(){this.textures={}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.normal=e,this.over=n||null,this.down=r||null,this.focus=null,this.icon=i||null,this.iconOver=null,this.iconDown=null,this.normalAlt=null,this.overAlt=null,this.downAlt=null,this.iconAlt=null,this.iconOverAlt=null,this.iconDownAlt=null,this.normalInactive=null,this.overInactive=null,this.downInactive=null,this.iconInactive=null,this.iconOverInactive=null,this.iconDownInactive=null,this.normalInactiveAlt=null,this.overInactiveAlt=null,this.downInactiveAlt=null,this.iconInactiveAlt=null}var e;return(e=[{key:"clone",value:function(){var e=new t(this.normal);return e.over=this.over,e.down=this.down,e.over=this.over,e.focus=this.focus,e.icon=this.icon,e.iconOver=this.iconOver,e.iconDown=this.iconDown,e.normalAlt=this.normalAlt,e.downAlt=this.downAlt,e.overAlt=this.overAlt,e.iconAlt=this.iconAlt,e.iconOverAlt=this.iconOverAlt,e.iconDownAlt=this.iconDownAlt,e.normalInactive=this.normalInactive,e.downInactive=this.downInactive,e.overInactive=this.overInactive,e.iconInactive=this.iconInactive,e.iconDownInactive=this.iconDownInactive,e.iconOverInactive=this.iconOverInactive,e.normalInactiveAlt=this.normalInactiveAlt,e.downInactiveAlt=this.downInactiveAlt,e.overInactiveAlt=this.overInactiveAlt,e.iconInactiveAlt=this.iconInactiveAlt,e}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(e).call(this,t))).blendTint=16777215,n._blendPasses=1,n._blendStrength=1,n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,PIXI.Sprite),(n=[{key:"_render",value:function(t){if(i(o(e.prototype),"_render",this).call(this,t),this._blendPasses>0){t.batch.currentRenderer.flush();var n=this.worldAlpha,r=this.blendMode,a=this.tint;this.alpha=this._blendStrength,this.blendMode=PIXI.BLEND_MODES.ADD,this.tint=this.blendTint,this.updateTransform();for(var s=0;s<this._blendPasses;++s)t.plugins[this.pluginName].render(this);t.batch.currentRenderer.flush(),this.alpha=n,this.blendMode=r,this.tint=a}}},{key:"blendPasses",get:function(){return this._blendPasses},set:function(t){this._blendPasses=P3.math.clamp(t,0,4)}},{key:"blendStrength",get:function(){return this._blendStrength},set:function(t){this._blendStrength=P3.math.clamp(t,0,1)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u(e).call(this))).signals={next:new i.default,previous:new i.default,home:new i.default,pause:new i.default},t.loaded=!1,t.alwaysUpdate=!1,t.autoAppear=!0,t}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,PIXI.Container),(n=[{key:"init",value:function(){}},{key:"destroy",value:function(t){(0,o.destroyAllSignals)(this.signals),s(u(e.prototype),"destroy",this).call(this,t)}},{key:"resize",value:function(){}},{key:"update",value:function(){}},{key:"appear",value:function(){this.animateIn()}},{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"animateIn",value:function(t,e){}},{key:"animateOut",value:function(t,e){}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={WARN_TEXTURE_DIVISIBLE_BY_2:!0,WARN_TEXTURE_DIVISIBLE_BY_4:!1,WARN_TEXTURE_MISSING:!0}},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,s(e).call(this))}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i.default),(n=[{key:"track",value:function(t){this.isScriptFound()?(FBInstant.logEvent(t.name,null,t.params),console.log("Facebook Analytics event tracked:",t.name,t.params)):console.log("[DEBUG] Facebook Analytics event tracked:",t.name,t.params),a(s(e.prototype),"track",this).call(this,t)}},{key:"isScriptFound",value:function(){return!!FBInstant}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(2)),i=o(n(8));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u(e).call(this))).window=window.top||window,n.isScriptFound()&&(gtag("js",new Date),gtag("config",t)),n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),(n=[{key:"track",value:function(t){this.isScriptFound()?(t instanceof i.default&&gtag("event",t.name,t.params),console.log("GTag Analytics event tracked:",t.name,t.params)):console.log("[DEBUG] GTag Analytics event tracked:",t.name,t.params),s(u(e.prototype),"track",this).call(this,t)}},{key:"isScriptFound",value:function(){return!!window.gtag||(console.warn("Google Tag script is not found."),!1)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(10)),i=a(n(9)),o=a(n(2));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,l(e).call(this))).window=window.top||window,n.isScriptFound()&&(ga("create",t,"auto"),ga("send","pageview")),n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.default),(n=[{key:"track",value:function(t){this.isScriptFound()&&(t instanceof r.default?ga("send","event",t.category,t.action,t.label,t.value):t instanceof i.default&&ga("send","pageview","/"+t.page)),u(l(e.prototype),"track",this).call(this,t)}},{key:"isScriptFound",value:function(){return!!ga||(console.warn("Google Analytics script is not found."),!1)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,s(e).call(this))}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i.default),(n=[{key:"track",value:function(t){this.isScriptFound()?(cordova.plugins.firebase.analytics.logEvent(t.name,t.params),console.log("Firebase Analytics event tracked:",t.name,t.params)):console.log("[DEBUG] Firebase Analytics event tracked:",t.name,t.params),a(s(e.prototype),"track",this).call(this,t)}},{key:"isScriptFound",value:function(){return"undefined"!=typeof cordova&&cordova.plugins&&cordova.plugins.firebase&&cordova.plugins.firebase.analytics}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(3))&&r.__esModule?r:{default:r};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,a(e).call(this))).name=t,n.params=r,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,i.default),e}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._module=e}var e;return(e=[{key:"track",value:function(e){this._module.track(e),t.DEBUG&&console.log("Track -",e)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r,r.DEBUG=!1},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Tracking",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"TrackingData",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"TrackingDataFirebaseEvent",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"TrackingDataGoogleEvent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"TrackingDataGooglePageView",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"TrackingDataGTagEvent",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"TrackingModule",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"TrackingModuleFirebase",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"TrackingModuleGoogle",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"TrackingModuleGTag",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"TrackingModuleFacebook",{enumerable:!0,get:function(){return d.default}});var r=p(n(26)),i=p(n(3)),o=p(n(25)),a=p(n(10)),s=p(n(9)),u=p(n(8)),l=p(n(2)),c=p(n(24)),h=p(n(23)),f=p(n(22)),d=p(n(21));function p(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.random=function(t,e){return Math.random()*(e-t)+t},e.randomInt=s,e.randomBool=function(){return Math.random()<.5},e.randomSign=function(){return 2*s(0,1)-1},e.roundNum=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,e);return Math.round(Math.floor(t*n)/n)},e.sign=function(t){return console.warn("Deprecation Warning: Please use 'Math.sign' instead of 'P3.math.sign'."),Math.sign(t)},e.clamp=function(t,e,n){return t<e?t=e:t>n&&(t=n),t},e.lerp=function(t,e,n){return t+(e-t)*n},e.fmod=function(t,e){return Number((t-Math.floor(t/e)*e).toPrecision(8))},e.rotatePoint=function(t,e){var n=Math.cos(e),r=Math.sin(e),i=n*t.x-r*t.y,o=n*t.y+r*t.x;t.x=i,t.y=o},Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Vector2",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Vector3",{enumerable:!0,get:function(){return o.default}});var r=a(n(12)),i=a(n(6)),o=a(n(11));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return Math.floor(Math.random()*(e-t+1))+t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(13)),i=o(n(7));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u(e).call(this)))._color=t||0,r._duration=n||.8,r._quad=null,r}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),(n=[{key:"init",value:function(){s(u(e.prototype),"init",this).call(this),this._quad=new PIXI.Graphics,this._quad.visible=!1,this.addChild(this._quad),this.resize()}},{key:"destroy",value:function(){s(u(e.prototype),"destroy",this).call(this,{children:!0})}},{key:"in",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._quad.alpha=0,this._quad.visible=!0,"undefined"!=typeof TweenMax?(this._tweens.out&&(this._tweens.out.kill(),delete this._tweens.out),this._tweens.in=TweenMax.to(this._quad,.5*this._duration,{delay:e,alpha:1,ease:Power2.easeInOut,onComplete:function(){this.signals.in.dispatch(this)},onCompleteScope:this})):(this._tweens.out&&(this._tweens.out.stop(),delete this._tweens.out),this._tweens.in=new i.default.Tween(this._quad).to({alpha:1},.5*this._duration*1e3).delay(1e3*e).easing(i.default.Easing.Cubic.InOut).onComplete(function(){t.signals.in.dispatch(t)}).start())}},{key:"out",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;"undefined"!=typeof TweenMax?(this._tweens.in&&(this._tweens.in.kill(),delete this._tweens.in),this._tweens.out=TweenMax.to(this._quad,.5*this._duration,{delay:e,alpha:0,ease:Power2.easeInOut,onComplete:function(){this._quad.visible=!1,this.signals.out.dispatch(this)},onCompleteScope:this})):(this._tweens.in&&(this._tweens.in.stop(),delete this._tweens.in),this._tweens.out=new i.default.Tween(this._quad).to({alpha:0},.5*this._duration*1e3).delay(1e3*e).easing(i.default.Easing.Cubic.InOut).onComplete(function(){t._quad.visible=!1,t.signals.out.dispatch(t)}).start())}},{key:"resize",value:function(){this._quad.clear(),this._quad.beginFill(this._color),this._quad.drawRect(0,0,P3.View.width,P3.View.height),this._quad.endFill()}},{key:"color",get:function(){return this._color}},{key:"duration",get:function(){return this._duration}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FadeTransition",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Transition",{enumerable:!0,get:function(){return i.default}});var r=o(n(29)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=n(0),o=(r=n(1))&&r.__esModule?r:{default:r},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={ready:new o.default,resize:new o.default},this._options=Object.assign({},{width:0,height:0,holderId:"game",portrait:!1,rotateImageColor:16777215,aspectRatioFillHeight:!0},e),this._holder=null,this._canvas=null,this._iosfix=null,this._rotateImage=null,this._targetOrientation=this._options.portrait?"portrait":"landscape"}var e;return(e=[{key:"init",value:function(){var t=this;if("complete"===document.readyState||"interactive"===document.readyState||(0,i.isCocoonJS)())this._onLoad();else if(document.body)if(void 0!==window.cordova)document.addEventListener("deviceready",function e(){document.removeEventListener("deviceready",e),t._onLoad()});else{var e=function e(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t._onLoad()};document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e)}else setTimeout(function(){return t._onLoad()},20)}},{key:"resize",value:function(t){var e=PIXI.utils.isMobile.any?document.documentElement.clientWidth:window.innerWidth,n=PIXI.utils.isMobile.any?document.documentElement.clientHeight:window.innerHeight;if(window.self===window.top?(this._holder.style.width=e+"px",this._holder.style.height=n+"px"):(this._holder.style.width="100%",this._holder.style.height="100%"),PIXI.utils.isMobile.apple.device&&(this._iosfix.style.height=parseInt(this._holder.style.height)+1+"px"),window.scrollTo(0,0),this._options.aspectRatioFillHeight){var r=e/this._options.width,i=this._options.height/n;this._updateDimensions(Math.floor(this._options.width*r*i),this._options.height)}else{var o=this._options.width/e,a=n/this._options.height;this._updateDimensions(this._options.width,Math.floor(this._options.height*a*o))}this.toggleRotate(!this.isCorrectOrientation),!t&&this.signals.resize.dispatch(this.isCorrectOrientation)}},{key:"toggleRotate",value:function(t){this._canvas.style.display=t?"none":"block",this._rotateImage.style.display=t?"block":"none"}},{key:"_createHolder",value:function(){(0,i.isCocoonJS)()||(0,i.isCordova)()||(this._holder=document.getElementById(this._options.holderId),this._holder||(this._holder=document.createElement("div"),this._holder.id=this._options.holderId,document.body.appendChild(this._holder)),this._holder.style.position="absolute",this._holder.style.left=0,this._holder.style.top=0,this._holder.style.width=window.self.innerWidth+"px",this._holder.style.height=window.self.innerHeight+"px",t.holder=this._holder,PIXI.utils.isMobile.apple.device&&(this._iosfix=document.createElement("div"),this._iosfix.id="iosfix",this._iosfix.style.position="absolute",this._iosfix.style.left=0,this._iosfix.style.right=0,this._iosfix.style.top=0,this._iosfix.style.bottom=0,this._iosfix.style.width="100%",this._iosfix.style.height=this._holder.height+1,this._iosfix.style.visibility="hidden",document.body.appendChild(this._iosfix),t.iosfix=this._iosfix))}},{key:"_createCanvas",value:function(){(0,i.isCocoonJS)()||(0,i.isCordova)()?(this._canvas=document.createElement("canvas"),this._canvas.id="pixi-canvas",this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._canvas.screencanvas=!0,this._canvas.style.cssText="idtkscale:ScaleAspectFill;",document.body.appendChild(this._canvas)):(this._canvas=document.createElement("canvas"),this._canvas.id="pixi-canvas",this._canvas.tabIndex=1,this._canvas.style.position="absolute",this._canvas.style.left=0,this._canvas.style.right=0,this._canvas.style.top=0,this._canvas.style.bottom=0,this._canvas.style.width="100%",this._canvas.style.height="100%",this._canvas.style.overflow="visible",this._canvas.style.display="block",this._holder.appendChild(this._canvas)),t.canvas=this._canvas}},{key:"_createRotateImage",value:function(){(0,i.isCocoonJS)()||(0,i.isCordova)()||(this._rotateImage=document.createElement("div"),this._rotateImage.id="rotateImage",this._rotateImage.style.position="absolute",this._rotateImage.style.left=0,this._rotateImage.style.top=0,this._rotateImage.style.width="100%",this._rotateImage.style.height="100%",this._rotateImage.style.marginLeft="auto",this._rotateImage.style.marginRight="0auto",this._rotateImage.style.overflow="visible",this._rotateImage.style.display="none",this._rotateImage.style.zIndex=1e3,this._rotateImage.style.backgroundImage=this._options.rotateImageUrl?"url("+this._options.rotateImageUrl+")":"",this._rotateImage.style.backgroundColor=this._options.rotateImageColor||16777215,this._rotateImage.style.backgroundPosition="50% 50%",this._rotateImage.style.backgroundRepeat="no-repeat",this._rotateImage.style.backgroundSize="100% auto",this._holder.appendChild(this._rotateImage),this._rotateImage.addEventListener("touchmove",function(t){return t.preventDefault(),!1}),this._rotateImage.addEventListener("touchstart",function(t){return t.preventDefault(),!1}),this._rotateImage.addEventListener("touchend",function(t){return t.preventDefault(),!1}))}},{key:"_updateDimensions",value:function(e,n){t.width=this._width=Math.round(e),t.height=this._height=Math.round(n),t.center.x=Math.round(.5*e),t.center.y=Math.round(.5*n),t.pixelRatio=(void 0!==window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI)||1}},{key:"_disableInteractions",value:function(){t.canvas.addEventListener("touchmove",function(t){return t.preventDefault(),!1}),t.canvas.addEventListener("touchstart",function(t){return t.preventDefault(),!1}),t.canvas.addEventListener("touchend",function(t){return t.preventDefault(),!1}),PIXI.utils.isMobile.android.device&&(t.canvas.addEventListener("mousedown",function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},!1),t.canvas.addEventListener("mouseup",function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},!1),t.canvas.addEventListener("click",function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation&&t.stopImmediatePropagation()},!1))}},{key:"_onLoad",value:function(){this._createHolder(),this._createCanvas(),this._createRotateImage(),this._disableInteractions(),(0,i.isCocoonJS)()||(0,i.isCordova)()?(this._updateDimensions(this._options.width*(window.innerWidth/this._options.width)/(window.innerHeight/this._options.height),this._options.height),this.signals.ready.dispatch(this._canvas)):(PIXI.utils.isMobile.android.device?window.self.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.self.addEventListener("resize",this._onResize.bind(this),!1),this.resize(!0),this.signals.ready.dispatch(this._canvas),this.signals.resize.dispatch(this.isCorrectOrientation))}},{key:"_onResize",value:function(t){this.resize()}},{key:"_onOrientationChange",value:function(t){window.self.addEventListener("resize",function t(){window.self.removeEventListener("resize",t,!1),e.resize()},!1);var e=this}},{key:"holder",get:function(){return this._holder}},{key:"options",get:function(){return this._options}},{key:"orientation",get:function(){return this._width>=this._height?"landscape":"portrait"}},{key:"isCorrectOrientation",get:function(){return!PIXI.utils.isMobile.any||this.orientation===this._targetOrientation}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=a,a.holder=null,a.canvas=null,a.width=0,a.height=0,a.center=new PIXI.Point,a.pixelRatio=1},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(5))&&r.__esModule?r:{default:r};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,s(e).call(this,t)))._toggle=!1,n._states.normalAlt=n._states.normalAlt||n._states.normal,n._states.overAlt=n._states.overAlt||n._states.over,n._states.downAlt=n._states.downAlt||n._states.down,n._states.iconAlt=n._states.iconAlt||n._states.icon,n._states.iconOverAlt=n._states.iconOverAlt||n._states.iconOver,n._states.iconDownAlt=n._states.iconDownAlt||n._states.iconDown,n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i.default),(n=[{key:"onMouseClick",value:function(t){this._enabled&&(this.toggle=!this.toggle),a(s(e.prototype),"onMouseClick",this).call(this,t)}},{key:"toggle",get:function(){return this._toggle},set:function(t){this._toggle=t,this._currentNormalTexture=this._toggle?this._states.normalAlt:this._states.normal,this._currentOverTexture=this._toggle?this._states.overAlt:this._states.over,this._currentDownTexture=this._toggle?this._states.downAlt:this._states.down,this._currentIconTexture=this._toggle?this._states.iconAlt:this._states.icon,this._currentIconOverTexture=this._toggle?this._states.iconOverAlt:this._states.iconOver,this._currentIconDownTexture=this._toggle?this._states.iconDownAlt:this._states.iconDown,this._states.normal&&(this._background.texture=this._currentNormalTexture),this._states.icon&&(this._icon.texture=this._currentIconTexture)}},{key:"enabled",set:function(t){this._enabled=t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._accumulator=0,this._lastFrameTimeMs=0,this._tabActive=!0}var e;return(e=[{key:"init",value:function(e,n,r){var i=this;r=r||window,document.addEventListener("visibilitychange",function(){switch(document.visibilityState){case"hidden":i._tabActive=!1;break;case"visible":i._tabActive=!0,i._lastFrameTimeMs=window.performance.now()}}),requestAnimationFrame(function(o){(function i(o){var a=this;if(this._tabActive){this._accumulator+=o-this._lastFrameTimeMs,this._lastFrameTimeMs=o;for(var s=0;this._accumulator>=t.TARGET_FPMS;)if(e.call(r),this._accumulator-=t.TARGET_FPMS,++s>=240){this._accumulator=0,console.warn("update is taking too long!");break}}n.call(r),requestAnimationFrame(function(t){i.call(a,t)})}).call(i,o)})}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r,r.TARGET_FPMS=1e3/60,r.dt=r.TARGET_FPMS/1e3},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=n(4),o=(r=n(5))&&r.__esModule?r:{default:r};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!(n=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u(e).call(this,t)))._states.iconAlt&&(n._states.iconAlt=PIXI.Texture.EMPTY),n._currentIconTexture=n.isEnabled()?n._states.icon:n._states.iconAlt,n._currentIconOverTexture=n.isEnabled()?n._states.iconOver:n._states.iconOverAlt,n._currentIconDownTexture=n.isEnabled()?n._states.iconDown:n._states.iconDownAlt,n._icon.texture=n._states.iconOver&&!PIXI.utils.isMobile.any?n._currentIconOverTexture:n._currentIconTexture,n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o.default),(n=[{key:"onMouseClick",value:function(t){this._currentIconTexture=this.isEnabled()?this._states.iconAlt:this._states.icon,this._currentIconOverTexture=this.isEnabled()?this._states.iconOverAlt:this._states.iconOver,this._currentIconDownTexture=this.isEnabled()?this._states.iconDownAlt:this._states.iconDown,this._icon.texture=this._states.iconOver&&!PIXI.utils.isMobile.any?this._currentIconOverTexture:this._currentIconTexture,i.audio&&i.audio.mute(!i.audio.isMute),s(u(e.prototype),"onMouseClick",this).call(this,t)}},{key:"isEnabled",value:function(){return!!i.audio&&!i.audio.isMute}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=a(n(1)),o=a(n(16));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}a(n(14));var f=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=t.textures[r]?t.textures[r][0]:PIXI.Texture.EMPTY;if(!a)throw new Error("No default texture found!");for(var s in(n=u(this,c(e).call(this,a))).blendPasses=0,n.blendStrength=0,n.animationSpeed=24,n.looping=!1,n.signals={animation:new i.default,animationComplete:new i.default},n._frames={},n._playing=!1,n._defaultAnimation=r,n._currentFrame=0,n._lastFrame=0,n._currentAnimationName=n._defaultAnimation,n._autoUpdate=!1,t.textures)if(t.textures.hasOwnProperty(s)){n._frames[s]=[];for(var l=0;l<t.textures[s].length;++l)n._frames[s].push({texture:t.textures[s][l],callback:null,scope:null})}return n.autoUpdate=o,n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,o.default),(n=[{key:"destroy",value:function(t){(0,r.destroyAllSignals)(this.signals),this.autoUpdate=!1,l(c(e.prototype),"destroy",this).call(this,t)}},{key:"play",value:function(t){"boolean"==typeof t&&(this.looping=t),this._playing=!0}},{key:"stop",value:function(){this._playing=!1}},{key:"gotoAndPlay",value:function(t,e){"string"!=typeof t?this._currentFrame=this._lastFrame=t:this._frames[t]&&(this._currentFrame=this._lastFrame=0,this._currentAnimationName=t),"boolean"==typeof e&&(this.looping=e),this._playing=!0;var n=this._frames[this._currentAnimationName],r=this._currentFrame+.5|0;this.texture=n[r%n.length].texture}},{key:"gotoAndStop",value:function(t){"string"!=typeof t?this._currentFrame=t:this._frames[t]&&(this._currentFrame=0,this._currentAnimationName=t),this._playing=!1;var e=this._frames[this._currentAnimationName],n=this._currentFrame+.5|0;this.texture=e[n%e.length].texture}},{key:"addFrameScript",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";n=n||window,this._frames[r]&&(this._frames[r][t].callback=e,this._frames[r][t].scope=e?n|window:null)}},{key:"update",value:function(t){if(this._playing&&this.getTotalFrames()){this._autoUpdate&&(t=t/PIXI.settings.TARGET_FPMS/1e3),this._currentFrame+=this.animationSpeed*t;var e=this._frames[this._currentAnimationName],n=this._currentFrame+.5|0,r=n%(e.length+1);this._currentFrame=this._currentFrame%e.length,r>0&&r!==this._lastFrame&&(this._lastFrame=r,e[r-1].callback&&e[r-1].callback.call(e[r-1].scope)),this.looping||n<e.length?(this.texture=e[n%e.length].texture,n>=e.length-1&&this.signals.animation.dispatch(this,this._currentAnimationName)):n>=e.length-1&&(this.gotoAndStop(e.length-1),this.signals.animationComplete.dispatch(this,this._currentAnimationName))}}},{key:"getTotalFrames",value:function(t){t=t||this._defaultAnimation;var e=this._frames[t];return e?e.length:0}},{key:"playing",get:function(){return this._playing}},{key:"currentFrame",get:function(){return this._currentFrame}},{key:"currentAnimationFrame",get:function(){return this._currentAnimationName}},{key:"totalFrames",get:function(){return this.getTotalFrames()}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){var e=PIXI.ticker?PIXI.ticker.shared:PIXI.Ticker.shared;this._autoUpdate&&!t?e.remove(this.update,this):!this._autoUpdate&&t&&e.add(this.update,this),this._autoUpdate=t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}i(n(17));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={next:new r.default},this._view=new PIXI.Container,this._next=null,this._stack=[]}var e;return(e=[{key:"show",value:function(t){this._next={},this._next.type=0,this._next.scene=t}},{key:"add",value:function(t,e){this._next={},this._next.type=1,this._next.scene=t,this._next.replace=e}},{key:"swap",value:function(t,e){this._next={},this._next.type=2,this._next.scene=t,this._next.removeCount=Math.max(1,e)||1}},{key:"remove",value:function(t){this._next={},this._next.type=2,this._next.removeCount=Math.max(1,t)||1}},{key:"removeAll",value:function(){this._next={},this._next.type=3,this._next.removeCount=Number.MAX_SAFE_INTEGER}},{key:"clear",value:function(){if(!this._transitionInProgress){for(var t=0;t<this._stack.length;++t){var e=this._stack[t];e.parent&&(e.hide(),e.parent.removeChild(e)),e.destroy({children:!0})}this._stack.length=0}}},{key:"update",value:function(){if(this._next&&this._nextScene(),this._stack.length){this.top.update();for(var t=0;t<this._stack.length-1;++t){var e=this._stack[t];e.alwaysUpdate&&e.update()}}}},{key:"resize",value:function(){for(var t=0;t<this._view.children.length;++t){var e=this._view.children[t];e.resize&&e.resize()}}},{key:"_nextScene",value:function(){var t=this._next;this._next=null;var e=t.scene;if(this.top)switch(this.top.hide(),t.type){case 0:for(;this.top;)this._removeTop();break;case 1:if(t.replace)for(var n=this._stack.length-1;n>=0;--n){var r=this._stack[n];r.parent&&r.parent.removeChild(r)}break;case 2:for(var i=Math.min(this._stack.length,t.removeCount),o=0;o<i;++o)this._removeTop()}e?(this._stack.push(e),e.init()):e=this.top,e&&(e.resize(),!e.parent&&this._view.addChild(e),e.show(),(2!==t.type||t.scene)&&e.autoAppear&&e.appear()),console.log("stack:",this._stack),this.signals.next.dispatch(this,e)}},{key:"_removeTop",value:function(){this.top.parent&&this.top.parent.removeChild(this.top),this.top.destroy({children:!0}),this._stack.pop()}},{key:"view",get:function(){return this._view}},{key:"top",get:function(){return this._stack.length?this._stack[this._stack.length-1]:null}},{key:"stack",get:function(){return this._stack.slice(0)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keys=e.default=void 0;var r=n(0),i=a(n(1)),o=a(n(6));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={mouseMove:new i.default,mouseDown:new i.default,mouseUp:new i.default,mouseClick:new i.default,keyDown:new i.default,keyUp:new i.default,swipeLeft:new i.default,swipeRight:new i.default,swipeUp:new i.default,swipeDown:new i.default,orientation:new i.default},this.refocus=!0,this._stage=null,this._keyListener=null,this._keyMap={},this._keyBuffer={},this._mouse=null,this._touch=null,this._swipeStart=null,this._swipeTime=0,this._orientation={gamma:0,beta:0,alpha:0},this._func={}}var e;return(e=[{key:"init",value:function(t,e){this._stage=t,this._stage.interactive=!0,this._stage.on("mousemove",this.onMouseMove,this),this._stage.on("mousedown",this.onMouseDown,this),this._stage.on("mouseup",this.onMouseUp,this),this._stage.on("click",this.onMouseClick,this),this._stage.on("touchmove",this.onMouseMove,this),this._stage.on("touchstart",this.onMouseDown,this),this._stage.on("touchend",this.onMouseUp,this),this._stage.on("tap",this.onMouseClick,this),this._keyListener=e,this._keyListener.addEventListener("keydown",this._func.keydown=this.onKeyDown.bind(this)),this._keyListener.addEventListener("keyup",this._func.keyup=this.onKeyUp.bind(this)),this._keyListener.focus(),document.addEventListener("click",this._func.click=function(){this.refocus&&this._keyListener.focus()}.bind(this)),PIXI.utils.isMobile.any&&window.addEventListener("deviceorientation",this._func.deviceorientation=this.onDeviceOrientation.bind(this))}},{key:"destroy",value:function(){this._stage.off("mousemove",this.onMouseMove,this),this._stage.off("mousedown",this.onMouseDown,this),this._stage.off("mouseup",this.onMouseUp,this),this._stage.off("click",this.onMouseClick,this),this._stage.off("touchmove",this.onMouseMove,this),this._stage.off("touchstart",this.onMouseDown,this),this._stage.off("touchend",this.onMouseUp,this),this._stage.off("tap",this.onMouseClick,this),this._keyListener.removeEventListener("keydown",this._func.keydown),this._keyListener.removeEventListener("keyup",this._func.keyup),document.removeEventListener("click",this._func.click),PIXI.utils.isMobile.any&&window.removeEventListener("deviceorientation",this._func.deviceorientation),(0,r.destroyAllSignals)(this.signals)}},{key:"update",value:function(){for(var t in this._keyBuffer)this._keyBuffer.hasOwnProperty(t)&&(this._keyBuffer[t]=!1)}},{key:"isKeyDown",value:function(t){return!0===this._keyMap[t]}},{key:"isKeyPressed",value:function(t){return!0===this._keyBuffer[t]}},{key:"onMouseMove",value:function(t){this._mouse=t.data.getLocalPosition(this._stage),this._touch&&(this._touch=this._mouse.clone()),this.signals.mouseMove.dispatch(t)}},{key:"onMouseDown",value:function(t){this._mouse=t.data.getLocalPosition(this._stage),this._touch=this._mouse.clone(),PIXI.utils.isMobile.any&&(this._swipeStart=this._touch.clone(),this._swipeTime=window.performance.now()),this.signals.mouseDown.dispatch(t)}},{key:"onMouseUp",value:function(t){if(PIXI.utils.isMobile.any&&this._touch){var e=new o.default(this._touch.x-this._swipeStart.x,this._touch.y-this._swipeStart.y),n=e.lengthSq;e.normalize(),window.performance.now()-this._swipeTime<800&&n>16&&(e.dot(new o.default(-1,0))>.9&&this.signals.swipeLeft.dispatch(),e.dot(new o.default(1,0))>.9&&this.signals.swipeRight.dispatch(),e.dot(new o.default(0,-1))>.9&&this.signals.swipeUp.dispatch(),e.dot(new o.default(0,1))>.9&&this.signals.swipeDown.dispatch())}this._mouse=t.data.getLocalPosition(this._stage),this._touch=null,this.signals.mouseUp.dispatch(t)}},{key:"onMouseClick",value:function(t){this.signals.mouseClick.dispatch(t)}},{key:"onKeyDown",value:function(t){t.keyCode!==u.LEFT&&t.keyCode!==u.RIGHT&&t.keyCode!==u.UP&&t.keyCode!==u.DOWN&&t.keyCode!==u.SPACE||t.preventDefault(),!this.isKeyDown(t.keyCode)&&(this._keyBuffer[t.keyCode]=!0),this._keyMap[t.keyCode]=!0,this.signals.keyDown.dispatch(t)}},{key:"onKeyUp",value:function(t){t.keyCode!==u.LEFT&&t.keyCode!==u.RIGHT&&t.keyCode!==u.UP&&t.keyCode!==u.DOWN&&t.keyCode!==u.SPACE||t.preventDefault(),this._keyMap[t.keyCode]=!1,this.signals.keyUp.dispatch(t)}},{key:"onDeviceOrientation",value:function(t){this.signals.orientation.dispatch(t)}},{key:"mouse",get:function(){return this._mouse}},{key:"touch",get:function(){return this._touch}},{key:"orientation",get:function(){return this._orientation}},{key:"keyListener",get:function(){return this._keyListener}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=s;var u={TAB:9,ENTER:13,SHIFT:16,CTRL:17,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM_0:48,NUM_1:49,NUM_2:50,NUM_3:51,NUM_4:52,NUM_5:53,NUM_6:54,NUM_7:55,NUM_8:56,NUM_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,PLUS:187,MINUS:189};e.keys=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(4),i=n(0),o=n(20),a=u(n(1)),s=u(n(18));function u(t){return t&&t.__esModule?t:{default:t}}window.URL||window.webkitURL;var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={progress:new a.default,complete:new a.default,error:new a.default,audioFile:new a.default},this._loader=PIXI.loaders?new PIXI.loaders.Loader:new PIXI.Loader,this._loader.onProgress?this._loader.onProgress.add(this._onLoaderProgress,this):this._loader.on("progress",this._onLoaderProgress,this),this._loader.onError?this._loader.onError.add(this._onLoaderError,this):this._loader.on("error",this._onLoaderError,this),this._loader.pre(this._preAudio),this._manifest=[],this._resources={};var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAYAAABUfC3PAAADlElEQVR4Xu3djW7qMAwF4PTJtzfnqh3llkLza/scp54mjYk2ds7XhAHTtqSU0iOlx5LSst6OD1wCu8Oy3tjbWFL6xbV078qPQ/bb6ggY7AVxAvndt6yf8x3YNu9T/VvuL5TninltX7GV6V8YVwvhDSVg9CH2Crmd6QMlYPRhSg8VX1ECRg+mBLJWvkQJGHmYGpAiSsDIwdSCVKEEzDhMC0g1SsD0w7SCNKEETDtMD0gzSsDUw/SCdKEETBlmBKQbJWCuYUZBhlAC5hNGAmQYJWD+w0iBiKAEzPZ+lOir69mXWcoPaTpXSktd9LHSIGIrZQ9Go0F06Ln6WvMVWyl3g9ECEV8pd4HRBFFDmfnBXxtEFWVGGAsQdZSZYKxATFBmgLEEMUPxDGMNYoriEQYBYo7iCQYFAkHxAIMEgaEww6BBoCiMMAwgcBQmGBYQChQGGCYQGhQkDBsIFQoChhGEDsUShhWEEsUChhmEFkUThh2EGkUDxgMIPYokjBcQFygSMJ5A3KCMwHgDcYXSA+MRxB1KC4xXEJcoNTCeQdyi5GC8g7hG+QYzA4h7lDPM+v1zUq7/bpn4L3jvwVh+nWWFHC6q7eaPZYiStY4gsVIkk+0c67xCZlkxbrevK4AZYFyilIIv3d+5MM1Oc4dSG3jtcWZJNxRyhdIadOvxDbmpHuoGpTfg3vNUUy8M7gJlNNjR862B6FGkApUaxwKIGkU6SOnxtIBoUbQC1BpXEogSRTs47fFHgehQrAKzqtMDRIViHZR1vVogGhRUQKi6OSAKFHQw6PpnIDgKSyAsfTzfOcW9ycUUxJoCSz+wlcISwHnrYOgLgsIw8dwDLbo/cxT0hGt/LEX2aYqCnGgtxvE4VL9mKKgJ9mCgYUxQvILsONb9q6NYT2h0ZVydbzkPVRTLiWhhILYyNZTZQCy3MhWUWUGsYMRRZgexgBFFuQuINowYyt1ANGFEUO4KogUzjHJ3EA2YIZQAeX92JJVHN4pUAxZP+ixrSOTShSJR2DIo61qj+TSjjBa0DghVbySnJpSRQqhwkHV786pG6S2ADIWhdk9uVSg9AzMEwtJDa35FlNYBWYJg66MlxyxKy0BsITD2U5vnJUrtAIyTZ+6pJtevKDUnMk+cvbdSvh8opRPYJ+ylv1zObygBYkt6lfcLJUBsQXKvLm8oj+3z72M5/G91TJv3q3peEEuAcFwEbzA7SqwQPM4O8w+Wpb6O6Zw01AAAAABJRU5ErkJggg==";this._fallbackTexture=PIXI.Texture.from?PIXI.Texture.from(e):PIXI.Texture.fromImage(e),this._audioFileExt=".ogg",this._audioFileTypes=[],this.audioFileTypes=["ogg","m4a","mp3"],this.signals.audioFile.add(r.audio.addSound,r.audio),PIXI.loaders?(PIXI.loaders.Resource.setExtensionLoadType("ogg",PIXI.loaders.Resource.LOAD_TYPE.XHR),PIXI.loaders.Resource.setExtensionXhrType("ogg",PIXI.loaders.Resource.XHR_RESPONSE_TYPE.BLOB),PIXI.loaders.Resource.setExtensionLoadType("m4a",PIXI.loaders.Resource.LOAD_TYPE.XHR),PIXI.loaders.Resource.setExtensionXhrType("m4a",PIXI.loaders.Resource.XHR_RESPONSE_TYPE.BLOB),PIXI.loaders.Resource.setExtensionLoadType("mp3",PIXI.loaders.Resource.LOAD_TYPE.XHR),PIXI.loaders.Resource.setExtensionXhrType("mp3",PIXI.loaders.Resource.XHR_RESPONSE_TYPE.BLOB)):(PIXI.LoaderResource.setExtensionLoadType("ogg",PIXI.LoaderResource.LOAD_TYPE.XHR),PIXI.LoaderResource.setExtensionXhrType("ogg",PIXI.LoaderResource.XHR_RESPONSE_TYPE.BLOB),PIXI.LoaderResource.setExtensionLoadType("m4a",PIXI.LoaderResource.LOAD_TYPE.XHR),PIXI.LoaderResource.setExtensionXhrType("m4a",PIXI.LoaderResource.XHR_RESPONSE_TYPE.BLOB),PIXI.LoaderResource.setExtensionLoadType("mp3",PIXI.LoaderResource.LOAD_TYPE.XHR),PIXI.LoaderResource.setExtensionXhrType("mp3",PIXI.LoaderResource.XHR_RESPONSE_TYPE.BLOB))}var e;return(e=[{key:"addFiles",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e&&e.length>0)for(var n=0;n<t.length;++n){var r=t[n].url;t[n].url=e+r}return this._manifest=this._manifest.concat(t),this._manifest}},{key:"load",value:function(){var t=this;if(this._manifest.length)return this._loader.add(this._manifest),new Promise(function(e){t._loader.onComplete?t._loader.onComplete.once(function(n,r){t._onLoaderComplete.call(t,n,r),e(n,r)}):t._loader.on("complete",function t(){this._loader.off("complete",t,this),this._onLoaderComplete.call(this,loader,resources),e(loader,resources)},t),t._loader.load()})}},{key:"unloadTexture",value:function(t,e){e="."+(e||"png"),t=(t=this._resources[t].url).replace(/\.[^\/.]+$/,""),PIXI.utils.TextureCache[t+e].destroy(!0)}},{key:"texture",value:function(t,e){var n;e=""===e?"":"."+(e||"png");try{n=PIXI.Texture.fromFrame?PIXI.Texture.fromFrame(t+e):PIXI.Texture.from(t+e)}catch(e){this._resources[t]?n=this._resources[t].texture:(s.default.WARN_TEXTURE_MISSING&&console.warn("texture not found :",t),n=this._fallbackTexture)}return s.default.WARN_TEXTURE_DIVISIBLE_BY_2&&(n.width%2!=0||n.height%2!=0)&&console.warn("texture dimensions not divisible by 2 :",t+e,"("+n.width+"x"+n.height+")"),s.default.WARN_TEXTURE_DIVISIBLE_BY_4&&(n.width%4!=0||n.height%4!=0)&&console.warn("texture dimensions not divisible by 4 :",t+e,"("+n.width+"x"+n.height+")"),n}},{key:"json",value:function(t){var e=(0,i.copyObjectFast)(this._resources[t].data);if(!e)throw new Error("json not found: "+t);return e}},{key:"spineData",value:function(t){var e=this._resources[t];if(!e||e&&!e.spineData)throw new Error("spine data not found: "+t);return e.spineData}},{key:"_onLoaderProgress",value:function(t,e){this.signals.progress.dispatch(t,e,t.progress)}},{key:"_onLoaderComplete",value:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(this._resources[n]=e[n]);this._manifest.length=0,this._loader.reset(),this.signals.complete.dispatch(t,e)}},{key:"_onLoaderError",value:function(t,e,n){this.signals.error.dispatch(t,e,n)}},{key:"_preAudio",value:function(t,e){t&&-1!==["ogg","m4a","mp3"].indexOf(t.extension)?(t.data=r.audio.isSoundLoaded(t.name),t.data?e():(t.data=r.audio.addSound(t.name,t.url),t.data.once("load",function(){t.complete(),e()}),t.data.once("loaderror",function(n,r){console.error(t),t.abort(r),e()}))):e()}},{key:"manifest",get:function(){return this._manifest.slice()}},{key:"loader",get:function(){return this._loader}},{key:"audioFileExt",get:function(){return this._audioFileExt}},{key:"audioFileTypes",get:function(){return this._audioFileTypes},set:function(t){this._audioFileTypes=t;for(var e=t.length-1;e>=0;--e){var n=t[e];o.Howler.codecs(n)&&(this._audioFileExt="."+n)}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEG_TO_RAD=e.RAD_TO_DEG=e.PI_2=void 0;var r=2*Math.PI;e.PI_2=r;var i=180/Math.PI;e.RAD_TO_DEG=i;var o=Math.PI/180;e.DEG_TO_RAD=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={assets:!0,input:!0,scene:!0,keys:!0,AdditiveSprite:!0,Button:!0,ButtonStates:!0,MovieClip:!0,MovieClipSequence:!0,MuteButton:!0,Scene:!0,Ticker:!0,ToggleButton:!0,View:!0};Object.defineProperty(e,"keys",{enumerable:!0,get:function(){return a.keys}}),Object.defineProperty(e,"AdditiveSprite",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Button",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"ButtonStates",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"MovieClip",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"MovieClipSequence",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"MuteButton",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"Scene",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Ticker",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"ToggleButton",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"View",{enumerable:!0,get:function(){return y.default}}),e.scene=e.input=e.assets=void 0;var i=n(39);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))});var o=v(n(38)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(37)),s=v(n(36)),u=v(n(16)),l=v(n(5)),c=v(n(15)),h=v(n(35)),f=v(n(14)),d=v(n(34)),p=v(n(17)),_=v(n(33)),m=v(n(32)),y=v(n(31));function v(t){return t&&t.__esModule?t:{default:t}}var g=new o.default;e.assets=g;var b=new a.default;e.input=b;var w=new s.default;e.scene=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new PIXI.Point,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new PIXI.Point;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.focus=e,this.offset=n,this.zoom=1,this._position=new PIXI.Point,this._bounds=new PIXI.Rectangle(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),this._layers=[],this._parallax=new PIXI.Point(1,1),this._target=null}var e;return(e=[{key:"destroy",value:function(){this.removeAllLayers()}},{key:"update",value:function(){this._target&&this._position.set(this._target.x*this._parallax.x,this._target.y*this._parallax.y),this._clampToBounds(this._position);for(var t=0;t<this._layers.length;++t){var e=this._layers[t];e.view.pivot.set(this.focus.x+this._position.x,this.focus.y+this._position.y),e.view.position.set(e.view.pivot.x+this.offset.x+this._position.x*-e.parallax.x,e.view.pivot.y+this.offset.y+this._position.y*-e.parallax.y),e.view.scale.set(this.zoom,this.zoom)}}},{key:"addLayer",value:function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;++n)this._layers.push(arguments[n]);else this._layers.push(t);return t}},{key:"removeLayer",value:function(t){var e=arguments.length;if(e>1)for(var n=e-1;n>=0;--n)this.removeLayer(arguments[n]);else{var r=this._layers.indexOf(t);if(-1===r)throw new Error("Layer does not exit!");this._layers.splice(r,1)}return t}},{key:"removeAllLayers",value:function(){this._layers=[]}},{key:"findLayer",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null,r=0;r<this._layers.length;++r){var i=this._layers[r];(i.view===t||o.call(this,i.view,e))&&(n=i)}function o(e,n){for(var r=0;r<e.children.length;++r){var i=e.children[r];if(i===t)return!0;n&&o.call(this,i,n)}return!1}return n}},{key:"setTarget",value:function(t){this._target=t;var e=this.findLayer(this._target,!0);this._parallax.x=e?e.parallax.x:1,this._parallax.y=e?e.parallax.y:1}},{key:"_clampToBounds",value:function(t){t.x<this._bounds.x&&this._bounds.x!==Number.NEGATIVE_INFINITY?t.x=this._bounds.x:t.x>this._bounds.width&&this._bounds.width!==Number.POSITIVE_INFINITY&&(t.x=this._bounds.width),t.y<this._bounds.y&&this._bounds.y!==Number.NEGATIVE_INFINITY?t.y=this._bounds.y:t.y>this._bounds.height&&this._bounds.height!==Number.POSITIVE_INFINITY&&(t.y=this._bounds.height)}},{key:"position",get:function(){return this._position}},{key:"bounds",get:function(){return this._bounds}},{key:"target",get:function(){return this._target}},{key:"layers",get:function(){return this._layers.slice()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._view=e,this._parallax=n||new PIXI.Point}var e;return(e=[{key:"view",get:function(){return this._view}},{key:"parallax",get:function(){return this._parallax}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(0),a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={trackStart:new i.default,trackStop:new i.default},this.view=e||new PIXI.Point,this.bounds=new PIXI.Rectangle(-.5*Number.MAX_SAFE_INTEGER,-.5*Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.offset=new PIXI.Point,this.snapToPixel=n,this._position=new PIXI.Point,this._target=null,this._layers=[],this._smoothness=new PIXI.Point(0,0),this._parallax=new PIXI.Point(1,1),this._tracking=!1}var e;return(e=[{key:"destroy",value:function(){(0,o.destroyAllSignals)(this.signals),this.removeAllLayers()}},{key:"update",value:function(t){var e=this._target?new PIXI.Point(this._target.x+this.offset.x,this._target.y+this.offset.y):new PIXI.Point;this._clampToBounds(e),this._shakeTime>0&&(e.x+=this._shakeStrength*P3.math.randomInt(-1,1)*(this._shakeTime/this._shakeDuration),e.y+=this._shakeStrength*P3.math.randomInt(-1,1)*(this._shakeTime/this._shakeDuration),this._shakeTime=Math.max(0,this._shakeTime-t));var n=new P3.Vector2(e.x-this._position.x*this._parallax.x,e.y-this._position.y*this._parallax.y),r=P3.math.clamp(60*(1-this._smoothness.x)*t,.01,1),i=P3.math.clamp(60*(1-this._smoothness.y)*t,.01,1);this._position.x=P3.math.lerp(this._position.x*this._parallax.x,e.x,r),this._position.y=P3.math.lerp(this._position.y*this._parallax.y,e.y,i),this.snapToPixel&&(this._position.x=Math.round(this._position.x),this._position.y=Math.round(this._position.y)),n.lengthSq<.1&&!this._tracking?(this._tracking=!0,this.signals.trackStop.dispatch(this)):n.lengthSq>.1&&this._tracking&&(this._tracking=!1,this.signals.trackStart.dispatch(this)),this.updateLayers()}},{key:"updateLayers",value:function(){for(var t=0;t<this._layers.length;++t){var e=this._layers[t];e.view.x=this._position.x*-e.parallax.x+this.view.x-this.view.x*(1-e.parallax.x),e.view.y=this._position.y*-e.parallax.y+this.view.y-this.view.y*(1-e.parallax.y)}}},{key:"addLayer",value:function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;++n)this._layers.push(arguments[n]);else this._layers.push(t);return this.updateLayers(),t}},{key:"removeLayer",value:function(t){var e=arguments.length;if(e>1)for(var n=e-1;n>=0;--n)this.removeLayer(arguments[n]);else{var r=this._layers.indexOf(t);if(-1===r)throw new Error("Layer does not exit!");this._layers.splice(r,1)}return t}},{key:"removeAllLayers",value:function(){this._layers=[]}},{key:"setTarget",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._target=t;var n=this.findLayer(this._target,!0);if(this._parallax.x=n?n.parallax.x:1,this._parallax.y=n?n.parallax.y:1,e){var r=this._target?new PIXI.Point(this._target.x+this.offset.x,this._target.y+this.offset.y):this._position.clone();this._clampToBounds(r),this._position.x=r.x,this._position.y=r.y,this.updateLayers()}}},{key:"shake",value:function(t,e){this._shakeTime=this._shakeDuration=t,this._shakeStrength=e}},{key:"findLayer",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null,r=0;r<this._layers.length;++r){var i=this._layers[r];(i.view===t||o.call(this,i.view,e))&&(n=i)}function o(e,n){for(var r=0;r<e.children.length;++r){var i=e.children[r];if(i===t)return!0;n&&o.call(this,i,n)}return!1}return n}},{key:"_clampToBounds",value:function(t){t.x<this.bounds.x?t.x=this.bounds.x:t.x>this.bounds.width&&(t.x=this.bounds.width),t.y<this.bounds.y?t.y=this.bounds.y:t.y>this.bounds.height&&(t.y=this.bounds.height)}},{key:"position",get:function(){return this._position}},{key:"target",get:function(){return this._target}},{key:"smoothness",get:function(){return this._smoothness},set:function(t){this._smoothness=t}},{key:"layers",get:function(){return this._layers.slice(0)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Camera",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"CameraLayer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"NewCamera",{enumerable:!0,get:function(){return o.default}});var r=a(n(43)),i=a(n(42)),o=a(n(41));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(0),a=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.TYPE_SOUND;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={end:new i.default,cleanup:new i.default},this._id=e,this._howl=n,this._type=o,this._binding=function(){return r.onHowlEnd()},this._howl.on("end",this._binding)}var e;return(e=[{key:"destroy",value:function(){this.stop(),this._howl.off("end",this._binding),this.signals.cleanup.dispatch(this),(0,o.destroyAllSignals)(this.signals)}},{key:"play",value:function(){this._howl.play(this._id)}},{key:"stop",value:function(){this._howl.stop(this._id)}},{key:"pause",value:function(){this._howl.pause(this._id)}},{key:"mute",value:function(t){this._howl.mute(t,this._id)}},{key:"onHowlEnd",value:function(){this.signals.end.dispatch(this)}},{key:"id",get:function(){return this._id}},{key:"howl",get:function(){return this._howl}},{key:"type",get:function(){return this._type}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=a,a.TYPE_SOUND="sound",a.TYPE_MUSIC="music",a.TYPE_VO="vo",a.TYPE_BUTTON="button"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=e,this._howl=n}var e;return(e=[{key:"destroy",value:function(){this._onend&&this.howl.off("end",this._onend),this.stop()}},{key:"play",value:function(){this.howl.play(this.id)}},{key:"stop",value:function(){this.howl.stop(this.id)}},{key:"pause",value:function(){this.howl.pause(this.id)}},{key:"id",get:function(){return this._id}},{key:"howl",get:function(){return this._howl}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(t){function e(){var t,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=!(n=o(e).call(this))||"object"!==r(n)&&"function"!=typeof n?s(this):n).interactive=!0,t.friction=.94,t.contentBounds=new PIXI.Rectangle(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),t._content=new PIXI.Container,t.addChild(t._content),t._delta=new P3.Vector2,t._lastPos=new PIXI.Point,t._isDragging=!1,t.on("mousedown",t.onPointerDown,s(s(t))),t.on("mouseup",t.onPointerUp,s(s(t))),t.on("mouseupoutside",t.onPointerUp,s(s(t))),t.on("mousemove",t.onPointerMove,s(s(t))),t.on("touchstart",t.onPointerDown,s(s(t))),t.on("touchend",t.onPointerUp,s(s(t))),t.on("touchendoutside",t.onPointerUp,s(s(t))),t.on("touchmove",t.onPointerMove,s(s(t))),t}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,PIXI.Container),(n=[{key:"destroy",value:function(){this.off("mousedown",this.onPointerDown,this),this.off("mouseup",this.onPointerUp,this),this.off("mouseupoutside",this.onPointerUp,this),this.off("mousemove",this.onPointerMove,this),this.off("touchstart",this.onPointerDown,this),this.off("touchend",this.onPointerUp,this),this.off("touchendoutside",this.onPointerUp,this),this.off("touchmove",this.onPointerMove,this),i(o(e.prototype),"destroy",this).call(this)}},{key:"update",value:function(t){this._isDragging||(this._content.x+=this._delta.x*t,this._content.y+=this._delta.y*t,this._delta.scaleBy(this.friction),this._delta.length<20&&this._delta.set(0),this._content.x<this.contentBounds.x?(this._content.x+=10*(this.contentBounds.x-this._content.x)*t,this._delta.x*=this.friction):this._content.x>this.contentBounds.width&&(this._content.x+=10*(this.contentBounds.width-this._content.x)*t,this._delta.x*=this.friction),this._content.y<this.contentBounds.y?(this._content.y+=10*(this.contentBounds.y-this._content.y)*t,this._delta.y*=this.friction):this._content.y>this.contentBounds.height&&(this._content.y+=10*(this.contentBounds.height-this._content.y)*t,this._delta.y*=this.friction))}},{key:"scroll",value:function(t){var e=1;this._content.x<this.contentBounds.x&&this._delta.x<0?e=Math.pow(Math.max(0,1-Math.abs(this.contentBounds.x-this._content.x)/140),2):this._content.x>this.contentBounds.width&&this._delta.x>0&&(e=Math.pow(Math.max(0,1-Math.abs(this.contentBounds.width-this._content.x)/140),2)),this._content.y<this.contentBounds.y&&this._delta.y<0?e=Math.pow(Math.max(0,1-Math.abs(this.contentBounds.y-this._content.y)/140),2):this._content.y>this.contentBounds.height&&this._delta.y>0&&(e=Math.pow(Math.max(0,1-Math.abs(this.contentBounds.height-this._content.y)/140),2)),this._content.x+=t.x*e,this._content.y+=t.y*e}},{key:"onPointerDown",value:function(t){this._delta.set(0),this._lastPos=t.data.getLocalPosition(this),this._isDragging=!0}},{key:"onPointerUp",value:function(t){this._delta.scaleBy(100),this._delta.length<=300&&this._delta.set(0),this._isDragging=!1}},{key:"onPointerMove",value:function(t){if(this._isDragging){var e=t.data.getLocalPosition(this);this._delta=new P3.Vector2(e.x-this._lastPos.x,e.y-this._lastPos.y),this.contentBounds.width-this.contentBounds.x==0&&(this._delta.x=0),this.contentBounds.height-this.contentBounds.y==0&&(this._delta.y=0),this._lastPos.set(e.x,e.y),this.scroll(this._delta)}}},{key:"content",get:function(){return this._content}},{key:"isDragging",get:function(){return this._isDragging}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._t=e,this._args=r||[],this._free=[],this._used=[],this.expand(Math.max(1,n))}var e;return(e=[{key:"destroy",value:function(){for(var t=0;t<this._free.length;++t){var e=this._free[t];e&&e.destroy&&e.destroy()}this._free.length=0;for(var n=0;n<this._used.length;++n){var r=this._used[n];r&&r.destroy&&r.destroy()}this._used.length=0}},{key:"expand",value:function(t){for(var e=0;e<t;++e){var n=Object.create(this._t.prototype);n.constructor=this._t,this._t.apply(n,this._args),this._free.push(n)}}},{key:"create",value:function(){var t=this._free.shift();return t?(this._used.push(t),t):null}},{key:"free",value:function(t){var e=this._used.indexOf(t);return-1!==e&&(t.reset&&t.reset(),this._free.push(t),this._used.splice(e,1)),-1!==e}},{key:"baseClass",get:function(){return this._t}},{key:"size",get:function(){return this._free.length+this._used.length}},{key:"available",get:function(){return this._free.length}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=r},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?e.push(n.charAt(i>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(t.charAt(r))>>>6-2*i);return e}},t.exports=r},function(t,e,n){var r,i,o,a,s;r=n(51),i=n(19).utf8,o=n(50),a=n(19).bin,(s=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?a.stringToBytes(t):i.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var n=r.bytesToWords(t),u=8*t.length,l=1732584193,c=-271733879,h=-1732584194,f=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[u>>>5]|=128<<u%32,n[14+(u+64>>>9<<4)]=u;var p=s._ff,_=s._gg,m=s._hh,y=s._ii;for(d=0;d<n.length;d+=16){var v=l,g=c,b=h,w=f;c=y(c=y(c=y(c=y(c=m(c=m(c=m(c=m(c=_(c=_(c=_(c=_(c=p(c=p(c=p(c=p(c,h=p(h,f=p(f,l=p(l,c,h,f,n[d+0],7,-680876936),c,h,n[d+1],12,-389564586),l,c,n[d+2],17,606105819),f,l,n[d+3],22,-1044525330),h=p(h,f=p(f,l=p(l,c,h,f,n[d+4],7,-176418897),c,h,n[d+5],12,1200080426),l,c,n[d+6],17,-1473231341),f,l,n[d+7],22,-45705983),h=p(h,f=p(f,l=p(l,c,h,f,n[d+8],7,1770035416),c,h,n[d+9],12,-1958414417),l,c,n[d+10],17,-42063),f,l,n[d+11],22,-1990404162),h=p(h,f=p(f,l=p(l,c,h,f,n[d+12],7,1804603682),c,h,n[d+13],12,-40341101),l,c,n[d+14],17,-1502002290),f,l,n[d+15],22,1236535329),h=_(h,f=_(f,l=_(l,c,h,f,n[d+1],5,-165796510),c,h,n[d+6],9,-1069501632),l,c,n[d+11],14,643717713),f,l,n[d+0],20,-373897302),h=_(h,f=_(f,l=_(l,c,h,f,n[d+5],5,-701558691),c,h,n[d+10],9,38016083),l,c,n[d+15],14,-660478335),f,l,n[d+4],20,-405537848),h=_(h,f=_(f,l=_(l,c,h,f,n[d+9],5,568446438),c,h,n[d+14],9,-1019803690),l,c,n[d+3],14,-187363961),f,l,n[d+8],20,1163531501),h=_(h,f=_(f,l=_(l,c,h,f,n[d+13],5,-1444681467),c,h,n[d+2],9,-51403784),l,c,n[d+7],14,1735328473),f,l,n[d+12],20,-1926607734),h=m(h,f=m(f,l=m(l,c,h,f,n[d+5],4,-378558),c,h,n[d+8],11,-2022574463),l,c,n[d+11],16,1839030562),f,l,n[d+14],23,-35309556),h=m(h,f=m(f,l=m(l,c,h,f,n[d+1],4,-1530992060),c,h,n[d+4],11,1272893353),l,c,n[d+7],16,-155497632),f,l,n[d+10],23,-1094730640),h=m(h,f=m(f,l=m(l,c,h,f,n[d+13],4,681279174),c,h,n[d+0],11,-358537222),l,c,n[d+3],16,-722521979),f,l,n[d+6],23,76029189),h=m(h,f=m(f,l=m(l,c,h,f,n[d+9],4,-640364487),c,h,n[d+12],11,-421815835),l,c,n[d+15],16,530742520),f,l,n[d+2],23,-995338651),h=y(h,f=y(f,l=y(l,c,h,f,n[d+0],6,-198630844),c,h,n[d+7],10,1126891415),l,c,n[d+14],15,-1416354905),f,l,n[d+5],21,-57434055),h=y(h,f=y(f,l=y(l,c,h,f,n[d+12],6,1700485571),c,h,n[d+3],10,-1894986606),l,c,n[d+10],15,-1051523),f,l,n[d+1],21,-2054922799),h=y(h,f=y(f,l=y(l,c,h,f,n[d+8],6,1873313359),c,h,n[d+15],10,-30611744),l,c,n[d+6],15,-1560198380),f,l,n[d+13],21,1309151649),h=y(h,f=y(f,l=y(l,c,h,f,n[d+4],6,-145523070),c,h,n[d+11],10,-1120210379),l,c,n[d+2],15,718787259),f,l,n[d+9],21,-343485551),l=l+v>>>0,c=c+g>>>0,h=h+b>>>0,f=f+w>>>0}return r.endian([l,c,h,f])})._ff=function(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},s._gg=function(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},s._hh=function(t,e,n,r,i,o,a){var s=t+(e^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},s._ii=function(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=r.wordsToBytes(s(t,e));return e&&e.asBytes?n:e&&e.asString?a.bytesToString(n):r.bytesToHex(n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={Back2:{In:function(t){var e=3.40316;return t*t*((e+1)*t-e)},Out:function(t){var e=3.40316;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=5.189819;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Back3:{In:function(t){var e=1.70158*3;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158*3;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=7.7847285;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Back4:{In:function(t){var e=6.80632;return t*t*((e+1)*t-e)},Out:function(t){var e=6.80632;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=10.379638;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(0),a=n(0),s=n(4),u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={sound:new i.default,music:new i.default,vo:new i.default,button:new i.default},this.forceHTML5Audio=!1,this.preloadAudio=!1,this._cache={},this._playing=[],this._music=null,this._vo=null,this._mute={all:!1,sound:!1,music:!1,vo:!1,button:!1}}var e;return(e=[{key:"destroy",value:function(){(0,a.destroyAllSignals)(this.signals)}},{key:"addSound",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.forceHTML5Audio,o=new Howl({src:r+e,format:n,volume:1,loop:!1,autoplay:!1,preload:this.preloadAudio,html5:i});return o.name=t,this._cache[t]=o,o}},{key:"addSounds",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.forceHTML5Audio,i=0;i<t.length;++i){for(var o=n+t[i],a=(o=o.split("/"))[o.length-1],s=[],u=0;u<e.length;++u){var l=e[u];s.push(o.join("/")+l)}var c=new Howl({src:s,volume:1,loop:!1,autoplay:!1,preload:this.preloadAudio,html5:r});c.name=a,this._cache[a]=c}}},{key:"unloadSound",value:function(t){var e=this._cache[t];return!!e&&(e.unload(),delete this._cache[t],!0)}},{key:"isSoundLoaded",value:function(t){return this._cache[t]}},{key:"playSound",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.NewAudio.TYPE_SOUND;e=Object.assign({},{volume:1,loop:!1,cleanup:!1},e),"string"!=typeof t&&t.length>0&&(t=(0,o.selectRandom)(t));var i=this._cache[t],a=null;if(i){var u=i.play();i.volume(e.volume,u),i.loop(e.loop,u),i.mute(this._mute[r],u),(a=new s.NewAudio(u,i,r)).signals.cleanup.once(function(){return n.cleanupAudio(a)}),a.signals.end.add(function(){e.callback&&e.callback.call(e.scope||window),e.cleanup&&a.destroy()}),this._playing.push(a)}else console.warn("Could not find sound -",t);return this.signals[r].dispatch(this,t,a),a}},{key:"playOneShot",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.playSound(t,{volume:e,cleanup:!0})}},{key:"playMusic",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._music&&this._music.howl.name===t&&!n?this._music:(this.stopMusic(),e=Object.assign({},{loop:!0},e),this._music=this.playSound(t,e,s.NewAudio.TYPE_MUSIC),this._music)}},{key:"stopMusic",value:function(){this._music&&(this._music.destroy(),this._music=null)}},{key:"playVO",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._vo&&!r?null:(this.stopVO(),this._vo=this.playSound(t,{volume:n,cleanup:!0,callback:function(){e._vo=null}},s.NewAudio.TYPE_VO),this._vo)}},{key:"stopVO",value:function(){this._vo&&(this._vo.destroy(),this._vo=null)}},{key:"playButtonVO",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._vo&&!r?null:(this.stopVO(),this._vo=this.playSound(t,{volume:n,cleanup:!0,callback:function(){e._vo=null}},s.NewAudio.TYPE_BUTTON),this._vo)}},{key:"mute",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";if(this._mute[e]=t,"all"!==e)for(var n=0,r=this._playing.length;n<r;++n){var i=this._playing[n];i.type===e&&i.mute(t,i.id)}else Howler.mute(t)}},{key:"cleanupAudio",value:function(t){this._playing.splice(this._playing.indexOf(t),1)}},{key:"isMuted",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return this._mute[t]}},{key:"isMute",get:function(){return this._mute.all}},{key:"music",get:function(){return this._music}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();e.default=u},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r={Color:!0,Vector2:!0,Vector3:!0,math:!0,tracking:!0,utils:!0,settings:!0};Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Vector2",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Vector3",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return p.default}}),e.utils=e.tracking=e.math=void 0;var i=n(4);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))});var o=n(44);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))});var a=n(40);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))});var s=n(30);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))});var u=m(n(12)),l=m(n(6)),c=m(n(11)),h=_(n(28));e.math=h;var f=_(n(27));e.tracking=f;var d=_(n(0));e.utils=d;var p=m(n(18));function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}t.P3=e}).call(this,n(55))}])}).call(this,n(786))},function(t,e,n){(function(n){var r;
/*!
 *  howler.js v2.2.0
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 *  howler.js v2.2.0
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var t=this||o;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||o;if(t=parseFloat(t),e.ctx||d(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,o.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=e._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||o;e.ctx||d(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,o.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=e._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},stop:function(){for(var t=this||o,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||o,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,d()),t},codecs:function(t){return(this||o)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||o;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||o,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),i=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(i||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||o;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(n){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(n){t.noAudio=!0;break}for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var o=t._howls[i]._getSoundIds(),a=0;a<o.length;a++){var s=t._howls[i]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var n=0;n<t._howls.length;n++)t._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||o;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(t){var e=this||o;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&o.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&o.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var o=new i,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(t){var e=this;return o.ctx||d(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=o.usingWebAudio&&!e._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var n,r;if(this._format&&this._format[e])n=this._format[e];else{if("string"!=typeof(r=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&o.codecs(n)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&l(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?t=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!t&&(t=s._sprite||"__default"),"loaded"!==n._state){s._sprite=t,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return e||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var l=Math.max(0,s._seek>0?s._seek:n._sprite[t][0]/1e3),c=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-l),h=1e3*c/Math.abs(s._rate),f=n._sprite[t][0]/1e3,d=(n._sprite[t][0]+n._sprite[t][1])/1e3;s._sprite=t,s._ended=!1;var p=function(){s._paused=!1,s._seek=l,s._start=f,s._stop=d,s._loop=!(!s._loop&&!n._sprite[t][2])};if(!(l>=d)){var _=s._node;if(n._webAudio){var m=function(){n._playLock=!1,p(),n._refreshBuffer(s);var t=s._muted||n._muted?0:s._volume;_.gain.setValueAtTime(t,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===_.bufferSource.start?s._loop?_.bufferSource.noteGrainOn(0,l,86400):_.bufferSource.noteGrainOn(0,l,c):s._loop?_.bufferSource.start(0,l,86400):_.bufferSource.start(0,l,c),h!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),h)),e||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===o.state&&"interrupted"!==o.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var y=function(){_.currentTime=l,_.muted=s._muted||n._muted||o._muted||_.muted,_.volume=s._volume*o.volume(),_.playbackRate=s._rate;try{var r=_.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,p(),r.then(function(){n._playLock=!1,_._unlocked=!0,e||(n._emit("play",s._id),n._loadQueue())}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):e||(n._playLock=!1,p(),n._emit("play",s._id),n._loadQueue()),_.playbackRate=s._rate,_.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),h):(n._endTimers[s._id]=function(){n._ended(s),_.removeEventListener("ended",n._endTimers[s._id],!1)},_.addEventListener("ended",n._endTimers[s._id],!1))}catch(t){n._emit("playerror",s._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===_.src&&(_.src=n._src,_.load());var v=window&&window.ejecta||!_.readyState&&o._navigator.isCocoonJS;if(_.readyState>=3||v)y();else{n._playLock=!0;var g=function(){y(),_.removeEventListener(o._canPlayEvent,g,!1)};_.addEventListener(o._canPlayEvent,g,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),r=0;r<n.length;r++){e._clearTimer(n[r]);var i=e._soundById(n[r]);if(i&&!i._paused&&(i._seek=e.seek(n[r]),i._rateSeek=0,i._paused=!0,e._stopFade(n[r]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),e||n._emit("stop",o._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=t,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||t),n._emit("mute",a._id))}return n},volume:function(){var t,e,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]?r._getSoundIds().indexOf(i[0])>=0?e=parseInt(i[0],10):t=parseFloat(i[0]):i.length>=2&&(t=parseFloat(i[0]),e=parseInt(i[1],10)),!(void 0!==t&&t>=0&&t<=1))return(n=e?r._soundById(e):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)(n=r._soundById(e[a]))&&(n._volume=t,i[2]||r._stopFade(e[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*o.volume()),r._emit("volume",n._id));return r},fade:function(t,e,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(t,e,n,r)}}),i;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),n=parseFloat(n),i.volume(t,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(r||i._stopFade(a[s]),i._webAudio&&!u._muted){var l=o.ctx.currentTime,c=l+n/1e3;u._volume=t,u._node.gain.setValueAtTime(t,l),u._node.gain.linearRampToValueAtTime(e,c)}i._startFadeInterval(u,t,e,n,a[s],void 0===r)}}return i},_startFadeInterval:function(t,e,n,r,i,o){var a=this,s=e,u=n-e,l=Math.abs(u/.01),c=Math.max(4,l>0?r/l:r),h=Date.now();t._fadeTo=n,t._interval=setInterval(function(){var i=(Date.now()-h)/r;h=Date.now(),s+=u*i,s=u<0?Math.max(n,s):Math.min(n,s),s=Math.round(100*s)/100,a._webAudio?t._volume=s:a.volume(s,t._id,!0),o&&(a._volume=s),(n<e&&s<=n||n>e&&s>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(n,t._id),a._emit("fade",t._id))},c)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,n,r=arguments;if(0===r.length)return this._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=this._soundById(parseInt(r[0],10)))&&n._loop;t=r[0],this._loop=t}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var i=this._getSoundIds(e),o=0;o<i.length;o++)(n=this._soundById(i[o]))&&(n._loop=t,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return this},rate:function(){var t,e,n,r=this,i=arguments;if(0===i.length?e=r._sounds[0]._id:1===i.length?r._getSoundIds().indexOf(i[0])>=0?e=parseInt(i[0],10):t=parseFloat(i[0]):2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10)),"number"!=typeof t)return(n=r._soundById(e))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)if(n=r._soundById(e[a])){r.playing(e[a])&&(n._rateSeek=r.seek(e[a]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=t,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,o.ctx.currentTime):n._node&&(n._node.playbackRate=t);var s=r.seek(e[a]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[e[a]]&&n._paused||(r._clearTimer(e[a]),r._endTimers[e[a]]=setTimeout(r._ended.bind(r,n),u)),r._emit("rate",n._id)}return r},seek:function(){var t,e,n=this,r=arguments;if(0===r.length?e=n._sounds[0]._id:1===r.length?n._getSoundIds().indexOf(r[0])>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0])):2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10)),void 0===e)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(e);if(i){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var a=n.playing(e)?o.ctx.currentTime-i._playStart:0,s=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(s+a*Math.abs(i._rate))}return i._node.currentTime}var u=n.playing(e);u&&n.pause(e,!0),i._seek=t,i._ended=!1,n._clearTimer(e),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=t);var l=function(){n._emit("seek",e),u&&n.play(e,!0)};if(u&&!n._webAudio){var c=function(){n._playLock?setTimeout(c,0):l()};setTimeout(c,0)}else l()}return n},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this._duration,n=this._soundById(t);return n&&(e=this._sprite[n._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(o._canPlayEvent,e[n]._loadFn,!1),o._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var r=o._howls.indexOf(t);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===t._src||t._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[t._src],o.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,r){var i=this["_on"+t];return"function"==typeof e&&i.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),this},off:function(t,e,n){var r=this["_on"+t],i=0;if("number"==typeof e&&(n=e,e=null),e||n)for(i=0;i<r.length;i++){var o=n===r[i].id;if(e===r[i].fn&&o||!e&&o){r.splice(i,1);break}}else if(t)this["_on"+t]=[];else{var a=Object.keys(this);for(i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(this[a[i]])&&(this[a[i]]=[])}return this},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var r=this["_on"+t],i=r.length-1;i>=0;i--)r[i].id&&r[i].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(this,r[i].fn),0),r[i].once&&this.off(t,r[i].fn,r[i].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var n=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&n&&this.stop(t._id,!0).play(t._id),this._webAudio&&n){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=o.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),r)}return this._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),o._autoSuspend()),this._webAudio||n||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new s(this)},_drain:function(){var t=this._pool,e=0,n=0;if(!(this._sounds.length<t)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&e++;for(n=this._sounds.length-1;n>=0;n--){if(e<=t)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=o.ctx.createBufferSource(),t._node.bufferSource.buffer=u[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,o.ctx.currentTime),this},_cleanBuffer:function(t){var e=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=o._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=o._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(e,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload=!0===t._preload?"auto":t._preload,this._node.volume=e*o.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)}};var u={},l=function(t){var e=t._src;if(u[e])return t._duration=u[e].duration,void f(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);h(r.buffer,t)}else{var o=new XMLHttpRequest;o.open(t._xhr.method,e,!0),o.withCredentials=t._xhr.withCredentials,o.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach(function(e){o.setRequestHeader(e,t._xhr.headers[e])}),o.onload=function(){var e=(o.status+"")[0];"0"===e||"2"===e||"3"===e?h(o.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete u[e],t.load())},c(o)}},c=function(t){try{t.send()}catch(e){t.onerror()}},h=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&e._sounds.length>0?(u[e._src]=t,f(e,t)):n()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(t).then(r).catch(n):o.ctx.decodeAudioData(t,r,n)},f=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},d=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(t){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),e=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(r=function(){return{Howler:o,Howl:a}}.apply(e,[]))||(t.exports=r),e.Howler=o,e.Howl=a,void 0!==n?(n.HowlerGlobal=i,n.Howler=o,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=o,window.Howl=a,window.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.0
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,n){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof t?this._pos:(this._pos=[t,e,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,n,r,i,o){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return e="number"!=typeof e?a[1]:e,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,i="number"!=typeof i?a[4]:i,o="number"!=typeof o?a[5]:o,"number"!=typeof t?a:(this._orientation=[t,e,n,r,i,o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,n,r,i,o),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var s=r._soundById(o[a]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(t,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,n,r,i)}}),o;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof t)return o._pos;o._pos=[t,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,n,r],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(t,n,r)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(t,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,n,r,i)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,r="number"!=typeof r?o._orientation[2]:r,void 0===i){if("number"!=typeof t)return o._orientation;o._orientation=[t,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,n,r],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),e(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(t,n,r)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var t,n,r,i=arguments;if(!this._webAudio)return this;if(0===i.length)return this._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=this._soundById(parseInt(i[0],10)))?r._pannerAttr:this._pannerAttr;t=i[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:this._panningModel})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var o=this._getSoundIds(n),a=0;a<o.length;a++)if(r=this._soundById(o[a])){var s=r._pannerAttr;s={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:s.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:s.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:s.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:s.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:s.panningModel};var u=r._panner;u?(u.coneInnerAngle=s.coneInnerAngle,u.coneOuterAngle=s.coneOuterAngle,u.coneOuterGain=s.coneOuterGain,u.distanceModel=s.distanceModel,u.maxDistance=s.maxDistance,u.refDistance=s.refDistance,u.rolloffFactor=s.rolloffFactor,u.panningModel=s.panningModel):(r._pos||(r._pos=this._pos||[0,0,-.5]),e(r,"spatial"))}return this},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,n(95))},function(t,e,n){var r={"./af":338,"./af.js":338,"./ar":339,"./ar-dz":340,"./ar-dz.js":340,"./ar-kw":341,"./ar-kw.js":341,"./ar-ly":342,"./ar-ly.js":342,"./ar-ma":343,"./ar-ma.js":343,"./ar-sa":344,"./ar-sa.js":344,"./ar-tn":345,"./ar-tn.js":345,"./ar.js":339,"./az":346,"./az.js":346,"./be":347,"./be.js":347,"./bg":348,"./bg.js":348,"./bm":349,"./bm.js":349,"./bn":350,"./bn.js":350,"./bo":351,"./bo.js":351,"./br":352,"./br.js":352,"./bs":353,"./bs.js":353,"./ca":354,"./ca.js":354,"./cs":355,"./cs.js":355,"./cv":356,"./cv.js":356,"./cy":357,"./cy.js":357,"./da":358,"./da.js":358,"./de":359,"./de-at":360,"./de-at.js":360,"./de-ch":361,"./de-ch.js":361,"./de.js":359,"./dv":362,"./dv.js":362,"./el":363,"./el.js":363,"./en-SG":364,"./en-SG.js":364,"./en-au":365,"./en-au.js":365,"./en-ca":366,"./en-ca.js":366,"./en-gb":367,"./en-gb.js":367,"./en-ie":368,"./en-ie.js":368,"./en-il":369,"./en-il.js":369,"./en-nz":370,"./en-nz.js":370,"./eo":371,"./eo.js":371,"./es":372,"./es-do":373,"./es-do.js":373,"./es-us":374,"./es-us.js":374,"./es.js":372,"./et":375,"./et.js":375,"./eu":376,"./eu.js":376,"./fa":377,"./fa.js":377,"./fi":378,"./fi.js":378,"./fo":379,"./fo.js":379,"./fr":380,"./fr-ca":381,"./fr-ca.js":381,"./fr-ch":382,"./fr-ch.js":382,"./fr.js":380,"./fy":383,"./fy.js":383,"./ga":384,"./ga.js":384,"./gd":385,"./gd.js":385,"./gl":386,"./gl.js":386,"./gom-latn":387,"./gom-latn.js":387,"./gu":388,"./gu.js":388,"./he":389,"./he.js":389,"./hi":390,"./hi.js":390,"./hr":391,"./hr.js":391,"./hu":392,"./hu.js":392,"./hy-am":393,"./hy-am.js":393,"./id":394,"./id.js":394,"./is":395,"./is.js":395,"./it":396,"./it-ch":397,"./it-ch.js":397,"./it.js":396,"./ja":398,"./ja.js":398,"./jv":399,"./jv.js":399,"./ka":400,"./ka.js":400,"./kk":401,"./kk.js":401,"./km":402,"./km.js":402,"./kn":403,"./kn.js":403,"./ko":404,"./ko.js":404,"./ku":405,"./ku.js":405,"./ky":406,"./ky.js":406,"./lb":407,"./lb.js":407,"./lo":408,"./lo.js":408,"./lt":409,"./lt.js":409,"./lv":410,"./lv.js":410,"./me":411,"./me.js":411,"./mi":412,"./mi.js":412,"./mk":413,"./mk.js":413,"./ml":414,"./ml.js":414,"./mn":415,"./mn.js":415,"./mr":416,"./mr.js":416,"./ms":417,"./ms-my":418,"./ms-my.js":418,"./ms.js":417,"./mt":419,"./mt.js":419,"./my":420,"./my.js":420,"./nb":421,"./nb.js":421,"./ne":422,"./ne.js":422,"./nl":423,"./nl-be":424,"./nl-be.js":424,"./nl.js":423,"./nn":425,"./nn.js":425,"./pa-in":426,"./pa-in.js":426,"./pl":427,"./pl.js":427,"./pt":428,"./pt-br":429,"./pt-br.js":429,"./pt.js":428,"./ro":430,"./ro.js":430,"./ru":431,"./ru.js":431,"./sd":432,"./sd.js":432,"./se":433,"./se.js":433,"./si":434,"./si.js":434,"./sk":435,"./sk.js":435,"./sl":436,"./sl.js":436,"./sq":437,"./sq.js":437,"./sr":438,"./sr-cyrl":439,"./sr-cyrl.js":439,"./sr.js":438,"./ss":440,"./ss.js":440,"./sv":441,"./sv.js":441,"./sw":442,"./sw.js":442,"./ta":443,"./ta.js":443,"./te":444,"./te.js":444,"./tet":445,"./tet.js":445,"./tg":446,"./tg.js":446,"./th":447,"./th.js":447,"./tl-ph":448,"./tl-ph.js":448,"./tlh":449,"./tlh.js":449,"./tr":450,"./tr.js":450,"./tzl":451,"./tzl.js":451,"./tzm":452,"./tzm-latn":453,"./tzm-latn.js":453,"./tzm.js":452,"./ug-cn":454,"./ug-cn.js":454,"./uk":455,"./uk.js":455,"./ur":456,"./ur.js":456,"./uz":457,"./uz-latn":458,"./uz-latn.js":458,"./uz.js":457,"./vi":459,"./vi.js":459,"./x-pseudo":460,"./x-pseudo.js":460,"./yo":461,"./yo.js":461,"./zh-cn":462,"./zh-cn.js":462,"./zh-hk":463,"./zh-hk.js":463,"./zh-tw":464,"./zh-tw.js":464};function i(t){var e=o(t);return n(e)}function o(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=787},function(t,e){Array.prototype.forEach,t.exports=function(t){if("string"!=typeof t&&!(t instanceof String))throw new TypeError("toArabic expects a string");if(/^nulla$/i.test(t)||!t.length)return 0;if(!(t=t.toUpperCase().match(/^(M{0,3})(CM|DC{0,3}|CD|C{0,3})(XC|LX{0,3}|XL|X{0,3})(IX|VI{0,3}|IV|I{0,3})$/)))throw new Error("toArabic expects a valid roman number");var e=0;return e+=1e3*t[1].length,"CM"===t[2]?e+=900:"CD"===t[2]?e+=400:e+=100*t[2].length+("D"===t[2][0]?400:0),"XC"===t[3]?e+=90:"XL"===t[3]?e+=40:e+=10*t[3].length+("L"===t[3][0]?40:0),"IX"===t[4]?e+=9:"IV"===t[4]?e+=4:e+=1*t[4].length+("V"===t[4][0]?4:0),e}},function(t,e){!function(){function e(t,e,n,r){var i="";switch(t){case 0:return i;case 9:return e+r;case 4:return e+n}for(t>=5&&(i=n,t-=5);t-- >0;)i+=e;return i}t.exports=function(t){if(t instanceof Number&&(t=parseInt(t,10)),("string"==typeof t||t instanceof String)&&(t=parseInt(t,10),isNaN(t)))throw new TypeError("toArabic expects a number");if("number"!=typeof t)throw new TypeError("toArabic expects a number");if(isNaN(t))throw new TypeError("toArabic expects a real number");if(t<0)throw new Error("toArabic cannot express negative numbers");if(t>3999)throw new Error("toArabic cannot express numbers over 3999");if(0===t)return"nulla";var n="";return n+=e(Math.floor(t/1e3),"M","",""),t%=1e3,n+=e(Math.floor(t/100),"C","D","M"),t%=100,(n+=e(Math.floor(t/10),"X","L","C"))+e(t%=10,"I","V","X")}}()},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t){var e,n=this,r=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function u(t,e){var n=new a(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(48)&&n(108)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.alea=u}(0,t,n(48))}).call(this,n(76)(t))},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function s(t,e){var n=new function(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=s:n(48)&&n(108)?void 0===(r=function(){return s}.call(e,n,e,i))||(i.exports=r):this.xor128=s}(0,t,n(48))}).call(this,n(76)(t))},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function s(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=s:n(48)&&n(108)?void 0===(r=function(){return s}.call(e,n,e,i))||(i.exports=r):this.xorwow=s}(0,t,n(48))}).call(this,n(76)(t))},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t,e){return e.x=t.x.slice(),e.i=t.i,e}function s(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.x&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=s:n(48)&&n(108)?void 0===(r=function(){return s}.call(e,n,e,i))||(i.exports=r):this.xorshift7=s}(0,t,n(48))}).call(this,n(76)(t))},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function s(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[o]=n^t,e.i=o,n+(r^r>>>16)|0},function(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=a,t.X=s,t.i=i}(e,t)}(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.X&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=s:n(48)&&n(108)?void 0===(r=function(){return s}.call(e,n,e,i))||(i.exports=r):this.xor4096=s}(0,t,n(48))}).call(this,n(76)(t))},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function s(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=s:n(48)&&n(108)?void 0===(r=function(){return s}.call(e,n,e,i))||(i.exports=r):this.tychei=s}(0,t,n(48))}).call(this,n(76)(t))},function(t,e,n){var r;!function(i,o,a){var s,u=256,l=6,c="random",h=a.pow(u,l),f=a.pow(2,52),d=2*f,p=u-1;function _(t,e,n){var r=[],_=y(function t(e,n){var r,i=[],o=typeof e;if(n&&"object"==o)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,v(o)]:null==t?function(){try{var t;return s&&(t=s.randomBytes)?t=t(u):(t=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(t)),v(t)}catch(t){var e=i.navigator,n=e&&e.plugins;return[+new Date,i,n,i.screen,v(o)]}}():t,3),r),g=new function(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);i<u;)a[i]=i++;for(i=0;i<u;i++)a[i]=a[o=p&o+t[i%n]+(e=a[i])],a[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,a=r.S;t--;)e=a[i=p&i+1],n=n*u+a[p&(a[i]=a[o=p&o+e])+(a[o]=e)];return r.i=i,r.j=o,n})(u)}(r),b=function(){for(var t=g.g(l),e=h,n=0;t<f;)t=(t+n)*u,e*=u,n=g.g(1);for(;t>=d;)t/=2,e/=2,n>>>=1;return(t+n)/e};return b.int32=function(){return 0|g.g(4)},b.quick=function(){return g.g(4)/4294967296},b.double=b,y(v(g.S),o),(e.pass||n||function(t,e,n,r){return r&&(r.S&&m(r,g),t.state=function(){return m(g,{})}),n?(a[c]=t,e):t})(b,_,"global"in e?e.global:this==a,e.state)}function m(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function y(t,e){for(var n,r=t+"",i=0;i<r.length;)e[p&i]=p&(n^=19*e[p&i])+r.charCodeAt(i++);return v(e)}function v(t){return String.fromCharCode.apply(0,t)}if(y(a.random(),o),t.exports){t.exports=_;try{s=n(797)}catch(t){}}else void 0===(r=function(){return _}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof self?self:this,[],Math)},function(t,e){}]);
//# sourceMappingURL=bundle.js.map