function RenderSystems(engine){this.engine=engine;this.dtVec2=WONBATS.Vec2.create(0,0);}
RenderSystems.prototype.updateInmunityBlink=function(dt,render,life){if(life.points===0){render.asset.children[0].tint=0xffffff;}else{if(life.time<0){render.asset.children[0].tint=0xffffff;}else{if(Math.floor(life.time*15)%2===0){render.asset.children[0].tint=0xff0000}else{render.asset.children[0].tint=0xffffff;}}}};RenderSystems.prototype.updateSword=function(dt,sword,render){if(render.newAnimation){render.newAnimation=false;var container=render.asset.children[0].children[0].getChildByName("sword");if(container){if(container.children[0]){container.removeChildAt(0);}
container.addChild(sword.asset);}}
sword.asset.update(dt);};RenderSystems.prototype.updateItem=function(dt,item,render){var container=render.asset.children[0].getChildByName("container");if(container&&!item.added){if(container.children[0]){container.removeChildAt(0);}
container.addChild(item.asset);item.added=true;}
item.asset.update(dt);};RenderSystems.prototype.rotateProjectile=function(dt,projectile,rigidbody,render){if(projectile.rotate){var angle=WONBATS.Vec2.getAngle(rigidbody.velocity);if(angle>Math.PI/2||angle<-Math.PI/2){angle+=Math.PI;render.asset.scale.x=-1;}else{render.asset.scale.x=1;}
render.asset.rotation=angle;}};RenderSystems.prototype.updateRenderTransform=function(dt,render,transform){render.asset.x=transform.position[0];render.asset.y=transform.position[1];if(render.asset.children[0]&&render.asset.children[0].update){render.asset.children[0].update(dt);}};RenderSystems.prototype.updateRenderFlip=function(dt,render,noflip){render.asset.scale.x=Math.abs(render.asset.scale.x);};RenderSystems.prototype.updateShadowTransform=function(dt,render,shadow,transform){shadow.asset.x=transform.position[0];shadow.asset.y=508;shadow.asset.scale.x=shadow.asset.scale.y=shadow.scale*Math.min(Math.max(0.1,transform.position[1]/508),1);if(transform.position[1]>508){shadow.asset.alpha=Math.max(1-(transform.position[1]-508)/100,0);}
shadow.asset.update(dt);};