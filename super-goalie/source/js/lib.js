(function(){var t,e;t=this,e=function(){var r,n,i,e,o,a,s,u,l,h,c,f,d,p,_,v;return u={},i=document,h=!1,c="active",o=!(a=6e4),_={},p="__ceGUID",v=!(n={add:function(t,e,r){return t[p]=void 0,t[p]||(t[p]="ifvisible.object.event.identifier"),_[t[p]]||(_[t[p]]={}),_[t[p]][e]||(_[t[p]][e]=[]),_[t[p]][e].push(r)},remove:function(t,e,r){var n,i,o,a,s;if(r){if(t[p]&&_[t[p]]&&_[t[p]][e])for(i=o=0,a=(s=_[t[p]][e]).length;o<a;i=++o)if((n=s[i])===r)return _[t[p]][e].splice(i,1),n}else if(t[p]&&_[t[p]]&&_[t[p]][e])return delete _[t[p]][e]},fire:function(t,e,r){var n,i,o,a,s;if(t[p]&&_[t[p]]&&_[t[p]][e]){for(s=[],i=0,o=(a=_[t[p]][e]).length;i<o;i++)n=a[i],s.push(n(r||{}));return s}}}),r=function(t,e,r){return(v=v||(t.addEventListener?function(t,e,r){return t.addEventListener(e,r,!1)}:t.attachEvent?function(t,e,r){return t.attachEvent("on"+e,r,!1)}:function(t,e,r){return t["on"+e]=r}))(t,e,r)},s=function(){var t,e,r,n;for(n=3,r=i.createElement("div"),t=r.getElementsByTagName("i"),e=function(){return r.innerHTML="\x3c!--[if gt IE "+ ++n+"]><i></i><![endif]--\x3e",t[0]};e(););return 4<n?n:void 0}(),e=!1,(d=void 0)!==i.hidden?(e="hidden",d="visibilitychange"):void 0!==i.mozHidden?(e="mozHidden",d="mozvisibilitychange"):void 0!==i.msHidden?(e="msHidden",d="msvisibilitychange"):void 0!==i.webkitHidden&&(e="webkitHidden",d="webkitvisibilitychange"),f=function(){var t,e;return t=[],(e=function(){return t.map(clearTimeout),"active"!==c&&u.wakeup(),o=+new Date,t.push(setTimeout(function(){if("active"===c)return u.idle()},a))})(),r(i,"mousemove",e),r(i,"keyup",e),r(i,"touchstart",e),r(window,"scroll",e),u.focus(e),u.wakeup(e)},l=function(){var t;return!!h||(!1===e?(t="blur",s<9&&(t="focusout"),r(window,t,function(){return u.blur()}),r(window,"focus",function(){return u.focus()})):r(i,d,function(){return i[e]?u.blur():u.focus()},!1),h=!0,f())},u={setIdleDuration:function(t){return a=1e3*t},getIdleDuration:function(){return a},getIdleInfo:function(){var t,e;return t=+new Date,e={},"idle"===c?(e.isIdle=!0,e.idleFor=t-o,e.timeLeft=0,e.timeLeftPer=100):(e.isIdle=!1,e.idleFor=t-o,e.timeLeft=o+a-t,e.timeLeftPer=(100-100*e.timeLeft/a).toFixed(2)),e},focus:function(t){return"function"==typeof t?this.on("focus",t):(c="active",n.fire(this,"focus"),n.fire(this,"wakeup"),n.fire(this,"statusChanged",{status:c})),this},blur:function(t){return"function"==typeof t?this.on("blur",t):(c="hidden",n.fire(this,"blur"),n.fire(this,"idle"),n.fire(this,"statusChanged",{status:c})),this},idle:function(t){return"function"==typeof t?this.on("idle",t):(c="idle",n.fire(this,"idle"),n.fire(this,"statusChanged",{status:c})),this},wakeup:function(t){return"function"==typeof t?this.on("wakeup",t):(c="active",n.fire(this,"wakeup"),n.fire(this,"statusChanged",{status:c})),this},on:function(t,e){return l(),n.add(this,t,e),this},off:function(t,e){return l(),n.remove(this,t,e),this},onEvery:function(t,e){var r,n;return l(),r=!1,e&&(n=setInterval(function(){if("active"===c&&!1===r)return e()},1e3*t)),{stop:function(){return clearInterval(n)},pause:function(){return r=!0},resume:function(){return r=!1},code:n,callback:e}},now:function(t){return l(),c===(t||"active")}}},"function"==typeof define&&define.amd?define(function(){return e()}):"object"==typeof exports?module.exports=e():t.ifvisible=e()}).call(this),function(){function n(t,e,r){return t.call.apply(t.bind,arguments)}function i(e,r,t){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,n),e.apply(r,t)}}return function(){return e.apply(r,arguments)}}function d(t,e,r){return(d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:i).apply(null,arguments)}var s=Date.now||function(){return+new Date};function e(t,e){this.a=t,this.m=e||t,this.c=this.m.document}var u=!!window.FontFace;function l(t,e,r,n){if(e=t.c.createElement(e),r)for(var i in r)r.hasOwnProperty(i)&&("style"==i?e.style.cssText=r[i]:e.setAttribute(i,r[i]));return n&&e.appendChild(t.c.createTextNode(n)),e}function h(t,e,r){(t=(t=t.c.getElementsByTagName(e)[0])||document.documentElement).insertBefore(r,t.lastChild)}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e,r){e=e||[],r=r||[];for(var n=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var o=!1,a=0;a<n.length;a+=1)if(e[i]===n[a]){o=!0;break}o||n.push(e[i])}for(e=[],i=0;i<n.length;i+=1){for(o=!1,a=0;a<r.length;a+=1)if(n[i]===r[a]){o=!0;break}o||e.push(n[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function o(t,e){for(var r=t.className.split(/\s+/),n=0,i=r.length;n<i;n++)if(r[n]==e)return!0;return!1}function c(t){if("string"==typeof t.f)return t.f;var e=t.m.location.protocol;return"about:"==e&&(e=t.a.location.protocol),"https:"==e?"https:":"http:"}function f(t,e,r){function n(){a&&i&&(a(o),a=null)}e=l(t,"link",{rel:"stylesheet",href:e,media:"all"});var i=!1,o=null,a=r||null;u?(e.onload=function(){i=!0,n()},e.onerror=function(){i=!0,o=Error("Stylesheet failed to load"),n()}):setTimeout(function(){i=!0,n()},0),h(t,"head",e)}function _(t,e,r,n){var i=t.c.getElementsByTagName("head")[0];if(i){var o=l(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,r&&r(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout(function(){a||(a=!0,r&&r(Error("Script load timeout")))},n||5e3),o}return null}function v(){this.a=0,this.c=null}function g(t){return t.a++,function(){t.a--,a(t)}}function m(t,e){t.c=e,a(t)}function a(t){0==t.a&&t.c&&(t.c(),t.c=null)}function y(t){this.a=t||"-"}function b(t,e){this.c=t,this.f=4,this.a="n";var r=(e||"n4").match(/^([nio])([1-9])$/i);r&&(this.a=r[1],this.f=parseInt(r[2],10))}function x(t){var e=[];t=t.split(/,\s*/);for(var r=0;r<t.length;r++){var n=t[r].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function T(t){return t.a+t.f}function w(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function E(t,e){this.c=t,this.f=t.m.document.documentElement,this.h=e,this.a=new y("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function S(t){if(t.g){var e=o(t.f,t.a.c("wf","active")),r=[],n=[t.a.c("wf","loading")];e||r.push(t.a.c("wf","inactive")),p(t.f,r,n)}P(t,"inactive")}function P(t,e,r){t.j&&t.h[e]&&(r?t.h[e](r.c,T(r)):t.h[e]())}function M(){this.c={}}function A(t,e){this.c=t,this.f=e,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function C(t){h(t.c,"body",t.a)}function R(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(t.c)+";font-style:"+w(t)+";font-weight:"+t.f+"00;"}function O(t,e,r,n,i,o){this.g=t,this.j=e,this.a=n,this.c=r,this.f=i||3e3,this.h=o||void 0}function I(t,e,r,n,i,o,a){this.v=t,this.B=e,this.c=r,this.a=n,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.o=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.o=new A(this.c,this.s),t=R(t=new b(this.a.c+",serif",T(this.a))),this.g.a.style.cssText=t,t=R(t=new b(this.a.c+",sans-serif",T(this.a))),this.h.a.style.cssText=t,t=R(t=new b("serif",T(this.a))),this.j.a.style.cssText=t,t=R(t=new b("sans-serif",T(this.a))),this.o.a.style.cssText=t,C(this.g),C(this.h),C(this.j),C(this.o)}y.prototype.c=function(t){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},O.prototype.start=function(){var i=this.c.m.document,o=this,a=s(),t=new Promise(function(r,n){!function e(){var t;s()-a>=o.f?n():i.fonts.load(w(t=o.a)+" "+t.f+"00 300px "+x(t.c),o.h).then(function(t){1<=t.length?r():setTimeout(e,25)},function(){n()})}()}),e=new Promise(function(t,e){setTimeout(e,o.f)});Promise.race([e,t]).then(function(){o.g(o.a)},function(){o.j(o.a)})};var D={D:"serif",C:"sans-serif"},j=null;function k(){if(null===j){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);j=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)}return j}function L(t,e,r){for(var n in D)if(D.hasOwnProperty(n)&&e===t.f[D[n]]&&r===t.f[D[n]])return!0;return!1}function N(t){var e,r=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=r===t.f.serif&&n===t.f["sans-serif"])||(e=k()&&L(t,r,n)),e?s()-t.A>=t.w?k()&&L(t,r,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?F(t,t.v):F(t,t.B):setTimeout(d(function(){N(this)},t),50):F(t,t.v)}function F(t,e){setTimeout(d(function(){r(this.g.a),r(this.h.a),r(this.j.a),r(this.o.a),e(this.a)},t),0)}function U(t,e,r){this.c=t,this.a=e,this.f=0,this.o=this.j=!1,this.s=r}I.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=s(),N(this)};var B=null;function V(t){0==--t.f&&t.j&&(t.o?((t=t.a).g&&p(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),P(t,"active")):S(t.a))}function t(t){this.j=t,this.a=new M,this.h=0,this.f=this.g=!0}function X(t,e){this.c=t,this.a=e}function W(t,e){this.c=t,this.a=e}function H(t,e,r){this.c=t||e+"//fonts.googleapis.com/css",this.a=[],this.f=[],this.g=r||""}U.prototype.g=function(t){var e=this.a;e.g&&p(e.f,[e.a.c("wf",t.c,T(t).toString(),"active")],[e.a.c("wf",t.c,T(t).toString(),"loading"),e.a.c("wf",t.c,T(t).toString(),"inactive")]),P(e,"fontactive",t),this.o=!0,V(this)},U.prototype.h=function(t){var e=this.a;if(e.g){var r=o(e.f,e.a.c("wf",t.c,T(t).toString(),"active")),n=[],i=[e.a.c("wf",t.c,T(t).toString(),"loading")];r||n.push(e.a.c("wf",t.c,T(t).toString(),"inactive")),p(e.f,n,i)}P(e,"fontinactive",t),V(this)},t.prototype.load=function(t){this.c=new e(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(i,t,e){var r=[],n=e.timeout;!function(t){t.g&&p(t.f,[t.a.c("wf","loading")]),P(t,"loading")}(t);r=function(t,e,r){var n,i=[];for(n in e)if(e.hasOwnProperty(n)){var o=t.c[n];o&&i.push(o(e[n],r))}return i}(i.a,e,i.c);var o=new U(i.c,t,n);for(i.h=r.length,t=0,e=r.length;t<e;t++)r[t].load(function(t,e,r){var n,u,l,h,c,f;u=o,l=t,h=e,c=r,f=0==--(n=i).h,(n.f||n.g)&&setTimeout(function(){var t=c||null,e=h||{};if(0===l.length&&f)S(u.a);else{u.f+=l.length,f&&(u.j=f);var r,n=[];for(r=0;r<l.length;r++){var i=l[r],o=e[i.c],a=u.a,s=i;a.g&&p(a.f,[a.a.c("wf",s.c,T(s).toString(),"loading")]),P(a,"fontloading",s),(a=null)===B&&(B=!!window.FontFace&&(!(s=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))||42<parseInt(s[1],10))),a=B?new O(d(u.g,u),d(u.h,u),u.c,i,u.s,o):new I(d(u.g,u),d(u.h,u),u.c,i,u.s,t,o),n.push(a)}for(r=0;r<n.length;r++)n[r].start()}},0)})}(this,new E(this.c,t),t)},X.prototype.load=function(a){var t,e,r,s=this.a.projectId,n=this.a.version;if(s){var u=this.c.m;_(this.c,(e=s,r=n,c((t=this).c)+"//"+(t=(t.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""))+"/"+e+".js"+(r?"?v="+r:"")),function(t){t?a([]):function t(){if(u["__mti_fntLst"+s]){var e,r=u["__mti_fntLst"+s](),n=[];if(r)for(var i=0;i<r.length;i++){var o=r[i].fontfamily;null!=r[i].fontStyle&&null!=r[i].fontWeight?(e=r[i].fontStyle+r[i].fontWeight,n.push(new b(o,e))):n.push(new b(o))}a(n)}else setTimeout(function(){t()},50)}()}).id="__MonotypeAPIScript__"+s}else a([])},W.prototype.load=function(t){var e,r,n=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new v;for(e=0,r=n.length;e<r;e++)f(this.c,n[e],g(a));var s=[];for(e=0,r=i.length;e<r;e++)if((n=i[e].split(":"))[1])for(var u=n[1].split(","),l=0;l<u.length;l+=1)s.push(new b(n[0],u[l]));else s.push(new b(n[0]));m(a,function(){t(s,o)})};function Y(t){this.f=t,this.a=[],this.c={}}var G={latin:"BESbswy",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},z={i:"i",italic:"i",n:"n",normal:"n"},K=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Z(t,e){this.c=t,this.a=e}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function $(t,e){this.c=t,this.a=e}function J(t,e){this.c=t,this.f=e,this.a=[]}Z.prototype.load=function(t){var e=new v,r=this.c,n=new H(this.a.api,c(r),this.a.text),i=this.a.families;!function(t,e){for(var r=e.length,n=0;n<r;n++){var i=e[n].split(":");3==i.length&&t.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),t.a.push(i.join(o))}}(n,i);var o=new Y(i);!function(t){for(var e=t.f.length,r=0;r<e;r++){var n=t.f[r].split(":"),i=n[0].replace(/\+/g," "),o=["n4"];if(2<=n.length){var a;if(a=[],s=n[1])for(var s,u=(s=s.split(",")).length,l=0;l<u;l++){var h;if((h=s[l]).match(/^[\w-]+$/))if(null==(f=K.exec(h.toLowerCase())))h="";else{if(h=null==(h=f[2])||""==h?"n":z[h],null==(f=f[1])||""==f)f="4";else var c=q[f],f=c||(isNaN(f)?"4":f.substr(0,1));h=[h,f].join("")}else h="";h&&a.push(h)}0<a.length&&(o=a),3==n.length&&(a=[],0<(n=(n=n[2])?n.split(","):a).length&&(n=G[n[0]])&&(t.c[i]=n))}for(t.c[i]||(n=G[i])&&(t.c[i]=n),n=0;n<o.length;n+=1)t.a.push(new b(i,o[n]))}}(o),f(r,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,r=[],n=0;n<e;n++)r.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+r.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(n),g(e)),m(e,function(){t(o.a,o.c,Q)})},$.prototype.load=function(a){var t=this.a.id,s=this.c.m;t?_(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)a([]);else if(s.Typekit&&s.Typekit.config&&s.Typekit.config.fn){t=s.Typekit.config.fn;for(var e=[],r=0;r<t.length;r+=2)for(var n=t[r],i=t[r+1],o=0;o<i.length;o++)e.push(new b(n,i[o]));try{s.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}a(e)}},2e3):a([])},J.prototype.load=function(l){var t,e=this.f.id,r=this.c.m,h=this;e?(r.__webfontfontdeckmodule__||(r.__webfontfontdeckmodule__={}),r.__webfontfontdeckmodule__[e]=function(t,e){for(var r=0,n=e.fonts.length;r<n;++r){var i=e.fonts[r];h.a.push(new b(i.name,(o="font-weight:"+i.weight+";font-style:"+i.style,u=s=a=void 0,a=4,s="n",u=null,o&&((u=o.match(/(normal|oblique|italic)/i))&&u[1]&&(s=u[1].substr(0,1).toLowerCase()),(u=o.match(/([1-9]00|normal|bold)/i))&&u[1]&&(/bold/i.test(u[1])?a=7:/[1-9]00/.test(u[1])&&(a=parseInt(u[1].substr(0,1),10)))),s+a)))}var o,a,s,u;l(h.a)},_(this.c,c(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+((t=this.c).m.location.hostname||t.a.location.hostname)+"/"+e+".js",function(t){t&&l([])})):l([])};var tt=new t(window);tt.a.c.custom=function(t,e){return new W(e,t)},tt.a.c.fontdeck=function(t,e){return new J(e,t)},tt.a.c.monotype=function(t,e){return new X(e,t)},tt.a.c.typekit=function(t,e){return new $(e,t)},tt.a.c.google=function(t,e){return new Z(e,t)};var et={load:d(tt.load,tt)};"function"==typeof define&&define.amd?define(function(){return et}):"undefined"!=typeof module&&module.exports?module.exports=et:(window.WebFont=et,window.WebFontConfig&&tt.load(window.WebFontConfig))}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PIXI=t()}}(function(){return function o(a,s,u){function l(r,t){if(!s[r]){if(!a[r]){var e="function"==typeof require&&require;if(!t&&e)return e(r,!0);if(h)return h(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[r]={exports:{}};a[r][0].call(i.exports,function(t){var e=a[r][1][t];return l(e||t)},i,i.exports,o,a,s,u)}return s[r].exports}for(var h="function"==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,r){"use strict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(t){return(0<t)-(t<0)},r.abs=function(t){var e=t>>31;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(t<e)},r.max=function(t,e){return t^(t^e)&-(t<e)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(65535<t)<<4,e|=r=(255<(t>>>=e))<<3,e|=r=(15<(t>>>=r))<<2,(e|=r=(3<(t>>>=r))<<1)|(t>>>=r)>>1},r.log10=function(t){return 1e9<=t?9:1e8<=t?8:1e7<=t?7:1e6<=t?6:1e5<=t?5:1e4<=t?4:1e3<=t?3:100<=t?2:10<=t?1:0},r.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),r.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},r.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},r.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},r.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},r.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},r.nextCombination=function(t){var e=t|t-1;return 1+e|(~e&-~e)-1>>>n(t)+1}},{}],2:[function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,i,o,a,s,u,l,h=e&&e.length,c=h?e[0]*r:t.length,f=_(t,0,c,r,!0),d=[];if(!f)return d;if(h&&(f=function(t,e,r,n){var i,o,a,s,u,l=[];for(i=0,o=e.length;i<o;i++)a=e[i]*n,s=i<o-1?e[i+1]*n:t.length,(u=_(t,a,s,n,!1))===u.next&&(u.steiner=!0),l.push(b(u));for(l.sort(m),i=0;i<l.length;i++)y(l[i],r),r=v(r,r.next);return r}(t,e,f,r)),t.length>80*r){n=o=t[0],i=a=t[1];for(var p=r;p<c;p+=r)(s=t[p])<n&&(n=s),(u=t[p+1])<i&&(i=u),o<s&&(o=s),a<u&&(a=u);l=Math.max(o-n,a-i)}return g(f,d,r,n,i,l),d}function _(t,e,r,n,i){var o,a;if(i===0<M(t,e,r,n))for(o=e;o<r;o+=n)a=u(o,t[o],t[o+1],a);else for(o=r-n;e<=o;o-=n)a=u(o,t[o],t[o+1],a);return a&&s(a,a.next)&&(P(a),a=a.next),a}function v(t,e){if(!t)return t;e=e||t;var r,n=t;do{if(r=!1,n.steiner||!s(n,n.next)&&0!==T(n.prev,n,n.next))n=n.next;else{if(P(n),(n=e=n.prev)===n.next)return null;r=!0}}while(r||n!==e);return e}function g(t,e,r,n,i,o,a){if(t){!a&&o&&function(t,e,r,n){var i=t;for(;null===i.z&&(i.z=p(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next,i!==t;);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,a,s,u,l=1;do{for(r=t,o=t=null,a=0;r;){for(a++,n=r,e=s=0;e<l&&(s++,n=n.nextZ);e++);for(u=l;0<s||0<u&&n;)0===s?(n=(i=n).nextZ,u--):0!==u&&n?r.z<=n.z?(r=(i=r).nextZ,s--):(n=(i=n).nextZ,u--):(r=(i=r).nextZ,s--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(1<a)}(i)}(t,n,i,o);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?c(t,n,i,o):h(t))e.push(s.i/r),e.push(t.i/r),e.push(u.i/r),P(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?g(t=f(t,e,r),e,r,n,i,o,2):2===a&&d(t,e,r,n,i,o):g(v(t),e,r,n,i,o,1);break}}}function h(t){var e=t.prev,r=t,n=t.next;if(0<=T(e,r,n))return!1;for(var i=t.next.next;i!==t.prev;){if(x(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&0<=T(i.prev,i,i.next))return!1;i=i.next}return!0}function c(t,e,r,n){var i=t.prev,o=t,a=t.next;if(0<=T(i,o,a))return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,h=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=p(s,u,e,r,n),f=p(l,h,e,r,n),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&x(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&0<=T(d.prev,d,d.next))return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&x(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&0<=T(d.prev,d,d.next))return!1;d=d.prevZ}return!0}function f(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!s(i,o)&&w(i,n,n.next,o)&&E(i,o)&&E(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),P(n),P(n.next),n=t=o),n=n.next}while(n!==t);return n}function d(t,e,r,n,i,o){var a,s,u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&(s=l,(a=u).next.i!==s.i&&a.prev.i!==s.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&w(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(a,s)&&E(a,s)&&E(s,a)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;for(;r.y>o!=r.next.y>o&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next,r!==t;);return n}(a,s))){var h=S(u,l);return u=v(u,u.next),h=v(h,h.next),g(u,e,r,n,i,o),void g(h,e,r,n,i,o)}l=l.next}u=u.next}while(u!==t)}function m(t,e){return t.x-e.x}function y(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&a<s){if((a=s)===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r.prev;var u,l=r,h=r.x,c=r.y,f=1/0;n=r.next;for(;n!==l;)i>=n.x&&n.x>=h&&x(o<c?i:a,o,h,c,o<c?a:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<f||u===f&&n.x>r.x)&&E(n,t)&&(r=n,f=u),n=n.next;return r}(t,e)){var r=S(e,t);v(r,r.next)}}function p(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)/i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)/i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function b(t){for(var e=t,r=t;e.x<r.x&&(r=e),(e=e.next)!==t;);return r}function x(t,e,r,n,i,o,a,s){return 0<=(i-a)*(e-s)-(t-a)*(o-s)&&0<=(t-a)*(n-s)-(r-a)*(e-s)&&0<=(r-a)*(o-s)-(i-a)*(n-s)}function T(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function s(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,r,n){return!!(s(t,e)&&s(r,n)||s(t,n)&&s(r,e))||0<T(t,e,r)!=0<T(t,e,n)&&0<T(r,n,t)!=0<T(r,n,e)}function E(t,e){return T(t.prev,t,t.next)<0?0<=T(t,e,t.next)&&0<=T(t,t.prev,e):T(t,e,t.prev)<0||T(t,t.next,e)<0}function S(t,e){var r=new a(t.i,t.x,t.y),n=new a(e.i,e.x,e.y),i=t.next,o=e.prev;return(t.next=e).prev=t,(r.next=i).prev=r,(n.next=r).prev=n,(o.next=n).prev=o,n}function u(t,e,r,n){var i=new a(t,e,r);return n?(i.next=n.next,(i.prev=n).next.prev=i,n.next=i):(i.prev=i).next=i,i}function P(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function a(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}(e.exports=n).deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(M(t,0,o,r));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,h=s<u-1?e[s+1]*r:t.length;a-=Math.abs(M(t,l,h,r))}var c=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;c+=Math.abs((t[f]-t[p])*(t[1+d]-t[1+f])-(t[f]-t[d])*(t[1+p]-t[1+f]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);0<i&&(n+=t[i-1].length,r.holes.push(n))}return r}},{}],3:[function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,d="~";function l(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),(new l).__proto__||(d=!1)),i.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(d?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},i.prototype.listeners=function(t,e){var r=d?d+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},i.prototype.emit=function(t,e,r,n,i,o){var a=d?d+t:t;if(!this._events[a])return!1;var s,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,i),!0;case 6:return l.fn.call(l.context,e,r,n,i,o),!0}for(u=1,s=new Array(h-1);u<h;u++)s[u-1]=arguments[u];l.fn.apply(l.context,s)}else{var c,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,n);break;default:if(!s)for(c=1,s=new Array(h-1);c<h;c++)s[c-1]=arguments[c];l[u].fn.apply(l[u].context,s)}}return!0},i.prototype.on=function(t,e,r){var n=new o(e,r||this),i=d?d+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},i.prototype.once=function(t,e,r){var n=new o(e,r||this,!0),i=d?d+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},i.prototype.removeListener=function(t,e,r,n){var i=d?d+t:t;if(!this._events[i])return this;if(!e)return 0==--this._eventsCount?this._events=new l:delete this._events[i],this;var o=this._events[i];if(o.fn)o.fn!==e||n&&!o.once||r&&o.context!==r||(0==--this._eventsCount?this._events=new l:delete this._events[i]);else{for(var a=0,s=[],u=o.length;a<u;a++)(o[a].fn!==e||n&&!o[a].once||r&&o[a].context!==r)&&s.push(o[a]);s.length?this._events[i]=1===s.length?s[0]:s:0==--this._eventsCount?this._events=new l:delete this._events[i]}return this},i.prototype.removeAllListeners=function(t){var e;return t?(e=d?d+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new l:delete this._events[e])):(this._events=new l,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=d,i.EventEmitter=i,void 0!==e&&(e.exports=i)},{}],4:[function(t,e,r){function n(t,e){return t.test(e)}function i(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if(void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]),this.apple={phone:n(s,e),ipod:n(u,e),tablet:!n(s,e)&&n(l,e),device:n(s,e)||n(u,e)||n(l,e)},this.amazon={phone:n(f,e),tablet:!n(f,e)&&n(d,e),device:n(f,e)||n(d,e)},this.android={phone:n(f,e)||n(h,e),tablet:!n(f,e)&&!n(h,e)&&(n(d,e)||n(c,e)),device:n(f,e)||n(d,e)||n(h,e)||n(c,e)},this.windows={phone:n(p,e),tablet:n(_,e),device:n(p,e)||n(_,e)},this.other={blackberry:n(v,e),blackberry10:n(g,e),opera:n(m,e),firefox:n(b,e),chrome:n(y,e),device:n(v,e)||n(g,e)||n(m,e)||n(b,e)||n(y,e)},this.seven_inch=n(x,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this}function o(){var t=new i;return t.Class=i,t}var a,s,u,l,h,c,f,d,p,_,v,g,m,y,b,x;a=this,s=/iPhone/i,u=/iPod/i,l=/iPad/i,h=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,d=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,_=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,v=/BlackBerry/i,g=/BB10/i,m=/Opera Mini/i,y=/(CriOS|Chrome)(?=.*\bMobile\b)/i,b=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,x=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),void 0!==e&&e.exports&&"undefined"==typeof window?e.exports=i:void 0!==e&&e.exports&&"undefined"!=typeof window?e.exports=o():a.isMobile=o()},{}],5:[function(t,e,r){"use strict";var u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,n,i=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var a in r=Object(arguments[o]))l.call(r,a)&&(i[a]=r[a]);if(u){n=u(r);for(var s=0;s<n.length;s++)h.call(r,n[s])&&(i[n[s]]=r[n[s]])}}return i}},{}],6:[function(t,e,r){function i(t,e,r,n){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=n||t.STATIC_DRAW,this.data=o,r&&this.upload(r),this._updateID=0}var o=new ArrayBuffer(0);i.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)},i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)},i.create=function(t,e,r,n){return new i(t,e,r,n)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=i},{}],7:[function(t,e,r){function a(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100}var s=t("./GLTexture");a.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new s(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},a.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},a.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},a.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},a.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},a.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},a.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},a.createRGBA=function(t,e,r,n){var i=s.fromData(t,null,e,r);i.enableNearestScaling(),i.enableWrapClamp();var o=new a(t,e,r);return o.enableTexture(i),o.unbind(),o},a.createFloat32=function(t,e,r,n){var i=new s.fromData(t,n,e,r);i.enableNearestScaling(),i.enableWrapClamp();var o=new a(t,e,r);return o.enableTexture(i),o.unbind(),o},e.exports=a},{"./GLTexture":9}],8:[function(t,e,r){function n(t,e,r,n,i){this.gl=t,n&&(e=u(e,n),r=u(r,n)),this.program=o(t,e,r,i),this.attributes=a(t,this.program),this.uniformData=s(t,this.program),this.uniforms=l(t,this.uniformData)}var o=t("./shader/compileProgram"),a=t("./shader/extractAttributes"),s=t("./shader/extractUniforms"),u=t("./shader/setPrecision"),l=t("./shader/generateUniformAccessObject");n.prototype.bind=function(){this.gl.useProgram(this.program)},n.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=n},{"./shader/compileProgram":14,"./shader/extractAttributes":16,"./shader/extractUniforms":17,"./shader/generateUniformAccessObject":18,"./shader/setPrecision":22}],9:[function(t,e,r){function o(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE}var i=!(o.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n});o.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!i){if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");i=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},o.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},o.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},o.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},o.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},o.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},o.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},o.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},o.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},o.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},o.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},o.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},o.fromSource=function(t,e,r){var n=new o(t);return n.premultiplyAlpha=r||!1,n.upload(e),n},o.fromData=function(t,e,r,n){var i=new o(t);return i.uploadData(e,r,n),i},e.exports=o},{}],10:[function(t,e,r){var i=t("./setVertexAttribArrays");function n(t,e){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}n.prototype.constructor=n,(e.exports=n).FORCE_NATIVE=!1,n.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return i(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},{"./setVertexAttribArrays":13}],11:[function(t,e,r){e.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},{}],12:[function(t,e,r){var n={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};void 0!==e&&e.exports&&(e.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},{"./GLBuffer":6,"./GLFramebuffer":7,"./GLShader":8,"./GLTexture":9,"./VertexArrayObject":10,"./createContext":11,"./setVertexAttribArrays":13,"./shader":19}],13:[function(t,e,r){e.exports=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var a=e[n];t.enableVertexAttribArray(a.attribute.location)}}},{}],14:[function(t,e,r){var u=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};e.exports=function(t,e,r,n){var i=u(t,t.VERTEX_SHADER,e),o=u(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,i),t.attachShader(a,o),n)for(var s in n)t.bindAttribLocation(a,n[s],s);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(i),t.deleteShader(o),a}},{}],15:[function(t,e,r){var n=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};e.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return n(2*e);case"bvec3":return n(3*e);case"bvec4":return n(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],16:[function(t,e,r){var s=t("./mapType"),u=t("./mapSize"),l=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};e.exports=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i),a=s(t,o.type);r[o.name]={type:a,size:u(a),location:t.getAttribLocation(e,o.name),pointer:l}}return r}},{"./mapSize":20,"./mapType":21}],17:[function(t,e,r){var u=t("./mapType"),l=t("./defaultValue");e.exports=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]/,""),s=u(t,o.type);r[a]={type:s,size:o.size,location:t.getUniformLocation(e,a),value:l(s,o.size)}}return r}},{"./defaultValue":15,"./mapType":21}],18:[function(t,e,r){var h=function(t){var e=n.replace("%%",t);return new Function(e)},c=function(t,e){var r,n=i.replace(/%%/g,t);return(r=1===e.size?o[e.type]:a[e.type])&&(n+="\nthis.gl."+r+";"),new Function("value",n)},f=function(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r},n=["return this.data.%%.value;"].join("\n"),i=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),o={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},a={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};e.exports=function(t,e){var r={data:{}};r.gl=t;for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],a=o.split("."),s=a[a.length-1],u=f(a,r),l=e[o];u.data[s]=l,u.gl=t,Object.defineProperty(u,s,{get:h(s),set:c(s,l)})}return r}},{}],19:[function(t,e,r){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),setPrecision:t("./setPrecision"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":14,"./defaultValue":15,"./extractAttributes":16,"./extractUniforms":17,"./generateUniformAccessObject":18,"./mapSize":20,"./mapType":21,"./setPrecision":22}],20:[function(t,e,r){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(t){return n[t]}},{}],21:[function(t,e,r){var o=null,a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(t,e){if(!o){var r=Object.keys(a);o={};for(var n=0;n<r.length;++n){var i=r[n];o[t[i]]=a[i]}}return o[e]}},{}],22:[function(t,e,r){e.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},{}],23:[function(t,e,l){(function(i){function o(t,e){for(var r=0,n=t.length-1;0<=n;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;)t.unshift("..");return t}function a(t){return e.exec(t).slice(1)}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function s(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}l.resolve=function(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var n=0<=r?arguments[r]:i.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e="/"===n.charAt(0))}return(e?"/":"")+(t=o(s(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},l.normalize=function(t){var e=l.isAbsolute(t),r="/"===n(t,-1);return(t=o(s(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},l.isAbsolute=function(t){return"/"===t.charAt(0)},l.join=function(){var t=Array.prototype.slice.call(arguments,0);return l.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},l.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return r<e?[]:t.slice(e,r-e+1)}t=l.resolve(t).substr(1),e=l.resolve(e).substr(1);for(var n=r(t.split("/")),i=r(e.split("/")),o=Math.min(n.length,i.length),a=o,s=0;s<o;s++)if(n[s]!==i[s]){a=s;break}var u=[];for(s=a;s<n.length;s++)u.push("..");return(u=u.concat(i.slice(a))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(t){var e=a(t),r=e[0],n=e[1];return r||n?r+(n=n&&n.substr(0,n.length-1)):"."},l.basename=function(t,e){var r=a(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},l.extname=function(t){return a(t)[3]};var n="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:24}],24:[function(t,e,r){var n,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var l,h=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?h=l.concat(h):f=-1,h.length&&p())}function p(){if(!c){var t=u(d);c=!0;for(var e=h.length;e;){for(l=h,h=[];++f<e;)l&&l[f].run();f=-1,e=h.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new _(t,e)),1!==h.length||c||u(p)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],25:[function(t,I,D){(function(O){!function(t){var e="object"==typeof D&&D&&!D.nodeType&&D,r="object"==typeof I&&I&&!I.nodeType&&I,n="object"==typeof O&&O;n.global!==n&&n.window!==n&&n.self!==n||(t=n);var i,o,g=2147483647,m=36,y=1,b=26,a=38,s=700,x=72,T=128,w="-",u=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=m-y,E=Math.floor,S=String.fromCharCode;function P(t){throw new RangeError(c[t])}function d(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function p(t,e){var r=t.split("@"),n="";return 1<r.length&&(n=r[0]+"@",t=r[1]),n+d((t=t.replace(h,".")).split("."),e).join(".")}function M(t){for(var e,r,n=[],i=0,o=t.length;i<o;)55296<=(e=t.charCodeAt(i++))&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function A(t){return d(t,function(t){var e="";return 65535<t&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=S(t)}).join("")}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function R(t,e,r){var n=0;for(t=r?E(t/s):t>>1,t+=E(t/e);f*b>>1<t;n+=m)t=E(t/f);return E(n+(f+1)*t/(t+a))}function _(t){var e,r,n,i,o,a,s,u,l,h,c,f=[],d=t.length,p=0,_=T,v=x;for((r=t.lastIndexOf(w))<0&&(r=0),n=0;n<r;++n)128<=t.charCodeAt(n)&&P("not-basic"),f.push(t.charCodeAt(n));for(i=0<r?r+1:0;i<d;){for(o=p,a=1,s=m;d<=i&&P("invalid-input"),c=t.charCodeAt(i++),(m<=(u=c-48<10?c-22:c-65<26?c-65:c-97<26?c-97:m)||u>E((g-p)/a))&&P("overflow"),p+=u*a,!(u<(l=s<=v?y:v+b<=s?b:s-v));s+=m)a>E(g/(h=m-l))&&P("overflow"),a*=h;v=R(p-o,e=f.length+1,0==o),E(p/e)>g-_&&P("overflow"),_+=E(p/e),p%=e,f.splice(p++,0,_)}return A(f)}function v(t){var e,r,n,i,o,a,s,u,l,h,c,f,d,p,_,v=[];for(f=(t=M(t)).length,e=T,o=x,a=r=0;a<f;++a)(c=t[a])<128&&v.push(S(c));for(n=i=v.length,i&&v.push(w);n<f;){for(s=g,a=0;a<f;++a)e<=(c=t[a])&&c<s&&(s=c);for(s-e>E((g-r)/(d=n+1))&&P("overflow"),r+=(s-e)*d,e=s,a=0;a<f;++a)if((c=t[a])<e&&++r>g&&P("overflow"),c==e){for(u=r,l=m;!(u<(h=l<=o?y:o+b<=l?b:l-o));l+=m)_=u-h,p=m-h,v.push(S(C(h+_%p,0))),u=E(_/p);v.push(S(C(u,0))),o=R(r,d,n==i),r=0,++n}++r,++e}return v.join("")}if(i={version:"1.4.1",ucs2:{decode:M,encode:A},decode:_,encode:v,toASCII:function(t){return p(t,function(t){return l.test(t)?"xn--"+v(t):t})},toUnicode:function(t){return p(t,function(t){return u.test(t)?_(t.slice(4).toLowerCase()):t})}},0,e&&r)if(I.exports==e)r.exports=i;else for(o in i)i.hasOwnProperty(o)&&(e[o]=i[o]);else t.punycode=i}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var s,u,l=t.length;0<a&&a<l&&(l=a);for(var h=0;h<l;++h){var c,f,d,p,_=t[h].replace(o,"%20"),v=_.indexOf(r);f=0<=v?(c=_.substr(0,v),_.substr(v+1)):(c=_,""),d=decodeURIComponent(c),p=decodeURIComponent(f),s=i,u=d,Object.prototype.hasOwnProperty.call(s,u)?g(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i};var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],27:[function(t,e,r){"use strict";function o(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e.exports=function(r,n,i,t){return n=n||"&",i=i||"=",null===r&&(r=void 0),"object"==typeof r?s(u(r),function(t){var e=encodeURIComponent(o(t))+i;return a(r[t])?s(r[t],function(t){return e+encodeURIComponent(o(t))}).join(n):e+encodeURIComponent(o(r[t]))}).join(n):t?encodeURIComponent(o(t))+i+encodeURIComponent(o(r)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var u=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],28:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":26,"./encode":27}],29:[function(t,e,r){"use strict";var D=t("punycode"),j=t("./util");function M(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=o,r.resolve=function(t,e){return o(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?o(t,!1,!0).resolveObject(e):e},r.format=function(t){j.isString(t)&&(t=o(t));return t instanceof M?t.format():M.prototype.format.call(t)},r.Url=M;var k=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,L=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),N=["'"].concat(i),F=["%","/","?",";","#"].concat(N),U=["/","?","#"],B=/^[+a-z0-9A-Z_-]{0,63}$/,V=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,X={javascript:!0,"javascript:":!0},W={javascript:!0,"javascript:":!0},H={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Y=t("querystring");function o(t,e,r){if(t&&j.isObject(t)&&t instanceof M)return t;var n=new M;return n.parse(t,e,r),n}M.prototype.parse=function(t,e,r){if(!j.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",o=t.split(i);o[0]=o[0].replace(/\\/g,"/");var a=t=o.join(i);if(a=a.trim(),!r&&1===t.split("#").length){var s=L.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=e?Y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=k.exec(a);if(u){var l=(u=u[0]).toLowerCase();this.protocol=l,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h="//"===a.substr(0,2);!h||u&&W[u]||(a=a.substr(2),this.slashes=!0)}if(!W[u]&&(h||u&&!H[u])){for(var c,f,d=-1,p=0;p<U.length;p++){-1!==(_=a.indexOf(U[p]))&&(-1===d||_<d)&&(d=_)}-1!==(f=-1===d?a.lastIndexOf("@"):a.lastIndexOf("@",d))&&(c=a.slice(0,f),a=a.slice(f+1),this.auth=decodeURIComponent(c)),d=-1;for(p=0;p<F.length;p++){var _;-1!==(_=a.indexOf(F[p]))&&(-1===d||_<d)&&(d=_)}-1===d&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),m=(p=0,g.length);p<m;p++){var y=g[p];if(y&&!y.match(B)){for(var b="",x=0,T=y.length;x<T;x++)127<y.charCodeAt(x)?b+="x":b+=y[x];if(!b.match(B)){var w=g.slice(0,p),E=g.slice(p+1),S=y.match(V);S&&(w.push(S[1]),E.unshift(S[2])),E.length&&(a="/"+E.join(".")+a),this.hostname=w.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=D.toASCII(this.hostname));var P=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+P,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!X[l])for(p=0,m=N.length;p<m;p++){var A=N[p];if(-1!==a.indexOf(A)){var C=encodeURIComponent(A);C===A&&(C=escape(A)),a=a.split(A).join(C)}}var R=a.indexOf("#");-1!==R&&(this.hash=a.substr(R),a=a.slice(0,R));var O=a.indexOf("?");if(-1!==O?(this.search=a.substr(O),this.query=a.substr(O+1),e&&(this.query=Y.parse(this.query)),a=a.slice(0,O)):e&&(this.search="",this.query={}),a&&(this.pathname=a),H[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var I=this.search||"";this.path=P+I}return this.href=this.format(),this},M.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&j.isObject(this.query)&&Object.keys(this.query).length&&(o=Y.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||H[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i=i||"",n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+i+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},M.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},M.prototype.resolveObject=function(t){if(j.isString(t)){var e=new M;e.parse(t,!1,!0),t=e}for(var r=new M,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),s=0;s<a.length;s++){var u=a[s];"protocol"!==u&&(r[u]=t[u])}return H[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!H[t.protocol]){for(var l=Object.keys(t),h=0;h<l.length;h++){var c=l[h];r[c]=t[c]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||W[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",p=r.search||"";r.path=d+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=v||_||r.host&&t.pathname,m=g,y=r.pathname&&r.pathname.split("/")||[],b=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!H[r.protocol]);if(b&&(r.hostname="",r.port=null,r.host&&(""===y[0]?y[0]=r.host:y.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),g=g&&(""===f[0]||""===y[0])),v)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,y=f;else if(f.length)(y=y||[]).pop(),y=y.concat(f),r.search=t.search,r.query=t.query;else if(!j.isNullOrUndefined(t.search)){if(b)r.hostname=r.host=y.shift(),(S=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=S.shift(),r.host=r.hostname=S.shift());return r.search=t.search,r.query=t.query,j.isNull(r.pathname)&&j.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=y.slice(-1)[0],T=(r.host||t.host||1<y.length)&&("."===x||".."===x)||""===x,w=0,E=y.length;0<=E;E--)"."===(x=y[E])?y.splice(E,1):".."===x?(y.splice(E,1),w++):w&&(y.splice(E,1),w--);if(!g&&!m)for(;w--;)y.unshift("..");!g||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),T&&"/"!==y.join("/").substr(-1)&&y.push("");var S,P=""===y[0]||y[0]&&"/"===y[0].charAt(0);b&&(r.hostname=r.host=P?"":y.length?y.shift():"",(S=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=S.shift(),r.host=r.hostname=S.shift()));return(g=g||r.host&&y.length)&&!P&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),j.isNull(r.pathname)&&j.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},M.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":30,punycode:25,querystring:28}],30:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],31:[function(t,e,r){"use strict";r.__esModule=!0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=a(t("mini-signals")),i=a(t("parse-uri")),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("./async")),c=a(t("./Resource"));function a(t){return t&&t.__esModule?t:{default:t}}var s=/(#[\w-]+)?$/,u=(l.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"===(void 0===t?"undefined":h(t))&&(n=e||t.callback||t.onComplete,e=(r=t).url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new c.default(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var o=r.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var u=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=u;for(var l=0;l<a.length;++l)a[l].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this},l.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},l.prototype.use=function(t){return this._afterMiddleware.push(t),this},l.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},l.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},l.prototype._prepareUrl=function(t){var e=(0,i.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=s.exec(r)[0];-1!==(r=r.substr(0,r.length-n.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=n}return r},l.prototype._loadResource=function(r,t){var n=this;r._dequeue=t,o.eachSeries(this._beforeMiddleware,function(t,e){t.call(n,r,function(){e(r.isComplete?{}:null)})},function(){r.isComplete?n._onLoad(r):(r._onLoadBinding=r.onComplete.once(n._onLoad,n),r.load())})},l.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},l.prototype._onLoad=function(r){var n=this;r._onLoadBinding=null,r._dequeue(),this._resourcesParsing.push(r),o.eachSeries(this._afterMiddleware,function(t,e){t.call(n,r,e)},function(){r.onAfterMiddleware.dispatch(r),n.progress+=r.progressChunk,n.onProgress.dispatch(n,r),r.error?n.onError.dispatch(r.error,n,r):n.onLoad.dispatch(n,r),n._resourcesParsing.splice(n._resourcesParsing.indexOf(r),1),n._queue.idle()&&0===n._resourcesParsing.length&&(n.progress=100,n._onComplete())})},l);function l(){var r=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=o.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new n.default,this.onError=new n.default,this.onLoad=new n.default,this.onStart=new n.default,this.onComplete=new n.default}r.default=u},{"./Resource":32,"./async":33,"mini-signals":37,"parse-uri":38}],32:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=s(t("parse-uri")),a=s(t("mini-signals"));function s(t){return t&&t.__esModule?t:{default:t}}var u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;function h(){}var c=(f.setExtensionLoadType=function(t,e){d(f._loadTypeMap,t,e)},f.setExtensionXhrType=function(t,e){d(f._xhrTypeMap,t,e)},f.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(f.STATUS_FLAGS.COMPLETE,!0),this._setFlag(f.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},f.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=f.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},f.prototype.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(f.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case f.LOAD_TYPE.IMAGE:this.type=f.TYPE.IMAGE,this._loadElement("image");break;case f.LOAD_TYPE.AUDIO:this.type=f.TYPE.AUDIO,this._loadSourceElement("audio");break;case f.LOAD_TYPE.VIDEO:this.type=f.TYPE.VIDEO,this._loadSourceElement("video");break;case f.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},f.prototype._hasFlag=function(t){return!!(this._flags&t)},f.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},f.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},f.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},f.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===f.XHR_RESPONSE_TYPE.JSON||this.xhrType===f.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=f.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},f.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},f.prototype._createSource=function(t,e,r){r=r||t+"/"+e.substr(e.lastIndexOf(".")+1);var n=document.createElement("source");return n.src=e,n.type=r,n},f.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},f.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},f.prototype._xhrOnError=function(){var t=this.xhr;this.abort(p(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},f.prototype._xhrOnAbort=function(){this.abort(p(this.xhr)+" Request was aborted by the user.")},f.prototype._xdrOnTimeout=function(){this.abort(p(this.xhr)+" Request timed out.")},f.prototype._xhrOnLoad=function(){var t=this.xhr,e="",r=void 0===t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(e=t.responseText),0===r&&0<e.length?r=200:1223===r&&(r=204),2==(r/100|0)){if(this.xhrType===f.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=f.TYPE.TEXT;else if(this.xhrType===f.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=f.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===f.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(e,"text/xml")}else{var i=document.createElement("div");i.innerHTML=e,this.data=i}this.type=f.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},f.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,(l=l||document.createElement("a")).href=t;var r=!(t=(0,o.default)(l.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},f.prototype._determineXhrType=function(){return f._xhrTypeMap[this.extension]||f.XHR_RESPONSE_TYPE.TEXT},f.prototype._determineLoadType=function(){return f._loadTypeMap[this.extension]||f.LOAD_TYPE.XHR},f.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?");-1!==n&&(t=t.substring(0,n)),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},f.prototype._getMimeFromXhrType=function(t){switch(t){case f.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case f.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case f.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case f.XHR_RESPONSE_TYPE.JSON:return"application/json";case f.XHR_RESPONSE_TYPE.DEFAULT:case f.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(f,[{key:"isDataUrl",get:function(){return this._hasFlag(f.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(f.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(f.STATUS_FLAGS.LOADING)}}]),f);function f(t,e,r){if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(f.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=f.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new a.default,this.onProgress=new a.default,this.onComplete=new a.default,this.onAfterMiddleware=new a.default}function d(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function p(t){return t.toString().replace("object ","")}(r.default=c).STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},c.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},c.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},c.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},c._loadTypeMap={gif:c.LOAD_TYPE.IMAGE,png:c.LOAD_TYPE.IMAGE,bmp:c.LOAD_TYPE.IMAGE,jpg:c.LOAD_TYPE.IMAGE,jpeg:c.LOAD_TYPE.IMAGE,tif:c.LOAD_TYPE.IMAGE,tiff:c.LOAD_TYPE.IMAGE,webp:c.LOAD_TYPE.IMAGE,tga:c.LOAD_TYPE.IMAGE,svg:c.LOAD_TYPE.IMAGE,"svg+xml":c.LOAD_TYPE.IMAGE,mp3:c.LOAD_TYPE.AUDIO,ogg:c.LOAD_TYPE.AUDIO,wav:c.LOAD_TYPE.AUDIO,mp4:c.LOAD_TYPE.VIDEO,webm:c.LOAD_TYPE.VIDEO},c._xhrTypeMap={xhtml:c.XHR_RESPONSE_TYPE.DOCUMENT,html:c.XHR_RESPONSE_TYPE.DOCUMENT,htm:c.XHR_RESPONSE_TYPE.DOCUMENT,xml:c.XHR_RESPONSE_TYPE.DOCUMENT,tmx:c.XHR_RESPONSE_TYPE.DOCUMENT,svg:c.XHR_RESPONSE_TYPE.DOCUMENT,tsx:c.XHR_RESPONSE_TYPE.DOCUMENT,gif:c.XHR_RESPONSE_TYPE.BLOB,png:c.XHR_RESPONSE_TYPE.BLOB,bmp:c.XHR_RESPONSE_TYPE.BLOB,jpg:c.XHR_RESPONSE_TYPE.BLOB,jpeg:c.XHR_RESPONSE_TYPE.BLOB,tif:c.XHR_RESPONSE_TYPE.BLOB,tiff:c.XHR_RESPONSE_TYPE.BLOB,webp:c.XHR_RESPONSE_TYPE.BLOB,tga:c.XHR_RESPONSE_TYPE.BLOB,json:c.XHR_RESPONSE_TYPE.JSON,text:c.XHR_RESPONSE_TYPE.TEXT,txt:c.XHR_RESPONSE_TYPE.TEXT,ttf:c.XHR_RESPONSE_TYPE.BUFFER,otf:c.XHR_RESPONSE_TYPE.BUFFER},c.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":37,"parse-uri":38}],33:[function(t,e,r){"use strict";function a(){}function s(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}r.__esModule=!0,r.eachSeries=function(r,n,i){var o=0,a=r.length;!function t(e){e||o===a?i&&i(e):n(r[o++],t)}()},r.queue=function(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:t,saturated:a,unsaturated:a,buffer:t/4,empty:a,drain:a,error:a,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=a,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var t=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),e(t.data,s(o(t)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout(function(){return i.drain()},1);else{var n={data:t,callback:"function"==typeof r?r:a};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout(function(){return i.process()},1)}}function o(e){return function(t){r-=1,e.callback.apply(e,arguments),null!=t&&i.error(t,e.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}},{}],34:[function(t,e,r){"use strict";r.__esModule=!0,r.encodeBinary=function(t){var e="",r=0;for(;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<t.length?n[o]=255&t.charCodeAt(r++):n[o]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var a=0;a<i.length;++a)e+=s.charAt(i[a])}return e};var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],35:[function(t,e,r){"use strict";r.__esModule=!0;var n=u(t("./Loader")),i=u(t("./Resource")),o=s(t("./async")),a=s(t("./b64"));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}n.default.Resource=i.default,n.default.async=o,n.default.base64=a,e.exports=n.default,r.default=n.default},{"./Loader":31,"./Resource":32,"./async":33,"./b64":34}],36:[function(t,e,r){"use strict";r.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===a.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=(i=u.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=i,t.type=a.default.TYPE.IMAGE,t.data.onload=function(){u.revokeObjectURL(i),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===r?"undefined":o(r)))return r.v}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+s.default.encodeBinary(t.xhr.responseText),t.type=a.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var i;e()}else e()}};var a=n(t("../../Resource")),s=n(t("../../b64"));function n(t){return t&&t.__esModule?t:{default:t}}var u=window.URL||window.webkitURL},{"../../Resource":32,"../../b64":34}],37:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=(n(s,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),s);function s(t,e,r){void 0===e&&(e=!1),o(this,s),this._fn=t,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}function u(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}var l=(n(h,[{key:"handlers",value:function(t){var e=!(arguments.length<=0||void 0===t)&&t,r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n}},{key:"has",value:function(t){if(!(t instanceof a))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t,e){var r=arguments.length<=1||void 0===e?null:e;if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return u(this,new a(t,!1,r))}},{key:"once",value:function(t,e){var r=arguments.length<=1||void 0===e?null:e;if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return u(this,new a(t,!0,r))}},{key:"detach",value:function(t){if(!(t instanceof a))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),h);function h(){o(this,h),this._head=this._tail=void 0}l.MiniSignalBinding=a,r.default=l,e.exports=r.default},{}],38:[function(t,e,r){"use strict";e.exports=function(t,e){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(i[n.q.name][e]=r)}),i}},{}],39:[function(t,e,r){"use strict";r.__esModule=!0;var u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core")),n=o(t("ismobilejs")),i=o(t("./accessibleTarget"));function o(t){return t&&t.__esModule?t:{default:t}}u.utils.mixins.delayMixin(u.DisplayObject.prototype,i.default);var a=(s.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},s.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},s.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},s.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;0<=r;r--)this.updateAccessibleObjects(e[r])}},s.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var i=0;i<this.children.length;i++){var o=this.children[i];if(o.renderId!==this.renderId)o._accessibleActive=!1,u.utils.removeItems(this.children,i,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,i--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var a=o.hitArea,s=o.worldTransform;o.hitArea?(n.style.left=(s.tx+a.x*s.a)*e+"px",n.style.top=(s.ty+a.y*s.d)*r+"px",n.style.width=a.width*s.a*e+"px",n.style.height=a.height*s.d*r+"px"):(a=o.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*r+"px",n.style.width=a.width*e+"px",n.style.height=a.height*r+"px")}}this.renderId++}},s.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},s.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},s.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},s.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},s.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},s.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},s.prototype._onMouseMove=function(){this.deactivate()},s.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},s);function s(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),!n.default.tablet&&!n.default.phone||navigator.isCocoonJS||this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}r.default=a,u.WebGLRenderer.registerPlugin("accessibility",a),u.CanvasRenderer.registerPlugin("accessibility",a)},{"../core":64,"./accessibleTarget":40,ismobilejs:4}],40:[function(t,e,r){"use strict";r.__esModule=!0,r.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],41:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./accessibleTarget");Object.defineProperty(r,"accessibleTarget",{enumerable:!0,get:function(){return o(n).default}});var i=t("./AccessibilityManager");function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},{"./AccessibilityManager":39,"./accessibleTarget":40}],42:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=t("./autoDetectRenderer"),a=h(t("./display/Container")),s=t("./ticker"),u=h(t("./settings")),l=t("./const");function h(t){return t&&t.__esModule?t:{default:t}}var c=(f.prototype.render=function(){this.renderer.render(this.stage)},f.prototype.stop=function(){this._ticker.stop()},f.prototype.start=function(){this._ticker.start()},f.prototype.destroy=function(t){var e=this._ticker;this.ticker=null,e.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},n(f,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,l.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),f);function f(t,e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),"number"==typeof t&&(t=Object.assign({width:t,height:e||u.default.RENDER_OPTIONS.height,forceCanvas:!!n,sharedTicker:!!i},r)),this._options=t=Object.assign({sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,o.autoDetectRenderer)(t),this.stage=new a.default,this._ticker=null,this.ticker=t.sharedTicker?s.shared:new s.Ticker,this.start()}r.default=c},{"./autoDetectRenderer":44,"./const":45,"./display/Container":47,"./settings":100,"./ticker":119}],43:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("pixi-gl-core"),o=t("./settings"),a=(n=o)&&n.__esModule?n:{default:n};function s(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.substring(0,9))return"precision "+e+" float;\n"+t;return t}var u,l=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,u=i.GLShader),h);function h(t,e,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,u.call(this,t,s(e,a.default.PRECISION_VERTEX),s(r,a.default.PRECISION_FRAGMENT)))}r.default=l},{"./settings":100,"pixi-gl-core":12}],44:[function(t,e,r){"use strict";r.__esModule=!0,r.autoDetectRenderer=function(t,e,r,n){var i=t&&t.forceCanvas;void 0!==n&&(i=n);return i||!o.isWebGLSupported()?new a.default(t,e,r):new s.default(t,e,r)};var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("./utils")),a=n(t("./renderers/canvas/CanvasRenderer")),s=n(t("./renderers/webgl/WebGLRenderer"));function n(t){return t&&t.__esModule?t:{default:t}}},{"./renderers/canvas/CanvasRenderer":76,"./renderers/webgl/WebGLRenderer":83,"./utils":123}],45:[function(t,e,r){"use strict";r.__esModule=!0;r.VERSION="4.5.1",r.PI_2=2*Math.PI,r.RAD_TO_DEG=180/Math.PI,r.DEG_TO_RAD=Math.PI/180,r.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},r.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},r.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},r.SCALE_MODES={LINEAR:0,NEAREST:1},r.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},r.GC_MODES={AUTO:0,MANUAL:1},r.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,r.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},r.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},r.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},r.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},r.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],46:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../math");var i=(o.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},o.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},o.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},o.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},o.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,r=a<r?a:r,n=n<o?o:n,i=i<a?a:i,e=(o=t[2])<e?o:e,r=(a=t[3])<r?a:r,n=n<o?o:n,i=i<a?a:i,e=(o=t[4])<e?o:e,r=(a=t[5])<r?a:r,n=n<o?o:n,i=i<a?a:i,e=(o=t[6])<e?o:e,r=(a=t[7])<r?a:r,n=n<o?o:n,i=i<a?a:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},o.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,a=o.a,s=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,_=this.maxY,v=a*e+u*r+h,g=s*e+l*r+c;f=v<f?v:f,d=g<d?g:d,p=p<v?v:p,_=_<g?g:_,f=(v=a*n+u*r+h)<f?v:f,d=(g=s*n+l*r+c)<d?g:d,p=p<v?v:p,_=_<g?g:_,f=(v=a*e+u*i+h)<f?v:f,d=(g=s*e+l*i+c)<d?g:d,p=p<v?v:p,_=_<g?g:_,f=(v=a*n+u*i+h)<f?v:f,d=(g=s*n+l*i+c)<d?g:d,p=p<v?v:p,_=_<g?g:_,this.minX=f,this.minY=d,this.maxX=p,this.maxY=_},o.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,h=i.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,_=r;_<n;_+=2){var v=e[_],g=e[_+1],m=o*v+s*g+l,y=u*g+a*v+h;c=m<c?m:c,f=y<f?y:f,d=d<m?m:d,p=p<y?y:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},o.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},o.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=u<i?i:u,this.maxY=l<o?o:l}},o.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=u<i?i:u,this.maxY=l<o?o:l}},o);function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}r.default=i},{"../math":69}],47:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=t("../utils"),s=t("./DisplayObject"),u=(o=s)&&o.__esModule?o:{default:o};var l,h=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,l=u.default),c.prototype.onChildrenChange=function(){},c.prototype.addChild=function(t){var e=arguments.length;if(1<e)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},c.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},c.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},c.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},c.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);(0,a.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},c.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},c.prototype.removeChild=function(t){var e=arguments.length;if(1<e)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,a.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},c.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,a.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},c.prototype.removeChildren=function(t,e){var r=0<arguments.length&&void 0!==t?t:0,n=r,i="number"==typeof e?e:this.children.length,o=i-n,a=void 0;if(0<o&&o<=i){a=this.children.splice(n,o);for(var s=0;s<a.length;++s)a[s].parent=null,a[s].transform&&(a[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var u=0;u<a.length;++u)a[u].emit("removed",this);return a}if(0==o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},c.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},c.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},c.prototype._calculateBounds=function(){},c.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},c.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var n=this._enabledFilters.length=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},c.prototype._renderWebGL=function(){},c.prototype._renderCanvas=function(){},c.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},c.prototype.destroy=function(t){l.prototype.destroy.call(this);var e="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(e)for(var n=0;n<r.length;++n)r[n].destroy(t)},n(c,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),c);function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,l.call(this));return t.children=[],t}(r.default=h).prototype.containerUpdateTransform=h.prototype.updateTransform},{"../utils":123,"./DisplayObject":48}],48:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=f(t("eventemitter3")),a=t("../const"),s=f(t("../settings")),u=f(t("./TransformStatic")),l=f(t("./Transform")),h=f(t("./Bounds")),c=t("../math");function f(t){return t&&t.__esModule?t:{default:t}}var d,p=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_,d=o.default),_.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},_.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},_.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new c.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},_.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},_.prototype.toGlobal=function(t,e,r){return 2<arguments.length&&void 0!==r&&r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},_.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},_.prototype.renderWebGL=function(){},_.prototype.renderCanvas=function(){},_.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},_.prototype.setTransform=function(t,e,r,n,i,o,a,s,u){var l=0<arguments.length&&void 0!==t?t:0,h=1<arguments.length&&void 0!==e?e:0,c=2<arguments.length&&void 0!==r?r:1,f=3<arguments.length&&void 0!==n?n:1,d=4<arguments.length&&void 0!==i?i:0,p=5<arguments.length&&void 0!==o?o:0,_=6<arguments.length&&void 0!==a?a:0,v=7<arguments.length&&void 0!==s?s:0,g=8<arguments.length&&void 0!==u?u:0;return this.position.x=l,this.position.y=h,this.scale.x=c||1,this.scale.y=f||1,this.rotation=d,this.skew.x=p,this.skew.y=_,this.pivot.x=v,this.pivot.y=g,this},_.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(_,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new _),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),_);function _(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,d.call(this)),e=s.default.TRANSFORM_MODE===a.TRANSFORM_MODE.STATIC?u.default:l.default;return t.tempDisplayObjectParent=null,t.transform=new e,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t.filterArea=null,t._filters=null,t._enabledFilters=null,t._bounds=new h.default,t._boundsID=0,t._lastBoundsID=-1,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t}(r.default=p).prototype.displayObjectUpdateTransform=p.prototype.updateTransform},{"../const":45,"../math":69,"../settings":100,"./Bounds":46,"./Transform":49,"./TransformStatic":51,eventemitter3:3}],49:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=t("../math"),s=t("./TransformBase"),u=(o=s)&&o.__esModule?o:{default:o};var l,h=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,l=u.default),c.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},c.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},c.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},c.prototype.setFromMatrix=function(t){t.decompose(this)},n(c,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),c);function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,l.call(this));return t.position=new a.Point(0,0),t.scale=new a.Point(1,1),t.skew=new a.ObservablePoint(t.updateSkew,t,0,0),t.pivot=new a.Point(0,0),t._rotation=0,t._cx=1,t._sx=0,t._cy=0,t._sy=1,t}r.default=h},{"../math":69,"./TransformBase":50}],50:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../math");var i=(o.prototype.updateLocalTransform=function(){},o.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},o);function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}(r.default=i).prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},{"../math":69}],51:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=t("../math"),s=t("./TransformBase"),u=(o=s)&&o.__esModule?o:{default:o};var l,h=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,l=u.default),c.prototype.onChange=function(){this._localID++},c.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},c.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},c.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},c.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},n(c,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),c);function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,l.call(this));return t.position=new a.ObservablePoint(t.onChange,t,0,0),t.scale=new a.ObservablePoint(t.onChange,t,1,1),t.pivot=new a.ObservablePoint(t.onChange,t,0,0),t.skew=new a.ObservablePoint(t.updateSkew,t,0,0),t._rotation=0,t._cx=1,t._sx=0,t._cy=0,t._sy=1,t._localID=0,t._currentLocalID=0,t}r.default=h},{"../math":69,"./TransformBase":50}],52:[function(t,e,r){"use strict";r.__esModule=!0;var n=d(t("../display/Container")),a=d(t("../textures/RenderTexture")),s=d(t("../textures/Texture")),i=d(t("./GraphicsData")),o=d(t("../sprites/Sprite")),u=t("../math"),l=t("../utils"),E=t("../const"),h=d(t("../display/Bounds")),c=d(t("./utils/bezierCurveTo")),f=d(t("../renderers/canvas/CanvasRenderer"));function d(t){return t&&t.__esModule?t:{default:t}}var p,_=void 0,v=new u.Matrix,g=new u.Point,m=new Float32Array(4),y=new Float32Array(4),b=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(x,p=n.default),x.prototype.clone=function(){var t=new x;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},x.prototype.lineStyle=function(t,e,r){var n=0<arguments.length&&void 0!==t?t:0,i=1<arguments.length&&void 0!==e?e:0,o=2<arguments.length&&void 0!==r?r:1;if(this.lineWidth=n,this.lineColor=i,this.lineAlpha=o,this.currentPath)if(this.currentPath.shape.points.length){var a=new u.Polygon(this.currentPath.shape.points.slice(-2));a.closed=!1,this.drawShape(a)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},x.prototype.moveTo=function(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},x.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},x.prototype.quadraticCurveTo=function(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,o=0,a=0;0===i.length&&this.moveTo(0,0);for(var s=i[i.length-2],u=i[i.length-1],l=1;l<=20;++l){var h=l/20;o=s+(t-s)*h,a=u+(e-u)*h,i.push(o+(t+(r-t)*h-o)*h,a+(e+(n-e)*h-a)*h)}return this.dirty++,this},x.prototype.bezierCurveTo=function(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,s=a[a.length-2],u=a[a.length-1];return a.length-=2,(0,c.default)(s,u,t,e,r,n,i,o,a),this.dirty++,this},x.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1]-e,u=a-t,l=n-e,h=r-t,c=Math.abs(s*h-u*l);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=s*s+u*u,d=l*l+h*h,p=s*l+u*h,_=i*Math.sqrt(f)/c,v=i*Math.sqrt(d)/c,g=_*p/f,m=v*p/d,y=_*h+v*u,b=_*l+v*s,x=u*(v+g),T=s*(v+g),w=h*(_+m),E=l*(_+m),S=Math.atan2(T-b,x-y),P=Math.atan2(E-b,w-y);this.arc(y+t,b+e,i,S,P,h*s<u*l)}return this.dirty++,this},x.prototype.arc=function(t,e,r,n,i,o){var a=5<arguments.length&&void 0!==o&&o;if(n===i)return this;!a&&i<=n?i+=2*Math.PI:a&&n<=i&&(n+=2*Math.PI);var s=i-n,u=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0==s)return this;var l=t+Math.cos(n)*r,h=e+Math.sin(n)*r,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===l&&c[c.length-1]===h||c.push(l,h):(this.moveTo(l,h),c=this.currentPath.shape.points);for(var f=s/(2*u),d=2*f,p=Math.cos(f),_=Math.sin(f),v=u-1,g=v%1/v,m=0;m<=v;++m){var y=f+n+d*(m+g*m),b=Math.cos(y),x=-Math.sin(y);c.push((p*b+_*x)*r+t,(p*-x+_*b)*r+e)}return this.dirty++,this},x.prototype.beginFill=function(t,e){var r=0<arguments.length&&void 0!==t?t:0,n=1<arguments.length&&void 0!==e?e:1;return this.filling=!0,this.fillColor=r,this.fillAlpha=n,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},x.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},x.prototype.drawRect=function(t,e,r,n){return this.drawShape(new u.Rectangle(t,e,r,n)),this},x.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new u.RoundedRectangle(t,e,r,n,i)),this},x.prototype.drawCircle=function(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this},x.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new u.Ellipse(t,e,r,n)),this},x.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new u.Polygon(e);return i.closed=r,this.drawShape(i),this},x.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},x.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===E.SHAPES.RECT&&!this.graphicsData[0].lineWidth},x.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},x.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new o.default(new s.default(s.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var n=m,i=y;(0,l.hex2rgb)(this.graphicsData[0].fillColor,n),(0,l.hex2rgb)(this.tint,i),n[0]*=i[0],n[1]*=i[1],n[2]*=i[2],r.tint=(0,l.rgb2hex)(n)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},x.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},x.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},x.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,g);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&n.shape&&n.shape.contains(g.x,g.y))return!0}return!1},x.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,u=0,l=0;l<this.graphicsData.length;l++){var h=this.graphicsData[l],c=h.type,f=h.lineWidth;if(i=h.shape,c===E.SHAPES.RECT||c===E.SHAPES.RREC)o=i.x-f/2,a=i.y-f/2,t=o<t?o:t,e=e<o+(s=i.width+f)?o+s:e,r=a<r?a:r,n=n<a+(u=i.height+f)?a+u:n;else if(c===E.SHAPES.CIRC)o=i.x,a=i.y,t=o-(s=i.radius+f/2)<t?o-s:t,e=e<o+s?o+s:e,r=a-(u=i.radius+f/2)<r?a-u:r,n=n<a+u?a+u:n;else if(c===E.SHAPES.ELIP)o=i.x,a=i.y,t=o-(s=i.width+f/2)<t?o-s:t,e=e<o+s?o+s:e,r=a-(u=i.height+f/2)<r?a-u:r,n=n<a+u?a+u:n;else for(var d=i.points,p=0,_=0,v=0,g=0,m=0,y=0,b=0,x=0,T=0;T+2<d.length;T+=2)o=d[T],a=d[T+1],p=d[T+2],_=d[T+3],v=Math.abs(p-o),g=Math.abs(_-a),u=f,(s=Math.sqrt(v*v+g*g))<1e-9||(t=(b=(p+o)/2)-(m=(u/s*g+v)/2)<t?b-m:t,e=e<b+m?b+m:e,r=(x=(_+a)/2)-(y=(u/s*v+g)/2)<r?x-y:r,n=n<x+y?x+y:n)}else n=r=e=t=0;var w=this.boundsPadding;this._localBounds.minX=t-w,this._localBounds.maxX=e+2*w,this._localBounds.minY=r-w,this._localBounds.maxY=n+2*w},x.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new i.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===E.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},x.prototype.generateCanvasTexture=function(t,e){var r=1<arguments.length&&void 0!==e?e:1,n=this.getLocalBounds(),i=a.default.create(n.width,n.height,t,r);_=_||new f.default,this.transform.updateLocalTransform(),this.transform.localTransform.copy(v),v.invert(),v.tx-=n.x,v.ty-=n.y,_.render(this,i,!0,v);var o=s.default.fromCanvas(i.baseTexture._canvasRenderTarget.canvas,t,"graphics");return o.baseTexture.resolution=r,o.baseTexture.update(),o},x.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},x.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},x.prototype.destroy=function(t){p.prototype.destroy.call(this,t);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();for(var r in this._webgl)for(var n=0;n<this._webgl[r].data.length;++n)this._webgl[r].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},x);function x(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,x);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,p.call(this));return e.fillAlpha=1,e.lineWidth=0,e.nativeLines=t,e.lineColor=0,e.graphicsData=[],e.tint=16777215,e._prevTint=16777215,e.blendMode=E.BLEND_MODES.NORMAL,e.currentPath=null,e._webGL={},e.isMask=!1,e.boundsPadding=0,e._localBounds=new h.default,e.dirty=0,e.fastRectDirty=-1,e.clearDirty=0,e.boundsDirty=-1,e.cachedSpriteDirty=!1,e._spriteRect=null,e._fastRect=!1,e}(r.default=b)._SPRITE_TEXTURE=null},{"../const":45,"../display/Bounds":46,"../display/Container":47,"../math":69,"../renderers/canvas/CanvasRenderer":76,"../sprites/Sprite":101,"../textures/RenderTexture":112,"../textures/Texture":114,"../utils":123,"./GraphicsData":53,"./utils/bezierCurveTo":55}],53:[function(t,e,r){"use strict";r.__esModule=!0;var n=(u.prototype.clone=function(){return new u(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},u.prototype.addHole=function(t){this.holes.push(t)},u.prototype.destroy=function(){this.shape=null,this.holes=null},u);function u(t,e,r,n,i,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.lineWidth=t,this.nativeLines=a,this.lineColor=e,this.lineAlpha=r,this._lineTint=e,this.fillColor=n,this.fillAlpha=i,this._fillTint=n,this.fill=o,this.holes=[],this.shape=s,this.type=s.type}r.default=n},{}],54:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("../../renderers/canvas/CanvasRenderer"),o=(n=i)&&n.__esModule?n:{default:n},A=t("../../const");var a=(s.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var s=t.graphicsData[a],u=s.shape,l=s._fillTint,h=s._lineTint;if(r.lineWidth=s.lineWidth,s.type===A.SHAPES.POLY){r.beginPath(),this.renderPolygon(u.points,u.closed,r);for(var c=0;c<s.holes.length;c++)this.renderPolygon(s.holes[c].points,!0,r);s.fill&&(r.globalAlpha=s.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),s.lineWidth&&(r.globalAlpha=s.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke())}else if(s.type===A.SHAPES.RECT)!s.fillColor&&0!==s.fillColor||(r.globalAlpha=s.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(u.x,u.y,u.width,u.height)),s.lineWidth&&(r.globalAlpha=s.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.strokeRect(u.x,u.y,u.width,u.height));else if(s.type===A.SHAPES.CIRC)r.beginPath(),r.arc(u.x,u.y,u.radius,0,2*Math.PI),r.closePath(),s.fill&&(r.globalAlpha=s.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),s.lineWidth&&(r.globalAlpha=s.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke());else if(s.type===A.SHAPES.ELIP){var f=2*u.width,d=2*u.height,p=u.x-f/2,_=u.y-d/2;r.beginPath();var v=f/2*.5522848,g=d/2*.5522848,m=p+f,y=_+d,b=p+f/2,x=_+d/2;r.moveTo(p,x),r.bezierCurveTo(p,x-g,b-v,_,b,_),r.bezierCurveTo(b+v,_,m,x-g,m,x),r.bezierCurveTo(m,x+g,b+v,y,b,y),r.bezierCurveTo(b-v,y,p,x+g,p,x),r.closePath(),s.fill&&(r.globalAlpha=s.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),s.lineWidth&&(r.globalAlpha=s.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke())}else if(s.type===A.SHAPES.RREC){var T=u.x,w=u.y,E=u.width,S=u.height,P=u.radius,M=Math.min(E,S)/2|0;P=M<P?M:P,r.beginPath(),r.moveTo(T,w+P),r.lineTo(T,w+S-P),r.quadraticCurveTo(T,w+S,T+P,w+S),r.lineTo(T+E-P,w+S),r.quadraticCurveTo(T+E,w+S,T+E,w+S-P),r.lineTo(T+E,w+P),r.quadraticCurveTo(T+E,w,T+E-P,w),r.lineTo(T+P,w),r.quadraticCurveTo(T,w,T,w+P),r.closePath(),!s.fillColor&&0!==s.fillColor||(r.globalAlpha=s.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),s.lineWidth&&(r.globalAlpha=s.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke())}}},s.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255}},s.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},s.prototype.destroy=function(){this.renderer=null},s);function s(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.renderer=t}r.default=a,o.default.registerPlugin("graphics",a)},{"../../const":45,"../../renderers/canvas/CanvasRenderer":76}],55:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e,r,n,i,o,a,s){var u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:[],l=0,h=0,c=0,f=0,d=0;u.push(t,e);for(var p=1,_=0;p<=20;++p)c=(h=(l=1-(_=p/20))*l)*l,d=(f=_*_)*_,u.push(c*t+3*h*_*r+3*l*f*i+d*a,c*e+3*h*_*n+3*l*f*o+d*s);return u}},{}],56:[function(t,e,r){"use strict";r.__esModule=!0;var l=t("../../utils"),h=t("../../const"),n=s(t("../../renderers/webgl/utils/ObjectRenderer")),i=s(t("../../renderers/webgl/WebGLRenderer")),o=s(t("./WebGLGraphicsData")),a=s(t("./shaders/PrimitiveShader")),c=s(t("./utils/buildPoly")),f=s(t("./utils/buildRectangle")),d=s(t("./utils/buildRoundedRectangle")),p=s(t("./utils/buildCircle"));function s(t){return t&&t.__esModule?t:{default:t}}var u,_=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(v,u=n.default),v.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new a.default(this.gl)},v.prototype.destroy=function(){n.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},v.prototype.render=function(t){var e=this.renderer,r=e.gl,n=void 0,i=t._webGL[this.CONTEXT_UID];i&&t.dirty===i.dirty||(this.updateGraphics(t),i=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var a=0,s=i.data.length;a<s;a++){var u=(n=i.data[a]).shader;e.bindShader(u),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.tint=(0,l.hex2rgb)(t.tint),u.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),n.nativeLines?r.drawArrays(r.LINES,0,n.points.length/6):n.vao.draw(r.TRIANGLE_STRIP,n.indices.length)}},v.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if((r=r||(t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1})).dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var i=void 0,o=void 0,a=r.lastIndex;a<t.graphicsData.length;a++){var s=t.graphicsData[a];i=this.getWebGLData(r,0),s.nativeLines&&s.lineWidth&&(o=this.getWebGLData(r,0,!0),r.lastIndex++),s.type===h.SHAPES.POLY&&(0,c.default)(s,i,o),s.type===h.SHAPES.RECT?(0,f.default)(s,i,o):s.type===h.SHAPES.CIRC||s.type===h.SHAPES.ELIP?(0,p.default)(s,i,o):s.type===h.SHAPES.RREC&&(0,d.default)(s,i,o),r.lastIndex++}this.renderer.bindVao(null);for(var u=0;u<r.data.length;u++)(i=r.data[u]).dirty&&i.upload()},v.prototype.getWebGLData=function(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||32e4<n.points.length)&&((n=this.graphicsDataPool.pop()||new o.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n},v);function v(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,u.call(this,t));return e.graphicsDataPool=[],e.primitiveShader=null,e.gl=t.gl,e.CONTEXT_UID=0,e}r.default=_,i.default.registerPlugin("graphics",_)},{"../../const":45,"../../renderers/webgl/WebGLRenderer":83,"../../renderers/webgl/utils/ObjectRenderer":93,"../../utils":123,"./WebGLGraphicsData":57,"./shaders/PrimitiveShader":58,"./utils/buildCircle":59,"./utils/buildPoly":61,"./utils/buildRectangle":62,"./utils/buildRoundedRectangle":63}],57:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("pixi-gl-core"),o=(n=i)&&n.__esModule?n:{default:n};var a=(s.prototype.reset=function(){this.points.length=0,this.indices.length=0},s.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},s.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},s);function s(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=e,this.vao=new o.default.VertexArrayObject(t,r).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,e.attributes.aColor,t.FLOAT,!1,24,8)}r.default=a},{"pixi-gl-core":12}],58:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("../../../Shader"),o=(n=i)&&n.__esModule?n:{default:n};var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=o.default),u);function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}r.default=s},{"../../../Shader":43}],59:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e,r){var n=t.shape,i=n.x,o=n.y,a=void 0,s=void 0;s=t.type===T.SHAPES.CIRC?(a=n.radius,n.radius):(a=n.width,n.height);if(0===a||0===s)return;var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),l=2*Math.PI/u;if(t.fill){var h=(0,w.hex2rgb)(t.fillColor),c=t.fillAlpha,f=h[0]*c,d=h[1]*c,p=h[2]*c,_=e.points,v=e.indices,g=_.length/6;v.push(g);for(var m=0;m<u+1;m++)_.push(i,o,f,d,p,c),_.push(i+Math.sin(l*m)*a,o+Math.cos(l*m)*s,f,d,p,c),v.push(g++,g++);v.push(g-1)}if(t.lineWidth){var y=t.points;t.points=[];for(var b=0;b<u+1;b++)t.points.push(i+Math.sin(l*b)*a,o+Math.cos(l*b)*s);(0,x.default)(t,e,r),t.points=y}};var n,i=t("./buildLine"),x=(n=i)&&n.__esModule?n:{default:n},T=t("../../../const"),w=t("../../../utils")},{"../../../const":45,"../../../utils":123,"./buildLine":60}],60:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,n=t.points;if(0===n.length)return;var i=e.points,o=n.length/2,a=(0,W.hex2rgb)(t.lineColor),s=t.lineAlpha,u=a[0]*s,l=a[1]*s,h=a[2]*s;for(r=1;r<o;r++){var c=n[2*(r-1)],f=n[2*(r-1)+1],d=n[2*r],p=n[2*r+1];i.push(c,f),i.push(u,l,h,s),i.push(d,p),i.push(u,l,h,s)}}(t,r):function(t,e){var r=t.points;if(0===r.length)return;var n=new X.Point(r[0],r[1]),i=new X.Point(r[r.length-2],r[r.length-1]);if(n.x===i.x&&n.y===i.y){(r=r.slice()).pop(),r.pop();var o=(i=new X.Point(r[r.length-2],r[r.length-1])).x+.5*(n.x-i.x),a=i.y+.5*(n.y-i.y);r.unshift(o,a),r.push(o,a)}var s=e.points,u=e.indices,l=r.length/2,h=r.length,c=s.length/6,f=t.lineWidth/2,d=(0,W.hex2rgb)(t.lineColor),p=t.lineAlpha,_=d[0]*p,v=d[1]*p,g=d[2]*p,m=r[0],y=r[1],b=r[2],x=r[3],T=0,w=0,E=-(y-x),S=m-b,P=0,M=0,A=0,C=0,R=Math.sqrt(E*E+S*S);E/=R,S/=R,E*=f,S*=f,s.push(m-E,y-S,_,v,g,p),s.push(m+E,y+S,_,v,g,p);for(var O=1;O<l-1;++O){m=r[2*(O-1)],y=r[2*(O-1)+1],b=r[2*O],x=r[2*O+1],T=r[2*(O+1)],w=r[2*(O+1)+1],E=-(y-x),S=m-b,R=Math.sqrt(E*E+S*S),E/=R,S/=R,E*=f,S*=f,P=-(x-w),M=b-T,R=Math.sqrt(P*P+M*M),P/=R,M/=R;var I=-S+y-(-S+x),D=-E+b-(-E+m),j=(-E+m)*(-S+x)-(-E+b)*(-S+y),k=-(M*=f)+w-(-M+x),L=-(P*=f)+b-(-P+T),N=(-P+T)*(-M+x)-(-P+b)*(-M+w),F=I*L-k*D;if(Math.abs(F)<.1)F+=10.1,s.push(b-E,x-S,_,v,g,p),s.push(b+E,x+S,_,v,g,p);else{var U=(D*N-L*j)/F,B=(k*j-I*N)/F;196*f*f<(U-b)*(U-b)+(B-x)*(B-x)?(A=E-P,C=S-M,R=Math.sqrt(A*A+C*C),A/=R,C/=R,A*=f,C*=f,s.push(b-A,x-C),s.push(_,v,g,p),s.push(b+A,x+C),s.push(_,v,g,p),s.push(b-A,x-C),s.push(_,v,g,p),h++):(s.push(U,B),s.push(_,v,g,p),s.push(b-(U-b),x-(B-x)),s.push(_,v,g,p))}}m=r[2*(l-2)],y=r[2*(l-2)+1],b=r[2*(l-1)],x=r[2*(l-1)+1],E=-(y-x),S=m-b,R=Math.sqrt(E*E+S*S),E/=R,S/=R,E*=f,S*=f,s.push(b-E,x-S),s.push(_,v,g,p),s.push(b+E,x+S),s.push(_,v,g,p),u.push(c);for(var V=0;V<h;++V)u.push(c++);u.push(c-1)}(t,e)};var X=t("../../../math"),W=t("../../../utils")},{"../../../math":69,"../../../utils":123}],61:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e,r){t.points=t.shape.points.slice();var n=t.points;if(t.fill&&6<=n.length){for(var i=[],o=t.holes,a=0;a<o.length;a++){var s=o[a];i.push(n.length/2),n=n.concat(s.points)}var u=e.points,l=e.indices,h=n.length/2,c=(0,x.hex2rgb)(t.fillColor),f=t.fillAlpha,d=c[0]*f,p=c[1]*f,_=c[2]*f,v=(0,T.default)(n,i,2);if(!v)return;for(var g=u.length/6,m=0;m<v.length;m+=3)l.push(v[m]+g),l.push(v[m]+g),l.push(v[m+1]+g),l.push(v[m+2]+g),l.push(v[m+2]+g);for(var y=0;y<h;y++)u.push(n[2*y],n[2*y+1],d,p,_,f)}0<t.lineWidth&&(0,b.default)(t,e,r)};var b=n(t("./buildLine")),x=t("../../../utils"),T=n(t("earcut"));function n(t){return t&&t.__esModule?t:{default:t}}},{"../../../utils":123,"./buildLine":60,earcut:2}],62:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e,r){var n=t.shape,i=n.x,o=n.y,a=n.width,s=n.height;if(t.fill){var u=(0,m.hex2rgb)(t.fillColor),l=t.fillAlpha,h=u[0]*l,c=u[1]*l,f=u[2]*l,d=e.points,p=e.indices,_=d.length/6;d.push(i,o),d.push(h,c,f,l),d.push(i+a,o),d.push(h,c,f,l),d.push(i,o+s),d.push(h,c,f,l),d.push(i+a,o+s),d.push(h,c,f,l),p.push(_,_,1+_,2+_,3+_,3+_)}if(t.lineWidth){var v=t.points;t.points=[i,o,i+a,o,i+a,o+s,i,o+s,i,o],(0,g.default)(t,e,r),t.points=v}};var n,i=t("./buildLine"),g=(n=i)&&n.__esModule?n:{default:n},m=t("../../../utils")},{"../../../utils":123,"./buildLine":60}],63:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e,r){var n=t.shape,i=n.x,o=n.y,a=n.width,s=n.height,u=n.radius,l=[];if(l.push(i,o+u),M(i,o+s-u,i,o+s,i+u,o+s,l),M(i+a-u,o+s,i+a,o+s,i+a,o+s-u,l),M(i+a,o+u,i+a,o,i+a-u,o,l),M(i+u,o,i,o,i,o+u+1e-10,l),t.fill){for(var h=(0,P.hex2rgb)(t.fillColor),c=t.fillAlpha,f=h[0]*c,d=h[1]*c,p=h[2]*c,_=e.points,v=e.indices,g=_.length/6,m=(0,E.default)(l,null,2),y=0,b=m.length;y<b;y+=3)v.push(m[y]+g),v.push(m[y]+g),v.push(m[y+1]+g),v.push(m[y+2]+g),v.push(m[y+2]+g);for(var x=0,T=l.length;x<T;x++)_.push(l[x],l[++x],f,d,p,c)}if(t.lineWidth){var w=t.points;t.points=l,(0,S.default)(t,e,r),t.points=w}};var E=n(t("earcut")),S=n(t("./buildLine")),P=t("../../../utils");function n(t){return t&&t.__esModule?t:{default:t}}function v(t,e,r){return t+(e-t)*r}function M(t,e,r,n,i,o,a){for(var s=6<arguments.length&&void 0!==a?a:[],u=0,l=0,h=0,c=0,f=0,d=0,p=0,_=0;p<=20;++p)u=v(t,r,_=p/20),l=v(e,n,_),h=v(r,i,_),c=v(n,o,_),f=v(u,h,_),d=v(l,c,_),s.push(f,d);return s}},{"../../../utils":123,"./buildLine":60,earcut:2}],64:[function(t,e,r){"use strict";r.__esModule=!0,r.autoDetectRenderer=r.Application=r.Filter=r.SpriteMaskFilter=r.Quad=r.RenderTarget=r.ObjectRenderer=r.WebGLManager=r.Shader=r.CanvasRenderTarget=r.TextureUvs=r.VideoBaseTexture=r.BaseRenderTexture=r.RenderTexture=r.BaseTexture=r.Texture=r.Spritesheet=r.CanvasGraphicsRenderer=r.GraphicsRenderer=r.GraphicsData=r.Graphics=r.TextMetrics=r.TextStyle=r.Text=r.SpriteRenderer=r.CanvasTinter=r.CanvasSpriteRenderer=r.Sprite=r.TransformBase=r.TransformStatic=r.Transform=r.Container=r.DisplayObject=r.Bounds=r.glCore=r.WebGLRenderer=r.CanvasRenderer=r.ticker=r.utils=r.settings=void 0;var n=t("./const");Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return n[t]}})});var i=t("./math");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("pixi-gl-core");Object.defineProperty(r,"glCore",{enumerable:!0,get:function(){return G(o).default}});var a=t("./display/Bounds");Object.defineProperty(r,"Bounds",{enumerable:!0,get:function(){return G(a).default}});var s=t("./display/DisplayObject");Object.defineProperty(r,"DisplayObject",{enumerable:!0,get:function(){return G(s).default}});var u=t("./display/Container");Object.defineProperty(r,"Container",{enumerable:!0,get:function(){return G(u).default}});var l=t("./display/Transform");Object.defineProperty(r,"Transform",{enumerable:!0,get:function(){return G(l).default}});var h=t("./display/TransformStatic");Object.defineProperty(r,"TransformStatic",{enumerable:!0,get:function(){return G(h).default}});var c=t("./display/TransformBase");Object.defineProperty(r,"TransformBase",{enumerable:!0,get:function(){return G(c).default}});var f=t("./sprites/Sprite");Object.defineProperty(r,"Sprite",{enumerable:!0,get:function(){return G(f).default}});var d=t("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(r,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return G(d).default}});var p=t("./sprites/canvas/CanvasTinter");Object.defineProperty(r,"CanvasTinter",{enumerable:!0,get:function(){return G(p).default}});var _=t("./sprites/webgl/SpriteRenderer");Object.defineProperty(r,"SpriteRenderer",{enumerable:!0,get:function(){return G(_).default}});var v=t("./text/Text");Object.defineProperty(r,"Text",{enumerable:!0,get:function(){return G(v).default}});var g=t("./text/TextStyle");Object.defineProperty(r,"TextStyle",{enumerable:!0,get:function(){return G(g).default}});var m=t("./text/TextMetrics");Object.defineProperty(r,"TextMetrics",{enumerable:!0,get:function(){return G(m).default}});var y=t("./graphics/Graphics");Object.defineProperty(r,"Graphics",{enumerable:!0,get:function(){return G(y).default}});var b=t("./graphics/GraphicsData");Object.defineProperty(r,"GraphicsData",{enumerable:!0,get:function(){return G(b).default}});var x=t("./graphics/webgl/GraphicsRenderer");Object.defineProperty(r,"GraphicsRenderer",{enumerable:!0,get:function(){return G(x).default}});var T=t("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(r,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return G(T).default}});var w=t("./textures/Spritesheet");Object.defineProperty(r,"Spritesheet",{enumerable:!0,get:function(){return G(w).default}});var E=t("./textures/Texture");Object.defineProperty(r,"Texture",{enumerable:!0,get:function(){return G(E).default}});var S=t("./textures/BaseTexture");Object.defineProperty(r,"BaseTexture",{enumerable:!0,get:function(){return G(S).default}});var P=t("./textures/RenderTexture");Object.defineProperty(r,"RenderTexture",{enumerable:!0,get:function(){return G(P).default}});var M=t("./textures/BaseRenderTexture");Object.defineProperty(r,"BaseRenderTexture",{enumerable:!0,get:function(){return G(M).default}});var A=t("./textures/VideoBaseTexture");Object.defineProperty(r,"VideoBaseTexture",{enumerable:!0,get:function(){return G(A).default}});var C=t("./textures/TextureUvs");Object.defineProperty(r,"TextureUvs",{enumerable:!0,get:function(){return G(C).default}});var R=t("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(r,"CanvasRenderTarget",{enumerable:!0,get:function(){return G(R).default}});var O=t("./Shader");Object.defineProperty(r,"Shader",{enumerable:!0,get:function(){return G(O).default}});var I=t("./renderers/webgl/managers/WebGLManager");Object.defineProperty(r,"WebGLManager",{enumerable:!0,get:function(){return G(I).default}});var D=t("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(r,"ObjectRenderer",{enumerable:!0,get:function(){return G(D).default}});var j=t("./renderers/webgl/utils/RenderTarget");Object.defineProperty(r,"RenderTarget",{enumerable:!0,get:function(){return G(j).default}});var k=t("./renderers/webgl/utils/Quad");Object.defineProperty(r,"Quad",{enumerable:!0,get:function(){return G(k).default}});var L=t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(r,"SpriteMaskFilter",{enumerable:!0,get:function(){return G(L).default}});var N=t("./renderers/webgl/filters/Filter");Object.defineProperty(r,"Filter",{enumerable:!0,get:function(){return G(N).default}});var F=t("./Application");Object.defineProperty(r,"Application",{enumerable:!0,get:function(){return G(F).default}});var U=t("./autoDetectRenderer");Object.defineProperty(r,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var B=Y(t("./utils")),V=Y(t("./ticker")),X=G(t("./settings")),W=G(t("./renderers/canvas/CanvasRenderer")),H=G(t("./renderers/webgl/WebGLRenderer"));function Y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function G(t){return t&&t.__esModule?t:{default:t}}r.settings=X.default,r.utils=B,r.ticker=V,r.CanvasRenderer=W.default,r.WebGLRenderer=H.default},{"./Application":42,"./Shader":43,"./autoDetectRenderer":44,"./const":45,"./display/Bounds":46,"./display/Container":47,"./display/DisplayObject":48,"./display/Transform":49,"./display/TransformBase":50,"./display/TransformStatic":51,"./graphics/Graphics":52,"./graphics/GraphicsData":53,"./graphics/canvas/CanvasGraphicsRenderer":54,"./graphics/webgl/GraphicsRenderer":56,"./math":69,"./renderers/canvas/CanvasRenderer":76,"./renderers/canvas/utils/CanvasRenderTarget":78,"./renderers/webgl/WebGLRenderer":83,"./renderers/webgl/filters/Filter":85,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":88,"./renderers/webgl/managers/WebGLManager":92,"./renderers/webgl/utils/ObjectRenderer":93,"./renderers/webgl/utils/Quad":94,"./renderers/webgl/utils/RenderTarget":95,"./settings":100,"./sprites/Sprite":101,"./sprites/canvas/CanvasSpriteRenderer":102,"./sprites/canvas/CanvasTinter":103,"./sprites/webgl/SpriteRenderer":105,"./text/Text":107,"./text/TextMetrics":108,"./text/TextStyle":109,"./textures/BaseRenderTexture":110,"./textures/BaseTexture":111,"./textures/RenderTexture":112,"./textures/Spritesheet":113,"./textures/Texture":114,"./textures/TextureUvs":115,"./textures/VideoBaseTexture":116,"./ticker":119,"./utils":123,"pixi-gl-core":12}],65:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("./Matrix"),h=(n=i)&&n.__esModule?n:{default:n};var c=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],f=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],d=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],p=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],_=[],v=[];function g(t){return t<0?-1:0<t?1:0}!function(){for(var t=0;t<16;t++){var e=[];v.push(e);for(var r=0;r<16;r++)for(var n=g(c[t]*c[r]+d[t]*f[r]),i=g(f[t]*c[r]+p[t]*f[r]),o=g(c[t]*d[r]+d[t]*p[r]),a=g(f[t]*d[r]+p[t]*p[r]),s=0;s<16;s++)if(c[s]===n&&f[s]===i&&d[s]===o&&p[s]===a){e.push(s);break}}for(var u=0;u<16;u++){var l=new h.default;l.set(c[u],f[u],d[u],p[u],0,0),_.push(l)}}();var s={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return c[t]},uY:function(t){return f[t]},vX:function(t){return d[t]},vY:function(t){return p[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return v[t][e]},sub:function(t,e){return v[t][s.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?s.S:s.N:2*Math.abs(e)<=Math.abs(t)?0<t?s.E:s.W:0<e?0<t?s.SE:s.SW:0<t?s.NE:s.NW},matrixAppendRotationInv:function(t,e,r,n){var i=2<arguments.length&&void 0!==r?r:0,o=3<arguments.length&&void 0!==n?n:0,a=_[s.inv(e)];a.tx=i,a.ty=o,t.append(a)}};r.default=s},{"./Matrix":66}],66:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=t("./Point"),s=(o=a)&&o.__esModule?o:{default:o};var u=(l.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},l.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},l.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0),r[8]=1,r},l.prototype.apply=function(t,e){e=e||new s.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},l.prototype.applyInverse=function(t,e){e=e||new s.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},l.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},l.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},l.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},l.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},l.prototype.setTransform=function(t,e,r,n,i,o,a,s,u){var l=Math.sin(a),h=Math.cos(a),c=Math.cos(u),f=Math.sin(u),d=-Math.sin(s),p=Math.cos(s),_=h*i,v=l*i,g=-l*o,m=h*o;return this.a=c*_+f*g,this.b=c*v+f*m,this.c=d*_+p*g,this.d=d*v+p*m,this.tx=t+(r*_+n*g),this.ty=e+(r*v+n*m),this},l.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},l.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),a=Math.atan2(r,e);return Math.abs(o+a)<1e-5?(t.rotation=a,e<0&&0<=i&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},l.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},l.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},l.prototype.clone=function(){var t=new l;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},l.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n(l,null,[{key:"IDENTITY",get:function(){return new l}},{key:"TEMP_MATRIX",get:function(){return new l}}]),l);function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this.array=null}r.default=u},{"./Point":68}],67:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=(a.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},a.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},n(a,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),a);function a(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this._x=r,this._y=n,this.cb=t,this.scope=e}r.default=o},{}],68:[function(t,e,r){"use strict";r.__esModule=!0;var n=(i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copy=function(t){this.set(t.x,t.y)},i.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},i.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},i);function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.x=t,this.y=e}r.default=n},{}],69:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./Point");Object.defineProperty(r,"Point",{enumerable:!0,get:function(){return f(n).default}});var i=t("./ObservablePoint");Object.defineProperty(r,"ObservablePoint",{enumerable:!0,get:function(){return f(i).default}});var o=t("./Matrix");Object.defineProperty(r,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var a=t("./GroupD8");Object.defineProperty(r,"GroupD8",{enumerable:!0,get:function(){return f(a).default}});var s=t("./shapes/Circle");Object.defineProperty(r,"Circle",{enumerable:!0,get:function(){return f(s).default}});var u=t("./shapes/Ellipse");Object.defineProperty(r,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var l=t("./shapes/Polygon");Object.defineProperty(r,"Polygon",{enumerable:!0,get:function(){return f(l).default}});var h=t("./shapes/Rectangle");Object.defineProperty(r,"Rectangle",{enumerable:!0,get:function(){return f(h).default}});var c=t("./shapes/RoundedRectangle");function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},{"./GroupD8":65,"./Matrix":66,"./ObservablePoint":67,"./Point":68,"./shapes/Circle":70,"./shapes/Ellipse":71,"./shapes/Polygon":72,"./shapes/Rectangle":73,"./shapes/RoundedRectangle":74}],70:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("./Rectangle"),o=(n=i)&&n.__esModule?n:{default:n},a=t("../../const");var s=(u.prototype.clone=function(){return new u(this.x,this.y,this.radius)},u.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},u.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.x=t,this.y=e,this.radius=r,this.type=a.SHAPES.CIRC}r.default=s},{"../../const":45,"./Rectangle":73}],71:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("./Rectangle"),o=(n=i)&&n.__esModule?n:{default:n},a=t("../../const");var s=(u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height)},u.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},u.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.x=t,this.y=e,this.width=r,this.height=n,this.type=a.SHAPES.ELIP}r.default=s},{"../../const":45,"./Rectangle":73}],72:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("../Point"),a=(n=i)&&n.__esModule?n:{default:n},s=t("../../const");var o=(u.prototype.clone=function(){return new u(this.points.slice())},u.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},u.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];e<s!=e<l&&t<(e-s)/(l-s)*(u-a)+a&&(r=!r)}return r},u);function u(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Array.isArray(e[0])&&(e=e[0]),e[0]instanceof a.default){for(var n=[],i=0,o=e.length;i<o;i++)n.push(e[i].x,e[i].y);e=n}this.closed=!0,this.points=e,this.type=s.SHAPES.POLY}r.default=o},{"../../const":45,"../Point":68}],73:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=t("../../const");var a=(s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height)},s.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},s.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},s.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},s.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},s.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},n(s,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new s(0,0,0,0)}}]),s);function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.x=t,this.y=e,this.width=r,this.height=n,this.type=o.SHAPES.RECT}r.default=a},{"../../const":45}],74:[function(t,e,r){"use strict";r.__esModule=!0;var o=t("../../const");var n=(a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.radius)},a.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.x=t,this.y=e,this.width=r,this.height=n,this.radius=i,this.type=o.SHAPES.RREC}r.default=n},{"../../const":45}],75:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=t("../utils"),a=t("../math"),s=t("../const"),u=f(t("../settings")),l=f(t("../display/Container")),h=f(t("../textures/RenderTexture")),c=f(t("eventemitter3"));function f(t){return t&&t.__esModule?t:{default:t}}var d,p=new a.Matrix,_=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(v,d=c.default),v.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},v.prototype.generateTexture=function(t,e,r){var n=t.getLocalBounds(),i=h.default.create(0|n.width,0|n.height,e,r);return p.tx=-n.x,p.ty=-n.y,this.render(t,i,!1,p,!0),i},v.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this.backgroundColor=0,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(v,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,o.hex2string)(t),(0,o.hex2rgb)(t,this._backgroundColorRgba)}}]),v);function v(t,e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,d.call(this));return(0,o.sayHello)(t),"number"==typeof e&&(e=Object.assign({width:e,height:r||u.default.RENDER_OPTIONS.height},n)),e=Object.assign({},u.default.RENDER_OPTIONS,e),i.options=e,i.type=s.RENDERER_TYPE.UNKNOWN,i.screen=new a.Rectangle(0,0,e.width,e.height),i.view=e.view||document.createElement("canvas"),i.resolution=e.resolution||u.default.RESOLUTION,i.transparent=e.transparent,i.autoResize=e.autoResize||!1,i.blendModes=null,i.preserveDrawingBuffer=e.preserveDrawingBuffer,i.clearBeforeRender=e.clearBeforeRender,i.roundPixels=e.roundPixels,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=e.backgroundColor||i._backgroundColor,i._tempDisplayObjectParent=new l.default,i._lastObjectRendered=i._tempDisplayObjectParent,i}r.default=_},{"../const":45,"../display/Container":47,"../math":69,"../settings":100,"../textures/RenderTexture":112,"../utils":123,eventemitter3:3}],76:[function(t,e,r){"use strict";r.__esModule=!0;var n=u(t("../SystemRenderer")),i=u(t("./utils/CanvasMaskManager")),h=u(t("./utils/CanvasRenderTarget")),o=u(t("./utils/mapCanvasBlendModesToPixi")),a=t("../../utils"),c=t("../../const"),s=u(t("../../settings"));function u(t){return t&&t.__esModule?t:{default:t}}var l,f=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,l=n.default),d.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new h.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!i){var s=t.parent,u=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(u),this._tempDisplayObjectParent.transform._worldID=-1):u.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,a.globalCompositeOperation=this.blendModes[c.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var l=this.context;this.context=a,t.renderCanvas(this),this.context=l,this.resolution=o,this.emit("postrender")}},d.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},d.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},d.prototype.destroy=function(t){this.destroyPlugins(),l.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},d.prototype.resize=function(t,e){l.prototype.resize.call(this,t,e),this.smoothProperty&&(this.rootContext[this.smoothProperty]=s.default.SCALE_MODE===c.SCALE_MODES.LINEAR)},d);function d(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,l.call(this,"Canvas",t,e,r));return n.type=c.RENDERER_TYPE.CANVAS,n.rootContext=n.view.getContext("2d",{alpha:n.transparent}),n.refresh=!0,n.maskManager=new i.default(n),n.smoothProperty="imageSmoothingEnabled",n.rootContext.imageSmoothingEnabled||(n.rootContext.webkitImageSmoothingEnabled?n.smoothProperty="webkitImageSmoothingEnabled":n.rootContext.mozImageSmoothingEnabled?n.smoothProperty="mozImageSmoothingEnabled":n.rootContext.oImageSmoothingEnabled?n.smoothProperty="oImageSmoothingEnabled":n.rootContext.msImageSmoothingEnabled&&(n.smoothProperty="msImageSmoothingEnabled")),n.initPlugins(),n.blendModes=(0,o.default)(),n._activeBlendMode=null,n.context=null,n.renderingToScreen=!1,n.resize(n.options.width,n.options.height),n}r.default=f,a.pluginTarget.mixin(f)},{"../../const":45,"../../settings":100,"../../utils":123,"../SystemRenderer":75,"./utils/CanvasMaskManager":77,"./utils/CanvasRenderTarget":78,"./utils/mapCanvasBlendModesToPixi":80}],77:[function(t,e,r){"use strict";r.__esModule=!0;var E=t("../../../const");var n=(i.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},i.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var i=t.graphicsData[n],o=i.shape;if(i.type===E.SHAPES.POLY){var a=o.points;e.moveTo(a[0],a[1]);for(var s=1;s<a.length/2;s++)e.lineTo(a[2*s],a[2*s+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(i.type===E.SHAPES.RECT)e.rect(o.x,o.y,o.width,o.height),e.closePath();else if(i.type===E.SHAPES.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath();else if(i.type===E.SHAPES.ELIP){var u=2*o.width,l=2*o.height,h=o.x-u/2,c=o.y-l/2,f=u/2*.5522848,d=l/2*.5522848,p=h+u,_=c+l,v=h+u/2,g=c+l/2;e.moveTo(h,g),e.bezierCurveTo(h,g-d,v-f,c,v,c),e.bezierCurveTo(v+f,c,p,g-d,p,g),e.bezierCurveTo(p,g+d,v+f,_,v,_),e.bezierCurveTo(v-f,_,h,g+d,h,g),e.closePath()}else if(i.type===E.SHAPES.RREC){var m=o.x,y=o.y,b=o.width,x=o.height,T=o.radius,w=Math.min(b,x)/2|0;T=w<T?w:T,e.moveTo(m,y+T),e.lineTo(m,y+x-T),e.quadraticCurveTo(m,y+x,m+T,y+x),e.lineTo(m+b-T,y+x),e.quadraticCurveTo(m+b,y+x,m+b,y+x-T),e.lineTo(m+b,y+T),e.quadraticCurveTo(m+b,y,m+b-T,y),e.lineTo(m+T,y),e.quadraticCurveTo(m,y,m,y+T),e.closePath()}}}},i.prototype.popMask=function(t){t.context.restore()},i.prototype.destroy=function(){},i);function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.renderer=t}r.default=n},{"../../../const":45}],78:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=t("../../../settings"),s=(o=a)&&o.__esModule?o:{default:o};var u=(l.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},l.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},l.prototype.destroy=function(){this.context=null,this.canvas=null},n(l,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),l);function l(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||s.default.RESOLUTION,this.resize(t,e)}r.default=u},{"../../../settings":100}],79:[function(t,e,r){"use strict";function a(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}r.__esModule=!0,r.default=function(){if("undefined"==typeof document)return!1;var t=a("#ff00ff"),e=a("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var n=r.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(t,0,0),n.drawImage(e,2,0);var i=n.getImageData(2,0,1,1);if(!i)return!1;var o=i.data;return 255===o[0]&&0===o[1]&&0===o[2]}},{}],80:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,a.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over");return t};var n,i=t("../../../const"),o=t("./canUseNewCanvasBlendModes"),a=(n=o)&&n.__esModule?n:{default:n}},{"../../../const":45,"./canUseNewCanvasBlendModes":79}],81:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("../../const"),o=t("../../settings"),a=(n=o)&&n.__esModule?n:{default:n};var s=(u.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},u.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),r=!(e[n]=null))}if(r){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},u.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;0<=r;r--)this.unload(t.children[r])},u);function u(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=a.default.GC_MAX_IDLE,this.checkCountMax=a.default.GC_MAX_CHECK_COUNT,this.mode=a.default.GC_MODE}r.default=s},{"../../const":45,"../../settings":100}],82:[function(t,e,r){"use strict";r.__esModule=!0;var n,u=t("pixi-gl-core"),l=t("../../const"),i=t("./utils/RenderTarget"),h=(n=i)&&n.__esModule?n:{default:n},o=t("../../utils");var a=(s.prototype.bindTexture=function(){},s.prototype.getTexture=function(){},s.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var i=this.renderer.boundTextures;if(void 0===e)for(var o=e=0;o<i.length;++o)if(i[o]===t){e=o;break}i[e]=t,r.activeTexture(r.TEXTURE0+e);var a=t._glTextures[this.renderer.CONTEXT_UID];if(a)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):a.upload(t.source);else{if(n){var s=new h.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);s.resize(t.width,t.height),a=(t._glRenderTargets[this.renderer.CONTEXT_UID]=s).texture}else(a=new u.GLTexture(this.gl,null,null,null,null)).bind(e),a.premultiplyAlpha=!0,a.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=a,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&a.enableMipmap(),t.wrapMode===l.WRAP_MODES.CLAMP?a.enableWrapClamp():t.wrapMode===l.WRAP_MODES.REPEAT?a.enableWrapRepeat():a.enableWrapMirrorRepeat()):a.enableWrapClamp(),t.scaleMode===l.SCALE_MODES.NEAREST?a.enableNearestScaling():a.enableLinearScaling()}return a},s.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded&&t._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(t),t._glTextures[this.renderer.CONTEXT_UID].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.renderer.CONTEXT_UID],!e)){var r=this._managedTextures.indexOf(t);-1!==r&&(0,o.removeItems)(this._managedTextures,r,1)}},s.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},s.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},s);function s(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}r.default=a},{"../../const":45,"../../utils":123,"./utils/RenderTarget":95,"pixi-gl-core":12}],83:[function(t,e,r){"use strict";r.__esModule=!0;var n=m(t("../SystemRenderer")),i=m(t("./managers/MaskManager")),o=m(t("./managers/StencilManager")),a=m(t("./managers/FilterManager")),s=m(t("./utils/RenderTarget")),u=m(t("./utils/ObjectRenderer")),l=m(t("./TextureManager")),h=m(t("../../textures/BaseTexture")),c=m(t("./TextureGarbageCollector")),f=m(t("./WebGLState")),d=m(t("./utils/mapWebGLDrawModesToPixi")),p=m(t("./utils/validateContext")),_=t("../../utils"),v=m(t("pixi-gl-core")),g=t("../../const");function m(t){return t&&t.__esModule?t:{default:t}}var y,b=0,x=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(T,y=n.default),T.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new l.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new s.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new v.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new h.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},T.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},T.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},T.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},T.prototype.resize=function(t,e){n.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},T.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},T.prototype.clear=function(t){this._activeRenderTarget.clear(t)},T.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},T.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},T.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},T.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&((this._activeRenderTarget=t).activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},T.prototype.bindShader=function(t,e){return this._activeShader!==t&&((this._activeShader=t).bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},T.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},T.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},T.prototype.createVao=function(){return new v.default.VertexArrayObject(this.gl,this.state.attribState)},T.prototype.bindVao=function(t){return this._activeVao===t||(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t),this},T.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},T.prototype.handleContextLost=function(t){t.preventDefault()},T.prototype.handleContextRestored=function(){this._initContext(),this.textureManager.removeAll()},T.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),y.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},T);function T(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,T);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,y.call(this,"WebGL",t,e,r));return n.legacy=n.options.legacy,n.legacy&&(v.default.VertexArrayObject.FORCE_NATIVE=!0),n.type=g.RENDERER_TYPE.WEBGL,n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),n.view.addEventListener("webglcontextlost",n.handleContextLost,!1),n.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n._contextOptions={alpha:n.transparent,antialias:n.options.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:n.options.preserveDrawingBuffer},n._backgroundColorRgba[3]=n.transparent?0:1,n.maskManager=new i.default(n),n.stencilManager=new o.default(n),n.emptyRenderer=new u.default(n),n.currentRenderer=n.emptyRenderer,n.initPlugins(),n.options.context&&(0,p.default)(n.options.context),n.gl=n.options.context||v.default.createContext(n.view,n._contextOptions),n.CONTEXT_UID=b++,n.state=new f.default(n.gl),n.renderingToScreen=!0,n.boundTextures=null,n._activeShader=null,n._activeVao=null,n._activeRenderTarget=null,n._initContext(),n.filterManager=new a.default(n),n.drawModes=(0,d.default)(n.gl),n._nextTextureLocation=0,n.setBlendMode(0),n}r.default=x,_.pluginTarget.mixin(x)},{"../../const":45,"../../textures/BaseTexture":111,"../../utils":123,"../SystemRenderer":75,"./TextureGarbageCollector":81,"./TextureManager":82,"./WebGLState":84,"./managers/FilterManager":89,"./managers/MaskManager":90,"./managers/StencilManager":91,"./utils/ObjectRenderer":93,"./utils/RenderTarget":95,"./utils/mapWebGLDrawModesToPixi":98,"./utils/validateContext":99,"pixi-gl-core":12}],84:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("./utils/mapWebGLBlendModesToPixi"),o=(n=i)&&n.__esModule?n:{default:n};var a=(s.prototype.push=function(){var t=this.stack[this.stackIndex];t=t||(this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},s.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},s.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},s.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},s.prototype.setBlendMode=function(t){t!==this.activeState[4]&&(this.activeState[4]=t,this.gl.blendFunc(this.blendModes[t][0],this.blendModes[t][1]))},s.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},s.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},s.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},s.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},s.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},s);function s(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}r.default=a},{"./utils/mapWebGLBlendModesToPixi":97}],85:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=l(t("./extractUniformsFromSrc")),a=t("../../../utils"),s=t("../../../const"),u=l(t("../../../settings"));function l(t){return t&&t.__esModule?t:{default:t}}var h={},c=(f.prototype.apply=function(t,e,r,n){t.applyFilter(this,e,r,n)},n(f,null,[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),f);function f(t,e,r){for(var n in!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),this.vertexSrc=t||f.defaultVertexSrc,this.fragmentSrc=e||f.defaultFragmentSrc,this.blendMode=s.BLEND_MODES.NORMAL,this.uniformData=r||(0,o.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[n]=this.uniformData[n].value;this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,a.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=u.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}r.default=c},{"../../../const":45,"../../../settings":100,"../../../utils":123,"./extractUniformsFromSrc":86}],86:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e,r){var n=o(t),i=o(e);return Object.assign(n,i)};var n,i=t("pixi-gl-core");var c=((n=i)&&n.__esModule?n:{default:n}).default.shader.defaultValue;function o(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var a=i[o].trim();if(-1<a.indexOf("uniform")){var s=a.split(" "),u=s[1],l=s[2],h=1;-1<l.indexOf("[")&&(l=(n=l.split(/\[|]/))[0],h*=Number(n[1])),l.match(e)||(r[l]={value:c(u,h),name:l,type:u})}}return r}},{"pixi-gl-core":12}],87:[function(t,e,r){"use strict";r.__esModule=!0,r.calculateScreenSpaceMatrix=function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n},r.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n},r.calculateSpriteMatrix=function(t,e,r,n){var i=n.worldTransform.copy(h.Matrix.TEMP_MATRIX),o=n._texture.baseTexture,a=t.identity(),s=r.height/r.width;a.translate(e.x/r.width,e.y/r.height),a.scale(1,s);var u=r.width/o.width,l=r.height/o.height;return i.tx/=o.width*u,i.ty/=o.width*u,i.invert(),a.prepend(i),a.scale(1,1/s),a.scale(u,l),a.translate(n.anchor.x,n.anchor.y),a};var h=t("../../../math")},{"../../../math":69}],88:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("../Filter"),o=(n=i)&&n.__esModule?n:{default:n},a=t("../../../../math");t("path");var s,u=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,s=o.default),l.prototype.apply=function(t,e,r){var n=this.maskSprite;this.uniforms.mask=n._texture,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n),this.uniforms.alpha=n.worldAlpha,t.applyFilter(this,e,r)},l);function l(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var e=new a.Matrix,r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return t.renderable=!1,r.maskSprite=t,r.maskMatrix=e,r}r.default=u},{"../../../../math":69,"../Filter":85,path:23}],89:[function(t,e,r){"use strict";r.__esModule=!0;var n=h(t("./WebGLManager")),s=h(t("../utils/RenderTarget")),i=h(t("../utils/Quad")),o=t("../../../math"),u=h(t("../../../Shader")),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../filters/filterTransforms")),l=h(t("bit-twiddle"));function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(){c(this,f),this.renderTarget=null,this.sourceFrame=new o.Rectangle,this.destinationFrame=new o.Rectangle,this.filters=[],this.target=null,this.resolution=1}var d,p=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_,d=n.default),_.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index];o=o||(n.stack[n.index]=new f);var a=e[0].resolution,s=0|e[0].padding,u=t.filterArea||t.getBounds(!0),l=o.sourceFrame,h=o.destinationFrame;l.x=(u.x*a|0)/a,l.y=(u.y*a|0)/a,l.width=(u.width*a|0)/a,l.height=(u.height*a|0)/a,n.stack[0].renderTarget.transform||e[0].autoFit&&l.fit(n.stack[0].destinationFrame),l.pad(s),h.width=l.width,h.height=l.height;var c=this.getPotRenderTarget(r.gl,l.width,l.height,a);o.target=t,o.filters=e,o.resolution=a,(o.renderTarget=c).setFrame(h,l),r.bindRenderTarget(c),c.clear()},_.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var a=0;for(a=0;a<n.length-1;++a){n[a].apply(this,i,o,!0,r);var s=i;i=o,o=s}n[a].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}t.index--,0===t.index&&(this.filterData=null)},_.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a):a=t.glShaders[i.CONTEXT_UID]=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var s=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=s,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)},_.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=s}for(var u in r)if("sampler2D"===r[u].type&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===r[u].type)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===r[u].type)if(void 0!==n[u].x){var h=t.uniforms[u]||new Float32Array(2);h[0]=n[u].x,h[1]=n[u].y,t.uniforms[u]=h}else t.uniforms[u]=n[u];else"float"===r[u].type?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]},_.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},_.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},_.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return a.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},_.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return a.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},_.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return a.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},_.prototype.destroy=function(){this.shaderCache={},this.emptyPool()},_.prototype.getPotRenderTarget=function(t,e,r,n){var i=(65535&(e=l.default.nextPow2(e*n)))<<16|65535&(r=l.default.nextPow2(r*n));this.pool[i]||(this.pool[i]=[]);var o=this.pool[i].pop();if(!o){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new s.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=r/n,o},_.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},_.prototype.freePotRenderTarget=function(t){var e=(65535&t.size.width*t.resolution)<<16|65535&t.size.height*t.resolution;this.pool[e].push(t)},_);function _(t){c(this,_);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,d.call(this,t));return e.gl=e.renderer.gl,e.quad=new i.default(e.gl,t.state.attribState),e.shaderCache={},e.pool={},e.filterData=null,e}r.default=p},{"../../../Shader":43,"../../../math":69,"../filters/filterTransforms":87,"../utils/Quad":94,"../utils/RenderTarget":95,"./WebGLManager":92,"bit-twiddle":1}],90:[function(t,e,r){"use strict";r.__esModule=!0;var n=o(t("./WebGLManager")),i=o(t("../filters/spriteMask/SpriteMaskFilter"));function o(t){return t&&t.__esModule?t:{default:t}}var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=n.default),u.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},u.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},u.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];(r=r||(this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]))[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},u.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},u.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},u.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},u.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},u.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},u);function u(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,t));return e.scissor=!1,e.scissorData=null,e.scissorRenderTarget=null,e.enableScissor=!0,e.alphaMaskPool=[],e.alphaMaskIndex=0,e}r.default=s},{"../filters/spriteMask/SpriteMaskFilter":88,"./WebGLManager":92}],91:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("./WebGLManager"),o=(n=i)&&n.__esModule?n:{default:n};var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=o.default),u.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},u.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack;0===r.length&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.stencilFunc(e.ALWAYS,1,1)),r.push(t),e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,r.length),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},u.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack,r=e.pop();0===e.length?t.disable(t.STENCIL_TEST):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(r),t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.NOTEQUAL,0,e.length),t.stencilOp(t.KEEP,t.KEEP,t.KEEP))},u.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},u);function u(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,t));return e.stencilMaskStack=null,e}r.default=s},{"./WebGLManager":92}],92:[function(t,e,r){"use strict";r.__esModule=!0;var n=(i.prototype.onContextChange=function(){},i.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},i);function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.renderer=t,this.renderer.on("context",this.onContextChange,this)}r.default=n},{}],93:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("../managers/WebGLManager"),o=(n=i)&&n.__esModule?n:{default:n};var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=o.default),u.prototype.start=function(){},u.prototype.stop=function(){this.flush()},u.prototype.flush=function(){},u.prototype.render=function(){},u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.apply(this,arguments))}r.default=s},{"../managers/WebGLManager":92}],94:[function(t,e,r){"use strict";r.__esModule=!0;var n=o(t("pixi-gl-core")),i=o(t("../../../utils/createIndicesForQuads"));function o(t){return t&&t.__esModule?t:{default:t}}var a=(s.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},s.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},s.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},s.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},s);function s(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t,e)}r.default=a},{"../../../utils/createIndicesForQuads":121,"pixi-gl-core":12}],95:[function(t,e,r){"use strict";r.__esModule=!0;var n,a=t("../../../math"),s=t("../../../const"),i=t("../../../settings"),u=(n=i)&&n.__esModule?n:{default:n},l=t("pixi-gl-core");var o=(h.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},h.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},h.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t},h.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},h.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},h.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},h.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},h);function h(t,e,r,n,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new a.Rectangle(0,0,1,1),this.resolution=i||u.default.RESOLUTION,this.projectionMatrix=new a.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new a.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==n?n:u.default.SCALE_MODE,this.root=o,this.root?(this.frameBuffer=new l.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=l.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===s.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,r)}r.default=o},{"../../../const":45,"../../../math":69,"../../../settings":100,"pixi-gl-core":12}],96:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=a.default.createContext(n)}var i=e.createShader(e.FRAGMENT_SHADER);for(;;){var o=s.replace(/%forloop%/gi,u(t));if(e.shaderSource(i,o),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext();return t};var n,i=t("pixi-gl-core"),a=(n=i)&&n.__esModule?n:{default:n};var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function u(t){for(var e="",r=0;r<t;++r)0<r&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},{"pixi-gl-core":12}],97:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e};var n=t("../../../const")},{"../../../const":45}],98:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=t("../../../const")},{"../../../const":45}],99:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],100:[function(t,e,r){"use strict";r.__esModule=!0;var n=o(t("./utils/maxRecommendedTextures")),i=o(t("./utils/canUploadSameBuffer"));function o(t){return t&&t.__esModule?t:{default:t}}r.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)()}},{"./utils/canUploadSameBuffer":120,"./utils/maxRecommendedTextures":124}],101:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=t("../math"),a=t("../utils"),s=t("../const"),u=h(t("../textures/Texture")),l=h(t("../display/Container"));function h(t){return t&&t.__esModule?t:{default:t}}var c,f=new o.Point,d=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(p,c=l.default),p.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,a.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,a.sign)(this.scale.y)*this._height/this._texture.orig.height)},p.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},p.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,l=t.trim,h=t.orig,c=this._anchor,f=0,d=0,p=0,_=0;p=l?(f=(d=l.x-c._x*h.width)+l.width,(_=l.y-c._y*h.height)+l.height):(f=(d=-c._x*h.width)+h.width,(_=-c._y*h.height)+h.height),u[0]=r*d+i*_+a,u[1]=o*_+n*d+s,u[2]=r*f+i*_+a,u[3]=o*_+n*f+s,u[4]=r*f+i*p+a,u[5]=o*p+n*f+s,u[6]=r*d+i*p+a,u[7]=o*p+n*d+s}},p.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,h=i.ty,c=-n._x*r.width,f=c+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*c+s*d+l,e[1]=u*d+a*c+h,e[2]=o*f+s*d+l,e[3]=u*d+a*f+h,e[4]=o*f+s*p+l,e[5]=u*p+a*f+h,e[6]=o*c+s*p+l,e[7]=u*p+a*c+h},p.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},p.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},p.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},p.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),t||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):c.prototype.getLocalBounds.call(this,t)},p.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,f);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return f.x>n&&f.x<n+e&&(i=-r*this.anchor.y,f.y>i&&f.y<i+r)},p.prototype.destroy=function(t){if(c.prototype.destroy.call(this,t),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var e="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!e)}this._texture=null,this.shader=null},p.from=function(t){return new p(u.default.from(t))},p.fromFrame=function(t){var e=a.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new p(e)},p.fromImage=function(t,e,r){return new p(u.default.fromImage(t,e,r))},n(p,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),p);function p(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,c.call(this));return e._anchor=new o.ObservablePoint(e._onAnchorUpdate,e),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=s.BLEND_MODES.NORMAL,e.shader=null,e.cachedTint=16777215,e.texture=t||u.default.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.pluginName="sprite",e}r.default=d},{"../const":45,"../display/Container":47,"../math":69,"../textures/Texture":114,"../utils":123}],102:[function(t,e,r){"use strict";r.__esModule=!0;var n=i(t("../../renderers/canvas/CanvasRenderer")),h=t("../../const"),c=t("../../math"),f=i(t("./CanvasTinter"));function i(t){return t&&t.__esModule?t:{default:t}}var d=new c.Matrix,o=(a.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,i=e._frame.height,o=t.transform.worldTransform,a=0,s=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var u=e.baseTexture.scaleMode===h.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==u&&(r.context[r.smoothProperty]=u),s=e.trim?(a=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(a=(.5-t.anchor.x)*e.orig.width,(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(d),o=d,c.GroupD8.matrixAppendRotationInv(o,e.rotate,a,s),s=a=0),a-=n/2,s-=i/2,r.roundPixels?(r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution|0,o.ty*r.resolution|0),a|=0,s|=0):r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution,o.ty*r.resolution);var l=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=f.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*l,i*l,a*r.resolution,s*r.resolution,n*r.resolution,i*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*l,e._frame.y*l,n*l,i*l,a*r.resolution,s*r.resolution,n*r.resolution,i*r.resolution)}},a.prototype.destroy=function(){this.renderer=null},a);function a(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.renderer=t}r.default=o,n.default.registerPlugin("sprite",o)},{"../../const":45,"../../math":69,"../../renderers/canvas/CanvasRenderer":76,"./CanvasTinter":103}],103:[function(t,e,r){"use strict";r.__esModule=!0;var n,d=t("../../utils"),i=t("../../renderers/canvas/utils/canUseNewCanvasBlendModes");var a={getTintedTexture:function(t,e){var r=t._texture,n="#"+("00000"+(0|(e=a.roundColor(e))).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[n])return r.tintCache[n];var i=a.canvas||document.createElement("canvas");if(a.tintMethod(r,e,i),a.convertTintToImage){var o=new Image;o.src=i.toDataURL(),r.tintCache[n]=o}else r.tintCache[n]=i,a.canvas=null;return i},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},tintWithPerPixel:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height);for(var a=(0,d.hex2rgb)(e),s=a[0],u=a[1],l=a[2],h=n.getImageData(0,0,i.width,i.height),c=h.data,f=0;f<c.length;f+=4)c[f+0]*=s,c[f+1]*=u,c[f+2]*=l;n.putImageData(h,0,0)},roundColor:function(t){var e=a.cacheStepsPerColorChannel,r=(0,d.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,d.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((n=i)&&n.__esModule?n:{default:n}).default)(),tintMethod:0};a.tintMethod=a.canUseMultiply?a.tintWithMultiply:a.tintWithPerPixel,r.default=a},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":79,"../../utils":123}],104:[function(t,e,r){"use strict";r.__esModule=!0;var n=(i.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},i);function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}r.default=n},{}],105:[function(t,e,r){"use strict";r.__esModule=!0;var n=l(t("../../renderers/webgl/utils/ObjectRenderer")),i=l(t("../../renderers/webgl/WebGLRenderer")),o=l(t("../../utils/createIndicesForQuads")),a=l(t("./generateMultiTextureShader")),s=l(t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader")),u=l(t("./BatchBuffer")),D=l(t("../../settings")),j=l(t("pixi-gl-core")),k=l(t("bit-twiddle"));function l(t){return t&&t.__esModule?t:{default:t}}var h,L=0,N=0,c=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(f,h=n.default),f.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),D.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,s.default)(this.MAX_TEXTURES,t)),this.shader=(0,a.default)(t,this.MAX_TEXTURES),this.indexBuffer=j.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=j.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},f.prototype.onPrerender=function(){this.vertexCount=0},f.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},f.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=k.default.nextPow2(this.currentIndex),n=k.default.log2(r),i=this.buffers[n],o=this.sprites,a=this.groups,s=i.float32View,u=i.uint32View,l=this.boundTextures,h=this.renderer.boundTextures,c=this.renderer.textureGC.count,f=0,d=void 0,p=void 0,_=1,v=0,g=a[0],m=void 0,y=void 0,b=o[0].blendMode;g.textureCount=0,g.start=0,g.blend=b,L++;var x=void 0;for(x=0;x<e;++x)l[x]=h[x],l[x]._virtalBoundId=x;for(x=0;x<this.currentIndex;++x){var T=o[x];if(d=T._texture.baseTexture,b!==T.blendMode&&(b=T.blendMode,p=null,v=e,L++),p!==d&&(p=d)._enabled!==L){if(v===e&&(L++,g.size=x-g.start,v=0,(g=a[_++]).blend=b,g.textureCount=0,g.start=x),d.touched=c,-1===d._virtalBoundId)for(var w=0;w<e;++w){var E=(w+N)%e,S=l[E];if(S._enabled!==L){N++,S._virtalBoundId=-1,l[d._virtalBoundId=E]=d;break}}d._enabled=L,g.textureCount++,g.ids[v]=d._virtalBoundId,g.textures[v++]=d}if(m=T.vertexData,y=T._texture._uvs.uvsUint32,this.renderer.roundPixels){var P=this.renderer.resolution;s[f]=(m[0]*P|0)/P,s[f+1]=(m[1]*P|0)/P,s[f+5]=(m[2]*P|0)/P,s[f+6]=(m[3]*P|0)/P,s[f+10]=(m[4]*P|0)/P,s[f+11]=(m[5]*P|0)/P,s[f+15]=(m[6]*P|0)/P,s[f+16]=(m[7]*P|0)/P}else s[f]=m[0],s[f+1]=m[1],s[f+5]=m[2],s[f+6]=m[3],s[f+10]=m[4],s[f+11]=m[5],s[f+15]=m[6],s[f+16]=m[7];u[f+2]=y[0],u[f+7]=y[1],u[f+12]=y[2],u[f+17]=y[3],u[f+3]=u[f+8]=u[f+13]=u[f+18]=T._tintRGB+(255*Math.min(T.worldAlpha,1)<<24),s[f+4]=s[f+9]=s[f+14]=s[f+19]=d._virtalBoundId,f+=20}if(g.size=x-g.start,D.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var M=this.shader.attributes,A=this.vertexBuffers[this.vertexCount]=j.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),C=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(A,M.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(A,M.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(A,M.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);M.aTextureId&&C.addAttribute(A,M.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=C}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(x=0;x<e;++x)h[x]._virtalBoundId=-1;for(x=0;x<_;++x){for(var R=a[x],O=R.textureCount,I=0;I<O;I++)p=R.textures[I],h[R.ids[I]]!==p&&this.renderer.bindTexture(p,R.ids[I],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(R.blend),t.drawElements(t.TRIANGLES,6*R.size,t.UNSIGNED_SHORT,6*R.start*2)}this.currentIndex=0}},f.prototype.start=function(){this.renderer.bindShader(this.shader),D.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},f.prototype.stop=function(){this.flush()},f.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),h.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var e=0;e<this.buffers.length;++e)this.buffers[e].destroy()},f);function f(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,h.call(this,t));e.vertSize=5,e.vertByteSize=4*e.vertSize,e.size=D.default.SPRITE_BATCH_SIZE,e.buffers=[];for(var r=1;r<=k.default.nextPow2(e.size);r*=2)e.buffers.push(new u.default(4*r*e.vertByteSize));e.indices=(0,o.default)(e.size),e.shader=null,e.currentIndex=0,e.groups=[];for(var n=0;n<e.size;n++)e.groups[n]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return e.sprites=[],e.vertexBuffers=[],e.vaos=[],e.vaoMax=2,e.vertexCount=0,e.renderer.on("prerender",e.onPrerender,e),e}r.default=c,i.default.registerPlugin("sprite",c)},{"../../renderers/webgl/WebGLRenderer":83,"../../renderers/webgl/utils/ObjectRenderer":93,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":96,"../../settings":100,"../../utils/createIndicesForQuads":121,"./BatchBuffer":104,"./generateMultiTextureShader":106,"bit-twiddle":1,"pixi-gl-core":12}],106:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e){var r=s;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)0<r&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var n=new a.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",r),i=[],o=0;o<e;o++)i[o]=o;return n.bind(),n.uniforms.uSamplers=i,n};var n,i=t("../../Shader"),a=(n=i)&&n.__esModule?n:{default:n};t("path");var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},{"../../Shader":43,path:23}],107:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=f(t("../sprites/Sprite")),a=f(t("../textures/Texture")),s=t("../math"),u=t("../utils"),_=t("../const"),l=f(t("../settings")),h=f(t("./TextStyle")),v=f(t("./TextMetrics")),c=f(t("../utils/trimCanvas"));function f(t){return t&&t.__esModule?t:{default:t}}var d,p={texture:!0,children:!1,baseTexture:!0},g=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(m,d=o.default),m.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=v.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),n=r.width,i=r.height,o=r.lines,a=r.lineHeight,s=r.lineWidths,u=r.maxLineWidth,l=r.fontProperties;this.canvas.width=Math.ceil((n+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((i+2*e.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this._font,this.context.strokeStyle=e.stroke,this.context.lineWidth=e.strokeThickness,this.context.textBaseline=e.textBaseline,this.context.lineJoin=e.lineJoin,this.context.miterLimit=e.miterLimit;var h=void 0,c=void 0;if(e.dropShadow){this.context.shadowBlur=e.dropShadowBlur,this.context.globalAlpha=e.dropShadowAlpha,0<e.dropShadowBlur?this.context.shadowColor=e.dropShadowColor:this.context.fillStyle=e.dropShadowColor;for(var f=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,d=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,p=0;p<o.length;p++)h=e.strokeThickness/2,c=e.strokeThickness/2+p*a+l.ascent,"right"===e.align?h+=u-s[p]:"center"===e.align&&(h+=(u-s[p])/2),e.fill&&(this.drawLetterSpacing(o[p],h+f+e.padding,c+d+e.padding),e.stroke&&e.strokeThickness&&(this.context.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(o[p],h+f+e.padding,c+d+e.padding,!0),this.context.strokeStyle=e.stroke))}this.context.shadowBlur=0,this.context.globalAlpha=1,this.context.fillStyle=this._generateFillStyle(e,o);for(var _=0;_<o.length;_++)h=e.strokeThickness/2,c=e.strokeThickness/2+_*a+l.ascent,"right"===e.align?h+=u-s[_]:"center"===e.align&&(h+=(u-s[_])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[_],h+e.padding,c+e.padding,!0),e.fill&&this.drawLetterSpacing(o[_],h+e.padding,c+e.padding);this.updateTexture()}},m.prototype.drawLetterSpacing=function(t,e,r,n){var i=3<arguments.length&&void 0!==n&&n,o=this._style.letterSpacing;if(0!==o)for(var a=String.prototype.split.call(t,""),s=e,u=0,l="";u<t.length;)l=a[u++],i?this.context.strokeText(l,s,r):this.context.fillText(l,s,r),s+=this.context.measureText(l).width+o;else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},m.prototype.updateTexture=function(){if(this._style.trim){var t=(0,c.default)(this.canvas);this.canvas.width=t.width,this.canvas.height=t.height,this.context.putImageData(t.data,0,0)}var e=this._texture,r=this._style,n=r.trim?0:r.padding;e.baseTexture.hasLoaded=!0,e.baseTexture.resolution=this.resolution,e.baseTexture.realWidth=this.canvas.width,e.baseTexture.realHeight=this.canvas.height,e.baseTexture.width=this.canvas.width/this.resolution,e.baseTexture.height=this.canvas.height/this.resolution,e.trim.width=e._frame.width=this.canvas.width/this.resolution,e.trim.height=e._frame.height=this.canvas.height/this.resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-2*n,e.orig.height=e._frame.height-2*n,this._onTextureUpdate(),e.baseTexture.emit("update",e.baseTexture),this.dirty=!1},m.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),d.prototype.renderWebGL.call(this,t)},m.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),d.prototype._renderCanvas.call(this,t)},m.prototype.getLocalBounds=function(t){return this.updateText(!0),d.prototype.getLocalBounds.call(this,t)},m.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},m.prototype._onStyleChange=function(){this.dirty=!0},m.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,u=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var h=u.length+1,c=1;c<h;++c)l.push(c/h);if(u.unshift(t.fill[0]),l.unshift(0),u.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===_.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(a/2,0,a/2,s),n=(u.length+1)*e.length;for(var f=i=0;f<e.length;f++){i+=1;for(var d=0;d<u.length;d++)o="number"==typeof l[d]?l[d]/e.length+f/e.length:i/n,r.addColorStop(o,u[d]),i++}}else{r=this.context.createLinearGradient(0,s/2,a,s/2),n=u.length+1,i=1;for(var p=0;p<u.length;p++)o="number"==typeof l[p]?l[p]:i/n,r.addColorStop(o,u[p]),i++}return r},m.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},p,t),d.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},n(m,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,u.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,u.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof h.default?this._style=t:this._style=new h.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),m);function m(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),(r=r||document.createElement("canvas")).width=3,r.height=3;var n=a.default.fromCanvas(r,l.default.SCALE_MODE,"text");n.orig=new s.Rectangle,n.trim=new s.Rectangle;var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,d.call(this,n));return a.default.addToCache(i._texture,i._texture.baseTexture.textureCacheIds[0]),i.canvas=r,i.context=i.canvas.getContext("2d"),i.resolution=l.default.RESOLUTION,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=t,i.style=e,i.localStyleID=-1,i}r.default=g},{"../const":45,"../math":69,"../settings":100,"../sprites/Sprite":101,"../textures/Texture":114,"../utils":123,"../utils/trimCanvas":127,"./TextMetrics":108,"./TextStyle":109}],108:[function(t,e,r){"use strict";r.__esModule=!0;var n=(m.measureText=function(t,e,r,n){var i=3<arguments.length&&void 0!==n?n:m._canvas;r=r||e.wordWrap;var o=e.toFontString(),a=m.measureFont(o),s=i.getContext("2d");s.font=o;for(var u=(r?m.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),h=0,c=0;c<u.length;c++){var f=s.measureText(u[c]).width+(u[c].length-1)*e.letterSpacing;l[c]=f,h=Math.max(h,f)}var d=h+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||a.fontSize+e.strokeThickness,_=Math.max(p,a.fontSize+e.strokeThickness)+(u.length-1)*p;return e.dropShadow&&(_+=e.dropShadowDistance),new m(t,e,d,_,u,l,p,h,a)},m.wordWrap=function(t,e,r){for(var n=(2<arguments.length&&void 0!==r?r:m._canvas).getContext("2d"),i="",o=t.split("\n"),a=e.wordWrapWidth,s={},u=0;u<o.length;u++){for(var l=a,h=o[u].split(" "),c=0;c<h.length;c++){var f=n.measureText(h[c]).width;if(e.breakWords&&a<f)for(var d=h[c].split(""),p=0;p<d.length;p++){var _=d[p],v=s[_];void 0===v&&(v=n.measureText(_).width,s[_]=v),l<v?(i+="\n"+_,l=a-v):(0===p&&(i+=" "),i+=_,l-=v)}else{var g=f+n.measureText(" ").width;0===c||l<g?(0<c&&(i+="\n"),i+=h[c],l=a-f):(l-=g,i+=" "+h[c])}}u<o.length-1&&(i+="\n")}return i},m.measureFont=function(t){if(m._fonts[t])return m._fonts[t];var e={},r=m._canvas,n=m._context;n.font=t;var i=Math.ceil(n.measureText("|MÉq").width),o=Math.ceil(n.measureText("M").width),a=2*o;o=1.4*o|0,r.width=i,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,i,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|MÉq",0,o);var s=n.getImageData(0,0,i,a).data,u=s.length,l=4*i,h=0,c=0,f=!1;for(h=0;h<o;++h){for(var d=0;d<l;d+=4)if(255!==s[c+d]){f=!0;break}if(f)break;c+=l}for(e.ascent=o-h,c=u-l,f=!1,h=a;o<h;--h){for(var p=0;p<l;p+=4)if(255!==s[c+p]){f=!0;break}if(f)break;c-=l}return e.descent=h-o,e.fontSize=e.ascent+e.descent,m._fonts[t]=e},m);function m(t,e,r,n,i,o,a,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=u}r.default=n;var i=document.createElement("canvas");i.width=i.height=10,n._canvas=i,n._context=i.getContext("2d"),n._fonts={}},{}],109:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=t("../const"),a=t("../utils");var s={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:o.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100},u=(l.prototype.clone=function(){var t={};for(var e in s)t[e]=this[e];return new l(t)},l.prototype.reset=function(){Object.assign(this,s)},l.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;0<=r;r--){var n=e[r].trim();/([\"\'])[^\'\"]+\1/.test(n)||(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n(l,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=c(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=c(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){!function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return 0;if(t.length!==e.length)return 0;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return 0;return 1}(this._fillGradientStops,t)&&(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=c(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),l);function l(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),this.styleID=0,Object.assign(this,s,t)}function h(t){return"number"==typeof t?(0,a.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function c(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=h(t[e]);return t}return h(t)}r.default=u},{"../const":45,"../utils":123}],110:[function(t,e,r){"use strict";r.__esModule=!0;var n=i(t("./BaseTexture")),o=i(t("../settings"));function i(t){return t&&t.__esModule?t:{default:t}}var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=n.default),u.prototype.resize=function(t,e){t===this.width&&e===this.height||(this.valid=0<t&&0<e,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},u.prototype.destroy=function(){a.prototype.destroy.call(this,!0),this.renderer=null},u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,r=arguments[2],n=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,null,r));return i.resolution=n||o.default.RESOLUTION,i.width=t,i.height=e,i.realWidth=i.width*i.resolution,i.realHeight=i.height*i.resolution,i.scaleMode=void 0!==r?r:o.default.SCALE_MODE,i.hasLoaded=!0,i._glRenderTargets={},i._canvasRenderTarget=null,i.valid=!1,i}r.default=s},{"../settings":100,"./BaseTexture":111}],111:[function(t,e,r){"use strict";r.__esModule=!0;var a=t("../utils"),i=u(t("../settings")),n=u(t("eventemitter3")),s=u(t("../utils/determineCrossOrigin")),o=u(t("bit-twiddle"));function u(t){return t&&t.__esModule?t:{default:t}}var l,h=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,l=n.default),c.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},c.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=o.default.isPow2(this.realWidth)&&o.default.isPow2(this.realHeight)},c.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(((this.source=t).src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},c.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,a.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,a.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else e=(e=(0,a.getUrlFileExtension)(this.imageUrl))||"png";this.imageType=e}},c.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,a.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},c.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},c.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},c.prototype._loadSvgSourceUsingString=function(t){var e=(0,a.getSvgSize)(t),r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(r*this.sourceScale),this.realHeight=Math.round(n*this.sourceScale),this._updateDimensions();var i=document.createElement("canvas");i.width=this.realWidth,i.height=this.realHeight,i._pixiId="canvas_"+(0,a.uid)(),i.getContext("2d").drawImage(this.source,0,0,r,n,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=i,c.addToCache(this,i._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},c.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},c.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),c.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},c.prototype.dispose=function(){this.emit("dispose",this)},c.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},c.fromImage=function(t,e,r,n){var i=a.BaseTextureCache[t];if(!i){var o=new Image;void 0===e&&0!==t.indexOf("data:")&&(o.crossOrigin=(0,s.default)(t)),(i=new c(o,r)).imageUrl=t,n&&(i.sourceScale=n),i.resolution=(0,a.getResolutionOfUrl)(t),o.src=t,c.addToCache(i,t)}return i},c.fromCanvas=function(t,e,r){var n=2<arguments.length&&void 0!==r?r:"canvas";t._pixiId||(t._pixiId=n+"_"+(0,a.uid)());var i=a.BaseTextureCache[t._pixiId];return i||(i=new c(t,e),c.addToCache(i,t._pixiId)),i},c.from=function(t,e,r){if("string"==typeof t)return c.fromImage(t,void 0,e,r);if(t instanceof HTMLImageElement){var n=t.src,i=a.BaseTextureCache[n];return i||((i=new c(t,e)).imageUrl=n,r&&(i.sourceScale=r),i.resolution=(0,a.getResolutionOfUrl)(n),c.addToCache(i,n)),i}return t instanceof HTMLCanvasElement?c.fromCanvas(t,e):t},c.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),a.BaseTextureCache[e]=t)},c.removeFromCache=function(t){if("string"==typeof t){var e=a.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return-1<r&&e.textureCacheIds.splice(r,1),delete a.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete a.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},c);function c(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,l.call(this));return n.uid=(0,a.uid)(),n.touched=0,n.resolution=r||i.default.RESOLUTION,n.width=100,n.height=100,n.realWidth=100,n.realHeight=100,n.scaleMode=void 0!==e?e:i.default.SCALE_MODE,n.hasLoaded=!1,n.isLoading=!1,n.source=null,n.origSource=null,n.imageType=null,n.sourceScale=1,n.premultipliedAlpha=!0,n.imageUrl=null,n.isPowerOfTwo=!1,n.mipmap=i.default.MIPMAP_TEXTURES,n.wrapMode=i.default.WRAP_MODE,n._glTextures={},n._enabled=0,n._virtalBoundId=-1,n._destroyed=!1,n.textureCacheIds=[],t&&n.loadSource(t),n}r.default=h},{"../settings":100,"../utils":123,"../utils/determineCrossOrigin":122,"bit-twiddle":1,eventemitter3:3}],112:[function(t,e,r){"use strict";r.__esModule=!0;var u=i(t("./BaseRenderTexture")),n=i(t("./Texture"));function i(t){return t&&t.__esModule?t:{default:t}}var l,o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,l=n.default),h.prototype.resize=function(t,e,r){this.valid=0<t&&0<e,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},h.create=function(t,e,r,n){return new h(new u.default(t,e,r,n))},h);function h(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);var r=null;if(!(t instanceof u.default)){var n=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+i+") instead of the ctor directly."),r=arguments[0],e=null,t=new u.default(n,i,o,a)}var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,l.call(this,t,e));return s.legacyRenderer=r,s.valid=!0,s._updateUvs(),s}r.default=o},{"./BaseRenderTexture":110,"./Texture":114}],113:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=t("../"),o=t("../utils");var a=(n(l,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),l.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,o.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},l.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=l.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},l.prototype._processFrames=function(t){for(var e=t,r=l.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var n=this._frameKeys[e],i=this._frames[n].frame;if(i){var o=null,a=null,s=new u.Rectangle(0,0,this._frames[n].sourceSize.w/this.resolution,this._frames[n].sourceSize.h/this.resolution);o=this._frames[n].rotated?new u.Rectangle(i.x/this.resolution,i.y/this.resolution,i.h/this.resolution,i.w/this.resolution):new u.Rectangle(i.x/this.resolution,i.y/this.resolution,i.w/this.resolution,i.h/this.resolution),this._frames[n].trimmed&&(a=new u.Rectangle(this._frames[n].spriteSourceSize.x/this.resolution,this._frames[n].spriteSourceSize.y/this.resolution,i.w/this.resolution,i.h/this.resolution)),this.textures[n]=new u.Texture(this.baseTexture,o,s,a,this._frames[n].rotated?2:0),u.Texture.addToCache(this.textures[n],n)}e++}},l.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},l.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*l.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*l.BATCH_SIZE<t._frameKeys.length?t._nextBatch():t._parseComplete()},0)},l.prototype.destroy=function(t){var e=0<arguments.length&&void 0!==t&&t;for(var r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},l);function l(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),this.baseTexture=t,this.textures={},this.data=e,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}r.default=a},{"../":64,"../utils":123}],114:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=f(t("./BaseTexture")),a=f(t("./VideoBaseTexture")),s=f(t("./TextureUvs")),u=f(t("eventemitter3")),l=t("../math"),h=t("../utils"),c=f(t("../settings"));function f(t){return t&&t.__esModule?t:{default:t}}var d,p=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_,d=u.default),_.prototype.update=function(){this.baseTexture.update()},_.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new l.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},_.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},_.prototype.destroy=function(t){this.baseTexture&&(t&&(h.TextureCache[this.baseTexture.imageUrl]&&_.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,_.removeFromCache(this),this.textureCacheIds=null},_.prototype.clone=function(){return new _(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},_.prototype._updateUvs=function(){this._uvs||(this._uvs=new s.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},_.fromImage=function(t,e,r,n){var i=h.TextureCache[t];return i||(i=new _(o.default.fromImage(t,e,r,n)),_.addToCache(i,t)),i},_.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},_.fromCanvas=function(t,e,r){var n=2<arguments.length&&void 0!==r?r:"canvas";return new _(o.default.fromCanvas(t,e,n))},_.fromVideo=function(t,e){return"string"==typeof t?_.fromVideoUrl(t,e):new _(a.default.fromVideo(t,e))},_.fromVideoUrl=function(t,e){return new _(a.default.fromUrl(t,e))},_.from=function(t){if("string"!=typeof t)return t instanceof HTMLImageElement?new _(o.default.from(t)):t instanceof HTMLCanvasElement?_.fromCanvas(t,c.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?_.fromVideo(t):t instanceof o.default?new _(t):t;var e=h.TextureCache[t];return e||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?_.fromVideoUrl(t):_.fromImage(t))},_.fromLoader=function(t,e,r){var n=new o.default(t,void 0,(0,h.getResolutionOfUrl)(e)),i=new _(n);return n.imageUrl=e,r=r||e,o.default.addToCache(i.baseTexture,r),_.addToCache(i,r),r!==e&&(o.default.addToCache(i.baseTexture,e),_.addToCache(i,e)),i},_.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),h.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),h.TextureCache[e]=t)},_.removeFromCache=function(t){if("string"==typeof t){var e=h.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return-1<r&&e.textureCacheIds.splice(r,1),delete h.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete h.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},n(_,[{key:"frame",get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+t.x+" + "+t.width+" > "+this.baseTexture.width+" Y: "+t.y+" + "+t.height+" > "+this.baseTexture.height);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),_);function _(t,e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,d.call(this));if(o.noFrame=!1,e||(o.noFrame=!0,e=new l.Rectangle(0,0,1,1)),t instanceof _&&(t=t.baseTexture),o.baseTexture=t,o._frame=e,o.trim=n,o.valid=!1,o.requiresUpdate=!1,o._uvs=null,o.orig=r||e,o._rotate=Number(i||0),!0===i)o._rotate=2;else if(o._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return t.hasLoaded?(o.noFrame&&(e=new l.Rectangle(0,0,t.width,t.height),t.on("update",o.onBaseTextureUpdated,o)),o.frame=e):t.once("loaded",o.onBaseTextureLoaded,o),o._updateID=0,o.transform=null,o.textureCacheIds=[],o}function v(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}(r.default=p).EMPTY=new p(new o.default),v(p.EMPTY),v(p.EMPTY.baseTexture),p.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new p(new o.default(t))}(),v(p.WHITE),v(p.WHITE.baseTexture)},{"../math":69,"../settings":100,"../utils":123,"./BaseTexture":111,"./TextureUvs":115,"./VideoBaseTexture":116,eventemitter3:3}],115:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("../math/GroupD8"),l=(n=i)&&n.__esModule?n:{default:n};var o=(a.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var o=t.width/2/n,a=t.height/2/i,s=t.x/n+o,u=t.y/i+a;r=l.default.add(r,l.default.NW),this.x0=s+o*l.default.uX(r),this.y0=u+a*l.default.uY(r),r=l.default.add(r,2),this.x1=s+o*l.default.uX(r),this.y1=u+a*l.default.uY(r),r=l.default.add(r,2),this.x2=s+o*l.default.uX(r),this.y2=u+a*l.default.uY(r),r=l.default.add(r,2),this.x3=s+o*l.default.uX(r),this.y3=u+a*l.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},a);function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}r.default=o},{"../math/GroupD8":65}],116:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=t("./BaseTexture"),s=(o=a)&&o.__esModule?o:{default:o},u=t("../utils"),l=t("../ticker"),h=t("../const");var c,f=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,c=s.default),d.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},d.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},d.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(l.shared.add(this.update,this,h.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},d.prototype._onPlayStop=function(){this._isAutoUpdating&&(l.shared.remove(this.update,this),this._isAutoUpdating=!1)},d.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},d.prototype.destroy=function(){this._isAutoUpdating&&l.shared.remove(this.update,this),this.source&&this.source._pixiId&&(s.default.removeFromCache(this.source._pixiId),delete this.source._pixiId),c.prototype.destroy.call(this)},d.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+(0,u.uid)());var r=u.BaseTextureCache[t._pixiId];return r||(r=new d(t,e),s.default.addToCache(r,t._pixiId)),r},d.fromUrl=function(t,e){var r=document.createElement("video");if(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),Array.isArray(t))for(var n=0;n<t.length;++n)r.appendChild(p(t[n].src||t[n],t[n].mime));else r.appendChild(p(t.src||t,t.mime));return r.load(),d.fromVideo(r,e)},n(d,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(l.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(l.shared.add(this.update,this,h.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),d);function d(t,e){if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,c.call(this,t,e));return r.width=t.videoWidth,r.height=t.videoHeight,r._autoUpdate=!0,r._isAutoUpdating=!1,r.autoPlay=!0,r.update=r.update.bind(r),r._onCanPlay=r._onCanPlay.bind(r),t.addEventListener("play",r._onPlayStart.bind(r)),t.addEventListener("pause",r._onPlayStop.bind(r)),r.hasLoaded=!1,r.__loaded=!1,r._isSourceReady()?r._onCanPlay():(t.addEventListener("canplay",r._onCanPlay),t.addEventListener("canplaythrough",r._onCanPlay)),r}function p(t,e){e=e||"video/"+t.substr(t.lastIndexOf(".")+1);var r=document.createElement("source");return r.src=t,r.type=e,r}(r.default=f).fromUrls=f.fromUrl},{"../const":45,"../ticker":119,"../utils":123,"./BaseTexture":111}],117:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=u(t("../settings")),a=t("../const"),s=u(t("./TickerListener"));function u(t){return t&&t.__esModule?t:{default:t}}var l=(h.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},h.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},h.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},h.prototype.add=function(t,e,r){var n=2<arguments.length&&void 0!==r?r:a.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,n))},h.prototype.addOnce=function(t,e,r){var n=2<arguments.length&&void 0!==r?r:a.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,n,!0))},h.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}e=(r=e).next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},h.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},h.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},h.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},h.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},h.prototype.update=function(t){var e=0<arguments.length&&void 0!==t?t:performance.now(),r=void 0;if(e>this.lastTime){(r=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(r=this._maxElapsedMS),this.deltaTime=r*o.default.TARGET_FPMS*this.speed;for(var n=this._head,i=n.next;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e},n(h,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,o.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),h);function h(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),this._head=new s.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}r.default=l},{"../const":45,"../settings":100,"./TickerListener":118}],118:[function(t,e,r){"use strict";r.__esModule=!0;var n=(i.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},i.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},i.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},i.prototype.destroy=function(t){var e=0<arguments.length&&void 0!==t&&t;this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.previous;return this.next=e?null:r,this.previous=null,r},i);function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.fn=t,this.context=e,this.priority=r,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}r.default=n},{}],119:[function(t,e,r){"use strict";r.__esModule=!0,r.Ticker=r.shared=void 0;var n,i=t("./Ticker"),o=(n=i)&&n.__esModule?n:{default:n};var a=new o.default;a.autoStart=!0,a.destroy=function(){},r.shared=a,r.Ticker=o.default},{"./Ticker":117}],120:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},{}],121:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},{}],122:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,a=a||document.createElement("a");a.href=t;var r=!(t=o.default.parse(a.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"};var n,i=t("url"),o=(n=i)&&n.__esModule?n:{default:n};var a=void 0},{url:29}],123:[function(t,e,r){"use strict";r.__esModule=!0,r.BaseTextureCache=r.TextureCache=r.mixins=r.pluginTarget=r.EventEmitter=r.isMobile=void 0,r.uid=function(){return++c},r.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},r.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},r.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},r.getResolutionOfUrl=function(t,e){var r=i.default.RETINA_PREFIX.exec(t);if(r)return parseFloat(r[1]);return void 0!==e?e:1},r.decomposeDataUri=function(t){var e=n.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]};return},r.getUrlFileExtension=function(t){var e=n.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},r.getSvgSize=function(t){var e=n.SVG_SIZE.exec(t),r={};e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7])));return r},r.skipHello=function(){f=!0},r.sayHello=function(t){if(f)return;if(-1<navigator.userAgent.toLowerCase().indexOf("chrome")){var e=["\n %c %c %c Pixi.js "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+n.VERSION+" - "+t+" - http://www.pixijs.com/");f=!0},r.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}},r.sign=function(t){return 0===t?0:t<0?-1:1},r.removeItems=function(t,e,r){var n=t.length;if(n<=e||0===r)return;for(var i=n-(r=n<e+r?n-e:r),o=e;o<i;++o)t[o]=t[o+r];t.length=i},r.destroyTextureCache=function(){var t=void 0;for(t in d)d[t].destroy();for(t in p)p[t].destroy()},r.clearTextureCache=function(){var t=void 0;for(t in d)delete d[t];for(t in p)delete p[t]};var n=t("../const"),i=h(t("../settings")),o=h(t("eventemitter3")),a=h(t("./pluginTarget")),s=l(t("./mixin")),u=l(t("ismobilejs"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var c=0,f=!1;r.isMobile=u,r.EventEmitter=o.default,r.pluginTarget=a.default,r.mixins=s;var d=r.TextureCache=Object.create(null),p=r.BaseTextureCache=Object.create(null)},{"../const":45,"../settings":100,"./mixin":125,"./pluginTarget":126,eventemitter3:3,ismobilejs:4}],124:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){if(o.default.tablet||o.default.phone)return 4;return t};var n,i=t("ismobilejs"),o=(n=i)&&n.__esModule?n:{default:n}},{ismobilejs:4}],125:[function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}r.__esModule=!0,r.mixin=n,r.delayMixin=function(t,e){i.push(t,e)},r.performMixins=function(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0};var i=[]},{}],126:[function(t,e,r){"use strict";r.__esModule=!0,r.default={mixin:function(t){var r;(r=t).__plugins={},r.registerPlugin=function(t,e){r.__plugins[t]=e},r.prototype.initPlugins=function(){for(var t in this.plugins=this.plugins||{},r.__plugins)this.plugins[t]=new r.__plugins[t](this)},r.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}}},{}],127:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r).data,o=i.length,a={top:null,left:null,right:null,bottom:null},s=void 0,u=void 0,l=void 0;for(s=0;s<o;s+=4)0!==i[s+3]&&(u=s/4%e,l=~~(s/4/e),null===a.top&&(a.top=l),null===a.left?a.left=u:u<a.left&&(a.left=u),null===a.right?a.right=u+1:a.right<u&&(a.right=u+1),null===a.bottom?a.bottom=l:a.bottom<l&&(a.bottom=l));e=a.right-a.left,r=a.bottom-a.top+1;var h=n.getImageData(a.left,a.top,e,r);return{height:r,width:e,data:h}}},{}],128:[function(t,e,r){"use strict";function p(t){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e)))}r.__esModule=!0,r.default=function(r){var t=r.mesh,e=r.particles,n=r.extras,i=r.filters,o=r.prepare,a=r.loaders,s=r.interaction;Object.defineProperties(r,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return p("You do not need to use a PIXI Stage any more, you can simply render any container."),r.Container}},DisplayObjectContainer:{get:function(){return p("DisplayObjectContainer has been shortened to Container, please use Container from now on."),r.Container}},Strip:{get:function(){return p("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),t.Mesh}},Rope:{get:function(){return p("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),t.Rope}},ParticleContainer:{get:function(){return p("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),e.ParticleContainer}},MovieClip:{get:function(){return p("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function(){return p("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function(){return p("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function(){return p("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),r.BLEND_MODES}},scaleModes:{get:function(){return p("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),r.SCALE_MODES}},BaseTextureCache:{get:function(){return p("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),r.utils.BaseTextureCache}},TextureCache:{get:function(){return p("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),r.utils.TextureCache}},math:{get:function(){return p("The math namespace is deprecated, please access members already accessible on PIXI."),r}},AbstractFilter:{get:function(){return p("AstractFilter has been renamed to Filter, please use PIXI.Filter"),r.Filter}},TransformManual:{get:function(){return p("TransformManual has been renamed to TransformBase, please update your pixi-spine"),r.TransformBase}},TARGET_FPMS:{get:function(){return p("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),r.settings.TARGET_FPMS},set:function(t){p("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),r.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{get:function(){return p("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),r.settings.FILTER_RESOLUTION},set:function(t){p("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),r.settings.FILTER_RESOLUTION=t}},RESOLUTION:{get:function(){return p("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),r.settings.RESOLUTION},set:function(t){p("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),r.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{get:function(){return p("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),r.settings.MIPMAP_TEXTURES},set:function(t){p("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),r.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{get:function(){return p("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),r.settings.SPRITE_BATCH_SIZE},set:function(t){p("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),r.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{get:function(){return p("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),r.settings.SPRITE_MAX_TEXTURES},set:function(t){p("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),r.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{get:function(){return p("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),r.settings.RETINA_PREFIX},set:function(t){p("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),r.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{get:function(){return p("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),r.settings.RENDER_OPTIONS}}});for(var u=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(t){var e=u[t];Object.defineProperty(r[e.parent],"DEFAULT",{get:function(){return p("PIXI."+e.parent+".DEFAULT has been deprecated, please use PIXI.settings."+e.target),r.settings[e.target]},set:function(t){p("PIXI."+e.parent+".DEFAULT has been deprecated, please use PIXI.settings."+e.target),r.settings[e.target]=t}})},h=0;h<u.length;h++)l(h);Object.defineProperties(r.settings,{PRECISION:{get:function(){return p("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),r.settings.PRECISION_FRAGMENT},set:function(t){p("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),r.settings.PRECISION_FRAGMENT=t}}}),Object.defineProperties(n,{MovieClip:{get:function(){return p("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}}),r.DisplayObject.prototype.generateTexture=function(t,e,r){return p("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},r.Graphics.prototype.generateTexture=function(t,e){return p("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},r.RenderTexture.prototype.render=function(t,e,r,n){this.legacyRenderer.render(t,this,r,e,!n),p("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},r.RenderTexture.prototype.getImage=function(t){return p("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},r.RenderTexture.prototype.getBase64=function(t){return p("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},r.RenderTexture.prototype.getCanvas=function(t){return p("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},r.RenderTexture.prototype.getPixels=function(t){return p("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},r.Sprite.prototype.setTexture=function(t){this.texture=t,p("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText.prototype.setText=function(t){this.text=t,p("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},r.Text.prototype.setText=function(t){this.text=t,p("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},r.Text.calculateFontProperties=function(t){return p("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),r.TextMetrics.measureFont(t)},Object.defineProperties(r.Text,{fontPropertiesCache:{get:function(){return p("Text.fontPropertiesCache is deprecated"),r.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return p("Text.fontPropertiesCanvas is deprecated"),r.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return p("Text.fontPropertiesContext is deprecated"),r.TextMetrics._context}}}),r.Text.prototype.setStyle=function(t){this.style=t,p("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},r.Text.prototype.determineFontProperties=function(t){return p("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),r.TextMetrics.measureFont(t)},r.Text.getFontStyle=function(t){return p("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(t=t||{})instanceof r.TextStyle||(t=new r.TextStyle(t)),t.toFontString()},Object.defineProperties(r.TextStyle.prototype,{font:{get:function(){p("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){p("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),1<t.indexOf("italic")?this._fontStyle="italic":-1<t.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal",-1<t.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var n=0;n<e.length;++n)if(e[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=e[n];break}this._fontWeight="normal";for(var i=0;i<r;++i)if(e[i].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[i];break}if(-1<r&&r<e.length-1){this._fontFamily="";for(var o=r+1;o<e.length;++o)this._fontFamily+=e[o]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),r.Texture.prototype.setFrame=function(t){this.frame=t,p("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},r.Texture.addTextureToCache=function(t,e){r.Texture.addToCache(t,e),p("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},r.Texture.removeTextureFromCache=function(t){return p("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),r.BaseTexture.removeFromCache(t),r.Texture.removeFromCache(t)},Object.defineProperties(i,{AbstractFilter:{get:function(){return p("AstractFilter has been renamed to Filter, please use PIXI.Filter"),r.AbstractFilter}},SpriteMaskFilter:{get:function(){return p("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),r.SpriteMaskFilter}}}),r.utils.uuid=function(){return p("utils.uuid() is deprecated, please use utils.uid() from now on."),r.utils.uid()},r.utils.canUseNewCanvasBlendModes=function(){return p("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),r.CanvasTinter.canUseMultiply};var c=!0;if(Object.defineProperty(r.utils,"_saidHello",{set:function(t){t&&(p("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),c=t},get:function(){return c}}),o.BasePrepare.prototype.register=function(t,e){return p("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this},Object.defineProperty(o.canvas,"UPLOADS_PER_FRAME",{set:function(){p("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return p("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),Object.defineProperty(o.webgl,"UPLOADS_PER_FRAME",{set:function(){p("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return p("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.Loader){var f=a.Resource,d=a.Loader;Object.defineProperties(f.prototype,{isJson:{get:function(){return p("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===f.TYPE.JSON}},isXml:{get:function(){return p("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===f.TYPE.XML}},isImage:{get:function(){return p("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===f.TYPE.IMAGE}},isAudio:{get:function(){return p("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===f.TYPE.AUDIO}},isVideo:{get:function(){return p("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===f.TYPE.VIDEO}}}),Object.defineProperties(d.prototype,{before:{get:function(){return p("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return p("The after() method is deprecated, please use use()."),this.use}}})}Object.defineProperty(s.interactiveTarget,"defaultCursor",{set:function(t){p("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return p("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),Object.defineProperty(s.InteractionManager,"defaultCursorStyle",{set:function(t){p("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return p("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(s.InteractionManager,"currentCursorStyle",{set:function(t){p("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return p("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}})}},{}],129:[function(t,e,r){"use strict";r.__esModule=!0;var h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core"));var c=new h.Rectangle,n=(i.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},i.prototype.base64=function(t){return this.canvas(t).toDataURL()},i.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0;t&&(o=t instanceof h.RenderTexture?t:e.generateTexture(t)),o?(r=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,i=o.frame):(r=e.rootContext,(i=c).width=this.renderer.width,i.height=this.renderer.height);var a=i.width*n,s=i.height*n,u=new h.CanvasRenderTarget(a,s),l=r.getImageData(i.x*n,i.y*n,a,s);return u.context.putImageData(l,0,0),u.canvas},i.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0;return t&&(o=t instanceof h.RenderTexture?t:e.generateTexture(t)),o?(r=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,i=o.frame):(r=e.rootContext,(i=c).width=e.width,i.height=e.height),r.getImageData(0,0,i.width*n,i.height*n).data},i.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},i);function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(this.renderer=t).extract=this}r.default=n,h.CanvasRenderer.registerPlugin("extract",n)},{"../../core":64}],130:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./webgl/WebGLExtract");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return o(n).default}});var i=t("./canvas/CanvasExtract");function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return o(i).default}})},{"./canvas/CanvasExtract":129,"./webgl/WebGLExtract":131}],131:[function(t,e,r){"use strict";r.__esModule=!0;var d=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core"));var p=new d.Rectangle,n=(i.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},i.prototype.base64=function(t){return this.canvas(t).toDataURL()},i.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=!1,a=void 0;t&&(a=t instanceof d.RenderTexture?t:this.renderer.generateTexture(t)),a?(n=(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,i=a.frame,o=!1):(n=(r=this.renderer.rootRenderTarget).resolution,o=!0,(i=p).width=r.size.width,i.height=r.size.height);var s=i.width*n,u=i.height*n,l=new d.CanvasRenderTarget(s,u);if(r){e.bindRenderTarget(r);var h=new Uint8Array(4*s*u),c=e.gl;c.readPixels(i.x*n,i.y*n,s,u,c.RGBA,c.UNSIGNED_BYTE,h);var f=l.context.getImageData(0,0,s,u);f.data.set(h),l.context.putImageData(f,0,0),o&&(l.context.scale(1,-1),l.context.drawImage(l.canvas,0,-u))}return l.canvas},i.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0;t&&(o=t instanceof d.RenderTexture?t:this.renderer.generateTexture(t)),o?(n=(r=o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,i=o.frame):(n=(r=this.renderer.rootRenderTarget).resolution,(i=p).width=r.size.width,i.height=r.size.height);var a=i.width*n,s=i.height*n,u=new Uint8Array(4*a*s);if(r){e.bindRenderTarget(r);var l=e.gl;l.readPixels(i.x*n,i.y*n,a,s,l.RGBA,l.UNSIGNED_BYTE,u)}return u},i.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},i);function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(this.renderer=t).extract=this}r.default=n,d.WebGLRenderer.registerPlugin("extract",n)},{"../../core":64}],132:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core"));var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=o.Sprite),u.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&o.ticker.shared.remove(this.update,this))},u.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&o.ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.HIGH))},u.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},u.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},u.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&this.updateTexture()},u.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},u.prototype.destroy=function(){this.stop(),a.prototype.destroy.call(this)},u.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(o.Texture.fromFrame(t[r]));return new u(e)},u.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(o.Texture.fromImage(t[r]));return new u(e)},n(u,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof o.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),u);function u(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,t[0]instanceof o.Texture?t[0]:t[0].texture));return r._textures=null,r._durations=null,r.textures=t,r._autoUpdate=!1!==e,r.animationSpeed=1,r.loop=!0,r.onComplete=null,r.onFrameChange=null,r._currentTime=0,r.playing=!1,r}r.default=s},{"../core":64}],133:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,E=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core")),a=t("../core/math/ObservablePoint"),s=(o=a)&&o.__esModule?o:{default:o};var u,l=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(S,u=E.Container),S.prototype.updateText=function(){for(var t=S.fonts[this._font.name],e=this._font.size/t.size,r=new E.Point,n=[],i=[],o=null,a=0,s=0,u=0,l=-1,h=0,c=0,f=0;f<this.text.length;f++){var d=this.text.charCodeAt(f);if(/(\s)/.test(this.text.charAt(f))&&(l=f,h=a),/(?:\r\n|\r|\n)/.test(this.text.charAt(f)))i.push(a),s=Math.max(s,a),u++,r.x=0,r.y+=t.lineHeight,o=null;else if(-1!==l&&0<this.maxWidth&&r.x*e>this.maxWidth)E.utils.removeItems(n,l,f-l),f=l,l=-1,i.push(h),s=Math.max(s,h),u++,r.x=0,r.y+=t.lineHeight,o=null;else{var p=t.chars[d];p&&(o&&p.kerning[o]&&(r.x+=p.kerning[o]),n.push({texture:p.texture,line:u,charCode:d,position:new E.Point(r.x+p.xOffset,r.y+p.yOffset)}),a=r.x+(p.texture.width+p.xOffset),r.x+=p.xAdvance,c=Math.max(c,p.yOffset+p.texture.height),o=d)}}i.push(a),s=Math.max(s,a);for(var _=[],v=0;v<=u;v++){var g=0;"right"===this._font.align?g=s-i[v]:"center"===this._font.align&&(g=(s-i[v])/2),_.push(g)}for(var m=n.length,y=this.tint,b=0;b<m;b++){var x=this._glyphs[b];x?x.texture=n[b].texture:(x=new E.Sprite(n[b].texture),this._glyphs.push(x)),x.position.x=(n[b].position.x+_[n[b].line])*e,x.position.y=n[b].position.y*e,x.scale.x=x.scale.y=e,x.tint=y,x.parent||this.addChild(x)}for(var T=m;T<this._glyphs.length;++T)this.removeChild(this._glyphs[T]);if(this._textWidth=s*e,this._textHeight=(r.y+t.lineHeight)*e,0!==this.anchor.x||0!==this.anchor.y)for(var w=0;w<m;w++)this._glyphs[w].x-=this._textWidth*this.anchor.x,this._glyphs[w].y-=this._textHeight*this.anchor.y;this.maxLineHeight=c*e},S.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},S.prototype.getLocalBounds=function(){return this.validate(),u.prototype.getLocalBounds.call(this)},S.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},S.registerFont=function(t,e){var r={},n=t.getElementsByTagName("info")[0],i=t.getElementsByTagName("common")[0];r.font=n.getAttribute("face"),r.size=parseInt(n.getAttribute("size"),10),r.lineHeight=parseInt(i.getAttribute("lineHeight"),10),r.chars={};for(var o=t.getElementsByTagName("char"),a=0;a<o.length;a++){var s=o[a],u=parseInt(s.getAttribute("id"),10),l=new E.Rectangle(parseInt(s.getAttribute("x"),10)+e.frame.x,parseInt(s.getAttribute("y"),10)+e.frame.y,parseInt(s.getAttribute("width"),10),parseInt(s.getAttribute("height"),10));r.chars[u]={xOffset:parseInt(s.getAttribute("xoffset"),10),yOffset:parseInt(s.getAttribute("yoffset"),10),xAdvance:parseInt(s.getAttribute("xadvance"),10),kerning:{},texture:new E.Texture(e.baseTexture,l)}}for(var h=t.getElementsByTagName("kerning"),c=0;c<h.length;c++){var f=h[c],d=parseInt(f.getAttribute("first"),10),p=parseInt(f.getAttribute("second"),10),_=parseInt(f.getAttribute("amount"),10);r.chars[p]&&(r.chars[p].kerning[d]=_)}return S.fonts[r.font]=r},n(S,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&0<=t?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=2<=t.length?parseInt(t[0],10):S.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),S);function S(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,S);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,u.call(this));return r._textWidth=0,r._textHeight=0,r._glyphs=[],r._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},r.font=e.font,r._text=t,r.maxWidth=0,r.maxLineHeight=0,r._anchor=new s.default(function(){r.dirty=!0},r,0,0),r.dirty=!1,r.updateText(),r}(r.default=l).fonts={}},{"../core":64,"../core/math/ObservablePoint":67}],134:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=t("../core/math/Matrix"),s=(o=a)&&o.__esModule?o:{default:o};var l=new s.default,u=(h.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},h.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(l.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(l));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(e._frame.x+s+u)/o.width,a[1]=(e._frame.y+s+u)/o.height,a[2]=(e._frame.x+e._frame.width-s+u)/o.width,a[3]=(e._frame.y+e._frame.height-s+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,!0},n(h,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),h);function h(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),this._texture=t,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e}r.default=u},{"../core/math/Matrix":66}],135:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core")),d=a(t("../core/sprites/canvas/CanvasTinter")),o=a(t("./TextureTransform"));function a(t){return t&&t.__esModule?t:{default:t}}var s,u=new f.Point,l=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,s=f.Sprite),h.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},h.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},h.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,o=e.baseTexture,a=o.resolution,s=this.tilePosition.x/this.tileScale.x%e._frame.width*a,u=this.tilePosition.y/this.tileScale.y%e._frame.height*a;if(!this._canvasPattern){var l=new f.CanvasRenderTarget(e._frame.width,e._frame.height,a);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=d.default.getTintedTexture(this,this.tint)),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(o.source,-e._frame.x,-e._frame.y),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/a,this.tileScale.y/a);var h=this.anchor.x*-this._width,c=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(s,u),r.fillRect(h-s,c-u,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)):(r.translate(s+h,u+c),r.fillRect(-s,-u,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a))}},h.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},h.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),t||(this._localBoundsRect||(this._localBoundsRect=new f.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):s.prototype.getLocalBounds.call(this,t)},h.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,r=this._height,n=-e*this.anchor._x;if(u.x>n&&u.x<n+e){var i=-r*this.anchor._y;if(u.y>i&&u.y<i+r)return!0}return!1},h.prototype.destroy=function(){s.prototype.destroy.call(this),this.tileTransform=null,this.uvTransform=null},h.from=function(t,e,r){return new h(f.Texture.from(t),e,r)},h.fromFrame=function(t,e,r){var n=f.utils.TextureCache[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new h(n,e,r)},h.fromImage=function(t,e,r,n,i){return new h(f.Texture.fromImage(t,n,i),e,r)},n(h,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),h);function h(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this,t));return n.tileTransform=new f.TransformStatic,n._width=e,n._height=r,n._canvasPattern=null,n.uvTransform=t.transform||new o.default(t),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}r.default=l},{"../core":64,"../core/sprites/canvas/CanvasTinter":103,"./TextureTransform":134}],136:[function(t,e,r){"use strict";var h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core")),c=n(t("../core/textures/Texture")),f=n(t("../core/textures/BaseTexture")),d=t("../core/utils");function n(t){return t&&t.__esModule?t:{default:t}}var i=h.DisplayObject,p=new h.Matrix;i.prototype._cacheAsBitmap=!1,i.prototype._cacheData=!1;function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null}Object.defineProperties(i.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){var e=void 0;(this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new o),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),i.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},i.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;r.pad(n)}var i=t._activeRenderTarget,o=t.filterManager.filterStack,a=h.RenderTexture.create(0|r.width,0|r.height),s="cacheAsBitmap_"+(0,d.uid)();this._cacheData.textureCacheId=s,f.default.addToCache(a.baseTexture,s),c.default.addToCache(a,s);var u=p;u.tx=-r.x,u.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,a,!0,u,!0),t.bindRenderTarget(i),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var l=new h.Sprite(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-r.x/r.width,l.anchor.y=-r.y/r.height,l.alpha=e,l._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},i.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},i.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var n=t.context,i=h.RenderTexture.create(0|e.width,0|e.height),o="cacheAsBitmap_"+(0,d.uid)();this._cacheData.textureCacheId=o,f.default.addToCache(i.baseTexture,o),c.default.addToCache(i,o);var a=p;this.transform.localTransform.copy(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,i,!0,a,!1),t.context=n,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var s=new h.Sprite(i);s.transform.worldTransform=this.transform.worldTransform,s.anchor.x=-e.x/e.width,s.anchor.y=-e.y/e.height,s._bounds=this._bounds,s.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=s,this.containsPoint=s.containsPoint.bind(s)}},i.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},i.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},i.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,f.default.removeFromCache(this._cacheData.textureCacheId),c.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},i.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},{"../core":64,"../core/textures/BaseTexture":111,"../core/textures/Texture":114,"../core/utils":123}],137:[function(t,e,r){"use strict";var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core"));n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":64}],138:[function(t,e,r){"use strict";var i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core"));i.DisplayObject.prototype.getGlobalPosition=function(t,e){var r=0<arguments.length&&void 0!==t?t:new i.Point,n=1<arguments.length&&void 0!==e&&e;return this.parent?this.parent.toGlobal(this.position,r,n):(r.x=this.position.x,r.y=this.position.y),r}},{"../core":64}],139:[function(t,e,r){"use strict";r.__esModule=!0,r.BitmapText=r.TilingSpriteRenderer=r.TilingSprite=r.AnimatedSprite=void 0;var n=t("./AnimatedSprite");Object.defineProperty(r,"AnimatedSprite",{enumerable:!0,get:function(){return s(n).default}});var i=t("./TilingSprite");Object.defineProperty(r,"TilingSprite",{enumerable:!0,get:function(){return s(i).default}});var o=t("./webgl/TilingSpriteRenderer");Object.defineProperty(r,"TilingSpriteRenderer",{enumerable:!0,get:function(){return s(o).default}});var a=t("./BitmapText");function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"BitmapText",{enumerable:!0,get:function(){return s(a).default}}),t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition")},{"./AnimatedSprite":132,"./BitmapText":133,"./TilingSprite":135,"./cacheAsBitmap":136,"./getChildByName":137,"./getGlobalPosition":138,"./webgl/TilingSpriteRenderer":140}],140:[function(t,e,r){"use strict";r.__esModule=!0;var _=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core")),v=t("../../core/const");t("path");var n,g=new _.Matrix,m=new Float32Array(4),i=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n=_.ObjectRenderer),o.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new _.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n"),this.simpleShader=new _.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n"),this.renderer.bindVao(null),this.quad=new _.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},o.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=r.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.upload();var i=t._texture,o=i.baseTexture,a=t.tileTransform.localTransform,s=t.uvTransform,u=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;u&&(o._glTextures[e.CONTEXT_UID]?u=o.wrapMode!==v.WRAP_MODES.CLAMP:o.wrapMode===v.WRAP_MODES.CLAMP&&(o.wrapMode=v.WRAP_MODES.REPEAT));var l=u?this.simpleShader:this.shader;e.bindShader(l);var h=i.width,c=i.height,f=t._width,d=t._height;g.set(a.a*h/f,a.b*h/d,a.c*c/f,a.d*c/d,a.tx/f,a.ty/d),g.invert(),u?g.prepend(s.mapCoord):(l.uniforms.uMapCoord=s.mapCoord.toArray(!0),l.uniforms.uClampFrame=s.uClampFrame,l.uniforms.uClampOffset=s.uClampOffset),l.uniforms.uTransform=g.toArray(!0);var p=m;_.utils.hex2rgb(t.tint,p),p[3]=t.worldAlpha,l.uniforms.uColor=p,l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.uSampler=e.bindTexture(i),e.setBlendMode(t.blendMode),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},o);function o(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));return e.shader=null,e.simpleShader=null,e.quad=null,e}r.default=i,_.WebGLRenderer.registerPlugin("tilingSprite",i)},{"../../core":64,"../../core/const":45,path:23}],141:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core")),a=u(t("./BlurXFilter")),s=u(t("./BlurYFilter"));function u(t){return t&&t.__esModule?t:{default:t}}var l,h=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,l=o.Filter),c.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},n(c,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]),c);function c(t,e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,l.call(this));return i.blurXFilter=new a.default(t,e,r,n),i.blurYFilter=new s.default(t,e,r,n),i.padding=0,i.resolution=r||o.settings.RESOLUTION,i.quality=e||4,i.blur=t||8,i}r.default=h},{"../../core":64,"./BlurXFilter":142,"./BlurYFilter":143}],142:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core")),c=o(t("./generateBlurVertSource")),f=o(t("./generateBlurFragSource")),d=o(t("./getMaxBlurKernelSize"));function o(t){return t&&t.__esModule?t:{default:t}}var u,a=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,u=s.Filter),l.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,d.default)(i);this.vertexSrc=(0,c.default)(o,!0),this.fragmentSrc=(0,f.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var a=t.getRenderTarget(!0),s=e,u=a,l=0;l<this.passes-1;l++){t.applyFilter(this,s,u,!0);var h=u;u=s,s=h}t.applyFilter(this,s,r,n),t.returnRenderTarget(a)}},n(l,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),l);function l(t,e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),n=n||5;var i=(0,c.default)(n,!0),o=(0,f.default)(n),a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,u.call(this,i,o));return a.resolution=r||s.settings.RESOLUTION,a._quality=0,a.quality=e||4,a.strength=t||8,a.firstRun=!0,a}r.default=a},{"../../core":64,"./generateBlurFragSource":144,"./generateBlurVertSource":145,"./getMaxBlurKernelSize":146}],143:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core")),c=o(t("./generateBlurVertSource")),f=o(t("./generateBlurFragSource")),d=o(t("./getMaxBlurKernelSize"));function o(t){return t&&t.__esModule?t:{default:t}}var u,a=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,u=s.Filter),l.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,d.default)(i);this.vertexSrc=(0,c.default)(o,!1),this.fragmentSrc=(0,f.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var a=t.getRenderTarget(!0),s=e,u=a,l=0;l<this.passes-1;l++){t.applyFilter(this,s,u,!0);var h=u;u=s,s=h}t.applyFilter(this,s,r,n),t.returnRenderTarget(a)}},n(l,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),l);function l(t,e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),n=n||5;var i=(0,c.default)(n,!1),o=(0,f.default)(n),a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,u.call(this,i,o));return a.resolution=r||s.settings.RESOLUTION,a._quality=0,a.quality=e||4,a.strength=t||8,a.firstRun=!0,a}r.default=a},{"../../core":64,"./generateBlurFragSource":144,"./generateBlurVertSource":145,"./getMaxBlurKernelSize":146}],144:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){for(var e=u[t],r=e.length,n=l,i="",o=void 0,a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a);r<=(o=a)&&(o=t-a-1),s=s.replace("%value%",e[o]),i+=s,i+="\n"}return n=(n=n.replace("%blur%",i)).replace("%size%",t)};var u={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},l=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],145:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e){var r=Math.ceil(t/2),n=u,i="",o=void 0;o=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=o.replace("%index%",a);s=s.replace("%sampleIndex%",a-(r-1)+".0"),i+=s,i+="\n"}return n=(n=n.replace("%blur%",i)).replace("%size%",t)};var u=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],146:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;for(;e<r;)r-=2;return r}},{}],147:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core"));t("path");var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=o.Filter),u.prototype._loadMatrix=function(t,e){var r=t;1<arguments.length&&void 0!==e&&e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},u.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},u.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},u.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},u.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},u.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},u.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=(0,Math.sqrt)(1/3),o=[r+1/3*(1-r),1/3*(1-r)-i*n,1/3*(1-r)+i*n,0,0,1/3*(1-r)+i*n,r+1/3*(1-r),1/3*(1-r)-i*n,0,0,1/3*(1-r)-i*n,1/3*(1-r)+i*n,r+1/3*(1-r),0,0,0,0,0,1,0];this._loadMatrix(o,e)},u.prototype.contrast=function(t,e){var r=(t||0)+1,n=-128*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},u.prototype.saturate=function(t,e){var r=e,n=2*(0<arguments.length&&void 0!==t?t:0)/3+1,i=-.5*(n-1),o=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(o,r)},u.prototype.desaturate=function(){this.saturate(-1)},u.prototype.negative=function(t){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],t)},u.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},u.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},u.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},u.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},u.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},u.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},u.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},u.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,u=((n=n||3375104)>>16&255)/255,l=(n>>8&255)/255,h=(255&n)/255,c=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,l,h,e=e||.15,0,o-u,a-l,s-h,0,0];this._loadMatrix(c,i)},u.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},u.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},u.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},u.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(u,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),u);function u(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return t.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],t.alpha=1,t}(r.default=s).prototype.grayscale=s.prototype.greyscale},{"../../core":64,path:23}],148:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core"));t("path");var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=o.Filter),u.prototype.apply=function(t,e,r){var n=1/r.destinationFrame.width*(r.size.width/e.size.width);this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*n,this.uniforms.scale.y=this.scale.y*n,t.applyFilter(this,e,r)},n(u,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),u);function u(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var r=new o.Matrix;t.renderable=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return n.maskSprite=t,n.maskMatrix=r,n.uniforms.mapSampler=t._texture,n.uniforms.filterMatrix=r,n.uniforms.scale={x:1,y:1},null==e&&(e=20),n.scale=new o.Point(e,e),n}r.default=s},{"../../core":64,path:23}],149:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core"));t("path");var i,o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i=n.Filter),a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}r.default=o},{"../../core":64,path:23}],150:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./fxaa/FXAAFilter");Object.defineProperty(r,"FXAAFilter",{enumerable:!0,get:function(){return c(n).default}});var i=t("./noise/NoiseFilter");Object.defineProperty(r,"NoiseFilter",{enumerable:!0,get:function(){return c(i).default}});var o=t("./displacement/DisplacementFilter");Object.defineProperty(r,"DisplacementFilter",{enumerable:!0,get:function(){return c(o).default}});var a=t("./blur/BlurFilter");Object.defineProperty(r,"BlurFilter",{enumerable:!0,get:function(){return c(a).default}});var s=t("./blur/BlurXFilter");Object.defineProperty(r,"BlurXFilter",{enumerable:!0,get:function(){return c(s).default}});var u=t("./blur/BlurYFilter");Object.defineProperty(r,"BlurYFilter",{enumerable:!0,get:function(){return c(u).default}});var l=t("./colormatrix/ColorMatrixFilter");Object.defineProperty(r,"ColorMatrixFilter",{enumerable:!0,get:function(){return c(l).default}});var h=t("./void/VoidFilter");function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"VoidFilter",{enumerable:!0,get:function(){return c(h).default}})},{"./blur/BlurFilter":141,"./blur/BlurXFilter":142,"./blur/BlurYFilter":143,"./colormatrix/ColorMatrixFilter":147,"./displacement/DisplacementFilter":148,"./fxaa/FXAAFilter":149,"./noise/NoiseFilter":151,"./void/VoidFilter":152}],151:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core"));t("path");var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=o.Filter),n(u,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return r.noise=t,r.seed=e,r}r.default=s},{"../../core":64,path:23}],152:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core"));t("path");var i,o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i=n.Filter),a);function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));return t.glShaderKey="void",t}r.default=o},{"../../core":64,path:23}],153:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core"));var i=(o.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},o);function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.global=new n.Point,this.target=null,this.originalEvent=null,this.identifier=null}r.default=i},{"../core":64}],154:[function(t,e,r){"use strict";r.__esModule=!0;var n=(i.prototype.stopPropagation=function(){this.stopped=!0},i.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},i);function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}r.default=n},{}],155:[function(t,e,r){"use strict";r.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core")),o=l(t("./InteractionData")),a=l(t("./InteractionEvent")),c=l(t("./InteractionTrackingData")),s=l(t("eventemitter3")),u=l(t("./interactiveTarget"));function l(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,u.default);var h,f="MOUSE",d={target:null,data:{global:null}},p=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_,h=s.default),_.prototype.hitTest=function(t,e){return d.target=null,d.data.global=t,e=e||this.renderer._lastObjectRendered,this.processInteractive(d,e,null,!0),d.target},_.prototype.setTargetElement=function(t,e){var r=1<arguments.length&&void 0!==e?e:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=r,this.addEvents()},_.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0))),this.eventsAdded=!0)},_.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.interactionDOMElement=null,this.eventsAdded=!1)},_.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},_.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":n(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}}},_.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},_.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},_.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i;if(e.hitArea?s=!1:n&&e._mask&&(e._mask.containsPoint(o)||(n=!1)),e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;0<=l;l--){var h=u[l],c=this.processInteractive(t,h,r,n,s);if(c){if(!h.parent)continue;s=!1,c&&(t.target&&(n=!1),a=!0)}}return i&&(n&&!t.target&&(e.hitArea?(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(a=!0)):e.containsPoint&&e.containsPoint(o)&&(a=!0)),e.interactive&&(a&&!t.target&&(t.target=e),r&&r(t,e,!!a))),a},_.prototype.onPointerDown=function(t){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType){var s=2===i.button||3===i.which;this.emit(s?"rightdown":"mousedown",this.eventData)}}},_.prototype.processPointerDown=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new c.default(i)),this.dispatchEvent(e,"pointerdown",t),"touchstart"===n.type||"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mousedown"===n.type||"mouse"===n.pointerType){var o=2===n.button||3===n.which;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},_.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=n[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,l),"mouse"===s.pointerType){var h=2===s.button||3===s.which;this.emit(h?"rightup"+o:"mouseup"+o,l)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(s.pointerId,u))}},_.prototype.onPointerCancel=function(t){this.onPointerComplete(t,!0,this.processPointerCancel)},_.prototype.processPointerCancel=function(t,e){var r=t.data.originalEvent,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touchcancel"!==r.type&&"touch"!==r.pointerType||this.dispatchEvent(e,"touchcancel",t))},_.prototype.onPointerUp=function(t){this.onPointerComplete(t,!1,this.processPointerUp)},_.prototype.processPointerUp=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier,o=e.trackedPointers[i],a="touchend"===n.type||"touch"===n.pointerType;if(0===n.type.indexOf("mouse")||"mouse"===n.pointerType){var s=2===n.button||3===n.which,u=c.default.FLAGS,l=s?u.RIGHT_DOWN:u.LEFT_DOWN,h=void 0!==o&&o.flags&l;r?(this.dispatchEvent(e,s?"rightup":"mouseup",t),h&&this.dispatchEvent(e,s?"rightclick":"click",t)):h&&this.dispatchEvent(e,s?"rightupoutside":"mouseupoutside",t),o&&(s?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},_.prototype.onPointerMove=function(t){var e=this.normalizeToPointerData(t);"mouse"===e[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t;var s="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"===i.pointerType&&this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)},_.prototype.processPointerMove=function(t,e,r){var n=t.data.originalEvent,i="touchmove"===n.type||"touch"===n.pointerType,o="mousemove"===n.type||"mouse"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},_.prototype.onPointerOut=function(t){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)},_.prototype.processPointerOverOut=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier,o="mouseover"===n.type||"mouseout"===n.type||"mouse"===n.pointerType,a=e.trackedPointers[i];r&&!a&&(a=e.trackedPointers[i]=new c.default(i)),void 0!==a&&(r&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[i]))},_.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);"mouse"===(n.data.originalEvent=e).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"===e.pointerType&&this.emit("mouseover",n)},_.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId;if(e===f||"mouse"===t.pointerType)return this.mouse;if(this.activeInteractionData[e])return this.activeInteractionData[e];var r=this.interactionDataPool.pop()||new o.default;return r.identifier=e,this.activeInteractionData[e]=r},_.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],this.interactionDataPool.push(e))},_.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t._reset(),t},_.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.rotation&&(i.rotation=i.rotationAngle||0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent||(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=f),void 0===t.pressure&&(t.pressure=.5),void 0===t.rotation&&(t.rotation=0),t.isNormalized=!0),e.push(t);return e},_.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},_);function _(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,h.call(this));return e=e||{},r.renderer=t,r.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,r.interactionFrequency=e.interactionFrequency||10,r.mouse=new o.default,r.mouse.identifier=f,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[f]=r.mouse,r.interactionDataPool=[],r.eventData=new a.default,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r._tempPoint=new i.Point,r.resolution=1,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}r.default=p,i.WebGLRenderer.registerPlugin("interaction",p),i.CanvasRenderer.registerPlugin("interaction",p)},{"../core":64,"./InteractionData":153,"./InteractionEvent":154,"./InteractionTrackingData":156,"./interactiveTarget":158,eventemitter3:3}],156:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=(a.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n(a,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),a);function a(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this._pointerId=t,this._flags=a.FLAGS.NONE}(r.default=o).FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],157:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./InteractionData");Object.defineProperty(r,"InteractionData",{enumerable:!0,get:function(){return a(n).default}});var i=t("./InteractionManager");Object.defineProperty(r,"InteractionManager",{enumerable:!0,get:function(){return a(i).default}});var o=t("./interactiveTarget");function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"interactiveTarget",{enumerable:!0,get:function(){return a(o).default}})},{"./InteractionData":153,"./InteractionManager":155,"./interactiveTarget":158}],158:[function(t,e,r){"use strict";r.__esModule=!0,r.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],159:[function(t,e,r){"use strict";r.__esModule=!0,r.parse=u,r.default=function(){return function(e,r){if(e.data&&e.type===s.Resource.TYPE.XML)if(0!==e.data.getElementsByTagName("page").length&&0!==e.data.getElementsByTagName("info").length&&null!==e.data.getElementsByTagName("info")[0].getAttribute("face")){var t=e.isDataUrl?"":o.dirname(e.url);e.isDataUrl&&("."===t&&(t=""),this.baseUrl&&t&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(t+="/"),t=t.replace(this.baseUrl,""))),t&&"/"!==t.charAt(t.length-1)&&(t+="/");var n=t+e.data.getElementsByTagName("page")[0].getAttribute("file");if(a.utils.TextureCache[n])u(e,a.utils.TextureCache[n]),r();else{var i={crossOrigin:e.crossOrigin,loadType:s.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e};this.add(e.name+"_image",n,i,function(t){u(e,t.texture),r()})}}else r();else r()}};var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("path")),a=t("../core"),s=t("resource-loader"),n=t("../extras");function u(t,e){t.bitmapFont=n.BitmapText.registerFont(t.data,e)}},{"../core":64,"../extras":139,path:23,"resource-loader":35}],160:[function(t,e,r){"use strict";r.__esModule=!0,r.shared=r.Resource=r.textureParser=r.getResourcePath=r.spritesheetParser=r.parseBitmapFontData=r.bitmapFontParser=r.Loader=void 0;var n=t("./bitmapFontParser");Object.defineProperty(r,"bitmapFontParser",{enumerable:!0,get:function(){return l(n).default}}),Object.defineProperty(r,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var i=t("./spritesheetParser");Object.defineProperty(r,"spritesheetParser",{enumerable:!0,get:function(){return l(i).default}}),Object.defineProperty(r,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=t("./textureParser");Object.defineProperty(r,"textureParser",{enumerable:!0,get:function(){return l(o).default}});var a=t("resource-loader");Object.defineProperty(r,"Resource",{enumerable:!0,get:function(){return a.Resource}});var s=l(t("../core/Application")),u=l(t("./loader"));function l(t){return t&&t.__esModule?t:{default:t}}r.Loader=u.default;var h=new u.default;h.destroy=function(){},r.shared=h;var c=s.default.prototype;c._loader=null,Object.defineProperty(c,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?h:new u.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy()}},{"../core/Application":42,"./bitmapFontParser":159,"./loader":161,"./spritesheetParser":162,"./textureParser":163,"resource-loader":35}],161:[function(t,e,r){"use strict";r.__esModule=!0;var n=l(t("resource-loader")),i=t("resource-loader/lib/middlewares/parsing/blob"),o=l(t("eventemitter3")),a=l(t("./textureParser")),s=l(t("./spritesheetParser")),u=l(t("./bitmapFontParser"));function l(t){return t&&t.__esModule?t:{default:t}}var h,c=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(f,h=n.default),f.addPixiMiddleware=function(t){f._pixiMiddleware.push(t)},f.prototype.destroy=function(){this.removeAllListeners(),this.reset()},f);function f(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,h.call(this,t,e));o.default.call(n);for(var r=0;r<f._pixiMiddleware.length;++r)n.use(f._pixiMiddleware[r]());return n.onStart.add(function(t){return n.emit("start",t)}),n.onProgress.add(function(t,e){return n.emit("progress",t,e)}),n.onError.add(function(t,e,r){return n.emit("error",t,e,r)}),n.onLoad.add(function(t,e){return n.emit("load",t,e)}),n.onComplete.add(function(t,e){return n.emit("complete",t,e)}),n}for(var d in r.default=c,o.default.prototype)c.prototype[d]=o.default.prototype[d];c._pixiMiddleware=[i.blobMiddlewareFactory,a.default,s.default,u.default];var p=n.default.Resource;p.setExtensionXhrType("fnt",p.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":159,"./spritesheetParser":162,"./textureParser":163,eventemitter3:3,"resource-loader":35,"resource-loader/lib/middlewares/parsing/blob":36}],162:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){return function(r,n){var t=r.name+"_image";if(r.data&&r.type===o.Resource.TYPE.JSON&&r.data.frames&&!this.resources[t]){var e={crossOrigin:r.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:r.metadata.imageMetadata,parentResource:r},i=u(r,this.baseUrl);this.add(t,i,e,function(t){var e=new s.Spritesheet(t.texture.baseTexture,r.data,r.url);e.parse(function(){r.spritesheet=e,r.textures=e.textures,n()})})}else n()}},r.getResourcePath=u;var n,o=t("resource-loader"),i=t("url"),a=(n=i)&&n.__esModule?n:{default:n},s=t("../core");function u(t,e){return t.isDataUrl?t.data.meta.image:a.default.resolve(t.url.replace(e,""),t.data.meta.image)}},{"../core":64,"resource-loader":35,url:29}],163:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=a.default.fromLoader(t.data,t.url,t.name)),e()}};var n,i=t("resource-loader"),o=t("../core/textures/Texture"),a=(n=o)&&n.__esModule?n:{default:n}},{"../core/textures/Texture":114,"resource-loader":35}],164:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core")),s=t("../extras/TextureTransform"),u=(o=s)&&o.__esModule?o:{default:o};var l,h=new a.Point,c=new a.Polygon,f=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,l=a.Container),d.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},d.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},d.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},d.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},d.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},d.prototype._refresh=function(){},d.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},d.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,h);for(var e=this.vertices,r=c.points,n=this.indices,i=this.indices.length,o=this.drawMode===d.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<i;a+=o){var s=2*n[a],u=2*n[a+1],l=2*n[a+2];if(r[0]=e[s],r[1]=e[1+s],r[2]=e[u],r[3]=e[1+u],r[4]=e[l],r[5]=e[1+l],c.contains(h.x,h.y))return!0}return!1},n(d,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t)&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this))}},{key:"tint",get:function(){return a.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=a.utils.hex2rgb(t,this.tintRgb)}}]),d);function d(t,e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,l.call(this));return o._texture=t,o.uvs=r||new Float32Array([0,0,1,0,1,1,0,1]),o.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),o.indices=n||new Uint16Array([0,1,3,2]),o.dirty=0,o.indexDirty=0,o.blendMode=a.BLEND_MODES.NORMAL,o.canvasPadding=0,o.drawMode=i||d.DRAW_MODES.TRIANGLE_MESH,o.shader=null,o.tintRgb=new Float32Array([1,1,1]),o._glDatas={},o._uvTransform=new u.default(t),o.uploadUvTransform=!1,o.pluginName="mesh",o}(r.default=f).DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":64,"../extras/TextureTransform":134}],165:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=t("./Plane"),s=(o=a)&&o.__esModule?o:{default:o};var u,l=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,u=s.default),h.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},h.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},h.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha;var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,a=i.width,s=i.height;this.drawSegment(e,o,a,s,0,1,10,11),this.drawSegment(e,o,a,s,2,3,12,13),this.drawSegment(e,o,a,s,4,5,14,15),this.drawSegment(e,o,a,s,8,9,18,19),this.drawSegment(e,o,a,s,10,11,20,21),this.drawSegment(e,o,a,s,12,13,22,23),this.drawSegment(e,o,a,s,16,17,26,27),this.drawSegment(e,o,a,s,18,19,28,29),this.drawSegment(e,o,a,s,20,21,30,31)},h.prototype.drawSegment=function(t,e,r,n,i,o,a,s){var u=this.uvs,l=this.vertices,h=(u[a]-u[i])*r,c=(u[s]-u[o])*n,f=l[a]-l[i],d=l[s]-l[o];h<1&&(h=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*r,u[o]*n,h,c,l[i],l[o],f,d)},n(h,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this.updateVerticalVertices()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this.updateHorizontalVertices()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t;var e=this.uvs,r=this.vertices;e[2]=e[10]=e[18]=e[26]=this._uvw*t,r[2]=r[10]=r[18]=r[26]=t,this.dirty=!0}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t;var e=this.uvs,r=this.vertices;e[4]=e[12]=e[20]=e[28]=1-this._uvw*t,r[4]=r[12]=r[20]=r[28]=this._width-t,this.dirty=!0}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t;var e=this.uvs,r=this.vertices;e[9]=e[11]=e[13]=e[15]=this._uvh*t,r[9]=r[11]=r[13]=r[15]=t,this.dirty=!0}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t;var e=this.uvs,r=this.vertices;e[17]=e[19]=e[21]=e[23]=1-this._uvh*t,r[17]=r[19]=r[21]=r[23]=this._height-t,this.dirty=!0}}]),h);function h(t,e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,u.call(this,t,4,4)),a=o.uvs;return a[6]=a[14]=a[22]=a[30]=1,a[25]=a[27]=a[29]=a[31]=1,o._origWidth=t.orig.width,o._origHeight=t.orig.height,o._uvw=1/o._origWidth,o._uvh=1/o._origHeight,o.width=o._origWidth,o.height=o._origHeight,a[2]=a[10]=a[18]=a[26]=o._uvw*e,a[4]=a[12]=a[20]=a[28]=1-o._uvw*n,a[9]=a[11]=a[13]=a[15]=o._uvh*r,a[17]=a[19]=a[21]=a[23]=1-o._uvh*i,o.leftWidth=void 0!==e?e:10,o.rightWidth=void 0!==n?n:10,o.topHeight=void 0!==r?r:10,o.bottomHeight=void 0!==i?i:10,o.refresh(!0),o}r.default=l},{"./Plane":166}],166:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("./Mesh"),o=(n=i)&&n.__esModule?n:{default:n};var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=o.default),u.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],n=[],i=[],o=this.verticesX-1,a=this.verticesY-1,s=t.width/o,u=t.height/a,l=0;l<e;l++){var h=l%this.verticesX,c=l/this.verticesX|0;r.push(h*s,c*u),n.push(h/o,c/a)}for(var f=o*a,d=0;d<f;d++){var p=d%o,_=d/o|0,v=_*this.verticesX+p,g=_*this.verticesX+p+1,m=(1+_)*this.verticesX+p,y=(1+_)*this.verticesX+p+1;i.push(v,g,m),i.push(g,y,m)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.indexDirty=!0,this.multiplyUvs()},u.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},u);function u(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,t));return n._ready=!0,n.verticesX=e||10,n.verticesY=r||10,n.drawMode=o.default.DRAW_MODES.TRIANGLES,n.refresh(),n}r.default=s},{"./Mesh":164}],167:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("./Mesh"),o=(n=i)&&n.__esModule?n:{default:n};var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=o.default),u.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=t.length,o=1;o<i;o++){var a=4*o,s=o/(i-1);e[a]=s,e[a+1]=0,e[a+2]=s,e[a+3]=1,n[a=2*o]=1,n[a+1]=1,r[a=2*o]=a,r[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},u.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;i=-((r=s<t.length-1?t[s+1]:u).x-e.x),n=r.y-e.y;var h=10*(1-s/(a-1));1<h&&(h=1);var c=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=c,i/=c,n*=f,i*=f,o[l]=u.x+n,o[1+l]=u.y+i,o[2+l]=u.x-n,o[3+l]=u.y-i,e=u}},u.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},u);function u(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,t));return r.points=e,r.vertices=new Float32Array(4*e.length),r.uvs=new Float32Array(4*e.length),r.colors=new Float32Array(2*e.length),r.indices=new Uint16Array(2*e.length),r.autoUpdate=!0,r.refresh(),r}r.default=s},{"./Mesh":164}],168:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core")),o=t("../Mesh"),a=(n=o)&&n.__esModule?n:{default:n};var s=(u.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.setBlendMode(t.blendMode),t.drawMode===a.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},u.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,2+n,4+n)}},u.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],a=2*e[n+2];this._renderDrawTriangle(t,i,o,a)}},u.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,a=t.vertices,s=t._texture;if(s.valid){var u=s.baseTexture,l=u.source,h=u.width,c=u.height,f=void 0,d=void 0,p=void 0,_=void 0,v=void 0,g=void 0;if(t.uploadUvTransform){var m=t._uvTransform.mapCoord;f=(o[e]*m.a+o[e+1]*m.c+m.tx)*u.width,d=(o[r]*m.a+o[r+1]*m.c+m.tx)*u.width,p=(o[n]*m.a+o[n+1]*m.c+m.tx)*u.width,_=(o[e]*m.b+o[e+1]*m.d+m.ty)*u.height,v=(o[r]*m.b+o[r+1]*m.d+m.ty)*u.height,g=(o[n]*m.b+o[n+1]*m.d+m.ty)*u.height}else f=o[e]*u.width,d=o[r]*u.width,p=o[n]*u.width,_=o[e+1]*u.height,v=o[r+1]*u.height,g=o[n+1]*u.height;var y=a[e],b=a[r],x=a[n],T=a[e+1],w=a[r+1],E=a[n+1];if(0<t.canvasPadding){var S=t.canvasPadding/t.worldTransform.a,P=t.canvasPadding/t.worldTransform.d,M=(y+b+x)/3,A=(T+w+E)/3,C=y-M,R=T-A,O=Math.sqrt(C*C+R*R);y=M+C/O*(O+S),T=A+R/O*(O+P),R=w-A,b=M+(C=b-M)/(O=Math.sqrt(C*C+R*R))*(O+S),w=A+R/O*(O+P),R=E-A,x=M+(C=x-M)/(O=Math.sqrt(C*C+R*R))*(O+S),E=A+R/O*(O+P)}i.save(),i.beginPath(),i.moveTo(y,T),i.lineTo(b,w),i.lineTo(x,E),i.closePath(),i.clip();var I=f*v+_*p+d*g-v*p-_*d-f*g,D=y*v+_*x+b*g-v*x-_*b-y*g,j=f*b+y*p+d*x-b*p-y*d-f*x,k=f*v*x+_*b*p+y*d*g-y*v*p-_*d*x-f*b*g,L=T*v+_*E+w*g-v*E-_*w-T*g,N=f*w+T*p+d*E-w*p-T*d-f*E,F=f*v*E+_*w*p+T*d*g-T*v*p-_*d*E-f*w*g;i.transform(D/I,L/I,j/I,N/I,k/I,F/I),i.drawImage(l,0,0,h*u.resolution,c*u.resolution,0,0,h,c),i.restore()}},u.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,a=r[o],s=r[1+o],u=r[2+o],l=r[3+o],h=r[4+o],c=r[5+o];e.moveTo(a,s),e.lineTo(u,l),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},u.prototype.destroy=function(){this.renderer=null},u);function u(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.renderer=t}r.default=s,i.CanvasRenderer.registerPlugin("mesh",s)},{"../../core":64,"../Mesh":164}],169:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./Mesh");Object.defineProperty(r,"Mesh",{enumerable:!0,get:function(){return l(n).default}});var i=t("./webgl/MeshRenderer");Object.defineProperty(r,"MeshRenderer",{enumerable:!0,get:function(){return l(i).default}});var o=t("./canvas/CanvasMeshRenderer");Object.defineProperty(r,"CanvasMeshRenderer",{enumerable:!0,get:function(){return l(o).default}});var a=t("./Plane");Object.defineProperty(r,"Plane",{enumerable:!0,get:function(){return l(a).default}});var s=t("./NineSlicePlane");Object.defineProperty(r,"NineSlicePlane",{enumerable:!0,get:function(){return l(s).default}});var u=t("./Rope");function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"Rope",{enumerable:!0,get:function(){return l(u).default}})},{"./Mesh":164,"./NineSlicePlane":165,"./Plane":166,"./Rope":167,"./canvas/CanvasMeshRenderer":168,"./webgl/MeshRenderer":170}],170:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core")),a=i(t("pixi-gl-core")),s=i(t("../Mesh"));t("path");function i(t){return t&&t.__esModule?t:{default:t}}var o,u=n.Matrix.IDENTITY,l=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,o=n.ObjectRenderer),h.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")},h.prototype.render=function(t){var e=this.renderer,r=e.gl,n=t._texture;if(n.valid){var i=t._glDatas[e.CONTEXT_UID];i||(e.bindVao(null),(i={shader:this.shader,vertexBuffer:a.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:a.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:a.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty}).vao=new a.default.VertexArrayObject(r).addIndex(i.indexBuffer).addAttribute(i.vertexBuffer,i.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(i.uvBuffer,i.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=i),e.bindVao(i.vao),t.dirty!==i.dirty&&(i.dirty=t.dirty,i.uvBuffer.upload(t.uvs)),t.indexDirty!==i.indexDirty&&(i.indexDirty=t.indexDirty,i.indexBuffer.upload(t.indices)),i.vertexBuffer.upload(t.vertices),e.bindShader(i.shader),i.shader.uniforms.uSampler=e.bindTexture(n),e.state.setBlendMode(t.blendMode),i.shader.uniforms.uTransform&&(t.uploadUvTransform?i.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):i.shader.uniforms.uTransform=u.toArray(!0)),i.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),i.shader.uniforms.alpha=t.worldAlpha,i.shader.uniforms.tint=t.tintRgb;var o=t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;i.vao.draw(o,t.indices.length,0)}},h);function h(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t));return e.shader=null,e}r.default=l,n.WebGLRenderer.registerPlugin("mesh",l)},{"../../core":64,"../Mesh":164,path:23,"pixi-gl-core":12}],171:[function(t,e,r){"use strict";r.__esModule=!0;var i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core"));var o,n=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o=i.Container),a.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},a.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},a.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},a.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},a.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,a=0,s=0,u=t.blendModes[this.blendMode];u!==e.globalCompositeOperation&&(e.globalCompositeOperation=u),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(h.visible){var c=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=h.anchor.x*(-c.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-c.height*h.scale.y)+h.position.y+.5,a=c.width*h.scale.x,s=c.height*h.scale.y;else{n=n||!0,h.displayObjectUpdateTransform();var f=h.worldTransform;t.roundPixels?e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution|0,f.ty*t.resolution|0):e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution,f.ty*t.resolution),i=h.anchor.x*-c.width+.5,o=h.anchor.y*-c.height+.5,a=c.width,s=c.height}var d=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,c.x*d,c.y*d,c.width*d,c.height*d,i*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution)}}}},a.prototype.destroy=function(t){if(o.prototype.destroy.call(this,t),this._buffers)for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._properties=null,this._buffers=null},a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,e=arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this));return 16384<r&&(r=16384),t<r&&(r=t),n._properties=[!1,!0,!1,!1,!1],n._maxSize=t,n._batchSize=r,n._glBuffers={},n._bufferToUpdate=0,n.interactiveChildren=!1,n.blendMode=i.BLEND_MODES.NORMAL,n.roundPixels=!0,n.baseTexture=null,n.setProperties(e),n}r.default=n},{"../core":64}],172:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./ParticleContainer");Object.defineProperty(r,"ParticleContainer",{enumerable:!0,get:function(){return o(n).default}});var i=t("./webgl/ParticleRenderer");function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},{"./ParticleContainer":171,"./webgl/ParticleRenderer":174}],173:[function(t,e,r){"use strict";r.__esModule=!0;var c=n(t("pixi-gl-core")),f=n(t("../../core/utils/createIndicesForQuads"));function n(t){return t&&t.__esModule?t:{default:t}}var i=(a.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,f.default)(this.size),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW);for(var r=this.dynamicStride=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];n.offset=e,e+=n.size,this.dynamicStride+=n.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=c.default.GLBuffer.createVertexBuffer(t,this.dynamicData,t.STREAM_DRAW);for(var i=0,o=this.staticStride=0;o<this.staticProperties.length;++o){var a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=c.default.GLBuffer.createVertexBuffer(t,this.staticData,t.STATIC_DRAW),this.vao=new c.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var s=0;s<this.dynamicProperties.length;++s){var u=this.dynamicProperties[s];this.vao.addAttribute(this.dynamicBuffer,u.attribute,t.FLOAT,!1,4*this.dynamicStride,4*u.offset)}for(var l=0;l<this.staticProperties.length;++l){var h=this.staticProperties[l];this.vao.addAttribute(this.staticBuffer,h.attribute,t.FLOAT,!1,4*this.staticStride,4*h.offset)}},a.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},a.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},a.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},a);function a(t,e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var o=e[i];o={attribute:o.attribute,size:o.size,uploadFunction:o.uploadFunction,offset:o.offset},r[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}r.default=i},{"../../core/utils/createIndicesForQuads":121,"pixi-gl-core":12}],174:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core")),i=o(t("./ParticleShader")),s=o(t("./ParticleBuffer"));function o(t){return t&&t.__esModule?t:{default:t}}var a,u=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,a=n.ObjectRenderer),l.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},l.prototype.start=function(){this.renderer.bindShader(this.shader)},l.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){r<o&&(o=r);var a=t._glBuffers[i.CONTEXT_UID];a=a||(t._glBuffers[i.CONTEXT_UID]=this.generateBuffers(t)),this.renderer.setBlendMode(t.blendMode);var s=i.gl,u=t.worldTransform.copy(this.tempMatrix);u.prepend(i._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=u.toArray(!0),this.shader.uniforms.uAlpha=t.worldAlpha;var l=e[0]._texture.baseTexture;this.shader.uniforms.uSampler=i.bindTexture(l);for(var h=0,c=0;h<o;h+=n,c+=1){var f=o-h;n<f&&(f=n);var d=a[c];d.uploadDynamic(e,h,f),t._bufferToUpdate===c&&(d.uploadStatic(e,h,f),t._bufferToUpdate=c+1),i.bindVao(d.vao),d.vao.draw(s.TRIANGLES,6*f)}}},l.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,o=t._properties,a=0;a<n;a+=i)r.push(new s.default(e,this.properties,o,i));return r},l.prototype.uploadVertices=function(t,e,r,n,i,o){for(var a=0,s=0,u=0,l=0,h=0;h<r;++h){var c=t[e+h],f=c._texture,d=c.scale.x,p=c.scale.y,_=f.trim,v=f.orig;_?(a=(s=_.x-c.anchor.x*v.width)+_.width,u=(l=_.y-c.anchor.y*v.height)+_.height):(a=v.width*(1-c.anchor.x),s=v.width*-c.anchor.x,u=v.height*(1-c.anchor.y),l=v.height*-c.anchor.y),n[o]=s*d,n[o+1]=l*p,n[o+i]=a*d,n[o+i+1]=l*p,n[o+2*i]=a*d,n[o+2*i+1]=u*p,n[o+3*i]=s*d,n[o+3*i+1]=u*p,o+=4*i}},l.prototype.uploadPosition=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].position;n[o]=s.x,n[o+1]=s.y,n[o+i]=s.x,n[o+i+1]=s.y,n[o+2*i]=s.x,n[o+2*i+1]=s.y,n[o+3*i]=s.x,n[o+3*i+1]=s.y,o+=4*i}},l.prototype.uploadRotation=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].rotation;n[o]=s,n[o+i]=s,n[o+2*i]=s,n[o+3*i]=s,o+=4*i}},l.prototype.uploadUvs=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a]._texture._uvs;s?(n[o]=s.x0,n[o+1]=s.y0,n[o+i]=s.x1,n[o+i+1]=s.y1,n[o+2*i]=s.x2,n[o+2*i+1]=s.y2,n[o+3*i]=s.x3,n[o+3*i+1]=s.y3):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0),o+=4*i}},l.prototype.uploadAlpha=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].alpha;n[o]=s,n[o+i]=s,n[o+2*i]=s,n[o+3*i]=s,o+=4*i}},l.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),a.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},l);function l(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,t));return e.shader=null,e.indexBuffer=null,e.properties=null,e.tempMatrix=new n.Matrix,e.CONTEXT_UID=0,e}r.default=u,n.WebGLRenderer.registerPlugin("particle",u)},{"../../core":64,"./ParticleBuffer":173,"./ParticleShader":175}],175:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=t("../../core/Shader"),o=(n=i)&&n.__esModule?n:{default:n};var a,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,a=o.default),u);function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n")))}r.default=s},{"../../core/Shader":43}],176:[function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1})},{}],177:[function(t,e,r){"use strict";var n,i=t("object-assign"),o=(n=i)&&n.__esModule?n:{default:n};Object.assign||(Object.assign=o.default)},{"object-assign":5}],178:[function(t,e,r){"use strict";t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":176,"./Object.assign":177,"./requestAnimationFrame":179}],179:[function(t,e,r){(function(t){"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),r=["ms","moz","webkit","o"],i=0;i<r.length&&!t.requestAnimationFrame;++i){var o=r[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+n-e;return r<0&&(r=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],180:[function(t,e,r){"use strict";r.__esModule=!0;var n,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../core")),i=t("./limiters/CountLimiter"),o=(n=i)&&n.__esModule?n:{default:n};var u=s.ticker.shared;s.settings.UPLOADS_PER_FRAME=4;var a=(l.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,u.addOnce(this.tick,this,s.UPDATE_PRIORITY.UTILITY))):e&&e()},l.prototype.tick=function(){setTimeout(this.delayedTick,0)},l.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)u.addOnce(this.tick,this,s.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var i=this.completes.slice(0),o=this.completes.length=0,a=i.length;o<a;o++)i[o]()}},l.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},l.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},l.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof s.Container)for(var n=t.children.length-1;0<=n;n--)this.add(t.children[n]);return this},l.prototype.destroy=function(){this.ticking&&u.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},l);function l(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),this.limiter=new o.default(s.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(_),this.registerFindHook(v),this.registerFindHook(h),this.registerFindHook(c),this.registerFindHook(f),this.registerUploadHook(d),this.registerUploadHook(p)}function h(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof s.Texture){var i=t._textures[n].baseTexture;-1===e.indexOf(i)&&(e.push(i),r=!0)}return r}function c(t,e){return t instanceof s.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function f(t,e){if(t._texture&&t._texture instanceof s.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function d(t,e){return e instanceof s.Text&&(e.updateText(!0),!0)}function p(t,e){if(e instanceof s.TextStyle){var r=s.Text.getFontStyle(e);return s.Text.fontPropertiesCache[r]||s.Text.calculateFontProperties(r),!0}return!1}function _(t,e){if(t instanceof s.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function v(t,e){return t instanceof s.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}r.default=a},{"../core":64,"./limiters/CountLimiter":183}],181:[function(t,e,r){"use strict";r.__esModule=!0;var n,o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core")),i=t("../BasePrepare"),a=(n=i)&&n.__esModule?n:{default:n};var s,u=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,s=a.default),l.prototype.destroy=function(){s.prototype.destroy.call(this),this.ctx=null,this.canvas=null},l);function l(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this,t));return(e.uploadHookHelper=e).canvas=document.createElement("canvas"),e.canvas.width=16,e.canvas.height=16,e.ctx=e.canvas.getContext("2d"),e.registerUploadHook(h),e}function h(t,e){if(e instanceof o.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),i=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,i,0,0,t.canvas.width,t.canvas.height),!0}return!1}r.default=u,o.CanvasRenderer.registerPlugin("prepare",u)},{"../../core":64,"../BasePrepare":180}],182:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./webgl/WebGLPrepare");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return u(n).default}});var i=t("./canvas/CanvasPrepare");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return u(i).default}});var o=t("./BasePrepare");Object.defineProperty(r,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}});var a=t("./limiters/CountLimiter");Object.defineProperty(r,"CountLimiter",{enumerable:!0,get:function(){return u(a).default}});var s=t("./limiters/TimeLimiter");function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"TimeLimiter",{enumerable:!0,get:function(){return u(s).default}})},{"./BasePrepare":180,"./canvas/CanvasPrepare":181,"./limiters/CountLimiter":183,"./limiters/TimeLimiter":184,"./webgl/WebGLPrepare":185}],183:[function(t,e,r){"use strict";r.__esModule=!0;var n=(i.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},i.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},i);function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.maxItemsPerFrame=t,this.itemsLeft=0}r.default=n},{}],184:[function(t,e,r){"use strict";r.__esModule=!0;var n=(i.prototype.beginFrame=function(){this.frameStart=Date.now()},i.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},i);function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.maxMilliseconds=t,this.frameStart=0}r.default=n},{}],185:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(t("../../core")),o=t("../BasePrepare"),a=(n=o)&&n.__esModule?n:{default:n};var s,u=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,s=a.default),l);function l(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this,t));return e.uploadHookHelper=e.renderer,e.registerFindHook(f),e.registerUploadHook(h),e.registerUploadHook(c),e}function h(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function c(t,e){return e instanceof i.Graphics&&(!e.dirty&&!e.clearDirty&&e._webGL[t.plugins.graphics.CONTEXT_UID]||t.plugins.graphics.updateGraphics(e),!0)}function f(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}r.default=u,i.WebGLRenderer.registerPlugin("prepare",u)},{"../../core":64,"../BasePrepare":180}],186:[function(g,t,m){(function(t){"use strict";m.__esModule=!0,m.loader=m.prepare=m.particles=m.mesh=m.loaders=m.interaction=m.filters=m.extras=m.extract=m.accessibility=void 0;var e=g("./polyfill");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(m,t,{enumerable:!0,get:function(){return e[t]}})});var r=g("./core");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(m,t,{enumerable:!0,get:function(){return r[t]}})});var n,i=g("./deprecation"),o=(n=i)&&n.__esModule?n:{default:n},a=_(g("./accessibility")),s=_(g("./extract")),u=_(g("./extras")),l=_(g("./filters")),h=_(g("./interaction")),c=_(g("./loaders")),f=_(g("./mesh")),d=_(g("./particles")),p=_(g("./prepare"));function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}r.utils.mixins.performMixins();var v=c.shared||null;m.accessibility=a,m.extract=s,m.extras=u,m.filters=l,m.interaction=h,m.loaders=c,m.mesh=f,m.particles=d,m.prepare=p,m.loader=v,"function"==typeof o.default&&(0,o.default)(m),t.PIXI=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":41,"./core":64,"./deprecation":128,"./extract":130,"./extras":139,"./filters":150,"./interaction":157,"./loaders":160,"./mesh":169,"./particles":172,"./polyfill":178,"./prepare":182}]},{},[186])(186)});var pixi_spine,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();!function(t){!function(j){var k,t,v,e,r,n,L=(i.prototype.apply=function(t,e,r,n,i,o,a,s){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,0<e&&(e%=this.duration));for(var u=this.timelines,l=0,h=u.length;l<h;l++)u[l].apply(t,e,r,i,o,a,s)},i.binarySearch=function(t,e,r){void 0===r&&(r=1);var n=0,i=t.length/r-2;if(0==i)return r;for(var o=i>>>1;;){if(t[(o+1)*r]<=e?n=o+1:i=o,n==i)return(n+1)*r;o=n+i>>>1}},i.linearSearch=function(t,e,r){for(var n=0,i=t.length-r;n<=i;n+=r)if(t[n]>e)return n;return-1},i);function i(t,e,r){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=r}j.Animation=L,(t=k=j.MixPose||(j.MixPose={}))[t.setup=0]="setup",t[t.current=1]="current",t[t.currentLayered=2]="currentLayered",(e=v=j.MixDirection||(j.MixDirection={}))[e.in=0]="in",e[e.out=1]="out",(n=r=j.TimelineType||(j.TimelineType={}))[n.rotate=0]="rotate",n[n.translate=1]="translate",n[n.scale=2]="scale",n[n.shear=3]="shear",n[n.attachment=4]="attachment",n[n.color=5]="color",n[n.deform=6]="deform",n[n.event=7]="event",n[n.drawOrder=8]="drawOrder",n[n.ikConstraint=9]="ikConstraint",n[n.transformConstraint=10]="transformConstraint",n[n.pathConstraintPosition=11]="pathConstraintPosition",n[n.pathConstraintSpacing=12]="pathConstraintSpacing",n[n.pathConstraintMix=13]="pathConstraintMix",n[n.twoColor=14]="twoColor";var o=(m.prototype.getFrameCount=function(){return this.curves.length/m.BEZIER_SIZE+1},m.prototype.setLinear=function(t){this.curves[t*m.BEZIER_SIZE]=m.LINEAR},m.prototype.setStepped=function(t){this.curves[t*m.BEZIER_SIZE]=m.STEPPED},m.prototype.getCurveType=function(t){var e=t*m.BEZIER_SIZE;if(e==this.curves.length)return m.LINEAR;var r=this.curves[e];return r==m.LINEAR?m.LINEAR:r==m.STEPPED?m.STEPPED:m.BEZIER},m.prototype.setCurve=function(t,e,r,n,i){var o=.03*(2*-e+n),a=.03*(2*-r+i),s=.006*(3*(e-n)+1),u=.006*(3*(r-i)+1),l=2*o+s,h=2*a+u,c=.3*e+o+.16666667*s,f=.3*r+a+.16666667*u,d=t*m.BEZIER_SIZE,p=this.curves;p[d++]=m.BEZIER;for(var _=c,v=f,g=d+m.BEZIER_SIZE-1;d<g;d+=2)p[d]=_,p[d+1]=v,c+=l,f+=h,l+=s,h+=u,_+=c,v+=f},m.prototype.getCurvePercent=function(t,e){e=j.MathUtils.clamp(e,0,1);var r=this.curves,n=t*m.BEZIER_SIZE,i=r[n];if(i==m.LINEAR)return e;if(i==m.STEPPED)return 0;for(var o=0,a=++n,s=n+m.BEZIER_SIZE-1;n<s;n+=2)if(e<=(o=r[n])){var u=void 0,l=void 0;return(l=n==a?u=0:(u=r[n-2],r[n-1]))+(r[n+1]-l)*(e-u)/(o-u)}var h=r[n-1];return h+(1-h)*(e-o)/(1-o)},m.LINEAR=0,m.STEPPED=1,m.BEZIER=2,m.BEZIER_SIZE=19,m);function m(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=j.Utils.newFloatArray((t-1)*m.BEZIER_SIZE)}j.CurveTimeline=o;var a,s=(__extends(g,a=o),g.prototype.getPropertyId=function(){return(r.rotate<<24)+this.boneIndex},g.prototype.setFrame=function(t,e,r){t<<=1,this.frames[t]=e,this.frames[t+g.ROTATION]=r},g.prototype.apply=function(t,e,r,n,i,o,a){var s=this.frames,u=t.bones[this.boneIndex];if(r<s[0])switch(o){case k.setup:return void(u.rotation=u.data.rotation);case k.current:var l=u.data.rotation-u.rotation;l-=360*(16384-(16384.499999999996-l/360|0)),u.rotation+=l*i}else if(r>=s[s.length-g.ENTRIES])if(o==k.setup)u.rotation=u.data.rotation+s[s.length+g.PREV_ROTATION]*i;else{var h=u.data.rotation+s[s.length+g.PREV_ROTATION]-u.rotation;h-=360*(16384-(16384.499999999996-h/360|0)),u.rotation+=h*i}else{var c=L.binarySearch(s,r,g.ENTRIES),f=s[c+g.PREV_ROTATION],d=s[c],p=this.getCurvePercent((c>>1)-1,1-(r-d)/(s[c+g.PREV_TIME]-d)),_=s[c+g.ROTATION]-f;_=f+(_-=360*(16384-(16384.499999999996-_/360|0)))*p,o==k.setup?(_-=360*(16384-(16384.499999999996-_/360|0)),u.rotation=u.data.rotation+_*i):(_=u.data.rotation+_-u.rotation,_-=360*(16384-(16384.499999999996-_/360|0)),u.rotation+=_*i)}},g.ENTRIES=2,g.PREV_TIME=-2,g.PREV_ROTATION=-1,g.ROTATION=1,g);function g(t){var e=a.call(this,t)||this;return e.frames=j.Utils.newFloatArray(t<<1),e}j.RotateTimeline=s;var u,l=(__extends(p,u=o),p.prototype.getPropertyId=function(){return(r.translate<<24)+this.boneIndex},p.prototype.setFrame=function(t,e,r,n){t*=p.ENTRIES,this.frames[t]=e,this.frames[t+p.X]=r,this.frames[t+p.Y]=n},p.prototype.apply=function(t,e,r,n,i,o,a){var s=this.frames,u=t.bones[this.boneIndex];if(r<s[0])switch(o){case k.setup:return u.x=u.data.x,void(u.y=u.data.y);case k.current:u.x+=(u.data.x-u.x)*i,u.y+=(u.data.y-u.y)*i}else{var l=0,h=0;if(r>=s[s.length-p.ENTRIES])l=s[s.length+p.PREV_X],h=s[s.length+p.PREV_Y];else{var c=L.binarySearch(s,r,p.ENTRIES);l=s[c+p.PREV_X],h=s[c+p.PREV_Y];var f=s[c],d=this.getCurvePercent(c/p.ENTRIES-1,1-(r-f)/(s[c+p.PREV_TIME]-f));l+=(s[c+p.X]-l)*d,h+=(s[c+p.Y]-h)*d}o==k.setup?(u.x=u.data.x+l*i,u.y=u.data.y+h*i):(u.x+=(u.data.x+l-u.x)*i,u.y+=(u.data.y+h-u.y)*i)}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_X=-2,p.PREV_Y=-1,p.X=1,p.Y=2,p);function p(t){var e=u.call(this,t)||this;return e.frames=j.Utils.newFloatArray(t*p.ENTRIES),e}j.TranslateTimeline=l;var h,c=(__extends(y,h=l),y.prototype.getPropertyId=function(){return(r.scale<<24)+this.boneIndex},y.prototype.apply=function(t,e,r,n,i,o,a){var s=this.frames,u=t.bones[this.boneIndex];if(r<s[0])switch(o){case k.setup:return u.scaleX=u.data.scaleX,void(u.scaleY=u.data.scaleY);case k.current:u.scaleX+=(u.data.scaleX-u.scaleX)*i,u.scaleY+=(u.data.scaleY-u.scaleY)*i}else{var l=0,h=0;if(r>=s[s.length-y.ENTRIES])l=s[s.length+y.PREV_X]*u.data.scaleX,h=s[s.length+y.PREV_Y]*u.data.scaleY;else{var c=L.binarySearch(s,r,y.ENTRIES);l=s[c+y.PREV_X],h=s[c+y.PREV_Y];var f=s[c],d=this.getCurvePercent(c/y.ENTRIES-1,1-(r-f)/(s[c+y.PREV_TIME]-f));l=(l+(s[c+y.X]-l)*d)*u.data.scaleX,h=(h+(s[c+y.Y]-h)*d)*u.data.scaleY}if(1==i)u.scaleX=l,u.scaleY=h;else{var p=0,_=0;_=o==k.setup?(p=u.data.scaleX,u.data.scaleY):(p=u.scaleX,u.scaleY),a==v.out?(l=Math.abs(l)*j.MathUtils.signum(p),h=Math.abs(h)*j.MathUtils.signum(_)):(p=Math.abs(p)*j.MathUtils.signum(l),_=Math.abs(_)*j.MathUtils.signum(h)),u.scaleX=p+(l-p)*i,u.scaleY=_+(h-_)*i}}},y);function y(t){return h.call(this,t)||this}j.ScaleTimeline=c;var f,d=(__extends(_,f=l),_.prototype.getPropertyId=function(){return(r.shear<<24)+this.boneIndex},_.prototype.apply=function(t,e,r,n,i,o,a){var s=this.frames,u=t.bones[this.boneIndex];if(r<s[0])switch(o){case k.setup:return u.shearX=u.data.shearX,void(u.shearY=u.data.shearY);case k.current:u.shearX+=(u.data.shearX-u.shearX)*i,u.shearY+=(u.data.shearY-u.shearY)*i}else{var l=0,h=0;if(r>=s[s.length-_.ENTRIES])l=s[s.length+_.PREV_X],h=s[s.length+_.PREV_Y];else{var c=L.binarySearch(s,r,_.ENTRIES);l=s[c+_.PREV_X],h=s[c+_.PREV_Y];var f=s[c],d=this.getCurvePercent(c/_.ENTRIES-1,1-(r-f)/(s[c+_.PREV_TIME]-f));l+=(s[c+_.X]-l)*d,h+=(s[c+_.Y]-h)*d}o==k.setup?(u.shearX=u.data.shearX+l*i,u.shearY=u.data.shearY+h*i):(u.shearX+=(u.data.shearX+l-u.shearX)*i,u.shearY+=(u.data.shearY+h-u.shearY)*i)}},_);function _(t){return f.call(this,t)||this}j.ShearTimeline=d;var b,x=(__extends(T,b=o),T.prototype.getPropertyId=function(){return(r.color<<24)+this.slotIndex},T.prototype.setFrame=function(t,e,r,n,i,o){t*=T.ENTRIES,this.frames[t]=e,this.frames[t+T.R]=r,this.frames[t+T.G]=n,this.frames[t+T.B]=i,this.frames[t+T.A]=o},T.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex],u=this.frames;if(r<u[0])switch(o){case k.setup:return void s.color.setFromColor(s.data.color);case k.current:var l=s.color,h=s.data.color;l.add((h.r-l.r)*i,(h.g-l.g)*i,(h.b-l.b)*i,(h.a-l.a)*i)}else{var c=0,f=0,d=0,p=0;if(r>=u[u.length-T.ENTRIES]){var _=u.length;c=u[_+T.PREV_R],f=u[_+T.PREV_G],d=u[_+T.PREV_B],p=u[_+T.PREV_A]}else{var v=L.binarySearch(u,r,T.ENTRIES);c=u[v+T.PREV_R],f=u[v+T.PREV_G],d=u[v+T.PREV_B],p=u[v+T.PREV_A];var g=u[v],m=this.getCurvePercent(v/T.ENTRIES-1,1-(r-g)/(u[v+T.PREV_TIME]-g));c+=(u[v+T.R]-c)*m,f+=(u[v+T.G]-f)*m,d+=(u[v+T.B]-d)*m,p+=(u[v+T.A]-p)*m}1==i?s.color.set(c,f,d,p):(l=s.color,o==k.setup&&l.setFromColor(s.data.color),l.add((c-l.r)*i,(f-l.g)*i,(d-l.b)*i,(p-l.a)*i))}},T.ENTRIES=5,T.PREV_TIME=-5,T.PREV_R=-4,T.PREV_G=-3,T.PREV_B=-2,T.PREV_A=-1,T.R=1,T.G=2,T.B=3,T.A=4,T);function T(t){var e=b.call(this,t)||this;return e.frames=j.Utils.newFloatArray(t*T.ENTRIES),e}j.ColorTimeline=x;var w,E=(__extends(S,w=o),S.prototype.getPropertyId=function(){return(r.twoColor<<24)+this.slotIndex},S.prototype.setFrame=function(t,e,r,n,i,o,a,s,u){t*=S.ENTRIES,this.frames[t]=e,this.frames[t+S.R]=r,this.frames[t+S.G]=n,this.frames[t+S.B]=i,this.frames[t+S.A]=o,this.frames[t+S.R2]=a,this.frames[t+S.G2]=s,this.frames[t+S.B2]=u},S.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex],u=this.frames;if(r<u[0])switch(o){case k.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case k.current:var l=s.color,h=s.darkColor,c=s.data.color,f=s.data.darkColor;l.add((c.r-l.r)*i,(c.g-l.g)*i,(c.b-l.b)*i,(c.a-l.a)*i),h.add((f.r-h.r)*i,(f.g-h.g)*i,(f.b-h.b)*i,0)}else{var d=0,p=0,_=0,v=0,g=0,m=0,y=0;if(r>=u[u.length-S.ENTRIES]){var b=u.length;d=u[b+S.PREV_R],p=u[b+S.PREV_G],_=u[b+S.PREV_B],v=u[b+S.PREV_A],g=u[b+S.PREV_R2],m=u[b+S.PREV_G2],y=u[b+S.PREV_B2]}else{var x=L.binarySearch(u,r,S.ENTRIES);d=u[x+S.PREV_R],p=u[x+S.PREV_G],_=u[x+S.PREV_B],v=u[x+S.PREV_A],g=u[x+S.PREV_R2],m=u[x+S.PREV_G2],y=u[x+S.PREV_B2];var T=u[x],w=this.getCurvePercent(x/S.ENTRIES-1,1-(r-T)/(u[x+S.PREV_TIME]-T));d+=(u[x+S.R]-d)*w,p+=(u[x+S.G]-p)*w,_+=(u[x+S.B]-_)*w,v+=(u[x+S.A]-v)*w,g+=(u[x+S.R2]-g)*w,m+=(u[x+S.G2]-m)*w,y+=(u[x+S.B2]-y)*w}1==i?(s.color.set(d,p,_,v),s.darkColor.set(g,m,y,1)):(l=s.color,h=s.darkColor,o==k.setup&&(l.setFromColor(s.data.color),h.setFromColor(s.data.darkColor)),l.add((d-l.r)*i,(p-l.g)*i,(_-l.b)*i,(v-l.a)*i),h.add((g-h.r)*i,(m-h.g)*i,(y-h.b)*i,0))}},S.ENTRIES=8,S.PREV_TIME=-8,S.PREV_R=-7,S.PREV_G=-6,S.PREV_B=-5,S.PREV_A=-4,S.PREV_R2=-3,S.PREV_G2=-2,S.PREV_B2=-1,S.R=1,S.G=2,S.B=3,S.A=4,S.R2=5,S.G2=6,S.B2=7,S);function S(t){var e=w.call(this,t)||this;return e.frames=j.Utils.newFloatArray(t*S.ENTRIES),e}j.TwoColorTimeline=E;var P=(M.prototype.getPropertyId=function(){return(r.attachment<<24)+this.slotIndex},M.prototype.getFrameCount=function(){return this.frames.length},M.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r},M.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(a!=v.out||o!=k.setup){var u=this.frames;if(r<u[0]){if(o==k.setup){var l=s.data.attachmentName;s.setAttachment(null==l?null:t.getAttachment(this.slotIndex,l))}}else{var h=0;h=r>=u[u.length-1]?u.length-1:L.binarySearch(u,r,1)-1;var c=this.attachmentNames[h];t.slots[this.slotIndex].setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))}}else{var f=s.data.attachmentName;s.setAttachment(null==f?null:t.getAttachment(this.slotIndex,f))}},M);function M(t){this.frames=j.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}j.AttachmentTimeline=P;var A,N=null,C=(__extends(R,A=o),R.prototype.getPropertyId=function(){return(r.deform<<27)+ +this.attachment.id+this.slotIndex},R.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.frameVertices[t]=r},R.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex],u=s.getAttachment();if(u instanceof j.VertexAttachment&&u.applyDeform(this.attachment)){var l=s.attachmentVertices,h=this.frameVertices,c=h[0].length,f=j.Utils.setArraySize(l,c),d=this.frames;if(r<d[0]){var p=u;switch(o){case k.setup:var _=void 0;return null==p.bones?_=p.vertices:(_=N).length<c&&(N=_=j.Utils.newFloatArray(c)),void j.Utils.arrayCopy(_,0,f,0,c);case k.current:if(1==i)break;if(null==p.bones)for(var v=p.vertices,g=0;g<c;g++)f[g]+=(v[g]-f[g])*i;else{i=1-i;for(var m=0;m<c;m++)f[m]*=i}}}else if(r>=d[d.length-1]){var y=h[d.length-1];if(1==i)j.Utils.arrayCopy(y,0,f,0,c);else if(o==k.setup)if(null==(p=u).bones){v=p.vertices;for(var b=0;b<c;b++){var x=v[b];f[b]=x+(y[b]-x)*i}}else for(var T=0;T<c;T++)f[T]=y[T]*i;else for(var w=0;w<c;w++)f[w]+=(y[w]-f[w])*i}else{var E=L.binarySearch(d,r),S=h[E-1],P=h[E],M=d[E],A=this.getCurvePercent(E-1,1-(r-M)/(d[E-1]-M));if(1==i)for(var C=0;C<c;C++){var R=S[C];f[C]=R+(P[C]-R)*A}else if(o==k.setup)if(null==(p=u).bones){v=p.vertices;for(var O=0;O<c;O++)R=S[O],x=v[O],f[O]=x+(R+(P[O]-R)*A-x)*i}else for(var I=0;I<c;I++)R=S[I],f[I]=(R+(P[I]-R)*A)*i;else for(var D=0;D<c;D++)R=S[D],f[D]+=(R+(P[D]-R)*A-f[D])*i}}},R);function R(t){var e=A.call(this,t)||this;return e.frames=j.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==N&&(N=j.Utils.newFloatArray(64)),e}j.DeformTimeline=C;var O=(I.prototype.getPropertyId=function(){return r.event<<24},I.prototype.getFrameCount=function(){return this.frames.length},I.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},I.prototype.apply=function(t,e,r,n,i,o,a){if(null!=n){var s=this.frames,u=this.frames.length;if(r<e)this.apply(t,e,Number.MAX_VALUE,n,i,o,a),e=-1;else if(e>=s[u-1])return;if(!(r<s[0])){var l=0;if(e<s[0])l=0;else for(var h=s[l=L.binarySearch(s,e)];0<l&&s[l-1]==h;)l--;for(;l<u&&r>=s[l];l++)n.push(this.events[l])}}},I);function I(t){this.frames=j.Utils.newFloatArray(t),this.events=new Array(t)}j.EventTimeline=O;var D=(F.prototype.getPropertyId=function(){return r.drawOrder<<24},F.prototype.getFrameCount=function(){return this.frames.length},F.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r},F.prototype.apply=function(t,e,r,n,i,o,a){var s=t.drawOrder,u=t.slots;if(a!=v.out||o!=k.setup){var l=this.frames;if(r<l[0])o==k.setup&&j.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var h=0;h=r>=l[l.length-1]?l.length-1:L.binarySearch(l,r)-1;var c=this.drawOrders[h];if(null==c)j.Utils.arrayCopy(u,0,s,0,u.length);else for(var f=0,d=c.length;f<d;f++)s[f]=u[c[f]]}}else j.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},F);function F(t){this.frames=j.Utils.newFloatArray(t),this.drawOrders=new Array(t)}j.DrawOrderTimeline=D;var U,B=(__extends(V,U=o),V.prototype.getPropertyId=function(){return(r.ikConstraint<<24)+this.ikConstraintIndex},V.prototype.setFrame=function(t,e,r,n){t*=V.ENTRIES,this.frames[t]=e,this.frames[t+V.MIX]=r,this.frames[t+V.BEND_DIRECTION]=n},V.prototype.apply=function(t,e,r,n,i,o,a){var s=this.frames,u=t.ikConstraints[this.ikConstraintIndex];if(r<s[0])switch(o){case k.setup:return u.mix=u.data.mix,void(u.bendDirection=u.data.bendDirection);case k.current:u.mix+=(u.data.mix-u.mix)*i,u.bendDirection=u.data.bendDirection}else if(r>=s[s.length-V.ENTRIES])o==k.setup?(u.mix=u.data.mix+(s[s.length+V.PREV_MIX]-u.data.mix)*i,u.bendDirection=a==v.out?u.data.bendDirection:s[s.length+V.PREV_BEND_DIRECTION]):(u.mix+=(s[s.length+V.PREV_MIX]-u.mix)*i,a==v.in&&(u.bendDirection=s[s.length+V.PREV_BEND_DIRECTION]));else{var l=L.binarySearch(s,r,V.ENTRIES),h=s[l+V.PREV_MIX],c=s[l],f=this.getCurvePercent(l/V.ENTRIES-1,1-(r-c)/(s[l+V.PREV_TIME]-c));o==k.setup?(u.mix=u.data.mix+(h+(s[l+V.MIX]-h)*f-u.data.mix)*i,u.bendDirection=a==v.out?u.data.bendDirection:s[l+V.PREV_BEND_DIRECTION]):(u.mix+=(h+(s[l+V.MIX]-h)*f-u.mix)*i,a==v.in&&(u.bendDirection=s[l+V.PREV_BEND_DIRECTION]))}},V.ENTRIES=3,V.PREV_TIME=-3,V.PREV_MIX=-2,V.PREV_BEND_DIRECTION=-1,V.MIX=1,V.BEND_DIRECTION=2,V);function V(t){var e=U.call(this,t)||this;return e.frames=j.Utils.newFloatArray(t*V.ENTRIES),e}j.IkConstraintTimeline=B;var X,W=(__extends(H,X=o),H.prototype.getPropertyId=function(){return(r.transformConstraint<<24)+this.transformConstraintIndex},H.prototype.setFrame=function(t,e,r,n,i,o){t*=H.ENTRIES,this.frames[t]=e,this.frames[t+H.ROTATE]=r,this.frames[t+H.TRANSLATE]=n,this.frames[t+H.SCALE]=i,this.frames[t+H.SHEAR]=o},H.prototype.apply=function(t,e,r,n,i,o,a){var s=this.frames,u=t.transformConstraints[this.transformConstraintIndex];if(r<s[0]){var l=u.data;switch(o){case k.setup:return u.rotateMix=l.rotateMix,u.translateMix=l.translateMix,u.scaleMix=l.scaleMix,void(u.shearMix=l.shearMix);case k.current:u.rotateMix+=(l.rotateMix-u.rotateMix)*i,u.translateMix+=(l.translateMix-u.translateMix)*i,u.scaleMix+=(l.scaleMix-u.scaleMix)*i,u.shearMix+=(l.shearMix-u.shearMix)*i}}else{var h=0,c=0,f=0,d=0;if(r>=s[s.length-H.ENTRIES]){var p=s.length;h=s[p+H.PREV_ROTATE],c=s[p+H.PREV_TRANSLATE],f=s[p+H.PREV_SCALE],d=s[p+H.PREV_SHEAR]}else{var _=L.binarySearch(s,r,H.ENTRIES);h=s[_+H.PREV_ROTATE],c=s[_+H.PREV_TRANSLATE],f=s[_+H.PREV_SCALE],d=s[_+H.PREV_SHEAR];var v=s[_],g=this.getCurvePercent(_/H.ENTRIES-1,1-(r-v)/(s[_+H.PREV_TIME]-v));h+=(s[_+H.ROTATE]-h)*g,c+=(s[_+H.TRANSLATE]-c)*g,f+=(s[_+H.SCALE]-f)*g,d+=(s[_+H.SHEAR]-d)*g}o==k.setup?(l=u.data,u.rotateMix=l.rotateMix+(h-l.rotateMix)*i,u.translateMix=l.translateMix+(c-l.translateMix)*i,u.scaleMix=l.scaleMix+(f-l.scaleMix)*i,u.shearMix=l.shearMix+(d-l.shearMix)*i):(u.rotateMix+=(h-u.rotateMix)*i,u.translateMix+=(c-u.translateMix)*i,u.scaleMix+=(f-u.scaleMix)*i,u.shearMix+=(d-u.shearMix)*i)}},H.ENTRIES=5,H.PREV_TIME=-5,H.PREV_ROTATE=-4,H.PREV_TRANSLATE=-3,H.PREV_SCALE=-2,H.PREV_SHEAR=-1,H.ROTATE=1,H.TRANSLATE=2,H.SCALE=3,H.SHEAR=4,H);function H(t){var e=X.call(this,t)||this;return e.frames=j.Utils.newFloatArray(t*H.ENTRIES),e}j.TransformConstraintTimeline=W;var Y,G=(__extends(q,Y=o),q.prototype.getPropertyId=function(){return(r.pathConstraintPosition<<24)+this.pathConstraintIndex},q.prototype.setFrame=function(t,e,r){t*=q.ENTRIES,this.frames[t]=e,this.frames[t+q.VALUE]=r},q.prototype.apply=function(t,e,r,n,i,o,a){var s=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(r<s[0])switch(o){case k.setup:return void(u.position=u.data.position);case k.current:u.position+=(u.data.position-u.position)*i}else{var l=0;if(r>=s[s.length-q.ENTRIES])l=s[s.length+q.PREV_VALUE];else{var h=L.binarySearch(s,r,q.ENTRIES);l=s[h+q.PREV_VALUE];var c=s[h],f=this.getCurvePercent(h/q.ENTRIES-1,1-(r-c)/(s[h+q.PREV_TIME]-c));l+=(s[h+q.VALUE]-l)*f}o==k.setup?u.position=u.data.position+(l-u.data.position)*i:u.position+=(l-u.position)*i}},q.ENTRIES=2,q.PREV_TIME=-2,q.PREV_VALUE=-1,q.VALUE=1,q);function q(t){var e=Y.call(this,t)||this;return e.frames=j.Utils.newFloatArray(t*q.ENTRIES),e}j.PathConstraintPositionTimeline=G;var z,K=(__extends(Z,z=G),Z.prototype.getPropertyId=function(){return(r.pathConstraintSpacing<<24)+this.pathConstraintIndex},Z.prototype.apply=function(t,e,r,n,i,o,a){var s=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(r<s[0])switch(o){case k.setup:return void(u.spacing=u.data.spacing);case k.current:u.spacing+=(u.data.spacing-u.spacing)*i}else{var l=0;if(r>=s[s.length-Z.ENTRIES])l=s[s.length+Z.PREV_VALUE];else{var h=L.binarySearch(s,r,Z.ENTRIES);l=s[h+Z.PREV_VALUE];var c=s[h],f=this.getCurvePercent(h/Z.ENTRIES-1,1-(r-c)/(s[h+Z.PREV_TIME]-c));l+=(s[h+Z.VALUE]-l)*f}o==k.setup?u.spacing=u.data.spacing+(l-u.data.spacing)*i:u.spacing+=(l-u.spacing)*i}},Z);function Z(t){return z.call(this,t)||this}j.PathConstraintSpacingTimeline=K;var Q,$=(__extends(J,Q=o),J.prototype.getPropertyId=function(){return(r.pathConstraintMix<<24)+this.pathConstraintIndex},J.prototype.setFrame=function(t,e,r,n){t*=J.ENTRIES,this.frames[t]=e,this.frames[t+J.ROTATE]=r,this.frames[t+J.TRANSLATE]=n},J.prototype.apply=function(t,e,r,n,i,o,a){var s=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(r<s[0])switch(o){case k.setup:return u.rotateMix=u.data.rotateMix,void(u.translateMix=u.data.translateMix);case k.current:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*i,u.translateMix+=(u.data.translateMix-u.translateMix)*i}else{var l=0,h=0;if(r>=s[s.length-J.ENTRIES])l=s[s.length+J.PREV_ROTATE],h=s[s.length+J.PREV_TRANSLATE];else{var c=L.binarySearch(s,r,J.ENTRIES);l=s[c+J.PREV_ROTATE],h=s[c+J.PREV_TRANSLATE];var f=s[c],d=this.getCurvePercent(c/J.ENTRIES-1,1-(r-f)/(s[c+J.PREV_TIME]-f));l+=(s[c+J.ROTATE]-l)*d,h+=(s[c+J.TRANSLATE]-h)*d}o==k.setup?(u.rotateMix=u.data.rotateMix+(l-u.data.rotateMix)*i,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*i):(u.rotateMix+=(l-u.rotateMix)*i,u.translateMix+=(h-u.translateMix)*i)}},J.ENTRIES=3,J.PREV_TIME=-3,J.PREV_ROTATE=-2,J.PREV_TRANSLATE=-1,J.ROTATE=1,J.TRANSLATE=2,J);function J(t){var e=Q.call(this,t)||this;return e.frames=j.Utils.newFloatArray(t*J.ENTRIES),e}j.PathConstraintMixTimeline=$}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(w){var p=(E.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=t*i.timeScale;if(0<i.delay){if(i.delay-=o,0<i.delay)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(0<=s){for(a.delay=0,a.trackTime=s+t*a.timeScale,i.trackTime+=o,this.setCurrent(r,a,!0);null!=a.mixingFrom;)a.mixTime+=o,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[r]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null;null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=o}}this.queue.drain()},E.prototype.updateMixingFrom=function(t,e){var r=t.mixingFrom;if(null==r)return!0;var n=this.updateMixingFrom(r,e);return 0<t.mixTime&&(t.mixTime>=t.mixDuration||0==t.timeScale)?(0==r.totalAlpha&&(t.mixingFrom=r.mixingFrom,t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,r.trackTime+=e*r.timeScale,t.mixTime+=e*t.timeScale,!1)},E.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,r=this.tracks,n=!1,i=0,o=r.length;i<o;i++){var a=r[i];if(!(null==a||0<a.delay)){n=!0;var s=0==i?w.MixPose.current:w.MixPose.currentLayered,u=a.alpha;null!=a.mixingFrom?u*=this.applyMixingFrom(a,t,s):a.trackTime>=a.trackEnd&&null==a.next&&(u=0);var l=a.animationLast,h=a.getAnimationTime(),c=a.animation.timelines.length,f=a.animation.timelines;if(1==u)for(var d=0;d<c;d++)f[d].apply(t,l,h,e,1,w.MixPose.setup,w.MixDirection.in);else{var p=a.timelineData,_=0==a.timelinesRotation.length;_&&w.Utils.setArraySize(a.timelinesRotation,c<<1,null);var v=a.timelinesRotation;for(d=0;d<c;d++){var g=f[d],m=p[d]>=E.FIRST?w.MixPose.setup:s;g instanceof w.RotateTimeline?this.applyRotateTimeline(g,t,h,u,m,v,d<<1,_):g.apply(t,l,h,e,u,m,w.MixDirection.in)}}this.queueEvents(a,h),e.length=0,a.nextAnimationLast=h,a.nextTrackLast=a.trackTime}}return this.queue.drain(),n},E.prototype.applyMixingFrom=function(t,e,r){var n=t.mixingFrom;null!=n.mixingFrom&&this.applyMixingFrom(n,e,r);var i=0;0==t.mixDuration?i=1:1<(i=t.mixTime/t.mixDuration)&&(i=1);var o=i<n.eventThreshold?this.events:null,a=i<n.attachmentThreshold,s=i<n.drawOrderThreshold,u=n.animationLast,l=n.getAnimationTime(),h=n.animation.timelines.length,c=n.animation.timelines,f=n.timelineData,d=n.timelineDipMix,p=0==n.timelinesRotation.length;p&&w.Utils.setArraySize(n.timelinesRotation,h<<1,null);for(var _,v=n.timelinesRotation,g=n.alpha*t.interruptAlpha,m=g*(1-i),y=0,b=n.totalAlpha=0;b<h;b++){var x=c[b];switch(f[b]){case E.SUBSEQUENT:if(!a&&x instanceof w.AttachmentTimeline)continue;if(!s&&x instanceof w.DrawOrderTimeline)continue;_=r,y=m;break;case E.FIRST:_=w.MixPose.setup,y=m;break;case E.DIP:_=w.MixPose.setup,y=g;break;default:_=w.MixPose.setup,y=g;var T=d[b];y*=Math.max(0,1-T.mixTime/T.mixDuration)}n.totalAlpha+=y,x instanceof w.RotateTimeline?this.applyRotateTimeline(x,e,l,y,_,v,b<<1,p):x.apply(e,u,l,o,y,_,w.MixDirection.out)}return 0<t.mixDuration&&this.queueEvents(n,l),this.events.length=0,n.nextAnimationLast=l,n.nextTrackLast=n.trackTime,i},E.prototype.applyRotateTimeline=function(t,e,r,n,i,o,a,s){if(s&&(o[a]=0),1!=n){var u=t,l=u.frames,h=e.bones[u.boneIndex];if(r<l[0])i==w.MixPose.setup&&(h.rotation=h.data.rotation);else{var c=0;if(r>=l[l.length-w.RotateTimeline.ENTRIES])c=h.data.rotation+l[l.length+w.RotateTimeline.PREV_ROTATION];else{var f=w.Animation.binarySearch(l,r,w.RotateTimeline.ENTRIES),d=l[f+w.RotateTimeline.PREV_ROTATION],p=l[f],_=u.getCurvePercent((f>>1)-1,1-(r-p)/(l[f+w.RotateTimeline.PREV_TIME]-p));c=l[f+w.RotateTimeline.ROTATION]-d,c=d+(c-=360*(16384-(16384.499999999996-c/360|0)))*_+h.data.rotation,c-=360*(16384-(16384.499999999996-c/360|0))}var v=i==w.MixPose.setup?h.data.rotation:h.rotation,g=0,m=c-v;if(0==m)g=o[a];else{m-=360*(16384-(16384.499999999996-m/360|0));var y=0,b=0;b=s?(y=0,m):(y=o[a],o[a+1]);var x=0<m,T=0<=y;w.MathUtils.signum(b)!=w.MathUtils.signum(m)&&Math.abs(b)<=90&&(180<Math.abs(y)&&(y+=360*w.MathUtils.signum(y)),T=x),g=m+y-y%360,T!=x&&(g+=360*w.MathUtils.signum(y)),o[a]=g}o[a+1]=m,v+=g*n,h.rotation=v-360*(16384-(16384.499999999996-v/360|0))}}else t.apply(e,0,r,null,1,i,w.MixDirection.in)},E.prototype.queueEvents=function(t,e){for(var r=t.animationStart,n=t.animationEnd,i=n-r,o=t.trackLast%i,a=this.events,s=0,u=a.length;s<u;s++){var l=a[s];if(l.time<o)break;l.time>n||this.queue.event(t,l)}for((t.loop?o>t.trackTime%i:n<=e&&t.animationLast<n)&&this.queue.complete(t);s<u;s++)a[s].time<r||this.queue.event(t,a[s])},E.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},E.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var r=e;;){var n=r.mixingFrom;if(null==n)break;this.queue.end(n),r.mixingFrom=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}},E.prototype.setCurrent=function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(r&&this.queue.interrupt(n),e.mixingFrom=n,e.mixTime=0,null!=n.mixingFrom&&0<n.mixDuration&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},E.prototype.setAnimation=function(t,e,r){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,r)},E.prototype.setAnimationWith=function(t,e,r){if(null==e)throw new Error("animation cannot be null.");var n=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,n=!1):this.disposeNext(i));var o=this.trackEntry(t,e,r,i);return this.setCurrent(t,o,n),this.queue.drain(),o},E.prototype.addAnimation=function(t,e,r,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,r,n)},E.prototype.addAnimationWith=function(t,e,r,n){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;var o=this.trackEntry(t,e,r,i);if(null==i)this.setCurrent(t,o,!0),this.queue.drain();else if(i.next=o,n<=0){var a=i.animationEnd-i.animationStart;0!=a?n+=a*(1+(i.trackTime/a|0))-this.data.getMix(i.animation,e):n=0}return o.delay=n,o},E.prototype.setEmptyAnimation=function(t,e){var r=this.setAnimationWith(t,E.emptyAnimation,!1);return r.mixDuration=e,r.trackEnd=e,r},E.prototype.addEmptyAnimation=function(t,e,r){r<=0&&(r-=e);var n=this.addAnimationWith(t,E.emptyAnimation,!1,r);return n.mixDuration=e,n.trackEnd=e,n},E.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},E.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(w.Utils.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)},E.prototype.trackEntry=function(t,e,r,n){var i=this.trackEntryPool.obtain();return i.trackIndex=t,i.animation=e,i.loop=r,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==n?0:this.data.getMix(n.animation,e),i},E.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},E.prototype._animationsChanged=function(){this.animationsChanged=!1;var t=this.propertyIDs;t.clear();for(var e=this.mixingTo,r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r];null!=i&&i.setTimelineData(null,e,t)}},E.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},E.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},E.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);0<=e&&this.listeners.splice(e,1)},E.prototype.clearListeners=function(){this.listeners.length=0},E.prototype.clearListenerNotifications=function(){this.queue.clear()},E.prototype.setAnimationByName=function(t,e,r){E.deprecatedWarning1||(E.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,r)},E.prototype.addAnimationByName=function(t,e,r,n){E.deprecatedWarning2||(E.deprecatedWarning2=!0,console.warn("Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,r,n)},E.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},E.prototype.hasAnimationByName=function(t){return E.deprecatedWarning3||(E.deprecatedWarning3=!0,console.warn("Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},E.emptyAnimation=new w.Animation("<empty>",[],0),E.SUBSEQUENT=0,E.FIRST=1,E.DIP=2,E.DIP_MIX=3,E.deprecatedWarning1=!1,E.deprecatedWarning2=!1,E.deprecatedWarning3=!1,E);function E(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new n(this),this.propertyIDs=new w.IntSet,this.mixingTo=new Array,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new w.Pool(function(){return new e}),this.data=t}w.AnimationState=p;var e=(r.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelineData.length=0,this.timelineDipMix.length=0,this.timelinesRotation.length=0},r.prototype.setTimelineData=function(t,e,r){null!=t&&e.push(t);var n=null!=this.mixingFrom?this.mixingFrom.setTimelineData(this,e,r):this;null!=t&&e.pop();var i=e,o=e.length-1,a=this.animation.timelines,s=this.animation.timelines.length,u=w.Utils.setArraySize(this.timelineData,s);this.timelineDipMix.length=0;var l=w.Utils.setArraySize(this.timelineDipMix,s);t:for(var h=0;h<s;h++){var c=a[h].getPropertyId();if(r.add(c))if(null!=t&&t.hasTimeline(c)){for(var f=o;0<=f;f--){var d=i[f];if(!d.hasTimeline(c)&&0<d.mixDuration){u[h]=p.DIP_MIX,l[h]=d;continue t}}u[h]=p.DIP}else u[h]=p.FIRST;else u[h]=p.SUBSEQUENT}return n},r.prototype.hasTimeline=function(t){for(var e=this.animation.timelines,r=0,n=e.length;r<n;r++)if(e[r].getPropertyId()==t)return!0;return!1},r.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},r.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},r.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},r.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(r.prototype,"time",{get:function(){return r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endTime",{get:function(){return r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),r.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},r.deprecatedWarning1=!1,r.deprecatedWarning2=!1,r);function r(){this.timelineData=new Array,this.timelineDipMix=new Array,this.timelinesRotation=new Array}w.TrackEntry=e;var u,t,n=(i.prototype.start=function(t){this.objects.push(u.start),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.interrupt=function(t){this.objects.push(u.interrupt),this.objects.push(t)},i.prototype.end=function(t){this.objects.push(u.end),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.dispose=function(t){this.objects.push(u.dispose),this.objects.push(t)},i.prototype.complete=function(t){this.objects.push(u.complete),this.objects.push(t)},i.prototype.event=function(t,e){this.objects.push(u.event),this.objects.push(t),this.objects.push(e)},i.prototype.deprecateStuff=function(){return i.deprecatedWarning1||(i.deprecatedWarning1=!0,console.warn("Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},i.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];switch(n){case u.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<e.length;o++)e[o].start&&e[o].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case u.interrupt:for(null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i),o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(i);break;case u.end:for(null!=i.listener&&i.listener.end&&i.listener.end(i),o=0;o<e.length;o++)e[o].end&&e[o].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case u.dispose:for(null!=i.listener&&i.listener.dispose&&i.listener.dispose(i),o=0;o<e.length;o++)e[o].dispose&&e[o].dispose(i);this.animState.trackEntryPool.free(i);break;case u.complete:for(null!=i.listener&&i.listener.complete&&i.listener.complete(i),o=0;o<e.length;o++)e[o].complete&&e[o].complete(i);var a=w.MathUtils.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,a),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,a);break;case u.event:var s=t[2+r++];for(null!=i.listener&&i.listener.event&&i.listener.event(i,s),o=0;o<e.length;o++)e[o].event&&e[o].event(i,s);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},i.prototype.clear=function(){this.objects.length=0},i.deprecatedWarning1=!1,i);function i(t){this.objects=[],this.drainDisabled=!1,this.animState=t}w.EventQueue=n,(t=u=w.EventType||(w.EventType={}))[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event";var o=(a.prototype.start=function(t){},a.prototype.interrupt=function(t){},a.prototype.end=function(t){},a.prototype.dispose=function(t){},a.prototype.complete=function(t){},a.prototype.event=function(t,e){},a);function a(){}w.AnimationStateAdapter2=o}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var e,r;function n(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}e=t.core||(t.core={}),n.prototype.setMix=function(t,e,r){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(n,i,r)},n.prototype.setMixByName=function(t,e,r){n.deprecatedWarning1||(n.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,r)},n.prototype.setMixWith=function(t,e,r){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n=t.name+e.name;this.animationToMixTime[n]=r},n.prototype.getMix=function(t,e){var r=t.name+e.name,n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n},n.deprecatedWarning1=!1,r=n,e.AnimationStateData=r}(pixi_spine=pixi_spine||{}),function(t){var o,e;function r(t){this.atlas=t}o=t.core||(t.core={}),r.prototype.newRegionAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (region attachment: "+e+")");var i=new o.RegionAttachment(e);return i.region=n,i},r.prototype.newMeshAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+e+")");var i=new o.MeshAttachment(e);return i.region=n,i},r.prototype.newBoundingBoxAttachment=function(t,e){return new o.BoundingBoxAttachment(e)},r.prototype.newPathAttachment=function(t,e){return new o.PathAttachment(e)},r.prototype.newPointAttachment=function(t,e){return new o.PointAttachment(e)},r.prototype.newClippingAttachment=function(t,e){return new o.ClippingAttachment(e)},e=r,o.AtlasAttachmentLoader=e}(pixi_spine=pixi_spine||{}),function(t){var e,r;e=t.core||(t.core={}),(r=e.BlendMode||(e.BlendMode={}))[r.Normal=0]="Normal",r[r.Additive=1]="Additive",r[r.Multiply=2]="Multiply",r[r.Screen=3]="Screen"}(pixi_spine=pixi_spine||{}),function(t){var R,e;function O(t,e,r){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=r,this.setToSetupPose()}R=t.core||(t.core={}),Object.defineProperty(O.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),O.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},O.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},O.prototype.updateWorldTransformWith=function(t,e,r,n,i,o,a){this.ax=t,this.ay=e,this.arotation=r,this.ascaleX=n,this.ascaleY=i,this.ashearX=o,this.ashearY=a,this.appliedValid=!0;var s=this.parent,u=this.matrix;if(null==s){var l=r+90+a,h=R.MathUtils.cosDeg(r+o)*n,c=R.MathUtils.cosDeg(l)*i,f=R.MathUtils.sinDeg(r+o)*n,d=R.MathUtils.sinDeg(l)*i,p=this.skeleton;return p.flipX&&(t=-t,h=-h,c=-c),p.flipY!==O.yDown&&(e=-e,f=-f,d=-d),u.a=h,u.c=c,u.b=f,u.d=d,u.tx=t+p.x,void(u.ty=e+p.y)}var _=s.matrix.a,v=s.matrix.c,g=s.matrix.b,m=s.matrix.d;switch(u.tx=_*t+v*e+s.matrix.tx,u.ty=g*t+m*e+s.matrix.ty,this.data.transformMode){case R.TransformMode.Normal:return l=r+90+a,h=R.MathUtils.cosDeg(r+o)*n,c=R.MathUtils.cosDeg(l)*i,f=R.MathUtils.sinDeg(r+o)*n,d=R.MathUtils.sinDeg(l)*i,u.a=_*h+v*f,u.c=_*c+v*d,u.b=g*h+m*f,void(u.d=g*c+m*d);case R.TransformMode.OnlyTranslation:l=r+90+a,u.a=R.MathUtils.cosDeg(r+o)*n,u.c=R.MathUtils.cosDeg(l)*i,u.b=R.MathUtils.sinDeg(r+o)*n,u.d=R.MathUtils.sinDeg(l)*i;break;case R.TransformMode.NoRotationOrReflection:var y=0,b=r+o-(y=1e-4<(T=_*_+g*g)?(v=g*(T=Math.abs(_*m-v*g)/T),m=_*T,Math.atan2(g,_)*R.MathUtils.radDeg):(g=_=0,90-Math.atan2(m,v)*R.MathUtils.radDeg)),x=r+a-y+90;h=R.MathUtils.cosDeg(b)*n,c=R.MathUtils.cosDeg(x)*i,f=R.MathUtils.sinDeg(b)*n,d=R.MathUtils.sinDeg(x)*i,u.a=_*h-v*f,u.c=_*c-v*d,u.b=g*h+m*f,u.d=g*c+m*d;break;case R.TransformMode.NoScale:case R.TransformMode.NoScaleOrReflection:var T,w=R.MathUtils.cosDeg(r),E=R.MathUtils.sinDeg(r),S=_*w+v*E,P=g*w+m*E;1e-5<(T=Math.sqrt(S*S+P*P))&&(T=1/T),S*=T,P*=T,T=Math.sqrt(S*S+P*P);var M=Math.PI/2+Math.atan2(P,S),A=Math.cos(M)*T,C=Math.sin(M)*T;return h=R.MathUtils.cosDeg(o)*n,c=R.MathUtils.cosDeg(90+a)*i,f=R.MathUtils.sinDeg(o)*n,d=R.MathUtils.sinDeg(90+a)*i,u.a=S*h+A*f,u.c=S*c+A*d,u.b=P*h+C*f,u.d=P*c+C*d,void((this.data.transformMode!=R.TransformMode.NoScaleOrReflection?_*m-v*g<0:this.skeleton.flipX!=this.skeleton.flipY!=O.yDown)&&(u.c=-u.c,u.d=-u.d))}this.skeleton.flipX&&(u.a=-u.a,u.c=-u.c),this.skeleton.flipY!=O.yDown&&(u.b=-u.b,u.d=-u.d)},O.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},O.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*R.MathUtils.radDeg},O.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*R.MathUtils.radDeg},O.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},O.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},O.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*R.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*R.MathUtils.radDeg);var r=t.matrix,n=1/(r.a*r.d-r.b*r.c),i=e.tx-r.tx,o=e.ty-r.ty;this.ax=i*r.d*n-o*r.c*n,this.ay=o*r.a*n-i*r.b*n;var a=n*r.d,s=n*r.a,u=n*r.c,l=n*r.b,h=a*e.a-u*e.b,c=a*e.c-u*e.d,f=s*e.b-l*e.a,d=s*e.d-l*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(h*h+f*f),1e-4<this.ascaleX){var p=h*d-c*f;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(h*c+f*d,p)*R.MathUtils.radDeg,this.arotation=Math.atan2(f,h)*R.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(c*c+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,c)*R.MathUtils.radDeg},O.prototype.worldToLocal=function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=1/(r*o-n*i),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*o*a-u*n*a,t.y=u*r*a-s*i*a,t},O.prototype.localToWorld=function(t){var e=this.matrix,r=t.x,n=t.y;return t.x=r*e.a+n*e.c+e.tx,t.y=r*e.b+n*e.d+e.ty,t},O.prototype.worldToLocalRotation=function(t){var e=R.MathUtils.sinDeg(t),r=R.MathUtils.cosDeg(t),n=this.matrix;return Math.atan2(n.a*e-n.b*r,n.d*r-n.c*e)*R.MathUtils.radDeg},O.prototype.localToWorldRotation=function(t){var e=R.MathUtils.sinDeg(t),r=R.MathUtils.cosDeg(t),n=this.matrix;return Math.atan2(r*n.b+e*n.d,r*n.a+e*n.c)*R.MathUtils.radDeg},O.prototype.rotateWorld=function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=R.MathUtils.cosDeg(t),s=R.MathUtils.sinDeg(t);e.a=a*r-s*i,e.c=a*n-s*o,e.b=s*r+a*i,e.d=s*n+a*o,this.appliedValid=!1},O.yDown=!1,e=O,R.Bone=e}(pixi_spine=pixi_spine||{}),function(t){var e,n,r;function i(t,e,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=n.Normal,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=r}(e=t.core||(t.core={})).BoneData=i,(r=n=e.TransformMode||(e.TransformMode={}))[r.Normal=0]="Normal",r[r.OnlyTranslation=1]="OnlyTranslation",r[r.NoRotationOrReflection=2]="NoRotationOrReflection",r[r.NoScale=3]="NoScale",r[r.NoScaleOrReflection=4]="NoScaleOrReflection"}(pixi_spine=pixi_spine||{}),function(t){function e(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}(t.core||(t.core={})).Event=e}(pixi_spine=pixi_spine||{}),function(t){function e(t){this.name=t}(t.core||(t.core={})).EventData=e}(pixi_spine=pixi_spine||{}),function(t){var nt,e;function r(t,e){if(this.mix=1,this.bendDirection=0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}nt=t.core||(t.core={}),r.prototype.getOrder=function(){return this.data.order},r.prototype.apply=function(){this.update()},r.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}},r.prototype.apply1=function(t,e,r,n){t.appliedValid||t.updateAppliedTransform();var i=t.parent.matrix,o=1/(i.a*i.d-i.b*i.c),a=e-i.tx,s=r-i.ty,u=(a*i.d-s*i.c)*o-t.ax,l=(s*i.a-a*i.b)*o-t.ay,h=Math.atan2(l,u)*nt.MathUtils.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(h+=180),180<h?h-=360:h<-180&&(h+=360),t.updateWorldTransformWith(t.ax,t.ay,t.arotation+h*n,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)},r.prototype.apply2=function(t,e,r,n,i,o){if(0!=o){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var a=t.ax,s=t.ay,u=t.ascaleX,l=t.ascaleY,h=e.ascaleX,c=t.matrix,f=0,d=0,p=0;p=u<0?(u=-u,f=180,-1):(f=0,1),l<0&&(l=-l,p=-p),d=h<0?(h=-h,180):0;var _=e.ax,v=0,g=0,m=0,y=c.a,b=c.c,x=c.b,T=c.d,w=Math.abs(u-l)<=1e-4;m=w?(g=y*_+b*(v=e.ay)+c.tx,x*_+T*v+c.ty):(v=0,g=y*_+c.tx,x*_+c.ty);var E=t.parent.matrix;y=E.a,b=E.c,x=E.b;var S=1/(y*(T=E.d)-b*x),P=r-E.tx,M=n-E.ty,A=(P*T-M*b)*S-a,C=(M*y-P*x)*S-s,R=((P=g-E.tx)*T-(M=m-E.ty)*b)*S-a,O=(M*y-P*x)*S-s,I=Math.sqrt(R*R+O*O),D=e.data.length*h,j=0,k=0;t:if(w){var L=(A*A+C*C-I*I-(D*=u)*D)/(2*I*D);L<-1?L=-1:1<L&&(L=1),k=Math.acos(L)*i,y=I+D*L,b=D*Math.sin(k),j=Math.atan2(C*y-A*b,A*y+C*b)}else{var N=(y=u*D)*y,F=(b=l*D)*b,U=A*A+C*C,B=Math.atan2(C,A),V=-2*F*I,X=F-N;if(0<=(T=V*V-4*X*(x=F*I*I+N*U-N*F))){var W=Math.sqrt(T);V<0&&(W=-W);var H=(W=-(V+W)/2)/X,Y=x/W,G=Math.abs(H)<Math.abs(Y)?H:Y;if(G*G<=U){M=Math.sqrt(U-G*G)*i,j=B-Math.atan2(M,G),k=Math.atan2(M/l,(G-I)/u);break t}}var q=nt.MathUtils.PI,z=I-y,K=z*z,Z=0,Q=0,$=I+y,J=$*$,tt=0;-1<=(x=-y*I/(N-F))&&x<=1&&(x=Math.acos(x),(T=(P=y*Math.cos(x)+I)*P+(M=b*Math.sin(x))*M)<K&&(q=x,K=T,z=P,Z=M),J<T&&(Q=x,J=T,$=P,tt=M)),k=U<=(K+J)/2?(j=B-Math.atan2(Z*i,z),q*i):(j=B-Math.atan2(tt*i,$),Q*i)}var et=Math.atan2(v,_)*p,rt=t.arotation;180<(j=(j-et)*nt.MathUtils.radDeg+f-rt)?j-=360:j<-180&&(j+=360),t.updateWorldTransformWith(a,s,rt+j*o,t.ascaleX,t.ascaleY,0,0),rt=e.arotation,180<(k=((k+et)*nt.MathUtils.radDeg-e.ashearX)*p+d-rt)?k-=360:k<-180&&(k+=360),e.updateWorldTransformWith(_,v,rt+k*o,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},e=r,nt.IkConstraint=e}(pixi_spine=pixi_spine||{}),function(t){function e(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=t}(t.core||(t.core={})).IkConstraintData=e}(pixi_spine=pixi_spine||{}),function(t){var z,e;function K(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,n=t.bones.length;r<n;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}z=t.core||(t.core={}),K.prototype.apply=function(){this.update()},K.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof z.PathAttachment){var e=this.rotateMix,r=this.translateMix,n=0<e;if(0<r||n){var i=this.data,o=i.spacingMode,a=o==z.SpacingMode.Length,s=i.rotateMode,u=s==z.RotateMode.Tangent,l=s==z.RotateMode.ChainScale,h=this.bones.length,c=u?h:h+1,f=this.bones,d=z.Utils.setArraySize(this.spaces,c),p=null,_=this.spacing;if(l||a){l&&(p=z.Utils.setArraySize(this.lengths,h));for(var v=0,g=c-1;v<g;){var m=(A=f[v]).data.length,y=m*A.matrix.a,b=m*A.matrix.b,x=Math.sqrt(y*y+b*b);l&&(p[v]=x),d[++v]=(a?m+_:_)*x/m}}else for(v=1;v<c;v++)d[v]=_;var T=this.computeWorldPositions(t,c,u,i.positionMode==z.PositionMode.Percent,o==z.SpacingMode.Percent),w=T[0],E=T[1],S=i.offsetRotation,P=!1;0==S?P=s==z.RotateMode.Chain:(P=!1,S*=0<(M=this.target.bone.matrix).a*M.d-M.b*M.c?z.MathUtils.degRad:-z.MathUtils.degRad),v=0;for(var M=3;v<h;v++,M+=3){var A,C=(A=f[v]).matrix;C.tx+=(w-C.tx)*r,C.ty+=(E-C.ty)*r;var R=(y=T[M])-w,O=(b=T[M+1])-E;if(l){var I=p[v];if(0!=I){var D=(Math.sqrt(R*R+O*O)/I-1)*e+1;C.a*=D,C.b*=D}}if(w=y,E=b,n){var j=C.a,k=C.c,L=C.b,N=C.d,F=0,U=0,B=0;if(F=u?T[M-1]:0==d[v+1]?T[M+2]:Math.atan2(O,R),F-=Math.atan2(L,j),P){U=Math.cos(F),B=Math.sin(F);var V=A.data.length;w+=(V*(U*j-B*L)-R)*e,E+=(V*(B*j+U*L)-O)*e}else F+=S;F>z.MathUtils.PI?F-=z.MathUtils.PI2:F<-z.MathUtils.PI&&(F+=z.MathUtils.PI2),F*=e,U=Math.cos(F),B=Math.sin(F),C.a=U*j-B*L,C.c=U*k-B*N,C.b=B*j+U*L,C.d=B*k+U*N}A.appliedValid=!1}}}},K.prototype.computeWorldPositions=function(t,e,r,n,i){var o=this.target,a=this.position,s=this.spaces,u=z.Utils.setArraySize(this.positions,3*e+2),l=null,h=t.closed,c=t.worldVerticesLength,f=c/6,d=K.NONE;if(!t.constantSpeed){var p=t.lengths,_=p[f-=h?1:2];if(n&&(a*=_),i)for(var v=0;v<e;v++)s[v]*=_;l=z.Utils.setArraySize(this.world,8);for(var g=v=0,m=0;v<e;v++,g+=3){var y=a+=W=s[v];if(h)(y%=_)<0&&(y+=_),m=0;else{if(y<0){d!=K.BEFORE&&(d=K.BEFORE,t.computeWorldVertices(o,2,4,l,0,2)),this.addBeforePosition(y,l,0,u,g);continue}if(_<y){d!=K.AFTER&&(d=K.AFTER,t.computeWorldVertices(o,c-6,4,l,0,2)),this.addAfterPosition(y-_,l,0,u,g);continue}}for(;;m++){var b=p[m];if(!(b<y)){0==m?y/=b:y=(y-(q=p[m-1]))/(b-q);break}}m!=d&&(d=m,h&&m==f?(t.computeWorldVertices(o,c-4,4,l,0,2),t.computeWorldVertices(o,0,4,l,4,2)):t.computeWorldVertices(o,6*m+2,8,l,0,2)),this.addCurvePosition(y,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],u,g,r||0<v&&0==W)}return u}h?(c+=2,l=z.Utils.setArraySize(this.world,c),t.computeWorldVertices(o,2,c-4,l,0,2),t.computeWorldVertices(o,0,2,l,c-4,2),l[c-2]=l[0],l[c-1]=l[1]):(f--,c-=4,l=z.Utils.setArraySize(this.world,c),t.computeWorldVertices(o,2,c,l,0,2));for(var x=z.Utils.setArraySize(this.curves,f),T=0,w=l[0],E=l[1],S=0,P=0,M=0,A=0,C=0,R=0,O=0,I=0,D=0,j=0,k=0,L=0,N=0,F=0,U=(v=0,2);v<f;v++,U+=6)S=l[U],P=l[U+1],M=l[U+2],A=l[U+3],k=2*(O=.1875*(w-2*S+M))+(D=.09375*(3*(S-M)-w+(C=l[U+4]))),L=2*(I=.1875*(E-2*P+A))+(j=.09375*(3*(P-A)-E+(R=l[U+5]))),N=.75*(S-w)+O+.16666667*D,F=.75*(P-E)+I+.16666667*j,T+=Math.sqrt(N*N+F*F),N+=k,F+=L,k+=D,L+=j,T+=Math.sqrt(N*N+F*F),N+=k,F+=L,T+=Math.sqrt(N*N+F*F),N+=k+D,F+=L+j,T+=Math.sqrt(N*N+F*F),x[v]=T,w=C,E=R;if(n&&(a*=T),i)for(v=0;v<e;v++)s[v]*=T;for(var B=this.segments,V=0,X=m=g=v=0;v<e;v++,g+=3){var W;if(y=a+=W=s[v],h)(y%=T)<0&&(y+=T),m=0;else{if(y<0){this.addBeforePosition(y,l,0,u,g);continue}if(T<y){this.addAfterPosition(y-T,l,c-4,u,g);continue}}for(;;m++){var H=x[m];if(!(H<y)){0==m?y/=H:y=(y-(q=x[m-1]))/(H-q);break}}if(m!=d){var Y=6*(d=m);for(w=l[Y],E=l[Y+1],S=l[Y+2],P=l[Y+3],M=l[Y+4],A=l[Y+5],k=2*(O=.03*(w-2*S+M))+(D=.006*(3*(S-M)-w+(C=l[Y+6]))),L=2*(I=.03*(E-2*P+A))+(j=.006*(3*(P-A)-E+(R=l[Y+7]))),N=.3*(S-w)+O+.16666667*D,F=.3*(P-E)+I+.16666667*j,V=Math.sqrt(N*N+F*F),B[0]=V,Y=1;Y<8;Y++)N+=k,F+=L,k+=D,L+=j,V+=Math.sqrt(N*N+F*F),B[Y]=V;N+=k,F+=L,V+=Math.sqrt(N*N+F*F),B[8]=V,N+=k+D,F+=L+j,V+=Math.sqrt(N*N+F*F),B[9]=V,X=0}for(y*=V;;X++){var G=B[X];if(!(G<y)){var q;0==X?y/=G:y=X+(y-(q=B[X-1]))/(G-q);break}}this.addCurvePosition(.1*y,w,E,S,P,M,A,C,R,u,g,r||0<v&&0==W)}return u},K.prototype.addBeforePosition=function(t,e,r,n,i){var o=e[r],a=e[r+1],s=e[r+2]-o,u=e[r+3]-a,l=Math.atan2(u,s);n[i]=o+t*Math.cos(l),n[i+1]=a+t*Math.sin(l),n[i+2]=l},K.prototype.addAfterPosition=function(t,e,r,n,i){var o=e[r+2],a=e[r+3],s=o-e[r],u=a-e[r+1],l=Math.atan2(u,s);n[i]=o+t*Math.cos(l),n[i+1]=a+t*Math.sin(l),n[i+2]=l},K.prototype.addCurvePosition=function(t,e,r,n,i,o,a,s,u,l,h,c){0!=t&&!isNaN(t)||(t=1e-4);var f=t*t,d=f*t,p=1-t,_=p*p,v=_*p,g=p*t,m=3*g,y=p*m,b=m*t,x=e*v+n*y+o*b+s*d,T=r*v+i*y+a*b+u*d;l[h]=x,l[h+1]=T,c&&(l[h+2]=Math.atan2(T-(r*_+i*g*2+a*f),x-(e*_+n*g*2+o*f)))},K.prototype.getOrder=function(){return this.data.order},K.NONE=-1,K.BEFORE=-2,K.AFTER=-3,e=K,z.PathConstraint=e}(pixi_spine=pixi_spine||{}),function(t){var e,r,n,i;function o(t){this.order=0,this.bones=new Array,this.name=t}(e=t.core||(t.core={})).PathConstraintData=o,(r=e.PositionMode||(e.PositionMode={}))[r.Fixed=0]="Fixed",r[r.Percent=1]="Percent",(n=e.SpacingMode||(e.SpacingMode={}))[n.Length=0]="Length",n[n.Fixed=1]="Fixed",n[n.Percent=2]="Percent",(i=e.RotateMode||(e.RotateMode={}))[i.Tangent=0]="Tangent",i[i.Chain=1]="Chain",i[i.ChainScale=2]="ChainScale"}(pixi_spine=pixi_spine||{}),function(t){var y,e;function r(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=void 0;if(null==r.parent)n=new y.Bone(r,this,null);else{var i=this.bones[r.parent.index];n=new y.Bone(r,this,i),i.children.push(n)}this.bones.push(n)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var o=t.slots[e],a=(n=this.bones[o.boneData.index],new y.Slot(o,n));this.slots.push(a),this.drawOrder.push(a)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var s=t.ikConstraints[e];this.ikConstraints.push(new y.IkConstraint(s,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var u=t.transformConstraints[e];this.transformConstraints.push(new y.TransformConstraint(u,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var l=t.pathConstraints[e];this.pathConstraints.push(new y.PathConstraint(l,this))}this.color=new y.Color(1,1,1,1),this.updateCache()}y=t.core||(t.core={}),r.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].sorted=!1;var n=this.ikConstraints,i=this.transformConstraints,o=this.pathConstraints,a=n.length,s=i.length,u=o.length,l=a+s+u;t:for(e=0;e<l;e++){for(var h=0;h<a;h++)if((c=n[h]).data.order==e){this.sortIkConstraint(c);continue t}for(h=0;h<s;h++)if((c=i[h]).data.order==e){this.sortTransformConstraint(c);continue t}for(h=0;h<u;h++){var c;if((c=o[h]).data.order==e){this.sortPathConstraint(c);continue t}}}for(e=0,r=t.length;e<r;e++)this.sortBone(t[e])},r.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var r=t.bones,n=r[0];if(this.sortBone(n),1<r.length){var i=r[r.length-1];-1<this._updateCache.indexOf(i)||this.updateCacheReset.push(i)}this._updateCache.push(t),this.sortReset(n.children),r[r.length-1].sorted=!0},r.prototype.sortPathConstraint=function(t){var e=t.target,r=e.data.index,n=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,n),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,n);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],r,n);var a=e.getAttachment();a instanceof y.PathAttachment&&this.sortPathConstraintAttachmentWith(a,n);var s=t.bones,u=s.length;for(i=0;i<u;i++)this.sortBone(s[i]);for(this._updateCache.push(t),i=0;i<u;i++)this.sortReset(s[i].children);for(i=0;i<u;i++)s[i].sorted=!0},r.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,r=e.length;if(t.data.local)for(var n=0;n<r;n++){var i=e[n];this.sortBone(i.parent),-1<this._updateCache.indexOf(i)||this.updateCacheReset.push(i)}else for(n=0;n<r;n++)this.sortBone(e[n]);this._updateCache.push(t);for(var o=0;o<r;o++)this.sortReset(e[o].children);for(o=0;o<r;o++)e[o].sorted=!0},r.prototype.sortPathConstraintAttachment=function(t,e,r){var n=t.attachments[e];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)},r.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof y.PathAttachment){var r=t.bones;if(null==r)this.sortBone(e);else for(var n=this.bones,i=0;i<r.length;)for(var o=r[i++],a=i+o;i<a;i++){var s=r[i];this.sortBone(n[s])}}},r.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},r.prototype.sortReset=function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.sorted&&this.sortReset(n.children),n.sorted=!1}},r.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}var i=this._updateCache;for(e=0,r=i.length;e<r;e++)i[e].update()},r.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},r.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();var n=this.ikConstraints;for(e=0,r=n.length;e<r;e++)(s=n[e]).bendDirection=s.data.bendDirection,s.mix=s.data.mix;var i=this.transformConstraints;for(e=0,r=i.length;e<r;e++){var o=(s=i[e]).data;s.rotateMix=o.rotateMix,s.translateMix=o.translateMix,s.scaleMix=o.scaleMix,s.shearMix=o.shearMix}var a=this.pathConstraints;for(e=0,r=a.length;e<r;e++){var s;o=(s=a[e]).data,s.position=o.position,s.spacing=o.spacing,s.rotateMix=o.rotateMix,s.translateMix=o.translateMix}},r.prototype.setSlotsToSetupPose=function(){var t=this.slots;y.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,r=t.length;e<r;e++)t[e].setToSetupPose()},r.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},r.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},r.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},r.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},r.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},r.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},r.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachmentName;if(null!=o){var a=t.getAttachment(r,o);null!=a&&i.setAttachment(a)}}this.skin=t},r.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},r.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var r=this.skin.getAttachment(t,e);if(null!=r)return r}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},r.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var o=r[n];if(o.data.name==t){var a=null;if(null!=e&&null==(a=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void o.setAttachment(a)}}throw new Error("Slot not found: "+t)},r.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},r.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},r.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},r.prototype.getBounds=function(t,e,r){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var n=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=n.length;u<l;u++){var h=n[u],c=0,f=null,d=h.getAttachment();if(d instanceof y.RegionAttachment)c=8,f=y.Utils.setArraySize(r,c,0),d.computeWorldVertices(h.bone,f,0,2);else if(d instanceof y.MeshAttachment){var p=d;c=p.worldVerticesLength,f=y.Utils.setArraySize(r,c,0),p.computeWorldVertices(h,0,c,f,0,2)}if(null!=f)for(var _=0,v=f.length;_<v;_+=2){var g=f[_],m=f[_+1];i=Math.min(i,g),o=Math.min(o,m),a=Math.max(a,g),s=Math.max(s,m)}}t.set(i,o),e.set(a-i,s-o)},r.prototype.update=function(t){this.time+=t},e=r,y.Skeleton=e}(pixi_spine=pixi_spine||{}),function(t){var f,e;function r(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new f.Pool(function(){return f.Utils.newFloatArray(16)})}f=t.core||(t.core={}),r.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,n=this.polygons,i=this.polygonPool,o=t.slots,a=o.length;r.length=0,i.freeAll(n);for(var s=n.length=0;s<a;s++){var u=o[s],l=u.getAttachment();if(l instanceof f.BoundingBoxAttachment){var h=l;r.push(h);var c=i.obtain();c.length!=h.worldVerticesLength&&(c=f.Utils.newFloatArray(h.worldVerticesLength)),n.push(c),h.computeWorldVertices(u,0,h.worldVerticesLength,c,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},r.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=this.polygons,o=0,a=i.length;o<a;o++)for(var s=i[o],u=s,l=0,h=s.length;l<h;l+=2){var c=u[l],f=u[l+1];t=Math.min(t,c),e=Math.min(e,f),r=Math.max(r,c),n=Math.max(n,f)}this.minX=t,this.minY=e,this.maxX=r,this.maxY=n},r.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},r.prototype.aabbIntersectsSegment=function(t,e,r,n){var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY;if(t<=i&&r<=i||e<=o&&n<=o||a<=t&&a<=r||s<=e&&s<=n)return!1;var u=(n-e)/(r-t),l=u*(i-t)+e;if(o<l&&l<s)return!0;if(o<(l=u*(a-t)+e)&&l<s)return!0;var h=(o-e)/u+t;return i<h&&h<a||i<(h=(s-e)/u+t)&&h<a},r.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},r.prototype.containsPoint=function(t,e){for(var r=this.polygons,n=0,i=r.length;n<i;n++)if(this.containsPointPolygon(r[n],t,e))return this.boundingBoxes[n];return null},r.prototype.containsPointPolygon=function(t,e,r){for(var n=t,i=t.length,o=i-2,a=!1,s=0;s<i;s+=2){var u=n[s+1],l=n[o+1];if(u<r&&r<=l||l<r&&r<=u){var h=n[s];h+(r-u)/(l-u)*(n[o]-h)<e&&(a=!a)}o=s}return a},r.prototype.intersectsSegment=function(t,e,r,n){for(var i=this.polygons,o=0,a=i.length;o<a;o++)if(this.intersectsSegmentPolygon(i[o],t,e,r,n))return this.boundingBoxes[o];return null},r.prototype.intersectsSegmentPolygon=function(t,e,r,n,i){for(var o=t,a=t.length,s=e-n,u=r-i,l=e*i-r*n,h=o[a-2],c=o[a-1],f=0;f<a;f+=2){var d=o[f],p=o[f+1],_=h*p-c*d,v=h-d,g=c-p,m=s*g-u*v,y=(l*v-s*_)/m;if((h<=y&&y<=d||d<=y&&y<=h)&&(e<=y&&y<=n||n<=y&&y<=e)){var b=(l*g-u*_)/m;if((c<=b&&b<=p||p<=b&&b<=c)&&(r<=b&&b<=i||i<=b&&b<=r))return!0}h=d,c=p}return!1},r.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},r.prototype.getWidth=function(){return this.maxX-this.minX},r.prototype.getHeight=function(){return this.maxY-this.minY},e=r,f.SkeletonBounds=e}(pixi_spine=pixi_spine||{}),function(t){var K,e;function l(){this.triangulator=new K.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}K=t.core||(t.core={}),l.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;var r=(this.clipAttachment=e).worldVerticesLength,n=K.Utils.setArraySize(this.clippingPolygon,r);e.computeWorldVertices(t,0,r,n,0,2);var i=this.clippingPolygon;l.makeClockwise(i);for(var o=this.clippingPolygons=this.triangulator.decompose(i,this.triangulator.triangulate(i)),a=0,s=o.length;a<s;a++){var u=o[a];l.makeClockwise(u),u.push(u[0]),u.push(u[1])}return o.length},l.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},l.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},l.prototype.isClipping=function(){return null!=this.clipAttachment},l.prototype.clipTriangles=function(t,e,r,n,i,o,a,s){var u=this.clipOutput,l=this.clippedVertices,h=this.clippedTriangles,c=this.clippingPolygons,f=this.clippingPolygons.length,d=s?12:8,p=0;l.length=0;t:for(var _=h.length=0;_<n;_+=3)for(var v=r[_]<<1,g=t[v],m=t[v+1],y=i[v],b=i[v+1],x=t[v=r[_+1]<<1],T=t[v+1],w=i[v],E=i[v+1],S=t[v=r[_+2]<<1],P=t[v+1],M=i[v],A=i[v+1],C=0;C<f;C++){var R=l.length;if(!this.clip(g,m,x,T,S,P,c[C],u)){(U=K.Utils.setArraySize(l,R+3*d))[R]=g,U[R+1]=m,U[R+2]=o.r,U[R+3]=o.g,U[R+4]=o.b,U[R+5]=o.a,s?(U[R+6]=y,U[R+7]=b,U[R+8]=a.r,U[R+9]=a.g,U[R+10]=a.b,U[R+11]=a.a,U[R+12]=x,U[R+13]=T,U[R+14]=o.r,U[R+15]=o.g,U[R+16]=o.b,U[R+17]=o.a,U[R+18]=w,U[R+19]=E,U[R+20]=a.r,U[R+21]=a.g,U[R+22]=a.b,U[R+23]=a.a,U[R+24]=S,U[R+25]=P,U[R+26]=o.r,U[R+27]=o.g,U[R+28]=o.b,U[R+29]=o.a,U[R+30]=M,U[R+31]=A,U[R+32]=a.r,U[R+33]=a.g,U[R+34]=a.b,U[R+35]=a.a):(U[R+6]=y,U[R+7]=b,U[R+8]=x,U[R+9]=T,U[R+10]=o.r,U[R+11]=o.g,U[R+12]=o.b,U[R+13]=o.a,U[R+14]=w,U[R+15]=E,U[R+16]=S,U[R+17]=P,U[R+18]=o.r,U[R+19]=o.g,U[R+20]=o.b,U[R+21]=o.a,U[R+22]=M,U[R+23]=A),R=h.length,(z=K.Utils.setArraySize(h,R+3))[R]=p,z[R+1]=p+1,z[R+2]=p+2,p+=3;continue t}var O=u.length;if(0!=O){for(var I=T-P,D=S-x,j=g-S,k=P-m,L=1/(I*j+D*(m-P)),N=O>>1,F=this.clipOutput,U=K.Utils.setArraySize(l,R+N*d),B=0;B<O;B+=2){var V=F[B],X=F[B+1];U[R]=V,U[R+1]=X,U[R+2]=o.r,U[R+3]=o.g,U[R+4]=o.b,U[R+5]=o.a;var W=V-S,H=X-P,Y=(I*W+D*H)*L,G=(k*W+j*H)*L,q=1-Y-G;U[R+6]=y*Y+w*G+M*q,U[R+7]=b*Y+E*G+A*q,s&&(U[R+8]=a.r,U[R+9]=a.g,U[R+10]=a.b,U[R+11]=a.a),R+=d}R=h.length;var z=K.Utils.setArraySize(h,R+3*(N-2));for(N--,B=1;B<N;B++)z[R]=p,z[R+1]=p+B,z[R+2]=p+B+1,R+=3;p+=N+1}}},l.prototype.clip=function(t,e,r,n,i,o,a,s){var u=s,l=!1,h=null;2<=a.length%4?(h=s,s=this.scratch):h=this.scratch,h.length=0,h.push(t),h.push(e),h.push(r),h.push(n),h.push(i),h.push(o),h.push(t),h.push(e),s.length=0;for(var c=a,f=a.length-4,d=0;;d+=2){for(var p=c[d],_=c[d+1],v=c[d+2],g=c[d+3],m=p-v,y=_-g,b=h,x=h.length-2,T=s.length,w=0;w<x;w+=2){var E=b[w],S=b[w+1],P=b[w+2],M=b[w+3],A=0<m*(M-g)-y*(P-v);if(0<m*(S-g)-y*(E-v)){if(A){s.push(P),s.push(M);continue}var C=((O=P-E)*(_-S)-(R=M-S)*(p-E))/(R*(v-p)-O*(g-_));s.push(p+(v-p)*C),s.push(_+(g-_)*C)}else if(A){var R,O;C=((O=P-E)*(_-S)-(R=M-S)*(p-E))/(R*(v-p)-O*(g-_)),s.push(p+(v-p)*C),s.push(_+(g-_)*C),s.push(P),s.push(M)}l=!0}if(T==s.length)return!(u.length=0);if(s.push(s[0]),s.push(s[1]),d==f)break;var I=s;(s=h).length=0,h=I}if(u!=s){d=u.length=0;for(var D=s.length-2;d<D;d++)u[d]=s[d]}else u.length=u.length-2;return l},l.makeClockwise=function(t){for(var e=t,r=t.length,n=e[r-2]*e[1]-e[0]*e[r-1],i=0,o=0,a=0,s=0,u=r-3;s<u;s+=2)i=e[s],o=e[s+1],a=e[s+2],n+=i*e[s+3]-a*o;if(!(n<0)){s=0;var l=r-2;for(u=r>>1;s<u;s+=2){var h=e[s],c=e[s+1],f=l-s;e[s]=e[f],e[s+1]=e[1+f],e[f]=h,e[1+f]=c}}},e=l,K.SkeletonClipping=e}(pixi_spine=pixi_spine||{}),function(t){var e,r;function n(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}e=t.core||(t.core={}),n.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},n.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},n.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},n.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},n.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},n.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},n.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},n.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},n.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},n.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},n.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},r=n,e.SkeletonData=r}(pixi_spine=pixi_spine||{}),function(t){!function(J){var t=(D.prototype.readSkeletonData=function(t){var e=this.scale,r=new J.SkeletonData,n="string"==typeof t?JSON.parse(t):t,i=n.skeleton;if(null!=i&&(r.hash=i.hash,r.version=i.spine,r.width=i.width,r.height=i.height,r.fps=i.fps,r.imagesPath=i.images),n.bones)for(var o=0;o<n.bones.length;o++){var a=n.bones[o],s=null,u=this.getValue(a,"parent",null);if(null!=u&&null==(s=r.findBone(u)))throw new Error("Parent bone not found: "+u);(f=new J.BoneData(r.bones.length,a.name,s)).length=this.getValue(a,"length",0)*e,f.x=this.getValue(a,"x",0)*e,f.y=this.getValue(a,"y",0)*e,f.rotation=this.getValue(a,"rotation",0),f.scaleX=this.getValue(a,"scaleX",1),f.scaleY=this.getValue(a,"scaleY",1),f.shearX=this.getValue(a,"shearX",0),f.shearY=this.getValue(a,"shearY",0),f.transformMode=D.transformModeFromString(this.getValue(a,"transform","normal")),r.bones.push(f)}if(n.slots)for(o=0;o<n.slots.length;o++){var l=(w=n.slots[o]).name,h=w.bone,c=r.findBone(h);if(null==c)throw new Error("Slot bone not found: "+h);var f=new J.SlotData(r.slots.length,l,c),d=this.getValue(w,"color",null);null!=d&&f.color.setFromString(d);var p=this.getValue(w,"dark",null);null!=p&&(f.darkColor=new J.Color(1,1,1,1),f.darkColor.setFromString(p)),f.attachmentName=this.getValue(w,"attachment",null),f.blendMode=D.blendModeFromString(this.getValue(w,"blend","normal")),r.slots.push(f)}if(n.ik)for(o=0;o<n.ik.length;o++){var _=n.ik[o];(f=new J.IkConstraintData(_.name)).order=this.getValue(_,"order",0);for(var v=0;v<_.bones.length;v++){if(h=_.bones[v],null==(m=r.findBone(h)))throw new Error("IK bone not found: "+h);f.bones.push(m)}var g=_.target;if(f.target=r.findBone(g),null==f.target)throw new Error("IK target bone not found: "+g);f.bendDirection=this.getValue(_,"bendPositive",!0)?1:-1,f.mix=this.getValue(_,"mix",1),r.ikConstraints.push(f)}if(n.transform)for(o=0;o<n.transform.length;o++){for(_=n.transform[o],(f=new J.TransformConstraintData(_.name)).order=this.getValue(_,"order",0),v=0;v<_.bones.length;v++){if(h=_.bones[v],null==(m=r.findBone(h)))throw new Error("Transform constraint bone not found: "+h);f.bones.push(m)}if(g=_.target,f.target=r.findBone(g),null==f.target)throw new Error("Transform constraint target bone not found: "+g);f.local=this.getValue(_,"local",!1),f.relative=this.getValue(_,"relative",!1),f.offsetRotation=this.getValue(_,"rotation",0),f.offsetX=this.getValue(_,"x",0)*e,f.offsetY=this.getValue(_,"y",0)*e,f.offsetScaleX=this.getValue(_,"scaleX",0),f.offsetScaleY=this.getValue(_,"scaleY",0),f.offsetShearY=this.getValue(_,"shearY",0),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),f.scaleMix=this.getValue(_,"scaleMix",1),f.shearMix=this.getValue(_,"shearMix",1),r.transformConstraints.push(f)}if(n.path)for(o=0;o<n.path.length;o++){for(_=n.path[o],(f=new J.PathConstraintData(_.name)).order=this.getValue(_,"order",0),v=0;v<_.bones.length;v++){var m;if(h=_.bones[v],null==(m=r.findBone(h)))throw new Error("Transform constraint bone not found: "+h);f.bones.push(m)}if(g=_.target,f.target=r.findSlot(g),null==f.target)throw new Error("Path target slot not found: "+g);f.positionMode=D.positionModeFromString(this.getValue(_,"positionMode","percent")),f.spacingMode=D.spacingModeFromString(this.getValue(_,"spacingMode","length")),f.rotateMode=D.rotateModeFromString(this.getValue(_,"rotateMode","tangent")),f.offsetRotation=this.getValue(_,"rotation",0),f.position=this.getValue(_,"position",0),f.positionMode==J.PositionMode.Fixed&&(f.position*=e),f.spacing=this.getValue(_,"spacing",0),f.spacingMode!=J.SpacingMode.Length&&f.spacingMode!=J.SpacingMode.Fixed||(f.spacing*=e),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),r.pathConstraints.push(f)}if(n.skins)for(var y in n.skins){var b=n.skins[y],x=new J.Skin(y);for(var l in b){var T=r.findSlotIndex(l);if(-1==T)throw new Error("Slot not found: "+l);var w=b[l];for(var E in w){var S=this.readAttachment(w[E],x,T,E,r);null!=S&&x.addAttachment(T,E,S)}}r.skins.push(x),"default"==x.name&&(r.defaultSkin=x)}o=0;for(var P=this.linkedMeshes.length;o<P;o++){var M=this.linkedMeshes[o];if(null==(x=null==M.skin?r.defaultSkin:r.findSkin(M.skin)))throw new Error("Skin not found: "+M.skin);var A=x.getAttachment(M.slotIndex,M.parent);if(null==A)throw new Error("Parent mesh not found: "+M.parent);M.mesh.setParentMesh(A)}if(this.linkedMeshes.length=0,n.events)for(var C in n.events){var R=n.events[C];(f=new J.EventData(C)).intValue=this.getValue(R,"int",0),f.floatValue=this.getValue(R,"float",0),f.stringValue=this.getValue(R,"string",""),r.events.push(f)}if(n.animations)for(var O in n.animations){var I=n.animations[O];this.readAnimation(I,O,r)}return r},D.prototype.readAttachment=function(t,e,r,n,i){var o=this.scale;switch(n=this.getValue(t,"name",n),this.getValue(t,"type","region")){case"region":var a=this.getValue(t,"path",n),s=this.attachmentLoader.newRegionAttachment(e,n,a);return null==s?null:(s.path=a,s.x=this.getValue(t,"x",0)*o,s.y=this.getValue(t,"y",0)*o,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*o,s.height=t.height*o,null!=(g=this.getValue(t,"color",null))&&s.color.setFromString(g),s);case"boundingbox":var u=this.attachmentLoader.newBoundingBoxAttachment(e,n);return null==u?null:(this.readVertices(t,u,t.vertexCount<<1),null!=(g=this.getValue(t,"color",null))&&u.color.setFromString(g),u);case"mesh":case"linkedmesh":a=this.getValue(t,"path",n);var l=this.attachmentLoader.newMeshAttachment(e,n,a);if(null==l)return null;l.path=a,null!=(g=this.getValue(t,"color",null))&&l.color.setFromString(g);var h=this.getValue(t,"parent",null);if(null!=h)return l.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new b(l,this.getValue(t,"skin",null),r,h)),l;var c=t.uvs;return this.readVertices(t,l,c.length),l.triangles=t.triangles,l.regionUVs=c,l.hullLength=2*this.getValue(t,"hull",0),l;case"path":if(null==(a=this.attachmentLoader.newPathAttachment(e,n)))return null;a.closed=this.getValue(t,"closed",!1),a.constantSpeed=this.getValue(t,"constantSpeed",!0);var f=t.vertexCount;this.readVertices(t,a,f<<1);for(var d=J.Utils.newArray(f/3,0),p=0;p<t.lengths.length;p++)d[p]=t.lengths[p]*o;return a.lengths=d,null!=(g=this.getValue(t,"color",null))&&a.color.setFromString(g),a;case"point":var _=this.attachmentLoader.newPointAttachment(e,n);return null==_?null:(_.x=this.getValue(t,"x",0)*o,_.y=this.getValue(t,"y",0)*o,_.rotation=this.getValue(t,"rotation",0),null!=(g=this.getValue(t,"color",null))&&_.color.setFromString(g),_);case"clipping":var v=this.attachmentLoader.newClippingAttachment(e,n);if(null==v)return null;var g,m=this.getValue(t,"end",null);if(null!=m){var y=i.findSlot(m);if(null==y)throw new Error("Clipping end slot not found: "+m);v.endSlot=y}return f=t.vertexCount,this.readVertices(t,v,f<<1),null!=(g=this.getValue(t,"color",null))&&v.color.setFromString(g),v}return null},D.prototype.readVertices=function(t,e,r){var n=this.scale;e.worldVerticesLength=r;var i=t.vertices;if(r!=i.length){var o=new Array,a=new Array;for(h=0,c=i.length;h<c;){var s=i[h++];a.push(s);for(var u=h+4*s;h<u;h+=4)a.push(i[h]),o.push(i[h+1]*n),o.push(i[h+2]*n),o.push(i[h+3])}e.bones=a,e.vertices=J.Utils.toFloatArray(o)}else{var l=J.Utils.toFloatArray(i);if(1!=n)for(var h=0,c=i.length;h<c;h++)l[h]*=n;e.vertices=l}},D.prototype.readAnimation=function(t,e,r){var n=this.scale,i=new Array,o=0;if(t.slots)for(var a in t.slots){var s=t.slots[a];if(-1==(z=r.findSlotIndex(a)))throw new Error("Slot not found: "+a);for(var u in s){var l=s[u];if("attachment"==u){(y=new J.AttachmentTimeline(l.length)).slotIndex=z;for(var h=0,c=0;c<l.length;c++){var f=l[c];y.setFrame(h++,f.time,f.name)}i.push(y),o=Math.max(o,y.frames[y.getFrameCount()-1])}else if("color"==u){for((y=new J.ColorTimeline(l.length)).slotIndex=z,c=h=0;c<l.length;c++){f=l[c];var d=new J.Color;d.setFromString(f.color||"ffffffff"),y.setFrame(h,f.time,d.r,d.g,d.b,d.a),this.readCurve(f,y,h),h++}i.push(y),o=Math.max(o,y.frames[(y.getFrameCount()-1)*J.ColorTimeline.ENTRIES])}else{if("twoColor"!=u)throw new Error("Invalid timeline type for a slot: "+u+" ("+a+")");for((y=new J.TwoColorTimeline(l.length)).slotIndex=z,c=h=0;c<l.length;c++){f=l[c];var p=new J.Color,_=new J.Color;p.setFromString(f.light),_.setFromString(f.dark),y.setFrame(h,f.time,p.r,p.g,p.b,p.a,_.r,_.g,_.b),this.readCurve(f,y,h),h++}i.push(y),o=Math.max(o,y.frames[(y.getFrameCount()-1)*J.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var v in t.bones){var g=t.bones[v],m=r.findBoneIndex(v);if(-1==m)throw new Error("Bone not found: "+v);for(var u in g)if(l=g[u],"rotate"===u){for((y=new J.RotateTimeline(l.length)).boneIndex=m,c=h=0;c<l.length;c++)f=l[c],y.setFrame(h,f.time,f.angle),this.readCurve(f,y,h),h++;i.push(y),o=Math.max(o,y.frames[(y.getFrameCount()-1)*J.RotateTimeline.ENTRIES])}else{if("translate"!==u&&"scale"!==u&&"shear"!==u)throw new Error("Invalid timeline type for a bone: "+u+" ("+v+")");var y=null,b=1;for("scale"===u?y=new J.ScaleTimeline(l.length):"shear"===u?y=new J.ShearTimeline(l.length):(y=new J.TranslateTimeline(l.length),b=n),y.boneIndex=m,c=h=0;c<l.length;c++){f=l[c];var x=this.getValue(f,"x",0),T=this.getValue(f,"y",0);y.setFrame(h,f.time,x*b,T*b),this.readCurve(f,y,h),h++}i.push(y),o=Math.max(o,y.frames[(y.getFrameCount()-1)*J.TranslateTimeline.ENTRIES])}}if(t.ik)for(var w in t.ik){var E=t.ik[w],S=r.findIkConstraint(w);for((y=new J.IkConstraintTimeline(E.length)).ikConstraintIndex=r.ikConstraints.indexOf(S),c=h=0;c<E.length;c++)f=E[c],y.setFrame(h,f.time,this.getValue(f,"mix",1),this.getValue(f,"bendPositive",!0)?1:-1),this.readCurve(f,y,h),h++;i.push(y),o=Math.max(o,y.frames[(y.getFrameCount()-1)*J.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var w in t.transform){for(E=t.transform[w],S=r.findTransformConstraint(w),(y=new J.TransformConstraintTimeline(E.length)).transformConstraintIndex=r.transformConstraints.indexOf(S),c=h=0;c<E.length;c++)f=E[c],y.setFrame(h,f.time,this.getValue(f,"rotateMix",1),this.getValue(f,"translateMix",1),this.getValue(f,"scaleMix",1),this.getValue(f,"shearMix",1)),this.readCurve(f,y,h),h++;i.push(y),o=Math.max(o,y.frames[(y.getFrameCount()-1)*J.TransformConstraintTimeline.ENTRIES])}if(t.paths)for(var w in t.paths){E=t.paths[w];var P=r.findPathConstraintIndex(w);if(-1==P)throw new Error("Path constraint not found: "+w);var M=r.pathConstraints[P];for(var u in E)if(l=E[u],"position"===u||"spacing"===u){for(y=null,b=1,"spacing"===u?(y=new J.PathConstraintSpacingTimeline(l.length),M.spacingMode!=J.SpacingMode.Length&&M.spacingMode!=J.SpacingMode.Fixed||(b=n)):(y=new J.PathConstraintPositionTimeline(l.length),M.positionMode==J.PositionMode.Fixed&&(b=n)),y.pathConstraintIndex=P,c=h=0;c<l.length;c++)f=l[c],y.setFrame(h,f.time,this.getValue(f,u,0)*b),this.readCurve(f,y,h),h++;i.push(y),o=Math.max(o,y.frames[(y.getFrameCount()-1)*J.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===u){for((y=new J.PathConstraintMixTimeline(l.length)).pathConstraintIndex=P,c=h=0;c<l.length;c++)f=l[c],y.setFrame(h,f.time,this.getValue(f,"rotateMix",1),this.getValue(f,"translateMix",1)),this.readCurve(f,y,h),h++;i.push(y),o=Math.max(o,y.frames[(y.getFrameCount()-1)*J.PathConstraintMixTimeline.ENTRIES])}}if(t.deform)for(var A in t.deform){var C=t.deform[A],R=r.findSkin(A);if(null==R)throw new Error("Skin not found: "+A);for(var a in C){if(s=C[a],-1==(z=r.findSlotIndex(a)))throw new Error("Slot not found: "+s.name);for(var u in s){l=s[u];var O=R.getAttachment(z,u);if(null==O)throw new Error("Deform attachment not found: "+l.name);var I=null!=O.bones,D=O.vertices,j=I?D.length/3*2:D.length;(y=new J.DeformTimeline(l.length)).slotIndex=z,y.attachment=O;for(var k=h=0;k<l.length;k++){f=l[k];var L=void 0,N=this.getValue(f,"vertices",null);if(null==N)L=I?J.Utils.newFloatArray(j):D;else{L=J.Utils.newFloatArray(j);var F=this.getValue(f,"offset",0);if(J.Utils.arrayCopy(N,0,L,F,N.length),1!=n)for(var U=(c=F)+N.length;c<U;c++)L[c]*=n;if(!I)for(c=0;c<j;c++)L[c]+=D[c]}y.setFrame(h,f.time,L),this.readCurve(f,y,h),h++}i.push(y),o=Math.max(o,y.frames[y.getFrameCount()-1])}}}var B=t.drawOrder;if(null==B&&(B=t.draworder),null!=B){y=new J.DrawOrderTimeline(B.length);var V=r.slots.length;for(k=h=0;k<B.length;k++){var X=B[k],W=null,H=this.getValue(X,"offsets",null);if(null!=H){W=J.Utils.newArray(V,-1);var Y=J.Utils.newArray(V-H.length,0),G=0,q=0;for(c=0;c<H.length;c++){var z,K=H[c];if(-1==(z=r.findSlotIndex(K.slot)))throw new Error("Slot not found: "+K.slot);for(;G!=z;)Y[q++]=G++;W[G+K.offset]=G++}for(;G<V;)Y[q++]=G++;for(c=V-1;0<=c;c--)-1==W[c]&&(W[c]=Y[--q])}y.setFrame(h++,X.time,W)}i.push(y),o=Math.max(o,y.frames[y.getFrameCount()-1])}if(t.events){for(y=new J.EventTimeline(t.events.length),c=h=0;c<t.events.length;c++){var Z=t.events[c],Q=r.findEvent(Z.name);if(null==Q)throw new Error("Event not found: "+Z.name);var $=new J.Event(J.Utils.toSinglePrecision(Z.time),Q);$.intValue=this.getValue(Z,"int",Q.intValue),$.floatValue=this.getValue(Z,"float",Q.floatValue),$.stringValue=this.getValue(Z,"string",Q.stringValue),y.setFrame(h++,$)}i.push(y),o=Math.max(o,y.frames[y.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new J.Animation(e,i,o))},D.prototype.readCurve=function(t,e,r){if(t.curve)if("stepped"===t.curve)e.setStepped(r);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var n=t.curve;e.setCurve(r,n[0],n[1],n[2],n[3])}},D.prototype.getValue=function(t,e,r){return void 0!==t[e]?t[e]:r},D.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return J.BlendMode.Normal;if("additive"==t)return J.BlendMode.Additive;if("multiply"==t)return J.BlendMode.Multiply;if("screen"==t)return J.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},D.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return J.PositionMode.Fixed;if("percent"==t)return J.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},D.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return J.SpacingMode.Length;if("fixed"==t)return J.SpacingMode.Fixed;if("percent"==t)return J.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},D.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return J.RotateMode.Tangent;if("chain"==t)return J.RotateMode.Chain;if("chainscale"==t)return J.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},D.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return J.TransformMode.Normal;if("onlytranslation"==t)return J.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return J.TransformMode.NoRotationOrReflection;if("noscale"==t)return J.TransformMode.NoScale;if("noscaleorreflection"==t)return J.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},D);function D(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}J.SkeletonJson=t;var b=function(t,e,r,n){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n}}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var e,r;function n(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}e=t.core||(t.core={}),n.prototype.addAttachment=function(t,e,r){if(null==r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r},n.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},n.prototype.attachAll=function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var i=t.slots[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a)if(o==a[s]){var u=this.getAttachment(r,name);null!=u&&i.setAttachment(u);break}}r++}},r=n,e.Skin=r}(pixi_spine=pixi_spine||{}),function(t){var r,e;function n(t,e){if(this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new r.Color,this.darkColor=null==t.darkColor?null:new r.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}r=t.core||(t.core={}),n.prototype.getAttachment=function(){return this.attachment},n.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},n.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},n.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},n.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e=n,r.Slot=e}(pixi_spine=pixi_spine||{}),function(t){var n;function e(t,e,r){if(this.color=new n.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=r}(n=t.core||(t.core={})).SlotData=e}(pixi_spine=pixi_spine||{}),function(t){!function(t){var e,r,n,i,o=(a.prototype.getImage=function(){return this._image},a.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},a.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return n.MirroredRepeat;case"clamptoedge":return n.ClampToEdge;case"repeat":return n.Repeat;default:throw new Error("Unknown texture wrap "+t)}},a);function a(t){this._image=t}t.Texture=o,(r=e=t.TextureFilter||(t.TextureFilter={}))[r.Nearest=9728]="Nearest",r[r.Linear=9729]="Linear",r[r.MipMap=9987]="MipMap",r[r.MipMapNearestNearest=9984]="MipMapNearestNearest",r[r.MipMapLinearNearest=9985]="MipMapLinearNearest",r[r.MipMapNearestLinear=9986]="MipMapNearestLinear",r[r.MipMapLinearLinear=9987]="MipMapLinearLinear",(i=n=t.TextureWrap||(t.TextureWrap={}))[i.MirroredRepeat=33648]="MirroredRepeat",i[i.ClampToEdge=33071]="ClampToEdge",i[i.Repeat=10497]="Repeat";var s=(Object.defineProperty(u.prototype,"width",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.width:t.trim?t.trim.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.height:t.trim?t.trim.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"originalWidth",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.width:t.crop.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"originalHeight",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.height:t.crop.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),u);function u(){this.size=null}t.TextureRegion=s}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(S){var t=(e.prototype.addTexture=function(t,e){for(var r=this.pages,n=null,i=0;i<r.length;i++)if(r[i].baseTexture===e.baseTexture){n=r[i];break}if(null===n){(n=new P).name="texturePage";var o=e.baseTexture;n.width=o.realWidth,n.height=o.realHeight,n.baseTexture=o,n.minFilter=n.magFilter=S.TextureFilter.Nearest,n.uWrap=S.TextureWrap.ClampToEdge,n.vWrap=S.TextureWrap.ClampToEdge,r.push(n)}var a=new M;return a.name=t,a.page=n,a.texture=e,a.index=-1,this.regions.push(a),a},e.prototype.addTextureHash=function(t,e){for(var r in t)t.hasOwnProperty(r)&&this.addTexture(e&&-1!==r.indexOf(".")?r.substr(0,r.lastIndexOf(".")):r,t[r])},e.prototype.addSpineAtlas=function(t,e,r){return this.load(t,e,r)},e.prototype.load=function(t,m,y){var b=this;if(null==m)throw new Error("textureLoader cannot be null.");var x=new r(t),T=new Array(4),w=null,E=function(){for(;;){var t=x.readLine();if(null==t)return y&&y(b);if(0==(t=t.trim()).length)w=null;else{if(!w){(w=new P).name=t,2==x.readTuple(T)&&(w.width=parseInt(T[0]),w.height=parseInt(T[1]),x.readTuple(T)),x.readTuple(T),w.minFilter=S.Texture.filterFromString(T[0]),w.magFilter=S.Texture.filterFromString(T[1]);var e=x.readValue();w.uWrap=S.TextureWrap.ClampToEdge,w.vWrap=S.TextureWrap.ClampToEdge,"x"==e?w.uWrap=S.TextureWrap.Repeat:"y"==e?w.vWrap=S.TextureWrap.Repeat:"xy"==e&&(w.uWrap=w.vWrap=S.TextureWrap.Repeat),m(t,function(t){(w.baseTexture=t).hasLoaded||(t.width=w.width,t.height=w.height),b.pages.push(w),w.setFilters(),w.width&&w.height||(w.width=t.realWidth,w.height=t.realHeight,w.width&&w.height||console.log("ERROR spine atlas page "+w.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),E()}),b.pages.push(w);break}var r=new M;r.name=t,r.page=w;var n="true"==x.readValue()?6:0;x.readTuple(T);var i=parseInt(T[0]),o=parseInt(T[1]);x.readTuple(T);var a=parseInt(T[0]),s=parseInt(T[1]),u=w.baseTexture.resolution;i/=u,o/=u,a/=u,s/=u;var l=new PIXI.Rectangle(i,o,n?s:a,n?a:s);4==x.readTuple(T)&&4==x.readTuple(T)&&x.readTuple(T);var h=parseInt(T[0])/u,c=parseInt(T[1])/u;x.readTuple(T);var f=parseInt(T[0])/u,d=parseInt(T[1])/u,p=new PIXI.Rectangle(0,0,h,c),_=new PIXI.Rectangle(f,c-s-d,a,s);if("3"!=PIXI.VERSION[0])r.texture=new PIXI.Texture(r.page.baseTexture,l,p,_,n);else{var v=new PIXI.Rectangle(i,o,a,s),g=v.clone();_.width=h,_.height=c,r.texture=new PIXI.Texture(r.page.baseTexture,v,g,_,n)}r.index=parseInt(x.readValue()),r.texture._updateUvs(),b.regions.push(r)}}};E()},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},e);function e(t,e,r){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,r)}S.TextureAtlas=t;var r=(n.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},n.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},n.prototype.readTuple=function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw new Error("Invalid line: "+e);for(var n=0,i=r+1;n<3;n++){var o=e.indexOf(",",i);if(-1==o)break;t[n]=e.substr(i,o-i).trim(),i=o+1}return t[n]=e.substring(i).trim(),n+1},n);function n(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var P=(i.prototype.setFilters=function(){var t=this.baseTexture,e=this.minFilter;e==S.TextureFilter.Linear?t.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==S.TextureFilter.Nearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:(t.mipmap=!0,e==S.TextureFilter.MipMapNearestNearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:t.scaleMode=PIXI.SCALE_MODES.LINEAR)},i);function i(){}S.TextureAtlasPage=P;var o,M=(o=S.TextureRegion,__extends(a,o),a);function a(){return null!==o&&o.apply(this,arguments)||this}S.TextureAtlasRegion=M}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var R,e;function r(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new R.Vector2,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}R=t.core||(t.core={}),r.prototype.apply=function(){this.update()},r.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},r.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,u=o.b,l=o.d,h=0<a*l-s*u?R.MathUtils.degRad:-R.MathUtils.degRad,c=this.data.offsetRotation*h,f=this.data.offsetShearY*h,d=this.bones,p=0,_=d.length;p<_;p++){var v=d[p],g=!1,m=v.matrix;if(0!=t){var y=m.a,b=m.c,x=m.b,T=m.d;(A=Math.atan2(u,a)-Math.atan2(x,y)+c)>R.MathUtils.PI?A-=R.MathUtils.PI2:A<-R.MathUtils.PI&&(A+=R.MathUtils.PI2),A*=t;var w=Math.cos(A),E=Math.sin(A);m.a=w*y-E*x,m.c=w*b-E*T,m.b=E*y+w*x,m.d=E*b+w*T,g=!0}if(0!=e){var S=this.temp;i.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),m.tx+=(S.x-m.tx)*e,m.ty+=(S.y-m.ty)*e,g=!0}if(0<r){var P=Math.sqrt(m.a*m.a+m.b*m.b),M=Math.sqrt(a*a+u*u);1e-5<P&&(P=(P+(M-P+this.data.offsetScaleX)*r)/P),m.a*=P,m.b*=P,P=Math.sqrt(m.c*m.c+m.d*m.d),M=Math.sqrt(s*s+l*l),1e-5<P&&(P=(P+(M-P+this.data.offsetScaleY)*r)/P),m.c*=P,m.d*=P,g=!0}if(0<n){b=m.c,T=m.d;var A,C=Math.atan2(T,b);(A=Math.atan2(l,s)-Math.atan2(u,a)-(C-Math.atan2(m.b,m.a)))>R.MathUtils.PI?A-=R.MathUtils.PI2:A<-R.MathUtils.PI&&(A+=R.MathUtils.PI2),A=C+(A+f)*n,P=Math.sqrt(b*b+T*T),m.c=Math.cos(A)*P,m.d=Math.sin(A)*P,g=!0}g&&(v.appliedValid=!1)}},r.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,u=o.b,l=o.d,h=0<a*l-s*u?R.MathUtils.degRad:-R.MathUtils.degRad,c=this.data.offsetRotation*h,f=this.data.offsetShearY*h,d=this.bones,p=0,_=d.length;p<_;p++){var v,g=d[p],m=!1,y=g.matrix;if(0!=t){var b=y.a,x=y.c,T=y.b,w=y.d;(v=Math.atan2(u,a)+c)>R.MathUtils.PI?v-=R.MathUtils.PI2:v<-R.MathUtils.PI&&(v+=R.MathUtils.PI2),v*=t;var E=Math.cos(v),S=Math.sin(v);y.a=E*b-S*T,y.c=E*x-S*w,y.b=S*b+E*T,y.d=S*x+E*w,m=!0}if(0!=e){var P=this.temp;i.localToWorld(P.set(this.data.offsetX,this.data.offsetY)),y.tx+=P.x*e,y.ty+=P.y*e,m=!0}if(0<r){var M=(Math.sqrt(a*a+u*u)-1+this.data.offsetScaleX)*r+1;y.a*=M,y.b*=M,M=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleY)*r+1,y.c*=M,y.d*=M,m=!0}if(0<n)(v=Math.atan2(l,s)-Math.atan2(u,a))>R.MathUtils.PI?v-=R.MathUtils.PI2:v<-R.MathUtils.PI&&(v+=R.MathUtils.PI2),x=y.c,w=y.d,v=Math.atan2(w,x)+(v-R.MathUtils.PI/2+f)*n,M=Math.sqrt(x*x+w*w),y.c=Math.cos(v)*M,y.d=Math.sin(v)*M,m=!0;m&&(g.appliedValid=!1)}},r.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;if(0!=t){var h=i.arotation-l+this.data.offsetRotation;l+=(h-=360*(16384-(16384.499999999996-h/360|0)))*t}var c=u.ax,f=u.ay;0!=e&&(c+=(i.ax-c+this.data.offsetX)*e,f+=(i.ay-f+this.data.offsetY)*e);var d=u.ascaleX,p=u.ascaleY;0<r&&(1e-5<d&&(d=(d+(i.ascaleX-d+this.data.offsetScaleX)*r)/d),1e-5<p&&(p=(p+(i.ascaleY-p+this.data.offsetScaleY)*r)/p));var _=u.ashearY;0<n&&(h=i.ashearY-_+this.data.offsetShearY,h-=360*(16384-(16384.499999999996-h/360|0)),u.shearY+=h*n),u.updateWorldTransformWith(c,f,l,d,p,u.ashearX,_)}},r.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;0!=t&&(l+=(i.arotation+this.data.offsetRotation)*t);var h=u.ax,c=u.ay;0!=e&&(h+=(i.ax+this.data.offsetX)*e,c+=(i.ay+this.data.offsetY)*e);var f=u.ascaleX,d=u.ascaleY;0<r&&(1e-5<f&&(f*=(i.ascaleX-1+this.data.offsetScaleX)*r+1),1e-5<d&&(d*=(i.ascaleY-1+this.data.offsetScaleY)*r+1));var p=u.ashearY;0<n&&(p+=(i.ashearY+this.data.offsetShearY)*n),u.updateWorldTransformWith(h,c,l,f,d,u.ashearX,p)}},r.prototype.getOrder=function(){return this.data.order},e=r,R.TransformConstraint=e}(pixi_spine=pixi_spine||{}),function(t){function e(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t}(t.core||(t.core={})).TransformConstraintData=e}(pixi_spine=pixi_spine||{}),function(t){var e,r;function V(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new e.Pool(function(){return new Array}),this.polygonIndicesPool=new e.Pool(function(){return new Array})}e=t.core||(t.core={}),V.prototype.triangulate=function(t){for(var e=t,r=t.length>>1,n=this.indicesArray,i=n.length=0;i<r;i++)n[i]=i;for(var o=this.isConcaveArray,a=(i=o.length=0,r);i<a;++i)o[i]=V.isConcave(i,r,e,n);var s=this.triangles;for(s.length=0;3<r;){for(var u=r-1,l=(i=0,1);;){t:if(!o[i]){for(var h=n[u]<<1,c=n[i]<<1,f=n[l]<<1,d=e[h],p=e[1+h],_=e[c],v=e[1+c],g=e[f],m=e[1+f],y=(l+1)%r;y!=u;y=(y+1)%r)if(o[y]){var b=n[y]<<1,x=e[b],T=e[1+b];if(V.positiveArea(g,m,d,p,x,T)&&V.positiveArea(d,p,_,v,x,T)&&V.positiveArea(_,v,g,m,x,T))break t}break}if(0==l){do{if(!o[i])break;i--}while(0<i);break}u=i,l=((i=l)+1)%r}s.push(n[(r+i-1)%r]),s.push(n[i]),s.push(n[(i+1)%r]),n.splice(i,1),o.splice(i,1);var w=(--r+i-1)%r,E=i==r?0:i;o[w]=V.isConcave(w,r,e,n),o[E]=V.isConcave(E,r,e,n)}return 3==r&&(s.push(n[2]),s.push(n[0]),s.push(n[1])),s},V.prototype.decompose=function(t,e){var r=t,n=this.convexPolygons;this.polygonPool.freeAll(n),n.length=0;var i=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(i),i.length=0;var o=this.polygonIndicesPool.obtain();o.length=0;for(var a=this.polygonPool.obtain(),s=-1,u=a.length=0,l=0,h=e.length;l<h;l+=3){var c=e[l]<<1,f=e[l+1]<<1,d=e[l+2]<<1,p=r[c],_=r[1+c],v=r[f],g=r[1+f],m=r[d],y=r[1+d],b=!1;if(s==c){var x=a.length-4,T=V.winding(a[x],a[x+1],a[x+2],a[x+3],m,y),w=V.winding(m,y,a[0],a[1],a[2],a[3]);T==u&&w==u&&(a.push(m),a.push(y),o.push(d),b=!0)}b||(0<a.length?(n.push(a),i.push(o)):(this.polygonPool.free(a),this.polygonIndicesPool.free(o)),(a=this.polygonPool.obtain()).length=0,a.push(p),a.push(_),a.push(v),a.push(g),a.push(m),a.push(y),(o=this.polygonIndicesPool.obtain()).length=0,o.push(c),o.push(f),o.push(d),u=V.winding(p,_,v,g,m,y),s=c)}for(0<a.length&&(n.push(a),i.push(o)),l=0,h=n.length;l<h;l++)if(0!=(o=i[l]).length)for(var E=o[0],S=o[o.length-1],P=(a=n[l])[x=a.length-4],M=a[x+1],A=a[x+2],C=a[x+3],R=a[0],O=a[1],I=a[2],D=a[3],j=V.winding(P,M,A,C,R,O),k=0;k<h;k++)if(k!=l){var L=i[k];if(3==L.length){var N=L[0],F=L[1],U=L[2],B=n[k];m=B[B.length-2],y=B[B.length-1],N==E&&F==S&&(T=V.winding(P,M,A,C,m,y),w=V.winding(m,y,R,O,I,D),T==j&&w==j&&(B.length=0,L.length=0,a.push(m),a.push(y),o.push(U),P=A,M=C,A=m,C=y,k=0))}}for(l=n.length-1;0<=l;l--)0==(a=n[l]).length&&(n.splice(l,1),this.polygonPool.free(a),o=i[l],i.splice(l,1),this.polygonIndicesPool.free(o));return n},V.isConcave=function(t,e,r,n){var i=n[(e+t-1)%e]<<1,o=n[t]<<1,a=n[(t+1)%e]<<1;return!this.positiveArea(r[i],r[1+i],r[o],r[1+o],r[a],r[1+a])},V.positiveArea=function(t,e,r,n,i,o){return 0<=t*(o-n)+r*(e-o)+i*(n-e)},V.winding=function(t,e,r,n,i,o){var a=r-t,s=n-e;return 0<=i*s-o*a+a*e-t*s?1:-1},r=V,e.Triangulator=r}(pixi_spine=pixi_spine||{}),function(t){!function(t){var e=(r.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},r.prototype.contains=function(t){return null!=this.array[0|t]},r.prototype.remove=function(t){this.array[0|t]=void 0},r.prototype.clear=function(){this.array.length=0},r);function r(){this.array=new Array}t.IntSet=e;var n=(i.prototype.set=function(t,e,r,n){return this.r=t,this.g=e,this.b=r,this.a=n,this.clamp(),this},i.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},i.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},i.prototype.add=function(t,e,r,n){return this.r+=t,this.g+=e,this.b+=r,this.a+=n,this.clamp(),this},i.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},i.WHITE=new i(1,1,1,1),i.RED=new i(1,0,0,1),i.GREEN=new i(0,1,0,1),i.BLUE=new i(0,0,1,1),i.MAGENTA=new i(1,0,1,1),i);function i(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.r=t,this.g=e,this.b=r,this.a=n}t.Color=n;var o=(a.clamp=function(t,e,r){return t<e?e:r<t?r:t},a.cosDeg=function(t){return Math.cos(t*a.degRad)},a.sinDeg=function(t){return Math.sin(t*a.degRad)},a.signum=function(t){return 0<t?1:t<0?-1:0},a.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},a.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},a.randomTriangular=function(t,e){return a.randomTriangularWith(t,e,.5*(t+e))},a.randomTriangularWith=function(t,e,r){var n=Math.random(),i=e-t;return n<=(r-t)/i?t+Math.sqrt(n*i*(r-t)):e-Math.sqrt((1-n)*i*(e-r))},a.PI2=2*(a.PI=3.1415927),a.radDeg=a.radiansToDegrees=180/a.PI,a.degRad=a.degreesToRadians=a.PI/180,a);function a(){}t.MathUtils=o;var s=(u.prototype.apply=function(t,e,r){return t+(e-t)*this.applyInternal(r)},u);function u(){}t.Interpolation=s;var l,h=(__extends(c,l=s),c.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},c);function c(t){var e=l.call(this)||this;return e.power=2,e.power=t,e}t.Pow=h;var f,d=(__extends(p,f=h),p.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},p);function p(t){return f.call(this,t)||this}t.PowOut=d;var _=(v.arrayCopy=function(t,e,r,n,i){for(var o=e,a=n;o<e+i;o++,a++)r[a]=t[o]},v.setArraySize=function(t,e,r){void 0===r&&(r=0);var n=t.length;if(n==e)return t;if(n<(t.length=e))for(var i=n;i<e;i++)t[i]=r;return t},v.ensureArrayCapacity=function(t,e,r){return void 0===r&&(r=0),t.length>=e?t:v.setArraySize(t,e,r)},v.newArray=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r},v.newFloatArray=function(t){if(v.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),r=0;r<e.length;r++)e[r]=0;return e},v.newShortArray=function(t){if(v.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),r=0;r<e.length;r++)e[r]=0;return e},v.toFloatArray=function(t){return v.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},v.toSinglePrecision=function(t){return v.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},v.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,v);function v(){}t.Utils=_;var g=(m.logBones=function(t){for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=r.matrix;console.log(r.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.tx+", "+n.ty)}},m);function m(){}t.DebugUtils=g;var y=(b.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},b.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},b.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},b.prototype.clear=function(){this.items.length=0},b);function b(t){this.items=new Array,this.instantiator=t}t.Pool=y;var x=(T.prototype.set=function(t,e){return this.x=t,this.y=e,this},T.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},T.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},T);function T(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}t.Vector2=x;var w=(E.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},E);function E(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}t.TimeKeeper=w;var S=(P.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},P.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},P.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},P);function P(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.WindowedMean=S}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(t){function e(t){if(null==t)throw new Error("name cannot be null.");this.name=t}t.Attachment=e;var r,n=(__extends(i,r=e),i.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},i.prototype.computeWorldVertices=function(t,e,r,n,i,o){r=i+(r>>1)*o;var a=t.bone.skeleton,s=t.attachmentVertices,u=this.vertices,l=this.bones;if(null!=l){for(var h=0,c=0,f=0;f<e;f+=2)h+=(v=l[h])+1,c+=v;var d=a.bones;if(0==s.length)for(A=i,E=3*c;A<r;A+=o){var p=0,_=0,v=l[h++];for(v+=h;h<v;h++,E+=3){b=d[l[h]].matrix,C=u[E],R=u[E+1];var g=u[E+2];p+=(C*b.a+R*b.c+b.tx)*g,_+=(C*b.b+R*b.d+b.ty)*g}n[A]=p,n[A+1]=_}else for(var m=s,y=(A=i,E=3*c,c<<1);A<r;A+=o){for(_=p=0,v=l[h++],v+=h;h<v;h++,E+=3,y+=2)b=d[l[h]].matrix,C=u[E]+m[y],R=u[E+1]+m[y+1],g=u[E+2],p+=(C*b.a+R*b.c+b.tx)*g,_+=(C*b.b+R*b.d+b.ty)*g;n[A]=p,n[A+1]=_}}else{0<s.length&&(u=s);for(var b,x=(b=t.bone.matrix).tx,T=b.ty,w=b.a,E=b.c,S=b.b,P=b.d,M=e,A=i;A<r;M+=2,A+=o){var C=u[M],R=u[M+1];n[A]=C*w+R*E+x,n[A+1]=C*S+R*P+T}}},i.prototype.applyDeform=function(t){return this==t},i.nextID=0,i);function i(t){var e=r.call(this,t)||this;return e.id=(65535&i.nextID++)<<11,e.worldVerticesLength=0,e}t.VertexAttachment=n}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var e,r;e=t.core||(t.core={}),(r=e.AttachmentType||(e.AttachmentType={}))[r.Region=0]="Region",r[r.BoundingBox=1]="BoundingBox",r[r.Mesh=2]="Mesh",r[r.LinkedMesh=3]="LinkedMesh",r[r.Path=4]="Path",r[r.Point=5]="Point"}(pixi_spine=pixi_spine||{}),function(t){var r,n,e;function i(t){var e=n.call(this,t)||this;return e.color=new r.Color(1,1,1,1),e}r=t.core||(t.core={}),n=r.VertexAttachment,__extends(i,n),e=i,r.BoundingBoxAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var r,n,e;function i(t){var e=n.call(this,t)||this;return e.color=new r.Color(.2275,.2275,.8078,1),e}r=t.core||(t.core={}),n=r.VertexAttachment,__extends(i,n),e=i,r.ClippingAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var d,r,e;function n(t){var e=r.call(this,t)||this;return e.color=new d.Color(1,1,1,1),e.inheritDeform=!1,e.tempColor=new d.Color(0,0,0,0),e}d=t.core||(t.core={}),r=d.VertexAttachment,__extends(n,r),n.prototype.updateUVs=function(t,e){var r=this.regionUVs.length;if(e&&e.length==r||(e=d.Utils.newFloatArray(r)),null!=t){for(var n=t.texture._uvs,i=t.width,o=t.height,a=t.originalWidth,s=t.originalHeight,u=t.offsetX,l=t.pixiOffsetY,h=0;h<r;h+=2){var c=this.regionUVs[h],f=this.regionUVs[h+1];c=(c*a-u)/i,f=(f*s-l)/o,e[h]=(n.x0*(1-c)+n.x1*c)*(1-f)+(n.x3*(1-c)+n.x2*c)*f,e[h+1]=(n.y0*(1-c)+n.y1*c)*(1-f)+(n.y3*(1-c)+n.y2*c)*f}return e}},n.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},n.prototype.getParentMesh=function(){return this.parentMesh},n.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},e=n,d.MeshAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var r,n,e;function i(t){var e=n.call(this,t)||this;return e.closed=!1,e.constantSpeed=!1,e.color=new r.Color(1,1,1,1),e}r=t.core||(t.core={}),n=r.VertexAttachment,__extends(i,n),e=i,r.PathAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var a,r,e;function n(t){var e=r.call(this,t)||this;return e.color=new a.Color(.38,.94,0,1),e}a=t.core||(t.core={}),r=a.VertexAttachment,__extends(n,r),n.prototype.computeWorldPosition=function(t,e){var r=t.matrix;return e.x=this.x*r.a+this.y*r.c+t.worldX,e.y=this.x*r.b+this.y*r.d+t.worldY,e},n.prototype.computeWorldRotation=function(t){var e=t.matrix,r=a.MathUtils.cosDeg(this.rotation),n=a.MathUtils.sinDeg(this.rotation),i=r*e.a+n*e.c,o=r*e.b+n*e.d;return Math.atan2(o,i)*a.MathUtils.radDeg},e=n,a.PointAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var r,n,e;function m(t){var e=n.call(this,t)||this;return e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.rotation=0,e.width=0,e.height=0,e.color=new r.Color(1,1,1,1),e.offset=r.Utils.newFloatArray(8),e.uvs=r.Utils.newFloatArray(8),e.tempColor=new r.Color(1,1,1,1),e}r=t.core||(t.core={}),n=r.Attachment,__extends(m,n),m.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,n=-this.height/2*this.scaleY+this.region.offsetY*e,i=r+this.region.width*t,o=n+this.region.height*e,a=this.rotation*Math.PI/180,s=Math.cos(a),u=Math.sin(a),l=r*s+this.x,h=r*u,c=n*s+this.y,f=n*u,d=i*s+this.x,p=i*u,_=o*s+this.y,v=o*u,g=this.offset;g[m.OX1]=l-f,g[m.OY1]=c+h,g[m.OX2]=l-v,g[m.OY2]=_+h,g[m.OX3]=d-v,g[m.OY3]=_+p,g[m.OX4]=d-f,g[m.OY4]=c+p},m.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},m.prototype.computeWorldVertices=function(t,e,r,n){var i=this.offset,o=t.matrix,a=o.tx,s=o.ty,u=o.a,l=o.c,h=o.b,c=o.d,f=0,d=0;f=i[m.OX1],d=i[m.OY1],e[r]=f*u+d*l+a,e[r+1]=f*h+d*c+s,r+=n,f=i[m.OX2],d=i[m.OY2],e[r]=f*u+d*l+a,e[r+1]=f*h+d*c+s,r+=n,f=i[m.OX3],d=i[m.OY3],e[r]=f*u+d*l+a,e[r+1]=f*h+d*c+s,r+=n,f=i[m.OX4],d=i[m.OY4],e[r]=f*u+d*l+a,e[r+1]=f*h+d*c+s},m.OX1=0,m.OY1=1,m.OX2=2,m.OY2=3,m.OX3=4,m.OY3=5,m.OX4=6,m.OY4=7,m.X1=0,m.Y1=1,m.C1R=2,m.C1G=3,m.C1B=4,m.C1A=5,m.U1=6,m.V1=7,m.X2=8,m.Y2=9,m.C2R=10,m.C2G=11,m.C2B=12,m.C2A=13,m.U2=14,m.V2=15,m.X3=16,m.Y3=17,m.C3R=18,m.C3G=19,m.C3B=20,m.C3A=21,m.U3=22,m.V3=23,m.X4=24,m.Y4=25,m.C4R=26,m.C4G=27,m.C4B=28,m.C4A=29,m.U4=30,m.V4=31,e=m,r.RegionAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var i,e;function r(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}i=t.core||(t.core={}),r.prototype.begin=function(t){},r.prototype.transform=function(t,e,r,n){t.x+=i.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=i.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},r.prototype.end=function(){},e=r,i.JitterEffect=e}(pixi_spine=pixi_spine||{}),function(t){var c,e;function f(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}c=t.core||(t.core={}),f.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},f.prototype.transform=function(t,e,r,n){var i=this.angle*c.MathUtils.degreesToRadians,o=t.x-this.worldX,a=t.y-this.worldY,s=Math.sqrt(o*o+a*a);if(s<this.radius){var u=f.interpolation.apply(0,i,(this.radius-s)/this.radius),l=Math.cos(u),h=Math.sin(u);t.x=l*o-h*a+this.worldX,t.y=h*o+l*a+this.worldY}},f.prototype.end=function(){},f.interpolation=new c.PowOut(2),e=f,c.SwirlEffect=e}(pixi_spine=pixi_spine||{}),function(f){function t(){return function(r,n){if(!r.data||r.type!==PIXI.loaders.Resource.TYPE.JSON||!r.data.bones)return n();var t=r.metadata||{},i=t?r.metadata.spineSkeletonScale:null,e=t?r.metadata.spineAtlas:null;if(!1===e)return n();if(e&&e.pages){var o=new f.core.SkeletonJson(new f.core.AtlasAttachmentLoader(e)).readSkeletonData(r.data);return r.spineData=o,r.spineAtlas=e,n()}var a=t.spineAtlasSuffix||".atlas",s=r.url.substr(0,r.url.lastIndexOf("."))+"@"+CC.ScaleFactor+"x"+a;s=s.replace(this.baseUrl,"");var u={crossOrigin:r.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:t.spineMetadata||null,parentResource:r},l={crossOrigin:r.crossOrigin,metadata:t.imageMetadata||null,parentResource:r},h=r.url.substr(0,r.url.lastIndexOf("/")+1);h=h.replace(this.baseUrl,"");var c=t.images?p(t.images):t.image?p({default:t.image}):t.imageLoader?t.imageLoader(this,r.name+"_atlas_page_",h,l):d(this,r.name+"_atlas_page_",h,l);this.add(r.name+"_atlas",s,u,function(t){new f.core.TextureAtlas(t.xhr.responseText,c,function(t){var e=new f.core.SkeletonJson(new f.core.AtlasAttachmentLoader(t));i&&(e.scale=i),r.spineData=e.readSkeletonData(r.data),r.spineAtlas=t,n()})})}}function d(i,o,a,s){return a&&a.lastIndexOf("/")!==a.length-1&&(a+="/"),function(t,e){var r=o+t,n=a+t;i.add(r,n,s,function(t){e(t.texture.baseTexture)})}}function p(n){return function(t,e){var r=n[t]||n.default;r&&r.baseTexture?e(r.baseTexture):e(r)}}f.atlasParser=t,f.imageLoaderAdapter=d,f.syncImageLoaderAdapter=function(t,r){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,e){e(PIXI.BaseTexture.fromImage(t,r))}},f.staticImageLoader=p,PIXI.loaders.Loader.addPixiMiddleware(t),PIXI.loader.use(t())}(pixi_spine=pixi_spine||{}),function(){var e;Math.fround||(Math.fround=Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),function(R){R.core.Bone.yDown=!0;var e,O=[0,0,0],r=(e=PIXI.Sprite,__extends(t,e),t);function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.region=null,t}R.SpineSprite=r;var o,a=(o=PIXI.mesh.Mesh,__extends(n,o),n);function n(t,e,r,n,i){return o.call(this,t,e,r,n,i)||this}R.SpineMesh=a;var h,i=(h=PIXI.Container,__extends(s,h),Object.defineProperty(s.prototype,"autoUpdate",{get:function(){return this.updateTransform===s.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?s.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!0,configurable:!0}),s.prototype.update=function(t){this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();var e=this.skeleton.slots,r=this.color,n=null,i=null;r?(n=r.light,i=r.dark):n=this.tintRgb;for(var o=PIXI.TransformBase&&1==this.transformHack(),a=0,s=e.length;a<s;a++){var u=(A=e[a]).attachment,l=this.slotContainers[a];if(u){var h=null,c=u.color;if(u instanceof R.core.RegionAttachment){var f=u.region;if(f){A.currentMesh&&(A.currentMesh.visible=!1,A.currentMesh=null,A.currentMeshName=void 0);var d=f;if(!A.currentSpriteName||A.currentSpriteName!==d.name){var p=d.name;if(A.currentSprite&&(A.currentSprite.visible=!1),A.sprites=A.sprites||{},void 0!==A.sprites[p])A.sprites[p].visible=!0;else{var _=this.createSprite(A,u,p);l.addChild(_)}A.currentSprite=A.sprites[p],A.currentSpriteName=p}}if(l.transform){var v=l.transform,g=v,m=null;g.matrix2d?(m=g.matrix2d,g._dirtyVersion++,g.version=g._dirtyVersion,g.isStatic=!0,g.operMode=0):o?(g.position&&(v=new PIXI.TransformBase,l.transform=v),m=v.localTransform):g.setFromMatrix(A.bone.matrix),m&&A.bone.matrix.copy(m)}else m=l.localTransform||new PIXI.Matrix,A.bone.matrix.copy(m),l.localTransform=m,l.displayObjectUpdateTransform=I;A.currentSprite.color?h=A.currentSprite.color:(O[0]=n[0]*A.color.r*c.r,O[1]=n[1]*A.color.g*c.g,O[2]=n[2]*A.color.b*c.b,A.currentSprite.tint=PIXI.utils.rgb2hex(O)),A.currentSprite.blendMode=A.blendMode}else if(u instanceof R.core.MeshAttachment){if(A.currentSprite&&(A.currentSprite.visible=!1,A.currentSprite=null,A.currentSpriteName=void 0,l.transform?l.transform=new PIXI.TransformStatic:(l.localTransform=new PIXI.Matrix,l.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform)),!A.currentMeshName||A.currentMeshName!==u.name){var y=u.name;if(A.currentMesh&&(A.currentMesh.visible=!1),A.meshes=A.meshes||{},void 0!==A.meshes[y])A.meshes[y].visible=!0;else{var b=this.createMesh(A,u);l.addChild(b)}A.currentMesh=A.meshes[y],A.currentMeshName=y}if(u.computeWorldVerticesOld(A,A.currentMesh.vertices),A.currentMesh.color)h=A.currentMesh.color;else if("3"!==PIXI.VERSION[0]){var x=A.currentMesh.tintRgb;x[0]=n[0]*A.color.r*c.r,x[1]=n[1]*A.color.g*c.g,x[2]=n[2]*A.color.b*c.b}A.currentMesh.blendMode=A.blendMode}else{if(!(u instanceof R.core.ClippingAttachment)){l.visible=!1;continue}A.currentGraphics||(this.createGraphics(A,u),l.addChild(A.clippingContainer),l.addChild(A.currentGraphics)),this.updateGraphics(A,u)}if(l.visible=!0,h){var T=A.color.r*c.r,w=A.color.g*c.g,E=A.color.b*c.b;h.setLight(n[0]*T+i[0]*(1-T),n[1]*w+i[1]*(1-w),n[2]*E+i[2]*(1-E)),E=A.darkColor?(T=A.darkColor.r,w=A.darkColor.g,A.darkColor.b):w=T=0,h.setDark(n[0]*T+i[0]*(1-T),n[1]*w+i[1]*(1-w),n[2]*E+i[2]*(1-E))}l.alpha=A.color.a}else l.visible=!1}var S=this.skeleton.drawOrder,P=null,M=null;for(a=0,s=S.length;a<s;a++){var A=e[S[a].data.index];if(l=this.slotContainers[S[a].data.index],M||l.parent!==this&&(l.parent.removeChild(l),l.parent=this),A.currentGraphics&&A.attachment)M=A.clippingContainer,P=A.attachment,M.children.length=0,this.children[a]=l,P.endSlot==A.data&&(P.endSlot=null);else if(M){var C=this.tempClipContainers[a];C||((C=this.tempClipContainers[a]=this.newContainer()).visible=!1),this.children[a]=C,l.parent=null,M.addChild(l),P.endSlot==A.data&&(M.renderable=!0,P=M=null)}else this.children[a]=l}},s.prototype.setSpriteRegion=function(t,e,r){e.region=r,e.texture=r.texture,r.size?(e.scale.x=r.size.width/r.originalWidth,e.scale.y=-r.size.height/r.originalHeight):(e.scale.x=t.scaleX*t.width/r.originalWidth,e.scale.y=-t.scaleY*t.height/r.originalHeight)},s.prototype.setMeshRegion=function(t,e,r){e.region=r,e.texture=r.texture,r.texture._updateUvs(),t.updateUVs(r,e.uvs),e.dirty++},s.prototype.autoUpdateTransform=function(){if(s.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},s.prototype.createSprite=function(t,e,r){var n=e.region;t.tempAttachment===e&&(n=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var i=n.texture,o=this.newSprite(i);return o.rotation=e.rotation*R.core.MathUtils.degRad,o.anchor.x=.5,o.anchor.y=.5,o.position.x=e.x,o.position.y=e.y,o.alpha=e.color.a,o.region=e.region,this.setSpriteRegion(e,o,e.region),t.sprites=t.sprites||{},t.sprites[r]=o},s.prototype.createMesh=function(t,e){var r=e.region;t.tempAttachment===e&&(r=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var n=this.newMesh(r.texture,new Float32Array(e.regionUVs.length),new Float32Array(e.regionUVs.length),new Uint16Array(e.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return this.blockPadding&&CC.WebApp.current.renderer.type,n.alpha=e.color.a,n.region=e.region,this.setMeshRegion(e,n,r),t.meshes=t.meshes||{},t.meshes[e.name]=n},s.prototype.createGraphics=function(t,e){var r=this.newGraphics(),n=new PIXI.Polygon([]);return r.clear(),r.beginFill(16777215,1),r.drawPolygon(n),r.renderable=!1,t.currentGraphics=r,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,r},s.prototype.updateGraphics=function(t,e){var r=t.currentGraphics.graphicsData[0].shape.points,n=e.worldVerticesLength;r.length=n,e.computeWorldVertices(t,0,n,r,0,2),t.currentGraphics.dirty++,t.currentGraphics.clearDirty++},s.prototype.hackTextureBySlotIndex=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=this.skeleton.slots[t];if(!n)return!1;var i=n.attachment,o=i.region;return e&&((o=new R.core.TextureRegion).texture=e,o.size=r),n.currentSprite&&n.currentSprite.region!=o?(this.setSpriteRegion(i,n.currentSprite,o),n.currentSprite.region=o):n.currentMesh&&n.currentMesh.region!=o?this.setMeshRegion(i,n.currentMesh,o):(n.tempRegion=o,n.tempAttachment=i),!0},s.prototype.hackTextureBySlotName=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=this.skeleton.findSlotIndex(t);return-1!=n&&this.hackTextureBySlotIndex(n,e,r)},s.prototype.newContainer=function(){return new PIXI.Container},s.prototype.newSprite=function(t){return new r(t)},s.prototype.newGraphics=function(){return new PIXI.Graphics},s.prototype.newMesh=function(t,e,r,n,i){return new a(t,e,r,n,i)},s.prototype.transformHack=function(){return 1},s.globalAutoUpdate=!0,s.clippingPolygon=[],s);function s(t){var e=h.call(this)||this;if(!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');e.spineData=t,e.skeleton=new R.core.Skeleton(t),e.skeleton.updateWorldTransform(),e.stateData=new R.core.AnimationStateData(t),e.state=new R.core.AnimationState(e.stateData),e.slotContainers=[],e.tempClipContainers=[];for(var r=0,n=e.skeleton.slots.length;r<n;r++){var i=e.skeleton.slots[r],o=i.attachment,a=e.newContainer();if(e.slotContainers.push(a),e.addChild(a),e.tempClipContainers.push(null),o instanceof R.core.RegionAttachment){var s=o.region.name,u=e.createSprite(i,o,s);i.currentSprite=u,i.currentSpriteName=s,a.addChild(u)}else if(o instanceof R.core.MeshAttachment){var l=e.createMesh(i,o);i.currentMesh=l,i.currentMeshName=o.name,a.addChild(l)}else{if(!(o instanceof R.core.ClippingAttachment))continue;e.createGraphics(i,o),a.addChild(i.clippingContainer),a.addChild(i.currentGraphics)}}return e.autoUpdate=!0,e.tintRgb=new Float32Array([1,1,1]),e}function I(){var t=this.parent.worldTransform,e=this.worldTransform,r=this.localTransform;e.a=r.a*t.a+r.b*t.c,e.b=r.a*t.b+r.b*t.d,e.c=r.c*t.a+r.d*t.c,e.d=r.c*t.b+r.d*t.d,e.tx=r.tx*t.a+r.ty*t.c+t.tx,e.ty=r.tx*t.b+r.ty*t.d+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}R.Spine=i}(pixi_spine=pixi_spine||{}),PIXI.spine=pixi_spine,(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("easing.Back",["easing.Ease"],function(v){function t(t,e){var r=h("easing."+t,function(){},!0),n=r.prototype=new v;return n.constructor=r,n.getRatio=e,r}function e(t,e,r,n){var i=h("easing."+t,{easeOut:new e,easeIn:new r,easeInOut:new n},!0);return c(i,t),i}function g(t,e,r){this.t=t,this.v=e,r&&(((this.next=r).prev=this).c=r.v-e,this.gap=r.t-t)}function r(t,e){var r=h("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),n=r.prototype=new v;return n.constructor=r,n.getRatio=e,n.config=function(t){return new r(t)},r}var n,i,o,a=window.GreenSockGlobals||window,s=a.com.greensock,u=2*Math.PI,l=Math.PI/2,h=s._class,c=v.register||function(){},f=e("Back",r("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),r("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),r("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),d=h("easing.SlowMo",function(t,e,r){e=e||0===e?e:.7,null==t?t=.7:1<t&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===r},!0),p=d.prototype=new v;return p.constructor=d,p.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},d.ease=new d(.7,.7),p.config=d.config=function(t,e,r){return new d(t,e,r)},(p=(n=h("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0)).prototype=new v).constructor=n,p.getRatio=function(t){return t<0?t=0:1<=t&&(t=.999999999),(this._p2*t>>0)*this._p1},p.config=n.config=function(t){return new n(t)},(p=(i=h("easing.RoughEase",function(t){for(var e,r,n,i,o,a,s=(t=t||{}).taper||"none",u=[],l=0,h=0|(t.points||20),c=h,f=!1!==t.randomize,d=!0===t.clamp,p=t.template instanceof v?t.template:null,_="number"==typeof t.strength?.4*t.strength:.4;-1<--c;)e=f?Math.random():1/h*c,r=p?p.getRatio(e):e,n="none"===s?_:"out"===s?(i=1-e)*i*_:"in"===s?e*e*_:.5*(i=e<.5?2*e:2*(1-e))*i*_,f?r+=Math.random()*n-.5*n:c%2?r+=.5*n:r-=.5*n,d&&(1<r?r=1:r<0&&(r=0)),u[l++]={x:e,y:r};for(u.sort(function(t,e){return t.x-e.x}),a=new g(1,1,null),c=h;-1<--c;)o=u[c],a=new g(o.x,o.y,a);this._prev=new g(0,0,0!==a.t?a:a.next)},!0)).prototype=new v).constructor=i,p.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return(this._prev=e).v+(t-e.t)/e.gap*e.c},p.config=function(t){return new i(t)},i.ease=new i,e("Bounce",t("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),t("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),t("BounceInOut",function(t){var e=t<.5;return t=(t=e?1-2*t:2*t-1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),e("Circ",t("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),t("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),t("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),e("Elastic",(o=function(t,e,r){var n=h("easing."+t,function(t,e){this._p1=t||1,this._p2=e||r,this._p3=this._p2/u*(Math.asin(1/this._p1)||0)},!0),i=n.prototype=new v;return i.constructor=n,i.getRatio=e,i.config=function(t,e){return new n(t,e)},n})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*u/this._p2)+1},.3),o("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*u/this._p2)},.3),o("ElasticInOut",function(t){return(t*=2)<1?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*u/this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*u/this._p2)+1},.45)),e("Expo",t("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),t("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),t("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),e("Sine",t("SineOut",function(t){return Math.sin(t*l)}),t("SineIn",function(t){return 1-Math.cos(t*l)}),t("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(t){return v.map[t]}},!0),c(a.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(n,"SteppedEase","ease,"),f},!0)}),window._gsDefine&&window._gsQueue.pop()(),function(f){"use strict";var e,r,d=f.GreenSockGlobals||f;if(!d.TweenLite){var t,n,i,c,p,_=function(t){var e,r=t.split("."),n=d;for(e=0;r.length>e;e++)n[r[e]]=n=n[r[e]]||{};return n},v=_("com.greensock"),g=1e-10,u=[].slice,m=function(){},h=(e=Object.prototype.toString,r=e.call([]),function(t){return t instanceof Array||"object"==typeof t&&!!t.push&&e.call(t)===r}),y={},b=function(s,u,l,h){this.sc=y[s]?y[s].sc:[],(y[s]=this).gsClass=null,this.func=l;var c=[];this.check=function(t){for(var e,r,n,i,o=u.length,a=o;-1<--o;)(e=y[u[o]]||new b(u[o],[])).gsClass?(c[o]=e.gsClass,a--):t&&e.sc.push(this);if(0===a&&l)for(n=(r=("com.greensock."+s).split(".")).pop(),i=_(r.join("."))[n]=this.gsClass=l.apply(l,c),h&&(d[n]=i,"function"==typeof define&&define.amd?define((f.GreenSockAMDPath?f.GreenSockAMDPath+"/":"")+s.split(".").join("/"),[],function(){return i}):"undefined"!=typeof module&&module.exports&&(module.exports=i)),o=0;this.sc.length>o;o++)this.sc[o].check()},this.check(!0)},o=f._gsDefine=function(t,e,r,n){return new b(t,e,r,n)},x=v._class=function(t,e,r){return e=e||function(){},o(t,[],function(){return e},r),e};o.globals=d;var a=[0,0,1,1],T=[],l=x("easing.Ease",function(t,e,r,n){this._func=t,this._type=r||0,this._power=n||0,this._params=e?a.concat(e):a},!0),w=l.map={},s=l.register=function(t,e,r,n){for(var i,o,a,s,u=e.split(","),l=u.length,h=(r||"easeIn,easeOut,easeInOut").split(",");-1<--l;)for(o=u[l],i=n?x("easing."+o,null,!0):v.easing[o]||{},a=h.length;-1<--a;)s=h[a],w[o+"."+s]=w[s+o]=i[s]=t.getRatio?t:t[s]||new t};for((i=l.prototype)._calcEnd=!1,i.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,r=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===r?n*=n:2===r?n*=n*n:3===r?n*=n*n*n:4===r&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},n=(t=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--n;)i=t[n]+",Power"+n,s(new l(null,null,1,n),i,"easeOut",!0),s(new l(null,null,2,n),i,"easeIn"+(0===n?",easeNone":"")),s(new l(null,null,3,n),i,"easeInOut");w.linear=v.easing.Linear.easeIn,w.swing=v.easing.Quad.easeInOut;var E=x("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(i=E.prototype).addEventListener=function(t,e,r,n,i){i=i||0;var o,a,s=this._listeners[t],u=0;for(null==s&&(this._listeners[t]=s=[]),a=s.length;-1<--a;)(o=s[a]).c===e&&o.s===r?s.splice(a,1):0===u&&i>o.pr&&(u=a+1);s.splice(u,0,{c:e,s:r,up:n,pr:i}),this!==c||p||c.wake()},i.removeEventListener=function(t,e){var r,n=this._listeners[t];if(n)for(r=n.length;-1<--r;)if(n[r].c===e)return void n.splice(r,1)},i.dispatchEvent=function(t){var e,r,n,i=this._listeners[t];if(i)for(e=i.length,r=this._eventTarget;-1<--e;)(n=i[e]).up?n.c.call(n.s||r,{type:t,target:r}):n.c.call(n.s||r)};var S=f.requestAnimationFrame,P=f.cancelAnimationFrame,M=Date.now||function(){return(new Date).getTime()},A=M();for(n=(t=["ms","moz","webkit","o"]).length;-1<--n&&!S;)S=f[t[n]+"RequestAnimationFrame"],P=f[t[n]+"CancelAnimationFrame"]||f[t[n]+"CancelRequestAnimationFrame"];x("Ticker",function(t,e){var n,i,o,a,s,u=this,l=M(),r=!1!==e&&S,h=function(t){A=M(),u.time=(A-l)/1e3;var e,r=u.time-s;(!n||0<r||!0===t)&&(u.frame++,s+=r+(a<=r?.004:a-r),e=!0),!0!==t&&(o=i(h)),e&&u.dispatchEvent("tick")};E.call(u),u.time=u.frame=0,u.tick=function(){h(!0)},u.sleep=function(){null!=o&&(r&&P?P(o):clearTimeout(o),i=m,o=null,u===c&&(p=!1))},u.wake=function(){null!==o&&u.sleep(),i=0===n?m:r&&S?S:function(t){return setTimeout(t,0|1e3*(s-u.time)+1)},u===c&&(p=!0),h(2)},u.fps=function(t){return arguments.length?(a=1/((n=t)||60),s=this.time+a,void u.wake()):n},u.useRAF=function(t){return arguments.length?(u.sleep(),r=t,void u.fps(n)):r},u.fps(t),setTimeout(function(){r&&(!o||u.frame<5)&&u.useRAF(!1)},1500)}),(i=v.Ticker.prototype=new v.events.EventDispatcher).constructor=v.Ticker;var C=x("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,V){p||c.wake();var r=this.vars.useFrames?B:V;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});c=C.ticker=new v.Ticker,(i=C.prototype)._dirty=i._gc=i._initted=i._paused=!1,i._totalTime=i._time=0,i._rawPrevTime=-1,i._next=i._last=i._onUpdate=i._timeline=i.timeline=null,i._paused=!1;var R=function(){p&&2e3<M()-A&&c.wake(),setTimeout(R,2e3)};R(),i.play=function(t,e){return arguments.length&&this.seek(t,e),this.reversed(!1).paused(!1)},i.pause=function(t,e){return arguments.length&&this.seek(t,e),this.paused(!0)},i.resume=function(t,e){return arguments.length&&this.seek(t,e),this.paused(!1)},i.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},i.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},i.reverse=function(t,e){return arguments.length&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},i.render=function(){},i.invalidate=function(){return this},i.isActive=function(){var t,e=this._timeline,r=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=r&&r+this.totalDuration()/this._timeScale>t},i._enabled=function(t,e){return p||c.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},i._kill=function(){return this._enabled(!1,!1)},i.kill=function(t,e){return this._kill(t,e),this},i._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},i._swapSelfInParams=function(t){for(var e=t.length,r=t.concat();-1<--e;)"{self}"===t[e]&&(r[e]=this);return r},i.eventCallback=function(t,e,r,n){if("on"===(t||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[t];null==e?delete i[t]:(i[t]=e,i[t+"Params"]=h(r)&&-1!==r.join("").indexOf("{self}")?this._swapSelfInParams(r):r,i[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},i.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},i.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},i.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},i.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},i.totalTime=function(t,e,r){if(p||c.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!r&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,i=this._timeline;if(n<t&&!r&&(t=n),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?n-t:t)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||this.render(t,e,!1)}return this},i.progress=i.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},i.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},i.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||g,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,r=e||0===e?e:this._timeline.totalTime();this._startTime=r-(r-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},i.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._totalTime,!0)),this):this._reversed},i.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){p||t||c.wake();var e=this._timeline,r=e.rawTime(),n=r-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?r:null,this._paused=t,this._active=this.isActive(),!t&&0!=n&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(r-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var O=x("core.SimpleTimeline",function(t){C.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(i=O.prototype=new C).constructor=O,i.kill()._gc=!1,i._first=i._last=null,i._sortChildren=!1,i.add=i.insert=function(t,e){var r,n;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(n=t._startTime;r&&r._startTime>n;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._timeline&&this._uncache(!0),this},i._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t.timeline=null,t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),this._timeline&&this._uncache(!0)),this},i.render=function(t,e,r){var n,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;i;)n=i._next,(i._active||t>=i._startTime&&!i._paused)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=n},i.rawTime=function(){return p||c.wake(),this._totalTime};var I=x("TweenLite",function(t,e,r){if(C.call(this,e,r),this.render=I.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:I.selector(t)||t;var n,i,o,a=t.jquery||t.length&&t!==f&&t[0]&&(t[0]===f||t[0].nodeType&&t[0].style&&!t.nodeType),s=this.vars.overwrite;if(this._overwrite=s=null==s?U[I.defaultOverwrite]:"number"==typeof s?s>>0:U[s],(a||t instanceof Array||t.push&&h(t))&&"number"!=typeof t[0])for(this._targets=o=u.call(t,0),this._propLookup=[],this._siblings=[],n=0;o.length>n;n++)(i=o[n])?"string"!=typeof i?i.length&&i!==f&&i[0]&&(i[0]===f||i[0].nodeType&&i[0].style&&!i.nodeType)?(o.splice(n--,1),this._targets=o=o.concat(u.call(i,0))):(this._siblings[n]=X(i,this,!1),1===s&&1<this._siblings[n].length&&W(i,this,null,1,this._siblings[n])):"string"==typeof(i=o[n--]=I.selector(i))&&o.splice(n+1,1):o.splice(n--,1);else this._propLookup={},this._siblings=X(t,this,!1),1===s&&1<this._siblings.length&&W(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&this.render(-this._delay,!1,!0)},!0),D=function(t){return t.length&&t!==f&&t[0]&&(t[0]===f||t[0].nodeType&&t[0].style&&!t.nodeType)};(i=I.prototype=new C).constructor=I,i.kill()._gc=!1,i.ratio=0,i._firstPT=i._targets=i._overwrittenProps=i._startAt=null,i._notifyPluginsOfEnabled=!1,I.version="1.11.2",I.defaultEase=i._ease=new l(null,null,1,1),I.defaultOverwrite="auto",I.ticker=c,I.autoSleep=!0,I.selector=f.$||f.jQuery||function(t){return f.$?(I.selector=f.$,f.$(t)):f.document?f.document.getElementById("#"===t.charAt(0)?t.substr(1):t):t};var j=I._internals={isArray:h,isSelector:D},k=I._plugins={},L=I._tweenLookup={},N=0,F=j.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},U={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},B=C._rootFramesTimeline=new O,V=C._rootTimeline=new O;V._startTime=c.time,B._startTime=c.frame,V._active=B._active=!0,C._updateRoot=function(){if(V.render((c.time-V._startTime)*V._timeScale,!1,!1),B.render((c.frame-B._startTime)*B._timeScale,!1,!1),!(c.frame%120)){var t,e,r;for(r in L){for(t=(e=L[r].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete L[r]}if((!(r=V._first)||r._paused)&&I.autoSleep&&!B._first&&1===c._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||c.sleep()}}},c.addEventListener("tick",C._updateRoot);var X=function(t,e,r){var n,i,o=t._gsTweenID;if(L[o||(t._gsTweenID=o="t"+N++)]||(L[o]={target:t,tweens:[]}),e&&((n=L[o].tweens)[i=n.length]=e,r))for(;-1<--i;)n[i]===e&&n.splice(i,1);return L[o].tweens},W=function(t,e,r,n,i){var o,a,s,u;if(1===n||4<=n){for(u=i.length,o=0;o<u;o++)if((s=i[o])!==e)s._gc||s._enabled(!1,!1)&&(a=!0);else if(5===n)break;return a}var l,h=e._startTime+g,c=[],f=0,d=0===e._duration;for(o=i.length;-1<--o;)(s=i[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(l=l||H(e,0,d),0===H(s,l,d)&&(c[f++]=s)):h>=s._startTime&&s._startTime+s.totalDuration()/s._timeScale+g>h&&((d||!s._initted)&&h-s._startTime<=2e-10||(c[f++]=s)));for(o=f;-1<--o;)s=c[o],2===n&&s._kill(r,t)&&(a=!0),(2!==n||!s._firstPT&&s._initted)&&s._enabled(!1,!1)&&(a=!0);return a},H=function(t,e,r){for(var n=t._timeline,i=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,i*=n._timeScale,n._paused)return-100;n=n._timeline}return e<(o/=i)?o-e:r&&o===e||!t._initted&&o-e<2e-10?g:(o+=t.totalDuration()/t._timeScale/i)>e+g?0:o-e-g};i._init=function(){var t,e,r,n,i=this.vars,o=this._overwrittenProps,a=this._duration,s=i.immediateRender,u=i.ease;if(i.startAt){if(this._startAt&&this._startAt.render(-1,!0),i.startAt.overwrite=0,i.startAt.immediateRender=!0,this._startAt=I.to(this.target,0,i.startAt),s)if(0<this._time)this._startAt=null;else if(0!==a)return}else if(i.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{for(n in r={},i)F[n]&&"autoCSS"!==n||(r[n]=i[n]);if(r.overwrite=0,r.data="isFromStart",this._startAt=I.to(this.target,0,r),i.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(this._ease=u?u instanceof l?i.easeParams instanceof Array?u.config.apply(u,i.easeParams):u:"function"==typeof u?new l(u,i.easeParams):w[u]||I.defaultEase:I.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;-1<--t;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o);if(e&&I._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),i.runBackwards)for(r=this._firstPT;r;)r.s+=r.c,r.c=-r.c,r=r._next;this._onUpdate=i.onUpdate,this._initted=!0},i._initProps=function(t,e,r,n){var i,o,a,s,u,l;if(null==t)return!1;for(i in this.vars.css||t.style&&t!==f&&t.nodeType&&k.css&&!1!==this.vars.autoCSS&&function(t,e){var r,n={};for(r in t)F[r]||r in e&&"x"!==r&&"y"!==r&&"width"!==r&&"height"!==r&&"className"!==r&&"border"!==r||!(!k[r]||k[r]&&k[r]._autoCSS)||(n[r]=t[r],delete t[r]);t.css=n}(this.vars,t),this.vars){if(l=this.vars[i],F[i])l&&(l instanceof Array||l.push&&h(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[i]=l=this._swapSelfInParams(l,this));else if(k[i]&&(s=new k[i])._onInitTween(t,this.vars[i],this)){for(this._firstPT=u={_next:this._firstPT,t:s,p:"setRatio",s:0,c:1,f:!0,n:i,pg:!0,pr:s._priority},o=s._overwriteProps.length;-1<--o;)e[s._overwriteProps[o]]=this._firstPT;(s._priority||s._onInitAllProps)&&(a=!0),(s._onDisable||s._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=e[i]=u={_next:this._firstPT,t:t,p:i,f:"function"==typeof t[i],n:i,pg:!1,pr:0},u.s=u.f?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),u.c="string"==typeof l&&"="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*Number(l.substr(2)):Number(l)-u.s||0;u&&u._next&&(u._next._prev=u)}return n&&this._kill(n,t)?this._initProps(t,e,r,n):1<this._overwrite&&this._firstPT&&1<r.length&&W(t,this,e,this._overwrite,r)?(this._kill(e,t),this._initProps(t,e,r,n)):a},i.render=function(t,e,r){var n,i,o,a,s=this._time,u=this._duration;if(u<=t)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,i="onComplete"),0===u&&(a=this._rawPrevTime,(0===t||a<0||a===g)&&a!==t&&(r=!0,g<a&&(i="onReverseComplete")),this._rawPrevTime=a=!e||t?t:g);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&this._rawPrevTime>g)&&(i="onReverseComplete",n=this._reversed),t<0?(this._active=!1,0===u&&(0<=this._rawPrevTime&&(r=!0),this._rawPrevTime=a=!e||t?t:g)):this._initted||(r=!0);else if(this._totalTime=this._time=t,this._easeType){var l=t/u,h=this._easeType,c=this._easePower;(1===h||3===h&&.5<=l)&&(l=1-l),3===h&&(l*=2),1===c?l*=l:2===c?l*=l*l:3===c?l*=l*l*l:4===c&&(l*=l*l*l*l),this.ratio=1===h?1-l:2===h?l:t/u<.5?l/2:1-l/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==s||r){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/u):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==s&&0<=t&&(this._active=!0),0===s&&(this._startAt&&(0<=t?this._startAt.render(t,e,r):i=i||"_dummyGS"),!this.vars.onStart||0===this._time&&0!==u||(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||T))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,r),e||r&&0===this._time&&0===s||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||T)),i&&(this._gc||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,r),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[i]&&this.vars[i].apply(this.vars[i+"Scope"]||this,this.vars[i+"Params"]||T),0===u&&this._rawPrevTime===g&&a!==g&&(this._rawPrevTime=0)))}},i._kill=function(t,e){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._enabled(!1,!1);var r,n,i,o,a,s,u,l;if(e="string"!=typeof e?e||this._targets||this.target:I.selector(e)||e,(h(e)||D(e))&&"number"!=typeof e[0])for(r=e.length;-1<--r;)this._kill(t,e[r])&&(s=!0);else{if(this._targets){for(r=this._targets.length;-1<--r;)if(e===this._targets[r]){a=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){for(i in u=t||a,l=t!==n&&"all"!==n&&t!==a&&("object"!=typeof t||!t._tempKill),u)(o=a[i])&&(o.pg&&o.t._kill(u)&&(s=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[i]),l&&(n[i]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return s},i.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},i._enabled=function(t,e){if(p||c.wake(),t&&this._gc){var r,n=this._targets;if(n)for(r=n.length;-1<--r;)this._siblings[r]=X(n[r],this,!0);else this._siblings=X(this.target,this,!0)}return C.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&I._onPluginEvent(t?"_onEnable":"_onDisable",this)},I.to=function(t,e,r){return new I(t,e,r)},I.from=function(t,e,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new I(t,e,r)},I.fromTo=function(t,e,r,n){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,new I(t,e,n)},I.delayedCall=function(t,e,r,n,i){return new I(e,0,{delay:t,onComplete:e,onCompleteParams:r,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:r,onReverseCompleteScope:n,immediateRender:!1,useFrames:i,overwrite:0})},I.set=function(t,e){return new I(t,0,e)},I.getTweensOf=function(t,e){if(null==t)return[];var r,n,i,o;if(t="string"!=typeof t?t:I.selector(t)||t,(h(t)||D(t))&&"number"!=typeof t[0]){for(r=t.length,n=[];-1<--r;)n=n.concat(I.getTweensOf(t[r],e));for(r=n.length;-1<--r;)for(o=n[r],i=r;-1<--i;)o===n[i]&&n.splice(r,1)}else for(r=(n=X(t).concat()).length;-1<--r;)(n[r]._gc||e&&!n[r].isActive())&&n.splice(r,1);return n},I.killTweensOf=I.killDelayedCallsTo=function(t,e,r){"object"==typeof e&&(r=e,e=!1);for(var n=I.getTweensOf(t,e),i=n.length;-1<--i;)n[i]._kill(r,t)};var Y=x("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=Y.prototype},!0);if(i=Y.prototype,Y.version="1.10.1",Y.API=2,i._firstPT=null,i._addTween=function(t,e,r,n,i,o){var a,s;return null!=n&&(a="number"==typeof n||"="!==n.charAt(1)?Number(n)-r:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=s={_next:this._firstPT,t:t,p:e,s:r,c:a,f:"function"==typeof t[e],n:i||e,r:o},s._next&&(s._next._prev=s),s):void 0},i.setRatio=function(t){for(var e,r=this._firstPT;r;)e=r.c*t+r.s,r.r?e=0|e+(0<e?.5:-.5):e<1e-6&&-1e-6<e&&(e=0),r.f?r.t[r.p](e):r.t[r.p]=e,r=r._next},i._kill=function(t){var e,r=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=r.length;-1<--e;)null!=t[r[e]]&&r.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},i._roundProps=function(t,e){for(var r=this._firstPT;r;)(t[this._propName]||null!=r.n&&t[r.n.split(this._propName+"_").join("")])&&(r.r=e),r=r._next},I._onPluginEvent=function(t,e){var r,n,i,o,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,n=i;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:o)?s._prev._next=s:i=s,(s._next=n)?n._prev=s:o=s,s=a}s=e._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(r=!0),s=s._next;return r},Y.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===Y.API&&(k[(new t[e])._propName]=t[e]);return!0},o.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,r=t.propName,n=t.priority||0,i=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=x("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",function(){Y.call(this,r,n),this._overwriteProps=i||[]},!0===t.global),s=a.prototype=new Y(r);for(e in(s.constructor=a).API=t.API,o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return a.version=t.version,Y.activate([a]),a},t=f._gsQueue){for(n=0;t.length>n;n++)t[n]();for(i in y)y[i].func||f.console.log("GSAP encountered missing dependency: com.greensock."+i)}p=!1}}(window),this.createjs=this.createjs||{},function(){var t=createjs.SoundJS=createjs.SoundJS||{};t.version="1.0.0",t.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var r=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(r)||r.__proto__;if(n)for(var i in r[(e+="_")+"constructor"]=n.constructor,n)r.hasOwnProperty(i)&&"function"==typeof n[i]&&(r[e+i]=n[i]);return t},this.createjs=this.createjs||{},createjs.deprecate=function(e,r){"use strict";return function(){var t="Deprecated property or method '"+r+"'. See docs for info.";return console&&(console.warn?console.warn(t):console.log(t)),e&&e.apply(this,arguments)}},this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var r=0,n=t.length;r<n;r++)if(e===t[r])return r;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(t,e){var r=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(r))}}}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=-1<e.indexOf("IEMobile")||-1<e.indexOf("Windows Phone"),t.isFirefox=-1<e.indexOf("Firefox"),t.isOpera=null!=window.opera,t.isChrome=-1<e.indexOf("Chrome"),t.isIOS=(-1<e.indexOf("iPod")||-1<e.indexOf("iPhone")||-1<e.indexOf("iPad"))&&!t.isWindowPhone,t.isAndroid=-1<e.indexOf("Android")&&!t.isWindowPhone,t.isBlackberry=-1<e.indexOf("Blackberry"),createjs.BrowserDetect=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,r){var n,i=(n=r?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return i&&this.removeEventListener(t,e,r),(i=n[t])?i.push(e):n[t]=[e],e},e.on=function(t,e,r,n,i,o){return e.handleEvent&&(r=r||e,e=e.handleEvent),r=r||this,this.addEventListener(t,function(t){e.call(r,t,i),n&&t.remove()},o)},e.removeEventListener=function(t,e,r){var n=r?this._captureListeners:this._listeners;if(n){var i=n[t];if(i)for(var o=0,a=i.length;o<a;o++)if(i[o]==e){1==a?delete n[t]:i.splice(o,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,r){if("string"==typeof t){var n=this._listeners;if(!(e||n&&n[t]))return!0;t=new createjs.Event(t,e,r)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var i=this,o=[i];i.parent;)o.push(i=i.parent);var a,s=o.length;for(a=s-1;0<=a&&!t.propagationStopped;a--)o[a]._dispatchEvent(t,1+(0==a));for(a=1;a<s&&!t.propagationStopped;a++)o[a]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,r=this._captureListeners;return!!(e&&e[t]||r&&r[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var r,n,i=e<=2?this._captureListeners:this._listeners;if(t&&i&&(n=i[t.type])&&(r=n.length)){try{t.currentTarget=this}catch(t){}try{t.eventPhase=0|e}catch(t){}t.removed=!1,n=n.slice();for(var o=0;o<r&&!t.immediatePropagationStopped;o++){var a=n[o];a.handleEvent?a.handleEvent(t):a(t),t.removed&&(this.off(t.type,a,1==e),t.removed=!1)}}2===e&&this._dispatchEvent(t,2.1)},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.Event_constructor("error"),this.title=t,this.message=e,this.data=r}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),this.createjs=this.createjs||{},function(){"use strict";function r(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var t=r.prototype={},n=r;n.LOAD_TIMEOUT_DEFAULT=8e3,n.create=function(t){if("string"==typeof t){var e=new r;return e.src=t,e}if(t instanceof n)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=n}(),this.createjs=this.createjs||{},function(){var t={POST:"POST",GET:"GET"};createjs.Methods=t}(),this.createjs=this.createjs||{},function(){var t={BINARY:"binary",CSS:"css",FONT:"font",FONTCSS:"fontcss",IMAGE:"image",JAVASCRIPT:"javascript",JSON:"json",JSONP:"jsonp",MANIFEST:"manifest",SOUND:"sound",VIDEO:"video",SPRITESHEET:"spritesheet",SVG:"svg",TEXT:"text",XML:"xml"};createjs.Types=t}(),function(){var t={a:function(){return t.el("a")},svg:function(){return t.el("svg")},object:function(){return t.el("object")},image:function(){return t.el("image")},img:function(){return t.el("img")},style:function(){return t.el("style")},link:function(){return t.el("link")},script:function(){return t.el("script")},audio:function(){return t.el("audio")},video:function(){return t.el("video")},text:function(t){return document.createTextNode(t)},el:function(t){return document.createElement(t)}};createjs.Elements=t}(),function(){var r={container:null,appendToHead:function(t){r.getHead().appendChild(t)},appendToBody:function(t){if(null==r.container){r.container=document.createElement("div"),r.container.id="preloadjs-container";var e=r.container.style;e.visibility="hidden",e.position="absolute",e.width=r.container.style.height="10px",e.overflow="hidden",e.transform=e.msTransform=e.webkitTransform=e.oTransform="translate(-10px, -10px)",r.getBody().appendChild(r.container)}r.container.appendChild(t)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]},removeChild:function(t){t.parent&&t.parent.removeChild(t)},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement}};createjs.DomUtils=r}(),function(){var t={isBinary:function(t){switch(t){case createjs.Types.IMAGE:case createjs.Types.BINARY:return!0;default:return!1}},isText:function(t){switch(t){case createjs.Types.TEXT:case createjs.Types.JSON:case createjs.Types.MANIFEST:case createjs.Types.XML:case createjs.Types.CSS:case createjs.Types.SVG:case createjs.Types.JAVASCRIPT:case createjs.Types.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return createjs.Types.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.Types.IMAGE;case"ogg":case"mp3":case"webm":return createjs.Types.SOUND;case"mp4":case"webm":case"ts":return createjs.Types.VIDEO;case"json":return createjs.Types.JSON;case"xml":return createjs.Types.XML;case"css":return createjs.Types.CSS;case"js":return createjs.Types.JAVASCRIPT;case"svg":return createjs.Types.SVG;default:return createjs.Types.TEXT}}};createjs.RequestUtils=t}(),function(){var a={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(t){var e={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==t)return e;var r=createjs.Elements.a();for(var n in r.href=t,e)n in r&&(e[n]=r[n]);var i,o=t.indexOf("?");return-1<o&&(t=t.substr(0,o)),a.ABSOLUTE_PATT.test(t)?e.absolute=!0:a.RELATIVE_PATT.test(t)&&(e.relative=!0),(i=t.match(a.EXTENSION_PATT))&&(e.extension=i[1].toLowerCase()),e},formatQueryString:function(t,e){if(null==t)throw new Error("You must specify data.");var r=[];for(var n in t)r.push(n+"="+escape(t[n]));return e&&(r=r.concat(e)),r.join("&")},buildURI:function(t,e){if(null==e)return t;var r=[],n=t.indexOf("?");if(-1!=n){var i=t.slice(n+1);r=r.concat(i.split("&"))}return-1!=n?t.slice(0,n)+"?"+this.formatQueryString(e,r):t+"?"+this.formatQueryString(e,r)},isCrossDomain:function(t){var e=createjs.Elements.a();e.href=t.src;var r=createjs.Elements.a();return r.href=location.href,""!=e.hostname&&(e.port!=r.port||e.protocol!=r.protocol||e.hostname!=r.hostname)},isLocal:function(t){var e=createjs.Elements.a();return e.href=t.src,""==e.hostname&&"file:"==e.protocol}};createjs.URLUtils=a}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=r,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),r=t;try{Object.defineProperties(r,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(t){}e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,!isNaN(this.progress)&&this.progress!=1/0||(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.AbstractLoader_constructor(t,e,r),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,r=t.getResult(!0);t.getTag().src=e.createObjectURL(r)}return t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this._item=t}var e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=r,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(createjs.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=r,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(0<t.loaded&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(createjs.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}}else this._handleError()},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(0<t.loaded&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)this._handleError(e);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(t){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===t.name&&window.BlobBuilder){var r=new BlobBuilder;r.append(this._response),this._response=r.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);return 400<=t&&t<=599?new Error(t):0==t&&/^https?:/.test(location.protocol)?new Error(0):null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.URLUtils.isCrossDomain(t),r={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,e&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var i=0,o=s.ACTIVEX_VERSIONS.length;i<o;i++){var a=s.ACTIVEX_VERSIONS[i];try{n=new ActiveXObject(a);break}catch(t){}}if(null==n)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&n.overrideMimeType&&n.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var u=null;if(u=t.method==createjs.Methods.GET?createjs.URLUtils.buildURI(t.src,t.values):t.src,n.open(t.method||createjs.Methods.GET,u,!0),e&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(r.Origin=location.origin),t.values&&t.method==createjs.Methods.POST&&(r["Content-Type"]="application/x-www-form-urlencoded"),e||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var l in t.headers)r[l]=t.headers[l];for(l in r)n.setRequestHeader(l,r[l]);return n instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(n.withCredentials=t.withCredentials),this._request=n,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.Types.SOUND),createjs.DomUtils.isAudioTag(t)?this._tag=t:createjs.DomUtils.isAudioTag(t.src)?this._tag=t:createjs.DomUtils.isAudioTag(t.tag)&&(this._tag=createjs.DomUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader);t.canLoadItem=function(t){return t.type==createjs.Types.SOUND},e._createTag=function(t){var e=createjs.Elements.audio();return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null}var e=t.prototype={},r=t;r.create=function(t){if("string"==typeof t)return console&&(console.warn||console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."),(new createjs.PlayPropsConfig).set({interrupt:t});if(null==t||t instanceof r||t instanceof Object)return(new createjs.PlayPropsConfig).set(t);if(null==t)throw new Error("PlayProps configuration not recognized.")},e.set=function(t){if(null!=t)for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=r}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"Sound cannot be instantiated"}var s=a;function u(t,e){this.init(t,e)}s.INTERRUPT_ANY="any",s.INTERRUPT_EARLY="early",s.INTERRUPT_LATE="late",s.INTERRUPT_NONE="none",s.PLAY_INITED="playInited",s.PLAY_SUCCEEDED="playSucceeded",s.PLAY_INTERRUPTED="playInterrupted",s.PLAY_FINISHED="playFinished",s.PLAY_FAILED="playFailed",s.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],s.EXTENSION_MAP={m4a:"mp4"},s.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,s.defaultInterruptBehavior=s.INTERRUPT_NONE,s.alternateExtensions=[],s.activePlugin=null,s._masterVolume=1,s._getMasterVolume=function(){return this._masterVolume},s.getVolume=createjs.deprecate(s._getMasterVolume,"Sound.getVolume"),s._setMasterVolume=function(t){if(null!=Number(t)&&(t=Math.max(0,Math.min(1,t)),s._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t)))for(var e=this._instances,r=0,n=e.length;r<n;r++)e[r].setMasterVolume(t)},s.setVolume=createjs.deprecate(s._setMasterVolume,"Sound.setVolume"),s._masterMute=!1,s._getMute=function(){return this._masterMute},s.getMute=createjs.deprecate(s._getMute,"Sound.getMute"),s._setMute=function(t){if(null!=t&&(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t)))for(var e=this._instances,r=0,n=e.length;r<n;r++)e[r].setMasterMute(t)},s.setMute=createjs.deprecate(s._setMute,"Sound.setMute"),s._getCapabilities=function(){return null==s.activePlugin?null:s.activePlugin._capabilities},s.getCapabilities=createjs.deprecate(s._getCapabilities,"Sound.getCapabilities"),Object.defineProperties(s,{volume:{get:s._getMasterVolume,set:s._setMasterVolume},muted:{get:s._getMute,set:s._setMute},capabilities:{get:s._getCapabilities}}),s._pluginsRegistered=!1,s._lastID=0,s._instances=[],s._idHash={},s._preloadHash={},s._defaultPlayPropsHash={},s.addEventListener=null,s.removeEventListener=null,s.removeAllEventListeners=null,s.dispatchEvent=null,s.hasEventListener=null,s._listeners=null,createjs.EventDispatcher.initialize(s),s.getPreloadHandlers=function(){return{callback:createjs.proxy(s.initLoad,s),types:["sound"],extensions:s.SUPPORTED_EXTENSIONS}},s._handleLoadComplete=function(t){var e=t.target.getItem().src;if(s._preloadHash[e])for(var r=0,n=s._preloadHash[e].length;r<n;r++){var i=s._preloadHash[e][r];if(s._preloadHash[e][r]=!0,s.hasEventListener("fileload"))(t=new createjs.Event("fileload")).src=i.src,t.id=i.id,t.data=i.data,t.sprite=i.sprite,s.dispatchEvent(t)}},s._handleLoadError=function(t){var e=t.target.getItem().src;if(s._preloadHash[e])for(var r=0,n=s._preloadHash[e].length;r<n;r++){var i=s._preloadHash[e][r];if(s._preloadHash[e][r]=!1,s.hasEventListener("fileerror"))(t=new createjs.Event("fileerror")).src=i.src,t.id=i.id,t.data=i.data,t.sprite=i.sprite,s.dispatchEvent(t)}},s._registerPlugin=function(t){return!!t.isSupported()&&(s.activePlugin=new t,!0)},s.registerPlugins=function(t){s._pluginsRegistered=!0;for(var e=0,r=t.length;e<r;e++)if(s._registerPlugin(t[e]))return!0;return!1},s.initializeDefaultPlugins=function(){return null!=s.activePlugin||!s._pluginsRegistered&&!!s.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},s.isReady=function(){return null!=s.activePlugin},s.initLoad=function(t){return"video"==t.type||s._registerSound(t)},s._registerSound=function(t){if(!s.initializeDefaultPlugins())return!1;var e;if(t.src instanceof Object?(e=s._parseSrc(t.src)).src=t.path+e.src:e=s._parsePath(t.src),null==e)return!1;t.src=e.src,t.type="sound";var r=t.data,n=null;if(null!=r&&(isNaN(r.channels)?isNaN(r)||(n=parseInt(r)):n=parseInt(r.channels),r.audioSprite))for(var i,o=r.audioSprite.length;o--;)i=r.audioSprite[o],s._idHash[i.id]={src:t.src,startTime:parseInt(i.startTime),duration:parseInt(i.duration)},i.defaultPlayProps&&(s._defaultPlayPropsHash[i.id]=createjs.PlayPropsConfig.create(i.defaultPlayProps));null!=t.id&&(s._idHash[t.id]={src:t.src});var a=s.activePlugin.register(t);return u.create(t.src,n),null!=r&&isNaN(r)?t.data.channels=n||u.maxPerChannel():t.data=n||u.maxPerChannel(),a.type&&(t.type=a.type),t.defaultPlayProps&&(s._defaultPlayPropsHash[t.src]=createjs.PlayPropsConfig.create(t.defaultPlayProps)),a},s.registerSound=function(t,e,r,n,i){var o={src:t,id:e,data:r,defaultPlayProps:i};t instanceof Object&&t.src&&(n=e,o=t),null==((o=createjs.LoadItem.create(o)).path=n)||o.src instanceof Object||(o.src=n+o.src);var a=s._registerSound(o);if(!a)return!1;if(s._preloadHash[o.src]||(s._preloadHash[o.src]=[]),s._preloadHash[o.src].push(o),1==s._preloadHash[o.src].length)a.on("complete",this._handleLoadComplete,this),a.on("error",this._handleLoadError,this),s.activePlugin.preload(a);else if(1==s._preloadHash[o.src][0])return!0;return o},s.registerSounds=function(t,e){var r=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var n=0,i=t.length;n<i;n++)r[n]=createjs.Sound.registerSound(t[n].src,t[n].id,t[n].data,e,t[n].defaultPlayProps);return r},s.removeSound=function(t,e){if(null==s.activePlugin)return!1;var r;if(t instanceof Object&&t.src&&(t=t.src),null==(r=t instanceof Object?s._parseSrc(t):(t=s._getSrcById(t).src,s._parsePath(t))))return!1;for(var n in t=r.src,null!=e&&(t=e+t),s._idHash)s._idHash[n].src==t&&delete s._idHash[n];return u.removeSrc(t),delete s._preloadHash[t],s.activePlugin.removeSound(t),!0},s.removeSounds=function(t,e){var r=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var n=0,i=t.length;n<i;n++)r[n]=createjs.Sound.removeSound(t[n].src,e);return r},s.removeAllSounds=function(){s._idHash={},s._preloadHash={},u.removeAll(),s.activePlugin&&s.activePlugin.removeAllSounds()},s.loadComplete=function(t){if(!s.isReady())return!1;var e=s._parsePath(t);return t=e?s._getSrcById(e.src).src:s._getSrcById(t).src,null!=s._preloadHash[t]&&1==s._preloadHash[t][0]},s._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var e=t.match(s.FILE_PATTERN);if(null==e)return!1;for(var r=e[4],n=e[5],i=s.capabilities,o=0;!i[n];)if(n=s.alternateExtensions[o++],o>s.alternateExtensions.length)return null;return{name:r,src:t=t.replace("."+e[5],"."+n),extension:n}},s._parseSrc=function(t){var e={name:void 0,src:void 0,extension:void 0},r=s.capabilities;for(var n in t)if(t.hasOwnProperty(n)&&r[n]){e.src=t[n],e.extension=n;break}if(!e.src)return!1;var i=e.src.lastIndexOf("/");return e.name=-1!=i?e.src.slice(i+1):e.src,e},s.play=function(t,e){var r=createjs.PlayPropsConfig.create(e),n=s.createInstance(t,r.startTime,r.duration);return s._playInstance(n,r)||n._playFailed(),n},s.createInstance=function(t,e,r){if(!s.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(t,e,r);var n=s._defaultPlayPropsHash[t];t=s._getSrcById(t);var i=s._parsePath(t.src),o=null;return null!=i&&null!=i.src?(u.create(i.src),null==e&&(e=t.startTime),o=s.activePlugin.create(i.src,e,r||t.duration),(n=n||s._defaultPlayPropsHash[i.src])&&o.applyPlayProps(n)):o=new createjs.DefaultSoundInstance(t,e,r),o.uniqueId=s._lastID++,o},s.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},s.setDefaultPlayProps=function(t,e){t=s._getSrcById(t),s._defaultPlayPropsHash[s._parsePath(t.src).src]=createjs.PlayPropsConfig.create(e)},s.getDefaultPlayProps=function(t){return t=s._getSrcById(t),s._defaultPlayPropsHash[s._parsePath(t.src).src]},s._playInstance=function(t,e){var r=s._defaultPlayPropsHash[t.src]||{};if(null==e.interrupt&&(e.interrupt=r.interrupt||s.defaultInterruptBehavior),null==e.delay&&(e.delay=r.delay||0),null==e.offset&&(e.offset=t.position),null==e.loop&&(e.loop=t.loop),null==e.volume&&(e.volume=t.volume),null==e.pan&&(e.pan=t.pan),0==e.delay){if(!s._beginPlaying(t,e))return!1}else{var n=setTimeout(function(){s._beginPlaying(t,e)},e.delay);t.delayTimeoutId=n}return this._instances.push(t),!0},s._beginPlaying=function(t,e){if(!u.add(t,e.interrupt))return!1;if(t._beginPlaying(e))return!0;var r=createjs.indexOf(this._instances,t);return-1<r&&this._instances.splice(r,1),!1},s._getSrcById=function(t){return s._idHash[t]||{src:t}},s._playFinished=function(t){u.remove(t);var e=createjs.indexOf(this._instances,t);-1<e&&this._instances.splice(e,1)},createjs.Sound=a,u.channels={},u.create=function(t,e){return null==u.get(t)&&(u.channels[t]=new u(t,e),!0)},u.removeSrc=function(t){var e=u.get(t);return null!=e&&(e._removeAll(),delete u.channels[t],!0)},u.removeAll=function(){for(var t in u.channels)u.channels[t]._removeAll();u.channels={}},u.add=function(t,e){var r=u.get(t.src);return null!=r&&r._add(t,e)},u.remove=function(t){var e=u.get(t.src);return null!=e&&(e._remove(t),!0)},u.maxPerChannel=function(){return t.maxDefault},u.get=function(t){return u.channels[t]};var t=u.prototype;t.constructor=u,t.src=null,t.max=null,t.maxDefault=100,t.length=0,t.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},t._get=function(t){return this._instances[t]},t._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},t._remove=function(t){var e=createjs.indexOf(this._instances,t);return-1!=e&&(this._instances.splice(e,1),this.length--,!0)},t._removeAll=function(){for(var t=this.length-1;0<=t;t--)this._instances[t].stop()},t._getSlot=function(t,e){var r,n;if(t!=a.INTERRUPT_NONE&&null==(n=this._get(0)))return!0;for(var i=0,o=this.max;i<o;i++){if(null==(r=this._get(i)))return!0;if(r.playState==a.PLAY_FINISHED||r.playState==a.PLAY_INTERRUPTED||r.playState==a.PLAY_FAILED){n=r;break}t!=a.INTERRUPT_NONE&&(t==a.INTERRUPT_EARLY&&r.position<n.position||t==a.INTERRUPT_LATE&&r.position>n.position)&&(n=r)}return null!=n&&(n._interrupt(),this._remove(n),!0)},t.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r,n){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this._getVolume,set:this._setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this._getPan,set:this._setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this._getStartTime,set:this._setStartTime}),this._duration=Math.max(0,r||0),Object.defineProperty(this,"duration",{get:this._getDuration,set:this._setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this._getPlaybackResource,set:this._setPlaybackResource}),!1!==n&&!0!==n&&this._setPlaybackResource(n),this._position=0,Object.defineProperty(this,"position",{get:this._getPosition,set:this._setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this._getLoop,set:this._setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this._getMuted,set:this._setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this._getPaused,set:this._setPaused})}var e=createjs.extend(t,createjs.EventDispatcher);e.play=function(t){var e=createjs.PlayPropsConfig.create(t);return this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(e),void(this._paused&&this._setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,e),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this._setPosition(t.offset),null!=t.loop&&this._setLoop(t.loop),null!=t.volume&&this._setVolume(t.volume),null!=t.pan&&this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e._getPaused=function(){return this._paused},e._setPaused=function(t){if(!(!0!==t&&!1!==t||this._paused==t||1==t&&this.playState!=createjs.Sound.PLAY_SUCCEEDED))return(this._paused=t)?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},e._setVolume=function(t){return t==this._volume||(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume()),this},e._getVolume=function(){return this._volume},e._setMuted=function(t){if(!0===t||!1===t)return this._muted=t,this._updateVolume(),this},e._getMuted=function(){return this._muted},e._setPan=function(t){return t==this._pan||(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan()),this},e._getPan=function(){return this._pan},e._getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e._setPosition=function(t){return this._position=Math.max(0,t),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e._getStartTime=function(){return this._startTime},e._setStartTime=function(t){return t==this._startTime||(this._startTime=Math.max(0,t||0),this._updateStartTime()),this},e._getDuration=function(){return this._duration},e._setDuration=function(t){return t==this._duration||(this._duration=Math.max(0,t||0),this._updateDuration()),this},e._setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._playbackResource&&this._setDurationFromSource(),this},e._getPlaybackResource=function(){return this._playbackResource},e._getLoop=function(){return this._loop},e._setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new createjs.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this._setPosition(t.offset),this._setLoop(t.loop),this._setVolume(t.volume),this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(t){if((this._position=0)!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete")},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(t){},e._addLooping=function(t){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(t,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass}var e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],(e=new this._loaderClass(t)).on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;){this._soundInstances[t][e].destroy()}delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,r){this.isPreloadStarted(t)||this.preload(this.register(t));var n=new this._soundInstanceClass(t,e,r,this._audioSources[t]);return this._soundInstances[t]&&this._soundInstances[t].push(n),n.setMasterVolume&&n.setMasterVolume(createjs.Sound.volume),n.setMasterMute&&n.setMasterMute(createjs.Sound.muted),n},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(t){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var r=0,n=this._soundInstances[e].length;r<n;r++){this._soundInstances[e][r].setPlaybackResource(this._audioSources[e]),this._soundInstances[e]=null}},e._handlePreloadError=function(t){},e._updateVolume=function(){},createjs.AbstractPlugin=t}(),this.createjs=this.createjs||{},function(){"use strict";function e(t){this.AbstractLoader_constructor(t,!0,createjs.Types.SOUND)}var t=createjs.extend(e,createjs.AbstractLoader);e.context=null,t.toString=function(){return"[WebAudioLoader]"},t._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},t._sendComplete=function(t){e.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},t._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r,n){this.AbstractSoundInstance_constructor(t,e,r,n),this.gainNode=i.context.createGain(),this.panNode=i.context.createPanner(),this.panNode.panningModel=i._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var e=createjs.extend(t,createjs.AbstractSoundInstance),i=t;i.context=null,i._scratchBuffer=null,i.destinationNode=null,i._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(t){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){if(t.stop(0),t.disconnect(0),createjs.BrowserDetect.isIOS)try{t.buffer=i._scratchBuffer}catch(t){}t=null}return t},e._handleSoundReady=function(t){this.gainNode.connect(i.destinationNode);var e=.001*this._duration,r=Math.min(.001*Math.max(0,this._position),e);this.sourceNode=this._createAndPlayAudioNode(i.context.currentTime-e,r),this._playbackStartTime=this.sourceNode.startTime-r,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-r)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var r=i.context.createBufferSource();r.buffer=this.playbackResource,r.connect(this.panNode);var n=.001*this._duration;return r.startTime=t+n,r.start(r.startTime,e+.001*this._startTime,n-e),r},e._pause=function(){this._position=1e3*(i.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(i.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._panningModel=s._panningModel,this.context=s.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=s._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var e=createjs.extend(t,createjs.AbstractPlugin),s=t;s._capabilities=null,s._panningModel="equalpower",s.context=null,s._scratchBuffer=null,s._unlocked=!1,s.DEFAULT_SAMPLE_RATE=44100,s.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!t&&!this._isFileXHRSupported())&&(s._generateCapabilities(),null!=s.context)},s.playEmptySound=function(){if(null!=s.context){var t=s.context.createBufferSource();t.buffer=s._scratchBuffer,t.connect(s.context.destination),t.start(0,0,0)}},s._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(t){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(t){e=!1}return e},s._generateCapabilities=function(){if(null==s._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==s.context&&(s.context=s._createAudioContext(),null==s.context))return null;null==s._scratchBuffer&&(s._scratchBuffer=s.context.createBuffer(1,1,22050)),s._compatibilitySetUp(),"ontouchstart"in window&&"running"!=s.context.state&&(s._unlock(),document.addEventListener("mousedown",s._unlock,!0),document.addEventListener("touchstart",s._unlock,!0),document.addEventListener("touchend",s._unlock,!0)),s._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,n=0,i=e.length;n<i;n++){var o=e[n],a=r[o]||o;s._capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)}s.context.destination.numberOfChannels<2&&(s._capabilities.panning=!1)}},s._createAudioContext=function(){var t=window.AudioContext||window.webkitAudioContext;if(null==t)return null;var e=new t;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&e.sampleRate!==s.DEFAULT_SAMPLE_RATE){var r=e.createBuffer(1,1,s.DEFAULT_SAMPLE_RATE),n=e.createBufferSource();n.buffer=r,n.connect(e.destination),n.start(0),n.disconnect(),e.close(),e=new t}return e},s._compatibilitySetUp=function(){if(s._panningModel="equalpower",!s.context.createGain){s.context.createGain=s.context.createGainNode;var t=s.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,s._panningModel=0}},s._unlock=function(){s._unlocked||(s.playEmptySound(),"running"==s.context.state&&(document.removeEventListener("mousedown",s._unlock,!0),document.removeEventListener("touchend",s._unlock,!0),document.removeEventListener("touchstart",s._unlock,!0),s._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=s._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},createjs.WebAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"HTMLAudioTagPool cannot be instantiated"}var r=t;function e(t){this._tags=[]}r._tags={},r._tagPool=new e,r._tagUsed={},r.get=function(t){var e=r._tags[t];return null==e?(e=r._tags[t]=r._tagPool.get()).src=t:r._tagUsed[t]?(e=r._tagPool.get()).src=t:r._tagUsed[t]=!0,e},r.set=function(t,e){e==r._tags[t]?r._tagUsed[t]=!1:r._tagPool.set(e)},r.remove=function(t){var e=r._tags[t];return null!=e&&(r._tagPool.set(e),delete r._tags[t],delete r._tagUsed[t],!0)},r.getDuration=function(t){var e=r._tags[t];return null!=e&&e.duration?1e3*e.duration:0},createjs.HTMLAudioTagPool=t;var n=e.prototype;n.constructor=e,n.get=function(){var t;return null==(t=0==this._tags.length?this._createTag():this._tags.pop()).parentNode&&document.body.appendChild(t),t},n.set=function(t){-1==createjs.indexOf(this._tags,t)&&(this._tags.src=null,this._tags.push(t))},n.toString=function(){return"[TagPool]"},n._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r,n){this.AbstractSoundInstance_constructor(t,e,r,n),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),r?this._audioSpriteStopTime=.001*(e+r):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var e=createjs.extend(t,createjs.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(t){}createjs.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(t){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(t){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(t){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(t){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(t){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._capabilities=s._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var e=createjs.extend(t,createjs.AbstractPlugin),s=t;s.MAX_INSTANCES=30,s._AUDIO_READY="canplaythrough",s._AUDIO_ENDED="ended",s._AUDIO_SEEKED="seeked",s._AUDIO_STALLED="stalled",s._TIME_UPDATE="timeupdate",s._capabilities=null,s.isSupported=function(){return s._generateCapabilities(),null!=s._capabilities},s._generateCapabilities=function(){if(null==s._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;s._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,n=0,i=e.length;n<i;n++){var o=e[n],a=r[o]||o;s._capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)}}},e.register=function(t){var e=createjs.HTMLAudioTagPool.get(t.src),r=this.AbstractPlugin_register(t);return r.setTag(e),r},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),createjs.HTMLAudioTagPool.remove(t)},e.create=function(t,e,r){var n=this.AbstractPlugin_create(t,e,r);return n.playbackResource=null,n},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.Types.SOUND),this._media=null,this._loadTime=0,this._TIMER_FREQUENCY=100}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._media=new Media(this._item.src,null,createjs.proxy(this._mediaErrorHandler,this)),this._media.seekTo(0),this._getMediaDuration()},e.toString=function(){return"[CordovaAudioLoader]"},e._mediaErrorHandler=function(t){this._media.release(),this._sendError()},e._getMediaDuration=function(){this._result=1e3*this._media.getDuration(),this._result<0?(this._loadTime+=this._TIMER_FREQUENCY,this._loadTime>this._item.loadTimeout?this.handleEvent({type:"timeout"}):setTimeout(createjs.proxy(this._getMediaDuration,this),this._TIMER_FREQUENCY)):(this._media.release(),this._sendComplete())},createjs.CordovaAudioLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r,n){this.AbstractSoundInstance_constructor(t,e,r,n),this.playWhenScreenLocked=null,this._playStartTime=null,this._audioSpriteTimeout=null,this._audioSprite=!1,this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteComplete,this),this._mediaPlayFinishedHandler=createjs.proxy(this._handleSoundComplete,this),this._mediaErrorHandler=createjs.proxy(this._handleMediaError,this),this._mediaProgressHandler=createjs.proxy(this._handleMediaProgress,this),this._playbackResource=new Media(t,this._mediaPlayFinishedHandler,this._mediaErrorHandler,this._mediaProgressHandler),r?this._audioSprite=!0:this._setDurationFromSource()}var e=createjs.extend(t,createjs.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.destroy=function(){this._playbackResource.pause(),this._playbackResource.release(),this.AbstractSoundInstance_destroy()},e.getCurrentPosition=function(t,e){this._playbackResource.getCurrentPosition(t,e)},e.toString=function(){return"[CordovaAudioSoundInstance]"},e._handleMediaError=function(t){clearTimeout(this.delayTimeoutId),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleMediaProgress=function(t){},e._handleAudioSpriteComplete=function(){this._playbackResource.pause(),this._handleSoundComplete()},e._handleCleanUp=function(){clearTimeout(this._audioSpriteTimeout)},e._handleSoundReady=function(t){this._playbackResource.seekTo(this._startTime+this._position),this._audioSprite&&(this._audioSpriteTimeout=setTimeout(this._audioSpriteEndHandler,this._duration-this._position)),this._playbackResource.play({playAudioWhenScreenIsLocked:this.playWhenScreenLocked}),this._playStartTime=Date.now()},e._pause=function(){clearTimeout(this._audioSpriteTimeout),this._playbackResource.pause(),this._playStartTime&&(this._position=Date.now()-this._playStartTime,this._playStartTime=null),this._playbackResource.getCurrentPosition(createjs.proxy(this._updatePausePos,this))},e._updatePausePos=function(t){this._position=1e3*t-this._startTime,this._playStartTime&&(this._playStartTime=Date.now())},e._resume=function(){this._audioSprite&&(this._audioSpriteTimeout=setTimeout(this._audioSpriteEndHandler,this._duration-this._position)),this._playbackResource.play({playAudioWhenScreenIsLocked:this.playWhenScreenLocked}),this._playStartTime=Date.now()},e._handleStop=function(){clearTimeout(this._audioSpriteTimeout),this._playbackResource.pause(),this._playbackResource.seekTo(this._startTime),this._playStartTime&&(this._position=0,this._playStartTime=null)},e._updateVolume=function(){var t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;this._playbackResource.setVolume(t)},e._calculateCurrentPosition=function(){return this._playStartTime&&(this._position=Date.now()-this._playStartTime+this._position,this._playStartTime=Date.now()),this._position},e._updatePosition=function(){this._playbackResource.seekTo(this._startTime+this._position),this._playStartTime=Date.now(),this._audioSprite&&(clearTimeout(this._audioSpriteTimeout),this._audioSpriteTimeout=setTimeout(this._audioSpriteEndHandler,this._duration-this._position))},e._handleLoop=function(t){this._handleSoundReady()},e._updateStartTime=function(){this._audioSprite=!0,this.playState,createjs.Sound.PLAY_SUCCEEDED},e._updateDuration=function(){this._audioSprite,this.playState==createjs.Sound.PLAY_SUCCEEDED&&(clearTimeout(this._audioSpriteTimeout),this._audioSpriteTimeout=setTimeout(this._audioSpriteEndHandler,this._duration-this.position))},e._setDurationFromSource=function(){this._duration=createjs.Sound.activePlugin.getSrcDuration(this.src)},createjs.CordovaAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._capabilities=s._capabilities,this._loaderClass=createjs.CordovaAudioLoader,this._soundInstanceClass=createjs.CordovaAudioSoundInstance,this._srcDurationHash={}}var e=createjs.extend(t,createjs.AbstractPlugin),s=t;s.playWhenScreenLocked=!1,s._capabilities=null,s.isSupported=function(){return s._generateCapabilities(),null!=s._capabilities},s._generateCapabilities=function(){if(null==s._capabilities&&(window.cordova||window.PhoneGap||window.phonegap)&&window.Media){var t=document.createElement("audio");if(null==t.canPlayType)return null;s._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,n=0,i=e.length;n<i;n++){var o=e[n],a=r[o]||o;s._capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)}}},e.create=function(t,e,r){var n=this.AbstractPlugin_create(t,e,r);return n.playWhenScreenLocked=this.playWhenScreenLocked,n},e.toString=function(){return"[CordovaAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,e.getSrcDuration=function(t){return this._srcDurationHash[t]},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._srcDurationHash[e]=t.result,this._audioSources[e]=t.result},e.removeSound=function(t){delete this._srcDurationHash[t],this.AbstractPlugin_removeSound(t)},createjs.CordovaAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){var t=createjs.CordovaAudioPlugin=createjs.CordovaAudioPlugin||{};t.version="1.0.0",t.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"}(),function(){function zo(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Ko(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(n,a,r(a),t)}return n}function Zo(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Qo(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function $o(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function Jo(t,e){return!(null==t||!t.length)&&-1<ua(t,e,0)}function ta(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function ea(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function ra(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function na(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function ia(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function oa(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function aa(t,n,e){var i;return e(t,function(t,e,r){if(n(t,e,r))return i=e,!1}),i}function sa(t,e,r,n){var i=t.length;for(r+=n?1:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function ua(t,e,r){if(e==e)t:{--r;for(var n=t.length;++r<n;)if(t[r]===e){t=r;break t}t=-1}else t=sa(t,ha,r);return t}function la(t,e,r,n){--r;for(var i=t.length;++r<i;)if(n(t[r],e))return r;return-1}function ha(t){return t!=t}function ca(t,e){var r=null==t?0:t.length;return r?pa(t,e)/r:Ca}function fa(e){return function(t){return null==t?Aa:t[e]}}function t(e){return function(t){return null==e?Aa:e[t]}}function da(t,n,i,o,e){return e(t,function(t,e,r){i=o?(o=!1,t):n(i,t,e,r)}),i}function pa(t,e){for(var r,n=-1,i=t.length;++n<i;){var o=e(t[n]);o!==Aa&&(r=r===Aa?o:r+o)}return r}function _a(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function va(e){return function(t){return e(t)}}function ga(e,t){return ea(t,function(t){return e[t]})}function ma(t,e){return t.has(e)}function ya(t,e){for(var r=-1,n=t.length;++r<n&&-1<ua(e,t[r],0););return r}function ba(t,e){for(var r=t.length;r--&&-1<ua(e,t[r],0););return r}function xa(t){return"\\"+o[t]}function Ta(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}function wa(e,r){return function(t){return e(r(t))}}function Ea(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r];a!==e&&"__lodash_placeholder__"!==a||(t[r]="__lodash_placeholder__",o[i++]=r)}return o}function Sa(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function Pa(t){if(ds.test(t)){for(var e=n.lastIndex=0;n.test(t);)++e;t=e}else t=c(t);return t}function Ma(t){return ds.test(t)?t.match(n)||[]:t.split("")}var Aa,Ca=NaN,Ra=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Oa=/\b__p\+='';/g,Ia=/\b(__p\+=)''\+/g,Da=/(__e\(.*?\)|\b__t\))\+'';/g,ja=/&(?:amp|lt|gt|quot|#39);/g,ka=/[&<>"']/g,La=RegExp(ja.source),Na=RegExp(ka.source),Fa=/<%-([\s\S]+?)%>/g,Ua=/<%([\s\S]+?)%>/g,Ba=/<%=([\s\S]+?)%>/g,Va=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xa=/^\w*$/,Wa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ha=/[\\^$.*+?()[\]{}|]/g,Ya=RegExp(Ha.source),Ga=/^\s+|\s+$/g,qa=/^\s+/,za=/\s+$/,Ka=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Za=/\{\n\/\* \[wrapped with (.+)\] \*/,Qa=/,? & /,$a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ja=/\\(\\)?/g,ts=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,es=/\w*$/,rs=/^[-+]0x[0-9a-f]+$/i,ns=/^0b[01]+$/i,is=/^\[object .+?Constructor\]$/,os=/^0o[0-7]+$/i,as=/^(?:0|[1-9]\d*)$/,ss=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,us=/($^)/,ls=/['\n\r\u2028\u2029\\]/g,e="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",r="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+e,hs=RegExp("['’]","g"),cs=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),n=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])"+e,"g"),fs=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+",r].join("|"),"g"),ds=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),ps=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_s="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),vs={};vs["[object Float32Array]"]=vs["[object Float64Array]"]=vs["[object Int8Array]"]=vs["[object Int16Array]"]=vs["[object Int32Array]"]=vs["[object Uint8Array]"]=vs["[object Uint8ClampedArray]"]=vs["[object Uint16Array]"]=vs["[object Uint32Array]"]=!0,vs["[object Arguments]"]=vs["[object Array]"]=vs["[object ArrayBuffer]"]=vs["[object Boolean]"]=vs["[object DataView]"]=vs["[object Date]"]=vs["[object Error]"]=vs["[object Function]"]=vs["[object Map]"]=vs["[object Number]"]=vs["[object Object]"]=vs["[object RegExp]"]=vs["[object Set]"]=vs["[object String]"]=vs["[object WeakMap]"]=!1;var gs={};gs["[object Arguments]"]=gs["[object Array]"]=gs["[object ArrayBuffer]"]=gs["[object DataView]"]=gs["[object Boolean]"]=gs["[object Date]"]=gs["[object Float32Array]"]=gs["[object Float64Array]"]=gs["[object Int8Array]"]=gs["[object Int16Array]"]=gs["[object Int32Array]"]=gs["[object Map]"]=gs["[object Number]"]=gs["[object Object]"]=gs["[object RegExp]"]=gs["[object Set]"]=gs["[object String]"]=gs["[object Symbol]"]=gs["[object Uint8Array]"]=gs["[object Uint8ClampedArray]"]=gs["[object Uint16Array]"]=gs["[object Uint32Array]"]=!0,gs["[object Error]"]=gs["[object Function]"]=gs["[object WeakMap]"]=!1;var i,o={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ms=parseFloat,ys=parseInt,a="object"==typeof global&&global&&global.Object===Object&&global,s="object"==typeof self&&self&&self.Object===Object&&self,bs=a||s||Function("return this")(),u="object"==typeof exports&&exports&&!exports.nodeType&&exports,l=u&&"object"==typeof module&&module&&!module.nodeType&&module,xs=l&&l.exports===u,h=xs&&a.process;t:{try{i=h&&h.binding&&h.binding("util");break t}catch(zo){}i=void 0}var Ts=i&&i.isArrayBuffer,ws=i&&i.isDate,Es=i&&i.isMap,Ss=i&&i.isRegExp,Ps=i&&i.isSet,Ms=i&&i.isTypedArray,c=fa("length"),As=t({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Cs=t({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Rs=t({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Os=function t(e){function d(t){if(rr(t)&&!Ki(t)&&!(t instanceof _)){if(t instanceof p)return t;if(Yr.call(t,"__wrapped__"))return Ae(t)}return new p(t)}function o(){}function p(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Aa}function _(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function r(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function i(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function v(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new a;++e<r;)this.add(t[e])}function T(t){this.size=(this.__data__=new i(t)).size}function s(t,e){var r,n=Ki(t),i=!n&&zi(t),o=!n&&!i&&Qi(t),a=!n&&!i&&!o&&ro(t),s=(i=(n=n||i||o||a)?_a(t.length,Ur):[]).length;for(r in t)!e&&!Yr.call(t,r)||n&&("length"==r||o&&("offset"==r||"parent"==r)||a&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||_e(r,s))||i.push(r);return i}function n(t){var e=t.length;return e?t[rt(0,e-1)]:Aa}function g(t,e,r){(r===Aa||ze(t[e],r))&&(r!==Aa||e in t)||h(t,e,r)}function w(t,e,r){var n=t[e];Yr.call(t,e)&&ze(n,r)&&(r!==Aa||e in t)||h(t,e,r)}function u(t,e){for(var r=t.length;r--;)if(ze(t[r][0],e))return r;return-1}function l(t,n,i,o){return Yn(t,function(t,e,r){n(o,t,i(t),r)}),o}function E(t,e){return t&&Rt(e,vr(e),t)}function h(t,e,r){"__proto__"==e&&hn?hn(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function c(t,e){for(var r=-1,n=e.length,i=Ir(n),o=null==t;++r<n;)i[r]=o?Aa:pr(t,e[r]);return i}function f(t,e,r){return t==t&&(r!==Aa&&(t=t<=r?t:r),e!==Aa&&(t=e<=t?t:e)),t}function S(r,n,i,t,e,o){var a,s,u,l,h,c,f,d,p,_,v=1&n,g=2&n,m=4&n;if(i&&(a=e?i(r,t,e,o):i(r)),a!==Aa)return a;if(!er(r))return r;if(t=Ki(r)){if(p=(d=r).length,_=new d.constructor(p),p&&"string"==typeof d[0]&&Yr.call(d,"index")&&(_.index=d.index,_.input=d.input),a=_,!v)return Ct(r,a)}else{var y=ri(r),b="[object Function]"==y||"[object GeneratorFunction]"==y;if(Qi(r))return wt(r,v);if("[object Object]"==y||"[object Arguments]"==y||b&&!e){if(a=g||b?{}:de(r),!v)return g?(f=l=r,h=(c=a)&&Rt(f,gr(f),c),Rt(l,ei(l),h)):(u=E(a,s=r),Rt(s,ti(s),u))}else{if(!gs[y])return e?r:{};a=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Et(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return e=r?Et(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return St(t,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return(e=new t.constructor(t.source,es.exec(t))).lastIndex=t.lastIndex,e;case"[object Set]":return new n;case"[object Symbol]":return Vn?Nr(Vn.call(t)):{}}}(r,y,v)}}if(e=(o=o||new T).get(r))return e;if(o.set(r,a),eo(r))return r.forEach(function(t){a.add(S(t,n,i,t,r,o))}),a;if(Ji(r))return r.forEach(function(t,e){a.set(e,S(t,n,i,e,r,o))}),a;g=m?g?oe:ie:g?gr:vr;var x=t?Aa:g(r);return Zo(x||r,function(t,e){x&&(t=r[e=t]),w(a,e,S(t,n,i,e,r,o))}),a}function m(t,e,r){var n=r.length;if(null==t)return!n;for(t=Nr(t);n--;){var i=r[n],o=e[i],a=t[i];if(a===Aa&&!(i in t)||!o(a))return!1}return!0}function y(t,e,r){if("function"!=typeof t)throw new Br("Expected a function");return si(function(){t.apply(Aa,r)},e)}function b(t,e,r,n){var i=-1,o=Jo,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;r&&(e=ea(e,va(r))),n?(o=ta,a=!1):200<=e.length&&(o=ma,a=!1,e=new v(e));t:for(;++i<s;){var h=t[i],c=null==r?h:r(h);h=n||0!==h?h:0;if(a&&c==c){for(var f=l;f--;)if(e[f]===c)continue t;u.push(h)}else o(e,c,n)||u.push(h)}return u}function x(t,n){var i=!0;return Yn(t,function(t,e,r){return i=!!n(t,e,r)}),i}function P(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],a=e(o);if(null!=a&&(s===Aa?a==a&&!ar(a):r(a,s)))var s=a,u=o}return u}function M(t,n){var i=[];return Yn(t,function(t,e,r){n(t,e,r)&&i.push(t)}),i}function A(t,e,r,n,i){var o=-1,a=t.length;for(r=r||pe,i=i||[];++o<a;){var s=t[o];0<e&&r(s)?1<e?A(s,e-1,r,n,i):ra(i,s):n||(i[i.length]=s)}return i}function C(t,e){return t&&qn(t,e,vr)}function R(t,e){return t&&zn(t,e,vr)}function O(e,t){return $o(t,function(t){return $e(e[t])})}function I(t,e){for(var r=0,n=(e=xt(e,t)).length;null!=t&&r<n;)t=t[Se(e[r++])];return r&&r==n?t:Aa}function D(t,e,r){return e=e(t),Ki(t)?e:ra(e,r(t))}function j(t){if(null==t)t=t===Aa?"[object Undefined]":"[object Null]";else if(ln&&ln in Nr(t)){var e=Yr.call(t,ln),r=t[ln];try{t[ln]=Aa;var n=!0}catch(t){}var i=zr.call(t);n&&(e?t[ln]=r:delete t[ln]),t=i}else t=zr.call(t);return t}function k(t,e){return e<t}function L(t,e){return null!=t&&Yr.call(t,e)}function N(t,e){return null!=t&&e in Nr(t)}function F(t,e,r){for(var n=r?ta:Jo,i=t[0].length,o=t.length,a=o,s=Ir(o),u=1/0,l=[];a--;){var h=t[a];a&&e&&(h=ea(h,va(e))),u=Tn(h.length,u),s[a]=!r&&(e||120<=i&&120<=h.length)?new v(a&&h):Aa}h=t[0];var c=-1,f=s[0];t:for(;++c<i&&l.length<u;){var d=h[c],p=e?e(d):d;d=r||0!==d?d:0;if(f?!ma(f,p):!n(l,p,r)){for(a=o;--a;){var _=s[a];if(_?!ma(_,p):!n(t[a],p,r))continue t}f&&f.push(p),l.push(d)}}return l}function U(t,e,r){return null==(e=null==(t=(e=xt(e,t)).length<2?t:I(t,at(e,0,-1)))?t:t[Se(De(e))])?Aa:zo(e,t,r)}function B(t){return rr(t)&&"[object Arguments]"==j(t)}function V(t,e,r,n,i){if(t===e)e=!0;else if(null==t||null==e||!rr(t)&&!rr(e))e=t!=t&&e!=e;else t:{var o,a,s=Ki(t),u=Ki(e),l="[object Object]"==(o="[object Arguments]"==(o=s?"[object Array]":ri(t))?"[object Object]":o);u="[object Object]"==(a="[object Arguments]"==(a=u?"[object Array]":ri(e))?"[object Object]":a);if((a=o==a)&&Qi(t)){if(!Qi(e)){e=!1;break t}l=!(s=!0)}if(a&&!l)i=i||new T,e=s||ro(t)?re(t,e,r,n,V,i):function(t,e,r,n,i,o,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!o(new tn(t),new tn(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return ze(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Ta;case"[object Set]":if(s=s||Sa,t.size!=e.size&&!(1&n))break;return(r=a.get(t))?r==e:(n|=2,a.set(t,e),e=re(s(t),s(e),n,i,o,a),a.delete(t),e);case"[object Symbol]":if(Vn)return Vn.call(t)==Vn.call(e)}return!1}(t,e,o,r,n,V,i);else{if(!(1&r)&&(s=l&&Yr.call(t,"__wrapped__"),o=u&&Yr.call(e,"__wrapped__"),s||o)){e=V(t=s?t.value():t,e=o?e.value():e,r,n,i=i||new T);break t}if(a)e:if(i=i||new T,s=1&r,o=ie(t),u=o.length,a=ie(e).length,u==a||s){for(l=u;l--;){var h=o[l];if(!(s?h in e:Yr.call(e,h))){e=!1;break e}}if((a=i.get(t))&&i.get(e))e=a==e;else{a=!0,i.set(t,e),i.set(e,t);for(var c=s;++l<u;){var f=t[h=o[l]],d=e[h];if(n)var p=s?n(d,f,h,e,t,i):n(f,d,h,t,e,i);if(p===Aa?f!==d&&!V(f,d,r,n,i):!p){a=!1;break}c=c||"constructor"==h}a&&!c&&((r=t.constructor)!=(n=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof r&&r instanceof r&&"function"==typeof n&&n instanceof n)&&(a=!1)),i.delete(t),i.delete(e),e=a}}else e=!1;else e=!1}}return e}function X(t,e,r,n){var i=r.length,o=i,a=!n;if(null==t)return!o;for(t=Nr(t);i--;){var s=r[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=r[i])[0],l=t[u],h=s[1];if(a&&s[2]){if(l===Aa&&!(u in t))return!1}else{if(s=new T,n)var c=n(l,h,u,t,e,s);if(c===Aa?!V(h,l,3,n,s):!c)return!1}}return!0}function W(t){return!(!er(t)||qr&&qr in t)&&($e(t)?Qr:is).test(Pe(t))}function H(t){return"function"==typeof t?t:null==t?Er:"object"==typeof t?Ki(t)?K(t[0],t[1]):z(t):Ar(t)}function Y(t){if(!ye(t))return bn(t);var e,r=[];for(e in Nr(t))Yr.call(t,e)&&"constructor"!=e&&r.push(e);return r}function G(t,e){return t<e}function q(t,n){var i=-1,o=Ke(t)?Ir(t.length):[];return Yn(t,function(t,e,r){o[++i]=n(t,e,r)}),o}function z(e){var r=he(e);return 1==r.length&&r[0][2]?be(r[0][0],r[0][1]):function(t){return t===e||X(t,e,r)}}function K(r,n){return ge(r)&&n==n&&!er(n)?be(Se(r),n):function(t){var e=pr(t,r);return e===Aa&&e===n?_r(t,r):V(n,e,3)}}function Z(h,c,f,d,p){h!==c&&qn(c,function(t,e){if(er(t)){var r=p=p||new T,n="__proto__"==e?Aa:h[e],i="__proto__"==e?Aa:c[e];if(l=r.get(i))g(h,e,l);else{var o=(l=d?d(n,i,e+"",h,c,r):Aa)===Aa;if(o){var a=Ki(i),s=!a&&Qi(i),u=!a&&!s&&ro(i),l=i;a||s||u?l=Ki(n)?n:Ze(n)?Ct(n):s?wt(i,!(o=!1)):u?St(i,!(o=!1)):[]:ir(i)||zi(i)?zi(l=n)?l=fr(n):(!er(n)||f&&$e(n))&&(l=de(i)):o=!1}o&&(r.set(i,l),Z(l,i,f,d,r),r.delete(i)),g(h,e,l)}}else(r=d?d("__proto__"==e?Aa:h[e],t,e+"",h,c,p):Aa)===Aa&&(r=t),g(h,e,r)},gr)}function Q(t,e){var r=t.length;if(r)return _e(e+=e<0?r:0,r)?t[e]:Aa}function $(t,r,u){var n=-1;return r=ea(r.length?r:[Er],va(ue())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].c;return t}(t=q(t,function(e){return{a:ea(r,function(t){return t(e)}),b:++n,c:e}}),function(t,e){var r;t:{r=-1;for(var n=t.a,i=e.a,o=n.length,a=u.length;++r<o;){var s=Pt(n[r],i[r]);if(s){r=a<=r?s:s*("desc"==u[r]?-1:1);break t}}r=t.b-e.b}return r})}function J(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var a=e[n],s=I(t,a);r(s,a)&&ot(o,xt(a,t),s)}return o}function tt(t,e,r,n){var i=n?la:ua,o=-1,a=e.length,s=t;for(t===e&&(e=Ct(e)),r&&(s=ea(t,va(r)));++o<a;){var u=0,l=e[o];for(l=r?r(l):l;-1<(u=i(s,l,u,n));)s!==t&&an.call(s,u,1),an.call(t,u,1)}return t}function et(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;_e(i)?an.call(t,i,1):pt(t,i)}}}function rt(t,e){return t+_n(Sn()*(e-t+1))}function nt(t,e){var r="";if(!t||e<1||9007199254740991<e)return r;for(;e%2&&(r+=t),(e=_n(e/2))&&(t+=t),e;);return r}function it(t,e){return ui(xe(t,e,Er),t+"")}function ot(t,e,r,n){if(!er(t))return t;for(var i=-1,o=(e=xt(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=Se(e[i]),l=r;if(i!=a){var h=s[u];(l=n?n(h,u,s):Aa)===Aa&&(l=er(h)?h:_e(e[i+1])?[]:{})}w(s,u,l),s=s[u]}return t}function at(t,e,r){var n=-1,i=t.length;for(e<0&&(e=i<-e?0:i+e),(r=i<r?i:r)<0&&(r+=i),i=r<e?0:r-e>>>0,e>>>=0,r=Ir(i);++n<i;)r[n]=t[n+e];return r}function st(t,n){var i;return Yn(t,function(t,e,r){return!(i=n(t,e,r))}),!!i}function ut(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=t[o];null!==a&&!ar(a)&&(r?a<=e:a<e)?n=1+o:i=o}return i}return lt(t,e,Er,r)}function lt(t,e,r,n){e=r(e);for(var i=0,o=null==t?0:t.length,a=e!=e,s=null===e,u=ar(e),l=e===Aa;i<o;){var h=_n((i+o)/2),c=r(t[h]),f=c!==Aa,d=null===c,p=c==c,_=ar(c);(a?n||p:l?p&&(n||f):s?p&&f&&(n||!d):u?p&&f&&!d&&(n||!_):!d&&!_&&(n?c<=e:c<e))?i=h+1:o=h}return Tn(o,4294967294)}function ht(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r],s=e?e(a):a;if(!r||!ze(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ct(t){return"number"==typeof t?t:ar(t)?Ca:+t}function ft(t){if("string"==typeof t)return t;if(Ki(t))return ea(t,ft)+"";if(ar(t))return Xn?Xn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function dt(t,e,r){var n=-1,i=Jo,o=t.length,a=!0,s=[],u=s;if(r)a=!1,i=ta;else if(200<=o){if(i=e?null:$n(t))return Sa(i);a=!1,i=ma,u=new v}else u=e?[]:s;t:for(;++n<o;){var l=t[n],h=e?e(l):l;l=r||0!==l?l:0;if(a&&h==h){for(var c=u.length;c--;)if(u[c]===h)continue t;e&&u.push(h),s.push(l)}else i(u,h,r)||(u!==s&&u.push(h),s.push(l))}return s}function pt(t,e){return null==(t=(e=xt(e,t)).length<2?t:I(t,at(e,0,-1)))||delete t[Se(De(e))]}function _t(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?at(t,n?0:o,n?o+1:i):at(t,n?o+1:0,n?i:o)}function vt(t,e){var r=t;return r instanceof _&&(r=r.value()),na(e,function(t,e){return e.func.apply(e.thisArg,ra([t],e.args))},r)}function gt(t,e,r){var n=t.length;if(n<2)return n?dt(t[0]):[];for(var i=-1,o=Ir(n);++i<n;)for(var a=t[i],s=-1;++s<n;)s!=i&&(o[i]=b(o[i]||a,t[s],e,r));return dt(A(o,1),e,r)}function mt(t,e,r){for(var n=-1,i=t.length,o=e.length,a={};++n<i;)r(a,t[n],n<o?e[n]:Aa);return a}function yt(t){return Ze(t)?t:[]}function bt(t){return"function"==typeof t?t:Er}function xt(t,e){return Ki(t)?t:ge(t,e)?[t]:li(dr(t))}function Tt(t,e,r){var n=t.length;return r=r===Aa?n:r,!e&&n<=r?t:at(t,e,r)}function wt(t,e){if(e)return t.slice();var r=t.length;r=en?en(r):new t.constructor(r);return t.copy(r),r}function Et(t){var e=new t.constructor(t.byteLength);return new tn(e).set(new tn(t)),e}function St(t,e){return new t.constructor(e?Et(t.buffer):t.buffer,t.byteOffset,t.length)}function Pt(t,e){if(t!==e){var r=t!==Aa,n=null===t,i=t==t,o=ar(t),a=e!==Aa,s=null===e,u=e==e,l=ar(e);if(!s&&!l&&!o&&e<t||o&&a&&u&&!s&&!l||n&&a&&u||!r&&u||!i)return 1;if(!n&&!o&&!l&&t<e||l&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!u)return-1}return 0}function Mt(t,e,r,n){var i=-1,o=t.length,a=r.length,s=-1,u=e.length,l=xn(o-a,0),h=Ir(u+l);for(n=!n;++s<u;)h[s]=e[s];for(;++i<a;)(n||i<o)&&(h[r[i]]=t[i]);for(;l--;)h[s++]=t[i++];return h}function At(t,e,r,n){var i=-1,o=t.length,a=-1,s=r.length,u=-1,l=e.length,h=xn(o-s,0),c=Ir(h+l);for(n=!n;++i<h;)c[i]=t[i];for(h=i;++u<l;)c[h+u]=e[u];for(;++a<s;)(n||i<o)&&(c[h+r[a]]=t[i++]);return c}function Ct(t,e){var r=-1,n=t.length;for(e=e||Ir(n);++r<n;)e[r]=t[r];return e}function Rt(t,e,r,n){var i=!r;r=r||{};for(var o=-1,a=e.length;++o<a;){var s=e[o],u=n?n(r[s],t[s],s,r,t):Aa;u===Aa&&(u=t[s]),i?h(r,s,u):w(r,s,u)}return r}function Ot(i,o){return function(t,e){var r=Ki(t)?Ko:l,n=o?o():{};return r(t,i,ue(e,2),n)}}function It(a){return it(function(t,e){var r=-1,n=e.length,i=1<n?e[n-1]:Aa,o=2<n?e[2]:Aa;i=3<a.length&&"function"==typeof i?(n--,i):Aa;for(o&&ve(e[0],e[1],o)&&(i=n<3?Aa:i,n=1),t=Nr(t);++r<n;)(o=e[r])&&a(t,o,r,i);return t})}function Dt(o,a){return function(t,e){if(null==t)return t;if(!Ke(t))return o(t,e);for(var r=t.length,n=a?r:-1,i=Nr(t);(a?n--:++n<r)&&!1!==e(i[n],n,i););return t}}function jt(s){return function(t,e,r){for(var n=-1,i=Nr(t),o=(r=r(t)).length;o--;){var a=r[s?o:++n];if(!1===e(i[a],a,i))break}return t}}function kt(n){return function(t){t=dr(t);var e=ds.test(t)?Ma(t):Aa,r=e?e[0]:t.charAt(0);return t=e?Tt(e,1).join(""):t.slice(1),r[n]()+t}}function Lt(e){return function(t){return na(Tr(xr(t).replace(hs,"")),e,"")}}function Nt(r){return function(){switch((t=arguments).length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var t,e=Wn(r.prototype);return er(t=r.apply(e,t))?t:e}}function Ft(o,a,s){var u=Nt(o);return function t(){for(var e=arguments.length,r=Ir(e),n=e,i=se(t);n--;)r[n]=arguments[n];return(e-=(n=e<3&&r[0]!==i&&r[e-1]!==i?[]:Ea(r,i)).length)<s?Kt(o,a,Vt,t.placeholder,Aa,r,n,Aa,Aa,s-e):zo(this&&this!==bs&&this instanceof t?u:o,this,r)}}function Ut(o){return function(t,e,r){var n=Nr(t);if(!Ke(t)){var i=ue(e,3);t=vr(t),e=function(t){return i(n[t],t,n)}}return-1<(e=o(t,e,r))?n[i?t[e]:e]:Aa}}function Bt(s){return ne(function(n){var i=n.length,t=i,e=p.prototype.thru;for(s&&n.reverse();t--;){if("function"!=typeof(r=n[t]))throw new Br("Expected a function");if(e&&!o&&"wrapper"==ae(r))var o=new p([],!0)}for(t=o?t:i;++t<i;){var r,a="wrapper"==(e=ae(r=n[t]))?Jn(r):Aa;o=a&&me(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?o[ae(a[0])].apply(o,a[3]):1==r.length&&me(r)?o[e]():o.thru(r)}return function(){var t=(r=arguments)[0];if(o&&1==r.length&&Ki(t))return o.plant(t).value();for(var e=0,r=i?n[e].apply(this,r):t;++e<i;)r=n[e].call(this,r);return r}})}function Vt(l,h,c,f,d,p,_,v,g,m){var y=128&h,b=1&h,x=2&h,T=24&h,w=512&h,E=x?Aa:Nt(l);return function t(){for(var e=arguments.length,r=Ir(e),n=e;n--;)r[n]=arguments[n];if(T){var i,o=se(t);for(n=r.length,i=0;n--;)r[n]===o&&++i}if(f&&(r=Mt(r,f,d,T)),p&&(r=At(r,p,_,T)),e-=i,T&&e<m)return o=Ea(r,o),Kt(l,h,Vt,t.placeholder,c,r,o,v,g,m-e);if(o=b?c:this,n=x?o[l]:l,e=r.length,v){i=r.length;for(var a=Tn(v.length,i),s=Ct(r);a--;){var u=v[a];r[a]=_e(u,i)?s[u]:Aa}}else w&&1<e&&r.reverse();return y&&g<e&&(r.length=g),this&&this!==bs&&this instanceof t&&(n=E||Nt(n)),n.apply(o,r)}}function Xt(a,s){return function(t,e){return r=t,n=a,i=s(e),o={},C(r,function(t,e,r){n(o,i(t),e,r)}),o;var r,n,i,o}}function Wt(n,i){return function(t,e){var r;if(t===Aa&&e===Aa)return i;if(t!==Aa&&(r=t),e!==Aa){if(r===Aa)return e;e="string"==typeof t||"string"==typeof e?(t=ft(t),ft(e)):(t=ct(t),ct(e)),r=n(t,e)}return r}}function Ht(n){return ne(function(t){return t=ea(t,va(ue())),it(function(e){var r=this;return n(t,function(t){return zo(t,r,e)})})})}function Yt(t,e){var r=(e=e===Aa?" ":ft(e)).length;return r<2?r?nt(e,t):e:(r=nt(e,pn(t/Pa(e))),ds.test(e)?Tt(Ma(r),0,t).join(""):r.slice(0,t))}function Gt(s,t,u,l){var h=1&t,c=Nt(s);return function t(){for(var e=-1,r=arguments.length,n=-1,i=l.length,o=Ir(i+r),a=this&&this!==bs&&this instanceof t?c:s;++n<i;)o[n]=l[n];for(;r--;)o[n++]=arguments[++e];return zo(a,h?u:this,o)}}function qt(o){return function(t,e,r){r&&"number"!=typeof r&&ve(t,e,r)&&(e=r=Aa),t=ur(t),e===Aa?(e=t,t=0):e=ur(e),r=r===Aa?t<e?1:-1:ur(r);var n=-1;e=xn(pn((e-t)/(r||1)),0);for(var i=Ir(e);e--;)i[o?e:++n]=t,t+=r;return i}}function zt(r){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=cr(t),e=cr(e)),r(t,e)}}function Kt(t,e,r,n,i,o,a,s,u,l){var h=8&e;return 4&(e=(e|(h?32:64))&~(h?64:32))||(e&=-4),i=[t,e,i,h?o:Aa,h?a:Aa,o=h?Aa:o,a=h?Aa:a,s,u,l],r=r.apply(Aa,i),me(t)&&ai(r,i),r.placeholder=n,Te(r,t,e)}function Zt(t){var n=Lr[t];return function(t,e){if(t=cr(t),e=null==e?0:Tn(lr(e),292)){var r=(dr(t)+"e").split("e");return+((r=(dr(r=n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(r[1]-e))}return n(t)}}function Qt(a){return function(t){var e,r,n,i,o=ri(t);return"[object Map]"==o?Ta(t):"[object Set]"==o?(r=t,n=-1,i=Array(r.size),r.forEach(function(t){i[++n]=[t,t]}),i):ea(a(e=t),function(t){return[t,e[t]]})}}function $t(t,e,r,n,i,o,a,s){var u=2&e;if(!u&&"function"!=typeof t)throw new Br("Expected a function");var l=n?n.length:0;if(l||(e&=-97,n=i=Aa),a=a===Aa?a:xn(lr(a),0),s=s===Aa?s:lr(s),l-=i?i.length:0,64&e){var h=n,c=i;n=i=Aa}var f,d,p,_,v=u?Aa:Jn(t);return o=[t,e,r,n,i,h,c,o,a,s],v&&(e=(r=o[1])|(t=v[1]),n=128==t&&8==r||128==t&&256==r&&o[7].length<=v[8]||384==t&&v[7].length<=v[8]&&8==r,e<131||n)&&(1&t&&(o[2]=v[2],e|=1&r?0:4),(r=v[3])&&(n=o[3],o[3]=n?Mt(n,r,v[4]):r,o[4]=n?Ea(o[3],"__lodash_placeholder__"):v[4]),(r=v[5])&&(n=o[5],o[5]=n?At(n,r,v[6]):r,o[6]=n?Ea(o[5],"__lodash_placeholder__"):v[6]),(r=v[7])&&(o[7]=r),128&t&&(o[8]=null==o[8]?v[8]:Tn(o[8],v[8])),null==o[9]&&(o[9]=v[9]),o[0]=v[0],o[1]=e),t=o[0],e=o[1],r=o[2],n=o[3],i=o[4],!(s=o[9]=o[9]===Aa?u?0:t.length:xn(o[9]-l,0))&&24&e&&(e&=-25),Te((v?Kn:ai)(e&&1!=e?8==e||16==e?Ft(t,e,s):32!=e&&33!=e||i.length?Vt.apply(Aa,o):Gt(t,e,r,n):(d=r,p=1&e,_=Nt(f=t),function t(){return(this&&this!==bs&&this instanceof t?_:f).apply(p?d:this,arguments)}),o),t,e)}function Jt(t,e,r,n){return t===Aa||ze(t,Xr[r])&&!Yr.call(n,r)?e:t}function te(t,e,r,n,i,o){return er(t)&&er(e)&&(o.set(e,t),Z(t,e,Aa,te,o),o.delete(e)),t}function ee(t){return ir(t)?Aa:t}function re(t,e,r,n,i,o){var a=1&r,s=t.length;if(s!=(u=e.length)&&!(a&&s<u))return!1;if((u=o.get(t))&&o.get(e))return u==e;var u=-1,l=!0,h=2&r?new v:Aa;for(o.set(t,e),o.set(e,t);++u<s;){var c=t[u],f=e[u];if(n)var d=a?n(f,c,u,e,t,o):n(c,f,u,t,e,o);if(d!==Aa){if(d)continue;l=!1;break}if(h){if(!oa(e,function(t,e){if(!ma(h,e)&&(c===t||i(c,t,r,n,o)))return h.push(e)})){l=!1;break}}else if(c!==f&&!i(c,f,r,n,o)){l=!1;break}}return o.delete(t),o.delete(e),l}function ne(t){return ui(xe(t,Aa,Oe),t+"")}function ie(t){return D(t,vr,ti)}function oe(t){return D(t,gr,ei)}function ae(t){for(var e=t.name+"",r=jn[e],n=Yr.call(jn,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function se(t){return(Yr.call(d,"placeholder")?d:t).placeholder}function ue(){var t=(t=d.iteratee||Sr)===Sr?H:t;return arguments.length?t(arguments[0],arguments[1]):t}function le(t,e){var r=t.__data__,n=typeof e;return("string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?r["string"==typeof e?"string":"hash"]:r.map}function he(t){for(var e=vr(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,i==i&&!er(i)]}return e}function ce(t,e){var r=null==t?Aa:t[e];return W(r)?r:Aa}function fe(t,e,r){for(var n=-1,i=(e=xt(e,t)).length,o=!1;++n<i;){var a=Se(e[n]);if(!(o=null!=t&&r(t,a)))break;t=t[a]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&tr(i)&&_e(a,i)&&(Ki(t)||zi(t))}function de(t){return"function"!=typeof t.constructor||ye(t)?{}:Wn(rn(t))}function pe(t){return Ki(t)||zi(t)||!!(sn&&t&&t[sn])}function _e(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&as.test(t))&&-1<t&&0==t%1&&t<e}function ve(t,e,r){if(!er(r))return!1;var n=typeof e;return!!("number"==n?Ke(r)&&_e(e,r.length):"string"==n&&e in r)&&ze(r[e],t)}function ge(t,e){if(Ki(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ar(t))||Xa.test(t)||!Va.test(t)||null!=e&&t in Nr(e)}function me(t){var e=ae(t),r=d[e];return"function"==typeof r&&e in _.prototype&&(t===r||!!(e=Jn(r))&&t===e[0])}function ye(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Xr)}function be(e,r){return function(t){return null!=t&&t[e]===r&&(r!==Aa||e in Nr(t))}}function xe(i,o,a){return o=xn(o===Aa?i.length-1:o,0),function(){for(var t=arguments,e=-1,r=xn(t.length-o,0),n=Ir(r);++e<r;)n[e]=t[o+e];for(e=-1,r=Ir(o+1);++e<o;)r[e]=t[e];return r[o]=a(n),zo(i,this,r)}}function Te(t,e,r){var n=e+"";e=ui;var i,o=Me;return(o=(r=o(i=(i=n.match(Za))?i[1].split(Qa):[],r)).length)&&(r[i=o-1]=(1<o?"& ":"")+r[i],r=r.join(2<o?", ":" "),n=n.replace(Ka,"{\n/* [wrapped with "+r+"] */\n")),e(t,n)}function we(r){var n=0,i=0;return function(){var t=wn(),e=16-(t-i);if(i=t,0<e){if(800<=++n)return arguments[0]}else n=0;return r.apply(Aa,arguments)}}function Ee(t,e){var r=-1,n=(i=t.length)-1;for(e=e===Aa?i:e;++r<e;){var i,o=t[i=rt(r,n)];t[i]=t[r],t[r]=o}return t.length=e,t}function Se(t){if("string"==typeof t||ar(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Pe(t){if(null==t)return"";try{return Hr.call(t)}catch(t){}return t+""}function Me(r,n){return Zo(Ra,function(t){var e="_."+t[0];n&t[1]&&!Jo(r,e)&&r.push(e)}),r.sort()}function Ae(t){if(t instanceof _)return t.clone();var e=new p(t.__wrapped__,t.__chain__);return e.__actions__=Ct(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ce(t,e,r){var n=null==t?0:t.length;return n?((r=null==r?0:lr(r))<0&&(r=xn(n+r,0)),sa(t,ue(e,3),r)):-1}function Re(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return r!==Aa&&(i=lr(r),i=r<0?xn(n+i,0):Tn(i,n-1)),sa(t,ue(e,3),i,!0)}function Oe(t){return null!=t&&t.length?A(t,1):[]}function Ie(t){return t&&t.length?t[0]:Aa}function De(t){var e=null==t?0:t.length;return e?t[e-1]:Aa}function je(t,e){return t&&t.length&&e&&e.length?tt(t,e):t}function ke(t){return null==t?t:Pn.call(t)}function Le(e){if(!e||!e.length)return[];var r=0;return e=$o(e,function(t){if(Ze(t))return r=xn(t.length,r),!0}),_a(r,function(t){return ea(e,fa(t))})}function Ne(t,e){if(!t||!t.length)return[];var r=Le(t);return null==e?r:ea(r,function(t){return zo(e,Aa,t)})}function Fe(t){return(t=d(t)).__chain__=!0,t}function Ue(t,e){return e(t)}function Be(t,e){return(Ki(t)?Zo:Yn)(t,ue(e,3))}function Ve(t,e){return(Ki(t)?function(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}:Gn)(t,ue(e,3))}function Xe(t,e){return(Ki(t)?ea:q)(t,ue(e,3))}function We(t,e,r){return e=r?Aa:e,e=t&&null==e?t.length:e,$t(t,128,Aa,Aa,Aa,Aa,e)}function He(t,e){var r;if("function"!=typeof e)throw new Br("Expected a function");return t=lr(t),function(){return 0<--t&&(r=e.apply(this,arguments)),t<=1&&(e=Aa),r}}function Ye(n,i,t){function r(t){var e=u,r=l;return u=l=Aa,p=t,c=n.apply(r,e)}function o(t){var e=t-d;return t-=p,d===Aa||i<=e||e<0||v&&h<=t}function a(){var t=Li();if(o(t))return s(t);var e,r=si;e=t-p,t=i-(t-d),e=v?Tn(t,h-e):t,f=r(a,e)}function s(t){return f=Aa,g&&u?r(t):(u=l=Aa,c)}function e(){var t=Li(),e=o(t);if(u=arguments,l=this,d=t,e){if(f===Aa)return p=t=d,f=si(a,i),_?r(t):c;if(v)return f=si(a,i),r(d)}return f===Aa&&(f=si(a,i)),c}var u,l,h,c,f,d,p=0,_=!1,v=!1,g=!0;if("function"!=typeof n)throw new Br("Expected a function");return i=cr(i)||0,er(t)&&(_=!!t.leading,h=(v="maxWait"in t)?xn(cr(t.maxWait)||0,i):h,g="trailing"in t?!!t.trailing:g),e.cancel=function(){f!==Aa&&Qn(f),p=0,u=d=l=f=Aa},e.flush=function(){return f===Aa?c:s(Li())},e}function Ge(n,i){function o(){var t=arguments,e=i?i.apply(this,t):t[0],r=o.cache;return r.has(e)?r.get(e):(t=n.apply(this,t),o.cache=r.set(e,t)||r,t)}if("function"!=typeof n||null!=i&&"function"!=typeof i)throw new Br("Expected a function");return o.cache=new(Ge.Cache||a),o}function qe(e){if("function"!=typeof e)throw new Br("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ze(t,e){return t===e||t!=t&&e!=e}function Ke(t){return null!=t&&tr(t.length)&&!$e(t)}function Ze(t){return rr(t)&&Ke(t)}function Qe(t){if(!rr(t))return!1;var e=j(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ir(t)}function $e(t){return!!er(t)&&("[object Function]"==(t=j(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function Je(t){return"number"==typeof t&&t==lr(t)}function tr(t){return"number"==typeof t&&-1<t&&0==t%1&&t<=9007199254740991}function er(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function rr(t){return null!=t&&"object"==typeof t}function nr(t){return"number"==typeof t||rr(t)&&"[object Number]"==j(t)}function ir(t){return!(!rr(t)||"[object Object]"!=j(t))&&(null===(t=rn(t))||"function"==typeof(t=Yr.call(t,"constructor")&&t.constructor)&&t instanceof t&&Hr.call(t)==Kr)}function or(t){return"string"==typeof t||!Ki(t)&&rr(t)&&"[object String]"==j(t)}function ar(t){return"symbol"==typeof t||rr(t)&&"[object Symbol]"==j(t)}function sr(t){if(!t)return[];if(Ke(t))return or(t)?Ma(t):Ct(t);if(un&&t[un]){t=t[un]();for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}return("[object Map]"==(e=ri(t))?Ta:"[object Set]"==e?Sa:yr)(t)}function ur(t){return t?(t=cr(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function lr(t){var e=(t=ur(t))%1;return t==t?e?t-e:t:0}function hr(t){return t?f(lr(t),0,4294967295):0}function cr(t){if("number"==typeof t)return t;if(ar(t))return Ca;if(er(t)&&(t=er(t="function"==typeof t.valueOf?t.valueOf():t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace(Ga,"");var e=ns.test(t);return e||os.test(t)?ys(t.slice(2),e?2:8):rs.test(t)?Ca:+t}function fr(t){return Rt(t,gr(t))}function dr(t){return null==t?"":ft(t)}function pr(t,e,r){return(t=null==t?Aa:I(t,e))===Aa?r:t}function _r(t,e){return null!=t&&fe(t,e,N)}function vr(t){return Ke(t)?s(t):Y(t)}function gr(t){if(Ke(t))t=s(t,!0);else if(er(t)){var e,r=ye(t),n=[];for(e in t)("constructor"!=e||!r&&Yr.call(t,e))&&n.push(e);t=n}else{if(e=[],null!=t)for(r in Nr(t))e.push(r);t=e}return t}function mr(t,r){if(null==t)return{};var e=ea(oe(t),function(t){return[t]});return r=ue(r),J(t,e,function(t,e){return r(t,e[0])})}function yr(t){return null==t?[]:ga(t,vr(t))}function br(t){return Co(dr(t).toLowerCase())}function xr(t){return(t=dr(t))&&t.replace(ss,As).replace(cs,"")}function Tr(t,e,r){return t=dr(t),(e=r?Aa:e)===Aa?ps.test(t)?t.match(fs)||[]:t.match($a)||[]:t.match(e)||[]}function wr(t){return function(){return t}}function Er(t){return t}function Sr(t){return H("function"==typeof t?t:S(t,1))}function Pr(n,e,t){var r=vr(e),i=O(e,r);null!=t||er(e)&&(i.length||!r.length)||(t=e,e=n,n=this,i=O(e,vr(e)));var o=!(er(t)&&"chain"in t&&!t.chain),a=$e(n);return Zo(i,function(t){var r=e[t];n[t]=r,a&&(n.prototype[t]=function(){var t=this.__chain__;if(o||t){var e=n(this.__wrapped__);return(e.__actions__=Ct(this.__actions__)).push({func:r,args:arguments,thisArg:n}),e.__chain__=t,e}return r.apply(n,ra([this.value()],arguments))})}),n}function Mr(){}function Ar(t){return ge(t)?fa(Se(t)):(e=t,function(t){return I(t,e)});var e}function Cr(){return[]}function Rr(){return!1}var Or,Ir=(e=null==e?bs:Os.defaults(bs.Object(),e,Os.pick(bs,_s))).Array,Dr=e.Date,jr=e.Error,kr=e.Function,Lr=e.Math,Nr=e.Object,Fr=e.RegExp,Ur=e.String,Br=e.TypeError,Vr=Ir.prototype,Xr=Nr.prototype,Wr=e["__core-js_shared__"],Hr=kr.prototype.toString,Yr=Xr.hasOwnProperty,Gr=0,qr=(Or=/[^.]+$/.exec(Wr&&Wr.keys&&Wr.keys.IE_PROTO||""))?"Symbol(src)_1."+Or:"",zr=Xr.toString,Kr=Hr.call(Nr),Zr=bs._,Qr=Fr("^"+Hr.call(Yr).replace(Ha,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$r=xs?e.Buffer:Aa,Jr=e.Symbol,tn=e.Uint8Array,en=$r?$r.f:Aa,rn=wa(Nr.getPrototypeOf,Nr),nn=Nr.create,on=Xr.propertyIsEnumerable,an=Vr.splice,sn=Jr?Jr.isConcatSpreadable:Aa,un=Jr?Jr.iterator:Aa,ln=Jr?Jr.toStringTag:Aa,hn=function(){try{var t=ce(Nr,"defineProperty");return t({},"",{}),t}catch(t){}}(),cn=e.clearTimeout!==bs.clearTimeout&&e.clearTimeout,fn=Dr&&Dr.now!==bs.Date.now&&Dr.now,dn=e.setTimeout!==bs.setTimeout&&e.setTimeout,pn=Lr.ceil,_n=Lr.floor,vn=Nr.getOwnPropertySymbols,gn=$r?$r.isBuffer:Aa,mn=e.isFinite,yn=Vr.join,bn=wa(Nr.keys,Nr),xn=Lr.max,Tn=Lr.min,wn=Dr.now,En=e.parseInt,Sn=Lr.random,Pn=Vr.reverse,Mn=ce(e,"DataView"),An=ce(e,"Map"),Cn=ce(e,"Promise"),Rn=ce(e,"Set"),On=ce(e,"WeakMap"),In=ce(Nr,"create"),Dn=On&&new On,jn={},kn=Pe(Mn),Ln=Pe(An),Nn=Pe(Cn),Fn=Pe(Rn),Un=Pe(On),Bn=Jr?Jr.prototype:Aa,Vn=Bn?Bn.valueOf:Aa,Xn=Bn?Bn.toString:Aa,Wn=function(t){return er(t)?nn?nn(t):(Hn.prototype=t,t=new Hn,Hn.prototype=Aa,t):{}};function Hn(){}d.templateSettings={escape:Fa,evaluate:Ua,interpolate:Ba,variable:"",imports:{_:d}},(d.prototype=o.prototype).constructor=d,(p.prototype=Wn(o.prototype)).constructor=p,(_.prototype=Wn(o.prototype)).constructor=_,r.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},r.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},r.prototype.get=function(t){var e=this.__data__;return In?"__lodash_hash_undefined__"===(t=e[t])?Aa:t:Yr.call(e,t)?e[t]:Aa},r.prototype.has=function(t){var e=this.__data__;return In?e[t]!==Aa:Yr.call(e,t)},r.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=In&&e===Aa?"__lodash_hash_undefined__":e,this},i.prototype.clear=function(){this.__data__=[],this.size=0},i.prototype.delete=function(t){var e=this.__data__;return!((t=u(e,t))<0||(t==e.length-1?e.pop():an.call(e,t,1),--this.size,0))},i.prototype.get=function(t){var e=this.__data__;return(t=u(e,t))<0?Aa:e[t][1]},i.prototype.has=function(t){return-1<u(this.__data__,t)},i.prototype.set=function(t,e){var r=this.__data__,n=u(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},a.prototype.clear=function(){this.size=0,this.__data__={hash:new r,map:new(An||i),string:new r}},a.prototype.delete=function(t){return t=le(this,t).delete(t),this.size-=t?1:0,t},a.prototype.get=function(t){return le(this,t).get(t)},a.prototype.has=function(t){return le(this,t).has(t)},a.prototype.set=function(t,e){var r=le(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},v.prototype.add=v.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},v.prototype.has=function(t){return this.__data__.has(t)},T.prototype.clear=function(){this.__data__=new i,this.size=0},T.prototype.delete=function(t){var e=this.__data__;return t=e.delete(t),this.size=e.size,t},T.prototype.get=function(t){return this.__data__.get(t)},T.prototype.has=function(t){return this.__data__.has(t)},T.prototype.set=function(t,e){var r=this.__data__;if(r instanceof i){var n=r.__data__;if(!An||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(n)}return r.set(t,e),this.size=r.size,this};var Yn=Dt(C),Gn=Dt(R,!0),qn=jt(),zn=jt(!0),Kn=Dn?function(t,e){return Dn.set(t,e),t}:Er,Zn=hn?function(t,e){return hn(t,"toString",{configurable:!0,enumerable:!1,value:wr(e),writable:!0})}:Er,Qn=cn||function(t){return bs.clearTimeout(t)},$n=Rn&&1/Sa(new Rn([,-0]))[1]==1/0?function(t){return new Rn(t)}:Mr,Jn=Dn?function(t){return Dn.get(t)}:Mr,ti=vn?function(e){return null==e?[]:(e=Nr(e),$o(vn(e),function(t){return on.call(e,t)}))}:Cr,ei=vn?function(t){for(var e=[];t;)ra(e,ti(t)),t=rn(t);return e}:Cr,ri=j;(Mn&&"[object DataView]"!=ri(new Mn(new ArrayBuffer(1)))||An&&"[object Map]"!=ri(new An)||Cn&&"[object Promise]"!=ri(Cn.resolve())||Rn&&"[object Set]"!=ri(new Rn)||On&&"[object WeakMap]"!=ri(new On))&&(ri=function(t){var e=j(t);if(t=(t="[object Object]"==e?t.constructor:Aa)?Pe(t):"")switch(t){case kn:return"[object DataView]";case Ln:return"[object Map]";case Nn:return"[object Promise]";case Fn:return"[object Set]";case Un:return"[object WeakMap]"}return e});var ni,ii,oi=Wr?$e:Rr,ai=we(Kn),si=dn||function(t,e){return bs.setTimeout(t,e)},ui=we(Zn),li=(ii=(ni=Ge(ni=function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(Wa,function(t,e,r,n){i.push(r?n.replace(Ja,"$1"):e||t)}),i},function(t){return 500===ii.size&&ii.clear(),t})).cache,ni),hi=it(function(t,e){return Ze(t)?b(t,A(e,1,Ze,!0)):[]}),ci=it(function(t,e){var r=De(e);return Ze(r)&&(r=Aa),Ze(t)?b(t,A(e,1,Ze,!0),ue(r,2)):[]}),fi=it(function(t,e){var r=De(e);return Ze(r)&&(r=Aa),Ze(t)?b(t,A(e,1,Ze,!0),Aa,r):[]}),di=it(function(t){var e=ea(t,yt);return e.length&&e[0]===t[0]?F(e):[]}),pi=it(function(t){var e=De(t),r=ea(t,yt);return e===De(r)?e=Aa:r.pop(),r.length&&r[0]===t[0]?F(r,ue(e,2)):[]}),_i=it(function(t){var e=De(t),r=ea(t,yt);return(e="function"==typeof e?e:Aa)&&r.pop(),r.length&&r[0]===t[0]?F(r,Aa,e):[]}),vi=it(je),gi=ne(function(t,e){var r=null==t?0:t.length,n=c(t,e);return et(t,ea(e,function(t){return _e(t,r)?+t:t}).sort(Pt)),n}),mi=it(function(t){return dt(A(t,1,Ze,!0))}),yi=it(function(t){var e=De(t);return Ze(e)&&(e=Aa),dt(A(t,1,Ze,!0),ue(e,2))}),bi=it(function(t){var e="function"==typeof(e=De(t))?e:Aa;return dt(A(t,1,Ze,!0),Aa,e)}),xi=it(function(t,e){return Ze(t)?b(t,e):[]}),Ti=it(function(t){return gt($o(t,Ze))}),wi=it(function(t){var e=De(t);return Ze(e)&&(e=Aa),gt($o(t,Ze),ue(e,2))}),Ei=it(function(t){var e="function"==typeof(e=De(t))?e:Aa;return gt($o(t,Ze),Aa,e)}),Si=it(Le),Pi=it(function(t){var e="function"==typeof(e=1<(e=t.length)?t[e-1]:Aa)?(t.pop(),e):Aa;return Ne(t,e)}),Mi=ne(function(e){function t(t){return c(t,e)}var r=e.length,n=r?e[0]:0,i=this.__wrapped__;return!(1<r||this.__actions__.length)&&i instanceof _&&_e(n)?((i=i.slice(n,+n+(r?1:0))).__actions__.push({func:Ue,args:[t],thisArg:Aa}),new p(i,this.__chain__).thru(function(t){return r&&!t.length&&t.push(Aa),t})):this.thru(t)}),Ai=Ot(function(t,e,r){Yr.call(t,r)?++t[r]:h(t,r,1)}),Ci=Ut(Ce),Ri=Ut(Re),Oi=Ot(function(t,e,r){Yr.call(t,r)?t[r].push(e):h(t,r,[e])}),Ii=it(function(t,e,r){var n=-1,i="function"==typeof e,o=Ke(t)?Ir(t.length):[];return Yn(t,function(t){o[++n]=i?zo(e,t,r):U(t,e,r)}),o}),Di=Ot(function(t,e,r){h(t,r,e)}),ji=Ot(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]}),ki=it(function(t,e){if(null==t)return[];var r=e.length;return 1<r&&ve(t,e[0],e[1])?e=[]:2<r&&ve(e[0],e[1],e[2])&&(e=[e[0]]),$(t,A(e,1),[])}),Li=fn||function(){return bs.Date.now()},Ni=it(function(t,e,r){var n=1;if(r.length){var i=Ea(r,se(Ni));n=32|n}return $t(t,n,e,r,i)}),Fi=it(function(t,e,r){var n=3;if(r.length){var i=Ea(r,se(Fi));n=32|n}return $t(e,n,t,r,i)}),Ui=it(function(t,e){return y(t,1,e)}),Bi=it(function(t,e,r){return y(t,cr(e)||0,r)});Ge.Cache=a;var Vi,Xi=it(function(n,i){var o=(i=1==i.length&&Ki(i[0])?ea(i[0],va(ue())):ea(A(i,1),va(ue()))).length;return it(function(t){for(var e=-1,r=Tn(t.length,o);++e<r;)t[e]=i[e].call(this,t[e]);return zo(n,this,t)})}),Wi=it(function(t,e){return $t(t,32,Aa,e,Ea(e,se(Wi)))}),Hi=it(function(t,e){return $t(t,64,Aa,e,Ea(e,se(Hi)))}),Yi=ne(function(t,e){return $t(t,256,Aa,Aa,Aa,e)}),Gi=zt(k),qi=zt(function(t,e){return e<=t}),zi=B(function(){return arguments}())?B:function(t){return rr(t)&&Yr.call(t,"callee")&&!on.call(t,"callee")},Ki=Ir.isArray,Zi=Ts?va(Ts):function(t){return rr(t)&&"[object ArrayBuffer]"==j(t)},Qi=gn||Rr,$i=ws?va(ws):function(t){return rr(t)&&"[object Date]"==j(t)},Ji=Es?va(Es):function(t){return rr(t)&&"[object Map]"==ri(t)},to=Ss?va(Ss):function(t){return rr(t)&&"[object RegExp]"==j(t)},eo=Ps?va(Ps):function(t){return rr(t)&&"[object Set]"==ri(t)},ro=Ms?va(Ms):function(t){return rr(t)&&tr(t.length)&&!!vs[j(t)]},no=zt(G),io=zt(function(t,e){return t<=e}),oo=It(function(t,e){if(ye(e)||Ke(e))Rt(e,vr(e),t);else for(var r in e)Yr.call(e,r)&&w(t,r,e[r])}),ao=It(function(t,e){Rt(e,gr(e),t)}),so=It(function(t,e,r,n){Rt(e,gr(e),t,n)}),uo=It(function(t,e,r,n){Rt(e,vr(e),t,n)}),lo=ne(c),ho=it(function(t,e){t=Nr(t);var r=-1,n=e.length;for((i=2<n?e[2]:Aa)&&ve(e[0],e[1],i)&&(n=1);++r<n;)for(var i,o=gr(i=e[r]),a=-1,s=o.length;++a<s;){var u=o[a],l=t[u];(l===Aa||ze(l,Xr[u])&&!Yr.call(t,u))&&(t[u]=i[u])}return t}),co=it(function(t){return t.push(Aa,te),zo(go,Aa,t)}),fo=Xt(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=zr.call(e)),t[e]=r},wr(Er)),po=Xt(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=zr.call(e)),Yr.call(t,e)?t[e].push(r):t[e]=[r]},ue),_o=it(U),vo=It(function(t,e,r){Z(t,e,r)}),go=It(function(t,e,r,n){Z(t,e,r,n)}),mo=ne(function(e,t){var r={};if(null==e)return r;var n=!1;t=ea(t,function(t){return t=xt(t,e),n=n||1<t.length,t}),Rt(e,oe(e),r),n&&(r=S(r,7,ee));for(var i=t.length;i--;)pt(r,t[i]);return r}),yo=ne(function(t,e){return null==t?{}:J(r=t,e,function(t,e){return _r(r,e)});var r}),bo=Qt(vr),xo=Qt(gr),To=Lt(function(t,e,r){return e=e.toLowerCase(),t+(r?br(e):e)}),wo=Lt(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),Eo=Lt(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),So=kt("toLowerCase"),Po=Lt(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}),Mo=Lt(function(t,e,r){return t+(r?" ":"")+Co(e)}),Ao=Lt(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),Co=kt("toUpperCase"),Ro=it(function(t,e){try{return zo(t,Aa,e)}catch(t){return Qe(t)?t:new jr(t)}}),Oo=ne(function(e,t){return Zo(t,function(t){t=Se(t),h(e,t,Ni(e[t],e))}),e}),Io=Bt(),Do=Bt(!0),jo=it(function(e,r){return function(t){return U(t,e,r)}}),ko=it(function(e,r){return function(t){return U(e,t,r)}}),Lo=Ht(ea),No=Ht(Qo),Fo=Ht(oa),Uo=qt(),Bo=qt(!0),Vo=Wt(function(t,e){return t+e},0),Xo=Zt("ceil"),Wo=Wt(function(t,e){return t/e},1),Ho=Zt("floor"),Yo=Wt(function(t,e){return t*e},1),Go=Zt("round"),qo=Wt(function(t,e){return t-e},0);return d.after=function(t,e){if("function"!=typeof e)throw new Br("Expected a function");return t=lr(t),function(){if(--t<1)return e.apply(this,arguments)}},d.ary=We,d.assign=oo,d.assignIn=ao,d.assignInWith=so,d.assignWith=uo,d.at=lo,d.before=He,d.bind=Ni,d.bindAll=Oo,d.bindKey=Fi,d.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ki(t)?t:[t]},d.chain=Fe,d.chunk=function(t,e,r){if(e=(r?ve(t,e,r):e===Aa)?1:xn(lr(e),0),!(r=null==t?0:t.length)||e<1)return[];for(var n=0,i=0,o=Ir(pn(r/e));n<r;)o[i++]=at(t,n,n+=e);return o},d.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},d.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Ir(t-1),r=arguments[0];t--;)e[t-1]=arguments[t];return ra(Ki(r)?Ct(r):[r],A(e,1))},d.cond=function(n){var i=null==n?0:n.length,e=ue();return n=i?ea(n,function(t){if("function"!=typeof t[1])throw new Br("Expected a function");return[e(t[0]),t[1]]}):[],it(function(t){for(var e=-1;++e<i;){var r=n[e];if(zo(r[0],this,t))return zo(r[1],this,t)}})},d.conforms=function(t){return e=S(t,1),r=vr(e),function(t){return m(t,e,r)};var e,r},d.constant=wr,d.countBy=Ai,d.create=function(t,e){var r=Wn(t);return null==e?r:E(r,e)},d.curry=function t(e,r,n){return(e=$t(e,8,Aa,Aa,Aa,Aa,Aa,r=n?Aa:r)).placeholder=t.placeholder,e},d.curryRight=function t(e,r,n){return(e=$t(e,16,Aa,Aa,Aa,Aa,Aa,r=n?Aa:r)).placeholder=t.placeholder,e},d.debounce=Ye,d.defaults=ho,d.defaultsDeep=co,d.defer=Ui,d.delay=Bi,d.difference=hi,d.differenceBy=ci,d.differenceWith=fi,d.drop=function(t,e,r){var n=null==t?0:t.length;return n?at(t,(e=r||e===Aa?1:lr(e))<0?0:e,n):[]},d.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?at(t,0,(e=n-(e=r||e===Aa?1:lr(e)))<0?0:e):[]},d.dropRightWhile=function(t,e){return t&&t.length?_t(t,ue(e,3),!0,!0):[]},d.dropWhile=function(t,e){return t&&t.length?_t(t,ue(e,3),!0):[]},d.fill=function(t,e,r,n){var i=null==t?0:t.length;if(!i)return[];for(r&&"number"!=typeof r&&ve(t,e,r)&&(r=0,n=i),i=t.length,(r=lr(r))<0&&(r=i<-r?0:i+r),(n=n===Aa||i<n?i:lr(n))<0&&(n+=i),n=n<r?0:hr(n);r<n;)t[r++]=e;return t},d.filter=function(t,e){return(Ki(t)?$o:M)(t,ue(e,3))},d.flatMap=function(t,e){return A(Xe(t,e),1)},d.flatMapDeep=function(t,e){return A(Xe(t,e),1/0)},d.flatMapDepth=function(t,e,r){return r=r===Aa?1:lr(r),A(Xe(t,e),r)},d.flatten=Oe,d.flattenDeep=function(t){return null!=t&&t.length?A(t,1/0):[]},d.flattenDepth=function(t,e){return null!=t&&t.length?A(t,e=e===Aa?1:lr(e)):[]},d.flip=function(t){return $t(t,512)},d.flow=Io,d.flowRight=Do,d.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},d.functions=function(t){return null==t?[]:O(t,vr(t))},d.functionsIn=function(t){return null==t?[]:O(t,gr(t))},d.groupBy=Oi,d.initial=function(t){return null!=t&&t.length?at(t,0,-1):[]},d.intersection=di,d.intersectionBy=pi,d.intersectionWith=_i,d.invert=fo,d.invertBy=po,d.invokeMap=Ii,d.iteratee=Sr,d.keyBy=Di,d.keys=vr,d.keysIn=gr,d.map=Xe,d.mapKeys=function(t,n){var i={};return n=ue(n,3),C(t,function(t,e,r){h(i,n(t,e,r),t)}),i},d.mapValues=function(t,n){var i={};return n=ue(n,3),C(t,function(t,e,r){h(i,e,n(t,e,r))}),i},d.matches=function(t){return z(S(t,1))},d.matchesProperty=function(t,e){return K(t,S(e,1))},d.memoize=Ge,d.merge=vo,d.mergeWith=go,d.method=jo,d.methodOf=ko,d.mixin=Pr,d.negate=qe,d.nthArg=function(e){return e=lr(e),it(function(t){return Q(t,e)})},d.omit=mo,d.omitBy=function(t,e){return mr(t,qe(ue(e)))},d.once=function(t){return He(2,t)},d.orderBy=function(t,e,r,n){return null==t?[]:(Ki(e)||(e=null==e?[]:[e]),Ki(r=n?Aa:r)||(r=null==r?[]:[r]),$(t,e,r))},d.over=Lo,d.overArgs=Xi,d.overEvery=No,d.overSome=Fo,d.partial=Wi,d.partialRight=Hi,d.partition=ji,d.pick=yo,d.pickBy=mr,d.property=Ar,d.propertyOf=function(e){return function(t){return null==e?Aa:I(e,t)}},d.pull=vi,d.pullAll=je,d.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?tt(t,e,ue(r,2)):t},d.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?tt(t,e,Aa,r):t},d.pullAt=gi,d.range=Uo,d.rangeRight=Bo,d.rearg=Yi,d.reject=function(t,e){return(Ki(t)?$o:M)(t,qe(ue(e,3)))},d.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=ue(e,3);++n<o;){var a=t[n];e(a,n,t)&&(r.push(a),i.push(n))}return et(t,i),r},d.rest=function(t,e){if("function"!=typeof t)throw new Br("Expected a function");return it(t,e=e===Aa?e:lr(e))},d.reverse=ke,d.sampleSize=function(t,e,r){return e=(r?ve(t,e,r):e===Aa)?1:lr(e),(Ki(t)?function(t,e){return Ee(Ct(t),f(e,0,t.length))}:function(t,e){var r=yr(t);return Ee(r,f(e,0,r.length))})(t,e)},d.set=function(t,e,r){return null==t?t:ot(t,e,r)},d.setWith=function(t,e,r,n){return n="function"==typeof n?n:Aa,null==t?t:ot(t,e,r,n)},d.shuffle=function(t){return(Ki(t)?function(t){return Ee(Ct(t))}:function(t){return Ee(yr(t))})(t)},d.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r=r&&"number"!=typeof r&&ve(t,e,r)?(e=0,n):(e=null==e?0:lr(e),r===Aa?n:lr(r)),at(t,e,r)):[]},d.sortBy=ki,d.sortedUniq=function(t){return t&&t.length?ht(t):[]},d.sortedUniqBy=function(t,e){return t&&t.length?ht(t,ue(e,2)):[]},d.split=function(t,e,r){return r&&"number"!=typeof r&&ve(t,e,r)&&(e=r=Aa),(r=r===Aa?4294967295:r>>>0)?(t=dr(t))&&("string"==typeof e||null!=e&&!to(e))&&(!(e=ft(e))&&ds.test(t))?Tt(Ma(t),0,r):t.split(e,r):[]},d.spread=function(r,n){if("function"!=typeof r)throw new Br("Expected a function");return n=null==n?0:xn(lr(n),0),it(function(t){var e=t[n];return t=Tt(t,0,n),e&&ra(t,e),zo(r,this,t)})},d.tail=function(t){var e=null==t?0:t.length;return e?at(t,1,e):[]},d.take=function(t,e,r){return t&&t.length?at(t,0,(e=r||e===Aa?1:lr(e))<0?0:e):[]},d.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?at(t,(e=n-(e=r||e===Aa?1:lr(e)))<0?0:e,n):[]},d.takeRightWhile=function(t,e){return t&&t.length?_t(t,ue(e,3),!1,!0):[]},d.takeWhile=function(t,e){return t&&t.length?_t(t,ue(e,3)):[]},d.tap=function(t,e){return e(t),t},d.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Br("Expected a function");return er(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ye(t,e,{leading:n,maxWait:e,trailing:i})},d.thru=Ue,d.toArray=sr,d.toPairs=bo,d.toPairsIn=xo,d.toPath=function(t){return Ki(t)?ea(t,Se):ar(t)?[t]:Ct(li(dr(t)))},d.toPlainObject=fr,d.transform=function(t,n,i){var e=Ki(t),r=e||Qi(t)||ro(t);if(n=ue(n,4),null==i){var o=t&&t.constructor;i=r?e?new o:[]:er(t)&&$e(o)?Wn(rn(t)):{}}return(r?Zo:C)(t,function(t,e,r){return n(i,t,e,r)}),i},d.unary=function(t){return We(t,1)},d.union=mi,d.unionBy=yi,d.unionWith=bi,d.uniq=function(t){return t&&t.length?dt(t):[]},d.uniqBy=function(t,e){return t&&t.length?dt(t,ue(e,2)):[]},d.uniqWith=function(t,e){return e="function"==typeof e?e:Aa,t&&t.length?dt(t,Aa,e):[]},d.unset=function(t,e){return null==t||pt(t,e)},d.unzip=Le,d.unzipWith=Ne,d.update=function(t,e,r){return null==t?t:ot(t,e,bt(r)(I(t,e)),void 0)},d.updateWith=function(t,e,r,n){return n="function"==typeof n?n:Aa,null!=t&&(t=ot(t,e,bt(r)(I(t,e)),n)),t},d.values=yr,d.valuesIn=function(t){return null==t?[]:ga(t,gr(t))},d.without=xi,d.words=Tr,d.wrap=function(t,e){return Wi(bt(e),t)},d.xor=Ti,d.xorBy=wi,d.xorWith=Ei,d.zip=Si,d.zipObject=function(t,e){return mt(t||[],e||[],w)},d.zipObjectDeep=function(t,e){return mt(t||[],e||[],ot)},d.zipWith=Pi,d.entries=bo,d.entriesIn=xo,d.extend=ao,d.extendWith=so,Pr(d,d),d.add=Vo,d.attempt=Ro,d.camelCase=To,d.capitalize=br,d.ceil=Xo,d.clamp=function(t,e,r){return r===Aa&&(r=e,e=Aa),r!==Aa&&(r=(r=cr(r))==r?r:0),e!==Aa&&(e=(e=cr(e))==e?e:0),f(cr(t),e,r)},d.clone=function(t){return S(t,4)},d.cloneDeep=function(t){return S(t,5)},d.cloneDeepWith=function(t,e){return S(t,5,e="function"==typeof e?e:Aa)},d.cloneWith=function(t,e){return S(t,4,e="function"==typeof e?e:Aa)},d.conformsTo=function(t,e){return null==e||m(t,e,vr(e))},d.deburr=xr,d.defaultTo=function(t,e){return null==t||t!=t?e:t},d.divide=Wo,d.endsWith=function(t,e,r){t=dr(t),e=ft(e);var n=t.length;n=r=r===Aa?n:f(lr(r),0,n);return 0<=(r-=e.length)&&t.slice(r,n)==e},d.eq=ze,d.escape=function(t){return(t=dr(t))&&Na.test(t)?t.replace(ka,Cs):t},d.escapeRegExp=function(t){return(t=dr(t))&&Ya.test(t)?t.replace(Ha,"\\$&"):t},d.every=function(t,e,r){var n=Ki(t)?Qo:x;return r&&ve(t,e,r)&&(e=Aa),n(t,ue(e,3))},d.find=Ci,d.findIndex=Ce,d.findKey=function(t,e){return aa(t,ue(e,3),C)},d.findLast=Ri,d.findLastIndex=Re,d.findLastKey=function(t,e){return aa(t,ue(e,3),R)},d.floor=Ho,d.forEach=Be,d.forEachRight=Ve,d.forIn=function(t,e){return null==t?t:qn(t,ue(e,3),gr)},d.forInRight=function(t,e){return null==t?t:zn(t,ue(e,3),gr)},d.forOwn=function(t,e){return t&&C(t,ue(e,3))},d.forOwnRight=function(t,e){return t&&R(t,ue(e,3))},d.get=pr,d.gt=Gi,d.gte=qi,d.has=function(t,e){return null!=t&&fe(t,e,L)},d.hasIn=_r,d.head=Ie,d.identity=Er,d.includes=function(t,e,r,n){return t=Ke(t)?t:yr(t),r=r&&!n?lr(r):0,n=t.length,r<0&&(r=xn(n+r,0)),or(t)?r<=n&&-1<t.indexOf(e,r):!!n&&-1<ua(t,e,r)},d.indexOf=function(t,e,r){var n=null==t?0:t.length;return n?((r=null==r?0:lr(r))<0&&(r=xn(n+r,0)),ua(t,e,r)):-1},d.inRange=function(t,e,r){return e=ur(e),r===Aa?(r=e,e=0):r=ur(r),(t=cr(t))>=Tn(e,r)&&t<xn(e,r)},d.invoke=_o,d.isArguments=zi,d.isArray=Ki,d.isArrayBuffer=Zi,d.isArrayLike=Ke,d.isArrayLikeObject=Ze,d.isBoolean=function(t){return!0===t||!1===t||rr(t)&&"[object Boolean]"==j(t)},d.isBuffer=Qi,d.isDate=$i,d.isElement=function(t){return rr(t)&&1===t.nodeType&&!ir(t)},d.isEmpty=function(t){if(null==t)return!0;if(Ke(t)&&(Ki(t)||"string"==typeof t||"function"==typeof t.splice||Qi(t)||ro(t)||zi(t)))return!t.length;var e=ri(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(ye(t))return!Y(t).length;for(var r in t)if(Yr.call(t,r))return!1;return!0},d.isEqual=function(t,e){return V(t,e)},d.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:Aa)?r(t,e):Aa;return n===Aa?V(t,e,Aa,r):!!n},d.isError=Qe,d.isFinite=function(t){return"number"==typeof t&&mn(t)},d.isFunction=$e,d.isInteger=Je,d.isLength=tr,d.isMap=Ji,d.isMatch=function(t,e){return t===e||X(t,e,he(e))},d.isMatchWith=function(t,e,r){return r="function"==typeof r?r:Aa,X(t,e,he(e),r)},d.isNaN=function(t){return nr(t)&&t!=+t},d.isNative=function(t){if(oi(t))throw new jr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return W(t)},d.isNil=function(t){return null==t},d.isNull=function(t){return null===t},d.isNumber=nr,d.isObject=er,d.isObjectLike=rr,d.isPlainObject=ir,d.isRegExp=to,d.isSafeInteger=function(t){return Je(t)&&-9007199254740991<=t&&t<=9007199254740991},d.isSet=eo,d.isString=or,d.isSymbol=ar,d.isTypedArray=ro,d.isUndefined=function(t){return t===Aa},d.isWeakMap=function(t){return rr(t)&&"[object WeakMap]"==ri(t)},d.isWeakSet=function(t){return rr(t)&&"[object WeakSet]"==j(t)},d.join=function(t,e){return null==t?"":yn.call(t,e)},d.kebabCase=wo,d.last=De,d.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;if(r!==Aa&&(i=(i=lr(r))<0?xn(n+i,0):Tn(i,n-1)),e==e){for(r=i+1;r--&&t[r]!==e;);t=r}else t=sa(t,ha,i,!0);return t},d.lowerCase=Eo,d.lowerFirst=So,d.lt=no,d.lte=io,d.max=function(t){return t&&t.length?P(t,Er,k):Aa},d.maxBy=function(t,e){return t&&t.length?P(t,ue(e,2),k):Aa},d.mean=function(t){return ca(t,Er)},d.meanBy=function(t,e){return ca(t,ue(e,2))},d.min=function(t){return t&&t.length?P(t,Er,G):Aa},d.minBy=function(t,e){return t&&t.length?P(t,ue(e,2),G):Aa},d.stubArray=Cr,d.stubFalse=Rr,d.stubObject=function(){return{}},d.stubString=function(){return""},d.stubTrue=function(){return!0},d.multiply=Yo,d.nth=function(t,e){return t&&t.length?Q(t,lr(e)):Aa},d.noConflict=function(){return bs._===this&&(bs._=Zr),this},d.noop=Mr,d.now=Li,d.pad=function(t,e,r){t=dr(t);var n=(e=lr(e))?Pa(t):0;return!e||e<=n?t:Yt(_n(e=(e-n)/2),r)+t+Yt(pn(e),r)},d.padEnd=function(t,e,r){t=dr(t);var n=(e=lr(e))?Pa(t):0;return e&&n<e?t+Yt(e-n,r):t},d.padStart=function(t,e,r){t=dr(t);var n=(e=lr(e))?Pa(t):0;return e&&n<e?Yt(e-n,r)+t:t},d.parseInt=function(t,e,r){return e=r||null==e?0:e&&+e,En(dr(t).replace(qa,""),e||0)},d.random=function(t,e,r){if(r&&"boolean"!=typeof r&&ve(t,e,r)&&(e=r=Aa),r===Aa&&("boolean"==typeof e?(r=e,e=Aa):"boolean"==typeof t&&(r=t,t=Aa)),t===Aa&&e===Aa?(t=0,e=1):(t=ur(t),e===Aa?(e=t,t=0):e=ur(e)),e<t){var n=t;t=e,e=n}return r||t%1||e%1?(r=Sn(),Tn(t+r*(e-t+ms("1e-"+((r+"").length-1))),e)):rt(t,e)},d.reduce=function(t,e,r){var n=Ki(t)?na:da,i=arguments.length<3;return n(t,ue(e,4),r,i,Yn)},d.reduceRight=function(t,e,r){var n=Ki(t)?ia:da,i=arguments.length<3;return n(t,ue(e,4),r,i,Gn)},d.repeat=function(t,e,r){return e=(r?ve(t,e,r):e===Aa)?1:lr(e),nt(dr(t),e)},d.replace=function(){var t=arguments,e=dr(t[0]);return t.length<3?e:e.replace(t[1],t[2])},d.result=function(t,e,r){var n=-1,i=(e=xt(e,t)).length;for(i||(i=1,t=Aa);++n<i;){var o=null==t?Aa:t[Se(e[n])];o===Aa&&(n=i,o=r),t=$e(o)?o.call(t):o}return t},d.round=Go,d.runInContext=t,d.sample=function(t){return(Ki(t)?n:function(t){return n(yr(t))})(t)},d.size=function(t){if(null==t)return 0;if(Ke(t))return or(t)?Pa(t):t.length;var e=ri(t);return"[object Map]"==e||"[object Set]"==e?t.size:Y(t).length},d.snakeCase=Po,d.some=function(t,e,r){var n=Ki(t)?oa:st;return r&&ve(t,e,r)&&(e=Aa),n(t,ue(e,3))},d.sortedIndex=function(t,e){return ut(t,e)},d.sortedIndexBy=function(t,e,r){return lt(t,e,ue(r,2))},d.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ut(t,e);if(n<r&&ze(t[n],e))return n}return-1},d.sortedLastIndex=function(t,e){return ut(t,e,!0)},d.sortedLastIndexBy=function(t,e,r){return lt(t,e,ue(r,2),!0)},d.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=ut(t,e,!0)-1;if(ze(t[r],e))return r}return-1},d.startCase=Mo,d.startsWith=function(t,e,r){return t=dr(t),r=null==r?0:f(lr(r),0,t.length),e=ft(e),t.slice(r,r+e.length)==e},d.subtract=qo,d.sum=function(t){return t&&t.length?pa(t,Er):0},d.sumBy=function(t,e){return t&&t.length?pa(t,ue(e,2)):0},d.template=function(a,t,e){var r=d.templateSettings;e&&ve(a,t,e)&&(t=Aa),a=dr(a),t=so({},t,r,Jt);var s,u,n=vr(e=so({},t.imports,r.imports,Jt)),i=ga(e,n),l=0;e=t.interpolate||us;var h="__p+='";e=Fr((t.escape||us).source+"|"+e.source+"|"+(e===Ba?ts:us).source+"|"+(t.evaluate||us).source+"|$","g");var o="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(a.replace(e,function(t,e,r,n,i,o){return r=r||n,h+=a.slice(l,o).replace(ls,xa),e&&(s=!0,h+="'+__e("+e+")+'"),i&&(u=!0,h+="';"+i+";\n__p+='"),r&&(h+="'+((__t=("+r+"))==null?'':__t)+'"),l=o+t.length,t}),h+="';",(t=t.variable)||(h="with(obj){"+h+"}"),h=(u?h.replace(Oa,""):h).replace(Ia,"$1").replace(Da,"$1;"),h="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(s?",__e=_.escape":"")+(u?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+h+"return __p}",(t=Ro(function(){return kr(n,o+"return "+h).apply(Aa,i)})).source=h,Qe(t))throw t;return t},d.times=function(t,e){if((t=lr(t))<1||9007199254740991<t)return[];var r=4294967295,n=Tn(t,4294967295);for(t-=4294967295,n=_a(n,e=ue(e));++r<t;)e(r);return n},d.toFinite=ur,d.toInteger=lr,d.toLength=hr,d.toLower=function(t){return dr(t).toLowerCase()},d.toNumber=cr,d.toSafeInteger=function(t){return t?f(lr(t),-9007199254740991,9007199254740991):0===t?t:0},d.toString=dr,d.toUpper=function(t){return dr(t).toUpperCase()},d.trim=function(t,e,r){return(t=dr(t))&&(r||e===Aa)?t.replace(Ga,""):t&&(e=ft(e))?Tt(t=Ma(t),e=ya(t,r=Ma(e)),r=ba(t,r)+1).join(""):t},d.trimEnd=function(t,e,r){return(t=dr(t))&&(r||e===Aa)?t.replace(za,""):t&&(e=ft(e))?Tt(t=Ma(t),0,e=ba(t,Ma(e))+1).join(""):t},d.trimStart=function(t,e,r){return(t=dr(t))&&(r||e===Aa)?t.replace(qa,""):t&&(e=ft(e))?Tt(t=Ma(t),e=ya(t,Ma(e))).join(""):t},d.truncate=function(t,e){var r=30,n="...";if(er(e)){var i="separator"in e?e.separator:i;r="length"in e?lr(e.length):r,n="omission"in e?ft(e.omission):n}var o=(t=dr(t)).length;if(ds.test(t)){var a=Ma(t);o=a.length}if(o<=r)return t;if((o=r-Pa(n))<1)return n;if(r=a?Tt(a,0,o).join(""):t.slice(0,o),i===Aa)return r+n;if(a&&(o+=r.length-o),to(i)){if(t.slice(o).search(i)){var s=r;for(i.global||(i=Fr(i.source,dr(es.exec(i))+"g")),i.lastIndex=0;a=i.exec(s);)var u=a.index;r=r.slice(0,u===Aa?o:u)}}else t.indexOf(ft(i),o)!=o&&(-1<(i=r.lastIndexOf(i))&&(r=r.slice(0,i)));return r+n},d.unescape=function(t){return(t=dr(t))&&La.test(t)?t.replace(ja,Rs):t},d.uniqueId=function(t){var e=++Gr;return dr(t)+e},d.upperCase=Ao,d.upperFirst=Co,d.each=Be,d.eachRight=Ve,d.first=Ie,Pr(d,(Vi={},C(d,function(t,e){Yr.call(d.prototype,e)||(Vi[e]=t)}),Vi),{chain:!1}),d.VERSION="4.17.5",Zo("bind bindKey curry curryRight partial partialRight".split(" "),function(t){d[t].placeholder=d}),Zo(["drop","take"],function(r,n){_.prototype[r]=function(t){t=t===Aa?1:xn(lr(t),0);var e=this.__filtered__&&!n?new _(this):this.clone();return e.__filtered__?e.__takeCount__=Tn(t,e.__takeCount__):e.__views__.push({size:Tn(t,4294967295),type:r+(e.__dir__<0?"Right":"")}),e},_.prototype[r+"Right"]=function(t){return this.reverse()[r](t).reverse()}}),Zo(["filter","map","takeWhile"],function(t,e){var r=e+1,n=1==r||3==r;_.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ue(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}}),Zo(["head","last"],function(t,e){var r="take"+(e?"Right":"");_.prototype[t]=function(){return this[r](1).value()[0]}}),Zo(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");_.prototype[t]=function(){return this.__filtered__?new _(this):this[r](1)}}),_.prototype.compact=function(){return this.filter(Er)},_.prototype.find=function(t){return this.filter(t).head()},_.prototype.findLast=function(t){return this.reverse().find(t)},_.prototype.invokeMap=it(function(e,r){return"function"==typeof e?new _(this):this.map(function(t){return U(t,e,r)})}),_.prototype.reject=function(t){return this.filter(qe(ue(t)))},_.prototype.slice=function(t,e){t=lr(t);var r=this;return r.__filtered__&&(0<t||e<0)?new _(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==Aa&&(r=(e=lr(e))<0?r.dropRight(-e):r.take(e-t)),r)},_.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_.prototype.toArray=function(){return this.take(4294967295)},C(_.prototype,function(u,t){var l=/^(?:filter|find|map|reject)|While$/.test(t),h=/^(?:head|last)$/.test(t),c=d[h?"take"+("last"==t?"Right":""):t],f=h||/^find/.test(t);c&&(d.prototype[t]=function(){function t(t){return t=c.apply(d,ra([t],r)),h&&a?t[0]:t}var e=this.__wrapped__,r=h?[1]:arguments,n=e instanceof _,i=r[0],o=n||Ki(e);o&&l&&"function"==typeof i&&1!=i.length&&(n=o=!1);var a=this.__chain__,s=!!this.__actions__.length;i=f&&!a,n=n&&!s;return!f&&o?(e=n?e:new _(this),(e=u.apply(e,r)).__actions__.push({func:Ue,args:[t],thisArg:Aa}),new p(e,a)):i&&n?u.apply(this,r):(e=this.thru(t),i?h?e.value()[0]:e.value():e)})}),Zo("pop push shift sort splice unshift".split(" "),function(t){var r=Vr[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);d.prototype[t]=function(){var e=arguments;if(!i||this.__chain__)return this[n](function(t){return r.apply(Ki(t)?t:[],e)});var t=this.value();return r.apply(Ki(t)?t:[],e)}}),C(_.prototype,function(t,e){var r=d[e];if(r){var n=r.name+"";(jn[n]||(jn[n]=[])).push({name:e,func:r})}}),jn[Vt(Aa,2).name]=[{name:"wrapper",func:Aa}],_.prototype.clone=function(){var t=new _(this.__wrapped__);return t.__actions__=Ct(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ct(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ct(this.__views__),t},_.prototype.reverse=function(){if(this.__filtered__){var t=new _(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},_.prototype.value=function(){var t,e=this.__wrapped__.value(),r=this.__dir__,n=Ki(e),i=r<0,o=n?e.length:0;t=o;for(var a=this.__views__,s=0,u=-1,l=a.length;++u<l;){var h=a[u],c=h.size;switch(h.type){case"drop":s+=c;break;case"dropRight":t-=c;break;case"take":t=Tn(t,s+c);break;case"takeRight":s=xn(s,t-c)}}if(a=(t={start:s,end:t}).start,t=(s=t.end)-a,a=i?s:a-1,u=(s=this.__iteratees__).length,l=0,h=Tn(t,this.__takeCount__),!n||!i&&o==t&&h==t)return vt(e,this.__actions__);n=[];t:for(;t--&&l<h;){for(i=-1,o=e[a+=r];++i<u;){c=(f=s[i]).type;var f=(0,f.iteratee)(o);if(2==c)o=f;else if(!f){if(1==c)continue t;break t}}n[l++]=o}return n},d.prototype.at=Mi,d.prototype.chain=function(){return Fe(this)},d.prototype.commit=function(){return new p(this.value(),this.__chain__)},d.prototype.next=function(){this.__values__===Aa&&(this.__values__=sr(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?Aa:this.__values__[this.__index__++]}},d.prototype.plant=function(t){for(var e,r=this;r instanceof o;){var n=Ae(r);n.__index__=0,n.__values__=Aa,e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},d.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof _?(this.__actions__.length&&(t=new _(this)),(t=t.reverse()).__actions__.push({func:Ue,args:[ke],thisArg:Aa}),new p(t,this.__chain__)):this.thru(ke)},d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=function(){return vt(this.__wrapped__,this.__actions__)},d.prototype.first=d.prototype.head,un&&(d.prototype[un]=function(){return this}),d}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(bs._=Os,define(function(){return Os})):l?((l.exports=Os)._=Os,u._=Os):bs._=Os}.call(this);var Vector2=function(t,e){this.x=t||0,this.y=e||0};Vector2.prototype={reset:function(t,e){return this.x=t,this.y=e,this},toString:function(t){t=t||3;var e=Math.pow(10,t);return"["+Math.round(this.x*e)/e+", "+Math.round(this.y*e)/e+"]"},clone:function(){return new Vector2(this.x,this.y)},copyTo:function(t){t.x=this.x,t.y=this.y},copyFrom:function(t){this.x=t.x,this.y=t.y},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},magnitudeSquared:function(){return this.x*this.x+this.y*this.y},normalise:function(){var t=this.magnitude();return this.x=this.x/t,this.y=this.y/t,this},reverse:function(){return this.x=-this.x,this.y=-this.y,this},plusEq:function(t){return this.x+=t.x,this.y+=t.y,this},plusNew:function(t){return new Vector2(this.x+t.x,this.y+t.y)},minusEq:function(t){return this.x-=t.x,this.y-=t.y,this},minusNew:function(t){return new Vector2(this.x-t.x,this.y-t.y)},multiplyEq:function(t){return this.x*=t,this.y*=t,this},multiplyNew:function(t){return this.clone().multiplyEq(t)},divideEq:function(t){return this.x/=t,this.y/=t,this},divideNew:function(t){return this.clone().divideEq(t)},dot:function(t){return this.x*t.x+this.y*t.y},angle:function(t){return Math.atan2(this.y,this.x)*(t?1:Vector2Const.TO_DEGREES)},rotate:function(t,e){var r=Math.cos(t*(e?1:Vector2Const.TO_RADIANS)),n=Math.sin(t*(e?1:Vector2Const.TO_RADIANS));return Vector2Const.temp.copyFrom(this),this.x=Vector2Const.temp.x*r-Vector2Const.temp.y*n,this.y=Vector2Const.temp.x*n+Vector2Const.temp.y*r,this},equals:function(t){return this.x==t.x&&this.y==t.x},isCloseTo:function(t,e){return!!this.equals(t)||(Vector2Const.temp.copyFrom(this),Vector2Const.temp.minusEq(t),Vector2Const.temp.magnitudeSquared()<e*e)},rotateAroundPoint:function(t,e,r){Vector2Const.temp.copyFrom(this),Vector2Const.temp.minusEq(t),Vector2Const.temp.rotate(e,r),Vector2Const.temp.plusEq(t),this.copyFrom(Vector2Const.temp)},isMagLessThan:function(t){return this.magnitudeSquared()<t*t},isMagGreaterThan:function(t){return this.magnitudeSquared()>t*t}},Vector2Const={TO_DEGREES:180/Math.PI,TO_RADIANS:Math.PI/180,temp:new Vector2};var Particle=function(t,e,r,n,i,o,a,s,u,l){PIXI.Container.call(this),this.image=CC.Utility.pixiAtlasSprite(t),this.addChild(this.image),0<a&&(this.scale.x=this.scale.y=1.5),this.x=e,this.y=r,this.vel=new Vector2(n,i),this.drag=o,this.shrink=a,this.gravity=s,this.fade=u,this.spin=l};Particle.prototype=Object.create(PIXI.Container.prototype),(Particle.prototype.constructor=Particle).prototype.update=function(){this.vel.x*=this.drag,this.vel.y*=this.drag,this.vel.y+=this.gravity,this.x+=this.vel.x,this.y+=this.vel.y,this.scale.x*=this.shrink,this.scale.y*=this.shrink,this.alpha*=this.fade,this.alpha<0&&(this.alpha=0),this.rotation+=this.spin},function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Promise=t()}}(function(){return function o(a,s,u){function l(r,t){if(!s[r]){if(!a[r]){var e="function"==typeof _dereq_&&_dereq_;if(!t&&e)return e(r,!0);if(h)return h(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[r]={exports:{}};a[r][0].call(i.exports,function(t){var e=a[r][1][t];return l(e||t)},i,i.exports,o,a,s,u)}return s[r].exports}for(var h="function"==typeof _dereq_&&_dereq_,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,r){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,e,r){"use strict";function n(){this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=u}function i(t,e,r){this._lateQueue.push(t,e,r),this._queueTick()}function o(t,e,r){this._normalQueue.push(t,e,r),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var s;try{throw new Error}catch(t){s=t}var u=t("./schedule"),l=t("./queue"),h=t("./util");n.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},n.prototype.disableTrampolineIfNecessary=function(){h.hasDevTools&&(this._trampolineEnabled=!1)},n.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},n.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},n.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},h.hasDevTools?(n.prototype.invokeLater=function(t,e,r){this._trampolineEnabled?i.call(this,t,e,r):this._schedule(function(){setTimeout(function(){t.call(e,r)},100)})},n.prototype.invoke=function(t,e,r){this._trampolineEnabled?o.call(this,t,e,r):this._schedule(function(){t.call(e,r)})},n.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(n.prototype.invokeLater=i,n.prototype.invoke=o,n.prototype.settlePromises=a),n.prototype.invokeFirst=function(t,e,r){this._normalQueue.unshift(t,e,r),this._queueTick()},n.prototype._drainQueue=function(t){for(;0<t.length();){var e=t.shift();if("function"==typeof e){var r=t.shift(),n=t.shift();e.call(r,n)}else e._settlePromises()}},n.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},n.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},n.prototype._reset=function(){this._isTickUsed=!1},e.exports=n,e.exports.firstLineError=s},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,r){"use strict";e.exports=function(o,a,s,u){function r(t,e){this._reject(e)}function l(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(r,r,null,this,t)}function h(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)}function c(t,e){e.promiseRejectionQueued||this._reject(t)}var f=!1;o.prototype.bind=function(t){f||(f=!0,o.prototype._propagateFrom=u.propagateFromFunction(),o.prototype._boundValue=u.boundValueFunction());var e=s(t),r=new o(a);r._propagateFrom(this,1);var n=this._target();if(r._setBoundTo(e),e instanceof o){var i={promiseRejectionQueued:!1,promise:r,target:n,bindingPromise:e};n._then(a,l,void 0,r,i),e._then(h,c,void 0,r,i),r._setOnCancel(e)}else r._resolveCallback(n);return r},o.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},o.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},o.bind=function(t,e){return o.resolve(e).bind(t)}}},{}],4:[function(t,e,r){"use strict";var n;"undefined"!=typeof Promise&&(n=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=n)}catch(t){}return i},e.exports=i},{"./promise":22}],5:[function(t,e,r){"use strict";var n=Object.create;if(n){var i=n(null),o=n(null);i[" size"]=o[" size"]=0}e.exports=function(i){function r(t){return function(t,e){var r;if(null!=t&&(r=t[e]),"function"==typeof r)return r;var n="Object "+a.classString(t)+" has no method '"+a.toString(e)+"'";throw new i.TypeError(n)}(t,this.pop()).apply(t,this)}function n(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var a=t("./util"),s=a.canEvaluate;a.isIdentifier,i.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},i.prototype.get=function(t){var e;if("number"==typeof t)e=o;else if(s){var r=(void 0)(t);e=null!==r?r:n}else e=n;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(u,t,e){"use strict";t.exports=function(t,e,r,n){var i=u("./util"),o=i.tryCatch,a=i.errorObj,s=t._async;t.prototype.break=t.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t.isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var r=t._cancellationParent;if(null==r||!r.isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),e=t,t=r}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this.isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(t,e){if(i.isArray(t))for(var r=0;r<t.length;++r)this._doInvokeOnCancel(t[r],e);else if(void 0!==t)if("function"==typeof t){if(!e){var n=o(t).call(this._boundValue());n===a&&(this._attachExtraTrace(n.e),s.throwLater(n.e))}}else t._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,t)},t.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,r){"use strict";e.exports=function(c){var f=t("./util"),d=t("./es5").keys,p=f.tryCatch,_=f.errorObj;return function(u,l,h){return function(t){var e=h._boundValue();t:for(var r=0;r<u.length;++r){var n=u[r];if(n===Error||null!=n&&n.prototype instanceof Error){if(t instanceof n)return p(l).call(e,t)}else if("function"==typeof n){var i=p(n).call(e,t);if(i===_)return i;if(i)return p(l).call(e,t)}else if(f.isObject(t)){for(var o=d(n),a=0;a<o.length;++a){var s=o[a];if(n[s]!=t[s])continue t}return p(l).call(e,t)}}return c}}}},{"./es5":13,"./util":36}],8:[function(t,e,r){"use strict";e.exports=function(o){function a(){this._trace=new a.CapturedTrace(s())}function s(){var t=r.length-1;return 0<=t?r[t]:void 0}var u=!1,r=[];return o.prototype._promiseCreated=function(){},o.prototype._pushContext=function(){},o.prototype._popContext=function(){return null},o._peekContext=o.prototype._peekContext=function(){},a.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,r.push(this._trace))},a.prototype._popContext=function(){if(void 0===this._trace)return null;var t=r.pop(),e=t._promiseCreated;return t._promiseCreated=null,e},a.CapturedTrace=null,a.create=function(){return u?new a:void 0},a.deactivateLongStackTraces=function(){},a.activateLongStackTraces=function(){var t=o.prototype._pushContext,e=o.prototype._popContext,r=o._peekContext,n=o.prototype._peekContext,i=o.prototype._promiseCreated;a.deactivateLongStackTraces=function(){o.prototype._pushContext=t,o.prototype._popContext=e,o._peekContext=r,o.prototype._peekContext=n,o.prototype._promiseCreated=i,u=!1},u=!0,o.prototype._pushContext=a.prototype._pushContext,o.prototype._popContext=a.prototype._popContext,o._peekContext=o.prototype._peekContext=s,o.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},a}},{}],9:[function(z,t,e){"use strict";t.exports=function(a,r){function t(t,e){return{promise:e}}function n(){return!1}function i(t,e,r){var n=this;try{t(e,r,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+A.toString(t));n._attachCancellationCallback(t)})}catch(t){return t}}function o(t){if(!this.isCancellable())return this;var e=this._onCancel();void 0!==e?A.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function s(){return this._onCancelField}function u(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function h(t,e){if(0!=(1&e)){var r=(this._cancellationParent=t)._branchesRemainingToCancel;void 0===r&&(r=0),t._branchesRemainingToCancel=r+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function e(){var t=this._boundTo;return void 0!==t&&t instanceof a?t.isFulfilled()?t.value():void 0:t}function c(){this._trace=new x(this._peekContext())}function f(t,e){if(C(t)){var r=this._trace;if(void 0!==r&&e&&(r=r._parent),void 0!==r)r.attachExtraTrace(t);else if(!t.__stackCleaned__){var n=_(t);A.notEnumerableProp(t,"stack",n.message+"\n"+n.stack.join("\n")),A.notEnumerableProp(t,"__stackCleaned__",!0)}}}function d(t,e,r){if(q.warnings){var n,i=new M(t);if(e)r._attachExtraTrace(i);else if(q.longStackTraces&&(n=a._peekContext()))n.attachExtraTrace(i);else{var o=_(i);i.stack=o.message+"\n"+o.stack.join("\n")}X("warning",i)||v(i,"",!0)}}function p(t){for(var e=[],r=0;r<t.length;++r){var n=t[r],i="    (No stack trace)"===n||O.test(n),o=i&&H(n);i&&!o&&(D&&" "!==n.charAt(0)&&(n="    "+n),e.push(n))}return e}function _(t){var e=t.stack;return{message:t.toString(),stack:p(e="string"==typeof e&&0<e.length?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<e.length;++r){var n=e[r];if("    (No stack trace)"===n||O.test(n))break}return 0<r&&(e=e.slice(r)),e}(t):["    (No stack trace)"])}}function v(t,e,r){if("undefined"!=typeof console){var n;if(A.isObject(t)){var i=t.stack;n=e+I(i,t)}else n=e+String(t);"function"==typeof E?E(n,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}}function g(t,e,r,n){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(n):e(r,n))}catch(t){P.throwLater(t)}"unhandledRejection"===t?X(t,r,n)||i||v(r,"Unhandled rejection "):X(t,n)}function m(t){var e,r;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():A.toString(t);if(/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+((r=e).length<41?r:r.substr(0,38)+"...")+">, no stack trace)"}function y(){return"function"==typeof G}function b(t){var e=t.match(Y);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function x(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);G(this,x),32<e&&this.uncycle()}var T,w,E,S=a._getDomain,P=a._async,M=z("./errors").Warning,A=z("./util"),C=A.canAttachTrace,R=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,O=null,I=null,D=!1,j=!(0==A.env("BLUEBIRD_DEBUG")||!A.env("BLUEBIRD_DEBUG")&&"development"!==A.env("NODE_ENV")),k=!(0==A.env("BLUEBIRD_WARNINGS")||!j&&!A.env("BLUEBIRD_WARNINGS")),L=!(0==A.env("BLUEBIRD_LONG_STACK_TRACES")||!j&&!A.env("BLUEBIRD_LONG_STACK_TRACES")),N=0!=A.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(k||!!A.env("BLUEBIRD_W_FORGOTTEN_RETURN"));a.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},a.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),P.invokeLater(this._notifyUnhandledRejection,this,void 0))},a.prototype._notifyUnhandledRejectionIsHandled=function(){g("rejectionHandled",T,void 0,this)},a.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},a.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),g("unhandledRejection",w,t,this)}},a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},a.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},a.prototype._isUnhandledRejectionNotified=function(){return 0<(262144&this._bitField)},a.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},a.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},a.prototype._isRejectionUnhandled=function(){return 0<(1048576&this._bitField)},a.prototype._warn=function(t,e,r){return d(t,e,r||this)},a.onPossiblyUnhandledRejection=function(t){var e=S();w="function"==typeof t?null===e?t:e.bind(t):void 0},a.onUnhandledRejectionHandled=function(t){var e=S();T="function"==typeof t?null===e?t:e.bind(t):void 0};var F=function(){};a.longStackTraces=function(){if(P.haveItemsQueued()&&!q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!q.longStackTraces&&y()){var t=a.prototype._captureStackTrace,e=a.prototype._attachExtraTrace;q.longStackTraces=!0,F=function(){if(P.haveItemsQueued()&&!q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");a.prototype._captureStackTrace=t,a.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),P.enableTrampoline(),q.longStackTraces=!1},a.prototype._captureStackTrace=c,a.prototype._attachExtraTrace=f,r.activateLongStackTraces(),P.disableTrampolineIfNecessary()}},a.hasLongStackTraces=function(){return q.longStackTraces&&y()};var U=function(){try{var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),A.global.dispatchEvent(t),function(t,e){var r=document.createEvent("CustomEvent");return r.initCustomEvent(t.toLowerCase(),!1,!0,e),!A.global.dispatchEvent(r)}}catch(t){}return function(){return!1}}(),B=A.isNode?function(){return process.emit.apply(process,arguments)}:A.global?function(t){var e="on"+t.toLowerCase(),r=A.global[e];return!!r&&(r.apply(A.global,[].slice.call(arguments,1)),!0)}:function(){return!1},V={promiseCreated:t,promiseFulfilled:t,promiseRejected:t,promiseResolved:t,promiseCancelled:t,promiseChained:function(t,e,r){return{promise:e,child:r}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,r){return{reason:e,promise:r}},rejectionHandled:t},X=function(t){var e=!1;try{e=B.apply(null,arguments)}catch(t){P.throwLater(t),e=!0}var r=!1;try{r=U(t,V[t].apply(null,arguments))}catch(t){P.throwLater(t),r=!0}return r||e};a.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?a.longStackTraces():!t.longStackTraces&&a.hasLongStackTraces()&&F()),"warnings"in t){var e=t.warnings;q.warnings=!!e,N=q.warnings,A.isObject(e)&&"wForgottenReturn"in e&&(N=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!q.cancellation){if(P.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");a.prototype._clearCancellationData=l,a.prototype._propagateFrom=h,a.prototype._onCancel=s,a.prototype._setOnCancel=u,a.prototype._attachCancellationCallback=o,a.prototype._execute=i,W=h,q.cancellation=!0}"monitoring"in t&&(t.monitoring&&!q.monitoring?(q.monitoring=!0,a.prototype._fireEvent=X):!t.monitoring&&q.monitoring&&(q.monitoring=!1,a.prototype._fireEvent=n))},a.prototype._fireEvent=n,a.prototype._execute=function(t,e,r){try{t(e,r)}catch(t){return t}},a.prototype._onCancel=function(){},a.prototype._setOnCancel=function(t){},a.prototype._attachCancellationCallback=function(t){},a.prototype._captureStackTrace=function(){},a.prototype._attachExtraTrace=function(){},a.prototype._clearCancellationData=function(){},a.prototype._propagateFrom=function(t,e){};var W=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)},H=function(){return!1},Y=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;A.inherits(x,Error),(r.CapturedTrace=x).prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],r={},n=0,i=this;void 0!==i;++n)e.push(i),i=i._parent;for(n=(t=this._length=n)-1;0<=n;--n){var o=e[n].stack;void 0===r[o]&&(r[o]=n)}for(n=0;n<t;++n){var a=r[e[n].stack];if(void 0!==a&&a!==n){0<a&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[n]._parent=void 0,e[n]._length=1;var s=0<n?e[n-1]:this;a<t-1?(s._parent=e[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var u=s._length+1,l=n-2;0<=l;--l)e[l]._length=u,u++;return}}}},x.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=_(t),r=e.message,n=[e.stack],i=this;void 0!==i;)n.push(p(i.stack.split("\n"))),i=i._parent;(function(t){for(var e=t[0],r=1;r<t.length;++r){for(var n=t[r],i=e.length-1,o=e[i],a=-1,s=n.length-1;0<=s;--s)if(n[s]===o){a=s;break}for(s=a;0<=s;--s){var u=n[s];if(e[i]!==u)break;e.pop(),i--}e=n}})(n),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(n),A.notEnumerableProp(t,"stack",function(t,e){for(var r=0;r<e.length-1;++r)e[r].push("From previous event:"),e[r]=e[r].join("\n");return r<e.length&&(e[r]=e[r].join("\n")),t+"\n"+e.join("\n")}(r,n)),A.notEnumerableProp(t,"__stackCleaned__",!0)}};var G=function(){function t(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():m(e)}var e=/^\s*at\s*/;if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,O=e,I=t;var r=Error.captureStackTrace;return H=function(t){return R.test(t)},function(t,e){Error.stackTraceLimit+=6,r(t,e),Error.stackTraceLimit-=6}}var n,i=new Error;if("string"==typeof i.stack&&0<=i.stack.split("\n")[0].indexOf("stackDetection@"))return O=/@/,I=t,D=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){n="stack"in t}return"stack"in i||!n||"number"!=typeof Error.stackTraceLimit?(I=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?m(e):e.toString()},null):(O=e,I=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(E=function(t){console.warn(t)},A.isNode&&process.stderr.isTTY?E=function(t,e){var r=e?"[33m":"[31m";console.warn(r+t+"[0m\n")}:A.isNode||"string"!=typeof(new Error).stack||(E=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var q={warnings:k,longStackTraces:!1,cancellation:!1,monitoring:!1};return L&&a.longStackTraces(),{longStackTraces:function(){return q.longStackTraces},warnings:function(){return q.warnings},cancellation:function(){return q.cancellation},monitoring:function(){return q.monitoring},propagateFromFunction:function(){return W},boundValueFunction:function(){return e},checkForgottenReturns:function(t,e,r,n,i){if(void 0===t&&null!==e&&N){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&n._bitField))return;r&&(r+=" ");var o="a promise was created in a "+r+"handler but was not returned from it";n._warn(o,!0,e)}},setBounds:function(t,e){if(y()){for(var r,n,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){if(l=b(i[u])){r=l.fileName,a=l.line;break}}for(u=0;u<o.length;++u){var l;if(l=b(o[u])){n=l.fileName,s=l.line;break}}a<0||s<0||!r||!n||r!==n||s<=a||(H=function(t){if(R.test(t))return!0;var e=b(t);return!!(e&&e.fileName===r&&a<=e.line&&e.line<=s)})}},warn:d,deprecated:function(t,e){var r=t+" is deprecated and will be removed in a future version.";return e&&(r+=" Use "+e+" instead."),d(r)},CapturedTrace:x,fireDomEvent:U,fireGlobalEvent:B}}},{"./errors":12,"./util":36}],10:[function(t,e,r){"use strict";e.exports=function(r){function n(){return this.value}function i(){throw this.reason}r.prototype.return=r.prototype.thenReturn=function(t){return t instanceof r&&t.suppressUnhandledRejections(),this._then(n,void 0,void 0,{value:t},void 0)},r.prototype.throw=r.prototype.thenThrow=function(t){return this._then(i,void 0,void 0,{reason:t},void 0)},r.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,i,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,function(){throw e})},r.prototype.catchReturn=function(t){if(arguments.length<=1)return t instanceof r&&t.suppressUnhandledRejections(),this._then(void 0,n,void 0,{value:t},void 0);var e=arguments[1];e instanceof r&&e.suppressUnhandledRejections();return this.caught(t,function(){return e})}}},{}],11:[function(t,e,r){"use strict";e.exports=function(t,r){function n(){return e(this)}function i(t,e){return o(t,e,r,r)}var o=t.reduce,e=t.all;t.prototype.each=function(t){return this.mapSeries(t)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return o(this,t,r,r)},t.each=function(t,e){return i(t,e)._then(n,void 0,void 0,t,void 0)},t.mapSeries=i}},{}],12:[function(t,e,r){"use strict";function n(e,r){function n(t){return this instanceof n?(c(this,"message","string"==typeof t?t:r),c(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(t)}return h(n,Error),n}function i(t){return this instanceof i?(c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,a,s=t("./es5"),u=s.freeze,l=t("./util"),h=l.inherits,c=l.notEnumerableProp,f=n("Warning","warning"),d=n("CancellationError","cancellation error"),p=n("TimeoutError","timeout error"),_=n("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(t){o=n("TypeError","type error"),a=n("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<v.length;++g)"function"==typeof Array.prototype[v[g]]&&(_.prototype[v[g]]=Array.prototype[v[g]]);s.defineProperty(_.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),_.prototype.isOperational=!0;var m=0;_.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];e+=(n=i.join("\n"))+"\n"}return m--,e},h(i,Error);var y=Error.__BluebirdErrorTypes__;y||(y=u({CancellationError:d,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:_}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,e,r){var n=function(){"use strict";return void 0===this}();if(n)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!(r&&!r.writable&&!r.set)}};else{function i(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e}var o={}.hasOwnProperty,a={}.toString,s={}.constructor.prototype;e.exports={isArray:function(t){try{return"[object Array]"===a.call(t)}catch(t){return!1}},keys:i,names:i,defineProperty:function(t,e,r){return t[e]=r.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return s}},isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,r){"use strict";e.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,e){return i(this,t,e,n)},t.filter=function(t,e,r){return i(t,e,r,n)}}},{}],15:[function(r,t,e){"use strict";t.exports=function(a,s){function i(t,e,r){this.promise=t,this.type=e,this.handler=r,this.called=!1,this.cancelPromise=null}function u(t){this.finallyHandler=t}function l(t,e){return null!=t.cancelPromise&&(1<arguments.length?t.cancelPromise._reject(e):t.cancelPromise._cancel(),!(t.cancelPromise=null))}function h(){return e.call(this,this.promise._target()._settledValue())}function c(t){return l(this,t)?void 0:(d.e=t,d)}function e(t){var e=this.promise,r=this.handler;if(!this.called){this.called=!0;var n=this.isFinallyHandler()?r.call(e._boundValue()):r.call(e._boundValue(),t);if(void 0!==n){e._setReturnedNonUndefined();var i=s(n,e);if(i instanceof a){if(null!=this.cancelPromise){if(i.isCancelled()){var o=new f("late cancellation observer");return e._attachExtraTrace(o),d.e=o,d}i.isPending()&&i._attachCancellationCallback(new u(this))}return i._then(h,c,void 0,this,void 0)}}}return e.isRejected()?(l(this),d.e=t,d):(l(this),t)}var t=r("./util"),f=a.CancellationError,d=t.errorObj;return i.prototype.isFinallyHandler=function(){return 0===this.type},u.prototype._resultCancelled=function(){l(this.finallyHandler)},a.prototype._passThrough=function(t,e,r,n){return"function"!=typeof t?this.then():this._then(r,n,void 0,new i(this,e,t),void 0)},a.prototype.lastly=a.prototype.finally=function(t){return this._passThrough(t,0,e,e)},a.prototype.tap=function(t){return this._passThrough(t,1,e)},i}},{"./util":36}],16:[function(r,t,e){"use strict";t.exports=function(s,n,o,u,t,i){function l(t,e,r,n){var i=this._promise=new s(o);i._captureStackTrace(),i._setOnCancel(this),this._stack=n,this._generatorFunction=t,this._receiver=e,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(a):a,this._yieldedPromise=null}var h=r("./errors").TypeError,e=r("./util"),c=e.errorObj,f=e.tryCatch,a=[];e.inherits(l,t),l.prototype._isResolved=function(){return null===this._promise},l.prototype._cleanup=function(){this._promise=this._generator=null},l.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var e=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=e,this._promise._attachExtraTrace(e),this._promise._pushContext(),t=f(this._generator.throw).call(this._generator,e),this._promise._popContext(),t===c&&t.e===e&&(t=null)}var r=this._promise;this._cleanup(),t===c?r._rejectCallback(t.e,!1):r.cancel()}},l.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=f(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},l.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=f(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},l.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var t=this._yieldedPromise;this._yieldedPromise=null,this._promiseCancelled(),t.cancel()}},l.prototype.promise=function(){return this._promise},l.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},l.prototype._continue=function(t){var e=this._promise;if(t===c)return this._cleanup(),e._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),e._resolveCallback(r);var n=u(r,this._promise);if(n instanceof s||null!==(n=function(t,e,r){for(var n=0;n<e.length;++n){r._pushContext();var i=f(e[n])(t);if(r._popContext(),i===c){r._pushContext();var o=s.reject(c.e);return r._popContext(),o}var a=u(i,r);if(a instanceof s)return a}return null}(n,this._yieldHandlers,this._promise))){var i=(n=n._target())._bitField;0==(50397184&i)?(this._yieldedPromise=n)._proxy(this,null):0!=(33554432&i)?this._promiseFulfilled(n._value()):0!=(16777216&i)?this._promiseRejected(n._reason()):this._promiseCancelled()}else this._promiseRejected(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},s.coroutine=function(n,t){if("function"!=typeof n)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=Object(t).yieldHandler,o=l,a=(new Error).stack;return function(){var t=n.apply(this,arguments),e=new o(void 0,void 0,i,a),r=e.promise();return e._generator=t,e._promiseFulfilled(void 0),r}},s.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new h("expecting a function but got "+e.classString(t));a.push(t)},s.spawn=function(t){if(i.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var e=new l(t,this),r=e.promise();return e._run(s.spawn),r}}},{"./errors":12,"./util":36}],17:[function(o,t,e){"use strict";t.exports=function(t,i,e,r){var n=o("./util");n.canEvaluate,n.tryCatch,n.errorObj,t.join=function(){var t,e=arguments.length-1;0<e&&"function"==typeof arguments[e]&&(t=arguments[e]);var r=[].slice.call(arguments);t&&r.pop();var n=new i(r).promise();return void 0!==t?n.spread(t):n}}},{"./util":36}],18:[function(e,t,r){"use strict";t.exports=function(d,t,o,p,a,_){function s(t,e,r,n){this.constructor$(t),this._promise._captureStackTrace();var i=u();this._callback=null===i?e:i.bind(e),this._preservedValues=n===a?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=1<=r?[]:h,this._init$(void 0,-2)}function i(t,e,r,n){if("function"!=typeof e)return o("expecting a function but got "+l.classString(e));var i="object"==typeof r&&null!==r?r.concurrency:0;return new s(t,e,i="number"==typeof i&&isFinite(i)&&1<=i?i:0,n).promise()}var u=d._getDomain,l=e("./util"),v=l.tryCatch,g=l.errorObj,h=[];l.inherits(s,t),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,e){var r=this._values,n=this.length(),i=this._preservedValues,o=this._limit;if(e<0){if(r[e=-1*e-1]=t,1<=o&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(1<=o&&this._inFlight>=o)return r[e]=t,this._queue.push(e),!1;null!==i&&(i[e]=t);var a=this._promise,s=this._callback,u=a._boundValue();a._pushContext();var l=v(s).call(u,t,e,n),h=a._popContext();if(_.checkForgottenReturns(l,h,null!==i?"Promise.filter":"Promise.map",a),l===g)return this._reject(l.e),!0;var c=p(l,this._promise);if(c instanceof d){var f=(c=c._target())._bitField;if(0==(50397184&f))return 1<=o&&this._inFlight++,(r[e]=c)._proxy(this,-1*(e+1)),!1;if(0==(33554432&f))return 0!=(16777216&f)?this._reject(c._reason()):this._cancel(),!0;l=c._value()}r[e]=l}return n<=++this._totalResolved&&(null!==i?this._filter(r,i):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,r=this._values;0<t.length&&this._inFlight<e;){if(this._isResolved())return;var n=t.pop();this._promiseFulfilled(r[n],n)}},s.prototype._filter=function(t,e){for(var r=e.length,n=new Array(r),i=0,o=0;o<r;++o)t[o]&&(n[i++]=e[o]);n.length=i,this._resolve(n)},s.prototype.preservedValues=function(){return this._preservedValues},d.prototype.map=function(t,e){return i(this,t,e,null)},d.map=function(t,e,r,n){return i(t,e,r,n)}}},{"./util":36}],19:[function(e,t,r){"use strict";t.exports=function(a,s,t,u,l){var h=e("./util"),c=h.tryCatch;a.method=function(n){if("function"!=typeof n)throw new a.TypeError("expecting a function but got "+h.classString(n));return function(){var t=new a(s);t._captureStackTrace(),t._pushContext();var e=c(n).apply(this,arguments),r=t._popContext();return l.checkForgottenReturns(e,r,"Promise.method",t),t._resolveFromSyncValue(e),t}},a.attempt=a.try=function(t){if("function"!=typeof t)return u("expecting a function but got "+h.classString(t));var e,r=new a(s);if(r._captureStackTrace(),r._pushContext(),1<arguments.length){l.deprecated("calling Promise.try with more than 1 argument");var n=arguments[1],i=arguments[2];e=h.isArray(n)?c(t).apply(i,n):c(t).call(i,n)}else e=c(t)();var o=r._popContext();return l.checkForgottenReturns(e,o,"Promise.try",r),r._resolveFromSyncValue(e),r},a.prototype._resolveFromSyncValue=function(t){t===h.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,r){"use strict";function a(t){var e,r;if((r=t)instanceof Error&&h.getPrototypeOf(r)===Error.prototype){(e=new l(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=h.keys(t),i=0;i<n.length;++i){var o=n[i];c.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}var s=t("./util"),u=s.maybeWrapAsError,l=t("./errors").OperationalError,h=t("./es5"),c=/^(?:name|message|stack|cause)$/;e.exports=function(i,o){return function(t,e){if(null!==i){if(t){var r=a(u(t));i._attachExtraTrace(r),i._reject(r)}else if(o){var n=[].slice.call(arguments,1);i._fulfill(n)}else i._fulfill(e);i=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,r){"use strict";t.exports=function(t){function n(t,e){if(!a.isArray(t))return i.call(this,t,e);var r=u(e).apply(this._boundValue(),[null].concat(t));r===l&&s.throwLater(r.e)}function i(t,e){var r=this._boundValue(),n=void 0===t?u(e).call(r,null):u(e).call(r,null,t);n===l&&s.throwLater(n.e)}function o(t,e){if(!t){var r=new Error(t+"");r.cause=t,t=r}var n=u(e).call(this._boundValue(),t);n===l&&s.throwLater(n.e)}var a=e("./util"),s=t._async,u=a.tryCatch,l=a.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(t,e){if("function"==typeof t){var r=i;void 0!==e&&Object(e).spread&&(r=n),this._then(r,o,void 0,this,t)}return this}}},{"./util":36}],22:[function(R,t,e){"use strict";t.exports=function(){function s(){}function d(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==g&&(function(t,e){if("function"!=typeof e)throw new f("expecting a function but got "+c.classString(e));if(t.constructor!==d)throw new f("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function t(t){this.promise._resolveCallback(t)}function e(t){this.promise._rejectCallback(t,!1)}function r(t){var e=new d(g);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}function u(){return new f("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")}function l(){return new d.PromiseInspection(this._target())}function a(t){return d.reject(new f(t))}var p,h={},c=R("./util");p=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(d,"_getDomain",p);var n=R("./es5"),i=R("./async"),_=new i;n.defineProperty(d,"_async",{value:_});var o=R("./errors"),f=d.TypeError=o.TypeError;d.RangeError=o.RangeError;var v=d.CancellationError=o.CancellationError;d.TimeoutError=o.TimeoutError,d.OperationalError=o.OperationalError,d.RejectionError=o.OperationalError,d.AggregateError=o.AggregateError;var g=function(){},m={},y={},b=R("./thenables")(d,g),x=R("./promise_array")(d,g,b,a,s),T=R("./context")(d),w=T.create,E=R("./debuggability")(d,T),S=(E.CapturedTrace,R("./finally")(d,b)),P=R("./catch_filter")(y),M=R("./nodeback"),A=c.errorObj,C=c.tryCatch;return d.prototype.toString=function(){return"[object Promise]"},d.prototype.caught=d.prototype.catch=function(t){var e=arguments.length;if(1<e){var r,n=new Array(e-1),i=0;for(r=0;r<e-1;++r){var o=arguments[r];if(!c.isObject(o))return a("expecting an object but got "+c.classString(o));n[i++]=o}return n.length=i,t=arguments[r],this.then(void 0,P(n,t,this))}return this.then(void 0,t)},d.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},d.prototype.then=function(t,e){if(E.warnings()&&0<arguments.length&&"function"!=typeof t&&"function"!=typeof e){var r=".then() only accepts functions but was passed: "+c.classString(t);1<arguments.length&&(r+=", "+c.classString(e)),this._warn(r)}return this._then(t,e,void 0,void 0,void 0)},d.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},d.prototype.spread=function(t){return"function"!=typeof t?a("expecting a function but got "+c.classString(t)):this.all()._then(t,void 0,void 0,m,void 0)},d.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},d.prototype.all=function(){return 0<arguments.length&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},d.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},d.is=function(t){return t instanceof d},d.fromNode=d.fromCallback=function(t){var e=new d(g);e._captureStackTrace();var r=1<arguments.length&&!!Object(arguments[1]).multiArgs,n=C(t)(M(e,r));return n===A&&e._rejectCallback(n.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},d.all=function(t){return new x(t).promise()},d.resolve=d.fulfilled=d.cast=function(t){var e=b(t);return e instanceof d||((e=new d(g))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},d.reject=d.rejected=function(t){var e=new d(g);return e._captureStackTrace(),e._rejectCallback(t,!0),e},d.setScheduler=function(t){if("function"!=typeof t)throw new f("expecting a function but got "+c.classString(t));var e=_._schedule;return _._schedule=t,e},d.prototype._then=function(t,e,r,n,i){var o=void 0!==i,a=o?i:new d(g),s=this._target(),u=s._bitField;o||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&u)?this._boundValue():s===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var l=p();if(0!=(50397184&u)){var h,c,f=s._settlePromiseCtx;0!=(33554432&u)?(c=s._rejectionHandler0,h=t):0!=(16777216&u)?(c=s._fulfillmentHandler0,h=e,s._unsetRejectionIsUnhandled()):(f=s._settlePromiseLateCancellationObserver,c=new v("late cancellation observer"),s._attachExtraTrace(c),h=e),_.invoke(f,s,{handler:null===l?h:"function"==typeof h&&l.bind(h),promise:a,receiver:n,value:c})}else s._addCallbacks(t,e,a,n,l);return a},d.prototype._length=function(){return 65535&this._bitField},d.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},d.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},d.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},d.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},d.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},d.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},d.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},d.prototype._isFinal=function(){return 0<(4194304&this._bitField)},d.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},d.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},d.prototype._setAsyncGuaranteed=function(){this._bitField=134217728|this._bitField},d.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];return e===h?void 0:void 0===e&&this._isBound()?this._boundValue():e},d.prototype._promiseAt=function(t){return this[4*t-4+2]},d.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},d.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},d.prototype._boundValue=function(){},d.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),r=t._rejectionHandler0,n=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,r,n,i,null)},d.prototype._migrateCallbackAt=function(t,e){var r=t._fulfillmentHandlerAt(e),n=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(r,n,i,o,null)},d.prototype._addCallbacks=function(t,e,r,n,i){var o=this._length();if(65531<=o&&(o=0,this._setLength(0)),0===o)this._promise0=r,this._receiver0=n,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:i.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:i.bind(e));else{var a=4*o-4;this[2+a]=r,this[3+a]=n,"function"==typeof t&&(this[0+a]=null===i?t:i.bind(t)),"function"==typeof e&&(this[1+a]=null===i?e:i.bind(e))}return this._setLength(o+1),o},d.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},d.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(u(),!1);var r=b(t,this);if(!(r instanceof d))return this._fulfill(t);e&&this._propagateFrom(r,2);var n=r._target();if(n===this)return void this._reject(u());var i=n._bitField;if(0==(50397184&i)){var o=this._length();0<o&&n._migrateCallback0(this);for(var a=1;a<o;++a)n._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&i))this._fulfill(n._value());else if(0!=(16777216&i))this._reject(n._reason());else{var s=new v("late cancellation observer");n._attachExtraTrace(s),this._reject(s)}}},d.prototype._rejectCallback=function(t,e,r){var n=c.ensureErrorObject(t),i=n===t;if(!i&&!r&&E.warnings()){var o="a promise was rejected with a non-error: "+c.classString(t);this._warn(o,!0)}this._attachExtraTrace(n,!!e&&i),this._reject(t)},d.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var r=!0,n=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,r)});r=!1,this._popContext(),void 0!==n&&e._rejectCallback(n,!0)},d.prototype._settlePromiseFromHandler=function(t,e,r,n){var i=n._bitField;if(0==(65536&i)){var o;n._pushContext(),e===m?r&&"number"==typeof r.length?o=C(t).apply(this._boundValue(),r):(o=A).e=new f("cannot .spread() a non-array: "+c.classString(r)):o=C(t).call(e,r);var a=n._popContext();0==(65536&(i=n._bitField))&&(o===y?n._reject(r):o===A?n._rejectCallback(o.e,!1):(E.checkForgottenReturns(o,a,"",n,this),n._resolveCallback(o)))}},d.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},d.prototype._followee=function(){return this._rejectionHandler0},d.prototype._setFollowee=function(t){this._rejectionHandler0=t},d.prototype._settlePromise=function(t,e,r,n){var i=t instanceof d,o=this._bitField,a=0!=(134217728&o);0!=(65536&o)?(i&&t._invokeInternalOnCancel(),r instanceof S&&r.isFinallyHandler()?(r.cancelPromise=t,C(e).call(r,n)===A&&t._reject(A.e)):e===l?t._fulfill(l.call(r)):r instanceof s?r._promiseCancelled(t):i||t instanceof x?t._cancel():r.cancel()):"function"==typeof e?i?(a&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,r,n,t)):e.call(r,n,t):r instanceof s?r._isResolved()||(0!=(33554432&o)?r._promiseFulfilled(n,t):r._promiseRejected(n,t)):i&&(a&&t._setAsyncGuaranteed(),0!=(33554432&o)?t._fulfill(n):t._reject(n))},d.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,r=t.promise,n=t.receiver,i=t.value;"function"==typeof e?r instanceof d?this._settlePromiseFromHandler(e,n,i,r):e.call(n,i,r):r instanceof d&&r._reject(i)},d.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},d.prototype._settlePromise0=function(t,e,r){var n=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,t,i,e)},d.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[2+e]=this[3+e]=this[0+e]=this[1+e]=void 0},d.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var r=u();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=t,0<(65535&e)&&(0!=(134217728&e)?this._settlePromises():_.settlePromises(this))}},d.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?_.fatalError(t,c.isNode):void(0<(65535&e)?_.settlePromises(this):this._ensurePossibleRejectionHandled())},d.prototype._fulfillPromises=function(t,e){for(var r=1;r<t;r++){var n=this._fulfillmentHandlerAt(r),i=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(i,n,o,e)}},d.prototype._rejectPromises=function(t,e){for(var r=1;r<t;r++){var n=this._rejectionHandlerAt(r),i=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(i,n,o,e)}},d.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(0<e){if(0!=(16842752&t)){var r=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,r,t),this._rejectPromises(e,r)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,t),this._fulfillPromises(e,n)}this._setLength(0)}this._clearCancellationData()},d.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},d.defer=d.pending=function(){return E.deprecated("Promise.defer","new Promise"),{promise:new d(g),resolve:t,reject:e}},c.notEnumerableProp(d,"_makeSelfResolutionError",u),R("./method")(d,g,b,a,E),R("./bind")(d,g,b,E),R("./cancel")(d,x,a,E),R("./direct_resolve")(d),R("./synchronous_inspection")(d),R("./join")(d,x,b,g,E),d.Promise=d,R("./map.js")(d,x,a,b,g,E),R("./using.js")(d,a,b,w,g,E),R("./timers.js")(d,g,E),R("./generators.js")(d,a,g,b,s,E),R("./nodeify.js")(d),R("./call_get.js")(d),R("./props.js")(d,x,b,a),R("./race.js")(d,g,b,a),R("./reduce.js")(d,x,a,b,g,E),R("./settle.js")(d,x,E),R("./some.js")(d,x,a),R("./promisify.js")(d,g),R("./any.js")(d),R("./each.js")(d,g),R("./filter.js")(d,g),c.toFastProperties(d),c.toFastProperties(d.prototype),r({a:1}),r({b:2}),r({c:3}),r(1),r(function(){}),r(void 0),r(!1),r(new d(g)),E.setBounds(i.firstLineError,c.lastLineError),d}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(n,t,e){"use strict";t.exports=function(s,r,u,a,t){function e(t){var e=this._promise=new s(r);t instanceof s&&e._propagateFrom(t,3),e._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var l=n("./util");return l.isArray,l.inherits(e,t),e.prototype.length=function(){return this._length},e.prototype.promise=function(){return this._promise},e.prototype._init=function t(e,r){var n=u(this._values,this._promise);if(n instanceof s){var i=(n=n._target())._bitField;if(this._values=n,0==(50397184&i))return this._promise._setAsyncGuaranteed(),n._then(t,this._reject,void 0,this,r);if(0==(33554432&i))return 0!=(16777216&i)?this._reject(n._reason()):this._cancel();n=n._value()}if(null!==(n=l.asArray(n)))return 0===n.length?void(-5===r?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{}}}(r))):void this._iterate(n);var o=a("expecting an array or an iterable object but got "+l.classString(n)).reason();this._promise._rejectCallback(o,!1)},e.prototype._iterate=function(t){var e=this.getActualLength(t.length);this._length=e,this._values=this.shouldCopyValues()?new Array(e):this._values;for(var r=this._promise,n=!1,i=null,o=0;o<e;++o){var a=u(t[o],r);i=a instanceof s?(a=a._target())._bitField:null,n?null!==i&&a.suppressUnhandledRejections():null!==i?0==(50397184&i)?(a._proxy(this,o),this._values[o]=a):n=0!=(33554432&i)?this._promiseFulfilled(a._value(),o):0!=(16777216&i)?this._promiseRejected(a._reason(),o):this._promiseCancelled(o):n=this._promiseFulfilled(a,o)}n||r._setAsyncGuaranteed()},e.prototype._isResolved=function(){return null===this._values},e.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},e.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},e.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},e.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},e.prototype._promiseCancelled=function(){return this._cancel(),!0},e.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},e.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof s)t.cancel();else for(var e=0;e<t.length;++e)t[e]instanceof s&&t[e].cancel()}},e.prototype.shouldCopyValues=function(){return!0},e.prototype.getActualLength=function(t){return t},e}},{"./util":36}],24:[function(r,t,e){"use strict";t.exports=function(l,h){function a(t){return!e.test(t)}function p(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function d(t,e,r,n){for(var i=v.inheritedDataKeys(t),o=[],a=0;a<i.length;++a){var s=i[a],u=t[s],l=n===x||x(s,u,t);"function"!=typeof u||p(u)||(h=t,c=s,f=e,(d=v.getDataPropertyOrDefault(h,c+f,b))&&p(d))||!n(s,u,t,l)||o.push(s,u)}var h,c,f,d;return function(t,e,r){for(var n=0;n<t.length;n+=2){var i=t[n];if(r.test(i))for(var o=i.replace(r,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(o,e,r),o}function c(t,e,r,n,i){for(var o=new RegExp(T(e)+"$"),a=d(t,e,o,r),s=0,u=a.length;s<u;s+=2){var l=a[s],h=a[s+1],c=l+e;if(n===w)t[c]=w(l,_,l,h,e,i);else{var f=n(h,function(){return w(l,_,l,h,e,i)});v.notEnumerableProp(f,"__isPromisified__",!0),t[c]=f}}return v.toFastProperties(t),t}var _={},v=r("./util"),f=r("./nodeback"),g=v.withAppended,m=v.maybeWrapAsError,t=v.canEvaluate,y=r("./errors").TypeError,b={__isPromisified__:!0},e=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),x=function(t){return v.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},T=function(t){return t.replace(/([$])/,"\\$")},w=t?void 0:function(i,o,t,e,r,a){function n(){var t=o;o===_&&(t=this);var e=new l(h);e._captureStackTrace();var r="string"==typeof u&&this!==s?this[u]:i,n=f(e,a);try{r.apply(t,g(arguments,n))}catch(t){e._rejectCallback(m(t),!0,!0)}return e._isFateSealed()||e._setAsyncGuaranteed(),e}var s=function(){return this}(),u=i;return"string"==typeof u&&(i=e),v.notEnumerableProp(n,"__isPromisified__",!0),n};l.promisify=function(t,e){if("function"!=typeof t)throw new y("expecting a function but got "+v.classString(t));if(p(t))return t;var r,n=void 0===(e=Object(e)).context?_:e.context,i=!!e.multiArgs,o=w(r=t,n,void 0,r,null,i);return v.copyDescriptors(t,o,a),o},l.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(e=Object(e)).multiArgs,n=e.suffix;"string"!=typeof n&&(n="Async");var i=e.filter;"function"!=typeof i&&(i=x);var o=e.promisifier;if("function"!=typeof o&&(o=w),!v.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=v.inheritedDataKeys(t),s=0;s<a.length;++s){var u=t[a[s]];"constructor"!==a[s]&&v.isClass(u)&&(c(u.prototype,n,i,o,r),c(u,n,i,o,r))}return c(t,n,i,o,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(p,t,e){"use strict";t.exports=function(n,t,i,o){function a(t){var e,r=!1;if(void 0!==s&&t instanceof s)e=f(t),r=!0;else{var n=l.keys(t),i=n.length;e=new Array(2*i);for(var o=0;o<i;++o){var a=n[o];e[o]=t[a],e[o+i]=a}}this.constructor$(e),this._isMap=r,this._init$(void 0,-3)}function e(t){var e,r=i(t);return u(r)?(e=r instanceof n?r._then(n.props,void 0,void 0,void 0,void 0):new a(r).promise(),r instanceof n&&e._propagateFrom(r,2),e):o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,r=p("./util"),u=r.isObject,l=p("./es5");"function"==typeof Map&&(s=Map);var h,c,f=(c=h=0,function(t){c=t.size,h=0;var e=new Array(2*t.size);return t.forEach(d,e),e});function d(t,e){this[h]=t,this[h+c]=e,h++}r.inherits(a,t),a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var r;if(this._isMap)r=function(t){for(var e=new s,r=t.length/2|0,n=0;n<r;++n){var i=t[r+n],o=t[n];e.set(i,o)}return e}(this._values);else{r={};for(var n=this.length(),i=0,o=this.length();i<o;++i)r[this._values[i+n]]=this._values[i]}return this._resolve(r),!0}return!1},a.prototype.shouldCopyValues=function(){return!1},a.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return e(this)},n.props=function(t){return e(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,r){"use strict";function n(t){this._capacity=t,this._length=0,this._front=0}n.prototype._willBeOverCapacity=function(t){return this._capacity<t},n.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},n.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var r=(this._front-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},n.prototype.unshift=function(t,e,r){this._unshiftOne(r),this._unshiftOne(e),this._unshiftOne(t)},n.prototype.push=function(t,e,r){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(t),this._pushOne(e),void this._pushOne(r);var i=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[0+i&o]=t,this[1+i&o]=e,this[2+i&o]=r,this._length=n},n.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},n.prototype.length=function(){return this._length},n.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},n.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,r,n,i){for(var o=0;o<i;++o)r[o+n]=t[o+e],t[o+e]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=n},{}],27:[function(t,e,r){"use strict";e.exports=function(l,h,c,f){function r(t,e){var r=c(t);if(r instanceof l)return p(r);if(null===(t=d.asArray(t)))return f("expecting an array or an iterable object but got "+d.classString(t));var n=new l(h);void 0!==e&&n._propagateFrom(e,3);for(var i=n._fulfill,o=n._reject,a=0,s=t.length;a<s;++a){var u=t[a];(void 0!==u||a in t)&&l.cast(u)._then(i,o,void 0,n,null)}return n}var d=t("./util"),p=function(e){return e.then(function(t){return r(t,e)})};l.race=function(t){return r(t,void 0)},l.prototype.race=function(){return r(this,void 0)}}},{"./util":36}],28:[function(e,t,r){"use strict";t.exports=function(a,t,i,r,o,s){function u(t,e,r,n){this.constructor$(t);var i=f();this._fn=null===i?e:i.bind(e),void 0!==r&&(r=a.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=n===o?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function h(t,e,r,n){return"function"!=typeof e?i("expecting a function but got "+d.classString(e)):new u(t,e,r,n).promise()}function c(t){this.accum=t,this.array._gotAccum(t);var e=r(this.value,this.array._promise);return e instanceof a?(this.array._currentCancellable=e)._then(n,void 0,void 0,this,void 0):n.call(this,e)}function n(t){var e,r=this.array,n=r._promise,i=p(r._fn);n._pushContext(),(e=void 0!==r._eachValues?i.call(n._boundValue(),t,this.index,this.length):i.call(n._boundValue(),this.accum,t,this.index,this.length))instanceof a&&(r._currentCancellable=e);var o=n._popContext();return s.checkForgottenReturns(e,o,void 0!==r._eachValues?"Promise.each":"Promise.reduce",n),e}var f=a._getDomain,d=e("./util"),p=d.tryCatch;d.inherits(u,t),u.prototype._gotAccum=function(t){void 0!==this._eachValues&&t!==o&&this._eachValues.push(t)},u.prototype._eachComplete=function(t){return this._eachValues.push(t),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},u.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof a&&this._currentCancellable.cancel(),this._initialValue instanceof a&&this._initialValue.cancel()))},u.prototype._iterate=function(t){var e,r,n=(this._values=t).length;if(r=void 0!==this._initialValue?(e=this._initialValue,0):(e=a.resolve(t[0]),1),!(this._currentCancellable=e).isRejected())for(;r<n;++r){var i={accum:null,value:t[r],index:r,length:n,array:this};e=e._then(c,void 0,void 0,i,void 0)}void 0!==this._eachValues&&(e=e._then(this._eachComplete,void 0,void 0,this,void 0)),e._then(l,l,void 0,e,this)},a.prototype.reduce=function(t,e){return h(this,t,e,null)},a.reduce=function(t,e,r,n){return h(t,e,r,n)}}},{"./util":36}],29:[function(t,e,r){"use strict";var n,i=t("./util");if(i.isNode&&"undefined"==typeof MutationObserver){var o=global.setImmediate,a=process.nextTick;n=i.isRecentNode?function(t){o.call(global,t)}:function(t){a.call(process,t)}}else n="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var r=document.createElement("div"),n={attributes:!0},i=!1,o=document.createElement("div");new MutationObserver(function(){r.classList.toggle("foo"),i=!1}).observe(o,n);return function(t){var e=new MutationObserver(function(){e.disconnect(),t()});e.observe(r,n),i||(i=!0,o.classList.toggle("foo"))}}();e.exports=n},{"./util":36}],30:[function(o,t,e){"use strict";t.exports=function(t,e,r){function n(t){this.constructor$(t)}var i=t.PromiseInspection;o("./util").inherits(n,e),n.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},n.prototype._promiseFulfilled=function(t,e){var r=new i;return r._bitField=33554432,r._settledValueField=t,this._promiseResolved(e,r)},n.prototype._promiseRejected=function(t,e){var r=new i;return r._bitField=16777216,r._settledValueField=t,this._promiseResolved(e,r)},t.settle=function(t){return r.deprecated(".settle()",".reflect()"),new n(t).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(h,t,e){"use strict";t.exports=function(t,e,i){function o(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function r(t,e){if((0|e)!==e||e<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new o(t),n=r.promise();return r.setHowMany(e),r.init(),n}var n=h("./util"),a=h("./errors").RangeError,s=h("./errors").AggregateError,u=n.isArray,l={};n.inherits(o,e),o.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=u(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},o.prototype.init=function(){this._initialized=!0,this._init()},o.prototype.setUnwrap=function(){this._unwrap=!0},o.prototype.howMany=function(){return this._howMany},o.prototype.setHowMany=function(t){this._howMany=t},o.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},o.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},o.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},o.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return 0<t.length?this._reject(t):this._cancel(),!0}return!1},o.prototype._fulfilled=function(){return this._totalResolved},o.prototype._rejected=function(){return this._values.length-this.length()},o.prototype._addRejected=function(t){this._values.push(t)},o.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},o.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},o.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},o.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(t,e){return r(t,e)},t.prototype.some=function(t){return r(this,t)},t._SomePromiseArray=o}},{"./errors":12,"./util":36}],32:[function(t,e,r){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var r=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=t.prototype._isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype.isCancelled=function(){return this._target()._isCancelled()},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return r.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),n.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,r){"use strict";e.exports=function(s,u){var l=t("./util"),h=l.errorObj,o=l.isObject,a={}.hasOwnProperty;return function(t,e){if(o(t)){if(t instanceof s)return t;var r=function(t){try{return function(t){return t.then}(t)}catch(t){return h.e=t,h}}(t);if(r===h){e&&e._pushContext();var n=s.reject(r.e);return e&&e._popContext(),n}if("function"==typeof r){if(i=t,a.call(i,"_promise0")){n=new s(u);return t._then(n._fulfill,n._reject,void 0,n,null),n}return function(t,e,r){var n=new s(u),i=n;r&&r._pushContext(),n._captureStackTrace(),r&&r._popContext();var o=!0,a=l.tryCatch(e).call(t,function(t){n&&(n._resolveCallback(t),n=null)},function(t){n&&(n._rejectCallback(t,o,!0),n=null)});return o=!1,n&&a===h&&(n._rejectCallback(a.e,!0,!0),n=null),i}(t,r,e)}}var i;return t}}},{"./util":36}],34:[function(t,e,r){"use strict";e.exports=function(i,o,s){function u(t){this.handle=t}function r(t){return clearTimeout(this.handle),t}function n(t){throw clearTimeout(this.handle),t}var l=t("./util"),h=i.TimeoutError;u.prototype._resultCancelled=function(){clearTimeout(this.handle)};function a(t){return e(+this).thenReturn(t)}var e=i.delay=function(t,e){var r,n;return void 0!==e?(r=i.resolve(e)._then(a,null,null,t,void 0),s.cancellation()&&e instanceof i&&r._setOnCancel(e)):(r=new i(o),n=setTimeout(function(){r._fulfill()},+t),s.cancellation()&&r._setOnCancel(new u(n))),r._setAsyncGuaranteed(),r};i.prototype.delay=function(t){return e(t,this)};i.prototype.timeout=function(t,i){t=+t;var o,a,e=new u(setTimeout(function(){var t,e,r,n;o.isPending()&&(t=o,r=a,n="string"!=typeof(e=i)?e instanceof Error?e:new h("operation timed out"):new h(e),l.markAsOriginatingFromRejection(n),t._attachExtraTrace(n),t._reject(n),null!=r&&r.cancel())},t));return s.cancellation()?(a=this.then(),(o=a._then(r,n,void 0,e,void 0))._setOnCancel(e)):o=this._then(r,n,void 0,e,void 0),o}}},{"./util":36}],35:[function(o,t,e){"use strict";t.exports=function(f,d,p,e,t,_){function l(t){setTimeout(function(){throw t},0)}function v(i,o){var a=0,s=i.length,u=new f(t);return function t(){if(s<=a)return u._fulfill();var e,r,n=(e=i[a++],(r=p(e))!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&r._setDisposable(e._getDisposer()),r);if(n instanceof f&&n._isDisposable()){try{n=p(n._getDisposer().tryDispose(o),i.promise)}catch(t){return l(t)}if(n instanceof f)return n._then(t,l,null,null,null)}t()}(),u}function g(t,e,r){this._data=t,this._promise=e,this._context=r}function r(t,e,r){this.constructor$(t,e,r)}function m(t){return g.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function y(t){this.length=t,this.promise=null,this[t-1]=null}var b=o("./util"),n=o("./errors").TypeError,i=o("./util").inherits,x=b.errorObj,T=b.tryCatch;g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},g.prototype.tryDispose=function(t){var e=this.resource(),r=this._context;void 0!==r&&r._pushContext();var n=null!==e?this.doDispose(e,t):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,n},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},i(r,g),r.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},y.prototype._resultCancelled=function(){for(var t=this.length,e=0;e<t;++e){var r=this[e];r instanceof f&&r.cancel()}},f.using=function(){var t=arguments.length;if(t<2)return d("you must pass at least 2 arguments to Promise.using");var o=arguments[t-1];if("function"!=typeof o)return d("expecting a function but got "+b.classString(o));var e,a=!0;2===t&&Array.isArray(arguments[0])?(t=(e=arguments[0]).length,a=!1):(e=arguments,t--);for(var r=new y(t),n=0;n<t;++n){var i=e[n];if(g.isDisposer(i)){var s=i;(i=i.promise())._setDisposable(s)}else{var u=p(i);u instanceof f&&(i=u._then(m,null,null,{resources:r,index:n},void 0))}r[n]=i}var l=new Array(r.length);for(n=0;n<l.length;++n)l[n]=f.resolve(r[n]).reflect();var h=f.all(l).then(function(t){for(var e=0;e<t.length;++e){var r=t[e];if(r.isRejected())return x.e=r.error(),x;if(!r.isFulfilled())return void h.cancel();t[e]=r.value()}c._pushContext(),o=T(o);var n=a?o.apply(void 0,t):o(t),i=c._popContext();return _.checkForgottenReturns(n,i,"Promise.using",c),n}),c=h.lastly(function(){var t=new f.PromiseInspection(h);return v(r,t)});return(r.promise=c)._setOnCancel(r),c},f.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},f.prototype._isDisposable=function(){return 0<(131072&this._bitField)},f.prototype._getDisposer=function(){return this._disposer},f.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},f.prototype.disposer=function(t){if("function"==typeof t)return new r(t,this,e());throw new n}}},{"./errors":12,"./util":36}],36:[function(t,e,r){"use strict";function n(){try{var t=h;return h=null,t.apply(this,arguments)}catch(t){return d.e=t,d}}function i(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function o(t,e,r){if(i(t))return t;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return c.defineProperty(t,e,n),t}function a(t){try{return t+""}catch(t){return"[no string representation]"}}function s(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function u(t){return s(t)&&c.propertyIsWritable(t,"stack")}function l(t){return{}.toString.call(t)}var h,c=t("./es5"),f="undefined"==typeof navigator,d={e:{}},p="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,_=function(){function s(t){for(var e=0;e<i.length;++e)if(i[e]===t)return!0;return!1}var i=[Array.prototype,Object.prototype,Function.prototype];if(c.isES5){var u=Object.getOwnPropertyNames;return function(t){for(var e=[],r=Object.create(null);null!=t&&!s(t);){var n;try{n=u(t)}catch(t){return e}for(var i=0;i<n.length;++i){var o=n[i];if(!r[o]){r[o]=!0;var a=Object.getOwnPropertyDescriptor(t,o);null!=a&&null==a.get&&null==a.set&&e.push(o)}}t=c.getPrototypeOf(t)}return e}}var o={}.hasOwnProperty;return function(t){if(s(t))return[];var e=[];t:for(var r in t)if(o.call(t,r))e.push(r);else{for(var n=0;n<i.length;++n)if(o.call(i[n],r))continue t;e.push(r)}return e}}(),v=/this\s*\.\s*\S+\s*=/,g=/^[a-z$_][a-z$_0-9]*$/i,m="stack"in new Error?function(t){return u(t)?t:new Error(a(t))}:function(t){if(u(t))return t;try{throw new Error(a(t))}catch(t){return t}},y=function(t){return c.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var b="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,r=[],n=t[Symbol.iterator]();!(e=n.next()).done;)r.push(e.value);return r};y=function(t){return c.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?b(t):null}}var x,T="undefined"!=typeof process&&"[object process]"===l(process).toLowerCase(),w={isClass:function(t){try{if("function"==typeof t){var e=c.names(t.prototype),r=c.isES5&&1<e.length,n=0<e.length&&!(1===e.length&&"constructor"===e[0]),i=v.test(t+"")&&0<c.names(t).length;if(r||n||i)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return g.test(t)},inheritedDataKeys:_,getDataPropertyOrDefault:function(t,e,r){if(!c.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var n=Object.getOwnPropertyDescriptor(t,e);return null!=n?null==n.get&&null==n.set?n.value:r:void 0},thrower:function(t){throw t},isArray:c.isArray,asArray:y,notEnumerableProp:o,isPrimitive:i,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:s,canEvaluate:f,errorObj:d,tryCatch:function(t){return h=t,n},inherits:function(e,r){function t(){for(var t in this.constructor=e,(this.constructor$=r).prototype)n.call(r.prototype,t)&&"$"!==t.charAt(t.length-1)&&(this[t+"$"]=r.prototype[t])}var n={}.hasOwnProperty;return t.prototype=r.prototype,e.prototype=new t,e.prototype},withAppended:function(t,e){var r,n=t.length,i=new Array(n+1);for(r=0;r<n;++r)i[r]=t[r];return i[r]=e,i},maybeWrapAsError:function(t){return i(t)?new Error(a(t)):t},toFastProperties:function(t){function e(){}e.prototype=t;for(var r=8;r--;)new e;return t},filledRange:function(t,e,r){for(var n=new Array(t),i=0;i<t;++i)n[i]=e+i+r;return n},toString:a,canAttachTrace:u,ensureErrorObject:m,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{o(t,"isOperational",!0)}catch(t){}},classString:l,copyDescriptors:function(t,e,r){for(var n=c.names(t),i=0;i<n.length;++i){var o=n[i];if(r(o))try{c.defineProperty(e,o,c.getDescriptor(t,o))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:T,env:function(t,e){return T?process.env[t]:e},global:p};w.isRecentNode=w.isNode&&(0===(x=process.versions.node.split(".").map(Number))[0]&&10<x[1]||0<x[0]),w.isNode&&w.toFastProperties(process);try{throw new Error}catch(t){w.lastLineError=t}e.exports=w},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);