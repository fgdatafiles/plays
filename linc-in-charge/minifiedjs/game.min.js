function initXMLhttp(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function minAjax(a){if(!a.url)return void(1==a.debugLog&&console.log("No Url!"));if(!a.type)return void(1==a.debugLog&&console.log("No Default type (GET/POST) given!"));a.method||(a.method=!0),a.debugLog||(a.debugLog=!1);var b=initXMLhttp();b.onreadystatechange=function(){4==b.readyState&&200==b.status?(a.success&&a.success(b.responseText,b.readyState),1==a.debugLog&&console.log("SuccessResponse"),1==a.debugLog&&console.log("Response Data:"+b.responseText)):1==a.debugLog&&console.log("FailureResponse --> State:"+b.readyState+"Status:"+b.status)};var c=[],d=a.data;if("string"==typeof d)for(var e=String.prototype.split.call(d,"&"),f=0,g=e.length;f<g;f++){var h=e[f].split("=");c.push(encodeURIComponent(h[0])+"="+encodeURIComponent(h[1]))}else if("object"==typeof d&&!(d instanceof String||FormData&&d instanceof FormData))for(var i in d){var h=d[i];if("[object Array]"==Object.prototype.toString.call(h))for(var f=0,g=h.length;f<g;f++)c.push(encodeURIComponent(i)+"[]="+encodeURIComponent(h[f]));else c.push(encodeURIComponent(i)+"="+encodeURIComponent(h))}c=c.join("&"),"GET"==a.type&&(b.open("GET",a.url+"?"+c,a.method),b.send(),1==a.debugLog&&console.log("GET fired at:"+a.url+"?"+c)),"POST"==a.type&&(b.open("POST",a.url,a.method),b.setRequestHeader(a.requestType,a.requestValue),b.send(c),1==a.debugLog&&console.log("POST fired at:"+a.url+" || Data:"+c))}!function(){"use strict";var a=function(){this.init()};a.prototype={init:function(){var a=this||b;return a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.mobileAutoEnable=!0,a._setup(),a},volume:function(a){var c=this||b;if(a=parseFloat(a),c.ctx||j(),void 0!==a&&a>=0&&a<=1){if(c._volume=a,c._muted)return c;c.usingWebAudio&&(c.masterGain.gain.value=a);for(var d=0;d<c._howls.length;d++)if(!c._howls[d]._webAudio)for(var e=c._howls[d]._getSoundIds(),f=0;f<e.length;f++){var g=c._howls[d]._soundById(e[f]);g&&g._node&&(g._node.volume=g._volume*a)}return c}return c._volume},mute:function(a){var c=this||b;c.ctx||j(),c._muted=a,c.usingWebAudio&&(c.masterGain.gain.value=a?0:c._volume);for(var d=0;d<c._howls.length;d++)if(!c._howls[d]._webAudio)for(var e=c._howls[d]._getSoundIds(),f=0;f<e.length;f++){var g=c._howls[d]._soundById(e[f]);g&&g._node&&(g._node.muted=!!a||g._muted)}return c},unload:function(){for(var a=this||b,c=a._howls.length-1;c>=0;c--)a._howls[c].unload();return a.usingWebAudio&&void 0!==a.ctx.close&&(a.ctx.close(),a.ctx=null,j()),a},codecs:function(a){return(this||b)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||b;return a.state=a.ctx?a.ctx.state||"running":"running",a._autoSuspend(),a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||b,c="undefined"!=typeof Audio?new Audio:null;if(!c||"function"!=typeof c.canPlayType)return a;var d=c.canPlayType("audio/mpeg;").replace(/^no$/,""),e=a._navigator&&a._navigator.userAgent.match(/OPR\/([0-6].)/g),f=e&&parseInt(e[0].split("/")[1],10)<33;return a._codecs={mp3:!(f||!d&&!c.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!d,opus:!!c.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!c.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!c.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!c.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/m4a;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(c.canPlayType("audio/x-mp4;")||c.canPlayType("audio/mp4;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!c.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(c.canPlayType("audio/x-flac;")||c.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_enableMobileAudio:function(){var a=this||b,c=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(a._navigator&&a._navigator.userAgent),d=!!("ontouchend"in window||a._navigator&&a._navigator.maxTouchPoints>0||a._navigator&&a._navigator.msMaxTouchPoints>0);if(!a._mobileEnabled&&a.ctx&&(c||d)){a._mobileEnabled=!1,a._mobileUnloaded||44100===a.ctx.sampleRate||(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var e=function(){var b=a.ctx.createBufferSource();b.buffer=a._scratchBuffer,b.connect(a.ctx.destination),void 0===b.start?b.noteOn(0):b.start(0),b.onended=function(){b.disconnect(0),a._mobileEnabled=!0,a.mobileAutoEnable=!1,document.removeEventListener("touchend",e,!0)}};return document.addEventListener("touchend",e,!0),a}},_autoSuspend:function(){var a=this;if(a.autoSuspend&&a.ctx&&void 0!==a.ctx.suspend&&b.usingWebAudio){for(var c=0;c<a._howls.length;c++)if(a._howls[c]._webAudio)for(var d=0;d<a._howls[c]._sounds.length;d++)if(!a._howls[c]._sounds[d]._paused)return a;return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){a.autoSuspend&&(a._suspendTimer=null,a.state="suspending",a.ctx.suspend().then(function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())}))},3e4),a}},_autoResume:function(){var a=this;if(a.ctx&&void 0!==a.ctx.resume&&b.usingWebAudio)return"running"===a.state&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):"suspended"===a.state?(a.state="resuming",a.ctx.resume().then(function(){a.state="running"}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):"suspending"===a.state&&(a._resumeAfterSuspend=!0),a}};var b=new a,c=function(a){var b=this;if(!a.src||0===a.src.length)return void console.error("An array of source files must be passed with any new Howl.");b.init(a)};c.prototype={init:function(a){var c=this;return b.ctx||j(),c._autoplay=a.autoplay||!1,c._format="string"!=typeof a.format?a.format:[a.format],c._html5=a.html5||!1,c._muted=a.mute||!1,c._loop=a.loop||!1,c._pool=a.pool||5,c._preload="boolean"!=typeof a.preload||a.preload,c._rate=a.rate||1,c._sprite=a.sprite||{},c._src="string"!=typeof a.src?a.src:[a.src],c._volume=void 0!==a.volume?a.volume:1,c._duration=0,c._state="unloaded",c._sounds=[],c._endTimers={},c._queue=[],c._onend=a.onend?[{fn:a.onend}]:[],c._onfade=a.onfade?[{fn:a.onfade}]:[],c._onload=a.onload?[{fn:a.onload}]:[],c._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],c._onpause=a.onpause?[{fn:a.onpause}]:[],c._onplay=a.onplay?[{fn:a.onplay}]:[],c._onstop=a.onstop?[{fn:a.onstop}]:[],c._onmute=a.onmute?[{fn:a.onmute}]:[],c._onvolume=a.onvolume?[{fn:a.onvolume}]:[],c._onrate=a.onrate?[{fn:a.onrate}]:[],c._onseek=a.onseek?[{fn:a.onseek}]:[],c._webAudio=b.usingWebAudio&&!c._html5,void 0!==b.ctx&&b.ctx&&b.mobileAutoEnable&&b._enableMobileAudio(),b._howls.push(c),c._preload&&c.load(),c},load:function(){var a=this,c=null;if(b.noAudio)return void a._emit("loaderror",null,"No audio support.");"string"==typeof a._src&&(a._src=[a._src]);for(var e=0;e<a._src.length;e++){var g,h;if(a._format&&a._format[e])g=a._format[e];else{if("string"!=typeof(h=a._src[e])){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}g=/^data:audio\/([^;,]+);/i.exec(h),g||(g=/\.([^.]+)$/.exec(h.split("?",1)[0])),g&&(g=g[1].toLowerCase())}if(b.codecs(g)){c=a._src[e];break}}return c?(a._src=c,a._state="loading","https:"===window.location.protocol&&"http:"===c.slice(0,5)&&(a._html5=!0,a._webAudio=!1),new d(a),a._webAudio&&f(a),a):void a._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(a,c){var d=this,e=null;if("number"==typeof a)e=a,a=null;else{if("string"==typeof a&&"loaded"===d._state&&!d._sprite[a])return null;if(void 0===a){a="__default";for(var f=0,g=0;g<d._sounds.length;g++)d._sounds[g]._paused&&!d._sounds[g]._ended&&(f++,e=d._sounds[g]._id);1===f?a=null:e=null}}var h=e?d._soundById(e):d._inactiveSound();if(!h)return null;if(e&&!a&&(a=h._sprite||"__default"),"loaded"!==d._state&&!d._sprite[a])return d._queue.push({event:"play",action:function(){d.play(d._soundById(h._id)?h._id:void 0)}}),h._id;if(e&&!h._paused)return c||setTimeout(function(){d._emit("play",h._id)},0),h._id;d._webAudio&&b._autoResume();var i=h._seek>0?h._seek:d._sprite[a][0]/1e3,j=(d._sprite[a][0]+d._sprite[a][1])/1e3-i,k=1e3*j/Math.abs(h._rate);h._paused=!1,h._ended=!1,h._sprite=a,h._seek=i,h._start=d._sprite[a][0]/1e3,h._stop=(d._sprite[a][0]+d._sprite[a][1])/1e3,h._loop=!(!h._loop&&!d._sprite[a][2]);var l=h._node;if(d._webAudio){var m=function(){d._refreshBuffer(h);var a=h._muted||d._muted?0:h._volume;l.gain.setValueAtTime(a,b.ctx.currentTime),h._playStart=b.ctx.currentTime,void 0===l.bufferSource.start?h._loop?l.bufferSource.noteGrainOn(0,i,86400):l.bufferSource.noteGrainOn(0,i,j):h._loop?l.bufferSource.start(0,i,86400):l.bufferSource.start(0,i,j),k!==1/0&&(d._endTimers[h._id]=setTimeout(d._ended.bind(d,h),k)),c||setTimeout(function(){d._emit("play",h._id)},0)};"loaded"===d._state?m():(d.once("load",m,h._id),d._clearTimer(h._id))}else{var n=function(){l.currentTime=i,l.muted=h._muted||d._muted||b._muted||l.muted,l.volume=h._volume*b.volume(),l.playbackRate=h._rate,setTimeout(function(){l.play(),k!==1/0&&(d._endTimers[h._id]=setTimeout(d._ended.bind(d,h),k)),c||d._emit("play",h._id)},0)},o="loaded"===d._state&&(window&&window.ejecta||!l.readyState&&b._navigator.isCocoonJS);if(4===l.readyState||o)n();else{var p=function(){n(),l.removeEventListener(b._canPlayEvent,p,!1)};l.addEventListener(b._canPlayEvent,p,!1),d._clearTimer(h._id)}}return h._id},pause:function(a){var b=this;if("loaded"!==b._state)return b._queue.push({event:"pause",action:function(){b.pause(a)}}),b;for(var c=b._getSoundIds(a),d=0;d<c.length;d++){b._clearTimer(c[d]);var e=b._soundById(c[d]);if(e&&!e._paused){if(e._seek=b.seek(c[d]),e._rateSeek=0,e._paused=!0,b._stopFade(c[d]),e._node)if(b._webAudio){if(!e._node.bufferSource)return b;void 0===e._node.bufferSource.stop?e._node.bufferSource.noteOff(0):e._node.bufferSource.stop(0),b._cleanBuffer(e._node)}else isNaN(e._node.duration)&&e._node.duration!==1/0||e._node.pause();arguments[1]||b._emit("pause",e._id)}}return b},stop:function(a,b){var c=this;if("loaded"!==c._state)return c._queue.push({event:"stop",action:function(){c.stop(a)}}),c;for(var d=c._getSoundIds(a),e=0;e<d.length;e++){c._clearTimer(d[e]);var f=c._soundById(d[e]);if(f&&(f._seek=f._start||0,f._rateSeek=0,f._paused=!0,f._ended=!0,c._stopFade(d[e]),f._node))if(c._webAudio){if(!f._node.bufferSource)return b||c._emit("stop",f._id),c;void 0===f._node.bufferSource.stop?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),c._cleanBuffer(f._node)}else isNaN(f._node.duration)&&f._node.duration!==1/0||(f._node.currentTime=f._start||0,f._node.pause());f&&!b&&c._emit("stop",f._id)}return c},mute:function(a,c){var d=this;if("loaded"!==d._state)return d._queue.push({event:"mute",action:function(){d.mute(a,c)}}),d;if(void 0===c){if("boolean"!=typeof a)return d._muted;d._muted=a}for(var e=d._getSoundIds(c),f=0;f<e.length;f++){var g=d._soundById(e[f]);g&&(g._muted=a,d._webAudio&&g._node?g._node.gain.setValueAtTime(a?0:g._volume,b.ctx.currentTime):g._node&&(g._node.muted=!!b._muted||a),d._emit("mute",g._id))}return d},volume:function(){var a,c,d=this,e=arguments;if(0===e.length)return d._volume;if(1===e.length||2===e.length&&void 0===e[1]){d._getSoundIds().indexOf(e[0])>=0?c=parseInt(e[0],10):a=parseFloat(e[0])}else e.length>=2&&(a=parseFloat(e[0]),c=parseInt(e[1],10));var f;if(!(void 0!==a&&a>=0&&a<=1))return f=c?d._soundById(c):d._sounds[0],f?f._volume:0;if("loaded"!==d._state)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,e)}}),d;void 0===c&&(d._volume=a),c=d._getSoundIds(c);for(var g=0;g<c.length;g++)(f=d._soundById(c[g]))&&(f._volume=a,e[2]||d._stopFade(c[g]),d._webAudio&&f._node&&!f._muted?f._node.gain.setValueAtTime(a,b.ctx.currentTime):f._node&&!f._muted&&(f._node.volume=a*b.volume()),d._emit("volume",f._id));return d},fade:function(a,c,d,e){var f=this,g=Math.abs(a-c),h=a>c?"out":"in",i=g/.01,j=i>0?d/i:d;if(j<4&&(i=Math.ceil(i/(4/j)),j=4),"loaded"!==f._state)return f._queue.push({event:"fade",action:function(){f.fade(a,c,d,e)}}),f;f.volume(a,e);for(var k=f._getSoundIds(e),l=0;l<k.length;l++){var m=f._soundById(k[l]);if(m){if(e||f._stopFade(k[l]),f._webAudio&&!m._muted){var n=b.ctx.currentTime,o=n+d/1e3;m._volume=a,m._node.gain.setValueAtTime(a,n),m._node.gain.linearRampToValueAtTime(c,o)}var p=a;m._interval=setInterval(function(a,b){i>0&&(p+="in"===h?.01:-.01),p=Math.max(0,p),p=Math.min(1,p),p=Math.round(100*p)/100,f._webAudio?(void 0===e&&(f._volume=p),b._volume=p):f.volume(p,a,!0),p===c&&(clearInterval(b._interval),b._interval=null,f.volume(p,a),f._emit("fade",a))}.bind(f,k[l],m),j)}}return f},_stopFade:function(a){var c=this,d=c._soundById(a);return d&&d._interval&&(c._webAudio&&d._node.gain.cancelScheduledValues(b.ctx.currentTime),clearInterval(d._interval),d._interval=null,c._emit("fade",a)),c},loop:function(){var a,b,c,d=this,e=arguments;if(0===e.length)return d._loop;if(1===e.length){if("boolean"!=typeof e[0])return!!(c=d._soundById(parseInt(e[0],10)))&&c._loop;a=e[0],d._loop=a}else 2===e.length&&(a=e[0],b=parseInt(e[1],10));for(var f=d._getSoundIds(b),g=0;g<f.length;g++)(c=d._soundById(f[g]))&&(c._loop=a,d._webAudio&&c._node&&c._node.bufferSource&&(c._node.bufferSource.loop=a,a&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop)));return d},rate:function(){var a,c,d=this,e=arguments;if(0===e.length)c=d._sounds[0]._id;else if(1===e.length){var f=d._getSoundIds(),g=f.indexOf(e[0]);g>=0?c=parseInt(e[0],10):a=parseFloat(e[0])}else 2===e.length&&(a=parseFloat(e[0]),c=parseInt(e[1],10));var h;if("number"!=typeof a)return h=d._soundById(c),h?h._rate:d._rate;if("loaded"!==d._state)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,e)}}),d;void 0===c&&(d._rate=a),c=d._getSoundIds(c);for(var i=0;i<c.length;i++)if(h=d._soundById(c[i])){h._rateSeek=d.seek(c[i]),h._playStart=d._webAudio?b.ctx.currentTime:h._playStart,h._rate=a,d._webAudio&&h._node&&h._node.bufferSource?h._node.bufferSource.playbackRate.value=a:h._node&&(h._node.playbackRate=a);var j=d.seek(c[i]),k=(d._sprite[h._sprite][0]+d._sprite[h._sprite][1])/1e3-j,l=1e3*k/Math.abs(h._rate);!d._endTimers[c[i]]&&h._paused||(d._clearTimer(c[i]),d._endTimers[c[i]]=setTimeout(d._ended.bind(d,h),l)),d._emit("rate",h._id)}return d},seek:function(){var a,c,d=this,e=arguments;if(0===e.length)c=d._sounds[0]._id;else if(1===e.length){var f=d._getSoundIds(),g=f.indexOf(e[0]);g>=0?c=parseInt(e[0],10):(c=d._sounds[0]._id,a=parseFloat(e[0]))}else 2===e.length&&(a=parseFloat(e[0]),c=parseInt(e[1],10));if(void 0===c)return d;if("loaded"!==d._state)return d._queue.push({event:"seek",action:function(){d.seek.apply(d,e)}}),d;var h=d._soundById(c);if(h){if(!("number"==typeof a&&a>=0)){if(d._webAudio){var i=d.playing(c)?b.ctx.currentTime-h._playStart:0,j=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(j+i*Math.abs(h._rate))}return h._node.currentTime}var k=d.playing(c);k&&d.pause(c,!0),h._seek=a,h._ended=!1,d._clearTimer(c),k&&d.play(c,!0),!d._webAudio&&h._node&&(h._node.currentTime=a),d._emit("seek",c)}return d},playing:function(a){var b=this;if("number"==typeof a){var c=b._soundById(a);return!!c&&!c._paused}for(var d=0;d<b._sounds.length;d++)if(!b._sounds[d]._paused)return!0;return!1},duration:function(a){var b=this,c=b._duration,d=b._soundById(a);return d&&(c=b._sprite[d._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var a=this,c=a._sounds,d=0;d<c.length;d++){c[d]._paused||(a.stop(c[d]._id),a._emit("end",c[d]._id)),a._webAudio||(c[d]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",c[d]._node.removeEventListener("error",c[d]._errorFn,!1),c[d]._node.removeEventListener(b._canPlayEvent,c[d]._loadFn,!1)),delete c[d]._node,a._clearTimer(c[d]._id);var f=b._howls.indexOf(a);f>=0&&b._howls.splice(f,1)}var g=!0;for(d=0;d<b._howls.length;d++)if(b._howls[d]._src===a._src){g=!1;break}return e&&g&&delete e[a._src],b.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,b,c,d){var e=this,f=e["_on"+a];return"function"==typeof b&&f.push(d?{id:c,fn:b,once:d}:{id:c,fn:b}),e},off:function(a,b,c){var d=this,e=d["_on"+a],f=0;if(b){for(f=0;f<e.length;f++)if(b===e[f].fn&&c===e[f].id){e.splice(f,1);break}}else if(a)d["_on"+a]=[];else{var g=Object.keys(d);for(f=0;f<g.length;f++)0===g[f].indexOf("_on")&&Array.isArray(d[g[f]])&&(d[g[f]]=[])}return d},once:function(a,b,c){var d=this;return d.on(a,b,c,1),d},_emit:function(a,b,c){for(var d=this,e=d["_on"+a],f=e.length-1;f>=0;f--)e[f].id&&e[f].id!==b&&"load"!==a||(setTimeout(function(a){a.call(this,b,c)}.bind(d,e[f].fn),0),e[f].once&&d.off(a,e[f].fn,e[f].id));return d},_loadQueue:function(){var a=this;if(a._queue.length>0){var b=a._queue[0];a.once(b.event,function(){a._queue.shift(),a._loadQueue()}),b.action()}return a},_ended:function(a){var c=this,d=a._sprite,e=!(!a._loop&&!c._sprite[d][2]);if(c._emit("end",a._id),!c._webAudio&&e&&c.stop(a._id,!0).play(a._id),c._webAudio&&e){c._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=b.ctx.currentTime;var f=1e3*(a._stop-a._start)/Math.abs(a._rate);c._endTimers[a._id]=setTimeout(c._ended.bind(c,a),f)}return c._webAudio&&!e&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,c._clearTimer(a._id),c._cleanBuffer(a._node),b._autoSuspend()),c._webAudio||e||c.stop(a._id),c},_clearTimer:function(a){var b=this;return b._endTimers[a]&&(clearTimeout(b._endTimers[a]),delete b._endTimers[a]),b},_soundById:function(a){for(var b=this,c=0;c<b._sounds.length;c++)if(a===b._sounds[c]._id)return b._sounds[c];return null},_inactiveSound:function(){var a=this;a._drain();for(var b=0;b<a._sounds.length;b++)if(a._sounds[b]._ended)return a._sounds[b].reset();return new d(a)},_drain:function(){var a=this,b=a._pool,c=0,d=0;if(!(a._sounds.length<b)){for(d=0;d<a._sounds.length;d++)a._sounds[d]._ended&&c++;for(d=a._sounds.length-1;d>=0;d--){if(c<=b)return;a._sounds[d]._ended&&(a._webAudio&&a._sounds[d]._node&&a._sounds[d]._node.disconnect(0),a._sounds.splice(d,1),c--)}}},_getSoundIds:function(a){var b=this;if(void 0===a){for(var c=[],d=0;d<b._sounds.length;d++)c.push(b._sounds[d]._id);return c}return[a]},_refreshBuffer:function(a){var c=this;return a._node.bufferSource=b.ctx.createBufferSource(),a._node.bufferSource.buffer=e[c._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop),a._node.bufferSource.playbackRate.value=a._rate,c},_cleanBuffer:function(a){var b=this;if(b._scratchBuffer){a.bufferSource.onended=null,a.bufferSource.disconnect(0);try{a.bufferSource.buffer=b._scratchBuffer}catch(c){}}return a.bufferSource=null,b}};var d=function(a){this._parent=a,this.init()};d.prototype={init:function(){var a=this,b=a._parent;return a._muted=b._muted,a._loop=b._loop,a._volume=b._volume,a._muted=b._muted,a._rate=b._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=Math.round(Date.now()*Math.random()),b._sounds.push(a),a.create(),a},create:function(){var a=this,c=a._parent,d=b._muted||a._muted||a._parent._muted?0:a._volume;return c._webAudio?(a._node=void 0===b.ctx.createGain?b.ctx.createGainNode():b.ctx.createGain(),a._node.gain.setValueAtTime(d,b.ctx.currentTime),a._node.paused=!0,a._node.connect(b.masterGain)):(a._node=new Audio,a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(b._canPlayEvent,a._loadFn,!1),a._node.src=c._src,a._node.preload="auto",a._node.volume=d*b.volume(),a._node.load()),a},reset:function(){var a=this,b=a._parent;return a._muted=b._muted,a._loop=b._loop,a._volume=b._volume,a._muted=b._muted,a._rate=b._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=Math.round(Date.now()*Math.random()),a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorListener,!1)},_loadListener:function(){var a=this,c=a._parent;c._duration=Math.ceil(10*a._node.duration)/10,0===Object.keys(c._sprite).length&&(c._sprite={__default:[0,1e3*c._duration]}),"loaded"!==c._state&&(c._state="loaded",c._emit("load"),c._loadQueue()),c._autoplay&&c.play(),a._node.removeEventListener(b._canPlayEvent,a._loadFn,!1)}};var e={},f=function(a){var b=a._src;if(e[b])return a._duration=e[b].duration,void i(a);if(/^data:[^;]+;base64,/.test(b)){for(var c=atob(b.split(",")[1]),d=new Uint8Array(c.length),f=0;f<c.length;++f)d[f]=c.charCodeAt(f);h(d.buffer,a)}else{var j=new XMLHttpRequest;j.open("GET",b,!0),j.responseType="arraybuffer",j.onload=function(){var b=(j.status+"")[0];if("0"!==b&&"2"!==b&&"3"!==b)return void a._emit("loaderror",null,"Failed loading audio file with status: "+j.status+".");h(j.response,a)},j.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete e[b],a.load())},g(j)}},g=function(a){try{a.send()}catch(b){a.onerror()}},h=function(a,c){b.ctx.decodeAudioData(a,function(a){a&&c._sounds.length>0&&(e[c._src]=a,i(c,a))},function(){c._emit("loaderror",null,"Decoding audio data failed.")})},i=function(a,b){b&&!a._duration&&(a._duration=b.duration),0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1e3*a._duration]}),"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue()),a._autoplay&&a.play()},j=function(){b.noAudio=!1;try{"undefined"!=typeof AudioContext?b.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?b.ctx=new webkitAudioContext:b.usingWebAudio=!1}catch(g){b.usingWebAudio=!1}if(!b.usingWebAudio)if("undefined"!=typeof Audio)try{var a=new Audio;void 0===a.oncanplaythrough&&(b._canPlayEvent="canplay")}catch(g){b.noAudio=!0}else b.noAudio=!0;try{var a=new Audio;a.muted&&(b.noAudio=!0)}catch(g){}var c=/iP(hone|od|ad)/.test(b._navigator&&b._navigator.platform),d=b._navigator&&b._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),e=d?parseInt(d[1],10):null;if(c&&e&&e<9){var f=/safari/.test(b._navigator&&b._navigator.userAgent.toLowerCase());(b._navigator&&b._navigator.standalone&&!f||b._navigator&&!b._navigator.standalone&&!f)&&(b.usingWebAudio=!1)}b.usingWebAudio&&(b.masterGain=void 0===b.ctx.createGain?b.ctx.createGainNode():b.ctx.createGain(),b.masterGain.gain.value=1,b.masterGain.connect(b.ctx.destination)),b._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:b,Howl:c}}),"undefined"!=typeof exports&&(exports.Howler=b,exports.Howl=c),"undefined"!=typeof window?(window.HowlerGlobal=a,window.Howler=b,window.Howl=c,window.Sound=d):"undefined"!=typeof global&&(global.HowlerGlobal=a,global.Howler=b,global.Howl=c,global.Sound=d)}(),function(a,b){"use strict";function c(c,d){function e(a){return qa.preferFlash&&ia&&!qa.ignoreFlash&&qa.flash[a]!==b&&qa.flash[a]}function f(a){return function(b){var c,d=this._s;return d&&d._a?c=a.call(this,b):(d&&d.id?qa._wD(d.id+": Ignoring "+b.type):qa._wD(va+"Ignoring "+b.type),c=null),c}}this.setupOptions={url:c||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=d||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20150601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa=this,ra=null,sa=null,ta="soundManager",ua=ta+": ",va="HTML5::",wa=navigator.userAgent,xa=a.location.href.toString(),ya=document,za=[],Aa=!0,Ba=!1,Ca=!1,Da=!1,Ea=!1,Fa=!1,Ga=0,Ha=["log","info","warn","error"],Ia=8,Ja=null,Ka=null,La=!1,Ma=!1,Na=0,Oa=null,Pa=[],Qa=null,Ra=Array.prototype.slice,Sa=!1,Ta=0,Ua=1e3,Va=wa.match(/(ipad|iphone|ipod)/i),Wa=wa.match(/android/i),Xa=wa.match(/msie/i),Ya=wa.match(/webkit/i),Za=wa.match(/safari/i)&&!wa.match(/chrome/i),$a=wa.match(/opera/i),_a=wa.match(/(mobile|pre\/|xoom)/i)||Va||Wa,ab=!xa.match(/usehtml5audio/i)&&!xa.match(/sm2\-ignorebadua/i)&&Za&&!wa.match(/silk/i)&&wa.match(/OS X 10_6_([3-7])/i),bb=a.console!==b&&console.log!==b,cb=ya.hasFocus!==b?ya.hasFocus():null,db=Za&&(ya.hasFocus===b||!ya.hasFocus()),eb=!db,fb=/(mp3|mp4|mpa|m4a|m4b)/i,gb="about:blank",hb=ya.location?ya.location.protocol.match(/http/i):null,ib=hb?"":"http://",jb=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,kb=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],lb=new RegExp("\\.("+kb.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!hb,Q={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==b&&($a&&opera!==b&&opera.version()<10?new Audio(null):new Audio).canPlayType!==b}catch(a){return!1}}(),this.setup=function(a){var c=!qa.url;return a!==b&&Da&&Qa&&qa.ok()&&(a.flashVersion!==b||a.url!==b||a.html5Test!==b)&&U(N("setupLate")),q(a),Sa||(_a?qa.setupOptions.ignoreMobileRestrictions&&!qa.setupOptions.forceUseGlobalHTML5Audio||(Pa.push(A.globalHTML5),Sa=!0):qa.setupOptions.forceUseGlobalHTML5Audio&&(Pa.push(A.globalHTML5),Sa=!0)),!pa&&_a&&(qa.setupOptions.ignoreMobileRestrictions?Pa.push(A.ignoreMobile):(qa.setupOptions.useHTML5Audio&&!qa.setupOptions.preferFlash||qa._wD(A.mobileUA),qa.setupOptions.useHTML5Audio=!0,qa.setupOptions.preferFlash=!1,Va?qa.ignoreFlash=!0:(Wa&&!wa.match(/android\s2\.3/i)||!Wa)&&(qa._wD(A.globalHTML5),Sa=!0))),a&&(c&&E&&a.url!==b&&qa.beginDelayedInit(),E||a.url===b||"complete"!==ya.readyState||setTimeout(C,1)),pa=!0,qa},this.ok=function(){return Qa?Da&&!Ea:qa.useHTML5Audio&&qa.hasHTML5},this.supported=this.ok,this.getMovie=function(b){return h(b)||ya[b]||a[b]},this.createSound=function(a,c){function d(){return h=S(h),qa.sounds[h.id]=new g(h),qa.soundIDs.push(h.id),qa.sounds[h.id]}var e,f,h,i=null;if(e=ta+".createSound(): ",f=e+N(Da?"notOK":"notReady"),!Da||!qa.ok())return U(f),!1;if(c!==b&&(a={id:a,url:c}),h=p(a),h.url=Z(h.url),h.id===b&&(h.id=qa.setupOptions.idPrefix+Ta++),h.id.toString().charAt(0).match(/^[0-9]$/)&&qa._wD(e+N("badID",h.id),2),qa._wD(e+h.id+(h.url?" ("+h.url+")":""),1),V(h.id,!0))return qa._wD(e+h.id+" exists",1),qa.sounds[h.id];if(aa(h))i=d(),qa.html5Only||qa._wD(h.id+": Using HTML5"),i._setup_html5(h);else{if(qa.html5Only)return qa._wD(h.id+": No HTML5 support for this sound, and no Flash. Exiting."),d();if(qa.html5.usingFlash&&h.url&&h.url.match(/data\:/i))return qa._wD(h.id+": data: URIs not supported via Flash. Exiting."),d();l>8&&(null===h.isMovieStar&&(h.isMovieStar=!!(h.serverURL||h.type&&h.type.match(jb)||h.url&&h.url.match(lb))),h.isMovieStar&&(qa._wD(e+"using MovieStar handling"),h.loops>1&&n("noNSLoop"))),h=T(h,e),i=d(),8===l?sa._createSound(h.id,h.loops||1,h.usePolicyFile):(sa._createSound(h.id,h.url,h.usePeakData,h.useWaveformData,h.useEQData,h.isMovieStar,!!h.isMovieStar&&h.bufferTime,h.loops||1,h.serverURL,h.duration||null,h.autoPlay,!0,h.autoLoad,h.usePolicyFile),h.serverURL||(i.connected=!0,h.onconnect&&h.onconnect.apply(i))),h.serverURL||!h.autoLoad&&!h.autoPlay||i.load(h)}return!h.serverURL&&h.autoPlay&&i.play(),i},this.destroySound=function(a,b){if(!V(a))return!1;var c,d=qa.sounds[a];for(d.stop(),d._iO={},d.unload(),c=0;c<qa.soundIDs.length;c++)if(qa.soundIDs[c]===a){qa.soundIDs.splice(c,1);break}return b||d.destruct(!0),d=null,delete qa.sounds[a],!0},this.load=function(a,b){return!!V(a)&&qa.sounds[a].load(b)},this.unload=function(a){return!!V(a)&&qa.sounds[a].unload()},this.onPosition=function(a,b,c,d){return!!V(a)&&qa.sounds[a].onposition(b,c,d)},this.onposition=this.onPosition,this.clearOnPosition=function(a,b,c){return!!V(a)&&qa.sounds[a].clearOnPosition(b,c)},this.play=function(a,b){var c=null,d=b&&!(b instanceof Object);if(!Da||!qa.ok())return U(ta+".play(): "+N(Da?"notOK":"notReady")),!1;if(V(a,d))d&&(b={url:b});else{if(!d)return!1;d&&(b={url:b}),b&&b.url&&(qa._wD(ta+'.play(): Attempting to create "'+a+'"',1),b.id=a,c=qa.createSound(b).play())}return null===c&&(c=qa.sounds[a].play(b)),c},this.start=this.play,this.setPosition=function(a,b){return!!V(a)&&qa.sounds[a].setPosition(b)},this.stop=function(a){return!!V(a)&&(qa._wD(ta+".stop("+a+")",1),qa.sounds[a].stop())},this.stopAll=function(){var a;qa._wD(ta+".stopAll()",1);for(a in qa.sounds)qa.sounds.hasOwnProperty(a)&&qa.sounds[a].stop()},this.pause=function(a){return!!V(a)&&qa.sounds[a].pause()},this.pauseAll=function(){var a;for(a=qa.soundIDs.length-1;a>=0;a--)qa.sounds[qa.soundIDs[a]].pause()},this.resume=function(a){return!!V(a)&&qa.sounds[a].resume()},this.resumeAll=function(){var a;for(a=qa.soundIDs.length-1;a>=0;a--)qa.sounds[qa.soundIDs[a]].resume()},this.togglePause=function(a){return!!V(a)&&qa.sounds[a].togglePause()},this.setPan=function(a,b){return!!V(a)&&qa.sounds[a].setPan(b)},this.setVolume=function(a,c){var d,e;if(a===b||isNaN(a)||c!==b)return!!V(a)&&qa.sounds[a].setVolume(c);for(d=0,e=qa.soundIDs.length;d<e;d++)qa.sounds[qa.soundIDs[d]].setVolume(a)},this.mute=function(a){var b=0;if(a instanceof String&&(a=null),a)return!!V(a)&&(qa._wD(ta+'.mute(): Muting "'+a+'"'),qa.sounds[a].mute());for(qa._wD(ta+".mute(): Muting all sounds"),b=qa.soundIDs.length-1;b>=0;b--)qa.sounds[qa.soundIDs[b]].mute();return qa.muted=!0,!0},
this.muteAll=function(){qa.mute()},this.unmute=function(a){var b;if(a instanceof String&&(a=null),a)return!!V(a)&&(qa._wD(ta+'.unmute(): Unmuting "'+a+'"'),qa.sounds[a].unmute());for(qa._wD(ta+".unmute(): Unmuting all sounds"),b=qa.soundIDs.length-1;b>=0;b--)qa.sounds[qa.soundIDs[b]].unmute();return qa.muted=!1,!0},this.unmuteAll=function(){qa.unmute()},this.toggleMute=function(a){return!!V(a)&&qa.sounds[a].toggleMute()},this.getMemoryUse=function(){var a=0;return sa&&8!==l&&(a=parseInt(sa._getMemoryUse(),10)),a},this.disable=function(c){var d;if(c===b&&(c=!1),Ea)return!1;for(Ea=!0,n("shutdown",1),d=qa.soundIDs.length-1;d>=0;d--)K(qa.sounds[qa.soundIDs[d]]);return o(c),ga.remove(a,"load",u),!0},this.canPlayMIME=function(a){var b;return qa.hasHTML5&&(b=ba({type:a})),!b&&Qa&&(b=a&&qa.ok()?!!((l>8?a.match(jb):null)||a.match(qa.mimePattern)):null),b},this.canPlayURL=function(a){var b;return qa.hasHTML5&&(b=ba({url:a})),!b&&Qa&&(b=a&&qa.ok()?!!a.match(qa.filePattern):null),b},this.canPlayLink=function(a){return!(a.type===b||!a.type||!qa.canPlayMIME(a.type))||qa.canPlayURL(a.href)},this.getSoundById=function(a,b){if(!a)return null;var c=qa.sounds[a];return c||b||qa._wD(ta+'.getSoundById(): Sound "'+a+'" not found.',2),c},this.onready=function(b,c){var d="onready";if("function"!=typeof b)throw N("needFunction",d);return Da&&qa._wD(N("queue",d)),c||(c=a),s(d,b,c),t(),!0},this.ontimeout=function(b,c){var d="ontimeout";if("function"!=typeof b)throw N("needFunction",d);return Da&&qa._wD(N("queue",d)),c||(c=a),s(d,b,c),t({type:d}),!0},this._writeDebug=function(a,c){var d,e;return!(!qa.setupOptions.debugMode||!(bb&&qa.useConsole&&(c&&"object"==typeof c?console.log(a,c):Ha[c]!==b?console[Ha[c]](a):console.log(a),qa.consoleOnly))&&(!(d=h("soundmanager-debug"))||(e=ya.createElement("div"),++Ga%2==0&&(e.className="sm2-alt"),c=c===b?0:parseInt(c,10),e.appendChild(ya.createTextNode(a)),c&&(c>=2&&(e.style.fontWeight="bold"),3===c&&(e.style.color="#ff3333")),d.insertBefore(e,d.firstChild),d=null,0)))},xa.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(b){a.alert(b)}),this._wD=this._writeDebug,this._debug=function(){var a,b;for(n("currentObj",1),a=0,b=qa.soundIDs.length;a<b;a++)qa.sounds[qa.soundIDs[a]]._debug()},this.reboot=function(b,c){qa.soundIDs.length&&qa._wD("Destroying "+qa.soundIDs.length+" SMSound object"+(1!==qa.soundIDs.length?"s":"")+"...");var d,e,f;for(d=qa.soundIDs.length-1;d>=0;d--)qa.sounds[qa.soundIDs[d]].destruct();if(sa)try{Xa&&(Ka=sa.innerHTML),Ja=sa.parentNode.removeChild(sa)}catch(g){n("badRemove",2)}if(Ka=Ja=Qa=sa=null,qa.enabled=E=Da=La=Ma=Ba=Ca=Ea=Sa=qa.swfLoaded=!1,qa.soundIDs=[],qa.sounds={},Ta=0,pa=!1,b)za=[];else for(d in za)if(za.hasOwnProperty(d))for(e=0,f=za[d].length;e<f;e++)za[d][e].fired=!1;return c||qa._wD(ta+": Rebooting..."),qa.html5={usingFlash:null},qa.flash={},qa.html5Only=!1,qa.ignoreFlash=!1,a.setTimeout(function(){c||qa.beginDelayedInit()},20),qa},this.reset=function(){return n("reset"),qa.reboot(!0,!0)},this.getMoviePercent=function(){return sa&&"PercentLoaded"in sa?sa.PercentLoaded():null},this.beginDelayedInit=function(){Fa=!0,C(),setTimeout(function(){return!Ma&&(G(),B(),Ma=!0,!0)},20),v()},this.destruct=function(){qa._wD(ta+".destruct()"),qa.disable(!0)},g=function(a){var c,d,e,f,g,h,i,j,k,o,q=this,r=!1,s=[],t=0,u=null;k={duration:null,time:null},this.id=a.id,this.sID=this.id,this.url=a.url,this.options=p(a),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,o=!this.url,this.id3={},this._debug=function(){qa._wD(q.id+": Merged options:",q.options)},this.load=function(a){var c,d=null;if(a!==b?q._iO=p(a,q.options):(a=q.options,q._iO=a,u&&u!==q.url&&(n("manURL"),q._iO.url=q.url,q.url=null)),q._iO.url||(q._iO.url=q.url),q._iO.url=Z(q._iO.url),q.instanceOptions=q._iO,c=q._iO,qa._wD(q.id+": load ("+c.url+")"),!c.url&&!q.url)return qa._wD(q.id+": load(): url is unassigned. Exiting.",2),q;if(q.isHTML5||8!==l||q.url||c.autoPlay||qa._wD(q.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),c.url===q.url&&0!==q.readyState&&2!==q.readyState)return n("onURL",1),3===q.readyState&&c.onload&&oa(q,function(){c.onload.apply(q,[!!q.duration])}),q;if(q.loaded=!1,q.readyState=1,q.playState=0,q.id3={},aa(c))d=q._setup_html5(c),d._called_load?qa._wD(q.id+": Ignoring request to load again"):(q._html5_canplay=!1,q.url!==c.url&&(qa._wD(n("manURL")+": "+c.url),q._a.src=c.url,q.setPosition(0)),q._a.autobuffer="auto",q._a.preload="auto",q._a._called_load=!0);else{if(qa.html5Only)return qa._wD(q.id+": No flash support. Exiting."),q;if(q._iO.url&&q._iO.url.match(/data\:/i))return qa._wD(q.id+": data: URIs not supported via Flash. Exiting."),q;try{q.isHTML5=!1,q._iO=T(S(c)),q._iO.autoPlay&&(q._iO.position||q._iO.from)&&(qa._wD(q.id+": Disabling autoPlay because of non-zero offset case"),q._iO.autoPlay=!1),c=q._iO,8===l?sa._load(q.id,c.url,c.stream,c.autoPlay,c.usePolicyFile):sa._load(q.id,c.url,!!c.stream,!!c.autoPlay,c.loops||1,!!c.autoLoad,c.usePolicyFile)}catch(e){n("smError",2),m("onload",!1),H({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return q.url=c.url,q},this.unload=function(){return 0!==q.readyState&&(qa._wD(q.id+": unload()"),q.isHTML5?(f(),q._a&&(q._a.pause(),u=da(q._a))):8===l?sa._unload(q.id,gb):sa._unload(q.id),c()),q},this.destruct=function(a){qa._wD(q.id+": Destruct"),q.isHTML5?(f(),q._a&&(q._a.pause(),da(q._a),Sa||e(),q._a._s=null,q._a=null)):(q._iO.onfailure=null,sa._destroySound(q.id)),a||qa.destroySound(q.id,!0)},this.play=function(a,c){var d,e,f,i,k,m,n,s=!0,t=null;if(d=q.id+": play(): ",c=c===b||c,a||(a={}),q.url&&(q._iO.url=q.url),q._iO=p(q._iO,q.options),q._iO=p(a,q._iO),q._iO.url=Z(q._iO.url),q.instanceOptions=q._iO,!q.isHTML5&&q._iO.serverURL&&!q.connected)return q.getAutoPlay()||(qa._wD(d+" Netstream not connected yet - setting autoPlay"),q.setAutoPlay(!0)),q;if(aa(q._iO)&&(q._setup_html5(q._iO),g()),1!==q.playState||q.paused||(e=q._iO.multiShot,e?qa._wD(d+"Already playing (multi-shot)",1):(qa._wD(d+"Already playing (one-shot)",1),q.isHTML5&&q.setPosition(q._iO.position),t=q)),null!==t)return t;if(a.url&&a.url!==q.url&&(q.readyState||q.isHTML5||8!==l||!o?q.load(q._iO):o=!1),q.loaded?qa._wD(d.substr(0,d.lastIndexOf(":"))):0===q.readyState?(qa._wD(d+"Attempting to load"),q.isHTML5||qa.html5Only?q.isHTML5?q.load(q._iO):(qa._wD(d+"Unsupported type. Exiting."),t=q):(q._iO.autoPlay=!0,q.load(q._iO)),q.instanceOptions=q._iO):2===q.readyState?(qa._wD(d+"Could not load - exiting",2),t=q):qa._wD(d+"Loading - attempting to play..."),null!==t)return t;if(!q.isHTML5&&9===l&&q.position>0&&q.position===q.duration&&(qa._wD(d+"Sound at end, resetting to position: 0"),a.position=0),q.paused&&q.position>=0&&(!q._iO.serverURL||q.position>0))qa._wD(d+"Resuming from paused state",1),q.resume();else{if(q._iO=p(a,q._iO),(!q.isHTML5&&null!==q._iO.position&&q._iO.position>0||null!==q._iO.from&&q._iO.from>0||null!==q._iO.to)&&0===q.instanceCount&&0===q.playState&&!q._iO.serverURL){if(i=function(){q._iO=p(a,q._iO),q.play(q._iO)},q.isHTML5&&!q._html5_canplay?(qa._wD(d+"Beginning load for non-zero offset case"),q.load({_oncanplay:i}),t=!1):q.isHTML5||q.loaded||q.readyState&&2===q.readyState||(qa._wD(d+"Preloading for non-zero offset case"),q.load({onload:i}),t=!1),null!==t)return t;q._iO=j()}(!q.instanceCount||q._iO.multiShotEvents||q.isHTML5&&q._iO.multiShot&&!Sa||!q.isHTML5&&l>8&&!q.getAutoPlay())&&q.instanceCount++,q._iO.onposition&&0===q.playState&&h(q),q.playState=1,q.paused=!1,q.position=q._iO.position===b||isNaN(q._iO.position)?0:q._iO.position,q.isHTML5||(q._iO=T(S(q._iO))),q._iO.onplay&&c&&(q._iO.onplay.apply(q),r=!0),q.setVolume(q._iO.volume,!0),q.setPan(q._iO.pan,!0),q.isHTML5?q.instanceCount<2?(g(),f=q._setup_html5(),q.setPosition(q._iO.position),f.play()):(qa._wD(q.id+": Cloning Audio() for instance #"+q.instanceCount+"..."),k=new Audio(q._iO.url),m=function(){ga.remove(k,"ended",m),q._onfinish(q),da(k),k=null},n=function(){ga.remove(k,"canplay",n);try{k.currentTime=q._iO.position/Ua}catch(a){U(q.id+": multiShot play() failed to apply position of "+q._iO.position/Ua)}k.play()},ga.add(k,"ended",m),q._iO.volume!==b&&(k.volume=Math.max(0,Math.min(1,q._iO.volume/100))),q.muted&&(k.muted=!0),q._iO.position?ga.add(k,"canplay",n):k.play()):(s=sa._start(q.id,q._iO.loops||1,9===l?q.position:q.position/Ua,q._iO.multiShot||!1),9!==l||s||(qa._wD(d+"No sound hardware, or 32-sound ceiling hit",2),q._iO.onplayerror&&q._iO.onplayerror.apply(q)))}return q},this.start=this.play,this.stop=function(a){var b,c=q._iO;return 1===q.playState&&(qa._wD(q.id+": stop()"),q._onbufferchange(0),q._resetOnPosition(0),q.paused=!1,q.isHTML5||(q.playState=0),i(),c.to&&q.clearOnPosition(c.to),q.isHTML5?q._a&&(b=q.position,q.setPosition(0),q.position=b,q._a.pause(),q.playState=0,q._onTimer(),f()):(sa._stop(q.id,a),c.serverURL&&q.unload()),q.instanceCount=0,q._iO={},c.onstop&&c.onstop.apply(q)),q},this.setAutoPlay=function(a){qa._wD(q.id+": Autoplay turned "+(a?"on":"off")),q._iO.autoPlay=a,q.isHTML5||(sa._setAutoPlay(q.id,a),a&&(q.instanceCount||1!==q.readyState||(q.instanceCount++,qa._wD(q.id+": Incremented instance count to "+q.instanceCount))))},this.getAutoPlay=function(){return q._iO.autoPlay},this.setPosition=function(a){a===b&&(a=0);var c,d,e=q.isHTML5?Math.max(a,0):Math.min(q.duration||q._iO.duration,Math.max(a,0));if(q.position=e,d=q.position/Ua,q._resetOnPosition(q.position),q._iO.position=e,q.isHTML5){if(q._a){if(q._html5_canplay){if(q._a.currentTime!==d){qa._wD(q.id+": setPosition("+d+")");try{q._a.currentTime=d,(0===q.playState||q.paused)&&q._a.pause()}catch(f){qa._wD(q.id+": setPosition("+d+") failed: "+f.message,2)}}}else if(d)return qa._wD(q.id+": setPosition("+d+"): Cannot seek yet, sound not ready",2),q;q.paused&&q._onTimer(!0)}}else c=9===l?q.position:d,q.readyState&&2!==q.readyState&&sa._setPosition(q.id,c,q.paused||!q.playState,q._iO.multiShot);return q},this.pause=function(a){return q.paused||0===q.playState&&1!==q.readyState?q:(qa._wD(q.id+": pause()"),q.paused=!0,q.isHTML5?(q._setup_html5().pause(),f()):(a||a===b)&&sa._pause(q.id,q._iO.multiShot),q._iO.onpause&&q._iO.onpause.apply(q),q)},this.resume=function(){var a=q._iO;return q.paused?(qa._wD(q.id+": resume()"),q.paused=!1,q.playState=1,q.isHTML5?(q._setup_html5().play(),g()):(a.isMovieStar&&!a.serverURL&&q.setPosition(q.position),sa._pause(q.id,a.multiShot)),!r&&a.onplay?(a.onplay.apply(q),r=!0):a.onresume&&a.onresume.apply(q),q):q},this.togglePause=function(){return qa._wD(q.id+": togglePause()"),0===q.playState?(q.play({position:9!==l||q.isHTML5?q.position/Ua:q.position}),q):(q.paused?q.resume():q.pause(),q)},this.setPan=function(a,c){return a===b&&(a=0),c===b&&(c=!1),q.isHTML5||sa._setPan(q.id,a),q._iO.pan=a,c||(q.pan=a,q.options.pan=a),q},this.setVolume=function(a,c){return a===b&&(a=100),c===b&&(c=!1),q.isHTML5?q._a&&(qa.muted&&!q.muted&&(q.muted=!0,q._a.muted=!0),q._a.volume=Math.max(0,Math.min(1,a/100))):sa._setVolume(q.id,qa.muted&&!q.muted||q.muted?0:a),q._iO.volume=a,c||(q.volume=a,q.options.volume=a),q},this.mute=function(){return q.muted=!0,q.isHTML5?q._a&&(q._a.muted=!0):sa._setVolume(q.id,0),q},this.unmute=function(){q.muted=!1;var a=q._iO.volume!==b;return q.isHTML5?q._a&&(q._a.muted=!1):sa._setVolume(q.id,a?q._iO.volume:q.options.volume),q},this.toggleMute=function(){return q.muted?q.unmute():q.mute()},this.onPosition=function(a,c,d){return s.push({position:parseInt(a,10),method:c,scope:d!==b?d:q,fired:!1}),q},this.onposition=this.onPosition,this.clearOnPosition=function(a,b){var c;if(a=parseInt(a,10),isNaN(a))return!1;for(c=0;c<s.length;c++)a===s[c].position&&(b&&b!==s[c].method||(s[c].fired&&t--,s.splice(c,1)))},this._processOnPosition=function(){var a,b,c=s.length;if(!c||!q.playState||t>=c)return!1;for(a=c-1;a>=0;a--)b=s[a],!b.fired&&q.position>=b.position&&(b.fired=!0,t++,b.method.apply(b.scope,[b.position]),c=s.length);return!0},this._resetOnPosition=function(a){var b,c,d=s.length;if(!d)return!1;for(b=d-1;b>=0;b--)c=s[b],c.fired&&a<=c.position&&(c.fired=!1,t--);return!0},j=function(){var a,b,c=q._iO,d=c.from,e=c.to;return b=function(){qa._wD(q.id+': "To" time of '+e+" reached."),q.clearOnPosition(e,b),q.stop()},a=function(){qa._wD(q.id+': Playing "from" '+d),null===e||isNaN(e)||q.onPosition(e,b)},null===d||isNaN(d)||(c.position=d,c.multiShot=!1,a()),c},h=function(){var a,b=q._iO.onposition;if(b)for(a in b)b.hasOwnProperty(a)&&q.onPosition(parseInt(a,10),b[a])},i=function(){var a,b=q._iO.onposition;if(b)for(a in b)b.hasOwnProperty(a)&&q.clearOnPosition(parseInt(a,10))},g=function(){q.isHTML5&&W(q)},f=function(){q.isHTML5&&X(q)},c=function(a){a||(s=[],t=0),r=!1,q._hasTimer=null,q._a=null,q._html5_canplay=!1,q.bytesLoaded=null,q.bytesTotal=null,q.duration=q._iO&&q._iO.duration?q._iO.duration:null,q.durationEstimate=null,q.buffered=[],q.eqData=[],q.eqData.left=[],q.eqData.right=[],q.failures=0,q.isBuffering=!1,q.instanceOptions={},q.instanceCount=0,q.loaded=!1,q.metadata={},q.readyState=0,q.muted=!1,q.paused=!1,q.peakData={left:0,right:0},q.waveformData={left:[],right:[]},q.playState=0,q.position=null,q.id3={}},c(),this._onTimer=function(a){var b,c,d=!1,e={};if(q._hasTimer||a)return q._a&&(a||(q.playState>0||1===q.readyState)&&!q.paused)&&(b=q._get_html5_duration(),b!==k.duration&&(k.duration=b,q.duration=b,d=!0),q.durationEstimate=q.duration,c=q._a.currentTime*Ua||0,c!==k.time&&(k.time=c,d=!0),(d||a)&&q._whileplaying(c,e,e,e,e)),d},this._get_html5_duration=function(){var a=q._iO,b=q._a&&q._a.duration?q._a.duration*Ua:a&&a.duration?a.duration:null;return b&&!isNaN(b)&&b!==1/0?b:null},this._apply_loop=function(a,b){!a.loop&&b>1&&qa._wD("Note: Native HTML5 looping is infinite.",1),a.loop=b>1?"loop":""},this._setup_html5=function(a){var b,e=p(q._iO,a),f=Sa?ra:q._a,g=decodeURI(e.url);if(Sa?g===decodeURI(ha)&&(b=!0):g===decodeURI(u)&&(b=!0),f){if(f._s)if(Sa)f._s&&f._s.playState&&!b&&f._s.stop();else if(!Sa&&g===decodeURI(u))return q._apply_loop(f,e.loops),f;b||(u&&c(!1),f.src=e.url,q.url=e.url,u=e.url,ha=e.url,f._called_load=!1)}else e.autoLoad||e.autoPlay?(q._a=new Audio(e.url),q._a.load()):q._a=$a&&opera.version()<10?new Audio(null):new Audio,f=q._a,f._called_load=!1,Sa&&(ra=f);return q.isHTML5=!0,q._a=f,f._s=q,d(),q._apply_loop(f,e.loops),e.autoLoad||e.autoPlay?q.load():(f.autobuffer=!1,f.preload="auto"),f},d=function(){function a(a,b,c){return q._a?q._a.addEventListener(a,b,c||!1):null}if(q._a._added_events)return!1;var b;q._a._added_events=!0;for(b in la)la.hasOwnProperty(b)&&a(b,la[b]);return!0},e=function(){function a(a,b,c){return q._a?q._a.removeEventListener(a,b,c||!1):null}var b;qa._wD(q.id+": Removing event listeners"),q._a._added_events=!1;for(b in la)la.hasOwnProperty(b)&&a(b,la[b])},this._onload=function(a){var b,c=!!a||!q.isHTML5&&8===l&&q.duration;return b=q.id+": ",qa._wD(b+(c?"onload()":"Failed to load / invalid sound?"+(q.duration?" -":" Zero-length duration reported.")+" ("+q.url+")"),c?1:2),c||q.isHTML5||(qa.sandbox.noRemote===!0&&qa._wD(b+N("noNet"),1),qa.sandbox.noLocal===!0&&qa._wD(b+N("noLocal"),1)),q.loaded=c,q.readyState=c?3:2,q._onbufferchange(0),q._iO.onload&&oa(q,function(){q._iO.onload.apply(q,[c])}),!0},this._onbufferchange=function(a){return!(0===q.playState||a&&q.isBuffering||!a&&!q.isBuffering||(q.isBuffering=1===a,q._iO.onbufferchange&&(qa._wD(q.id+": Buffer state change: "+a),q._iO.onbufferchange.apply(q,[a])),0))},this._onsuspend=function(){return q._iO.onsuspend&&(qa._wD(q.id+": Playback suspended"),q._iO.onsuspend.apply(q)),!0},this._onfailure=function(a,b,c){q.failures++,qa._wD(q.id+": Failure ("+q.failures+"): "+a),q._iO.onfailure&&1===q.failures?q._iO.onfailure(a,b,c):qa._wD(q.id+": Ignoring failure")},this._onwarning=function(a,b,c){q._iO.onwarning&&q._iO.onwarning(a,b,c)},this._onfinish=function(){var a=q._iO.onfinish;q._onbufferchange(0),q._resetOnPosition(0),q.instanceCount&&(q.instanceCount--,q.instanceCount||(i(),q.playState=0,q.paused=!1,q.instanceCount=0,q.instanceOptions={},q._iO={},f(),q.isHTML5&&(q.position=0)),q.instanceCount&&!q._iO.multiShotEvents||a&&(qa._wD(q.id+": onfinish()"),oa(q,function(){a.apply(q)})))},this._whileloading=function(a,b,c,d){var e=q._iO;q.bytesLoaded=a,q.bytesTotal=b,q.duration=Math.floor(c),q.bufferLength=d,q.isHTML5||e.isMovieStar?q.durationEstimate=q.duration:e.duration?q.durationEstimate=q.duration>e.duration?q.duration:e.duration:q.durationEstimate=parseInt(q.bytesTotal/q.bytesLoaded*q.duration,10),q.isHTML5||(q.buffered=[{start:0,end:q.duration}]),(3!==q.readyState||q.isHTML5)&&e.whileloading&&e.whileloading.apply(q)},this._whileplaying=function(a,c,d,e,f){var g,h=q._iO;return!isNaN(a)&&null!==a&&(q.position=Math.max(0,a),q._processOnPosition(),!q.isHTML5&&l>8&&(h.usePeakData&&c!==b&&c&&(q.peakData={left:c.leftPeak,right:c.rightPeak}),h.useWaveformData&&d!==b&&d&&(q.waveformData={left:d.split(","),right:e.split(",")}),h.useEQData&&f!==b&&f&&f.leftEQ&&(g=f.leftEQ.split(","),q.eqData=g,q.eqData.left=g,f.rightEQ!==b&&f.rightEQ&&(q.eqData.right=f.rightEQ.split(",")))),1===q.playState&&(q.isHTML5||8!==l||q.position||!q.isBuffering||q._onbufferchange(0),h.whileplaying&&h.whileplaying.apply(q)),!0)},this._oncaptiondata=function(a){qa._wD(q.id+": Caption data received."),q.captiondata=a,q._iO.oncaptiondata&&q._iO.oncaptiondata.apply(q,[a])},this._onmetadata=function(a,b){qa._wD(q.id+": Metadata received.");var c,d,e={};for(c=0,d=a.length;c<d;c++)e[a[c]]=b[c];q.metadata=e,q._iO.onmetadata&&q._iO.onmetadata.call(q,q.metadata)},this._onid3=function(a,b){qa._wD(q.id+": ID3 data received.");var c,d,e=[];for(c=0,d=a.length;c<d;c++)e[a[c]]=b[c];q.id3=p(q.id3,e),q._iO.onid3&&q._iO.onid3.apply(q)},this._onconnect=function(a){a=1===a,qa._wD(q.id+": "+(a?"Connected.":"Failed to connect? - "+q.url),a?1:2),q.connected=a,a&&(q.failures=0,V(q.id)&&(q.getAutoPlay()?q.play(b,q.getAutoPlay()):q._iO.autoLoad&&q.load()),q._iO.onconnect&&q._iO.onconnect.apply(q,[a]))},this._ondataerror=function(a){q.playState>0&&(qa._wD(q.id+": Data error: "+a),q._iO.ondataerror&&q._iO.ondataerror.apply(q))},this._debug()},F=function(){return ya.body||ya.getElementsByTagName("div")[0]},h=function(a){return ya.getElementById(a)},p=function(a,c){var d,e,f=a||{};d=c===b?qa.defaultOptions:c;for(e in d)d.hasOwnProperty(e)&&f[e]===b&&("object"!=typeof d[e]||null===d[e]?f[e]=d[e]:f[e]=p(f[e],d[e]));return f},oa=function(b,c){b.isHTML5||8!==l?c():a.setTimeout(c,0)},r={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},q=function(a,c){var d,e=!0,f=c!==b,g=qa.setupOptions,h=r;if(a===b){e=[];for(d in g)g.hasOwnProperty(d)&&e.push(d);for(d in h)h.hasOwnProperty(d)&&("object"==typeof qa[d]?e.push(d+": {...}"):qa[d]instanceof Function?e.push(d+": function() {...}"):e.push(d));return qa._wD(N("setup",e.join(", "))),!1}for(d in a)if(a.hasOwnProperty(d))if("object"!=typeof a[d]||null===a[d]||a[d]instanceof Array||a[d]instanceof RegExp)f&&h[c]!==b?qa[c][d]=a[d]:g[d]!==b?(qa.setupOptions[d]=a[d],qa[d]=a[d]):h[d]===b?(U(N(qa[d]===b?"setupUndef":"setupError",d),2),e=!1):qa[d]instanceof Function?qa[d].apply(qa,a[d]instanceof Array?a[d]:[a[d]]):qa[d]=a[d];else{if(h[d]!==b)return q(a[d],d);U(N(qa[d]===b?"setupUndef":"setupError",d),2),e=!1}return e},ga=function(){function b(a){var b=Ra.call(a),c=b.length;return f?(b[1]="on"+b[1],c>3&&b.pop()):3===c&&b.push(!1),b}function c(a,b){var c=a.shift(),d=[g[b]];f?c[d](a[0],a[1]):c[d].apply(c,a)}function d(){c(b(arguments),"add")}function e(){c(b(arguments),"remove")}var f=a.attachEvent,g={add:f?"attachEvent":"addEventListener",remove:f?"detachEvent":"removeEventListener"};return{add:d,remove:e}}(),la={abort:f(function(){qa._wD(this._s.id+": abort")}),canplay:f(function(){var a,c=this._s;if(c._html5_canplay)return!0;if(c._html5_canplay=!0,qa._wD(c.id+": canplay"),c._onbufferchange(0),a=c._iO.position===b||isNaN(c._iO.position)?null:c._iO.position/Ua,this.currentTime!==a){qa._wD(c.id+": canplay: Setting position to "+a);try{this.currentTime=a}catch(d){qa._wD(c.id+": canplay: Setting position of "+a+" failed: "+d.message,2)}}c._iO._oncanplay&&c._iO._oncanplay()}),canplaythrough:f(function(){var a=this._s;a.loaded||(a._onbufferchange(0),a._whileloading(a.bytesLoaded,a.bytesTotal,a._get_html5_duration()),a._onload(!0))}),durationchange:f(function(){var a,b=this._s;a=b._get_html5_duration(),isNaN(a)||a===b.duration||(qa._wD(this._s.id+": durationchange ("+a+")"+(b.duration?", previously "+b.duration:"")),b.durationEstimate=b.duration=a)}),ended:f(function(){var a=this._s;qa._wD(a.id+": ended"),a._onfinish()}),error:f(function(){qa._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:f(function(){var a=this._s;qa._wD(a.id+": loadeddata"),a._loaded||Za||(a.duration=a._get_html5_duration())}),loadedmetadata:f(function(){qa._wD(this._s.id+": loadedmetadata")}),loadstart:f(function(){qa._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:f(function(){this._s._onbufferchange(0)}),playing:f(function(){qa._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:f(function(a){var b,c,d,e=this._s,f=0,g="progress"===a.type,h=a.target.buffered,i=a.loaded||0,j=a.total||1;if(e.buffered=[],h&&h.length){for(b=0,c=h.length;b<c;b++)e.buffered.push({start:h.start(b)*Ua,end:h.end(b)*Ua});if(f=(h.end(0)-h.start(0))*Ua,i=Math.min(1,f/(a.target.duration*Ua)),g&&h.length>1){for(d=[],c=h.length,b=0;b<c;b++)d.push(a.target.buffered.start(b)*Ua+"-"+a.target.buffered.end(b)*Ua);qa._wD(this._s.id+": progress, timeRanges: "+d.join(", "))}g&&!isNaN(i)&&qa._wD(this._s.id+": progress, "+Math.floor(100*i)+"% loaded")}isNaN(i)||(e._whileloading(i,j,e._get_html5_duration()),i&&j&&i===j&&la.canplaythrough.call(this,a))}),ratechange:f(function(){qa._wD(this._s.id+": ratechange")}),suspend:f(function(a){var b=this._s;qa._wD(this._s.id+": suspend"),la.progress.call(this,a),b._onsuspend()}),stalled:f(function(){qa._wD(this._s.id+": stalled")}),timeupdate:f(function(){this._s._onTimer()}),waiting:f(function(){var a=this._s;qa._wD(this._s.id+": waiting"),a._onbufferchange(1)})},aa=function(a){return!(!a||!(a.type||a.url||a.serverURL))&&!(a.serverURL||a.type&&e(a.type))&&(a.type?ba({type:a.type}):ba({url:a.url})||qa.html5Only||a.url.match(/data\:/i))},da=function(a){var c;return a&&(c=Za?gb:qa.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":gb,a.src=c,a._called_unload!==b&&(a._called_load=!1)),Sa&&(ha=null),c},ba=function(a){if(!qa.useHTML5Audio||!qa.hasHTML5)return!1;var c,d,f,g,h=a.url||null,i=a.type||null,j=qa.audioFormats;if(i&&qa.html5[i]!==b)return qa.html5[i]&&!e(i);if(!ca){ca=[];for(g in j)j.hasOwnProperty(g)&&(ca.push(g),j[g].related&&(ca=ca.concat(j[g].related)));ca=new RegExp("\\.("+ca.join("|")+")(\\?.*)?$","i")}return f=h?h.toLowerCase().match(ca):null,f&&f.length?f=f[1]:i?(d=i.indexOf(";"),f=(d!==-1?i.substr(0,d):i).substr(6)):c=!1,f&&qa.html5[f]!==b?c=qa.html5[f]&&!e(f):(i="audio/"+f,c=qa.html5.canPlayType({type:i}),qa.html5[f]=c,c=c&&qa.html5[i]&&!e(i)),c},fa=function(){function a(a){var b,c,d=!1,e=!1;if(!g||"function"!=typeof g.canPlayType)return d;if(a instanceof Array){for(f=0,c=a.length;f<c;f++)(qa.html5[a[f]]||g.canPlayType(a[f]).match(qa.html5Test))&&(e=!0,qa.html5[a[f]]=!0,qa.flash[a[f]]=!!a[f].match(fb));d=e}else b=!(!g||"function"!=typeof g.canPlayType)&&g.canPlayType(a),d=!(!b||!b.match(qa.html5Test));return d}if(!qa.useHTML5Audio||!qa.hasHTML5)return qa.html5.usingFlash=!0,Qa=!0,!1;var c,d,e,f,g=Audio!==b?$a&&opera.version()<10?new Audio(null):new Audio:null,h={};e=qa.audioFormats;for(c in e)if(e.hasOwnProperty(c)&&(d="audio/"+c,h[c]=a(e[c].type),h[d]=h[c],c.match(fb)?(qa.flash[c]=!0,qa.flash[d]=!0):(qa.flash[c]=!1,qa.flash[d]=!1),e[c]&&e[c].related))for(f=e[c].related.length-1;f>=0;f--)h["audio/"+e[c].related[f]]=h[c],qa.html5[e[c].related[f]]=h[c],qa.flash[e[c].related[f]]=h[c];return h.canPlayType=g?a:null,qa.html5=p(qa.html5,h),qa.html5.usingFlash=_(),Qa=qa.html5.usingFlash,!0},A={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:ta+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:ua+"Verify that %s is a valid path.",tryDebug:"Try "+ta+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:ua+"Non-HTTP page ("+ya.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:ua+"Special case: Waiting for SWF to load with window focus...",waitForever:ua+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:ua+"Waiting for 100% SWF load...",needFunction:ua+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:ua+"_debug(): Current sound objects",waitOnload:ua+"Waiting for window.onload()",docLoaded:ua+"Document already loaded",onload:ua+"initComplete(): calling soundManager.onload()",onloadOK:ta+".onload() complete",didInit:ua+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:ua+"Failed to remove Flash node.",shutdown:ta+".disable(): Shutting down",queue:ua+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+Q.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:ua+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ta+".load(): current URL already assigned.",badFV:ta+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:ua+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:ua+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:ta+".setup(): allowed parameters: %s",setupError:ta+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ta+'.setup(): Could not find option "%s"',setupLate:ta+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:ua+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:ta+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},N=function(){var a,b,c,d,e;if(a=Ra.call(arguments),d=a.shift(),(e=A&&A[d]?A[d]:"")&&a&&a.length)for(b=0,c=a.length;b<c;b++)e=e.replace("%s",a[b]);return e},S=function(a){return 8===l&&a.loops>1&&a.stream&&(n("as2loop"),a.stream=!1),a},T=function(a,b){return a&&!a.usePolicyFile&&(a.onid3||a.usePeakData||a.useWaveformData||a.useEQData)&&(qa._wD((b||"")+N("policy")),a.usePolicyFile=!0),a},U=function(a){bb&&console.warn!==b?console.warn(a):qa._wD(a)},i=function(){return!1},K=function(a){var b;for(b in a)a.hasOwnProperty(b)&&"function"==typeof a[b]&&(a[b]=i);b=null},L=function(a){a===b&&(a=!1),(Ea||a)&&qa.disable(a)},M=function(a){var b;if(a)if(a.match(/\.swf(\?.*)?$/i)){if(a.substr(a.toLowerCase().lastIndexOf(".swf?")+4))return a}else a.lastIndexOf("/")!==a.length-1&&(a+="/");return b=(a&&a.lastIndexOf("/")!==-1?a.substr(0,a.lastIndexOf("/")+1):"./")+qa.movieURL,qa.noSWFCache&&(b+="?ts="+(new Date).getTime()),b},y=function(){8!==(l=parseInt(qa.flashVersion,10))&&9!==l&&(qa._wD(N("badFV",l,Ia)),qa.flashVersion=l=Ia);var a=qa.debugMode||qa.debugFlash?"_debug.swf":".swf";qa.useHTML5Audio&&!qa.html5Only&&qa.audioFormats.mp4.required&&l<9&&(qa._wD(N("needfl9")),qa.flashVersion=l=9),qa.version=qa.versionNumber+(qa.html5Only?" (HTML5-only mode)":9===l?" (AS3/Flash 9)":" (AS2/Flash 8)"),l>8?(qa.defaultOptions=p(qa.defaultOptions,qa.flash9Options),qa.features.buffering=!0,qa.defaultOptions=p(qa.defaultOptions,qa.movieStarOptions),qa.filePatterns.flash9=new RegExp("\\.(mp3|"+kb.join("|")+")(\\?.*)?$","i"),qa.features.movieStar=!0):qa.features.movieStar=!1,qa.filePattern=qa.filePatterns[8!==l?"flash9":"flash8"],qa.movieURL=(8===l?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",a),qa.features.peakData=qa.features.waveformData=qa.features.eqData=l>8},I=function(a,b){if(!sa)return!1;sa._setPolling(a,b)},J=function(){if(qa.debugURLParam.test(xa)&&(qa.setupOptions.debugMode=qa.debugMode=!0),h(qa.debugID))return!1;var a,b,c,d,e;if(qa.debugMode&&!h(qa.debugID)&&(!bb||!qa.useConsole||!qa.consoleOnly)){a=ya.createElement("div"),a.id=qa.debugID+"-toggle",d={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},a.appendChild(ya.createTextNode("-")),a.onclick=R,a.title="Toggle SM2 debug console",wa.match(/msie 6/i)&&(a.style.position="absolute",a.style.cursor="hand");for(e in d)d.hasOwnProperty(e)&&(a.style[e]=d[e]);if(b=ya.createElement("div"),b.id=qa.debugID,b.style.display=qa.debugMode?"block":"none",qa.debugMode&&!h(a.id)){try{c=F(),c.appendChild(a)}catch(f){throw new Error(N("domError")+" \n"+f.toString())}c.appendChild(b)}}c=null},V=this.getSoundById,n=function(a,b){return a?qa._wD(N(a),b):""},R=function(){var a=h(qa.debugID),b=h(qa.debugID+"-toggle");if(!a)return!1;Aa?(b.innerHTML="+",a.style.display="none"):(b.innerHTML="-",a.style.display="block"),Aa=!Aa},m=function(c,d,e){if(a.sm2Debugger!==b)try{sm2Debugger.handleEvent(c,d,e)}catch(f){return!1}return!0},P=function(){var a=[];return qa.debugMode&&a.push(Q.sm2Debug),qa.debugFlash&&a.push(Q.flashDebug),qa.useHighPerformance&&a.push(Q.highPerf),a.join(" ")},O=function(){var a=N("fbHandler"),b=qa.getMoviePercent(),c=Q,d={type:"FLASHBLOCK"};if(qa.html5Only)return!1;qa.ok()?(qa.didFlashBlock&&qa._wD(a+": Unblocked"),qa.oMC&&(qa.oMC.className=[P(),c.swfDefault,c.swfLoaded+(qa.didFlashBlock?" "+c.swfUnblocked:"")].join(" "))):(Qa&&(qa.oMC.className=P()+" "+c.swfDefault+" "+(null===b?c.swfTimedout:c.swfError),qa._wD(a+": "+N("fbTimeout")+(b?" ("+N("fbLoaded")+")":""))),qa.didFlashBlock=!0,t({type:"ontimeout",ignoreInit:!0,error:d}),H(d))},s=function(a,c,d){za[a]===b&&(za[a]=[]),za[a].push({method:c,scope:d||null,fired:!1})},t=function(a){if(a||(a={type:qa.ok()?"onready":"ontimeout"}),!Da&&a&&!a.ignoreInit)return!1;if("ontimeout"===a.type&&(qa.ok()||Ea&&!a.ignoreInit))return!1;var b,c,d={success:a&&a.ignoreInit?qa.ok():!Ea},e=a&&a.type?za[a.type]||[]:[],f=[],g=[d],h=Qa&&!qa.ok();for(a.error&&(g[0].error=a.error),b=0,c=e.length;b<c;b++)e[b].fired!==!0&&f.push(e[b]);if(f.length)for(b=0,c=f.length;b<c;b++)f[b].scope?f[b].method.apply(f[b].scope,g):f[b].method.apply(this,g),h||(f[b].fired=!0);return!0},u=function(){a.setTimeout(function(){qa.useFlashBlock&&O(),t(),"function"==typeof qa.onload&&(n("onload",1),qa.onload.apply(a),n("onloadOK",1)),qa.waitForWindowLoad&&ga.add(a,"load",u)},1)},ja=function(){if(ia!==b)return ia;var c,d,e,f=!1,g=navigator,h=g.plugins,i=a.ActiveXObject;if(h&&h.length)d="application/x-shockwave-flash",(e=g.mimeTypes)&&e[d]&&e[d].enabledPlugin&&e[d].enabledPlugin.description&&(f=!0);else if(i!==b&&!wa.match(/MSAppHost/i)){try{c=new i("ShockwaveFlash.ShockwaveFlash")}catch(j){c=null}f=!!c,c=null}
return ia=f,f},_=function(){var a,b,c=qa.audioFormats;if(Va&&wa.match(/os (1|2|3_0|3_1)\s/i)?(qa.hasHTML5=!1,qa.html5Only=!0,qa.oMC&&(qa.oMC.style.display="none")):qa.useHTML5Audio&&(qa.html5&&qa.html5.canPlayType||(qa._wD("SoundManager: No HTML5 Audio() support detected."),qa.hasHTML5=!1),ab&&qa._wD(ua+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ia?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),qa.useHTML5Audio&&qa.hasHTML5){$=!0;for(b in c)c.hasOwnProperty(b)&&c[b].required&&(qa.html5.canPlayType(c[b].type)?qa.preferFlash&&(qa.flash[b]||qa.flash[c[b].type])&&(a=!0):($=!1,a=!0))}return qa.ignoreFlash&&(a=!1,$=!0),qa.html5Only=qa.hasHTML5&&qa.useHTML5Audio&&!a,!qa.html5Only},Z=function(a){var b,c,d,e=0;if(a instanceof Array){for(b=0,c=a.length;b<c;b++)if(a[b]instanceof Object){if(qa.canPlayMIME(a[b].type)){e=b;break}}else if(qa.canPlayURL(a[b])){e=b;break}a[e].url&&(a[e]=a[e].url),d=a[e]}else d=a;return d},W=function(a){a._hasTimer||(a._hasTimer=!0,!_a&&qa.html5PollingInterval&&(null===Oa&&0===Na&&(Oa=setInterval(Y,qa.html5PollingInterval)),Na++))},X=function(a){a._hasTimer&&(a._hasTimer=!1,!_a&&qa.html5PollingInterval&&Na--)},Y=function(){var a;if(null!==Oa&&!Na)return clearInterval(Oa),Oa=null,!1;for(a=qa.soundIDs.length-1;a>=0;a--)qa.sounds[qa.soundIDs[a]].isHTML5&&qa.sounds[qa.soundIDs[a]]._hasTimer&&qa.sounds[qa.soundIDs[a]]._onTimer()},H=function(c){c=c!==b?c:{},"function"==typeof qa.onerror&&qa.onerror.apply(a,[{type:c.type!==b?c.type:null}]),c.fatal!==b&&c.fatal&&qa.disable()},ka=function(){if(!ab||!ja())return!1;var a,b,c=qa.audioFormats;for(b in c)if(c.hasOwnProperty(b)&&("mp3"===b||"mp4"===b)&&(qa._wD(ta+": Using flash fallback for "+b+" format"),qa.html5[b]=!1,c[b]&&c[b].related))for(a=c[b].related.length-1;a>=0;a--)qa.html5[c[b].related[a]]=!1},this._setSandboxType=function(a){var c=qa.sandbox;c.type=a,c.description=c.types[c.types[a]!==b?a:"unknown"],"localWithFile"===c.type?(c.noRemote=!0,c.noLocal=!1,n("secNote",2)):"localWithNetwork"===c.type?(c.noRemote=!1,c.noLocal=!0):"localTrusted"===c.type&&(c.noRemote=!1,c.noLocal=!1)},this._externalInterfaceOK=function(a){if(qa.swfLoaded)return!1;var b;if(m("swf",!0),m("flashtojs",!0),qa.swfLoaded=!0,db=!1,ab&&ka(),!a||a.replace(/\+dev/i,"")!==qa.versionNumber.replace(/\+dev/i,""))return b=ta+': Fatal: JavaScript file build "'+qa.versionNumber+'" does not match Flash SWF build "'+a+'" at '+qa.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(b)},0),!1;setTimeout(k,Xa?100:1)},G=function(a,c){function d(){var a,b=[],c=[],d=" + ";a="SoundManager "+qa.version+(!qa.html5Only&&qa.useHTML5Audio?qa.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),qa.html5Only?qa.html5PollingInterval&&b.push("html5PollingInterval ("+qa.html5PollingInterval+"ms)"):(qa.preferFlash&&b.push("preferFlash"),qa.useHighPerformance&&b.push("useHighPerformance"),qa.flashPollingInterval&&b.push("flashPollingInterval ("+qa.flashPollingInterval+"ms)"),qa.html5PollingInterval&&b.push("html5PollingInterval ("+qa.html5PollingInterval+"ms)"),qa.wmode&&b.push("wmode ("+qa.wmode+")"),qa.debugFlash&&b.push("debugFlash"),qa.useFlashBlock&&b.push("flashBlock")),b.length&&(c=c.concat([b.join(d)])),qa._wD(a+(c.length?d+c.join(", "):""),1),ma()}function e(a,b){return'<param name="'+a+'" value="'+b+'" />'}if(Ba&&Ca)return!1;if(qa.html5Only)return y(),d(),qa.oMC=h(qa.movieID),k(),Ba=!0,Ca=!0,!1;var f,g,i,j,l,m,n,o,p=c||qa.url,q=qa.altURL||p,r=F(),s=P(),t=null,u=ya.getElementsByTagName("html")[0];if(t=u&&u.dir&&u.dir.match(/rtl/i),a=a===b?qa.id:a,y(),qa.url=M(hb?p:q),c=qa.url,qa.wmode=!qa.wmode&&qa.useHighPerformance?"transparent":qa.wmode,null!==qa.wmode&&(wa.match(/msie 8/i)||!Xa&&!qa.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Pa.push(A.spcWmode),qa.wmode=null),f={name:a,id:a,src:c,quality:"high",allowScriptAccess:qa.allowScriptAccess,bgcolor:qa.bgColor,pluginspage:ib+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:qa.wmode,hasPriority:"true"},qa.debugFlash&&(f.FlashVars="debug=1"),qa.wmode||delete f.wmode,Xa)g=ya.createElement("div"),j=['<object id="'+a+'" data="'+c+'" type="'+f.type+'" title="'+f.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',e("movie",c),e("AllowScriptAccess",qa.allowScriptAccess),e("quality",f.quality),qa.wmode?e("wmode",qa.wmode):"",e("bgcolor",qa.bgColor),e("hasPriority","true"),qa.debugFlash?e("FlashVars",f.FlashVars):"","</object>"].join("");else{g=ya.createElement("embed");for(i in f)f.hasOwnProperty(i)&&g.setAttribute(i,f[i])}if(J(),s=P(),r=F())if(qa.oMC=h(qa.movieID)||ya.createElement("div"),qa.oMC.id)o=qa.oMC.className,qa.oMC.className=(o?o+" ":Q.swfDefault)+(s?" "+s:""),qa.oMC.appendChild(g),Xa&&(l=qa.oMC.appendChild(ya.createElement("div")),l.className=Q.swfBox,l.innerHTML=j),Ca=!0;else{if(qa.oMC.id=qa.movieID,qa.oMC.className=Q.swfDefault+" "+s,m=null,l=null,qa.useFlashBlock||(qa.useHighPerformance?m={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(m={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},t&&(m.left=Math.abs(parseInt(m.left,10))+"px"))),Ya&&(qa.oMC.style.zIndex=1e4),!qa.debugFlash)for(n in m)m.hasOwnProperty(n)&&(qa.oMC.style[n]=m[n]);try{Xa||qa.oMC.appendChild(g),r.appendChild(qa.oMC),Xa&&(l=qa.oMC.appendChild(ya.createElement("div")),l.className=Q.swfBox,l.innerHTML=j),Ca=!0}catch(v){throw new Error(N("domError")+" \n"+v.toString())}}return Ba=!0,d(),!0},B=function(){return qa.html5Only?(G(),!1):!sa&&(qa.url?(sa=qa.getMovie(qa.id),sa||(Ja?(Xa?qa.oMC.innerHTML=Ka:qa.oMC.appendChild(Ja),Ja=null,Ba=!0):G(qa.id,qa.url),sa=qa.getMovie(qa.id)),"function"==typeof qa.oninitmovie&&setTimeout(qa.oninitmovie,1),na(),!0):(n("noURL"),!1))},v=function(){setTimeout(w,1e3)},x=function(){a.setTimeout(function(){U(ua+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),qa.setup({preferFlash:!1}).reboot(),qa.didFlashBlock=!0,qa.beginDelayedInit()},1)},w=function(){var b,c=!1;return!!qa.url&&!La&&(La=!0,ga.remove(a,"load",v),ia&&db&&!cb?(n("waitFocus"),!1):(Da||(b=qa.getMoviePercent())>0&&b<100&&(c=!0),void setTimeout(function(){if(b=qa.getMoviePercent(),c)return La=!1,qa._wD(N("waitSWF")),a.setTimeout(v,1),!1;Da||(qa._wD(ta+": No Flash response within expected time. Likely causes: "+(0===b?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(qa.debugFlash?" "+N("checkSWF"):""),2),!hb&&b&&(n("localFail",2),qa.debugFlash||n("tryDebug",2)),0===b&&qa._wD(N("swf404",qa.url),1),m("flashtojs",!1,": Timed out"+(hb?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Da&&eb&&(null===b?qa.useFlashBlock||0===qa.flashLoadTimeout?(qa.useFlashBlock&&O(),n("waitForever")):!qa.useFlashBlock&&$?x():(n("waitForever"),t({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===qa.flashLoadTimeout?n("waitForever"):!qa.useFlashBlock&&$?x():L(!0))},qa.flashLoadTimeout)))},z=function(){function b(){ga.remove(a,"focus",z)}return cb||!db?(b(),!0):(eb=!0,cb=!0,n("gotFocus"),La=!1,v(),b(),!0)},na=function(){Pa.length&&(qa._wD("SoundManager 2: "+Pa.join(" "),1),Pa=[])},ma=function(){na();var a,b=[];if(qa.useHTML5Audio&&qa.hasHTML5){for(a in qa.audioFormats)qa.audioFormats.hasOwnProperty(a)&&b.push(a+" = "+qa.html5[a]+(!qa.html5[a]&&Qa&&qa.flash[a]?" (using flash)":qa.preferFlash&&qa.flash[a]&&Qa?" (preferring flash)":qa.html5[a]?"":" ("+(qa.audioFormats[a].required?"required, ":"")+"and no flash support)"));qa._wD("SoundManager 2 HTML5 support: "+b.join(", "),1)}},o=function(b){if(Da)return!1;if(qa.html5Only)return n("sm2Loaded",1),Da=!0,u(),m("onload",!0),!0;var c,d=qa.useFlashBlock&&qa.flashLoadTimeout&&!qa.getMoviePercent(),e=!0;return d||(Da=!0),c={type:!ia&&Qa?"NO_FLASH":"INIT_TIMEOUT"},qa._wD("SoundManager 2 "+(Ea?"failed to load":"loaded")+" ("+(Ea?"Flash security/load error":"OK")+") "+String.fromCharCode(Ea?10006:10003),Ea?2:1),Ea||b?(qa.useFlashBlock&&qa.oMC&&(qa.oMC.className=P()+" "+(null===qa.getMoviePercent()?Q.swfTimedout:Q.swfError)),t({type:"ontimeout",error:c,ignoreInit:!0}),m("onload",!1),H(c),e=!1):m("onload",!0),Ea||(qa.waitForWindowLoad&&!Fa?(n("waitOnload"),ga.add(a,"load",u)):(qa.waitForWindowLoad&&Fa&&n("docLoaded"),u())),e},j=function(){var a,c=qa.setupOptions;for(a in c)c.hasOwnProperty(a)&&(qa[a]===b?qa[a]=c[a]:qa[a]!==c[a]&&(qa.setupOptions[a]=qa[a]))},k=function(){function b(){ga.remove(a,"load",qa.beginDelayedInit)}if(Da)return n("didInit"),!1;if(qa.html5Only)return Da||(b(),qa.enabled=!0,o()),!0;B();try{sa._externalInterfaceTest(!1),I(!0,qa.flashPollingInterval||(qa.useHighPerformance?10:50)),qa.debugMode||sa._disableDebug(),qa.enabled=!0,m("jstoflash",!0),qa.html5Only||ga.add(a,"unload",i)}catch(c){return qa._wD("js/flash exception: "+c.toString()),m("jstoflash",!1),H({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),L(!0),o(),!1}return o(),b(),!0},C=function(){return!E&&(E=!0,j(),J(),!ia&&qa.hasHTML5&&(qa._wD("SoundManager 2: No Flash detected"+(qa.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),qa.setup({useHTML5Audio:!0,preferFlash:!1})),fa(),!ia&&Qa&&(Pa.push(A.needFlash),qa.setup({flashLoadTimeout:1})),ya.removeEventListener&&ya.removeEventListener("DOMContentLoaded",C,!1),B(),!0)},ea=function(){return"complete"===ya.readyState&&(C(),ya.detachEvent("onreadystatechange",ea)),!0},D=function(){Fa=!0,C(),ga.remove(a,"load",D)},ja(),ga.add(a,"focus",z),ga.add(a,"load",v),ga.add(a,"load",D),ya.addEventListener?ya.addEventListener("DOMContentLoaded",C,!1):ya.attachEvent?ya.attachEvent("onreadystatechange",ea):(m("onload",!1),H({type:"NO_DOM2_EVENTS",fatal:!0}))}if(!a||!a.document)throw new Error("SoundManager requires a browser with window and document objects.");var d=null;a.SM2_DEFER!==b&&SM2_DEFER||(d=new c),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=c,module.exports.soundManager=d):"function"==typeof define&&define.amd&&define(function(){function b(b){if(!a.soundManager&&b instanceof Function){var d=b(c);d instanceof c&&(a.soundManager=d)}return a.soundManager}return{constructor:c,getInstance:b}}),a.SoundManager=c,a.soundManager=d}(window);var Stats=function(){function a(a,b,c){var d=document.createElement(a);return d.id=b,d.style.cssText=c,d}function b(b,c,d){var e=a("div",b,"padding:0 0 3px 3px;text-align:left;background:"+d),f=a("div",b+"Text","font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px;color:"+c);f.innerHTML=b.toUpperCase(),e.appendChild(f);var g=a("div",b+"Graph","width:74px;height:30px;background:"+c);e.appendChild(g);for(var h=0;h<74;h++)g.appendChild(a("span","","width:1px;height:30px;float:left;opacity:0.9;background:"+d));return e}function c(a){for(var b=j.children,c=0;c<b.length;c++)b[c].style.display=c===a?"block":"none";i=a}function d(a,b){a.appendChild(a.firstChild).style.height=Math.min(30,30-30*b)+"px"}var e=performance&&performance.now?performance.now.bind(performance):Date.now,f=e(),g=f,h=0,i=0,j=a("div","stats","width:80px;opacity:0.9;cursor:pointer");j.addEventListener("mousedown",function(a){a.preventDefault(),c(++i%j.children.length)},!1);var k=0,l=1/0,m=0,n=b("fps","#0ff","#002"),o=n.children[0],p=n.children[1];j.appendChild(n);var q=0,r=1/0,s=0,t=b("ms","#0f0","#020"),u=t.children[0],v=t.children[1];if(j.appendChild(t),performance&&performance.memory){var w=0,x=1/0,y=0,z=b("mb","#f08","#201"),A=z.children[0],B=z.children[1];j.appendChild(z)}return c(i),{REVISION:14,domElement:j,setMode:c,begin:function(){f=e()},end:function(){var a=e();if(q=a-f,r=Math.min(r,q),s=Math.max(s,q),u.textContent=(0|q)+" MS ("+(0|r)+"-"+(0|s)+")",d(v,q/200),h++,a>g+1e3&&(k=Math.round(1e3*h/(a-g)),l=Math.min(l,k),m=Math.max(m,k),o.textContent=k+" FPS ("+l+"-"+m+")",d(p,k/100),g=a,h=0,void 0!==w)){var b=performance.memory.usedJSHeapSize,c=performance.memory.jsHeapSizeLimit;w=Math.round(9.54e-7*b),x=Math.min(x,w),y=Math.max(y,w),A.textContent=w+" MB ("+x+"-"+y+")",d(B,b/c)}return a},update:function(){f=this.end()}}};"object"==typeof module&&(module.exports=Stats),function(a){"use strict";function b(a){switch(typeof a){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===a?"null":"object"}}function c(a){return Object.prototype.toString.call(a).replace(/^\[object *|\]$/g,"")}function d(a){return"function"==typeof a}function e(a){if(null===a||a===D)throw TypeError();return Object(a)}function f(a){return a>>0}function g(a){return a>>>0}function h(a){function b(b){Object.defineProperty(a,b,{get:function(){return a._getter(b)},set:function(c){a._setter(b,c)},enumerable:!0,configurable:!1})}if(a.length>E)throw RangeError("Array too large for polyfill");var c;for(c=0;c<a.length;c+=1)b(c)}function i(a,b){var c=32-b;return a<<c>>c}function j(a,b){var c=32-b;return a<<c>>>c}function k(a){return[255&a]}function l(a){return i(a[0],8)}function m(a){return[255&a]}function n(a){return j(a[0],8)}function o(a){return a=M(Number(a)),[a<0?0:a>255?255:255&a]}function p(a){return[a>>8&255,255&a]}function q(a){return i(a[0]<<8|a[1],16)}function r(a){return[a>>8&255,255&a]}function s(a){return j(a[0]<<8|a[1],16)}function t(a){return[a>>24&255,a>>16&255,a>>8&255,255&a]}function u(a){return i(a[0]<<24|a[1]<<16|a[2]<<8|a[3],32)}function v(a){return[a>>24&255,a>>16&255,a>>8&255,255&a]}function w(a){return j(a[0]<<24|a[1]<<16|a[2]<<8|a[3],32)}function x(a,b,c){function d(a){var b=H(a),c=a-b;return c<.5?b:c>.5?b+1:b%2?b+1:b}var e,f,g,h,i,j,k,l=(1<<b-1)-1;for(a!==a?(f=(1<<b)-1,g=L(2,c-1),e=0):a===1/0||a===-(1/0)?(f=(1<<b)-1,g=0,e=a<0?1:0):0===a?(f=0,g=0,e=1/a==-(1/0)?1:0):(e=a<0,a=G(a),a>=L(2,1-l)?(f=K(H(I(a)/F),1023),g=d(a/L(2,f)*L(2,c)),g/L(2,c)>=2&&(f+=1,g=1),f>l?(f=(1<<b)-1,g=0):(f+=l,g-=L(2,c))):(f=0,g=d(a/L(2,1-l-c)))),i=[],h=c;h;h-=1)i.push(g%2?1:0),g=H(g/2);for(h=b;h;h-=1)i.push(f%2?1:0),f=H(f/2);for(i.push(e?1:0),i.reverse(),j=i.join(""),k=[];j.length;)k.push(parseInt(j.substring(0,8),2)),j=j.substring(8);return k}function y(a,b,c){var d,e,f,g,h,i,j,k,l=[];for(d=a.length;d;d-=1)for(f=a[d-1],e=8;e;e-=1)l.push(f%2?1:0),f>>=1;return l.reverse(),g=l.join(""),h=(1<<b-1)-1,i=parseInt(g.substring(0,1),2)?-1:1,j=parseInt(g.substring(1,1+b),2),k=parseInt(g.substring(1+b),2),j===(1<<b)-1?0!==k?NaN:i*(1/0):j>0?i*L(2,j-h)*(1+k/L(2,c)):0!==k?i*L(2,-(h-1))*(k/L(2,c)):i<0?-0:0}function z(a){return y(a,11,52)}function A(a){return x(a,11,52)}function B(a){return y(a,8,23)}function C(a){return x(a,8,23)}var D=void 0,E=1e5,F=Math.LN2,G=Math.abs,H=Math.floor,I=Math.log,J=Math.max,K=Math.min,L=Math.pow,M=Math.round;!function(){var a=Object.defineProperty,b=!function(){try{return Object.defineProperty({},"x",{})}catch(a){return!1}}();a&&!b||(Object.defineProperty=function(b,c,d){if(a)try{return a(b,c,d)}catch(e){}if(b!==Object(b))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in d&&Object.prototype.__defineGetter__.call(b,c,d.get),Object.prototype.__defineSetter__&&"set"in d&&Object.prototype.__defineSetter__.call(b,c,d.set),"value"in d&&(b[c]=d.value),b})}(),function(){function i(a){if((a=f(a))<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:a}),Object.defineProperty(this,"_bytes",{value:Array(a)});for(var b=0;b<a;b+=1)this._bytes[b]=0}function j(){if(!arguments.length||"object"!=typeof arguments[0])return function(a){if((a=f(a))<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:a}),Object.defineProperty(this,"byteLength",{value:a*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new i(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===b(arguments[0])&&arguments[0]instanceof j)return function(a){if(this.constructor!==a.constructor)throw TypeError();var b=a.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new i(b)}),Object.defineProperty(this,"byteLength",{value:b}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:a.length});for(var c=0;c<this.length;c+=1)this._setter(c,a._getter(c))}.apply(this,arguments);if(arguments.length>=1&&"object"===b(arguments[0])&&!(arguments[0]instanceof j)&&!(arguments[0]instanceof i||"ArrayBuffer"===c(arguments[0])))return function(a){var b=a.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new i(b)}),Object.defineProperty(this,"byteLength",{value:b}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:a.length});for(var c=0;c<this.length;c+=1){var d=a[c];this._setter(c,Number(d))}}.apply(this,arguments);if(arguments.length>=1&&"object"===b(arguments[0])&&(arguments[0]instanceof i||"ArrayBuffer"===c(arguments[0])))return function(a,b,c){if((b=g(b))>a.byteLength)throw RangeError("byteOffset out of range");if(b%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(c===D){var d=a.byteLength-b;if(d%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");c=d/this.BYTES_PER_ELEMENT}else c=g(c),d=c*this.BYTES_PER_ELEMENT;if(b+d>a.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:a}),Object.defineProperty(this,"byteLength",{value:d}),Object.defineProperty(this,"byteOffset",{value:b}),Object.defineProperty(this,"length",{value:c})}.apply(this,arguments);throw TypeError()}function x(a,b,c){var d=function(){Object.defineProperty(this,"constructor",{value:d}),j.apply(this,arguments),h(this)};"__proto__"in d?d.__proto__=j:(d.from=j.from,d.of=j.of),d.BYTES_PER_ELEMENT=a;var e=function(){};return e.prototype=y,d.prototype=new e,Object.defineProperty(d.prototype,"BYTES_PER_ELEMENT",{value:a}),Object.defineProperty(d.prototype,"_pack",{value:b}),Object.defineProperty(d.prototype,"_unpack",{value:c}),d}a.ArrayBuffer=a.ArrayBuffer||i,Object.defineProperty(j,"from",{value:function(a){return new this(a)}}),Object.defineProperty(j,"of",{value:function(){return new this(arguments)}});var y={};j.prototype=y,Object.defineProperty(j.prototype,"_getter",{value:function(a){if(arguments.length<1)throw SyntaxError("Not enough arguments");if((a=g(a))>=this.length)return D;var b,c,d=[];for(b=0,c=this.byteOffset+a*this.BYTES_PER_ELEMENT;b<this.BYTES_PER_ELEMENT;b+=1,c+=1)d.push(this.buffer._bytes[c]);return this._unpack(d)}}),Object.defineProperty(j.prototype,"get",{value:j.prototype._getter}),Object.defineProperty(j.prototype,"_setter",{value:function(a,b){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(!((a=g(a))>=this.length)){var c,d,e=this._pack(b);for(c=0,d=this.byteOffset+a*this.BYTES_PER_ELEMENT;c<this.BYTES_PER_ELEMENT;c+=1,d+=1)this.buffer._bytes[d]=e[c]}}}),Object.defineProperty(j.prototype,"constructor",{value:j}),Object.defineProperty(j.prototype,"copyWithin",{value:function(a,b){var c=arguments[2],d=e(this),h=d.length,i=g(h);i=J(i,0);var j,k=f(a);j=k<0?J(i+k,0):K(k,i);var l,m=f(b);l=m<0?J(i+m,0):K(m,i);var n;n=c===D?i:f(c);var o;o=n<0?J(i+n,0):K(n,i);var p,q=K(o-l,i-j);for(l<j&&j<l+q?(p=-1,l=l+q-1,j=j+q-1):p=1;q>0;)d._setter(j,d._getter(l)),l+=p,j+=p,q-=1;return d}}),Object.defineProperty(j.prototype,"every",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();for(var e=arguments[1],f=0;f<c;f++)if(!a.call(e,b._getter(f),f,b))return!1;return!0}}),Object.defineProperty(j.prototype,"fill",{value:function(a){var b=arguments[1],c=arguments[2],d=e(this),h=d.length,i=g(h);i=J(i,0);var j,k=f(b);j=k<0?J(i+k,0):K(k,i);var l;l=c===D?i:f(c);var m;for(m=l<0?J(i+l,0):K(l,i);j<m;)d._setter(j,a),j+=1;return d}}),Object.defineProperty(j.prototype,"filter",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();for(var e=[],f=arguments[1],h=0;h<c;h++){var i=b._getter(h);a.call(f,i,h,b)&&e.push(i)}return new this.constructor(e)}}),Object.defineProperty(j.prototype,"find",{value:function(a){var b=e(this),c=b.length,f=g(c);if(!d(a))throw TypeError();for(var h=arguments.length>1?arguments[1]:D,i=0;i<f;){var j=b._getter(i),k=a.call(h,j,i,b);if(Boolean(k))return j;++i}return D}}),Object.defineProperty(j.prototype,"findIndex",{value:function(a){var b=e(this),c=b.length,f=g(c);if(!d(a))throw TypeError();for(var h=arguments.length>1?arguments[1]:D,i=0;i<f;){var j=b._getter(i),k=a.call(h,j,i,b);if(Boolean(k))return i;++i}return-1}}),Object.defineProperty(j.prototype,"forEach",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();for(var e=arguments[1],f=0;f<c;f++)a.call(e,b._getter(f),f,b)}}),Object.defineProperty(j.prototype,"indexOf",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*H(G(d)))),d>=c)return-1;for(var e=d>=0?d:J(c-G(d),0);e<c;e++)if(b._getter(e)===a)return e;return-1}}),Object.defineProperty(j.prototype,"join",{value:function(a){if(this===D||null===this)throw TypeError();for(var b=Object(this),c=g(b.length),d=Array(c),e=0;e<c;++e)d[e]=b._getter(e);return d.join(a===D?",":a)}}),Object.defineProperty(j.prototype,"lastIndexOf",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*H(G(d))));for(var e=d>=0?K(d,c-1):c-G(d);e>=0;e--)if(b._getter(e)===a)return e;return-1}}),Object.defineProperty(j.prototype,"map",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();var e=[];e.length=c;for(var f=arguments[1],h=0;h<c;h++)e[h]=a.call(f,b._getter(h),h,b);return new this.constructor(e)}}),Object.defineProperty(j.prototype,"reduce",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();if(0===c&&1===arguments.length)throw TypeError();var e,f=0;for(e=arguments.length>=2?arguments[1]:b._getter(f++);f<c;)e=a.call(D,e,b._getter(f),f,b),f++;return e}}),Object.defineProperty(j.prototype,"reduceRight",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();if(0===c&&1===arguments.length)throw TypeError();var e,f=c-1;for(e=arguments.length>=2?arguments[1]:b._getter(f--);f>=0;)e=a.call(D,e,b._getter(f),f,b),f--;return e}}),Object.defineProperty(j.prototype,"reverse",{value:function(){if(this===D||null===this)throw TypeError();for(var a=Object(this),b=g(a.length),c=H(b/2),d=0,e=b-1;d<c;++d,--e){var f=a._getter(d);a._setter(d,a._getter(e)),a._setter(e,f)}return a}}),Object.defineProperty(j.prototype,"set",{value:function(a,b){if(arguments.length<1)throw SyntaxError("Not enough arguments");var c,d,e,f,h,i,j,k,l,m;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(c=arguments[0],(e=g(arguments[1]))+c.length>this.length)throw RangeError("Offset plus length of array is out of range");if(k=this.byteOffset+e*this.BYTES_PER_ELEMENT,l=c.length*this.BYTES_PER_ELEMENT,c.buffer===this.buffer){for(m=[],h=0,i=c.byteOffset;h<l;h+=1,i+=1)m[h]=c.buffer._bytes[i];for(h=0,j=k;h<l;h+=1,j+=1)this.buffer._bytes[j]=m[h]}else for(h=0,i=c.byteOffset,j=k;h<l;h+=1,i+=1,j+=1)this.buffer._bytes[j]=c.buffer._bytes[i]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw TypeError("Unexpected argument type(s)");if(d=arguments[0],f=g(d.length),(e=g(arguments[1]))+f>this.length)throw RangeError("Offset plus length of array is out of range");for(h=0;h<f;h+=1)i=d[h],this._setter(e+h,Number(i))}}}),Object.defineProperty(j.prototype,"slice",{value:function(a,b){for(var c=e(this),d=c.length,h=g(d),i=f(a),j=i<0?J(h+i,0):K(i,h),k=b===D?h:f(b),l=k<0?J(h+k,0):K(k,h),m=l-j,n=c.constructor,o=new n(m),p=0;j<l;){var q=c._getter(j);o._setter(p,q),++j,++p}return o}}),Object.defineProperty(j.prototype,"some",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();for(var e=arguments[1],f=0;f<c;f++)if(a.call(e,b._getter(f),f,b))return!0;return!1}}),Object.defineProperty(j.prototype,"sort",{value:function(a){if(this===D||null===this)throw TypeError();for(var b=Object(this),c=g(b.length),d=Array(c),e=0;e<c;++e)d[e]=b._getter(e);for(a?d.sort(a):d.sort(),e=0;e<c;++e)b._setter(e,d[e]);return b}}),Object.defineProperty(j.prototype,"subarray",{value:function(a,b){function c(a,b,c){return a<b?b:a>c?c:a}a=f(a),b=f(b),arguments.length<1&&(a=0),arguments.length<2&&(b=this.length),a<0&&(a=this.length+a),b<0&&(b=this.length+b),a=c(a,0,this.length),b=c(b,0,this.length);var d=b-a;return d<0&&(d=0),new this.constructor(this.buffer,this.byteOffset+a*this.BYTES_PER_ELEMENT,d)}});var E=x(1,k,l),F=x(1,m,n),I=x(1,o,n),L=x(2,p,q),M=x(2,r,s),N=x(4,t,u),O=x(4,v,w),P=x(4,C,B),Q=x(8,A,z);a.Int8Array=a.Int8Array||E,a.Uint8Array=a.Uint8Array||F,a.Uint8ClampedArray=a.Uint8ClampedArray||I,a.Int16Array=a.Int16Array||L,a.Uint16Array=a.Uint16Array||M,a.Int32Array=a.Int32Array||N,a.Uint32Array=a.Uint32Array||O,a.Float32Array=a.Float32Array||P,a.Float64Array=a.Float64Array||Q}(),function(){function b(a,b){return d(a.get)?a.get(b):a[b]}function e(a,b,d){if(!(a instanceof ArrayBuffer||"ArrayBuffer"===c(a)))throw TypeError();if((b=g(b))>a.byteLength)throw RangeError("byteOffset out of range");if(d=d===D?a.byteLength-b:g(d),b+d>a.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:a}),Object.defineProperty(this,"byteLength",{value:d}),Object.defineProperty(this,"byteOffset",{value:b})}function f(a){return function(c,d){if((c=g(c))+a.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");c+=this.byteOffset;for(var e=new Uint8Array(this.buffer,c,a.BYTES_PER_ELEMENT),f=[],h=0;h<a.BYTES_PER_ELEMENT;h+=1)f.push(b(e,h));return Boolean(d)===Boolean(i)&&f.reverse(),b(new a(new Uint8Array(f).buffer),0)}}function h(a){return function(c,d,e){if((c=g(c))+a.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var f,h,j=new a([d]),k=new Uint8Array(j.buffer),l=[];for(f=0;f<a.BYTES_PER_ELEMENT;f+=1)l.push(b(k,f));Boolean(e)===Boolean(i)&&l.reverse(),h=new Uint8Array(this.buffer,c,a.BYTES_PER_ELEMENT),h.set(l)}}var i=function(){var a=new Uint16Array([4660]);return 18===b(new Uint8Array(a.buffer),0)}();Object.defineProperty(e.prototype,"getUint8",{value:f(Uint8Array)}),Object.defineProperty(e.prototype,"getInt8",{value:f(Int8Array)}),Object.defineProperty(e.prototype,"getUint16",{value:f(Uint16Array)}),Object.defineProperty(e.prototype,"getInt16",{value:f(Int16Array)}),Object.defineProperty(e.prototype,"getUint32",{value:f(Uint32Array)}),Object.defineProperty(e.prototype,"getInt32",{value:f(Int32Array)}),Object.defineProperty(e.prototype,"getFloat32",{value:f(Float32Array)}),Object.defineProperty(e.prototype,"getFloat64",{value:f(Float64Array)}),Object.defineProperty(e.prototype,"setUint8",{value:h(Uint8Array)}),Object.defineProperty(e.prototype,"setInt8",{value:h(Int8Array)}),Object.defineProperty(e.prototype,"setUint16",{value:h(Uint16Array)}),Object.defineProperty(e.prototype,"setInt16",{value:h(Int16Array)}),Object.defineProperty(e.prototype,"setUint32",{value:h(Uint32Array)}),Object.defineProperty(e.prototype,"setInt32",{value:h(Int32Array)}),Object.defineProperty(e.prototype,"setFloat32",{value:h(Float32Array)}),Object.defineProperty(e.prototype,"setFloat64",{value:h(Float64Array)}),a.DataView=a.DataView||e}()}(this),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=[].slice,e=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=e.prototype.render},f=1e-10,g=c._internals.isSelector,h=c._internals.isArray,i=e.prototype=c.to({},.1,{}),j=[];e.version="1.11.2",i.constructor=e,i.kill()._gc=!1,e.killTweensOf=e.killDelayedCallsTo=c.killTweensOf,e.getTweensOf=c.getTweensOf,e.ticker=c.ticker,i.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),c.prototype.invalidate.call(this)},i.updateTo=function(a,b){var d,e=this.ratio;b&&this.timeline&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted)if(b)this._initted=!1;else if(this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var f=this._time;this.render(0,!0,!1),this._initted=!1,this.render(f,!0,!1)}else if(this._time>0){this._initted=!1,this._init();for(var g,h=1/(1-e),i=this._firstPT;i;)g=i.s+i.c,i.c*=h,i.s=g-i.c,i=i._next}return this},i.render=function(a,b,c){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var d,e,g,h,i,k,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._totalTime,q=this._cycle,r=this._duration;if(a>=n?(this._totalTime=n,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=r,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(d=!0,e="onComplete"),0===r&&(m=this._rawPrevTime,(0===a||m<0||m===f)&&m!==a&&(c=!0,m>f&&(e="onReverseComplete")),this._rawPrevTime=m=!b||a?a:f)):a<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==p||0===r&&this._rawPrevTime>f)&&(e="onReverseComplete",d=this._reversed),a<0?(this._active=!1,0===r&&(this._rawPrevTime>=0&&(c=!0),this._rawPrevTime=m=!b||a?a:f)):this._initted||(c=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(h=r+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!=(1&this._cycle)&&(this._time=r-this._time),this._time>r?this._time=r:this._time<0&&(this._time=0)),this._easeType?(i=this._time/r,k=this._easeType,l=this._easePower,(1===k||3===k&&i>=.5)&&(i=1-i),3===k&&(i*=2),1===l?i*=i:2===l?i*=i*i:3===l?i*=i*i*i:4===l&&(i*=i*i*i*i),1===k?this.ratio=1-i:2===k?this.ratio=i:this._time/r<.5?this.ratio=i/2:this.ratio=1-i/2):this.ratio=this._ease.getRatio(this._time/r)),o===this._time&&!c&&q===this._cycle)return void(p!==this._totalTime&&this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||j)));if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!d?this.ratio=this._ease.getRatio(this._time/r):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==o&&a>=0&&(this._active=!0),0===p&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==r||b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||j))),
g=this._firstPT;g;)g.f?g.t[g.p](g.c*this.ratio+g.s):g.t[g.p]=g.c*this.ratio+g.s,g=g._next;this._onUpdate&&(a<0&&this._startAt&&this._startTime&&this._startAt.render(a,b,c),b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||j)),this._cycle!==q&&(b||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||j)),e&&(this._gc||(a<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||j),0===r&&this._rawPrevTime===f&&m!==f&&(this._rawPrevTime=0)))},e.to=function(a,b,c){return new e(a,b,c)},e.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new e(a,b,c)},e.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new e(a,b,d)},e.staggerTo=e.allTo=function(a,b,f,i,k,l,m){i=i||0;var n,o,p,q,r=f.delay||0,s=[],t=function(){f.onComplete&&f.onComplete.apply(f.onCompleteScope||this,arguments),k.apply(m||this,l||j)};for(h(a)||("string"==typeof a&&(a=c.selector(a)||a),g(a)&&(a=d.call(a,0))),n=a.length,p=0;p<n;p++){o={};for(q in f)o[q]=f[q];o.delay=r,p===n-1&&k&&(o.onComplete=t),s[p]=new e(a[p],b,o),r+=i}return s},e.staggerFrom=e.allFrom=function(a,b,c,d,f,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,e.staggerTo(a,b,c,d,f,g,h)},e.staggerFromTo=e.allFromTo=function(a,b,c,d,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,e.staggerTo(a,b,d,f,g,h,i)},e.delayedCall=function(a,b,c,d,f){return new e(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,useFrames:f,overwrite:0})},e.set=function(a,b){return new e(a,0,b)},e.isTweening=function(a){return c.getTweensOf(a,!0).length>0};var k=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(k(f,b)),e=d.length),f=f._next;return d},l=e.getAllTweens=function(b){return k(a._rootTimeline,b).concat(k(a._rootFramesTimeline,b))};e.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=l(0!=e),j=i.length,k=c&&d&&e;for(h=0;h<j;h++)g=i[h],(k||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g.totalDuration()):g._enabled(!1,!1))},e.killChildTweensOf=function(a,b){if(null!=a){var f,i,j,k,l,m=c._tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),g(a)&&(a=d(a,0)),h(a))for(k=a.length;--k>-1;)e.killChildTweensOf(a[k],b);else{f=[];for(j in m)for(i=m[j].target.parentNode;i;)i===a&&(f=f.concat(m[j].tweens)),i=i.parentNode;for(l=f.length,k=0;k<l;k++)b&&f[k].totalTime(f[k].totalDuration()),f[k]._enabled(!1,!1)}}};var m=function(a,c,d,e){c=c!==!1,d=d!==!1,e=e!==!1;for(var f,g,h=l(e),i=c&&d&&e,j=h.length;--j>-1;)g=h[j],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return e.pauseAll=function(a,b,c){m(!0,a,b,c)},e.resumeAll=function(a,b,c){m(!1,a,b,c)},e.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||f,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},i.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},i.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},i.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!=(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},i.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},i.totalDuration=function(a){return arguments.length?this._repeat===-1?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},i.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},i.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},i.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},e},!0),window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],g(c)&&c.join("").indexOf("{self}")!==-1&&(e[d]=this._swapSelfInParams(c));g(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals.isSelector,g=c._internals.isArray,h=[],i=function(a){var b,c={};for(b in a)c[b]=a[b];return c},j=function(a,b,c,d){a._timeline.pause(a._startTime),b&&b.apply(d||a._timeline,c||h)},k=h.slice,l=d.prototype=new b;return d.version="1.11.0",l.constructor=d,l.kill()._gc=!1,l.to=function(a,b,d,e){return b?this.add(new c(a,b,d),e):this.set(a,d,e)},l.from=function(a,b,d,e){return this.add(c.from(a,b,d),e)},l.fromTo=function(a,b,d,e,f){return b?this.add(c.fromTo(a,b,d,e),f):this.set(a,e,f)},l.staggerTo=function(a,b,e,g,h,j,l,m){var n,o=new d({onComplete:j,onCompleteParams:l,onCompleteScope:m});for("string"==typeof a&&(a=c.selector(a)||a),f(a)&&(a=k.call(a,0)),g=g||0,n=0;n<a.length;n++)e.startAt&&(e.startAt=i(e.startAt)),o.to(a[n],b,i(e),n*g);return this.add(o,h)},l.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},l.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},l.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},l.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},l.add=function(e,f,h,i){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&g(e)){for(h=h||"normal",i=i||0,j=f,k=e.length,l=0;l<k;l++)g(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===h?j=m._startTime+m.totalDuration()/m._timeScale:"start"===h&&(m._startTime-=m.delay())),j+=i;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),this._gc&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._gc&&n._timeline;)n._timeline.smoothChildTiming&&o?n.totalTime(n._totalTime,!0):n._enabled(!0,!1),n=n._timeline;return this},l.remove=function(b){if(b instanceof a)return this._remove(b,!1);if(b instanceof Array||b&&b.push&&g(b)){for(var c=b.length;--c>-1;)this.remove(b[c]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},l._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>d._startTime+d._totalDuration/d._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},l.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},l.insert=l.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},l.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},l.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},l.addPause=function(a,b,c,d){return this.call(j,["{self}",b,c,d],this,a)},l.removeLabel=function(a){return delete this._labels[a],this},l.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},l._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&g(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if((f=b.indexOf("="))===-1)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},l.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},l.stop=function(){return this.paused(!0)},l.gotoAndPlay=function(a,b){return this.play(a,b)},l.gotoAndStop=function(a,b){return this.pause(a,b)},l.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,i,j,k=this._dirty?this.totalDuration():this._totalDuration,l=this._time,m=this._startTime,n=this._timeScale,o=this._paused;if(a>=k?(this._totalTime=this._time=k,this._reversed||this._hasPausedChild()||(f=!0,i="onComplete",0===this._duration&&(0===a||this._rawPrevTime<0||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(j=!0,this._rawPrevTime>e&&(i="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a?a:e,a=k+1e-6):a<1e-7?(this._totalTime=this._time=0,(0!==l||0===this._duration&&(this._rawPrevTime>e||a<0&&this._rawPrevTime>=0))&&(i="onReverseComplete",f=this._reversed),a<0?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(j=!0),this._rawPrevTime=a):(this._rawPrevTime=this._duration||!b||a?a:e,a=0,this._initted||(j=!0))):this._totalTime=this._time=this._rawPrevTime=a,this._time!==l&&this._first||c||j){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==l&&a>0&&(this._active=!0),0===l&&this.vars.onStart&&0!==this._time&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||h)),this._time>=l)for(d=this._first;d&&(g=d._next,!this._paused||o);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||o);)(d._active||d._startTime<=l&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h)),i&&(this._gc||m!==this._startTime&&n===this._timeScale||(0===this._time||k>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[i]&&this.vars[i].apply(this.vars[i+"Scope"]||this,this.vars[i+"Params"]||h)))}},l._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},l.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},l.getTweensOf=function(a,b){for(var d=c.getTweensOf(a),e=d.length,f=[],g=0;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(f[g++]=d[e]);return f},l._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},l.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},l._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},l.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},l.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return this},l._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},l.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},l.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},l.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},l.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0),window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=1e-10,f=[],g=new c(null,null,1,0),h=d.prototype=new a;return h.constructor=d,h.kill()._gc=!1,d.version="1.11.0",h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},h.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},h.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},h.tweenTo=function(a,c){c=c||{};var d,e,h={ease:g,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1};for(d in c)h[d]=c[d];return h.time=this._parseTimeOrLabel(a),e=new b(this,Math.abs(Number(h.time)-this._time)/this._timeScale||.001,h),h.onStart=function(){e.target.paused(!0),e.vars.time!==e.target.time()&&e.duration(Math.abs(e.vars.time-e.target.time())/e.target._timeScale),c.onStart&&c.onStart.apply(c.onStartScope||e,c.onStartParams||f)},e},h.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],onCompleteScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},h.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,g,h,i,j,k,l=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,n=this._time,o=this._totalTime,p=this._startTime,q=this._timeScale,r=this._rawPrevTime,s=this._paused,t=this._cycle;if(a>=l?(this._locked||(this._totalTime=l,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(g=!0,i="onComplete",0===this._duration&&(0===a||r<0||r===e)&&r!==a&&this._first&&(j=!0,r>e&&(i="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a?a:e,this._yoyo&&0!=(1&this._cycle)?this._time=a=0:(this._time=m,a=m+1e-6)):a<1e-7?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==n||0===m&&(r>e||a<0&&r>=0)&&!this._locked)&&(i="onReverseComplete",g=this._reversed),a<0?(this._active=!1,0===m&&r>=0&&this._first&&(j=!0),this._rawPrevTime=a):(this._rawPrevTime=m||!b||a?a:e,a=0,this._initted||(j=!0))):(0===m&&r<0&&(j=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(k=m+this._repeatDelay,this._cycle=this._totalTime/k>>0,0!==this._cycle&&this._cycle===this._totalTime/k&&this._cycle--,this._time=this._totalTime-this._cycle*k,this._yoyo&&0!=(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,a=m+1e-6):this._time<0?this._time=a=0:a=this._time))),this._cycle!==t&&!this._locked){var u=this._yoyo&&0!=(1&t),v=u===(this._yoyo&&0!=(1&this._cycle)),w=this._totalTime,x=this._cycle,y=this._rawPrevTime,z=this._time;if(this._totalTime=t*m,this._cycle<t?u=!u:this._totalTime+=m,this._time=n,this._rawPrevTime=0===m?r-1e-5:r,this._cycle=t,this._locked=!0,n=u?0:m,this.render(n,b,0===m),b||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||f),v&&(n=u?m+1e-6:-1e-6,this.render(n,!0,!1)),this._locked=!1,this._paused&&!s)return;this._time=z,this._totalTime=w,this._cycle=x,this._rawPrevTime=y}if(!(this._time!==n&&this._first||c||j))return void(o!==this._totalTime&&this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||f)));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==o&&a>0&&(this._active=!0),0===o&&this.vars.onStart&&0!==this._totalTime&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||f)),this._time>=n)for(d=this._first;d&&(h=d._next,!this._paused||s);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=h;else for(d=this._last;d&&(h=d._prev,!this._paused||s);)(d._active||d._startTime<=n&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=h;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||f)),i&&(this._locked||this._gc||p!==this._startTime&&q===this._timeScale||(0===this._time||l>=this.totalDuration())&&(g&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[i]&&this.vars[i].apply(this.vars[i+"Scope"]||this,this.vars[i+"Params"]||f)))},h.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],g=this.getChildren(a,b,c),h=0,i=g.length;for(d=0;d<i;d++)e=g[d],e.isActive()&&(f[h++]=e);return f},h.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;b<d;b++)if(c[b].time>a)return c[b].name;return null},h.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(b[c].time<a)return b[c].name;return null},h.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},h.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},h.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},h.totalDuration=function(b){return arguments.length?this._repeat===-1?this:this.duration((b-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!=(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},h.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},h.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},h.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},h.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),function(){var a=180/Math.PI,b=[],c=[],d=[],e={},f=function(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},g=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",h=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},i=function(a,e,f,g,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;j<w;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,i?(t=b[j],u=c[j],v=(u+t)*e*.25/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-(l-k)*e*.5,p=l+(m-l)*e*.5,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,n.b=0!==j?y:y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=h(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=h(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},j=function(a,d,e,g){var h,i,j,k,l,m,n=[];if(g)for(a=[g].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=g[d]+Number(m.charAt(0)+m.substr(2)));if((h=a.length-2)<0)return n[0]=new f(a[0][d],0,0,a[h<-1?0:1][d]),n;for(i=0;i<h;i++)j=a[i][d],k=a[i+1][d],n[i]=new f(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new f(a[i][d],0,0,a[i+1][d]),n},k=function(a,f,h,k,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":g,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=l.indexOf(","+o+",")!==-1,v[o]=j(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!k){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],s=p.length-1,q=0;q<s;q++)r=p[q+1].da/c[q]+p[q].da/b[q],d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=h?4:1;--n>-1;)o=w[n],p=v[o],i(p,f,h,k,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},l=function(a,b,c){b=b||"soft";var d,e,g,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||a.length<q+1)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;k<l;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&k<l-1&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;k<l;k+=q)d=i[k],e=i[k+1],g=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new f(d,e,g,h):new f(d,(2*e+d)/3,(2*e+g)/3,g);i.length=n}return p},m=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;k<=c;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},n=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],n=[];for(c in a)m(a[c],g,b);for(e=g.length,d=0;d<e;d++)i+=Math.sqrt(g[d]),f=d%b,n[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=n,h[f]=j,i=0,n=[]);return{length:j,lengths:h,segments:l}},o=window._gsDefine.plugin({propName:"bezier",priority:-1,API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._round={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},m=i[0],o=b.autoRotate||c.vars.orientToBezier;this._autoRotate=o?o instanceof Array?o:[["x","y","rotation",o===!0?0:Number(o)||0]]:null;for(d in m)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?k(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):l(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=n(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(o=this._autoRotate)for(o[0]instanceof Array||(this._autoRotate=o=[o]),f=o.length;--f>-1;)for(g=0;g<3;g++)d=o[f][g],this._func[d]="function"==typeof a[d]&&a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)];return!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&e<m-1){for(j=m-1;e<j&&(this._l2=k[++e])<=b;);this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(b<this._l1&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&b<this._l1?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&e<l.length-1){for(j=l.length-1;e<j&&(this._s2=l[++e])<=b;);this._s1=l[e-1],this._si=e}else if(b<this._s1&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&b<this._s1?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec}else c=b<0?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._round[f]&&(i=i+(i>0?.5:-.5)>>0),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var p,q,r,s,t,u,v,w=this._autoRotate;for(e=w.length;--e>-1;)f=w[e][2],u=w[e][3]||0,v=w[e][4]===!0?1:a,g=this._beziers[w[e][0]],p=this._beziers[w[e][1]],g&&p&&(g=g[c],p=p[c],q=g.a+(g.b-g.a)*h,s=g.b+(g.c-g.b)*h,q+=(s-q)*h,s+=(g.c+(g.d-g.c)*h-s)*h,r=p.a+(p.b-p.a)*h,t=p.b+(p.c-p.b)*h,r+=(t-r)*h,t+=(p.c+(p.d-p.c)*h-t)*h,i=Math.atan2(t-r,s-q)*v+u,n[f]?o[f](i):o[f]=i)}}}),p=o.prototype;o.bezierThrough=k,o.cubicToQuadratic=h,o._autoCSS=!0,o.quadraticToCubic=function(a,b,c){return new f(a,(2*b+a)/3,(2*b+c)/3,c)},o._cssRegister=function(){var a=window._gsDefine.globals.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new o;var j,k,l,m=b.values,n=m.length-1,p=[],q={};if(n<0)return h;for(j=0;j<=n;j++)l=c(a,m[j],g,h,i,n!==j),p[j]=l.end;for(k in b)q[k]=b[k];return q.values=p,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x&&[["x","y","rotation",j,!1]]),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform),i._onInitTween(l.proxy,q,g._tween),h}})}},p._roundProps=function(a,b){for(var c=this._overwriteProps,d=c.length;--d>-1;)(a[c[d]]||a.bezier||a.bezierThrough)&&(this._round[c[d]]=b)},p._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);return this._super._kill.call(this,a)}}(),window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h={},i=g.prototype=new a("css");i.constructor=g,g.version="1.11.2",g.API=2,g.defaultTransformPerspective=0,i="px",g.suffixMap={top:i,right:i,bottom:i,left:i,width:i,height:i,fontSize:i,padding:i,margin:i,perspective:i};var j,k,l,m,n,o,p=/(?:\d|\-\d|\.\d|\-\.\d)+/g,q=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,r=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,s=/[^\d\-\.]/g,t=/(?:\d|\-|\+|=|#|\.)*/g,u=/opacity *= *([^)]*)/,v=/opacity:([^;]*)/,w=/alpha\(opacity *=.+?\)/i,x=/^(rgb|hsl)/,y=/([A-Z])/g,z=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,B=function(a,b){return b.toUpperCase()},C=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,E=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,F=/,(?=[^\)]*(?:\(|$))/gi,G=Math.PI/180,H=180/Math.PI,I={},J=document,K=J.createElement("div"),L=J.createElement("img"),M=g._internals={_specialProps:h},N=navigator.userAgent,O=function(){var a,b=N.indexOf("Android"),c=J.createElement("div");return l=N.indexOf("Safari")!==-1&&N.indexOf("Chrome")===-1&&(b===-1||Number(N.substr(b+8,1))>3),n=l&&Number(N.substr(N.indexOf("Version/")+8,1))<6,m=N.indexOf("Firefox")!==-1,/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(N)&&(o=parseFloat(RegExp.$1)),c.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",!!(a=c.getElementsByTagName("a")[0])&&/^0.55/.test(a.style.opacity)}(),P=function(a){return u.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Q=function(a){window.console&&console.log(a)},R="",S="",T=function(a,b){b=b||K;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(S=3===d?"ms":c[d],R="-"+S.toLowerCase()+"-",S+a):null},U=J.defaultView?J.defaultView.getComputedStyle:function(){},V=g.getStyle=function(a,b,c,d,e){var f;return O||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||U(a,null))?(a=c.getPropertyValue(b.replace(y,"-$1").toLowerCase()),f=a||c.length?a:c[b]):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):P(a)},W=function(a,b,c,d,e){if("px"===d||!d)return c;if("auto"===d||!c)return 0;var f,g=C.test(b),h=a,i=K.style,j=c<0;return j&&(c=-c),"%"===d&&b.indexOf("border")!==-1?f=c/100*(g?a.clientWidth:a.clientHeight):(i.cssText="border:0 solid red;position:"+V(a,"position")+";line-height:0;","%"!==d&&h.appendChild?i[g?"borderLeftWidth":"borderTopWidth"]=c+d:(h=a.parentNode||J.body,i[g?"width":"height"]=c+d),h.appendChild(K),f=parseFloat(K[g?"offsetWidth":"offsetHeight"]),h.removeChild(K),0!==f||e||(f=W(a,b,c,d,!0))),j?-f:f},X=function(a,b,c){if("absolute"!==V(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=V(a,"margin"+d,c);return a["offset"+d]-(W(a,b,parseFloat(e),e.replace(t,""))||0)},Y=function(a,b){var c,d,e={};if(b=b||U(a,null))if(c=b.length)for(;--c>-1;)e[b[c].replace(z,B)]=b.getPropertyValue(b[c]);else for(c in b)e[c]=b[c];else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0!==e[c]&&(e[c.replace(z,B)]=b[c]);return O||(e.opacity=P(a)),d=xa(a,b,!1),e.rotation=d.rotation,e.skewX=d.skewX,e.scaleX=d.scaleX,e.scaleY=d.scaleY,e.x=d.x,e.y=d.y,wa&&(e.z=d.z,e.rotationX=d.rotationX,e.rotationY=d.rotationY,
e.scaleZ=d.scaleZ),e.filters&&delete e.filters,e},Z=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&g.indexOf("Origin")===-1&&("number"!=typeof f&&"string"!=typeof f||(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(s,"")?f:0:X(a,g),void 0!==j[g]&&(h=new la(j,g,j[g],h))));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},$={width:["Left","Right"],height:["Top","Bottom"]},_=["marginLeft","marginRight","marginTop","marginBottom"],aa=function(a,b,c){var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=$[b],f=e.length;for(c=c||U(a,null);--f>-1;)d-=parseFloat(V(a,"padding"+e[f],c,!0))||0,d-=parseFloat(V(a,"border"+e[f]+"Width",c,!0))||0;return d},ba=function(a,b){null!=a&&""!==a&&"auto"!==a&&"auto auto"!==a||(a="0 0");var c=a.split(" "),d=a.indexOf("left")!==-1?"0%":a.indexOf("right")!==-1?"100%":c[0],e=a.indexOf("top")!==-1?"0%":a.indexOf("bottom")!==-1?"100%":c[1];return null==e?e="0":"center"===e&&(e="50%"),("center"===d||isNaN(parseFloat(d))&&(d+"").indexOf("=")===-1)&&(d="50%"),b&&(b.oxp=d.indexOf("%")!==-1,b.oyp=e.indexOf("%")!==-1,b.oxr="="===d.charAt(1),b.oyr="="===e.charAt(1),b.ox=parseFloat(d.replace(s,"")),b.oy=parseFloat(e.replace(s,""))),d+" "+e+(c.length>2?" "+c[2]:"")},ca=function(a,b){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},da=function(a,b){return null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*Number(a.substr(2))+b:parseFloat(a)},ea=function(a,b,c,d){var e,f,g,h,i=1e-6;return null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),g=Number(f[0].replace(s,""))*(a.indexOf("rad")===-1?1:H)-("="===a.charAt(1)?0:b),f.length&&(d&&(d[c]=b+g),a.indexOf("short")!==-1&&(g%=e)!==g%(e/2)&&(g=g<0?g+e:g-e),a.indexOf("_cw")!==-1&&g<0?g=(g+9999999999*e)%e-(g/e|0)*e:a.indexOf("ccw")!==-1&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),h<i&&h>-i&&(h=0),h},fa={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ga=function(a,b,c){return a=a<0?a+1:a>1?a-1:a,255*(6*a<1?b+(c-b)*a*6:a<.5?c:3*a<2?b+(c-b)*(2/3-a)*6:b)+.5|0},ha=function(a){var b,c,d,e,f,g;return a&&""!==a?"number"==typeof a?[a>>16,a>>8&255,255&a]:(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),fa[a]?fa[a]:"#"===a.charAt(0)?(4===a.length&&(b=a.charAt(1),c=a.charAt(2),d=a.charAt(3),a="#"+b+b+c+c+d+d),a=parseInt(a.substr(1),16),[a>>16,a>>8&255,255&a]):"hsl"===a.substr(0,3)?(a=a.match(p),e=Number(a[0])%360/360,f=Number(a[1])/100,g=Number(a[2])/100,c=g<=.5?g*(f+1):g+f-g*f,b=2*g-c,a.length>3&&(a[3]=Number(a[3])),a[0]=ga(e+1/3,b,c),a[1]=ga(e,b,c),a[2]=ga(e-1/3,b,c),a):(a=a.match(p)||fa.transparent,a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3])),a)):fa.black},ia="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(i in fa)ia+="|"+i+"\\b";ia=new RegExp(ia+")","gi");var ja=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(ia)||[""])[0]:"",g=a.split(f).join("").match(r)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=a.indexOf(" ")!==-1?" ":",",k=g.length,l=k>0?g[0].replace(p,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&F.test(a)){for(o=a.replace(F,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(ia)||[f])[0],m=a.split(b).join("").match(r)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(a.indexOf("inset")!==-1?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&F.test(a)){for(f=a.replace(F,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(r)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},ka=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;i<4;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},la=(M._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f=this.data,g=f.proxy,h=f.firstMPT,i=1e-6;h;)b=g[h.v],h.r?b=b>0?b+.5|0:b-.5|0:b<i&&b>-i&&(b=0),h.t[h.p]=b,h=h._next;if(f.autoRotate&&(f.autoRotate.rotation=g.rotation),1===a)for(h=f.firstMPT;h;){if(c=h.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c.e=e}}else c.e=c.s+c.xs0;h=h._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),ma=(M._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=I;for(c._transform=null,I=b,d=k=c.parse(a,b,d,e),I=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new la(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new la(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},M.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof ma||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),na=g.parseComplex=function(a,b,c,d,e,f,g,h,i,k){c=c||f||"",g=new ma(a,b,0,0,g,k?2:1,null,!1,h,c,d),d+="";var l,m,n,o,r,s,t,u,v,w,y,z,A=c.split(", ").join(",").split(" "),B=d.split(", ").join(",").split(" "),C=A.length,D=j!==!1;for(d.indexOf(",")===-1&&c.indexOf(",")===-1||(A=A.join(" ").replace(F,", ").split(" "),B=B.join(" ").replace(F,", ").split(" "),C=A.length),C!==B.length&&(A=(f||"").split(" "),C=A.length),g.plugin=i,g.setRatio=k,l=0;l<C;l++)if(o=A[l],r=B[l],(u=parseFloat(o))||0===u)g.appendXtra("",u,ca(r,u),r.replace(q,""),D&&r.indexOf("px")!==-1,!0);else if(e&&("#"===o.charAt(0)||fa[o]||x.test(o)))z=","===r.charAt(r.length-1)?"),":")",o=ha(o),r=ha(r),v=o.length+r.length>6,v&&!O&&0===r[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(B[l]).join("transparent")):(O||(v=!1),g.appendXtra(v?"rgba(":"rgb(",o[0],r[0]-o[0],",",!0,!0).appendXtra("",o[1],r[1]-o[1],",",!0).appendXtra("",o[2],r[2]-o[2],v?",":z,!0),v&&(o=o.length<4?1:o[3],g.appendXtra("",o,(r.length<4?1:r[3])-o,z,!1)));else if(s=o.match(p)){if(!(t=r.match(q))||t.length!==s.length)return g;for(n=0,m=0;m<s.length;m++)y=s[m],w=o.indexOf(y,n),g.appendXtra(o.substr(n,w-n),Number(y),ca(t[m],y),"",D&&"px"===o.substr(w+y.length,2),0===m),n=w+y.length;g["xs"+g.l]+=o.substr(n)}else g["xs"+g.l]+=g.l?" "+o:o;if(d.indexOf("=")!==-1&&g.data){for(z=g.xs0+g.data.s,l=1;l<g.l;l++)z+=g["xs"+l]+g.data["xn"+l];g.e=z+g["xs"+l]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},oa=9;for(i=ma.prototype,i.l=i.pr=0;--oa>0;)i["xn"+oa]=0,i["xs"+oa]="";i.xs0="",i._next=i._prev=i.xfirst=i.data=i.plugin=i.setRatio=i.rxp=null,i.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&h?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new ma(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var pa=function(a,b){b=b||{},this.p=b.prefix?T(a)||a:a,h[a]=h[this.p]=this,this.format=b.formatter||ja(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},qa=M._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e=a.split(","),f=b.defaultValue;for(c=c||[f],d=0;d<e.length;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||f,new pa(e[d],b)},ra=function(a){if(!h[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";qa(a,{parser:function(a,c,d,e,f,g,i){var j=(window.GreenSockGlobals||window).com.greensock.plugins[b];return j?(j._cssRegister(),h[d].parse(a,c,d,e,f,g,i)):(Q("Error: "+b+" js file not loaded."),f)}})}};i=pa.prototype,i.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(F.test(c)||F.test(b)?(h=b.replace(F,"|").split("|"),i=c.replace(F,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;g<j;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(c=l===-1?i:h,c[g]+=" "+m));b=h.join(", "),c=i.join(", ")}return na(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},i.parse=function(a,b,c,d,f,g,h){return this.parseComplex(a.style,this.format(V(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){qa(a,{parser:function(a,d,e,f,g,h,i){var j=new ma(a,e,0,0,g,2,e,!1,c);return j.plugin=h,j.setRatio=b(a,d,f._tween,e),j},priority:c})};var sa="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),ta=T("transform"),ua=R+"transform",va=T("transformOrigin"),wa=null!==T("perspective"),xa=function(a,b,c,d){if(a._gsTransform&&c&&!d)return a._gsTransform;var e,f,h,i,j,k,l,m,n,o,p,q,r,s=c?a._gsTransform||{skewY:0}:{skewY:0},t=s.scaleX<0,u=2e-5,v=1e5,w=179.99,x=w*G,y=wa?parseFloat(V(a,va,b,!1,"0 0 0").split(" ")[2])||s.zOrigin||0:0;for(ta?e=V(a,ua,b,!0):a.currentStyle&&(e=a.currentStyle.filter.match(D),e=e&&4===e.length?[e[0].substr(4),Number(e[2].substr(4)),Number(e[1].substr(4)),e[3].substr(4),s.x||0,s.y||0].join(","):""),f=(e||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],h=f.length;--h>-1;)i=Number(f[h]),f[h]=(j=i-(i|=0))?(j*v+(j<0?-.5:.5)|0)/v+i:i;if(16===f.length){var z=f[8],A=f[9],B=f[10],C=f[12],E=f[13],F=f[14];if(s.zOrigin&&(F=-s.zOrigin,C=z*F-f[12],E=A*F-f[13],F=B*F+s.zOrigin-f[14]),!c||d||null==s.rotationX){var I,J,K,L,M,N,O,P=f[0],Q=f[1],R=f[2],S=f[3],T=f[4],U=f[5],W=f[6],X=f[7],Y=f[11],Z=Math.atan2(W,B),$=Z<-x||Z>x;s.rotationX=Z*H,Z&&(L=Math.cos(-Z),M=Math.sin(-Z),I=T*L+z*M,J=U*L+A*M,K=W*L+B*M,z=T*-M+z*L,A=U*-M+A*L,B=W*-M+B*L,Y=X*-M+Y*L,T=I,U=J,W=K),Z=Math.atan2(z,P),s.rotationY=Z*H,Z&&(N=Z<-x||Z>x,L=Math.cos(-Z),M=Math.sin(-Z),I=P*L-z*M,J=Q*L-A*M,K=R*L-B*M,A=Q*M+A*L,B=R*M+B*L,Y=S*M+Y*L,P=I,Q=J,R=K),Z=Math.atan2(Q,U),s.rotation=Z*H,Z&&(O=Z<-x||Z>x,L=Math.cos(-Z),M=Math.sin(-Z),P=P*L+T*M,J=Q*L+U*M,U=Q*-M+U*L,W=R*-M+W*L,Q=J),O&&$?s.rotation=s.rotationX=0:O&&N?s.rotation=s.rotationY=0:N&&$&&(s.rotationY=s.rotationX=0),s.scaleX=(Math.sqrt(P*P+Q*Q)*v+.5|0)/v,s.scaleY=(Math.sqrt(U*U+A*A)*v+.5|0)/v,s.scaleZ=(Math.sqrt(W*W+B*B)*v+.5|0)/v,s.skewX=0,s.perspective=Y?1/(Y<0?-Y:Y):0,s.x=C,s.y=E,s.z=F}}else if((!wa||d||!f.length||s.x!==f[4]||s.y!==f[5]||!s.rotationX&&!s.rotationY)&&(void 0===s.x||"none"!==V(a,"display",b))){var _=f.length>=6,aa=_?f[0]:1,ba=f[1]||0,ca=f[2]||0,da=_?f[3]:1;s.x=f[4]||0,s.y=f[5]||0,k=Math.sqrt(aa*aa+ba*ba),l=Math.sqrt(da*da+ca*ca),m=aa||ba?Math.atan2(ba,aa)*H:s.rotation||0,n=ca||da?Math.atan2(ca,da)*H+m:s.skewX||0,o=k-Math.abs(s.scaleX||0),p=l-Math.abs(s.scaleY||0),Math.abs(n)>90&&Math.abs(n)<270&&(t?(k*=-1,n+=m<=0?180:-180,m+=m<=0?180:-180):(l*=-1,n+=n<=0?180:-180)),q=(m-s.rotation)%180,r=(n-s.skewX)%180,(void 0===s.skewX||o>u||o<-u||p>u||p<-u||q>-w&&q<w&&q*v|!1||r>-w&&r<w&&r*v|!1)&&(s.scaleX=k,s.scaleY=l,s.rotation=m,s.skewX=n),wa&&(s.rotationX=s.rotationY=s.z=0,s.perspective=parseFloat(g.defaultTransformPerspective)||0,s.scaleZ=1)}s.zOrigin=y;for(h in s)s[h]<u&&s[h]>-u&&(s[h]=0);return c&&(a._gsTransform=s),s},ya=function(a){var b,c,d=this.data,e=-d.rotation*G,f=e+d.skewX*G,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,p,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,w=d.x,x=d.y;if(null!=d.ox&&(n=(d.oxp?q*d.ox*.01:d.ox)-q/2,p=(d.oyp?r*d.oy*.01:d.oy)-r/2,w+=n-(n*h+p*i),x+=p-(n*j+p*k)),s?(n=q/2,p=r/2,v+=", Dx="+(n-(n*h+p*i)+w)+", Dy="+(p-(n*j+p*k)+x)+")"):v+=", sizingMethod='auto expand')",b.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?l.filter=b.replace(E,v):l.filter=v+" "+b,0!==a&&1!==a||1===h&&0===i&&0===j&&1===k&&(s&&v.indexOf("Dx=0, Dy=0")===-1||u.test(b)&&100!==parseFloat(RegExp.$1)||b.indexOf(b.indexOf("Alpha"))===-1&&l.removeAttribute("filter")),!s){var y,z,A,B=o<8?1:-1;for(n=d.ieOffsetX||0,p=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((h<0?-h:h)*q+(i<0?-i:i)*r))/2+w),d.ieOffsetY=Math.round((r-((k<0?-k:k)*r+(j<0?-j:j)*q))/2+x),oa=0;oa<4;oa++)z=_[oa],y=m[z],c=y.indexOf("px")!==-1?parseFloat(y):W(this.t,z,parseFloat(y),y.replace(t,""))||0,A=c!==d[z]?oa<2?-d.ieOffsetX:-d.ieOffsetY:oa<2?n-d.ieOffsetX:p-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===oa||2===oa?1:B)))+"px"}}},za=function(a){var b,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation*G,C=z.scaleX,D=z.scaleY,E=z.scaleZ,F=z.perspective;if(m){var H=1e-4;C<H&&C>-H&&(C=E=2e-5),D<H&&D>-H&&(D=E=2e-5),!F||z.z||z.rotationX||z.rotationY||(F=0)}if(B||z.skewX)t=Math.cos(B),u=Math.sin(B),b=t,f=u,z.skewX&&(B-=z.skewX*G,t=Math.cos(B),u=Math.sin(B)),c=-u,g=t;else{if(!(z.rotationY||z.rotationX||1!==E||F))return void(A[ta]="translate3d("+z.x+"px,"+z.y+"px,"+z.z+"px)"+(1!==C||1!==D?" scale("+C+","+D+")":""));b=g=1,c=f=0}l=1,d=e=h=i=j=k=n=o=p=0,q=F?-1/F:0,r=z.zOrigin,s=1e5,B=z.rotationY*G,B&&(t=Math.cos(B),u=Math.sin(B),j=l*-u,o=q*-u,d=b*u,h=f*u,l*=t,q*=t,b*=t,f*=t),B=z.rotationX*G,B&&(t=Math.cos(B),u=Math.sin(B),v=c*t+d*u,w=g*t+h*u,x=k*t+l*u,y=p*t+q*u,d=c*-u+d*t,h=g*-u+h*t,l=k*-u+l*t,q=p*-u+q*t,c=v,g=w,k=x,p=y),1!==E&&(d*=E,h*=E,l*=E,q*=E),1!==D&&(c*=D,g*=D,k*=D,p*=D),1!==C&&(b*=C,f*=C,j*=C,o*=C),r&&(n-=r,e=d*n,i=h*n,n=l*n+r),e=(v=(e+=z.x)-(e|=0))?(v*s+(v<0?-.5:.5)|0)/s+e:e,i=(v=(i+=z.y)-(i|=0))?(v*s+(v<0?-.5:.5)|0)/s+i:i,n=(v=(n+=z.z)-(n|=0))?(v*s+(v<0?-.5:.5)|0)/s+n:n,A[ta]="matrix3d("+[(b*s|0)/s,(f*s|0)/s,(j*s|0)/s,(o*s|0)/s,(c*s|0)/s,(g*s|0)/s,(k*s|0)/s,(p*s|0)/s,(d*s|0)/s,(h*s|0)/s,(l*s|0)/s,(q*s|0)/s,e,i,n,F?1+-n/F:1].join(",")+")"},Aa=function(a){var b,c,d,e,f,g,h,i,j,k=this.data,l=this.t,n=l.style;m&&(b=n.top?"top":n.bottom?"bottom":parseFloat(V(l,"top",null,!1))?"bottom":"top",c=V(l,b,null,!1),d=parseFloat(c)||0,e=c.substr((d+"").length)||"px",k._ffFix=!k._ffFix,n[b]=(k._ffFix?d+.05:d-.05)+e),k.rotation||k.skewX?(f=k.rotation*G,g=f-k.skewX*G,h=1e5,i=k.scaleX*h,j=k.scaleY*h,n[ta]="matrix("+(Math.cos(f)*i|0)/h+","+(Math.sin(f)*i|0)/h+","+(Math.sin(g)*-j|0)/h+","+(Math.cos(g)*j|0)/h+","+k.x+","+k.y+")"):n[ta]="matrix("+k.scaleX+",0,0,"+k.scaleY+","+k.x+","+k.y+")"};qa("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D",{parser:function(a,b,c,d,f,g,h){if(d._transform)return f;var i,j,k,l,m,n,o,p=d._transform=xa(a,e,!0,h.parseTransform),q=a.style,r=1e-6,s=sa.length,t=h,u={};if("string"==typeof t.transform&&ta)k=q.cssText,q[ta]=t.transform,q.display="block",i=xa(a,null,!1),q.cssText=k;else if("object"==typeof t){if(i={scaleX:da(null!=t.scaleX?t.scaleX:t.scale,p.scaleX),scaleY:da(null!=t.scaleY?t.scaleY:t.scale,p.scaleY),scaleZ:da(null!=t.scaleZ?t.scaleZ:t.scale,p.scaleZ),x:da(t.x,p.x),y:da(t.y,p.y),z:da(t.z,p.z),perspective:da(t.transformPerspective,p.perspective)},null!=(o=t.directionalRotation))if("object"==typeof o)for(k in o)t[k]=o[k];else t.rotation=o;i.rotation=ea("rotation"in t?t.rotation:"shortRotation"in t?t.shortRotation+"_short":"rotationZ"in t?t.rotationZ:p.rotation,p.rotation,"rotation",u),wa&&(i.rotationX=ea("rotationX"in t?t.rotationX:"shortRotationX"in t?t.shortRotationX+"_short":p.rotationX||0,p.rotationX,"rotationX",u),i.rotationY=ea("rotationY"in t?t.rotationY:"shortRotationY"in t?t.shortRotationY+"_short":p.rotationY||0,p.rotationY,"rotationY",u)),i.skewX=null==t.skewX?p.skewX:ea(t.skewX,p.skewX),i.skewY=null==t.skewY?p.skewY:ea(t.skewY,p.skewY),(j=i.skewY-p.skewY)&&(i.skewX+=j,i.rotation+=j)}for(null!=t.force3D&&(p.force3D=t.force3D,n=!0),m=p.force3D||p.z||p.rotationX||p.rotationY||i.z||i.rotationX||i.rotationY||i.perspective,m||null==t.scale||(i.scaleZ=1);--s>-1;)c=sa[s],((l=i[c]-p[c])>r||l<-r||null!=I[c])&&(n=!0,f=new ma(p,c,p[c],l,f),c in u&&(f.e=u[c]),f.xs0=0,f.plugin=g,d._overwriteProps.push(f.n));return l=t.transformOrigin,(l||wa&&m&&p.zOrigin)&&(ta?(n=!0,c=va,l=(l||V(a,c,e,!1,"50% 50%"))+"",f=new ma(q,c,0,0,f,-1,"transformOrigin"),f.b=q[c],f.plugin=g,wa?(k=p.zOrigin,l=l.split(" "),p.zOrigin=(l.length>2&&(0===k||"0px"!==l[2])?parseFloat(l[2]):k)||0,f.xs0=f.e=q[c]=l[0]+" "+(l[1]||"50%")+" 0px",f=new ma(p,"zOrigin",0,0,f,-1,f.n),f.b=k,f.xs0=f.e=p.zOrigin):f.xs0=f.e=q[c]=l):ba(l+"",p)),n&&(d._transformType=m||3===this._transformType?3:2),f},prefix:!0}),qa("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),qa("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g,h){b=this.format(b);var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],z=a.style;for(q=parseFloat(a.offsetWidth),r=parseFloat(a.offsetHeight),i=b.split(" "),j=0;j<y.length;j++)this.p.indexOf("border")&&(y[j]=T(y[j])),m=l=V(a,y[j],e,!1,"0px"),m.indexOf(" ")!==-1&&(l=m.split(" "),m=l[0],l=l[1]),n=k=i[j],o=parseFloat(m),t=m.substr((o+"").length),u="="===n.charAt(1),u?(p=parseInt(n.charAt(0)+"1",10),n=n.substr(2),p*=parseFloat(n),s=n.substr((p+"").length-(p<0?1:0))||""):(p=parseFloat(n),s=n.substr((p+"").length)),""===s&&(s=d[c]||t),s!==t&&(v=W(a,"borderLeft",o,t),w=W(a,"borderTop",o,t),"%"===s?(m=v/q*100+"%",l=w/r*100+"%"):"em"===s?(x=W(a,"borderLeft",1,"em"),m=v/x+"em",l=w/x+"em"):(m=v+"px",l=w+"px"),u&&(n=parseFloat(m)+p+s,k=parseFloat(l)+p+s)),g=na(z,y[j],m+" "+l,n+" "+k,!1,"0px",g);return g},prefix:!0,formatter:ja("0px 0px 0px 0px",!1,!0)}),qa("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",p=e||U(a,null),q=this.format((p?o?p.getPropertyValue(n+"-x")+" "+p.getPropertyValue(n+"-y"):p.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(q.indexOf("%")!==-1!=(r.indexOf("%")!==-1)&&(m=V(a,"backgroundImage").replace(A,""))&&"none"!==m){for(h=q.split(" "),i=r.split(" "),L.setAttribute("src",m),j=2;--j>-1;)q=h[j],(k=q.indexOf("%")!==-1)!==(i[j].indexOf("%")!==-1)&&(l=0===j?a.offsetWidth-L.width:a.offsetHeight-L.height,h[j]=k?parseFloat(q)/100*l+"px":parseFloat(q)/l*100+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:ba}),qa("backgroundSize",{defaultValue:"0 0",formatter:ba}),qa("perspective",{defaultValue:"0px",prefix:!0}),qa("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),qa("transformStyle",{prefix:!0}),qa("backfaceVisibility",{prefix:!0}),qa("userSelect",{prefix:!0}),qa("margin",{parser:ka("marginTop,marginRight,marginBottom,marginLeft")}),qa("padding",{parser:ka("paddingTop,paddingRight,paddingBottom,paddingLeft")}),qa("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return o<9?(i=a.currentStyle,j=o<8?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(V(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),qa("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),qa("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),qa("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(V(a,"borderTopWidth",e,!1,"0px")+" "+V(a,"borderTopStyle",e,!1,"solid")+" "+V(a,"borderTopColor",e,!1,"#000")),this.format(b),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(ia)||["#000"])[0]}}),qa("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){var g=a.style,h="cssFloat"in g?"cssFloat":"styleFloat";return new ma(g,h,0,0,e,-1,c,!1,0,g[h],b)}});var Ba=function(a){var b,c=this.t,d=c.filter||V(this.data,"filter"),e=this.s+this.c*a|0;100===e&&(d.indexOf("atrix(")===-1&&d.indexOf("radient(")===-1&&d.indexOf("oader(")===-1?(c.removeAttribute("filter"),b=!V(this.data,"filter")):(c.filter=d.replace(w,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),d.indexOf("opacity")===-1?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(u,"opacity="+e))};qa("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(V(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===V(a,"visibility",e)&&0!==b&&(h=0),O?f=new ma(i,"opacity",h,b-h,f):(f=new ma(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Ba),j&&(f=new ma(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Ca=function(a,b){b&&(a.removeProperty?a.removeProperty(b.replace(y,"-$1").toLowerCase()):a.removeAttribute(b))},Da=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.className=0===a?this.b:this.e;for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Ca(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};qa("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.className,p=a.style.cssText;if(g=f._classNamePT=new ma(a,d,0,0,g,2),g.setRatio=Da,g.pr=-11,c=!0,g.b=o,k=Y(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(new RegExp("\\s*\\b"+b.substr(2)+"\\b"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),f._tween._duration&&(a.className=g.e,j=Z(a,k,Y(a),i,m),a.className=o,g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)),g}});var Ea=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f=this.t.style,g=h.transform.parse;if("all"===this.e)f.cssText="",e=!0;else for(b=this.e.split(","),d=b.length;--d>-1;)c=b[d],h[c]&&(h[c].parse===g?e=!0:c="transformOrigin"===c?va:h[c].p),Ca(f,c);e&&(Ca(f,ta),this.t._gsTransform&&delete this.t._gsTransform)}};for(qa("clearProps",{parser:function(a,b,d,e,f){return f=new ma(a,d,0,0,f,2),f.setRatio=Ea,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),i="bezier,throwProps,physicsProps,physics2D".split(","),oa=i.length;oa--;)ra(i[oa]);i=g.prototype,i._firstPT=null,i._onInitTween=function(a,b,h){if(!a.nodeType)return!1;this._target=a,this._tween=h,this._vars=b,j=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=U(a,""),f=this._overwriteProps;var i,m,o,p,q,r,s,t,u,w=a.style;if(k&&""===w.zIndex&&("auto"!==(i=V(a,"zIndex",e))&&""!==i||(w.zIndex=0)),"string"==typeof b&&(p=w.cssText,i=Y(a,e),w.cssText=p+";"+b,i=Z(a,i,Y(a)).difs,!O&&v.test(b)&&(i.opacity=parseFloat(RegExp.$1)),b=i,w.cssText=p),this._firstPT=m=this.parse(a,b,null),this._transformType){for(u=3===this._transformType,ta?l&&(k=!0,""===w.zIndex&&("auto"!==(s=V(a,"zIndex",e))&&""!==s||(w.zIndex=0)),n&&(w.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(u?"visible":"hidden"))):w.zoom=1,o=m;o&&o._next;)o=o._next;t=new ma(a,"transform",0,0,null,2),this._linkCSSP(t,null,o),t.setRatio=u&&wa?za:ta?Aa:ya,t.data=this._transform||xa(a,e,!0),f.pop()}if(c){for(;m;){for(r=m._next,o=p;o&&o.pr>m.pr;)o=o._next;(m._prev=o?o._prev:q)?m._prev._next=m:p=m,(m._next=o)?o._prev=m:q=m,m=r}this._firstPT=p}return!0},i.parse=function(a,b,c,f){var g,i,k,l,m,n,o,p,q,r,s=a.style;for(g in b)n=b[g],i=h[g],i?c=i.parse(a,n,g,this,c,f,b):(m=V(a,g,e)+"",q="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||g.indexOf("Color")!==-1||q&&x.test(n)?(q||(n=ha(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=na(s,g,m,n,!0,"transparent",c,0,f)):!q||n.indexOf(" ")===-1&&n.indexOf(",")===-1?(k=parseFloat(m),o=k||0===k?m.substr((k+"").length):"",""!==m&&"auto"!==m||("width"===g||"height"===g?(k=aa(a,g,e),o="px"):"left"===g||"top"===g?(k=X(a,g,e),o="px"):(k="opacity"!==g?0:1,o="")),r=q&&"="===n.charAt(1),r?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(t,"")):(l=parseFloat(n),p=q?n.substr((l+"").length)||"":""),""===p&&(p=d[g]||o),n=l||0===l?(r?l+k:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&(k||0===k)&&(k=W(a,g,k,o),"%"===p?(k/=W(a,g,100,"%")/100,k>100&&(k=100),b.strictUnits!==!0&&(m=k+"%")):"em"===p?k/=W(a,g,1,"em"):(l=W(a,g,l,p),p="px"),r&&(l||0===l)&&(n=l+k+p)),r&&(l+=k),!k&&0!==k||!l&&0!==l?void 0!==s[g]&&(n||n+""!="NaN"&&null!=n)?(c=new ma(s,g,l||k||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&g.indexOf("Style")===-1?n:m):Q("invalid "+g+" tween value: "+b[g]):(c=new ma(s,g,k,l-k,c,0,g,j!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p)):c=na(s,g,m,n,!0,null,c,0,f)),f&&c&&!c.plugin&&(c.plugin=f);return c},i.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=b>0?b+.5|0:b-.5|0:b<f&&b>-f&&(b=0),e.type)if(1===e.type)if(2===(d=e.l))e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else e.type===-1?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;)2!==e.type?e.t[e.p]=e.e:e.setRatio(a),e=e._next},i._enableTransforms=function(a){this._transformType=a||3===this._transformType?3:2,this._transform=this._transform||xa(this._target,e,!0)},i._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},i._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}return b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),a.prototype._kill.call(this,f)};var Fa=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Fa(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(Y(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Fa(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h=b.to(a,c,d),i=[h],j=[],k=[],l=[],m=b._internals.reservedProps;for(a=h._targets||h.target,Fa(a,j,l),h.render(c,!0),Fa(a,k),h.render(0,!0),h._enabled(!0),e=l.length;--e>-1;)if(f=Z(l[e],j[e],k[e]),f.firstMPT){f=f.difs;for(g in d)m[g]&&(f[g]=d[g]);i.push(b.to(l[e],c,f))}return i},a.activate([g]),g},!0),function(){var a=window._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=a.prototype;b._onInitAllProps=function(){for(var a,b,c,d=this._tween,e=d.vars.roundProps instanceof Array?d.vars.roundProps:d.vars.roundProps.split(","),f=e.length,g={},h=d._propLookup.roundProps;--f>-1;)g[e[f]]=1;for(f=e.length;--f>-1;)for(a=e[f],b=d._firstPT;b;)c=b._next,b.pg?b.t._roundProps(g,!0):b.n===a&&(this._add(b.t,a,b.s,b.c),c&&(c._prev=b._prev),b._prev?b._prev._next=c:d._firstPT===b&&(d._firstPT=c),b._next=b._prev=null,d._propLookup[a]=h),b=c;return!1},b._add=function(a,b,c,d){this._addTween(a,b,c,c+d,b,!0),this._overwriteProps.push(b)}}(),window._gsDefine.plugin({propName:"attr",API:2,init:function(a,b,c){var d;if("function"!=typeof a.setAttribute)return!1;this._target=a,this._proxy={};for(d in b)this._addTween(this._proxy,d,parseFloat(a.getAttribute(d)),b[d],d)&&this._overwriteProps.push(d);return!0},set:function(a){this._super.setRatio.call(this,a);for(var b,c=this._overwriteProps,d=c.length;--d>-1;)b=c[d],this._target.setAttribute(b,this._proxy[b]+"")}}),(window._gsQueue||(window._gsQueue=[])).push(function(){var a=Math.PI/180,b=function(a,b,c,d,e){this.p=b,this.f="function"==typeof a[b],this.start=this.value=this.f?a[b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3)]():parseFloat(a[b]),this.velocity=c||0,this.v=this.velocity/e,d||0===d?(this.acceleration=d,this.a=this.acceleration/(e*e)):this.acceleration=this.a=0},c=Math.random(),d=window._gsDefine.globals.com.greensock.core.Animation._rootFramesTimeline,e=window._gsDefine.plugin({propName:"physics2D",API:2,init:function(c,e,f){this._target=c,this._tween=f,this._runBackwards=f.vars.runBackwards===!0,this._step=0;for(var g,h=f._timeline,i=Number(e.angle)||0,j=Number(e.velocity)||0,k=Number(e.acceleration)||0,l=e.xProp||"x",m=e.yProp||"y",n=e.accelerationAngle||0===e.accelerationAngle?Number(e.accelerationAngle):i;h._timeline;)h=h._timeline;return this._stepsPerTimeUnit=g=h===d?1:30,e.gravity&&(k=Number(e.gravity),n=90),i*=a,n*=a,this._friction=1-Number(e.friction||0),this._overwriteProps.push(l),this._overwriteProps.push(m),this._x=new b(c,l,Math.cos(i)*j,Math.cos(n)*k,g),this._y=new b(c,m,Math.sin(i)*j,Math.sin(n)*k,g),this._skipX=this._skipY=!1,!0},set:function(a){var b,c,d,e,f,g,h=this._tween._time,i=this._x,j=this._y;if(this._runBackwards===!0&&(h=this._tween._duration-h),1===this._friction)d=h*h*.5,b=i.start+(i.velocity*h+i.acceleration*d),c=j.start+(j.velocity*h+j.acceleration*d);else{if(h*=this._stepsPerTimeUnit,e=g=(0|h)-this._step,f=h%1,g>=0)for(;--g>-1;)i.v+=i.a,j.v+=j.a,i.v*=this._friction,j.v*=this._friction,i.value+=i.v,j.value+=j.v;else for(g=-g;--g>-1;)i.value-=i.v,j.value-=j.v,i.v/=this._friction,j.v/=this._friction,i.v-=i.a,j.v-=j.a;b=i.value+i.v*f,c=j.value+j.v*f,this._step+=e}this._skipX||(i.r&&(b=b+(b<0?-.5:.5)|0),i.f?this._target[i.p](b):this._target[i.p]=b),this._skipY||(j.r&&(c=c+(c<0?-.5:.5)|0),j.f?this._target[j.p](c):this._target[j.p]=c)}}),f=e.prototype;f._kill=function(a){return null!=a[this._x.p]&&(this._skipX=!0),null!=a[this._y.p]&&(this._skipY=!0),this._super._kill(a)},f._roundProps=function(a,b){(a.physics2D||a[this._x.p])&&(this._x.r=b),(a.physics2D||a[this._y.p])&&(this._y.r=b)},e._autoCSS=!0,e._cssRegister=function(){var a=window._gsDefine.globals.CSSPlugin;if(a){var b=a._internals,d=b._parseToProxy,f=b._setPluginRatio,g=b.CSSPropTween;b._registerComplexSpecialProp("physics2D",{parser:function(a,b,h,i,j,k){k=new e;var l,m=b.xProp||"x",n=b.yProp||"y",o={};return o[m]=o[n]=c++,l=d(a,o,i,j,k),j=new g(a,"physics2D",0,0,l.pt,2),j.data=l,j.plugin=k,j.setRatio=f,k._onInitTween(l.proxy,b,i._tween),j}})}}}),window._gsDefine&&window._gsQueue.pop()(),window._gsDefine.plugin({propName:"directionalRotation",API:2,init:function(a,b,c){"object"!=typeof b&&(b={rotation:b}),this.finals={};var d,e,f,g,h,i,j=b.useRadians===!0?2*Math.PI:360,k=1e-6;for(d in b)"useRadians"!==d&&(i=(b[d]+"").split("_"),e=i[0],f=parseFloat("function"!=typeof a[d]?a[d]:a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]()),g=this.finals[d]="string"==typeof e&&"="===e.charAt(1)?f+parseInt(e.charAt(0)+"1",10)*Number(e.substr(2)):Number(e)||0,h=g-f,i.length&&(e=i.join("_"),e.indexOf("short")!==-1&&(h%=j)!==h%(j/2)&&(h=h<0?h+j:h-j),
e.indexOf("_cw")!==-1&&h<0?h=(h+9999999999*j)%j-(h/j|0)*j:e.indexOf("ccw")!==-1&&h>0&&(h=(h-9999999999*j)%j-(h/j|0)*j)),(h>k||h<-k)&&(this._addTween(a,d,f,f+h,d),this._overwriteProps.push(d)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,window._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=window.GreenSockGlobals||window,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d,e){var f=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(f,a),f},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return(a*=2)<1?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return a<0?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:c<.5?(f=2*c,e=f*f*.5*r):(f=2*(1-c),e=f*f*.5*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:d<0&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:a<2/2.75?1-(7.5625*(a-=1.5/2.75)*a+.75):a<2.5/2.75?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=a<.5;return a=b?1-2*a:2*a-1,a<1/2.75?a*=7.5625*a:a=a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a||1,this._p2=b||d,this._p3=this._p2/g*(Math.asin(1/this._p1)||0)},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*g/this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2))},.3),d("ElasticInOut",function(a){return(a*=2)<1?-.5*(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2)):this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*g/this._p2)*.5+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return 1-Math.cos(a*h)}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),function(a){"use strict";var b=a.GreenSockGlobals||a;if(!b.TweenLite){var c,d,e,f,g,h=function(a){var c,d=a.split("."),e=b;for(c=0;c<d.length;c++)e[d[c]]=e=e[d[c]]||{};return e},i=h("com.greensock"),j=1e-10,k=[].slice,l=function(){},m=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b}}(),n={},o=function(c,d,e,f){this.sc=n[c]?n[c].sc:[],n[c]=this,this.gsClass=null,this.func=e;var g=[];this.check=function(i){for(var j,k,l,m,p=d.length,q=p;--p>-1;)(j=n[d[p]]||new o(d[p],[])).gsClass?(g[p]=j.gsClass,q--):i&&j.sc.push(this);if(0===q&&e)for(k=("com.greensock."+c).split("."),l=k.pop(),m=h(k.join("."))[l]=this.gsClass=e.apply(e,g),f&&(b[l]=m,"function"==typeof define&&define.amd?define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+c.split(".").join("/"),[],function(){return m}):"undefined"!=typeof module&&module.exports&&(module.exports=m)),p=0;p<this.sc.length;p++)this.sc[p].check()},this.check(!0)},p=a._gsDefine=function(a,b,c,d){return new o(a,b,c,d)},q=i._class=function(a,b,c){return b=b||function(){},p(a,[],function(){return b},c),b};p.globals=b;var r=[0,0,1,1],s=[],t=q("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?r.concat(b):r},!0),u=t.map={},v=t.register=function(a,b,c,d){for(var e,f,g,h,j=b.split(","),k=j.length,l=(c||"easeIn,easeOut,easeInOut").split(",");--k>-1;)for(f=j[k],e=d?q("easing."+f,null,!0):i.easing[f]||{},g=l.length;--g>-1;)h=l[g],u[f+"."+h]=u[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(e=t.prototype,e._calcEnd=!1,e.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:a<.5?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:a<.5?d/2:1-d/2},c=["Linear","Quad","Cubic","Quart","Quint,Strong"],d=c.length;--d>-1;)e=c[d]+",Power"+d,v(new t(null,null,1,d),e,"easeOut",!0),v(new t(null,null,2,d),e,"easeIn"+(0===d?",easeNone":"")),v(new t(null,null,3,d),e,"easeInOut");u.linear=i.easing.Linear.easeIn,u.swing=i.easing.Quad.easeInOut;var w=q("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});e=w.prototype,e.addEventListener=function(a,b,c,d,e){e=e||0;var h,i,j=this._listeners[a],k=0;for(null==j&&(this._listeners[a]=j=[]),i=j.length;--i>-1;)h=j[i],h.c===b&&h.s===c?j.splice(i,1):0===k&&h.pr<e&&(k=i+1);j.splice(k,0,{c:b,s:c,up:d,pr:e}),this!==f||g||f.wake()},e.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},e.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,c=this._eventTarget;--b>-1;)d=e[b],d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c)};var x=a.requestAnimationFrame,y=a.cancelAnimationFrame,z=Date.now||function(){return(new Date).getTime()},A=z();for(c=["ms","moz","webkit","o"],d=c.length;--d>-1&&!x;)x=a[c[d]+"RequestAnimationFrame"],y=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];q("Ticker",function(a,b){var c,d,e,h,i,j=this,k=z(),m=b!==!1&&x,n=function(a){A=z(),j.time=(A-k)/1e3;var b,f=j.time-i;(!c||f>0||a===!0)&&(j.frame++,i+=f+(f>=h?.004:h-f),b=!0),a!==!0&&(e=d(n)),b&&j.dispatchEvent("tick")};w.call(j),j.time=j.frame=0,j.tick=function(){n(!0)},j.sleep=function(){null!=e&&(m&&y?y(e):clearTimeout(e),d=l,e=null,j===f&&(g=!1))},j.wake=function(){null!==e&&j.sleep(),d=0===c?l:m&&x?x:function(a){return setTimeout(a,1e3*(i-j.time)+1|0)},j===f&&(g=!0),n(2)},j.fps=function(a){if(!arguments.length)return c;c=a,h=1/(c||60),i=this.time+h,j.wake()},j.useRAF=function(a){if(!arguments.length)return m;j.sleep(),m=a,j.fps(c)},j.fps(a),setTimeout(function(){m&&(!e||j.frame<5)&&j.useRAF(!1)},1500)}),e=i.Ticker.prototype=new i.events.EventDispatcher,e.constructor=i.Ticker;var B=q("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,O){g||f.wake();var c=this.vars.useFrames?N:O;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});f=B.ticker=new i.Ticker,e=B.prototype,e._dirty=e._gc=e._initted=e._paused=!1,e._totalTime=e._time=0,e._rawPrevTime=-1,e._next=e._last=e._onUpdate=e._timeline=e.timeline=null,e._paused=!1;var C=function(){g&&z()-A>2e3&&f.wake(),setTimeout(C,2e3)};C(),e.play=function(a,b){return arguments.length&&this.seek(a,b),this.reversed(!1).paused(!1)},e.pause=function(a,b){return arguments.length&&this.seek(a,b),this.paused(!0)},e.resume=function(a,b){return arguments.length&&this.seek(a,b),this.paused(!1)},e.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},e.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},e.reverse=function(a,b){return arguments.length&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},e.render=function(a,b,c){},e.invalidate=function(){return this},e.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime())>=c&&a<c+this.totalDuration()/this._timeScale},e._enabled=function(a,b){return g||f.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},e._kill=function(a,b){return this._enabled(!1,!1)},e.kill=function(a,b){return this._kill(a,b),this},e._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},e._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},e.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=m(c)&&c.join("").indexOf("{self}")!==-1?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},e.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},e.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},e.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},e.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},e.totalTime=function(a,b,c){if(g||f.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(a<0&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===a&&0!==this._duration||this.render(a,b,!1)}return this},e.progress=e.totalProgress=function(a,b){return arguments.length?this.totalTime(this.duration()*a,b):this._time/this.duration()},e.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},e.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||j,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},e.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._totalTime,!0)),this):this._reversed},e.paused=function(a){if(!arguments.length)return this._paused;if(a!=this._paused&&this._timeline){g||a||f.wake();var b=this._timeline,c=b.rawTime(),d=c-this._pauseTime;!a&&b.smoothChildTiming&&(this._startTime+=d,this._uncache(!1)),this._pauseTime=a?c:null,this._paused=a,this._active=this.isActive(),!a&&0!==d&&this._initted&&this.duration()&&this.render(b.smoothChildTiming?this._totalTime:(c-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!a&&this._enabled(!0,!1),this};var D=q("core.SimpleTimeline",function(a){B.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});e=D.prototype=new B,e.constructor=D,e.kill()._gc=!1,e._first=e._last=null,e._sortChildren=!1,e.add=e.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._timeline&&this._uncache(!0),this},e._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a.timeline=null,a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),this._timeline&&this._uncache(!0)),this},e.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},e.rawTime=function(){return g||f.wake(),this._totalTime};var E=q("TweenLite",function(b,c,d){if(B.call(this,c,d),this.render=E.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:E.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?M[E.defaultOverwrite]:"number"==typeof i?i>>0:M[i],(h||b instanceof Array||b.push&&m(b))&&"number"!=typeof b[0])for(this._targets=g=k.call(b,0),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(k.call(f,0))):(this._siblings[e]=P(f,this,!1),1===i&&this._siblings[e].length>1&&Q(f,this,null,1,this._siblings[e])):"string"==typeof(f=g[e--]=E.selector(f))&&g.splice(e+1,1):g.splice(e--,1);else this._propLookup={},this._siblings=P(b,this,!1),1===i&&this._siblings.length>1&&Q(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),F=function(b){return b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},G=function(a,b){var c,d={};for(c in a)L[c]||c in b&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!I[c]||I[c]&&I[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};e=E.prototype=new B,e.constructor=E,e.kill()._gc=!1,e.ratio=0,e._firstPT=e._targets=e._overwrittenProps=e._startAt=null,e._notifyPluginsOfEnabled=!1,E.version="1.11.2",E.defaultEase=e._ease=new t(null,null,1,1),E.defaultOverwrite="auto",E.ticker=f,E.autoSleep=!0,E.selector=a.$||a.jQuery||function(b){return a.$?(E.selector=a.$,a.$(b)):a.document?a.document.getElementById("#"===b.charAt(0)?b.substr(1):b):b};var H=E._internals={isArray:m,isSelector:F},I=E._plugins={},J=E._tweenLookup={},K=0,L=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},M={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},N=B._rootFramesTimeline=new D,O=B._rootTimeline=new D;O._startTime=f.time,N._startTime=f.frame,O._active=N._active=!0,B._updateRoot=function(){if(O.render((f.time-O._startTime)*O._timeScale,!1,!1),N.render((f.frame-N._startTime)*N._timeScale,!1,!1),!(f.frame%120)){var a,b,c;for(c in J){for(b=J[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete J[c]}if((!(c=O._first)||c._paused)&&E.autoSleep&&!N._first&&1===f._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||f.sleep()}}},f.addEventListener("tick",B._updateRoot);var P=function(a,b,c){var d,e,f=a._gsTweenID;if(J[f||(a._gsTweenID=f="t"+K++)]||(J[f]={target:a,tweens:[]}),b&&(d=J[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return J[f].tweens},Q=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;f<i;f++)if((h=e[f])!==b)h._gc||h._enabled(!1,!1)&&(g=!0);else if(5===d)break;return g}var k,l=b._startTime+j,m=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(k=k||R(b,0,o),0===R(h,k,o)&&(m[n++]=h)):h._startTime<=l&&h._startTime+h.totalDuration()/h._timeScale+j>l&&((o||!h._initted)&&l-h._startTime<=2e-10||(m[n++]=h)));for(f=n;--f>-1;)h=m[f],2===d&&h._kill(c,a)&&(g=!0),(2!==d||!h._firstPT&&h._initted)&&h._enabled(!1,!1)&&(g=!0);return g},R=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&f-b<2*j?j:(f+=a.totalDuration()/a._timeScale/e)>b+j?0:f-b-j};e._init=function(){var a,b,c,d,e=this.vars,f=this._overwrittenProps,g=this._duration,h=e.immediateRender,i=e.ease;if(e.startAt){if(this._startAt&&this._startAt.render(-1,!0),e.startAt.overwrite=0,e.startAt.immediateRender=!0,this._startAt=E.to(this.target,0,e.startAt),h)if(this._time>0)this._startAt=null;else if(0!==g)return}else if(e.runBackwards&&0!==g)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{c={};for(d in e)L[d]&&"autoCSS"!==d||(c[d]=e[d]);if(c.overwrite=0,c.data="isFromStart",this._startAt=E.to(this.target,0,c),e.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(this._ease=i?i instanceof t?e.easeParams instanceof Array?i.config.apply(i,e.easeParams):i:"function"==typeof i?new t(i,e.easeParams):u[i]||E.defaultEase:E.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;--a>-1;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],f?f[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,f);if(b&&E._onPluginEvent("_onInitAllProps",this),f&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),e.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=e.onUpdate,this._initted=!0},e._initProps=function(b,c,d,e){var f,g,h,i,j,k;if(null==b)return!1;this.vars.css||b.style&&b!==a&&b.nodeType&&I.css&&this.vars.autoCSS!==!1&&G(this.vars,b);for(f in this.vars){if(k=this.vars[f],L[f])k&&(k instanceof Array||k.push&&m(k))&&k.join("").indexOf("{self}")!==-1&&(this.vars[f]=k=this._swapSelfInParams(k,this));else if(I[f]&&(i=new I[f])._onInitTween(b,this.vars[f],this)){for(this._firstPT=j={_next:this._firstPT,t:i,p:"setRatio",s:0,c:1,f:!0,n:f,pg:!0,pr:i._priority},g=i._overwriteProps.length;--g>-1;)c[i._overwriteProps[g]]=this._firstPT;(i._priority||i._onInitAllProps)&&(h=!0),(i._onDisable||i._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=c[f]=j={_next:this._firstPT,t:b,p:f,f:"function"==typeof b[f],n:f,pg:!1,pr:0},j.s=j.f?b[f.indexOf("set")||"function"!=typeof b["get"+f.substr(3)]?f:"get"+f.substr(3)]():parseFloat(b[f]),j.c="string"==typeof k&&"="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*Number(k.substr(2)):Number(k)-j.s||0;j&&j._next&&(j._next._prev=j)}return e&&this._kill(e,b)?this._initProps(b,c,d,e):this._overwrite>1&&this._firstPT&&d.length>1&&Q(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e)):h},e.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration;if(a>=i)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete"),0===i&&(g=this._rawPrevTime,(0===a||g<0||g===j)&&g!==a&&(c=!0,g>j&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a?a:j);else if(a<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&this._rawPrevTime>j)&&(e="onReverseComplete",d=this._reversed),a<0?(this._active=!1,0===i&&(this._rawPrevTime>=0&&(c=!0),this._rawPrevTime=g=!b||a?a:j)):this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,m=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===m?k*=k:2===m?k*=k*k:3===m?k*=k*k*k:4===m&&(k*=k*k*k*k),this.ratio=1===l?1-k:2===l?k:a/i<.5?k/2:1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==i||b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(a<0&&this._startAt&&this._startTime&&this._startAt.render(a,b,c),b||c&&0===this._time&&0===h||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),e&&(this._gc||(a<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||s),0===i&&this._rawPrevTime===j&&g!==j&&(this._rawPrevTime=0)))}},e._kill=function(a,b){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:E.selector(b)||b;var c,d,e,f,g,h,i,j;if((m(b)||F(b))&&"number"!=typeof b[0])for(c=b.length;--c>-1;)this._kill(a,b[c])&&(h=!0);else{if(this._targets){for(c=this._targets.length;--c>-1;)if(b===this._targets[c]){g=this._propLookup[c]||{},this._overwrittenProps=this._overwrittenProps||[],d=this._overwrittenProps[c]=a?this._overwrittenProps[c]||{}:"all";break}}else{if(b!==this.target)return!1;g=this._propLookup,d=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(g){i=a||g,j=a!==d&&"all"!==d&&a!==g&&("object"!=typeof a||!a._tempKill);for(e in i)(f=g[e])&&(f.pg&&f.t._kill(i)&&(h=!0),f.pg&&0!==f.t._overwriteProps.length||(f._prev?f._prev._next=f._next:f===this._firstPT&&(this._firstPT=f._next),f._next&&(f._next._prev=f._prev),f._next=f._prev=null),delete g[e]),j&&(d[e]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},e.invalidate=function(){return this._notifyPluginsOfEnabled&&E._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},e._enabled=function(a,b){if(g||f.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=P(d[c],this,!0);else this._siblings=P(this.target,this,!0)}return B.prototype._enabled.call(this,a,b),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&E._onPluginEvent(a?"_onEnable":"_onDisable",this)},E.to=function(a,b,c){return new E(a,b,c)},E.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new E(a,b,c)},E.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new E(a,b,d)},E.delayedCall=function(a,b,c,d,e){return new E(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,useFrames:e,overwrite:0})},E.set=function(a,b){return new E(a,0,b)},E.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:E.selector(a)||a;var c,d,e,f;if((m(a)||F(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(E.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=P(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},E.killTweensOf=E.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=E.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var S=q("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=S.prototype},!0);if(e=S.prototype,S.version="1.10.1",S.API=2,e._firstPT=null,e._addTween=function(a,b,c,d,e,f){var g,h;if(null!=d&&(g="number"==typeof d||"="!==d.charAt(1)?Number(d)-c:parseInt(d.charAt(0)+"1",10)*Number(d.substr(2))))return this._firstPT=h={_next:this._firstPT,t:a,p:b,s:c,c:g,f:"function"==typeof a[b],n:e||b,r:f},h._next&&(h._next._prev=h),h},e.setRatio=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.c*a+c.s,c.r?b=b+(b>0?.5:-.5)|0:b<d&&b>-d&&(b=0),c.f?c.t[c.p](b):c.t[c.p]=b,c=c._next},e._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},e._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},E._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},S.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===S.API&&(I[(new a[b])._propName]=a[b]);return!0},p.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=q("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){S.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new S(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,S.activate([g]),g},c=a._gsQueue){for(d=0;d<c.length;d++)c[d]();for(e in n)n[e].func||a.console.log("GSAP encountered missing dependency: com.greensock."+e)}g=!1}}(window);var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),pixi_spine;!function(a){!function(a){var b=function(){function a(a,b,c){if(null==a)throw new Error("name cannot be null.");if(null==b)throw new Error("timelines cannot be null.");this.name=a,this.timelines=b,this.duration=c}return a.prototype.apply=function(a,b,c,d,e,f,g,h){if(null==a)throw new Error("skeleton cannot be null.");d&&0!=this.duration&&(c%=this.duration,b>0&&(b%=this.duration));for(var i=this.timelines,j=0,k=i.length;j<k;j++)i[j].apply(a,b,c,e,f,g,h)},a.binarySearch=function(a,b,c){void 0===c&&(c=1);var d=0,e=a.length/c-2;if(0==e)return c;for(var f=e>>>1;;){if(a[(f+1)*c]<=b?d=f+1:e=f,d==e)return(d+1)*c;f=d+e>>>1}},a.linearSearch=function(a,b,c){for(var d=0,e=a.length-c;d<=e;d+=c)if(a[d]>b)return d;return-1},a}();a.Animation=b;var c;!function(a){a[a.rotate=0]="rotate",a[a.translate=1]="translate",a[a.scale=2]="scale",a[a.shear=3]="shear",a[a.attachment=4]="attachment",a[a.color=5]="color",a[a.deform=6]="deform",a[a.event=7]="event",a[a.drawOrder=8]="drawOrder",a[a.ikConstraint=9]="ikConstraint",a[a.transformConstraint=10]="transformConstraint",a[a.pathConstraintPosition=11]="pathConstraintPosition",a[a.pathConstraintSpacing=12]="pathConstraintSpacing",a[a.pathConstraintMix=13]="pathConstraintMix"}(c=a.TimelineType||(a.TimelineType={}));var d=function(){function b(c){if(c<=0)throw new Error("frameCount must be > 0: "+c);this.curves=a.Utils.newFloatArray((c-1)*b.BEZIER_SIZE)}return b.prototype.getFrameCount=function(){return this.curves.length/b.BEZIER_SIZE+1},b.prototype.setLinear=function(a){this.curves[a*b.BEZIER_SIZE]=b.LINEAR},b.prototype.setStepped=function(a){this.curves[a*b.BEZIER_SIZE]=b.STEPPED},b.prototype.getCurveType=function(a){var c=a*b.BEZIER_SIZE;if(c==this.curves.length)return b.LINEAR;var d=this.curves[c];return d==b.LINEAR?b.LINEAR:d==b.STEPPED?b.STEPPED:b.BEZIER},b.prototype.setCurve=function(a,c,d,e,f){var g=.03*(2*-c+e),h=.03*(2*-d+f),i=.006*(3*(c-e)+1),j=.006*(3*(d-f)+1),k=2*g+i,l=2*h+j,m=.3*c+g+.16666667*i,n=.3*d+h+.16666667*j,o=a*b.BEZIER_SIZE,p=this.curves;p[o++]=b.BEZIER;for(var q=m,r=n,s=o+b.BEZIER_SIZE-1;o<s;o+=2)p[o]=q,p[o+1]=r,m+=k,n+=l,k+=i,l+=j,q+=m,r+=n},b.prototype.getCurvePercent=function(c,d){d=a.MathUtils.clamp(d,0,1);var e=this.curves,f=c*b.BEZIER_SIZE,g=e[f];if(g==b.LINEAR)return d;if(g==b.STEPPED)return 0;f++;for(var h=0,i=f,j=f+b.BEZIER_SIZE-1;f<j;f+=2)if((h=e[f])>=d){var k=void 0,l=void 0;return f==i?(k=0,l=0):(k=e[f-2],l=e[f-1]),l+(e[f+1]-l)*(d-k)/(h-k)}var m=e[f-1];return m+(1-m)*(d-h)/(1-h)},b}();d.LINEAR=0,d.STEPPED=1,d.BEZIER=2,d.BEZIER_SIZE=19,a.CurveTimeline=d;var e=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b<<1),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(a,b,c){a<<=1,this.frames[a]=b,this.frames[a+e.ROTATION]=c},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.bones[this.boneIndex];if(d<j[0])return void(h&&(k.rotation=k.data.rotation));if(d>=j[j.length-e.ENTRIES])if(h)k.rotation=k.data.rotation+j[j.length+e.PREV_ROTATION]*g;else{var l=k.data.rotation+j[j.length+e.PREV_ROTATION]-k.rotation;l-=360*(16384-(16384.499999999996-l/360|0)),k.rotation+=l*g}else{var m=b.binarySearch(j,d,e.ENTRIES),n=j[m+e.PREV_ROTATION],o=j[m],p=this.getCurvePercent((m>>1)-1,1-(d-o)/(j[m+e.PREV_TIME]-o)),q=j[m+e.ROTATION]-n
;q-=360*(16384-(16384.499999999996-q/360|0)),q=n+q*p,h?(q-=360*(16384-(16384.499999999996-q/360|0)),k.rotation=k.data.rotation+q*g):(q=k.data.rotation+q-k.rotation,q-=360*(16384-(16384.499999999996-q/360|0)),k.rotation+=q*g)}},e}(d);e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,a.RotateTimeline=e;var f=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.translate<<24)+this.boneIndex},e.prototype.setFrame=function(a,b,c,d){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.X]=c,this.frames[a+e.Y]=d},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.bones[this.boneIndex];if(d<j[0])return void(h&&(k.x=k.data.x,k.y=k.data.y));var l=0,m=0;if(d>=j[j.length-e.ENTRIES])l=j[j.length+e.PREV_X],m=j[j.length+e.PREV_Y];else{var n=b.binarySearch(j,d,e.ENTRIES);l=j[n+e.PREV_X],m=j[n+e.PREV_Y];var o=j[n],p=this.getCurvePercent(n/e.ENTRIES-1,1-(d-o)/(j[n+e.PREV_TIME]-o));l+=(j[n+e.X]-l)*p,m+=(j[n+e.Y]-m)*p}h?(k.x=k.data.x+l*g,k.y=k.data.y+m*g):(k.x+=(k.data.x+l-k.x)*g,k.y+=(k.data.y+m-k.y)*g)},e}(d);f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_X=-2,f.PREV_Y=-1,f.X=1,f.Y=2,a.TranslateTimeline=f;var g=function(d){function e(a){return d.call(this,a)||this}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.scale<<24)+this.boneIndex},e.prototype.apply=function(c,d,f,g,h,i,j){var k=this.frames,l=c.bones[this.boneIndex];if(f<k[0])return void(i&&(l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY));var m=0,n=0;if(f>=k[k.length-e.ENTRIES])m=k[k.length+e.PREV_X]*l.data.scaleX,n=k[k.length+e.PREV_Y]*l.data.scaleY;else{var o=b.binarySearch(k,f,e.ENTRIES);m=k[o+e.PREV_X],n=k[o+e.PREV_Y];var p=k[o],q=this.getCurvePercent(o/e.ENTRIES-1,1-(f-p)/(k[o+e.PREV_TIME]-p));m=(m+(k[o+e.X]-m)*q)*l.data.scaleX,n=(n+(k[o+e.Y]-n)*q)*l.data.scaleY}if(1==h)l.scaleX=m,l.scaleY=n;else{var r=0,s=0;i?(r=l.data.scaleX,s=l.data.scaleY):(r=l.scaleX,s=l.scaleY),j?(m=Math.abs(m)*a.MathUtils.signum(r),n=Math.abs(n)*a.MathUtils.signum(s)):(r=Math.abs(r)*a.MathUtils.signum(m),s=Math.abs(s)*a.MathUtils.signum(n)),l.scaleX=r+(m-r)*h,l.scaleY=s+(n-s)*h}},e}(f);a.ScaleTimeline=g;var h=function(a){function d(b){return a.call(this,b)||this}return __extends(d,a),d.prototype.getPropertyId=function(){return(c.shear<<24)+this.boneIndex},d.prototype.apply=function(a,c,e,f,g,h,i){var j=this.frames,k=a.bones[this.boneIndex];if(e<j[0])return void(h&&(k.shearX=k.data.shearX,k.shearY=k.data.shearY));var l=0,m=0;if(e>=j[j.length-d.ENTRIES])l=j[j.length+d.PREV_X],m=j[j.length+d.PREV_Y];else{var n=b.binarySearch(j,e,d.ENTRIES);l=j[n+d.PREV_X],m=j[n+d.PREV_Y];var o=j[n],p=this.getCurvePercent(n/d.ENTRIES-1,1-(e-o)/(j[n+d.PREV_TIME]-o));l+=(j[n+d.X]-l)*p,m+=(j[n+d.Y]-m)*p}h?(k.shearX=k.data.shearX+l*g,k.shearY=k.data.shearY+m*g):(k.shearX+=(k.data.shearX+l-k.shearX)*g,k.shearY+=(k.data.shearY+m-k.shearY)*g)},d}(f);a.ShearTimeline=h;var i=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.color<<24)+this.slotIndex},e.prototype.setFrame=function(a,b,c,d,f,g){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.R]=c,this.frames[a+e.G]=d,this.frames[a+e.B]=f,this.frames[a+e.A]=g},e.prototype.apply=function(a,c,d,f,g,h,i){var j=a.slots[this.slotIndex],k=this.frames;if(d<k[0])return void(h&&j.color.setFromColor(j.data.color));var l=0,m=0,n=0,o=0;if(d>=k[k.length-e.ENTRIES]){var p=k.length;l=k[p+e.PREV_R],m=k[p+e.PREV_G],n=k[p+e.PREV_B],o=k[p+e.PREV_A]}else{var q=b.binarySearch(k,d,e.ENTRIES);l=k[q+e.PREV_R],m=k[q+e.PREV_G],n=k[q+e.PREV_B],o=k[q+e.PREV_A];var r=k[q],s=this.getCurvePercent(q/e.ENTRIES-1,1-(d-r)/(k[q+e.PREV_TIME]-r));l+=(k[q+e.R]-l)*s,m+=(k[q+e.G]-m)*s,n+=(k[q+e.B]-n)*s,o+=(k[q+e.A]-o)*s}if(1==g)j.color.set(l,m,n,o);else{var t=j.color;h&&t.setFromColor(j.data.color),t.add((l-t.r)*g,(m-t.g)*g,(n-t.b)*g,(o-t.a)*g)}},e}(d);i.ENTRIES=5,i.PREV_TIME=-5,i.PREV_R=-4,i.PREV_G=-3,i.PREV_B=-2,i.PREV_A=-1,i.R=1,i.G=2,i.B=3,i.A=4,a.ColorTimeline=i;var j=function(){function d(b){this.frames=a.Utils.newFloatArray(b),this.attachmentNames=new Array(b)}return d.prototype.getPropertyId=function(){return(c.attachment<<24)+this.slotIndex},d.prototype.getFrameCount=function(){return this.frames.length},d.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.attachmentNames[a]=c},d.prototype.apply=function(a,c,d,e,f,g,h){var i=a.slots[this.slotIndex];if(h&&g){var j=i.data.attachmentName;return void i.setAttachment(null==j?null:a.getAttachment(this.slotIndex,j))}var k=this.frames;if(d<k[0]){if(g){var l=i.data.attachmentName;i.setAttachment(null==l?null:a.getAttachment(this.slotIndex,l))}}else{var m=0;m=d>=k[k.length-1]?k.length-1:b.binarySearch(k,d,1)-1;var n=this.attachmentNames[m];a.slots[this.slotIndex].setAttachment(null==n?null:a.getAttachment(this.slotIndex,n))}},d}();a.AttachmentTimeline=j;var k=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b),c.frameVertices=new Array(b),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.deform<<24)+this.slotIndex},e.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.frameVertices[a]=c},e.prototype.apply=function(c,d,e,f,g,h,i){var j=c.slots[this.slotIndex],k=j.getAttachment();if(k instanceof a.VertexAttachment&&k.applyDeform(this.attachment)){var l=this.frames,m=j.attachmentVertices;if(e<l[0])return void(h&&a.Utils.setArraySize(m,0));var n=this.frameVertices,o=n[0].length;m.length!=o&&(g=1);var p=a.Utils.setArraySize(m,o);if(e>=l[l.length-1]){var q=n[l.length-1];if(1==g)a.Utils.arrayCopy(q,0,p,0,o);else if(h){var r=k;if(null==r.bones)for(var s=r.vertices,t=0;t<o;t++){var u=s[t];p[t]=u+(q[t]-u)*g}else for(var t=0;t<o;t++)p[t]=q[t]*g}else for(var t=0;t<o;t++)p[t]+=(q[t]-p[t])*g}else{var v=b.binarySearch(l,e),w=n[v-1],x=n[v],y=l[v],z=this.getCurvePercent(v-1,1-(e-y)/(l[v-1]-y));if(1==g)for(var t=0;t<o;t++){var A=w[t];p[t]=A+(x[t]-A)*z}else if(h){var r=k;if(null==r.bones)for(var s=r.vertices,t=0;t<o;t++){var A=w[t],u=s[t];p[t]=u+(A+(x[t]-A)*z-u)*g}else for(var t=0;t<o;t++){var A=w[t];p[t]=(A+(x[t]-A)*z)*g}}else for(var t=0;t<o;t++){var A=w[t];p[t]+=(A+(x[t]-A)*z-p[t])*g}}}},e}(d);a.DeformTimeline=k;var l=function(){function d(b){this.frames=a.Utils.newFloatArray(b),this.events=new Array(b)}return d.prototype.getPropertyId=function(){return c.event<<24},d.prototype.getFrameCount=function(){return this.frames.length},d.prototype.setFrame=function(a,b){this.frames[a]=b.time,this.events[a]=b},d.prototype.apply=function(a,c,d,e,f,g,h){if(null!=e){var i=this.frames,j=this.frames.length;if(c>d)this.apply(a,c,Number.MAX_VALUE,e,f,g,h),c=-1;else if(c>=i[j-1])return;if(!(d<i[0])){var k=0;if(c<i[0])k=0;else{k=b.binarySearch(i,c);for(var l=i[k];k>0&&i[k-1]==l;)k--}for(;k<j&&d>=i[k];k++)e.push(this.events[k])}}},d}();a.EventTimeline=l;var m=function(){function d(b){this.frames=a.Utils.newFloatArray(b),this.drawOrders=new Array(b)}return d.prototype.getPropertyId=function(){return c.drawOrder<<24},d.prototype.getFrameCount=function(){return this.frames.length},d.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.drawOrders[a]=c},d.prototype.apply=function(c,d,e,f,g,h,i){var j=c.drawOrder,k=c.slots;if(i&&h)return void a.Utils.arrayCopy(c.slots,0,c.drawOrder,0,c.slots.length);var l=this.frames;if(e<l[0])return void(h&&a.Utils.arrayCopy(c.slots,0,c.drawOrder,0,c.slots.length));var m=0;m=e>=l[l.length-1]?l.length-1:b.binarySearch(l,e)-1;var n=this.drawOrders[m];if(null==n)a.Utils.arrayCopy(k,0,j,0,k.length);else for(var o=0,p=n.length;o<p;o++)j[o]=k[n[o]]},d}();a.DrawOrderTimeline=m;var n=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(a,b,c,d){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.MIX]=c,this.frames[a+e.BEND_DIRECTION]=d},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.ikConstraints[this.ikConstraintIndex];if(d<j[0])return void(h&&(k.mix=k.data.mix,k.bendDirection=k.data.bendDirection));if(d>=j[j.length-e.ENTRIES])return void(h?(k.mix=k.data.mix+(j[j.length+e.PREV_MIX]-k.data.mix)*g,k.bendDirection=i?k.data.bendDirection:j[j.length+e.PREV_BEND_DIRECTION]):(k.mix+=(j[j.length+e.PREV_MIX]-k.mix)*g,i||(k.bendDirection=j[j.length+e.PREV_BEND_DIRECTION])));var l=b.binarySearch(j,d,e.ENTRIES),m=j[l+e.PREV_MIX],n=j[l],o=this.getCurvePercent(l/e.ENTRIES-1,1-(d-n)/(j[l+e.PREV_TIME]-n));h?(k.mix=k.data.mix+(m+(j[l+e.MIX]-m)*o-k.data.mix)*g,k.bendDirection=i?k.data.bendDirection:j[l+e.PREV_BEND_DIRECTION]):(k.mix+=(m+(j[l+e.MIX]-m)*o-k.mix)*g,i||(k.bendDirection=j[l+e.PREV_BEND_DIRECTION]))},e}(d);n.ENTRIES=3,n.PREV_TIME=-3,n.PREV_MIX=-2,n.PREV_BEND_DIRECTION=-1,n.MIX=1,n.BEND_DIRECTION=2,a.IkConstraintTimeline=n;var o=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(a,b,c,d,f,g){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.ROTATE]=c,this.frames[a+e.TRANSLATE]=d,this.frames[a+e.SCALE]=f,this.frames[a+e.SHEAR]=g},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.transformConstraints[this.transformConstraintIndex];if(d<j[0]){if(h){var l=k.data;k.rotateMix=l.rotateMix,k.translateMix=l.rotateMix,k.scaleMix=l.scaleMix,k.shearMix=l.shearMix}}else{var m=0,n=0,o=0,p=0;if(d>=j[j.length-e.ENTRIES]){var q=j.length;m=j[q+e.PREV_ROTATE],n=j[q+e.PREV_TRANSLATE],o=j[q+e.PREV_SCALE],p=j[q+e.PREV_SHEAR]}else{var r=b.binarySearch(j,d,e.ENTRIES);m=j[r+e.PREV_ROTATE],n=j[r+e.PREV_TRANSLATE],o=j[r+e.PREV_SCALE],p=j[r+e.PREV_SHEAR];var s=j[r],t=this.getCurvePercent(r/e.ENTRIES-1,1-(d-s)/(j[r+e.PREV_TIME]-s));m+=(j[r+e.ROTATE]-m)*t,n+=(j[r+e.TRANSLATE]-n)*t,o+=(j[r+e.SCALE]-o)*t,p+=(j[r+e.SHEAR]-p)*t}if(h){var l=k.data;k.rotateMix=l.rotateMix+(m-l.rotateMix)*g,k.translateMix=l.translateMix+(n-l.translateMix)*g,k.scaleMix=l.scaleMix+(o-l.scaleMix)*g,k.shearMix=l.shearMix+(p-l.shearMix)*g}else k.rotateMix+=(m-k.rotateMix)*g,k.translateMix+=(n-k.translateMix)*g,k.scaleMix+=(o-k.scaleMix)*g,k.shearMix+=(p-k.shearMix)*g}},e}(d);o.ENTRIES=5,o.PREV_TIME=-5,o.PREV_ROTATE=-4,o.PREV_TRANSLATE=-3,o.PREV_SCALE=-2,o.PREV_SHEAR=-1,o.ROTATE=1,o.TRANSLATE=2,o.SCALE=3,o.SHEAR=4,a.TransformConstraintTimeline=o;var p=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(a,b,c){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.VALUE]=c},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.pathConstraints[this.pathConstraintIndex];if(d<j[0])return void(h&&(k.position=k.data.position));var l=0;if(d>=j[j.length-e.ENTRIES])l=j[j.length+e.PREV_VALUE];else{var m=b.binarySearch(j,d,e.ENTRIES);l=j[m+e.PREV_VALUE];var n=j[m],o=this.getCurvePercent(m/e.ENTRIES-1,1-(d-n)/(j[m+e.PREV_TIME]-n));l+=(j[m+e.VALUE]-l)*o}h?k.position=k.data.position+(l-k.data.position)*g:k.position+=(l-k.position)*g},e}(d);p.ENTRIES=2,p.PREV_TIME=-2,p.PREV_VALUE=-1,p.VALUE=1,a.PathConstraintPositionTimeline=p;var q=function(a){function d(b){return a.call(this,b)||this}return __extends(d,a),d.prototype.getPropertyId=function(){return(c.pathConstraintSpacing<<24)+this.pathConstraintIndex},d.prototype.apply=function(a,c,e,f,g,h,i){var j=this.frames,k=a.pathConstraints[this.pathConstraintIndex];if(e<j[0])return void(h&&(k.spacing=k.data.spacing));var l=0;if(e>=j[j.length-d.ENTRIES])l=j[j.length+d.PREV_VALUE];else{var m=b.binarySearch(j,e,d.ENTRIES);l=j[m+d.PREV_VALUE];var n=j[m],o=this.getCurvePercent(m/d.ENTRIES-1,1-(e-n)/(j[m+d.PREV_TIME]-n));l+=(j[m+d.VALUE]-l)*o}h?k.spacing=k.data.spacing+(l-k.data.spacing)*g:k.spacing+=(l-k.spacing)*g},d}(p);a.PathConstraintSpacingTimeline=q;var r=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(a,b,c,d){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.ROTATE]=c,this.frames[a+e.TRANSLATE]=d},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.pathConstraints[this.pathConstraintIndex];if(d<j[0])return void(h&&(k.rotateMix=k.data.rotateMix,k.translateMix=k.data.translateMix));var l=0,m=0;if(d>=j[j.length-e.ENTRIES])l=j[j.length+e.PREV_ROTATE],m=j[j.length+e.PREV_TRANSLATE];else{var n=b.binarySearch(j,d,e.ENTRIES);l=j[n+e.PREV_ROTATE],m=j[n+e.PREV_TRANSLATE];var o=j[n],p=this.getCurvePercent(n/e.ENTRIES-1,1-(d-o)/(j[n+e.PREV_TIME]-o));l+=(j[n+e.ROTATE]-l)*p,m+=(j[n+e.TRANSLATE]-m)*p}h?(k.rotateMix=k.data.rotateMix+(l-k.data.rotateMix)*g,k.translateMix=k.data.translateMix+(m-k.data.translateMix)*g):(k.rotateMix+=(l-k.rotateMix)*g,k.translateMix+=(m-k.translateMix)*g)},e}(d);r.ENTRIES=3,r.PREV_TIME=-3,r.PREV_ROTATE=-2,r.PREV_TRANSLATE=-1,r.ROTATE=1,r.TRANSLATE=2,a.PathConstraintMixTimeline=r}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(b){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new d(this),this.propertyIDs=new a.IntSet,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new a.Pool(function(){return new c}),this.data=b}return b.prototype.update=function(a){a*=this.timeScale;for(var b=this.tracks,c=0,d=b.length;c<d;c++){var e=b[c];if(null!=e){e.animationLast=e.nextAnimationLast,e.trackLast=e.nextTrackLast;var f=a*e.timeScale;if(e.delay>0){if(e.delay-=f,e.delay>0)continue;f=-e.delay,e.delay=0}var g=e.next;if(null!=g){var h=e.trackLast-g.delay;if(h>=0){for(g.delay=0,g.trackTime=h+a*g.timeScale,e.trackTime+=f,this.setCurrent(c,g,!0);null!=g.mixingFrom;)g.mixTime+=f,g=g.mixingFrom;continue}}else if(e.trackLast>=e.trackEnd&&null==e.mixingFrom){b[c]=null,this.queue.end(e),this.disposeNext(e);continue}this.updateMixingFrom(e,a),e.trackTime+=f}}this.queue.drain()},b.prototype.updateMixingFrom=function(a,b){var c=a.mixingFrom;if(null!=c){if(this.updateMixingFrom(c,b),a.mixTime>=a.mixDuration&&null!=c.mixingFrom&&a.mixTime>0)return a.mixingFrom=null,void this.queue.end(c);c.animationLast=c.nextAnimationLast,c.trackLast=c.nextTrackLast,c.trackTime+=b*c.timeScale,a.mixTime+=b*c.timeScale}},b.prototype.apply=function(b){if(null==b)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var c=this.events,d=this.tracks,e=0,f=d.length;e<f;e++){var g=d[e];if(!(null==g||g.delay>0)){var h=g.alpha;null!=g.mixingFrom?h*=this.applyMixingFrom(g,b):g.trackTime>=g.trackEnd&&(h=0);var i=g.animationLast,j=g.getAnimationTime(),k=g.animation.timelines.length,l=g.animation.timelines;if(1==h)for(var m=0;m<k;m++)l[m].apply(b,i,j,c,1,!0,!1);else{var n=0==g.timelinesRotation.length;n&&a.Utils.setArraySize(g.timelinesRotation,k<<1,null);for(var o=g.timelinesRotation,p=g.timelinesFirst,m=0;m<k;m++){var q=l[m];q instanceof a.RotateTimeline?this.applyRotateTimeline(q,b,j,h,p[m],o,m<<1,n):q.apply(b,i,j,c,h,p[m],!1)}}this.queueEvents(g,j),c.length=0,g.nextAnimationLast=j,g.nextTrackLast=g.trackTime}}this.queue.drain()},b.prototype.applyMixingFrom=function(b,c){var d=b.mixingFrom;null!=d.mixingFrom&&this.applyMixingFrom(d,c);var e=0;0==b.mixDuration?e=1:(e=b.mixTime/b.mixDuration)>1&&(e=1);var f=e<d.eventThreshold?this.events:null,g=e<d.attachmentThreshold,h=e<d.drawOrderThreshold,i=d.animationLast,j=d.getAnimationTime(),k=d.animation.timelines.length,l=d.animation.timelines,m=d.timelinesFirst,n=d.alpha*b.mixAlpha*(1-e),o=0==d.timelinesRotation.length;o&&a.Utils.setArraySize(d.timelinesRotation,k<<1,null);for(var p=d.timelinesRotation,q=0;q<k;q++){var r=l[q],s=m[q];if(r instanceof a.RotateTimeline)this.applyRotateTimeline(r,c,j,n,s,p,q<<1,o);else{if(!s){if(!g&&r instanceof a.AttachmentTimeline)continue;if(!h&&r instanceof a.DrawOrderTimeline)continue}r.apply(c,i,j,f,n,s,!0)}}return b.mixDuration>0&&this.queueEvents(d,j),this.events.length=0,d.nextAnimationLast=j,d.nextTrackLast=d.trackTime,e},b.prototype.applyRotateTimeline=function(b,c,d,e,f,g,h,i){if(i&&(g[h]=0),1==e)return void b.apply(c,0,d,null,1,f,!1);var j=b,k=j.frames,l=c.bones[j.boneIndex];if(d<k[0])return void(f&&(l.rotation=l.data.rotation));var m=0;if(d>=k[k.length-a.RotateTimeline.ENTRIES])m=l.data.rotation+k[k.length+a.RotateTimeline.PREV_ROTATION];else{var n=a.Animation.binarySearch(k,d,a.RotateTimeline.ENTRIES),o=k[n+a.RotateTimeline.PREV_ROTATION],p=k[n],q=j.getCurvePercent((n>>1)-1,1-(d-p)/(k[n+a.RotateTimeline.PREV_TIME]-p));m=k[n+a.RotateTimeline.ROTATION]-o,m-=360*(16384-(16384.499999999996-m/360|0)),m=o+m*q+l.data.rotation,m-=360*(16384-(16384.499999999996-m/360|0))}var r=f?l.data.rotation:l.rotation,s=0,t=m-r;if(0==t)s=g[h];else{t-=360*(16384-(16384.499999999996-t/360|0));var u=0,v=0;i?(u=0,v=t):(u=g[h],v=g[h+1]);var w=t>0,x=u>=0;a.MathUtils.signum(v)!=a.MathUtils.signum(t)&&Math.abs(v)<=90&&(Math.abs(u)>180&&(u+=360*a.MathUtils.signum(u)),x=w),s=t+u-u%360,x!=w&&(s+=360*a.MathUtils.signum(u)),g[h]=s}g[h+1]=t,r+=s*e,l.rotation=r-360*(16384-(16384.499999999996-r/360|0))},b.prototype.queueEvents=function(a,b){for(var c=a.animationStart,d=a.animationEnd,e=d-c,f=a.trackLast%e,g=this.events,h=0,i=g.length;h<i;h++){var j=g[h];if(j.time<f)break;j.time>d||this.queue.event(a,j)}for((a.loop?f>a.trackTime%e:b>=d&&a.animationLast<d)&&this.queue.complete(a);h<i;h++){g[h].time<c||this.queue.event(a,g[h])}},b.prototype.clearTracks=function(){var a=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var b=0,c=this.tracks.length;b<c;b++)this.clearTrack(b);this.tracks.length=0,this.queue.drainDisabled=a,this.queue.drain()},b.prototype.clearTrack=function(a){if(!(a>=this.tracks.length)){var b=this.tracks[a];if(null!=b){this.queue.end(b),this.disposeNext(b);for(var c=b;;){var d=c.mixingFrom;if(null==d)break;this.queue.end(d),c.mixingFrom=null,c=d}this.tracks[b.trackIndex]=null,this.queue.drain()}}},b.prototype.setCurrent=function(a,b,c){var d=this.expandToIndex(a);this.tracks[a]=b,null!=d&&(c&&this.queue.interrupt(d),b.mixingFrom=d,b.mixTime=0,d.timelinesRotation.length=0,null!=d.mixingFrom&&d.mixDuration>0&&(b.mixAlpha*=Math.min(d.mixTime/d.mixDuration,1))),this.queue.start(b)},b.prototype.setAnimation=function(a,b,c){var d=this.data.skeletonData.findAnimation(b);if(null==d)throw new Error("Animation not found: "+b);return this.setAnimationWith(a,d,c)},b.prototype.setAnimationWith=function(a,b,c){if(null==b)throw new Error("animation cannot be null.");var d=!0,e=this.expandToIndex(a);null!=e&&(e.nextTrackLast==-1?(this.tracks[a]=e.mixingFrom,this.queue.interrupt(e),this.queue.end(e),this.disposeNext(e),e=e.mixingFrom,d=!1):this.disposeNext(e));var f=this.trackEntry(a,b,c,e);return this.setCurrent(a,f,d),this.queue.drain(),f},b.prototype.addAnimation=function(a,b,c,d){var e=this.data.skeletonData.findAnimation(b);if(null==e)throw new Error("Animation not found: "+b);return this.addAnimationWith(a,e,c,d)},b.prototype.addAnimationWith=function(a,b,c,d){if(null==b)throw new Error("animation cannot be null.");var e=this.expandToIndex(a);if(null!=e)for(;null!=e.next;)e=e.next;var f=this.trackEntry(a,b,c,e);if(null==e)this.setCurrent(a,f,!0),this.queue.drain();else if(e.next=f,d<=0){var g=e.animationEnd-e.animationStart;0!=g?d+=g*(1+(e.trackTime/g|0))-this.data.getMix(e.animation,b):d=0}return f.delay=d,f},b.prototype.setEmptyAnimation=function(a,c){var d=this.setAnimationWith(a,b.emptyAnimation,!1);return d.mixDuration=c,d.trackEnd=c,d},b.prototype.addEmptyAnimation=function(a,c,d){d<=0&&(d-=c);var e=this.addAnimationWith(a,b.emptyAnimation,!1,d);return e.mixDuration=c,e.trackEnd=c,e},b.prototype.setEmptyAnimations=function(a){var b=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var c=0,d=this.tracks.length;c<d;c++){var e=this.tracks[c];null!=e&&this.setEmptyAnimation(e.trackIndex,a)}this.queue.drainDisabled=b,this.queue.drain()},b.prototype.expandToIndex=function(b){return b<this.tracks.length?this.tracks[b]:(a.Utils.ensureArrayCapacity(this.tracks,b-this.tracks.length+1,null),this.tracks.length=b+1,null)},b.prototype.trackEntry=function(a,b,c,d){var e=this.trackEntryPool.obtain();return e.trackIndex=a,e.animation=b,e.loop=c,e.eventThreshold=0,e.attachmentThreshold=0,e.drawOrderThreshold=0,e.animationStart=0,e.animationEnd=b.duration,e.animationLast=-1,e.nextAnimationLast=-1,e.delay=0,e.trackTime=0,e.trackLast=-1,e.nextTrackLast=-1,e.trackEnd=Number.MAX_VALUE,e.timeScale=1,e.alpha=1,e.mixAlpha=1,e.mixTime=0,e.mixDuration=null==d?0:this.data.getMix(d.animation,b),e},b.prototype.disposeNext=function(a){for(var b=a.next;null!=b;)this.queue.dispose(b),b=b.next;a.next=null},b.prototype._animationsChanged=function(){this.animationsChanged=!1;var a=this.propertyIDs,b=0,c=this.tracks.length;for(a.clear();b<c;b++){var d=this.tracks[b];if(null!=d){this.setTimelinesFirst(d),b++;break}}for(;b<c;b++){var d=this.tracks[b];null!=d&&this.checkTimelinesFirst(d)}},b.prototype.setTimelinesFirst=function(b){if(null!=b.mixingFrom)return this.setTimelinesFirst(b.mixingFrom),void this.checkTimelinesUsage(b,b.timelinesFirst);for(var c=this.propertyIDs,d=b.animation.timelines,e=d.length,f=a.Utils.setArraySize(b.timelinesFirst,e,!1),g=0;g<e;g++)c.add(d[g].getPropertyId()),f[g]=!0},b.prototype.checkTimelinesFirst=function(a){null!=a.mixingFrom&&this.checkTimelinesFirst(a.mixingFrom),this.checkTimelinesUsage(a,a.timelinesFirst)},b.prototype.checkTimelinesUsage=function(b,c){for(var d=this.propertyIDs,e=b.animation.timelines,f=e.length,g=a.Utils.setArraySize(c,f),h=0;h<f;h++)g[h]=d.add(e[h].getPropertyId())},b.prototype.getCurrent=function(a){return a>=this.tracks.length?null:this.tracks[a]},b.prototype.addListener=function(a){if(null==a)throw new Error("listener cannot be null.");this.listeners.push(a)},b.prototype.removeListener=function(a){var b=this.listeners.indexOf(a);b>=0&&this.listeners.splice(b,1)},b.prototype.clearListeners=function(){this.listeners.length=0},b.prototype.clearListenerNotifications=function(){this.queue.clear()},b.prototype.setAnimationByName=function(a,c,d){b.deprecatedWarning1||(b.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(a,c,d)},b.prototype.addAnimationByName=function(a,c,d,e){b.deprecatedWarning2||(b.deprecatedWarning2=!0,console.warn("Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(a,c,d,e)},b.prototype.hasAnimation=function(a){return null!==this.data.skeletonData.findAnimation(a)},b.prototype.hasAnimationByName=function(a){return b.deprecatedWarning3||(b.deprecatedWarning3=!0,console.warn("Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(a)},b}();b.emptyAnimation=new a.Animation("<empty>",[],0),b.deprecatedWarning1=!1,b.deprecatedWarning2=!1,b.deprecatedWarning3=!1,a.AnimationState=b;var c=function(){function a(){this.timelinesFirst=new Array,this.timelinesRotation=new Array}return a.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelinesFirst.length=0,this.timelinesRotation.length=0},a.prototype.getAnimationTime=function(){if(this.loop){var a=this.animationEnd-this.animationStart;return 0==a?this.animationStart:this.trackTime%a+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},a.prototype.setAnimationLast=function(a){this.animationLast=a,this.nextAnimationLast=a},a.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},a.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(a.prototype,"time",{get:function(){return a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(b){a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=b},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"endTime",{get:function(){return a.deprecatedWarning2||(a.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(b){a.deprecatedWarning2||(a.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=b},enumerable:!0,configurable:!0}),a.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},a}();c.deprecatedWarning1=!1,c.deprecatedWarning2=!1,a.TrackEntry=c;var d=function(){function b(a){this.objects=[],this.drainDisabled=!1,this.animState=a}return b.prototype.start=function(a){this.objects.push(e.start),this.objects.push(a),this.animState.animationsChanged=!0},b.prototype.interrupt=function(a){this.objects.push(e.interrupt),this.objects.push(a)},b.prototype.end=function(a){this.objects.push(e.end),this.objects.push(a),this.animState.animationsChanged=!0},b.prototype.dispose=function(a){this.objects.push(e.dispose),this.objects.push(a)},b.prototype.complete=function(a){this.objects.push(e.complete),this.objects.push(a)},b.prototype.event=function(a,b){this.objects.push(e.event),this.objects.push(a),this.objects.push(b)},b.prototype.deprecateStuff=function(){return b.deprecatedWarning1||(b.deprecatedWarning1=!0,console.warn("Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},b.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var b=this.objects,c=this.animState.listeners,d=0;d<b.length;d+=2){var f=b[d],g=b[d+1];switch(f){case e.start:null!=g.listener&&g.listener.start&&g.listener.start(g);for(var h=0;h<c.length;h++)c[h].start&&c[h].start(g);g.onStart&&this.deprecateStuff()&&g.onStart(g.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(g.trackIndex);break;case e.interrupt:null!=g.listener&&g.listener.interrupt&&g.listener.interrupt(g);for(var h=0;h<c.length;h++)c[h].interrupt&&c[h].interrupt(g);break;case e.end:null!=g.listener&&g.listener.end&&g.listener.end(g);for(var h=0;h<c.length;h++)c[h].end&&c[h].end(g);g.onEnd&&this.deprecateStuff()&&g.onEnd(g.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(g.trackIndex);case e.dispose:null!=g.listener&&g.listener.dispose&&g.listener.dispose(g);for(var h=0;h<c.length;h++)c[h].dispose&&c[h].dispose(g);this.animState.trackEntryPool.free(g);break;case e.complete:null!=g.listener&&g.listener.complete&&g.listener.complete(g);for(var h=0;h<c.length;h++)c[h].complete&&c[h].complete(g);var i=a.MathUtils.toInt(g.loopsCount());g.onComplete&&this.deprecateStuff()&&g.onComplete(g.trackIndex,i),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(g.trackIndex,i);break;case e.event:var j=b[2+d++];null!=g.listener&&g.listener.event&&g.listener.event(g,j);for(var h=0;h<c.length;h++)c[h].event&&c[h].event(g,j);g.onEvent&&this.deprecateStuff()&&g.onEvent(g.trackIndex,j),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(g.trackIndex,j)}}this.clear(),this.drainDisabled=!1}},b.prototype.clear=function(){this.objects.length=0},b}();d.deprecatedWarning1=!1,a.EventQueue=d;var e;!function(a){a[a.start=0]="start",a[a.interrupt=1]="interrupt",a[a.end=2]="end",a[a.dispose=3]="dispose",a[a.complete=4]="complete",a[a.event=5]="event"}(e=a.EventType||(a.EventType={}));var f=function(){function a(){}return a.prototype.start=function(a){},a.prototype.interrupt=function(a){},a.prototype.end=function(a){},a.prototype.dispose=function(a){},a.prototype.complete=function(a){},a.prototype.event=function(a,b){},a}();a.AnimationStateAdapter2=f}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){if(this.animationToMixTime={},this.defaultMix=0,null==a)throw new Error("skeletonData cannot be null.");this.skeletonData=a}return a.prototype.setMix=function(a,b,c){var d=this.skeletonData.findAnimation(a);if(null==d)throw new Error("Animation not found: "+a);var e=this.skeletonData.findAnimation(b);if(null==e)throw new Error("Animation not found: "+b);this.setMixWith(d,e,c)},a.prototype.setMixByName=function(b,c,d){a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(b,c,d)},a.prototype.setMixWith=function(a,b,c){if(null==a)throw new Error("from cannot be null.");if(null==b)throw new Error("to cannot be null.");var d=a.name+b.name;this.animationToMixTime[d]=c},a.prototype.getMix=function(a,b){var c=a.name+b.name,d=this.animationToMixTime[c];return void 0===d?this.defaultMix:d},a}();b.deprecatedWarning1=!1,a.AnimationStateData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a){this.atlas=a}return b.prototype.newRegionAttachment=function(b,c,d){var e=this.atlas.findRegion(d);if(null==e)throw new Error("Region not found in atlas: "+d+" (region attachment: "+c+")");var f=new a.RegionAttachment(c);return f.region=e,f},b.prototype.newMeshAttachment=function(b,c,d){var e=this.atlas.findRegion(d);if(null==e)throw new Error("Region not found in atlas: "+d+" (mesh attachment: "+c+")");var f=new a.MeshAttachment(c);return f.region=e,f},b.prototype.newBoundingBoxAttachment=function(b,c){return new a.BoundingBoxAttachment(c)},b.prototype.newPathAttachment=function(b,c){return new a.PathAttachment(c)},b}();a.AtlasAttachmentLoader=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){if(null==a)throw new Error("name cannot be null.");this.name=a}return a}();a.Attachment=b;var c=function(a){function b(b){var c=a.call(this,b)||this;return c.worldVerticesLength=0,c}return __extends(b,a),b.prototype.computeWorldVertices=function(a,b){this.computeWorldVerticesWith(a,0,this.worldVerticesLength,b,0)},b.prototype.computeWorldVerticesWith=function(a,b,c,d,e){c+=e;var f=a.bone.skeleton,g=a.attachmentVertices,h=this.vertices,i=this.bones;if(null!=i){for(var j=0,k=0,l=0;l<b;l+=2){var m=i[j];j+=m+1,k+=m}var n=f.bones;if(0==g.length)for(var o=e,p=3*k;o<c;o+=2){var q=0,r=0,m=i[j++];for(m+=j;j<m;j++,p+=3){var s=n[i[j]],t=s.matrix,u=h[p],v=h[p+1],w=h[p+2];q+=(u*t.a+v*t.c+t.tx)*w,r+=(u*t.b+v*t.d+t.ty)*w}d[o]=q,d[o+1]=r}else for(var x=g,o=e,p=3*k,y=k<<1;o<c;o+=2){var q=0,r=0,m=i[j++];for(m+=j;j<m;j++,p+=3,y+=2){var s=n[i[j]],t=s.matrix,u=h[p]+x[y],v=h[p+1]+x[y+1],w=h[p+2];q+=(u*t.a+v*t.c+t.tx)*w,r+=(u*t.b+v*t.d+t.ty)*w}d[o]=q,d[o+1]=r}}else{g.length>0&&(h=g);for(var s=a.bone,t=s.matrix,z=t.tx,A=t.ty,B=t.a,p=t.c,C=t.b,D=t.d,E=b,o=e;o<c;E+=2,o+=2){var u=h[E],v=h[E+1];d[o]=u*B+v*p+z,d[o+1]=u*C+v*D+A}}},b.prototype.applyDeform=function(a){return this==a},b}(b);a.VertexAttachment=c}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){!function(a){a[a.Region=0]="Region",a[a.BoundingBox=1]="BoundingBox",a[a.Mesh=2]="Mesh",a[a.LinkedMesh=3]="LinkedMesh",a[a.Path=4]="Path"}(a.AttachmentType||(a.AttachmentType={}))}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(1,1,1,1),d}return __extends(c,b),c}(a.VertexAttachment)
;a.BoundingBoxAttachment=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(1,1,1,1),d.inheritDeform=!1,d.tempColor=new a.Color(0,0,0,0),d}return __extends(c,b),c.prototype.updateWorldVertices=function(a,b){return[]},c.prototype.updateUVs=function(b,c){var d=this.regionUVs,e=d.length;if(c&&c.length==e||(c=a.Utils.newFloatArray(e)),null!=b){for(var f=b.texture,g=f._uvs,h=b.width,i=b.height,j=b.originalWidth,k=b.originalHeight,l=b.offsetX,m=b.pixiOffsetY,n=0;n<e;n+=2){var o=this.regionUVs[n],p=this.regionUVs[n+1];o=(o*j-l)/h,p=(p*k-m)/i,c[n]=(g.x0*(1-o)+g.x1*o)*(1-p)+(g.x3*(1-o)+g.x2*o)*p,c[n+1]=(g.y0*(1-o)+g.y1*o)*(1-p)+(g.y3*(1-o)+g.y2*o)*p}return c}},c.prototype.applyDeform=function(a){return this==a||this.inheritDeform&&this.parentMesh==a},c.prototype.getParentMesh=function(){return this.parentMesh},c.prototype.setParentMesh=function(a){this.parentMesh=a,null!=a&&(this.bones=a.bones,this.vertices=a.vertices,this.regionUVs=a.regionUVs,this.triangles=a.triangles,this.hullLength=a.hullLength,this.worldVerticesLength=a.worldVerticesLength)},c}(a.VertexAttachment);a.MeshAttachment=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.closed=!1,d.constantSpeed=!1,d.color=new a.Color(1,1,1,1),d}return __extends(c,b),c}(a.VertexAttachment);a.PathAttachment=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.x=0,d.y=0,d.scaleX=1,d.scaleY=1,d.rotation=0,d.width=0,d.height=0,d.color=new a.Color(1,1,1,1),d}return __extends(c,b),c.prototype.updateWorldVertices=function(a,b){return[]},c}(a.Attachment);a.RegionAttachment=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){!function(a){a[a.Normal=0]="Normal",a[a.Additive=1]="Additive",a[a.Multiply=2]="Multiply",a[a.Screen=3]="Screen"}(a.BlendMode||(a.BlendMode={}))}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a,b,c){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.skeleton=b,this.parent=c,this.setToSetupPose()}return Object.defineProperty(b.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),b.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},b.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},b.prototype.updateWorldTransformWith=function(c,d,e,f,g,h,i){this.ax=c,this.ay=d,this.arotation=e,this.ascaleX=f,this.ascaleY=g,this.ashearX=h,this.ashearY=i,this.appliedValid=!0;var j=this.parent,k=this.matrix;if(null==j){var l=e+90+i,m=a.MathUtils.cosDeg(e+h)*f,n=a.MathUtils.cosDeg(l)*g,o=a.MathUtils.sinDeg(e+h)*f,p=a.MathUtils.sinDeg(l)*g,q=this.skeleton;return q.flipX&&(c=-c,m=-m,n=-n),q.flipY!==b.yDown&&(d=-d,o=-o,p=-p),k.a=m,k.c=n,k.b=o,k.d=p,k.tx=c+q.x,void(k.ty=d+q.y)}var r=j.matrix.a,s=j.matrix.c,t=j.matrix.b,u=j.matrix.d;switch(k.tx=r*c+s*d+j.matrix.tx,k.ty=t*c+u*d+j.matrix.ty,this.data.transformMode){case a.TransformMode.Normal:var l=e+90+i,m=a.MathUtils.cosDeg(e+h)*f,n=a.MathUtils.cosDeg(l)*g,o=a.MathUtils.sinDeg(e+h)*f,p=a.MathUtils.sinDeg(l)*g;return k.a=r*m+s*o,k.c=r*n+s*p,k.b=t*m+u*o,void(k.d=t*n+u*p);case a.TransformMode.OnlyTranslation:var l=e+90+i;k.a=a.MathUtils.cosDeg(e+h)*f,k.c=a.MathUtils.cosDeg(l)*g,k.b=a.MathUtils.sinDeg(e+h)*f,k.d=a.MathUtils.sinDeg(l)*g;break;case a.TransformMode.NoRotationOrReflection:var v=r*r+t*t,w=0;v>1e-4?(v=Math.abs(r*u-s*t)/v,s=t*v,u=r*v,w=Math.atan2(t,r)*a.MathUtils.radDeg):(r=0,t=0,w=90-Math.atan2(u,s)*a.MathUtils.radDeg);var x=e+h-w,y=e+i-w+90,m=a.MathUtils.cosDeg(x)*f,n=a.MathUtils.cosDeg(y)*g,o=a.MathUtils.sinDeg(x)*f,p=a.MathUtils.sinDeg(y)*g;k.a=r*m-s*o,k.c=r*n-s*p,k.b=t*m+u*o,k.d=t*n+u*p;break;case a.TransformMode.NoScale:case a.TransformMode.NoScaleOrReflection:var z=a.MathUtils.cosDeg(e),A=a.MathUtils.sinDeg(e),B=r*z+s*A,C=t*z+u*A,v=Math.sqrt(B*B+C*C);v>1e-5&&(v=1/v),B*=v,C*=v,v=Math.sqrt(B*B+C*C);var D=Math.PI/2+Math.atan2(C,B),E=Math.cos(D)*v,F=Math.sin(D)*v,m=a.MathUtils.cosDeg(h)*f,n=a.MathUtils.cosDeg(90+i)*g,o=a.MathUtils.sinDeg(h)*f,p=a.MathUtils.sinDeg(90+i)*g;return k.a=B*m+E*o,k.c=B*n+E*p,k.b=C*m+F*o,k.d=C*n+F*p,void((this.data.transformMode!=a.TransformMode.NoScaleOrReflection?r*u-s*t<0:this.skeleton.flipX!=this.skeleton.flipY!=b.yDown)&&(k.c=-k.c,k.d=-k.d))}this.skeleton.flipX&&(k.a=-k.a,k.c=-k.c),this.skeleton.flipY!=b.yDown&&(k.b=-k.b,k.d=-k.d)},b.prototype.setToSetupPose=function(){var a=this.data;this.x=a.x,this.y=a.y,this.rotation=a.rotation,this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.shearX=a.shearX,this.shearY=a.shearY},b.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*a.MathUtils.radDeg},b.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*a.MathUtils.radDeg},b.prototype.getWorldScaleX=function(){var a=this.matrix;return Math.sqrt(a.a*a.a+a.c*a.c)},b.prototype.getWorldScaleY=function(){var a=this.matrix;return Math.sqrt(a.b*a.b+a.d*a.d)},b.prototype.worldToLocalRotationX=function(){var b=this.parent;if(null==b)return this.arotation;var c=b.matrix,d=this.matrix;return Math.atan2(c.a*d.b-c.b*d.a,c.d*d.a-c.c*d.b)*a.MathUtils.radDeg},b.prototype.worldToLocalRotationY=function(){var b=this.parent;if(null==b)return this.arotation;var c=b.matrix,d=this.matrix;return Math.atan2(c.a*d.d-c.b*d.c,c.d*d.c-c.c*d.d)*a.MathUtils.radDeg},b.prototype.rotateWorld=function(b){var c=this.matrix,d=this.matrix.a,e=c.c,f=c.b,g=c.d,h=a.MathUtils.cosDeg(b),i=a.MathUtils.sinDeg(b);c.a=h*d-i*f,c.c=h*e-i*g,c.b=i*d+h*f,c.d=i*e+h*g,this.appliedValid=!1},b.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var b=this.parent,c=this.matrix;if(null==b)return this.ax=c.tx,this.ay=c.ty,this.arotation=Math.atan2(c.b,c.a)*a.MathUtils.radDeg,this.ascaleX=Math.sqrt(c.a*c.a+c.b*c.b),this.ascaleY=Math.sqrt(c.c*c.c+c.d*c.d),this.ashearX=0,void(this.ashearY=Math.atan2(c.a*c.c+c.b*c.d,c.a*c.d-c.b*c.c)*a.MathUtils.radDeg);var d=b.matrix,e=1/(d.a*d.d-d.b*d.c),f=c.tx-d.tx,g=c.ty-d.ty;this.ax=f*d.d*e-g*d.c*e,this.ay=g*d.a*e-f*d.b*e;var h=e*d.d,i=e*d.a,j=e*d.c,k=e*d.b,l=h*c.a-j*c.b,m=h*c.c-j*c.d,n=i*c.b-k*c.a,o=i*c.d-k*c.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(l*l+n*n),this.ascaleX>1e-4){var p=l*o-m*n;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(l*m+n*o,p)*a.MathUtils.radDeg,this.arotation=Math.atan2(n,l)*a.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(m*m+o*o),this.ashearY=0,this.arotation=90-Math.atan2(o,m)*a.MathUtils.radDeg},b.prototype.worldToLocal=function(a){var b=this.matrix,c=b.a,d=b.c,e=b.b,f=b.d,g=1/(c*f-d*e),h=a.x-b.tx,i=a.y-b.ty;return a.x=h*f*g-i*d*g,a.y=i*c*g-h*e*g,a},b.prototype.localToWorld=function(a){var b=this.matrix,c=a.x,d=a.y;return a.x=c*b.a+d*b.c+b.tx,a.y=c*b.b+d*b.d+b.ty,a},b}();b.yDown=!1,a.Bone=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a,b,d){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=c.Normal,a<0)throw new Error("index must be >= 0.");if(null==b)throw new Error("name cannot be null.");this.index=a,this.name=b,this.parent=d}return a}();a.BoneData=b;var c;!function(a){a[a.Normal=0]="Normal",a[a.OnlyTranslation=1]="OnlyTranslation",a[a.NoRotationOrReflection=2]="NoRotationOrReflection",a[a.NoScale=3]="NoScale",a[a.NoScaleOrReflection=4]="NoScaleOrReflection"}(c=a.TransformMode||(a.TransformMode={}))}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a,b){if(null==b)throw new Error("data cannot be null.");this.time=a,this.data=b}return a}();a.Event=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){this.name=a}return a}();a.EventData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a,b){if(this.mix=1,this.bendDirection=0,this.level=0,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.mix=a.mix,this.bendDirection=a.bendDirection,this.bones=new Array;for(var c=0;c<a.bones.length;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findBone(a.target.name)}return b.prototype.getOrder=function(){return this.data.order},b.prototype.apply=function(){this.update()},b.prototype.update=function(){var a=this.target,b=this.bones;switch(b.length){case 1:this.apply1(b[0],a.worldX,a.worldY,this.mix);break;case 2:this.apply2(b[0],b[1],a.worldX,a.worldY,this.bendDirection,this.mix)}},b.prototype.apply1=function(b,c,d,e){b.appliedValid||b.updateAppliedTransform();var f=b.parent.matrix,g=1/(f.a*f.d-f.b*f.c),h=c-f.tx,i=d-f.ty,j=(h*f.d-i*f.c)*g-b.ax,k=(i*f.a-h*f.b)*g-b.ay,l=Math.atan2(k,j)*a.MathUtils.radDeg-b.ashearX-b.arotation;b.ascaleX<0&&(l+=180),l>180?l-=360:l<-180&&(l+=360),b.updateWorldTransformWith(b.ax,b.ay,b.arotation+l*e,b.ascaleX,b.ascaleY,b.ashearX,b.ashearY)},b.prototype.apply2=function(b,c,d,e,f,g){if(0==g)return void c.updateWorldTransform();b.appliedValid||b.updateAppliedTransform(),c.appliedValid||c.updateAppliedTransform();var h=b.ax,i=b.ay,j=b.ascaleX,k=b.ascaleY,l=c.ascaleX,m=0,n=0,o=0;j<0?(j=-j,m=180,o=-1):(m=0,o=1),k<0&&(k=-k,o=-o),l<0?(l=-l,n=180):n=0;var p=b.matrix,q=c.ax,r=0,s=0,t=0,u=p.a,v=p.c,w=p.b,x=p.d,y=Math.abs(j-k)<=1e-4;y?(r=c.ay,s=u*q+v*r+p.tx,t=w*q+x*r+p.ty):(r=0,s=u*q+p.tx,t=w*q+p.ty);var z=(b.parent,b.parent.matrix);u=z.a,v=z.c,w=z.b,x=z.d;var A=1/(u*x-v*w),B=d-z.tx,C=e-z.ty,D=(B*x-C*v)*A-h,E=(C*u-B*w)*A-i;B=s-z.tx,C=t-z.ty;var F=(B*x-C*v)*A-h,G=(C*u-B*w)*A-i,H=Math.sqrt(F*F+G*G),I=c.data.length*l,J=0,K=0;a:if(y){I*=j;var L=(D*D+E*E-H*H-I*I)/(2*H*I);L<-1?L=-1:L>1&&(L=1),K=Math.acos(L)*f,u=H+I*L,v=I*Math.sin(K),J=Math.atan2(E*u-D*v,D*u+E*v)}else{u=j*I,v=k*I;var M=u*u,N=v*v,O=D*D+E*E,P=Math.atan2(E,D);w=N*H*H+M*O-M*N;var Q=-2*N*H,R=N-M;if((x=Q*Q-4*R*w)>=0){var S=Math.sqrt(x);Q<0&&(S=-S),S=-(Q+S)/2;var T=S/R,U=w/S,V=Math.abs(T)<Math.abs(U)?T:U;if(V*V<=O){C=Math.sqrt(O-V*V)*f,J=P-Math.atan2(C,V),K=Math.atan2(C/k,(V-H)/j);break a}}var W=0,X=Number.MAX_VALUE,Y=0,Z=0,$=0,_=0,aa=0,ba=0;B=H+u,x=B*B,x>_&&($=0,_=x,aa=B),B=H-u,x=B*B,x<X&&(W=a.MathUtils.PI,X=x,Y=B);var ca=Math.acos(-u*H/(M-N));B=u*Math.cos(ca)+H,C=v*Math.sin(ca),x=B*B+C*C,x<X&&(W=ca,X=x,Y=B,Z=C),x>_&&($=ca,_=x,aa=B,ba=C),O<=(X+_)/2?(J=P-Math.atan2(Z*f,Y),K=W*f):(J=P-Math.atan2(ba*f,aa),K=$*f)}var da=Math.atan2(r,q)*o,ea=b.arotation;J=(J-da)*a.MathUtils.radDeg+m-ea,J>180?J-=360:J<-180&&(J+=360),b.updateWorldTransformWith(h,i,ea+J*g,b.ascaleX,b.ascaleY,0,0),ea=c.arotation,K=((K+da)*a.MathUtils.radDeg-c.ashearX)*o+n-ea,K>180?K-=360:K<-180&&(K+=360),c.updateWorldTransformWith(q,r,ea+K*g,c.ascaleX,c.ascaleY,c.ashearX,c.ashearY)},b}();a.IkConstraint=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=a}return a}();a.IkConstraintData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a,b){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.bones=new Array;for(var c=0,d=a.bones.length;c<d;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findSlot(a.target.name),this.position=a.position,this.spacing=a.spacing,this.rotateMix=a.rotateMix,this.translateMix=a.translateMix}return b.prototype.apply=function(){this.update()},b.prototype.update=function(){var b=this.target.getAttachment();if(b instanceof a.PathAttachment){var c=this.rotateMix,d=this.translateMix,e=d>0,f=c>0;if(e||f){var g=this.data,h=g.spacingMode,i=h==a.SpacingMode.Length,j=g.rotateMode,k=j==a.RotateMode.Tangent,l=j==a.RotateMode.ChainScale,m=this.bones.length,n=k?m:m+1,o=this.bones,p=a.Utils.setArraySize(this.spaces,n),q=null,r=this.spacing;if(l||i){l&&(q=a.Utils.setArraySize(this.lengths,m));for(var s=0,t=n-1;s<t;){var u=o[s],v=u.matrix,w=u.data.length,x=w*v.a,y=w*v.b;w=Math.sqrt(x*x+y*y),l&&(q[s]=w),p[++s]=i?Math.max(0,w+r):r}}else for(var s=1;s<n;s++)p[s]=r;var z=this.computeWorldPositions(b,n,k,g.positionMode==a.PositionMode.Percent,h==a.SpacingMode.Percent),A=z[0],B=z[1],C=g.offsetRotation,D=!1;if(0==C)D=j==a.RotateMode.Chain;else{D=!1;var E=this.target.bone.matrix;C*=E.a*E.d-E.b*E.c>0?a.MathUtils.degRad:-a.MathUtils.degRad}for(var s=0,F=3;s<m;s++,F+=3){var u=o[s],v=u.matrix;v.tx+=(A-v.tx)*d,v.ty+=(B-v.ty)*d;var x=z[F],y=z[F+1],G=x-A,H=y-B;if(l){var I=q[s];if(0!=I){var J=(Math.sqrt(G*G+H*H)/I-1)*c+1;v.a*=J,v.b*=J}}if(A=x,B=y,f){var K=v.a,L=v.c,M=v.b,N=v.d,O=0,P=0,Q=0;if(O=k?z[F-1]:0==p[s+1]?z[F+2]:Math.atan2(H,G),O-=Math.atan2(M,K),D){P=Math.cos(O),Q=Math.sin(O);var R=u.data.length;A+=(R*(P*K-Q*M)-G)*c,B+=(R*(Q*K+P*M)-H)*c}else O+=C;O>a.MathUtils.PI?O-=a.MathUtils.PI2:O<-a.MathUtils.PI&&(O+=a.MathUtils.PI2),O*=c,P=Math.cos(O),Q=Math.sin(O),v.a=P*K-Q*M,v.c=P*L-Q*N,v.b=Q*K+P*M,v.d=Q*L+P*N}u.appliedValid=!1}}}},b.prototype.computeWorldPositions=function(c,d,e,f,g){var h=this.target,i=this.position,j=this.spaces,k=a.Utils.setArraySize(this.positions,3*d+2),l=null,m=c.closed,n=c.worldVerticesLength,o=n/6,p=b.NONE;if(!c.constantSpeed){var q=c.lengths;o-=m?1:2;var r=q[o];if(f&&(i*=r),g)for(var s=0;s<d;s++)j[s]*=r;l=a.Utils.setArraySize(this.world,8);for(var s=0,t=0,u=0;s<d;s++,t+=3){var v=j[s];i+=v;var w=i;if(m)w%=r,w<0&&(w+=r),u=0;else{if(w<0){p!=b.BEFORE&&(p=b.BEFORE,c.computeWorldVerticesWith(h,2,4,l,0)),this.addBeforePosition(w,l,0,k,t);continue}if(w>r){p!=b.AFTER&&(p=b.AFTER,c.computeWorldVerticesWith(h,n-6,4,l,0)),this.addAfterPosition(w-r,l,0,k,t);continue}}for(;;u++){var x=q[u];if(!(w>x)){if(0==u)w/=x;else{var y=q[u-1];w=(w-y)/(x-y)}break}}u!=p&&(p=u,m&&u==o?(c.computeWorldVerticesWith(h,n-4,4,l,0),c.computeWorldVerticesWith(h,0,4,l,4)):c.computeWorldVerticesWith(h,6*u+2,8,l,0)),this.addCurvePosition(w,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],k,t,e||s>0&&0==v)}return k}m?(n+=2,l=a.Utils.setArraySize(this.world,n),c.computeWorldVerticesWith(h,2,n-4,l,0),c.computeWorldVerticesWith(h,0,2,l,n-4),l[n-2]=l[0],l[n-1]=l[1]):(o--,n-=4,l=a.Utils.setArraySize(this.world,n),c.computeWorldVerticesWith(h,2,n,l,0));for(var z=a.Utils.setArraySize(this.curves,o),A=0,B=l[0],C=l[1],D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=0,O=0,P=0,Q=0,s=0,R=2;s<o;s++,R+=6)D=l[R],E=l[R+1],F=l[R+2],G=l[R+3],H=l[R+4],I=l[R+5],J=.1875*(B-2*D+F),K=.1875*(C-2*E+G),L=.09375*(3*(D-F)-B+H),M=.09375*(3*(E-G)-C+I),N=2*J+L,O=2*K+M,P=.75*(D-B)+J+.16666667*L,Q=.75*(E-C)+K+.16666667*M,A+=Math.sqrt(P*P+Q*Q),P+=N,Q+=O,N+=L,O+=M,A+=Math.sqrt(P*P+Q*Q),P+=N,Q+=O,A+=Math.sqrt(P*P+Q*Q),P+=N+L,Q+=O+M,A+=Math.sqrt(P*P+Q*Q),z[s]=A,B=H,C=I;if(f&&(i*=A),g)for(var s=0;s<d;s++)j[s]*=A;for(var S=this.segments,T=0,s=0,t=0,u=0,U=0;s<d;s++,t+=3){var v=j[s];i+=v;var w=i;if(m)w%=A,w<0&&(w+=A),u=0;else{if(w<0){this.addBeforePosition(w,l,0,k,t);continue}if(w>A){this.addAfterPosition(w-A,l,n-4,k,t);continue}}for(;;u++){var V=z[u];if(!(w>V)){if(0==u)w/=V;else{var y=z[u-1];w=(w-y)/(V-y)}break}}if(u!=p){p=u;var W=6*u;for(B=l[W],C=l[W+1],D=l[W+2],E=l[W+3],F=l[W+4],G=l[W+5],H=l[W+6],I=l[W+7],J=.03*(B-2*D+F),K=.03*(C-2*E+G),L=.006*(3*(D-F)-B+H),M=.006*(3*(E-G)-C+I),N=2*J+L,O=2*K+M,P=.3*(D-B)+J+.16666667*L,Q=.3*(E-C)+K+.16666667*M,T=Math.sqrt(P*P+Q*Q),S[0]=T,W=1;W<8;W++)P+=N,Q+=O,N+=L,O+=M,T+=Math.sqrt(P*P+Q*Q),S[W]=T;P+=N,Q+=O,T+=Math.sqrt(P*P+Q*Q),S[8]=T,P+=N+L,Q+=O+M,T+=Math.sqrt(P*P+Q*Q),S[9]=T,U=0}for(w*=T;;U++){var X=S[U];if(!(w>X)){if(0==U)w/=X;else{var y=S[U-1];w=U+(w-y)/(X-y)}break}}this.addCurvePosition(.1*w,B,C,D,E,F,G,H,I,k,t,e||s>0&&0==v)}return k},b.prototype.addBeforePosition=function(a,b,c,d,e){var f=b[c],g=b[c+1],h=b[c+2]-f,i=b[c+3]-g,j=Math.atan2(i,h);d[e]=f+a*Math.cos(j),d[e+1]=g+a*Math.sin(j),d[e+2]=j},b.prototype.addAfterPosition=function(a,b,c,d,e){var f=b[c+2],g=b[c+3],h=f-b[c],i=g-b[c+1],j=Math.atan2(i,h);d[e]=f+a*Math.cos(j),d[e+1]=g+a*Math.sin(j),d[e+2]=j},b.prototype.addCurvePosition=function(a,b,c,d,e,f,g,h,i,j,k,l){(0==a||isNaN(a))&&(a=1e-4);var m=a*a,n=m*a,o=1-a,p=o*o,q=p*o,r=o*a,s=3*r,t=o*s,u=s*a,v=b*q+d*t+f*u+h*n,w=c*q+e*t+g*u+i*n;j[k]=v,j[k+1]=w,l&&(j[k+2]=Math.atan2(w-(c*p+e*r*2+g*m),v-(b*p+d*r*2+f*m)))},b.prototype.getOrder=function(){return this.data.order},b}();b.NONE=-1,b.BEFORE=-2,b.AFTER=-3,a.PathConstraint=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){this.order=0,this.bones=new Array,this.name=a}return a}();a.PathConstraintData=b;!function(a){a[a.Fixed=0]="Fixed",a[a.Percent=1]="Percent"}(a.PositionMode||(a.PositionMode={}));!function(a){a[a.Length=0]="Length",a[a.Fixed=1]="Fixed",a[a.Percent=2]="Percent"}(a.SpacingMode||(a.SpacingMode={}));!function(a){a[a.Tangent=0]="Tangent",a[a.Chain=1]="Chain",a[a.ChainScale=2]="ChainScale"}(a.RotateMode||(a.RotateMode={}))}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(b){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==b)throw new Error("data cannot be null.");this.data=b,this.bones=new Array;for(var c=0;c<b.bones.length;c++){var d=b.bones[c],e=void 0;if(null==d.parent)e=new a.Bone(d,this,null);else{var f=this.bones[d.parent.index];e=new a.Bone(d,this,f),f.children.push(e)}this.bones.push(e)}this.slots=new Array,this.drawOrder=new Array;for(var c=0;c<b.slots.length;c++){var g=b.slots[c],e=this.bones[g.boneData.index],h=new a.Slot(g,e);this.slots.push(h),this.drawOrder.push(h)}this.ikConstraints=new Array;for(var c=0;c<b.ikConstraints.length;c++){var i=b.ikConstraints[c];this.ikConstraints.push(new a.IkConstraint(i,this))}this.transformConstraints=new Array;for(var c=0;c<b.transformConstraints.length;c++){var j=b.transformConstraints[c];this.transformConstraints.push(new a.TransformConstraint(j,this))}this.pathConstraints=new Array;for(var c=0;c<b.pathConstraints.length;c++){var k=b.pathConstraints[c];this.pathConstraints.push(new a.PathConstraint(k,this))}this.color=new a.Color(1,1,1,1),this.updateCache()}return b.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var a=this.bones,b=0,c=a.length;b<c;b++)a[b].sorted=!1;var d=this.ikConstraints,e=this.transformConstraints,f=this.pathConstraints,g=d.length,h=e.length,i=f.length,j=g+h+i;a:for(var b=0;b<j;b++){for(var k=0;k<g;k++){var l=d[k];if(l.data.order==b){this.sortIkConstraint(l);continue a}}for(var k=0;k<h;k++){var l=e[k];if(l.data.order==b){this.sortTransformConstraint(l);continue a}}for(var k=0;k<i;k++){var l=f[k];if(l.data.order==b){this.sortPathConstraint(l);continue a}}}for(var b=0,c=a.length;b<c;b++)this.sortBone(a[b])},b.prototype.sortIkConstraint=function(a){var b=a.target;this.sortBone(b);var c=a.bones,d=c[0];if(this.sortBone(d),c.length>1){var e=c[c.length-1];this._updateCache.indexOf(e)>-1||this.updateCacheReset.push(e)}this._updateCache.push(a),this.sortReset(d.children),c[c.length-1].sorted=!0},b.prototype.sortPathConstraint=function(b){var c=b.target,d=c.data.index,e=c.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,d,e),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,d,e);for(var f=0,g=this.data.skins.length;f<g;f++)this.sortPathConstraintAttachment(this.data.skins[f],d,e);var h=c.getAttachment();h instanceof a.PathAttachment&&this.sortPathConstraintAttachmentWith(h,e);for(var i=b.bones,j=i.length,f=0;f<j;f++)this.sortBone(i[f]);this._updateCache.push(b);for(var f=0;f<j;f++)this.sortReset(i[f].children);for(var f=0;f<j;f++)i[f].sorted=!0},b.prototype.sortTransformConstraint=function(a){this.sortBone(a.target);for(var b=a.bones,c=b.length,d=0;d<c;d++)this.sortBone(b[d]);this._updateCache.push(a);for(var d=0;d<c;d++)this.sortReset(b[d].children);for(var d=0;d<c;d++)b[d].sorted=!0},b.prototype.sortPathConstraintAttachment=function(a,b,c){var d=a.attachments[b];if(d)for(var e in d)this.sortPathConstraintAttachmentWith(d[e],c)},b.prototype.sortPathConstraintAttachmentWith=function(b,c){if(b instanceof a.PathAttachment){var d=b.bones;if(null==d)this.sortBone(c);else for(var e=this.bones,f=0;f<d.length;)for(var g=d[f++],h=f+g;f<h;f++){var i=d[f];this.sortBone(e[i])}}},b.prototype.sortBone=function(a){if(!a.sorted){var b=a.parent;null!=b&&this.sortBone(b),a.sorted=!0,this._updateCache.push(a)}},b.prototype.sortReset=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];d.sorted&&this.sortReset(d.children),d.sorted=!1}},b.prototype.updateWorldTransform=function(){for(var a=this.updateCacheReset,b=0,c=a.length;b<c;b++){var d=a[b];d.ax=d.x,d.ay=d.y,d.arotation=d.rotation,d.ascaleX=d.scaleX,d.ascaleY=d.scaleY,d.ashearX=d.shearX,d.ashearY=d.shearY,d.appliedValid=!0}for(var e=this._updateCache,b=0,c=e.length;b<c;b++)e[b].update()},b.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},b.prototype.setBonesToSetupPose=function(){for(var a=this.bones,b=0,c=a.length;b<c;b++)a[b].setToSetupPose();for(var d=this.ikConstraints,b=0,c=d.length;b<c;b++){var e=d[b];e.bendDirection=e.data.bendDirection,e.mix=e.data.mix}for(var f=this.transformConstraints,b=0,c=f.length;b<c;b++){var e=f[b],g=e.data;e.rotateMix=g.rotateMix,e.translateMix=g.translateMix,e.scaleMix=g.scaleMix,e.shearMix=g.shearMix}for(var h=this.pathConstraints,b=0,c=h.length;b<c;b++){var e=h[b],g=e.data;e.position=g.position,e.spacing=g.spacing,e.rotateMix=g.rotateMix,e.translateMix=g.translateMix}},b.prototype.setSlotsToSetupPose=function(){var b=this.slots;a.Utils.arrayCopy(b,0,this.drawOrder,0,b.length);for(var c=0,d=b.length;c<d;c++)b[c].setToSetupPose()},b.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},b.prototype.findBone=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findBoneIndex=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++)if(b[c].data.name==a)return c;return-1},b.prototype.findSlot=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findSlotIndex=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++)if(b[c].data.name==a)return c;return-1},b.prototype.setSkinByName=function(a){var b=this.data.findSkin(a);if(null==b)throw new Error("Skin not found: "+a);this.setSkin(b)},b.prototype.setSkin=function(a){if(null!=a)if(null!=this.skin)a.attachAll(this,this.skin);else for(var b=this.slots,c=0,d=b.length;c<d;c++){var e=b[c],f=e.data.attachmentName;if(null!=f){var g=a.getAttachment(c,f);null!=g&&e.setAttachment(g)}}this.skin=a},b.prototype.getAttachmentByName=function(a,b){return this.getAttachment(this.data.findSlotIndex(a),b)},b.prototype.getAttachment=function(a,b){if(null==b)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var c=this.skin.getAttachment(a,b);if(null!=c)return c}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(a,b):null},b.prototype.setAttachment=function(a,b){if(null==a)throw new Error("slotName cannot be null.");for(var c=this.slots,d=0,e=c.length;d<e;d++){var f=c[d];if(f.data.name==a){var g=null;if(null!=b&&null==(g=this.getAttachment(d,b)))throw new Error("Attachment not found: "+b+", for slot: "+a);return void f.setAttachment(g)}}throw new Error("Slot not found: "+a)},b.prototype.findIkConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.ikConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findTransformConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.transformConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findPathConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.pathConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.getBounds=function(b,c){if(null==b)throw new Error("offset cannot be null.");if(null==c)throw new Error("size cannot be null.");for(var d=this.drawOrder,e=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,i=0,j=d.length;i<j;i++){var k=d[i],l=null,m=k.getAttachment();if(m instanceof a.RegionAttachment?l=m.updateWorldVertices(k,!1):m instanceof a.MeshAttachment&&(l=m.updateWorldVertices(k,!0)),null!=l)for(var n=0,o=l.length;n<o;n+=8){var p=l[n],q=l[n+1];e=Math.min(e,p),f=Math.min(f,q),g=Math.max(g,p),h=Math.max(h,q)}}b.set(e,f),c.set(g-e,h-f)},b.prototype.update=function(a){this.time+=a},b}();a.Skeleton=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new a.Pool(function(){return a.Utils.newFloatArray(16)})}return b.prototype.update=function(b,c){if(null==b)throw new Error("skeleton cannot be null.");var d=this.boundingBoxes,e=this.polygons,f=this.polygonPool,g=b.slots,h=g.length;d.length=0,f.freeAll(e),e.length=0;for(var i=0;i<h;i++){var j=g[i],k=j.getAttachment();if(k instanceof a.BoundingBoxAttachment){var l=k;d.push(l);var m=f.obtain();m.length!=l.worldVerticesLength&&(m=a.Utils.newFloatArray(l.worldVerticesLength)),e.push(m),l.computeWorldVertices(j,m)}}c&&this.aabbCompute()},b.prototype.aabbCompute=function(){for(var a=Number.POSITIVE_INFINITY,b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=this.polygons,f=0,g=e.length;f<g;f++)for(var h=e[f],i=h,j=0,k=h.length;j<k;j+=2){var l=i[j],m=i[j+1];a=Math.min(a,l),b=Math.min(b,m),c=Math.max(c,l),d=Math.max(d,m)}this.minX=a,this.minY=b,this.maxX=c,this.maxY=d},b.prototype.aabbContainsPoint=function(a,b){return a>=this.minX&&a<=this.maxX&&b>=this.minY&&b<=this.maxY},b.prototype.aabbIntersectsSegment=function(a,b,c,d){var e=this.minX,f=this.minY,g=this.maxX,h=this.maxY;if(a<=e&&c<=e||b<=f&&d<=f||a>=g&&c>=g||b>=h&&d>=h)return!1;var i=(d-b)/(c-a),j=i*(e-a)+b;if(j>f&&j<h)return!0;if((j=i*(g-a)+b)>f&&j<h)return!0;var k=(f-b)/i+a;return k>e&&k<g||(k=(h-b)/i+a)>e&&k<g},b.prototype.aabbIntersectsSkeleton=function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},b.prototype.containsPoint=function(a,b){for(var c=this.polygons,d=0,e=c.length;d<e;d++)if(this.containsPointPolygon(c[d],a,b))return this.boundingBoxes[d];return null},b.prototype.containsPointPolygon=function(a,b,c){for(var d=a,e=a.length,f=e-2,g=!1,h=0;h<e;h+=2){var i=d[h+1],j=d[f+1];if(i<c&&j>=c||j<c&&i>=c){var k=d[h];k+(c-i)/(j-i)*(d[f]-k)<b&&(g=!g)}f=h}return g},b.prototype.intersectsSegment=function(a,b,c,d){for(var e=this.polygons,f=0,g=e.length;f<g;f++)if(this.intersectsSegmentPolygon(e[f],a,b,c,d))return this.boundingBoxes[f];return null},b.prototype.intersectsSegmentPolygon=function(a,b,c,d,e){for(var f=a,g=a.length,h=b-d,i=c-e,j=b*e-c*d,k=f[g-2],l=f[g-1],m=0;m<g;m+=2){var n=f[m],o=f[m+1],p=k*o-l*n,q=k-n,r=l-o,s=h*r-i*q,t=(j*q-h*p)/s;if((t>=k&&t<=n||t>=n&&t<=k)&&(t>=b&&t<=d||t>=d&&t<=b)){var u=(j*r-i*p)/s;if((u>=l&&u<=o||u>=o&&u<=l)&&(u>=c&&u<=e||u>=e&&u<=c))return!0}k=n,l=o}return!1},b.prototype.getPolygon=function(a){if(null==a)throw new Error("boundingBox cannot be null.");var b=this.boundingBoxes.indexOf(a);return b==-1?null:this.polygons[b]},b.prototype.getWidth=function(){return this.maxX-this.minX},b.prototype.getHeight=function(){return this.maxY-this.minY},b}();a.SkeletonBounds=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return a.prototype.findBone=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findBoneIndex=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++)if(b[c].name==a)return c;return-1},a.prototype.findSlot=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findSlotIndex=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++)if(b[c].name==a)return c;return-1},a.prototype.findSkin=function(a){if(null==a)throw new Error("skinName cannot be null.");for(var b=this.skins,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findEvent=function(a){if(null==a)throw new Error("eventDataName cannot be null.");for(var b=this.events,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findAnimation=function(a){if(null==a)throw new Error("animationName cannot be null.");for(var b=this.animations,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findIkConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.ikConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findTransformConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.transformConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findPathConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.pathConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findPathConstraintIndex=function(a){if(null==a)throw new Error("pathConstraintName cannot be null.");for(var b=this.pathConstraints,c=0,d=b.length;c<d;c++)if(b[c].name==a)return c;return-1},a}();a.SkeletonData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=a}return b.prototype.readSkeletonData=function(c){var d=this.scale,e=new a.SkeletonData,f="string"==typeof c?JSON.parse(c):c,g=f.skeleton;if(null!=g&&(e.hash=g.hash,e.version=g.spine,e.width=g.width,e.height=g.height,e.fps=g.fps,e.imagesPath=g.images),f.bones)for(var h=0;h<f.bones.length;h++){var i=f.bones[h],j=null,k=this.getValue(i,"parent",null);if(null!=k&&null==(j=e.findBone(k)))throw new Error("Parent bone not found: "+k);var l=new a.BoneData(e.bones.length,i.name,j);l.length=this.getValue(i,"length",0)*d,l.x=this.getValue(i,"x",0)*d,l.y=this.getValue(i,"y",0)*d,
l.rotation=this.getValue(i,"rotation",0),l.scaleX=this.getValue(i,"scaleX",1),l.scaleY=this.getValue(i,"scaleY",1),l.shearX=this.getValue(i,"shearX",0),l.shearY=this.getValue(i,"shearY",0),i.hasOwnProperty("inheritScale")||i.hasOwnProperty("inheritRotation")?l.transformMode=b.transformModeLegacy(this.getValue(i,"inheritRotation",!0),this.getValue(i,"inheritScale",!0)):l.transformMode=b.transformModeFromString(this.getValue(i,"transform","normal")),e.bones.push(l)}if(f.slots)for(var h=0;h<f.slots.length;h++){var m=f.slots[h],n=m.name,o=m.bone,p=e.findBone(o);if(null==p)throw new Error("Slot bone not found: "+o);var l=new a.SlotData(e.slots.length,n,p),q=this.getValue(m,"color",null);null!=q&&l.color.setFromString(q),l.attachmentName=this.getValue(m,"attachment",null),l.blendMode=b.blendModeFromString(this.getValue(m,"blend","normal")),e.slots.push(l)}if(f.ik)for(var h=0;h<f.ik.length;h++){var r=f.ik[h],l=new a.IkConstraintData(r.name);l.order=this.getValue(r,"order",0);for(var s=0;s<r.bones.length;s++){var o=r.bones[s],t=e.findBone(o);if(null==t)throw new Error("IK bone not found: "+o);l.bones.push(t)}var u=r.target;if(l.target=e.findBone(u),null==l.target)throw new Error("IK target bone not found: "+u);l.bendDirection=this.getValue(r,"bendPositive",!0)?1:-1,l.mix=this.getValue(r,"mix",1),e.ikConstraints.push(l)}if(f.transform)for(var h=0;h<f.transform.length;h++){var r=f.transform[h],l=new a.TransformConstraintData(r.name);l.order=this.getValue(r,"order",0);for(var s=0;s<r.bones.length;s++){var o=r.bones[s],t=e.findBone(o);if(null==t)throw new Error("Transform constraint bone not found: "+o);l.bones.push(t)}var u=r.target;if(l.target=e.findBone(u),null==l.target)throw new Error("Transform constraint target bone not found: "+u);l.offsetRotation=this.getValue(r,"rotation",0),l.offsetX=this.getValue(r,"x",0)*d,l.offsetY=this.getValue(r,"y",0)*d,l.offsetScaleX=this.getValue(r,"scaleX",0),l.offsetScaleY=this.getValue(r,"scaleY",0),l.offsetShearY=this.getValue(r,"shearY",0),l.rotateMix=this.getValue(r,"rotateMix",1),l.translateMix=this.getValue(r,"translateMix",1),l.scaleMix=this.getValue(r,"scaleMix",1),l.shearMix=this.getValue(r,"shearMix",1),e.transformConstraints.push(l)}if(f.path)for(var h=0;h<f.path.length;h++){var r=f.path[h],l=new a.PathConstraintData(r.name);l.order=this.getValue(r,"order",0);for(var s=0;s<r.bones.length;s++){var o=r.bones[s],t=e.findBone(o);if(null==t)throw new Error("Transform constraint bone not found: "+o);l.bones.push(t)}var u=r.target;if(l.target=e.findSlot(u),null==l.target)throw new Error("Path target slot not found: "+u);l.positionMode=b.positionModeFromString(this.getValue(r,"positionMode","percent")),l.spacingMode=b.spacingModeFromString(this.getValue(r,"spacingMode","length")),l.rotateMode=b.rotateModeFromString(this.getValue(r,"rotateMode","tangent")),l.offsetRotation=this.getValue(r,"rotation",0),l.position=this.getValue(r,"position",0),l.positionMode==a.PositionMode.Fixed&&(l.position*=d),l.spacing=this.getValue(r,"spacing",0),l.spacingMode!=a.SpacingMode.Length&&l.spacingMode!=a.SpacingMode.Fixed||(l.spacing*=d),l.rotateMix=this.getValue(r,"rotateMix",1),l.translateMix=this.getValue(r,"translateMix",1),e.pathConstraints.push(l)}if(f.skins)for(var v in f.skins){var w=f.skins[v],x=new a.Skin(v);for(var n in w){var y=e.findSlotIndex(n);if(y==-1)throw new Error("Slot not found: "+n);var m=w[n];for(var z in m){var A=this.readAttachment(m[z],x,y,z);null!=A&&x.addAttachment(y,z,A)}}e.skins.push(x),"default"==x.name&&(e.defaultSkin=x)}for(var h=0,B=this.linkedMeshes.length;h<B;h++){var C=this.linkedMeshes[h],x=null==C.skin?e.defaultSkin:e.findSkin(C.skin);if(null==x)throw new Error("Skin not found: "+C.skin);var D=x.getAttachment(C.slotIndex,C.parent);if(null==D)throw new Error("Parent mesh not found: "+C.parent);C.mesh.setParentMesh(D)}if(this.linkedMeshes.length=0,f.events)for(var E in f.events){var F=f.events[E],l=new a.EventData(E);l.intValue=this.getValue(F,"int",0),l.floatValue=this.getValue(F,"float",0),l.stringValue=this.getValue(F,"string",""),e.events.push(l)}if(f.animations)for(var G in f.animations){var H=f.animations[G];this.readAnimation(H,G,e)}return e},b.prototype.readAttachment=function(b,d,e,f){var g=this.scale;switch(f=this.getValue(b,"name",f),this.getValue(b,"type","region")){case"region":var h=this.getValue(b,"path",f),i=this.attachmentLoader.newRegionAttachment(d,f,h);if(null==i)return null;i.path=h,i.x=this.getValue(b,"x",0)*g,i.y=this.getValue(b,"y",0)*g,i.scaleX=this.getValue(b,"scaleX",1),i.scaleY=this.getValue(b,"scaleY",1),i.rotation=this.getValue(b,"rotation",0),i.width=b.width*g,i.height=b.height*g;var j=this.getValue(b,"color",null);return null!=j&&i.color.setFromString(j),i;case"boundingbox":var k=this.attachmentLoader.newBoundingBoxAttachment(d,f);if(null==k)return null;this.readVertices(b,k,b.vertexCount<<1);var j=this.getValue(b,"color",null);return null!=j&&k.color.setFromString(j),k;case"weightedmesh":case"skinnedmesh":case"mesh":case"linkedmesh":var h=this.getValue(b,"path",f),l=this.attachmentLoader.newMeshAttachment(d,f,h);if(null==l)return null;l.path=h;var j=this.getValue(b,"color",null);null!=j&&l.color.setFromString(j);var m=this.getValue(b,"parent",null);if(null!=m)return l.inheritDeform=this.getValue(b,"deform",!0),this.linkedMeshes.push(new c(l,this.getValue(b,"skin",null),e,m)),l;var n=b.uvs;return this.readVertices(b,l,n.length),l.triangles=b.triangles,l.regionUVs=n,l.hullLength=2*this.getValue(b,"hull",0),l;case"path":var h=this.attachmentLoader.newPathAttachment(d,f);if(null==h)return null;h.closed=this.getValue(b,"closed",!1),h.constantSpeed=this.getValue(b,"constantSpeed",!0);var o=b.vertexCount;this.readVertices(b,h,o<<1);for(var p=a.Utils.newArray(o/3,0),q=0;q<b.lengths.length;q++)p[q++]=b.lengths[q]*g;h.lengths=p;var j=this.getValue(b,"color",null);return null!=j&&h.color.setFromString(j),h}return null},b.prototype.readVertices=function(b,c,d){var e=this.scale;c.worldVerticesLength=d;var f=b.vertices;if(d==f.length){if(1!=e)for(var g=0,h=f.length;g<h;g++)f[g]*=e;return void(c.vertices=a.Utils.toFloatArray(f))}for(var i=new Array,j=new Array,g=0,h=f.length;g<h;){var k=f[g++];j.push(k);for(var l=g+4*k;g<l;g+=4)j.push(f[g]),i.push(f[g+1]*e),i.push(f[g+2]*e),i.push(f[g+3])}c.bones=j,c.vertices=a.Utils.toFloatArray(i)},b.prototype.readAnimation=function(b,c,d){var e=this.scale,f=new Array,g=0;if(b.slots)for(var h in b.slots){var i=b.slots[h],j=d.findSlotIndex(h);if(j==-1)throw new Error("Slot not found: "+h);for(var k in i){var l=i[k];if("color"==k){var m=new a.ColorTimeline(l.length);m.slotIndex=j;for(var n=0,o=0;o<l.length;o++){var p=l[o],q=new a.Color;q.setFromString(p.color),m.setFrame(n,p.time,q.r,q.g,q.b,q.a),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.ColorTimeline.ENTRIES])}else{if(!(k="attachment"))throw new Error("Invalid timeline type for a slot: "+k+" ("+h+")");var m=new a.AttachmentTimeline(l.length);m.slotIndex=j;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n++,p.time,p.name)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}}}if(b.bones)for(var r in b.bones){var s=b.bones[r],t=d.findBoneIndex(r);if(t==-1)throw new Error("Bone not found: "+r);for(var k in s){var l=s[k];if("rotate"===k){var m=new a.RotateTimeline(l.length);m.boneIndex=t;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n,p.time,p.angle),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.RotateTimeline.ENTRIES])}else{if("translate"!==k&&"scale"!==k&&"shear"!==k)throw new Error("Invalid timeline type for a bone: "+k+" ("+r+")");var m=null,u=1;"scale"===k?m=new a.ScaleTimeline(l.length):"shear"===k?m=new a.ShearTimeline(l.length):(m=new a.TranslateTimeline(l.length),u=e),m.boneIndex=t;for(var n=0,o=0;o<l.length;o++){var p=l[o],v=this.getValue(p,"x",0),w=this.getValue(p,"y",0);m.setFrame(n,p.time,v*u,w*u),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.TranslateTimeline.ENTRIES])}}}if(b.ik)for(var x in b.ik){var y=b.ik[x],z=d.findIkConstraint(x),m=new a.IkConstraintTimeline(y.length);m.ikConstraintIndex=d.ikConstraints.indexOf(z);for(var n=0,o=0;o<y.length;o++){var p=y[o];m.setFrame(n,p.time,this.getValue(p,"mix",1),this.getValue(p,"bendPositive",!0)?1:-1),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.IkConstraintTimeline.ENTRIES])}if(b.transform)for(var x in b.transform){var y=b.transform[x],z=d.findTransformConstraint(x),m=new a.TransformConstraintTimeline(y.length);m.transformConstraintIndex=d.transformConstraints.indexOf(z);for(var n=0,o=0;o<y.length;o++){var p=y[o];m.setFrame(n,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.TransformConstraintTimeline.ENTRIES])}if(b.paths)for(var x in b.paths){var y=b.paths[x],A=d.findPathConstraintIndex(x);if(A==-1)throw new Error("Path constraint not found: "+x);var B=d.pathConstraints[A];for(var k in y){var l=y[k];if("position"===k||"spacing"===k){var m=null,u=1;"spacing"===k?(m=new a.PathConstraintSpacingTimeline(l.length),B.spacingMode!=a.SpacingMode.Length&&B.spacingMode!=a.SpacingMode.Fixed||(u=e)):(m=new a.PathConstraintPositionTimeline(l.length),B.positionMode==a.PositionMode.Fixed&&(u=e)),m.pathConstraintIndex=A;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n,p.time,this.getValue(p,k,0)*u),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===k){var m=new a.PathConstraintMixTimeline(l.length);m.pathConstraintIndex=A;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.PathConstraintMixTimeline.ENTRIES])}}}if(b.deform)for(var C in b.deform){var D=b.deform[C],E=d.findSkin(C);if(null==E)throw new Error("Skin not found: "+C);for(var h in D){var i=D[h],j=d.findSlotIndex(h);if(j==-1)throw new Error("Slot not found: "+i.name);for(var k in i){var l=i[k],F=E.getAttachment(j,k);if(null==F)throw new Error("Deform attachment not found: "+l.name);var G=null!=F.bones,H=F.vertices,I=G?H.length/3*2:H.length,m=new a.DeformTimeline(l.length);m.slotIndex=j,m.attachment=F;for(var n=0,J=0;J<l.length;J++){var p=l[J],K=void 0,L=this.getValue(p,"vertices",null);if(null==L)K=G?a.Utils.newFloatArray(I):H;else{K=a.Utils.newFloatArray(I);var M=this.getValue(p,"offset",0);if(a.Utils.arrayCopy(L,0,K,M,L.length),1!=e)for(var o=M,N=o+L.length;o<N;o++)K[o]*=e;if(!G)for(var o=0;o<I;o++)K[o]+=H[o]}m.setFrame(n,p.time,K),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}}}var O=b.drawOrder;if(null==O&&(O=b.draworder),null!=O){for(var m=new a.DrawOrderTimeline(O.length),P=d.slots.length,n=0,J=0;J<O.length;J++){var Q=O[J],R=null,S=this.getValue(Q,"offsets",null);if(null!=S){R=a.Utils.newArray(P,-1);for(var T=a.Utils.newArray(P-S.length,0),U=0,V=0,o=0;o<S.length;o++){var W=S[o],j=d.findSlotIndex(W.slot);if(j==-1)throw new Error("Slot not found: "+W.slot);for(;U!=j;)T[V++]=U++;R[U+W.offset]=U++}for(;U<P;)T[V++]=U++;for(var o=P-1;o>=0;o--)R[o]==-1&&(R[o]=T[--V])}m.setFrame(n++,Q.time,R)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}if(b.events){for(var m=new a.EventTimeline(b.events.length),n=0,o=0;o<b.events.length;o++){var X=b.events[o],Y=d.findEvent(X.name);if(null==Y)throw new Error("Event not found: "+X.name);var Z=new a.Event(X.time,Y);Z.intValue=this.getValue(X,"int",Y.intValue),Z.floatValue=this.getValue(X,"float",Y.floatValue),Z.stringValue=this.getValue(X,"string",Y.stringValue),m.setFrame(n++,Z)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}if(isNaN(g))throw new Error("Error while parsing animation, duration is NaN");d.animations.push(new a.Animation(c,f,g))},b.prototype.readCurve=function(a,b,c){if(a.curve)if("stepped"===a.curve)b.setStepped(c);else if("[object Array]"===Object.prototype.toString.call(a.curve)){var d=a.curve;b.setCurve(c,d[0],d[1],d[2],d[3])}},b.prototype.getValue=function(a,b,c){return void 0!==a[b]?a[b]:c},b.blendModeFromString=function(a){if("multiply"===a)return PIXI.BLEND_MODES.MULTIPLY;if("additive"===a)return PIXI.BLEND_MODES.ADD;if("screen"===a)return PIXI.BLEND_MODES.SCREEN;if("normal"===a)return PIXI.BLEND_MODES.NORMAL;throw new Error("Unknown blend mode: "+a)},b.positionModeFromString=function(b){if("fixed"==(b=b.toLowerCase()))return a.PositionMode.Fixed;if("percent"==b)return a.PositionMode.Percent;throw new Error("Unknown position mode: "+b)},b.spacingModeFromString=function(b){if("length"==(b=b.toLowerCase()))return a.SpacingMode.Length;if("fixed"==b)return a.SpacingMode.Fixed;if("percent"==b)return a.SpacingMode.Percent;throw new Error("Unknown position mode: "+b)},b.rotateModeFromString=function(b){if("tangent"==(b=b.toLowerCase()))return a.RotateMode.Tangent;if("chain"==b)return a.RotateMode.Chain;if("chainscale"==b)return a.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+b)},b.transformModeFromString=function(b){if("normal"==(b=b.toLowerCase()))return a.TransformMode.Normal;if("onlytranslation"==b)return a.TransformMode.OnlyTranslation;if("norotationorreflection"==b)return a.TransformMode.NoRotationOrReflection;if("noscale"==b)return a.TransformMode.NoScale;if("noscaleorreflection"==b)return a.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+b)},b.transformModeLegacy=function(b,c){return console.log("Deprecation Warning: re-export your model with spine 3.5, or downgrade to pixi-spine 1.1 branch. There were many breaking changes, place breakpoint here if you want to know which model is broken"),b&&c?a.TransformMode.Normal:b?a.TransformMode.NoScaleOrReflection:c?a.TransformMode.NoRotationOrReflection:a.TransformMode.OnlyTranslation},b}();a.SkeletonJson=b;var c=function(){function a(a,b,c,d){this.mesh=a,this.skin=b,this.slotIndex=c,this.parent=d}return a}()}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){if(this.attachments=new Array,null==a)throw new Error("name cannot be null.");this.name=a}return a.prototype.addAttachment=function(a,b,c){if(null==c)throw new Error("attachment cannot be null.");var d=this.attachments;a>=d.length&&(d.length=a+1),d[a]||(d[a]={}),d[a][b]=c},a.prototype.getAttachment=function(a,b){var c=this.attachments[a];return c?c[b]:null},a.prototype.attachAll=function(a,b){for(var c=0,d=0;d<a.slots.length;d++){var e=a.slots[d],f=e.getAttachment();if(f&&c<b.attachments.length){var g=b.attachments[c];for(var h in g){if(f==g[h]){var i=this.getAttachment(c,name);null!=i&&e.setAttachment(i);break}}}c++}},a}();a.Skin=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(b,c){if(this.attachmentVertices=new Array,null==b)throw new Error("data cannot be null.");if(null==c)throw new Error("bone cannot be null.");this.data=b,this.bone=c,this.color=new a.Color,this.blendMode=b.blendMode,this.setToSetupPose()}return b.prototype.getAttachment=function(){return this.attachment},b.prototype.setAttachment=function(a){this.attachment!=a&&(this.attachment=a,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},b.prototype.setAttachmentTime=function(a){this.attachmentTime=this.bone.skeleton.time-a},b.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},b.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},b}();a.Slot=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(b,c,d){if(this.color=new a.Color(1,1,1,1),b<0)throw new Error("index must be >= 0.");if(null==c)throw new Error("name cannot be null.");if(null==d)throw new Error("boneData cannot be null.");this.index=b,this.name=c,this.boneData=d}return b}();a.SlotData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){this._image=a}return a.prototype.getImage=function(){return this._image},a.filterFromString=function(a){switch(a.toLowerCase()){case"nearest":return c.Nearest;case"linear":return c.Linear;case"mipmap":return c.MipMap;case"mipmapnearestnearest":return c.MipMapNearestNearest;case"mipmaplinearnearest":return c.MipMapLinearNearest;case"mipmapnearestlinear":return c.MipMapNearestLinear;case"mipmaplinearlinear":return c.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+a)}},a.wrapFromString=function(a){switch(a.toLowerCase()){case"mirroredtepeat":return d.MirroredRepeat;case"clamptoedge":return d.ClampToEdge;case"repeat":return d.Repeat;default:throw new Error("Unknown texture wrap "+a)}},a}();a.Texture=b;var c;!function(a){a[a.Nearest=9728]="Nearest",a[a.Linear=9729]="Linear",a[a.MipMap=9987]="MipMap",a[a.MipMapNearestNearest=9984]="MipMapNearestNearest",a[a.MipMapLinearNearest=9985]="MipMapLinearNearest",a[a.MipMapNearestLinear=9986]="MipMapNearestLinear",a[a.MipMapLinearLinear=9987]="MipMapLinearLinear"}(c=a.TextureFilter||(a.TextureFilter={}));var d;!function(a){a[a.MirroredRepeat=33648]="MirroredRepeat",a[a.ClampToEdge=33071]="ClampToEdge",a[a.Repeat=10497]="Repeat"}(d=a.TextureWrap||(a.TextureWrap={}));var e=function(){function a(){this.size=null}return Object.defineProperty(a.prototype,"width",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.crop.width:a.trim?a.trim.width:a.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.crop.height:a.trim?a.trim.height:a.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offsetX",{get:function(){var a=this.texture;return a.trim?a.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pixiOffsetY",{get:function(){var a=this.texture;return a.trim?a.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"spineOffsetY",{get:function(){var a=this.texture;return this.originalHeight-this.height-(a.trim?a.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"originalWidth",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.trim?a.trim.width:a.crop.width:a.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"originalHeight",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.trim?a.trim.height:a.crop.height:a.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),a}();a.TextureRegion=e}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a,b,c){this.pages=new Array,this.regions=new Array,a&&this.addSpineAtlas(a,b,c)}return b.prototype.addTexture=function(b,c){for(var f=this.pages,g=null,h=0;h<f.length;h++)if(f[h].baseTexture===c.baseTexture){g=f[h];break}if(null===g){g=new d,g.name="texturePage";var i=c.baseTexture;g.width=i.realWidth,g.height=i.realHeight,g.baseTexture=i,g.minFilter=g.magFilter=a.TextureFilter.Nearest,g.uWrap=a.TextureWrap.ClampToEdge,g.vWrap=a.TextureWrap.ClampToEdge,f.push(g)}var j=new e;return j.name=b,j.page=g,j.texture=c,j.index=-1,this.regions.push(j),j},b.prototype.addTextureHash=function(a,b){for(var c in a)a.hasOwnProperty(c)&&this.addTexture(b&&c.indexOf(".")!==-1?c.substr(0,c.lastIndexOf(".")):c,a[c])},b.prototype.addSpineAtlas=function(a,b,c){return this.load(a,b,c)},b.prototype.load=function(b,f,g){var h=this;if(null==f)throw new Error("textureLoader cannot be null.");var i=new c(b),j=new Array(4),k=null,l=function(){for(;;){var b=i.readLine();if(null==b)return g&&g(h);if(b=b.trim(),0==b.length)k=null;else{if(!k){k=new d,k.name=b,2==i.readTuple(j)&&(k.width=parseInt(j[0]),k.height=parseInt(j[1]),i.readTuple(j)),i.readTuple(j),k.minFilter=a.Texture.filterFromString(j[0]),k.magFilter=a.Texture.filterFromString(j[1]);var c=i.readValue();k.uWrap=a.TextureWrap.ClampToEdge,k.vWrap=a.TextureWrap.ClampToEdge,"x"==c?k.uWrap=a.TextureWrap.Repeat:"y"==c?k.vWrap=a.TextureWrap.Repeat:"xy"==c&&(k.uWrap=k.vWrap=a.TextureWrap.Repeat),f(b,function(a){k.baseTexture=a,a.hasLoaded||(a.width=k.width,a.height=k.height),h.pages.push(k),k.setFilters(),k.width&&k.height||(k.width=a.realWidth,k.height=a.realHeight,k.width&&k.height||console.log("ERROR spine atlas page "+k.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),l()}),h.pages.push(k);break}var m=new e;m.name=b,m.page=k;var n="true"==i.readValue()?6:0;i.readTuple(j);var o=parseInt(j[0]),p=parseInt(j[1]);i.readTuple(j);var q=parseInt(j[0]),r=parseInt(j[1]),s=k.baseTexture.resolution;o/=s,p/=s,q/=s,r/=s;var t=new PIXI.Rectangle(o,p,n?r:q,n?q:r);4==i.readTuple(j)&&4==i.readTuple(j)&&i.readTuple(j);var u=parseInt(j[0])/s,v=parseInt(j[1])/s;i.readTuple(j);var w=parseInt(j[0])/s,x=parseInt(j[1])/s,y=new PIXI.Rectangle(0,0,u,v),z=new PIXI.Rectangle(w,v-r-x,q,r);if("4"==PIXI.VERSION[0])m.texture=new PIXI.Texture(m.page.baseTexture,t,y,z,n);else{var A=new PIXI.Rectangle(o,p,q,r),B=A.clone();z.width=u,z.height=v,m.texture=new PIXI.Texture(m.page.baseTexture,A,B,z,n)}m.index=parseInt(i.readValue()),m.texture._updateUvs(),h.regions.push(m)}}};l()},b.prototype.findRegion=function(a){for(var b=0;b<this.regions.length;b++)if(this.regions[b].name==a)return this.regions[b];return null},b.prototype.dispose=function(){for(var a=0;a<this.pages.length;a++)this.pages[a].baseTexture.dispose()},b}();a.TextureAtlas=b;var c=function(){function a(a){this.index=0,this.lines=a.split(/\r\n|\r|\n/)}return a.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},a.prototype.readValue=function(){var a=this.readLine(),b=a.indexOf(":");if(b==-1)throw new Error("Invalid line: "+a);return a.substring(b+1).trim()},a.prototype.readTuple=function(a){var b=this.readLine(),c=b.indexOf(":");if(c==-1)throw new Error("Invalid line: "+b);for(var d=0,e=c+1;d<3;d++){var f=b.indexOf(",",e);if(f==-1)break;a[d]=b.substr(e,f-e).trim(),e=f+1}return a[d]=b.substring(e).trim(),d+1},a}(),d=function(){function b(){}return b.prototype.setFilters=function(){var b=this.baseTexture,c=this.minFilter;c==a.TextureFilter.Linear?b.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==a.TextureFilter.Nearest?b.scaleMode=PIXI.SCALE_MODES.NEAREST:(b.mipmap=!0,c==a.TextureFilter.MipMapNearestNearest?b.scaleMode=PIXI.SCALE_MODES.NEAREST:b.scaleMode=PIXI.SCALE_MODES.LINEAR)},b}();a.TextureAtlasPage=d;var e=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b}(a.TextureRegion);a.TextureAtlasRegion=e}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(b,c){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new a.Vector2,null==b)throw new Error("data cannot be null.");if(null==c)throw new Error("skeleton cannot be null.");this.data=b,this.rotateMix=b.rotateMix,this.translateMix=b.translateMix,this.scaleMix=b.scaleMix,this.shearMix=b.shearMix,this.bones=new Array;for(var d=0;d<b.bones.length;d++)this.bones.push(c.findBone(b.bones[d].name));this.target=c.findBone(b.target.name)}return b.prototype.apply=function(){this.update()},b.prototype.update=function(){for(var b=this.rotateMix,c=this.translateMix,d=this.scaleMix,e=this.shearMix,f=this.target,g=f.matrix.a,h=f.matrix.c,i=f.matrix.b,j=f.matrix.d,k=this.bones,l=0,m=k.length;l<m;l++){var n=k[l],o=n.matrix,p=!1;if(0!=b){var q=o.a,r=o.c,s=o.b,t=o.d,u=Math.atan2(i,g)-Math.atan2(s,q)+this.data.offsetRotation*a.MathUtils.degRad;u>a.MathUtils.PI?u-=a.MathUtils.PI2:u<-a.MathUtils.PI&&(u+=a.MathUtils.PI2),u*=b;var v=Math.cos(u),w=Math.sin(u);o.a=v*q-w*s,o.c=v*r-w*t,o.b=w*q+v*s,o.d=w*r+v*t,p=!0}if(0!=c){var x=this.temp;f.localToWorld(x.set(this.data.offsetX,this.data.offsetY)),o.tx+=(x.x-o.tx)*c,o.ty+=(x.y-o.ty)*c,p=!0}if(d>0){var y=Math.sqrt(o.a*o.a+o.b*o.b),z=Math.sqrt(g*g+i*i);y>1e-5&&(y=(y+(z-y+this.data.offsetScaleX)*d)/y),o.a*=y,o.b*=y,y=Math.sqrt(o.c*o.c+o.d*o.d),z=Math.sqrt(h*h+j*j),y>1e-5&&(y=(y+(z-y+this.data.offsetScaleY)*d)/y),o.c*=y,o.d*=y,p=!0}if(e>0){var r=o.c,t=o.d,A=Math.atan2(t,r),u=Math.atan2(j,h)-Math.atan2(i,g)-(A-Math.atan2(o.b,o.a));u>a.MathUtils.PI?u-=a.MathUtils.PI2:u<-a.MathUtils.PI&&(u+=a.MathUtils.PI2),u=A+(u+this.data.offsetShearY*a.MathUtils.degRad)*e;var y=Math.sqrt(r*r+t*t);o.c=Math.cos(u)*y,o.d=Math.sin(u)*y,p=!0}p&&(n.appliedValid=!1)}},b.prototype.getOrder=function(){return this.data.order},b}();a.TransformConstraint=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,null==a)throw new Error("name cannot be null.");this.name=a}return a}();a.TransformConstraintData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(){this.array=new Array}return a.prototype.add=function(a){var b=this.contains(a);return this.array[0|a]=0|a,!b},a.prototype.contains=function(a){return void 0!=this.array[0|a]},a.prototype.remove=function(a){this.array[0|a]=void 0},a.prototype.clear=function(){this.array.length=0},a}();a.IntSet=b;var c=function(){function a(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.r=a,this.g=b,this.b=c,this.a=d}return a.prototype.set=function(a,b,c,d){return this.r=a,this.g=b,this.b=c,this.a=d,this.clamp(),this},a.prototype.setFromColor=function(a){return this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this},a.prototype.setFromString=function(a){return a="#"==a.charAt(0)?a.substr(1):a,this.r=parseInt(a.substr(0,2),16)/255,this.g=parseInt(a.substr(2,2),16)/255,this.b=parseInt(a.substr(4,2),16)/255,this.a=(8!=a.length?255:parseInt(a.substr(6,2),16))/255,this},a.prototype.add=function(a,b,c,d){return this.r+=a,this.g+=b,this.b+=c,this.a+=d,this.clamp(),this},a.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},a}();c.WHITE=new c(1,1,1,1),c.RED=new c(1,0,0,1),c.GREEN=new c(0,1,0,1),c.BLUE=new c(0,0,1,1),c.MAGENTA=new c(1,0,1,1),a.Color=c;var d=function(){function a(){}return a.clamp=function(a,b,c){return a<b?b:a>c?c:a},a.cosDeg=function(b){return Math.cos(b*a.degRad)},a.sinDeg=function(b){return Math.sin(b*a.degRad)},a.signum=function(a){return a>0?1:a<0?-1:0},a.toInt=function(a){return a>0?Math.floor(a):Math.ceil(a)},a.cbrt=function(a){var b=Math.pow(Math.abs(a),1/3);return a<0?-b:b},a}();d.PI=3.1415927,d.PI2=2*d.PI,d.radiansToDegrees=180/d.PI,d.radDeg=d.radiansToDegrees,d.degreesToRadians=d.PI/180,d.degRad=d.degreesToRadians,a.MathUtils=d;var e=function(){function a(){}return a.arrayCopy=function(a,b,c,d,e){for(var f=b,g=d;f<b+e;f++,g++)c[g]=a[f]},a.setArraySize=function(a,b,c){void 0===c&&(c=0);var d=a.length;if(d==b)return a;if(a.length=b,d<b)for(var e=d;e<b;e++)a[e]=c;return a},a.ensureArrayCapacity=function(b,c,d){return void 0===d&&(d=0),b.length>=c?b:a.setArraySize(b,c,d)},a.newArray=function(a,b){for(var c=new Array(a),d=0;d<a;d++)c[d]=b;return c},a.newFloatArray=function(b){if(a.SUPPORTS_TYPED_ARRAYS)return new Float32Array(b);for(var c=new Array(b),d=0;d<c.length;d++)c[d]=0;return c},a.toFloatArray=function(b){return a.SUPPORTS_TYPED_ARRAYS?new Float32Array(b):b},a}();e.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,a.Utils=e;var f=function(){function a(){}return a.logBones=function(a){for(var b=0;b<a.bones.length;b++){var c=a.bones[b],d=c.matrix;console.log(c.data.name+", "+d.a+", "+d.b+", "+d.c+", "+d.d+", "+d.tx+", "+d.ty)}},a}();a.DebugUtils=f;var g=function(){function a(a){this.items=new Array,this.instantiator=a}return a.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},a.prototype.free=function(a){a.reset&&a.reset(),this.items.push(a)},a.prototype.freeAll=function(a){for(var b=0;b<a.length;b++)a[b].reset&&a[b].reset(),this.items[b]=a[b]},a.prototype.clear=function(){this.items.length=0},a}();a.Pool=g;var h=function(){function a(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this.x=a,this.y=b}return a.prototype.set=function(a,b){return this.x=a,this.y=b,this},a.prototype.length=function(){var a=this.x,b=this.y;return Math.sqrt(a*a+b*b)},a.prototype.normalize=function(){var a=this.length();return 0!=a&&(this.x/=a,this.y/=a),this},a}();a.Vector2=h;var i=function(){function a(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return a.prototype.update=function(){var a=Date.now()/1e3;this.delta=a-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=a,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},a}();a.TimeKeeper=i}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){function b(a){var b=PIXI.loaders.Resource.TYPE;return b?a.type===b.JSON:a.isJson}function c(){return function(c,e){if(!c.data||!b(c)||!c.data.bones)return e();var f=c.metadata?c.metadata.spineSkeletonScale:null,g=c.metadata?c.metadata.spineAtlas:null;if(g===!1)return e();if(g&&g.pages){var h=new a.core.SkeletonJson(new a.core.AtlasAttachmentLoader(g)),i=h.readSkeletonData(c.data);return c.spineData=i,c.spineAtlas=g,e()}var j=".atlas";c.metadata&&c.metadata.spineAtlasSuffix&&(j=c.metadata.spineAtlasSuffix);var k=c.url.substr(0,c.url.lastIndexOf("."))+j;k=k.replace(this.baseUrl,"");var l={crossOrigin:c.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:c.metadata?c.metadata.spineMetadata:null,parentResource:c},m={crossOrigin:c.crossOrigin,metadata:c.metadata?c.metadata.imageMetadata:null,parentResource:c},n=c.url.substr(0,c.url.lastIndexOf("/")+1);n=n.replace(this.baseUrl,"");var o=d(this,c.name+"_atlas_page_",n,m);this.add(c.name+"_atlas",k,l,function(b){new a.core.TextureAtlas(b.xhr.responseText,o,function(b){var d=new a.core.SkeletonJson(new a.core.AtlasAttachmentLoader(b));f&&(d.scale=f);var g=d.readSkeletonData(c.data);c.spineData=g,c.spineAtlas=b,e()})})}}function d(a,b,c,d){return c&&c.lastIndexOf("/")!==c.length-1&&(c+="/"),function(e,f){var g=b+e,h=c+e;a.add(g,h,d,function(a){f(a.texture.baseTexture)})}}function e(a,b){
return a&&a.lastIndexOf("/")!==a.length-1&&(a+="/"),function(a,c){c(PIXI.BaseTexture.fromImage(a,b))}}a.atlasParser=c,a.imageLoaderAdapter=d,a.syncImageLoaderAdapter=e,PIXI.loaders.Loader.addPixiMiddleware(c),PIXI.loader.use(c())}(pixi_spine||(pixi_spine={})),function(a){function b(){var a=this.parent.worldTransform,b=this.worldTransform,c=this.localTransform;b.a=c.a*a.a+c.b*a.c,b.b=c.a*a.b+c.b*a.d,b.c=c.c*a.a+c.d*a.c,b.d=c.c*a.b+c.d*a.d,b.tx=c.tx*a.a+c.ty*a.c+a.tx,b.ty=c.tx*a.b+c.ty*a.d+a.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}a.core.Bone.yDown=!0;var c=[0,0,0],d=function(a){function b(b){return a.call(this,b)||this}return __extends(b,a),b}(PIXI.Sprite);a.SpineSprite=d;var e=function(a){function b(b,c,d,e,f){return a.call(this,b,c,d,e,f)||this}return __extends(b,a),b}(PIXI.mesh.Mesh);a.SpineMesh=e;var f=function(f){function g(b){var c=f.call(this)||this;if(c.hackTextureBySlotName=function(a,b,c){void 0===b&&(b=null),void 0===c&&(c=null);var d=this.skeleton.findSlotIndex(a);return d!=-1&&this.hackTextureBySlotIndex(d,b,c)},!b)throw new Error("The spineData param is required.");if("string"==typeof b)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');c.spineData=b,c.skeleton=new a.core.Skeleton(b),c.skeleton.updateWorldTransform(),c.stateData=new a.core.AnimationStateData(b),c.state=new a.core.AnimationState(c.stateData),c.slotContainers=[];for(var d=0,e=c.skeleton.slots.length;d<e;d++){var g=c.skeleton.slots[d],h=g.attachment,i=new PIXI.Container;if(c.slotContainers.push(i),c.addChild(i),h instanceof a.core.RegionAttachment){var j=h.region.name,k=c.createSprite(g,h,j);g.currentSprite=k,g.currentSpriteName=j,i.addChild(k)}else{if(!(h instanceof a.core.MeshAttachment))continue;var l=c.createMesh(g,h);g.currentMesh=l,g.currentMeshName=h.name,i.addChild(l)}}return c.autoUpdate=!0,c.tintRgb=new Float32Array([1,1,1]),c}return __extends(g,f),Object.defineProperty(g.prototype,"autoUpdate",{get:function(){return this.updateTransform===g.prototype.autoUpdateTransform},set:function(a){this.updateTransform=a?g.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=PIXI.utils.hex2rgb(a,this.tintRgb)},enumerable:!0,configurable:!0}),g.prototype.update=function(d){this.state.update(d),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.drawOrder,f=this.skeleton.slots,g=0,h=e.length;g<h;g++)this.children[g]=this.slotContainers[e[g].data.index];var i=this.tintRgb[0],j=this.tintRgb[1],k=this.tintRgb[2];for(g=0,h=f.length;g<h;g++){var l=f[g],m=l.attachment,n=this.slotContainers[g];if(m){var o=m.color;if(m instanceof a.core.RegionAttachment){var p=m.region;if(p){l.currentMesh&&(l.currentMesh.visible=!1,l.currentMesh=null,l.currentMeshName=void 0);var q=p;if(!l.currentSpriteName||l.currentSpriteName!==q.name){var r=q.name;if(l.currentSprite&&(l.currentSprite.visible=!1),l.sprites=l.sprites||{},void 0!==l.sprites[r])l.sprites[r].visible=!0;else{var s=this.createSprite(l,m,r);n.addChild(s)}l.currentSprite=l.sprites[r],l.currentSpriteName=r}}if(n.transform){var t=n.transform,u=t,v=void 0;u.matrix2d?(v=u.matrix2d,u._dirtyVersion++,u.version=u._dirtyVersion,u.isStatic=!0,u.operMode=0):(u.position&&(t=new PIXI.TransformBase,n.transform=t),v=t.localTransform),l.bone.matrix.copy(v)}else{var w=n.localTransform||new PIXI.Matrix;l.bone.matrix.copy(w),n.localTransform=w,n.displayObjectUpdateTransform=b}c[0]=i*l.color.r*o.r,c[1]=j*l.color.g*o.g,c[2]=k*l.color.b*o.b,l.currentSprite.tint=PIXI.utils.rgb2hex(c),l.currentSprite.blendMode=l.blendMode}else{if(!(m instanceof a.core.MeshAttachment)){n.visible=!1;continue}if(l.currentSprite&&(l.currentSprite.visible=!1,l.currentSprite=null,l.currentSpriteName=void 0,n.transform?n.transform=new PIXI.TransformStatic:(n.localTransform=new PIXI.Matrix,n.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform)),!l.currentMeshName||l.currentMeshName!==m.name){var x=m.name;if(l.currentMesh&&(l.currentMesh.visible=!1),l.meshes=l.meshes||{},void 0!==l.meshes[x])l.meshes[x].visible=!0;else{var y=this.createMesh(l,m);n.addChild(y)}l.currentMesh=l.meshes[x],l.currentMeshName=x}if(m.computeWorldVertices(l,l.currentMesh.vertices),"3"!==PIXI.VERSION[0]){var z=l.currentMesh.tintRgb;z[0]=i*l.color.r*o.r,z[1]=j*l.color.g*o.g,z[2]=k*l.color.b*o.b}l.currentMesh.blendMode=l.blendMode}n.visible=!0,n.alpha=l.color.a}else n.visible=!1}},g.prototype.setSpriteRegion=function(a,b,c){b.region=c,b.texture=c.texture,c.size?(b.scale.x=c.size.width/c.originalWidth,b.scale.y=-c.size.height/c.originalHeight):(b.scale.x=a.scaleX*a.width/c.originalWidth,b.scale.y=-a.scaleY*a.height/c.originalHeight)},g.prototype.setMeshRegion=function(a,b,c){b.region=c,b.texture=c.texture,a.updateUVs(c,b.uvs),b.dirty++},g.prototype.autoUpdateTransform=function(){if(g.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var a=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(a)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},g.prototype.createSprite=function(b,c,e){var f=c.region;b.tempAttachment===c&&(f=b.tempRegion,b.tempAttachment=null,b.tempRegion=null);var g=f.texture,h=new d(g);return h.rotation=c.rotation*a.core.MathUtils.degRad,h.anchor.x=.5,h.anchor.y=.5,h.position.x=c.x,h.position.y=c.y,h.alpha=c.color.a,h.region=c.region,this.setSpriteRegion(c,h,c.region),b.sprites=b.sprites||{},b.sprites[e]=h,h},g.prototype.createMesh=function(a,b){var c=b.region;a.tempAttachment===b&&(c=a.tempRegion,a.tempAttachment=null,a.tempRegion=null);var d=new e(c.texture,new Float32Array(b.regionUVs.length),new Float32Array(b.regionUVs.length),new Uint16Array(b.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return d.canvasPadding=1.5,d.alpha=b.color.a,d.region=b.region,this.setMeshRegion(b,d,c),a.meshes=a.meshes||{},a.meshes[b.name]=d,d},g.prototype.hackTextureBySlotIndex=function(b,c,d){void 0===c&&(c=null),void 0===d&&(d=null);var e=this.skeleton.slots[b];if(!e)return!1;var f=e.attachment,g=f.region;return c&&(g=new a.core.TextureRegion,g.texture=c,g.size=d),e.currentSprite&&e.currentSprite.region!=g?(this.setSpriteRegion(f,e.currentSprite,g),e.currentSprite.region=g):e.currentMesh&&e.currentMesh.region!=g?this.setMeshRegion(f,e.currentMesh,g):(e.tempRegion=g,e.tempAttachment=f),!0},g}(PIXI.Container);f.globalAutoUpdate=!0,a.Spine=f}(pixi_spine||(pixi_spine={})),PIXI.spine=pixi_spine,function(a){if("object"==typeof exports)module.exports=a();else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.p2=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){}var e=a("./Scalar");b.exports=d,d.lineInt=function(a,b,c){c=c||0;var d,f,g,h,i,j,k,l=[0,0];return d=a[1][1]-a[0][1],f=a[0][0]-a[1][0],g=d*a[0][0]+f*a[0][1],h=b[1][1]-b[0][1],i=b[0][0]-b[1][0],j=h*b[0][0]+i*b[0][1],k=d*i-h*f,e.eq(k,0,c)||(l[0]=(i*g-f*j)/k,l[1]=(d*j-h*g)/k),l},d.segmentsIntersect=function(a,b,c,d){var e=b[0]-a[0],f=b[1]-a[1],g=d[0]-c[0],h=d[1]-c[1];if(g*f-h*e==0)return!1;var i=(e*(c[1]-a[1])+f*(a[0]-c[0]))/(g*f-h*e),j=(g*(a[1]-c[1])+h*(c[0]-a[0]))/(h*e-g*f);return i>=0&&i<=1&&j>=0&&j<=1}},{"./Scalar":4}],2:[function(a,b,c){function d(){}b.exports=d,d.area=function(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(c[0]-a[0])*(b[1]-a[1])},d.left=function(a,b,c){return d.area(a,b,c)>0},d.leftOn=function(a,b,c){return d.area(a,b,c)>=0},d.right=function(a,b,c){return d.area(a,b,c)<0},d.rightOn=function(a,b,c){return d.area(a,b,c)<=0};var e=[],f=[];d.collinear=function(a,b,c,g){if(g){var h=e,i=f;h[0]=b[0]-a[0],h[1]=b[1]-a[1],i[0]=c[0]-b[0],i[1]=c[1]-b[1];var j=h[0]*i[0]+h[1]*i[1],k=Math.sqrt(h[0]*h[0]+h[1]*h[1]),l=Math.sqrt(i[0]*i[0]+i[1]*i[1]);return Math.acos(j/(k*l))<g}return 0==d.area(a,b,c)},d.sqdist=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d}},{}],3:[function(a,b,c){function d(){this.vertices=[]}function e(a,b,c,d,e){e=e||0;var f=b[1]-a[1],g=a[0]-b[0],i=f*a[0]+g*a[1],j=d[1]-c[1],k=c[0]-d[0],l=j*c[0]+k*c[1],m=f*k-j*g;return h.eq(m,0,e)?[0,0]:[(k*i-g*l)/m,(f*l-j*i)/m]}var f=a("./Line"),g=a("./Point"),h=a("./Scalar");b.exports=d,d.prototype.at=function(a){var b=this.vertices,c=b.length;return b[a<0?a%c+c:a%c]},d.prototype.first=function(){return this.vertices[0]},d.prototype.last=function(){return this.vertices[this.vertices.length-1]},d.prototype.clear=function(){this.vertices.length=0},d.prototype.append=function(a,b,c){if(void 0===b)throw new Error("From is not given!");if(void 0===c)throw new Error("To is not given!");if(c-1<b)throw new Error("lol1");if(c>a.vertices.length)throw new Error("lol2");if(b<0)throw new Error("lol3");for(var d=b;d<c;d++)this.vertices.push(a.vertices[d])},d.prototype.makeCCW=function(){for(var a=0,b=this.vertices,c=1;c<this.vertices.length;++c)(b[c][1]<b[a][1]||b[c][1]==b[a][1]&&b[c][0]>b[a][0])&&(a=c);g.left(this.at(a-1),this.at(a),this.at(a+1))||this.reverse()},d.prototype.reverse=function(){for(var a=[],b=0,c=this.vertices.length;b!==c;b++)a.push(this.vertices.pop());this.vertices=a},d.prototype.isReflex=function(a){return g.right(this.at(a-1),this.at(a),this.at(a+1))};var i=[],j=[];d.prototype.canSee=function(a,b){var c,d,e=i,h=j;if(g.leftOn(this.at(a+1),this.at(a),this.at(b))&&g.rightOn(this.at(a-1),this.at(a),this.at(b)))return!1;d=g.sqdist(this.at(a),this.at(b));for(var k=0;k!==this.vertices.length;++k)if((k+1)%this.vertices.length!==a&&k!==a&&g.leftOn(this.at(a),this.at(b),this.at(k+1))&&g.rightOn(this.at(a),this.at(b),this.at(k))&&(e[0]=this.at(a),e[1]=this.at(b),h[0]=this.at(k),h[1]=this.at(k+1),c=f.lineInt(e,h),g.sqdist(this.at(a),c)<d))return!1;return!0},d.prototype.copy=function(a,b,c){var e=c||new d;if(e.clear(),a<b)for(var f=a;f<=b;f++)e.vertices.push(this.vertices[f]);else{for(var f=0;f<=b;f++)e.vertices.push(this.vertices[f]);for(var f=a;f<this.vertices.length;f++)e.vertices.push(this.vertices[f])}return e},d.prototype.getCutEdges=function(){for(var a=[],b=[],c=[],e=new d,f=Number.MAX_VALUE,g=0;g<this.vertices.length;++g)if(this.isReflex(g))for(var h=0;h<this.vertices.length;++h)if(this.canSee(g,h)){b=this.copy(g,h,e).getCutEdges(),c=this.copy(h,g,e).getCutEdges();for(var i=0;i<c.length;i++)b.push(c[i]);b.length<f&&(a=b,f=b.length,a.push([this.at(g),this.at(h)]))}return a},d.prototype.decomp=function(){var a=this.getCutEdges();return a.length>0?this.slice(a):[this]},d.prototype.slice=function(a){if(0==a.length)return[this];if(a instanceof Array&&a.length&&a[0]instanceof Array&&2==a[0].length&&a[0][0]instanceof Array){for(var b=[this],c=0;c<a.length;c++)for(var d=a[c],e=0;e<b.length;e++){var f=b[e],g=f.slice(d);if(g){b.splice(e,1),b.push(g[0],g[1]);break}}return b}var d=a,c=this.vertices.indexOf(d[0]),e=this.vertices.indexOf(d[1]);return c!=-1&&e!=-1&&[this.copy(c,e),this.copy(e,c)]},d.prototype.isSimple=function(){for(var a=this.vertices,b=0;b<a.length-1;b++)for(var c=0;c<b-1;c++)if(f.segmentsIntersect(a[b],a[b+1],a[c],a[c+1]))return!1;for(var b=1;b<a.length-2;b++)if(f.segmentsIntersect(a[0],a[a.length-1],a[b],a[b+1]))return!1;return!0},d.prototype.quickDecomp=function(a,b,c,f,h,i){h=h||100,i=i||0,f=f||25,a=void 0!==a?a:[],b=b||[],c=c||[];var j=[0,0],k=[0,0],l=[0,0],m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=new d,u=new d,v=this,w=this.vertices;if(w.length<3)return a;if(++i>h)return console.warn("quickDecomp: max level ("+h+") reached."),a;for(var x=0;x<this.vertices.length;++x)if(v.isReflex(x)){b.push(v.vertices[x]),m=n=Number.MAX_VALUE;for(var y=0;y<this.vertices.length;++y)g.left(v.at(x-1),v.at(x),v.at(y))&&g.rightOn(v.at(x-1),v.at(x),v.at(y-1))&&(l=e(v.at(x-1),v.at(x),v.at(y),v.at(y-1)),g.right(v.at(x+1),v.at(x),l)&&(o=g.sqdist(v.vertices[x],l))<n&&(n=o,k=l,r=y)),g.left(v.at(x+1),v.at(x),v.at(y+1))&&g.rightOn(v.at(x+1),v.at(x),v.at(y))&&(l=e(v.at(x+1),v.at(x),v.at(y),v.at(y+1)),g.left(v.at(x-1),v.at(x),l)&&(o=g.sqdist(v.vertices[x],l))<m&&(m=o,j=l,q=y));if(r==(q+1)%this.vertices.length)l[0]=(k[0]+j[0])/2,l[1]=(k[1]+j[1])/2,c.push(l),x<q?(t.append(v,x,q+1),t.vertices.push(l),u.vertices.push(l),0!=r&&u.append(v,r,v.vertices.length),u.append(v,0,x+1)):(0!=x&&t.append(v,x,v.vertices.length),t.append(v,0,q+1),t.vertices.push(l),u.vertices.push(l),u.append(v,r,x+1));else{if(r>q&&(q+=this.vertices.length),p=Number.MAX_VALUE,q<r)return a;for(var y=r;y<=q;++y)g.leftOn(v.at(x-1),v.at(x),v.at(y))&&g.rightOn(v.at(x+1),v.at(x),v.at(y))&&(o=g.sqdist(v.at(x),v.at(y)))<p&&(p=o,s=y%this.vertices.length);x<s?(t.append(v,x,s+1),0!=s&&u.append(v,s,w.length),u.append(v,0,x+1)):(0!=x&&t.append(v,x,w.length),t.append(v,0,s+1),u.append(v,s,x+1))}return t.vertices.length<u.vertices.length?(t.quickDecomp(a,b,c,f,h,i),u.quickDecomp(a,b,c,f,h,i)):(u.quickDecomp(a,b,c,f,h,i),t.quickDecomp(a,b,c,f,h,i)),a}return a.push(this),a},d.prototype.removeCollinearPoints=function(a){for(var b=0,c=this.vertices.length-1;this.vertices.length>3&&c>=0;--c)g.collinear(this.at(c-1),this.at(c),this.at(c+1),a)&&(this.vertices.splice(c%this.vertices.length,1),c--,b++);return b}},{"./Line":1,"./Point":2,"./Scalar":4}],4:[function(a,b,c){function d(){}b.exports=d,d.eq=function(a,b,c){return c=c||0,Math.abs(a-b)<c}},{}],5:[function(a,b,c){b.exports={Polygon:a("./Polygon"),Point:a("./Point")}},{"./Point":2,"./Polygon":3}],6:[function(a,b,c){b.exports={name:"p2",version:"0.7.0",description:"A JavaScript 2D physics engine.",author:"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)",keywords:["p2.js","p2","physics","engine","2d"],main:"./src/p2.js",engines:{node:"*"},repository:{type:"git",url:"https://github.com/schteppe/p2.js.git"},bugs:{url:"https://github.com/schteppe/p2.js/issues"},licenses:[{type:"MIT"}],devDependencies:{grunt:"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},dependencies:{"poly-decomp":"0.1.0"}}},{}],7:[function(a,b,c){function d(a){this.lowerBound=e.create(),a&&a.lowerBound&&e.copy(this.lowerBound,a.lowerBound),this.upperBound=e.create(),a&&a.upperBound&&e.copy(this.upperBound,a.upperBound)}var e=a("../math/vec2");a("../utils/Utils");b.exports=d;var f=e.create();d.prototype.setFromPoints=function(a,b,c,d){var g=this.lowerBound,h=this.upperBound;"number"!=typeof c&&(c=0),0!==c?e.rotate(g,a[0],c):e.copy(g,a[0]),e.copy(h,g);for(var i=Math.cos(c),j=Math.sin(c),k=1;k<a.length;k++){var l=a[k];if(0!==c){var m=l[0],n=l[1];f[0]=i*m-j*n,f[1]=j*m+i*n,l=f}for(var o=0;o<2;o++)l[o]>h[o]&&(h[o]=l[o]),l[o]<g[o]&&(g[o]=l[o])}b&&(e.add(this.lowerBound,this.lowerBound,b),e.add(this.upperBound,this.upperBound,b)),d&&(this.lowerBound[0]-=d,this.lowerBound[1]-=d,this.upperBound[0]+=d,this.upperBound[1]+=d)},d.prototype.copy=function(a){e.copy(this.lowerBound,a.lowerBound),e.copy(this.upperBound,a.upperBound)},d.prototype.extend=function(a){for(var b=2;b--;){var c=a.lowerBound[b];this.lowerBound[b]>c&&(this.lowerBound[b]=c);var d=a.upperBound[b];this.upperBound[b]<d&&(this.upperBound[b]=d)}},d.prototype.overlaps=function(a){var b=this.lowerBound,c=this.upperBound,d=a.lowerBound,e=a.upperBound;return(d[0]<=c[0]&&c[0]<=e[0]||b[0]<=e[0]&&e[0]<=c[0])&&(d[1]<=c[1]&&c[1]<=e[1]||b[1]<=e[1]&&e[1]<=c[1])},d.prototype.containsPoint=function(a){var b=this.lowerBound,c=this.upperBound;return b[0]<=a[0]&&a[0]<=c[0]&&b[1]<=a[1]&&a[1]<=c[1]},d.prototype.overlapsRay=function(a){var b=1/a.direction[0],c=1/a.direction[1],d=(this.lowerBound[0]-a.from[0])*b,e=(this.upperBound[0]-a.from[0])*b,f=(this.lowerBound[1]-a.from[1])*c,g=(this.upperBound[1]-a.from[1])*c,h=Math.max(Math.max(Math.min(d,e),Math.min(f,g))),i=Math.min(Math.min(Math.max(d,e),Math.max(f,g)));return i<0?-1:h>i?-1:h}},{"../math/vec2":30,"../utils/Utils":57}],8:[function(a,b,c){function d(a){this.type=a,this.result=[],this.world=null,this.boundingVolumeType=d.AABB}var e=a("../math/vec2"),f=a("../objects/Body");b.exports=d,d.AABB=1,d.BOUNDING_CIRCLE=2,d.prototype.setWorld=function(a){this.world=a},d.prototype.getCollisionPairs=function(a){};var g=e.create();d.boundingRadiusCheck=function(a,b){e.sub(g,a.position,b.position);var c=e.squaredLength(g),d=a.boundingRadius+b.boundingRadius;return c<=d*d},d.aabbCheck=function(a,b){return a.getAABB().overlaps(b.getAABB())},d.prototype.boundingVolumeCheck=function(a,b){var c;switch(this.boundingVolumeType){case d.BOUNDING_CIRCLE:c=d.boundingRadiusCheck(a,b);break;case d.AABB:c=d.aabbCheck(a,b);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return c},d.canCollide=function(a,b){var c=f.KINEMATIC,d=f.STATIC;return(a.type!==d||b.type!==d)&&(!(a.type===c&&b.type===d||a.type===d&&b.type===c)&&((a.type!==c||b.type!==c)&&((a.sleepState!==f.SLEEPING||b.sleepState!==f.SLEEPING)&&!(a.sleepState===f.SLEEPING&&b.type===d||b.sleepState===f.SLEEPING&&a.type===d))))},d.NAIVE=1,d.SAP=2},{"../math/vec2":30,"../objects/Body":31}],9:[function(a,b,c){function d(){e.call(this,e.NAIVE)}var e=(a("../shapes/Circle"),a("../shapes/Plane"),a("../shapes/Shape"),a("../shapes/Particle"),a("../collision/Broadphase"));a("../math/vec2");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.getCollisionPairs=function(a){var b=a.bodies,c=this.result;c.length=0;for(var d=0,f=b.length;d!==f;d++)for(var g=b[d],h=0;h<d;h++){var i=b[h];e.canCollide(g,i)&&this.boundingVolumeCheck(g,i)&&c.push(g,i)}return c},d.prototype.aabbQuery=function(a,b,c){c=c||[];for(var d=a.bodies,e=0;e<d.length;e++){var f=d[e];f.aabbNeedsUpdate&&f.updateAABB(),f.aabb.overlaps(b)&&c.push(f)}return c}},{"../collision/Broadphase":8,"../math/vec2":30,"../shapes/Circle":39,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45}],10:[function(a,b,c){function d(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new k({size:32}),this.frictionEquationPool=new l({size:64}),this.restitution=0,this.stiffness=n.DEFAULT_STIFFNESS,this.relaxation=n.DEFAULT_RELAXATION,this.frictionStiffness=n.DEFAULT_STIFFNESS,this.frictionRelaxation=n.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new m,this.contactSkinSize=.01}function e(a,b){g.set(a.vertices[0],.5*-b.length,-b.radius),g.set(a.vertices[1],.5*b.length,-b.radius),g.set(a.vertices[2],.5*b.length,b.radius),g.set(a.vertices[3],.5*-b.length,b.radius)}function f(a,b,c,d){for(var e=T,f=U,j=V,k=W,l=a,m=b.vertices,n=null,o=0;o!==m.length+1;o++){var p=m[o%m.length],q=m[(o+1)%m.length];g.rotate(e,p,d),g.rotate(f,q,d),i(e,e,c),i(f,f,c),h(j,e,l),h(k,f,l);var r=g.crossLength(j,k);if(null===n&&(n=r),r*n<=0)return!1;n=r}return!0}var g=a("../math/vec2"),h=g.sub,i=g.add,j=g.dot,k=(a("../utils/Utils"),a("../utils/ContactEquationPool")),l=a("../utils/FrictionEquationPool"),m=a("../utils/TupleDictionary"),n=a("../equations/Equation"),o=(a("../equations/ContactEquation"),a("../equations/FrictionEquation"),a("../shapes/Circle")),p=a("../shapes/Convex"),q=a("../shapes/Shape"),r=(a("../objects/Body"),a("../shapes/Box"));b.exports=d;var s=g.fromValues(0,1),t=g.fromValues(0,0),u=g.fromValues(0,0),v=g.fromValues(0,0),w=g.fromValues(0,0),x=g.fromValues(0,0),y=g.fromValues(0,0),z=g.fromValues(0,0),A=g.fromValues(0,0),B=g.fromValues(0,0),C=g.fromValues(0,0),D=g.fromValues(0,0),E=g.fromValues(0,0),F=g.fromValues(0,0),G=g.fromValues(0,0),H=g.fromValues(0,0),I=g.fromValues(0,0),J=g.fromValues(0,0),K=g.fromValues(0,0),L=[],M=g.create(),N=g.create();d.prototype.bodiesOverlap=function(a,b){for(var c=M,d=N,e=0,f=a.shapes.length;e!==f;e++){var g=a.shapes[e];a.toWorldFrame(c,g.position);for(var h=0,i=b.shapes.length;h!==i;h++){var j=b.shapes[h];if(b.toWorldFrame(d,j.position),this[g.type|j.type](a,g,c,g.angle+a.angle,b,j,d,j.angle+b.angle,!0))return!0}}return!1},d.prototype.collidedLastStep=function(a,b){var c=0|a.id,d=0|b.id;return!!this.collidingBodiesLastStep.get(c,d)},d.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var a=this.contactEquations,b=a.length;b--;){var c=a[b],d=c.bodyA.id,e=c.bodyB.id;this.collidingBodiesLastStep.set(d,e,!0)}for(var f=this.contactEquations,g=this.frictionEquations,h=0;h<f.length;h++)this.contactEquationPool.release(f[h]);for(var h=0;h<g.length;h++)this.frictionEquationPool.release(g[h]);this.contactEquations.length=this.frictionEquations.length=0},d.prototype.createContactEquation=function(a,b,c,d){var e=this.contactEquationPool.get();return e.bodyA=a,e.bodyB=b,e.shapeA=c,e.shapeB=d,e.restitution=this.restitution,e.firstImpact=!this.collidedLastStep(a,b),e.stiffness=this.stiffness,e.relaxation=this.relaxation,e.needsUpdate=!0,e.enabled=this.enabledEquations,e.offset=this.contactSkinSize,e},d.prototype.createFrictionEquation=function(a,b,c,d){var e=this.frictionEquationPool.get();return e.bodyA=a,e.bodyB=b,e.shapeA=c,e.shapeB=d,e.setSlipForce(this.slipForce),e.frictionCoefficient=this.frictionCoefficient,e.relativeVelocity=this.surfaceVelocity,e.enabled=this.enabledEquations,e.needsUpdate=!0,e.stiffness=this.frictionStiffness,e.relaxation=this.frictionRelaxation,e.contactEquations.length=0,e},d.prototype.createFrictionFromContact=function(a){var b=this.createFrictionEquation(a.bodyA,a.bodyB,a.shapeA,a.shapeB);return g.copy(b.contactPointA,a.contactPointA),g.copy(b.contactPointB,a.contactPointB),g.rotate90cw(b.t,a.normalA),b.contactEquations.push(a),b},d.prototype.createFrictionFromAverage=function(a){var b=this.contactEquations[this.contactEquations.length-1],c=this.createFrictionEquation(b.bodyA,b.bodyB,b.shapeA,b.shapeB),d=b.bodyA;b.bodyB;g.set(c.contactPointA,0,0),g.set(c.contactPointB,0,0),g.set(c.t,0,0);for(var e=0;e!==a;e++)b=this.contactEquations[this.contactEquations.length-1-e],b.bodyA===d?(g.add(c.t,c.t,b.normalA),g.add(c.contactPointA,c.contactPointA,b.contactPointA),g.add(c.contactPointB,c.contactPointB,b.contactPointB)):(g.sub(c.t,c.t,b.normalA),g.add(c.contactPointA,c.contactPointA,b.contactPointB),g.add(c.contactPointB,c.contactPointB,b.contactPointA)),c.contactEquations.push(b);var f=1/a;return g.scale(c.contactPointA,c.contactPointA,f),g.scale(c.contactPointB,c.contactPointB,f),g.normalize(c.t,c.t),g.rotate90cw(c.t,c.t),c},d.prototype[q.LINE|q.CONVEX]=d.prototype.convexLine=function(a,b,c,d,e,f,g,h,i){return!i&&0},d.prototype[q.LINE|q.BOX]=d.prototype.lineBox=function(a,b,c,d,e,f,g,h,i){return!i&&0};var O=new r({width:1,height:1}),P=g.create();d.prototype[q.CAPSULE|q.CONVEX]=d.prototype[q.CAPSULE|q.BOX]=d.prototype.convexCapsule=function(a,b,c,d,f,h,i,j,k){var l=P;g.set(l,h.length/2,0),g.rotate(l,l,j),g.add(l,l,i);var m=this.circleConvex(f,h,l,j,a,b,c,d,k,h.radius);g.set(l,-h.length/2,0),g.rotate(l,l,j),g.add(l,l,i);var n=this.circleConvex(f,h,l,j,a,b,c,d,k,h.radius);if(k&&(m||n))return!0;var o=O;return e(o,h),this.convexConvex(a,b,c,d,f,o,i,j,k)+m+n},d.prototype[q.CAPSULE|q.LINE]=d.prototype.lineCapsule=function(a,b,c,d,e,f,g,h,i){return!i&&0};var Q=g.create(),R=g.create(),S=new r({width:1,height:1});d.prototype[q.CAPSULE|q.CAPSULE]=d.prototype.capsuleCapsule=function(a,b,c,d,f,h,i,j,k){for(var l,m=Q,n=R,o=0,p=0;p<2;p++){g.set(m,(0===p?-1:1)*b.length/2,0),g.rotate(m,m,d),g.add(m,m,c);for(var q=0;q<2;q++){g.set(n,(0===q?-1:1)*h.length/2,0),g.rotate(n,n,j),g.add(n,n,i),this.enableFrictionReduction&&(l=this.enableFriction,this.enableFriction=!1);var r=this.circleCircle(a,b,m,d,f,h,n,j,k,b.radius,h.radius);if(this.enableFrictionReduction&&(this.enableFriction=l),k&&r)return!0;o+=r}}this.enableFrictionReduction&&(l=this.enableFriction,this.enableFriction=!1);var s=S;e(s,b);var t=this.convexCapsule(a,s,c,d,f,h,i,j,k);if(this.enableFrictionReduction&&(this.enableFriction=l),k&&t)return!0;if(o+=t,this.enableFrictionReduction){var l=this.enableFriction;this.enableFriction=!1}e(s,h);var u=this.convexCapsule(f,s,i,j,a,b,c,d,k);return this.enableFrictionReduction&&(this.enableFriction=l),!(!k||!u)||(o+=u,this.enableFrictionReduction&&o&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(o)),o)},d.prototype[q.LINE|q.LINE]=d.prototype.lineLine=function(a,b,c,d,e,f,g,h,i){return!i&&0},d.prototype[q.PLANE|q.LINE]=d.prototype.planeLine=function(a,b,c,d,e,f,k,l,m){var n=t,o=u,p=v,q=w,r=x,C=y,D=z,E=A,F=B,G=L,H=0;g.set(n,-f.length/2,0),g.set(o,f.length/2,0),g.rotate(p,n,l),g.rotate(q,o,l),i(p,p,k),i(q,q,k),g.copy(n,p),g.copy(o,q),h(r,o,n),g.normalize(C,r),g.rotate90cw(F,C),g.rotate(E,s,d),G[0]=n,G[1]=o;for(var I=0;I<G.length;I++){var J=G[I];h(D,J,c);var K=j(D,E);if(K<0){if(m)return!0;var M=this.createContactEquation(a,e,b,f);H++,g.copy(M.normalA,E),g.normalize(M.normalA,M.normalA),g.scale(D,E,K),h(M.contactPointA,J,D),h(M.contactPointA,M.contactPointA,a.position),h(M.contactPointB,J,k),i(M.contactPointB,M.contactPointB,k),h(M.contactPointB,M.contactPointB,e.position),this.contactEquations.push(M),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(M))}}return!m&&(this.enableFrictionReduction||H&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(H)),H)},d.prototype[q.PARTICLE|q.CAPSULE]=d.prototype.particleCapsule=function(a,b,c,d,e,f,g,h,i){return this.circleLine(a,b,c,d,e,f,g,h,i,f.radius,0)},d.prototype[q.CIRCLE|q.LINE]=d.prototype.circleLine=function(a,b,c,d,e,f,k,l,m,n,o){var n=n||0,o=void 0!==o?o:b.radius,p=t,q=u,r=v,s=w,H=x,I=y,J=z,K=A,M=B,N=C,O=D,P=E,Q=F,R=G,S=L;g.set(K,-f.length/2,0),g.set(M,f.length/2,0),g.rotate(N,K,l),g.rotate(O,M,l),i(N,N,k),i(O,O,k),g.copy(K,N),g.copy(M,O),h(I,M,K),g.normalize(J,I),g.rotate90cw(H,J),h(P,c,K);var T=j(P,H);h(s,K,k),h(Q,c,k);var U=o+n;if(Math.abs(T)<U){g.scale(p,H,T),h(r,c,p),g.scale(q,H,j(H,Q)),g.normalize(q,q),g.scale(q,q,n),i(r,r,q);var V=j(J,r),W=j(J,K),X=j(J,M);if(V>W&&V<X){if(m)return!0;var Y=this.createContactEquation(a,e,b,f);return g.scale(Y.normalA,p,-1),g.normalize(Y.normalA,Y.normalA),g.scale(Y.contactPointA,Y.normalA,o),i(Y.contactPointA,Y.contactPointA,c),h(Y.contactPointA,Y.contactPointA,a.position),h(Y.contactPointB,r,k),i(Y.contactPointB,Y.contactPointB,k),h(Y.contactPointB,Y.contactPointB,e.position),this.contactEquations.push(Y),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Y)),1}}S[0]=K,S[1]=M;for(var Z=0;Z<S.length;Z++){var $=S[Z];if(h(P,$,c),g.squaredLength(P)<Math.pow(U,2)){if(m)return!0;var Y=this.createContactEquation(a,e,b,f);return g.copy(Y.normalA,P),g.normalize(Y.normalA,Y.normalA),g.scale(Y.contactPointA,Y.normalA,o),i(Y.contactPointA,Y.contactPointA,c),h(Y.contactPointA,Y.contactPointA,a.position),h(Y.contactPointB,$,k),g.scale(R,Y.normalA,-n),i(Y.contactPointB,Y.contactPointB,R),i(Y.contactPointB,Y.contactPointB,k),h(Y.contactPointB,Y.contactPointB,e.position),this.contactEquations.push(Y),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Y)),1}}return 0},d.prototype[q.CIRCLE|q.CAPSULE]=d.prototype.circleCapsule=function(a,b,c,d,e,f,g,h,i){return this.circleLine(a,b,c,d,e,f,g,h,i,f.radius)},d.prototype[q.CIRCLE|q.CONVEX]=d.prototype[q.CIRCLE|q.BOX]=d.prototype.circleConvex=function(a,b,c,d,e,j,k,l,m,n){for(var n="number"==typeof n?n:b.radius,o=t,p=u,q=v,r=w,s=x,y=C,z=D,A=F,B=G,E=H,J=I,K=!1,L=Number.MAX_VALUE,M=j.vertices,N=0;N!==M.length+1;N++){var O=M[N%M.length],P=M[(N+1)%M.length];if(g.rotate(o,O,l),g.rotate(p,P,l),i(o,o,k),i(p,p,k),h(q,p,o),g.normalize(r,q),g.rotate90cw(s,r),g.scale(B,s,-b.radius),i(B,B,c),f(B,j,k,l)){g.sub(E,o,B);var Q=Math.abs(g.dot(E,s));Q<L&&(g.copy(J,B),L=Q,g.scale(A,s,Q),g.add(A,A,B),K=!0)}}if(K){if(m)return!0;var R=this.createContactEquation(a,e,b,j);return g.sub(R.normalA,J,c),g.normalize(R.normalA,R.normalA),g.scale(R.contactPointA,R.normalA,n),i(R.contactPointA,R.contactPointA,c),h(R.contactPointA,R.contactPointA,a.position),h(R.contactPointB,A,k),i(R.contactPointB,R.contactPointB,k),h(R.contactPointB,R.contactPointB,e.position),this.contactEquations.push(R),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(R)),1}if(n>0)for(var N=0;N<M.length;N++){var S=M[N];if(g.rotate(z,S,l),i(z,z,k),h(y,z,c),g.squaredLength(y)<Math.pow(n,2)){if(m)return!0;var R=this.createContactEquation(a,e,b,j);return g.copy(R.normalA,y),g.normalize(R.normalA,R.normalA),g.scale(R.contactPointA,R.normalA,n),i(R.contactPointA,R.contactPointA,c),h(R.contactPointA,R.contactPointA,a.position),h(R.contactPointB,z,k),i(R.contactPointB,R.contactPointB,k),h(R.contactPointB,R.contactPointB,e.position),this.contactEquations.push(R),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(R)),1}}return 0};var T=g.create(),U=g.create(),V=g.create(),W=g.create();d.prototype[q.PARTICLE|q.CONVEX]=d.prototype[q.PARTICLE|q.BOX]=d.prototype.particleConvex=function(a,b,c,d,e,k,l,m,n){var o=t,p=u,q=v,r=w,s=x,A=y,B=z,D=C,E=F,G=J,H=K,I=Number.MAX_VALUE,L=!1,M=k.vertices;if(!f(c,k,l,m))return 0;if(n)return!0;for(var N=0;N!==M.length+1;N++){var O=M[N%M.length],P=M[(N+1)%M.length];g.rotate(o,O,m),g.rotate(p,P,m),i(o,o,l),i(p,p,l),h(q,p,o),g.normalize(r,q),g.rotate90cw(s,r),h(D,c,o);j(D,s);h(A,o,l),h(B,c,l),g.sub(G,o,c);var Q=Math.abs(g.dot(G,s));Q<I&&(I=Q,g.scale(E,s,Q),g.add(E,E,c),g.copy(H,s),L=!0)}if(L){var R=this.createContactEquation(a,e,b,k);return g.scale(R.normalA,H,-1),g.normalize(R.normalA,R.normalA),g.set(R.contactPointA,0,0),i(R.contactPointA,R.contactPointA,c),h(R.contactPointA,R.contactPointA,a.position),h(R.contactPointB,E,l),i(R.contactPointB,R.contactPointB,l),h(R.contactPointB,R.contactPointB,e.position),this.contactEquations.push(R),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(R)),1}return 0},d.prototype[q.CIRCLE]=d.prototype.circleCircle=function(a,b,c,d,e,f,j,k,l,m,n){var o=t,m=m||b.radius,n=n||f.radius;h(o,c,j);var p=m+n;if(g.squaredLength(o)>Math.pow(p,2))return 0;if(l)return!0;var q=this.createContactEquation(a,e,b,f);return h(q.normalA,j,c),g.normalize(q.normalA,q.normalA),g.scale(q.contactPointA,q.normalA,m),g.scale(q.contactPointB,q.normalA,-n),i(q.contactPointA,q.contactPointA,c),h(q.contactPointA,q.contactPointA,a.position),i(q.contactPointB,q.contactPointB,j),h(q.contactPointB,q.contactPointB,e.position),this.contactEquations.push(q),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(q)),1},d.prototype[q.PLANE|q.CONVEX]=d.prototype[q.PLANE|q.BOX]=d.prototype.planeConvex=function(a,b,c,d,e,f,k,l,m){var n=t,o=u,p=v,q=0;g.rotate(o,s,d);for(var r=0;r!==f.vertices.length;r++){var w=f.vertices[r];if(g.rotate(n,w,l),i(n,n,k),h(p,n,c),j(p,o)<=0){if(m)return!0;q++;var x=this.createContactEquation(a,e,b,f);h(p,n,c),g.copy(x.normalA,o);var y=j(p,x.normalA);g.scale(p,x.normalA,y),h(x.contactPointB,n,e.position),h(x.contactPointA,n,p),h(x.contactPointA,x.contactPointA,a.position),this.contactEquations.push(x),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(x))}}return this.enableFrictionReduction&&this.enableFriction&&q&&this.frictionEquations.push(this.createFrictionFromAverage(q)),q},d.prototype[q.PARTICLE|q.PLANE]=d.prototype.particlePlane=function(a,b,c,d,e,f,i,k,l){var m=t,n=u;k=k||0,h(m,c,i),g.rotate(n,s,k);var o=j(m,n);if(o>0)return 0;if(l)return!0;var p=this.createContactEquation(e,a,f,b);return g.copy(p.normalA,n),g.scale(m,p.normalA,o),h(p.contactPointA,c,m),h(p.contactPointA,p.contactPointA,e.position),h(p.contactPointB,c,a.position),
this.contactEquations.push(p),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(p)),1},d.prototype[q.CIRCLE|q.PARTICLE]=d.prototype.circleParticle=function(a,b,c,d,e,f,j,k,l){var m=t;if(h(m,j,c),g.squaredLength(m)>Math.pow(b.radius,2))return 0;if(l)return!0;var n=this.createContactEquation(a,e,b,f);return g.copy(n.normalA,m),g.normalize(n.normalA,n.normalA),g.scale(n.contactPointA,n.normalA,b.radius),i(n.contactPointA,n.contactPointA,c),h(n.contactPointA,n.contactPointA,a.position),h(n.contactPointB,j,e.position),this.contactEquations.push(n),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(n)),1};var X=new o({radius:1}),Y=g.create(),Z=g.create();g.create();d.prototype[q.PLANE|q.CAPSULE]=d.prototype.planeCapsule=function(a,b,c,d,e,f,h,j,k){var l=Y,m=Z,n=X;g.set(l,-f.length/2,0),g.rotate(l,l,j),i(l,l,h),g.set(m,f.length/2,0),g.rotate(m,m,j),i(m,m,h),n.radius=f.radius;var o;this.enableFrictionReduction&&(o=this.enableFriction,this.enableFriction=!1);var p=this.circlePlane(e,n,l,0,a,b,c,d,k),q=this.circlePlane(e,n,m,0,a,b,c,d,k);if(this.enableFrictionReduction&&(this.enableFriction=o),k)return p||q;var r=p+q;return this.enableFrictionReduction&&r&&this.frictionEquations.push(this.createFrictionFromAverage(r)),r},d.prototype[q.CIRCLE|q.PLANE]=d.prototype.circlePlane=function(a,b,c,d,e,f,k,l,m){var n=a,o=b,p=c,q=e,r=k,w=l;w=w||0;var x=t,y=u,z=v;h(x,p,r),g.rotate(y,s,w);var A=j(y,x);if(A>o.radius)return 0;if(m)return!0;var B=this.createContactEquation(q,n,f,b);return g.copy(B.normalA,y),g.scale(B.contactPointB,B.normalA,-o.radius),i(B.contactPointB,B.contactPointB,p),h(B.contactPointB,B.contactPointB,n.position),g.scale(z,B.normalA,A),h(B.contactPointA,x,z),i(B.contactPointA,B.contactPointA,r),h(B.contactPointA,B.contactPointA,q.position),this.contactEquations.push(B),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(B)),1},d.prototype[q.CONVEX]=d.prototype[q.CONVEX|q.BOX]=d.prototype[q.BOX]=d.prototype.convexConvex=function(a,b,c,e,f,k,l,m,n,o){var p=t,q=u,r=v,s=w,y=x,C=z,D=A,E=B,F=0,o="number"==typeof o?o:0;if(!d.findSeparatingAxis(b,c,e,k,l,m,p))return 0;h(D,l,c),j(p,D)>0&&g.scale(p,p,-1);var G=d.getClosestEdge(b,e,p,!0),H=d.getClosestEdge(k,m,p);if(G===-1||H===-1)return 0;for(var I=0;I<2;I++){var J=G,K=H,L=b,M=k,N=c,O=l,P=e,Q=m,R=a,S=f;if(0===I){var T;T=J,J=K,K=T,T=L,L=M,M=T,T=N,N=O,O=T,T=P,P=Q,Q=T,T=R,R=S,S=T}for(var U=K;U<K+2;U++){var V=M.vertices[(U+M.vertices.length)%M.vertices.length];g.rotate(q,V,Q),i(q,q,O);for(var W=0,X=J-1;X<J+2;X++){var Y=L.vertices[(X+L.vertices.length)%L.vertices.length],Z=L.vertices[(X+1+L.vertices.length)%L.vertices.length];g.rotate(r,Y,P),g.rotate(s,Z,P),i(r,r,N),i(s,s,N),h(y,s,r),g.rotate90cw(E,y),g.normalize(E,E),h(D,q,r);var $=j(E,D);(X===J&&$<=o||X!==J&&$<=0)&&W++}if(W>=3){if(n)return!0;var _=this.createContactEquation(R,S,L,M);F++;var Y=L.vertices[J%L.vertices.length],Z=L.vertices[(J+1)%L.vertices.length];g.rotate(r,Y,P),g.rotate(s,Z,P),i(r,r,N),i(s,s,N),h(y,s,r),g.rotate90cw(_.normalA,y),g.normalize(_.normalA,_.normalA),h(D,q,r);var $=j(_.normalA,D);g.scale(C,_.normalA,$),h(_.contactPointA,q,N),h(_.contactPointA,_.contactPointA,C),i(_.contactPointA,_.contactPointA,N),h(_.contactPointA,_.contactPointA,R.position),h(_.contactPointB,q,O),i(_.contactPointB,_.contactPointB,O),h(_.contactPointB,_.contactPointB,S.position),this.contactEquations.push(_),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(_))}}}return this.enableFrictionReduction&&this.enableFriction&&F&&this.frictionEquations.push(this.createFrictionFromAverage(F)),F};var $=g.fromValues(0,0);d.projectConvexOntoAxis=function(a,b,c,d,e){var f,h,i=null,k=null,l=$;g.rotate(l,d,-c);for(var m=0;m<a.vertices.length;m++)f=a.vertices[m],h=j(f,l),(null===i||h>i)&&(i=h),(null===k||h<k)&&(k=h);if(k>i){var n=k;k=i,i=n}var o=j(b,d);g.set(e,k+o,i+o)};var _=g.fromValues(0,0),aa=g.fromValues(0,0),ba=g.fromValues(0,0),ca=g.fromValues(0,0),da=g.fromValues(0,0),ea=g.fromValues(0,0);d.findSeparatingAxis=function(a,b,c,e,f,i,j){var k=null,l=!1,m=!1,n=_,o=aa,p=ba,q=ca,s=da,t=ea;if(a instanceof r&&e instanceof r)for(var u=0;2!==u;u++){var v=a,w=c;1===u&&(v=e,w=i);for(var x=0;2!==x;x++){0===x?g.set(q,0,1):1===x&&g.set(q,1,0),0!==w&&g.rotate(q,q,w),d.projectConvexOntoAxis(a,b,c,q,s),d.projectConvexOntoAxis(e,f,i,q,t);var y=s,z=t;s[0]>t[0]&&(z=s,y=t,!0);var A=z[0]-y[1];l=A<=0,(null===k||A>k)&&(g.copy(j,q),k=A,m=l)}}else for(var u=0;2!==u;u++){var v=a,w=c;1===u&&(v=e,w=i);for(var x=0;x!==v.vertices.length;x++){g.rotate(o,v.vertices[x],w),g.rotate(p,v.vertices[(x+1)%v.vertices.length],w),h(n,p,o),g.rotate90cw(q,n),g.normalize(q,q),d.projectConvexOntoAxis(a,b,c,q,s),d.projectConvexOntoAxis(e,f,i,q,t);var y=s,z=t;s[0]>t[0]&&(z=s,y=t,!0);var A=z[0]-y[1];l=A<=0,(null===k||A>k)&&(g.copy(j,q),k=A,m=l)}}return m};var fa=g.fromValues(0,0),ga=g.fromValues(0,0),ha=g.fromValues(0,0);d.getClosestEdge=function(a,b,c,d){var e=fa,f=ga,i=ha;g.rotate(e,c,-b),d&&g.scale(e,e,-1);for(var k=-1,l=a.vertices.length,m=-1,n=0;n!==l;n++){h(f,a.vertices[(n+1)%l],a.vertices[n%l]),g.rotate90cw(i,f),g.normalize(i,i);var o=j(i,e);(k===-1||o>m)&&(k=n%l,m=o)}return k};var ia=g.create(),ja=g.create(),ka=g.create(),la=g.create(),ma=g.create(),na=g.create(),oa=g.create();d.prototype[q.CIRCLE|q.HEIGHTFIELD]=d.prototype.circleHeightfield=function(a,b,c,d,e,f,j,k,l,m){var n=f.heights,m=m||b.radius,o=f.elementWidth,p=ja,q=ia,r=ma,s=oa,t=na,u=ka,v=la,w=Math.floor((c[0]-m-j[0])/o),x=Math.ceil((c[0]+m-j[0])/o);w<0&&(w=0),x>=n.length&&(x=n.length-1);for(var y=n[w],z=n[x],A=w;A<x;A++)n[A]<z&&(z=n[A]),n[A]>y&&(y=n[A]);if(c[1]-m>y)return!l&&0;for(var B=!1,A=w;A<x;A++){g.set(u,A*o,n[A]),g.set(v,(A+1)*o,n[A+1]),g.add(u,u,j),g.add(v,v,j),g.sub(t,v,u),g.rotate(t,t,Math.PI/2),g.normalize(t,t),g.scale(q,t,-m),g.add(q,q,c),g.sub(p,q,u);var C=g.dot(p,t);if(q[0]>=u[0]&&q[0]<v[0]&&C<=0){if(l)return!0;B=!0,g.scale(p,t,-C),g.add(r,q,p),g.copy(s,t);var D=this.createContactEquation(e,a,f,b);g.copy(D.normalA,s),g.scale(D.contactPointB,D.normalA,-m),i(D.contactPointB,D.contactPointB,c),h(D.contactPointB,D.contactPointB,a.position),g.copy(D.contactPointA,r),g.sub(D.contactPointA,D.contactPointA,e.position),this.contactEquations.push(D),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(D))}}if(B=!1,m>0)for(var A=w;A<=x;A++)if(g.set(u,A*o,n[A]),g.add(u,u,j),g.sub(p,c,u),g.squaredLength(p)<Math.pow(m,2)){if(l)return!0;B=!0;var D=this.createContactEquation(e,a,f,b);g.copy(D.normalA,p),g.normalize(D.normalA,D.normalA),g.scale(D.contactPointB,D.normalA,-m),i(D.contactPointB,D.contactPointB,c),h(D.contactPointB,D.contactPointB,a.position),h(D.contactPointA,u,j),i(D.contactPointA,D.contactPointA,j),h(D.contactPointA,D.contactPointA,e.position),this.contactEquations.push(D),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(D))}return B?1:0};var pa=g.create(),qa=g.create(),ra=g.create(),sa=new p({vertices:[g.create(),g.create(),g.create(),g.create()]});d.prototype[q.BOX|q.HEIGHTFIELD]=d.prototype[q.CONVEX|q.HEIGHTFIELD]=d.prototype.convexHeightfield=function(a,b,c,d,e,f,h,i,j){var k=f.heights,l=f.elementWidth,m=pa,n=qa,o=ra,p=sa,q=Math.floor((a.aabb.lowerBound[0]-h[0])/l),r=Math.ceil((a.aabb.upperBound[0]-h[0])/l);q<0&&(q=0),r>=k.length&&(r=k.length-1);for(var s=k[q],t=k[r],u=q;u<r;u++)k[u]<t&&(t=k[u]),k[u]>s&&(s=k[u]);if(a.aabb.lowerBound[1]>s)return!j&&0;for(var v=0,u=q;u<r;u++){g.set(m,u*l,k[u]),g.set(n,(u+1)*l,k[u+1]),g.add(m,m,h),g.add(n,n,h);var w=100;g.set(o,.5*(n[0]+m[0]),.5*(n[1]+m[1]-w)),g.sub(p.vertices[0],n,o),g.sub(p.vertices[1],m,o),g.copy(p.vertices[2],p.vertices[1]),g.copy(p.vertices[3],p.vertices[0]),p.vertices[2][1]-=w,p.vertices[3][1]-=w,v+=this.convexConvex(a,b,c,d,e,p,o,0,j)}return v}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../shapes/Box":37,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Shape":45,"../utils/ContactEquationPool":48,"../utils/FrictionEquationPool":49,"../utils/TupleDictionary":56,"../utils/Utils":57}],11:[function(a,b,c){function d(a){a=a||{},this.from=a.from?f.fromValues(a.from[0],a.from[1]):f.create(),this.to=a.to?f.fromValues(a.to[0],a.to[1]):f.create(),this.checkCollisionResponse=void 0===a.checkCollisionResponse||a.checkCollisionResponse,this.skipBackfaces=!!a.skipBackfaces,this.collisionMask=void 0!==a.collisionMask?a.collisionMask:-1,this.collisionGroup=void 0!==a.collisionGroup?a.collisionGroup:-1,this.mode=void 0!==a.mode?a.mode:d.ANY,this.callback=a.callback||function(a){},this.direction=f.create(),this.length=1,this.update()}function e(a,b,c){f.sub(h,c,a);var d=f.dot(h,b);return f.scale(i,b,d),f.add(i,i,a),f.squaredDistance(c,i)}b.exports=d;var f=a("../math/vec2");a("../collision/RaycastResult"),a("../shapes/Shape"),a("../collision/AABB");d.prototype.constructor=d,d.CLOSEST=1,d.ANY=2,d.ALL=4,d.prototype.update=function(){var a=this.direction;f.sub(a,this.to,this.from),this.length=f.length(a),f.normalize(a,a)},d.prototype.intersectBodies=function(a,b){for(var c=0,d=b.length;!a.shouldStop(this)&&c<d;c++){var e=b[c],f=e.getAABB();(f.overlapsRay(this)>=0||f.containsPoint(this.from))&&this.intersectBody(a,e)}};var g=f.create();d.prototype.intersectBody=function(a,b){var c=this.checkCollisionResponse;if(!c||b.collisionResponse)for(var d=g,e=0,h=b.shapes.length;e<h;e++){var i=b.shapes[e];if((!c||i.collisionResponse)&&(0!=(this.collisionGroup&i.collisionMask)&&0!=(i.collisionGroup&this.collisionMask))){f.rotate(d,i.position,b.angle),f.add(d,d,b.position);var j=i.angle+b.angle;if(this.intersectShape(a,i,j,d,b),a.shouldStop(this))break}}},d.prototype.intersectShape=function(a,b,c,d,f){e(this.from,this.direction,d)>b.boundingRadius*b.boundingRadius||(this._currentBody=f,this._currentShape=b,b.raycast(a,this,d,c),this._currentBody=this._currentShape=null)},d.prototype.getAABB=function(a){var b=this.to,c=this.from;f.set(a.lowerBound,Math.min(b[0],c[0]),Math.min(b[1],c[1])),f.set(a.upperBound,Math.max(b[0],c[0]),Math.max(b[1],c[1]))};f.create();d.prototype.reportIntersection=function(a,b,c,e){var g=(this.from,this.to,this._currentShape),h=this._currentBody;if(!(this.skipBackfaces&&f.dot(c,this.direction)>0))switch(this.mode){case d.ALL:a.set(c,g,h,b,e),this.callback(a);break;case d.CLOSEST:(b<a.fraction||!a.hasHit())&&a.set(c,g,h,b,e);break;case d.ANY:a.set(c,g,h,b,e)}};var h=f.create(),i=f.create()},{"../collision/AABB":7,"../collision/RaycastResult":12,"../math/vec2":30,"../shapes/Shape":45}],12:[function(a,b,c){function d(){this.normal=e.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}var e=a("../math/vec2"),f=a("../collision/Ray");b.exports=d,d.prototype.reset=function(){e.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},d.prototype.getHitDistance=function(a){return e.distance(a.from,a.to)*this.fraction},d.prototype.hasHit=function(){return this.fraction!==-1},d.prototype.getHitPoint=function(a,b){e.lerp(a,b.from,b.to,this.fraction)},d.prototype.stop=function(){this.isStopped=!0},d.prototype.shouldStop=function(a){return this.isStopped||this.fraction!==-1&&a.mode===f.ANY},d.prototype.set=function(a,b,c,d,f){e.copy(this.normal,a),this.shape=b,this.body=c,this.fraction=d,this.faceIndex=f}},{"../collision/Ray":11,"../math/vec2":30}],13:[function(a,b,c){function d(){f.call(this,f.SAP),this.axisList=[],this.axisIndex=0;var a=this;this._addBodyHandler=function(b){a.axisList.push(b.body)},this._removeBodyHandler=function(b){var c=a.axisList.indexOf(b.body);c!==-1&&a.axisList.splice(c,1)}}var e=a("../utils/Utils"),f=a("../collision/Broadphase");b.exports=d,d.prototype=new f,d.prototype.constructor=d,d.prototype.setWorld=function(a){this.axisList.length=0,e.appendArray(this.axisList,a.bodies),a.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),a.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=a},d.sortAxisList=function(a,b){b|=0;for(var c=1,d=a.length;c<d;c++){for(var e=a[c],f=c-1;f>=0&&!(a[f].aabb.lowerBound[b]<=e.aabb.lowerBound[b]);f--)a[f+1]=a[f];a[f+1]=e}return a},d.prototype.sortList=function(){var a=this.axisList,b=this.axisIndex;d.sortAxisList(a,b)},d.prototype.getCollisionPairs=function(a){var b=this.axisList,c=this.result,d=this.axisIndex;c.length=0;for(var e=b.length;e--;){var g=b[e];g.aabbNeedsUpdate&&g.updateAABB()}this.sortList();for(var h=0,i=0|b.length;h!==i;h++)for(var j=b[h],k=h+1;k<i;k++){var l=b[k],m=l.aabb.lowerBound[d]<=j.aabb.upperBound[d];if(!m)break;f.canCollide(j,l)&&this.boundingVolumeCheck(j,l)&&c.push(j,l)}return c},d.prototype.aabbQuery=function(a,b,c){c=c||[],this.sortList();var d=this.axisIndex,e="x";1===d&&(e="y"),2===d&&(e="z");for(var f=this.axisList,g=(b.lowerBound[e],b.upperBound[e],0);g<f.length;g++){var h=f[g];h.aabbNeedsUpdate&&h.updateAABB(),h.aabb.overlaps(b)&&c.push(h)}return c}},{"../collision/Broadphase":8,"../utils/Utils":57}],14:[function(a,b,c){function d(a,b,c,d){this.type=c,d=e.defaults(d,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=a,this.bodyB=b,this.collideConnected=d.collideConnected,d.wakeUpBodies&&(a&&a.wakeUp(),b&&b.wakeUp())}b.exports=d;var e=a("../utils/Utils");d.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},d.DISTANCE=1,d.GEAR=2,d.LOCK=3,d.PRISMATIC=4,d.REVOLUTE=5,d.prototype.setStiffness=function(a){for(var b=this.equations,c=0;c!==b.length;c++){var d=b[c];d.stiffness=a,d.needsUpdate=!0}},d.prototype.setRelaxation=function(a){for(var b=this.equations,c=0;c!==b.length;c++){var d=b[c];d.relaxation=a,d.needsUpdate=!0}}},{"../utils/Utils":57}],15:[function(a,b,c){function d(a,b,c){c=h.defaults(c,{localAnchorA:[0,0],localAnchorB:[0,0]}),e.call(this,a,b,e.DISTANCE,c),this.localAnchorA=g.fromValues(c.localAnchorA[0],c.localAnchorA[1]),this.localAnchorB=g.fromValues(c.localAnchorB[0],c.localAnchorB[1]);var d=this.localAnchorA,i=this.localAnchorB;if(this.distance=0,"number"==typeof c.distance)this.distance=c.distance;else{var j=g.create(),k=g.create(),l=g.create();g.rotate(j,d,a.angle),g.rotate(k,i,b.angle),g.add(l,b.position,k),g.sub(l,l,j),g.sub(l,l,a.position),this.distance=g.length(l)}var m;m=void 0===c.maxForce?Number.MAX_VALUE:c.maxForce;var n=new f(a,b,-m,m);this.equations=[n],this.maxForce=m;var l=g.create(),o=g.create(),p=g.create(),q=this;n.computeGq=function(){var a=this.bodyA,b=this.bodyB,c=a.position,e=b.position;return g.rotate(o,d,a.angle),g.rotate(p,i,b.angle),g.add(l,e,p),g.sub(l,l,o),g.sub(l,l,c),g.length(l)-q.distance},this.setMaxForce(m),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}var e=a("./Constraint"),f=a("../equations/Equation"),g=a("../math/vec2"),h=a("../utils/Utils");b.exports=d,d.prototype=new e,d.prototype.constructor=d;var i=g.create(),j=g.create(),k=g.create();d.prototype.update=function(){var a=this.equations[0],b=this.bodyA,c=this.bodyB,d=(this.distance,b.position),e=c.position,f=this.equations[0],h=a.G;g.rotate(j,this.localAnchorA,b.angle),g.rotate(k,this.localAnchorB,c.angle),g.add(i,e,k),g.sub(i,i,j),g.sub(i,i,d),this.position=g.length(i);var l=!1;if(this.upperLimitEnabled&&this.position>this.upperLimit&&(f.maxForce=0,f.minForce=-this.maxForce,this.distance=this.upperLimit,l=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(f.maxForce=this.maxForce,f.minForce=0,this.distance=this.lowerLimit,l=!0),(this.lowerLimitEnabled||this.upperLimitEnabled)&&!l)return void(f.enabled=!1);f.enabled=!0,g.normalize(i,i);var m=g.crossLength(j,i),n=g.crossLength(k,i);h[0]=-i[0],h[1]=-i[1],h[2]=-m,h[3]=i[0],h[4]=i[1],h[5]=n},d.prototype.setMaxForce=function(a){var b=this.equations[0];b.minForce=-a,b.maxForce=a},d.prototype.getMaxForce=function(){return this.equations[0].maxForce}},{"../equations/Equation":22,"../math/vec2":30,"../utils/Utils":57,"./Constraint":14}],16:[function(a,b,c){function d(a,b,c){c=c||{},e.call(this,a,b,e.GEAR,c),this.ratio=void 0!==c.ratio?c.ratio:1,this.angle=void 0!==c.angle?c.angle:b.angle-this.ratio*a.angle,c.angle=this.angle,c.ratio=this.ratio,this.equations=[new f(a,b,c)],void 0!==c.maxTorque&&this.setMaxTorque(c.maxTorque)}var e=a("./Constraint"),f=(a("../equations/Equation"),a("../equations/AngleLockEquation"));a("../math/vec2");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.update=function(){var a=this.equations[0];a.ratio!==this.ratio&&a.setRatio(this.ratio),a.angle=this.angle},d.prototype.setMaxTorque=function(a){this.equations[0].setMaxTorque(a)},d.prototype.getMaxTorque=function(a){return this.equations[0].maxForce}},{"../equations/AngleLockEquation":20,"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],17:[function(a,b,c){function d(a,b,c){c=c||{},e.call(this,a,b,e.LOCK,c);var d=void 0===c.maxForce?Number.MAX_VALUE:c.maxForce,h=(c.localAngleB,new g(a,b,-d,d)),i=new g(a,b,-d,d),j=new g(a,b,-d,d),k=f.create(),l=f.create(),m=this;h.computeGq=function(){return f.rotate(k,m.localOffsetB,a.angle),f.sub(l,b.position,a.position),f.sub(l,l,k),l[0]},i.computeGq=function(){return f.rotate(k,m.localOffsetB,a.angle),f.sub(l,b.position,a.position),f.sub(l,l,k),l[1]};var n=f.create(),o=f.create();j.computeGq=function(){return f.rotate(n,m.localOffsetB,b.angle-m.localAngleB),f.scale(n,n,-1),f.sub(l,a.position,b.position),f.add(l,l,n),f.rotate(o,n,-Math.PI/2),f.normalize(o,o),f.dot(l,o)},this.localOffsetB=f.create(),c.localOffsetB?f.copy(this.localOffsetB,c.localOffsetB):(f.sub(this.localOffsetB,b.position,a.position),f.rotate(this.localOffsetB,this.localOffsetB,-a.angle)),this.localAngleB=0,"number"==typeof c.localAngleB?this.localAngleB=c.localAngleB:this.localAngleB=b.angle-a.angle,this.equations.push(h,i,j),this.setMaxForce(d)}var e=a("./Constraint"),f=a("../math/vec2"),g=a("../equations/Equation");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.setMaxForce=function(a){for(var b=this.equations,c=0;c<this.equations.length;c++)b[c].maxForce=a,b[c].minForce=-a},d.prototype.getMaxForce=function(){return this.equations[0].maxForce};var h=f.create(),i=f.create(),j=f.create(),k=f.fromValues(1,0),l=f.fromValues(0,1);d.prototype.update=function(){var a=this.equations[0],b=this.equations[1],c=this.equations[2],d=this.bodyA,e=this.bodyB;f.rotate(h,this.localOffsetB,d.angle),f.rotate(i,this.localOffsetB,e.angle-this.localAngleB),f.scale(i,i,-1),f.rotate(j,i,Math.PI/2),f.normalize(j,j),a.G[0]=-1,a.G[1]=0,a.G[2]=-f.crossLength(h,k),a.G[3]=1,b.G[0]=0,b.G[1]=-1,b.G[2]=-f.crossLength(h,l),b.G[4]=1,c.G[0]=-j[0],c.G[1]=-j[1],c.G[3]=j[0],c.G[4]=j[1],c.G[5]=f.crossLength(i,j)}},{"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],18:[function(a,b,c){function d(a,b,c){c=c||{},e.call(this,a,b,e.PRISMATIC,c);var d=h.fromValues(0,0),j=h.fromValues(1,0),k=h.fromValues(0,0);c.localAnchorA&&h.copy(d,c.localAnchorA),c.localAxisA&&h.copy(j,c.localAxisA),c.localAnchorB&&h.copy(k,c.localAnchorB),this.localAnchorA=d,this.localAnchorB=k,this.localAxisA=j;var l=this.maxForce=void 0!==c.maxForce?c.maxForce:Number.MAX_VALUE,m=new g(a,b,-l,l),n=new h.create,o=new h.create,p=new h.create,q=new h.create;if(m.computeGq=function(){return h.dot(p,q)},m.updateJacobian=function(){var c=this.G,e=a.position,f=b.position;h.rotate(n,d,a.angle),h.rotate(o,k,b.angle),h.add(p,f,o),h.sub(p,p,e),h.sub(p,p,n),h.rotate(q,j,a.angle+Math.PI/2),c[0]=-q[0],c[1]=-q[1],c[2]=-h.crossLength(n,q)+h.crossLength(q,p),c[3]=q[0],c[4]=q[1],c[5]=h.crossLength(o,q)},this.equations.push(m),!c.disableRotationalLock){var r=new i(a,b,-l,l);this.equations.push(r)}this.position=0,this.velocity=0,this.lowerLimitEnabled=void 0!==c.lowerLimit,this.upperLimitEnabled=void 0!==c.upperLimit,this.lowerLimit=void 0!==c.lowerLimit?c.lowerLimit:0,this.upperLimit=void 0!==c.upperLimit?c.upperLimit:1,this.upperLimitEquation=new f(a,b),this.lowerLimitEquation=new f(a,b),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=l,this.motorEquation=new g(a,b),this.motorEnabled=!1,this.motorSpeed=0;var s=this,t=this.motorEquation;t.computeGW;t.computeGq=function(){return 0},t.computeGW=function(){var a=this.G,b=this.bodyA,c=this.bodyB,d=b.velocity,e=c.velocity,f=b.angularVelocity,g=c.angularVelocity;return this.gmult(a,d,f,e,g)+s.motorSpeed}}var e=a("./Constraint"),f=a("../equations/ContactEquation"),g=a("../equations/Equation"),h=a("../math/vec2"),i=a("../equations/RotationalLockEquation");b.exports=d,d.prototype=new e,d.prototype.constructor=d;var j=h.create(),k=h.create(),l=h.create(),m=h.create(),n=h.create(),o=h.create();d.prototype.update=function(){var a=this.equations,b=a[0],c=this.upperLimit,d=this.lowerLimit,e=this.upperLimitEquation,f=this.lowerLimitEquation,g=this.bodyA,i=this.bodyB,p=this.localAxisA,q=this.localAnchorA,r=this.localAnchorB;b.updateJacobian(),h.rotate(j,p,g.angle),h.rotate(m,q,g.angle),h.add(k,m,g.position),h.rotate(n,r,i.angle),h.add(l,n,i.position);var s=this.position=h.dot(l,j)-h.dot(k,j);if(this.motorEnabled){var t=this.motorEquation.G;t[0]=j[0],t[1]=j[1],t[2]=h.crossLength(j,n),t[3]=-j[0],t[4]=-j[1],t[5]=-h.crossLength(j,m)}if(this.upperLimitEnabled&&s>c)h.scale(e.normalA,j,-1),h.sub(e.contactPointA,k,g.position),h.sub(e.contactPointB,l,i.position),h.scale(o,j,c),h.add(e.contactPointA,e.contactPointA,o),a.indexOf(e)===-1&&a.push(e);else{var u=a.indexOf(e);u!==-1&&a.splice(u,1)}if(this.lowerLimitEnabled&&s<d)h.scale(f.normalA,j,1),h.sub(f.contactPointA,k,g.position),h.sub(f.contactPointB,l,i.position),h.scale(o,j,d),h.sub(f.contactPointB,f.contactPointB,o),a.indexOf(f)===-1&&a.push(f);else{var u=a.indexOf(f);u!==-1&&a.splice(u,1)}},d.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},d.prototype.disableMotor=function(){if(this.motorEnabled){var a=this.equations.indexOf(this.motorEquation);this.equations.splice(a,1),this.motorEnabled=!1}},d.prototype.setLimits=function(a,b){"number"==typeof a?(this.lowerLimit=a,this.lowerLimitEnabled=!0):(this.lowerLimit=a,this.lowerLimitEnabled=!1),"number"==typeof b?(this.upperLimit=b,this.upperLimitEnabled=!0):(this.upperLimit=b,this.upperLimitEnabled=!1)}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../math/vec2":30,"./Constraint":14}],19:[function(a,b,c){function d(a,b,c){c=c||{},e.call(this,a,b,e.REVOLUTE,c);var d=this.maxForce=void 0!==c.maxForce?c.maxForce:Number.MAX_VALUE;this.pivotA=i.create(),this.pivotB=i.create(),c.worldPivot?(i.sub(this.pivotA,c.worldPivot,a.position),i.sub(this.pivotB,c.worldPivot,b.position),i.rotate(this.pivotA,this.pivotA,-a.angle),i.rotate(this.pivotB,this.pivotB,-b.angle)):(i.copy(this.pivotA,c.localPivotA),i.copy(this.pivotB,c.localPivotB));var o=this.equations=[new f(a,b,-d,d),new f(a,b,-d,d)],p=o[0],q=o[1],r=this;p.computeGq=function(){return i.rotate(j,r.pivotA,a.angle),i.rotate(k,r.pivotB,b.angle),i.add(n,b.position,k),i.sub(n,n,a.position),i.sub(n,n,j),i.dot(n,l)},q.computeGq=function(){return i.rotate(j,r.pivotA,a.angle),i.rotate(k,r.pivotB,b.angle),i.add(n,b.position,k),i.sub(n,n,a.position),i.sub(n,n,j),i.dot(n,m)},q.minForce=p.minForce=-d,q.maxForce=p.maxForce=d,this.motorEquation=new g(a,b),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new h(a,b),this.lowerLimitEquation=new h(a,b),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}var e=a("./Constraint"),f=a("../equations/Equation"),g=a("../equations/RotationalVelocityEquation"),h=a("../equations/RotationalLockEquation"),i=a("../math/vec2");b.exports=d;var j=i.create(),k=i.create(),l=i.fromValues(1,0),m=i.fromValues(0,1),n=i.create();d.prototype=new e,d.prototype.constructor=d,d.prototype.setLimits=function(a,b){"number"==typeof a?(this.lowerLimit=a,this.lowerLimitEnabled=!0):(this.lowerLimit=a,this.lowerLimitEnabled=!1),"number"==typeof b?(this.upperLimit=b,this.upperLimitEnabled=!0):(this.upperLimit=b,this.upperLimitEnabled=!1)},d.prototype.update=function(){var a=this.bodyA,b=this.bodyB,c=this.pivotA,d=this.pivotB,e=this.equations,f=(e[0],e[1],e[0]),g=e[1],h=this.upperLimit,n=this.lowerLimit,o=this.upperLimitEquation,p=this.lowerLimitEquation,q=this.angle=b.angle-a.angle;if(this.upperLimitEnabled&&q>h)o.angle=h,e.indexOf(o)===-1&&e.push(o);else{var r=e.indexOf(o);r!==-1&&e.splice(r,1)}if(this.lowerLimitEnabled&&q<n)p.angle=n,e.indexOf(p)===-1&&e.push(p);else{var r=e.indexOf(p);r!==-1&&e.splice(r,1)}i.rotate(j,c,a.angle),i.rotate(k,d,b.angle),f.G[0]=-1,f.G[1]=0,f.G[2]=-i.crossLength(j,l),f.G[3]=1,f.G[4]=0,f.G[5]=i.crossLength(k,l),g.G[0]=0,g.G[1]=-1,g.G[2]=-i.crossLength(j,m),g.G[3]=0,g.G[4]=1,g.G[5]=i.crossLength(k,m)},d.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},d.prototype.disableMotor=function(){if(this.motorEnabled){var a=this.equations.indexOf(this.motorEquation);this.equations.splice(a,1),this.motorEnabled=!1}},d.prototype.motorIsEnabled=function(){return!!this.motorEnabled},d.prototype.setMotorSpeed=function(a){if(this.motorEnabled){var b=this.equations.indexOf(this.motorEquation);this.equations[b].relativeVelocity=a}},d.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},{"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../equations/RotationalVelocityEquation":25,"../math/vec2":30,"./Constraint":14}],20:[function(a,b,c){function d(a,b,c){c=c||{},e.call(this,a,b,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=c.angle||0,this.ratio="number"==typeof c.ratio?c.ratio:1,this.setRatio(this.ratio)}var e=a("./Equation");a("../math/vec2");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},d.prototype.setRatio=function(a){var b=this.G;b[2]=a,b[5]=-1,this.ratio=a},d.prototype.setMaxTorque=function(a){this.maxForce=a,this.minForce=-a}},{"../math/vec2":30,"./Equation":22}],21:[function(a,b,c){function d(a,b){e.call(this,a,b,0,Number.MAX_VALUE),this.contactPointA=f.create(),this.penetrationVec=f.create(),this.contactPointB=f.create(),this.normalA=f.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}var e=a("./Equation"),f=a("../math/vec2");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.computeB=function(a,b,c){var d=this.bodyA,e=this.bodyB,g=this.contactPointA,h=this.contactPointB,i=d.position,j=e.position,k=this.penetrationVec,l=this.normalA,m=this.G,n=f.crossLength(g,l),o=f.crossLength(h,l);m[0]=-l[0],m[1]=-l[1],m[2]=-n,m[3]=l[0],m[4]=l[1],m[5]=o,f.add(k,j,h),f.sub(k,k,i),f.sub(k,k,g);var p,q;return this.firstImpact&&0!==this.restitution?(q=0,p=1/b*(1+this.restitution)*this.computeGW()):(q=f.dot(l,k)+this.offset,p=this.computeGW()),-q*a-p*b-c*this.computeGiMf()}},{"../math/vec2":30,"./Equation":22}],22:[function(a,b,c){function d(a,b,c,e){this.minForce=void 0===c?-Number.MAX_VALUE:c,this.maxForce=void 0===e?Number.MAX_VALUE:e,this.bodyA=a,this.bodyB=b,this.stiffness=d.DEFAULT_STIFFNESS,this.relaxation=d.DEFAULT_RELAXATION,this.G=new f.ARRAY_TYPE(6);for(var g=0;g<6;g++)this.G[g]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}b.exports=d;var e=a("../math/vec2"),f=a("../utils/Utils");a("../objects/Body");d.prototype.constructor=d,d.DEFAULT_STIFFNESS=1e6,d.DEFAULT_RELAXATION=4,d.prototype.update=function(){var a=this.stiffness,b=this.relaxation,c=this.timeStep;this.a=4/(c*(1+4*b)),this.b=4*b/(1+4*b),this.epsilon=4/(c*c*a*(1+4*b)),this.needsUpdate=!1},d.prototype.gmult=function(a,b,c,d,e){return a[0]*b[0]+a[1]*b[1]+a[2]*c+a[3]*d[0]+a[4]*d[1]+a[5]*e},d.prototype.computeB=function(a,b,c){var d=this.computeGW();return-this.computeGq()*a-d*b-this.computeGiMf()*c};var g=e.create(),h=e.create();d.prototype.computeGq=function(){var a=this.G,b=this.bodyA,c=this.bodyB,d=(b.position,c.position,b.angle),e=c.angle;return this.gmult(a,g,d,h,e)+this.offset},d.prototype.computeGW=function(){var a=this.G,b=this.bodyA,c=this.bodyB,d=b.velocity,e=c.velocity,f=b.angularVelocity,g=c.angularVelocity;return this.gmult(a,d,f,e,g)+this.relativeVelocity},d.prototype.computeGWlambda=function(){var a=this.G,b=this.bodyA,c=this.bodyB,d=b.vlambda,e=c.vlambda,f=b.wlambda,g=c.wlambda;return this.gmult(a,d,f,e,g)};var i=e.create(),j=e.create();d.prototype.computeGiMf=function(){var a=this.bodyA,b=this.bodyB,c=a.force,d=a.angularForce,f=b.force,g=b.angularForce,h=a.invMassSolve,k=b.invMassSolve,l=a.invInertiaSolve,m=b.invInertiaSolve,n=this.G;return e.scale(i,c,h),e.multiply(i,a.massMultiplier,i),e.scale(j,f,k),e.multiply(j,b.massMultiplier,j),this.gmult(n,i,d*l,j,g*m)},d.prototype.computeGiMGt=function(){var a=this.bodyA,b=this.bodyB,c=a.invMassSolve,d=b.invMassSolve,e=a.invInertiaSolve,f=b.invInertiaSolve,g=this.G;return g[0]*g[0]*c*a.massMultiplier[0]+g[1]*g[1]*c*a.massMultiplier[1]+g[2]*g[2]*e+g[3]*g[3]*d*b.massMultiplier[0]+g[4]*g[4]*d*b.massMultiplier[1]+g[5]*g[5]*f};var k=e.create(),l=e.create(),m=e.create();e.create(),e.create(),e.create();d.prototype.addToWlambda=function(a){var b=this.bodyA,c=this.bodyB,d=k,f=l,g=m,h=b.invMassSolve,i=c.invMassSolve,j=b.invInertiaSolve,n=c.invInertiaSolve,o=this.G;f[0]=o[0],f[1]=o[1],g[0]=o[3],g[1]=o[4],e.scale(d,f,h*a),e.multiply(d,d,b.massMultiplier),e.add(b.vlambda,b.vlambda,d),b.wlambda+=j*o[2]*a,e.scale(d,g,i*a),e.multiply(d,d,c.massMultiplier),e.add(c.vlambda,c.vlambda,d),c.wlambda+=n*o[5]*a},d.prototype.computeInvC=function(a){return 1/(this.computeGiMGt()+a)}},{"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],23:[function(a,b,c){function d(a,b,c){f.call(this,a,b,-c,c),this.contactPointA=e.create(),this.contactPointB=e.create(),this.t=e.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}var e=a("../math/vec2"),f=a("./Equation");a("../utils/Utils");b.exports=d,d.prototype=new f,d.prototype.constructor=d,d.prototype.setSlipForce=function(a){this.maxForce=a,this.minForce=-a},d.prototype.getSlipForce=function(){return this.maxForce},d.prototype.computeB=function(a,b,c){var d=(this.bodyA,this.bodyB,this.contactPointA),f=this.contactPointB,g=this.t,h=this.G;return h[0]=-g[0],h[1]=-g[1],h[2]=-e.crossLength(d,g),h[3]=g[0],h[4]=g[1],h[5]=e.crossLength(f,g),-this.computeGW()*b-c*this.computeGiMf()}},{"../math/vec2":30,"../utils/Utils":57,"./Equation":22}],24:[function(a,b,c){function d(a,b,c){c=c||{},e.call(this,a,b,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=c.angle||0;var d=this.G;d[2]=1,d[5]=-1}var e=a("./Equation"),f=a("../math/vec2");b.exports=d,d.prototype=new e,d.prototype.constructor=d;var g=f.create(),h=f.create(),i=f.fromValues(1,0),j=f.fromValues(0,1);d.prototype.computeGq=function(){return f.rotate(g,i,this.bodyA.angle+this.angle),f.rotate(h,j,this.bodyB.angle),f.dot(g,h)}},{"../math/vec2":30,"./Equation":22}],25:[function(a,b,c){function d(a,b){e.call(this,a,b,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}var e=a("./Equation");a("../math/vec2");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.computeB=function(a,b,c){var d=this.G;d[2]=-1,d[5]=this.ratio;var e=this.computeGiMf();return-this.computeGW()*b-c*e}},{"../math/vec2":30,"./Equation":22}],26:[function(a,b,c){var d=function(){};b.exports=d,d.prototype={constructor:d,on:function(a,b,c){b.context=c||this,void 0===this._listeners&&(this._listeners={});var d=this._listeners;return void 0===d[a]&&(d[a]=[]),d[a].indexOf(b)===-1&&d[a].push(b),this},has:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;if(b){
if(void 0!==c[a]&&c[a].indexOf(b)!==-1)return!0}else if(void 0!==c[a])return!0;return!1},off:function(a,b){if(void 0===this._listeners)return this;var c=this._listeners,d=c[a].indexOf(b);return d!==-1&&c[a].splice(d,1),this},emit:function(a){if(void 0===this._listeners)return this;var b=this._listeners,c=b[a.type];if(void 0!==c){a.target=this;for(var d=0,e=c.length;d<e;d++){var f=c[d];f.call(f.context,a)}}return this}}},{}],27:[function(a,b,c){function d(a,b,c){if(c=c||{},!(a instanceof e&&b instanceof e))throw new Error("First two arguments must be Material instances.");this.id=d.idCounter++,this.materialA=a,this.materialB=b,this.friction=void 0!==c.friction?Number(c.friction):.3,this.restitution=void 0!==c.restitution?Number(c.restitution):0,this.stiffness=void 0!==c.stiffness?Number(c.stiffness):f.DEFAULT_STIFFNESS,this.relaxation=void 0!==c.relaxation?Number(c.relaxation):f.DEFAULT_RELAXATION,this.frictionStiffness=void 0!==c.frictionStiffness?Number(c.frictionStiffness):f.DEFAULT_STIFFNESS,this.frictionRelaxation=void 0!==c.frictionRelaxation?Number(c.frictionRelaxation):f.DEFAULT_RELAXATION,this.surfaceVelocity=void 0!==c.surfaceVelocity?Number(c.surfaceVelocity):0,this.contactSkinSize=.005}var e=a("./Material"),f=a("../equations/Equation");b.exports=d,d.idCounter=0},{"../equations/Equation":22,"./Material":28}],28:[function(a,b,c){function d(a){this.id=a||d.idCounter++}b.exports=d,d.idCounter=0},{}],29:[function(a,b,c){var d={};d.GetArea=function(a){if(a.length<6)return 0;for(var b=a.length-2,c=0,d=0;d<b;d+=2)c+=(a[d+2]-a[d])*(a[d+1]+a[d+3]);return.5*-(c+=(a[0]-a[b])*(a[b+1]+a[1]))},d.Triangulate=function(a){var b=a.length>>1;if(b<3)return[];for(var c=[],e=[],f=0;f<b;f++)e.push(f);for(var f=0,g=b;g>3;){var h=e[(f+0)%g],i=e[(f+1)%g],j=e[(f+2)%g],k=a[2*h],l=a[2*h+1],m=a[2*i],n=a[2*i+1],o=a[2*j],p=a[2*j+1],q=!1;if(d._convex(k,l,m,n,o,p)){q=!0;for(var r=0;r<g;r++){var s=e[r];if(s!=h&&s!=i&&s!=j&&d._PointInTriangle(a[2*s],a[2*s+1],k,l,m,n,o,p)){q=!1;break}}}if(q)c.push(h,i,j),e.splice((f+1)%g,1),g--,f=0;else if(f++>3*g)break}return c.push(e[0],e[1],e[2]),c},d._PointInTriangle=function(a,b,c,d,e,f,g,h){var i=g-c,j=h-d,k=e-c,l=f-d,m=a-c,n=b-d,o=i*i+j*j,p=i*k+j*l,q=i*m+j*n,r=k*k+l*l,s=k*m+l*n,t=1/(o*r-p*p),u=(r*q-p*s)*t,v=(o*s-p*q)*t;return u>=0&&v>=0&&u+v<1},d._convex=function(a,b,c,d,e,f){return(b-d)*(e-c)+(c-a)*(f-d)>=0},b.exports=d},{}],30:[function(a,b,c){var d=b.exports={},e=a("../utils/Utils");d.crossLength=function(a,b){return a[0]*b[1]-a[1]*b[0]},d.crossVZ=function(a,b,c){return d.rotate(a,b,-Math.PI/2),d.scale(a,a,c),a},d.crossZV=function(a,b,c){return d.rotate(a,c,Math.PI/2),d.scale(a,a,b),a},d.rotate=function(a,b,c){if(0!==c){var d=Math.cos(c),e=Math.sin(c),f=b[0],g=b[1];a[0]=d*f-e*g,a[1]=e*f+d*g}else a[0]=b[0],a[1]=b[1]},d.rotate90cw=function(a,b){var c=b[0],d=b[1];a[0]=d,a[1]=-c},d.toLocalFrame=function(a,b,c,e){d.copy(a,b),d.sub(a,a,c),d.rotate(a,a,-e)},d.toGlobalFrame=function(a,b,c,e){d.copy(a,b),d.rotate(a,a,e),d.add(a,a,c)},d.vectorToLocalFrame=function(a,b,c){d.rotate(a,b,-c)},d.vectorToGlobalFrame=function(a,b,c){d.rotate(a,b,c)},d.centroid=function(a,b,c,e){return d.add(a,b,c),d.add(a,a,e),d.scale(a,a,1/3),a},d.create=function(){var a=new e.ARRAY_TYPE(2);return a[0]=0,a[1]=0,a},d.clone=function(a){var b=new e.ARRAY_TYPE(2);return b[0]=a[0],b[1]=a[1],b},d.fromValues=function(a,b){var c=new e.ARRAY_TYPE(2);return c[0]=a,c[1]=b,c},d.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a},d.set=function(a,b,c){return a[0]=b,a[1]=c,a},d.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},d.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},d.sub=d.subtract,d.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},d.mul=d.multiply,d.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},d.div=d.divide,d.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},d.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},d.dist=d.distance,d.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},d.sqrDist=d.squaredDistance,d.length=function(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)},d.len=d.length,d.squaredLength=function(a){var b=a[0],c=a[1];return b*b+c*c},d.sqrLen=d.squaredLength,d.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a},d.normalize=function(a,b){var c=b[0],d=b[1],e=c*c+d*d;return e>0&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e),a},d.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},d.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},d.lerp=function(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a},d.reflect=function(a,b,c){var d=b[0]*c[0]+b[1]*c[1];a[0]=b[0]-2*c[0]*d,a[1]=b[1]-2*c[1]*d},d.getLineSegmentsIntersection=function(a,b,c,e,f){var g=d.getLineSegmentsIntersectionFraction(b,c,e,f);return!(g<0)&&(a[0]=b[0]+g*(c[0]-b[0]),a[1]=b[1]+g*(c[1]-b[1]),!0)},d.getLineSegmentsIntersectionFraction=function(a,b,c,d){var e,f,g=b[0]-a[0],h=b[1]-a[1],i=d[0]-c[0],j=d[1]-c[1];return e=(-h*(a[0]-c[0])+g*(a[1]-c[1]))/(-i*h+g*j),f=(i*(a[1]-c[1])-j*(a[0]-c[0]))/(-i*h+g*j),e>=0&&e<=1&&f>=0&&f<=1?f:-1}},{"../utils/Utils":57}],31:[function(a,b,c){function d(a){a=a||{},k.call(this),this.id=a.id||++d._idCounter,this.world=null,this.shapes=[],this.mass=a.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!a.fixedRotation,this.fixedX=!!a.fixedX,this.fixedY=!!a.fixedY,this.massMultiplier=e.create(),this.position=e.fromValues(0,0),a.position&&e.copy(this.position,a.position),this.interpolatedPosition=e.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=e.fromValues(0,0),this.previousAngle=0,this.velocity=e.fromValues(0,0),a.velocity&&e.copy(this.velocity,a.velocity),this.vlambda=e.fromValues(0,0),this.wlambda=0,this.angle=a.angle||0,this.angularVelocity=a.angularVelocity||0,this.force=e.create(),a.force&&e.copy(this.force,a.force),this.angularForce=a.angularForce||0,this.damping="number"==typeof a.damping?a.damping:.1,this.angularDamping="number"==typeof a.angularDamping?a.angularDamping:.1,this.type=d.STATIC,void 0!==a.type?this.type=a.type:a.mass?this.type=d.DYNAMIC:this.type=d.STATIC,this.boundingRadius=0,this.aabb=new j,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===a.allowSleep||a.allowSleep,this.wantsToSleep=!1,this.sleepState=d.AWAKE,this.sleepSpeedLimit=void 0!==a.sleepSpeedLimit?a.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==a.sleepTimeLimit?a.sleepTimeLimit:1,this.gravityScale=void 0!==a.gravityScale?a.gravityScale:1,this.collisionResponse=void 0===a.collisionResponse||a.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==a.ccdSpeedThreshold?a.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==a.ccdIterations?a.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}var e=a("../math/vec2"),f=a("poly-decomp"),g=a("../shapes/Convex"),h=a("../collision/RaycastResult"),i=a("../collision/Ray"),j=a("../collision/AABB"),k=a("../events/EventEmitter");b.exports=d,d.prototype=new k,d.prototype.constructor=d,d._idCounter=0,d.prototype.updateSolveMassProperties=function(){this.sleepState===d.SLEEPING||this.type===d.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},d.prototype.setDensity=function(a){var b=this.getArea();this.mass=b*a,this.updateMassProperties()},d.prototype.getArea=function(){for(var a=0,b=0;b<this.shapes.length;b++)a+=this.shapes[b].area;return a},d.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var l=new j,m=e.create();d.prototype.updateAABB=function(){for(var a=this.shapes,b=a.length,c=m,d=this.angle,f=0;f!==b;f++){var g=a[f],h=g.angle+d;e.rotate(c,g.position,d),e.add(c,c,this.position),g.computeAABB(l,c,h),0===f?this.aabb.copy(l):this.aabb.extend(l)}this.aabbNeedsUpdate=!1},d.prototype.updateBoundingRadius=function(){for(var a=this.shapes,b=a.length,c=0,d=0;d!==b;d++){var f=a[d],g=e.length(f.position),h=f.boundingRadius;g+h>c&&(c=g+h)}this.boundingRadius=c},d.prototype.addShape=function(a,b,c){if(a.body)throw new Error("A shape can only be added to one body.");a.body=this,b?e.copy(a.position,b):e.set(a.position,0,0),a.angle=c||0,this.shapes.push(a),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},d.prototype.removeShape=function(a){var b=this.shapes.indexOf(a);return b!==-1&&(this.shapes.splice(b,1),this.aabbNeedsUpdate=!0,a.body=null,!0)},d.prototype.updateMassProperties=function(){if(this.type===d.STATIC||this.type===d.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var a=this.shapes,b=a.length,c=this.mass/b,f=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var g=0;g<b;g++){var h=a[g],i=e.squaredLength(h.position);f+=h.computeMomentOfInertia(c)+c*i}this.inertia=f,this.invInertia=f>0?1/f:0}this.invMass=1/this.mass,e.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}};e.create();d.prototype.applyForce=function(a,b){if(e.add(this.force,this.force,a),b){var c=e.crossLength(b,a);this.angularForce+=c}};var n=e.create(),o=e.create(),p=e.create();d.prototype.applyForceLocal=function(a,b){b=b||p;var c=n,d=o;this.vectorToWorldFrame(c,a),this.vectorToWorldFrame(d,b),this.applyForce(c,d)};var q=e.create();d.prototype.applyImpulse=function(a,b){if(this.type===d.DYNAMIC){var c=q;if(e.scale(c,a,this.invMass),e.multiply(c,this.massMultiplier,c),e.add(this.velocity,c,this.velocity),b){var f=e.crossLength(b,a);f*=this.invInertia,this.angularVelocity+=f}}};var r=e.create(),s=e.create(),t=e.create();d.prototype.applyImpulseLocal=function(a,b){b=b||t;var c=r,d=s;this.vectorToWorldFrame(c,a),this.vectorToWorldFrame(d,b),this.applyImpulse(c,d)},d.prototype.toLocalFrame=function(a,b){e.toLocalFrame(a,b,this.position,this.angle)},d.prototype.toWorldFrame=function(a,b){e.toGlobalFrame(a,b,this.position,this.angle)},d.prototype.vectorToLocalFrame=function(a,b){e.vectorToLocalFrame(a,b,this.angle)},d.prototype.vectorToWorldFrame=function(a,b){e.vectorToGlobalFrame(a,b,this.angle)},d.prototype.fromPolygon=function(a,b){b=b||{};for(var c=!1,d=this.shapes.length;d>=0;--d)this.removeShape(this.shapes[d]);var h=new f.Polygon;if(h.vertices=a,h.makeCCW(),"number"==typeof b.removeCollinearPoints&&h.removeCollinearPoints(b.removeCollinearPoints),void 0===b.skipSimpleCheck&&!h.isSimple())return!1;this.concavePath=h.vertices.slice(0);for(var d=0;d<this.concavePath.length;d++){var i=[0,0];e.copy(i,this.concavePath[d]),this.concavePath[d]=i}var j;j=b.optimalDecomp?h.decomp():h.quickDecomp();for(var k=e.create(),d=0;d!==j.length;d++){for(var l=new g({vertices:j[d].vertices}),m=0;m!==l.vertices.length;m++){var i=l.vertices[m];e.sub(i,i,l.centerOfMass)}e.scale(k,l.centerOfMass,1),l.updateTriangles(),l.updateCenterOfMass(),l.updateBoundingRadius(),this.addShape(l,k)}return"boolean"==typeof b.skipAdjustCenterOfMass&&(c=b.skipAdjustCenterOfMass),0==c&&this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0,!0};var u=(e.fromValues(0,0),e.fromValues(0,0)),v=e.fromValues(0,0),w=e.fromValues(0,0);d.prototype.adjustCenterOfMass=function(){var a=u,b=v,c=w,d=0;e.set(b,0,0);for(var f=0;f!==this.shapes.length;f++){var g=this.shapes[f];e.scale(a,g.position,g.area),e.add(b,b,a),d+=g.area}e.scale(c,b,1/d);for(var f=0;f!==this.shapes.length;f++){var g=this.shapes[f];e.sub(g.position,g.position,c)}e.add(this.position,this.position,c);for(var f=0;this.concavePath&&f<this.concavePath.length;f++)e.sub(this.concavePath[f],this.concavePath[f],c);this.updateMassProperties(),this.updateBoundingRadius()},d.prototype.setZeroForce=function(){e.set(this.force,0,0),this.angularForce=0},d.prototype.resetConstraintVelocity=function(){var a=this,b=a.vlambda;e.set(b,0,0),a.wlambda=0},d.prototype.addConstraintVelocity=function(){var a=this,b=a.velocity;e.add(b,b,a.vlambda),a.angularVelocity+=a.wlambda},d.prototype.applyDamping=function(a){if(this.type===d.DYNAMIC){var b=this.velocity;e.scale(b,b,Math.pow(1-this.damping,a)),this.angularVelocity*=Math.pow(1-this.angularDamping,a)}},d.prototype.wakeUp=function(){var a=this.sleepState;this.sleepState=d.AWAKE,this.idleTime=0,a!==d.AWAKE&&this.emit(d.wakeUpEvent)},d.prototype.sleep=function(){this.sleepState=d.SLEEPING,this.angularVelocity=0,this.angularForce=0,e.set(this.velocity,0,0),e.set(this.force,0,0),this.emit(d.sleepEvent)},d.prototype.sleepTick=function(a,b,c){if(this.allowSleep&&this.type!==d.SLEEPING){this.wantsToSleep=!1;this.sleepState;e.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)>=Math.pow(this.sleepSpeedLimit,2)?(this.idleTime=0,this.sleepState=d.AWAKE):(this.idleTime+=c,this.sleepState=d.SLEEPY),this.idleTime>this.sleepTimeLimit&&(b?this.wantsToSleep=!0:this.sleep())}},d.prototype.overlaps=function(a){return this.world.overlapKeeper.bodiesAreOverlapping(this,a)};var x=e.create(),y=e.create();d.prototype.integrate=function(a){var b=this.invMass,c=this.force,d=this.position,f=this.velocity;e.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*a),e.scale(x,c,a*b),e.multiply(x,this.massMultiplier,x),e.add(f,x,f),this.integrateToTimeOfImpact(a)||(e.scale(y,f,a),e.add(d,d,y),this.fixedRotation||(this.angle+=this.angularVelocity*a)),this.aabbNeedsUpdate=!0};var z=new h,A=new i({mode:i.ALL}),B=e.create(),C=e.create(),D=e.create(),E=e.create();d.prototype.integrateToTimeOfImpact=function(a){if(this.ccdSpeedThreshold<0||e.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;e.normalize(B,this.velocity),e.scale(C,this.velocity,a),e.add(C,C,this.position),e.sub(D,C,this.position);var b,c=this.angularVelocity*a,d=e.length(D),f=1,g=this;if(z.reset(),A.callback=function(a){a.body!==g&&(b=a.body,a.getHitPoint(C,A),e.sub(D,C,g.position),f=e.length(D)/d,a.stop())},e.copy(A.from,this.position),e.copy(A.to,C),A.update(),this.world.raycast(z,A),!b)return!1;var h=this.angle;e.copy(E,this.position);for(var i=0,j=0,k=0,l=f;l>=j&&i<this.ccdIterations;){i++,k=(l-j)/2,e.scale(y,D,f),e.add(this.position,E,y),this.angle=h+c*f,this.updateAABB();this.aabb.overlaps(b.aabb)&&this.world.narrowphase.bodiesOverlap(this,b)?j=k:l=k}return f=k,e.copy(this.position,E),this.angle=h,e.scale(y,D,f),e.add(this.position,this.position,y),this.fixedRotation||(this.angle+=c*f),!0},d.prototype.getVelocityAtPoint=function(a,b){return e.crossVZ(a,b,this.angularVelocity),e.subtract(a,this.velocity,a),a},d.sleepyEvent={type:"sleepy"},d.sleepEvent={type:"sleep"},d.wakeUpEvent={type:"wakeup"},d.DYNAMIC=1,d.STATIC=2,d.KINEMATIC=4,d.AWAKE=0,d.SLEEPY=1,d.SLEEPING=2},{"../collision/AABB":7,"../collision/Ray":11,"../collision/RaycastResult":12,"../events/EventEmitter":26,"../math/vec2":30,"../shapes/Convex":40,"poly-decomp":5}],32:[function(a,b,c){function d(a,b,c){c=c||{},f.call(this,a,b,c),this.localAnchorA=e.fromValues(0,0),this.localAnchorB=e.fromValues(0,0),c.localAnchorA&&e.copy(this.localAnchorA,c.localAnchorA),c.localAnchorB&&e.copy(this.localAnchorB,c.localAnchorB),c.worldAnchorA&&this.setWorldAnchorA(c.worldAnchorA),c.worldAnchorB&&this.setWorldAnchorB(c.worldAnchorB);var d=e.create(),g=e.create();this.getWorldAnchorA(d),this.getWorldAnchorB(g);var h=e.distance(d,g);this.restLength="number"==typeof c.restLength?c.restLength:h}var e=a("../math/vec2"),f=a("./Spring");a("../utils/Utils");b.exports=d,d.prototype=new f,d.prototype.constructor=d,d.prototype.setWorldAnchorA=function(a){this.bodyA.toLocalFrame(this.localAnchorA,a)},d.prototype.setWorldAnchorB=function(a){this.bodyB.toLocalFrame(this.localAnchorB,a)},d.prototype.getWorldAnchorA=function(a){this.bodyA.toWorldFrame(a,this.localAnchorA)},d.prototype.getWorldAnchorB=function(a){this.bodyB.toWorldFrame(a,this.localAnchorB)};var g=e.create(),h=e.create(),i=e.create(),j=e.create(),k=e.create(),l=e.create(),m=e.create(),n=e.create(),o=e.create();d.prototype.applyForce=function(){var a=this.stiffness,b=this.damping,c=this.restLength,d=this.bodyA,f=this.bodyB,p=g,q=h,r=i,s=j,t=o,u=k,v=l,w=m,x=n;this.getWorldAnchorA(u),this.getWorldAnchorB(v),e.sub(w,u,d.position),e.sub(x,v,f.position),e.sub(p,v,u);var y=e.len(p);e.normalize(q,p),e.sub(r,f.velocity,d.velocity),e.crossZV(t,f.angularVelocity,x),e.add(r,r,t),e.crossZV(t,d.angularVelocity,w),e.sub(r,r,t),e.scale(s,q,-a*(y-c)-b*e.dot(r,q)),e.sub(d.force,d.force,s),e.add(f.force,f.force,s);var z=e.crossLength(w,s),A=e.crossLength(x,s);d.angularForce-=z,f.angularForce+=A}},{"../math/vec2":30,"../utils/Utils":57,"./Spring":34}],33:[function(a,b,c){function d(a,b,c){c=c||{},e.call(this,a,b,c),this.restAngle="number"==typeof c.restAngle?c.restAngle:b.angle-a.angle}var e=(a("../math/vec2"),a("./Spring"));b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.applyForce=function(){var a=this.stiffness,b=this.damping,c=this.restAngle,d=this.bodyA,e=this.bodyB,f=e.angle-d.angle,g=e.angularVelocity-d.angularVelocity,h=-a*(f-c)-b*g*0;d.angularForce-=h,e.angularForce+=h}},{"../math/vec2":30,"./Spring":34}],34:[function(a,b,c){function d(a,b,c){c=e.defaults(c,{stiffness:100,damping:1}),this.stiffness=c.stiffness,this.damping=c.damping,this.bodyA=a,this.bodyB=b}var e=(a("../math/vec2"),a("../utils/Utils"));b.exports=d,d.prototype.applyForce=function(){}},{"../math/vec2":30,"../utils/Utils":57}],35:[function(a,b,c){function d(a,b){b=b||{},this.chassisBody=a,this.wheels=[],this.groundBody=new i({mass:0}),this.world=null;var c=this;this.preStepCallback=function(){c.update()}}function e(a,b){b=b||{},this.vehicle=a,this.forwardEquation=new h(a.chassisBody,a.groundBody),this.sideEquation=new h(a.chassisBody,a.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==b.sideFriction?b.sideFriction:5),this.localForwardVector=f.fromValues(0,1),b.localForwardVector&&f.copy(this.localForwardVector,b.localForwardVector),this.localPosition=f.fromValues(0,0),b.localPosition&&f.copy(this.localPosition,b.localPosition),g.apply(this,a.chassisBody,a.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}var f=a("../math/vec2"),g=(a("../utils/Utils"),a("../constraints/Constraint")),h=a("../equations/FrictionEquation"),i=a("../objects/Body");b.exports=d,d.prototype.addToWorld=function(a){this.world=a,a.addBody(this.groundBody),a.on("preStep",this.preStepCallback);for(var b=0;b<this.wheels.length;b++){var c=this.wheels[b];a.addConstraint(c)}},d.prototype.removeFromWorld=function(){var a=this.world;a.removeBody(this.groundBody),a.off("preStep",this.preStepCallback);for(var b=0;b<this.wheels.length;b++){var c=this.wheels[b];a.removeConstraint(c)}this.world=null},d.prototype.addWheel=function(a){var b=new e(this,a);return this.wheels.push(b),b},d.prototype.update=function(){for(var a=0;a<this.wheels.length;a++)this.wheels[a].update()},e.prototype=new g,e.prototype.setBrakeForce=function(a){this.forwardEquation.setSlipForce(a)},e.prototype.setSideFriction=function(a){this.sideEquation.setSlipForce(a)};var j=f.create(),k=f.create();e.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(k,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(j,k),f.dot(j,k)};var l=f.create();e.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),f.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),f.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),f.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),f.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),f.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),f.normalize(l,this.forwardEquation.t),f.scale(l,l,this.engineForce),this.vehicle.chassisBody.applyForce(l,this.forwardEquation.contactPointA)}},{"../constraints/Constraint":14,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],36:[function(a,b,c){var d=b.exports={AABB:a("./collision/AABB"),AngleLockEquation:a("./equations/AngleLockEquation"),Body:a("./objects/Body"),Broadphase:a("./collision/Broadphase"),Capsule:a("./shapes/Capsule"),Circle:a("./shapes/Circle"),Constraint:a("./constraints/Constraint"),ContactEquation:a("./equations/ContactEquation"),ContactEquationPool:a("./utils/ContactEquationPool"),ContactMaterial:a("./material/ContactMaterial"),Convex:a("./shapes/Convex"),DistanceConstraint:a("./constraints/DistanceConstraint"),Equation:a("./equations/Equation"),EventEmitter:a("./events/EventEmitter"),FrictionEquation:a("./equations/FrictionEquation"),FrictionEquationPool:a("./utils/FrictionEquationPool"),GearConstraint:a("./constraints/GearConstraint"),GSSolver:a("./solver/GSSolver"),Heightfield:a("./shapes/Heightfield"),Line:a("./shapes/Line"),LockConstraint:a("./constraints/LockConstraint"),Material:a("./material/Material"),Narrowphase:a("./collision/Narrowphase"),NaiveBroadphase:a("./collision/NaiveBroadphase"),Particle:a("./shapes/Particle"),Plane:a("./shapes/Plane"),Pool:a("./utils/Pool"),RevoluteConstraint:a("./constraints/RevoluteConstraint"),PrismaticConstraint:a("./constraints/PrismaticConstraint"),Ray:a("./collision/Ray"),RaycastResult:a("./collision/RaycastResult"),Box:a("./shapes/Box"),RotationalVelocityEquation:a("./equations/RotationalVelocityEquation"),SAPBroadphase:a("./collision/SAPBroadphase"),Shape:a("./shapes/Shape"),Solver:a("./solver/Solver"),Spring:a("./objects/Spring"),TopDownVehicle:a("./objects/TopDownVehicle"),LinearSpring:a("./objects/LinearSpring"),RotationalSpring:a("./objects/RotationalSpring"),Utils:a("./utils/Utils"),World:a("./world/World"),vec2:a("./math/vec2"),version:a("../package.json").version};Object.defineProperty(d,"Rectangle",{get:function(){return console.warn("The Rectangle class has been renamed to Box."),this.Box}})},{"../package.json":6,"./collision/AABB":7,"./collision/Broadphase":8,"./collision/NaiveBroadphase":9,"./collision/Narrowphase":10,"./collision/Ray":11,"./collision/RaycastResult":12,"./collision/SAPBroadphase":13,"./constraints/Constraint":14,"./constraints/DistanceConstraint":15,"./constraints/GearConstraint":16,"./constraints/LockConstraint":17,"./constraints/PrismaticConstraint":18,"./constraints/RevoluteConstraint":19,"./equations/AngleLockEquation":20,"./equations/ContactEquation":21,"./equations/Equation":22,"./equations/FrictionEquation":23,"./equations/RotationalVelocityEquation":25,"./events/EventEmitter":26,"./material/ContactMaterial":27,"./material/Material":28,"./math/vec2":30,"./objects/Body":31,"./objects/LinearSpring":32,"./objects/RotationalSpring":33,"./objects/Spring":34,"./objects/TopDownVehicle":35,"./shapes/Box":37,"./shapes/Capsule":38,"./shapes/Circle":39,"./shapes/Convex":40,"./shapes/Heightfield":41,"./shapes/Line":42,"./shapes/Particle":43,"./shapes/Plane":44,"./shapes/Shape":45,"./solver/GSSolver":46,"./solver/Solver":47,"./utils/ContactEquationPool":48,"./utils/FrictionEquationPool":49,"./utils/Pool":55,"./utils/Utils":57,"./world/World":61}],37:[function(a,b,c){function d(a){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(a={width:arguments[0],height:arguments[1]},console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })")),a=a||{};var b=this.width=a.width||1,c=this.height=a.height||1,d=[e.fromValues(-b/2,-c/2),e.fromValues(b/2,-c/2),e.fromValues(b/2,c/2),e.fromValues(-b/2,c/2)],h=[e.fromValues(1,0),e.fromValues(0,1)];a.vertices=d,a.axes=h,a.type=f.BOX,g.call(this,a)}var e=a("../math/vec2"),f=a("./Shape"),g=a("./Convex");b.exports=d,d.prototype=new g,d.prototype.constructor=d,d.prototype.computeMomentOfInertia=function(a){var b=this.width,c=this.height;return a*(c*c+b*b)/12},d.prototype.updateBoundingRadius=function(){var a=this.width,b=this.height;this.boundingRadius=Math.sqrt(a*a+b*b)/2};e.create(),e.create(),e.create(),e.create();d.prototype.computeAABB=function(a,b,c){a.setFromPoints(this.vertices,b,c,0)},d.prototype.updateArea=function(){this.area=this.width*this.height}},{"../math/vec2":30,"./Convex":40,"./Shape":45}],38:[function(a,b,c){function d(a){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(a={length:arguments[0],radius:arguments[1]},console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })")),a=a||{},this.length=a.length||1,this.radius=a.radius||1,a.type=e.CAPSULE,e.call(this,a)}var e=a("./Shape"),f=a("../math/vec2");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.computeMomentOfInertia=function(a){var b=this.radius,c=this.length+b,d=2*b;return a*(d*d+c*c)/12},d.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},d.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var g=f.create();d.prototype.computeAABB=function(a,b,c){var d=this.radius;f.set(g,this.length/2,0),0!==c&&f.rotate(g,g,c),f.set(a.upperBound,Math.max(g[0]+d,-g[0]+d),Math.max(g[1]+d,-g[1]+d)),f.set(a.lowerBound,Math.min(g[0]-d,-g[0]-d),Math.min(g[1]-d,-g[1]-d)),f.add(a.lowerBound,a.lowerBound,b),f.add(a.upperBound,a.upperBound,b)};var h=f.create(),i=f.create(),j=f.create(),k=f.create(),l=f.fromValues(0,1);d.prototype.raycast=function(a,b,c,d){for(var e=b.from,g=b.to,m=(b.direction,h),n=i,o=j,p=k,q=this.length/2,r=0;r<2;r++){var s=this.radius*(2*r-1);f.set(o,-q,s),f.set(p,q,s),f.toGlobalFrame(o,o,c,d),f.toGlobalFrame(p,p,c,d);var t=f.getLineSegmentsIntersectionFraction(e,g,o,p);if(t>=0&&(f.rotate(n,l,d),f.scale(n,n,2*r-1),b.reportIntersection(a,t,n,-1),a.shouldStop(b)))return}for(var u=Math.pow(this.radius,2)+Math.pow(q,2),r=0;r<2;r++){f.set(o,q*(2*r-1),0),f.toGlobalFrame(o,o,c,d);var v=Math.pow(g[0]-e[0],2)+Math.pow(g[1]-e[1],2),w=2*((g[0]-e[0])*(e[0]-o[0])+(g[1]-e[1])*(e[1]-o[1])),x=Math.pow(e[0]-o[0],2)+Math.pow(e[1]-o[1],2)-Math.pow(this.radius,2),t=Math.pow(w,2)-4*v*x;if(!(t<0))if(0===t){if(f.lerp(m,e,g,t),f.squaredDistance(m,c)>u&&(f.sub(n,m,o),f.normalize(n,n),b.reportIntersection(a,t,n,-1),a.shouldStop(b)))return}else{var y=Math.sqrt(t),z=1/(2*v),A=(-w-y)*z,B=(-w+y)*z;if(A>=0&&A<=1&&(f.lerp(m,e,g,A),f.squaredDistance(m,c)>u&&(f.sub(n,m,o),f.normalize(n,n),b.reportIntersection(a,A,n,-1),a.shouldStop(b))))return;if(B>=0&&B<=1&&(f.lerp(m,e,g,B),f.squaredDistance(m,c)>u&&(f.sub(n,m,o),f.normalize(n,n),b.reportIntersection(a,B,n,-1),a.shouldStop(b))))return}}}},{"../math/vec2":30,"./Shape":45}],39:[function(a,b,c){function d(a){"number"==typeof arguments[0]&&(a={radius:arguments[0]},console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })")),a=a||{},this.radius=a.radius||1,a.type=e.CIRCLE,e.call(this,a)}var e=a("./Shape"),f=a("../math/vec2");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.computeMomentOfInertia=function(a){var b=this.radius;return a*b*b/2},d.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},d.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},d.prototype.computeAABB=function(a,b,c){var d=this.radius;f.set(a.upperBound,d,d),f.set(a.lowerBound,-d,-d),b&&(f.add(a.lowerBound,a.lowerBound,b),f.add(a.upperBound,a.upperBound,b))};var g=f.create(),h=f.create();d.prototype.raycast=function(a,b,c,d){var e=b.from,i=b.to,j=this.radius,k=Math.pow(i[0]-e[0],2)+Math.pow(i[1]-e[1],2),l=2*((i[0]-e[0])*(e[0]-c[0])+(i[1]-e[1])*(e[1]-c[1])),m=Math.pow(e[0]-c[0],2)+Math.pow(e[1]-c[1],2)-Math.pow(j,2),n=Math.pow(l,2)-4*k*m,o=g,p=h;if(!(n<0))if(0===n)f.lerp(o,e,i,n),f.sub(p,o,c),f.normalize(p,p),b.reportIntersection(a,n,p,-1);else{var q=Math.sqrt(n),r=1/(2*k),s=(-l-q)*r,t=(-l+q)*r;if(s>=0&&s<=1&&(f.lerp(o,e,i,s),f.sub(p,o,c),f.normalize(p,p),b.reportIntersection(a,s,p,-1),a.shouldStop(b)))return;t>=0&&t<=1&&(f.lerp(o,e,i,t),f.sub(p,o,c),f.normalize(p,p),b.reportIntersection(a,t,p,-1))}}},{"../math/vec2":30,"./Shape":45}],40:[function(a,b,c){function d(a){Array.isArray(arguments[0])&&(a={vertices:arguments[0],axes:arguments[1]},console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })")),a=a||{},this.vertices=[];for(var b=void 0!==a.vertices?a.vertices:[],c=0;c<b.length;c++){var d=f.create();f.copy(d,b[c]),this.vertices.push(d)}if(this.axes=[],a.axes)for(var c=0;c<a.axes.length;c++){var g=f.create();f.copy(g,a.axes[c]),this.axes.push(g)}else for(var c=0;c<this.vertices.length;c++){var h=this.vertices[c],i=this.vertices[(c+1)%this.vertices.length],j=f.create();f.sub(j,i,h),f.rotate90cw(j,j),f.normalize(j,j),this.axes.push(j)}if(this.centerOfMass=f.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,a.type=e.CONVEX,e.call(this,a),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}var e=a("./Shape"),f=a("../math/vec2"),g=a("../math/polyk");a("poly-decomp");b.exports=d,d.prototype=new e,d.prototype.constructor=d;var h=f.create(),i=f.create();d.prototype.projectOntoLocalAxis=function(a,b){for(var c,d,e=null,g=null,a=h,i=0;i<this.vertices.length;i++)c=this.vertices[i],d=f.dot(c,a),(null===e||d>e)&&(e=d),(null===g||d<g)&&(g=d);if(g>e){var j=g;g=e,e=j}f.set(b,g,e)},d.prototype.projectOntoWorldAxis=function(a,b,c,d){var e=i;this.projectOntoLocalAxis(a,d),0!==c?f.rotate(e,a,c):e=a;var g=f.dot(b,e);f.set(d,d[0]+g,d[1]+g)},d.prototype.updateTriangles=function(){this.triangles.length=0;for(var a=[],b=0;b<this.vertices.length;b++){var c=this.vertices[b];a.push(c[0],c[1])}for(var d=g.Triangulate(a),b=0;b<d.length;b+=3){var e=d[b],f=d[b+1],h=d[b+2];this.triangles.push([e,f,h])}};var j=f.create(),k=f.create(),l=f.create(),m=f.create(),n=f.create();f.create(),f.create(),f.create(),f.create();d.prototype.updateCenterOfMass=function(){var a=this.triangles,b=this.vertices,c=this.centerOfMass,e=j,g=l,h=m,i=n,o=k;f.set(c,0,0);for(var p=0,q=0;q!==a.length;q++){var r=a[q],g=b[r[0]],h=b[r[1]],i=b[r[2]];f.centroid(e,g,h,i);var s=d.triangleArea(g,h,i);p+=s,f.scale(o,e,s),f.add(c,c,o)}f.scale(c,c,1/p)},d.prototype.computeMomentOfInertia=function(a){for(var b=0,c=0,d=this.vertices.length,e=d-1,g=0;g<d;e=g,g++){var h=this.vertices[e],i=this.vertices[g],j=Math.abs(f.crossLength(h,i));b+=j*(f.dot(i,i)+f.dot(i,h)+f.dot(h,h)),c+=j}return a/6*(b/c)},d.prototype.updateBoundingRadius=function(){for(var a=this.vertices,b=0,c=0;c!==a.length;c++){var d=f.squaredLength(a[c]);d>b&&(b=d)}this.boundingRadius=Math.sqrt(b)},d.triangleArea=function(a,b,c){return.5*((b[0]-a[0])*(c[1]-a[1])-(c[0]-a[0])*(b[1]-a[1]))},d.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var a=this.triangles,b=this.vertices,c=0;c!==a.length;c++){var e=a[c],f=b[e[0]],g=b[e[1]],h=b[e[2]],i=d.triangleArea(f,g,h);this.area+=i}},d.prototype.computeAABB=function(a,b,c){a.setFromPoints(this.vertices,b,c,0)};var o=f.create(),p=f.create(),q=f.create();d.prototype.raycast=function(a,b,c,d){var e=o,g=p,h=q,i=this.vertices;f.toLocalFrame(e,b.from,c,d),f.toLocalFrame(g,b.to,c,d);for(var j=i.length,k=0;k<j&&!a.shouldStop(b);k++){var l=i[k],m=i[(k+1)%j],n=f.getLineSegmentsIntersectionFraction(e,g,l,m);n>=0&&(f.sub(h,m,l),f.rotate(h,h,-Math.PI/2+d),f.normalize(h,h),b.reportIntersection(a,n,h,k))}}},{"../math/polyk":29,"../math/vec2":30,"./Shape":45,"poly-decomp":5}],41:[function(a,b,c){function d(a){if(Array.isArray(arguments[0])){if(a={heights:arguments[0]},
"object"==typeof arguments[1])for(var b in arguments[1])a[b]=arguments[1][b];console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")}a=a||{},this.heights=a.heights?a.heights.slice(0):[],this.maxValue=a.maxValue||null,this.minValue=a.minValue||null,this.elementWidth=a.elementWidth||.1,void 0!==a.maxValue&&void 0!==a.minValue||this.updateMaxMinValues(),a.type=e.HEIGHTFIELD,e.call(this,a)}var e=a("./Shape"),f=a("../math/vec2");a("../utils/Utils");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.updateMaxMinValues=function(){for(var a=this.heights,b=a[0],c=a[0],d=0;d!==a.length;d++){var e=a[d];e>b&&(b=e),e<c&&(c=e)}this.maxValue=b,this.minValue=c},d.prototype.computeMomentOfInertia=function(a){return Number.MAX_VALUE},d.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},d.prototype.updateArea=function(){for(var a=this.heights,b=0,c=0;c<a.length-1;c++)b+=(a[c]+a[c+1])/2*this.elementWidth;this.area=b};var g=[f.create(),f.create(),f.create(),f.create()];d.prototype.computeAABB=function(a,b,c){f.set(g[0],0,this.maxValue),f.set(g[1],this.elementWidth*this.heights.length,this.maxValue),f.set(g[2],this.elementWidth*this.heights.length,this.minValue),f.set(g[3],0,this.minValue),a.setFromPoints(g,b,c)},d.prototype.getLineSegment=function(a,b,c){var d=this.heights,e=this.elementWidth;f.set(a,c*e,d[c]),f.set(b,(c+1)*e,d[c+1])},d.prototype.getSegmentIndex=function(a){return Math.floor(a[0]/this.elementWidth)},d.prototype.getClampedSegmentIndex=function(a){var b=this.getSegmentIndex(a);return b=Math.min(this.heights.length,Math.max(b,0))};var h=(f.create(),f.create()),i=f.create(),j=f.create(),k=f.create(),l=f.create();f.fromValues(0,1);d.prototype.raycast=function(a,b,c,d){var e=b.from,g=b.to,m=(b.direction,h),n=i,o=j,p=k,q=l;f.toLocalFrame(p,e,c,d),f.toLocalFrame(q,g,c,d);var r=this.getClampedSegmentIndex(p),s=this.getClampedSegmentIndex(q);if(r>s){var t=r;r=s,s=t}for(var u=0;u<this.heights.length-1;u++){this.getLineSegment(n,o,u);var v=f.getLineSegmentsIntersectionFraction(p,q,n,o);if(v>=0&&(f.sub(m,o,n),f.rotate(m,m,d+Math.PI/2),f.normalize(m,m),b.reportIntersection(a,v,m,-1),a.shouldStop(b)))return}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],42:[function(a,b,c){function d(a){"number"==typeof arguments[0]&&(a={length:arguments[0]},console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })")),a=a||{},this.length=a.length||1,a.type=e.LINE,e.call(this,a)}var e=a("./Shape"),f=a("../math/vec2");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.computeMomentOfInertia=function(a){return a*Math.pow(this.length,2)/12},d.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var g=[f.create(),f.create()];d.prototype.computeAABB=function(a,b,c){var d=this.length/2;f.set(g[0],-d,0),f.set(g[1],d,0),a.setFromPoints(g,b,c,0)};var h=(f.create(),f.create()),i=f.create(),j=f.create(),k=f.fromValues(0,1);d.prototype.raycast=function(a,b,c,d){var e=b.from,g=b.to,l=i,m=j,n=this.length/2;f.set(l,-n,0),f.set(m,n,0),f.toGlobalFrame(l,l,c,d),f.toGlobalFrame(m,m,c,d);var o=f.getLineSegmentsIntersectionFraction(l,m,e,g);if(o>=0){var p=h;f.rotate(p,k,d),b.reportIntersection(a,o,p,-1)}}},{"../math/vec2":30,"./Shape":45}],43:[function(a,b,c){function d(a){a=a||{},a.type=e.PARTICLE,e.call(this,a)}var e=a("./Shape"),f=a("../math/vec2");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.computeMomentOfInertia=function(a){return 0},d.prototype.updateBoundingRadius=function(){this.boundingRadius=0},d.prototype.computeAABB=function(a,b,c){f.copy(a.lowerBound,b),f.copy(a.upperBound,b)}},{"../math/vec2":30,"./Shape":45}],44:[function(a,b,c){function d(a){a=a||{},a.type=e.PLANE,e.call(this,a)}var e=a("./Shape"),f=a("../math/vec2");a("../utils/Utils");b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.computeMomentOfInertia=function(a){return 0},d.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},d.prototype.computeAABB=function(a,b,c){var d=c%(2*Math.PI),e=f.set,g=Number.MAX_VALUE,h=a.lowerBound,i=a.upperBound;0===d?(e(h,-g,-g),e(i,g,0)):d===Math.PI/2?(e(h,0,-g),e(i,g,g)):d===Math.PI?(e(h,-g,0),e(i,g,g)):d===3*Math.PI/2?(e(h,-g,-g),e(i,0,g)):(e(h,-g,-g),e(i,g,g)),f.add(h,h,b),f.add(i,i,b)},d.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var g=f.create(),h=(f.create(),f.create(),f.create()),i=f.create();d.prototype.raycast=function(a,b,c,d){var e=b.from,j=b.to,k=b.direction,l=g,m=h,n=i;f.set(m,0,1),f.rotate(m,m,d),f.sub(n,e,c);var o=f.dot(n,m);if(f.sub(n,j,c),!(o*f.dot(n,m)>0||f.squaredDistance(e,j)<o*o)){var p=f.dot(m,k);f.sub(l,e,c);var q=-f.dot(m,l)/p/b.length;b.reportIntersection(a,q,m,-1)}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],45:[function(a,b,c){function d(a){a=a||{},this.body=null,this.position=e.fromValues(0,0),a.position&&e.copy(this.position,a.position),this.angle=a.angle||0,this.type=a.type||0,this.id=d.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==a.collisionGroup?a.collisionGroup:1,this.collisionResponse=void 0===a.collisionResponse||a.collisionResponse,this.collisionMask=void 0!==a.collisionMask?a.collisionMask:1,this.material=a.material||null,this.area=0,this.sensor=void 0!==a.sensor&&a.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}b.exports=d;var e=a("../math/vec2");d.idCounter=0,d.CIRCLE=1,d.PARTICLE=2,d.PLANE=4,d.CONVEX=8,d.LINE=16,d.BOX=32,Object.defineProperty(d,"RECTANGLE",{get:function(){return console.warn("Shape.RECTANGLE is deprecated, use Shape.BOX instead."),d.BOX}}),d.CAPSULE=64,d.HEIGHTFIELD=128,d.prototype.computeMomentOfInertia=function(a){},d.prototype.updateBoundingRadius=function(){},d.prototype.updateArea=function(){},d.prototype.computeAABB=function(a,b,c){},d.prototype.raycast=function(a,b,c,d){}},{"../math/vec2":30}],46:[function(a,b,c){function d(a){g.call(this,a,g.GS),a=a||{},this.iterations=a.iterations||10,this.tolerance=a.tolerance||1e-7,this.arrayStep=30,this.lambda=new h.ARRAY_TYPE(this.arrayStep),this.Bs=new h.ARRAY_TYPE(this.arrayStep),this.invCs=new h.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=0,this.usedIterations=0}function e(a){for(var b=a.length;b--;)a[b]=0}var f=a("../math/vec2"),g=a("./Solver"),h=a("../utils/Utils"),i=a("../equations/FrictionEquation");b.exports=d,d.prototype=new g,d.prototype.constructor=d,d.prototype.solve=function(a,b){this.sortEquations();var c=0,g=this.iterations,j=this.frictionIterations,k=this.equations,l=k.length,m=Math.pow(this.tolerance*l,2),n=b.bodies,o=b.bodies.length,p=(f.add,f.set,this.useZeroRHS),q=this.lambda;if(this.usedIterations=0,l)for(var r=0;r!==o;r++){var s=n[r];s.updateSolveMassProperties()}q.length<l&&(q=this.lambda=new h.ARRAY_TYPE(l+this.arrayStep),this.Bs=new h.ARRAY_TYPE(l+this.arrayStep),this.invCs=new h.ARRAY_TYPE(l+this.arrayStep)),e(q);for(var t=this.invCs,u=this.Bs,q=this.lambda,r=0;r!==k.length;r++){var v=k[r];(v.timeStep!==a||v.needsUpdate)&&(v.timeStep=a,v.update()),u[r]=v.computeB(v.a,v.b,a),t[r]=v.computeInvC(v.epsilon)}var v,w,r,x;if(0!==l){for(r=0;r!==o;r++){var s=n[r];s.resetConstraintVelocity()}if(j){for(c=0;c!==j;c++){for(w=0,x=0;x!==l;x++){v=k[x];var y=d.iterateEquation(x,v,v.epsilon,u,t,q,p,a,c);w+=Math.abs(y)}if(this.usedIterations++,w*w<=m)break}for(d.updateMultipliers(k,q,1/a),x=0;x!==l;x++){var z=k[x];if(z instanceof i){for(var A=0,B=0;B!==z.contactEquations.length;B++)A+=z.contactEquations[B].multiplier;A*=z.frictionCoefficient/z.contactEquations.length,z.maxForce=A,z.minForce=-A}}}for(c=0;c!==g;c++){for(w=0,x=0;x!==l;x++){v=k[x];var y=d.iterateEquation(x,v,v.epsilon,u,t,q,p,a,c);w+=Math.abs(y)}if(this.usedIterations++,w*w<=m)break}for(r=0;r!==o;r++)n[r].addConstraintVelocity();d.updateMultipliers(k,q,1/a)}},d.updateMultipliers=function(a,b,c){for(var d=a.length;d--;)a[d].multiplier=b[d]*c},d.iterateEquation=function(a,b,c,d,e,f,g,h,i){var j=d[a],k=e[a],l=f[a],m=b.computeGWlambda(),n=b.maxForce,o=b.minForce;g&&(j=0);var p=k*(j-m-c*l),q=l+p;return q<o*h?p=o*h-l:q>n*h&&(p=n*h-l),f[a]+=p,b.addToWlambda(p),p}},{"../equations/FrictionEquation":23,"../math/vec2":30,"../utils/Utils":57,"./Solver":47}],47:[function(a,b,c){function d(a,b){a=a||{},e.call(this),this.type=b,this.equations=[],this.equationSortFunction=a.equationSortFunction||!1}var e=(a("../utils/Utils"),a("../events/EventEmitter"));b.exports=d,d.prototype=new e,d.prototype.constructor=d,d.prototype.solve=function(a,b){throw new Error("Solver.solve should be implemented by subclasses!")};var f={bodies:[]};d.prototype.solveIsland=function(a,b){this.removeAllEquations(),b.equations.length&&(this.addEquations(b.equations),f.bodies.length=0,b.getBodies(f.bodies),f.bodies.length&&this.solve(a,f))},d.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},d.prototype.addEquation=function(a){a.enabled&&this.equations.push(a)},d.prototype.addEquations=function(a){for(var b=0,c=a.length;b!==c;b++){var d=a[b];d.enabled&&this.equations.push(d)}},d.prototype.removeEquation=function(a){var b=this.equations.indexOf(a);b!==-1&&this.equations.splice(b,1)},d.prototype.removeAllEquations=function(){this.equations.length=0},d.GS=1,d.ISLAND=2},{"../events/EventEmitter":26,"../utils/Utils":57}],48:[function(a,b,c){function d(){f.apply(this,arguments)}var e=a("../equations/ContactEquation"),f=a("./Pool");b.exports=d,d.prototype=new f,d.prototype.constructor=d,d.prototype.create=function(){return new e},d.prototype.destroy=function(a){return a.bodyA=a.bodyB=null,this}},{"../equations/ContactEquation":21,"./Pool":55}],49:[function(a,b,c){function d(){f.apply(this,arguments)}var e=a("../equations/FrictionEquation"),f=a("./Pool");b.exports=d,d.prototype=new f,d.prototype.constructor=d,d.prototype.create=function(){return new e},d.prototype.destroy=function(a){return a.bodyA=a.bodyB=null,this}},{"../equations/FrictionEquation":23,"./Pool":55}],50:[function(a,b,c){function d(){f.apply(this,arguments)}var e=a("../world/IslandNode"),f=a("./Pool");b.exports=d,d.prototype=new f,d.prototype.constructor=d,d.prototype.create=function(){return new e},d.prototype.destroy=function(a){return a.reset(),this}},{"../world/IslandNode":60,"./Pool":55}],51:[function(a,b,c){function d(){f.apply(this,arguments)}var e=a("../world/Island"),f=a("./Pool");b.exports=d,d.prototype=new f,d.prototype.constructor=d,d.prototype.create=function(){return new e},d.prototype.destroy=function(a){return a.reset(),this}},{"../world/Island":58,"./Pool":55}],52:[function(a,b,c){function d(){this.overlappingShapesLastState=new e,this.overlappingShapesCurrentState=new e,this.recordPool=new f({size:16}),this.tmpDict=new e,this.tmpArray1=[]}var e=a("./TupleDictionary"),f=(a("./OverlapKeeperRecord"),a("./OverlapKeeperRecordPool"));a("./Utils");b.exports=d,d.prototype.tick=function(){for(var a=this.overlappingShapesLastState,b=this.overlappingShapesCurrentState,c=a.keys.length;c--;){var d=a.keys[c],e=a.getByKey(d);b.getByKey(d);e&&this.recordPool.release(e)}a.reset(),a.copy(b),b.reset()},d.prototype.setOverlapping=function(a,b,c,d){var e=(this.overlappingShapesLastState,this.overlappingShapesCurrentState);if(!e.get(b.id,d.id)){var f=this.recordPool.get();f.set(a,b,c,d),e.set(b.id,d.id,f)}},d.prototype.getNewOverlaps=function(a){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,a)},d.prototype.getEndOverlaps=function(a){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,a)},d.prototype.bodiesAreOverlapping=function(a,b){for(var c=this.overlappingShapesCurrentState,d=c.keys.length;d--;){var e=c.keys[d],f=c.data[e];if(f.bodyA===a&&f.bodyB===b||f.bodyA===b&&f.bodyB===a)return!0}return!1},d.prototype.getDiff=function(a,b,c){var c=c||[],d=a,e=b;c.length=0;for(var f=e.keys.length;f--;){var g=e.keys[f],h=e.data[g];if(!h)throw new Error("Key "+g+" had no data!");d.data[g]||c.push(h)}return c},d.prototype.isNewOverlap=function(a,b){var c=0|a.id,d=0|b.id,e=this.overlappingShapesLastState,f=this.overlappingShapesCurrentState;return!e.get(c,d)&&!!f.get(c,d)},d.prototype.getNewBodyOverlaps=function(a){this.tmpArray1.length=0;var b=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(b,a)},d.prototype.getEndBodyOverlaps=function(a){this.tmpArray1.length=0;var b=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(b,a)},d.prototype.getBodyDiff=function(a,b){b=b||[];for(var c=this.tmpDict,d=a.length;d--;){var e=a[d];c.set(0|e.bodyA.id,0|e.bodyB.id,e)}for(d=c.keys.length;d--;){var e=c.getByKey(c.keys[d]);e&&b.push(e.bodyA,e.bodyB)}return c.reset(),b}},{"./OverlapKeeperRecord":53,"./OverlapKeeperRecordPool":54,"./TupleDictionary":56,"./Utils":57}],53:[function(a,b,c){function d(a,b,c,d){this.shapeA=b,this.shapeB=d,this.bodyA=a,this.bodyB=c}b.exports=d,d.prototype.set=function(a,b,c,e){d.call(this,a,b,c,e)}},{}],54:[function(a,b,c){function d(){f.apply(this,arguments)}var e=a("./OverlapKeeperRecord"),f=a("./Pool");b.exports=d,d.prototype=new f,d.prototype.constructor=d,d.prototype.create=function(){return new e},d.prototype.destroy=function(a){return a.bodyA=a.bodyB=a.shapeA=a.shapeB=null,this}},{"./OverlapKeeperRecord":53,"./Pool":55}],55:[function(a,b,c){function d(a){a=a||{},this.objects=[],void 0!==a.size&&this.resize(a.size)}b.exports=d,d.prototype.resize=function(a){for(var b=this.objects;b.length>a;)b.pop();for(;b.length<a;)b.push(this.create());return this},d.prototype.get=function(){var a=this.objects;return a.length?a.pop():this.create()},d.prototype.release=function(a){return this.destroy(a),this.objects.push(a),this}},{}],56:[function(a,b,c){function d(){this.data={},this.keys=[]}var e=a("./Utils");b.exports=d,d.prototype.getKey=function(a,b){return a|=0,b|=0,(0|a)==(0|b)?-1:0|((0|a)>(0|b)?a<<16|65535&b:b<<16|65535&a)},d.prototype.getByKey=function(a){return a|=0,this.data[a]},d.prototype.get=function(a,b){return this.data[this.getKey(a,b)]},d.prototype.set=function(a,b,c){if(!c)throw new Error("No data!");var d=this.getKey(a,b);return this.data[d]||this.keys.push(d),this.data[d]=c,d},d.prototype.reset=function(){for(var a=this.data,b=this.keys,c=b.length;c--;)delete a[b[c]];b.length=0},d.prototype.copy=function(a){this.reset(),e.appendArray(this.keys,a.keys);for(var b=a.keys.length;b--;){var c=a.keys[b];this.data[c]=a.data[c]}}},{"./Utils":57}],57:[function(a,b,c){function d(){}b.exports=d,d.appendArray=function(a,b){if(b.length<15e4)a.push.apply(a,b);else for(var c=0,d=b.length;c!==d;++c)a.push(b[c])},d.splice=function(a,b,c){c=c||1;for(var d=b,e=a.length-c;d<e;d++)a[d]=a[d+c];a.length=e},"undefined"!=typeof P2_ARRAY_TYPE?d.ARRAY_TYPE=P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?d.ARRAY_TYPE=Float32Array:d.ARRAY_TYPE=Array,d.extend=function(a,b){for(var c in b)a[c]=b[c]},d.defaults=function(a,b){a=a||{};for(var c in b)c in a||(a[c]=b[c]);return a}},{}],58:[function(a,b,c){function d(){this.equations=[],this.bodies=[]}var e=a("../objects/Body");b.exports=d,d.prototype.reset=function(){this.equations.length=this.bodies.length=0};var f=[];d.prototype.getBodies=function(a){var b=a||[],c=this.equations;f.length=0;for(var d=0;d!==c.length;d++){var e=c[d];f.indexOf(e.bodyA.id)===-1&&(b.push(e.bodyA),f.push(e.bodyA.id)),f.indexOf(e.bodyB.id)===-1&&(b.push(e.bodyB),f.push(e.bodyB.id))}return b},d.prototype.wantsToSleep=function(){for(var a=0;a<this.bodies.length;a++){var b=this.bodies[a];if(b.type===e.DYNAMIC&&!b.wantsToSleep)return!1}return!0},d.prototype.sleep=function(){for(var a=0;a<this.bodies.length;a++){this.bodies[a].sleep()}return!0}},{"../objects/Body":31}],59:[function(a,b,c){function d(a){this.nodePool=new e({size:16}),this.islandPool=new f({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}var e=(a("../math/vec2"),a("./Island"),a("./IslandNode"),a("./../utils/IslandNodePool")),f=a("./../utils/IslandPool"),g=a("../objects/Body");b.exports=d,d.getUnvisitedNode=function(a){for(var b=a.length,c=0;c!==b;c++){var d=a[c];if(!d.visited&&d.body.type===g.DYNAMIC)return d}return!1},d.prototype.visit=function(a,b,c){b.push(a.body);for(var d=a.equations.length,e=0;e!==d;e++){var f=a.equations[e];c.indexOf(f)===-1&&c.push(f)}},d.prototype.bfs=function(a,b,c){var e=this.queue;for(e.length=0,e.push(a),a.visited=!0,this.visit(a,b,c);e.length;)for(var f,h=e.pop();f=d.getUnvisitedNode(h.neighbors);)f.visited=!0,this.visit(f,b,c),f.body.type===g.DYNAMIC&&e.push(f)},d.prototype.split=function(a){for(var b=a.bodies,c=this.nodes,e=this.equations;c.length;)this.nodePool.release(c.pop());for(var f=0;f!==b.length;f++){var g=this.nodePool.get();g.body=b[f],c.push(g)}for(var h=0;h!==e.length;h++){var i=e[h],f=b.indexOf(i.bodyA),j=b.indexOf(i.bodyB),k=c[f],l=c[j];k.neighbors.push(l),l.neighbors.push(k),k.equations.push(i),l.equations.push(i)}for(var m=this.islands,f=0;f<m.length;f++)this.islandPool.release(m[f]);m.length=0;for(var n;n=d.getUnvisitedNode(c);){var o=this.islandPool.get();this.bfs(n,o.bodies,o.equations),m.push(o)}return m}},{"../math/vec2":30,"../objects/Body":31,"./../utils/IslandNodePool":50,"./../utils/IslandPool":51,"./Island":58,"./IslandNode":60}],60:[function(a,b,c){function d(a){this.body=a,this.neighbors=[],this.equations=[],this.visited=!1}b.exports=d,d.prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},{}],61:[function(a,b,c){function d(a){l.apply(this),a=a||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=a.solver||new e,this.narrowphase=new r(this),this.islandManager=new u,this.gravity=f.fromValues(0,-9.78),a.gravity&&f.copy(this.gravity,a.gravity),this.frictionGravity=f.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=a.broadphase||new q,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new n,this.defaultContactMaterial=new o(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit=void 0===a.islandSplit||!!a.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=d.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new t}var e=a("../solver/GSSolver"),f=(a("../solver/Solver"),a("../collision/Ray"),a("../math/vec2")),g=a("../shapes/Circle"),h=a("../shapes/Convex"),i=(a("../shapes/Line"),a("../shapes/Plane")),j=a("../shapes/Capsule"),k=a("../shapes/Particle"),l=a("../events/EventEmitter"),m=a("../objects/Body"),n=(a("../shapes/Shape"),a("../objects/LinearSpring"),a("../material/Material")),o=a("../material/ContactMaterial"),p=(a("../constraints/DistanceConstraint"),a("../constraints/Constraint"),a("../constraints/LockConstraint"),a("../constraints/RevoluteConstraint"),a("../constraints/PrismaticConstraint"),a("../constraints/GearConstraint"),a("../../package.json"),a("../collision/Broadphase"),a("../collision/AABB")),q=a("../collision/SAPBroadphase"),r=a("../collision/Narrowphase"),s=a("../utils/Utils"),t=a("../utils/OverlapKeeper"),u=a("./IslandManager");a("../objects/RotationalSpring");b.exports=d,d.prototype=new Object(l.prototype),d.prototype.constructor=d,d.NO_SLEEPING=1,d.BODY_SLEEPING=2,d.ISLAND_SLEEPING=4,d.prototype.addConstraint=function(a){this.constraints.push(a)},d.prototype.addContactMaterial=function(a){this.contactMaterials.push(a)},d.prototype.removeContactMaterial=function(a){var b=this.contactMaterials.indexOf(a);b!==-1&&s.splice(this.contactMaterials,b,1)},d.prototype.getContactMaterial=function(a,b){for(var c=this.contactMaterials,d=0,e=c.length;d!==e;d++){var f=c[d];if(f.materialA.id===a.id&&f.materialB.id===b.id||f.materialA.id===b.id&&f.materialB.id===a.id)return f}return!1},d.prototype.removeConstraint=function(a){var b=this.constraints.indexOf(a);b!==-1&&s.splice(this.constraints,b,1)};var v=(f.create(),f.create(),f.create(),f.create(),f.create(),f.create(),f.create()),w=f.fromValues(0,0),x=f.fromValues(0,0);f.fromValues(0,0),f.fromValues(0,0);d.prototype.step=function(a,b,c){if(c=c||10,0===(b=b||0))this.internalStep(a),this.time+=a;else{this.accumulator+=b;for(var d=0;this.accumulator>=a&&d<c;)this.internalStep(a),this.time+=a,this.accumulator-=a,d++;for(var e=this.accumulator%a/a,g=0;g!==this.bodies.length;g++){var h=this.bodies[g];f.lerp(h.interpolatedPosition,h.previousPosition,h.position,e),h.interpolatedAngle=h.previousAngle+e*(h.angle-h.previousAngle)}}};var y=[];d.prototype.internalStep=function(a){this.stepping=!0;var b=this.springs.length,c=this.springs,e=this.bodies,g=this.gravity,h=this.solver,i=this.bodies.length,j=this.broadphase,k=this.narrowphase,l=this.constraints,n=v,o=(f.scale,f.add),p=(f.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=a,this.useWorldGravityAsFrictionGravity){var q=f.length(this.gravity);0===q&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=q)}if(this.applyGravity)for(var r=0;r!==i;r++){var t=e[r],u=t.force;t.type===m.DYNAMIC&&t.sleepState!==m.SLEEPING&&(f.scale(n,g,t.mass*t.gravityScale),o(u,u,n))}if(this.applySpringForces)for(var r=0;r!==b;r++){var w=c[r];w.applyForce()}if(this.applyDamping)for(var r=0;r!==i;r++){var t=e[r];t.type===m.DYNAMIC&&t.applyDamping(a)}for(var x=j.getCollisionPairs(this),z=this.disabledBodyCollisionPairs,r=z.length-2;r>=0;r-=2)for(var A=x.length-2;A>=0;A-=2)(z[r]===x[A]&&z[r+1]===x[A+1]||z[r+1]===x[A]&&z[r]===x[A+1])&&x.splice(A,2);var B=l.length;for(r=0;r!==B;r++){var C=l[r];if(!C.collideConnected)for(var A=x.length-2;A>=0;A-=2)(C.bodyA===x[A]&&C.bodyB===x[A+1]||C.bodyB===x[A]&&C.bodyA===x[A+1])&&x.splice(A,2)}this.postBroadphaseEvent.pairs=x,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,k.reset(this);for(var r=0,D=x.length;r!==D;r+=2)for(var E=x[r],F=x[r+1],G=0,H=E.shapes.length;G!==H;G++)for(var I=E.shapes[G],J=I.position,K=I.angle,L=0,M=F.shapes.length;L!==M;L++){var N=F.shapes[L],O=N.position,P=N.angle,Q=this.defaultContactMaterial;if(I.material&&N.material){var R=this.getContactMaterial(I.material,N.material);R&&(Q=R)}this.runNarrowphase(k,E,I,J,K,F,N,O,P,Q,this.frictionGravity)}for(var r=0;r!==i;r++){var S=e[r];S._wakeUpAfterNarrowphase&&(S.wakeUp(),S._wakeUpAfterNarrowphase=!1)}if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(y);for(var T=this.endContactEvent,L=y.length;L--;){var U=y[L];T.shapeA=U.shapeA,T.shapeB=U.shapeB,T.bodyA=U.bodyA,T.bodyB=U.bodyB,this.emit(T)}y.length=0}var V=this.preSolveEvent;V.contactEquations=k.contactEquations,V.frictionEquations=k.frictionEquations,this.emit(V),V.contactEquations=V.frictionEquations=null;var B=l.length;for(r=0;r!==B;r++)l[r].update();if(k.contactEquations.length||k.frictionEquations.length||B)if(this.islandSplit){for(p.equations.length=0,s.appendArray(p.equations,k.contactEquations),s.appendArray(p.equations,k.frictionEquations),r=0;r!==B;r++)s.appendArray(p.equations,l[r].equations);p.split(this);for(var r=0;r!==p.islands.length;r++){var W=p.islands[r];W.equations.length&&h.solveIsland(a,W)}}else{for(h.addEquations(k.contactEquations),h.addEquations(k.frictionEquations),r=0;r!==B;r++)h.addEquations(l[r].equations);this.solveConstraints&&h.solve(a,this),h.removeAllEquations()}for(var r=0;r!==i;r++){var S=e[r];S.integrate(a)}for(var r=0;r!==i;r++)e[r].setZeroForce();if(this.emitImpactEvent&&this.has("impact"))for(var X=this.impactEvent,r=0;r!==k.contactEquations.length;r++){var Y=k.contactEquations[r];Y.firstImpact&&(X.bodyA=Y.bodyA,X.bodyB=Y.bodyB,X.shapeA=Y.shapeA,X.shapeB=Y.shapeB,X.contactEquation=Y,this.emit(X))}if(this.sleepMode===d.BODY_SLEEPING)for(r=0;r!==i;r++)e[r].sleepTick(this.time,!1,a);else if(this.sleepMode===d.ISLAND_SLEEPING&&this.islandSplit){for(r=0;r!==i;r++)e[r].sleepTick(this.time,!0,a);for(var r=0;r<this.islandManager.islands.length;r++){var W=this.islandManager.islands[r];W.wantsToSleep()&&W.sleep()}}this.stepping=!1;for(var Z=this.bodiesToBeRemoved,r=0;r!==Z.length;r++)this.removeBody(Z[r]);Z.length=0,this.emit(this.postStepEvent)},d.prototype.runNarrowphase=function(a,b,c,d,e,g,h,i,j,k,l){if(0!=(c.collisionGroup&h.collisionMask)&&0!=(h.collisionGroup&c.collisionMask)){f.rotate(w,d,b.angle),f.rotate(x,i,g.angle),f.add(w,w,b.position),f.add(x,x,g.position);var n=e+b.angle,o=j+g.angle;a.enableFriction=k.friction>0,a.frictionCoefficient=k.friction;var p;p=b.type===m.STATIC||b.type===m.KINEMATIC?g.mass:g.type===m.STATIC||g.type===m.KINEMATIC?b.mass:b.mass*g.mass/(b.mass+g.mass),a.slipForce=k.friction*l*p,a.restitution=k.restitution,a.surfaceVelocity=k.surfaceVelocity,a.frictionStiffness=k.frictionStiffness,a.frictionRelaxation=k.frictionRelaxation,a.stiffness=k.stiffness,a.relaxation=k.relaxation,a.contactSkinSize=k.contactSkinSize,a.enabledEquations=b.collisionResponse&&g.collisionResponse&&c.collisionResponse&&h.collisionResponse;var q=a[c.type|h.type],r=0;if(q){var s=c.sensor||h.sensor,t=a.frictionEquations.length;r=c.type<h.type?q.call(a,b,c,w,n,g,h,x,o,s):q.call(a,g,h,x,o,b,c,w,n,s);var u=a.frictionEquations.length-t;if(r){if(b.allowSleep&&b.type===m.DYNAMIC&&b.sleepState===m.SLEEPING&&g.sleepState===m.AWAKE&&g.type!==m.STATIC){f.squaredLength(g.velocity)+Math.pow(g.angularVelocity,2)>=2*Math.pow(g.sleepSpeedLimit,2)&&(b._wakeUpAfterNarrowphase=!0)}if(g.allowSleep&&g.type===m.DYNAMIC&&g.sleepState===m.SLEEPING&&b.sleepState===m.AWAKE&&b.type!==m.STATIC){f.squaredLength(b.velocity)+Math.pow(b.angularVelocity,2)>=2*Math.pow(b.sleepSpeedLimit,2)&&(g._wakeUpAfterNarrowphase=!0)}if(this.overlapKeeper.setOverlapping(b,c,g,h),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(c,h)){var v=this.beginContactEvent;if(v.shapeA=c,v.shapeB=h,v.bodyA=b,v.bodyB=g,v.contactEquations.length=0,"number"==typeof r)for(var y=a.contactEquations.length-r;y<a.contactEquations.length;y++)v.contactEquations.push(a.contactEquations[y]);this.emit(v)}if("number"==typeof r&&u>1)for(var y=a.frictionEquations.length-u;y<a.frictionEquations.length;y++){var z=a.frictionEquations[y];z.setSlipForce(z.getSlipForce()/u)}}}}},d.prototype.addSpring=function(a){this.springs.push(a);var b=this.addSpringEvent;b.spring=a,this.emit(b),b.spring=null},d.prototype.removeSpring=function(a){var b=this.springs.indexOf(a);b!==-1&&s.splice(this.springs,b,1)},d.prototype.addBody=function(a){if(this.bodies.indexOf(a)===-1){this.bodies.push(a),a.world=this;var b=this.addBodyEvent;b.body=a,this.emit(b),b.body=null}},d.prototype.removeBody=function(a){if(this.stepping)this.bodiesToBeRemoved.push(a);else{a.world=null;var b=this.bodies.indexOf(a);b!==-1&&(s.splice(this.bodies,b,1),this.removeBodyEvent.body=a,a.resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null)}},d.prototype.getBodyById=function(a){for(var b=this.bodies,c=0;c<b.length;c++){var d=b[c];if(d.id===a)return d}return!1},d.prototype.disableBodyCollision=function(a,b){this.disabledBodyCollisionPairs.push(a,b)},d.prototype.enableBodyCollision=function(a,b){for(var c=this.disabledBodyCollisionPairs,d=0;d<c.length;d+=2)if(c[d]===a&&c[d+1]===b||c[d+1]===a&&c[d]===b)return void c.splice(d,2)},d.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var a=this.constraints,b=a.length-1;b>=0;b--)this.removeConstraint(a[b]);for(var c=this.bodies,b=c.length-1;b>=0;b--)this.removeBody(c[b]);for(var e=this.springs,b=e.length-1;b>=0;b--)this.removeSpring(e[b]);for(var f=this.contactMaterials,b=f.length-1;b>=0;b--)this.removeContactMaterial(f[b]);d.apply(this)};var z=f.create(),A=(f.fromValues(0,0),f.fromValues(0,0));d.prototype.hitTest=function(a,b,c){c=c||0;var d=new m({position:a}),e=new k,l=a,n=0,o=z,p=A;d.addShape(e);for(var q=this.narrowphase,r=[],s=0,t=b.length;s!==t;s++)for(var u=b[s],v=0,w=u.shapes.length;v!==w;v++){var x=u.shapes[v];f.rotate(o,x.position,u.angle),f.add(o,o,u.position);var y=x.angle+u.angle;(x instanceof g&&q.circleParticle(u,x,o,y,d,e,l,n,!0)||x instanceof h&&q.particleConvex(d,e,l,n,u,x,o,y,!0)||x instanceof i&&q.particlePlane(d,e,l,n,u,x,o,y,!0)||x instanceof j&&q.particleCapsule(d,e,l,n,u,x,o,y,!0)||x instanceof k&&f.squaredLength(f.sub(p,o,a))<c*c)&&r.push(u)}return r},d.prototype.setGlobalStiffness=function(a){for(var b=this.constraints,c=0;c!==b.length;c++)for(var d=b[c],e=0;e!==d.equations.length;e++){var f=d.equations[e];f.stiffness=a,f.needsUpdate=!0}for(var g=this.contactMaterials,c=0;c!==g.length;c++){var d=g[c];d.stiffness=d.frictionStiffness=a}var d=this.defaultContactMaterial;d.stiffness=d.frictionStiffness=a},d.prototype.setGlobalRelaxation=function(a){for(var b=0;b!==this.constraints.length;b++)for(var c=this.constraints[b],d=0;d!==c.equations.length;d++){var e=c.equations[d];e.relaxation=a,e.needsUpdate=!0}for(var b=0;b!==this.contactMaterials.length;b++){var c=this.contactMaterials[b];c.relaxation=c.frictionRelaxation=a}var c=this.defaultContactMaterial;c.relaxation=c.frictionRelaxation=a};var B=new p,C=[];d.prototype.raycast=function(a,b){return b.getAABB(B),this.broadphase.aabbQuery(this,B,C),b.intersectBodies(a,C),C.length=0,a.hasHit()}},{"../../package.json":6,"../collision/AABB":7,"../collision/Broadphase":8,"../collision/Narrowphase":10,"../collision/Ray":11,"../collision/SAPBroadphase":13,"../constraints/Constraint":14,"../constraints/DistanceConstraint":15,"../constraints/GearConstraint":16,"../constraints/LockConstraint":17,"../constraints/PrismaticConstraint":18,"../constraints/RevoluteConstraint":19,"../events/EventEmitter":26,"../material/ContactMaterial":27,"../material/Material":28,"../math/vec2":30,"../objects/Body":31,"../objects/LinearSpring":32,"../objects/RotationalSpring":33,"../shapes/Capsule":38,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Line":42,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45,"../solver/GSSolver":46,"../solver/Solver":47,"../utils/OverlapKeeper":52,"../utils/Utils":57,"./IslandManager":59}]},{},[36])(36)});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DisplayObjectContainer=function(a){function b(){a.call(this),this.items={},this.neverFlush=!1,this.origX=0,this.origY=0,this.origPivot={x:0,y:0,compensate:!1},this.defaultPivot=!0,this.pooled=!1,this.pooledActive=!1}return __extends(b,a),b.prototype.addChild=function(b){a.prototype.addChild.call(this,b),this.addItem(b),1==this.pooled&&(this.pooledActive=!0)},b.prototype.addChildAt=function(b,c){a.prototype.addChildAt.call(this,b,c),this.addItem(b)},b.prototype.addItem=function(a){this.items[a.id]=a},b.prototype.getSpriteAt=function(a){return this.getChildAt(a)},b.prototype.showOnlyChild=function(a){if(this.children&&this.children.length>1)for(var b=this.children.length-1;b>=0;b--)this.getChildAt(b).visible=b==a},b.prototype.getSprite=function(a){var b=this.items[a];return this.resetItem(b)},b.prototype.getContainer=function(a){var b=this.items[a];return this.resetItem(b)},b.prototype.getSpine=function(a){var b=this.items[a]
;return this.resetItem(b)},b.prototype.getTilingSprite=function(a){var b=this.items[a];return this.resetItem(b)},b.prototype.getMovieClip=function(a){var b=this.items[a];return this.resetItem(b)},b.prototype.resetItem=function(a){return a.scale.x=1,a.scale.y=1,a.rotation=0,"number"==typeof a.origX&&(a.position.x=a.origX),"number"==typeof a.origY&&(a.position.y=a.origY),a.origAnchor&&("number"==typeof a.origAnchor.x&&(a.anchor.x=a.origAnchor.x),"number"==typeof a.origAnchor.y&&(a.anchor.y=a.origAnchor.y)),a.origPivot&&("number"==typeof a.origPivot.x&&(a.pivot.x=a.origPivot.x),"number"==typeof a.origPivot.y&&(a.pivot.y=a.origPivot.y)),"boolean"==typeof a.defaultAnchor&&0==a.defaultAnchor&&a.setRegPoint(a.origAnchor.x,a.origAnchor.y,a.origAnchor.compensate),"boolean"==typeof a.defaultPivot&&0==a.defaultPivot&&a.setRegPoint(a.origPivot.x,a.origPivot.y,a.origPivot.compensate),a},b.prototype.getItemAt=function(a){return this.getChildAt(a)},b.prototype.destroy=function(){if(a.prototype.destroy.call(this),this.children&&this.children.length>0)for(var b=this.children.length-1;b>=0;b--)this.removeChild(this.getChildAt(b));for(var c in this.items)this.items[c].destroy();this.timeline&&(this.timeline.kill(),this.timeline=null)},b.prototype.removeAllChildren=function(){for(var a=this.children.length-1;a>=0;a--)this.removeChild(this.getChildAt(a))},b.prototype.setRegPoint=function(a,b,c){var d=this.width*a,e=this.height*b;this.pivot.x=d,this.pivot.y=e,1==c&&(this.position.x+=d,this.position.y+=e,this.origPivot.compensate=!0)},b.prototype.setRegPointPixels=function(a,b,c){var d=this.pivot.x,e=this.pivot.y;if(this.pivot.x=a,this.pivot.y=b,1==c){var f=this.pivot.x-d,g=this.pivot.y-e,h=f*Math.cos(this.rotation)-g*Math.sin(this.rotation),i=g*Math.cos(this.rotation)+f*Math.sin(this.rotation);this.position.x+=h*this.scale.x,this.position.y+=i*this.scale.y}},b}(PIXI.Container),visualAssets={"initial-loading-assets":[{id:"preloader-bar",anchor:[.5,.5],children:[{url:"ui/preloader-bg.png"},{id:"bar-fill",url:"ui/preloader-bar.png",x:19,y:13}]},{id:"preload-fight-container",children:[{id:"frame-1",url:"preloader-assets/frame-1.png"},{id:"frame-2",url:"preloader-assets/frame-2.png"},{id:"frame-3",url:"preloader-assets/frame-3.png"},{id:"frame-4",url:"preloader-assets/frame-4.png"},{id:"frame-5",url:"preloader-assets/frame-5.png"},{id:"frame-6",url:"preloader-assets/frame-6.png"}]},{id:"preload-background",url:"preloader-assets/background.png",pool:11},{id:"preload-logo",url:"preloader-assets/logo.png"},{id:"preloader-circle",url:"preloader-assets/preloader-circle.png",anchor:[.5,.5]},{id:"preload-logo",url:"preloader-assets/logo.png",anchor:[.5,.5]}],"title-trash-assets":[{id:"title-trash-container",children:[{id:"title-trash-bg",url:"title-trash/bg.png",x:0,y:0},{id:"title-trash-lynn-container",x:429,y:6,children:[{id:"title-trash-lynn-arm-container",x:0,y:0,children:[{id:"title-trash-lynn-arm",url:"title-trash/lynn-arm.png",x:83,y:85,anchor:[.9,.3]}]},{id:"title-trash-lynn",url:"title-trash/lynn.png",x:68,y:0},{id:"title-trash-lynn-eyelids",url:"title-trash/lynn-eyelids.png",x:111.5,y:68.5}]},{id:"title-trash-luan-container",x:79,y:-31,children:[{id:"title-trash-luan-arm-container",x:0,y:0,children:[{id:"title-trash-luan-arm",url:"title-trash/luan-arm.png",x:129,y:168,anchor:[0,.1]}]},{id:"title-trash-luan",url:"title-trash/luan.png",x:0,y:0},{id:"title-trash-luan-eyelids",url:"title-trash/luan-eyelids.png",x:124,y:88.5}]},{id:"title-trash-door",url:"title-trash/door.png",x:602,y:0},{id:"title-trash-back-rubbish-3",url:"title-trash/back-rubbish-3.png",x:512,y:625,anchor:[.5,1]},{id:"title-trash-back-bag-2",url:"title-trash/back-bag-2.png",x:887,y:283,anchor:[.5,.8]},{id:"title-trash-back-rubbish-2",url:"title-trash/back-rubbish-2.png",x:512,y:381,anchor:[.5,1]},{id:"title-trash-back-bag-1",url:"title-trash/back-bag-1.png",x:39,y:281,anchor:[.5,.8]},{id:"title-trash-back-rubbish-1",url:"title-trash/back-rubbish-1.png",x:512,y:437,anchor:[.5,1]},{id:"title-trash-lana-container",x:165,y:250,children:[{id:"title-trash-lana",url:"title-trash/lana.png",x:0,y:0},{id:"title-trash-lana-eyelids",url:"title-trash/lana-eyelids.png",x:72.5,y:45},{id:"title-trash-lana-arm",url:"title-trash/lana-arm.png",x:111,y:118,anchor:[0,.8]}]},{id:"title-trash-logo",url:"title-trash/logo.png",x:534,y:500,anchor:[.5,.8]},{id:"title-trash-front-rubbish-4",url:"title-trash/front-rubbish-4.png",x:1024,y:625,anchor:[1,1]},{id:"title-trash-front-rubbish-3",url:"title-trash/front-rubbish-3.png",x:511,y:625,anchor:[.5,1]},{id:"title-trash-front-rubbish-2",url:"title-trash/front-rubbish-2.png",x:512,y:625,anchor:[.5,1]},{id:"title-trash-front-bag-2",url:"title-trash/front-bag-2.png",x:-54,y:396},{id:"title-trash-front-bag-1",url:"title-trash/front-bag-1.png",x:53,y:437},{id:"title-trash-front-rubbish-1",url:"title-trash/front-rubbish-1.png",x:433,y:464,anchor:[1,0]},{id:"title-trash-linc-container",x:728,y:169,children:[{id:"title-trash-linc-right-arm",url:"title-trash/linc-right-arm.png",x:232,y:209,anchor:[.1,.1]},{id:"title-trash-linc-left-arm",url:"title-trash/linc-left-arm.png",x:100,y:246,anchor:[.8,.1]},{id:"title-trash-linc-head",url:"title-trash/linc-head.png",x:0,y:0},{id:"title-trash-linc-left-eyebrow",url:"title-trash/linc-left-eyebrow.png",x:110,y:73,anchor:[.5,.5]},{id:"title-trash-linc-right-eyebrow",url:"title-trash/linc-right-eyebrow.png",x:157,y:74,anchor:[.5,.5]},{id:"title-trash-linc-mouth",url:"title-trash/linc-mouth.png",x:157,y:208,anchor:[.5,.5]},{id:"title-trash-linc-right-eye",url:"title-trash/linc-right-eye.png",x:181,y:114,anchor:[.5,.5]},{id:"title-trash-linc-left-eye",url:"title-trash/linc-left-eye.png",x:114,y:156,anchor:[.5,.5]},{id:"title-trash-linc-eyelids",url:"title-trash/linc-eyelids.png",x:146,y:138,anchor:[.5,.5]},{id:"title-trash-linc-peg",url:"title-trash/linc-peg.png",x:152,y:174,anchor:[.6,.8]}]},{id:"title-trash-click-anywhere-to-play",url:"title-geo-roll/click-anywhere-to-play.png",x:511,y:557,anchor:[.5,.5]},{id:"title-trash-loud-house-logo",url:"title-geo-roll/loud-house-logo.png",x:84,y:548,anchor:[.5,.5]}]},{id:"title-blank-input",url:"title-trash/title-blank-input.png"}],"intro-trash-assets":[{id:"intro-container",children:[{id:"intro-background-trash",url:"intro-trash/intro-background-trash.png"},{id:"sister-leni",children:[{id:"start-leni",url:"intro-trash/start-leni.png",x:37,y:430,anchor:[.5,1]},{id:"end-leni",url:"intro-trash/end-leni.png",x:37,y:430,anchor:[.5,1]}]},{id:"sister-lori",children:[{id:"start-lori",url:"intro-trash/start-lori.png",x:210,y:465,anchor:[.5,1]},{id:"end-lori",url:"intro-trash/end-lori.png",x:210,y:465,anchor:[.5,1]}]},{id:"sister-luna",children:[{id:"start-luna",url:"intro-trash/start-luna.png",x:247,y:530,anchor:[.5,1]},{id:"end-luna",url:"intro-trash/end-luna.png",x:247,y:530,anchor:[.5,1]}]},{id:"sister-luan",children:[{id:"start-luan",url:"intro-trash/start-luan.png",x:98,y:530,anchor:[.5,1]},{id:"end-luan",url:"intro-trash/end-luan.png",x:98,y:530,anchor:[.5,1]}]},{id:"sister-lynn",children:[{id:"start-lynn",url:"intro-trash/start-lynn.png",x:-24,y:526,anchor:[.5,1]},{id:"end-lynn",url:"intro-trash/end-lynn.png",x:-24,y:526,anchor:[.5,1]}]},{id:"sister-lucy",children:[{id:"start-lucy",url:"intro-trash/start-lucy.png",x:141,y:630,anchor:[.5,1]},{id:"end-lucy",url:"intro-trash/end-lucy.png",x:141,y:630,anchor:[.5,1]}]},{id:"sister-lana",children:[{id:"start-lana",url:"intro-trash/start-lana.png",x:253,y:658,anchor:[.5,1]},{id:"end-lana",url:"intro-trash/end-lana.png",x:253,y:658,anchor:[.5,1]}]},{id:"sister-lisa",children:[{id:"start-lisa",url:"intro-trash/start-lisa.png",x:7,y:604,anchor:[.5,1]},{id:"end-lisa",url:"intro-trash/end-lisa.png",x:7,y:604,anchor:[.5,1]}]},{id:"sister-lola",children:[{id:"start-lola",url:"intro-trash/start-lola.png",x:31,y:727,anchor:[.5,1]},{id:"end-lola",url:"intro-trash/end-lola.png",x:31,y:727,anchor:[.5,1]}]},{id:"sister-lily",children:[{id:"start-lily",url:"intro-trash/end-lily.png",x:158,y:733,anchor:[.5,1]}]},{id:"linc-container",children:[{id:"linc-proud",url:"intro-trash/linc-proud.png",x:511,y:625,anchor:[.5,1]},{id:"linc-point-arm",url:"intro-trash/linc-point-arm.png",x:545,y:310,anchor:[0,.5]},{id:"linc-pointing",url:"intro-trash/linc-pointing.png",x:511,y:625,anchor:[.5,1]},{id:"linc-sad",url:"intro-trash/linc-sad.png",x:511,y:625,anchor:[.5,1]},{id:"linc-shocked",url:"intro-trash/linc-shocked.png",x:511,y:625,anchor:[.5,1]},{id:"linc-hit",url:"intro-trash/linc-hit.png",x:511,y:625,anchor:[.5,1]},{id:"linc-shocked-blinc",url:"intro-trash/linc-shocked-blinc.png",x:511,y:625,anchor:[.5,1]}]},{id:"speech-bubble",url:"intro-trash/speech-bubble.png",x:645,y:264,anchor:[0,1]},{id:"speech-item-trash",url:"intro-trash/trash-icon.png",x:821,y:131,anchor:[.5,.5]},{id:"face-hit",url:"intro-trash/face-hit.png",anchor:[.5,.5],x:410,y:290},{id:"face-trash",url:"intro-trash/face-trash.png",x:-100,y:200,anchor:[.5,.5]},{id:"head-trash",url:"intro-trash/head-trash.png",x:511,y:-100,anchor:[.5,.5]}]}],"trash-assets":[{id:"heart-box",url:"trash/heart-box.png",anchor:[.5,.5],pool:3},{id:"heart-box-physics",url:"trash/heart-box-physics.png",anchor:[.5,.5]},{id:"heart-box-shine",url:"trash/heart-box-shine.png",anchor:[.5,.5]},{id:"score-change-font",dir:"score-change-font",url:"bungee-score-change.png",fontname:"bungee-score-change",fontdata:"bungee-score-change.xml",type:"bitmaptext"},{id:"linc-trash-spine",type:"spine",dir:"trash/linc-spine",url:"skeleton.png",skeleton:"skeleton.json",atlas:"skeleton.txt"},{id:"wall-frame",url:"trash/frame.png",anchor:[.5,.5],x:2e3,y:200},{id:"trash-land-frames",anchor:[.5,.5],type:"spritesheet",dir:"trash/trash-land-frames",url:"trash-land-frames.png",atlas:"trash-land-frames.json",pool:10,frames:["blank-input.png","trash-land-frame-1.png","trash-land-frame-2.png","trash-land-frame-3.png","trash-land-frame-4.png","trash-land-frame-5.png","trash-land-frame-6.png","trash-land-frame-7.png","blank-input.png"]},{id:"trash-pop-anim",anchor:[.5,.5],type:"spritesheet",dir:"trash/trash-pop-anim",url:"trash-pop-anim.png",atlas:"trash-pop-anim.json",pool:10,frames:["blank-input.png","trash-pop-frames-1.png","trash-pop-frames-2.png","trash-pop-frames-3.png","trash-pop-frames-4.png","trash-pop-frames-5.png","blank-input.png"]},{id:"heart-pickup-anim",anchor:[.5,.5],type:"spritesheet",dir:"trash/heart-pickup-anim",url:"heart-pickup-anim.png",atlas:"heart-pickup-anim.json",frames:["blank-input.png","trash-pop-frames-1.png","trash-pop-frames-2.png","trash-pop-frames-3.png","trash-pop-frames-4.png","trash-pop-frames-5.png","blank-input.png"]},{id:"kick-anim",anchor:[.5,.5],type:"spritesheet",dir:"trash/kick-anim",url:"kick-anim.png",atlas:"kick-anim.json",frames:["blank-input.png","kickanim-1.png","kickanim-2.png","kickanim-3.png","blank-input.png"]},{id:"bag-timer-holder",children:[],pool:10},{id:"bg-cover",url:"trash/bg-cover.png"},{id:"rubbish-particle-1",url:"trash/rubbish-particle-1.png",anchor:[.5,.5]},{id:"rubbish-particle-2",url:"trash/rubbish-particle-2.png",anchor:[.5,.5]},{id:"rubbish-particle-3",url:"trash/rubbish-particle-3.png",anchor:[.5,.5]},{id:"rubbish-particle-4",url:"trash/rubbish-particle-4.png",anchor:[.5,.5]},{id:"rubbish-particle-5",url:"trash/rubbish-particle-5.png",anchor:[.5,.5]},{id:"rubbish-particle-6",url:"trash/rubbish-particle-6.png",anchor:[.5,.5]},{id:"score-font",dir:"score-font",url:"bungee.png",fontname:"bungee",fontdata:"bungee.xml",type:"bitmaptext"},{id:"score-text-holder",children:[]},{id:"score-holder",children:[{id:"score-bg",url:"trash/score-bg.png",anchor:[.5,.5]}]},{id:"bag-timer-bg",url:"trash/bag-timer-bg.png",anchor:[.5,.5],pool:10},{id:"bag-timer-arrow",url:"trash/bag-timer-arrow.png",anchor:[.5,.5],pool:10},{id:"bag-timer-fill-left",url:"trash/bag-timer-fill-left.png",anchor:[.5,.5],pool:10},{id:"bag-timer-fill-right",url:"trash/bag-timer-fill-right.png",anchor:[.5,.5],pool:10},{id:"bag-timer-cover-right",url:"trash/bag-timer-cover-right.png",anchor:[.5,.5],pool:10},{id:"bag-timer-cross",url:"trash/bag-timer-cross.png",anchor:[.5,.5],pool:10},{id:"heart-life",url:"trash/heart-life.png",anchor:[.5,.5],pool:5},{id:"heart-background",url:"trash/heart-background.png",anchor:[.5,.5]},{id:"background-wall",url:"trash/background-wall.png",anchor:[0,.5],pool:21},{id:"sister-holder",children:[],pool:6},{id:"bin",url:"trash/bin.png",anchor:[.5,1],pool:2},{id:"left-bin",children:[{id:"bin",url:"trash/bin.png",anchor:[.5,1]}]},{id:"right-bin",children:[{id:"bin",url:"trash/bin.png",anchor:[.5,1]}]},{id:"floor-main",url:"trash/floor-main.png",pool:10},{id:"floor-end",url:"trash/floor-end.png",anchor:[0,0],pool:2},{id:"bin-back",url:"trash/bin-back.png",anchor:[.5,1],pool:2},{id:"temp-sister",url:"trash/sister-temp.png",anchor:[1,0],pool:3},{id:"temp-left-sister",url:"trash/sister-left-temp.png",anchor:[0,0],pool:3},{id:"lynn-body",url:"trash/sisters/lynn-body.png",anchor:[1,0]},{id:"lynn-arm",url:"trash/sisters/lynn-arm.png",x:-40,y:110,anchor:[1,0]},{id:"lana-body",url:"trash/sisters/lana-body.png",anchor:[0,0]},{id:"lana-arm",url:"trash/sisters/lana-arm.png",x:35,y:100,anchor:[0,0]},{id:"lola-body",url:"trash/sisters/lola-body.png",anchor:[1,0]},{id:"lola-arm",url:"trash/sisters/lola-arm.png",anchor:[1,0]},{id:"luan-body",url:"trash/sisters/luan-body.png",anchor:[1,0]},{id:"luan-arm",url:"trash/sisters/luan-arm.png",x:-35,y:110,anchor:[1,0]},{id:"lucy-body",url:"trash/sisters/lucy-body.png",anchor:[0,0]},{id:"lucy-arm",url:"trash/sisters/lucy-arm.png",x:30,y:110,anchor:[0,0]},{id:"luna-body",url:"trash/sisters/luna-body.png",anchor:[0,0]},{id:"luna-arm",url:"trash/sisters/luna-arm.png",x:30,y:110,anchor:[0,0]},{id:"bin-trash-holder",children:[{id:"bin-apple",anchor:[.5,.5],x:-30,url:"trash/bin-apple.png"},{id:"bin-banana",anchor:[.5,.5],x:30,url:"trash/bin-banana.png"},{id:"bin-cup",anchor:[.5,1],y:30,url:"trash/bin-cup.png"},{id:"bin-dirt-1",anchor:[.5,.5],x:-20,url:"trash/bin-dirt-1.png"},{id:"bin-dirt-2",anchor:[.5,.5],x:20,url:"trash/bin-dirt-2.png"},{id:"bin-dirt-3",anchor:[.5,.5],x:0,url:"trash/bin-dirt-3.png"}]},{id:"trash-pile-holder-1",children:[]},{id:"trash-pile-holder-2",children:[]},{id:"trash-pile-1",url:"trash/trash-pile-1.png",anchor:[.5,1],pool:15},{id:"trash-pile-2",url:"trash/trash-pile-2.png",anchor:[.5,1],pool:15},{id:"trash-pile-3",url:"trash/trash-pile-3.png",anchor:[.5,1],pool:15},{id:"floor-dirt",url:"trash/floor-dirt.png",anchor:[.5,1],pool:3},{id:"floor-dirt-2",url:"trash/floor-dirt-2.png",anchor:[.5,1],pool:2},{id:"temp-sister-bag",url:"trash/sister-bag-temp.png",anchor:[.5,.5],pool:6},{id:"door-bg-1",url:"trash/door-bg-1.png",anchor:[.5,1]},{id:"door-bg-2",url:"trash/door-bg-2.png",anchor:[.5,1]},{id:"door-bg-3",url:"trash/door-bg-3.png",anchor:[.5,1]},{id:"door-pane",url:"trash/door-pane.png",anchor:[0,1],pool:3},{id:"bin-wall",url:"trash/bin-wall.png",anchor:[.5,.5],pool:2},{id:"angle-line",url:"trash/angle-line.png",anchor:[0,.5]},{id:"kick-power-ring",url:"trash/kick-power-ring.png",anchor:[.5,.5]},{id:"kick-power-fill",url:"trash/kick-power-fill.png",anchor:[.5,.5]},{id:"main-holder",children:[]},{id:"zoom-holder",children:[]},{id:"trash-bag",url:"trash/trash-bag.png",anchor:[.5,.5],pool:10},{id:"trash-bag-shadow",url:"trash/trash-bag-shadow.png",anchor:[.5,.5],pool:10},{id:"trash-bag-holder",children:[],pool:10},{id:"trash-bag-holder-outer",children:[],pool:10},{id:"trash-bag-knot",url:"trash/trash-bag-knot.png",anchor:[.5,.5],pool:10},{id:"temp-wall-stripe",url:"trash/temp-wall-stripe.png",anchor:[.5,0],pool:40},{id:"trash-blank-input",url:"trash/blank-input.png"},{id:"corridor-end-right",url:"trash/corridor-end-right.png",anchor:[1,0]},{id:"corridor-end-left",url:"trash/corridor-end-left.png",anchor:[0,0]},{id:"floor-asset",url:"trash/floor-asset-temp.png",anchor:[0,1]},{id:"lincoln-sprite",url:"trash/lincoln-sprite.png",anchor:[.5,.5]},{id:"trash-tutorial-overlay",children:[{id:"tutorial-overlay-bg",url:"trash/tutorial-overlay-bg.png"},{id:"help-screen-desktop",url:"trash/help-screen-desktop-trash.jpg",platformspecific:"desktop"},{id:"help-screen-desktop",url:"trash/help-screen-mobile-trash.jpg",platformspecific:"mobile"}]},{id:"trash-cross-currency-overlay",children:[{id:"tutorial-overlay-bg",url:"trash/house-hack-screen-trash.jpg"}]},{id:"house-hack-notification",url:"gameover-trash/house-hack-notification.png",anchor:[0,1]},{id:"gameover-trash-container",children:[{id:"gameover-trash-bg",url:"gameover-trash/bg.png",x:0,y:0},{id:"gameover-trash-parents",url:"gameover-trash/parents.png",x:478,y:396,anchor:[.5,1]},{id:"gameover-trash-sisters-right-container",children:[{id:"gameover-trash-sister-luan",url:"gameover-trash/sister-luan.png",x:965,y:433,anchor:[.5,1]},{id:"gameover-trash-sister-lynn",url:"gameover-trash/sister-lynn.png",x:900,y:536,anchor:[.5,1]},{id:"gameover-trash-sister-lola",url:"gameover-trash/sister-lola.png",x:800,y:580,anchor:[.5,1]}]},{id:"gameover-trash-sisters-left-container",children:[{id:"gameover-trash-sister-luna",url:"gameover-trash/sister-luna.png",x:60,y:448,anchor:[.5,1]},{id:"gameover-trash-sister-lucy",url:"gameover-trash/sister-lucy.png",x:114,y:544,anchor:[.5,1]},{id:"gameover-trash-sister-lana",url:"gameover-trash/sister-lana.png",x:180,y:604,anchor:[.5,1]}]},{id:"gameover-trash-linc-container",x:276,y:-40,children:[{id:"gameover-trash-linc-inner-container",x:0,y:0,children:[{id:"gameover-trash-linc-right-arm",url:"gameover-trash/linc-right-arm.png",x:253,y:379,anchor:[.1,.6]},{id:"gameover-trash-linc-left-arm",url:"gameover-trash/linc-left-arm.png",x:217,y:383,anchor:[.9,.3]},{id:"gameover-trash-linc-body",url:"gameover-trash/linc-body.png",x:201,y:360,anchor:[0,0]},{id:"gameover-trash-linc-head",url:"gameover-trash/linc-head.png",x:0,y:0,anchor:[0,0]},{id:"gameover-trash-linc-mouth",url:"gameover-trash/linc-mouth.png",x:205,y:315,anchor:[.5,.5]},{id:"gameover-trash-linc-eyelids",url:"gameover-trash/linc-eyelids.png",x:234,y:195,anchor:[.5,.5]}]}]},{id:"gameover-trash-rubbish",url:"gameover-trash/rubbish.png",x:512,y:625,anchor:[.5,1]},{id:"gameover-trash-game-over",url:"gameover-trash/game-over.png",x:512,y:46,anchor:[.5,.5]},{id:"gameover-score-holder",x:512,y:80,children:[{id:"score",url:"gameover-trash/score.png",y:7}]}]}],"title-geo-roll-assets":[{id:"title-geo-roll-container",children:[{id:"title-geo-roll-wall",url:"title-geo-roll/wall.png"},{id:"title-geo-roll-floor",url:"title-geo-roll/floor.png",x:512,y:615,anchor:[.5,.5]},{id:"title-geo-roll-frame-right",url:"title-geo-roll/frame-right.png",x:933,y:281,anchor:[.5,.5]},{id:"title-geo-roll-frame-left",url:"title-geo-roll/frame-left.png",x:111,y:246,anchor:[.5,.5]},{id:"title-geo-roll-logo-spotlight-cone",url:"title-geo-roll/logo-spotlight-cone.png",x:-81,y:758,anchor:[0,1]},{id:"title-geo-roll-logo-spotlight",url:"title-geo-roll/logo-spotlight.png",x:502,y:205,anchor:[.5,.5]},{id:"title-geo-roll-bright-spotlight",url:"title-geo-roll/bright-spotlight.png",x:1024,y:0,anchor:[1,0]},{id:"title-geo-roll-faded-spotlight",url:"title-geo-roll/faded-spotlight.png",x:1024,y:0,anchor:[1,0]},{id:"title-geo-roll-click-anywhere-to-play",url:"title-geo-roll/click-anywhere-to-play.png",x:511,y:557,anchor:[.5,.5]},{id:"title-geo-roll-loud-house-logo",url:"title-geo-roll/loud-house-logo.png",x:84,y:548,anchor:[.5,.5]},{id:"title-geo-roll-logo",url:"title-geo-roll/logo.png",x:522,y:211,anchor:[.5,.5]}]},{id:"title-geo-spine",type:"spine",dir:"geo-roll/geo-spine",url:"skeleton.png",skeleton:"skeleton.json",atlas:"skeleton.txt"},{id:"title-blank-input",url:"title-geo-roll/title-blank-input.png"}],"intro-geo-roll-assets":[{id:"intro-container",children:[{id:"background-right",url:"intro-geo-roll/background-right.png"},{id:"geo-shadow",url:"intro-geo-roll/geo-shadow.png",x:560,y:735,anchor:[.5,1]},{id:"geo-ball",url:"intro-geo-roll/geo-ball.png",x:560,y:730,anchor:[.5,1]},{id:"background-left",url:"intro-geo-roll/background-left.png"},{id:"switch-off",url:"intro-geo-roll/switch-off.png",x:46,y:404},{id:"switch-on",url:"intro-geo-roll/switch-on.png",x:46,y:404},{id:"side-linc-container",children:[{id:"linc-front",url:"intro-geo-roll/linc-front.png",x:350,y:650,anchor:[.5,1]},{id:"linc-back-arm",url:"intro-geo-roll/linc-back-arm.png",x:340,y:535,anchor:[1,0]},{id:"linc-chest",url:"intro-geo-roll/linc-chest.png",x:350,y:590,anchor:[.5,.5]},{id:"linc-front-arm",url:"intro-geo-roll/linc-front-arm.png",x:348,y:540},{id:"linc-head",url:"intro-geo-roll/linc-side-head.png",x:360,y:550,anchor:[.5,1]}]},{id:"linc-point",url:"intro-geo-roll/linc-point-arm.png",x:-200,y:420,anchor:[0,.75]}]},{id:"geo-dark",url:"intro-geo-roll/geo-dark.png"}],"geo-roll-assets":[{id:"joystick-element",url:"geo-roll/joystick-element.png",anchor:[.5,.5]},{id:"joystick-bg-circle",url:"geo-roll/joystick-bg-circle.png",anchor:[.5,.5]},{id:"joystick-bg-line",url:"geo-roll/joystick-bg-line.png",anchor:[.5,.5]},{id:"geo-spine",type:"spine",dir:"geo-roll/geo-spine",url:"skeleton.png",skeleton:"skeleton.json",atlas:"skeleton.txt"},{id:"whoopee-frames-1",anchor:[.5,.5],type:"spritesheet",dir:"geo-roll/whoopee-frames",url:"whoopee-frames.png",atlas:"whoopee-frames.json",frames:["whoopee-frames-1-a.png","whoopee-frames-1-b.png","whoopee-frames-1-c.png","blank-input.png"]},{id:"whoopee-frames-2",anchor:[.5,.5],type:"spritesheet",dir:"geo-roll/whoopee-frames",url:"whoopee-frames.png",atlas:"whoopee-frames.json",frames:["whoopee-frames-2-a.png","whoopee-frames-2-b.png","whoopee-frames-2-c.png","blank-input.png"]},{id:"whoopee-frames-3",anchor:[.5,.5],type:"spritesheet",dir:"geo-roll/whoopee-frames",url:"whoopee-frames.png",atlas:"whoopee-frames.json",frames:["whoopee-frames-3-a.png","whoopee-frames-3-b.png","whoopee-frames-3-c.png","blank-input.png"]},{id:"geo-speed-anim",anchor:[1,.5],type:"spritesheet",dir:"geo-roll/geo-speed-anim",url:"geo-speed-anim.png",atlas:"geo-speed-anim.json",frames:["1.png","2.png","3.png","4.png","5.png","6.png"]},{id:"score-m",url:"geo-roll/score-m.png"},{id:"distance-holder",children:[]},{id:"score-font",dir:"score-font",url:"bungee.png",fontname:"bungee",fontdata:"bungee.xml",type:"bitmaptext"},{id:"main-holder",children:[]},{id:"zoom-holder",children:[]},{id:"geo-roll-torch-beam",url:"geo-roll/torch-light.png",anchor:[.5,.5]},{id:"geo-treat",url:"geo-roll/geo-treat.png",anchor:[.5,.5],pool:8},{id:"geo-treat-shine",url:"geo-roll/geo-treat-shine.png",anchor:[.5,.5],pool:8},{id:"geo-roll-stamina-bar-holder",children:[{id:"geo-roll-stamina-bar-container",children:[]},{id:"geo-roll-stamina-bar-outer",url:"geo-roll/stamina-bar-outer.png",anchor:[0,.5]},{id:"geo-roll-stamina-geo-happy",url:"geo-roll/geo-happy.png",x:61,y:-9,anchor:[.5,.5]},{id:"geo-roll-stamina-geo-medium",url:"geo-roll/geo-medium.png",x:61,y:-9,anchor:[.5,.5]},{id:"geo-roll-stamina-geo-sad",url:"geo-roll/geo-sad.png",x:61,y:-9,anchor:[.5,.5]},{id:"geo-roll-stamina-geo-munch",url:"geo-roll/geo-munch.png",x:61,y:-9,anchor:[.5,.5]}]},{id:"geo-roll-stamina-bar",url:"geo-roll/geo-roll-stamina-bar.png",pool:3,anchor:[0,.5]},{id:"geo-roll-block-holder",children:[],pool:10},{id:"geo-roll-obstacle-block",url:"geo-roll/obstacle-box.png",anchor:[.5,.5],pool:10},{id:"geo-roll-obstacle-table",url:"geo-roll/obstacle-table.png",anchor:[.5,.5],pool:10},{id:"geo-roll-tall-block-holder",children:[],pool:10},{id:"geo-roll-tall-block",url:"geo-roll/obstacle-tall-box.png",anchor:[.5,.5],pool:10},{id:"geo-roll-tall-block-2",url:"geo-roll/obstacle-tall-box-2.png",anchor:[.5,.5],pool:10},{id:"geo-roll-tall-block-3",url:"geo-roll/obstacle-tall-box-3.png",anchor:[.5,.5],pool:10},{id:"geo-roll-up-ramp-holder",children:[],pool:10},{id:"geo-roll-up-ramp",url:"geo-roll/obstacle-ramp-up.png",anchor:[.5,.5],pool:10},{id:"geo-roll-down-ramp-holder",children:[],pool:10},{id:"geo-roll-down-ramp",url:"geo-roll/obstacle-ramp-down.png",anchor:[.5,.5],pool:10},{id:"geo-roll-alarm-holder",children:[],pool:10},{id:"geo-roll-alarm",url:"geo-roll/obstacle-alarm.png",anchor:[.5,.5],pool:10},{id:"geo-roll-alarm-popped",url:"geo-roll/obstacle-alarm-popped.png",anchor:[.5,.5],pool:10},{id:"geo-roll-ball-holder",children:[],pool:10},{id:"geo-roll-ball",url:"geo-roll/obstacle-ball.png",anchor:[.5,.5],pool:10},{id:"geo-roll-ball-football",url:"geo-roll/obstacle-ball-football.png",anchor:[.5,.5],pool:10},{id:"geo-roll-ball-shadow",url:"geo-roll/obstacle-ball-shadow.png",anchor:[.5,.5],pool:10},{id:"geo-roll-seesaw-beam-holder",children:[],pool:30},{id:"geo-roll-beam",url:"geo-roll/obstacle-see-saw-beam.png",anchor:[.5,.5],pool:30},{id:"geo-roll-beam-hinge-ball",url:"geo-roll/obstacle-see-saw-ball.png",anchor:[.5,.5],pool:30},{id:"geo-roll-blank-input",url:"geo-roll/blank-input.png"},{id:"geo-roll-tutorial-overlay",children:[{id:"geo-roll-overlay-bg",url:"geo-roll/tutorial-overlay-bg.png"},{id:"help-screen-desktop",url:"geo-roll/help-screen-desktop-geo.jpg",platformspecific:"desktop"},{id:"help-screen-desktop",url:"geo-roll/help-screen-mobile-geo.jpg",platformspecific:"mobile"}]},{id:"geo-roll-cross-currency-overlay",children:[{id:"geo-roll-overlay-bg",url:"geo-roll/house-hack-screen-geo-roll.jpg"}]},{id:"corridor-floor-holder",children:[]},{id:"corridor-floor-bg",url:"geo-roll/corridor-floor-bg.png",pool:3,anchor:[0,1]},{id:"corridor-wall-holder",children:[]},{id:"corridor-wall-holder2",children:[]},{id:"corridor-wall-holder3",children:[]},{id:"corridor-wall-wrapper",children:[]},{id:"corridor-wall-bg",url:"geo-roll/corridor-wall-bg.png",pool:21,anchor:[0,0]},{id:"red-door-container",children:[{id:"red-door",url:"geo-roll/red-door.png",anchor:[.5,1]},{id:"picture-frame-holder-1",children:[]}]},{id:"purple-door-container",children:[{id:"purple-door",url:"geo-roll/purple-door.png",anchor:[.5,1]},{id:"picture-frame-holder-2",children:[]}]},{id:"green-door-container",children:[{id:"green-door",url:"geo-roll/green-door.png",anchor:[.5,1]},{id:"picture-frame-holder-3",children:[]}]},{id:"geo-roll-blue-frame",url:"geo-roll/blue-frame.png",x:520,y:-360,pool:3,anchor:[.5,.5]},{id:"geo-roll-orange-frame",url:"geo-roll/orange-frame.png",x:420,y:-380,pool:3,anchor:[.5,.5]},{id:"geo-roll-green-frame",url:"geo-roll/green-frame.png",x:480,y:-390,pool:3,anchor:[.5,.5]},{id:"picture-frame-group-1",url:"geo-roll/picture-frame-group-1.png",x:560,y:-440,pool:3,anchor:[.5,.5]},{id:"picture-frame-group-2",url:"geo-roll/picture-frame-group-2.png",x:570,y:-420,pool:3,anchor:[.5,.5]},{id:"picture-frame-group-3",url:"geo-roll/picture-frame-group-3.png",x:480,y:-450,pool:3,anchor:[.5,.5]},{id:"door-closed",url:"geo-roll/door-closed.png",pool:3,anchor:[.5,1]},{id:"geo-ball",url:"geo-roll/geo-ball.png",anchor:[.5,.5]},{id:"geo-ball-shadow",url:"geo-roll/geo-ball-shadows.png",anchor:[.5,.5]},{id:"geo-ball-floor-shadow",url:"geo-roll/geo-ball-floor-shadow.png",anchor:[.5,.5]},{id:"geo-roll-triangle-holder",children:[],pool:10},{id:"geo-roll-triangle",url:"geo-roll/obstacle-triangle.png",anchor:[.5,.5],pool:10},{id:"gameover-geo-roll-container",children:[{id:"gameover-geo-roll-bg",url:"gameover-geo-roll/bg.png",x:0,y:0},{id:"gameover-geo-roll-parents",url:"gameover-trash/parents.png",x:478,y:396,anchor:[.5,1]},{id:"gameover-geo-roll-sisters-right-container",children:[{id:"gameover-geo-roll-sister-luan",url:"gameover-trash/sister-luan.png",x:965,y:433,anchor:[.5,1]},{id:"gameover-geo-roll-sister-lynn",url:"gameover-trash/sister-lynn.png",x:900,y:536,anchor:[.5,1]},{id:"gameover-geo-roll-sister-lola",url:"gameover-trash/sister-lola.png",x:800,y:580,anchor:[.5,1]}]},{id:"gameover-geo-roll-sisters-left-container",children:[{id:"gameover-geo-roll-sister-luna",url:"gameover-trash/sister-luna.png",x:60,y:448,anchor:[.5,1]},{id:"gameover-geo-roll-sister-lucy",url:"gameover-trash/sister-lucy.png",x:114,y:544,anchor:[.5,1]},{id:"gameover-geo-roll-sister-lana",url:"gameover-trash/sister-lana.png",x:180,y:604,anchor:[.5,1]}]},{id:"gameover-geo-roll-linc-container",x:300,y:-40,children:[{id:"gameover-geo-roll-linc-inner-container",x:0,y:0,children:[{id:"gameover-geo-roll-linc-right-arm",url:"gameover-trash/linc-right-arm.png",x:253,y:379,anchor:[.1,.6]},{id:"gameover-geo-roll-linc-sleeve",url:"gameover-geo-roll/sleeve.png",x:-280,y:-40},{id:"gameover-geo-roll-linc-left-arm",url:"gameover-trash/linc-left-arm.png",x:217,y:383,anchor:[.9,.3]},{id:"gameover-geo-roll-linc-body",url:"gameover-trash/linc-body.png",x:201,y:360,anchor:[0,0]},{id:"gameover-geo-roll-linc-head",url:"gameover-trash/linc-head.png",x:0,y:0,anchor:[0,0]},{id:"gameover-geo-roll-linc-mouth",url:"gameover-trash/linc-mouth.png",x:205,y:315,anchor:[.5,.5]},{id:"gameover-geo-roll-linc-eyelids",url:"gameover-trash/linc-eyelids.png",x:234,y:195,anchor:[.5,.5]},{id:"gameover-geo-roll-linc-geo",url:"gameover-geo-roll/geo.png",x:-280,y:-40},{id:"gameover-geo-roll-linc-arm",url:"gameover-geo-roll/arm.png",x:-280,y:-40}]}]},{id:"gameover-geo-roll-items",url:"gameover-geo-roll/items.png",x:512,y:640,anchor:[.5,1]},{id:"gameover-geo-roll-game-over",url:"gameover-trash/game-over.png",x:512,y:46,anchor:[.5,.5]},{id:"gameover-score-holder",x:512,y:80,children:[{id:"score",url:"gameover-trash/score.png",y:7}]}]},{id:"house-hack-notification",url:"gameover-geo-roll/house-hack-notification.png",anchor:[0,1]}],"title-food-fight-assets":[{id:"title-food-fight-container",children:[{id:"title-food-fight-bg",url:"title-food-fight/bg.png",x:512,y:225,anchor:[.5,.5]},{id:"title-food-fight-apple-container",x:959,y:276,children:[{id:"title-food-fight-food-apple",url:"title-food-fight/food-apple.png",x:0,y:0}]},{id:"title-food-fight-pear-container",x:-22,y:325,children:[{id:"title-food-fight-food-pear",url:"title-food-fight/food-pear.png",x:0,y:0}]},{id:"title-food-fight-banana-container",x:952,y:249,children:[{id:"title-food-fight-food-banana",url:"title-food-fight/food-banana.png",x:0,y:0}]},{id:"title-food-fight-logo-shadow",url:"title-food-fight/logo-shadow.png",x:512,y:495,anchor:[.5,.5]},{id:"title-food-fight-left-table-container",x:-116,y:152,children:[{id:"title-food-fight-left-table-back",url:"title-food-fight/left-table-back.png",x:227,y:151},{id:"title-food-fight-linc-container",x:100,y:0,children:[{id:"title-food-fight-linc-shadow",url:"title-food-fight/linc-shadow.png",x:86,y:340,anchor:[.5,.5]},{id:"title-food-fight-linc-legs",url:"title-food-fight/linc-legs.png",x:54,y:233},{id:"title-food-fight-linc-right-arm",url:"title-food-fight/linc-right-arm.png",x:141,y:183,anchor:[.1,.9]},{id:"title-food-fight-linc-torso",url:"title-food-fight/linc-torso.png",x:119,y:179},{id:"title-food-fight-linc-head-container",x:9,y:0,children:[{id:"title-food-fight-linc-head",url:"title-food-fight/linc-head.png",x:0,y:0},{id:"title-food-fight-linc-right-eye",url:"title-food-fight/linc-right-eye.png",x:144,y:89,anchor:[.5,.5]},{id:"title-food-fight-linc-left-eye",url:"title-food-fight/linc-left-eye.png",x:109,y:103,anchor:[.5,.5]},{id:"title-food-fight-linc-eyelids",url:"title-food-fight/linc-eyelids.png",x:120,y:101,anchor:[.5,.5]},{id:"title-food-fight-linc-mouth",url:"title-food-fight/linc-mouth.png",x:117,y:156,anchor:[.5,.5]}]},{id:"title-food-fight-linc-left-arm",url:"title-food-fight/linc-left-arm.png",x:123,y:180,anchor:[1,0]}]},{id:"title-food-fight-left-table-plates",url:"title-food-fight/plates.png",x:0,y:160},{id:"title-food-fight-left-table-front",url:"title-food-fight/left-table-front.png",x:48,y:162}]},{id:"title-food-fight-right-table-container",x:716,y:50,children:[{id:"title-food-fight-right-table-back",url:"title-food-fight/right-table-back.png",x:39,y:251},{id:"title-food-fight-leni-container",x:141,y:0,children:[{id:"title-food-fight-leni",url:"title-food-fight/leni.png",x:0,y:0},{id:"title-food-fight-leni-arm",url:"title-food-fight/leni-arm.png",x:138,y:221,anchor:[.9,.55]},{id:"title-food-fight-leni-eyelids",url:"title-food-fight/leni-eyelids.png",x:21,y:83}]},{id:"title-food-fight-lola-container",x:34,y:188,children:[{id:"title-food-fight-lola-shadow",url:"title-food-fight/lola-shadow.png",x:195,y:238,anchor:[.5,.5]},{id:"title-food-fight-lola-arm",
url:"title-food-fight/lola-arm.png",x:75,y:76,anchor:[1,1]},{id:"title-food-fight-lola",url:"title-food-fight/lola.png",x:65,y:0},{id:"title-food-fight-lola-eyelids",url:"title-food-fight/lola-eyelids.png",x:70.2,y:37.5}]},{id:"title-food-fight-lucy-container",x:189,y:215,children:[{id:"title-food-fight-lucy-shadow",url:"title-food-fight/lucy-shadow.png",x:94,y:305,anchor:[.5,.5]},{id:"title-food-fight-lucy",url:"title-food-fight/lucy.png",x:0,y:0}]},{id:"title-food-fight-right-table-front",url:"title-food-fight/right-table-front.png",x:0,y:261}]},{id:"title-food-fight-lilly-container",x:726,y:400,children:[{id:"title-food-fight-lilly",url:"title-food-fight/lilly.png",x:0,y:0},{id:"title-food-fight-lilly-eyelids",url:"title-food-fight/lilly-eyelids.png",x:32.6,y:54.5}]},{id:"title-food-fight-logo-container",x:204,y:50,children:[{id:"title-food-fight-logo-back",url:"title-food-fight/logo-back.png",x:308,y:205,anchor:[.5,.5]},{id:"title-food-fight-logo-text",url:"title-food-fight/logo-text.png",x:308,y:180,anchor:[.5,.5]}]},{id:"title-food-fight-click-anywhere-to-play",url:"title-geo-roll/click-anywhere-to-play.png",x:511,y:557,anchor:[.5,.5]},{id:"title-food-fight-loud-house-logo",url:"title-geo-roll/loud-house-logo.png",x:84,y:548,anchor:[.5,.5]}]},{id:"title-food-fight-logo-particle-holder",children:[]},{id:"title-food-fight-logo-particle",url:"title-food-fight/splat-particle.png",pool:60,retina:!1,anchor:[.5,.5]},{id:"title-food-fight-logo-particle-2",url:"title-food-fight/splat-particle-2.png",pool:60,retina:!1,anchor:[.5,.5]},{id:"title-blank-input",url:"title-food-fight/title-blank-input.png"}],"intro-food-fight-assets":[{id:"intro-container",children:[{id:"intro-background-food",url:"intro-trash/intro-background-food.png"},{id:"sister-leni",children:[{id:"start-leni",url:"intro-trash/start-leni.png",x:37,y:430,anchor:[.5,1]},{id:"end-leni",url:"intro-trash/end-leni.png",x:37,y:430,anchor:[.5,1]}]},{id:"sister-lori",children:[{id:"start-lori",url:"intro-trash/start-lori.png",x:210,y:465,anchor:[.5,1]},{id:"end-lori",url:"intro-trash/end-lori.png",x:210,y:465,anchor:[.5,1]}]},{id:"sister-luna",children:[{id:"start-luna",url:"intro-trash/start-luna.png",x:247,y:530,anchor:[.5,1]},{id:"end-luna",url:"intro-trash/end-luna.png",x:247,y:530,anchor:[.5,1]}]},{id:"sister-luan",children:[{id:"start-luan",url:"intro-trash/start-luan.png",x:98,y:530,anchor:[.5,1]},{id:"end-luan",url:"intro-trash/end-luan.png",x:98,y:530,anchor:[.5,1]}]},{id:"sister-lynn",children:[{id:"start-lynn",url:"intro-trash/start-lynn.png",x:-24,y:526,anchor:[.5,1]},{id:"end-lynn",url:"intro-trash/end-lynn.png",x:-24,y:526,anchor:[.5,1]}]},{id:"sister-lucy",children:[{id:"start-lucy",url:"intro-trash/start-lucy.png",x:141,y:630,anchor:[.5,1]},{id:"end-lucy",url:"intro-trash/end-lucy.png",x:141,y:630,anchor:[.5,1]}]},{id:"sister-lana",children:[{id:"start-lana",url:"intro-trash/start-lana.png",x:253,y:658,anchor:[.5,1]},{id:"end-lana",url:"intro-trash/end-lana.png",x:253,y:658,anchor:[.5,1]}]},{id:"sister-lisa",children:[{id:"start-lisa",url:"intro-trash/start-lisa.png",x:7,y:604,anchor:[.5,1]},{id:"end-lisa",url:"intro-trash/end-lisa.png",x:7,y:604,anchor:[.5,1]}]},{id:"sister-lola",children:[{id:"start-lola",url:"intro-trash/start-lola.png",x:31,y:727,anchor:[.5,1]},{id:"end-lola",url:"intro-trash/end-lola.png",x:31,y:727,anchor:[.5,1]}]},{id:"sister-lily",children:[{id:"start-lily",url:"intro-trash/end-lily.png",x:158,y:733,anchor:[.5,1]}]},{id:"linc-container",children:[{id:"linc-proud",url:"intro-trash/linc-proud.png",x:511,y:625,anchor:[.5,1]},{id:"linc-point-arm",url:"intro-trash/linc-point-arm.png",x:545,y:310,anchor:[0,.5]},{id:"linc-pointing",url:"intro-trash/linc-pointing.png",x:511,y:625,anchor:[.5,1]},{id:"linc-sad",url:"intro-trash/linc-sad.png",x:511,y:625,anchor:[.5,1]},{id:"linc-shocked",url:"intro-trash/linc-shocked.png",x:511,y:625,anchor:[.5,1]},{id:"linc-hit",url:"intro-trash/linc-hit.png",x:511,y:625,anchor:[.5,1]},{id:"linc-shocked-blinc",url:"intro-trash/linc-shocked-blinc.png",x:511,y:625,anchor:[.5,1]}]},{id:"speech-bubble",url:"intro-trash/speech-bubble.png",x:645,y:264,anchor:[0,1]},{id:"speech-item-food",url:"intro-trash/food-icon.png",x:820,y:190,anchor:[.5,.5]},{id:"face-hit",url:"intro-trash/face-hit.png",anchor:[.5,.5],x:410,y:290},{id:"face-food",url:"intro-trash/face-food.png",x:-100,y:200,anchor:[.5,.5]},{id:"head-food",url:"intro-trash/head-food.png",x:511,y:-100,anchor:[.5,.5]}]}],"food-fight-assets":[{id:"food-fight-tutorial-overlay",children:[{id:"help-screen-desktop",url:"food-fight/help-screen-desktop-food.jpg",platformspecific:"desktop"},{id:"help-screen-desktop",url:"food-fight/help-screen-mobile-food.jpg",platformspecific:"mobile"}]},{id:"food-fight-cross-currency-overlay",children:[{id:"food-fight-overlay-bg",url:"food-fight/house-hack-screen-food-fight.jpg"}]},{id:"food-fight/main-holder",children:[{url:"food-fight/bg.jpg",y:-325}]},{id:"food-fight/ui-layer",children:[]},{id:"food-fight/green-glow",url:"food-fight/green-glow.png",x:1024,anchor:[1,.5]},{id:"food-fight/joystick-left",children:[{url:"food-fight/joystick-background.png",anchor:[.5,.5]},{url:"food-fight/joystick-foreground.png",anchor:[.5,.5]}]},{id:"food-fight/joystick-right",children:[{url:"food-fight/joystick-background.png",anchor:[.5,.5]},{url:"food-fight/joystick-foreground.png",anchor:[.5,.5]}]},{url:"food-fight/plate-pile.png",x:-30,y:520},{id:"food-fight/heart",url:"food-fight/heart.png",anchor:[.5,.5],pool:3},{id:"food-fight/health-bg",url:"food-fight/health-bg.png",anchor:[.5,.5]},{id:"food-fight/fort-front",url:"food-fight/food-fight-fort.png",x:1700,y:500,anchor:[.5,.5]},{id:"food-fight/table-right-back",url:"food-fight/table-back.png",x:1700,y:500,anchor:[.5,.5]},{id:"food-fight/table-left-front",x:600,y:500,children:[{url:"food-fight/table-front.png",x:70,anchor:[.5,.5]}]},{id:"food-fight/table-left-back",url:"food-fight/table-back.png",x:650,y:400,anchor:[.5,.5]},{id:"food-fight/lincoln-head",children:[{url:"food-fight/linc-head-gloat.png",anchor:[.5,.5],x:-25,y:10},{url:"food-fight/linc-head-wince.png",anchor:[.5,.5],x:-25,y:10},{url:"food-fight/linc-head-anticipate.png",anchor:[.5,.5],x:-25,y:10},{id:"food-fight/linc-head-idle",x:-25,y:10,children:[{url:"food-fight/linc-head-idle.png",anchor:[.5,.5]},{url:"food-fight/linc-head-eyelids.png",anchor:[.5,.5]}]}]},{id:"food-fight/lincoln-arm-back",url:"food-fight/linc-arm-back.png",x:-20,y:10,anchor:[.1,.8]},{id:"food-fight/lincoln-arm",children:[{url:"food-fight/linc-arm.png",anchor:[.5,.5]},{id:"food-fight/lincoln-plate",url:"food-fight/plate.png",x:60,anchor:[.5,.5]},{id:"food-fight/lincoln-platter",children:[{url:"food-fight/golden-glow.png",x:87,retina:!1,anchor:[.5,.5]},{url:"food-fight/platter.png",x:80,anchor:[.5,.5]},{id:"food-fight/platter-shine",url:"food-fight/heart-box-shine.png",retina:!1,x:80,anchor:[.5,.5]}]}]},{id:"food-fight/sister-sensor-sprite",url:"food-fight/grey-sprite.png",retina:!1,anchor:[.5,.5]},{id:"food-fight/grey-sprite",url:"food-fight/grey-sprite.png",retina:!1,anchor:[.5,.5]},{id:"food-fight/marker",url:"food-fight/marker.png",anchor:[1,.5],pool:10},{url:"food-fight/blank-input.png"},{id:"food-fight/food-projectiles-container",children:[]},{id:"food-fight/splats-container",children:[]},{id:"food-fight/food-projectile-container",children:[],pool:9},{id:"food-fight/linc-torso-spine-holder",children:[]},{id:"food-fight/linc-torso-spine",type:"spine",dir:"food-fight/linc-torso-spine",url:"skeleton.png",skeleton:"skeleton.json",atlas:"skeleton.txt"},{id:"food-fight/splat-1",children:[{url:"food-fight/splats/splat-1.png",anchor:[.5,.5]}]},{id:"food-fight/splat-2",children:[{url:"food-fight/splats/splat-2.png",anchor:[.5,.5]}]},{id:"food-fight/splat-3",children:[{url:"food-fight/splats/splat-3.png",anchor:[.5,.5]}]},{id:"food-fight/syrup",children:[{url:"food-fight/splats/syrup.png",anchor:[.5,.5]}]},{id:"food-fight/sauce",children:[{url:"food-fight/splats/sauce.png",anchor:[.5,.5]}]},{id:"food-fight/heart-powerup",children:[{url:"food-fight/heart-box.png",anchor:[.5,.5]},{url:"food-fight/heart-box-shine.png",retina:!1,anchor:[.5,.5]}]},{id:"food-fight/sisters-pip",children:[{id:"food-fight/sisters-pip-sisters-holder",children:[{id:"food-fight/leni-pip",children:[{url:"food-fight/sisters/leni_hit.png"},{url:"food-fight/sisters/leni_scared.png"},{url:"food-fight/food/apple.png",x:40,y:90,anchor:[.5,.5]}]},{id:"food-fight/lola-pip",children:[{url:"food-fight/sisters/lola_hit.png"},{url:"food-fight/sisters/lola_scared.png"},{url:"food-fight/food/lollipop.png",x:40,y:90,anchor:[.5,.5]}]},{id:"food-fight/lana-pip",children:[{url:"food-fight/sisters/lana_hit.png"},{url:"food-fight/sisters/lana_scared.png"},{url:"food-fight/food/hotdog.png",x:40,y:90,anchor:[.5,.5]}]},{id:"food-fight/luan-pip",children:[{url:"food-fight/sisters/luan_hit.png"},{url:"food-fight/sisters/luan_scared.png"},{url:"food-fight/food/chicken.png",x:10,y:95,anchor:[.5,.5]}]},{id:"food-fight/lucy-pip",children:[{url:"food-fight/sisters/lucy_hit.png"},{url:"food-fight/sisters/lucy_scared.png"},{url:"food-fight/food/pancakes.png",x:40,y:90,anchor:[.5,.5]}]},{id:"food-fight/lori-pip",children:[{url:"food-fight/sisters/lori_hit.png"},{url:"food-fight/sisters/lori_scared.png"},{url:"food-fight/food/pizza.png",x:40,y:90,anchor:[.5,.5]}]},{id:"food-fight/lynn-pip",children:[{url:"food-fight/sisters/lynn_hit.png"},{url:"food-fight/sisters/lynn_scared.png"},{url:"food-fight/food/melon.png",x:30,y:100,anchor:[.5,.5]}]},{id:"food-fight/luna-pip",children:[{url:"food-fight/sisters/luna_hit.png"},{url:"food-fight/sisters/luna_scared.png"},{url:"food-fight/food/banana.png",x:40,y:90,anchor:[.5,.5]}]},{id:"food-fight/lisa-pip",children:[{url:"food-fight/sisters/lisa_hit.png"},{url:"food-fight/sisters/lisa_scared.png"},{url:"food-fight/food/spaghetti.png",x:40,y:90,anchor:[.5,.5]}]}]},{id:"food-fight/hit-swoosh",x:-275,y:15,children:[{url:"food-fight/hit-swoosh-1.png",anchor:[.5,.5]},{url:"food-fight/hit-swoosh-2.png",anchor:[.5,.5]}]},{id:"food-fight/hit-splat",x:-60,children:[{url:"food-fight/hit.png",x:-4,y:-2,anchor:[.5,.5]},{url:"food-fight/hit-2.png",anchor:[.5,.5]},{id:"food-fight/hit-star-1",url:"food-fight/hit-star.png",x:0,y:0,anchor:[.5,.5]},{id:"food-fight/hit-star-2",url:"food-fight/hit-star.png",x:0,y:0,anchor:[.5,.5]}]}]},{id:"food-fight/leni",children:[{url:"food-fight/sisters/leni.png",anchor:[.5,1]},{url:"food-fight/sisters/leni-arm.png",x:2,y:-69,anchor:[0,0]},{url:"food-fight/food/apple.png",x:90,y:-40,anchor:[.5,.5]}]},{id:"food-fight/lola",children:[{url:"food-fight/sisters/lola.png",anchor:[.5,1]},{url:"food-fight/sisters/lola-arm.png",x:28,y:-53,anchor:[0,1]},{url:"food-fight/food/lollipop.png",x:90,y:-90,anchor:[.5,.5]}]},{id:"food-fight/lana",children:[{url:"food-fight/sisters/lana.png",anchor:[.5,1]},{url:"food-fight/sisters/lana-arm.png",x:-20,y:-80,anchor:[0,0]},{url:"food-fight/food/hotdog.png",x:40,y:-95,anchor:[.5,.5]}]},{id:"food-fight/luan",children:[{url:"food-fight/sisters/luan.png",anchor:[.5,1]},{url:"food-fight/sisters/luan-arm.png",x:-30,y:-53,anchor:[0,1]},{url:"food-fight/food/chicken.png",x:70,y:-86,anchor:[.5,.5]}]},{id:"food-fight/lucy",children:[{url:"food-fight/sisters/lucy.png",anchor:[.5,1]},{url:"food-fight/sisters/lucy-arm.png",x:0,y:-95,anchor:[0,0]},{url:"food-fight/food/pancakes.png",x:70,y:-117,anchor:[.5,.5]}]},{id:"food-fight/lori",children:[{url:"food-fight/sisters/lori.png",anchor:[.5,1]},{url:"food-fight/sisters/lori-arm.png",x:-7,y:-74,anchor:[0,0]},{url:"food-fight/food/pizza.png",x:95,y:-75,anchor:[.5,.5]}]},{id:"food-fight/lynn",children:[{url:"food-fight/sisters/lynn.png",anchor:[.5,1]},{url:"food-fight/sisters/lynn-arm.png",x:-20,y:-53,anchor:[0,1]},{url:"food-fight/food/melon.png",x:72,y:-95,anchor:[.5,.5]}]},{id:"food-fight/luna",children:[{url:"food-fight/sisters/luna.png",anchor:[.5,1]},{url:"food-fight/sisters/luna-arm.png",x:-3,y:-90,anchor:[0,0]},{url:"food-fight/food/banana.png",x:80,y:-95,anchor:[.5,.5]}]},{id:"food-fight/lisa",children:[{url:"food-fight/sisters/lisa.png",anchor:[.5,1]},{url:"food-fight/sisters/lisa-arm.png",x:-3,y:-72,anchor:[0,0]},{url:"food-fight/food/spaghetti.png",x:60,y:-88,anchor:[.5,.5]}]},{id:"food-fight/food/apple",children:[{url:"food-fight/food/apple.png",anchor:[.57,.7]}]},{id:"food-fight/food/melon",children:[{url:"food-fight/food/melon.png",anchor:[.5,.5]}]},{id:"food-fight/food/banana",children:[{url:"food-fight/food/banana.png",anchor:[.5,.5]}]},{id:"food-fight/food/chicken",children:[{url:"food-fight/food/chicken.png",anchor:[.5,.5]}]},{id:"food-fight/food/lollipop",children:[{url:"food-fight/food/lollipop.png",anchor:[.5,.3]}]},{id:"food-fight/food/spaghetti",children:[{url:"food-fight/food/spaghetti.png",anchor:[.5,.5]},{id:"food-fight/food/spaghetti_particles",children:[{id:"food-fight/food/spaghetti_particle/p0",url:"food-fight/food/spaghetti_particle/p0.png",anchor:[.5,.5]},{id:"food-fight/food/spaghetti_particle/p1",url:"food-fight/food/spaghetti_particle/p1.png",anchor:[.5,.5]},{id:"food-fight/food/spaghetti_particle/p2",url:"food-fight/food/spaghetti_particle/p2.png",anchor:[.5,.5]},{id:"food-fight/food/spaghetti_particle/p3",url:"food-fight/food/spaghetti_particle/p3.png",anchor:[.5,.5]},{id:"food-fight/food/spaghetti_particle/p4",url:"food-fight/food/spaghetti_particle/p4.png",anchor:[.5,.5]},{id:"food-fight/food/spaghetti_particle/p5",url:"food-fight/food/spaghetti_particle/p5.png",anchor:[.5,.5]},{id:"food-fight/food/spaghetti_particle/p6",url:"food-fight/food/spaghetti_particle/p4.png",anchor:[.5,.5]},{id:"food-fight/food/spaghetti_particle/p7",url:"food-fight/food/spaghetti_particle/p5.png",anchor:[.5,.5]}]}]},{id:"food-fight/food/pancakes",children:[{url:"food-fight/food/pancakes.png",anchor:[.5,.5]},{id:"food-fight/food/pancakes_particles",children:[{id:"food-fight/food/pancake_particle/p0",url:"food-fight/food/pancake_particle/p0.png",anchor:[.5,.5]},{id:"food-fight/food/pancake_particle/p1",url:"food-fight/food/pancake_particle/p1.png",anchor:[.5,.5]},{id:"food-fight/food/pancake_particle/p2",url:"food-fight/food/pancake_particle/p2.png",anchor:[.5,.5]},{id:"food-fight/food/pancake_particle/p3",url:"food-fight/food/pancake_particle/p0.png",anchor:[.5,.5]},{id:"food-fight/food/pancake_particle/p4",url:"food-fight/food/pancake_particle/p1.png",anchor:[.5,.5]},{id:"food-fight/food/pancake_particle/p5",url:"food-fight/food/pancake_particle/p2.png",anchor:[.5,.5]},{id:"food-fight/food/pancake_particle/p0",url:"food-fight/food/pancake_particle/p1.png",anchor:[.5,.5]},{id:"food-fight/food/pancake_particle/p1",url:"food-fight/food/pancake_particle/p2.png",anchor:[.5,.5]}]}]},{id:"food-fight/food/pizza",children:[{url:"food-fight/food/pizza.png",anchor:[.5,.5]},{id:"food-fight/food/pizza_particles",children:[{id:"food-fight/food/pizza_particle/p0",url:"food-fight/food/pizza_particle/p0.png",anchor:[.5,.5]},{id:"food-fight/food/pizza_particle/p1",url:"food-fight/food/pizza_particle/p1.png",anchor:[.5,.5]},{id:"food-fight/food/pizza_particle/p2",url:"food-fight/food/pizza_particle/p2.png",anchor:[.5,.5]},{id:"food-fight/food/pizza_particle/p3",url:"food-fight/food/pizza_particle/p3.png",anchor:[.5,.5]},{id:"food-fight/food/pizza_particle/p4",url:"food-fight/food/pizza_particle/p0.png",anchor:[.5,.5]},{id:"food-fight/food/pizza_particle/p5",url:"food-fight/food/pizza_particle/p1.png",anchor:[.5,.5]},{id:"food-fight/food/pizza_particle/p6",url:"food-fight/food/pizza_particle/p2.png",anchor:[.5,.5]},{id:"food-fight/food/pizza_particle/p7",url:"food-fight/food/pizza_particle/p3.png",anchor:[.5,.5]}]}]},{id:"food-fight/food/hotdog",children:[{url:"food-fight/food/hotdog.png",anchor:[.5,.5]},{id:"food-fight/food/hotdog_particles",children:[{id:"food-fight/food/hotdog_particle/p0",url:"food-fight/food/hotdog_particle/p0.png",anchor:[.5,.5]},{id:"food-fight/food/hotdog_particle/p1",url:"food-fight/food/hotdog_particle/p1.png",anchor:[.5,.5]},{id:"food-fight/food/hotdog_particle/p2",url:"food-fight/food/hotdog_particle/p2.png",anchor:[.5,.5]},{id:"food-fight/food/hotdog_particle/p3",url:"food-fight/food/hotdog_particle/p3.png",anchor:[.5,.5]},{id:"food-fight/food/hotdog_particle/p4",url:"food-fight/food/hotdog_particle/p0.png",anchor:[.5,.5]},{id:"food-fight/food/hotdog_particle/p5",url:"food-fight/food/hotdog_particle/p1.png",anchor:[.5,.5]},{id:"food-fight/food/hotdog_particle/p6",url:"food-fight/food/hotdog_particle/p2.png",anchor:[.5,.5]},{id:"food-fight/food/hotdog_particle/p7",url:"food-fight/food/hotdog_particle/p3.png",anchor:[.5,.5]}]}]},{id:"food-fight/score-holder",x:75,y:75,children:[{url:"loud-laundry/score-bg.png",anchor:[.51,.51]}]},{id:"score-font",dir:"score-font",url:"bungee.png",fontname:"bungee",fontdata:"bungee.xml",type:"bitmaptext"},{id:"score-change-font",dir:"score-change-font",url:"bungee-score-change.png",fontname:"bungee-score-change",fontdata:"bungee-score-change.xml",type:"bitmaptext"},{id:"gameover-food-fight-container",children:[{id:"gameover-food-fight-bg",url:"gameover-food-fight/bg.png",x:0,y:0},{id:"gameover-food-fight-parents",url:"gameover-trash/parents.png",x:478,y:396,anchor:[.5,1]},{id:"gameover-food-fight-sisters-right-container",children:[{id:"gameover-food-fight-sister-luan",url:"gameover-trash/sister-luan.png",x:965,y:433,anchor:[.5,1]},{id:"gameover-food-fight-sister-lynn",url:"gameover-trash/sister-lynn.png",x:900,y:536,anchor:[.5,1]},{id:"gameover-food-fight-sister-lola",url:"gameover-trash/sister-lola.png",x:800,y:580,anchor:[.5,1]}]},{id:"gameover-food-fight-sisters-left-container",children:[{id:"gameover-food-fight-sister-luna",url:"gameover-trash/sister-luna.png",x:60,y:448,anchor:[.5,1]},{id:"gameover-food-fight-sister-lucy",url:"gameover-trash/sister-lucy.png",x:114,y:544,anchor:[.5,1]},{id:"gameover-food-fight-sister-lana",url:"gameover-trash/sister-lana.png",x:180,y:604,anchor:[.5,1]}]},{id:"gameover-food-fight-linc-container",x:276,y:-40,children:[{id:"gameover-food-fight-linc-inner-container",x:0,y:0,children:[{id:"gameover-food-fight-linc-right-arm",url:"gameover-trash/linc-right-arm.png",x:253,y:379,anchor:[.1,.6]},{id:"gameover-food-fight-linc-left-arm",url:"gameover-trash/linc-left-arm.png",x:217,y:383,anchor:[.9,.3]},{id:"gameover-food-fight-linc-body",url:"gameover-trash/linc-body.png",x:201,y:360,anchor:[0,0]},{id:"gameover-food-fight-linc-head",url:"gameover-trash/linc-head.png",x:0,y:0,anchor:[0,0]},{id:"gameover-food-fight-linc-mouth",url:"gameover-trash/linc-mouth.png",x:205,y:315,anchor:[.5,.5]},{id:"gameover-food-fight-linc-eyelids",url:"gameover-trash/linc-eyelids.png",x:234,y:195,anchor:[.5,.5]}]}]},{id:"gameover-food-fight-food",url:"gameover-food-fight/food.png",x:512,y:670,anchor:[.5,1]},{id:"gameover-food-fight-game-over",url:"gameover-trash/game-over.png",x:512,y:46,anchor:[.5,.5]},{id:"gameover-score-holder",x:512,y:80,children:[{id:"score",url:"gameover-trash/score.png",y:7}]}]},{id:"house-hack-notification",url:"gameover-food-fight/house-hack-notification.png",anchor:[0,1]}],"title-loud-laundry-assets":[{id:"title-loud-laundry-container",children:[{id:"title-loud-laundry-bg",url:"title-loud-laundry/bg.png",x:0,y:0},{id:"title-loud-laundry-washing-machine-back-left-container",x:44,y:293,children:[{id:"title-loud-laundry-washing-machine-back-left",url:"title-loud-laundry/washing-machine-back-left.png",x:0,y:0,anchor:[.4,.8]}]},{id:"title-loud-laundry-washing-machine-back-right-container",x:993,y:289,children:[{id:"title-loud-laundry-washing-machine-back-right",url:"title-loud-laundry/washing-machine-back-right.png",x:0,y:0,anchor:[.6,.8]}]},{id:"title-loud-laundry-bubble-holder",x:0,y:0,children:[]},{id:"title-loud-laundry-back-bubbles-holder",x:512,y:625,children:[{id:"title-loud-laundry-back-bubbles",url:"title-loud-laundry/back-bubbles.png",x:0,y:0,anchor:[.5,1]}]},{id:"title-loud-laundry-washing-machine-left-container",x:91,y:616,children:[{id:"title-loud-laundry-washing-machine-left",url:"title-loud-laundry/washing-machine-left.png",x:0,y:0,anchor:[.4,.8]}]},{id:"title-loud-laundry-washing-machine-right-container",x:922,y:623,children:[{id:"title-loud-laundry-washing-machine-right",url:"title-loud-laundry/washing-machine-right.png",x:0,y:0,anchor:[.6,.8]}]},{id:"title-loud-laundry-logo",url:"title-loud-laundry/logo.png",x:512,y:133,anchor:[.5,.5]},{id:"title-loud-laundry-linc-outer-holder",x:333,y:227,children:[{id:"title-loud-laundry-linc-holder",children:[{id:"title-loud-laundry-linc-left-arm-holder",x:27,y:221,children:[{id:"title-loud-laundry-linc-left-arm",url:"title-loud-laundry/linc-left-arm.png",x:0,y:0}]},{id:"title-loud-laundry-linc-right-arm-holder",x:205,y:189,children:[{id:"title-loud-laundry-linc-right-arm",url:"title-loud-laundry/linc-right-arm.png",x:0,y:0}]},{id:"title-loud-laundry-linc-body",url:"title-loud-laundry/linc-body.png",x:174,y:300},{id:"title-loud-laundry-linc-head-holder",x:0,y:0,children:[{id:"title-loud-laundry-linc-head",url:"title-loud-laundry/linc-head.png",x:0,y:0},{id:"title-loud-laundry-linc-left-eyebrow",url:"title-loud-laundry/linc-left-eyebrow.png",x:141,y:61},{id:"title-loud-laundry-linc-right-eyebrow",url:"title-loud-laundry/linc-right-eyebrow.png",x:198,y:76},{id:"title-loud-laundry-linc-mouth",url:"title-loud-laundry/linc-mouth.png",x:246,y:261,anchor:[.5,.5]},{id:"title-loud-laundry-linc-right-eye",url:"title-loud-laundry/linc-right-eye.png",x:208,y:164,anchor:[.5,.5]},{id:"title-loud-laundry-linc-left-eye",url:"title-loud-laundry/linc-left-eye.png",x:175,y:165,anchor:[.5,.5]},{id:"title-loud-laundry-linc-eyelids",url:"title-loud-laundry/linc-eyelids.png",x:191,y:163,anchor:[.5,.5]}]},{id:"title-loud-laundry-linc-left-arm-overlay-holder",x:27,y:221,children:[{id:"title-loud-laundry-linc-left-arm",url:"title-loud-laundry/linc-left-arm-overlay.png",x:0,y:0}]},{id:"title-loud-laundry-linc-right-arm-overlay-holder",x:205,y:189,children:[{id:"title-loud-laundry-linc-right-arm",url:"title-loud-laundry/linc-right-arm-overlay.png",x:0,y:0}]}]}]},{id:"title-loud-laundry-front-bubbles-holder",x:512,y:645,children:[{id:"title-loud-laundry-front-bubbles",url:"title-loud-laundry/front-bubbles.png",x:0,y:0,anchor:[.5,1]}]}]},{id:"bubble-pop",anchor:[.5,.5],type:"spritesheet",dir:"title-loud-laundry/bubble-pop-frames",url:"bubble-pop.png",atlas:"bubble-pop.json",frames:["bubble-1.png","bubble-2.png","bubble-3.png","bubble-4.png","bubble-5.png","bubble-6.png","bubble-7.png"],pool:30},{id:"bubble",url:"title-loud-laundry/bubble.png",x:0,y:0,anchor:[.5,.5],pool:30},{id:"title-loud-laundry-click-anywhere-to-play",url:"title-geo-roll/click-anywhere-to-play.png",x:511,y:575,anchor:[.5,.5]},{id:"title-loud-laundry-loud-house-logo",url:"title-geo-roll/loud-house-logo.png",x:84,y:548,anchor:[.5,.5]},{id:"title-blank-input",url:"title-loud-laundry/title-blank-input.png"}],"intro-loud-laundry-assets":[{id:"intro-container",children:[{id:"intro-background-laundry",url:"intro-trash/intro-background-laundry.png"},{id:"sister-leni",children:[{id:"start-leni",url:"intro-trash/start-leni.png",x:37,y:430,anchor:[.5,1]},{id:"end-leni",url:"intro-trash/end-leni.png",x:37,y:430,anchor:[.5,1]}]},{id:"sister-lori",children:[{id:"start-lori",url:"intro-trash/start-lori.png",x:210,y:465,anchor:[.5,1]},{id:"end-lori",url:"intro-trash/end-lori.png",x:210,y:465,anchor:[.5,1]}]},{id:"sister-luna",children:[{id:"start-luna",url:"intro-trash/start-luna.png",x:247,y:530,anchor:[.5,1]},{id:"end-luna",url:"intro-trash/end-luna.png",x:247,y:530,anchor:[.5,1]}]},{id:"sister-luan",children:[{id:"start-luan",url:"intro-trash/start-luan.png",x:98,y:530,anchor:[.5,1]},{id:"end-luan",url:"intro-trash/end-luan.png",x:98,y:530,anchor:[.5,1]}]},{id:"sister-lynn",children:[{id:"start-lynn",url:"intro-trash/start-lynn.png",x:-24,y:526,anchor:[.5,1]},{id:"end-lynn",url:"intro-trash/end-lynn.png",x:-24,y:526,anchor:[.5,1]}]},{id:"sister-lucy",children:[{id:"start-lucy",url:"intro-trash/start-lucy.png",x:141,y:630,anchor:[.5,1]},{id:"end-lucy",url:"intro-trash/end-lucy.png",x:141,y:630,anchor:[.5,1]}]},{id:"sister-lana",children:[{id:"start-lana",url:"intro-trash/start-lana.png",x:253,y:658,anchor:[.5,1]},{id:"end-lana",url:"intro-trash/end-lana.png",x:253,y:658,anchor:[.5,1]}]},{id:"sister-lisa",children:[{id:"start-lisa",url:"intro-trash/start-lisa.png",x:7,y:604,anchor:[.5,1]},{id:"end-lisa",url:"intro-trash/end-lisa.png",x:7,y:604,anchor:[.5,1]}]},{id:"sister-lola",children:[{id:"start-lola",url:"intro-trash/start-lola.png",x:31,y:727,anchor:[.5,1]},{id:"end-lola",url:"intro-trash/end-lola.png",x:31,y:727,anchor:[.5,1]}]},{id:"sister-lily",children:[{id:"start-lily",url:"intro-trash/end-lily.png",x:158,y:733,anchor:[.5,1]}]},{id:"linc-container",children:[{id:"linc-proud",url:"intro-trash/linc-proud.png",x:511,y:625,anchor:[.5,1]},{id:"linc-point-arm",url:"intro-trash/linc-point-arm.png",x:545,y:310,anchor:[0,.5]},{id:"linc-pointing",url:"intro-trash/linc-pointing.png",x:511,y:625,anchor:[.5,1]},{id:"linc-sad",url:"intro-trash/linc-sad.png",x:511,y:625,anchor:[.5,1]},{id:"linc-shocked",url:"intro-trash/linc-shocked.png",x:511,y:625,anchor:[.5,1]},{id:"linc-hit",url:"intro-trash/linc-hit.png",x:511,y:625,anchor:[.5,1]},{id:"linc-shocked-blinc",url:"intro-trash/linc-shocked-blinc.png",x:511,y:625,anchor:[.5,1]}]},{id:"speech-bubble",url:"intro-trash/speech-bubble.png",x:645,y:264,anchor:[0,1]},{id:"speech-item-laundry",url:"intro-trash/laundry-icon.png",x:818,y:160,anchor:[.5,.5]},{id:"face-hit",url:"intro-trash/face-hit.png",anchor:[.5,.5],x:410,y:290},{id:"face-laundry",url:"intro-trash/face-laundry.png",x:-100,y:200,anchor:[.5,.5]},{id:"head-laundry",url:"intro-trash/head-laundry.png",x:511,y:-100,anchor:[.5,.5]}]},{id:"title-blank-input",url:"title-loud-laundry/title-blank-input.png"}],"loud-laundry-assets":[{id:"laundry-cross-currency-overlay",children:[{id:"laundry-overlay-bg",url:"loud-laundry/house-hack-screen-loud-laundry.jpg"}]},{id:"laundry-tutorial-overlay",children:[{id:"help-screen-desktop",url:"loud-laundry/help-screen-desktop-laundry.jpg",platformspecific:"desktop"},{id:"help-screen-desktop",url:"loud-laundry/help-screen-mobile-laundry.jpg",platformspecific:"mobile"}]},{id:"loud-laundry/room-holder",children:[]},{id:"linc-side-spine",type:"spine",dir:"loud-laundry/linc-side-spine",url:"skeleton.png",skeleton:"skeleton.json",atlas:"skeleton.txt"},{id:"loud-laundry/powerup-liquid",children:[{id:"loud-laundry/powerup-liquid-inner",children:[{id:"loud-laundry/powerup-shadow",url:"loud-laundry/super-wash-liquid-shadow.png",retina:!1},{id:"loud-laundry/powerup-glow",url:"loud-laundry/super-wash-liquid-glow.png",retina:!1,anchor:[.5,.5],x:48,y:35},{id:"loud-laundry/super-wash-liquid-1",url:"loud-laundry/super-wash-liquid-1.png"},{id:"loud-laundry/super-wash-liquid-2",children:[{url:"loud-laundry/super-wash-liquid-drip.png",anchor:[.5,0]},{url:"loud-laundry/super-wash-liquid-2.png"}]}]}]},{id:"loud-laundry/powerup-shine",url:"loud-laundry/heart-box-shine.png",retina:!1,anchor:[.5,.5]},{id:"loud-laundry/main-basket",children:[{url:"loud-laundry/main-basket.png",anchor:[.5,1]},{url:"loud-laundry/main-basket-front.png",anchor:[.5,1]}]},{id:"loud-laundry/basket-whites",children:[{url:"loud-laundry/basket-shadow.png",anchor:[.5,.2]},{id:"loud-laundry/basket-whites-holder",children:[{id:"loud-laundry/basket-meter",x:-85,y:-100,children:[{url:"loud-laundry/basket-meter.png"},{url:"loud-laundry/basket-meter-bar.png",x:7,y:7}]},{url:"loud-laundry/basket-glow.png",retina:!1,anchor:[.5,.22]},{url:"loud-laundry/basket-whites.png",anchor:[.5,.2]},{url:"loud-laundry/basket-whites-front.png",anchor:[.5,.2]}]}]},{id:"loud-laundry/basket-colours",children:[{url:"loud-laundry/basket-shadow.png",anchor:[.5,.2]},{id:"loud-laundry/basket-colours-holder",children:[{id:"loud-laundry/basket-meter",x:-85,y:-100,children:[{url:"loud-laundry/basket-meter.png"},{url:"loud-laundry/basket-meter-bar.png",x:7,y:7}]},{url:"loud-laundry/basket-glow.png",retina:!1,anchor:[.5,.22]},{url:"loud-laundry/basket-colours.png",anchor:[.5,.2]},{url:"loud-laundry/basket-colours-front.png",anchor:[.5,.2]}]}]},{id:"loud-laundry/sud-bomb-holder",children:[{url:"loud-laundry/sud-bg.png",retina:!1,anchor:[.5,.5]}]},{id:"loud-laundry/sud-1",url:"loud-laundry/sud-1.png",pool:20,anchor:[.5,.7]},{id:"loud-laundry/sud-2",url:"loud-laundry/sud-2.png",pool:20,anchor:[.5,.7]},{id:"loud-laundry/sud-3",url:"loud-laundry/sud-3.png",pool:20,anchor:[.5,.7]},{id:"loud-laundry/sud-bubble-1",url:"loud-laundry/sud-bubble-1.png",pool:20,anchor:[.55,.55]},{id:"loud-laundry/sud-bubble-2",url:"loud-laundry/sud-bubble-2.png",pool:20,anchor:[.55,.55]},{id:"loud-laundry/linc-front",x:0,y:650,children:[{url:"loud-laundry/link-front.png"}]},{id:"loud-laundry/linc-front-arms",anchor:[.5,0],type:"spritesheet",dir:"loud-laundry/linc-arms",url:"arms.png",atlas:"arms.json",frames:["arms-1.png","arms-2.png","arms-3.png","arms-4.png"]},{id:"loud-laundry/washing-machine-1",children:[{id:"loud-laundry/washing-machine",children:[{url:"loud-laundry/washing-machine-back.png"},{id:"loud-laundry/washing-holder",x:120,y:160,children:[]},{id:"water-frames",x:115,y:240,anchor:[.5,1],type:"spritesheet",dir:"loud-laundry/water-frames",url:"water-frames.png",atlas:"water-frames.json",frames:["1.png","2.png","3.png","4.png","5.png"]},{url:"loud-laundry/washing-machine-mask.png"},{url:"loud-laundry/machine-shine.png",x:115,y:158,retina:!1,anchor:[.5,.5]},{url:"loud-laundry/washing-machine-door.png",x:40,y:165,anchor:[.1,.5]}]},{id:"loud-laundry/timer",x:50,y:-40,children:[{id:"loud-laundry/timer-bg",url:"loud-laundry/timer-bg.png",anchor:[.5,.5]},{id:"loud-laundry/timer-green-left",url:"loud-laundry/timer-green.png",x:-1,y:-2,anchor:[1,.5]},{id:"loud-laundry/timer-green-right",url:"loud-laundry/timer-green.png",x:-1,y:-2,anchor:[1,.5]},{id:"loud-laundry/timer-white",url:"loud-laundry/timer-white.png",x:-1,y:-2,anchor:[1,.5]}]},{id:"loud-laundry/mixed-wash-icon",x:110,y:-30,children:[{url:"loud-laundry/mixed-wash.png",y:87,anchor:[.5,.5]},{url:"loud-laundry/exclamation-mark.png",anchor:[.5,.5]}]}]},{id:"loud-laundry/washing-machine-2",children:[{id:"loud-laundry/washing-machine",children:[{url:"loud-laundry/washing-machine-back.png"},{id:"loud-laundry/washing-holder",x:120,y:160,children:[]},{id:"water-frames",x:115,y:240,anchor:[.5,1],type:"spritesheet",dir:"loud-laundry/water-frames",url:"water-frames.png",atlas:"water-frames.json",frames:["1.png","2.png","3.png","4.png","5.png"]},{url:"loud-laundry/washing-machine-mask.png"},{url:"loud-laundry/machine-shine.png",x:115,y:158,retina:!1,anchor:[.5,.5]},{url:"loud-laundry/washing-machine-door.png",x:40,y:165,anchor:[.1,.5]}]},{id:"loud-laundry/timer",x:50,y:-40,children:[{id:"loud-laundry/timer-bg",url:"loud-laundry/timer-bg.png",anchor:[.5,.5]},{id:"loud-laundry/timer-green-left",url:"loud-laundry/timer-green.png",x:-1,y:-2,anchor:[1,.5]},{id:"loud-laundry/timer-green-right",url:"loud-laundry/timer-green.png",x:-1,y:-2,anchor:[1,.5]},{id:"loud-laundry/timer-white",url:"loud-laundry/timer-white.png",x:-1,y:-2,anchor:[1,.5]}]},{id:"loud-laundry/mixed-wash-icon",x:110,y:-30,children:[{url:"loud-laundry/mixed-wash.png",y:87,anchor:[.5,.5]},{url:"loud-laundry/exclamation-mark.png",anchor:[.5,.5]}]}]},{id:"loud-laundry/washing-machine-3",children:[{id:"loud-laundry/washing-machine",children:[{url:"loud-laundry/washing-machine-back.png"},{id:"loud-laundry/washing-holder",x:120,y:160,children:[]},{id:"water-frames",x:115,y:240,anchor:[.5,1],type:"spritesheet",dir:"loud-laundry/water-frames",url:"water-frames.png",atlas:"water-frames.json",frames:["1.png","2.png","3.png","4.png","5.png"]},{url:"loud-laundry/washing-machine-mask.png"},{url:"loud-laundry/machine-shine.png",x:115,y:158,retina:!1,anchor:[.5,.5]},{url:"loud-laundry/washing-machine-door.png",x:40,y:165,anchor:[.1,.5]}]},{id:"loud-laundry/timer",x:50,y:-40,children:[{id:"loud-laundry/timer-bg",url:"loud-laundry/timer-bg.png",anchor:[.5,.5]},{id:"loud-laundry/timer-green-left",
url:"loud-laundry/timer-green.png",x:-1,y:-2,anchor:[1,.5]},{id:"loud-laundry/timer-green-right",url:"loud-laundry/timer-green.png",x:-1,y:-2,anchor:[1,.5]},{id:"loud-laundry/timer-white",url:"loud-laundry/timer-white.png",x:-1,y:-2,anchor:[1,.5]}]},{id:"loud-laundry/mixed-wash-icon",x:110,y:-30,children:[{url:"loud-laundry/mixed-wash.png",y:87,anchor:[.5,.5]},{url:"loud-laundry/exclamation-mark.png",anchor:[.5,.5]}]}]},{id:"loud-laundry/stairs",children:[{id:"loud-laundry/stairs-sisters",x:40,children:[{url:"loud-laundry/stairs-luna.png",x:-25,y:7,anchor:[0,0]},{url:"loud-laundry/stairs-lisa.png",x:30,y:46,anchor:[0,0]},{url:"loud-laundry/stairs-lynn.png",x:-45,y:9,anchor:[0,0]}]},{url:"loud-laundry/stairs.png"}]},{url:"loud-laundry/clothes-white/blob.png",pool:12},{url:"loud-laundry/clothes-white/shorts.png",pool:12},{url:"loud-laundry/clothes-white/sock-1.png",pool:12},{url:"loud-laundry/clothes-white/sock-2.png",pool:12},{url:"loud-laundry/clothes-white/sock-3.png",pool:12},{url:"loud-laundry/clothes-white/t-shirt.png",pool:12},{url:"loud-laundry/clothes-white/top.png",pool:12},{url:"loud-laundry/clothes-coloured/blob-1.png",pool:12},{url:"loud-laundry/clothes-coloured/pants-1.png",pool:12},{url:"loud-laundry/clothes-coloured/pants-2.png",pool:12},{url:"loud-laundry/clothes-coloured/scarf-1.png",pool:12},{url:"loud-laundry/clothes-coloured/scarf-2.png",pool:12},{url:"loud-laundry/clothes-coloured/shorts-1.png",pool:12},{url:"loud-laundry/clothes-coloured/sock-1.png",pool:12},{url:"loud-laundry/clothes-coloured/sock-2.png",pool:12},{url:"loud-laundry/clothes-coloured/sock-3.png",pool:12},{url:"loud-laundry/clothes-coloured/sock-4.png",pool:12},{url:"loud-laundry/clothes-coloured/sock-5.png",pool:12},{url:"loud-laundry/clothes-coloured/sock-6.png",pool:12},{url:"loud-laundry/clothes-coloured/sock-7.png",pool:12},{url:"loud-laundry/clothes-coloured/stitches-1.png",pool:12},{url:"loud-laundry/clothes-coloured/stitches-2.png",pool:12},{url:"loud-laundry/clothes-coloured/t-shirt-1.png",pool:12},{url:"loud-laundry/clothes-coloured/t-shirt-2.png",pool:12},{url:"loud-laundry/clothes-coloured/top-1.png",pool:12},{url:"loud-laundry/clothes-coloured/top-2.png",pool:12},{url:"loud-laundry/sister-lana-special-item.png",pool:6},{url:"loud-laundry/sister-leni-special-item.png",pool:6},{url:"loud-laundry/sister-lola-special-item.png",pool:6},{url:"loud-laundry/sister-luan-special-item.png",pool:6},{url:"loud-laundry/sister-lucy-special-item.png",pool:6},{url:"loud-laundry/sister-lori-special-item.png",pool:6},{id:"loud-laundry/clothing-holder",children:[],pool:100},{id:"loud-laundry/clothing-inner-holder",children:[],pool:100},{url:"loud-laundry/hit-square.png"},{id:"loud-laundry/black-out",url:"loud-laundry/hit-square.png"},{id:"loud-laundry/washing-icon-holder",children:[{id:"loud-laundry/washing-icon-holder",children:[{id:"loud-laundry/washing-icon-whites-shadow",url:"loud-laundry/washing-icon-whites.png"},{id:"loud-laundry/washing-icon-colours-shadow",url:"loud-laundry/washing-icon-colours.png"},{id:"loud-laundry/washing-icon-whites",url:"loud-laundry/washing-icon-whites.png"},{id:"loud-laundry/washing-icon-colours",url:"loud-laundry/washing-icon-colours.png"}]},{id:"loud-laundry/washing-icon-meter",x:2,y:-32,children:[{url:"loud-laundry/washing-icon-meter.png"},{url:"loud-laundry/washing-icon-meter-bar.png",x:5.5,y:6}]}]},{id:"loud-laundry/lana",children:[{id:"loud-laundry/icon-holder",children:[{url:"loud-laundry/sister-timer-white.png",x:1,y:0,anchor:[.5,.5]},{id:"loud-laundry/sister-timer-green-left",x:1,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-white-left",x:1,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-green-right",x:1,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{url:"loud-laundry/sister-lana.png",anchor:[.575,.485]}]},{url:"loud-laundry/sister-lana-special-item-icon.png",anchor:[.5,.5]}]},{id:"loud-laundry/leni",children:[{id:"loud-laundry/icon-holder",children:[{url:"loud-laundry/sister-timer-white.png",x:1,y:0,anchor:[.5,.5]},{id:"loud-laundry/sister-timer-green-left",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-white-left",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-green-right",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{url:"loud-laundry/sister-leni.png",anchor:[.495,.54]}]},{url:"loud-laundry/sister-leni-special-item-icon.png",anchor:[.5,.5]}]},{id:"loud-laundry/lola",children:[{id:"loud-laundry/icon-holder",children:[{url:"loud-laundry/sister-timer-white.png",x:1,y:0,anchor:[.5,.5]},{id:"loud-laundry/sister-timer-green-left",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-white-left",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-green-right",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{url:"loud-laundry/sister-lola.png",anchor:[.49,.54]}]},{url:"loud-laundry/sister-lola-special-item-icon.png",anchor:[.5,.6]}]},{id:"loud-laundry/luan",children:[{id:"loud-laundry/icon-holder",children:[{url:"loud-laundry/sister-timer-white.png",x:1,y:0,anchor:[.5,.5]},{id:"loud-laundry/sister-timer-green-left",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-white-left",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-green-right",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{url:"loud-laundry/sister-luan.png",anchor:[.53,.535]}]},{url:"loud-laundry/sister-luan-special-item-icon.png",anchor:[.5,.5]}]},{id:"loud-laundry/lucy",children:[{id:"loud-laundry/icon-holder",children:[{url:"loud-laundry/sister-timer-white.png",x:1,y:0,anchor:[.5,.5]},{id:"loud-laundry/sister-timer-green-left",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-white-left",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-green-right",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{url:"loud-laundry/sister-lucy.png",anchor:[.495,.56]}]},{url:"loud-laundry/sister-lucy-special-item-icon.png",anchor:[.5,.55]}]},{id:"loud-laundry/lori",children:[{id:"loud-laundry/icon-holder",children:[{url:"loud-laundry/sister-timer-white.png",x:1,y:0,anchor:[.5,.5]},{id:"loud-laundry/sister-timer-green-left",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-white-left",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{id:"loud-laundry/sister-timer-green-right",x:1,y:0,url:"loud-laundry/sister-timer-semi-white.png",anchor:[1,.5]},{url:"loud-laundry/sister-lori.png",anchor:[.485,.515]}]},{url:"loud-laundry/sister-lori-special-item-icon.png",anchor:[.5,.55]}]},{id:"loud-laundry/speech-bubble-holder",children:[],pool:10},{url:"loud-laundry/speech-bubble.png",anchor:[0,.3],pool:10},{id:"loud-laundry/score-holder",x:825,y:75,children:[{url:"loud-laundry/score-bg.png",anchor:[.51,.51]}]},{id:"score-font",dir:"score-font",url:"bungee.png",fontname:"bungee",fontdata:"bungee.xml",type:"bitmaptext"},{id:"score-change-font",dir:"score-change-font",url:"bungee-score-change.png",fontname:"bungee-score-change",fontdata:"bungee-score-change.xml",type:"bitmaptext"},{id:"background-container",children:[{url:"loud-laundry/bg.jpg",y:-60}]},{id:"main-content-holder",children:[]},{id:"gameover-loud-laundry-container",children:[{id:"gameover-loud-laundry-bg",url:"gameover-loud-laundry/bg.png",x:0,y:0},{id:"gameover-loud-laundry-parents",url:"gameover-trash/parents.png",x:478,y:396,anchor:[.5,1]},{id:"gameover-loud-laundry-bubble-holder",x:0,y:0,children:[]},{id:"gameover-loud-laundry-sisters-right-container",children:[{id:"gameover-loud-laundry-sister-luan",url:"gameover-trash/sister-luan.png",x:965,y:433,anchor:[.5,1]},{id:"gameover-loud-laundry-sister-lynn",url:"gameover-trash/sister-lynn.png",x:900,y:536,anchor:[.5,1]},{id:"gameover-loud-laundry-sister-lola",url:"gameover-trash/sister-lola.png",x:800,y:580,anchor:[.5,1]}]},{id:"gameover-loud-laundry-sisters-left-container",children:[{id:"gameover-loud-laundry-sister-luna",url:"gameover-trash/sister-luna.png",x:60,y:448,anchor:[.5,1]},{id:"gameover-loud-laundry-sister-lucy",url:"gameover-trash/sister-lucy.png",x:114,y:544,anchor:[.5,1]},{id:"gameover-loud-laundry-sister-lana",url:"gameover-trash/sister-lana.png",x:180,y:604,anchor:[.5,1]}]},{id:"gameover-loud-laundry-linc-container",x:276,y:-40,children:[{id:"gameover-loud-laundry-linc-inner-container",x:0,y:0,children:[{id:"gameover-loud-laundry-linc-right-arm",url:"gameover-trash/linc-right-arm.png",x:253,y:379,anchor:[.1,.6]},{id:"gameover-loud-laundry-linc-left-arm",url:"gameover-trash/linc-left-arm.png",x:217,y:383,anchor:[.9,.3]},{id:"gameover-loud-laundry-linc-body",url:"gameover-trash/linc-body.png",x:201,y:360,anchor:[0,0]},{id:"gameover-loud-laundry-linc-head",url:"gameover-trash/linc-head.png",x:0,y:0,anchor:[0,0]},{id:"gameover-loud-laundry-linc-mouth",url:"gameover-trash/linc-mouth.png",x:205,y:315,anchor:[.5,.5]},{id:"gameover-loud-laundry-linc-eyelids",url:"gameover-trash/linc-eyelids.png",x:234,y:195,anchor:[.5,.5]}]}]},{id:"gameover-loud-laundry-clothes",url:"gameover-loud-laundry/clothes.png",x:551,y:705,anchor:[.5,1]},{id:"gameover-loud-laundry-back-bubbles-holder",x:512,y:750,children:[{id:"gameover-loud-laundry-back-bubbles",url:"gameover-loud-laundry/back-bubbles.png",x:0,y:0,anchor:[.5,1]}]},{id:"gameover-loud-laundry-front-bubbles-holder",x:512,y:645,children:[{id:"gameover-loud-laundry-front-bubbles",url:"title-loud-laundry/front-bubbles.png",x:0,y:0,anchor:[.5,1]}]},{id:"gameover-loud-laundry-game-over",url:"gameover-trash/game-over.png",x:512,y:46,anchor:[.5,.5]},{id:"gameover-score-holder",x:512,y:80,children:[{id:"score",url:"gameover-trash/score.png",y:7}]}]},{id:"bubble-pop",anchor:[.5,.5],type:"spritesheet",dir:"title-loud-laundry/bubble-pop-frames",url:"bubble-pop.png",atlas:"bubble-pop.json",frames:["bubble-1.png","bubble-2.png","bubble-3.png","bubble-4.png","bubble-5.png","bubble-6.png","bubble-7.png"],pool:30},{id:"bubble",url:"title-loud-laundry/bubble.png",x:0,y:0,anchor:[.5,.5],pool:30},{id:"house-hack-notification",url:"gameover-loud-laundry/house-hack-notification.png",anchor:[0,1]}],global:[{id:"help-overlay-grid-container",children:[]},{id:"help-overlay-grid-pixel",url:"global/tutorial-element-grid-pixel.png",pool:100},{id:"blank-element",url:"global/blank.png",retina:!1},{id:"pause-screen-overlay-container",children:[{id:"pause-overlay",url:"ui/paused-overlay.png",retina:!1},{id:"pause-background",url:"ui/paused-background.png",anchor:[.5,.5]}]}],"test-assets":[],"main-game-title-screen-assets":[{id:"main-game-title-screen-holder",children:[{id:"main-game-title-screen-outside-holder",children:[{id:"main-game-title-sky",url:"title-scene/sky.png",x:707,y:-39},{id:"main-game-title-cloud-1",url:"title-scene/cloud-1.png",x:773,y:124,anchor:[.5,1]},{id:"main-game-title-cloud-2",url:"title-scene/cloud-2.png",x:918,y:140,anchor:[.5,1]},{id:"main-game-title-cloud-3",url:"title-scene/cloud-3.png",x:997,y:153,anchor:[.5,1]},{id:"main-game-title-outside-floor",url:"title-scene/outside-floor.png",x:684,y:297},{id:"main-game-title-tree-right",url:"title-scene/tree-right.png",x:911,y:-52},{id:"main-game-title-tree-left",url:"title-scene/tree-left.png",x:702,y:141},{id:"main-game-title-van",url:"title-scene/van.png",x:899,y:318,anchor:[.5,1]},{id:"main-game-title-screen-dad-holder",x:892,y:193,children:[{id:"main-game-title-dad-arm",url:"title-scene/dad-arm.png",x:34,y:53,anchor:[0,.5]},{id:"main-game-title-dad-body",url:"title-scene/dad-body.png",x:0,y:0}]},{id:"main-game-title-mam",url:"title-scene/mam.png",x:874,y:327,anchor:[.5,1]}]},{id:"main-game-title-screen-inside-holder",children:[{id:"main-game-title-bg",url:"title-scene/bg.png",x:512,y:312,anchor:[.5,.5]},{id:"main-game-title-frame",url:"title-scene/frame.png",x:491,y:-63,anchor:[.5,.2]},{id:"main-game-title-coathanger",url:"title-scene/coathanger.png",x:174,y:454,anchor:[.5,1]}]},{id:"main-game-title-screen-linc-holder",x:352,y:46,children:[{id:"main-game-title-linc-shadow",url:"title-scene/linc-shadow.png",x:128,y:461,anchor:[.5,.5]},{id:"main-game-title-linc-right-leg",url:"title-scene/linc-right-leg.png",x:170,y:334,anchor:[0,0]},{id:"main-game-title-linc-left-leg",url:"title-scene/linc-left-leg.png",x:142,y:334,anchor:[0,0]},{id:"main-game-title-linc-left-foot",url:"title-scene/linc-left-foot.png",x:170,y:451,anchor:[1,.5]},{id:"main-game-title-linc-right-foot",url:"title-scene/linc-right-foot.png",x:166,y:451,anchor:[0,.5]},{id:"main-game-title-linc-left-arm",url:"title-scene/linc-left-arm.png",x:158,y:236,anchor:[1,0]},{id:"main-game-title-linc-right-arm",url:"title-scene/linc-right-arm.png",x:177,y:236,anchor:[0,0]},{id:"main-game-title-linc-torso",url:"title-scene/linc-torso.png",x:145,y:230,anchor:[0,0]},{id:"main-game-title-screen-linc-head-holder",x:10,y:0,children:[{id:"main-game-title-linc-hair-right",url:"title-scene/linc-hair-right.png",x:200,y:57,anchor:[0,1]},{id:"main-game-title-linc-hair-left",url:"title-scene/linc-hair-left.png",x:61,y:73,anchor:[1,1]},{id:"main-game-title-linc-head",url:"title-scene/linc-head.png",x:0,y:25},{id:"main-game-title-linc-smile-mouth",url:"title-scene/linc-smile-mouth.png",x:142,y:174,anchor:[.5,.5]},{id:"main-game-title-linc-thinking-mouth",url:"title-scene/linc-thinking-mouth.png",x:168,y:184,anchor:[.5,.5]},{id:"main-game-title-linc-right-eye",url:"title-scene/linc-right-eye.png",x:174,y:122,anchor:[.5,.5]},{id:"main-game-title-linc-left-eye",url:"title-scene/linc-left-eye.png",x:144,y:130,anchor:[.5,.5]},{id:"main-game-title-linc-eyelids",url:"title-scene/linc-eyelids.png",x:158,y:116,anchor:[.5,.5]}]},{id:"main-game-title-linc-clipboard-back",url:"title-scene/linc-clipboard-back.png",x:167,y:285,anchor:[.5,.5]}]},{id:"main-game-title-screen-linc-clipboard-front-holder",x:10,y:0,children:[{id:"main-game-title-linc-clipboard-front",url:"title-scene/linc-clipboard-front.png",x:512,y:294,anchor:[.5,.5]}]},{id:"main-game-title-screen-sister-holder",x:0,y:0,children:[{id:"main-game-title-sister-lori",url:"title-scene/sister-lori.png",x:1061,y:380,anchor:[.9,.7]},{id:"main-game-title-sister-leni",url:"title-scene/sister-leni.png",x:-22,y:300,anchor:[.2,.7]},{id:"main-game-title-sister-luan",url:"title-scene/sister-luan.png",x:-10,y:430,anchor:[.2,.7]},{id:"main-game-title-sister-lynn",url:"title-scene/sister-lynn.png",x:-5,y:630,anchor:[.2,.9]},{id:"main-game-title-sister-lisa",url:"title-scene/sister-lisa.png",x:220,y:630,anchor:[.5,.8]},{id:"main-game-title-sister-lilly",url:"title-scene/sister-lilly.png",x:113,y:653,anchor:[.4,.9]},{id:"main-game-title-sister-luna",url:"title-scene/sister-luna.png",x:1059,y:410,anchor:[.9,.6]},{id:"main-game-title-sister-lucy",url:"title-scene/sister-lucy.png",x:1054,y:524,anchor:[.9,.8]},{id:"main-game-title-sister-lana",url:"title-scene/sister-lana.png",x:865,y:656,anchor:[.6,.9]},{id:"main-game-title-sister-lola",url:"title-scene/sister-lola.png",x:989,y:651,anchor:[.6,.9]}]},{id:"main-game-title-screen-logo-holder",x:265,y:151,children:[{id:"main-game-title-logo-charge",url:"title-scene/logo-charge.png",x:233,y:76,anchor:[.45,0]},{id:"main-game-title-logo-linc",url:"title-scene/logo-linc.png",x:247,y:76,anchor:[.5,.5]},{id:"main-game-title-logo-in",url:"title-scene/logo-in.png",x:243,y:161,anchor:[.5,.5]}]},{id:"main-game-title-loud-logo",url:"title-scene/loud-house-logo.png",x:269,y:81,anchor:[.5,.5]},{id:"main-game-title-click-anywhere-to-play",url:"title-geo-roll/click-anywhere-to-play.png",x:511,y:557,anchor:[.5,.5]}]},{id:"title-blank-input",url:"title-scene/title-blank-input.png"}],"hub-assets":[{id:"hub-blank-input",url:"hub-scene/blank-input.png",pool:4},{id:"hub-hall-holder",children:[{id:"food-fight-hub-frame",url:"hub-scene/food-fight-hub-frame.png",anchor:[.5,.5],x:930,y:410},{id:"geo-roll-hub-frame",url:"hub-scene/geo-roll-hub-frame.png",anchor:[.5,.5],x:1300,y:925},{id:"loud-laundry-hub-frame",url:"hub-scene/loud-laundry-hub-frame.png",anchor:[.5,.5],x:2100,y:425},{id:"taking-trash-hub-frame",url:"hub-scene/taking-trash-hub-frame.png",anchor:[.5,.5],x:2650,y:925}]},{id:"blank-hub-frame",url:"hub-scene/blank-frame-hub.png",x:0,y:0,anchor:[.5,.5],pool:5},{id:"blank-hub-frame-2",url:"hub-scene/blank-frame-hub-2.png",x:0,y:0,anchor:[.5,.5],pool:5},{id:"blank-hub-frame-3",url:"hub-scene/blank-frame-hub-3.png",x:0,y:0,anchor:[.5,.5],pool:5},{id:"wall-background-hub",url:"hub-scene/wall-background-hub.png",anchor:[0,0],pool:8},{id:"title-click-anywhere-to-play",url:"title-geo-roll/click-anywhere-to-play.png",x:511,y:575,anchor:[.5,.5]},{id:"title-loud-laundry-loud-house-logo",url:"title-geo-roll/loud-house-logo.png",x:84,y:548,anchor:[.5,.5]},{id:"hub-arm-laundry-holder",children:[{id:"title-loud-laundry-logo",url:"title-loud-laundry/logo.png",y:-120,anchor:[.5,.5]},{id:"title-laundry-arm",url:"hub-scene/hub-arm-logo-holder.png",y:50,anchor:[.5,.5]}]},{id:"hub-arm-food-holder",children:[{id:"title-food-fight-logo",url:"hub-scene/food-fight-logo.png",y:-120,anchor:[.5,.5]},{id:"title-food-arm",url:"hub-scene/hub-arm-logo-holder.png",y:50,anchor:[.5,.5]}]},{id:"hub-arm-geo-holder",children:[{id:"title-geo-roll-logo",url:"title-geo-roll/logo.png",x:0,y:-140,anchor:[.5,.5]},{id:"title-geo-arm",url:"hub-scene/hub-arm-logo-holder.png",y:50,anchor:[.5,.5]}]},{id:"hub-arm-trash-holder",children:[{id:"title-taking-trash-logo",url:"hub-scene/taking-trash-logo.png",x:0,y:-130,anchor:[.5,.5]},{id:"title-trash-arm",url:"hub-scene/hub-arm-logo-holder.png",y:50,anchor:[.5,.5]}]},{id:"hub-white-sock",url:"loud-laundry/clothes-white/sock-1.png"},{id:"hub-coloured-sock",url:"loud-laundry/clothes-coloured/sock-1.png"},{id:"hub-tshirt-coloured",url:"loud-laundry/clothes-coloured/t-shirt-1.png"},{id:"hub-tshirt-coloured-2",url:"loud-laundry/clothes-coloured/t-shirt-2.png"},{id:"hub-stitches-coloured",url:"loud-laundry/clothes-coloured/stitches-1.png"},{id:"hub-pants-coloured",url:"loud-laundry/clothes-coloured/pants-2.png"},{id:"hub-geo-torch",url:"geo-roll/torch-light.png",anchor:[.5,.5],pool:3},{id:"geo-dark",url:"hub-scene/geo-dark.png",x:1e3,y:700,anchor:[.5,.5]},{id:"hub-pancake",url:"hub-scene/throw-food-pancake.png"},{id:"hub-hotdog",url:"hub-scene/throw-food-hotdog.png"},{id:"hub-hotdog2",url:"hub-scene/throw-food-hotdog2.png"},{id:"hub-pizza1",url:"hub-scene/throw-food-pizza1.png"},{id:"hub-cheese",url:"hub-scene/throw-food-cheese.png"},{id:"hub-pizza2",url:"hub-scene/throw-food-pizza2.png"},{id:"hub-lolly",url:"hub-scene/throw-food-lolly.png"},{id:"hub-melon",url:"hub-scene/throw-food-melon.png"},{id:"hub-trash-1",url:"hub-scene/hub-trash-1.png"},{id:"hub-trash-2",url:"hub-scene/hub-trash-2.png"},{id:"hub-trash-3",url:"hub-scene/hub-trash-3.png"},{id:"hub-trash-4",url:"hub-scene/hub-trash-4.png"},{id:"hub-trash-5",url:"hub-scene/hub-trash-5.png"},{id:"hub-trash-6",url:"hub-scene/hub-trash-6.png"}],"ui-assets":[{neverFlush:!0},{id:"click-anim",anchor:[.5,.5],type:"spritesheet",dir:"ui/click-anim",url:"click-anim.png",atlas:"click-anim.json",frames:["0.png","1.png","2.png","3.png","4.png","5.png","6.png","7.png","8.png","9.png","10.png","blank.png"]},{id:"wrong-orientation-bg",url:"global/wrong-orientation-bg.png",retina:!1},{id:"scroll-bg",url:"global/iphone-scroll-overlay.png",retina:!1},{id:"white-square",url:"global/white-square.png",pool:3,retina:!1},{id:"transition-holder",children:[{id:"black-area-top",url:"global/black-square.png",retina:!1},{id:"black-area-bottom",url:"global/black-square.png",retina:!1},{id:"black-area-left",url:"global/black-square.png",retina:!1},{id:"black-area-right",url:"global/black-square.png",retina:!1},{id:"transition-mask",children:[{id:"black-corner-top-left",url:"global/transition-mask-corner.png",retina:!1},{id:"black-corner-top-right",url:"global/transition-mask-corner.png",retina:!1},{id:"black-corner-bottom-right",url:"global/transition-mask-corner.png",retina:!1},{id:"black-corner-bottom-left",url:"global/transition-mask-corner.png",retina:!1}]}]},{id:"ui-circle-particle",url:"ui/ui-square-particles.png",anchor:[.5,.5],pool:10},{id:"ui-particle-holder",children:[]},{id:"playbuttonlarge",type:"button",children:[{id:"shadow",url:"ui/ui-button-large-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-large-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-large-play.png"}]}]},{id:"replaybuttonlarge",type:"button",children:[{id:"shadow",url:"ui/ui-button-large-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-large-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-large-replay.png"}]}]},{id:"soundoffbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-sound-off.png"}]}]},{id:"soundonbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-sound-on.png"}]}]},{id:"pausebutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-pause.png"}]}]},{id:"playbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-play.png"}]}]},{id:"homebutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-home.png"}]}]},{id:"helpbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-help.png"}]}]},{id:"skipbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-skip.png"}]}]},{id:"rightbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-skip.png"}]}]},{id:"leftbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-back.png"}]}]},{id:"kickbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-kick.png"}]}]},{id:"backbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-back.png"}]}]},{id:"jumpbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-jump.png"}]}]},{id:"closehelpbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/ui-button-icon-close.png"}]}]},{id:"cgpowerupbutton",type:"button",children:[{id:"shadow",url:"ui/ui-button-shadow-1.png"},{id:"button-container",children:[{id:"bg",url:"ui/ui-button-bg-1.png"},{id:"icon",url:"ui/cg-power-up-button-icon.png"}]}]}]},audioAssets={"global-audio":[{url:"button-click-ui"},{url:"guitar-riff",loop:!0},{url:"woosh-3"},{url:"dad-gameover",loc:!0},{url:"mam-gameover",loc:!0},{url:"sisters-laughing",loc:!0},{url:"sisters-oooooh",loc:!0},{url:"linc-cant-something-go-my-way",loc:!0}],"title-audio":[{url:"guitar-riff",loop:!0},{url:"kick"},{url:"slide-up"},{url:"bounce"},{url:"boing"},{url:"bounce-2"},{url:"ding"},{url:"blink-noise"}],"hub-audio":[{url:"relaxing",loop:!0},{url:"woosh-3"},{url:"light-flick"},{url:"hit-2"},{url:"throw-1"},{url:"throw-2"},{url:"throw-3"},{url:"slide-up"}],"food-fight-audio":[{url:"woosh-3"},{url:"throw-1"},{url:"throw-2"},{url:"throw-3"},{url:"throw-4"},{url:"splat-2"},{url:"lily-laugh",loc:!0},{url:"did-you-say-peas",loc:!0},{url:"linc-come-on-man-stop",loc:!0},{url:"woosh-3"},{url:"linc-this-is-bad",loc:!0},{url:"linc-sounds-fun-right",loc:!0},{url:"linc-ahh",loc:!0},{url:"sister-get-him",loc:!0},{url:"sisters-argue",loc:!0,loop:!0},{url:"bounce-2"},{url:"splat-2"},{url:"sisters-talking",loc:!0},{url:"rock-2",loop:!0},{url:"splat-2"},{url:"splat-3"},{url:"splat-5"},{url:"splat-7"},{url:"splat-8"},{url:"splat-9"},{url:"plate-hit"},{url:"plate-hit-2"},{url:"punch-face"},{url:"swish"},{url:"swish-long"},{url:"throw-1"},{url:"throw-2"},{url:"throw-3"},{url:"ding"},{url:"ding-done"},{url:"hit-2"},{url:"woosh-3"},{url:"step-1"},{url:"step-2"},{url:"step-3"},{url:"step-4"},{url:"crash-1"},{url:"crash-2"},{url:"pans-crash"},{url:"scifi-reveal"},{url:"powerup"},{url:"strawberry-pop-02"},{url:"linc-can-you-please-stop",loc:!0},{url:"linc-cut-it-out",loc:!0},{url:"linc-i-wont-give-up",loc:!0},{url:"linc-sigh",loc:!0},{url:"linc-dang-it",loc:!0},{url:"linc-urgh",loc:!0},{url:"linc-this-is-bad",loc:!0},{url:"linc-thats-it",loc:!0},{url:"linc-laugh-2",loc:!0},{url:"linc-happy-yes",loc:!0},{url:"linc-woo",loc:!0},{url:"linc-wooo",loc:!0},{url:"linc-its-go-time",loc:!0},{url:"linc-awesome",loc:!0},{url:"lisa-only-human",loc:!0},{url:"lola-lousey",loc:!0},{url:"lana-washed-off-mud",loc:!0},{url:"lucy-failure",loc:!0},{url:"sister-it-is-on",loc:!0},{url:"sister-oh-come-on",loc:!0},{url:"luna-ohh",loc:!0},{url:"lori-uh-oh",loc:!0},{url:"lori-scream2",loc:!0},{url:"lisa-lets-play",loc:!0},{url:"lola-hold-still",loc:!0},{url:"sister-get-him",loc:!0},{url:"lucy-haha",loc:!0},{url:"lynn-laugh",loc:!0},{url:"luan-think-fast",loc:!0},{url:"sister-good-luck",loc:!0},{url:"sister-lincoln",loc:!0},{url:"lori-scream",loc:!0}],"geo-roll-audio":[{url:"linc-walking-2"},{url:"boing"},{url:"bounce-2"},{url:"light-flick"},{url:"woosh-3"},{url:"sneeky-2",loop:!0},{url:"kick"},{url:"linc-going-to-sleep",loc:!0},{url:"short-squeek"},{url:"funky",loop:!0},{url:"whoopeecushion"},{url:"whoopeecushion2"},{url:"step-1"},{url:"step-2"},{url:"step-3"},{url:"step-4"},{url:"geo-spotted"},{url:"geo-eat-treat"},{url:"scifi-reveal"},{url:"powerup"}],"trash-audio":[{url:"bag-pop"},{url:"linc-what-am-i-going-to-do",loc:!0},{url:"sister-good-luck",loc:!0},{url:"linc-urgh",loc:!0},{url:"woosh-3"},{url:"linc-this-is-bad",loc:!0},{url:"linc-sounds-fun-right",loc:!0},{url:"linc-ahh",loc:!0},{url:"sister-get-him",loc:!0},{url:"sisters-argue",loc:!0,loop:!0},{url:"bounce-2"},{url:"splat-2"},{url:"sisters-talking",loc:!0},{url:"accoustic",loop:!0},{url:"kick"},{url:"slap-3"},{url:"ding"},{url:"rumble"},{url:"hit-2"},{url:"hit"},{url:"bag-pop"},{url:"linc-dang-it",loc:!0},{url:"linc-grrr",loc:!0},{url:"lucy-sigh",loc:!0},{url:"sister-think-fast",loc:!0},{url:"lola-ah-thats-better",loc:!0},{url:"sister-blergh",loc:!0},{url:"step-1"},{url:"step-2"},{url:"step-3"},{url:"step-4"},{url:"linc-woo",loc:!0},{url:"linc-happy-yes",loc:!0},{url:"linc-seriously",loc:!0},{url:"linc-perfect",loc:!0},{url:"luan-trash-joke",loc:!0},{url:"luna-had-it-coming",loc:!0},{url:"linc-i-wont-give-up",loc:!0},{url:"scifi-reveal"},{url:"powerup"}],"loud-laundry-audio":[{url:"background-music",loop:!0},{url:"washing-machine",loop:!0},{url:"woosh-3"},{url:"swish"},{url:"throw-1"},{url:"throw-2"},{url:"step-1"},{url:"step-2"},{url:"swipe-1"},{url:"swipe-2"},{url:"swipe-3"},{url:"fast-wash"},{url:"swoosh-11"},{url:"swoosh-12"},{url:"water-sploshing"},{url:"water-sploshing-loop",loop:!0},{url:"latch-open"},{url:"latch-close"},{url:"fridge-close"},{url:"washing-machine-run"},{url:"washing-machine-loop",loop:!0},{url:"linc-cant-something-go-my-way",loc:!0},{url:"slide-up"},{url:"blink-noise"},{url:"linc-walking-2"},{url:"woosh-3"},{url:"linc-this-is-bad",loc:!0},{url:"linc-sounds-fun-right",loc:!0},{url:"linc-ahh",loc:!0},{url:"sister-get-him",loc:!0},{url:"sisters-argue",loc:!0,loop:!0},{url:"bounce-2"},{url:"splat-2"},{url:"sisters-talking",loc:!0},{url:"scifi-reveal"},{url:"powerup"},{url:"ding-done"},{url:"ding"},{url:"soft-thump"},{url:"splat-3"},{url:"slide-up"},{url:"water-splash-2"},{url:"boom"},{url:"linc-dang-it",loc:!0},{url:"linc-grrr",loc:!0},{url:"linc-i-wont-give-up",loc:!0},{url:"linc-seriously",loc:!0},{url:"linc-sigh",loc:!0},{url:"linc-this-is-bad",loc:!0},{url:"linc-tired",loc:!0},{url:"linc-ta-da",loc:!0},{url:"linc-yes",loc:!0},{url:"linc-no-problem",loc:!0},{url:"linc-got-it",loc:!0},{url:"linc-happy-yes",loc:!0},{url:"linc-ahh",loc:!0},{url:"linc-shout",loc:!0},{url:"linc-sigh-2",loc:!0},{url:"linc-sigh-3",loc:!0},{url:"lisa-lets-play",loc:!0},{url:"sister-lincoln",loc:!0},{url:"lynn-good-timing",loc:!0},{url:"sister-good-luck",loc:!0},{url:"lucy-happy",loc:!0},{url:"lucy-sigh",loc:!0},{url:"lori-uh-oh",loc:!0},{url:"lori-scream",loc:!0},{url:"lola-argh",loc:!0},{url:"lola-lousey",loc:!0},{url:"luan-think-fast",loc:!0},{url:"luan-trash-joke",loc:!0},{url:"sister-lincoln",loc:!0},{url:"sister-oh-come-on",loc:!0},{url:"sister-get-him",loc:!0},{url:"sister-blergh",loc:!0}]},__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},Scene=function(a){function b(b){a.call(this),this.tweens=new Array,this.render=!1,this.game=b,this.interactive=!0,this.container=new DisplayObjectContainer,this.addChild(this.container),this.container.interactive=!0,this.paused=!1,this.interactionLocked=!0}return __extends(b,a),b.prototype.rotatePause=function(){this.pausedRotated=!0},b.prototype.pause=function(a,b){if(0!=this.game.initLoaded&&(console.log("Pausing scene....",this.id,a,b,this.transitioning,this.paused,this.transitioning),1!=this.transitioning&&1!=this.interactionLocked&&1!=this.paused)){1==a?this.game.ui.setUI("pause-with-skip"):this.game.ui.setUI("pause"),1==b&&this.game.ui.setUI("none"),this.paused=!0,this.transitioning=!1,this.interactionLocked=!0,this.pauseContainer=Game.displayStore.getContainer("pause-screen-overlay-container"),this.pauseClipboard=this.pauseContainer.getSprite("pause-background"),this.pauseClipboard.position.y=Game.stageHeight/2,this.pauseClipboard.position.x=Game.stageWidth/2,this.pauseOverlayBG=this.pauseContainer.getSprite("pause-overlay"),this.pauseOverlayBG.width=Game.stageWidth,this.pauseOverlayBG.height=Game.stageHeight,this.container.addChild(this.pauseContainer);this.pauseResumeTween(this.transitionTween,"pause"),this.pauseTimeline&&this.pauseTimeline.kill(),this.pauseTimeline=new TimelineMax,this.pauseTimeline.add([TweenMax.from(this.pauseClipboard.position,.3,{y:Game.stageHeight/2+120,ease:Power1.easeInOut}),TweenMax.from(this.pauseClipboard.scale,.3,{x:1.2,y:1.2,ease:Back.easeOut})],0),Game.playSound("woosh-3"),Game.setSoundVolume("woosh-3",.5),this.interactionLocked=!1}},b.prototype.unlockInput=function(a){a.interactionLocked=!1},b.prototype.resume=function(){0!=this.game.initLoaded&&(Game.stopSound("woosh-3"),this.container.removeChild(this.pauseContainer),Game.displayStore.returnPooledItem(this.pauseOverlayBG),this.pauseTimeline&&(this.pauseTimeline.kill(),this.pauseTimeline=null),this.pauseOverlayBG=null,this.pausedRotated=!1,this.paused=!1,this.pauseResumeTween(this.transitionTween,"resume"))},b.prototype.restore=function(){},b.prototype.destroy=function(){this.interactionLocked=!0,Game.trace(this,"destroying..",this.interactionLocked,this.id)
;for(var a=this.container.children.length-1;a>=0;a--)this.container.removeChild(this.container.getChildAt(a));this.tweens=[],this.uiContainerRef=null,Game.stopSound("woosh-3"),this.pauseTimeline&&this.pauseTimeline.kill()},b.prototype.init=function(a){this.paused=!1,this.setBackgroundColor(16777215)},b.prototype.setBackgroundColor=function(a){Game.renderer.backgroundColor=a},b.prototype.addUI=function(a){this.addChild(a),this.uiContainerRef=a},b.prototype.uiClicked=function(a){if("soundonbutton"!=a.id&&"soundoffbutton"!=a.id||this.game.ui.soundToggled(),"homebutton"==a.id){this.game.ui.setUI("none"),this.paused=!1;var b,c=new Array,d=this;if(1==this.game.runningHubMode)b="titleScene",c.push("hub-assets"),c.push("hub-audio"),c.push("main-game-title-screen-assets");else switch(this.game.currentBackDestinationID){case"geoRollTitleScene":b=this.game.currentBackDestinationID,c.push("title-geo-roll-assets"),c.push("intro-geo-roll-assets");break;case"trashTitleScene":b=this.game.currentBackDestinationID,c.push("title-trash-assets"),c.push("intro-trash-assets");break;case"loudLaundryTitleScene":b=this.game.currentBackDestinationID,c.push("title-loud-laundry-assets"),c.push("intro-loud-laundry-assets");break;case"foodFightTitleScene":b=this.game.currentBackDestinationID,c.push("title-food-fight-assets"),c.push("intro-food-fight-assets")}this.game.loadAssets(c,!0,function(){d.game.setScene(b,!1)})}},b.prototype.uiRolledOver=function(a){},b.prototype.uiRolledOut=function(a){},b.prototype.downOnUI=function(a){},b.prototype.upOnUI=function(a){},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.rolloutCustomButtonKeyboard=function(a){},b.prototype.rolloverCustomButtonKeyboard=function(a){},b.prototype.selectCustomButtonKeyboard=function(a){},b.prototype.tick=function(){0!=this.game.initLoaded&&0==this.interactive&&(this.interactive=!0)},b.prototype.resize=function(a){this.container.scale.x=a,this.container.scale.y=a},b.prototype.initTransitionOut=function(a){if(0==this.game.initLoaded)return this.interactionLocked=!1,void(this.transitioning=!1);this.transitioning=!0,this.interactionLocked=!0,this.setUpTransition(),this.transitionMask.scale.x=this.transitionMask.scale.y=1.2,this.transitionTween=TweenMax.to(this.transitionMask.scale,a,{x:.001,y:.001,ease:Expo.easeOut,onUpdate:this.updateTransition,onUpdateParams:[this]})},b.prototype.initTransitionIn=function(a){if(0==this.game.initLoaded)return this.interactionLocked=!1,void(this.transitioning=!1);this.transitioning=!0,this.interactionLocked=!0,this.setUpTransition(),this.transitionMask.scale.x=this.transitionMask.scale.y=.001,this.transitionTween=TweenMax.to(this.transitionMask.scale,a,{x:1.2,y:1.2,ease:Expo.easeIn,onComplete:this.killTransitionAssets,onCompleteParams:[this],onUpdate:this.updateTransition,onUpdateParams:[this]})},b.prototype.updateTransition=function(a){a.transitionMask.width<Game.stageWidth&&(a.transitionBarLeft.width=(Game.stageWidth-a.transitionMask.width)/2,a.transitionBarRight.width=a.transitionBarLeft.width,a.transitionBarRight.position.x=a.transitionBarLeft.width+a.transitionMask.width),a.transitionMask.height<Game.stageHeight&&(a.transitionBarTop.height=(Game.stageHeight-a.transitionMask.height)/2,a.transitionBarBottom.height=a.transitionBarTop.height,a.transitionBarBottom.position.y=a.transitionBarTop.height+a.transitionMask.height)},b.prototype.setUpTransition=function(){this.transitionHolder=Game.displayStore.getContainer("transition-holder"),1==this.game.initLoaded&&(this.transitionMask=this.transitionHolder.getContainer("transition-mask"),this.transitionBarTop=this.transitionHolder.getSprite("black-area-top"),this.transitionBarLeft=this.transitionHolder.getSprite("black-area-left"),this.transitionBarRight=this.transitionHolder.getSprite("black-area-right"),this.transitionBarBottom=this.transitionHolder.getSprite("black-area-bottom"),this.transitionBarRight.position.x=Game.stageWidth,this.transitionBarBottom.position.y=Game.stageHeight,this.transitionBarTop.width=this.transitionBarBottom.width=Game.stageWidth,this.transitionBarLeft.height=this.transitionBarRight.height=Game.stageHeight,this.transitionMask.setRegPoint(512,512),this.transitionMask.position.x=Game.stageWidth/2,this.transitionMask.position.y=Game.stageHeight/2,this.transitionCornerTopLeft=this.transitionMask.getSprite("black-corner-top-left"),this.transitionCornerTopRight=this.transitionMask.getSprite("black-corner-top-right"),this.transitionCornerBottomRight=this.transitionMask.getSprite("black-corner-bottom-right"),this.transitionCornerBottomLeft=this.transitionMask.getSprite("black-corner-bottom-left"),this.transitionCornerTopLeft.texture.baseTexture.scaleMode=1,this.transitionCornerTopRight.scale.x=-1,this.transitionCornerTopRight.position.x=1024,this.transitionCornerBottomRight.scale.x=-1,this.transitionCornerBottomRight.scale.y=-1,this.transitionCornerBottomRight.position.x=1024,this.transitionCornerBottomRight.position.y=1024,this.transitionCornerBottomLeft.scale.y=-1,this.transitionCornerBottomLeft.position.y=1024),this.uiContainerRef&&this.uiContainerRef.addChild(this.transitionHolder)},b.prototype.killTransitionAssets=function(a){a.transitionHolder.parent&&a.uiContainerRef&&a.uiContainerRef.removeChild(a.transitionHolder),a.transitioning=!1,a.interactionLocked=!1,a.transitionTween&&a.transitionTween.kill()},b.prototype.pauseResumeTween=function(a,b,c){a&&("pause"==b?(a.totalProgress()>0&&a.totalProgress()<1||0*a.totalProgress()!=0)&&a.pause():"resume"==b&&(a.totalProgress()>0&&a.totalProgress()<1||0*a.totalProgress()!=0)&&a.paused&&a.resume())},b.prototype.killTween=function(a){return a&&(a.kill(),a=null),a},b.prototype.gameFocusChanged=function(a){Game.trace("focus is..",a),"hidden"==a&&"gameplayScene"==this.id&&this.pause()},b.prototype.onLoadUpdate=function(a,b){},b.prototype.getPreloaderAssetList=function(){return[]},b}(PIXI.Container),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},Sprite=function(a){function b(b){a.call(this,b),this.neverFlush=!1,this.origX=0,this.origY=0,this.origAnchor={x:0,y:0,compensate:!1},this.defaultAnchor=!0,this.pooled=!1,this.pooledActive=!1}return __extends(b,a),b.prototype.addChild=function(b){a.prototype.addChild.call(this,b),1==this.pooled&&(this.pooledActive=!0)},b.prototype.destroy=function(){1==Game.displayStore.checkTextureDeletable(this)&&(this.texture.destroy(!0),PIXI.Texture.removeTextureFromCache(this.textureURL))},b.prototype.destroyRenderTexture=function(){this.texture.destroy(!0)},b.prototype.setTextureResolution=function(a){this.texture.baseTexture.resolution=a,this.texture.baseTexture.update()},b.prototype.resizeItem=function(){},b.prototype.setWidth=function(a){this._width=a},b.prototype.setHeight=function(a){this._height=a},b.prototype.setRegPoint=function(a,b,c){this.anchor.x=a,this.anchor.y=b,1==c&&(this.position.x=this.width*a+this.position.x,this.position.y=this.height*b+this.position.y)},b}(PIXI.Sprite),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},Spine=function(a){function b(b){a.call(this,b),this.neverFlush=!1,this.origX=0,this.origY=0,this.pooled=!1,this.pooledActive=!1}return __extends(b,a),b.prototype.addChild=function(b){a.prototype.addChild.call(this,b),1==this.pooled&&(this.pooledActive=!0)},b.prototype.setTextureResolution=function(a){this.scale.x=1/a,this.scale.y=1/a},b.prototype.destroy=function(){if(1==Game.displayStore.checkTextureDeletable(this))for(var a=0;a<this.children.length;a++){for(var b=this.children[a],c=0;c<b.children.length;c++){var d=b.children[c];d.texture.destroy(!0),d=null}b=null}PIXI.Texture.removeTextureFromCache(this.textureURL),this.slotContainers=null,this.spineData=null,this.skeleton=null,this.data=null,this.state=null,this.storedState=null},b.prototype.changeBaseTexture=function(a){for(var b=0;b<this.slotContainers.length;b++)for(var c=this.slotContainers[b],d=0;d<c.children.length;d++){var e=c.children[d];e.texture.baseTexture=a}for(var b=0;b<this.skeleton.slots.length;b++){var f=this.skeleton.slots[b];f.attachment&&(f.attachment.rendererObject.page.rendererObject=a)}},b.prototype.setAnim=function(a,b){this.lastTime=Date.now(),this.currentAnim=a,this.loop=b,this.state.setAnimation(0,a,b)},b.prototype.setSkin=function(a){this.skeleton.setSkinByName(a),this.skeleton.setSlotsToSetupPose()},b.prototype.pause=function(){this.currentAnim&&(this.currentAnimTime=this.state.currentTime,this.storedState=this.state,this.state.tracks[0]&&(this.storedTime=this.state.tracks[0].trackTime),this.state.clearTracks())},b.prototype.resume=function(){this.currentAnim&&(this.state=this.storedState,this.state.setAnimation(0,this.currentAnim,this.loop),this.state.tracks[0].trackTime=this.storedTime)},b.prototype.rewindAndStop=function(){},b.prototype.resizeItem=function(){},b}(PIXI.spine.Spine),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},MovieClip=function(a){function b(b){a.call(this,b),this.neverFlush=!1,this.origX=0,this.origY=0,this.origAnchor={x:0,y:0,compensate:!1},this.defaultAnchor=!0,this.pooled=!1,this.pooledActive=!1;for(var c=0;c<b.length;c++)b[c].width,b[c].height}return __extends(b,a),b.prototype.addChild=function(b){a.prototype.addChild.call(this,b),1==this.pooled&&(this.pooledActive=!0)},b.prototype.setTextureResolution=function(a){var b=PIXI.utils.TextureCache[this.textureURL];b.baseTexture.resolution=a,b.baseTexture.update()},b.prototype.destroy=function(){1==Game.displayStore.checkTextureDeletable(this)&&PIXI.Texture.removeTextureFromCache(this.textureURL)},b.prototype.resizeItem=function(){},b.prototype.setRegPoint=function(a,b,c){this.anchor.x=a,this.anchor.y=b,1==c&&(this.position.x=this.width*a+this.position.x,this.position.y=this.height*b+this.position.y)},b}(PIXI.extras.MovieClip),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},TilingSprite=function(a){function b(b,c,d){a.call(this,b,c,d),this.neverFlush=!1,this.origX=0,this.origY=0,this.pooled=!1,this.pooledActive=!1}return __extends(b,a),b.prototype.addChild=function(b){a.prototype.addChild.call(this,b),1==this.pooled&&(this.pooledActive=!0)},b.prototype.setTextureResolution=function(a){this.texture.baseTexture.resolution=a,this.texture.baseTexture.update()},b.prototype.destroy=function(){1==Game.displayStore.checkTextureDeletable(this)&&(this.texture.destroy(!0),PIXI.Texture.removeTextureFromCache(this.textureURL))},b}(PIXI.extras.TilingSprite),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},BitmapText=function(a){function b(b,c){a.call(this,b,c),this.neverFlush=!1,this.origX=0,this.origY=0,this.defaultAnchor=!0,this.pooled=!1,this.pooledActive=!1}return __extends(b,a),b.prototype.addChild=function(b){a.prototype.addChild.call(this,b),1==this.pooled&&(this.pooledActive=!0)},b.prototype.setTextureResolution=function(a){var b=PIXI.utils.TextureCache[this.textureURL];b.baseTexture.resolution=a,b.baseTexture.update()},b.prototype.saveTexture=function(){this.pixiTex=PIXI.Texture.fromImage(this.textureURL)},b.prototype.destroy=function(){1==Game.displayStore.checkTextureDeletable(this)&&(this.pixiTex.destroy(!0),PIXI.Texture.removeTextureFromCache(this.textureURL))},b.prototype.resizeItem=function(){},b.prototype.setRegPoint=function(a,b,c){},b}(PIXI.extras.BitmapText),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},LoadingScene=function(a){function b(b){a.call(this,b),this.endPreloadTriggered=!1,this.id="loadingScene"}return __extends(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.setBackgroundColor(13421772),this.game.ui.setUI("none"),this.currentScale=0,this.background=new Array;for(var b=0;b<11;b++)this.background.push({sprite:Game.displayStore.getSprite("preload-background")}),this.background[b].sprite.position.x=this.background[b].sprite.width*b-5+0,this.container.addChild(this.background[b].sprite);this.logo=Game.displayStore.getSprite("preload-logo"),this.logo.position.x=50,this.logo.position.y=50,this.container.addChild(this.logo),this.preloaderBarContainerMain=Game.displayStore.getContainer("preloader-bar"),this.preloaderBarContainerMain.position.x=Game.stageWidth/2,this.preloaderBarContainerMain.position.y=540,this.preloaderBarFillMain=this.preloaderBarContainerMain.getSprite("bar-fill"),this.fightContainer=Game.displayStore.getContainer("preload-fight-container"),this.fightContainer.setRegPoint(.5,.5),this.fightContainer.position.x=Game.stageWidth/2,this.fightContainer.position.y=300,this.fightContainer.showOnlyChild(0),this.container.addChild(this.fightContainer),this.frame1=this.fightContainer.getSprite("frame-1"),this.frame2=this.fightContainer.getSprite("frame-2"),this.frame3=this.fightContainer.getSprite("frame-3"),this.frame4=this.fightContainer.getSprite("frame-4"),this.frame5=this.fightContainer.getSprite("frame-5"),this.frame6=this.fightContainer.getSprite("frame-6"),this.maskElement=new PIXI.Graphics,this.maskElement.moveTo(0,0),this.maskElement.beginFill(16777215),this.maskElement.lineTo(450,0),this.maskElement.lineTo(450,70),this.maskElement.lineTo(0,70),this.maskElement.lineTo(0,0),this.maskElement.endFill(),this.maskElement.position.x=6,this.maskElement.position.y=6,this.preloaderBarContainerMain.addChild(this.maskElement),this.preloaderBarFillMain.mask=this.maskElement,this.maskElement.scale.x=0,this.container.addChild(this.preloaderBarContainerMain),this.animation=new TimelineMax({repeat:-1}),this.animation.call(function(){this.fightContainer.showOnlyChild(0)},null,this,0),this.animation.call(function(){this.fightContainer.showOnlyChild(1)},null,this,"+=0.1"),this.animation.call(function(){this.fightContainer.showOnlyChild(2)},null,this,"+=0.1"),this.animation.call(function(){this.fightContainer.showOnlyChild(3)},null,this,"+=0.1"),this.animation.call(function(){this.fightContainer.showOnlyChild(4)},null,this,"+=0.1"),this.animation.call(function(){this.fightContainer.showOnlyChild(5)},null,this,"+=0.1")},b.prototype.positionLoadingText=function(){this.loadingText.position.x=this.preloaderBarFillMain.width/2-this.loadingText.width/2},b.prototype.onLoadUpdate=function(a,b){this.currentScale=a/b},b.prototype.tick=function(){a.prototype.tick.call(this),this.maskElement.scale.x+=(this.currentScale-this.maskElement.scale.x)/9},b.prototype.endPreload=function(){this.endPreloadTriggered=!0,this.nextScene(this)},b.prototype.nextScene=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.container.removeChild(this.loadingText),this.container.removeChild(this.preloaderBarContainerMain),this.preloaderBarFillMain.mask=null,this.maskElement.clear(),this.preloaderBarContainerMain.removeChild(this.maskElement);for(var b=0;b<this.background.length;b++)Game.displayStore.returnPooledItem(this.background[b].sprite);this.barTween=this.killTween(this.barTween),this.animation=this.killTween(this.animation),this.fadeTimeline=this.killTween(this.fadeTimeline)},b.prototype.getPreloaderAssetList=function(){return["initial-loading-assets"]},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},AnimationScene=function(a){function b(b){a.call(this,b),this.id="animationScene"}return __extends(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.game.ui.setUI("none"),this.background=Game.displayStore.getSprite("grey-bg.png"),this.background.width=1024,this.background.height=683,this.wellDone=Game.displayStore.getSprite("well-done-text.png"),this.skipButton=Game.displayStore.getButton("skip-button-large"),this.game.ui.addCustomUIButton(this.skipButton,!0,!0),this.container.addChild(this.background),this.container.addChild(this.wellDone)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"skip-button-large":}},b.prototype.keyUp=function(b){a.prototype.keyUp.call(this,b)},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.uiRolledOut=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.downOnUI=function(b){a.prototype.downOnUI.call(this,b)},b.prototype.upOnUI=function(b){a.prototype.upOnUI.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.pause=function(){},b.prototype.resume=function(){},b.prototype.destroy=function(){a.prototype.destroy.call(this)},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},SpineTestScene=function(a){function b(b){a.call(this,b),this.id="spineTestScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),this.buildingTest=Game.displayStore.getMovieClip("building-test"),this.buildingTest.position.x=500,this.buildingTest.position.y=500,this.buildingTest.gotoAndStop(1),this.container.addChild(this.buildingTest),this.spriteSheetTest=Game.displayStore.getMovieClip("sprite-sheet-test"),this.spriteSheetTest.position.x=200,this.spriteSheetTest.position.y=200,this.container.addChild(this.spriteSheetTest),this.spriteSheetTest.animationSpeed=.4,this.spriteSheetTest.play(),this.animation=new TimelineMax,this.spine=Game.displayStore.getSpine("spine-test"),this.container.addChild(this.spine),this.spine.position.y=400,this.spine.position.x=400,this.spine.setSkin("crispo"),this.spine.setAnim("dance-1",!0)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"store-button":break;case"dialogue-close-button":}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){},b.prototype.resume=function(){},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation&&this.animation.kill()},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},TitleScene=function(a){function b(b){a.call(this,b),this.id="titleScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),Game.displayStore.flush(["initial-loading-assets"]),Game.playSound("guitar-riff"),Game.setSoundVolume("guitar-riff",0),Game.fadeSound("guitar-riff",1,.3),Game.displayStore.flush(["trash-assets","intro-trash-assets","title-trash-assets"]),Game.displayStore.flush(["food-fight-assets","intro-food-fight-assets","title-food-fight-assets"]),Game.displayStore.flush(["loud-laundry-assets","intro-loud-laundry-assets","title-loud-laundry-assets"]),Game.displayStore.flush(["geo-roll-assets","intro-geo-roll-assets","title-geo-roll-assets"]),Game.audioManager.flush("food-fight-audio"),Game.audioManager.flush("trash-audio"),Game.audioManager.flush("loud-laundry-audio"),Game.audioManager.flush("geo-roll-audio"),this.titleBlankInput=Game.displayStore.getSprite("title-blank-input"),this.titleBlankInput.width=Game.stageWidth,this.titleBlankInput.height=Game.stageHeight,this.mainHolder=Game.displayStore.getContainer("main-game-title-screen-holder"),this.mainHolder.setRegPointPixels(Game.stageWidth/2,Game.stageHeight/2,!0),this.container.addChild(this.mainHolder),this.loudHouseLogo=this.mainHolder.getSprite("main-game-title-loud-logo"),this.clickToPlay=this.mainHolder.getSprite("main-game-title-click-anywhere-to-play"),this.sisterHolder=this.mainHolder.getContainer("main-game-title-screen-sister-holder"),this.sisterHolder.setRegPointPixels(512,217,!0),this.lincHolder=this.mainHolder.getContainer("main-game-title-screen-linc-holder"),this.lincHolder.setRegPointPixels(160,449,!0),this.lincHeadHolder=this.lincHolder.getContainer("main-game-title-screen-linc-head-holder"),this.lincEyelids=this.lincHeadHolder.getSprite("main-game-title-linc-eyelids"),this.lincMouthHappy=this.lincHeadHolder.getSprite("main-game-title-linc-smile-mouth"),this.lincMouthThinking=this.lincHeadHolder.getSprite("main-game-title-linc-thinking-mouth"),this.insideHolder=this.mainHolder.getContainer("main-game-title-screen-inside-holder"),this.insideHolder.setRegPointPixels(512,294,!0),this.outsideHolder=this.mainHolder.getContainer("main-game-title-screen-outside-holder"),this.outsideHolder.setRegPointPixels(898,272,!0),this.mam=this.outsideHolder.getSprite("main-game-title-mam"),this.dadHolder=this.outsideHolder.getContainer("main-game-title-screen-dad-holder"),this.dadHolder.setRegPointPixels(29,133,!0),this.dadArm=this.dadHolder.getSprite("main-game-title-dad-arm"),this.logoHolder=this.mainHolder.getContainer("main-game-title-screen-logo-holder"),this.logoLinc=this.logoHolder.getSprite("main-game-title-logo-linc"),this.logoIn=this.logoHolder.getSprite("main-game-title-logo-in"),this.logoCharge=this.logoHolder.getSprite("main-game-title-logo-charge"),this.sisterLori=this.sisterHolder.getSprite("main-game-title-sister-lori"),this.sisterLeni=this.sisterHolder.getSprite("main-game-title-sister-leni"),this.sisterLuan=this.sisterHolder.getSprite("main-game-title-sister-luan"),this.sisterLynn=this.sisterHolder.getSprite("main-game-title-sister-lynn"),this.sisterLisa=this.sisterHolder.getSprite("main-game-title-sister-lisa"),this.sisterLilly=this.sisterHolder.getSprite("main-game-title-sister-lilly"),this.sisterLuna=this.sisterHolder.getSprite("main-game-title-sister-luna"),this.sisterLucy=this.sisterHolder.getSprite("main-game-title-sister-lucy"),this.sisterLana=this.sisterHolder.getSprite("main-game-title-sister-lana"),this.sisterLola=this.sisterHolder.getSprite("main-game-title-sister-lola"),this.lincClipboardBack=this.lincHolder.getSprite("main-game-title-linc-clipboard-back"),this.lincClipboardFrontHolder=this.mainHolder.getContainer("main-game-title-screen-linc-clipboard-front-holder"),this.lincClipboardFrontHolder.setRegPointPixels(512,294,!0),this.lincClipboardFront=this.lincClipboardFrontHolder.getSprite("main-game-title-linc-clipboard-front"),this.setBackgroundColor(13421772),this.game.ui.setUI("title"),this.largePlayButton=Game.displayStore.getButton("playbuttonlarge"),this.largePlayButton.visuallyPrepareButton("large"),this.largePlayButton.position.x=Game.stageWidth/2,this.largePlayButton.position.y=490,this.largePlayButton.scale.x=1,this.largePlayButton.scale.y=1,this.lincMouthHappy.alpha=0,this.lincClipboardFrontHolder.scale.x=.5,this.lincClipboardFrontHolder.scale.y=.5,this.lincClipboardFront.alpha=0,this.lincClipboardFront.scale.x=0,this.logoLinc.scale.x=0,this.logoLinc.scale.y=0,this.logoIn.scale.x=0,this.logoIn.scale.y=0,this.logoCharge.scale.x=0,this.logoCharge.scale.y=0,this.mainHolder.scale.x=1.5,this.mainHolder.scale.y=1.5,this.outsideHolder.scale.x=1.1,this.outsideHolder.scale.y=1.1,this.insideHolder.scale.x=1.05,this.insideHolder.scale.y=1.05,this.container.addChild(this.titleBlankInput),this.setUpHitArea(),this.animation=new TimelineMax,this.animation.add([TweenMax.from(this.mainHolder.position,2,{x:"-=200",y:"+=90",ease:Power2.easeInOut}),TweenMax.to(this.mainHolder.scale,2,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.to(this.outsideHolder.scale,2,{x:1.05,y:1.05,ease:Power2.easeInOut}),TweenMax.to(this.insideHolder.scale,2,{x:1.025,y:1.025,ease:Power2.easeInOut})]),this.animation.add([TweenMax.to(this.mainHolder.scale,2,{x:1,y:1,ease:Power2.easeInOut}),TweenMax.to(this.outsideHolder.scale,2,{x:1,y:1,ease:Power2.easeInOut}),TweenMax.to(this.insideHolder.scale,2,{x:1,y:1,ease:Power2.easeInOut})],2.3),this.animation.add(TweenMax.from(this.dadArm,.5,{rotation:.1,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.lincClipboardAnimation=new TimelineMax({}),this.lincClipboardAnimation.add(TweenMax.from(this.lincClipboardBack,.5,{rotation:-.4,yoyo:!0,ease:Back.easeInOut,repeat:4}),0),this.lincClipboardAnimation.add(TweenMax.to(this.lincMouthThinking,.001,{alpha:0,ease:Quad.easeOut}),2),this.lincClipboardAnimation.add(TweenMax.to(this.lincMouthHappy,.001,{alpha:1,ease:Quad.easeOut}),2),this.lincClipboardAnimation.add(TweenMax.to(this.lincClipboardBack.scale,.3,{x:0,ease:Quad.easeOut}),2.5),this.lincClipboardAnimation.call(function(){Game.playSound("kick")},null,this,2.1),this.lincClipboardAnimation.add(TweenMax.to(this.lincClipboardBack,.001,{alpha:0,ease:Quad.easeOut}),3),this.lincClipboardAnimation.add(TweenMax.to(this.lincClipboardFront,.001,{alpha:1,ease:Back.easeInOut}),2.3),this.lincClipboardAnimation.add(TweenMax.to(this.lincClipboardFront.scale,.2,{x:1,ease:Back.easeInOut}),2.3),this.lincClipboardAnimation.add(TweenMax.to(this.lincClipboardFrontHolder.scale,.2,{x:1,y:1,ease:Back.easeInOut}),2.3),this.lincClipboardAnimation.add(TweenMax.to(this.lincHeadHolder.position,1,{x:"-=20",y:"-=50",ease:Back.easeOut}),3),this.lincClipboardAnimation.add(TweenMax.to(this.lincHeadHolder,1,{rotation:-.1,ease:Back.easeOut}),3),this.lincClipboardAnimation.add(TweenMax.to(this.logoLinc.scale,.6,{x:1,y:1,ease:Elastic.easeOut}),2.8),this.lincClipboardAnimation.call(Game.playSound,["slide-up"],this,2.8),this.lincClipboardAnimation.add(TweenMax.to(this.logoIn.scale,.6,{x:1,y:1,ease:Elastic.easeOut}),3),this.lincClipboardAnimation.call(Game.playSound,["slide-up"],this,3),this.lincClipboardAnimation.add(TweenMax.to(this.logoCharge.scale,.6,{x:1,y:1,ease:Elastic.easeOut}),3.2),this.lincClipboardAnimation.call(Game.playSound,["slide-up"],this,3.2),this.sisterAnimation=new TimelineMax({}),this.sisterAnimation.add(TweenMax.from(this.sisterLori.position,.5,{x:"+=200",y:"+=100",ease:Back.easeOut}),3.7),this.sisterAnimation.add(TweenMax.from(this.sisterLuna.position,.4,{x:"+=200",y:"+=100",ease:Back.easeOut}),3.6),this.sisterAnimation.add(TweenMax.from(this.sisterLucy.position,.2,{x:"+=150",y:"+=100",ease:Back.easeOut}),3.4),this.sisterAnimation.add(TweenMax.from(this.sisterLola.position,.3,{x:"+=50",y:"+=150",ease:Back.easeOut}),3.7),this.sisterAnimation.add(TweenMax.from(this.sisterLana.position,.3,{x:"+=40",y:"+=150",ease:Back.easeOut}),3.3),this.sisterAnimation.add(TweenMax.from(this.sisterLeni.position,.5,{x:"-=200",y:"+=100",ease:Back.easeOut}),3.7),this.sisterAnimation.add(TweenMax.from(this.sisterLuan.position,.4,{x:"-=200",y:"+=100",ease:Back.easeOut}),3.6),this.sisterAnimation.add(TweenMax.from(this.sisterLynn.position,.2,{x:"-=180",y:"+=120",ease:Back.easeOut}),3.4),this.sisterAnimation.add(TweenMax.from(this.sisterLilly.position,.3,{x:"-=50",y:"+=150",ease:Back.easeOut}),3.7),this.sisterAnimation.add(TweenMax.from(this.sisterLisa.position,.3,{x:"-=50",y:"+=160",ease:Back.easeOut}),3.3),this.lincBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lincEyelids.alpha=0,this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.6),this.lincBlinkAnimation.call(function(){Game.playSound("blink-noise")},null,this,1),this.lincBlinkAnimation.call(function(){Game.playSound("blink-noise")},null,this,1.6),this.lincBlinkAnimation.call(function(){Game.playSound("blink-noise")},null,this,4.6),this.lincBlinkAnimation.call(function(){Game.playSound("blink-noise")},null,this,6.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),4.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),6.6),this.BreathingAnimation=new TimelineMax({}),this.BreathingAnimation.add(TweenMax.to(this.lincHolder.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.dadHolder.scale,.8,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.mam.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLori.scale,.9,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLeni.scale,1.1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLuan.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLynn.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLisa.scale,1.1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLilly.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLuna.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLucy.scale,1.1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLana.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLola.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.clickToPlayAnimation=new TimelineMax({}),this.clickToPlay.alpha=0,this.loudHouseLogo.alpha=0,this.clickToPlayAnimation.add(TweenMax.to(this.clickToPlay,1,{alpha:1,ease:Quad.easeOut}),4),this.clickToPlayAnimation.add(TweenMax.to(this.clickToPlay,.8,{alpha:.5,ease:Sine.easeInOut,yoyo:!0,repeat:-1}),5),this.clickToPlayAnimation.add(TweenMax.to(this.loudHouseLogo,.5,{alpha:1,ease:Quad.easeOut}),4),this.clickToPlayAnimation.add(TweenMax.from(this.loudHouseLogo.scale,.5,{x:0,y:0,ease:Power2.easeOut}),4)},b.prototype.setUpHitArea=function(){this.titleBlankInput.interactive=!0,this.titleBlankInput.buttonMode=!0;var a=this;Game.onDesktop?this.titleBlankInput.on("mouseup",function(b){Game.playSound("button-click-ui"),a.game.setScene("hubScene",!1)}):this.titleBlankInput.on("touchend",function(b){Game.playSound("button-click-ui"),a.game.setScene("hubScene",!1)})},b.prototype.activatePlayButton=function(a){a.game.ui.addCustomUIButton(a.largePlayButton,!1,!0)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"playbuttonlarge":this.game.setScene("hubScene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation=this.killTween(this.animation),this.playAnimation=this.killTween(this.playAnimation),this.lincBlinkAnimation=this.killTween(this.lincBlinkAnimation),this.BreathingAnimation=this.killTween(this.BreathingAnimation),this.lincClipboardAnimation=this.killTween(this.lincClipboardAnimation),this.clickToPlayAnimation=this.killTween(this.clickToPlayAnimation),this.sisterAnimation=this.killTween(this.sisterAnimation),this.titleBlankInput.removeAllListeners(),Game.stopSound("guitar-riff")},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},TrashTitleScene=function(a){function b(b){a.call(this,b),this.id="trashTitleScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),Game.playSound("guitar-riff"),
Game.setSoundVolume("guitar-riff",0),Game.fadeSound("guitar-riff",1,.2),Game.displayStore.flush(["initial-loading-assets"]),Game.displayStore.flush(["hub-assets","main-game-title-screen-assets"]),Game.audioManager.flush("hub-audio"),this.setBackgroundColor(13421772),1==this.game.runningHubMode?this.game.ui.setUI("mini-game-title"):this.game.ui.setUI("title"),this.game.currentBackDestinationID=this.id,this.titleBlankInput=Game.displayStore.getSprite("title-blank-input"),this.titleBlankInput.width=Game.stageWidth,this.titleBlankInput.height=Game.stageHeight,this.mainHolder=Game.displayStore.getContainer("title-trash-container"),this.mainHolder.setRegPointPixels(Game.stageWidth/2,Game.stageHeight/2,!0),this.container.addChild(this.mainHolder),this.mainHolder.scale.x=1.02,this.mainHolder.scale.y=1.02,this.clickToPlay=this.mainHolder.getSprite("title-trash-click-anywhere-to-play"),this.loudHouseLogo=this.mainHolder.getSprite("title-trash-loud-house-logo"),this.lincHolder=this.mainHolder.getContainer("title-trash-linc-container"),this.lincHolder.setRegPointPixels(172,243,!0),this.lincEyelids=this.lincHolder.getSprite("title-trash-linc-eyelids"),this.lincMouth=this.lincHolder.getSprite("title-trash-linc-mouth"),this.lincPeg=this.lincHolder.getSprite("title-trash-linc-peg"),this.lincRightArm=this.lincHolder.getSprite("title-trash-linc-right-arm"),this.lincLeftArm=this.lincHolder.getSprite("title-trash-linc-left-arm"),this.lynnHolder=this.mainHolder.getContainer("title-trash-lynn-container"),this.lynnArmHolder=this.lynnHolder.getContainer("title-trash-lynn-arm-container"),this.lynnArmHolder.setRegPointPixels(150,70,!0),this.lynnArm=this.lynnArmHolder.getSprite("title-trash-lynn-arm"),this.lynnEyelids=this.lynnHolder.getSprite("title-trash-lynn-eyelids"),this.luanHolder=this.mainHolder.getContainer("title-trash-luan-container"),this.luanArmHolder=this.luanHolder.getContainer("title-trash-luan-arm-container"),this.luanArmHolder.setRegPointPixels(130,170,!0),this.luanArm=this.luanArmHolder.getSprite("title-trash-luan-arm"),this.luanEyelids=this.luanHolder.getSprite("title-trash-luan-eyelids"),this.lanaHolder=this.mainHolder.getContainer("title-trash-lana-container"),this.lanaArm=this.lanaHolder.getSprite("title-trash-lana-arm"),this.lanaEyelids=this.lanaHolder.getSprite("title-trash-lana-eyelids"),this.backRubbish3=this.mainHolder.getSprite("title-trash-back-rubbish-3"),this.backRubbish2=this.mainHolder.getSprite("title-trash-back-rubbish-2"),this.backRubbish1=this.mainHolder.getSprite("title-trash-back-rubbish-1"),this.frontRubbish4=this.mainHolder.getSprite("title-trash-front-rubbish-4"),this.frontRubbish3=this.mainHolder.getSprite("title-trash-front-rubbish-3"),this.frontRubbish2=this.mainHolder.getSprite("title-trash-front-rubbish-2"),this.frontRubbish1=this.mainHolder.getSprite("title-trash-front-rubbish-1"),this.logo=this.mainHolder.getSprite("title-trash-logo"),this.backBag1=this.mainHolder.getSprite("title-trash-back-bag-1"),this.backBag2=this.mainHolder.getSprite("title-trash-back-bag-2"),this.frontBag1=this.mainHolder.getSprite("title-trash-front-bag-1"),this.frontBag2=this.mainHolder.getSprite("title-trash-front-bag-2"),this.luanHolder.alpha=0,this.lanaHolder.alpha=0,this.lincMouth.rotation=-.1,this.container.addChild(this.clickToPlay),this.container.addChild(this.loudHouseLogo),this.container.addChild(this.titleBlankInput),this.setUpHitArea(),this.game.currentBackDestinationID=this.id,this.animation=new TimelineMax,this.animation.call(Game.playSound,["woosh-3"],this,0),this.animation.call(Game.playSound,["woosh-3"],this,2),this.animation.call(Game.playSound,["linc-urgh"],this,0),this.animation.call(Game.playSound,["bag-pop"],this,1.8),this.animation.call(Game.playSound,["linc-what-am-i-going-to-do"],this,3),this.animation.call(Game.playSound,["sister-good-luck"],this,2),this.animation.add([TweenMax.from(this.mainHolder.scale,2.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.backRubbish3.scale,2.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.backRubbish2.scale,2.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.backRubbish1.scale,2.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.backRubbish3.position,2.5,{y:"+=300",ease:Power2.easeInOut}),TweenMax.from(this.backRubbish2.position,2.5,{y:"+=300",ease:Power2.easeInOut}),TweenMax.from(this.backRubbish1.position,2.5,{y:"+=300",ease:Power2.easeInOut}),TweenMax.from(this.mainHolder.position,2.5,{y:"-=50",ease:Power2.easeInOut}),TweenMax.from(this.frontRubbish1.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.frontRubbish2.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.frontRubbish3.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.frontRubbish4.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.frontRubbish1.position,1.5,{x:"-=50",y:"+=50",ease:Power2.easeInOut}),TweenMax.from(this.frontRubbish2.position,1.5,{y:"+=60",ease:Power2.easeInOut}),TweenMax.from(this.frontRubbish3.position,1.5,{y:"+=80",ease:Power2.easeInOut}),TweenMax.from(this.frontRubbish4.position,1.5,{y:"+=90",ease:Power2.easeInOut}),TweenMax.from(this.frontBag1.position,1.5,{x:"-=30",y:"+=20",ease:Power2.easeInOut}),TweenMax.from(this.frontBag2.position,1.5,{x:"-=30",y:"+=20",ease:Power2.easeInOut}),TweenMax.from(this.lincHolder.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.lincHolder.position,1.5,{x:"+=70",y:"+=50",ease:Power2.easeInOut})],0),this.logoAnimation=new TimelineMax({}),this.logoAnimation.add(TweenMax.from(this.logo.position,1,{x:"+=30",y:"-=600",ease:Power4.easeIn}),.8),this.logoAnimation.add(TweenMax.from(this.logo,1,{rotation:.2,ease:Power4.easeIn}),.8),this.logoAnimation.add(TweenMax.from(this.logo.scale,.2,{y:.93,ease:Power3.easeOut,yoyo:!0})),this.animation.add(TweenMax.to(this.mainHolder.position,.1,{y:"+=7",ease:Sine.easeInOut,yoyo:!0,repeat:1}),1.8),this.animation.add(TweenMax.to(this.mainHolder.scale,.1,{x:1.09,y:1.09,ease:Sine.easeInOut,yoyo:!0,repeat:1}),1.8),this.animation.add(TweenMax.to(this.mainHolder,.1,{rotation:.02,ease:Sine.easeInOut,yoyo:!0,repeat:1}),1.8),this.bagAnimation=new TimelineMax({}),this.bagAnimation.add(TweenMax.from(this.backBag2.position,1,{x:"-=20",y:"-=350",ease:Power4.easeIn}),1.5),this.bagAnimation.add(TweenMax.from(this.backBag2,1,{rotation:-.2,ease:Power4.easeIn}),1.5),this.bagAnimation.add(TweenMax.from(this.backBag2.scale,.3,{y:.95,ease:Power2.easeIn,yoyo:!0})),this.bagAnimation.add(TweenMax.from(this.backBag1.position,1,{x:"-=20",y:"-=350",ease:Power4.easeIn}),1.2),this.bagAnimation.add(TweenMax.from(this.backBag1,1,{rotation:.4,ease:Power4.easeIn}),1.2),this.bagAnimation.add(TweenMax.from(this.backBag1.scale,.3,{y:.95,ease:Power2.easeIn,yoyo:!0}),2.2),this.animation.call(function(){this.luanHolder.alpha=1,this.lanaHolder.alpha=1},null,this,1.5),this.animation.add([TweenMax.from(this.lynnHolder.position,.8,{x:550,y:10,ease:Back.easeOut}),TweenMax.from(this.lynnArm.position,2,{x:"+=30",y:"+=20",ease:Back.easeOut}),TweenMax.from(this.lynnArm,2,{rotation:-.5,ease:Back.easeOut})],3),this.animation.add([TweenMax.from(this.luanHolder.position,.8,{x:30,y:200,ease:Back.easeOut}),TweenMax.from(this.luanArm,2,{rotation:.5,ease:Back.easeOut})],2.7),this.animation.add(TweenMax.from(this.lanaHolder.position,.8,{x:100,y:400,ease:Back.easeOut}),2.2),this.lanaArmAnimation=new TimelineMax({}),this.lanaArmAnimation.add(TweenMax.to(this.lanaArm,.5,{rotation:.04,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.lanaBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lanaEyelids.alpha=0,this.lanaBlinkAnimation.add(TweenMax.to(this.lanaEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1),this.lanaBlinkAnimation.add(TweenMax.to(this.lanaEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.8),this.lanaBlinkAnimation.add(TweenMax.to(this.lanaEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),2.5),this.lanaBlinkAnimation.add(TweenMax.to(this.lanaEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),6),this.luanArmAnimation=new TimelineMax({}),this.luanArmAnimation.add(TweenMax.to(this.luanArmHolder,1.6,{rotation:-.08,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.luanBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.luanEyelids.alpha=0,this.luanBlinkAnimation.add(TweenMax.to(this.luanEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.2),this.luanBlinkAnimation.add(TweenMax.to(this.luanEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),2),this.luanBlinkAnimation.add(TweenMax.to(this.luanEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),3),this.luanBlinkAnimation.add(TweenMax.to(this.luanEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),5.7),this.lynnArmAnimation=new TimelineMax({}),this.lynnArmAnimation.add(TweenMax.to(this.lynnArmHolder,1.5,{rotation:-.08,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.lynnBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lynnEyelids.alpha=0,this.lynnBlinkAnimation.add(TweenMax.to(this.lynnEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),2),this.lynnBlinkAnimation.add(TweenMax.to(this.lynnEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),2.5),this.lynnBlinkAnimation.add(TweenMax.to(this.lynnEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),3.4),this.lynnBlinkAnimation.add(TweenMax.to(this.lynnEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),5),this.lincBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lincEyelids.alpha=0,this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),4.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),6.6),this.lincMouthAnimation=new TimelineMax({}),this.lincMouthAnimation.add(TweenMax.to(this.lincMouth,3,{rotation:.1,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.lincMouthAnimation.add(TweenMax.to(this.lincMouth.position,3,{y:"+=2",yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.lincPegAnimation=new TimelineMax({}),this.lincPegAnimation.add(TweenMax.to(this.lincPeg,3,{rotation:-.1,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.lincHeadAnimation=new TimelineMax({}),this.lincHeadAnimation.add(TweenMax.to(this.lincHolder,3,{rotation:.05,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.lincArmAnimation=new TimelineMax({}),this.lincArmAnimation.add(TweenMax.to(this.lincRightArm,1.5,{rotation:-.2,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.lincArmAnimation.add(TweenMax.to(this.lincLeftArm,1.5,{rotation:.2,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.clickToPlayAnimation=new TimelineMax({}),this.clickToPlay.alpha=0,this.loudHouseLogo.alpha=0,this.clickToPlayAnimation.add(TweenMax.to(this.clickToPlay,1,{alpha:1,ease:Quad.easeOut}),3),this.clickToPlayAnimation.add(TweenMax.to(this.clickToPlay,.8,{alpha:.5,ease:Sine.easeInOut,yoyo:!0,repeat:-1}),4),this.clickToPlayAnimation.add(TweenMax.to(this.loudHouseLogo,.5,{alpha:1,ease:Quad.easeOut}),3.5),this.clickToPlayAnimation.add(TweenMax.from(this.loudHouseLogo.scale,.5,{x:0,y:0,ease:Power2.easeOut}),3.5)},b.prototype.setUpHitArea=function(){this.titleBlankInput.interactive=!0,this.titleBlankInput.buttonMode=!0;var a=this;Game.onDesktop?this.titleBlankInput.on("mouseup",function(b){Game.playSound("button-click-ui"),a.game.setScene("trashIntro1Scene",!1)}):this.titleBlankInput.on("touchend",function(b){Game.playSound("button-click-ui"),a.game.setScene("trashIntro1Scene",!1)})},b.prototype.activatePlayButton=function(a){a.game.ui.addCustomUIButton(a.largePlayButton,!1,!0)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"playbuttonlarge":this.game.setScene("trashIntro1Scene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation=this.killTween(this.animation),this.clickToPlayAnimation=this.killTween(this.clickToPlayAnimation),this.lincBlinkAnimation=this.killTween(this.lincBlinkAnimation),this.lanaArmAnimation=this.killTween(this.lanaArmAnimation),this.lincPegAnimation=this.killTween(this.lincPegAnimation),this.luanArmAnimation=this.killTween(this.luanArmAnimation),this.lincHeadAnimation=this.killTween(this.lincHeadAnimation),this.lincArmAnimation=this.killTween(this.lincArmAnimation),this.luanArmAnimation=this.killTween(this.luanArmAnimation),this.luanBlinkAnimation=this.killTween(this.luanBlinkAnimation),this.lynnBlinkAnimation=this.killTween(this.lynnBlinkAnimation),this.lanaBlinkAnimation=this.killTween(this.lanaBlinkAnimation),this.logoAnimation=this.killTween(this.logoAnimation),this.bagAnimation=this.killTween(this.bagAnimation),this.titleBlankInput.removeAllListeners(),Game.stopSound("guitar-riff")},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},GeoRollTitleScene=function(a){function b(b){a.call(this,b),this.id="geoRollTitleScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),this.setBackgroundColor(13421772),Game.displayStore.flush(["hub-assets","main-game-title-screen-assets"]),Game.audioManager.flush("hub-audio"),1==this.game.runningHubMode?this.game.ui.setUI("mini-game-title"):this.game.ui.setUI("title"),this.game.currentBackDestinationID=this.id,this.mainHolder=Game.displayStore.getContainer("title-geo-roll-container"),this.mainHolder.setRegPointPixels(Game.stageWidth/2,Game.stageHeight/2,!0),this.container.addChild(this.mainHolder),this.wall=this.mainHolder.getSprite("title-geo-roll-wall"),this.floor=this.mainHolder.getSprite("title-geo-roll-floor"),this.frameRight=this.mainHolder.getSprite("title-geo-roll-frame-right"),this.frameLeft=this.mainHolder.getSprite("title-geo-roll-frame-left"),this.torchCone=this.mainHolder.getSprite("title-geo-roll-logo-spotlight-cone"),this.logoSpotlight=this.mainHolder.getSprite("title-geo-roll-logo-spotlight"),this.clickToPlay=this.mainHolder.getSprite("title-geo-roll-click-anywhere-to-play"),this.loudHouseLogo=this.mainHolder.getSprite("title-geo-roll-loud-house-logo"),this.logo=this.mainHolder.getSprite("title-geo-roll-logo"),this.fadedSpotlight=this.mainHolder.getSprite("title-geo-roll-faded-spotlight"),this.brightSpotlight=this.mainHolder.getSprite("title-geo-roll-bright-spotlight"),this.geoBall=Game.displayStore.getSpine("title-geo-spine"),this.geoBall.setAnim("run",!0),this.geoBall.position.x=-150,this.geoBall.position.y=700,this.geoBall.scale.x=.8,this.geoBall.scale.y=.8,this.titleBlankInput=Game.displayStore.getSprite("title-blank-input"),this.titleBlankInput.width=Game.stageWidth,this.titleBlankInput.height=Game.stageHeight,this.brightSpotlight.alpha=.5,this.game.currentBackDestinationID=this.id,this.mainHolder.addChild(this.geoBall),this.mainHolder.addChild(this.titleBlankInput),this.torchCone.alpha=0,this.torchCone.rotation=-.02,this.animation=new TimelineMax,this.animation.add(TweenMax.to(this.geoBall.position,2.5,{x:1200,ease:Power2.easeInOut})),this.animation.call(Game.playSound,["linc-walking-2"],this,.1),this.animation.call(Game.setSoundVolume,["linc-walking-2",.5],this,.1),this.animation.call(Game.playSound,["sneeky-2"],this,0),this.animation.call(Game.playSound,["kick"],this,2.5),this.animation.call(Game.setSoundVolume,["sneeky-2",.1],this,0),this.animation.add([TweenMax.from(this.mainHolder.position,1.5,{y:"-=280",ease:Power2.easeInOut}),TweenMax.from(this.mainHolder.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut})],.9),this.animation.add([TweenMax.from(this.logoSpotlight.scale,1.5,{x:0,y:0,ease:Elastic.easeOut}),TweenMax.from(this.logo.scale,1.5,{x:0,y:0,ease:Elastic.easeOut,delay:.2}),TweenMax.from(this.logo,1.5,{rotation:.5,ease:Elastic.easeOut,delay:.2}),TweenMax.from(this.logo.position,1.5,{y:"+=100",ease:Elastic.easeOut,delay:.2})],2.5),this.animation.call(function(){this.torchCone.alpha=1},null,this,2.5),this.animation.add([TweenMax.from(this.fadedSpotlight.scale,.8,{x:0,y:0,ease:Back.easeOut}),TweenMax.from(this.brightSpotlight.scale,.8,{x:0,y:0,ease:Back.easeOut})],2),this.clickToPlayAnimation=new TimelineMax({}),this.clickToPlay.alpha=0,this.loudHouseLogo.alpha=0,this.clickToPlayAnimation.add(TweenMax.to(this.clickToPlay,1,{alpha:1,ease:Quad.easeOut}),3),this.clickToPlayAnimation.add(TweenMax.to(this.clickToPlay,.8,{alpha:.5,ease:Sine.easeInOut,yoyo:!0,repeat:-1}),4),this.clickToPlayAnimation.add(TweenMax.to(this.loudHouseLogo,.5,{alpha:1,ease:Quad.easeOut}),3.5),this.clickToPlayAnimation.add(TweenMax.from(this.loudHouseLogo.scale,.5,{x:0,y:0,ease:Power2.easeOut}),3.5),this.lightAnimation=new TimelineMax({}),this.lightAnimation.add(TweenMax.to(this.torchCone,1.5,{rotation:.02,ease:Quad.easeInOut,yoyo:!0,repeat:-1}),0),this.lightAnimation.add(TweenMax.to(this.logoSpotlight.position,1.5,{x:"+=10",yoyo:!0,ease:Power2.easeInOut,repeat:-1}),0),this.lightAnimation.add(TweenMax.to(this.logoSpotlight.position,1.5,{y:"+=10",yoyo:!0,ease:Power2.easeInOut,repeat:-1}),0),this.lightAnimation.add(TweenMax.to(this.fadedSpotlight.position,1.5,{x:"+=20",yoyo:!0,ease:Power2.easeInOut,repeat:-1}),.5),this.lightAnimation.add(TweenMax.to(this.fadedSpotlight.position,1.5,{y:"-=20",yoyo:!0,ease:Power2.easeInOut,repeat:-1}),.5),this.lightAnimation.add(TweenMax.to(this.brightSpotlight.position,1.5,{x:"+=20",yoyo:!0,ease:Power2.easeInOut,repeat:-1}),.5),this.lightAnimation.add(TweenMax.to(this.brightSpotlight.position,1.5,{y:"-=20",yoyo:!0,ease:Power2.easeInOut,repeat:-1}),.5),this.setUpHitArea()},b.prototype.setUpHitArea=function(){this.titleBlankInput.interactive=!0,this.titleBlankInput.buttonMode=!0;var a=this;Game.onDesktop?this.titleBlankInput.on("mouseup",function(b){Game.playSound("button-click-ui"),a.game.setScene("geoRollIntro1Scene",!1)}):this.titleBlankInput.on("touchend",function(b){Game.playSound("button-click-ui"),a.game.setScene("geoRollIntro1Scene",!1)})},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"playbuttonlarge":this.game.setScene("geoRollIntro1Scene")}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation=this.killTween(this.animation),this.clickToPlayAnimation=this.killTween(this.clickToPlayAnimation),this.lightAnimation=this.killTween(this.lightAnimation),this.titleBlankInput.removeAllListeners(),Game.stopSound("sneeky-2"),Game.stopSound("linc-walking-2"),Game.stopSound("linc-going-to-sleep")},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},FoodFightTitleScene=function(a){function b(b){a.call(this,b),this.id="foodFightTitleScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),Game.playSound("guitar-riff"),Game.setSoundVolume("guitar-riff",.3),Game.fadeSound("guitar-riff",1,.3),Game.displayStore.flush(["initial-loading-assets"]),Game.displayStore.flush(["hub-assets","main-game-title-screen-assets"]),Game.audioManager.flush("hub-audio"),this.titleBlankInput=Game.displayStore.getSprite("title-blank-input"),this.titleBlankInput.width=Game.stageWidth,this.titleBlankInput.height=Game.stageHeight,this.setBackgroundColor(13421772),1==this.game.runningHubMode?this.game.ui.setUI("mini-game-title"):this.game.ui.setUI("title"),this.game.currentBackDestinationID=this.id;var b={lowerStartScale:3,upperStartScale:4,XstartRange:150,YstartRange:0,lowerVelocity:500,upperVelocity:1e3,lowerAngle:-180,upperAngle:0,gravity:1500,blendMode:PIXI.BLEND_MODES.OVERLAY,time:1.5,cap:40,stagger:150};this.splat=new ParticleBurst(["title-food-fight-logo-particle","title-food-fight-logo-particle-2"],Game.displayStore.getContainer("title-food-fight-logo-particle-holder"),b),this.mainHolder=Game.displayStore.getContainer("title-food-fight-container"),this.mainHolder.setRegPointPixels(Game.stageWidth/2,Game.stageHeight/2,!0),this.container.addChild(this.mainHolder),this.clickToPlay=this.mainHolder.getSprite("title-food-fight-click-anywhere-to-play"),this.loudHouseLogo=this.mainHolder.getSprite("title-food-fight-loud-house-logo"),this.leftTableHolder=this.mainHolder.getContainer("title-food-fight-left-table-container"),this.leftTableHolder.setRegPointPixels(-116,644,!0),this.rightTableHolder=this.mainHolder.getContainer("title-food-fight-right-table-container"),this.rightTableHolder.setRegPointPixels(1172,673,!0),this.lincHolder=this.leftTableHolder.getContainer("title-food-fight-linc-container"),this.lincHolder.setRegPointPixels(258,334,!0),this.lincHeadHolder=this.lincHolder.getContainer("title-food-fight-linc-head-container"),this.lincHeadHolder.setRegPointPixels(125,175,!0),this.lincEyelids=this.lincHeadHolder.getSprite("title-food-fight-linc-eyelids"),this.lincRightArm=this.lincHolder.getSprite("title-food-fight-linc-right-arm"),this.lincLeftArm=this.lincHolder.getSprite("title-food-fight-linc-left-arm"),this.plates=this.leftTableHolder.getSprite("title-food-fight-left-table-plates"),this.lolaHolder=this.rightTableHolder.getContainer("title-food-fight-lola-container"),this.lolaHolder.setRegPointPixels(160,230,!0),this.lolaEyelids=this.lolaHolder.getSprite("title-food-fight-lola-eyelids"),this.lolaArm=this.lolaHolder.getSprite("title-food-fight-lola-arm"),this.leniHolder=this.rightTableHolder.getContainer("title-food-fight-leni-container"),this.leniHolder.setRegPointPixels(247,399,!0),this.leniEyelids=this.leniHolder.getSprite("title-food-fight-leni-eyelids"),this.leniArm=this.leniHolder.getSprite("title-food-fight-leni-arm"),this.lillyHolder=this.mainHolder.getContainer("title-food-fight-lilly-container"),this.lillyHolder.setRegPointPixels(106,265,!0),this.lillyEyelids=this.lillyHolder.getSprite("title-food-fight-lilly-eyelids"),this.lucyHolder=this.rightTableHolder.getContainer("title-food-fight-lucy-container"),this.lucyHolder.setRegPointPixels(95,311,!0),this.bg=this.mainHolder.getSprite("title-food-fight-bg"),this.logo=this.mainHolder.getContainer("title-food-fight-logo-container"),this.logo.setRegPointPixels(308,205,!0),this.logoBack=this.logo.getSprite("title-food-fight-logo-back"),this.logoText=this.logo.getSprite("title-food-fight-logo-text"),this.logoShadow=this.mainHolder.getSprite("title-food-fight-logo-shadow"),this.foodAppleHolder=this.mainHolder.getContainer("title-food-fight-apple-container"),this.foodAppleHolder.setRegPointPixels(-447,355,!0),this.foodApple=this.foodAppleHolder.getSprite("title-food-fight-food-apple"),this.foodAppleHolder.alpha=0,this.foodPearHolder=this.mainHolder.getContainer("title-food-fight-pear-container"),this.foodPearHolder.setRegPointPixels(512,350,!0),this.foodPear=this.foodPearHolder.getSprite("title-food-fight-food-pear"),this.foodPearHolder.alpha=0,this.foodBananaHolder=this.mainHolder.getContainer("title-food-fight-banana-container"),this.foodBananaHolder.setRegPointPixels(-440,355,!0),this.foodBanana=this.foodBananaHolder.getSprite("title-food-fight-food-banana"),this.foodBananaHolder.alpha=0,this.logo.addChild(this.logoBack),this.logo.addChild(this.splat.container),this.logo.addChild(this.logoText),this.container.addChild(this.titleBlankInput),this.setUpHitArea(),this.logoText.alpha=0,this.animation=new TimelineMax,this.animation.add([TweenMax.from(this.mainHolder.position,2,{y:"+=150",ease:Power2.easeInOut}),TweenMax.from(this.mainHolder.scale,2,{x:1.1,y:1.1,ease:Power2.easeInOut}),TweenMax.from(this.bg.scale,2,{x:1.1,y:1.1,ease:Power2.easeInOut})]),this.animation.add([TweenMax.from(this.logo.scale,1.5,{x:0,y:0,ease:Elastic.easeOut,delay:.2}),TweenMax.from(this.logo.position,1.5,{y:"+=200",ease:Elastic.easeOut,delay:.2})],.5),this.logoAnimation=new TimelineMax({}),this.logoAnimation.add(TweenMax.to(this.logoText,.06,{alpha:1,ease:Quad.easeOut}),1),this.logoAnimation.add(TweenMax.from(this.logoText.scale,.5,{x:4,y:4,ease:Back.easeOut}),1),this.logoAnimation.call(Game.playSound,["woosh-3"],this,.5),this.logoAnimation.call(Game.playSound,["throw-3"],this,.8),this.logoAnimation.call(Game.playSound,["splat-2"],this,1.2),this.logoAnimation.call(Game.playSound,["did-you-say-peas"],this,1.5),this.logoAnimation.call(Game.playSound,["lily-laugh"],this,2.5),this.logoAnimation.add(TweenMax.from(this.logoText,.5,{rotation:-.1,ease:Back.easeInOut}),1),this.animation.add(TweenMax.from(this.logoShadow.scale,1.5,{x:0,y:0,ease:Elastic.easeOut,delay:.2}),.5),this.animation.call(function(){this.splat.container.position=new PIXI.Point(350,250),this.splat.fire()},null,this,1),this.animation.add(TweenMax.from(this.lincHolder.position,.5,{x:"-=250",ease:Back.easeOut}),1.3),this.animation.add(TweenMax.from(this.lolaHolder.position,.5,{x:"+=250",ease:Back.easeOut}),1.3),this.animation.add(TweenMax.from(this.leniHolder.position,.5,{x:"+=250",ease:Back.easeOut}),1.5),this.animation.add(TweenMax.from(this.lucyHolder.position,.5,{x:"+=250",ease:Back.easeOut}),1.7),this.leftTableAnimation=new TimelineMax({}),this.leftTableAnimation.add(TweenMax.from(this.leftTableHolder.scale,2,{x:1.7,y:1.7,ease:Power2.easeInOut}),0),this.leftTableAnimation.add(TweenMax.from(this.leftTableHolder.position,2,{x:"-=450",y:"+=400",ease:Power2.easeInOut}),0),this.leftTableAnimation.add(TweenMax.from(this.plates.position,2,{x:"-=300",y:"+=50",ease:Power2.easeInOut}),0),this.leftTableAnimation.add(TweenMax.from(this.plates.scale,2,{x:1.7,y:1.7,ease:Power2.easeInOut}),0),this.leftTableAnimation.add(TweenMax.from(this.lincHolder.position,2,{x:"-=80",y:"+=40",ease:Power2.easeInOut}),0),this.rightTableAnimation=new TimelineMax({}),this.rightTableAnimation.add(TweenMax.from(this.rightTableHolder.scale,2,{x:1.7,y:1.7,ease:Power2.easeInOut}),0),this.rightTableAnimation.add(TweenMax.from(this.rightTableHolder.position,2,{x:"+=950",y:"+=350",ease:Power2.easeInOut}),0),this.rightTableAnimation.add(TweenMax.from(this.leniHolder.position,2,{x:"+=80",y:"+=40",ease:Power2.easeInOut}),0),this.rightTableAnimation.add(TweenMax.from(this.lucyHolder.position,2,{x:"+=20",y:"+=40",ease:Power2.easeInOut}),0),this.rightTableAnimation.add(TweenMax.from(this.lolaHolder.position,2,{x:"+=40",y:"+=40",ease:Power2.easeInOut}),0),this.animation.add([TweenMax.from(this.lillyHolder.position,.5,{y:"+=300",ease:Back.easeOut}),TweenMax.from(this.lillyHolder.scale,.5,{x:.7,y:.7,ease:Back.easeOut})],2.2),this.lincArmAnimation=new TimelineMax({}),this.lincArmAnimation.add(TweenMax.to(this.lincRightArm,1,{rotation:.2,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.lincArmAnimation.add(TweenMax.to(this.lincLeftArm,2,{rotation:-.1,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.BreathingAnimation=new TimelineMax({}),this.BreathingAnimation.add(TweenMax.to(this.lincHolder.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.lillyHolder.scale,1.5,{y:.98,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),4),this.BreathingAnimation.add(TweenMax.to(this.lolaHolder.scale,1.3,{y:.98,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.5),this.BreathingAnimation.add(TweenMax.to(this.leniHolder.scale,1.7,{y:.98,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.lucyHolder.scale,2,{y:.98,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.lillyBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lillyEyelids.alpha=0,this.lillyBlinkAnimation.add(TweenMax.to(this.lillyEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.2),this.lillyBlinkAnimation.add(TweenMax.to(this.lillyEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),3.5),this.lillyBlinkAnimation.add(TweenMax.to(this.lillyEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),5.8),this.leniBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.leniEyelids.alpha=0,this.leniBlinkAnimation.add(TweenMax.to(this.leniEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.7),this.leniBlinkAnimation.add(TweenMax.to(this.leniEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),3),this.leniBlinkAnimation.add(TweenMax.to(this.leniEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),4.2),this.leniBlinkAnimation.add(TweenMax.to(this.leniEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),6),this.lolaBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lolaEyelids.alpha=0,this.lolaBlinkAnimation.add(TweenMax.to(this.lolaEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.4),this.lolaBlinkAnimation.add(TweenMax.to(this.lolaEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),2),this.lolaBlinkAnimation.add(TweenMax.to(this.lolaEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),4),this.lolaBlinkAnimation.add(TweenMax.to(this.lolaEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),5.4),this.lincBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lincEyelids.alpha=0,this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),4.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),6.6),this.animation.add(TweenMax.from(this.leniArm,1.5,{rotation:.11,ease:Sine.easeInOut,yoyo:!0,repeat:-1}),0),this.animation.add(TweenMax.from(this.lolaArm,1,{rotation:.11,ease:Sine.easeInOut,yoyo:!0,repeat:-1}),0),this.foodAppleAnimation=new TimelineMax({repeat:-1,repeatdelay:90}),this.foodAppleAnimation.add(TweenMax.to(this.foodAppleHolder,.06,{alpha:1,ease:Quad.easeOut}),2),this.foodAppleAnimation.call(Game.playSound,["throw-1"],this,2),this.foodAppleAnimation.add(TweenMax.to(this.foodAppleHolder,1.5,{rotation:-2.1,ease:Sine.easeInOut}),2),this.foodAppleAnimation.add(TweenMax.to(this.foodApple,1.5,{rotation:8,ease:Sine.easeInOut}),2),this.foodAppleAnimation.add(TweenMax.to(this.foodApple.scale,.5,{x:.5,y:.5,ease:Sine.easeInOut}),3),this.foodPearAnimation=new TimelineMax({repeat:-1,repeatdelay:35}),this.foodPearAnimation.add(TweenMax.to(this.foodPearHolder,.06,{alpha:1,ease:Quad.easeOut}),3),this.foodPearAnimation.call(Game.playSound,["throw-2"],this,3),this.foodPearAnimation.add(TweenMax.to(this.foodPearHolder,1.5,{rotation:2.1,ease:Sine.easeInOut}),3),this.foodPearAnimation.add(TweenMax.to(this.foodPear,1.5,{rotation:-8,ease:Sine.easeInOut}),3),this.foodPearAnimation.add(TweenMax.to(this.foodPear.scale,.5,{x:.5,y:.5,ease:Sine.easeInOut}),4),this.foodBananaAnimation=new TimelineMax({repeat:-1,repeatdelay:50}),this.foodBananaAnimation.add(TweenMax.to(this.foodBananaHolder,.06,{alpha:1,ease:Quad.easeOut}),5),this.foodBananaAnimation.call(Game.playSound,["throw-1"],this,5),this.foodBananaAnimation.add(TweenMax.to(this.foodBananaHolder,1.5,{rotation:-2.1,ease:Sine.easeInOut}),5),this.foodBananaAnimation.add(TweenMax.to(this.foodBanana,1.5,{rotation:8,ease:Sine.easeInOut}),5),this.foodBananaAnimation.add(TweenMax.to(this.foodBanana.scale,.5,{x:.5,y:.5,ease:Sine.easeInOut}),6),this.clickToPlayAnimation=new TimelineMax({}),this.clickToPlay.alpha=0,this.loudHouseLogo.alpha=0,
this.clickToPlayAnimation.add(TweenMax.to(this.clickToPlay,1,{alpha:1,ease:Quad.easeOut}),3),this.clickToPlayAnimation.add(TweenMax.to(this.clickToPlay,.8,{alpha:.5,ease:Sine.easeInOut,yoyo:!0,repeat:-1}),4),this.clickToPlayAnimation.add(TweenMax.to(this.loudHouseLogo,.5,{alpha:1,ease:Quad.easeOut}),2.7),this.clickToPlayAnimation.add(TweenMax.from(this.loudHouseLogo.scale,.5,{x:0,y:0,ease:Power2.easeOut}),2.7)},b.prototype.setUpHitArea=function(){this.titleBlankInput.interactive=!0,this.titleBlankInput.buttonMode=!0;var a=this;Game.onDesktop?this.titleBlankInput.on("mouseup",function(b){Game.playSound("button-click-ui"),a.game.setScene("foodFightIntro1Scene",!1)}):this.titleBlankInput.on("touchend",function(b){Game.playSound("button-click-ui"),a.game.setScene("foodFightIntro1Scene",!1)})},b.prototype.activatePlayButton=function(a){a.game.ui.addCustomUIButton(a.largePlayButton,!1,!0)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"playbuttonlarge":this.game.setScene("foodFightIntro1Scene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){},b.prototype.resume=function(){},b.prototype.destroy=function(){a.prototype.destroy.call(this),Game.stopSound("did-you-say-peas"),Game.stopSound("lily-laugh"),Game.stopSound("guitar-riff"),this.animation=this.killTween(this.animation),this.clickToPlayAnimation=this.killTween(this.clickToPlayAnimation),this.lincBlinkAnimation=this.killTween(this.lincBlinkAnimation),this.lillyBlinkAnimation=this.killTween(this.lillyBlinkAnimation),this.leniBlinkAnimation=this.killTween(this.leniBlinkAnimation),this.lolaBlinkAnimation=this.killTween(this.lolaBlinkAnimation),this.leftTableAnimation=this.killTween(this.leftTableAnimation),this.rightTableAnimation=this.killTween(this.rightTableAnimation),this.lincArmAnimation=this.killTween(this.lincArmAnimation),this.BreathingAnimation=this.killTween(this.BreathingAnimation),this.foodAppleAnimation=this.killTween(this.foodAppleAnimation),this.foodPearAnimation=this.killTween(this.foodPearAnimation),this.foodBananaAnimation=this.killTween(this.foodBananaAnimation),this.logoAnimation=this.killTween(this.logoAnimation),this.splat.destroy(),this.titleBlankInput.removeAllListeners()},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},LoudLaundryTitleScene=function(a){function b(b){a.call(this,b),this.id="loudLaundryTitleScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),Game.displayStore.flush(["initial-loading-assets"]),Game.displayStore.flush(["hub-assets","main-game-title-screen-assets"]),Game.audioManager.flush("hub-audio"),this.setBackgroundColor(13421772),1==this.game.runningHubMode?this.game.ui.setUI("mini-game-title"):this.game.ui.setUI("title"),this.titleBlankInput=Game.displayStore.getSprite("title-blank-input"),this.titleBlankInput.width=Game.stageWidth,this.titleBlankInput.height=Game.stageHeight,this.container.addChild(this.titleBlankInput),this.setUpHitArea(),this.game.currentBackDestinationID=this.id,this.mainHolder=Game.displayStore.getContainer("title-loud-laundry-container"),this.mainHolder.setRegPointPixels(Game.stageWidth/2,Game.stageHeight/2,!0),this.container.addChild(this.mainHolder),this.logo=this.mainHolder.getSprite("title-loud-laundry-logo"),this.lincOuterHolder=this.mainHolder.getContainer("title-loud-laundry-linc-outer-holder"),this.lincOuterHolder.setRegPointPixels(190,437,!0),this.lincHolder=this.lincOuterHolder.getContainer("title-loud-laundry-linc-holder"),this.lincHolder.setRegPointPixels(190,437,!0),this.lincHeadHolder=this.lincHolder.getContainer("title-loud-laundry-linc-head-holder"),this.lincHeadHolder.setRegPointPixels(189,300,!0),this.lincEyelids=this.lincHeadHolder.getSprite("title-loud-laundry-linc-eyelids"),this.lincMouth=this.lincHeadHolder.getSprite("title-loud-laundry-linc-mouth"),this.lincRightArmHolder=this.lincHolder.getContainer("title-loud-laundry-linc-right-arm-holder"),this.lincRightArmHolder.setRegPointPixels(11,127,!0),this.lincRightArmOverlay=this.lincHolder.getContainer("title-loud-laundry-linc-right-arm-overlay-holder"),this.lincRightArmOverlay.setRegPointPixels(11,127,!0),this.lincLeftArmHolder=this.lincHolder.getContainer("title-loud-laundry-linc-left-arm-holder"),this.lincLeftArmHolder.setRegPointPixels(163,99,!0),this.lincLeftArmOverlay=this.lincHolder.getContainer("title-loud-laundry-linc-left-arm-overlay-holder"),this.lincLeftArmOverlay.setRegPointPixels(163,99,!0),this.lincRightEyebrow=this.lincHeadHolder.getSprite("title-loud-laundry-linc-right-eyebrow"),this.lincLeftEyebrow=this.lincHeadHolder.getSprite("title-loud-laundry-linc-left-eyebrow"),this.lincLeftEye=this.lincHeadHolder.getSprite("title-loud-laundry-linc-left-eye"),this.lincRightEye=this.lincHeadHolder.getSprite("title-loud-laundry-linc-right-eye"),this.clickToPlay=Game.displayStore.getSprite("title-loud-laundry-click-anywhere-to-play"),this.loudHouseLogo=Game.displayStore.getSprite("title-loud-laundry-loud-house-logo"),this.backBubblesHolder=this.mainHolder.getContainer("title-loud-laundry-back-bubbles-holder"),this.backBubblesHolder.setRegPointPixels(550,284,!0),this.backBubbles=this.backBubblesHolder.getSprite("title-loud-laundry-back-bubbles"),this.frontBubblesHolder=this.mainHolder.getContainer("title-loud-laundry-front-bubbles-holder"),this.frontBubblesHolder.setRegPointPixels(550,284,!0),this.frontBubbles=this.frontBubblesHolder.getSprite("title-loud-laundry-front-bubbles"),this.washingMachineBackLeftHolder=this.mainHolder.getContainer("title-loud-laundry-washing-machine-back-left-container"),this.washingMachineBackLeft=this.washingMachineBackLeftHolder.getSprite("title-loud-laundry-washing-machine-back-left"),this.washingMachineBackRightHolder=this.mainHolder.getContainer("title-loud-laundry-washing-machine-back-right-container"),this.washingMachineBackRight=this.washingMachineBackRightHolder.getSprite("title-loud-laundry-washing-machine-back-right"),this.washingMachineLeftHolder=this.mainHolder.getContainer("title-loud-laundry-washing-machine-left-container"),this.washingMachineLeft=this.washingMachineLeftHolder.getSprite("title-loud-laundry-washing-machine-left"),this.washingMachineRightHolder=this.mainHolder.getContainer("title-loud-laundry-washing-machine-right-container"),this.washingMachineRight=this.washingMachineRightHolder.getSprite("title-loud-laundry-washing-machine-right"),this.backBubbleHolder=this.mainHolder.getContainer("title-loud-laundry-bubble-holder"),this.lincHeadHolder.rotation,this.bubbleManager=new TitleSceneBubbleManager(this,this.backBubbleHolder),this.positionCounter=0,this.animation=new TimelineMax,Game.playSound("washing-machine-loop",0),Game.playSound("water-sploshing-loop",0),Game.fadeSound("washing-machine-loop",0,.3),Game.fadeSound("water-sploshing-loop",0,.4),Game.playSound("guitar-riff",0),Game.fadeSound("guitar-riff",0,.4),this.animation.call(Game.playSound,["slide-up"],this,.5),this.animation.call(Game.playSound,["woosh-3"],this,.6),this.animation.call(Game.playSound,["linc-cant-something-go-my-way"],this,1),this.animation.add([TweenMax.from(this.mainHolder.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.backBubblesHolder.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.backBubblesHolder.position,1.5,{y:"+=200",ease:Power2.easeInOut}),TweenMax.from(this.frontBubblesHolder.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.frontBubblesHolder.position,1.5,{y:"+=250",ease:Power2.easeInOut}),TweenMax.from(this.washingMachineLeftHolder.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.washingMachineLeftHolder.position,1.5,{x:"-=200",y:"+=200",ease:Power2.easeInOut}),TweenMax.from(this.washingMachineRightHolder.scale,1.5,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.washingMachineRightHolder.position,1.5,{x:"+=200",y:"+=200",ease:Power2.easeInOut})]),this.washingMachineAnimation=new TimelineMax({}),this.washingMachineAnimation.add([TweenMax.to(this.washingMachineBackLeft,.11,{rotation:.15,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),TweenMax.to(this.washingMachineBackLeft.position,.11,{x:"+=5",y:"-=25",yoyo:!0,ease:Power1.easeOut,repeat:-1})],0),this.washingMachineAnimation.add([TweenMax.to(this.washingMachineBackRight,.12,{rotation:-.15,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),TweenMax.to(this.washingMachineBackRight.position,.12,{x:"-=5",y:"-=25",yoyo:!0,ease:Power1.easeOut,repeat:-1})],0),this.washingMachineAnimation.add([TweenMax.to(this.washingMachineLeft,.2,{rotation:.1,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),TweenMax.to(this.washingMachineLeft.position,.2,{x:"-=9",y:"-=40",yoyo:!0,ease:Power1.easeOut,repeat:-1})],0),this.washingMachineAnimation.add([TweenMax.to(this.washingMachineRight,.21,{rotation:-.1,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),TweenMax.to(this.washingMachineRight.position,.21,{x:"-=9",y:"-=40",yoyo:!0,ease:Power1.easeOut,repeat:-1})],0),this.washingMachineAnimation.add([TweenMax.to(this.frontBubbles.position,1,{y:"-=10",yoyo:!0,ease:Sine.easeInOut,repeat:-1}),TweenMax.to(this.frontBubbles.position,1.1,{x:"-=10",yoyo:!0,ease:Sine.easeInOut,repeat:-1}),TweenMax.to(this.frontBubbles.scale,1.1,{x:.98,y:.98,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),TweenMax.to(this.backBubbles.position,1.2,{y:"+=10",yoyo:!0,ease:Sine.easeInOut,repeat:-1})],0),this.lincBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lincEyelids.alpha=0,this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1),this.lincBlinkAnimation.call(Game.playSound,["blink-noise"],this,1),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.6),this.lincBlinkAnimation.call(Game.playSound,["blink-noise"],this,1.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),4.6),this.lincBlinkAnimation.call(Game.playSound,["blink-noise"],this,4.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),6.6),this.lincBlinkAnimation.call(Game.playSound,["blink-noise"],this,6.6),this.lincArmsAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lincArmsAnimation.add(TweenMax.to(this.lincRightArmHolder,1.1,{rotation:.2,yoyo:!0,ease:Sine.easeInOut,repeat:1}),0),this.lincArmsAnimation.add(TweenMax.to(this.lincRightArmOverlay,1.1,{rotation:.2,yoyo:!0,ease:Sine.easeInOut,repeat:1}),0),this.lincArmsAnimation.add(TweenMax.to(this.lincLeftArmHolder,1.2,{rotation:-.2,yoyo:!0,ease:Sine.easeInOut,repeat:1,delay:0}),.2),this.lincArmsAnimation.add(TweenMax.to(this.lincLeftArmOverlay,1.2,{rotation:-.2,yoyo:!0,ease:Sine.easeInOut,repeat:1,delay:0}),.2),this.lincArmsAnimation.timeScale(3.5),this.lincEyebrowAnimation=new TimelineMax({repeat:-1}),this.lincEyebrowAnimation.add(TweenMax.to(this.lincRightEyebrow.position,2.5,{y:"-=10",yoyo:!0,ease:Quad.easeInOut,repeat:1}),0),this.lincEyebrowAnimation.add(TweenMax.to(this.lincLeftEyebrow.position,2.5,{y:"-=5",yoyo:!0,ease:Quad.easeInOut,repeat:1}),0),this.lincMouthAnimation=new TimelineMax({repeat:-1}),this.lincMouthAnimation.add(TweenMax.to(this.lincMouth.position,1,{y:"-=4",yoyo:!0,ease:Sine.easeOut,repeat:1}),0),this.lincMouthAnimation.timeScale(3.5),this.lincEyesAnimation=new TimelineMax({repeat:-1}),this.lincEyesAnimation.add(TweenMax.to(this.lincLeftEye.position,2.5,{y:"+=5",yoyo:!0,ease:Quad.easeInOut,repeat:1}),0),this.lincEyesAnimation.add(TweenMax.to(this.lincRightEye.position,2.5,{y:"+=5",yoyo:!0,ease:Quad.easeInOut,repeat:1}),0),this.lincEyesAnimation.add(TweenMax.to(this.lincLeftEye.position,2.5,{y:"-=5",yoyo:!0,ease:Quad.easeInOut,repeat:1}),2.5),this.lincEyesAnimation.add(TweenMax.to(this.lincRightEye.position,2.5,{y:"-=5",yoyo:!0,ease:Quad.easeInOut,repeat:1}),2.5),this.lincHeadAnimation=new TimelineMax({repeat:-1}),this.lincHeadAnimation.add(TweenMax.to(this.lincHeadHolder,3,{rotation:.05,yoyo:!0,ease:Sine.easeInOut,repeat:1}),0),this.lincHeadAnimation.timeScale(3.5),this.lincBreathingAnimation=new TimelineMax({repeat:-1}),this.lincBreathingAnimation.add(TweenMax.to(this.lincHolder.scale,3,{y:.98,yoyo:!0,ease:Sine.easeInOut,repeat:1}),0),this.lincBreathingAnimation.add(TweenMax.to(this.lincHolder.position,1,{y:"-=30",yoyo:!0,ease:Sine.easeOut,repeat:-1}),0),this.lincBreathingAnimation.timeScale(3.5),this.animation.add([TweenMax.from(this.logo.scale,1.5,{x:0,y:0,ease:Elastic.easeOut,delay:.2}),TweenMax.from(this.logo,1.5,{rotation:.5,ease:Elastic.easeOut,delay:.2}),TweenMax.from(this.logo.position,1.5,{y:"+=100",ease:Elastic.easeOut,delay:.2})],.5),this.animation.add([TweenMax.from(this.lincOuterHolder.position,.5,{y:"+=400",ease:Power2.easeOut}),TweenMax.from(this.lincOuterHolder.scale,.5,{x:.7,y:.7,ease:Power2.easeOut})],.5),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.clickToPlayAnimation=new TimelineMax({}),this.clickToPlay.alpha=0,this.loudHouseLogo.alpha=0,this.clickToPlayAnimation.add(TweenMax.to(this.clickToPlay,1,{alpha:1,ease:Quad.easeOut}),3),this.clickToPlayAnimation.add(TweenMax.to(this.clickToPlay,.8,{alpha:.5,ease:Sine.easeInOut,yoyo:!0,repeat:-1}),4),this.clickToPlayAnimation.add(TweenMax.to(this.loudHouseLogo,.5,{alpha:1,ease:Quad.easeOut}),3.5),this.clickToPlayAnimation.add(TweenMax.from(this.loudHouseLogo.scale,.5,{x:0,y:0,ease:Power2.easeOut}),3.5),this.container.addChild(this.clickToPlay),this.container.addChild(this.loudHouseLogo),this.container.addChild(this.titleBlankInput),this.setUpHitArea()},b.prototype.setUpHitArea=function(){this.titleBlankInput.interactive=!0,this.titleBlankInput.buttonMode=!0;var a=this;Game.onDesktop?this.titleBlankInput.on("mouseup",function(b){Game.playSound("button-click-ui"),a.game.setScene("loudLaundryIntro1Scene",!1)}):this.titleBlankInput.on("touchend",function(b){Game.playSound("button-click-ui"),a.game.setScene("loudLaundryIntro1Scene",!1)})},b.prototype.activatePlayButton=function(a){a.game.ui.addCustomUIButton(a.largePlayButton,!1,!0)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"playbuttonlarge":this.game.setScene("loudLaundryIntro1Scene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this),this.bubbleManager.tick()},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this),Game.pauseSound("guitar-riff"),Game.pauseSound("washing-machine-loop"),Game.pauseSound("water-sploshing-loop")},b.prototype.resume=function(){a.prototype.resume.call(this),Game.resumeSound("guitar-riff"),Game.resumeSound("washing-machine-loop"),Game.resumeSound("water-sploshing-loop")},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.bubbleManager.destroy(),this.animation=this.killTween(this.animation),this.lincBlinkAnimation=this.killTween(this.lincBlinkAnimation),this.lincArmsAnimation=this.killTween(this.lincArmsAnimation),this.lincEyebrowAnimation=this.killTween(this.lincEyebrowAnimation),this.lincEyesAnimation=this.killTween(this.lincEyesAnimation),this.lincBreathingAnimation=this.killTween(this.lincBreathingAnimation),this.clickToPlayAnimation=this.killTween(this.clickToPlayAnimation),this.washingMachineAnimation=this.killTween(this.washingMachineAnimation),this.lincMouthAnimation=this.killTween(this.lincMouthAnimation),this.titleBlankInput.removeAllListeners(),Game.stopSound("guitar-riff"),Game.stopSound("washing-machine-loop"),Game.stopSound("water-sploshing-loop")},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},HubScene=function(a){function b(b){a.call(this,b),this.id="hubScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),this.game.ui.setUI("hub"),Game.playSound("relaxing"),Game.setSoundVolume("relaxing",0),Game.fadeSound("relaxing",1,.3),this.game.ui.leftButton.visible=!0,this.game.ui.rightButton.visible=!0,this.game.ui.leftButton.position.x=-200,this.game.ui.rightButton.position.x=1152,this.clickAllowed=!1,this.foodArmHolder=Game.displayStore.getContainer("hub-arm-food-holder"),this.geoArmHolder=Game.displayStore.getContainer("hub-arm-geo-holder"),this.laundryArmHolder=Game.displayStore.getContainer("hub-arm-laundry-holder"),this.trashArmHolder=Game.displayStore.getContainer("hub-arm-trash-holder"),this.foodArm=this.foodArmHolder.getSprite("title-food-arm"),this.geoArm=this.geoArmHolder.getSprite("title-geo-arm"),this.laundryArm=this.laundryArmHolder.getSprite("title-laundry-arm"),this.trashArm=this.trashArmHolder.getSprite("title-trash-arm"),this.geoLogoTorch=Game.displayStore.getSprite("hub-geo-torch"),this.foodArmHolder.position.x=950,this.foodArmHolder.position.y=1050,this.foodArmHolder.alpha=0,this.geoArmHolder.position.x=1400,this.geoArmHolder.position.y=1600,this.geoArmHolder.alpha=0,this.laundryArmHolder.position.x=1975,this.laundryArmHolder.position.y=1100,this.laundryArmHolder.alpha=0,this.trashArmHolder.position.x=2515,this.trashArmHolder.position.y=1700,this.trashArmHolder.alpha=0,this.currentFrame=0,this.previousFrame=0,this.hidePosition=1e3,this.leftThrowStart=-400,this.rightThrowStart=1424,this.rightThrowFinish=-400,this.leftThrowFinish=1424,this.currentFrameX=450,this.currentFrameY=275,this.targetFrameX=0,this.targetFrameY=0,this.clickToPlay=Game.displayStore.getSprite("title-click-anywhere-to-play"),this.clickToPlay.alpha=0,this.clickToPlay.position.x=Game.stageWidth/2,this.clickToPlay.position.y=540,this.backgroundFrame1=Game.displayStore.getSprite("blank-hub-frame"),this.backgroundFrame2=Game.displayStore.getSprite("blank-hub-frame-2"),this.backgroundFrame3=Game.displayStore.getSprite("blank-hub-frame-3"),this.backgroundFrame4=Game.displayStore.getSprite("blank-hub-frame-2"),this.backgroundFrame5=Game.displayStore.getSprite("blank-hub-frame"),this.backgroundFrame6=Game.displayStore.getSprite("blank-hub-frame-2"),this.backgroundFrame7=Game.displayStore.getSprite("blank-hub-frame"),this.backgroundFrame8=Game.displayStore.getSprite("blank-hub-frame-3"),this.backgroundFrame9=Game.displayStore.getSprite("blank-hub-frame"),this.backgroundFrame10=Game.displayStore.getSprite("blank-hub-frame-2"),this.backgroundFrame1.position.x=800,this.backgroundFrame1.position.y=0,this.backgroundFrame2.position.x=500,this.backgroundFrame2.position.y=800,this.backgroundFrame3.position.x=1600,this.backgroundFrame3.position.y=500,this.backgroundFrame4.position.x=2100,this.backgroundFrame4.position.y=900,this.backgroundFrame5.position.x=3e3,this.backgroundFrame5.position.y=500,this.backgroundFrame6.position.x=100,this.backgroundFrame6.position.y=200,this.backgroundFrame7.position.x=800,this.backgroundFrame7.position.y=900,this.backgroundFrame8.position.x=2550,this.backgroundFrame8.position.y=400,this.backgroundFrame9.position.x=3500,this.backgroundFrame9.position.y=900,this.backgroundFrame10.position.x=3200,this.backgroundFrame10.position.y=900,this.hubBlankInput=Game.displayStore.getSprite("hub-blank-input"),this.hubBlankInput.width=Game.stageWidth,this.hubBlankInput.height=Game.stageHeight,this.loudLaundryLogo=this.laundryArmHolder.getSprite("title-loud-laundry-logo"),this.foodFightLogo=this.foodArmHolder.getSprite("title-food-fight-logo"),this.geoRollLogo=this.geoArmHolder.getSprite("title-geo-roll-logo"),this.takingTrashLogo=this.trashArmHolder.getSprite("title-taking-trash-logo"),this.loudLaundryLogo.scale=new PIXI.Point(.5,.5),this.geoRollLogo.scale=new PIXI.Point(.5,.5),this.takingTrashLogo.scale=new PIXI.Point(.5,.5),this.foodFightLogo.scale=new PIXI.Point(.6,.6),this.hallHolder=Game.displayStore.getContainer("hub-hall-holder"),this.hallHolder.width=4*Game.stageWidth,this.hallHolder.height=3*Game.stageHeight,this.gameFrameArray=new Array,this.gameFrameArray.push({id:"foodFight",sprite:this.hallHolder.getSprite("food-fight-hub-frame"),targetX:0,targetY:0,initStateX:200,initStateY:200}),this.gameFrameArray.push({id:"geoRoll",sprite:this.hallHolder.getSprite("geo-roll-hub-frame"),targetX:0,targetY:0,initStateX:0,initStateY:450}),this.gameFrameArray.push({id:"loudLaundry",sprite:this.hallHolder.getSprite("loud-laundry-hub-frame"),targetX:0,targetY:0,initStateX:800,initStateY:180}),this.gameFrameArray.push({id:"takingTrash",sprite:this.hallHolder.getSprite("taking-trash-hub-frame"),targetX:0,targetY:0,initStateX:800,initStateY:400}),this.geoLogoTorch.position.x=this.gameFrameArray[1].sprite.position.x+70,this.geoLogoTorch.position.y=this.gameFrameArray[1].sprite.position.y,this.geoLogoTorch.blendMode=PIXI.BLEND_MODES.ADD,this.geoLogoTorch.alpha=0;for(var c=0;c<this.gameFrameArray.length;c++)this.gameFrameArray[c].targetX=this.gameFrameArray[c].sprite.position.x,this.gameFrameArray[c].targetY=this.gameFrameArray[c].sprite.position.y;this.geoDark=Game.displayStore.getSprite("geo-dark"),this.geoDark.width=1.5*Game.stageWidth,this.geoDark.height=1.5*Game.stageHeight,this.geoDark.position.x=this.gameFrameArray[1].targetX,this.geoDark.position.y=this.gameFrameArray[1].targetY,this.geoNightTimeline=new TimelineMax,this.geoDark.alpha=0,this.hallHolder.scale.y=1.1,this.hallHolder.scale.x=1.1,this.throwableItemsArray=new Array,this.throwableItemsArray.push({id:"hub-white-sock",sprite:Game.displayStore.getSprite("hub-white-sock"),active:!1,assetGroup:"laundry",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray.push({id:"hub-coloured-sock",sprite:Game.displayStore.getSprite("hub-coloured-sock"),active:!1,assetGroup:"laundry",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.throwableItemsArray.push({id:"hub-tshirt-coloured",sprite:Game.displayStore.getSprite("hub-tshirt-coloured"),active:!1,assetGroup:"laundry",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray.push({id:"hub-tshirt-coloured-2",sprite:Game.displayStore.getSprite("hub-tshirt-coloured-2"),active:!1,assetGroup:"laundry",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.throwableItemsArray.push({id:"hub-stitches-coloured",sprite:Game.displayStore.getSprite("hub-stitches-coloured"),active:!1,assetGroup:"laundry",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray.push({id:"hub-pants-coloured",sprite:Game.displayStore.getSprite("hub-pants-coloured"),active:!1,assetGroup:"laundry",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.throwableItemsArray.push({id:"hub-geo-torch",sprite:Game.displayStore.getSprite("hub-geo-torch"),active:!1,assetGroup:"geo",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray.push({id:"hub-geo-torch-2",sprite:Game.displayStore.getSprite("hub-geo-torch"),active:!1,assetGroup:"geo",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.throwableItemsArray.push({id:"hub-pancake",sprite:Game.displayStore.getSprite("hub-pancake"),active:!1,assetGroup:"food",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.throwableItemsArray.push({id:"hub-pizza1",sprite:Game.displayStore.getSprite("hub-pizza1"),active:!1,assetGroup:"food",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray.push({id:"hub-cheese",sprite:Game.displayStore.getSprite("hub-cheese"),active:!1,assetGroup:"food",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.throwableItemsArray.push({id:"hub-hotdog2",sprite:Game.displayStore.getSprite("hub-hotdog2"),active:!1,assetGroup:"food",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray.push({id:"hub-lolly",sprite:Game.displayStore.getSprite("hub-lolly"),active:!1,assetGroup:"food",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.throwableItemsArray.push({id:"hub-pizza2",sprite:Game.displayStore.getSprite("hub-pizza2"),active:!1,assetGroup:"food",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray.push({id:"hub-hotdog",sprite:Game.displayStore.getSprite("hub-hotdog"),active:!1,assetGroup:"food",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.throwableItemsArray.push({id:"hub-melon",sprite:Game.displayStore.getSprite("hub-melon"),active:!1,assetGroup:"food",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray[6].sprite.alpha=.6,this.throwableItemsArray[7].sprite.alpha=.6,this.throwableItemsArray[6].sprite.blendMode=PIXI.BLEND_MODES.ADD,this.throwableItemsArray[7].sprite.blendMode=PIXI.BLEND_MODES.ADD,this.throwableItemsArray.push({id:"hub-trash-1",sprite:Game.displayStore.getSprite("hub-trash-1"),active:!1,assetGroup:"trash",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray.push({id:"hub-trash-2",sprite:Game.displayStore.getSprite("hub-trash-2"),active:!1,assetGroup:"trash",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.throwableItemsArray.push({id:"hub-trash-3",sprite:Game.displayStore.getSprite("hub-trash-3"),active:!1,assetGroup:"trash",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray.push({id:"hub-trash-4",sprite:Game.displayStore.getSprite("hub-trash-4"),active:!1,assetGroup:"trash",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.throwableItemsArray.push({id:"hub-trash-5",sprite:Game.displayStore.getSprite("hub-trash-5"),active:!1,assetGroup:"trash",startXPosition:this.leftThrowStart,finishXPosition:this.leftThrowFinish}),this.throwableItemsArray.push({id:"hub-trash-6",sprite:Game.displayStore.getSprite("hub-trash-6"),active:!1,assetGroup:"trash",startXPosition:this.rightThrowStart,finishXPosition:this.rightThrowFinish}),this.hallBackground=new Array;for(var c=0;c<8;c++)this.hallBackground.push({sprite:Game.displayStore.getSprite("wall-background-hub")}),this.hallBackground[c].sprite.height=1350,this.hallBackground[c].sprite.position.x=this.hallBackground[c].sprite.width*c,this.hallBackground[c].sprite.position.y=0,this.hallHolder.addChildAt(this.hallBackground[c].sprite,0);this.currentFrame=Game.getRandom(0,this.gameFrameArray.length-1,!0),this.hallHolder.setRegPointPixels(this.gameFrameArray[this.currentFrame].targetX,this.gameFrameArray[this.currentFrame].targetY,!0),this.hallHolder.position.x=Game.stageWidth/2,this.hallHolder.position.y=Game.stageHeight/2,this.hallHolder.addChild(this.backgroundFrame1),this.hallHolder.addChild(this.backgroundFrame2),this.hallHolder.addChild(this.backgroundFrame3),this.hallHolder.addChild(this.backgroundFrame4),this.hallHolder.addChild(this.backgroundFrame5),this.hallHolder.addChild(this.backgroundFrame6),this.hallHolder.addChild(this.backgroundFrame7),this.hallHolder.addChild(this.backgroundFrame8),this.hallHolder.addChild(this.backgroundFrame9),this.hallHolder.addChild(this.backgroundFrame10),this.container.addChild(this.hallHolder);for(var c=0;c<this.throwableItemsArray.length;c++)this.throwableItemsArray[c].sprite.position.x=this.throwableItemsArray[c].startXPosition,this.throwableItemsArray[c].sprite.position.y=400,this.throwableItemsArray[c].sprite.scale.x=2,this.throwableItemsArray[c].sprite.scale.y=2;this.hallHolder.addChild(this.foodArmHolder),this.hallHolder.addChild(this.geoArmHolder),this.hallHolder.addChild(this.laundryArmHolder),this.hallHolder.addChild(this.trashArmHolder),this.hallHolder.addChild(this.geoDark),this.hallHolder.addChild(this.geoLogoTorch);for(var c=0;c<this.throwableItemsArray.length;c++)this.container.addChild(this.throwableItemsArray[c].sprite);this.container.addChild(this.clickToPlay),this.container.addChild(this.hubBlankInput),this.setUpHitArea(this.currentFrame),this.hallHolderAnimation=new TimelineMax,this.armTimeline=new TimelineMax,this.geoTorchTimeline=new TimelineMax,this.hallHolderAnimation.add([TweenMax.from(this.hallHolder.scale,2,{x:.5,y:.5,ease:Power1.easeInOut,delay:.6,onComplete:this.allowClick,onCompleteParams:[this]}),TweenMax.from(this.hallHolder.position,2,{x:this.gameFrameArray[this.currentFrame].initStateX,y:this.gameFrameArray[this.currentFrame].initStateY,ease:Back.easeInOut,delay:.6}),TweenMax.delayedCall(2.3,this.showPlay,null,this)],0),this.hallHolderAnimation.call(function(){Game.playSound("woosh-3")},null,this,.6),this.hallHolderAnimation.add([TweenMax.to(this.hallHolder.scale,5,{x:"+=0.07",y:"+=0.07",yoyo:!0,ease:Back.easeInOut,repeat:-1}),TweenMax.to(this.hallHolder.position,3,{x:"+=50",y:"+=20",yoyo:!0,ease:Back.easeInOut,repeat:-1}),TweenMax.to(this.hallHolder,3,{rotation:.02,yoyo:!0,ease:Power1.easeInOut,repeat:-1})])},b.prototype.allowClick=function(a){a.clickAllowed=!0},b.prototype.setUpHitArea=function(a){this.hubBlankInput.interactive=!0,this.hubBlankInput.buttonMode=!0;var b=this;Game.onDesktop?this.hubBlankInput.on("mouseup",function(a){0!=b.clickAllowed&&(b.clickAllowed=!1,Game.playSound("button-click-ui"),b.game.loadAssets(b.currentAssetIDs,!0,function(){b.game.setScene(b.targetSceneID,!1)}))}):this.hubBlankInput.on("touchend",function(a){0!=b.clickAllowed&&(b.clickAllowed=!1,Game.playSound("button-click-ui"),b.game.loadAssets(b.currentAssetIDs,!0,function(){b.game.setScene(b.targetSceneID,!1)}))})},b.prototype.changeHallRegPoint=function(){this.hallHolder.setRegPointPixels(this.gameFrameArray[this.currentFrame].targetX,this.gameFrameArray[this.currentFrame].targetY,!0)},b.prototype.goToFrame=function(){this.hallHolderAnimation=this.killTween(this.hallHolderAnimation),
this.hallHolderAnimation=new TimelineMax;var a=Game.stageWidth/2,b=Game.stageHeight/2;this.targetFrameX=this.gameFrameArray[this.currentFrame].targetX,this.targetFrameY=this.gameFrameArray[this.currentFrame].targetY,this.currentFrameX=this.gameFrameArray[this.previousFrame].targetX,this.currentFrameY=this.gameFrameArray[this.previousFrame].targetY,this.hallHolderAnimation.call(this.hidePlay,null,this),this.hallHolderAnimation.call(function(){Game.playSound("woosh-3")},null,this),this.hallHolderAnimation.add(TweenMax.to(this.hallHolder.scale,.5,{x:.8,y:.8,ease:Power1.easeInOut}));var c=(this.currentFrameX-this.targetFrameX)/2+Game.stageWidth/2,d=(this.currentFrameY-this.targetFrameY)/2+Game.stageHeight/2;this.hallHolderAnimation.add(TweenMax.to(this.hallHolder.position,.7,{x:c,y:d,ease:Power2.easeIn}),"-=0.5"),this.hallHolderAnimation.call(this.changeHallRegPoint,null,this),this.hallHolderAnimation.add(TweenMax.to(this.hallHolder.position,.7,{x:a,y:b,ease:Power2.easeOut})),this.hallHolderAnimation.call(this.hideArm,null,this),this.hallHolderAnimation.add(TweenMax.to(this.hallHolder.scale,.5,{x:1.1,y:1.1,ease:Power2.easeInOut}),"-=0.5"),this.hallHolderAnimation.call(this.showPlay,null,this),this.hallHolderAnimation.add([TweenMax.to(this.hallHolder.scale,5,{x:"+=0.07",y:"+=0.07",yoyo:!0,ease:Back.easeInOut,repeat:-1}),TweenMax.to(this.hallHolder.position,3,{x:"+=50",y:"+=20",yoyo:!0,ease:Back.easeInOut,repeat:-1}),TweenMax.to(this.hallHolder,3,{rotation:.02,yoyo:!0,ease:Power1.easeInOut,repeat:-1})])},b.prototype.setUpThrowHubAsset=function(a){if(this.throwAnimation&&(this.throwAnimation.totalProgress(0),this.throwAnimation=this.killTween(this.throwAnimation)),this.throwAnimation=new TimelineMax,0==this.throwAnimationActive)return void(this.throwAnimation=this.killTween(this.throwAnimation));this.throwAnimation.call(this.throwHubAsset,[a],this)},b.prototype.throwHubAsset=function(a){switch(this.throwAnimation=this.killTween(this.throwAnimation),this.throwAnimation=new TimelineMax,this.currentFrame){case 0:var b="food";break;case 1:var b="geo";break;case 2:var b="laundry";break;case 3:var b="trash"}for(var c=0;c<this.throwableItemsArray.length;c++){if(0==this.throwableItemsArray[c].active&&this.throwableItemsArray[c].assetGroup==b){this.throwableItemsArray[c].active=!0;var d=this.throwableItemsArray[c].sprite,e=this.throwableItemsArray[c];this.animateThrownAsset(d,e,b);break}c==this.throwableItemsArray.length-1&&this.setAllAssetsAvailable(a)}},b.prototype.throwSound=function(){switch(Game.getRandom(1,3,!0)){case 1:this.throwAnimation.call(Game.playSound,["throw-1"],this,.5);break;case 2:this.throwAnimation.call(function(){Game.playSound("throw-2")},null,this,.5);break;case 3:this.throwAnimation.call(function(){Game.playSound("throw-3")},null,this,.5)}},b.prototype.animateThrownAsset=function(a,b,c){TweenMax.set(a.position,{x:b.startXPosition}),"geo"==c?this.throwAnimation.add(TweenMax.to(a,3,{bezier:{type:"soft",values:[{x:b.startXPosition,y:400},{x:512,y:80},{x:b.finishXPosition,y:400}]},ease:Power1.easeIn}),0):(this.throwAnimation.add(TweenMax.to(a,1.1,{bezier:{type:"soft",values:[{x:b.startXPosition,y:400},{x:512,y:80},{x:b.finishXPosition,y:400}]},ease:Power1.easeIn}),0),this.throwAnimation.call(this.throwSound,null,this,.5),this.throwAnimation.add(TweenMax.to(a,1.3,{rotation:"+=1",ease:Power1.easeInOut}),0)),this.throwAnimation.call(this.setAssetInactive,[a],this),this.throwAnimation.call(this.setUpThrowHubAsset,[c],this)},b.prototype.setAssetInactive=function(a){a.active=!1,TweenMax.set(a.position,{x:a.startXPosition})},b.prototype.setAllAssetsAvailable=function(a){for(var b=0;b<this.throwableItemsArray.length;b++)this.throwableItemsArray[b].active=!1;this.throwAnimation.call(this.setUpThrowHubAsset,[a],this)},b.prototype.showPlay=function(){switch(this.currentlyMovingHall=!1,this.logoAnimation=this.killTween(this.logoAnimation),this.armTimeline=this.killTween(this.armTimeline),this.armTimeline=new TimelineMax,this.throwAnimationActive=!0,this.logoAnimation=new TimelineMax,this.logoAnimation.add(TweenMax.to(this.game.ui.leftButton.position,.5,{x:72,scaleX:1,scaleY:1,ease:Power1.easeInOut}),.5),this.logoAnimation.add(TweenMax.to(this.game.ui.rightButton.position,.5,{x:952,scaleX:1,scaleY:1,ease:Power1.easeInOut}),.5),this.logoAnimation.add(TweenMax.to(this.clickToPlay,.5,{alpha:1,ease:Power2.easeOut,repeat:-1,yoyo:!0,repeatDelay:1})),this.currentFrame){case 0:this.throwAssetGroup="food",this.targetSceneID="foodFightTitleScene",this.currentAssetIDs=["title-food-fight-assets","intro-food-fight-assets","food-fight-assets","food-fight-audio"],this.armTimeline.add(TweenMax.to(this.foodArmHolder,.1,{alpha:1})),this.armTimeline.add(TweenMax.to(this.foodArmHolder.position,.3,{y:520,ease:Power1.easeInOut})),this.armTimeline.add(TweenMax.to(this.foodArmHolder.scale,.3,{x:1.1,y:1.1,ease:Power1.easeInOut}),"-=0.2"),this.armTimeline.add(TweenMax.to(this.foodArmHolder.scale,.2,{x:.8,y:.8,ease:Power1.easeInOut}),"-=0"),this.armTimeline.call(function(){Game.playSound("hit-2")},null,this,"-=0"),this.armTimeline.add(TweenMax.to(this.foodArm.position,.3,{y:1060,ease:Power1.easeInOut}),"+=0"),this.armTimeline.add(TweenMax.to(this.gameFrameArray[0].sprite,.5,{rotation:Game.getRandom(-.05,.05),ease:Back.easeInOut}),"-=0.4"),this.armTimeline.add(TweenMax.to(this.gameFrameArray[0].sprite.position,.1,{y:"-=10",yoyo:!0,repeat:1,ease:Power1.easeInOut}),"-=0.4"),this.armTimeline.add(TweenMax.to(this.foodArm,.1,{alpha:0,ease:Power1.easeInOut}));break;case 1:Game.playSound("light-flick"),this.geoNightTimeline.to(this.geoDark,.5,{alpha:.5,ease:Power1.easeInOut}),this.geoNightTimeline.to(this.geoLogoTorch,.5,{alpha:.6,ease:Power1.easeInOut}),this.geoTorchTimeline.add([TweenMax.to(this.geoLogoTorch.position,3,{x:"+=30",y:"+=20",yoyo:!0,repeat:-1,ease:Power1.easeInOut}),TweenMax.to(this.geoLogoTorch.scale,6,{x:"+=0.2",y:"+=0.2",yoyo:!0,repeat:-1,ease:Power1.easeInOut})]),this.throwAssetGroup="geo",this.targetSceneID="geoRollTitleScene",this.currentAssetIDs=["title-geo-roll-assets","intro-geo-roll-assets","geo-roll-assets","geo-roll-audio"],this.armTimeline.add(TweenMax.to(this.geoArmHolder,.1,{alpha:1})),this.armTimeline.add(TweenMax.to(this.geoArmHolder.position,.3,{y:1050,ease:Power1.easeInOut})),this.armTimeline.add(TweenMax.to(this.geoArmHolder.scale,.3,{x:1.1,y:1.1,ease:Power1.easeInOut}),"-=0.2"),this.armTimeline.add(TweenMax.to(this.geoArmHolder.scale,.2,{x:.8,y:.8,ease:Power1.easeInOut}),"-=0"),this.armTimeline.call(function(){Game.playSound("hit-2")},null,this,"-=0"),this.armTimeline.add(TweenMax.to(this.geoArm.position,.3,{y:1600,ease:Power1.easeInOut}),"+=0"),this.armTimeline.add(TweenMax.to(this.gameFrameArray[1].sprite,.5,{rotation:Game.getRandom(-.05,.05),ease:Power1.easeInOut}),"-=0.4"),this.armTimeline.add(TweenMax.to(this.gameFrameArray[1].sprite.position,.1,{y:"-=10",yoyo:!0,repeat:1,ease:Power1.easeInOut}),"-=0.4"),this.armTimeline.add(TweenMax.to(this.geoArm,.1,{alpha:0,ease:Power1.easeInOut}));break;case 2:this.throwAssetGroup="laundry",this.targetSceneID="loudLaundryTitleScene",this.currentAssetIDs=["title-loud-laundry-assets","intro-loud-laundry-assets","loud-laundry-assets","loud-laundry-audio"],this.armTimeline.add(TweenMax.to(this.laundryArmHolder,.1,{alpha:1})),this.armTimeline.add(TweenMax.to(this.laundryArmHolder.position,.3,{y:540,ease:Power1.easeInOut})),this.armTimeline.add(TweenMax.to(this.laundryArmHolder.scale,.3,{x:1.1,y:1.1,ease:Power1.easeInOut}),"-=0.2"),this.armTimeline.add(TweenMax.to(this.laundryArmHolder.scale,.2,{x:.8,y:.8,ease:Power1.easeInOut}),"-=0"),this.armTimeline.call(function(){Game.playSound("hit-2")},null,this,"-=0"),this.armTimeline.add(TweenMax.to(this.laundryArm.position,.3,{y:1100,ease:Power1.easeInOut}),"+=0"),this.armTimeline.add(TweenMax.to(this.gameFrameArray[2].sprite,.5,{rotation:Game.getRandom(-.05,.05),ease:Back.easeInOut}),"-=0.4"),this.armTimeline.add(TweenMax.to(this.gameFrameArray[2].sprite.position,.1,{y:"-=10",yoyo:!0,repeat:1,ease:Power1.easeInOut}),"-=0.4"),this.armTimeline.add(TweenMax.to(this.laundryArm,.1,{alpha:0,ease:Power1.easeInOut}));break;case 3:this.throwAssetGroup="trash",this.targetSceneID="trashTitleScene",this.currentAssetIDs=["title-trash-assets","intro-trash-assets","trash-assets","trash-audio"],this.armTimeline.add(TweenMax.to(this.trashArmHolder,.1,{alpha:1})),this.armTimeline.add(TweenMax.to(this.trashArmHolder.position,.3,{y:1120,ease:Power1.easeInOut})),this.armTimeline.add(TweenMax.to(this.trashArmHolder.scale,.3,{x:1.1,y:1.1,ease:Power1.easeInOut}),"-=0.2"),this.armTimeline.add(TweenMax.to(this.trashArmHolder.scale,.2,{x:.8,y:.8,ease:Power1.easeInOut}),"-=0"),this.armTimeline.call(function(){Game.playSound("hit-2")},null,this,"-=0"),this.armTimeline.add(TweenMax.to(this.trashArm.position,.3,{y:1700,ease:Power1.easeInOut}),"+=0"),this.armTimeline.add(TweenMax.to(this.gameFrameArray[3].sprite,.5,{rotation:Game.getRandom(-.05,.05),ease:Back.easeInOut}),"-=0.4"),this.armTimeline.add(TweenMax.to(this.gameFrameArray[3].sprite.position,.1,{y:"-=10",yoyo:!0,repeat:1,ease:Power1.easeInOut}),"-=0.4"),this.armTimeline.add(TweenMax.to(this.trashArm,.1,{alpha:0,ease:Power1.easeInOut})),this.armTimeline.add(TweenMax.to(this.trashArm,.1,{alpha:0,ease:Power1.easeInOut}))}this.setUpThrowHubAsset(this.throwAssetGroup)},b.prototype.hideArm=function(){TweenMax.set(this.foodArmHolder.position,{x:950,y:1050}),TweenMax.set(this.foodArmHolder,{rotation:Game.getRandom(-.3,.3)}),TweenMax.set(this.foodArm,{alpha:1}),TweenMax.set(this.foodArmHolder,{alpha:0}),TweenMax.set(this.foodArm.position,{y:0}),TweenMax.set(this.gameFrameArray[0].sprite,{rotation:0}),TweenMax.set(this.geoArmHolder.position,{x:1400,y:1600}),TweenMax.set(this.geoArmHolder,{rotation:Game.getRandom(-.3,.3)}),TweenMax.set(this.geoArm,{alpha:1}),TweenMax.set(this.geoArmHolder,{alpha:0}),TweenMax.set(this.geoArm.position,{y:0}),TweenMax.set(this.gameFrameArray[1].sprite,{rotation:0}),TweenMax.set(this.laundryArmHolder.position,{x:1975,y:1100}),TweenMax.set(this.laundryArmHolder,{rotation:Game.getRandom(-.3,.3)}),TweenMax.set(this.laundryArm,{alpha:1}),TweenMax.set(this.laundryArmHolder,{alpha:0}),TweenMax.set(this.laundryArm.position,{y:0}),TweenMax.set(this.gameFrameArray[2].sprite,{rotation:0}),TweenMax.set(this.trashArmHolder.position,{x:2515,y:1700}),TweenMax.set(this.trashArmHolder,{rotation:Game.getRandom(-.3,.3)}),TweenMax.set(this.trashArm,{alpha:1}),TweenMax.set(this.trashArmHolder,{alpha:0}),TweenMax.set(this.trashArm.position,{y:0}),TweenMax.set(this.gameFrameArray[3].sprite,{rotation:0})},b.prototype.hidePlay=function(){switch(this.geoNightTimeline.to(this.geoDark,.5,{alpha:0,ease:Power1.easeInOut}),this.geoNightTimeline.to(this.geoLogoTorch,.5,{alpha:0,ease:Power1.easeInOut}),this.logoAnimation=this.killTween(this.logoAnimation),this.logoAnimation=new TimelineMax,this.throwAnimationActive=!1,this.logoAnimation.add(TweenMax.to(this.clickToPlay,.5,{alpha:0,ease:Power2.easeOut})),this.previousFrame){case 0:break;case 1:break;case 2:break;case 3:}},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"leftbutton":if(1==this.currentlyMovingHall)return;TweenMax.to(this.game.ui.leftButton.position,.5,{x:-272,scaleX:.5,scaleY:.5,ease:Power1.easeInOut}),TweenMax.to(this.game.ui.rightButton.position,.5,{x:1152,scaleX:.5,scaleY:.5,ease:Power1.easeInOut}),this.currentlyMovingHall=!0,this.previousFrame=this.currentFrame,0==this.currentFrame?this.currentFrame=this.gameFrameArray.length-1:this.currentFrame--,this.goToFrame();break;case"rightbutton":if(1==this.currentlyMovingHall)return;TweenMax.to(this.game.ui.leftButton.position,.5,{x:-272,scaleX:.5,scaleY:.5}),TweenMax.to(this.game.ui.rightButton.position,.5,{x:1152,scaleX:.5,scaleY:.5}),this.currentlyMovingHall=!0,this.previousFrame=this.currentFrame,this.currentFrame==this.gameFrameArray.length-1?this.currentFrame=0:this.currentFrame++,this.goToFrame();break;case"backbutton":break;case"playbutton":}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),Game.stopSound("tune-1-looping"),Game.stopSound("relaxing"),Game.stopSound("throw-1"),Game.stopSound("throw-2"),Game.stopSound("throw-3"),this.animation=this.killTween(this.animation),this.hallHolderAnimation=this.killTween(this.hallHolderAnimation),this.logoAnimation=this.killTween(this.logoAnimation),this.laundryItemAnimation=this.killTween(this.laundryItemAnimation),this.geoNightTimeline=this.killTween(this.geoNightTimeline),this.armTimeline=this.killTween(this.armTimeline),this.throwAnimation=this.killTween(this.throwAnimation),this.geoTorchTimeline=this.killTween(this.geoTorchTimeline),this.hubBlankInput.removeAllListeners(),Game.displayStore.returnPooledItem("hub-geo-torch")},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},GeoRollIntro1Scene=function(a){function b(b){a.call(this,b),this.id="geoRollIntro1Scene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),this.setBackgroundColor(13421772),this.game.ui.setUI("skip"),this.animation=new TimelineMax,this.introContainer=Game.displayStore.getContainer("intro-container"),this.backgroundLeft=this.introContainer.getSprite("background-left"),this.backgroundRight=this.introContainer.getSprite("background-right"),this.dark=Game.displayStore.getSprite("geo-dark"),this.dark.width=Game.stageWidth,this.dark.height=Game.stageHeight,this.dark.alpha=0,this.geo=this.introContainer.getSprite("geo-ball"),this.geoShadow=this.introContainer.getSprite("geo-shadow"),this.geoShadow.scale.x=1.5,this.geo.rotation=-.5,this.introContainer.setRegPointPixels(Game.stageWidth/2,Game.stageHeight,!0),this.switchOff=this.introContainer.getSprite("switch-off"),this.switchOn=this.introContainer.getSprite("switch-on"),this.switchOff.visible=!1,this.sideLinc=this.introContainer.getContainer("side-linc-container"),this.sideHead=this.sideLinc.getSprite("linc-head"),this.sideArmBack=this.sideLinc.getSprite("linc-back-arm"),this.sideArmFront=this.sideLinc.getSprite("linc-front-arm"),this.sideChest=this.sideLinc.getSprite("linc-chest"),this.lincPoint=this.introContainer.getSprite("linc-point"),this.frontLinc=this.sideLinc.getSprite("linc-front"),this.container.addChild(this.introContainer),this.container.addChild(this.dark),this.sideLinc.setRegPointPixels(150,350,!0),this.backgroundRight.position.x=0+this.backgroundLeft.width,this.sideLinc.showOnlyChild(0),this.animation.add([TweenMax.to(this.sideLinc.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1})],0),this.animation.add(TweenMax.to(this.sideLinc.position,2,{x:-360,ease:Power1.easeIn}),1),this.animation.add(TweenMax.to(this.sideLinc.position,.5,{y:"+=10",yoyo:!0,repeat:-1,ease:Power1.easeInOut}),1),this.animation.call(function(){this.frontLinc.visible=!1,this.sideChest.visible=!0,this.sideArmFront.visible=!0,this.sideArmBack.visible=!0,this.sideHead.visible=!0},null,this,1),this.animation.add(TweenMax.to(this.sideArmBack,1.5,{rotation:-1,yoyo:!0,repeat:-1,ease:Power1.easeInOut}),1),this.animation.add(TweenMax.to(this.sideArmFront,1.5,{rotation:1,yoyo:!0,repeat:-1,ease:Power1.easeInOut}),1),this.animation.add(TweenMax.to(this.lincPoint.position,.3,{x:-90,ease:Power1.easeIn}),3),this.animation.add(TweenMax.to(this.lincPoint.position,.3,{y:"+=50",ease:Power1.easeIn}),3.5),this.animation.add(TweenMax.to(this.lincPoint.position,.3,{x:-200,ease:Power1.easeIn}),3.8),this.animation.call(function(){this.switchOff.visible=!0,this.switchOn.visible=!1,this.dark.alpha=.9},null,this,3.7),this.animation.add(TweenMax.to(this.introContainer.scale,1.3,{x:1.1,y:1.1,ease:Power1.easeInOut}),4),this.animation.add(TweenMax.to(this.introContainer.position,1.3,{x:"-=100",y:"-=250",ease:Power1.easeInOut}),4),this.animation.add(TweenMax.to(this.geo.position,2,{x:"+=70",ease:Power1.easeInOut}),4.4),this.animation.add(TweenMax.to(this.geoShadow.position,2,{x:"+=90",ease:Power1.easeInOut}),4.4),this.animation.add(TweenMax.to(this.geo,2,{rotation:.3,ease:Power1.easeInOut}),4.4),this.animation.call(Game.playSound,["linc-going-to-sleep"],this,0),this.animation.call(Game.playSound,["linc-walking-2"],this,1),this.animation.call(Game.setSoundVolume,["linc-walking-2",.5],this,1),this.animation.call(Game.playSound,["boing"],this,3),this.animation.call(Game.playSound,["kick"],this,3.3),this.animation.call(Game.playSound,["light-flick"],this,3.8),this.animation.call(Game.playSound,["woosh-3"],this,4),this.animation.call(Game.playSound,["short-squeek"],this,5),this.animation.call(function(){this.game.setScene("geoRollGameplayScene",!1)},null,this,7),this.animation.timeScale(1.1)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"skipbutton":this.game.setScene("geoRollGameplayScene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation=this.killTween(this.animation),Game.stopSound("linc-going-to-sleep")},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},LoudLaundryIntro1Scene=function(a){function b(b){a.call(this,b),this.id="loudLaundryIntro1Scene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),this.game.ui.setUI("skip"),this.setBackgroundColor(13421772),this.introContainer=Game.displayStore.getContainer("intro-container"),this.lincContainer=this.introContainer.getContainer("linc-container"),this.sisterLeni=this.introContainer.getContainer("sister-leni"),this.sisterLori=this.introContainer.getContainer("sister-lori"),this.sisterLuna=this.introContainer.getContainer("sister-luna"),this.sisterLuan=this.introContainer.getContainer("sister-luan"),this.sisterLynn=this.introContainer.getContainer("sister-lynn"),this.sisterLucy=this.introContainer.getContainer("sister-lucy"),this.sisterLana=this.introContainer.getContainer("sister-lana"),this.sisterLisa=this.introContainer.getContainer("sister-lisa"),this.sisterLola=this.introContainer.getContainer("sister-lola"),this.sisterLily=this.introContainer.getContainer("sister-lola"),this.faceHit=this.introContainer.getSprite("face-hit"),this.faceHit.scale.x=this.faceHit.scale.y=0,this.sisterLeni.showOnlyChild(0),this.sisterLori.showOnlyChild(0),this.sisterLuna.showOnlyChild(0),this.sisterLuan.showOnlyChild(0),this.sisterLynn.showOnlyChild(0),this.sisterLucy.showOnlyChild(0),this.sisterLana.showOnlyChild(0),this.sisterLisa.showOnlyChild(0),this.sisterLola.showOnlyChild(0),this.sisterLeni.setRegPointPixels(37,430,!0),this.sisterLori.setRegPointPixels(210,465,!0),this.sisterLuna.setRegPointPixels(247,530,!0),this.sisterLuan.setRegPointPixels(98,530,!0),this.sisterLynn.setRegPointPixels(-24,526,!0),this.sisterLucy.setRegPointPixels(141,630,!0),this.sisterLana.setRegPointPixels(253,658,!0),this.sisterLisa.setRegPointPixels(7,604,!0),this.sisterLola.setRegPointPixels(31,727,!0),this.sisterLily.setRegPointPixels(158,430,!0),this.introContainer.setRegPointPixels(512,300,!0),this.lincContainer.setRegPointPixels(100,559,!0),this.container.addChild(this.introContainer),this.lincProud=this.lincContainer.getSprite("linc-proud"),this.lincPointing=this.lincContainer.getSprite("linc-pointing"),this.lincPointingArm=this.lincContainer.getSprite("linc-point-arm"),this.lincSad=this.lincContainer.getSprite("linc-sad"),this.lincShocked=this.lincContainer.getSprite("linc-shocked"),this.lincHit=this.lincContainer.getSprite("linc-hit"),this.lincBlink=this.lincContainer.getSprite("linc-shocked-blinc"),this.headItem=this.introContainer.getSprite("head-laundry"),this.faceItem=this.introContainer.getSprite("face-laundry"),this.faceItem.rotation=-.4,this.speechBubble=this.introContainer.getSprite("speech-bubble"),this.speechBubbleIcon=this.introContainer.getSprite("speech-item-laundry"),this.speechBubble.alpha=0,this.speechBubbleIcon.alpha=0,this.speechBubble.scale.x=this.speechBubble.scale.y=0,this.speechBubble.position.y=294,this.speechBubbleIcon.position.y=161,this.lincPointing.visible=!1,this.lincPointingArm.visible=!1,this.lincPointingArm.rotation=.4,this.lincSad.visible=!1,this.lincShocked.visible=!1,this.lincHit.visible=!1,this.lincBlink.visible=!1,this.animation=new TimelineMax,this.animation.add(TweenMax.to(this.lincContainer.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLeni.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLori.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLuna.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLuan.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLynn.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLucy.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLana.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLisa.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLola.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLily.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.from(this.introContainer.scale,1,{x:1.3,y:1.3,ease:Power1.easeInOut}),0),this.animation.call(function(){this.lincContainer.showOnlyChild(2),this.lincPointingArm.visible=!0},null,this,1.5),this.animation.add(TweenMax.to(this.lincPointingArm,.5,{rotation:0,ease:Power1.easeInOut}),1.5),this.animation.add(TweenMax.to(this.speechBubble,.01,{alpha:1}),2),this.animation.add(TweenMax.to(this.speechBubbleIcon,.01,{alpha:1}),2.2),this.animation.add(TweenMax.to(this.speechBubble.position,1,{y:"-=30"}),2.3),this.animation.add(TweenMax.to(this.speechBubbleIcon.position,1,{y:"-=30"}),2.3),this.animation.add(TweenMax.to(this.speechBubble.scale,.5,{x:1,y:1,ease:Back.easeOut}),2),this.animation.add(TweenMax.to(this.introContainer.position,2,{x:90,ease:Power1.easeInOut}),2),this.animation.call(function(){this.sisterLeni.showOnlyChild(1),this.sisterLori.showOnlyChild(1),this.sisterLuna.showOnlyChild(1),this.sisterLuan.showOnlyChild(1),this.sisterLynn.showOnlyChild(1),this.sisterLucy.showOnlyChild(1),this.sisterLana.showOnlyChild(1),this.sisterLisa.showOnlyChild(1),this.sisterLola.showOnlyChild(1)},null,this,5),this.animation.add(TweenMax.to(this.speechBubble,.5,{alpha:0}),5.5),this.animation.add(TweenMax.to(this.speechBubbleIcon,.5,{alpha:0}),5.5),this.animation.add(TweenMax.to(this.speechBubble.position,.5,{y:"+=30"}),5.5),this.animation.add(TweenMax.to(this.speechBubbleIcon.position,.5,{y:"+=30"}),5.5),this.animation.add(TweenMax.to(this.introContainer.position,2,{x:512,ease:Power1.easeInOut}),4.5),this.animation.call(function(){this.lincContainer.showOnlyChild(4)},null,this,7),this.animation.add(TweenMax.to(this.faceItem.position,.4,{x:440,y:290,ease:Power1.easeIn}),7),this.animation.add(TweenMax.to(this.faceItem,.5,{rotation:0,ease:Power1.easeIn}),7),this.animation.add(TweenMax.to(this.faceItem.position,.8,{y:800,ease:Power1.easeIn}),7.4),this.animation.add(TweenMax.to(this.faceItem,.8,{rotation:-1,ease:Power1.easeIn}),7.4),this.animation.add(TweenMax.to(this.faceHit.scale,.1,{x:1,y:1,ease:Back.easeIn}),7.3),this.animation.call(function(){this.lincContainer.showOnlyChild(6)},null,this,7.4),this.animation.call(function(){this.lincContainer.showOnlyChild(4)},null,this,7.6),this.animation.add(TweenMax.to(this.faceHit.scale,.1,{x:0,y:0,ease:Power1.easeIn}),7.5),this.animation.call(function(){this.lincContainer.showOnlyChild(5)},null,this,7.7),this.animation.call(function(){this.lincContainer.showOnlyChild(3)},null,this,9),this.animation.call(Game.playSound,["sisters-talking"],this,0),this.animation.call(Game.setSoundVolume,["sisters-talking",.5],this,0),this.animation.call(Game.playSound,["linc-sounds-fun-right"],this,2.5),this.animation.call(Game.playSound,["bounce-2"],this,2.3),this.animation.call(Game.playSound,["bounce-2"],this,2.4),this.animation.call(Game.stopSound,["sisters-talking"],this,5),this.animation.call(Game.setSoundVolume,["sisters-argue",.5],this,5),this.animation.call(Game.playSound,["sisters-argue"],this,5),this.animation.call(Game.playSound,["sister-get-him"],this,6),this.animation.call(Game.playSound,["throw-4"],this,7),this.animation.call(Game.playSound,["splat-2"],this,7.4),this.animation.call(Game.playSound,["linc-ahh"],this,6.7),this.animation.call(Game.playSound,["linc-this-is-bad"],this,8),this.animation.add(TweenMax.to(this.introContainer.scale,2,{x:1.2,y:1.2,ease:Power1.easeInOut}),8),this.animation.call(function(){this.game.setScene("loudLaundryGameplayScene",!1)},null,this,12),this.animation.timeScale(1.2)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"skipbutton":this.game.setScene("loudLaundryGameplayScene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation=this.killTween(this.animation),Game.stopSound("sisters-argue"),Game.stopSound("linc-this-is-bad"),Game.stopSound("sisters-talking"),Game.stopSound("sisters-talking"),Game.stopSound("linc-sounds-fun-right"),Game.stopSound("bounce-2"),Game.stopSound("bounce-2"),Game.stopSound("sisters-talking"),Game.stopSound("sisters-argue"),Game.stopSound("sisters-argue"),Game.stopSound("sister-get-him"),Game.stopSound("throw-4"),Game.stopSound("splat-2"),Game.stopSound("linc-ahh"),Game.stopSound("linc-this-is-bad")},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},FoodFightIntro1Scene=function(a){function b(b){a.call(this,b),this.id="foodFightIntro1Scene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),this.game.ui.setUI("skip"),this.setBackgroundColor(13421772),this.introContainer=Game.displayStore.getContainer("intro-container"),this.lincContainer=this.introContainer.getContainer("linc-container"),this.sisterLeni=this.introContainer.getContainer("sister-leni"),this.sisterLori=this.introContainer.getContainer("sister-lori"),this.sisterLuna=this.introContainer.getContainer("sister-luna"),this.sisterLuan=this.introContainer.getContainer("sister-luan"),this.sisterLynn=this.introContainer.getContainer("sister-lynn"),this.sisterLucy=this.introContainer.getContainer("sister-lucy"),this.sisterLana=this.introContainer.getContainer("sister-lana"),this.sisterLisa=this.introContainer.getContainer("sister-lisa"),this.sisterLola=this.introContainer.getContainer("sister-lola"),this.sisterLily=this.introContainer.getContainer("sister-lola"),this.faceHit=this.introContainer.getSprite("face-hit"),this.faceHit.scale.x=this.faceHit.scale.y=0,this.sisterLeni.showOnlyChild(0),this.sisterLori.showOnlyChild(0),this.sisterLuna.showOnlyChild(0),this.sisterLuan.showOnlyChild(0),this.sisterLynn.showOnlyChild(0),this.sisterLucy.showOnlyChild(0),this.sisterLana.showOnlyChild(0),this.sisterLisa.showOnlyChild(0),this.sisterLola.showOnlyChild(0),this.sisterLeni.setRegPointPixels(37,430,!0),this.sisterLori.setRegPointPixels(210,465,!0),this.sisterLuna.setRegPointPixels(247,530,!0),this.sisterLuan.setRegPointPixels(98,530,!0),this.sisterLynn.setRegPointPixels(-24,526,!0),this.sisterLucy.setRegPointPixels(141,630,!0),this.sisterLana.setRegPointPixels(253,658,!0),this.sisterLisa.setRegPointPixels(7,604,!0),this.sisterLola.setRegPointPixels(31,727,!0),this.sisterLily.setRegPointPixels(158,430,!0),this.introContainer.setRegPointPixels(512,300,!0),this.lincContainer.setRegPointPixels(100,559,!0),this.container.addChild(this.introContainer),this.lincProud=this.lincContainer.getSprite("linc-proud"),this.lincPointing=this.lincContainer.getSprite("linc-pointing"),this.lincPointingArm=this.lincContainer.getSprite("linc-point-arm"),this.lincSad=this.lincContainer.getSprite("linc-sad"),this.lincShocked=this.lincContainer.getSprite("linc-shocked"),this.lincHit=this.lincContainer.getSprite("linc-hit"),this.lincBlink=this.lincContainer.getSprite("linc-shocked-blinc"),this.headItem=this.introContainer.getSprite("head-food"),this.faceItem=this.introContainer.getSprite("face-food"),this.faceItem.rotation=-.4,this.speechBubble=this.introContainer.getSprite("speech-bubble"),this.speechBubbleIcon=this.introContainer.getSprite("speech-item-food"),this.speechBubble.alpha=0,this.speechBubbleIcon.alpha=0,this.speechBubble.scale.x=this.speechBubble.scale.y=0,this.speechBubble.position.y=294,this.speechBubbleIcon.position.y=161,this.lincPointing.visible=!1,this.lincPointingArm.visible=!1,this.lincPointingArm.rotation=.4,this.lincSad.visible=!1,this.lincShocked.visible=!1,this.lincHit.visible=!1,this.lincBlink.visible=!1,this.animation=new TimelineMax,this.animation.add(TweenMax.to(this.lincContainer.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLeni.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLori.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLuna.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLuan.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLynn.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLucy.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLana.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLisa.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLola.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLily.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.from(this.introContainer.scale,1,{x:1.3,y:1.3,ease:Power1.easeInOut}),0),this.animation.call(function(){this.lincContainer.showOnlyChild(2),this.lincPointingArm.visible=!0},null,this,1.5),this.animation.add(TweenMax.to(this.lincPointingArm,.5,{rotation:0,ease:Power1.easeInOut}),1.5),this.animation.add(TweenMax.to(this.speechBubble,.01,{alpha:1}),2),this.animation.add(TweenMax.to(this.speechBubbleIcon,.01,{alpha:1}),2.3),this.animation.add(TweenMax.to(this.speechBubble.position,1,{y:"-=30"}),2.3),this.animation.add(TweenMax.to(this.speechBubbleIcon.position,1,{y:"-=30"}),2.3),this.animation.add(TweenMax.to(this.speechBubble.scale,.5,{x:1,y:1,ease:Back.easeOut}),2),this.animation.add(TweenMax.to(this.introContainer.position,2,{x:90,ease:Power1.easeInOut}),2),this.animation.call(function(){
this.sisterLeni.showOnlyChild(1),this.sisterLori.showOnlyChild(1),this.sisterLuna.showOnlyChild(1),this.sisterLuan.showOnlyChild(1),this.sisterLynn.showOnlyChild(1),this.sisterLucy.showOnlyChild(1),this.sisterLana.showOnlyChild(1),this.sisterLisa.showOnlyChild(1),this.sisterLola.showOnlyChild(1)},null,this,5),this.animation.call(Game.playSound,["sisters-talking"],this,0),this.animation.call(Game.setSoundVolume,["sisters-talking",.5],this,0),this.animation.call(Game.playSound,["linc-sounds-fun-right"],this,2.5),this.animation.call(Game.playSound,["bounce-2"],this,2.3),this.animation.call(Game.playSound,["bounce-2"],this,2.4),this.animation.call(Game.stopSound,["sisters-talking"],this,5),this.animation.call(Game.setSoundVolume,["sisters-argue",.5],this,5),this.animation.call(Game.playSound,["sisters-argue"],this,5),this.animation.call(Game.playSound,["sister-get-him"],this,6),this.animation.call(Game.playSound,["throw-4"],this,7),this.animation.call(Game.playSound,["splat-2"],this,7.4),this.animation.call(Game.playSound,["linc-ahh"],this,6.7),this.animation.call(Game.playSound,["linc-this-is-bad"],this,8),this.animation.add(TweenMax.to(this.speechBubble,.5,{alpha:0}),5.5),this.animation.add(TweenMax.to(this.speechBubbleIcon,.5,{alpha:0}),5.5),this.animation.add(TweenMax.to(this.speechBubble.position,.5,{y:"+=30"}),5.5),this.animation.add(TweenMax.to(this.speechBubbleIcon.position,.5,{y:"+=30"}),5.5),this.animation.add(TweenMax.to(this.introContainer.position,2,{x:512,ease:Power1.easeInOut}),4.5),this.animation.call(function(){this.lincContainer.showOnlyChild(4)},null,this,7),this.animation.add(TweenMax.to(this.faceItem.position,.4,{x:440,y:290,ease:Power1.easeIn}),7),this.animation.add(TweenMax.to(this.faceItem,.5,{rotation:0,ease:Power1.easeIn}),7),this.animation.add(TweenMax.to(this.faceItem.position,.8,{y:800,ease:Power1.easeIn}),7.4),this.animation.add(TweenMax.to(this.faceItem,.8,{rotation:-1,ease:Power1.easeIn}),7.4),this.animation.add(TweenMax.to(this.faceHit.scale,.1,{x:1,y:1,ease:Back.easeIn}),7.3),this.animation.add(TweenMax.to(this.faceHit.scale,.1,{x:0,y:0,ease:Power1.easeIn}),7.5),this.animation.call(function(){this.lincContainer.showOnlyChild(6)},null,this,7.4),this.animation.call(function(){this.lincContainer.showOnlyChild(4)},null,this,7.6),this.animation.call(function(){this.lincContainer.showOnlyChild(5)},null,this,7.7),this.animation.call(function(){this.lincContainer.showOnlyChild(3)},null,this,9),this.animation.add(TweenMax.to(this.introContainer.scale,2,{x:1.2,y:1.2,ease:Power1.easeInOut}),8),this.animation.call(function(){this.game.setScene("foodFightGameplayScene",!1)},null,this,12),this.animation.timeScale(1.2)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"skipbutton":this.game.setScene("foodFightGameplayScene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation=this.killTween(this.animation),Game.stopSound("sisters-argue"),Game.stopSound("linc-this-is-bad"),Game.stopSound("sisters-talking"),Game.stopSound("sisters-talking"),Game.stopSound("linc-sounds-fun-right"),Game.stopSound("bounce-2"),Game.stopSound("bounce-2"),Game.stopSound("sisters-talking"),Game.stopSound("sisters-argue"),Game.stopSound("sisters-argue"),Game.stopSound("sister-get-him"),Game.stopSound("throw-4"),Game.stopSound("splat-2"),Game.stopSound("linc-ahh"),Game.stopSound("linc-this-is-bad")},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},TrashIntro1Scene=function(a){function b(b){a.call(this,b),this.id="trashIntro1Scene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),this.game.ui.setUI("skip"),this.setBackgroundColor(13421772),this.introContainer=Game.displayStore.getContainer("intro-container"),this.lincContainer=this.introContainer.getContainer("linc-container"),this.sisterLeni=this.introContainer.getContainer("sister-leni"),this.sisterLori=this.introContainer.getContainer("sister-lori"),this.sisterLuna=this.introContainer.getContainer("sister-luna"),this.sisterLuan=this.introContainer.getContainer("sister-luan"),this.sisterLynn=this.introContainer.getContainer("sister-lynn"),this.sisterLucy=this.introContainer.getContainer("sister-lucy"),this.sisterLana=this.introContainer.getContainer("sister-lana"),this.sisterLisa=this.introContainer.getContainer("sister-lisa"),this.sisterLola=this.introContainer.getContainer("sister-lola"),this.sisterLily=this.introContainer.getContainer("sister-lola"),this.faceHit=this.introContainer.getSprite("face-hit"),this.faceHit.scale.x=this.faceHit.scale.y=0,this.sisterLeni.showOnlyChild(0),this.sisterLori.showOnlyChild(0),this.sisterLuna.showOnlyChild(0),this.sisterLuan.showOnlyChild(0),this.sisterLynn.showOnlyChild(0),this.sisterLucy.showOnlyChild(0),this.sisterLana.showOnlyChild(0),this.sisterLisa.showOnlyChild(0),this.sisterLola.showOnlyChild(0),this.sisterLeni.setRegPointPixels(37,430,!0),this.sisterLori.setRegPointPixels(210,465,!0),this.sisterLuna.setRegPointPixels(247,530,!0),this.sisterLuan.setRegPointPixels(98,530,!0),this.sisterLynn.setRegPointPixels(-24,526,!0),this.sisterLucy.setRegPointPixels(141,630,!0),this.sisterLana.setRegPointPixels(253,658,!0),this.sisterLisa.setRegPointPixels(7,604,!0),this.sisterLola.setRegPointPixels(31,727,!0),this.sisterLily.setRegPointPixels(158,430,!0),this.introContainer.setRegPointPixels(512,300,!0),this.lincContainer.setRegPointPixels(100,559,!0),this.container.addChild(this.introContainer),this.lincProud=this.lincContainer.getSprite("linc-proud"),this.lincPointing=this.lincContainer.getSprite("linc-pointing"),this.lincPointingArm=this.lincContainer.getSprite("linc-point-arm"),this.lincSad=this.lincContainer.getSprite("linc-sad"),this.lincShocked=this.lincContainer.getSprite("linc-shocked"),this.lincHit=this.lincContainer.getSprite("linc-hit"),this.lincBlink=this.lincContainer.getSprite("linc-shocked-blinc"),this.headItem=this.introContainer.getSprite("head-trash"),this.faceItem=this.introContainer.getSprite("face-trash"),this.faceItem.rotation=-.4,this.speechBubble=this.introContainer.getSprite("speech-bubble"),this.speechBubbleIcon=this.introContainer.getSprite("speech-item-trash"),this.speechBubble.alpha=0,this.speechBubbleIcon.alpha=0,this.speechBubble.scale.x=this.speechBubble.scale.y=0,this.speechBubble.position.y=294,this.speechBubbleIcon.position.y=161,this.lincPointing.visible=!1,this.lincPointingArm.visible=!1,this.lincPointingArm.rotation=.4,this.lincSad.visible=!1,this.lincShocked.visible=!1,this.lincHit.visible=!1,this.lincBlink.visible=!1,this.animation=new TimelineMax,this.animation.add(TweenMax.to(this.lincContainer.scale,2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLeni.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLori.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLuna.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLuan.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLynn.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLucy.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLana.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLisa.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.animation.add(TweenMax.to(this.sisterLola.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.to(this.sisterLily.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),.1),this.animation.add(TweenMax.from(this.introContainer.scale,1,{x:1.3,y:1.3,ease:Power1.easeInOut}),0),this.animation.call(function(){this.lincContainer.showOnlyChild(2),this.lincPointingArm.visible=!0},null,this,1.5),this.animation.add(TweenMax.to(this.lincPointingArm,.5,{rotation:0,ease:Power1.easeInOut}),1.5),this.animation.add(TweenMax.to(this.speechBubble,.01,{alpha:1}),2),this.animation.add(TweenMax.to(this.speechBubbleIcon,.01,{alpha:1}),2.2),this.animation.add(TweenMax.to(this.speechBubble.scale,.5,{x:1,y:1,ease:Back.easeOut}),2),this.animation.add(TweenMax.to(this.speechBubble.position,1,{y:"-=30"}),2.3),this.animation.add(TweenMax.to(this.speechBubbleIcon.position,1,{y:"-=30"}),2.3),this.animation.add(TweenMax.to(this.introContainer.position,2,{x:90,ease:Power1.easeInOut}),2),this.animation.call(function(){this.sisterLeni.showOnlyChild(1),this.sisterLori.showOnlyChild(1),this.sisterLuna.showOnlyChild(1),this.sisterLuan.showOnlyChild(1),this.sisterLynn.showOnlyChild(1),this.sisterLucy.showOnlyChild(1),this.sisterLana.showOnlyChild(1),this.sisterLisa.showOnlyChild(1),this.sisterLola.showOnlyChild(1)},null,this,5),this.animation.add(TweenMax.to(this.speechBubble,.5,{alpha:0}),5.5),this.animation.add(TweenMax.to(this.speechBubbleIcon,.5,{alpha:0}),5.5),this.animation.add(TweenMax.to(this.speechBubble.position,.5,{y:"+=30"}),5.5),this.animation.add(TweenMax.to(this.speechBubbleIcon.position,.5,{y:"+=30"}),5.5),this.animation.add(TweenMax.to(this.introContainer.position,2,{x:512,ease:Power1.easeInOut}),4.5),this.animation.call(function(){this.lincContainer.showOnlyChild(4)},null,this,7),this.animation.add(TweenMax.to(this.faceItem.position,.4,{x:440,y:290,ease:Power1.easeIn}),7),this.animation.add(TweenMax.to(this.faceItem,.5,{rotation:0,ease:Power1.easeIn}),7),this.animation.add(TweenMax.to(this.faceHit.scale,.1,{x:1,y:1,ease:Back.easeIn}),7.3),this.animation.add(TweenMax.to(this.faceItem.position,.8,{y:800,ease:Power1.easeIn}),7.4),this.animation.add(TweenMax.to(this.faceItem,.8,{rotation:-1,ease:Power1.easeIn}),7.4),this.animation.add(TweenMax.to(this.faceHit.scale,.1,{x:0,y:0,ease:Power1.easeIn}),7.5),this.animation.call(function(){this.lincContainer.showOnlyChild(6)},null,this,7.4),this.animation.call(function(){this.lincContainer.showOnlyChild(4)},null,this,7.6),this.animation.call(function(){this.lincContainer.showOnlyChild(5)},null,this,7.7),this.animation.call(function(){this.lincContainer.showOnlyChild(3)},null,this,9),this.animation.call(Game.playSound,["sisters-talking"],this,0),this.animation.call(Game.setSoundVolume,["sisters-talking",.5],this,0),this.animation.call(Game.playSound,["linc-sounds-fun-right"],this,2.5),this.animation.call(Game.playSound,["bounce-2"],this,2.3),this.animation.call(Game.playSound,["bounce-2"],this,2.4),this.animation.call(Game.stopSound,["sisters-talking"],this,5),this.animation.call(Game.setSoundVolume,["sisters-argue",.5],this,5),this.animation.call(Game.playSound,["sisters-argue"],this,5),this.animation.call(Game.playSound,["sister-get-him"],this,6),this.animation.call(Game.playSound,["throw-4"],this,7),this.animation.call(Game.playSound,["splat-2"],this,7.4),this.animation.call(Game.playSound,["linc-ahh"],this,6.7),this.animation.call(Game.playSound,["linc-this-is-bad"],this,8),this.animation.add(TweenMax.to(this.introContainer.scale,2,{x:1.2,y:1.2,ease:Power1.easeInOut}),8),this.animation.call(function(){this.game.setScene("trashGameplayScene",!1)},null,this,12),this.animation.timeScale(1.2)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"skipbutton":this.game.setScene("trashGameplayScene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation=this.killTween(this.animation),Game.stopSound("sisters-argue"),Game.stopSound("linc-this-is-bad"),Game.stopSound("sisters-talking"),Game.stopSound("sisters-talking"),Game.stopSound("linc-sounds-fun-right"),Game.stopSound("bounce-2"),Game.stopSound("bounce-2"),Game.stopSound("sisters-talking"),Game.stopSound("sisters-argue"),Game.stopSound("sisters-argue"),Game.stopSound("sister-get-him"),Game.stopSound("throw-4"),Game.stopSound("splat-2"),Game.stopSound("linc-ahh"),Game.stopSound("linc-this-is-bad")},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},FoodFightGameplayScene=function(a){function b(b){a.call(this,b),this.maxSpineSpeed=2.2,this.sampleScale=10,this.clearRate=10,this.currentLincHead=0,this.id="foodFightGameplayScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),Game.playSound("rock-2"),Game.setSoundVolume("rock-2",.2),Game.displayStore.flush(["title-food-fight-assets","intro-food-fight-assets"]),this.game.ui.setUI("skip"),this.rotatePoint=new PIXI.Point(Game.stageWidth/2,550),this.activatedPlateAtRound=0,this.crossCurrencyOverlayDisplayed=!1,this.useFilters=!1,this.readyToTakeDamage=!1,this.crossGamePowerupIsActive=!1,this.hitSisterTimes=0,this.heartIsSpawned=!1,this.clearTicker=0,this.splats=[Game.displayStore.getContainer("food-fight/splat-1"),Game.displayStore.getContainer("food-fight/splat-2"),Game.displayStore.getContainer("food-fight/splat-3"),Game.displayStore.getContainer("food-fight/syrup"),Game.displayStore.getContainer("food-fight/sauce")],1==Game.webGL&&1==Game.onDesktop&&(this.useFilters=!0),this.tutorialOverlayHolder=Game.displayStore.getContainer("food-fight-tutorial-overlay"),this.tutorialOn=!0,this.crossCurrencyOverlayHolder=Game.displayStore.getContainer("food-fight-cross-currency-overlay"),this.crossCurrencyOverlayBG=this.crossCurrencyOverlayHolder.getSprite("food-fight-overlay-bg"),this.mainHolder=Game.displayStore.getContainer("food-fight/main-holder"),this.uiLayer=Game.displayStore.getContainer("food-fight/ui-layer"),this.sistersPIPHolder=Game.displayStore.getContainer("food-fight/sisters-pip"),this.sistersPIPHolder.position.x=Game.stageWidth-100,this.sistersPIPHolder.position.y=Game.stageHeight/2,this.hitSwooshHolder=this.sistersPIPHolder.getContainer("food-fight/hit-swoosh"),this.hitSplatHolder=this.sistersPIPHolder.getContainer("food-fight/hit-splat"),this.hitSwooshHolder.alpha=0,this.hitSplatHolder.alpha=0,this.sistersPIP=this.sistersPIPHolder.getContainer("food-fight/sisters-pip-sisters-holder"),this.sistersPIP.setRegPoint(.5,.5),this.sistersPIP.scale=new PIXI.Point(0,0),this.uiLayer.addChild(this.sistersPIPHolder),this.sisterSensor=Game.displayStore.getSprite("food-fight/sister-sensor-sprite"),this.sisterSensor.width=100,this.sisterSensor.height=450,this.score=0,this.lincVelocity=0,this.lincStanding=!0,this.heartPowerupHolder=Game.displayStore.getContainer("food-fight/heart-powerup"),this.heartPowerupHolder.visible=!1,this.health=new FoodFightHealth(this),this.lincTableBack=Game.displayStore.getSprite("food-fight/table-left-back"),this.lincTableFront=Game.displayStore.getContainer("food-fight/table-left-front"),this.lincTableBack.scale.x=-1,this.lincTableFront.scale.x=-1,this.lincolnSlider=Game.displayStore.getSprite("food-fight/grey-sprite"),this.lincolnHeadContainer=Game.displayStore.getContainer("food-fight/lincoln-head"),this.lincolnEyelids=this.lincolnHeadContainer.getContainer("food-fight/linc-head-idle").getSpriteAt(1),this.lincolnTorsoSpine=Game.displayStore.getSpine("food-fight/linc-torso-spine"),this.lincolnTorsoSpineHolder=Game.displayStore.getContainer("food-fight/linc-torso-spine-holder"),this.lincolnArmBackSprite=Game.displayStore.getSprite("food-fight/lincoln-arm-back"),this.lincolnArm=Game.displayStore.getContainer("food-fight/lincoln-arm"),this.platter=this.lincolnArm.getContainer("food-fight/lincoln-platter"),this.platter.getSpriteAt(0).blendMode=PIXI.BLEND_MODES.ADD,this.platter.getSpriteAt(2).blendMode=PIXI.BLEND_MODES.ADD,this.platter.getSpriteAt(2).scale=new PIXI.Point(0,0),this.platter.alpha=0,this.platter.scale=new PIXI.Point(0,0),this.lincolnEyelids.alpha=0,this.platePile=Game.displayStore.getSprite("food-fight/plate-pile.png"),this.blinkTimeline=new TimelineMax({repeat:-1}),this.blinkTimeline.add(TweenMax.to(this.lincolnEyelids,.02,{alpha:1,repeat:1,repeatDelay:.1,yoyo:!0}),1),this.blinkTimeline.add(TweenMax.to(this.lincolnEyelids,.02,{alpha:1,repeat:1,repeatDelay:.1,yoyo:!0}),2),this.blinkTimeline.add(TweenMax.to(this.lincolnEyelids,.02,{alpha:1,repeat:1,repeatDelay:.1,yoyo:!0}),6),this.lincolnTorsoSpineHolder.addChild(this.lincolnTorsoSpine),this.lincolnTorsoSpine.position.x=-13,this.lincolnTorsoSpine.position.y=61,this.lincolnTorsoSpine.scale=new PIXI.Point(1.3,1.3),this.lincolnTorsoSpine.setAnim("walk-headless",!0),this.lincolnTorsoSpine.state.timeScale=1.6,this.fortFront=Game.displayStore.getSprite("food-fight/fort-front"),this.sisterTableBack=Game.displayStore.getSprite("food-fight/table-right-back"),this.greenGlow=Game.displayStore.getSprite("food-fight/green-glow"),this.greenGlow.height=300,this.greenGlow.blendMode=1,this.greenGlow.position.x=Game.stageWidth+35,this.greenGlow.position.y=300,this.greenGlow.scale.x=0,this.greenGlow.rotation=.2,this.splatRenderTexture=new PIXI.RenderTexture(Game.renderer,2e3,900),this.lowResRenderTexture=new PIXI.RenderTexture(Game.renderer,2e3/this.sampleScale,900/this.sampleScale),this.lowResRenderTexture2=new PIXI.RenderTexture(Game.renderer,2e3/this.sampleScale,900/this.sampleScale),this.splatRenderTextureSprite=new Sprite(this.splatRenderTexture),this.splatRenderTextureSprite.id="food-fight-assets",this.lowResRenderTextureSprite=new Sprite(this.lowResRenderTexture),this.lowResRenderTextureSprite.id="food-fight-assets",this.lowResRenderTextureSprite.position.y=-325,this.lowResRenderTextureSprite.scale=new PIXI.Point(this.sampleScale,this.sampleScale),this.lowResRenderTextureSprite.blendMode=PIXI.BLEND_MODES.ADD,this.splatsHolder=Game.displayStore.getContainer("food-fight/splats-container");for(var c=0;c<this.splats.length;c++)this.splatsHolder.addChild(this.splats[c]),this.splats[c].alpha=0;this.container.addChild(this.mainHolder),this.container.addChild(this.uiLayer),this.mainHolder.addChild(this.splatRenderTextureSprite),this.mainHolder.addChild(this.splatsHolder),this.mainHolder.addChild(this.heartPowerupHolder),this.mainHolder.addChild(this.sisterTableBack),this.mainHolder.addChild(this.lincTableBack),this.mainHolder.addChild(this.lincolnArmBackSprite),this.mainHolder.addChild(this.lincolnTorsoSpineHolder),this.mainHolder.addChild(this.lincolnHeadContainer),this.mainHolder.addChild(this.lincolnArm),this.uiLayer.addChild(this.health.container),this.scoreHolder=Game.displayStore.getContainer("food-fight/score-holder"),this.scoreText=Game.displayStore.getBitmapText("score-font"),this.scoreChangeText=Game.displayStore.getBitmapText("score-change-font"),this.scoreText.text=this.score.toString(),this.scoreText.position.x=-10-this.scoreText.width/2,this.scoreText.position.y=-43,this.scoreText.rotation=this.scoreChangeText.rotation=-.1,this.scoreChangeText.alpha=0,this.scoreHolder.scale=new PIXI.Point(0,0),TweenMax.to(this.scoreHolder.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.5}),this.scoreHolder.addChild(this.scoreText),this.scoreHolder.addChild(this.scoreChangeText),this.uiLayer.addChild(this.greenGlow),this.uiLayer.addChild(this.scoreHolder),this.foodRoundsManager=new FoodRoundsManager(this),this.foodProjectilesHolder=Game.displayStore.getContainer("food-fight/food-projectiles-container"),this.foodProjectilesHolder.addChild(this.lowResRenderTextureSprite),this.physicsManager=new FoodFightPhysicsManager(this,this.mainHolder),this.physicsManager.initPhysicsWorld(),this.physicsManager.bindSpriteToBody(this.lincolnTorsoSpineHolder,this.physicsManager.lincolnTorsoBody),this.physicsManager.bindSpriteToBody(this.lincolnArm,this.physicsManager.lincolnArmBody),this.physicsManager.bindSpriteToBody(this.lincolnHeadContainer,this.physicsManager.lincolnHeadBody),this.physicsManager.bindSpriteToBody(this.sisterSensor,this.physicsManager.sisterSensorBody),this.physicsManager.bindSpriteToBody(this.fortFront,this.physicsManager.sisterTableBody),this.physicsManager.bindSpriteToBody(this.lincTableFront,this.physicsManager.lincTableBody),this.inputManager=new FoodFightInputManager(this,this.rotatePoint),this.container.addChild(this.tutorialOverlayHolder),this.lastLincXPos=205},b.prototype.activateGiantPlate=function(){this.giantPlateTimeline&&this.giantPlateTimeline.kill(),this.giantPlateTimeline=new TimelineMax,this.activatedPlateAtRound=this.foodRoundsManager.roundCount;var a=this.platter.getSpriteAt(2);a.rotation=0,a.scale=new PIXI.Point(0,0),a.alpha=1,this.crossGamePowerupIsActive=!0,this.platter.scale=new PIXI.Point(0,0),this.platter.alpha=0,this.giantPlateTimeline.add([TweenMax.to(this.platter.scale,1,{ease:Elastic.easeOut,x:1,y:1}),TweenMax.to(this.platter,.2,{ease:Power1.easeOut,alpha:1})]),this.giantPlateTimeline.call(this.setLincHead,[0],this,.2),this.giantPlateTimeline.call(this.setLincHead,[3],this,3),this.giantPlateTimeline.add(TweenMax.to(a,2,{rotation:2*Math.PI,ease:Power1.easeOut}),0),this.giantPlateTimeline.add(TweenMax.to(a.scale,1,{x:2,y:2,ease:Elastic.easeOut}),.1),this.giantPlateTimeline.add(TweenMax.to(a,.5,{alpha:0,ease:Power1.easeOut}),.5),this.physicsManager.addGiantPlate(),Game.playSound("linc-awesome"),Game.playSound("powerup",.8)},b.prototype.deactivateGiantPlate=function(){this.giantPlateTimeline&&this.giantPlateTimeline.kill(),this.giantPlateTimeline=new TimelineMax({delay:.2});this.platter.getSpriteAt(2);this.crossGamePowerupIsActive=!1,this.giantPlateTimeline.add([TweenMax.to(this.platter.scale,.5,{ease:Back.easeIn,x:0,y:0}),TweenMax.to(this.platter,.1,{ease:Power1.easeOut,alpha:0,delay:.4})]),this.giantPlateTimeline.call(this.setLincHead,[2],this,1),this.giantPlateTimeline.call(this.setLincHead,[3],this,2.5),this.physicsManager.removeGiantPlate(),Game.playSound("linc-sigh")},b.prototype.addProjectilesAboveTable=function(){this.mainHolder.addChildAt(this.foodProjectilesHolder,this.mainHolder.getChildIndex(this.lincTableFront)),this.mainHolder.addChild(this.platePile)},b.prototype.addProjectilesBelowTable=function(){this.mainHolder.addChildAt(this.foodProjectilesHolder,this.mainHolder.getChildIndex(this.lincTableFront)-1),this.mainHolder.addChild(this.platePile)},b.prototype.addSisterToTop=function(a){this.mainHolder.addChildAt(a,this.mainHolder.getChildIndex(this.fortFront)-1)},b.prototype.deflectProjectile=function(){this.updateScore(this,1),Game.playSound("ding-done")},b.prototype.foodHitsPlate=function(a){var b=Game.getRandom(0,1,!0),c=["plate-hit","plate-hit-2"];Game.playSound(c[b],a)},b.prototype.foodHitsLevel=function(a){var b=4*a;b>1&&(b=1),Game.playSound("step-"+Game.getRandom(1,4,!0),b)},b.prototype.startingRound=function(a){this.readyToTakeDamage=!0,this.hitSisterTimes>2&&this.health.currentHealth<3&&0==this.heartIsSpawned&&(this.spawnHeart(),this.hitSisterTimes=0)},b.prototype.endingRound=function(a){this.foodRoundsManager.roundCount>this.activatedPlateAtRound+3&&this.activatedPlateAtRound>0&&1==this.crossGamePowerupIsActive&&this.deactivateGiantPlate()},b.prototype.clearRenderTexture=function(){this.lowResRenderTexture.clear(),this.lowResRenderTexture2.clear()},b.prototype.setLincHead=function(a){for(var b=0;b<this.lincolnHeadContainer.children.length;b++)this.lincolnHeadContainer.getChildAt(b).alpha=a!=b?0:1;this.currentLincHead=a},b.prototype.updateScore=function(a,b){b&&(a.score+=b),b&&(b>0?(a.scoreChangeText.tint=65280,a.scoreHolder.getSpriteAt(0).tint=65280,a.scoreChangeText.text="+"+b.toString()):(a.scoreChangeText.tint=16711680,a.scoreHolder.getSpriteAt(0).tint=16711680,a.scoreChangeText.text=b.toString())),a.scoreChangeText.alpha=0,a.scoreChangeText.position.y=70,a.scoreTimeline&&a.scoreTimeline.kill(),a.scoreTimeline=new TimelineMax,a.scoreHolder.scale.x=a.scoreHolder.scale.y=.5,a.scoreTimeline.add(TweenMax.to(a.scoreHolder.scale,.5,{x:1,y:1,ease:Elastic.easeOut})),a.scoreTimeline.call(function(){a.scoreHolder.getSpriteAt(0).tint=16777215},null,this,.15),b&&a.scoreTimeline.add(TweenMax.to(a.scoreChangeText,.1,{alpha:1,ease:Power2.easeOut}),0),a.scoreTimeline.add(TweenMax.to(a.scoreChangeText.position,1,{y:0,ease:Power2.easeOut}),0),a.scoreTimeline.add(TweenMax.to(a.scoreChangeText,.9,{alpha:0,ease:Power2.easeInOut}),.1),a.scoreText.text=a.score.toString(),a.score>25&&a.game.earnCrossGameCurrency(),a.scoreText.position.x=-10-a.scoreText.width/2},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"pausebutton":this.pause(),Game.pauseSound("rock-2");break;case"playbuttonlarge":this.resume(),Game.resumeSound("rock-2");break;case"skipbutton":this.removeTutorialOverlay();break;case"helpbutton":this.game.setScene("helpScene",!1,["foodFight",this.id]);break;case"cgpowerupbutton":this.activateGiantPlate(),this.game.crossGameCurrencyOwned=!1,this.game.ui.killPowerUpButton()}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.gameOver=function(){this.game.setScene("foodFightEndScene",!1,[this.score])},b.prototype.delayedGameOver=function(a){},b.prototype.removeTutorialOverlay=function(){1==this.game.crossGameCurrencyOwned&&0==this.crossCurrencyOverlayDisplayed?(this.crossCurrencyOverlayDisplayed=!0,this.container.removeChild(this.tutorialOverlayHolder),this.container.addChild(this.crossCurrencyOverlayHolder)):0!=this.game.crossGameCurrencyOwned&&1!=this.crossCurrencyOverlayDisplayed||(this.tutorialOn=!1,this.container.removeChild(this.tutorialOverlayHolder),this.container.removeChild(this.crossCurrencyOverlayHolder),this.game.ui.setUI("gameplay"),this.inputAllowed=!0,this.foodRoundsManager.startGame(5),this.mainHolder.addChild(this.fortFront),this.mainHolder.addChild(this.foodProjectilesHolder),this.mainHolder.addChild(this.platePile),this.mainHolder.addChild(this.lincTableFront),Game.fadeSound("rock-2",1,.4),Game.playSound("linc-its-go-time"),this.health.open())},b.prototype.spawnHeart=function(){this.heartTimeline&&this.heartTimeline.kill(),this.heartIsSpawned=!0,this.heartTimeline=new TimelineMax({delay:2.5}),this.heartPowerupHolder.visible=!0;var a=this.heartPowerupHolder.getSpriteAt(0),b=this.heartPowerupHolder.getSpriteAt(1);a.scale=new PIXI.Point(0,0),b.scale=new PIXI.Point(0,0),a.alpha=1,b.alpha=1,b.blendMode=PIXI.BLEND_MODES.ADD,b.rotation=0;var c=new TimelineMax({repeat:-1});this.heartTimeline.add(TweenMax.to(a.scale,1.5,{ease:Elastic.easeOut,x:1,y:1})),this.heartTimeline.add(TweenMax.to(b.scale,1.5,{ease:Elastic.easeOut,x:1,y:1}),.1),this.heartTimeline.add(TweenMax.to(b,2,{ease:Power0.easeOut,rotation:2*Math.PI,repeat:-1}),0),this.heartTimeline.call(Game.playSound,["scifi-reveal"],this,.2),c.add(TweenMax.to(a,.1,{ease:Power1.easeOut,rotation:.1})),c.add(TweenMax.to(a,.2,{ease:Power1.easeInOut,rotation:-.1})),c.add(TweenMax.to(a,.1,{ease:Power1.easeOut,rotation:0})),this.heartTimeline.add(c,0),this.heartPowerupBody=new p2.Body({mass:0,position:[Game.getRandom(1e3,1150),Game.getRandom(500,700)]}),this.heartPowerupShape=new p2.Box({width:95,height:95}),this.heartPowerupBody.addShape(this.heartPowerupShape),this.heartPowerupShape.sensor=!0,this.heartPowerupShape.collisionGroup=this.physicsManager.POWERUP,this.heartPowerupShape.collisionMask=this.physicsManager.PROJECTILES,this.physicsManager.addBodyToWorld(this.heartPowerupBody),this.physicsManager.bindSpriteToBody(this.heartPowerupHolder,this.heartPowerupBody)},b.prototype.collectHeart=function(){this.heartTimeline&&this.heartTimeline.kill(),this.heartIsSpawned=!1,this.hitSisterTimes=0,Game.playSound("powerup",.8),this.heartTimeline=new TimelineMax;var a=this.heartPowerupHolder.getSpriteAt(0),b=this.heartPowerupHolder.getSpriteAt(1);this.heartTimeline.add(TweenMax.to(b.scale,.2,{ease:Back.easeOut,x:2,y:2})),this.heartTimeline.add(TweenMax.to(a.scale,.2,{ease:Back.easeOut,x:2,y:2}),.1),this.heartTimeline.add([TweenMax.to(b.scale,.5,{ease:Back.easeOut,x:0,y:0}),TweenMax.to(b,.2,{ease:Power1.easeOut,alpha:0,delay:.2})],.2),this.heartTimeline.add([TweenMax.to(a.scale,.5,{ease:Back.easeOut,x:0,y:0}),TweenMax.to(a,.2,{ease:Power1.easeOut,alpha:0,delay:.2})],.3),this.heartTimeline.call(function(){this.physicsManager.unbindSpriteFromBody(this.heartPowerupHolder),this.physicsManager.removeBodyFromWorld(this.heartPowerupBody),this.health.gainLife()},null,this),this.heartTimeline.timeScale(1.8)},b.prototype.tick=function(){if(a.prototype.tick.call(this),1!=this.paused&&0!=this.physicsInited&&1!=this.tutorialOn){var b=new PIXI.Matrix;b.ty=325,b.scale(1/this.sampleScale,1/this.sampleScale);var c=this.lowResRenderTexture;this.lowResRenderTexture=this.lowResRenderTexture2,this.lowResRenderTexture2=c,this.lowResRenderTextureSprite&&(this.lowResRenderTextureSprite.texture=this.lowResRenderTexture),0==Game.webGL?this.lowResRenderTextureSprite.alpha=.9:this.lowResRenderTextureSprite.alpha=.9999999999,this.lowResRenderTexture2.render(this.foodProjectilesHolder,b,!0),this.inputManager.tick(),this.physicsManager.stepPhysics(),this.foodRoundsManager.tick(),this.lincolnArmBackSprite.position.x=this.lincolnTorsoSpineHolder.position.x-10,this.lincolnArmBackSprite.position.y=this.lincolnTorsoSpineHolder.position.y-85,this.lincolnArmBackSprite.rotation=-this.physicsManager.lincolnArmBody.angle,this.sisterTableBack.position.x=this.fortFront.position.x-185,this.sisterTableBack.position.y=this.fortFront.position.y-118,this.lincTableBack.position.x=this.lincTableFront.position.x-36,this.lincTableBack.position.y=this.lincTableFront.position.y-98,this.lincVelocity+=.3*(this.lincolnTorsoSpineHolder.position.x-this.lastLincXPos-this.lincVelocity),this.lastLincXPos=this.lincolnTorsoSpineHolder.position.x,1==this.lincStanding&&Math.abs(this.lincVelocity)>=.3?(this.lincStanding=!1,this.lincolnTorsoSpine.setAnim("walk-headless",!0)):0==this.lincStanding&&Math.abs(this.lincVelocity)<.3&&(this.lincStanding=!0,this.lincolnTorsoSpine.setAnim("idle-headless",!0),this.lincolnTorsoSpine.state.timeScale=1.2),0==this.lincStanding&&(this.lincolnTorsoSpine.state.timeScale=Math.abs(this.maxSpineSpeed*this.lincVelocity/10))}},b.prototype.hitSister=function(){this.hitSisterTimeline&&this.hitSisterTimeline.kill(),this.hitSisterTimes+=1;var a,b=this.foodRoundsManager.currentSisterID;console.log(b),a=this.sistersPIP.getContainer("food-fight/"+b+"-pip");for(var c=0;c<9;c++)this.sistersPIP.getChildAt(c).alpha=0;a.alpha=1,a.getSpriteAt(1).alpha=1,this.hitSwooshHolder.getSpriteAt(0).alpha=0,this.hitSwooshHolder.getSpriteAt(1).alpha=0,this.hitSwooshHolder.alpha=1,this.hitSplatHolder.getSpriteAt(0).alpha=0,this.hitSplatHolder.getSpriteAt(1).alpha=0,this.hitSplatHolder.alpha=1;var d=a.getSpriteAt(2);d.rotation=0,d.alpha=0,d.position.x=-120,d.position.y=110;var e=this.hitSplatHolder.getSprite("food-fight/hit-star-1"),f=this.hitSplatHolder.getSprite("food-fight/hit-star-2");e.alpha=0,f.alpha=0,e.position.x=f.position.x=e.position.y=f.position.y=0,this.hitSisterTimeline=new TimelineMax;var g=new RoughEase({strength:9,points:10,template:Linear.easeNone,clamp:!0,randomise:!0});this.hitSisterTimeline.add([TweenMax.to(this.greenGlow,.5,{ease:g,alpha:0}),TweenMax.to(this.greenGlow.scale,.5,{ease:Power2.easeInOut,x:0}),TweenMax.to(this.mainHolder.position,.3,{x:"-=14",ease:g,yoyo:!0,repeat:1})]),this.hitSisterTimeline.add(TweenMax.to(this.sistersPIP.scale,1,{x:1.3,y:1.3,ease:Elastic.easeOut}),"+=0.2"),this.hitSisterTimeline.add(TweenMax.to(this.hitSwooshHolder.getSpriteAt(0),.05,{alpha:1,ease:Power1.easeOut,repeat:1,yoyo:!0})),
this.hitSisterTimeline.add(TweenMax.to(this.hitSwooshHolder.getSpriteAt(1),.05,{alpha:1,ease:Power1.easeOut,repeat:1,yoyo:!0})),this.hitSisterTimeline.add([TweenMax.to(this.hitSplatHolder.getSpriteAt(0),.1,{alpha:1,ease:Power1.easeOut,repeat:1,yoyo:!0}),TweenMax.from(this.hitSplatHolder.getSpriteAt(0).scale,.1,{x:0,y:0,ease:Back.easeOut})]),this.hitSisterTimeline.add([TweenMax.to(this.hitSplatHolder.getSpriteAt(1),.05,{alpha:1,ease:Power1.easeOut}),TweenMax.to(e.position,.3,{x:35,y:-42,ease:Power1.easeOut}),TweenMax.to(f.position,.3,{x:25,y:40,ease:Power1.easeOut}),TweenMax.to(e,.05,{alpha:1,ease:Power1.easeOut}),TweenMax.to(f,.05,{alpha:1,ease:Power1.easeOut}),TweenMax.to(e,.4,{rotation:7,ease:Power1.easeOut}),TweenMax.to(f,.4,{rotation:-7,ease:Power1.easeOut})]),this.hitSisterTimeline.add(TweenMax.to(a.getSpriteAt(1),.05,{alpha:0}),"-=0.6"),this.hitSisterTimeline.call(this.updateScore,[this,3],this),this.hitSisterTimeline.call(Game.playSound,["ding-done"],this,"-=0.4"),this.hitSisterTimeline.call(Game.playSound,["ding-done"],this,"-=0.3"),this.hitSisterTimeline.call(Game.playSound,["ding-done"],this,"-=0.2"),this.hitSisterTimeline.add([TweenMax.to(this.sistersPIP.scale,.5,{x:0,y:0,ease:Back.easeOut}),TweenMax.to(a,.5,{alpha:0,ease:Back.easeOut}),TweenMax.to(e.position,.3,{x:0,y:0,ease:Power1.easeOut}),TweenMax.to(f.position,.3,{x:0,y:0,ease:Power1.easeOut}),TweenMax.to(e,.05,{alpha:0,ease:Power1.easeOut}),TweenMax.to(f,.05,{alpha:0,ease:Power1.easeOut}),TweenMax.to(this.hitSplatHolder.getSpriteAt(1),.05,{alpha:0,ease:Power1.easeOut}),TweenMax.to(this.sistersPIPHolder.position,.1,{x:"-=20"})],"+=0.5"),this.hitSisterTimeline.call(this.setLincHead,[0],this,.6),this.hitSisterTimeline.call(this.setLincHead,[3],this,2),this.hitSisterTimeline.call(function(){switch(b){case"lisa":Game.playSound("lisa-only-human");break;case"lola":Game.playSound("lola-lousey");break;case"lana":Game.playSound("lana-washed-off-mud");break;case"lucy":Game.playSound("lucy-failure");break;case"lynn":Game.playSound("sister-it-is-on");break;case"luan":Game.playSound("sister-oh-come-on");break;case"luna":Game.playSound("luna-ohh");break;case"leni":Game.playSound("lori-uh-oh");break;case"lori":Game.playSound("lori-scream2")}},null,this,1),this.hitSisterTimeline.call(Game.playSound,["crash-"+Game.getRandom(1,2,!0)],this,.2),this.hitSisterTimeline.call(Game.playSound,["pans-crash",.5],this,.2);var h=["linc-laugh-2","linc-happy-yes","linc-woo","linc-wooo"],i=Game.getRandom(0,3,!0);this.hitSisterTimeline.call(Game.playSound,[h[i],1],this,.7),this.hitSisterTimeline.call(Game.playSound,["swish-long",.8],this,1.65),this.hitSisterTimeline.call(Game.playSound,["punch-face"],this,1.9),this.hitSisterTimeline.add([TweenMax.to(d.position,.2,{x:40,y:100,ease:Power1.easeIn}),TweenMax.to(d,.2,{alpha:1,ease:Power1.easeIn}),TweenMax.to(d,.2,{rotation:-5,ease:Power0.easeIn}),TweenMax.to(this.sistersPIPHolder.position,.4,{x:"+=20",ease:g})],1.8)},b.prototype.lincTakeDamage=function(){if(1==this.readyToTakeDamage){this.health.loseLife(),this.readyToTakeDamage=!1,this.setLincHead(1);var a=["linc-can-you-please-stop","linc-cut-it-out","linc-i-wont-give-up","linc-sigh","linc-this-is-bad","linc-dang-it","linc-urgh"];Game.playSound(a[Game.getRandom(0,6,!0)]),Game.playSound("punch-face",.8)}},b.prototype.makeSplat=function(a){var b,c=new PIXI.Point(a.container.position.x,a.container.position.y);Game.getRandom(0,this.splats.length-1,!0);this.shuffleArray(this.splats);for(var d=0;d<this.splats.length;d++)"syrup"==a.splatType&&"food-fight/syrup"==this.splats[d].id&&(b=this.splats[d]),"sauce"==a.splatType&&"food-fight/sauce"==this.splats[d].id&&(b=this.splats[d]),"standard"==a.splatType&&"food-fight/sauce"!=this.splats[d].id&&"food-fight/syrup"!=this.splats[d].id&&(b=this.splats[d]);var e=Game.getRandom(1,2),f=b.getSpriteAt(0);console.log(a.splatType),b.position.x=c.x,b.position.y=c.y,b.getSpriteAt(0).rotation=Math.random()*Math.PI,c.y>400?(b.scale.y=.4,c.x<60?(b.scale.y=1,b.scale.x=.4):b.scale.x=1):c.x<60?(b.scale.y=1,b.scale.x=.4):(b.scale.x=1,b.scale.y=1),b.alpha=1,f.scale=new PIXI.Point(e,e),TweenMax.from(f.scale,.2,{x:0,y:0,ease:Power1.easeOut,onComplete:function(a){a.splatRenderTexture.render(a.splatsHolder),b.alpha=0},onCompleteParams:[this]})},b.prototype.getAngle=function(a,b,c,d){return Math.atan2(d-b,c-a)},b.prototype.getDistance=function(a,b,c,d){return Math.sqrt((a-c)*(a-c)+(b-d)*(b-d))},b.prototype.keyDown=function(b){a.prototype.keyDown.call(this,b),1!=this.paused&&this.inputManager.keyDown(b)},b.prototype.keyUp=function(b){a.prototype.keyUp.call(this,b),1!=this.paused&&this.inputManager.keyUp(b)},b.prototype.pause=function(){a.prototype.pause.call(this),this.physicsManager.pause(),this.foodRoundsManager.pause(),this.blinkTimeline.pause(),this.pauseResumeTween(this.scoreTimeline,"pause"),this.pauseResumeTween(this.hitSisterTimeline,"pause"),this.pauseResumeTween(this.blinkTimeline,"pause"),this.pauseResumeTween(this.heartTimeline,"pause"),this.pauseResumeTween(this.giantPlateTimeline,"pause")},b.prototype.resume=function(){a.prototype.resume.call(this),this.foodRoundsManager.resume(),this.game.ui.setUI("gameplay"),this.physicsManager.resume(),this.blinkTimeline.resume(),this.pauseResumeTween(this.scoreTimeline,"resume"),this.pauseResumeTween(this.hitSisterTimeline,"resume"),this.pauseResumeTween(this.blinkTimeline,"resume"),this.pauseResumeTween(this.heartTimeline,"resume"),this.pauseResumeTween(this.giantPlateTimeline,"resume")},b.prototype.restore=function(){a.prototype.restore.call(this),this.game.ui.setUI("pause")},b.prototype.shuffleArray=function(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a},b.prototype.destroy=function(){a.prototype.destroy.call(this),Game.stopSound("rock-2"),this.lowResRenderTexture.clear(),this.lowResRenderTexture2.clear(),this.lowResRenderTextureSprite.destroyRenderTexture(),this.splatRenderTexture.clear(),this.splatRenderTextureSprite.destroyRenderTexture(),this.physicsManager.destroy(),this.foodRoundsManager.destroy(),this.inputManager.destroy(),this.scoreTimeline&&this.scoreTimeline.kill(),this.hitSisterTimeline&&this.hitSisterTimeline.kill(),this.blinkTimeline&&this.blinkTimeline.kill(),this.heartTimeline&&this.heartTimeline.kill(),this.giantPlateTimeline&&this.giantPlateTimeline.kill(),this.health.destroy(),this.gameOverDelay&&this.gameOverDelay.kill()},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},TrashGameplayScene=function(a){function b(b){a.call(this,b),this.id="trashGameplayScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),Game.playSound("accoustic"),Game.setSoundVolume("accoustic",.1),this.useFilters=!1,1==Game.webGL&&1==Game.onDesktop&&(this.useFilters=!0),Game.displayStore.flush(["title-trash-assets","intro-trash-assets"]),this.setBackgroundColor(13421772),this.game.ui.setUI("skip"),this.dirButtonsDown=0,this.useFilters,this.inverseSpine=!1,this.stepCounter=0,this.heartSpawnedThisGame=!1,this.heartBoxJiggleCounter=0,this.heartBoxJiggleLimit=Game.fps/60*40,this.leftDown=!1,this.rightDown=!1,this.wallFrame=Game.displayStore.getSprite("wall-frame"),this.kickButtonDown=!1,this.gameOverDelayActive=!1,this.scoreTextHolder=Game.displayStore.getContainer("score-text-holder"),this.scoreHolder=Game.displayStore.getContainer("score-holder"),this.scoreText=Game.displayStore.getBitmapText("score-font"),this.scoreChangeText=Game.displayStore.getBitmapText("score-change-font"),this.scoreText.text=String(0),this.scoreBg=this.scoreHolder.getSprite("score-bg"),this.scoreText.position.y=-12,this.scoreText.position.x=-5,this.scoreHolder.addChild(this.scoreTextHolder),this.scoreTextHolder.addChild(this.scoreText),this.scoreTextHolder.setRegPoint(.5,.5),this.scoreBg.position.x=0,this.scoreChangeText.alpha=0,this.heartPowerUpActive=!1,this.heartBoxSprites=new Array;for(var c=0;c<3;c++)this.heartBoxSprites.push({sprite:Game.displayStore.getSprite("heart-box"),startPos:0,endPos:0});this.heartBoxPhysics=Game.displayStore.getSprite("heart-box-physics"),this.heartBoxPhysics.position.y=-1e3,this.heartBoxShine=Game.displayStore.getSprite("heart-box-shine"),this.heartBoxShine.blendMode=PIXI.BLEND_MODES.ADD,this.heartBoxShine.alpha=.5,this.heartBoxShine.position.y=-1e3,this.heartBackground=Game.displayStore.getSprite("heart-background"),this.lifeHearts=new Array;for(var c=0;c<3;c++){var d=Game.displayStore.getSprite("heart-life");this.lifeHearts.push({active:!0,sprite:d}),this.lifeHearts[c].sprite.position.y=50,this.lifeHearts[c].sprite.position.x=50+60*c}this.heartBackground.position.x=this.lifeHearts[1].sprite.position.x,this.heartBackground.position.y=this.lifeHearts[1].sprite.position.y+10,this.kickPowerFactor=0,this.kickingInProgress=!1,this.binBackLeft=Game.displayStore.getSprite("bin-back"),this.binBackRight=Game.displayStore.getSprite("bin-back"),this.lincInKickRange=!1,this.currentFrameForDifficulty=0,this.indicatorAlpha=0,this.currentScore=0,this.currentLiveBags=0,this.game.ui.disableCGButton(),this.currentDifficultyLevel=0,this.lincolnSpineOffset=110,this.currentFrameForDifficultyLimit=60/Game.fps*2e3,this.kickRange=125,this.kickAngle=0,this.doorSpacing=700,this.lincolnRunDir=1,this.lincolnMoving=!1,this.bagVertKickHeight=450,this.crossCurrencyOverlayDisplayed=!1,this.cameraMotionEaseAmount=10,1==Game.isLowEndIPad&&(this.cameraMotionEaseAmount/=2),this.lincIdling=!0,this.lincDirection=1;var e=Game.fps/60;this.difficultyParams=new Array,this.difficultyParams.push({bagSpawnInterval:500*e,bagTime:1500,maxBags:2}),this.difficultyParams.push({bagSpawnInterval:500*e,bagTime:1500,maxBags:4}),this.difficultyParams.push({bagSpawnInterval:400*e,bagTime:1e3,maxBags:5}),this.difficultyParams.push({bagSpawnInterval:400*e,bagTime:1e3,maxBags:6}),this.difficultyParams.push({bagSpawnInterval:300*e,bagTime:600,maxBags:6}),this.currentBagSpawnCounter=0,this.currentBagSpawnInterval=this.difficultyParams[this.currentDifficultyLevel].bagSpawnInterval,this.lincolnPosOffset=Game.stageWidth/2,this.kickAngleIndicator=Game.displayStore.getSprite("angle-line"),this.kickAngleIndicator.position.y=535,this.kickAngleIndicator.alpha=0,this.kickPowerRing=Game.displayStore.getSprite("kick-power-ring"),this.kickPowerRing.position.y=535,this.kickPowerRing.alpha=0,this.kickPowerFill=Game.displayStore.getSprite("kick-power-fill"),this.kickPowerFill.position.y=535,this.kickPowerFill.alpha=0,this.tutorialOverlayHolder=Game.displayStore.getContainer("trash-tutorial-overlay"),this.tutorialOverlayBG=this.tutorialOverlayHolder.getSprite("tutorial-overlay-bg"),this.crossCurrencyOverlayHolder=Game.displayStore.getContainer("trash-cross-currency-overlay"),this.crossCurrencyOverlayBG=this.crossCurrencyOverlayHolder.getSprite("tutorial-overlay-bg"),this.binWallLeft=Game.displayStore.getSprite("bin-wall"),this.binWallRight=Game.displayStore.getSprite("bin-wall"),this.binWallLeft.alpha=0,this.binWallRight.alpha=0,this.corridorWidth=3*Game.stageWidth,this.kickAnimation=Game.displayStore.getMovieClip("kick-anim"),this.kickAnimation.loop=!1,this.kickAnimation.animationSpeed=.3,this.doorStartPos=this.corridorWidth/2-this.doorSpacing,this.door1BG=Game.displayStore.getSprite("door-bg-1"),this.door1Panel=Game.displayStore.getSprite("door-pane"),this.door2BG=Game.displayStore.getSprite("door-bg-2"),this.door2Panel=Game.displayStore.getSprite("door-pane"),this.door3BG=Game.displayStore.getSprite("door-bg-3"),this.door3Panel=Game.displayStore.getSprite("door-pane"),this.binContents=Game.displayStore.getContainer("bin-trash-holder"),this.binApple=this.binContents.getSprite("bin-apple"),this.binBanana=this.binContents.getSprite("bin-banana"),this.binCup=this.binContents.getSprite("bin-cup"),this.binDirt1=this.binContents.getSprite("bin-dirt-1"),this.binDirt2=this.binContents.getSprite("bin-dirt-2"),this.binDirt3=this.binContents.getSprite("bin-dirt-3"),this.binApplePos=new PIXI.Point(this.binApple.position.x,this.binApple.position.y),this.binBananaPos=new PIXI.Point(this.binBanana.position.x,this.binBanana.position.y),this.binCupPos=new PIXI.Point(this.binCup.position.x,this.binCup.position.y),this.binDirt1Pos=new PIXI.Point(this.binDirt1.position.x,this.binDirt1.position.y),this.binDirt2Pos=new PIXI.Point(this.binDirt2.position.x,this.binDirt2.position.y),this.binDirt3Pos=new PIXI.Point(this.binDirt3.position.x,this.binDirt3.position.y),this.trashPile1=new Array,this.trashPile1.push({Id:"pile-1",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:0}),this.trashPile1.push({Id:"pile-2",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:200}),this.trashPile1.push({Id:"pile-3",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:400}),this.trashPile1.push({Id:"pile-4",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:600}),this.trashPile1.push({Id:"pile-5",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:800}),this.trashPile1.push({Id:"pile-6",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:1e3}),this.trashPile1.push({Id:"pile-7",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:1200}),this.trashPile1.push({Id:"pile-8",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:1400}),this.trashPile1.push({Id:"pile-9",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:1600}),this.trashPile1.push({Id:"pile-10",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:1800}),this.trashPile1.push({Id:"pile-11",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:2e3}),this.trashPile1.push({Id:"pile-12",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:2200}),this.trashPile1.push({Id:"pile-12",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:2400}),this.trashPile1.push({Id:"pile-13",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:2600}),this.trashPile1.push({Id:"pile-14",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:2800}),this.trashPile1.push({Id:"pile-15",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:3e3}),this.trashPile1.push({Id:"pile-16",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:3200}),this.trashPile2=new Array,this.trashPile2.push({Id:"pile-1",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:0}),this.trashPile2.push({Id:"pile-2",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:200}),this.trashPile2.push({Id:"pile-3",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:400}),this.trashPile2.push({Id:"pile-4",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:600}),this.trashPile2.push({Id:"pile-5",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:800}),this.trashPile2.push({Id:"pile-6",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:1e3}),this.trashPile2.push({Id:"pile-7",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:1200}),this.trashPile2.push({Id:"pile-8",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:1400}),this.trashPile2.push({Id:"pile-9",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:1600}),this.trashPile2.push({Id:"pile-10",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:1800}),this.trashPile2.push({Id:"pile-11",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:2e3}),this.trashPile2.push({Id:"pile-12",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:2200}),this.trashPile2.push({Id:"pile-12",sprite:Game.displayStore.getSprite("trash-pile-1"),xPos:2400}),this.trashPile2.push({Id:"pile-13",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:2600}),this.trashPile2.push({Id:"pile-14",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:2800}),this.trashPile2.push({Id:"pile-15",sprite:Game.displayStore.getSprite("trash-pile-3"),xPos:3e3}),this.trashPile2.push({Id:"pile-16",sprite:Game.displayStore.getSprite("trash-pile-2"),xPos:3200}),this.trashHolder1=Game.displayStore.getContainer("trash-pile-holder-1"),this.trashHolder2=Game.displayStore.getContainer("trash-pile-holder-2"),this.floorDirt1=Game.displayStore.getSprite("floor-dirt"),this.floorDirt2=Game.displayStore.getSprite("floor-dirt-2"),this.floorDirt3=Game.displayStore.getSprite("floor-dirt"),this.floorDirt4=Game.displayStore.getSprite("floor-dirt-2"),this.floorDirt5=Game.displayStore.getSprite("floor-dirt"),this.sisters=new Array,this.sisters.push({sisterID:"luna",sisterHolder:Game.displayStore.getContainer("sister-holder"),timeline:null,currentlyAnimating:!1,sisterPos:new PIXI.Point(540,200),sisterBag:Game.displayStore.getSprite("temp-sister-bag"),sister:Game.displayStore.getSprite("luna-body"),sisterArm:Game.displayStore.getSprite("luna-arm"),bagPos:new PIXI.Point(90,180),armPos:new PIXI.Point(90,210),animationPos:new PIXI.Point(680,200),bagThrowDir:"right",armRotation:-.2}),this.sisters.push({sisterID:"luan",sisterHolder:Game.displayStore.getContainer("sister-holder"),timeline:null,currentlyAnimating:!1,sisterPos:new PIXI.Point(950,200),sisterBag:Game.displayStore.getSprite("temp-sister-bag"),sister:Game.displayStore.getSprite("luan-body"),sisterArm:Game.displayStore.getSprite("luan-arm"),bagPos:new PIXI.Point(-90,180),armPos:new PIXI.Point(-90,210),animationPos:new PIXI.Point(820,200),bagThrowDir:"left",armRotation:.2}),this.sisters.push({sisterID:"lucy",sisterHolder:Game.displayStore.getContainer("sister-holder"),timeline:null,currentlyAnimating:!1,sisterPos:new PIXI.Point(1240,200),sisterBag:Game.displayStore.getSprite("temp-sister-bag"),sister:Game.displayStore.getSprite("lucy-body"),sisterArm:Game.displayStore.getSprite("lucy-arm"),bagPos:new PIXI.Point(90,180),armPos:new PIXI.Point(90,210),animationPos:new PIXI.Point(1380,200),bagThrowDir:"right",armRotation:-.2}),this.sisters.push({sisterID:"lynn",sisterHolder:Game.displayStore.getContainer("sister-holder"),timeline:null,currentlyAnimating:!1,sisterPos:new PIXI.Point(1650,200),sisterBag:Game.displayStore.getSprite("temp-sister-bag"),sister:Game.displayStore.getSprite("lynn-body"),sisterArm:Game.displayStore.getSprite("lynn-arm"),bagPos:new PIXI.Point(-90,180),armPos:new PIXI.Point(-90,210),animationPos:new PIXI.Point(1520,200),bagThrowDir:"left",armRotation:.2}),this.sisters.push({sisterID:"lana",sisterHolder:Game.displayStore.getContainer("sister-holder"),timeline:null,currentlyAnimating:!1,sisterPos:new PIXI.Point(1940,200),sisterBag:Game.displayStore.getSprite("temp-sister-bag"),sister:Game.displayStore.getSprite("lana-body"),sisterArm:Game.displayStore.getSprite("lana-arm"),bagPos:new PIXI.Point(90,180),armPos:new PIXI.Point(90,210),animationPos:new PIXI.Point(2080,200),bagThrowDir:"right",armRotation:-.2}),this.sisters.push({sisterID:"lola",sisterHolder:Game.displayStore.getContainer("sister-holder"),timeline:null,currentlyAnimating:!1,sisterPos:new PIXI.Point(2350,200),sisterBag:Game.displayStore.getSprite("temp-sister-bag"),sister:Game.displayStore.getSprite("lola-body"),sisterArm:Game.displayStore.getSprite("lola-arm"),bagPos:new PIXI.Point(-90,180),armPos:new PIXI.Point(-90,210),animationPos:new PIXI.Point(2220,200),bagThrowDir:"left",armRotation:.2}),this.maxMainHolderPos=0,this.minMainHolderPos=0-(this.corridorWidth-Game.stageWidth),this.tutorialOverlayBG.width=Game.stageWidth,this.tutorialOverlayBG.height=Game.stageHeight,this.crossCurrencyOverlayBG.width=Game.stageWidth,this.crossCurrencyOverlayBG.height=Game.stageHeight,this.tutorialOn=!0,this.mainHolderPos=new PIXI.Point(this.lincolnPosOffset,0),this.mainHolder=Game.displayStore.getContainer("main-holder"),this.mainHolder.position.x=-(this.corridorWidth/2)+Game.stageWidth/2,this.mainHolder.position.y=this.mainHolderPos.y,this.zoomHolder=Game.displayStore.getContainer("zoom-holder"),this.physicsManager=new TrashPhysicsManager(this,this.mainHolder,this.corridorWidth),this.physicsManager.initPhysicsWorld(),this.inputManager=new TrashInputManager(this),this.inputManager.createInput(),this.leftBin=Game.displayStore.getContainer("left-bin"),this.rightBin=Game.displayStore.getContainer("right-bin"),this.zoomHolder.addChild(this.mainHolder),this.container.addChild(this.zoomHolder),this.tempFloorAsset=Game.displayStore.getSprite("floor-asset"),this.tempFloorAsset.width=this.corridorWidth,this.tempFloorAsset.position.x=0,this.tempFloorAsset.position.y=Game.stageHeight,this.lincolnSpine=Game.displayStore.getSpine("linc-trash-spine"),this.lincolnSpine.stateData.setMix("idle","run",.2),this.lincolnSpine.stateData.setMix("idle","charge",.2),this.lincolnSpine.stateData.setMix("idle","kick",.2),this.lincolnSpine.stateData.setMix("run","idle",.2),this.lincolnSpine.stateData.setMix("run","charge",.2),this.lincolnSpine.stateData.setMix("run","kick",.2),this.lincolnSpine.stateData.setMix("kick","idle",.2),this.lincolnSpine.stateData.setMix("kick","charge",.2),this.lincolnSpine.stateData.setMix("kick","run",.2),this.lincolnSpine.stateData.setMix("charge","idle",.2),this.lincolnSpine.stateData.setMix("idle-inverse","run-inverse",.2),this.lincolnSpine.stateData.setMix("idle-inverse","charge-inverse",.2),this.lincolnSpine.stateData.setMix("idle-inverse","kick-inverse",.2),this.lincolnSpine.stateData.setMix("run-inverse","idle-inverse",.2),this.lincolnSpine.stateData.setMix("run-inverse","charge-inverse",.2),this.lincolnSpine.stateData.setMix("run-inverse","kick-inverse",.2),this.lincolnSpine.stateData.setMix("kick-inverse","idle-inverse",.2),this.lincolnSpine.stateData.setMix("kick-inverse","charge-inverse",.2),this.lincolnSpine.stateData.setMix("kick-inverse","run-inverse",.2),this.lincolnSpine.stateData.setMix("charge-inverse","idle-inverse",.2),this.lincolnSpine.setAnim("idle",!0),this.bagManager=new TrashBagManager(this,this.mainHolder,this.corridorWidth,this.doorSpacing,this.lincolnSpine),this.corridorEndLeft=Game.displayStore.getSprite("corridor-end-left"),this.corridorEndRight=Game.displayStore.getSprite("corridor-end-right"),this.corridorEndRight.position.x=this.corridorWidth,this.backgroundWall=new Array,this.floorTexture=new Array;for(var c=0;c<5;c++)this.floorTexture.push({sprite:Game.displayStore.getSprite("floor-main")}),this.floorTexture[c].sprite.position.x=this.floorTexture[c].sprite.width*c-1,this.floorTexture[c].sprite.position.y=Game.stageHeight-this.floorTexture[c].sprite.height+2,this.mainHolder.addChild(this.floorTexture[c].sprite);this.floorEndLeft=Game.displayStore.getSprite("floor-end"),this.floorEndRight=Game.displayStore.getSprite("floor-end"),this.floorEndLeft.scale.x=-1,this.floorEndLeft.position.x=400,this.floorEndRight.position.x=this.corridorWidth-350,this.floorEndLeft.position.y=Game.stageHeight-this.floorEndRight.height,this.floorEndRight.position.y=Game.stageHeight-this.floorEndRight.height,this.mainHolder.addChild(this.floorEndLeft),this.mainHolder.addChild(this.floorEndRight);for(var c=0;c<20;c++)this.backgroundWall.push({sprite:Game.displayStore.getSprite("background-wall"),xPos:161*c,yPos:185}),this.backgroundWall[c].sprite.position.x=this.backgroundWall[c].xPos,this.backgroundWall[c].sprite.position.y=this.backgroundWall[c].yPos,this.mainHolder.addChild(this.backgroundWall[c].sprite);this.wallFrame.scale.x=this.wallFrame.scale.y=.9,this.mainHolder.addChild(this.wallFrame),this.mainHolder.addChild(this.corridorEndLeft),this.mainHolder.addChild(this.corridorEndRight),this.door1BG.position.x=this.doorStartPos,this.door1BG.position.y=500,this.door1Panel.position.x=this.doorStartPos-32,this.door1Panel.position.y=500,this.door2BG.position.x=this.doorStartPos+this.doorSpacing,this.door2BG.position.y=500,this.door2Panel.position.x=this.doorStartPos+this.doorSpacing-32,this.door2Panel.position.y=500,this.door3BG.position.x=this.doorStartPos+2*this.doorSpacing,this.door3BG.position.y=500,this.door3Panel.position.x=this.doorStartPos+2*this.doorSpacing-32,this.door3Panel.position.y=500,this.mainHolder.addChild(this.door1BG),this.mainHolder.addChild(this.door2BG),this.mainHolder.addChild(this.door3BG),this.mainHolder.addChild(this.binWallLeft),this.mainHolder.addChild(this.binWallRight),this.renderTextureDoor1Left=new PIXI.RenderTexture(Game.renderer,250,500,null,this.game.pixelRatio),this.renderSpriteDoor1Left=new Sprite(this.renderTextureDoor1Left),this.renderSpriteDoor1Left.group="trash-assets",this.renderTextureDoor1LeftTransform=new PIXI.Matrix,this.renderTextureDoor1LeftTransform.translate(-471,0),this.renderTextureDoor1Left.render(this.mainHolder,this.renderTextureDoor1LeftTransform),this.renderSpriteDoor1Left.position.x=471,this.renderTextureDoor2Left=new PIXI.RenderTexture(Game.renderer,250,500,null,this.game.pixelRatio),this.renderSpriteDoor2Left=new Sprite(this.renderTextureDoor2Left),this.renderSpriteDoor2Left.group="trash-assets",this.renderTextureDoor2LeftTransform=new PIXI.Matrix,this.renderTextureDoor2LeftTransform.translate(-1170,0),this.renderTextureDoor2Left.render(this.mainHolder,this.renderTextureDoor2LeftTransform),this.renderSpriteDoor2Left.position.x=1170,this.renderTextureDoor3Left=new PIXI.RenderTexture(Game.renderer,250,500,null,this.game.pixelRatio),this.renderSpriteDoor3Left=new Sprite(this.renderTextureDoor3Left),this.renderSpriteDoor3Left.group="trash-assets",this.renderTextureDoor3LeftTransform=new PIXI.Matrix,this.renderTextureDoor3LeftTransform.translate(-1869,0),this.renderTextureDoor3Left.render(this.mainHolder,this.renderTextureDoor3LeftTransform),this.renderSpriteDoor3Left.position.x=1869;for(var c=0;c<this.sisters.length;c++)this.sisters[c].sisterHolder.addChild(this.sisters[c].sisterArm),this.sisters[c].sisterHolder.addChild(this.sisters[c].sister),this.sisters[c].sisterHolder.addChild(this.sisters[c].sisterBag),this.sisters[c].sisterHolder.position.x=this.sisters[c].sisterPos.x,this.sisters[c].sisterHolder.position.y=this.sisters[c].sisterPos.y,this.sisters[c].sisterHolder.position.x=this.sisters[c].sisterPos.x,this.sisters[c].sisterHolder.position.y=this.sisters[c].sisterPos.y,this.sisters[c].sisterBag.position.x=this.sisters[c].bagPos.x,this.sisters[c].sisterBag.position.y=this.sisters[c].bagPos.y,"right"==this.sisters[c].bagThrowDir&&this.mainHolder.addChild(this.sisters[c].sisterHolder);for(var c=0;c<this.heartBoxSprites.length;c++)this.mainHolder.addChild(this.heartBoxSprites[c].sprite);this.heartBoxSprites[0].startPos=this.sisters[0].sisterHolder.position.x+120,this.heartBoxSprites[0].endPos=this.sisters[0].sisterHolder.position.x+220,this.heartBoxSprites[0].sprite.position.y=440,this.heartBoxSprites[0].sprite.position.x=this.heartBoxSprites[0].startPos,this.heartBoxSprites[1].startPos=this.sisters[2].sisterHolder.position.x+120,this.heartBoxSprites[1].endPos=this.sisters[2].sisterHolder.position.x+220,this.heartBoxSprites[1].sprite.position.y=440,this.heartBoxSprites[1].sprite.position.x=this.heartBoxSprites[1].startPos,this.heartBoxSprites[2].startPos=this.sisters[4].sisterHolder.position.x+120,this.heartBoxSprites[2].endPos=this.sisters[4].sisterHolder.position.x+220,this.heartBoxSprites[2].sprite.position.y=440,this.heartBoxSprites[2].sprite.position.x=this.heartBoxSprites[2].startPos,this.mainHolder.addChild(this.renderSpriteDoor1Left),this.mainHolder.addChild(this.renderSpriteDoor2Left),this.mainHolder.addChild(this.renderSpriteDoor3Left);for(var c=0;c<this.sisters.length;c++)"left"==this.sisters[c].bagThrowDir&&this.mainHolder.addChild(this.sisters[c].sisterHolder);this.mainHolder.addChild(this.door1Panel),this.mainHolder.addChild(this.door2Panel),this.mainHolder.addChild(this.door3Panel),this.mainHolder.addChild(this.floorDirt1),this.mainHolder.addChild(this.floorDirt2),this.mainHolder.addChild(this.floorDirt3),this.mainHolder.addChild(this.floorDirt4),this.mainHolder.addChild(this.floorDirt5),this.floorDirt1.position.x=350,this.floorDirt2.position.x=1e3,this.floorDirt3.position.x=2500,this.floorDirt4.position.x=1800,this.floorDirt5.position.x=800,this.floorDirt1.position.y=520,this.floorDirt2.position.y=520,this.floorDirt3.position.y=520,this.floorDirt4.position.y=520,this.floorDirt5.position.y=530,this.mainHolder.addChild(this.lincolnSpine),this.mainHolder.addChild(this.binBackLeft),this.mainHolder.addChild(this.binBackRight),this.bagManager.createBags(),this.heartPickupAnim=Game.displayStore.getMovieClip("heart-pickup-anim"),this.heartPickupAnim.position.y=-1e3,this.heartPickupAnim.loop=!1,this.heartPickupAnim.animationSpeed=.3,this.mainHolder.addChild(this.heartPickupAnim),this.mainHolder.addChild(this.binContents),this.mainHolder.addChild(this.heartBoxPhysics),this.mainHolder.addChild(this.heartBoxShine),this.mainHolder.addChild(this.leftBin),this.mainHolder.addChild(this.rightBin),this.mainHolder.addChild(this.kickAnimation),this.kickAnimation.position.y=-1e3,this.leftBin.position.y=Game.stageHeight-60,this.rightBin.position.y=Game.stageHeight-60,this.leftBin.position.x=200,this.rightBin.position.x=this.corridorWidth-200,this.binContents.position.x=this.leftBin.position.x,this.binContents.position.y=this.leftBin.position.y-120,this.binBackLeft.position.x=this.leftBin.position.x,this.binBackLeft.position.y=this.leftBin.position.y,this.binBackRight.position.x=this.rightBin.position.x,this.binBackRight.position.y=this.rightBin.position.y,this.lincolnSpine.position.x=this.physicsManager.lincolnBody.position[0],this.lincolnSpine.position.y=Game.stageHeight-this.physicsManager.lincolnBody.position[1]+this.lincolnSpineOffset,this.lincolnSpine.rotation=-this.physicsManager.lincolnBody.angle;for(var c=0;c<this.trashPile1.length;c++)this.trashHolder1.addChild(this.trashPile1[c].sprite),this.trashPile1[c].sprite.position.x=this.trashPile1[c].xPos,this.trashPile1[c].sprite.position.y=0;for(var c=0;c<this.trashPile2.length;c++)this.trashHolder2.addChild(this.trashPile2[c].sprite),this.trashPile2[c].sprite.position.x=this.trashPile2[c].xPos,this.trashPile2[c].sprite.position.y=0;this.mainHolder.addChild(this.trashHolder1),this.mainHolder.addChild(this.trashHolder2),this.mainHolder.addChild(this.kickAngleIndicator),this.mainHolder.addChild(this.kickPowerFill),this.mainHolder.addChild(this.kickPowerRing),this.container.addChild(this.scoreHolder),this.scoreHolder.position.x=Game.stageWidth/2,this.scoreHolder.position.y=80,this.trashHolder1.position.x=0,this.trashHolder2.position.x=0,this.trashHolder1.position.y=Game.stageHeight+200,this.trashHolder2.position.y=Game.stageHeight+200,this.bagManager.createWasteParticles(),this.bagManager.createBagTimers(),this.container.addChild(this.heartBackground);for(var c=0;c<this.lifeHearts.length;c++)this.lifeHearts[c].sprite.visible=!0,this.container.addChild(this.lifeHearts[c].sprite);this.container.addChild(this.tutorialOverlayHolder),this.useFilters},b.prototype.crossGamePowerUpUsed=function(){this.game.crossGameCurrencyOwned=!1},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"pausebutton":this.pause();break;case"playbuttonlarge":this.resume();break;case"skipbutton":this.removeTutorialOverlay();break;case"helpbutton":this.game.setScene("helpScene",!1,["trash",this.id]);break;case"kickbutton":this.endKickBag();break;case"cgpowerupbutton":this.pauseAllBagTimers(),this.activateCGPowerUp()}},b.prototype.downOnUI=function(b){switch(a.prototype.downOnUI.call(this,b),b.id){case"kickbutton":this.startKickBag()}},b.prototype.activateCGPowerUp=function(){this.game.crossGameCurrencyOwned=!1,this.game.ui.killPowerUpButton()},b.prototype.pauseAllBagTimers=function(){this.bagManager.pauseAllBagTimers()},b.prototype.killVrPowerUp=function(){},b.prototype.bagHitBinWall=function(){},b.prototype.removeTutorialOverlay=function(){1==this.game.crossGameCurrencyOwned&&0==this.crossCurrencyOverlayDisplayed?(this.crossCurrencyOverlayDisplayed=!0,this.container.removeChild(this.tutorialOverlayHolder),this.container.addChild(this.crossCurrencyOverlayHolder)):0!=this.game.crossGameCurrencyOwned&&1!=this.crossCurrencyOverlayDisplayed||(this.tutorialOn=!1,this.container.removeChild(this.tutorialOverlayHolder),this.container.removeChild(this.crossCurrencyOverlayHolder),this.setGameplayUI(),this.inputAllowed=!0,this.beginSisterBagDrop(!0),Game.fadeSound("accoustic",1,.25))},
b.prototype.setGameplayUI=function(){1==Game.onDesktop?this.game.ui.setUI("gameplay"):this.game.ui.setUI("gameplay-mobile-trash")},b.prototype.beginSisterBagDrop=function(a){if(!(this.currentLiveBags>=this.difficultyParams[this.currentDifficultyLevel].maxBags)){for(var b=0,c=0;c<this.lifeHearts.length;c++)1==this.lifeHearts[c].active&&b++;if(b<this.lifeHearts.length&&Game.getRandom(0,1)<.4&&0==this.heartSpawnedThisGame)return void this.spawnHeartBox();var d=Game.getRandom(0,this.sisters.length-1,!0);if(1!=this.sisters[d].currentlyAnimating){switch(this.sisters[d].currentlyAnimating=!0,this.sisters[d].timeline=this.killTween(this.sisters[d].timeline),d){case 0:1==Game.getRandom(0,1,!0)?Game.playSound("luna-had-it-coming"):Game.playSound("linc-i-wont-give-up");break;case 1:1==Game.getRandom(0,1,!0)?Game.playSound("luan-trash-joke"):Game.playSound("linc-seriously");break;case 2:Game.playSound("lucy-sigh");break;case 3:Game.playSound("sister-think-fast");break;case 4:Game.playSound("sister-blergh");break;case 5:Game.playSound("lola-ah-thats-better")}this.sisters[d].sisterBag.visible=!0,this.sisters[d].timeline=new TimelineMax({onComplete:this.sisterFinishedAnimating,onCompleteParams:[this,d]}),this.sisters[d].timeline.add([TweenMax.to(this.sisters[d].sisterHolder.position,.5,{x:this.sisters[d].animationPos.x,y:this.sisters[d].animationPos.y,ease:Quad.easeOut}),TweenMax.to(this.sisters[d].sisterArm,.5,{rotation:this.sisters[d].armRotation,ease:Back.easeInOut})]),this.sisters[d].timeline.call(this.spawnPhysicsBag,[this,this.sisters[d].sisterBag,this.sisters[d].sisterHolder,this.sisters[d].bagThrowDir],null,.25),this.sisters[d].timeline.add([TweenMax.to(this.sisters[d].sisterHolder.position,.5,{x:this.sisters[d].sisterPos.x,y:this.sisters[d].sisterPos.y,ease:Sine.easeIn,delay:.5}),TweenMax.to(this.sisters[d].sisterArm,.5,{rotation:0,ease:Back.easeInOut})])}}},b.prototype.spawnPhysicsBag=function(a,b,c,d){++a.currentLiveBags>0&&a.game.ui.enableCGButton();var e=a.mainHolder.toLocal(b.position,c);a.bagManager.spawnBagAtLoc(e,a.difficultyParams[a.currentDifficultyLevel].bagTime,d),a.bagToRemove=b,a.bagToRemoveDelayFrame=!0},b.prototype.sisterFinishedAnimating=function(a,b){a.sisters[b].currentlyAnimating=!1},b.prototype.spawnHeartBox=function(){if(1!=this.heartPowerUpActive){this.heartPowerUpActive=!0,this.heartSpawnedThisGame=!0,this.heartBoxJiggleCounter=0;var a=Game.getRandom(0,this.heartBoxSprites.length-1,!0);Game.playSound("scifi-reveal"),this.heartLaunchTimeline=this.killTween(this.heartLaunchTimeline),this.heartBoxSprites[a].sprite.visible=!0,this.heartBoxSprites[a].sprite.position.x=this.heartBoxSprites[a].startPos,this.heartLaunchTimeline=new TimelineMax({onComplete:this.spawnPhysicsHeart,onCompleteParams:[this,this.heartBoxSprites[a].sprite]}),this.heartLaunchTimeline.add([TweenMax.to(this.heartBoxSprites[a].sprite.position,.5,{x:this.heartBoxSprites[a].endPos,ease:Quad.easeOut})])}},b.prototype.spawnPhysicsHeart=function(a,b){var c=a.mainHolder.toLocal(b.position,a.mainHolder);a.physicsManager.spawnHeartBoxAtLoc(c),a.heartBoxToRemove=b,a.heartBoxToRemoveDelayFrame=!0},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.stopLincolnMoving=function(){this.physicsManager.stopLincolnMoving()},b.prototype.bagBurst=function(){if(this.currentLiveBags--,Game.playSound("bag-pop"),1==Game.getRandom(0,1,!0)?Game.playSound("linc-dang-it"):Game.playSound("linc-grrr"),0==this.currentLiveBags&&this.game.ui.disableCGButton(),1!=this.gameOverDelayActive){for(var a=0,b=0;b<this.lifeHearts.length;b++)1==this.lifeHearts[b].active&&a++;this.removeHeartAnimation=this.killTween(this.removeHeartAnimation),this.removeHeartAnimation=new TimelineMax,this.removeHeartAnimation.add(TweenMax.to(this.lifeHearts[a-1].sprite.scale,.3,{x:0,y:0,ease:Back.easeIn})),this.lifeHearts[a-1].active=!1,this.removeHeartAnimation.call(this.removeHeart,[a-1],this),a-1==0&&(this.gameOverDelayActive=!0,this.gameOverDelay=TweenMax.delayedCall(1,this.gameOver,[this]))}},b.prototype.gameOver=function(a){a.game.setScene("trashEndScene",!1,[a.currentScore])},b.prototype.removeHeart=function(a){this.lifeHearts[a].sprite.visible=!1},b.prototype.checkBagContact=function(a,b){this.bagManager.checkBagContact(a,b)},b.prototype.checkBagEndContact=function(a,b){this.bagManager.checkBagEndContact(a,b)},b.prototype.checkBodyIsBag=function(a){return this.bagManager.checkBodyIsBag(a)},b.prototype.moveLincoln=function(a){if("left"==a?(this.lincolnRunDir=-1,this.setLincDir(-1)):"right"==a&&(this.lincolnRunDir=1,this.setLincDir(1)),0==this.lincInKickRange&&1==this.kickButtonDown)return 0==this.inverseSpine?(this.lincolnSpine.setAnim("idle",!0),this.lincolnSpine.scale.x=1):(this.lincolnSpine.setAnim("idle-inverse",!0),this.lincolnSpine.scale.x=-1),void(this.lincolnSpine.state.timeScale=1);this.physicsManager.startMovingLincoln(this.lincolnRunDir)},b.prototype.playStepNoise=function(){if(++this.stepCounter%20==0)switch(Game.getRandom(1,4,!0)){case 1:Game.playSound("step-1"),Game.setSoundVolume("step-1",.5),this.stepCounter=0;break;case 2:Game.playSound("step-2"),Game.setSoundVolume("step-2",.5),this.stepCounter=0;break;case 3:Game.playSound("step-3"),Game.setSoundVolume("step-3",.5),this.stepCounter=0;break;case 4:Game.playSound("step-4"),Game.setSoundVolume("step-4",.5),this.stepCounter=0}},b.prototype.tick=function(){if(a.prototype.tick.call(this),1==this.physicsManager.lincolnRunning&&this.playStepNoise(),1!=this.paused&&1!=this.tutorialOn){if(1==this.lincInKickRange&&(this.indicatorAlpha+=.1),0==this.lincInKickRange&&(this.indicatorAlpha-=.1),this.indicatorAlpha>1&&(this.indicatorAlpha=1),this.indicatorAlpha<0&&(this.indicatorAlpha=0),this.kickAngleIndicator.alpha=this.indicatorAlpha,this.kickPowerRing.alpha=this.indicatorAlpha,this.kickPowerFill.alpha=this.indicatorAlpha,this.physicsManager.stepPhysics(),this.lincolnSpine.position.x=this.physicsManager.lincolnBody.position[0],this.lincolnSpine.position.y=Game.stageHeight-this.physicsManager.lincolnBody.position[1]+this.lincolnSpineOffset,this.lincolnSpine.rotation=-this.physicsManager.lincolnBody.angle,1==this.heartPowerUpActive&&(this.heartBoxPhysics.position.x=this.physicsManager.heartBoxBody.position[0],this.heartBoxPhysics.position.y=Game.stageHeight-this.physicsManager.heartBoxBody.position[1],this.heartBoxPhysics.rotation=-this.physicsManager.heartBoxBody.angle,this.heartBoxShine.position.x=this.heartBoxPhysics.position.x,this.heartBoxShine.position.y=this.heartBoxPhysics.position.y,this.heartBoxShine.rotation+=.04,this.heartBoxShine.scale.x=this.heartBoxShine.scale.y=1+Math.sin(this.heartBoxShine.rotation)/3),this.binWallLeft.position.x=this.physicsManager.leftBinWallBody.position[0],this.binWallLeft.position.y=Game.stageHeight-this.physicsManager.leftBinWallBody.position[1],this.binWallLeft.rotation=-this.physicsManager.leftBinWallBody.angle,this.binWallRight.position.x=this.physicsManager.rightBinWallBody.position[0],this.binWallRight.position.y=Game.stageHeight-this.physicsManager.rightBinWallBody.position[1],this.binWallRight.rotation=-this.physicsManager.rightBinWallBody.angle,this.positionViewport(),this.bagManager.tick(),this.getBagStates(),this.positionKickIndicator(),1==this.heartPowerUpActive&&this.checkHeartPickUpDistance(),this.checkLincState(),this.currentFrameForDifficulty++,this.currentFrameForDifficulty>=this.currentFrameForDifficultyLimit&&(this.currentFrameForDifficulty=0,this.increaseDifficulty()),this.currentBagSpawnCounter++,this.currentBagSpawnCounter>=this.currentBagSpawnInterval&&(this.currentBagSpawnCounter=0,this.attemptSpawnBag()),1==this.kickingInProgress&&(this.kickPowerFill.scale.x=this.kickPowerFill.scale.y=this.kickPowerFactor),1==this.heartBoxToRemoveDelayFrame)return void(this.heartBoxToRemoveDelayFrame=!1);if(this.heartBoxToRemove&&(this.heartBoxToRemove.visible=!1,this.heartBoxToRemove=null),1==this.bagToRemoveDelayFrame)return void(this.bagToRemoveDelayFrame=!1);this.bagToRemove&&(this.bagToRemove.visible=!1,this.bagToRemove=null)}},b.prototype.checkLincState=function(){var a=this.physicsManager.lincolnBody.velocity[0];if(Math.abs(a)<100?this.setLincState(!0):this.setLincState(!1),1!=this.kickButtonDown){var b=Math.abs(a)/300;0==this.lincIdling&&(this.lincolnSpine.state.timeScale=b)}},b.prototype.setLincState=function(a){this.lincIdling!=a&&(this.lincIdling=a,1!=this.kickButtonDown&&(1==this.lincIdling?(0==this.inverseSpine?(this.lincolnSpine.setAnim("idle",!0),this.lincolnSpine.scale.x=1):(this.lincolnSpine.setAnim("idle-inverse",!0),this.lincolnSpine.scale.x=-1),this.lincolnSpine.state.timeScale=1):(this.endKickAnimationDelay=this.killTween(this.endKickAnimationDelay),0==this.inverseSpine?(this.lincolnSpine.setAnim("run",!0),this.lincolnSpine.scale.x=1):(this.lincolnSpine.setAnim("run-inverse",!0),this.lincolnSpine.scale.x=-1))))},b.prototype.setLincDir=function(a){a<=0?this.inverseSpine=!0:a>0&&(this.inverseSpine=!1)},b.prototype.attemptSpawnBag=function(){this.beginSisterBagDrop(!1)},b.prototype.increaseDifficulty=function(){this.currentDifficultyLevel++,this.currentDifficultyLevel>this.difficultyParams.length-1&&(this.currentDifficultyLevel=this.difficultyParams.length-1),this.currentBagSpawnInterval=this.difficultyParams[this.currentDifficultyLevel].bagSpawnInterval},b.prototype.getBagStates=function(){if(this.closestBag=this.bagManager.getClosestBag(this.lincolnSpine),this.closestBag){var a=this.lincolnSpine.position.x-this.closestBag.holderOuter.position.x;Math.abs(a)<=this.kickRange?0==this.lincInKickRange&&this.kickRangeActivate(!0):1==this.lincInKickRange&&this.kickRangeActivate(!1),this.closestBag.holderOuter.y<this.bagVertKickHeight&&1==this.lincInKickRange&&this.kickRangeActivate(!1)}},b.prototype.kickRangeActivate=function(a){this.lincInKickRange!=a&&(1==a&&(this.lincInKickRange=!0,this.kickPowerFill.scale.x=this.kickPowerFill.scale.y=0),0==a&&(1==this.kickingInProgress&&(this.lincIdling=!1,this.lincolnSpine.state.timeScale=1,0==this.inverseSpine?(this.lincolnSpine.setAnim("run",!0),this.lincolnSpine.scale.x=1):(this.lincolnSpine.setAnim("run-inverse",!0),this.lincolnSpine.scale.x=-1)),this.lincInKickRange=!1,this.kickingInProgress=!1,this.kickPowerFill.scale.x=this.kickPowerFill.scale.y=0,this.kickPowerFactor=0))},b.prototype.positionKickIndicator=function(){if(0!=this.lincInKickRange&&this.closestBag){this.kickAngleIndicator.position.x=this.closestBag.holderOuter.position.x,this.kickPowerFill.position.x=this.closestBag.holderOuter.position.x,this.kickPowerRing.position.x=this.closestBag.holderOuter.position.x;var a=this.lincolnSpine.position.x-this.closestBag.holderOuter.position.x,b=a/this.kickRange,c=Math.PI/2*b-Math.PI/2;this.kickAngle=Math.PI-c,this.kickAngleIndicator.rotation=Math.PI-c}},b.prototype.checkHeartPickUpDistance=function(){++this.heartBoxJiggleCounter>=this.heartBoxJiggleLimit&&(this.heartBoxJiggleCounter=0,this.physicsManager.jiggleHeartBox());var a=this.lincolnSpine.position.x-this.heartBoxPhysics.position.x;if(!(Math.abs(a)>60)){this.heartPowerUpActive=!1,this.heartPickupAnim.position.x=this.heartBoxPhysics.position.x,this.heartPickupAnim.position.y=this.heartBoxPhysics.position.y,this.heartPickupAnim.gotoAndStop(0),this.heartPickupAnim.play(),this.heartBoxPhysics.position.y=-1e3,this.heartBoxShine.position.y=-1e3,this.physicsManager.removeHeartBoxBody(),Game.playSound("powerup",.8);for(var b=0;b<this.lifeHearts.length;b++)if(1!=this.lifeHearts[b].active)return this.lifeHearts[b].sprite.scale.x=0,this.lifeHearts[b].sprite.scale.y=0,this.lifeHearts[b].sprite.visible=!0,this.lifeHearts[b].active=!0,void TweenMax.to(this.lifeHearts[b].sprite.scale,.2,{x:1,y:1,ease:Back.easeOut})}},b.prototype.positionViewport=function(){var a=this.mainHolder.position.x+=(-this.lincolnSpine.position.x-this.mainHolder.position.x+this.mainHolderPos.x)/this.cameraMotionEaseAmount;a>this.maxMainHolderPos&&(a=this.maxMainHolderPos),a<this.minMainHolderPos&&(a=this.minMainHolderPos),this.mainHolder.position.x=a,this.trashHolder1.position.x=.1*(0+(a+1e3)),this.trashHolder2.position.x=.15*(0+(a+1e3))},b.prototype.bagInBin=function(a,b){if(0!=this.bagManager.bagAllowedToScore(a)&&(this.bagManager.bagInBin(a),1!=this.gameOverDelayActive)){switch(this.currentLiveBags--,0==this.currentLiveBags&&this.game.ui.disableCGButton(),Game.playSound("ding"),Game.playSound("rumble"),this.currentScore++,Game.getRandom(1,3,!0)){case 1:break;case 2:Game.playSound("linc-woo");break;case 3:Game.playSound("linc-happy-yes")}this.currentScore>=15&&this.game.earnCrossGameCurrency(),this.scoreBg.tint=65280,this.scoreChangeText.alpha=0,this.scoreChangeText.position.y=70,this.scoreTimeline=this.killTween(this.scoreTimeline),this.scoreTimeline=new TimelineMax,this.scoreHolder.scale.x=this.scoreHolder.scale.y=.5,this.scoreTimeline.add(TweenMax.to(this.scoreHolder.scale,.5,{x:1,y:1,ease:Elastic.easeOut})),this.scoreTimeline.call(this.tintScoreBackToWhite,[this],null,.15),this.scoreTimeline.add(TweenMax.to(this.scoreChangeText,.1,{alpha:1,ease:Power2.easeOut}),0),this.scoreTimeline.add(TweenMax.to(this.scoreChangeText.position,1,{y:0,ease:Power2.easeOut}),0),this.scoreTimeline.add(TweenMax.to(this.scoreChangeText,.9,{alpha:0,ease:Power2.easeInOut}),.1),this.scoreChangeText.tint=65280,this.scoreChangeText.text="+1",this.scoreText.text=String(this.currentScore),this.scoreText.position.x=0,this.scoreTextHolder.setRegPoint(.5,.5),this.binApple.position.x=this.binApplePos.x,this.binApple.position.y=this.binApplePos.y,this.binBanana.position.x=this.binBananaPos.x,this.binBanana.position.y=this.binBananaPos.y,this.binCup.position.x=this.binCupPos.x,this.binCup.position.y=this.binCupPos.y,this.binDirt1.position.x=this.binDirt1Pos.x,this.binDirt1.position.y=this.binDirt1Pos.y,this.binDirt2.position.x=this.binDirt2Pos.x,this.binDirt2.position.y=this.binDirt2Pos.y,this.binDirt3.position.x=this.binDirt3Pos.x,this.binDirt3.position.y=this.binDirt3Pos.y,this.binAnimation=this.killTween(this.binAnimation),this.binAnimation=new TimelineMax;var c,d;"left"==b?(c=this.leftBin,d=this.binBackLeft,this.binContents.position.x=this.leftBin.position.x,this.binContents.position.y=this.leftBin.position.y-120):(c=this.rightBin,d=this.binBackRight,this.binContents.position.x=this.rightBin.position.x,this.binContents.position.y=this.rightBin.position.y-120),this.binAnimation.add(TweenMax.to(c,.1,{rotation:-.05,ease:Power1.easeInOut}),0),this.binAnimation.add(TweenMax.to(d,.1,{rotation:-.05,ease:Power1.easeInOut}),0),this.binAnimation.add(TweenMax.to(c,.1,{rotation:.03,ease:Power1.easeInOut}),.1),this.binAnimation.add(TweenMax.to(d,.1,{rotation:.03,ease:Power1.easeInOut}),.1),this.binAnimation.add(TweenMax.to(c,.1,{rotation:0,ease:Power1.easeInOut}),.2),this.binAnimation.add(TweenMax.to(d,.1,{rotation:0,ease:Power1.easeInOut}),.2),this.binAnimation.add([TweenMax.to(this.binApple.position,.5,{y:"-=100",ease:Power1.easeInOut}),TweenMax.to(this.binApple,.5,{rotation:"-=0.4",ease:Power1.easeInOut}),TweenMax.to(this.binApple.position,.5,{y:"+=100",ease:Power1.easeInOut,delay:.5}),TweenMax.to(this.binBanana.position,.5,{y:"-=130",ease:Power1.easeInOut,delay:.05}),TweenMax.to(this.binBanana,.5,{rotation:"+=0.4",ease:Power1.easeInOut,delay:.05}),TweenMax.to(this.binBanana.position,.5,{y:"+=130",ease:Power1.easeInOut,delay:.55}),TweenMax.to(this.binCup.position,.5,{y:"-=150",ease:Power1.easeInOut,delay:.1}),TweenMax.to(this.binCup,.5,{rotation:"+=0.7",ease:Power1.easeInOut,delay:.1}),TweenMax.to(this.binCup.position,.5,{y:"+=150",ease:Power1.easeInOut,delay:.6}),TweenMax.to(this.binDirt1.position,.5,{y:"-=120",ease:Power1.easeInOut}),TweenMax.to(this.binDirt1,.5,{rotation:"+=0.7",ease:Power1.easeInOut}),TweenMax.to(this.binDirt1.position,.5,{y:"+=120",ease:Power1.easeInOut,delay:.5}),TweenMax.to(this.binDirt2.position,.5,{y:"-=120",ease:Power1.easeInOut,delay:.1}),TweenMax.to(this.binDirt2,.5,{rotation:"-=0.7",ease:Power1.easeInOut,delay:.1}),TweenMax.to(this.binDirt2.position,.5,{y:"+=120",ease:Power1.easeInOut,delay:.6}),TweenMax.to(this.binDirt3.position,.5,{y:"-=130",ease:Power1.easeInOut,delay:.03}),TweenMax.to(this.binDirt3,.5,{rotation:"+=0.7",ease:Power1.easeInOut,delay:.03}),TweenMax.to(this.binDirt3.position,.5,{y:"+=130",ease:Power1.easeInOut,delay:.53}),TweenMax.to(this.trashHolder1.position,.1,{y:"-=5",ease:Power1.easeInOut,delay:0}),TweenMax.to(this.trashHolder1.position,.1,{y:"+=5",ease:Power1.easeInOut,delay:.1}),TweenMax.to(this.trashHolder2.position,.1,{y:"-=5",ease:Power1.easeInOut,delay:0}),TweenMax.to(this.trashHolder2.position,.1,{y:"+=5",ease:Power1.easeInOut,delay:.1})],0)}},b.prototype.tintScoreBackToWhite=function(a){a.scoreBg.tint=16777215},b.prototype.addBagBody=function(a){this.physicsManager.addBodyToWorld(a)},b.prototype.addWasteParticleBody=function(a){this.physicsManager.addBodyToWorld(a)},b.prototype.keyDown=function(b){a.prototype.keyDown.call(this,b),1!=this.paused&&0!=this.inputAllowed&&("spacebar"==b&&this.startKickBag(),"right"==b&&this.setLincolnMovementKeys("right","down"),"left"==b&&this.setLincolnMovementKeys("left","down"))},b.prototype.keyUp=function(b){a.prototype.keyUp.call(this,b),"right"==b&&this.setLincolnMovementKeys("right","up"),"left"==b&&this.setLincolnMovementKeys("left","up"),"spacebar"==b&&this.endKickBag()},b.prototype.setLincolnMovementKeys=function(a,b){"down"==b&&(this.dirButtonsDown++,this.moveLincoln(a),"left"==a&&(this.leftDown=!0),"right"==a&&(this.rightDown=!0),"right"==a&&(this.changeLincDirectionMovement("right"),this.rightDown=!0),"left"==a&&(this.changeLincDirectionMovement("left"),this.leftDown=!0)),"up"==b&&(this.dirButtonsDown--,"left"==a&&(this.leftDown=!1,1==this.rightDown&&this.changeLincDirectionMovement("right")),"right"==a&&(this.rightDown=!1,1==this.leftDown&&this.changeLincDirectionMovement("left")),0==this.leftDown&&0==this.rightDown&&this.stopLincolnMoving(),0==this.dirButtonsDown&&(this.leftDown=!1,this.rightDown=!1,this.stopLincolnMoving()))},b.prototype.inputUpOutside=function(){this.stopLincolnMoving(),this.leftDown=!1,this.rightDown=!1},b.prototype.changeLincDirectionMovement=function(a){this.abortedKickDelay=this.killTween(this.abortedKickDelay),"left"==a?(this.lincolnRunDir=-1,this.setLincDir(-1)):"right"==a&&(this.lincolnRunDir=1,this.setLincDir(1)),this.physicsManager.changeMovingLincolnDir(this.lincolnRunDir)},b.prototype.getPhysicsBag=function(){return this.physicsManager.getPhysicsBag()},b.prototype.getPhysicsBagWasteParticle=function(){return this.physicsManager.getPhysicsBagWasteParticle()},b.prototype.particleRemove=function(a){this.bagManager.deactivateWasteParticle(a),this.physicsManager.removeBodyFromWorld(a)},b.prototype.startKickBag=function(){if(1!=this.gameOverDelayActive&&1!=this.kickButtonDown&&(this.kickButtonDown=!0,1!=this.kickingInProgress)){if(0==this.lincInKickRange)return 0==this.inverseSpine?(this.lincolnSpine.setAnim("charge",!0),this.lincolnSpine.scale.x=1):(this.lincolnSpine.setAnim("charge-inverse",!0),this.lincolnSpine.scale.x=-1),this.abortedKickDelay=TweenMax.delayedCall(.5,this.endAbortedKick,[this]),void this.stopLincolnMoving();this.adjustLincDirKick(),0==this.inverseSpine?(this.lincolnSpine.setAnim("charge",!0),this.lincolnSpine.scale.x=1):(this.lincolnSpine.setAnim("charge-inverse",!0),this.lincolnSpine.scale.x=-1),this.kickingInProgress=!0,this.kickPowerFactor=0,this.kickPowerFill.scale.x=this.kickPowerFill.scale.y=this.kickPowerFactor,this.kickPowerTween=TweenMax.to(this,.5,{kickPowerFactor:1,ease:Power0.easeOut})}},b.prototype.endKickBag=function(){if(1!=this.gameOverDelayActive&&(this.kickButtonDown=!1,0!=this.kickingInProgress&&(this.kickingInProgress=!1,0!=this.lincInKickRange&&this.closestBag))){this.endKickAnimationDelay=this.killTween(this.endKickAnimationDelay),this.lincolnSpine.state.timeScale=3,0==this.inverseSpine?this.lincolnSpine.setAnim("kick",!0):this.lincolnSpine.setAnim("kick-inverse",!0),this.endKickAnimationDelay=TweenMax.delayedCall(.5,this.endKickAnimation,[this]),this.adjustLincDirKick(),this.kickPowerFill.scale.x=this.kickPowerFill.scale.y=0;var a=Math.cos(this.kickAngle),b=Math.sin(-this.kickAngle);this.kickAnimation.position.x=this.closestBag.holderOuter.position.x,this.kickAnimation.position.y=this.closestBag.holderOuter.position.y-50,this.kickAnimation.gotoAndStop(0),this.kickAnimation.play(),Game.playSound("kick"),Game.playSound("slap-3"),this.physicsManager.kickBag(a,b,this.closestBag.body,this.kickPowerFactor)}},b.prototype.endAbortedKick=function(a){a.endKickAnimation(a)},b.prototype.adjustLincDirKick=function(){this.lincolnSpine.position.x<this.closestBag.holderOuter.position.x?this.setLincDir(1):this.lincolnSpine.position.x>=this.closestBag.holderOuter.position.x&&this.setLincDir(-1)},b.prototype.endKickAnimation=function(a){return 1==a.leftDown||1==a.rightDown?(a.lincolnSpine.state.timeScale=1,void(0==a.inverseSpine?(a.lincolnSpine.setAnim("run",!0),this.lincolnSpine.scale.x=1):(a.lincolnSpine.setAnim("run-inverse",!0),this.lincolnSpine.scale.x=-1))):0==a.leftDown&&0==a.rightDown?(a.lincolnSpine.state.timeScale=1,void(0==a.inverseSpine?(a.lincolnSpine.setAnim("idle",!0),this.lincolnSpine.scale.x=1):(a.lincolnSpine.setAnim("idle-inverse",!0),this.lincolnSpine.scale.x=-1))):void 0},b.prototype.pause=function(){a.prototype.pause.call(this),this.bagManager.pause(),this.kickAnimation.stop(),this.lincolnSpine.pause(),Game.pauseSound("accoustic")},b.prototype.resume=function(){a.prototype.resume.call(this),this.setGameplayUI(),this.bagManager.resume(),this.kickAnimation.play(),this.lincolnSpine.resume(),Game.resumeSound("accoustic")},b.prototype.restore=function(){a.prototype.restore.call(this),this.game.ui.setUI("pause")},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.kickPowerTween=this.killTween(this.kickPowerTween),this.endKickAnimationDelay=this.killTween(this.endKickAnimationDelay),this.removeHeartAnimation=this.killTween(this.removeHeartAnimation),this.scoreTimeline=this.killTween(this.scoreTimeline),this.gameOverDelay=this.killTween(this.gameOverDelay),this.abortedKickDelay=this.killTween(this.abortedKickDelay);for(var b=0;b<this.sisters.length;b++)Game.displayStore.returnPooledItem(this.sisters[b].sisterBag),Game.displayStore.returnPooledItem(this.sisters[b].sisterHolder),Game.displayStore.returnPooledItem(this.sisters[b].sister);for(var b=0;b<this.backgroundWall.length;b++)Game.displayStore.returnPooledItem(this.backgroundWall[b].sprite);for(var b=0;b<this.lifeHearts.length;b++)Game.displayStore.returnPooledItem(this.lifeHearts[b].sprite);Game.displayStore.returnPooledItem(this.binWallLeft),Game.displayStore.returnPooledItem(this.binWallRight),Game.displayStore.returnPooledItem(this.leftBin),Game.displayStore.returnPooledItem(this.rightBin),Game.displayStore.returnPooledItem(this.door1Panel),Game.displayStore.returnPooledItem(this.door2Panel),Game.displayStore.returnPooledItem(this.door3Panel),this.bagManager.destroy(),this.renderTextureDoor1Left.clear(),this.renderSpriteDoor1Left.destroyRenderTexture(),this.renderTextureDoor2Left.clear(),this.renderSpriteDoor2Left.destroyRenderTexture(),this.renderTextureDoor3Left.clear(),this.renderSpriteDoor3Left.destroyRenderTexture(),Game.displayStore.returnPooledItem(this.binBackLeft),Game.displayStore.returnPooledItem(this.binBackRight),Game.displayStore.returnPooledItem(this.floorDirt1),Game.displayStore.returnPooledItem(this.floorDirt2),Game.displayStore.returnPooledItem(this.floorDirt3),Game.displayStore.returnPooledItem(this.floorDirt4),Game.displayStore.returnPooledItem(this.floorDirt5),Game.displayStore.returnPooledItem(this.floorEndLeft),Game.displayStore.returnPooledItem(this.floorEndRight),Game.stopSound("accoustic");for(var b=0;b<this.trashPile1.length;b++)Game.displayStore.returnPooledItem(this.trashPile1[b].sprite);for(var b=0;b<this.trashPile2.length;b++)Game.displayStore.returnPooledItem(this.trashPile2[b].sprite);for(var b=0;b<this.floorTexture.length;b++)Game.displayStore.returnPooledItem(this.floorTexture[b].sprite);for(var b=0;b<this.heartBoxSprites.length;b++)Game.displayStore.returnPooledItem(this.heartBoxSprites[b].sprite)},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},LoudLaundryGameplayScene=function(a){function b(b){a.call(this,b),this.id="loudLaundryGameplayScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),Game.displayStore.flush(["title-loud-laundry-assets","intro-loud-laundry-assets"]),Game.playSound("background-music",.2),this.tutorialOverlayHolder=Game.displayStore.getContainer("laundry-tutorial-overlay"),this.tutorialOn=!0,this.sweepDelay=0,this.crossCurrencyOverlayHolder=Game.displayStore.getContainer("laundry-cross-currency-overlay"),this.crossCurrencyOverlayBG=this.crossCurrencyOverlayHolder.getSprite("laundry-overlay-bg"),this.setBackgroundColor(13421772),this.game.ui.setUI("skip"),this.currentMousePos=new PIXI.Point,this.washingMachines=new Array,this.perfectWashes=0,this.roomHolder=Game.displayStore.getContainer("loud-laundry/room-holder"),this.score=0,this.sisterManager=new SisterManager(this),this.gameplayManager=new GameplayManager(this),this.lincFront=Game.displayStore.getContainer("loud-laundry/linc-front"),this.lincArms=Game.displayStore.getMovieClip("loud-laundry/linc-front-arms"),this.lincArms.loop=!0,this.lincArms.animationSpeed=.4,this.lincArms.play(),this.lincArms.alpha=0,this.lincArms.scale=new PIXI.Point(1.4,1.5),this.lincFront.addChildAt(this.lincArms,1),this.lincSideSpine=Game.displayStore.getSpine("linc-side-spine"),this.lincSideSpine.setAnim("run-inverse",!0),this.lincSideSpine.position=new PIXI.Point(1200,545),this.lincSideSpine.alpha=0,this.lincSideSpine.scale.x=-1,this.lincSideSpine.state.timeScale=1.5,this.scoreHolder=Game.displayStore.getContainer("loud-laundry/score-holder"),this.scoreText=Game.displayStore.getBitmapText("score-font"),this.scoreChangeText=Game.displayStore.getBitmapText("score-change-font"),this.scoreText.text=this.score.toString(),this.scoreText.position.x=-10-this.scoreText.width/2,this.scoreText.position.y=-43,this.scoreText.rotation=this.scoreChangeText.rotation=-.1,this.scoreChangeText.alpha=0,this.scoreHolder.addChild(this.scoreText),this.scoreHolder.addChild(this.scoreChangeText),this.scoreHolder.scale=new PIXI.Point(0,0),TweenMax.to(this.scoreHolder.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.5}),1==Game.webGL&&1==Game.onDesktop&&(this.useFilters=!0),this.mainContainer=Game.displayStore.getContainer("main-content-holder"),this.crossCurrencyOverlayDisplayed=!1,this.inputAllowed=!1,this.backgroundContainer=Game.displayStore.getContainer("background-container"),this.washingIcon=new WashingIcon(this),this.mainLaundryBin=new LaundryBinMain(this),this.whitesLaundryBin=new LaundryBin(this,"whites"),this.coloursLaundryBin=new LaundryBin(this,"colours"),this.stairs=new Stairs(this),this.washingMachine1=new WashingMachine(this,Game.displayStore.getContainer("loud-laundry/washing-machine-1"),0),this.washingMachine2=new WashingMachine(this,Game.displayStore.getContainer("loud-laundry/washing-machine-2"),1),this.washingMachine3=new WashingMachine(this,Game.displayStore.getContainer("loud-laundry/washing-machine-3"),2),this.washingMachines.push(this.washingMachine1),this.washingMachines.push(this.washingMachine2),this.washingMachines.push(this.washingMachine3),this.sudBombHolder=Game.displayStore.getContainer("loud-laundry/sud-bomb-holder"),this.sudBombBackground=this.sudBombHolder.getSprite("loud-laundry/sud-bg.png"),this.sudBombBackground.scale=new PIXI.Point(0,0),this.sudBombHolder.position=new PIXI.Point(Game.stageWidth/2,Game.stageHeight/2),this.sudBombBackground.alpha=0,this.blackout=Game.displayStore.getSprite("loud-laundry/black-out"),this.blackout.width=Game.stageWidth+300,this.blackout.height=Game.stageHeight+100,this.blackout.position.y=-40,this.blackout.alpha=.4,this.tutorialOn=!0,this.backgroundContainer=Game.displayStore.getContainer("background-container"),this.stageHitSprite=Game.displayStore.getSprite("loud-laundry/hit-square.png"),this.stageHitSprite.width=this.backgroundContainer.width,this.stageHitSprite.height=Game.stageHeight,this.stageHitSprite.alpha=0,this.stageHitSprite.interactive=!0,this.mainContainer.addChild(this.roomHolder),this.roomHolder.addChild(this.backgroundContainer),this.roomHolder.addChild(this.stairs.container),this.roomHolder.addChild(this.washingMachine1.container),this.roomHolder.addChild(this.washingMachine2.container),this.roomHolder.addChild(this.washingMachine3.container),this.roomHolder.addChild(this.lincSideSpine),this.roomHolder.addChild(this.lincFront),this.roomHolder.addChild(this.blackout),this.roomHolder.addChild(this.stageHitSprite),this.roomHolder.addChild(this.mainLaundryBin.container),this.roomHolder.addChild(this.whitesLaundryBin.container),this.roomHolder.addChild(this.coloursLaundryBin.container),this.mainContainer.addChild(this.washingIcon.container),this.mainContainer.addChild(this.scoreHolder),this.container.addChild(this.mainContainer),this.container.addChild(this.tutorialOverlayHolder)},b.prototype.removeTutorialOverlay=function(){1==this.game.crossGameCurrencyOwned&&0==this.crossCurrencyOverlayDisplayed?(this.crossCurrencyOverlayDisplayed=!0,this.container.removeChild(this.tutorialOverlayHolder),this.container.addChild(this.crossCurrencyOverlayHolder)):0!=this.game.crossGameCurrencyOwned&&1!=this.crossCurrencyOverlayDisplayed||(this.tutorialOn=!1,this.container.removeChild(this.tutorialOverlayHolder),this.container.removeChild(this.crossCurrencyOverlayHolder),this.game.ui.setUI("gameplay"),this.inputAllowed=!0,this.gameplayManager.startGame(6),Game.fadeSound("background-music",.5,.35))},b.prototype.activateSudBomb=function(){Game.playSound("boom"),Game.playSound("water-splash-2"),this.sudBombTimeline=this.killTween(this.sudBombTimeline),this.sudBombTimeline=new TimelineMax,this.mainContainer.addChild(this.sudBombHolder),this.sudBombTimeline.add([TweenMax.to(this.sudBombBackground,1,{alpha:1,ease:Power1.easeInOut}),TweenMax.to(this.sudBombBackground.scale,1,{x:18,y:18,ease:Power1.easeInOut})]),this.sudBombTimeline.add(TweenMax.to(this.sudBombBackground,1,{alpha:0,ease:Power2.easeInOut})),this.sudBombTimeline.call(function(){for(var a=0;a<this.washingMachines.length;a++)this.washingMachines[a].clear();this.mainLaundryBin.clear(),this.whitesLaundryBin.clear(),this.coloursLaundryBin.clear(),this.sisterManager.satisfyAllSisters(),this.lincPopTimeline=this.killTween(this.lincPopTimeline),this.lincSweepTimeline=this.killTween(this.lincSweepTimeline)},null,this,.7),this.washingIcon.stop(this.washingIcon),this.showHideWashingMachinesTimeline=this.killTween(this.showHideWashingMachinesTimeline),this.showHideWashingMachinesTimeline=new TimelineMax,this.showHideWashingMachinesTimeline.add([TweenMax.to(this.roomHolder.position,1,{x:0,y:0,ease:Power2.easeOut}),TweenMax.to(this.mainLaundryBin.container.position,1,{x:100,y:770,ease:Power2.easeOut}),TweenMax.to(this.blackout,1,{alpha:.4,ease:Power2.easeOut}),TweenMax.to(this.coloursLaundryBin.container.position,1,{x:this.coloursLaundryBin.origPos.x,y:this.coloursLaundryBin.origPos.y,ease:Power2.easeOut}),TweenMax.to(this.whitesLaundryBin.container.position,1,{x:this.whitesLaundryBin.origPos.x,y:this.whitesLaundryBin.origPos.y,ease:Power2.easeOut})],0),this.sudBombParticles=new ParticleBurst(["loud-laundry/sud-1","loud-laundry/sud-2","loud-laundry/sud-3","loud-laundry/sud-bubble-1","loud-laundry/sud-bubble-2"],this.sudBombHolder,{lowerAngle:0,upperAngle:360,lowerVelocity:400,upperVelocity:1500,endScale:1.5,lowerStartScale:0,upperStartScale:0,friction:0,XstartRange:0,YstartRange:0,time:1,gravity:0,stagger:100,cap:100,endAlpha:0,rotationPower:.2}),this.sudBombParticles.fire(),this.sudBombTimeline.call(this.gameplayManager.advanceToNextSister,null,this.gameplayManager,3.5)},b.prototype.spawnPowerupLiquid=function(){
this.powerupItem=new PowerupItem(this),Game.playSound("scifi-reveal")},b.prototype.didPerfectWash=function(){var a;a=this.score<50?2:3,this.perfectWashes<a?this.perfectWashes++:(this.perfectWashes=0,this.spawnPowerupLiquid())},b.prototype.addLaundry=function(a,b){this.stairs.spawn(a,b)},b.prototype.updateScore=function(a,b){b&&(a.score+=b),1==b&&Game.playSound("ding-done"),3==b&&Game.playSound("ding"),b<0&&Game.playSound("linc-dang-it"),a.score>50&&a.game.earnCrossGameCurrency(),b&&(b>0?(a.scoreChangeText.tint=65280,a.scoreHolder.getSpriteAt(0).tint=65280,a.scoreChangeText.text="+"+b.toString()):(a.scoreChangeText.tint=16711680,a.scoreHolder.getSpriteAt(0).tint=16711680,a.scoreChangeText.text=b.toString())),a.scoreChangeText.alpha=0,a.scoreChangeText.position.y=70,a.scoreTimeline=a.killTween(a.scoreTimeline),a.scoreTimeline=new TimelineMax,a.scoreHolder.scale.x=a.scoreHolder.scale.y=.5,a.scoreTimeline.add(TweenMax.to(a.scoreHolder.scale,.5,{x:1,y:1,ease:Elastic.easeOut})),a.scoreTimeline.call(function(){a.scoreHolder.getSpriteAt(0).tint=16777215},null,this,.15),b&&a.scoreTimeline.add(TweenMax.to(a.scoreChangeText,.1,{alpha:1,ease:Power2.easeOut}),0),a.scoreTimeline.add(TweenMax.to(a.scoreChangeText.position,1,{y:0,ease:Power2.easeOut}),0),a.scoreTimeline.add(TweenMax.to(a.scoreChangeText,.9,{alpha:0,ease:Power2.easeInOut}),.1),a.scoreText.text=a.score.toString(),a.scoreText.position.x=-10-a.scoreText.width/2},b.prototype.parallaxRoom=function(a){var b=10,c=-150-(a.x-Game.stageWidth/2)/4,d=20-(a.y-Game.stageHeight/2)/12,e=40-(a.x-Game.stageWidth/2)/7,f=840-(a.y-Game.stageHeight/2)/12,g=650-(a.x-Game.stageWidth/2)/7,h=560-(a.y-Game.stageWidth/2)/12,i=400-(a.x-Game.stageWidth/2)/7;this.roomHolder.position.x+=(c-this.roomHolder.position.x)/b,this.roomHolder.position.y+=(d-this.roomHolder.position.y)/b,this.mainLaundryBin.container.position.x+=(e-this.mainLaundryBin.container.position.x)/b,this.mainLaundryBin.container.position.y+=(f-this.mainLaundryBin.container.position.y)/b,this.whitesLaundryBin.container.position.x+=(g-this.whitesLaundryBin.container.position.x)/b,this.whitesLaundryBin.container.position.y+=(h-this.whitesLaundryBin.container.position.y)/b,this.coloursLaundryBin.container.position.x+=(i-this.coloursLaundryBin.container.position.x)/b,this.coloursLaundryBin.container.position.y+=(h-this.coloursLaundryBin.container.position.y)/b},b.prototype.startedMovingBin=function(a,b,c){b.roomHolder.addChild(b.stageHitSprite),this.showHideWashingMachinesTimeline=this.killTween(this.showHideWashingMachinesTimeline),b.currentMousePos.x=c.data.getLocalPosition(b.roomHolder).x,b.currentMousePos.y=c.data.getLocalPosition(b.roomHolder).y,a.emptyBar(),this.washingIcon.start(this.washingIcon,b.currentMousePos,a.items,a.type,a.bar.scale.x),this.showHideWashingMachinesTimeline=new TimelineMax,this.showHideWashingMachinesTimeline.add([TweenMax.to(this.blackout,.5,{alpha:0,ease:Power2.easeOut})],0)},b.prototype.movingBin=function(a,b){a.currentMousePos.x=b.data.getLocalPosition(a.mainContainer).x,a.currentMousePos.y=b.data.getLocalPosition(a.mainContainer).y},b.prototype.stoppedMovingBin=function(a,b){b.stageHitSprite.removeAllListeners(),b.roomHolder.addChild(b.mainLaundryBin.container),b.roomHolder.addChild(b.whitesLaundryBin.container),b.roomHolder.addChild(b.coloursLaundryBin.container),this.showHideWashingMachinesTimeline=this.killTween(this.showHideWashingMachinesTimeline),this.showHideWashingMachinesTimeline=new TimelineMax;var c,d=0;c=new Array;for(var e=0;e<this.washingMachines.length;e++)c.push({index:e,distance:this.getDistance(this.washingIcon.container.position.x,this.washingIcon.container.position.y,this.mainContainer.toLocal(new PIXI.Point(120,107),this.washingMachines[e].container).x,this.mainContainer.toLocal(new PIXI.Point(120,107),this.washingMachines[e].container).y)});if(c.push({index:this.washingMachines.length,distance:this.getDistance(this.washingIcon.container.position.x,this.washingIcon.container.position.y,this.mainContainer.toLocal(new PIXI.Point(60,-300),this.mainLaundryBin.container).x,this.mainContainer.toLocal(new PIXI.Point(60,-300),this.mainLaundryBin.container).y)}),c.sort(function(a,b){return a.distance>b.distance?1:a.distance<b.distance?-1:0}),c[0].distance<150)if(c[0].index<this.washingMachines.length){var f=b.washingMachines[c[0].index];"empty"==f.state||"ready"==f.state?(d=1.1+.1*this.washingIcon.items.length,this.washingIcon.stop(this.washingIcon),a.state="emptying",f.pulse(),f.state="full",d+=this.queueLincPop(a,.04*this.washingIcon.items.length,f,this.washingIcon.items,d)):(this.washingIcon.stop(this.washingIcon,!0),"empty"!=a.state&&"emptying"!=a.state&&a.restoreBar())}else a.empty(),a.state="emptying",this.mainLaundryBin.addWashing(this.washingIcon.items),this.washingIcon.stop(this.washingIcon);else this.washingIcon.stop(this.washingIcon,!0),a.items.length>0&&a.restoreBar();0==d?this.showHideWashingMachinesTimeline.add([TweenMax.to(this.roomHolder.position,1,{x:0,y:0,ease:Power2.easeOut}),TweenMax.to(this.mainLaundryBin.container.position,1,{x:100,y:770,ease:Power2.easeOut}),TweenMax.to(this.blackout,1,{alpha:.4,ease:Power2.easeOut}),TweenMax.to(this.coloursLaundryBin.container.position,1,{x:this.coloursLaundryBin.origPos.x,y:this.coloursLaundryBin.origPos.y,ease:Power2.easeOut}),TweenMax.to(this.whitesLaundryBin.container.position,1,{x:this.whitesLaundryBin.origPos.x,y:this.whitesLaundryBin.origPos.y,ease:Power2.easeOut})],0):this.showHideWashingMachinesTimeline.add([TweenMax.to(this.roomHolder.position,1,{x:0,y:0,ease:Power2.easeInOut}),TweenMax.to(this.mainLaundryBin.container.position,1,{x:100,y:770,ease:Power2.easeInOut}),TweenMax.to(this.blackout,1,{alpha:.4,ease:Power2.easeInOut}),TweenMax.to(this.coloursLaundryBin.container.position,1,{x:this.coloursLaundryBin.origPos.x,y:this.coloursLaundryBin.origPos.y,ease:Power2.easeInOut}),TweenMax.to(this.whitesLaundryBin.container.position,1,{x:this.whitesLaundryBin.origPos.x,y:this.whitesLaundryBin.origPos.y,ease:Power2.easeInOut})],1.5*d+.2),this.showHideWashingMachinesTimeline.timeScale(2)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"pausebutton":this.pause(),Game.pauseSound("background-music");break;case"playbuttonlarge":this.resume();break;case"skipbutton":this.removeTutorialOverlay();break;case"helpbutton":this.game.setScene("helpScene",!1,["laundry",this.id]);break;case"homebutton":Game.stopSound("background-music");break;case"cgpowerupbutton":if(1==this.washingIcon.active)return void("whites"==this.washingIcon.type?this.stoppedMovingBin(this.whitesLaundryBin,this):this.stoppedMovingBin(this.coloursLaundryBin,this));this.activateSudBomb(),this.game.crossGameCurrencyOwned=!1,this.game.ui.killPowerUpButton()}},b.prototype.gameOver=function(){this.game.setScene("loudLaundryEndScene",!1,[this.score])},b.prototype.tick=function(){a.prototype.tick.call(this),1!=this.paused&&1!=this.tutorialOn&&(1==this.mainLaundryBin.active&&this.mainLaundryBin.tick(this.mainLaundryBin),1==this.washingIcon.active&&(this.currentMousePos.x<0&&(this.currentMousePos.x=0),this.currentMousePos.x>Game.stageWidth&&(this.currentMousePos.x=Game.stageWidth),this.washingIcon.tick(this.washingIcon,this.currentMousePos),this.parallaxRoom(this.currentMousePos)))},b.prototype.queueLincPop=function(a,b,c,d,e){return this.lincSweepTimeline&&1!=this.lincSweepTimeline.totalProgress()?(this.sweepDelay+=2,this.lincSweepTimeline.call(function(d){a.empty(c),this.popLincFront(a,b),c.delayedAddWashing(c,d,a.type,e)},[this.washingIcon.items],this,this.sweepDelay)):(this.sweepDelay=0,a.empty(c),this.popLincFront(a,b),c.delayedAddWashing(c,this.washingIcon.items,a.type,e)),this.sweepDelay},b.prototype.popLincFront=function(a,b){a.hideBar(),this.whitesLaundryBin!=a&&this.whitesLaundryBin.showBar(),this.coloursLaundryBin!=a&&this.coloursLaundryBin.showBar(),this.lincPopTimeline&&(this.lincPopTimeline=this.killTween(this.lincPopTimeline),this.lincFront.addChild(this.lincArms)),this.lincPopTimeline=new TimelineMax,this.lincFront.position.y=650,this.lincArms.alpha=1,this.lincFront.position.x=a.container.position.x-125,this.lincArms.position.x=130,this.lincArms.position.y=191,this.lincPopTimeline.call(Game.playSound,["swipe-1"],this,.2),this.lincPopTimeline.add(TweenMax.to(this.lincFront.position,.2,{y:280,ease:Back.easeOut}),.2),this.lincPopTimeline.call(function(){this.roomHolder.addChild(this.lincArms),this.lincArms.position.x+=this.lincFront.position.x,this.lincArms.position.y+=this.lincFront.position.y,b<.12?Game.playSound("swoosh-12"):Game.playSound("swoosh-11")},null,this),this.lincPopTimeline.add(TweenMax.to(this.lincFront.position,.2,{y:650,ease:Back.easeIn}),.7+b),this.lincPopTimeline.call(function(){this.lincFront.addChild(this.lincArms),this.lincArms.position.x=130,this.lincArms.position.y=191,Game.playSound("swipe-2")},null,this,.7+b),this.lincPopTimeline.call(a.showBar,null,a,1);var c=["linc-ahh","linc-shout","linc-sigh-2","linc-sigh-3"];this.lincPopTimeline.call(Game.playSound,[c[Game.getRandom(0,3,!0)]],this,0)},b.prototype.tryToSweepLinc=function(a,b){a.lincSweepTimeline&&a.lincSweepTimeline.totalProgress()<1?a.lincSweepTimeline.call(a.sweepingLinc,[a,b],a,a.lincSweepTimeline.duration()):a.sweepingLinc(a,b)},b.prototype.sweepingLinc=function(a,b){a.lincSweepTimeline=this.killTween(a.lincSweepTimeline);var c=.1+.25*(2-b.index);a.lincSideSpine.position.x=1300,a.lincSweepTimeline=new TimelineMax,a.roomHolder.addChildAt(a.lincSideSpine,a.roomHolder.children.length-7),a.roomHolder.addChild(a.stageHitSprite),a.roomHolder.addChild(a.coloursLaundryBin.container),a.roomHolder.addChild(a.whitesLaundryBin.container),a.mainLaundryBin.mostRecentItem&&a.roomHolder.addChild(a.mainLaundryBin.mostRecentItem.container),a.roomHolder.addChild(a.mainLaundryBin.container),Game.playSound("linc-walking-2"),a.lincSweepTimeline.add(TweenMax.to(a.lincSideSpine,.1,{alpha:0,ease:Power0.easeOut}),0),a.lincSweepTimeline.add(TweenMax.to(a.lincSideSpine,.1,{alpha:1,ease:Power0.easeOut}),0),a.lincSweepTimeline.add(TweenMax.to(a.lincSideSpine.position,1.5,{x:-250,ease:Power0.easeOut}),0),a.lincSweepTimeline.add(TweenMax.to(a.lincSideSpine,.1,{alpha:0})),a.lincSweepTimeline.call(b.sweepWashingAway,null,b,c);var d=["linc-grrr","linc-i-wont-give-up","linc-seriously","linc-sigh","linc-this-is-bad","linc-tired"];a.lincSweepTimeline.call(Game.playSound,[d[Game.getRandom(0,5,!0)]],this,c)},b.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},b.prototype.getAngle=function(a,b,c,d){if(a!=c||b!=d){var e=a-c,f=d-b;return Math.atan2(f,e)}},b.prototype.keyDown=function(b){a.prototype.keyDown.call(this,b),1!=this.paused&&this.inputAllowed},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this),this.pauseResumeTween(this.showHideWashingMachinesTimeline,"pause"),this.pauseResumeTween(this.lincPopTimeline,"pause"),this.pauseResumeTween(this.lincSweepTimeline,"pause"),this.washingMachine1.pause(),this.washingMachine2.pause(),this.washingMachine3.pause(),this.lincArms.gotoAndStop(0),this.gameplayManager.pause(),this.stairs.pause(),this.whitesLaundryBin.pause(),this.coloursLaundryBin.pause(),this.mainLaundryBin.pause(),this.lincSideSpine.pause(),this.powerupItem&&this.powerupItem.pause(),this.sudBombParticles&&this.sudBombParticles.pause()},b.prototype.resume=function(){this.game.ui.setUI("gameplay"),a.prototype.resume.call(this),this.pauseResumeTween(this.showHideWashingMachinesTimeline,"resume"),this.pauseResumeTween(this.lincPopTimeline,"resume"),this.pauseResumeTween(this.lincSweepTimeline,"resume"),Game.resumeSound("background-music"),this.washingMachine1.resume(),this.washingMachine2.resume(),this.washingMachine3.resume(),this.lincArms.play(),this.gameplayManager.resume(),this.stairs.resume(),this.whitesLaundryBin.resume(),this.coloursLaundryBin.resume(),this.mainLaundryBin.resume(),this.lincSideSpine.resume(),this.powerupItem&&this.powerupItem.resume(),this.sudBombParticles&&this.sudBombParticles.resume()},b.prototype.shuffleArray=function(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a},b.prototype.restore=function(){a.prototype.restore.call(this),this.game.ui.setUI("pause")},b.prototype.destroy=function(){a.prototype.destroy.call(this),Game.stopSound("background-music"),this.roomHolder.removeChild(this.lincFront);for(var b=0;b<this.washingMachines.length;b++)this.washingMachines[b].destroy(),this.washingMachines[b]=null;this.washingMachines=null,this.stairs.destroy(),this.gameplayManager.destroy(),this.sisterManager.destroy(),this.mainLaundryBin.destroy(),this.lincPopTimeline=this.killTween(this.lincPopTimeline),this.lincSweepTimeline=this.killTween(this.lincSweepTimeline),this.whitesLaundryBin.destroy(),this.coloursLaundryBin.destroy(),this.powerupItem&&this.powerupItem.destroy(),this.container.removeChild(this.mainContainer),this.sudBombParticles&&this.sudBombParticles.destroy()},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},GeoRollGameplayScene=function(a){function b(b){a.call(this,b),this.id="geoRollGameplayScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),Game.displayStore.flush(["title-geo-roll-assets","intro-geo-roll-assets"]),Game.playSound("funky"),Game.setSoundVolume("funky",.2),Game.fadeSound("funky",1,.2),this.setBackgroundColor(13421772),this.game.ui.setUI("skip"),this.useFilters=!1,this.stepCounter=0,this.joystickDown=!1,this.geoMaxJumps=2,this.geoCurrentJumps=0,this.crossGameSuperModeOn=!1,this.gameOverSequenceStarted=!1,this.geoTreatEffectOn=!1,this.geoTreatFrameCounter=0,this.geoTreatFrameLimit=Game.fps/60*60,this.geoStartedMoving=!1,this.geoScale=.6,this.geoShadowScale=1.1,this.geoWobbleCounter=0,this.geoWobbleVel=0,this.geoIdleState=!1,this.geoIdleStateLastFrame=!1,this.smokeMoveRate=Game.fps/20,this.allowJumpInput=!0,this.gameOverSequenceCounter=0,this.gameOverSequenceLimit=2*Game.fps,this.difficutlyLevel=0,this.distanceHolder=Game.displayStore.getContainer("distance-holder"),this.scoreText=Game.displayStore.getBitmapText("score-font"),this.scoreText.text="0",this.scoreM=Game.displayStore.getSprite("score-m"),this.distanceHolder.position.x=Game.stageWidth/2,this.distanceHolder.position.y=40,this.distanceHolder.addChild(this.scoreText),this.distanceHolder.addChild(this.scoreM),this.scoreM.position.x=this.scoreText.width+2,this.scoreM.position.y=28,this.distanceHolder.setRegPoint(.5,.5),this.calcDistanceCounter=0,this.calcDistanceCounterLimit=Game.fps/2,this.distance=0,this.displayDistance=0,this.displayDistanceString="0",this.whoopyCushionCounter=0,this.whoopyCushionLimit=Game.fps/2,this.whoopyCushionHit=!1,this.geoBallMoveFrameDelay=!0,this.staminaBarEaseAmount=4,this.staminaAdjustCounter=0,this.recordedStaminaState="high",this.newStaminaState="high",1==Game.isLowEndIPad?this.staminaAdjustLimit=1:this.staminaAdjustLimit=2,this.geoMoving=!1,this.staminaDrainCoolDownCounter=0,this.staminaDrainCoolDownLimit=Game.fps/2,this.staminaCoolDownOn=!1,this.staminaJumpCoolDownOn=!1,this.staminaJumpCoolDownCounter=0,this.staminaJumpCoolDownLimit=Game.fps/4,this.geoMaxSpeed=8,this.geoSpeedTweenTime=.1,this.geoCurrentSpeed=0,this.cameraMotionEaseAmount=20,this.cameraMotionZoomAmount=10,this.jumpStaminaCost=-300,this.moveStaminaCost=-10,this.recharageStaminaRate=30,this.geoHPos=250,this.geoMaxStamina=1e3,this.geoStamina=this.geoMaxStamina,this.redBarStartAlpha=1,this.redBarAlphaChange=.25,1==Game.webGL&&1==Game.onDesktop&&(this.useFilters=!0),this.useFilters,this.crossCurrencyOverlayDisplayed=!1,this.tutorialOverlayHolder=Game.displayStore.getContainer("geo-roll-tutorial-overlay"),this.tutorialOverlayBG=this.tutorialOverlayHolder.getSprite("geo-roll-overlay-bg"),this.crossCurrencyOverlayHolder=Game.displayStore.getContainer("geo-roll-cross-currency-overlay"),this.crossCurrencyOverlayBG=this.crossCurrencyOverlayHolder.getSprite("geo-roll-overlay-bg"),this.tutorialOverlayBG.width=Game.stageWidth,this.tutorialOverlayBG.height=Game.stageHeight,this.crossCurrencyOverlayBG.width=Game.stageWidth,this.crossCurrencyOverlayBG.height=Game.stageHeight,this.mainHolder=Game.displayStore.getContainer("main-holder"),this.zoomHolder=Game.displayStore.getContainer("zoom-holder"),this.zoomHolderRegPoint=new PIXI.Point(this.geoHPos,Game.stageHeight),this.zoomHolder.setRegPointPixels(this.zoomHolderRegPoint.x,this.zoomHolderRegPoint.y),this.zoomHolder.position.y=Game.stageHeight,this.zoomHolder.position.x=this.geoHPos,this.zoomHolder.scale.x=1.4,this.zoomHolder.scale.y=1.4,this.mainHolderPos=new PIXI.Point(this.geoHPos,0),this.mainHolder.position.x=this.mainHolderPos.x-this.geoHPos,this.mainHolder.position.y=this.mainHolderPos.y,this.geoBall=Game.displayStore.getSpine("geo-spine"),this.geoBall.stateData.setMix("run","idle",.2),this.geoBall.stateData.setMix("run","game-over",.3),this.geoBall.stateData.setMix("idle","run",.2),this.geoBall.stateData.setMix("idle","game-over",.3),this.geoBall.setAnim("idle",!0),this.geoBall.rewindAndStop(),this.geoBall.scale.x=this.geoScale,this.geoBall.scale.y=this.geoScale,this.geoBallShadow=Game.displayStore.getSprite("geo-ball-shadow"),this.geoBall.position.x=this.geoHPos,this.geoBall.position.y=425,this.geoBallShadow.position.x=this.geoBall.position.x,this.geoBallShadow.position.y=this.geoBall.position.y,this.torchBeam=Game.displayStore.getSprite("geo-roll-torch-beam"),this.torchBeam.position.x=-200,this.torchBeam.position.y=400,this.torchBeam.alpha=.5,this.torchBeam.blendMode=PIXI.BLEND_MODES.ADD,this.tutorialOn=!0,this.inputManager=new GeoRollInputManager(this),this.physicsManager=new GeoRollPhysicsManager(this,this.mainHolder,this.geoHPos),this.physicsManager.initPhysicsWorld(),this.obstacleManager=new GeoRollObstacleManager(this,this.mainHolder),this.levelManager=new GeoRollLevelManager(this,this.mainHolder,this.geoHPos,this.physicsManager.geoBallBody),this.obstacleManager.createObstacles(),this.whoopySmoke=new Array,this.whoopySmoke.push(Game.displayStore.getMovieClip("whoopee-frames-1")),this.whoopySmoke.push(Game.displayStore.getMovieClip("whoopee-frames-2")),this.whoopySmoke.push(Game.displayStore.getMovieClip("whoopee-frames-3")),this.geoSpeedAnim=Game.displayStore.getMovieClip("geo-speed-anim"),this.geoSpeedAnim.loop=!0,this.geoSpeedAnim.animationSpeed=.8,this.geoSpeedAnim.visible=!1,this.geoSpeedAnim.scale.x=this.geoSpeedAnim.scale.y=1.3,this.mainHolder.addChild(this.geoSpeedAnim),this.mainHolder.addChild(this.geoBall),this.mainHolder.addChild(this.geoBallShadow),this.mainHolder.addChild(this.torchBeam),this.geoBallShadow.scale.x=this.geoShadowScale,this.geoBallShadow.scale.y=this.geoShadowScale,this.setUpWhoopySmokeAnimations(),this.zoomHolder.addChild(this.mainHolder),this.container.addChild(this.zoomHolder),this.container.addChild(this.distanceHolder),this.geoStaminaHolder=Game.displayStore.getContainer("geo-roll-stamina-bar-holder"),this.geoStaminaHolder.position.y=80,this.geoStaminaHolder.position.x=20,this.geoStaminaFaceMedium=this.geoStaminaHolder.getSprite("geo-roll-stamina-geo-medium"),this.geoStaminaFaceSad=this.geoStaminaHolder.getSprite("geo-roll-stamina-geo-sad"),this.geoStaminaFaceHappy=this.geoStaminaHolder.getSprite("geo-roll-stamina-geo-happy"),this.geoStaminaFaceMunch=this.geoStaminaHolder.getSprite("geo-roll-stamina-geo-munch"),this.geoStaminaFaceHappy.visible=!0,this.geoStaminaFaceMedium.visible=!1,this.geoStaminaFaceSad.visible=!1,this.geoStaminaFaceMunch.visible=!1,this.geoStaminaBarContainer=this.geoStaminaHolder.getContainer("geo-roll-stamina-bar-container"),this.geoStaminaBarGreen=Game.displayStore.getSprite("geo-roll-stamina-bar"),this.geoStaminaBarRed=Game.displayStore.getSprite("geo-roll-stamina-bar"),this.geoStaminaBarOrange=Game.displayStore.getSprite("geo-roll-stamina-bar"),this.geoStaminaBarContainer.addChild(this.geoStaminaBarGreen),this.geoStaminaBarContainer.addChild(this.geoStaminaBarRed),this.geoStaminaBarContainer.addChild(this.geoStaminaBarOrange),this.geoStaminaBarGreen.tint=60700,this.geoStaminaBarRed.tint=16711680,this.geoStaminaBarOrange.tint=15569152,this.geoStaminaBarGreen.visible=!0,this.geoStaminaBarRed.visible=!1,this.geoStaminaBarOrange.visible=!1,this.geoStaminaBarContainer.position.x=114,this.geoStaminaBarContainer.position.y=0,this.geoStaminaBarOrigWidth=this.geoStaminaBarContainer.width,this.game.ui.enableCGButton(),this.container.addChild(this.geoStaminaHolder),this.container.addChild(this.tutorialOverlayHolder),this.useFilters},b.prototype.setUpWhoopySmokeAnimations=function(){for(var a=0;a<this.whoopySmoke.length;a++)this.whoopySmoke[a].animationSpeed=.15,this.whoopySmoke[a].loop=!1,this.whoopySmoke[a].position.x=-200,this.whoopySmoke[a].position.y=-200,this.whoopySmoke[a].scale.x=1.2,this.whoopySmoke[a].scale.y=1.2,this.mainHolder.addChild(this.whoopySmoke[a])},b.prototype.addBodyToWorld=function(a){this.physicsManager.addBodyToWorld(a)},b.prototype.removeBodyFromWorld=function(a){this.physicsManager.removeBodyFromWorld(a)},b.prototype.removeConstraintFromWorld=function(a){this.physicsManager.removeConstraintFromWorld(a)},b.prototype.addConstraintToWorld=function(a){this.physicsManager.addConstraintToWorld(a)},b.prototype.spawnObstacleFromChunkParse=function(a,b,c,d){this.obstacleManager.spawnObstacle(a,b,c,d)},b.prototype.spawnTreatInChunk=function(a,b){this.obstacleManager.spawnTreat(a,b)},b.prototype.removeTutorialOverlay=function(){1==this.game.crossGameCurrencyOwned&&0==this.crossCurrencyOverlayDisplayed?(this.crossCurrencyOverlayDisplayed=!0,this.container.removeChild(this.tutorialOverlayHolder),this.container.addChild(this.crossCurrencyOverlayHolder)):0!=this.game.crossGameCurrencyOwned&&1!=this.crossCurrencyOverlayDisplayed||(this.tutorialOn=!1,this.container.removeChild(this.tutorialOverlayHolder),this.container.removeChild(this.crossCurrencyOverlayHolder),this.inputManager.createInput(),this.setGameplayUI())},b.prototype.setGameplayUI=function(){1==Game.onDesktop?this.game.ui.setUI("gameplay"):this.game.ui.setUI("gameplay-mobile-geo")},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"pausebutton":this.pause();break;case"playbuttonlarge":this.resume();break;case"skipbutton":this.removeTutorialOverlay();break;case"helpbutton":this.game.setScene("helpScene",!1,["geoRoll",this.id]);break;case"homebutton":Game.stopSound("funky");break;case"jumpbutton":this.allowJumpInput=!0;break;case"cgpowerupbutton":this.activateCGPowerUp()}},b.prototype.downOnUI=function(b){switch(a.prototype.downOnUI.call(this,b),b.id){case"jumpbutton":this.geoHop()}},b.prototype.activateCGPowerUp=function(){this.game.crossGameCurrencyOwned=!1,this.game.ui.killPowerUpButton(),this.crossGameSuperModeOn=!0,this.fullStaminaPowerUp(!1),this.physicsManager.activateSuperMode(),this.geoSpeedAnim.visible=!0,this.geoSpeedAnim.play(),this.levelManager.activateSuperMode(),this.endSuperModeDelay=TweenMax.delayedCall(8,this.endSuperMode,[this]),this.endSuperModePreHopDelay=TweenMax.delayedCall(7.5,this.endSuperModePreHop,[this]),this.superModeTimeline=new TimelineMax,this.superModeTimeline.add([TweenMax.to(this.geoBall.scale,1,{x:this.geoScale+.2,y:this.geoScale+.2,ease:Back.easeOut}),TweenMax.to(this.geoBallShadow.scale,1,{x:this.geoShadowScale+.3,y:this.geoShadowScale+.3,ease:Back.easeOut})],0)},b.prototype.endSuperModePreHop=function(a){a.physicsManager.preDeactivateHop()},b.prototype.endSuperMode=function(a){a.geoSpeedAnim.visible=!1,a.superModeTimeline=new TimelineMax,a.superModeTimeline.add([TweenMax.to(a.geoBall.scale,1,{x:a.geoScale,y:a.geoScale,ease:Back.easeOut}),TweenMax.to(a.geoBallShadow.scale,1,{x:a.geoShadowScale,y:a.geoShadowScale,ease:Back.easeOut})],0),a.crossGameSuperModeOn=!1,a.physicsManager.deactivateSuperMode(),a.levelManager.deactivateSuperMode()},b.prototype.endVrPowerMode=function(){},b.prototype.gameOver=function(){this.gameOverSequenceStarted=!0,Game.playSound("geo-spotted"),this.geoBall.setAnim("game-over",!0),this.game.ui.disableCGButton()},b.prototype.checkBodyIsGeo=function(a){var b=!1;return a==this.physicsManager.geoBallBody&&(b=!0),b},b.prototype.speedGeoBackward=function(){this.geoSpeedTween=this.killTween(this.geoSpeedTween),this.geoSpeedTween=TweenMax.to(this,this.geoSpeedTweenTime,{geoCurrentSpeed:-this.geoMaxSpeed,ease:Linear.easeNone}),this.geoMoving=!0},b.prototype.speedGeoForward=function(){this.geoSpeedTween=this.killTween(this.geoSpeedTween),0==this.geoStartedMoving&&(this.geoStartedMoving=!0),this.geoSpeedTween=TweenMax.to(this,this.geoSpeedTweenTime,{geoCurrentSpeed:this.geoMaxSpeed,ease:Linear.easeNone}),this.geoMoving=!0},b.prototype.geoJoystickSpeed=function(a){1!=this.staminaCoolDownOn&&(this.geoCurrentSpeed=this.geoMaxSpeed*a,Math.abs(this.geoCurrentSpeed)<=.1?1==this.geoMoving&&(this.geoMoving=!1):0==this.geoMoving&&(this.geoMoving=!0))},b.prototype.joystickLetGo=function(){this.joystickDown=!1},b.prototype.joystickStartTouch=function(){this.joystickDown=!0},b.prototype.geoMoved=function(){0==this.geoStartedMoving&&(this.geoStartedMoving=!0)},b.prototype.speedGeoKill=function(){this.geoSpeedTween=this.killTween(this.geoSpeedTween),this.geoCurrentSpeed=0,this.geoMoving=!1,this.allowJumpInput=!0},b.prototype.hitAlarm=function(a){this.physicsManager.swingBeamToGeo(),this.whoopyCushionHit=!0,1==Game.getRandom(0,1,!0)?Game.playSound("whoopeecushion"):Game.playSound("whoopeecushion2"),this.whoopyCushionCounter=0;var b=Game.getRandom(0,this.whoopySmoke.length-1,!0);this.whoopySmoke[b].gotoAndStop(0),this.whoopySmoke[b].position.x=a.position.x,this.whoopySmoke[b].position.y=a.position.y-40,this.whoopySmoke[b].play()},b.prototype.setAlarmBodySize=function(a,b,c,d){this.physicsManager.setAlarmBodySize(a,b,c,d)},b.prototype.staminaDrained=function(){this.staminaCoolDownOn=!0,this.geoCurrentSpeed=0,this.geoMoving=!1},b.prototype.geoHop=function(){0!=this.allowJumpInput&&(this.allowJumpInput=!1,this.geoCurrentJumps>=this.geoMaxJumps||(this.geoCurrentJumps++,this.geoStamina-Math.abs(this.jumpStaminaCost)<0||(this.physicsManager.geoHop(),1==Game.getRandom(0,1,!0)?Game.playSound("boing"):Game.playSound("bounce-2"),this.staminaJumpCoolDownOn=!0)))},b.prototype.geoHopStaminaChange=function(){this.alterGeoStamina(this.jumpStaminaCost)},b.prototype.geoStaminaCheck=function(){if(1!=this.geoTreatEffectOn&&1!=this.crossGameSuperModeOn){var a=this.geoMaxStamina/3,b=this.geoMaxStamina/3*2;this.geoStamina<a?this.newStaminaState="low":this.geoStamina>a&&this.geoStamina<b?this.newStaminaState="medium":this.newStaminaState="high",this.newStaminaState!=this.recordedStaminaState&&(this.geoStamina<a?(this.newStaminaState="low",this.geoStaminaFaceHappy.visible=!1,this.geoStaminaFaceMedium.visible=!1,this.geoStaminaFaceSad.visible=!0,this.geoStaminaBarRed.visible=!0,this.geoStaminaBarGreen.visible=!1,this.geoStaminaBarOrange.visible=!1):this.geoStamina>a&&this.geoStamina<b?(this.newStaminaState="medium",this.geoStaminaBarContainer.alpha=1,this.geoStaminaFaceHappy.visible=!1,this.geoStaminaFaceMedium.visible=!0,this.geoStaminaFaceSad.visible=!1,this.geoStaminaBarRed.visible=!1,this.geoStaminaBarGreen.visible=!1,this.geoStaminaBarOrange.visible=!0):this.geoStamina>b&&(this.newStaminaState="high",this.geoStaminaBarContainer.alpha=1,this.geoStaminaFaceHappy.visible=!0,this.geoStaminaFaceMedium.visible=!1,this.geoStaminaFaceSad.visible=!1,this.geoStaminaBarRed.visible=!1,this.geoStaminaBarGreen.visible=!0,this.geoStaminaBarOrange.visible=!1),this.recordedStaminaState=this.newStaminaState)}},b.prototype.geoLanded=function(){this.geoCurrentJumps=0},b.prototype.checkContactReset=function(a){return this.obstacleManager.checkContactReset(a)},b.prototype.checkObstacleCollision=function(a,b){this.obstacleManager.checkAlarmBoxCollision(a,b,this.physicsManager.geoBallBody)},b.prototype.checkTreatCollision=function(a,b){this.obstacleManager.checkTreatCollision(a,b,this.physicsManager.geoBallBody)},b.prototype.pickedUpGeoTreat=function(){1!=this.geoTreatEffectOn&&(this.geoTreatEffectOn=!0,Game.playSound("geo-eat-treat"),this.fullStaminaPowerUp(!0))},b.prototype.fullStaminaPowerUp=function(a){1==a?(this.geoStaminaFaceHappy.visible=!1,this.geoStaminaFaceMedium.visible=!1,this.geoStaminaFaceSad.visible=!1,this.geoStaminaFaceMunch.visible=!0):0==a&&(this.geoStaminaFaceHappy.visible=!0,this.geoStaminaFaceMedium.visible=!1,this.geoStaminaFaceSad.visible=!1,this.geoStaminaFaceMunch.visible=!1),this.geoStamina=this.geoMaxStamina,this.geoStaminaBarRed.visible=!1,this.geoStaminaBarGreen.visible=!0,this.geoStaminaBarOrange.visible=!1,this.geoStaminaBarRed.alpha=1,this.geoStaminaBarGreen.alpha=1,this.geoStaminaBarOrange.alpha=1,this.geoStaminaBarContainer.alpha=1,this.geoStaminaBarContainer.width=this.geoStaminaBarOrigWidth,this.recordedStaminaState="none1",this.newStaminaState="none2"},b.prototype.geoTreatEffectEnd=function(){this.geoTreatEffectOn=!1,this.geoStaminaFaceMunch.visible=!1,this.geoStaminaFaceHappy.visible=!0,this.geoStaminaCheck()},b.prototype.zoomCamera=function(a){this.geoWobbleVel=a;var b;0==this.whoopyCushionHit?b=1-a/4e3:1==this.whoopyCushionHit&&(b=1.3),1==this.gameOverSequenceStarted&&(b=2),this.zoomHolder.scale.x+=(b-this.zoomHolder.scale.x)/this.cameraMotionZoomAmount,this.zoomHolder.scale.y=this.zoomHolder.scale.x},b.prototype.playStepNoise=function(){if(++this.stepCounter>=8)switch(Game.getRandom(1,4,!0)){case 1:Game.playSound("step-1"),Game.setSoundVolume("step-1",.3),this.stepCounter=0;break;case 2:Game.playSound("step-2"),Game.setSoundVolume("step-2",.3),this.stepCounter=0;break;case 3:Game.playSound("step-3"),Game.setSoundVolume("step-3",.3),this.stepCounter=0;break;case 4:Game.playSound("step-4"),Game.setSoundVolume("step-4",.3),this.stepCounter=0}},b.prototype.tick=function(){if(a.prototype.tick.call(this),1!=this.paused&&1!=this.tutorialOn){1==this.geoTreatEffectOn&&++this.geoTreatFrameCounter>=this.geoTreatFrameLimit&&(this.geoTreatFrameCounter=0,this.geoTreatEffectEnd());var b=this.geoWobbleVel/100;this.alterGeoAnimation(b),this.geoWobbleCounter+=this.geoWobbleVel/1e3,this.geoWobbleCounter>=2*Math.PI&&(this.geoWobbleCounter=2*-Math.PI),this.geoBallShadow.rotation=Math.sin(this.geoWobbleCounter)/10,1==this.gameOverSequenceStarted&&++this.gameOverSequenceCounter>=this.gameOverSequenceLimit&&this.game.setScene("geoRollEndScene",!1,[this.displayDistance]),1==this.whoopyCushionHit&&++this.whoopyCushionCounter>=this.whoopyCushionLimit&&(this.whoopyCushionCounter=0,this.whoopyCushionHit=!1),this.calcDistanceCounter++,this.calcDistanceCounter>=this.calcDistanceCounterLimit&&(this.calcDistanceCounter=0,this.calculateDistanceTravelled()),0==this.joystickDown&&0==Game.onDesktop&&(this.geoMoving=!1),this.staminaAdjustCounter++,this.staminaAdjustCounter>=this.staminaAdjustLimit&&(this.staminaAdjustCounter=0,1==this.geoMoving?(this.playStepNoise(),this.alterGeoStamina(this.moveStaminaCost)):this.alterGeoStamina(this.recharageStaminaRate),this.geoStaminaCheck()),1==this.staminaCoolDownOn&&++this.staminaDrainCoolDownCounter>=this.staminaDrainCoolDownLimit&&(this.staminaDrainCoolDownCounter=0,this.staminaCoolDownOn=!1),1==this.staminaJumpCoolDownOn&&++this.staminaJumpCoolDownCounter>=this.staminaJumpCoolDownLimit&&(this.staminaJumpCoolDownCounter=0,this.staminaJumpCoolDownOn=!1),this.physicsManager.stepPhysics(),this.levelManager.tick(this.geoBall.position.x,this.geoBall.position.y),this.obstacleManager.tick(this.geoBall.position.x),this.inputManager.tick(),this.geoBall.position.x=this.physicsManager.geoBallBody.position[0],this.geoBall.position.y=Game.stageHeight-this.physicsManager.geoBallBody.position[1],1==this.crossGameSuperModeOn&&(this.geoSpeedAnim.position.x=this.geoBall.position.x,this.geoSpeedAnim.position.y=this.geoBall.position.y),this.geoBallShadow.position.x=this.physicsManager.geoBallBody.position[0],
this.geoBallShadow.position.y=Game.stageHeight-this.physicsManager.geoBallBody.position[1],this.torchBeam.position.x=this.physicsManager.torchBeamBody.position[0],this.torchBeam.position.y=Game.stageHeight-this.physicsManager.torchBeamBody.position[1],this.torchBeam.rotation=-this.physicsManager.torchBeamBody.angle,this.positionViewport(),this.physicsManager.setGeoSpeed(this.geoCurrentSpeed);for(var c=0;c<this.whoopySmoke.length;c++)this.whoopySmoke[c].position.y-=this.smokeMoveRate;"low"==this.recordedStaminaState&&(this.redBarStartAlpha+=this.redBarAlphaChange,this.redBarStartAlpha>=2*Math.PI&&(this.redBarStartAlpha=2*-Math.PI),this.geoStaminaBarContainer.alpha=(1+Math.sin(this.redBarStartAlpha))/2)}},b.prototype.alterGeoAnimation=function(a){Math.abs(a)<1?this.geoIdleState=!0:(this.geoIdleState=!1,a>0&&(this.geoBall.state.timeScale=a)),this.geoIdleState!=this.geoIdleStateLastFrame&&(1==this.geoIdleState?(0==this.gameOverSequenceStarted&&this.geoBall.setAnim("idle",!0),this.geoBall.state.timeScale=1):0==this.gameOverSequenceStarted&&this.geoBall.setAnim("run",!0)),this.geoIdleStateLastFrame=this.geoIdleState},b.prototype.calculateDistanceTravelled=function(){this.distance=this.geoBall.position.x,this.displayDistance=Math.round(this.distance/600),this.displayDistance<0&&(this.displayDistance=0),this.displayDistance>=20&&this.game.earnCrossGameCurrency(),this.displayDistanceString=String(this.displayDistance),this.scoreText.text=String(this.displayDistance),this.scoreM.position.x=this.scoreText.width+2,this.scoreM.position.y=28,this.distanceHolder.setRegPoint(.5,.5),this.displayDistance<10?this.difficutlyLevel=0:this.displayDistance>=10&&this.displayDistance<20?this.difficutlyLevel=1:this.displayDistance>=20&&(this.difficutlyLevel=2)},b.prototype.alterGeoStamina=function(a){if(!(1==this.staminaCoolDownOn&&a>0||1==this.staminaJumpCoolDownOn&&a>0||1==this.geoTreatEffectOn||1==this.crossGameSuperModeOn)){if(this.geoStamina+=a,this.geoStamina<=0)return this.geoStamina=0,void this.staminaDrained();this.geoStamina>=this.geoMaxStamina&&(this.geoStamina=this.geoMaxStamina);var b=this.geoStaminaBarOrigWidth*(this.geoStamina/this.geoMaxStamina);this.geoStaminaBarContainer.width+=(b-this.geoStaminaBarContainer.width)/this.staminaBarEaseAmount}},b.prototype.positionViewport=function(){var a;a=0==this.gameOverSequenceStarted?(-this.geoBall.position.x-this.mainHolder.position.x+this.mainHolderPos.x)/this.cameraMotionEaseAmount:(100-this.geoBall.position.x-this.mainHolder.position.x+this.mainHolderPos.x)/this.cameraMotionEaseAmount,this.mainHolder.position.x=this.mainHolder.position.x+a},b.prototype.mouseDown=function(){},b.prototype.mouseUp=function(){},b.prototype.keyDown=function(b){if(a.prototype.keyDown.call(this,b),1!=this.paused)switch(b){case"up":this.keyboardUpStart();break;case"spacebar":this.keyboardUpStart();break;case"left":this.keyboardLeftStart();break;case"right":this.keyboardRightStart()}},b.prototype.keyUp=function(b){if(a.prototype.keyUp.call(this,b),1!=this.paused)switch(b){case"up":this.keyboardUpEnd();break;case"spacebar":this.keyboardUpEnd();break;case"left":this.keyboardLeftEnd();break;case"right":this.keyboardRightEnd()}},b.prototype.keyboardUpStart=function(){this.inputManager.keyboardUpStart()},b.prototype.keyboardLeftStart=function(){this.inputManager.keyboardLeftStart()},b.prototype.keyboardRightStart=function(){this.inputManager.keyboardRightStart()},b.prototype.keyboardUpEnd=function(){this.allowJumpInput=!0,this.inputManager.keyboardUpEnd()},b.prototype.keyboardLeftEnd=function(){this.inputManager.keyboardLeftEnd()},b.prototype.keyboardRightEnd=function(){this.inputManager.keyboardRightEnd()},b.prototype.keyboardActivateVr=function(){1==this.game.crossGameCurrencyOwned&&0==this.game.crossGameCurrencyIsNew&&this.game.runningHubMode},b.prototype.getBlockBody=function(){return this.physicsManager.getBlockBody()},b.prototype.getUpRampBody=function(){return this.physicsManager.getUpRampBody()},b.prototype.getDownRampBody=function(){return this.physicsManager.getDownRampBody()},b.prototype.getTriangleBody=function(){return this.physicsManager.getTriangleBody()},b.prototype.getTallBlockBody=function(){return this.physicsManager.getTallBlockBody()},b.prototype.getAlarmBlockBody=function(){return this.physicsManager.getAlarmBlockBody()},b.prototype.getBallBody=function(){return this.physicsManager.getBallBody()},b.prototype.getSeeSawEven=function(){return this.physicsManager.getSeeSawEven()},b.prototype.getSeeSawRampUp=function(){return this.physicsManager.getSeeSawRampUp()},b.prototype.getSeeSawRampDown=function(){return this.physicsManager.getSeeSawRampDown()},b.prototype.getTreatBody=function(){return this.physicsManager.getTreatBody()},b.prototype.pause=function(){a.prototype.pause.call(this),this.geoBall.pause(),this.pauseResumeTween(this.endSuperModeDelay,"pause"),this.pauseResumeTween(this.endSuperModePreHopDelay,"pause"),Game.pauseSound("funky")},b.prototype.resume=function(){a.prototype.resume.call(this),this.geoBall.resume(),this.setGameplayUI(),Game.resumeSound("funky"),this.pauseResumeTween(this.endSuperModeDelay,"resume"),this.pauseResumeTween(this.endSuperModePreHopDelay,"resume")},b.prototype.restore=function(){a.prototype.restore.call(this),this.game.ui.setUI("pause"),this.setBackgroundColor(13421772)},b.prototype.destroy=function(){a.prototype.destroy.call(this),Game.stopSound("funky"),this.levelManager.destroy(),this.obstacleManager.destroy(),this.physicsManager.destroy(),this.inputManager.destroy(),this.mainHolder.removeChildren(),this.endSuperModeDelay=this.killTween(this.endSuperModeDelay),this.endSuperModePreHopDelay=this.killTween(this.endSuperModePreHopDelay),Game.displayStore.returnPooledItem(this.geoStaminaBarGreen),Game.displayStore.returnPooledItem(this.geoStaminaBarOrange),Game.displayStore.returnPooledItem(this.geoStaminaBarRed)},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},TrashEndScene=function(a){function b(b){a.call(this,b),this.id="trashEndScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),b&&(this.score=String(b[0])),this.animation=new TimelineMax,this.restartAllowed=!0,this.setBackgroundColor(13421772),this.game.ui.setUI("game-over"),this.mainHolder=Game.displayStore.getContainer("gameover-trash-container"),this.mainHolder.setRegPointPixels(Game.stageWidth/2,Game.stageHeight/2),this.mainHolder.position.x=Game.stageWidth/2,this.mainHolder.position.y=Game.stageHeight/2,this.container.addChild(this.mainHolder),this.houseHackNotification=Game.displayStore.getSprite("house-hack-notification"),this.houseHackNotification.position.x=10,this.houseHackNotification.position.y=Game.stageHeight-10,this.houseHackNotification.scale.x=this.houseHackNotification.scale.y=0,this.scoreHolder=this.mainHolder.getContainer("gameover-score-holder"),this.scoreText=this.scoreHolder.getSprite("score"),this.finalScoreText=Game.displayStore.getBitmapText("score-font"),this.finalScoreText.text=this.score,this.finalScoreText.position.x=this.scoreText.position.x+(this.scoreText.width+30),this.finalScoreText.position.y=this.scoreText.position.y-13,this.finalScoreText.setRegPoint(.5,1),this.finalScoreText.scale.x=this.finalScoreText.scale.y=.75,this.mainHolder.addChild(this.scoreHolder),this.scoreHolder.addChild(this.finalScoreText),this.scoreHolder.setRegPointPixels(this.scoreHolder.width/2,80,!0),this.scoreHolder.position.x=Game.stageWidth/2,this.largeReplayButton=Game.displayStore.getButton("replaybuttonlarge"),this.largeReplayButton.visuallyPrepareButton("large"),this.largeReplayButton.position.x=Game.stageWidth/2,this.largeReplayButton.position.y=520,this.lincHolder=this.mainHolder.getContainer("gameover-trash-linc-container"),this.lincHolder.setRegPointPixels(236,602,!0),this.lincInnerHolder=this.lincHolder.getContainer("gameover-trash-linc-inner-container"),this.lincInnerHolder.setRegPointPixels(236,602,!0),this.lincHolder.scale.x=.7,this.lincHolder.scale.y=.7,this.lincEyelids=this.lincInnerHolder.getSprite("gameover-trash-linc-eyelids"),this.lincRightArm=this.lincInnerHolder.getSprite("gameover-trash-linc-right-arm"),this.lincLeftArm=this.lincInnerHolder.getSprite("gameover-trash-linc-left-arm"),this.parents=this.mainHolder.getSprite("gameover-trash-parents"),this.rubbish=this.mainHolder.getSprite("gameover-trash-rubbish"),this.gameOver=this.mainHolder.getSprite("gameover-trash-game-over"),this.gameOver.scale.x=1.2,this.gameOver.scale.y=1.2,this.sistersRight=this.mainHolder.getContainer("gameover-trash-sisters-right-container"),this.sistersLeft=this.mainHolder.getContainer("gameover-trash-sisters-left-container"),this.sisterLuan=this.sistersRight.getSprite("gameover-trash-sister-luan"),this.sisterLynn=this.sistersRight.getSprite("gameover-trash-sister-lynn"),this.sisterLola=this.sistersRight.getSprite("gameover-trash-sister-lola"),this.sisterLuna=this.sistersLeft.getSprite("gameover-trash-sister-luna"),this.sisterLucy=this.sistersLeft.getSprite("gameover-trash-sister-lucy"),this.sisterLana=this.sistersLeft.getSprite("gameover-trash-sister-lana"),this.activateReplayButton(this),this.container.addChild(this.largeReplayButton),this.animation.add([TweenMax.from(this.mainHolder.position,.8,{y:"+=50",ease:Power2.easeInOut}),TweenMax.from(this.mainHolder.scale,.8,{x:1.3,y:1.3,ease:Power2.easeInOut}),TweenMax.from(this.parents.scale,.8,{x:1.1,y:1.1,ease:Power2.easeInOut}),TweenMax.from(this.lincHolder.scale,.8,{x:1.1,y:1.1,ease:Power2.easeInOut}),TweenMax.from(this.lincHolder.position,.8,{y:"+=100",ease:Power2.easeInOut}),TweenMax.from(this.lincRightArm,1,{rotation:.4,ease:Back.easeOut}),TweenMax.from(this.lincLeftArm,1,{rotation:-.4,ease:Back.easeOut}),TweenMax.from(this.rubbish.position,.7,{y:"+=250",ease:Power2.easeInOut}),TweenMax.from(this.rubbish.scale,.7,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.sistersLeft.position,1,{x:"-=100",y:"+=50",ease:Power2.easeInOut}),TweenMax.from(this.sistersRight.position,1,{x:"+=100",y:"+=50",ease:Power2.easeInOut})]),this.animation.add([TweenMax.from(this.scoreHolder,.2,{alpha:0,ease:Sine,delay:.5}),TweenMax.from(this.gameOver.scale,.5,{x:0,y:0,ease:Bounce.easeOut}),TweenMax.from(this.largeReplayButton,.2,{alpha:0,ease:Sine,delay:1}),TweenMax.from(this.largeReplayButton.scale,.2,{x:0,y:0,ease:Sine,delay:1})],1),this.animation.call(Game.playSound,["sisters-oooooh"],this,0),this.animation.call(Game.setSoundVolume,["sisters-oooooh",.6],this,0),this.animation.call(Game.playSound,["sisters-laughing"],this,2),this.animation.call(Game.setSoundVolume,["sisters-laughing",.6],this,2),this.animation.call(Game.playSound,["dad-gameover"],this,0),this.animation.call(Game.playSound,["mam-gameover"],this,2),this.animation.call(Game.playSound,["linc-cant-something-go-my-way"],this,4.5),this.lincBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lincEyelids.alpha=0,this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),4.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),6.6),this.BreathingAnimation=new TimelineMax({}),this.BreathingAnimation.add(TweenMax.to(this.lincInnerHolder.scale,1,{y:.995,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLuan.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLynn.scale,1.3,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLuna.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLucy.scale,1.1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLana.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLola.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),1==this.game.crossGameCurrencyIsNew&&1==this.game.crossGameCurrencyOwned&&(this.game.alertCrossGameCurrencyEarned(),this.mainHolder.addChild(this.houseHackNotification),TweenMax.to(this.houseHackNotification.scale,.5,{x:1,y:1,ease:Expo.easeOut,delay:.5}))},b.prototype.activateReplayButton=function(a){a.game.ui.addCustomUIButton(a.largeReplayButton,!1,!0)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"replaybuttonlarge":if(0==this.restartAllowed)return;this.restartAllowed=!1,this.game.setScene("trashGameplayScene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),Game.stopSound("dad-gameover"),Game.stopSound("mam-gameover"),Game.stopSound("sisters-laughing"),Game.stopSound("sisters-oooooh"),Game.stopSound("linc-cant-something-go-my-way"),this.animation&&this.animation.kill(),this.BreathingAnimation&&this.BreathingAnimation.kill(),this.lincBlinkAnimation&&this.lincBlinkAnimation.kill()},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},LoudLaundryEndScene=function(a){function b(b){a.call(this,b),this.id="loudLaundryEndScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),b&&(this.score=String(b[0])),this.animation=new TimelineMax,this.restartAllowed=!0,this.setBackgroundColor(13421772),this.game.ui.setUI("game-over"),this.mainHolder=Game.displayStore.getContainer("gameover-loud-laundry-container"),this.mainHolder.setRegPointPixels(Game.stageWidth/2,Game.stageHeight/2),this.mainHolder.position.x=Game.stageWidth/2,this.mainHolder.position.y=Game.stageHeight/2,this.container.addChild(this.mainHolder),this.houseHackNotification=Game.displayStore.getSprite("house-hack-notification"),this.houseHackNotification.position.x=10,this.houseHackNotification.position.y=Game.stageHeight-10,this.houseHackNotification.scale.x=this.houseHackNotification.scale.y=0,this.scoreHolder=this.mainHolder.getContainer("gameover-score-holder"),this.scoreText=this.scoreHolder.getSprite("score"),this.finalScoreText=Game.displayStore.getBitmapText("score-font"),this.finalScoreText.text=this.score,this.finalScoreText.position.x=this.scoreText.position.x+(this.scoreText.width+30),this.finalScoreText.position.y=this.scoreText.position.y-13,this.finalScoreText.setRegPoint(.5,1),this.finalScoreText.scale.x=this.finalScoreText.scale.y=.75,this.mainHolder.addChild(this.scoreHolder),this.scoreHolder.addChild(this.finalScoreText),this.scoreHolder.setRegPointPixels(this.scoreHolder.width/2,80,!0),this.scoreHolder.position.x=Game.stageWidth/2,this.largeReplayButton=Game.displayStore.getButton("replaybuttonlarge"),this.largeReplayButton.visuallyPrepareButton("large"),this.largeReplayButton.position.x=Game.stageWidth/2,this.largeReplayButton.position.y=520,this.lincHolder=this.mainHolder.getContainer("gameover-loud-laundry-linc-container"),this.lincHolder.setRegPointPixels(236,602,!0),this.lincInnerHolder=this.lincHolder.getContainer("gameover-loud-laundry-linc-inner-container"),this.lincInnerHolder.setRegPointPixels(236,602,!0),this.lincHolder.scale.x=.7,this.lincHolder.scale.y=.7,this.lincEyelids=this.lincInnerHolder.getSprite("gameover-loud-laundry-linc-eyelids"),this.lincRightArm=this.lincInnerHolder.getSprite("gameover-loud-laundry-linc-right-arm"),this.lincLeftArm=this.lincInnerHolder.getSprite("gameover-loud-laundry-linc-left-arm"),this.parents=this.mainHolder.getSprite("gameover-loud-laundry-parents"),this.gameOver=this.mainHolder.getSprite("gameover-loud-laundry-game-over"),this.gameOver.scale.x=1.2,this.gameOver.scale.y=1.2,this.sistersRight=this.mainHolder.getContainer("gameover-loud-laundry-sisters-right-container"),this.sistersLeft=this.mainHolder.getContainer("gameover-loud-laundry-sisters-left-container"),this.sisterLuan=this.sistersRight.getSprite("gameover-loud-laundry-sister-luan"),this.sisterLynn=this.sistersRight.getSprite("gameover-loud-laundry-sister-lynn"),this.sisterLola=this.sistersRight.getSprite("gameover-loud-laundry-sister-lola"),this.sisterLuna=this.sistersLeft.getSprite("gameover-loud-laundry-sister-luna"),this.sisterLucy=this.sistersLeft.getSprite("gameover-loud-laundry-sister-lucy"),this.sisterLana=this.sistersLeft.getSprite("gameover-loud-laundry-sister-lana"),this.backBubbles=this.mainHolder.getContainer("gameover-loud-laundry-back-bubbles-holder"),this.frontBubbles=this.mainHolder.getContainer("gameover-loud-laundry-front-bubbles-holder"),this.clothes=this.mainHolder.getSprite("gameover-loud-laundry-clothes"),this.backBubbleHolder=this.mainHolder.getContainer("gameover-loud-laundry-bubble-holder"),this.bubbleManager=new TitleSceneBubbleManager(this,this.backBubbleHolder),this.activateReplayButton(this),this.animation.add([TweenMax.from(this.mainHolder.position,.8,{y:"+=50",ease:Power2.easeInOut}),TweenMax.from(this.mainHolder.scale,.8,{x:1.3,y:1.3,ease:Power2.easeInOut}),TweenMax.from(this.parents.scale,.8,{x:1.1,y:1.1,ease:Power2.easeInOut}),TweenMax.from(this.lincHolder.scale,.8,{x:1.1,y:1.1,ease:Power2.easeInOut}),TweenMax.from(this.lincHolder.position,.8,{y:"+=100",ease:Power2.easeInOut}),TweenMax.from(this.lincRightArm,1,{rotation:.4,ease:Back.easeOut}),TweenMax.from(this.lincLeftArm,1,{rotation:-.4,ease:Back.easeOut}),TweenMax.from(this.backBubbles.position,1,{y:"+=250",ease:Power2.easeInOut}),TweenMax.from(this.backBubbles.scale,1,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.frontBubbles.position,1,{y:"+=260",ease:Power2.easeInOut}),TweenMax.from(this.frontBubbles.scale,1,{x:1.3,y:1.3,ease:Power2.easeInOut}),TweenMax.from(this.clothes.position,1,{y:"+=250",ease:Power2.easeInOut}),TweenMax.from(this.clothes.scale,1,{x:1.1,y:1.1,ease:Power2.easeInOut}),TweenMax.from(this.sistersLeft.position,1,{x:"-=100",y:"+=50",ease:Power2.easeInOut}),TweenMax.from(this.sistersRight.position,1,{x:"+=100",y:"+=50",ease:Power2.easeInOut})]),this.animation.add([TweenMax.from(this.scoreHolder,.2,{alpha:0,ease:Sine,delay:.5}),TweenMax.from(this.gameOver.scale,.5,{x:0,y:0,ease:Bounce.easeOut}),TweenMax.from(this.largeReplayButton,.2,{alpha:0,ease:Sine,delay:1}),TweenMax.from(this.largeReplayButton.scale,.2,{x:0,y:0,ease:Sine,delay:1})],1),this.animation.call(Game.playSound,["sisters-oooooh"],this,0),this.animation.call(Game.setSoundVolume,["sisters-oooooh",.6],this,0),this.animation.call(Game.playSound,["sisters-laughing"],this,2),this.animation.call(Game.setSoundVolume,["sisters-laughing",.6],this,2),this.animation.call(Game.playSound,["dad-gameover"],this,0),this.animation.call(Game.playSound,["mam-gameover"],this,2),this.animation.call(Game.playSound,["linc-cant-something-go-my-way"],this,4.5),this.lincBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lincEyelids.alpha=0,this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),4.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),6.6),this.BreathingAnimation=new TimelineMax({}),this.BreathingAnimation.add(TweenMax.to(this.lincInnerHolder.scale,1,{y:.995,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLuan.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLynn.scale,1.3,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLuna.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLucy.scale,1.1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLana.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLola.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"front"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.bubbleManager.addBubble(Game.displayStore.getSprite("bubble"),Game.getRandom(50,950,!0),"back"),this.container.addChild(this.largeReplayButton),this.container.addChild(this.gameOver),1==this.game.crossGameCurrencyIsNew&&1==this.game.crossGameCurrencyOwned&&(this.game.alertCrossGameCurrencyEarned(),this.mainHolder.addChild(this.houseHackNotification),TweenMax.to(this.houseHackNotification.scale,.5,{x:1,y:1,ease:Expo.easeOut,delay:.5}))},b.prototype.activateReplayButton=function(a){a.game.ui.addCustomUIButton(a.largeReplayButton,!1,!0)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"replaybuttonlarge":if(0==this.restartAllowed)return;this.restartAllowed=!1,this.game.setScene("loudLaundryGameplayScene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this),this.bubbleManager.tick()},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.bubbleManager.destroy(),Game.stopSound("dad-gameover"),Game.stopSound("mam-gameover"),Game.stopSound("sisters-laughing"),Game.stopSound("sisters-oooooh"),Game.stopSound("linc-cant-something-go-my-way"),this.animation=this.killTween(this.animation),this.lincBlinkAnimation=this.killTween(this.lincBlinkAnimation),this.BreathingAnimation=this.killTween(this.BreathingAnimation)},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},FoodFightEndScene=function(a){function b(b){a.call(this,b),this.id="foodFightEndScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),b&&(this.score=String(b[0])),this.animation=new TimelineMax,this.restartAllowed=!0,this.setBackgroundColor(13421772),this.game.ui.setUI("game-over"),this.mainHolder=Game.displayStore.getContainer("gameover-food-fight-container"),this.mainHolder.setRegPointPixels(Game.stageWidth/2,Game.stageHeight/2),this.mainHolder.position.x=Game.stageWidth/2,this.mainHolder.position.y=Game.stageHeight/2,this.container.addChild(this.mainHolder),this.houseHackNotification=Game.displayStore.getSprite("house-hack-notification"),this.houseHackNotification.position.x=10,this.houseHackNotification.position.y=Game.stageHeight-10,this.houseHackNotification.scale.x=this.houseHackNotification.scale.y=0,this.scoreHolder=this.mainHolder.getContainer("gameover-score-holder"),this.scoreText=this.scoreHolder.getSprite("score"),this.finalScoreText=Game.displayStore.getBitmapText("score-font"),this.finalScoreText.text=this.score,this.finalScoreText.position.x=this.scoreText.position.x+(this.scoreText.width+30),this.finalScoreText.position.y=this.scoreText.position.y-13,this.finalScoreText.setRegPoint(.5,1),this.finalScoreText.scale.x=this.finalScoreText.scale.y=.75,this.mainHolder.addChild(this.scoreHolder),this.scoreHolder.addChild(this.finalScoreText),this.scoreHolder.setRegPointPixels(this.scoreHolder.width/2,80,!0),this.scoreHolder.position.x=Game.stageWidth/2,this.largeReplayButton=Game.displayStore.getButton("replaybuttonlarge"),this.largeReplayButton.visuallyPrepareButton("large"),this.largeReplayButton.position.x=Game.stageWidth/2,this.largeReplayButton.position.y=520,this.lincHolder=this.mainHolder.getContainer("gameover-food-fight-linc-container"),this.lincHolder.setRegPointPixels(236,602,!0),this.lincInnerHolder=this.lincHolder.getContainer("gameover-food-fight-linc-inner-container"),this.lincInnerHolder.setRegPointPixels(236,602,!0),this.lincHolder.scale.x=.7,this.lincHolder.scale.y=.7,this.lincEyelids=this.lincInnerHolder.getSprite("gameover-food-fight-linc-eyelids"),this.lincRightArm=this.lincInnerHolder.getSprite("gameover-food-fight-linc-right-arm"),this.lincLeftArm=this.lincInnerHolder.getSprite("gameover-food-fight-linc-left-arm"),this.parents=this.mainHolder.getSprite("gameover-food-fight-parents"),this.food=this.mainHolder.getSprite("gameover-food-fight-food"),this.gameOver=this.mainHolder.getSprite("gameover-food-fight-game-over"),this.gameOver.scale.x=1.2,this.gameOver.scale.y=1.2,this.sistersRight=this.mainHolder.getContainer("gameover-food-fight-sisters-right-container"),this.sistersLeft=this.mainHolder.getContainer("gameover-food-fight-sisters-left-container"),this.sisterLuan=this.sistersRight.getSprite("gameover-food-fight-sister-luan"),this.sisterLynn=this.sistersRight.getSprite("gameover-food-fight-sister-lynn"),this.sisterLola=this.sistersRight.getSprite("gameover-food-fight-sister-lola"),this.sisterLuna=this.sistersLeft.getSprite("gameover-food-fight-sister-luna"),this.sisterLucy=this.sistersLeft.getSprite("gameover-food-fight-sister-lucy"),this.sisterLana=this.sistersLeft.getSprite("gameover-food-fight-sister-lana"),this.activateReplayButton(this),this.container.addChild(this.largeReplayButton),this.animation.add([TweenMax.from(this.mainHolder.position,.8,{y:"+=50",ease:Power2.easeInOut}),TweenMax.from(this.mainHolder.scale,.8,{x:1.3,y:1.3,ease:Power2.easeInOut}),TweenMax.from(this.parents.scale,.8,{x:1.1,y:1.1,ease:Power2.easeInOut}),TweenMax.from(this.lincHolder.scale,.8,{x:1.1,y:1.1,ease:Power2.easeInOut}),TweenMax.from(this.lincHolder.position,.8,{y:"+=100",ease:Power2.easeInOut}),TweenMax.from(this.lincRightArm,1,{rotation:.4,ease:Back.easeOut}),TweenMax.from(this.lincLeftArm,1,{rotation:-.4,ease:Back.easeOut}),TweenMax.from(this.food.position,.7,{y:"+=250",ease:Power2.easeInOut}),TweenMax.from(this.food.scale,.7,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.sistersLeft.position,1,{x:"-=100",y:"+=50",ease:Power2.easeInOut}),TweenMax.from(this.sistersRight.position,1,{x:"+=100",y:"+=50",ease:Power2.easeInOut})]),this.animation.add([TweenMax.from(this.scoreHolder,.2,{alpha:0,ease:Sine,delay:.5}),TweenMax.from(this.gameOver.scale,.5,{x:0,y:0,ease:Bounce.easeOut}),TweenMax.from(this.largeReplayButton,.2,{alpha:0,ease:Sine,delay:1}),TweenMax.from(this.largeReplayButton.scale,.2,{x:0,y:0,ease:Sine,delay:1})],1),this.animation.call(Game.playSound,["sisters-oooooh"],this,0),this.animation.call(Game.setSoundVolume,["sisters-oooooh",.6],this,0),this.animation.call(Game.playSound,["sisters-laughing"],this,2),this.animation.call(Game.setSoundVolume,["sisters-laughing",.6],this,2),this.animation.call(Game.playSound,["dad-gameover"],this,0),this.animation.call(Game.playSound,["mam-gameover"],this,2),this.animation.call(Game.playSound,["linc-cant-something-go-my-way"],this,4.5),this.lincBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lincEyelids.alpha=0,this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),4.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),6.6),this.BreathingAnimation=new TimelineMax({}),this.BreathingAnimation.add(TweenMax.to(this.lincInnerHolder.scale,1,{y:.995,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLuan.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLynn.scale,1.3,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLuna.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLucy.scale,1.1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLana.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLola.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),1==this.game.crossGameCurrencyIsNew&&1==this.game.crossGameCurrencyOwned&&(this.game.alertCrossGameCurrencyEarned(),this.mainHolder.addChild(this.houseHackNotification),TweenMax.to(this.houseHackNotification.scale,.5,{x:1,y:1,ease:Expo.easeOut,delay:.5}))},b.prototype.activateReplayButton=function(a){a.game.ui.addCustomUIButton(a.largeReplayButton,!1,!0)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"replaybuttonlarge":if(0==this.restartAllowed)return;this.restartAllowed=!1,this.game.setScene("foodFightGameplayScene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),Game.stopSound("dad-gameover"),Game.stopSound("mam-gameover"),Game.stopSound("sisters-laughing"),Game.stopSound("sisters-oooooh"),Game.stopSound("linc-cant-something-go-my-way"),this.animation&&this.animation.kill(),this.BreathingAnimation&&this.BreathingAnimation.kill(),this.lincBlinkAnimation&&this.lincBlinkAnimation.kill()},b
}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},GeoRollEndScene=function(a){function b(b){a.call(this,b),this.id="geoRollEndScene"}return __extends(b,a),b.prototype.init=function(b){a.prototype.init.call(this),b&&(this.score=String(b[0])),this.animation=new TimelineMax,this.restartAllowed=!0,this.setBackgroundColor(13421772),this.game.ui.setUI("game-over"),this.mainHolder=Game.displayStore.getContainer("gameover-geo-roll-container"),console.log("MAIN HOLDER IS....................",this.mainHolder.position.x,this.mainHolder.position.y,this.mainHolder.pivot.x,this.mainHolder.pivot.y),this.mainHolder.setRegPointPixels(Game.stageWidth/2,Game.stageHeight/2,!0),this.container.addChild(this.mainHolder),this.houseHackNotification=Game.displayStore.getSprite("house-hack-notification"),this.houseHackNotification.position.x=10,this.houseHackNotification.position.y=Game.stageHeight-10,this.houseHackNotification.scale.x=this.houseHackNotification.scale.y=0,this.scoreHolder=this.mainHolder.getContainer("gameover-score-holder"),this.scoreText=this.scoreHolder.getSprite("score"),this.finalScoreText=Game.displayStore.getBitmapText("score-font"),this.finalScoreText.text=this.score+"M",this.finalScoreText.position.x=this.scoreText.position.x+(this.scoreText.width+30),this.finalScoreText.position.y=this.scoreText.position.y-13,this.finalScoreText.setRegPoint(.5,1),this.finalScoreText.scale.x=this.finalScoreText.scale.y=.75,this.mainHolder.addChild(this.scoreHolder),this.scoreHolder.addChild(this.finalScoreText),this.scoreHolder.setRegPointPixels(this.scoreHolder.width/2,80,!0),this.scoreHolder.position.x=Game.stageWidth/2,this.largeReplayButton=Game.displayStore.getButton("replaybuttonlarge"),this.largeReplayButton.visuallyPrepareButton("large"),this.largeReplayButton.position.x=Game.stageWidth/2,this.largeReplayButton.position.y=520,this.lincHolder=this.mainHolder.getContainer("gameover-geo-roll-linc-container"),console.log("LINCOLN IS..............",this.lincHolder.position.x,this.lincHolder.position.y,this.lincHolder.pivot.x,this.lincHolder.pivot.y),this.lincHolder.setRegPointPixels(236,602,!0),this.lincInnerHolder=this.lincHolder.getContainer("gameover-geo-roll-linc-inner-container"),console.log("LINCOLN INNER IS..............",this.lincInnerHolder.position.x,this.lincInnerHolder.position.y,this.lincInnerHolder.pivot.x,this.lincInnerHolder.pivot.y),this.lincInnerHolder.setRegPointPixels(236,602,!0),this.lincHolder.scale.x=.7,this.lincHolder.scale.y=.7,this.lincEyelids=this.lincInnerHolder.getSprite("gameover-geo-roll-linc-eyelids"),this.lincRightArm=this.lincInnerHolder.getSprite("gameover-geo-roll-linc-right-arm"),this.lincLeftArm=this.lincInnerHolder.getSprite("gameover-geo-roll-linc-left-arm"),this.parents=this.mainHolder.getSprite("gameover-geo-roll-parents"),this.items=this.mainHolder.getSprite("gameover-geo-roll-items"),this.gameOver=this.mainHolder.getSprite("gameover-geo-roll-game-over"),this.gameOver.scale.x=1.2,this.gameOver.scale.y=1.2,this.sistersRight=this.mainHolder.getContainer("gameover-geo-roll-sisters-right-container"),this.sistersLeft=this.mainHolder.getContainer("gameover-geo-roll-sisters-left-container"),this.sisterLuan=this.sistersRight.getSprite("gameover-geo-roll-sister-luan"),this.sisterLynn=this.sistersRight.getSprite("gameover-geo-roll-sister-lynn"),this.sisterLola=this.sistersRight.getSprite("gameover-geo-roll-sister-lola"),this.sisterLuna=this.sistersLeft.getSprite("gameover-geo-roll-sister-luna"),this.sisterLucy=this.sistersLeft.getSprite("gameover-geo-roll-sister-lucy"),this.sisterLana=this.sistersLeft.getSprite("gameover-geo-roll-sister-lana"),this.lincRightArm.alpha=0,this.activateReplayButton(this),this.container.addChild(this.largeReplayButton),this.animation.add([TweenMax.from(this.mainHolder.position,.8,{y:"+=50",ease:Power2.easeInOut}),TweenMax.from(this.mainHolder.scale,.8,{x:1.3,y:1.3,ease:Power2.easeInOut}),TweenMax.from(this.parents.scale,.8,{x:1.1,y:1.1,ease:Power2.easeInOut}),TweenMax.from(this.lincHolder.scale,.8,{x:1.1,y:1.1,ease:Power2.easeInOut}),TweenMax.from(this.lincHolder.position,.8,{y:"+=100",ease:Power2.easeInOut}),TweenMax.from(this.lincRightArm,1,{rotation:.4,ease:Back.easeOut}),TweenMax.from(this.lincLeftArm,1,{rotation:-.4,ease:Back.easeOut}),TweenMax.from(this.items.position,.7,{y:"+=250",ease:Power2.easeInOut}),TweenMax.from(this.items.scale,.7,{x:1.2,y:1.2,ease:Power2.easeInOut}),TweenMax.from(this.sistersLeft.position,1,{x:"-=100",y:"+=50",ease:Power2.easeInOut}),TweenMax.from(this.sistersRight.position,1,{x:"+=100",y:"+=50",ease:Power2.easeInOut})]),this.animation.call(Game.playSound,["sisters-oooooh"],this,0),this.animation.call(Game.setSoundVolume,["sisters-oooooh",.6],this,0),this.animation.call(Game.playSound,["sisters-laughing"],this,2),this.animation.call(Game.setSoundVolume,["sisters-laughing",.6],this,2),this.animation.call(Game.playSound,["dad-gameover"],this,0),this.animation.call(Game.playSound,["mam-gameover"],this,2),this.animation.call(Game.playSound,["linc-cant-something-go-my-way"],this,4.5),this.animation.add([TweenMax.from(this.scoreHolder,.2,{alpha:0,ease:Sine,delay:.5}),TweenMax.from(this.gameOver.scale,.5,{x:0,y:0,ease:Bounce.easeOut}),TweenMax.from(this.largeReplayButton,.2,{alpha:0,ease:Sine,delay:1}),TweenMax.from(this.largeReplayButton.scale,.2,{x:0,y:0,ease:Sine,delay:1})],1),this.lincBlinkAnimation=new TimelineMax({repeat:-1,repeatdelay:2.5}),this.lincEyelids.alpha=0,this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),1.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),4.6),this.lincBlinkAnimation.add(TweenMax.to(this.lincEyelids,.06,{alpha:1,yoyo:!0,ease:Quad.easeOut,repeat:1}),6.6),this.BreathingAnimation=new TimelineMax({}),this.BreathingAnimation.add(TweenMax.to(this.lincInnerHolder.scale,1,{y:.995,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLuan.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLynn.scale,1.3,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLuna.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLucy.scale,1.1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLana.scale,1.2,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),this.BreathingAnimation.add(TweenMax.to(this.sisterLola.scale,1,{y:.99,yoyo:!0,ease:Sine.easeInOut,repeat:-1}),0),1==this.game.crossGameCurrencyIsNew&&1==this.game.crossGameCurrencyOwned&&(this.game.alertCrossGameCurrencyEarned(),this.mainHolder.addChild(this.houseHackNotification),TweenMax.to(this.houseHackNotification.scale,.5,{x:1,y:1,ease:Expo.easeOut,delay:.5}))},b.prototype.activateReplayButton=function(a){a.game.ui.addCustomUIButton(a.largeReplayButton,!1,!0)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"replaybuttonlarge":if(0==this.restartAllowed)return;this.restartAllowed=!1,this.game.setScene("geoRollGameplayScene",!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),Game.stopSound("dad-gameover"),Game.stopSound("mam-gameover"),Game.stopSound("sisters-laughing"),Game.stopSound("sisters-oooooh"),Game.stopSound("linc-cant-something-go-my-way"),this.animation&&this.animation.kill(),this.BreathingAnimation&&this.BreathingAnimation.kill(),this.lincBlinkAnimation&&this.lincBlinkAnimation.kill()},b}(Scene),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},HelpScene=function(a){function b(b){a.call(this,b),this.id="helpScene"}return __extends(b,a),b.prototype.init=function(b){switch(a.prototype.init.call(this),this.setBackgroundColor(0),this.game.ui.setUI("help"),this.gridSpacing=14,b&&(this.gameID=b[0],this.returnSceneID=b[1]),this.gameID){case"trash":this.helpTutorialOverlay=Game.displayStore.getContainer("trash-tutorial-overlay");break;case"geoRoll":this.helpTutorialOverlay=Game.displayStore.getContainer("geo-roll-tutorial-overlay");break;case"laundry":this.helpTutorialOverlay=Game.displayStore.getContainer("laundry-tutorial-overlay");break;case"foodFight":this.helpTutorialOverlay=Game.displayStore.getContainer("food-fight-tutorial-overlay")}this.container.addChild(this.helpTutorialOverlay)},b.prototype.uiClicked=function(b){switch(a.prototype.uiClicked.call(this,b),b.id){case"closehelpbutton":this.game.setScene(this.returnSceneID,!1)}},b.prototype.uiRolledOver=function(b){a.prototype.uiRolledOver.call(this,b)},b.prototype.tick=function(){a.prototype.tick.call(this)},b.prototype.keyDown=function(a){},b.prototype.keyUp=function(a){},b.prototype.pause=function(){a.prototype.pause.call(this)},b.prototype.resume=function(){a.prototype.resume.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this)},b}(Scene),FoodFightPhysicsManager=function(){function a(a,b){this.physicsEnabled=!0,this.resizeRatio=1,this.PLAYERBACKGROUND=Math.pow(2,0),this.PLAYERFOREGROUND=Math.pow(2,1),this.LEVEL=Math.pow(2,2),this.PROJECTILES=Math.pow(2,3),this.SPLATS=Math.pow(2,4),this.POWERUP=Math.pow(2,5),this.scene=a,this.mainContainer=b}return a.prototype.initPhysicsWorld=function(){this.world=new p2.World({gravity:[0,-2e3]}),this.boundBodies=[],this.foodProjectiles=[],this.allowSisterDamage=!0,this.world.defaultContactMaterial.restitution=.6,this.floorPlane=new p2.Plane,this.floorBody=new p2.Body({mass:0,position:[0,Game.stageHeight-540],angle:0}),this.floorBody.addShape(this.floorPlane),this.underFloorPlane=new p2.Plane,this.underFloorBody=new p2.Body({mass:0,position:[0,Game.stageHeight-560],angle:0}),this.underFloorBody.addShape(this.underFloorPlane),this.backWallPlane=new p2.Plane,this.backWallBody=new p2.Body({mass:0,position:[10,0],angle:.5*-Math.PI}),this.backWallBody.addShape(this.backWallPlane),this.sisterSensorBody=new p2.Body({mass:0,position:[1900,Game.stageHeight-300]}),this.sisterSensorShape=new p2.Box({width:100,height:700}),this.sisterSensorShape.sensor=!0,this.sisterSensorBody.addShape(this.sisterSensorShape),this.lincolnSlider=new p2.Body({mass:100,type:"kinematic",position:[.2*Game.stageWidth,Game.stageHeight-470]}),this.lincolnTorsoShape=new p2.Box({width:110,height:180}),this.lincolnTorsoBody=new p2.Body({mass:100,position:[.2*Game.stageWidth,Game.stageHeight-490]}),this.lincolnTorsoBody.damping=.9999999999,this.lincolnTorsoBody.addShape(this.lincolnTorsoShape,[-20,30]),this.lincolnHeadShape=new p2.Circle({radius:50}),this.lincolnHeadBody=new p2.Body({mass:5,position:[.17*Game.stageWidth,Game.stageHeight-320]}),this.lincolnHeadBody.damping=.1,this.lincolnHeadBody.angularDamping=.1,this.lincolnHeadBody.addShape(this.lincolnHeadShape,[-20,-20]),this.sisterTableBody=new p2.Body({mass:0,position:[1890,Game.stageHeight-525]}),this.sisterTableShape=new p2.Box({width:100,height:110,position:[1890,Game.stageHeight-500]}),this.sisterTableBody.addShape(this.sisterTableShape,[-140,0]),this.lincTableBody=new p2.Body({mass:0,position:[650,Game.stageHeight-505]}),this.lincTableShape=new p2.Box({width:50,height:140}),this.lincTableBody.addShape(this.lincTableShape,[-35,0]),this.plateShape=new p2.Box({width:40,height:130}),this.plateShape.material=new p2.Material,this.lincolnArmBody=new p2.Body({mass:10,position:[220,Game.stageHeight-370]}),this.lincolnArmBody.angularDamping=.9999999999999999,this.lincolnArmBody.damping=.9999,this.lincolnArmBody.addShape(this.plateShape,[55,0]),this.lincArmsRotConstraint=new p2.RevoluteConstraint(this.lincolnArmBody,this.lincolnTorsoBody,{localPivotA:[-45,-13],localPivotB:[-33,90]}),this.lincArmsRotConstraint.collideConnected=!1,this.lincArmsRotConstraint.enableMotor(),this.lincHeadConstraint=new p2.LockConstraint(this.lincolnTorsoBody,this.lincolnHeadBody,{maxForce:6e4}),this.lincSliderConstraint=new p2.LockConstraint(this.lincolnTorsoBody,this.lincolnSlider,{localOffsetB:[-10,20]}),this.lincHeadConstraint.setStiffness(1e21),this.lincHeadConstraint.setRelaxation(4),this.lincHeadConstraint.collideConnected=!1,this.world.addBody(this.floorBody),this.world.addBody(this.underFloorBody),this.world.addBody(this.backWallBody),this.world.addBody(this.lincolnTorsoBody),this.world.addBody(this.lincolnArmBody),this.world.addBody(this.lincolnSlider),this.world.addBody(this.lincolnHeadBody),this.world.addBody(this.sisterSensorBody),this.world.addBody(this.sisterTableBody),this.world.addBody(this.lincTableBody),this.world.addConstraint(this.lincArmsRotConstraint),this.world.addConstraint(this.lincSliderConstraint),this.world.addConstraint(this.lincHeadConstraint),this.lincolnHeadShape.collisionGroup=this.PLAYERBACKGROUND,this.lincolnTorsoShape.collisionGroup=this.PLAYERFOREGROUND,this.plateShape.collisionGroup=this.PLAYERFOREGROUND,this.floorPlane.collisionGroup=this.LEVEL,this.underFloorPlane.collisionGroup=this.LEVEL,this.backWallPlane.collisionGroup=this.LEVEL,this.sisterSensorShape.collisionGroup=this.LEVEL,this.sisterTableShape.collisionGroup=this.LEVEL,this.lincTableShape.collisionGroup=this.LEVEL,this.lincolnHeadShape.collisionMask=this.LEVEL|this.PROJECTILES,this.lincolnTorsoShape.collisionMask=this.LEVEL|this.PROJECTILES,this.sisterTableShape.collisionMask=this.LEVEL|this.PROJECTILES,this.lincTableShape.collisionMask=this.LEVEL|this.PROJECTILES|this.PLAYERBACKGROUND|this.PLAYERFOREGROUND,this.plateShape.collisionMask=this.LEVEL|this.PROJECTILES,this.floorPlane.collisionMask=this.LEVEL|this.PROJECTILES|this.PLAYERBACKGROUND|this.PLAYERFOREGROUND,this.underFloorPlane.collisionMask=this.LEVEL|this.SPLATS,this.backWallPlane.collisionMask=this.PROJECTILES|this.PLAYERBACKGROUND|this.PLAYERFOREGROUND,this.sisterSensorShape.collisionMask=this.PROJECTILES;var a=this;this.world.on("beginContact",function(b){a.checkCollision(a,b)}),this.world.on("postStep",function(a){}),this.physicsEnabled=!0},a.prototype.bindSpriteToBody=function(a,b){this.boundBodies.push({sprite:a,body:b})},a.prototype.unbindSpriteFromBody=function(a){this.boundBodies&&this.boundBodies.splice(this.findIndexByKeyValue(this.boundBodies,"sprite",a),1)},a.prototype.addProjectileToWorld=function(a,b){this.foodProjectiles.push(a),this.world.addBody(b)},a.prototype.removeProjectileFromWorld=function(a,b){this.world&&(this.foodProjectiles.splice(this.foodProjectiles.indexOf(a),1),this.world.removeBody(b))},a.prototype.findIndexByKeyValue=function(a,b,c){for(var d=0;d<a.length;d++)if(a[d][b]==c)return d;return null},a.prototype.addBodyToWorld=function(a){this.world.addBody(a)},a.prototype.addContactMaterialToWorld=function(a){this.world&&this.world.addContactMaterial(a)},a.prototype.removeBodyFromWorld=function(a){this.world&&this.world.removeBody(a)},a.prototype.removeConstraintFromWorld=function(a){this.world&&this.world.removeConstraint(a)},a.prototype.addConstraintToWorld=function(a){this.world&&this.world.addConstraint(a)},a.prototype.addGiantPlate=function(){this.lincolnArmBody.removeShape(this.plateShape),this.plateShape=new p2.Box({width:50,height:270}),this.plateShape.material=new p2.Material,this.lincolnArmBody.addShape(this.plateShape,[75,0]),this.plateShape.collisionGroup=this.PLAYERFOREGROUND,this.plateShape.collisionMask=this.LEVEL|this.PROJECTILES},a.prototype.removeGiantPlate=function(){this.lincolnArmBody.removeShape(this.plateShape),this.plateShape=new p2.Box({width:40,height:130}),this.plateShape.material=new p2.Material,this.lincolnArmBody.addShape(this.plateShape,[55,0]),this.plateShape.collisionGroup=this.PLAYERFOREGROUND,this.plateShape.collisionMask=this.LEVEL|this.PROJECTILES},a.prototype.checkCollision=function(a,b){switch(a.sisterSensorBody){case b.bodyA:a.sisterContact(a,b.bodyB);break;case b.bodyB:a.sisterContact(a,b.bodyA)}switch(a.lincolnTorsoBody){case b.bodyA:a.lincDamage(a,b.bodyB);break;case b.bodyB:a.lincDamage(a,b.bodyA)}switch(a.lincolnHeadBody){case b.bodyA:a.lincDamage(a,b.bodyB);break;case b.bodyB:a.lincDamage(a,b.bodyA)}switch(a.scene.heartPowerupBody){case b.bodyA:b.bodyB.velocity[0]>100&&a.scene.collectHeart();break;case b.bodyB:b.bodyA.velocity[0]>100&&a.scene.collectHeart()}switch(a.floorBody){case b.bodyA:a.foodProjectiles[0]&&b.bodyB==a.foodProjectiles[0].body&&a.scene.foodHitsLevel(Math.abs(b.bodyB.velocity[0])*Math.abs(b.bodyB.velocity[1])/16e5);break;case b.bodyB:a.foodProjectiles[0]&&b.bodyA==a.foodProjectiles[0].body&&a.scene.foodHitsLevel(Math.abs(b.bodyA.velocity[0])*Math.abs(b.bodyA.velocity[1])/16e5)}switch(a.backWallBody){case b.bodyA:a.foodProjectiles[0]&&b.bodyB==a.foodProjectiles[0].body&&a.scene.foodHitsLevel(Math.abs(b.bodyB.velocity[0])*Math.abs(b.bodyB.velocity[1])/16e5);break;case b.bodyB:a.foodProjectiles[0]&&b.bodyA==a.foodProjectiles[0].body&&a.scene.foodHitsLevel(Math.abs(b.bodyA.velocity[0])*Math.abs(b.bodyA.velocity[1])/16e5)}if(a.foodProjectiles[0])switch(a.foodProjectiles[0].body){case b.bodyA:b.bodyB.shapes[0].collisionGroup!=this.POWERUP&&(a.foodProjectiles[0].doSplat(a.foodProjectiles[0]),b.bodyB==a.lincolnArmBody&&a.scene.foodHitsPlate(Math.abs(b.bodyA.velocity[0])*Math.abs(b.bodyA.velocity[1])/12e5));break;case b.bodyB:b.bodyA.shapes[0].collisionGroup!=this.POWERUP&&(a.foodProjectiles[0].doSplat(a.foodProjectiles[0]),b.bodyA==a.lincolnArmBody&&a.scene.foodHitsPlate(Math.abs(b.bodyB.velocity[0])*Math.abs(b.bodyB.velocity[1])/12e5))}if(a.foodProjectiles[1])switch(a.foodProjectiles[1].body){case b.bodyA:b.bodyB.shapes[0].collisionGroup!=this.POWERUP&&(a.foodProjectiles[1].doSplat(a.foodProjectiles[1]),b.bodyB==a.lincolnArmBody&&a.scene.foodHitsPlate(Math.abs(b.bodyA.velocity[0])*Math.abs(b.bodyA.velocity[1])/12e5));break;case b.bodyB:b.bodyA.shapes[0].collisionGroup!=this.POWERUP&&(a.foodProjectiles[1].doSplat(a.foodProjectiles[1]),b.bodyA==a.lincolnArmBody&&a.scene.foodHitsPlate(Math.abs(b.bodyB.velocity[0])*Math.abs(b.bodyB.velocity[1])/12e5))}},a.prototype.resetSisterDamageAllow=function(){this.allowSisterDamage=!0},a.prototype.sisterContact=function(a,b){1==a.allowSisterDamage&&(a.allowSisterDamage=!1,b.velocity[0]>1e3&&a.scene.hitSister())},a.prototype.lincDamage=function(a,b){Math.abs(b.velocity[0]*b.velocity[1])>5e5&&a.scene.lincTakeDamage()},a.prototype.resizeElements=function(a,b){this.canvasHeight=b,this.canvasWidth=a,this.canvasOrigHeight&&(this.resizeRatio=this.canvasHeight/this.canvasOrigHeight)},a.prototype.stepPhysics=function(){if(0!=this.physicsEnabled&&this.world){this.world.step(1/Game.fps);for(var a=0;a<this.boundBodies.length;a++)this.boundBodies[a].sprite.position.x=this.boundBodies[a].body.position[0],this.boundBodies[a].sprite.position.y=Game.stageHeight-this.boundBodies[a].body.position[1],this.boundBodies[a].sprite.rotation=-this.boundBodies[a].body.angle;this.lincolnSlider.position[1]>130&&(this.lincolnSlider.velocity[1]=-190)}},a.prototype.applyWalkForce=function(a){var b,c,d=5.5*a,e=this.lincolnSlider.position[0]-65,f=Math.abs(this.lincolnSlider.position[0]-550);b=13*(68.75-e),c=14*(825/14-f),b<0&&(b=0),c<0&&(c=0),this.lincolnSlider.velocity[0]=d+b-c},a.prototype.rotatePlate=function(a,b){this.lincArmsRotConstraint.setMotorSpeed(a*b*4.5)},a.prototype.getPlateAngle=function(){return-this.lincolnArmBody.angle},a.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.prototype.getAngle=function(a,b,c,d){if(a!=c||b!=d){var e=a-c,f=d-b;return Math.atan2(f,e)}},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.destroy=function(){var a=this;TweenMax.delayedCall(.1,function(){a.world&&(a.world.clear(),a.world=null),a.boundBodies=[],a.boundBodies=null})},a}(),FoodFightInputManager=function(){function a(a,b){this.scene=a,this.currentTouches=[],this.currentTouches[0]=new PIXI.Point,this.currentTouches[1]=new PIXI.Point,this.joystickLeft=Game.displayStore.getContainer("food-fight/joystick-left"),this.joystickLeftControl=this.joystickLeft.getSpriteAt(1),this.joystickRight=Game.displayStore.getContainer("food-fight/joystick-right"),this.joystickRightControl=this.joystickRight.getSpriteAt(1),this.joystickRight.rotation=.5*Math.PI,0==Game.onDesktop&&(this.scene.uiLayer.addChild(this.joystickLeft),this.scene.uiLayer.addChild(this.joystickRight)),this.joystickLeft.visible=!1,this.joystickRight.visible=!1,this.startTouchPos=new PIXI.Point(0,0),this.currentTouchPos=new PIXI.Point(0,0),this.rightKeyPos=new PIXI.Point(Game.stageWidth/2,Game.stageHeight/2),this.leftKeyPos=new PIXI.Point(Game.stageWidth/2,Game.stageHeight/2),this.keyboardInput="none",this.startAngle=0,this.currentAngle=0,this.lastAngle=0,this.keyboardDown=!1,this.angleDir=0,this.lastAngleDir=0,this.walkForce=0,this.mouseDistance=0,this.angleLimit=.7,this.hitAreaSprite=Game.displayStore.getSprite("food-fight/blank-input.png"),this.hitAreaSprite.width=Game.stageWidth,this.hitAreaSprite.height=Game.stageHeight,this.rotatePoint=b,this.scene.uiLayer.addChild(this.hitAreaSprite),this.multipleEventFixBoolean=!1,this.mouseDown=!1,this.initialPlateAngle=this.getConvertedPlateAngle(this.scene.physicsManager.getPlateAngle()),this.setUpHitArea(this.hitAreaSprite)}return a.prototype.setUpHitArea=function(a){a.interactive=!0,a.buttonMode=!0;var b=this;Game.onDesktop?(a.on("mousedown",function(a){b.parseStartInput(b,a.data.getLocalPosition(b.scene.container))}),a.on("mousemove",function(a){b.parseMoveInput(b,a.data.getLocalPosition(b.scene.container))}),a.on("mouseup",function(a){b.parseEndInput(b,a.data.getLocalPosition(b.scene.container))}),a.on("mouseupoutside",function(a){b.parseEndInput(b,a.data.getLocalPosition(b.scene.container))})):(a.on("touchstart",function(a){b.parseStartTouch(b,a.data.originalEvent.touches)}),a.on("touchmove",function(a){b.parseMoveTouch(b,a.data.originalEvent.touches)}),a.on("touchend",function(a){b.parseEndTouch(b,a.data.originalEvent.touches)}))},a.prototype.parseStartTouch=function(a,b){for(var c=0;c<b.length;c++)b[c].clientX/Game.windowScaleFactor<Game.stageWidth/2&&0==a.joystickLeft.visible&&(a.joystickLeft.position.x=(b[c].clientX-Game.gameOffset.x)/Game.windowScaleFactor,a.joystickLeft.position.y=(b[c].clientY-Game.gameOffset.y)/Game.windowScaleFactor,a.joystickLeft.visible=!0,a.leftTouchIndex=c,a.currentTouches[c].x=a.joystickLeft.position.x,a.currentTouches[c].y=a.joystickLeft.position.y),b[c].clientX/Game.windowScaleFactor>Game.stageWidth/2&&0==a.joystickRight.visible&&(a.joystickRight.position.x=(b[c].clientX-Game.gameOffset.x)/Game.windowScaleFactor,a.joystickRight.position.y=(b[c].clientY-Game.gameOffset.y)/Game.windowScaleFactor,a.joystickRight.visible=!0,a.rightTouchIndex=c,a.currentTouches[c].x=a.joystickRight.position.x,a.currentTouches[c].y=a.joystickRight.position.y,a.mouseDistance=0);a.startAngle=-this.scene.physicsManager.getPlateAngle(),a.mouseDown=!0},a.prototype.parseMoveTouch=function(a,b){a.currentTouches[0].x=(b[0].clientX-Game.gameOffset.x)/Game.windowScaleFactor,a.currentTouches[0].y=(b[0].clientY-Game.gameOffset.y)/Game.windowScaleFactor,b.length>1&&(a.currentTouches[1].x=(b[1].clientX-Game.gameOffset.x)/Game.windowScaleFactor,a.currentTouches[1].y=(b[1].clientY-Game.gameOffset.y)/Game.windowScaleFactor)},a.prototype.parseEndTouch=function(a,b){b[0]||(a.mouseDown=!1,a.walkForce=0,a.mouseDistance=0,a.joystickLeft.visible=!1,a.joystickRight.visible=!1,a.leftTouchIndex=null,a.rightTouchIndex=null),b[0]&&(b[0].clientX/Game.windowScaleFactor>Game.stageWidth/2&&(1==a.rightTouchIndex&&(a.currentTouches[0].x=a.currentTouches[1].x,a.currentTouches[0].y=a.currentTouches[1].y),a.walkForce=0,a.joystickLeft.visible=!1,a.rightTouchIndex=0,a.leftTouchIndex=null),b[0].clientX/Game.windowScaleFactor<Game.stageWidth/2&&(1==a.leftTouchIndex&&(a.currentTouches[0].x=a.currentTouches[1].x,a.currentTouches[0].y=a.currentTouches[1].y),a.mouseDistance=0,a.joystickRight.visible=!1,a.leftTouchIndex=0,a.rightTouchIndex=null))},a.prototype.parseStartInput=function(a,b){a.startTouchPos.x=b.x,a.startTouchPos.y=b.y,a.startAngle=-this.scene.physicsManager.getPlateAngle(),a.mouseDown=!0},a.prototype.parseMoveInput=function(a,b){a.currentTouchPos.x=b.x,a.currentTouchPos.y=b.y},a.prototype.parseEndInput=function(a,b){a.mouseDown=!1,a.walkForce=0,a.mouseDistance=0},a.prototype.getInputAngle=function(a,b,c,d){var e=Math.atan2(b-d,a-c)-.5*Math.PI;return e<0&&(e+=2*Math.PI),e},a.prototype.getConvertedPlateAngle=function(a){var b=a-.5*Math.PI;return b<0&&(b+=2*Math.PI),b},a.prototype.getInputAngleLimited=function(a,b){var c;c=a-b,this.currentAngle<this.lastAngle?this.angleDir=-1:this.lastAngle<this.currentAngle&&(this.angleDir=1);return this.angleDir!=this.lastAngleDir&&!0,c<-this.angleLimit?c=-this.angleLimit:c>this.angleLimit&&(c=this.angleLimit),this.lastAngle=a,this.lastAngleDir=this.angleDir,c},a.prototype.unlockInput=function(){this.multipleEventFixBoolean=!1},a.prototype.keyDown=function(a){switch(this.keyboardInput=a,a){case"left":this.walkForce=-150;break;case"right":this.walkForce=150;break;case"down":this.startAngle=0;break;case"up":this.startAngle=0;break;case"spacebar":this.keyboardInput="spacebar"}this.keyboardDown=!0},a.prototype.keyUp=function(a){switch(a){case"left":this.walkForce=0;break;case"right":this.walkForce=0;break;case"down":break;case"up":}this.keyboardDown=!1},a.prototype.tick=function(){if(1==this.keyboardDown&&("up"==this.keyboardInput&&(this.currentAngle-=.07),"down"==this.keyboardInput&&(this.currentAngle+=.07),this.currentAngle<-.7&&(this.currentAngle=-.7),this.currentAngle>.7&&(this.currentAngle=.7),this.scene.physicsManager.rotatePlate(this.getConvertedPlateAngle(this.scene.physicsManager.getPlateAngle()-this.initialPlateAngle-this.getInputAngleLimited(this.currentAngle,this.startAngle)),200),this.scene.physicsManager.applyWalkForce(this.walkForce)),1==this.mouseDown)if(1==Game.onDesktop){this.mouseDistance=this.currentTouchPos.y-this.startTouchPos.y;var a=this.mouseDistance/300;this.currentAngle=a}else{1==this.joystickLeft.visible&&(this.joystickLeftControl.position.x=this.currentTouches[this.leftTouchIndex].x-this.joystickLeft.position.x,this.joystickLeftControl.position.x>85&&(this.joystickLeftControl.position.x=85),this.joystickLeftControl.position.x<-85&&(this.joystickLeftControl.position.x=-85),this.walkForce=2*this.joystickLeftControl.position.x),1==this.joystickRight.visible&&(this.joystickRightControl.position.x=this.currentTouches[this.rightTouchIndex].y-this.joystickRight.position.y,this.joystickRightControl.position.x>85&&(this.joystickRightControl.position.x=85),this.joystickRightControl.position.x<-85&&(this.joystickRightControl.position.x=-85),this.mouseDistance=1.3*this.joystickRightControl.position.x);var a=this.mouseDistance/100;this.currentAngle=a,this.walkForce<-200&&(this.walkForce=-200),this.walkForce>200&&(this.walkForce=200)}this.scene.physicsManager.rotatePlate(this.getConvertedPlateAngle(this.scene.physicsManager.getPlateAngle()-this.initialPlateAngle-this.getInputAngleLimited(this.currentAngle,this.startAngle)),100),this.scene.physicsManager.applyWalkForce(this.walkForce)},a.prototype.destroy=function(){this.hitAreaSprite.removeAllListeners()},a}(),FoodProjectile=function(){function a(a,b){if(this.scene=a.scene,this.sister=a,this.container=Game.displayStore.getContainer(b.projectile),this.container.alpha=0,this.leftOfTable=!1,"none"!=b.splat?this.doesSplat=!0:this.doesSplat=!1,this.splatType=b.splat,this.shapes=b.shapes,this.splatted=!1,this.triggered=!1,1==this.doesSplat){this.splatHolder=this.container.getContainer(b.projectile+"_particles"),this.splatHolder.alpha=0,this.splatParticles=new Array;for(var c=0;c<this.splatHolder.children.length;c++){var d=this.splatHolder.getSpriteAt(c);this.splatParticles.push({sprite:d,body:null})}}this.body=new p2.Body({mass:2,position:[1.7*Game.stageWidth,200]}),this.body.angularDamping=.6,this.material=new p2.Material,this.scene.physicsManager.addProjectileToWorld(this,this.body);for(var c=0;c<this.shapes.length;c++){var e,f=[0,0];this.shapes[c].offset&&this.shapes[c].offset[0]&&(f[0]=this.shapes[c].offset[0]),this.shapes[c].offset&&this.shapes[c].offset[1]&&(f[1]=-this.shapes[c].offset[1]),"circle"==this.shapes[c].type&&(e=new p2.Circle({radius:this.shapes[c].radius})),"rect"==this.shapes[c].type&&(e=new p2.Box({width:this.shapes[c].width,height:this.shapes[c].height})),e.collisionGroup=this.scene.physicsManager.PROJECTILES,e.collisionMask=this.scene.physicsManager.PROJECTILES|this.scene.physicsManager.LEVEL|this.scene.physicsManager.PLAYERBACKGROUND|this.scene.physicsManager.PLAYERFOREGROUND|this.scene.physicsManager.POWERUP,this.body.addShape(e,f),e.material=this.material}this.markerMode="right",this.inPlay=!1,this.plateContactMaterial=new p2.ContactMaterial(this.material,this.scene.physicsManager.plateShape.material,{restitution:1.3,contactSkinSize:1}),this.scene.physicsManager.addContactMaterialToWorld(this.plateContactMaterial),this.scene.physicsManager.bindSpriteToBody(this.container,this.body),this.container.alpha=0,this.container.position.x=2e3,this.marker=Game.displayStore.getSprite("food-fight/marker"),this.marker.position.x=Game.stageWidth,this.marker.position.y=Game.stageHeight/2,this.scene.container.addChild(this.marker),this.fire()}return a.prototype.fire=function(){switch(Game.getRandom(0,2,!0)){case 0:Game.playSound("throw-1");break;case 1:Game.playSound("throw-2");break;case 2:Game.playSound("throw-3")}var a;if(this.scene.foodRoundsManager.roundCount<3){a=Game.getRandom(2300,2600);var b=5300-a}else if(this.scene.foodRoundsManager.roundCount>=3&&this.scene.foodRoundsManager.roundCount<15){a=Game.getRandom(1900,3200);var b=5400-a+Game.getRandom(-100,100)}else{a=Game.getRandom(1200,4100);var b=5500-a+Game.getRandom(-100,100)}this.body.applyImpulse([-b,a]),this.body.angularVelocity=Game.getRandom(-20,20),this.container.alpha=1,this.delayedDisable=TweenMax.delayedCall(3,function(){},null,this)},a.prototype.tick=function(){this.container.position.x>Game.stageWidth+400?("top"==this.markerMode&&(this.markerMode="right",this.marker.rotation=0,this.marker.position.x=Game.stageWidth),this.marker.position.y+=(this.container.position.y-this.marker.position.y)/7,0==this.inPlay&&(this.marker.alpha=1)):this.container.position.y<0?("right"==this.markerMode&&(this.markerMode="top",this.marker.rotation=.5*-Math.PI,this.marker.position.y=0),this.marker.position.x+=(this.container.position.x-this.marker.position.x)/7):(this.inPlay=!0,this.marker.alpha+=(0-this.marker.alpha)/4),this.container.position.x<585&&0==this.leftOfTable?(this.leftOfTable=!0,this.scene.addProjectilesBelowTable()):this.container.position.x>630&&1==this.leftOfTable&&(this.leftOfTable=!1,this.scene.addProjectilesAboveTable()),this.body.velocity[0]>200&&0==this.triggered&&this.body.position[0]>800&&(this.triggered=!0,this.scene.deflectProjectile())},a.prototype.doSplat=function(a){if(1!=a.splatted&&0!=a.doesSplat){switch(Game.getRandom(0,5,!0)){case 0:Game.playSound("splat-2");break;case 1:Game.playSound("splat-3");break;case 2:Game.playSound("splat-5");break;case 3:Game.playSound("splat-7");break;case 4:Game.playSound("splat-8");break;case 5:Game.playSound("splat-9")}a.splatted=!0,a.container.alpha=0,a.scene.makeSplat(a);for(var b=0;b<a.splatParticles.length;b++){var c=new p2.Body({mass:2,position:a.body.position}),d=new p2.Box({width:5,height:5});c.addShape(d),d.collisionGroup=this.scene.physicsManager.SPLATS,
d.collisionMask=this.scene.physicsManager.LEVEL,a.scene.physicsManager.addBodyToWorld(c),a.splatParticles[b].body=c,c.applyImpulse([Game.getRandom(-1e3,1500),Game.getRandom(1e3,2e3)]),c.angularVelocity=Game.getRandom(-15,15);var e=a.splatParticles[b].sprite;e.scale=new PIXI.Point(1.8,1.8),e.alpha=1,TweenMax.to(e,1,{alpha:0,ease:Power1.easeIn}),TweenMax.to(e.scale,1,{x:3,y:3,ease:Power1.easeIn}),a.scene.foodProjectilesHolder.addChild(e),a.scene.physicsManager.bindSpriteToBody(e,c)}a.scene.physicsManager.unbindSpriteFromBody(a.container),a.scene.physicsManager.removeProjectileFromWorld(a,a.body)}},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.fade=function(){TweenMax.to(this.container,.5,{alpha:0,onComplete:this.destroy,onCompleteParams:[this]})},a.prototype.destroy=function(a){if(1==a.doesSplat)for(var b=0;b<a.splatParticles.length;b++)a.scene.physicsManager.unbindSpriteFromBody(a.splatParticles[b].sprite),a.scene.physicsManager.removeBodyFromWorld(a.splatParticles[b].body),a.splatHolder.addChild(a.splatParticles[b].sprite);Game.displayStore.returnPooledItem(a.container),Game.displayStore.returnPooledItem(a.marker),a.scene.physicsManager.removeProjectileFromWorld(a,a.body),a.shape=null,a.body=null,a.material=null},a}(),SisterThrower=function(){function a(a,b){this.scene=b,this.id=a.id,this.active=!1,this.container=Game.displayStore.getContainer("food-fight/"+a.id),this.projectileArt=Game.displayStore.getContainer(a.projectile),this.projectileArt.alpha=0,this.container.x=1820,this.container.y=650,this.data=a,this.food=this.container.getSprite(a.projectile+".png"),this.food.rotation=0|a.projectileDefaultRot,"none"!=a.splat?this.hasSplat=!0:this.hasSplat=!1,this.arm=this.container.getSprite("food-fight/sisters/"+a.id+"-arm.png"),this.container.alpha=0}return a.prototype.introduce=function(a,b){this.container.x=1820+a,this.container.y=650+b,this.spawnTimeline&&this.spawnTimeline.kill(),this.spawnTimeline=new TimelineMax,this.spawnTimeline.add(TweenMax.to(this.container.position,.5,{y:490+b,ease:Back.easeOut}),1.1),this.spawnTimeline.add([TweenMax.from(this.arm,.4,{rotation:.35,ease:Back.easeOut}),TweenMax.from(this.food.position,.4,{y:"+=20",ease:Back.easeOut})],1.3),this.container.alpha=1,this.spawnTimeline.call(Game.playSound,["swish",.5],this,1),this.spawnTimeline.call(function(){switch(console.log("id = ",this.id),this.id){case"lisa":Game.playSound("lisa-lets-play");break;case"lola":Game.playSound("lola-hold-still");break;case"lana":Game.playSound("sister-get-him");break;case"lucy":Game.playSound("lucy-haha");break;case"lynn":Game.playSound("lynn-laugh");break;case"luan":Game.playSound("luan-think-fast");break;case"luna":Game.playSound("sister-good-luck");break;case"leni":Game.playSound("sister-lincoln");break;case"lori":Game.playSound("lori-scream")}},null,this,1.1)},a.prototype.attack=function(){this.spawnObject()},a.prototype.spawnObject=function(){this.foodProjectile=new FoodProjectile(this,this.data),this.scene.foodProjectilesHolder.addChild(this.foodProjectile.container)},a.prototype.shuffleArray=function(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a},a.prototype.tick=function(){this.foodProjectile&&this.foodProjectile.tick()},a.prototype.pause=function(){this.spawnTimeline&&this.spawnTimeline.pause()},a.prototype.resume=function(){this.spawnTimeline&&this.spawnTimeline.paused&&this.spawnTimeline.resume()},a.prototype.destroy=function(){this.spawnTimeline&&this.spawnTimeline.kill(),this.foodProjectile&&(this.foodProjectile.fade(),this.foodProjectile=null),this.container.alpha=0},a}(),FoodRoundsManager=function(){function a(a){this.clicked=!1,this.scene=a,this.gameplayTimeline=new TimelineMax,this.roundCount=1,this.destroyed=!1,this.sisters=new Array,this.allSisters=new Array,this.breather=2,this.sisterData=[{id:"leni",projectile:"food-fight/food/apple",projectileDefaultRot:0,splat:"none",shapes:[{type:"circle",radius:21},{type:"circle",radius:15,offset:[-9,-2]},{type:"circle",radius:15,offset:[5,-13]}]},{id:"lola",projectile:"food-fight/food/lollipop",projectileDefaultRot:2,splat:"none",shapes:[{type:"circle",radius:22},{type:"rect",width:5,height:35,offset:[0,35]}]},{id:"lynn",projectile:"food-fight/food/melon",projectileDefaultRot:0,splat:"none",shapes:[{type:"circle",radius:42}]},{id:"luna",projectile:"food-fight/food/banana",projectileDefaultRot:0,splat:"none",shapes:[{type:"circle",radius:13,offset:[-15,15]},{type:"circle",radius:21,offset:[10,5]}]},{id:"lisa",projectile:"food-fight/food/spaghetti",projectileDefaultRot:0,splat:"standard",shapes:[{type:"rect",width:80,height:40,offset:[0,10]}]},{id:"luan",projectile:"food-fight/food/chicken",projectileDefaultRot:0,splat:"none",shapes:[{type:"circle",radius:12,offset:[-53,12]},{type:"circle",radius:25,offset:[-20,0]},{type:"circle",radius:26,offset:[10,0]},{type:"rect",width:32,height:30,offset:[47,3]}]},{id:"lori",projectile:"food-fight/food/pizza",projectileDefaultRot:0,splat:"standard",shapes:[{type:"rect",width:80,height:70}]},{id:"lucy",projectile:"food-fight/food/pancakes",projectileDefaultRot:0,splat:"syrup",shapes:[{type:"rect",width:70,height:60}]},{id:"lana",projectile:"food-fight/food/hotdog",projectileDefaultRot:0,splat:"sauce",shapes:[{type:"circle",radius:17},{type:"circle",radius:17,offset:[-17,2]},{type:"circle",radius:17,offset:[15,-15]}]}]}return a.prototype.startGame=function(a){this.difficulty=a,this.createSisters(),this.gameplayTimeline.call(function(){this.startRound()},null,this,3)},a.prototype.startRound=function(){if(1!=this.destroyed){this.scene.greenGlow.alpha=1,this.gameplayTimeline&&this.gameplayTimeline.kill(),this.gameplayTimeline=new TimelineMax;var a=this.getRandomSister(!1);if(this.currentSisterID=a.id,this.gameplayTimeline.call(function(){this.scene.physicsManager.resetSisterDamageAllow(),a.introduce(-10,0)},null,this),this.roundCount>=10){var b=this.getRandomSister(!0);this.breather=1;Game.getRandom(0,1);this.scene.addSisterToTop(b.container),this.gameplayTimeline.call(function(){b.introduce(75,10)},null,this,.5)}this.roundCount>15&&(this.breather=0),this.gameplayTimeline.add([TweenMax.to(this.scene.mainHolder.position,1,{x:-Game.stageWidth,ease:Power2.easeInOut}),TweenMax.to(this.scene.mainHolder.scale,1,{x:1,y:1,ease:Power2.easeInOut}),TweenMax.to(this.scene.mainHolder.position,1,{y:0,ease:Power2.easeInOut}),TweenMax.to(this.scene.greenGlow.scale,.5,{x:0,ease:Power2.easeInOut})]),this.gameplayTimeline.call(this.scene.clearRenderTexture,null,this.scene),this.gameplayTimeline.add([TweenMax.to(this.scene.mainHolder.scale,1,{x:.7,y:.7,ease:Power2.easeInOut}),TweenMax.to(this.scene.mainHolder.position,1,{x:0,y:190,ease:Power2.easeInOut}),TweenMax.to(this.scene.greenGlow.scale,1,{x:1.5,ease:Power2.easeInOut})],"+=0.6"),this.gameplayTimeline.call(a.attack,null,a),b&&this.gameplayTimeline.call(b.attack,null,b,"+=1.4"),b?this.gameplayTimeline.add([TweenMax.to(this.scene.mainHolder.scale,1.5,{x:1,y:1,ease:Power2.easeInOut}),TweenMax.to(this.scene.mainHolder.position,1.5,{y:0,ease:Power2.easeInOut}),TweenMax.to(a.container.position,1,{y:"+=120",ease:Power2.easeInOut}),TweenMax.to(b.container.position,1,{y:"+=120",ease:Power2.easeInOut})],"+=1.7"):this.gameplayTimeline.add([TweenMax.to(this.scene.mainHolder.scale,1.5,{x:1,y:1,ease:Power2.easeInOut}),TweenMax.to(this.scene.mainHolder.position,1.5,{y:0,ease:Power2.easeInOut}),TweenMax.to(a.container.position,1,{y:"+=120",ease:Power2.easeInOut})],"+=1.7"),this.gameplayTimeline.call(function(){1==this.crossGamePowerupIsActive?this.setLincHead(0):this.setLincHead(2)},null,this.scene,2.9),this.gameplayTimeline.call(function(){0!=this.scene.currentLincHead&&this.scene.setLincHead(3)},[3],this,5),this.gameplayTimeline.call(function(){this.scene.endingRound(this.roundCount)},null,this),b?this.gameplayTimeline.call(function(){a.destroy(),b.destroy()},null,this,"+="+this.breather.toString()):this.gameplayTimeline.call(a.destroy,null,a,"+="+this.breather.toString()),this.gameplayTimeline.call(this.startRound,null,this),this.roundCount+=1,this.scene.startingRound(this.roundCount)}},a.prototype.createSisters=function(){for(var a=0;a<this.sisterData.length;a++){var b=new SisterThrower(this.sisterData[a],this.scene);this.sisters.push(b),this.allSisters.push(b),this.scene.mainHolder.addChild(b.container)}},a.prototype.getRandomSister=function(a){if(0==this.sisters.length)for(var b=0;b<this.allSisters.length;b++)0==this.allSisters[b].active&&this.sisters.push(this.allSisters[b]);this.shuffleArray(this.sisters);for(var c=-1,b=0;b<this.sisters.length;b++)this.sisters[b].hasSplat==a&&(c=b);if(c==-1){for(var b=0;b<this.allSisters.length;b++)0==this.allSisters[b].active&&this.allSisters[b].hasSplat==a&&this.sisters.push(this.allSisters[b]);c=this.sisters.length-1}var d;return d=this.sisters[c],this.sisters.splice(c,1),d},a.prototype.tick=function(){for(var a=0;a<this.allSisters.length;a++)this.allSisters[a].tick()},a.prototype.pause=function(){this.gameplayTimeline&&this.gameplayTimeline.pause()},a.prototype.resume=function(){this.gameplayTimeline&&this.gameplayTimeline&&this.gameplayTimeline.resume()},a.prototype.shuffleArray=function(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a},a.prototype.destroy=function(){this.destroyed=!0;for(var a=0;a<this.allSisters.length;a++)this.allSisters[a].destroy();this.sisters=null,this.gameplayTimeline&&this.gameplayTimeline.kill()},a}(),FoodFightHealth=function(){function a(a){this.scene=a,this.container=Game.displayStore.getContainer("food-fight/health-bg"),this.currentHealth=3,this.container.position.x=Game.stageWidth/2,this.container.position.y=570,this.hearts=new Array,this.allHearts=new Array}return a.prototype.open=function(){this.openTimeline=this.scene.killTween(this.openTimeline),this.openTimeline=new TimelineMax,this.openTimeline.add([TweenMax.from(this.container.scale,1,{x:0,y:0,ease:Elastic.easeOut}),TweenMax.from(this.container.position,.2,{y:"+=100",ease:Back.easeOut})],1);for(var a=0;a<this.currentHealth;a++){var b=Game.displayStore.getSprite("food-fight/heart");b.position.x=55*a-55,b.position.y=-15,b.alpha=1,this.hearts.push(b),this.allHearts.push(b),this.container.addChild(b),this.openTimeline.add(TweenMax.from(b.scale,1,{x:0,y:0,ease:Elastic.easeOut}),1.2+a/20),this.openTimeline.call(Game.playSound,["strawberry-pop-02",.8],this,1+a/20)}},a.prototype.loseLife=function(){this.currentHealth>0&&this.currentHealth--;var a=this.hearts.pop();this.loseHealthTimeline&&this.loseHealthTimeline.kill(),this.loseHealthTimeline=new TimelineMax({delay:.3}),a&&(this.loseHealthTimeline.add(TweenMax.to(a.scale,.1,{x:1.8,y:1.8,ease:Power2.easeOut})),this.loseHealthTimeline.add([TweenMax.to(a.scale,.5,{x:0,y:0,ease:Back.easeOut}),TweenMax.to(a,.3,{alpha:0,ease:Power1.easeOut})])),0==this.currentHealth&&this.loseHealthTimeline.call(this.scene.gameOver,null,this.scene),this.loseHealthTimeline.call(this.scene.setLincHead,[2],this.scene,.2),this.loseHealthTimeline.call(this.scene.setLincHead,[3],this.scene,1),this.loseHealthTimeline.call(Game.playSound,["strawberry-pop-02",.9],this,.1)},a.prototype.gainLife=function(){if(!(this.currentHealth>2)){this.currentHealth++;var a=this.allHearts[this.currentHealth-1];a.alpha=0,a.scale=new PIXI.Point(0,0),this.hearts.push(a),this.loseHealthTimeline&&this.loseHealthTimeline.kill(),this.loseHealthTimeline=new TimelineMax({delay:.2}),this.loseHealthTimeline.add([TweenMax.to(a.scale,1,{x:1,y:1,ease:Elastic.easeOut}),TweenMax.to(a,.2,{alpha:1,ease:Power1.easeOut})]),this.loseHealthTimeline.call(Game.playSound,["strawberry-pop-02",.9],this,0)}},a.prototype.tick=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.destroy=function(){console.log("destroying",this.allHearts.length);for(var a=0;a<this.allHearts.length;a++)Game.displayStore.returnPooledItem(this.allHearts[a])},a}(),LaundryBinMain=function(){function a(a){this.clicked=!1,this.binProximityThreshold=150,this.scene=a,this.container=Game.displayStore.getContainer("loud-laundry/main-basket"),this.front=this.container.getSprite("loud-laundry/main-basket-front.png"),this.container.x=100,this.container.y=770,this.container.interactive=!0,this.active=!1,this.currentMousePos=new PIXI.Point,this.items=new Array,this.paused=!1,this.addListeners()}return a.prototype.addListeners=function(){var a=this;a.container.interactive=!0,1==Game.onDesktop?a.container.on("mousedown",function(b){a.inputStart(a,b),a.scene.stageHitSprite.on("mousemove",function(b){a.inputHappening(a,b)}),a.scene.stageHitSprite.on("mouseup",function(b){a.inputEnd(a,b)}),a.scene.stageHitSprite.on("mouseout",function(b){a.inputEnd(a,b)})}):0==Game.onDesktop&&a.container.on("touchstart",function(b){a.inputStart(a,b),a.scene.stageHitSprite.on("touchmove",function(b){a.inputHappening(a,b)}),a.scene.stageHitSprite.on("touchend",function(b){a.inputEnd(a,b)}),a.on("touchendoutside",function(b){a.inputEnd(a,b)})})},a.prototype.addItemFromStairs=function(a){var b=this.items.length;b>10&&(b=10);var c=new PIXI.Point;c.x=Game.getRandom(-80,80),c.y=Game.getRandom(-190,-220)-8*b,this.bounce(this,.28),a.container.position.y+=a.container.parent.position.y,a.container.position.y-=this.container.position.y,a.dropTweenX.updateTo({x:c.x},!1),a.dropTweenY.updateTo({y:c.y},!1),this.container.addChildAt(a.container,1),TweenMax.delayedCall(.3,this.addItemToArray,[a],this)},a.prototype.addPowerup=function(a){var b=this.items.length;b>10&&(b=10);new PIXI.Point;a.container.position.x=Game.getRandom(-80,80),a.container.position.y=Game.getRandom(-190,-220)-8*b,this.bounce(this,.28),this.container.addChildAt(a.container,1),TweenMax.delayedCall(.3,this.addItemToArray,[a],this)},a.prototype.addWashing=function(a){var b=this.items.length;b>10&&(b=10);for(var c=0;c<a.length;c++){var d=a[c];this.container.addChildAt(d.container,1),d.container.position.x=Game.getRandom(-80,80),d.container.position.y=Game.getRandom(-190,-220)-8*b,d.container.scale.x=d.container.scale.y=1,this.addItemToArray(d)}},a.prototype.addItemToArray=function(a){this.items&&(this.shakeWashingDown(),this.items.push(a))},a.prototype.removeItem=function(a){this.items.splice(this.items.indexOf(a),1)},a.prototype.putBack=function(a){this.container.addChildAt(a.container,1),a.container.position.x-=this.container.position.x,a.container.position.y-=this.container.position.y},a.prototype.clear=function(){this.mostRecentItem=null;for(var a=0;a<this.items.length;a++)1==this.items[a].special?this.scene.updateScore(this.scene,3):this.scene.updateScore(this.scene,1),this.items[a].destroy();this.items=new Array},a.prototype.inputStart=function(a,b){if(1!=a.paused){a.active=!0,a.currentMousePos.x=b.data.getLocalPosition(a.scene.roomHolder).x,a.currentMousePos.y=b.data.getLocalPosition(a.scene.roomHolder).y,a.scene.roomHolder.addChild(a.scene.stageHitSprite),a.scene.roomHolder.addChild(a.container),a.container.interactive=!1;b.data.getLocalPosition(a.container);a.mostRecentItem=a.items[a.items.length-1],a.mostRecentItem&&(a.scene.roomHolder.addChild(a.mostRecentItem.container),a.mostRecentItem.startDrag(a.mostRecentItem,a.container.position.x+a.mostRecentItem.container.position.x,a.container.position.y+a.mostRecentItem.container.position.y)),a.shakeWashingDown()}},a.prototype.shakeWashingDown=function(){this.shakeWashingTimeline=this.scene.killTween(this.shakeWashingTimeline),this.shakeWashingTimeline=new TimelineMax;for(var a=0;a<this.items.length;a++)this.items[a]!=this.mostRecentItem&&this.items[a].container.position.y<-190&&(this.shakeWashingTimeline.add(TweenMax.to(this.items[a].container.position,.5,{ease:Bounce.easeOut,y:"+=3"}),a/80),this.items[a].container.position.x<0?this.shakeWashingTimeline.add(TweenMax.to(this.items[a].container.position,.5,{ease:Bounce.easeOut,x:"+=2"}),a/80):this.shakeWashingTimeline.add(TweenMax.to(this.items[a].container.position,.5,{ease:Bounce.easeOut,x:"-=2"}),a/80))},a.prototype.shakeWashingUp=function(a){this.shakeWashingTimeline=this.scene.killTween(this.shakeWashingTimeline),this.shakeWashingTimeline=new TimelineMax;var b=0;a&&(b=a);for(var c=0;c<this.items.length;c++)this.items[c]!=this.mostRecentItem&&(this.shakeWashingTimeline.add(TweenMax.to(this.items[c].container.position,.5,{ease:Back.easeOut,y:"-=3"}),c/80+b),this.items[c].container.position.x<0?this.shakeWashingTimeline.add(TweenMax.to(this.items[c].container.position,.5,{ease:Bounce.easeOut,x:"-=2"}),c/80+b):this.shakeWashingTimeline.add(TweenMax.to(this.items[c].container.position,.5,{ease:Bounce.easeOut,x:"+=2"}),c/80+b))},a.prototype.inputHappening=function(a,b){a.currentMousePos.x=b.data.getLocalPosition(a.scene.mainContainer).x,a.currentMousePos.y=b.data.getLocalPosition(a.scene.mainContainer).y},a.prototype.inputEnd=function(a,b){if(a.active=!1,a.scene.stageHitSprite.removeAllListeners(),a.container.removeAllListeners(),a.scene.roomHolder.addChild(a.scene.coloursLaundryBin.container),a.scene.roomHolder.addChild(a.scene.whitesLaundryBin.container),a.addListeners(),null!=a.mostRecentItem){if(a.getDistance(b.data.getLocalPosition(a.scene.roomHolder).x,b.data.getLocalPosition(a.scene.roomHolder).y,a.scene.whitesLaundryBin.container.position.x,a.scene.whitesLaundryBin.container.position.y)<a.binProximityThreshold&&a.scene.whitesLaundryBin.hasSpace())a.mostRecentItem.stopDrag(a.mostRecentItem,a.scene.whitesLaundryBin,a.scene.whitesLaundryBin.container.position.x+Game.getRandom(-30,30),a.scene.whitesLaundryBin.container.position.y+100-10*a.scene.whitesLaundryBin.items.length+Game.getRandom(-40,10),.7);else if(a.getDistance(b.data.getLocalPosition(a.scene.roomHolder).x,b.data.getLocalPosition(a.scene.roomHolder).y,a.scene.coloursLaundryBin.container.position.x,a.scene.coloursLaundryBin.container.position.y)<a.binProximityThreshold&&a.scene.coloursLaundryBin.hasSpace())a.mostRecentItem.stopDrag(a.mostRecentItem,a.scene.coloursLaundryBin,a.scene.coloursLaundryBin.container.position.x+Game.getRandom(-30,30),a.scene.coloursLaundryBin.container.position.y+100-10*a.scene.coloursLaundryBin.items.length+Game.getRandom(-40,10),.7);else{var c=this.items.length;c>10&&(c=10),a.mostRecentItem.stopDrag(a.mostRecentItem,a,a.container.position.x+Game.getRandom(-80,80),Game.getRandom(-150,-200)-10*c+this.container.position.y,1),a.shakeWashingUp(.1)}a.mostRecentItem=null,a.mouseIsDown=!1}},a.prototype.tick=function(a){a.mostRecentItem&&a.mostRecentItem.tick(a.mostRecentItem,a.currentMousePos)},a.prototype.bounce=function(a,b){var c=0;b&&(c=b),TweenMax.to(a.container.scale,.05,{x:1.03,y:1.03,ease:Power1.easeOut,repeat:1,yoyo:!0,delay:c})},a.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.prototype.pause=function(){this.paused=!0},a.prototype.resume=function(){this.paused=!1},a.prototype.destroy=function(){this.shakeWashingTimeline=this.scene.killTween(this.shakeWashingTimeline),this.mostRecentItem=null;for(var a=0;a<this.items.length;a++)this.items[a].destroy();this.items=null,this.scene.stageHitSprite.removeAllListeners(),this.container.removeAllListeners()},a}(),LaundryBin=function(){function a(a,b){this.maxItems=8,this.smoothing=4,this.origShadowPos=new PIXI.Point,this.lastMousePos=new PIXI.Point,this.scene=a,this.container=Game.displayStore.getContainer("loud-laundry/basket-"+b),this.spriteHolder=this.container.getContainer("loud-laundry/basket-"+b+"-holder"),this.glow=this.spriteHolder.getSprite("loud-laundry/basket-glow.png"),this.front=this.spriteHolder.getSprite("loud-laundry/basket-"+b+"-front.png"),this.shadow=this.container.getSprite("loud-laundry/basket-shadow.png"),this.shadow.alpha=.3,this.shadow.position.x=this.origShadowPos.x=-5,this.shadow.position.y=this.origShadowPos.y=-5,this.origPos=new PIXI.Point,this.targetPos=new PIXI.Point,this.mouseDistance=new PIXI.Point,this.glow.blendMode=PIXI.BLEND_MODES.ADD,this.glow.scale=new PIXI.Point(.5,.5),this.glowing=!1,this.inputStarted=!1,this.type=b,this.state="empty","whites"==b&&(this.container.position.x=this.origPos.x=720),"colours"==b&&(this.container.position.x=this.origPos.x=470),this.container.position.y=this.origPos.y=510,this.progressBar=this.spriteHolder.getContainer("loud-laundry/basket-meter"),this.bar=this.progressBar.getSprite("loud-laundry/basket-meter-bar.png"),this.bar.scale.x=0,this.progressBar.setRegPoint(.5,.5,!0),this.items=new Array,this.addListeners()}return a.prototype.getMostRecentItem=function(a){return this.bounce(this),a.mostRecentItem=this.items[this.items.length-1],a.mostRecentItem},a.prototype.addListeners=function(){var a=this;a.container.interactive=!0,1==Game.onDesktop?a.container.on("mousedown",function(b){a.inputStart(a,b),a.scene.stageHitSprite.on("mousemove",function(b){a.inputHappening(a,b)}),a.scene.stageHitSprite.on("mouseup",function(b){a.inputEnd(a,b)}),a.scene.stageHitSprite.on("mouseout",function(a){})}):0==Game.onDesktop&&a.container.on("touchstart",function(b){a.inputStart(a,b),a.scene.stageHitSprite.on("touchmove",function(b){a.inputHappening(a,b)}),a.scene.stageHitSprite.on("touchend",function(b){a.inputEnd(a,b)}),a.scene.stageHitSprite.on("touchendoutside",function(a){})})},a.prototype.inputStart=function(a,b){"holding"==a.state?a.scene.startedMovingBin(a,a.scene,b):("emptying"!=a.state&&TweenMax.to(a.container,.08,{ease:Power1.easeOut,yoyo:!0,repeat:3,y:a.origPos.y-10}),a.scene.stageHitSprite.removeAllListeners(),a.container.removeAllListeners(),a.addListeners())},a.prototype.inputHappening=function(a,b){a.scene.movingBin(a.scene,b)},a.prototype.inputEnd=function(a,b){"holding"==a.state&&(a.scene.stageHitSprite.removeAllListeners(),a.container.removeAllListeners(),a.addListeners(),a.scene.stoppedMovingBin(a,a.scene))},a.prototype.updateProgressBar=function(){this.progress=this.items.length/this.maxItems,this.progressBarAnimation=this.scene.killTween(this.progressBarAnimation),this.progressBarAnimation=new TimelineMax,this.progressBarAnimation.add([TweenMax.to(this.bar.scale,.2,{x:this.progress,ease:Back.easeOut}),TweenMax.to(this.progressBar.scale,.1,{x:1.2,y:1.2,ease:Sine.easeOut})]),this.progressBarAnimation.add(TweenMax.to(this.progressBar.scale,.2,{x:1,y:1,ease:Quad.easeOut}))},a.prototype.startGlow=function(){this.glowing=!0,this.maxItems=9,TweenMax.to(this.glow.scale,.3,{x:1,y:1,ease:Back.easeOut})},a.prototype.stopGlow=function(){this.glowing=!1,this.maxItems=8,TweenMax.to(this.glow.scale,.3,{x:.5,y:.5,ease:Back.easeIn})},a.prototype.emptyBar=function(){TweenMax.to(this.bar.scale,.2,{x:0})},a.prototype.restoreBar=function(){TweenMax.to(this.bar.scale,.2,{x:this.progress,delay:.3}),this.bounce(this,.5)},a.prototype.hideBar=function(){this.hideBarAnimation=this.scene.killTween(this.hideBarAnimation),this.hideBarAnimation=new TimelineMax,this.hideBarAnimation.add([TweenMax.to(this.progressBar.scale,.2,{x:0,ease:Back.easeIn}),TweenMax.to(this.progressBar.position,.2,{y:-50,ease:Quad.easeIn})])},a.prototype.showBar=function(){this.hideBarAnimation=this.scene.killTween(this.hideBarAnimation),this.hideBarAnimation=new TimelineMax,this.hideBarAnimation.add([TweenMax.to(this.progressBar.scale,.5,{x:1,ease:Elastic.easeOut}),TweenMax.to(this.progressBar.position,.2,{y:-100,ease:Quad.easeOut})],.4)},a.prototype.clear=function(){this.mostRecentItem=null,this.emptyBinTimeline&&this.emptyBinTimeline.kill(),this.scene.updateScore(this.scene,this.items.length);for(var a=0;a<this.items.length;a++)this.items[a].destroy();this.items=[],this.progress=0,this.state="empty",this.stopGlow(),this.updateProgressBar(),"holding"==this.state&&(this.container.removeAllListeners(),this.scene.stageHitSprite.removeAllListeners(),this.addListeners())},a.prototype.hasSpace=function(){return this.items.length<this.maxItems&&"emptying"!=this.state},a.prototype.empty=function(a){if(this.emptyBinTimeline=this.scene.killTween(this.emptyBinTimeline),this.emptyBinTimeline=new TimelineMax({delay:.2}),this.stopGlow(),this.state="emptying",a){var b,c,d,e=[];b=a.container.position.x+a.washingHolder.position.x,c=a.container.position.y+a.washingHolder.position.y;for(var f=0;f<this.items.length;f++){e.push(new PIXI.Point(Game.getRandom(-40,40),Game.getRandom(0,5))),d=(b-(this.items[f].container.position.x+this.container.position.x))/2+(this.items[f].container.position.x+this.container.position.x),this.emptyBinTimeline.call(function(a){this.scene.roomHolder.addChild(a),a.position.x+=this.container.position.x,a.position.y+=this.container.position.y},[this.items[f].container],this,.1+f/12);a.container.parent.getChildIndex(a.container);this.emptyBinTimeline.add(TweenMax.to(this.items[f].container.position,.1,{y:"-=130"}),f/12),this.emptyBinTimeline.add([TweenMax.to(this.items[f].container.position,.5,{bezier:[{x:d-(d-(this.items[f].container.position.x+this.container.position.x))/2,y:50},{x:d,y:-100}]}),TweenMax.to(this.items[f].container,.5,{rotation:"+=4"})],.1+f/12),this.emptyBinTimeline.call(function(a){this.scene.roomHolder.addChild(a)},[this.items[f].container],this,.5+f/12),this.emptyBinTimeline.add([TweenMax.to(this.items[f].container.position,.5,{bezier:[{x:d+(b-d)/2,y:50},{x:b+e[f].x,y:c+e[f].y}],ease:Power1.easeIn}),TweenMax.to(this.items[f].container.scale,.5,{x:.7,y:.7,ease:Quad.easeOut}),TweenMax.to(this.items[f].container,.5,{rotation:"+=6",ease:Power1.easeIn})],.5+f/12),this.emptyBinTimeline.call(function(b,c){a.addWashingItem(a,b,e[c])},[this.items[f],f],this,1+f/12),this.emptyBinTimeline.add([TweenMax.to(this.items[f].container.position,.2,{y:"+=40",ease:Bounce.easeOut}),TweenMax.to(this.items[f].container,.2,{rotation:"+=1",ease:Power1.easeOut})],1.01+f/12)}}this.emptyBinTimeline.call(function(){this.items=[],this.progress=0,this.state="empty"},null,this)},a.prototype.putBack=function(a){"powerup"==a.type&&this.startGlow(),this.items.push(a),this.scene.mainLaundryBin.removeItem(a),this.spriteHolder.addChildAt(a.container,3),a.container.position.x-=this.container.position.x,a.container.position.y-=this.container.position.y,this.updateProgressBar(),this.state="holding"},a.prototype.bounce=function(a,b){var c=0;b&&(c=b),TweenMax.to(a.container.scale,.06,{x:1.05,y:1.05,ease:Power1.easeOut,repeat:1,yoyo:!0,delay:c})},a.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.prototype.pause=function(){this.scene.pauseResumeTween(this.stopDragTimeline,"pause"),this.scene.pauseResumeTween(this.progressBarAnimation,"pause"),this.scene.pauseResumeTween(this.hideBarAnimation,"pause"),this.scene.pauseResumeTween(this.emptyBinTimeline,"pause")},a.prototype.resume=function(){this.scene.pauseResumeTween(this.stopDragTimeline,"resume"),this.scene.pauseResumeTween(this.progressBarAnimation,"resume"),this.scene.pauseResumeTween(this.hideBarAnimation,"resume"),this.scene.pauseResumeTween(this.emptyBinTimeline,"resume")},a.prototype.destroy=function(){console.log("destroying bin"),this.emptyBinTimeline=this.scene.killTween(this.emptyBinTimeline),this.hideBarAnimation=this.scene.killTween(this.hideBarAnimation),this.progressBarAnimation=this.scene.killTween(this.progressBarAnimation),this.stopDragTimeline=this.scene.killTween(this.stopDragTimeline),this.container.removeAllListeners(),this.scene.stageHitSprite.removeAllListeners(),this.state="empty";for(var a=0;a<this.items.length;a++)this.items[a].destroy();this.items=[]},a}(),WashingMachine=function(){function a(a,b,c){this.washCycleTime=6,this.scene=a,this.index=c,this.destroyed=!1,this.container=b,this.state="empty",this.powerupMode=!1,this.container.x=400+260*c,this.container.y=210,this.container.interactive=!0,this.washingMachine=this.container.getContainer("loud-laundry/washing-machine"),this.washingHolder=this.washingMachine.getContainer("loud-laundry/washing-holder"),this.door=this.washingMachine.getSprite("loud-laundry/washing-machine-door.png"),this.timer=this.container.getContainer("loud-laundry/timer"),this.white=this.timer.getSprite("loud-laundry/timer-white"),this.greenLeft=this.timer.getSprite("loud-laundry/timer-green-left"),this.greenRight=this.timer.getSprite("loud-laundry/timer-green-right"),this.water=this.washingMachine.getMovieClip("water-frames"),this.water.animationSpeed=.2,this.water.alpha=0,this.white.visible=!1,this.white.scale.x=-1,this.greenRight.rotation=Math.PI,this.shine=this.washingMachine.getSprite("loud-laundry/machine-shine.png"),this.shine.blendMode=PIXI.BLEND_MODES.ADD,this.shine.scale=new PIXI.Point(0,0),this.door.scale.x=-.4,this.washingMachine.position.x=0,this.washingMachine.position.y=0,this.washingMachine.setRegPoint(.5,.8,!0),this.items=new Array,this.origWashingMachinePos=new PIXI.Point,this.origTimerPos=new PIXI.Point,this.origWashingMachinePos.x=this.washingMachine.position.x,this.origWashingMachinePos.y=this.washingMachine.position.y,this.origTimerPos.x=this.timer.position.x,this.origTimerPos.y=this.timer.position.y,this.timer.scale=new PIXI.Point(0,0),this.mixedWash=!1,this.mixedWashIcon=this.container.getContainer("loud-laundry/mixed-wash-icon"),this.exclamationMark=this.mixedWashIcon.getSprite("loud-laundry/exclamation-mark.png"),this.mixedWashText=this.mixedWashIcon.getSprite("loud-laundry/mixed-wash.png"),this.mixedWashIcon.scale=new PIXI.Point(0,0),this.exclamationMark.scale=new PIXI.Point(0,0),this.mixedWashText.scale=new PIXI.Point(0,0)}return a.prototype.pulse=function(){TweenMax.to(this.washingMachine.scale,.1,{x:1.1,y:1.1,ease:Power2.easeOut,delay:.1}),TweenMax.to(this.washingMachine.scale,.1,{x:1,y:1,ease:Power2.easeOut,delay:.2})},a.prototype.delayedAddWashing=function(a,b,c,d){a.closeDoorTimeline=a.scene.killTween(a.closeDoorTimeline),a.state="adding",a.closeDoorTimeline=new TimelineMax,a.closeDoorTimeline.call(a.addWashing,[a,b,c],a,d)},a.prototype.addWashing=function(a,b,c){if(1!=a.destroyed){a.mixedWash=!1,a.currentWashType=c,a.closeDoorTimeline=a.scene.killTween(a.closeDoorTimeline),a.washCycleTimeline=a.scene.killTween(a.washCycleTimeline),a.closeDoorTimeline=new TimelineMax,a.powerupMode=!1,a.washCycleTime=6;for(var d=b[0].type,e=0;e<b.length;e++){if("powerup"==b[e].type){a.powerupMode=!0,a.mixedWash=!1;break}b[e].type!=d&&(a.mixedWash=!0)}0==a.mixedWash&&b.length>5&&a.scene.didPerfectWash(),a.washCycleTimeline=new TimelineMax,a.water.alpha=.85,a.water.play(),a.water.scale.y=0,a.closeDoorTimeline.add(TweenMax.to(a.door.scale,.5,{x:1,ease:Bounce.easeOut})),a.closeDoorTimeline.add([TweenMax.to(a.water.scale,1,{y:1,ease:Power1.easeInOut})],0),a.closeDoorTimeline.call(Game.playSound,["latch-close",1],this,.2),a.state="full",a.items=b,a.white.visible=!1,a.greenRight.rotation=Math.PI,a.greenLeft.rotation=0,a.washingHolder.rotation=0,a.greenLeft.visible=!0,a.timer.scale=new PIXI.Point(0,0),a.greenRight.visible=!0,a.washCycleTimeline.add(TweenMax.to(a.greenRight,a.washCycleTime,{rotation:2*Math.PI,ease:Power0.easeOut})),a.washCycleTimeline.call(function(){a.white.visible=!0,a.greenRight.visible=!1},null,a),a.washCycleTimeline.add(TweenMax.to(a.greenLeft,a.washCycleTime,{rotation:Math.PI,ease:Power0.easeOut})),a.washCycleTimeline.add(TweenMax.to(a.timer.scale,.5,{x:1,y:1,ease:Elastic.easeOut}),0),a.vibrateMachineTimeline=a.scene.killTween(a.vibrateMachineTimeline),a.vibrateMachineTimeline=new TimelineMax,a.vibrateMachineTimeline.add(TweenMax.to(a.washingMachine,.05,{rotation:.06,ease:Power1.easeOut}),0),a.vibrateMachineTimeline.add(TweenMax.to(a.washingMachine,.1,{rotation:-.06,ease:Power1.easeInOut,repeat:-1,yoyo:!0}),.05),a.vibrateMachineTimeline.add(TweenMax.to(a.washingMachine.position,.1,{y:a.origWashingMachinePos.y-10,ease:Power1.easeOut,repeat:-1,yoyo:!0}),0),a.vibrateMachineTimeline.add(TweenMax.to(a.timer.position,.1,{y:a.origTimerPos.y-10,ease:Power1.easeOut,repeat:-1,yoyo:!0}),.02),a.vibrateMachineTimeline.add(TweenMax.to(a.water.scale,.5,{y:.9,ease:Power1.easeInOut,repeat:-1,yoyo:!0}),1),a.washCycleTimeline.add(a.vibrateMachineTimeline,.5),a.washCycleTimeline.add(TweenMax.to(a.washingHolder,2*a.washCycleTime,{rotation:Math.PI*(4*a.washCycleTime),ease:Power1.easeInOut}),0),
1==a.powerupMode&&(a.washCycleTimeline.add(TweenMax.to(a.shine,2*a.washCycleTime,{rotation:2*-Math.PI,ease:Power1.easeInOut}),0),a.washCycleTimeline.add(TweenMax.to(a.shine.scale,a.washCycleTime,{x:1.2,y:1.2,ease:Power1.easeOut,repeat:1,yoyo:!0}),0));for(var e=0;e<b.length;e++)a.washCycleTimeline.add(TweenMax.to(b[e].container.position,.2,{y:"-=30",ease:Power1.easeOut,repeat:9*a.washCycleTime,yoyo:!0}),1-e/4);1==a.powerupMode?(a.washCycleTimeline.timeScale(10),a.vibrateMachineTimeline.timeScale(5),Game.playSound("powerup",.8),Game.playSound("fast-wash",.9)):(Game.playSound("washing-machine-run",.4),Game.playSound("water-sploshing",.7)),a.washCycleTimeline.call(a.washingComplete,null,a,2*a.washCycleTime)}},a.prototype.addWashingItem=function(a,b,c){a.washingHolder.addChild(b.container),b.container.position.x=c.x,b.container.position.y=c.y,Game.playSound("step-"+Game.getRandom(1,2,!0))},a.prototype.clear=function(){if(this.sweepWashingTimeline=this.scene.killTween(this.sweepWashingTimeline),this.closeDoorTimeline=this.scene.killTween(this.closeDoorTimeline),this.washCycleTimeline=this.scene.killTween(this.washCycleTimeline),this.openDoorTimeline=this.scene.killTween(this.openDoorTimeline),this.vibrateMachineTimeline=this.scene.killTween(this.vibrateMachineTimeline),Game.stopSound("washing-machine"),Game.stopSound("washing-machine-run"),Game.stopSound("water-sploshing"),this.items&&"full"==this.state)this.autoCompleteWashing();else if("adding"==this.state){for(var a=0;a<this.washingHolder.children.length;a++){var b=this.washingHolder.getChildAt(a);this.scene.mainContainer.addChild(b),b.position=new PIXI.Point(-100,-100)}this.state="ready"}this.container.addChild(this.mixedWashIcon),this.mixedWashIcon.position.x=110,this.mixedWashIcon.position.y=-30,this.mixedWashText.scale=new PIXI.Point(0,0),this.mixedWashIcon.scale=new PIXI.Point(0,0),this.exclamationMark.scale=new PIXI.Point(0,0)},a.prototype.autoCompleteWashing=function(){this.washCycleTimeline=this.scene.killTween(this.washCycleTimeline),this.openDoorTimeline=this.scene.killTween(this.openDoorTimeline),this.vibrateMachineTimeline=this.scene.killTween(this.vibrateMachineTimeline),this.openDoorTimeline=new TimelineMax;var a=8;Game.stopSound("washing-machine"),Game.stopSound("washing-machine-run"),Game.stopSound("water-sploshing"),this.openDoorTimeline.add([TweenMax.to(this.timer.scale,.3,{x:0,y:0,ease:Back.easeIn}),TweenMax.to(this.door.scale,.5,{x:-.4,ease:Bounce.easeOut,delay:.4}),TweenMax.to(this.washingMachine.position,.3,{y:this.origWashingMachinePos.y,ease:Bounce.easeOut}),TweenMax.to(this.washingMachine,.3,{rotation:0,ease:Power1.easeOut}),TweenMax.to(this.timer.position,.5,{y:this.origTimerPos.y,ease:Elastic.easeOut})]),this.openDoorTimeline.call(Game.playSound,["latch-open"],this,.1),this.openDoorTimeline.add([TweenMax.to(this.water.scale,.5,{y:0,ease:Power1.easeInOut}),TweenMax.to(this.water,.5,{alpha:0,ease:Power1.easeInOut})],0);for(var b=0;b<this.items.length;b++)this.openDoorTimeline.call(function(a){0==this.items[a].special?this.scene.roomHolder.addChildAt(this.items[a].container,this.scene.roomHolder.children.length-3):this.scene.roomHolder.addChild(this.items[a].container),this.items[a].container.position.x=this.container.position.x+.5*this.container.width,this.items[a].container.position.y=this.container.position.y+.65*this.container.height},[b],this,.5+b/a),0==this.items[b].special?"powerup"!=this.items[b].type?(this.openDoorTimeline.add([TweenMax.to(this.items[b].container.position,1,{bezier:{type:"soft",values:[{x:this.container.position.x+80,y:150},{x:850,y:290},{x:890,y:70}]},ease:Power1.easeOut}),TweenMax.to(this.items[b].container.scale,.5,{x:1.2,y:1.2,ease:Power1.easeIn}),TweenMax.to(this.items[b].container,1,{rotation:Game.getRandom(-5,5),ease:Power1.easeOut})],.5+b/a),this.openDoorTimeline.add(TweenMax.to(this.items[b].container.scale,.5,{x:0,y:0,ease:Power1.easeOut}),1+b/a),this.openDoorTimeline.call(function(a){this.scene.updateScore(this.scene,1),this.items[a].destroy()},[b],this,1.1+b/a)):this.openDoorTimeline.call(function(a){this.items[a].destroy()},[b],this,0):(this.openDoorTimeline.add([TweenMax.to(this.items[b].container.position,1,{bezier:{type:"soft",values:[{x:this.container.position.x,y:180},{x:this.items[b].sister.container.position.x,y:250},{x:this.items[b].sister.container.position.x,y:70}]},ease:SlowMo.ease.config(.2,.7,!1)}),TweenMax.to(this.items[b].container.scale,.5,{x:1.2,y:1.2,ease:Power1.easeIn}),TweenMax.to(this.items[b].container,1,{rotation:Game.getRandom(-10,-5),ease:SlowMo.ease.config(.3,.7,!1)})],.5+b/a),this.openDoorTimeline.add(TweenMax.to(this.items[b].container.scale,.2,{x:2.5,y:2.5,ease:Power2.easeIn,repeat:1,yoyo:!0}),.9+b/a),this.openDoorTimeline.add(TweenMax.to(this.items[b].container.scale,.6,{x:0,y:0,ease:Power1.easeIn}),1.4+b/a),this.openDoorTimeline.call(function(a){this.items[a].sister.satisfy(),this.scene.updateScore(this.scene,3),this.items[a].destroy()},[b],this,1.5+b/a));this.openDoorTimeline.call(function(){this.state="ready",this.container.addChild(this.mixedWashIcon),this.mixedWashIcon.position.x=110,this.mixedWashIcon.position.y=-30},null,this),this.openDoorTimeline.timeScale(1.2)},a.prototype.washingComplete=function(){if(this.washCycleTimeline=this.scene.killTween(this.washCycleTimeline),this.vibrateMachineTimeline=this.scene.killTween(this.vibrateMachineTimeline),this.items&&1!=this.destroyed){var a=8;this.openDoorTimeline=this.scene.killTween(this.openDoorTimeline),this.openDoorTimeline=new TimelineMax,this.openDoorTimeline.add([TweenMax.to(this.timer.scale,.3,{x:0,y:0,ease:Back.easeIn}),TweenMax.to(this.door.scale,.5,{x:-.4,ease:Bounce.easeOut,delay:.4}),TweenMax.to(this.washingMachine.position,.3,{y:this.origWashingMachinePos.y,ease:Bounce.easeOut}),TweenMax.to(this.washingMachine,.3,{rotation:0,ease:Power1.easeOut}),TweenMax.to(this.timer.position,.5,{y:this.origTimerPos.y,ease:Elastic.easeOut})]),this.openDoorTimeline.call(Game.playSound,["latch-open"],this,.1),this.openDoorTimeline.add([TweenMax.to(this.water.scale,.5,{y:0,ease:Power1.easeInOut}),TweenMax.to(this.water,.5,{alpha:0,ease:Power1.easeInOut})],0);for(var b=0;b<this.items.length;b++)if(0==this.mixedWash)this.openDoorTimeline.call(function(a){0==this.items[a].special?this.scene.roomHolder.addChildAt(this.items[a].container,this.scene.roomHolder.children.length-3):this.scene.roomHolder.addChild(this.items[a].container),this.items[a].container.position.x=this.container.position.x+.5*this.container.width,this.items[a].container.position.y=this.container.position.y+.65*this.container.height},[b],this,.5+b/a),0==this.items[b].special?("powerup"!=this.items[b].type?(this.openDoorTimeline.add([TweenMax.to(this.items[b].container.position,1,{bezier:{type:"soft",values:[{x:this.container.position.x+80,y:150},{x:850,y:290},{x:890,y:70}]},ease:Power1.easeOut}),TweenMax.to(this.items[b].container.scale,.5,{x:1.2,y:1.2,ease:Power1.easeIn}),TweenMax.to(this.items[b].container,1,{rotation:Game.getRandom(-5,5),ease:Power1.easeOut})],.5+b/a),this.openDoorTimeline.add(TweenMax.to(this.items[b].container.scale,.5,{x:0,y:0,ease:Power1.easeOut}),1+b/a),this.openDoorTimeline.call(function(a){this.scene.updateScore(this.scene,1),this.items[a].destroy()},[b],this,1.1+b/a)):this.openDoorTimeline.call(function(a){this.items[a].destroy()},[b],this,0),this.openDoorTimeline.call(function(a){Game.playSound("swipe-"+Game.getRandom(1,2,!0),.7)},[b],this,.3+b/a)):(this.openDoorTimeline.add([TweenMax.to(this.items[b].container.position,1,{bezier:{type:"soft",values:[{x:this.container.position.x,y:180},{x:this.items[b].sister.container.position.x,y:250},{x:this.items[b].sister.container.position.x,y:70}]},ease:SlowMo.ease.config(.2,.7,!1)}),TweenMax.to(this.items[b].container.scale,.5,{x:1.2,y:1.2,ease:Power1.easeIn}),TweenMax.to(this.items[b].container,1,{rotation:Game.getRandom(-10,-5),ease:SlowMo.ease.config(.3,.7,!1)})],.5+b/a),this.openDoorTimeline.add(TweenMax.to(this.items[b].container.scale,.2,{x:2.5,y:2.5,ease:Power2.easeIn,repeat:1,yoyo:!0}),.9+b/a),this.openDoorTimeline.add(TweenMax.to(this.items[b].container.scale,.6,{x:0,y:0,ease:Power1.easeIn}),1.4+b/a),this.openDoorTimeline.call(function(a){this.items[a].sister.satisfy(),this.scene.updateScore(this.scene,3),this.items[a].destroy()},[b],this,1.5+b/a));else if(0==this.items[b].special){this.openDoorTimeline.add([TweenMax.to(this.items[b].container.position,.3,{y:Game.getRandom(0,10),ease:Sine.easeOut}),TweenMax.to(this.items[b].container,.3,{rotation:1,ease:Sine.easeIn})],.5+b/(2*a)),this.openDoorTimeline.call(function(a){this.items[a]&&(this.items[a].container.position.x=this.container.position.x+.35*this.container.width,this.items[a].container.position.y=this.container.position.y+.55*this.container.height,this.scene.roomHolder.addChildAt(this.items[a].container,this.scene.roomHolder.children.length-5))},[b],this,.8+b/(2*a)),this.openDoorTimeline.add([TweenMax.to(this.items[b].container.position,1,{y:Game.getRandom(500,520),ease:Bounce.easeOut}),TweenMax.to(this.items[b].container.scale,1,{x:.9,y:Game.getRandom(.6,.7),ease:Bounce.easeOut}),TweenMax.to(this.items[b].container,.3,{rotation:3,ease:Sine.easeOut})],.8+b/(2*a))}else this.openDoorTimeline.call(function(a){this.items[a]&&(this.scene.roomHolder.addChild(this.items[a].container),this.items[a].container.position.x=this.container.position.x+.5*this.container.width,this.items[a].container.position.y=this.container.position.y+.65*this.container.height)},[b],this,.5+b/a),this.openDoorTimeline.add([TweenMax.to(this.items[b].container.position,1,{bezier:{type:"soft",values:[{x:this.container.position.x,y:180},{x:this.items[b].sister.container.position.x,y:250},{x:this.items[b].sister.container.position.x,y:70}]},ease:SlowMo.ease.config(.2,.7,!1)}),TweenMax.to(this.items[b].container.scale,.5,{x:1.2,y:1.2,ease:Power1.easeIn}),TweenMax.to(this.items[b].container,1,{rotation:Game.getRandom(-10,-5),ease:SlowMo.ease.config(.3,.7,!1)})],.5+b/a),this.openDoorTimeline.add(TweenMax.to(this.items[b].container.scale,.2,{x:2.5,y:2.5,ease:Power2.easeIn,repeat:1,yoyo:!0}),.9+b/a),this.openDoorTimeline.add(TweenMax.to(this.items[b].container.scale,.6,{x:0,y:0,ease:Power1.easeIn}),1.4+b/a),this.openDoorTimeline.call(function(a){this.items[a].sister.satisfy(),this.scene.updateScore(this.scene,-3),this.items[a].destroy()},[b],this,1.5+b/a);1==this.mixedWash&&(this.openDoorTimeline.call(function(){this.scene.tryToSweepLinc(this.scene,this)},null,this),this.openDoorTimeline.call(Game.playSound,["soft-thump"],this,1),this.openDoorTimeline.call(Game.playSound,["soft-thump"],this,1.1),this.openDoorTimeline.call(Game.playSound,["splat-3"],this,1.1),this.openDoorTimeline.call(function(){this.scene.roomHolder.addChild(this.mixedWashIcon),this.mixedWashIcon.position.x=this.container.position.x+this.container.width/2.2,this.mixedWashIcon.position.y=this.container.position.y+this.container.height/3},null,this,1.3),this.openDoorTimeline.add([TweenMax.to(this.mixedWashIcon.scale,1,{x:1,y:1,ease:Elastic.easeOut}),TweenMax.to(this.mixedWashIcon.position,1,{y:200,ease:Power3.easeOut})],1.3),this.openDoorTimeline.add(TweenMax.to(this.exclamationMark.scale,1,{x:1,y:1,ease:Elastic.easeOut}),1.35),this.openDoorTimeline.add(TweenMax.to(this.mixedWashText.scale,1,{x:1,y:1,ease:Elastic.easeOut}),1.4),this.openDoorTimeline.add([TweenMax.to(this.mixedWashIcon.scale,.5,{x:0,y:0,ease:Back.easeIn}),TweenMax.to(this.mixedWashIcon.position,1,{y:0,ease:Quad.easeIn})],2.5),this.openDoorTimeline.add(TweenMax.to(this.exclamationMark.scale,.5,{x:0,y:0,ease:Back.easeIn}),2.55),this.openDoorTimeline.add(TweenMax.to(this.mixedWashText.scale,.5,{x:0,y:0,ease:Back.easeIn}),2.6),this.openDoorTimeline.call(Game.playSound,["slide-up"],this,1.5)),this.openDoorTimeline.call(function(){this.container.addChild(this.mixedWashIcon),this.mixedWashIcon.position.x=110,this.mixedWashIcon.position.y=-30,0==this.mixedWash&&(this.state="ready")},null,this)}},a.prototype.sweepWashingAway=function(){this.sweepWashingTimeline=this.scene.killTween(this.sweepWashingTimeline),this.sweepWashingTimeline=new TimelineMax;for(var a=0;a<this.items.length;a++)this.sweepWashingTimeline.add(TweenMax.to(this.items[a].container.position,.9,{ease:Linear.easeNone,x:"-=900"}),0);this.sweepWashingTimeline.call(function(){for(var a=0;a<this.items.length;a++)this.items[a].destroy();this.state="ready"},null,this)},a.prototype.bounce=function(a,b){var c=0;b&&(c=b),TweenMax.to(a.container.scale,.25,{x:1.1,y:1.1,ease:Power1.easeOut,repeat:1,yoyo:!0,delay:c})},a.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.prototype.pause=function(){this.scene.pauseResumeTween(this.openDoorTimeline,"pause"),this.scene.pauseResumeTween(this.closeDoorTimeline,"pause"),this.scene.pauseResumeTween(this.washCycleTimeline,"pause"),this.scene.pauseResumeTween(this.sweepWashingTimeline,"pause"),this.scene.pauseResumeTween(this.vibrateMachineTimeline,"pause"),Game.pauseSound("washing-machine"),Game.pauseSound("washing-machine-run"),Game.pauseSound("water-sploshing")},a.prototype.resume=function(){this.scene.pauseResumeTween(this.openDoorTimeline,"resume"),this.scene.pauseResumeTween(this.closeDoorTimeline,"resume"),this.scene.pauseResumeTween(this.washCycleTimeline,"resume"),this.scene.pauseResumeTween(this.sweepWashingTimeline,"resume"),this.scene.pauseResumeTween(this.vibrateMachineTimeline,"resume"),Game.resumeSound("washing-machine"),Game.resumeSound("washing-machine-run"),Game.resumeSound("water-sploshing")},a.prototype.destroy=function(){this.destroyed=!0,this.openDoorTimeline=this.scene.killTween(this.openDoorTimeline),this.closeDoorTimeline=this.scene.killTween(this.closeDoorTimeline),this.washCycleTimeline=this.scene.killTween(this.washCycleTimeline),this.vibrateMachineTimeline=this.scene.killTween(this.vibrateMachineTimeline),this.sweepWashingTimeline=this.scene.killTween(this.sweepWashingTimeline),Game.stopSound("washing-machine-run"),Game.stopSound("water-sploshing");for(var a=0;a<this.items.length;a++)this.washingHolder.removeChild(this.items[a].container),this.items[a].destroy();this.items=null,this.door.scale.x=0,this.origWashingMachinePos.x=0,this.origWashingMachinePos.y=0,this.origTimerPos.x=0,this.origTimerPos.y=0},a}(),Stairs=function(){function a(a){this.clicked=!1,this.scene=a,this.container=Game.displayStore.getContainer("loud-laundry/stairs"),this.sistersHolder=this.container.getContainer("loud-laundry/stairs-sisters"),this.front=this.container.getSprite("loud-laundry/stairs.png"),this.container.x=108,this.container.y=-60,this.container.interactive=!0,this.allSisters=new Array;for(var b=0;b<this.sistersHolder.children.length;b++){var c=this.sistersHolder.getSpriteAt(b);this.allSisters.push({sprite:c,posX:c.position.x}),c.position.x=100}this.addSisters()}return a.prototype.addSisters=function(){this.sisters=new Array;for(var a=0;a<this.allSisters.length;a++)this.sisters.push({sprite:this.allSisters[a].sprite,posX:this.allSisters[a].posX}),this.allSisters[a].sprite.position.x=100},a.prototype.getRandomSister=function(){0==this.sisters.length&&this.addSisters();var a,b=Game.getRandom(0,this.sisters.length-1,!0);return a=this.sisters[b],this.sisters.splice(b,1),a},a.prototype.spawn=function(a,b){this.spawnTimeline=this.scene.killTween(this.spawnTimeline),this.items=[],this.spawnTimeline=new TimelineMax;var c=this.getRandomSister();"loud-laundry/stairs-lisa.png"==c.sprite.id&&this.spawnTimeline.call(Game.playSound,["lisa-lets-play"],this,0),"loud-laundry/stairs-lynn.png"==c.sprite.id&&this.spawnTimeline.call(Game.playSound,["lynn-good-timing"],this,0),"loud-laundry/stairs-luna.png"==c.sprite.id&&this.spawnTimeline.call(Game.playSound,["sister-good-luck"],this,0),this.spawnTimeline.add(TweenMax.to(c.sprite.position,.5,{x:c.posX,ease:Back.easeOut})),this.spawnTimeline.add(TweenMax.to(c.sprite.position,.5,{x:100,ease:Back.easeIn}),"+=1.8");for(var d=0;d<a.length;d++){var e=new LaundryItem({sprite:a[d].url,special:a[d].special,type:a[d].type,sister:b},d,this.scene);this.container.addChildAt(e.container,1),this.items.push(e),this.spawnTimeline.call(function(a,b){b.dropFromStairs()},[d,e],this,d/4)}this.container.addChild(this.sistersHolder),this.container.addChild(this.front)},a.prototype.clear=function(){this.spawnTimeline&&(this.spawnTimeline.totalProgress(0),this.spawnTimeline=this.scene.killTween(this.spawnTimeline));for(var a=0;a<this.items.length;a++)this.items[a].destroy();this.items=[]},a.prototype.tick=function(){},a.prototype.pause=function(){this.scene.pauseResumeTween(this.spawnTimeline,"pause");for(var a=0;a<this.items.length;a++)this.items[a].pause()},a.prototype.resume=function(){this.scene.pauseResumeTween(this.spawnTimeline,"resume");for(var a=0;a<this.items.length;a++)this.items[a].resume()},a.prototype.destroy=function(){this.spawnTimeline=this.scene.killTween(this.spawnTimeline);for(var a=0;a<this.items.length;a++)this.items[a].destroy();for(var a=0;a<this.allSisters.length;a++)this.allSisters[a].sprite.position.x=this.allSisters[a].posX;this.items=null,this.sisters=null,this.allSisters=null},a}(),LaundryItem=function(){function a(a,b,c){this.mouseIsDown=!1,this.lastMousePos=new PIXI.Point(0,0),this.mouseXDistance=0,this.mouseYDistance=0,this.smoothing=4,this.startingScale=.7,this.distanceThreshold=120,this.draggable=!1,this.clicked=!1,this.scene=c,this.index=b,this.mainBin=c.mainLaundryBin,this.mouseXDistance=0,this.mouseYDistance=0,this.special=a.special,this.type=a.type,this.sister=a.sister,this.id=a.sprite,this.container=Game.displayStore.getContainer("loud-laundry/clothing-holder"),this.destroyed=!1,this.spriteHolder=Game.displayStore.getContainer("loud-laundry/clothing-inner-holder"),this.container.addChild(this.spriteHolder),this.shadow=Game.displayStore.getSprite(a.sprite),this.shadow.tint=0,this.shadow.alpha=.5,this.shadow.position.x=-5,this.shadow.position.y=-5,this.shadow.setRegPoint(.5,.5,!0),this.origShadowPos=new PIXI.Point,this.origShadowPos.x=this.shadow.position.x,this.origShadowPos.y=this.shadow.position.y,this.container.addChild(this.shadow),this.sprite=Game.displayStore.getSprite(a.sprite),this.spriteHolder.addChild(this.sprite),this.spriteHolder.setRegPoint(.5,.5,!0),this.container.interactive=!1,this.container.interactiveChildren=!1,this.container.position.x=85,this.container.position.y=70,this.container.interactive=!0,this.container.setRegPoint(Game.getRandom(.4,.6),Game.getRandom(.4,.6),!0),this.container.addChild(this.spriteHolder),this.container.scale=new PIXI.Point(.2,.2)}return a.prototype.dropFromStairs=function(){if(1!=this.destroyed){var a=Game.getRandom(3,15);this.startRotation=a,this.dropTimeline=this.scene.killTween(this.dropTimeline),this.dropTimeline=new TimelineMax,this.dropTweenX=TweenMax.to(this.container.position,.8,{x:-50,ease:Power1.easeOut}),this.dropTweenY=TweenMax.to(this.container.position,.8,{y:580,ease:Power1.easeIn}),Game.playSound("throw-"+Game.getRandom(1,2,!0),.8),this.dropTimeline.add([TweenMax.to(this.container.scale,.6,{x:1,y:1,ease:Power1.easeIn}),TweenMax.to(this.spriteHolder,.8,{rotation:a,ease:Power1.easeOut}),TweenMax.to(this.shadow,.8,{rotation:a,ease:Power1.easeOut})],0),this.dropTimeline.call(function(){0==this.destroyed&&this.mainBin.addItemFromStairs(this)},null,this,.5),this.dropTimeline.call(function(){Game.playSound("step-"+Game.getRandom(1,2,!0))},null,this,.7)}},a.prototype.startDrag=function(a,b,c){a.stopDragTimeline=a.scene.killTween(a.stopDragTimeline),a.startDragTimeline=a.scene.killTween(a.startDragTimeline),a.startDragTimeline=new TimelineMax,a.container.position.x=b,a.container.position.y=c,a.startDragTimeline.add([TweenMax.to(a.container.scale,.5,{x:1.2,y:1.2,ease:Quart.easeOut}),TweenMax.to(a.shadow.position,.5,{x:a.origShadowPos.x-25,y:a.origShadowPos.y-25,ease:Quart.easeOut}),TweenMax.to(a.shadow.scale,.5,{x:1.2,y:1.2,ease:Quart.easeOut}),TweenMax.to(a.shadow,.5,{alpha:.1,ease:Quart.easeOut})]),a.draggable=!0},a.prototype.tick=function(a,b){var c=b.x,d=b.y,e=a.mouseXDistance/25+a.startRotation-a.spriteHolder.rotation;e>1.6&&(e=1.6),e<-1.6&&(e=-1.6),a.spriteHolder.rotation+=(e-a.container.rotation)/a.smoothing,a.shadow.rotation+=(e-a.container.rotation)/a.smoothing,a.container.position.x+=(c-a.container.position.x)/a.smoothing,a.container.position.y+=(d-a.container.position.y)/a.smoothing,a.mouseXDistance=c-a.lastMousePos.x,a.mouseYDistance=d-a.lastMousePos.y,a.shadow.position.x+=a.mouseXDistance/15,a.shadow.position.y+=a.mouseYDistance/15,a.lastMousePos.x=c,a.lastMousePos.y=d},a.prototype.stopDrag=function(a,b,c,d,e){var f=a.container.position.x-c,g=Game.getRandom(0,6);a.startDragTimeline=a.scene.killTween(a.startDragTimeline),a.stopDragTimeline=a.scene.killTween(a.stopDragTimeline),b.putBack(a),b.bounce(b),c-=b.container.position.x,d-=b.container.position.y,a.stopDragTimeline=new TimelineMax,a.stopDragTimeline.add([TweenMax.to(a.container.position,.5,{bezier:[{x:c+f/10,y:d-120},{x:c,y:d}],ease:Back.easeOut}),TweenMax.to(a.spriteHolder,.5,{rotation:a.startRotation+g,ease:Sine.easeOut}),TweenMax.to(a.container.scale,.5,{x:e,y:e,ease:Quart.easeOut}),TweenMax.to(a.shadow.position,.5,{x:a.origShadowPos.x,y:a.origShadowPos.y,ease:Quart.easeOut}),TweenMax.to(a.shadow.scale,.5,{x:1,y:1,ease:Quart.easeOut}),TweenMax.to(a.shadow,.5,{alpha:.4,ease:Quart.easeOut}),TweenMax.to(a.shadow,.5,{rotation:a.startRotation+g,ease:Sine.easeOut})]),Game.playSound("swish",.8),a.stopDragTimeline.call(function(){a.startRotation=a.spriteHolder.rotation},null,a),a.stopDragTimeline.call(Game.playSound,["step-"+Game.getRandom(1,2,!0)],a,.26),a.stopDragTimeline.timeScale(1.6),a.draggable=!1},a.prototype.lineDistance=function(a,b){var c=0,d=0;return c=b.x-a.x,c*=c,d=b.y-a.y,d*=d,Math.sqrt(c+d)},a.prototype.pause=function(){this.scene.pauseResumeTween(this.dropTimeline,"pause"),this.scene.pauseResumeTween(this.dropTweenX,"pause"),this.scene.pauseResumeTween(this.dropTweenY,"pause")},a.prototype.resume=function(){this.scene.pauseResumeTween(this.dropTimeline,"resume"),this.scene.pauseResumeTween(this.dropTweenX,"resume"),this.scene.pauseResumeTween(this.dropTweenY,"resume")},a.prototype.destroy=function(){this.destroyed=!0,this.container.parent&&this.container.parent.removeChild(this.container),this.container.removeChild(this.spriteHolder),this.spriteHolder.removeChild(this.sprite),this.container.removeChild(this.shadow),this.startDragTimeline=this.scene.killTween(this.startDragTimeline),this.stopDragTimeline=this.scene.killTween(this.stopDragTimeline),this.dropTimeline=this.scene.killTween(this.dropTimeline),this.dropTweenX=this.scene.killTween(this.dropTweenX),this.dropTweenY=this.scene.killTween(this.dropTweenY),Game.displayStore.returnPooledItem(this.container),Game.displayStore.returnPooledItem(this.spriteHolder),Game.displayStore.returnPooledItem(this.shadow),Game.displayStore.returnPooledItem(this.sprite),this.container.position.x=85,this.container.position.y=70},a}(),WashingIcon=function(){function a(a){this.smoothing=4,this.origShadowPos=new PIXI.Point,this.lastPosition=new PIXI.Point,this.startPosition=new PIXI.Point,this.scene=a,this.active=!1,this.container=Game.displayStore.getContainer("loud-laundry/washing-icon-holder"),this.icon=this.container.getContainer("loud-laundry/washing-icon-holder"),this.shadowWhites=this.icon.getSprite("loud-laundry/washing-icon-whites-shadow"),this.shadowColours=this.icon.getSprite("loud-laundry/washing-icon-colours-shadow"),this.shadowWhites.tint=0,this.shadowWhites.alpha=0,this.shadowWhites.position.x=-5,this.shadowWhites.position.y=-5,this.shadowColours.tint=0,this.shadowColours.alpha=0,this.shadowColours.position.x=-5,this.shadowColours.position.y=-5,this.icon.position.x=this.icon.position.y=0,this.progressBar=this.container.getContainer("loud-laundry/washing-icon-meter"),this.bar=this.progressBar.getSprite("loud-laundry/washing-icon-meter-bar.png"),this.progressBar.position.x=2,this.progressBar.position.y=-32,this.progressBar.setRegPoint(.5,.5,!0),this.icon.setRegPoint(.5,.2,!0),this.shadowWhites.setRegPoint(.5,.2,!0),this.shadowColours.setRegPoint(.5,.2,!0),this.origShadowPos.x=this.shadowWhites.position.x,this.origShadowPos.y=this.shadowWhites.position.y,this.origPos=new PIXI.Point,this.targetPos=new PIXI.Point,this.mouseDistance=new PIXI.Point,this.container.setRegPoint(.5,.2,!0),this.container.scale=new PIXI.Point(0,0)}return a.prototype.start=function(a,b,c,d,e){a.container.position.x=a.startPosition.x=a.lastPosition.x=b.x,a.container.position.y=a.startPosition.y=a.lastPosition.y=b.y-50,a.items=c,a.active=!0,a.type=d,a.bar.scale.x=0,a.shadowWhites.alpha=0,a.shadowColours.alpha=0,a.startTimeline=a.scene.killTween(a.startTimeline),a.startTimeline=new TimelineMax,"whites"==d?(a.icon.getSprite("loud-laundry/washing-icon-whites").alpha=1,a.icon.getSprite("loud-laundry/washing-icon-colours").alpha=0,a.startTimeline.add([TweenMax.to(a.container.scale,1,{x:1,y:1,ease:Elastic.easeOut}),TweenMax.to(a.shadowWhites,1,{alpha:.2,ease:Elastic.easeOut})])):(a.icon.getSprite("loud-laundry/washing-icon-whites").alpha=0,a.icon.getSprite("loud-laundry/washing-icon-colours").alpha=1,a.startTimeline.add([TweenMax.to(a.container.scale,1,{x:1,y:1,ease:Elastic.easeOut}),TweenMax.to(a.shadowColours,1,{alpha:.2,ease:Elastic.easeOut})])),a.startTimeline.add(TweenMax.to(a.bar.scale,.3,{x:e}),.2),a.startTimeline.timeScale(2)},a.prototype.stop=function(a,b){a.active=!1,a.stopTimeline=a.scene.killTween(a.stopTimeline),a.startTimeline=a.scene.killTween(a.startTimeline),a.stopTimeline=new TimelineMax,1==b?(a.stopTimeline.add([TweenMax.to(a.container.scale,2,{x:0,y:0,ease:Power2.easeInOut}),TweenMax.to(a.container.position,2,{x:a.startPosition.x,y:a.startPosition.y,ease:Power2.easeInOut}),TweenMax.to(a.shadowWhites.position,1,{x:a.origShadowPos.x,y:a.origShadowPos.y,ease:Power2.easeOut}),TweenMax.to(a.shadowColours.position,1,{x:a.origShadowPos.x,y:a.origShadowPos.y,ease:Power2.easeOut})],0),a.items=[]):a.stopTimeline.add([TweenMax.to(a.container.scale,1,{x:0,y:0,ease:Power2.easeOut}),TweenMax.to(a.shadowWhites,1,{alpha:.5,ease:Elastic.easeOut}),TweenMax.to(a.shadowColours,1,{alpha:.5,ease:Elastic.easeOut}),TweenMax.to(a.shadowWhites.position,1,{x:a.origShadowPos.x,y:a.origShadowPos.y,ease:Power2.easeOut}),TweenMax.to(a.shadowColours.position,1,{x:a.origShadowPos.x,y:a.origShadowPos.y,ease:Power2.easeOut})]),a.stopTimeline.timeScale(5)},a.prototype.tick=function(a,b){var c=a.mouseDistance.x/40-a.container.rotation;c>1.6&&(c=1.6),c<-1.6&&(c=-1.6),a.icon.rotation+=(c-a.icon.rotation)/a.smoothing,a.shadowWhites.rotation+=(c-a.shadowWhites.rotation)/a.smoothing,a.shadowColours.rotation+=(c-a.shadowColours.rotation)/a.smoothing,a.container.position.x+=(b.x-a.container.position.x)/a.smoothing,a.container.position.y+=(b.y-a.container.position.y)/a.smoothing,a.mouseDistance.x=b.x-a.lastPosition.x,a.mouseDistance.y=b.y-a.lastPosition.y,a.shadowWhites.position.x+=a.mouseDistance.x/10,a.shadowWhites.position.y+=a.mouseDistance.y/10,a.shadowColours.position.x+=a.mouseDistance.x/10,a.shadowColours.position.y+=a.mouseDistance.y/10,a.lastPosition.x=b.x,a.lastPosition.y=b.y},a.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.prototype.destroy=function(){this.stopTimeline=this.scene.killTween(this.stopTimeline),this.startTimeline=this.scene.killTween(this.startTimeline)},a}(),SisterIcon=function(){function a(a,b){this.scene=b,this.id=a.sister,this.active=!1,this.destroyed=!1,this.time=35-2*this.scene.gameplayManager.difficulty,this.container=Game.displayStore.getContainer("loud-laundry/"+a.sister),this.iconHolder=this.container.getContainer("loud-laundry/icon-holder"),this.items=a.items,this.icon=this.iconHolder.getSprite("loud-laundry/sister-"+a.sister+".png"),this.speechBubbleHolder=Game.displayStore.getContainer("loud-laundry/speech-bubble-holder"),this.speechBubble=Game.displayStore.getSprite("loud-laundry/speech-bubble.png"),this.speechBubbleHolder.addChild(this.speechBubble),this.speechBubbleHolder.position.x=5,this.speechBubbleHolder.position.y=35,this.speechBubbleHolder.scale=new PIXI.Point(0,0),this.specialItemIcon=this.container.getSprite("loud-laundry/sister-"+this.id+"-special-item-icon.png"),this.speechBubbleHolder.addChild(this.specialItemIcon),this.specialItemIcon.position.x=55,this.specialItemIcon.position.y=15,this.specialItemIcon.scale=new PIXI.Point(0,0),this.timerGreenLeft=this.iconHolder.getSprite("loud-laundry/sister-timer-green-left"),this.timerGreenRight=this.iconHolder.getSprite("loud-laundry/sister-timer-green-right"),this.timerWhiteRight=this.iconHolder.getSprite("loud-laundry/sister-timer-white-left"),this.timerGreenLeft.tint=3718965,this.timerGreenRight.tint=3718965,this.timerWhite=this.iconHolder.getSprite("loud-laundry/sister-timer-white.png"),this.timerWhite.setRegPoint(.5,.5),this.timerGreenLeft.rotation=0,this.timerWhiteRight.rotation=Math.PI,this.timerGreenLeft.alpha=1,this.timerGreenRight.alpha=1,this.timerGreenRight.rotation=Math.PI,this.container.x=220,this.container.y=80,this.container.interactive=!0,this.container.scale=new PIXI.Point(0,0),this.container.alpha=0,this.container.addChild(this.speechBubbleHolder),this.shuffleArray(this.items)}return a.prototype.demandWashing=function(){if(1!=this.destroyed){this.timerGreenLeft.rotation=0,this.timerGreenRight.rotation=Math.PI,this.timerWhiteRight.rotation=Math.PI,this.timerWhiteRight.alpha=0,this.timerGreenLeft.alpha=1,this.timerGreenRight.alpha=1,this.timerGreenLeft.tint=3718965,this.active=!0,this.scene.sisterManager.addSister(this),this.iconHolder.scale=new PIXI.Point(1,1),this.spawnTimeline=this.scene.killTween(this.spawnTimeline),this.spawnTimeline=new TimelineMax,this.spawnTimeline.add([TweenMax.to(this.container.scale,1,{x:1,y:1,ease:Elastic.easeOut}),TweenMax.to(this.container,1,{alpha:1,ease:Power2.easeOut})],2),this.spawnTimeline.add(TweenMax.to(this.speechBubbleHolder.scale,1,{x:1,y:1,ease:Elastic.easeOut}),2.5),this.spawnTimeline.add(TweenMax.to(this.specialItemIcon.scale,1,{x:1,y:1,ease:Elastic.easeOut}),2.6);var a=new TimelineMax;a.add(TweenMax.to(this.iconHolder,.2,{rotation:.1,ease:Power1.easeOut})),a.add(TweenMax.to(this.iconHolder,.4,{rotation:-.1,ease:Power1.easeInOut,repeat:-1,yoyo:!0}));var b=new TimelineMax;b.add(TweenMax.to(this.specialItemIcon,.2,{rotation:.1,ease:Power1.easeOut})),b.add(TweenMax.to(this.specialItemIcon,.4,{rotation:-.1,ease:Power1.easeInOut,repeat:-1,yoyo:!0})),this.spawnTimeline.add(a,0),this.spawnTimeline.add(b,.2),this.spawnTimeline.add(TweenMax.to(this.iconHolder.position,.4,{y:-8,ease:Power1.easeOut,repeat:-1,yoyo:!0}),.3),this.spawnTimeline.add(TweenMax.to(this.speechBubbleHolder.position,.4,{y:28,ease:Power1.easeOut,repeat:-1,yoyo:!0}),.35),this.spawnTimeline.call(this.scene.addLaundry,[this.items,this],this.scene,0),this.spawnTimeline.call(this.startTimer,null,this,3),"lucy"==this.id&&this.spawnTimeline.call(Game.playSound,["lucy-happy"],this,2),"lori"==this.id&&this.spawnTimeline.call(Game.playSound,["lori-uh-oh"],this,2),"lola"==this.id&&this.spawnTimeline.call(Game.playSound,["lola-argh"],this,2),"luan"==this.id&&this.spawnTimeline.call(Game.playSound,["luan-trash-joke"],this,2),"leni"==this.id&&this.spawnTimeline.call(Game.playSound,["sister-lincoln"],this,2),"lana"==this.id&&this.spawnTimeline.call(Game.playSound,["sister-blergh"],this,2)}},a.prototype.satisfy=function(){0!=this.active&&(this.spawnTimeline=this.scene.killTween(this.spawnTimeline),this.timerTimeline=this.scene.killTween(this.timerTimeline),this.spawnTimeline=new TimelineMax,this.spawnTimeline.add([TweenMax.to(this.container.scale,1,{x:0,y:0,ease:Back.easeIn}),TweenMax.to(this.container,1,{alpha:0,ease:Power2.easeIn})],.4),this.spawnTimeline.add(TweenMax.to(this.speechBubbleHolder.scale,1,{x:0,y:0,ease:Back.easeIn}),.1),this.spawnTimeline.add(TweenMax.to(this.specialItemIcon.scale,1,{x:0,y:0,ease:Back.easeIn}),0),this.spawnTimeline.call(function(a){
a.scene.sisterManager.removeSister(a),a.active=!1,this.spawnTimeline=this.scene.killTween(this.spawnTimeline),this.timerTimeline=this.scene.killTween(this.timerTimeline)},[this],this.scene.sisterManager),this.spawnTimeline.timeScale(2.5))},a.prototype.startTimer=function(){this.timerTimeline=this.scene.killTween(this.timerTimeline),this.timerTimeline=new TimelineMax({onComplete:this.completedTimer,onCompleteParams:[this]}),this.timerTimeline.add(TweenMax.to(this.timerGreenRight,this.time,{rotation:2*Math.PI,ease:Power0.easeOut})),this.timerTimeline.call(function(){this.timerGreenRight.alpha=0,this.timerWhiteRight.alpha=1},null,this),this.timerTimeline.add(TweenMax.to(this.timerGreenLeft,this.time,{rotation:Math.PI,ease:Power0.easeOut})),this.timerTimeline.call(function(){this.timerGreenLeft.tint=16711680},null,this,1.5*this.time),this.timerTimeline.add(TweenMax.to(this.iconHolder.scale,.1,{x:1.2,y:1.2}),1.5*this.time),this.timerTimeline.add(TweenMax.to(this.iconHolder.scale,2,{x:1,y:1,ease:Elastic.easeOut}),1.5*this.time+.1)},a.prototype.completedTimer=function(a){if(1!=a.destroyed){a.timerTimeline=a.scene.killTween(a.timerTimeline),a.timerWhiteRight.alpha=0,a.timerGreenRight.alpha=0,a.timerGreenLeft.alpha=0,a.timerTimeline=new TimelineMax({repeat:11,repeatDelay:.2});var b=new TimelineMax({repeat:11,repeatDelay:.2});b.call(function(){a.timerWhite.tint=16711680},null,a,0),b.call(function(){a.timerWhite.tint=16777215},null,a,.2),a.timerTimeline.add(TweenMax.from(a.iconHolder.scale,2,{x:1.5,y:1.5,ease:Elastic.easeOut}),0),a.timerTimeline.add(b,0),"lucy"==a.id&&Game.playSound("lucy-sigh"),"lori"==a.id&&Game.playSound("lori-scream"),"lola"==a.id&&Game.playSound("lola-lousey"),"luan"==a.id&&Game.playSound("luan-think-fast"),"leni"==a.id&&Game.playSound("sister-oh-come-on"),"lana"==a.id&&Game.playSound("sister-get-him"),a.timerTimeline.call(function(){0==a.destroyed&&a.scene.gameOver()},null,a,5)}},a.prototype.shuffleArray=function(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a},a.prototype.tick=function(){},a.prototype.pause=function(){this.scene.pauseResumeTween(this.spawnTimeline,"pause"),this.scene.pauseResumeTween(this.timerTimeline,"pause")},a.prototype.resume=function(){this.scene.pauseResumeTween(this.spawnTimeline,"resume"),this.scene.pauseResumeTween(this.timerTimeline,"resume")},a.prototype.destroy=function(){this.spawnTimeline=this.scene.killTween(this.spawnTimeline),this.timerTimeline=this.scene.killTween(this.timerTimeline),this.speechBubbleHolder.removeChild(this.speechBubble),this.container.removeChild(this.speechBubbleHolder),Game.displayStore.returnPooledItem(this.speechBubbleHolder),Game.displayStore.returnPooledItem(this.speechBubble),this.destroyed=!0},a}(),SisterManager=function(){function a(a){this.clicked=!1,this.scene=a,this.currentActiveSisters=0,this.sisters=new Array}return a.prototype.satisfyAllSisters=function(){for(var a=0;a<this.sisters.length;a++)this.sisters[a].satisfy()},a.prototype.addSister=function(a){this.sisters.push(a),a.container.position.x=Game.stageWidth-200-150*this.sisters.length-1,this.currentActiveSisters=this.sisters.length},a.prototype.removeSister=function(a){if(a&&this.sisters){this.sisters.splice(this.sisters.indexOf(a),1),this.currentActiveSisters=this.sisters.length;for(var b=0;b<this.sisters.length;b++)TweenMax.to(this.sisters[b].container.position,.5,{x:Game.stageWidth-200-150*(b+1),ease:Bounce.easeOut,delay:b/4})}},a.prototype.destroy=function(){this.sisters=null},a}(),GameplayManager=function(){function a(a){this.clicked=!1,this.scene=a,this.gameplayTimeline=new TimelineMax,this.progressCount=0,this.destroyed=!1,this.sisters=new Array,this.allSisters=new Array,this.laundryBlocks=[{sister:"lana",items:[{type:"colours",special:!0,url:"loud-laundry/sister-lana-special-item.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/blob.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/shorts.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/sock-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/top-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/t-shirt-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/stitches-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-6.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-7.png"}]},{sister:"leni",items:[{type:"colours",special:!0,url:"loud-laundry/sister-leni-special-item.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/t-shirt.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/sock-2.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/sock-3.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/top-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/stitches-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/shorts-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-4.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-5.png"}]},{sister:"lola",items:[{type:"colours",special:!0,url:"loud-laundry/sister-lola-special-item.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/top.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/shorts.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/t-shirt-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/stitches-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/scarf-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-3.png"}]},{sister:"luan",items:[{type:"colours",special:!0,url:"loud-laundry/sister-luan-special-item.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/sock-1.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/sock-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/top-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/pants-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/scarf-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-3.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-5.png"}]},{sister:"lucy",items:[{type:"colours",special:!0,url:"loud-laundry/sister-lucy-special-item.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/sock-3.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/blob.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/top-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/pants-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/scarf-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-4.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-6.png"}]},{sister:"lori",items:[{type:"colours",special:!0,url:"loud-laundry/sister-lori-special-item.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/t-shirt.png"},{type:"whites",special:!1,url:"loud-laundry/clothes-white/shorts.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/stitches-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/t-shirt-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/t-shirt-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/pants-2.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/stitches-1.png"},{type:"colours",special:!1,url:"loud-laundry/clothes-coloured/sock-7.png"}]}]}return a.prototype.startGame=function(a){this.difficulty=a,this.createSisters(),this.gameplayTimeline.call(function(){this.popSister()},null,this,1.2)},a.prototype.popSister=function(){if(1!=this.destroyed){this.getRandomSister(!0).demandWashing();var a=(100-this.progressCount)/this.difficulty;this.gameplayTimeline=this.scene.killTween(this.gameplayTimeline),this.gameplayTimeline=new TimelineMax,this.gameplayTimeline.call(this.popSister,null,this,a),this.progressCount<70&&(this.progressCount+=4)}},a.prototype.advanceToNextSister=function(){this.popSister()},a.prototype.createSisters=function(){for(var a=0;a<this.laundryBlocks.length;a++){var b=new SisterIcon(this.laundryBlocks[a],this.scene);this.sisters.push(b),this.allSisters.push(b),this.scene.mainContainer.addChild(b.container)}},a.prototype.getRandomSister=function(a){if(0==this.sisters.length)for(var b=0;b<this.allSisters.length;b++)0==this.allSisters[b].active&&this.sisters.push(this.allSisters[b]);var c,d=Game.getRandom(0,this.sisters.length-1,!0);return c=this.sisters[d],a&&this.sisters.splice(d,1),c},a.prototype.tick=function(){},a.prototype.pause=function(){this.scene.pauseResumeTween(this.gameplayTimeline,"pause");for(var a=0;a<this.allSisters.length;a++)this.allSisters[a].pause()},a.prototype.resume=function(){this.scene.pauseResumeTween(this.gameplayTimeline,"resume");for(var a=0;a<this.allSisters.length;a++)this.allSisters[a].resume()},a.prototype.destroy=function(){this.destroyed=!0;for(var a=0;a<this.allSisters.length;a++)this.allSisters[a].destroy();this.sisters=null,this.gameplayTimeline=this.scene.killTween(this.gameplayTimeline)},a}(),PowerupItem=function(){function a(a){this.mouseIsDown=!1,this.lastMousePos=new PIXI.Point(0,0),this.mouseXDistance=0,this.mouseYDistance=0,this.smoothing=4,this.startingScale=.7,this.distanceThreshold=120,this.draggable=!1,this.clicked=!1,this.scene=a,this.mainBin=a.mainLaundryBin,this.mouseXDistance=0,this.mouseYDistance=0,this.type="powerup",this.special=!1,this.id="super-wash-liquid",this.container=Game.displayStore.getContainer("loud-laundry/powerup-liquid"),this.spriteHolder=this.container.getContainer("loud-laundry/powerup-liquid-inner"),this.glow=this.spriteHolder.getSprite("loud-laundry/powerup-glow"),this.glow.blendMode=PIXI.BLEND_MODES.ADD,this.drippingContainer=this.spriteHolder.getContainer("loud-laundry/super-wash-liquid-2"),this.drippingContainer.alpha=0,this.shine=Game.displayStore.getSprite("loud-laundry/powerup-shine"),this.shine.blendMode=PIXI.BLEND_MODES.ADD,this.shadow=this.spriteHolder.getSprite("loud-laundry/powerup-shadow"),this.shadow.alpha=.5,this.shadow.position.x=-5,this.shadow.position.y=-5,this.shadow.setRegPoint(.5,.5,!0),this.origShadowPos=new PIXI.Point,this.origShadowPos.x=this.shadow.position.x,this.origShadowPos.y=this.shadow.position.y,this.spriteHolder.position.x=this.spriteHolder.position.y=0,this.spriteHolder.rotation=0,this.spriteHolder.setRegPoint(.5,.5,!0),this.glowTimeline=new TimelineMax({repeat:-1}),this.glowTimeline.add(TweenMax.to(this.glow.scale,.5,{x:.9,y:.9,ease:Power1.easeInOut,repeat:1,yoyo:!0})),this.container.interactive=!1,this.container.interactiveChildren=!1,this.startRotation=0,this.container.x=85,this.container.y=70,this.container.rotation=0,this.container.interactive=!0,this.container.setRegPoint(.5,.5,!0),this.container.scale=new PIXI.Point(0,0),TweenMax.to(this.container.scale,1,{x:.8,y:.8,ease:Elastic.easeOut}),this.spriteHolder.addChild(this.shine),this.shine.position.x=50,this.shine.position.y=35,this.shine.alpha=0,this.shine.scale=new PIXI.Point(0,0),this.mainBin.addPowerup(this)}return a.prototype.startDrag=function(a,b,c){a.startDragTimeline=a.scene.killTween(a.startDragTimeline),a.stopDragTimeline=a.scene.killTween(a.stopDragTimeline),a.startDragTimeline=new TimelineMax,a.shine.alpha=0,a.shine.scale=new PIXI.Point(0,0),a.container.position.x=b,a.container.position.y=c,a.startDragTimeline.add([TweenMax.to(a.container.scale,.5,{x:1.2,y:1.2,ease:Quart.easeOut}),TweenMax.to(a.shadow.position,.5,{x:a.origShadowPos.x-25,y:a.origShadowPos.y-25,ease:Quart.easeOut}),TweenMax.to(a.shadow.scale,.5,{x:1.2,y:1.2,ease:Quart.easeOut}),TweenMax.to(a.shadow,.5,{alpha:.1,ease:Quart.easeOut}),TweenMax.to(a.shine,.5,{alpha:1,ease:Quart.easeOut}),TweenMax.to(a.shine.scale,1,{x:1,y:1,ease:Elastic.easeOut})]),a.draggable=!0},a.prototype.tick=function(a,b){var c=b.x,d=b.y,e=a.mouseXDistance/25+a.startRotation-a.spriteHolder.rotation;e>1.6&&(e=1.6),e<-1.6&&(e=-1.6),a.spriteHolder.rotation+=(e-a.container.rotation)/a.smoothing,a.container.position.x+=(c-a.container.position.x)/a.smoothing,a.container.position.y+=(d-a.container.position.y)/a.smoothing,a.mouseXDistance=c-a.lastMousePos.x,a.mouseYDistance=d-a.lastMousePos.y,a.shadow.position.x+=a.mouseXDistance/15,a.shadow.position.y+=a.mouseYDistance/15,a.lastMousePos.x=c,a.lastMousePos.y=d,a.shine.rotation+=.07},a.prototype.stopDrag=function(a,b,c,d,e){var f=a.container.position.x-c,g=Game.getRandom(-1,1);a.startDragTimeline=a.scene.killTween(a.startDragTimeline),a.stopDragTimeline=a.scene.killTween(a.stopDragTimeline),b.putBack(a),b.bounce(b),c-=b.container.position.x,d-=b.container.position.y,a.stopDragTimeline=new TimelineMax,a.stopDragTimeline.add([TweenMax.to(a.container.position,.5,{bezier:[{x:c+f/10,y:d-120},{x:c,y:d}],ease:Back.easeOut}),TweenMax.to(a.spriteHolder,.5,{rotation:a.startRotation+g,ease:Sine.easeOut}),TweenMax.to(a.container.scale,.5,{x:e,y:e,ease:Quart.easeOut}),TweenMax.to(a.shadow.position,.5,{x:a.origShadowPos.x,y:a.origShadowPos.y,ease:Quart.easeOut}),TweenMax.to(a.shadow.scale,.5,{x:1,y:1,ease:Quart.easeOut}),TweenMax.to(a.shadow,.5,{alpha:.4,ease:Quart.easeOut}),TweenMax.to(a.shadow,.5,{rotation:a.startRotation+g,ease:Sine.easeOut}),TweenMax.to(a.shine,.5,{alpha:0,ease:Quart.easeOut}),TweenMax.to(a.shine.scale,.5,{x:1,y:1,ease:Back.easeIn})]),a.stopDragTimeline.call(function(){a.startRotation=a.spriteHolder.rotation},null,a),a.stopDragTimeline.timeScale(1.6),a.draggable=!1},a.prototype.lineDistance=function(a,b){var c=0,d=0;return c=b.x-a.x,c*=c,d=b.y-a.y,d*=d,Math.sqrt(c+d)},a.prototype.pause=function(){this.scene.pauseResumeTween(this.glowTimeline,"pause"),this.scene.pauseResumeTween(this.startDragTimeline,"pause"),this.scene.pauseResumeTween(this.stopDragTimeline,"pause")},a.prototype.resume=function(){this.scene.pauseResumeTween(this.glowTimeline,"resume"),this.scene.pauseResumeTween(this.startDragTimeline,"resume"),this.scene.pauseResumeTween(this.stopDragTimeline,"resume")},a.prototype.destroy=function(){this.startDragTimeline=this.scene.killTween(this.startDragTimeline),this.stopDragTimeline=this.scene.killTween(this.stopDragTimeline),this.glowTimeline=this.scene.killTween(this.glowTimeline),TweenMax.to(this.container.scale,.2,{x:0,y:0,onComplete:function(a){a.spriteHolder.removeChild(a.shine),a.container.parent&&a.container.parent.removeChild(a.container)},onCompleteParams:[this]})},a}(),GeoRollInputManager=function(){function a(a){this.scene=a,this.geoXPos=250,this.jumpYPos=200,this.joystickReturnSpeed=20,this.joystickReturnEase=2,this.lincolnRunForce=1e4,this.lincolnRunDir=1,this.joystickDragRange=60,this.hitAreaSprite=Game.displayStore.getSprite("geo-roll-blank-input"),this.hitAreaSprite.height=Game.stageHeight,1==Game.onDesktop?this.hitAreaSprite.width=Game.stageWidth:(this.hitAreaSprite.width=Game.stageWidth/2,this.hitAreaSprite.position.x=Game.stageWidth/2),this.joystickDragOffset=new PIXI.Point(0,0),this.joystickStartPos=new PIXI.Point(125,Game.stageHeight-125),this.joystickDragPos=new PIXI.Point(0,0),this.joystickElementCircleBG=Game.displayStore.getSprite("joystick-bg-circle"),this.joystickElementCircleBG.position.x=this.joystickStartPos.x,this.joystickElementCircleBG.position.y=this.joystickStartPos.y,this.joystickElementLineBG=Game.displayStore.getSprite("joystick-bg-line"),this.joystickElementLineBG.position.x=this.joystickStartPos.x,this.joystickElementLineBG.position.y=this.joystickStartPos.y,this.joystickElement=Game.displayStore.getSprite("joystick-element"),this.joystickElement.position.x=this.joystickStartPos.x,this.joystickElement.position.y=this.joystickStartPos.y}return a.prototype.createInput=function(){0==Game.onDesktop?this.setUpJoyStick(this.joystickElement,this.joystickElementLineBG):this.setUpHitArea(this.hitAreaSprite)},a.prototype.setUpHitArea=function(a){a.interactive=!0,a.buttonMode=!0;var b=this;Game.onDesktop&&(a.on("mousedown",function(a){b.inputDown(b,a.data.getLocalPosition(b.scene.container))}),a.on("mouseup",function(a){b.inputUp(b,a.data.getLocalPosition(b.scene.container))}),a.on("mouseupoutside",function(a){b.inputUp(b,a.data.getLocalPosition(b.scene.container))})),this.scene.container.addChild(a)},a.prototype.setUpJoyStick=function(a,b){a.interactive=!0,a.buttonMode=!0;var c=this;a.on("touchstart",function(a){c.joystickDown(c,a.data.getLocalPosition(c.scene.container))}),a.on("touchmove",function(a){c.joystickMove(c,a.data.getLocalPosition(c.scene.container))}),a.on("touchend",function(a){c.joystickUp(c,a.data.getLocalPosition(c.scene.container))}),this.scene.container.addChild(b),this.scene.container.addChild(a)},a.prototype.joystickDown=function(a,b){a.joystickDragging=!0,a.joystickDragOffset.x=b.x-a.joystickElement.position.x,a.joystickDragOffset.y=b.y-a.joystickElement.position.y,a.scene.geoMoved(),a.scene.joystickStartTouch()},a.prototype.joystickMove=function(a,b){a.joystickDragPos.x=b.x,a.joystickDragPos.y=b.y},a.prototype.joystickUp=function(a,b){a.scene.joystickLetGo(),a.joystickDragging=!1},a.prototype.inputUp=function(a,b){a.scene.speedGeoKill()},a.prototype.inputDown=function(a,b){if(b.y<a.jumpYPos)return void a.scene.geoHop();b.x<a.geoXPos?a.scene.speedGeoBackward():b.x>=a.geoXPos&&a.scene.speedGeoForward()},a.prototype.inputDownMobile=function(a,b){a.scene.geoHop()},a.prototype.inputMove=function(a,b){},a.prototype.keyboardUpStart=function(){this.scene.geoHop()},a.prototype.keyboardUpEnd=function(){},a.prototype.keyboardLeftStart=function(){this.scene.speedGeoBackward()},a.prototype.keyboardLeftEnd=function(){this.scene.speedGeoKill()},a.prototype.keyboardRightStart=function(){this.scene.speedGeoForward()},a.prototype.keyboardRightEnd=function(){this.scene.speedGeoKill()},a.prototype.tick=function(){1==this.joystickDragging?this.dragJoystick():0==this.joystickDragging&&this.returnJoystick()},a.prototype.dragJoystick=function(){var a,b=this.getDistance(this.joystickStartPos.x,this.joystickStartPos.y,this.joystickDragPos.x,this.joystickDragPos.y);a=b>this.joystickDragRange?this.joystickDragRange:b;var c=this.getAngle(this.joystickDragPos.x,this.joystickDragPos.y,this.joystickStartPos.x,this.joystickStartPos.y);this.joystickElement.position.x=this.joystickStartPos.x+Math.cos(c)*a;var d=this.joystickElement.position.x-this.joystickStartPos.x,e=d/this.joystickDragRange;this.scene.geoJoystickSpeed(e)},a.prototype.returnJoystick=function(){this.joystickElement.position.x+=(this.joystickStartPos.x-this.joystickElement.position.x)/this.joystickReturnEase;var a=this.joystickElement.position.x-this.joystickStartPos.x,b=a/this.joystickDragRange;this.scene.geoJoystickSpeed(b)},a.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.prototype.getAngle=function(a,b,c,d){if(a!=c||b!=d){var e=a-c,f=d-b;return Math.atan2(f,e)}},a.prototype.destroy=function(){this.hitAreaSprite.removeAllListeners()},a}(),GeoRollPhysicsManager=function(){function a(a,b,c){this.physicsDebugMode=!1,this.physicsEnabled=!0,this.resizeRatio=1,this.scene=a,this.mainContainer=b,this.geoXStartPos=c}return a.prototype.initPhysicsWorld=function(){this.collisionGroupLevel=Math.pow(2,0),this.collisionGroupObstacles=Math.pow(2,1),this.collisionGroupGeoNormal=Math.pow(2,2),this.collisionGroupGeoSuper=Math.pow(2,3),this.canvasHeight=this.canvasOrigHeight=Game.stageHeight,this.canvasWidth=this.canvasOrigWidth=Game.stageWidth,this.geoCooldownTime=1.25,this.geoCooldownOn=!1,this.currentGeoHorizontalForce=[0,0],this.geoHorizontalForceMultiplier=4e3,this.origGeoHorizontalForceMultiplier=this.geoHorizontalForceMultiplier,this.geoAirborneHorizontalForceMultiplier=3e3,this.hopForce=5e4,this.torchYPos=Game.stageHeight-400,this.torchYRange=100,this.currentTorchYForce=0,this.gameOverSequenceStarted=!1,this.torchBeamCurrentTarget=this.torchYPos,this.torchPosChangeCounter=0,this.torchPosChangeLimit=1.5*Game.fps,this.geoAirborne=!1,this.world=new p2.World({gravity:[0,-1e3]}),this.world.defaultContactMaterial.restitution=.6,this.floorPlane=new p2.Plane,this.floorPlane.collisionGroup=this.collisionGroupLevel,this.floorPlane.collisionMask=this.collisionGroupObstacles|this.collisionGroupGeoSuper|this.collisionGroupGeoNormal,this.floorBody=new p2.Body({mass:0,position:[0,Game.stageHeight-550],angle:0}),this.floorBody.addShape(this.floorPlane),this.world.addBody(this.floorBody),this.geoBallShape=new p2.Circle({radius:75}),this.geoBallShape.collisionGroup=this.collisionGroupGeoNormal,this.geoBallShape.collisionMask=this.collisionGroupObstacles|this.collisionGroupLevel,this.geoBallBody=new p2.Body({mass:85,position:[this.geoXStartPos,200]}),this.geoBallBody.damping=.3,this.geoBallBody.addShape(this.geoBallShape),this.world.addBody(this.geoBallBody),this.jumpVelCancel=this.geoBallBody.mass,this.currentTorchYPos=this.torchYPos,this.torchBeamBody=new p2.Body({mass:150,position:[-200,this.torchYPos]}),this.torchBeamBody.gravityScale=0,this.torchBeamBody.damping=.99,this.torchBeamSwingForce=5e3,this.torchBeamSwinging=!1,this.world.addBody(this.torchBeamBody),this.torchBeamSeekForce=1e5,0==Game.isLowEndIPad?this.torchBeamCatchUpForce=11e6:this.torchBeamCatchUpForce=55e5,this.torchBeamLagPos=1e3,this.torchBeamTargetDistance=200,this.torchBeamCurrentTarget=this.geoBallBody.position[0]-this.torchBeamTargetDistance;var a=this;this.world.on("beginContact",function(b){a.checkCollision(a,b)}),this.world.on("postStep",function(a){}),this.physicsEnabled=!0},a.prototype.setGeoSpeed=function(a){1==this.geoAirborne?this.currentGeoHorizontalForce=[a*this.geoAirborneHorizontalForceMultiplier,0]:this.currentGeoHorizontalForce=[a*this.geoHorizontalForceMultiplier,0]},a.prototype.activateSuperMode=function(){this.geoBallShape.collisionGroup=this.collisionGroupGeoSuper,this.geoHorizontalForceMultiplier*=1.5},a.prototype.preDeactivateHop=function(){this.geoBallBody.applyImpulse([0,this.hopForce])},a.prototype.deactivateSuperMode=function(){this.geoBallShape.collisionGroup=this.collisionGroupGeoNormal,this.geoHorizontalForceMultiplier=this.origGeoHorizontalForceMultiplier},a.prototype.geoHop=function(){if(1!=this.gameOverSequenceStarted){this.geoCooldownOn,this.geoAirborne,this.geoAirborne=!0;var a=this.geoBallBody.velocity[1],b=a*this.jumpVelCancel,c=this.hopForce-b;this.geoBallBody.applyImpulse([0,c]),this.geoCooldownOn=!0,this.geoLandedCooldownDelay=this.scene.killTween(this.geoLandedCooldownDelay),this.geoLandedCooldownDelay=TweenMax.delayedCall(this.geoCooldownTime,this.endGeoCoolDown,[this]),this.scene.geoHopStaminaChange()}},a.prototype.getBlockBody=function(){var a=new p2.Body({mass:1}),b=new p2.Box({width:106,height:120});return b.collisionGroup=this.collisionGroupObstacles,b.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal,a.addShape(b),a},a.prototype.getAlarmBlockBody=function(){var a=new p2.Body({mass:1}),b=new p2.Box({width:85,height:40});b.collisionGroup=this.collisionGroupObstacles,b.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal|this.collisionGroupObstacles;var c=new p2.Box({width:85,height:30});return c.collisionGroup=this.collisionGroupObstacles,c.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal|this.collisionGroupObstacles,{body:a,shape:b,poppedShape:c}},a.prototype.getTallBlockBody=function(){var a=new p2.Body({mass:1}),b=new p2.Box({width:25,height:120});return b.collisionGroup=this.collisionGroupObstacles,b.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal,a.addShape(b),a},a.prototype.getTreatBody=function(){var a=new p2.Body({mass:1}),b=new p2.Circle({radius:10});return b.collisionGroup=this.collisionGroupObstacles,b.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoSuper|this.collisionGroupGeoNormal,a.addShape(b),{treatBody:a,treatShape:b}},a.prototype.getUpRampBody=function(){var a=new p2.Body({mass:1}),b=[[18,8],[532,8],[532,116]];return a.fromPolygon(b),a.shapes[0].collisionGroup=this.collisionGroupObstacles,a.shapes[0].collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal,a},a.prototype.getDownRampBody=function(){var a=new p2.Body({mass:1}),b=[[18,116],[18,8],[532,8]];return a.fromPolygon(b),a.shapes[0].collisionGroup=this.collisionGroupObstacles,a.shapes[0].collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal,a},a.prototype.getTriangleBody=function(){var a=new p2.Body({mass:1}),b=[[5,8],[5,18],[62,116],[130,18],[130,8]];return a.fromPolygon(b),a.shapes[0].collisionGroup=this.collisionGroupObstacles,a.shapes[0].collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal,a},a.prototype.getSeeSawEven=function(){var a=new p2.Body({mass:1}),b=new p2.Box({width:430,height:15});a.addShape(b),b.collisionGroup=this.collisionGroupObstacles,b.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal|this.collisionGroupObstacles;var c=new p2.Body({mass:0}),d=new p2.Box({width:1,height:1});return d.collisionGroup=this.collisionGroupObstacles,d.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal,c.addShape(d),{beamBody:a,hingeBody:c,hingeConstraint:new p2.RevoluteConstraint(a,c,{localPivotA:[0,0],localPivotB:[0,0],collideConnected:!1})}},a.prototype.getSeeSawRampUp=function(){var a=new p2.Body({mass:1}),b=new p2.Box({width:430,height:15});b.collisionGroup=this.collisionGroupObstacles,b.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal|this.collisionGroupObstacles,a.addShape(b);var c=new p2.Body({mass:0}),d=new p2.Box({width:1,height:1});return d.collisionGroup=this.collisionGroupObstacles,d.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal,c.addShape(d),{beamBody:a,hingeBody:c,hingeConstraint:new p2.RevoluteConstraint(a,c,{localPivotA:[10,0],localPivotB:[0,0],collideConnected:!1})}},a.prototype.getSeeSawRampDown=function(){var a=new p2.Body({mass:1}),b=new p2.Box({width:430,height:15});b.collisionGroup=this.collisionGroupObstacles,b.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal|this.collisionGroupObstacles,a.addShape(b);var c=new p2.Body({mass:0}),d=new p2.Box({width:1,height:1});return d.collisionGroup=this.collisionGroupObstacles,d.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal,c.addShape(d),{beamBody:a,hingeBody:c,hingeConstraint:new p2.RevoluteConstraint(a,c,{localPivotA:[-10,0],localPivotB:[0,0],collideConnected:!1})}},a.prototype.getBallBody=function(){var a=new p2.Body({mass:1}),b=new p2.Circle({radius:60});return b.collisionGroup=this.collisionGroupObstacles,b.collisionMask=this.collisionGroupLevel|this.collisionGroupGeoNormal,a.addShape(b),a},a.prototype.setAlarmBodySize=function(a,b,c,d){a.removeShape(a.shapes[0]),c.collisionGroup=this.collisionGroupObstacles,b.collisionGroup=this.collisionGroupObstacles|this.collisionGroupGeoNormal,"large"==d?a.addShape(b):"small"==d&&a.addShape(c),a.updateBoundingRadius(),a.updateMassProperties()},a.prototype.addBodyToWorld=function(a){this.world.addBody(a)},a.prototype.removeBodyFromWorld=function(a){this.world.removeBody(a)},a.prototype.removeConstraintFromWorld=function(a){this.world.removeConstraint(a)},a.prototype.addConstraintToWorld=function(a){this.world.addConstraint(a)},a.prototype.swingBeamToGeo=function(){this.torchBeamSwinging=!0,this.torchBeamCurrentTarget=this.geoBallBody.position[0]-this.torchBeamTargetDistance},a.prototype.checkCollision=function(a,b){switch(a.geoBallBody){case b.bodyA:a.geoContact(a,b.bodyB);break;case b.bodyB:a.geoContact(a,b.bodyA)}a.scene.checkObstacleCollision(b.bodyA,b.bodyB),a.scene.checkTreatCollision(b.bodyA,b.bodyB)},a.prototype.geoContact=function(a,b){1==a.geoAirborne&&(a.geoAirborne=!1),0!=a.scene.checkContactReset(b)&&a.scene.geoLanded()},a.prototype.endGeoCoolDown=function(a){a.geoCooldownOn=!1},a.prototype.resizeElements=function(a,b){this.canvasHeight=b,this.canvasWidth=a,this.canvasOrigHeight&&(1==this.physicsDebugMode&&(this.physicsCanvas.height=b,this.physicsCanvas.width=a),this.resizeRatio=this.canvasHeight/this.canvasOrigHeight)},a.prototype.stepPhysics=function(){0!=this.physicsEnabled&&this.world&&(this.world.step(1/Game.fps),this.applyGeoHorizontalForce(),0==this.gameOverSequenceStarted?(this.swingTorchBeam(),this.moveTorchBeam(),this.calcVertTorchForce()):1==this.gameOverSequenceStarted&&this.shineTorchOnGeo(),this.scene.zoomCamera(this.geoBallBody.velocity[0]),++this.torchPosChangeCounter>=this.torchPosChangeLimit&&(this.torchPosChangeCounter=0,this.changeTorchVertTarget()))},a.prototype.calcVertTorchForce=function(){var a=this.currentTorchYPos-this.torchBeamBody.position[1],b=1e3*a;this.currentTorchYForce=b},a.prototype.changeTorchVertTarget=function(){this.currentTorchYPos=this.torchYPos+Game.getRandom(-this.torchYRange,this.torchYRange)},a.prototype.applyGeoHorizontalForce=function(){1!=this.gameOverSequenceStarted&&(this.geoAirborne,this.geoBallBody.applyForce(this.currentGeoHorizontalForce))},a.prototype.swingTorchBeam=function(){if(0!=this.torchBeamSwinging){var a=this.torchBeamCurrentTarget-this.torchBeamBody.position[0],b=this.torchBeamSwingForce*a;Math.abs(b)<5e3&&(this.torchBeamSwinging=!1);var c=b,d=[b,this.currentTorchYForce];c&&this.torchBeamBody.applyForce(d)}},a.prototype.moveTorchBeam=function(){if(1!=this.torchBeamSwinging&&0!=this.scene.geoStartedMoving){var a=!1;this.torchBeamBody.position[0]>this.geoBallBody.position[0]&&(a=!0);var b,c=this.geoBallBody.position[0]-this.torchBeamBody.position[0];b=c>this.torchBeamLagPos?this.torchBeamCatchUpForce:this.torchBeamSeekForce,1==a&&(b=-this.torchBeamCatchUpForce),this.torchBeamBody.applyForce([b,this.currentTorchYForce]);Math.abs(this.torchBeamBody.position[0]-this.geoBallBody.position[0])<10&&(this.gameOverSequenceStarted=!0,this.scene.gameOver())}},a.prototype.shineTorchOnGeo=function(){var a=this.geoBallBody.position[0]-this.torchBeamBody.position[0],b=this.geoBallBody.position[1]-this.torchBeamBody.position[1],c=6e3*a,d=6e3*b;this.torchBeamBody.applyForce([c,d])},a.prototype.killPhysicsWorld=function(a){},a.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.prototype.getAngle=function(a,b,c,d){if(a!=c||b!=d){var e=a-c,f=d-b;return Math.atan2(f,e)}},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.destroy=function(){var a=this;TweenMax.delayedCall(.2,function(){a.world.clear()})},a}(),GeoRollLevelManager=function(){function a(a,b,c,d){this.scene=a,this.mainContainer=b,this.currentFloorOffset=0,this.floorMotionDiff=0,this.currentGeoPos=0,this.lastGeoPos=0,this.obstacleStartPos=500,this.spawnAheadDistance=1e3,this.spawnThisFrame=!0,this.currentChunkEndLoc=this.obstacleStartPos+this.spawnAheadDistance,this.levelChunks=new Array,this.setUpLevelChunks(),this.geoRef=d,this.geoStartPos=c,this.swapWidth=Game.stageWidth,this.corridorFloorHolder=Game.displayStore.getContainer("corridor-floor-holder"),this.corridorFloorHolder.position.y=Game.stageHeight,this.corridorFloorBGs=new Array,this.corridorFloorBGs.push({floor:Game.displayStore.getSprite("corridor-floor-bg")}),this.corridorFloorBGs.push({floor:Game.displayStore.getSprite("corridor-floor-bg")}),this.corridorFloorBGs.push({floor:Game.displayStore.getSprite("corridor-floor-bg")}),this.corridorFloorBGs[0].floor.position.x=-Game.stageWidth,this.corridorFloorBGs[1].floor.position.x=0,this.corridorFloorBGs[2].floor.position.x=Game.stageWidth,this.corridorFloorHolder.addChild(this.corridorFloorBGs[0].floor),this.corridorFloorHolder.addChild(this.corridorFloorBGs[1].floor),this.corridorFloorHolder.addChild(this.corridorFloorBGs[2].floor),
this.mainContainer.addChild(this.corridorFloorHolder),this.corridorFloorHolder.position.x=this.currentGeoPos-this.geoStartPos,this.redDoorClosed=Game.displayStore.getSprite("door-closed"),this.greenDoorClosed=Game.displayStore.getSprite("door-closed"),this.purpleDoorClosed=Game.displayStore.getSprite("door-closed"),this.purpleDoor=Game.displayStore.getContainer("purple-door-container"),this.redDoor=Game.displayStore.getContainer("red-door-container"),this.greenDoor=Game.displayStore.getContainer("green-door-container"),this.redDoorClosed.visible=!1,this.purpleDoorClosed.visible=!1,this.greenDoorClosed.visible=!1,this.redDoor.addChild(this.redDoorClosed),this.greenDoor.addChild(this.greenDoorClosed),this.purpleDoor.addChild(this.purpleDoorClosed),this.corridorWallHolder1=Game.displayStore.getContainer("corridor-wall-holder"),this.corridorWallHolder2=Game.displayStore.getContainer("corridor-wall-holder2"),this.corridorWallHolder3=Game.displayStore.getContainer("corridor-wall-holder3"),this.corridorWallWrapper=Game.displayStore.getContainer("corridor-wall-wrapper"),this.corridorWallHolder1.position.y=-210,this.corridorWallHolder2.position.y=-210,this.corridorWallHolder3.position.y=-210,this.corridorWall1BGs=new Array,this.corridorWall2BGs=new Array,this.corridorWall3BGs=new Array;for(var e=0;e<7;e++)this.corridorWall1BGs.push({wall:Game.displayStore.getSprite("corridor-wall-bg")}),this.corridorWall1BGs[e].wall.position.x=this.corridorWall1BGs[0].wall.width*e,this.corridorWallHolder1.addChild(this.corridorWall1BGs[e].wall);for(var e=0;e<7;e++)this.corridorWall2BGs.push({wall:Game.displayStore.getSprite("corridor-wall-bg")}),this.corridorWall2BGs[e].wall.position.x=this.corridorWall2BGs[0].wall.width*e,this.corridorWallHolder2.addChild(this.corridorWall2BGs[e].wall);for(var e=0;e<7;e++)this.corridorWall3BGs.push({wall:Game.displayStore.getSprite("corridor-wall-bg")}),this.corridorWall3BGs[e].wall.position.x=this.corridorWall3BGs[0].wall.width*e,this.corridorWallHolder3.addChild(this.corridorWall3BGs[e].wall);this.corridorWallHolder1.position.x=-Game.stageWidth,this.corridorWallHolder2.position.x=0,this.corridorWallHolder3.position.x=Game.stageWidth,this.purpleDoor.position.x=0,this.purpleDoor.position.y=420,this.redDoor.position.x=Game.stageWidth,this.redDoor.position.y=420,this.greenDoor.position.x=2*Game.stageWidth,this.greenDoor.position.y=420,this.corridorWallWrapper.position.x=this.currentGeoPos-this.geoStartPos,this.corridorWallWrapper.addChild(this.corridorWallHolder1),this.corridorWallWrapper.addChild(this.corridorWallHolder2),this.corridorWallWrapper.addChild(this.corridorWallHolder3),this.mainContainer.addChild(this.corridorWallWrapper),this.mainContainer.addChild(this.redDoor),this.mainContainer.addChild(this.purpleDoor),this.mainContainer.addChild(this.greenDoor),this.geoFloorShadow=Game.displayStore.getSprite("geo-ball-floor-shadow"),this.geoFloorShadow.position.x=this.currentGeoPos,this.geoFloorShadow.position.y=550,this.mainContainer.addChild(this.geoFloorShadow),this.greenFrame=Game.displayStore.getSprite("geo-roll-green-frame"),this.orangeFrame=Game.displayStore.getSprite("geo-roll-orange-frame"),this.blueFrame=Game.displayStore.getSprite("geo-roll-blue-frame"),this.frameGroup1=Game.displayStore.getSprite("picture-frame-group-1"),this.frameGroup2=Game.displayStore.getSprite("picture-frame-group-2"),this.frameGroup3=Game.displayStore.getSprite("picture-frame-group-3"),this.frameHolder1=this.redDoor.getContainer("picture-frame-holder-1"),this.frameHolder2=this.purpleDoor.getContainer("picture-frame-holder-2"),this.frameHolder3=this.greenDoor.getContainer("picture-frame-holder-3"),this.frameHolder1.removeChildren(),this.frameHolder2.removeChildren(),this.frameHolder3.removeChildren(),this.getNewFrames(1,2,this.frameHolder1),this.getNewFrames(3,4,this.frameHolder2),this.getNewFrames(5,6,this.frameHolder3)}return a.prototype.tick=function(a,b){this.currentGeoPos=a,this.currentGeoPosY=b,this.geoFloorShadow.position.x=this.currentGeoPos;var c=this.currentGeoPos-this.lastGeoPos;this.currentFloorOffset+=c,this.currentGeoPos+this.spawnAheadDistance>=this.currentChunkEndLoc&&this.spawnLevelChunk(),this.lastGeoPos=this.currentGeoPos,this.positionCorridor(),this.doorPosition()},a.prototype.setUpLevelChunks=function(){var a=new GeoRollLevelChunk(this,this.scene);a.addObstacleData("block",0),a.addObstacleData("alarmBox",190),a.addObstacleData("block",300),a.setChunkId(0),this.levelChunks.push(a);var b=new GeoRollLevelChunk(this,this.scene);b.addObstacleData("block",0),b.addObstacleData("alarmBox",190),b.addObstacleData("block",300),b.addObstacleData("alarmBox",490),b.addObstacleData("block",600),b.setChunkId(1),this.levelChunks.push(b);var c=new GeoRollLevelChunk(this,this.scene);c.addObstacleData("upRamp",0),c.addObstacleData("alarmBox",480),c.addObstacleData("alarmBox",600),c.setChunkId(2),this.levelChunks.push(c);var d=new GeoRollLevelChunk(this,this.scene);d.addObstacleData("downRamp",0),d.addObstacleData("alarmBox",640),d.setChunkId(3),this.levelChunks.push(d);var e=new GeoRollLevelChunk(this,this.scene);e.addObstacleData("seeSawRampUp",0),e.addObstacleData("alarmBox",360),e.setChunkId(4),this.levelChunks.push(e);var f=new GeoRollLevelChunk(this,this.scene);f.addObstacleData("block",0),f.addObstacleData("alarmBox",190),f.addObstacleData("alarmBox",500),f.addObstacleData("block",600),f.setChunkId(5),this.levelChunks.push(f);var g=new GeoRollLevelChunk(this,this.scene);g.addObstacleData("upRamp",0),g.addObstacleData("alarmBox",520),g.addObstacleData("downRamp",720),g.addObstacleData("alarmBox",1400),g.setChunkId(6),this.levelChunks.push(g);var h=new GeoRollLevelChunk(this,this.scene);h.addObstacleData("alarmBox",30),h.addObstacleData("seeSawEven",0),h.setChunkId(7),this.levelChunks.push(h);var i=new GeoRollLevelChunk(this,this.scene);i.addObstacleData("ball",0),i.addObstacleData("alarmBox",150),i.setChunkId(8),this.levelChunks.push(i);var j=new GeoRollLevelChunk(this,this.scene);j.addObstacleData("alarmBox",0),j.addObstacleData("ball",80),j.addObstacleData("alarmBox",450),j.setChunkId(9),this.levelChunks.push(j);var k=new GeoRollLevelChunk(this,this.scene);k.addObstacleData("alarmBox",40),k.addObstacleData("seeSawRampDown",0),k.setChunkId(10),this.levelChunks.push(k);var l=new GeoRollLevelChunk(this,this.scene);l.addObstacleData("seeSawEven",0),l.addObstacleData("alarmBox",500),l.setChunkId(11),this.levelChunks.push(l);var m=new GeoRollLevelChunk(this,this.scene);m.addObstacleData("seeSawEven",0),m.addObstacleData("alarmBox",380),m.setChunkId(12),this.levelChunks.push(m);var n=new GeoRollLevelChunk(this,this.scene);n.addObstacleData("triangle",0),n.addObstacleData("alarmBox",160),n.addObstacleData("triangle",400),n.setChunkId(13),this.levelChunks.push(n);var o=new GeoRollLevelChunk(this,this.scene);o.addObstacleData("block",0),o.addObstacleData("alarmBox",310),o.addObstacleData("triangle",380),o.setChunkId(14),this.levelChunks.push(o);var p=new GeoRollLevelChunk(this,this.scene);p.addObstacleData("alarmBox",0),p.addObstacleData("tallblock",80),p.addObstacleData("alarmBox",150),p.addObstacleData("alarmBox",500),p.addObstacleData("tallblock",580),p.addObstacleData("alarmBox",650),p.setChunkId(15),this.levelChunks.push(p)},a.prototype.activateSuperMode=function(){TweenMax.to(this.geoFloorShadow.scale,.4,{x:1.2,y:1.2,ease:Back.easeOut}),TweenMax.to(this.geoFloorShadow.position,.4,{y:575,ease:Back.easeOut})},a.prototype.deactivateSuperMode=function(){TweenMax.to(this.geoFloorShadow.scale,.4,{x:1,y:1,ease:Back.easeOut}),TweenMax.to(this.geoFloorShadow.position,.4,{y:550,ease:Back.easeOut})},a.prototype.debugSpawnLevelChunk=function(a,b){for(var c=0;c<this.levelChunks.length;c++)if(this.levelChunks[c].chunkID==a)return void this.levelChunks[c].spawnChunk(b)},a.prototype.spawnLevelChunk=function(){for(var a,b=Game.getRandom(0,this.levelChunks.length-1,!0),c=0;c<this.levelChunks.length;c++)if(this.levelChunks[c].chunkID==b)return a=this.levelChunks[c].chunkWidth,this.levelChunks[c].spawnChunk(this.currentChunkEndLoc),Game.getRandom(0,1)<.5&&this.spawnTreat(this.currentChunkEndLoc,a),void(this.currentChunkEndLoc+=a)},a.prototype.spawnTreat=function(a,b){this.scene.spawnTreatInChunk(a,b)},a.prototype.positionCorridor=function(){var a;return this.currentFloorOffset<=-Game.stageWidth?(a=this.currentFloorOffset- -Game.stageWidth,this.currentFloorOffset=a,this.corridorFloorHolder.position.x=this.currentGeoPos-this.geoStartPos-a,void(this.corridorWallWrapper.position.x=this.currentGeoPos-this.geoStartPos-a)):this.currentFloorOffset>Game.stageWidth?(a=this.currentFloorOffset-Game.stageWidth,this.currentFloorOffset=a,this.corridorFloorHolder.position.x=this.currentGeoPos-this.geoStartPos-a,void(this.corridorWallWrapper.position.x=this.currentGeoPos-this.geoStartPos-a)):void 0},a.prototype.doorPosition=function(){var a=this.currentGeoPos-this.geoStartPos-Game.stageWidth;return this.redDoor.position.x<a?(this.frameHolder1.removeChildren(),this.redDoor.position.x=this.currentGeoPos-this.geoStartPos+2*Game.stageWidth,1==Game.getRandom(0,1,!0)?this.redDoorClosed.visible=!0:this.redDoorClosed.visible=!1,void this.getNewFrames(1,2,this.frameHolder1)):this.purpleDoor.position.x<a?(this.frameHolder2.removeChildren(),this.purpleDoor.position.x=this.currentGeoPos-this.geoStartPos+2*Game.stageWidth,1==Game.getRandom(0,1,!0)?this.purpleDoorClosed.visible=!0:this.purpleDoorClosed.visible=!1,void this.getNewFrames(3,4,this.frameHolder2)):this.greenDoor.position.x<a?(this.frameHolder3.removeChildren(),this.greenDoor.position.x=this.currentGeoPos-this.geoStartPos+2*Game.stageWidth,1==Game.getRandom(0,1,!0)?this.greenDoorClosed.visible=!0:this.greenDoorClosed.visible=!1,void this.getNewFrames(5,6,this.frameHolder3)):void 0},a.prototype.getNewFrames=function(a,b,c){switch(Game.getRandom(a,b,!0)){case 1:c.addChild(this.greenFrame);break;case 2:c.addChild(this.orangeFrame);break;case 3:c.addChild(this.blueFrame);break;case 4:c.addChild(this.frameGroup1);break;case 5:c.addChild(this.frameGroup2);break;case 6:c.addChild(this.frameGroup3)}},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.destroy=function(){for(var a=0;a<this.corridorFloorBGs.length;a++)Game.displayStore.returnPooledItem(this.corridorFloorBGs[a].floor);for(var a=0;a<this.corridorWall1BGs.length;a++)Game.displayStore.returnPooledItem(this.corridorWall1BGs[a].wall),Game.displayStore.returnPooledItem(this.corridorWall2BGs[a].wall),Game.displayStore.returnPooledItem(this.corridorWall3BGs[a].wall);Game.displayStore.returnPooledItem(this.redDoorClosed),Game.displayStore.returnPooledItem(this.purpleDoorClosed),Game.displayStore.returnPooledItem(this.greenDoorClosed),Game.displayStore.returnPooledItem(this.greenFrame),Game.displayStore.returnPooledItem(this.blueFrame),Game.displayStore.returnPooledItem(this.orangeFrame),Game.displayStore.returnPooledItem(this.frameGroup1),Game.displayStore.returnPooledItem(this.frameGroup2),Game.displayStore.returnPooledItem(this.frameGroup3)},a}(),GeoRollObstacleManager=function(){function a(a,b){this.scene=a,this.mainContainer=b,this.obstacleYPos=Game.stageHeight-500,this.removeBehindDistance=800,this.obstacleContactDistanceBuffer=200,this.treatHeight=Game.stageHeight-300}return a.prototype.createObstacles=function(){this.treats=new Array;for(var a=0;a<8;a++){var b=Game.displayStore.getSprite("geo-treat"),c=Game.displayStore.getSprite("geo-treat-shine");b.position.y=-400,c.position.y=-400;var d=this.scene.getTreatBody();this.mainContainer.addChild(b),this.mainContainer.addChild(c),c.blendMode=PIXI.BLEND_MODES.ADD,c.alpha=.5,d.treatBody.gravityScale=0,d.treatBody.mass=1,d.treatBody.updateMassProperties(),d.treatBody.position=[0,1e3],this.treats.push({treatBody:d.treatBody,treatShape:d.treatShape,treatSprite:b,treatShineSprite:c,active:!1})}this.alarmBlocks=new Array;for(var a=0;a<10;a++){var e=Game.displayStore.getSprite("geo-roll-alarm"),f=Game.displayStore.getSprite("geo-roll-alarm-popped"),g=Game.displayStore.getContainer("geo-roll-alarm-holder");e.position.x=0,e.position.y=-8,f.position.x=0,f.position.y=-16,f.visible=!1,g.addChild(e),g.addChild(f),g.position.y=-400,this.mainContainer.addChild(g);var h=this.scene.getAlarmBlockBody();h.body.mass=800,h.body.updateMassProperties(),this.alarmBlocks.push({alarmBlockBody:h.body,alarmBlockBodySprite:e,alarmBlockBodyPoppedSprite:f,alarmBlockHolder:g,alarmShape:h.shape,alarmPoppedShape:h.poppedShape,active:!1,hit:!1})}this.seeSawsEven=new Array;for(var a=0;a<10;a++){var i=Game.displayStore.getSprite("geo-roll-beam"),j=Game.displayStore.getContainer("geo-roll-seesaw-beam-holder");j.addChild(i),j.position.y=-100,i.position.x=0,i.position.y=0;var k=this.scene.getSeeSawEven();k.beamBody.mass=250,k.beamBody.updateMassProperties(),k.beamBody.position=[0,1e3],k.hingeBody.position=[0,1e3];var l=Game.displayStore.getSprite("geo-roll-beam-hinge-ball");l.position.y=-130,this.mainContainer.addChild(l),this.mainContainer.addChild(j),this.seeSawsEven.push({beamBody:k.beamBody,beamHolder:j,beamBodySprite:i,ballSprite:l,hingeBody:k.hingeBody,hingeConstraint:k.hingeConstraint,active:!1})}this.seeSawsRampUp=new Array;for(var a=0;a<10;a++){var i=Game.displayStore.getSprite("geo-roll-beam"),j=Game.displayStore.getContainer("geo-roll-seesaw-beam-holder");j.addChild(i),j.position.y=-100,i.position.x=0,i.position.y=0;var k=this.scene.getSeeSawRampUp();k.beamBody.mass=250,k.beamBody.updateMassProperties(),k.beamBody.position=[0,1e3],k.hingeBody.position=[0,1e3];var l=Game.displayStore.getSprite("geo-roll-beam-hinge-ball");l.position.y=-130,this.mainContainer.addChild(l),this.mainContainer.addChild(j),this.seeSawsRampUp.push({beamBody:k.beamBody,beamHolder:j,beamBodySprite:i,ballSprite:l,hingeBody:k.hingeBody,hingeConstraint:k.hingeConstraint,active:!1})}this.seeSawsRampDown=new Array;for(var a=0;a<10;a++){var i=Game.displayStore.getSprite("geo-roll-beam"),j=Game.displayStore.getContainer("geo-roll-seesaw-beam-holder");j.addChild(i),j.position.y=-100,i.position.x=0,i.position.y=0;var k=this.scene.getSeeSawRampDown();k.beamBody.mass=250,k.beamBody.updateMassProperties(),k.beamBody.position=[0,1e3],k.hingeBody.position=[0,1e3];var l=Game.displayStore.getSprite("geo-roll-beam-hinge-ball");l.position.y=-130,this.mainContainer.addChild(l),this.mainContainer.addChild(j),this.seeSawsRampDown.push({beamBody:k.beamBody,beamHolder:j,beamBodySprite:i,ballSprite:l,hingeBody:k.hingeBody,hingeConstraint:k.hingeConstraint,active:!1})}this.balls=new Array;for(var a=0;a<10;a++){var e;e=1==Game.getRandom(0,1,!0)?Game.displayStore.getSprite("geo-roll-ball"):Game.displayStore.getSprite("geo-roll-ball-football");var m=Game.displayStore.getSprite("geo-roll-ball-shadow"),g=Game.displayStore.getContainer("geo-roll-ball-holder");e.position.x=0,e.position.y=0,m.position.x=0,m.position.y=0,g.addChild(e),g.addChild(m),g.position.y=-400,this.mainContainer.addChild(g);var n=this.scene.getBallBody();n.mass=800,n.updateMassProperties(),this.balls.push({ballBody:n,ballBodySprite:e,ballBodyShadow:m,ballHolder:g,active:!1})}this.blocks=new Array;for(var a=0;a<10;a++){var e;e=1==Game.getRandom(0,1,!0)?Game.displayStore.getSprite("geo-roll-obstacle-table"):Game.displayStore.getSprite("geo-roll-obstacle-block");var g=Game.displayStore.getContainer("geo-roll-block-holder");e.position.x=0,e.position.y=-8,g.addChild(e),g.position.y=-400,this.mainContainer.addChild(g);var n=this.scene.getBlockBody();n.mass=800,n.updateMassProperties(),this.blocks.push({blockBody:n,blockBodySprite:e,blockHolder:g,active:!1})}this.tallBlocks=new Array;for(var a=0;a<10;a++){e=0==Game.getRandom(0,2,!0)?Game.displayStore.getSprite("geo-roll-tall-block"):1==Game.getRandom(0,1,!0)?Game.displayStore.getSprite("geo-roll-tall-block-2"):Game.displayStore.getSprite("geo-roll-tall-block-3");var g=Game.displayStore.getContainer("geo-roll-tall-block-holder");e.position.x=0,e.position.y=-8,g.addChild(e),g.position.y=-400,this.mainContainer.addChild(g);var n=this.scene.getTallBlockBody();n.mass=2e3,n.updateMassProperties(),this.tallBlocks.push({tallBlockBody:n,tallBlockBodySprite:e,tallBlockHolder:g,active:!1})}this.upRamps=new Array;for(var a=0;a<10;a++){var e=Game.displayStore.getSprite("geo-roll-up-ramp"),g=Game.displayStore.getContainer("geo-roll-up-ramp-holder");e.position.x=0,e.position.y=-28,g.addChild(e),g.position.y=-400,this.mainContainer.addChild(g);var n=this.scene.getUpRampBody();n.mass=800,n.updateMassProperties(),this.upRamps.push({rampBody:n,rampBodySprite:e,rampHolder:g,active:!1})}this.downRamps=new Array;for(var a=0;a<10;a++){var e=Game.displayStore.getSprite("geo-roll-down-ramp"),g=Game.displayStore.getContainer("geo-roll-down-ramp-holder");e.position.x=0,e.position.y=-28,g.addChild(e),g.position.y=-400,this.mainContainer.addChild(g);var n=this.scene.getDownRampBody();n.mass=800,n.updateMassProperties(),this.downRamps.push({rampBody:n,rampBodySprite:e,rampHolder:g,active:!1})}this.triangles=new Array;for(var a=0;a<10;a++){var e=Game.displayStore.getSprite("geo-roll-triangle"),g=Game.displayStore.getContainer("geo-roll-triangle-holder");e.position.x=0,e.position.y=-28,g.addChild(e),g.position.y=-400,this.mainContainer.addChild(g);var n=this.scene.getTriangleBody();n.mass=800,n.updateMassProperties(),this.triangles.push({triangleBody:n,triangleBodySprite:e,triangleHolder:g,active:!1})}},a.prototype.checkContactReset=function(a){var b=!0;return"treat"==this.getBodyType(a)&&(b=!1),b},a.prototype.spawnObstacle=function(a,b,c,d){switch(a){case"block":this.spawnBlock(b,c,d);break;case"alarmBox":this.spawnAlarmBlock(b,c,d);break;case"downRamp":this.spawnDownRamp(b,c,d);break;case"upRamp":this.spawnUpRamp(b,c,d);break;case"ball":this.spawnBall(b,c,d);break;case"seeSawEven":this.spawnSeeSawEven(b,c,d);break;case"seeSawRampUp":this.spawnSeeSawRampUp(b,c,d);break;case"seeSawRampDown":this.spawnSeeSawRampDown(b,c,d);break;case"triangle":this.spawnTriangle(b,c,d);break;case"tallblock":this.spawnTallBlock(b,c,d)}},a.prototype.spawnTreat=function(a,b){for(var c=a+b/2,d=0;d<this.treats.length;d++){if(1==this.treats[d].active)return;return this.treats[d].treatBody.position[0]=c,this.treats[d].treatBody.position[1]=this.treatHeight,this.treats[d].treatBody.invMass=1/this.treats[d].treatBody.mass,this.treats[d].treatBody.invInertia=1/this.treats[d].treatBody.inertia,this.treats[d].treatBody.angle=0,this.treats[d].treatBody.velocity=[0,0],this.treats[d].treatBody.setZeroForce(),this.treats[d].treatBody.angularVelocity=4,this.treats[d].treatBody.angularDamping=0,this.treats[d].active=!0,void this.scene.addBodyToWorld(this.treats[d].treatBody)}},a.prototype.checkAlarmBoxCollision=function(a,b,c){var d=this.getBodyType(a),e=this.getBodyType(b),f=!0,g=!1;"geo"!=d&&"geo"!=e||"alarmBox"!=d&&"alarmBox"!=e||(g=!0),"seeSawBeam"!=d&&"seeSawBeam"!=e||"alarmBox"!=d&&"alarmBox"!=e||(f=this.collisionDistanceCheck(a,d,b,e,c),g=!0),1==g&&1==f&&("alarmBox"==d?this.hitAlarmBox(a):"alarmBox"==e&&this.hitAlarmBox(b))},a.prototype.checkTreatCollision=function(a,b,c){var d=this.getBodyType(a),e=this.getBodyType(b);"geo"!=d&&"geo"!=e||("treat"==d?this.pickedUpGeoTreat(a):"treat"==e&&this.pickedUpGeoTreat(b))},a.prototype.pickedUpGeoTreat=function(a){for(var b=0;b<this.treats.length;b++)if(this.treats[b].treatBody==a)return this.removeTreat(b),void this.scene.pickedUpGeoTreat()},a.prototype.hitAlarmBox=function(a){for(var b=0;b<this.alarmBlocks.length;b++)if(this.alarmBlocks[b].alarmBlockBody==a&&0==this.alarmBlocks[b].hit)return this.alarmBlocks[b].hit=!0,this.alarmBlocks[b].alarmBlockBodySprite.visible=!1,this.alarmBlocks[b].alarmBlockBodyPoppedSprite.visible=!0,this.scene.setAlarmBodySize(this.alarmBlocks[b].alarmBlockBody,this.alarmBlocks[b].alarmShape,this.alarmBlocks[b].alarmPoppedShape,"small"),void this.scene.hitAlarm(this.alarmBlocks[b].alarmBlockHolder)},a.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.prototype.collisionDistanceCheck=function(a,b,c,d,e){var f,g=!1;return"alarmBox"==b?f=a:"alarmBox"==d&&(f=c),this.getDistance(f.position[0],f.position[1],e.position[0],e.position[1])<=this.obstacleContactDistanceBuffer&&(g=!0),g},a.prototype.getBodyType=function(a){for(var b,c=0;c<this.alarmBlocks.length;c++)if(a==this.alarmBlocks[c].alarmBlockBody){b="alarmBox";break}for(var c=0;c<this.seeSawsRampUp.length;c++)if(a==this.seeSawsRampUp[c].beamBody){b="seeSawBeam";break}for(var c=0;c<this.seeSawsRampDown.length;c++)if(a==this.seeSawsRampDown[c].beamBody){b="seeSawBeam";break}for(var c=0;c<this.seeSawsEven.length;c++)if(a==this.seeSawsEven[c].beamBody){b="seeSawBeam";break}for(var c=0;c<this.treats.length;c++)if(a==this.treats[c].treatBody){b="treat";break}return 1==this.scene.checkBodyIsGeo(a)&&(b="geo"),b},a.prototype.spawnBlock=function(a,b,c){for(var d=0;d<this.blocks.length;d++)if(1!=this.blocks[d].active)return this.blocks[d].blockBody.position[0]=a+b/2,this.blocks[d].blockBody.position[1]=this.obstacleYPos,this.blocks[d].blockBody.previousPosition=this.blocks[d].blockBody.position,this.blocks[d].active=!0,this.blocks[d].blockBody.invMass=1/this.blocks[d].blockBody.mass,this.blocks[d].blockBody.invInertia=1/this.blocks[d].blockBody.inertia,this.blocks[d].blockBody.angle=0,this.blocks[d].blockBody.velocity=[0,0],this.blocks[d].blockBody.setZeroForce(),void this.scene.addBodyToWorld(this.blocks[d].blockBody)},a.prototype.spawnTallBlock=function(a,b,c){for(var d=0;d<this.tallBlocks.length;d++)if(1!=this.tallBlocks[d].active)return this.tallBlocks[d].tallBlockBody.position[0]=a+b/2,this.tallBlocks[d].tallBlockBody.position[1]=this.obstacleYPos,this.tallBlocks[d].tallBlockBody.previousPosition=this.tallBlocks[d].tallBlockBody.position,this.tallBlocks[d].active=!0,this.tallBlocks[d].tallBlockBody.invMass=1/this.tallBlocks[d].tallBlockBody.mass,this.tallBlocks[d].tallBlockBody.invInertia=1/this.tallBlocks[d].tallBlockBody.inertia,this.tallBlocks[d].tallBlockBody.angle=0,this.tallBlocks[d].tallBlockBody.velocity=[0,0],this.tallBlocks[d].tallBlockBody.setZeroForce(),void this.scene.addBodyToWorld(this.tallBlocks[d].tallBlockBody)},a.prototype.spawnAlarmBlock=function(a,b,c){if(0!=this.scene.difficutlyLevel&&!(1==this.scene.difficutlyLevel&&Game.getRandom(0,1)<.5))for(var d=0;d<this.alarmBlocks.length;d++)if(1!=this.alarmBlocks[d].active)return this.alarmBlocks[d].alarmBlockBodySprite.visible=!0,this.alarmBlocks[d].alarmBlockBodyPoppedSprite.visible=!1,this.alarmBlocks[d].alarmBlockBody.position[0]=a+b/2,this.alarmBlocks[d].alarmBlockBody.position[1]=this.obstacleYPos,this.alarmBlocks[d].alarmBlockBody.previousPosition=this.alarmBlocks[d].alarmBlockBody.position,this.alarmBlocks[d].active=!0,this.alarmBlocks[d].hit=!1,this.alarmBlocks[d].alarmBlockBody.invMass=1/this.alarmBlocks[d].alarmBlockBody.mass,this.alarmBlocks[d].alarmBlockBody.invInertia=1/this.alarmBlocks[d].alarmBlockBody.inertia,this.alarmBlocks[d].alarmBlockBody.angle=0,this.alarmBlocks[d].alarmBlockBody.velocity=[0,0],this.alarmBlocks[d].alarmBlockBody.setZeroForce(),this.scene.setAlarmBodySize(this.alarmBlocks[d].alarmBlockBody,this.alarmBlocks[d].alarmShape,this.alarmBlocks[d].alarmPoppedShape,"large"),void this.scene.addBodyToWorld(this.alarmBlocks[d].alarmBlockBody)},a.prototype.spawnDownRamp=function(a,b,c){for(var d=0;d<this.downRamps.length;d++)if(1!=this.downRamps[d].active)return this.downRamps[d].rampBodySprite.position.x=c,this.downRamps[d].rampBody.position[0]=a+b/2,this.downRamps[d].rampBody.position[1]=this.obstacleYPos,this.downRamps[d].rampBody.previousPosition=this.downRamps[d].rampBody.position,this.downRamps[d].active=!0,this.downRamps[d].rampBody.invMass=1/this.downRamps[d].rampBody.mass,this.downRamps[d].rampBody.invInertia=1/this.downRamps[d].rampBody.inertia,this.downRamps[d].rampBody.angle=0,this.downRamps[d].rampBody.velocity=[0,0],this.downRamps[d].rampBody.setZeroForce(),void this.scene.addBodyToWorld(this.downRamps[d].rampBody)},a.prototype.spawnUpRamp=function(a,b,c){for(var d=0;d<this.upRamps.length;d++)if(1!=this.upRamps[d].active)return this.upRamps[d].rampBodySprite.position.x=c,this.upRamps[d].rampBody.position[0]=a+b/2,this.upRamps[d].rampBody.position[1]=this.obstacleYPos,this.upRamps[d].rampBody.previousPosition=this.upRamps[d].rampBody.position,this.upRamps[d].active=!0,this.upRamps[d].rampBody.invMass=1/this.upRamps[d].rampBody.mass,this.upRamps[d].rampBody.invInertia=1/this.upRamps[d].rampBody.inertia,this.upRamps[d].rampBody.angle=0,this.upRamps[d].rampBody.velocity=[0,0],this.upRamps[d].rampBody.setZeroForce(),void this.scene.addBodyToWorld(this.upRamps[d].rampBody)},a.prototype.spawnTriangle=function(a,b,c){for(var d=0;d<this.triangles.length;d++)if(1!=this.triangles[d].active)return this.triangles[d].triangleBodySprite.position.x=c,this.triangles[d].triangleBody.position[0]=a+b/2,this.triangles[d].triangleBody.position[1]=this.obstacleYPos,this.triangles[d].triangleBody.previousPosition=this.triangles[d].triangleBody.position,this.triangles[d].active=!0,this.triangles[d].triangleBody.invMass=1/this.triangles[d].triangleBody.mass,this.triangles[d].triangleBody.invInertia=1/this.triangles[d].triangleBody.inertia,this.triangles[d].triangleBody.angle=0,this.triangles[d].triangleBody.velocity=[0,0],this.triangles[d].triangleBody.setZeroForce(),void this.scene.addBodyToWorld(this.triangles[d].triangleBody)},a.prototype.spawnBall=function(a,b,c){for(var d=0;d<this.balls.length;d++)if(1!=this.balls[d].active)return this.balls[d].ballBody.setZeroForce(),this.balls[d].ballBody.position[0]=a+b/2,this.balls[d].ballBody.position[1]=this.obstacleYPos,this.balls[d].ballBody.previousPosition=this.balls[d].ballBody.position,this.balls[d].active=!0,this.balls[d].ballBody.invMass=1/this.balls[d].ballBody.mass,this.balls[d].ballBody.invInertia=1/this.balls[d].ballBody.inertia,this.balls[d].ballBody.angle=0,this.balls[d].ballBody.velocity=[0,0],this.balls[d].ballBody.setZeroForce(),void this.scene.addBodyToWorld(this.balls[d].ballBody)},a.prototype.spawnSeeSawEven=function(a,b,c){for(var d=0;d<this.seeSawsEven.length;d++)if(1!=this.seeSawsEven[d].active)return this.seeSawsEven[d].hingeBody.position[0]=a+b/2,this.seeSawsEven[d].hingeBody.position[1]=this.obstacleYPos+20,this.seeSawsEven[d].hingeBody.previousPosition=this.seeSawsEven[d].hingeBody.position,this.seeSawsEven[d].beamBody.position[0]=a+b/2,this.seeSawsEven[d].beamBody.position[1]=this.obstacleYPos+20,this.seeSawsEven[d].beamBody.invMass=1/this.seeSawsEven[d].beamBody.mass,this.seeSawsEven[d].beamBody.invInertia=1/this.seeSawsEven[d].beamBody.inertia,this.seeSawsEven[d].beamBody.angle=0,this.seeSawsEven[d].beamBody.velocity=[0,0],this.seeSawsEven[d].beamBody.setZeroForce(),this.seeSawsEven[d].active=!0,this.seeSawsEven[d].ballSprite.position.x=a+b/2,this.seeSawsEven[d].ballSprite.position.y=520,this.seeSawsEven[d].ballSprite.scale.x=1.2,this.seeSawsEven[d].ballSprite.scale.y=1.2,this.scene.addBodyToWorld(this.seeSawsEven[d].beamBody),this.scene.addBodyToWorld(this.seeSawsEven[d].hingeBody),void this.scene.addConstraintToWorld(this.seeSawsEven[d].hingeConstraint)},a.prototype.spawnSeeSawRampUp=function(a,b,c){for(var d=0;d<this.seeSawsRampUp.length;d++)if(1!=this.seeSawsRampUp[d].active)return this.seeSawsRampUp[d].hingeBody.position[0]=a+b/2,this.seeSawsRampUp[d].hingeBody.position[1]=this.obstacleYPos+20,this.seeSawsRampUp[d].hingeBody.previousPosition=this.seeSawsRampUp[d].hingeBody.position,this.seeSawsRampUp[d].beamBody.position[0]=a+b/2,this.seeSawsRampUp[d].beamBody.position[1]=this.obstacleYPos+20,this.seeSawsRampUp[d].beamBody.invMass=1/this.seeSawsRampUp[d].beamBody.mass,this.seeSawsRampUp[d].beamBody.invInertia=1/this.seeSawsRampUp[d].beamBody.inertia,this.seeSawsRampUp[d].beamBody.angle=0,this.seeSawsRampUp[d].beamBody.velocity=[0,0],this.seeSawsRampUp[d].beamBody.setZeroForce(),this.seeSawsRampUp[d].active=!0,this.seeSawsRampUp[d].ballSprite.position.x=a+b/2,this.seeSawsRampUp[d].ballSprite.position.y=520,this.seeSawsRampUp[d].ballSprite.scale.x=1.2,this.seeSawsRampUp[d].ballSprite.scale.y=1.2,this.scene.addBodyToWorld(this.seeSawsRampUp[d].beamBody),this.scene.addBodyToWorld(this.seeSawsRampUp[d].hingeBody),void this.scene.addConstraintToWorld(this.seeSawsRampUp[d].hingeConstraint)},a.prototype.spawnSeeSawRampDown=function(a,b,c){for(var d=0;d<this.seeSawsRampDown.length;d++)if(1!=this.seeSawsRampDown[d].active)return this.seeSawsRampDown[d].hingeBody.position[0]=a+b/2,this.seeSawsRampDown[d].hingeBody.position[1]=this.obstacleYPos+20,this.seeSawsRampDown[d].hingeBody.previousPosition=this.seeSawsRampDown[d].hingeBody.position,this.seeSawsRampDown[d].beamBody.position[0]=a+b/2,this.seeSawsRampDown[d].beamBody.position[1]=this.obstacleYPos+20,this.seeSawsRampDown[d].beamBody.invMass=1/this.seeSawsRampDown[d].beamBody.mass,this.seeSawsRampDown[d].beamBody.invInertia=1/this.seeSawsRampDown[d].beamBody.inertia,this.seeSawsRampDown[d].beamBody.angle=0,this.seeSawsRampDown[d].beamBody.velocity=[0,0],this.seeSawsRampDown[d].beamBody.setZeroForce(),this.seeSawsRampDown[d].active=!0,this.seeSawsRampDown[d].ballSprite.position.x=a+b/2,this.seeSawsRampDown[d].ballSprite.position.y=520,this.seeSawsRampDown[d].ballSprite.scale.x=1.2,this.seeSawsRampDown[d].ballSprite.scale.y=1.2,this.scene.addBodyToWorld(this.seeSawsRampDown[d].beamBody),this.scene.addBodyToWorld(this.seeSawsRampDown[d].hingeBody),void this.scene.addConstraintToWorld(this.seeSawsRampDown[d].hingeConstraint)},a.prototype.tick=function(a){this.geoPos=a,this.moveBlocks(a),this.moveUpRamps(a),this.moveDownRamps(a),this.moveAlarmBlocks(a),this.moveBalls(a),this.moveSeeSawsEven(a),this.moveSeeSawsRampUp(a),this.moveSeeSawsRampDown(a),this.moveTriangles(a),this.moveTallBlocks(a),this.moveTreats(a)},a.prototype.moveTreats=function(a){for(var b=0;b<this.treats.length;b++){var c=this.treats[b];0!=c.active&&(c.treatSprite.position.x=c.treatBody.position[0],c.treatSprite.position.y=Game.stageHeight-c.treatBody.position[1],c.treatSprite.rotation=-c.treatBody.angle,c.treatShineSprite.position.x=c.treatSprite.position.x,c.treatShineSprite.position.y=c.treatSprite.position.y,c.treatShineSprite.rotation=-c.treatSprite.rotation/2,c.treatShineSprite.scale.x=c.treatShineSprite.scale.y=1+Math.sin(c.treatShineSprite.rotation)/3,c.treatBody.position[0]<a-this.removeBehindDistance&&this.removeTreat(b))}},a.prototype.moveAlarmBlocks=function(a){for(var b=0;b<this.alarmBlocks.length;b++){var c=this.alarmBlocks[b];0!=c.active&&(c.alarmBlockHolder.position.x=c.alarmBlockBody.position[0],c.alarmBlockHolder.position.y=Game.stageHeight-c.alarmBlockBody.position[1],c.alarmBlockHolder.rotation=-c.alarmBlockBody.angle,c.alarmBlockBody.position[0]<a-this.removeBehindDistance&&this.removeAlarmBlock(b))}},a.prototype.moveTallBlocks=function(a){for(var b=0;b<this.tallBlocks.length;b++){var c=this.tallBlocks[b];0!=c.active&&(c.tallBlockHolder.position.x=c.tallBlockBody.position[0],c.tallBlockHolder.position.y=Game.stageHeight-c.tallBlockBody.position[1],c.tallBlockHolder.rotation=-c.tallBlockBody.angle,c.tallBlockBody.position[0]<a-this.removeBehindDistance&&this.removeTallBlock(b))}},a.prototype.moveBlocks=function(a){for(var b=0;b<this.blocks.length;b++){var c=this.blocks[b];0!=c.active&&(c.blockHolder.position.x=c.blockBody.position[0],c.blockHolder.position.y=Game.stageHeight-c.blockBody.position[1],c.blockHolder.rotation=-c.blockBody.angle,c.blockBody.position[0]<a-this.removeBehindDistance&&this.removeBlock(b))}},a.prototype.moveUpRamps=function(a){for(var b=0;b<this.upRamps.length;b++){var c=this.upRamps[b];0!=c.active&&(c.rampHolder.position.x=c.rampBody.position[0],c.rampHolder.position.y=Game.stageHeight-c.rampBody.position[1],c.rampHolder.rotation=-c.rampBody.angle,c.rampBody.position[0]<a-this.removeBehindDistance&&this.removeUpRamp(b))}},a.prototype.moveDownRamps=function(a){for(var b=0;b<this.downRamps.length;b++){var c=this.downRamps[b];0!=c.active&&(c.rampHolder.position.x=c.rampBody.position[0],
c.rampHolder.position.y=Game.stageHeight-c.rampBody.position[1],c.rampHolder.rotation=-c.rampBody.angle,c.rampBody.position[0]<a-this.removeBehindDistance&&this.removeDownRamp(b))}},a.prototype.moveTriangles=function(a){for(var b=0;b<this.triangles.length;b++){var c=this.triangles[b];0!=c.active&&(c.triangleHolder.position.x=c.triangleBody.position[0],c.triangleHolder.position.y=Game.stageHeight-c.triangleBody.position[1],c.triangleHolder.rotation=-c.triangleBody.angle,c.triangleBody.position[0]<a-this.removeBehindDistance&&this.removeTriangle(b))}},a.prototype.moveBalls=function(a){for(var b=0;b<this.balls.length;b++){var c=this.balls[b];0!=c.active&&(c.ballHolder.position.x=c.ballBody.position[0],c.ballHolder.position.y=Game.stageHeight-c.ballBody.position[1],c.ballHolder.rotation=-c.ballBody.angle,c.ballBodyShadow.rotation=c.ballBody.angle,c.ballBody.position[0]<a-this.removeBehindDistance&&this.removeBall(b))}},a.prototype.moveSeeSawsEven=function(a){for(var b=0;b<this.seeSawsEven.length;b++){var c=this.seeSawsEven[b];0!=c.active&&(c.beamHolder.position.x=c.beamBody.position[0],c.beamHolder.position.y=Game.stageHeight-c.beamBody.position[1],c.beamHolder.rotation=-c.beamBody.angle,c.hingeBody.position[0]<a-this.removeBehindDistance&&this.removeSeeSawEven(b))}},a.prototype.moveSeeSawsRampUp=function(a){for(var b=0;b<this.seeSawsRampUp.length;b++){var c=this.seeSawsRampUp[b];0!=c.active&&(c.beamHolder.position.x=c.beamBody.position[0],c.beamHolder.position.y=Game.stageHeight-c.beamBody.position[1],c.beamHolder.rotation=-c.beamBody.angle,c.hingeBody.position[0]<a-this.removeBehindDistance&&this.removeSeeSawRampUp(b))}},a.prototype.moveSeeSawsRampDown=function(a){for(var b=0;b<this.seeSawsRampDown.length;b++){var c=this.seeSawsRampDown[b];0!=c.active&&(c.beamHolder.position.x=c.beamBody.position[0],c.beamHolder.position.y=Game.stageHeight-c.beamBody.position[1],c.beamHolder.rotation=-c.beamBody.angle,c.hingeBody.position[0]<a-this.removeBehindDistance&&this.removeSeeSawRampDown(b))}},a.prototype.removeBlock=function(a){this.blocks[a].active=!1,this.blocks[a].blockHolder.position.y=-400,this.scene.removeBodyFromWorld(this.blocks[a].blockBody)},a.prototype.removeTallBlock=function(a){this.tallBlocks[a].active=!1,this.tallBlocks[a].tallBlockHolder.position.y=-400,this.scene.removeBodyFromWorld(this.tallBlocks[a].tallBlockBody)},a.prototype.removeAlarmBlock=function(a){this.alarmBlocks[a].active=!1,this.alarmBlocks[a].alarmBlockHolder.position.y=-400,this.scene.removeBodyFromWorld(this.alarmBlocks[a].alarmBlockBody)},a.prototype.removeTreat=function(a){this.treats[a].active=!1,this.treats[a].treatSprite.position.y=-400,this.treats[a].treatShineSprite.position.y=-400,this.scene.removeBodyFromWorld(this.treats[a].treatBody)},a.prototype.removeUpRamp=function(a){this.upRamps[a].active=!1,this.upRamps[a].rampHolder.position.y=-400,this.scene.removeBodyFromWorld(this.upRamps[a].rampBody)},a.prototype.removeDownRamp=function(a){this.downRamps[a].active=!1,this.downRamps[a].rampHolder.position.y=-400,this.scene.removeBodyFromWorld(this.downRamps[a].rampBody)},a.prototype.removeBall=function(a){this.balls[a].active=!1,this.balls[a].ballHolder.position.y=-400,this.scene.removeBodyFromWorld(this.balls[a].ballBody)},a.prototype.removeTriangle=function(a){this.triangles[a].active=!1,this.triangles[a].triangleHolder.position.y=-400,this.scene.removeBodyFromWorld(this.triangles[a].triangleBody)},a.prototype.removeSeeSawEven=function(a){this.seeSawsEven[a].active=!1,this.seeSawsEven[a].beamHolder.position.y=-400,this.seeSawsEven[a].ballSprite.position.y=-400,this.scene.removeBodyFromWorld(this.seeSawsEven[a].beamBody),this.scene.removeBodyFromWorld(this.seeSawsEven[a].hingeBody),this.scene.removeConstraintFromWorld(this.seeSawsEven[a].hingeConstraint)},a.prototype.removeSeeSawRampUp=function(a){this.seeSawsRampUp[a].active=!1,this.seeSawsRampUp[a].beamHolder.position.y=-400,this.seeSawsRampUp[a].ballSprite.position.y=-400,this.scene.removeBodyFromWorld(this.seeSawsRampUp[a].beamBody),this.scene.removeBodyFromWorld(this.seeSawsRampUp[a].hingeBody),this.scene.removeConstraintFromWorld(this.seeSawsRampUp[a].hingeConstraint)},a.prototype.removeSeeSawRampDown=function(a){this.seeSawsRampDown[a].active=!1,this.seeSawsRampDown[a].beamHolder.position.y=-400,this.seeSawsRampDown[a].ballSprite.position.y=-400,this.scene.removeBodyFromWorld(this.seeSawsRampDown[a].beamBody),this.scene.removeBodyFromWorld(this.seeSawsRampDown[a].hingeBody),this.scene.removeConstraintFromWorld(this.seeSawsRampDown[a].hingeConstraint)},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.destroy=function(){for(var a=0;a<this.alarmBlocks.length;a++)Game.displayStore.returnPooledItem(this.alarmBlocks[a].alarmBlockBodySprite),Game.displayStore.returnPooledItem(this.alarmBlocks[a].alarmBlockBodyPoppedSprite),Game.displayStore.returnPooledItem(this.alarmBlocks[a].alarmBlockHolder);for(var a=0;a<this.blocks.length;a++)this.blocks[a].blockHolder.removeAllChildren(),Game.displayStore.returnPooledItem(this.blocks[a].blockBodySprite),Game.displayStore.returnPooledItem(this.blocks[a].blockHolder);for(var a=0;a<this.tallBlocks.length;a++)Game.displayStore.returnPooledItem(this.tallBlocks[a].tallBlockBodySprite),Game.displayStore.returnPooledItem(this.tallBlocks[a].tallBlockHolder);for(var a=0;a<this.upRamps.length;a++)Game.displayStore.returnPooledItem(this.upRamps[a].rampHolder),Game.displayStore.returnPooledItem(this.upRamps[a].rampBodySprite);for(var a=0;a<this.downRamps.length;a++)Game.displayStore.returnPooledItem(this.downRamps[a].rampHolder),Game.displayStore.returnPooledItem(this.downRamps[a].rampBodySprite);for(var a=0;a<this.balls.length;a++)Game.displayStore.returnPooledItem(this.balls[a].ballHolder),Game.displayStore.returnPooledItem(this.balls[a].ballBodySprite),Game.displayStore.returnPooledItem(this.balls[a].ballBodyShadow);for(var a=0;a<this.seeSawsRampDown.length;a++)Game.displayStore.returnPooledItem(this.seeSawsRampDown[a].beamHolder),Game.displayStore.returnPooledItem(this.seeSawsRampDown[a].beamBodySprite),Game.displayStore.returnPooledItem(this.seeSawsRampDown[a].ballSprite);for(var a=0;a<this.seeSawsRampUp.length;a++)Game.displayStore.returnPooledItem(this.seeSawsRampUp[a].beamHolder),Game.displayStore.returnPooledItem(this.seeSawsRampUp[a].beamBodySprite),Game.displayStore.returnPooledItem(this.seeSawsRampUp[a].ballSprite);for(var a=0;a<this.seeSawsEven.length;a++)Game.displayStore.returnPooledItem(this.seeSawsEven[a].beamHolder),Game.displayStore.returnPooledItem(this.seeSawsEven[a].beamBodySprite),Game.displayStore.returnPooledItem(this.seeSawsEven[a].ballSprite);for(var a=0;a<this.triangles.length;a++)Game.displayStore.returnPooledItem(this.triangles[a].triangleHolder),Game.displayStore.returnPooledItem(this.triangles[a].triangleBodySprite);for(var a=0;a<this.treats.length;a++)Game.displayStore.returnPooledItem(this.treats[a].treatSprite),Game.displayStore.returnPooledItem(this.treats[a].treatShineSprite)},a}(),GeoRollLevelChunk=function(){function a(a,b){this.levelManagerRef=a,this.scene=b,this.chunkWidth=0,this.chunkEndBuffer=300,this.startPos=0,this.chunkObstacles=new Array,this.widths=new Array,this.widths.push({type:"block",width:122,offset:0}),this.widths.push({type:"alarmBox",width:37,offset:0}),this.widths.push({type:"downRamp",width:520,offset:80}),this.widths.push({type:"upRamp",width:520,offset:-80}),this.widths.push({type:"ball",width:121,offset:0}),this.widths.push({type:"seeSawEven",width:520,offset:0}),this.widths.push({type:"seeSawRampDown",width:520,offset:0}),this.widths.push({type:"seeSawRampUp",width:520,offset:0}),this.widths.push({type:"triangle",width:130,offset:0}),this.widths.push({type:"tallblock",width:25,offset:0})}return a.prototype.setChunkId=function(a){this.chunkID=a},a.prototype.addObstacleData=function(a,b){for(var c,d,e=0;e<this.widths.length;e++)if(this.widths[e].type==a){c=this.widths[e].width,d=this.widths[e].offset;break}this.chunkWidth=b+c/2+ +d+this.chunkEndBuffer,this.chunkObstacles.push({type:a,loc:b,width:c,offset:d})},a.prototype.spawnChunk=function(a){for(var b=a,c=0;c<this.chunkObstacles.length;c++)this.scene.spawnObstacleFromChunkParse(this.chunkObstacles[c].type,b+this.chunkObstacles[c].loc,this.chunkObstacles[c].width,this.chunkObstacles[c].offset)},a.prototype.tick=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.destroy=function(){},a}(),TrashPhysicsManager=function(){function a(a,b,c){this.physicsEnabled=!0,this.resizeRatio=1,this.scene=a,this.mainContainer=b,this.corridorWidth=c}return a.prototype.initPhysicsWorld=function(){this.world=new p2.World({gravity:[0,-1e3]}),this.collisionGroupLevel=Math.pow(2,0),this.collisionGroupLincoln=Math.pow(2,1),this.collisionGroupBags=Math.pow(2,2),this.world.defaultContactMaterial.restitution=.2,this.world.defaultContactMaterial.friction=.4,this.sideWallWidth=100,this.binWallHPos=280,this.kickForce=5e4,this.lincolnMaxRunForce=8e5,this.floorPlane=new p2.Plane,this.floorBody=new p2.Body({mass:0,position:[0,Game.stageHeight-550],angle:0}),this.floorPlane.collisionGroup=this.collisionGroupLevel,this.floorPlane.collisionMask=this.collisionGroupLincoln|this.collisionGroupBags,this.floorBody.addShape(this.floorPlane),this.world.addBody(this.floorBody),this.heartBoxShape=new p2.Box({width:90,height:90}),this.heartBoxBody=new p2.Body({mass:20}),this.heartBoxBody.addShape(this.heartBoxShape),this.heartBoxShape.collisionGroup=this.collisionGroupBags,this.heartBoxShape.collisionMask=this.collisionGroupLevel,this.particleSensorPlane=new p2.Plane,this.particleSensorPlane.sensor=!0,this.particleSensorBody=new p2.Body({mass:0,position:[0,-100]}),this.particleSensorBody.addShape(this.particleSensorPlane),this.world.addBody(this.particleSensorBody),this.lincolnShape=new p2.Box({width:106,height:215}),this.lincolnBody=new p2.Body({mass:80,position:[this.corridorWidth/2,Game.stageHeight-460]}),this.lincolnBody.addShape(this.lincolnShape),this.lincolnShape.collisionGroup=this.collisionGroupLincoln,this.lincolnShape.collisionMask=this.collisionGroupLevel,this.lincolnBody.damping=.9999999,this.world.addBody(this.lincolnBody),this.leftWallPlane=new p2.Plane,this.leftWallBody=new p2.Body({mass:0,angle:.5*-Math.PI,position:[this.sideWallWidth,0]}),this.leftWallBody.addShape(this.leftWallPlane),this.leftWallPlane.collisionGroup=this.collisionGroupLevel,this.leftWallPlane.collisionMask=this.collisionGroupLincoln|this.collisionGroupBags,this.world.addBody(this.leftWallBody),this.rightWallPlane=new p2.Plane,this.rightWallBody=new p2.Body({mass:0,angle:.5*Math.PI,position:[this.corridorWidth-this.sideWallWidth,0]}),this.rightWallBody.addShape(this.rightWallPlane),this.rightWallPlane.collisionGroup=this.collisionGroupLevel,this.rightWallPlane.collisionMask=this.collisionGroupLincoln|this.collisionGroupBags,this.world.addBody(this.rightWallBody),this.leftBinWallBody=new p2.Body({mass:0,position:[this.binWallHPos,Game.stageHeight-460]});var a=[[-15,-83],[15,-83],[15,83],[-15,33]];this.leftBinWallBody.fromPolygon(a,{skipAdjustCenterOfMass:!0}),this.leftBinWallBody.shapes[0].collisionGroup=this.collisionGroupLevel,this.leftBinWallBody.shapes[0].collisionMask=this.collisionGroupLincoln|this.collisionGroupBags,this.world.addBody(this.leftBinWallBody),this.rightBinWallBody=new p2.Body({mass:0,position:[this.corridorWidth-this.binWallHPos,Game.stageHeight-460]});var b=[[-15,-83],[15,-83],[15,33],[-15,83]];this.rightBinWallBody.fromPolygon(b,{skipAdjustCenterOfMass:!0}),this.rightBinWallBody.shapes[0].collisionGroup=this.collisionGroupLevel,this.rightBinWallBody.shapes[0].collisionMask=this.collisionGroupLincoln|this.collisionGroupBags,this.world.addBody(this.rightBinWallBody);var c=Math.abs(this.sideWallWidth-this.binWallHPos)-100;this.leftBinSensorShape=new p2.Box({width:c,height:25}),this.leftBinSensorShape.sensor=!0,this.leftBinSensorShape.collisionGroup=this.collisionGroupLevel,this.leftBinSensorShape.collisionMask=this.collisionGroupBags,this.leftBinSensorBody=new p2.Body({mass:0,position:[this.sideWallWidth+c/2,Game.stageHeight-550]}),this.leftBinSensorBody.addShape(this.leftBinSensorShape),this.world.addBody(this.leftBinSensorBody),this.rightBinSensorShape=new p2.Box({width:c,height:25}),this.rightBinSensorShape.sensor=!0,this.rightBinSensorShape.collisionGroup=this.collisionGroupLevel,this.rightBinSensorShape.collisionMask=this.collisionGroupBags,this.rightBinSensorBody=new p2.Body({mass:0,position:[this.corridorWidth-this.sideWallWidth-c/2,Game.stageHeight-550]}),this.rightBinSensorBody.addShape(this.rightBinSensorShape),this.world.addBody(this.rightBinSensorBody),this.lincolnMoving=!1,this.lincolnRunning=!1;var d=this;this.world.on("beginContact",function(a){d.checkCollision(d,a)}),this.world.on("endContact",function(a){d.checkEndCollision(d,a)}),this.world.on("postStep",function(a){}),this.physicsEnabled=!0},a.prototype.addBodyToWorld=function(a){this.world.addBody(a)},a.prototype.removeBodyFromWorld=function(a){this.world.removeBody(a)},a.prototype.removeConstraintFromWorld=function(a){this.world.removeConstraint(a)},a.prototype.addConstraintToWorld=function(a){this.world.addConstraint(a)},a.prototype.startMovingLincoln=function(a){if(1!=this.lincolnMoving){this.lincolnMoving=!0,this.lincolnRunning=!0;var b=a*this.lincolnMaxRunForce;this.lincolnCurrentMovingForce=0,this.lincolnSpeedTween=this.scene.killTween(this.lincolnSpeedTween),this.lincolnSpeedTween=TweenMax.to(this,.5,{lincolnCurrentMovingForce:b,ease:Power0.easeIn})}},a.prototype.jiggleHeartBox=function(){if(!(Game.getRandom(0,1)<.3)){var a=0-.5*Math.PI,b=Game.getRandom(a-.2,a+.2),c=Math.cos(b),d=Math.sin(-b),e=Game.getRandom(3e3,6e3);this.heartBoxBody.applyImpulse([c*e,d*e])}},a.prototype.changeMovingLincolnDir=function(a){this.lincolnSpeedTween=this.scene.killTween(this.lincolnSpeedTween);var b=a*this.lincolnMaxRunForce;this.lincolnCurrentMovingForce=b},a.prototype.stopLincolnMoving=function(){this.lincolnMoving=!1,this.lincolnRunning=!1,this.lincolnSpeedTween=this.scene.killTween(this.lincolnSpeedTween),this.lincolnCurrentMovingForce=0},a.prototype.spawnHeartBoxAtLoc=function(a){this.heartBoxBody.position[0]=a.x,this.heartBoxBody.position[1]=Game.stageHeight-a.y,this.heartBoxBody.applyForce([Game.getRandom(6e4,12e4),0]),this.world.addBody(this.heartBoxBody)},a.prototype.removeHeartBoxBody=function(){this.heartBoxBody.position[1]=Game.stageHeight-1e3,this.world.removeBody(this.heartBoxBody)},a.prototype.getPhysicsBag=function(){var a=new p2.Circle({radius:60}),b=new p2.Body({mass:30,position:[0,Game.stageHeight-1e3]});return b.angularDamping=.9,b.damping=.5,a.collisionGroup=this.collisionGroupBags,a.collisionMask=this.collisionGroupLevel,b.addShape(a),{shape:a,body:b}},a.prototype.getPhysicsBagWasteParticle=function(){var a=new p2.Circle({radius:20}),b=new p2.Body({mass:Game.getRandom(10,30),position:[0,Game.stageHeight-1e3]});return b.damping=.2,b.addShape(a),{shape:a,body:b}},a.prototype.checkCollision=function(a,b){switch(b.bodyA!=a.leftBinWallBody&&b.bodyB!=a.leftBinWallBody||1!=a.scene.checkBodyIsBag(b.bodyB)&&1!=a.scene.checkBodyIsBag(b.bodyA)||a.scene.bagHitBinWall(),b.bodyA!=a.rightBinWallBody&&b.bodyB!=a.rightBinWallBody||1!=a.scene.checkBodyIsBag(b.bodyB)&&1!=a.scene.checkBodyIsBag(b.bodyA)||a.scene.bagHitBinWall(),b.bodyA!=a.floorBody&&b.bodyB!=a.floorBody||a.scene.checkBagContact(b.bodyA,b.bodyB),a.particleSensorBody){case b.bodyA:a.checkParticleSensor(a,b.bodyB);break;case b.bodyB:a.checkParticleSensor(a,b.bodyA)}switch(a.leftBinSensorBody){case b.bodyA:a.checkBinContact(a,b.bodyB,"left");break;case b.bodyB:a.checkBinContact(a,b.bodyA,"left")}switch(a.rightBinSensorBody){case b.bodyA:a.checkBinContact(a,b.bodyB,"right");break;case b.bodyB:a.checkBinContact(a,b.bodyA,"right")}},a.prototype.checkEndCollision=function(a,b){b.bodyA!=a.floorBody&&b.bodyB!=a.floorBody||a.scene.checkBagEndContact(b.bodyA,b.bodyB)},a.prototype.checkBinContact=function(a,b,c){0!=a.scene.checkBodyIsBag(b)&&a.scene.bagInBin(b,c)},a.prototype.checkParticleSensor=function(a,b){a.scene.particleRemove(b)},a.prototype.kickBag=function(a,b,c,d){var e=this.kickForce*d;c.applyImpulse([a*e,b*e])},a.prototype.resizeElements=function(a,b){this.canvasHeight=b,this.canvasWidth=a,this.canvasOrigHeight&&(this.resizeRatio=this.canvasHeight/this.canvasOrigHeight)},a.prototype.stepPhysics=function(){0!=this.physicsEnabled&&this.world&&(this.world.step(1/Game.fps),1==this.lincolnMoving&&this.lincolnBody.applyForce([this.lincolnCurrentMovingForce,0]))},a.prototype.killPhysicsWorld=function(a){},a.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.prototype.getAngle=function(a,b,c,d){if(a!=c||b!=d){var e=a-c,f=d-b;return Math.atan2(f,e)}},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.destroy=function(){var a=this;TweenMax.delayedCall(.2,function(){a.world.clear()})},a}(),TrashBagManager=function(){function a(a,b,c,d,e){this.scene=a,this.mainHolderRef=b,this.corridorWidth=c,this.leftTimers=new Array,this.rightTimers=new Array,this.onScreenTimers=new Array,this.leftArrowAngle=0-Math.PI/2,this.rightArrowAngle=0+Math.PI/2,this.knotCenterOffset={x:0,y:-20},this.knotPosRadius=45,this.squidgeOffset=70,this.doorSpacing=d,this.timerEaseAmount=5,this.timerYPos=Game.stageHeight-50,this.lincRef=e,this.spawnPoints=new Array,this.spawnPoints.push({x:this.corridorWidth/2-this.doorSpacing,y:Game.stageHeight-300}),this.spawnPoints.push({x:this.corridorWidth/2,y:Game.stageHeight-300}),this.spawnPoints.push({x:this.corridorWidth/2+this.doorSpacing,y:Game.stageHeight-300})}return a.prototype.createBags=function(){this.bags=new Array;for(var a=0;a<10;a++){var b=Game.displayStore.getMovieClip("trash-land-frames");b.position.y=-1e3,b.animationSpeed=.3,b.loop=!1;var c=Game.displayStore.getMovieClip("trash-pop-anim");c.position.y=-1e3,c.animationSpeed=.3,c.loop=!1;var d=Game.displayStore.getContainer("trash-bag-holder-outer");d.position.y=-1e3;var e=Game.displayStore.getContainer("trash-bag-holder"),f=Game.displayStore.getSprite("trash-bag"),g=Game.displayStore.getSprite("trash-bag-knot");g.position.y=-40;var h=Game.displayStore.getSprite("trash-bag-shadow");h.position.y=550,e.addChild(g),e.addChild(f),d.addChild(e),d.setRegPointPixels(0,this.squidgeOffset);var i=this.scene.getPhysicsBag();this.mainHolderRef.addChild(d),this.mainHolderRef.addChild(h),this.mainHolderRef.addChild(b),this.mainHolderRef.addChild(c);var j=new TrashBagTimer(this.scene,this,this.mainHolderRef,e,this.lincRef);this.bags.push({popAnimation:c,landAnimation:b,squidging:!1,squidgeTimeline:null,holderOuter:d,holder:e,sprite:f,shadow:h,knot:g,shape:i.shape,body:i.body,active:!1,timer:j,pointScored:!1})}},a.prototype.createBagTimers=function(){for(var a=0;a<this.bags.length;a++)this.scene.container.addChild(this.bags[a].timer.timerHolder)},a.prototype.createWasteParticles=function(){this.bagParticles=new Array;for(var a=0;a<6;a++){var b=Game.displayStore.getSprite("rubbish-particle-"+String(a+1));b.position.y=-1e3;var c=this.scene.getPhysicsBagWasteParticle();this.mainHolderRef.addChild(b),this.bagParticles.push({sprite:b,shape:c.shape,body:c.body,active:!1})}},a.prototype.bagBurst=function(a){for(var b=0;b<this.bags.length;b++)if(a==this.bags[b].timer){this.bags[b].active=!1,this.bags[b].holderOuter.position.y=-1e3,this.bags[b].shadow.position.y=-1e3,this.bags[b].popAnimation.position.x=this.bags[b].holderOuter.position.x,this.bags[b].popAnimation.position.y=500,this.bags[b].popAnimation.gotoAndStop(0),this.bags[b].popAnimation.play();break}this.popBagParticles(this.bags[b].body),this.scene.bagBurst()},a.prototype.popBagParticles=function(a){for(var b=0;b<this.bagParticles.length;b++){var c=Game.getRandom(20,60),d=Game.getRandom(0,2*Math.PI),e=Math.cos(d),f=Math.sin(-d),g=a.position[0]+c*e,h=a.position[1]+c*f;this.bagParticles[b].body.position[0]=g,this.bagParticles[b].body.position[1]=h,this.bagParticles[b].active=!0;var i=Game.getRandom(1e3,5e3);this.bagParticles[b].body.invMass=1/this.bagParticles[b].body.mass,this.bagParticles[b].body.invInertia=1/this.bagParticles[b].body.inertia,this.bagParticles[b].body.angle=0,this.bagParticles[b].body.velocity=[0,0],this.bagParticles[b].body.setZeroForce(),this.scene.addWasteParticleBody(this.bagParticles[b].body),this.bagParticles[b].body.applyImpulse([e*i,f*i])}},a.prototype.pauseAllBagTimers=function(){for(var a=0;a<this.bags.length;a++)0!=this.bags[a].active&&this.bags[a].timer.pauseTimerPowerUp()},a.prototype.squidgeBagFloor=function(a,b){var c=Math.abs(b);c>600&&(c=600);var d=c/600*.25;1!=this.bags[a].squidging&&(this.bags[a].squidging=!0,this.bags[a].squidgeTimeline=this.scene.killTween(this.bags[a].squidgeTimeline),this.bags[a].squidgeTimeline=new TimelineMax({onComplete:this.endSquidging,onCompleteParams:[this,a]}),this.bags[a].squidgeTimeline.add(TweenMax.to(this.bags[a].holderOuter.scale,.1,{y:1-d,x:1+d,ease:Sine.easeOut})),this.bags[a].squidgeTimeline.add(TweenMax.to(this.bags[a].holderOuter.scale,.1,{y:1,x:1,ease:Sine.easeIn})))},a.prototype.endSquidging=function(a,b){a.bags[b].squidging=!1},a.prototype.checkBagContact=function(a,b){for(var c=0;c<this.bags.length;c++)if(this.bags[c].body==a||this.bags[c].body==b)return this.playLandAnimation(c),this.squidgeBagFloor(c,this.bags[c].body.velocity[1]),void this.bags[c].timer.resumeTimerOnFloor()},a.prototype.checkBodyIsBag=function(a){for(var b=!1,c=0;c<this.bags.length;c++)if(this.bags[c].body==a){b=!0;break}return b},a.prototype.playLandAnimation=function(a){1!=this.bags[a].squidging&&(this.bags[a].landAnimation.position.x=this.bags[a].holderOuter.position.x,this.bags[a].landAnimation.gotoAndStop(0),this.bags[a].landAnimation.play(),0==Game.getRandom(0,1,!0)?Game.playSound("hit-2"):Game.playSound("hit"))},a.prototype.checkBagEndContact=function(a,b){for(var c=0;c<this.bags.length;c++)if(this.bags[c].body==a||this.bags[c].body==b)return void this.bags[c].timer.pauseTimerOffFloor()},a.prototype.bagInBin=function(a){for(var b=0;b<this.bags.length;b++)if(this.bags[b].body==a)return this.bags[b].pointScored=!0,this.bags[b].active=!1,this.bags[b].timer.deactivateTimer(),this.bags[b].holderOuter.position.y=-1e3,this.bags[b].shadow.position.y=-1e3,void(this.bags[b].landAnimation.position.y=-1e3)},a.prototype.bagAllowedToScore=function(a){for(var b=!0,c=0;c<this.bags.length;c++)if(this.bags[c].body==a&&1==this.bags[c].pointScored){b=!1;break}return b},a.prototype.deactivateWasteParticle=function(a){for(var b=0;b<this.bagParticles.length;b++)if(this.bagParticles[b].body==a)return void(this.bagParticles[b].active=!1)},a.prototype.spawnBagAtLoc=function(a,b,c){var d,e=Game.getRandom(3e5,6e5);"left"==c?d=Game.getRandom(.5*-Math.PI-.5,.5*-Math.PI+.5):"right"==c&&(d=Game.getRandom(.5*Math.PI-.5,.5*Math.PI+.5));for(var f=Math.sin(d),g=Math.cos(d),h=0;h<this.bags.length;h++)if(1!=this.bags[h].active)return this.bags[h].body.invMass=1/this.bags[h].body.mass,this.bags[h].body.invInertia=1/this.bags[h].body.inertia,this.bags[h].body.angle=0,this.bags[h].body.velocity=[0,0],this.bags[h].body.setZeroForce(),this.bags[h].holder.rotation=0,this.bags[h].active=!0,this.bags[h].body.position[0]=a.x,this.bags[h].body.position[1]=Game.stageHeight-a.y,this.bags[h].body.angle=0,this.bags[h].body.applyForce([f*e,g*e]),this.bags[h].timer.activateTimer(b),this.scene.addBagBody(this.bags[h].body),this.bags[h].shadow.position.y=550,this.bags[h].landAnimation.position.y=510,void(this.bags[h].pointScored=!1)},a.prototype.getClosestBag=function(a){for(var b=new Array,c=0;c<this.bags.length;c++)1==this.bags[c].active&&b.push({dist:Math.abs(a.position.x-this.bags[c].holderOuter.position.x),index:c});if(0!=b.length){b.sort(function(a,b){return a.dist-b.dist});var d=b[0].index;return{holderOuter:this.bags[d].holderOuter,body:this.bags[d].body}}},a.prototype.tick=function(){this.leftTimers=[],this.rightTimers=[],this.onScreenTimers=[];for(var a=0;a<this.bags.length;a++)if(0!=this.bags[a].active){this.bags[a].holderOuter.position.x=this.bags[a].body.position[0],this.bags[a].shadow.position.x=this.bags[a].body.position[0],this.bags[a].holderOuter.position.y=Game.stageHeight-this.bags[a].body.position[1]+this.squidgeOffset,this.bags[a].holder.rotation=-this.bags[a].body.angle,this.bags[a].timer.timerPosStatus==-1&&this.leftTimers.push({timer:this.bags[a].timer}),0==this.bags[a].timer.timerPosStatus&&this.onScreenTimers.push({timer:this.bags[a].timer}),1==this.bags[a].timer.timerPosStatus&&this.rightTimers.push({timer:this.bags[a].timer});var b=this.scene.container.toLocal(this.bags[a].holderOuter.position,this.mainHolderRef);this.bags[a].timer.positionTimer(b),this.bags[a].timer.tick();var c=this.bags[a].holder.rotation-.5*Math.PI;this.bags[a].knot.position.x=this.knotCenterOffset.x+this.knotPosRadius*Math.cos(c),this.bags[a].knot.position.y=this.knotCenterOffset.y+this.knotPosRadius*Math.sin(c),this.bags[a].knot.rotation=this.bags[a].holder.rotation,this.positionTimersVertically()}for(var a=0;a<this.bagParticles.length;a++)0!=this.bagParticles[a].active&&(this.bagParticles[a].sprite.position.x=this.bagParticles[a].body.position[0],this.bagParticles[a].sprite.position.y=Game.stageHeight-this.bagParticles[a].body.position[1],this.bagParticles[a].sprite.rotation=-this.bagParticles[a].body.angle)},a.prototype.positionTimersVertically=function(){for(var a=0;a<this.leftTimers.length;a++){var b=50*a,c=0;0==this.leftTimers[a].timer.active&&(c=100);var d=this.timerYPos-b+c;this.leftTimers[a].timer.timerHolder.position.y+=(d-this.leftTimers[a].timer.timerHolder.position.y)/this.timerEaseAmount,this.leftTimers[a].timer.timerArrow.rotation+=(this.leftArrowAngle-this.leftTimers[a].timer.timerArrow.rotation)/this.timerEaseAmount}for(var a=0;a<this.onScreenTimers.length;a++){var c=0;0==this.onScreenTimers[a].timer.active&&(c=100);var d=this.timerYPos+c;this.onScreenTimers[a].timer.timerHolder.position.y+=(d-this.onScreenTimers[a].timer.timerHolder.position.y)/this.timerEaseAmount,this.onScreenTimers[a].timer.timerArrow.rotation+=(0-this.onScreenTimers[a].timer.timerArrow.rotation)/this.timerEaseAmount}for(var a=0;a<this.rightTimers.length;a++){var b=50*a,c=0;0==this.rightTimers[a].timer.active&&(c=100);var d=this.timerYPos-b+c;this.rightTimers[a].timer.timerHolder.position.y+=(d-this.rightTimers[a].timer.timerHolder.position.y)/this.timerEaseAmount,this.rightTimers[a].timer.timerArrow.rotation+=(this.rightArrowAngle-this.rightTimers[a].timer.timerArrow.rotation)/this.timerEaseAmount}},a.prototype.pause=function(){for(var a=0;a<this.bags.length;a++)this.bags[a].popAnimation.stop(),this.bags[a].landAnimation.stop()},a.prototype.resume=function(){for(var a=0;a<this.bags.length;a++)this.bags[a].popAnimation.play(),this.bags[a].landAnimation.play()},a.prototype.destroy=function(){for(var a=0;a<this.bags.length;a++)Game.displayStore.returnPooledItem(this.bags[a].sprite),Game.displayStore.returnPooledItem(this.bags[a].holder),Game.displayStore.returnPooledItem(this.bags[a].holderOuter),Game.displayStore.returnPooledItem(this.bags[a].knot),Game.displayStore.returnPooledItem(this.bags[a].landAnimation),Game.displayStore.returnPooledItem(this.bags[a].popAnimation),this.bags[a].squidgeTimeline=this.scene.killTween(this.bags[a].squidgeTimeline),this.bags[a].timer.destroy(),Game.displayStore.returnPooledItem(this.bags[a].shadow)},a}(),TrashBagTimer=function(){function a(a,b,c,d,e){this.scene=a,this.mainHolderRef=c,this.bagManagerRef=b,this.active=!1,this.timerPaused=!1,this.pausedScale=.75,this.resumedScale=1,this.currentScale=this.resumedScale,this.scaleEaseAmount=6,this.timerAngle=0,this.currentVisualState=-1,this.timerKilledByPowerUp=!1,this.stateAngles=new Array,this.stateAngles.push(Math.PI),this.stateAngles.push(2*Math.PI),this.counter=0,this.frameTime=60/Game.fps,this.currentTime=0,this.timerPosStatus=0,this.bagHolderRef=d,this.sidePosBuffer=50,this.lincRef=e,this.timerHolder=Game.displayStore.getContainer("bag-timer-holder"),this.timerFillLeft=Game.displayStore.getSprite("bag-timer-fill-left"),this.timerFillRight=Game.displayStore.getSprite("bag-timer-fill-right"),this.timerCoverRight=Game.displayStore.getSprite("bag-timer-cover-right"),this.timerArrow=Game.displayStore.getSprite("bag-timer-arrow"),this.timerCross=Game.displayStore.getSprite("bag-timer-cross"),this.timerHolder.visible=!0,this.timerFillLeft.visible=!0,this.timerFillRight.visible=!0,this.timerCoverRight.visible=!0,this.timerCross.visible=!1,this.timerFillLeft.position.x=this.timerFillLeft.position.y=0,this.timerFillRight.position.x=this.timerFillRight.position.y=0,this.timerCoverRight.position.x=this.timerCoverRight.position.y=0,this.currentlyMovingFillSide=this.timerFillRight,this.timerHolder.addChild(this.timerArrow),this.timerHolder.addChild(this.timerFillLeft),this.timerHolder.addChild(this.timerFillRight),this.timerHolder.addChild(this.timerCoverRight),this.timerHolder.addChild(this.timerCross),this.timerHolder.position.y=Game.stageHeight+1e3}return a.prototype.activateTimer=function(a){this.timerKilledByPowerUp=!1,this.time=a,this.timerPaused=!0,this.currentTime=this.time,this.currentScale=2,this.timerFillLeft.rotation=0,this.timerFillRight.rotation=0,this.timerCoverRight.rotation=0,this.timerFillLeft.visible=!0,this.timerFillRight.visible=!0,this.timerCoverRight.visible=!1,this.timerCross.visible=!1,this.active=!0,this.timerHolder.position.x=this.lincRef.position.x,this.timerHolder.visible=!0},a.prototype.deactivateTimer=function(){this.active=!1,this.timerHolder.visible=!1},a.prototype.pauseTimerOffFloor=function(){this.timerPaused=!0,this.currentScale=this.pausedScale},a.prototype.resumeTimerOnFloor=function(){this.timerPaused=!1,this.currentScale=this.resumedScale},a.prototype.tick=function(){if(0!=this.active){var a=this.timerHolder.scale.x+=(this.currentScale-this.timerHolder.scale.x)/this.scaleEaseAmount;if(this.timerHolder.scale.x=this.timerHolder.scale.y=a,1!=this.timerPaused&&1!=this.timerKilledByPowerUp){if(this.currentTime-=this.frameTime,this.timerAngle=2*Math.PI-2*Math.PI*(this.currentTime/this.time),this.setTimerVisualState(),this.timerFillRight.rotation=this.timerAngle,1==this.currentVisualState){var b=this.timerAngle-Math.PI;b<0&&(b=0),this.timerFillLeft.rotation=b}this.currentTime<=0&&(this.deactivateTimer(),this.bagManagerRef.bagBurst(this),this.timerHolder.visible=!1)}}},a.prototype.setTimerVisualState=function(){var a;this.timerAngle>=0&&this.timerAngle<=this.stateAngles[0]?a=0:this.timerAngle>=this.stateAngles[0]&&this.timerAngle<=this.stateAngles[1]&&(a=1),this.currentVisualState!=a&&(this.currentVisualState=a,this.updateVisualState())},a.prototype.updateVisualState=function(){if(1!=this.timerKilledByPowerUp)switch(this.currentVisualState){case 0:this.timerCoverRight.visible=!1,this.timerFillLeft.visible=!0,this.timerFillRight.visible=!0;break;case 1:this.timerCoverRight.visible=!0,this.timerFillLeft.visible=!0,this.timerFillRight.visible=!1}},a.prototype.positionTimer=function(a){if(0!=this.active){var b=a.x;if(b<this.sidePosBuffer)return this.timerHolder.position.x=this.sidePosBuffer,void this.setPosStatus(-1);if(b>Game.stageWidth-this.sidePosBuffer)return this.timerHolder.position.x=Game.stageWidth-this.sidePosBuffer,void this.setPosStatus(1);this.timerHolder.position.x=a.x,this.setPosStatus(0)}},a.prototype.pauseTimerPowerUp=function(){this.timerKilledByPowerUp=!0,this.timerFillLeft.visible=!1,this.timerFillRight.visible=!1,this.timerCoverRight.visible=!1,this.timerCross.visible=!0},a.prototype.setPosStatus=function(a){a!=this.timerPosStatus&&(this.timerPosStatus=a)},a.prototype.destroy=function(){Game.displayStore.returnPooledItem(this.timerHolder),Game.displayStore.returnPooledItem(this.timerFillLeft),Game.displayStore.returnPooledItem(this.timerFillRight),Game.displayStore.returnPooledItem(this.timerCoverRight),Game.displayStore.returnPooledItem(this.timerCross),Game.displayStore.returnPooledItem(this.timerArrow)},a
}(),TrashInputManager=function(){function a(a){this.scene=a,this.hitAreaSprite=Game.displayStore.getSprite("trash-blank-input"),this.hitAreaSprite.width=Game.stageWidth,1==Game.onDesktop?(this.hitAreaSprite.height=Game.stageHeight,this.hitAreaSprite.position.y=0):(this.hitAreaSprite.height=Game.stageHeight/2,this.hitAreaSprite.position.y=Game.stageHeight/2)}return a.prototype.createInput=function(){this.setUpHitArea(this.hitAreaSprite)},a.prototype.setUpHitArea=function(a){a.interactive=!0,a.buttonMode=!0;var b=this;Game.onDesktop?(a.on("mousedown",function(a){b.inputDown(b,a.data.getLocalPosition(b.scene.container))}),a.on("mouseup",function(a){b.inputUp(b,a.data.getLocalPosition(b.scene.container))}),a.on("mouseupoutside",function(a){b.inputUp(b,a.data.getLocalPosition(b.scene.container))})):(a.on("touchstart",function(a){b.inputDown(b,a.data.getLocalPosition(b.scene.container))}),a.on("touchend",function(a){b.inputUp(b,a.data.getLocalPosition(b.scene.container))}),a.on("touchend",function(a){b.inputUpOutside(b)})),this.scene.container.addChild(a)},a.prototype.inputUp=function(a,b){b.y<Game.stageHeight/2?a.scene.endKickBag():b.y>=Game.stageHeight/2&&a.endLincInput(b)},a.prototype.inputUpOutside=function(a){a.scene.inputUpOutside()},a.prototype.inputDown=function(a,b){1==Game.onDesktop?b.y<Game.stageHeight/2?this.scene.startKickBag():b.y>=Game.stageHeight/2&&this.moveLincInput(b):this.moveLincInput(b)},a.prototype.moveLincInput=function(a){a.x<Game.stageWidth/2?this.scene.setLincolnMovementKeys("left","down"):a.x>=Game.stageWidth/2&&this.scene.setLincolnMovementKeys("right","down")},a.prototype.endLincInput=function(a){a.x<Game.stageWidth/2?this.scene.setLincolnMovementKeys("left","up"):a.x>=Game.stageWidth/2&&this.scene.setLincolnMovementKeys("right","up")},a.prototype.inputMove=function(a,b){},a.prototype.tick=function(){},a.prototype.getDistance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.prototype.getAngle=function(a,b,c,d){if(a!=c||b!=d){var e=a-c,f=d-b;return Math.atan2(f,e)}},a.prototype.destroy=function(){this.hitAreaSprite.removeAllListeners()},a}(),TitleSceneBubbleManager=function(){function a(a,b){this.spawnYpos=650,this.maxDelay=100,this.scene=a,this.minSpeed=.03,this.maxSpeed=.06,1==Game.isLowEndIPad&&(this.minSpeed*=2,this.maxSpeed*=2),this.minRange=30,this.maxRange=60,this.zArray=new Array,this.backBubbleHolder=b}return a.prototype.addBubble=function(a,b,c){var d,e=Game.getRandom(this.minRange,this.maxRange),f=(Game.getRandom(this.minSpeed,this.maxSpeed),Game.getRandom(-360,360)),g=Game.getRandom(20,150),h=Game.displayStore.getMovieClip("bubble-pop"),i=Game.getRandom(150,700),j=0;h.animationSpeed=.9,h.loop=!1,h.alpha=0,a.rotation=-.5,"front"==c?(this.scene.container.addChild(a),this.scene.container.addChild(h),d=Game.getRandom(.8,1.8)):"back"==c&&(this.backBubbleHolder.addChild(a),this.backBubbleHolder.addChild(h),d=Game.getRandom(.3,.8));var k=TweenMax.to(a,Game.getRandom(.8,1),{rotation:.5,ease:Sine.easeInOut,repeat:-1,yoyo:!0});this.zArray.push({startBubbleScale:j,startBubblePos:i,bubblePop:h,popPos:g,sprite:a,range:e,scale:d,startPos:b,counter:f,rotateTween:k}),a.scale.x=a.scale.y=d,a.position.y=i,a.position.x=-200,a.alpha=1},a.prototype.tick=function(){if(this.zArray)for(var a=0;a<this.zArray.length;a++){var b=this.zArray[a],c=b.scale/80*4;b.counter+=.05,b.counter>=2*Math.PI&&(b.counter=2*-Math.PI),b.sprite.position.x=b.startPos+Math.sin(b.counter)*b.range,b.sprite.position.y-=40*c,b.sprite.position.y<b.popPos&&(b.bubblePop.position.x=b.sprite.position.x,b.bubblePop.position.y=b.sprite.position.y,b.bubblePop.scale=b.sprite.scale,b.bubblePop.alpha=1,b.bubblePop.gotoAndStop(0),b.bubblePop.play(),b.sprite.position.y=this.spawnYpos)}},a.prototype.destroy=function(){for(var a=0;a<this.zArray.length;a++)Game.displayStore.returnPooledItem(this.zArray[a].sprite),Game.displayStore.returnPooledItem(this.zArray[a].bubblePop),this.zArray[a].rotateTween.kill(),this.zArray[a]=null;this.zArray=null},a}(),ParticleBurst=function(){function a(a,b,c){this.enabled=!1,this.cap=30,this.time=1.2,this.next=0,this.tickCount=0,this.container=b,this.pos=new PIXI.Point(0,0),this.particles=[],this.animation=new TimelineMax,this.container.interactive=!1,this.container.interactiveChildren=!1,this.params=c,this.blendMode=c.blendMode||PIXI.BLEND_MODES.NORMAL,this.time=c.time||1,this.cap=this.params.cap||30,this.cancelled=!1,this.stagger=this.params.stagger||-1,this.inUse=!1;for(var d=0;d<a.length;d++)for(var e=0;e<this.cap/a.length;e++){var f=Game.displayStore.getSprite(a[d]);this.particles.push({sprite:f,index:(d+1)*e}),f.alpha=0,this.container.addChild(f)}this.shuffleArray(this.particles)}return a.prototype.tint=function(a){for(var b=0;b<this.particles.length;b++)this.particles[b].sprite.tint=a},a.prototype.fire=function(){if(1!=this.inUse){this.animation&&this.animation.kill(),this.animation=new TimelineMax,this.cancelled=!1,this.inUse=!0;for(var a=0;a<this.particles.length;a++)this.cycleParticle(this.particles[a],this,a)}},a.prototype.updateParams=function(a,b){b.params.lowerAngle=a.lowerAngle,b.params.upperAngle=a.upperAngle,b.params.lowerVelocity=a.lowerVelocity,b.params.upperVelocity=a.upperVelocity,b.params.endScale=a.endScale,b.params.lowerStartScale=a.lowerStartScale,b.params.upperStartScale=a.upperStartScale,b.params.blendMode=a.blendMode,b.params.friction=a.friction,b.params.XstartRange=a.XstartRange,b.params.YstartRange=a.YstartRange,b.params.endAlpha=a.endAlpha},a.prototype.cycleParticle=function(a,b,c){if(1!=b.cancelled){var d=a.sprite;d.position.x=Game.getRandom(-b.params.XstartRange,b.params.XstartRange),d.position.y=Game.getRandom(-b.params.YstartRange,b.params.YstartRange),d.alpha=0;var e=Game.getRandom(b.params.lowerStartScale,b.params.upperStartScale);d.scale.x=e,d.scale.y=e,d.blendMode=b.blendMode;var f=c/b.stagger;f<0&&(f=0);var g=b.params.endScale||0;d.rotation=Game.getRandom(-Math.PI,Math.PI)*b.params.rotationPower,b.animation.add([TweenLite.to(d.position,b.time,{physics2D:{velocity:Game.getRandom(b.params.lowerVelocity,b.params.upperVelocity),angle:Game.getRandom(b.params.lowerAngle,b.params.upperAngle),acceleration:b.params.gravity,accelerationAngle:90,friction:b.params.friction}}),TweenLite.to(d,b.time/8,{alpha:1,ease:Sine.easeOut}),TweenLite.to(d,b.time,{delay:b.time/8,alpha:b.params.endAlpha,ease:Sine.easeOut}),TweenLite.to(d,b.time,{rotation:Game.getRandom(-3*b.params.rotationPower,3*b.params.rotationPower),ease:Sine.easeOut}),TweenLite.to(d.scale,b.time,{x:g,y:g,ease:Sine.easeOut})],f),c==b.cap-1&&(b.inUse=!1)}},a.prototype.shuffleArray=function(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a},a.prototype.cancel=function(){this.cancelled=!0,this.animation.kill()},a.prototype.pause=function(){this.animation&&this.animation.pause()},a.prototype.resume=function(){this.animation&&this.animation.paused&&this.animation.resume()},a.prototype.destroy=function(){this.animation&&this.animation.kill();for(var a=0;a<this.particles.length;a++)TweenLite.killTweensOf(this.particles[a].sprite),TweenLite.killTweensOf(this.particles[a].sprite.scale),Game.displayStore.returnPooledItem(this.particles[a].sprite);this.inUse=!1},a}(),UI=function(){function a(a){this.tweens=new Array,this.uiInitialised=!1,this.currentKeyCycledButton=0,this.keyboardUIFocus=!1,this.game=a,this.uiContainer=new DisplayObjectContainer,this.uiContainer.interactive=!0,this.buttons=new Array,this.spinnerOn=!1,this.pauseButtonSpacing=190,this.pauseVerticalSpacing=200}return a.prototype.initUI=function(){this.clickEffect=Game.displayStore.getMovieClip("click-anim"),this.clickEffect.animationSpeed=.3,this.clickEffect.loop=!1,this.clickEffect.scale.x=this.clickEffect.scale.y=.75,this.clickEffect.position.y=-1e3,this.pauseButton=Game.displayStore.getButton("pausebutton"),this.pauseButton.position.x=952,this.pauseButton.position.y=68,this.pauseButton.visuallyPrepareButton("small"),this.pauseButton.setAsUIButton(),this.closeHelpButton=Game.displayStore.getButton("closehelpbutton"),this.closeHelpButton.position.x=952,this.closeHelpButton.position.y=68,this.closeHelpButton.visuallyPrepareButton("small"),this.closeHelpButton.setAsUIButton(),this.largePlayButton=Game.displayStore.getButton("playbuttonlarge"),this.largePlayButton.position.x=512,this.largePlayButton.position.y=400,this.largePlayButton.visuallyPrepareButton("large"),this.largePlayButton.setAsUIButton(),this.cgButton=Game.displayStore.getButton("cgpowerupbutton"),this.cgButton.position.x=952,this.cgButton.position.y=200,this.cgButton.visuallyPrepareButton("small"),this.cgButton.setAsUIButton(),this.soundOnButton=Game.displayStore.getButton("soundonbutton"),this.soundOnButton.position.x=952,this.soundOnButton.position.y=68,this.soundOnButton.visuallyPrepareButton("small"),this.soundOnButton.setAsUIButton(),this.soundOffButton=Game.displayStore.getButton("soundoffbutton"),this.soundOffButton.position.x=952,this.soundOffButton.position.y=68,this.soundOffButton.visuallyPrepareButton("small"),this.soundOffButton.setAsUIButton(),this.homeButton=Game.displayStore.getButton("homebutton"),this.homeButton.visuallyPrepareButton("small"),this.homeButton.setAsUIButton(),this.helpButton=Game.displayStore.getButton("helpbutton"),this.helpButton.position.x=72,this.helpButton.position.y=68,this.helpButton.visuallyPrepareButton("small"),this.helpButton.setAsUIButton(),this.backButton=Game.displayStore.getButton("backbutton"),this.backButton.position.x=72,this.backButton.position.y=68,this.backButton.visuallyPrepareButton("small"),this.backButton.setAsUIButton(),this.playButton=Game.displayStore.getButton("playbutton"),this.playButton.position.x=952,this.playButton.position.y=530,this.playButton.visuallyPrepareButton("small"),this.playButton.setAsUIButton(),this.skipButton=Game.displayStore.getButton("skipbutton"),this.skipButton.position.x=952,this.skipButton.position.y=530,this.skipButton.visuallyPrepareButton("small"),this.skipButton.setAsUIButton(),this.kickButton=Game.displayStore.getButton("kickbutton"),this.kickButton.position.x=952,this.kickButton.position.y=312,this.kickButton.visuallyPrepareButton("small"),this.kickButton.setAsUIButton(),this.jumpButton=Game.displayStore.getButton("jumpbutton"),this.jumpButton.position.x=952,this.jumpButton.position.y=312,this.jumpButton.visuallyPrepareButton("small"),this.jumpButton.setAsUIButton(),this.leftButton=Game.displayStore.getButton("leftbutton"),this.leftButton.position.x=72,this.leftButton.position.y=312,this.leftButton.visuallyPrepareButton("small"),this.leftButton.setAsUIButton(),this.rightButton=Game.displayStore.getButton("rightbutton"),this.rightButton.position.x=952,this.rightButton.position.y=312,this.rightButton.visuallyPrepareButton("small"),this.rightButton.setAsUIButton();var a=this,b=window.parent||window;b.addEventListener("keydown",function(b){a.onKeyDown(b)},!0),b.addEventListener("keyup",function(b){a.onKeyUp(b)},!0),this.uiInitialised=!0},a.prototype.setUI=function(a){if(0!=this.uiInitialised)switch(this.removeAllButtons(),this.uiContainer.addChild(this.clickEffect),this.currentKeyCycledButton=0,this.deselectDelay&&this.deselectDelay.kill(),a){case"title":this.soundOnButton.position.x=952,this.soundOnButton.position.y=68,this.soundOffButton.position.x=952,this.soundOffButton.position.y=68,this.homeButton.position.x=72,this.homeButton.position.y=68,1==Game.soundOn?this.addUIButton(this.soundOffButton,!0,!0):0==Game.soundOn&&this.addUIButton(this.soundOnButton,!0,!0),window.og&&window.og.isFullScreen;break;case"game-over":this.soundOnButton.position.x=952,this.soundOnButton.position.y=68,this.soundOffButton.position.x=952,this.soundOffButton.position.y=68,this.homeButton.position.x=72,this.homeButton.position.y=68,1==Game.soundOn?this.addUIButton(this.soundOffButton,!0,!0):0==Game.soundOn&&this.addUIButton(this.soundOnButton,!0,!0),this.addUIButton(this.homeButton,!0,!0);break;case"mini-game-title":this.soundOnButton.position.x=952,this.soundOnButton.position.y=68,this.soundOffButton.position.x=952,this.soundOffButton.position.y=68,this.homeButton.position.x=72,this.homeButton.position.y=68,1==Game.soundOn?this.addUIButton(this.soundOffButton,!0,!0):0==Game.soundOn&&this.addUIButton(this.soundOnButton,!0,!0),this.addUIButton(this.homeButton,!0,!0);break;case"hub":this.addUIButton(this.leftButton,!0,!0),this.addUIButton(this.rightButton,!0,!0),1==Game.soundOn?this.addUIButton(this.soundOffButton,!0,!0):0==Game.soundOn&&this.addUIButton(this.soundOnButton,!0,!0);break;case"hub-overlay":this.addUIButton(this.playButton,!0,!0),this.addUIButton(this.backButton,!0,!0),1==Game.soundOn?this.addUIButton(this.soundOffButton,!0,!0):0==Game.soundOn&&this.addUIButton(this.soundOnButton,!0,!0);break;case"pause":this.homeButton.position.x=Game.stageWidth/2-this.pauseButtonSpacing,this.homeButton.position.y=1.8*this.pauseVerticalSpacing,this.helpButton.position.x=Game.stageWidth/2,this.helpButton.position.y=1.2*this.pauseVerticalSpacing,this.soundOnButton.position.x=Game.stageWidth/2+this.pauseButtonSpacing,this.soundOnButton.position.y=1.8*this.pauseVerticalSpacing,this.soundOffButton.position.x=Game.stageWidth/2+this.pauseButtonSpacing,this.soundOffButton.position.y=1.8*this.pauseVerticalSpacing,this.addUIButton(this.homeButton,!0,!0),this.addUIButton(this.helpButton,!0,!0),this.addUIButton(this.largePlayButton,!0,!0),this.largePlayButton.position.y=this.pauseVerticalSpacing+220,1==Game.soundOn?this.addUIButton(this.soundOffButton,!0,!0):0==Game.soundOn&&this.addUIButton(this.soundOnButton,!0,!0);break;case"gameplay":this.addUIButton(this.pauseButton,!0,!0),1==this.game.crossGameCurrencyOwned&&0==this.game.crossGameCurrencyIsNew&&1==this.game.runningHubMode&&(this.cgButton.enableCGButton(),this.addUIButton(this.cgButton,!0,!1));break;case"gameplay-mobile-trash":this.addUIButton(this.pauseButton,!0,!0),this.addUIButton(this.kickButton,!0,!1),1==this.game.crossGameCurrencyOwned&&0==this.game.crossGameCurrencyIsNew&&1==this.game.runningHubMode&&(this.cgButton.enableCGButton(),this.addUIButton(this.cgButton,!0,!1));break;case"gameplay-mobile-geo":this.addUIButton(this.pauseButton,!0,!0),this.addUIButton(this.jumpButton,!0,!1),1==this.game.crossGameCurrencyOwned&&0==this.game.crossGameCurrencyIsNew&&1==this.game.runningHubMode&&(this.cgButton.enableCGButton(),this.addUIButton(this.cgButton,!0,!0));break;case"help":this.addUIButton(this.closeHelpButton,!0,!0);break;case"none":break;case"skip":this.addUIButton(this.skipButton,!0,!0)}},a.prototype.disableCGButton=function(){this.cgButton.disableCGButton()},a.prototype.enableCGButton=function(){this.cgButton.enableCGButton()},a.prototype.resize=function(a){this.uiContainer.scale.x=a,this.uiContainer.scale.y=a},a.prototype.removeAllButtons=function(){if(this.buttons.length>0)for(var a=this.buttons.length-1;a>=0;a--)this.buttons[a]instanceof UIButton&&this.removeButton(this.buttons[a]);this.buttons=[]},a.prototype.removeButton=function(a){this.clearButton(a),a.parent==this.uiContainer&&this.uiContainer.removeChild(a),this.buttons.splice(this.getButtonIndex(a),1)},a.prototype.getButtonIndex=function(a){for(var b=0;b<this.buttons.length;b++)if(this.buttons[b]==a)return b},a.prototype.addCustomUIButton=function(a,b,c){a.setAsUIButton(),this.addUIButton(a,b,c)},a.prototype.addUIButton=function(a,b,c){this.uiContainer.addChild(a),this.buttons.push(a),a.buttonInit(b,c),this.registerButton(a)},a.prototype.addNonUIButton=function(a){this.buttons.push(a)},a.prototype.setButtonIndex=function(a){this.currentKeyCycledButton=a,this.keyboardUIFocus=!0},a.prototype.registerButton=function(a){var b=this;if(1==window.forceMobile)return a.on("mouseover",function(a){b.rolloverButton(b,this)}),a.on("mouseout",function(a){b.rolloutButton(b,this)}),a.on("mousedown",function(a){b.downonButton(b,this)}),void a.on("mouseup",function(a){b.uponButton(b,this)});Game.onDesktop?(a.on("mouseover",function(a){b.rolloverButton(b,this)}),a.on("mouseout",function(a){b.rolloutButton(b,this)}),a.on("mousedown",function(a){b.downonButton(b,this)}),a.on("mouseup",function(a){1!=this.disabled&&(Game.playSound("button-click-ui"),b.uponButton(b,this))})):(a.on("touchstart",function(a){b.downonButton(b,this)}),a.on("touchend",function(a){1!=this.disabled&&(Game.playSound("button-click-ui"),b.uponButton(b,this))}),a.on("touchendoutside",function(a){b.rolloutButton(b,this)}))},a.prototype.clearButton=function(a){a.clearInteractions()},a.prototype.onKeyUp=function(a){if(1!=this.game.currentScene.interactionLocked&&1!=this.game.currentScene.transitioning){var b=this.getKey(a.keyCode,a);this.game.currentScene.keyUp(b)}},a.prototype.onKeyDown=function(a){if(1!=this.game.currentScene.interactionLocked&&1!=this.game.currentScene.transitioning){var b=this.getKey(a.keyCode,a);this.game.currentScene.keyDown(b)}},a.prototype.getKey=function(a,b){var c="none";return 37==a?c="left":39==a?c="right":38==a?(b.preventDefault?b.preventDefault():b.returnValue=!1,c="up"):40==a?(b.preventDefault?b.preventDefault():b.returnValue=!1,c="down"):32==a?(b.preventDefault?b.preventDefault():b.returnValue=!1,c="spacebar"):27==a?c="esc":13==a?c="enter":9==a?c="tab":88==a&&(c="x"),c},a.prototype.cycleUIButton=function(a){var b=this.buttons[this.currentKeyCycledButton];b instanceof UIButton?this.rolloutButton(this,b):this.game.currentScene.rolloutCustomButtonKeyboard(b),this.keyboardUIFocus=!0,this.deselectDelay&&this.deselectDelay.kill();var c;"left"==a?c=-1:"right"==a&&(c=1),this.currentKeyCycledButton+=c,this.currentKeyCycledButton<0&&(this.currentKeyCycledButton=this.buttons.length-1),this.currentKeyCycledButton>=this.buttons.length&&(this.currentKeyCycledButton=0),b=this.buttons[this.currentKeyCycledButton];var d=this;b instanceof UIButton?(this.rolloverButton(this,b),this.deselectDelay=TweenMax.delayedCall(2,function(){d.keyboardUIFocus=!1,d.rolloutButton(d,b)})):(this.game.currentScene.rolloverCustomButtonKeyboard(b),this.deselectDelay=TweenMax.delayedCall(2,function(){d.keyboardUIFocus=!1,d.game.currentScene.rolloutCustomButtonKeyboard(b)}))},a.prototype.activateCycledUIButton=function(){if(0!=this.keyboardUIFocus){var a=this.buttons[this.currentKeyCycledButton];a instanceof UIButton?this.game.currentScene.uiClicked(a):this.game.currentScene.selectCustomButtonKeyboard(a)}},a.prototype.tick=function(){this.spinnerOn},a.prototype.killPowerUpButton=function(){this.removeButton(this.cgButton)},a.prototype.rolloverButton=function(a,b){if(1!=b.disabled&&1!=a.game.currentScene.interactionLocked){switch(a.game.currentScene.uiRolledOver(b),b.id){case"pausebutton":break;case"homebutton":break;case"soundonbutton":break;case"soundoffbutton":break;case"helpbutton":break;case"closehelpbutton":break;case"skipbutton":break;case"backbutton":break;case"exitbutton":}a.pulseTween&&a.pulseTween.kill(),a.overTimeline&&a.overTimeline.kill(),a.overTimeline=new TimelineMax,a.overTimeline.add(TweenMax.to(b.buttonContainer.scale,.2,{x:1.2,y:1.2,ease:Expo.easeOut}),0),a.overTimeline.add(TweenMax.to(b.shadow.position,.2,{y:b.shadowOrigY+5,ease:Expo.easeOut}),0),a.overTimeline.add(TweenMax.to(b.shadow.scale,.2,{x:1.2,y:1.2,ease:Expo.easeOut}),0),a.overTimeline.add(TweenMax.to(b.shadow,.2,{alpha:.2,ease:Expo.easeOut}),0)}},a.prototype.rolloutButton=function(a,b){1!=b.disabled&&1!=a.game.currentScene.interactionLocked&&(a.game.currentScene.uiRolledOut(b),a.outTimeline&&a.outTimeline.kill(),a.outTimeline=new TimelineMax,a.outTimeline.add(TweenMax.to(b.buttonContainer.scale,.2,{x:1,y:1,ease:Expo.easeOut}),0),a.outTimeline.add(TweenMax.to(b.shadow.position,.2,{x:b.shadowOrigX,y:b.shadowOrigY,ease:Expo.easeOut}),0),a.outTimeline.add(TweenMax.to(b.shadow.scale,.2,{x:1,y:1,ease:Expo.easeOut}),0),a.outTimeline.add(TweenMax.to(b.shadow,.2,{alpha:.5,ease:Expo.easeOut}),0))},a.prototype.downonButton=function(a,b){1!=b.disabled&&1!=a.game.currentScene.interactionLocked&&(a.game.currentScene.downOnUI(b),a.pulseTween&&a.pulseTween.kill(),a.downTimeline&&a.downTimeline.kill(),a.downTimeline=new TimelineMax,a.downTimeline.add(TweenMax.to(b.buttonContainer.scale,.2,{x:1.3,y:1.3,ease:Expo.easeOut}),0),a.downTimeline.add(TweenMax.to(b.shadow.scale,.2,{x:1.3,y:1.3,ease:Expo.easeOut}),0),a.downTimeline.add(TweenMax.to(b.shadow.position,.2,{x:b.shadowOrigX-8,y:b.shadowOrigY+8,ease:Expo.easeOut}),0),a.downTimeline.add(TweenMax.to(b.shadow,.2,{alpha:.2,ease:Expo.easeOut}),0))},a.prototype.uponButton=function(a,b){1!=b.disabled&&(a.game.currentScene.upOnUI(b),1==b.animateEffect&&a.playClickEffect(a,b),1!=a.game.currentScene.interactionLocked&&(a.upTimeline&&(a.upTimeline.kill(),a.delayedClick.kill()),1!=Game.audioManager.mode?Game.playSound("button-click"):"comicScene"!=a.game.currentScene.id?Game.playSound("button-click"):"comicScene"==a.game.currentScene.id&&"start-comic-playbutton"==b.id&&Game.playSound("button-click"),a.upTimeline=new TimelineMax,a.upTimeline.add(TweenMax.to(b.buttonContainer.scale,.2,{x:1,y:1,ease:Expo.easeOut}),0),a.upTimeline.add(TweenMax.to(b.shadow.scale,.2,{x:1,y:1,ease:Expo.easeOut}),0),a.upTimeline.add(TweenMax.to(b.shadow.position,.2,{x:b.shadowOrigX,y:b.shadowOrigY,ease:Expo.easeOut}),0),a.upTimeline.add(TweenMax.to(b.shadow,.2,{alpha:.5,ease:Expo.easeOut}),0),a.delayedClick=TweenMax.delayedCall(.15,function(){a.game.currentScene.uiClicked(b)})))},a.prototype.pulseButton=function(a){this.pulseTween&&this.pulseTween.kill(),this.pulseTween=new TimelineMax({repeat:-1}),this.pulseTween.add(TweenMax.to(a.buttonContainer.scale,.8,{x:1.2,y:1.2,ease:Quad.easeInOut}),0),this.pulseTween.add(TweenMax.to(a.shadow.scale,.8,{x:1.2,y:1.2,ease:Quad.easeInOut}),0),this.pulseTween.add(TweenMax.to(a.buttonContainer.scale,.8,{x:1,y:1,ease:Quad.easeInOut}),.8),this.pulseTween.add(TweenMax.to(a.shadow.scale,.8,{x:1,y:1,ease:Quad.easeInOut}),.8),this.pulseTween.add(TweenMax.to(a.shadow.position,.8,{x:a.shadowOrigX+5,y:a.shadowOrigY+5,ease:Quad.easeInOut}),0),this.pulseTween.add(TweenMax.to(a.shadow,.8,{alpha:.7,ease:Quad.easeInOut}),0),this.pulseTween.add(TweenMax.to(a.shadow.position,.8,{x:a.shadowOrigX,y:a.shadowOrigY,ease:Quad.easeInOut}),.8),this.pulseTween.add(TweenMax.to(a.shadow,.8,{alpha:1,ease:Quad.easeInOut}),.8)},a.prototype.playClickEffect=function(a,b){a.clickEffect.position.x=b.position.x,a.clickEffect.position.y=b.position.y,a.clickEffect.gotoAndStop(0),a.clickEffect.play()},a.prototype.playUISound=function(a){Game.stopCurrentInterruptableSound(),TweenMax.delayedCall(.2,Game.playSound,[a,!0])},a.prototype.showSpinner=function(){this.uiInitialised},a.prototype.hideSpinner=function(){this.uiInitialised},a.prototype.soundToggled=function(){1==Game.soundOn?(Game.soundOn=!1,Game.audioManager.soundOff(),this.removeButton(this.soundOffButton),this.addUIButton(this.soundOnButton,!0,!0)):0==Game.soundOn&&(Game.soundOn=!0,Game.audioManager.soundOn(),this.removeButton(this.soundOnButton),this.addUIButton(this.soundOffButton,!0,!0)),this.uiContainer.addChild(this.clickEffect)},a.prototype.exitGame=function(){Game.trace("exit url is..",window.og),window.og&&window.og.exitGameUrl&&window.open(window.og.exitGameUrl,"_self")},a}(),__extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},UIButton=function(a){function b(){a.call(this),this.disabled=!1,this.animateEffect=!0}return __extends(b,a),b.prototype.visuallyPrepareButton=function(a){this.buttonContainer=this.getContainer("button-container"),this.icon=this.buttonContainer.getSprite("icon"),this.icon.setRegPoint(.5,.5),this.bg=this.buttonContainer.getSprite("bg"),this.bg.setRegPoint(.5,.5),this.shadow=this.getSprite("shadow"),this.shadow.alpha=.5,this.shadow.setRegPoint(.5,.5),this.shadow.position.x=-6,this.shadow.position.y=6},b.prototype.setAsUIButton=function(a){this.buttonContainer=this.getContainer("button-container"),this.icon=this.buttonContainer.getSprite("icon"),this.icon.setRegPoint(.5,.5),this.bg=this.buttonContainer.getSprite("bg"),this.bg.setRegPoint(.5,.5),this.shadow=this.getSprite("shadow"),this.shadow.alpha=.5,this.shadow.setRegPoint(.5,.5),this.shadow.position.x=-6,this.shadow.position.y=6,this.shadowOrigX=this.shadow.position.x,this.shadowOrigY=this.shadow.position.y,this.icon.interactive=!0,this.icon.buttonMode=!0,this.shadow.interactive=!1,this.interactive=!0},b.prototype.destroy=function(){this.removeAllListeners(),this.buttonContainer=null,this.icon=null,this.shadow=null},b.prototype.clearInteractions=function(){this.removeAllListeners(),this.initialOnAnimation&&this.initialOnAnimation.kill()},b.prototype.disableCGButton=function(){this.buttonContainer.alpha=.5,this.disabled=!0},b.prototype.enableCGButton=function(){this.buttonContainer.alpha=1,this.disabled=!1},b.prototype.buttonInit=function(a,b){0==b&&(this.animateEffect=!1),1==a?(this.icon.scale.x=this.icon.scale.y=1,this.shadow.position.x=0,this.shadow.position.y=0,this.shadow.scale.x=this.shadow.scale.y=1,this.shadow.alpha=0,this.buttonContainer.scale.x=0,this.buttonContainer.scale.y=0,this.initialOnAnimation&&this.initialOnAnimation.kill(),this.initialOnAnimation=new TimelineMax,this.initialOnAnimation.add(TweenMax.to(this.buttonContainer.scale,.2,{x:1,y:1,delay:Game.getRandom(0,.2),ease:Expo.easeIn})),this.initialOnAnimation.add([TweenMax.to(this.shadow.position,.2,{x:this.shadowOrigX,y:this.shadowOrigY,ease:Expo.easeIn}),TweenMax.to(this.shadow,.2,{alpha:.5,ease:Expo.easeIn})])):0==a&&(this.icon.scale.x=this.icon.scale.y=1,this.shadow.position.x=this.shadowOrigX,this.shadow.position.y=this.shadowOrigY,this.shadow.scale.x=this.shadow.scale.y=1,this.shadow.alpha=.5,this.buttonContainer.scale.x=1,this.buttonContainer.scale.y=1)},b}(DisplayObjectContainer),Game=function(){function a(b,c,d,e,f,g,h,i,j){this.lastOrientationCorrect=!1,this.initLoaded=!1,this.scenes={},this.pixiInitialalised=!1,this.paused=!1,this.initialOrientationStatTaken=!1,this.iOSScrollMode=!1,this.allowScrollOverlay=!1,this.getURLValue=function(a){var b=!1;return window.location.href.indexOf(a)>-1&&(b=!0),b},a.basePath=b,a.loc=c,a.ieVer=h,this.crossGameCurrencyOwned=!1,this.crossGameCurrencyIsNew=!1,a.holderDiv=document.getElementById(d),this.visualAssets=e,this.audioAssets=f,this.loadingPrefix=g,this.scenes=new Array,this.initialised=!1,this.useRetinaAssests=i,this.deeplinkConfigURL=j,1==this.useRetinaAssests?(this.pixelRatio=window.devicePixelRatio,this.pixelRatio>2&&(this.pixelRatio=1)):this.pixelRatio=1,a.assetResolutionPath="@"+String(this.pixelRatio)+"x/",window.doobStats&&this.startStats(0)}return a.prototype.initialise=function(b,c,d,e,f){this.setViewportTag(),this.initialAssets=f,this.storedInitialAssets=this.initialAssets,a.onDesktop=this.isDesktop(),a.isLowEndIPad=this.isLowEndIPad(),this.mobileDetect=new MobileDetect(window.navigator.userAgent),0==a.onDesktop&&(this.addMobileCSS(),"iPhone"==this.mobileDetect.phone()&&"iOS"==this.mobileDetect.os()&&(a.oniPhone=!0),"AndroidOS"==this.mobileDetect.os()&&(a.onAndroid=!0)),this.webAudio=this.isWebAudio(),a.displayStore=new DisplayStore(this),a.gameWidth=b,a.gameHeight=c,a.fps=e,1==a.isLowEndIPad&&(a.fps=e/2),a.bodyElement=document.getElementsByTagName("body")[0],this.rotateOverlay=document.getElementById("rotate-overlay"),this.scrollOverlay=document.getElementById("scroll-overlay"),this.scrollOverlay.style.position="absolute",this.scrollOverlay.style.left="0px",this.targetOrientation=d,this.loadModule=new LoadModule(this),this.touchEnabled=!1,a.audioManager=new AudioManagerMk2(this,a.onDesktop,this.webAudio),this.ui=new UI(this),this.checkOrientation(!1,this),this.setFocusEvents();var g=this.mobileDetect.mobile(),h=this.mobileDetect.os();null==g&&(g="desktop"),null==h&&(h="desktop")},a.prototype.addRenderer=function(a){0==a.pixiInitialalised&&(a.pixiInitialalised=!0,a.addPixiRenderer())},a.prototype.init=function(a){a.initPIXI(),a.startGameLoop(a),a.addRenderer(a),a.loadAssets(a.initialAssets,!0,function(){a.ui.initUI(),a.setRotateOverlayBG(),a.setScrollMode(),a.setScene(a.targetInitialScene,!1),a.initLoaded=!0})},a.prototype.setScrollMode=function(){if(0==a.onDesktop&&1==a.oniPhone&&1==this.allowScrollOverlay){var b=a.displayStore.getSprite("scroll-bg");this.scrollOverlay.style.backgroundImage="url('"+b.textureURL+"')",document.addEventListener("touchstart",function(a){});var c=this;document.addEventListener("touchmove",function(a){0==c.iOSScrollMode&&a.preventDefault&&a.preventDefault()})}},a.prototype.addMobileCSS=function(){var b=document.createElement("link");b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),b.setAttribute("href",a.basePath+"styles/mobile.css"),document.getElementsByTagName("head")[0].appendChild(b)},a.prototype.setRotateOverlayBG=function(){var b=a.displayStore.getSprite("wrong-orientation-bg");this.rotateOverlay.style.backgroundImage="url('"+b.textureURL+"')"},a.prototype.checkOrientation=function(b,c){var d=c;d.initialised=b;var e=d.detectBrowserViewport().w,f=d.detectBrowserViewport().h;if(a.onDesktop)0==d.initialised?(d.gameInit(),d.initialised=!0):d.checkResize(e,f);else{e<f?d.currentOrientation="portrait":f<e&&e>400&&(d.currentOrientation="landscape"),0==d.initialOrientationStatTaken&&(d.initialOrientationStatTaken=!0);var g;d.currentOrientation!=d.targetOrientation?g=!1:d.currentOrientation==d.targetOrientation&&(g=!0),"any"==d.targetOrientation&&(g=!0),0==d.initialised&&0==g?d.applyRotateOverlay(!0,e,f):0==d.initialised&&1==g?(d.gameInit(),d.initialised=!0):1==d.initialised&&0==g?d.orientGame(e,f):1==d.initialised&&1==g&&(d.orientGame(e,f),d.checkResize(e,f))}setTimeout(function(){d.checkOrientation(d.initialised,d)},500)},a.prototype.orientGame=function(a,b){var c=!1;this.targetOrientation!=this.currentOrientation&&"landscape"!=this.currentOrientation||(c=!0),this.lastOrientationCorrect!=c&&(this.lastOrientationCorrect=c,c?(this.applyRotateOverlay(!1,a,b),this.correctOrientation=!0):(this.applyRotateOverlay(!0,a,b),this.correctOrientation=!1))},a.prototype.applyRotateOverlay=function(b,c,d){if("any"==this.targetOrientation)return a.holderDiv.className="active","portrait"==this.currentOrientation&&this.setScrollOverlay(!1,0),void this.centerGameOnScreen();if(1==b){if(this.rotateOverlay.className="active",a.holderDiv.removeAttribute("class"),this.rotateOverlay.style.width=c+"px",this.rotateOverlay.style.height=d+"px",this.setScrollOverlay(!1,c),0==this.initialised)return}else if(0==b){if(this.rotateOverlay.removeAttribute("class"),a.holderDiv.className="active",0==this.initialised)return;this.centerGameOnScreen()}},a.prototype.setScrollOverlay=function(b,c){0==b?(this.scrollOverlay.removeAttribute("class"),this.scrollOverlay.style.height="100px",a.holderDiv.style.top="0px",a.holderDiv.className="active",this.centerGameOnScreen()):1==b&&(this.scrollOverlay.className="active",a.holderDiv.removeAttribute("class"),this.scrollOverlay.style.height="9999999999999999px",this.scrollOverlay.style.width=String(c)+"px",window.scrollTo(0,0))},a.prototype.checkResize=function(b,c){if(b!=this.lastViewportWidth||c!=this.lastViewportHeight){if(1==a.oniPhone&&"landscape"==this.currentOrientation&&1==this.allowScrollOverlay){this.iOSScrollMode=!0;for(var d=[[320,480],[320,568],[375,667],[414,736]],e=0;e<d.length;e++){var f=d[e],g=(window.screen.height==f[0]&&window.screen.width==f[1]||window.screen.width==f[0]&&(window.screen.height,f[1]),f[0]);window.innerHeight==g&&(this.iOSScrollMode=!1)}this.setScrollOverlay(this.iOSScrollMode,b)}this.centerGameOnScreen()}this.lastViewportWidth=b,this.lastViewportHeight=c},a.prototype.gameInit=function(){a.holderDiv.style.width=a.gameWidth+"px",a.holderDiv.style.height=a.gameHeight+"px",a.stageWidth=a.gameWidth,a.stageHeight=a.gameHeight;var b=this,c=new PIXI.loaders.Loader;c.add(this.deeplinkConfigURL),c.once("complete",function(a){b.parseDeepLinkJSON(b,a.resources[b.deeplinkConfigURL].data.games[0])}),c.load()},a.prototype.parseDeepLinkJSON=function(a,b){var c;for(var d in b){var e="\\b"
;if(e+=a.escapeRegExp(b[d]),e+="\\b",1==new RegExp(e,"i").test(window.location.href)){c=d;break}}switch(a.runningHubMode=!1,c){case"food-fight":a.initialAssets.push("food-fight-assets"),a.initialAssets.push("title-food-fight-assets"),a.initialAssets.push("intro-food-fight-assets"),a.initialAssets.push("food-fight-audio"),a.setLoadingScreen("loadingScene"),a.targetInitialScene="foodFightTitleScene";break;case"trash":a.initialAssets.push("trash-assets"),a.initialAssets.push("title-trash-assets"),a.initialAssets.push("intro-trash-assets"),a.initialAssets.push("trash-audio"),a.setLoadingScreen("loadingScene"),a.targetInitialScene="trashTitleScene";break;case"loud-laundry":a.initialAssets.push("loud-laundry-assets"),a.initialAssets.push("title-loud-laundry-assets"),a.initialAssets.push("intro-loud-laundry-assets"),a.initialAssets.push("loud-laundry-audio"),a.setLoadingScreen("loadingScene"),a.targetInitialScene="loudLaundryTitleScene";break;case"geo-roll":a.initialAssets.push("geo-roll-assets"),a.initialAssets.push("title-geo-roll-assets"),a.initialAssets.push("intro-geo-roll-assets"),a.initialAssets.push("geo-roll-audio"),a.setLoadingScreen("loadingScene"),a.targetInitialScene="geoRollTitleScene";break;case"all-games":case void 0:a.runningHubMode=!0,a.initialAssets.push("main-game-title-screen-assets"),a.initialAssets.push("hub-assets"),a.initialAssets.push("hub-audio"),a.initialAssets.push("title-audio"),a.setLoadingScreen("loadingScene"),a.targetInitialScene="titleScene"}a.initAudio(a.loadModule),a.init(a),"any"==a.targetOrientation?a.applyRotateOverlay(!1,0,0):a.centerGameOnScreen()},a.prototype.centerGameOnScreen=function(){var b=this.detectBrowserViewport().w,c=this.detectBrowserViewport().h;if(a.onDesktop,1){this.scaleStage(b,c);var d=.5*(b-this.currentStageWidth),e=.5*(c-this.currentStageHeight);a.holderDiv.style.position="absolute",a.holderDiv.style.left=d+"px",a.holderDiv.style.top=e+"px",a.gameOffset=this.getGameOffset(a.holderDiv),1==a.onAndroid&&this.launchIntoFullscreen(document.documentElement)}else a.gameOffset=this.getGameOffset(a.holderDiv),a.holderDiv.style.position="absolute",a.holderDiv.style.top=(c-a.stageHeight)/2+"px",a.holderDiv.style.left=(b-a.stageWidth)/2+"px"},a.prototype.scaleStage=function(b,c){var d=c/b,e=a.stageHeight/a.stageWidth;d<e?(a.windowScaleFactor=c/a.stageHeight,this.currentStageWidth=c/e,this.currentStageHeight=c):(a.windowScaleFactor=b/a.stageWidth,this.currentStageWidth=b,this.currentStageHeight=b*e),a.holderDiv.style.width=this.currentStageWidth+1+"px",a.holderDiv.style.height=this.currentStageHeight+1+"px",this.resizePixiCanvas(this.currentStageWidth,this.currentStageHeight)},a.prototype.resizePixiCanvas=function(b,c){a.renderer&&a.renderer.resize(b,c);for(var d in this.scenes)this.scenes[d].resize(a.windowScaleFactor);this.ui&&this.ui.resize(a.windowScaleFactor)},a.prototype.addScene=function(a){var b=new a(this);this.scenes[b.id]=b},a.prototype.setLoadingScreen=function(a){this.currentLoadingScene=this.scenes[a]},a.prototype.setScene=function(b,c,d){void 0===c&&(c=!1);var e=0;1==c&&(e=.4,a.playSound("transition")),this.scenes[b]?(this.currentScene&&(this.currentScene.interactionLocked=!0,this.currentScene.interactive=!1,e>0&&this.currentScene.initTransitionOut(e)),e>0?this.setSceneDelay=TweenMax.delayedCall(e,this.initSceneSwap,[this,e,b,d]):this.initSceneSwap(this,e,b,d)):a.trace("Can't find scene!"+b)},a.prototype.initSceneSwap=function(b,c,d,e){b.currentScene&&0==b.currentScene.paused&&(b.currentScene.destroy(),b.currentScene.render=!1),b.currentScene=b.scenes[d],b.currentScene.addUI(b.ui.uiContainer),b.ui.resize(a.windowScaleFactor),b.currentScene&&0==b.currentScene.paused?(b.currentScene.init(e),b.currentScene.initTransitionIn(c)):b.currentScene&&1==b.currentScene.paused&&(b.currentScene.interactionLocked=!1,b.currentScene.restore())},a.prototype.startStats=function(a){this.stats=new Stats,this.stats.setMode(a),this.stats.domElement.style.position="absolute",this.stats.domElement.style.right="0px",this.stats.domElement.style.bottom="0px",document.body.appendChild(this.stats.domElement)},a.prototype.initPIXI=function(){a.renderer=PIXI.autoDetectRenderer(a.stageWidth,a.stageHeight,{autoResize:!0,resolution:this.pixelRatio}),a.renderer instanceof PIXI.CanvasRenderer?a.webGL=!1:a.webGL=!0},a.prototype.addPixiRenderer=function(){a.holderDiv.appendChild(a.renderer.view)},a.prototype.startGameLoop=function(b){1==a.isLowEndIPad?TweenMax.ticker.useRAF(!1):TweenMax.ticker.useRAF(!0),TweenMax.ticker.fps(a.fps),TweenMax.ticker.addEventListener("tick",b.loopFuncRef=function(){b.tick(b)})},a.prototype.loadAssets=function(a,b,c,d){if(this.loadModule.reset(b),1==b&&!d)return void this.loadPreloaderAssets(this,a,c);var e;1==b&&1==d&&(1==this.ui.uiInitialised?(e=1,this.setScene(this.currentLoadingScene.id,!1)):(e=0,this.setScene(this.currentLoadingScene.id,!1)));for(var f=0;f<a.length;f++){for(var g in this.visualAssets)g!=a[f]||this.loadModule.prepareLoad(a[f],this.visualAssets[g],"visual",b);for(var g in this.audioAssets)g!=a[f]||this.loadModule.prepareLoad(a[f],this.audioAssets[g],"audio",b)}var h=this;TweenMax.delayedCall(e,function(){h.loadModule.load(c)})},a.prototype.loadPreloaderAssets=function(a,b,c){a.loadAssets(a.currentLoadingScene.getPreloaderAssetList(),!1,function(){a.loadAssets(b,!0,c,!0)},!0)},a.prototype.tick=function(b){if(1!=b.paused){var c=b;c.stats&&c.stats.begin(),c.currentScene&&(1==c.currentScene.render?a.renderer.render(c.currentScene):0==c.currentScene.render&&(c.currentScene.render=!0),c.currentScene.tick()),c.ui&&c.ui.tick(),c.stats&&c.stats.end()}},a.openLink=function(a,b){1==b?window.open(a,"_blank"):window.open(a)},a.trace=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b]},a.prototype.initAudio=function(b){a.audioManager.initAudio(b)},a.playSound=function(b,c,d){a.audioManager.playSound(b,a.audioManager,c,d)},a.getSoundDuration=function(b){return a.audioManager.getSoundDuration(b,a.audioManager)},a.stopSound=function(b){a.audioManager.stopSound(b,a.audioManager)},a.fadeSound=function(b,c,d){a.audioManager.fadeSound(b,c,d,a.audioManager)},a.setSoundVolume=function(b,c){a.audioManager.setVolume(b,c)},a.stopCurrentInterruptableSound=function(){TweenMax.killDelayedCallsTo(a.playSound),a.audioManager.stopCurrentInterruptableSound()},a.pauseSound=function(b){a.audioManager.pauseSound(b,a.audioManager)},a.resumeSound=function(b){a.audioManager.resumeSound(b,a.audioManager)},a.prototype.earnCrossGameCurrency=function(){0!=this.runningHubMode&&1!=this.crossGameCurrencyOwned&&(this.crossGameCurrencyOwned=!0,this.crossGameCurrencyIsNew=!0)},a.prototype.alertCrossGameCurrencyEarned=function(){0!=this.runningHubMode&&(this.crossGameCurrencyIsNew=!1)},a.prototype.launchIntoFullscreen=function(a){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()},a.prototype.detectBrowserViewport=function(){var a=window.innerWidth,b=window.innerHeight;return void 0!==window.innerWidth?(a=window.innerWidth,b=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):(a=720,b=480),{w:a,h:b}},a.prototype.isLowEndIPad=function(){var a=window.navigator.userAgent.toLowerCase();if(a.indexOf("ipod")!=-1||a.indexOf("iphone")!=-1||a.indexOf("ipad")!=-1){var b=window.screen.width*window.devicePixelRatio,c=window.screen.height*window.devicePixelRatio;if(1024==b&&768==c||768==b&&1024==c)return!0}return!1},a.prototype.isDesktop=function(){if(window.forceMobile)return!1;var a=function(){return"ontouchstart"in window||"onmsgesturechange"in window};return 0!=window.screenX||!a()},a.prototype.isWebAudio=function(){var a=!0;return"undefined"!=typeof AudioContext?new AudioContext:"undefined"!=typeof webkitAudioContext?new webkitAudioContext:a=!1,a},a.prototype.setViewportTag=function(){if(!a.onDesktop){document.querySelector("meta[name=viewport]")}},a.prototype.setFocusEvents=function(){function a(a){var d="visible",e="hidden",f={focus:d,focusin:d,pageshow:d,blur:e,focusout:e,pagehide:e};a=a||window.event,a.type in f?c.gameFocusChanged(c,f[a.type]):c.gameFocusChanged(c,this[b]?"hidden":"visible")}var b="hidden",c=this;b in document?document.addEventListener("visibilitychange",a):(b="mozHidden")in document?document.addEventListener("mozvisibilitychange",a):(b="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",a):(b="msHidden")in document?document.addEventListener("msvisibilitychange",a):"onfocusin"in document?document.onfocusin=document.onfocusout=a:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=a},a.prototype.gameFocusChanged=function(a,b){a.currentScene&&a.currentScene.gameFocusChanged(b)},a.getRandom=function(a,b,c){var d=a+Math.random()*(b-a);return 1==c&&(d=Math.round(d)),d},a.prototype.getGameOffset=function(a){var b=0,c=0;if(a.offsetParent)do{b+=a.offsetLeft,c+=a.offsetTop}while(a=a.offsetParent);return{x:b,y:c}},a.prototype.escapeRegExp=function(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},a.windowScaleFactor=1,a.onAndroid=!1,a.oniPhone=!1,a.isLowEndIPad=!1,a.onDesktop=!1,a.numberOfSoundsToPreload=0,a.numberOfAssetsToPreload=0,a.numberOfAssetsLoaded=0,a.soundOn=!0,a}(),AudioManagerMk2=function(){function a(a,b,c){this.failedLoadFlash=!1,this.initialised=!1,this.soundLoadedCallback=function(){},this.flashTimeoutCall=function(){},this.game=a,this.onDesktop=b,this.webAudio=c,this.audioPath="",this.flashModeReady=!1,this.soundLoadAttempted=!1,this.sounds=new Array}return a.prototype.initAudio=function(a){if(this.loadModule=a,void 0!=this.forceMode)return this.force(this.forceMode),void(this.initialised=!0);1==this.onDesktop&&void 0!=Game.ieVer?(this.mode=1,this.flashModeReady=!1,this.initSoundManager()):this.initHowler(this.webAudio),this.initialised=!0},a.prototype.addSoundSpriteSound=function(a,b,c){Game.trace("add sprite!!!!",b,c),this.sounds.push({group:a,id:b,times:c})},a.prototype.addSound=function(a,b){this.loadModule.assetsToLoad++,this.currentAssetLoc="sfx",1==b.loc&&(this.currentAssetLoc="vo/"+Game.loc);var c;c=1==b.loop,b.duration||(b.duration=-1),this.sounds.push({group:a,id:b.url,url:b.url,duration:b.duration,volume:1,loop:c,urlPrefix:this.currentAssetLoc,setToLoad:!1,currentlyPaused:!1})},a.prototype.initHowler=function(a,b){var c=!1;b&&(c=b),(1==a||1==a&&1==c&&0==this.forceMode)&&(this.mode=0,this.assetID="sounds")},a.prototype.initSoundManager=function(){this.assetID="sounds";var a=this;soundManager=new SoundManager,soundManager.setup({url:Game.basePath+"media/swf/",flashVersion:9,preferFlash:!0,debugMode:!0,useHighPerformance:!0,onready:function(){0==a.flashModeReady&&(a.flashModeReady=!0,1==a.soundLoadAttempted&&a.loadSounds()),a=null},ontimeout:function(){a.failedLoadFlash=!0,a.flashTimeoutCall()}}),soundManager.beginDelayedInit()},a.prototype.setLoadCallback=function(a){this.soundLoadedCallback=a},a.prototype.setFlashTimeout=function(a){this.flashTimeoutCall=a},a.prototype.loadSounds=function(){if(0==this.soundLoadAttempted&&(this.soundLoadAttempted=!0),0!=this.flashModeReady||1!=this.mode)for(var a=this,b=0;b<this.sounds.length;b++){var c,d=this.sounds[b];if(1!=d.setToLoad)if(d.setToLoad=!0,0==this.mode)c=new Howl({src:[Game.basePath+"media/audio/"+d.urlPrefix+"/mp3/"+d.url+".mp3",Game.basePath+"media/audio/"+d.urlPrefix+"/ogg/"+d.url+".ogg"],autoplay:!1,loop:d.loop,onload:function(){a.soundLoadedCallback()}}),d.howlSound=c;else if(1==this.mode){if(soundManager.getSoundById(d.id,!0)){a.soundLoadedCallback();continue}soundManager.createSound({id:d.id,url:Game.basePath+"media/audio/"+d.urlPrefix+"/mp3/"+d.url+".mp3",autoLoad:!0,autoPlay:!1,onload:function(){a.soundLoadedCallback()}})}}},a.prototype.playSound=function(a,b,c,d){1!=b.failedLoadFlash&&(d&&1==d&&(this.currentInterruptableSound=a),c&&b.setVolume(a,c),b.startSound(a))},a.prototype.fadeSound=function(a,b,c,d){d.fadeTheSound(a,b,c,d)},a.prototype.getSoundDuration=function(a,b){var c=b.getSoundByID(a);return c&&c.duration?c.duration:-1},a.prototype.startSound=function(a){var b=this.getSoundByID(a);void 0!=b&&b.id==a&&(0==this.mode?b.howlSound&&b.howlSound.play():1==this.mode&&this.soundManagerPlayLoop(a,b.loop))},a.prototype.setVolume=function(a,b){var c=this.getSoundByID(a);0==this.mode&&c.howlSound.volume(b),1==this.mode&&soundManager.setVolume(a,100*b)},a.prototype.fadeTheSound=function(a,b,c,d){var e=d.getSoundByID(a);if(void 0!=e&&e.id==a)if(0==d.mode)e.howlSound&&e.howlSound.fade(e.howlSound._volume,c,1e3*b);else if(1==d.mode){var f={vol:1};TweenMax.to(f,b,{vol:c,onUpdate:function(){soundManager.setVolume(a,100*f.vol)},onComplete:function(){0==c&&soundManager.stop(a)}})}},a.prototype.soundManagerPlayLoop=function(a,b){var c=this;soundManager.play(a,{onfinish:function(){1==b&&c.soundManagerPlayLoop(a,b)}})},a.prototype.pauseSound=function(a,b){var c=b.getSoundByID(a);if((1!=b.failedLoadFlash||1!=b.mode)&&void 0!=c)return c.id==a?void(0==b.mode?c.howlSound&&1==c.howlSound.playing()&&(c.currentlyPaused=!0,c.howlSound.pause()):1==b.mode&&(c.currentlyPaused=!0,soundManager.pause(a))):void 0},a.prototype.resumeSound=function(a,b){var c=b.getSoundByID(a);if(void 0!=c&&(1!=b.failedLoadFlash||1!=b.mode))return c.id==a&&1==c.currentlyPaused?(c.currentlyPaused=!1,void(0==b.mode?c.howlSound&&c.howlSound.play():1==b.mode&&soundManager.resume(a))):void 0},a.prototype.stopSound=function(a,b){var c=b.getSoundByID(a);1!=b.failedLoadFlash&&void 0!=c&&c.id==a&&(0==b.mode?c.howlSound&&(Game.trace("stopping sound",c,c.howlSound,c.howlerID),c.howlSound.stop()):1==b.mode&&soundManager.stop(a))},a.prototype.stopCurrentInterruptableSound=function(){this.currentInterruptableSound&&this.stopSound(this.currentInterruptableSound,this)},a.prototype.flush=function(a){if(Game.trace("Flushing audio system!",a,this.mode),0==this.mode)for(var b=this.sounds.length-1;b>=0;b--){var c=this.sounds[b];if(c.group==a){if(0==this.checkSoundFlushable(a,c.id)){this.sounds.splice(b,1);continue}var d=this.sounds.splice(b,1);d[0].howlSound.stop(),d[0].howlSound.unload(),d[0]=null,d=null}c=null}else if(1==this.mode&&this.sounds)for(var b=this.sounds.length-1;b>=0;b--){var c=this.sounds[b];if(c.group==a){if(0==this.checkSoundFlushable(a,c.id)){var d=this.sounds.splice(b,1);soundManager.stop(d[0].id),d=null;continue}var d=this.sounds.splice(b,1);soundManager.stop(d[0].id),soundManager.destroySound(d[0].id),d[0]=null,d=null}c=null}},a.prototype.checkSoundFlushable=function(a,b){for(var c=!0,d=this.sounds.length-1;d>=0;d--){var e=this.sounds[d];e.group!=a&&e.id==b&&(c=!1)}return c},a.prototype.soundOn=function(){0==this.mode?Howler.mute(!1):1==this.mode&&soundManager.unmute()},a.prototype.soundOff=function(){0==this.mode?Howler.mute(!0):1==this.mode&&soundManager.mute()},a.prototype.getSoundByID=function(a){for(var b=0;b<this.sounds.length;b++){var c=this.sounds[b];if(a==c.id)return c}},a.prototype.listGroupsLoaded=function(){for(var a=new Array,b=0;b<this.sounds.length;b++)0==this.checkExists(this.sounds[b].group,a)&&a.push(this.sounds[b].group);for(var b=0;b<a.length;b++)Game.trace("Members of this group are loaded: ",a[b])},a.prototype.listAssetsLoaded=function(){for(var a=0;a<this.sounds.length;a++)Game.trace("Asset loaded: ",this.sounds[a].id," - From group: ",this.sounds[a].group)},a.prototype.checkExists=function(a,b){var c=!1;if(0==b.length)return c;for(var d=0;d<b.length;d++)b[d]==a&&(c=!0);return c},a.prototype.force=function(a){this.assetID="sounds";var b;1==a?(b="SOUND MANAGER - FLASH MODE!",this.mode=1,this.initSoundManager()):0==a&&(b="HOWLER - NORMAL MODE!",this.mode=0,this.initHowler(!0,!0)),console.log(":::::::::::::::::::::::::::: FORCE AUDIO DEBUG MODE - "+this.forceMode+" => "+b)},a}(),LoadModule=function(){function a(a){this.firstLoadComplete=!1,this.game=a,this.showSpinnerTime=1}return a.prototype.prepareLoad=function(a,b,c,d,e){this.currentType=c,this.neverFlushCurrent=!1,this.preloadCurrent=d;for(var f=0;f<b.length;f++)1!=b[f].neverFlush||(this.neverFlushCurrent=!0);if("visual"==this.currentType)for(var f=0;f<b.length;f++){if(this.itemPoolNumber=0,b[f].pool&&(this.itemPoolNumber=b[f].pool),e&&0!=this.itemPoolNumber)throw new ReferenceError('Ooops! You can only set "pool" attribute on elements at root level of Visual Assets manifest..');if(0==this.itemPoolNumber)b[f].pooled=!1,this.createVisualAsset(f,a,b[f],b,e);else{var g;g=b[f].id?b[f].id:b[f].url;for(var h=0;h<this.itemPoolNumber;h++)b[f].pooledID=g+h,b[f].pooled=!0,this.createVisualAsset(f,a,b[f],b,e)}}else if("audio"==this.currentType)for(var f=0;f<b.length;f++)b[f].url&&Game.audioManager.addSound(a,b[f])},a.prototype.createVisualAsset=function(a,b,c,d,e){if(c.platformspecific){if("desktop"==c.platformspecific&&0==Game.onDesktop)return;if("mobile"==c.platformspecific&&1==Game.onDesktop)return}if(c.url){if("misc"==c.type)return this.loadMiscFileType(c),void this.assetsToLoad++;("displacement"==c.type&&1==Game.webGL||"displacement"!=c.type)&&(this.createSpriteOrSpine(a,b,c,e),this.assetsToLoad++)}else if(c.children){var f,g=c.children;if("button"==c.type?f=new UIButton:(f=new DisplayObjectContainer,c.pooledID&&(f.pooled=c.pooled,f.pooledUniqueID=c.pooledID)),f.group=b,f.id=c.id,f.neverFlush=this.neverFlushCurrent,c.anchor){var h=!1;c.anchor[2]&&(h=c.anchor[2]),f.setRegPoint(c.anchor[0],c.anchor[1],h),f.origPivot={x:c.anchor[0],y:c.anchor[1],compensate:h},f.defaultPivot=!1}c.x&&(f.origX=c.x,f.position.x=f.origX),c.y&&(f.origY=c.y,f.position.y=f.origY),e?e.addChild(f):"button"==c.type?Game.displayStore.addButton(f):Game.displayStore.addContainer(f),this.prepareLoad(b,g,this.currentType,this.preloadCurrent,f)}},a.prototype.loadMiscFileType=function(a){var b=Game.basePath;this.assetsPreparedForLoad.push({type:a.type,path:b,url:a.url})},a.prototype.createSpriteOrSpine=function(a,b,c,d){this.currentAssetLoc="base/",this.currentSpineFolder="",this.currentSpritesheetFolder="",this.currentAssetResPath=Game.assetResolutionPath;var e="sprite",f=this.game.pixelRatio;void 0!=c.retina&&0==c.retina&&(this.currentAssetResPath="@1x/",f=1),0==this.game.useRetinaAssests&&(this.currentAssetResPath="@1x/",f=1),1==c.loc&&(this.currentAssetLoc="localized/"+Game.loc+"/"),"spine"==c.type&&(this.currentSpineFolder=c.dir+"/",this.spinesToLoad++),"spritesheet"==c.type&&(this.currentSpritesheetFolder=c.dir+"/",this.spritesheetsToLoad++),"bitmaptext"==c.type&&(this.currentBitmapFontFolder=c.dir+"/",this.bitmapFontsToLoad++),c.type&&(e=c.type);var g;g="spine"==e?Game.basePath+"media/images/"+this.currentAssetResPath+this.currentAssetLoc+this.currentSpineFolder:"spritesheet"==e?Game.basePath+"media/images/"+this.currentAssetResPath+this.currentAssetLoc+this.currentSpritesheetFolder:"bitmaptext"==e?Game.basePath+"media/images/"+this.currentAssetResPath+this.currentAssetLoc+this.currentBitmapFontFolder:Game.basePath+"media/images/"+this.currentAssetResPath+this.currentAssetLoc;var h;h=c.id?c.id:c.url;var i;c.pooledID&&(i=c.pooledID),this.assetsPreparedForLoad.push({index:a,type:e,group:b,id:h,pooledID:i,pooled:c.pooled,path:g,url:c.url,dir:c.dir,atlasJSON:c.atlas,skeletonJSON:c.skeleton,container:d,x:c.x,y:c.y,anchor:c.anchor,w:c.w,h:c.h,frames:c.frames,fontname:c.fontname,fontdata:c.fontdata,textureResolution:f})},a.prototype.load=function(a){0==this.preloadCurrent&&TweenMax.delayedCall(this.showSpinnerTime,this.showSpinner,[this]),this.loadedCallback=a;for(var b=new Array,c=0;c<this.assetsPreparedForLoad.length;c++)b.push(this.assetsPreparedForLoad[c].path+this.assetsPreparedForLoad[c].url);var d=b.length;b=this.remove_duplicates(b);var e=d-b.length;this.assetsToLoad=this.assetsToLoad-e;var f=new PIXI.loaders.Loader;f.add(b,!0);var g=this;f.on("progress",this.checkLoadedFuncRef=function(a,b){g.assetsLoaded++,g.checkAllAssetsLoaded(g)}),Game.audioManager.setLoadCallback(this.checkLoadedFuncRef=function(){g.assetsLoaded++,g.checkAllAssetsLoaded(g)}),Game.audioManager.setFlashTimeout(this.flashTimeoutFuncRef=function(){}),Game.audioManager.loadSounds(),f.load()},a.prototype.checkAllAssetsLoaded=function(a){1==a.usePreload&&a.game.currentScene&&a.game.currentScene.onLoadUpdate(a.assetsLoaded,a.assetsToLoad),a.assetsLoaded==a.assetsToLoad&&TweenMax.delayedCall(.1,function(){a.buildAllSprites(),a.checkAllSpinesLoaded(a)})},a.prototype.checkAllSpinesLoaded=function(a){a.spinesToLoad==a.spinesLoaded&&a.spritesheetsToLoad==a.spritesheetsLoaded&&a.bitmapFontsToLoad==a.bitmapFontsLoaded&&setTimeout(function(){TweenMax.killDelayedCallsTo(a.showSpinner),a.hideSpinner(),a.loadedCallback()},a.callbackDelay)},a.prototype.buildAllSprites=function(){for(var a=0;a<this.assetsPreparedForLoad.length;a++)"sprite"==this.assetsPreparedForLoad[a].type?this.buildSprite({index:this.assetsPreparedForLoad[a].index,type:this.assetsPreparedForLoad[a].type,id:this.assetsPreparedForLoad[a].id,pooled:this.assetsPreparedForLoad[a].pooled,pooledID:this.assetsPreparedForLoad[a].pooledID,group:this.assetsPreparedForLoad[a].group,path:this.assetsPreparedForLoad[a].path,url:this.assetsPreparedForLoad[a].url,container:this.assetsPreparedForLoad[a].container,x:this.assetsPreparedForLoad[a].x,y:this.assetsPreparedForLoad[a].y,anchor:this.assetsPreparedForLoad[a].anchor,w:this.assetsPreparedForLoad[a].w,h:this.assetsPreparedForLoad[a].h,textureResolution:this.assetsPreparedForLoad[a].textureResolution}):"spine"==this.assetsPreparedForLoad[a].type?this.buildSpineObject({index:this.assetsPreparedForLoad[a].index,type:this.assetsPreparedForLoad[a].type,id:this.assetsPreparedForLoad[a].id,pooled:this.assetsPreparedForLoad[a].pooled,pooledID:this.assetsPreparedForLoad[a].pooledID,group:this.assetsPreparedForLoad[a].group,path:this.assetsPreparedForLoad[a].path,url:this.assetsPreparedForLoad[a].url,dir:this.assetsPreparedForLoad[a].dir,atlasJSON:this.assetsPreparedForLoad[a].atlasJSON,skeletonJSON:this.assetsPreparedForLoad[a].skeletonJSON,container:this.assetsPreparedForLoad[a].container,x:this.assetsPreparedForLoad[a].x,y:this.assetsPreparedForLoad[a].y,anchor:this.assetsPreparedForLoad[a].anchor,textureResolution:this.assetsPreparedForLoad[a].textureResolution}):"tile"==this.assetsPreparedForLoad[a].type?this.buildTilingSprite({index:this.assetsPreparedForLoad[a].index,type:this.assetsPreparedForLoad[a].type,id:this.assetsPreparedForLoad[a].id,pooled:this.assetsPreparedForLoad[a].pooled,pooledID:this.assetsPreparedForLoad[a].pooledID,group:this.assetsPreparedForLoad[a].group,path:this.assetsPreparedForLoad[a].path,url:this.assetsPreparedForLoad[a].url,container:this.assetsPreparedForLoad[a].container,x:this.assetsPreparedForLoad[a].x,y:this.assetsPreparedForLoad[a].y,w:this.assetsPreparedForLoad[a].w,h:this.assetsPreparedForLoad[a].h,textureResolution:this.assetsPreparedForLoad[a].textureResolution}):"spritesheet"==this.assetsPreparedForLoad[a].type?this.buildSpritesheetObject({index:this.assetsPreparedForLoad[a].index,type:this.assetsPreparedForLoad[a].type,id:this.assetsPreparedForLoad[a].id,pooled:this.assetsPreparedForLoad[a].pooled,pooledID:this.assetsPreparedForLoad[a].pooledID,group:this.assetsPreparedForLoad[a].group,path:this.assetsPreparedForLoad[a].path,url:this.assetsPreparedForLoad[a].url,dir:this.assetsPreparedForLoad[a].dir,atlasJSON:this.assetsPreparedForLoad[a].atlasJSON,container:this.assetsPreparedForLoad[a].container,x:this.assetsPreparedForLoad[a].x,y:this.assetsPreparedForLoad[a].y,anchor:this.assetsPreparedForLoad[a].anchor,frames:this.assetsPreparedForLoad[a].frames,textureResolution:this.assetsPreparedForLoad[a].textureResolution}):"bitmaptext"==this.assetsPreparedForLoad[a].type&&this.buildBitmapFontObject({index:this.assetsPreparedForLoad[a].index,type:this.assetsPreparedForLoad[a].type,id:this.assetsPreparedForLoad[a].id,pooled:this.assetsPreparedForLoad[a].pooled,pooledID:this.assetsPreparedForLoad[a].pooledID,group:this.assetsPreparedForLoad[a].group,path:this.assetsPreparedForLoad[a].path,url:this.assetsPreparedForLoad[a].url,dir:this.assetsPreparedForLoad[a].dir,container:this.assetsPreparedForLoad[a].container,x:this.assetsPreparedForLoad[a].x,y:this.assetsPreparedForLoad[a].y,anchor:this.assetsPreparedForLoad[a].anchor,fontdata:this.assetsPreparedForLoad[a].fontdata,fontname:this.assetsPreparedForLoad[a].fontname,textureResolution:this.assetsPreparedForLoad[a].textureResolution})},a.prototype.buildSprite=function(a){var b=PIXI.Texture.fromImage(a.path+a.url),c=new Sprite(b);c.setTextureResolution(a.textureResolution),c.textureURL=a.path+a.url,c.group=a.group,c.id=a.id,c.neverFlush=this.neverFlushCurrent,c.pooled=a.pooled,c.pooledUniqueID=a.pooledID,this.storeBuiltObject(c,a)},a.prototype.buildSpineObject=function(a){var b,c=a.path+a.skeletonJSON,d=this,e=new PIXI.loaders.Loader,f={metadata:{spineAtlasSuffix:".txt"}};e.add("skeleton",c,f),e.on("complete",function(c,e){b=new Spine(e.skeleton.spineData),b.textureURL=a.path+a.url,b.setTextureResolution(a.textureResolution),b.group=a.group,b.id=a.id,b.pooled=a.pooled,b.pooledUniqueID=a.pooledID,d.spinesLoaded++,d.storeBuiltObject(b,a),d.checkAllSpinesLoaded(d)}),e.load()},a.prototype.buildTilingSprite=function(a){var b=PIXI.Texture.fromImage(a.path+a.url),c=new TilingSprite(b,a.w,a.h);c.textureURL=a.path+a.url,c.setTextureResolution(a.textureResolution),c.group=a.group,c.id=a.id,c.pooled=a.pooled,c.pooledUniqueID=a.pooledID,c.neverFlush=this.neverFlushCurrent,this.storeBuiltObject(c,a)},a.prototype.buildSpritesheetObject=function(a){var b,c,d=a.path+a.atlasJSON,e=this;c=new Array;var f=new PIXI.loaders.Loader;f.add(d),f.once("complete",function(){for(var d=(PIXI.Texture.fromImage(a.path+a.url),0);d<a.frames.length;d++){var f=PIXI.Texture.fromFrame(a.frames[d]);c.push(f)}b=new MovieClip(c),b.textureURL=a.path+a.url,b.setTextureResolution(a.textureResolution),b.group=a.group,b.id=a.id,b.pooled=a.pooled,b.pooledUniqueID=a.pooledID,e.spritesheetsLoaded++,e.storeBuiltObject(b,a),e.checkAllSpinesLoaded(e)}),f.load()},a.prototype.buildBitmapFontObject=function(a){var b,c=a.path+a.fontdata,d=new PIXI.loaders.Loader,e=this;d.add(c,!1),d.once("complete",function(){b=new BitmapText("0000",{font:"80px "+a.fontname,align:"left"}),b.textureURL=a.path+a.url,b.setTextureResolution(a.textureResolution),b.group=a.group,b.id=a.id,b.fontname=a.fontname,b.pooled=a.pooled,b.pooledUniqueID=a.pooledID,b.saveTexture(),e.bitmapFontsLoaded++,e.storeBuiltObject(b,a),e.checkAllSpinesLoaded(e)}),d.load()},a.prototype.storeBuiltObject=function(a,b){if(b.x&&(a.origX=b.x,a.position.x=a.origX),b.y&&(a.origY=b.y,a.position.y=a.origY),b.anchor){var c=!1;b.anchor[2]&&(c=b.anchor[2]),a.setRegPoint(b.anchor[0],b.anchor[1],c),a.origAnchor={x:b.anchor[0],y:b.anchor[1],compensate:c},a.defaultAnchor=!1}if(b.w&&(a.width=b.w),b.h&&(a.height=b.h),b.container){var d=b.index;b.container.children.length<b.index&&(d=b.container.children.length),b.container.addChildAt(a,d)}else"sprite"==b.type?Game.displayStore.addSprite(a):"spine"==b.type?Game.displayStore.addSpine(a):"tile"==b.type?Game.displayStore.addTilingSprite(a):"spritesheet"==b.type?Game.displayStore.addMovieClip(a):"bitmaptext"==b.type&&Game.displayStore.addBitmapText(a)},a.prototype.showSpinner=function(a){a.game.ui&&a.game.ui.showSpinner()},a.prototype.hideSpinner=function(){this.game.ui&&this.game.ui.hideSpinner()},a.prototype.reset=function(a){this.assetsToLoad=0,this.assetsLoaded=0,this.spinesLoaded=0,this.spinesToLoad=0,this.spritesheetsLoaded=0,this.spritesheetsToLoad=0,this.bitmapFontsLoaded=0,this.bitmapFontsToLoad=0,this.usePreload=a,this.loadedCallback=function(){},this.assetsPreparedForLoad=new Array,this.currentType="",this.itemPoolNumber=0,this.callbackDelay=1==a?1e3:0},a.prototype.remove_duplicates=function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;a=[];for(var d in b)a.push(d);return a},a}(),DisplayStore=function(){function a(a){this.game=a,this.displayObjects=new Array,this.loadedIDs=new Array}return a.prototype.addSprite=function(a){this.displayObjects.push(a)},a.prototype.addContainer=function(a){this.displayObjects.push(a)},a.prototype.addButton=function(a){this.displayObjects.push(a)},a.prototype.addSpine=function(a){this.displayObjects.push(a)},a.prototype.addTilingSprite=function(a){this.displayObjects.push(a)},a.prototype.addMovieClip=function(a){this.displayObjects.push(a)},a.prototype.addBitmapText=function(a){this.displayObjects.push(a)},a.prototype.getSpine=function(a){return this.getItem(a)},a.prototype.getSprite=function(a,b){return this.getItem(a,!0)},a.prototype.getContainer=function(a){return this.getItem(a,!0)},a.prototype.getButton=function(a){return this.getItem(a)},a.prototype.getTilingSprite=function(a){return this.getItem(a,!0)},a.prototype.getMovieClip=function(a){return this.getItem(a,!0)},a.prototype.getBitmapText=function(a){return this.getItem(a,!0)},a.prototype.getItem=function(a,b){var c=!1;b&&(c=b);for(var d=!1,e=0;e<this.displayObjects.length;e++){if(this.retrievedItem=this.displayObjects[e],this.retrievedItem.id==a&&0==c&&(d=!0),this.retrievedItem.id==a&&1==c&&0==this.retrievedItem.pooled&&(d=!0),this.retrievedItem.id==a&&1==c&&1==this.retrievedItem.pooled&&0==this.retrievedItem.pooledActive&&(d=!0,this.retrievedItem.pooledActive=!0),1==d)return this.retrievedItem.scale.x=1,this.retrievedItem.scale.y=1,this.retrievedItem.rotation=0,"number"==typeof this.retrievedItem.origX&&(this.retrievedItem.position.x=this.retrievedItem.origX),"number"==typeof this.retrievedItem.origY&&(this.retrievedItem.position.y=this.retrievedItem.origY),this.retrievedItem.origAnchor&&("number"==typeof this.retrievedItem.origAnchor.x&&(this.retrievedItem.anchor.x=this.retrievedItem.origAnchor.x),"number"==typeof this.retrievedItem.origAnchor.y&&(this.retrievedItem.anchor.y=this.retrievedItem.origAnchor.y)),this.retrievedItem.origPivot&&("number"==typeof this.retrievedItem.origPivot.x&&(this.retrievedItem.pivot.x=this.retrievedItem.origPivot.x),"number"==typeof this.retrievedItem.origPivot.y&&(this.retrievedItem.pivot.y=this.retrievedItem.origPivot.y)),"boolean"==typeof this.retrievedItem.defaultAnchor&&0==this.retrievedItem.defaultAnchor&&this.retrievedItem.setRegPoint(this.retrievedItem.origAnchor.x,this.retrievedItem.origAnchor.y,this.retrievedItem.origAnchor.compensate),"boolean"==typeof this.retrievedItem.defaultPivot&&0==this.retrievedItem.defaultPivot&&this.retrievedItem.setRegPoint(this.retrievedItem.origPivot.x,this.retrievedItem.origPivot.y,this.retrievedItem.origPivot.compensate),this.retrievedItem;e==this.displayObjects.length-1&&this.displayObjects[e].id!=a&&console.log(this,"ERROR! Can't find sprite with ID:",a)}},a.prototype.returnPooledItem=function(a){for(var b=a,c=0;c<this.displayObjects.length;c++)if(b==this.displayObjects[c]&&1==b.pooled&&1==b.pooledActive&&b.pooledUniqueID==this.displayObjects[c].pooledUniqueID)return void(this.displayObjects[c].pooledActive=!1)},a.prototype.flush=function(a){for(var b=0;b<a.length;b++)for(var c=this.displayObjects.length-1;c>=0;c--)if(this.displayObjects[c].group==a[b]&&0==this.displayObjects[c].neverFlush){var d=this.displayObjects.splice(c,1);d[0].destroy(),d[0]=null,d=null}},a.prototype.checkTextureDeletable=function(a){for(var b=0;b<this.displayObjects.length;b++)if(this.displayObjects[b].items){if(0==this.checkItemsChildrenForTexture(this.displayObjects[b],a))return!1}else if(this.displayObjects[b].textureURL&&this.displayObjects[b].textureURL==a.textureURL&&this.displayObjects[b].group!=a.group)return!1;return!0},a.prototype.checkItemsChildrenForTexture=function(a,b){for(var c in a.items)if(a.items[c].items){if(0==this.checkItemsChildrenForTexture(a.items[c],b))return!1}else if(a.items[c].textureURL&&a.items[c].textureURL==b.textureURL&&a.items[c].group!=b.group)return!1;return!0},a.prototype.listGroupsLoaded=function(){
for(var a=new Array,b=0;b<this.displayObjects.length;b++)0==this.checkExists(this.displayObjects[b].group,a)&&a.push(this.displayObjects[b].group);for(var b=0;b<a.length;b++)console.log("Members of this group are loaded: ",a[b])},a.prototype.checkExists=function(a,b){var c=!1;if(0==b.length)return c;for(var d=0;d<b.length;d++)b[d]==a&&(c=!0);return c},a.prototype.listAssetsLoaded=function(){for(var a=0;a<this.displayObjects.length;a++)console.log("Asset loaded: ",this.displayObjects[a].id," - From group: ",this.displayObjects[a].group,this.displayObjects[a].pooledActive)},a}();