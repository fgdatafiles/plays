pc.script.attribute("spinningSpeed","number",10),pc.script.create("Ring",function(a){var b=function(a){this.entity=a,this.directionNormal=new pc.Vec3},c=null;return b.prototype={initialize:function(){this.bodyWrapper=this.entity.script.BodyWrapper,this.isFlyingThrough=!1,this.ringMissionScript=this.entity.getParent().getParent().script.MissionRings,c||(c=a.root.findByName("AudioPlayer").script.AudioController),0!==this.entity.getLocalEulerAngles().y?this.directionNormal.set(1,0,0):this.directionNormal.set(0,0,1)},onEnable:function(){this.bodyWrapper.on("onCollisionEnter",this.onCollisionEnter,this),this.bodyWrapper.on("onCollisionExit",this.onCollisionExit,this)},onDisable:function(){this.bodyWrapper.off("onCollisionEnter",this.onCollisionEnter,this),this.bodyWrapper.off("onCollisionExit",this.onCollisionExit,this)},update:function(a){PAUSE},onCollisionExit:function(a){if(this.isFlyingThrough){var b=this,d=250;"dash"===a.script.entity.script.PlayerController.current&&(d=80),setTimeout(function(){b.ringMissionScript.collectRing(1),b.entity.enabled=!1,c._playSFX("ring")},d)}isFlyingThrough=!1},onCollisionEnter:function(a,b){if("Player"===a.name){var c=b.normal,d=pc.Utils.angleBetweenTwoVectors(this.directionNormal,c);d%180!==0?a.script.entity.script.PlayerController.can("bounceOffEvent")&&a.script.entity.script.PlayerController.bounceOffEvent():this.isFlyingThrough=!0}},_spin:function(a){this.entity.rotateLocal(0,this.spinningSpeed*a,0)}},b});