/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function u(a,b){function c(){}c.prototype=a;var e=new c,j;for(j in b)e[j]=b[j];b.toString!==Object.prototype.toString&&(e.toString=b.toString);return e}function oe(a){return a instanceof Array?function(){return E.iter(a)}:"function"==typeof a.iterator?t(a,a.iterator):a.iterator}function t(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=De++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var i={},f=function(){return P.__string_rec(this,"")},mb=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};i.EReg=mb;mb.__name__=["EReg"];mb.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw"EReg::matched";},matchedPos:function(){if(null==this.r.m)throw"No string matched";
return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:mb};var E=function(){};i.HxOverrides=E;E.__name__=["HxOverrides"];E.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),e=a.getHours(),j=a.getMinutes(),I=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>e?"0"+e:""+e)+":"+(10>j?"0"+j:""+j)+":"+(10>I?"0"+I:""+I)};E.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);
return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+a;}};E.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};E.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};E.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;
a.splice(c,1);return!0};E.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var rb=function(){};i.Lambda=rb;rb.__name__=["Lambda"];rb.array=function(a){for(var b=[],a=oe(a)();a.hasNext();){var c=a.next();b.push(c)}return b};rb.count=function(a,b){var c=0;if(null==b)for(var e=oe(a)();e.hasNext();)e.next(),c++;else for(e=oe(a)();e.hasNext();){var j=e.next();b(j)&&c++}return c};rb.indexOf=function(a,b){for(var c=0,e=
oe(a)();e.hasNext();){var j=e.next();if(b==j)return c;c++}return-1};var bc=function(){this.length=0};i.List=bc;bc.__name__=["List"];bc.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:bc};var Nb=function(){};i.IMap=Nb;Nb.__name__=["IMap"];Nb.prototype={__class__:Nb};Math.__name__=["Math"];
var D=function(){};i.Reflect=D;D.__name__=["Reflect"];D.field=function(a,b){try{return a[b]}catch(c){return null}};D.setField=function(a,b,c){a[b]=c};D.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};D.setProperty=function(a,b,c){var e;if(a.__properties__&&(e=a.__properties__["set_"+b]))a[e](c);else a[b]=c};D.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,e;for(e in a)"__id__"!=e&&"hx__closures__"!=e&&
c.call(a,e)&&b.push(e)}return b};D.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};D.compare=function(a,b){return a==b?0:a>b?1:-1};D.compareMethods=function(a,b){return a==b?!0:!D.isFunction(a)||!D.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};D.isEnumValue=function(a){return null!=a&&null!=a.__enum__};D.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};D.copy=function(a){for(var b={},c=0,
e=D.fields(a);c<e.length;){var j=e[c];++c;D.setField(b,j,D.field(a,j))}return b};var y=function(){};i.Std=y;y.__name__=["Std"];y.is=function(a,b){return P.__instanceof(a,b)};y.string=function(a){return P.__string_rec(a,"")};y["int"]=function(a){return a|0};y.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==E.cca(a,1)||88==E.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};y.parseFloat=function(a){return parseFloat(a)};var Ob=function(){this.b=""};i.StringBuf=Ob;Ob.__name__=["StringBuf"];Ob.prototype=
{add:function(a){this.b+=y.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+E.substr(a,b,null):this.b+E.substr(a,b,c)},__class__:Ob};var Q=function(){};i.StringTools=Q;Q.__name__=["StringTools"];Q.startsWith=function(a,b){return a.length>=b.length&&E.substr(a,0,b.length)==b};Q.isSpace=function(a,b){var c=E.cca(a,b);return 8<c&&14>c||32==c};Q.ltrim=function(a){for(var b=a.length,c=0;c<b&&Q.isSpace(a,c);)c++;return 0<c?E.substr(a,c,b-c):a};Q.rtrim=function(a){for(var b=a.length,c=0;c<b&&Q.isSpace(a,
b-c-1);)c++;return 0<c?E.substr(a,0,b-c):a};Q.trim=function(a){return Q.ltrim(Q.rtrim(a))};Q.replace=function(a,b,c){return a.split(b).join(c)};Q.fastCodeAt=function(a,b){return a.charCodeAt(b)};var K=i.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};K.TNull=["TNull",0];K.TNull.toString=f;K.TNull.__enum__=K;K.TInt=["TInt",1];K.TInt.toString=f;K.TInt.__enum__=K;K.TFloat=["TFloat",2];K.TFloat.toString=f;K.TFloat.__enum__=
K;K.TBool=["TBool",3];K.TBool.toString=f;K.TBool.__enum__=K;K.TObject=["TObject",4];K.TObject.toString=f;K.TObject.__enum__=K;K.TFunction=["TFunction",5];K.TFunction.toString=f;K.TFunction.__enum__=K;K.TClass=function(a){a=["TClass",6,a];a.__enum__=K;a.toString=f;return a};K.TEnum=function(a){a=["TEnum",7,a];a.__enum__=K;a.toString=f;return a};K.TUnknown=["TUnknown",8];K.TUnknown.toString=f;K.TUnknown.__enum__=K;K.__empty_constructs__=[K.TNull,K.TInt,K.TFloat,K.TBool,K.TObject,K.TFunction,K.TUnknown];
var Z=function(){};i.Type=Z;Z.__name__=["Type"];Z.getClassName=function(a){return a.__name__.join(".")};Z.getEnumName=function(a){return a.__ename__.join(".")};Z.resolveClass=function(a){a=i[a];return null==a||!a.__name__?null:a};Z.resolveEnum=function(a){a=i[a];return null==a||!a.__ename__?null:a};Z.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);
case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};Z.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};Z.createEnum=function(a,b,c){var e=D.field(a,b);if(null==e)throw"No such constructor "+b;if(D.isFunction(e)){if(null==c)throw"Constructor "+b+" need parameters";return e.apply(a,
c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return e};Z.getEnumConstructs=function(a){return a.__constructs__.slice()};Z["typeof"]=function(a){switch(typeof a){case "boolean":return K.TBool;case "string":return K.TClass(String);case "number":return Math.ceil(a)==a%2147483648?K.TInt:K.TFloat;case "object":if(null==a)return K.TNull;var b=a.__enum__;if(null!=b)return K.TEnum(b);a=a instanceof Array&&null==a.__enum__?Array:a.__class__;return null!=a?K.TClass(a):K.TObject;
case "function":return a.__name__||a.__ename__?K.TObject:K.TFunction;case "undefined":return K.TNull;default:return K.TUnknown}};Z.allEnums=function(a){return a.__empty_constructs__};(i.XmlType={__ename__:["XmlType"],__constructs__:[]}).__empty_constructs__=[];var B=function(){};i.Xml=B;B.__name__=["Xml"];B.parse=function(a){return sb.parse(a)};B.createElement=function(a){var b=new B;b.nodeType=B.Element;b._children=[];b._attributes=new H;b.set_nodeName(a);return b};B.createPCData=function(a){var b=
new B;b.nodeType=B.PCData;b.set_nodeValue(a);return b};B.createCData=function(a){var b=new B;b.nodeType=B.CData;b.set_nodeValue(a);return b};B.createComment=function(a){var b=new B;b.nodeType=B.Comment;b.set_nodeValue(a);return b};B.createDocType=function(a){var b=new B;b.nodeType=B.DocType;b.set_nodeValue(a);return b};B.createProcessingInstruction=function(a){var b=new B;b.nodeType=B.ProcessingInstruction;b.set_nodeValue(a);return b};B.createDocument=function(){var a=new B;a.nodeType=B.Document;
a._children=[];return a};B.prototype={get_nodeName:function(){if(this.nodeType!=B.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=B.Element)throw"bad nodeType";return this._nodeName=a},get_nodeValue:function(){if(this.nodeType==B.Element||this.nodeType==B.Document)throw"bad nodeType";return this._nodeValue},set_nodeValue:function(a){if(this.nodeType==B.Element||this.nodeType==B.Document)throw"bad nodeType";return this._nodeValue=a},get:function(a){if(this.nodeType!=
B.Element)throw"bad nodeType";return this._attributes.get(a)},set:function(a,b){if(this.nodeType!=B.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=B.Element)throw"bad nodeType";return this._attributes.exists(a)},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},elements:function(){if(null==this._children)throw"bad nodetype";
return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,b=this.x.length;a<b&&!(this.x[a].nodeType==B.Element);)a+=1;this.cur=a;return a<b},next:function(){for(var a=this.cur,b=this.x.length;a<b;){var c=this.x[a],a=a+1;if(c.nodeType==B.Element)return this.cur=a,c}return null}}},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;b<c;){var e=this.x[b];if(e.nodeType==B.Element&&e._nodeName==
a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var e=this.x[b];b++;if(e.nodeType==B.Element&&e._nodeName==a)return this.cur=b,e}return null}}},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==B.Element)return c;a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&E.remove(a._parent._children,a);a._parent=this;
this._children.push(a)},__class__:B,__properties__:{set_nodeValue:"set_nodeValue",get_nodeValue:"get_nodeValue",set_nodeName:"set_nodeName",get_nodeName:"get_nodeName"}};var ma=function(){this._MIN_FPS=0.06666666666666667;this._RATE_REFRESH_SCALE=0.1;this._root=z.get_instance().root.addChild(new C);z.get_instance().updateDelegate=t(this,this._onEventUpdate);z.get_instance().uncaughtError.connect(t(this,this.errorHandler));k.get_instance().get_input().prime();this._layerWorld=this._root.addChild(new C);
this._layerUI=this._root.addChild(new C);this._layerFG=this._root.addChild(new C);this._dt=0;this._timerRefreshScale=0.001;this._isUIActive=this._isWorldActive=!1;this._flagFirstPlay=!0;this._flagInitialLoadComplete=this._flagWebAudioUnlocked=!1;this._flagGameplayPaused=!0;this._debugEnabled=this._flagJSEmbedExists=this._flagJSEmbedPauseState=!1;k.get_instance().setString(m.STRING_SCALE_TYPE,"none");o.setCanvasVars(960,560,0);y.is(z.get_instance().get_stage(),tb)&&(o.scaleFactor=P.__cast(z.get_instance().get_stage(),
tb).scaleFactor);this._flagJSEmbedExists=S.get_exists();k.get_instance().setBool(m.BOOL_JSEMBED_EXISTS,this._flagJSEmbedExists);this._flagJSEmbedExists?k.get_instance().setString(m.STRING_SCALE_TYPE,S.get_scaleType()):(this._root.set_scaleX(this._root.set_scaleY(o.scaleFactor)),k.get_instance().get_input().set_scale(o.scaleFactor));this._calcScale();o.OPTION_FILL_CANVAS="fill"==k.get_instance().getString(m.STRING_SCALE_TYPE)||"fillto"==k.get_instance().getString(m.STRING_SCALE_TYPE)||"filltop"==k.get_instance().getString(m.STRING_SCALE_TYPE);
this._changeActions=[];this._flowstack=[];this._addEventListeners();this._beginEngine()};i["com.workinman.builders.quiz.Main"]=ma;ma.__name__=["com","workinman","builders","quiz","Main"];ma.main=function(){z.get_instance().init();ma._fillSprite=new ia({color:0,width:8,height:8,origin:0});ma._fillSprite.set_scaleX(z.get_instance().get_stage().get_width()/8);ma._fillSprite.set_scaleY(z.get_instance().get_stage().get_height()/8);z.get_instance().root.addChild(ma._fillSprite);S.get_exists()?S.get_isCrossdomain()?
k.get_instance().get_assets().setCrossdomainBaseUrl(ma.appendAssetsToUrl(S.get_base())):k.get_instance().get_assets().set_baseUrl(ma.trimUrl(S.get_base())):k.get_instance().get_assets().set_baseUrl("");l.get_instance().init();sa.get_instance().sendTrackingCall(G.onLoadingStart);k.get_instance().get_assets().load(ma._onBootstrapLoad,null,["bootstrap"],["bootstrap_manifest_id"]);Qa.addScript("encoding",l.get_instance().basePath+"embed/encoding.js");Qa.addScript("encoding-indexes",l.get_instance().basePath+
"embed/encoding-indexes.js");Qa.addScript("preview",l.get_instance().basePath+"embed/WMBuilderPreview.js")};ma._onBootstrapLoad=function(){sa.get_instance().sendTrackingCall(G.getLoadingProgress,{progress:0.3333333333333333});l.get_instance().onBootstrapLoad();ma._initServices();ma._app=new ma};ma._initServices=function(){for(var a=0,b=k.get_instance().get_assets().allConfig();a<b.length;){var c=b[a];++a;if(!1!=c.hasNode.resolve("services"))for(c=c.node.resolve("services").nodes.resolve("service").iterator();c.hasNext();){var e=
c.next();switch(e.att.resolve("type").toString()){case "canadaTracking":"true"==e.att.resolve("enabled").toString()&&hb.enableCanadaTracking(e.att.resolve("showGameTitle").toString())}}}};ma.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=E.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=E.substr(a,b,a.length-b);return a=ma.appendAssetsToUrl(a)};ma.appendAssetsToUrl=function(a){if(0==a.length)return a;
"/"!=a.charAt(a.length-1)&&(a+="/");a.indexOf("/assets")<a.length-9&&(a+="assets/");return a};ma.prototype={errorHandler:function(){null},_parseConfigXML:function(){for(var a=!1,b=0,c="000000",e=!1,j=!1,I="en",d=0,f=k.get_instance().get_assets().allConfig(!0);d<f.length;){var g=f[d];++d;if(g.hasNode.resolve("chunks"))for(var h=g.node.resolve("chunks").nodes.resolve("chunk").iterator();h.hasNext();){var l=h.next();k.get_instance().get_assets().addChunk(l.att.resolve("id").toString(),l)}g.hasNode.resolve("quality")&&
(z.get_instance().get_touch().get_supported()&&(a="false"==g.node.resolve("quality").att.resolve("forceLowQualityMobile")?!1:!0),b=y.parseInt(g.node.resolve("quality").att.resolve("index")));g.hasNode.resolve("unlockCode")&&(c=g.node.resolve("unlockCode").get_innerData());g.hasNode.resolve("unlockEnabled")&&(e="true"==g.node.resolve("unlockEnabled").get_innerData());g.hasNode.resolve("achievements")&&"true"==g.node.resolve("achievements").att.resolve("enabled").toString()&&(j=!0);g.hasNode.resolve("localization")&&
(I=y.string(g.node.resolve("localization").node.resolve("region").get_innerData()))}k.get_instance().setBool(m.BOOL_LOW_QUALITY_MOBILE,a);k.get_instance().setInt(m.INT_QUALITY,b);k.get_instance().setString(m.STRING_UNLOCK_CODE,c);k.get_instance().setBool(m.BOOL_ALLOW_UNLOCK,e);j&&k.get_instance().get_achievements().init();k.get_instance().setString(m.STRING_REGION_ID,I);null},_eventInitialLoadComplete:function(){ub.delay(t(this,this._enableSplash),1200);this._flagInitialLoadComplete=!0},_beginEngine:function(){o.setFlowDelegate(t(this,
this._addFlowEvent));this._parseConfigXML();this._ui=new od(this._layerUI);k.get_instance().get_input().setDelegateUnlockWebAudio(t(this,this._handleWebAudioUnlock));this._setDefaults();this._generateUI();this._registerInput();this._openSplash()},_openSplash:function(){this._timerAnalytics=0;try{eval('var div = document.getSpriteById("loadingOverlay"); div.parentNode.removeChild(div);')}catch(a){null}this._ui.changeScreenTo(r.SPLASH,!1)},_setDefaults:function(){k.get_instance().setBool(m.BOOL_PAUSED,
!1);k.get_instance().setBool(m.BOOL_GAME_WIN,!1);k.get_instance().setBool(m.BOOL_GAME_LOSE,!1);k.get_instance().setBool(m.BOOL_LEVEL_WIN,!1);k.get_instance().setBool(m.BOOL_LEVEL_LOSE,!1);k.get_instance().setBool(m.BOOL_CODE_SCREEN_OPEN,!1);k.get_instance().setBool(m.BOOL_CODE_UNLOCK,!1);k.get_instance().setBool(m.BOOL_TOUCH_DEVICE,"mobile"==Qa.getQueryVariable("mode")?!0:z.get_instance().get_touch().get_supported());k.get_instance().setBool(m.BOOL_FONTS_LOADED,!1);k.get_instance().setBool(m.BOOL_FAKE_PROGRESS,
!1);k.get_instance().setInt(m.INT_HEALTH,3);k.get_instance().setInt(m.INT_LIVES,3);k.get_instance().setInt(m.INT_SCORE,0);k.get_instance().setInt(m.INT_CURRENCY,200);k.get_instance().setInt(m.INT_LOADING_PROGRESS,0);k.get_instance().setInt(m.INT_LOADING_SCORE,0);k.get_instance().setInt(m.INT_ACHIEVEMENT_SCORE,0);k.get_instance().setInt(m.INT_QUALITY,0);k.get_instance().setString(m.STRING_LEVEL_ID,"level1");k.get_instance().setString(m.STRING_DEBUG_TEXT,"");k.get_instance().setFloat(m.FLOAT_AD_BAR_HEIGHT,
0);k.get_instance().setInt(m.INT_QUIZ,0);k.get_instance().setInt(m.INT_RESULT_RIGHT,0);k.get_instance().setInt(m.INT_RESULT_WRONG,0);k.get_instance().setInt(m.INT_RESULT_QUESTION,0);k.get_instance().setString(m.STRING_RESULT_GRADE,"");k.get_instance().setString(m.STRING_RESULT_SCORE,"");k.get_instance().setString(m.STRING_RESULT_TIME,"");k.get_instance().get_sound().set_muteAll(!1)},_registerInput:function(){k.get_instance().get_input().registerInput(h.LEFT,[d.Left,d.A]);k.get_instance().get_input().registerInput(h.RIGHT,
[d.Right,d.D]);k.get_instance().get_input().registerInput(h.UP,[d.Up,d.W],[h.VIRTUAL_JUMP]);k.get_instance().get_input().registerInput(h.DOWN,[d.Down,d.S]);k.get_instance().get_input().registerInput(h.SPACE,[d.Z,d.Space],[h.VIRTUAL_FLASH]);k.get_instance().get_input().registerInput(h.E,[d.E]);k.get_instance().get_input().registerInput(h.Q,[d.Q]);k.get_instance().get_input().registerInput(h.DB_A,[d.Control]);k.get_instance().get_input().registerInput(h.DB_B,[d.Shift]);k.get_instance().get_input().registerInput(h.DB_C,
[d.Backquote]);k.get_instance().get_input().registerInput(h.DB_D,[d.Y]);k.get_instance().get_input().registerInput(h.DB_E,[d.V]);k.get_instance().get_input().registerInput(h.DB_F,[d.Y])},_generateUI:function(){this._isUIActive=!0;this._ui.addScreen(r.SPLASH,rc);this._ui.addScreen(r.HELP,sc);this._ui.addScreen(r.SHOP,tc);this._ui.addScreen(r.GAMEPLAY_MENU,uc);this._ui.addScreen(r.QUIT_CONFIRM,vc);this._ui.addScreen(r.GAMEPLAY_HUD,wc);this._ui.addScreen(r.END_GAME,xc);this._ui.addScreen(r.ENTER_CODE,
yc);this._ui.addScreen(r.ACHIEVEMENT_POPUP,zc);this._ui.addScreen(r.ACHIEVEMENTS,Ac);this._ui.addScreen(r.DIALOGUE_POPUP,Bc);this._ui.addScreen(r.DEBUG,Cc);this._ui.addScreen(r.EDITOR_LOCALIZE,Dc);this._ui.set_interfaceDelegate(t(this,this._onInterfaceChange));null},_gotoAndPlayGame:function(){var a=k.get_instance().getInt(m.INT_QUALITY);if(0!=a&&1!=a)throw"[Main](_gotoAndPlayGame) Error: Not expecting quality flag "+a+". Nothing loaded.";o.allAudioSupported();for(var a=["gameplay_manifest_id"],b=
0;5>b;){var c=b++;null!=l.get_instance().get_curQuiz().questions[c]&&a.push(l.get_instance().get_curQuiz().questions[c].manifestID)}k.get_instance().get_assets().load(t(this,this._eventLoadCompleteGameplay),null,null,a,1200)},_eventLoadCompleteGameplay:function(){for(var a=0;5>a;){var b=a++;null!=l.get_instance().get_curQuiz().questions[b]&&(l.get_instance().get_curQuiz().questions[b].loaded=!0)}this._playGameMusic();this._isWorldActive?null:this._generateWorld()},_onWorldGenerationComplete:function(){ub.delay(t(this,
this._onWorldGenerationCompleteDelay),300);this._ui.changeScreenTo(r.GAMEPLAY_HUD,!0)},_onWorldGenerationCompleteDelay:function(){this._world.start();this._unpauseGameplay();this._timerAnalytics=0},_enableSplash:function(){k.get_instance().getBool(m.BOOL_TOUCH_DEVICE)||this._playMenuMusic();this._ui.getScreen(r.SPLASH).open(!1);this._enableInput()},_gotoEndGame:function(a){this._playGameMusic();this._flagWonPreviousGame=a;this._newOnChangeAction(r.END_GAME,ea.OPEN_COMPLETE,t(this,this._endGameOpenComplete));
this._ui.openScreen(r.END_GAME,!1)},_endGameOpenComplete:function(){var a=this;ub.delay(function(){a._disposeWorld();a._ui.changeScreenTo(r.END_GAME,!1)},100)},_onGameNew:function(){this._resetFlagsResults()},_resetFlagsResults:function(){k.get_instance().resetValue(m.BOOL_GAME_WIN);k.get_instance().resetValue(m.BOOL_GAME_LOSE);k.get_instance().resetValue(m.BOOL_LEVEL_WIN);k.get_instance().resetValue(m.BOOL_LEVEL_LOSE)},_resetGameResults:function(){k.get_instance().resetValue(m.INT_SCORE);k.get_instance().resetValue(m.STRING_LEVEL_ID)},
_generateWorld:function(){this._isWorldActive&&this._disposeWorld();this._isWorldActive=!0;this._world=new pd(this._layerWorld)},_onEventUpdate:function(a){this._dt=Math.round(1E3*a)/1E3;this._dt>this._MIN_FPS&&(this._dt=this._MIN_FPS);this._timerAnalytics+=this._dt;this._timerRefreshScale-=this._dt;0>=this._timerRefreshScale&&(this._timerRefreshScale=this._RATE_REFRESH_SCALE,this._calcScale());this._flagJSEmbedExists&&S.get_isPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=S.get_isPaused())?
this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay());k.get_instance().update(this._dt);this._isUIActive&&(this._checkDebug(),this._ui.update(this._dt));this._isWorldActive&&this._world.update(this._dt);k.get_instance().getBool(m.BOOL_GAME_LOSE)?o.dispatchFlowEvent(p.BRANCH_GAME_LOSE):k.get_instance().getBool(m.BOOL_GAME_WIN)?o.dispatchFlowEvent(p.BRANCH_GAME_WIN):k.get_instance().getBool(m.BOOL_LEVEL_LOSE)?o.dispatchFlowEvent(p.BRANCH_LEVEL_LOSE):k.get_instance().getBool(m.BOOL_LEVEL_WIN)&&
o.dispatchFlowEvent(p.BRANCH_LEVEL_WIN);this._runFlowStack();k.get_instance().getBool(m.BOOL_FAKE_PROGRESS)&&99>k.get_instance().getInt(m.INT_LOADING_PROGRESS)&&(k.get_instance().modifyValue(m.INT_LOADING_PROGRESS,10*a),99<k.get_instance().getInt(m.INT_LOADING_PROGRESS)&&k.get_instance().setInt(m.INT_LOADING_PROGRESS,99))},_calcScale:function(){if(l.get_instance().responsive){var a=o.scaleFactor;this._root.set_scaleX(this._root.set_scaleY(a));this._root.set_x(0);k.get_instance().get_input().set_scale(a);
var b=0.5*(z.get_instance().get_stage().get_width()-960),c=z.get_instance().get_stage().get_width()/a,e=z.get_instance().get_stage().get_height()/a;if(o.get_CANVAS_WIDTH()!=c||o.get_CANVAS_HEIGHT_REAL()!=e)o.setCanvasVars(c,e,b/1),k.get_instance().get_dispatcher().dispatchEvent($.request(n.RESIZE_CANVAS,function(){var b=new H;b.set("scale",a);return b}(this)))}else{var b=z.get_instance().get_stage().get_height()/560,c=z.get_instance().get_stage().get_width()/960,j=Math.min(b,c),b=0.5*(z.get_instance().get_stage().get_width()-
960*j),c=0.5*(z.get_instance().get_stage().get_height()-560*j);j==this._root.get_scaleX()&&b==this._root.get_x()&&c==this._root.get_y()||(this._root.set_scaleX(this._root.set_scaleY(j)),k.get_instance().get_input().set_scale(j),this._root.set_x(b),this._root.set_y(c),o.setCanvasVars(960,560,b/j),ma._fillSprite.set_scaleX(z.get_instance().get_stage().get_width()/8),ma._fillSprite.set_scaleY(z.get_instance().get_stage().get_height()/8),k.get_instance().get_dispatcher().dispatchEvent($.request(n.RESIZE_CANVAS,
function(){var a=new H;a.set("scale",j);return a}(this))))}},_checkDebug:function(){!this._ui.isScreenOpen(r.DEBUG)&&!1==this._debugEnabled&&k.get_instance().get_input().getInput(h.DB_A)&&k.get_instance().get_input().getInput(h.DB_B)&&k.get_instance().get_input().getInput(h.DB_C)&&(this._debugEnabled=!0,this._ui.openScreen(r.DEBUG,!1))},_addFlowEvent:function(a){this._flowstack.push(a)},_runFlowStack:function(){if(!(1>this._flowstack.length))for(;0<this._flowstack.length;)this._executeFlowStack(this._flowstack[0]),
this._flowstack.shift()},_executeFlowStack:function(a){switch(a[1]){case 0:this._playMenuMusic();hb.sendCanadaTrackingCall("play");this._gotoAndPlayGame();this._timerAnalytics=0;break;case 11:this._ui.openScreen(r.HELP,!1);break;case 7:this._ui.openScreen(r.SHOP,!1);break;case 8:this._ui.closeScreen(r.SHOP);break;case 6:this._ui.closeScreen(r.HELP);break;case 9:this._pauseGameplay();this._ui.openScreen(r.GAMEPLAY_MENU,!1);break;case 10:this._unpauseGameplay();this._ui.closeScreen(r.GAMEPLAY_MENU);
break;case 12:this._ui.openScreen(r.QUIT_CONFIRM,!1);break;case 13:this._resetFlagsResults();this._gotoEndGame(!1);this._resetGameResults();break;case 28:this._ui.openScreen(r.ENTER_CODE,!1);break;case 27:this._ui.closeScreen(r.ENTER_CODE);break;case 14:this._ui.closeScreen(r.QUIT_CONFIRM);break;case 25:this._resetFlagsResults();this._gotoAndPlayGame();break;case 23:this._pauseGameplay();this._resetFlagsResults();this._gotoEndGame(!0);this._resetGameResults();break;case 24:this._pauseGameplay();this._resetFlagsResults();
this._gotoEndGame(!1);k.get_instance().resetValue(m.INT_SCORE);k.get_instance().resetValue(m.INT_LIVES);break;case 19:this._disposeWorld();hb.sendCanadaTrackingCall("replay");this._onGameNew();this._gotoAndPlayGame();k.get_instance().setBool(m.BOOL_PAUSED,!1);break;case 29:this._playGameMusic();this._gotoAndPlayGame();break;case 31:this._ui.openScreen(r.ACHIEVEMENT_POPUP,!1);break;case 32:this._ui.closeScreen(r.ACHIEVEMENT_POPUP);break;case 33:this._ui.openScreen(r.ACHIEVEMENTS,!1);break;case 34:this._ui.closeScreen(r.ACHIEVEMENTS);
break;case 35:this._ui.openScreen(r.DIALOGUE_POPUP,!1);break;case 36:this._ui.closeScreen(r.DIALOGUE_POPUP);break;case 37:this._debugEnabled=!1;this._ui.closeScreen(r.DEBUG,!0);break;case 38:this._ui.openScreen(r.EDITOR_LOCALIZE,!1);break;case 39:this._ui.closeScreen(r.EDITOR_LOCALIZE,!0)}},_pauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!0);k.get_instance().get_dispatcher().dispatchEvent($.request(n.PAUSE))},_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=
!1);k.get_instance().get_dispatcher().dispatchEvent($.request(n.UNPAUSE))},_newOnChangeAction:function(a,b,c){this._changeActions.push(new qd(a,b,c))},_executeInterfaceChange:function(a,b){for(var c=this._changeActions.length;0<c;)c--,this._changeActions[c].get_screenId()==b&&this._changeActions[c].get_changeEvent()==a&&(this._changeActions[c].get_action()(),this._changeActions.splice(c,1))},_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(n.MUTE_TOGGLE,t(this,this._onMuteToggle));
k.get_instance().get_dispatcher().addEventListener(n.WORLD_GENERATION_COMPLETE,t(this,this._onWorldGenerationComplete));k.get_instance().get_dispatcher().addEventListener(n.FILES_LOADING,t(this,this._onEventFilesLoading));k.get_instance().get_dispatcher().addEventListener(n.INITIAL_LOAD_COMPLETE,t(this,this._eventInitialLoadComplete));k.get_instance().get_dispatcher().addEventListener(n.ADD_AD_BAR,t(this,this._onAddAdBar))},_enableInput:function(){k.get_instance().get_input().setEnabled(!0)},_onMuteToggle:function(){k.get_instance().get_sound().set_muteAll(!k.get_instance().get_sound().get_muteAll())},
_onEventFilesLoading:function(a){k.get_instance().getBool(m.BOOL_FAKE_PROGRESS)||k.get_instance().setInt(m.INT_LOADING_PROGRESS,a.get_data().get("val"))},_onAddAdBar:function(){this._layerFG.addChild(new Ec)},_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=!0,k.get_instance().get_sound().playSound(fa.silent))},_onInterfaceChange:function(a,b){this._executeInterfaceChange(a,b)},_disposeWorld:function(){this._isWorldActive&&(this._isWorldActive=!1,this._world.dispose(),
this._world=null,this._unloadAllQuestions())},_unloadAllQuestions:function(){for(var a=0,b=l.get_instance().get_curQuiz().questions.length;a<b;){var c=a++;l.get_instance().get_curQuiz().questions[c].loaded&&(k.get_instance().get_assets().unload(null,null,[l.get_instance().get_curQuiz().questions[c].manifestID]),l.get_instance().get_curQuiz().questions[c].loaded=!1)}},_playGameMusic:function(){l.get_instance().playMusic("music_gameplay")},_playMenuMusic:function(){l.get_instance().playMusic("music_splash")},
__class__:ma};var aa=i["com.workinman.builders.quiz.data.Achievement"]={__ename__:"com,workinman,builders,quiz,data,Achievement".split(","),__constructs__:"ACHIEVEMENT_FIRSTPLAY,ACHIEVEMENT_LEVEL2,ACHIEVEMENT_SCORE100,ACHIEVEMENT_LEVEL5,ACHIEVEMENT_SCORE1000,ACHIEVEMENT_CODEUNLOCKED".split(",")};aa.ACHIEVEMENT_FIRSTPLAY=["ACHIEVEMENT_FIRSTPLAY",0];aa.ACHIEVEMENT_FIRSTPLAY.toString=f;aa.ACHIEVEMENT_FIRSTPLAY.__enum__=aa;aa.ACHIEVEMENT_LEVEL2=["ACHIEVEMENT_LEVEL2",1];aa.ACHIEVEMENT_LEVEL2.toString=
f;aa.ACHIEVEMENT_LEVEL2.__enum__=aa;aa.ACHIEVEMENT_SCORE100=["ACHIEVEMENT_SCORE100",2];aa.ACHIEVEMENT_SCORE100.toString=f;aa.ACHIEVEMENT_SCORE100.__enum__=aa;aa.ACHIEVEMENT_LEVEL5=["ACHIEVEMENT_LEVEL5",3];aa.ACHIEVEMENT_LEVEL5.toString=f;aa.ACHIEVEMENT_LEVEL5.__enum__=aa;aa.ACHIEVEMENT_SCORE1000=["ACHIEVEMENT_SCORE1000",4];aa.ACHIEVEMENT_SCORE1000.toString=f;aa.ACHIEVEMENT_SCORE1000.__enum__=aa;aa.ACHIEVEMENT_CODEUNLOCKED=["ACHIEVEMENT_CODEUNLOCKED",5];aa.ACHIEVEMENT_CODEUNLOCKED.toString=f;aa.ACHIEVEMENT_CODEUNLOCKED.__enum__=
aa;aa.__empty_constructs__=[aa.ACHIEVEMENT_FIRSTPLAY,aa.ACHIEVEMENT_LEVEL2,aa.ACHIEVEMENT_SCORE100,aa.ACHIEVEMENT_LEVEL5,aa.ACHIEVEMENT_SCORE1000,aa.ACHIEVEMENT_CODEUNLOCKED];var Pb=function(){};i["com.workinman.builders.quiz.data.Achievements"]=Pb;Pb.__name__="com,workinman,builders,quiz,data,Achievements".split(",");Pb.achievmentData=function(a){switch(a[1]){case 0:return{id:"firstplay",valueId:m.BOOL_GAME_LOSE,value:1,points:1};case 1:return{id:"level2",valueId:m.INT_LEVEL,value:2,points:1};case 3:return{id:"level5",
valueId:m.INT_LEVEL,value:5,points:3};case 2:return{id:"score100",valueId:m.INT_SCORE,value:100,points:1};case 4:return{id:"score1000",valueId:m.INT_SCORE,value:1E3,points:5};case 5:return{id:"codeunlocked",valueId:m.BOOL_CODE_UNLOCK,value:1,points:10}}};var Ra=i["com.workinman.builders.quiz.data.DIALOGUE_POSITION"]={__ename__:"com,workinman,builders,quiz,data,DIALOGUE_POSITION".split(","),__constructs__:["TOP","CENTER","BOTTOM"]};Ra.TOP=["TOP",0];Ra.TOP.toString=f;Ra.TOP.__enum__=Ra;Ra.CENTER=["CENTER",
1];Ra.CENTER.toString=f;Ra.CENTER.__enum__=Ra;Ra.BOTTOM=["BOTTOM",2];Ra.BOTTOM.toString=f;Ra.BOTTOM.__enum__=Ra;Ra.__empty_constructs__=[Ra.TOP,Ra.CENTER,Ra.BOTTOM];var ta=i["com.workinman.builders.quiz.data.POINTER_TYPE"]={__ename__:"com,workinman,builders,quiz,data,POINTER_TYPE".split(","),__constructs__:["TAP","POINT","SWIPE","NONE"]};ta.TAP=["TAP",0];ta.TAP.toString=f;ta.TAP.__enum__=ta;ta.POINT=["POINT",1];ta.POINT.toString=f;ta.POINT.__enum__=ta;ta.SWIPE=["SWIPE",2];ta.SWIPE.toString=f;ta.SWIPE.__enum__=
ta;ta.NONE=["NONE",3];ta.NONE.toString=f;ta.NONE.__enum__=ta;ta.__empty_constructs__=[ta.TAP,ta.POINT,ta.SWIPE,ta.NONE];var pe=function(){};i["com.workinman.builders.quiz.data.Dialogues"]=pe;pe.__name__="com,workinman,builders,quiz,data,Dialogues".split(",");var na=i["com.workinman.builders.quiz.data.Item"]={__ename__:"com,workinman,builders,quiz,data,Item".split(","),__constructs__:["ITEM_SWORD","ITEM_SHIELD","ITEM_CANDLE","ITEM_GLOVES"]};na.ITEM_SWORD=["ITEM_SWORD",0];na.ITEM_SWORD.toString=f;na.ITEM_SWORD.__enum__=
na;na.ITEM_SHIELD=["ITEM_SHIELD",1];na.ITEM_SHIELD.toString=f;na.ITEM_SHIELD.__enum__=na;na.ITEM_CANDLE=["ITEM_CANDLE",2];na.ITEM_CANDLE.toString=f;na.ITEM_CANDLE.__enum__=na;na.ITEM_GLOVES=["ITEM_GLOVES",3];na.ITEM_GLOVES.toString=f;na.ITEM_GLOVES.__enum__=na;na.__empty_constructs__=[na.ITEM_SWORD,na.ITEM_SHIELD,na.ITEM_CANDLE,na.ITEM_GLOVES];var ja=function(){this._rankStorage=new H};i["com.workinman.builders.quiz.data.Inventory"]=ja;ja.__name__="com,workinman,builders,quiz,data,Inventory".split(",");
ja.__properties__={get_instance:"get_instance"};ja.get_instance=function(){null==ja.__instance&&(ja.__instance=new ja);return ja.__instance};ja.prototype={getUniqueSuffix:function(a){switch(a[1]){case 0:return"sword";case 1:return"shield";case 2:return"candle";case 3:return"gloves"}},getRankCap:function(a){switch(a[1]){case 0:return 3;case 1:return 3;case 2:return 3;case 3:return 2}},getCostNextRank:function(a){switch(a[1]){case 0:return 200+20*this.getRank(a);case 1:return 20+20*this.getRank(a);
case 2:return 30+20*this.getRank(a);case 3:return 40+20*this.getRank(a)}},getIcon:function(a){return"icon_"+this.getUniqueSuffix(a)},getLocalizationNameID:function(a){var b="";return b="item_name_"+this.getUniqueSuffix(a)},getLocalizationDescID:function(a,b){null==b&&(b=0);var c="";return c=0>=this.getRank(a)+b?"item_unowned":"item_desc_"+this.getUniqueSuffix(a)+"_"+(this.getRank(a)+b)},getCurrencyType:function(){return m.INT_CURRENCY},canAffordNextRank:function(a){return this.hasRankCapped(a)?!1:
k.get_instance().getInt(this.getCurrencyType(a))>=this.getCostNextRank(a)},hasRankCapped:function(a){return this.getRank(a)>=this.getRankCap(a)},getRank:function(a){a=this.getRankStorageID(a);!1==this._rankStorage.exists(a)&&(this._rankStorage.set(a,1),1);return this._rankStorage.get(a)},modRank:function(a,b){null==b&&(b=1);var c=this.getRankStorageID(a);!1==this._rankStorage.exists(c)&&(this._rankStorage.set(c,1),1);var e=this._rankStorage.get(c)+b;this._rankStorage.set(c,e);e},getRankStorageID:function(a){return"int_rank_"+
this.getUniqueSuffix(a)},getItemList:function(){return Z.allEnums(na)},__class__:ja};var nb=function(){};i["flambe.util.Disposable"]=nb;nb.__name__=["flambe","util","Disposable"];nb.prototype={__class__:nb};var Fa=function(){};i["flambe.pooling.IStrictPoolable"]=Fa;Fa.__name__=["flambe","pooling","IStrictPoolable"];Fa.prototype={__class__:Fa};var A=function(){};i["flambe.pooling.PoolStrictBase"]=A;A.__name__=["flambe","pooling","PoolStrictBase"];A.__interfaces__=[Fa];A.prototype={instance:function(a,
b){this._returnFunction=b;this._key=a;this.poolActivate();this.create();return this},get_poolKey:function(){return this._key},create:function(){},poolActivate:function(){this._disposed=!1},dispose:function(){this._disposed||(this._disposed=!0,this._returnFunction(this))},destroy:function(){this._returnFunction=null},__class__:A,__properties__:{get_poolKey:"get_poolKey"}};var L=function(){};i["flambe.math.WMPoint"]=L;L.__name__=["flambe","math","WMPoint"];L.request=function(a,b,c){null==c&&(c=0);null==
b&&(b=0);null==a&&(a=0);return ga.get_instance().requestObject("WMPoint",L).init(a,b,c)};L.__super__=A;L.prototype=u(A.prototype,{init:function(a,b,c){this._flags=0;return this.to(a,b,c)},get_x:function(){return this._x},set_x:function(a){this._x=a;this._setFlagDirty();return this.get_x()},get_y:function(){return this._y},set_y:function(a){this._y=a;this._setFlagDirty();return this.get_y()},get_z:function(){return this._z},set_z:function(a){this._z=a;this._setFlagDirty();return this.get_z()},_setFlagDirty:function(){this._flags|=
1},get_dirty:function(){return 0!=(this._flags&1)},set_dirty:function(a){a?this._flags|=1:this.cleanDirtyFlag();return this.get_dirty()},cleanDirtyFlag:function(){this._flags&=-2},get_angle:function(){return 180*Math.atan2(this.get_y(),this.get_x())/Math.PI},clean:function(){this.set_x(Math.round(1E3*this.get_x())/1E3);this.set_y(Math.round(1E3*this.get_y())/1E3);this.set_z(Math.round(1E3*this.get_z())/1E3);return this},to:function(a,b,c){null==c&&(c=0);this.set_x(a);this.set_y(b);this.set_z(c);this.calculateLength();
return this},toPoint:function(a){this.set_x(a.get_x());this.set_y(a.get_y());this.set_z(a.get_z());this.calculateLength();return this},add:function(a,b,c){null==c&&(c=0);this.set_x(this.get_x()+a);this.set_y(this.get_y()+b);this.set_z(this.get_z()+c);this.calculateLength();return this},addPoint:function(a){this.set_x(this.get_x()+a.get_x());this.set_y(this.get_y()+a.get_y());this.set_z(this.get_z()+a.get_z());this.calculateLength();return this},addCopy:function(a,b,c){null==c&&(c=0);return L.request(this.get_x()+
a,this.get_y()+b,this.get_z()+c)},addPointCopy:function(a){return L.request(this.get_x()+a.get_x(),this.get_y()+a.get_y(),this.get_z()+a.get_z())},subtract:function(a,b,c){null==c&&(c=0);this.set_x(this.get_x()-a);this.set_y(this.get_y()-b);this.set_z(this.get_z()-c);this.calculateLength();return this},subtractPoint:function(a){this.set_x(this.get_x()-a.get_x());this.set_y(this.get_y()-a.get_y());this.set_z(this.get_z()-a.get_z());this.calculateLength();return this},subtractCopy:function(a,b,c){null==
c&&(c=0);return L.request(this.get_x()-a,this.get_y()-b,this.get_z()-c)},subtractPointCopy:function(a){return L.request(this.get_x()-a.get_x(),this.get_y()-a.get_y(),this.get_z()-a.get_z())},multiply:function(a){this.set_x(this.get_x()*a);this.set_y(this.get_y()*a);this.set_z(this.get_z()*a);this.clean();this.calculateLength();return this},multiplyCopy:function(a){return L.request(this.get_x()*a,this.get_y()*a,this.get_z()*a)},divide:function(a){this.set_x(this.get_x()/a);this.set_y(this.get_y()/
a);this.set_z(this.get_z()/a);this.clean();this.calculateLength();return this},divideCopy:function(a){return L.request(this.get_x()/a,this.get_y()/a,this.get_z()/a)},reverse:function(){this.set_x(-this.get_x());this.set_y(-this.get_y());this.set_z(-this.get_z());return this},projectOnto:function(a){a.normalize();var b=this.dot(a);this.to(b*a.get_x(),b*a.get_y(),0);return this},copy:function(){return L.request(this.get_x(),this.get_y(),this.get_z())},copyAndResize:function(a){return 0==a?L.request(0,
0):this.multiplyCopy(a/this._length)},equals:function(a){return this.get_x()==a.get_x()&&this.get_y()==a.get_y()&&this.get_z()==a.get_z()},get_length:function(){return this._length},set_length:function(a){if(0==this._length||0>=a)return this.to(0,0),this._length;this.multiply(a/this._length);return this._length},reverseCopy:function(){return L.request(-1*this.get_x(),-1*this.get_y(),-1*this.get_z())},normalize:function(){if(0==this._length)return this;this.set_x(this.get_x()/this._length);this.set_y(this.get_y()/
this._length);this.set_z(this.get_z()/this._length);this.calculateLength();return this},normalizeTo:function(a){this.set_length(a);return this},normalizeCopy:function(){return 0==this._length?L.request(0,0,0):L.request(this.get_x()/this._length,this.get_y()/this._length,this.get_z()/this._length)},normalizeCopyTo:function(a){if(0==this._length)return L.request(0,0,0);this._workFloat=a/this._length;return L.request(this.get_x()*this._workFloat,this.get_y()*this._workFloat,this.get_z()*this._workFloat)},
pseudoCross:function(a){a.to(this.get_y(),-this.get_x(),this.get_z());return this},calculateLength:function(){this._length=Math.sqrt(this.get_x()*this.get_x()+this.get_y()*this.get_y()+this.get_z()*this.get_z());return this},rotate:function(a){a*=Math.PI/180;this._workFloat=this.get_x()*Math.cos(a)-this.get_y()*Math.sin(a);this.set_y(this.get_y()*Math.cos(a)+this.get_x()*Math.sin(a));this.set_x(this._workFloat);return this},rotateTo:function(a){this.rotate(a-this.get_angle());return this},getAngleBetween:function(a){return 0==
a.get_length()||0==this.get_length()?0:180/Math.PI*Math.acos((a.get_x()*this.get_x()+a.get_y()*this.get_y())/(a.get_length()*this.get_length()))},rotateCopy:function(a){var b=Math.cos(a*Math.PI/180),a=Math.sin(a*Math.PI/180);return L.request(this.get_x()*b-this.get_y()*a,this.get_x()*a-this.get_y()*b)},get_normalizedMagnitude:function(){var a=this.normalizeCopy(),b=Math.sqrt(a.get_x()*a.get_x()+a.get_y()*a.get_y());a.dispose();return b},toString:function(){return"{ WMPoint : "+this.get_x()+" , "+
this.get_y()+" , "+this.get_z()+" , len: "+this._length+"  }"},dot:function(a){return this.get_x()*a.get_x()+this.get_y()*a.get_y()},__class__:L,__properties__:u(A.prototype.__properties__,{get_normalizedMagnitude:"get_normalizedMagnitude",set_length:"set_length",get_length:"get_length",get_angle:"get_angle",set_dirty:"set_dirty",get_dirty:"get_dirty",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var ga=function(){this._pools=new H};i["flambe.pooling.PoolStore"]=
ga;ga.__name__=["flambe","pooling","PoolStore"];ga.__properties__={get_instance:"get_instance"};ga.get_instance=function(){null==ga.__instance&&(ga.__instance=new ga);return ga.__instance};ga.prototype={_initPool:function(a,b,c,e){null==e&&(e=-1);!0!=this._pools.exists(a)&&(null==c&&(c=ua.NONE),b=new rd(b,c,e),this._pools.set(a,b))},requestObject:function(a,b,c,e){null==e&&(e=-1);this._testPool(a,b,c,e);c=this._pools.get(a);this._logCreate(a,c);if(0<c.get_numPooled())a=c.givePool(),a.poolActivate();
else{c.incrementCreated();if(0<c.get_cap()&&c.get_created()>c.get_cap())throw"Too many instances of "+y.string(b)+" allocated - currently at "+c.get_created();a=Z.createEmptyInstance(b).instance(a,t(this,this._returnObject))}return a},_logCreate:function(a,b){switch(b.get_log()[1]){case 1:null;break;case 2:1>b.get_numPooled()&&null;break;case 3:null}},_returnObject:function(a){if(!1!=this._pools.exists(a.get_poolKey())){var b;b=this._pools.get(a.get_poolKey());b.poolObject(a);this._logReturn(a.get_poolKey(),
b)}},_logReturn:function(a,b){switch(b.get_log()[1]){case 0:case 2:break;case 3:null;break;default:null}},_testPool:function(a,b,c,e){null==e&&(e=-1);!1==this._pools.exists(a)&&this._initPool(a,b,c,e)},__class__:ga};var C=function(a){this._flags=this.viewMatrixUpdateCount=this.parentViewMatrixUpdateCount=0;this.parent=this.firstChild=this.next=this._viewMatrix=this.blendMode=this.scissor=null;this._flags|=219;this._localMatrix=new vb;this.__camera=null;this.__pos=L.request();this.__velocity=null;
this.set_rotation(0);this.set_scale(1);this.centerOrigin();this.set_offset(0);this.set_alpha(1);null!=a&&(this.__pos.to(null==a.x?0:a.x,null==a.y?0:a.y,null==a.z?0:a.z),null!=a.origin&&this.setOrigin(a.origin,a.origin),null!=a.originX&&this.set_originX(a.originX),null!=a.originY&&this.set_originY(a.originY),null!=a.scale&&this.set_scale(a.scale),null!=a.scaleX&&this.set_scaleX(a.scaleX),null!=a.scaleY&&this.set_scaleY(a.scaleY),null!=a.rotation&&this.set_rotation(a.rotation),null!=a.alpha&&this.set_alpha(a.alpha),
null!=a.offset&&this.set_offset(a.offset),null!=a.offsetX&&this.set_offsetX(a.offsetX),null!=a.offsetY&&this.set_offsetY(a.offsetY),null!=a.useCamera&&this.set_useCamera(a.useCamera),null!=a.perspectiveScale&&this.set_perspectiveScale(a.perspectiveScale),null!=a.parentOffset&&(this._flags=cc.set(this._flags,128,a.parentOffset),null));this._addEventListeners()};i["flambe.display.Sprite"]=C;C.__name__=["flambe","display","Sprite"];C.__interfaces__=[nb];C.hitTest=function(a,b,c){if(3!=(a._flags&3))return null;
a.getLocalMatrix().inverseTransform(b,c,C._scratchPoint)&&(b=C._scratchPoint.get_x(),c=C._scratchPoint.get_y());var e=a.scissor;if(null!=e&&!e.contains(b,c))return null;e=C.hitTestBackwards(a.firstChild,b,c);return null!=e?e:null!=a&&a.containsLocal(b,c)?a:null};C.getBounds=function(a,b){b.toXYWH(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);C.getBoundsImpl(a,null,b);b.set_width(b.get_width()-b.get_x());b.set_height(b.get_height()-b.get_y())};C.render=function(a,
b){var c=a.get_alpha();if(!(0==(a._flags&1)||0>=c||!1==a.zVisible())){b.save();1>c&&b.multiplyAlpha(c);null!=a.blendMode&&b.setBlendMode(a.blendMode);c=a.getLocalMatrix();b.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12);c=a.scissor;null!=c&&b.applyScissor(c.get_x(),c.get_y(),c.get_width(),c.get_height());a.draw(b);for(c=a.firstChild;null!=c;){var e=c.next;C.render(c,b);c=e}b.restore()}};C.hitTestBackwards=function(a,b,c){if(null!=a){var e=C.hitTestBackwards(a.next,b,c);return null!=e?e:C.hitTest(a,
b,c)}return null};C.getBoundsImpl=function(a,b,c){var b=null!=b?vb.multiply(b,a.getLocalMatrix()):a.getLocalMatrix(),e=a.getNaturalWidth(),j=a.getNaturalHeight();0<e&&0<j&&(C.extendRect(b,0,0,c),C.extendRect(b,e,0,c),C.extendRect(b,e,j,c),C.extendRect(b,0,j,c));for(a=a.firstChild;null!=a;)e=a.next,C.getBoundsImpl(a,b,c),a=e};C.extendRect=function(a,b,c,e){a=a.transform(b,c,C._scratchPoint);b=a.get_x();c=a.get_y();b<e.get_x()&&e.set_x(b);c<e.get_y()&&e.set_y(c);b>e.get_width()&&e.set_width(b);c>e.get_height()&&
e.set_height(c)};C.prototype={dispose:function(){this._removeEventListeners();this.disposeChildren();null!=this.parent&&this.parent.removeChild(this);this.blendMode=this._viewMatrix=this._localMatrix=null;this.__pos.dispose();this.__pos=null;null!=this.__velocity&&(this.__velocity.dispose(),this.__velocity=null);this.__camera=null},disposeChildren:function(){for(var a=null;null!=this.firstChild;)a=this.firstChild,this.firstChild.dispose(),null!=a.parent&&a.parent.removeChild(a)},addChild:function(a,
b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,e=this.firstChild;null!=e;)c=e,e=e.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return a},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var e=c.next;if(c==a){null==b?this.firstChild=e:b.next=e;c.parent=null;c.next=null;break}b=c;c=e}},removeAllChildren:function(){for(var a=this.firstChild;null!=a;){var b=a.next;a.next=null;a=b}this.firstChild=
null},toString:function(){return this.toStringImpl("")},toStringImpl:function(a){for(var b="",c=String.fromCharCode(9492),e=String.fromCharCode(9500),j=String.fromCharCode(9472),I=String.fromCharCode(9474),d=this.firstChild;null!=d;)var f=null==d.next,b=b+(a+(f?c:e)+j+j+" "),b=b+d.toStringImpl(a+(f?" ":I)+"   "),d=d.next;return b},_dirtyMatrix:function(){this._flags|=12},get_pos:function(){return this.__pos},get_x:function(){return this.__pos.get_x()},set_x:function(a){this.__pos.set_x(a);return this.__pos.get_x()},
get_y:function(){return this.__pos.get_y()},set_y:function(a){this.__pos.set_y(a);return this.__pos.get_y()},get_z:function(){return this.__pos.get_z()},set_z:function(a){this.__pos.set_z(a);return this.__pos.get_z()},get_rotation:function(){return this.__rotation},set_rotation:function(a){this.__rotation=a;this._dirtyMatrix();return this.__rotation},get_scale:function(){return this.__scaleX},set_scale:function(a){this.__scaleX=this.__scaleY=a;this._dirtyMatrix();return this.__scaleX},get_scaleX:function(){return this.__scaleX},
set_scaleX:function(a){this.__scaleX=a;this._dirtyMatrix();return this.__scaleX},get_scaleY:function(){return this.__scaleY},set_scaleY:function(a){this.__scaleY=a;this._dirtyMatrix();return this.__scaleY},get_origin:function(){return this.__originX},set_origin:function(a){this.__originX=this.__originY=a;this._dirtyMatrix();return this.__originX},get_originX:function(){return this.__originX},set_originX:function(a){this.__originX=a;this._dirtyMatrix();return this.__originX},get_originY:function(){return this.__originY},
set_originY:function(a){this.__originY=a;this._dirtyMatrix();return this.__originY},get_offset:function(){return this.__offsetX},set_offset:function(a){this.__offsetX=this.__offsetY=a;this._dirtyMatrix();return this.__offsetX},get_offsetX:function(){return this.__offsetX},set_offsetX:function(a){this.__offsetX=a;this._dirtyMatrix();return this.__offsetX},get_offsetY:function(){return this.__offsetY},set_offsetY:function(a){this.__offsetY=a;this._dirtyMatrix();return this.__offsetY},get_alpha:function(){return this.__alpha},
set_alpha:function(a){return this.__alpha=a},toMatrix:function(a){this.__pos.toPoint(a.get_pos());this.__rotation=a.get_rotation();this.__scaleX=a.get_scaleX();this.__scaleY=a.get_scaleY();this.__originX=a.get_originX();this.__originY=a.get_originY();this.__offsetX=a.get_offsetX();this.__offsetY=a.get_offsetY();this.__alpha=a.get_alpha();this._dirtyMatrix()},get__velocity:function(){null==this.__velocity&&(this.__velocity=L.request());return this.__velocity},get_depth:function(){return-this.get_pos().get_z()},
get_subDepth:function(){return 0},get_useCamera:function(){return 0!=(this._flags&16)},set_useCamera:function(a){this._flags=a?this._flags|16:this._flags&-17;return this.get_useCamera()},get_doDelete:function(){return 0!=(this._flags&32)},set_doDelete:function(a){this._flags=a?this._flags|32:this._flags&-33;return this.get_doDelete()},get_perspectiveScale:function(){return 0!=(this._flags&64)},set_perspectiveScale:function(a){this._flags=a?this._flags|64:this._flags&-65;return this.get_perspectiveScale()},
getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},contains:function(a,b){return this.getViewMatrix().inverseTransform(a,b,C._scratchPoint)&&this.containsLocal(C._scratchPoint.get_x(),C._scratchPoint.get_y())},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){if(this.__pos.get_dirty()||null!=this.__camera&&this.__camera.get_pos().get_dirty())this.__pos.cleanDirtyFlag(),this._flags|=4,this._flags|=8;
if(0!=(this._flags&4)){this._flags&=-5;var a=0,b=0;null!=this.parent&&0!=(this._flags&128)&&(a=this.parent.get_originX()*this.parent.getNaturalWidth(),b=this.parent.get_originY()*this.parent.getNaturalHeight());var a=this.__pos.get_x()+this.__offsetX+a,b=this.__pos.get_y()+this.__offsetY+b,c=1;null!=this.__camera&&(c=!1==this.__camera.get_renderPerspective()?1:this.__camera.get_focalLength()/(this.__camera.get_focalLength()+this.__pos.get_z()-this.__camera.get_pos().get_z()),a=this.__camera.get_worldCenterX()+
(a-this.__camera.get_pos().get_x()+this.__camera.get_screenCenterX()-this.__camera.get_worldCenterX())*c,b=this.__camera.get_worldCenterY()+(b-this.__camera.get_pos().get_y()+this.__camera.get_screenCenterY()-this.__camera.get_worldCenterY())*c,!1==(0!=(this._flags&64))&&(c=1));this._localMatrix.compose(a,b,this.get_scaleX()*c,this.get_scaleY()*c,ab.toRadians(this.get_rotation()));this._localMatrix.translate(-this.get_originX()*this.getNaturalWidth(),-this.get_originY()*this.getNaturalHeight())}return this._localMatrix},
zVisible:function(){return null!=this.__camera&&this.__pos.get_z()-this.__camera.get_pos().get_z()<-this.__camera.get_focalLength()?!1:!0},setCamera:function(a){this.__camera=a;this._dirtyMatrix()},getViewMatrix:function(){this.isViewMatrixDirty()&&(this._viewMatrix=null!=this.parent?vb.multiply(this.parent.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix),this._flags&=-9,null!=this.parent&&(this.parentViewMatrixUpdateCount=this.parent.viewMatrixUpdateCount),
++this.viewMatrixUpdateCount);return this._viewMatrix},setOrigin:function(a,b){this.set_originX(a);this.set_originY(b);return this},centerOrigin:function(){this.set_originX(this.set_originY(0.5));return this},disablePointer:function(){this.set_pointerEnabled(!1);return this},draw:function(){},isViewMatrixDirty:function(){return 0!=(this._flags&8)||this.__pos.get_dirty()?!0:null==this.parent?!1:this.parentViewMatrixUpdateCount!=this.parent.viewMatrixUpdateCount||this.parent.isViewMatrixDirty()},get_visible:function(){return 0!=
(this._flags&1)},set_visible:function(a){this._flags=cc.set(this._flags,1,a);return a},get_pointerEnabled:function(){return 0!=(this._flags&2)},set_pointerEnabled:function(a){this._flags=cc.set(this._flags,2,a);return a},updatePositionFromVelocity:function(a){var b=this.__pos;b.set_x(b.get_x()+this.__velocity.get_x()*a);b=this.__pos;b.set_y(b.get_y()+this.__velocity.get_y()*a)},doUpdate:function(a){for(var b=this.firstChild,c;null!=b;)c=b.next,b.doUpdate(a),b.get_doDelete()&&b.dispose(),b=c;this._update(a)},
_update:function(){},_addEventListeners:function(){},_removeEventListeners:function(){},__class__:C,__properties__:{set_pointerEnabled:"set_pointerEnabled",get_pointerEnabled:"get_pointerEnabled",set_visible:"set_visible",get_visible:"get_visible",set_perspectiveScale:"set_perspectiveScale",get_perspectiveScale:"get_perspectiveScale",set_doDelete:"set_doDelete",get_doDelete:"get_doDelete",set_useCamera:"set_useCamera",get_useCamera:"get_useCamera",get_subDepth:"get_subDepth",get_depth:"get_depth",
get__velocity:"get__velocity",set_alpha:"set_alpha",get_alpha:"get_alpha",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_offset:"set_offset",get_offset:"get_offset",set_originY:"set_originY",get_originY:"get_originY",set_originX:"set_originX",get_originX:"get_originX",set_origin:"set_origin",get_origin:"get_origin",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_scale:"set_scale",get_scale:"get_scale",
set_rotation:"set_rotation",get_rotation:"get_rotation",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_pos:"get_pos"}};var ib=function(a){C.call(this,a);this.__rect=a.sprite};i["flambe.display.ImageSprite"]=ib;ib.__name__=["flambe","display","ImageSprite"];ib.__super__=C;ib.prototype=u(C.prototype,{dispose:function(){this.__rect=null;C.prototype.dispose.call(this)},draw:function(a){null!=this.__rect&&null!=this.__rect.get_texture()&&(!1==this.__rect.get_sub()?
a.drawTexture(this.__rect.get_texture(),0,0):a.drawSubTexture(this.__rect.get_texture(),this.__rect.get_offsetX(),this.__rect.get_offsetY(),this.__rect.get_sourceX(),this.__rect.get_sourceY(),this.__rect.get_sourceWidth(),this.__rect.get_sourceHeight()))},getNaturalWidth:function(){return null==this.__rect||null==this.__rect.get_texture()?0:!1==this.__rect.get_sub()?this.__rect.get_texture().get_width():this.__rect.get_originalW()},getNaturalHeight:function(){return null==this.__rect||null==this.__rect.get_texture()?
0:!1==this.__rect.get_sub()?this.__rect.get_texture().get_height():this.__rect.get_originalH()},get_rect:function(){return this.__rect},set_rect:function(a){if(null==a)return this.__rect;this.__rect=null;return this.__rect=a},__class__:ib,__properties__:u(C.prototype.__properties__,{set_rect:"set_rect",get_rect:"get_rect"})});var ob=function(a){this._animations=new H;this._queuedAnimations=[];this._currentAnimDef=null;this._currentFrame=0;this._currentAnimation="";this._fps=12;this._animationStopped=
!0;this._reverse=this._loopComplete=!1;this._realFrame=0;ib.call(this,a)};i["flambe.display.animation.AnimatedSprite"]=ob;ob.__name__=["flambe","display","animation","AnimatedSprite"];ob.__super__=ib;ob.prototype=u(ib.prototype,{dispose:function(){for(var a=this._animations.iterator();a.hasNext();)a.next().dispose();this._currentAnimDef=this._animations=null;this.clearQueue();this._queuedAnimations=null;ib.prototype.dispose.call(this)},setFps:function(a){this._fps=a;return this},get_currentAnimation:function(){return this._currentAnimation},
get_currentId:function(){return this._currentAnimation},get_fps:function(){return this._fps},set_fps:function(a){return this._fps=a},get_animationRatio:function(){return(this._currentFrame-this._currentAnimDef.get_start())/(this._currentAnimDef.get_end()-this._currentAnimDef.get_end())},set_animationRatio:function(a){this._newFrame=Math.floor(a*(this._currentAnimDef.get_end()-this._currentAnimDef.get_start())+this._currentAnimDef.get_start());this._newFrame!=this._currentFrame&&this.set_animationFrame(this._newFrame);
return this.get_animationRatio()},get_reverse:function(){return this._reverse},set_reverse:function(a){return this._reverse=a},get_isPlaying:function(){return""!=this._currentAnimation&&!0==this._doLoop()&&!1==this._animationStopped},get_animationFrame:function(){return this._currentFrame|0},set_animationFrame:function(a){this._currentFrame=this._realFrame=a;this._setFrame(this._realFrame);this.stopAnimation();return this._realFrame|0},get_animationFrameRelative:function(){return y["int"](this._currentFrame-
this._currentAnimDef.get_start())},set_animationFrameRelative:function(a){this._currentFrame=this._currentAnimDef.get_start()+a;return this.get_animationFrameRelative()},getAnimationLength:function(a){return this._animations.exists(a)?this._animations.get(a).get_end()-this._animations.get(a).get_start():-1},addAnimation:function(a,b){this._animations.exists(a)&&this._animations.get(a).dispose();var c=wb.request(a,-1,-1,b);this._animations.set(a,c);return this},animate:function(a,b,c){null==c&&(c=
!1);null==b&&(b=0);this.clearQueue();this._doAnimate(a,b,c);return this},_doAnimate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this._currentAnimation==a&&!1==c||(null!=this._animations&&this._animations.exists(a)?(this._currentAnimDef=null,this._currentAnimDef=this._animations.get(a),this._reverse=this._currentAnimDef.get_reverse()?!0:!1,this._currentFrame=this._currentAnimDef.get_start(),this._currentAnimation=a,this.setLoop(b),this._animationStopped=!1,this._setFrame(this._currentFrame)):null)},
setLoop:function(a){this._currentLoop=a;this._flagLoop=0==a;return this},stopAnimation:function(){this._animationStopped=!0},startAnimation:function(){this._animationStopped=!1},hasAnimation:function(a){return this._animations.exists(a)},queueAnimation:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this._queuedAnimations.push(Cb.request(a,b,c));return this},clearQueue:function(){for(;0<this._queuedAnimations.length;)this._queuedAnimations.pop().dispose()},_update:function(a){ib.prototype._update.call(this,
a);this._runAnimation(a)},_doLoop:function(){return 0<this._currentLoop||this._flagLoop},_runAnimation:function(a){if(this.get_isPlaying()){this._currentFrame+=this._fps*a;Math.floor(this._currentFrame)>this._currentAnimDef.get_end()&&(this._currentFrame=this._currentAnimDef.get_start()+(this._currentFrame-Math.floor(this._currentFrame)),this._loopComplete=!0);if(!0==this._loopComplete&&(this._loopComplete=!1,this._currentLoop--,!1==this._doLoop()))if(this._animationStopped=!0,this._currentFrame=
this._currentAnimDef.get_end(),0<this._queuedAnimations.length)this._doAnimate(this._queuedAnimations[0].get_name(),this._queuedAnimations[0].get_loops(),this._queuedAnimations[0].get_force()),this._queuedAnimations[0].dispose(),this._queuedAnimations.splice(0,1);else{this._onAnimationComplete();return}this._realFrame=this._reverse?this._currentAnimDef.get_end()-(this._currentFrame-this._currentAnimDef.get_start())+1:this._currentFrame;this._setFrame(this._realFrame)}},_setFrame:function(a){0>a||
null==this._currentAnimDef||a>=this._currentAnimDef.get_frames().length+1||this.set_rect(this._currentAnimDef.get_frames()[Math.floor(a-1)])},_onAnimationComplete:function(){},__class__:ob,__properties__:u(ib.prototype.__properties__,{set_animationFrameRelative:"set_animationFrameRelative",get_animationFrameRelative:"get_animationFrameRelative",set_animationFrame:"set_animationFrame",get_animationFrame:"get_animationFrame",get_isPlaying:"get_isPlaying",set_reverse:"set_reverse",get_reverse:"get_reverse",
set_animationRatio:"set_animationRatio",get_animationRatio:"get_animationRatio",set_fps:"set_fps",get_fps:"get_fps",get_currentId:"get_currentId",get_currentAnimation:"get_currentAnimation"})});var bb=function(a){this._looped=null;ob.call(this,a);this._symbol=a.symbol;if(null!=this._symbol){this._animators=Array(this.get_symbol().layers.length);for(var b=0,c=this._animators.length;b<c;){var e=b++,j=this.get_symbol().layers[e];this._animators[e]=new sd(j);this.addChild(this._animators[e].content)}this._buildAnimationsFromLayers(null!=
a.traceAnimations?a.traceAnimations:!1)}this._position=this._frame=0;this._setFrame(1)};i["flambe.swf.MovieSprite"]=bb;bb.__name__=["flambe","swf","MovieSprite"];bb.__super__=ob;bb.prototype=u(ob.prototype,{dispose:function(){ob.prototype.dispose.call(this);if(null!=this._animators)for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;c.dispose()}this._symbol=this._looped=this._animators=null},getLayer:function(a,b){null==b&&(b=!0);for(var c=0,e=this._animators;c<e.length;){var j=e[c];++c;if(j.layer.name==
a)return j.content}if(b)throw Ba.withFields("Missing layer",["name",a]);return null},_buildAnimationsFromLayers:function(a){null==a&&(a=!1);for(var b=this._animations.iterator();b.hasNext();)b.next().dispose();ha.emptyMap(this._animations);for(var b=null,c=0,e=this.get_symbol().layers;c<e.length;){var j=e[c];++c;if(null!=b)break;for(var I=0,d=j.keyframes;I<d.length;){var f=d[I];++I;if(null!=f.label){b=j;break}}}if(null!=b){c=0;for(b=b.keyframes;c<b.length;)e=b[c],++c,this.addAnimationFlump(e.label,
Math.floor(e.index+1),Math.floor(e.index+e.duration)),a&&null}else null},addAnimationFlump:function(a,b,c){this._animations.exists(a)&&this._animations.get(a).dispose();b=wb.request(a,b-1,c-1);this._animations.set(a,b);return this},_setFrame:function(a){if(null==this._symbol)ob.prototype._setFrame.call(this,a);else if(this._frame!=a){for(var b=0,c=this._animators;b<c.length;){var e=c[b];++b;e.composeFrame(this._realFrame)}this._frame=a}},get_frames:function(){return null==this._symbol?0:Math.floor(this._symbol.frames)},
get_symbol:function(){return this._symbol},get_paused:function(){return 0!=(this._flags&256)},set_paused:function(a){this._flags=cc.set(this._flags,256,a);return a},get_position:function(){return this._position},set_position:function(a){return this._position=ab.clamp(a,0,this.get_symbol().duration)},get_looped:function(){null==this._looped&&(this._looped=new Db);return this._looped},rewind:function(){this._position=0;this._flags|=512},__class__:bb,__properties__:u(ob.prototype.__properties__,{get_looped:"get_looped",
set_position:"set_position",get_position:"get_position",set_paused:"set_paused",get_paused:"get_paused",get_symbol:"get_symbol",get_frames:"get_frames"})});var x=function(a){bb.call(this,a);(null!=a.asset||null!=a.assetString)&&this.setAsset(a.asset,a.assetString);this.set_visible(null!=a.visible?a.visible:!0)};i["com.workinman.display.Element"]=x;x.__name__=["com","workinman","display","Element"];x.__super__=bb;x.prototype=u(bb.prototype,{setAsset:function(a,b){null==b&&(b="");this.set_rect(k.get_instance().get_assets().getSpriteRect(a,
b))},get_width:function(){return this.getNaturalWidth()},get_height:function(){return this.getNaturalHeight()},__class__:x,__properties__:u(bb.prototype.__properties__,{get_height:"get_height",get_width:"get_width"})});var Ga=function(a){x.call(this,a)};i["com.workinman.builders.quiz.world.elements.builder.BuilderImage"]=Ga;Ga.__name__="com,workinman,builders,quiz,world,elements,builder,BuilderImage".split(",");Ga.__super__=x;Ga.prototype=u(x.prototype,{dispose:function(){x.prototype.dispose.call(this)},
__class__:Ga});var N=function(a){this._DEBUG_SHOW_HITBOX=!1;x.call(this,a);this._dispatcher=Ya.request();this._tween=a.tween;this._containsInput=!1;this._returnData=null;this._assetUp=a.assetUp;this._assetOver=a.assetOver;this._assetDown=a.assetDown;this._assetDisabled=a.assetDisabled;this._assetUpString=a.assetUpString;this._assetOverString=a.assetOverString;this._assetDownString=a.assetDownString;this._assetDisabledString=a.assetDisabledString;if(null==this._assetUp&&null==this._assetUpString)throw"[ButtonBase] requires field assetUp or assetUpString.";
this._state=ca._STATE_UP;this._flagDragged=!1;this.enable();this.buildHitBox();k.get_instance().get_input().addDelegateListener(t(this,this._onInput));this._buttonScaleBase=L.request(1,1)};i["com.workinman.display.ui.ButtonBase"]=N;N.__name__=["com","workinman","display","ui","ButtonBase"];N.__super__=Ga;N.prototype=u(Ga.prototype,{dispose:function(){this._tween=null;this.disable();k.get_instance().get_input().removeDelegateListener(t(this,this._onInput));null!=this._hitBox&&(this._hitBox.dispose(),
this._hitBox=null);this._hitRect.dispose();this._hitRect=null;this._buttonScaleBase.dispose();this._state=this._buttonScaleBase=null;this._dispatcher.dispose();this._returnData=this._dispatcher=null;Ga.prototype.dispose.call(this)},get_dispatcher:function(){return this._dispatcher},setDispatchData:function(a){this._returnData=a},enable:function(){this._flagEnabled=!0;this._renderUp()},disable:function(){this._flagEnabled=!1;this._renderDisabled()},buildHitBox:function(a,b){null==a&&(a=this.getNaturalWidth());
null==b&&(b=this.getNaturalHeight());this._hitRect=Ua.request(0,0,a,b);this._DEBUG_SHOW_HITBOX&&(null==this._hitBox&&(this._hitBox=new ia({color:16711680,width:8,height:8}),this.addChild(this._hitBox)),this._hitBox.set_scaleX(this._hitRect.get_width()/8),this._hitBox.set_scaleY(this._hitRect.get_height()/8))},_onInput:function(a,b,c,e,j,I){switch(b[1]){case 0:switch(this.getViewMatrix().inverseTransform(j,I,N._scratchPoint),this._containsInput=this._hitRect.contains(N._scratchPoint.get_x(),N._scratchPoint.get_y()),
a[1]){case 0:switch(this._state[1]){case 0:case 2:case 3:this._containsInput&&this._depthTest(j,I)&&(this._state=ca._STATE_DOWN,this._onDown(c,e))}break;case 2:switch(this._state[1]){case 0:this._containsInput&&this._depthTest(j,I)&&(this._state=ca._STATE_OVER,this._onOver());break;case 2:!1==this._containsInput&&(this._state=ca._STATE_UP,this._onOut());break;case 1:if(0>c||c>o.get_CANVAS_WIDTH()||0>e||e>o.get_CANVAS_HEIGHT())this._state=ca._STATE_UP,this._renderReturnUp()}break;case 1:switch(this._state[1]){case 1:this._containsInput?
(this._state=ca._STATE_CLICK,this._onUp(c,e)):(this._state=ca._STATE_UP,this._renderReturnUp())}}}},_depthTest:function(a,b,c){null==c&&(c=!1);if(!1==this._flagEnabled)return!1;a=k.get_instance().get_input().doButtonDepthTest(a,b);c&&null;if(a==this||null!=this._hitBox&&a==this._hitBox)return!0;for(c=this.firstChild;null!=c;){if(a==c)return!0;c=c.next}return!1},_dispatch:function(a){null==this._returnData&&(this._returnData=new H);this._returnData.set("button",this);this;this._dispatcher.dispatchEvent($.request(a,
this._returnData))},_click:function(){this._tween.tween(this,0.1,{scaleX:1.1*this._buttonScaleBase.get_x(),scaleY:1.1*this._buttonScaleBase.get_y()},!0).ease(q.EASE_QUAD_IN);this._tween.tween(this,0.4,{scaleX:this._buttonScaleBase.get_x(),scaleY:this._buttonScaleBase.get_y()},!1).ease(q.EASE_ELASTIC_OUT).onComplete(t(this,this._onClickComplete));this._playSoundClick();this._doClick()},_onClickComplete:function(){this._containsInput&&this._flagEnabled?(this._state=ca._STATE_OVER,this._renderOver()):
this._state=ca._STATE_UP},_update:function(a){Ga.prototype._update.call(this,a)},_doClick:function(){this._dispatch(n.BUTTON_CLICK)},_onDown:function(){this._flagEnabled&&(this._renderDown(),this._dispatch(n.BUTTON_DOWN))},_onUp:function(){this._flagEnabled&&(this._renderReturnUp(),this._click(),this._flagDragged&&this._onCancelDrag(),this._dispatch(n.BUTTON_UP))},_onOver:function(){this._renderOver();this._dispatch(n.BUTTON_OVER);this._playSoundOver()},_onOut:function(){this._flagEnabled&&(this._renderOut(),
this._dispatch(n.BUTTON_OUT))},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(n.BUTTON_CANCEL_DRAG)},_playSoundClick:function(){l.get_instance().playSound("sfx_button_click")},_playSoundOver:function(){l.get_instance().playSound("sfx_button_over")},setScale:function(a,b){this._buttonScaleBase.set_x(a);this._buttonScaleBase.set_y(null==b?a:b);this.set_scaleX(this._buttonScaleBase.get_x());this.set_scaleY(this._buttonScaleBase.get_y());return this},_renderUp:function(){this.setAsset(this._assetUp,
this._assetUpString)},_renderOver:function(){this._tween.tween(this,0.15,{scaleX:1.1*this._buttonScaleBase.get_x(),scaleY:1.1*this._buttonScaleBase.get_y()},!0).ease(q.EASE_QUAD_IN)},_renderOut:function(){this._tween.tween(this,0.5,{scaleX:this._buttonScaleBase.get_x(),scaleY:this._buttonScaleBase.get_y()},!0).ease(q.EASE_ELASTIC_OUT)},_renderDown:function(){this._tween.tween(this,0.15,{scaleX:0.9*this._buttonScaleBase.get_x(),scaleY:0.9*this._buttonScaleBase.get_y()},!0).ease(q.EASE_QUAD_OUT);this.setAsset(this._assetDown,
this._assetDownString)},_renderReturnUp:function(){this._tween.tween(this,0.15,{scaleX:this._buttonScaleBase.get_x(),scaleY:this._buttonScaleBase.get_y()},!0).ease(q.EASE_QUAD_OUT);this._renderUp()},_renderDisabled:function(){this.setAsset(this._assetDisabled,this._assetDisabledString)},__class__:N,__properties__:u(Ga.prototype.__properties__,{get_dispatcher:"get_dispatcher"})});var Fc=function(a){N.call(this,a);this.addChild(new T({text:"buy"}));this._hitBox=new ia({color:16711680,width:y["int"](this.getNaturalWidth()),
height:y["int"](this.getNaturalHeight())});this._hitBox.get_pos().to(-y["int"](this.getNaturalWidth()),-y["int"](this.getNaturalHeight()));this._hitBox.set_alpha(0);this.addChild(this._hitBox)};i["com.workinman.builders.quiz.ui.buttons.ButtonShopBuy"]=Fc;Fc.__name__="com,workinman,builders,quiz,ui,buttons,ButtonShopBuy".split(",");Fc.__super__=N;Fc.prototype=u(N.prototype,{__class__:Fc});var Gc=function(a){N.call(this,a);this._item=a.item;this.setDispatchData(function(a){var c=new H;c.set("id",a._item);
return c}(this));this._itemIcon=this.addChild(new x({assetString:"button_pause"}));this._hitBox=new ia({color:16711680,width:Math.floor(this.getNaturalWidth()),height:Math.floor(this.getNaturalHeight())});this._hitBox.get_pos().to(-y["int"](this.getNaturalWidth()),-y["int"](this.getNaturalHeight()));this._hitBox.set_alpha(0);this.addChild(this._hitBox);this.doRefreshDisplay()};i["com.workinman.builders.quiz.ui.buttons.ButtonShopItem"]=Gc;Gc.__name__="com,workinman,builders,quiz,ui,buttons,ButtonShopItem".split(",");
Gc.__super__=N;Gc.prototype=u(N.prototype,{doRefreshDisplay:function(){this._itemRank.set_text(""+ja.get_instance().getRank(this._item));this._itemAvailability.set_alpha(ja.get_instance().canAffordNextRank(this._item)?1:0);this._itemIcon.setAsset(xb.stringToTexture(ja.get_instance().getIcon(this._item)))},__class__:Gc});var dc=function(a,b){null==b&&(b="");N.call(this,a,b);this._assetUpOn=a.assetUp;this._assetOverOn=a.assetOver;this._assetDownOn=a.assetDown;this._assetDisabledOn=a.assetDisabled;this._assetUpOff=
a.assetUpOff;this._assetOverOff=a.assetOverOff;this._assetDownOff=a.assetDownOff;this._assetDisabledOff=a.assetDisabledOff;this._assetUpOnString=a.assetUpString;this._assetUpOffString=a.assetUpOffString;this._refreshMuteState();this._renderUp()};i["com.workinman.builders.quiz.ui.buttons.ButtonSoundToggle"]=dc;dc.__name__="com,workinman,builders,quiz,ui,buttons,ButtonSoundToggle".split(",");dc.__super__=N;dc.prototype=u(N.prototype,{dispose:function(){this._assetDisabledOff=this._assetDownOff=this._assetOverOff=
this._assetUpOff=this._assetDisabledOn=this._assetDownOn=this._assetOverOn=this._assetUpOn=null;N.prototype.dispose.call(this)},_doClick:function(){this._flagEnabled&&(k.get_instance().get_dispatcher().dispatchEvent($.request(n.MUTE_TOGGLE)),this._refreshMuteState(),this._renderUp())},_refreshMuteState:function(){k.get_instance().get_sound().get_muteAll()?(this._assetUp=this._assetUpOff,this._assetOver=this._assetOverOff,this._assetDown=this._assetDownOff,this._assetDisabled=this._assetDisabledOff,
this._assetUpString=this._assetUpOffString):(this._assetUp=this._assetUpOn,this._assetOver=this._assetOverOn,this._assetDown=this._assetDownOn,this._assetDisabled=this._assetDisabledOn,this._assetUpString=this._assetUpOnString)},__class__:dc});var Ca=function(a){this._flagLocked=!1;this._tween=a.tween;x.call(this,a)};i["com.workinman.display.ui.Display"]=Ca;Ca.__name__=["com","workinman","display","ui","Display"];Ca.__super__=x;Ca.prototype=u(x.prototype,{_addEventListeners:function(){x.prototype._addEventListeners.call(this);
k.get_instance().get_dispatcher().addEventListener(n.UPDATE_DISPLAY,t(this,this._onUpdateDisplay))},_removeEventListeners:function(){x.prototype._removeEventListeners.call(this);k.get_instance().get_dispatcher().removeEventListener(n.UPDATE_DISPLAY,t(this,this._onUpdateDisplay))},_onUpdateDisplay:function(a){this._flagLocked||a.get_data().get("val")==this._updateValue()&&this._refresh()},_refresh:function(){},_updateValue:function(){return null},dispose:function(){this._tween=null;x.prototype.dispose.call(this)},
__class__:Ca});var Hc=function(a){Ca.call(this,a);this._points=k.get_instance().getInt(this._updateValue());a=k.get_instance().get_localize().getLocalizeData("points");this._textNum=this.addChild(new da({text:y.string(this._points),font:a.get_fontName(),originX:0,originY:0.5,scale:a.get_scale()}));this._text=this.addChild(new T({text:"points",x:-25*this._textNum.get_scaleX()}));k.get_instance().setInt(this._updateValue(),k.get_instance().get_achievements().points);this._refresh()};i["com.workinman.builders.quiz.ui.display.DisplayAchievementScore"]=
Hc;Hc.__name__="com,workinman,builders,quiz,ui,display,DisplayAchievementScore".split(",");Hc.__super__=Ca;Hc.prototype=u(Ca.prototype,{dispose:function(){this._text=this._textNum=null;Ca.prototype.dispose.call(this)},_refresh:function(){this._points=k.get_instance().getInt(this._updateValue());this._textNum.set_text(y.string(this._points));v.easeBounceIn(this,this._tween,!1)},_updateValue:function(){return m.INT_ACHIEVEMENT_SCORE},__class__:Hc});var Ic=function(a){Ca.call(this,a);this._currency=
k.get_instance().getInt(this._updateValue());a=k.get_instance().get_localize().getLocalizeData("currency");this._textNum=this.addChild(new da({text:y.string(this._currency),font:a.get_fontName()}));this._text=this.addChild(new T({text:"currency",x:-25*this._textNum.get_scaleX()}));this._refresh()};i["com.workinman.builders.quiz.ui.display.DisplayCurrency"]=Ic;Ic.__name__="com,workinman,builders,quiz,ui,display,DisplayCurrency".split(",");Ic.__super__=Ca;Ic.prototype=u(Ca.prototype,{dispose:function(){this._text=
this._textNum=null;Ca.prototype.dispose.call(this)},_refresh:function(){this._currency=k.get_instance().getInt(this._updateValue());this._textNum.set_text(y.string(this._currency));v.easeBounceIn(this,this._tween,!1)},_updateValue:function(){return m.INT_CURRENCY},__class__:Ic});var Qb=function(a){this._BAR_HEIGHT=49;this._BAR_WIDTH=316;Ca.call(this,a);this._active=!1;var a=l.get_instance().assets.getAssetData("loader_bg"),b=this.addChild(new Ga(l.get_instance().assetParams("loader_bg",{}),"loader_bg"));
l.get_instance().colorMaskAsset(a.name,l.get_instance().loader_bg_color);this._BAR_WIDTH=b.get_width();this._BAR_HEIGHT=b.get_height();this._bar=new ia({color:l.get_instance().loader_fill_color,width:Math.floor(this._BAR_WIDTH),height:Math.floor(this._BAR_HEIGHT),origin:0});this._bar.get_pos().to(-this._BAR_WIDTH/2,-this._BAR_HEIGHT/2);this._bar.set_scaleX(0.05);this.addChild(this._bar);a=l.get_instance().assets.getAssetData("loader_frame");this.addChild(new Ga(l.get_instance().assetParams("loader_frame",
{}),"loader_frame"));l.get_instance().colorMaskAsset(a.name,l.get_instance().loader_frame_color);this._text=this.addChild(new O({},l.get_instance().text.get("loading")));this._text.set_text(k.get_instance().get_localize().getString("loading")+" 0%");this.set_alpha(0)};i["com.workinman.builders.quiz.ui.display.DisplayLoadingProgress"]=Qb;Qb.__name__="com,workinman,builders,quiz,ui,display,DisplayLoadingProgress".split(",");Qb.__super__=Ca;Qb.prototype=u(Ca.prototype,{dispose:function(){this._bar.dispose();
this._text=this._bar=null;Ca.prototype.dispose.call(this)},get_active:function(){return this._active},_update:function(a){Ca.prototype._update.call(this,a)},tweenIn:function(a){this._active||(a&&(this._loadMin=0,this._bar.set_scaleX(0)),v.easeBounceIn(this,this._tween),this._active=!0)},tweenOut:function(){!1!=this._active&&(v.easeBounceOut(this,this._tween),this._active=!1)},_refresh:function(){this._bar.set_scaleX(k.get_instance().getInt(this._updateValue())/100);this._loadMin=ab.max(this._loadMin,
this._bar.get_scaleX());this._bar.set_scaleX(ab.clamp(this._bar.get_scaleX(),0,1));this._text.set_text(k.get_instance().get_localize().getString("loading")+" "+Math.floor(100*this._bar.get_scaleX())+"%");this._text.set_originX(0.5)},_updateValue:function(){return m.INT_LOADING_PROGRESS},__class__:Qb,__properties__:u(Ca.prototype.__properties__,{get_active:"get_active"})});var F=function(a,b){this._STATE_SUSPENDED="state_suspended";this._STATE_OPENED="state_opened";this._STATE_OUT="state_out";this._STATE_IN=
"state_in";this.id=a;this._flowDelegate=null;this._elementManager=new Jc(b,480,280,!0,U.z__MAINUI);this.isOnTop=!1;this._useClickWall()&&(this._clickWall=new ia({color:16711680,width:8,height:8,origin:0}),this._clickWall.get_pos().to(o.get_CANVAS_LEFT(),0),this._clickWall.set_scaleX(o.get_CANVAS_WIDTH()/8),this._clickWall.set_scaleY(70),this._clickWall.set_alpha(0),this._elementManager.get_root().addChild(this._clickWall));this._elementManager.addLayer(U.z__MAINUI,!1);this._dispatcher=Ya.request();
this._tween=za.request();this._buildScreen();this._flagStateAnimationComplete=this._flagStateCompleteTemp=this.flagDispose=!1;this._states=[];this._generateStates();this._stateIndex=this._states.length+2;this._setFirstState();this._addEventListeners()};i["com.workinman.display.ui.ScreenBase"]=F;F.__name__=["com","workinman","display","ui","ScreenBase"];F.prototype={dispose:function(){this._useClickWall()&&(this._clickWall.dispose(),this._clickWall=null);this._removeEventListeners();this._elementManager.dispose();
this.id=this._states=this._elementManager=null;this._tween.dispose();this._tween=null;this._dispatcher.dispose();this._flowDelegate=this._dispatcher=null},get_dispatcher:function(){return this._dispatcher},get_root:function(){return this._elementManager.get_root()},set_flowDelegate:function(a){return this._flowDelegate=a},setFlagDispose:function(){this.flagDispose=!0},_useClickWall:function(){return!0},_setFirstState:function(){this._setState(this._STATE_IN)},_setInState:function(){this._finishOpenState()},
_setCloseState:function(){this.setFlagDispose()},_setOpenedState:function(){this._setState(this._STATE_OPENED)},_generateStates:function(){this._addState(this._STATE_IN,"in",Va.ACTION_OPENED);this._addState(this._STATE_OUT,"out",Va.ACTION_CLOSED);this._addState(this._STATE_OPENED,"open");this._addState(this._STATE_SUSPENDED,"suspend")},_buildScreen:function(){},update:function(a){this._tween.update(a);this._elementManager.updateElements(a);this._flagStateCompleteTemp&&this._onStateComplete()},_onInput:function(){},
reset:function(){this._setFirstState()},open:function(a){null==a&&(a=!0);a?(this.get_state()!=this._STATE_IN&&this._setState(this._STATE_IN),this._setInState()):this._finishOpenState()},_finishOpenState:function(){this._setOpenedState();this._flowDelegate(Ja.OPENED,this.id)},suspend:function(){this._setState(this._STATE_SUSPENDED)},close:function(a){null==a&&(a=!0);this.get_state()!=this._STATE_OUT&&(this._setState(this._STATE_OUT),a?this._setCloseState():(this.setFlagDispose(),this._flowDelegate(Ja.CLOSED,
this.id)))},enable:function(){},disable:function(){},isOpening:function(){return this.get_state()==this._STATE_IN},isClosing:function(){return this.get_state()==this._STATE_OUT},_addState:function(a,b,c,e,j,I){null==c&&(c=0);this._states.push(new Va(a,b,c,e,j,I))},_setState:function(a,b){null==b&&(b=!1);var c=this._findStateIndex(a);0>c||!b&&c==this._stateIndex||(this._flagStateAnimationComplete=this._flagStateCompleteTemp=!1,this._stateIndex=c,null!=this._states[this._stateIndex].inFunc&&this._states[this._stateIndex].inFunc())},
get_state:function(){return this._states[this._stateIndex].id},_findStateIndex:function(a){for(var b=this._states.length-1;0<=b;){if(this._states[b].id==a)return b;b--}return-1},_onEventResizeCanvas:function(){null!=this._clickWall&&(this._clickWall.set_scaleX(o.get_CANVAS_WIDTH()/8),this._clickWall.set_scaleY(o.get_CANVAS_HEIGHT()/8),this._clickWall.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_CENTER_Y()))},_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(n.RESIZE_CANVAS,
t(this,this._onEventResizeCanvas));k.get_instance().get_input().addDelegateListener(t(this,this._onInput))},_removeEventListeners:function(){k.get_instance().get_dispatcher().removeEventListener(n.RESIZE_CANVAS,t(this,this._onEventResizeCanvas));k.get_instance().get_input().removeDelegateListener(t(this,this._onInput))},_onStateComplete:function(){this._flagStateCompleteTemp=!1;null!=this._states[this._stateIndex].outFunc&&this._states[this._stateIndex].outFunc();this._states[this._stateIndex].actionOnComplete!=
Va.ACTION_STOP&&(this._states[this._stateIndex].actionOnComplete==Va.ACTION_OPENED?(this._setOpenedState(),this._flowDelegate(Ja.OPENED,this.id)):this._states[this._stateIndex].actionOnComplete==Va.ACTION_CLOSED?(this.setFlagDispose(),this._flowDelegate(Ja.CLOSED,this.id)):this._states[this._stateIndex].actionOnComplete==Va.ACTION_FLOW&&o.dispatchFlowEvent(this._states[this._stateIndex].actionData))},__class__:F,__properties__:{get_state:"get_state",set_flowDelegate:"set_flowDelegate",get_root:"get_root",
get_dispatcher:"get_dispatcher"}};var zc=function(a,b){this._LIFETIME=3;F.call(this,a,b);this._tray=this._elementManager.addElement(new x({assetString:"achievement_popopup_bg",x:740,y:480}));var c=k.get_instance().get_achievements().lastAchievedId;this._tray.addChild(new x({assetString:"achievement_icon_"+c,x:-150}));this._tray.addChild(new T({text:"achievement_unlocked",x:-100,y:-15}));this._tray.addChild(new T({text:"achievement_name_"+c,x:-100,y:15}));this._tray.set_alpha(0);this._timer=this._LIFETIME};
i["com.workinman.builders.quiz.ui.screens.ScreenAchievementPopup"]=zc;zc.__name__="com,workinman,builders,quiz,ui,screens,ScreenAchievementPopup".split(",");zc.__super__=F;zc.prototype=u(F.prototype,{_useClickWall:function(){return!1},dispose:function(){this._tray=null;F.prototype.dispose.call(this)},update:function(a){F.prototype.update.call(this,a);this.get_state()==this._STATE_OPENED&&0<this._timer&&(this._timer-=a,0>=this._timer&&o.dispatchFlowEvent(p.ACHIEVEMENT_POPUP_CLOSE))},_setInState:function(){var a=
this;v.easeSlideInFromDir(this._tray,this._tween,J.BOTTOM).onComplete(function(){a._finishOpenState()})},_setCloseState:function(){var a=this;v.easeSlideOutToDir(this._tray,this._tween,J.BOTTOM).onComplete(function(){a.setFlagDispose()})},__class__:zc});var Ac=function(a,b){F.call(this,a,b);this._tray=this._elementManager.addElement(new x({assetString:"template_bg"}));this._points=this._elementManager.addElement(new Hc({tween:this._tween,x:175,y:35}));this._points.set_alpha(0);this._rectVisible=Ua.request(100,
140,700,350);this._scrollDy=80;this._list=[];for(var c=k.get_instance().get_achievements().getAchievements(),e=0,j=c.length;e<j;){var I=e++;this._list.push(this._tray.addChild(new x({assetString:"achievement_list_bg",x:480,y:this._rectVisible.get_y()+I*this._scrollDy})));this._list[this._list.length-1].addChild(new T({text:k.get_instance().get_achievements().getLocalizationNameID(c[I]),y:-15}));this._list[this._list.length-1].addChild(new T({text:k.get_instance().get_achievements().getLocalizationDescID(c[I]),
y:15}));k.get_instance().get_achievements().getAchieved(c[I])?this._list[this._list.length-1].addChild(new x({assetString:"",x:-220})):this._list[this._list.length-1].addChild(new x({assetString:"achievement_icon_default_locked",x:-220}));this._list[this._list.length-1].addChild(new x({assetString:"achievement_icon_default",x:220}));this._list[this._list.length-1].addChild(new da({text:y.string(k.get_instance().get_achievements().getPoints(c[I])),x:220,scale:0.5}))}c=0;for(e=this._list;c<e.length;)j=
e[c],++c,j.get_pos().get_y()+j.getNaturalHeight()<this._rectVisible.get_y()?j.set_alpha(0):j.get_pos().get_y()>this._rectVisible.get_y()+this._rectVisible.get_height()?j.set_alpha(0):j.set_alpha(1);this._tray.addChild(new x({assetString:"scorebox"}));this._tray.set_alpha(0);this._tray.addChild(this._buttonUp=new N({tween:this._tween,assetUpString:"button_play",x:840,y:140})).get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventUpClick));this._tray.addChild(this._buttonDown=new N({tween:this._tween,
assetUpString:"button_play",x:840,y:460})).get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventDownClick));this._tray.addChild(c=new N({tween:this._tween,assetUpString:"button_x",x:920,y:40})).get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventExitClick));this._buttonUp.setScale(0.5,0.5);this._buttonDown.setScale(0.5,0.5);c.setScale(0.5,0.5);this._buttonUp.set_rotation(-90);this._buttonDown.set_rotation(90);this._checkButtons()};i["com.workinman.builders.quiz.ui.screens.ScreenAchievements"]=
Ac;Ac.__name__="com,workinman,builders,quiz,ui,screens,ScreenAchievements".split(",");Ac.__super__=F;Ac.prototype=u(F.prototype,{dispose:function(){this._list=this._points=this._buttonDown=this._buttonUp=this._tray=null;this._rectVisible.dispose();this._rectVisible=null;F.prototype.dispose.call(this)},_setInState:function(){var a=this;v.easeSlideInFromDir(this._tray,this._tween,J.TOP).onComplete(function(){a._finishOpenState()});v.easeBounceIn(this._points,this._tween,!0,0.55)},_checkButtons:function(){2>
Math.abs(this._list[0].get_pos().get_y()-this._rectVisible.get_y())?this._buttonUp.disable():this._buttonUp.enable();this._list[this._list.length-1].get_pos().get_y()<this._rectVisible.get_y()+this._rectVisible.get_height()?this._buttonDown.disable():this._buttonDown.enable()},_onEventUpClick:function(){var a=this;if(!(this.get_state()!=this._STATE_OPENED||this._list[0].get_pos().get_y()==this._rectVisible.get_y())){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<
c;){var e=b++;if(e==this._list.length-1)this._tween.tween(this._list[e].get_pos(),0.5,{y:this._list[e].get_pos().get_y()+this._scrollDy},!1,q.EASE_OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[e].get_pos(),0.5,{y:this._list[e].get_pos().get_y()+this._scrollDy},!1,q.EASE_OUT);this._list[e].get_pos().get_y()+this._list[e].getNaturalHeight()>=this._rectVisible.get_y()+this._rectVisible.get_height()?this._tween.tween(this._list[e],0.25,{alpha:0},!1,q.EASE_OUT):this._list[e].get_pos().get_y()+
this._scrollDy>=this._rectVisible.get_y()&&this._tween.tween(this._list[e],0.25,{alpha:1},!1,q.EASE_OUT)}}},_onEventDownClick:function(){var a=this;if(!(this.get_state()!=this._STATE_OPENED||this._list[this._list.length-1].get_pos().get_y()<this._rectVisible.get_y()+this._rectVisible.get_height())){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<c;){var e=b++;if(e==this._list.length-1)this._tween.tween(this._list[e].get_pos(),0.5,{y:this._list[e].get_pos().get_y()-
this._scrollDy},!1,q.EASE_OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[e].get_pos(),0.5,{y:this._list[e].get_pos().get_y()-this._scrollDy},!1,q.EASE_OUT);this._list[e].get_pos().get_y()<=this._rectVisible.get_y()?this._tween.tween(this._list[e],0.25,{alpha:0},!1,q.EASE_OUT):this._list[e].get_pos().get_y()-this._scrollDy<=this._rectVisible.get_y()+this._rectVisible.get_height()&&this._tween.tween(this._list[e],0.25,{alpha:1},!1,q.EASE_OUT)}}},_onEventExitClick:function(){this.get_state()==
this._STATE_OPENED&&o.dispatchFlowEvent(p.ACHIEVEMENT_CLOSE)},__class__:Ac});var Cc=function(a,b){F.call(this,a,b)};i["com.workinman.builders.quiz.ui.screens.ScreenDebug"]=Cc;Cc.__name__="com,workinman,builders,quiz,ui,screens,ScreenDebug".split(",");Cc.__super__=F;Cc.prototype=u(F.prototype,{_buildScreen:function(){this._trayFill=this._elementManager.addElement(new x({x:o.get_CANVAS_CENTER_X(),y:o.get_CANVAS_CENTER_Y()}));this._fill=new ia({color:0,width:8,height:8});this._fill.set_scaleX(o.get_CANVAS_WIDTH()/
8);this._fill.set_scaleY(o.get_CANVAS_HEIGHT()/8);this._fill.set_alpha(0.5);this._trayFill.addChild(this._fill);this._tray=this._elementManager.addElement(new x({x:o.get_CANVAS_CENTER_X(),y:o.get_CANVAS_CENTER_Y()}));this._tray.set_alpha(0);var a=-250;this._tray.addChild(new da({text:"Debug Menu",y:a,scale:0.5}));a+=30;this._tray.addChild(new da({text:"Game Version: 1.0.22",y:a,scale:0.5}));a+=30;this._tray.addChild(new da({text:k.get_instance().getString(m.STRING_DEBUG_TEXT),y:a,originY:0,scale:0.3,
width:3200}));this._buildButtons()},dispose:function(){this._tray=null;this._fill.dispose();this._trayFill=this._fill=null;F.prototype.dispose.call(this)},_setInState:function(){v.easeSlideInFromDir(this._tray,this._tween,J.TOP).onComplete(t(this,this._finishOpenState))},_setCloseState:function(){v.easeSlideOutToDir(this._tray,this._tween,J.BOTTOM).onComplete(t(this,this.setFlagDispose))},_onEventResizeCanvas:function(){this._resize()},_resize:function(){this._tray.get_pos().to(o.get_CANVAS_CENTER_X(),
o.get_CANVAS_CENTER_Y());this._tray.set_scaleX(o.get_CANVAS_WIDTH()/960);this._tray.set_scaleY(o.get_CANVAS_HEIGHT()/560);this._tray.set_scale(Math.min(1,Math.min(this._tray.get_scaleX(),this._tray.get_scaleY())));this._fill.set_scaleX(o.get_CANVAS_WIDTH()/8);this._fill.set_scaleY(o.get_CANVAS_HEIGHT()/8);this._trayFill.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_CENTER_Y())},_buildButtons:function(){this._addButton("X",50,50,t(this,this._onCloseClick))},_addButton:function(a,b,c,e){b=this._tray.addChild(new N({tween:this._tween,
assetUp:g.debug_button,x:b-480,y:c-280}));b.get_dispatcher().addEventListener(n.BUTTON_CLICK,e);b.addChild(new da({text:a,scale:0.5}))},_onCloseClick:function(){this.get_state()==this._STATE_OPENED&&o.dispatchFlowEvent(p.DEBUG_CLOSE)},_onTestClick:function(){this.get_state()==this._STATE_OPENED&&o.dispatchFlowEvent(p.EDITOR_OPEN)},__class__:Cc});var Bc=function(a,b){this.TIMER_POINTER=1.5;F.call(this,a,b);this._dialogueDef=k.get_instance().get_dialogue().grabData();this._dialogueTray=this._elementManager.addElement(new x({assetString:"text_box_2",
x:480,y:this._getPosY(this._dialogueDef.get_position())}));this._dialogueDef.get_mobileToggle()?this._dialogueTray.addChild(new T({text:k.get_instance().getBool(m.BOOL_TOUCH_DEVICE)?this._dialogueDef.get_text()+pe.LOCALIZATION_MOBILE_SUFFIX:this._dialogueDef.get_text(),x:0,y:0})):this._dialogueTray.addChild(new T({text:this._dialogueDef.get_text(),x:0,y:0}));this._clickThrough=!0;null!=this._dialogueDef.get_triggerEvent()&&(this._clickThrough=!1,k.get_instance().get_dispatcher().addEventListener(this._dialogueDef.get_triggerEvent(),
t(this,this._onTrigger)));this._pointer=null!=this._dialogueDef.get_pointerType()&&this._dialogueDef.get_pointerType()!=ta.NONE?null==this._dialogueDef.get_pointerLoc()?this._elementManager.addElement(new x({assetString:"button_blank",x:this._dialogueTray.get_x()+0.5*this._dialogueTray.getNaturalWidth(),y:this._dialogueTray.get_y()+0.5*this._dialogueTray.getNaturalHeight(),alpha:0})):this._elementManager.addElement(new x({assetString:"button_blank",x:this._dialogueDef.get_pointerLoc().get_x(),y:this._dialogueDef.get_pointerLoc().get_y(),
alpha:0})):null;this._timerPointer=this.TIMER_POINTER;this._closing=!1};i["com.workinman.builders.quiz.ui.screens.ScreenDialogue"]=Bc;Bc.__name__="com,workinman,builders,quiz,ui,screens,ScreenDialogue".split(",");Bc.__super__=F;Bc.prototype=u(F.prototype,{_getPosY:function(a){switch(a[1]){case 0:return 100;case 1:return 280;case 2:return 460}return 0},_useClickWall:function(){return!1},dispose:function(){this._pointer=this._dialogueTray=null;null!=this._dialogueDef.get_triggerEvent()&&k.get_instance().get_dispatcher().removeEventListener(this._dialogueDef.get_triggerEvent(),
t(this,this._onTrigger));this._dialogueDef.dispose();this._dialogueDef=null;F.prototype.dispose.call(this)},update:function(a){F.prototype.update.call(this,a);!k.get_instance().getBool(m.BOOL_PAUSED)&&this.get_state()==this._STATE_OPENED&&(this._timerPointer-=a,0>=this._timerPointer&&this._pointerBehavior())},_pointerBehavior:function(){switch(this._dialogueDef.get_pointerType()[1]){case 0:this._timerPointer=this.TIMER_POINTER;this._tween.tween(this._pointer,0.25,{scale:0.9,x:this._pointer.get_x()-
5,y:this._pointer.get_y()+5},!0);this._tween.tween(this._pointer,0.25,{scale:1,x:this._pointer.get_x(),y:this._pointer.get_y()},!1);break;case 2:this._timerPointer=this.TIMER_POINTER+1;this._tween.tween(this._pointer,0.15,{x:this._pointer.get_x()-100},!0);this._tween.tween(this._pointer,0.25,{scale:0.9,x:this._pointer.get_x()-105,y:this._pointer.get_y()+5},!1);this._tween.tween(this._pointer,0.5,{x:this._pointer.get_x()-5,y:this._pointer.get_y()+5},!1,q.EASE_IN,0.25);this._tween.tween(this._pointer,
0.25,{scale:1,x:this._pointer.get_x(),y:this._pointer.get_y()},!1,q.EASE,0.25);break;case 1:this._timerPointer=this.TIMER_POINTER,this._tween.tween(this._pointer,0.7,{x:this._pointer.get_x(),y:this._pointer.get_y()+20},!0,q.EASE_IN),this._tween.tween(this._pointer,0.7,{x:this._pointer.get_x(),y:this._pointer.get_y()},!1,q.EASE_OUT)}},_onTrigger:function(){o.dispatchFlowEvent(p.DIALOGUE_CLOSE)},_setInState:function(){var a=this;v.easeSlideInFromDir(this._dialogueTray,this._tween,J.BOTTOM).onComplete(function(){null!=
a._pointer&&v.easeBounceIn(a._pointer,a._tween);a._finishOpenState()})},_setCloseState:function(){var a=this;null!=this._pointer&&v.easeBounceOut(this._pointer,this._tween);v.easeSlideOutToDir(this._dialogueTray,this._tween,J.BOTTOM).onComplete(function(){k.get_instance().get_dispatcher().dispatchEvent($.request(n.DIALOGUE_LINE_COMPLETE));null!=a._dialogueDef.get_endEvent()&&k.get_instance().get_dispatcher().dispatchEvent($.request(a._dialogueDef.get_endEvent()));a.setFlagDispose()})},_onInput:function(a,
b,c,e){if(!k.get_instance().getBool(m.BOOL_PAUSED)&&this._clickThrough)switch(b[1]){case 0:case 1:switch(a[1]){case 0:this.get_state()==this._STATE_OPENED&&!1==this._closing&&c<o.get_CANVAS_WIDTH()-100&&100<e&&(this._closing=!0,o.dispatchFlowEvent(p.DIALOGUE_CLOSE))}}},__class__:Bc});var Dc=function(a,b){F.call(this,a,b)};i["com.workinman.builders.quiz.ui.screens.ScreenEditorLocalize"]=Dc;Dc.__name__="com,workinman,builders,quiz,ui,screens,ScreenEditorLocalize".split(",");Dc.__super__=F;Dc.prototype=
u(F.prototype,{_buildScreen:function(){this._curImageId=-1;this._text=[];this._images=[];this._flagMouseDown=!1;this._trayBG=this._elementManager.addElement(new x({x:o.get_CANVAS_CENTER_X(),y:o.get_CANVAS_CENTER_Y()}));this._fill=new ia({color:0,width:8,height:8});this._fill.set_scaleX(o.get_CANVAS_WIDTH()/8);this._fill.set_scaleY(o.get_CANVAS_HEIGHT()/8);this._trayBG.addChild(this._fill);this._tray=this._elementManager.addElement(new x({x:o.get_CANVAS_CENTER_X(),y:o.get_CANVAS_CENTER_Y()}));this._tray.set_visible(!1);
var a=110,b=null,c=null,e;this._cellHeight=140;this._curImage=this._tray.addChild(new x({x:0,y:0}));this._trayImages=this._tray.addChild(new x({x:-480,y:-280,originX:0,originY:0}));var j;for(j=l.get_instance().assets.get_assetData().keys();j.hasNext();)if(b=j.next(),e=l.get_instance().assets.get_assetData().get(b),c=l.get_instance().assetParams(e.id,{},!1),!(-1!=e.types.indexOf("mp3")||-1!=e.types.indexOf("ogg"))&&k.get_instance().get_assets().hasSpriteRect(null,c.assetString))b=this._trayImages.addChild(new x(c)),
b.get_pos().to(80,a),b.set_offsetX(0),b.set_offsetY(0),b.set_scale(Math.min(1,Math.min(150/b.get_width(),100/b.get_height()))),this._images.push(e),b=this._trayImages.addChild(new da({text:y.string(c.assetString)+"."+e.types[0],scale:0.5,x:80,y:a+50+10})),b.set_scale(Math.min(150/b.get_width(),20/b.get_height())),this._trayImages.addChild(new ia({color:0,x:80,y:b.get_pos().get_y()+20,originY:1,width:Math.floor(150),height:2})),a+=140;this._trayImages.addChild(new ia({color:5855577,origin:0,width:Math.floor(160),
height:Math.floor(a+100)}),!1);this._trayTop=this._tray.addChild(new x({x:-480,y:-280,originY:0}));this._trayTop.addChild(new ia({color:5855577,origin:0,width:Math.floor(960),height:50}),!1);this._tabTextAdd=this._tray.addChild(new x({visible:!1}));this._addButton(this._tabTextAdd,"Add Text",250,25,t(this,this._onAddText));this._tabTextChange=this._tray.addChild(new x({visible:!1}));this._inputText=this._tabTextChange.addChild(new ec({x:-280,y:-255,text:"",originX:0,align:la.Left,scale:0.4}));this._inputColor=
this._tabTextChange.addChild(new ec({x:-130,y:-255,text:"",originX:0,align:la.Left,scale:0.4}));this._addButton(this._tabTextChange,"Y",800,25,t(this,this._onTextUpdate));this._addButton(this._tabTextChange,"N",900,25,t(this,this._onTextCancel));this._pageId=0;this._pageScroll=560;this._pageTotal=Math.floor(this._images.length/4)+1;this._trayPage=this._tray.addChild(new x({x:-480,y:-280,originX:0,originY:0}));this._trayPage.addChild(new ia({color:5855577,origin:0,width:Math.floor(160),height:50}),
!1);this._pageText=this._trayPage.addChild(new da({text:"1/"+this._pageTotal,scale:0.5,x:80,y:25,originX:0}));this._addButton(this._trayPage,"<",505,305,t(this,this._onClickLeft));this._addButton(this._trayPage,">",615,305,t(this,this._onClickRight));this._resize()},_addButton:function(a,b,c,e,j){a=a.addChild(new N({tween:this._tween,assetUp:g.debug_button,x:c-480,y:e-280}));a.get_dispatcher().addEventListener(n.BUTTON_CLICK,j);a.addChild(new da({text:b,scale:0.5}))},dispose:function(){this._curTextData=
this._curText=this._text=this._curImage=this._trayRight=this._trayImages=this._images=this._fill=this._trayBG=this._tray=null;F.prototype.dispose.call(this)},update:function(a){F.prototype.update.call(this,a)},_showTabTextAdd:function(){this._tabTextAdd.set_visible(!0);this._tabTextChange.set_visible(!1)},_showTabTextChange:function(){this._tabTextAdd.set_visible(!1);this._tabTextChange.set_visible(!0);this._inputText.set_text(this._curText.get_builderText().textLast);this._inputColor.set_text(l.get_instance().parseColorInt(this._curTextData.color))},
_setCurImage:function(){0<=this._curImageId&&this._curImageId<this._images.length&&(this._curImage.setAsset(null,l.get_instance().assetString(this._images[this._curImageId].id)),this._curImage.set_scale(Math.min(1,Math.min(500/this._curImage.get_width(),400/this._curImage.get_height()))),this._showTabTextAdd())},_resize:function(){this._tray.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_CENTER_Y());this._tray.set_scaleX(o.get_CANVAS_WIDTH()/960);this._tray.set_scaleY(o.get_CANVAS_HEIGHT()/560);
this._tray.set_scale(Math.min(1,Math.min(this._tray.get_scaleX(),this._tray.get_scaleY())));this._fill.set_scaleX(o.get_CANVAS_WIDTH()/8);this._fill.set_scaleY(o.get_CANVAS_HEIGHT()/8);this._trayBG.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_CENTER_Y())},_setInState:function(){this._tray.set_visible(!0);this._finishOpenState()},_setCloseState:function(){this._tray.set_visible(!1);this.setFlagDispose()},_onAddText:function(){if(this.get_state()==this._STATE_OPENED&&0<=this._curImageId&&this._curImageId<
this._images.length){this._curTextId=this._text.length;var a=l.get_instance().assetString(this._images[this._curImageId].id)+"_t"+this._curTextId;l.get_instance().setText(a,"TEXT",o.FONT_DEFAULT,1);this._curTextData=l.get_instance().text.get(a);this._curText=this._curImage.addChild(new O({},this._curTextData))}},_onTextUpdate:function(){if(this.get_state()==this._STATE_OPENED){var a=l.get_instance().parseColor(this._inputColor._text);this._curTextData.color=a;this._curText.setColor(a);this._curText.set_text(this._inputText._text)}},
_onTextCancel:function(){this.get_state()==this._STATE_OPENED&&this._showTabTextChange()},_onClickLeft:function(){this.get_state()==this._STATE_OPENED&&(this._pageId--,0>this._pageId&&(this._pageId=0),this._trayImages.get_pos().set_y(-280+-this._pageId*this._pageScroll),this._pageText.set_text(this._pageId+1+"/"+this._pageTotal))},_onClickRight:function(){this.get_state()==this._STATE_OPENED&&(this._pageId++,this._pageId>=this._pageTotal&&(this._pageId=this._pageTotal-1),this._trayImages.get_pos().set_y(-280+
-this._pageId*this._pageScroll),this._pageText.set_text(this._pageId+1+"/"+this._pageTotal))},_onInput:function(a,b,c,e,j,I){if(this.get_state()==this._STATE_OPENED)switch(b[1]){case 0:switch(a[1]){case 0:this._flagMouseDown=!0;null!=this._curText&&this._curText.contains(j,I)?(this._curDrag=this._curText,this._showTabTextChange()):150>j&&50<I||(50>I?0!=(this._tabTextChange._flags&1)&&(this._inputColor.contains(j,I)?this._inputColor.set_focus(!0):this._inputColor.set_focus(!1),this._inputText.contains(j,
I)?this._inputText.set_focus(!0):this._inputText.set_focus(!1)):this._showTabTextAdd());break;case 2:this._flagMouseDown&&this._curDrag.get_pos().to((j-this._curImage.get_pos().get_x()-480)/this._curImage.get_scale(),(I-this._curImage.get_pos().get_y()-280)/this._curImage.get_scale());break;case 1:this._flagMouseDown=!1,150>j&&50<I&&(this._curImageId=Math.floor((I+(this._trayImages.get_pos().get_y()+280))/this._cellHeight),this._setCurImage())}}},__class__:Dc});var xc=function(a,b){this._promoHeight=
150;this._BLINK_TIME=1;F.call(this,a,b);this._blinkTimer=this._BLINK_TIME;this._closing=!1;var c=l.get_instance().assets.getAssetData("promoscreen_bg");this._tray=this._elementManager.addElement(new x({x:0,y:0,originX:0,originY:0}));this._bg=this._tray.addChild(new V({assetString:c.name},l.get_instance().assets.getAssetData("promoscreen_bg"),1,1,1));this._alignMap=new H;this._alignMap.set("center",this._elementManager.addElement(new V({},new Wa({resize:l.get_instance().scale_up?"fit_to":"fit",align:"center"},
""),0.9,0.9)));this._buttonSound=this._elementManager.addElement(new fc(this._tween,1));this._buttonBanner=this._elementManager.addElement(new Rb(this._tween));var e=new x(l.get_instance().assetParams("promo_bg",{})),c=this._alignMap.get("center");this._alignMap.get("center").addChild(e);var j=this._alignMap.get("center").addChild(new O({},l.get_instance().text.get(l.get_instance().promos_enabled?"promoscreen_header":"endscreen_header")));j.get_pos().set_y(0==e.get_height()?-j.get_height():-e.get_height()/
2+j.get_height()/2);var I=[];this._btnReplay=c.addChild(new N(l.get_instance().assetParams("button_replay",{tween:this._tween,y:e.get_height()/2},!0)));this._btnReplay.addChild(new O({},l.get_instance().text.get("replay_btn")));this._btnReplay.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onPlayAgainClick));I.push(this._btnReplay);for(var d=0;d<I.length;){var f=I[d];++d;f.get_pos().set_y(0==e.get_height()?f.get_height()/2:e.get_height()/2-f.get_height()/2)}if(1<I.length){for(f=d=0;f<
I.length;){var g=I[f];++f;d+=10+g.get_width()}d=-(d-10)/2;I[0].get_pos().set_x(d+I[0].get_width()/2);d=1;for(f=I.length;d<f;)g=d++,I[g].get_pos().set_x(I[0].get_pos().get_x()+I[0].get_width()/2+I[1].get_width()/2+10)}var h=j.get_height()*j.get_scaleY()+Math.abs(j.get_offsetY())-(this._btnReplay.get_height()+Math.abs(this._btnReplay.get_offsetY()));0==j.get_height()&&(h=-(this._btnReplay.get_height()/2+Math.abs(this._btnReplay.get_offsetY())));this._promos=[];if(l.get_instance().promos_enabled){var d=
S.eval("window.top.location.href"),f=y["int"](Math.min(l.get_instance().promos.list.length,4)),i=Math.ceil(f/2),g=Math.ceil(f/i),p=180,p=((0==e.get_height()?o.get_CANVAS_HEIGHT():e.get_height())-(j.get_height()*j.get_scaleY()+Math.abs(j.get_offsetY()))-(this._btnReplay.get_height()+Math.abs(this._btnReplay.get_offsetY())))/i;this._promoHeight=p-30;this._promoHeight*=0.9;var q;q=0==e.get_width()?0:e.get_width()/g-l.get_instance().spacing;if(0==e.get_height()){j.get_pos().set_y(0-p*(i/2)-j.get_height()/
2-l.get_instance().spacing);for(e=0;e<I.length;)h=I[e],++e,h.get_pos().set_y(p*(i/2)+h.get_height()/2+l.get_instance().spacing);h=j.get_height()*j.get_scaleY()+Math.abs(j.get_offsetY())-(this._btnReplay.get_height()+Math.abs(this._btnReplay.get_offsetY()));j=j.get_pos();j.set_y(j.get_y()+h/2);for(j=0;j<I.length;)e=I[j],++j,e=e.get_pos(),e.set_y(e.get_y()+h/2);h/=2}I=h-(1<i?p/i:0);f>l.get_instance().promos.list.length&&(f=l.get_instance().promos.list.length);for(var s=0,j=0;j<f;)if(i=j++,e=k.get_instance().get_assets().getSpriteRect(null,
l.get_instance().promos.list[i].image),null!=e&&(h=[l.get_instance().promos.list[i].href],h[0]!=d)){var r=Math.min(1,this._promoHeight/e.get_texture().get_height());0<q&&r*e.get_texture().get_width()>q&&(r=q/e.get_texture().get_width());e=c.addChild(new N({assetUpString:l.get_instance().promos.list[i].image,tween:this._tween,x:0,y:0}));s=g;1==(i+1)%g&&i+1==f&&(s=1);1<s&&e.get_pos().set_x(0==i%s?-(e.get_width()*r/2+l.get_instance().spacing):e.get_width()*r/2+l.get_instance().spacing);e.get_pos().set_y(I+
Math.floor(i/g)*p);e.setScale(r,r);e.get_dispatcher().addEventListener(n.BUTTON_CLICK,function(a){return function(){l.get_instance().get_flagApp()?window.location.href=a[0]:window.open(a[0],"_top")}}(h));h=c.addChild(new O({},l.get_instance().text.get("promo_title")));h.set_text(l.get_instance().promos.list[i].text);i=e.get_width()*e.get_scaleX();i=Math.min(h.get_scale(),i/h.get_width());h.set_scale(i);h.get_pos().to(e.get_pos().get_x(),e.get_pos().get_y()+1.1*e.get_height()*e.get_scaleY()/2+h.get_height()/
2*h.get_scaleY());i=h.get_height()*h.get_scaleY();r=e.get_pos();r.set_y(r.get_y()-i/2);h=h.get_pos();h.set_y(h.get_y()-i/2);this._promos.push(e);h=e=e=null}}else{d=j.get_height()*j.get_scaleY();for(f=c=0;f<I.length;)g=I[f],++f,c=Math.max(c,g.get_height()*g.get_scaleY());d=d+c+l.get_instance().spacing;j.get_pos().set_y(-d/2);for(f=0;f<I.length;)g=I[f],++f,g.get_pos().set_y(d/2-c/2)}e=j=I=c=null;this._loadWidget=this._tray.addChild(new Qb({tween:this._tween,x:o.get_CANVAS_CENTER_X(),y:o.get_CANVAS_HEIGHT()-
10}));k.get_instance().getBool(m.BOOL_TOUCH_DEVICE);this._clickTray=this._elementManager.addElement(new V({},new Wa({resize:"fit",align:"bottom"},"")));this._resize();this._alignMap.get("center").set_alpha(0);this._clickTray.set_alpha(0)};i["com.workinman.builders.quiz.ui.screens.ScreenEndGame"]=xc;xc.__name__="com,workinman,builders,quiz,ui,screens,ScreenEndGame".split(",");xc.__super__=F;xc.prototype=u(F.prototype,{dispose:function(){this._buttonBanner=this._buttonSound=this._btnReplay=this._promos=
this._bg=this._loadWidget=this._tray=this._clickTray=this._buttonPlayAgain=null;F.prototype.dispose.call(this)},update:function(a){F.prototype.update.call(this,a)},_setInState:function(){v.easeBounceIn(this._alignMap.get("center"),this._tween,!0,0,!0);v.easeBounceIn(this._clickTray,this._tween,!0,0,!0);this._finishOpenState()},_setCloseState:function(){this.setFlagDispose()},_tweenOutClickTray:function(){null!=this._clickTray&&v.easeBounceOut(this._clickTray,this._tween,!1,0,!0)},_onEventResizeCanvas:function(a){F.prototype._onEventResizeCanvas.call(this,
a);this._resize()},_resize:function(){for(var a=this._alignMap.keys();a.hasNext();)this._alignMap.get(a.next()).resize();null!=this._loadWidget&&this._loadWidget.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_HEIGHT()-50);this._bg.resize();this._clickTray.resize();null!=this._buttonSound&&this._buttonSound.resize();null!=this._buttonBanner&&this._buttonBanner.resize()},_onPlayAgainClick:function(){var a=this;this.get_state()!=this._STATE_OPENED||this._closing||(this._closing=!0,this._tweenOutClickTray(),
v.easeBounceOut(this._alignMap.get("center"),this._tween,!1,0,!0).onComplete(function(){a._loadWidget.tweenIn(!0);o.dispatchFlowEvent(p.END_GAME_PLAY_AGAIN)}))},_onInput:function(){},__class__:xc});var yc=function(a,b){F.call(this,a,b);this._closing=!1;this._inputBuffer="";this._keyLength=k.get_instance().getString(m.STRING_UNLOCK_CODE).length;4>this._keyLength&&(this._keyLength=4)};i["com.workinman.builders.quiz.ui.screens.ScreenEnterCode"]=yc;yc.__name__="com,workinman,builders,quiz,ui,screens,ScreenEnterCode".split(",");
yc.__super__=F;yc.prototype=u(F.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new x({assetString:"template_bg",x:480,y:280,alpha:0}));this._tray.addChild(new T({y:-15,text:"code_copy",origin:0.5}));this._inputTextField=this._tray.addChild(new T({text:"enter_code_header",y:-120,scale:0.5}));for(var a=0,b=0,c=0,e="",j="",d;10>=c;){j="button_blank";e="code_key_"+y.string(c+1);d=t(this,this._onButtonKeyClick);switch(c){case 0:a=-55;b=-60;break;case 1:a=0;break;case 2:a=
55;break;case 3:a=-55;b=-5;break;case 4:a=0;break;case 5:a=55;break;case 6:a=-55;b=50;break;case 7:a=0;break;case 8:a=55;break;case 9:b=105;e="code_key_0";break;case 10:a=-27.5,e="code_key_enter",d=t(this,this._onButtonEnterClick)}j=this._tray.addChild(new N({x:a,y:b,tween:this._tween,assetUpString:j}));j.addChild(new T({x:-2,y:-3,text:e}));j.setDispatchData(function(){var a=new H;a.set("val",c+1);return a}(this));j.get_dispatcher().addEventListener(n.BUTTON_CLICK,d);d=j=null;c++}this._backButton=
this._tray.addChild(new N({y:250,tween:this._tween,assetUpString:"button_blank"}));this._backButton.addChild(new T({y:-3,text:"back"}));this._backButton.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onButtonBackClick));this._inputBuffer=""},dispose:function(){this._inputBuffer=this._inputTextField=this._backButton=this._tray=null;F.prototype.dispose.call(this)},_onButtonKeyClick:function(a){this._addInputBuffer(y.string(a.get_data().get("val")))},_onButtonEnterClick:function(){this._inputBuffer!=
k.get_instance().getString(m.STRING_UNLOCK_CODE)?(this._resetInputBuffer(),this._inputTextField.set_localize(!0),this._inputTextField.set_text("invalid_code")):k.get_instance().setBool(m.BOOL_CODE_UNLOCK,!0)},_resetInputBuffer:function(){this._inputBuffer=""},_addInputBuffer:function(a){for(this._inputBuffer+=a;this._inputBuffer.length>this._keyLength;)this._inputBuffer=E.substr(this._inputBuffer,1,this._inputBuffer.length);this._inputTextField.set_localize(!1);this._inputTextField.set_text(this._inputBuffer)},
_setInState:function(){this._closing=!1;v.easeBounceIn(this._tray,this._tween,!0).onComplete(t(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,v.easeBounceOut(this._tray,this._tween).onComplete(t(this,this.setFlagDispose)))},_onButtonBackClick:function(){this.get_state()==this._STATE_OPENED&&o.dispatchFlowEvent(p.ENTER_CODE_CLOSE)},__class__:yc});var wc=function(a,b){F.call(this,a,b)};i["com.workinman.builders.quiz.ui.screens.ScreenGameplayHud"]=wc;wc.__name__=
"com,workinman,builders,quiz,ui,screens,ScreenGameplayHud".split(",");wc.__super__=F;wc.prototype=u(F.prototype,{_buildScreen:function(){this._buttonSound=this._elementManager.addElement(new fc(this._tween));this._buttonBanner=this._elementManager.addElement(new Rb(this._tween));this._resize()},dispose:function(){this._buttonBanner=this._buttonSound=null;F.prototype.dispose.call(this)},_useClickWall:function(){return!1},_setInState:function(){this._tween.tween(this._buttonSound.get_button(),0.15,
{scaleX:1.1,scaleY:1.1,alpha:l.get_instance().btn_hud_alpha},!0,q.EASE_OUT,0.2);this._tween.tween(this._buttonSound.get_button(),0.15,{scaleX:1,scaleY:1},!1,q.EASE_IN).onComplete(t(this,this._finishOpenState))},_onEventResizeCanvas:function(a){F.prototype._onEventResizeCanvas.call(this,a);this._resize()},_resize:function(){null!=this._buttonSound&&this._buttonSound.resize();null!=this._buttonBanner&&this._buttonBanner.resize()},__class__:wc});var uc=function(a,b){F.call(this,a,b);this._closing=!1};
i["com.workinman.builders.quiz.ui.screens.ScreenGameplayMenu"]=uc;uc.__name__="com,workinman,builders,quiz,ui,screens,ScreenGameplayMenu".split(",");uc.__super__=F;uc.prototype=u(F.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new x({assetString:"pause_menu",x:480,y:280,alpha:0}));this._tray.addChild(new T({text:"menu",y:-170}));var a;a=this._tray.addChild(new N({tween:this._tween,assetUpString:"button_play",x:-78,y:-60}));a.get_dispatcher().addEventListener(n.BUTTON_CLICK,
t(this,this._onEventResumeClick));a=this._tray.addChild(new N({tween:this._tween,assetUpString:"button_help",x:75,y:-60}));a.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventHelpClick));a=this._tray.addChild(new N({tween:this._tween,assetUpString:"button_x",x:75,y:90}));a.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventQuitClick));this._tray.addChild(new dc({tween:this._tween,assetUpString:"button_vol_on_big",assetUpOffString:"button_vol_off_big",x:-78,y:90}))},
dispose:function(){this._tray=null;F.prototype.dispose.call(this)},_setInState:function(){this._closing=!1;v.easeBounceIn(this._tray,this._tween).onComplete(t(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,v.easeBounceOut(this._tray,this._tween).onComplete(t(this,this.setFlagDispose)))},_onEventHelpClick:function(){this.get_state()==this._STATE_OPENED&&o.dispatchFlowEvent(p.GAMEPLAY_MENU_HELP)},_onEventResumeClick:function(){this.get_state()==this._STATE_OPENED&&
o.dispatchFlowEvent(p.GAMEPLAY_MENU_CLOSE)},_onEventQuitClick:function(){this.get_state()==this._STATE_OPENED&&o.dispatchFlowEvent(p.GAMEPLAY_MENU_QUIT)},__class__:uc});var sc=function(a,b){F.call(this,a,b);this._closing=!1};i["com.workinman.builders.quiz.ui.screens.ScreenHelp"]=sc;sc.__name__="com,workinman,builders,quiz,ui,screens,ScreenHelp".split(",");sc.__super__=F;sc.prototype=u(F.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new x({assetString:"help_menu",x:480,
y:280,alpha:0}));z.get_instance().get_touch().get_supported();this._tray.addChild(new T({text:"help",y:-170}));this._button=this._tray.addChild(new N({tween:this._tween,assetUpString:"button_x",x:150}));this._button.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventPlayClick));this._tray.set_visible(!1)},dispose:function(){this._button=this._tray=null;F.prototype.dispose.call(this)},_setInState:function(){this._closing=!1;v.easeBounceIn(this._tray,this._tween).onComplete(t(this,
this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,v.easeBounceOut(this._tray,this._tween).onComplete(t(this,this.setFlagDispose)))},_onEventPlayClick:function(){this.get_state()==this._STATE_OPENED&&o.dispatchFlowEvent(p.HELP_CLOSE)},__class__:sc});var vc=function(a,b){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;F.call(this,a,b);this._closing=!1};i["com.workinman.builders.quiz.ui.screens.ScreenQuitConfirm"]=vc;vc.__name__="com,workinman,builders,quiz,ui,screens,ScreenQuitConfirm".split(",");
vc.__super__=F;vc.prototype=u(F.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new x({assetString:"text_box_2",x:480,y:280,alpha:0}));this._tray.addChild(new T({text:"quit_confirm_header",y:-60}));this._tray.set_alpha(0);var a=this._tray.addChild(new N({tween:this._tween,assetUpString:"button_blank",x:-92,y:52}));a.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onYesClick));a.addChild(new T({text:"yes",y:-5}));a=this._tray.addChild(new N({tween:this._tween,
assetUpString:"button_blank",x:92,y:52}));a.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onNoClick));a.addChild(new T({text:"no",y:-5}))},dispose:function(){F.prototype.dispose.call(this);this._tray=null},_setInState:function(){this._closing=!1;v.easeBounceIn(this._tray,this._tween).onComplete(t(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,v.easeBounceOut(this._tray,this._tween).onComplete(t(this,this.setFlagDispose)))},_onYesClick:function(){this.get_state()==
this._STATE_OPENED&&o.dispatchFlowEvent(p.GAMEPLAY_QUIT_YES)},_onNoClick:function(){this.get_state()==this._STATE_OPENED&&o.dispatchFlowEvent(p.GAMEPLAY_QUIT_NO)},__class__:vc});var tc=function(a,b){F.call(this,a,b);this._closing=!1};i["com.workinman.builders.quiz.ui.screens.ScreenShop"]=tc;tc.__name__="com,workinman,builders,quiz,ui,screens,ScreenShop".split(",");tc.__super__=F;tc.prototype=u(F.prototype,{_buildScreen:function(){this._trayCurrency=this._elementManager.addElement(new x({assetString:"scorebox"}));
this._trayCurrency.set_alpha(0);this._currency=this._elementManager.addElement(new Ic({x:175,y:35,tween:this._tween}));this._currency.set_alpha(0);this._trayInventory=this._elementManager.addElement(new x({assetString:"help_menu",x:288,y:280}));this._trayInventory.set_visible(!1);this._trayInventory.addChild(new T({x:-200,y:-170,text:"shop"}));this._buttons=[];for(var a=0.35*-this._trayInventory.getNaturalWidth(),b=a,c=-75,e=0,j=0,d=ja.get_instance().getItemList();j<d.length;){var f=d[j];++j;this._button=
this._trayInventory.addChild(new Gc({item:f,x:b,y:c,tween:this._tween,assetUpString:"button_shop_backing"}));this._buttons.push(this._button);e++;4<=e?(e=0,b=a,c+=105):b+=105}this._trayDetails=this._elementManager.addElement(new x({assetString:"help_menu",x:768,y:280}));this._trayDetails.set_visible(!1);this._textItemName=this._trayDetails.addChild(new T({x:-175,y:-170,text:"item_name_default",originX:0}));this._textItemDesc=this._trayDetails.addChild(new T({x:-50,y:-90,text:"item_unowned",originY:0}));
this._textNextRank=this._trayDetails.addChild(new T({x:-250,y:-20,text:"next_rank",origin:0}));this._textItemNext=this._trayDetails.addChild(new T({x:-50,y:5,text:"item_desc_default",originY:0}));a=k.get_instance().get_localize().getLocalizeData("currency");this._textCostCurrency=this._trayDetails.addChild(new T({x:-115-20*a.get_scale(),y:130,text:"currency",originX:1}));this._textCost=this._trayDetails.addChild(new da({x:-115,y:130,text:"99999",font:a.get_fontName(),originX:0,scale:a.get_scale()}));
this._textProgress=this._trayDetails.addChild(new da({x:-50,y:-120,text:"1 / 1",font:a.get_fontName(),scale:0.5}));this._trayDetails.addChild(new x({assetString:"button_blank",x:-250,y:-170}));this._itemIcon=this._trayDetails.addChild(new x({assetString:"button_pause",x:-250,y:-176}));this._buttonBuy=this._trayDetails.addChild(new Fc({x:-250,y:175,tween:this._tween,assetUpString:"button_blank"}));this._buttonBuy.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onBuy));this._buttonLeave=
this._trayDetails.addChild(new N({x:150,y:200,tween:this._tween,assetUpString:"button_x"}));this._buttonLeave.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventPlayClick));k.get_instance().get_dispatcher().dispatchEvent($.request(n.ITEM_SELECT,function(){var a=new H;a.set("id",na.ITEM_SWORD);return a}(this)));a=null},_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(n.ITEM_SELECT,t(this,this._onItemSelect))},_removeEventListeners:function(){k.get_instance().get_dispatcher().removeEventListener(n.ITEM_SELECT,
t(this,this._onItemSelect))},_onItemSelect:function(a){this._doItemSelect(a.get_data().get("id"))},_onBuy:function(){k.get_instance().modifyInt(m.INT_CURRENCY,-ja.get_instance().getCostNextRank(this._selectedItem));ja.get_instance().modRank(this._selectedItem);this._doItemSelect(this._selectedItem);for(var a,b=0,c=this._buttons;b<c.length;)a=c[b],++b,a.doRefreshDisplay()},_doItemSelect:function(a){this._selectedItem=a;this._textItemName.set_text(ja.get_instance().getLocalizationNameID(this._selectedItem));
this._textItemDesc.set_text(ja.get_instance().getLocalizationDescID(this._selectedItem));this._textItemNext.set_text(ja.get_instance().getLocalizationDescID(this._selectedItem,1));this._itemIcon.setAsset(xb.stringToTexture(ja.get_instance().getIcon(this._selectedItem)));a=ja.get_instance().hasRankCapped(this._selectedItem);!a&&ja.get_instance().canAffordNextRank(this._selectedItem)?this._buttonBuy.enable():this._buttonBuy.disable();this._textCost.set_alpha(a?0:1);this._textCostCurrency.set_alpha(a?
0:1);this._textItemNext.set_alpha(a?0:1);this._textNextRank.set_alpha(a?0:1);this._textCost.set_text(y.string(ja.get_instance().getCostNextRank(this._selectedItem)));this._textProgress.set_text(ja.get_instance().getRank(this._selectedItem)+" / "+ja.get_instance().getRankCap(this._selectedItem))},_setInState:function(){this._closing=!1;v.easeSlideIn(this._trayCurrency,this._tween,0,-75);v.easeSlideIn(this._trayInventory,this._tween,-520,280).onComplete(t(this,this._finishOpenState));v.easeSlideIn(this._trayDetails,
this._tween,1480,280);v.easeBounceIn(this._currency,this._tween,!0,0.55)},_setCloseState:function(){this._closing||(this._closing=!0,v.easeSlideOut(this._trayCurrency,this._tween,0,-75,0.25).onComplete(t(this,this.setFlagDispose)),v.easeSlideOut(this._trayInventory,this._tween,-520,280),v.easeSlideOut(this._trayDetails,this._tween,1480,280),v.easeBounceOut(this._currency,this._tween))},_onEventPlayClick:function(){this.get_state()==this._STATE_OPENED&&o.dispatchFlowEvent(p.SHOP_CLOSE)},dispose:function(){this._buttons=
this._trayDetails=this._trayInventory=this._trayCurrency=null;F.prototype.dispose.call(this)},__class__:tc});var rc=function(a,b){this._BLINK_TIME=1;F.call(this,a,b);this._blinkAllowed=!0;this._closing=!1;this._blinkTimer=this._BLINK_TIME;this._beginExternalLoad()};i["com.workinman.builders.quiz.ui.screens.ScreenSplash"]=rc;rc.__name__="com,workinman,builders,quiz,ui,screens,ScreenSplash".split(",");rc.__super__=F;rc.prototype=u(F.prototype,{dispose:function(){sa.get_instance().sendTrackingCall(G.onTitleScreenEnd);
this._buttonBanner=this._alignMap=this._bg=this._buttonPlay=this._clickTray=this._loadWidget=this._buttonSound=this._textClickToPlay=null;F.prototype.dispose.call(this)},_buildScreen:function(){this._bg=this._elementManager.addElement(new V({assetString:"builder_splash"},new Wa({resize:"fill_to",align:"center"},""),1,1,1,"builder_splash"));var a="center,top,top_left,top_right,bottom,bottom_left,bottom_right,left,right".split(",");this._alignMap=new H;for(var b=0;b<a.length;){var c=a[b];++b;var e=
this._elementManager.addElement(new V({},new Wa({resize:"fit",align:c},"")));this._alignMap.set(c,e)}this._resize()},_beginExternalLoad:function(){k.get_instance().get_assets().load(t(this,this._beginPreload),null,null,["external_manifest_id"],0)},_beginPreload:function(){var a=["fonts_"+k.get_instance().getString(m.STRING_REGION_ID)];k.get_instance().get_assets().load(t(this,this._onPreloadFinished),["preload"],a,["preload_manifest_id"],0)},_onPreloadFinished:function(){sa.get_instance().sendTrackingCall(G.getLoadingProgress,
{progress:0.6666666666666666});k.get_instance().get_localize().parseLocalization();l.get_instance().onPreloadLoaded();this._addPreload();this._beginInitialLoad(k.get_instance().getInt(m.INT_QUALITY))},_beginInitialLoad:function(a){k.get_instance().get_dispatcher().addEventListener(n.UPDATE_DISPLAY,t(this,this._onUpdateDisplay));if(0!=a&&1!=a)throw"[Main](_beginInitialLoad) Error: Not expecting quality flag "+a+". Nothing loaded.";o.allAudioSupported();k.get_instance().get_assets().load(t(this,this._eventLoadCompleteInitial),
null,null,["initial_manifest_id"],1200)},_eventLoadCompleteInitial:function(){var a=this;l.get_instance().onInitialLoaded();k.get_instance().get_dispatcher().removeEventListener(n.UPDATE_DISPLAY,t(this,this._onUpdateDisplay));sa.get_instance().sendTrackingCall(G.onLoadingEnd);sa.get_instance().sendTrackingCall(G.onTitleScreenStart);this._buttonBanner=this._elementManager.addElement(new Rb(this._tween));this._tweenClickTray();this._removeLoader();if(null!=this._buttonPlay)v.easeBounceIn(this._buttonPlay,
this._tween).onComplete(function(){a._buttonPlay.enable()});this._resize();k.get_instance().get_dispatcher().dispatchEvent($.request(n.INITIAL_LOAD_COMPLETE))},_addPreload:function(){this._bg.set_data(l.get_instance().assets.getAssetData("splash"));for(var a=l.get_instance().assets.getAssets("location","splash"),b,c=0;c<a.length;){var e=a[c];++c;"button_play"!=e.id&&(b=this._getAlignElement(e.align),b.addChild(new Ga(l.get_instance().assetParams(e.id,{},!1),e.id)))}this._addClickTray();this._addLoader();
l.get_instance().assetEnabled("button_play")&&(a=l.get_instance().assets.getAssetData("button_play"),this._buttonPlay=new N(l.get_instance().assetParams("button_play",{tween:this._tween,alpha:0},!0),"button_play"),this._buttonPlay.addChild(new O({},l.get_instance().text.get("play_btn"))),this._getAlignElement(a.align).addChild(this._buttonPlay),this._buttonPlay.disable());this._resize()},_getAlignElement:function(a){return this._alignMap.exists(a)?this._alignMap.get(a):null},_onEventResizeCanvas:function(a){F.prototype._onEventResizeCanvas.call(this,
a);this._resize()},_resize:function(){for(var a=this._alignMap.keys();a.hasNext();)this._alignMap.get(a.next()).resize();this._bg.resize();null!=this._buttonSound&&this._buttonSound.resize();null!=this._buttonBanner&&this._buttonBanner.resize()},_addLoader:function(){null==this._loadWidget&&(this._loadWidget=this._alignMap.get("center").addChild(new Qb({tween:this._tween,x:l.get_instance().loader.x,y:l.get_instance().loader.y})));!1==this._loadWidget.get_active()&&this._loadWidget.tweenIn(!0)},_removeLoader:function(){null==
this._loadWidget||!1==this._loadWidget.get_active()||this._loadWidget.tweenOut()},_addClickTray:function(){if(null==this._clickTray){var a="",a=k.get_instance().getBool(m.BOOL_TOUCH_DEVICE)?"play_tap":"play_click";this._textClickToPlay="fill"==this._bg.get_data().resize?this._getAlignElement("center").addChild(new O({},l.get_instance().text.get(a))):this._bg.addChild(new O({},l.get_instance().text.get(a)));this._textClickToPlay.set_originY(1);this._clickTray=this._textClickToPlay;this._textClickToPlay.set_visible(!1)}},
_tweenClickTray:function(){v.easeBounceIn(this._clickTray,this._tween,!0,0.2)},update:function(a){F.prototype.update.call(this,a);this._blinkAllowed&&null!=this._clickTray?(this._blinkTimer-=a,0>=this._blinkTimer&&(0==this._textClickToPlay.get_alpha()?(this._blinkTimer=this._BLINK_TIME,this._textClickToPlay.set_alpha(1)):(this._blinkTimer=this._BLINK_TIME/2,this._textClickToPlay.set_alpha(0)))):null!=this._textClickToPlay&&this._textClickToPlay.set_alpha(0)},_onUpdateDisplay:function(a){a.get_data().get("val")==
m.INT_LOADING_PROGRESS&&sa.get_instance().sendTrackingCall(G.getLoadingProgress,{progress:0.6666666666666666+Kc.clamp(k.get_instance().getInt(m.INT_LOADING_PROGRESS)/100,0,1)/3})},_onEventCodeClick:function(){this.get_state()==this._STATE_OPENED&&(k.get_instance().setBool(m.BOOL_CODE_SCREEN_OPEN,!0),o.dispatchFlowEvent(p.ENTER_CODE_OPEN))},_tweenOutClickTray:function(){null!=this._clickTray&&(this._tween.tween(this._clickTray,0.15,{scaleX:1.1,scaleY:1.1},!0,q.EASE_QUAD_OUT),this._tween.tween(this._clickTray,
0.15,{scaleX:0,scaleY:0,alpha:0},!1,q.EASE_QUAD_IN))},_setCloseState:function(){this.setFlagDispose()},_onInput:function(a,b,c,e){if(this.get_state()==this._STATE_OPENED)switch(b[1]){case 0:case 1:switch(a[1]){case 1:if(!1==this._closing&&(null==this._buttonBanner||null!=this._buttonBanner&&!1==this._buttonBanner.buttonContains(c,e))&&!1==k.get_instance().getBool(m.BOOL_CODE_SCREEN_OPEN))this._closing=!0,this._tweenOutClickTray(),null!=this._buttonPlay&&(this._buttonPlay.disable(),v.easeBounceOut(this._buttonPlay,
this._tween)),this._tween.timer(0.2).onComplete(t(this,this._addLoader)),o.dispatchFlowEvent(p.SPLASH_PLAY)}}},__class__:rc});var V=function(a,b,c,e,j){null==j&&(j=0);null==e&&(e=1);null==c&&(c=1);x.call(this,a);this._data=b;this._tiles=[];this._percentWidth=c;this._percentHeight=e;0==j&&(j=l.get_instance().game_fill_safe);this._safeHeight=j;this.flagTweening=!1};i["com.workinman.builders.quiz.world.elements.builder.BuilderContainer"]=V;V.__name__="com,workinman,builders,quiz,world,elements,builder,BuilderContainer".split(",");
V.__super__=Ga;V.prototype=u(Ga.prototype,{dispose:function(){this._tiles=this._data=null;Ga.prototype.dispose.call(this)},get_data:function(){return this._data},set_data:function(a){return this._data=a},get_widthMax:function(){return this._widthMax},get_heightMax:function(){return this._heightMax},intersects:function(a,b,c){null==c&&(c=1);return a>=this.get_pos().get_x()-this.get_originX()*this._widthMax*Math.abs(this.get_scaleX()*c)&&b>=this.get_pos().get_y()-this.get_originY()*this._heightMax*
Math.abs(this.get_scaleY()*c)&&a<=this.get_pos().get_x()-this.get_originX()*this._widthMax*Math.abs(this.get_scaleX()*c)+this._widthMax*Math.abs(this.get_scaleX()*c)&&b<=this.get_pos().get_y()-this.get_originY()*this._heightMax*Math.abs(this.get_scaleY()*c)+this._heightMax*Math.abs(this.get_scaleY()*c)},getMaxSize:function(){for(var a=this.get_width(),b=this.get_height(),c=Ua.request(-this.get_originX()*this.get_width(),-this.get_originY()*this.get_height(),this.get_width(),this.get_height()),a=this.firstChild;null!=
a;){if(P.__instanceof(a,C)){var b=P.__cast(a,C),e=b.getNaturalWidth()*b.get_scaleX(),j=b.getNaturalHeight()*b.get_scaleY(),d=b.get_originX(),f=b.get_originY(),g=b.get_offsetX(),h=b.get_offsetY();if(P.__instanceof(b,da))switch(P.__cast(b,da)._align[1]){case 1:d=0.5}else P.__instanceof(b,O)?(h=P.__cast(b,O),e=h.getNaturalWidth(),j=h.getNaturalHeight(),g=h.get_builderText().get_offsetX(),h=h.get_builderText().get_offsetY()):P.__instanceof(b,V)&&(j=P.__cast(b,V),e=j.get_widthMax(),j=j.get_heightMax());
b=Ua.request(b.get_x()-d*e+g,b.get_y()-f*j+h,e,j);this.flagTrace&&null;0==c.get_x()&&0==c.get_y()&&0==c.get_width()&&0==c.get_height()&&(c.set_x(b.get_x()),c.set_y(b.get_y()),c.set_width(b.get_width()),c.set_height(b.get_height()));e=b.get_x()+b.get_width();d=c.get_x()+c.get_width();f=b.get_y()+b.get_height();g=c.get_y()+c.get_height();b.get_x()<c.get_x()&&c.set_x(b.get_x());e>d?c.set_width(e-c.get_x()):e<d&&c.set_width(d-c.get_x());b.get_y()<c.get_y()&&c.set_y(b.get_y());f>g?c.set_height(f-c.get_y()):
f<g&&c.set_height(g-c.get_y())}a=a.next}this.flagTrace&&null;a=0==c.get_width()+c.get_x()||0==c.get_x()?Math.abs(c.get_width()):0>c.get_x()+c.get_width()?Math.abs(c.get_x()):0<c.get_x()?c.get_width()+c.get_x():Math.max(Math.abs(2*c.get_x()),2*Math.abs(c.get_width()+c.get_x()));b=0==c.get_height()+c.get_y()||0==c.get_y()?Math.abs(c.get_height()):0>c.get_y()+c.get_height()?Math.abs(c.get_y()):0<c.get_y()?c.get_height()+c.get_y():Math.max(Math.abs(2*c.get_y()),2*Math.abs(c.get_height()+c.get_y()));this.flagTrace&&
null;c.dispose();this._widthMax=a;this._heightMax=b},resize:function(){if(!(null==this._data||this.flagTweening)){switch(this._data.align){case "center":this.set_originX(0.5);this.set_originY(0.5);this.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_CENTER_Y());break;case "top":this.set_originX(0.5);this.set_originY(0);this.set_offsetY(o.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);this.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_TOP());break;case "top_left":this.set_originX(0);this.set_originY(0);
this.get_pos().to(0,o.get_CANVAS_TOP());this.set_offsetY(o.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);break;case "top_right":this.set_originX(1);this.set_originY(0);this.get_pos().to(o.get_CANVAS_WIDTH(),o.get_CANVAS_TOP());this.set_offsetY(o.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);break;case "bottom":this.set_originX(0.5);this.set_originY(1);this.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_TOP()+o.get_CANVAS_HEIGHT());this.set_offsetY(-o.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);break;
case "bottom_left":this.set_originX(0);this.set_originY(1);this.get_pos().to(0,o.get_CANVAS_TOP()+o.get_CANVAS_HEIGHT());this.set_offsetY(-o.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);break;case "bottom_right":this.set_originX(1);this.set_originY(1);this.get_pos().to(o.get_CANVAS_WIDTH(),o.get_CANVAS_TOP()+o.get_CANVAS_HEIGHT());this.set_offsetY(-o.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);break;case "left":this.set_originX(0);this.set_originY(0.5);this.get_pos().to(0,o.get_CANVAS_CENTER_Y());
break;case "right":this.set_originX(1),this.set_originY(0.5),this.get_pos().to(o.get_CANVAS_WIDTH(),o.get_CANVAS_CENTER_Y())}switch(this._data.resize){case "fill":this.set_scaleX(o.get_CANVAS_WIDTH()*this._percentWidth/this.get_width());this.set_scaleY(o.get_CANVAS_HEIGHT()*this._percentHeight*this._safeHeight/this.get_height());break;case "fill_to":this.getMaxSize();this.set_scaleX(o.get_CANVAS_WIDTH()*this._percentWidth/this._widthMax);this.set_scaleY(o.get_CANVAS_HEIGHT()*this._percentHeight*this._safeHeight/
this._heightMax);this.set_scale(Math.max(this.get_scaleX(),this.get_scaleY()));break;case "fit":this.getMaxSize();this.set_scaleX(o.get_CANVAS_WIDTH()*this._percentWidth/this._widthMax);this.set_scaleY(o.get_CANVAS_HEIGHT()*this._percentHeight*this._safeHeight/this._heightMax);this.set_scale(Math.min(1,Math.min(this.get_scaleX(),this.get_scaleY())));break;case "fit_to":this.getMaxSize();this.set_scaleX(o.get_CANVAS_WIDTH()*this._percentWidth/this._widthMax);this.set_scaleY(o.get_CANVAS_HEIGHT()*this._percentHeight*
this._safeHeight/this._heightMax);this.set_scale(Math.min(this.get_scaleX(),this.get_scaleY()));break;case "repeat":this.set_originX(0);this.set_originY(0);this.get_pos().to(-o.get_CANVAS_CENTER_X(),0);for(var a=0,b=this._tiles;a<b.length;){var c=b[a];++a;c.set_alpha(0)}for(b=a=0;a<o.get_CANVAS_WIDTH();){var e=0;for(0==a&&(e+=this.get_height());e<o.get_CANVAS_HEIGHT();)b>=this._tiles.length?(c=this.addChild(new x({assetString:this._data.name,originX:0,originY:0})),this._tiles.push(c)):(c=this._tiles[b],
c.set_alpha(1)),b++,c.get_pos().to(a,e),e+=this.get_height();a+=this.get_width()}break;default:this.set_scale(1)}}},__class__:V,__properties__:u(Ga.prototype.__properties__,{get_heightMax:"get_heightMax",get_widthMax:"get_widthMax",set_data:"set_data",get_data:"get_data"})});var Rb=function(a){var b=l.get_instance().assets.getAssetData("banner_logo"),c;c=null==b.align||""==b.align?"top_right":b.align;V.call(this,{},new Wa({resize:"fit",align:c},""),0.1,0.1);this._bannerURL=null==b.href?"":b.href;
this._buttonBanner=this.addChild(new N(l.get_instance().assetParams("banner_logo",{tween:a},!0)));this._buttonBanner.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onBannerClick));l.get_instance().positionElement(this._buttonBanner,c);l.get_instance().get_flagApp()&&this.disable()};i["com.workinman.builders.quiz.ui.widgets.WidgetButtonBanner"]=Rb;Rb.__name__="com,workinman,builders,quiz,ui,widgets,WidgetButtonBanner".split(",");Rb.__super__=V;Rb.prototype=u(V.prototype,{dispose:function(){this._buttonBanner=
null;V.prototype.dispose.call(this)},get_button:function(){return this._buttonBanner},_onBannerClick:function(){l.get_instance().get_flagApp()||window.open(this._bannerURL,"_blank")},buttonContains:function(a,b){return null==this._buttonBanner?!1:this._buttonBanner.contains(a,b)},disable:function(){this.get_button().disable()},__class__:Rb,__properties__:u(V.prototype.__properties__,{get_button:"get_button"})});var fc=function(a,b){null==b&&(b=0);var c=l.get_instance().assets.getAssetData("button_sound_on"),
e=l.get_instance().assets.getAssetData("button_sound_off"),j;j=null==c.align||""==c.align?"top_right":c.align;V.call(this,{},new Wa({resize:"fit",align:j},""),0.1,0.1);c.enabled&&(this._buttonSound=this.addChild(new dc({x:0,y:0,tween:a,assetUpString:c.name,assetUpOffString:e.name,alpha:b},"button_sound_on")),l.get_instance().positionElement(this._buttonSound,j))};i["com.workinman.builders.quiz.ui.widgets.WidgetButtonSound"]=fc;fc.__name__="com,workinman,builders,quiz,ui,widgets,WidgetButtonSound".split(",");
fc.__super__=V;fc.prototype=u(V.prototype,{dispose:function(){this._buttonSound=null;V.prototype.dispose.call(this)},get_button:function(){return this._buttonSound},__class__:fc,__properties__:u(V.prototype.__properties__,{get_button:"get_button"})});var ka=i["com.workinman.builders.quiz.world._World.WORLD_STATE"]={__ename__:"com,workinman,builders,quiz,world,_World,WORLD_STATE".split(","),__constructs__:["_STATE_INITIALIZING","_STATE_TRANSITION","_STATE_GAMEPLAY"]};ka._STATE_INITIALIZING=["_STATE_INITIALIZING",
0];ka._STATE_INITIALIZING.toString=f;ka._STATE_INITIALIZING.__enum__=ka;ka._STATE_TRANSITION=["_STATE_TRANSITION",1];ka._STATE_TRANSITION.toString=f;ka._STATE_TRANSITION.__enum__=ka;ka._STATE_GAMEPLAY=["_STATE_GAMEPLAY",2];ka._STATE_GAMEPLAY.toString=f;ka._STATE_GAMEPLAY.__enum__=ka;ka.__empty_constructs__=[ka._STATE_INITIALIZING,ka._STATE_TRANSITION,ka._STATE_GAMEPLAY];var pd=function(a){this._STRIKES_DELAY=0.5;this._STRIKES_MAX=3;this._dispatcher=Ya.request();this._timeline=a;this._tween=za.request();
this._elementManager=new Jc(this._timeline,480,280,!0);this._elementManager.addLayer(U.BG,!0);this._elementManager.addLayer(U.WORLD,!0);this._elementManager.addLayer(U.FOREGROUND,!0);this._addEventListeners();k.get_instance().stack([t(this,this._initPools),t(this,this._initWorld),t(this,this._onGenerationComplete)]);this._setState(ka._STATE_INITIALIZING)};i["com.workinman.builders.quiz.world.World"]=pd;pd.__name__="com,workinman,builders,quiz,world,World".split(",");pd.prototype={start:function(){sa.get_instance().sendTrackingCall(G.onLevelStart);
this._setState(ka._STATE_GAMEPLAY);this._question.open()},dispose:function(){this._tween.dispose();this._tween=null;this._elementManager.dispose();this._timeline=this._elementManager=null;this._removeEventListeners();this._poolManager.dispose();this._state=this._poolManager=null;this._dispatcher.dispose();this._btnRight=this._btnLeft=this._pageNo=this._timerGame=this._strikes=this._hud=this._circles=this._share=this._btnNext=this._btnPrev=this._result=this._results=this._bg=this._rollingLoadingQueue=
this._loadWidget=this._question=this._dispatcher=null},get_dispatcher:function(){return this._dispatcher},_setState:function(a){this._state=a},update:function(a){if(!0!=k.get_instance().getBool(m.BOOL_PAUSED))switch(this._tween.update(a),this._state[1]){case 0:null!=this._poolManager&&this._poolManager.update(a);break;case 2:this._elementManager.updateElements(a);this._updateTime(a);this._updateTimeGame(a);this._timerTotal+=a;break;case 1:this._elementManager.updateElements(a),this._timerTotal+=a}},
_updateTime:function(a){if(!(null==this._question||null==this._question.get_timer())&&!this._question.get_flagAnswered()&&!(0>=this._question.get_timer().get_timeMax()))this._timer-=a,0>=this._timer&&(this._timer=0,this._choicePicked(-1)),this._question.get_timer().get_timerFill().set_scaleX(this._timer/this._question.get_timer().get_timeMax()),this._question.get_timer().get_timerText().set_text(this._getTime(this._timer)),this._attemptTimerSound(this._question.get_timer(),this._timer)},_resetTime:function(){null!=
this._question.get_timer()&&0<this._question.get_timer().get_timeMax()&&(this._question.get_timer().soundPlayed=!1,this._timer=this._question.get_timer().get_timeMax(),this._updateTime(0),this._toggleHud(!1))},_updateTimeGame:function(a){null!=this._timerGame&&(this._timerGame.get_countDown()?(this._timerGameValue-=a,0>=this._timerGameValue&&(this._timerGameValue=0,this._choicePicked(-1)),this._timerGame.get_timerFill().set_scaleX(this._timerGameValue/this._timerGame.get_timeMax()),this._attemptTimerSound(this._timerGame,
this._timerGameValue)):this._timerGameValue+=a,this._timerGame.get_timerText().set_text(this._getTime(this._timerGameValue)))},_resetTimeGame:function(){null!=this._timerGame&&(this._timerGame.soundPlayed=!1,this._timerGameValue=this._timerGame.get_countDown()?this._timerGame.get_timeMax():0,this._updateTimeGame(0))},_getTime:function(a){if(a==Math.NaN)return"";var b=this._getTimeSec(a),c="";10>b&&(c+="0");return this._getTimeMin(a)+":"+(c+b)},_getTimeMin:function(a){return Math.floor(a/60)},_getTimeSec:function(a){return Math.ceil(a%
60)},_attemptTimerSound:function(a,b){10>=b&&!1==a.soundPlayed&&(a.soundPlayed=!0,l.get_instance().playSound("sfx_timer"))},_stopTimerSound:function(){l.get_instance().stopSound("sfx_timer")},_addNextQuestion:function(){this._numPicked=0;++this._curQuestion;this._pageNo.set_text(this._curQuestion+1+"/"+l.get_instance().get_curQuiz().questions.length);if(null!=this._questions[this._curQuestion])return"click"==l.get_instance().animation_transition&&this._questions[this._curQuestion].hideNext(),("reorder"==
this._questions[this._curQuestion].get_type()||"match"==this._questions[this._curQuestion].get_type()||"slider"==this._questions[this._curQuestion].get_type())&&this._questions[this._curQuestion].showNext(),this._numPicked=this._results[this._curQuestion].length,this._questions[this._curQuestion];var a=l.get_instance().get_curQuiz().questions[this._curQuestion],b=this._elementManager.addElement(new Lc(this._curQuestion,a,this._tween,{x:480,y:280}),U.WORLD);"normal"==a.type&&a.pickMultiple&&0==a.pickMax?
b.get_btnNext().get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventQuestionNextMultClick)):"reorder"==a.type||"match"==a.type||"slider"==a.type?(b.showNext(),b.get_btnNext().get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventQuestionNextDragClick))):b.get_btnNext().get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventQuestionNextClick));return this._questions[this._curQuestion]=b},_noMoreQuestions:function(){return l.get_instance().get_curQuiz().questions.length==
this._curQuestion+1},_forceRestart:function(){if("restart"==l.get_instance().get_curQuiz().type.name&&!1==this._question.get_flagCorrect())return!0;if("strikes"==l.get_instance().get_curQuiz().type.name&&!1==this._question.get_flagCorrect()){if(this._numStrikes>=this._STRIKES_MAX)return!0}else if("time"==l.get_instance().get_curQuiz().type.name&&0>=this._timerGameValue)return!0;return!1},_checkStrikes:function(){return"strikes"==l.get_instance().get_curQuiz().type.name&&!1==this._question.get_flagCorrect()?
(this._strikes.strike(this._numStrikes,this._tween),this._numStrikes++,this._numStrikes<this._STRIKES_MAX):!1},_gameOver:function(){sa.get_instance().sendTrackingCall(G.onLevelComplete);sa.get_instance().sendTrackingCall(G.onGameOver,{outcome:""})},_choicePicked:function(a){if(!this._question.get_flagAnswered()){var b;if((b=0<=a&&a<this._question.get_answers().length?!0:!1)&&this._question.get_answers()[a].get_flagAnswered()){var c=E.remove(this._results[this._curQuestion],a);if(this._question.get_data().pickMultiple)if(0==
this._question.get_data().pickMax)c&&this._question.choiceUnpickedMult(a);else if(c)this._question.choiceUnpickedMult(a);else{if(this._numPicked==this._question.get_data().pickMax){this._numPicked--;var e=this._results[this._curQuestion][0];E.remove(this._results[this._curQuestion],e);this._question.choiceUnpickedMult(e)}}else c?this._question.choiceUnpickedAll():(this._results[this._curQuestion]=[],this._numPicked=0);if(c){this._numPicked--;0==this._numPicked&&(this._question.set_flagAnswered(!1),
null!=this._circles&&this._circles[this._curQuestion].setColor(l.get_instance().page_color),this._question.get_data().pickMultiple&&(this._question.hideNext(),this._question.choiceUnpickedAll()));return}}this._numPicked++;b?(this._results[this._curQuestion].push(a),this._question.get_data().pickMultiple?(this._question.choicePickedMultiple(a),this._question.get_flagMultiple()?1==this._numPicked&&this._question.showNext():this._question.get_data().pickMax==this._numPicked&&(this._question.choicePickedNot(),
this._question.choiceFinished(),this._choiceTransition())):(this._question.choicePicked(a),this._question.choiceFinished(),this._choiceTransition())):(this._question.choicePicked(a),this._question.choiceFinished(),this._choiceTransition())}},_choiceTransition:function(){var a=this;this._stopTimerSound();this._checkStrikes();this._setState(ka._STATE_TRANSITION);this._toggleHud(!1);this._flagTransition=!0;null!=this._circles&&this._circles[this._curQuestion].setColor(l.get_instance().page_done_color);
this._question.set_flagAnswered(!0);this._tween.timer(l.get_instance().animation_transition_time).onComplete(function(){switch(l.get_instance().animation_transition){case "auto":a._transitionToNextQuestion();break;case "click":a._flagTransition=!1,a._question.showNext()}})},_transitionToNextQuestion:function(a){null==a&&(a=-1);var b=this;this._setState(ka._STATE_TRANSITION);this._flagTransition=!0;this._toggleHud(!1);null!=this._circles&&this._circles[this._curQuestion].hideFill();if((l.get_instance().get_curQuiz().questions.length==
this._curQuestion+1||this._forceRestart())&&!1==l.get_instance().results_enabled)this._gameOver(),k.get_instance().setBool(m.BOOL_GAME_WIN,!0);else this._transitionOut(l.get_instance().animation_transition_out,this._question).onComplete(function(){b._question.set_alpha(0);var c=b._curQuestion+1;-1!=a&&(c=a);b._curQuestion=c-1;b._transitionToNextQuestionFinish()})},_transitionToNextQuestionFinish:function(){var a=this;if(l.get_instance().get_curQuiz().questions.length!=this._curQuestion+1&&!1==l.get_instance().get_curQuiz().questions[this._curQuestion+
1].loaded)this._onLoadDoNexQuestion=!0,this._loadWidget.tweenIn(!0),this._tween.timer(0.15).onComplete(function(){for(var b=[],c=0;5>c;){var e=c++;b.push(a._curQuestion+1+e)}a._loadQuestions(b,t(a,a._transitionToNextQuestionFinish))});else if(l.get_instance().get_curQuiz().questions.length==this._curQuestion+1||this._forceRestart()){for(var b=0,c=this._results.length;b<c;){var e=b++;if(null!=this._questions[e]&&this._results[e].length>=this._questions[e].get_numRequired())break}this._question=null;
this._addResult();this._resize();this._transitionIn(l.get_instance().animation_transition_in,this._result).onComplete(function(){a._result.open();a._transitionComplete();a._gameOver()})}else this._question=this._addNextQuestion(),this._resize(),this._transitionIn(l.get_instance().animation_transition_in,this._question).onComplete(function(){a._question.open();null!=a._circles&&a._circles[a._curQuestion].showFill();a._transitionComplete();a._resetTime();a._setState(ka._STATE_GAMEPLAY)})},_transitionIn:function(a,
b,c){null==c&&(c=!0);b.set_alpha(0);switch(a){case "slide":return v.easeSlideInFromDir(b,this._tween,c?J.RIGHT:J.LEFT);case "slam":return v.easeSlamInFromDir(b,this._tween,c?J.RIGHT:J.LEFT);case "bounce":return v.easeBounceIn(b,this._tween,!0,0,!0);case "fade":return this._tween.tween(b,0.15,{alpha:1},!1,null);case "none":return this._tween.timer(0.1).onComplete(function(){b.set_alpha(1)}),this._tween.timer(0.1);default:return null}},_transitionOut:function(a,b,c){null==c&&(c=!0);switch(a){case "slide":return v.easeSlideOutToDir(b,
this._tween,c?J.LEFT:J.RIGHT);case "slam":return v.easeSlideOutToDir(b,this._tween,c?J.LEFT:J.RIGHT);case "bounce":return v.easeBounceOut(b,this._tween,!1,0,!0);case "fade":return this._tween.tween(b,0.15,{alpha:0});case "none":return this._tween.timer(0.1);default:return null}},_transitionComplete:function(){this._flagTransition=!1;null==this._result?(this._hud.set_visible(!0),null!=this._btnLeft&&this._btnLeft.set_visible(!0),null!=this._btnRight&&this._btnRight.set_visible(!0),this._toggleHud(!0)):
(this._hud.set_visible(!1),null!=this._btnLeft&&this._btnLeft.set_visible(!1),null!=this._btnRight&&this._btnRight.set_visible(!1))},_transitionToPrevQuestion:function(a){null==a&&(a=-1);var b=this;this._flagTransition=!0;this._toggleHud(!1);null!=this._circles&&this._circles[this._curQuestion].hideFill();this._transitionOut(l.get_instance().animation_transition_out,this._question,!1).onComplete(function(){b._question.set_alpha(0);-1==a?b._curQuestion--:b._curQuestion=a;b._checkQuestionPrev()})},
_checkQuestionPrev:function(){l.get_instance().get_curQuiz().questions[this._curQuestion].loaded?this._addPrevQuestion():(this._loadWidget.tweenIn(!0),this._loadQuestionPrev())},_loadQuestionPrev:function(){k.get_instance().get_assets().load(t(this,this._afterQuestionPrevLoaded),null,null,[l.get_instance().get_curQuiz().questions[this._curQuestion].manifestID])},_afterQuestionPrevLoaded:function(){this._loadWidget.tweenOut();l.get_instance().get_curQuiz().questions[this._curQuestion].loaded=!0;this._addPrevQuestion()},
_addPrevQuestion:function(){var a=this;this._curQuestion--;this._question=this._addNextQuestion();this._resize();this._transitionIn(l.get_instance().animation_transition_in,this._question,!1).onComplete(function(){a._question.open();null!=a._circles&&a._circles[a._curQuestion].showFill();a._transitionComplete()})},_addResult:function(){for(var a=0,b=0,c=this._results.length;b<c;)for(var e=b++,j=0,d=this._results[e].length;j<d;){var f=j++,a=this._results[e][f];"normal"==this._questions[e].get_type()&&
(this._results[e][f]=this._questions[e].get_answers()[a].get_valueResult())}a=null;c=[];b=e=0;for(j=l.get_instance().get_curQuiz().questions.length;b<j;){d=b++;e=0;if(null!=this._questions[d]){for(var f=0,g=this._questions[d].get_answers();f<g.length;){var h=g[f];++f;1==h.get_valueResult()&&e++}if("match"==this._questions[d].get_type()||"reorder"==this._questions[d].get_type())e=this._questions[d].get_flagCorrect()?1:0}c[d]=e}j=b=0;for(d=this._results.length;j<d;){f=j++;g=e=0;for(h=this._results[f];g<
h.length;){var i=h[g];++g;1==i&&e++}0!=e&&e==c[f]&&b++}k.get_instance().setInt(m.INT_RESULT_RIGHT,b);c=l.get_instance().get_curQuiz().questions.length-b;k.get_instance().setInt(m.INT_RESULT_WRONG,c);k.get_instance().setString(m.STRING_RESULT_SCORE,b+"/"+l.get_instance().get_curQuiz().questions.length);c="F";e=Math.floor(100*(b/l.get_instance().get_curQuiz().questions.length));90<=e?c="A":80<=e?c="B":70<=e?c="C":60<=e&&(c="D");k.get_instance().setString(m.STRING_RESULT_GRADE,c);k.get_instance().setString(m.STRING_RESULT_TIME,
this._getTime(this._timerTotal));k.get_instance().setInt(m.INT_RESULT_QUESTION,this._curQuestion+1);c=0;for(e=l.get_instance().get_curQuiz().results;c<e.length;)if(j=e[c],++c,j.value==b){a=j;break}if(null==a){c=0;for(e=l.get_instance().get_curQuiz().results;c<e.length;)j=e[c],++c,j.value<b&&(a=j)}this._createResult(a)},_createResult:function(a,b){null==b&&(b=!1);this._result=this._elementManager.addElement(new Mc(a,{},this._tween,b),U.WORLD);null!=this._result.get_btnReplay()&&this._result.get_btnReplay().get_dispatcher().addEventListener(n.BUTTON_CLICK,
t(this,this._onEventResultReplayClick));null!=this._result.get_btnNext()&&this._result.get_btnNext().get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventResultNextClick));null!=this._result.get_btnShare()&&(this._result.get_btnShare().get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventResultShareClick)),this._share=this._elementManager.addElement(new Nc({visible:!1},this._tween,a.value),U.WORLD));null!=this._strikes&&this._strikes.set_visible(!1);null!=this._timerGame&&
this._timerGame.set_visible(!1);this._pageNo.set_visible(!1)},_transitionToStart:function(){var a=this;this._transitionOut(l.get_instance().animation_transition_out,this._result).onComplete(function(){a._result.set_doDelete(!0);a._result=null;a._loadWidget.tweenIn(!0);a._tween.timer(0.15).onComplete(function(){for(var b=[],c=0;5>c;){var e=c++;b.push(e)}a._loadQuestions(b,t(a,a._transitionToStartFinish))})})},_transitionToStartFinish:function(){var a=this;this._setDefaults();this._question=this._addNextQuestion();
this._question.open();this._resize();this._transitionIn(l.get_instance().animation_transition_in,this._question).onComplete(function(){a._setState(ka._STATE_GAMEPLAY);a._transitionComplete()});null!=this._strikes&&this._strikes.set_visible(!0);null!=this._timerGame&&this._timerGame.set_visible(!0);this._pageNo.set_visible(!0)},_loadQuestions:function(a,b){for(var c=this,e=[],j=0;j<a.length;){var d=a[j];++j;d<l.get_instance().get_curQuiz().questions.length&&e.push(l.get_instance().get_curQuiz().questions[d].manifestID)}k.get_instance().get_assets().load(function(){c._afterQuestionsLoaded(a,
b)},null,null,e);e=null},_afterQuestionsLoaded:function(a,b){for(var c=0;c<a.length;){var e=a[c];++c;e<l.get_instance().get_curQuiz().questions.length&&(l.get_instance().get_curQuiz().questions[e].loaded=!0,null)}this._loadWidget.tweenOut();this._currentlyLoading=-1;this._onLoadDoNexQuestion=!1;this._tween.timer(0.15).onComplete(function(){b()})},_loadQuestion:function(a){var b=this;a<l.get_instance().get_curQuiz().questions.length&&(-1==this._currentlyLoading?(this._currentlyLoading=a,k.get_instance().get_assets().load(function(){b._afterQuestionLoaded(a)},
null,null,[l.get_instance().get_curQuiz().questions[a].manifestID])):this._rollingLoadingQueue.push(a))},_afterQuestionLoaded:function(a){l.get_instance().get_curQuiz().questions[a].loaded=!0;this._currentlyLoading=-1;0<this._rollingLoadingQueue.length&&this._loadQuestion(this._rollingLoadingQueue.shift());this._onLoadDoNexQuestion&&(this._loadWidget.tweenOut(),this._transitionToNextQuestionFinish(),this._onLoadDoNexQuestion=!1)},_toggleHud:function(a){"strikes"==l.get_instance().get_curQuiz().type.name&&
(a=!1);if(null!=this._circles)for(var b=0,c=this._circles;b<c.length;){var e=c[b];++b;a?e.enable():e.disable()}null!=this._btnLeft&&(this._btnLeft.set_visible(!0),a?this._btnLeft.enable():this._btnLeft.disable(),0==this._curQuestion&&(this._btnLeft.set_visible(!1),this._btnLeft.disable()));null!=this._btnRight&&(this._btnRight.set_visible(!0),a?this._btnRight.enable():this._btnRight.disable(),this._curQuestion>=l.get_instance().get_curQuiz().questions.length-1&&(this._btnRight.set_visible(!1),this._btnRight.disable()))},
_addEventListeners:function(){k.get_instance().get_input().addDelegateListener(t(this,this._onInput));k.get_instance().get_dispatcher().addEventListener(n.PAUSE,t(this,this._onPause));k.get_instance().get_dispatcher().addEventListener(n.UNPAUSE,t(this,this._onUnpause));k.get_instance().get_dispatcher().addEventListener(n.RESIZE_CANVAS,t(this,this._onEventResizeCanvas));k.get_instance().get_dispatcher().addEventListener(n.PREVIEW_QUESTION,t(this,this._onEventPreviewQuestion));k.get_instance().get_dispatcher().addEventListener(n.PREVIEW_RESULT,
t(this,this._onEventPreviewResult))},_removeEventListeners:function(){k.get_instance().get_input().removeDelegateListener(t(this,this._onInput));k.get_instance().get_dispatcher().removeEventListener(n.PAUSE,t(this,this._onPause));k.get_instance().get_dispatcher().removeEventListener(n.UNPAUSE,t(this,this._onUnpause));k.get_instance().get_dispatcher().removeEventListener(n.RESIZE_CANVAS,t(this,this._onEventResizeCanvas));k.get_instance().get_dispatcher().removeEventListener(n.PREVIEW_QUESTION,t(this,
this._onEventPreviewQuestion));k.get_instance().get_dispatcher().removeEventListener(n.PREVIEW_RESULT,t(this,this._onEventPreviewResult))},_onPause:function(){this._pause()},_onUnpause:function(){this._unpause()},_pause:function(){k.get_instance().setBool(m.BOOL_PAUSED,!0)},_unpause:function(){k.get_instance().setBool(m.BOOL_PAUSED,!1)},_onEventResizeCanvas:function(){this._resize()},_resize:function(){null!=this._hud&&this._hud.resize();null!=this._bg&&this._bg.resize();null!=this._strikes&&this._strikes.resize();
null!=this._timerGame&&this._timerGame.resize();if(null!=this._question){var a=(this._hud.get_heightMax()-this._hud.get_offsetY())*this._hud.get_scaleY();0==this._hud.get_heightMax()&&(a=0);this._question.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_CENTER_Y());this._question.changeOrientation(o.get_CANVAS_WIDTH()>o.get_CANVAS_HEIGHT()?"horizontal":"vertical",a,this._strikes,this._timerGame,this._bg.get_scaleY())}null!=this._result&&(this._result.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_CENTER_Y()),
this._result.resize());null!=this._share&&(this._share.get_pos().to(o.get_CANVAS_CENTER_X(),o.get_CANVAS_CENTER_Y()),this._share.resize());null!=this._pageNo&&(this._pageNo.set_scale(Math.min(1,0.05*o.get_CANVAS_WIDTH()/this._pageNo.get_width())),this._pageNo.get_pos().to(o.get_CANVAS_WIDTH()-this._pageNo.get_width()/2*this._pageNo.get_scale()-l.get_instance().spacing,o.get_CANVAS_HEIGHT_REAL()-this._pageNo.get_height()/2*this._pageNo.get_scale()-l.get_instance().spacing));null!=this._btnLeft&&(this._btnLeft.set_scale(Math.min(1,
0.05*o.get_CANVAS_WIDTH()/this._btnLeft.get_width())),this._btnLeft.setScale(this._btnLeft.get_scale()),this._btnRight.set_scale(Math.min(1,0.05*o.get_CANVAS_WIDTH()/this._btnRight.get_width())),this._btnRight.setScale(this._btnRight.get_scale()),this._btnLeft.get_pos().to(this._btnLeft.get_width()*this._btnLeft.get_scale()/2+l.get_instance().spacing,o.get_CANVAS_CENTER_Y()),this._btnRight.get_pos().to(o.get_CANVAS_WIDTH()-this._btnRight.get_width()*this._btnRight.get_scale()/2-l.get_instance().spacing,
o.get_CANVAS_CENTER_Y()))},_onEventPreviewQuestion:function(a){a=a.get_data().get("question");this._state!=ka._STATE_TRANSITION&&this._onEventCircleClick(a-1)},_onEventPreviewResult:function(){this._state!=ka._STATE_TRANSITION&&(this._curQuestion=l.get_instance().get_curQuiz().questions.length-1,this._transitionToNextQuestion())},_onEventQuestionNextClick:function(){this._question.close();this._choiceTransition()},_onEventQuestionNextMultClick:function(){this._question.close();this._question.choicePickedNot();
this._question.choiceFinished();this._choiceTransition()},_onEventQuestionNextDragClick:function(){this._question.close();this._question.calculateCorrect();this._results[this._curQuestion].push(this._question.get_flagCorrect()?1:0);this._question.choiceFinished();this._choiceTransition()},_onEventResultReplayClick:function(){for(var a=0,b=this._questions;a<b.length;){var c=b[a];++a;c.reset()}if(null!=this._circles){a=0;for(b=this._circles;a<b.length;)c=b[a],++a,c.setColor(l.get_instance().page_color),
c.hideFill();this._circles[0].showFill()}this._result.disableButtons();this._transitionToStart();this._resetTimeGame();l.get_instance().playMusic("music_gameplay")},_onEventResultNextClick:function(){this._result.disableButtons();k.get_instance().setBool(m.BOOL_GAME_WIN,!0);this._flagTransition=!0},_onEventResultShareClick:function(){this._share.show()},_onEventCircleClick:function(a){a!=this._curQuestion&&(a>this._curQuestion?this._transitionToNextQuestion(a):this._transitionToPrevQuestion(a))},
_onEventClickLeft:function(){this._transitionToPrevQuestion(this._curQuestion-1)},_onEventClickRight:function(){this._transitionToNextQuestion(this._curQuestion+1)},_onInput:function(a,b,c,e,j,d){if(!k.get_instance().getBool(m.BOOL_PAUSED)&&!(this._state==ka._STATE_INITIALIZING||this._onLoadDoNexQuestion||this._flagTransition))switch(b[1]){case 0:switch(a[1]){case 0:this._flagMouseDown=!0;if(null!=this._question)switch(this._question.get_type()){case "reorder":a=0;for(b=this._question.get_answers().length;a<
b;)if(c=a++,this._question.get_answers()[c].contains(j,d)){this._question.startDrag(this._question.get_answers()[c]);break}break;case "match":a=0;for(b=this._question.get_dragAnswers().length;a<b;)if(c=a++,this._question.get_dragAnswers()[c].contains(j,d)){this._question.startDrag(this._question.get_dragAnswers()[c]);break}break;case "slider":this._question.get_sliderButton().contains(j,d)&&this._question.startSlide()}break;case 2:if(null!=this._question){if(null!=this._question.get_btnNext()&&this._question.get_btnNext().get_visible()&&
!this._question.get_flagMultiple()&&!this._question.get_flagDrag())break;switch(this._question.get_type()){case "reorder":case "match":this._question.moveDrag(j,d);break;case "slider":this._question.moveSlide(j,d)}a=0;for(b=this._question.get_answers().length;a<b;)c=a++,this._question.get_answers()[c].contains(j,d)?this._question.get_answers()[c].rollover():this._question.get_answers()[c].rollout()}break;case 1:if(this._flagMouseDown=!1,!(null!=this._share&&0!=(this._share._flags&1))&&null==this._result){if(null==
this._question||null!=this._question.get_btnNext()&&this._question.get_btnNext().get_visible()&&!this._question.get_flagMultiple()&&!this._question.get_flagDrag())break;switch(this._question.get_type()){case "normal":a=0;for(b=this._question.get_answers().length;a<b;)c=a++,this._question.get_answers()[c].contains(j,d)&&this._choicePicked(c);break;case "reorder":case "match":this._question.stopDrag(j,d);break;case "slider":this._question.stopSlide(j,d)}this._question.get_question().intersects(j-this._question.get_x(),
d-this._question.get_y())&&this._question.playVOQuestion()}}}},_initPools:function(){k.get_instance().setInt(m.INT_LOADING_PROGRESS,100);k.get_instance().pauseStack();k.get_instance().get_dispatcher().addEventListener(n.ALL_POOLS_FULL,t(this,this._onEventInitPoolComplete));this._poolManager=new td},_onEventInitPoolComplete:function(){k.get_instance().get_dispatcher().removeEventListener(n.ALL_POOLS_FULL,t(this,this._onEventInitPoolComplete));k.get_instance().unpauseStack()},_setDefaults:function(){this._currentlyLoading=
-1;this._rollingLoadingQueue=[];this._onLoadDoNexQuestion=!1;this._results=[];for(var a=0,b=l.get_instance().get_curQuiz().questions.length;a<b;)a++,this._results.push([]);this._curQuestion=-1;this._flagTransition=!1;this._timerTotal=this._numStrikes=0},_initWorld:function(){var a=this;this._setDefaults();var b=l.get_instance().assets.getAssetData("gameplay_bg");this._bg=this._elementManager.addElement(new V({assetString:b.name},l.get_instance().assets.getAssetData("gameplay_bg"),1,1,1,b.id),U.WORLD);
b=null;this._pageNo=this._elementManager.addElement(new O({},l.get_instance().text.get("page_number")),U.FOREGROUND);this._pageNo.set_text("1/"+l.get_instance().get_curQuiz().questions.length);this._questions=[];for(b=0;5>b&&!(b++>=l.get_instance().get_curQuiz().questions.length);){this._question=this._addNextQuestion();this._question.set_visible(!1)}this._hud=this._elementManager.addElement(new V({},new Wa({resize:"fit",align:"bottom"},""),0.8,0.1),U.FOREGROUND);if(l.get_instance().hud_buttons_enabled){b=
l.get_instance().get_curQuiz().questions.length;this._circles=[];for(var c=300/b,e=-c*(b-1)/2,j=Math.min(c/40,1),d,f=0;f<b;)d=f++,d=this._hud.addChild(new Oc(l.get_instance().assetParams("nav_empty",{x:e+d*c,y:-20,tween:this._tween},!0))),d.setColor(l.get_instance().page_color),d.setScale(j,j),this._circles.push(d);for(c=0;c<b;)e=[c++],this._circles[e[0]].get_dispatcher().addEventListener(n.BUTTON_CLICK,function(b){return function(){a._onEventCircleClick(b[0])}}(e));this._circles[0].showFill()}l.get_instance().hud_arrows_enabled&&
(this._btnLeft=this._elementManager.addElement(new pb(l.get_instance().assetParams("nav_left",{x:-o.get_CANVAS_CENTER_X()+l.get_instance().spacing,y:o.get_CANVAS_CENTER_Y(),tween:this._tween},!0)),U.FOREGROUND),this._btnLeft.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventClickLeft)),this._btnLeft.setColor(l.get_instance().page_arrow_color),this._btnRight=this._elementManager.addElement(new pb(l.get_instance().assetParams("nav_right",{x:o.get_CANVAS_CENTER_X()-l.get_instance().spacing,
y:o.get_CANVAS_CENTER_Y(),tween:this._tween},!0)),U.FOREGROUND),this._btnRight.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventClickRight)),this._btnRight.setColor(l.get_instance().page_arrow_color));"strikes"==l.get_instance().get_curQuiz().type.name?this._strikes=this._elementManager.addElement(new Pc({x:100,y:100}),U.FOREGROUND):"time"==l.get_instance().get_curQuiz().type.name&&(this._timerGame=this._elementManager.addElement(new gc({x:100,y:200},l.get_instance().get_curQuiz().type.value,
!0,!0),U.FOREGROUND),this._resetTimeGame());this._curQuestion=-1;e=Qa.getQueryVariable("result",!0);c=b=null;if(null!=e){c=e.split("-");e=c[0];j=0;for(f=l.get_instance().get_curQuiz().results;j<f.length;)if(d=f[j],++j,d.value==e){b=d;break}}null!=b?(null!=l.get_instance().get_curQuiz().results_extras&&(e="",e=c[1],k.get_instance().setValue(m.STRING_RESULT_SCORE,Q.replace(e,"~","/")),k.get_instance().setValue(m.STRING_RESULT_GRADE,c[2]),k.get_instance().setValue(m.INT_RESULT_RIGHT,c[3]),k.get_instance().setValue(m.INT_RESULT_WRONG,
c[4]),k.get_instance().setValue(m.INT_RESULT_QUESTION,c[5]),e=c[6],k.get_instance().setValue(m.STRING_RESULT_TIME,Q.replace(e,"~",":"))),this._createResult(b,!0),this._result.set_visible(!0),this._result.open()):(this._question=this._addNextQuestion(),this._question.set_visible(!0),this._resetTime(),this._toggleHud(!0));this._loadWidget=this._elementManager.addElement(new Qb({tween:this._tween,x:o.get_CANVAS_CENTER_X(),y:o.get_CANVAS_CENTER_Y(),visible:!1}),U.FOREGROUND);this._resize()},_onGenerationComplete:function(){k.get_instance().get_dispatcher().dispatchEvent($.request(n.WORLD_GENERATION_COMPLETE))},
__class__:pd,__properties__:{get_dispatcher:"get_dispatcher"}};var Aa=function(a,b){x.call(this,{});this.id=b;this._valueResult=a.valueResult;this._flagTextOnly=!1;this._idSound=a.idSound;this._idSoundRollover=a.idSoundRollover;this._flagDrag=this._flagRollover=this._flagPicked=!1;this._gridPos={x:this.get_x(),y:this.get_y()};this._container=this.addChild(new V({},null))};i["com.workinman.builders.quiz.world.elements.AnswerContainer"]=Aa;Aa.__name__="com,workinman,builders,quiz,world,elements,AnswerContainer".split(",");
Aa.__super__=x;Aa.prototype=u(x.prototype,{dispose:function(){this._gridPos=this._container=this._checkmark2=this._checkmark1=this._fill=null;x.prototype.dispose.call(this)},get_gridPos:function(){return this._gridPos},set_gridPos:function(a){return this._gridPos=a},get_valueResult:function(){return this._valueResult},get_widthMax:function(){return this._widthMax},get_heightMax:function(){return this._heightMax},getNaturalWidth:function(){return this._containerWidth},getNaturalHeight:function(){return this._containerHeight},
get_flagAnswered:function(){return this._flagAnswered},set_flagAnswered:function(a){return this._flagAnswered=a},get_flagPicked:function(){return this._flagPicked},updateMax:function(a,b){this._containerWidth=a/this.get_scaleX();this._containerHeight=b/this.get_scaleY();this._fill.setSize(Math.max(this._fill.width,Math.floor(a)),Math.max(this._fill.height,Math.floor(b)))},choicePicked:function(a,b,c){null==c&&(c=!0);this._flagAnswered||(this._flagPicked=a,this._flagAnswered=!0,this.rollout(),this._fill.set_visible(!0),
this._fill.set_alpha(0),c&&this.showCorrect(b),a&&(l.get_instance().playSound(this._idSound),this._flagDrag||(this._flagTextOnly&&!this._flagDrag?(this._checkmark1.set_alpha(0),this._checkmark2.set_alpha(1),this._checkmark2.set_visible(!0)):v.easeBounceIn(this._checkmark1,b,!0,0,!0))),c&&b.tween(this._fill,0.5,{alpha:0.5},!0,null,0.5))},choiceUnpick:function(a){var b=this;this._flagAnswered=this._flagPicked=!1;this._flagTextOnly?!this._flagDrag&&0!=(this._checkmark1._flags&1)&&(a.stop(this._checkmark1),
a.stop(this._checkmark2),a.timer(0.15).onComplete(function(){b._checkmark1.set_alpha(1);b._checkmark2.set_alpha(0)})):0!=(this._checkmark1._flags&1)&&v.easeFadeOut(this._checkmark1,a,!1,0.15);a.stop(this._fill);this._fill.set_alpha(0);this._fill.set_visible(!1);this._fill.color=0},showCorrect:function(a){l.get_instance().show_correct?l.get_instance().show_correct_fill&&(this._fill.set_visible(!0),1==this._valueResult?(this._fill.color=l.get_instance().answer_correct_color,-1==l.get_instance().answer_correct_color&&
this._fill.set_visible(!1)):(this._fill.color=l.get_instance().answer_incorrect_color,-1==l.get_instance().answer_incorrect_color&&this._fill.set_visible(!1))):this._flagPicked&&this._fill.set_visible(!1);a.tween(this._fill,0.5,{alpha:0.5},!0,null,0.5)},showCorrectByFlag:function(a,b){l.get_instance().show_correct?l.get_instance().show_correct_fill&&(this._fill.color=b?l.get_instance().answer_correct_color:l.get_instance().answer_incorrect_color):this._flagPicked&&this._fill.set_visible(!1);a.tween(this._fill,
0.5,{alpha:0.5},!0,null,0.5)},rollover:function(){this._flagRollover||(this._flagRollover=!0,l.get_instance().playSound(this._idSoundRollover))},rollout:function(){this._flagRollover=!1;l.get_instance().stopSound(this._idSoundRollover)},reset:function(){this._fill.color=0;this._fill.set_alpha(0);this._fill.set_visible(!0)},updateGridPos:function(){this._gridPos={x:this.get_x(),y:this.get_y()}},__class__:Aa,__properties__:u(x.prototype.__properties__,{get_flagPicked:"get_flagPicked",set_flagAnswered:"set_flagAnswered",
get_flagAnswered:"get_flagAnswered",get_heightMax:"get_heightMax",get_widthMax:"get_widthMax",get_valueResult:"get_valueResult",set_gridPos:"set_gridPos",get_gridPos:"get_gridPos"})});var pb=function(a){this._flagAssetSet=!1;N.call(this,a)};i["com.workinman.builders.quiz.world.elements.ButtonPage"]=pb;pb.__name__="com,workinman,builders,quiz,world,elements,ButtonPage".split(",");pb.__super__=N;pb.prototype=u(N.prototype,{_renderUp:function(){this._flagAssetSet||(this._flagAssetSet=!0,this.setAsset(this._assetUp,
this._assetUpString))},_renderDown:function(){this._tween.tween(this,0.15,{scaleX:0.9*this._buttonScaleBase.get_x(),scaleY:0.9*this._buttonScaleBase.get_y()},!0).ease(q.EASE_QUAD_OUT)},_renderDisabled:function(){},setColor:function(a){l.get_instance().colorMaskElement(this,a)},__class__:pb});var Oc=function(a){pb.call(this,a);this.fill=this.addChild(new x(l.get_instance().assetParams("nav_fill",{alpha:0})));l.get_instance().colorMaskElement(this.fill,l.get_instance().page_selected_color)};i["com.workinman.builders.quiz.world.elements.ButtonNavigation"]=
Oc;Oc.__name__="com,workinman,builders,quiz,world,elements,ButtonNavigation".split(",");Oc.__super__=pb;Oc.prototype=u(pb.prototype,{dispose:function(){pb.prototype.dispose.call(this);this.fill=null},showFill:function(){this.fill.set_alpha(1)},hideFill:function(){this.fill.set_alpha(0)},__class__:Oc});var cb=function(a,b,c){null==c&&(c=!1);Aa.call(this,a,b);var e=0,j=0;this._image=this._container.addChild(new Sb({assetString:a.image,x:0,y:0}));e=this._image.get_width();j=this._image.get_height();
this._text=this._container.addChild(new O({},a.text));if(0<e&&0<j){this._text.get_builderText().get_align()==la.Center?this._text.setTextWrapWidth(e-2*this._text.get_data().bgPadding):this._text.setTextWrapWidth(e/2-this._text.get_data().bgPadding);c=b=0;switch(a.text.align){case "center":this._text.get_pos().to(0,0);break;case "top":this._text.get_pos().to(0,-j/2);c=1;break;case "top_left":this._text.get_pos().to(-e/2,-j/2);c=b=1;break;case "top_right":this._text.get_pos().to(e/2,-j/2);b=-1;c=1;
break;case "bottom":this._text.get_pos().to(0,j/2);c=-1;break;case "bottom_left":this._text.get_pos().to(-e/2,j/2);b=1;c=-1;break;case "bottom_right":this._text.get_pos().to(e,j/2);c=b=-1;break;case "left":this._text.get_pos().to(-e/2,0);b=1;break;case "right":this._text.get_pos().to(e/2,0),b=-1}switch(a.text.textPosition){case "middle":c=b=0;break;case "inner":a=this._text.get_pos();a.set_y(a.get_y()+c*l.get_instance().spacing);break;case "outer":b*=-1,c*=-1,a=this._text.get_pos(),a.set_y(a.get_y()+
c*l.get_instance().spacing/2),a=this._image.get_pos(),a.set_y(a.get_y()-c*l.get_instance().spacing/2)}this._text.get_pos().add(this._text.get_width()/2*this._text.get_scaleX()*b,this._text.get_height()/2*this._text.get_scaleY()*c);0!=b&&(a=this._image.get_pos(),a.set_x(a.get_x()-this._text.get_width()/2*this._text.get_scaleX()*b),a=this._text.get_pos(),a.set_x(a.get_x()-this._text.get_width()/2*this._text.get_scaleX()*b));0!=c&&(b=this._image.get_pos(),b.set_y(b.get_y()-this._text.get_height()/2*
this._text.get_scaleY()*c),b=this._text.get_pos(),b.set_y(b.get_y()-this._text.get_height()/2*this._text.get_scaleY()*c))}else if(this._flagTextOnly=!0,this._text.get_width(),this._text.get_height(),this._flagDrag=c,!this._flagDrag)switch(c=this._container.addChild(new x(l.get_instance().assetParams("checkmark_fill",{alpha:0,x:this._text.get_width()}))),b=c.get_pos(),b.set_x(b.get_x()+c.get_width()/2),c=c.get_pos(),c.set_x(c.get_x()+(this._text.get_data().bgPadding+this._text.get_width()/4)),this._text.get_builderText().get_align()[1]){case 0:this._text.get_pos().set_x(0);
break;case 1:this._text.get_pos().set_x(this._text.get_width()/2);break;case 2:this._text.get_pos().set_x(this._text.get_width())}this._container.getMaxSize();this._widthMax=this._containerWidth=this._container.get_widthMax();this._heightMax=this._containerHeight=this._container.get_heightMax();this._fill=this.addChild(new ia({color:0,width:Math.floor(this._widthMax),height:Math.floor(this._heightMax),alpha:0}));this._checkmark1=this.addChild(new x(l.get_instance().assetParams(0<this._image.get_width()?
"checkmark":"checkmark_box",{alpha:0,visible:!1})));(this._checkmark1.get_width()>this._widthMax||this._checkmark1.get_height()>this._heightMax)&&this._checkmark1.set_scale(Math.min(this._widthMax/this._checkmark1.get_width(),this._heightMax/this._checkmark1.get_height()));this._checkmark2=this.addChild(new x(l.get_instance().assetParams("checkmark_fill",{alpha:0,visible:!1})));this._flagTextOnly&&!this._flagDrag&&(this._checkmark1.set_visible(!0),this._checkmark1.set_alpha(1))};i["com.workinman.builders.quiz.world.elements.NormalAnswerContainer"]=
cb;cb.__name__="com,workinman,builders,quiz,world,elements,NormalAnswerContainer".split(",");cb.__super__=Aa;cb.prototype=u(Aa.prototype,{dispose:function(){this._text=this._image=null;Aa.prototype.dispose.call(this)},updateMax:function(a,b){Aa.prototype.updateMax.call(this,a,b);if(this._flagTextOnly){var c=a/this.get_scale(),e=b/this.get_scale();if(this._flagDrag)switch(this._text.get_builderText().get_align()[1]){case 0:this._text.get_pos().set_x(-c/2)}else{this._checkmark1.get_pos().set_x(this._checkmark2.get_pos().set_x(-c/
2+this._checkmark1.get_width()/2+this._text.get_data().bgPadding));this._text.get_pos().set_x(-c/2+2*this._text.get_data().bgPadding+this._text.get_width()*this._text.get_originX());this._text.get_builderText().get_pos().set_x(this._checkmark1.get_width());var j=this._containerWidth-this._widthMax;switch(this._text.get_builderText().get_align()[1]){case 1:var d=this._checkmark1.get_pos();d.set_x(d.get_x()+j/2);d=this._text.get_pos();d.set_x(d.get_x()+j/2);break;case 2:d=this._checkmark1.get_pos(),
d.set_x(d.get_x()+j),d=this._text.get_pos(),d.set_x(d.get_x()+j)}this._checkmark2.get_pos().toPoint(this._checkmark1.get_pos())}this._text.updateFillWrapWidth(c,e)}},showCorrect:function(a){l.get_instance().show_correct&&l.get_instance().show_correct_text&&(1==this._valueResult?this._text.setColor(l.get_instance().answer_correct_color):this._text.setColor(l.get_instance().answer_incorrect_color));Aa.prototype.showCorrect.call(this,a)},showCorrectByFlag:function(a,b){l.get_instance().show_correct&&
l.get_instance().show_correct_text&&(b?this._text.setColor(l.get_instance().answer_correct_color):this._text.setColor(l.get_instance().answer_incorrect_color));Aa.prototype.showCorrectByFlag.call(this,a,b)},reset:function(){Aa.prototype.reset.call(this);this._text.setColor(this._text.get_data().color)},__class__:cb});var Tb=function(a,b,c){cb.call(this,a,b,!0);this._shadow=c};i["com.workinman.builders.quiz.world.elements.DragAnswerContainer"]=Tb;Tb.__name__="com,workinman,builders,quiz,world,elements,DragAnswerContainer".split(",");
Tb.__super__=cb;Tb.prototype=u(cb.prototype,{dispose:function(){this._shadow=null;cb.prototype.dispose.call(this)},_update:function(a){cb.prototype._update.call(this,a);null!=this._shadow&&this._updateShadow()},toggleShadow:function(a){null!=this._shadow&&this._shadow.set_visible(a)},_updateShadow:function(){null!=this._shadow&&(this._shadow.get_pos().to(this._gridPos.x,this._gridPos.y),this._shadow.set_scale(this.get_scale()),this._shadow.setSize(this._containerWidth,this._containerHeight))},__class__:Tb});
var qb=function(a,b,c,e,j,d){null==j&&(j=-1);Aa.call(this,a,b);this._answer1=new cb(a.matches[0],b,!0);this._answer2=new cb(a.matches[1],b,!0);this._answers=[this._answer1,this._answer2];this._matchLayout=c;this._removed=j;this._shadow=e;this._shadowImage=d;this._hidden=-1;a=a=0;if("vertical"==this._matchLayout){a=this._answer1.get_heightMax()+this._answer2.get_heightMax()+l.get_instance().spacing;switch(this._removed){case 0:a=this._answer2.get_heightMax();break;case 1:a=this._answer1.get_heightMax()}this._answer1.get_pos().to(0,
-a/2+this._answer1.get_heightMax()/2);this._answer2.get_pos().to(0,a/2-this._answer2.get_heightMax()/2)}else{a=this._answer1.get_widthMax()+this._answer2.get_widthMax()+l.get_instance().spacing;switch(this._removed){case 0:a=this._answer2.get_widthMax();break;case 1:a=this._answer1.get_widthMax()}this._answer1.get_pos().to(-a/2+this._answer1.get_widthMax()/2,0);this._answer2.get_pos().to(a/2-this._answer2.get_widthMax()/2,0)}switch(this._removed){case 0:this._answer1.set_visible(!1);this._container.addChild(this._answer2);
break;case 1:this._answer2.set_visible(!1);this._container.addChild(this._answer1);break;default:this._container.addChild(this._answer1),this._container.addChild(this._answer2)}this._container.getMaxSize();this._widthMax=this._container.get_widthMax();this._heightMax=this._container.get_heightMax();this._fill=this.addChild(new ia({color:0,width:Math.floor(this._widthMax),height:Math.floor(this._heightMax),alpha:0}));this._checkmark1=this.addChild(new x(l.get_instance().assetParams("checkmark",{alpha:0,
visible:!1})));(this._checkmark1.get_width()>this._widthMax||this._checkmark1.get_height()>this._heightMax)&&this._checkmark1.set_scale(Math.min(this._widthMax/this._checkmark1.get_width(),this._heightMax/this._checkmark1.get_height()));this._checkmark2=this.addChild(new x(l.get_instance().assetParams("checkmark_fill",{alpha:0,visible:!1})));-1==this._removed&&(this._indicator=this.addChild(new x(l.get_instance().assetParams("answer_indicator",{}))));this._containerWidth=this._widthMax;this._containerHeight=
this._heightMax};i["com.workinman.builders.quiz.world.elements.MatchAnswerContainer"]=qb;qb.__name__="com,workinman,builders,quiz,world,elements,MatchAnswerContainer".split(",");qb.__super__=Aa;qb.prototype=u(Aa.prototype,{dispose:function(){this._indicator=this._answers=this._answer2=this._answer1=null;Aa.prototype.dispose.call(this)},_update:function(a){Aa.prototype._update.call(this,a);null!=this._shadow&&this._updateShadow();null!=this._shadowImage&&this._updateShadowImage()},updateMax:function(a,
b){Aa.prototype.updateMax.call(this,a,b);var c=0,c=0;if("vertical"==this._matchLayout){c=b/this.get_scale();switch(this._removed){case 0:c=this._answer2.get_heightMax();break;case 1:c=this._answer1.get_heightMax()}this._answer1.get_pos().to(0,-c/2+this._answer1.get_heightMax()/2)}else{c=a/this.get_scale();switch(this._removed){case 0:c=this._answer2.get_widthMax();break;case 1:c=this._answer1.get_widthMax()}this._answer1.get_pos().to(-c/2+this._answer1.get_widthMax()/2,0)}this._updateShadow();this._updateIndicator()},
reset:function(){Aa.prototype.reset.call(this);this.toggleShadow(!0)},answerX:function(){return this._answer2.get_pos().get_x()},answerY:function(){return this._answer2.get_pos().get_y()},hide:function(a){null!=this._shadow&&this._shadow.set_alpha(0.5);this._hidden=a;switch(this._hidden){case 0:this._answer1.set_visible(!1);break;case 1:this._answer2.set_visible(!1)}this._updateShadow();this._updateShadowImage();this._updateIndicator()},toggleShadow:function(a){null!=this._shadow&&this._shadow.set_visible(a)},
toggleShadowImage:function(a){null!=this._shadowImage&&(a=l.get_instance().assetString(a?"answer_empty":"answer_fill"),this._shadowImage.setAsset(null,a),this._shadowImage.set_alpha(""==a?0:1))},_updateShadow:function(){if(null!=this._shadow)switch(this._shadow.get_pos().to(this.get_pos().get_x(),this.get_pos().get_y()),this._shadow.set_scale(this.get_scale()),this._hidden){case 0:"vertical"==this._matchLayout?(this._shadow.setSize(this._containerWidth,this._containerHeight-this._answer2.get_heightMax()),
this._shadow.set_offsetY(-(this._answer2.get_heightMax()/2+l.get_instance().spacing)*this.get_scale())):(this._shadow.setSize(this._containerWidth-this._answer2.get_widthMax(),this._containerHeight),this._shadow.set_offsetX(-(this._answer2.get_widthMax()/2+l.get_instance().spacing)*this.get_scale()));break;case 1:"vertical"==this._matchLayout?(this._shadow.setSize(this._containerWidth,this._containerHeight-this._answer1.get_heightMax()),this._shadow.set_offsetY((this._answer1.get_heightMax()/2+l.get_instance().spacing)*
this.get_scale())):(this._shadow.setSize(this._containerWidth-this._answer1.get_widthMax(),this._containerHeight),this._shadow.set_offsetX((this._answer1.get_widthMax()/2+l.get_instance().spacing)*this.get_scale()))}},_updateShadowImage:function(){if(null!=this._shadowImage)switch(this._shadowImage.get_pos().to(this.get_pos().get_x(),this.get_pos().get_y()),this._shadowImage.set_scaleX(this._containerWidth/this._shadowImage.get_width()*this.get_scale()),this._hidden){case 0:this._shadowImage.set_scaleY((this._containerHeight-
this._answer2.get_heightMax())/this._shadowImage.get_height()*this.get_scale());"vertical"==this._matchLayout?this._shadowImage.set_offsetY(-this._answer2.get_heightMax()/2*this.get_scale()):(this._shadowImage.set_scaleX((this._containerWidth-this._answer2.get_widthMax()-l.get_instance().spacing)/this._shadowImage.get_width()*this.get_scale()),this._shadowImage.set_scaleY(this._containerHeight/this._shadowImage.get_height()*this.get_scale()),this._shadowImage.set_offsetX(-this._answer2.get_widthMax()/
2*this.get_scale()));break;case 1:this._shadowImage.set_scaleY((this._containerHeight-this._answer1.get_heightMax())/this._shadowImage.get_height()*this.get_scale()),"vertical"==this._matchLayout?this._shadowImage.set_offsetY(this._answer1.get_heightMax()/2*this.get_scale()):(this._shadowImage.set_scaleX((this._containerWidth-this._answer1.get_widthMax()-l.get_instance().spacing)/this._shadowImage.get_width()*this.get_scale()),this._shadowImage.set_scaleY(this._containerHeight/this._shadowImage.get_height()*
this.get_scale()),this._shadowImage.set_offsetX(this._answer1.get_widthMax()/2*this.get_scale()))}},_updateIndicator:function(){if(null!=this._indicator)switch(this._hidden){case 0:this._indicator.get_pos().to(this._answer1.get_pos().get_x(),this._containerHeight/2);break;case 1:this._indicator.get_pos().to(this._answer2.get_pos().get_x(),this._containerHeight/2)}},__class__:qb});var Ka=function(a){x.call(this,a);null!=a.assets&&this.setAsset(null,a.assets[k.get_instance().get_random().getRandomInt(0,
a.assets.length)]);this._lifeMax=null==a.life?0:a.life;this._life=0;this._rotVelocity=null==a.rotVelocity?0:a.rotVelocity;this._speed=null==a.speed?0:a.speed;this._gravity=null==a.gravity?0:a.gravity;null!=a.vx&&this.get__velocity().set_x(a.vx);null!=a.vy&&this.get__velocity().set_y(a.vy)};i["com.workinman.builders.quiz.world.elements.Particle"]=Ka;Ka.__name__="com,workinman,builders,quiz,world,elements,Particle".split(",");Ka.__super__=x;Ka.prototype=u(x.prototype,{_update:function(a){x.prototype._update.call(this,
a);null!=this.__velocity&&this.updatePositionFromVelocity(a);0<this._lifeMax&&(this._life+=a,this._life>this._lifeMax&&this.set_doDelete(!0));this.set_rotation(this.get_rotation()+this._rotVelocity*a);var b=this.get__velocity();b.set_y(b.get_y()+this._gravity*a)},__class__:Ka});var Qc=function(a,b){Ka.call(this,a);this.get__velocity().set_x(0);this.get__velocity().set_y(k.get_instance().get_random().getRandomFloat(0.5,1));this.get__velocity().multiply(this._speed);this._baseX=this.get_pos().get_x();
this._sinX=2*Math.random();this._maxY=b};i["com.workinman.builders.quiz.world.elements.ParticleConfetti"]=Qc;Qc.__name__="com,workinman,builders,quiz,world,elements,ParticleConfetti".split(",");Qc.__super__=Ka;Qc.prototype=u(Ka.prototype,{_update:function(a){Ka.prototype._update.call(this,a);this._sinX+=2*a;this.get_pos().set_x(this._baseX+20*Math.sin(this._sinX));this.get_pos().get_y()>this._maxY&&this.set_doDelete(!0)},__class__:Qc});var Rc=function(a){Ka.call(this,a);a=this.get_pos();a.set_x(a.get_x()+
k.get_instance().get_random().getRandomInt(-2,2));a=this.get_pos();a.set_y(a.get_y()+k.get_instance().get_random().getRandomInt(-2,2));this.get__velocity().multiply(this._speed)};i["com.workinman.builders.quiz.world.elements.ParticleFirework"]=Rc;Rc.__name__="com,workinman,builders,quiz,world,elements,ParticleFirework".split(",");Rc.__super__=Ka;Rc.prototype=u(Ka.prototype,{_update:function(a){Ka.prototype._update.call(this,a);this._life>0.5*this._lifeMax&&this.set_alpha(1-(this._life-0.5*this._lifeMax)/
(0.5*this._lifeMax))},__class__:Rc});var db=i["com.workinman.builders.quiz.world.elements.PARTICLE_TYPE"]={__ename__:"com,workinman,builders,quiz,world,elements,PARTICLE_TYPE".split(","),__constructs__:["CONFETTI","FIREWORK"]};db.CONFETTI=["CONFETTI",0];db.CONFETTI.toString=f;db.CONFETTI.__enum__=db;db.FIREWORK=["FIREWORK",1];db.FIREWORK.toString=f;db.FIREWORK.__enum__=db;db.__empty_constructs__=[db.CONFETTI,db.FIREWORK];var hc=function(a){x.call(this,a);this._type=a.type;this._timer=this._timeMax=
a.time;this._tray=a.tray;this._particles=[];this._maxParticles=a.max;switch(this._type[1]){case 0:for(var a=Math.floor(this._maxParticles/3),b=0;b<a;)b++,this._addParticleConfetti();break;case 1:this._timerTrail=0.5,this._addParticleFirework(this._maxParticles)}};i["com.workinman.builders.quiz.world.elements.ParticleManager"]=hc;hc.__name__="com,workinman,builders,quiz,world,elements,ParticleManager".split(",");hc.__super__=x;hc.prototype=u(x.prototype,{dispose:function(){this._tray=this._particles=
this._type=null;x.prototype.dispose.call(this)},_update:function(a){x.prototype._update.call(this,a);for(var b=this._particles.length;0<b--;)this._particles[b].get_doDelete()&&this._particles.splice(b,1);switch(this._type[1]){case 0:this._timer-=a;if(0>this._timer&&(this._timer=this._timeMax,a=k.get_instance().get_random().getRandomInt(3,10),this._particles.length+a<this._maxParticles))for(b=0;b<a;)b++,this._addParticleConfetti();break;case 1:if(this._timer-=a,0>this._timer&&(this._timer=this._timeMax+
k.get_instance().get_random().getRandomFloat(0,this._timeMax/2),this._addParticleFirework(this._maxParticles)),this._timerTrail-=a,0>this._timerTrail){this._timerTrail=0.01;a=0;for(b=this._particles;a<b.length;){var c=b[a];++a;this._addParticleTrail(c)}}}},_addParticleTrail:function(a){this._tray.addChild(new Sc({assets:l.get_instance().get_curQuiz().result_particles_fireworks,x:a.get_x(),y:a.get_y(),life:0.3}),!0)},_addParticleConfetti:function(){var a=-o.get_CANVAS_WIDTH()*this._tray.get_originX(),
b=a+o.get_CANVAS_WIDTH(),c=-o.get_CANVAS_HEIGHT_REAL()*this._tray.get_originY(),e=c+o.get_CANVAS_HEIGHT_REAL()+100;this._particles.push(this._tray.addChild(new Qc({x:k.get_instance().get_random().getRandomFloat(a,b),y:c+k.get_instance().get_random().getRandomFloat(-100,-50),assets:l.get_instance().get_curQuiz().result_particles_confetti,rotation:k.get_instance().get_random().getRandomFloat(0,360),speed:k.get_instance().get_random().getRandomFloat(150,200),scale:k.get_instance().get_random().getRandomFloat(0.5,
1)},e),!0))},_addParticleFirework:function(a){for(var b=-o.get_CANVAS_WIDTH()*this._tray.get_originX(),c=b+o.get_CANVAS_WIDTH(),e=-o.get_CANVAS_HEIGHT_REAL()*this._tray.get_originX(),j=b+o.get_CANVAS_HEIGHT_REAL(),b=k.get_instance().get_random().getRandomFloat(b,c),e=k.get_instance().get_random().getRandomFloat(e,j),c=j=0;c<a;)c++,this._particles.push(this._tray.addChild(new Rc({x:b,y:e,assets:l.get_instance().get_curQuiz().result_particles_fireworks,life:k.get_instance().get_random().getRandomFloat(0.5,
2),speed:k.get_instance().get_random().getRandomFloat(250,300),gravity:400,vx:Math.cos(j),vy:Math.sin(j)}),!0)),j+=360/a},__class__:hc});var Sc=function(a){Ka.call(this,a)};i["com.workinman.builders.quiz.world.elements.ParticleTrail"]=Sc;Sc.__name__="com,workinman,builders,quiz,world,elements,ParticleTrail".split(",");Sc.__super__=Ka;Sc.prototype=u(Ka.prototype,{_update:function(a){Ka.prototype._update.call(this,a);this.set_alpha(1-this._life/this._lifeMax)},__class__:Sc});var Lc=function(a,b,c,e){this._REORDER_DIST=
this._SNAP_DIST=20;x.call(this,e);this._tween=c;this._questionData=b;this._numRequired=1;this._questionData.pickMultiple&&0!=this._questionData.pickMax&&(this._numRequired=this._questionData.pickMax);this._flagMultiple=this._questionData.pickMultiple&&0==this._questionData.pickMax;this._flagCorrect=this._flagAnswered=!1;this._dragCurrent=null;this._flagSlider=this._flagDrag=!1;this._sliderPos=0;this._flagSliderHorz=!0;this._answers=[];switch(b.type){case "normal":case "slider":a=0;for(e=b.answers.length;a<
e;){var j=a++;this._answers.push(this.addChild(new cb(b.answers[j],j,"reorder"==b.type)))}break;case "reorder":a=[];if(b.shadow.enabled){e=0;for(j=b.answers.length;e<j;)e++,a.push(this.addChild(new ia({color:b.shadow.color,width:0,height:0,alpha:0.5})))}e=0;for(j=b.answers.length;e<j;){var d=e++;this._answers.push(this.addChild(new Tb(b.answers[d],d,b.shadow.enabled?a[d]:null)))}break;case "match":a=[];e=[];if(b.shadow.enabled){j=0;for(d=b.answers.length;j<d;)j++,a.push(this.addChild(new ia({color:b.shadow.color,
width:0,height:0,alpha:0})))}if(l.get_instance().match_ui_enabled){j=0;for(d=b.answers.length;j<d;)j++,e.push(this.addChild(new x(l.get_instance().assetParams("answer_empty",{}))))}this._dragBox=this.addChild(new V({},null));this._answersMatch=[];j=0;for(d=b.answers.length;j<d;){var f=j++;this._answers.push(this.addChild(new qb(b.answers[f],f,b.matchLayout,b.shadow.enabled?a[f]:null,-1,l.get_instance().match_ui_enabled?e[f]:null)));this._answersMatch.push(P.__cast(this._answers[this._answers.length-
1],qb))}}this._question=this.addChild(new V({y:-210,originY:0},null));this._questionImage=this._question.addChild(new Sb({assetString:b.image}));this._questionImage.get_pos().set_y(this._questionImage.get_height()/2);this._questionText=this._question.addChild(new O({},b.question));this._questionText.get_pos().set_y(this._questionText.get_height()/2);if(0<this._questionImage.get_width()&&0<this._questionImage.get_height()){e=a=0;j=this._questionImage.get_width();d=2*this._questionImage.get_height();
switch(b.question.align){case "center":this._questionText.get_pos().to(0,this._questionImage.get_pos().get_y());break;case "top":this._questionText.get_pos().to(0,-d/2);e=1;break;case "top_left":this._questionText.get_pos().to(-j/2,-d/2);e=a=1;break;case "top_right":this._questionText.get_pos().to(j/2,-d/2);a=-1;e=1;break;case "bottom":this._questionText.get_pos().to(0,d/2);e=-1;break;case "bottom_left":this._questionText.get_pos().to(-j/2,d/2);a=1;e=-1;break;case "bottom_right":this._questionText.get_pos().to(j,
d/2);e=a=-1;break;case "left":this._questionText.get_pos().to(-j/2,this._questionImage.get_pos().get_y());a=1;break;case "right":this._questionText.get_pos().to(j/2,this._questionImage.get_pos().get_y()),a=-1}switch(b.question.align){case "top":case "top_left":case "top_right":"middle"==b.question.textPosition?(this._questionText.get_pos().set_y(this._questionText.get_height()/2*this._questionText.get_scaleY()),j=this._questionImage.get_pos(),j.set_y(j.get_y()+this._questionText.get_height()/2*this._questionText.get_scaleY())):
"inner"==b.question.textPosition?this._questionText.get_pos().set_y(0):(this._questionText.get_pos().set_y(this._questionText.get_height()*this._questionText.get_scaleY()),j=this._questionImage.get_pos(),j.set_y(j.get_y()+(this._questionText.get_height()*this._questionText.get_scaleY()+l.get_instance().spacing)))}switch(b.question.textPosition){case "middle":e=a=0;break;case "outer":a*=-1,e*=-1}this._questionText.get_pos().add(this._questionText.get_width()/2*this._questionText.get_scaleX()*a,this._questionText.get_height()/
2*this._questionText.get_scaleY()*e)}this._question.getMaxSize();this._btnNext=this.addChild(new N(l.get_instance().assetParams("button_continue",{visible:!1,tween:c},!0)));this._btnNext.addChild(new O({},l.get_instance().text.get("continue_btn")));this.hideNext();if("reorder"==b.type)for(this._flagDrag=!0;!this._testShuffled(this._answers);)this._shuffle(this._answers);else if("match"==b.type){this._flagDrag=!0;this._dragAnswers=[];this._dragPos=[];this._dragTestId=[];c=0;for(a=b.answers.length;c<
a;)e=c++,this._dragAnswers.push(this._dragBox.addChild(new qb(b.answers[e],e,b.matchLayout,null,0))),this._dragAnswers[this._dragAnswers.length-1].set_scale(0.5),this._dragTestId.push(-1),P.__cast(this._answers[e],qb).hide(1);for(;!this._testShuffled(this._dragAnswers);)this._shuffle(this._dragAnswers);this._gridMatch(this._dragAnswers.length,this._dragAnswers,3);c=0;for(a=this._dragAnswers;c<a.length;)e=a[c],++c,e.updateGridPos(),this._dragPos.push({x:e.get_gridPos().x,y:e.get_gridPos().y});this._dragBox.getMaxSize();
l.get_instance().match_ui_enabled&&(this._dragBoxImage=this._dragBox.addChild(new x(l.get_instance().assetParams("answer_box",{originY:0.5})),!1),this._dragBoxImage.set_scaleX(this._dragBox.get_widthMax()/this._dragBoxImage.get_width()),this._dragBoxImage.set_scaleY((this._dragBox.get_heightMax()+l.get_instance().spacing)/this._dragBoxImage.get_height()))}else if("slider"==b.type){this._flagDrag=!0;b.columns=this._answers.length;this._sliderBox=this.addChild(new V({},null));this._sliderLine=this._sliderBox.addChild(new ia({color:l.get_instance().slider_color,
width:0,height:0,originX:0}));this._sliderDots=[];c=0;for(a=b.answers.length;c<a;)c++,this._sliderDots.push(this._sliderBox.addChild(new x(l.get_instance().assetParams("slider_answer",{}))));this._sliderButton=this._sliderBox.addChild(new x(l.get_instance().assetParams("slider_handle",{})));this._sliderBox.getMaxSize()}l.get_instance().show_correct&&l.get_instance().show_correct_question&&(this._answerCorrect=this.addChild(new O({visible:!1},l.get_instance().text.get("answer_correct"))),this._answerIncorrect=
this.addChild(new O({visible:!1},l.get_instance().text.get("answer_incorrect"))));this._timer=new gc({},b.time);this._timer.set_visible(0<this._timer.get_timeMax());this._timer.getMaxSize();this.addChild(this._timer);this._columns=b.columns;this._answers.length<this._columns&&(this._columns=this._answers.length);this._grid(b.columns,this._answers,this._question.get_pos().get_y()+this._question.get_heightMax())};i["com.workinman.builders.quiz.world.elements.QuestionContainer"]=Lc;Lc.__name__="com,workinman,builders,quiz,world,elements,QuestionContainer".split(",");
Lc.__super__=x;Lc.prototype=u(x.prototype,{dispose:function(){this._sliderDots=this._sliderLine=this._sliderButton=this._sliderBox=this._dragBoxImage=this._answersMatch=this._dragTestId=this._dragAnswers=this._dragBox=this._dragCurrent=this._timer=this._answerIncorrect=this._answerCorrect=this._btnNext=this._questionData=this._answers=this._questionImage=this._question=this._tween=null;x.prototype.dispose.call(this)},get_type:function(){return this._questionData.type},get_timer:function(){return this._timer},
get_question:function(){return this._question},get_answers:function(){return this._answers},get_dragAnswers:function(){return this._dragAnswers},get_btnNext:function(){return this._btnNext},get_data:function(){return this._questionData},get_flagMultiple:function(){return this._flagMultiple},get_flagDrag:function(){return this._flagDrag},get_numRequired:function(){return this._numRequired},get_flagAnswered:function(){return this._flagAnswered},set_flagAnswered:function(a){return this._flagAnswered=
a},get_heightMax:function(){return this._heightMax},get_flagCorrect:function(){return this._flagCorrect},get_sliderButton:function(){return this._sliderButton},disableButtons:function(){null!=this._btnNext&&this._btnNext.disable()},enableButtons:function(){if(null!=this._btnNext&&0!=(this._btnNext._flags&1)&&(this._btnNext.enable(),this._btnNext.set_alpha(1),"match"==this.get_type()))for(var a=0,b=this._dragTestId;a<b.length;){var c=b[a];++a;if(-1==c){this._btnNext.disable();this._btnNext.set_alpha(0.5);
break}}},open:function(){this.enableButtons();this.playVOQuestion()},close:function(){this.disableButtons();this.stopVO()},playVOQuestion:function(){l.get_instance().playSound(this._questionData.idVO,!1,!0)},stopVO:function(){l.get_instance().stopVO()},showNext:function(){this._btnNext.set_visible(!0);this._btnNext.enable()},hideNext:function(){this._btnNext.set_visible(!1);this._btnNext.disable()},reset:function(){this._flagCorrect=this._flagAnswered=!1;this.choiceUnpickedAll();null!=this._answerCorrect&&
(this._answerCorrect.set_visible(!1),this._answerIncorrect.set_visible(!1));for(var a=0,b=this._answers;a<b.length;){var c=b[a];++a;c.reset()}switch(this.get_type()){case "reorder":for(;!this._testShuffled(this._answers);)this._shuffle(this._answers);a=0;for(b=this._answers.length;a<b;)c=a++,P.__cast(this._answers[c],Tb).toggleShadow(!0);break;case "match":a=0;for(b=this._dragAnswers.length;a<b;)c=a++,this._dragAnswers[c].get_pos().to(this._dragPos[c].x,this._dragPos[c].y),this._dragAnswers[c].updateGridPos(),
this._dragAnswers[c].set_scale(0.5),this._dragAnswers[c].set_visible(!0),this._answersMatch[c].toggleShadow(!0),this._answersMatch[c].toggleShadowImage(!0);a=0;for(b=this._dragTestId.length;a<b;)this._dragTestId[a++]=-1;break;case "slider":this._sliderPos=0,this._flagSliderHorz?this._sliderButton.get_pos().set_x(this._sliderDots[0].get_pos().get_x()):this._sliderButton.get_pos().set_y(this._sliderDots[0].get_pos().get_y())}this.disableButtons()},choicePicked:function(a){for(var b=0,c=this._answers.length;b<
c;){var e=b++;this._answers[e].get_flagPicked()&&this._answers[e].choiceUnpick(this._tween);this._answers[e].get_flagAnswered()&&e==a&&this._answers[e].set_flagAnswered(!1);this._answers[e].choicePicked(a==e,this._tween)}},choicePickedMultiple:function(a){this._answers[a].get_flagAnswered()&&!this._answers[a].get_flagPicked()&&this._answers[a].set_flagAnswered(!1);this._answers[a].choicePicked(!0,this._tween,!1)},choicePickedNot:function(){for(var a=0,b=this._answers.length;a<b;)this._answers[a++].choicePicked(!1,
this._tween)},choiceUnpickedAll:function(){for(var a=0,b=this._answers.length;a<b;)this._answers[a++].choiceUnpick(this._tween)},choiceUnpickedMult:function(a){this._answers[a].choiceUnpick(this._tween);this._flagAnswered&&this._answers[a].choicePicked(!1,this._tween)},choiceFinished:function(){if("normal"==this.get_type()||"slider"==this.get_type()){for(var a=!0,b=0,c=this._answers;b<c.length;){var e=c[b];++b;!e.get_flagPicked()&&1==e.get_valueResult()&&(a=!1)}this._flagCorrect=a;a=0;for(b=this._answers;a<
b.length;)c=b[a],++a,c.showCorrect(this._tween)}else if("reorder"==this.get_type()){a=0;for(b=this._answers.length;a<b;)c=a++,P.__cast(this._answers[c],Tb).toggleShadow(!1),this._answers[c].showCorrectByFlag(this._tween,c==this._answers[c].id)}else if("match"==this.get_type()){a=0;for(b=this._answers.length;a<b;)c=a++,this._answersMatch[c].toggleShadow(!1),this._answers[c].showCorrectByFlag(this._tween,-1==this._dragTestId[c]?!1:this._answers[c].id==this._dragAnswers[this._dragTestId[c]].id)}null!=
this._answerCorrect&&v.easeBounceIn(this._flagCorrect?this._answerCorrect:this._answerIncorrect,this._tween);l.get_instance().playSound(this._flagCorrect?this._questionData.idSoundCorrect:this._questionData.idSoundIncorrect);a=0;for(b=this._answers;a<b.length;)c=b[a],++a,c.rollout()},_getWeights:function(a){for(var b=0,c=0,e=0,j=0,d=0;d<a.length;){var f=a[d];++d;switch(f){case 1:b++;break;case 2:c++;break;case 3:e++;break;case 4:j++}}b=(10+c+2*e+3*j)/(b+c+e+j);c=[];for(e=0;e<a.length;)switch(j=a[e],
++e,j){case 1:c.push(b/10);break;case 2:c.push((b-1)/10);break;case 3:c.push((b-2)/10);break;case 4:c.push((b-3)/10)}return c},changeOrientation:function(a,b,c,e,j){this.set_scale(1);this._question.set_scale(1);for(var a=0,d=this._answers;a<d.length;){var f=d[a];++a;f.set_scale(1)}null!=e&&e.set_scale(1);null!=c&&c.set_scale(1);null!=this._dragBox&&this._dragBox.set_scale(1);null!=this._btnNext&&this._btnNext.set_scale(1);null!=this._sliderBox&&this._sliderBox.set_scale(1);d=o.get_CANVAS_WIDTH();
f=o.get_CANVAS_HEIGHT();a=!1;l.get_instance().scale_up&&1024<d&&720<f&&(d=1024,f=720,a=!0);f*=0.9;d*=0.9;this._question.getMaxSize();var g=[];(null!=c||null!=e)&&g.push(3);var h=null!=this._timer&&0!=(this._timer._flags&1);h&&g.push(3);switch(this._questionData.questionLayout){case "td":g.push(2)}g.push(1);(null!=this._dragBox||null!=this._sliderBox)&&g.push(2);(this._flagMultiple||this._flagDrag)&&g.push(3);var g=this._getWeights(g),i=0;null!=e&&(e.get_scale()*e.get_heightMax()>g[i]*f&&e.set_scale(g[i]*
f/e.get_heightMax()),e.get_scale()*e.get_widthMax()>d&&e.set_scale(d/e.get_widthMax()),i++);null!=c&&(c.get_scale()*c.get_heightMax()>g[i]*f&&c.set_scale(g[i]*f/c.get_heightMax()),c.get_scale()*c.get_widthMax()>d&&c.set_scale(d/c.get_widthMax()),i++);h&&(this._timer.get_scale()*this._timer.get_heightMax()>g[i]*f&&this._timer.set_scale(g[i]*f/this._timer.get_heightMax()),this._timer.get_scale()*this._timer.get_widthMax()>d&&this._timer.set_scale(d/this._timer.get_widthMax()),i++);switch(this._questionData.questionLayout){case "td":var h=
Math.min(1,d/this._question.get_widthMax()),k=1;2*f/3<this._question.get_heightMax()&&(k=Math.min(1,2*f/3/this._question.get_heightMax()));this._question.set_scale(Math.min(h,k));i+=2;break;case "lr":h=Math.min(1,d/2/this._question.get_widthMax()),k=Math.min(1,f/this._question.get_heightMax()),this._question.set_scale(Math.min(h,k)),i++}null!=this._dragBox&&(this._dragBox.get_scale()*this._dragBox.get_heightMax()>g[i]*f&&this._dragBox.set_scale(g[i]*f/this._dragBox.get_heightMax()),this._dragBox.get_scale()*
this._dragBox.get_widthMax()>d&&this._dragBox.set_scale(d/this._dragBox.get_widthMax()),i++);null!=this._sliderBox&&(this._sliderBox.get_scale()*this._sliderBox.get_heightMax()>g[i]*f&&this._sliderBox.set_scale(g[i]*f/this._sliderBox.get_heightMax()),this._sliderBox.get_scale()*this._sliderBox.get_widthMax()>d&&this._sliderBox.set_scale(d/this._sliderBox.get_widthMax()),i++);(this._flagMultiple||this._flagDrag)&&this._btnNext.get_scale()*this._btnNext.get_height()>g[i]*f&&this._btnNext.set_scale(g[i]*
f/this._btnNext.get_height());g=0;null!=c&&(g=c.get_heightMax()*c.get_scale());null!=e&&(g=e.get_heightMax()*e.get_scale());f/=0.9;d/=0.9;c=0;if(this._flagMultiple||this._flagDrag)c=this._btnNext.get_height()*this._btnNext.get_scale()+2*l.get_instance().spacing;e=0;null!=this._dragBox&&(e=this._dragBox.get_heightMax()*this._dragBox.get_scale()+l.get_instance().spacing);null!=this._sliderBox&&(e=this._sliderBox.get_heightMax()*this._sliderBox.get_scale()+l.get_instance().spacing);i=c+e;switch(this._questionData.questionLayout){case "td":this._layoutTopDown(b,
i,g,j,d,f);break;case "lr":this._layoutLeftRight(b,i,g,d,f)}j=0;for(d=this._answers;j<d.length;)f=d[j],++j,f.updateGridPos();this._flagMultiple||this._flagDrag?this._btnNext.get_pos().to(0,o.get_CANVAS_HEIGHT_HALF()-b-c/2):this._btnNext.get_pos().to(0,0);null!=this._dragBox&&(e=this._dragBox.get_heightMax()*this._dragBox.get_scale(),this._dragBox.get_pos().to(0,o.get_CANVAS_HEIGHT_HALF()-b-c-e/2));null!=this._sliderBox&&(this._flagSliderHorz?(this._sliderBox.get_pos().to(0,this._answers[0].get_pos().get_y()+
this._gridHeight/2+this._sliderBox.get_heightMax()/2+l.get_instance().spacing),"lr"==this._questionData.questionLayout&&this._sliderBox.get_pos().set_x(this._answers[0].get_pos().get_x()+this._sliderLine.width/2)):(this._sliderBox.get_pos().to(this._gridWidth/2+this._sliderBox.get_heightMax()/2+l.get_instance().spacing,this._answers[0].get_pos().get_y()-this._sliderDots[0].get_pos().get_y()),"lr"==this._questionData.questionLayout&&(j=this._sliderBox.get_pos(),j.set_x(j.get_x()+this._answers[0].get_pos().get_x()))));
a&&(j=0.9*o.get_CANVAS_WIDTH()/this._widthMax,a=0.9*o.get_CANVAS_HEIGHT()/(this._heightMax+g+b),this.set_scale(Math.min(j,a)),"top"==this._questionData.questionAlign&&this.set_scale(o.get_CANVAS_HEIGHT()/720),(this._flagMultiple||this._flagDrag)&&this._btnNext.get_pos().to(0,o.get_CANVAS_CENTER_Y()/this.get_scale()-b-c/2),null!=this._dragBox&&this._dragBox.get_pos().to(0,o.get_CANVAS_CENTER_Y()/this.get_scale()-b-c-e/2))},_layoutTopDown:function(a,b,c,e,j,d){var f=0;switch(this._questionData.questionAlign){case "top":f=
l.get_instance().header_height*e}var g=0.9*d,h=0.9*j,i=0,g=this._question.get_heightMax()*this._question.get_scale(),e=g+l.get_instance().spacing,k=null!=this._timer&&0!=(this._timer._flags&1),m=0,j=0;k&&(m=this._timer.get_heightMax()*this._timer.get_scale(),j=m+l.get_instance().spacing);this._grid(this._columns,this._answers,0);g=0.9*d-f-j-e-a-b-c;"top"==this._questionData.questionAlign&&0<f&&0<b&&(g=d-f-j-e-a-b-c);var i=Math.min(1,h/this._gridWidth),n=Math.min(1,g/this._gridHeight),i=Math.min(i,
n),n=this._columns;if(1>i){for(var p=null,o=1,q=this._columns;o<q;){var r=o++;if(!("slider"==this._questionData.type&&1!=this._columns-r&&this._columns-r!=this._answers.length)){var p=this._testGrid(this._columns-r,this._answers),s=Math.min(1,h/p.widthTotal),p=Math.min(1,g/p.heightTotal),s=Math.min(s,p);if(s>i&&(1==this._columns-r||0==this._answers.length%(this._columns-r)))n=this._columns-r,i=s}}h=0;for(o=this._answers;h<o.length;)q=o[h],++h,q.set_scale(i)}h=this._testGrid(n,this._answers,i);if(h.heightTotal>
g){i=g/(h.heightTotal/i);g=0;for(h=this._answers;g<h.length;)o=h[g],++g,o.set_scale(i)}this._grid(n,this._answers,0);"slider"==this._questionData.type&&(this._flagSliderHorz=1!=n,this._positionSlider());l.get_instance();switch(this._questionData.questionAlign){case "top":a=-d/2+f+c;k&&this._timer.get_pos().set_y(a+m/2);this._question.get_pos().set_y(a+j);c=0;for(d=this._answers;c<d.length;)k=d[c],++c,k=k.get_pos(),k.set_y(k.get_y()+(a+j+e));this._widthMax=Math.max(this._question.get_widthMax()*this._question.get_scale(),
this._gridWidth);this._heightMax=f+j+e+this._gridHeight+b;break;case "top-middle":e=d/2-this._gridHeight/2;f=e-2*l.get_instance().spacing;f+=-j-c;this._question.get_heightMax()*this._question.get_scale()>f&&this._question.set_scale(f/this._question.get_heightMax());g=this._question.get_heightMax()*this._question.get_scale();f=j+g;k&&this._timer.get_pos().set_y(-d/2+e/2-f/2+m/2+c/2);this._question.get_pos().set_y(-d/2+e/2-f/2+j+c/2);null!=this._dragBox&&(j=this._dragBox.get_scale()*this._dragBox.get_heightMax(),
f=e-b-a+j,this._dragBox.get_heightMax()*this._dragBox.get_scale()>f&&this._dragBox.set_scale(f/this._dragBox.get_heightMax()));j=0;for(f=this._answers;j<f.length;)a=f[j],++j,a=a.get_pos(),a.set_y(a.get_y()+-this._gridHeight/2);this._widthMax=Math.max(this._question.get_widthMax()*this._question.get_scale(),this._gridWidth);this._heightMax=2*e+this._gridHeight+b;break;case "middle":this._widthMax=Math.max(this._question.get_widthMax()*this._question.get_scale(),this._gridWidth);this._heightMax=j+e+
b+this._gridHeight;b=(c-a)/2;k&&this._timer.get_pos().set_y(-this._heightMax/2+m/2+b);this._question.get_pos().set_y(-this._heightMax/2+j+b);f=0;for(a=this._answers;f<a.length;)c=a[f],++f,c=c.get_pos(),c.set_y(c.get_y()+(-this.get_heightMax()/2+j+e+b))}null!=this._answerCorrect&&this._answerCorrect.get_pos().to(this._question.get_pos().get_x(),this._question.get_pos().get_y()+this._question.get_heightMax()*this._question.get_scale()/2);null!=this._answerIncorrect&&this._answerIncorrect.get_pos().to(this._question.get_pos().get_x(),
this._question.get_pos().get_y()+this._question.get_heightMax()*this._question.get_scale()/2)},_layoutLeftRight:function(a,b,c,e,j){var d=null!=this._timer&&0!=(this._timer._flags&1),f=0,g=0;d&&(f=this._timer.get_heightMax()*this._timer.get_scale(),g=f+l.get_instance().spacing);var h=0.9*j*l.get_instance().game_fill_safe-a-g-c-b,i=0.45*e,k=0,m=this._question.get_heightMax()*this._question.get_scale(),n=this._question.get_widthMax()*this._question.get_scale();l.get_instance();this._grid(this._columns,
this._answers,0);i=0.9*e-n;k=Math.min(1,i/this._gridWidth);e=Math.min(1,h/this._gridHeight);k=Math.min(k,e);e=this._columns;if(1>k){for(var p=null,o=1,q=this._columns;o<q;){var r=o++;if(!("slider"==this._questionData.type&&1!=this._columns-r&&this._columns-r!=this._answers.length)){var p=this._testGrid(this._columns-r,this._answers),s=Math.min(1,i/p.widthTotal),p=Math.min(1,h/p.heightTotal),s=Math.min(s,p);if(s>k&&(1==this._columns-r||0==this._answers.length%(this._columns-r)))e=this._columns-r,k=
s}}o=0;for(q=this._answers;o<q.length;)r=q[o],++o,r.set_scale(k)}o=this._testGrid(e,this._answers,k);if(o.heightTotal>h){k=h/(o.heightTotal/k);h=0;for(q=this._answers;h<q.length;)r=q[h],++h,r.set_scale(k)}if(o.widthTotal>i/2){k=i/2/(o.widthTotal/k);i=0;for(h=this._answers;i<h.length;)o=h[i],++i,o.set_scale(k)}this._grid(e,this._answers,0);"slider"==this._questionData.type&&(this._flagSliderHorz=1!=e,this._positionSlider());a=-j*(1-l.get_instance().game_fill_safe)/2-a/2+c/2;this._question.get_pos().set_x(-n/
2-l.get_instance().spacing/2);this._question.get_pos().set_y(-m/2+a+g/2);n=0;for(c=this._answers;n<c.length;)j=c[n],++n,k=j.get_pos(),k.set_x(k.get_x()+(this._gridWidth/2+l.get_instance().spacing/2)),j=j.get_pos(),j.set_y(j.get_y()+(-this._gridHeight/2+a+g/2));this._widthMax=this._question.get_widthMax()*this._question.get_scale()+this._gridWidth+l.get_instance().spacing;this._heightMax=Math.max(m,this._gridHeight)+b+a+g;d&&this._timer.get_pos().set_y(-this._heightMax/2+f/2)},_positionSlider:function(){if(this._flagSliderHorz){for(var a=
0,b=this._sliderDots.length;a<b;){var c=a++;this._sliderDots[c].get_pos().to(this._answers[c].get_x(),0)}this._sliderLine.set_originX(0);this._sliderLine.set_originY(0.5);this._sliderLine.setSize(this._gridWidth*(this._answers.length-1)/this._answers.length,5);this._sliderLine.get_pos().to(this._sliderDots[0].get_x(),0);this._sliderButton.get_pos().to(this._sliderDots[this._sliderPos].get_x(),0);this._sliderButton.set_rotation(0)}else{a=0;for(b=this._sliderDots.length;a<b;)c=a++,this._sliderDots[c].get_pos().to(0,
this._answers[c].get_y());this._sliderLine.set_originX(0.5);this._sliderLine.set_originY(0);this._sliderLine.setSize(5,this._gridHeight*(this._answers.length-1)/this._answers.length);this._sliderLine.get_pos().to(0,this._sliderDots[0].get_y());this._sliderButton.get_pos().to(0,this._sliderDots[this._sliderPos].get_y());this._sliderButton.set_rotation(-90)}},_grid:function(a,b,c){var e=this._testGrid(a,b,-1),j=e.widthMax,d=e.heightMax,f=e.widthTotal;this._gridHeight=e.heightTotal;this._gridWidth=f;
for(var f=-f/2+j/2,c=c+d/2,g=l.get_instance().spacing,e=0,h=Math.floor(b.length/a),i=0,k=b.length;i<k;){var m=i++,e=Math.floor(m/a);b[m].get_pos().to(f+(j+g)*(m%a),c+(d+g)*Math.floor(m/a));b[m].updateMax(j,d);if(0<e&&e==h&&b.length-1-m<a){var n=b.length-m,e=this._testGrid(n,b.slice(m)),o=e.widthMax,e=-e.widthTotal/2+o/2;b[m].get_pos().set_x(e+(o+g)*(m%n))}}},_testGrid:function(a,b,c){null==c&&(c=-1);for(var e=0,j=0,d=c,f=0;f<b.length;){var g=b[f];++f;-1==c&&(d=g.get_scale());g.get_widthMax()*d>e&&
(e=g.get_widthMax()*d);g.get_heightMax()*d>j&&(j=g.get_heightMax()*d)}c=l.get_instance().spacing;b=Math.ceil(b.length/a);return{widthMax:e,heightMax:j,widthTotal:e*a+c*(a-1),heightTotal:j*b+c*(b-1)}},_gridMatch:function(a,b,c){null==c&&(c=1);for(var a=l.get_instance().spacing*c,e=c=0;e<b.length;){var j=b[e];++e;c+=j.get_widthMax()*j.get_scale()+a}c-=a;b[0].get_pos().to(-c/2+b[0].get_widthMax()*b[0].get_scale()/2,0);c=1;for(e=b.length;c<e;)j=c++,b[j].get_pos().to(b[j-1].get_pos().get_x()+b[j-1].get_widthMax()*
b[j-1].get_scale()/2+b[j].get_widthMax()*b[j].get_scale()/2+a,0)},_testShuffled:function(a){for(var b=0,c=0;c<a.length;){var e=a[c];++c;if(b!=e.id)return!0;b++}return!1},_shuffle:function(a){for(var b=a.length,c=0,e;0!=b;)c=k.get_instance().get_random().getRandomInt(0,b-1),b--,e=a[b],a[b]=a[c],a[c]=e;return a},startDrag:function(a){this._dragCurrent=a;switch(this.get_type()){case "match":this._dragCurrent.set_scale(this._answers[0].get_scale()/this._dragBox.get_scale()),this._dragBox.addChild(this._dragCurrent)}},
stopDrag:function(a,b){if(null!=this._dragCurrent){switch(this.get_type()){case "match":for(var c=L.request(),e=rb.indexOf(this._dragAnswers,this._dragCurrent),j=-1,d=0,f=this._answers.length;d<f;){var g=d++;if(this._answers[g].contains(a,b)){j=g;break}}d=rb.indexOf(this._dragTestId,e);-1!=d&&(this._dragTestId[d]=-1,this._answersMatch[d].toggleShadow(!0));-1!=j?(d=this._dragTestId[j],-1!=d&&e!=d&&(this._dragAnswers[d].set_gridPos({x:this._dragPos[d].x,y:this._dragPos[d].y}),this._dragAnswers[d].get_pos().to(this._dragPos[d].x,
this._dragPos[d].y),this._dragTestId[d]=-1,this._dragAnswers[d].set_scale(0.5),this._answersMatch[d].toggleShadow(!0)),d=this._answers[j].get_gridPos().x,f=this._answers[j].get_gridPos().y,d+=P.__cast(this._answers[j],qb).answerX(this._dragCurrent)*this._answers[j].get_scale(),f+=P.__cast(this._answers[j],qb).answerY(this._dragCurrent)*this._answers[j].get_scale(),this._dragBox.getLocalMatrix().inverseTransform(d,f,c),this._dragCurrent.set_gridPos({x:c.get_x(),y:c.get_y()}),this._dragTestId[j]=e,
this._answersMatch[j].toggleShadow(!1)):(this._dragCurrent.set_gridPos({x:this._dragPos[e].x,y:this._dragPos[e].y}),this._dragCurrent.set_scale(0.5));c.dispose();c=0;for(e=this._dragTestId.length;c<e;)j=c++,this._answersMatch[j].toggleShadowImage(-1==this._dragTestId[j]);c=!0;e=0;for(j=this._dragTestId;e<j.length;)if(d=j[e],++e,-1==d){c=!1;break}c?(this._btnNext.enable(),this._btnNext.set_alpha(1)):(this._btnNext.disable(),this._btnNext.set_alpha(0.5))}this._dragCurrent.get_pos().to(this._dragCurrent.get_gridPos().x,
this._dragCurrent.get_gridPos().y)}this._dragCurrent=null},moveDrag:function(a,b){if(null!=this._dragCurrent)switch(this.get_type()){case "reorder":var c=L.request();this.getViewMatrix().inverseTransform(a,b,c);this._dragCurrent.get_pos().to(c.get_x(),c.get_y());c.dispose();for(var e=c=rb.indexOf(this._answers,this._dragCurrent),j=0,d=this._answers.length;j<d;){var f=j++;if(f!=c&&Kc.distBetweenFloatPoints(this._answers[f].get_gridPos().x,this._answers[f].get_gridPos().y,this._dragCurrent.get_pos().get_x(),
this._dragCurrent.get_pos().get_y())<this._REORDER_DIST){e=f;break}}if(e>c){j={x:this._answers[e].get_gridPos().x,y:this._answers[e].get_gridPos().y};for(d=e;d>c;)this._answers[d].get_pos().to(this._answers[d-1].get_gridPos().x,this._answers[d-1].get_gridPos().y),this._answers[d].updateGridPos(),d--;for(var d=e,f=this._answers[d],g=this._answers[d];d>c;)g=this._answers[d-1],this._answers[d-1]=f,f=g,d--;this._dragCurrent.set_gridPos(j);this._answers[e]=this._dragCurrent}else if(e<c){j={x:this._answers[e].get_gridPos().x,
y:this._answers[e].get_gridPos().y};for(d=e;d<c;)this._answers[d].get_pos().to(this._answers[d+1].get_gridPos().x,this._answers[d+1].get_gridPos().y),this._answers[d].updateGridPos(),d++;d=e;f=this._answers[d];for(g=this._answers[d];d<c;)g=this._answers[d+1],this._answers[d+1]=f,f=g,d++;this._dragCurrent.set_gridPos(j);this._answers[e]=this._dragCurrent}break;case "match":c=L.request(),this._dragBox.getViewMatrix().inverseTransform(a,b,c),this._dragCurrent.get_pos().to(c.get_x(),c.get_y()),c.dispose()}},
startSlide:function(){this._flagSlider=!0},moveSlide:function(a,b){if(this._flagSlider)if(this._flagSliderHorz){var c=L.request();this._sliderBox.getViewMatrix().inverseTransform(a,b,c);this._sliderButton.get_pos().set_x(c.get_x());c.dispose();this._sliderButton.get_pos().get_x()<this._sliderDots[0].get_pos().get_x()?this._sliderButton.get_pos().set_x(this._sliderDots[0].get_pos().get_x()):this._sliderButton.get_pos().get_x()>this._sliderDots[this._sliderDots.length-1].get_pos().get_x()&&this._sliderButton.get_pos().set_x(this._sliderDots[this._sliderDots.length-
1].get_pos().get_x());for(var c=Math.POSITIVE_INFINITY,e,j=0,d=0,f=this._sliderDots.length;d<f;){var g=d++;e=Math.abs(this._sliderDots[g].get_pos().get_x()-this._sliderButton.get_pos().get_x());e<c&&(c=e,j=g)}c<this._SNAP_DIST&&(this._sliderPos=j,this._sliderButton.get_pos().set_x(this._sliderDots[this._sliderPos].get_pos().get_x()))}else{c=L.request();this._sliderBox.getViewMatrix().inverseTransform(a,b,c);this._sliderButton.get_pos().set_y(c.get_y());c.dispose();this._sliderButton.get_pos().get_y()<
this._sliderDots[0].get_pos().get_y()?this._sliderButton.get_pos().set_y(this._sliderDots[0].get_pos().get_y()):this._sliderButton.get_pos().get_y()>this._sliderDots[this._sliderDots.length-1].get_pos().get_y()&&this._sliderButton.get_pos().set_y(this._sliderDots[this._sliderDots.length-1].get_pos().get_y());c=Math.POSITIVE_INFINITY;d=j=0;for(f=this._sliderDots.length;d<f;)g=d++,e=Math.abs(this._sliderDots[g].get_pos().get_y()-this._sliderButton.get_pos().get_y()),e<c&&(c=e,j=g);c<this._SNAP_DIST&&
(this._sliderPos=j,this._sliderButton.get_pos().set_y(this._sliderDots[this._sliderPos].get_pos().get_y()))}},stopSlide:function(){this._flagSlider=!1;if(this._flagSliderHorz){for(var a=Math.POSITIVE_INFINITY,b,c=0,e=0,j=this._sliderDots.length;e<j;){var d=e++;b=Math.abs(this._sliderDots[d].get_pos().get_x()-this._sliderButton.get_pos().get_x());b<a&&(a=b,c=d)}this._sliderPos=c;this._sliderButton.get_pos().set_x(this._sliderDots[this._sliderPos].get_pos().get_x())}else{a=Math.POSITIVE_INFINITY;e=
c=0;for(j=this._sliderDots.length;e<j;)d=e++,b=Math.abs(this._sliderDots[d].get_pos().get_y()-this._sliderButton.get_pos().get_y()),b<a&&(a=b,c=d);this._sliderPos=c;this._sliderButton.get_pos().set_y(this._sliderDots[this._sliderPos].get_pos().get_y())}},calculateCorrect:function(){switch(this.get_type()){case "reorder":this._flagCorrect=!this._testShuffled(this._answers);break;case "match":for(var a=!0,b=0,c=this._answers.length;b<c;){var e=b++;if(-1==this._dragTestId[e]||this._answers[e].id!=this._dragAnswers[this._dragTestId[e]].id)a=
!1}this._flagCorrect=a;break;case "slider":this.choicePicked(this._sliderPos),this._flagCorrect=1==this._answers[this._sliderPos].get_valueResult()}},__class__:Lc,__properties__:u(x.prototype.__properties__,{get_sliderButton:"get_sliderButton",get_flagCorrect:"get_flagCorrect",get_heightMax:"get_heightMax",set_flagAnswered:"set_flagAnswered",get_flagAnswered:"get_flagAnswered",get_numRequired:"get_numRequired",get_flagDrag:"get_flagDrag",get_flagMultiple:"get_flagMultiple",get_data:"get_data",get_btnNext:"get_btnNext",
get_dragAnswers:"get_dragAnswers",get_answers:"get_answers",get_question:"get_question",get_timer:"get_timer",get_type:"get_type"})});var Pc=function(a){V.call(this,l.get_instance().assetParams("strikes_bg",a),new Wa({resize:"fit",align:"top"},""),1,1,1);var b=this.addChild(new O({},l.get_instance().text.get("strikes")));b.get_pos().set_y(b.get_height()/2+l.get_instance().spacing);this._strikes=[];for(a=0;3>a;)a++,this._strikes.push(this.addChild(new x(l.get_instance().assetParams("strikes_x",{visible:!1}))));
for(var a=this._strikes[0].get_width()+l.get_instance().spacing,c=-a,b=b.get_pos().get_y()+b.get_height()/2+l.get_instance().spacing+this._strikes[0].get_height()/2,e=0,j=this._strikes.length;e<j;){var d=e++;this._strikes[d].get_pos().to(c+d*a,b)}};i["com.workinman.builders.quiz.world.elements.Strikes"]=Pc;Pc.__name__="com,workinman,builders,quiz,world,elements,Strikes".split(",");Pc.__super__=V;Pc.prototype=u(V.prototype,{dispose:function(){V.prototype.dispose.call(this);this._strikes=null},strike:function(a,
b){v.easeBounceIn(this._strikes[a],b)},__class__:Pc});var gc=function(a,b,c,e){null==e&&(e=!1);null==c&&(c=!0);var j=null;e&&(j=new Wa({resize:"fit",align:"top"},""));V.call(this,a,j,1,1,1);this.soundPlayed=!1;this._container=new V({});this._flagGameTimer=e;this._timerText=new O({},l.get_instance().text.get("hud_timer_value"));this._timerText.set_text("0:00");a=new x(l.get_instance().assetParams("timer_bg",{}));l.get_instance().colorMaskElement(a,l.get_instance().timer_bg_color);e=new x(l.get_instance().assetParams("timer_frame",
{}));l.get_instance().colorMaskElement(e,l.get_instance().timer_frame_color);this._timerFill=new ia({color:l.get_instance().timer_fill_color,width:Math.floor(a.get_width()),height:Math.floor(a.get_height()),originX:0,x:-Math.floor(a.get_width()/2)});0<a.get_width()&&(this._container.addChild(a),this._container.addChild(this._timerFill),this._container.addChild(e));this._container.addChild(this._timerText);this.addChild(this._container);this._timeMax=b;(this._flagCountDown=c)||this._timerFill.set_visible(!1)};
i["com.workinman.builders.quiz.world.elements.Timer"]=gc;gc.__name__="com,workinman,builders,quiz,world,elements,Timer".split(",");gc.__super__=V;gc.prototype=u(V.prototype,{get_timerText:function(){return this._timerText},get_timerFill:function(){return this._timerFill},get_timeMax:function(){return this._timeMax},get_countDown:function(){return this._flagCountDown},getMaxSize:function(){V.prototype.getMaxSize.call(this);this._container.getMaxSize();this._widthMax=this._container.get_widthMax();
this._heightMax=this._container.get_heightMax();this._flagGameTimer&&this._container.get_pos().set_y(this._heightMax/2)},__class__:gc,__properties__:u(V.prototype.__properties__,{get_countDown:"get_countDown",get_timeMax:"get_timeMax",get_timerFill:"get_timerFill",get_timerText:"get_timerText"})});var O=function(a,b){x.call(this,a);this._widthMax=this._textOffsetY=this._textOffsetX=0;this._data=b;this._fillSprite=this.addChild(new ia({color:this._data.bgColor,width:0,height:0,alpha:-1==this._data.bgColor?
0:this._data.bgAlpha}));this._fillImage=this.addChild(new Ga({assetString:this._data.bgImage},this._data.bgImage));this._text=this.addChild(new Tc(b));0<this._fillImage.get_width()&&(this._text.get_pos().to(this._data.bgPadding,this._data.bgPadding),"fill"==this._data.bgResize?this._updateFillResize():"none"==this._data.bgResize&&this.setTextWrapWidth(this._fillImage.get_width()-2*this._data.bgPadding));this._updateAll(!1);this.set_originX(0);this.set_originY(this.get_originY())};i["com.workinman.builders.quiz.world.elements.builder.TextContainer"]=
O;O.__name__="com,workinman,builders,quiz,world,elements,builder,TextContainer".split(",");O.containsDescender=function(a){for(var b=0,c=O.DESCENDERS;b<c.length;){var e=c[b];++b;if(-1!=a.indexOf(e))return!0}return!1};O.__super__=x;O.prototype=u(x.prototype,{dispose:function(){this._fillSprite.dispose();this._data=this._text=this._fillImage=this._fillSprite=null;x.prototype.dispose.call(this)},get_data:function(){return this._data},set_text:function(a){this._text.set_text(a);this._updateAll(!1);return this._text._text},
get_builderText:function(){return this._text},get_heightTotal:function(){return this.get_height()+Math.abs(this._text.get_offsetY())},getNaturalWidth:function(){return 0<this._fillImage.get_width()?Math.max(this._fillImage.get_width()*this._fillImage.get_scaleX(),this._text.getNaturalWidth()*this._text.get_scaleX()*(0<this._text.get_wrapWidth()?this._text.get_scaleX():1)):0<this._fillSprite.get_alpha()?Math.max(this._fillSprite.getNaturalWidth(),this._text.getNaturalWidth()*this._text.get_scaleX()*
(0<this._text.get_wrapWidth()?this._text.get_scaleX():1)):this._text.get_width()*this._text.get_scaleX()},getNaturalHeight:function(){return 0<this._fillImage.get_height()?Math.max(this._fillImage.get_height()*this._fillImage.get_scaleY(),this._text.getNaturalHeight()*this._text.get_scaleY()):0<this._fillSprite.get_alpha()?Math.max(this._fillSprite.getNaturalHeight(),this._text.getNaturalHeight()*this._text.get_scaleY()):this._text.get_height()*this._text.get_scaleY()},set_originX:function(a){if(null!=
this._text&&null!=this._text._align)switch(this._text._align[1]){case 0:a=0;break;case 1:a=0.5;break;case 2:a=1}a=x.prototype.set_originX.call(this,a);this._updateAll(!1);return a},set_originY:function(a){a=x.prototype.set_originY.call(this,a);this._updateAll(!1);return a},_updateAll:function(a){null==a&&(a=!0);if(null!=this._text){a&&this._text.updateColor();this._updateFill();this._updateFillResize();this._fillImage.set_offsetX(this._fillSprite.set_offsetX(this._text.get_offsetX()));this._fillImage.set_offsetY(this._fillSprite.set_offsetY(this._text.get_offsetY()));
this._fillImage.set_originX(this._fillSprite.set_originX(this._text.set_originX(this.get_originX())));this._fillImage.set_originY(this._fillSprite.set_originY(this._text.set_originY(this.get_originY())));this._fillImage.get_pos().set_x(this._fillImage.get_width()*this._fillImage.get_scaleX()*(this._text.get_originX()-this.get_originX()));var b=a=0;switch(this.get_originX()){case 0:a=this._data.bgPadding;break;case 0.5:a=0;break;case 1:a=-this._data.bgPadding}switch(this.get_originY()){case 0:b=this._data.bgPadding;
break;case 0.5:b=0;break;case 1:b=-this._data.bgPadding}0==this._fillImage.get_width()&&0==this._fillSprite.get_alpha()&&(a=b=0);this._text.get_pos().to(a+this._textOffsetX,b+this._textOffsetY);null!=this._fillSprite&&0<this._fillSprite.get_alpha()&&0.5==this.get_originY()&&O.containsDescender(this._text.textLast)&&(a=this._text.get_pos(),a.set_y(a.get_y()+this._text._font.descenderHeight*this._text.get_scaleY()/2))}},_updateFill:function(){null!=this._fillSprite&&0<this._fillSprite.get_alpha()&&
(this._fillSprite.setSize(Math.floor(this._text.getNaturalWidth()*this._text.get_scaleX())+2*this._data.bgPadding,Math.floor(this._text.getNaturalHeight()*this._text.get_scaleY())+2*this._data.bgPadding),0<this._widthMax&&this._fillSprite.setSize(this._widthMax,this._fillSprite.height))},_updateFillResize:function(){"fill"==this._data.bgResize&&(this._fillImage.set_scaleX((this._text.get_width()*this._text.get_scaleX()+2*this._data.bgPadding)/this._fillImage.get_width()),this._fillImage.set_scaleY((this._text.get_height()*
this._text.get_scaleY()+2*this._data.bgPadding)/this._fillImage.get_height()))},setMaxWidth:function(a){this._widthMax=a;this._updateAll(!1)},setTextWrapWidth:function(a){this._text.set_wrapWidth(a/this._text.get_scaleX());this.set_text(this._text.textLast);this._updateAll(!1)},updateFillWrapWidth:function(a,b){0<this._fillImage.get_width()&&"fill"==this._data.bgResize&&(this._fillImage.set_scaleX(a/this._fillImage.get_width()),this._fillImage.set_scaleY(b/this._fillImage.get_height()))},setColor:function(a){var b=
this._text.get_x(),c=this._text.get_y();this._text.setColor(a);this.set_text(this._text.textLast);this._updateAll(!1);this._text.get_pos().to(b,c)},__class__:O,__properties__:u(x.prototype.__properties__,{get_heightTotal:"get_heightTotal",get_builderText:"get_builderText",set_text:"set_text",get_data:"get_data"})});var Ec=function(){O.call(this,{},l.get_instance().text.get("advertisement"));this.setMaxWidth(Math.floor(o.get_CANVAS_WIDTH()));this.get_pos().to(o.get_CANVAS_CENTER_X(),this.get_height()/
2);k.get_instance().setFloat(m.FLOAT_AD_BAR_HEIGHT,this.get_height())};i["com.workinman.builders.quiz.world.elements.builder.AdBar"]=Ec;Ec.__name__="com,workinman,builders,quiz,world,elements,builder,AdBar".split(",");Ec.__super__=O;Ec.prototype=u(O.prototype,{_addEventListeners:function(){O.prototype._addEventListeners.call(this);k.get_instance().get_dispatcher().addEventListener(n.RESIZE_CANVAS,t(this,this._onEventResizeCanvas))},_removeEventListeners:function(){O.prototype._removeEventListeners.call(this);
k.get_instance().get_dispatcher().removeEventListener(n.RESIZE_CANVAS,t(this,this._onEventResizeCanvas))},_onEventResizeCanvas:function(){this._resize()},_resize:function(){this.setMaxWidth(Math.floor(o.get_CANVAS_WIDTH()));this.get_pos().to(o.get_CANVAS_CENTER_X(),this.get_height()/2)},__class__:Ec});var yb=function(a,b){this._layout=null;C.call(this,b);this._flags|=256;null!=b.localize&&b.localize&&(this._flags|=512);this.disablePointer();this._font=a;this.set_text(b.text);this._align=la.Center;
this.set_wrapWidth(0);this.set_letterSpacing(0);this.set_lineSpacing(0);null!=b.width&&this.set_wrapWidth(b.width);null!=b.letterSpacing&&this.set_letterSpacing(b.letterSpacing);null!=b.lineSpacing&&this.set_lineSpacing(b.lineSpacing);null!=b.align&&(this._align=b.align)};i["flambe.display.TextSprite"]=yb;yb.__name__=["flambe","display","TextSprite"];yb.__super__=C;yb.prototype=u(C.prototype,{get_layout:function(){return this._layout},get_wrapWidth:function(){return this._wrapWidth},set_wrapWidth:function(a){this._wrapWidth=
a;this._dirtyText();return this._wrapWidth},get_letterSpacing:function(){return this._letterSpacing},set_letterSpacing:function(a){this._letterSpacing=a;this._dirtyText();return this._letterSpacing},get_lineSpacing:function(){return this._lineSpacing},set_lineSpacing:function(a){this._lineSpacing=a;this._dirtyText();return this._lineSpacing},dispose:function(){this._align=this._text=this._font=null;null!=this._layout&&(this._layout.dispose(),this._layout=null);C.prototype.dispose.call(this)},_dirtyText:function(){this._flags|=
256},draw:function(a){this.updateLayout();this._layout.draw(a)},set_origin:function(a){this.__originX=0;this.__originY=a;this._dirtyMatrix();return this.__originX},set_originX:function(){this.__originX=0;this._dirtyMatrix();return this.__originX},getNaturalWidth:function(){this.updateLayout();return 0<this.get_wrapWidth()?this.get_wrapWidth():this._layout.bounds.get_width()},getNaturalHeight:function(){this.updateLayout();var a=this._layout.get_lines()*(this._font.lineHeight+this.get_lineSpacing()),
b=this._layout.bounds.get_height();return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},set_text:function(a){a!=this._text&&(this._text=a,this._cleanString(),this._flags|=256);return a},_cleanString:function(){this._text=Q.replace(this._text,"<br>","\n");this._text=Q.replace(this._text,"\\n","\n")},set_font:function(a){a!=this._font&&(this._font=a,this._flags|=256);return a},get_align:function(){return this._align},updateLayout:function(){0!=(this._flags&
256)&&(this._flags&=-257,null!=this._layout&&(this._layout.dispose(),this._layout=null),this._layout=this._font.layoutText(this._text,this._align,this.get_wrapWidth(),this.get_letterSpacing(),this.get_lineSpacing(),this.get_originY()))},get_localize:function(){return 0!=(this._flags&512)},set_localize:function(a){this._flags=a?this._flags|512:this._flags&-513;return this.get_localize()},__class__:yb,__properties__:u(C.prototype.__properties__,{set_localize:"set_localize",get_localize:"get_localize",
get_align:"get_align",set_font:"set_font",set_text:"set_text",set_lineSpacing:"set_lineSpacing",get_lineSpacing:"get_lineSpacing",set_letterSpacing:"set_letterSpacing",get_letterSpacing:"get_letterSpacing",set_wrapWidth:"set_wrapWidth",get_wrapWidth:"get_wrapWidth",get_layout:"get_layout"})});var da=function(a){if(null==a.font||""==a.font)a.font=o.FONT_DEFAULT;yb.call(this,k.get_instance().get_assets().getFont(a.font),a)};i["com.workinman.display.text.TextBase"]=da;da.__name__=["com","workinman",
"display","text","TextBase"];da.__super__=yb;da.prototype=u(yb.prototype,{get_width:function(){return this.getNaturalWidth()},get_height:function(){return this.getNaturalHeight()},__class__:da,__properties__:u(yb.prototype.__properties__,{get_height:"get_height",get_width:"get_width"})});var T=function(a){null==a.localize&&(a.localize=!0);da.call(this,a)};i["com.workinman.display.text.TextLocalized"]=T;T.__name__=["com","workinman","display","text","TextLocalized"];T.__super__=da;T.prototype=u(da.prototype,
{set_text:function(a){if(!this.get_localize())return da.prototype.set_text.call(this,a);var b=k.get_instance().get_localize().getLocalizeData(a);null!=b?(this.set_offsetX(b.get_offsetX()),this.set_offsetY(b.get_offsetY()),this.set_scale(b.get_scale()),b.get_fontName()!=this._font.name&&this.set_font(k.get_instance().get_assets().getFont(b.get_fontName(),!0)),b=b.get_string(),b=k.get_instance().get_localize().replaceTags(b),da.prototype.set_text.call(this,b)):da.prototype.set_text.call(this,a);return a},
__class__:T});var Tc=function(a){var b=null;switch(a.textAlign){case "left":b=la.Left;break;case "center":b=la.Center;break;case "right":b=la.Right}this.id=a.id;this._color=a.color;T.call(this,{text:a.id,width:a.textWidth,align:b});this.textLast=this._text;""!=this._text&&this.updateColor()};i["com.workinman.builders.quiz.world.elements.builder.BuilderText"]=Tc;Tc.__name__="com,workinman,builders,quiz,world,elements,builder,BuilderText".split(",");Tc.__super__=T;Tc.prototype=u(T.prototype,{dispose:function(){this.colorText=
null;T.prototype.dispose.call(this)},getNaturalWidth:function(){return null==this.colorText&&""==this._text?0:null==this.colorText?T.prototype.getNaturalWidth.call(this):this.colorText.getNaturalWidth()},getNaturalHeight:function(){return null==this.colorText&&""==this._text?0:null==this.colorText?T.prototype.getNaturalHeight.call(this):this.colorText.getNaturalHeight()},set_text:function(a){var b=""!=a;null==this._text&&(b=!1);a=T.prototype.set_text.call(this,a);b&&(this.textLast=a,this.updateColor());
return a},set_originX:function(a){var b=T.prototype.set_originX.call(this,a);-1!=this._color&&(b=a);this.__originX=b;this._dirtyMatrix();null!=this.colorText&&this.colorText.set_originX(b);return b},set_originY:function(a){a=T.prototype.set_originY.call(this,a);null!=this.colorText&&this.colorText.set_originY(a);return a},updateColor:function(){null!=this.colorText&&(this.removeChild(this.colorText),this.colorText.dispose(),this.colorText=null);l.get_instance().colorMaskText(this,this._color)},boundWidth:function(){if(null!=
this._layout){var a=this._layout.bounds.get_width();if(Math.abs(a)!=Math.POSITIVE_INFINITY)return a}return this.get_width()},boundHeight:function(){if(null!=this._layout){var a=this._layout.bounds.get_height();if(Math.abs(a)!=Math.POSITIVE_INFINITY)return a}return this.get_height()},boundY:function(){return null!=this._layout?this._layout.bounds.get_y():0},wrapHeight:function(){return null!=this._layout?(this._layout.get_lines()-1)*(this._font.lineHeight+this.get_lineSpacing()):this.get_height()},
setColor:function(a){this._color=a},__class__:Tc});var Mc=function(a,b,c,e){x.call(this,b);var j=0,d=0,b=this.addChild(new x(l.get_instance().assetParams("result_bg",{})));this._image=this.addChild(new Sb({assetString:a.image,x:0,y:0,originX:0,originY:0}));j=this._image.get_width();this._image.get_height();var f=[];f.push(this.addChild(new O({},a.header)));f.push(this.addChild(new O({},a.copy)));if(null!=l.get_instance().get_curQuiz().results_extras){var d=new H,g=k.get_instance().getValue(m.STRING_RESULT_SCORE);
d.set("result_score",g);g=k.get_instance().getValue(m.STRING_RESULT_GRADE);d.set("result_grade",g);g=k.get_instance().getValue(m.INT_RESULT_RIGHT);d.set("result_tally_right",g);g=k.get_instance().getValue(m.INT_RESULT_WRONG);d.set("result_tally_wrong",g);g=k.get_instance().getValue(m.INT_RESULT_QUESTION);d.set("result_strikes",g);g=k.get_instance().getValue(m.STRING_RESULT_TIME);d.set("result_time",g);for(var h=0,i=l.get_instance().get_curQuiz().results_extras;h<i.length;){var n=i[h];++h;g=this.addChild(new O({},
l.get_instance().text.get(n)));g.set_text(k.get_instance().get_localize().getString(n)+d.get(n));f.push(g)}}d=0;for(g=f.length;d<g;)h=d++,f[h].set_originX(0),0<h&&f[h].set_originY(0);for(h=g=d=0;h<f.length;)i=f[h],++h,i.get_builderText().get_wrapWidth()>d&&(d=i.get_builderText().get_wrapWidth(),g=i.get_builderText().get_scale());if(0!=d)for(h=0;h<f.length;)i=f[h],++h,0==i.get_builderText().get_wrapWidth()&&i.setTextWrapWidth(d*g);else{d=0<b.get_width()?b.get_width():o.get_CANVAS_WIDTH();for(g=0;g<
f.length;)h=f[g],++g,0==h.get_builderText().get_wrapWidth()&&h.setTextWrapWidth(Math.max(0,d-this._image.get_width()-3*l.get_instance().spacing-2*h.get_data().bgPadding))}f[0].get_pos().to(j+f[0].get_width()*f[0].get_scale()*f[0].get_originX()+l.get_instance().spacing,f[0].get_height()/2*f[0].get_scale());d=1;for(g=f.length;d<g;)h=d++,f[h].get_pos().to(j+l.get_instance().spacing+f[h].get_width()*f[h].get_scale()*f[h].get_originX(),f[h-1].get_pos().get_y()+f[h-1].get_height()/(1==h?2:1)*f[h-1].get_scale()+
l.get_instance().spacing);this._buttons=[];e?(this._btnReplay=this.addChild(new N(l.get_instance().assetParams("button_take_quiz",{tween:c},!0))),this._btnReplay.addChild(new O({},l.get_instance().text.get("take_quiz_btn"))),this._buttons.push(this._btnReplay)):(l.get_instance().assetEnabled("button_share")&&(this._btnShare=this.addChild(new N(l.get_instance().assetParams("button_share",{tween:c},!0))),this._btnShare.addChild(new O({},l.get_instance().text.get("share_btn"))),this._buttons.push(this._btnShare)),
l.get_instance().assetEnabled("button_replay_result")&&(this._btnReplay=this.addChild(new N(l.get_instance().assetParams("button_replay_result",{tween:c},!0))),this._btnReplay.addChild(new O({},l.get_instance().text.get("replay_result_btn"))),this._buttons.push(this._btnReplay)),l.get_instance().promos_enabled&&(this._btnNext=this.addChild(new N(l.get_instance().assetParams("button_next",{tween:c},!0))),this._btnNext.addChild(new O({},l.get_instance().text.get("next_btn"))),this._buttons.push(this._btnNext)));
c=this._image.get_height();e=f[0].get_height()*f[0].get_scale();d=1;for(g=f.length;d<g;)h=d++,e+=f[h].get_height()*f[h].get_scale()+l.get_instance().spacing;d=Math.max(c,e);this._buttons[0].get_pos().to(j+this._buttons[0].get_width()/2+l.get_instance().spacing,e+this._buttons[0].get_height()/2+l.get_instance().spacing);e+=this._buttons[0].get_height()+l.get_instance().spacing;this._heightMax=d+this._buttons[0].get_height()/2+l.get_instance().spacing;j=1;for(d=this._buttons.length;j<d;)g=j++,this._buttons[g].get_pos().to(this._buttons[g-
1].get_pos().get_x()+this._buttons[g-1].get_width()/2+this._buttons[g].get_width()/2+l.get_instance().spacing,this._buttons[g-1].get_pos().get_y());c<e&&this._image.get_pos().set_y(e/2-this._image.get_height()/2);j=c=0;for(e=this._buttons;j<e.length;)d=e[j],++j,c+=l.get_instance().spacing+d.get_width();c-=l.get_instance().spacing;j=f[0].get_width();e=1;for(d=f.length;e<d;)g=e++,j=Math.max(j,f[g].get_width());if(c<j){j=(j-c)/2;e=0;for(d=this._buttons;e<d.length;)g=d[e],++e,g=g.get_pos(),g.set_x(g.get_x()+
j)}j=f[0].get_width()*f[0].get_scale();e=1;for(d=f.length;e<d;)g=e++,j=Math.max(j,f[g].get_width()*f[g].get_scale());j=Math.max(j,c);this._widthMax=this._image.get_width()+l.get_instance().spacing+j;this._image.get_pos().subtract(this._widthMax/2,this._heightMax/2);for(j=0;j<f.length;)c=f[j],++j,c.get_pos().subtract(this._widthMax/2,this._heightMax/2);null!=this._btnNext&&this._btnNext.get_pos().subtract(this._widthMax/2,this._heightMax/2);null!=this._btnReplay&&this._btnReplay.get_pos().subtract(this._widthMax/
2,this._heightMax/2);null!=this._btnShare&&this._btnShare.get_pos().subtract(this._widthMax/2,this._heightMax/2);this._idSound=a.idSound;0<b.get_width()&&(this._heightMax=Math.max(b.get_height(),this._heightMax),this._widthMax=Math.max(b.get_width(),this._widthMax));"confetti"==a.particles?this.addChild(new hc({type:db.CONFETTI,tray:this,time:0.5,max:100})):"fireworks"==a.particles&&this.addChild(new hc({type:db.FIREWORK,tray:this,time:1.5,max:20}))};i["com.workinman.builders.quiz.world.elements.builder.ResultContainer"]=
Mc;Mc.__name__="com,workinman,builders,quiz,world,elements,builder,ResultContainer".split(",");Mc.__super__=x;Mc.prototype=u(x.prototype,{dispose:function(){this._btnReplay=this._buttons=this._btnShare=this._btnNext=this._copy=this._header=this._image=null;x.prototype.dispose.call(this)},get_btnReplay:function(){return this._btnReplay},get_btnShare:function(){return this._btnShare},get_btnNext:function(){return this._btnNext},disableButtons:function(){null!=this._btnReplay&&this._btnReplay.disable();
null!=this._btnShare&&this._btnShare.disable();null!=this._btnNext&&this._btnNext.disable()},resize:function(){var a=0.9*o.get_CANVAS_HEIGHT()*l.get_instance().game_fill_safe,b=0.9*o.get_CANVAS_WIDTH(),c=Math.min(1,b/this._widthMax),e=Math.min(1,a/this._heightMax);l.get_instance().scale_up&&(c=b/this._widthMax,e=a/this._heightMax);this.set_scale(Math.min(c,e))},open:function(){l.get_instance().playMusic(this._idSound)},__class__:Mc,__properties__:u(x.prototype.__properties__,{get_btnNext:"get_btnNext",
get_btnShare:"get_btnShare",get_btnReplay:"get_btnReplay"})});var Nc=function(a,b,c){x.call(this,a);this._clickWall=new ia({color:0,width:8,height:8,origin:0});this._clickWall.get_pos().to(-o.get_CANVAS_WIDTH()/2,-o.get_CANVAS_HEIGHT()/2);this._clickWall.set_scaleX(o.get_CANVAS_WIDTH()/8);this._clickWall.set_scaleY(o.get_CANVAS_HEIGHT()/8);this._clickWall.set_alpha(0.5);this.addChild(this._clickWall,!1);this._bg=this.addChild(new x(l.get_instance().assetParams("share_bg",{})));this._header=this.addChild(new O({},
l.get_instance().text.get("share_header")));this._header.set_originY(0);this._header.setTextWrapWidth(this.get_width());this._copy=this.addChild(new O({},l.get_instance().text.get("share_copy")));this._copy.set_originY(0);this._copy.setTextWrapWidth(this.get_width());this._header.get_pos().to(0,-this.get_height()/2+20);this._copy.get_pos().to(0,this._header.get_pos().get_y()+this._header.get_heightTotal()*this._header.get_scale()+10);this._btnClose=this.addChild(new N(l.get_instance().assetParams("button_close",
{tween:b},!0)));this._btnClose.get_pos().to(this.get_width()/2-this._btnClose.get_width()/2,-this.get_height()/2+this._btnClose.get_height()/2);this._btnClose.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventCloseClick));this._divY=this._copy.get_pos().get_y()+this._copy.get_heightTotal()+this.get_height()/2+(o.get_CANVAS_CENTER_Y()-this.get_height()/2)+10;this._divY=this._copy.get_pos().get_y()+this._copy.get_heightTotal()+10;this._divX=20;this._url=k.get_instance().get_localize().getString("result_gameAssetURL_id_html")+
"result"+c+".html";var a="",c=new H,e=k.get_instance().getValue(m.STRING_RESULT_SCORE);c.set("result_score",e);e=k.get_instance().getValue(m.STRING_RESULT_GRADE);c.set("result_grade",e);e=k.get_instance().getValue(m.INT_RESULT_RIGHT);c.set("result_tally_right",e);e=k.get_instance().getValue(m.INT_RESULT_WRONG);c.set("result_tally_wrong",e);e=k.get_instance().getValue(m.INT_RESULT_QUESTION);c.set("result_strikes",e);e=k.get_instance().getValue(m.STRING_RESULT_TIME);c.set("result_time",e);for(e=c.keys();e.hasNext();){var j=
e.next();-1==l.get_instance().get_curQuiz().results_extras.indexOf(j)?a+="0":(j=c.get(j),j+="",j=Q.replace(j,"/","~"),j=Q.replace(j,":","~"),a+=j);a+="-"}this._url+="?result="+a;a=l.get_instance().share.bgColor;c=l.get_instance().share.textColor;e=0;this._div=window.document.createElement("input");this._div.type="text";this._div.style.display="block";this._div.value=this._url;this._div.style.width=this.get_width()-this._divX+"px";this._div.style.backgroundColor=a;this._div.style.border="5px solid "+
a;this._div.style.color=c;this._div.style.font="12px arial";this._div.style.margin=this._divY+"px auto 0";this._div.style.pointerEvents="auto";this._div.style.textAlign="left";this._div.id="game_share_input";this._divHolder=window.document.createElement("div");this._divHolder.id="div_game_share";this._divHolder.style.cssText=window.document.getElementsByTagName("canvas")[0].parentElement.style.cssText;this._divHolder.style.position="absolute";this._divHolder.style.top="0px";this._divHolder.style.width=
window.document.getElementsByTagName("canvas")[0].parentElement.offsetWidth+"px";this._divHolder.style.height=window.document.getElementsByTagName("canvas")[0].parentElement.offsetHeight+"px";this._divHolder.style.backgroundColor="";this._divHolder.style.pointerEvents="none";this._divHolder.appendChild(this._div);window.document.getElementsByTagName("canvas")[0].parentNode.appendChild(this._divHolder);e+=this._div.offsetHeight+20;Qa.isCopyAvailable()&&(this._btnCopy=this.addChild(new N(l.get_instance().assetParams("button_copy",
{tween:b},!0))),this._btnCopy.get_pos().to(0,this._copy.get_pos().get_y()+this._copy.get_heightTotal()+e+this._btnCopy.get_height()/2),this._btnCopy.addChild(new O({},l.get_instance().text.get("copy_btn"))),this._btnCopy.get_dispatcher().addEventListener(n.BUTTON_CLICK,t(this,this._onEventCopyClick)));this.hide()};i["com.workinman.builders.quiz.world.elements.builder.ShareContainer"]=Nc;Nc.__name__="com,workinman,builders,quiz,world,elements,builder,ShareContainer".split(",");Nc.__super__=x;Nc.prototype=
u(x.prototype,{dispose:function(){this._btnCopy=this._divHolder=this._div=this._btnClose=this._copy=this._header=null;this._clickWall.dispose();this._bg=this._clickWall=null;x.prototype.dispose.call(this)},get_width:function(){return this._bg.get_width()},get_height:function(){return this._bg.get_height()},_onEventCloseClick:function(){this.hide()},_onEventCopyClick:function(){this.copyText()},show:function(){this.set_visible(!0);this._divHolder.style.display="block";this._div.value=this._url},hide:function(){this.set_visible(!1);
this._divHolder.style.display="none"},resize:function(){var a=0.9*o.get_CANVAS_HEIGHT()*l.get_instance().game_fill_safe,b=0.9*o.get_CANVAS_WIDTH(),c=Math.min(1,b/this.get_width()),e=Math.min(1,a/this.get_height());l.get_instance().scale_up&&(c=b/this.get_width(),e=a/this.get_height());this.set_scale(Math.min(c,e));a=eval('document.getElementsByTagName("canvas")[0].getBoundingClientRect().width;')/o.get_CANVAS_WIDTH();this._divHolder.style.width=window.document.getElementsByTagName("canvas")[0].parentElement.offsetWidth+
"px";this._divHolder.style.height=window.document.getElementsByTagName("canvas")[0].parentElement.offsetHeight+"px";this._divHolder.style.left="0px";this._div.style.margin=this.get_pos().get_y()*(1==a?1:a)+this._divY*(1==a?e:a)+"px auto 0";this._div.style.width=this.get_width()*(1==a?a:c)-this._divX+"px";l.get_instance().scale_up&&(this._div.style.transform="scale("+this.get_scale()+","+this.get_scale()+")")},copyText:function(){Qa.copyClip(this._url,!1)},__class__:Nc});var fa=i["com.workinman.cloud.ASSET_SOUND"]=
{__ename__:["com","workinman","cloud","ASSET_SOUND"],__constructs__:["sfx_button_click","silent","sfx_button_over","sfx_timertick"]};fa.sfx_button_click=["sfx_button_click",0];fa.sfx_button_click.toString=f;fa.sfx_button_click.__enum__=fa;fa.silent=["silent",1];fa.silent.toString=f;fa.silent.__enum__=fa;fa.sfx_button_over=["sfx_button_over",2];fa.sfx_button_over.toString=f;fa.sfx_button_over.__enum__=fa;fa.sfx_timertick=["sfx_timertick",3];fa.sfx_timertick.toString=f;fa.sfx_timertick.__enum__=fa;
fa.__empty_constructs__=[fa.sfx_button_click,fa.silent,fa.sfx_button_over,fa.sfx_timertick];var g=i["com.workinman.cloud.ASSET_TEX"]={__ename__:["com","workinman","cloud","ASSET_TEX"],__constructs__:"font_arial_regular,bg_gameplay,ui_play_btn,ui_checkmark,test_image_red,font_helvetica_regular,ui_confetti_3,template_circle_empty,ui_confetti_2,ui_strikes_bg,test_image_green,ui_rec_empty,ui_loader_bg,ui_button_bg,ui_loader_top,temp_arrow_left,btn_close,temp_match_indicator,temp_match_answer2,ui_firework_1,font_futura_medium,ui_soundoff,splash,font_helvetica_bold,template_circle_filled,ui_soundon,ui_answer_incorrect,ui_answer_correct,ui_share_bg,font_arial_bold,ui_relatedgames_bg,test_image_orange,ui_rec_checked,ui_hud_copy2,ui_results_description_bg,temp_match_box,test_result1,temp_arrow_right,ui_result_bg,test_image_purple,test_image_option,ui_results_image,ui_strikes_x,test_q2,test_q7,test_q6,test_q5,test_q4,test_q3,test_q1,test_image_option2,ui_results_title_bg,ui_confetti_1,test_q9,test_q8,temp_match_answer1,test_image_yellow,debug_button,font_futura_bold,test_image_blue,ui_logo".split(",")};
g.font_arial_regular=["font_arial_regular",0];g.font_arial_regular.toString=f;g.font_arial_regular.__enum__=g;g.bg_gameplay=["bg_gameplay",1];g.bg_gameplay.toString=f;g.bg_gameplay.__enum__=g;g.ui_play_btn=["ui_play_btn",2];g.ui_play_btn.toString=f;g.ui_play_btn.__enum__=g;g.ui_checkmark=["ui_checkmark",3];g.ui_checkmark.toString=f;g.ui_checkmark.__enum__=g;g.test_image_red=["test_image_red",4];g.test_image_red.toString=f;g.test_image_red.__enum__=g;g.font_helvetica_regular=["font_helvetica_regular",
5];g.font_helvetica_regular.toString=f;g.font_helvetica_regular.__enum__=g;g.ui_confetti_3=["ui_confetti_3",6];g.ui_confetti_3.toString=f;g.ui_confetti_3.__enum__=g;g.template_circle_empty=["template_circle_empty",7];g.template_circle_empty.toString=f;g.template_circle_empty.__enum__=g;g.ui_confetti_2=["ui_confetti_2",8];g.ui_confetti_2.toString=f;g.ui_confetti_2.__enum__=g;g.ui_strikes_bg=["ui_strikes_bg",9];g.ui_strikes_bg.toString=f;g.ui_strikes_bg.__enum__=g;g.test_image_green=["test_image_green",
10];g.test_image_green.toString=f;g.test_image_green.__enum__=g;g.ui_rec_empty=["ui_rec_empty",11];g.ui_rec_empty.toString=f;g.ui_rec_empty.__enum__=g;g.ui_loader_bg=["ui_loader_bg",12];g.ui_loader_bg.toString=f;g.ui_loader_bg.__enum__=g;g.ui_button_bg=["ui_button_bg",13];g.ui_button_bg.toString=f;g.ui_button_bg.__enum__=g;g.ui_loader_top=["ui_loader_top",14];g.ui_loader_top.toString=f;g.ui_loader_top.__enum__=g;g.temp_arrow_left=["temp_arrow_left",15];g.temp_arrow_left.toString=f;g.temp_arrow_left.__enum__=
g;g.btn_close=["btn_close",16];g.btn_close.toString=f;g.btn_close.__enum__=g;g.temp_match_indicator=["temp_match_indicator",17];g.temp_match_indicator.toString=f;g.temp_match_indicator.__enum__=g;g.temp_match_answer2=["temp_match_answer2",18];g.temp_match_answer2.toString=f;g.temp_match_answer2.__enum__=g;g.ui_firework_1=["ui_firework_1",19];g.ui_firework_1.toString=f;g.ui_firework_1.__enum__=g;g.font_futura_medium=["font_futura_medium",20];g.font_futura_medium.toString=f;g.font_futura_medium.__enum__=
g;g.ui_soundoff=["ui_soundoff",21];g.ui_soundoff.toString=f;g.ui_soundoff.__enum__=g;g.splash=["splash",22];g.splash.toString=f;g.splash.__enum__=g;g.font_helvetica_bold=["font_helvetica_bold",23];g.font_helvetica_bold.toString=f;g.font_helvetica_bold.__enum__=g;g.template_circle_filled=["template_circle_filled",24];g.template_circle_filled.toString=f;g.template_circle_filled.__enum__=g;g.ui_soundon=["ui_soundon",25];g.ui_soundon.toString=f;g.ui_soundon.__enum__=g;g.ui_answer_incorrect=["ui_answer_incorrect",
26];g.ui_answer_incorrect.toString=f;g.ui_answer_incorrect.__enum__=g;g.ui_answer_correct=["ui_answer_correct",27];g.ui_answer_correct.toString=f;g.ui_answer_correct.__enum__=g;g.ui_share_bg=["ui_share_bg",28];g.ui_share_bg.toString=f;g.ui_share_bg.__enum__=g;g.font_arial_bold=["font_arial_bold",29];g.font_arial_bold.toString=f;g.font_arial_bold.__enum__=g;g.ui_relatedgames_bg=["ui_relatedgames_bg",30];g.ui_relatedgames_bg.toString=f;g.ui_relatedgames_bg.__enum__=g;g.test_image_orange=["test_image_orange",
31];g.test_image_orange.toString=f;g.test_image_orange.__enum__=g;g.ui_rec_checked=["ui_rec_checked",32];g.ui_rec_checked.toString=f;g.ui_rec_checked.__enum__=g;g.ui_hud_copy2=["ui_hud_copy2",33];g.ui_hud_copy2.toString=f;g.ui_hud_copy2.__enum__=g;g.ui_results_description_bg=["ui_results_description_bg",34];g.ui_results_description_bg.toString=f;g.ui_results_description_bg.__enum__=g;g.temp_match_box=["temp_match_box",35];g.temp_match_box.toString=f;g.temp_match_box.__enum__=g;g.test_result1=["test_result1",
36];g.test_result1.toString=f;g.test_result1.__enum__=g;g.temp_arrow_right=["temp_arrow_right",37];g.temp_arrow_right.toString=f;g.temp_arrow_right.__enum__=g;g.ui_result_bg=["ui_result_bg",38];g.ui_result_bg.toString=f;g.ui_result_bg.__enum__=g;g.test_image_purple=["test_image_purple",39];g.test_image_purple.toString=f;g.test_image_purple.__enum__=g;g.test_image_option=["test_image_option",40];g.test_image_option.toString=f;g.test_image_option.__enum__=g;g.ui_results_image=["ui_results_image",41];
g.ui_results_image.toString=f;g.ui_results_image.__enum__=g;g.ui_strikes_x=["ui_strikes_x",42];g.ui_strikes_x.toString=f;g.ui_strikes_x.__enum__=g;g.test_q2=["test_q2",43];g.test_q2.toString=f;g.test_q2.__enum__=g;g.test_q7=["test_q7",44];g.test_q7.toString=f;g.test_q7.__enum__=g;g.test_q6=["test_q6",45];g.test_q6.toString=f;g.test_q6.__enum__=g;g.test_q5=["test_q5",46];g.test_q5.toString=f;g.test_q5.__enum__=g;g.test_q4=["test_q4",47];g.test_q4.toString=f;g.test_q4.__enum__=g;g.test_q3=["test_q3",
48];g.test_q3.toString=f;g.test_q3.__enum__=g;g.test_q1=["test_q1",49];g.test_q1.toString=f;g.test_q1.__enum__=g;g.test_image_option2=["test_image_option2",50];g.test_image_option2.toString=f;g.test_image_option2.__enum__=g;g.ui_results_title_bg=["ui_results_title_bg",51];g.ui_results_title_bg.toString=f;g.ui_results_title_bg.__enum__=g;g.ui_confetti_1=["ui_confetti_1",52];g.ui_confetti_1.toString=f;g.ui_confetti_1.__enum__=g;g.test_q9=["test_q9",53];g.test_q9.toString=f;g.test_q9.__enum__=g;g.test_q8=
["test_q8",54];g.test_q8.toString=f;g.test_q8.__enum__=g;g.temp_match_answer1=["temp_match_answer1",55];g.temp_match_answer1.toString=f;g.temp_match_answer1.__enum__=g;g.test_image_yellow=["test_image_yellow",56];g.test_image_yellow.toString=f;g.test_image_yellow.__enum__=g;g.debug_button=["debug_button",57];g.debug_button.toString=f;g.debug_button.__enum__=g;g.font_futura_bold=["font_futura_bold",58];g.font_futura_bold.toString=f;g.font_futura_bold.__enum__=g;g.test_image_blue=["test_image_blue",
59];g.test_image_blue.toString=f;g.test_image_blue.__enum__=g;g.ui_logo=["ui_logo",60];g.ui_logo.toString=f;g.ui_logo.__enum__=g;g.__empty_constructs__=[g.font_arial_regular,g.bg_gameplay,g.ui_play_btn,g.ui_checkmark,g.test_image_red,g.font_helvetica_regular,g.ui_confetti_3,g.template_circle_empty,g.ui_confetti_2,g.ui_strikes_bg,g.test_image_green,g.ui_rec_empty,g.ui_loader_bg,g.ui_button_bg,g.ui_loader_top,g.temp_arrow_left,g.btn_close,g.temp_match_indicator,g.temp_match_answer2,g.ui_firework_1,
g.font_futura_medium,g.ui_soundoff,g.splash,g.font_helvetica_bold,g.template_circle_filled,g.ui_soundon,g.ui_answer_incorrect,g.ui_answer_correct,g.ui_share_bg,g.font_arial_bold,g.ui_relatedgames_bg,g.test_image_orange,g.ui_rec_checked,g.ui_hud_copy2,g.ui_results_description_bg,g.temp_match_box,g.test_result1,g.temp_arrow_right,g.ui_result_bg,g.test_image_purple,g.test_image_option,g.ui_results_image,g.ui_strikes_x,g.test_q2,g.test_q7,g.test_q6,g.test_q5,g.test_q4,g.test_q3,g.test_q1,g.test_image_option2,
g.ui_results_title_bg,g.ui_confetti_1,g.test_q9,g.test_q8,g.temp_match_answer1,g.test_image_yellow,g.debug_button,g.font_futura_bold,g.test_image_blue,g.ui_logo];var oa=i["com.workinman.cloud.ASSET_XML"]={__ename__:["com","workinman","cloud","ASSET_XML"],__constructs__:["config_loading","translation","config"]};oa.config_loading=["config_loading",0];oa.config_loading.toString=f;oa.config_loading.__enum__=oa;oa.translation=["translation",1];oa.translation.toString=f;oa.translation.__enum__=oa;oa.config=
["config",2];oa.config.toString=f;oa.config.__enum__=oa;oa.__empty_constructs__=[oa.config_loading,oa.translation,oa.config];var m=i["com.workinman.cloud.CLOUD"]={__ename__:["com","workinman","cloud","CLOUD"],__constructs__:"BOOL_GAME_LOSE,BOOL_GAME_WIN,BOOL_LEVEL_LOSE,BOOL_LEVEL_WIN,BOOL_PAUSED,BOOL_TOUCH_DEVICE,BOOL_CODE_SCREEN_OPEN,BOOL_CODE_UNLOCK,BOOL_ALLOW_UNLOCK,BOOL_LOW_QUALITY_MOBILE,BOOL_JSEMBED_EXISTS,BOOL_FONTS_LOADED,BOOL_FAKE_PROGRESS,INT_HEALTH,INT_LIVES,INT_SCORE,INT_LOADING_SCORE,INT_ACHIEVEMENT_SCORE,INT_CURRENCY,INT_LEVEL,INT_UNIQUE_INC,INT_QUALITY,INT_LOADING_PROGRESS,INT_QUIZ,INT_RESULT_RIGHT,INT_RESULT_WRONG,INT_RESULT_QUESTION,STRING_UNLOCK_CODE,STRING_LEVEL_ID,STRING_SCALE_TYPE,STRING_REGION_ID,STRING_DEBUG_TEXT,STRING_RESULT_GRADE,STRING_RESULT_TIME,STRING_RESULT_SCORE,FLOAT_AD_BAR_HEIGHT".split(",")};
m.BOOL_GAME_LOSE=["BOOL_GAME_LOSE",0];m.BOOL_GAME_LOSE.toString=f;m.BOOL_GAME_LOSE.__enum__=m;m.BOOL_GAME_WIN=["BOOL_GAME_WIN",1];m.BOOL_GAME_WIN.toString=f;m.BOOL_GAME_WIN.__enum__=m;m.BOOL_LEVEL_LOSE=["BOOL_LEVEL_LOSE",2];m.BOOL_LEVEL_LOSE.toString=f;m.BOOL_LEVEL_LOSE.__enum__=m;m.BOOL_LEVEL_WIN=["BOOL_LEVEL_WIN",3];m.BOOL_LEVEL_WIN.toString=f;m.BOOL_LEVEL_WIN.__enum__=m;m.BOOL_PAUSED=["BOOL_PAUSED",4];m.BOOL_PAUSED.toString=f;m.BOOL_PAUSED.__enum__=m;m.BOOL_TOUCH_DEVICE=["BOOL_TOUCH_DEVICE",5];
m.BOOL_TOUCH_DEVICE.toString=f;m.BOOL_TOUCH_DEVICE.__enum__=m;m.BOOL_CODE_SCREEN_OPEN=["BOOL_CODE_SCREEN_OPEN",6];m.BOOL_CODE_SCREEN_OPEN.toString=f;m.BOOL_CODE_SCREEN_OPEN.__enum__=m;m.BOOL_CODE_UNLOCK=["BOOL_CODE_UNLOCK",7];m.BOOL_CODE_UNLOCK.toString=f;m.BOOL_CODE_UNLOCK.__enum__=m;m.BOOL_ALLOW_UNLOCK=["BOOL_ALLOW_UNLOCK",8];m.BOOL_ALLOW_UNLOCK.toString=f;m.BOOL_ALLOW_UNLOCK.__enum__=m;m.BOOL_LOW_QUALITY_MOBILE=["BOOL_LOW_QUALITY_MOBILE",9];m.BOOL_LOW_QUALITY_MOBILE.toString=f;m.BOOL_LOW_QUALITY_MOBILE.__enum__=
m;m.BOOL_JSEMBED_EXISTS=["BOOL_JSEMBED_EXISTS",10];m.BOOL_JSEMBED_EXISTS.toString=f;m.BOOL_JSEMBED_EXISTS.__enum__=m;m.BOOL_FONTS_LOADED=["BOOL_FONTS_LOADED",11];m.BOOL_FONTS_LOADED.toString=f;m.BOOL_FONTS_LOADED.__enum__=m;m.BOOL_FAKE_PROGRESS=["BOOL_FAKE_PROGRESS",12];m.BOOL_FAKE_PROGRESS.toString=f;m.BOOL_FAKE_PROGRESS.__enum__=m;m.INT_HEALTH=["INT_HEALTH",13];m.INT_HEALTH.toString=f;m.INT_HEALTH.__enum__=m;m.INT_LIVES=["INT_LIVES",14];m.INT_LIVES.toString=f;m.INT_LIVES.__enum__=m;m.INT_SCORE=
["INT_SCORE",15];m.INT_SCORE.toString=f;m.INT_SCORE.__enum__=m;m.INT_LOADING_SCORE=["INT_LOADING_SCORE",16];m.INT_LOADING_SCORE.toString=f;m.INT_LOADING_SCORE.__enum__=m;m.INT_ACHIEVEMENT_SCORE=["INT_ACHIEVEMENT_SCORE",17];m.INT_ACHIEVEMENT_SCORE.toString=f;m.INT_ACHIEVEMENT_SCORE.__enum__=m;m.INT_CURRENCY=["INT_CURRENCY",18];m.INT_CURRENCY.toString=f;m.INT_CURRENCY.__enum__=m;m.INT_LEVEL=["INT_LEVEL",19];m.INT_LEVEL.toString=f;m.INT_LEVEL.__enum__=m;m.INT_UNIQUE_INC=["INT_UNIQUE_INC",20];m.INT_UNIQUE_INC.toString=
f;m.INT_UNIQUE_INC.__enum__=m;m.INT_QUALITY=["INT_QUALITY",21];m.INT_QUALITY.toString=f;m.INT_QUALITY.__enum__=m;m.INT_LOADING_PROGRESS=["INT_LOADING_PROGRESS",22];m.INT_LOADING_PROGRESS.toString=f;m.INT_LOADING_PROGRESS.__enum__=m;m.INT_QUIZ=["INT_QUIZ",23];m.INT_QUIZ.toString=f;m.INT_QUIZ.__enum__=m;m.INT_RESULT_RIGHT=["INT_RESULT_RIGHT",24];m.INT_RESULT_RIGHT.toString=f;m.INT_RESULT_RIGHT.__enum__=m;m.INT_RESULT_WRONG=["INT_RESULT_WRONG",25];m.INT_RESULT_WRONG.toString=f;m.INT_RESULT_WRONG.__enum__=
m;m.INT_RESULT_QUESTION=["INT_RESULT_QUESTION",26];m.INT_RESULT_QUESTION.toString=f;m.INT_RESULT_QUESTION.__enum__=m;m.STRING_UNLOCK_CODE=["STRING_UNLOCK_CODE",27];m.STRING_UNLOCK_CODE.toString=f;m.STRING_UNLOCK_CODE.__enum__=m;m.STRING_LEVEL_ID=["STRING_LEVEL_ID",28];m.STRING_LEVEL_ID.toString=f;m.STRING_LEVEL_ID.__enum__=m;m.STRING_SCALE_TYPE=["STRING_SCALE_TYPE",29];m.STRING_SCALE_TYPE.toString=f;m.STRING_SCALE_TYPE.__enum__=m;m.STRING_REGION_ID=["STRING_REGION_ID",30];m.STRING_REGION_ID.toString=
f;m.STRING_REGION_ID.__enum__=m;m.STRING_DEBUG_TEXT=["STRING_DEBUG_TEXT",31];m.STRING_DEBUG_TEXT.toString=f;m.STRING_DEBUG_TEXT.__enum__=m;m.STRING_RESULT_GRADE=["STRING_RESULT_GRADE",32];m.STRING_RESULT_GRADE.toString=f;m.STRING_RESULT_GRADE.__enum__=m;m.STRING_RESULT_TIME=["STRING_RESULT_TIME",33];m.STRING_RESULT_TIME.toString=f;m.STRING_RESULT_TIME.__enum__=m;m.STRING_RESULT_SCORE=["STRING_RESULT_SCORE",34];m.STRING_RESULT_SCORE.toString=f;m.STRING_RESULT_SCORE.__enum__=m;m.FLOAT_AD_BAR_HEIGHT=
["FLOAT_AD_BAR_HEIGHT",35];m.FLOAT_AD_BAR_HEIGHT.toString=f;m.FLOAT_AD_BAR_HEIGHT.__enum__=m;m.__empty_constructs__=[m.BOOL_GAME_LOSE,m.BOOL_GAME_WIN,m.BOOL_LEVEL_LOSE,m.BOOL_LEVEL_WIN,m.BOOL_PAUSED,m.BOOL_TOUCH_DEVICE,m.BOOL_CODE_SCREEN_OPEN,m.BOOL_CODE_UNLOCK,m.BOOL_ALLOW_UNLOCK,m.BOOL_LOW_QUALITY_MOBILE,m.BOOL_JSEMBED_EXISTS,m.BOOL_FONTS_LOADED,m.BOOL_FAKE_PROGRESS,m.INT_HEALTH,m.INT_LIVES,m.INT_SCORE,m.INT_LOADING_SCORE,m.INT_ACHIEVEMENT_SCORE,m.INT_CURRENCY,m.INT_LEVEL,m.INT_UNIQUE_INC,m.INT_QUALITY,
m.INT_LOADING_PROGRESS,m.INT_QUIZ,m.INT_RESULT_RIGHT,m.INT_RESULT_WRONG,m.INT_RESULT_QUESTION,m.STRING_UNLOCK_CODE,m.STRING_LEVEL_ID,m.STRING_SCALE_TYPE,m.STRING_REGION_ID,m.STRING_DEBUG_TEXT,m.STRING_RESULT_GRADE,m.STRING_RESULT_TIME,m.STRING_RESULT_SCORE,m.FLOAT_AD_BAR_HEIGHT];var o=function(){};i["com.workinman.cloud.ConstantsApp"]=o;o.__name__=["com","workinman","cloud","ConstantsApp"];o.__properties__={get_CANVAS_TOP:"get_CANVAS_TOP",get_CANVAS_HEIGHT_HALF:"get_CANVAS_HEIGHT_HALF",get_CANVAS_CENTER_Y:"get_CANVAS_CENTER_Y",
get_CANVAS_CENTER_X:"get_CANVAS_CENTER_X",get_CANVAS_HEIGHT:"get_CANVAS_HEIGHT",get_CANVAS_HEIGHT_REAL:"get_CANVAS_HEIGHT_REAL",get_CANVAS_WIDTH:"get_CANVAS_WIDTH",get_CANVAS_LEFT:"get_CANVAS_LEFT",get_isCocoon:"get_isCocoon"};o.dispatchFlowEvent=function(a){o._flowDelegate(a)};o.setFlowDelegate=function(a){o._flowDelegate=a};o.get_isCocoon=function(){0>o._isCocoon&&(o._isCocoon=window.CocoonJS?1:0);return 1==o._isCocoon};o.allAudioSupported=function(){return o.get_isCocoon()?!0:W.get_supported()&&
!(0<=window.navigator.userAgent.indexOf("Android"))};o.get_CANVAS_LEFT=function(){return-o._canvasOrigin};o.get_CANVAS_WIDTH=function(){return o._canvasWidth};o.get_CANVAS_HEIGHT_REAL=function(){return o._canvasHeight};o.get_CANVAS_HEIGHT=function(){return o._canvasHeight-k.get_instance().getFloat(m.FLOAT_AD_BAR_HEIGHT)};o.get_CANVAS_CENTER_X=function(){return o.get_CANVAS_WIDTH()/2};o.get_CANVAS_CENTER_Y=function(){return o.get_CANVAS_HEIGHT()/2+k.get_instance().getFloat(m.FLOAT_AD_BAR_HEIGHT)};
o.get_CANVAS_HEIGHT_HALF=function(){return o.get_CANVAS_HEIGHT()/2};o.get_CANVAS_TOP=function(){return k.get_instance().getFloat(m.FLOAT_AD_BAR_HEIGHT)};o.setCanvasVars=function(a,b,c){o._canvasOrigin=c;o._canvasWidth=a;o._canvasHeight=b};o.shuffleArray=function(a){for(var b,c,e=a.length;0<=--e;)c=Math.floor(Math.random()*(e+1)),b=a[c],a[c]=a[e],a[e]=b;return a};var n=i["com.workinman.cloud.EVENT"]={__ename__:["com","workinman","cloud","EVENT"],__constructs__:"GAME_OVER,PAUSE,UNPAUSE,MUTE_TOGGLE,RESIZE_CANVAS,UPDATE_DISPLAY,TWEENS_ALL_COMPLETE,TWEEN_CURRENT_COMPLETE,INITIAL_LOAD_COMPLETE,WORLD_GENERATION_COMPLETE,FILES_LOADING,FILES_ERROR,FILE_RESULT,ALL_POOLS_FULL,VO_PAUSED,VO_ENDED,VO_STARTED,INPUT_ARBITRARY_KEY,INPUT_FIELD_ENTER,ITEM_SELECT,BUTTON_CLICK,BUTTON_OVER,BUTTON_OUT,BUTTON_UP,BUTTON_DOWN,BUTTON_DRAG,BUTTON_DROP,BUTTON_CANCEL_DRAG,DIALOGUE_LINE_COMPLETE,DIALOGUE_QUEUE_COMPLETE,TUTORIAL_SWIPE,TUTORIAL_CLICK_LOCATION,ADD_AD_BAR,PREVIEW_QUESTION,PREVIEW_RESULT".split(",")};
n.GAME_OVER=["GAME_OVER",0];n.GAME_OVER.toString=f;n.GAME_OVER.__enum__=n;n.PAUSE=["PAUSE",1];n.PAUSE.toString=f;n.PAUSE.__enum__=n;n.UNPAUSE=["UNPAUSE",2];n.UNPAUSE.toString=f;n.UNPAUSE.__enum__=n;n.MUTE_TOGGLE=["MUTE_TOGGLE",3];n.MUTE_TOGGLE.toString=f;n.MUTE_TOGGLE.__enum__=n;n.RESIZE_CANVAS=["RESIZE_CANVAS",4];n.RESIZE_CANVAS.toString=f;n.RESIZE_CANVAS.__enum__=n;n.UPDATE_DISPLAY=["UPDATE_DISPLAY",5];n.UPDATE_DISPLAY.toString=f;n.UPDATE_DISPLAY.__enum__=n;n.TWEENS_ALL_COMPLETE=["TWEENS_ALL_COMPLETE",
6];n.TWEENS_ALL_COMPLETE.toString=f;n.TWEENS_ALL_COMPLETE.__enum__=n;n.TWEEN_CURRENT_COMPLETE=["TWEEN_CURRENT_COMPLETE",7];n.TWEEN_CURRENT_COMPLETE.toString=f;n.TWEEN_CURRENT_COMPLETE.__enum__=n;n.INITIAL_LOAD_COMPLETE=["INITIAL_LOAD_COMPLETE",8];n.INITIAL_LOAD_COMPLETE.toString=f;n.INITIAL_LOAD_COMPLETE.__enum__=n;n.WORLD_GENERATION_COMPLETE=["WORLD_GENERATION_COMPLETE",9];n.WORLD_GENERATION_COMPLETE.toString=f;n.WORLD_GENERATION_COMPLETE.__enum__=n;n.FILES_LOADING=["FILES_LOADING",10];n.FILES_LOADING.toString=
f;n.FILES_LOADING.__enum__=n;n.FILES_ERROR=["FILES_ERROR",11];n.FILES_ERROR.toString=f;n.FILES_ERROR.__enum__=n;n.FILE_RESULT=["FILE_RESULT",12];n.FILE_RESULT.toString=f;n.FILE_RESULT.__enum__=n;n.ALL_POOLS_FULL=["ALL_POOLS_FULL",13];n.ALL_POOLS_FULL.toString=f;n.ALL_POOLS_FULL.__enum__=n;n.VO_PAUSED=["VO_PAUSED",14];n.VO_PAUSED.toString=f;n.VO_PAUSED.__enum__=n;n.VO_ENDED=["VO_ENDED",15];n.VO_ENDED.toString=f;n.VO_ENDED.__enum__=n;n.VO_STARTED=["VO_STARTED",16];n.VO_STARTED.toString=f;n.VO_STARTED.__enum__=
n;n.INPUT_ARBITRARY_KEY=["INPUT_ARBITRARY_KEY",17];n.INPUT_ARBITRARY_KEY.toString=f;n.INPUT_ARBITRARY_KEY.__enum__=n;n.INPUT_FIELD_ENTER=["INPUT_FIELD_ENTER",18];n.INPUT_FIELD_ENTER.toString=f;n.INPUT_FIELD_ENTER.__enum__=n;n.ITEM_SELECT=["ITEM_SELECT",19];n.ITEM_SELECT.toString=f;n.ITEM_SELECT.__enum__=n;n.BUTTON_CLICK=["BUTTON_CLICK",20];n.BUTTON_CLICK.toString=f;n.BUTTON_CLICK.__enum__=n;n.BUTTON_OVER=["BUTTON_OVER",21];n.BUTTON_OVER.toString=f;n.BUTTON_OVER.__enum__=n;n.BUTTON_OUT=["BUTTON_OUT",
22];n.BUTTON_OUT.toString=f;n.BUTTON_OUT.__enum__=n;n.BUTTON_UP=["BUTTON_UP",23];n.BUTTON_UP.toString=f;n.BUTTON_UP.__enum__=n;n.BUTTON_DOWN=["BUTTON_DOWN",24];n.BUTTON_DOWN.toString=f;n.BUTTON_DOWN.__enum__=n;n.BUTTON_DRAG=["BUTTON_DRAG",25];n.BUTTON_DRAG.toString=f;n.BUTTON_DRAG.__enum__=n;n.BUTTON_DROP=["BUTTON_DROP",26];n.BUTTON_DROP.toString=f;n.BUTTON_DROP.__enum__=n;n.BUTTON_CANCEL_DRAG=["BUTTON_CANCEL_DRAG",27];n.BUTTON_CANCEL_DRAG.toString=f;n.BUTTON_CANCEL_DRAG.__enum__=n;n.DIALOGUE_LINE_COMPLETE=
["DIALOGUE_LINE_COMPLETE",28];n.DIALOGUE_LINE_COMPLETE.toString=f;n.DIALOGUE_LINE_COMPLETE.__enum__=n;n.DIALOGUE_QUEUE_COMPLETE=["DIALOGUE_QUEUE_COMPLETE",29];n.DIALOGUE_QUEUE_COMPLETE.toString=f;n.DIALOGUE_QUEUE_COMPLETE.__enum__=n;n.TUTORIAL_SWIPE=["TUTORIAL_SWIPE",30];n.TUTORIAL_SWIPE.toString=f;n.TUTORIAL_SWIPE.__enum__=n;n.TUTORIAL_CLICK_LOCATION=["TUTORIAL_CLICK_LOCATION",31];n.TUTORIAL_CLICK_LOCATION.toString=f;n.TUTORIAL_CLICK_LOCATION.__enum__=n;n.ADD_AD_BAR=["ADD_AD_BAR",32];n.ADD_AD_BAR.toString=
f;n.ADD_AD_BAR.__enum__=n;n.PREVIEW_QUESTION=["PREVIEW_QUESTION",33];n.PREVIEW_QUESTION.toString=f;n.PREVIEW_QUESTION.__enum__=n;n.PREVIEW_RESULT=["PREVIEW_RESULT",34];n.PREVIEW_RESULT.toString=f;n.PREVIEW_RESULT.__enum__=n;n.__empty_constructs__=[n.GAME_OVER,n.PAUSE,n.UNPAUSE,n.MUTE_TOGGLE,n.RESIZE_CANVAS,n.UPDATE_DISPLAY,n.TWEENS_ALL_COMPLETE,n.TWEEN_CURRENT_COMPLETE,n.INITIAL_LOAD_COMPLETE,n.WORLD_GENERATION_COMPLETE,n.FILES_LOADING,n.FILES_ERROR,n.FILE_RESULT,n.ALL_POOLS_FULL,n.VO_PAUSED,n.VO_ENDED,
n.VO_STARTED,n.INPUT_ARBITRARY_KEY,n.INPUT_FIELD_ENTER,n.ITEM_SELECT,n.BUTTON_CLICK,n.BUTTON_OVER,n.BUTTON_OUT,n.BUTTON_UP,n.BUTTON_DOWN,n.BUTTON_DRAG,n.BUTTON_DROP,n.BUTTON_CANCEL_DRAG,n.DIALOGUE_LINE_COMPLETE,n.DIALOGUE_QUEUE_COMPLETE,n.TUTORIAL_SWIPE,n.TUTORIAL_CLICK_LOCATION,n.ADD_AD_BAR,n.PREVIEW_QUESTION,n.PREVIEW_RESULT];var U=i["com.workinman.cloud.LAYER"]={__ename__:["com","workinman","cloud","LAYER"],__constructs__:["z__MAINUI","BG","WORLD","FOREGROUND"]};U.z__MAINUI=["z__MAINUI",0];U.z__MAINUI.toString=
f;U.z__MAINUI.__enum__=U;U.BG=["BG",1];U.BG.toString=f;U.BG.__enum__=U;U.WORLD=["WORLD",2];U.WORLD.toString=f;U.WORLD.__enum__=U;U.FOREGROUND=["FOREGROUND",3];U.FOREGROUND.toString=f;U.FOREGROUND.__enum__=U;U.__empty_constructs__=[U.z__MAINUI,U.BG,U.WORLD,U.FOREGROUND];var k=function(){this._TIMER_STACK=0.1;this._values=new Ha;this._defaults=new Ha};i["com.workinman.cloud.WMCloud"]=k;k.__name__=["com","workinman","cloud","WMCloud"];k.__properties__={get_instance:"get_instance"};k.get_instance=function(){null==
k.__instance&&(k.__instance=new k,k.__instance.init());return k.__instance};k.prototype={init:function(){this._dispatcher=Ya.request();this._input=new ud;this._assets=new vd;this._sound=new wd;this._random=new xd;this._localize=new yd;this._achievements=new zd;this._dialogue=new Ad;this._stack=[];this._timerStack=-1;this._flagStackPaused=!1;this.setString(m.STRING_REGION_ID,"en")},get_dispatcher:function(){return this._dispatcher},get_input:function(){return this._input},get_assets:function(){return this._assets},
get_sound:function(){return this._sound},get_random:function(){return this._random},get_localize:function(){return this._localize},get_achievements:function(){return this._achievements},get_dialogue:function(){return this._dialogue},setBool:function(a,b){this.setValue(a,b)},getBool:function(a){return this._values.get(a)},setFloat:function(a,b){this.setValue(a,b)},getFloat:function(a){return this._values.get(a)},setInt:function(a,b){this.setValue(a,b)},modifyInt:function(a,b){return Math.floor(this.modifyValue(a,
b))},getInt:function(a){return this._values.get(a)},setString:function(a,b){this.setValue(a,b)},getString:function(a){return this._values.get(a)},setDefault:function(a,b){this._defaults.set(a,b);this.resetValue(a)},getValue:function(a){return this._values.get(a)},setValue:function(a,b){this._values.set(a,b);!1==this._defaults.exists(a)&&this.setDefault(a,b);this._updateDisplays(a)},modifyValue:function(a,b){var c=this.getValue(a)+b;this._values.set(a,c);this._updateDisplays(a);return this.getValue(a)},
resetValue:function(a){var b=this._defaults.get(a);this._values.set(a,b);this._updateDisplays(a)},sharedObjectGetData:function(a){try{var b=jb.getLocal(a),c=b.get_data();b.dispose();return c}catch(e){return{}}},sharedObjectSetData:function(a,b){try{var c=jb.getLocal(a);c.set_data(b);c.flush();c.dispose()}catch(e){null}},_updateDisplays:function(a){this._dispatcher.dispatchEvent($.request(n.UPDATE_DISPLAY,function(){var b=new H;b.set("val",a);return b}(this)))},stack:function(a){this._timerStack=this._TIMER_STACK;
for(var b=0;b<a.length;){var c=a[b];++b;this._stack.push(c)}},update:function(a){this._updateStack(a);this._input.update(a);this._sound.update(a)},pauseStack:function(){this._flagStackPaused=!0},unpauseStack:function(){this._flagStackPaused=!1},_updateStack:function(a){1>this._stack.length||this._flagStackPaused||(this._timerStack-=a,0>this._timerStack&&(this._stack[0](),this._stack.shift(),this._timerStack=this._TIMER_STACK))},__class__:k,__properties__:{get_dialogue:"get_dialogue",get_achievements:"get_achievements",
get_localize:"get_localize",get_random:"get_random",get_sound:"get_sound",get_assets:"get_assets",get_input:"get_input",get_dispatcher:"get_dispatcher"}};var xb=function(){this._assetPaths=new Ha;this._assetPaths.set(g.font_arial_regular,"font_arial_regular");"font_arial_regular";this._assetPaths.set(g.bg_gameplay,"bg_gameplay");"bg_gameplay";this._assetPaths.set(g.ui_play_btn,"ui_play_btn");"ui_play_btn";this._assetPaths.set(g.ui_checkmark,"ui_checkmark");"ui_checkmark";this._assetPaths.set(g.test_image_red,
"test_image_red");"test_image_red";this._assetPaths.set(g.font_helvetica_regular,"font_helvetica_regular");"font_helvetica_regular";this._assetPaths.set(g.ui_confetti_3,"ui_confetti_3");"ui_confetti_3";this._assetPaths.set(g.template_circle_empty,"template_circle_empty");"template_circle_empty";this._assetPaths.set(g.ui_confetti_2,"ui_confetti_2");"ui_confetti_2";this._assetPaths.set(g.ui_strikes_bg,"ui_strikes_bg");"ui_strikes_bg";this._assetPaths.set(g.test_image_green,"test_image_green");"test_image_green";
this._assetPaths.set(g.ui_rec_empty,"ui_rec_empty");"ui_rec_empty";this._assetPaths.set(g.ui_loader_bg,"ui_loader_bg");"ui_loader_bg";this._assetPaths.set(g.ui_button_bg,"ui_button_bg");"ui_button_bg";this._assetPaths.set(g.ui_loader_top,"ui_loader_top");"ui_loader_top";this._assetPaths.set(g.temp_arrow_left,"temp_arrow_left");"temp_arrow_left";this._assetPaths.set(g.btn_close,"btn_close");"btn_close";this._assetPaths.set(g.temp_match_indicator,"temp_match_indicator");"temp_match_indicator";this._assetPaths.set(g.temp_match_answer2,
"temp_match_answer2");"temp_match_answer2";this._assetPaths.set(g.ui_firework_1,"ui_firework_1");"ui_firework_1";this._assetPaths.set(g.font_futura_medium,"font_futura_medium");"font_futura_medium";this._assetPaths.set(g.ui_soundoff,"ui_soundoff");"ui_soundoff";this._assetPaths.set(g.splash,"splash");"splash";this._assetPaths.set(g.font_helvetica_bold,"font_helvetica_bold");"font_helvetica_bold";this._assetPaths.set(g.template_circle_filled,"template_circle_filled");"template_circle_filled";this._assetPaths.set(g.ui_soundon,
"ui_soundon");"ui_soundon";this._assetPaths.set(g.ui_answer_incorrect,"ui_answer_incorrect");"ui_answer_incorrect";this._assetPaths.set(g.ui_answer_correct,"ui_answer_correct");"ui_answer_correct";this._assetPaths.set(g.ui_share_bg,"ui_share_bg");"ui_share_bg";this._assetPaths.set(g.font_arial_bold,"font_arial_bold");"font_arial_bold";this._assetPaths.set(g.ui_relatedgames_bg,"ui_relatedgames_bg");"ui_relatedgames_bg";this._assetPaths.set(g.test_image_orange,"test_image_orange");"test_image_orange";
this._assetPaths.set(g.ui_rec_checked,"ui_rec_checked");"ui_rec_checked";this._assetPaths.set(g.ui_hud_copy2,"ui_hud_copy2");"ui_hud_copy2";this._assetPaths.set(g.ui_results_description_bg,"ui_results_description_bg");"ui_results_description_bg";this._assetPaths.set(g.temp_match_box,"temp_match_box");"temp_match_box";this._assetPaths.set(g.test_result1,"test_result1");"test_result1";this._assetPaths.set(g.temp_arrow_right,"temp_arrow_right");"temp_arrow_right";this._assetPaths.set(g.ui_result_bg,
"ui_result_bg");"ui_result_bg";this._assetPaths.set(g.test_image_purple,"test_image_purple");"test_image_purple";this._assetPaths.set(g.test_image_option,"test_image_option");"test_image_option";this._assetPaths.set(g.ui_results_image,"ui_results_image");"ui_results_image";this._assetPaths.set(g.ui_strikes_x,"ui_strikes_x");"ui_strikes_x";this._assetPaths.set(g.test_q2,"test_q2");"test_q2";this._assetPaths.set(g.test_q7,"test_q7");"test_q7";this._assetPaths.set(g.test_q6,"test_q6");"test_q6";this._assetPaths.set(g.test_q5,
"test_q5");"test_q5";this._assetPaths.set(g.test_q4,"test_q4");"test_q4";this._assetPaths.set(g.test_q3,"test_q3");"test_q3";this._assetPaths.set(g.test_q1,"test_q1");"test_q1";this._assetPaths.set(g.test_image_option2,"test_image_option2");"test_image_option2";this._assetPaths.set(g.ui_results_title_bg,"ui_results_title_bg");"ui_results_title_bg";this._assetPaths.set(g.ui_confetti_1,"ui_confetti_1");"ui_confetti_1";this._assetPaths.set(g.test_q9,"test_q9");"test_q9";this._assetPaths.set(g.test_q8,
"test_q8");"test_q8";this._assetPaths.set(g.temp_match_answer1,"temp_match_answer1");"temp_match_answer1";this._assetPaths.set(g.test_image_yellow,"test_image_yellow");"test_image_yellow";this._assetPaths.set(g.debug_button,"debug_button");"debug_button";this._assetPaths.set(g.font_futura_bold,"font_futura_bold");"font_futura_bold";this._assetPaths.set(g.test_image_blue,"test_image_blue");"test_image_blue";this._assetPaths.set(g.ui_logo,"ui_logo");"ui_logo";this._xmlPaths=new Ha;this._xmlPaths.set(oa.config_loading,
"config/config_loading.xml");"config/config_loading.xml";this._xmlPaths.set(oa.translation,"translation.xml");"translation.xml";this._xmlPaths.set(oa.config,"config/config.xml");"config/config.xml";this._soundPaths=new Ha;this._soundPaths.set(fa.sfx_button_click,"audio/sfx_button_click.mp3");"audio/sfx_button_click.mp3";this._soundPaths.set(fa.silent,"audio/silent.ogg");"audio/silent.ogg";this._soundPaths.set(fa.sfx_button_over,"audio/sfx_button_over.mp3");"audio/sfx_button_over.mp3";this._soundPaths.set(fa.sfx_timertick,
"audio/sfx_timertick.ogg");"audio/sfx_timertick.ogg";this._configXmls=[];this._configXmls.push(oa.config);this._configXmls.push(oa.config_loading)};i["com.workinman.cloud.WMManifest"]=xb;xb.__name__=["com","workinman","cloud","WMManifest"];xb.stringToTexture=function(a){return Z.createEnum(g,a)};xb.stringToXml=function(a){return Z.createEnum(oa,a)};xb.stringToSound=function(a){return Z.createEnum(fa,a)};xb.prototype={getPathForTexture:function(a){return this._assetPaths.get(a)},getPathForXml:function(a){return this._xmlPaths.get(a)},
getPathForSound:function(a){return this._soundPaths.get(a)},get_config:function(){return this._configXmls},__class__:xb,__properties__:{get_config:"get_config"}};var X=i["com.workinman.cloud.input.INPUT_PHASE"]={__ename__:["com","workinman","cloud","input","INPUT_PHASE"],__constructs__:["DOWN","UP","MOVE"]};X.DOWN=["DOWN",0];X.DOWN.toString=f;X.DOWN.__enum__=X;X.UP=["UP",1];X.UP.toString=f;X.UP.__enum__=X;X.MOVE=["MOVE",2];X.MOVE.toString=f;X.MOVE.__enum__=X;X.__empty_constructs__=[X.DOWN,X.UP,X.MOVE];
var Y=i["com.workinman.cloud.input.INPUT_SWIPE"]={__ename__:["com","workinman","cloud","input","INPUT_SWIPE"],__constructs__:["NONE","LEFT","RIGHT","UP","DOWN"]};Y.NONE=["NONE",0];Y.NONE.toString=f;Y.NONE.__enum__=Y;Y.LEFT=["LEFT",1];Y.LEFT.toString=f;Y.LEFT.__enum__=Y;Y.RIGHT=["RIGHT",2];Y.RIGHT.toString=f;Y.RIGHT.__enum__=Y;Y.UP=["UP",3];Y.UP.toString=f;Y.UP.__enum__=Y;Y.DOWN=["DOWN",4];Y.DOWN.toString=f;Y.DOWN.__enum__=Y;Y.__empty_constructs__=[Y.NONE,Y.LEFT,Y.RIGHT,Y.UP,Y.DOWN];var h=i["com.workinman.cloud.input.INPUT_TYPE"]=
{__ename__:["com","workinman","cloud","input","INPUT_TYPE"],__constructs__:"CLICK,SPACE,ENTER,UP,DOWN,LEFT,RIGHT,LBRACK,RBRACK,TAB,SHIFT,CONTROL,ESC,BACKSPACE,TILDE,NUM_1,NUM_2,NUM_3,NUM_4,NUM_5,NUM_6,NUM_7,NUM_8,NUM_9,NUM_0,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,VIRTUAL_JUMP,VIRTUAL_FLASH,DB_A,DB_B,DB_C,DB_D,DB_E,DB_F".split(",")};h.CLICK=["CLICK",0];h.CLICK.toString=f;h.CLICK.__enum__=h;h.SPACE=["SPACE",1];h.SPACE.toString=f;h.SPACE.__enum__=h;h.ENTER=["ENTER",2];h.ENTER.toString=f;
h.ENTER.__enum__=h;h.UP=["UP",3];h.UP.toString=f;h.UP.__enum__=h;h.DOWN=["DOWN",4];h.DOWN.toString=f;h.DOWN.__enum__=h;h.LEFT=["LEFT",5];h.LEFT.toString=f;h.LEFT.__enum__=h;h.RIGHT=["RIGHT",6];h.RIGHT.toString=f;h.RIGHT.__enum__=h;h.LBRACK=["LBRACK",7];h.LBRACK.toString=f;h.LBRACK.__enum__=h;h.RBRACK=["RBRACK",8];h.RBRACK.toString=f;h.RBRACK.__enum__=h;h.TAB=["TAB",9];h.TAB.toString=f;h.TAB.__enum__=h;h.SHIFT=["SHIFT",10];h.SHIFT.toString=f;h.SHIFT.__enum__=h;h.CONTROL=["CONTROL",11];h.CONTROL.toString=
f;h.CONTROL.__enum__=h;h.ESC=["ESC",12];h.ESC.toString=f;h.ESC.__enum__=h;h.BACKSPACE=["BACKSPACE",13];h.BACKSPACE.toString=f;h.BACKSPACE.__enum__=h;h.TILDE=["TILDE",14];h.TILDE.toString=f;h.TILDE.__enum__=h;h.NUM_1=["NUM_1",15];h.NUM_1.toString=f;h.NUM_1.__enum__=h;h.NUM_2=["NUM_2",16];h.NUM_2.toString=f;h.NUM_2.__enum__=h;h.NUM_3=["NUM_3",17];h.NUM_3.toString=f;h.NUM_3.__enum__=h;h.NUM_4=["NUM_4",18];h.NUM_4.toString=f;h.NUM_4.__enum__=h;h.NUM_5=["NUM_5",19];h.NUM_5.toString=f;h.NUM_5.__enum__=
h;h.NUM_6=["NUM_6",20];h.NUM_6.toString=f;h.NUM_6.__enum__=h;h.NUM_7=["NUM_7",21];h.NUM_7.toString=f;h.NUM_7.__enum__=h;h.NUM_8=["NUM_8",22];h.NUM_8.toString=f;h.NUM_8.__enum__=h;h.NUM_9=["NUM_9",23];h.NUM_9.toString=f;h.NUM_9.__enum__=h;h.NUM_0=["NUM_0",24];h.NUM_0.toString=f;h.NUM_0.__enum__=h;h.A=["A",25];h.A.toString=f;h.A.__enum__=h;h.B=["B",26];h.B.toString=f;h.B.__enum__=h;h.C=["C",27];h.C.toString=f;h.C.__enum__=h;h.D=["D",28];h.D.toString=f;h.D.__enum__=h;h.E=["E",29];h.E.toString=f;h.E.__enum__=
h;h.F=["F",30];h.F.toString=f;h.F.__enum__=h;h.G=["G",31];h.G.toString=f;h.G.__enum__=h;h.H=["H",32];h.H.toString=f;h.H.__enum__=h;h.I=["I",33];h.I.toString=f;h.I.__enum__=h;h.J=["J",34];h.J.toString=f;h.J.__enum__=h;h.K=["K",35];h.K.toString=f;h.K.__enum__=h;h.L=["L",36];h.L.toString=f;h.L.__enum__=h;h.M=["M",37];h.M.toString=f;h.M.__enum__=h;h.N=["N",38];h.N.toString=f;h.N.__enum__=h;h.O=["O",39];h.O.toString=f;h.O.__enum__=h;h.P=["P",40];h.P.toString=f;h.P.__enum__=h;h.Q=["Q",41];h.Q.toString=
f;h.Q.__enum__=h;h.R=["R",42];h.R.toString=f;h.R.__enum__=h;h.S=["S",43];h.S.toString=f;h.S.__enum__=h;h.T=["T",44];h.T.toString=f;h.T.__enum__=h;h.U=["U",45];h.U.toString=f;h.U.__enum__=h;h.V=["V",46];h.V.toString=f;h.V.__enum__=h;h.W=["W",47];h.W.toString=f;h.W.__enum__=h;h.X=["X",48];h.X.toString=f;h.X.__enum__=h;h.Y=["Y",49];h.Y.toString=f;h.Y.__enum__=h;h.Z=["Z",50];h.Z.toString=f;h.Z.__enum__=h;h.VIRTUAL_JUMP=["VIRTUAL_JUMP",51];h.VIRTUAL_JUMP.toString=f;h.VIRTUAL_JUMP.__enum__=h;h.VIRTUAL_FLASH=
["VIRTUAL_FLASH",52];h.VIRTUAL_FLASH.toString=f;h.VIRTUAL_FLASH.__enum__=h;h.DB_A=["DB_A",53];h.DB_A.toString=f;h.DB_A.__enum__=h;h.DB_B=["DB_B",54];h.DB_B.toString=f;h.DB_B.__enum__=h;h.DB_C=["DB_C",55];h.DB_C.toString=f;h.DB_C.__enum__=h;h.DB_D=["DB_D",56];h.DB_D.toString=f;h.DB_D.__enum__=h;h.DB_E=["DB_E",57];h.DB_E.toString=f;h.DB_E.__enum__=h;h.DB_F=["DB_F",58];h.DB_F.toString=f;h.DB_F.__enum__=h;h.__empty_constructs__=[h.CLICK,h.SPACE,h.ENTER,h.UP,h.DOWN,h.LEFT,h.RIGHT,h.LBRACK,h.RBRACK,h.TAB,
h.SHIFT,h.CONTROL,h.ESC,h.BACKSPACE,h.TILDE,h.NUM_1,h.NUM_2,h.NUM_3,h.NUM_4,h.NUM_5,h.NUM_6,h.NUM_7,h.NUM_8,h.NUM_9,h.NUM_0,h.A,h.B,h.C,h.D,h.E,h.F,h.G,h.H,h.I,h.J,h.K,h.L,h.M,h.N,h.O,h.P,h.Q,h.R,h.S,h.T,h.U,h.V,h.W,h.X,h.Y,h.Z,h.VIRTUAL_JUMP,h.VIRTUAL_FLASH,h.DB_A,h.DB_B,h.DB_C,h.DB_D,h.DB_E,h.DB_F];var ea=i["com.workinman.cloud.screen.CHANGE_TYPE"]={__ename__:["com","workinman","cloud","screen","CHANGE_TYPE"],__constructs__:["OPEN_BEGIN","OPEN_COMPLETE","CLOSE_BEGIN","CLOSE_COMPLETE"]};ea.OPEN_BEGIN=
["OPEN_BEGIN",0];ea.OPEN_BEGIN.toString=f;ea.OPEN_BEGIN.__enum__=ea;ea.OPEN_COMPLETE=["OPEN_COMPLETE",1];ea.OPEN_COMPLETE.toString=f;ea.OPEN_COMPLETE.__enum__=ea;ea.CLOSE_BEGIN=["CLOSE_BEGIN",2];ea.CLOSE_BEGIN.toString=f;ea.CLOSE_BEGIN.__enum__=ea;ea.CLOSE_COMPLETE=["CLOSE_COMPLETE",3];ea.CLOSE_COMPLETE.toString=f;ea.CLOSE_COMPLETE.__enum__=ea;ea.__empty_constructs__=[ea.OPEN_BEGIN,ea.OPEN_COMPLETE,ea.CLOSE_BEGIN,ea.CLOSE_COMPLETE];var p=i["com.workinman.cloud.screen.FLOW"]={__ename__:["com","workinman",
"cloud","screen","FLOW"],__constructs__:"SPLASH_PLAY,SPLASH_CLICKTRAY,SPLASH_HELP,SPLASH_VIEW_SCORES,SPLASH_PRINTABLE,SELECT_SAVE,HELP_CLOSE,SHOP,SHOP_CLOSE,GAMEPLAY_MENU,GAMEPLAY_MENU_CLOSE,GAMEPLAY_MENU_HELP,GAMEPLAY_MENU_QUIT,GAMEPLAY_QUIT_YES,GAMEPLAY_QUIT_NO,END_LEVEL,END_LEVEL_NEXT,END_LEVEL_QUIT,END_SUMMARY_CONTINUE,END_GAME_PLAY_AGAIN,END_GAME_PRINTABLE,END_GAME_VIEW_SCORES,END_GAME_SUBMIT_SCORE,BRANCH_GAME_WIN,BRANCH_GAME_LOSE,BRANCH_LEVEL_WIN,BRANCH_LEVEL_LOSE,ENTER_CODE_CLOSE,ENTER_CODE_OPEN,LOAD_CLOSE,LOADING_DONE,ACHIEVEMENT_POPUP,ACHIEVEMENT_POPUP_CLOSE,ACHIEVEMENT,ACHIEVEMENT_CLOSE,DIALOGUE_POPUP,DIALOGUE_CLOSE,DEBUG_CLOSE,EDITOR_OPEN,EDITOR_CLOSE".split(",")};
p.SPLASH_PLAY=["SPLASH_PLAY",0];p.SPLASH_PLAY.toString=f;p.SPLASH_PLAY.__enum__=p;p.SPLASH_CLICKTRAY=["SPLASH_CLICKTRAY",1];p.SPLASH_CLICKTRAY.toString=f;p.SPLASH_CLICKTRAY.__enum__=p;p.SPLASH_HELP=["SPLASH_HELP",2];p.SPLASH_HELP.toString=f;p.SPLASH_HELP.__enum__=p;p.SPLASH_VIEW_SCORES=["SPLASH_VIEW_SCORES",3];p.SPLASH_VIEW_SCORES.toString=f;p.SPLASH_VIEW_SCORES.__enum__=p;p.SPLASH_PRINTABLE=["SPLASH_PRINTABLE",4];p.SPLASH_PRINTABLE.toString=f;p.SPLASH_PRINTABLE.__enum__=p;p.SELECT_SAVE=["SELECT_SAVE",
5];p.SELECT_SAVE.toString=f;p.SELECT_SAVE.__enum__=p;p.HELP_CLOSE=["HELP_CLOSE",6];p.HELP_CLOSE.toString=f;p.HELP_CLOSE.__enum__=p;p.SHOP=["SHOP",7];p.SHOP.toString=f;p.SHOP.__enum__=p;p.SHOP_CLOSE=["SHOP_CLOSE",8];p.SHOP_CLOSE.toString=f;p.SHOP_CLOSE.__enum__=p;p.GAMEPLAY_MENU=["GAMEPLAY_MENU",9];p.GAMEPLAY_MENU.toString=f;p.GAMEPLAY_MENU.__enum__=p;p.GAMEPLAY_MENU_CLOSE=["GAMEPLAY_MENU_CLOSE",10];p.GAMEPLAY_MENU_CLOSE.toString=f;p.GAMEPLAY_MENU_CLOSE.__enum__=p;p.GAMEPLAY_MENU_HELP=["GAMEPLAY_MENU_HELP",
11];p.GAMEPLAY_MENU_HELP.toString=f;p.GAMEPLAY_MENU_HELP.__enum__=p;p.GAMEPLAY_MENU_QUIT=["GAMEPLAY_MENU_QUIT",12];p.GAMEPLAY_MENU_QUIT.toString=f;p.GAMEPLAY_MENU_QUIT.__enum__=p;p.GAMEPLAY_QUIT_YES=["GAMEPLAY_QUIT_YES",13];p.GAMEPLAY_QUIT_YES.toString=f;p.GAMEPLAY_QUIT_YES.__enum__=p;p.GAMEPLAY_QUIT_NO=["GAMEPLAY_QUIT_NO",14];p.GAMEPLAY_QUIT_NO.toString=f;p.GAMEPLAY_QUIT_NO.__enum__=p;p.END_LEVEL=["END_LEVEL",15];p.END_LEVEL.toString=f;p.END_LEVEL.__enum__=p;p.END_LEVEL_NEXT=["END_LEVEL_NEXT",16];
p.END_LEVEL_NEXT.toString=f;p.END_LEVEL_NEXT.__enum__=p;p.END_LEVEL_QUIT=["END_LEVEL_QUIT",17];p.END_LEVEL_QUIT.toString=f;p.END_LEVEL_QUIT.__enum__=p;p.END_SUMMARY_CONTINUE=["END_SUMMARY_CONTINUE",18];p.END_SUMMARY_CONTINUE.toString=f;p.END_SUMMARY_CONTINUE.__enum__=p;p.END_GAME_PLAY_AGAIN=["END_GAME_PLAY_AGAIN",19];p.END_GAME_PLAY_AGAIN.toString=f;p.END_GAME_PLAY_AGAIN.__enum__=p;p.END_GAME_PRINTABLE=["END_GAME_PRINTABLE",20];p.END_GAME_PRINTABLE.toString=f;p.END_GAME_PRINTABLE.__enum__=p;p.END_GAME_VIEW_SCORES=
["END_GAME_VIEW_SCORES",21];p.END_GAME_VIEW_SCORES.toString=f;p.END_GAME_VIEW_SCORES.__enum__=p;p.END_GAME_SUBMIT_SCORE=["END_GAME_SUBMIT_SCORE",22];p.END_GAME_SUBMIT_SCORE.toString=f;p.END_GAME_SUBMIT_SCORE.__enum__=p;p.BRANCH_GAME_WIN=["BRANCH_GAME_WIN",23];p.BRANCH_GAME_WIN.toString=f;p.BRANCH_GAME_WIN.__enum__=p;p.BRANCH_GAME_LOSE=["BRANCH_GAME_LOSE",24];p.BRANCH_GAME_LOSE.toString=f;p.BRANCH_GAME_LOSE.__enum__=p;p.BRANCH_LEVEL_WIN=["BRANCH_LEVEL_WIN",25];p.BRANCH_LEVEL_WIN.toString=f;p.BRANCH_LEVEL_WIN.__enum__=
p;p.BRANCH_LEVEL_LOSE=["BRANCH_LEVEL_LOSE",26];p.BRANCH_LEVEL_LOSE.toString=f;p.BRANCH_LEVEL_LOSE.__enum__=p;p.ENTER_CODE_CLOSE=["ENTER_CODE_CLOSE",27];p.ENTER_CODE_CLOSE.toString=f;p.ENTER_CODE_CLOSE.__enum__=p;p.ENTER_CODE_OPEN=["ENTER_CODE_OPEN",28];p.ENTER_CODE_OPEN.toString=f;p.ENTER_CODE_OPEN.__enum__=p;p.LOAD_CLOSE=["LOAD_CLOSE",29];p.LOAD_CLOSE.toString=f;p.LOAD_CLOSE.__enum__=p;p.LOADING_DONE=["LOADING_DONE",30];p.LOADING_DONE.toString=f;p.LOADING_DONE.__enum__=p;p.ACHIEVEMENT_POPUP=["ACHIEVEMENT_POPUP",
31];p.ACHIEVEMENT_POPUP.toString=f;p.ACHIEVEMENT_POPUP.__enum__=p;p.ACHIEVEMENT_POPUP_CLOSE=["ACHIEVEMENT_POPUP_CLOSE",32];p.ACHIEVEMENT_POPUP_CLOSE.toString=f;p.ACHIEVEMENT_POPUP_CLOSE.__enum__=p;p.ACHIEVEMENT=["ACHIEVEMENT",33];p.ACHIEVEMENT.toString=f;p.ACHIEVEMENT.__enum__=p;p.ACHIEVEMENT_CLOSE=["ACHIEVEMENT_CLOSE",34];p.ACHIEVEMENT_CLOSE.toString=f;p.ACHIEVEMENT_CLOSE.__enum__=p;p.DIALOGUE_POPUP=["DIALOGUE_POPUP",35];p.DIALOGUE_POPUP.toString=f;p.DIALOGUE_POPUP.__enum__=p;p.DIALOGUE_CLOSE=["DIALOGUE_CLOSE",
36];p.DIALOGUE_CLOSE.toString=f;p.DIALOGUE_CLOSE.__enum__=p;p.DEBUG_CLOSE=["DEBUG_CLOSE",37];p.DEBUG_CLOSE.toString=f;p.DEBUG_CLOSE.__enum__=p;p.EDITOR_OPEN=["EDITOR_OPEN",38];p.EDITOR_OPEN.toString=f;p.EDITOR_OPEN.__enum__=p;p.EDITOR_CLOSE=["EDITOR_CLOSE",39];p.EDITOR_CLOSE.toString=f;p.EDITOR_CLOSE.__enum__=p;p.__empty_constructs__=[p.SPLASH_PLAY,p.SPLASH_CLICKTRAY,p.SPLASH_HELP,p.SPLASH_VIEW_SCORES,p.SPLASH_PRINTABLE,p.SELECT_SAVE,p.HELP_CLOSE,p.SHOP,p.SHOP_CLOSE,p.GAMEPLAY_MENU,p.GAMEPLAY_MENU_CLOSE,
p.GAMEPLAY_MENU_HELP,p.GAMEPLAY_MENU_QUIT,p.GAMEPLAY_QUIT_YES,p.GAMEPLAY_QUIT_NO,p.END_LEVEL,p.END_LEVEL_NEXT,p.END_LEVEL_QUIT,p.END_SUMMARY_CONTINUE,p.END_GAME_PLAY_AGAIN,p.END_GAME_PRINTABLE,p.END_GAME_VIEW_SCORES,p.END_GAME_SUBMIT_SCORE,p.BRANCH_GAME_WIN,p.BRANCH_GAME_LOSE,p.BRANCH_LEVEL_WIN,p.BRANCH_LEVEL_LOSE,p.ENTER_CODE_CLOSE,p.ENTER_CODE_OPEN,p.LOAD_CLOSE,p.LOADING_DONE,p.ACHIEVEMENT_POPUP,p.ACHIEVEMENT_POPUP_CLOSE,p.ACHIEVEMENT,p.ACHIEVEMENT_CLOSE,p.DIALOGUE_POPUP,p.DIALOGUE_CLOSE,p.DEBUG_CLOSE,
p.EDITOR_OPEN,p.EDITOR_CLOSE];var wa=i["com.workinman.cloud.screen.SCREEN_CONDITION"]={__ename__:["com","workinman","cloud","screen","SCREEN_CONDITION"],__constructs__:["CLOSED_ALL","CLOSED_SPECIFIC","IMMEDIATE"]};wa.CLOSED_ALL=["CLOSED_ALL",0];wa.CLOSED_ALL.toString=f;wa.CLOSED_ALL.__enum__=wa;wa.CLOSED_SPECIFIC=["CLOSED_SPECIFIC",1];wa.CLOSED_SPECIFIC.toString=f;wa.CLOSED_SPECIFIC.__enum__=wa;wa.IMMEDIATE=["IMMEDIATE",2];wa.IMMEDIATE.toString=f;wa.IMMEDIATE.__enum__=wa;wa.__empty_constructs__=[wa.CLOSED_ALL,
wa.CLOSED_SPECIFIC,wa.IMMEDIATE];var Ja=i["com.workinman.cloud.screen.SCREEN_OUTPUT"]={__ename__:["com","workinman","cloud","screen","SCREEN_OUTPUT"],__constructs__:["OPENED","CLOSED"]};Ja.OPENED=["OPENED",0];Ja.OPENED.toString=f;Ja.OPENED.__enum__=Ja;Ja.CLOSED=["CLOSED",1];Ja.CLOSED.toString=f;Ja.CLOSED.__enum__=Ja;Ja.__empty_constructs__=[Ja.OPENED,Ja.CLOSED];var r=i["com.workinman.cloud.screen.SCREEN_TYPE"]={__ename__:["com","workinman","cloud","screen","SCREEN_TYPE"],__constructs__:"SPLASH,HELP,SHOP,LOAD_LEVEL,SELECT_SAVE,GAMEPLAY_HUD,GAMEPLAY_MENU,QUIT_CONFIRM,END_LEVEL,END_GAME,END_SUMMARY,CUTSCENE_BORDERS,UNLOCK,ENTER_CODE,ACHIEVEMENTS,ACHIEVEMENT_POPUP,DIALOGUE_POPUP,DEBUG,EDITOR_LOCALIZE".split(",")};
r.SPLASH=["SPLASH",0];r.SPLASH.toString=f;r.SPLASH.__enum__=r;r.HELP=["HELP",1];r.HELP.toString=f;r.HELP.__enum__=r;r.SHOP=["SHOP",2];r.SHOP.toString=f;r.SHOP.__enum__=r;r.LOAD_LEVEL=["LOAD_LEVEL",3];r.LOAD_LEVEL.toString=f;r.LOAD_LEVEL.__enum__=r;r.SELECT_SAVE=["SELECT_SAVE",4];r.SELECT_SAVE.toString=f;r.SELECT_SAVE.__enum__=r;r.GAMEPLAY_HUD=["GAMEPLAY_HUD",5];r.GAMEPLAY_HUD.toString=f;r.GAMEPLAY_HUD.__enum__=r;r.GAMEPLAY_MENU=["GAMEPLAY_MENU",6];r.GAMEPLAY_MENU.toString=f;r.GAMEPLAY_MENU.__enum__=
r;r.QUIT_CONFIRM=["QUIT_CONFIRM",7];r.QUIT_CONFIRM.toString=f;r.QUIT_CONFIRM.__enum__=r;r.END_LEVEL=["END_LEVEL",8];r.END_LEVEL.toString=f;r.END_LEVEL.__enum__=r;r.END_GAME=["END_GAME",9];r.END_GAME.toString=f;r.END_GAME.__enum__=r;r.END_SUMMARY=["END_SUMMARY",10];r.END_SUMMARY.toString=f;r.END_SUMMARY.__enum__=r;r.CUTSCENE_BORDERS=["CUTSCENE_BORDERS",11];r.CUTSCENE_BORDERS.toString=f;r.CUTSCENE_BORDERS.__enum__=r;r.UNLOCK=["UNLOCK",12];r.UNLOCK.toString=f;r.UNLOCK.__enum__=r;r.ENTER_CODE=["ENTER_CODE",
13];r.ENTER_CODE.toString=f;r.ENTER_CODE.__enum__=r;r.ACHIEVEMENTS=["ACHIEVEMENTS",14];r.ACHIEVEMENTS.toString=f;r.ACHIEVEMENTS.__enum__=r;r.ACHIEVEMENT_POPUP=["ACHIEVEMENT_POPUP",15];r.ACHIEVEMENT_POPUP.toString=f;r.ACHIEVEMENT_POPUP.__enum__=r;r.DIALOGUE_POPUP=["DIALOGUE_POPUP",16];r.DIALOGUE_POPUP.toString=f;r.DIALOGUE_POPUP.__enum__=r;r.DEBUG=["DEBUG",17];r.DEBUG.toString=f;r.DEBUG.__enum__=r;r.EDITOR_LOCALIZE=["EDITOR_LOCALIZE",18];r.EDITOR_LOCALIZE.toString=f;r.EDITOR_LOCALIZE.__enum__=r;r.__empty_constructs__=
[r.SPLASH,r.HELP,r.SHOP,r.LOAD_LEVEL,r.SELECT_SAVE,r.GAMEPLAY_HUD,r.GAMEPLAY_MENU,r.QUIT_CONFIRM,r.END_LEVEL,r.END_GAME,r.END_SUMMARY,r.CUTSCENE_BORDERS,r.UNLOCK,r.ENTER_CODE,r.ACHIEVEMENTS,r.ACHIEVEMENT_POPUP,r.DIALOGUE_POPUP,r.DEBUG,r.EDITOR_LOCALIZE];var zd=function(){this._achievements=new H;this._flagInitted=!1};i["com.workinman.cloudutils.WMAchievementManager"]=zd;zd.__name__=["com","workinman","cloudutils","WMAchievementManager"];zd.prototype={init:function(){if(!this._flagInitted&&(this._sharedObjectId=
o.ACHIEVEMENTS_ID,"X"!=this._sharedObjectId)){this._flagInitted=!0;for(var a,b=0,c=Z.allEnums(aa);b<c.length;)a=c[b],++b,a=Pb.achievmentData(a),this.addAchievement(a.id,a.valueId,a.value,a.points);b=k.get_instance().sharedObjectGetData(this._sharedObjectId);if(0<D.fields(b).length){c=0;for(a=D.fields(b);c<a.length;){var e=a[c];++c;var j=D.field(b,e);this._achievements.get(e).achieved=j.achieved}}this._setScore();this._sharedObjectSetData();this._addEventListeners()}},addAchievement:function(a,b,c,
e,j){null==j&&(j=!1);b=new Bd(b,c,e,j);this._achievements.set(a,b);b},getAchievements:function(){for(var a=[],b=this._achievements.keys();b.hasNext();){var c=b.next();a.push(c)}return a},getLocalizationNameID:function(a){return Pb.LOCALIZATION_NAME_BASE+a},getLocalizationDescID:function(a){return Pb.LOCALIZATION_DESC_BASE+a},getPoints:function(a){return this._achievements.get(a).get_points()},getAchieved:function(a){return this._achievements.get(a).achieved},_setScore:function(){for(var a=0,b=this._achievements.iterator();b.hasNext();){var c=
b.next();c.achieved&&(a+=c.get_points())}this.points=a},_sharedObjectSetData:function(){for(var a={},b,c=this._achievements.keys();c.hasNext();){var e=c.next();b=this._achievements.get(e);D.setField(a,e,{valueId:b.get_valueId(),value:b.get_value(),points:b.get_points(),achieved:b.achieved})}k.get_instance().sharedObjectSetData(this._sharedObjectId,a)},_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(n.UPDATE_DISPLAY,t(this,this._onUpdateDisplay))},_onUpdateDisplay:function(a){for(var b,
c=this._achievements.keys();c.hasNext();){var e=c.next();b=this._achievements.get(e);var j=b.get_valueId(),d;d=a.get_data().get("val");j==d&&!b.achieved&&k.get_instance().getValue(b.get_valueId())>=b.get_value()&&(b.achieved=!0,this._sharedObjectSetData(),this._setScore(),this.lastAchievedId=e,o.dispatchFlowEvent(p.ACHIEVEMENT_POPUP))}},__class__:zd};var Bd=function(a,b,c,e){this._valueId=a;this._value=b;this._points=c;this.achieved=e};i["com.workinman.cloudutils._WMAchievementManager.AchievementDef"]=
Bd;Bd.__name__=["com","workinman","cloudutils","_WMAchievementManager","AchievementDef"];Bd.prototype={get_valueId:function(){return this._valueId},get_value:function(){return this._value},get_points:function(){return this._points},__class__:Bd,__properties__:{get_points:"get_points",get_value:"get_value",get_valueId:"get_valueId"}};var vd=function(){this.ID_MANIFEST_INDIVIDUAL="WMManifestIndividual";this._baseUrl="";this._assets=new H;this._flump=new H;this._packs=new H;this._chunks=new H;this._manifests=
new H;this._sheets=new H;this._assetMap=new H;this._flagBaseIsCrossdomain=!1;this._manifestsLoaded=this._manifestsMax=0;this._isLoading=!1;this._loadingProgress=this._loadingTotal=0;this._loadingCallback=null;this._loadingPackProgress=new H;this._fontCache=new H;this._manifest=new xb;this._requests=[];this._gif=new H};i["com.workinman.cloudutils.WMAssetManager"]=vd;vd.__name__=["com","workinman","cloudutils","WMAssetManager"];vd.prototype={get_baseUrl:function(){return this._baseUrl},set_baseUrl:function(a){return this._baseUrl=
a},setCrossdomainBaseUrl:function(a){this._flagBaseIsCrossdomain=!0;this.set_baseUrl(a)},addChunk:function(a,b){var c=this._parseChunk(a,b);this._chunks.set(a,c)},isChunkLoaded:function(a){if(!1==this._chunks.exists(a))return!1;for(var b=0,a=this._chunks.get(a).get_packIds();b<a.length;){var c=a[b];++b;if(!1==this.isPackLoaded(c))return!1}return!0},_addChunkToPackList:function(a,b,c){if(!1!=this._chunks.exists(a)){null==c&&(c=[a]);for(var e=0,j=this._chunks.get(a).get_chunkIds();e<j.length;){var d=
j[e];++e;!1==this._arrayContainsChunk(c,d)&&(c.push(d),this._addChunkToPackList(d,b,c))}c=0;for(a=this._chunks.get(a).get_packIds();c<a.length;)e=a[c],++c,ha.addStringToArrayWithoutDuplicates(e,b)}},_arrayContainsChunk:function(a,b){for(var c=0;c<a.length;){var e=a[c];++c;if(e==b)return!0}return!1},_parseChunk:function(a,b){for(var c=[],e=[],j=b.nodes.resolve("chunk").iterator();j.hasNext();){var d=j.next();c.push(d.get_innerData().toString())}for(j=b.nodes.resolve("pack").iterator();j.hasNext();)d=
j.next(),e.push(d.get_innerData().toString());return new Cd(a,e,c)},unload:function(a,b,c){if(null!=a)for(var e=0;e<a.length;){var j=a[e];++e;this.disposeChunk(j)}if(null!=b)for(a=0;a<b.length;)e=b[a],++a,this.disposePack(e);if(null!=c)for(b=0;b<c.length;)a=c[b],++b,this.disposePack(a)},load:function(a,b,c,e,j){null==j&&(j=0);var d=this;if(this._isLoading)throw"[WMAssetManager](load) Multiple loads happening at once. Combine these loads.";if(null==a)throw"[WMAssetManager](load) Callback is null!";
null==b&&(b=[]);null==c&&(c=[]);null==e&&(e=[]);for(var f=!0,g=0;g<b.length;){var h=b[g];++g;!1==this.isChunkLoaded(h)&&(f=!1)}for(g=0;g<c.length;)h=c[g],++g,!1==this.isPackLoaded(h)&&(f=!1);0<e.length&&(f=!1);if(f)c=e=b=null,a();else if(!1==this.isLoading()&&k.get_instance().setInt(m.INT_LOADING_PROGRESS,0),0<j)ub.delay(function(){d.load(a,b,c,e,0)},j);else{this._isLoading=!0;this._loadingCallback=a;k.get_instance().setBool(m.BOOL_FAKE_PROGRESS,0<e.length);for(j=0;j<b.length;)f=b[j],++j,this._addChunkToPackList(f,
c,null);ha.removeDuplicatesFromStringArray(c);for(j=0;j<c.length;)f=c[j],++j,!1==this.isPackLoaded(f)&&this._manifestsMax++;for(j=0;j<e.length;)++j,this._manifestsMax++;for(j=0;j<c.length;)f=c[j],++j,!1==this.isPackLoaded(f)&&this._loadPack(f);f="";for(j=0;j<e.length;)f=e[j],++j,f=""==f?this.ID_MANIFEST_INDIVIDUAL:f,!1==this._manifests.exists(f)?this._manifestsMax--:this._loadManifest(this._manifests.get(f),f);this._manifestsLoaded>=this._manifestsMax&&this._onAllLoadComplete();e=c=b=f=null}},_loadPack:function(a){var b=
Xa.fromAssets(a);""!=this._baseUrl&&(this._flagBaseIsCrossdomain?b.set_remoteBase(this._baseUrl):b.set_localBase(this._baseUrl));this._loadManifest(b,a)},_loadManifest:function(a,b){var c=this,e=z.get_instance().loadAssetPack(a);this._loadingTotal+=e._total;this._loadingPackProgress.set(b,0);e.error.connect(t(this,this._loadingError));e.progressChanged.connect(function(){var a=e._progress-c._loadingPackProgress.get(b);c._loadingPackProgress.set(b,e._progress);c._loadingProgress+=a;var d=Math.round(100*
(c._loadingProgress/c._loadingTotal));k.get_instance().get_dispatcher().dispatchEvent($.request(n.FILES_LOADING,function(){var a=new H;a.set("val",d);return a}(this)))});this._requests.push(e.get(function(a){a=new Dd(a);c._addPack(a);c._packs.set(b,a);c._manifestsLoaded+=1;c._manifestsLoaded>=c._manifestsMax&&c._onAllLoadComplete()}))},_loadingError:function(a){k.get_instance().modifyValue(m.STRING_DEBUG_TEXT,"\n[WMAssetManager](_onLoadingError) Loading failed with error: "+a);k.get_instance().get_dispatcher().dispatchEvent($.request(n.FILES_ERROR,
function(b){var c=new H;c.set("error",a);c.set("callback",b._loadingCallback);return c}(this)))},skipFile:function(){this._manifestsLoaded++;this._manifestsLoaded>=this._manifestsMax&&this._onAllLoadComplete()},disposeChunk:function(a){if(this.isChunkLoaded(a)){for(var b=0,c=this._chunks.get(a).get_chunkIds();b<c.length;){var e=c[b];++b;this.disposeChunk(e)}b=0;for(a=this._chunks.get(a).get_packIds();b<a.length;)c=a[b],++b,this.disposePack(c);null}},disposePack:function(a){if(this.isPackLoaded(a)){for(var b=
this._packs.get(a).get_pack().get_manifest().iterator();b.hasNext();){var c=b.next();this._assets.exists(c.name)&&this._assets.get(c.name).dispose()}b=0;for(c=this._packs.get(a).get_flumps();b<c.length;){var e=c[b];++b;this._flump.get(e).dispose();this._flump.remove(e)}b=0;for(c=this._packs.get(a).get_gifs();b<c.length;)e=c[b],++b,this._gif.get(e).dispose(),this._gif.remove(e);this._purgeCache(this._packs.get(a).get_purgeAssets());this._packs.get(a).dispose();this._packs.remove(a)}null},addFile:function(a,
b,c,e){null==e&&(e="");null==c&&(c="");null==b&&(b="");c=""==c?this.ID_MANIFEST_INDIVIDUAL:c;if(!this._manifests.exists(c)){var j=new Xa;this._manifests.set(c,j)}j=null;if("webp"==e)j=w.WEBP;else if("jxr"==e)j=w.JXR;else if("png"==e)j=w.PNG;else if("jpg"==e)j=w.JPG;else if("gif"==e)j=w.GIF;else if("dds"==e)j=w.DDS;else if("pvr"==e)j=w.PVR;else if("pkm"==e)j=w.PKM;else if("mp3"==e)j=w.MP3;else if("m4a"==e)j=w.M4A;else if("opus"==e)j=w.OPUS;else if("ogg"==e)j=w.OGG;else if("wav"==e)j=w.WAV;else if("data"==
e)j=w.Data;else if(""!=e)throw"[WMAssetManager](addFile) Error: Invalid asset type of "+e;""==e?this._manifests.get(c).add(""==b?a:b,a):this._manifests.get(c).add(""==b?a:b,a,0,j)},isPackLoaded:function(a){return this._packs.exists(a)},_addPack:function(a){for(var b=null,c="",e=c="",j=a.get_pack().get_manifest().iterator();j.hasNext();){e=j.next();new Ed(e.name,e.format,this._assets,a);b=e.name.split("/");c=b[b.length-1];e.format==w.GIF&&(b=new Fd(a.get_pack(),c),this._gif.set(c,b),a.get_gifs().push(c));
for(var b=e.name.split("/"),c=b[b.length-1],e="",d=0,f=b.length-1;d<f;){var g=d++;""!=e&&(e+="/");e+=b[g]}"library.json"==c&&(d=new Gd(a.get_pack(),b[b.length-2]),this._flump.set(b[b.length-2],d),a.get_flumps().push(b[b.length-2]));b=c.split(".");c=b[b.length-1];"plist"==c&&this._parseSpritesheet(0<e.length?e+"/"+b[0]:b[0],a)}},isLoading:function(){return this._manifestsLoaded<this._manifestsMax},_onAllLoadComplete:function(){this._isLoading=!1;if(null!=this._loadingCallback){var a=this._loadingCallback;
this._loadingCallback=null;a()}for(;0<this._requests.length;)this._requests.pop();k.get_instance().setBool(m.BOOL_FAKE_PROGRESS,!1);k.get_instance().setInt(m.INT_LOADING_PROGRESS,100)},_parseSpritesheet:function(a,b){for(var c=this.getFile(a+".plist"),e="",j=null,d=ha.parsePropertyList(this.getFile(a+".plist").toString()).frames,f=D.fields(d),g=j=null,h=null,j=null,i=0;i<f.length;)e=f[i],++i,j=D.field(d,e),e=ha.removeExtension(e),g=this._splitTextureBrackets(j.sourceColorRect),h=this._splitTextureBrackets(j.sourceSize),
j=this._splitTextureBrackets(j.frame),j=La.requestSubTexture(null,y.parseInt(g[0]),y.parseInt(g[1]),y.parseInt(h[0]),y.parseInt(h[1]),y.parseInt(j[0]),y.parseInt(j[1]),y.parseInt(j[2]),y.parseInt(j[3])),g=null,this._addSpritesheet(e,a,j,b),-1<e.indexOf("/")&&(g=e.split("/"),this._addSpritesheet(g[g.length-1],a,j,b));c.dispose()},_splitTextureBrackets:function(a){for(var b=a.length;0<b--;)if("{"==a.charAt(b)||"}"==a.charAt(b))a=a.substring(0,b)+a.substring(b+1,a.length);return a.split(",")},_addSpritesheet:function(a,
b,c,e){this._sheets.exists(a)&&this._sheets.get(a).dispose();b=new Hd(a,b,c);this._sheets.set(a,b);e.addSpriteSheet(b)},hasSpriteRect:function(a,b){null==b&&(b="");if(null==a&&(null==b||""==b))return!1;var c=b;null!=a&&(c=ha.removeExtension(this._manifest.getPathForTexture(a)));return this._hasAsset(c)},hasSound:function(a,b){null==b&&(b="");if(null==a&&(null==b||""==b))return!1;var c=b;null!=a&&(c=ha.removeExtension(this._manifest.getPathForSound(a)));return this._hasAsset(c)},hasXML:function(a,
b){null==b&&(b="");if(null==a&&(null==b||""==b))return!1;var c=b;null!=a&&(c=this._manifest.getPathForXml(a));return this._hasAsset(c)},_hasAsset:function(a){return this._sheets.exists(a)?!0:this._assets.exists(a)},hasGifLibrary:function(a){return this._gif.exists(a)},getSpriteRect:function(a,b){null==b&&(b="");if(!1==this.hasSpriteRect(a,b))return null;var c=b;null!=a&&(c=ha.removeExtension(this._manifest.getPathForTexture(a)));var e=null;if(this._sheets.exists(c))return e=this._sheets.get(c).get_rect(),
null==e.get_texture()&&e.set_texture(function(a){var b=a._sheets.get(c).get_atlas();return a._assets.get(b)}(this).get_pack().get_pack().getTexture(function(a){var b=a._sheets.get(c).get_atlas();return a._assets.get(b)}(this).get_path(),!0)),this._sheets.get(c).get_rect();if(this._assetMap.exists(c))return this._assetMap.get(c);e=La.request(this._getTexture(c));this._assetMap.set(c,e);e;this._assets.get(c).get_pack().get_purgeAssets().push(c);return e},_getTexture:function(a){return this._assets.get(a).get_pack().get_pack().getTexture(this._assets.get(a).get_path(),
!0)},_purgeCache:function(a){for(var b;0<a.length;)b=a.pop(),this._assetMap.exists(b)&&this._assetMap.remove(b)},getSound:function(a,b){null==b&&(b="");if(!1==this.hasSound(a,b))return null;var c=b;null!=a&&(c=this._manifest.getPathForSound(a));c=ha.removeExtension(c);return this._assets.get(c).get_pack().get_pack().getSound(this._assets.get(c).get_path(),!0)},getFile:function(a){return!1==this._assets.exists(a)?null:this._assets.get(a).get_pack().get_pack().getFile(this._assets.get(a).get_path(),
!0)},getXML:function(a,b){null==b&&(b="");if(!1==this.hasXML(a,b))return null;var c=b;null!=a&&(c=this._manifest.getPathForXml(a));ha.removeExtension(c);c=B.parse(this.getFile(c).toString());return new Eb(c.firstElement())},allConfig:function(a){null==a&&(a=!1);for(var b=[],c=0,e=this._manifest.get_config();c<e.length;){var d=e[c];++c;a&&null;b.push(this.getXML(d))}return b},getFont:function(a,b){null==b&&(b=!0);if(!1==this._assets.exists(a))return null;if(!1==b)return new Fb(this._assets.get(a).get_pack().get_pack(),
a);if(!1==this._fontCache.exists(a)){var c=new Fb(this._assets.get(a).get_pack().get_pack(),a);this._fontCache.set(a,c);c}return this._fontCache.get(a)},getGifLibrary:function(a){return!1==this.hasGifLibrary(a)?null:this._gif.get(a)},__class__:vd,__properties__:{set_baseUrl:"set_baseUrl",get_baseUrl:"get_baseUrl"}};var Ed=function(a,b,c,e){this._path=a;a=a.split("/");this._format=this._id=a[a.length-1];if(null!=b)switch(b[1]){case 2:this._format+=".png";break;case 3:this._format+=".jpg"}this._pack=
e;this._hash=c;this._hash.set(this._path,this);this._path!=this._id&&this._hash.set(this._id,this);this._format!=this._id&&this._hash.set(this._format,this)};i["com.workinman.cloudutils._WMAssetManager.AssetDef"]=Ed;Ed.__name__=["com","workinman","cloudutils","_WMAssetManager","AssetDef"];Ed.prototype={dispose:function(){var a=this._pack.get_pack().getTexture(ha.removeExtension(this._path),!1),b=this._pack.get_pack().getSound(ha.removeExtension(this._path),!1),c=this._pack.get_pack().getFile(this._path,
!1);null!=a?a.dispose():null!=b?b.dispose():null!=c&&c.dispose();this._hash.remove(this._path);this._path!=this._id&&this._hash.remove(this._id);this._format!=this._id&&this._hash.remove(this._format);this._pack=this._hash=this._id=this._path=null},get_path:function(){return this._path},get_pack:function(){return this._pack},__class__:Ed,__properties__:{get_pack:"get_pack",get_path:"get_path"}};var Cd=function(a,b,c){this._id=a;this._packs=b;this._chunks=c};i["com.workinman.cloudutils._WMAssetManager.ChunkDef"]=
Cd;Cd.__name__=["com","workinman","cloudutils","_WMAssetManager","ChunkDef"];Cd.prototype={get_packIds:function(){return this._packs},get_chunkIds:function(){return this._chunks},__class__:Cd,__properties__:{get_chunkIds:"get_chunkIds",get_packIds:"get_packIds"}};var Hd=function(a,b,c){this._id=a;this._rect=c;this._atlas=b};i["com.workinman.cloudutils._WMAssetManager.SpriteSheetDef"]=Hd;Hd.__name__=["com","workinman","cloudutils","_WMAssetManager","SpriteSheetDef"];Hd.prototype={dispose:function(){this._id=
null;null!=this._rect&&(this._rect.dispose(),this._rect=null);this._atlas=null},get_atlas:function(){return this._atlas},get_rect:function(){return this._rect},__class__:Hd,__properties__:{get_rect:"get_rect",get_atlas:"get_atlas"}};var Dd=function(a){this._assetPack=a;this._purgeAssets=[];this._spriteSheets=[];this._flumps=[];this._gifs=[]};i["com.workinman.cloudutils._WMAssetManager.WMAssetPack"]=Dd;Dd.__name__=["com","workinman","cloudutils","_WMAssetManager","WMAssetPack"];Dd.prototype={dispose:function(){this._assetPack.dispose();
this._assetPack=null;for(var a=0,b=this._spriteSheets;a<b.length;){var c=b[a];++a;c.dispose()}this._gifs=this._flumps=this._purgeAssets=this._spriteSheets=null},addSpriteSheet:function(a){this._spriteSheets.push(a)},get_pack:function(){return this._assetPack},get_purgeAssets:function(){return this._purgeAssets},get_flumps:function(){return this._flumps},get_gifs:function(){return this._gifs},__class__:Dd,__properties__:{get_gifs:"get_gifs",get_flumps:"get_flumps",get_purgeAssets:"get_purgeAssets",
get_pack:"get_pack"}};var Ad=function(){this._queue=[];this._dialogueDisplaying=!1;this._dialogueTracker=new H;this._currentDialogue="";this._addEventListeners()};i["com.workinman.cloudutils.WMDialogueManager"]=Ad;Ad.__name__=["com","workinman","cloudutils","WMDialogueManager"];Ad.prototype={_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(n.DIALOGUE_LINE_COMPLETE,t(this,this._onNextDialogue))},_onNextDialogue:function(){this.checkQueue()},checkQueue:function(){0<this._queue.length?
(this._dialogueDisplaying=!0,o.dispatchFlowEvent(p.DIALOGUE_POPUP)):(this._dialogueDisplaying=!1,k.get_instance().get_dispatcher().dispatchEvent($.request(n.DIALOGUE_QUEUE_COMPLETE)),this._dialogueTracker.set(this._currentDialogue,!0))},grabData:function(){return this._queue.shift()},__class__:Ad};var qe=function(){};i["com.workinman.cloudutils.DialogueDef"]=qe;qe.__name__=["com","workinman","cloudutils","DialogueDef"];qe.prototype={dispose:function(){this._endEvent=this._portrait=this._triggerEvent=
this._pointerType=this._pointerLoc=this._position=this._textRef=this._dialogueId=null},get_text:function(){return this._textRef},get_mobileToggle:function(){return this._mobileToggle},get_position:function(){return this._position},get_pointerLoc:function(){return this._pointerLoc},get_pointerType:function(){return this._pointerType},get_triggerEvent:function(){return this._triggerEvent},get_endEvent:function(){return this._endEvent},__class__:qe,__properties__:{get_endEvent:"get_endEvent",get_triggerEvent:"get_triggerEvent",
get_pointerType:"get_pointerType",get_pointerLoc:"get_pointerLoc",get_position:"get_position",get_mobileToggle:"get_mobileToggle",get_text:"get_text"}};var ud=function(){this._multiTouchAvail=!1;this._delegateListenerArray=[];this._delegateUnlockWebAudio=null;this._inputDown=new Ha;this._keyCodes=new Ha;this._virtualCodes=new Ha;this._keyDown=new H;this._virtualDown=new Ha;this._touchList=new H;this._touchRemoval=[];this.registerInput(h.CLICK);this._scale=1;this._offset=L.request();this._enabled=
!1;this._doDepthTest=!0;this._depthResult=null;this._pointer=Da.request("",0)};i["com.workinman.cloudutils.WMInput"]=ud;ud.__name__=["com","workinman","cloudutils","WMInput"];ud.prototype={setDelegateUnlockWebAudio:function(a){this._delegateUnlockWebAudio=a},addDelegateListener:function(a){for(var b=0,c=this._delegateListenerArray;b<c.length;){var e=c[b];++b;if(e==a)return}this._delegateListenerArray.push(a)},removeDelegateListener:function(a){for(var b=this._delegateListenerArray.length;0<b--;)if(this._delegateListenerArray[b]==
a){this._delegateListenerArray.splice(b,1);break}},setEnabled:function(a){this._enabled=a},_delegateDispatch:function(a,b,c,e,d,f,g){null!=this._delegateUnlockWebAudio&&a==X.UP&&(this._delegateUnlockWebAudio(),this._delegateUnlockWebAudio=null);if(!1!=this._enabled)for(var h=0,i=this._delegateListenerArray;h<i.length;){var k=i[h];++h;k(a,b,c,e,d,f,g)}},update:function(a){this._doDepthTest=!0;for(var b=this._inputDown.keys();b.hasNext();){var c=b.next();c!=h.CLICK&&(!0==this._inputDown.get(c)?!1==
this._isInputDown(c)&&(this._inputDown.set(c,!1),this._delegateDispatch(X.UP,c,0,0,0,0)):!0==this._isInputDown(c)&&(this._inputDown.set(c,!0),this._delegateDispatch(X.DOWN,c,0,0,0,0)))}this._pointer.update(a);for(b=this._touchList.iterator();b.hasNext();)c=b.next(),c.get_phase()==X.UP?this._touchRemoval.push(c.get_id()):c.update(a);for(;0<this._touchRemoval.length;)this._touchList.get(this._touchRemoval[this._touchRemoval.length-1]).dispose(),this._touchList.remove(this._touchRemoval[this._touchRemoval.length-
1]),this._touchRemoval.pop()},set_scale:function(a){this._scale=a;0==this._scale&&(this._scale=0.01);return this._scale},prime:function(){this._multiTouchAvail=z.get_instance().get_touch().get_supported();z.get_instance().get_keyboard().down.connect(t(this,this._onKeyDown));z.get_instance().get_keyboard().up.connect(t(this,this._onKeyUp));this._multiTouchAvail&&(z.get_instance().get_touch().down.connect(t(this,this._onTouchDown)),z.get_instance().get_touch().move.connect(t(this,this._onTouchMove)),
z.get_instance().get_touch().up.connect(t(this,this._onTouchUp)));z.get_instance().get_pointer().down.connect(t(this,this._onPointerDown));z.get_instance().get_pointer().move.connect(t(this,this._onPointerMove));z.get_instance().get_pointer().up.connect(t(this,this._onPointerUp))},doButtonDepthTest:function(a,b){this._doDepthTest&&(this._doDepthTest=!1,this._depthResult=C.hitTest(z.get_instance().root,a,b));return this._depthResult},registerInput:function(a,b,c){!1==this._inputDown.exists(a)&&(this._inputDown.set(a,
!1),this._keyCodes.set(a,[]),this._virtualCodes.set(a,[]));if(null!=b)for(var e=0;e<b.length;){var d=b[e];++e;this._keyCodes.get(a).push(y.string(d));this._keyDown.set(y.string(d),!1)}if(null!=c)for(b=0;b<c.length;)e=c[b],++b,this._virtualCodes.get(a).push(e),this._virtualDown.set(e,!1)},getInput:function(a){return this._inputDown.get(a)},_onKeyDown:function(a){(function(b){var c=y.string(a.key);return b._keyDown.exists(c)})(this)&&this._keyDown.set(y.string(a.key),!0);k.get_instance().get_dispatcher().dispatchEvent($.request(n.INPUT_ARBITRARY_KEY,
function(){var b=new H;b.set("key",a.key);b.set("phase",X.DOWN);return b}(this)))},_onKeyUp:function(a){(function(b){var c=y.string(a.key);return b._keyDown.exists(c)})(this)&&this._keyDown.set(y.string(a.key),!1);k.get_instance().get_dispatcher().dispatchEvent($.request(n.INPUT_ARBITRARY_KEY,function(){var b=new H;b.set("key",a.key);b.set("phase",X.UP);return b}(this)))},_isInputDown:function(a){for(var b=0,c=this._keyCodes.get(a);b<c.length;){var e=c[b];++b;if(!0==this._keyDown.get(e))return!0}b=
0;for(a=this._virtualCodes.get(a);b<a.length;)if(c=a[b],++b,!0==this._virtualDown.get(c))return!0;return!1},_sanitizeX:function(a,b,c){null==c&&(c=!0);return c&&S.get_exists()&&S.get_isPortrait()?this._sanitizeX(b,a,!1):a/this._scale+this._offset.get_x()},_sanitizeY:function(a,b,c){null==c&&(c=!0);return c&&S.get_exists()&&S.get_isPortrait()?this._sanitizeY(b,S.get_canvasHeight()*o.scaleFactor-a,!1):b/this._scale+this._offset.get_y()},_onTouchDown:function(a){this._searchIndex=0;this._searchFound=
!1;do{this._searchFound=!0;for(var b=this._touchList.iterator();b.hasNext();)if(this._searchIndex==b.next().get_index()){this._searchIndex++;this._searchFound=!1;break}}while(!1==this._searchFound);b=Da.request(null==a.id?"null":""+a.id,this._searchIndex);this._touchList.set(b.get_id(),b);b.begin(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));0<this._searchIndex&&this._delegateDispatch(X.DOWN,h.CLICK,b.get_currentPos().get_x(),b.get_currentPos().get_y(),a.viewX,a.viewY,b.get_swipe())},
_onTouchMove:function(a){var b=this._touchList.get(null==a.id?"null":""+a.id);b.move(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));0<b.get_index()&&this._delegateDispatch(X.MOVE,h.CLICK,b.get_currentPos().get_x(),b.get_currentPos().get_y(),a.viewX,a.viewY,b.get_swipe())},_onTouchUp:function(a){var b=this._touchList.get(null==a.id?"null":""+a.id);b.end(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));0<b.get_index()&&this._delegateDispatch(X.UP,h.CLICK,b.get_currentPos().get_x(),
b.get_currentPos().get_y(),a.viewX,a.viewY,b.get_swipe())},_onPointerDown:function(a){this._inputDown.set(h.CLICK,!0);this._pointer.begin(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));if(!1==this._multiTouchAvail){var b=Da.request("const",0);b.begin(this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y());this._touchList.set("const",b)}this._delegateDispatch(X.DOWN,h.CLICK,this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y(),a.viewX,
a.viewY,this._pointer.get_swipe())},_onPointerMove:function(a){this._pointer.move(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));!1==this._multiTouchAvail&&this._touchList.exists("const")&&this._touchList.get("const").move(this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y());this._delegateDispatch(X.MOVE,h.CLICK,this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y(),a.viewX,a.viewY,this._pointer.get_swipe())},_onPointerUp:function(a){this._inputDown.set(h.CLICK,
!1);this._pointer.end(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));!1==this._multiTouchAvail&&this._touchList.exists("const")&&this._touchList.get("const").end(this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y());this._delegateDispatch(X.UP,h.CLICK,this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y(),a.viewX,a.viewY,this._pointer.get_swipe())},__class__:ud,__properties__:{set_scale:"set_scale"}};var Da=function(){};i["com.workinman.cloudutils.WMPointer"]=
Da;Da.__name__=["com","workinman","cloudutils","WMPointer"];Da.__interfaces__=[Fa];Da.request=function(a,b){return ga.get_instance().requestObject("WMPointer",Da).init(a,b)};Da.__super__=A;Da.prototype=u(A.prototype,{create:function(){this._personalCamera=new Uc(0,0)},init:function(a,b){this._origin=L.request();this._current=L.request();this._last=L.request();this._delta=L.request();this._workPoint=L.request();this._motionDelta=Sa.request();this._line=Sa.request();this._deltaLine=Sa.request();this._camera=
this._personalCamera;this._resetDeltaLine=!0;this._timer=Da._DELTA_TIMEOUT;this._id=a;this._index=b;this._phase=X.UP;this._swipe=Y.NONE;this._consumed=!1;return this},dispose:function(){this._motionDelta.dispose();this._motionDelta=null;this._workPoint.dispose();this._workPoint=null;this._origin.dispose();this._origin=null;this._current.dispose();this._current=null;this._last.dispose();this._last=null;this._delta.dispose();this._delta=null;this._line.dispose();this._line=null;this._deltaLine.dispose();
this._phase=this._swipe=this._camera=this._deltaLine=null;A.prototype.dispose.call(this)},destroy:function(){this._personalCamera.dispose();this._personalCamera=null;A.prototype.destroy.call(this)},get_phase:function(){return this._phase},get_originPos:function(){return this._origin},get_currentPos:function(){return this._current},get_lastPos:function(){return this._last},get_deltaPos:function(){return this._delta},get_line:function(){return this._line},get_swipe:function(){return this._swipe},get_consumed:function(){return this._consumed},
set_consumed:function(a){return this._consumed=a},get_id:function(){return this._id},get_index:function(){return this._index},set_index:function(a){return this._index=a},get_motionDelta:function(){return this._motionDelta},get_deltaLine:function(){if(!1==this._resetDeltaLine)return this._deltaLine;this._deltaLine.endToPoint(this._current);this._resetDeltaLine=!1;return this._deltaLine},setCamera:function(a){null!=a?this._camera=a:(this._personalCamera.get_pos().to(0,0),this._camera=this._personalCamera)},
begin:function(a,b){this._origin.to(a,b);var c=this._origin;c.set_x(c.get_x()+(this._camera.get_pos().get_x()-this._camera.get_screenCenterX()));c=this._origin;c.set_y(c.get_y()+(this._camera.get_pos().get_y()-this._camera.get_screenCenterY()));this._current.toPoint(this._origin);this._last.toPoint(this._origin);this._delta.to(0,0);this._line.to(this._origin,this._current);this._deltaLine.to(this._origin,this._current);this._motionDelta.to(this._origin,this._current);this._consumed=!1;this._phase=
X.DOWN;this._swipe=Y.NONE},move:function(a,b){this._updateInfo(a,b);!1!=k.get_instance().get_input().getInput(h.CLICK)&&(this._phase=X.MOVE,this._testSwipe(),this._line.endToPoint(this._current))},end:function(a,b){this._phase=X.UP;this._updateInfo(a,b);this._testSwipe();this._line.endToPoint(this._current)},_testSwipe:function(){!1==this._consumed?(this._workPoint.to(this._origin.get_x()-this._current.get_x(),this._origin.get_y()-this._current.get_y()),this._swipe=Math.abs(this._workPoint.get_x())>=
Da._DELTA_ALLOWANCE&&Math.abs(this._workPoint.get_y())<Da._DELTA_ALLOWANCE?0<this._workPoint.get_x()?Y.LEFT:Y.RIGHT:Math.abs(this._workPoint.get_y())>=Da._DELTA_ALLOWANCE&&Math.abs(this._workPoint.get_x())<Da._DELTA_ALLOWANCE?0<this._workPoint.get_y()?Y.UP:Y.DOWN:Y.NONE):this._swipe=Y.NONE},_updateInfo:function(a,b){this._last.toPoint(this._current);this._current.to(a,b);var c=this._current;c.set_x(c.get_x()+(this._camera.get_pos().get_x()-this._camera.get_screenCenterX()));c=this._current;c.set_y(c.get_y()+
(this._camera.get_pos().get_y()-this._camera.get_screenCenterY()));this._delta.toPoint(this._current);this._delta.subtractPoint(this._last);this._deltaLine.to(this._origin,this._current);this._motionDelta.to(this._motionDelta.get_p1(),this._current)},update:function(a){this._resetDeltaLine=!0;this._timer-=a;0>this._timer&&(this._timer=Da._DELTA_TIMEOUT,this._deltaLine.originToPoint(this._current))},__class__:Da,__properties__:u(A.prototype.__properties__,{get_deltaLine:"get_deltaLine",get_motionDelta:"get_motionDelta",
set_index:"set_index",get_index:"get_index",get_id:"get_id",set_consumed:"set_consumed",get_consumed:"get_consumed",get_swipe:"get_swipe",get_line:"get_line",get_deltaPos:"get_deltaPos",get_lastPos:"get_lastPos",get_currentPos:"get_currentPos",get_originPos:"get_originPos",get_phase:"get_phase"})});var yd=function(){this._localizedData=new H;this._emptyLocalization=new ic("","","",1,0,0);this._tags=new H};i["com.workinman.cloudutils.WMLocalize"]=yd;yd.__name__=["com","workinman","cloudutils","WMLocalize"];
yd.prototype={parseLocalization:function(a){null==a&&(a=oa.translation);for(var b="",a=k.get_instance().get_assets().getXML(a).nodes.resolve("string").iterator();a.hasNext();){var c=a.next(),b=c.att.resolve("id");this._localizedData.exists(b)||(c=new ic(c.att.resolve("id"),c.get_innerData(),c.att.resolve("fontName"),y.parseFloat(c.att.resolve("fontScale")),y.parseFloat(c.att.resolve("offsetX")),y.parseFloat(c.att.resolve("offsetY"))),this._localizedData.set(b,c),c,Q.startsWith(b,"tag_")&&(c={string:this._localizedData.get(b).get_string(),
value:null},this._tags.set(b,c),c))}},getLocalizeData:function(a){return!1==this._localizedData.exists(a)?null:this._localizedData.get(a)},getString:function(a){return this.getLocalizeData(a).get_string()},replaceTags:function(a){for(var b=this._tags.keys();b.hasNext();){var c=b.next();null!=this._tags.get(c).value&&(a=Q.replace(a,this._tags.get(c).string,k.get_instance().getValue(this._tags.get(c).value)))}return a},addLocalizeData:function(a,b){this._localizedData.set(a,b);b},__class__:yd};var ic=
function(a,b,c,e,d,f){this._id=a;this._string=b;this._fontName=c;this._scale=e;this._offsetX=d;this._offsetY=f};i["com.workinman.cloudutils.WMLocalizedData"]=ic;ic.__name__=["com","workinman","cloudutils","WMLocalizedData"];ic.prototype={get_string:function(){return this._string},get_fontName:function(){return this._fontName},get_scale:function(){return this._scale},get_offsetX:function(){return this._offsetX},get_offsetY:function(){return this._offsetY},__class__:ic,__properties__:{get_offsetY:"get_offsetY",
get_offsetX:"get_offsetX",get_scale:"get_scale",get_fontName:"get_fontName",get_string:"get_string"}};var pa=i["com.workinman.cloudutils.AUDIO_PRIORITY"]={__ename__:["com","workinman","cloudutils","AUDIO_PRIORITY"],__constructs__:["MUSIC","VO","SFX"]};pa.MUSIC=["MUSIC",0];pa.MUSIC.toString=f;pa.MUSIC.__enum__=pa;pa.VO=["VO",1];pa.VO.toString=f;pa.VO.__enum__=pa;pa.SFX=["SFX",2];pa.SFX.toString=f;pa.SFX.__enum__=pa;pa.__empty_constructs__=[pa.MUSIC,pa.VO,pa.SFX];var wd=function(){this._audioPriority=
pa.MUSIC;this._musicId=null;this._musicGain=1;this._muteVo=this._muteSfx=this._muteMusic=this._muteSystem=this._muteAll=!1;this._mixer=new Id;this._tween=za.request();this._voQueue=[];this._music=null;this._sound=new H;this._vo=null;this._soundRemoval=[]};i["com.workinman.cloudutils.WMSound"]=wd;wd.__name__=["com","workinman","cloudutils","WMSound"];wd.prototype={get_muteAll:function(){return this._muteAll},set_muteAll:function(a){this._muteAll=a;this._toggleMute();return this._muteAll},_toggleMute:function(){this._getMutePriority(pa.MUSIC)?
this.stopMusic():this.playMusic(null,this._musicId,this._musicGain);this._getMutePriority(pa.SFX)&&this.stopAllSound();this._getMutePriority(pa.VO)&&this.stopVO()},_getMutePriority:function(a){if(this._muteAll||this._muteSystem)return!0;switch(a[1]){case 0:return this._muteMusic;case 2:return this._muteSfx;case 1:return this._muteVo}return!1},playMusic:function(a,b,c,e){null==e&&(e=-1);null==c&&(c=1);a=null==a?b:y.string(a);if(!(this._musicId==a&&null!=this._music)){this._musicId=a;this._musicGain=
c;if(0<e&&null!=this._music)this._tween.tween(this._music,e,{volume:0},!0,q.EASE_LINEAR).onComplete(t(this,this._onPlayMusicFadeOutComplete));else null!=this._music&&(this._music.set_doDelete(!0),this._music.dispose(),this._music=null);this._music=this._playAudio(a,c,null,!0,pa.MUSIC)}},_onPlayMusicFadeOutComplete:function(){this.playMusic(null,this._musicId,this._musicGain)},stopMusic:function(a){null==a&&(a=-1);if(0<a){if(null!=this._music)this._tween.tween(this._music,a,{volume:0},!0,q.EASE_LINEAR).onComplete(t(this,
this._onStopMusicFadeOutComplete))}else null!=this._music&&this._music.set_doDelete(!0)},_onStopMusicFadeOutComplete:function(){null!=this._music&&this._music.set_doDelete(!0)},playSound:function(a,b,c,e,d){null==d&&(d=!1);null==c&&(c=1);null==b&&(b="");a=null==a?b:y.string(a);if(this._sound.exists(a))return this._sound.get(a).playSound(c,e);c=this._playAudio(a,c,e,d,pa.SFX);if(null==c)return null;this._sound.set(a,c);return this._sound.get(a)},stopAllSound:function(){for(var a=this._sound.iterator();a.hasNext();)a.next().set_doDelete(!0)},
stopSound:function(a,b){null==b&&(b="");var c;c=null==a?b:y.string(a);this._sound.exists(c)&&this._sound.get(c).set_doDelete(!0)},playVO:function(a,b,c,e,d,f){null==f&&(f=-1);null==d&&(d=!1);null==c&&(c=1);null==b&&(b="");a=null==a?b:y.string(a);null!=this._vo&&this._vo.get_id()==a||(d&&this.stopVO(),1>this._voQueue.length&&null!=this._music&&this._tween.tween(this._music,0.15,{volume:0.25},!0,q.EASE),this._voQueue.push(Ub.request(a,c,e,f)))},stopVO:function(){for(;0<this._voQueue.length;)this._voQueue.pop().dispose();
null!=this._vo&&this._vo.set_doDelete(!0)},_playAudio:function(a,b,c,e,d){if(null==a||this._getMutePriority(d)||!1==o.allAudioSupported()&&d!=this._audioPriority)return null!=c&&c(),null;d=k.get_instance().get_assets().getSound(null,a);return null==d?(null!=c&&c(),null):Vb.request(a,this._mixer.createSound(d,4),e).playSound(b,c)},update:function(a){this._tween.update(a);for(var b=this._sound.iterator();b.hasNext();){var c=b.next();c.get_doDelete()?(this._soundRemoval.push(c.get_id()),c.dispose()):
c.update(a)}for(;0<this._soundRemoval.length;)this._sound.remove(this._soundRemoval.pop());null!=this._music&&(this._music.get_doDelete()?(this._music.dispose(),this._music=null):this._music.update(a));null==this._vo&&0<this._voQueue.length?(b=this._voQueue[0],b.set_delay(b.get_delay()-a),0>this._voQueue[0].get_delay()&&(a=this._voQueue.shift(),k.get_instance().get_dispatcher().dispatchEvent($.request(n.VO_STARTED)),this._vo=this._playAudio(a.get_id(),a.get_gain(),a.get_call(),!1,pa.VO),a.dispose())):
null!=this._vo&&(this._vo.get_doDelete()?(this._vo.dispose(),this._vo=null,1>this._voQueue.length?(k.get_instance().get_dispatcher().dispatchEvent($.request(n.VO_ENDED)),null!=this._music&&this._tween.tween(this._music,0.2,{volume:1},!0,q.EASE)):0<this._voQueue[0].get_delay()&&k.get_instance().get_dispatcher().dispatchEvent($.request(n.VO_PAUSED))):this._vo.update(a))},__class__:wd,__properties__:{set_muteAll:"set_muteAll",get_muteAll:"get_muteAll"}};var Ub=function(){};i["com.workinman.cloudutils.VOQueue"]=
Ub;Ub.__name__=["com","workinman","cloudutils","VOQueue"];Ub.request=function(a,b,c,e){return ga.get_instance().requestObject("VOQueue",Ub).init(a,b,c,e)};Ub.__super__=A;Ub.prototype=u(A.prototype,{init:function(a,b,c,e){this._id=a;this._callback=c;this._delay=e;this._gain=b;return this},get_id:function(){return this._id},get_gain:function(){return this._gain},get_call:function(){return this._callback},get_delay:function(){return this._delay},set_delay:function(a){return this._delay=a},__class__:Ub,
__properties__:u(A.prototype.__properties__,{set_delay:"set_delay",get_delay:"get_delay",get_call:"get_call",get_gain:"get_gain",get_id:"get_id"})});var Vb=function(){};i["com.workinman.cloudutils.SoundDef"]=Vb;Vb.__name__=["com","workinman","cloudutils","SoundDef"];Vb.request=function(a,b,c){null==c&&(c=!1);return ga.get_instance().requestObject("SoundDef",Vb).init(a,b,c)};Vb.__super__=A;Vb.prototype=u(A.prototype,{init:function(a,b,c){this._complete=null;this._doDelete=!1;this._id=a;this._loop=
c;this._maxVol=this.volume=1;this._sound=b;return this},dispose:function(){null!=this._playback&&(this._playback.dispose(),this._playback=null);null!=this._sound&&(this._sound.dispose(),this._sound=null);null!=this._complete&&this._complete();this._id=this._complete=null;A.prototype.dispose.call(this)},get_doDelete:function(){return this._doDelete},set_doDelete:function(a){this._doDelete=a;return this.get_doDelete()},get_id:function(){return this._id},set_id:function(a){this._id=a;return this.get_id()},
get_sound:function(){return this._sound},get_playback:function(){return this._playback},set_playback:function(a){return this._playback=a},update:function(){this._playback.set_volume(this._maxVol*this.volume);if(this._playback.get_paused()||this._playback.get_complete())this._doDelete=!0},playSound:function(a,b){null==a&&(a=1);if(null==this._sound)return null!=b&&b(),null;this._maxVol=a;this.volume=1;this._loop?this._playback=this._sound.loop(a):(null!=b&&(this._complete=b),this._playback=this._sound.play(a));
return this},__class__:Vb,__properties__:u(A.prototype.__properties__,{set_playback:"set_playback",get_playback:"get_playback",get_sound:"get_sound",set_id:"set_id",get_id:"get_id",set_doDelete:"set_doDelete",get_doDelete:"get_doDelete"})});var l=function(){this.game_fill_safe=1;this.assets=new Jd;this.basePath=Q.replace(this.assets.basePath,"assets/builder_assets/","");this.quizzes=[];this._flagMobile=this._flagApp=!1;var a=window.navigator.userAgent.toLowerCase(),b=window.document.referrer.toLowerCase();
if(-1!=a.indexOf("android")&&-1!=b.indexOf("http://www.ludei.com"))this._flagApp=!0;else if((-1!=a.indexOf("ipod")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipad"))&&-1==a.indexOf("safari"))this._flagApp=!0;if(-1!=a.indexOf("ipad")||-1!=a.indexOf("tablet")||-1!=a.indexOf("android")||-1!=a.indexOf("mobi"))this._flagMobile=!0;"mobile"==Qa.getQueryVariable("mode")&&(this._flagMobile=!0);this._flagMobile&&(this.game_fill_safe=0.9);this.responsive=!0;this._addEventListeners()};i["com.workinman.cloudutils.builder.WMBuilder"]=
l;l.__name__=["com","workinman","cloudutils","builder","WMBuilder"];l.__properties__={get_instance:"get_instance"};l.get_instance=function(){null==l.__instance&&(l.__instance=new l);return l.__instance};l.prototype={get_flagApp:function(){return this._flagApp},get_curQuiz:function(){return this.quizzes[k.get_instance().getInt(m.INT_QUIZ)]},_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(n.FILES_ERROR,t(this,this._onFilesError))},_onFilesError:function(a){a=a.get_data().get("error");
a.substring(a.indexOf("url=")+4,a.length-1)==this._promoSrc&&k.get_instance().get_assets().skipFile()},init:function(){k.get_instance().get_assets().addFile(this.assets.basePath+"data/project.json","builder_properties","bootstrap_manifest_id","data");o.DISABLE_CACHE="true"==Qa.getQueryVariable("disable_cache")?!0:!1;var a="";o.DISABLE_CACHE&&(a="?t="+(new Date).getTime());k.get_instance().get_assets().addFile(this.assets.basePath+"images/splash.jpg"+a,"builder_splash","bootstrap_manifest_id","jpg");
sa.get_instance().init(this.assets.basePath,"bootstrap_manifest_id")},onBootstrapLoad:function(){this.config=JSON.parse(k.get_instance().get_assets().getFile("builder_properties").toString());this.game_id=this.config.settings.game_id;this.loader=null!=this.config.settings.loader?{x:this._getValue(this.config.settings.loader.x,0),y:this._getValue(this.config.settings.loader.y,0)}:{x:0,y:0};this.loader_fill_color=this.parseColor(this.config.settings.loader_fill_color);this.loader_frame_color=this.parseColor(this.config.settings.loader_frame_color);
this.loader_bg_color=this.parseColor(this.config.settings.loader_bg_color);this.animation_transition=this._getValue(this.config.settings.animation_transition,"auto");this.animation_transition_in=this._getValue(this.config.settings.animation_transition_in,"slide");this.animation_transition_out=this._getValue(this.config.settings.animation_transition_out,"slide");this.animation_transition_time=this._getValue(this.config.settings.animation_transition_time,1);this.defaultText=this._getTextObject(this.config.settings.default_text,
null,"",!0);this.defaultTextHeader=this._getTextObject(this.config.settings.default_text_header);this.defaultTextCopy=this._getTextObject(this.config.settings.default_text_copy);this.text=new H;for(var a=0,b=this.config.settings.text.length;a<b;){var c=a++,e=this._getTextObject(this.config.settings.text[c],null,"initial_manifest_id");this.text.set(this.config.settings.text[c].id,e)}this.results_enabled=this._getValue(this.config.settings.results_enabled,!0);this.ad_bar_enabled=this._getValue(this.config.settings.ad_bar_enabled,
!1);this.spacing=this.config.settings.spacing;this.scale_up=this._getValue(this.config.settings.scale_up,!1);this.enable_cache=this._getValue(this.config.settings.enable_cache,!0);this.share=null!=this.config.settings.share?{bgColor:this._getValue(this.config.settings.share.bgColor,"#55d8f6"),textColor:this._getValue(this.config.settings.share.textColor,"#333333")}:{bgColor:"#55d8f6",textColor:"#333333"};this.analytics_enabled=this._getValue(this.config.settings.analytics_enabled,!1);this.responsive=
this._getValue(this.config.settings.responsive,!0);this.btn_hud_alpha=this._getValue(this.config.settings.btn_hud_alpha,0.5);this.antipiracy_url=this._getValue(this.config.settings.antipiracy_url,"");this.antipiracy_enabled=this._getValue(this.config.settings.antipiracy_enabled,!0);this.show_correct=this._getValue(this.config.settings.show_correct,!0);this.show_correct_fill=this._getValue(this.config.settings.show_correct_fill,!0);this.show_correct_text=this._getValue(this.config.settings.show_correct_text,
!0);this.show_correct_question=this._getValue(this.config.settings.show_correct_question,!0);this.answer_correct_color=this.parseColor(this.config.settings.answer_correct_color);this.answer_incorrect_color=this.parseColor(this.config.settings.answer_incorrect_color);this.page_color=this.parseColor(this.config.settings.page_color);this.page_done_color=this.parseColor(this.config.settings.page_done_color);this.page_selected_color=this.parseColor(this.config.settings.page_selected_color);this.page_arrow_color=
this.parseColor(this.config.settings.page_arrow_color);this.header_height=this._getValue(this.config.settings.header_height,0);this.match_ui_enabled=this._getValue(this.config.settings.match_ui_enabled,!1);this.hud_arrows_enabled=this._getValue(this.config.settings.hud_arrows_enabled,!1);this.hud_buttons_enabled=this._getValue(this.config.settings.hud_buttons_enabled,!1);this.slider_color=this.parseColor(this.config.settings.slider_color);this.timer_bg_color=this.parseColor(this.config.settings.timer_bg_color);
this.timer_frame_color=this.parseColor(this.config.settings.timer_frame_color);this.timer_fill_color=this.parseColor(this.config.settings.timer_fill_color);sa.get_instance().onBootstrapLoad(this.analytics_enabled);this._setupManifests();try{WMBuilderPreview.onDisplayQuestion=t(this,this._onDisplayQuestion),WMBuilderPreview.onDisplayResult=t(this,this._onDisplayResult)}catch(d){null}},_onDisplayQuestion:function(a){k.get_instance().get_dispatcher().dispatchEvent($.request(n.PREVIEW_QUESTION,function(){var b=
new H;b.set("question",a);return b}(this)))},_onDisplayResult:function(){k.get_instance().get_dispatcher().dispatchEvent($.request(n.PREVIEW_RESULT))},onPreloadLoaded:function(){k.get_instance().setBool(m.BOOL_FONTS_LOADED,!0);if(this.promos_enabled)try{var a=JSON.parse(k.get_instance().get_assets().getFile("builder_promos").toString());this.promos={order:a.order,list:[]};var b={path:"images",array:[]};"random"==this.promos.order&&(a.list=o.shuffleArray(a.list));var c=0;do!1!=a.list[c].enabled&&(b.array.push(a.list[c].image),
this.promos.list.push({image:a.list[c].image.name,href:a.list[c].href,text:a.list[c].text})),c++;while(4>this.promos.list.length&&c<a.list.length);this.assets.parseAndAddAssetsToManifest(b,"initial_manifest_id")}catch(e){this.promos_enabled=!1}this.ad_bar_enabled&&k.get_instance().get_dispatcher().dispatchEvent($.request(n.ADD_AD_BAR))},onInitialLoaded:function(){},_setupManifests:function(){this.config.preload&&(this.assets.parseAndAddAssetsToManifest(this.config.preload.images,"preload_manifest_id"),
this.assets.parseAndAddAssetsToManifest(this.config.preload.audio,"preload_manifest_id"));if(this.config.settings.promos&&(this.promos_enabled=!0==this.config.settings.promos.enabled,this._flagApp&&(this.promos_enabled=!1),this.promos_enabled)){var a=this.config.settings.promos.src;this._promoSrc=null==a||""==a||"local"==a?this.assets.basePath+"data/promos.json":a;k.get_instance().get_assets().addFile(this._promoSrc,"builder_promos","external_manifest_id","data")}this.config.initial&&(this.assets.parseAndAddAssetsToManifest(this.config.initial.images,
"initial_manifest_id"),this.assets.parseAndAddAssetsToManifest(this.config.initial.audio,"initial_manifest_id"));this.config.gameplay&&(this.assets.parseAndAddAssetsToManifest(this.config.gameplay.images,"gameplay_manifest_id"),this.assets.parseAndAddAssetsToManifest(this.config.gameplay.audio,"gameplay_manifest_id"),this._flagApp&&(this.assets.setAssetData("button_share","enabled",!1),this.assets.setAssetData("button_more","enabled",!1)));0==this.assets.get_numSounds()&&(this.assets.setAssetData("button_sound_on",
"enabled",!1),this.assets.setAssetData("button_sound_off","enabled",!1));this._setupBuilder()},_setupBuilder:function(){for(var a=null,b=null,c=null,e=c=null,d=null,c=null,f=!1,g=0,h=this.config.quizzes.length;g<h;){var i=g++,a={name:this.config.quizzes[i].name,questions:[],results:[],type:{name:"normal",value:0},results_extras:this._getValue(this.config.quizzes[i].results_extras,null),result_particles_confetti:[],result_particles_fireworks:[]};null!=this.config.quizzes[i].type&&(a.type={name:this._getValue(this.config.quizzes[i].type.name,
"normal"),value:this._getValue(this.config.quizzes[i].type.value,0)});this.quizzes.push(a);var k=this._getValue(this.config.quizzes[i].result_particles_confetti,null);if(null!=k){for(var c=[],m=0;m<k.length;)b=k[m],++m,a.result_particles_confetti.push(b.name),c.push(b);0<c.length&&(c={path:"images",array:c},this.assets.parseAndAddAssetsToManifest(c,"gameplay_manifest_id"))}k=this._getValue(this.config.quizzes[i].result_particles_fireworks,null);if(null!=k){c=[];for(m=0;m<k.length;)b=k[m],++m,a.result_particles_fireworks.push(b.name),
c.push(b);0<c.length&&(c={path:"images",array:c},this.assets.parseAndAddAssetsToManifest(c,"gameplay_manifest_id"))}k=0;for(m=this.config.quizzes[i].questions.length;k<m;)if(c=k++,b=this.config.quizzes[i].questions[c],f=this._getValue(b.enabled,!0)){var l="question"+i+"-"+c,c=[];c.push(b.image);for(var e=[],n=0,o=b.answers.length;n<o;){var p=n++,d=b.answers[p];c.push(d.image);e.push({image:this._getValueSub(d.image,"name",""),text:this._getTextObject(d.text,this.defaultTextCopy),idSound:d.idSound,
idSoundRollover:d.idSoundRollover,valueResult:d.valueResult,matches:[]});if(null!=d.matches)for(var q=0,r=b.answers[p].matches.length;q<r;)d=q++,d=b.answers[p].matches[d],c.push(d.image),e[e.length-1].matches.push({image:this._getValueSub(d.image,"name",""),text:this._getTextObject(d.text,this.defaultTextCopy),idSound:null,idSoundRollover:null,valueResult:0,matches:null})}a.questions.push({manifestID:l,enabled:f,loaded:!1,question:this._getTextObject(b.question,this.defaultTextHeader),image:b.image.name,
columns:b.columns,answers:e,questionAlign:b.questionAlign,questionLayout:b.questionLayout,pickMultiple:this._getValue(b.pickMultiple,!1),time:this._getValue(b.time,-1),pickMax:null==b.pickMax?0:b.pickMax,type:this._getValue(b.type,"normal"),matchLayout:this._getValue(b.matchLayout,"horizontal"),shadow:null==b.shadow?{enabled:!0,color:0}:{enabled:this._getValue(b.shadow.enabled,!0),color:this.parseColor(b.shadow.color)},idSoundCorrect:this._getValue(b.idSoundCorrect,""),idSoundIncorrect:this._getValue(b.idSoundIncorrect,
""),idVO:this._getValue(b.idVO,"")});c={path:"images",array:c};this.assets.parseAndAddAssetsToManifest(c,l)}k=0;for(m=this.config.quizzes[i].results.length;k<m;)c=k++,c=this.config.quizzes[i].results[c],a.results.push({value:c.value,image:c.image.name,header:this._getTextObject(c.header,this.defaultTextHeader),copy:this._getTextObject(c.copy,this.defaultTextCopy),idSound:c.idSound,particles:this._getValue(c.particles,"none")}),c={path:"images",array:[c.image]},this.assets.parseAndAddAssetsToManifest(c,
"gameplay_manifest_id")}},_getValue:function(a,b){return null==a?b:a},_getValueSub:function(a,b,c){return null==D.field(a,b)?c:D.field(a,b)},_getTextObject:function(a,b,c,e){null==e&&(e=!1);null==c&&(c="");var d=null;if(null==a)return d=D.copy(b),d.id="",d;d={id:a.id,color:this.parseColor(a.color),align:a.align,textAlign:a.textAlign,textPosition:a.textPosition,textWidth:a.textWidth,bgColor:this.parseColor(a.bgColor),bgPadding:a.bgPadding,bgAlpha:a.bgAlpha,bgImage:null,bgResize:a.bgResize,location:a.location};
null!=a.bgImage&&(d.bgImage=a.bgImage.name);if(e){null==a.bgAlpha&&(d.bgAlpha=0);null==a.bgPadding&&(d.bgPadding=0);if(null==a.bgColor||-1==d.bgColor)d.bgColor=-1;null==a.location&&(d.location="")}else if(null==b&&(b=this.defaultText),null!=b){null==a.bgAlpha&&(d.bgAlpha=b.bgAlpha);null==a.bgPadding&&(d.bgPadding=b.bgPadding);if(null==a.bgColor||-1==d.bgColor)d.bgColor=b.bgColor;if(null==a.color||-1==d.color)d.color=b.color;null==a.bgImage&&(d.bgImage=b.bgImage);null==a.bgResize&&(d.bgResize=b.bgResize);
null==a.textWidth&&(d.textWidth=b.textWidth);null==a.location&&(d.location=b.location)}null==d.bgResize&&(d.bgResize="none");""==c&&(c="gameplay_manifest_id");""!=c&&null!=a.bgImage&&this.assets.parseAndAddAssetsToManifest({path:"images",array:[a.bgImage]},c);return d},parseColor:function(a){if(""==a||null==a)return-1;a=Q.replace(a,"#","");return y.parseInt("0x"+a)},parseColorInt:function(a){var b=a>>16&255,c=a>>8&255,a=a&255,e;e=""+"0123456789ABCDEF".charAt(Math.floor(b/16));e+="0123456789ABCDEF".charAt(b%
16);e+="0123456789ABCDEF".charAt(Math.floor(c/16));e+="0123456789ABCDEF".charAt(c%16);e+="0123456789ABCDEF".charAt(Math.floor(a/16));return e+="0123456789ABCDEF".charAt(a%16)},assetEnabled:function(a){return this.assets.getAssetData(a).enabled},assetString:function(a){return this.assets.getAssetData(a).name},assetParams:function(a,b,c){null==c&&(c=!1);a=this.assets.getAssetData(a);c?b.assetUpString=a.name:b.assetString=a.name;null==b.x&&(b.x=0);null==b.y&&(b.y=0);b.offsetX=a.x;b.offsetY=a.y;return b},
setText:function(a,b,c,e){this.text.exists(a)&&null;var d=D.copy(this.defaultText);d.id=a;this.text.set(a,d);k.get_instance().get_localize().addLocalizeData(a,new ic(a,b,c,e,0,0))},stopVO:function(){k.get_instance().get_sound().stopVO()},stopSound:function(a){null!=a&&(a=this.assets.getAssetData(a),!1!=k.get_instance().get_assets().hasSound(null,a.name)&&k.get_instance().get_sound().stopSound(null,a.name))},playSound:function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);null!=a&&(a=this.assets.getAssetData(a),
!1!=k.get_instance().get_assets().hasSound(null,a.name)&&(c?k.get_instance().get_sound().playVO(null,a.name,a.volume,null,!0):k.get_instance().get_sound().playSound(null,a.name,a.volume,null,b)))},playMusic:function(a){null==a?k.get_instance().get_sound().stopMusic():(a=this.assets.getAssetData(a),!1==k.get_instance().get_assets().hasSound(null,a.name)?k.get_instance().get_sound().stopMusic():k.get_instance().get_sound().playMusic(null,a.name,a.volume))},colorMaskAsset:function(a,b){if(-1!=b){var c=
k.get_instance().get_assets().getSpriteRect(null,a);if(null!=c){var e=z.get_instance().get_renderer().createTexture(c.get_texture().get_width(),c.get_texture().get_height());e.get_graphics().drawTexture(c.get_texture(),0,0);c.get_texture().get_graphics().setBlendMode(R.Normal);c.get_texture().get_graphics().fillRect(b,0,0,c.get_texture().get_width(),c.get_texture().get_height());c.get_texture().get_graphics().setBlendMode(R.Mask);c.get_texture().get_graphics().drawTexture(e,0,0);c.get_texture().get_graphics().setBlendMode(R.Normal);
e.dispose()}}},colorMaskElement:function(a,b){if(!(-1==b||null==a.get_rect())){var c=La.request(z.get_instance().get_renderer().createTexture(Math.floor(Math.min(2048,a.get_width())),Math.floor(Math.min(2048,a.get_height()))));c.get_texture().get_graphics().setBlendMode(R.Normal);c.get_texture().get_graphics().fillRect(b,0,0,c.get_texture().get_width(),c.get_texture().get_height());c.get_texture().get_graphics().setBlendMode(R.Mask);c.get_texture().get_graphics().drawTexture(a.get_rect().get_texture(),
0,0);c.get_texture().get_graphics().setBlendMode(R.Normal);a.set_rect(c)}},colorMaskText:function(a,b){if(-1==b||""==a._text)return a;var c=La.request(z.get_instance().get_renderer().createTexture(Math.floor(a.get_width()),Math.floor(a.get_height()))),e=0,d=(a.get_height()-a.boundHeight())/2-a.boundY();switch(a._align[1]){case 1:e=(0.1>=a.get_scaleX()?a.boundWidth():a.get_width())/2;break;case 2:e=0.1>=a.get_scaleX()?a.boundWidth():a.get_width()}d=0+-a.boundY()/2;0<a.wrapHeight()&&(d+=a.wrapHeight()*
a.get_originY());a.get_layout().draw(c.get_texture().get_graphics(),e,d);e=new ib({sprite:c,y:0,originY:a.get_originY()});a.addChild(e);a.colorText=e;e=z.get_instance().get_renderer().createTexture(c.get_texture().get_width(),c.get_texture().get_height());e.get_graphics().drawTexture(c.get_texture(),0,0);c.get_texture().get_graphics().setBlendMode(R.Normal);c.get_texture().get_graphics().fillRect(b,0,0,c.get_texture().get_width(),c.get_texture().get_height());c.get_texture().get_graphics().setBlendMode(R.Mask);
c.get_texture().get_graphics().drawTexture(e,0,0);c.get_texture().get_graphics().setBlendMode(R.Normal);a.set_text("");return a},positionElement:function(a,b){switch(b){case "top_left":a.set_originX(0);a.set_originY(0);break;case "top_right":a.set_originX(1);a.set_originY(0);break;case "bottom_left":a.set_originX(0);a.set_originY(1);break;case "bottom_right":a.set_originX(1),a.set_originY(1)}},__class__:l,__properties__:{get_curQuiz:"get_curQuiz",get_flagApp:"get_flagApp"}};var Wa=function(a,b){this.path=
null!=a.path?a.path:b;this.name=null==a.name?"":a.name;this.id=""==a.id||null==a.id?this.name:a.id;this.fullPaths=[];this.types=a.type instanceof Array&&null==a.type.__enum__?a.type:[a.type];for(var c=0,e=this.types;c<e.length;){var d=e[c];++c;d=null!=a.src?a.src:this.name+"."+d;this.fullPaths.push(0==d.indexOf("http://")||0==d.indexOf("https://")?d:this.path+d)}this.enabled=!1==a.enabled?!1:!0;this.x=null!=a.x?a.x:0;this.y=null!=a.y?a.y:0;this.volume=null!=a.volume?a.volume:1;0==this.volume&&(this.enabled=
!1);this.resize=null!=a.resize?a.resize:"";this.align=null!=a.align?a.align:"";this.location=null!=a.location?a.location:"";this.href=null!=a.href?a.href:"";0==this.id.indexOf("button_")&&""==this.name&&(this.enabled=!1)};i["com.workinman.cloudutils.builder.WMBuilderAssetData"]=Wa;Wa.__name__=["com","workinman","cloudutils","builder","WMBuilderAssetData"];Wa.prototype={__class__:Wa};var Jd=function(){this._jsEmbedBase="";this._numSounds=0;S.get_exists()&&!S.get_isCrossdomain()&&(this._jsEmbedBase=
this._trimUrl(S.get_base()));Q.startsWith(this._jsEmbedBase,"cms_services/")&&(this._jsEmbedBase=Q.replace(this._jsEmbedBase,"cms_services/",""),this._jsEmbedBase=this._appendSlashIfNeeded(this._jsEmbedBase));var a="";null!=this._getQueryVariable("project")?(a=this._getQueryVariable("project"),a=this._appendSlashIfNeeded(a)):(a=k.get_instance().get_assets().get_baseUrl(),a=-1==a.indexOf("assets")?a+"assets/builder_assets/":a+"builder_assets/");this.basePath=a;this._assetData=new H;this._emptyAsset=
new Wa({},"")};i["com.workinman.cloudutils.builder.WMBuilderAssetManager"]=Jd;Jd.__name__=["com","workinman","cloudutils","builder","WMBuilderAssetManager"];Jd.prototype={get_numSounds:function(){return this._numSounds},get_assetData:function(){return this._assetData},parseAndAddAssetsToManifest:function(a,b){var c="";o.DISABLE_CACHE&&(c="?t="+(new Date).getTime());if(null!=a&&null!=a.array&&0<a.array.length){a.array=P.__cast(a.array,Array);for(var e=[],d=null,f=this._appendSlashIfNeeded(this.basePath+
y.string(a.path)),g=0,h=a.array.length;g<h;)if(d=g++,null!=a.array[d]&&(d=new Wa(a.array[d],f),this._assetData.exists(d.id)?null:(this._assetData.set(d.id,d),d),""!=d.name&&(e.push(d),d.enabled)))for(var i=0,m=d.types.length;i<m;){var l=i++;k.get_instance().get_assets().addFile(d.fullPaths[l]+c,d.name,b,d.types[l]);("mp3"==d.types[l]||"ogg"==d.types[l])&&this._numSounds++}return e}return[]},getAssets:function(a,b){for(var c=[],e=this._assetData.keys();e.hasNext();){var d=e.next();D.field(this._assetData.get(d),
a)==b&&c.push(this._assetData.get(d))}return c},getAssetData:function(a){return!1==this._assetData.exists(a)?this._emptyAsset:this._assetData.get(a)},setAssetData:function(a,b,c){if(!1==this._assetData.exists(a))return null;D.setField(this._assetData.get(a),b,c)},_trimUrl:function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=E.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=E.substr(a,b,a.length-b);
return a=this._appendSlashIfNeeded(a)},_appendSlashIfNeeded:function(a){if(0==a.length)return a;"/"!=a.charAt(a.length-1)&&(a+="/");return a},_getQueryVariable:function(a){for(var b=S.eval("window.location.search.substring(1)").split("&"),c=0,e=b.length;c<e;){var d=c++,d=b[d].split("=");if(d[0]==a)return d[1]}return null},__class__:Jd,__properties__:{get_assetData:"get_assetData",get_numSounds:"get_numSounds"}};var Jc=function(a,b,c,e,d){null==e&&(e=!1);this._timeline=a;null==d&&(d=U.z__MAINUI);this._defaultLayer=
d;this._layers=new Ha;this._elements=[];this._camera=new Uc(b,c);this._enablePointer=e;this._zSortLayers=new Ha;z.get_instance().addRenderCompleteDelegate(t(this,this._onEventRenderComplete))};i["com.workinman.display.ElementManager"]=Jc;Jc.__name__=["com","workinman","display","ElementManager"];Jc.prototype={dispose:function(){for(z.get_instance().removeRenderCompleteDelegate(t(this,this._onEventRenderComplete));0<this._elements.length;)this._elements.pop().dispose();this._timeline=this._elements=
null;for(var a=this._layers.iterator();a.hasNext();)a.next().dispose();this._zSortLayers=this._layers=null;this._camera.dispose();this._defaultLayer=this._camera=null},get_root:function(){return this._timeline},addLayer:function(a,b){null==b&&(b=!1);if(this._layers.exists(a))this._timeline.removeChild(this._layers.get(a)),this._timeline.addChild(this._layers.get(a));else{var c=this._timeline.addChild(new C);this._layers.set(a,c);b&&this._zSortLayers.set(a,[])}},addElement:function(a,b){!1==this._enablePointer&&
a.disablePointer();a.get_useCamera()&&a.setCamera(this._camera);null==b&&null!=this._defaultLayer&&(b=this._defaultLayer);if(!1==this._layers.exists(b))return a;this._zSortLayers.exists(b)&&this._addZSort(a,b);this._layers.get(b).addChild(a);this._addUpdate(a);return a},_addUpdate:function(a){for(var b=this._elements.length;0<b--;)if(this._elements[b]==a)return;this._elements.push(a)},_addZSort:function(a,b){for(var c=this._zSortLayers.get(b),e=c.length;0<e--;)if(c[e]==a)return;c.push(a)},updateElements:function(a){for(var b=
this._elements.length;0<b--;)this._elements[b].doUpdate(a),this._elements[b].get_doDelete()&&(this._elements[b].dispose(),this._elements.splice(b,1))},_onEventRenderComplete:function(){this._camera.get_pos().cleanDirtyFlag()},__class__:Jc,__properties__:{get_root:"get_root"}};var Sb=function(a){""!=a.assetString&&null==a.library&&k.get_instance().get_assets().hasGifLibrary(a.assetString)&&(a.library=k.get_instance().get_assets().getGifLibrary(a.assetString),a.assetString="");x.call(this,a);this._library=
a.library;this._prevFrame=-1;if(null!=this._library){for(var a=[],b=0,c=this._library.get_frames();b<c.length;){var e=c[b];++b;a.push(e.frame)}this.addAnimation("idle",a);this.animate("idle")}};i["com.workinman.display.GifElement"]=Sb;Sb.__name__=["com","workinman","display","GifElement"];Sb.__super__=x;Sb.prototype=u(x.prototype,{dispose:function(){x.prototype.dispose.call(this);this._library=null},_setFrame:function(a){if(!(null==this._library||0>a||null==this._currentAnimDef||a>=this._currentAnimDef.get_frames().length+
1)&&Math.floor(a)!=this._prevFrame)this._prevFrame=Math.floor(a),this.set_rect(this._currentAnimDef.get_frames()[Math.floor(a-1)]),this._prevFrame>=this._library.get_frames().length&&(this._prevFrame=0),this._fps=0==this._library.get_frames()[this._prevFrame].delay?24:12>this._library.get_frames()[this._prevFrame].delay?8.333333333333334:100/this._library.get_frames()[this._prevFrame].delay},__class__:Sb});var re=function(){};i["com.workinman.display.IPoolable"]=re;re.__name__=["com","workinman",
"display","IPoolable"];re.prototype={__class__:re,__properties__:{set_isPooled:"set_isPooled"}};var td=function(){this._pools=new H;this._flagAllPoolsFull=!1;this._numPools=0};i["com.workinman.display.PoolManager"]=td;td.__name__=["com","workinman","display","PoolManager"];td.prototype={dispose:function(){for(var a=this._pools.iterator();a.hasNext();)a.next().dispose();this._pools=null},update:function(a){if(!this._flagAllPoolsFull){this._flagAllPoolsFull=!0;for(var b=this._pools.iterator();b.hasNext();){var c=
b.next();c.get_isPoolFull()||(this._flagAllPoolsFull=!1,c.update(a))}this._flagAllPoolsFull&&k.get_instance().get_dispatcher().dispatchEvent($.request(n.ALL_POOLS_FULL))}},__class__:td};var se=function(){this._AVERAGE_DELAY_BETWEEN_CREATE_ELEMENTS=0.8;this._MAX_ELEMENTS_TO_CREATE_AT_ONCE=8};i["com.workinman.display.PoolData"]=se;se.__name__=["com","workinman","display","PoolData"];se.prototype={get_isPoolFull:function(){return this._flagPoolFull},update:function(a){this._flagPoolFull||(this._timerUpdateCreateSprites-=
a,0>=this._timerUpdateCreateSprites&&this._addPoolSprites())},_addPoolSprites:function(a){null==a&&(a=!0);for(var b=0;this._poolProgress<this._poolSpritesToAdd&&(!a||b<this._MAX_ELEMENTS_TO_CREATE_AT_ONCE);)b++,this._poolProgress++,this._elements.push(Z.createInstance(this._class,[{pooled:!0}]));this._poolProgress<this._poolSpritesToAdd?this._timerUpdateCreateSprites=this._AVERAGE_DELAY_BETWEEN_CREATE_ELEMENTS+0.2*this._timerOffset:(this._timerUpdateCreateSprites=0,this._flagPoolFull=!0)},dispose:function(){for(var a=
0;a<this._elements.length;)this._elements[a].set_isPooled(!1),this._elements[a].dispose(),a++;this._class=this._elements=null},__class__:se,__properties__:{get_isPoolFull:"get_isPoolFull"}};var ec=function(a){da.call(this,a);this._flagShift=this._flagFocus=!1};i["com.workinman.display.text.TextInput"]=ec;ec.__name__=["com","workinman","display","text","TextInput"];ec.__super__=da;ec.prototype=u(da.prototype,{dispose:function(){da.prototype.dispose.call(this)},set_focus:function(a){return this._flagFocus=
a},_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(n.INPUT_ARBITRARY_KEY,t(this,this._onEventInputArbitraryKey))},_removeEventListeners:function(){k.get_instance().get_dispatcher().removeEventListener(n.INPUT_ARBITRARY_KEY,t(this,this._onEventInputArbitraryKey))},_onEventInputArbitraryKey:function(a){if(this._flagFocus){if(a.get_data().get("phase")==X.DOWN&&(a.get_data().get("key")==y.string(d.Shift)||a.get_data().get("key")==y.string(d.CapsLock)))this._flagShift=
!0;if(a.get_data().get("phase")==X.UP&&(a.get_data().get("key")==y.string(d.Shift)||a.get_data().get("key")==y.string(d.CapsLock)))this._flagShift=!1;a.get_data().get("phase")==X.DOWN&&("backspace"==a.get_data().get("key").toString().toLowerCase()?this.backspace():"space"==a.get_data().get("key").toString().toLowerCase()?this.space():0==a.get_data().get("key").toString().toLowerCase().indexOf("number")?this.addCharacter(a.get_data().get("key").toString().charAt(6)):"enter"!=a.get_data().get("key").toString().toLowerCase()&&
1==a.get_data().get("key").toString().length&&this.addCharacter(a.get_data().get("key").toString()))}},space:function(){this.addCharacter(" ")},backspace:function(){var a=this._text,a=E.substr(a,0,a.length-1);this.set_text(a)},addCharacter:function(a){var b=this._text,b=this._flagShift?b+a:b+a.toLowerCase();this.set_text(b)},__class__:ec,__properties__:u(da.prototype.__properties__,{set_focus:"set_focus"})});var ca=i["com.workinman.display.ui._ButtonBase.ButtonState"]={__ename__:"com,workinman,display,ui,_ButtonBase,ButtonState".split(","),
__constructs__:["_STATE_UP","_STATE_DOWN","_STATE_OVER","_STATE_CLICK"]};ca._STATE_UP=["_STATE_UP",0];ca._STATE_UP.toString=f;ca._STATE_UP.__enum__=ca;ca._STATE_DOWN=["_STATE_DOWN",1];ca._STATE_DOWN.toString=f;ca._STATE_DOWN.__enum__=ca;ca._STATE_OVER=["_STATE_OVER",2];ca._STATE_OVER.toString=f;ca._STATE_OVER.__enum__=ca;ca._STATE_CLICK=["_STATE_CLICK",3];ca._STATE_CLICK.toString=f;ca._STATE_CLICK.__enum__=ca;ca.__empty_constructs__=[ca._STATE_UP,ca._STATE_DOWN,ca._STATE_OVER,ca._STATE_CLICK];var qd=
function(a,b,c){this._screenId=a;this._changeEvent=b;this._action=c};i["com.workinman.display.ui.ChangeActionData"]=qd;qd.__name__=["com","workinman","display","ui","ChangeActionData"];qd.prototype={get_screenId:function(){return this._screenId},get_changeEvent:function(){return this._changeEvent},get_action:function(){return this._action},__class__:qd,__properties__:{get_action:"get_action",get_changeEvent:"get_changeEvent",get_screenId:"get_screenId"}};var Kd=function(a,b){this.id=a;this.screenClass=
b};i["com.workinman.display.ui.ScreenData"]=Kd;Kd.__name__=["com","workinman","display","ui","ScreenData"];Kd.prototype={__class__:Kd};var od=function(a){this._dispatcher=Ya.request();this._container=a;this._layerScreen=new C;this._container.addChild(this._layerScreen);this._isPaused=!1;this._screens=[];this._screensOpen=[];this._screensQueue=[];this._flagCloseAllScreensWhenBottomCloses=!1};i["com.workinman.display.ui.ScreenManager"]=od;od.__name__=["com","workinman","display","ui","ScreenManager"];
od.prototype={set_interfaceDelegate:function(a){return this._interfaceDelegate=a},addScreen:function(a,b){this._screens.push(new Kd(a,b))},closeScreen:function(a,b,c){null==c&&(c=-1);null==b&&(b=!0);if(0==this._screensOpen.length)this.removeQueuedScreen(a);else{if(null==a)c=this._screensOpen[this._screensOpen.length-1];else if(0<=c&&c<this._screensOpen.length)c=this._screensOpen[c];else if(c=this.getScreen(a),null==c){this.removeQueuedScreen(a);return}c.close(b);this._dispatchEventChange(ea.CLOSE_BEGIN,
a)}},openScreen:function(a,b,c,e){null==b&&(b=!0);this._hasScreenData(a)&&(this.isScreenOpen(a)?this._moveScreenToTop(a):(null==c&&(c=wa.CLOSED_ALL),c!=wa.IMMEDIATE&&b&&0<this._screensOpen.length?this._addScreenToQueue(this._getScreenData(a),c,e):this._generateScreen(this._getScreenData(a))))},_moveScreenToTop:function(a){var b=this.getScreen(a);if(null!=b){b.isClosing()&&b.open(!1);for(var c=this._screensOpen.length-1;0<=c&&!(this._screensOpen[c].id==a);)c--;this._screensOpen.splice(c,1);b.reset();
this._removeScreenDisplay(b.get_root());this._addScreenDisplay(b.get_root());this._screensOpen.push(b)}},changeScreenTo:function(a,b){null==b&&(b=!1);this.removeAllQueuedScreens();var c;if(this.isScreenOpen(a)){for(c=this._screensOpen.length-1;0<=c;)this._screensOpen[c].id!=a&&this.closeScreen(this._screensOpen[c].id,b,c),c--;this._dispatchEventChange(ea.OPEN_BEGIN,a);this._dispatchEventChange(ea.OPEN_COMPLETE,a)}else if(0<this._screensOpen.length){this._screensOpen[0].suspend();var e=wa.CLOSED_ALL;
if(0<this._screensOpen.length&&(this.closeScreen(this._screensOpen[0].id,b,0),1<this._screensOpen.length))for(c=1;c<this._screensOpen.length;)this.closeScreen(this._screensOpen[c].id,b,this._screensOpen.length),c++;this.openScreen(a,!0,e)}else this.openScreen(a,!1)},update:function(a){if(!this._isPaused){0.15<a&&(a=0.15);for(this._loop=this._screensOpen.length;0<this._loop--;)this._screensOpen[this._loop].update(a),this._screensOpen[this._loop].flagDispose&&(this._disposeScreen(this._screensOpen[this._loop].id),
0==this._screensOpen.length&&this._onQueueConditionMet(wa.CLOSED_ALL))}},getScreen:function(a){if(0==this._screensOpen.length)return null;if(null==a)return this._screensOpen[this._screensOpen.length-1];for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return this._screensOpen[b];b--}return null},isScreenOpen:function(a){for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return!0;b--}return!1},hasQueuedScreen:function(a){for(var b=this._screensQueue.length-
1;0<=b;){if(this._screensQueue[b].screenData.id==a)return!0;b--}return!1},removeQueuedScreen:function(a){for(var b=this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==a){this._screensQueue.splice(b,1);break}b--}},removeAllQueuedScreens:function(){for(var a=this._screensQueue.length-1;0<=a;)this._screensQueue.splice(a,1),a--},_addScreenToQueue:function(a,b,c){this.hasQueuedScreen(a.id)||this._screensQueue.push(new Ld(a,b,c))},_generateScreen:function(a){if(this.isScreenOpen(a.id))this.getScreen(a.id).reset(),
this._dispatchEventChange(ea.OPEN_BEGIN,a.id);else{var b=Z.createInstance(a.screenClass,[a.id,this._container]);null!=b&&(this._screensOpen.push(b),b.set_flowDelegate(t(this,this._onEventScreenOutput)),b.open(!0),this._dispatchEventChange(ea.OPEN_BEGIN,a.id))}},_disposeScreen:function(a){for(var b=0;b<this._screensOpen.length;){if(this._screensOpen[b].id==a){this._removeScreenDisplay(this._screensOpen[b].get_root());this._screensOpen[b].dispose();this._screensOpen.splice(b,1);break}b++}},_onEventScreenOutput:function(a,
b){a==Ja.OPENED?this._dispatchEventChange(ea.OPEN_COMPLETE,b):a==Ja.CLOSED&&(this._dispatchEventChange(ea.CLOSE_COMPLETE,b),this._onQueueConditionMet(wa.CLOSED_SPECIFIC,b))},_hasScreenData:function(a){for(var b=this._screens.length-1;0<=b;){if(this._screens[b].id==a)return!0;b--}return!1},_getScreenData:function(a){for(var b=this._screens.length-1;0<=b;){if(this._screens[b].id==a)return this._screens[b];b--}return null},_onQueueConditionMet:function(a,b){for(var c=0;c<this._screensQueue.length;)this._screensQueue[c].validateCondition(a,
b)&&(this._generateScreen(this._screensQueue[c].screenData),this._screensQueue.splice(c,1)),c++},_dispatchEventChange:function(a,b){null!=this._interfaceDelegate&&this._interfaceDelegate(a,b)},_addScreenDisplay:function(a){this._layerScreen.addChild(a)},_removeScreenDisplay:function(a){this._layerScreen.removeChild(a)},__class__:od,__properties__:{set_interfaceDelegate:"set_interfaceDelegate"}};var Ld=function(a,b,c){this.screenData=a;this.openCondition=b;this.openTestString=c};i["com.workinman.display.ui.ScreenQueueData"]=
Ld;Ld.__name__=["com","workinman","display","ui","ScreenQueueData"];Ld.prototype={validateCondition:function(a,b){return this.openCondition==a?null==this.openTestString||this.openTestString==b:!1},__class__:Ld};var Va=function(a,b,c,e,d,f){this.id=a;this.animation=b;this.actionOnComplete=c;this.actionData=e;this.inFunc=d;this.outFunc=f};i["com.workinman.display.ui.ScreenStateData"]=Va;Va.__name__=["com","workinman","display","ui","ScreenStateData"];Va.prototype={__class__:Va};var $=function(){};i["com.workinman.events.WMEvent"]=
$;$.__name__=["com","workinman","events","WMEvent"];$.__interfaces__=[Fa];$.request=function(a,b){return ga.get_instance().requestObject("WMEvent",$).init(a,b)};$.__super__=A;$.prototype=u(A.prototype,{init:function(a,b){this._eventId=a;this._map=b;return this},dispose:function(){this._map=null;A.prototype.dispose.call(this)},destroy:function(){this._map=null;A.prototype.destroy.call(this)},get_eventId:function(){return this._eventId},get_data:function(){return this._map},__class__:$,__properties__:u(A.prototype.__properties__,
{get_data:"get_data",get_eventId:"get_eventId"})});var Ya=function(){};i["com.workinman.events.WMEventDispatcher"]=Ya;Ya.__name__=["com","workinman","events","WMEventDispatcher"];Ya.__interfaces__=[Fa];Ya.request=function(){return ga.get_instance().requestObject("WMEventDispatcher",Ya)};Ya.__super__=A;Ya.prototype=u(A.prototype,{create:function(){this._eventTrackers=new Ha},dispose:function(){for(var a=this._eventTrackers.iterator();a.hasNext();)a.next().dispose();ha.emptyMap(this._eventTrackers);
A.prototype.dispose.call(this)},destroy:function(){this._eventTrackers=null;A.prototype.destroy.call(this)},addEventListener:function(a,b){if(!this._eventTrackers.exists(a)){var c=Gb.request();this._eventTrackers.set(a,c)}this._eventTrackers.get(a).addEventListener(b)},removeEventListener:function(a,b){this._eventTrackers.exists(a)&&(this._eventTrackers.get(a).removeEventListener(b),this._eventTrackers.get(a).isEmtpy()&&(this._eventTrackers.get(a).dispose(),this._eventTrackers.remove(a)))},dispatchEvent:function(a){(function(b){var c=
a.get_eventId();return b._eventTrackers.exists(c)})(this)&&function(b){var c=a.get_eventId();return b._eventTrackers.get(c)}(this).dispatchEvent(a);a.dispose()},__class__:Ya});var Gb=function(){};i["com.workinman.events._WMEventDispatcher.WMEventTracker"]=Gb;Gb.__name__=["com","workinman","events","_WMEventDispatcher","WMEventTracker"];Gb.__interfaces__=[Fa];Gb.request=function(){return ga.get_instance().requestObject("WMEventTracker",Gb).init()};Gb.__super__=A;Gb.prototype=u(A.prototype,{init:function(){this._count=
0;this._listeners=[];return this},dispose:function(){this._listeners=null;A.prototype.dispose.call(this)},addEventListener:function(a){for(var b=0,c=this._listeners;b<c.length;){var e=c[b];++b;if(D.compareMethods(e,a))return}this._count++;this._listeners.push(a)},removeEventListener:function(a){for(var b=this._listeners.length;0<b--;)if(D.compareMethods(this._listeners[b],a)){this._count--;this._listeners.splice(b,1);break}},dispatchEvent:function(a){for(var b=0,c=this._listeners;b<c.length;){var e=
c[b];++b;e(a)}},isEmtpy:function(){return 0>=this._count},__class__:Gb});var Kc=function(){};i["com.workinman.math.WMMath"]=Kc;Kc.__name__=["com","workinman","math","WMMath"];Kc.distBetweenFloatPoints=function(a,b,c,e){return Math.abs(Math.sqrt((a-c)*(a-c)+(b-e)*(b-e)))};Kc.clamp=function(a,b,c,e){null==e&&(e=!1);e?a>c?a=b:a<b&&(a=c):a>c?a=c:a<b&&(a=b);return a};var xd=function(){this._sessions=new H;this._randomSeeds=new H};i["com.workinman.math.random.WMRandom"]=xd;xd.__name__=["com","workinman",
"math","random","WMRandom"];xd.prototype={random:function(a){null==a&&(a="");return""==a||null==this._randomSeeds.get(a)?Math.random():this._randomSeeds.get(a).random()},getRandomFloat:function(a,b,c){null==c&&(c="");return a+this.random(c)*(b-a)},getRandomInt:function(a,b,c){null==c&&(c="");return Math.floor(this.getRandomFloat(a,b+1,c))},__class__:xd};var Ae=function(){};i["com.workinman.math.random.WeightTracker"]=Ae;Ae.__name__=["com","workinman","math","random","WeightTracker"];var te=function(){};
i["com.workinman.math.random.WMSeededRandom"]=te;te.__name__=["com","workinman","math","random","WMSeededRandom"];te.prototype={get_seed:function(){return this._seed},set_seed:function(a){this._seed=a;return this.get_seed()},_randomInt:function(){return this.set_seed(16807*this.get_seed()%2147483647)&1073741823},random:function(){return this._randomInt()/1073741823},__class__:te,__properties__:{set_seed:"set_seed",get_seed:"get_seed"}};var q=i["com.workinman.math.tween.EASE"]={__ename__:["com","workinman",
"math","tween","EASE"],__constructs__:"EASE_IN,EASE_QUAD_IN,EASE_OUT,EASE_QUAD_OUT,EASE,EASE_QUAD,EASE_LINEAR,EASE_EXPO,EASE_EXPO_IN,EASE_EXPO_OUT,EASE_ELASTIC,EASE_ELASTIC_IN,EASE_ELASTIC_OUT,EASE_BUMP,EASE_BUMP_IN,EASE_BUMP_OUT,EASE_BOUNCE,EASE_BOUNCE_IN,EASE_BOUNCE_OUT,EASE_CUBIC,EASE_CUBIC_IN,EASE_CUBIC_OUT,EASE_SPACE,EASE_SPACE_IN,EASE_SPACE_OUT,EASE_BLAST,EASE_BLAST_IN,EASE_BLAST_OUT,EASE_WAVE,EASE_WAVE_IN,EASE_WAVE_OUT,EASE_CIRCLE,EASE_CIRCLE_IN,EASE_CIRCLE_OUT".split(",")};q.EASE_IN=["EASE_IN",
0];q.EASE_IN.toString=f;q.EASE_IN.__enum__=q;q.EASE_QUAD_IN=["EASE_QUAD_IN",1];q.EASE_QUAD_IN.toString=f;q.EASE_QUAD_IN.__enum__=q;q.EASE_OUT=["EASE_OUT",2];q.EASE_OUT.toString=f;q.EASE_OUT.__enum__=q;q.EASE_QUAD_OUT=["EASE_QUAD_OUT",3];q.EASE_QUAD_OUT.toString=f;q.EASE_QUAD_OUT.__enum__=q;q.EASE=["EASE",4];q.EASE.toString=f;q.EASE.__enum__=q;q.EASE_QUAD=["EASE_QUAD",5];q.EASE_QUAD.toString=f;q.EASE_QUAD.__enum__=q;q.EASE_LINEAR=["EASE_LINEAR",6];q.EASE_LINEAR.toString=f;q.EASE_LINEAR.__enum__=q;
q.EASE_EXPO=["EASE_EXPO",7];q.EASE_EXPO.toString=f;q.EASE_EXPO.__enum__=q;q.EASE_EXPO_IN=["EASE_EXPO_IN",8];q.EASE_EXPO_IN.toString=f;q.EASE_EXPO_IN.__enum__=q;q.EASE_EXPO_OUT=["EASE_EXPO_OUT",9];q.EASE_EXPO_OUT.toString=f;q.EASE_EXPO_OUT.__enum__=q;q.EASE_ELASTIC=["EASE_ELASTIC",10];q.EASE_ELASTIC.toString=f;q.EASE_ELASTIC.__enum__=q;q.EASE_ELASTIC_IN=["EASE_ELASTIC_IN",11];q.EASE_ELASTIC_IN.toString=f;q.EASE_ELASTIC_IN.__enum__=q;q.EASE_ELASTIC_OUT=["EASE_ELASTIC_OUT",12];q.EASE_ELASTIC_OUT.toString=
f;q.EASE_ELASTIC_OUT.__enum__=q;q.EASE_BUMP=["EASE_BUMP",13];q.EASE_BUMP.toString=f;q.EASE_BUMP.__enum__=q;q.EASE_BUMP_IN=["EASE_BUMP_IN",14];q.EASE_BUMP_IN.toString=f;q.EASE_BUMP_IN.__enum__=q;q.EASE_BUMP_OUT=["EASE_BUMP_OUT",15];q.EASE_BUMP_OUT.toString=f;q.EASE_BUMP_OUT.__enum__=q;q.EASE_BOUNCE=["EASE_BOUNCE",16];q.EASE_BOUNCE.toString=f;q.EASE_BOUNCE.__enum__=q;q.EASE_BOUNCE_IN=["EASE_BOUNCE_IN",17];q.EASE_BOUNCE_IN.toString=f;q.EASE_BOUNCE_IN.__enum__=q;q.EASE_BOUNCE_OUT=["EASE_BOUNCE_OUT",18];
q.EASE_BOUNCE_OUT.toString=f;q.EASE_BOUNCE_OUT.__enum__=q;q.EASE_CUBIC=["EASE_CUBIC",19];q.EASE_CUBIC.toString=f;q.EASE_CUBIC.__enum__=q;q.EASE_CUBIC_IN=["EASE_CUBIC_IN",20];q.EASE_CUBIC_IN.toString=f;q.EASE_CUBIC_IN.__enum__=q;q.EASE_CUBIC_OUT=["EASE_CUBIC_OUT",21];q.EASE_CUBIC_OUT.toString=f;q.EASE_CUBIC_OUT.__enum__=q;q.EASE_SPACE=["EASE_SPACE",22];q.EASE_SPACE.toString=f;q.EASE_SPACE.__enum__=q;q.EASE_SPACE_IN=["EASE_SPACE_IN",23];q.EASE_SPACE_IN.toString=f;q.EASE_SPACE_IN.__enum__=q;q.EASE_SPACE_OUT=
["EASE_SPACE_OUT",24];q.EASE_SPACE_OUT.toString=f;q.EASE_SPACE_OUT.__enum__=q;q.EASE_BLAST=["EASE_BLAST",25];q.EASE_BLAST.toString=f;q.EASE_BLAST.__enum__=q;q.EASE_BLAST_IN=["EASE_BLAST_IN",26];q.EASE_BLAST_IN.toString=f;q.EASE_BLAST_IN.__enum__=q;q.EASE_BLAST_OUT=["EASE_BLAST_OUT",27];q.EASE_BLAST_OUT.toString=f;q.EASE_BLAST_OUT.__enum__=q;q.EASE_WAVE=["EASE_WAVE",28];q.EASE_WAVE.toString=f;q.EASE_WAVE.__enum__=q;q.EASE_WAVE_IN=["EASE_WAVE_IN",29];q.EASE_WAVE_IN.toString=f;q.EASE_WAVE_IN.__enum__=
q;q.EASE_WAVE_OUT=["EASE_WAVE_OUT",30];q.EASE_WAVE_OUT.toString=f;q.EASE_WAVE_OUT.__enum__=q;q.EASE_CIRCLE=["EASE_CIRCLE",31];q.EASE_CIRCLE.toString=f;q.EASE_CIRCLE.__enum__=q;q.EASE_CIRCLE_IN=["EASE_CIRCLE_IN",32];q.EASE_CIRCLE_IN.toString=f;q.EASE_CIRCLE_IN.__enum__=q;q.EASE_CIRCLE_OUT=["EASE_CIRCLE_OUT",33];q.EASE_CIRCLE_OUT.toString=f;q.EASE_CIRCLE_OUT.__enum__=q;q.__empty_constructs__=[q.EASE_IN,q.EASE_QUAD_IN,q.EASE_OUT,q.EASE_QUAD_OUT,q.EASE,q.EASE_QUAD,q.EASE_LINEAR,q.EASE_EXPO,q.EASE_EXPO_IN,
q.EASE_EXPO_OUT,q.EASE_ELASTIC,q.EASE_ELASTIC_IN,q.EASE_ELASTIC_OUT,q.EASE_BUMP,q.EASE_BUMP_IN,q.EASE_BUMP_OUT,q.EASE_BOUNCE,q.EASE_BOUNCE_IN,q.EASE_BOUNCE_OUT,q.EASE_CUBIC,q.EASE_CUBIC_IN,q.EASE_CUBIC_OUT,q.EASE_SPACE,q.EASE_SPACE_IN,q.EASE_SPACE_OUT,q.EASE_BLAST,q.EASE_BLAST_IN,q.EASE_BLAST_OUT,q.EASE_WAVE,q.EASE_WAVE_IN,q.EASE_WAVE_OUT,q.EASE_CIRCLE,q.EASE_CIRCLE_IN,q.EASE_CIRCLE_OUT];var s=function(){};i["com.workinman.math.tween.PennerManager"]=s;s.__name__=["com","workinman","math","tween",
"PennerManager"];s.getEaseFunction=function(a){switch(a[1]){case 0:case 1:return s._tweenEaseIn;case 2:case 3:return s._tweenEaseOut;case 4:case 5:return s._tweenEaseBoth;case 7:return s._tweenExpoBoth;case 8:return s._tweenExpoIn;case 9:return s._tweenExpoOut;case 10:return s._tweenElasticBoth;case 11:return s._tweenElasticIn;case 12:return s._tweenElasticOut;case 13:return s._tweenBumpBoth;case 14:return s._tweenBumpIn;case 15:return s._tweenBumpBoth;case 16:return s._tweenBounceBoth;case 17:return s._tweenBounceIn;
case 18:return s._tweenBounceOut;case 19:return s._tweenCubicBoth;case 20:return s._tweenCubicIn;case 21:return s._tweenCubicOut;case 22:return s._tweenSpaceBoth;case 23:return s._tweenSpaceIn;case 24:return s._tweenSpaceOut;case 25:return s._tweenBlastBoth;case 26:return s._tweenBlastIn;case 27:return s._tweenBlastOut;case 28:return s._tweenWaveBoth;case 29:return s._tweenWaveIn;case 30:return s._tweenWaveOut;case 31:return s._tweenCircleBoth;case 32:return s._tweenCircleIn;case 33:return s._tweenCircleOut;
case 6:return s._tweenLinear}};s._tweenLinear=function(a,b,c,e){return a+c/e*b};s._tweenEaseBoth=function(a,b,c,e){return s._easeInOutQuad(c,a,b,e)};s._tweenEaseIn=function(a,b,c,e){return s._easeInQuad(c,a,b,e)};s._tweenEaseOut=function(a,b,c,e){return s._easeOutQuad(c,a,b,e)};s._tweenExpoBoth=function(a,b,c,e){return s._easeInOutExpo(c,a,b,e)};s._tweenExpoIn=function(a,b,c,e){return s._easeInExpo(c,a,b,e)};s._tweenExpoOut=function(a,b,c,e){return s._easeOutExpo(c,a,b,e)};s._tweenElasticBoth=function(a,
b,c,e){return s._easeInOutElastic(c,a,b,e)};s._tweenElasticIn=function(a,b,c,e){return s._easeInElastic(c,a,b,e)};s._tweenElasticOut=function(a,b,c,e){return s._easeOutElastic(c,a,b,e)};s._tweenBumpBoth=function(a,b,c,e){return s._easeInOutBack(c,a,b,e)};s._tweenBumpIn=function(a,b,c,e){return s._easeInBack(c,a,b,e)};s._tweenBounceBoth=function(a,b,c,e){return s._easeInOutBounce(c,a,b,e)};s._tweenBounceIn=function(a,b,c,e){return s._easeInBounce(c,a,b,e)};s._tweenBounceOut=function(a,b,c,e){return s._easeOutBounce(c,
a,b,e)};s._tweenCubicBoth=function(a,b,c,e){return s._easeInOutCubic(c,a,b,e)};s._tweenCubicIn=function(a,b,c,e){return s._easeInCubic(c,a,b,e)};s._tweenCubicOut=function(a,b,c,e){return s._easeOutCubic(c,a,b,e)};s._tweenSpaceBoth=function(a,b,c,e){return s._easeInOutQuart(c,a,b,e)};s._tweenSpaceIn=function(a,b,c,e){return s._easeInQuart(c,a,b,e)};s._tweenSpaceOut=function(a,b,c,e){return s._easeOutQuart(c,a,b,e)};s._tweenBlastBoth=function(a,b,c,e){return s._easeInOutQuint(c,a,b,e)};s._tweenBlastIn=
function(a,b,c,e){return s._easeInQuint(c,a,b,e)};s._tweenBlastOut=function(a,b,c,e){return s._easeOutQuint(c,a,b,e)};s._tweenWaveBoth=function(a,b,c,e){return s._easeInOutSine(c,a,b,e)};s._tweenWaveIn=function(a,b,c,e){return s._easeInSine(c,a,b,e)};s._tweenWaveOut=function(a,b,c,e){return s._easeOutSine(c,a,b,e)};s._tweenCircleBoth=function(a,b,c,e){return s._easeInOutCirc(c,a,b,e)};s._tweenCircleIn=function(a,b,c,e){return s._easeInCirc(c,a,b,e)};s._tweenCircleOut=function(a,b,c,e){return s._easeOutCirc(c,
a,b,e)};s._easeInQuad=function(a,b,c,e){return c*(a/=e)*a+b};s._easeOutQuad=function(a,b,c,e){return-c*(a/=e)*(a-2)+b};s._easeInOutQuad=function(a,b,c,e){return 1>(a/=e/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b};s._easeInExpo=function(a,b,c,e){return 0==a?b:c*Math.pow(2,10*(a/e-1))+b};s._easeOutExpo=function(a,b,c,e){return a==e?b+c:c*(-Math.pow(2,-10*a/e)+1)+b};s._easeInOutExpo=function(a,b,c,e){return 0==a?b:a==e?b+c:1>(a/=e/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b};s._easeInElastic=
function(a,b,c,e){return s._easeInElasticL(a,b,c,e)};s._easeInElasticL=function(a,b,c,e,d,f){null==f&&(f=-0.123456);null==d&&(d=-0.123456);if(0==a)return b;if(1==(a/=e))return b+c;-0.123456==f&&(f=0.3*e);-0.123456==d||d<Math.abs(c)?(d=c,c=f/4):c=f/(2*Math.PI)*Math.asin(c/d);return-(d*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/f))+b};s._easeOutElastic=function(a,b,c,e){return s._easeOutElasticL(a,b,c,e)};s._easeOutElasticL=function(a,b,c,e,d,f){null==f&&(f=-0.123456);null==d&&(d=-0.123456);var g;
if(0==a)return b;if(1==(a/=e))return b+c;-0.123456==f&&(f=0.3*e);-0.123456==d||d<Math.abs(c)?(d=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/d);return d*Math.pow(2,-10*a)*Math.sin((a*e-g)*2*Math.PI/f)+c+b};s._easeInOutElastic=function(a,b,c,e){return s._easeInOutElasticL(a,b,c,e)};s._easeInOutElasticL=function(a,b,c,e,d,f){null==f&&(f=-0.123456);null==d&&(d=-0.123456);var g;if(0==a)return b;if(2==(a/=e/2))return b+c;-0.123456==f&&(f=0.44999999999999996*e);-0.123456==d||d<Math.abs(c)?(d=c,g=f/4):g=f/(2*Math.PI)*
Math.asin(c/d);return 1>a?-0.5*d*Math.pow(2,10*(a-=1))*Math.sin((a*e-g)*2*Math.PI/f)+b:0.5*d*Math.pow(2,-10*(a-=1))*Math.sin((a*e-g)*2*Math.PI/f)+c+b};s._easeInBack=function(a,b,c,e){return s._easeInBackL(a,b,c,e)};s._easeInBackL=function(a,b,c,e,d){null==d&&(d=-0.123456);-0.123456==d&&(d=1.70158);return c*(a/=e)*a*((d+1)*a-d)+b};s._easeInOutBack=function(a,b,c,e){return s._easeInOutBackL(a,b,c,e)};s._easeInOutBackL=function(a,b,c,e,d){null==d&&(d=-0.123456);-0.123456==d&&(d=1.70158);return 1>(a/=
e/2)?c/2*a*a*(((d*=1.525)+1)*a-d)+b:c/2*((a-=2)*a*(((d*=1.525)+1)*a+d)+2)+b};s._easeOutBounce=function(a,b,c,e){return 0.36363636363636365>(a/=e)?c*7.5625*a*a+b:0.7272727272727273>a?c*(7.5625*(a-=0.5454545454545454)*a+0.75)+b:0.9090909090909091>a?c*(7.5625*(a-=0.8181818181818182)*a+0.9375)+b:c*(7.5625*(a-=0.9545454545454546)*a+0.984375)+b};s._easeInBounce=function(a,b,c,e){return c-s._easeOutBounce(e-a,0,c,e)+b};s._easeInOutBounce=function(a,b,c,e){return a<e/2?0.5*s._easeInBounce(2*a,0,c,e)+b:0.5*
s._easeOutBounce(2*a-e,0,c,e)+0.5*c+b};s._easeInCubic=function(a,b,c,e){return c*(a/=e)*a*a+b};s._easeOutCubic=function(a,b,c,e){return c*((a=a/e-1)*a*a+1)+b};s._easeInOutCubic=function(a,b,c,e){return 1>(a/=e/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b};s._easeInQuart=function(a,b,c,e){return c*(a/=e)*a*a*a+b};s._easeOutQuart=function(a,b,c,e){return-c*((a=a/e-1)*a*a*a-1)+b};s._easeInOutQuart=function(a,b,c,e){return 1>(a/=e/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b};s._easeInQuint=function(a,b,c,e){return c*
(a/=e)*a*a*a*a+b};s._easeOutQuint=function(a,b,c,e){return c*((a=a/e-1)*a*a*a*a+1)+b};s._easeInOutQuint=function(a,b,c,e){return 1>(a/=e/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b};s._easeInSine=function(a,b,c,e){return-c*Math.cos(a/e*(Math.PI/2))+c+b};s._easeOutSine=function(a,b,c,e){return c*Math.sin(a/e*(Math.PI/2))+b};s._easeInOutSine=function(a,b,c,e){return-c/2*(Math.cos(Math.PI*a/e)-1)+b};s._easeInCirc=function(a,b,c,e){return-c*(Math.sqrt(1-(a/=e)*a)-1)+b};s._easeOutCirc=function(a,b,c,e){return c*
Math.sqrt(1-(a=a/e-1)*a)+b};s._easeInOutCirc=function(a,b,c,e){return 1>(a/=e/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b};var J=i["com.workinman.math.tween.TWEEN_DIR"]={__ename__:["com","workinman","math","tween","TWEEN_DIR"],__constructs__:"TOP,TOP_RIGHT,RIGHT,BOTTOM_RIGHT,BOTTOM,BOTTOM_LEFT,LEFT,TOP_LEFT".split(",")};J.TOP=["TOP",0];J.TOP.toString=f;J.TOP.__enum__=J;J.TOP_RIGHT=["TOP_RIGHT",1];J.TOP_RIGHT.toString=f;J.TOP_RIGHT.__enum__=J;J.RIGHT=["RIGHT",2];J.RIGHT.toString=
f;J.RIGHT.__enum__=J;J.BOTTOM_RIGHT=["BOTTOM_RIGHT",3];J.BOTTOM_RIGHT.toString=f;J.BOTTOM_RIGHT.__enum__=J;J.BOTTOM=["BOTTOM",4];J.BOTTOM.toString=f;J.BOTTOM.__enum__=J;J.BOTTOM_LEFT=["BOTTOM_LEFT",5];J.BOTTOM_LEFT.toString=f;J.BOTTOM_LEFT.__enum__=J;J.LEFT=["LEFT",6];J.LEFT.toString=f;J.LEFT.__enum__=J;J.TOP_LEFT=["TOP_LEFT",7];J.TOP_LEFT.toString=f;J.TOP_LEFT.__enum__=J;J.__empty_constructs__=[J.TOP,J.TOP_RIGHT,J.RIGHT,J.BOTTOM_RIGHT,J.BOTTOM,J.BOTTOM_LEFT,J.LEFT,J.TOP_LEFT];var Hb=function(){};
i["com.workinman.math.tween.WMTweenDef"]=Hb;Hb.__name__=["com","workinman","math","tween","WMTweenDef"];Hb.__interfaces__=[Fa];Hb.request=function(a,b,c,e,d){return ga.get_instance().requestObject("WMTweenDef",Hb).init(a,b,c,e,d)};Hb.__super__=A;Hb.prototype=u(A.prototype,{create:function(){this._origin={};this._fields=[]},init:function(a,b,c,e,d){this._target=a;this._duration=b;this._delay=d;this._dest=c;this._easeFunction=s.getEaseFunction(null==e?q.EASE_LINEAR:e);this._isComplete=!1;this._completionHandler=
null;this._progress=0;this._started=!1;return this},dispose:function(){for(ha.removePropertiesFromDynamic(this._origin);0<this._fields.length;)this._fields.pop();this._dest=this._target=null;A.prototype.dispose.call(this)},destroy:function(){this._fields=this._origin=null;A.prototype.destroy.call(this)},_start:function(){this._isComplete=!1;this._started=!0;for(var a=0,b=D.fields(this._dest);a<b.length;){var c=b[a];++a;if(Object.prototype.hasOwnProperty.call(this._target,c))this._fields.push(c),D.setField(this._origin,
c,D.field(this._target,c));else{var e=0;null!=D.getProperty(this._target,c)&&(e=D.getProperty(this._target,c));this._fields.push(c);this._origin[c]=e}}},update:function(a){if(0<this._delay&&(this._delay-=a,0<this._delay))return;if(null==this._target)this._isComplete=!0;else if(!1==this._started&&this._start(),this._progress+=a,this._progress>this._duration&&(this._progress=this._duration),this._ratio=Math.floor(1E3*(this._progress/this._duration))/1E3,this._progress>=this._duration){for(var a=0,b=
this._fields;a<b.length;){var c=b[a];++a;D.setProperty(this._target,c,D.field(this._dest,c))}null!=this._completionHandler&&this._completionHandler();this._isComplete=!0}else{a=0;for(b=this._fields;a<b.length;)c=b[a],++a,this._diff=D.field(this._dest,c)-D.field(this._origin,c),D.setProperty(this._target,c,this._easeFunction(D.field(this._origin,c),this._diff,this._progress,this._duration))}},get_isComplete:function(){return this._isComplete},set_isComplete:function(a){this._isComplete=a;return this.get_isComplete()},
get_ratio:function(){return this._ratio},delay:function(a){this._delay=a;return this},ease:function(a){this._easeFunction=s.getEaseFunction(a);return this},onComplete:function(a){this._completionHandler=a;return this},__class__:Hb,__properties__:u(A.prototype.__properties__,{get_ratio:"get_ratio",set_isComplete:"set_isComplete",get_isComplete:"get_isComplete"})});var v=function(){};i["com.workinman.math.tween.WMTweenUtils"]=v;v.__name__=["com","workinman","math","tween","WMTweenUtils"];v.__properties__=
{get__workPoint:"get__workPoint"};v.easeFadeOut=function(a,b,c){null==c&&(c=!0);c&&(a.set_visible(!0),a.set_alpha(1));return b.tween(a,0.3,{alpha:0},!1,q.EASE_OUT)};v.easeBounceIn=function(a,b,c,e,d){null==d&&(d=!1);null==e&&(e=0);null==c&&(c=!0);v._storeScaleFlipState(a);var f=1;d&&(f=Math.abs(a.get_scale()));c&&(a.set_visible(!0),a.set_scaleX(0.1*v._flipX),a.set_scaleY(0.1*v._flipY),a.set_alpha(0));b.tween(a,0.15,{scaleX:1.1*v._flipX*f,scaleY:1.1*v._flipY*f,alpha:1},!0,q.EASE_OUT,e);return b.tween(a,
0.15,{scaleX:v._flipX*f,scaleY:v._flipY*f},!1,q.EASE_IN)};v.easeBounceOut=function(a,b,c,e,d){null==d&&(d=!1);null==e&&(e=0);null==c&&(c=!1);v._storeScaleFlipState(a);var f=1,g=1;d&&(f=Math.abs(a.get_scaleX()),g=Math.abs(a.get_scaleY()));c&&(a.set_visible(!0),a.set_scaleX(v._flipX),a.set_scaleY(v._flipY),a.set_alpha(1));b.tween(a,0.15,{scaleX:1.1*v._flipX*f,scaleY:1.1*v._flipY*g},!0,q.EASE_OUT,e);return b.tween(a,0.15,{scaleX:0.1*v._flipX*f,scaleY:0.1*v._flipY*g,alpha:0},!1,q.EASE_IN)};v.easeSlideInFromDir=
function(a,b,c,e){null==e&&(e=0);v.get__workPoint().toPoint(a.get_pos());v._modifyWorkPointByDir(c);return v.easeSlideIn(a,b,v.get__workPoint().get_x(),v.get__workPoint().get_y(),e)};v.easeSlideIn=function(a,b,c,e,d){null==d&&(d=0);v.get__workPoint().toPoint(a.get_pos());a.get_pos().set_x(c);a.get_pos().set_y(e);a.set_visible(!0);a.set_alpha(1);return b.tween(a.get_pos(),0.5,{x:v.get__workPoint().get_x(),y:v.get__workPoint().get_y()},!0,q.EASE_OUT,d)};v.easeSlideOutToDir=function(a,b,c,e){null==e&&
(e=0);v.get__workPoint().toPoint(a.get_pos());v._modifyWorkPointByDir(c);return v.easeSlideOut(a,b,v.get__workPoint().get_x(),v.get__workPoint().get_y(),e)};v.easeSlideOut=function(a,b,c,e,d){null==d&&(d=0);a.set_visible(!0);a.set_alpha(1);return b.tween(a.get_pos(),0.5,{x:c,y:e},!0,q.EASE_IN,d)};v.easeSlamInFromDir=function(a,b,c,e){null==e&&(e=0);v.get__workPoint().toPoint(a.get_pos());v._modifyWorkPointByDir(c);return v.easeSlamIn(a,b,v.get__workPoint().get_x(),v.get__workPoint().get_y(),e)};v.easeSlamIn=
function(a,b,c,e,d){null==d&&(d=0);v.get__workPoint().toPoint(a.get_pos());a.get_pos().set_x(c);a.get_pos().set_y(e);a.set_visible(!0);a.set_alpha(1);var f=v.get__workPoint().get_x(),g=v.get__workPoint().get_y();v.get__workPoint().to(c,e);v.get__workPoint().subtract(f,g);v.get__workPoint().normalizeTo(0.15*v.get__workPoint().get_length());b.tween(a.get_pos(),0.3,{x:f,y:g},!0,q.EASE_IN,d);b.tween(a.get_pos(),0.15,{x:f+v.get__workPoint().get_x(),y:g+v.get__workPoint().get_y()},!1,q.EASE_OUT);return b.tween(a.get_pos(),
0.15,{x:f,y:g},!1,q.EASE_IN)};v._storeScaleFlipState=function(a){v._flipX=0>a.get_scaleX()?-1:1;v._flipY=0>a.get_scaleY()?-1:1};v.get__workPoint=function(){null==v.__workPoint&&(v.__workPoint=L.request());return v.__workPoint};v._modifyWorkPointByDir=function(a){switch(a[1]){case 3:case 2:case 1:var b=v.get__workPoint();b.set_x(b.get_x()+o.get_CANVAS_WIDTH());break;case 5:case 6:case 7:b=v.get__workPoint(),b.set_x(b.get_x()-o.get_CANVAS_WIDTH())}switch(a[1]){case 7:case 0:case 1:a=v.get__workPoint();
a.set_y(a.get_y()-o.get_CANVAS_HEIGHT());break;case 5:case 4:case 3:a=v.get__workPoint(),a.set_y(a.get_y()+o.get_CANVAS_HEIGHT())}};var za=function(){};i["com.workinman.math.tween.WMTweener"]=za;za.__name__=["com","workinman","math","tween","WMTweener"];za.__interfaces__=[Fa];za.__properties__={get__nullTarget:"get__nullTarget"};za.request=function(){return ga.get_instance().requestObject("WMTweener",za)};za.get__nullTarget=function(){null==za.__nullTarget&&(za.__nullTarget={});return za.__nullTarget};
za.__super__=A;za.prototype=u(A.prototype,{create:function(){this._targets=[]},dispose:function(){for(;0<this._targets.length;)this._targets.pop().dispose();A.prototype.dispose.call(this)},destroy:function(){this._targets=null;A.prototype.destroy.call(this)},update:function(a){for(this._i=this._targets.length;0<this._i--;)this._targets[this._i].update(a),this._targets[this._i].get_isComplete()&&(this._targets[this._i].dispose(),this._targets.splice(this._i,1))},hasTween:function(a){for(var b=0,c=
this._targets;b<c.length;){var e=c[b];++b;if(e.get_target()==a)return!0}return!1},tween:function(a,b,c,e,d,f,g){null==g&&(g="def");null==f&&(f=0);null==e&&(e=!1);b=Hb.request(a,b,c,d,f);c=0;for(d=this._targets;c<d.length;)if(f=d[c],++c,f.get_target()==a)return e&&f.clearTweens(g),f.addTween(b,g),b;a=xa.request(a);this._targets.push(a);a.addTween(b,g);return b},timer:function(a,b){null==b&&(b=0);return this.tween(za.get__nullTarget(),a,za.get__nullTarget(),!0,null,b,"tim"+za._uniqueTimer++)},stop:function(a){for(this._i=
this._targets.length;0<this._i;)if(this._i--,this._targets[this._i].get_target()==a){this._targets[this._i].dispose();this._targets.splice(this._i,1);break}},stopAllTweens:function(){for(;0<this._targets.length;)this._targets.pop().dispose()},__class__:za});var xa=function(){};i["com.workinman.math.tween.WMTweenTracker"]=xa;xa.__name__=["com","workinman","math","tween","WMTweenTracker"];xa.__interfaces__=[Fa];xa.request=function(a){return ga.get_instance().requestObject("WMTweenTracker",xa).init(a)};
xa.__super__=A;xa.prototype=u(A.prototype,{create:function(){this._tweens=new H},init:function(a){this._target=a;this._isComplete=!1;this._threadCount=0;return this},dispose:function(){this.clearAllTweens();this._target=null;A.prototype.dispose.call(this)},destroy:function(){this._tweens=null;A.prototype.destroy.call(this)},update:function(a){for(var b=this._tweens.keys();b.hasNext();){var c=b.next();xa._tweenUpdate.push(c)}for(;0<xa._tweenUpdate.length;)this._updateThread(a,xa._tweenUpdate.pop());
this._runRemoval();1>this._threadCount&&(this._isComplete=!0,this._dispatchTweensAllComplete(this._target))},_updateThread:function(a,b){1>this._tweens.get(b).length?xa._tweenRemoval.push(b):(this._tweens.get(b)[0].update(a),this._tweens.get(b)[0].get_isComplete()&&(this._tweens.get(b)[0].dispose(),this._tweens.get(b).splice(0,1),this._updateThread(a,b)))},_dispatchTweensAllComplete:function(a){k.get_instance().get_dispatcher().dispatchEvent($.request(n.TWEENS_ALL_COMPLETE,function(){var b=new H;
b.set("target",a);return b}(this)))},get_target:function(){return this._target},get_isComplete:function(){return this._isComplete},set_isComplete:function(a){return this._isComplete=a},clearAllTweens:function(){for(var a=this._tweens.keys();a.hasNext();){var b=a.next();xa._tweenUpdate.push(b)}for(;0<xa._tweenUpdate.length;)this.clearTweens(xa._tweenUpdate.pop())},clearTweens:function(a){if(null!=this._tweens.get(a)){for(;0<this._tweens.get(a).length;)this._tweens.get(a).pop().dispose();xa._tweenRemoval.push(a);
this._runRemoval()}},_runRemoval:function(){for(;0<xa._tweenRemoval.length;)this._tweens.remove(xa._tweenRemoval.pop()),this._threadCount--},addTween:function(a,b){if(null==this._tweens.get(b)){this._threadCount++;var c=[];this._tweens.set(b,c);c}this._tweens.get(b).push(a)},__class__:xa,__properties__:u(A.prototype.__properties__,{set_isComplete:"set_isComplete",get_isComplete:"get_isComplete",get_target:"get_target"})});var jb=function(){this._dispatcher=Ya.request();this._data={};this.sharedKey=
""};i["com.workinman.net.WMSharedObject"]=jb;jb.__name__=["com","workinman","net","WMSharedObject"];jb.getLocalStorage=function(){return window.localStorage};jb.getLocal=function(a){try{var b=new jb;b.sharedKey=a;var c=jb.getLocalStorage().getItem(b.sharedKey);b.set_data(""==c||null==c?{}:Ma.run(c));return b}catch(e){return a=new jb,a.sharedKey="",a}};jb.prototype={dispose:function(){this._data=null;this._dispatcher.dispose();this._dispatcher=null},get_data:function(){return this._data},set_data:function(a){return this._data=
a},flush:function(){var a=eb.run(this.get_data());jb.getLocalStorage().setItem(this.sharedKey,a);return ye.FLUSHED},__class__:jb,__properties__:{set_data:"set_data",get_data:"get_data"}};var ye=function(){};i["com.workinman.net.SharedObjectFlushedStatus"]=ye;ye.__name__=["com","workinman","net","SharedObjectFlushedStatus"];var hb=function(){};i["com.workinman.services.ServiceAnalytics"]=hb;hb.__name__=["com","workinman","services","ServiceAnalytics"];hb.enableCanadaTracking=function(a){hb._flagCanadaTrackingEnabled=
!0;hb._canadaShowGameTitle=a};hb.sendCanadaTrackingCall=function(a){if(hb._flagCanadaTrackingEnabled)try{eval("trackFlashEvent('"+hb._canadaShowGameTitle+"', '"+a+"', 'true');")}catch(b){}};var G=i["com.workinman.services.ANALYTICS_CALLS"]={__ename__:["com","workinman","services","ANALYTICS_CALLS"],__constructs__:"onLoadingStart,onLoadingEnd,onTitleScreenStart,onTitleScreenEnd,onResume,onPause,onLevelStart,onLevelComplete,onGameOver,getLoadingProgress".split(",")};G.onLoadingStart=["onLoadingStart",
0];G.onLoadingStart.toString=f;G.onLoadingStart.__enum__=G;G.onLoadingEnd=["onLoadingEnd",1];G.onLoadingEnd.toString=f;G.onLoadingEnd.__enum__=G;G.onTitleScreenStart=["onTitleScreenStart",2];G.onTitleScreenStart.toString=f;G.onTitleScreenStart.__enum__=G;G.onTitleScreenEnd=["onTitleScreenEnd",3];G.onTitleScreenEnd.toString=f;G.onTitleScreenEnd.__enum__=G;G.onResume=["onResume",4];G.onResume.toString=f;G.onResume.__enum__=G;G.onPause=["onPause",5];G.onPause.toString=f;G.onPause.__enum__=G;G.onLevelStart=
["onLevelStart",6];G.onLevelStart.toString=f;G.onLevelStart.__enum__=G;G.onLevelComplete=["onLevelComplete",7];G.onLevelComplete.toString=f;G.onLevelComplete.__enum__=G;G.onGameOver=["onGameOver",8];G.onGameOver.toString=f;G.onGameOver.__enum__=G;G.getLoadingProgress=["getLoadingProgress",9];G.getLoadingProgress.toString=f;G.getLoadingProgress.__enum__=G;G.__empty_constructs__=[G.onLoadingStart,G.onLoadingEnd,G.onTitleScreenStart,G.onTitleScreenEnd,G.onResume,G.onPause,G.onLevelStart,G.onLevelComplete,
G.onGameOver,G.getLoadingProgress];var sa=function(){this._flagInitted=this._flagEnabled=!1};i["com.workinman.services.ServiceProxy"]=sa;sa.__name__=["com","workinman","services","ServiceProxy"];sa.__properties__={get_instance:"get_instance"};sa.get_instance=function(){null==sa.__instance&&(sa.__instance=new sa);return sa.__instance};sa.prototype={init:function(a,b){this._flagInitted||(this._flagInitted=!0,k.get_instance().get_assets().addFile(a+"data/service_rules.json","service_rules",b,"data"))},
onBootstrapLoad:function(a){if(this._flagInitted&&(this._flagEnabled=a))this._data=JSON.parse(k.get_instance().get_assets().getFile("service_rules").toString()),Qa.addScript("service-manager",l.get_instance().basePath+"embed/ServiceManager.js")},sendTrackingCall:function(a,b){if(this._flagInitted&&this._flagEnabled){var c=y.string(a);if(!1!=D.field(this._data,c)){var e={};if(null!=b)for(var d=D.fields(b),f=0;f<d.length;){var g=d[f];++f;D.setField(e,g,D.field(b,g))}e=this._gatherData(a,e);e=this._convertDynamicToObject(e);
try{eval("sendTrackingCall('"+c+"', '"+e+"')")}catch(h){}}}},_gatherData:function(a,b){switch(a[1]){case 6:case 7:b.level="Level "+(k.get_instance().getInt(m.INT_LEVEL)+1)}b.timestamp=(new Date).getTime();return b},_convertDynamicToObject:function(a){var b="{";if(null!=a){for(var c=D.fields(a),e=0;e<c.length;){var d=c[e];++e;var f=D.field(a,d);if(null==f)b+="'"+y.string(d)+"':,";else if("string"==typeof f)f=y.string(f),f=Q.replace(f,"'",""),b+="'"+y.string(d)+"':'"+f+"',";else if((f|0)===f||"number"==
typeof f)b+="'"+y.string(d)+"':"+y.string(f)+",";else if("boolean"==typeof f)b+="'"+y.string(d)+"':"+y.string(f)+",";else if(f instanceof Array&&null==f.__enum__){b+="'"+y.string(d)+"':[";d=f;for(f=0;f<d.length;){var g=d[f];++f;b+=this._convertDynamicToObject(g)+","}0<d.length&&(b=b.substring(0,b.length-1));b+="],"}else b+="'"+y.string(d)+"':"+this._convertDynamicToObject(f)+","}0<c.length&&(b=E.substr(b,0,b.length-1))}return b+"}"},__class__:sa};var S=function(){};i["com.workinman.utils.JSEmbedProxy"]=
S;S.__name__=["com","workinman","utils","JSEmbedProxy"];S.__properties__={get_isPortrait:"get_isPortrait",get_isPaused:"get_isPaused",get_canvasHeight:"get_canvasHeight",get_scaleType:"get_scaleType",get_isCrossdomain:"get_isCrossdomain",get_base:"get_base",get_exists:"get_exists"};S.get_exists=function(){return S.callJSEmbedMethod("exists()")};S.get_base=function(){return S.callJSEmbedMethod("baseUrl()")};S.get_isCrossdomain=function(){return S.callJSEmbedMethod("isBaseCrossdomain()")};S.get_scaleType=
function(){return S.callJSEmbedMethod("scaleType()")};S.get_canvasHeight=function(){return y.parseFloat(S.callJSEmbedMethod("canvasHeight()"))};S.get_isPaused=function(){return S.callJSEmbedMethod("isPaused()")};S.get_isPortrait=function(){return S.callJSEmbedMethod("isPortrait()")};S.callJSEmbedMethod=function(a){try{var b=eval("jsembed."+a);if(null!=b)return b}catch(c){}return""};S.eval=function(a){try{return eval(a)}catch(b){}return null};var Qa=function(){};i["com.workinman.utils.WMPageUtils"]=
Qa;Qa.__name__=["com","workinman","utils","WMPageUtils"];Qa.addScript=function(a,b){var c=window.document.createElement("script");c.setAttribute("id",a);c.setAttribute("type","text/javascript");c.setAttribute("src",b);window.document.getElementsByTagName("head")[0].appendChild(c)};Qa.isCopyAvailable=function(){var a=document.queryCommandSupported("copy")||document.queryCommandEnabled("copy");return a?!0:(a=null!=window.clipboardData)?!0:!1};Qa.copyClip=function(a,b){null==b&&(b=!0);var c=null!=window.clipboardData;
c?__js__("window.clipboardData.setData('text/plain', '"+a+"');"):(c=document.queryCommandSupported("copy")||document.queryCommandEnabled("copy"))?(c=window.document.createElement("input"),c.setAttribute("type","text"),window.document.body.appendChild(c),c.setAttribute("value",a),c.select(),!document.execCommand("copy"),c.remove()):b&&prompt("Copy the text below. (ctrl c, enter)",a)};Qa.getQueryVariable=function(a,b){null==b&&(b=!1);var c=S.eval("window.location.search.substring(1)");b&&(c=S.eval("window.top.location.search.substring(1)"));
for(var c=c.split("&"),e=0,d=c.length;e<d;){var f=e++,f=c[f].split("=");if(f[0]==a)return f[1]}return null};var ue=function(){};i["flambe.util.PackageLog"]=ue;ue.__name__=["flambe","util","PackageLog"];var Md=function(){};i["flambe.platform.Platform"]=Md;Md.__name__=["flambe","platform","Platform"];Md.prototype={__class__:Md};var zb=function(){};i["flambe.platform.html.HtmlPlatform"]=zb;zb.__name__=["flambe","platform","html","HtmlPlatform"];zb.__interfaces__=[Md];zb.prototype={init:function(){var a=
this;M.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new tb(b);this._pointer=new kb;this._mouse=new Vc(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new Nd;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";
this._container.style.msTouchAction="none";var e=0,d=function(c){if(!(1E3>c.timeStamp-e)){var d=b.getBoundingClientRect(),f=a.getX(c,d),d=a.getY(c,d);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(f,d,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(f,d);break;case "mouseup":a._mouse.submitUp(f,d,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(f,d,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};
window.addEventListener("mousedown",d,!1);window.addEventListener("mousemove",d,!1);window.addEventListener("mouseup",d,!1);b.addEventListener("mousewheel",d,!1);b.addEventListener("DOMMouseScroll",d,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var f="undefined"!=typeof window.ontouchstart,d="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(f||d){var g=new Wc(this._pointer,f?4:window.navigator.msMaxTouchPoints);this._touch=g;d=function(b){var c;
c=f?b.changedTouches:[b];var d=b.target.getBoundingClientRect();e=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();M.SHOULD_HIDE_MOBILE_BROWSER&&M.hideMobileBrowser();for(b=0;b<c.length;){var j=c[b];++b;var h=a.getX(j,d),i=a.getY(j,d);g.submitDown((f?j.identifier:j.pointerId)|0,h,i)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)j=c[b],++b,h=a.getX(j,d),i=a.getY(j,d),g.submitMove((f?j.identifier:
j.pointerId)|0,h,i);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)j=c[b],++b,h=a.getX(j,d),i=a.getY(j,d),g.submitUp((f?j.identifier:j.pointerId)|0,h,i)}};f?(b.addEventListener("touchstart",d,!1),b.addEventListener("touchmove",d,!1),b.addEventListener("touchend",d,!1),b.addEventListener("touchcancel",d,!1)):(b.addEventListener("MSPointerDown",d,!1),b.addEventListener("MSPointerMove",d,!1),b.addEventListener("MSPointerUp",d,!1))}else this._touch=new Xc;
var h=window.onerror;window.onerror=function(a,b,c){z.get_instance().uncaughtError.emit(a);return null!=h?h(a,b,c):!1};var i=M.loadExtension("hidden",window.document);null!=i.value?(d=function(){z.get_instance().set_hidden(D.field(window.document,i.field))},d(null),window.document.addEventListener(i.prefix+"visibilitychange",d,!1)):(d=function(a){z.get_instance().set_hidden("pagehide"==a.type)},window.addEventListener("pageshow",d,!1),window.addEventListener("pagehide",d,!1));z.get_instance().addHiddenListener(t(this,
this._onHidden));this._skipFrame=!1;this._lastUpdate=Date.now();var k=M.loadExtension("requestAnimationFrame").value;if(null!=k){var m=window.performance,l=null!=m&&M.polyfill("now",m);l?this._lastUpdate=m.now():null;var n=null,n=function(c){a.update(l?m.now():c);k(n,b)};k(n,b)}else window.setInterval(function(){a.update(Date.now())},16);jc.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},_onHidden:function(a){a||(this._skipFrame=!0)},loadAssetPack:function(a){return(new ba(this,
a)).promise},getStage:function(){return this._stage},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;z.get_instance().get_hidden()||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new fb;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&
b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new Wb(a)},__class__:zb};var z=function(){this._volume=1;this._renderCompleteDelegate=
[];this.uncaughtError=new qa;this.root=new C};i["flambe.System"]=z;z.__name__=["flambe","System"];z.__properties__={get_instance:"get_instance"};z.get_instance=function(){null==z.__instance&&(z.__instance=new z);return z.__instance};z.prototype={get_hidden:function(){return this._hidden},set_hidden:function(a){this._hidden=a;for(var a=0,b=this._hiddenDispatcher;a<b.length;){var c=b[a];++a;c(this._hidden)}return this._hidden},addHiddenListener:function(a){for(var b=0,c=this._hiddenDispatcher;b<c.length;){var e=
c[b];++b;if(e==a)return}this._hiddenDispatcher.push(a)},removeHiddenListener:function(a){for(var b=this._hiddenDispatcher.length;0<b--;)if(this._hiddenDispatcher[b]==a){this._hiddenDispatcher.splice(b,1);break}},addRenderCompleteDelegate:function(a){this._renderCompleteDelegate.push(a)},removeRenderCompleteDelegate:function(a){for(var b=this._renderCompleteDelegate.length;0<b--;)this._renderCompleteDelegate[b]==a&&this._renderCompleteDelegate.splice(b,1)},renderComplete:function(){for(var a=0,b=this._renderCompleteDelegate;a<
b.length;){var c=b[a];++a;c()}},get_volume:function(){return this._volume},addVolumeListener:function(a){for(var b=0,c=this._volumeDispatcher;b<c.length;){var e=c[b];++b;if(e==a)return}this._volumeDispatcher.push(a)},removeVolumeListener:function(a){for(var b=this._volumeDispatcher.length;0<b--;)if(this._volumeDispatcher[b]==a){this._volumeDispatcher.splice(b,1);break}},init:function(){this._volumeDispatcher=[];this._hiddenDispatcher=[];z._platform.init()},loadAssetPack:function(a){return z._platform.loadAssetPack(a)},
get_stage:function(){return z._platform.getStage()},get_pointer:function(){return z._platform.getPointer()},get_touch:function(){return z._platform.getTouch()},get_keyboard:function(){return z._platform.getKeyboard()},get_renderer:function(){return z._platform.getRenderer()},__class__:z,__properties__:{get_renderer:"get_renderer",get_keyboard:"get_keyboard",get_touch:"get_touch",get_pointer:"get_pointer",get_stage:"get_stage",get_volume:"get_volume",set_hidden:"set_hidden",get_hidden:"get_hidden"}};
var jc=function(){};i["flambe.Log"]=jc;jc.__name__=["flambe","Log"];jc.info=function(){null};jc.__super__=ue;jc.prototype=u(ue.prototype,{__class__:jc});var Ib=function(){};i["flambe.asset.Asset"]=Ib;Ib.__name__=["flambe","asset","Asset"];Ib.__interfaces__=[nb];Ib.prototype={__class__:Ib};var w=i["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};w.WEBP=["WEBP",0];w.WEBP.toString=f;w.WEBP.__enum__=
w;w.JXR=["JXR",1];w.JXR.toString=f;w.JXR.__enum__=w;w.PNG=["PNG",2];w.PNG.toString=f;w.PNG.__enum__=w;w.JPG=["JPG",3];w.JPG.toString=f;w.JPG.__enum__=w;w.GIF=["GIF",4];w.GIF.toString=f;w.GIF.__enum__=w;w.DDS=["DDS",5];w.DDS.toString=f;w.DDS.__enum__=w;w.PVR=["PVR",6];w.PVR.toString=f;w.PVR.__enum__=w;w.PKM=["PKM",7];w.PKM.toString=f;w.PKM.__enum__=w;w.MP3=["MP3",8];w.MP3.toString=f;w.MP3.__enum__=w;w.M4A=["M4A",9];w.M4A.toString=f;w.M4A.__enum__=w;w.OPUS=["OPUS",10];w.OPUS.toString=f;w.OPUS.__enum__=
w;w.OGG=["OGG",11];w.OGG.toString=f;w.OGG.__enum__=w;w.WAV=["WAV",12];w.WAV.toString=f;w.WAV.__enum__=w;w.Data=["Data",13];w.Data.toString=f;w.Data.__enum__=w;w.__empty_constructs__=[w.WEBP,w.JXR,w.PNG,w.JPG,w.GIF,w.DDS,w.PVR,w.PKM,w.MP3,w.M4A,w.OPUS,w.OGG,w.WAV,w.Data];var Od=function(a,b,c,e){this.name=a;this.url=b;this.format=c;this.bytes=e};i["flambe.asset.AssetEntry"]=Od;Od.__name__=["flambe","asset","AssetEntry"];Od.prototype={__class__:Od};var Yc=function(){};i["flambe.asset.AssetPack"]=Yc;
Yc.__name__=["flambe","asset","AssetPack"];Yc.__interfaces__=[nb];Yc.prototype={__class__:Yc};var Zc=function(){};i["flambe.asset.File"]=Zc;Zc.__name__=["flambe","asset","File"];Zc.__interfaces__=[Ib];Zc.prototype={__class__:Zc};var Xa=function(){this._localBase=this._remoteBase=null;this._entries=[]};i["flambe.asset.Manifest"]=Xa;Xa.__name__=["flambe","asset","Manifest"];Xa.fromAssets=function(a,b){null==b&&(b=!0);var c=D.field(ve.getType(Xa).assets[0],a);if(null==c){if(b)throw Ba.withFields("Missing asset pack",
["name",a]);return null}var e=new Xa;e.set_localBase("assets");for(var d=0;d<c.length;){var f=c[d];++d;var g=f.name,h=a+"/"+g+"?v="+y.string(f.md5),i=Xa.inferFormat(g);i!=w.Data&&(g=Ba.removeFileExtension(g));e.add(g,h,f.bytes,i)}return e};Xa.inferFormat=function(a){a=Ba.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return w.GIF;case "jpg":case "jpeg":return w.JPG;case "jxr":case "wdp":return w.JXR;case "png":return w.PNG;case "webp":return w.WEBP;case "dds":return w.DDS;case "pvr":return w.PVR;
case "pkm":return w.PKM;case "m4a":return w.M4A;case "mp3":return w.MP3;case "ogg":return w.OGG;case "opus":return w.OPUS;case "wav":return w.WAV}else null;return w.Data};Xa.prototype={add:function(a,b,c,e){null==c&&(c=0);null==e&&(e=Xa.inferFormat(b));a=new Od(a,b,e,c);this._entries.push(a);return a},iterator:function(){return E.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&Xa._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?Ba.joinPath(b,
a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&Pd.that(!Q.startsWith(a,"http://")&&!Q.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},set_remoteBase:function(a){null!=a&&Pd.that(Q.startsWith(a,"http://")||Q.startsWith(a,"https://"),"remoteBase must be on a remote domain, starting with http(s)://",null);return this._remoteBase=
a},__class__:Xa,__properties__:{set_remoteBase:"set_remoteBase",get_remoteBase:"get_remoteBase",set_localBase:"set_localBase",get_localBase:"get_localBase"}};var R=i["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};R.Normal=["Normal",0];R.Normal.toString=f;R.Normal.__enum__=R;R.Add=["Add",1];R.Add.toString=f;R.Add.__enum__=R;R.Multiply=["Multiply",2];R.Multiply.toString=f;R.Multiply.__enum__=R;R.Screen=["Screen",
3];R.Screen.toString=f;R.Screen.__enum__=R;R.Mask=["Mask",4];R.Mask.toString=f;R.Mask.__enum__=R;R.Copy=["Copy",5];R.Copy.toString=f;R.Copy.__enum__=R;R.__empty_constructs__=[R.Normal,R.Add,R.Multiply,R.Screen,R.Mask,R.Copy];var ia=function(a){C.call(this,a);this.color=a.color;this.width=a.width;this.height=a.height};i["flambe.display.FillSprite"]=ia;ia.__name__=["flambe","display","FillSprite"];ia.__super__=C;ia.prototype=u(C.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width,this.height)},
getNaturalWidth:function(){return this.width},getNaturalHeight:function(){return this.height},setSize:function(a,b){this.width=a;this.height=b;return this},__class__:ia});var $c=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};i["flambe.display.Glyph"]=$c;$c.__name__=["flambe","display","Glyph"];$c.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,
this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?y["int"](this._kernings.get(a)):0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new Za);this._kernings.set(a,b)},__class__:$c};var Fb=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload();var c=this._glyphs.get(120);this.descenderHeight=this._glyphs.get(121).height-c.height};i["flambe.display.Font"]=Fb;Fb.__name__=["flambe","display","Font"];Fb.prototype={layoutText:function(a,
b,c,e,d,f){null==b&&(b=la.Center);return Jb.request(this,a,b,c,e,d,f)},reload:function(){this._glyphs=new Za;this._glyphs.set(Fb.NEWLINE.charCode,Fb.NEWLINE);for(var a=new Xb(this._file.toString()),b=new Za,c=this.name.lastIndexOf("/"),c=0<=c?E.substr(this.name,0,c+1):"",e=a.keywords();e.hasNext();)switch(e.next()){case "info":for(var d=a.pairs();d.hasNext();){var f=d.next();switch(f.key){case "size":this.size=f.getInt()}}break;case "common":for(d=a.pairs();d.hasNext();)switch(f=d.next(),f.key){case "lineHeight":this.lineHeight=
f.getInt()}break;case "page":for(var d=0,f=null,g=a.pairs();g.hasNext();){var h=g.next();switch(h.key){case "id":d=h.getInt();break;case "file":f=h.getString()}}f=this._pack.getTexture(c+Ba.removeFileExtension(f));b.set(d,f);break;case "char":d=null;for(f=a.pairs();f.hasNext();)switch(g=f.next(),g.key){case "id":d=new $c(g.getInt());break;case "x":d.x=g.getInt();break;case "y":d.y=g.getInt();break;case "width":d.width=g.getInt();break;case "height":d.height=g.getInt();break;case "page":g=g.getInt();
d.page=b.get(g);break;case "xoffset":d.xOffset=g.getInt();break;case "yoffset":d.yOffset=g.getInt();break;case "xadvance":d.xAdvance=g.getInt()}this._glyphs.set(d.charCode,d);break;case "kerning":d=null;g=f=0;for(h=a.pairs();h.hasNext();){var i=h.next();switch(i.key){case "first":d=this._glyphs.get(i.getInt());break;case "second":f=i.getInt();break;case "amount":g=i.getInt()}}null!=d&&0!=g&&d.setKerning(f,g)}},__class__:Fb};var Xb=function(a){this._configText=a;this._keywordPattern=new mb("([A-Za-z]+)(.*)",
"");this._pairPattern=new mb('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};i["flambe.display._Font.ConfigParser"]=Xb;Xb.__name__=["flambe","display","_Font","ConfigParser"];Xb.advance=function(a,b){var c=b.matchedPos();return E.substr(a,c.pos+c.len,a.length)};Xb.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=Xb.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},
pairs:function(){var a=this,b=this._pairText;return{next:function(){b=Xb.advance(b,a._pairPattern);return new Qd(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:Xb};var Qd=function(a,b){this.key=a;this._value=b};i["flambe.display._Font.ConfigPair"]=Qd;Qd.__name__=["flambe","display","_Font","ConfigPair"];Qd.prototype={getInt:function(){return y.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:
E.substr(this._value,1,this._value.length-2)},__class__:Qd};var Rd=function(){};i["flambe.display.Graphics"]=Rd;Rd.__name__=["flambe","display","Graphics"];Rd.prototype={__class__:Rd};var gb=i["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};gb.Portrait=["Portrait",0];gb.Portrait.toString=f;gb.Portrait.__enum__=gb;gb.Landscape=["Landscape",1];gb.Landscape.toString=f;gb.Landscape.__enum__=gb;gb.__empty_constructs__=[gb.Portrait,gb.Landscape];
var ad=function(){};i["flambe.display.Texture"]=ad;ad.__name__=["flambe","display","Texture"];ad.__interfaces__=[Ib];ad.prototype={__class__:ad};var we=function(){};i["flambe.display.SubTexture"]=we;we.__name__=["flambe","display","SubTexture"];we.__interfaces__=[ad];var la=i["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};la.Left=["Left",0];la.Left.toString=f;la.Left.__enum__=la;la.Center=["Center",1];la.Center.toString=f;la.Center.__enum__=
la;la.Right=["Right",2];la.Right.toString=f;la.Right.__enum__=la;la.__empty_constructs__=[la.Left,la.Center,la.Right];var Jb=function(){};i["flambe.display.TextLayout"]=Jb;Jb.__name__=["flambe","display","TextLayout"];Jb.__interfaces__=[Fa];Jb.request=function(a,b,c,e,d,f,g){return ga.get_instance().requestObject("TextLayout",Jb).init(a,b,c,e,d,f,g)};Jb.__super__=A;Jb.prototype=u(A.prototype,{init:function(a,b,c,e,d,f,g){this._lines=0;this._font=a;this._glyphs=[];this._offsets=[];this._originY=g;
this._lineOffset=Math.round(a.lineHeight+f);this.bounds=Ua.request();for(var f=[],g=b.length,h=0;h<g;){var i=h++,i=b.charCodeAt(i),i=a._glyphs.get(i);null!=i?this._glyphs.push(i):null}g=-1;b=h=0;a=a._glyphs.get(10);for(i=0;i<this._glyphs.length;){var k=this._glyphs[i];this._offsets[i]=Math.round(h);var m=0<e&&h+k.width>e;m||k==a?(m&&(0<=g?(this._glyphs[g]=a,h=this._offsets[g],i=g):this._glyphs.splice(i,0,a)),g=-1,b=this._lineOffset,this._addLine(h,b,f),h=0):(32==k.charCode&&(g=i),h+=k.xAdvance+d,
b=ab.max(b,k.height+k.yOffset),i+1<this._glyphs.length&&(h+=k.getKerning(this._glyphs[i+1].charCode)));++i}this._addLine(h,b,f);d=0;a=this._getAlignOffset(c,f[0],0);g=1.79769313486231E308;h=-1.79769313486231E308;k=i=0;for(m=this._glyphs.length;k<m;){var l=this._glyphs[k];10==l.charCode&&(d+=this._lineOffset,++i,a=this._getAlignOffset(c,f[i],0));this._offsets[k]+=a;var n=d+l.yOffset;g<n||(g=n);h=ab.max(h,n+l.height);++k}this._lineHeight=b;this.bounds.set_x(this._getAlignOffset(c,this.bounds.get_width(),
e));this.bounds.set_y(g);this.bounds.set_height(h-g);return this},_addLine:function(a,b,c){this.bounds.set_width(ab.max(this.bounds.get_width(),a));var e=this.bounds;e.set_height(e.get_height()+b);c[this.get_lines()]=a;++this._lines},dispose:function(){this.bounds.dispose();this.bounds=null;A.prototype.dispose.call(this)},get_lines:function(){return this._lines},get_lineHeight:function(){return this._lineHeight},draw:function(a,b,c){null==c&&(c=0);null==b&&(b=0);for(var e=0-(this.bounds.get_height()-
this._lineHeight)*this._originY,d=0,f=this._glyphs.length;d<f;){var g=this._glyphs[d];10==g.charCode?e+=this._lineOffset:g.draw(a,this._offsets[d]+b,e+c);++d}},_getAlignOffset:function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round(0.5*(c-b))}},__class__:Jb,__properties__:u(A.prototype.__properties__,{get_lineHeight:"get_lineHeight",get_lines:"get_lines"})});var La=function(){};i["flambe.display.WMSpriteRect"]=La;La.__name__=["flambe","display","WMSpriteRect"];La.__interfaces__=
[Fa];La.request=function(a){return ga.get_instance().requestObject("WMSpriteRect",La).init(a,!1,0,0,0,0,0,0,0,0)};La.requestSubTexture=function(a,b,c,e,d,f,g,h,i){return ga.get_instance().requestObject("WMSpriteRect",La).init(a,!0,b,c,e,d,f,g,h,i)};La.__super__=A;La.prototype=u(A.prototype,{init:function(a,b,c,e,d,f,g,h,i,k){this._sub=b;this._texture=a;this._offsetX=c;this._offsetY=e;this._originalW=d;this._originalH=f;this._sourceX=g;this._sourceY=h;this._sourceWidth=i;this._sourceHeight=k;return this},
dispose:function(){this._texture=null;A.prototype.dispose.call(this)},get_texture:function(){return this._texture},set_texture:function(a){return this._texture=a},get_sub:function(){return this._sub},get_disposed:function(){return this._disposed},get_offsetX:function(){return this._offsetX},get_offsetY:function(){return this._offsetY},get_originalW:function(){return this._originalW},get_originalH:function(){return this._originalH},get_sourceX:function(){return this._sourceX},get_sourceY:function(){return this._sourceY},
get_sourceWidth:function(){return this._sourceWidth},get_sourceHeight:function(){return this._sourceHeight},__class__:La,__properties__:u(A.prototype.__properties__,{get_sourceHeight:"get_sourceHeight",get_sourceWidth:"get_sourceWidth",get_sourceY:"get_sourceY",get_sourceX:"get_sourceX",get_originalH:"get_originalH",get_originalW:"get_originalW",get_offsetY:"get_offsetY",get_offsetX:"get_offsetX",get_disposed:"get_disposed",get_sub:"get_sub",set_texture:"set_texture",get_texture:"get_texture"})});
var wb=function(){};i["flambe.display.animation.AnimationDef"]=wb;wb.__name__=["flambe","display","animation","AnimationDef"];wb.__interfaces__=[Fa];wb.request=function(a,b,c,e){null==c&&(c=-1);null==b&&(b=-1);return ga.get_instance().requestObject("AnimationDef",wb).init(a,b,c,e)};wb.__super__=A;wb.prototype=u(A.prototype,{init:function(a,b,c,e){null==c&&(c=-1);null==b&&(b=-1);this._id=a;this._playReverse=!1;this._frames=e;null!=this._frames?(this._startFrame=1,this._endFrame=this._frames.length):
(this._startFrame=b,this._endFrame=c,b>c&&(this._playReverse=!0,this._startFrame=c,this._endFrame=b));return this},dispose:function(){this._id=this._frames=null;A.prototype.dispose.call(this)},get_start:function(){return this._startFrame},get_end:function(){return this._endFrame},get_reverse:function(){return this._playReverse},get_id:function(){return this._id},get_frames:function(){return this._frames},__class__:wb,__properties__:u(A.prototype.__properties__,{get_frames:"get_frames",get_id:"get_id",
get_reverse:"get_reverse",get_end:"get_end",get_start:"get_start"})});var Cb=function(){};i["flambe.display.animation.QueuedAnimation"]=Cb;Cb.__name__=["flambe","display","animation","QueuedAnimation"];Cb.__interfaces__=[Fa];Cb.request=function(a,b,c){return ga.get_instance().requestObject("QueuedAnimation",Cb).init(a,b,c)};Cb.__super__=A;Cb.prototype=u(A.prototype,{init:function(a,b,c){this._name=a;this._loops=b;this._force=c;return this},dispose:function(){A.prototype.dispose.call(this);this._name=
null},get_name:function(){return this._name},get_loops:function(){return this._loops},get_force:function(){return this._force},__class__:Cb,__properties__:u(A.prototype.__properties__,{get_force:"get_force",get_loops:"get_loops",get_name:"get_name"})});var Fd=function(a,b){this._frames=[];this._lastImg=null;this._gif=new Sd(a,b);this._gif.get_handler().hdr=t(this,this._doHdr);this._gif.get_handler().gce=t(this,this._doGCE);this._gif.get_handler().img=t(this,this._doImg);this._gif.get_handler().eof=
t(this,this._doEof);this._gif.start()};i["flambe.display.gif.GifLibrary"]=Fd;Fd.__name__=["flambe","display","gif","GifLibrary"];Fd.prototype={dispose:function(){null!=this._gif&&this._gif.dispose();this._hdr=this._gif=null;null!=this._tempFrame&&this._tempFrame.dispose();this._data=this._imgData=this._ctx2d=this._ctx=this._lastImg=this._tempFrame=null},get_frames:function(){return this._frames},_doHdr:function(a){this._hdr=a;this._width=a.width;this._height=a.height},_doGCE:function(a){this._pushFrame();
this._clear();this._transparency=a.transparencyGiven?a.transparencyIndex:-1;this._delay=a.delayTime;this._disposalMethod=a.disposalMethod},_doImg:function(a){null==this._tempFrame&&(this._tempFrame=La.request(z.get_instance().get_renderer().createTexture(Math.floor(this._width),Math.floor(this._height))),this._ctx=P.__cast(this._tempFrame.get_texture(),kc),this._ctx2d=P.__cast(this._ctx.root,Ab).getContext2d(),this._imgData=this._ctx2d.getImageData(a.leftPos,a.topPos,a.width,a.height),this._data=
this._imgData.data);var b;b=a.lctFlag?a.lct:this._hdr.gct;var c=this._frames.length;0<c&&(3==this._lastDisposalMethod?-1!=this._disposalRestoreFromIdx?this._tempFrame.get_texture().get_graphics().drawTexture(this._frames[this._disposalRestoreFromIdx].texture,0,0):this._ctx2d.clearRect(this._lastImg.leftPos,this._lastImg.topPos,this._lastImg.width,this._lastImg.height):this._disposalRestoreFromIdx=c-1,2==this._lastDisposalMethod&&this._ctx2d.clearRect(this._lastImg.leftPos,this._lastImg.topPos,this._lastImg.width,
this._lastImg.height));this._imgData=this._ctx2d.getImageData(a.leftPos,a.topPos,a.width,a.height);this._data=this._imgData.data;for(var c=0,e=a.pixels.length;c<e;){var d=c++,f=a.pixels[d];f!=this._transparency&&(this._data[4*d]=b[f][0],this._data[4*d+1]=b[f][1],this._data[4*d+2]=b[f][2],this._data[4*d+3]=255)}this._ctx2d.putImageData(this._imgData,a.leftPos,a.topPos);P.__cast(this._ctx.root,Ab).dirtyContents();this._lastImg=a},_doEof:function(){this._pushFrame();this._lastImg=this._data=this._imgData=
this._ctx2d=this._ctx=null;this._tempFrame.dispose();this._hdr=this._tempFrame=null;this._gif.dispose();this._gif=null},_pushFrame:function(){if(null!=this._tempFrame){var a=La.request(z.get_instance().get_renderer().createTexture(this._tempFrame.get_texture().get_width(),this._tempFrame.get_texture().get_height()));a.get_texture().get_graphics().drawTexture(this._tempFrame.get_texture(),0,0);this._frames.push({frame:a,delay:this._delay})}},_clear:function(){this._delay=this._transparency=-1;this._lastDisposalMethod=
this._disposalMethod;this._disposalMethod=-1},__class__:Fd,__properties__:{get_frames:"get_frames"}};var Sd=function(a,b){this._file=a.getFile(b);this._stream=new Td(this._file.toString(),null);this._handler={}};i["flambe.display.gif.GifParser"]=Sd;Sd.__name__=["flambe","display","gif","GifParser"];Sd.prototype={dispose:function(){this._handler=this._stream=this._file=null},get_handler:function(){return this._handler},start:function(){this._parseHeader();this._parseBlock()},_parseHeader:function(){var a=
{};a.sig=this._stream.read(3);a.ver=this._stream.read(3);if("GIF"!=a.sig)throw"[Gif](readByte) Error: Not a GIF file";a.width=this._stream.readUnsigned();a.height=this._stream.readUnsigned();var b=this._byteToBitArr(this._stream.readByte());a.gctFlag=b.shift();a.colorRes=this._bitsToNum(b.splice(0,3));a.sorted=b.shift();a.gctSize=this._bitsToNum(b.splice(0,3));a.bgColor=this._stream.readByte();a.pixelAspectRatio=this._stream.readByte();a.gctFlag&&(a.gct=this._parseCT(1<<a.gctSize+1));this._handler.hdr&&
this._handler.hdr(a)},_parseBlock:function(){var a={};a.sentinel=this._stream.readByte();switch(String.fromCharCode(a.sentinel)){case "!":a.type="ext";a=this._parseExt(a);break;case ",":a.type="img";a=this._parseImg(a);break;case ";":a.type="eof";this._handler.eof&&this._handler.eof(a);break;default:throw"[Gif](_parseBlock) Error: Unknown block:0x"+y.string(a.sentinel.toString(16))+" string:"+String.fromCharCode(a.sentinel);}"eof"!=a.type&&this._parseBlock()},_parseExt:function(a){a.label=this._stream.readByte();
switch(a.label){case 249:return a.extType="gce",this._parseGCExt(a);case 254:return a.extType="com",this._parseComExt(a);case 1:return a.extType="pte",this._parsePTExt(a);case 255:return a.extType="app",this._parseAppExt(a);default:return a.extType="unknown",this._parseUnknownExt(a)}},_parseGCExt:function(a){this._stream.readByte();var b=this._byteToBitArr(this._stream.readByte());a.reserved=b.splice(0,3);a.disposalMethod=this._bitsToNum(b.splice(0,3));a.userInput=b.shift();a.transparencyGiven=b.shift();
a.delayTime=this._stream.readUnsigned();a.transparencyIndex=this._stream.readByte();a.terminator=this._stream.readByte();this._handler.gce&&this._handler.gce(a);return a},_parseComExt:function(a){a.comment=this._readSubBlocks();this._handler.com&&this._handler.com(a);return a},_parsePTExt:function(a){this._stream.readByte();a.ptHeader=this._stream.readBytes(12);a.ptData=this._readSubBlocks();this._handler.pte&&this._handler.pte(a);return a},_parseAppExt:function(a){this._stream.readByte();a.identifier=
this._stream.read(8);a.authCode=this._stream.read(3);switch(a.identifier){case "NETSCAPE":a=this._parseNetscapeExt(a);break;default:a=this._parseUnknownAppExt(a)}return a},_parseNetscapeExt:function(a){this._stream.readByte();a.unknown=this._stream.readByte();a.iterations=this._stream.readUnsigned();a.terminator=this._stream.readByte();this._handler.app&&this._handler.app.NETSCAPE&&this._handler.app.NETSCAPE(a);return a},_parseUnknownAppExt:function(a){a.appData=this._readSubBlocks();this._handler.app&&
this._handler.app[a.identifier]&&this._handler.app[a.identifier](a);return a},_parseUnknownExt:function(a){a.data=this._readSubBlocks();this._handler.unknown&&this._handler.unknown(a);return a},_parseImg:function(a){a.leftPos=this._stream.readUnsigned();a.topPos=this._stream.readUnsigned();a.width=this._stream.readUnsigned();a.height=this._stream.readUnsigned();var b=this._byteToBitArr(this._stream.readByte());a.lctFlag=b.shift();a.interlaced=b.shift();a.sorted=b.shift();a.reserved=b.splice(0,2);
a.lctSize=this._bitsToNum(b.splice(0,3));a.lctFlag&&(a.lct=this._parseCT(1<<a.lctSize+1));a.lzwMinCodeSize=this._stream.readByte();b=this._readSubBlocks();b=new Ud(a.lzwMinCodeSize,b);a.pixels=b.decode();a.interlaced&&(a.pixels=this._deinterlace(a.pixels,a.width));this._handler.img&&this._handler.img(a);return a},_deinterlace:function(a,b){for(var c=[],e=Math.floor(a.length/b),d=[0,4,2,1],f=[8,8,4,2],g=0,h=0;4>h;)for(var i=h++,k=d[i];k<e;){var m=a.slice(g*b,(g+1)*b),l=c.slice(k*b,b),c=c.concat(m),
c=c.concat(l);g++;k+=f[i]}return c},_parseCT:function(a){for(var b=[],c=0;c<a;)c++,b.push(this._stream.readBytes(3));return b},_readSubBlocks:function(){var a,b="";do a=this._stream.readByte(),b+=this._stream.read(a);while(0!=a);return b},_byteToBitArr:function(a){for(var b=[],c=7;0<=c;)b.push(0==(a&1<<c)?0:1),c--;return b},_bitsToNum:function(a){for(var b=0,c=0;c<a.length;){var e=a[c];++c;b=2*b+e}return b},__class__:Sd,__properties__:{get_handler:"get_handler"}};var Td=function(a){this.data=a;this.pos=
0;this.length=this.data.length};i["flambe.display.gif.Stream"]=Td;Td.__name__=["flambe","display","gif","Stream"];Td.prototype={readByte:function(){if(this.pos>this.length)throw"[Gif](readByte) Error: Attempted to read past end of stream";var a=this.pos++;return E.cca(this.data,a)&255},readBytes:function(a){for(var b=[],c=0;c<a;)c++,b.push(this.readByte());return b},read:function(a){for(var b="",c=0;c<a;)c++,b+=String.fromCharCode(this.readByte());return b},readUnsigned:function(){var a=this.readBytes(2);
return(a[1]<<8)+a[0]},__class__:Td};var Ud=function(a,b){this.data=b;this.minCodeSize=a;this.pos=0;this.output=[];this.clearCode=1<<this.minCodeSize;this.eoiCode=this.clearCode+1;this.codeSize=this.minCodeSize+1;this.dict=[]};i["flambe.display.gif.LzwDecode"]=Ud;Ud.__name__=["flambe","display","gif","LzwDecode"];Ud.prototype={decode:function(){for(var a=0,b;;)if(b=a,a=this._readCode(this.codeSize),a==this.clearCode)this._clear();else{if(a==this.eoiCode)break;if(a<this.dict.length)b!=this.clearCode&&
(null==this.dict[b]&&(this.dict[b]=[]),this.dict.push(this.dict[b].concat([this.dict[a][0]])));else{if(a!=this.dict.length)throw"[Gif](_lzwDecode) Error: Invalid LZW code:"+a+" dict length:"+this.dict.length;null==this.dict[b]&&(this.dict[b]=[]);this.dict.push(this.dict[b].concat([this.dict[b][0]]))}b=0;for(var c=this.dict[a];b<c.length;){var e=c[b];++b;this.output.push(e)}this.dict.length==1<<this.codeSize&&12>this.codeSize&&this.codeSize++}return this.output},_readCode:function(a){for(var b=0,c=
0;c<a;){var e=c++;0!=(E.cca(this.data,this.pos>>3)&1<<(this.pos&7))&&(b|=1<<e);this.pos++}return b},_clear:function(){this.dict=[];this.codeSize=this.minCodeSize+1;for(var a=0,b=this.clearCode;a<b;){var c=a++;this.dict[c]=[c]}this.dict[this.clearCode]=[];this.dict[this.eoiCode]=null},__class__:Ud};var d=i["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
d.A=["A",0];d.A.toString=f;d.A.__enum__=d;d.B=["B",1];d.B.toString=f;d.B.__enum__=d;d.C=["C",2];d.C.toString=f;d.C.__enum__=d;d.D=["D",3];d.D.toString=f;d.D.__enum__=d;d.E=["E",4];d.E.toString=f;d.E.__enum__=d;d.F=["F",5];d.F.toString=f;d.F.__enum__=d;d.G=["G",6];d.G.toString=f;d.G.__enum__=d;d.H=["H",7];d.H.toString=f;d.H.__enum__=d;d.I=["I",8];d.I.toString=f;d.I.__enum__=d;d.J=["J",9];d.J.toString=f;d.J.__enum__=d;d.K=["K",10];d.K.toString=f;d.K.__enum__=d;d.L=["L",11];d.L.toString=f;d.L.__enum__=
d;d.M=["M",12];d.M.toString=f;d.M.__enum__=d;d.N=["N",13];d.N.toString=f;d.N.__enum__=d;d.O=["O",14];d.O.toString=f;d.O.__enum__=d;d.P=["P",15];d.P.toString=f;d.P.__enum__=d;d.Q=["Q",16];d.Q.toString=f;d.Q.__enum__=d;d.R=["R",17];d.R.toString=f;d.R.__enum__=d;d.S=["S",18];d.S.toString=f;d.S.__enum__=d;d.T=["T",19];d.T.toString=f;d.T.__enum__=d;d.U=["U",20];d.U.toString=f;d.U.__enum__=d;d.V=["V",21];d.V.toString=f;d.V.__enum__=d;d.W=["W",22];d.W.toString=f;d.W.__enum__=d;d.X=["X",23];d.X.toString=
f;d.X.__enum__=d;d.Y=["Y",24];d.Y.toString=f;d.Y.__enum__=d;d.Z=["Z",25];d.Z.toString=f;d.Z.__enum__=d;d.Number0=["Number0",26];d.Number0.toString=f;d.Number0.__enum__=d;d.Number1=["Number1",27];d.Number1.toString=f;d.Number1.__enum__=d;d.Number2=["Number2",28];d.Number2.toString=f;d.Number2.__enum__=d;d.Number3=["Number3",29];d.Number3.toString=f;d.Number3.__enum__=d;d.Number4=["Number4",30];d.Number4.toString=f;d.Number4.__enum__=d;d.Number5=["Number5",31];d.Number5.toString=f;d.Number5.__enum__=
d;d.Number6=["Number6",32];d.Number6.toString=f;d.Number6.__enum__=d;d.Number7=["Number7",33];d.Number7.toString=f;d.Number7.__enum__=d;d.Number8=["Number8",34];d.Number8.toString=f;d.Number8.__enum__=d;d.Number9=["Number9",35];d.Number9.toString=f;d.Number9.__enum__=d;d.Numpad0=["Numpad0",36];d.Numpad0.toString=f;d.Numpad0.__enum__=d;d.Numpad1=["Numpad1",37];d.Numpad1.toString=f;d.Numpad1.__enum__=d;d.Numpad2=["Numpad2",38];d.Numpad2.toString=f;d.Numpad2.__enum__=d;d.Numpad3=["Numpad3",39];d.Numpad3.toString=
f;d.Numpad3.__enum__=d;d.Numpad4=["Numpad4",40];d.Numpad4.toString=f;d.Numpad4.__enum__=d;d.Numpad5=["Numpad5",41];d.Numpad5.toString=f;d.Numpad5.__enum__=d;d.Numpad6=["Numpad6",42];d.Numpad6.toString=f;d.Numpad6.__enum__=d;d.Numpad7=["Numpad7",43];d.Numpad7.toString=f;d.Numpad7.__enum__=d;d.Numpad8=["Numpad8",44];d.Numpad8.toString=f;d.Numpad8.__enum__=d;d.Numpad9=["Numpad9",45];d.Numpad9.toString=f;d.Numpad9.__enum__=d;d.NumpadAdd=["NumpadAdd",46];d.NumpadAdd.toString=f;d.NumpadAdd.__enum__=d;d.NumpadDecimal=
["NumpadDecimal",47];d.NumpadDecimal.toString=f;d.NumpadDecimal.__enum__=d;d.NumpadDivide=["NumpadDivide",48];d.NumpadDivide.toString=f;d.NumpadDivide.__enum__=d;d.NumpadEnter=["NumpadEnter",49];d.NumpadEnter.toString=f;d.NumpadEnter.__enum__=d;d.NumpadMultiply=["NumpadMultiply",50];d.NumpadMultiply.toString=f;d.NumpadMultiply.__enum__=d;d.NumpadSubtract=["NumpadSubtract",51];d.NumpadSubtract.toString=f;d.NumpadSubtract.__enum__=d;d.F1=["F1",52];d.F1.toString=f;d.F1.__enum__=d;d.F2=["F2",53];d.F2.toString=
f;d.F2.__enum__=d;d.F3=["F3",54];d.F3.toString=f;d.F3.__enum__=d;d.F4=["F4",55];d.F4.toString=f;d.F4.__enum__=d;d.F5=["F5",56];d.F5.toString=f;d.F5.__enum__=d;d.F6=["F6",57];d.F6.toString=f;d.F6.__enum__=d;d.F7=["F7",58];d.F7.toString=f;d.F7.__enum__=d;d.F8=["F8",59];d.F8.toString=f;d.F8.__enum__=d;d.F9=["F9",60];d.F9.toString=f;d.F9.__enum__=d;d.F10=["F10",61];d.F10.toString=f;d.F10.__enum__=d;d.F11=["F11",62];d.F11.toString=f;d.F11.__enum__=d;d.F12=["F12",63];d.F12.toString=f;d.F12.__enum__=d;d.F13=
["F13",64];d.F13.toString=f;d.F13.__enum__=d;d.F14=["F14",65];d.F14.toString=f;d.F14.__enum__=d;d.F15=["F15",66];d.F15.toString=f;d.F15.__enum__=d;d.Left=["Left",67];d.Left.toString=f;d.Left.__enum__=d;d.Up=["Up",68];d.Up.toString=f;d.Up.__enum__=d;d.Right=["Right",69];d.Right.toString=f;d.Right.__enum__=d;d.Down=["Down",70];d.Down.toString=f;d.Down.__enum__=d;d.Alt=["Alt",71];d.Alt.toString=f;d.Alt.__enum__=d;d.Backquote=["Backquote",72];d.Backquote.toString=f;d.Backquote.__enum__=d;d.Backslash=
["Backslash",73];d.Backslash.toString=f;d.Backslash.__enum__=d;d.Backspace=["Backspace",74];d.Backspace.toString=f;d.Backspace.__enum__=d;d.CapsLock=["CapsLock",75];d.CapsLock.toString=f;d.CapsLock.__enum__=d;d.Comma=["Comma",76];d.Comma.toString=f;d.Comma.__enum__=d;d.Command=["Command",77];d.Command.toString=f;d.Command.__enum__=d;d.Control=["Control",78];d.Control.toString=f;d.Control.__enum__=d;d.Delete=["Delete",79];d.Delete.toString=f;d.Delete.__enum__=d;d.End=["End",80];d.End.toString=f;d.End.__enum__=
d;d.Enter=["Enter",81];d.Enter.toString=f;d.Enter.__enum__=d;d.Equals=["Equals",82];d.Equals.toString=f;d.Equals.__enum__=d;d.Escape=["Escape",83];d.Escape.toString=f;d.Escape.__enum__=d;d.Home=["Home",84];d.Home.toString=f;d.Home.__enum__=d;d.Insert=["Insert",85];d.Insert.toString=f;d.Insert.__enum__=d;d.LeftBracket=["LeftBracket",86];d.LeftBracket.toString=f;d.LeftBracket.__enum__=d;d.Minus=["Minus",87];d.Minus.toString=f;d.Minus.__enum__=d;d.PageDown=["PageDown",88];d.PageDown.toString=f;d.PageDown.__enum__=
d;d.PageUp=["PageUp",89];d.PageUp.toString=f;d.PageUp.__enum__=d;d.Period=["Period",90];d.Period.toString=f;d.Period.__enum__=d;d.Quote=["Quote",91];d.Quote.toString=f;d.Quote.__enum__=d;d.RightBracket=["RightBracket",92];d.RightBracket.toString=f;d.RightBracket.__enum__=d;d.Semicolon=["Semicolon",93];d.Semicolon.toString=f;d.Semicolon.__enum__=d;d.Shift=["Shift",94];d.Shift.toString=f;d.Shift.__enum__=d;d.Slash=["Slash",95];d.Slash.toString=f;d.Slash.__enum__=d;d.Space=["Space",96];d.Space.toString=
f;d.Space.__enum__=d;d.Tab=["Tab",97];d.Tab.toString=f;d.Tab.__enum__=d;d.Menu=["Menu",98];d.Menu.toString=f;d.Menu.__enum__=d;d.Search=["Search",99];d.Search.toString=f;d.Search.__enum__=d;d.Unknown=function(a){a=["Unknown",100,a];a.__enum__=d;a.toString=f;return a};d.__empty_constructs__=[d.A,d.B,d.C,d.D,d.E,d.F,d.G,d.H,d.I,d.J,d.K,d.L,d.M,d.N,d.O,d.P,d.Q,d.R,d.S,d.T,d.U,d.V,d.W,d.X,d.Y,d.Z,d.Number0,d.Number1,d.Number2,d.Number3,d.Number4,d.Number5,d.Number6,d.Number7,d.Number8,d.Number9,d.Numpad0,
d.Numpad1,d.Numpad2,d.Numpad3,d.Numpad4,d.Numpad5,d.Numpad6,d.Numpad7,d.Numpad8,d.Numpad9,d.NumpadAdd,d.NumpadDecimal,d.NumpadDivide,d.NumpadEnter,d.NumpadMultiply,d.NumpadSubtract,d.F1,d.F2,d.F3,d.F4,d.F5,d.F6,d.F7,d.F8,d.F9,d.F10,d.F11,d.F12,d.F13,d.F14,d.F15,d.Left,d.Up,d.Right,d.Down,d.Alt,d.Backquote,d.Backslash,d.Backspace,d.CapsLock,d.Comma,d.Command,d.Control,d.Delete,d.End,d.Enter,d.Equals,d.Escape,d.Home,d.Insert,d.LeftBracket,d.Minus,d.PageDown,d.PageUp,d.Period,d.Quote,d.RightBracket,
d.Semicolon,d.Shift,d.Slash,d.Space,d.Tab,d.Menu,d.Search];var Vd=function(){this.init(0,null)};i["flambe.input.KeyboardEvent"]=Vd;Vd.__name__=["flambe","input","KeyboardEvent"];Vd.prototype={init:function(a,b){this.id=a;this.key=b},__class__:Vd};var va=i["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};va.Left=["Left",0];va.Left.toString=f;va.Left.__enum__=va;va.Middle=["Middle",1];va.Middle.toString=f;va.Middle.__enum__=
va;va.Right=["Right",2];va.Right.toString=f;va.Right.__enum__=va;va.Unknown=function(a){a=["Unknown",3,a];a.__enum__=va;a.toString=f;return a};va.__empty_constructs__=[va.Left,va.Middle,va.Right];var Na=i["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};Na.Default=["Default",0];Na.Default.toString=f;Na.Default.__enum__=Na;Na.Button=["Button",1];Na.Button.toString=f;Na.Button.__enum__=Na;Na.None=["None",2];Na.None.toString=f;Na.None.__enum__=
Na;Na.__empty_constructs__=[Na.Default,Na.Button,Na.None];var Wd=function(){this.init(0,0,0,null)};i["flambe.input.MouseEvent"]=Wd;Wd.__name__=["flambe","input","MouseEvent"];Wd.prototype={init:function(a,b,c,e){this.id=a;this.viewX=b;this.viewY=c;this.button=e},__class__:Wd};var lc=i["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};lc.Mouse=function(a){a=["Mouse",0,a];a.__enum__=lc;a.toString=f;return a};lc.Touch=function(a){a=["Touch",1,a];
a.__enum__=lc;a.toString=f;return a};lc.__empty_constructs__=[];var Xd=function(){this.init(0,0,0,null,null)};i["flambe.input.PointerEvent"]=Xd;Xd.__name__=["flambe","input","PointerEvent"];Xd.prototype={init:function(a,b,c,e,d){this.id=a;this.viewX=b;this.viewY=c;this.hit=e;this.source=d;this._stopped=!1},__class__:Xd};var Yd=function(a){this.id=a;this._source=lc.Touch(this)};i["flambe.input.TouchPoint"]=Yd;Yd.__name__=["flambe","input","TouchPoint"];Yd.prototype={init:function(a,b){this.viewX=a;
this.viewY=b},__class__:Yd};var ab=function(){};i["flambe.math.FMath"]=ab;ab.__name__=["flambe","math","FMath"];ab.toRadians=function(a){return 3.141592653589793*a/180};ab.max=function(a,b){return a>b?a:b};ab.clamp=function(a,b,c){return a<b?b:a>c?c:a};var bd=function(a,b){this._success=a;this._result=L.request();this._line1=Sa.request();this._line2=Sa.request();null!=b&&this._result.toPoint(b)};i["flambe.math.InterceptResult"]=bd;bd.__name__=["flambe","math","InterceptResult"];bd.prototype={set_success:function(a){return this._success=
a},set_result:function(a){null==a?this._result.to(0,0):this._result.toPoint(a);return this._result},__class__:bd,__properties__:{set_result:"set_result",set_success:"set_success"}};var vb=function(){this.identity()};i["flambe.math.Matrix"]=vb;vb.__name__=["flambe","math","Matrix"];vb.multiply=function(a,b,c){null==c&&(c=new vb);var e=a.m00*b.m00+a.m01*b.m10,d=a.m00*b.m01+a.m01*b.m11,f=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=e;c.m01=d;c.m02=f;e=a.m10*b.m00+a.m11*b.m10;d=a.m10*b.m01+a.m11*b.m11;f=a.m10*
b.m02+a.m11*b.m12+a.m12;c.m10=e;c.m11=d;c.m12=f;return c};vb.prototype={set:function(a,b,c,e,d,f){this.m00=a;this.m01=c;this.m02=d;this.m10=b;this.m11=e;this.m12=f},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,e,d){var f=Math.sin(d),d=Math.cos(d);this.set(d*c,f*c,-f*e,d*e,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},transform:function(a,b,c){null==c&&(c=L.request());c.set_x(a*this.m00+b*this.m01+this.m02);c.set_y(a*this.m10+b*
this.m11+this.m12);return c},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var e=this.determinant();if(0==e)return!1;a-=this.m02;b-=this.m12;c.set_x((a*this.m11-b*this.m01)/e);c.set_y((b*this.m00-a*this.m10)/e);return!0},clone:function(a){null==a&&(a=new vb);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:vb};var Uc=function(a,b){this._screenCenterX=this._worldCenterX=a;this._screenCenterY=this._worldCenterY=b;
this._pos=L.request(a,b);this._renderPerspective=!0;this.set_focalLength(300)};i["flambe.math.WMCamera"]=Uc;Uc.__name__=["flambe","math","WMCamera"];Uc.prototype={dispose:function(){this._pos.dispose();this._pos=null},get_pos:function(){return this._pos},get_screenCenterX:function(){return this._screenCenterX},get_screenCenterY:function(){return this._screenCenterY},get_worldCenterX:function(){return this._worldCenterX},get_worldCenterY:function(){return this._worldCenterY},get_renderPerspective:function(){return this._renderPerspective},
get_focalLength:function(){return this._focalLength},set_focalLength:function(a){this._focalLength=a;this._pos.set_dirty(!0);return this._focalLength},__class__:Uc,__properties__:{set_focalLength:"set_focalLength",get_focalLength:"get_focalLength",get_renderPerspective:"get_renderPerspective",get_worldCenterY:"get_worldCenterY",get_worldCenterX:"get_worldCenterX",get_screenCenterY:"get_screenCenterY",get_screenCenterX:"get_screenCenterX",get_pos:"get_pos"}};var Sa=function(){};i["flambe.math.WMLine"]=
Sa;Sa.__name__=["flambe","math","WMLine"];Sa.__interfaces__=[Fa];Sa.request=function(a,b,c,e){null==e&&(e=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return ga.get_instance().requestObject("WMLine",Sa).init(a,b,c,e)};Sa.__super__=A;Sa.prototype=u(A.prototype,{init:function(a,b,c,e){this._p0=L.request();this._p1=L.request();this._normal=L.request();this._vector=L.request();this._parametricDenom=L.request();this.toFloats(a,b,c,e);this._calcProperties();return this},dispose:function(){this._p0.dispose();
this._p0=null;this._p1.dispose();this._p1=null;this._normal.dispose();this._normal=null;this._vector.dispose();this._vector=null;this._parametricDenom.dispose();this._parametricDenom=null;A.prototype.dispose.call(this)},get_p0:function(){return this._p0},get_p1:function(){return this._p1},get_slope:function(){return this._slope},get_yIntercept:function(){return this._yIntercept},get_normal:function(){return this._normal},get_vector:function(){return this._vector},get_center:function(){return L.request(this._p0.get_x()+
this._vector.get_x()/2,this._p0.get_y()+this._vector.get_y()/2)},get_centerX:function(){return this._p0.get_x()+this._vector.get_x()/2},get_centerY:function(){return this._p0.get_y()+this._vector.get_y()/2},get_parametricDenom:function(){return this._parametricDenom},get_length:function(){return this._length},set_length:function(a){if(0==this.get_length())return this._length;this._p1.to(this._p0.get_x()+this._vector.get_x()*(a/this.get_length()),this._p0.get_y()+this._vector.get_y()*(a/this.get_length()));
this._calcProperties();return this._length},recalculate:function(){this._calcProperties()},getNewPoint:function(a,b){null==b&&(b=L.request());b.to(this.get_p0().get_x()+this._vector.get_x()*a,this.get_p0().get_y()+this._vector.get_y()*a);return b},equals:function(a){return a.get_p0().equals(this.get_p0())&&a.get_p1().equals(this.get_p1())},flip:function(){var a=this._p0.copy();this._p0.toPoint(this._p1);this._p1.toPoint(a);a.dispose();this._calcProperties()},clean:function(){this._p0.clean();this._p1.clean();
this._calcProperties()},copy:function(){return Sa.request().to(this._p0,this._p1)},to:function(a,b){this._p0.toPoint(a);this._p1.toPoint(b);this._calcProperties();return this},toLine:function(a){this._p0.toPoint(a.get_p0());this._p1.toPoint(a.get_p1());this._calcProperties();return this},toFloats:function(a,b,c,e){this._p0.to(a,b);this._p1.to(c,e);this._calcProperties();return this},originTo:function(a,b,c){null==c&&(c=0);this._p0.to(a,b,c);this._calcProperties();return this},originToPoint:function(a){this._p0.toPoint(a);
this._calcProperties()},endTo:function(a,b,c){null==c&&(c=0);this._p1.to(a,b,c);this._calcProperties()},endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},rotate:function(a){this._vector.rotate(a);this._p1.toPoint(this._p0.addPointCopy(this._vector));this._calcProperties()},rotateTo:function(a){this._vector.rotateTo(a);this._p1.toPoint(this._p0.addPointCopy(this._vector));this._calcProperties()},shiftOrigin:function(a){var b=this._vector.reverseCopy();b.set_length(a);this._p0.addPoint(b);
b.dispose();this._calcProperties()},shiftEnd:function(a){this.set_length(this.get_length()+a)},_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.get_x()-this._p1.get_x())*(this._p0.get_x()-this._p1.get_x())+(this._p0.get_y()-this._p1.get_y())*(this._p0.get_y()-this._p1.get_y())))/1E3;this._vector.to(this.get_p1().get_x()-this.get_p0().get_x(),this.get_p1().get_y()-this.get_p0().get_y());this._slope=this._vector.get_y()/this._vector.get_x();0==this.get_vector().get_x()&&(this._slope=
1E5);this._yIntercept=this.get_p0().get_y()-this._slope*this.get_p0().get_x();this._parametricDenom.to(this.get_p1().get_x()-this.get_p0().get_x(),this.get_p1().get_y()-this.get_p0().get_y());this._vector.pseudoCross(this._normal);this._normal.normalize()},testLineDot:function(a){return this._vector.dot(a.get_normal())},projectOntoLine:function(a){var b=a.get_vector().dot(this.get_vector().normalizeCopy());return Sa.request().to(a.get_p0(),a.get_p1().addPointCopy(this._normal.copyAndResize(Math.sqrt(a.get_length()*
a.get_length()-b*b))))},testLineIntercept:function(a,b){null==b&&(b=new bd(!1));this._inverseDeterminate=1/(-1*this._slope- -1*a.get_slope());b.set_success(!0);var c=L.request((-1*a.get_yIntercept()- -1*this._yIntercept)*this._inverseDeterminate,(a.get_slope()*this._yIntercept-this.get_slope()*a.get_yIntercept())*this._inverseDeterminate,0);b.set_result(c);c.dispose();return b},testLineSegmentIntercept:function(a,b,c){var e=-a.get_vector().get_x()*this._vector.get_y()+this._vector.get_x()*a.get_vector().get_y(),
d=this.get_p0().get_x()-a.get_p0().get_x(),f=this.get_p0().get_y()-a.get_p0().get_y(),b=(-this._vector.get_y()*d+this._vector.get_x()*f)/e,a=(a.get_vector().get_x()*f-a.get_vector().get_y()*d)/e;null==c&&(c=new bd(!1));c.set_success(!1);0<=b&&1>=b&&0<=a&&1>=a&&(c.set_success(!0),a=L.request(this.get_p0().get_x()+a*this._vector.get_x(),this.get_p0().get_y()+a*this._vector.get_y()),c.set_result(a),a.dispose());return c},testPointSegmentIntercept:function(a,b){null==b&&(b=!1);this._xSegmentResult=0==
this._parametricDenom.get_x()?0:(a.get_x()-this.get_p0().get_x())/this._parametricDenom.get_x();this._ySegmentResult=0==this._parametricDenom.get_y()?0:(a.get_y()-this.get_p0().get_y())/this._parametricDenom.get_y();b&&null;return 0<=this._xSegmentResult&&1>=this._xSegmentResult&&0<=this._ySegmentResult&&1>=this._ySegmentResult?!0:!1},toString:function(){return"[WMLine] ("+this._p0.get_x()+", "+this._p0.get_y()+", "+this._p0.get_z()+") ~> ("+this._p1.get_x()+", "+this._p1.get_y()+", "+this._p1.get_z()+
") / Len: "+this._length},__class__:Sa,__properties__:u(A.prototype.__properties__,{set_length:"set_length",get_length:"get_length",get_parametricDenom:"get_parametricDenom",get_centerY:"get_centerY",get_centerX:"get_centerX",get_center:"get_center",get_vector:"get_vector",get_normal:"get_normal",get_yIntercept:"get_yIntercept",get_slope:"get_slope",get_p1:"get_p1",get_p0:"get_p0"})});var ya=i["flambe.math.Side"]={__ename__:["flambe","math","Side"],__constructs__:["TOP","RIGHT","BOTTOM","LEFT"]};
ya.TOP=["TOP",0];ya.TOP.toString=f;ya.TOP.__enum__=ya;ya.RIGHT=["RIGHT",1];ya.RIGHT.toString=f;ya.RIGHT.__enum__=ya;ya.BOTTOM=["BOTTOM",2];ya.BOTTOM.toString=f;ya.BOTTOM.__enum__=ya;ya.LEFT=["LEFT",3];ya.LEFT.toString=f;ya.LEFT.__enum__=ya;ya.__empty_constructs__=[ya.TOP,ya.RIGHT,ya.BOTTOM,ya.LEFT];var Ua=function(){};i["flambe.math.WMRectangle"]=Ua;Ua.__name__=["flambe","math","WMRectangle"];Ua.__interfaces__=[Fa];Ua.request=function(a,b,c,e){null==e&&(e=0);null==c&&(c=0);null==b&&(b=0);null==a&&
(a=0);return ga.get_instance().requestObject("WMRectangle",Ua).init(a,b,c,e)};Ua.__super__=A;Ua.prototype=u(A.prototype,{create:function(){this._workLine=null},init:function(a,b,c,e){this._x=a;this._y=b;this._width=c;this._height=e;return this},dispose:function(){null!=this._workLine&&this._workLine.dispose();this._workLine=null;A.prototype.dispose.call(this)},_getWorkLine:function(){null==this._workLine&&(this._workLine=Sa.request());return this._workLine},get_x:function(){return this._x},set_x:function(a){return this._x=
a},get_y:function(){return this._y},set_y:function(a){return this._y=a},get_top:function(){return this._y},set_top:function(a){return this._y=a},get_left:function(){return this._x},set_left:function(a){return this._x=a},get_width:function(){return this._width},set_width:function(a){return this._width=a},get_height:function(){return this._height},set_height:function(a){return this._height=a},get_bottom:function(){return this._y+this._height},set_bottom:function(a){this._y=a-this._height;return this.get_bottom()},
get_right:function(){return this._x+this._width},set_right:function(a){this._x=a-this._width;return this.get_right()},get_centerX:function(){return this._x+this._width/2},set_centerX:function(a){this._x=a-this._width/2;return this.get_centerX()},get_centerY:function(){return this._y+this._height/2},set_centerY:function(a){this._y=a-this._height/2;return this.get_centerY()},copy:function(){return Ua.request(this._x,this._y,this._width,this._height)},contains:function(a,b){return a<this.get_left()||
a>this.get_right()||b>this.get_bottom()||b<this.get_top()?!1:!0},toXY:function(a,b){this.set_x(a);this.set_y(b)},toWH:function(a,b){this.set_width(a);this.set_height(b)},toXYWH:function(a,b,c,e){this.toXY(a,b);this.toWH(c,e)},containsPoint:function(a){return this.contains(a.get_x(),a.get_y())},intersects:function(a){return this.get_left()<a.get_right()&&this.get_right()>a.get_left()&&this.get_top()<a.get_bottom()&&this.get_bottom()>a.get_top()},intersection:function(a){var b=Ua.request();if(this.intersects(a)){b.set_x(this.get_left()>
a.get_left()?this.get_left():a.get_left());b.set_y(this.get_top()>a.get_top()?this.get_top():a.get_top());var c;c=this.get_right()<a.get_right()?this.get_right():a.get_right();a=this.get_bottom()<a.get_bottom()?this.get_bottom():a.get_bottom();b.set_width(c-b.get_x());b.set_height(a-b.get_y())}return b},_setSideLine:function(a){this._getWorkLine();switch(a[1]){case 0:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_right(),this.get_top());break;case 1:this._workLine.toFloats(this.get_right(),
this.get_top(),this.get_right(),this.get_bottom());break;case 2:this._workLine.toFloats(this.get_left(),this.get_bottom(),this.get_right(),this.get_bottom());break;case 3:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_left(),this.get_bottom())}},sideLineIntercept:function(a,b,c){null==this._workLine?(this._setSideLine(b),null):this._setSideLine(b);return this._workLine.testLineSegmentIntercept(a,!1,c)},clampPointWithin:function(a){a.get_x()<this.get_left()?a.set_x(this.get_left()):
a.get_x()>this.get_right()&&a.set_x(this.get_right());a.get_y()<this.get_top()?a.set_y(this.get_top()):a.get_y()>this.get_bottom()&&a.set_y(this.get_bottom());return a},equals:function(a){return a.get_x()==this.get_x()&&a.get_y()==this.get_y()&&a.get_width()==this.get_width()&&a.get_height()==this.get_height()},toString:function(){return"{ WMRectangle x: "+this._x+" y: "+this._y+" width: "+this._width+" height: "+this._height+" }"},__class__:Ua,__properties__:u(A.prototype.__properties__,{set_centerY:"set_centerY",
get_centerY:"get_centerY",set_centerX:"set_centerX",get_centerX:"get_centerX",set_right:"set_right",get_right:"get_right",set_bottom:"set_bottom",get_bottom:"get_bottom",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_left:"set_left",get_left:"get_left",set_top:"set_top",get_top:"get_top",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var ra=function(){this._disposed=!1;this.reloadCount=0};i["flambe.platform.BasicAsset"]=ra;ra.__name__=
["flambe","platform","BasicAsset"];ra.__interfaces__=[Ib];ra.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){null},__class__:ra};var Kb=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new cd;this._bytesLoaded=new H;this._pack=new dd(b,this);var e=rb.array(b);if(0==e.length)this.handleSuccess();else{for(var d=new H,f=0;f<e.length;){var g=e[f];++f;var h=d.get(g.name);null==h&&(h=[],d.set(g.name,h));h.push(g)}this._assetsRemaining=
rb.count(d);for(e=d.iterator();e.hasNext();)d=[e.next()],this.pickBestEntry(d[0],function(a){return function(e){if(null!=e){var d=b.getFullURL(e);try{c.loadEntry(d,e)}catch(f){c.handleError(e,"Unexpected error: "+y.string(f))}d=c.promise;d.set_total(d._total+e.bytes)}else e=a[0][0],Kb.isAudio(e.format)?c.handleLoad(e,$a.getInstance()):c.handleError(e,"Could not find a supported format to load")}}(d))}};i["flambe.platform.BasicAssetPackLoader"]=Kb;Kb.__name__=["flambe","platform","BasicAssetPackLoader"];
Kb.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};Kb.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var e=0;e<c.length;){var d=c[e];++e;for(var f=0;f<a.length;){var g=a[f];++f;if(g.format==d){b(g);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 5:case 6:case 7:c=
this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:case 4:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,e=this._bytesLoaded.iterator();e.hasNext();)var d=e.next(),c=c+d;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(Ba.withFields(b,
["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:Kb};var dd=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new H;this.sounds=new H;this.files=new H};i["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=dd;dd.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];dd.__interfaces__=[Yc];dd.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);
if(null==c&&b)throw Ba.withFields("Missing texture",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw Ba.withFields("Missing sound",["name",a]);return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw Ba.withFields("Missing file",["name",a]);return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();
this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},get_manifest:function(){return this._manifest},__class__:dd,__properties__:{get_manifest:"get_manifest"}};var Yb=function(a){ra.call(this);this._content=a};i["flambe.platform.BasicFile"]=Yb;Yb.__name__=["flambe","platform","BasicFile"];Yb.__interfaces__=[Zc];Yb.__super__=ra;Yb.prototype=u(ra.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=
null},__class__:Yb});var Zd=function(){};i["flambe.subsystem.KeyboardSystem"]=Zd;Zd.__name__=["flambe","subsystem","KeyboardSystem"];Zd.prototype={__class__:Zd};var fb=function(){this.down=new qa;this.up=new qa;this.backButton=new Db;this._keyStates=new Za};i["flambe.platform.BasicKeyboard"]=fb;fb.__name__=["flambe","platform","BasicKeyboard"];fb.__interfaces__=[Zd];fb.prototype={submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.exists(a)||
(this._keyStates.set(a,!0),fb._sharedEvent.init(fb._sharedEvent.id+1,$d.toKey(a)),this.down.emit(fb._sharedEvent));return!0},submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),fb._sharedEvent.init(fb._sharedEvent.id+1,$d.toKey(a)),this.up.emit(fb._sharedEvent))},__class__:fb};var ze=function(){};i["flambe.subsystem.MouseSystem"]=ze;ze.__name__=["flambe","subsystem","MouseSystem"];var Ea=function(a){this._pointer=a;this._source=lc.Mouse(Ea.get__sharedEvent());this.down=new qa;
this.move=new qa;this.up=new qa;this.scroll=new qa;this._y=this._x=0;this._cursor=Na.Default;this._buttonStates=new Za};i["flambe.platform.BasicMouse"]=Ea;Ea.__name__=["flambe","platform","BasicMouse"];Ea.__interfaces__=[ze];Ea.__properties__={get__sharedEvent:"get__sharedEvent"};Ea.get__sharedEvent=function(){null==Ea.__sharedEvent&&(Ea.__sharedEvent=new Wd);return Ea.__sharedEvent};Ea.prototype={submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,
b,ae.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(Ea.get__sharedEvent()))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(Ea.get__sharedEvent())},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,ae.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(Ea.get__sharedEvent()))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;
this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;Ea.get__sharedEvent().init(Ea.get__sharedEvent().id+1,a,b,c)},__class__:Ea};var be=function(){};i["flambe.subsystem.PointerSystem"]=be;be.__name__=["flambe","subsystem","PointerSystem"];be.prototype={__class__:be};var kb=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new qa;this.move=new qa;this.up=new qa;this._x=a;this._y=b;this._isDown=c};i["flambe.platform.BasicPointer"]=kb;kb.__name__=["flambe",
"platform","BasicPointer"];kb.__interfaces__=[be];kb.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var e=[],d=C.hitTest(z.get_instance().root,a,b);if(null!=d){var f=d;do{var g=f;null!=g&&e.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,d,c);this.down.emit(kb._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var e=[],d=C.hitTest(z.get_instance().root,a,b);if(null!=d){var f=d;do{var g=f;null!=g&&e.push(g);f=f.parent}while(null!=
f)}this.prepare(a,b,d,c);this.move.emit(kb._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var e=[],d=C.hitTest(z.get_instance().root,a,b);if(null!=d){var f=d;do{var g=f;null!=g&&e.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,d,c);this.up.emit(kb._sharedEvent)}},prepare:function(a,b,c,e){this._x=a;this._y=b;kb._sharedEvent.init(kb._sharedEvent.id+1,a,b,c,e)},__class__:kb};var Lb=function(a,b,c){this._x=this._y=0;this._parent=null;this.rootX=this.rootY=
0;ra.call(this);this.root=a;this._width=b;this._height=c};i["flambe.platform.BasicTexture"]=Lb;Lb.__name__=["flambe","platform","BasicTexture"];Lb.__interfaces__=[we];Lb.__super__=ra;Lb.prototype=u(ra.prototype,{subTexture:function(a,b,c,e){c=this.root.createTexture(c,e);c._parent=this;c._x=a;c._y=b;c.rootX=this.rootX+a;c.rootY=this.rootY+b;return c},get_graphics:function(){return this.root.getGraphics()},onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},
get_height:function(){return this._height},__class__:Lb,__properties__:{get_height:"get_height",get_width:"get_width",get_graphics:"get_graphics"}});var ed=function(){};i["flambe.subsystem.TouchSystem"]=ed;ed.__name__=["flambe","subsystem","TouchSystem"];ed.prototype={__class__:ed};var Wc=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new Za;this._points=[];this.down=new qa;this.move=new qa;this.up=new qa};i["flambe.platform.BasicTouch"]=Wc;Wc.__name__=["flambe","platform",
"BasicTouch"];Wc.__interfaces__=[ed];Wc.prototype={get_supported:function(){return!0},submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var e=new Yd(a);e.init(b,c);this._pointMap.set(a,e);this._points.push(e);null==this._pointerTouch&&(this._pointerTouch=e,this._pointer.submitDown(b,c,e._source));this.down.emit(e)}},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,
b,c){var e=this._pointMap.get(a);null!=e&&(e.init(b,c),this._pointMap.remove(a),E.remove(this._points,e),this._pointerTouch==e&&(this._pointerTouch=null,this._pointer.submitUp(b,c,e._source)),this.up.emit(e))},__class__:Wc,__properties__:{get_supported:"get_supported"}};var Mb=function(){};i["flambe.sound.Sound"]=Mb;Mb.__name__=["flambe","sound","Sound"];Mb.__interfaces__=[Ib];Mb.prototype={__class__:Mb};var $a=function(){ra.call(this);this._playback=new mc(this)};i["flambe.platform.DummySound"]=
$a;$a.__name__=["flambe","platform","DummySound"];$a.__interfaces__=[Mb];$a.getInstance=function(){null==$a._instance&&($a._instance=new $a);return $a._instance};$a.__super__=ra;$a.prototype=u(ra.prototype,{play:function(){return this._playback},loop:function(){return this._playback},onDisposed:function(){},__class__:$a});var Zb=function(){};i["flambe.sound.Playback"]=Zb;Zb.__name__=["flambe","sound","Playback"];Zb.__interfaces__=[nb];Zb.prototype={__class__:Zb};var mc=function(a){this._sound=a;this.set_volume(0);
this._complete=!0};i["flambe.platform.DummyPlayback"]=mc;mc.__name__=["flambe","platform","DummyPlayback"];mc.__interfaces__=[Zb];mc.prototype={set_volume:function(){return 1},get_paused:function(){return!0},get_complete:function(){return this._complete},dispose:function(){},__class__:mc,__properties__:{get_complete:"get_complete",get_paused:"get_paused",set_volume:"set_volume"}};var Xc=function(){this.down=new qa;this.move=new qa;this.up=new qa};i["flambe.platform.DummyTouch"]=Xc;Xc.__name__=["flambe",
"platform","DummyTouch"];Xc.__interfaces__=[ed];Xc.prototype={get_supported:function(){return!1},__class__:Xc,__properties__:{get_supported:"get_supported"}};var nc=function(){this._entries=[]};i["flambe.platform.EventGroup"]=nc;nc.__name__=["flambe","platform","EventGroup"];nc.__interfaces__=[nb];nc.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new ce(a,b,c))},addDisposingListener:function(a,b,c){var e=this;this.addListener(a,b,function(a){e.dispose();c(a)})},
dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:nc};var ce=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};i["flambe.platform._EventGroup.Entry"]=ce;ce.__name__=["flambe","platform","_EventGroup","Entry"];ce.prototype={__class__:ce};var $b=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};i["flambe.util.SignalConnection"]=$b;$b.__name__=["flambe",
"util","SignalConnection"];$b.__interfaces__=[nb];$b.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:$b};var Ta=function(a){this._head=null!=a?new $b(this,a):null;this._deferredTasks=null};i["flambe.util.SignalBase"]=Ta;Ta.__name__=["flambe","util","SignalBase"];Ta.prototype={connectImpl:function(a,b){var c=this,e=new $b(this,a);this._head==Ta.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(e,
b)}):this.listAdd(e,b);return e},disconnect:function(a){var b=this;this._head==Ta.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new de(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=Ta.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,
b){if(b)a._next=this._head,this._head=a;else{for(var c=null,e=this._head;null!=e;)c=e,e=e._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:Ta};var qa=function(a){Ta.call(this,a)};i["flambe.util.Signal1"]=qa;qa.__name__=["flambe","util","Signal1"];qa.__super__=Ta;qa.prototype=u(Ta.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=
this;this._head==Ta.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:qa});var fd=function(){};i["flambe.platform.InternalGraphics"]=fd;fd.__name__=["flambe","platform","InternalGraphics"];fd.__interfaces__=[Rd];fd.prototype={__class__:fd};var ee=function(){};i["flambe.subsystem.RendererSystem"]=ee;ee.__name__=["flambe","subsystem","RendererSystem"];
ee.prototype={__class__:ee};var gd=function(){};i["flambe.platform.InternalRenderer"]=gd;gd.__name__=["flambe","platform","InternalRenderer"];gd.__interfaces__=[ee];gd.prototype={__class__:gd};var $d=function(){};i["flambe.platform.KeyCodes"]=$d;$d.__name__=["flambe","platform","KeyCodes"];$d.toKey=function(a){switch(a){case 65:return d.A;case 66:return d.B;case 67:return d.C;case 68:return d.D;case 69:return d.E;case 70:return d.F;case 71:return d.G;case 72:return d.H;case 73:return d.I;case 74:return d.J;
case 75:return d.K;case 76:return d.L;case 77:return d.M;case 78:return d.N;case 79:return d.O;case 80:return d.P;case 81:return d.Q;case 82:return d.R;case 83:return d.S;case 84:return d.T;case 85:return d.U;case 86:return d.V;case 87:return d.W;case 88:return d.X;case 89:return d.Y;case 90:return d.Z;case 48:return d.Number0;case 49:return d.Number1;case 50:return d.Number2;case 51:return d.Number3;case 52:return d.Number4;case 53:return d.Number5;case 54:return d.Number6;case 55:return d.Number7;
case 56:return d.Number8;case 57:return d.Number9;case 96:return d.Numpad0;case 97:return d.Numpad1;case 98:return d.Numpad2;case 99:return d.Numpad3;case 100:return d.Numpad4;case 101:return d.Numpad5;case 102:return d.Numpad6;case 103:return d.Numpad7;case 104:return d.Numpad8;case 105:return d.Numpad9;case 107:return d.NumpadAdd;case 110:return d.NumpadDecimal;case 111:return d.NumpadDivide;case 108:return d.NumpadEnter;case 106:return d.NumpadMultiply;case 109:return d.NumpadSubtract;case 112:return d.F1;
case 113:return d.F2;case 114:return d.F3;case 115:return d.F4;case 116:return d.F5;case 117:return d.F6;case 118:return d.F7;case 119:return d.F8;case 120:return d.F9;case 121:return d.F10;case 122:return d.F11;case 123:return d.F12;case 37:return d.Left;case 38:return d.Up;case 39:return d.Right;case 40:return d.Down;case 18:return d.Alt;case 192:return d.Backquote;case 220:return d.Backslash;case 8:return d.Backspace;case 20:return d.CapsLock;case 188:return d.Comma;case 15:return d.Command;case 17:return d.Control;
case 46:return d.Delete;case 35:return d.End;case 13:return d.Enter;case 187:return d.Equals;case 27:return d.Escape;case 36:return d.Home;case 45:return d.Insert;case 219:return d.LeftBracket;case 189:return d.Minus;case 34:return d.PageDown;case 33:return d.PageUp;case 190:return d.Period;case 222:return d.Quote;case 221:return d.RightBracket;case 186:return d.Semicolon;case 16:return d.Shift;case 191:return d.Slash;case 32:return d.Space;case 9:return d.Tab;case 16777234:return d.Menu;case 16777247:return d.Search}return d.Unknown(a)};
var Nd=function(){this._tickables=[]};i["flambe.platform.MainLoop"]=Nd;Nd.__name__=["flambe","platform","MainLoop"];Nd.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}null!=z.get_instance().updateDelegate&&z.get_instance().updateDelegate(a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),C.render(z.get_instance().root,b),a.didRender(),z.get_instance().renderComplete())},
addTickable:function(a){this._tickables.push(a)},__class__:Nd};var ae=function(){};i["flambe.platform.MouseCodes"]=ae;ae.__name__=["flambe","platform","MouseCodes"];ae.toButton=function(a){switch(a){case 0:return va.Left;case 1:return va.Middle;case 2:return va.Right}return va.Unknown(a)};var fe=function(){};i["flambe.platform.TextureRoot"]=fe;fe.__name__=["flambe","platform","TextureRoot"];fe.prototype={__class__:fe};var hd=function(){};i["flambe.platform.Tickable"]=hd;hd.__name__=["flambe","platform",
"Tickable"];hd.prototype={__class__:hd};var lb=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};i["flambe.platform.html.CanvasGraphics"]=lb;lb.__name__=["flambe","platform","html","CanvasGraphics"];lb.__interfaces__=[fd];lb.prototype={save:function(){this._canvasCtx.save()},transform:function(a,b,c,e,d,f){this._canvasCtx.transform(a,b,c,e,d,f)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},
drawSubTexture:function(a,b,c,e,d,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,e,d,f,g),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+e|0,a.rootY+d|0,f|0,g|0,b|0,c|0,f|0,g|0)},fillRect:function(a,b,c,e,d){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,e,d),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=
(16777215&a).toString(16);6>a.length;)a="0"+y.string(a);this._canvasCtx.fillStyle="#"+y.string(a);this._canvasCtx.fillRect(b|0,c|0,e|0,d|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,e){this._canvasCtx.beginPath();this._canvasCtx.rect(a|
0,b|0,c|0,e|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},__class__:lb};var Wb=function(a){this.graphics=new lb(a,!1);this._hasGPU=!0};i["flambe.platform.html.CanvasRenderer"]=Wb;Wb.__name__=["flambe","platform","html","CanvasRenderer"];Wb.__interfaces__=[gd];Wb.prototype={get_type:function(){return Oa.Canvas},createTextureFromImage:function(a){a=new Ab(Wb.CANVAS_TEXTURES?M.createCanvas(a):a);return a.createTexture(a.width,a.height)},createTexture:function(a,
b){return(new Ab(M.createEmptyCanvas(a,b))).createTexture(a,b)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:Wb,__properties__:{get_type:"get_type"}};var kc=function(a,b,c){Lb.call(this,a,b,c)};i["flambe.platform.html.CanvasTexture"]=kc;kc.__name__=["flambe","platform","html","CanvasTexture"];kc.__super__=Lb;kc.prototype=u(Lb.prototype,{__class__:kc});
var Ab=function(a){this._graphics=null;this.updateCount=0;ra.call(this);this.image=a;this.width=a.width;this.height=a.height};i["flambe.platform.html.CanvasTextureRoot"]=Ab;Ab.__name__=["flambe","platform","html","CanvasTextureRoot"];Ab.__interfaces__=[fe];Ab.__super__=ra;Ab.prototype=u(ra.prototype,{createTexture:function(a,b){return new kc(this,a,b)},dirtyContents:function(){++this.updateCount},getGraphics:function(){null==this._graphics&&(this.getContext2d(),this._graphics=new id(this));return this._graphics},
getContext2d:function(){P.__instanceof(this.image,HTMLCanvasElement)||(this.image=M.createCanvas(this.image));return this.image.getContext("2d")},onDisposed:function(){this._graphics=this.image=null},__class__:Ab});var id=function(a){lb.call(this,a.image,!0);this._renderTarget=a};i["flambe.platform.html._CanvasTextureRoot.InternalGraphics"]=id;id.__name__=["flambe","platform","html","_CanvasTextureRoot","InternalGraphics"];id.__super__=lb;id.prototype=u(lb.prototype,{drawTexture:function(a,b,c){lb.prototype.drawTexture.call(this,
a,b,c);++this._renderTarget.updateCount},drawSubTexture:function(a,b,c,e,d,f,g){lb.prototype.drawSubTexture.call(this,a,b,c,e,d,f,g);++this._renderTarget.updateCount},fillRect:function(a,b,c,e,d){lb.prototype.fillRect.call(this,a,b,c,e,d);++this._renderTarget.updateCount},__class__:id});var ba=function(a,b){Kb.call(this,a,b);this._uniqueId=0};i["flambe.platform.html.HtmlAssetPackLoader"]=ba;ba.__name__=["flambe","platform","html","HtmlAssetPackLoader"];ba.detectImageFormats=function(a){a([w.PNG,w.JPG,
w.GIF])};ba.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==t(a,a.canPlayType))return[];var b=new mb("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!W.get_supported()&&b.match(c))return[];for(var b=[{format:w.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:w.MP3,mimeType:"audio/mpeg"},{format:w.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:w.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:w.WAV,mimeType:"audio/wav"}],
c=[],e=0;e<b.length;){var d=b[e];++e;var f="";try{f=a.canPlayType(d.mimeType)}catch(g){}""!=f&&c.push(d.format)}return c};ba.supportsBlob=function(){if(ba._detectBlobSupport){ba._detectBlobSupport=!1;if((new mb("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;ba._URL=M.loadExtension("URL").value}return null!=ba._URL&&null!=ba._URL.createObjectURL};
ba.__super__=Kb;ba.prototype=u(Kb.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:var e;e=window.document.createElement("img");var d=new nc,f=function(){ba.supportsBlob()&&ba._URL.revokeObjectURL(e.src);var a=c._platform.getRenderer().createTextureFromImage(e);null!=a?c.handleLoad(b,a):c.handleTextureError(b)};-1!=eval("navigator.userAgent.toLowerCase();").indexOf("msie")?e.onload=f:d.addDisposingListener(e,"load",f);d.addDisposingListener(e,"error",function(){c.handleError(b,
"Failed to load image")});ba.supportsBlob()?this.download(a,b,"blob",function(a){e.src=ba._URL.createObjectURL(a)}):e.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(W.get_supported())this.download(a,b,"arraybuffer",function(a){W.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new W(a))},function(){c.handleLoad(b,
$a.getInstance())})});else{var g;g=window.document.createElement("audio");g.preload="auto";var h=++ba._mediaRefCount;null==ba._mediaElements&&(ba._mediaElements=new Za);ba._mediaElements.set(h,g);d=new nc;d.addDisposingListener(g,"canplaythrough",function(){ba._mediaElements.remove(h);c.handleLoad(b,new oc(g))});d.addDisposingListener(g,"error",function(){ba._mediaElements.remove(h);var a=g.error.code;3==a||4==a?c.handleLoad(b,$a.getInstance()):c.handleError(b,"Failed to load audio: "+g.error.code)});
d.addListener(g,"progress",function(){if(0<g.buffered.length&&0<g.duration){var a=g.buffered.end(0)/g.duration;c.handleProgress(b,a*b.bytes|0)}});g.src=a;g.load()}break;case 13:case 4:this.download(a,b,"text",function(a){c.handleLoad(b,new Yb(a))})}},downloadGIFFallback:function(a,b){var c=this;this.download(a,b,"arraybuffer",function(a){a=new Uint8Array(a);a=(new TextDecoder("x-user-defined",{})).decode(a,{});c.handleLoad(b,new Yb(a))})},getAssetFormats:function(a){var b=this;null==ba._supportedFormats&&
(ba._supportedFormats=new cd,ba.detectImageFormats(function(a){ba._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(ba.detectAudioFormats()).concat([w.Data]))}));ba._supportedFormats.get(a)},download:function(a,b,c,e){var d=this,f=null,g=null,h=0,i=!1,k=function(){i&&(i=!1,window.clearInterval(h))},m=3,l=function(){--m;return 0<=m?(g(),!0):!1},g=function(){k();null!=f&&f.abort();f=new XMLHttpRequest;f.open("GET",a,!0);if(b.format==w.GIF&&"text"==
c)if(null!=t(f,f.overrideMimeType))f.overrideMimeType("text/plain; charset=x-user-defined");else{f=null;d.downloadGIFFallback(a,b);return}f.responseType=c;var g=0;f.onprogress=function(a){i||(i=!0,h=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!l()&&(k(),d.handleError(b,"Download stalled"))},1E3));g=Date.now();d.handleProgress(b,a.loaded)};f.onerror=function(){if(0!=f.status||!l())k(),d.handleError(b,"HTTP error "+f.status)};f.onload=function(){var a=f.response;null==a&&(a=f.responseText);
k();e(a)};f.send()};g()},__class__:ba});var Vc=function(a,b){Ea.call(this,a);this._canvas=b};i["flambe.platform.html.HtmlMouse"]=Vc;Vc.__name__=["flambe","platform","html","HtmlMouse"];Vc.__super__=Ea;Vc.prototype=u(Ea.prototype,{__class__:Vc});var oc=function(a){ra.call(this);this.audioElement=a;this.isIE=0<=window.navigator.userAgent.indexOf("MSIE")||0<=window.navigator.userAgent.indexOf("Trident/")};i["flambe.platform.html.HtmlSound"]=oc;oc.__name__=["flambe","platform","html","HtmlSound"];oc.__interfaces__=
[Mb];oc.__super__=ra;oc.prototype=u(ra.prototype,{play:function(a){null==a&&(a=1);return new pc(this,a,!1)},loop:function(a){null==a&&(a=1);return new pc(this,a,!0)},onDisposed:function(){this.audioElement=null},__class__:oc});var pc=function(a,b,c){this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.set_volume(b);this._complete=!1;this.playAudio();z.get_instance().get_hidden()&&
this.set_paused(!0)};i["flambe.platform.html._HtmlSound.HtmlPlayback"]=pc;pc.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];pc.__interfaces__=[hd,Zb];pc.prototype={get_volume:function(){return this._volume},set_volume:function(a){this._volume=a;this.updateVolume();return this._volume},get_paused:function(){return this._clonedElement.paused},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_complete:function(){return this._complete},
update:function(){return(this._complete=this._clonedElement.ended)||this._clonedElement.paused?(this._tickableAdded=!1,z.get_instance().removeVolumeListener(t(this,this.updateVolume)),z.get_instance().removeHiddenListener(t(this,this.updateHidden)),!0):!1},dispose:function(){this.set_paused(!0);this._complete=!0},playAudio:function(){this._clonedElement.play();this._tickableAdded||(zb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,z.get_instance().addVolumeListener(t(this,this.updateVolume)),
z.get_instance().addHiddenListener(t(this,this.updateHidden)))},updateVolume:function(){this._clonedElement.volume=z.get_instance().get_volume()*this.get_volume()},updateHidden:function(a){a?(this._wasPaused=this._clonedElement.paused,this.set_paused(!0)):this.set_paused(this._wasPaused)},__class__:pc,__properties__:{get_complete:"get_complete",set_paused:"set_paused",get_paused:"get_paused",set_volume:"set_volume",get_volume:"get_volume"}};var ge=function(){};i["flambe.subsystem.StageSystem"]=ge;
ge.__name__=["flambe","subsystem","StageSystem"];ge.prototype={__class__:ge};var tb=function(a){var b=this;this._canvas=a;this.resize=new Db;this.scaleFactor=tb.computeScaleFactor();1!=this.scaleFactor&&(M.setVendorStyle(this._canvas,"transform-origin","top left"),M.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));M.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){M.callLater(t(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",
t(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=null;null!=window.orientation&&(window.addEventListener("orientationchange",t(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=!1;M.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};i["flambe.platform.html.HtmlStage"]=tb;tb.__name__=["flambe","platform","html","HtmlStage"];tb.__interfaces__=[ge];tb.computeScaleFactor=function(){if(-1!=
eval("navigator.userAgent.toLowerCase();").indexOf("ipad"))return 1;var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),b=M.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);return a/b};tb.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,
b){var c=this.scaleFactor*a,e=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==e)return!1;this._canvas.width=c|0;this._canvas.height=e|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";M.callLater(function(){M.hideMobileBrowser();M.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation=
M.orientation(window.orientation)},updateFullscreen:function(){this.fullscreen=!0==M.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value},__class__:tb,__properties__:{get_height:"get_height",get_width:"get_width"}};var M=function(){};i["flambe.platform.html.HtmlUtil"]=M;M.__name__=["flambe","platform","html","HtmlUtil"];M.__properties__={get_VENDOR_PREFIXES:"get_VENDOR_PREFIXES"};M.get_VENDOR_PREFIXES=function(){null==M.__prefixes&&(M.__prefixes=["webkit","moz","ms",
"o","khtml"]);return M.__prefixes};M.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};M.hideMobileBrowser=function(){window.scrollTo(1,0)};M.loadExtension=function(a,b){null==b&&(b=window);var c=D.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+E.substr(a,1,null),e=0,d=M.get_VENDOR_PREFIXES();e<d.length;){var f=d[e];++e;var g=f+c,h=D.field(b,g);if(null!=h)return{prefix:f,field:g,value:h}}return{prefix:null,field:null,value:null}};M.loadFirstExtension=
function(a,b){for(var c=0;c<a.length;){var e=a[c];++c;e=M.loadExtension(e,b);if(null!=e.field)return e}return{prefix:null,field:null,value:null}};M.polyfill=function(a,b){null==b&&(b=window);var c=M.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};M.setVendorStyle=function(a,b,c){for(var a=a.style,e=0,d=M.get_VENDOR_PREFIXES();e<d.length;){var f=d[e];++e;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};M.addVendorListener=function(a,b,c,e){for(var d=0,f=M.get_VENDOR_PREFIXES();d<f.length;){var g=
f[d];++d;a.addEventListener(g+b,c,e)}a.addEventListener(b,c,e)};M.orientation=function(a){switch(a){case -90:case 90:return gb.Landscape;default:return gb.Portrait}};M.now=function(){return Date.now()};M.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};M.createCanvas=function(a){var b=M.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};M.detectSlowDriver=
function(a){if(0<=window.navigator.platform.indexOf("Win")&&null!=window.chrome){for(var b=0,a=a.getSupportedExtensions();b<a.length;){var c=a[b];++b;if(0<=c.indexOf("WEBGL_compressed_texture"))return!1}return!0}return!1};M.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var W=function(a){ra.call(this);this.buffer=a};i["flambe.platform.html.WebAudioSound"]=
W;W.__name__=["flambe","platform","html","WebAudioSound"];W.__interfaces__=[Mb];W.__properties__={get_supported:"get_supported"};W.get_supported=function(){if(W._detectSupport){W._detectSupport=!1;var a=M.loadExtension("AudioContext").value;null!=a&&(W.ctx=new a,W.gain=W.createGain(),W.gain.connect(W.ctx.destination),z.get_instance().addVolumeListener(W._onVolumeChange))}return null!=W.ctx};W._onVolumeChange=function(){W.gain.gain.value=z.get_instance().get_volume()};W.createGain=function(){return null!=
W.ctx.createGain?W.ctx.createGain():W.ctx.createGainNode()};W.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};W.__super__=ra;W.prototype=u(ra.prototype,{play:function(a){null==a&&(a=1);return new qc(this,a,!1)},loop:function(a){null==a&&(a=1);return new qc(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:W,__properties__:{get_duration:"get_duration"}});var qc=function(a,b,c){var e=this;this._sound=a;this._head=W.gain;this._complete=
!1;this._sourceNode=W.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){e._complete=!0};W.start(this._sourceNode,0);this.playAudio();this.set_volume(b);z.get_instance().get_hidden()&&this.set_paused(!0)};i["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=qc;qc.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];qc.__interfaces__=[hd,Zb];qc.prototype={set_volume:function(a){this._volume=a;this.setVolume(this._volume);
return this._volume},get_paused:function(){return 0<=this._pausedAt},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_complete:function(){return this._complete},get_position:function(){return this._complete?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(W.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(){3==this._sourceNode.playbackState&&(this._complete=!0);
return this._complete||0<=this._pausedAt?(this._tickableAdded=!1,z.get_instance().removeHiddenListener(t(this,this._onHidden)),!0):!1},dispose:function(){this.set_paused(!0);this._complete=!0},setVolume:function(a){null==this._gainNode&&(this._gainNode=W.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){this._sourceNode.connect(this._head);
this._startedAt=W.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(zb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,z.get_instance().addHiddenListener(t(this,this._onHidden)))},_onHidden:function(a){a?(this._wasPaused=0<=this._pausedAt,this.set_paused(!0)):this.set_paused(this._wasPaused)},__class__:qc,__properties__:{get_position:"get_position",get_complete:"get_complete",set_paused:"set_paused",get_paused:"get_paused",set_volume:"set_volume"}};var ua=i["flambe.pooling.LOG_LEVEL"]=
{__ename__:["flambe","pooling","LOG_LEVEL"],__constructs__:["NONE","NO_STACK","NEW_STACK","ALL_STACK"]};ua.NONE=["NONE",0];ua.NONE.toString=f;ua.NONE.__enum__=ua;ua.NO_STACK=["NO_STACK",1];ua.NO_STACK.toString=f;ua.NO_STACK.__enum__=ua;ua.NEW_STACK=["NEW_STACK",2];ua.NEW_STACK.toString=f;ua.NEW_STACK.__enum__=ua;ua.ALL_STACK=["ALL_STACK",3];ua.ALL_STACK.toString=f;ua.ALL_STACK.__enum__=ua;ua.__empty_constructs__=[ua.NONE,ua.NO_STACK,ua.NEW_STACK,ua.ALL_STACK];var rd=function(a,b,c){this._pool=[];
this._class=a;this._log=b;this._created=this._max=0;this._cap=c;this._loose=0};i["flambe.pooling.PoolTracker"]=rd;rd.__name__=["flambe","pooling","PoolTracker"];rd.prototype={get_log:function(){return this._log},get_numPooled:function(){return this._pool.length},get_created:function(){return this._created},get_cap:function(){return this._cap},incrementCreated:function(){this._created++},poolObject:function(a){this._pool.push(a);this._max=ab.max(this._max,this._pool.length)},givePool:function(){return this._pool.pop()},
__class__:rd,__properties__:{get_cap:"get_cap",get_created:"get_created",get_numPooled:"get_numPooled",get_log:"get_log"}};var Id=function(){this._sounds=[]};i["flambe.sound.Mixer"]=Id;Id.__name__=["flambe","sound","Mixer"];Id.prototype={createSound:function(a,b){null==b&&(b=2147483647);var c=new jd(a,b);this._sounds.push(c);return c},__class__:Id};var jd=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};i["flambe.sound._Mixer.MixerSound"]=jd;jd.__name__=["flambe","sound","_Mixer",
"MixerSound"];jd.__interfaces__=[nb,Mb];jd.prototype={play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,!0)},playOrLoop:function(a,b){var c=this.findOpenChannel();if(0>c)return new mc(this);var e;e=b?this._source.loop(a):this._source.play(a);return this._playbacks[c]=e},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var c=a++,e=this._playbacks[c];if(null==e||e.get_complete())return c}return-1},dispose:function(){for(var a=
0,b=this._playbacks;a<b.length;){var c=b[a];++a;c.dispose()}this._playbacks=[]},__class__:jd};var Oa=i["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem","RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};Oa.Stage3D=["Stage3D",0];Oa.Stage3D.toString=f;Oa.Stage3D.__enum__=Oa;Oa.WebGL=["WebGL",1];Oa.WebGL.toString=f;Oa.WebGL.__enum__=Oa;Oa.Canvas=["Canvas",2];Oa.Canvas.toString=f;Oa.Canvas.__enum__=Oa;Oa.__empty_constructs__=[Oa.Stage3D,Oa.WebGL,Oa.Canvas];var kd=function(){};
i["flambe.swf.Symbol"]=kd;kd.__name__=["flambe","swf","Symbol"];kd.prototype={__class__:kd};var ld=function(a,b){this._name=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]);var e=a.origin;null!=e?(this.originX=e[0]/c[2],this.originY=e[1]/c[3]):this.originY=this.originX=0};i["flambe.swf.BitmapSymbol"]=ld;ld.__name__=["flambe","swf","BitmapSymbol"];ld.__interfaces__=[kd];ld.prototype={dispose:function(){this.texture=this._name=null},createSprite:function(a,b){b.sprite=La.request(this.texture);
return Z.createInstance(a,[b])},__class__:ld};var Gd=function(a,b){this._file=a.getFile(b+"/library.json");var c=JSON.parse(this._file.toString());this._symbols=new H;this.frameRate=c.frameRate;for(var e=[],d=0,f=c.movies;d<f.length;){var g=f[d];++d;g=new md(this,g);e.push(g);this._symbols.set(g._name,g)}c=c.textureGroups;(1!=c[0].scaleFactor||1<c.length)&&null;c=c[0].atlases;for(d=0;d<c.length;){var h=c[d];++d;f=a.getTexture(b+"/"+Ba.removeFileExtension(h.file));g=0;for(h=h.textures;g<h.length;){var i=
h[g];++g;i=new ld(i,f);this._symbols.set(i._name,i)}}for(c=0;c<e.length;){f=e[c];++c;d=0;for(f=f.layers;d<f.length;){g=f[d];++d;g=g.keyframes;h=g.length;for(i=0;i<h;){var k=i++,m=g[k];if(null!=m.symbolName){var l=this._symbols.get(m.symbolName);m.symbol=l}if(m.tweened&&1==m.duration&&k+1<h&&(k=g[k+1],!k.visible||null==k.symbolName))m.visible=!1}}}};i["flambe.swf.Library"]=Gd;Gd.__name__=["flambe","swf","Library"];Gd.prototype={dispose:function(){null!=this._file&&this._file.dispose();this._file=null;
for(var a=this._symbols.iterator();a.hasNext();)a.next().dispose();this._symbols=null},__class__:Gd};var sd=function(a){this.keyframeIdx=0;this.layer=a;this._lastSprite=null;var b={origin:0};this.content=new C(b);if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);for(var c=new Bb,e=null,d=0,f=this._sprites.length;d<f;){var g=d++,h=a.keyframes[g];null==h.symbol?(null==e&&(e=new C(b)),this._sprites[g]=e):null!=c.h.__keys__[h.symbol.__id__]?this._sprites[g]=this._sprites[c.h[h.symbol.__id__]]:
(this._sprites[g]=h.symbol.createSprite(bb,b),c.set(h.symbol,g),g)}this.content.addChild(this._sprites[0])}};i["flambe.swf._MovieSprite.LayerAnimator"]=sd;sd.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];sd.prototype={dispose:function(){this.layer=this._sprites=this.content=null},composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,c=b.length-1;if(a>this.layer.frames)this.content.set_visible(!1),this.keyframeIdx=c;else{for(this.keyframeIdx=0;this.keyframeIdx<c&&b[this.keyframeIdx+
1].index<=a;)++this.keyframeIdx;var e=this._sprites[this.keyframeIdx];e!=this._lastSprite&&(this.content.removeChild(this._lastSprite),this._lastSprite=e,this.content.addChild(e));var e=b[this.keyframeIdx],d=e.visible&&null!=e.symbol;this.content.set_visible(d);if(d){var d=e.x,f=e.y,g=e.scaleX,h=e.scaleY,i=e.skewX,k=e.skewY,m=e.alpha;if(e.tweened&&this.keyframeIdx<c){a=(a-e.index)/e.duration;c=e.ease;if(0!=c){var l;0>c?(l=1-a,l=1-l*l,c=-c):l=a*a;a=c*l+(1-c)*a}b=b[this.keyframeIdx+1];d+=(b.x-d)*a;
f+=(b.y-f)*a;g+=(b.scaleX-g)*a;h+=(b.scaleY-h)*a;i+=(b.skewX-i)*a;k+=(b.skewY-k)*a;m+=(b.alpha-m)*a}b=this.content.getLocalMatrix();a=Math.sin(i);i=Math.cos(i);c=Math.sin(k);k=Math.cos(k);b.set(k*g,c*g,-a*h,i*h,d,f);b.translate(-e.pivotX,-e.pivotY);this.content.set_alpha(m)}}}},__class__:sd};var md=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,e=this.layers.length;c<e;){var d=c++,f=new he(b.layers[d]);this.frames=Math.max(f.frames,
this.frames);this.layers[d]=f}this.duration=this.frames/this.frameRate};i["flambe.swf.MovieSymbol"]=md;md.__name__=["flambe","swf","MovieSymbol"];md.__interfaces__=[kd];md.prototype={dispose:function(){this._name=null;for(var a=0,b=this.layers;a<b.length;){var c=b[a];++a;c.dispose()}this.layers=null},createSprite:function(a,b){b.symbol=this;return Z.createInstance(a,[b])},__class__:md};var he=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=
0,e=this.keyframes.length;c<e;){var d=c++,b=new ie(a.keyframes[d],b);this.keyframes[d]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+b.duration:0};i["flambe.swf.MovieLayer"]=he;he.__name__=["flambe","swf","MovieLayer"];he.prototype={dispose:function(){this.name=null;for(var a=0,b=this.keyframes;a<b.length;){var c=b[a];++a;c.dispose()}this.keyframes=null},__class__:he};var ie=function(a,b){this.ease=0;this.visible=this.tweened=!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=
this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.tweened&&(this.tweened=a.tweened);
null!=a.ease&&(this.ease=a.ease)};i["flambe.swf.MovieKeyframe"]=ie;ie.__name__=["flambe","swf","MovieKeyframe"];ie.prototype={dispose:function(){this.label=this.symbol=this.symbolName=null},__class__:ie};var Pd=function(){};i["flambe.util.Assert"]=Pd;Pd.__name__=["flambe","util","Assert"];Pd.that=function(){};var cc=function(){};i["flambe.util.BitSets"]=cc;cc.__name__=["flambe","util","BitSets"];cc.set=function(a,b,c){return c?a|b:a&~b};var cd=function(){this.success=new qa;this.error=new qa;this.progressChanged=
new Db;this.hasResult=!1;this._total=this._progress=0};i["flambe.util.Promise"]=cd;cd.__name__=["flambe","util","Promise"];cd.prototype={set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=
a&&(this._total=a,this.progressChanged.emit());return a},__class__:cd,__properties__:{set_total:"set_total",set_progress:"set_progress",set_result:"set_result"}};var Ia=function(){};i["flambe.util.PropertyList"]=Ia;Ia.__name__=["flambe","util","PropertyList"];Ia.parse=function(a){var a=new Eb(B.parse(a).firstElement()),b={};a.hasNode.resolve("dict")?b=Ia._parseDict(a.node.resolve("dict")):a.hasNode.resolve("array")&&(b=Ia._parseValue(a.node.resolve("array")));return b};Ia._parseDate=function(a){if(!Ia._dateRegex.match(a))throw'Invalid date "'+
a+'" (only yyyy-mm-dd and yyyy-mm-ddThh:mm:ssZ supported)';a=Ia._dateRegex.matched(1);null!=Ia._dateRegex.matched(2)&&(a+=" "+Ia._dateRegex.matched(2));return E.strDate(a)};Ia._parseDict=function(a){for(var b=null,c={},a=a.get_elements();a.hasNext();){var e=a.next();"key"==e.get_name()?b=e.get_innerData():null!=b&&D.setField(c,b,Ia._parseValue(e))}return c};Ia._parseValue=function(a){var b=null;switch(a.get_name()){case "array":b=[];for(a=a.get_elements();a.hasNext();){var c=a.next();b.push(Ia._parseValue(c))}break;
case "dict":b=Ia._parseDict(a);break;case "date":b=Ia._parseDate(a.get_innerData());break;case "string":b=a.get_innerData();break;case "data":b=a.get_innerData();break;case "true":b=!0;break;case "false":b=!1;break;case "real":b=y.parseFloat(a.get_innerData());break;case "integer":b=y.parseInt(a.get_innerData())}return b};var Db=function(a){Ta.call(this,a)};i["flambe.util.Signal0"]=Db;Db.__name__=["flambe","util","Signal0"];Db.__super__=Ta;Db.prototype=u(Ta.prototype,{connect:function(a,b){null==
b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==Ta.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:Db});var de=function(a){this.next=null;this.fn=a};i["flambe.util._SignalBase.Task"]=de;de.__name__=["flambe","util","_SignalBase","Task"];de.prototype={__class__:de};var Ba=function(){};i["flambe.util.Strings"]=
Ba;Ba.__name__=["flambe","util","Strings"];Ba.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?E.substr(a,b+1,null):null};Ba.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?E.substr(a,0,b):a};Ba.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=E.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=E.substr(a,b+1,null));return Ba.getFileExtension(a)};Ba.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};Ba.withFields=function(a,
b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",e=0;e<c;){0<e&&(a+=", ");var d=b[e],f=b[e+1];if(y.is(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=d+"="+y.string(f);e+=2}a+="]"}return a};var ha=function(){};i["flambe.util.WMUtils"]=ha;ha.__name__=["flambe","util","WMUtils"];ha.emptyMap=function(a){for(var b=a.keys();b.hasNext();){var c=b.next();ha._mapEmpty.push(c)}for(;0<ha._mapEmpty.length;)b=ha._mapEmpty.pop(),a.remove(b)};ha.removePropertiesFromDynamic=function(a){for(var b=0,c=D.fields(a);b<
c.length;){var e=c[b];++b;D.deleteField(a,e)}};ha.parsePropertyList=function(a){return Ia.parse(a)};ha.removeExtension=function(a){var b=a.lastIndexOf(".");return 0>b?a:a.substring(0,b)};ha.addStringToArrayWithoutDuplicates=function(a,b){for(var c=0;c<b.length;){var e=b[c];++c;if(e==a)return}b.push(a)};ha.removeDuplicatesFromStringArray=function(a){for(var b=[],c=0;c<a.length;){var e=a[c];++c;ha.addStringToArrayWithoutDuplicates(e,b)}return b};var eb=function(){this.buf=new Ob;this.cache=[];this.useCache=
eb.USE_CACHE;this.useEnumIndex=eb.USE_ENUM_INDEX;this.shash=new H;this.scount=0};i["haxe.Serializer"]=eb;eb.__name__=["haxe","Serializer"];eb.run=function(a){var b=new eb;b.serialize(a);return b.toString()};eb.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+
"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,e=this.cache.length;c<e;){var d=c++,f=this.cache[d];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b=null==d?this.buf.b+"null":this.buf.b+(""+d),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=D.fields(a);b<c.length;){var e=c[b];++b;this.serializeString(e);this.serialize(D.field(a,e))}this.buf.b+="g"},serialize:function(a){var b=
Z["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;
switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,e=0;e<c;){var d=e++;null==a[d]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[d]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case bc:this.buf.b+="l";for(a=a.iterator();a.hasNext();)this.serialize(a.next());this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(E.dateStr(a));
break;case H:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(a.get(c));this.buf.b+="h";break;case Za:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.get(c));this.buf.b+="h";break;case Bb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),e=D.field(c,"__id__"),D.deleteField(c,"__id__"),this.serialize(c),c.__id__=e,this.serialize(a.h[c.__id__]);this.buf.b+=
"h";break;case ac:e=0;d=a.length-2;b=new Ob;for(c=eb.BASE64;e<d;){var f=a.get(e++),g=a.get(e++),h=a.get(e++);b.add(c.charAt(f>>2));b.add(c.charAt((f<<4|g>>4)&63));b.add(c.charAt((g<<2|h>>6)&63));b.add(c.charAt(h&63))}e==d?(d=a.get(e++),a=a.get(e++),b.add(c.charAt(d>>2)),b.add(c.charAt((d<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):e==d+1&&(a=a.get(e++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=
":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(Z.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(Z.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;
this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(Z.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=y.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=y.string(b-2);for(c=2;c<b;)e=c++,this.serialize(a[e]);this.useCache&&this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+y.string(a);}},__class__:eb};var ub=function(a){var b=this;this.id=setInterval(function(){b.run()},
a)};i["haxe.Timer"]=ub;ub.__name__=["haxe","Timer"];ub.delay=function(a,b){var c=new ub(b);c.run=function(){c.stop();a()};return c};ub.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:ub};var Ma=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Ma.DEFAULT_RESOLVER;null==a&&(a=Z,Ma.DEFAULT_RESOLVER=a);this.setResolver(a)};i["haxe.Unserializer"]=Ma;Ma.__name__=["haxe","Unserializer"];Ma.initCodes=function(){for(var a=
[],b=0,c=Ma.BASE64.length;b<c;){var e=b++;a[Ma.BASE64.charCodeAt(e)]=e}return a};Ma.run=function(a){return(new Ma(a)).unserialize()};Ma.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(45==e){if(this.pos!=c)break;b=!0}else{if(48>e||57<e)break;a=10*a+(e-48)}this.pos++}b&&
(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return Z.createEnum(a,b);for(var e=[];0<c--;)e.push(this.unserialize());return Z.createEnum(a,b,e)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;
case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return y.parseFloat(E.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";b=E.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;
case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw"Invalid reference";return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";
return this.scache[a];case 120:throw this.unserialize();case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=Z.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;
this.pos++;var c=this.readDigits(),e=Z.getEnumConstructs(b)[c];if(null==e)throw"Unknown enum index "+a+"@"+c;a=this.unserializeEnum(b,e);this.cache.push(a);return a;case 108:a=new bc;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new H;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new Za;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=
this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";return a;case 77:a=new Bb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=E.substr(this.buf,this.pos,19),a=E.strDate(a),this.cache.push(a),this.pos+=19,a;case 115:a=this.readDigits();e=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var d=Ma.CODES;null==
d&&(d=Ma.initCodes(),Ma.CODES=d);for(var f=this.pos,g=a&3,h=f+(a-g),b=ac.alloc(3*(a>>2)+(2<=g?g-1:0)),c=0;f<h;){var i=d[Q.fastCodeAt(e,f++)],k=d[Q.fastCodeAt(e,f++)];b.set(c++,i<<2|k>>4);i=d[Q.fastCodeAt(e,f++)];b.set(c++,k<<4|i>>2);k=d[Q.fastCodeAt(e,f++)];b.set(c++,i<<6|k)}2<=g&&(k=d[Q.fastCodeAt(e,f++)],h=d[Q.fastCodeAt(e,f++)],b.set(c++,k<<2|h>>4),3==g&&(e=d[Q.fastCodeAt(e,f++)],b.set(c++,h<<4|e>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);
if(null==b)throw"Class not found "+a;a=Z.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw"Invalid custom data";return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:Ma};var nd=function(){};i["haxe.ds.BalancedTree"]=nd;nd.__name__=["haxe","ds","BalancedTree"];nd.prototype={set:function(a,b){this.root=this.setLoop(a,b,this.root)},get:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);
if(0==c)return b.value;b=0>c?b.left:b.right}return null},remove:function(a){try{return this.root=this.removeLoop(a,this.root),!0}catch(b){if(P.__instanceof(b,String))return!1;throw b;}},exists:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return!0;b=0>c?b.left:b.right}return!1},iterator:function(){var a=[];this.iteratorLoop(this.root,a);return E.iter(a)},keys:function(){var a=[];this.keysLoop(this.root,a);return E.iter(a)},setLoop:function(a,b,c){if(null==c)return new Pa(null,
a,b,null);var e=this.compare(a,c.key);if(0==e)return new Pa(c.left,a,b,c.right,null==c?0:c._height);if(0>e)return this.balance(this.setLoop(a,b,c.left),c.key,c.value,c.right);a=this.setLoop(a,b,c.right);return this.balance(c.left,c.key,c.value,a)},removeLoop:function(a,b){if(null==b)throw"Not_found";var c=this.compare(a,b.key);return 0==c?this.merge(b.left,b.right):0>c?this.balance(this.removeLoop(a,b.left),b.key,b.value,b.right):this.balance(b.left,b.key,b.value,this.removeLoop(a,b.right))},iteratorLoop:function(a,
b){null!=a&&(this.iteratorLoop(a.left,b),b.push(a.value),this.iteratorLoop(a.right,b))},keysLoop:function(a,b){null!=a&&(this.keysLoop(a.left,b),b.push(a.key),this.keysLoop(a.right,b))},merge:function(a,b){if(null==a)return b;if(null==b)return a;var c=this.minBinding(b);return this.balance(a,c.key,c.value,this.removeMinBinding(b))},minBinding:function(a){if(null==a)throw"Not_found";return null==a.left?a:this.minBinding(a.left)},removeMinBinding:function(a){return null==a.left?a.right:this.balance(this.removeMinBinding(a.left),
a.key,a.value,a.right)},balance:function(a,b,c,e){var d;d=null==a?0:a._height;var f;f=null==e?0:e._height;return d>f+2?function(){var b=a.left;return null==b?0:b._height}(this)>=function(){var b=a.right;return null==b?0:b._height}(this)?new Pa(a.left,a.key,a.value,new Pa(a.right,b,c,e)):new Pa(new Pa(a.left,a.key,a.value,a.right.left),a.right.key,a.right.value,new Pa(a.right.right,b,c,e)):f>d+2?function(){var a=e.right;return null==a?0:a._height}(this)>function(){var a=e.left;return null==a?0:a._height}(this)?
new Pa(new Pa(a,b,c,e.left),e.key,e.value,e.right):new Pa(new Pa(a,b,c,e.left.left),e.left.key,e.left.value,new Pa(e.left.right,e.key,e.value,e.right)):new Pa(a,b,c,e,(d>f?d:f)+1)},compare:function(a,b){return D.compare(a,b)},__class__:nd};var Pa=function(a,b,c,d,f){null==f&&(f=-1);this.left=a;this.key=b;this.value=c;this.right=d;this._height=-1==f?(function(a){a=a.left;return null==a?0:a._height}(this)>function(a){a=a.right;return null==a?0:a._height}(this)?function(a){a=a.left;return null==a?0:
a._height}(this):function(a){a=a.right;return null==a?0:a._height}(this))+1:f};i["haxe.ds.TreeNode"]=Pa;Pa.__name__=["haxe","ds","TreeNode"];Pa.prototype={__class__:Pa};var Ha=function(){};i["haxe.ds.EnumValueMap"]=Ha;Ha.__name__=["haxe","ds","EnumValueMap"];Ha.__interfaces__=[Nb];Ha.__super__=nd;Ha.prototype=u(nd.prototype,{compare:function(a,b){var c=a[1]-b[1];if(0!=c)return c;var c=a.slice(2),d=b.slice(2);return 0==c.length&&0==d.length?0:this.compareArgs(c,d)},compareArgs:function(a,b){var c=
a.length-b.length;if(0!=c)return c;for(var c=0,d=a.length;c<d;){var f=c++,f=this.compareArg(a[f],b[f]);if(0!=f)return f}return 0},compareArg:function(a,b){return D.isEnumValue(a)&&D.isEnumValue(b)?this.compare(a,b):a instanceof Array&&null==a.__enum__&&b instanceof Array&&null==b.__enum__?this.compareArgs(a,b):D.compare(a,b)},__class__:Ha});var Za=function(){this.h={}};i["haxe.ds.IntMap"]=Za;Za.__name__=["haxe","ds","IntMap"];Za.__interfaces__=[Nb];Za.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},
exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return E.iter(a)},__class__:Za};var Bb=function(){this.h={};this.h.__keys__={}};i["haxe.ds.ObjectMap"]=Bb;Bb.__name__=["haxe","ds","ObjectMap"];Bb.__interfaces__=[Nb];Bb.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Bb.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},
remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return E.iter(a)},__class__:Bb};var H=function(){this.h={}};i["haxe.ds.StringMap"]=H;H.__name__=["haxe","ds","StringMap"];H.__interfaces__=[Nb];H.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+
a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return E.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:H};var ac=function(a,b){this.length=a;this.b=b};i["haxe.io.Bytes"]=ac;ac.__name__=["haxe","io","Bytes"];ac.alloc=function(a){for(var b=
[],c=0;c<a;)c++,b.push(0);return new ac(a,b)};ac.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},__class__:ac};var xe=function(){};i["haxe.io.Eof"]=xe;xe.__name__=["haxe","io","Eof"];xe.prototype={toString:function(){return"Eof"},__class__:xe};var ve=function(){};i["haxe.rtti.Meta"]=ve;ve.__name__=["haxe","rtti","Meta"];ve.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};var je=function(a){this.__x=a};i["haxe.xml._Fast.NodeAccess"]=je;je.__name__=
["haxe","xml","_Fast","NodeAccess"];je.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==B.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;return new Eb(b)},__class__:je};var ke=function(a){this.__x=a};i["haxe.xml._Fast.AttribAccess"]=ke;ke.__name__=["haxe","xml","_Fast","AttribAccess"];ke.prototype={resolve:function(a){if(this.__x.nodeType==B.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==
b)throw this.__x.get_nodeName()+" is missing attribute "+a;return b},__class__:ke};var le=function(a){this.__x=a};i["haxe.xml._Fast.HasAttribAccess"]=le;le.__name__=["haxe","xml","_Fast","HasAttribAccess"];le.prototype={__class__:le};var me=function(a){this.__x=a};i["haxe.xml._Fast.HasNodeAccess"]=me;me.__name__=["haxe","xml","_Fast","HasNodeAccess"];me.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:me};var ne=function(a){this.__x=a};i["haxe.xml._Fast.NodeListAccess"]=
ne;ne.__name__=["haxe","xml","_Fast","NodeListAccess"];ne.prototype={resolve:function(a){for(var b=new bc,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new Eb(c))}return b},__class__:ne};var Eb=function(a){if(a.nodeType!=B.Document&&a.nodeType!=B.Element)throw"Invalid nodeType "+y.string(a.nodeType);this.x=a;this.node=new je(a);this.nodes=new ne(a);this.att=new ke(a);this.has=new le(a);this.hasNode=new me(a)};i["haxe.xml.Fast"]=Eb;Eb.__name__=["haxe","xml","Fast"];Eb.prototype={get_name:function(){return this.x.nodeType==
B.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==B.PCData&&c.nodeType==B.CData&&""==Q.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==B.PCData&&""==Q.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";}if(b.nodeType!=B.PCData&&b.nodeType!=B.CData)throw this.get_name()+
" does not have data";return b.get_nodeValue()},get_elements:function(){var a=this.x.elements();return{hasNext:t(a,a.hasNext),next:function(){var b=a.next();return null==b?null:new Eb(b)}}},__class__:Eb,__properties__:{get_elements:"get_elements",get_innerData:"get_innerData",get_name:"get_name"}};var sb=function(){};i["haxe.xml.Parser"]=sb;sb.__name__=["haxe","xml","Parser"];sb.parse=function(a){var b=B.createDocument();sb.doParse(a,0,b);return b};sb.doParse=function(a,b,c){null==b&&(b=0);for(var d=
null,f=1,g=1,h=null,i=0,k=0,m=0,l=a.charCodeAt(b),n=new Ob;l==l;){switch(f){case 0:switch(l){case 10:case 13:case 9:case 32:break;default:f=g;continue}break;case 1:switch(l){case 60:f=0;g=2;break;default:i=b;f=13;continue}break;case 13:60==l?(g=B.createPCData(n.b+E.substr(a,i,b-i)),n=new Ob,c.addChild(g),k++,f=0,g=2):38==l&&(n.addSub(a,i,b-i),f=18,g=13,i=b+1);break;case 17:93==l&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(f=B.createCData(E.substr(a,i,b-i)),c.addChild(f),k++,b+=2,f=1);break;case 2:switch(l){case 33:if(91==
a.charCodeAt(b+1)){b+=2;if("CDATA["!=E.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=E.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;f=15}i=b+1;break;case 63:f=14;i=b;break;case 47:if(null==c)throw"Expected node name";i=b+1;f=0;g=10;break;default:f=3;i=b;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=
l&&57>=l||58==l||46==l||95==l||45==l)){if(b==i)throw"Expected node name";d=B.createElement(E.substr(a,i,b-i));c.addChild(d);f=0;g=4;continue}break;case 4:switch(l){case 47:f=11;k++;break;case 62:f=9;k++;break;default:f=5;i=b;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(i==b)throw"Expected attribute name";h=E.substr(a,i,b-i);if(d.exists(h))throw"Duplicate attribute";f=0;g=6;continue}break;case 6:switch(l){case 61:f=0;g=7;break;default:throw"Expected =";
}break;case 7:switch(l){case 34:case 39:f=8;i=b;break;default:throw'Expected "';}break;case 8:l==a.charCodeAt(i)&&(g=E.substr(a,i+1,b-i-1),d.set(h,g),f=0,g=4);break;case 9:i=b=sb.doParse(a,b,d);f=1;break;case 11:switch(l){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(l){case 62:return 0==k&&c.addChild(B.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(i==b)throw"Expected node name";if(E.substr(a,
i,b-i)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;g=12;continue}break;case 15:45==l&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(B.createComment(E.substr(a,i,b-i))),b+=2,f=1);break;case 16:91==l?m++:93==l?m--:62==l&&0==m&&(c.addChild(B.createDocType(E.substr(a,i,b-i))),f=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,f=E.substr(a,i+1,b-i-2),c.addChild(B.createProcessingInstruction(f)),f=1);break;case 18:59==l&&(i=E.substr(a,i,b-i),35==i.charCodeAt(0)?(i=120==
i.charCodeAt(1)?y.parseInt("0"+E.substr(i,1,i.length-1)):y.parseInt(E.substr(i,1,i.length-1)),n.add(String.fromCharCode(i))):sb.escapes.exists(i)?n.add(sb.escapes.get(i)):n.b+=y.string("&"+i+";"),i=b+1,f=g)}l=Q.fastCodeAt(a,++b)}1==f&&(i=b,f=13);if(13==f)return(b!=i||0==k)&&c.addChild(B.createPCData(n.b+E.substr(a,i,b-i))),b;throw"Unexpected end";};var P=function(){};i["js.Boot"]=P;P.__name__=["js","Boot"];P.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};P.__string_rec=
function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,f=a.length;d<f;)var g=d++,c=2!=g?c+(","+P.__string_rec(a[g],b)):c+P.__string_rec(a[g],b);return c+")"}c=a.length;d="[";b+="\t";for(f=0;f<c;)g=f++,d+=(0<g?",":"")+P.__string_rec(a[g],b);return d+"]"}try{d=a.toString}catch(h){return"???"}if(null!=
d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";f=null!=a.hasOwnProperty;for(c in a)if(!f||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+P.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};P.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;
if(null!=c)for(var d=0,f=c.length;d<f;){var g=d++,g=c[g];if(g==b||P.__interfLoop(g,b))return!0}return P.__interfLoop(a.__super__,b)};P.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Ee:return(a|0)===a;case Be:return"number"==typeof a;case Ce:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Fe:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||P.__interfLoop(P.getClass(a),b)))return!0}else return!1;
return b==Ge&&null!=a.__name__||b==He&&null!=a.__ename__?!0:a.__enum__==b}};P.__cast=function(a,b){if(P.__instanceof(a,b))return a;throw"Cannot cast "+y.string(a)+" to "+y.string(b);};var De=0;Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;i.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=i.String=String;String.__name__=["String"];i.Array=Array;Array.__name__=
["Array"];Date.prototype.__class__=i.Date=Date;Date.__name__=["Date"];var Ee=i.Int={__name__:["Int"]},Fe=i.Dynamic={__name__:["Dynamic"]},Be=i.Float=Number;Be.__name__=["Float"];var Ce=i.Bool=Boolean;Ce.__ename__=["Bool"];var Ge=i.Class={__name__:["Class"]},He={};B.Element="element";B.PCData="pcdata";B.CData="cdata";B.Comment="comment";B.DocType="doctype";B.ProcessingInstruction="processingInstruction";B.Document="document";Pb.LOCALIZATION_NAME_BASE="achievement_name_";Pb.LOCALIZATION_DESC_BASE="achievement_desc_";
pe.LOCALIZATION_MOBILE_SUFFIX="_mobile";L.DIRTY=1;L.NEXT_FLAG=2;C._scratchPoint=L.request();C.VISIBLE=1;C.POINTER_ENABLED=2;C.LOCAL_MATRIX_DIRTY=4;C.VIEW_MATRIX_DIRTY=8;C.USE_CAMERA=16;C.DO_DELETE=32;C.PERSPECTIVE_SCALE=64;C.PARENT_OFFSET=128;C.NEXT_FLAG=256;bb.PAUSED=256;bb.SKIP_NEXT=512;bb.NEXT_FLAG=1024;N._scratchPoint=L.request();O.DESCENDERS=["g","j","q","p","y"];yb.NEXT_FLAG=1024;o.scaleFactor=1;o.ACHIEVEMENTS_ID="X";o.FONT_DEFAULT="font_helvetica_bold";o.DISABLE_CACHE=!1;o._isCocoon=-1;o._canvasOrigin=
0;o._canvasWidth=0;o._canvasHeight=0;Da._DELTA_ALLOWANCE=30;Da._DELTA_TIMEOUT=0.2;Va.ACTION_STOP=0;Va.ACTION_OPENED=1;Va.ACTION_CLOSED=4;Va.ACTION_FLOW=5;za._uniqueTimer=0;xa._tweenRemoval=[];xa._tweenUpdate=[];hb._canadaShowGameTitle="";zb.instance=new zb;z._platform=zb.instance;Xa.__meta__={obj:{assets:[{fonts_en_simple:[{bytes:29484,md5:"f4fed28d3dbf12fea89c9eb6ad5fe546",name:"font_arial_bold.fnt"},{bytes:132344,md5:"fc3ccf4817b76bda8b606fae778b536d",name:"font_arial_bold.png"},{bytes:29891,md5:"1ab507a2288ae29b6fd7522fb82ba8a5",
name:"font_arial_regular.fnt"},{bytes:135319,md5:"12b5b58caa7d9fa9c86962410c91a2a9",name:"font_arial_regular.png"},{bytes:127513,md5:"9b4a855992f56c88db06a6417ed1570a",name:"font_futura_bold.fnt"},{bytes:131918,md5:"b65973715e09d7ef8c31cd64c13c22bd",name:"font_futura_bold.png"},{bytes:127922,md5:"635268cce0bb9a15b3102150f935d1a7",name:"font_futura_medium.fnt"},{bytes:121823,md5:"ca282640568cd4fcd090a4affaca9361",name:"font_futura_medium.png"},{bytes:25162,md5:"2015d4ac42460edfa7175953ee9f8275",name:"font_helvetica_bold.fnt"},
{bytes:137132,md5:"ca5c9438395a1e820ec3af254ade45cf",name:"font_helvetica_bold.png"},{bytes:25160,md5:"6a0888c36025605ccbb16e1e994b1117",name:"font_helvetica_regular.fnt"},{bytes:138031,md5:"3e627cfafdc17fabee94aec05ef60632",name:"font_helvetica_regular.png"}],preload:[{bytes:6794,md5:"45aadbe166a8079f8cbe1728382932e1",name:"debug/debug_button.png"}],bootstrap:[{bytes:2114,md5:"bece6d8d3739b0abddc1fa1c921055d0",name:"audio/silent.mp3"},{bytes:5514,md5:"ae7363bbe4b631824f218d7866f30307",name:"audio/silent.ogg"},
{bytes:1305,md5:"95f2910b2e98c2c023f464288cb6ed43",name:"config/config.xml"},{bytes:568,md5:"64fef5175ec35f440801ac742ba23293",name:"config/config_loading.xml"}],fonts_ru:[{bytes:58455,md5:"e60f12d69f06915a3de6c622a8c14bb0",name:"font_arial_bold.fnt"},{bytes:172994,md5:"663ffeda123eb832cc9378c1520be400",name:"font_arial_bold.png"},{bytes:58549,md5:"89ec4aa03c6d75eec6279f18df5ea2f4",name:"font_arial_regular.fnt"},{bytes:177099,md5:"1bc655fc4ed80208530a5aa7a9f58b73",name:"font_arial_regular.png"},{bytes:143901,
md5:"d880ad835e69e33bcb959903d29011c1",name:"font_futura_bold.fnt"},{bytes:159675,md5:"7ba1e99753cf8d5f0a130d72f5174017",name:"font_futura_bold.png"},{bytes:145997,md5:"1e2dca006c56fb8a836aa96fbd0635c2",name:"font_futura_medium.fnt"},{bytes:150095,md5:"dfde97ad270d9b13947e4ab9a2841cf7",name:"font_futura_medium.png"},{bytes:33413,md5:"b95f724b7847ac972b2d08872121d3f5",name:"font_helvetica_bold.fnt"},{bytes:183596,md5:"079844378e3eaac9653a27d81651bfa2",name:"font_helvetica_bold.png"},{bytes:33411,md5:"4b6fcea09feb38f84d01991ea58decd3",
name:"font_helvetica_regular.fnt"},{bytes:187685,md5:"1f63ed5ca6791faf21c1d47d45c0c85a",name:"font_helvetica_regular.png"},{bytes:10786,md5:"9a219ffd621f91dda2e92ffdb7f12e1f",name:"translation.xml"}],fonts_la:[{bytes:29484,md5:"f4fed28d3dbf12fea89c9eb6ad5fe546",name:"font_arial_bold.fnt"},{bytes:132344,md5:"fc3ccf4817b76bda8b606fae778b536d",name:"font_arial_bold.png"},{bytes:29891,md5:"1ab507a2288ae29b6fd7522fb82ba8a5",name:"font_arial_regular.fnt"},{bytes:135319,md5:"12b5b58caa7d9fa9c86962410c91a2a9",
name:"font_arial_regular.png"},{bytes:127513,md5:"9b4a855992f56c88db06a6417ed1570a",name:"font_futura_bold.fnt"},{bytes:131918,md5:"b65973715e09d7ef8c31cd64c13c22bd",name:"font_futura_bold.png"},{bytes:127922,md5:"635268cce0bb9a15b3102150f935d1a7",name:"font_futura_medium.fnt"},{bytes:121823,md5:"ca282640568cd4fcd090a4affaca9361",name:"font_futura_medium.png"},{bytes:25162,md5:"2015d4ac42460edfa7175953ee9f8275",name:"font_helvetica_bold.fnt"},{bytes:137132,md5:"ca5c9438395a1e820ec3af254ade45cf",name:"font_helvetica_bold.png"},
{bytes:25160,md5:"6a0888c36025605ccbb16e1e994b1117",name:"font_helvetica_regular.fnt"},{bytes:138031,md5:"3e627cfafdc17fabee94aec05ef60632",name:"font_helvetica_regular.png"},{bytes:10659,md5:"c3144077fbf1c0e378e41350475f12c5",name:"translation.xml"}],fonts_kr:[{bytes:29484,md5:"f4fed28d3dbf12fea89c9eb6ad5fe546",name:"font_arial_bold.fnt"},{bytes:132344,md5:"fc3ccf4817b76bda8b606fae778b536d",name:"font_arial_bold.png"},{bytes:29891,md5:"1ab507a2288ae29b6fd7522fb82ba8a5",name:"font_arial_regular.fnt"},
{bytes:135319,md5:"12b5b58caa7d9fa9c86962410c91a2a9",name:"font_arial_regular.png"},{bytes:127513,md5:"9b4a855992f56c88db06a6417ed1570a",name:"font_futura_bold.fnt"},{bytes:131918,md5:"b65973715e09d7ef8c31cd64c13c22bd",name:"font_futura_bold.png"},{bytes:127922,md5:"635268cce0bb9a15b3102150f935d1a7",name:"font_futura_medium.fnt"},{bytes:121823,md5:"ca282640568cd4fcd090a4affaca9361",name:"font_futura_medium.png"},{bytes:25162,md5:"2015d4ac42460edfa7175953ee9f8275",name:"font_helvetica_bold.fnt"},{bytes:137132,
md5:"ca5c9438395a1e820ec3af254ade45cf",name:"font_helvetica_bold.png"},{bytes:25160,md5:"6a0888c36025605ccbb16e1e994b1117",name:"font_helvetica_regular.fnt"},{bytes:138031,md5:"3e627cfafdc17fabee94aec05ef60632",name:"font_helvetica_regular.png"},{bytes:10659,md5:"c3144077fbf1c0e378e41350475f12c5",name:"translation.xml"}],fonts_jp:[{bytes:29484,md5:"f4fed28d3dbf12fea89c9eb6ad5fe546",name:"font_arial_bold.fnt"},{bytes:132344,md5:"fc3ccf4817b76bda8b606fae778b536d",name:"font_arial_bold.png"},{bytes:29891,
md5:"1ab507a2288ae29b6fd7522fb82ba8a5",name:"font_arial_regular.fnt"},{bytes:135319,md5:"12b5b58caa7d9fa9c86962410c91a2a9",name:"font_arial_regular.png"},{bytes:127513,md5:"9b4a855992f56c88db06a6417ed1570a",name:"font_futura_bold.fnt"},{bytes:131918,md5:"b65973715e09d7ef8c31cd64c13c22bd",name:"font_futura_bold.png"},{bytes:127922,md5:"635268cce0bb9a15b3102150f935d1a7",name:"font_futura_medium.fnt"},{bytes:121823,md5:"ca282640568cd4fcd090a4affaca9361",name:"font_futura_medium.png"},{bytes:25162,md5:"2015d4ac42460edfa7175953ee9f8275",
name:"font_helvetica_bold.fnt"},{bytes:137132,md5:"ca5c9438395a1e820ec3af254ade45cf",name:"font_helvetica_bold.png"},{bytes:25160,md5:"6a0888c36025605ccbb16e1e994b1117",name:"font_helvetica_regular.fnt"},{bytes:138031,md5:"3e627cfafdc17fabee94aec05ef60632",name:"font_helvetica_regular.png"},{bytes:10210,md5:"975b7fa0dd8073c7781b4187e6e3b86a",name:"translation.xml"}],fonts_en:[{bytes:29484,md5:"f4fed28d3dbf12fea89c9eb6ad5fe546",name:"font_arial_bold.fnt"},{bytes:132344,md5:"fc3ccf4817b76bda8b606fae778b536d",
name:"font_arial_bold.png"},{bytes:29891,md5:"1ab507a2288ae29b6fd7522fb82ba8a5",name:"font_arial_regular.fnt"},{bytes:135319,md5:"12b5b58caa7d9fa9c86962410c91a2a9",name:"font_arial_regular.png"},{bytes:127513,md5:"9b4a855992f56c88db06a6417ed1570a",name:"font_futura_bold.fnt"},{bytes:131918,md5:"b65973715e09d7ef8c31cd64c13c22bd",name:"font_futura_bold.png"},{bytes:127922,md5:"635268cce0bb9a15b3102150f935d1a7",name:"font_futura_medium.fnt"},{bytes:121823,md5:"ca282640568cd4fcd090a4affaca9361",name:"font_futura_medium.png"},
{bytes:25162,md5:"2015d4ac42460edfa7175953ee9f8275",name:"font_helvetica_bold.fnt"},{bytes:137132,md5:"ca5c9438395a1e820ec3af254ade45cf",name:"font_helvetica_bold.png"},{bytes:25160,md5:"6a0888c36025605ccbb16e1e994b1117",name:"font_helvetica_regular.fnt"},{bytes:138031,md5:"3e627cfafdc17fabee94aec05ef60632",name:"font_helvetica_regular.png"},{bytes:15529,md5:"e4d80efb39eb2c6c0995334e88cb11d5",name:"translation.xml"}],fonts_cn:[{bytes:29484,md5:"f4fed28d3dbf12fea89c9eb6ad5fe546",name:"font_arial_bold.fnt"},
{bytes:132344,md5:"fc3ccf4817b76bda8b606fae778b536d",name:"font_arial_bold.png"},{bytes:29891,md5:"1ab507a2288ae29b6fd7522fb82ba8a5",name:"font_arial_regular.fnt"},{bytes:135319,md5:"12b5b58caa7d9fa9c86962410c91a2a9",name:"font_arial_regular.png"},{bytes:127513,md5:"9b4a855992f56c88db06a6417ed1570a",name:"font_futura_bold.fnt"},{bytes:131918,md5:"b65973715e09d7ef8c31cd64c13c22bd",name:"font_futura_bold.png"},{bytes:127922,md5:"635268cce0bb9a15b3102150f935d1a7",name:"font_futura_medium.fnt"},{bytes:121823,
md5:"ca282640568cd4fcd090a4affaca9361",name:"font_futura_medium.png"},{bytes:25162,md5:"2015d4ac42460edfa7175953ee9f8275",name:"font_helvetica_bold.fnt"},{bytes:137132,md5:"ca5c9438395a1e820ec3af254ade45cf",name:"font_helvetica_bold.png"},{bytes:25160,md5:"6a0888c36025605ccbb16e1e994b1117",name:"font_helvetica_regular.fnt"},{bytes:138031,md5:"3e627cfafdc17fabee94aec05ef60632",name:"font_helvetica_regular.png"},{bytes:10659,md5:"c3144077fbf1c0e378e41350475f12c5",name:"translation.xml"}],builder_assets:[{bytes:4216,
md5:"9657d5374f218d394605f552116263bf",name:"audio/sfx_button_click.mp3"},{bytes:2924,md5:"4d752bf7e0bfa48c40a60df0712b34bd",name:"audio/sfx_button_over.mp3"},{bytes:161369,md5:"9c084229dd6e52f1ba70f4a54eabf425",name:"audio/sfx_timertick.mp3"},{bytes:162456,md5:"1871c43fded3e95f890e2097d994e8e0",name:"audio/sfx_timertick.ogg"},{bytes:23295,md5:"f46ed109650432a11582863b7054c509",name:"data/project.json"},{bytes:252,md5:"b0545d5e26a38525af17714d542d55b5",name:"data/service_rules.json"},{bytes:63498,
md5:"89afb1acb21100b2b466c6414a6251c6",name:"images/bg_gameplay.jpg"},{bytes:3037,md5:"d2c3a137ffa0420349689c321d6f0f70",name:"images/btn_close.png"},{bytes:63498,md5:"89afb1acb21100b2b466c6414a6251c6",name:"images/splash.jpg"},{bytes:548,md5:"05dbc0747715d2a69db444a0f6b930f4",name:"images/temp_arrow_left.png"},{bytes:507,md5:"c6ed10b1950b0c8482e26de3b44a8274",name:"images/temp_arrow_right.png"},{bytes:423,md5:"6acd1e0f45043db8e349820bc74da5f8",name:"images/temp_match_answer1.png"},{bytes:266,md5:"213648b1ecb06122c7da547023e81e70",
name:"images/temp_match_answer2.png"},{bytes:695,md5:"1c61f027ae6a4c9bfe104d4cbaa8f31e",name:"images/temp_match_box.png"},{bytes:696,md5:"e5c02e4bb7c0384f0339868398a3ff1a",name:"images/temp_match_indicator.png"},{bytes:949,md5:"fe34cb487082155184b4d918c1cab520",name:"images/temp_slider_button.png"},{bytes:237,md5:"c09f5a5cd76bb52e6f4a105a03d08ed9",name:"images/temp_slider_circle.png"},{bytes:303,md5:"80f9a3f8c8caca82f101077f2e9f1ad4",name:"images/template_circle_empty.png"},{bytes:282,md5:"f216f1d57c010d4e264f290fd4f82eb4",
name:"images/template_circle_filled.png"},{bytes:8842,md5:"9c89ff09480eb75f84b0f7cf67ff5f7a",name:"images/test_image_blue.png"},{bytes:8965,md5:"dc6446e67bc7e3b3041c81920a7c1155",name:"images/test_image_green.png"},{bytes:9301,md5:"5edc8a0c202556b08739e5a9302e2ced",name:"images/test_image_option.png"},{bytes:9301,md5:"5edc8a0c202556b08739e5a9302e2ced",name:"images/test_image_option2.png"},{bytes:9301,md5:"5edc8a0c202556b08739e5a9302e2ced",name:"images/test_image_orange.png"},{bytes:8996,md5:"94a4d36fd6433d6c9291bb4b5817a37a",
name:"images/test_image_purple.png"},{bytes:8844,md5:"0696c6881b8584245861bc549884a2a1",name:"images/test_image_red.png"},{bytes:8790,md5:"3d68305447bee83204e53e86ed9caaf4",name:"images/test_image_yellow.png"},{bytes:8236,md5:"678b9a68929778b7d9aaa40457159ddb",name:"images/test_q1.png"},{bytes:8236,md5:"678b9a68929778b7d9aaa40457159ddb",name:"images/test_q2.png"},{bytes:8236,md5:"678b9a68929778b7d9aaa40457159ddb",name:"images/test_q3.png"},{bytes:8236,md5:"678b9a68929778b7d9aaa40457159ddb",name:"images/test_q4.png"},
{bytes:8236,md5:"678b9a68929778b7d9aaa40457159ddb",name:"images/test_q5.png"},{bytes:8236,md5:"678b9a68929778b7d9aaa40457159ddb",name:"images/test_q6.png"},{bytes:8236,md5:"678b9a68929778b7d9aaa40457159ddb",name:"images/test_q7.png"},{bytes:8236,md5:"678b9a68929778b7d9aaa40457159ddb",name:"images/test_q8.png"},{bytes:8236,md5:"678b9a68929778b7d9aaa40457159ddb",name:"images/test_q9.png"},{bytes:10808,md5:"0883e95819b1ccdc1f399acd3074dcdc",name:"images/test_result1.png"},{bytes:14501,md5:"4223701747d5a7674f52208780bdcc0e",
name:"images/ui_answer_correct.png"},{bytes:16139,md5:"7d1bdb33b67ffdd99f9990035ffc7249",name:"images/ui_answer_incorrect.png"},{bytes:509,md5:"341fa82626010363c37da60698aa7415",name:"images/ui_button_bg.png"},{bytes:8036,md5:"e61f6f8a37dd4e8539fc073a56111531",name:"images/ui_checkmark.png"},{bytes:4137,md5:"a8d27652a256a7eafabf6b20f487ff25",name:"images/ui_confetti_1.png"},{bytes:1550,md5:"52accefe0e9d4efaa936549f16f09ceb",name:"images/ui_confetti_2.png"},{bytes:2213,md5:"9d9447dbac78355a241d3bcc4763cdc7",
name:"images/ui_confetti_3.png"},{bytes:431,md5:"7fc58f91e2e9f670e9c47b40c73de699",name:"images/ui_firework_1.png"},{bytes:364,md5:"ab3421beff785b290a4973ecdb8362a9",name:"images/ui_hud_copy2.png"},{bytes:413,md5:"a75699d9a98156fb9dbe0cd3fb3ad583",name:"images/ui_loader_bg.png"},{bytes:651,md5:"6b73a14eca55dc9e708abc9e40d4291b",name:"images/ui_loader_top.png"},{bytes:19785,md5:"33e5494338d568e87392374c6823d81a",name:"images/ui_logo.png"},{bytes:5246,md5:"93b45689873aa266ebc053bdfe4cd8ba",name:"images/ui_play_btn.png"},
{bytes:641,md5:"aeae001bb2d8710b2f73122d45ca5077",name:"images/ui_rec_checked.png"},{bytes:498,md5:"f57435d8a891df35eaa3c832a951e85f",name:"images/ui_rec_empty.png"},{bytes:1963,md5:"565ee26ccc8f9bcbbbaf029cc0722727",name:"images/ui_relatedgames_bg.png"},{bytes:1963,md5:"565ee26ccc8f9bcbbbaf029cc0722727",name:"images/ui_result_bg.png"},{bytes:567,md5:"28164c7845ac1a7f05be87bbe0cd3d78",name:"images/ui_results_description_bg.png"},{bytes:3343,md5:"af4df1265ad28bf210bea4a4443878c8",name:"images/ui_results_image.png"},
{bytes:333,md5:"1e4cde6e9c91a7c2aa525431350246f9",name:"images/ui_results_title_bg.png"},{bytes:3783,md5:"2cca7d14e8e5c11c8f2b314e1943c0b9",name:"images/ui_share_bg.png"},{bytes:2374,md5:"1582dd1fdbf84a6f2da62744ae4ccd81",name:"images/ui_soundoff.png"},{bytes:2487,md5:"40b52c0736ecf7f5c30db7f876d6ad3e",name:"images/ui_soundon.png"},{bytes:393,md5:"41c02c14422ffe2c4250bea6a131f21d",name:"images/ui_strikes_bg.png"},{bytes:410,md5:"fb73176c4d9f1932cc22f8d2a0aea557",name:"images/ui_strikes_x.png"}]}]}};
Xa._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();Fb.NEWLINE=new $c(10);fb._sharedEvent=new Vd;kb._sharedEvent=new Xd;Ta.DISPATCHING_SENTINEL=new $b(null,null);Wb.CANVAS_TEXTURES=(new mb("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);ba._mediaRefCount=0;ba._detectBlobSupport=!0;M.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new mb("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);
W._detectSupport=!0;Ia._dateRegex=new mb("(\\d{4}-\\d{2}-\\d{2})(?:T(\\d{2}:\\d{2}:\\d{2})Z)?","");ha._mapEmpty=[];eb.USE_CACHE=!1;eb.USE_ENUM_INDEX=!1;eb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Ma.DEFAULT_RESOLVER=Z;Ma.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Bb.count=0;sb.escapes=function(){var a=new H;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);
ma.main()})();
