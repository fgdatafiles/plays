!function(e){function t(t){for(var r,s,a=t[0],c=t[1],u=t[2],f=0,h=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);h.length;)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={0:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;i.push([137,1]),n()}({129:function(e){e.exports=JSON.parse('{"AllCustomers":["Bob","Duck","Grampy","Purple","Donkey"],"Customers":["bob","duck","grampy","purple","donkey"],"Level0":{"name":"Level0","freeplay":true,"newItem":"","containers":["cup","wafflecone","cone","wafflebowl"],"yogurts":["vanilla","berry","birthday","rainbow","mint","mango"],"toppings":["peaches","peppermints","cereal","pickles","flapjack","chips","strawberries","jellybeans","chocolate","sprinkles","banana"],"numberOfYogurts":1,"numberOfToppings":1,"unlock":{"minigame":"refill","item":"flapjack"}},"Level1":{"name":"Level1","freeplay":false,"newItem":null,"containers":["cup"],"yogurts":["berry"],"toppings":["sprinkles"],"numberOfYogurts":1,"numberOfToppings":1},"Level2":{"name":"Level2","freeplay":false,"newItem":null,"containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":1,"numberOfToppings":1,"unlock":{"minigame":"slice","item":"","completed":false}},"Level3":{"name":"Level3","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":1,"numberOfToppings":2,"unlock":{"minigame":null,"item":"","completed":false}},"Level4":{"name":"Level4","freeplay":true,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":null,"numberOfToppings":null,"unlock":{"minigame":"crush","item":"","completed":false}},"Level5":{"name":"Level5","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":2,"numberOfToppings":1,"unlock":{"minigame":null,"item":"","completed":false}},"Level6":{"name":"Level6","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":2,"numberOfToppings":1,"unlock":{"minigame":"refill","item":"","completed":false}},"Level7":{"name":"Level7","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":2,"numberOfToppings":2,"unlock":{"minigame":null,"item":"","completed":false}},"Level8":{"name":"Level8","freeplay":true,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":null,"numberOfToppings":null,"unlock":{"minigame":"slice","item":"","completed":false}},"Level9":{"name":"Level9","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":3,"numberOfToppings":2,"unlock":{"minigame":null,"item":"","completed":false}},"Level10":{"name":"Level10","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":2,"numberOfToppings":3,"unlock":{"minigame":"refill","item":"","completed":false}},"Level11":{"name":"Level11","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":2,"numberOfToppings":4,"unlock":{"minigame":null,"item":"","completed":false}},"Level12":{"name":"Level12","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":3,"numberOfToppings":3,"unlock":{"minigame":"refill","item":"","completed":false}},"Level13":{"name":"Level13","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":3,"numberOfToppings":4,"unlock":{"minigame":null,"item":"","completed":false}},"Level14":{"name":"Level14","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":3,"numberOfToppings":4,"unlock":{"minigame":"crush","item":"","completed":false}},"Level15":{"name":"Level15","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":3,"numberOfToppings":4},"Level16":{"name":"Level16","freeplay":false,"newItem":null,"containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":3,"numberOfToppings":4,"unlock":{"minigame":"slice","item":"","completed":false}},"Level17":{"name":"Level17","freeplay":false,"newItem":"","containers":[],"yogurts":[],"toppings":[],"numberOfYogurts":3,"numberOfToppings":4},"Level18":{"name":"Level18","gameComplete":true,"freeplay":false,"newItem":null,"containers":["cup","wafflecone","cone","wafflebowl"],"yogurts":["vanilla","berry","birthday","rainbow","mint","mango"],"toppings":["peaches","peppermints","cereal","pickles","flapjack","chips","strawberries","jellybeans","chocolate","sprinkles","banana"],"numberOfYogurts":0,"numberOfToppings":0}}')},131:function(e){e.exports=JSON.parse('{"bob-and":[{"content":"...and...","end":913,"start":0}],"bob-banana":[{"content":"Bananas","end":1111,"start":0}],"bob-berry":[{"content":"Berry froyo","end":1861,"start":0}],"bob-birthday":[{"content":"Birthday cake froyo","end":2323,"start":0}],"bob-cereal":[{"content":"Crunchdoodles","end":1713,"start":0}],"bob-chips":[{"content":"Potato chips","end":1572,"start":0}],"bob-chocolate":[{"content":"Chocolate syrup","end":2614,"start":0}],"bob-cone":[{"content":"May I have a cone?","end":1581,"start":0}],"bob-cup":[{"content":"May I have a cup?","end":1101,"start":0}],"bob-flapjack":[{"content":"Flapjack syrup","end":1834,"start":0}],"bob-freeplay":[{"content":"Hmm, I can\'t decide. Uhh, can you surprise me?","end":4598,"start":0}],"bob-jellybeans":[{"content":"Jelly beans","end":1139,"start":0}],"bob-mango":[{"content":"Mango swirl froyo","end":2826,"start":0}],"bob-mint":[{"content":"Mint chip froyo","end":2045,"start":0}],"bob-peaches":[{"content":"Peaches","end":1546,"start":0}],"bob-peppermints":[{"content":"Peppermints","end":1474,"start":0}],"bob-pickles":[{"content":"Pickles","end":1763,"start":0}],"bob-please":[{"content":"Pretty please?","end":1250,"start":0}],"bob-rainbow":[{"content":"Rainbow swirl froyo","end":2197,"start":0}],"bob-sprinkles":[{"content":"Star sprinkles","end":2551,"start":0}],"bob-strawberries":[{"content":"Strawberries","end":1649,"start":0}],"bob-thank-1":[{"content":"Arrrr-oooo! Thank you!","end":2111,"start":0}],"bob-thank-2":[{"content":"This looks bow-wowee! Thank you!","end":3821,"start":0}],"bob-vanilla":[{"content":"Vanilla froyo","end":1562,"start":0}],"bob-wafflebowl":[{"content":"May I have a waffle bowl?","end":1742,"start":0}],"bob-wafflecone":[{"content":"May I have a waffle cone?","end":2150,"start":0}],"bob-with":[{"content":"...with...","end":988,"start":0}],"bob-wrong-order":[{"content":"Uh, this isn\'t what I ordered...","end":2151,"start":0}],"bob-surprise":[{"content":"Oh, surprise me!","end":4598,"start":0}],"duck-and":[{"content":"...and...","end":701,"start":0}],"duck-banana":[{"content":"Bananas","end":1061,"start":0}],"duck-berry":[{"content":"Berry froyo","end":1397,"start":0}],"duck-birthday":[{"content":"Oh, birthday cake froyo","end":2293,"start":0}],"duck-cereal":[{"content":"Crunchdoodles","end":1738,"start":0}],"duck-chips":[{"content":"Potato chips","end":1416,"start":0}],"duck-chocolate":[{"content":"Chocolate syrup","end":1750,"start":0}],"duck-cone":[{"content":"Hey hey. May I have a cone...","end":2752,"start":0}],"duck-cup":[{"content":"Hey hey. May I have a cup...","end":2410,"start":0}],"duck-flapjack":[{"content":"Flapjack syrup","end":1552,"start":0}],"duck-freeplay":[{"content":"Ooo, why don\'t you just surprise me","end":2648,"start":0}],"duck-jellybeans":[{"content":"Jelly beans","end":1657,"start":0}],"duck-mango":[{"content":"Mango swirl froyo","end":2138,"start":0}],"duck-mint":[{"content":"Mint chip froyo","end":1922,"start":0}],"duck-peaches":[{"content":"Peaches","end":1349,"start":0}],"duck-peppermints":[{"content":"Peppermints","end":981,"start":0}],"duck-pickles":[{"content":"Pickles, he he he he he","end":2813,"start":0}],"duck-please":[{"content":"Please please?","end":1334,"start":0}],"duck-rainbow":[{"content":"Rainbow swirl froyo","end":2526,"start":0}],"duck-sprinkles":[{"content":"Star sprinkles","end":1650,"start":0}],"duck-strawberries":[{"content":"Strawberries","end":1966,"start":0}],"duck-thank-1":[{"content":"Ooh ooh! Thank you!","end":3387,"start":0}],"duck-thank-2":[{"content":"Ohhh, thank you so much!!","end":2372,"start":0}],"duck-vanilla":[{"content":"Vanilla froyo","end":1615,"start":0}],"duck-wafflebowl":[{"content":"Hey hey. May I have a waffle bowl...","end":4165,"start":0}],"duck-wafflecone":[{"content":"Hey hey. May I have a waffle cone...","end":3892,"start":0}],"duck-with":[{"content":"...with...","end":1154,"start":0}],"duck-wrong-order":[{"content":"I\'m sorry to say here, but this is not what I ordered...","end":3500,"start":0}],"duck-surprise":[{"content":"Hey, you can surprise me!","end":2648,"start":0}],"grampy-and":[{"content":"...and...","end":745,"start":0}],"grampy-banana":[{"content":"Bananas","end":946,"start":0}],"grampy-berry":[{"content":"Berry froyo","end":1505,"start":0}],"grampy-birthday":[{"content":"Birthday cake froyo","end":1994,"start":0}],"grampy-cereal":[{"content":"Crunchdoodles","end":1777,"start":0}],"grampy-chips":[{"content":"Potato chips","end":1461,"start":0}],"grampy-chocolate":[{"content":"Chocolate syrup","end":1516,"start":0}],"grampy-cone":[{"content":"May I have a cone...","end":1443,"start":0}],"grampy-cup":[{"content":"May I have a cup...","end":1320,"start":0}],"grampy-flapjack":[{"content":"Flapjack syrup","end":1787,"start":0}],"grampy-freeplay":[{"content":"Hey there! You can make me whatever you\'d like!","end":3577,"start":0}],"grampy-jellybeans":[{"content":"Jelly beans, mmmm","end":2249,"start":0}],"grampy-mango":[{"content":"Mango swirl froyo","end":2426,"start":0}],"grampy-mint":[{"content":"Mint chip froyo","end":1972,"start":0}],"grampy-peaches":[{"content":"Peaches","end":874,"start":0}],"grampy-peppermints":[{"content":"Peppermints","end":1039,"start":0}],"grampy-pickles":[{"content":"Pickles","end":866,"start":0}],"grampy-please":[{"content":"Please?","end":980,"start":0}],"grampy-rainbow":[{"content":"Rainbow swirl froyo","end":2293,"start":0}],"grampy-sprinkles":[{"content":"Star sprinkles","end":1943,"start":0}],"grampy-strawberries":[{"content":"Strawberries","end":1686,"start":0}],"grampy-thank-1":[{"content":"Why thank you, friend-aroo!","end":1961,"start":0}],"grampy-thank-2":[{"content":"Oh, thank you!","end":1750,"start":0}],"grampy-vanilla":[{"content":"Vanilla froyo","end":2236,"start":0}],"grampy-wafflebowl":[{"content":"May I have a waffle bowl...","end":1968,"start":0}],"grampy-wafflecone":[{"content":"May I have a waffle cone...","end":2662,"start":0}],"grampy-with":[{"content":"...with...","end":845,"start":0}],"grampy-wrong-order":[{"content":"Oh dear, uh, this isn\'t what I ordered...","end":2650,"start":0}],"grampy-surprise":[{"content":"Oh, you can surprise me!","end":1980,"start":0}],"purple-and":[{"content":"...and...","end":830,"start":0}],"purple-banana":[{"content":"Bananas","end":1379,"start":0}],"purple-berry":[{"content":"Berry froyo","end":1410,"start":0}],"purple-birthday":[{"content":"Birthday cake froyo","end":1674,"start":0}],"purple-cereal":[{"content":"Crunchdoodles","end":1904,"start":0}],"purple-chips":[{"content":"Potato chips","end":1623,"start":0}],"purple-chocolate":[{"content":"Chocolate syrup","end":1345,"start":0}],"purple-cone":[{"content":"Hiii! May I have a cone...","end":3988,"start":0}],"purple-cup":[{"content":"Hiii! May I have a cup...","end":3600,"start":0}],"purple-flapjack":[{"content":"Flapjack syrup","end":1668,"start":0}],"purple-freeplay":[{"content":"Hiii! I would like whatever you would like to make! Surprise me!","end":7175,"start":0}],"purple-jellybeans":[{"content":"Jelly beans","end":1749,"start":0}],"purple-mango":[{"content":"Mango swirl froyo","end":2861,"start":0}],"purple-mint":[{"content":"Mint chip froyo","end":1459,"start":0}],"purple-peaches":[{"content":"Peaches","end":1170,"start":0}],"purple-peppermints":[{"content":"Peppermints","end":1498,"start":0}],"purple-pickles":[{"content":"Pickles","end":1549,"start":0}],"purple-please":[{"content":"Please?","end":1065,"start":0}],"purple-rainbow":[{"content":"Rainbow swirl froyo","end":2016,"start":0}],"purple-sprinkles":[{"content":"Star sprinkles","end":2372,"start":0}],"purple-strawberries":[{"content":"Strawberries","end":1737,"start":0}],"purple-thank-1":[{"content":"Hey-o! Thanks!","end":3176,"start":0}],"purple-thank-2":[{"content":"Woohoo! Oh Thank you!","end":2798,"start":0}],"purple-vanilla":[{"content":"Vanilla froyo","end":1534,"start":0}],"purple-wafflebowl":[{"content":"May I have, uh, a waffle bowl...","end":3248,"start":0}],"purple-wafflecone":[{"content":"Hiii! Oh! May I have a waffle cone...","end":4924,"start":0}],"purple-with":[{"content":"...with...","end":1121,"start":0}],"purple-wrong-order":[{"content":"Oh, uh. This isn\'t what I ordered...","end":3504,"start":0}],"purple-surprise":[{"content":"Uh, you can surprise me!","end":2136,"start":0}],"clyde-1":[{"content":"No worries. I\'ll take this froyo to a hungry friend.","end":3149,"start":0}],"clyde-2":[{"content":"Oooh, I know someone who will love this. ","end":2392,"start":0}],"clyde-3":[{"content":"Looks delicious to me. I\'ll enjoy this one.","end":3146,"start":0}],"crush-1":[{"content":"Gotta crush these toppings!","end":2428,"start":0}],"crush-2":[{"content":"Move the rolling pin around to crush the topping.","end":3281,"start":0}],"deliver-1":[{"content":"Here you go!","end":1561,"start":0}],"deliver-2":[{"content":"One froyo, coming up!","end":2562,"start":0}],"deliver-3":[{"content":"Enjoy!","end":1425,"start":0}],"deliver-4":[{"content":"I hope you like it!","end":1565,"start":0}],"donkey-freeplay":[{"content":"All this froyo sure is making me hungry. Ooo, can you make one for me?","end":5943,"start":0}],"donkey-thank-1":[{"content":"Thank you!","end":1206,"start":0}],"donkey-thank-2":[{"content":"Ohh, thanks for your help!","end":2581,"start":0}],"encourage-1":[{"content":"You\'re doing great!","end":2194,"start":0}],"encourage-2":[{"content":"That looks super duper delicious!","end":3388,"start":0}],"encourage-3":[{"content":"Scrum-didili-hee-haw-umptious!","end":4039,"start":0}],"encourage-4":[{"content":"Now that is a colorful combination!","end":2526,"start":0}],"encourage-5":[{"content":"You\'re a froyo pro!","end":2611,"start":0}],"encourage-6":[{"content":"Oh yeah!","end":1540,"start":0}],"encourage-7":[{"content":"Ooooh!","end":2626,"start":0}],"freeplay-1":[{"content":"Oooo, what do you think they\'d like?","end":2688,"start":0}],"freeplay-2":[{"content":"Hee-hawesome choice!","end":2287,"start":0}],"instruction-1":[{"content":"Tap the button to add the froyo.","end":2321,"start":0}],"instruction-10":[{"content":"You can tap here if you want to start over.","end":2623,"start":0}],"instruction-11":[{"content":"Tap here if you wanna undo something.","end":2672,"start":0}],"instruction-2":[{"content":"Tap the bottle to squeeze the syrup.","end":3305,"start":0}],"instruction-3":[{"content":"Drag the syrup bottle to the froyo.","end":3314,"start":0}],"instruction-4":[{"content":"Tap and drag toppings to add them.","end":2535,"start":0}],"instruction-5":[{"content":"Tap the container to select it.","end":2372,"start":0}],"instruction-6":[{"content":"Tap the shaker to add the topping.","end":2725,"start":0}],"instruction-7":[{"content":"Tap here to see more toppings.","end":2169,"start":0}],"instruction-8":[{"content":"Tap here when you\'re ready to serve your froyo.","end":4660,"start":0}],"instruction-9":[{"content":"Tap here when you\'re done.","end":2332,"start":0}],"intro-1":[{"content":"I, Donkey Hodie, could reeeaally use your help","end":2972,"start":0},{"content":"making delicious frozen yogurt treats for our pals.","end":6214,"start":2972}],"intro-2-alt":[{"content":"Ooh! Here comes our first customer.","end":3147,"start":0}],"intro-3":[{"content":"Hee-haw, welcome to my froyo stand!","end":3253,"start":0}],"intro-4":[{"content":"I wonder what they\'ll order...","end":1630,"start":0}],"make-1-alt":[{"content":"Now that we have their order, let\'s make some froyo!","end":4867,"start":0}],"make-and":[{"content":"...and...","end":770,"start":0}],"make-banana":[{"content":"Bananas","end":1282,"start":0}],"make-berry":[{"content":"Berry froyo","end":1750,"start":0}],"make-birthday":[{"content":"Birthday cake froyo","end":1937,"start":0}],"make-cereal":[{"content":"Crunchdoodles","end":1363,"start":0}],"make-chips":[{"content":"Potato chips","end":1519,"start":0}],"make-chocolate":[{"content":"Chocolate syrup","end":1576,"start":0}],"make-cone":[{"content":"A cone...","end":1695,"start":0}],"make-cup":[{"content":"A cup...","end":1127,"start":0}],"make-flapjack":[{"content":"Flapjack syrup","end":1821,"start":0}],"make-jellybeans":[{"content":"Jelly beans","end":1477,"start":0}],"make-mango":[{"content":"Mango swirl froyo","end":2708,"start":0}],"make-mint":[{"content":"Mint chip froyo","end":2636,"start":0}],"make-peaches":[{"content":"Peaches","end":1634,"start":0}],"make-peppermints":[{"content":"Peppermints","end":892,"start":0}],"make-pickles":[{"content":"Pickles","end":1843,"start":0}],"make-rainbow":[{"content":"Rainbow swirl froyo","end":2750,"start":0}],"make-sprinkles":[{"content":"Star sprinkles","end":1793,"start":0}],"make-strawberries":[{"content":"Strawberries","end":1436,"start":0}],"make-vanilla":[{"content":"Vanilla froyo","end":3624,"start":0}],"make-wafflebowl":[{"content":"A waffle bowl...","end":1493,"start":0}],"make-wafflecone":[{"content":"A waffle cone...","end":1316,"start":0}],"make-with":[{"content":"...with...","end":716,"start":0}],"next-alt-1":[{"content":"Let\'s see who\'s next...","end":1520,"start":0}],"next-alt":[{"content":"We have another customer...","end":1862,"start":0}],"next-bob":[{"content":"Bob Dog!","end":2078,"start":0}],"next-duck":[{"content":"Duck Duck!","end":893,"start":0}],"next-grampy":[{"content":"Grampy Hodie!","end":1864,"start":0}],"next-purple":[{"content":"Purple Panda!","end":1543,"start":0}],"next":[{"content":"Here\'s our next customer...","end":2117,"start":0}],"refill-1-alt":[{"content":"This is my refill machine! We need to fix it so the topping can go through.","end":5317,"start":0}],"refill-1":[{"content":"Uh oh! We need to fix the machine so the topping can go through.","end":4228,"start":0}],"refill-2":[{"content":"Tap the pieces to move them around.","end":2779,"start":0}],"refill-3":[{"content":"Tap the green button to refill the topping.","end":2964,"start":0}],"refill-bowl":[{"content":"Let\'s refill the bowl.","end":1453,"start":0}],"refill-shaker":[{"content":"Let\'s refill the shaker.","end":1917,"start":0}],"refill-syrup":[{"content":"Let\'s refill the bottle.","end":2414,"start":0}],"slice-1":[{"content":"Slice, slice, slice. Slice it up!","end":3183,"start":0}],"slice-2":[{"content":"Tap to slice it into pieces.","end":2034,"start":0}],"title-1-alt":[{"content":"Donkey\'s FroYo Stand! Hey, that\'s me!","end":3849,"start":0}],"title-1":[{"content":"Donkey\'s FroYo Stand!","end":2377,"start":0}],"try-again-2":[{"content":"That\'s ok! Let\'s try again.","end":2923,"start":0}],"try-again-3":[{"content":"Let\'s keep trying till we get this right!","end":2619,"start":0}],"try-again-4":[{"content":"Come on. Let\'s check their order.","end":2133,"start":0}],"try-again-alt":[{"content":"Let\'s try this again.","end":2684,"start":0}],"try-again":[{"content":"Thanks Clyde.","end":1181,"start":0}],"unlock-1":[{"content":"Ooh, a new ingredient!","end":2250,"start":0}],"unlock-2":[{"content":"I wonder what it is...","end":2037,"start":0}],"unlock-3":[{"content":"Tap the lid to see.","end":1750,"start":0}],"unlock-4":[{"content":"Hee-haw!","end":1750,"start":0}],"unlock-5":[{"content":"Mm mm mmm!","end":1545,"start":0}],"wrong-order-1":[{"content":"Whoops!","end":1122,"start":0}],"wrong-order-2":[{"content":"Thanks, Clyde the Cloud!","end":1750,"start":0}],"reaction-bob":[{"content":"Yea!","end":1401,"start":0}],"reaction-donkey":[{"content":"Oooo!","end":2448,"start":0}],"reaction-duck":[{"content":"*Laughing*","end":1313,"start":0}],"reaction-grampy":[{"content":"Mm mm mmm!","end":2168,"start":0}],"reaction-purple":[{"content":"Oh! *Laughing*","end":2512,"start":0}]}')},137:function(e,t,n){n(138),e.exports=n(334)},28:function(e){e.exports=JSON.parse('{"compressionlevel":-1,"editorsettings":{"export":{"format":"json","target":"pipes.json"}},"height":3,"infinite":false,"layers":[{"data":[0,4,2,1,2,0,0,7,7,5,0,0,4,3,0],"height":3,"id":1,"name":"Tile Layer 4","opacity":1,"type":"tilelayer","visible":false,"width":5,"x":0,"y":0},{"data":[0,1,2,7,0,0,5,7,4,2,0,0,4,8,3],"height":3,"id":5,"name":"Tile Layer 3","opacity":1,"type":"tilelayer","visible":false,"width":5,"x":0,"y":0},{"data":[0,7,1,8,2,1,3,7,0,5,4,8,3,0,0],"height":3,"id":3,"name":"Tile Layer 2","opacity":1,"type":"tilelayer","visible":false,"width":5,"x":0,"y":0},{"data":[1,2,4,8,2,5,7,0,1,3,0,4,8,3,0],"height":3,"id":2,"name":"Tile Layer 1","opacity":1,"type":"tilelayer","visible":false,"width":5,"x":0,"y":0}],"nextlayerid":6,"nextobjectid":1,"orientation":"orthogonal","renderorder":"left-down","tiledversion":"1.4.2","tileheight":150,"tilesets":[{"columns":0,"firstgid":1,"grid":{"height":1,"orientation":"orthogonal","width":1},"margin":0,"name":"pipes","spacing":0,"tilecount":8,"tileheight":153,"tiles":[{"id":0,"image":"curve-pipe-1.png","imageheight":150,"imagewidth":150},{"id":1,"image":"curve-pipe-2.png","imageheight":150,"imagewidth":150},{"id":2,"image":"curve-pipe-3.png","imageheight":150,"imagewidth":150},{"id":3,"image":"curve-pipe-4.png","imageheight":150,"imagewidth":150},{"id":4,"image":"end-pipe.png","imageheight":153,"imagewidth":153},{"id":5,"image":"straight-cap.png","imageheight":150,"imagewidth":150},{"id":6,"image":"straight-pipe-1.png","imageheight":150,"imagewidth":150},{"id":7,"image":"straight-pipe-2.png","imageheight":150,"imagewidth":150}],"tilewidth":153}],"tilewidth":150,"type":"map","version":1.4,"width":5}')},324:function(e,t,n){},327:function(e,t){window.cjs=window.createjs,cjs.DisplayObject.prototype.hitbox=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getBounds();return n&&(this.hitArea=new cjs.Shape,this.hitArea.graphics.f("#000").r(n.x-e,n.y-t,n.width+2*e,n.height+2*t)),this},cjs.DisplayObject.prototype.center=function(){var e=this.getBounds();return this.regX=e.width/2,this.regY=e.height/2,this},cjs.DisplayObject.prototype.regs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getBounds();return this.regX=n.width*e,this.regY=n.height*t,this}},334:function(e,t,n){"use strict";n.r(t);n(324),n(325),n(327);var r=n(65),o=n(129),i=n(131),s={CUP:"cup",WAFFLECONE:"wafflecone",CONE:"cone",WAFFLEBOWL:"wafflebowl",VANILLA:"vanilla",BERRY:"berry",BIRTHDAY:"birthday",RAINBOW:"rainbow",MINT:"mint",MANGO:"mango",CHOCOLATE:"chocolate",FLAPJACK:"flapjack",SPRINKLES:"sprinkles",BANANA:"banana",JELLYBEANS:"jellybeans",PEPPERMINTS:"peppermints",CEREAL:"cereal",CHIPS:"chips",STRAWBERRIES:"strawberries",PICKLES:"pickles",PEACHES:"peaches",FROYO_STREAM_TIME:1500,STICKER_GRABBED_SCALE:1.15},a=n(41);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){h(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"lineBegin",value:function(e){this.renderTarget.innerHTML=Object(a.d)(e.content,this.templateVariables)}},{key:"lineEnd",value:function(){}}]),n}(function(e){h(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.renderTarget.classList.add("fadeIn"),this.templateVariables=e}},{key:"stop",value:function(){this.renderTarget.classList.remove("fadeIn"),this.templateVariables={}}}]),n}(a.c));function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.files={}}var t,n,r;return t=e,(n=[{key:"add",value:function(e){switch(e.item.type){case createjs.Types.SOUND:break;case"flash":this.files[e.item.id]=e.item.comp.getLibrary();break;default:this.files[e.item.id]=e.result}}},{key:"get",value:function(e){return this.files[e]}},{key:"remove",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.remove(e.id)})):delete this.files[e]}},{key:"clear",value:function(){this.files={}}}])&&b(t.prototype,n),r&&b(t,r),e}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,createjs.AbstractLoader);var t,n,r,o=j(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t,"flash"))._manifestQueue=null,n.compositionsIDMap={},n}return t=i,r=[{key:"canLoadItem",value:function(e){return"flash"===e.type}},{key:"MANIFEST_PROGRESS",get:function(){return.25}}],(n=[{key:"destroy",value:function(){S(P(i.prototype),"_destroy",this).call(this),this._manifestQueue.close()}},{key:"_createRequest",value:function(){this._request=new createjs.JavaScriptLoader(this._item)}},{key:"handleEvent",value:function(e){switch(e.type){case"complete":if(this._rawResult=e.target.getResult(!0),!AdobeAn.compositions)throw"Using out of date flash export! "+this._item.src;var t;if(this.compositionsIDMap[this._item.src])t=this.compositionsIDMap[this._item.src];else{for(var n=Object.keys(AdobeAn.compositions),r=0,o=n.length;r<o;r++)if(!this.compositionsIDMap[n[r]]){t=n[r];break}this.compositionsIDMap[this._item.src]=t}this._item.assetsPath=this._item.src.slice(0,this._item.src.lastIndexOf("/")+1);var s=this._item.comp=AdobeAn.compositions[t],a=this._result=this._item.lib=s.getLibrary();if(delete AdobeAn.compositions[t],!a)throw"Something went wrong. Lib not found";return this._sendProgress(i.MANIFEST_PROGRESS),void this._loadManifest(a);case"progress":return e.loaded*=i.MANIFEST_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress===1/0)&&(this.progress=0),void this._sendProgress(e)}S(P(i.prototype),"_handleEvent",this).call(this,e)}},{key:"_loadManifest",value:function(e){if(e.properties.manifest&&e.properties.manifest.length){var t=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.assetsPath,this._item.crossOrigin);t.installPlugin(createjs.Sound),t.on("complete",this._handleManifestComplete,this,!0),t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("error",this._handleManifestError,this,!0);for(var n=[],r=0,o=e.properties.manifest.length;r<o;r++)-1===e.properties.manifest[r].src.indexOf("sound")&&n.push(e.properties.manifest[r]);t.loadManifest(n)}else this._sendComplete()}},{key:"_handleManifestFileLoad",value:function(e){e&&"image"===e.item.type&&(this._item.comp.getImages()[e.item.id]=e.result)}},{key:"_handleManifestComplete",value:function(e){for(var t=this._item.comp,n=t.getLibrary(),r=t.getSpriteSheet(),o=e.target,i=n.ssMetadata,s=0;s<i.length;s++)r[i[s].name]=new createjs.SpriteSheet({images:[o.getResult(i[s].name)],frames:i[s].frames});this._sendComplete()}},{key:"_handleManifestProgress",value:function(e){this.progress=e.progress*(1-i.MANIFEST_PROGRESS)+i.MANIFEST_PROGRESS,this._sendProgress(this.progress)}},{key:"_handleManifestError",value:function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)}}])&&w(t.prototype,n),r&&w(t,r),i}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,createjs.LoadQueue);var t,n,r,o=_(i);function i(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return x(this,i),(t=o.call(this,n)).cache=e,t.installPlugin(createjs.Sound),t.registerLoader(T),t.setMaxConnections(8),t}return t=i,(n=[{key:"load",value:function(e){var t=this,n=[];return e.forEach((function(e){createjs.Sound._idHash[e.id]||n.push(JSON.parse(JSON.stringify(e)))})),0===n.length?Promise.resolve():(this.on("fileload",this.handleFileload,this),this.loadManifest(n),new Promise((function(e){t.on("complete",(function(n){t.handleLoadComplete(n),e(t)}))})))}},{key:"handleFileload",value:function(e){this.cache&&this.cache.add(e)}},{key:"handleLoadComplete",value:function(e){var t=e.currentTarget;t.destroy(),t.removeAll(),this.destroy(),this.removeAll()}}])&&R(t.prototype,n),r&&R(t,r),i}();function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.android=/android/i.test(navigator.userAgent),this.iPhone=/iPhone/i.test(navigator.userAgent),this.iPod=/iPod/i.test(navigator.userAgent),this.iPad=/iPad/i.test(navigator.userAgent),this.kindle=/Silk/i.test(navigator.userAgent),this.touchDevice="ontouchstart"in window||window.navigator.msMaxTouchPoints,this.safari=/safari/i.test(navigator.userAgent),this.chrome=/chrome/i.test(navigator.userAgent),this.edge=/edge/i.test(navigator.userAgent),this.IE11=/trident/i.test(navigator.userAgent),this.firefox=/firefox/i.test(navigator.userAgent),this.iOS=this.determineIOS(),this.mobile=this.determineMobile()}var t,n,r;return t=e,(n=[{key:"determineIOS",value:function(){return this.iPhone||this.iPad||this.iPod}},{key:"determineMobile",value:function(){return this.iOS||this.android||this.winPhone||this.kindle||/mobile/i.test(navigator.userAgent)}}])&&N(t.prototype,n),r&&N(t,r),e}();function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(i,createjs.Container);var t,n,r,o=H(i);function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return D(this,i),(t=o.call(this)).name=e,t.percentX=n,t.percentY=r,t}return t=i,(n=[{key:"resize",value:function(e,t){this.x=e*this.percentX,this.y=t*this.percentY}}])&&F(t.prototype,n),r&&F(t,r),i}();function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};W(this,e),this.paused=!1,this.captionsCallback=i,this.container=document.getElementById(t),this.canvas=document.getElementById(n),this.width=o.maxWidth||1664,this.height=o.maxHeight||768,this.safeWidth=o.safeWidth||1024,this.safeHeight=o.safeHeight||768,this.maxWidth=o.maxWidth||1664,this.maxHeight=o.maxHeight||768,this.stage=new createjs.Stage(n),createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.framerate=60,createjs.Ticker.maxDelta=40,createjs.Ticker.on("tick",this.update.bind(this)),window.addEventListener("resize",(function(e){r.resetWrapper(),r.resize(),setTimeout(r.resize.bind(r),500)}))}var t,n,r;return t=e,(n=[{key:"resetWrapper",value:function(){var e=this.container;e.style.width="",e.style.height="",e.style.maxWidth="",e.style.maxHeight="",e.style.margin="",e.style.marginTop="",this.canvas.width=1,this.canvas.height=1}},{key:"resize",value:function(){var e=this.container,t=window.innerWidth,n=window.innerHeight,r=t,o=n,i=n/this.height;t>this.maxWidth*i?this.width=this.maxWidth:t<this.safeWidth*i?this.width=this.safeWidth:this.width=Math.floor(t/i),t>this.width*(n/this.height)?(r=Math.floor(n/this.height*this.width),e.style.maxWidth=r+"px",e.style.margin="0 auto"):(o=Math.floor(t/this.width*this.height),e.style.maxHeight=o+"px",e.style.marginTop=(n-o)/2+"px"),this.container.style.width=r+"px",this.container.style.height=o+"px",this.canvas.width=this.width,this.canvas.height=this.height,this._resizeChildren(this.stage,this.width,this.height),this.stage.update({delta:0})}},{key:"_resizeChildren",value:function(e,t,n){if(e.children)for(var r=e.children.length-1;r>=0;r--)this._resizeChildren(e.children[r],t,n);e.resize&&e.resize(t,n)}},{key:"setPaused",value:function(e){this.paused=e,createjs.Ticker.paused=e}},{key:"update",value:function(e){this.paused||(this.tick=e.delta/1e3,this.stage.update(e),this.captionsCallback(this.tick))}}])&&q(t.prototype,n),r&&q(t,r),e}();function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"preUnloadScene",value:function(e,t){}},{key:"postUnloadScene",value:function(e,t){}},{key:"preLoadScene",value:function(e,t){}},{key:"postLoadScene",value:function(e,t){}}])&&K(t.prototype,n),r&&K(t,r),e}();function Z(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Z(i,r,o,s,a,"next",e)}function a(e){Z(i,r,o,s,a,"throw",e)}s(void 0)}))}}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.current=null,this.allScenes={},this.mainLayer=null,this.transitionLayer=null,this.plugins=[]}var t,n,r,o,i;return t=e,(n=[{key:"addPlugin",value:function(e){e instanceof z?this.plugins.push(e):console.warn("Plugin should extend SceneControllerPlugin")}},{key:"removePlugin",value:function(e){var t=this.plugins.indexOf(e);-1!==t&&this.plugins.splice(t,1)}},{key:"registerScene",value:function(e,t){this.allScenes[e]=t}},{key:"setMainLayer",value:function(e){this.mainLayer=e}},{key:"setTransitionLayer",value:function(e,t){this.transition=e,this.transitionLayer=t,t.addChild(e)}},{key:"gotoScene",value:function(e){this.current?this.unloadSceneThenLoad(e):this.loadScene(e)}},{key:"unloadSceneThenLoad",value:(i=Q(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.callPlugin("preUnloadScene"),this.current.setActive(!1),this.current.end(),e.next=5,this.current.animateOut();case 5:if(!this.transition){e.next=8;break}return e.next=8,this.transition.animateIn();case 8:this.current.unload(),this.removeScene(this.current,this.mainLayer),this.callPlugin("postUnloadScene"),this.loadScene(t);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"loadScene",value:(o=Q(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.callPlugin("preLoadScene"),this.current=new this.allScenes[t],this.mainLayer.addChild(this.current),e.next=5,this.current.preload();case 5:if(this.current.build(),!this.transition){e.next=9;break}return e.next=9,this.transition.animateOut();case 9:return e.next=11,this.current.animateIn();case 11:this.current.setActive(!0),this.current.start(),this.callPlugin("postLoadScene");case 14:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"removeScene",value:function(e,t){e&&(e.removeAllEventListeners(),e.removeAllChildren()),t&&(t.removeAllEventListeners(),t.removeAllChildren())}},{key:"callPlugin",value:function(e){for(var t=0,n=this.plugins.length;t<n;t++)this.plugins[t][e](this.current,this.mainLayer)}}])&&$(t.prototype,n),r&&$(t,r),e}();function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var re=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};te(this,e),this.callback=n,this.hidden=this.constructor.getHidden(),this.visibilityChange=this.constructor.getVisibility(),this.hidden&&this.visibilityChange&&document.addEventListener(this.visibilityChange,(function(){return t.handleVisibilityChange()}),!1)}var t,n,r;return t=e,r=[{key:"getHidden",value:function(){return void 0!==document.hidden?"hidden":void 0!==document.msHidden?"msHidden":void 0!==document.webkitHidden?"webkitHidden":void 0}},{key:"getVisibility",value:function(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychange":void 0}}],(n=[{key:"handleVisibilityChange",value:function(){this.callback(!document[this.hidden])}}])&&ne(t.prototype,n),r&&ne(t,r),e}(),oe=n(6);function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ae=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ie(this,e),this.tracker=0,this.array=n?Object(oe.a)(t):t}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this.tracker=0,this.array.length=0}},{key:"add",value:function(e){this.array.push(e)}},{key:"shuffleArray",value:function(){this.array=Object(oe.a)(this.array)}},{key:"getNext",value:function(){var e=this.getCurrent();return this.incrementTracker(),e}},{key:"getCurrent",value:function(){return this.array[this.tracker]}},{key:"getAdvance",value:function(){return this.array[this.tracker+1]}},{key:"incrementTracker",value:function(){this.tracker++,this.tracker>=this.array.length&&(this.tracker=0)}},{key:"reset",value:function(){this.tracker=0}}])&&se(t.prototype,n),r&&se(t,r),e}(),ce={advancedLevel:!1,loadedFromTitle:!1,currentLevel:null,allCustomers:o.Customers,numberOfFreeplays:0,bobThank:new ae([1,2],!0),duckThank:new ae([1,2],!0),grampyThank:new ae([1,2],!0),purpleThank:new ae([1,2],!0),customers:null,previousOrder:null,playerMadeMistake:!1,heardUnlockTutorial:!1,STATE:{ORDER:0,CONTAINER:1,YOGURT:2,TOPPINGS:3,DELIVERY:4},currentState:0,encourageVO:new ae(["encourage-1","encourage-2","encourage-3","encourage-4","encourage-5","encourage-6","encourage-7"],!0),deliverVO:new ae(["deliver-1","deliver-2","deliver-3","deliver-4"],!0),minigameVO:new ae(["encourage-1","encourage-2","encourage-3","encourage-6"],!0),tryAgainVO:new ae(["try-again-2","try-again-3","try-again-4","try-again-alt"],!0),tryAgainVOFreeplay:new ae([],!0),nextVO:new ae(["next-alt-1","next-alt","next"],!0),jarVO:new ae(["unlock-1","unlock-2"],!0),unlockVO:new ae(["unlock-4","unlock-5"],!0),clydeVO:new ae(["clyde-1","clyde-2","clyde-3"],!0),thankClyde:new ae(["wrong-order-2","try-again"],!1),chopSFX:new ae(["chop-fruit-1","chop-fruit-2","chop-fruit-3"],!1),crushSFX:new ae(["crush-chips-1","crush-chips-2","crush-chips-3","crush-chips-4"],!1),loading:{Title:!1,Intro:!1,Shared:!1,Game:!1,Refilling:!1,Slicing:!1,Crushing:!1,Bob:!1,Duck:!1,Grampy:!1,Purple:!1},forcedMinigames:new ae(["Refilling","Slicing","Crushing"],!0),lastMinigame:null,currentUnlockMinigame:{},refillUnlocks:new ae([s.SPRINKLES],!0),slicingUnlocks:new ae([s.BANANA],!0),crushingUnlocks:new ae([],!0),playedRefillGame:!1,refillGameOrder:new ae([0,1,2,3],!0),setup:function(){this.customers=new ae(this.allCustomers,!0),this.setCurrentLevel()},getNextCustomer:function(){return this.customers.getNext()},setCurrentLevel:function(){var e=JSON.parse(localStorage.getItem("playerLevel"));this.currentLevel=o["Level"+e],console.log(this.currentLevel)},checkAndAdjustPlayerLevel:function(e){console.log("number of incorrect "+e);var t=JSON.parse(localStorage.getItem("playerLevel"));18!==t&&(0===e?(this.advancedLevel=!0,++t>=18&&(t=18)):1===e?this.advancedLevel=!1:e>=2&&(this.advancedLevel=!1,--t<=1&&(t=1)),localStorage.setItem("playerLevel",JSON.stringify(t)),this.setCurrentLevel())},incrementLevel:function(){var e=JSON.parse(localStorage.getItem("playerLevel"));e++,localStorage.setItem("playerLevel",JSON.stringify(e)),this.setCurrentLevel()},debugCurrentLevel:function(e){this.currentLevel=o["Level"+e]}},ue=n(132),le=n(133),fe=n(134);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(i,createjs.Container);var t,n,r,o=de(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return t=i,(n=[{key:"preload",value:function(){return Promise.resolve()}},{key:"build",value:function(){}},{key:"animateIn",value:function(){return Promise.resolve()}},{key:"setActive",value:function(e){}},{key:"start",value:function(){}},{key:"end",value:function(){}},{key:"animateOut",value:function(){return Promise.resolve()}},{key:"unload",value:function(){}},{key:"resize",value:function(e,t){}}])&&pe(t.prototype,n),r&&pe(t,r),i}();function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=je(e);if(t){var o=je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(i,cjs.Sprite);var t,n,r,o=Se(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t)).name=t,n.cursor="pointer",n}return t=i,(n=[{key:"setActive",value:function(e){e?mc.mobile||(this.on("mouseover",this.handleMouseOver,this),this.on("mouseout",this.handleMouseOut,this)):this.removeAllEventListeners()}},{key:"handleMouseOver",value:function(e){this.scale<1||!this.mouseEnabled||cjs.Tween.get(this).to({scale:1.05},250,cjs.Ease.cubicInOut)}},{key:"handleMouseOut",value:function(e){this.scale<1||!this.mouseEnabled||cjs.Tween.get(this).to({scale:1},250,cjs.Ease.cubicInOut)}},{key:"show",value:function(){return cjs.Tween.get(this).set({visible:!0},this).to({scale:1},250,cjs.Ease.backOut).set({mouseEnabled:!0},this)}},{key:"hide",value:function(){return this.mouseEnabled=!1,cjs.Tween.get(this).to({scale:0},250,cjs.Ease.backIn).set({visible:!1},this)}}])&&ke(t.prototype,n),r&&ke(t,r),i}();function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var o=Ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Re(this,n)}}function Re(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(s,e);var t,n,o,i=xe(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).name="Title Scene",e}return t=s,(n=[{key:"preload",value:function(){return ce.loading.Title?Promise.resolve():(ce.loading.Title=!0,dc.load(r.Title))}},{key:"build",value:function(){var e=new cjs.Bitmap(yc.get("TitleBG"));e.center(),this.playBtn=new Ce(yc.get("SharedSS"),"ui-play-btn"),this.playBtn.set({x:386,y:240,regX:125,regY:95,scale:0}),this.addChild(e,this.playBtn)}},{key:"start",value:function(){this.playBtn.show(),this.idlePlayBtn()}},{key:"setActive",value:function(e){this.playBtn.setActive(e),e?this.on("click",this.handleButtonClick,this):this.removeAllEventListeners()}},{key:"handleButtonClick",value:function(e){var t=this;gc.play("click-1"),vc.play("froyo-bg-music-loop",.5),this.setActive(!1),this.playBtn.hide(),Rc("title-1-alt",(function(){t.gotoGameScene()}))}},{key:"gotoGameScene",value:function(e){e&&e.currentTarget&&e.currentTarget.removeAllEventListeners(),ce.loadedFromTitle=!0,fc.getPlugin("GoogleAnalytics").event("Donkey Froyo","startGame"),pc.gotoScene("Game")}},{key:"idlePlayBtn",value:function(){for(var e=cjs.Tween.get(this.playBtn,{loop:-1}).wait(5e3),t=0;t<4;t++)e.to({rotation:5},150,cjs.Ease.cubicInOut),e.to({rotation:-5},150,cjs.Ease.cubicInOut);e.to({rotation:0},150,cjs.Ease.cubicInOut)}}])&&Te(t.prototype,n),o&&Te(t,o),s}(be);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(i,e);var t,n,r,o=Me(i);function i(){return Le(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"build",value:function(){this.ui=new cjs.Container,this.ui.name="UI",this.homeBtn=new Ce(yc.get("SharedSS"),"ui-button-home"),this.homeBtn.center(),this.homeBtn.set({name:"Home Button",x:-434,y:-302}),this.ui.addChild(this.homeBtn),this.addChild(this.ui)}},{key:"setActive",value:function(e){this.homeBtn.setActive(e),e?this.homeBtn.on("click",this.gotoTitle,this):this.homeBtn.removeAllEventListeners()}},{key:"gotoTitle",value:function(){gc.play("click-1"),pc.gotoScene("Title")}}])&&Be(t.prototype,n),r&&Be(t,r),i}(be);function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(i,cjs.Container);var t,n,r,o=Ue(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Speech Bubble";var t=new cjs.Sprite(yc.get("GameSS"),"speech-bubble");return t.name="Bubble",e.item=new cjs.Sprite(yc.get("GameSS"),"topping-peppermints-bubble"),e.item.center(),e.item.set({x:160,y:125,scale:0}),e.item.name="Item In Bubble",e.addChild(t,e.item),e.regX=35,e.regY=216,e.scale=0,e}return t=i,(n=[{key:"setItem",value:function(e){switch(e){case s.CUP:case s.WAFFLECONE:case s.CONE:case s.WAFFLEBOWL:e="container-"+e;break;case s.VANILLA:case s.BERRY:case s.BIRTHDAY:case s.RAINBOW:case s.MINT:case s.MANGO:e="yogurt-"+e;break;case s.CHOCOLATE:case s.FLAPJACK:case s.SPRINKLES:case s.BANANA:case s.JELLYBEANS:case s.PEPPERMINTS:case s.CEREAL:case s.CHIPS:case s.STRAWBERRIES:case s.PICKLES:case s.PEACHES:e="topping-"+e}e+="-bubble",0===this.item.scale?this._setItem(e):(gc.play("food-item-despawn"),cjs.Tween.get(this.item).to({scale:0},250,cjs.Ease.backIn).call(this._setItem,[e],this))}},{key:"_setItem",value:function(e){this.item.gotoAndStop(e);var t=this.item.getBounds();this.item.regX=t.width/2,this.item.regY=t.height/2,gc.play("food-item-spawn"),cjs.Tween.get(this.item).to({scale:1},250,cjs.Ease.backOut)}},{key:"show",value:function(){return gc.play("speech-bubble-appear"),cjs.Tween.get(this).to({scale:1},500,cjs.Ease.backOut)}},{key:"hide",value:function(){var e=this;return cjs.Tween.get(this).to({scale:0},500,cjs.Ease.backIn).call((function(t){e.item.scale=0}))}}])&&He(t.prototype,n),r&&He(t,r),i}();function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(i,cjs.Container);var t,n,r,o=Ze(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).onScreenPos=new cjs.Point(0,0),e.speechBubble=new qe,e.width=1e3,e.height=1e3,e}return t=i,(n=[{key:"moveOnScreen",value:function(){return gc.play("customer-slide-in"),cjs.Tween.get(this).to({x:this.onScreenPos.x,y:this.onScreenPos.y},2e3,cjs.Ease.cubicInOut)}},{key:"moveOffScreen",value:function(){return gc.play("customer-slide-out"),cjs.Tween.get(this).to(this.getOffscreenPos(),2e3,cjs.Ease.cubicInOut)}},{key:"getOffscreenPos",value:function(){var e,t=this.getBounds();return e=t?0===t.height?this.height:t.height:this.height,new cjs.Point(this.onScreenPos.x,hc.maxHeight/2+e+5)}},{key:"gotoAndPlay",value:function(e){this.animation.gotoAndPlay(e)}},{key:"gotoAndStop",value:function(e){this.animation.gotoAndStop(e)}}])&&Ke(t.prototype,n),r&&Ke(t,r),i}();function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st(e);if(t){var o=st(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return it(this,n)}}function it(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(i,e);var t,n,r,o=ot(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Bob Dog Customer",e.onScreenPos=new cjs.Point(0,165),e.width=600,e.height=561;var t=yc.get("BobAnim");return e.animation=new t.bob,e.animation.set({name:"Bob Animation",framerate:24,regX:420,regY:529}),e.animation.gotoAndPlay("idle"),e.speechBubble.set({x:136,y:-250}),e.addChild(e.animation,e.speechBubble),e}return t=i,(n=[{key:"getArmContainer",value:function(){return this.animation.children[0].children[3]}},{key:"getFroyoContainer",value:function(){return this.animation.children[0].children[3].FroyoContainer}}])&&nt(t.prototype,n),r&&nt(t,r),i}(et);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pt(e);if(t){var o=pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yt=[[new cjs.Point],[new cjs.Point(-28,0),new cjs.Point(28,0)],[new cjs.Point(-28,-28),new cjs.Point(28,-28),new cjs.Point(0,28)],[new cjs.Point(-28,-28),new cjs.Point(28,-28),new cjs.Point(-28,28),new cjs.Point(28,28)]],dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(i,cjs.Container);var t,n,r,o=ft(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return t=i,(n=[{key:"addItem",value:function(e){e.center(),this.addChild(e),this.animateItems()}},{key:"animateItems",value:function(){var e=yt[this.children.length-1],t=1;switch(this.children.length){case 2:t=.6;break;case 3:t=.55;break;case 4:t=.5}for(var n=0;n<e.length;n++)cjs.Tween.get(this.children[n]).to({x:e[n].x,y:e[n].y,scale:t},1e3,cjs.Ease.cubicInOut)}}])&&ut(t.prototype,n),r&&ut(t,r),i}();function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wt(e);if(t){var o=wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(i,cjs.Sprite);var t,n,r,o=vt(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t+"/"+t)).name="Ring "+t,n.regX=70,n.regY=70,n.framerate=60,n}return t=i,(n=[{key:"animate",value:function(e){this.visible=!0,this.alpha=1,this.gotoAndPlay(e+"/"+e)}},{key:"hide",value:function(){return cjs.Tween.get(this).to({alpha:0},250).set({visible:!1},this)}}])&&gt(t.prototype,n),r&&gt(t,r),i}();function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Et(e);if(t){var o=Et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==Ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xt=[new cjs.Point(0,-421),new cjs.Point(0,-256),new cjs.Point(0,-95)],Rt=[new cjs.Point(52,-377),new cjs.Point(52,-213),new cjs.Point(52,-49)],At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(i,cjs.Container);var t,n,r,o=Pt(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).name="Ticket",t.rings=[],t.checkmarks=[],t.activeRing=null,t.sfxOrder=new ae(["checkmark-1","checkmark-2","checkmark-3"],!1);var n=new cjs.Sprite(yc.get("UISS"),"ui-ticket");n.name="Background",n.regs(.5,1);var r=new cjs.Sprite(yc.get("UISS"),"ui-ticket-character-"+e);r.set({name:"Customer Picture "+e,x:-76,y:-609}),t.containerContainer=new dt,t.containerContainer.set({name:"Cup Container",x:xt[0].x,y:xt[0].y}),t.yogurtContainer=new dt,t.yogurtContainer.set({name:"Yogurt Container",x:xt[1].x+2,y:xt[1].y+5}),t.toppingContainer=new dt,t.toppingContainer.set({name:"Topping Container",x:xt[2].x+2,y:xt[2].y+5}),t.highlights=new cjs.Container,t.highlights.name="Highlight Container",t.rings=[];for(var s=0;s<3;s++){var a=new St(yc.get("UISS"),"blue-marker");a.regX=70,a.regY=70,a.set({x:xt[s].x,y:xt[s].y,visible:!0}),t.rings.push(a),t.highlights.addChild(a)}t.checkmarks=[];for(var c=0;c<3;c++){var u=new cjs.Sprite(yc.get("UISS"),"correct-check");u.center(),u.set({name:"Checkmark",x:Rt[c].x,y:Rt[c].y,visible:!0}),t.checkmarks.push(u),t.highlights.addChild(u)}return t.addChild(n,r,t.containerContainer,t.yogurtContainer,t.toppingContainer,t.highlights),t}return t=i,(n=[{key:"setActive",value:function(e){e?(this.containerContainer.hitbox(),this.yogurtContainer.hitbox(),this.toppingContainer.hitbox(),this.containerContainer.on("mousedown",this.handleClick,this),this.yogurtContainer.on("mousedown",this.handleClick,this),this.toppingContainer.on("mousedown",this.handleClick,this)):(this.containerContainer.removeAllEventListeners(),this.yogurtContainer.removeAllEventListeners(),this.toppingContainer.removeAllEventListeners())}},{key:"handleClick",value:function(e){var t=pc.current.order;switch(e.currentTarget){case this.containerContainer:Rc("make-"+t.container[0]);break;case this.yogurtContainer:for(var n=[],r=0;r<t.yogurts.length;r++)0!==r&&n.push("make-and"),n.push("make-"+t.yogurts[r]);Rc(n);break;case this.toppingContainer:for(var o=[],i=0;i<t.toppings.length;i++)0!==i&&o.push("make-and"),o.push("make-"+t.toppings[i]);Rc(o)}}},{key:"setFreeplay",value:function(){for(var e=[this.containerContainer,this.yogurtContainer,this.toppingContainer],t=0;t<e.length;t++){var n=new cjs.Sprite(yc.get("UISS"),"question-mark-ticket");n.center(),n.name="Question Mark",n.scale=0,e[t].addChild(n),cjs.Tween.get(n).wait(300*t).to({scale:1},1e3,cjs.Ease.cubicInOut)}}},{key:"addItem",value:function(e){var t;switch(e){case s.CUP:case s.WAFFLECONE:case s.CONE:case s.WAFFLEBOWL:t=new cjs.Sprite(yc.get("UISS"),"container-"+e+"-ticket");break;case s.VANILLA:case s.BERRY:case s.BIRTHDAY:case s.RAINBOW:case s.MINT:case s.MANGO:t=new cjs.Sprite(yc.get("UISS"),"yogurt-"+e+"-ticket");break;case s.CHOCOLATE:case s.FLAPJACK:case s.SPRINKLES:case s.BANANA:case s.JELLYBEANS:case s.PEPPERMINTS:case s.CEREAL:case s.CHIPS:case s.STRAWBERRIES:case s.PICKLES:case s.PEACHES:t=new cjs.Sprite(yc.get("UISS"),"topping-"+e+"-ticket")}t.center(),t.scale=0,-1!==t.currentAnimation.indexOf("container-")?this.containerContainer.addItem(t):-1!==t.currentAnimation.indexOf("yogurt-")?this.yogurtContainer.addItem(t):-1!==t.currentAnimation.indexOf("topping-")?this.toppingContainer.addItem(t):console.error("Name incorrect for the item to be added to ticket")}},{key:"setActiveRingByState",value:function(){var e;switch(ce.currentState){case ce.STATE.CONTAINER:e=this.rings[0];break;case ce.STATE.YOGURT:e=this.rings[1],cjs.Tween.get(this.containerContainer).to({alpha:.7},250);break;case ce.STATE.TOPPINGS:e=this.rings[2],cjs.Tween.get(this.yogurtContainer).to({alpha:.7},250);break;case ce.STATE.DELIVERY:this.activeRing.hide(),cjs.Tween.get(this.toppingContainer).to({alpha:.7},250)}e&&(this.activeRing instanceof St&&e!==this.activeRing&&this.activeRing.hide(),gc.play("circle"),e.animate("blue-marker"),this.activeRing=e)}},{key:"fadeInContainers",value:function(){cjs.Tween.get(this.containerContainer).to({alpha:1},250),cjs.Tween.get(this.yogurtContainer).to({alpha:1},250),cjs.Tween.get(this.toppingContainer).to({alpha:1},250)}},{key:"setContainerCorrect",value:function(e){this.sfxOrder.reset(),this._setCorrectIncorrectState(e,0,0)}},{key:"setYogurtCorrect",value:function(e){this._setCorrectIncorrectState(e,1,1e3)}},{key:"setToppingCorrect",value:function(e){this._setCorrectIncorrectState(e,2,2e3)}},{key:"_setCorrectIncorrectState",value:function(e,t){var n,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=function(e,t,n,o){cjs.Tween.get(r).wait(t).call((function(t){gc.play(o),r.rings[e].animate(n)}))};e?(n=this.sfxOrder.getNext(),this.checkmarks[t].visible=!0,this.checkmarks[t].scale=0,cjs.Tween.get(this.checkmarks[t]).wait(o).to({scale:1},500,cjs.Ease.backOut),i(t,o,"blue-marker",n)):i(t,o,"red-marker",n="checkmark-fail")}},{key:"reset",value:function(){this.highlights.children.forEach((function(e){e.visible=!1}))}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cjs.Ease.cubicInOut;return cjs.Tween.get(this).to(this.getOnscreenPos(),e,t)}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cjs.Ease.cubicInOut;return cjs.Tween.get(this).to(this.getOffscreenPos(),e,t)}},{key:"getOffscreenPos",value:function(){return{x:this.x,y:hc.maxHeight/2+this.getBounds().height}}},{key:"getOnscreenPos",value:function(){return{x:this.x,y:hc.maxHeight/2}}},{key:"updateFreeplayCup",value:function(e){var t=this,n=this.containerContainer.children[0];cjs.Tween.get(n).to({scale:0},500,cjs.Ease.cubicInOut).call((function(r){t.containerContainer.removeChild(n),t.addItem(e.name)}))}},{key:"updateFreeplayYogurt",value:function(e){var t=this,n=this.yogurtContainer.children[0];cjs.Tween.get(n).to({scale:0},500,cjs.Ease.cubicInOut).call((function(r){t.yogurtContainer.removeChild(n);for(var o=0;o<e.length;o++)t.addItem(e[o])}))}},{key:"updateFreeplayToppings",value:function(e){var t=this,n=this.toppingContainer.children[0];cjs.Tween.get(n).to({scale:0},500,cjs.Ease.cubicInOut).call((function(r){t.toppingContainer.removeChild(n);for(var o=0;o<e.length;o++)t.addItem(e[o])}))}},{key:"changeToFreeplay",value:function(){var e=this;this.setActive(!1);var t=function(e){for(var t=null,n=function(n){var r=e.children[n];t=cjs.Tween.get(r).to({scale:0},500,cjs.Ease.cubicInOut).call((function(t){e.removeChild(r)}))},r=0;r<e.children.length;r++)n(r);return t};t(this.containerContainer),t(this.yogurtContainer),t(this.toppingContainer).call((function(t){e.setFreeplay()}))}},{key:"pulseOrder",value:function(){var e=function(e){cjs.Tween.get(e,{loop:2}).to({scale:1.1},500,cjs.Ease.cubicOut).to({scale:1},500,cjs.Ease.cubicIn)};e(this.containerContainer),e(this.yogurtContainer),e(this.toppingContainer)}},{key:"destroy",value:function(){this.setActive(!1),this.removeAllEventListeners()}}])&&jt(t.prototype,n),r&&jt(t,r),i}(),_t=n(1);function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Lt=function(){function e(t,n){var r;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=JSON.parse(JSON.stringify(t)),null!==ce.previousOrder&&ce.advancedLevel)&&(t.containers.length>1&&(r=t.containers.indexOf(ce.previousOrder.container),t.containers.splice(r,1)),t.yogurts.length>1&&(ce.previousOrder.yogurts=Object(oe.a)(ce.previousOrder.yogurts),r=t.yogurts.indexOf(ce.previousOrder.yogurts[0]),t.yogurts.splice(r,1)),t.toppings.length>1&&(ce.previousOrder.toppings=Object(oe.a)(ce.previousOrder.toppings),r=t.toppings.indexOf(ce.previousOrder.toppings[0]),t.toppings.splice(r,1)));var o=t.numberOfYogurts,i=t.numberOfToppings;t.gameComplete&&(o=Math.floor(Object(_t.d)(1,4)),i=Math.floor(Object(_t.d)(1,5)));var a=this.checkRequiresNewItem(t),c=JSON.parse(JSON.stringify(t.containers));this.container=Object(oe.a)(c),-1!==this.container.indexOf(a)&&(this.container=this.container.filter((function(e){return e!==a})),this.container.unshift(a)),this.container.length=1;var u=JSON.parse(JSON.stringify(t.yogurts));this.yogurts=Object(oe.a)(u),-1!==this.yogurts.indexOf(a)&&(this.yogurts=this.yogurts.filter((function(e){return e!==a})),this.yogurts.unshift(a)),this.yogurts.length=o;var l=JSON.parse(JSON.stringify(t.toppings));if(-1!==t.toppings.indexOf(s.CHOCOLATE)&&-1!==t.toppings.indexOf(s.FLAPJACK))if(a===s.CHOCOLATE){var f=t.toppings.indexOf(s.FLAPJACK);-1!==f&&l.splice(f,1)}else if(a===s.FLAPJACK){var h=t.toppings.indexOf(s.CHOCOLATE);-1!==h&&l.splice(h,1)}else{if(Math.random()<.5){var p=t.toppings.indexOf(s.CHOCOLATE);-1!==p&&l.splice(p,1)}else{var y=t.toppings.indexOf(s.FLAPJACK);-1!==y&&l.splice(y,1)}}this.toppings=Object(oe.a)(l),-1!==this.toppings.indexOf(a)&&(this.toppings=this.toppings.filter((function(e){return e!==a})),this.toppings.unshift(a)),this.toppings.length=i,t.freeplay?ce.previousOrder=null:(ce.previousOrder={},ce.previousOrder.container=this.container[0],ce.previousOrder.yogurts=JSON.parse(JSON.stringify(this.yogurts)),ce.previousOrder.toppings=JSON.parse(JSON.stringify(this.toppings))),void 0!==n&&(this.container=n.container,this.yogurts=n.yogurts,this.toppings=n.toppings)}var t,n,r;return t=e,(n=[{key:"checkRequiresNewItem",value:function(e){var t=e.newItem;return e.newItem&&-1===JSON.parse(localStorage.getItem("orderedItems")).indexOf(t)?t:null}},{key:"updateOrderComplete",value:function(){this.updateOrderedItems(this.container),this.updateOrderedItems(this.yogurts),this.updateOrderedItems(this.toppings)}},{key:"updateOrderedItems",value:function(e){for(var t=JSON.parse(localStorage.getItem("orderedItems")),n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);localStorage.setItem("orderedItems",JSON.stringify(t))}},{key:"getFullOrder",value:function(){return[].concat(this.container,this.yogurts,this.toppings)}}])&&It(t.prototype,n),r&&It(t,r),e}();function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ft(e);if(t){var o=Ft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dt(this,n)}}function Dt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(i,cjs.Sprite);var t,n,r,o=Gt(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t)).name=t,n.alpha=0,n.visible=!1,n}return t=i,(n=[{key:"show",value:function(){if(!this.visible)return this.visible=!0,cjs.Tween.get(this).to({alpha:1},250).call(this._idle,null,this)}},{key:"_idle",value:function(){cjs.Tween.get(this,{loop:-1}).to({alpha:0},1e3).to({alpha:1},1e3)}},{key:"hide",value:function(){if(this.visible)return cjs.Tween.removeTweens(this),cjs.Tween.get(this).to({alpha:0},250).set({visible:!1},this)}}])&&Nt(t.prototype,n),r&&Nt(t,r),i}();function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qt(e);if(t){var o=qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(i,cjs.Container);var t,n,r,o=Xt(i);function i(e){var t;switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).name="Yogurt Container "+e,t.yogurtGroup=null,t.type=e.split("-")[1],t.highlight=new Yt(yc.get("GameSS"),t.type+"-highlight"),t.highlight.set({name:"Highlight",visible:!1}),t.highlight.center(),t.shadowSprite=new cjs.Sprite(yc.get("GameSS"),t.type+"-shadow"),t.shadowSprite.name=t.type+" Shadow",t.shadowSprite.center(),t.front=new cjs.Sprite(yc.get("GameSS"),e+"-front"),t.front.name=e+" Front",t.front.center(),t.back=new cjs.Sprite(yc.get("GameSS"),e+"-back"),t.back.name=e+" Back",t.back.center(),t.back.regX=t.front.regX,t.back.regY=t.front.regY,t.type){case s.CUP:t.highlight.y=6,t.shadowSprite.set({x:-9,y:74});break;case s.WAFFLECONE:t.highlight.y=7,t.shadowSprite.set({x:7,y:92});break;case s.CONE:t.highlight.y=6,t.shadowSprite.set({x:-7,y:85});break;case s.WAFFLEBOWL:t.highlight.y=6,t.shadowSprite.set({x:-8,y:65})}return t.addChild(t.shadowSprite,t.highlight,t.back,t.front),t}return t=i,(n=[{key:"setHighlight",value:function(e){cjs.Tween.removeTweens(this.highlight),this.highlight.alpha=e?1:0,this.highlight.visible=e}},{key:"setGlow",value:function(e){e?this.highlight.show():this.highlight.hide()}},{key:"activate",value:function(){for(var e=this.y,t=this.y-5,n=cjs.Tween.get(this),r=0;r<2;r++)n.to({y:t},200,cjs.Ease.cubicInOut),n.to({y:e},200,cjs.Ease.cubicInOut);return cjs.Tween.get(this).to({scale:.95},1e3,cjs.Ease.cubicInOut)}},{key:"deactivate",value:function(){return cjs.Tween.get(this).to({scale:.85},1e3,cjs.Ease.cubicInOut)}},{key:"setShadow",value:function(e){this.visible=!0;var t=0;return e&&(t=1),cjs.Tween.get(this.shadowSprite).to({alpha:t},250)}},{key:"addBackPiece",value:function(){this.back.set({x:0,y:0}),this.addChildAt(this.back,this.getChildIndex(this.yogurtGroup))}},{key:"addYogurtGroup",value:function(e){var t=e.parent.localToLocal(e.x,e.y,this);e.set({x:t.x,y:t.y}),this.addChildAt(e,this.getChildIndex(this.front)),this.yogurtGroup=e}},{key:"reset",value:function(){this.removeChild(this.yogurtGroup),this.setShadow(!0)}}])&&Jt(t.prototype,n),r&&Jt(t,r),i}();function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=en(e);if(t){var o=en(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(i,cjs.Container);var t,n,r,o=Qt(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).name=t,n.cursor="pointer",n.glow=new Yt(e,t+"-glow"),n.sprite=new cjs.Sprite(e,t),n.addChild(n.glow,n.sprite),n}return t=i,(n=[{key:"setActive",value:function(e){e?mc.mobile||(this.on("mouseover",this.handleMouseOver,this),this.on("mouseout",this.handleMouseOut,this)):this.removeAllEventListeners()}},{key:"handleMouseOver",value:function(e){this.scale<1||!this.mouseEnabled||cjs.Tween.get(this).to({scale:1.05},250,cjs.Ease.cubicInOut)}},{key:"handleMouseOut",value:function(e){this.scale<1||!this.mouseEnabled||cjs.Tween.get(this).to({scale:1},250,cjs.Ease.cubicInOut)}},{key:"show",value:function(){return cjs.Tween.get(this).set({visible:!0},this).to({scale:1},250,cjs.Ease.backOut).set({mouseEnabled:!0},this)}},{key:"hide",value:function(){return this.setGlow(!1),this.mouseEnabled=!1,cjs.Tween.get(this).to({scale:0},250,cjs.Ease.backIn).set({visible:!1},this)}},{key:"setGlow",value:function(e){e?this.glow.show():this.glow.hide()}}])&&zt(t.prototype,n),r&&zt(t,r),i}();function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cn(e);if(t){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return an(this,n)}}function an(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var un=[new cjs.Point(7,360),new cjs.Point(303,360),new cjs.Point(-103,616),new cjs.Point(177,637)],ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(i,cjs.Container);var t,n,r,o=sn(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).name="Container Station",n.currentSelected=null,n.completeCallback=t,n.containers=new cjs.Container,n.containers.set({name:"Container Holder",x:0,y:0}),n.addChild(n.containers);for(var r=0;r<e.length;r++){var a=new Vt("container-"+e[r]);switch(a.startPos=new cjs.Point(un[r].x,un[r].y),a.set({name:e[r],x:un[r].x,scale:.85}),e[r]){case s.CUP:a.y=un[0].y;break;case s.WAFFLECONE:a.y=un[1].y;break;case s.CONE:a.y=un[2].y;break;case s.WAFFLEBOWL:a.y=un[3].y}n.containers.addChild(a)}return n.continueBtn=new tn(yc.get("SharedSS"),"ui-button-check"),n.continueBtn.set({name:"Continue Button",x:405,y:625,regX:117,regY:115,scale:0,visible:!1}),n.addChild(n.continueBtn),n}return t=i,(n=[{key:"returnContainer",value:function(){this.currentSelected.set({x:this.currentSelected.startPos.x,y:this.currentSelected.startPos.y,scale:.85}),this.currentSelected.reset(),this.containers.addChild(this.currentSelected),this.currentSelected=null}},{key:"setActive",value:function(e){var t=this;this.continueBtn.setActive(e),e?(this.containers.children.forEach((function(e){e.on("mousedown",t.handleCupClick,t)})),this.continueBtn.on("click",this.handleContinueClick,this)):(this.containers.children.forEach((function(e){e.removeAllEventListeners()})),this.continueBtn.removeAllEventListeners())}},{key:"handleCupClick",value:function(e){gc.play("grab-topping"),this.currentSelected&&this.currentSelected.setHighlight(!1),this.currentSelected=e.currentTarget,this.currentSelected.setHighlight(!0),this.continueBtn.visible||this.continueBtn.show(),this.dispatchEvent("cupClicked")}},{key:"handleContinueClick",value:function(e){gc.play("click-1"),this.continueBtn.hide(),this.setActive(!1),this.currentSelected.setHighlight(!1),this.completeCallback(this.currentSelected)}},{key:"destroy",value:function(){this.setActive(!1),this.removeAllEventListeners()}}])&&rn(t.prototype,n),r&&rn(t,r),i}();function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn(e);if(t){var o=mn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dn(this,n)}}function dn(e,t){return!t||"object"!==fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mn(e){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(i,cjs.Container);var t,n,r,o=yn(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Froyo Complete",e.container=null,e.yogurtGroup=null,e.completeOrder={container:null,yogurts:[],toppings:[]},e}return t=i,(n=[{key:"addCup",value:function(e){var t=e.parent.localToLocal(e.x,e.y,this);return e.set({x:t.x,y:t.y}),this.addChild(e),this.container=e,this.completeOrder.container=e.type,cjs.Tween.get(e).to({scale:1,x:0,y:0},1500,cjs.Ease.cubicInOut)}},{key:"addYogurtGroup",value:function(e){this.container.addYogurtGroup(e),this.container.addBackPiece(),this.yogurtGroup=e;for(var t=0;t<this.yogurtGroup.children.length;t++){var n=this.yogurtGroup.children[t];this.completeOrder.yogurts.push(n.type),n.adjustContainersToMatch()}}},{key:"checkCollisionWithSticker",value:function(e){return this.yogurtGroup.checkCollisionSticker(e)}},{key:"addSyrup",value:function(e){var t;switch(e){case s.CHOCOLATE:-1!==(t=this.completeOrder.toppings.indexOf(s.FLAPJACK))&&this.completeOrder.toppings.splice(t,1);break;case s.FLAPJACK:-1!==(t=this.completeOrder.toppings.indexOf(s.CHOCOLATE))&&this.completeOrder.toppings.splice(t,1)}if(-1===this.completeOrder.toppings.indexOf(e)&&this.completeOrder.toppings.push(e),this.yogurtGroup)return this.yogurtGroup.addSyrup(e)}},{key:"getOpenSprinkleSpots",value:function(e){return this.yogurtGroup.getOpenSprinkleSpots(e)}},{key:"addSprinkle",value:function(e){-1===this.completeOrder.toppings.indexOf(e)&&this.completeOrder.toppings.push(e)}},{key:"clearToppings",value:function(){this.completeOrder.toppings.length=0,this.yogurtGroup.clearToppings()}},{key:"stickerAdded",value:function(e){-1===this.completeOrder.toppings.indexOf(e)&&this.completeOrder.toppings.push(e)}},{key:"stickerRemoved",value:function(e){var t=this.completeOrder.toppings.indexOf(e);-1!==t&&this.completeOrder.toppings.splice(t,1)}},{key:"reset",value:function(){this.removeAllChildren(),this.container=null,this.yogurtGroup=null,this.completeOrder.container=null,this.completeOrder.yogurts.length=0,this.completeOrder.toppings.length=0}},{key:"removeStickerFromFroyo",value:function(e){this.yogurtGroup.removeStickerFromYogurt(e)}},{key:"checkIfFroyoHasStickers",value:function(e){return this.yogurtGroup.checkIfFroyoHasStickers(e)}}])&&hn(t.prototype,n),r&&hn(t,r),i}();function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jn(e);if(t){var o=jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return On(this,n)}}function On(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(i,createjs.Container);var t,n,r,o=Sn(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return vn(this,i),(e=o.call(this)).paddingX=t,e.paddingY=n,e}return t=i,(n=[{key:"sortVertical",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.paddingY,t=this.children[0].getBounds(),n=this.children[0].scale,r=1,o=this.children.length;r<o;r++)this.children[r].y=t.height*r*n+e*r}},{key:"sortHorizontal",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.paddingX,t=this.children[0].getBounds(),n=this.children[0].scale,r=1,o=this.children.length;r<o;r++)this.children[r].x=t.width*r*n+e*r}},{key:"sortIntoRowsAndColumns",value:function(e,t){for(var n=this.children[0].getBounds(),r=0,o=0,i=1,s=this.children.length;i<s;i++){var a=this.children[i],c=a.getBounds();i%e==0?(r=0,o+=n.height+t):a.x=r+n.width/2+t+c.width/2,a.y=o,r=a.x,n=c}}}])&&kn(t.prototype,n),r&&kn(t,r),i}();function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t,n){return(xn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=In(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=In(e);if(t){var o=In(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _n(this,n)}}function _n(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(i,cjs.Shape);var t,n,r,o=An(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return Tn(this,i),(e=o.call(this)).width=t,e.maxHeight=n,e.percentage=1,e.drawShape(),e.alpha=0,e}return t=i,(n=[{key:"drawShape",value:function(){if(this.graphics.clear(),this.graphics.beginFill("#ff0000"),this.visible){var e=this.percentage*this.maxHeight;this.graphics.drawRect(0,0,this.width,e),this.graphics.drawCircle(this.width/2,0,this.width/2),this.graphics.drawCircle(this.width/2,e,this.width/2)}else this.graphics.drawCircle(0,0,1)}},{key:"_tick",value:function(e){xn(In(i.prototype),"_tick",this).call(this,e),this.drawShape()}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cjs.Ease.cubicInOut;return this.scaleY=1,this.visible=!0,cjs.Tween.get(this).to({percentage:1},e,t)}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cjs.Ease.cubicInOut;return this.scaleY=-1,cjs.Tween.get(this).to({percentage:0},e,t).set({visible:!1},this)}}])&&En(t.prototype,n),r&&En(t,r),i}();function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t,n){return(Gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hn(e);if(t){var o=Hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yn(this,n)}}function Yn(e,t){return!t||"object"!==Bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(i,cjs.Container);var t,n,r,o=Fn(i);function i(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;Nn(this,i),(e=o.call(this)).name="Yogurt Stream",e.speed=n,e.maskHeight=350,e.offset=0,e.flowBounds=0,e.streams=[];for(var r=0;r<3;r++){var s=new cjs.Sprite(yc.get("GameSS"),"vanilla-stream");s.name="Stream "+r,s.regs(.5,0),t||(t=s.getBounds()),s.y-=t.height*r,e.streams.push(s),e.addChild(s)}return e.flowBounds=t,e.mask=new Ln(t.width+20,e.maskHeight),e.mask.set({x:-(t.width+20)/2,y:-e.maskHeight/2+e.offset}),e.mask.percentage=0,e.mask.visible=!1,e.addChild(e.mask),e}return t=i,(n=[{key:"setStreamFlavor",value:function(e){this.streams.forEach((function(t){t.gotoAndStop(e+"-stream")}))}},{key:"play",value:function(){return this.mask.y=-this.maskHeight/2+this.offset,this.mask.show(1e3,cjs.Ease.linear)}},{key:"stop",value:function(){return this.mask.y=this.maskHeight/2+this.offset,this.mask.hide(1e3,cjs.Ease.linear)}},{key:"_tick",value:function(e){Gn(Hn(i.prototype),"_tick",this).call(this,e);for(var t=e.delta/1e3,n=0;n<this.streams.length;n++)this.streams[n].y+=this.speed*t,this.streams[n].y>=this.maskHeight/2&&(this.streams[n].y-=this.flowBounds.height*this.streams.length)}}])&&Mn(t.prototype,n),r&&Mn(t,r),i}(),Un=n(42),Xn=n.n(Un);function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff",n=new cjs.Shape;return n.name="Test Circle",n.graphics.beginFill(t),n.graphics.drawCircle(0,0,e),n.setBounds(-e/2,-e/2,e,e),n}function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t,n){return t&&Kn(e.prototype,t),n&&Kn(e,n),e}function Zn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tr(e);if(t){var o=tr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return er(this,n)}}function er(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nr=[[66,-28],[-69,-28],[-100,-87],[-55.5,-169],[31.5,-216],[60.5,-182],[111,-79]],rr=function(e){Zn(n,cjs.Container);var t=$n(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).name="Yogurt "+e,r.type=e,r.syrups=[],r.stickers=[],r.peppermintSpots=[],r.sprinkleSpots=[],r.jellybeanSpots=[],r.cerealSpots=[],r.chipSpots=[],r.yogurtContainer=new cjs.Container,r.yogurtContainer.set({name:"Syrup Container",scale:0}),r.syrupContainer=new cjs.Container,r.syrupContainer.set({name:"Syrup Container"}),r.sprinkleContainer=new cjs.Container,r.sprinkleContainer.set({name:"Syrup Container"}),r.stickerContainer=new cjs.Container,r.stickerContainer.set({name:"Syrup Container"}),r.yogurt=new cjs.Sprite(yc.get("GameSS"),"yogurt-"+e),r.yogurt.regs(.5,1),r.yogurt.name="Yogurt Sprite",r.yogurtContainer.addChild(r.yogurt),r.addChild(r.yogurtContainer,r.syrupContainer,r.sprinkleContainer,r.stickerContainer),r.createToppingPoints(),r}return zn(n,[{key:"createToppingPoints",value:function(){var e=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#000000"],t=this.yogurt.getBounds(),n=0,r=20,o=20,i=30,a=[],c=[];this.toppingsSection=this.getNumberOfSprinkleIngredients();var u=this.toppingsSection.length;switch(u){case 1:i=14,r=35;break;case 2:i=16,r=45,o=30;break;case 3:i=18,r=50,o=30;break;case 4:i=20,r=60,o=25;break;case 5:i=25,r=50,o=20}for(var l=i/u,f=0;f<i;f++){var h=void 0,p=0,y="";f>=0&&f<l?y=this.toppingsSection[0]:f>=l&&f<2*l?y=this.toppingsSection[1]:f>=2*l&&f<3*l?y=this.toppingsSection[2]:f>=3*l&&f<4*l&&(y=this.toppingsSection[3]),f>=4*l&&f<=5*l&&(y=this.toppingsSection[4]);do{if(h=new or(Object(_t.d)(-t.width/2,t.width/2),Object(_t.d)(-t.height,0),y),++p>100){do{h=new or(Object(_t.d)(-t.width/2,t.width/2),Object(_t.d)(-t.height,0),y)}while(1===Xn()(nr,[h.x,h.y]));break}}while(1===Xn()(nr,[h.x,h.y])||this.isColliding(h,c,a,r,o));this.sprinkleContainer.addChild(h),a.push(h),c.push(h),c.length===l&&(c.length=0,e[++n])}for(var d=0;d<a.length;d++){var m=a[d];m.taken=!1,m.type===s.PEPPERMINTS?this.peppermintSpots.push(m):m.type===s.SPRINKLES?this.sprinkleSpots.push(m):m.type===s.JELLYBEANS?this.jellybeanSpots.push(m):m.type===s.CEREAL&&this.cerealSpots.push(m),m.type===s.CHIPS&&this.chipSpots.push(m)}}},{key:"getNumberOfSprinkleIngredients",value:function(){for(var e=[],t=0;t<ce.currentLevel.toppings.length;t++){var n=ce.currentLevel.toppings[t];switch(n){case s.SPRINKLES:case s.PEPPERMINTS:case s.CHIPS:e.push(n)}}return e}},{key:"isColliding",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,i=!1,s=0;s<t.length;s++){var a=t[s];if(Object(_t.a)(e,a)<=r){i=!0;break}}if(!i)for(var c=0;c<n.length;c++){var u=n[c];if(Object(_t.a)(e,u)<=o){i=!0;break}}return i}},{key:"checkCollisionWithObject",value:function(e){var t=e.parent.localToLocal(e.x,e.y,this.yogurtContainer);return-1===Xn()(nr,[t.x,t.y])}},{key:"adjustContainersToMatch",value:function(){this.sprinkleContainer.scaleX=this.yogurtContainer.scaleX,this.sprinkleContainer.scaleY=this.yogurtContainer.scaleY,this.sprinkleContainer.rotation=this.yogurtContainer.rotation,this.syrupContainer.scaleX=this.yogurtContainer.scaleX,this.syrupContainer.scaleY=this.yogurtContainer.scaleY,this.syrupContainer.rotation=this.yogurtContainer.rotation}},{key:"addSticker",value:function(e){var t=e.parent.localToLocal(e.x,e.y,this.stickerContainer);(e.set({x:t.x,y:t.y}),this.stickerContainer.addChild(e),-1===this.stickers.indexOf(e)&&this.stickers.push(e),e.type===s.JELLYBEANS||e.type===s.PEACHES)||(this.localToLocal(e.x,e.y,this.parent).x>=0?(e.scaleX=-1,e.rotation>0&&(e.rotation*=-1)):(e.scaleX=1,e.rotation<0&&(e.rotation*=-1)));var n=e.scaleX<0?-1:1;cjs.Tween.get(e).to({scaleX:n,scaleY:1},500,cjs.Ease.backOut)}},{key:"removeSticker",value:function(e){var t=this.stickers.indexOf(e);-1!==t&&this.stickers.splice(t,1)}},{key:"hasSticker",value:function(e){for(var t=!1,n=0;n<this.stickers.length;n++){if(this.stickers[n].currentAnimation.split("-")[1]===e){t=!0;break}}return t}},{key:"addSyrup",value:function(e){for(var t=0;t<this.syrups.length;t++){var n=this.syrups[t];cjs.Tween.get(n).wait(1450).to({alpha:0},250).call(n.parent.removeChild,[n],n.parent)}this.syrups.length=0;for(var r=0;r<3;r++){var o="syrup-"+e+"-"+(r+1),i=new cjs.Sprite(yc.get("GameSS"),o);i.regX=this.yogurt.regX,i.regY=this.yogurt.regY,i.alpha=0,this.syrupContainer.addChild(i),this.syrups.push(i)}var s=this.syrups[0],a=this.syrups[1],c=this.syrups[2];return cjs.Tween.get(s).to({alpha:1},250).wait(600).to({alpha:0},250),cjs.Tween.get(a).wait(600).to({alpha:1},250).wait(600).to({alpha:0},250),cjs.Tween.get(c).wait(1200).to({alpha:1},250)}},{key:"addSprinkle",value:function(e,t,n){return t.children.forEach((function(e){cjs.Tween.get(e).wait(800+100*n).to({alpha:0},250).call((function(n){t.removeChild(e)}))})),t.taken=!0,cjs.Tween.get(e).wait(100*n).call(this._addSprinkle,[e,t],this)}},{key:"_addSprinkle",value:function(e,t){var n=e.parent.localToLocal(e.x,e.y,t);e.set({x:n.x,y:n.y}),t.addChild(e),t.set({scaleX:1/t.parent.scaleX,scaleY:1/t.parent.scaleY}),t.parent.addChild(t),e.visible=!0,t.x>0&&(e.scaleX*=-1);var r=e.rotation-Object(_t.d)(180,270);cjs.Tween.get(e).to({x:0,y:0,rotation:r},1e3,cjs.Ease.sineOut)}},{key:"getSprinkleSpots",value:function(e){switch(e){case s.PEPPERMINTS:return this.peppermintSpots;case s.SPRINKLES:return this.sprinkleSpots;case s.JELLYBEANS:return this.jellybeanSpots;case s.CEREAL:return this.cerealSpots;case s.CHIPS:return this.chipSpots;default:console.log("Incorrect spot name")}}},{key:"clearAll",value:function(){this.clearSyrup(),this.clearToppings()}},{key:"clearSyrup",value:function(){for(var e=0;e<this.syrups.length;e++){var t=this.syrups[e];t.parent.removeChild(t)}this.syrups.length=0}},{key:"clearToppings",value:function(){this.stickers.forEach((function(e){e.parent.removeChild(e),e.removeAllEventListeners()})),this.stickers.length=0,this.peppermintSpots.forEach((function(e){e.clear()})),this.sprinkleSpots.forEach((function(e){e.clear()})),this.jellybeanSpots.forEach((function(e){e.clear()})),this.cerealSpots.forEach((function(e){e.clear()})),this.chipSpots.forEach((function(e){e.clear()}))}}]),n}(),or=function(e){Zn(n,cjs.Container);var t=$n(n);function n(e,r,o){var i;return Vn(this,n),(i=t.call(this)).name="Topping Spot",i.type=o,i.taken=!1,i.set({x:e,y:r}),i}return zn(n,[{key:"clear",value:function(){this.taken=!1,this.removeAllChildren()}}]),n}(),ir=rr;function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t){return(cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fr(e);if(t){var o=fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lr(this,n)}}function lr(e,t){return!t||"object"!==sr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cr(e,t)}(i,cjs.Container);var t,n,r,o=ur(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Yogurt Group",e}return t=i,(n=[{key:"addYogurt",value:function(e){var t=new ir(e);return this.addChildAt(t,0),this.animateFroyos()}},{key:"addSyrup",value:function(e){for(var t,n=0;n<this.children.length;n++)t=this.children[n].addSyrup(e);return t}},{key:"animateFroyos",value:function(){var e,t,n,r=s.FROYO_STREAM_TIME+2400;switch(this.children.length){case 1:return(e=this.children[0]).set({x:-5,y:-18}),cjs.Tween.get(e.yogurtContainer).to({scale:1},r,cjs.Ease.cubicInOut);case 2:return e=this.children[1],(t=this.children[0]).set({x:20,y:-23}),t.yogurtContainer.rotation=8,cjs.Tween.get(e).to({x:-31,y:-18},r,cjs.Ease.cubicInOut),cjs.Tween.get(e.yogurtContainer).to({rotation:-3,scaleX:.78,scaleY:1},r,cjs.Ease.cubicInOut),cjs.Tween.get(t.yogurtContainer).to({scaleX:.75,scaleY:1},r,cjs.Ease.cubicInOut);case 3:return e=this.children[2],t=this.children[1],(n=this.children[0]).set({x:-31,y:-57}),n.yogurtContainer.rotation=-29,cjs.Tween.get(e).to({x:-4,y:-10},r,cjs.Ease.cubicInOut),cjs.Tween.get(e.yogurtContainer).to({rotation:0,scaleX:.7,scaleY:1},r,cjs.Ease.cubicInOut),cjs.Tween.get(t).to({x:17,y:-43},r,cjs.Ease.cubicInOut),cjs.Tween.get(t.yogurtContainer).to({rotation:21,scaleX:.75,scaleY:.85},r,cjs.Ease.cubicInOut),cjs.Tween.get(n.yogurtContainer).to({scaleX:.75,scaleY:.8},r,cjs.Ease.cubicInOut)}}},{key:"checkCollisionSticker",value:function(e){for(var t=this.children.length-1;t>=0;t--){var n=this.children[t];if(n.checkCollisionWithObject(e))return n}return!1}},{key:"getOpenSprinkleSpots",value:function(e){for(var t=[],n=this.children.length-1;n>=0;n--){var r=this.children[n].getSprinkleSpots(e);t=t.concat(r)}return t}},{key:"reset",value:function(){this.removeAllChildren()}},{key:"clearToppings",value:function(){for(var e=0;e<this.children.length;e++)this.children[e].clearAll()}},{key:"removeStickerFromYogurt",value:function(e){for(var t=0;t<this.children.length;t++)this.children[t].removeSticker(e)}},{key:"checkIfFroyoHasStickers",value:function(e){for(var t=!1,n=0;n<this.children.length;n++)if(this.children[n].hasSticker(e)){t=!0;break}return t}}])&&ar(t.prototype,n),r&&ar(t,r),i}();function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=br(e);if(t){var o=br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gr(this,n)}}function gr(e,t){return!t||"object"!==pr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(i,cjs.Container);var t,n,r,o=mr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).name="Machine Button",t.type=e,t.glow=new Yt(yc.get("GameSS"),"machine-button-glow"),t.button=new cjs.Sprite(yc.get("GameSS"),"machine-button"),t.button.name="Machine Button",t.glow.regX=t.button.regX=86,t.glow.regY=t.button.regY=82,t.icon=new cjs.Sprite(yc.get("GameSS"),"yogurt-"+e),t.icon.name="Machine Button Icon "+e,t.icon.center(),t.icon.scale=60/t.icon.getBounds().height,t.addChild(t.glow,t.button,t.icon),t}return t=i,(n=[{key:"setPressed",value:function(){this.setGlow(!1),this.button.gotoAndStop("machine-button-pressed")}},{key:"setNormal",value:function(){this.setGlow(!1),this.button.gotoAndStop("machine-button")}},{key:"setGlow",value:function(e){e?this.glow.show():this.glow.hide()}}])&&yr(t.prototype,n),r&&yr(t,r),i}();function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cr(e);if(t){var o=Cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}function jr(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(i,cjs.Container);var t,n,r,o=Or(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).name="Froyo Station",n.completeCallback=t,n.yogurtStreamCon=new cjs.Container,n.yogurtStreamCon.set({name:"Stream Container",x:30,y:-120}),n.yogurtStream=new Jn,n.yogurtStreamCon.addChild(n.yogurtStream),n.yogurtGroup=new hr,n.froyoMachineCap=new cjs.Sprite(yc.get("GameSS"),"froyo-machine-nozzle"),n.froyoMachineCap.set({name:"Machine Nozzle",x:30,y:-172}),n.froyoMachineCap.regs(.5,1),n.buttonContainer=new Cn,n.buttonContainer.set({name:"Button Container",y:-313});for(var r=0;r<e.length;r++){var s=new vr(e[r]);n.buttonContainer.addChild(s)}return n.buttonContainer.sortHorizontal(-5),n.buttonContainer.x-=n.buttonContainer.getBounds().width/2-n.buttonContainer.children[0].getBounds().width/2-30,n.undoBtn=new tn(yc.get("SharedSS"),"ui-button-undo"),n.undoBtn.center(),n.undoBtn.set({name:"Undo Button",x:-158,y:274,regX:90,regY:89,scale:0,visible:!1}),n.continueBtn=new tn(yc.get("SharedSS"),"ui-button-check"),n.continueBtn.center(),n.continueBtn.set({name:"Continue Button",x:416,y:238,regX:117,regY:115,scale:0,visible:!1}),n.addChild(n.yogurtStreamCon,n.yogurtGroup,n.froyoMachineCap,n.buttonContainer,n.undoBtn,n.continueBtn),n}return t=i,(n=[{key:"returnYogurtGroup",value:function(){this.yogurtGroup.reset(),this.addChildAt(this.yogurtGroup,this.getChildIndex(this.froyoMachineCap))}},{key:"setYogurtGroupPositionForCup",value:function(e){switch(e){case s.CUP:this.yogurtGroup.set({x:34,y:95});break;case s.WAFFLECONE:this.yogurtGroup.set({x:34,y:80});break;case s.CONE:this.yogurtGroup.set({x:36,y:84});break;case s.WAFFLEBOWL:this.yogurtGroup.set({x:36,y:100})}}},{key:"setActive",value:function(e){var t=this;this.undoBtn.setActive(e),this.continueBtn.setActive(e),e?(this.buttonContainer.children.forEach((function(e){e.on("click",t.handleButtonClicked,t)})),this.undoBtn.on("click",this.handleUndoClick,this),this.continueBtn.on("click",this.handleContinueClick,this)):(this.buttonContainer.children.forEach((function(e){e.removeAllEventListeners()})),this.undoBtn.removeAllEventListeners(),this.continueBtn.removeAllEventListeners())}},{key:"handleButtonClicked",value:function(e){var t=this;if(!(this.yogurtGroup.children.length>=3)){gc.play("click-1"),this.mouseEnabled=!1,this.mouseChildren=!1,e.currentTarget.setPressed();var n=e.currentTarget.type;this.yogurtGroup.addYogurt(n),this.yogurtStream.setStreamFlavor(n),gc.play("froyo-pour"),this.dispatchEvent("yogurtPourStart");var r=function(e){ce.playerMadeMistake||pc.current.level.freeplay||-1===pc.current.order.getFullOrder().indexOf(n)&&(ce.playerMadeMistake=!0,pc.current.animateGlowAt(t.undoBtn,"instruction-11"))},o=this.yogurtStream.play();o.wait(s.FROYO_STREAM_TIME),o.call((function(n){t.yogurtStream.stop().call((function(n){t.undoBtn.visible&&t.continueBtn.visible?r():(t.undoBtn.show().call(r),t.continueBtn.show()),t.mouseEnabled=!0,t.mouseChildren=!0,e.currentTarget.setNormal(),t.dispatchEvent("yogurtPourComplete")}))}))}}},{key:"handleUndoClick",value:function(e){this.undoBtn.hide(),this.continueBtn.hide(),this.yogurtGroup.reset()}},{key:"handleContinueClick",value:function(e){gc.play("click-1"),this.undoBtn.hide(),this.continueBtn.hide(),this.completeCallback(this.yogurtGroup),this.setActive(!1)}},{key:"addFroyoToMachine",value:function(e){var t=e.parent.localToLocal(e.x,e.y,this);e.set({x:t.x,y:t.y}),this.addChildAt(e,this.getChildIndex(this.froyoMachineBack)+1)}},{key:"destroy",value:function(){this.setActive(!1),this.removeAllEventListeners()}}])&&wr(t.prototype,n),r&&wr(t,r),i}();function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){return(Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ar(e);if(t){var o=Ar(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rr(this,n)}}function Rr(e,t){return!t||"object"!==Tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}(n,cjs.Sprite);var t=xr(n);function n(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e,r)).name="Sticker "+r,o.center(),o}return n}();function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gr(e);if(t){var o=Gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mr(this,n)}}function Mr(e,t){return!t||"object"!==Ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(i,cjs.Container);var t,n,r,o=Nr(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).shelfParent=null,e.startPos=new cjs.Point,e.shelfOffset=new cjs.Point,e.shelfScale=1,e.point=new cjs.Point,e.highlight=new cjs.DisplayObject,e}return t=i,(n=[{key:"setStartState",value:function(){this.shelfParent=this.parent,this.startPos=new cjs.Point(this.x,this.y),this.startPos.y+=-this.getBounds().height/2*this.shelfScale,this.scale=this.shelfScale,this.x=this.startPos.x,this.y=this.startPos.y}},{key:"setHighlight",value:function(e){this.highlight.visible=e}}])&&Lr(t.prototype,n),r&&Lr(t,r),i}();function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xr(e);if(t){var o=Xr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ur(this,n)}}function Ur(e,t){return!t||"object"!==Fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(i,e);var t,n,r,o=Jr(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Topping Generator",e}return t=i,(n=[{key:"setActive",value:function(e){e?this.on("mousedown",this.handleMouseDown,this):this.removeAllEventListeners()}},{key:"handleMouseDown",value:function(e){var t=new cjs.Event("toppingCreated");this.dispatchEvent(t)}}])&&Yr(t.prototype,n),r&&Yr(t,r),i}(Dr);function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qr(e);if(t){var o=Qr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zr(this,n)}}function Zr(e,t){return!t||"object"!==qr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qr(e){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(i,e);var t,n,r,o=zr(i);function i(e,t,n){var r;switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this)).name="Bowl "+t,r.stickername=null,r.createdSticker=null,Array.isArray(n)?r.stickername=new ae(n,!0):r.stickername=n,r.highlight=new cjs.Sprite(yc.get("GameSS"),t+"-highlight"),r.highlight.name="Bowl Highlight Sticker",r.highlight.center(),r.highlight.visible=!1,r.shadowSprite=new cjs.Sprite(yc.get("GameSS"),"sticker-shadow"),r.shadowSprite.name="Shadow Sticker",r.shadowSprite.center(),t.split("-")[1]){case s.BANANA:case s.PEACHES:case s.PICKLES:r.shadowSprite.set({x:-5,y:58});break;case s.CEREAL:case s.JELLYBEANS:r.shadowSprite.set({x:-6,y:46});break;case s.STRAWBERRIES:r.shadowSprite.set({x:-8,y:65})}var a=new cjs.Sprite(e,t);return a.name="Bowl: "+t,a.center(),r.addChild(r.shadowSprite,r.highlight,a),r.hitbox(20,25),r}return t=i,(n=[{key:"setHighlight",value:function(e){this.highlight.visible=e}},{key:"handleMouseDown",value:function(e){if(!pc.current.toppingStation.dragManager.selected){var t,n=(t=this.stickername instanceof ae?this.stickername.getNext():this.stickername).split("-")[1],r=new _r(this.children[0].spriteSheet,t);r.type=n,r.rotation+=n===s.JELLYBEANS||n===s.PEACHES?Object(_t.d)(-360,360):Object(_t.d)(-15,15),r.hitbox();var o=this.globalToLocal(e.stageX,e.stageY);r.set({x:o.x,y:o.y,scale:s.STICKER_GRABBED_SCALE}),this.addChild(r),this.createdSticker=r;var i=new cjs.Event("toppingCreated");i.sticker=r,this.dispatchEvent(i)}}}])&&Vr(t.prototype,n),r&&Vr(t,r),i}(Wr);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=so(e);if(t){var o=so(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return io(this,n)}}function io(e,t){return!t||"object"!==eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}(i,createjs.EventDispatcher);var t,n,r,o=oo(i);function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};return to(this,i),(t=o.call(this)).stage=e,t.startCallback=n,t.endCallback=r,t.clickStartCallback=s,t.clickEndCallback=a,t.pixelDistance=20,t.startPos=new cjs.Point,t.endPos=new cjs.Point,t.point=new cjs.Point,t.isClickStick=!1,t.selected=null,t.dragBeenCalled=!1,t}return t=i,(n=[{key:"setActive",value:function(e){e?(this.stageMouseMoveBound=this.stage.on("stagemousemove",this.handleStageMouseMove,this),this.stageMouseUpBound=this.stage.on("stagemouseup",this.handleStageMouseUp,this)):(this.stage.off("stagemousemove",this.stageMouseMoveBound),this.stage.off("stagemouseup",this.stageMouseUpBound),this.stage.removeAllEventListeners())}},{key:"addEventsToObject",value:function(e){e.mouseDownBound||(e.mouseDownBound=e.on("mousedown",this.handleMouseDown,this))}},{key:"removeEventsFromObject",value:function(e){e.mouseDownBound&&(e.off("mousedown",e.mouseDownBound),e.mouseDownBound=null)}},{key:"clearSelected",value:function(){this.selected&&(this.isClickStick?this.clickEndCallback():this.endCallback()),this.selected=null}},{key:"setSelected",value:function(e){this.selected=e,this.dragBeenCalled=!0;var t=e.parent.localToGlobal(e.x,e.y);this.startPos.setValues(t.x,t.y)}},{key:"startDrag",value:function(e){this.clearSelected(),this.setSelected(e),this.selected.parent.globalToLocal(this.stage.mouseX,this.stage.mouseY,this.point),this.selected.set({x:this.point.x,y:this.point.y}),this.startPos.setValues(this.stage.mouseX,this.stage.mouseY)}},{key:"stopDrag",value:function(){this.endCallback(),this.isClickStick=!1,this.selected=null,this.dragBeenCalled=!1}},{key:"handleMouseDown",value:function(e){this.isClickStick||(this.clearSelected(),this.selected=e.currentTarget,this.dragBeenCalled=!0,this.selected.parent.globalToLocal(e.stageX,e.stageY,this.point),this.selected.set({x:this.point.x,y:this.point.y}),this.startPos.setValues(e.stageX,e.stageY))}},{key:"handleStageMouseMove",value:function(e){this.selected&&(this.selected.parent.globalToLocal(e.stageX,e.stageY,this.point),this.selected.set({x:this.point.x,y:this.point.y}),this.point.setValues(e.stageX,e.stageY),this.distanceTo(this.startPos,this.point)>=this.pixelDistance&&this.dragBeenCalled&&!this.isClickStick&&(this.dragBeenCalled=!1,this.startCallback(e)))}},{key:"handleStageMouseUp",value:function(e){this.selected&&(this.endPos.setValues(e.stageX,e.stageY),!this.isClickStick&&this.distanceTo(this.startPos,this.endPos)<this.pixelDistance&&this.dragBeenCalled?(this.dragBeenCalled=!1,this.isClickStick=!0,this.clickStartCallback()):(this.selected.parent.globalToLocal(e.stageX,e.stageY,this.point),this.selected.set({x:this.point.x,y:this.point.y}),this.isClickStick?this.clickEndCallback():this.endCallback(e),this.isClickStick=!1,this.selected=null))}},{key:"distanceTo",value:function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}},{key:"setPixelDistance",value:function(e){this.pixelDistance=e}},{key:"clear",value:function(){this.setActive(!1)}}])&&no(t.prototype,n),r&&no(t,r),i}();function co(e){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lo(e,t,n){return(lo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yo(e);if(t){var o=yo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return po(this,n)}}function po(e,t){return!t||"object"!==co(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(i,e);var t,n,r,o=ho(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Grabbable",e.timer=0,e.delay=.2,e.heldAngle=0,e.isInZone=!1,e.rectangle=new cjs.Rectangle,e.grabbed=!1,e.clickStick=!1,e.activated=!1,e.requested=!1,e.movingToHeldPosition=!1,e.returning=!1,e.shadowSprite=new cjs.Sprite(yc.get("GameSS"),"shaker-shadow"),e}return t=i,(n=[{key:"setShadow",value:function(e){var t=e?1:0;return cjs.Tween.get(this.shadowSprite).to({alpha:t},250)}},{key:"handleGrabbed",value:function(){gc.play("grab-topping"),this.setShadow(!1),this.holdPosition().set({grabbed:!0},this)}},{key:"handleClickStick",value:function(){gc.play("grab-topping"),this.setShadow(!1),this.holdPosition().set({clickStick:!0},this)}},{key:"handleRelease",value:function(){if(gc.play("place-topping"),this.grabbed=!1,this.requested=!1,!this.activated)return this.returnToStart()}},{key:"handleClickStickRelease",value:function(){if(gc.play("place-topping"),this.clickStick=!1,this.requested=!1,!this.activated)return this.returnToStart()}},{key:"activate",value:function(){this.activated=!0}},{key:"holdPosition",value:function(){this.movingToHeldPosition=!0;var e=this.animateToHoldPos();return e.set({movingToHeldPosition:!1},this),e}},{key:"animateToHoldPos",value:function(){if(!this.returning)return cjs.Tween.get(this,{override:!0}).to({rotation:this.heldAngle,scaleX:1,scaleY:1},500,cjs.Ease.cubicInOut)}},{key:"returnToStart",value:function(){var e=this;this.returning=!0,this.mouseEnabled=!1;var t=this.shelfParent.localToLocal(this.startPos.x,this.startPos.y,this.parent);return cjs.Tween.get(this,{override:!0}).to({x:t.x,y:t.y,rotation:0,scaleX:this.shelfScale,scaleY:this.shelfScale},500,cjs.Ease.cubicInOut).call((function(t){e.grabbed=!1,e.clickStick=!1,e.activated=!1,e.requested=!1,e.mouseEnabled=!0,e.setShadow(!0);var n=e.parent.localToLocal(e.x,e.y,e.shelfParent);e.set({x:n.x,y:n.y}),e.shelfParent.addChild(e),e.returning=!1}))}},{key:"requestActivate",value:function(){this.requested||(this.requested=!0,this.timer=this.delay,this.dispatchEvent("request"))}},{key:"requestCompleted",value:function(){this.activated=!1,this.mouseEnabled=!0,this.dispatchEvent("complete")}},{key:"acceptRequest",value:function(){}},{key:"rejectRequest",value:function(){this.holdPosition()}},{key:"inZone",value:function(){this.isInZone=!0}},{key:"outZone",value:function(){this.isInZone=!1,this.requested=!1}},{key:"debugShow",value:function(){this.shape1||(this.shape1=new cjs.Shape),this.shape1.graphics.clear(),this.shape1.graphics.beginFill("#ff0000"),this.shape1.graphics.drawRect(this.rectangle.x,this.rectangle.y-500,this.rectangle.width+Math.abs(this.rectangle.x),this.rectangle.height+Math.abs(this.rectangle.y)),this.shape1.alpha=.25,this.parent.addChild(this.shape1)}},{key:"_tick",value:function(e){if(lo(yo(i.prototype),"_tick",this).call(this,e),this.parent.localToGlobal(this.x,this.y,this.point),this.point.x-=hc.width/2,this.point.y-=hc.height/2,this.requested&&!this.withinBounds(this.point.x,this.point.y))this.outZone(),this.animateToHoldPos();else{if(this.activated)return;if(this.grabbed||this.clickStick){var t=e.delta/1e3;this.withinBounds(this.point.x,this.point.y)?(this.inZone(),this.timer-=t,this.timer<=0&&this.requestActivate()):(this.outZone(),this.timer=this.delay)}}}},{key:"withinBounds",value:function(e,t){return e>=this.rectangle.x&&e<=this.rectangle.width&&t>=this.rectangle.y&&t<=this.rectangle.height}},{key:"checkAndActivate",value:function(){if(this.movingToHeldPosition)return this.parent.localToGlobal(this.x,this.y,this.point),this.point.x-=hc.width/2,this.point.y-=hc.height/2,this.withinBounds(this.point.x,this.point.y)}}])&&uo(t.prototype,n),r&&uo(t,r),i}(Dr);function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vo(e,t){return(vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=So(e);if(t){var o=So(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wo(this,n)}}function wo(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function So(e){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vo(e,t)}(i,e);var t,n,r,o=ko(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).name="Syrup "+e,t.flavor=e,t.shelfScale=.75,t.requiresBottomShelf=!0,t.heldAngle=-165,t.rectangle=new cjs.Rectangle(-50,-384,300,100),t.shadowSprite=new cjs.Sprite(yc.get("GameSS"),"syrup-shadow"),t.shadowSprite.name="Shadow Syrup",t.shadowSprite.center(),t.shadowSprite.set({x:0,y:154}),t.sprite=new cjs.Sprite(yc.get("GameSS"),"shelf-"+e),t.sprite.name="Syrup "+e,t.sprite.center(),t.stream=new cjs.Sprite(yc.get("GameSS"),"syrup-"+e+"-stream"),t.stream.name="Sryup Stream "+e,t.stream.regs(.5,1),t.stream.set({x:6,y:-153,scaleY:0}),t.highlight=new cjs.Sprite(yc.get("GameSS"),"shelf-"+e+"-highlight"),t.highlight.center(),t.highlight.visible=!1,t.addChild(t.shadowSprite,t.stream,t.sprite),t}return t=i,(n=[{key:"requestActivate",value:function(){if(!this.requested){this.requested=!0;var e=new cjs.Event("request");e.flavor=this.flavor,this.dispatchEvent(e)}}},{key:"acceptRequest",value:function(){this.activate(),this.mouseEnabled=!1,cjs.Tween.get(this,{override:!0}).to({rotation:-180},500,cjs.Ease.cubicInOut).to({scaleX:.9,scaleY:1.1},500,cjs.Ease.cubicInOut),cjs.Tween.get(this.stream).wait(500).call((function(e){gc.play("syrup-pour")})).to({scaleY:1.6},250,cjs.Ease.cubicInOut).wait(1200).to({scaleY:0},250,cjs.Ease.cubicInOut)}},{key:"animateToHoldPos",value:function(){return cjs.Tween.removeTweens(this),cjs.Tween.removeTweens(this.stream),cjs.Tween.get(this.stream,{override:!0}).to({scaleY:0},250,cjs.Ease.cubicInOut),cjs.Tween.get(this,{override:!0}).to({rotation:this.heldAngle,scaleX:1,scaleY:1},500,cjs.Ease.cubicInOut)}}])&&bo(t.prototype,n),r&&bo(t,r),i}(mo);function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e,t,n){return(Po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ro(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ro(e);if(t){var o=Ro(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xo(this,n)}}function xo(e,t){return!t||"object"!==jo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(i,e);var t,n,r,o=Eo(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).type="",e.shakePosition=Wn(1).set({x:0,y:-77,alpha:.1}),e.heldAngle=-135,e.shelfScale=1,e.rectangle=new cjs.Rectangle(0,-300,400,100),e.glow=new Yt(yc.get("GameSS"),"jar-lid-outline"),e.glow.center(),e.shadowSprite=new cjs.Sprite(yc.get("GameSS"),"shaker-shadow"),e.shadowSprite.name="Shadow Shaker",e.shadowSprite.set({x:-3,y:78}),e.shadowSprite.center(),e.addChild(e.shadowSprite,e.glow),e}return t=i,(n=[{key:"setGlow",value:function(e){e?this.glow.show():this.glow.hide()}},{key:"handleGrabbed",value:function(){Po(Ro(i.prototype),"handleGrabbed",this).call(this),this.setGlow(!1)}},{key:"requestActivate",value:function(){if(!this.requested){this.requested=!0;var e=new cjs.Event("request");e.contentType=this.type,this.dispatchEvent(e)}}},{key:"acceptRequest",value:function(e){this.activate(),this.mouseEnabled=!1,gc.play("shaker-topping"),cjs.Tween.get(this,{loop:-1}).to({rotation:this.heldAngle-10},100).to({rotation:this.heldAngle},100);var t=new cjs.Event("dispense");t.contentType=this.type,t.openSpots=e,this.dispatchEvent(t)}},{key:"generateSprinkles",value:function(e){return[]}}])&&Co(t.prototype,n),r&&Co(t,r),i}(mo);function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mo(e);if(t){var o=Mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return No(this,n)}}function No(e,t){return!t||"object"!==_o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(i,e);var t,n,r,o=Bo(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Sprinkles",e.type=s.SPRINKLES,e.sprite=new cjs.Sprite(yc.get("GameSS"),"shelf-sprinkles"),e.sprite.name="Shelf Sprinkles",e.sprite.center(),e.shakePosition.y=-77,e.addChild(e.sprite,e.shakePosition),e.options=new ae(["sprinkle-1","sprinkle-2"],!0),e}return t=i,(n=[{key:"generateSprinkles",value:function(e){console.log("shaker position",this.shakePosition.x,this.shakePosition.y);for(var t=[],n=0;n<e.length;n++){var r=new cjs.Sprite(yc.get("GameSS"),this.options.getNext());r.center(),this.addChild(r),r.set({x:this.shakePosition.x+Object(_t.d)(-25,25),y:this.shakePosition.y}),r.rotation=Object(_t.d)(-5,5),r.visible=!1,t.push(r)}return t}}])&&Io(t.prototype,n),r&&Io(t,r),i}(Ao);function Do(e){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yo(e,t){return(Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Uo(e);if(t){var o=Uo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo(this,n)}}function Jo(e,t){return!t||"object"!==Do(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yo(e,t)}(i,e);var t,n,r,o=Ho(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Peppermints Bowl",e.type=s.PEPPERMINTS,e.sprite=new cjs.Sprite(yc.get("GameSS"),"shelf-peppermints"),e.sprite.name="Shelf Peppermints",e.sprite.center(),e.shakePosition.y=-77,e.addChild(e.sprite,e.shakePosition),e.options=new ae(["peppermint-1","peppermint-2","peppermint-3","peppermint-4"],!0),e}return t=i,(n=[{key:"generateSprinkles",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=new cjs.Sprite(yc.get("GameSS"),this.options.getNext());r.center(),this.addChild(r),r.set({x:this.shakePosition.x+Object(_t.d)(-15,15),y:this.shakePosition.y}),r.rotation=Object(_t.d)(-360,360),r.visible=!1,t.push(r)}return t}}])&&Fo(t.prototype,n),r&&Fo(t,r),i}(Ao);function Wo(e){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e,t){return(Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo(e);if(t){var o=Zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zo(this,n)}}function zo(e,t){return!t||"object"!==Wo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vo(e,t)}(i,e);var t,n,r,o=Ko(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Chips Bowl",e.type=s.CHIPS,e.sprite=new cjs.Sprite(yc.get("GameSS"),"shelf-chips"),e.sprite.name="Shelf Chips",e.sprite.center(),e.shakePosition.y=-77,e.addChild(e.sprite,e.shakePosition),e.options=new ae(["chip-1","chip-2","chip-3","chip-4"],!0),e}return t=i,(n=[{key:"generateSprinkles",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=new cjs.Sprite(yc.get("GameSS"),this.options.getNext());r.center(),this.addChild(r),r.set({x:this.shakePosition.x+Object(_t.d)(-15,15),y:this.shakePosition.y}),r.rotation=Object(_t.d)(-360,360),r.visible=!1,t.push(r)}return t}}])&&qo(t.prototype,n),r&&qo(t,r),i}(Ao);function $o(e){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ni(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oi(e);if(t){var o=oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ri(this,n)}}function ri(e,t){return!t||"object"!==$o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ii=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}(i,cjs.Container);var t,n,r,o=ni(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).bottomShelf=new cjs.Container,e.bottomShelf.name="Bottom Shelf",e.bottomShelf.x=-35,e.topShelf=new cjs.Container,e.topShelf.name="Top Shelf",e.topShelf.x=-35,e.topShelf.y=-185,e.addChild(e.bottomShelf,e.topShelf),e}return t=i,(n=[{key:"addItems",value:function(e){for(var t=Math.ceil(e.length/2),n=[],r=[],o=0;o<e.length;o++){var i=e[o];i.requiresBottomShelf&&n.push(i)}for(var s=0;s<e.length&&!(n.length>=t);s++){var a=e[s];-1===n.indexOf(a)&&n.push(a)}for(var c=0;c<e.length;c++){var u=e[c];-1===n.indexOf(u)&&r.push(u)}for(var l=0;l<n.length;l++)n[l].x=0===l?20:310,this.bottomShelf.addChild(n[l]);for(var f=0;f<r.length;f++)r[f].x=0===f?-130:175,this.topShelf.addChild(r[f])}},{key:"setStartStates",value:function(){this.bottomShelf.children.forEach((function(e){e.setStartState()})),this.topShelf.children.forEach((function(e){e.setStartState()}))}}])&&ei(t.prototype,n),r&&ei(t,r),i}();function si(e){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e,t){return(ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ui(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hi(e);if(t){var o=hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return li(this,n)}}function li(e,t){return!t||"object"!==si(t)&&"function"!=typeof t?fi(e):t}function fi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}(i,cjs.Container);var t,n,r,o=ui(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).name="Topping Station",n.tools=[],n.stickers=[],n.dragManager=new ao(hc.stage,n.handleDragStart.bind(fi(n)),n.handleDragEnd.bind(fi(n)),n.clickStickStart.bind(fi(n)),n.clickStickEnd.bind(fi(n))),n.currentGroupIndex=0,n.currentGroup=null,n.requestAccepted=!1,n.selectedBowl=null,n.completeCallback=t,n.shelfContainer=new cjs.Container,n.shelfContainer.set({name:"Shelf Container",x:0,y:0}),n.addChild(n.shelfContainer);for(var r=Math.ceil(e.length/4),s=0;s<r;s++){var a=new ii;a.name="Shelf Organizer "+s,a.set({x:0===s?0:-hc.maxWidth,y:-500}),a.visible=0===s,n.shelfContainer.addChild(a)}n.currentGroup=n.shelfContainer.children[0];for(var c=0,u=0;u<n.shelfContainer.children.length;u++){for(var l=n.shelfContainer.children[u],f=[],h=c+4,p=c;p<h&&e[p];p++){c++;var y=n.createBasedOnToppingName(e[p]);f.push(y)}l.addItems(f)}for(var d=0;d<n.shelfContainer.children.length;d++){n.shelfContainer.children[d].setStartStates()}return n.shelfContainer.children.length>1&&(n.rightBtn=new tn(yc.get("SharedSS"),"ui-button-next"),n.rightBtn.center(),n.rightBtn.set({name:"Right Button",x:447,y:-612,regX:72,regY:100}),n.addChild(n.rightBtn)),n.ui=new cjs.Container,n.ui.name="UI",n.addChild(n.ui),n.undoBtn=new tn(yc.get("SharedSS"),"ui-button-undo"),n.undoBtn.center(),n.undoBtn.set({name:"Undo Button",x:-168,y:-216,regX:90,regY:89,scale:0,visible:!1}),n.continueBtn=new tn(yc.get("SharedSS"),"ui-button-check"),n.continueBtn.center(),n.continueBtn.set({name:"Continue Button",x:404,y:-251,regX:117,regY:115,scale:0,visible:!1}),n.ui.addChild(n.undoBtn,n.continueBtn),n}return t=i,(n=[{key:"createBasedOnToppingName",value:function(e){var t;switch(e){case s.BANANA:return t=new $r(yc.get("GameSS"),"shelf-banana","sticker-banana"),this.tools.push(t),t;case s.JELLYBEANS:return t=new $r(yc.get("GameSS"),"shelf-jellybeans",["blue-jellybeans","green-jellybeans","lightblue-jellybeans","red-jellybeans"]),this.tools.push(t),t;case s.CEREAL:return t=new $r(yc.get("GameSS"),"shelf-cereal",["orange-cereal","pink-cereal","purple-cereal","yellow-cereal"]),this.tools.push(t),t;case s.PEACHES:return t=new $r(yc.get("GameSS"),"shelf-peaches",["sticker-peaches-1","sticker-peaches-2","sticker-peaches-3"]),this.tools.push(t),t;case s.PICKLES:return t=new $r(yc.get("GameSS"),"shelf-pickles","sticker-pickles"),this.tools.push(t),t;case s.STRAWBERRIES:return t=new $r(yc.get("GameSS"),"shelf-strawberries","sticker-strawberries"),this.tools.push(t),t;case s.CHOCOLATE:return t=new Oo(s.CHOCOLATE),this.tools.push(t),this.sryup=t,t;case s.FLAPJACK:return t=new Oo(s.FLAPJACK),this.tools.push(t),t;case s.SPRINKLES:return t=new Go,this.tools.push(t),t;case s.PEPPERMINTS:return t=new Xo,this.tools.push(t),t;case s.CHIPS:return t=new Qo,this.tools.push(t),t}}},{key:"setActive",value:function(e){var t=this;this.mouseEnabled=e,this.mouseChildren=e,this.dragManager.setActive(e),this.rightBtn&&this.rightBtn.setActive(e),this.undoBtn.setActive(e),this.continueBtn.setActive(e),this.tools.forEach((function(t){t.setActive&&t.setActive(e)})),e?(this.tools.forEach((function(e){e instanceof Wr?e.on("toppingCreated",t.handleStickerCreated,t):e instanceof Oo?(t.dragManager.addEventsToObject(e),e.on("request",t.handleSyrupPour,t),e.on("complete",t.handlePourComplete,t)):e instanceof Ao&&(t.dragManager.addEventsToObject(e),e.on("request",t.handleShake,t),e.on("dispense",t.fillSprinkles,t),e.on("complete",t.handleShakeComplete,t))})),this.rightBtn&&this.rightBtn.on("click",this.handleArrowClick,this),this.undoBtn.on("click",this.handleUndoClick,this),this.continueBtn.on("click",this.handleContinueClick,this)):(this.tools.forEach((function(e){t.dragManager.removeEventsFromObject(e),e.removeAllEventListeners()})),this.rightBtn&&this.rightBtn.removeAllEventListeners(),this.undoBtn.removeAllEventListeners(),this.continueBtn.removeAllEventListeners())}},{key:"handleDragStart",value:function(e){var t=this.dragManager.selected;if(this.startTime=Date.now(),this.setButtonsEnabled(!1),this.setToolsEnabled(!1),this.setStickersEnabled(!1),t.mouseEnabled=!0,this.handleGrabbingSticker(t),t.handleGrabbed&&t.handleGrabbed(),t instanceof Oo){var n=t.parent.localToLocal(t.x,t.y,this.shelfContainer);t.set({x:n.x,y:n.y}),this.shelfContainer.addChild(t)}if(t instanceof Ao){var r=t.parent.localToLocal(t.x,t.y,pc.current.froyo.parent);t.set({x:r.x,y:r.y}),pc.current.froyo.parent.addChild(t)}}},{key:"handleDragEnd",value:function(e){var t=this,n=this.dragManager.selected;n.mouseEnabled=!1;var r=Date.now()-this.startTime;if(this.handleDroppingSticker(n),n.checkAndActivate&&(n.checkAndActivate()||r<=200))gc.play("place-topping"),this.animateSelectedAboveFroyo(n);else if(n.handleRelease){var o=n.handleRelease();o&&o.call((function(e){t.setButtonsEnabled(!0),t.setToolsEnabled(!0),t.setStickersEnabled(!0)}))}pc.current.froyo.mouseEnabled=!0,pc.current.froyo.mouseChildren=!0}},{key:"clickStickStart",value:function(){var e=this.dragManager.selected;if(this.startTime=Date.now(),this.setButtonsEnabled(!1),this.setToolsEnabled(!1),this.setStickersEnabled(!1),e.mouseEnabled=!0,this.handleGrabbingSticker(e),e.handleClickStick&&e.handleClickStick(),e instanceof Oo){var t=e.parent.localToLocal(e.x,e.y,this.shelfContainer);e.set({x:t.x,y:t.y}),this.shelfContainer.addChild(e),mc.mobile&&(this.animateSelectedAboveFroyo(e),this.dragManager.stopDrag())}if(e instanceof Ao){var n=e.parent.localToLocal(e.x,e.y,pc.current.froyo.parent);e.set({x:n.x,y:n.y}),pc.current.froyo.parent.addChild(e),mc.mobile&&(this.animateSelectedAboveFroyo(e),this.dragManager.stopDrag())}}},{key:"clickStickEnd",value:function(){var e=this,t=this.dragManager.selected;t.mouseEnabled=!1;var n=Date.now()-this.startTime;if(this.handleDroppingSticker(t),t.checkAndActivate&&(t.checkAndActivate()||n<=200))gc.play("place-topping"),this.animateSelectedAboveFroyo(t);else if(t.handleClickStickRelease){var r=t.handleClickStickRelease();r&&r.call((function(t){e.setButtonsEnabled(!0),e.setToolsEnabled(!0),e.setStickersEnabled(!0)}))}pc.current.froyo.mouseEnabled=!0,pc.current.froyo.mouseChildren=!0}},{key:"animateSelectedAboveFroyo",value:function(e){var t=this;this.animatingToRequest=!0,this.requestedByClick=!0,e.animateToHoldPos();var n=this.localToLocal(150,-600,e.parent);return cjs.Tween.get(e).set({mouseEnabled:!1},e).to({x:n.x,y:n.y},500,cjs.Ease.cubicInOut).call((function(n){t.animatingToRequest=!1,e.requestActivate()}))}},{key:"handleGrabbingSticker",value:function(e){if(e instanceof _r){this.setButtonsEnabled(!1),this.setToolsEnabled(!1),this.setStickersEnabled(!1),gc.play("grab-topping");var t=this.stickers.indexOf(e);-1!==t&&this.stickers.splice(t,1);var n=e.parent.localToLocal(e.x,e.y,pc.current);e.set({x:n.x,y:n.y}),pc.current.addChild(e);var r=e.scaleX<0?-1*s.STICKER_GRABBED_SCALE:s.STICKER_GRABBED_SCALE;cjs.Tween.get(e).to({scaleX:r,scaleY:s.STICKER_GRABBED_SCALE},500,cjs.Ease.backOut),pc.current.froyo.mouseEnabled=!1,pc.current.froyo.mouseChildren=!1}}},{key:"handleDroppingSticker",value:function(e){if(this.selectedBowl&&(this.selectedBowl.setHighlight(!1),this.selectedBowl=null),e instanceof _r){this.setButtonsEnabled(!0),this.setToolsEnabled(!0),this.setStickersEnabled(!0),gc.play("place-topping");var t=pc.current.froyo.checkCollisionWithSticker(e);if(t){var n=e.currentAnimation.split("-")[1];pc.current.froyo.stickerAdded(n),this.lastFlavor=n,t.addSticker(e),this.dragManager.addEventsToObject(e),this.stickers.push(e),this.showButtons()}else{pc.current.froyo.removeStickerFromFroyo(e),this.dragManager.removeEventsFromObject(e),e.removeAllEventListeners(),cjs.Tween.get(e).to({scaleX:0,scaleY:0},250,cjs.Ease.backIn).call((function(t){e.parent.removeChild(e)}));var r=e.currentAnimation.split("-")[1];pc.current.froyo.checkIfFroyoHasStickers(r)||(pc.current.froyo.stickerRemoved(r),0===pc.current.froyo.completeOrder.toppings.length&&this.hideButtons())}}}},{key:"handleStickerCreated",value:function(e){mc.mobile&&(this.selectedBowl=e.currentTarget,this.selectedBowl.setHighlight(!0)),this.setButtonsEnabled(!1),this.setToolsEnabled(!1),this.setStickersEnabled(!1);var t=e.sticker;this.dragManager.setSelected(t);var n=pc.current.froyo.parent,r=n.globalToLocal(hc.stage.mouseX,hc.stage.mouseY);t.set({x:r.x,y:r.y}),n.addChild(t)}},{key:"handleSyrupPour",value:function(e){var t=this,n=e.currentTarget;this.requestAccepted=!0,n.acceptRequest(),cjs.Tween.get(this).wait(500).call((function(r){n.isInZone||t.requestedByClick?(t.requestedByClick=!1,pc.current.froyo.addSyrup(e.flavor).call((function(e){t.showButtons(),n.requestCompleted()}))):n.requestCompleted()})),this.lastFlavor=e.flavor}},{key:"handlePourComplete",value:function(e){var t=this,n=e.currentTarget;this.requestAccepted=!1,n!==this.dragManager.selected?n.returnToStart().call((function(e){t.setButtonsEnabled(!0),t.setToolsEnabled(!0),t.setStickersEnabled(!0)})):n.animateToHoldPos()}},{key:"handleShake",value:function(e){var t=e.currentTarget,n=e.contentType;this.lastFlavor=n;var r=pc.current.froyo.getOpenSprinkleSpots(n);this.requestAccepted=!0,t.acceptRequest(r)}},{key:"fillSprinkles",value:function(e){var t,n=this,r=e.currentTarget,o=e.contentType,i=e.openSpots,s=r.generateSprinkles(i);pc.current.froyo.addSprinkle(o),i.sort((function(e,t){var n=r.parent.localToGlobal(r.x,r.y),o=e.parent.localToGlobal(e.x,e.y),i=t.parent.localToGlobal(t.x,t.y);return Object(_t.a)(n,o)-Object(_t.a)(n,i)}));for(var a=0;a<i.length;a++){var c=i[a];t=c.parent.parent.addSprinkle(s[a],c,a)}t.call((function(e){n.showButtons(),r.requestCompleted(),n.dispatchEvent("dispenseComplete")})),this.dispatchEvent("dispenseStart")}},{key:"handleShakeComplete",value:function(e){var t=this,n=e.currentTarget;this.requestAccepted=!1,n!==this.dragManager.selected?n.returnToStart().call((function(e){t.setButtonsEnabled(!0),t.setToolsEnabled(!0),t.setStickersEnabled(!0)})):n.animateToHoldPos()}},{key:"showButtons",value:function(){var e=this,t=this.lastFlavor,n=function(n){ce.playerMadeMistake||pc.current.level.freeplay||-1===pc.current.order.getFullOrder().indexOf(t)&&(ce.playerMadeMistake=!0,pc.current.animateGlowAt(e.undoBtn,"instruction-11"))};this.undoBtn.visible&&this.continueBtn.visible?n():(this.undoBtn.show().call(n),this.continueBtn.show())}},{key:"hideButtons",value:function(){this.undoBtn.hide(),this.continueBtn.hide()}},{key:"setButtonsEnabled",value:function(e){this.ui.mouseEnabled=e,this.ui.mouseChildren=e,this.rightBtn&&(this.rightBtn.mouseEnabled=e)}},{key:"setToolsEnabled",value:function(e){for(var t=0;t<this.tools.length;t++)this.tools[t].mouseEnabled=e}},{key:"setStickersEnabled",value:function(e){for(var t=0;t<this.stickers.length;t++)this.stickers[t].mouseEnabled=e}},{key:"handleArrowClick",value:function(e){var t=e.currentTarget;switch(gc.play("click-1"),gc.play("topping-shift"),this.mouseEnabled=!1,this.mouseChildren=!1,t){case this.rightBtn:this.animateRight()}}},{key:"animateRight",value:function(){this.currentGroupIndex+=1,this.currentGroupIndex>this.shelfContainer.children.length-1&&(this.currentGroupIndex=0);var e=this.shelfContainer.children[this.currentGroupIndex];cjs.Tween.get(this.currentGroup).to({x:hc.maxWidth},2e3,cjs.Ease.cubicInOut).set({visible:!1},this.currentGroup),e.x=-hc.maxWidth,this._animateNextGroup(e)}},{key:"animateLeft",value:function(){this.currentGroupIndex-=1,this.currentGroupIndex<0&&(this.currentGroupIndex=this.shelfContainer.children.length-1);var e=this.shelfContainer.children[this.currentGroupIndex];cjs.Tween.get(this.currentGroup).to({x:-hc.maxWidth},2e3,cjs.Ease.cubicInOut).set({visible:!1},this.currentGroup),e.x=hc.maxWidth,this._animateNextGroup(e)}},{key:"_animateNextGroup",value:function(e){var t=this;e.visible=!0,cjs.Tween.get(e).to({x:0},2e3,cjs.Ease.cubicInOut).call((function(n){t.currentGroup=e,t.mouseEnabled=!0,t.mouseChildren=!0}))}},{key:"handleUndoClick",value:function(e){gc.play("click-1"),this.hideButtons(),pc.current.froyo.clearToppings(),this.reset()}},{key:"handleContinueClick",value:function(e){gc.play("click-1"),this.undoBtn.hide(),this.continueBtn.hide(),this.completeCallback(),this.reset(),this.setActive(!1)}},{key:"reset",value:function(){this._cleanupArray(this.stickers),this.stickers.length=0}},{key:"cleanup",value:function(){this._cleanupArray(this.tools),this._cleanupArray(this.stickers),this.tools.length=0,this.stickers.length=0}},{key:"_cleanupArray",value:function(e){var t=this;e.forEach((function(e){t.dragManager.removeEventsFromObject(e),e.removeAllEventListeners()}))}},{key:"destroy",value:function(){this.setActive(!1),this.removeAllEventListeners(),this.cleanup(),this.tools.forEach((function(e){e.setActive(!1)}))}}])&&ai(t.prototype,n),r&&ai(t,r),i}();function yi(e){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vi(e);if(t){var o=vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bi(this,n)}}function bi(e,t){return!t||"object"!==yi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ki=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}(i,cjs.Container);var t,n,r,o=gi(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Clyde",e.width=734,e.height=700;var t=yc.get("ClydeAnim");return e.animation=new t.clyde,e.animation.set({name:"Clyde Animation",framerate:24,regX:367,regY:563}),e.animation.gotoAndStop(0),e.addChild(e.animation),e}return t=i,(n=[{key:"moveToLeft",value:function(){var e,t=this.getBounds();e=t?0===t.width?this.width:t.width:this.width,this.x=-hc.maxWidth/2-e}},{key:"moveToCenter",value:function(){return cjs.Tween.get(this).to({x:-39,y:80},1500,cjs.Ease.quadOut)}},{key:"moveToRight",value:function(){var e,t=this.getBounds();return e=t?0===t.width?this.width:t.width:this.width,cjs.Tween.get(this).to({x:hc.maxWidth/2+e},1500,cjs.Ease.cubicInOut)}},{key:"moveOffScreenLeft",value:function(){var e,t,n=this.getBounds();n?(e=0===n.width?this.width:n.width,t=0===n.height?this.height:n.height):(e=this.width,t=this.height),this.x=-e-e/2,this.y=-hc.height/2-t}},{key:"moveOffScreenRight",value:function(){var e,t,n=this.getBounds();return n?(e=0===n.width?this.width:n.width,t=0===n.height?this.height:n.height):(e=this.width,t=this.height),cjs.Tween.get(this).to({x:e+e/2,y:-hc.height/2-t},1500,cjs.Ease.quadIn)}},{key:"gotoAndPlay",value:function(e){this.animation.gotoAndPlay(e)}},{key:"gotoAndStop",value:function(e){this.animation.gotoAndStop(e)}}])&&di(t.prototype,n),r&&di(t,r),i}();function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t){return(Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pi(e);if(t){var o=Pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ci(this,n)}}function Ci(e,t){return!t||"object"!==wi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pi(e){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}(i,e);var t,n,r,o=ji(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Purple Panda Character",e.onScreenPos=new cjs.Point(0,350),e.width=909,e.height=668;var t=yc.get("PurpleAnim");return e.animation=new t.purple,e.animation.set({name:"Purple Animation",framerate:24,regX:589,regY:809}),e.animation.gotoAndPlay("idle"),e.speechBubble.set({x:143,y:-471}),e.addChild(e.animation,e.speechBubble),e}return t=i,(n=[{key:"getArmContainer",value:function(){return this.animation.children[0].children[1]}},{key:"getFroyoContainer",value:function(){return this.animation.children[0].children[1].FroyoContainer}}])&&Si(t.prototype,n),r&&Si(t,r),i}(et),Ei=n(135),xi=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=["dot-pink-large","dot-pink-small","dot-purple-large","dot-purple-small","dot-white-large","dot-white-small","sparkle-blue-large","sparkle-blue-small","sparkle-orange-large","sparkle-orange-small","sparkle-pink-large","sparkle-pink-small","sparkle-purple-large","sparkle-purple-small","sparkle-white-large","sparkle-white-small"],o=[],i=0;i<r.length;i++){var s=new cjs.Sprite(yc.get("ParticlesSS"),r[i]);s.center(),o.push(s)}var a={display:o,lifetime:{min:2,max:3},moveSpeed:{min:100,max:100},rotateSpeed:{min:-15,max:15},scaleEase:createjs.Ease.bounceOut,scaleOverTime:{start:1,end:0},opacityEase:createjs.Ease.linear,opacityOverTime:{start:1,end:1},randomStartVelocity:{x:!0,y:!0},randomStartRotation:!0,force:{x:0,y:-1},explode:!0,implode:!1,gravity:3},c={particle:a,particleContainer:null,emitterType:{type:"box",size:{width:e,height:t}},count:n,rate:.05,loop:!1,burst:!0,startOn:!1,prewarm:0};return new Ei.a(c).set({name:"Star Explosion Emitter"})};function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _i(e,t){return(_i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bi(e);if(t){var o=Bi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Li(this,n)}}function Li(e,t){return!t||"object"!==Ri(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bi(e){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_i(e,t)}(i,cjs.Container);var t,n,r,o=Ii(i);function i(e){var t;switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).name="Unlock Jar",t.glow=new Yt(yc.get("GameSS"),"unlock-lid-glow"),t.glow.center(),t.glow.y=-90,t.jarShadow=new cjs.Sprite(yc.get("GameSS"),"unlock-jar-shadow"),t.jarShadow.center(),t.jarShadow.name="Jar Shadow",t.jarShadow.set({scaleX:.5,x:-8,y:150}),t.base=new cjs.Sprite(yc.get("GameSS"),"unlock-stand"),t.base.name="Base",t.base.regX=t.base.getBounds().width/2,t.base.regY=40,t.shadowSprite=new cjs.Sprite(yc.get("GameSS"),"sticker-shadow"),t.shadowSprite.name="Shadow Sticker",t.shadowSprite.center(),e){case s.BANANA:case s.PEACHES:case s.PICKLES:case s.STRAWBERRIES:t.shadowSprite.gotoAndStop("sticker-shadow"),t.shadowSprite.set({x:-7,y:14});break;case s.CEREAL:case s.JELLYBEANS:t.shadowSprite.gotoAndStop("sticker-shadow"),t.shadowSprite.set({x:-4,y:13});break;case s.CHOCOLATE:case s.FLAPJACK:t.shadowSprite.gotoAndStop("syrup-shadow"),t.shadowSprite.set({x:-15,y:11});break;case s.CHIPS:case s.PEPPERMINTS:case s.SPRINKLES:t.shadowSprite.gotoAndStop("shaker-shadow"),t.shadowSprite.set({x:43,y:21})}return t.lid=new cjs.Sprite(yc.get("GameSS"),"unlock-lid"),t.lid.name="Lid",t.lid.regX=t.lid.getBounds().width/2,t.lid.regY=215,t.item=new cjs.Sprite(yc.get("GameSS"),"unlock-"+e),t.item.name="Item "+e,t.item.regs(.5,1),t.item.scale=Math.min(165/t.item.getBounds().height,1),t.item.y=20,t.addChild(t.jarShadow,t.base,t.shadowSprite,t.item,t.glow,t.lid),t.emitter=xi(200,200,100),t.addChild(t.emitter),t}return t=i,(n=[{key:"reveal",value:function(){return this.emitter.play(),gc.play("unlock-topping"),cjs.Tween.get(this.lid).to({y:-200},1e3,cjs.Ease.cubicInOut)}},{key:"moveOnScreen",value:function(){return cjs.Tween.get(this).to(this.getOnscreenPos(),2e3,cjs.Ease.cubicInOut)}},{key:"moveOffScreen",value:function(){return cjs.Tween.get(this).to(this.getOffscreenPos(),2e3,cjs.Ease.cubicInOut)}},{key:"getOffscreenPos",value:function(){return new cjs.Point(hc.maxWidth/2+this.getBounds().width+50,this.y)}},{key:"getOnscreenPos",value:function(){return new cjs.Point(291,this.y)}},{key:"setGlow",value:function(e){e?this.glow.show():this.glow.hide()}}])&&Ai(t.prototype,n),r&&Ai(t,r),i}();function Mi(e){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hi(e);if(t){var o=Hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yi(this,n)}}function Yi(e,t){return!t||"object"!==Mi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hi(e){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(i,cjs.Container);var t,n,r,o=Fi(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Donkey",e.onScreenPos=new cjs.Point(-232,390),e.width=690,e.height=865;var t=yc.get("DonkeyAnim");return e.animation=new t.donkey,e.animation.set({name:"Donkey Animation",framerate:24,regX:478,regY:749}),e.animation.gotoAndStop(0),e.addChild(e.animation),e}return t=i,(n=[{key:"moveOnScreen",value:function(){return cjs.Tween.get(this).to(this.getOnscreenPos(),2e3,cjs.Ease.cubicInOut)}},{key:"moveOffScreen",value:function(){return cjs.Tween.get(this).to(this.getOffscreenPos(),2e3,cjs.Ease.cubicInOut)}},{key:"getOffscreenPos",value:function(){var e,t=this.getBounds();return e=t?0===t.height?this.height:t.height:this.height,new cjs.Point(this.onScreenPos.x,hc.maxHeight/2+e+5)}},{key:"getOnscreenPos",value:function(){return new cjs.Point(this.onScreenPos.x,this.onScreenPos.y)}},{key:"gotoAndPlay",value:function(e){this.animation.gotoAndPlay(e)}},{key:"gotoAndStop",value:function(e){this.animation.gotoAndStop(e)}}])&&Gi(t.prototype,n),r&&Gi(t,r),i}();function Ui(e){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t){return(Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ki(e);if(t){var o=Ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vi(this,n)}}function Vi(e,t){return!t||"object"!==Ui(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wi(e,t)}(i,e);var t,n,r,o=qi(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Duck Duck Customer",e.onScreenPos=new cjs.Point(0,140),e.width=408,e.height=678;var t=yc.get("DuckAnim");return e.animation=new t.duck,e.animation.set({name:"Duck Animation",framerate:24,regX:297,regY:585}),e.animation.gotoAndPlay("idle"),e.speechBubble.set({x:89,y:-245}),e.addChild(e.animation,e.speechBubble),e.scale=.8,e}return t=i,(n=[{key:"getArmContainer",value:function(){return this.animation.children[0].children[5]}},{key:"getFroyoContainer",value:function(){return this.animation.children[0].children[5].FroyoContainer}}])&&Xi(t.prototype,n),r&&Xi(t,r),i}(et);function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $i(e,t){return($i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ns(e);if(t){var o=ns(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ts(this,n)}}function ts(e,t){return!t||"object"!==Zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ns(e){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$i(e,t)}(i,e);var t,n,r,o=es(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Grampy Hodie Character",e.onScreenPos=new cjs.Point(0,120),e.width=552,e.height=669;var t=yc.get("GrampyAnim");return e.animation=new t.grampy,e.animation.set({name:"Grampy Animation",framerate:24,regX:367,regY:575}),e.animation.gotoAndPlay("idle"),e.speechBubble.set({x:97,y:-196}),e.addChild(e.animation,e.speechBubble),e}return t=i,(n=[{key:"getArmContainer",value:function(){return this.animation.children[0].children[1]}},{key:"getFroyoContainer",value:function(){return this.animation.children[0].children[1].FroyoContainer}}])&&Qi(t.prototype,n),r&&Qi(t,r),i}(et);function os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ss=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;os(this,e),this.callback=t,this.maxTime=n,this.idleTime=this.maxTime,this.ready=!1}var t,n,r;return t=e,(n=[{key:"setCallback",value:function(e){this.callback=e}},{key:"start",value:function(){this.ready=!0}},{key:"stop",value:function(){this.ready=!1}},{key:"reset",value:function(){this.idleTime=this.maxTime}},{key:"clear",value:function(){this.callback=null}},{key:"update",value:function(e){this.ready&&this.callback&&(this.idleTime-=e,this.idleTime<=0&&(this.reset(),this.callback()))}}])&&is(t.prototype,n),r&&is(t,r),e}();function as(e){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function us(e,t){return(us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hs(e);if(t){var o=hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fs(this,n)}}function fs(e,t){return!t||"object"!==as(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hs(e){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ps=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&us(e,t)}(i,e);var t,n,r,o=ls(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Donkey Customer Animation",e.onScreenPos=new cjs.Point(0,165),e.width=690,e.height=865;var t=yc.get("DonkeyAnim");return e.animation=new t.donkey,e.animation.set({name:"Donkey Animation",framerate:24,regX:478,regY:749}),e.animation.gotoAndStop("donkey-freeplay"),e.speechBubble.set({x:0,y:0}),e.addChild(e.animation),e.scale=.8,e}return t=i,(n=[{key:"getArmContainer",value:function(){return this.animation.children[0].children[1]}},{key:"getFroyoContainer",value:function(){return this.animation.children[0].children[1].FroyoContainer}}])&&cs(t.prototype,n),r&&cs(t,r),i}(et);function ys(e){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ds(e,t){return(ds=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bs(e);if(t){var o=bs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gs(this,n)}}function gs(e,t){return!t||"object"!==ys(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bs(e){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ds(e,t)}(n,cjs.Container);var t=ms(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this)).name="Froyo Stand";for(var r=0,o=0;o<4;o++)for(var i=0;i<10;i++){r++;var s=new cjs.Bitmap(yc.get("froyo-stand-"+r));s.set({x:512*i,y:512*o}),e.addChild(s)}return e}return n}();function ks(e){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ws(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Os(e,t,n){return(Os="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Es(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function js(e,t){return(js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Es(e);if(t){var o=Es(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ps(this,n)}}function Ps(e,t){return!t||"object"!==ks(t)&&"function"!=typeof t?Ts(e):t}function Ts(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Es(e){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&js(e,t)}(u,e);var t,n,o,i,a,c=Cs(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this)).name="Game Scene",e.currentCustomer=null,e.numberOfIncorrect=0,e.numberOfAttempts=0,e.level=null,e.orderTracker=0,e.tutorial=!1,e.tweener={},e.newUnlock=null,e.idleTimer=new ss(e.handlePlayerIdle.bind(Ts(e)),24),e}return t=u,(n=[{key:"preload",value:(i=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce.loading.Intro){e.next=4;break}return ce.loading.Intro=!0,e.next=4,dc.load(r.Intro);case 4:if(ce.loading.Shared){e.next=8;break}return ce.loading.Shared=!0,e.next=8,dc.load(r.Shared);case 8:"donkey"===(t=ce.customers.getCurrent())&&(t=ce.customers.getAdvance()),e.t0=t,e.next="bob"===e.t0?13:"duck"===e.t0?18:"grampy"===e.t0?23:"purple"===e.t0?28:33;break;case 13:if(ce.loading.Bob){e.next=17;break}return ce.loading.Bob=!0,e.next=17,dc.load(r.Bob);case 17:return e.abrupt("break",33);case 18:if(ce.loading.Duck){e.next=22;break}return ce.loading.Duck=!0,e.next=22,dc.load(r.Duck);case 22:return e.abrupt("break",33);case 23:if(ce.loading.Grampy){e.next=27;break}return ce.loading.Grampy=!0,e.next=27,dc.load(r.Grampy);case 27:return e.abrupt("break",33);case 28:if(ce.loading.Purple){e.next=32;break}return ce.loading.Purple=!0,e.next=32,dc.load(r.Purple);case 32:return e.abrupt("break",33);case 33:if(ce.loading.Game){e.next=40;break}return ce.loading.Game=!0,e.next=37,dc.load(r.SFX);case 37:return e.abrupt("return",dc.load(r.Game));case 40:return e.abrupt("return",Promise.resolve());case 41:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function s(e){ws(o,n,r,s,a,"next",e)}function a(e){ws(o,n,r,s,a,"throw",e)}s(void 0)}))},function(){return a.apply(this,arguments)})},{key:"build",value:function(){var e=new cjs.Bitmap(yc.get("GameBG"));if(e.name="Background",e.center(),this.level=JSON.parse(JSON.stringify(ce.currentLevel)),this.addUnlockedItemsToLevel(),this.level.gameComplete){var t=JSON.parse(localStorage.getItem("freeplayTracker"));5==++t&&(this.level.freeplay=!0,t=0),localStorage.setItem("freeplayTracker",JSON.stringify(t))}this.order=new Lt(this.level),this.level.freeplay&&ce.numberOfFreeplays++,this.createCustomer(),this.stations=new cjs.Container,this.stations.set({name:"Stations Container"}),this.froyoStand=new vs,this.froyoStand.center(),this.froyoStand.y=145,this.containerStation=new ln(this.level.containers,this.handleContainerStationComplete.bind(this)),this.containerStation.set({x:0,y:170}),this.froyoStation=new Pr(this.level.yogurts,this.handleFroyoStationComplete.bind(this)),this.froyoStation.set({x:1475,y:0}),this.toppingStation=new pi(this.level.toppings,this.handleToppingsStationComplete.bind(this)),this.toppingStation.set({x:-1475,y:170}),this.stations.addChild(this.currentCustomer,this.froyoStand,this.containerStation,this.froyoStation,this.toppingStation),this.clyde=new ki,this.clyde.moveOffScreenLeft(),this.froyo=new gn,this.froyo.set({x:20,y:95}),this.ticket=new At(this.currentCustomer.name),this.ticket.set({x:-392,y:this.ticket.getOffscreenPos().y}),this.ticket.reset(),"Level1"===this.level.name&&(this.tutorial=!0),this.addChild(e,this.stations,this.clyde,this.froyo,this.ticket),this.donkey=new Ji,this.donkey.y=390;var n=this.donkey.getOffscreenPos();if(this.donkey.set({x:n.x,y:n.y,mouseEnabled:!1}),this.addChild(this.donkey),this.level.unlock){var r=JSON.parse(localStorage.getItem("unlockedItems")),o=this.level.unlock.item;if(-1===r.indexOf(o)){this.unlockJar=new Ni(o),this.unlockJar.y=41;var i=this.unlockJar.getOffscreenPos();this.unlockJar.set({x:i.x,y:i.y}),this.addChild(this.unlockJar,this.donkey)}}if("Level1"===this.level.name&&ce.loadedFromTitle){ce.loadedFromTitle=!1,this.stations.visible=!1;var s=yc.get("IntroAnim");this.introAnimation=new s.intro,this.introAnimation.set({name:"Intro Animation",framerate:24,regX:752,regY:515,x:-72,y:128}),this.addChild(this.introAnimation),this.introAnimation.gotoAndStop(0)}Os(Es(u.prototype),"build",this).call(this),this.introAnimation&&(this.homeBtn.scale=0)}},{key:"addUnlockedItemsToLevel",value:function(){for(var e=JSON.parse(localStorage.getItem("unlockedItems")),t=0;t<e.length;t++){var n=e[t];switch(n){case s.CUP:case s.WAFFLECONE:case s.CONE:case s.WAFFLEBOWL:-1===this.level.containers.indexOf(n)&&this.level.containers.push(n);break;case s.VANILLA:case s.BERRY:case s.BIRTHDAY:case s.RAINBOW:case s.MINT:case s.MANGO:-1===this.level.yogurts.indexOf(n)&&this.level.yogurts.push(n);break;case s.CHOCOLATE:case s.FLAPJACK:case s.SPRINKLES:case s.BANANA:case s.JELLYBEANS:case s.PEPPERMINTS:case s.CEREAL:case s.CHIPS:case s.STRAWBERRIES:case s.PICKLES:case s.PEACHES:-1===this.level.toppings.indexOf(n)&&this.level.toppings.push(n)}}}},{key:"createCustomer",value:function(){var e=ce.getNextCustomer();if(this.level.freeplay&&2===ce.numberOfFreeplays&&(e="donkey"),"donkey"===e&&(this.level.freeplay&&ce.numberOfFreeplays>=2?this.currentCustomer=new ps:e=ce.getNextCustomer()),!this.currentCustomer)switch(e){case"bob":this.currentCustomer=new at;break;case"purple":this.currentCustomer=new Ti;break;case"duck":this.currentCustomer=new zi;break;case"grampy":this.currentCustomer=new rs;break;default:console.warn("HIT DEFAULT CUSTOMER FOR SOME REASON"),this.currentCustomer=new at}this.currentCustomer.name=e;var t=this.currentCustomer.getOffscreenPos();this.currentCustomer.set({x:t.x,y:t.y})}},{key:"setActive",value:function(e){e?(this.introAnimation&&(this.introAnimation.on("playVO",this._handlePlayVO,this),this.introAnimation.on("complete",this.handleIntroTransition,this)),hc.stage.on("stagemousedown",this.resetIdleTimer,this)):(this.containerStation.removeAllEventListeners(),this.froyoStation.removeAllEventListeners(),this.toppingStation.removeAllEventListeners(),this.introAnimation&&this.introAnimation.removeAllEventListeners(),hc.stage.removeAllEventListeners()),Os(Es(u.prototype),"setActive",this).call(this,e)}},{key:"resetIdleTimer",value:function(){this.idleTimer.reset()}},{key:"_handlePlayVO",value:function(e){Rc(e.label)}},{key:"start",value:function(){var e=this;if(this.introAnimation){var t={id:"intro-3",start:function(){e.introAnimation.gotoAndPlay(t)}};Rc(t)}else this.transitionToCustomer()}},{key:"handleIntroTransition",value:function(e){this.introAnimation.removeAllEventListeners(),this.homeBtn.show(),this.introAnimation.parent.removeChild(this.introAnimation),this.stations.visible=!0,this.transitionToCustomer()}},{key:"moveDonkeyOffscreen",value:function(e){e.currentTarget.removeAllEventListeners(),this.donkey.moveOffScreen().call(this.transitionToCustomer,null,this)}},{key:"transitionToCustomer",value:function(){var e=this;if("donkey"!==this.currentCustomer.name){var t=this.currentCustomer.moveOnScreen();"Level1"===this.level.name?t.call(this.sayHiToCustomer,null,this):Rc(ce.nextVO.getNext(),(function(){e.sayHiToCustomer()}))}else this.currentCustomer.moveOnScreen().call(this.handleOrdering,null,this)}},{key:"sayHiToCustomer",value:function(e){var t=this;e&&(e.target&&e.target.removeAllEventListeners(),e.currentTarget&&e.currentTarget.removeAllEventListeners()),Rc("next-"+this.currentCustomer.name,(function(){t.handleOrdering()}))}},{key:"handleOrdering",value:function(){ce.currentState=ce.STATE.ORDER,this.level.freeplay?this.animateInTicket(this.orderFreeplay.bind(this)):this.animateInTicket(this.startOrdering.bind(this))}},{key:"animateInTicket",value:function(e){var t=this.ticket.show();t.wait(500),t.call(e)}},{key:"orderFreeplay",value:function(){var e=this,t=this.currentCustomer.name+"-freeplay";Rc({id:t,start:function(){e.currentCustomer.gotoAndPlay(t)},end:function(){e._orderFreeplay()}})}},{key:"_orderFreeplay",value:function(e){e&&(e.target&&e.target.removeAllEventListeners&&e.target.removeAllEventListeners(),e.currentTarget&&e.currentTarget.removeAllEventListeners&&e.currentTarget.removeAllEventListeners()),this.ticket.setFreeplay(),this.currentCustomer.speechBubble.hide(),this.transitionToContainerStation(!0)}},{key:"startOrdering",value:function(){this.fullOrder=this.order.getFullOrder(),this.fullContainer=JSON.parse(JSON.stringify(this.order.container)),this.fullYogurt=JSON.parse(JSON.stringify(this.order.yogurts)),this.fullToppings=JSON.parse(JSON.stringify(this.order.toppings)),this.currentCustomer.speechBubble.show().call(this.orderCup,null,this)}},{key:"orderCup",value:function(){var e=this;if(this.fullContainer.length>0){var t=this.fullContainer.shift();this.currentCustomer.speechBubble.setItem(t),this.ticket.addItem(t);var n=this.currentCustomer.name+"-"+t;Rc({id:n,start:function(){e.currentCustomer.gotoAndPlay(n)},end:function(){e.queueNextOrder(e.orderCup.bind(e))}})}else this.orderTracker=0,this.orderYogurt()}},{key:"orderYogurt",value:function(){var e=this;if(this.fullYogurt.length>0){var t,n=this.fullYogurt.shift();if(this.currentCustomer.speechBubble.setItem(n),this.ticket.addItem(n),0===this.orderTracker){var r=this.currentCustomer.name+"-with";t={id:r,start:function(){e.currentCustomer.gotoAndPlay(r)},end:function(){var t=e.currentCustomer.name+"-"+n;Rc({id:t,start:function(){e.currentCustomer.gotoAndPlay(t)},end:function(){e.queueNextOrder(e.orderYogurt.bind(e))}})}},Rc(t)}else{var o=this.currentCustomer.name+"-"+n;Rc(t={id:o,start:function(){e.currentCustomer.gotoAndPlay(o)},end:function(){e.queueNextOrder(e.orderYogurt.bind(e))}})}this.orderTracker++}else this.orderTracker=0,this.orderToppings()}},{key:"orderToppings",value:function(){var e=this;if(this.fullToppings.length>0){var t,n=this.fullToppings.shift();if(this.currentCustomer.speechBubble.setItem(n),this.ticket.addItem(n),0===this.fullToppings.length){var r=this.currentCustomer.name+"-and";t={id:r,start:function(){e.currentCustomer.gotoAndPlay(r)},end:function(){var t=e.currentCustomer.name+"-"+n;Rc({id:t,start:function(){e.currentCustomer.gotoAndPlay(t)},end:function(){var t=0===e.fullToppings.length?0:void 0;e.queueNextOrder(e.orderToppings.bind(e),t)}})}},Rc(t)}else{var o=this.currentCustomer.name+"-"+n;Rc(t={id:o,start:function(){e.currentCustomer.gotoAndPlay(o)},end:function(){var t=0===e.fullToppings.length?0:void 0;e.queueNextOrder(e.orderToppings.bind(e),t)}})}this.orderTracker++}else this.currentCustomer.speechBubble.hide(),this.sayPlease(!0)}},{key:"sayPlease",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.currentCustomer.name+"-please",r={id:n,start:function(){e.currentCustomer.gotoAndPlay(n)},end:function(){cjs.Tween.get(e).wait(500).call((function(){e.transitionToContainerStation(t)}))}};Rc(r)}},{key:"queueNextOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1200;this.currentCustomer.gotoAndPlay("idle"),cjs.Tween.get(this).wait(t).call(e)}},{key:"transitionToContainerStation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&this.currentCustomer.gotoAndPlay("idle");var n=function(){e.tutorial&&e.tutorialForContainer()},r=cjs.Tween.get(this);r.wait(500),r.call((function(r){t?"donkey"!==e.currentCustomer.name&&("Level1"===ce.currentLevel.name?Rc("make-1-alt",(function(){n()})):e.level.freeplay&&Rc("freeplay-1",(function(){n()}))):e.level.freeplay||(e.ticket.pulseOrder(),Rc(ce.tryAgainVO.getNext(),(function(){n()}))),ce.currentState=ce.STATE.CONTAINER,e.ticket.reset(),e.ticket.setActiveRingByState();var o=cjs.Ease.quadInOut;e.mouseEnabled=!1,e.mouseChildren=!1,cjs.Tween.get(e.stations).to({x:0,y:-555},1500,o).call((function(t){e.idleTimer.reset(),e.idleTimer.start(),e.level.freeplay||e.ticket.setActive(!0),e.containerStation.setActive(!0),e.mouseEnabled=!0,e.mouseChildren=!0}))}))}},{key:"tutorialForContainer",value:function(){var e=this;this.mouseEnabled=!0,this.mouseChildren=!0,cjs.Tween.get(this.tweener).wait(5e3).call((function(t){e.containerStation.containers.children[0]&&(Rc("instruction-5"),e.containerStation.containers.children[0].setGlow(!0))})),this.cupClickedBound=this.containerStation.on("cupClicked",(function(t){e.containerStation.off("cupClicked",e.cupClickedBound),e.idleTimer.reset(),cjs.Tween.removeTweens(e.tweener),cjs.Tween.get(e.tweener).wait(5e3).call((function(t){e.containerStation.continueBtn&&(Rc("instruction-9"),e.containerStation.continueBtn.setGlow(!0))}))}))}},{key:"handleContainerStationComplete",value:function(e){this.containerStation.removeAllEventListeners(),cjs.Tween.removeTweens(this.tweener),this.idleTimer.stop(),e.setShadow(!1),this.froyo.addCup(e).call(e.setShadow,[!0],e),this.level.freeplay&&this.ticket.updateFreeplayCup(e),this.transitionToFroyoMachine()}},{key:"transitionToFroyoMachine",value:function(){var e=this,t=cjs.Ease.quadInOut;ce.currentState=ce.STATE.YOGURT,this.ticket.setActiveRingByState(),gc.play("camera-motion-1");var n=-this.froyoStation.x+this.froyo.x-this.froyoStation.yogurtStreamCon.x;return cjs.Tween.get(this.stations).to({x:n,y:0},1500,t).call((function(t){e.idleTimer.reset(),e.idleTimer.start(),e.froyoStation.addFroyoToMachine(e.froyo.container.back),e.froyoStation.setYogurtGroupPositionForCup(e.froyo.container.name),e.froyoStation.setActive(!0),e.tutorialForYogurt()}))}},{key:"tutorialForYogurt",value:function(){var e=this;this.tutorial&&(cjs.Tween.get(this.tweener).wait(5e3).call((function(t){e.froyoStation.buttonContainer.children[0]&&(Rc("instruction-1"),e.froyoStation.buttonContainer.children[0].setGlow(!0))})),this.yogurtClickBound=this.froyoStation.on("yogurtPourStart",(function(t){e.containerStation.off("yogurtPourStart",e.yogurtClickBound),cjs.Tween.removeTweens(e.tweener),e.froyoStation.buttonContainer.children[0]&&e.froyoStation.buttonContainer.children[0].setGlow(!1)})))}},{key:"handleFroyoStationComplete",value:function(e){if(this.froyoStation.removeAllEventListeners(),this.idleTimer.stop(),this.froyo.addYogurtGroup(e),ce.currentState=ce.STATE.TOPPINGS,this.ticket.setActiveRingByState(),this.level.freeplay){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n].name.split("Yogurt ")[1];t.push(r)}this.ticket.updateFreeplayYogurt(t)}this.transitionToToppings()}},{key:"transitionToToppings",value:function(){var e=this,t=cjs.Ease.quadInOut;gc.play("camera-motion-2"),cjs.Tween.get(this.stations).to({x:-this.toppingStation.x,y:320},1500,t).call((function(t){e.idleTimer.reset(),e.idleTimer.start(),e.toppingStation.setActive(!0),e.tutorialForToppingStation()})),cjs.Tween.get(this.froyo).to({x:115,y:385},1500,t)}},{key:"tutorialForToppingStation",value:function(){var e=this;this.tutorial?(cjs.Tween.get(this.tweener).wait(5e3).call((function(t){e.toppingStation.tools[0]&&(Rc("instruction-6"),e.toppingStation.tools[0].setGlow(!0))})),this.dispenseBound=this.toppingStation.on("dispenseStart",(function(t){e.toppingStation.off("dispenseStart",e.dispenseBound),cjs.Tween.removeTweens(e.tweener)})),this.dispenseComplete=this.toppingStation.on("dispenseComplete",(function(t){e.toppingStation.off("dispenseComplete",e.dispenseComplete),cjs.Tween.removeTweens(e.tweener),cjs.Tween.get(e.tweener).wait(5e3).call((function(t){ce.currentState===ce.STATE.TOPPINGS&&bc.instance&&"playFinished"===bc.instance.playState&&e.toppingStation.continueBtn&&(Rc("instruction-8"),e.toppingStation.continueBtn.setGlow(!0))}))})),this.toppingCompleteBound=this.toppingStation.on("complete",(function(t){e.toppingStation.off("complete",e.toppingCompleteBound),cjs.Tween.removeTweens(e.tweener)}))):!JSON.parse(localStorage.getItem("seenToppingArrowTap"))&&this.toppingStation.rightBtn&&(localStorage.setItem("seenToppingArrowTap",JSON.stringify(!0)),this.toppingStation.rightBtn.setGlow(!0),Rc("instruction-7",(function(){cjs.Tween.get(e.tweener).wait(1e3).call((function(){e.toppingStation.rightBtn.setGlow(!1)}))})))}},{key:"handleToppingsStationComplete",value:function(){var e=this;if(this.toppingStation.removeAllEventListeners(),cjs.Tween.removeTweens(this.tweener),this.idleTimer.stop(),this.ticket.setActive(!1),ce.currentState=ce.STATE.DELIVERY,this.ticket.setActiveRingByState(),this.level.freeplay){for(var t=[],n=0;n<this.froyo.completeOrder.toppings.length;n++)t.push(this.froyo.completeOrder.toppings[n]);this.ticket.updateFreeplayToppings(t)}var r=cjs.Ease.quadInOut;gc.play("camera-motion-3"),cjs.Tween.get(this.stations).to({x:0,y:0},1500,r),cjs.Tween.get(this.froyo).to({y:95},1500,r),"donkey"!==this.currentCustomer.name?this.level.freeplay?Rc("freeplay-2",(function(){e.bringInCustomerToReceiveOrder()})):Rc(ce.encourageVO.getNext(),(function(){e.bringInCustomerToReceiveOrder()})):cjs.Tween.get(this).wait(1500).call((function(t){e.bringInCustomerToReceiveOrder()}))}},{key:"bringInCustomerToReceiveOrder",value:function(){var e=this;this.ticket.fadeInContainers(),cjs.Tween.get(this).wait(500).call((function(t){e.giveOrderToCustomer()}))}},{key:"giveOrderToCustomer",value:function(){var e,t=this,n=this.currentCustomer.getFroyoContainer(),r=n.parent.localToLocal(n.x,n.y,this.froyo.parent),o=!1;(this.level.freeplay||0===this.getNumberOfMistakes())&&(o=!0),e=o?r.x:116,"donkey"===this.currentCustomer.name?cjs.Tween.get(this.froyo).to({x:e,y:83,scale:.6},1e3,cjs.Ease.quadInOut).wait(1e3).call(this.checkFroyoCorrect,null,this):(Rc(ce.deliverVO.getNext(),(function(){t.checkFroyoCorrect()})),cjs.Tween.get(this.froyo).to({x:e,y:83,scale:.6},1e3,cjs.Ease.quadInOut))}},{key:"checkFroyoCorrect",value:function(){var e=this,t=!1;if(this.level.freeplay)t=!0,this.ticket.setContainerCorrect(!0),this.ticket.setYogurtCorrect(!0),this.ticket.setToppingCorrect(!0);else{var n=this.getNumberOfMistakes();this.numberOfIncorrect+=n,0===n&&(t=!0),this.setTicketStatus()}cjs.Tween.get(this).wait(2500).call((function(n){t?(gc.play("froyo-win"),e.animateSpecial()):(gc.play("froyo-lose"),e.handleIncorrectOrder())}))}},{key:"setTicketStatus",value:function(){this.order.container[0]===this.froyo.completeOrder.container?this.ticket.setContainerCorrect(!0):this.ticket.setContainerCorrect(!1),this.compareArrays(this.order.yogurts,this.froyo.completeOrder.yogurts)>0?this.ticket.setYogurtCorrect(!1):this.ticket.setYogurtCorrect(!0),this.compareArrays(this.order.toppings,this.froyo.completeOrder.toppings)>0?this.ticket.setToppingCorrect(!1):this.ticket.setToppingCorrect(!0)}},{key:"getNumberOfMistakes",value:function(){var e=0;return this.order.container[0]===this.froyo.completeOrder.container||e++,e+=this.compareArrays(this.order.yogurts,this.froyo.completeOrder.yogurts),e+=this.compareArrays(this.order.toppings,this.froyo.completeOrder.toppings)}},{key:"compareArrays",value:function(e,t){e=JSON.parse(JSON.stringify(e)),t=JSON.parse(JSON.stringify(t));for(var n=e.length-1;n>=0;n--)for(var r=e[n],o=t.length-1;o>=0;o--)if(r===t[o]){e.splice(n,1),t.splice(o,1);break}return Math.max(e.length,t.length)}},{key:"animateSpecial",value:function(){this.reactionBound=this.currentCustomer.on("reaction",this.customerReaction,this),this.completeBound=this.currentCustomer.on("complete",this.gotoCorrectOrderComplete,this),this.currentCustomer.gotoAndPlay("idleSpecial")}},{key:"customerReaction",value:function(){Rc("reaction-"+this.currentCustomer.name)}},{key:"gotoCorrectOrderComplete",value:function(){var e=this;cjs.Tween.get(this).wait(500).call((function(t){e.handleCorrectOrder()}))}},{key:"handleCorrectOrder",value:function(){var e=this;if(this.currentCustomer.off("reaction",this.reactionBound),this.currentCustomer.off("complete",this.completeBound),this.order.updateOrderComplete(),"donkey"===this.currentCustomer.name)Rc({id:"donkey-thank-1",start:function(){e.currentCustomer.gotoAndPlay("donkey-thank")},end:function(){e.currentCustomer.moveOffScreen().call(e.transitionToUnlock,null,e)}});else{var t=ce[this.currentCustomer.name+"Thank"].getNext(),n=this.currentCustomer.name+"-thank-"+t;Rc({id:n,start:function(){e.currentCustomer.gotoAndPlay(n)},end:function(){e.currentCustomer.moveOffScreen().call(e.transitionToUnlock,null,e)}})}this.froyo.container.setShadow(!1),cjs.Tween.get(this.froyo).to({y:this.froyo.y-50},250,cjs.Ease.cubicIn).call((function(t){var n=e.currentCustomer.getFroyoContainer(),r=e.froyo.parent.localToLocal(e.froyo.x,e.froyo.y,n);e.froyo.set({x:r.x,y:r.y,rotation:-e.currentCustomer.getArmContainer().rotation}),n.addChild(e.froyo);var o=e.froyo.scale,i=n;do{o/=i.scale,i=i.parent}while(i&&i!==e.currentCustomer.parent);e.froyo.scale=o,e.currentCustomer instanceof ps&&(e.froyo.scale-=.02),cjs.Tween.get(e.froyo).to({x:0,y:0,rotation:0},250,cjs.Ease.cubicOut)}))}},{key:"handleIncorrectOrder",value:function(){var e=this;this.numberOfAttempts++;var t=this.currentCustomer.name+"-wrong-order";Rc({id:t,start:function(){e.currentCustomer.gotoAndPlay(t)},end:function(){e.sendInClyde()}})}},{key:"sendInClyde",value:function(){var e=this;this.currentCustomer.gotoAndPlay("idle"),this.clyde.gotoAndStop("clyde-1");var t={id:"wrong-order-1",end:function(){e.clyde.moveToCenter().call((function(t){var n=e.froyo.parent.localToLocal(e.froyo.x,e.froyo.y,e.clyde);e.froyo.set({x:n.x,y:n.y}),e.clyde.addChild(e.froyo),e.froyo.container.setShadow(!1);var r=ce.clydeVO.getNext();Rc({id:r,start:function(){e.clyde.gotoAndPlay(r)},end:function(){e.clydePickupFroyo()}})}))}};Rc(t)}},{key:"clydePickupFroyo",value:function(){this.clyde.gotoAndPlay("scoop"),cjs.Tween.get(this.froyo).wait(1e3).call(this.handleClydeLeaving,null,this)}},{key:"handleClydeLeaving",value:function(){cjs.Tween.get(this.tweener).wait(500).call((function(e){Rc(ce.thankClyde.getNext())}));var e=this.clyde.moveOffScreenRight();e.wait(1e3),e.call(this.resetGame,null,this)}},{key:"transitionToUnlock",value:function(){var e=this;if(this.unlockJar&&0===this.numberOfIncorrect){var t=JSON.parse(localStorage.getItem("unlockedItems")),n=this.level.unlock.item;t.push(n),this.newUnlock=n,localStorage.setItem("unlockedItems",JSON.stringify(t)),this.ticket.hide();var r=this.donkey.moveOnScreen();this.unlockJar.moveOnScreen(),r.call((function(t){if(ce.heardUnlockTutorial){cjs.Tween.get(e.tweener).wait(1e4).call((function(t){e.unlockJar.setGlow(!0)}));var n=ce.jarVO.getNext();Rc({id:n,start:function(){e.donkey.gotoAndPlay(n),e.unlockJar.on("mousedown",e.revealUnlock,e)},end:function(){e.donkey.gotoAndPlay("idle")}})}else{ce.heardUnlockTutorial=!0;var r={id:"unlock-1",start:function(){e.donkey.gotoAndPlay("unlock-1")},end:function(){var t={id:"unlock-2",start:function(){e.donkey.gotoAndPlay("unlock-2")},end:function(){JSON.parse(localStorage.getItem("seenTapOnJar"))||e.unlockJar.setGlow(!0),localStorage.setItem("seenTapOnJar",JSON.stringify(!0)),Rc({id:"unlock-3",start:function(){e.donkey.gotoAndPlay("unlock-3"),e.unlockJar.on("mousedown",e.revealUnlock,e)},end:function(){e.donkey.gotoAndPlay("idle")}})}};Rc(t)}};Rc(r)}}))}else this.gotoNext()}},{key:"revealUnlock",value:function(){var e=this;cjs.Tween.removeTweens(this.tweener),this.unlockJar.setGlow(!1),this.unlockJar.removeAllEventListeners(),this.unlockJar.reveal().call((function(t){var n="make-"+e.level.unlock.item,r={id:n,start:function(){e.donkey.gotoAndPlay(n)},end:function(){var t=ce.unlockVO.getNext();Rc({id:t,start:function(){e.donkey.gotoAndPlay(t)},end:function(){e.gotoNext()}})}};Rc(r)}))}},{key:"resetGame",value:function(){var e=this;if(this.clyde.moveOffScreenLeft(),this.froyoStation.returnYogurtGroup(),this.containerStation.returnContainer(),this.froyo.set({x:20,y:95,scale:1}),this.froyo.reset(),this.addChildAt(this.froyo,this.getChildIndex(this.ticket)),2===this.numberOfAttempts){this.ticket.setActive(!1),this.setGameToFreeplay();var t=this.currentCustomer.name+"-surprise";Rc({id:t,start:function(){e.currentCustomer.gotoAndPlay(t)},end:function(){e.transitionToContainerStation()}})}else this.transitionToContainerStation()}},{key:"setGameToFreeplay",value:function(){this.level.freeplay=!0,this.ticket.setActive(!1),this.ticket.changeToFreeplay()}},{key:"gotoNext",value:function(e){var t=this;e&&e.currentTarget.removeAllEventListeners(),ce.currentUnlockMinigame=null,this.toppingStation.cleanup();var n=!1,r=JSON.parse(localStorage.getItem("minigameTracker"));2==++r&&(n=!0,r=0),localStorage.setItem("minigameTracker",JSON.stringify(r));var o=function(e){if(e){var n;do{switch(n=ce.forcedMinigames.getNext()){case"Refilling":0===ce.refillUnlocks.array.length&&(n=ce.lastMinigame);break;case"Slicing":0===ce.slicingUnlocks.array.length&&(n=ce.lastMinigame);break;case"Crushing":0===ce.crushingUnlocks.array.length&&(n=ce.lastMinigame)}}while(n===ce.lastMinigame);t.gotoScene(n)}else t.gotoScene("Game")};if(ce.currentLevel.unlock&&!ce.currentLevel.unlock.completed&&0===this.numberOfIncorrect)switch(ce.currentLevel.unlock.minigame){case"refill":ce.currentLevel.unlock.item?(ce.currentLevel.unlock.completed=!0,ce.currentUnlockMinigame=this.level.unlock,this.gotoScene("Refilling")):o(n);break;case"slice":ce.currentLevel.unlock.item?(ce.currentLevel.unlock.completed=!0,ce.currentUnlockMinigame=this.level.unlock,this.gotoScene("Slicing")):o(n);break;case"crush":ce.currentLevel.unlock.item?(ce.currentLevel.unlock.completed=!0,ce.currentUnlockMinigame=this.level.unlock,this.gotoScene("Crushing")):o(n);break;default:o(n)}else o(n)}},{key:"checkAndAdjustLevel",value:function(){this.level.gameComplete||ce.checkAndAdjustPlayerLevel(this.numberOfIncorrect)}},{key:"gotoScene",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Game";this.checkAndAdjustLevel(),pc.gotoScene(e)}},{key:"_tick",value:function(e){Os(Es(u.prototype),"_tick",this).call(this,e),this.tutorial||this.idleTimer.update(e.delta/1e3)}},{key:"handlePlayerIdle",value:function(){var e,t;switch(ce.currentState){case ce.STATE.CONTAINER:this.containerStation.currentSelected?(e=this.containerStation.continueBtn,t="instruction-9"):Rc("instruction-5");break;case ce.STATE.YOGURT:0===this.froyoStation.yogurtGroup.children.length?Rc("instruction-1"):(e=this.froyoStation.continueBtn,t="instruction-9");break;case ce.STATE.TOPPINGS:this.toppingStation.rightBtn&&this.toppingStation.rightBtn.visible&&!this.idleFlag?(this.idleFlag=!0,e=this.toppingStation.rightBtn,t="instruction-7"):this.toppingStation.continueBtn.visible&&(this.idleFlag=!1,e=this.toppingStation.continueBtn,t="instruction-9")}e&&e&&this.animateGlowAt(e,t,3e3,function(){}.bind(this))}},{key:"animateGlowAt",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};e.visible?(this.idleTimer.reset(),t&&Rc(t),e.setGlow(!0),cjs.Tween.get(this.tweener).wait(r).call((function(t){n.idleTimer.reset(),e.setGlow(!1),o()}))):e.setGlow(!1)}},{key:"end",value:function(){cjs.Tween.removeAllTweens(),this.destroy()}},{key:"destroy",value:function(){this.containerStation.destroy(),this.froyoStation.destroy(),this.toppingStation.destroy(),this.ticket.destroy(),this.clyde.removeAllEventListeners(),this.currentCustomer.removeAllEventListeners(),function e(t){if(t.children)for(var n=0;n<t.children.length;n++)e(t.children[n]);t._listeners&&t.removeAllEventListeners()}(this)}},{key:"test",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.toppingStation.set({x:0,y:0}),this.numberOfIncorrect=t,this.toppingStation.x=0,this.toppingStation.y=700,this.addChild(this.toppingStation),this.froyoStation.x=0,this.froyoStation.y=0,this.addChild(this.froyoStation),cjs.Tween.get(this).wait(1e3).call((function(t){e.transitionToUnlock()}))}}])&&Ss(t.prototype,n),o&&Ss(t,o),u}(Fe);function Rs(e){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function As(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Is(e,t){return(Is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ns(e);if(t){var o=Ns(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bs(this,n)}}function Bs(e,t){return!t||"object"!==Rs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ns(e){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ms=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Is(e,t)}(i,createjs.Container);var t,n,r,o=Ls(i);function i(e,t,n,r){var s,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];As(this,i),(s=o.call(this)).name="Pipe",s.isStraight=-1!=t.indexOf("straight"),s.spriteRotation=0,s.sprite=new cjs.Sprite(e,t),s.sprite.name="Pipe spritename "+t,s.sprite.set({regX:n/2,regY:r/2}),s.addChild(s.sprite);var c=s.sprite.getBounds();return c.width>n&&(s.sprite.regX+=c.width-n),c.height>r&&(s.sprite.regY+=c.height-r),a&&(s.glow=new Yt(e,"rotation_wheel-glow"),s.glow.center(),s.rotateSprite=new cjs.Sprite(e,"rotation-wheel"),s.rotateSprite.name="Rotate Sprite",s.rotateSprite.center(),s.addChild(s.glow,s.rotateSprite),s.spriteRotation=s.sprite.rotation=s.rotateSprite.rotation=s.randomizeRotation()),s.hitArea=new cjs.Shape,s.hitArea.graphics.beginFill("#ff0000"),s.hitArea.graphics.drawRect(-n/2,-r/2,n,r),s}return t=i,(n=[{key:"setGlow",value:function(e){e?this.glow.show():this.glow.hide()}},{key:"randomizeRotation",value:function(){return this.isStraight?90*(Math.random()<.5?1:3):90*Math.floor(Object(_t.d)(1,4))}},{key:"setActive",value:function(e){e?this.on("mousedown",this.rotate,this):this.removeAllEventListeners()}},{key:"rotate",value:function(){var e=this;this.spriteRotation+=90,this.mouseEnabled=!1,this.animateSprite(this.sprite).call((function(t){e.mouseEnabled=!0})),this.rotateSprite&&this.animateSprite(this.rotateSprite),this.spriteRotation>=360&&(this.spriteRotation=0),this.dispatchEvent("rotate",!0)}},{key:"animateSprite",value:function(e){return cjs.Tween.get(e).to({rotation:this.spriteRotation},250,cjs.Ease.cubicInOut).call((function(t){e.rotation>=360&&(e.rotation=0)}))}},{key:"checkRotationComplete",value:function(){return this.isStraight?0===this.spriteRotation||180===this.spriteRotation:0===this.spriteRotation}}])&&_s(t.prototype,n),r&&_s(t,r),i}();function Gs(e){return(Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fs(e,t){return(Fs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ys(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Js(e);if(t){var o=Js(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hs(this,n)}}function Hs(e,t){return!t||"object"!==Gs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Js(e){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Us=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fs(e,t)}(i,createjs.Container);var t,n,r,o=Ys(i);function i(e,t,n,r,s,a){var c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this)).rotateablePipes=[],c.tileWidth=t,c.tileHeight=n;for(var u=0,l=0,f=0,h=r.data.length;f<h;f++){var p=r.data[f],y=a.includes(f),d=void 0;0!==p&&(d=c.createTile(e,s,p,y),c.addChild(d),y&&c.rotateablePipes.push(d)),f>0&&f%r.width==0&&(u=0,l+=c.tileHeight),d&&(d.x=u,d.y=l),u+=c.tileWidth}return c}return t=i,(n=[{key:"setActive",value:function(e){this.rotateablePipes.forEach((function(t){t.setActive(e)}))}},{key:"createTile",value:function(e,t,n,r){var o=t.tiles[n-1].image;return o=o.split(".")[0],new Ms(e,o,this.tileWidth,this.tileHeight,r)}},{key:"checkComplete",value:function(){for(var e=0,t=0;t<this.rotateablePipes.length;t++)this.rotateablePipes[t].checkRotationComplete()&&e++;return e===this.rotateablePipes.length}},{key:"getIncompletePipes",value:function(){for(var e=[],t=0;t<this.rotateablePipes.length;t++)this.rotateablePipes[t].checkRotationComplete()||e.push(this.rotateablePipes[t]);return e}},{key:"setGlows",value:function(e){for(var t=0;t<this.rotateablePipes.length;t++)this.rotateablePipes[t].setGlow(e)}}])&&Ds(t.prototype,n),r&&Ds(t,r),i}(),Xs=n(28);function Ws(e){return(Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qs(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ks(e,t,n){return(Ks="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$s(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function zs(e,t){return(zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$s(e);if(t){var o=$s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qs(this,n)}}function Qs(e,t){return!t||"object"!==Ws(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $s(e){return($s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zs(e,t)}(u,e);var t,n,o,i,a,c=Zs(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this)).name="Refilling Minigame Scene",e.readyToPour=!1,e}return t=u,(n=[{key:"preload",value:(i=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce.loading.Shared){e.next=4;break}return ce.loading.Shared=!0,e.next=4,dc.load(r.Shared);case 4:if(ce.loading.Refilling){e.next=9;break}return ce.loading.Refilling=!0,e.abrupt("return",dc.load(r.Refilling));case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function s(e){qs(o,n,r,s,a,"next",e)}function a(e){qs(o,n,r,s,a,"throw",e)}s(void 0)}))},function(){return a.apply(this,arguments)})},{key:"build",value:function(){localStorage.setItem("minigameTracker",JSON.stringify(0)),ce.lastMinigame="Refilling";var e=new cjs.Bitmap(yc.get("RefillingBG"));e.name="Background",e.center();var t=ce.refillGameOrder.getNext(),n=[];switch(t){case 0:n.push(1,2,3,4,7,8,12);break;case 1:n.push(1,2,3,7,8,9,13,14);break;case 2:n.push(1,2,3,4,5,6,7,10,11,12);break;case 3:n.push(0,1,2,3,4,6,8,9,12,13)}(n=Object(oe.a)(n)).length=!1===ce.playedRefillGame?1:2,this.gameMap=new Us(yc.get("RefillingSS"),Xs.tilewidth,Xs.tileheight,Xs.layers[t],Xs.tilesets[0],n),this.gameMap.regX=-75,this.gameMap.regY=-75,this.gameMap.regX+=Xs.width*Xs.tilewidth/2,this.gameMap.regY+=Xs.height*Xs.tileheight/2,this.gameMap.set({name:"Pipe Map",x:-21,y:75});var r,o=0;switch(t){case 0:o=-160;break;case 1:o=140;break;case 2:o=-160;break;case 3:o=-10}switch(this.machine=new cjs.Sprite(yc.get("RefillingSS"),"sprinkle-machine-red"),this.machine.center(),this.machine.set({name:"Machine",x:o,y:-266}),ce.currentUnlockMinigame&&ce.currentUnlockMinigame.item?(this.bowlType=ce.currentUnlockMinigame.item,ce.refillUnlocks.add(this.bowlType)):this.bowlType=ce.refillUnlocks.getNext(),this.animation=null,this.bowlType){case s.CHIPS:r=yc.get("RefillingJar"),this.animation=new r.Chips,this.animation.set({name:"Chip Refill Animation",framerate:60,type:"jar"});break;case s.PEPPERMINTS:r=yc.get("RefillingJar"),this.animation=new r.Mints,this.animation.set({name:"Peppermints Refill Animation",framerate:60,type:"jar"});break;case s.SPRINKLES:r=yc.get("RefillingJar"),this.animation=new r.Sprinkles,this.animation.set({name:"Sprinkles Refill Animation",framerate:60,type:"jar"});break;case s.JELLYBEANS:r=yc.get("RefillingBowl"),this.animation=new r.JellyBeans,this.animation.set({name:"Jellybeans Bowl Refill Animation",framerate:60,type:"bowl"});break;case s.CEREAL:r=yc.get("RefillingBowl"),this.animation=new r.Cereal,this.animation.set({name:"Cereal Bowl Refill Animation",framerate:60,type:"bowl"});break;case s.CHOCOLATE:r=yc.get("RefillingJar"),this.animation=new r.Chocolate,this.animation.set({name:"Chocolate Syrup Refill Animation",framerate:60,type:"bottle"});break;case s.FLAPJACK:r=yc.get("RefillingJar"),this.animation=new r.Flapjack,this.animation.set({name:"Flapjack Syrup Refill Animation",framerate:60,type:"bottle"})}switch(this.animation.gotoAndStop(this.bowlType),t){case 0:"jar"===this.animation.type?(this.animation.x=284,this.animation.y=370):"bowl"===this.animation.type?(this.animation.x=274,this.animation.y=365):"bottle"===this.animation.type&&(this.animation.x=276,this.animation.y=471);break;case 1:"jar"===this.animation.type?(this.animation.x=-171,this.animation.y=374):"bowl"===this.animation.type?(this.animation.x=-181,this.animation.y=367):"bottle"===this.animation.type&&(this.animation.x=-178,this.animation.y=479);break;case 2:"jar"===this.animation.type?(this.animation.x=279,this.animation.y=375):"bowl"===this.animation.type?(this.animation.x=274,this.animation.y=365):"bottle"===this.animation.type&&(this.animation.x=271,this.animation.y=480);break;case 3:"jar"===this.animation.type?(this.animation.x=-324,this.animation.y=372):"bowl"===this.animation.type?(this.animation.x=-324,this.animation.y=369):"bottle"===this.animation.type&&(this.animation.x=-327,this.animation.y=482)}this.idlePrompter=new ss(this.help.bind(this),20),this.addChild(e,this.animation,this.gameMap,this.machine),this.mouseEnabled=!1,this.mouseChildren=!1,Ks($s(u.prototype),"build",this).call(this)}},{key:"setActive",value:function(e){this.gameMap.setActive(e),e?(this.gameMap.on("rotate",this.handleRotate,this),this.gameMap.on("mousedown",this.idlePrompter.reset,this.idlePrompter)):(this.gameMap.removeAllEventListeners(),this.animation.removeAllEventListeners(),this.machine.removeAllEventListeners()),Ks($s(u.prototype),"setActive",this).call(this,e)}},{key:"start",value:function(){var e,t=this;ce.playedRefillGame?(e="refill-1",this.mouseEnabled=!0,this.mouseChildren=!0):e="refill-1-alt",Rc(e,(function(){t._start(),t._playRefillType()})),ce.playedRefillGame=!0}},{key:"_start",value:function(){this.mouseEnabled=!0,this.mouseChildren=!0,this.idlePrompter.start()}},{key:"_playRefillType",value:function(){switch(this.animation.type){case"jar":Rc("refill-shaker");break;case"bowl":Rc("refill-bowl");break;case"bottle":Rc("refill-syrup")}}},{key:"handleRotate",value:function(e){this.gameMap.setGlows(!1);var t=this.gameMap.checkComplete();gc.play("rotate-pipe"),t&&(this.gameMap.setActive(!1),this.gameMap.removeAllEventListeners(),this.animateMachineFlash(),this.machine.on("mousedown",this.fillBowl,this),JSON.parse(localStorage.getItem("seenTapRefillMachine"))||(Rc("refill-3"),localStorage.setItem("seenTapRefillMachine",JSON.stringify(!0))),this.readyToPour=!0)}},{key:"animateMachineFlash",value:function(){var e=this;cjs.Tween.get(this.machine,{loop:-1}).call((function(t){gc.play("pip-button-green"),e.machine.gotoAndStop("sprinkle-machine-green")})).wait(500).call((function(t){e.machine.gotoAndStop("sprinkle-machine-red")})).wait(500)}},{key:"fillBowl",value:function(){switch(cjs.Tween.removeTweens(this.machine),this.machine.gotoAndStop("sprinkle-machine-green"),this.idlePrompter.stop(),this.machine.removeAllEventListeners(),this.bowlType){case s.JELLYBEANS:case s.PEPPERMINTS:case s.SPRINKLES:gc.play("machine-pour-candy-sprinkles");break;case s.CHIPS:case s.CEREAL:gc.play("machine-pour-chips");break;case s.CHOCOLATE:case s.FLAPJACK:gc.play("machine-pour-syrup")}this.humLoop=gc.play("machine-loop"),this.humLoop.loop=!0,this.animation.gotoAndPlay(this.bowlType),this.animation.on("complete",this.handleAnimationComplete,this)}},{key:"handleAnimationComplete",value:function(){var e=this;this.animation.removeAllEventListeners(),this.humLoop.stop(),Rc(ce.minigameVO.getNext(),(function(){cjs.Tween.get(e).wait(1e3).call(e.gotoGame,null,e)}))}},{key:"gotoGame",value:function(){pc.gotoScene("Game")}},{key:"help",value:function(){if(this.readyToPour)Rc("refill-3");else{for(var e=this.gameMap.getIncompletePipes(),t=0;t<e.length;t++)e[t].setGlow(!0);Rc("refill-2")}}},{key:"_tick",value:function(e){Ks($s(u.prototype),"_tick",this).call(this,e),this.idlePrompter&&this.idlePrompter.update(e.delta/1e3)}}])&&Vs(t.prototype,n),o&&Vs(t,o),u}(Fe);function ta(e,t,n){return(ta="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=la(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ia(e,t,n){return t&&oa(e.prototype,t),n&&oa(e,n),e}function sa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aa(e,t)}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=la(e);if(t){var o=la(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ua(this,n)}}function ua(e,t){return!t||"object"!==na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function la(e){return(la=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fa=function(e){sa(n,cjs.Container);var t=ca(n);function n(){var e;return ra(this,n),(e=t.call(this)).name="Loader",e.set({visible:!1,alpha:0}),e}return ia(n,[{key:"build",value:function(){var e=this,t=new cjs.Bitmap(yc.get("LoadingBG"));t.name="Background",t.center(),this.froyo=new cjs.Sprite(yc.get("LoadingSS"),"loading-froyo"),this.froyo.name="Froyo",this.froyo.center(),this.stars=new cjs.Container,this.stars.name="Star Container";var n=[],r=function(t){for(var r=0;r<6;r++){var o=new ha(yc.get("LoadingSS"),t,e.handleStarComplete.bind(e));o.name="Star",o.center(),n.push(o)}};r("loading-star-1"),r("loading-star-2"),n=Object(oe.a)(n);for(var o=[{x:21,y:-109,rotation:0},{x:-43,y:-84,rotation:0},{x:45,y:-54,rotation:0},{x:79,y:-93,rotation:0},{x:32,y:-153,rotation:0},{x:-47,y:-147,rotation:0},{x:-81,y:-99,rotation:0},{x:-36,y:-29,rotation:0},{x:14,y:-71,rotation:0},{x:-11,y:-120,rotation:0},{x:-11,y:-163,rotation:0},{x:65,y:-125,rotation:0}],i=0;i<n.length;i++){var s=n[i],a=o[i];s.set({x:a.x,y:a.y}),s.startPos=new cjs.Point(a.x,a.y),s.y=-hc.maxHeight/2-20,this.stars.addChild(s)}this.addChild(t,this.froyo,this.stars)}},{key:"animate",value:function(){for(var e=0;e<this.stars.children.length;e++){var t=this.stars.children[e];cjs.Tween.get(t).set({y:-hc.maxHeight/2-20,alpha:1},t).wait(500*e).call(t.play,null,t)}}},{key:"stopAnimation",value:function(){for(var e=0;e<this.stars.children.length;e++){var t=this.stars.children[e];cjs.Tween.removeTweens(t),t.y=-hc.maxHeight/2-20}}},{key:"resetStars",value:function(){for(var e,t=0;t<this.stars.children.length;t++){var n=this.stars.children[t];e=cjs.Tween.get(n).to({alpha:0},250)}e.call(this.animate,null,this)}},{key:"handleStarComplete",value:function(){for(var e=[],t=0;t<this.stars.children.length;t++){var n=this.stars.children[t];n.isComplete&&e.push(n)}this.stars.children.length===e.length&&this.resetStars()}},{key:"animateIn",value:function(){var e=this;return this.visible=!0,this.animate(),new Promise((function(t){createjs.Tween.get(e).to({alpha:1},500,createjs.Ease.cubicInOut).call(t)}))}},{key:"animateOut",value:function(){var e=this;return new Promise((function(t){e.alpha>0?createjs.Tween.get(e).to({alpha:0},500,createjs.Ease.cubicInOut).set({visible:!1}).call(e.stopAnimation,null,e).call(t):t()}))}}]),n}(),ha=function(e){sa(n,cjs.Sprite);var t=ca(n);function n(e,r,o){var i;return ra(this,n),(i=t.call(this,e,r)).startPos=new cjs.Point,i.isPlaying=!1,i.isComplete=!1,i.rotationDir=Math.random()<.5?1:-1,i.completeCallback=o,i}return ia(n,[{key:"play",value:function(){this.isComplete=!1,this.isPlaying=!0}},{key:"stop",value:function(){this.isComplete=!0,this.isPlaying=!1}},{key:"_tick",value:function(e){if(ta(la(n.prototype),"_tick",this).call(this,e),this.isPlaying){var t=e.delta/1e3;this.rotation+=50*this.rotationDir*t,this.y=Object(_t.b)(this.y,this.startPos.y,.5*t),this.y+=200*t,this.y>this.startPos.y&&(this.y=this.startPos.y,this.stop(),this.completeCallback())}}}]),n}(),pa=fa;function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e,t,n){return(ga="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wa(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ba(e,t){return(ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wa(e);if(t){var o=wa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ka(this,n)}}function ka(e,t){return!t||"object"!==ya(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ba(e,t)}(u,e);var t,n,o,i,a,c=va(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this)).name="Slicing Minigame Scene",e.foodToSlice=null,e.tracker=1,e.hasSliced=!1,e}return t=u,(n=[{key:"preload",value:(i=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce.loading.Shared){e.next=4;break}return ce.loading.Shared=!0,e.next=4,dc.load(r.Shared);case 4:if(ce.loading.Slicing){e.next=9;break}return ce.loading.Slicing=!0,e.abrupt("return",dc.load(r.Slicing));case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function s(e){da(o,n,r,s,a,"next",e)}function a(e){da(o,n,r,s,a,"throw",e)}s(void 0)}))},function(){return a.apply(this,arguments)})},{key:"build",value:function(){localStorage.setItem("minigameTracker",JSON.stringify(0)),ce.lastMinigame="Slicing";var e,t=new cjs.Bitmap(yc.get("SlicingBG"));t.name="Background",t.center(),ce.currentUnlockMinigame&&ce.currentUnlockMinigame.item?(e=ce.currentUnlockMinigame.item,ce.slicingUnlocks.add(e)):e=ce.slicingUnlocks.getNext(),this.foodToSlice=e;var n=new cjs.Container;n.name="Background Foods";var r=[],o=[];switch(e){case s.STRAWBERRIES:o.push(new cjs.Point(-338,159),new cjs.Point(349,142));for(var i=0;i<o.length;i++){var a=new cjs.Sprite(yc.get("SlicingSS"),"fruit-shadow");a.name="Shadow",a.center(),a.set({x:o[i].x,y:o[i].y}),n.addChild(a)}r.push({x:-291,y:45,scale:.6,rotation:-110},{x:-383,y:99,scale:.6,rotation:-150},{x:390,y:84,scale:.6,rotation:-35});for(var c=0;c<r.length;c++){var l=new cjs.Sprite(yc.get("SlicingSS"),"slicing-"+e);l.name="Food: "+e,l.center(),l.set({x:r[c].x,y:r[c].y,scale:r[c].scale,rotation:r[c].rotation}),n.addChild(l)}break;case s.PICKLES:o.push(new cjs.Point(-403,163),new cjs.Point(349,142));for(var f=0;f<o.length;f++){var h=new cjs.Sprite(yc.get("SlicingSS"),"fruit-shadow");h.name="Shadow",h.center(),h.set({x:o[f].x,y:o[f].y,scaleX:2}),n.addChild(h)}r.push(new cjs.Point(-273,55),new cjs.Point(-371,96),new cjs.Point(388,78));for(var p=0;p<3;p++){var y=new cjs.Sprite(yc.get("SlicingSS"),"slicing-"+e);y.name="Food: "+e,y.center(),y.set({x:r[p].x,y:r[p].y}),0===p&&(y.scaleX*=-1),n.addChild(y)}break;case s.BANANA:o.push(new cjs.Point(-507,211),new cjs.Point(505,173));for(var d=0;d<o.length;d++){var m=new cjs.Sprite(yc.get("SlicingSS"),"fruit-shadow");m.name="Shadow",m.center(),m.set({x:o[d].x,y:o[d].y,scaleX:1}),n.addChild(m)}r.push(new cjs.Point(-286,30),new cjs.Point(-557,90),new cjs.Point(454,51));for(var g=0;g<3;g++){var b=new cjs.Sprite(yc.get("SlicingSS"),"slicing-"+e);b.name="Food: "+e,b.center(),b.set({x:r[g].x,y:r[g].y}),0===g&&(b.scaleX*=-1),n.addChild(b)}break;case s.PEACHES:o.push(new cjs.Point(-492,169),new cjs.Point(464,158));for(var v=0;v<o.length;v++){var k=new cjs.Sprite(yc.get("SlicingSS"),"fruit-shadow");k.name="Shadow",k.center(),k.set({x:o[v].x,y:o[v].y,scaleX:1}),n.addChild(k)}r.push(new cjs.Point(-403,42),new cjs.Point(-527,62),new cjs.Point(467,50));for(var w=0;w<3;w++){var S=new cjs.Sprite(yc.get("SlicingSS"),"slicing-"+e);S.name="Food: "+e,S.center(),S.set({x:r[w].x,y:r[w].y}),S.scale=.7,0===w&&(S.scaleX*=-1),n.addChild(S)}}var O,j,C=yc.get("SlicingFood");switch(e){case s.STRAWBERRIES:this.animation=new C.Strawberry_Slice,this.animation.set({name:"Strawberries Slicing Animation",framerate:30});break;case s.PICKLES:this.animation=new C.Pickles_Slicing,this.animation.set({name:"Pickles Slicing Animation",framerate:30});break;case s.BANANA:this.animation=new C.Banana_Slice,this.animation.set({name:"Banana Slicing Animation",framerate:30});break;case s.PEACHES:this.animation=new C.Peach_Slicing,this.animation.set({name:"Peaches Slicing Animation",framerate:30})}this.animation.gotoAndStop(e);var P=0;switch(e){case s.STRAWBERRIES:O=450,j=300,P=125;break;case s.PICKLES:O=700,j=250,P=150;break;case s.BANANA:O=620,j=250,P=150;break;case s.PEACHES:O=720,j=300,P=110}var T=new cjs.Shape;T.graphics.beginFill("#ff0000"),T.graphics.drawRect(0,0,O,j),T.setBounds(0,0,O,j),T.center(),T.alpha=.1,T.y=P,this.animation.hitArea=T,this.addChild(t,n,this.animation),ga(wa(u.prototype),"build",this).call(this)}},{key:"setActive",value:function(e){e?(this.animation.on("mousedown",this.handleMousedown,this),this.animation.on("stop",this.handleStop,this),this.animation.on("complete",this.handleComplete,this)):this.animation.removeAllEventListeners(),ga(wa(u.prototype),"setActive",this).call(this,e)}},{key:"start",value:function(){var e=this;Rc("slice-1",(function(){if(!e.hasSliced&&!JSON.parse(localStorage.getItem("seenTapToSlice"))){Rc("slice-2"),localStorage.setItem("seenTapToSlice",JSON.stringify(!0)),e.animation.gotoAndStop(e.foodToSlice+"Glow");var t=e.animation.children[2];t.alpha=0,cjs.Tween.get(t,{loop:-1}).to({alpha:1},1e3).to({alpha:0},1e3)}}))}},{key:"handleMousedown",value:function(e){if(!this.hasSliced){var t=this.animation.children[2];cjs.Tween.removeTweens(t),cjs.Tween.get(t).to({alpha:0},1e3)}this.hasSliced=!0,this.animation.mouseEnabled=!1,gc.play(ce.chopSFX.getNext()),this.animation.gotoAndPlay(this.foodToSlice+this.tracker),this.tracker++}},{key:"handleStop",value:function(e){this.animation.mouseEnabled=!0}},{key:"handleComplete",value:function(e){var t=this;this.setActive(!1),Rc(ce.minigameVO.getNext(),(function(){cjs.Tween.get(t).wait(1500).call(t.gotoGame,null,t)}))}},{key:"gotoGame",value:function(){pc.gotoScene("Game")}}])&&ma(t.prototype,n),o&&ma(t,o),u}(Fe);function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ca(e,t){return(Ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ea(e);if(t){var o=Ea(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ta(this,n)}}function Ta(e,t){return!t||"object"!==Oa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ea(e){return(Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ca(e,t)}(i,cjs.Container);var t,n,r,o=Pa(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).name="Food to Crush: "+e,n.type=e,n.maxStateNumber=t,n.state=1,n.currentOverState=!1,n.sprite=new cjs.Sprite(yc.get("CrushingSS"),"crushing-"+n.type+"-"+n.state),n.sprite.center(),n.addChild(n.sprite),n}return t=i,(n=[{key:"needsCrushing",value:function(e){var t=!1;return e?this.currentOverState||(this.currentOverState=!0,t=this.crush()):this.currentOverState=!1,t}},{key:"crush",value:function(){return this.state!==this.maxStateNumber&&(gc.play(ce.crushSFX.getNext()),this.state++,this.sprite.gotoAndStop("crushing-"+this.type+"-"+this.state),!0)}},{key:"isComplete",value:function(){return this.state>=this.maxStateNumber/1.5}}])&&ja(t.prototype,n),r&&ja(t,r),i}();function Ra(e){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(e,t){return(_a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ba(e);if(t){var o=Ba(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return La(this,n)}}function La(e,t){return!t||"object"!==Ra(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ba(e){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_a(e,t)}(i,cjs.Container);var t,n,r,o=Ia(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="Rolling Pin",e.triggers=[],e.minImageNum=1,e.maxImageNum=10,e.imageNum=e.minImageNum,e.distanceTrigger=10,e.previousPoint=new cjs.Point,e.currentPoint=new cjs.Point,e.glow=new Yt(yc.get("CrushingSS"),"rolling-pin-1-glow"),e.glow.center(),e.glow.set({x:0,y:0}),e.pin=new cjs.Sprite(yc.get("CrushingSS"),"rolling-pin-"+e.imageNum),e.pin.center(),e.addChild(e.glow,e.pin);for(var t=e.pin.getBounds().width/2-150,n=0;n<9;n++){var r=Wn();r.x=50*n-t,r.alpha=0,e.triggers.push(r),e.addChild(r)}return e}return t=i,(n=[{key:"setGlow",value:function(e){e?this.glow.show():this.glow.hide()}},{key:"handleMouseDown",value:function(){this.grabbed=!0;var e=this.parent.globalToLocal(hc.stage.mouseX,hc.stage.mouseY);this.previousPoint=e,this.offset={x:this.x-e.x,y:this.y-e.y}}},{key:"handlePressmove",value:function(){if(this.grabbed){var e=this.parent.globalToLocal(hc.stage.mouseX,hc.stage.mouseY);this.currentPoint=e,this.set({x:e.x+this.offset.x,y:e.y+this.offset.y}),this.x=Object(_t.c)(this.x,-400,400),this.y=Object(_t.c)(this.y,-300,300),Object(_t.a)(this.previousPoint,this.currentPoint)>=this.distanceTrigger&&(this.currentPoint.x>this.previousPoint.x||this.currentPoint.y>this.previousPoint.y?(this.imageNum++,this.imageNum>this.maxImageNum&&(this.imageNum=this.minImageNum)):(this.imageNum--,this.imageNum<this.minImageNum&&(this.imageNum=this.maxImageNum)),this.pin.gotoAndStop("rolling-pin-"+this.imageNum),this.previousPoint=this.currentPoint)}}},{key:"handlePressup",value:function(){this.grabbed=!1}}])&&Aa(t.prototype,n),r&&Aa(t,r),i}();function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fa(e,t,n){return(Fa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xa(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ya(e,t){return(Ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xa(e);if(t){var o=Xa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ja(this,n)}}function Ja(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?Ua(e):t}function Ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xa(e){return(Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ya(e,t)}(u,e);var t,n,o,i,a,c=Ha(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this)).name="Crushing Minigame Scene",e.point1=new cjs.Point,e.point2=new cjs.Point,e.crushDistance=mc.mobile?50:30,e.gameComplete=!1,e.grabbed=!1,e.dragManager=new ao(hc.stage,e.handleDragStart.bind(Ua(e)),e.handleDragEnd.bind(Ua(e)),e.clickStickStart.bind(Ua(e)),e.clickStickEnd.bind(Ua(e))),e.idleTimer=new ss(e.handleIdle.bind(Ua(e)),10),e}return t=u,(n=[{key:"preload",value:(i=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce.loading.Shared){e.next=4;break}return ce.loading.Shared=!0,e.next=4,dc.load(r.Shared);case 4:if(ce.loading.Crushing){e.next=9;break}return ce.loading.Crushing=!0,e.abrupt("return",dc.load(r.Crushing));case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function s(e){Ga(o,n,r,s,a,"next",e)}function a(e){Ga(o,n,r,s,a,"throw",e)}s(void 0)}))},function(){return a.apply(this,arguments)})},{key:"build",value:function(){var e=this;localStorage.setItem("minigameTracker",JSON.stringify(0)),ce.lastMinigame="Crushing";var t,n=new cjs.Bitmap(yc.get("CrushingBG"));n.center(),this.rollingPin=new Na,this.rollingPin.set({x:-250,y:-200,rotation:-25}),this.foodsToCrush=new cjs.Container,this.foodsToCrush.name="Foods to Crush",ce.currentUnlockMinigame&&ce.currentUnlockMinigame.item?(t=ce.currentUnlockMinigame.item,ce.crushingUnlocks.add(t),t!==s.PEPPERMINTS&&t!==s.CHIPS||ce.refillUnlocks.add(t)):t=ce.crushingUnlocks.getNext(),t||(t=s.PEPPERMINTS);for(var r=function(t,n){for(var r=!1,o=t.getBounds(),i=Math.max(o.width,o.height)-20,s=0;s<e.foodsToCrush.children.length;s++){var a=e.foodsToCrush.children[s],c=new cjs.Point(a.x,a.y);Object(_t.a)(c,n)<=i&&(r=!0)}return r},o=[[-401,120],[20,-270],[400,-269],[401,265],[-401,266]],i=0;i<10;i++){var a=new xa(t,4),c=void 0,l=0;do{if(c=this.getRandomPosition(),++l>100){do{c=this.getRandomPosition()}while(1===Xn()(o,[c.x,c.y]));break}}while(1===Xn()(o,[c.x,c.y])||r(a,c));a.set({x:c.x,y:c.y,rotation:Object(_t.d)(-360,360)}),this.foodsToCrush.addChild(a)}this.addChild(n,this.foodsToCrush,this.rollingPin),Fa(Xa(u.prototype),"build",this).call(this),this.ready=!0}},{key:"getRandomPosition",value:function(){var e=Object(_t.d)(-350,350),t=Object(_t.d)(-225,225);return new cjs.Point(e,t)}},{key:"setActive",value:function(e){this.mouseEnabled=e,this.mouseChildren=e,e?mc.mobile?(this.on("mousedown",this.handleMobileMousedown,this),this.on("pressmove",this.handleMobilePressmove,this),this.on("pressup",this.handleMobilePressup,this)):(this.dragManager.setActive(!0),this.dragManager.addEventsToObject(this.rollingPin)):mc.mobile?this.removeAllEventListeners():(this.dragManager.removeEventsFromObject(this.rollingPin),this.rollingPin.removeAllEventListeners(),this.dragManager.setActive(!1)),Fa(Xa(u.prototype),"setActive",this).call(this,e)}},{key:"start",value:function(){var e=this;Rc("crush-1",(function(){Rc("crush-2",(function(){e.idleTimer.start()})),e.grabbed||JSON.parse(localStorage.getItem("seenCrushTutorial"))||e.rollingPin.setGlow(!0)}))}},{key:"handleDragStart",value:function(e){this.rollingPin.setGlow(!1),this.grabbed=!0,this.idleTimer.reset(),this.rollingPin.handleMouseDown()}},{key:"handleDragEnd",value:function(e){this.grabbed=!1,this.idleTimer.reset(),this.rollingPin.handlePressup()}},{key:"clickStickStart",value:function(e){this.rollingPin.setGlow(!1),this.grabbed=!0,this.idleTimer.reset(),this.rollingPin.handleMouseDown()}},{key:"clickStickEnd",value:function(e){this.grabbed=!1,this.idleTimer.reset(),this.rollingPin.handlePressup()}},{key:"handleMobileMousedown",value:function(e){this.rollingPin.setGlow(!1),this.grabbed=!0,this.mobileSetPosition(e)}},{key:"handleMobilePressmove",value:function(e){this.mobileSetPosition(e)}},{key:"handleMobilePressup",value:function(e){this.grabbed=!1}},{key:"mobileSetPosition",value:function(e){this.globalToLocal(e.stageX,e.stageY,this.point1),this.rollingPin.set({x:this.point1.x,y:this.point1.y})}},{key:"_tick",value:function(e){if(Fa(Xa(u.prototype),"_tick",this).call(this,e),this.ready){for(var t=0;t<this.foodsToCrush.children.length;t++){for(var n=this.foodsToCrush.children[t],r=!1,o=0;o<this.rollingPin.triggers.length;o++){var i=this.rollingPin.triggers[o];if(this.point1=i.parent.localToGlobal(i.x,i.y),this.point2=n.parent.localToGlobal(n.x,n.y),Object(_t.a)(this.point1,this.point2)<=this.crushDistance){r=!0;break}}n.needsCrushing(r)&&this.idleTimer.reset()}this.idleTimer.update(e.delta/1e3),this.rollingPin.handlePressmove(),this.checkComplete()&&!this.gameComplete&&this.handleComplete()}}},{key:"checkComplete",value:function(){for(var e=0,t=0;t<this.foodsToCrush.children.length;t++)this.foodsToCrush.children[t].isComplete()&&e++;return e===this.foodsToCrush.children.length}},{key:"handleComplete",value:function(){var e=this;this.gameComplete=!0,Rc(ce.minigameVO.getNext(),(function(){cjs.Tween.get(e).wait(500).call(e.gotoGame,null,e)}))}},{key:"handleIdle",value:function(){var e=this;this.gameComplete=!0,this.idleTimer.stop(),Rc(ce.minigameVO.getNext(),(function(){cjs.Tween.get(e).wait(500).call(e.gotoGame,null,e)}))}},{key:"gotoGame",value:function(){pc.gotoScene("Game")}}])&&Da(t.prototype,n),o&&Da(t,o),u}(Fe),qa=n(136);n(333);function Va(e,t){e.newItem=t}function Ka(e,t,n,r){t.forEach((function(t){e.containers.push(t)})),n.forEach((function(t){e.yogurts.push(t)})),r.forEach((function(t){e.toppings.push(t)}))}function za(e,t){e.unlock.item=t}var Za=function(){var e,t,n=[s.CUP,s.WAFFLECONE],r=[s.VANILLA,s.BERRY],i=[s.CHOCOLATE,s.SPRINKLES,s.BANANA],a=[s.CONE,s.WAFFLEBOWL],c=[s.BIRTHDAY,s.RAINBOW,s.MINT,s.MANGO],u=[s.STRAWBERRIES,s.PEACHES,s.PICKLES],l=[s.CHIPS,s.PEPPERMINTS],f=[s.JELLYBEANS,s.FLAPJACK,s.CEREAL];Ka(e=o.Level2,n,r,i),t=(u=Object(oe.a)(u)).shift(),i.unshift(t),za(e,t),Ka(e=o.Level3,n,r,i),Va(e,t),t=(c=Object(oe.a)(c)).shift(),r.push(t),za(e,t),Ka(e=o.Level4,n,r,i),Va(e,t),t=(l=Object(oe.a)(l)).shift(),i.unshift(t),za(e,t),Ka(e=o.Level5,n,r,i),Va(e,t),t=(a=Object(oe.a)(a)).shift(),n.push(t),za(e,t),Ka(e=o.Level6,n,r,i),Va(e,t),t=(f=Object(oe.a)(f)).shift(),i.unshift(t),za(e,t),Ka(e=o.Level7,n,r,i),Va(e,t),t=(c=Object(oe.a)(c)).shift(),r.push(t),za(e,t),Ka(e=o.Level8,n,r,i),Va(e,t),t=(u=Object(oe.a)(u)).shift(),i.unshift(t),za(e,t),Ka(e=o.Level9,n,r,i),Va(e,t),t=(c=Object(oe.a)(c)).shift(),r.push(t),za(e,t),Ka(e=o.Level10,n,r,i),Va(e,t),t=(f=Object(oe.a)(f)).shift(),i.unshift(t),za(e,t),Ka(e=o.Level11,n,r,i),Va(e,t),t=(a=Object(oe.a)(a)).shift(),n.push(t),za(e,t),Ka(e=o.Level12,n,r,i),Va(e,t),t=(f=Object(oe.a)(f)).shift(),i.unshift(t),za(e,t),Ka(e=o.Level13,n,r,i),Va(e,t),t=(c=Object(oe.a)(c)).shift(),r.push(t),za(e,t),Ka(e=o.Level14,n,r,i),Va(e,t),t=(l=Object(oe.a)(l)).shift(),i.unshift(t),za(e,t),Ka(e=o.Level15,n,r,i),Va(e,t),Ka(e=o.Level16,n,r,i),t=(u=Object(oe.a)(u)).shift(),i.unshift(t),za(e,t),Ka(e=o.Level17,n,r,i),Va(e,t)};function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tc(e,t){return(tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oc(e);if(t){var o=oc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rc(this,n)}}function rc(e,t){return!t||"object"!==Qa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oc(e){return(oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ic=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}(i,e);var t,n,r,o=nc(i);function i(){return $a(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"preUnloadScene",value:function(e,t){bc.stop(),bc.removeAllEventListeners(),xc(),gc.stop(),gc.removeAllEventListeners(),kc.stop(),cjs.Tween.removeAllTweens()}},{key:"postUnloadScene",value:function(e,t){cjs.Tween.removeTweens(e),cjs.Tween.removeTweens(t)}}])&&ec(t.prototype,n),r&&ec(t,r),i}(z);function sc(e){return(sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ac(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function cc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){ac(i,r,o,s,a,"next",e)}function a(e){ac(i,r,o,s,a,"throw",e)}s(void 0)}))}}a.a.uses(new qa.a);var uc=1,lc=null,fc=new a.a({features:{captions:!0,sound:!0,vo:!0,music:!0,sfx:!0}});fc.state.captionsMuted.subscribe((function(e){console.log("Are captions muted?",e);var t=document.getElementById("captions");t.style.display=e?"none":"block"})),fc.state.soundVolume.subscribe((function(e){console.log("soundVolume Between 0-1",e),cjs.Sound.volume=e,uc=e})),fc.state.musicVolume.subscribe((function(e){console.log("musicVolume Between 0-1",e),vc.masterVolume=e})),fc.state.voVolume.subscribe((function(e){console.log("voVolume Between 0-1",e),bc.masterVolume=e})),fc.state.sfxVolume.subscribe((function(e){console.log("sfxVolume Between 0-1",e),gc.masterVolume=e})),fc.state.pause.subscribe((function(e){console.log("Is the game paused?",e),hc.setPaused(e),e?(cjs.Sound.volume=0,bc.pause()):(cjs.Sound.volume=uc,bc.resume(),hc.resize())})),fc.state.ready.subscribe((function(e){!function(){Cc.apply(this,arguments)}()}));var hc=new V("gameContainer","gameCanvas",{safeWidth:1024,safeHeight:768,maxWidth:1664,maxHeight:768},(function(e){kc.update(e)})),pc=new ee,yc=new v,dc=new B(yc),mc=new M,gc=(new re((function(e){e?(hc.setPaused(!1),lc&&vc.play(lc),cjs.Sound.volume=uc,bc.resume(),gc.resume(),function(){try{var e=createjs.Sound.activePlugin.context;if(e)switch(e.state){case"running":return void console.log("audio context running");case"suspended":case"interrupted":console.log("AudioContext is: "+e.state+". Resuming...");var t=e.resume();t&&t.catch((function(e){createjs.WebAudioPlugin._unlocked=!1,createjs.WebAudioPlugin.isSupported()}))}}catch(e){console.log("Error when trying to check for a WebAudioAPI Interruption")}}()):(lc=vc.instanceName,vc.stop(),cjs.Sound.volume=0,bc.pause(),gc.pause(),hc.setPaused(!0))})),new ue.a),bc=new le.a,vc=new fe.a,kc=new a.b(i,new g(document.getElementById("captions")));var wc,Sc={Game:new X("Game",.5,.5),Transition:new X("Transition",.5,.5)},Oc=new pa;function jc(){var e=new cjs.Text(" ","20px Arial","#ff0000");e.set(-5e3,-5e3),hc.stage.addChild(e),setTimeout((function(){hc.stage.removeChild(e)}),5e3)}function Cc(){return(Cc=cc(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec(),ce.setup(),cjs.LoadItem.LOAD_TIMEOUT_DEFAULT=6e4,cjs.Sound.registerPlugins([cjs.WebAudioPlugin,cjs.HTMLAudioPlugin]),cjs.Sound.alternateExtensions=["mp3"],createjs.Touch.isSupported()?(document.ontouchstart=function(e){e.preventDefault()},document.ontouchmove=function(e){e.preventDefault()},cjs.Touch.enable(hc.stage,!0)):hc.stage.enableMouseOver(8),jc(),e.next=9,dc.load(r.Preload);case 9:Oc.build(),pc.addPlugin(new ic),Pc(),Tc(),xc(),Za(),pc.gotoScene("Title");case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pc(){for(var e in Sc)hc.stage.addChild(Sc[e]);hc.resize()}function Tc(){pc.registerScene("Title",_e),pc.registerScene("Game",xs),pc.registerScene("Refilling",ea),pc.registerScene("Slicing",Sa),pc.registerScene("Crushing",Wa),pc.setMainLayer(Sc.Game),pc.setTransitionLayer(Oc,Sc.Transition)}function Ec(){localStorage.clear(),localStorage.getItem("playerLevel")||localStorage.setItem("playerLevel",JSON.stringify(1));for(var e=["unlockedItems","orderedItems"],t=0;t<e.length;t++)localStorage.getItem(e[t])||localStorage.setItem(e[t],JSON.stringify([]));for(var n=["freeplayTracker","minigameTracker"],r=0;r<n.length;r++)localStorage.getItem(n[r])||localStorage.setItem(n[r],JSON.stringify(0));for(var o=["seenTapRefillMachine"],i=0;i<o.length;i++)localStorage.getItem(o[i])||localStorage.setItem(o[i],JSON.stringify(!1))}function xc(){bc.on("play",(function(e){kc.start(e.audioID)}))}function Rc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e=Array.isArray(e)?e:[e];var n=0;wc=t;var o=function(){var t=cc(regeneratorRuntime.mark((function t(i){var s,a,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="string"==typeof i?i:i.id,a=r.VO.find((function(e){return e.id===s})),t.next=4,dc.load([a]);case 4:c="object"===sc(i)&&i.start?i.start:function(){},u="object"===sc(i)&&i.end?i.end:function(){},createjs.Tween.get(bc).set({volume:1},bc).wait("object"===sc(i)&&i.delay||1).call((function(){c();var t=bc.play(s);t.on("complete",(function(){t.removeAllEventListeners(),u(),n<e.length?o(e[n++]):wc()}))}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Ac(),o(e[n++])}function Ac(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];createjs.Tween.removeTweens(bc),bc.stop(e)}},65:function(e){e.exports=JSON.parse('{"Preload":[{"id":"SharedSS","src":"assets/images/shared-ss.json","type":"spritesheet"},{"id":"LoadingBG","src":"assets/images/loading-bg.jpg"},{"id":"LoadingSS","src":"assets/images/loading-ss.json","type":"spritesheet"},{"id":"click-1","src":"assets/audio/sfx/click-1.mp3"}],"Shared":[{"id":"ParticlesSS","src":"assets/images/particles-ss.json","type":"spritesheet"}],"Title":[{"id":"TitleBG","src":"assets/images/title-bg.jpg"},{"id":"froyo-bg-music-loop","src":"assets/audio/music/froyo-bg-music-loop.mp3"}],"Intro":[],"Game":[{"id":"GameBG","src":"assets/images/game-bg.jpg"},{"id":"GameSS","src":"assets/images/game-ss.json","type":"spritesheet"},{"id":"UISS","src":"assets/images/ui-ss.json","type":"spritesheet"},{"id":"DonkeyAnim","src":"assets/animations/donkey.js","type":"flash"},{"id":"IntroAnim","src":"assets/animations/intro.js","type":"flash"},{"id":"ClydeAnim","src":"assets/animations/clyde.js","type":"flash"},{"id":"froyo-stand-1","src":"assets/images/froyo-stand/froyo-stand-1.png"},{"id":"froyo-stand-2","src":"assets/images/froyo-stand/froyo-stand-2.png"},{"id":"froyo-stand-3","src":"assets/images/froyo-stand/froyo-stand-3.png"},{"id":"froyo-stand-4","src":"assets/images/froyo-stand/froyo-stand-4.png"},{"id":"froyo-stand-5","src":"assets/images/froyo-stand/froyo-stand-5.png"},{"id":"froyo-stand-6","src":"assets/images/froyo-stand/froyo-stand-6.png"},{"id":"froyo-stand-7","src":"assets/images/froyo-stand/froyo-stand-7.png"},{"id":"froyo-stand-8","src":"assets/images/froyo-stand/froyo-stand-8.png"},{"id":"froyo-stand-9","src":"assets/images/froyo-stand/froyo-stand-9.png"},{"id":"froyo-stand-10","src":"assets/images/froyo-stand/froyo-stand-10.png"},{"id":"froyo-stand-11","src":"assets/images/froyo-stand/froyo-stand-11.png"},{"id":"froyo-stand-12","src":"assets/images/froyo-stand/froyo-stand-12.png"},{"id":"froyo-stand-13","src":"assets/images/froyo-stand/froyo-stand-13.png"},{"id":"froyo-stand-14","src":"assets/images/froyo-stand/froyo-stand-14.png"},{"id":"froyo-stand-15","src":"assets/images/froyo-stand/froyo-stand-15.png"},{"id":"froyo-stand-16","src":"assets/images/froyo-stand/froyo-stand-16.png"},{"id":"froyo-stand-17","src":"assets/images/froyo-stand/froyo-stand-17.png"},{"id":"froyo-stand-18","src":"assets/images/froyo-stand/froyo-stand-18.png"},{"id":"froyo-stand-19","src":"assets/images/froyo-stand/froyo-stand-19.png"},{"id":"froyo-stand-20","src":"assets/images/froyo-stand/froyo-stand-20.png"},{"id":"froyo-stand-21","src":"assets/images/froyo-stand/froyo-stand-21.png"},{"id":"froyo-stand-22","src":"assets/images/froyo-stand/froyo-stand-22.png"},{"id":"froyo-stand-23","src":"assets/images/froyo-stand/froyo-stand-23.png"},{"id":"froyo-stand-24","src":"assets/images/froyo-stand/froyo-stand-24.png"},{"id":"froyo-stand-25","src":"assets/images/froyo-stand/froyo-stand-25.png"},{"id":"froyo-stand-26","src":"assets/images/froyo-stand/froyo-stand-26.png"},{"id":"froyo-stand-27","src":"assets/images/froyo-stand/froyo-stand-27.png"},{"id":"froyo-stand-28","src":"assets/images/froyo-stand/froyo-stand-28.png"},{"id":"froyo-stand-29","src":"assets/images/froyo-stand/froyo-stand-29.png"},{"id":"froyo-stand-30","src":"assets/images/froyo-stand/froyo-stand-30.png"},{"id":"froyo-stand-31","src":"assets/images/froyo-stand/froyo-stand-31.png"},{"id":"froyo-stand-32","src":"assets/images/froyo-stand/froyo-stand-32.png"},{"id":"froyo-stand-33","src":"assets/images/froyo-stand/froyo-stand-33.png"},{"id":"froyo-stand-34","src":"assets/images/froyo-stand/froyo-stand-34.png"},{"id":"froyo-stand-35","src":"assets/images/froyo-stand/froyo-stand-35.png"},{"id":"froyo-stand-36","src":"assets/images/froyo-stand/froyo-stand-36.png"},{"id":"froyo-stand-37","src":"assets/images/froyo-stand/froyo-stand-37.png"},{"id":"froyo-stand-38","src":"assets/images/froyo-stand/froyo-stand-38.png"},{"id":"froyo-stand-39","src":"assets/images/froyo-stand/froyo-stand-39.png"},{"id":"froyo-stand-40","src":"assets/images/froyo-stand/froyo-stand-40.png"},{"id":"intro-1","src":"assets/audio/vo/donkey/intro-1.mp3"},{"id":"intro-2-alt","src":"assets/audio/vo/donkey/intro-2-alt.mp3"},{"id":"intro-3","src":"assets/audio/vo/donkey/intro-3.mp3"},{"id":"intro-4","src":"assets/audio/vo/donkey/intro-4.mp3"},{"id":"reaction-bob","src":"assets/audio/vo/bob/reaction-bob.mp3"},{"id":"reaction-donkey","src":"assets/audio/vo/donkey/reaction-donkey.mp3"},{"id":"reaction-duck","src":"assets/audio/vo/duck/reaction-duck.mp3"},{"id":"reaction-grampy","src":"assets/audio/vo/grampy/reaction-grampy.mp3"},{"id":"reaction-purple","src":"assets/audio/vo/purple/reaction-purple.mp3"}],"SFX":[{"id":"camera-motion-1","src":"assets/audio/sfx/camera-motion-1.mp3"},{"id":"camera-motion-2","src":"assets/audio/sfx/camera-motion-2.mp3"},{"id":"camera-motion-3","src":"assets/audio/sfx/camera-motion-3.mp3"},{"id":"checkmark-1","src":"assets/audio/sfx/checkmark-1.mp3"},{"id":"checkmark-2","src":"assets/audio/sfx/checkmark-2.mp3"},{"id":"checkmark-3","src":"assets/audio/sfx/checkmark-3.mp3"},{"id":"checkmark-fail","src":"assets/audio/sfx/checkmark-fail.mp3"},{"id":"circle","src":"assets/audio/sfx/circle.mp3"},{"id":"customer-slide-in","src":"assets/audio/sfx/customer-slide-in.mp3"},{"id":"customer-slide-out","src":"assets/audio/sfx/customer-slide-out.mp3"},{"id":"food-item-despawn","src":"assets/audio/sfx/food-item-despawn.mp3"},{"id":"food-item-spawn","src":"assets/audio/sfx/food-item-spawn.mp3"},{"id":"froyo-lose","src":"assets/audio/sfx/froyo-lose.mp3"},{"id":"froyo-pour","src":"assets/audio/sfx/froyo-pour.mp3"},{"id":"froyo-win","src":"assets/audio/sfx/froyo-win.mp3"},{"id":"grab-topping","src":"assets/audio/sfx/grab-topping.mp3"},{"id":"place-topping","src":"assets/audio/sfx/place-topping.mp3"},{"id":"shaker-topping","src":"assets/audio/sfx/shaker-topping.mp3"},{"id":"speech-bubble-appear","src":"assets/audio/sfx/speech-bubble-appear.mp3"},{"id":"syrup-pour","src":"assets/audio/sfx/syrup-pour.mp3"},{"id":"topping-shift","src":"assets/audio/sfx/topping-shift.mp3"},{"id":"unlock-topping","src":"assets/audio/sfx/unlock-topping.mp3"}],"VO":[{"id":"title-1-alt","src":"assets/audio/vo/donkey/title-1-alt.mp3"},{"id":"title-1","src":"assets/audio/vo/donkey/title-1.mp3"},{"id":"encourage-1","src":"assets/audio/vo/donkey/encourage-1.mp3"},{"id":"encourage-2","src":"assets/audio/vo/donkey/encourage-2.mp3"},{"id":"encourage-3","src":"assets/audio/vo/donkey/encourage-3.mp3"},{"id":"encourage-4","src":"assets/audio/vo/donkey/encourage-4.mp3"},{"id":"encourage-5","src":"assets/audio/vo/donkey/encourage-5.mp3"},{"id":"encourage-6","src":"assets/audio/vo/donkey/encourage-6.mp3"},{"id":"encourage-7","src":"assets/audio/vo/donkey/encourage-7.mp3"},{"id":"clyde-1","src":"assets/audio/vo/clyde/clyde-1.mp3"},{"id":"clyde-2","src":"assets/audio/vo/clyde/clyde-2.mp3"},{"id":"clyde-3","src":"assets/audio/vo/clyde/clyde-3.mp3"},{"id":"deliver-1","src":"assets/audio/vo/donkey/deliver-1.mp3"},{"id":"deliver-2","src":"assets/audio/vo/donkey/deliver-2.mp3"},{"id":"deliver-3","src":"assets/audio/vo/donkey/deliver-3.mp3"},{"id":"deliver-4","src":"assets/audio/vo/donkey/deliver-4.mp3"},{"id":"freeplay-1","src":"assets/audio/vo/donkey/freeplay-1.mp3"},{"id":"freeplay-2","src":"assets/audio/vo/donkey/freeplay-2.mp3"},{"id":"instruction-1","src":"assets/audio/vo/donkey/instruction-1.mp3"},{"id":"instruction-2","src":"assets/audio/vo/donkey/instruction-2.mp3"},{"id":"instruction-3","src":"assets/audio/vo/donkey/instruction-3.mp3"},{"id":"instruction-4","src":"assets/audio/vo/donkey/instruction-4.mp3"},{"id":"instruction-5","src":"assets/audio/vo/donkey/instruction-5.mp3"},{"id":"instruction-6","src":"assets/audio/vo/donkey/instruction-6.mp3"},{"id":"instruction-7","src":"assets/audio/vo/donkey/instruction-7.mp3"},{"id":"instruction-8","src":"assets/audio/vo/donkey/instruction-8.mp3"},{"id":"instruction-9","src":"assets/audio/vo/donkey/instruction-9.mp3"},{"id":"instruction-10","src":"assets/audio/vo/donkey/instruction-10.mp3"},{"id":"instruction-11","src":"assets/audio/vo/donkey/instruction-11.mp3"},{"id":"intro-1","src":"assets/audio/vo/donkey/intro-1.mp3"},{"id":"intro-2-alt","src":"assets/audio/vo/donkey/intro-2-alt.mp3"},{"id":"intro-3","src":"assets/audio/vo/donkey/intro-3.mp3"},{"id":"intro-4","src":"assets/audio/vo/donkey/intro-4.mp3"},{"id":"make-1-alt","src":"assets/audio/vo/donkey/make-1-alt.mp3"},{"id":"make-and","src":"assets/audio/vo/donkey/make-and.mp3"},{"id":"make-banana","src":"assets/audio/vo/donkey/make-banana.mp3"},{"id":"make-berry","src":"assets/audio/vo/donkey/make-berry.mp3"},{"id":"make-birthday","src":"assets/audio/vo/donkey/make-birthday.mp3"},{"id":"make-cereal","src":"assets/audio/vo/donkey/make-cereal.mp3"},{"id":"make-chips","src":"assets/audio/vo/donkey/make-chips.mp3"},{"id":"make-chocolate","src":"assets/audio/vo/donkey/make-chocolate.mp3"},{"id":"make-cone","src":"assets/audio/vo/donkey/make-cone.mp3"},{"id":"make-cup","src":"assets/audio/vo/donkey/make-cup.mp3"},{"id":"make-flapjack","src":"assets/audio/vo/donkey/make-flapjack.mp3"},{"id":"make-jellybeans","src":"assets/audio/vo/donkey/make-jellybeans.mp3"},{"id":"make-mango","src":"assets/audio/vo/donkey/make-mango.mp3"},{"id":"make-mint","src":"assets/audio/vo/donkey/make-mint.mp3"},{"id":"make-peaches","src":"assets/audio/vo/donkey/make-peaches.mp3"},{"id":"make-peppermints","src":"assets/audio/vo/donkey/make-peppermints.mp3"},{"id":"make-pickles","src":"assets/audio/vo/donkey/make-pickles.mp3"},{"id":"make-rainbow","src":"assets/audio/vo/donkey/make-rainbow.mp3"},{"id":"make-sprinkles","src":"assets/audio/vo/donkey/make-sprinkles.mp3"},{"id":"make-strawberries","src":"assets/audio/vo/donkey/make-strawberries.mp3"},{"id":"make-vanilla","src":"assets/audio/vo/donkey/make-vanilla.mp3"},{"id":"make-wafflebowl","src":"assets/audio/vo/donkey/make-wafflebowl.mp3"},{"id":"make-wafflecone","src":"assets/audio/vo/donkey/make-wafflecone.mp3"},{"id":"next-alt-1","src":"assets/audio/vo/donkey/next-alt-1.mp3"},{"id":"next-alt","src":"assets/audio/vo/donkey/next-alt.mp3"},{"id":"next-bob","src":"assets/audio/vo/donkey/next-bob.mp3"},{"id":"next-duck","src":"assets/audio/vo/donkey/next-duck.mp3"},{"id":"next-grampy","src":"assets/audio/vo/donkey/next-grampy.mp3"},{"id":"next-purple","src":"assets/audio/vo/donkey/next-purple.mp3"},{"id":"next","src":"assets/audio/vo/donkey/next.mp3"},{"id":"try-again-2","src":"assets/audio/vo/donkey/try-again-2.mp3"},{"id":"try-again-3","src":"assets/audio/vo/donkey/try-again-3.mp3"},{"id":"try-again-4","src":"assets/audio/vo/donkey/try-again-4.mp3"},{"id":"try-again-alt","src":"assets/audio/vo/donkey/try-again-alt.mp3"},{"id":"try-again","src":"assets/audio/vo/donkey/try-again.mp3"},{"id":"unlock-1","src":"assets/audio/vo/donkey/unlock-1.mp3"},{"id":"unlock-2","src":"assets/audio/vo/donkey/unlock-2.mp3"},{"id":"unlock-3","src":"assets/audio/vo/donkey/unlock-3.mp3"},{"id":"unlock-4","src":"assets/audio/vo/donkey/unlock-4.mp3"},{"id":"unlock-5","src":"assets/audio/vo/donkey/unlock-5.mp3"},{"id":"wrong-order-1","src":"assets/audio/vo/donkey/wrong-order-1.mp3"},{"id":"wrong-order-2","src":"assets/audio/vo/donkey/wrong-order-2.mp3"},{"id":"donkey-freeplay","src":"assets/audio/vo/donkey/donkey-freeplay.mp3"},{"id":"donkey-thank-1","src":"assets/audio/vo/donkey/donkey-thank-1.mp3"},{"id":"bob-and","src":"assets/audio/vo/bob/bob-and.mp3"},{"id":"bob-banana","src":"assets/audio/vo/bob/bob-banana.mp3"},{"id":"bob-berry","src":"assets/audio/vo/bob/bob-berry.mp3"},{"id":"bob-birthday","src":"assets/audio/vo/bob/bob-birthday.mp3"},{"id":"bob-cereal","src":"assets/audio/vo/bob/bob-cereal.mp3"},{"id":"bob-chips","src":"assets/audio/vo/bob/bob-chips.mp3"},{"id":"bob-chocolate","src":"assets/audio/vo/bob/bob-chocolate.mp3"},{"id":"bob-cone","src":"assets/audio/vo/bob/bob-cone.mp3"},{"id":"bob-cup","src":"assets/audio/vo/bob/bob-cup.mp3"},{"id":"bob-flapjack","src":"assets/audio/vo/bob/bob-flapjack.mp3"},{"id":"bob-freeplay","src":"assets/audio/vo/bob/bob-freeplay.mp3"},{"id":"bob-jellybeans","src":"assets/audio/vo/bob/bob-jellybeans.mp3"},{"id":"bob-mango","src":"assets/audio/vo/bob/bob-mango.mp3"},{"id":"bob-mint","src":"assets/audio/vo/bob/bob-mint.mp3"},{"id":"bob-peaches","src":"assets/audio/vo/bob/bob-peaches.mp3"},{"id":"bob-peppermints","src":"assets/audio/vo/bob/bob-peppermints.mp3"},{"id":"bob-pickles","src":"assets/audio/vo/bob/bob-pickles.mp3"},{"id":"bob-please","src":"assets/audio/vo/bob/bob-please.mp3"},{"id":"bob-rainbow","src":"assets/audio/vo/bob/bob-rainbow.mp3"},{"id":"bob-sprinkles","src":"assets/audio/vo/bob/bob-sprinkles.mp3"},{"id":"bob-strawberries","src":"assets/audio/vo/bob/bob-strawberries.mp3"},{"id":"bob-thank-1","src":"assets/audio/vo/bob/bob-thank-1.mp3"},{"id":"bob-thank-2","src":"assets/audio/vo/bob/bob-thank-2.mp3"},{"id":"bob-vanilla","src":"assets/audio/vo/bob/bob-vanilla.mp3"},{"id":"bob-wafflebowl","src":"assets/audio/vo/bob/bob-wafflebowl.mp3"},{"id":"bob-wafflecone","src":"assets/audio/vo/bob/bob-wafflecone.mp3"},{"id":"bob-with","src":"assets/audio/vo/bob/bob-with.mp3"},{"id":"bob-wrong-order","src":"assets/audio/vo/bob/bob-wrong-order.mp3"},{"id":"bob-surprise","src":"assets/audio/vo/bob/bob-surprise.mp3"},{"id":"duck-and","src":"assets/audio/vo/duck/duck-and.mp3"},{"id":"duck-banana","src":"assets/audio/vo/duck/duck-banana.mp3"},{"id":"duck-berry","src":"assets/audio/vo/duck/duck-berry.mp3"},{"id":"duck-birthday","src":"assets/audio/vo/duck/duck-birthday.mp3"},{"id":"duck-cereal","src":"assets/audio/vo/duck/duck-cereal.mp3"},{"id":"duck-chips","src":"assets/audio/vo/duck/duck-chips.mp3"},{"id":"duck-chocolate","src":"assets/audio/vo/duck/duck-chocolate.mp3"},{"id":"duck-cone","src":"assets/audio/vo/duck/duck-cone.mp3"},{"id":"duck-cup","src":"assets/audio/vo/duck/duck-cup.mp3"},{"id":"duck-flapjack","src":"assets/audio/vo/duck/duck-flapjack.mp3"},{"id":"duck-freeplay","src":"assets/audio/vo/duck/duck-freeplay.mp3"},{"id":"duck-jellybeans","src":"assets/audio/vo/duck/duck-jellybeans.mp3"},{"id":"duck-mango","src":"assets/audio/vo/duck/duck-mango.mp3"},{"id":"duck-mint","src":"assets/audio/vo/duck/duck-mint.mp3"},{"id":"duck-peaches","src":"assets/audio/vo/duck/duck-peaches.mp3"},{"id":"duck-peppermints","src":"assets/audio/vo/duck/duck-peppermints.mp3"},{"id":"duck-pickles","src":"assets/audio/vo/duck/duck-pickles.mp3"},{"id":"duck-please","src":"assets/audio/vo/duck/duck-please.mp3"},{"id":"duck-rainbow","src":"assets/audio/vo/duck/duck-rainbow.mp3"},{"id":"duck-sprinkles","src":"assets/audio/vo/duck/duck-sprinkles.mp3"},{"id":"duck-strawberries","src":"assets/audio/vo/duck/duck-strawberries.mp3"},{"id":"duck-thank-1","src":"assets/audio/vo/duck/duck-thank-1.mp3"},{"id":"duck-thank-2","src":"assets/audio/vo/duck/duck-thank-2.mp3"},{"id":"duck-vanilla","src":"assets/audio/vo/duck/duck-vanilla.mp3"},{"id":"duck-wafflebowl","src":"assets/audio/vo/duck/duck-wafflebowl.mp3"},{"id":"duck-wafflecone","src":"assets/audio/vo/duck/duck-wafflecone.mp3"},{"id":"duck-with","src":"assets/audio/vo/duck/duck-with.mp3"},{"id":"duck-wrong-order","src":"assets/audio/vo/duck/duck-wrong-order.mp3"},{"id":"duck-surprise","src":"assets/audio/vo/duck/duck-surprise.mp3"},{"id":"grampy-and","src":"assets/audio/vo/grampy/grampy-and.mp3"},{"id":"grampy-banana","src":"assets/audio/vo/grampy/grampy-banana.mp3"},{"id":"grampy-berry","src":"assets/audio/vo/grampy/grampy-berry.mp3"},{"id":"grampy-birthday","src":"assets/audio/vo/grampy/grampy-birthday.mp3"},{"id":"grampy-cereal","src":"assets/audio/vo/grampy/grampy-cereal.mp3"},{"id":"grampy-chips","src":"assets/audio/vo/grampy/grampy-chips.mp3"},{"id":"grampy-chocolate","src":"assets/audio/vo/grampy/grampy-chocolate.mp3"},{"id":"grampy-cone","src":"assets/audio/vo/grampy/grampy-cone.mp3"},{"id":"grampy-cup","src":"assets/audio/vo/grampy/grampy-cup.mp3"},{"id":"grampy-flapjack","src":"assets/audio/vo/grampy/grampy-flapjack.mp3"},{"id":"grampy-freeplay","src":"assets/audio/vo/grampy/grampy-freeplay.mp3"},{"id":"grampy-jellybeans","src":"assets/audio/vo/grampy/grampy-jellybeans.mp3"},{"id":"grampy-mango","src":"assets/audio/vo/grampy/grampy-mango.mp3"},{"id":"grampy-mint","src":"assets/audio/vo/grampy/grampy-mint.mp3"},{"id":"grampy-peaches","src":"assets/audio/vo/grampy/grampy-peaches.mp3"},{"id":"grampy-peppermints","src":"assets/audio/vo/grampy/grampy-peppermints.mp3"},{"id":"grampy-pickles","src":"assets/audio/vo/grampy/grampy-pickles.mp3"},{"id":"grampy-please","src":"assets/audio/vo/grampy/grampy-please.mp3"},{"id":"grampy-rainbow","src":"assets/audio/vo/grampy/grampy-rainbow.mp3"},{"id":"grampy-sprinkles","src":"assets/audio/vo/grampy/grampy-sprinkles.mp3"},{"id":"grampy-strawberries","src":"assets/audio/vo/grampy/grampy-strawberries.mp3"},{"id":"grampy-thank-1","src":"assets/audio/vo/grampy/grampy-thank-1.mp3"},{"id":"grampy-thank-2","src":"assets/audio/vo/grampy/grampy-thank-2.mp3"},{"id":"grampy-vanilla","src":"assets/audio/vo/grampy/grampy-vanilla.mp3"},{"id":"grampy-wafflebowl","src":"assets/audio/vo/grampy/grampy-wafflebowl.mp3"},{"id":"grampy-wafflecone","src":"assets/audio/vo/grampy/grampy-wafflecone.mp3"},{"id":"grampy-with","src":"assets/audio/vo/grampy/grampy-with.mp3"},{"id":"grampy-wrong-order","src":"assets/audio/vo/grampy/grampy-wrong-order.mp3"},{"id":"grampy-surprise","src":"assets/audio/vo/grampy/grampy-surprise.mp3"},{"id":"purple-and","src":"assets/audio/vo/purple/purple-and.mp3"},{"id":"purple-banana","src":"assets/audio/vo/purple/purple-banana.mp3"},{"id":"purple-berry","src":"assets/audio/vo/purple/purple-berry.mp3"},{"id":"purple-birthday","src":"assets/audio/vo/purple/purple-birthday.mp3"},{"id":"purple-cereal","src":"assets/audio/vo/purple/purple-cereal.mp3"},{"id":"purple-chips","src":"assets/audio/vo/purple/purple-chips.mp3"},{"id":"purple-chocolate","src":"assets/audio/vo/purple/purple-chocolate.mp3"},{"id":"purple-cone","src":"assets/audio/vo/purple/purple-cone.mp3"},{"id":"purple-cup","src":"assets/audio/vo/purple/purple-cup.mp3"},{"id":"purple-flapjack","src":"assets/audio/vo/purple/purple-flapjack.mp3"},{"id":"purple-freeplay","src":"assets/audio/vo/purple/purple-freeplay.mp3"},{"id":"purple-jellybeans","src":"assets/audio/vo/purple/purple-jellybeans.mp3"},{"id":"purple-mango","src":"assets/audio/vo/purple/purple-mango.mp3"},{"id":"purple-mint","src":"assets/audio/vo/purple/purple-mint.mp3"},{"id":"purple-peaches","src":"assets/audio/vo/purple/purple-peaches.mp3"},{"id":"purple-peppermints","src":"assets/audio/vo/purple/purple-peppermints.mp3"},{"id":"purple-pickles","src":"assets/audio/vo/purple/purple-pickles.mp3"},{"id":"purple-please","src":"assets/audio/vo/purple/purple-please.mp3"},{"id":"purple-rainbow","src":"assets/audio/vo/purple/purple-rainbow.mp3"},{"id":"purple-sprinkles","src":"assets/audio/vo/purple/purple-sprinkles.mp3"},{"id":"purple-strawberries","src":"assets/audio/vo/purple/purple-strawberries.mp3"},{"id":"purple-thank-1","src":"assets/audio/vo/purple/purple-thank-1.mp3"},{"id":"purple-thank-2","src":"assets/audio/vo/purple/purple-thank-2.mp3"},{"id":"purple-vanilla","src":"assets/audio/vo/purple/purple-vanilla.mp3"},{"id":"purple-wafflebowl","src":"assets/audio/vo/purple/purple-wafflebowl.mp3"},{"id":"purple-wafflecone","src":"assets/audio/vo/purple/purple-wafflecone.mp3"},{"id":"purple-with","src":"assets/audio/vo/purple/purple-with.mp3"},{"id":"purple-wrong-order","src":"assets/audio/vo/purple/purple-wrong-order.mp3"},{"id":"purple-surprise","src":"assets/audio/vo/purple/purple-surprise.mp3"},{"id":"refill-1-alt","src":"assets/audio/vo/donkey/refill-1-alt.mp3"},{"id":"refill-1","src":"assets/audio/vo/donkey/refill-1.mp3"},{"id":"refill-2","src":"assets/audio/vo/donkey/refill-2.mp3"},{"id":"refill-3","src":"assets/audio/vo/donkey/refill-3.mp3"},{"id":"refill-bowl","src":"assets/audio/vo/donkey/refill-bowl.mp3"},{"id":"refill-shaker","src":"assets/audio/vo/donkey/refill-shaker.mp3"},{"id":"refill-syrup","src":"assets/audio/vo/donkey/refill-syrup.mp3"},{"id":"crush-1","src":"assets/audio/vo/donkey/crush-1.mp3"},{"id":"crush-2","src":"assets/audio/vo/donkey/crush-2.mp3"},{"id":"slice-1","src":"assets/audio/vo/donkey/slice-1.mp3"},{"id":"slice-2","src":"assets/audio/vo/donkey/slice-2.mp3"},{"id":"reaction-bob","src":"assets/audio/vo/bob/reaction-bob.mp3"},{"id":"reaction-donkey","src":"assets/audio/vo/donkey/reaction-donkey.mp3"},{"id":"reaction-duck","src":"assets/audio/vo/duck/reaction-duck.mp3"},{"id":"reaction-grampy","src":"assets/audio/vo/grampy/reaction-grampy.mp3"},{"id":"reaction-purple","src":"assets/audio/vo/purple/reaction-purple.mp3"}],"Bob":[{"id":"BobAnim","src":"assets/animations/bob.js","type":"flash"}],"Duck":[{"id":"DuckAnim","src":"assets/animations/duck.js","type":"flash"}],"Grampy":[{"id":"GrampyAnim","src":"assets/animations/grampy.js","type":"flash"}],"Purple":[{"id":"PurpleAnim","src":"assets/animations/purple.js","type":"flash"}],"Refilling":[{"id":"RefillingBG","src":"assets/images/refilling-bg.jpg"},{"id":"RefillingSS","src":"assets/images/refilling-ss.json","type":"spritesheet"},{"id":"RefillingBowl","src":"assets/animations/refilling-bowl.js","type":"flash"},{"id":"RefillingJar","src":"assets/animations/refilling-jar.js","type":"flash"},{"id":"machine-loop","src":"assets/audio/sfx/machine-loop.mp3"},{"id":"machine-pour-candy-sprinkles","src":"assets/audio/sfx/machine-pour-candy-sprinkles.mp3"},{"id":"machine-pour-chips","src":"assets/audio/sfx/machine-pour-chips.mp3"},{"id":"machine-pour-syrup","src":"assets/audio/sfx/machine-pour-syrup.mp3"},{"id":"pip-button-green","src":"assets/audio/sfx/pip-button-green.mp3"},{"id":"rotate-pipe","src":"assets/audio/sfx/rotate-pipe.mp3"}],"Crushing":[{"id":"CrushingBG","src":"assets/images/crushing-bg.jpg"},{"id":"CrushingSS","src":"assets/images/crushing-ss.json","type":"spritesheet"},{"id":"crush-chips-1","src":"assets/audio/sfx/crush-chips-1.mp3"},{"id":"crush-chips-2","src":"assets/audio/sfx/crush-chips-2.mp3"},{"id":"crush-chips-3","src":"assets/audio/sfx/crush-chips-3.mp3"},{"id":"crush-chips-4","src":"assets/audio/sfx/crush-chips-4.mp3"}],"Slicing":[{"id":"SlicingBG","src":"assets/images/slicing-bg.jpg"},{"id":"SlicingSS","src":"assets/images/slicing-ss.json","type":"spritesheet"},{"id":"SlicingFood","src":"assets/animations/slicing.js","type":"flash"},{"id":"chop-fruit-1","src":"assets/audio/sfx/chop-fruit-1.mp3"},{"id":"chop-fruit-2","src":"assets/audio/sfx/chop-fruit-2.mp3"},{"id":"chop-fruit-3","src":"assets/audio/sfx/chop-fruit-3.mp3"}],"Test":[{"id":"test","src":"assets/images/test.png"}]}')}});