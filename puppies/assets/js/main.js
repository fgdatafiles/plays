!function(){"use strict";var a=include("springroll.State"),b=function(b,c){function d(){if(s.app.display.width/s.app.display.height<4/3)ss.puppyquest.ScaleHelper.widthBuffer=s.scaling.size.width,ss.puppyquest.ScaleHelper.heightBuffer=s.scaling.size.height,ss.puppyquest.ScaleHelper.ballOffset=s.scaling.size.width/2-u;else if(s.app.display.width/s.app.display.height>16/9)ss.puppyquest.ScaleHelper.widthBuffer=s.scaling.size.maxWidth,ss.puppyquest.ScaleHelper.heightBuffer=s.scaling.size.height,ss.puppyquest.ScaleHelper.ballOffset=s.scaling.size.maxWidth/2-u;else{var a=s.scaling.size.height*(s.app.display.width/s.app.display.height);ss.puppyquest.ScaleHelper.widthBuffer=a,ss.puppyquest.ScaleHelper.heightBuffer=s.scaling.size.height,ss.puppyquest.ScaleHelper.ballOffset=a/2-u}}function e(){s.app.on("update",s.update),s.app.on("resize",d),r=new createjs.Container,o=new ss.puppyquest.LevelManager,o.start(ss.puppyquest.currentLevel,s.app),o.addEndLevelCallBack(g),o.addExitCallback(h),r.addChild(o),s.panel.addChild(r),s.scaling.addItem(o),d()}function f(){s.app.off("update",s.update),s.app.off("resize",d),r.removeChild(o),s.panel.removeChild(r),s.scaling.removeItem(r),o.destroy(),o=void 0,p=void 0,q=void 0,r=void 0;var a;switch(ss.puppyquest.currentLevel){case 1:a=s.app.config.assets.Level1Assets;break;case 2:a=s.app.config.assets.Level2Assets;break;case 3:a=s.app.config.assets.Level3Assets;break;case 4:a=s.app.config.assets.Level4Assets;break;default:a=s.app.config.assets.LevelDefaultAssets}ss.puppyquest.AssetHelper.unload(a)}function g(){switch(ss.puppyquest.currentLevel){case 1:ss.puppyquest.SiteCommunicationManager.unlockAward(45),ss.puppyquest.SiteCommunicationManager.setStorageValue("Level2",!1);break;case 2:ss.puppyquest.SiteCommunicationManager.unlockAward(46),ss.puppyquest.SiteCommunicationManager.setStorageValue("Level3",!1);break;case 3:ss.puppyquest.SiteCommunicationManager.unlockAward(47),ss.puppyquest.SiteCommunicationManager.setStorageValue("Level4",!1);break;case 4:return void(t||(t=!0,ss.puppyquest.SiteCommunicationManager.unlockAward(48),ss.puppyquest.SiteCommunicationManager.sendAnalyticsEvent("PuppyQuest_Gameplay","Level_Completed","Level_Num",ss.puppyquest.currentLevel),i()))}ss.puppyquest.SiteCommunicationManager.sendAnalyticsEvent("PuppyQuest_Gameplay","Level_Completed","Level_Num",ss.puppyquest.currentLevel),s.nextState()}function h(){s.nextState()}function i(){s.app.sound.stopAll();var a=new createjs.Shape,b=a.graphics;b.beginFill("black").drawRect(0,0,1024,768),s.panel.addChild(a),p=document.createElement("video"),p.className="outroVideo";var c=document.createElement("source");n(c,"videos/PuppyExtro","mp4"),p.appendChild(c),p.setAttribute("width",1024),p.setAttribute("height",768),p.setAttribute("controls",""),document.getElementById("content").appendChild(p),p.play(),p.addEventListener("ended",m,!1),q=document.createElement("img"),q.className="videoCloseButton";var d=!1;try{window.top.Device&&(d=!0)}catch(e){}d&&(q.style.left="10px"),q.setAttribute("src","images/global/btn_skip.png"),document.getElementById("content").appendChild(q),q.addEventListener("click",l),s.app.on("paused",j),s.app.on("resumed",k)}function j(){p.pause()}function k(){p.play()}function l(){m()}function m(){s.app.off("paused",j),s.app.off("resumed",k),p.removeEventListener("ended",m),q.removeEventListener("click",m),document.getElementById("content").removeChild(p),document.getElementById("content").removeChild(q),p=void 0,q=void 0;var a=!1;try{window.top.Device&&(a=!0)}catch(b){}t=!1,s.nextState()}function n(a,b,c){a.setAttribute("src",b+"."+c),a.setAttribute("type","video/"+c)}a.call(this,b,c);var o,p,q,r,s=this,t=!1,u=30;s.enter=function(){e()},s.exitStart=function(){f()},s.exit=function(){},s.update=function(a){var b=a/1e3;o.handleUpdate(b)}};extend(b,a);namespace("PuppyQuest").GameState=b}(),function(){"use strict";var a=include("springroll.State"),b=function(b,c){function d(){r.app.hints.enabled=!1,r.app.music="music-levelselect-loop",r.panel.stage.enableMouseOver(),k=new createjs.Container,l=ss.puppyquest.AssetHelper.getBitmap("LevelScreen"),m=ss.puppyquest.AssetHelper.getBitmap("LevelBtn1"),m.mouseEnabled=!0,m.addEventListener("mousedown",e),m.cursor="pointer",x=ss.puppyquest.SiteCommunicationManager.getStorageValue("Level2"),x===!1?(n=ss.puppyquest.AssetHelper.getBitmap("LevelBtn2"),n.mouseEnabled=!0,n.addEventListener("mousedown",f),n.cursor="pointer"):n=ss.puppyquest.AssetHelper.getBitmap("LevelBtn2Lock"),y=ss.puppyquest.SiteCommunicationManager.getStorageValue("Level3"),y===!1?(o=ss.puppyquest.AssetHelper.getBitmap("LevelBtn3"),o.mouseEnabled=!0,o.addEventListener("mousedown",g),o.cursor="pointer"):o=ss.puppyquest.AssetHelper.getBitmap("LevelBtn3Lock"),z=ss.puppyquest.SiteCommunicationManager.getStorageValue("Level4"),z===!1?(p=ss.puppyquest.AssetHelper.getBitmap("LevelBtn4"),p.mouseEnabled=!0,p.addEventListener("mousedown",h),p.cursor="pointer"):p=ss.puppyquest.AssetHelper.getBitmap("LevelBtn4Lock"),m.x=t.x,m.y=t.y,n.x=u.x,n.y=u.y,o.x=v.x,o.y=v.y,p.x=w.x,p.y=w.y,k.addChild(l),k.addChild(m),k.addChild(n),k.addChild(o),k.addChild(p),k.regX=s,r.panel.addChild(k),r.scaling.addItem(k)}function e(){r.panel.removeChild(k),r.scaling.removeItem(k),q=1,r.app.sound.play("sfx-level-select"),i(q)}function f(){r.panel.removeChild(k),r.scaling.removeItem(k),q=2,r.app.sound.play("sfx-level-select"),i(q)}function g(){r.panel.removeChild(k),r.scaling.removeItem(k),q=3,r.app.sound.play("sfx-level-select"),i(q)}function h(){r.panel.removeChild(k),r.scaling.removeItem(k),q=4,r.app.sound.play("sfx-level-select"),i(q)}function i(a){r.app.music=void 0,ss.puppyquest.currentLevel=a,r.nextState()}function j(){m.removeEventListener("mousedown",e),n.removeEventListener("mousedown",f),o.removeEventListener("mousedown",g),p.removeEventListener("mousedown",h),k.removeChild(l),k.removeChild(m),k.removeChild(n),k.removeChild(o),k.removeChild(p),r.panel.removeChild(k),r.scaling.removeItem(k),k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,x=void 0,y=void 0,z=void 0,A=void 0;var a=r.app.config.assets.MenuAssets;ss.puppyquest.AssetHelper.unload(a)}a.call(this,b,c);var k,l,m,n,o,p,q,r=this,s=150,t=new ss.Vector2(485,20),u=new ss.Vector2(770,100),v=new ss.Vector2(485,320),w=new ss.Vector2(770,400),x=!1,y=!1,z=!1,A=!0;r.enterDone=function(){d()},r.exit=function(){j()}};extend(b,a);namespace("PuppyQuest").MenuState=b}(),function(){"use strict";var a=include("springroll.State"),b=function(b,c){function d(){h=0,j=new createjs.Container,k=ss.puppyquest.AssetHelper.getBitmap("LoadingScreen"),j.regX=m,j.addChild(k),i=l.app.config.assets.MenuAssets.assets.length;var a=l.app.config.assets.MenuAssets.assets;l.app.load(a,{complete:g,progress:f,cacheAll:!0}),l.panel.addChild(j),l.scaling.addItem(j),l.app.sound.unloadAll(),l.app.voPlayer.unloadSound()}function e(){h=void 0,i=void 0}function f(){h++}function g(){l.nextState()}a.call(this,b,c);var h,i,j,k,l=this,m=150;l.enter=function(){d()},l.exitStart=function(){e()},l.exit=function(){l.panel.removeChild(j),l.scaling.removeItem(j),j.removeChild(k),j=void 0,k=void 0}};extend(b,a);namespace("PuppyQuest").MenuLoadState=b}(),function(){"use strict";var a=include("springroll.State"),b=function(b,c){function d(){p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,y=void 0,z=void 0,u=void 0,v=void 0,w=void 0}function e(){p=0,q=x.app.config.assets.Global.assets.length;var a=x.app.config.assets.Global.assets;x.app.load(a,{complete:g,progress:f,cacheAll:!0})}function f(){p++}function g(){h()}function h(){p=0,q=x.app.config.assets.MenuAssets.assets.length;var a=x.app.config.assets.MenuAssets.assets;x.app.load(a,{complete:i,progress:f,cacheAll:!0})}function i(){x.app.sound.play("music-intro-sting"),s=ss.puppyquest.AssetHelper.getBitmap("Tittle_Screen"),ss.puppyquest.VoManager.playTitleVo(),t=ss.puppyquest.AssetHelper.getBitmap("Play_Button"),t.x=y.x,t.y=y.y,r.addChild(s),r.addChild(t),r.regX=z,x.panel.addChild(r),x.scaling.addItem(r),t.mouseEnabled=!0,t.addEventListener("mousedown",j)}function j(){r.removeChild(s),r.removeChild(t),x.panel.removeChild(r),x.scaling.removeItem(r),x.app.sound.play("sfx-button-play"),x.app.sound.stop("music-intro-sting");var a=new createjs.Shape,b=a.graphics;b.beginFill("black").drawRect(0,0,1024,768),x.panel.addChild(a),v=document.createElement("video"),v.className="introVideo",v.autoplay=!1;var c=document.createElement("source");o(c,"videos/OS_Otis_Puppy_720Edit","mp4"),v.appendChild(c),v.setAttribute("width",1024),v.setAttribute("height",768),v.setAttribute("controls",""),document.getElementById("content").appendChild(v),v.play(),v.addEventListener("ended",n,!1),w=document.createElement("img"),w.className="videoCloseButton";var d=!1;ss.puppyquest.SiteCommunicationManager.isMuted()===!0?v.volume=0:v.volume=1,d&&(w.style.left="10px"),w.setAttribute("src","images/global/btn_skip.png"),document.getElementById("content").appendChild(w),w.addEventListener("click",m),A=x.app.sound.systemMuted,x.app.on("update",x.update),x.app.on("paused",k),x.app.on("resumed",l)}function k(){v.pause()}function l(){v.play()}function m(){n()}function n(){x.app.off("update",x.update),x.app.off("paused",k),x.app.off("resumed",l),v.volume=0,v.autoplay=!1,v.defaultMuted=!0,x.panel.removeChild(u),v.removeEventListener("ended",n),w.removeEventListener("click",n),document.getElementById("content").removeChild(v),document.getElementById("content").removeChild(w),v=void 0,w=void 0;x.nextState()}function o(a,b,c){a.setAttribute("src",b+"."+c),a.setAttribute("type","video/"+c)}a.call(this,b,c);var p,q,r,s,t,u,v,w,x=this,y=new ss.Vector2(350,420),z=150,A=!0;x.enterDone=function(){x.app.voPlayer.trackSound=!0,r=new createjs.Container,document.body.oncontextmenu=function(){return!1},e()},x.exitStart=function(){d()},x.exit=function(){},x.update=function(a){ss.puppyquest.SiteCommunicationManager.isMuted()===!0?v.volume=0:v.volume=1}};extend(b,a);namespace("PuppyQuest").PreloadState=b}(),function(){"use strict";var a=include("springroll.State"),b=function(b,c){function d(){h=0,l.app.sound.unloadAll(),l.app.voPlayer.unloadSound(),j=new createjs.Container,j.regX=m,k=ss.puppyquest.AssetHelper.getBitmap("LoadingScreen"),j.addChild(k);var a;switch(ss.puppyquest.currentLevel){case 1:i=l.app.config.assets.Level1Assets.assets.length,a=l.app.config.assets.Level1Assets.assets;break;case 2:i=l.app.config.assets.Level2Assets.assets.length,a=l.app.config.assets.Level2Assets.assets;break;case 3:i=l.app.config.assets.Level3Assets.assets.length,a=l.app.config.assets.Level3Assets.assets;break;case 4:i=l.app.config.assets.Level4Assets.assets.length,a=l.app.config.assets.Level4Assets.assets;break;default:i=l.app.config.assets.LevelDefaultAssets.assets.length,a=l.app.config.assets.LevelDefaultAssets.assets}l.app.load(a,{complete:g,progress:f,cacheAll:!0}),l.panel.addChild(j),l.scaling.addItem(j)}function e(){h=void 0,i=void 0,k=void 0}function f(){h++}function g(){l.nextState()}a.call(this,b,c);var h,i,j,k,l=this,m=150;l.enterDone=function(){d()},l.exitStart=function(){e()},l.exit=function(){l.panel.removeChild(j),l.scaling.removeItem(j),j.removeChild(k),j=void 0,k=void 0}};extend(b,a);namespace("PuppyQuest").LevelLoadState=b}(),function(){var a=include("springroll.Application"),b=include("springroll.easeljs.EaselJSDisplay"),c=new a({name:"PuppyQuest",configPath:"assets/config/config.json",captionsPath:"assets/config/captions.json",canvasId:"stage",display:b,displayOptions:{clearView:!0},captions:"captionsDisplay",state:"preload"});c.on("init",function(){this.states={preload:new PuppyQuest.PreloadState(new createjs.Container,{next:"menu",previous:"preload"}),menu:new PuppyQuest.MenuState(new createjs.Container,{next:"levelload",previous:"menu"}),levelload:new PuppyQuest.LevelLoadState(new createjs.Container,{next:"game",previous:"levelload"}),game:new PuppyQuest.GameState(new createjs.Container,{next:"menuload",previous:"game"}),menuload:new PuppyQuest.MenuLoadState(new createjs.Container,{next:"menu",previous:"menuload"})}}),window.app=c}(),function(){"use strict";ss.isUndefined(ss.puppyquest)&&(ss.puppyquest={})}(),function(){"use strict";ss.puppyquest.ScaleHelper=ss.puppyquest.ScaleHelper||new function(){this.getScaledStageMouse=function(a){var b=a.canvas.width/ss.puppyquest.ScaleHelper.widthBuffer,c=a.canvas.height/ss.puppyquest.ScaleHelper.heightBuffer;return new ss.Vector2(a.mouseX/b,a.mouseY/c)},this.getScaledMouseEvent=function(a,b){var c=a.canvas.width/ss.puppyquest.ScaleHelper.widthBuffer,d=a.canvas.height/ss.puppyquest.ScaleHelper.heightBuffer;return new ss.Vector2(b.stageX/c,b.stageY/d)}},ss.puppyquest.ScaleHelper.mousePosition=new ss.Vector2(0,0),ss.puppyquest.ScaleHelper.widthBuffer=1080,ss.puppyquest.ScaleHelper.heightBuffer=720,ss.puppyquest.ScaleHelper.ballOffset=0}(),ss.puppyquest.BaseLevel=function(){"use strict";var a=this;ss.CameraLayer.call(this),a.currentRoomNum=void 0,a.spawnPoint=void 0,a.exitPoint=void 0,a.cameraPoint=void 0;var b,c,d,e,f,g,h,i,j="Spawn",k="Exit",l="CameraPoint",m=-55,n=1444,o=1080;a.start=function(b,c,d){a.currentRoomNum=b,e=c,f=d,h=new createjs.Container,g=new createjs.Container,i=new ss.puppyquest.ColliderManager,i.start(),e.addChild(h),f.addChild(g)},a.loadBackgroundMap=function(a,c){b=new ss.puppyquest.MapTileLayer(a,c,a.tilewidth,a.tileheight,1),h.x=c.offsetx,h.y=c.offsety},a.loadAmbientMap=function(a,b){c=new ss.puppyquest.MapTileLayer(a,b,a.tilewidth,a.tileheight,1)},a.loadForegroundMap=function(a,b){d=new ss.puppyquest.MapTileLayer(a,b,a.tilewidth,a.tileheight,1),g.x=b.offsetx,g.y=b.offsety},a.loadColliders=function(a){i.addColliders(a)},a.loadRoomProperties=function(b){for(var c=0;c<b.objects.length;c++){var d=b.objects[c],e=new ss.Rectangle(d.x,d.y,d.width,d.height);switch(d.properties.RoomProperty){case j:a.spawnPoint=e;break;case k:a.exitPoint=e;break;case l:a.cameraPoint=e}}},a.loadLevel=function(){b.loadRoomMap(),h.addChild(b),void 0!==c&&(c.loadRoomMap(),h.addChild(c)),void 0!==d&&(d.loadRoomMap(),g.addChild(d),g.cache(m,0,n,o)),h.cache(m,0,n,o),i.loadBodies(1),b.clearMap(),void 0!==c&&c.clearMap(),void 0!==d&&d.clearMap()},a.clearMap=function(){b.clearMap(),void 0!==c&&c.clearMap(),void 0!==d&&(d.clearMap(),g.uncache(),g.removeChild(d)),h.uncache(),h.removeChild(b),h.removeChild(c),i.clearColliders()},a.handleUpdate=function(a){},a.destroy=function(){a.clearMap()}},ss.puppyquest.BaseLevel.prototype=new ss.CameraLayer,ss.puppyquest.BaseLevel.prototype.constructor=ss.puppyquest.BaseLevel,function(){"use strict";ss.SpringrollStorage=ss.SpringrollStorage||new function(){function a(){return"xxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=crypto.getRandomValues(new Uint8Array(1))[0]%16|0;return b.toString(16)})}function b(a){var b,c=a.data.group||g.UNBATCHED,e=d(a.data.key),f=d(a.data.value);ss.isUndefined(f)&&(ss.isUndefined(c)||ss.isUndefined(i[c])||(f=d(i[c].data[a.data.key]))),c===g.UNBATCHED||ss.isUndefined(i[c])?(b=new ss.BaseEvent(g.RETRIEVED_ITEM),b.data={key:e,value:f},g.dispatchEvent(b)):(i[c].data[e]=f,i[c].numLoaded++,i[c].numLoaded==i[c].numKeys&&(b=new ss.BaseEvent(g.RETRIEVED_ITEMS),b.data=i[c].data,g.dispatchEvent(b),i[c]=void 0))}function c(a){return"string"!=typeof a?JSON.stringify(a):a}function d(a){var b;if(ss.isUndefined(a))return a;try{return b=JSON.parse(a)}catch(c){return a}}var e,f,g=ss.AbstractEventDispatcher(this),h=!1;g.RETRIEVED_ITEM="DB_Item_Retrieved",g.RETRIEVED_ITEMS="DB_Items_Retrieved",g.UNBATCHED="UNBATCHED";var i;g.init=function(a,c){e=a,ss.isUndefined(c)&&(c=!1),f=c,i=i||{UNBATCHED:{data:{}}},e.supported?(h=!0,e.on("get-result",function(a){b(a)})):f=!0},g.setItem=function(a,b){f?localStorage.setItem(a,c(b)):h&&e.send("set-item",{key:a,value:c(b)})},g.setItems=function(a){for(var b in a)g.setItem(b,a[b])},g.getItem=function(a,b){if(f){var c,d=localStorage[a];c=ss.isUndefined(d)?b:JSON.parse(d);var i=new ss.BaseEvent(g.RETRIEVED_ITEM);i.data={key:a,value:c},g.dispatchEvent(i)}else h&&e.send("get-item",{key:a,group:g.UNBATCHED})},g.getItems=function(d,g){var j;j=ss.isUndefined(g)?a():g,i[j]={},i[j].data={},i[j].numKeys=0,i[j].numLoaded=0;for(var k in d)i[j].data[k]=c(d[k]),i[j].numKeys++;for(var l in d)if(f){var m=new ss.BaseEvent("localItemRetrieval");m.data={group:j,key:l,value:localStorage[l]},b(m)}else h&&e.send("get-item",{key:l,group:j})},g.reset=function(){i=void 0,e=void 0,f=!1,h=!1,localStorage.clear()}}}(),function(){"use strict";ss.puppyquest.SiteCommunicationManager=ss.puppyquest.SiteCommunicationManager||new function(){function a(a){u=!!a.data}function b(){var a=window.navigator.userAgent.toLowerCase(),b=/safari/.test(a),c=/iphone|ipod|ipad/.test(a);if(c){if(!window.navigator.standalone&&b)return!1;if(window.navigator.standalone&&!b)return!1;if(!window.navigator.standalone&&!b)return!0}else try{return ss.isEmpty(window.top.Device)?!1:!0}catch(d){return!1}}function c(){springroll.Application.instance.paused=!0}function d(){springroll.Application.instance.paused=!1}function e(a){var b=a.data;w[b.key]=b.value}function f(a){var b=a.data;for(var c in b)w[c]=b[c]}function g(a){if(k=a.data,m=k.isloggedin,!ss.isEmpty(k.avatar)){var b=k.avatar;l=k.avatar,-1!=b.indexOf("male0")&&(l="boy_1"),-1!=b.indexOf("male1")&&(l="boy_2"),-1!=b.indexOf("male2")&&(l="boy_3"),-1!=b.indexOf("female0")&&(l="girl_1"),-1!=b.indexOf("female1")&&(l="girl_2"),-1!=b.indexOf("female2")&&(l="girl_3")}if((ss.isEmpty(l)||l.length<1)&&(l="boy_1"),!ss.isEmpty(o)&&n){o.getCurrentScene(),o.getCurrentData();ss.SpringrollStorage.addEventListener(ss.SpringrollStorage.RETRIEVED_ITEMS,h),ss.SpringrollStorage.getItems(v,"completedLevels")}}function h(){ss.SpringrollStorage.removeEventListener(ss.SpringrollStorage.RETRIEVED_ITEMS,h);var a=ss.sector21.LevelManager.getCurrentLevel(),b={levelData:springroll.Application.instance.config.levels[a]};o.gotoScene(ss.sector21.SceneType.SELECT_SCENE,b)}function i(){springroll.Application.instance.captions.mute=!1}var j,k,l,m,n,o,p,q,r,s=this,t=!1,u=!1,v={Case0Solved:"false",Case1Solved:"false",Case2Solved:"false",Case3Solved:"false",Case4Solved:"false",Case5Solved:"false",Case6Solved:"false",Case7Solved:"false",Level2:!0,Level3:!0,Level4:!0},w={Case0Solved:"false",Case1Solved:"false",Case2Solved:"false",Case3Solved:"false",Case4Solved:"false",Case5Solved:"false",Case6Solved:"false",Case7Solved:"false",Level2:!0,Level3:!0,Level4:!0};return s.setSceneManager=function(a){o=a},s.setLastAssets=function(a){p=a},s.setLastSpriteSheets=function(a){q=a},s.setLastScene=function(a){r=a},s.setGameStarted=function(a){n=a},s.setLocalAvatar=function(a){t&&(localStorage.setItem("avatar",a),l=a),l=a},s.isMuted=function(){return u},s.construct=function(){return j=new Bellhop,j.connect(),l="boy_1",b()===!0?(t=!0,i()):t=!1,ss.SpringrollStorage.init(j,t),ss.SpringrollStorage.addEventListener(ss.SpringrollStorage.RETRIEVED_ITEM,e),ss.SpringrollStorage.addEventListener(ss.SpringrollStorage.RETRIEVED_ITEMS,f),ss.SpringrollStorage.getItems(w,"basic_game_data"),j.supported&&(j.on("soundMuted",a),j.send("init"),j.on("user",g),j.on("pauseGame",c),j.on("resumeGame",d)),s},s.getStorageValue=function(a){return w[a]},s.setStorageValue=function(a,b){ss.SpringrollStorage.setItem(a,b),w[a]=b},s.hasAward=function(a){if(!ss.isEmpty(k)){for(var b=!1,c=0;c<k.awardsUnlocked.length;c++)if(k.awardsUnlocked[c]==a){b=!0;break}return b}},s.unlockAward=function(a){ss.isEmpty(k)||s.hasAward(a)||(j.send("add-award",a),k.awardsUnlocked.push(a))},s.setLocalAvatar=function(a){t&&(localStorage.setItem("avatar",a),l=a),l=a},s.setGameStarted=function(a){n=a},s.setSceneManager=function(a){o=a},s.sendAnalyticsEvent=function(a,b,c,d){"undefined"!=typeof j&&j.send("sendGAEvent",{Category:a,Action:b,Label:c,Value:d})},s.getCurrentAvatar=function(){return t?localStorage.getItem("avatar")?localStorage.getItem("avatar"):void 0:l},s.release=function(){s=void 0},s.construct()}}(),ss.puppyquest.HandPointer=function(){"use strict";var a=this;createjs.Container.call(this);var b,c=0,d=new ss.Vector2(0,0),e=new ss.Vector2(0,25);a.start=function(){},a.showPointer=function(){b=ss.puppyquest.AssetHelper.getBitmap("ArrowPoint"),b.alpha=.6,a.addChild(b),c=0},a.handleUpdate=function(a){if(void 0!==b){c+=2*a;var f=ss.MathUtils.lerp(d,e,c);if(b.y=f.y,c>=1){var g=d;d=e,e=g,c=0}}},a.removePointer=function(){a.removeChild(b),b=void 0},a.destroy=function(){}},ss.puppyquest.HandPointer.prototype=new createjs.Container,ss.puppyquest.HandPointer.prototype.constructor=ss.puppyquest.HandPointer,function(){"use strict";ss.puppyquest.PhysicsManager=ss.puppyquest.PhysicsManager||new function(){var a=this,b=Physics();return a.construct=function(){return a},a.createPhysicsWorld=function(){},a.getPhysicsWorld=function(){return b},a.createRectBody=function(a,b,c,d,e){var f=Physics.body("rectangle",{x:a,y:b,width:c,height:d});return f.treatment=e,f},a.createCircleBody=function(a,b,c){var d=Physics.body("circle",{x:a,y:b,radius:c});return d},a.add=function(a){ss.isEmpty(b)||b.add(a)},a.resetPhysicsTime=function(){b.step(0)},Physics({timestep:1,maxIPF:1,integrator:"verlet"},function(){var a=Physics.aabb(0,0,5e3,5e3);b.add(Physics.behavior("edge-collision-detection",{aabb:a,restitution:.99,cof:.99})),b.add(Physics.behavior("body-impulse-response")),b.add(Physics.behavior("body-collision-detection")),b.add(Physics.behavior("sweep-prune")),Physics.util.ticker.start()}),a.construct()};var a={};a.STATIC="static",ss.puppyquest.TreatmentType=a}(),ss.puppyquest.PuppyManager=function(){"use strict";function a(a){for(var b=0;b<g.tilesets.length;b++)if(g.tilesets[b].firstgid===a)return g.tilesets[b]}function b(a,b){return a.y<b.y?-1:a.y==b.y&&a.puppyID<b.puppyID?-1:1}function c(){for(var a=[],b=0;b<i.length;b++)i[b].isFollowing()===!0&&a.push(i[b]);return a}var d=this;createjs.Container.call(this);var e,f,g,h,i=[],j=55;d.start=function(a,b,c){e=a,f=b,h=c},d.setUpPuppies=function(b,c){g=b;for(var e=0;e<c.data.length;e++){var f=e%c.width,h=Math.floor(e/c.width),i=c.data[e];if(!(1>i)){var k=a(c.data[e]);switch(k.name){case"PuppyRed":d.createNewPuppy(new ss.Vector2(f*j,h*j),"RedBall");break;case"PuppyBlue":d.createNewPuppy(new ss.Vector2(f*j,h*j),"BlueBall");break;case"PuppyGreen":d.createNewPuppy(new ss.Vector2(f*j,h*j),"GreenBall")}}}},d.createNewPuppy=function(a,b){var c=new ss.puppyquest.BasePuppy;c.start(new ss.Vector2(a.x,a.y),e,b,i.length),d.addChild(c),i.push(c)},d.setPuppyPosition=function(a){for(var b=a.width/j,c=0;c<i.length;c++){var d=c%b,e=Math.floor(c/b);i[c].setPosition(new ss.Vector2(a.x+j*d,a.y+j*e))}},d.movePuppiesToPosition=function(a){for(var b=a.width/j,c=0;c<i.length;c++){var d=c%b,e=Math.floor(c/b);i[c].movePuppyToPosition(new ss.Vector2(a.x+j*d,a.y+j*e))}},d.resetPuppies=function(){for(var a=0;a<i.length;a++)i[a].resetPuppy()};var k=0,l=0,m=0;d.makePuppiesDance=function(){for(var a=0;a<i.length;a++)switch(i[a].puppyType){case"GreenBall":i[a].turnHuman(l),l++;break;case"RedBall":i[a].turnHuman(k),k++;break;case"BlueBall":i[a].turnHuman(m),m++}},d.handleUpdate=function(a){i.sort(b);for(var e=c(),g=0;g<i.length;g++)i[g].handleUpdate(a),f.checkTriggers(i[g],e),h.checkDistractions(i[g],g),d.setChildIndex(i[g],g);f.handleUpdate(e,a)},d.destroy=function(){for(var a=i.length-1;a>=0;a--)i[a].destroy(),i[a]=void 0,i.splice(a,1);e=void 0,i=void 0,f=void 0,g=void 0}},ss.puppyquest.PuppyManager.prototype=new createjs.Container,ss.puppyquest.PuppyManager.prototype.constructor=ss.puppyquest.PuppyManager,ss.puppyquest.HudManager=function(){"use strict";function a(a){null!==r.getCurrentTool()&&r.getCurrentTool().setMobileMousePosition(ss.puppyquest.ScaleHelper.getScaledMouseEvent(p.stage,a))}function b(){p.addChild(N),springroll.Application.instance.voPlayer.pause(),springroll.Application.instance.sound.play("sfx-button-exit"),void 0!==T&&T(!0)}function c(){springroll.Application.instance.sound.play("sfx-button-exit"),void 0!==U&&U()}function d(){p.removeChild(N),springroll.Application.instance.voPlayer.resume(),springroll.Application.instance.sound.play("sfx-button-exit"),void 0!==T&&T(!1)}function e(){p.inputEnabled===!0&&(Pa=!1)}function f(a){Z===!1&&p.inputEnabled===!0&&Pa===!1&&(p.resetTools(),springroll.Application.instance.sound.play("sfx-ball-pickup"),Pa=!0,ss.puppyquest.VoManager.toolPresed("AllBall"),r.useTool("AllBall"),s.resetPuppies(),q.removeChild(u),n(),r.getCurrentTool().setMobileMousePosition(ss.puppyquest.ScaleHelper.getScaledMouseEvent(p.stage,a)))}function g(){p.inputEnabled===!0&&(Pa=!1)}function h(a){Z===!1&&p.inputEnabled===!0&&Pa===!1&&(p.resetTools(),Pa=!0,springroll.Application.instance.sound.play("sfx-steak-pickup"),ss.puppyquest.VoManager.toolPresed("RedBall"),r.useTool("RedBall"),s.resetPuppies(),q.removeChild(x),n(),r.getCurrentTool().setMobileMousePosition(ss.puppyquest.ScaleHelper.getScaledMouseEvent(p.stage,a)))}function i(){p.inputEnabled===!0&&(Pa=!1)}function j(a){Z===!1&&p.inputEnabled===!0&&Pa===!1&&(p.resetTools(),Pa=!0,springroll.Application.instance.sound.play("sfx-stick-pickup"),ss.puppyquest.VoManager.toolPresed("GreenBall"),r.useTool("GreenBall"),s.resetPuppies(),q.removeChild(w),n(),r.getCurrentTool().setMobileMousePosition(ss.puppyquest.ScaleHelper.getScaledMouseEvent(p.stage,a)))}function k(){p.inputEnabled===!0&&(Pa=!1)}function l(a){Z===!1&&p.inputEnabled===!0&&Pa===!1&&(p.resetTools(),Pa=!0,springroll.Application.instance.sound.play("sfx-bone-pickup"),ss.puppyquest.VoManager.toolPresed("BlueBall"),r.useTool("BlueBall"),s.resetPuppies(),q.removeChild(v),n(),r.getCurrentTool().setMobileMousePosition(ss.puppyquest.ScaleHelper.getScaledMouseEvent(p.stage,a)))}function m(a){switch(Ka){case La:pa+=.5*a,ma=ss.MathUtils.lerp(na,oa,pa),G.x=ma.x,G.y=ma.y,pa>=1&&(pa=0,Ka=Ma);break;case Ma:pa+=a,pa>=qa&&(pa=0,na=ss.puppyquest.ScaleHelper.getScaledStageMouse(p.stage),na.x=na.x+(Oa-ss.puppyquest.ScaleHelper.ballOffset),Ka=La);break;case Na:}}function n(){L=ta,M=ua,ra=!0,sa=0}function o(){L=ua,M=ta,ra=!0,sa=0}var p=this;createjs.Container.call(this);var q,r,s,t,u,v,w,x,y,z;p.inputEnabled=!0;var A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V=new ss.Vector2(50,0),W=new ss.Vector2(170,0),X=new ss.Vector2(300,0),Y=new ss.Vector2(430,0),Z=!1,$=0,_=165,aa=150,ba=478,ca=.4,da=55,ea=15,fa=50,ga=.6,ha=478,ia=250,ja=380,ka=250,la=120,ma=new ss.Vector2(0,0),na=new ss.Vector2(0,0),oa=new ss.Vector2(0,0),pa=0,qa=2,ra=!1,sa=0,ta=1,ua=.5,va=248,wa=160,xa=32,ya=64,za=347.5,Aa=192,Ba=640,Ca=360,Da=440,Ea=360,Fa=680,Ga=1400,Ha=720,Ia=25,Ja=25,Ka=2,La=0,Ma=1,Na=2,Oa=490,Pa=!1;p.addPauseCallback=function(a){"function"==typeof a&&(T=a)},p.addExitCallback=function(a){"function"==typeof a&&(U=a)},p.start=function(m,n,o,H){r=m,s=n,y=H,z=o,N=new createjs.Container,F=new createjs.Container,S=ss.puppyquest.AssetHelper.getBitmap("Exit_Button",!0),S.x=Ia,S.y=Ja,p.addChild(S),O=ss.puppyquest.AssetHelper.getBitmap("Exit_Popup"),O.regX=za,O.regY=Aa,O.x=Ba,O.y=Ca,Q=ss.puppyquest.AssetHelper.getBitmap("Check_Btn",!0),Q.x=Da,Q.y=Ea,P=ss.puppyquest.AssetHelper.getBitmap("Cancel_Btn",!0),P.x=Fa,P.y=Ea,R=new createjs.Shape,R.graphics.beginFill("black").drawRect(0,0,Ga,Ha),R.alpha=.2,N.regX=aa,N.addChild(R),N.addChild(O),N.addChild(Q),N.addChild(P),F.regX=_,F.scaleX=1.01,F.scaleY=1.01,q=new createjs.Container,q.x=ba,E=new ss.puppyquest.HandPointer,G=ss.puppyquest.AssetHelper.getBitmap("ArrowPoint"),G.alpha=.6,A=ss.puppyquest.AssetHelper.getBitmap("Puppy_Devices_Ball",!0),A.scaleX=ca,A.scaleY=ca,A.regX=da,A.regY=ea,B=ss.puppyquest.AssetHelper.getBitmap("Puppy_Devices_Steak",!0),B.scaleX=ca,B.scaleY=ca,B.regX=da,B.regY=ea,D=ss.puppyquest.AssetHelper.getBitmap("Puppy_Devices_Bone",!0),D.scaleX=ca,D.scaleY=ca,D.regX=da,D.regY=ea,C=ss.puppyquest.AssetHelper.getBitmap("Puppy_Devices_Stick",!0),C.scaleX=ca,C.scaleY=ca,C.regX=da,C.regY=ea,G.regX=fa,u=ss.puppyquest.AssetHelper.getBitmap("Icon_Ball",!0),u.scaleX=ga,u.scaleY=ga,v=ss.puppyquest.AssetHelper.getBitmap("Icon_Bone",!0),v.scaleX=ga,v.scaleY=ga,v.x=ja,w=ss.puppyquest.AssetHelper.getBitmap("Icon_Stick",!0),w.scaleX=ga,w.scaleY=ga,w.x=ka,x=ss.puppyquest.AssetHelper.getBitmap("Icon_Steak",!0),x.scaleX=ga,x.scaleY=ga,x.x=la,t=ss.puppyquest.AssetHelper.getBitmap("FinishScreen",!0),q.scaleX=.9,q.scaleY=.9,1===H?q.addChild(u):2===H?(q.addChild(u),q.addChild(x),q.addChild(w)):(q.addChild(u),q.addChild(v),q.addChild(w),q.addChild(x)),q.regX=ia,p.addChild(q),p.addChild(F),u.addEventListener("pressup",e),u.addEventListener("mousedown",f),u.addEventListener("pressmove",a),x.addEventListener("pressup",g),x.addEventListener("mousedown",h),x.addEventListener("pressmove",a),v.addEventListener("pressup",k),v.addEventListener("mousedown",l),v.addEventListener("pressmove",a),w.addEventListener("pressup",i),w.addEventListener("mousedown",j),w.addEventListener("pressmove",a),S.addEventListener("pressup",b),Q.addEventListener("pressup",c),P.addEventListener("pressup",d)},p.hudReset=function(a,b,c){switch(I=a,I.x-=20,r.useTool(""),Pa=!1,Z=!0,o(),springroll.Application.instance.sound.play("sfx-toy-drop"),void 0===c&&s.resetPuppies(),b){case"AllBall":H=new ss.Vector2(V.x+ha,V.y),H.x=H.x-ia,K=u,J=A;break;case"RedBall":H=new ss.Vector2(W.x+ha,W.y),H.x=H.x-ia,K=x,J=B;break;case"GreenBall":H=new ss.Vector2(X.x+ha,X.y),H.x=H.x-ia,K=w,J=C;break;case"BlueBall":H=new ss.Vector2(Y.x+ha,Y.y),H.x=H.x-ia,K=v,J=D}J.x=I.x,J.y=I.y,p.addChild(J)},p.showToolPointer=function(a){switch(a){case"AllBall":E.x=V.x+va,E.y=wa;break;case"RedBall":E.x=W.x+va,E.y=wa;break;case"GreenBall":E.x=X.x+va,E.y=wa;break;case"BlueBall":E.x=Y.x+va,E.y=wa}E.regX=xa,E.regY=ya,E.showPointer(),p.addChild(E)},p.hideToolPointer=function(){p.removeChild(E)},p.updateToolsDisplayed=function(a){switch(a){case 3:1===y&&(q.addChild(x),q.addChild(w)),2===y&&q.addChild(v);break;case 2:}},p.resetTools=function(){r.resetCurrentTool(!0),Pa=!1},p.showEndScreen=function(){F.addChild(t)};var Qa;p.handleUpdate=function(a){if(void 0!==E&&E.handleUpdate(a),Z===!0&&($+=4*a,Qa=ss.MathUtils.lerp(I,H,$),J.x=Qa.x,J.y=Qa.y,$>=1&&(Z=!1,$=0,p.removeChild(J),q.addChild(K))),ra===!0){sa+=4*a;var b=ss.MathUtils.lerp1D(L,M,sa);q.scaleX=b,q.scaleY=b,b>=1&&(sa=0,ra=!1)}m(a)},p.showMovingFinger=function(a){Ka=La,oa=a,na=ss.puppyquest.ScaleHelper.getScaledStageMouse(p.stage),na.x=na.x+(Oa-ss.puppyquest.ScaleHelper.ballOffset),G.x=na.x,G.y=na.y,pa=0,p.addChild(G)},p.stopMovingPointer=function(){Ka=Na,p.removeChild(G)},p.destroy=function(){p.removeChild(q),q.removeChild(u),q.removeChild(v),q.removeChild(w),q.removeChild(x),F.removeChild(t),u.removeEventListener("pressup",e),u.removeEventListener("mousedown",f),x.removeEventListener("pressup",g),x.removeEventListener("mousedown",h),v.removeEventListener("pressup",k),v.removeEventListener("mousedown",l),w.removeEventListener("pressup",i),w.removeEventListener("mousedown",j),q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0}},ss.puppyquest.HudManager.prototype=new createjs.Container,ss.puppyquest.HudManager.prototype.constructor=ss.puppyquest.HudManager,ss.puppyquest.TriggerManager=function(){"use strict";function a(a,b){for(var c=0;c<m.length;c++)if(m[c].roomNum+""==a+"")return void m[c].triggers.push(b);var d={roomNum:0,triggers:null};d.roomNum=a,d.triggers=[],d.triggers.push(b),m.push(d)}function b(a,b){return a.triggerOrder<b.triggerOrder?-1:1}function c(){m[n].triggers[ss.puppyquest.TriggerManager.CurrentTriggerIndex].hideBubble(),ss.puppyquest.TriggerManager.CurrentTriggerIndex++,m[n].triggers[ss.puppyquest.TriggerManager.CurrentTriggerIndex].showBubble()}function d(){ss.isEmpty(g)||g()}function e(){ss.isEmpty(i)||i()}var f=this;ss.CameraLayer.call(this);var g,h,i,j=[],k=[],l=[],m=[],n=0,o="Exit",p="End",q="Push",r="Press",s="Enter",t="EnterBarrier",u="EnterVine",v="Push",w="Truck",x="Platform",y="Rob",z="Barrier",A="Dino",B="Vine",C="Gadget",D="AnimatedGadgetDoor";ss.puppyquest.TriggerManager.CurrentTriggerIndex=0,f.start=function(a){h=a},f.addExitAction=function(a){g=a},f.addEndAction=function(a){i=a},f.addDoors=function(a){for(var b=0;b<a.objects.length;b++){var c;switch(a.objects[b].properties.DoorType){
case s:c=new ss.puppyquest.BaseDoor,l.push(c);break;case t:c=new ss.puppyquest.BarrierDoor,l.push(c);break;case u:c=new ss.puppyquest.VineDoor,l.push(c);break;case v:c=new ss.puppyquest.PushDoor,j.push(c);break;case w:c=new ss.puppyquest.TruckDoor,j.push(c);break;case x:c=new ss.puppyquest.PlatformDoor,j.push(c);break;case y:c=new ss.puppyquest.RobPlantDoor,j.push(c);break;case z:c=new ss.puppyquest.BarrierDoor,j.push(c);break;case A:c=new ss.puppyquest.DinoDoor,j.push(c);break;case B:c=new ss.puppyquest.VineDoor,j.push(c);break;case C:c=new ss.puppyquest.GadgetDoor,j.push(c);break;case D:c=new ss.puppyquest.AnimatedGadgetDoor,j.push(c);break;default:c=new ss.puppyquest.BaseDoor,j.push(c)}c.start(a.objects[b]),f.addChild(c);for(var d=0;d<k.length;d++)"Rob"==a.objects[b].properties.DoorType?k[d].isRobLinked===!0&&c.linkDoorTrigger(k[d]):k[d].getLinkedObjectId()==c.getObjectId()&&c.linkDoorTrigger(k[d])}},f.addTriggers=function(b){for(var g=0;g<b.objects.length;g++){var i;switch(b.objects[g].properties.SwitchType){case o:i=new ss.puppyquest.ExitTrigger,i.start(b.objects[g],h),i.addTriggerActive(d),k.push(i),f.addChild(i),a(b.objects[g].properties.CurrentLevel,i);break;case p:i=new ss.puppyquest.EndTrigger,i.start(b.objects[g],h),i.addTriggerActive(e),k.push(i),f.addChild(i),a(b.objects[g].properties.CurrentLevel,i);break;case r:i=new ss.puppyquest.PressTrigger,i.start(b.objects[g],h),i.addTriggerActive(c),k.push(i),f.addChild(i),a(b.objects[g].properties.CurrentLevel,i);break;case q:i=new ss.puppyquest.PushTrigger,i.start(b.objects[g],h),i.addTriggerActive(c),k.push(i),f.addChild(i),a(b.objects[g].properties.CurrentLevel,i);break;default:i=new ss.puppyquest.BaseTrigger,i.start(b.objects[g],h),i.addTriggerActive(c),k.push(i),f.addChild(i),a(b.objects[g].properties.CurrentLevel,i)}}},f.setLevelIndex=function(a){for(var c=0;c<m.length;c++)m[c].roomNum+""==a+""&&(n=c,m[n].triggers.sort(b),ss.puppyquest.TriggerManager.CurrentTriggerIndex=0,m[n].triggers[ss.puppyquest.TriggerManager.CurrentTriggerIndex].showBubble())},f.showSwitchPointer=function(a){void 0!==a?m[n].triggers[a].showSwitchPointer():m[n].triggers[ss.puppyquest.TriggerManager.CurrentTriggerIndex].showSwitchPointer()},f.hideSwitchPointer=function(a){m[n].triggers[ss.puppyquest.TriggerManager.CurrentTriggerIndex].removeSwitchPointer()},f.showBubblePointer=function(){m[n].triggers[ss.puppyquest.TriggerManager.CurrentTriggerIndex].showBubblePointer()},f.hideBubblePointer=function(){m[n].triggers[ss.puppyquest.TriggerManager.CurrentTriggerIndex].removeBubblePointer()},f.clearAllPointers=function(){for(var a=0;a<m[n].triggers.length;a++)m[n].triggers[a].removeBubblePointer(),m[n].triggers[a].removeSwitchPointer()},f.checkTriggers=function(a,b){m[n].triggers[ss.puppyquest.TriggerManager.CurrentTriggerIndex].checkTriggerEnter(a,b)},f.handleUpdate=function(a,b){for(var c=0;c<j.length;c++)j[c].handleUpdate(b);m[n].triggers[ss.puppyquest.TriggerManager.CurrentTriggerIndex].UpdateTriggers(b,a);for(var d=0;d<m[n].triggers.length;d++)m[n].triggers[d].updateFadeOut(b)},f.openEnterDoors=function(){for(var a=0;a<l.length;a++)l[a].openDoor()},f.closeEnterDoors=function(){for(var a=0;a<l.length;a++)l[a].closeDoor()},f.destroy=function(){for(var a=j.length-1;a>=0;a--)f.removeChild(j[a]),j[a].destroy(),j[a]=void 0,j.splice(a,1);for(var b=k.length-1;b>=0;b--)f.removeChild(k[b]),k[b].destroy(),k[b]=void 0,k.splice(b,1);for(var c=m.length-1;c>=0;c--){m[c].roomNum=void 0;for(var d=m[c].triggers.length-1;d>=0;d--)f.removeChild(m[c].triggers[d]),m[c].triggers[d]=void 0,m[c].triggers.splice(d,1);m[c]=void 0,m.splice(c,1)}for(var e=l.length-1;e>=0;e--)f.removeChild(l[e]),l[e].destroy(),l[e]=void 0,l.splice(e,1)}},ss.puppyquest.TriggerManager.prototype=new ss.CameraLayer,ss.puppyquest.TriggerManager.prototype.constructor=ss.puppyquest.TriggerManager,ss.puppyquest.ToolManager=function(){"use strict";var a=this;ss.CameraLayer.call(this);var b,c,d,e,f,g,h,i;a.start=function(a,i,j){f=a,h=j,b=new ss.puppyquest.BallTool,b.start(f,"AllBall",h),c=new ss.puppyquest.BallTool,c.start(f,"RedBall",h),d=new ss.puppyquest.BallTool,d.start(f,"BlueBall",h),e=new ss.puppyquest.BallTool,e.start(f,"GreenBall",h),g=null},a.useTool=function(f){switch(a.removeChild(b),a.removeChild(c),a.removeChild(d),a.removeChild(e),b.resetTool(),c.resetTool(),d.resetTool(),e.resetTool(),g=null,f){case"AllBall":a.addChild(b),g=b,g.activateTool(new ss.Vector2(0,0));break;case"RedBall":a.addChild(c),g=c,g.activateTool(new ss.Vector2(0,0));break;case"BlueBall":a.addChild(d),g=d,g.activateTool(new ss.Vector2(0,0));break;case"GreenBall":a.addChild(e),g=e,g.activateTool(new ss.Vector2(0,0))}},a.handleUpdate=function(a){ss.isEmpty(g)||g.handleUpdate(a)},a.getCurrentTool=function(){return g},a.addToolResetCallback=function(a){i=a,b.addResetCallBack(i),c.addResetCallBack(i),d.addResetCallBack(i),e.addResetCallBack(i)},a.resetCurrentTool=function(a){null!==g&&g.resetPosition(a)},a.destroy=function(){a.removeChild(b),a.removeChild(c),a.removeChild(d),a.removeChild(e),b.destroy(),c.destroy(),d.destroy(),e.destroy(),b=void 0,c=void 0,d=void 0,e=void 0,f=void 0,g=void 0}},ss.puppyquest.ToolManager.prototype=new ss.CameraLayer,ss.puppyquest.ToolManager.prototype.constructor=ss.puppyquest.ToolManager,ss.puppyquest.ColliderManager=function(){"use strict";var a=this;createjs.Container.call(this);var b=[],c=27.5;a.start=function(){},a.addColliders=function(a){for(var d=0;d<a.objects.length;d++){var e=ss.puppyquest.PhysicsManager.createRectBody(a.objects[d].x+a.objects[d].width/2-c,a.objects[d].y+a.objects[d].height/2-c,a.objects[d].width,a.objects[d].height,"static");b.push(e)}},a.loadBodies=function(a){for(var c=0;c<b.length;c++)ss.puppyquest.PhysicsManager.getPhysicsWorld().add(b[c])},a.clearColliders=function(){for(var a=0;a<b.length;a++)ss.puppyquest.PhysicsManager.getPhysicsWorld().removeBody(b[a]),b[a]=void 0},a.destroy=function(){}},ss.puppyquest.ColliderManager.prototype=new createjs.Container,ss.puppyquest.ColliderManager.prototype.constructor=ss.puppyquest.ColliderManager,ss.puppyquest.LevelManager=function(){"use strict";function a(a){ma=a}function b(){void 0!==Z&&Z()}function c(a){o.handleUpdate(a),H+=a,H>=1&&(H=0,T=N)}function d(a){H+=.5*a,H=ss.MathUtils.clamp01(H);var b=ss.MathUtils.lerp(G,F,H);r.x=b.x,r.y=b.y,H>=1&&(r.x=F.x,r.y=F.y,T=O,n.openEnterDoors(),o.movePuppiesToPosition(u.spawnPoint))}function e(a){U+=a,o.handleUpdate(a),U>=1&&(U=0,o.setPuppyPosition(u.spawnPoint),o.resetPuppies(),n.closeEnterDoors(),n.setLevelIndex(C),s.updateToolsDisplayed(C),s.inputEnabled=!0,i(D),ss.puppyquest.VoManager.playRoomIntro(),T=L)}function f(){D=C,C++,ss.puppyquest.LevelManager.CurrentRoom=C,z=u,u=k(C),s.resetTools(),s.inputEnabled=!1,T=M,F=new ss.Vector2(u.cameraPoint.x,u.cameraPoint.y+u.cameraPoint.height/2),G=new ss.Vector2(r.x,r.y),H=0,$.voPlayer.unloadSound(),h(C)}function g(){s.resetTools(),s.inputEnabled=!1,T=Q}function h(a){var b=k(a);b.loadLevel()}function i(a){var b=k(a);b.clearMap()}function j(a){for(var b=0;b<a.layers.length;b++)if(!ss.isEmpty(a.layers[b].properties)&&!ss.isEmpty(a.layers[b].properties.LayerType))switch(a.layers[b].properties.LayerType){case _:var c=k(a.layers[b].properties.RoomNum);c.loadBackgroundMap(a,a.layers[b]);break;case aa:var d=k(a.layers[b].properties.RoomNum);d.loadAmbientMap(a,a.layers[b]);break;case ha:var e=k(a.layers[b].properties.RoomNum);e.loadForegroundMap(a,a.layers[b]);break;case ba:n.addTriggers(a.layers[b]);break;case ca:n.addDoors(a.layers[b]);break;case da:var f=k(a.layers[b].properties.RoomNum);f.loadRoomProperties(a.layers[b]);break;case ea:o.setUpPuppies(a,a.layers[b]);break;case fa:var g=k(a.layers[b].properties.RoomNum);g.loadColliders(a.layers[b]);break;case ga:w.addDistractions(a.layers[b])}}function k(a){for(var b=0;b<X.length;b++)if(a+""===X[b].currentRoomNum)return X[b];var c=new ss.puppyquest.BaseLevel;return c.start(a,x,y),X.push(c),c}function l(){null!==A&&(ss.puppyquest.VoManager.resetTutorial(),A())}var m=this;createjs.Container.call(this);var n,o,p,q,r,s,t,u,v,w,x,y,z,A=null,B=0,C=1,D=1,E=!1,F=new ss.Vector2(0,0),G=new ss.Vector2(0,0),H=0,I="Spawn",J="Exit",K="CameraPoint",L=0,M=1,N=2,O=3,P=5,Q=6,R=7,S=8,T=0,U=0,V=0,W=4,X=[],Y=0;ss.puppyquest.LevelManager.CurrentLevel=1,ss.puppyquest.LevelManager.CurrentRoom=1;var Z,$,_="LevelLayer",aa="AmbientLayer",ba="TriggerLayer",ca="DoorLayer",da="LevelSpawns",ea="PuppyLayer",fa="ColliderLayer",ga="Distraction",ha="ForegroundLayer",ia=512,ja=384,ka=956,la=720,ma=!1;m.addExitCallback=function(a){"function"==typeof a&&(Z=a)},m.start=function(c,d){$=d,x=new createjs.Container,y=new createjs.Container;var e;switch(ss.puppyquest.LevelManager.CurrentLevel=c,c){case 1:e=$.config.levels.PuppyLevel1,$.music="music-lab-loop";break;case 2:e=$.config.levels.PuppyLevel2,$.music="music-bakery-loop";break;case 3:e=$.config.levels.PuppyLevel3,$.music="music-park-loop";break;case 4:e=$.config.levels.PuppyLevel4,$.music="music-observatory-loop"}ss.puppyquest.PhysicsManager.getPhysicsWorld(),ss.puppyquest.TilesetManager.loadTileset(e),v=new createjs.Container,t=new ss.CameraLayer,r=new ss.Camera(ia,ja,ka,la),p=new ss.puppyquest.ToolManager,p.start(r,m,m),n=new ss.puppyquest.TriggerManager,n.start(v),w=new ss.puppyquest.DistractionManager,w.start(),o=new ss.puppyquest.PuppyManager,o.start(p,n,w),s=new ss.puppyquest.HudManager,s.start(p,o,n,c),q=new ss.CameraLayerManager(r,[t]),q.addLayersToContainer(m),j(e),n.addExitAction(f),n.addEndAction(g),p.addToolResetCallback(s.hudReset),ss.puppyquest.VoManager.addTriggerManager(n),ss.puppyquest.VoManager.addHudManager(s),n.setLevelIndex(1),h(1),u=k(1),r.x=u.cameraPoint.x,r.y=u.cameraPoint.y+u.cameraPoint.height/2,t.addChild(x),t.addChild(n),t.addChild(w),t.addChild(o),t.addChild(y),t.addChild(p),t.addChild(v),m.addChild(t),m.addChild(s),Y=Date.now(),ss.puppyquest.VoManager.playRoomIntro(),s.addPauseCallback(a),s.addExitCallback(b)},m.handleUpdate=function(a){if(ma!==!0){switch(T){case L:o.handleUpdate(a),p.handleUpdate(a);break;case M:c(a);break;case N:d(a);break;case O:e(a);break;case Q:V+=a,o.handleUpdate(a),V>=1&&(o.makePuppiesDance(),$.music=void 0,$.sound.play("music-win-sting"),$.sound.play("sfx-agent-transform"),T=R,V=0);break;case R:V+=a,o.handleUpdate(a),V>=W&&(ss.puppyquest.VoManager.playerLevelCompleteVo(),V=0,s.showEndScreen(),T=P);break;case S:V+=a,V>=W&&(s.showEndScreen(),V=0,T=P);break;case P:V+=a,V>=6&&(s.inputEnabled=!1,l())}void 0!==s&&s.handleUpdate(a),void 0!==q&&q.update(a),Y+=1e3*a,ss.puppyquest.PhysicsManager.getPhysicsWorld().step(Y)}},m.destroy=function(){ss.puppyquest.TilesetManager.release(),ss.puppyquest.VoManager.resetTutorial(),t.removeChild(n),t.removeChild(p),t.removeChild(o),m.removeChild(t),m.removeChild(s),t.release(),r.release(),q.release(),p.destroy(),n.destroy(),o.destroy(),s.destroy();for(var a=0;a<X.length;a++)X[a].destroy(),X[a]=void 0;X=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,T=void 0,U=void 0,V=void 0,W=void 0,$=void 0},m.handleCanvasResize=function(){s.resizeUi()},m.addEndLevelCallBack=function(a){A=a}},ss.puppyquest.LevelManager.prototype=new createjs.Container,ss.puppyquest.LevelManager.prototype.constructor=ss.puppyquest.LevelManager,ss.puppyquest.DistractionManager=function(){"use strict";function a(a,b){var c=new ss.Vector2(a.x,a.y),d=b.getPosition(),e=c.distance(d);if(e<b.distractionRange){var f=c.subtract(d).normalized(),g=Math.atan2(f.x,-f.y)*ss.MathConst.RAD_TO_DEG,h=0>g?360+g:g;if(h>=b.minRange&&h<=b.maxRange)return!0}return!1}function b(a,b,c){var d=new ss.Vector2(0,0),g=40*b,h=Math.ceil(g/c.rotRange)*e;g%=c.rotRange;var i=(c.minRange+g-90)*ss.MathConst.DEG_TO_RAD;d.x=c.getPosition().x+Math.cos(i)*(f+h),d.y=c.getPosition().y+Math.sin(i)*(f+h),a.moveToDistraction(d,c.getPosition())}var c=this;createjs.Container.call(this);var d=[],e=20,f=50;c.start=function(){},c.addDistractions=function(a){for(var b=0;b<a.objects.length;b++){var e;switch(a.objects[b].properties.DistractionType){case"Pizza":e=new ss.puppyquest.BaseDistraction,e.start(a.objects[b]);break;default:continue}d.push(e),c.addChild(e)}},c.checkDistractions=function(c,e){for(var f=new ss.Vector2(0,1,0),g=(f.angleBetween2(new ss.Vector2(1,0,0),!0),0);g<d.length;g++)0===c.getPuppyState()&&c.isFollowing()===!1&&a(c,d[g])===!0&&b(c,e,d[g])},c.handleUpdate=function(a){},c.destroy=function(){}},ss.puppyquest.DistractionManager.prototype=new createjs.Container,ss.puppyquest.DistractionManager.prototype.constructor=ss.puppyquest.DistractionManager,function(){"use strict";ss.puppyquest.VoManager=ss.puppyquest.VoManager||new function(){function a(){springroll.Application.instance.hints.enabled=!0,springroll.Application.instance.hints.vo(n)}function b(){springroll.Application.instance.hints.enabled=!1}function c(){m.showToolPointer("AllBall")}function d(){m.showToolPointer("RedBall")}function e(){m.showToolPointer("BlueBall")}function f(){var a=[0,z,"room3-3",f];springroll.Application.instance.voPlayer.play(a)}function g(){m.showMovingFinger(u)}function h(){l.hideBubblePointer(),g()}function i(){l.hideSwitchPointer(),l.showBubblePointer()}function j(){springroll.Application.instance.voPlayer.stop(),m.stopMovingPointer(),l.clearAllPointers(),m.hideToolPointer()}function k(){l.showSwitchPointer(2)}var l,m,n,o=this,p=4,q=!1,r=!1,s=!1,t=new ss.Vector2(200,500),u=new ss.Vector2(850,550),v=!1,w=!1,x=1e3,y=5e3,z=5e3;return o.resetTutorial=function(){q=!1,r=!1,s=!1,v=!1,w=!1},o.construct=function(){return o},o.addTriggerManager=function(a){l=a},o.addHudManager=function(a){m=a},o.playTitleVo=function(){springroll.Application.instance.voPlayer.play(["pq_title_1_1"])},o.playDistractionVo=function(){w===!1&&(w=!0,springroll.Application.instance.voPlayer.play(["distracted"]))},o.playRoomIntro=function(){var b=(ss.puppyquest.LevelManager.CurrentLevel-1)*p+ss.puppyquest.LevelManager.CurrentRoom;switch(b){case 1:n="tutor1",springroll.Application.instance.voPlayer.play(["intro1","intro2","intro3",c,500,"tutor1",a]);break;case 2:n="room2-2",springroll.Application.instance.voPlayer.play(["room2-1",1e3,l.showSwitchPointer,"room2-2",a]);break;case 3:n="room3-3",springroll.Application.instance.voPlayer.play(["room3-1","room3-2",d,a,f]);break;case 4:n="room4-2",springroll.Application.instance.voPlayer.play(["room4-1",l.showSwitchPointer,"room4-2",a]);break;case 5:springroll.Application.instance.voPlayer.play(["room5-1"]);break;case 7:n="room7-2",springroll.Application.instance.voPlayer.play(["room7-1",e,"room7-2",a]);break;case 9:springroll.Application.instance.voPlayer.play(["room9-1"]);break;case 13:springroll.Application.instance.voPlayer.play(["room13-1"])}},o.toolPresed=function(c){var d=(ss.puppyquest.LevelManager.CurrentLevel-1)*p+ss.puppyquest.LevelManager.CurrentRoom;switch(d){case 1:q===!1&&(q=!0,m.hideToolPointer(),b(),n="tutor2",m.showMovingFinger(t),springroll.Application.instance.voPlayer.play(["tutor2",a]));break;case 3:"AllBall"!==c&&r===!1&&(r=!0,m.hideToolPointer(),b(),n="room3-7",springroll.Application.instance.voPlayer.play([0,x,"room3-5",y,l.showSwitchPointer,"room3-7",a]));break;case 7:"BlueBall"==c&&s===!1&&(s=!0,m.hideToolPointer())}},o.playFollowVo=function(){var c=(ss.puppyquest.LevelManager.CurrentLevel-1)*p+ss.puppyquest.LevelManager.CurrentRoom;switch(ss.puppyquest.TriggerManager.CurrentTriggerIndex){case 0:if(1==c&&v===!1){v=!0,n="tutor6",b(),j();var d=["tutor3",l.showSwitchPointer,"tutor4",i,"tutor5",h,"tutor6",a];springroll.Application.instance.voPlayer.play(d)}break;case 2:break;case 3:}},o.turnOnSwitchHint=function(a){springroll.Application.instance.hints.enabled=!0,springroll.Application.instance.hints.vo("puppy"+a)},o.playTriggerCompleteVo=function(){var b=(ss.puppyquest.LevelManager.CurrentLevel-1)*p+ss.puppyquest.LevelManager.CurrentRoom;switch(j(),ss.puppyquest.TriggerManager.CurrentTriggerIndex){case 0:1==b&&j(),3==b?j():4==b?j():7==b&&springroll.Application.instance.voPlayer.play(["room7-3",1e3,"room7-4","room7-5"]);break;case 1:1==b?(n="room7-5",springroll.Application.instance.voPlayer.play(["tutor7","tutor8",a])):2==b?springroll.Application.instance.voPlayer.play(["room2-3"]):3==b||4==b&&(n="room4-4",springroll.Application.instance.voPlayer.play([k,"room4-4",a]));break;case 2:3==b?springroll.Application.instance.voPlayer.play(["room3-11"]):(4==b||8==b)&&j();break;case 3:break;case 4:}},o.playWrongVoAmount=function(a,b,c){b>a?springroll.Application.instance.voPlayer.play(["more"+(c+1)]):springroll.Application.instance.voPlayer.play(["less"+(c+1)])},o.playPuppyCountVo=function(a){a>=2&&springroll.Application.instance.voPlayer.play(["puppy"+a])},o.playerLevelCompleteVo=function(){switch(ss.puppyquest.LevelManager.CurrentLevel){case 4:springroll.Application.instance.voPlayer.play(["room13-2"]);break;default:springroll.Application.instance.voPlayer.play(["room4-5"])}},o.PlayVo=function(){springroll.Application.instance.sound.play("Switch_Activate")},o.construct()}}(),function(){"use strict";ss.puppyquest.AssetHelper=ss.puppyquest.AssetHelper||new function(){function a(a){return null===a?!1:"function"==typeof a||"object"==typeof a}function b(a){var b=new createjs.Shape,c=a.getBounds();return b.graphics.beginFill("#000000"),b.graphics.drawRect(c.x,c.y,c.x+c.width,c.y+c.height),b.graphics.endFill(),b.setBounds(c.x,c.y,c.width,c.height),(ss.SystemInfo.isIPhone||ss.SystemInfo.isIPod)&&b.cache(c.x,c.y,c.width,c.height),b}var c,d=this;d.loadSpriteSheets=function(a){c={};for(var b=0;b<a.length;b++){for(var d=JSON.parse(JSON.stringify(springroll.Application.instance.config.spritesheets[a[b]])),e=[],f=0;f<d.images.length;f++)e.push(springroll.Application.instance.getCache(d.images[f]));d.images=e;var g;try{g=new createjs.SpriteSheet(d)}catch(h){}for(var i in d.animations)c[i]=g}},d.getSprite=function(a,d,e,f,g){var h,i=c[a];try{h=new createjs.Sprite(i,a)}catch(j){}return d===!0?(h.mouseEnabled=!0,e===!0&&(h.hitArea=b(h)),f!==!1&&(h.cursor="pointer")):h.mouseEnabled=!1,h.width=c[a].getFrameBounds(h.currentFrame).width,h.height=c[a].getFrameBounds(h.currentFrame).height,h.framerate=24,g&&(h.regX=h.width/2,h.regY=h.height/2),h},d.clearFlashFile=function(b,c){if(ss.isEmpty(c)&&(c=0),b.prototype=void 0,a(b)&&!(c>=10))for(var e in b)a(b[e])&&(-1!==e.indexOf("shape")||-1!==e.indexOf("instance"))&&d.clearFlashFile(b[e],c+1),delete b[e]},d.getBitmap=function(a,c,d,e,f){var g;return ss.isEmpty(springroll.Application.instance.getCache(a))?null:(g=new createjs.Bitmap(springroll.Application.instance.getCache(a)),c===!0?(g.mouseEnabled=!0,d===!0&&(g.hitArea=b(g)),e!==!1&&(g.cursor="pointer")):g.mouseEnabled=!1,g.width=g.image.width,g.height=g.image.height,f&&(g.regX=g.width/2,g.regY=g.height/2),g)},d.unload=function(a){for(var b=[],c=0;c<a.assets.length;c++)b.push(a.assets[c].id);springroll.Application.instance.unload(b),b=void 0}}}(),ss.puppyquest.BaseTile=function(){"use strict";var a=this;createjs.Container.call(this);var b,c=0,d=0;a.start=function(b,e,f,g){c=f,d=g;var h=ss.puppyquest.TilesetManager.getTile(b);a.x=f*e.x,a.y=g*e.y,a.addChild(h)},a.handleUpdate=function(){},a.destroy=function(){a.removeChild(b),c=void 0,d=void 0,b=void 0}},ss.puppyquest.BaseTile.prototype=new createjs.Container,ss.puppyquest.BaseTile.prototype.constructor=ss.puppyquest.BaseTile,function(){"use strict";function a(a,b,c,d){function e(a,b,c,d,e){g=a,h=b,ss.puppyquest.MapTileLayer.TILE_WIDTH=c,ss.puppyquest.MapTileLayer.TILE_HEIGHT=d}function f(a){for(var b=0;b<g.tilesets.length;b++)if(g.tilesets[b].firstgid===a)return g.tilesets[b]}createjs.Container.call(this);var g,h,i=this,j=[],k=19,l=14,m=27,n=22;return i.loadRoomMap=function(){for(var a=0;a<h.data.length;a++){var b=a%h.width,c=Math.floor(a/h.width),d=h.data[a];if(!(1>d||b>=m||c>=n)){var e=(f(h.data[a]),new ss.puppyquest.BaseTile);e.start(h.data[a],{x:b,y:c},ss.puppyquest.MapTileLayer.TILE_WIDTH,ss.puppyquest.MapTileLayer.TILE_HEIGHT,h.data[a]-1),j.push(e),b>=k&&(e.scaleX=1.01),c>=l&&(e.scaleY=1.02),i.addChild(e)}}},i.clearMap=function(){for(var a=j.length-1;a>=0;a--)i.removeChild(j[a]),j[a].destroy(),j[a]=void 0,j.splice(a,1)},i.release=function(){i.uncache(),i.clearMap(),i.removeAllChildren(),j=void 0,g=void 0,h=void 0,i=void 0},e(a,b,c,d)}a.prototype=new createjs.Container,a.prototype.constructor=a,ss.puppyquest.MapTileLayer=a,ss.puppyquest.MapTileLayer.TILE_WIDTH=55,ss.puppyquest.MapTileLayer.TILE_HEIGHT=55}(),function(){"use strict";ss.puppyquest.TilesetManager=ss.puppyquest.TilesetManager||new function(){var a=this,b={};return a.construct=function(){return a},a.loadTileset=function(a){for(var c=0;c<a.tilesets.length;c++){var d=a.tilesets[c],e=d.imagewidth/d.tilewidth,f=d.imageheight/d.tileheight;if(void 0===d.tileproperties)for(var g=d.firstgid,h=a.tilesets[c].name,i=0;f>i;i++)for(var j=0;e>j;j++){var k=j*d.tilewidth,l=i*d.tileheight,m=ss.puppyquest.AssetHelper.getBitmap(h);m.sourceRect=new createjs.Rectangle(k,l,d.tilewidth,d.tileheight),b[g]=m,g++}}},a.getTile=function(a){return b[a].clone()},a.release=function(){b={}},a.construct()}}(),ss.puppyquest.BaseDoor=function(){"use strict";var a=this;createjs.Container.call(this);var b,c,d,e,f,g,h,i,j,k,l=new ss.Vector2(0,0),m=0,n=0,o="",p=[],q=!1,r=!1;a.getObjectId=function(){return o},a.getDoorTriggers=function(){return p},a.getDoorColor=function(){return e},a.getDoorPosition=function(){return l},a.getSpriteType=function(){return j},a.getDoorFacing=function(){return k},a.getDoorOffset=function(){return new ss.Vector2(u,v)};var s=0,t=0,u=0,v=0,w=64;a.start=function(b){d=new createjs.Container,o=b.properties.ObjectName,e=b.properties.DoorColor,j=b.properties.SpriteType,l=new ss.Vector2(b.x,b.y),u=b.properties.SpriteOffsetX,v=b.properties.SpriteOffsetY,m=b.width,n=b.height,r=b.properties.IsAnimation,k=b.properties.DoorFacing,void 0!==b.properties.TriggerDelay&&(s=b.properties.TriggerDelay),a.x=l.x,a.y=l.y,a.loadSprite()},a.loadSprite=function(){if(void 0!==r)if(r===!0){var b=void 0!==e?j+e:j;f=j,i=b+"Closed",g=b+"Closing",h=b+"Opening",ss.puppyquest.AssetHelper.loadSpriteSheets([f]),c=ss.puppyquest.AssetHelper.getSprite(i)}else c=ss.puppyquest.AssetHelper.getBitmap(j);d.regX=u,d.regY=v,d.addChild(c),a.addChild(d),a.createPhysicsBody(),"Right"==k?d.scaleX=-1:"Up"==k&&(d.scaleY=-1)},a.linkDoorTrigger=function(a){p.push(a)},a.createPhysicsBody=function(){var c=a.x,d=a.y;n>m?d+=w:c+=w,b=ss.puppyquest.PhysicsManager.createRectBody(c,d,m,n,"static"),ss.puppyquest.PhysicsManager.add(b)},a.toggleCollider=function(a){a===!0?ss.puppyquest.PhysicsManager.add(b):ss.puppyquest.PhysicsManager.getPhysicsWorld().remove(b)};a.handleUpdate=function(b){switch(x){case ss.puppyquest.BaseDoor.DOOR_STATE_CLOSED:a.handleClosedState(b);break;case ss.puppyquest.BaseDoor.DOOR_STATE_DELAYED:a.handleDelayedState(b);break;case ss.puppyquest.BaseDoor.DOOR_STATE_MOVING:a.handleMovingState(b);break;case ss.puppyquest.BaseDoor.DOOR_STATE_OPEN:a.handleOpeningState(b)}},a.switchDoorState=function(a){x=a},a.handleClosedState=function(b){p.length>0&&a.checkDoor()===!0&&(s>0?a.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_DELAYED):a.openDoor())},a.handleDelayedState=function(b){t+=b,t>=s&&a.openDoor()},a.handleMovingState=function(a){},a.handleOpeningState=function(a){};var x=0;a.checkDoor=function(){for(var a=0;a<p.length;a++)if(p[a].isTriggerOn()===!1)return!1;return!0},a.openDoor=function(){springroll.Application.instance.sound.play("LabDoor_Open"),d.removeChild(c),r===!0?(ss.puppyquest.AssetHelper.loadSpriteSheets([f]),c=ss.puppyquest.AssetHelper.getSprite(h),d.addChild(c)):d.removeChild(c),a.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_OPEN),a.toggleCollider(!1),q=!0},a.closeDoor=function(){d.removeChild(c),r===!0&&(ss.puppyquest.AssetHelper.loadSpriteSheets([f]),c=ss.puppyquest.AssetHelper.getSprite(g)),d.addChild(c),a.toggleCollider(!0),a.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_CLOSED),q=!1},a.destroy=function(){ss.puppyquest.PhysicsManager.getPhysicsWorld().removeBody(b),d.removeChild(c),a.removeChild(d),l=void 0,m=void 0,n=void 0,b=void 0,o=void 0,p=void 0,q=void 0,c=void 0,d=void 0},ss.puppyquest.BaseDoor.DOOR_STATE_CLOSED=0,ss.puppyquest.BaseDoor.DOOR_STATE_DELAYED=1,ss.puppyquest.BaseDoor.DOOR_STATE_MOVING=2,ss.puppyquest.BaseDoor.DOOR_STATE_OPEN=3},ss.puppyquest.BaseDoor.prototype=new createjs.Container,ss.puppyquest.BaseDoor.prototype.constructor=ss.puppyquest.BaseDoor,ss.puppyquest.PushDoor=function(){"use strict";function a(){j>i?n=l:i>j?m=k:(m=k,n=l);var a=b.x+m,d=b.y+n;c=ss.puppyquest.PhysicsManager.createRectBody(a,d,i,j,"static"),ss.puppyquest.PhysicsManager.add(c)}var b=this;ss.puppyquest.BaseDoor.call(this);var c,d,e,f,g,h,i=0,j=0,k=75,l=75,m=0,n=0,o=0,p=165,q={};q.start=b.start,b.start=function(a){f=new ss.Vector2(a.properties.TargetPositionX,a.properties.TargetPositionY),i=a.width,j=a.height,q.start(a)},b.loadSprite=function(){e=new createjs.Container,d=ss.puppyquest.AssetHelper.getBitmap(b.getSpriteType()),"IceCart"===b.getSpriteType()?("Left"==b.getDoorFacing()&&(d.x=p,d.scaleX=-1),h="sfx-move-cart"):h="sfx-move-dumpster",b.x=b.getDoorPosition().x,b.y=b.getDoorPosition().y,e.addChild(d),b.addChild(e),a()},b.handleMovingState=function(a){o+=a;var d=ss.MathUtils.lerp(g,f,o);c.state.pos.x=d.x+m,c.state.pos.y=d.y+n,b.x=c.state.pos.x-m,b.y=c.state.pos.y-n,c.state.vel.set(0,0),c.sleep(!0),o>=1&&b.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_OPEN)},b.openDoor=function(){springroll.Application.instance.sound.play(h),g=new ss.Vector2(b.x,b.y),b.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_MOVING)},b.closeDoor=function(){},q.destroy=b.destroy,b.destroy=function(){ss.puppyquest.PhysicsManager.getPhysicsWorld().removeBody(c),e.removeChild(d),b.removeChild(e),i=void 0,j=void 0,c=void 0,d=void 0,e=void 0,f=void 0,m=void 0,n=void 0,o=void 0,g=void 0,h=void 0,p=void 0,q.destroy(),q=void 0,b=void 0}},ss.puppyquest.PushDoor.prototype=new ss.puppyquest.BaseDoor,ss.puppyquest.PushDoor.prototype.constructor=ss.puppyquest.PushDoor,ss.puppyquest.BarrierDoor=function(){"use strict";var a=this;ss.puppyquest.BaseDoor.call(this);var b,c,d,e,f,g,h=15,i=25,j={};a.loadSprite=function(){c=new createjs.Container,"Pink"==a.getDoorColor()?(d="RedBarrier",g="RedBarrierClosed",e="RedBarrierClosing",f="RedBarrierOpening"):(d="YellowBarrier",g="YellowBarrierClosed",e="YellowBarrierClosing",f="YellowBarrierOpening"),ss.puppyquest.AssetHelper.loadSpriteSheets([d]),b=ss.puppyquest.AssetHelper.getSprite(g),c.regX=h,c.regY=i,a.x=a.getDoorPosition().x,a.y=a.getDoorPosition().y,c.addChild(b),a.addChild(c),a.createPhysicsBody()},a.openDoor=function(){springroll.Application.instance.sound.play("LabDoor_Open"),c.removeChild(b),ss.puppyquest.AssetHelper.loadSpriteSheets([d]),b=ss.puppyquest.AssetHelper.getSprite(f),c.addChild(b),a.toggleCollider(!1),a.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_OPEN)},a.closeDoor=function(){c.removeChild(b),ss.puppyquest.AssetHelper.loadSpriteSheets([d]),b=ss.puppyquest.AssetHelper.getSprite(e),c.addChild(b),a.toggleCollider(!0)},j.destroy=a.destroy,a.destroy=function(){j.destroy(),c.removeChild(b),a.removeChild(c),b=void 0,c=void 0,h=void 0,i=void 0,d=void 0,e=void 0,f=void 0,g=void 0}},ss.puppyquest.BarrierDoor.prototype=new ss.puppyquest.BaseDoor,ss.puppyquest.BarrierDoor.prototype.constructor=ss.puppyquest.BarrierDoor,ss.puppyquest.VineDoor=function(){"use strict";var a=this;ss.puppyquest.BaseDoor.call(this);var b,c,d,e,f,g,h={};a.loadSprite=function(){switch(c=new createjs.Container,a.getDoorColor()){case"Teal":d="BlueVine",g="BlueVineClosed",e="BlueVineClosing",f="BlueVineOpening";break;case"Pink":d="PinkVine",g="PinkVineClosed",e="PinkVineClosing",f="PinkVineOpening";break;case"Purple":d="PurpleVine",g="PurpleVineClosed",e="PurpleVineClosing",f="PurpleVineOpening";break;default:d="Vine",g="VineClosed",e="VineClosing",f="VineOpening"}ss.puppyquest.AssetHelper.loadSpriteSheets([d]),b=ss.puppyquest.AssetHelper.getSprite(g),a.x=a.getDoorPosition().x,a.y=a.getDoorPosition().y,c.addChild(b),a.addChild(c),a.createPhysicsBody()},a.openDoor=function(){springroll.Application.instance.sound.play("sfx-move-vines"),c.removeChild(b),ss.puppyquest.AssetHelper.loadSpriteSheets([d]),b=ss.puppyquest.AssetHelper.getSprite(f),c.addChild(b),a.toggleCollider(!1),a.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_OPEN)},a.closeDoor=function(){c.removeChild(b),ss.puppyquest.AssetHelper.loadSpriteSheets([d]),b=ss.puppyquest.AssetHelper.getSprite(e),c.addChild(b),a.toggleCollider(!0)},h.destroy=a.destroy,a.destroy=function(){c.removeChild(b),a.removeChild(c),b=void 0,c=void 0,d=void 0,e=void 0,f=void 0,g=void 0,h.destroy(),h=void 0,a=void 0}},ss.puppyquest.VineDoor.prototype=new ss.puppyquest.BaseDoor,ss.puppyquest.VineDoor.prototype.constructor=ss.puppyquest.VineDoor,ss.puppyquest.DinoDoor=function(){"use strict";var a=this;ss.puppyquest.BaseDoor.call(this);var b,c,d,e,f,g,h,i,j,k=0,l=0,m=193,n=275,o=0,p=1.35,q={};q.start=a.start,a.start=function(a){e=new ss.Vector2(a.properties.TargetPositionX,a.properties.TargetPositionY),k=a.width,l=a.height,q.start(a)},a.loadSprite=function(){d=new createjs.Container,g="IdleDino",i="DinoIdle",h="WalkDino",j="DinoWalk",ss.puppyquest.AssetHelper.loadSpriteSheets([g]),c=ss.puppyquest.AssetHelper.getSprite(i),c.scaleX=p,c.scaleY=p,a.x=a.getDoorPosition().x,a.y=a.getDoorPosition().y,d.addChild(c),a.addChild(d),a.createPhysicsBody()},a.createPhysicsBody=function(){var c=a.x+m,d=a.y+n;b=ss.puppyquest.PhysicsManager.createRectBody(c,d,k,l,"static"),ss.puppyquest.PhysicsManager.add(b)},a.handleMovingState=function(h){o+=.5*h;var j=ss.MathUtils.lerp(f,e,o);b.state.pos.x=j.x+m,b.state.pos.y=j.y+n,a.x=b.state.pos.x-m,a.y=b.state.pos.y-n,b.state.vel.set(0,0),b.sleep(!0),o>=1&&(d.removeChild(c),ss.puppyquest.AssetHelper.loadSpriteSheets([g]),c=ss.puppyquest.AssetHelper.getSprite(i),c.scaleX=p,c.scaleY=p,d.addChild(c),a.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_OPEN))},a.openDoor=function(){springroll.Application.instance.sound.play("sfx-move-dinosaur"),d.removeChild(c),ss.puppyquest.AssetHelper.loadSpriteSheets([h]),c=ss.puppyquest.AssetHelper.getSprite(j),c.scaleX=p,c.scaleY=p,d.addChild(c),f=new ss.Vector2(a.x,a.y),a.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_MOVING)},a.closeDoor=function(){},q.destroy=a.destroy,a.destroy=function(){ss.puppyquest.PhysicsManager.getPhysicsWorld().removeBody(b),d.removeChild(c),a.removeChild(d),k=void 0,l=void 0,b=void 0,c=void 0,d=void 0,e=void 0,m=void 0,n=void 0,o=void 0,f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,q.destroy(),q=void 0,a=void 0}},ss.puppyquest.DinoDoor.prototype=new ss.puppyquest.BaseDoor,ss.puppyquest.DinoDoor.prototype.constructor=ss.puppyquest.DinoDoor,ss.puppyquest.GadgetDoor=function(){"use strict";function a(){ss.puppyquest.AssetHelper.loadSpriteSheets(["BlueLaser"]),m=ss.puppyquest.AssetHelper.getSprite("BlueLaser"),m.y=q,m.regX=r,m.regY=s,f.addChild(m),ss.puppyquest.AssetHelper.loadSpriteSheets(["GadgetBurst"]),g=ss.puppyquest.AssetHelper.getSprite("GadgetBurst"),g.y=q,g.regX=r,g.regY=s,f.addChild(g),ss.puppyquest.AssetHelper.loadSpriteSheets(["GadgetPuff"]),h=ss.puppyquest.AssetHelper.getSprite("GadgetPuff"),h.y=t,h.regX=u,h.regY=v,f.addChild(h),o=!0,n=0,springroll.Application.instance.sound.play("sfx-laser-zap")}function b(){f.removeChild(m),f.removeChild(g),f.removeChild(h),o=!1}var c=this;ss.puppyquest.BaseDoor.call(this);var d,e,f,g,h,i,j,k,l,m,n=0,o=!1,p=0,q=55,r=30,s=53.5,t=240,u=50,v=53.5,w=.7,x=47,y=53.5,z=.8,A={};A.start=c.start,c.start=function(a){p=a.properties.rotation,A.start(a)},c.loadSprite=function(){f=new createjs.Container,c.x=c.getDoorPosition().x,c.y=c.getDoorPosition().y,f.rotation=p,e=ss.puppyquest.AssetHelper.getBitmap("Gadget2"),e.regX=x,e.regY=y,"None"!==c.getSpriteType()&&f.addChild(e),f.scaleX=z,f.scaleY=z,c.addChild(f)},c.handleOpeningState=function(a){o===!0&&(n+=a,n>=w&&b())},c.openDoor=function(){a(),c.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_OPEN);
},c.closeDoor=function(){},A.destroy=c.destroy,c.destroy=function(){f.removeChild(e),c.removeChild(f),d=void 0,e=void 0,f=void 0,g=void 0,h=void 0,n=void 0,o=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A.destroy(),A=void 0,c=void 0}},ss.puppyquest.GadgetDoor.prototype=new ss.puppyquest.BaseDoor,ss.puppyquest.GadgetDoor.prototype.constructor=ss.puppyquest.GadgetDoor,ss.puppyquest.AnimatedGadgetDoor=function(){"use strict";function a(){d.removeChild(f),ss.puppyquest.AssetHelper.loadSpriteSheets(["GadgetDoor"]),f=ss.puppyquest.AssetHelper.getSprite("GadgetDoorOpening"),d.addChild(f)}var b=this;ss.puppyquest.BaseDoor.call(this);var c,d,e,f,g,h,i,j=0,k=1,l=82,m=82,n=.8,o=55,p=30,q=53.5,r=240,s=50,t=53.5,u={};b.loadSprite=function(){d=new createjs.Container,g=new createjs.Container,ss.puppyquest.AssetHelper.loadSpriteSheets(["GadgetDoor"]),f=ss.puppyquest.AssetHelper.getSprite("GadgetDoorClosed"),d.addChild(f),b.x=b.getDoorPosition().x,b.y=b.getDoorPosition().y,g.x=l,g.y=m,g.scaleX=n,g.scaleY=n,b.addChild(d)},b.openDoor=function(){a(),b.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_OPEN)},b.closeDoor=function(){},u.destroy=b.destroy,b.destroy=function(){b.removeChild(d),c=void 0,d=void 0,e=void 0,f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u.destroy(),u=void 0,b=void 0}},ss.puppyquest.AnimatedGadgetDoor.prototype=new ss.puppyquest.BaseDoor,ss.puppyquest.AnimatedGadgetDoor.prototype.constructor=ss.puppyquest.AnimatedGadgetDoor,ss.puppyquest.TruckDoor=function(){"use strict";function a(){var a=b.x,d=b.y+j;c=ss.puppyquest.PhysicsManager.createRectBody(a,d,h,i,"static"),ss.puppyquest.PhysicsManager.add(c)}var b=this;ss.puppyquest.BaseDoor.call(this);var c,d,e,f,g,h=0,i=0,j=75,k=0,l={};l.start=b.start,b.start=function(a){f=new ss.Vector2(a.properties.TargetPositionX,a.properties.TargetPositionY),h=a.width,i=a.height,l.start(a)},b.loadSprite=function(){e=new createjs.Container,d=ss.puppyquest.AssetHelper.getBitmap("Truck"),b.x=b.getDoorPosition().x,b.y=b.getDoorPosition().y,e.addChild(d),b.addChild(e),a()},b.handleMovingState=function(a){k+=a;var d=ss.MathUtils.lerp(g,f,k);c.state.pos.x=d.x,c.state.pos.y=d.y+j,b.x=c.state.pos.x,b.y=c.state.pos.y-j,c.state.vel.set(0,0),c.sleep(!0),k>=1&&b.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_OPEN)},b.openDoor=function(){springroll.Application.instance.sound.play("sfx-move-truck"),g=new ss.Vector2(b.x,b.y),b.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_MOVING)},b.closeDoor=function(){},l.destroy=b.destroy,b.destroy=function(){ss.puppyquest.PhysicsManager.getPhysicsWorld().removeBody(c),e.removeChild(d),b.removeChild(e),h=void 0,i=void 0,c=void 0,d=void 0,e=void 0,f=void 0,j=void 0,k=void 0,g=void 0,l.destroy(),l=void 0,b=void 0}},ss.puppyquest.TruckDoor.prototype=new ss.puppyquest.BaseDoor,ss.puppyquest.TruckDoor.prototype.constructor=ss.puppyquest.TruckDoor,ss.puppyquest.PlatformDoor=function(){"use strict";var a=this;ss.puppyquest.BaseDoor.call(this);var b,c,d,e,f,g={};a.loadSprite=function(){c=new createjs.Container,"Down"===a.getDoorFacing()?(d=a.getDoorColor()+"Bridge2",f=a.getDoorColor()+"Bridge2Closed",e=a.getDoorColor()+"Bridge2Opening"):(d="PinkBridge1",f="PinkBridge1Closed",e="PinkBridge1Opening"),ss.puppyquest.AssetHelper.loadSpriteSheets([d]),b=ss.puppyquest.AssetHelper.getSprite(f),c.addChild(b),a.x=a.getDoorPosition().x,a.y=a.getDoorPosition().y,c.addChild(b),a.addChild(c),a.createPhysicsBody()},a.openDoor=function(){c.removeChild(b),ss.puppyquest.AssetHelper.loadSpriteSheets([d]),b=ss.puppyquest.AssetHelper.getSprite(e),c.addChild(b),a.toggleCollider(!1),a.switchDoorState(ss.puppyquest.BaseDoor.DOOR_STATE_OPEN)},a.closeDoor=function(){a.toggleCollider(!0)},g.destroy=a.destroy,a.destroy=function(){c.removeChild(b),a.removeChild(c),b=void 0,c=void 0,d=void 0,e=void 0,f=void 0,g.destroy(),g=void 0,a=void 0}},ss.puppyquest.PlatformDoor.prototype=new ss.puppyquest.BaseDoor,ss.puppyquest.PlatformDoor.prototype.constructor=ss.puppyquest.PusPlatformDoorhDoor,ss.puppyquest.RobPlantDoor=function(){"use strict";function a(){var a=d.x+k,b=d.y+l;e=ss.puppyquest.PhysicsManager.createRectBody(a,b,h,i,"static"),ss.puppyquest.PhysicsManager.add(e)}function b(){for(var a=d.getDoorTriggers().length-1;a>=0;a--)if(d.getDoorTriggers()[a].isTriggerOn()===!0)return d.getDoorTriggers().splice(a,1),!0;return!1}function c(){g.removeChild(f),d.getDoorTriggers().length>0?(ss.puppyquest.AssetHelper.loadSpriteSheets(["RobHit"]),f=ss.puppyquest.AssetHelper.getSprite("RobHit")):(ss.puppyquest.AssetHelper.loadSpriteSheets(["Rob"]),f=ss.puppyquest.AssetHelper.getSprite("RobOpening")),g.addChild(f)}var d=this;ss.puppyquest.BaseDoor.call(this);var e,f,g,h=0,i=0,j=35,k=110,l=110,m={};m.start=d.start,d.start=function(a){h=a.width,i=a.height,m.start(a)},d.loadSprite=function(){g=new createjs.Container,ss.puppyquest.AssetHelper.loadSpriteSheets(["Rob"]),f=ss.puppyquest.AssetHelper.getSprite("RobClosed"),g.addChild(f),d.x=d.getDoorPosition().x-j,d.y=d.getDoorPosition().y,g.addChild(f),d.addChild(g),a()},d.handleClosedState=function(a){d.getDoorTriggers().length>0&&b()===!0&&d.openDoor()},d.openDoor=function(){springroll.Application.instance.sound.play("LabDoor_Open"),c()},d.closeDoor=function(){},m.destroy=d.destroy,d.destroy=function(){ss.puppyquest.PhysicsManager.getPhysicsWorld().removeBody(e),g.removeChild(f),d.removeChild(g),h=void 0,i=void 0,e=void 0,f=void 0,g=void 0,j=void 0,k=void 0,l=void 0,m.destroy(),m=void 0,d=void 0}},ss.puppyquest.RobPlantDoor.prototype=new ss.puppyquest.BaseDoor,ss.puppyquest.RobPlantDoor.prototype.constructor=ss.puppyquest.RobPlantDoor,ss.puppyquest.BaseTrigger=function(){"use strict";function a(){B=new ss.puppyquest.BubblePopup,B.start(i,e.triggerRect.width,e.targetAmount,n),B.x=e.x,B.y=e.y,e.getGlobalBubbleContainer().addChild(B)}function b(a){for(var b=0,c=0;c<e.puppiesOnTrigger.length;c++)for(var d=0;d<a.length;d++)e.puppiesOnTrigger[c]==a[d]&&b++;return a.length-b}function c(){for(var a=0,b=e.puppiesOnTrigger.length-1;b>=0;b--)void 0!==e.puppiesOnTrigger[b]&&e.puppiesOnTrigger[b].isFollowing()===!1&&a++;return a}function d(a){for(var b=0;b<e.puppiesOnTrigger.length;b++)if(void 0===e.puppiesOnTrigger[b])return e.puppiesOnTrigger[b]=a,void x++;x++,e.puppiesOnTrigger.push(a)}var e=this;createjs.Container.call(this),e.triggerRect=new ss.Rectangle(0,0,1,1),e.puppiesOnTrigger=[],e.targetAmount=2,e.triggerOrder=0;var f,g,h,i,j,k,l,m,n,o=!1,p=32,q=87,r=90,s=270,t=39,u=!1,v=0,w=2,x=0,y=5,z=6,A=0;e.isRobLinked=!1;var B;e.getLinkedObjectId=function(){return f},e.getSpriteType=function(){return l},e.isTriggerOn=function(){return o},e.getTriggerType=function(){return g},e.getGlobalBubbleContainer=function(){return h},e.getSwitchColor=function(){return j},e.start=function(b,c){e.targetAmount=b.properties.TargetAmount,f=b.properties.LinkedObject,g=b.properties.SwitchType,i=b.properties.BubbleFacing,j=b.properties.SwitchColor,l=b.properties.SpriteType,h=c,n=b.properties.PointerDirection,void 0!==b.properties.RobLinked&&(e.isRobLinked=b.properties.RobLinked),void 0!==b.properties.TriggerOrder?e.triggerOrder=parseInt(b.properties.TriggerOrder):e.triggerOrder=Number.MAX_SAFE_INTEGER,e.x=b.x,e.y=b.y,e.triggerRect=new ss.Rectangle(b.x,b.y,b.width,b.height),e.loadTriggerSprite(),a()},e.showSwitchPointer=function(){void 0!==n&&(m=new ss.puppyquest.HandPointer,m.showPointer(),"Right"==n?(m.regX=p,m.regY=t,m.rotation=r,m.x=e.x-e.triggerRect.width/2,m.y=e.y+e.triggerRect.height/2):(m.regX=q,m.regY=t,m.rotation=s,m.x=e.x+e.triggerRect.width,m.y=e.y+e.triggerRect.height/2,m.scaleX=-1),e.getGlobalBubbleContainer().addChild(m))},e.removeSwitchPointer=function(){e.getGlobalBubbleContainer().removeChild(m)},e.showBubble=function(){B.showBubble(),ss.puppyquest.VoManager.turnOnSwitchHint(e.targetAmount)},e.hideBubble=function(){B.hideBubble()},e.showBubblePointer=function(){B.showBubblePointer()},e.removeBubblePointer=function(){B.removeBubblePointer()},e.loadTriggerSprite=function(){},e.updateFadeOut=function(a){B.handleUpdate(a),void 0!==m&&m.handleUpdate(a)},e.setLinkedObject=function(a){f=a},e.checkTriggerEnter=function(a,c){o===!1&&e.containsPuppy(a)===!1&&e.triggerRect.hitTest(a.getCenter())===!0&&(d(a),e.snapPuppies(),y=0,x==e.targetAmount?0===b(c)?(e.onTriggerEnter(),springroll.Application.instance.sound.play("Switch_Activate")):(v=0,u=!0,springroll.Application.instance.sound.play("Switch_On")):(v=0,u=!1,springroll.Application.instance.sound.play("Switch_On")))},e.checkTriggerExit=function(a){for(var b=e.puppiesOnTrigger.length-1;b>=0;b--)void 0!==e.puppiesOnTrigger[b]&&e.triggerRect.hitTest(e.puppiesOnTrigger[b].getCenter())===!1&&(x==e.targetAmount&&e.onTriggerExit(),e.puppiesOnTrigger[b]=void 0,x--,x==e.targetAmount?c()==e.targetAmount?e.onTriggerEnter():(v=0,u=!0):(v=0,u=!1))},e.UpdateTriggers=function(a,b){o===!1&&(e.checkTriggerExit(b),u===!0&&(v+=a,v>=w&&(v=0,u=!1,e.onTriggerEnter())))},e.updateHelpVo=function(a){x>0&&(y+=a,y>=z&&(y=0,3>A?ss.puppyquest.VoManager.playWrongVoAmount(e.targetAmount,e.puppiesOnTrigger.length,A):ss.puppyquest.VoManager.playPuppyCountVo(e.targetAmount),A++))},e.snapPuppies=function(){if(o===!1)for(var a=e.triggerRect.width/ss.puppyquest.MapTileLayer.TILE_WIDTH,b=e.triggerRect.height/ss.puppyquest.MapTileLayer.TILE_HEIGHT,c=0;c<e.puppiesOnTrigger.length;c++)if(void 0!==e.puppiesOnTrigger[c]){if(c>=a*b)break;if(1===e.puppiesOnTrigger[c].getPuppyState()){var d=c%a,f=Math.floor(c/a);e.puppiesOnTrigger[c].snapPuppy(new ss.Vector2(e.x+ss.puppyquest.MapTileLayer.TILE_WIDTH*d,e.y+ss.puppyquest.MapTileLayer.TILE_HEIGHT*f))}}},e.onTriggerEnter=function(){ss.puppyquest.VoManager.playTriggerCompleteVo(e.triggerOrder),ss.isEmpty(k)||k(),o=!0},e.onTriggerExit=function(){},e.addTriggerActive=function(a){k=a},e.containsPuppy=function(a){for(var b=0;b<e.puppiesOnTrigger.length;b++)if(a==e.puppiesOnTrigger[b])return!0;return!1},e.destroy=function(){e.removeChild(m),e.getGlobalBubbleContainer().removeChild(B),B.destroy(),e.triggerRect=void 0,e.puppiesOnTrigger=void 0,e.targetAmount=void 0,e.triggerOrder=void 0,e.isRobLinked=void 0,o=void 0,f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,e=void 0}},ss.puppyquest.BaseTrigger.prototype=new createjs.Container,ss.puppyquest.BaseTrigger.prototype.constructor=ss.puppyquest.BaseTrigger,ss.puppyquest.BubblePopup=function(){"use strict";function a(a){switch(G=a,a){case E:b.removeChild(e);break;case C:b.addChild(e),H=0;break;case D:H=0}}var b=this;createjs.Container.call(this);var c,d,e,f,g,h,i,j,k=10,l=70,m=55,n=55,o=57.5,p=135,q=10,r=110,s=20,t=32,u=64,v=55,w=-65,x=175,y=90,z=270,A=3,B=0,C="BUBBLE_STATE_FADING_IN",D="BUBBLE_STATE_FADING_OUT",E="BUBBLE_STATE_FADING_OUT_IDLE",F="BUBBLE_STATE_FADING_IN_IDLE",G=E,H=0,I=1,J=200,K=200;b.start=function(a,d,t,u){if(c=a,j=u,void 0!==c){e=new createjs.Container,ss.puppyquest.AssetHelper.loadSpriteSheets(["Numbers"]),f=ss.puppyquest.AssetHelper.getSprite("1"),f.gotoAndStop(t-1);var v=f.getBounds();10==t?(f.regX=v.width/2-A,f.regY=v.height/2):(f.regX=v.width/2+k,f.regY=v.height/2),"Up"===c?(g=ss.puppyquest.AssetHelper.getBitmap("Balloon2S"),e.x=b.x+d/2,e.y=b.y-q,e.regX=o,e.regY=p,f.x=n,f.y=m,h=new ss.Vector2(e.x,e.y),i=new ss.Vector2(e.x,e.y-s)):(g=ss.puppyquest.AssetHelper.getBitmap("Balloon2N"),e.x=b.x+d/2,e.y=b.y+r,e.regX=o,f.x=n,f.y=l,h=new ss.Vector2(e.x,e.y),i=new ss.Vector2(e.x,e.y+s)),e.addChild(g),e.addChild(f),e.scaleX=0,e.scaleY=0,e.cache(0,0,J,K)}},b.showBubble=function(){a(C)},b.hideBubble=function(){a(D)},b.showBubblePointer=function(){void 0!==j&&(d=new ss.puppyquest.HandPointer,d.showPointer(),d.regX=t,d.regY=u,"Right"==j?(d.rotation=y,d.x=w,d.y=v):(d.rotation=z,d.x=x,d.y=v),e.addChild(d))},b.removeBubblePointer=function(){e.removeChild(d)},b.handleUpdate=function(b){switch(G){case F:if(void 0!==g){B+=.6*b;var c=ss.MathUtils.lerp(h,i,B);if(e.y=c.y,B>=1){var d=h;h=i,i=d,B=0}}break;case C:void 0!==g&&(H+=2*b,I=ss.MathUtils.lerp1D(0,1,H),e.scaleX=I,e.scaleY=I,H>=1&&(e.scaleX=1,e.scaleY=1,a(F)));break;case D:void 0!==g&&(H+=2*b,I=ss.MathUtils.lerp1D(1,0,H),e.scaleX=I,e.scaleY=I,H>=1&&(e.scaleX=0,e.scaleY=0,a(E)))}},b.destroy=function(){e.removeChild(g),e.removeChild(f),e.removeChild(d),void 0!==d&&d.destroy(),c=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0,d=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,e=void 0,f=void 0,g=void 0,h=void 0,i=void 0,B=void 0,j=void 0,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,b=void 0}},ss.puppyquest.BubblePopup.prototype=new createjs.Container,ss.puppyquest.BubblePopup.prototype.constructor=ss.puppyquest.BubblePopup,ss.puppyquest.PushTrigger=function(){"use strict";var a=this;ss.puppyquest.BaseTrigger.call(this);var b,c=!1,d=.75,e={};a.loadTriggerSprite=function(){var c=a.triggerRect.width/ss.puppyquest.MapTileLayer.TILE_WIDTH,d=a.triggerRect.height/ss.puppyquest.MapTileLayer.TILE_HEIGHT;b=ss.puppyquest.AssetHelper.getBitmap("Push"+c+"x"+d),b.alpha=.75,a.addChild(b)},e.UpdateTriggers=a.UpdateTriggers,a.UpdateTriggers=function(b,c){e.UpdateTriggers(b,c),a.isTriggerOn()===!1&&a.updateHelpVo(b)},e.updateFadeOut=a.updateFadeOut,a.updateFadeOut=function(a){e.updateFadeOut(a),c===!0&&(d-=a,b.alpha=d,0>=d&&(d=0,c=!1,b.alpha=d))},e.onTriggerEnter=a.onTriggerEnter,a.onTriggerEnter=function(){e.onTriggerEnter(),c=!0;for(var b=0;b<a.puppiesOnTrigger.length;b++)void 0!==a.puppiesOnTrigger[b]&&a.puppiesOnTrigger[b].startBarking()},e.destroy=a.destroy,a.destroy=function(){a.removeChild(b),b=void 0,c=void 0,d=void 0,e.destroy(),e=void 0,a=void 0}},ss.puppyquest.PushTrigger.prototype=new ss.puppyquest.BaseTrigger,ss.puppyquest.PushTrigger.prototype.constructor=ss.puppyquest.PushTrigger,ss.puppyquest.JamTrigger=function(){"use strict";var a=this;ss.puppyquest.BaseTrigger.call(this);var b,c={};c.start=a.start,a.loadTriggerSprite=function(){b=ss.puppyquest.AssetHelper.getBitmap(a.getSpriteType()),a.addChild(b)},a.checkTriggerEnter=function(a,b){},a.checkTriggerExit=function(a){},c.destroy=a.destroy,a.destroy=function(){a.removeChild(b),b=void 0,c.destroy(),c=void 0,a=void 0}},ss.puppyquest.JamTrigger.prototype=new ss.puppyquest.BaseTrigger,ss.puppyquest.JamTrigger.prototype.constructor=ss.puppyquest.JamTrigger,ss.puppyquest.ExitTrigger=function(){"use strict";var a=this;ss.puppyquest.BaseTrigger.call(this);var b,c={};a.loadTriggerSprite=function(){var c=a.triggerRect.width/ss.puppyquest.MapTileLayer.TILE_WIDTH,d=a.triggerRect.height/ss.puppyquest.MapTileLayer.TILE_HEIGHT,e="ExitShine"+c+"x"+d;ss.puppyquest.AssetHelper.loadSpriteSheets([e]),b=ss.puppyquest.AssetHelper.getSprite(e)},c.showBubble=a.showBubble,a.showBubble=function(){c.showBubble(),a.addChild(b)},c.hideBubble=a.hideBubble,a.hideBubble=function(){c.hideBubble(),a.removeChild(b)},c.destroy=a.destroy,a.destroy=function(){c.destroy(),c=void 0,a=void 0}},ss.puppyquest.ExitTrigger.prototype=new ss.puppyquest.BaseTrigger,ss.puppyquest.ExitTrigger.prototype.constructor=ss.puppyquest.ExitTrigger,ss.puppyquest.EndTrigger=function(){"use strict";var a=this;ss.puppyquest.BaseTrigger.call(this);var b,c,d,e=82,f=157,g=138,h=111,i=96,j={};a.loadTriggerSprite=function(){ss.puppyquest.AssetHelper.loadSpriteSheets(["EndMatAnimation"]),b=ss.puppyquest.AssetHelper.getSprite("EndMatLoop"),a.addChild(b)},j.onTriggerEnter=a.onTriggerEnter,a.onTriggerEnter=function(){j.onTriggerEnter(),ss.puppyquest.AssetHelper.loadSpriteSheets(["ShineBurst"]),c=ss.puppyquest.AssetHelper.getSprite("ShineBurst"),c.x=a.x+e,c.y=a.y+e,c.regX=f,c.regY=g,ss.puppyquest.AssetHelper.loadSpriteSheets(["SparkBurst"]),d=ss.puppyquest.AssetHelper.getSprite("SparkBurst"),d.x=a.x+e,d.y=a.y+e,d.regX=h,d.regY=i,a.getGlobalBubbleContainer().addChild(c),a.getGlobalBubbleContainer().addChild(d)},j.destroy=a.destroy,a.destroy=function(){a.removeChild(b),a.getGlobalBubbleContainer().removeChild(c),a.getGlobalBubbleContainer().removeChild(d),b=void 0,c=void 0,d=void 0,e=void 0,f=void 0,g=void 0,h=void 0,i=void 0,j.destroy(),j=void 0,a=void 0}},ss.puppyquest.EndTrigger.prototype=new ss.puppyquest.BaseTrigger,ss.puppyquest.EndTrigger.prototype.constructor=ss.puppyquest.EndTrigger,ss.puppyquest.PressTrigger=function(){"use strict";var a=this;ss.puppyquest.BaseTrigger.call(this);var b,c={};a.loadTriggerSprite=function(){var c=a.triggerRect.width/ss.puppyquest.MapTileLayer.TILE_WIDTH,d=a.triggerRect.height/ss.puppyquest.MapTileLayer.TILE_HEIGHT,e="Shine"+d+"x"+c;ss.puppyquest.AssetHelper.loadSpriteSheets([e]),b=ss.puppyquest.AssetHelper.getSprite(e)},c.showBubble=a.showBubble,a.showBubble=function(){c.showBubble(),a.addChild(b)},c.hideBubble=a.hideBubble,a.hideBubble=function(){c.hideBubble(),a.removeChild(b)},c.UpdateTriggers=a.UpdateTriggers,a.UpdateTriggers=function(b,d){c.UpdateTriggers(b,d),a.isTriggerOn()===!1&&a.updateHelpVo(b)},c.destroy=a.destroy,a.destroy=function(){a.removeChild(b),b=void 0,c.destroy(),c=void 0,a=void 0}},ss.puppyquest.PressTrigger.prototype=new ss.puppyquest.BaseTrigger,ss.puppyquest.PressTrigger.prototype.constructor=ss.puppyquest.PressTrigger,ss.puppyquest.BaseTool=function(){"use strict";var a=this;createjs.Container.call(this),a.toolType="none",a.start=function(){},a.handleUpdate=function(){},a.destroy=function(){}},ss.puppyquest.BaseTool.prototype=new createjs.Container,ss.puppyquest.BaseTool.prototype.constructor=ss.puppyquest.BaseTool,ss.puppyquest.BallTool=function(){"use strict";function a(){k===!0?(l.x=g.x+t.x-ss.puppyquest.ScaleHelper.ballOffset,l.y=g.y+t.y-s):(l.x=g.x+ss.puppyquest.ScaleHelper.getScaledStageMouse(f.stage).x-ss.puppyquest.ScaleHelper.ballOffset,l.y=g.y+ss.puppyquest.ScaleHelper.getScaledStageMouse(f.stage).y-s)}function b(a){void 0!==j&&(k===!0?j(new ss.Vector2(t.x-(ss.puppyquest.ScaleHelper.ballOffset-r),t.y),f.toolType,a):j(new ss.Vector2(ss.puppyquest.ScaleHelper.getScaledStageMouse(f.stage).x-(ss.puppyquest.ScaleHelper.ballOffset-r),ss.puppyquest.ScaleHelper.getScaledStageMouse(f.stage).y),f.toolType,a))}function c(b){m===!1&&(m=!0,a())}function d(c){m===!1?(m=!0,a()):(m=!1,f.resetTool(),b())}function e(a){m===!0&&(m=!1,f.resetTool(),b())}var f=this;ss.puppyquest.BaseTool.call(this);var g,h,i,j,k,l=new ss.Vector2(0,0),m=!1,n=!1,o=110,p=75,q=.4,r=478,s=360,t=new ss.Vector2(0,0);f.addResetCallBack=function(a){"function"==typeof a&&(j=a)},f.start=function(a,b,j){switch(g=a,i=j,f.toolType=b,createjs.Touch.enable(f.stage,!0,!0),b){case"AllBall":h=ss.puppyquest.AssetHelper.getBitmap("Puppy_Devices_Ball",!0);break;case"RedBall":h=ss.puppyquest.AssetHelper.getBitmap("Puppy_Devices_Steak",!0);break;case"BlueBall":h=ss.puppyquest.AssetHelper.getBitmap("Puppy_Devices_Bone",!0);break;case"GreenBall":h=ss.puppyquest.AssetHelper.getBitmap("Puppy_Devices_Stick",!0);break;default:h=ss.puppyquest.AssetHelper.getBitmap("Puppy_Devices_Ball",!0)}h.regX=o,h.regY=p,h.scaleX=q,h.scaleY=q,f.addChild(h),k=ss.SystemInfo.isMobile(),k===!0?(h.addEventListener("mousedown",c),document.body.addEventListener("touchend",e)):h.addEventListener("mousedown",d),h.mouseEnabled=!0},f.setMobileMousePosition=function(a){t=a},f.activateTool=function(a){n=!0,f.x=a.x,f.y=a.y,d(null)},f.resetTool=function(){n=!1,m=!1},f.resetPosition=function(a){f.resetTool(),b()},f.handleUpdate=function(b){m===!0&&(a(),f.x=l.x,f.y=l.y)},f.destroy=function(){f.removeChild(h),h.removeEventListener("mousedown",c),h.removeEventListener("pressup",e),h.removeEventListener("mousedown",d),l=void 0,m=void 0,h=void 0,n=void 0,g=void 0,i=void 0,f.toolType=void 0,j=void 0}},ss.puppyquest.BallTool.prototype=new ss.puppyquest.BaseTool,ss.puppyquest.BallTool.prototype.constructor=ss.puppyquest.BallTool,ss.puppyquest.BasePuppy=function(){"use strict";function a(){y=k.state.vel,y.x*=ba,y.y*=ba,i.x=k.state.pos.x,i.y=k.state.pos.y}function b(a){var b=new ss.Vector2(i.x,i.y);$===!0?b.x>a.x+R&&($=!1,_=-1,m.scaleX=_,m.regX=O):b.x<a.x-R&&($=!0,_=1,m.scaleX=_,m.regX=N)}function c(a){if(!ss.isEmpty(j.getCurrentTool())&&ca===!1&&("AllBall"===j.getCurrentTool().toolType||j.getCurrentTool().toolType===i.puppyType)){var b=new ss.Vector2(i.x,i.y),c=new ss.Vector2(j.getCurrentTool().x,j.getCurrentTool().y),d=b.distance(c);s>d&&g(C)}}function d(a){if(y=k.state.vel,!ss.isEmpty(j.getCurrentTool())&&ca===!1&&("AllBall"===j.getCurrentTool().toolType||j.getCurrentTool().toolType===i.puppyType)){var c=new ss.Vector2(i.x,i.y);l=new ss.Vector2(j.getCurrentTool().x,j.getCurrentTool().y);var d=new ss.Vector2(0,0);d.x=l.x-c.x,d.y=l.y-c.y,d.normalize(),y.x+=d.x*Z*a,y.y+=d.y*Z*a;var e=c.distance(l);b(l),t>e?(y.x=0,y.y=0,m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.IDLE_ANIMATION_STATE,r)):m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.WALK_ANIMATION_STATE,r)}k.sleep(!1),k.state.vel.set(y.x,y.y)}function e(a){Y+=3*a,Y=ss.MathUtils.clamp01(Y);var b=ss.MathUtils.lerp(w,n,Y);i.setPosition(b),Y>=1&&(i.setPosition(n),void 0!==p?(g(p),p=void 0):g(M),Y=0,m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.SIT_ANIMATION_STATE,r))}function f(a){if(i.setPosition(n),!ss.isEmpty(j.getCurrentTool())&&("AllBall"===j.getCurrentTool().toolType||j.getCurrentTool().toolType===i.puppyType)){var b=new ss.Vector2(i.x,i.y),c=new ss.Vector2(j.getCurrentTool().x,j.getCurrentTool().y),d=b.distance(c);d>s&&g(C)}}function g(a){if(ca===!1)switch(u=a,ss.puppyquest.PhysicsManager.getPhysicsWorld().removeBody(k),u){case B:u!==I&&(ss.isEmpty(j.getCurrentTool())?m.getCurrentAnimationState()!==ss.puppyquest.PuppyAnimationManager.BARK_ANIMATION_STATE&&m.getCurrentAnimationState()!==ss.puppyquest.PuppyAnimationManager.SIT_ANIMATION_STATE&&m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.SCRATCH_ANIMATION_STATE,r):"AllBall"===j.getCurrentTool().toolType||j.getCurrentTool().toolType===i.puppyType?m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.IDLE_ANIMATION_STATE,r):m.getCurrentAnimationState()!==ss.puppyquest.PuppyAnimationManager.BARK_ANIMATION_STATE&&m.getCurrentAnimationState()!==ss.puppyquest.PuppyAnimationManager.SIT_ANIMATION_STATE&&m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.SCRATCH_ANIMATION_STATE,r)),q=!1;break;case C:q=!0,r===!1&&(ss.puppyquest.VoManager.playFollowVo(),r=!0),h(new ss.Vector2(i.x,i.y));break;case D:m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.WALK_ANIMATION_STATE,r);break;case E:m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.WALK_ANIMATION_STATE,r);break;case F:m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.WALK_ANIMATION_STATE,r);break;case G:m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.IDLE_ANIMATION_STATE,r);break;case I:m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.BARK_ANIMATION_STATE,r);break;case J:ca=!0;break;case K:break;case L:m.turnHumanAnimation(P)}}function h(a){k=ss.puppyquest.PhysicsManager.createRectBody(a.x,a.y,U,V,"dynamic"),k.layerType="Puppy",ss.puppyquest.PhysicsManager.add(k)}var i=this;createjs.Container.call(this);var j,k,l,m,n,o,p,q=!1,r=!1,s=250,t=40,u=0,v=new ss.Vector2(0,0),w=new ss.Vector2(0,0),x=0,y=new ss.Vector2(0,0),z=0,A=0,B=0,C=1,D=2,E=3,F=4,G=5,H=6,I=7,J=8,K=9,L=10,M=11,N=15,O=55,P=0,Q=25,R=20,S=1,T=5,U=45,V=37,W=0,X=1,Y=0,Z=.4,$=!0,_=1,aa=0,ba=.98,ca=!1;i.puppyType="none",i.puppyID=0,i.getPuppyState=function(){return u},i.isFollowing=function(){return q},i.getCenter=function(){return new ss.Vector2(i.x+Q,i.y+Q)},i.toggleSlowPuppy=function(a){Z=a===!0?.05:.5},i.start=function(b,c,d,e){m=new ss.puppyquest.PuppyAnimationManager,m.start(d),i.addChild(m),m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.SCRATCH_ANIMATION_STATE,r),j=c,i.puppyType=d;i.puppyID=e,z=ss.MathUtils.randomRange(S,T),h(b),a()},i.turnHuman=function(a){ca===!1&&(P=a+1,X=ss.MathUtils.randomRange(0,1),g(J))},i.moveToDistraction=function(a,b){ca===!1&&(g(H),w=new ss.Vector2(i.x,i.y),A=0,v=a,o=b)},i.handleUpdate=function(h){switch(m.handleUpdate(h),u){case B:c(h),a();break;case E:e(h);break;case M:f(h);break;case C:d(h),a();break;case D:x+=h,x=ss.MathUtils.clamp01(x);var j=ss.MathUtils.lerp(w,v,x);i.setPosition(j),x>=1&&(i.setPosition(v),m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.IDLE_ANIMATION_STATE,r));break;case H:A+=h,A>=z&&(A=0,x=0,b(v),ss.puppyquest.VoManager.playDistractionVo(),g(F)),c(h);break;case F:x+=h,x=ss.MathUtils.clamp01(x);var k=ss.MathUtils.lerp(w,v,x);i.setPosition(k),x>=1&&(i.setPosition(v),b(o),m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.BARK_ANIMATION_STATE,r),u=G);break;case G:c(h);break;case I:aa+=h,aa>=1&&(m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.SIT_ANIMATION_STATE,r),g(C));break;case J:W+=h,W>=X&&(W=0,m.turnHumanAnimation(P),u=L);break;case K:W+=h,W>=X&&(W=0,g(L));break;case L:}},i.startBarking=function(){ca===!1&&g(I)},i.movePuppyToPosition=function(a){ca===!1&&(g(D),w=new ss.Vector2(i.x,i.y),v=a,x=0,b(v))},i.setPosition=function(a){r===!0&&(y=new ss.Vector2(0,0),k.state.vel.set(0,0),k.sleep(0),k.state.pos.x=a.x,k.state.pos.y=a.y,i.x=a.x,i.y=a.y)},i.snapPuppy=function(a){ca===!1&&(w=new ss.Vector2(i.x,i.y),Y=0,n=a,b(n),m.switchAnimationsState(ss.puppyquest.PuppyAnimationManager.WALK_ANIMATION_STATE,r),g(E))},i.resetPuppy=function(){ca===!1&&(u!==E?g(B):p=B)},i.destroy=function(){ss.puppyquest.PhysicsManager.getPhysicsWorld().removeBody(k),m.stopChaseSfx(),j=void 0,k=void 0,q=void 0,r=void 0,s=void 0,u=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,v=void 0,w=void 0,x=void 0,l=void 0,y=void 0,z=void 0,A=void 0}},ss.puppyquest.BasePuppy.prototype=new createjs.Container,ss.puppyquest.BasePuppy.prototype.constructor=ss.puppyquest.BasePuppy,ss.puppyquest.PuppyAnimationManager=function(){"use strict";function a(a){switch(z){case x:A+=a,A>=C&&(A=0,d.playBarkSfx(),c(i,j),o.regY=u,z=y);break;case y:A+=a,A>=B&&(A=0,c(m,n),o.regY=u,z=x)}}function b(a){switch(F){case D:A+=a,A>=I&&(A=0,c(k,l,H),o.regY=u,F=E);break;case E:A+=a,A>=G&&(A=0,I=ss.MathUtils.randomRange(2,5),c(m,n),o.regY=u,F=D)}}function c(a,b,c){J===!1&&(void 0!==o&&d.removeChild(o),ss.puppyquest.AssetHelper.loadSpriteSheets([a]),o=ss.puppyquest.AssetHelper.getSprite(b),void 0!==c&&(o.regX=c),o.regY=u,d.addChild(o))}var d=this;ss.puppyquest.BaseDoor.call(this);var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=42.5,v=25,w=100,x="BARK_STATE_IDLE",y="BARL_STATE_PLAY",z=x,A=0,B=.5,C=4,D="SCRATCH_STATE_STANDBY",E="SCRATCH_STATE_PLAY",F=D,G=3,H=-5,I=3,J=!1;d.getCurrentAnimationState=function(){return e},d.start=function(a){switch(p=a,a){case"GreenBall":f="GreenPuppyWalk",g="GreenPuppyIdle",h="GreenPuppyWalk",i="GreenPuppyBark",j="GreenPuppyBark",k="GreenPuppyScratch",l="GreenPuppyScratch",m="GreenPuppySit",n="GreenPuppySit",s="sfx-puppy-medichaseLoopA",t="sfx-puppy-medibark";break;case"RedBall":f="RedPuppyWalk",g="RedPuppyIdle",h="RedPuppyWalk",i="RedPuppyBark",j="RedPuppyBark",k="RedPuppyScratch",l="RedPuppyScratch",m="RedPuppySit",n="RedPuppySit",s="sfx-puppy-agentchaseLoopA",t="sfx-puppy-agentbark";break;case"BlueBall":f="BluePuppyWalk",g="BluePuppyIdle",h="BluePuppyWalk",i="BluePuppyBark",j="BluePuppyBark",k="BluePuppyScratch",l="BluePuppyScratch",m="BluePuppySit",n="BluePuppySit",s="sfx-puppy-scichaseLoopA",t="sfx-puppy-scibark"}},d.handleUpdate=function(c){if(J===!1)switch(e){case ss.puppyquest.PuppyAnimationManager.BARK_ANIMATION_STATE:a(c);break;case ss.puppyquest.PuppyAnimationManager.SCRATCH_ANIMATION_STATE:b(c)}},d.playBarkSfx=function(){springroll.Application.instance.sound.play(t)},d.switchAnimationsState=function(a,b){if(a!==e&&J===!1){if(e=a,(a==ss.puppyquest.PuppyAnimationManager.IDLE_ANIMATION_STATE||a==ss.puppyquest.PuppyAnimationManager.WALK_ANIMATION_STATE)&&b===!1)return;switch(e){case ss.puppyquest.PuppyAnimationManager.IDLE_ANIMATION_STATE:d.stopChaseSfx(),c(f,g);break;case ss.puppyquest.PuppyAnimationManager.WALK_ANIMATION_STATE:d.playPuppyChaseSfx(),c(f,h);break;case ss.puppyquest.PuppyAnimationManager.BARK_ANIMATION_STATE:d.stopChaseSfx(),c(i,j),A=0,z=y,d.playBarkSfx();break;case ss.puppyquest.PuppyAnimationManager.SCRATCH_ANIMATION_STATE:d.stopChaseSfx(),c(m,n),A=0,I=ss.MathUtils.randomRange(2,5),F=D;break;case ss.puppyquest.PuppyAnimationManager.SIT_ANIMATION_STATE:d.stopChaseSfx(),c(m,n)}}},d.turnHumanAnimation=function(a){if(J===!1){switch(d.removeChild(o),J=!0,p){case"GreenBall":q="ScientistAnimations",r="Sc"+a;break;case"RedBall":q="AgentAnimations",r="Agent"+a;break;case"BlueBall":q="DocterAnimation",r="Dr"+a}ss.puppyquest.AssetHelper.loadSpriteSheets([q]),o=ss.puppyquest.AssetHelper.getSprite(r),o.regX=v,o.regY=w,d.addChild(o)}};var K;d.playPuppyChaseSfx=function(){d.stopChaseSfx(),K=springroll.Application.instance.sound.play(s,{loop:!0})},d.stopChaseSfx=function(){void 0!==K&&(K.stop(),K=void 0)},d.destroy=function(){}},ss.puppyquest.PuppyAnimationManager.prototype=new createjs.Container,ss.puppyquest.PuppyAnimationManager.prototype.constructor=ss.puppyquest.PuppyAnimationManager,ss.puppyquest.PuppyAnimationManager.IDLE_ANIMATION_STATE="IDLE_ANIMATION_STATE",ss.puppyquest.PuppyAnimationManager.WALK_ANIMATION_STATE="WALK_ANIMATION_STATE",ss.puppyquest.PuppyAnimationManager.BARK_ANIMATION_STATE="BARK_ANIMATION_STATE",ss.puppyquest.PuppyAnimationManager.SCRATCH_ANIMATION_STATE="SCRATCH_ANIMATION_STATE",ss.puppyquest.PuppyAnimationManager.SIT_ANIMATION_STATE="SIT_ANIMATION_STATE",ss.puppyquest.BaseDistraction=function(){"use strict";var a=this;createjs.Container.call(this),a.distractionRange=0,a.minRange=0,a.maxRange=0,a.rotRange=0;var b,c,d=20;a.start=function(e){a.distractionRange=e.properties.range,a.minRange=e.properties.MinRot,a.maxRange=e.properties.MaxRot,a.rotRange=a.maxRange-a.minRange,c=e.properties.SpriteType,b=ss.puppyquest.AssetHelper.getBitmap(c),a.x=e.x,a.y=e.y-d,a.addChild(b)},a.getPosition=function(){return new ss.Vector2(a.x,a.y)},a.handleUpdate=function(){},a.destroy=function(){}},ss.puppyquest.BaseDistraction.prototype=new createjs.Container,ss.puppyquest.BaseDistraction.prototype.constructor=ss.puppyquest.BaseDistraction;