(function e$$0(f,m,a){function b(g,k){if(!m[g]){if(!f[g]){var l="function"==typeof require&&require;if(!k&&l)return l(g,!0);if(e)return e(g,!0);l=Error("Cannot find module '"+g+"'");throw l.code="MODULE_NOT_FOUND",l;}l=m[g]={exports:{}};f[g][0].call(l.exports,function(a){var k=f[g][1][a];return b(k?k:a)},l,l.exports,e$$0,f,m,a)}return m[g].exports}for(var e="function"==typeof require&&require,d=0;d<a.length;d++)b(a[d]);return b})({1:[function(c,f,m){function a(){this._transition=this._currentScreen=
this._screenManager=this._assetManager=null}var b=c("./Common"),e=c("./screens/GameScreen"),d=c("./screens/SplashScreen"),g=c("./screens/IntroScreen"),k=c("./overlays/PauseOverlay"),l=c("./overlays/GameOverOverlay"),h=c("./lib/Transition"),w=c("./SavedData");f.exports=a;a.prototype.init=function(){console.log("APPLICATION INITIALIZED");this._assetManager=p3.AssetManager.instance;this._screenManager=b.sceneManager;TweenMax.defaultOverwrite="none";if(void 0==b.generatedTextures.blackSquare){var a=new PIXI.Graphics;
a.beginFill(0);a.drawRect(0,0,1,1);b.generatedTextures.blackSquare=a.generateTexture(b.renderer,1,PIXI.SCALE_MODES.LINEAR)}b.savedData=new w;b.savedData.init();this.showSplash()};a.prototype.showSplash=function(){var a=new d;this._screenManager.add(a,this._getTransition());a.signals.requestedPreviousScreen.addOnce(function(){},this);a.signals.requestedNextScreen.addOnce(function(){this.showIntro()},this);this._currentScreen=a};a.prototype.showIntro=function(){var a=new g;this._screenManager.add(a,
this._getTransition());a.signals.requestedPreviousScreen.addOnce(function(){},this);a.signals.requestedNextScreen.addOnce(function(){this.showGame(!0)},this);return this._currentScreen=a};a.prototype.showGame=function(a){var k=new e;this._screenManager.add(k,this._getTransition());k.signals.requestedPreviousScreen.addOnce(function(){},this);k.signals.requestedNextScreen.addOnce(function(a,b){this.showGameOver(a,b)},this);k.signals.pausePressed.add(function(){this.showPause(!1)},this);this._currentScreen=
k;a&&!b.savedData.hasViewedInstructions&&(this._currentScreen._showPause=!0,b.animator.setTimeout(function(){this.showPause(!0);b.savedData.hasViewedInstructions=!0;b.savedData.save()},0,this));return k};a.prototype.showPause=function(a){var b=new h;b.replace=!1;b.push=!0;this._currentScreen.hideGUI(function(){var l=new k;this._screenManager.add(l,b);l.signals.requestedNextScreen.addOnce(function(a){this._screenManager.remove();this._currentScreen.showGUI()},this);l.signals.requestedPreviousScreen.addOnce(function(a){this.showSplash()},
this);a&&p3.Timestep.queueCall(l.setIntroHelpMode,[],l)},this,!0)};a.prototype.showGameOver=function(a,b){var k=new h;k.replace=!1;k.push=!0;this._currentScreen.hideGUI(function(){var g=new l(a,b);this._screenManager.add(g,k);g.signals.requestedNextScreen.addOnce(function(a){this.showSplash()},this);g.signals.requestedPreviousScreen.addOnce(function(a){g.animateOut(this.showGame,this)},this)},this)};a.prototype._getTransition=function(){var a=new h;a.replace=!0;a.push=!1;return a}},{"./Common":2,
"./SavedData":5,"./lib/Transition":22,"./overlays/GameOverOverlay":23,"./overlays/PauseOverlay":24,"./screens/GameScreen":25,"./screens/IntroScreen":26,"./screens/SplashScreen":29}],2:[function(c,f,m){function a(){}f.exports=a;a.STAGE_WIDTH=1900;a.STAGE_HEIGHT=768;a.stage=null;a.renderer=null;a.timestep=null;a.animator=null;a.keyboard=null;a.touch=new PIXI.Point(0,0);a.paused=!1;a.isWebGL=!1;a.DEBUG_PAINT_MODE=0;a.frameCount=0;a.FPS=60;a.sceneManager=null;a.generatedTextures={};a.COUNTRY_CODE="en";
a.animationData={};a.savedData=null},{}],3:[function(c,f,m){function a(){}f.exports=a;a=a.prototype;a.signalKeyDown=new signals.Signal;a.signalKeyUp=new signals.Signal;a._keysDown=null;a._keysPressed=null;a._keysUp=null;a.KEY_TAB=9;a.KEY_ENTER=13;a.KEY_SHIFT=16;a.KEY_CTRL=17;a.KEY_SPACE=32;a.KEY_LEFT=37;a.KEY_UP=38;a.KEY_RIGHT=39;a.KEY_DOWN=40;a.KEY_A=65;a.KEY_B=66;a.KEY_C=67;a.KEY_D=68;a.KEY_E=69;a.KEY_F=70;a.KEY_G=71;a.KEY_H=72;a.KEY_I=73;a.KEY_J=74;a.KEY_K=75;a.KEY_L=76;a.KEY_M=77;a.KEY_N=78;a.KEY_O=
79;a.KEY_P=80;a.KEY_Q=81;a.KEY_R=82;a.KEY_S=83;a.KEY_T=84;a.KEY_U=85;a.KEY_V=86;a.KEY_W=87;a.KEY_X=88;a.KEY_Y=89;a.KEY_Z=90;a.KEY_PLUs=187;a.KEY_MINUS=189;a.init=function(){this.reset();document.body.onkeydown=function(b){b=window.event?b.keyCode:b.which;a._keysDown[b]=!a._keysPressed[b];a._keysPressed[b]=!0;a.signalKeyDown.dispatch(b)};document.body.onkeyup=function(b){b=window.event?b.keyCode:b.which;a._keysDown[b]=!1;a._keysPressed[b]=!1;a._keysUp[b]=!0;a.signalKeyUp.dispatch(b)}};a.update=function(){a._keysDown=
{};a._keysUp={}};a.reset=function(){a._keysDown={};a._keysPressed={};a._keysUp={}};a.getKeyPressed=function(b){return a._keysPressed[b]};a.getKeyJustPressed=function(b){return a._keysDown[b]};a.getKeyJustReleased=function(b){return a._keysUp[b]}},{}],4:[function(c,f,m){function a(a,b){this._width=a;this._height=b;this._game=this._preloader=this._screenManager=this._assetManager=null;this._resolution=1;this._scale="hd/";this._renderFPS=60;this._frameCount=0}var b=c("./Application"),e=c("./Common"),
d=c("./screens/Preloader"),g=c("./lib/SceneManager"),k=c("./Keyboard");window.Main=a;a.prototype.init=function(){this._assetManager=p3.AssetManager.instance;this._screenManager=new g;e.COUNTRY_CODE=window.og.language;var a=new p3.ViewParams;a.width=this._width;a.height=this._height;a.holderId="og-game-holder";a.rotateImageUrl="assets/images/system/"+e.COUNTRY_CODE+"/rotate_device.jpg";a.rotateImageColor="#000000";PIXI.RETINA_PREFIX=/\_(?=[^_]*$)(.+)x/;p3.Tracking.DEBUG=!0;e.tracking=new p3.Tracking;
e.tracking.init(new p3.TrackingModuleEcho(window.stats));p3.Device.init(window.bowser);TweenMax.defaultOverwrite="none";TweenMax.ticker.fps(e.FPS);a=new p3.View(a);a.signals.ready.addOnce(function(a){var b={};b.view=a;b.transparent=!1;b.antialias=!1;b.preserveDrawingBuffer=!1;b.resolution=this._resolution;this._assetManager.scaleFactor=this._resolution;a=new PIXI.Container;e.stage=a;b=PIXI.autoDetectRenderer(this._width,this._height,b);e.renderer=b;this._screenManager.init(a,b);e.sceneManager=this._screenManager;
e.isWebGL=b instanceof PIXI.WebGLRenderer;e.DEBUG_PAINT_MODE=p3.Utils.getURLParameter("paint",0);b=new p3.Timestep;b.init(this.update,this.render,this);e.timestep=b;e.animator=new p3.Animator;e.animator.init();e.keyboard=new k;e.keyboard.init();this.loadPreloader()},this);a.signals.resize.add(this.onCanvasResize,this);var b;"undefined"!=typeof document.hidden?(b="hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof document.mozHidden?(b="mozHidden",this.visibilityChange="mozvisibilitychange"):
"undefined"!=typeof document.msHidden?(b="msHidden",this.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(b="webkitHidden",this.visibilityChange="webkitvisibilitychange");document.addEventListener(this.visibilityChange,function(){document[b]?Howler.volume(0):Howler.volume(1)},!1)};a.prototype.loadPreloader=function(){var a=this._scale,b="sd/"===a?"_0.5x":"",a=[{name:"preloader_0",url:"images/"+a+"preloader"+b+".json"},{name:"ui",url:"images/"+a+"ui"+b+".json"},{name:"preloader_bg",
url:"images/"+a+"titles_"+e.COUNTRY_CODE+"/preloader"+b+".jpg"}],b=[];a.length?(this._assetManager.addFiles(a,window.og.gameDir+"assets/"),this._assetManager.signalCompleted.addOnce(function(){this.loadAssets()},this),this._assetManager.load(),p3.AudioManager.instance.addSounds(b,[".mp3",".ogg"],"")):this.loadAssets()};a.prototype.loadAssets=function(){var a=this._scale,b="sd/"===a?"_0.5x":"",a=[{name:"config",url:"data/config.json"},{name:"darwin_sprites",url:"images/"+a+"darwin_sprites"+b+".json"},
{name:"game_assets",url:"images/"+a+"game_assets"+b+".json"},{name:"gumball_sprites",url:"images/"+a+"gumball_sprites"+b+".json"},{name:"splash",url:"images/"+a+"splash"+b+".json"},{name:"intro",url:"images/"+a+"intro"+b+".json"},{name:"bg_splash",url:"images/"+a+"bg_splash"+b+".jpg"},{name:"titles",url:"images/"+a+"titles_"+e.COUNTRY_CODE+"/language"+b+".json"},{name:"text",url:"fonts/text.json"},{name:"score",url:"fonts/score.json"},{name:"avatarHit_ps",url:"particles/avatarHit.json"},{name:"avatarHitByBall_ps",
url:"particles/avatarHitByBall.json"},{name:"avatarJump_ps",url:"particles/avatarJump.json"},{name:"splashStars_ps",url:"particles/splashStars.json"},{name:"splashStarsBurst_ps",url:"particles/splashStarsBurst.json"},{name:"enemyHit_ps",url:"particles/enemyHit.json"}],b="sfx_btn_press_00 sfx_btn_rollover_00 sfx_gumball_charge_00 sfx_gumball_charge_01 sfx_gumball_charge_02 sfx_gumball_charge_03 sfx_barge_enemy_03 sfx_barge_enemy_04 sfx_gumball_jump_00 sfx_gumball_jump_01 sfx_gumball_jump_02 sfx_gumball_jump_03 sfx_gumball_doublejump_00 sfx_gumball_doublejump_01 sfx_gumball_doublejump_02 sfx_gumball_yeah_00 sfx_gumball_yeah_01 sfx_darwin_spin_00 sfx_darwin_throw_00 sfx_gumball_football_hithead_00 sfx_gumball_football_hithead_01 sfx_gumball_football_hithead_02 sfx_ball_bounce_00 sfx_ball_bounce_01 sfx_ball_bounce_02 sfx_ball_bounce_03 sfx_ball_bounce_04 sfx_gumball_scorelaugh_00 sfx_gumball_scorelaugh_01 sfx_hit_concreteblock_00 sfx_hit_gong_00 sfx_hit_bbq_00 sfx_hit_bin_00 sfx_hit_box_00 sfx_hit_cans_00 sfx_hit_chair_00 sfx_hit_concreteblock_00 sfx_hit_fan_00 sfx_hit_glass_00 sfx_hit_gong_00 sfx_hit_ladder_00 sfx_hit_metal_00 sfx_hit_metal_01 sfx_hit_metal_02 sfx_gumball_hit_00 sfx_gumball_hit_01 sfx_runloop_00 sfx_fail_00 sfx_armour_pickup_00 sfx_armour_lost_01 music_intro_panels_01 sfx_intro_panel_1 sfx_intro_panel_2b sfx_intro_panel_3 sfx_intro_panel_4 music_ingame_loop_00 music_menu_loop_00 music_menu_outro_sting_00 music_score_loop_00".split(" ");
a.length?(this._assetManager.addFiles(a,window.og.gameDir+"assets/"),this._assetManager.signalProgress.add(this.onLoadingProgress,this),this._assetManager.signalCompleted.addOnce(this.onLoadingCompleted,this),this._assetManager.load(),this._preloader=new d,this._preloader.signals.loadingComplete.addOnce(this.startGame,this),this._screenManager.add(this._preloader),p3.AudioManager.instance.addSounds(b,[".mp3",".ogg"],window.og.gameDir+"assets/audio/")):this.startGame()};a.prototype.startGame=function(){this._game=
new b;this._game.init()};a.prototype.update=function(){this._screenManager.update();e.animator.update();e.keyboard.update();0<e.DEBUG_PAINT_MODE&&this.paintBadImage(e.stage);this._frameCount++;e.frameCount=this._frameCount};a.prototype.render=function(){e.renderer.render(e.stage)};a.prototype.paintBadImage=function(a,b){b=b||11141375;for(var k,g=0;g<a.children.length;++g)k=a.children[g],k instanceof PIXI.Sprite&&(1==e.DEBUG_PAINT_MODE&&(k.tint=0!=k.texture.width%2||0!=k.texture.height%2?b:16777215),
2==e.DEBUG_PAINT_MODE&&(k.position.x!==parseInt(k.position.x)||k.position.y!==parseInt(k.position.y)?k.tint=b:k.tint=16777215)),this.paintBadImage(k,b)};a.prototype.onLoadingProgress=function(a){this._preloader.loadedPercentage=a.progress};a.prototype.onLoadingCompleted=function(){this._preloader.loadedPercentage=100;this._preloader.animateOut(null,this);this._preloader=null;this._assetManager.signalProgress.removeAll();this._assetManager.signalCompleted.removeAll();p3.Device.isMobile||this.startGame()};
a.prototype.onCanvasResize=function(a){a&&(e.renderer.resize(p3.View.width,p3.View.height),this._screenManager&&this._screenManager.resize())}},{"./Application":1,"./Common":2,"./Keyboard":3,"./lib/SceneManager":21,"./screens/Preloader":27}],5:[function(c,f,m){function a(){this.SAVE_NAME="gumball_go_long";this.SAVE_VERSION="0.0.0";this.SAVE_SEED="y5k0Eo6R177mUkb";this.hasSeenIntro=this.hasViewedInstructions=!1;this.highscore=0}c("./Common");f.exports=a;a.prototype.init=function(){window.localStorage[this.SAVE_NAME+
"_"+this.SAVE_VERSION]?(console.log("load"),this.load()):(console.log("reset"),this.reset(),this.save())};a.prototype.reset=function(){};a.prototype.load=function(){var a=window.localStorage[this.SAVE_NAME+"_"+this.SAVE_VERSION],a=JSON.parse(a);this.hasSeenIntro=a.hasSeenIntro;this.hasViewedInstructions=a.hasViewedInstructions;this.highscore=parseInt(a.highscore)};a.prototype.save=function(){console.log("save");var a={};a.hasSeenIntro=this.hasSeenIntro;a.hasViewedInstructions=this.hasViewedInstructions;
a.highscore=this.highscore;var e=JSON.stringify(a);a.hash=md5(e+this.SAVE_SEED);window.localStorage[this.SAVE_NAME+"_"+this.SAVE_VERSION]=JSON.stringify(a)}},{"./Common":2}],6:[function(c,f,m){function a(){if(p3.Device.isMobile&&p3.Device.isIOS){var a=this.getSpec();a&&(this.height=a[0],window.addEventListener("resize",this.onResize.bind(this)),this.div=document.createElement("div"),this.div.style.backgroundColor="#000000",this.div.style.position="absolute",this.div.style.top="0",this.div.style.left=
"0",this.div.style.width="100%",this.div.style.height="9999999999999999px",this.image=new Image,this.image.src="assets/images/hd/brim.jpg",this.image.style.position="absolute",this.image.style.height="-35px",this.image.width=0,this.div.appendChild(this.image),this.brimMode=!0,this.p=document.createElement("div"),this.p.innerHTML=this.getMessage(window.og?window.og.language:null),this.p.style.position="absolute",this.p.style.top=this.height/2-25+"px",this.p.style.left=0,this.p.style.width="100%",this.p.style.fontSize=
"1.8rem",this.p.style.fontFamily="Arial, sans-serif",this.p.style.color="#ffffff",this.p.style["text-shadow"]="-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000",this.p.style.textAlign="center",this.p.style.position="absolute",this.p.style.padding=0,this.div.appendChild(this.p),document.body.appendChild(this.div),function(){var a;document.addEventListener("touchstart",function(b){this.brimMode&&(a=!0,b.preventDefault(),b.returnValue=!1)},!1);document.addEventListener("touchmove",
function(b){this.brimMode&&(a&&(b.preventDefault(),b.returnValue=!1),a=!1)},!1)}(),this.onResize())}}c("./Common");f.exports=a;a.prototype.getMessage=function(a){switch(a){case "fr":return"Glisse vers le haut pour continuer !";case "es":return"\u00a1Desliza hacia arriba para seguir jugando!";case "de":return"Zum Weiterspielen nach oben streichen!";case "it":return"Trascina verso l'alto per continuare!";case "pl":return"Przesu\u0144 do g\u00f3ry, aby kontynuowa\u0107 gr\u0119!";case "ru":return"\u0421\u043c\u0430\u0445\u043d\u0438 \u0432\u0432\u0435\u0440\u0445 \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f!";
case "ar":return"\u0627\u0633\u062d\u0628 \u0644\u0644\u0623\u0639\u0644\u0649 \u0644\u0645\u062a\u0627\u0628\u0639\u0629 \u0627\u0644\u0644\u0639\u0628!";case "tr":return"Devam etmek i\u00e7in yukar\u0131 kayd\u0131r!";default:return"Swipe up to keep playing!"}};a.prototype.getSpec=function(){for(var a=[[320,480,2,"iPhone 4"],[320,568,2,"iPhone 5 or 5s"],[375,667,2,"iPhone 6"],[414,736,3,"iPhone 6 plus"]],e=0;e<a.length;e++){var d=a[e];if(window.screen.height==d[0]&&window.screen.width==d[1]||window.screen.width==
d[0]&&window.screen.height==d[1])return d}return null};a.prototype.showBrim=function(){this.div.style.visibility="visible";this.div.style.height="9999999999999999px"};a.prototype.showGame=function(){this.div.style.visibility="hidden";this.div.style.height=this.height+1+"px";window.scrollTo(0,0)};a.prototype.onResize=function(){window.innerHeight>window.innerWidth||window.innerHeight===this.height?this.showGame():this.showBrim();this.image.width=window.innerWidth;window.scrollTo(0,0)}},{"./Common":2}],
7:[function(c,f,m){function a(){this._pieces=[];e.call(this,"armorFX",!1)}var b=c("../Common"),e=c("../scroller/ScrollerObject");f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.init=function(){this._pieces=[];this._pieces[0]=new PIXI.Sprite(this._assetManager.getTexture("armourbit_head"));this._pieces[1]=new PIXI.Sprite(this._assetManager.getTexture("armourbit_arm"));this._pieces[2]=new PIXI.Sprite(this._assetManager.getTexture("armourbit_torso1"));this._pieces[3]=
new PIXI.Sprite(this._assetManager.getTexture("armourbit_arm"));this._pieces[4]=new PIXI.Sprite(this._assetManager.getTexture("armourbit_torso2"));this._pieces[5]=new PIXI.Sprite(this._assetManager.getTexture("armourbit_foot"));this._pieces[6]=new PIXI.Sprite(this._assetManager.getTexture("armourbit_foot"));for(var a=0;a<this._pieces.length;a++)this._pieces[a].anchor=new PIXI.Point(.5,.5),this._pieces[a].scale=new PIXI.Point(.95,.95),this._pieces[a].alpha=0,this.addChild(this._pieces[a]);this._pieces[1].scale=
new PIXI.Point(-1,1);this._pieces[6].scale=new PIXI.Point(-1,1)};a.prototype.update=function(){e.prototype.update.call(this)};a.prototype.pause=function(){};a.prototype.resume=function(){};a.prototype.spawn=function(a){e.prototype.update.call(this);this.reset();this.y=a;for(a=0;a<this._pieces.length;a++){var g=p3.Utils.randomInt(190,380),k=-80+160/(this._pieces.length-1)*a,l=p3.Utils.randomInt(150,200),h=Math.cos(k*PIXI.DEG_TO_RAD)*l,c=h-230,k=Math.sin(k*PIXI.DEG_TO_RAD)*l,l=new TimelineMax;l.to(this._pieces[a],
.65,{rotation:-g*PIXI.DEG_TO_RAD,ease:Sine.easeOut},0);l.to(this._pieces[a],.65,{alpha:0,ease:Sine.easeIn},0);l.to(this._pieces[a],.65/3,{x:h,ease:Quad.easeOut},0);l.to(this._pieces[a],1.3/3,{x:c,ease:Sine.easeIn},.325);l.to(this._pieces[a],.65,{y:k,ease:Quad.easeOut},0);b.animator.add(l)}};a.prototype.reset=function(){for(var a=this.y=this.x=0;a<this._pieces.length;a++)this._pieces[a].x=0,this._pieces[a].y=0,this._pieces[a].rotation=0,this._pieces[a].alpha=1}},{"../Common":2,"../scroller/ScrollerObject":32}],
8:[function(c,f,m){function a(){this._fallDeadAnimation=this._deadAnimation=this._fallAnimation=this._bashAnimation=this._fallAnimation=this._jumpAnimation=this._runAnimation=this._characterHolder=null;this._onFloor=!0;this._isBashRecovering=this._isBashing=this._isDead=this._hasArmor=this._canDoubleJump=!1;this._armorFx=this._radial=null;this._jumpTime=.45;this._jumpHeightMin=150;this._jumpHeight=400;this._doubleJumpHeightMin=100;this._doubleJumpHeight=200;this._bashTime=0;this._bashRecoverDuration=
this._bashDuration=.45;this._fallingDuration=1;this._doubleJumpSpeed=this._doubleJumpTime=this._doubleJumpSpeedMin=this._doubleJumpTimeMin=this._jumpSpeedMin=this._jumpTimeMin=this._gravity=this._jumpSpeed=null;this._tInvincibility=this._yFloor=this._xBashStart=this._ySpeed=0;this._jumpPS=this._hitByBallPS=this._hitPS=null;e.call(this,"avatar",!1);this.signals.landOnFloor=new signals.Signal;this.signals.jump=new signals.Signal}var b=c("../Common"),e=c("../scroller/ScrollerObject"),d=c("../general/SoundSFX"),
g=c("./ArmorFX");f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.init=function(){this._jumpSpeed=2*this._jumpHeight/this._jumpTime;this._gravity=this._jumpSpeed/this._jumpTime;this._jumpTimeMin=Math.sqrt(2*this._jumpHeightMin/this._gravity);this._jumpSpeedMin=this._gravity*this._jumpTimeMin;this._doubleJumpTimeMin=Math.sqrt(2*this._doubleJumpHeightMin/this._gravity);this._doubleJumpSpeedMin=this._gravity*this._doubleJumpTimeMin;this._doubleJumpTime=Math.sqrt(2*
this._doubleJumpHeight/this._gravity);this._doubleJumpSpeed=this._gravity*this._doubleJumpTime;this._hitPS=new cloudkid.Emitter(this,[this._assetManager.getTexture("particle_impact_die_star_00"),this._assetManager.getTexture("particle_impact_die_star_01"),this._assetManager.getTexture("particle_impact_die_star_02"),this._assetManager.getTexture("particle_impact_die_star_04")],this._assetManager.getJSON("avatarHit_ps"));this._hitPS.emit=!1;this._hitByBallPS=new cloudkid.Emitter(this,[this._assetManager.getTexture("part_star")],
this._assetManager.getJSON("avatarHitByBall_ps"));this._hitByBallPS.emit=!1;this._jumpPS=new cloudkid.Emitter(this,[this._assetManager.getTexture("part_thunder")],this._assetManager.getJSON("avatarJump_ps"));this._jumpPS.emit=!1;this._characterHolder=new PIXI.Container;this.addChild(this._characterHolder);this._radial=new PIXI.Sprite(this._assetManager.getTexture("pickup_starburst"));this._radial.anchor=new PIXI.Point(.5,.5);this._radial.visible=!1;this._characterHolder.addChild(this._radial);this._runAnimation=
new p3.MovieClip(this._generateAnimationSequence("gumball_run",7));this._runAnimation.animationSpeed=this._runAnimation.totalFrames/.35;this._runAnimation.anchor=new PIXI.Point(.5,1);this._runAnimation.looping=!0;this._runAnimation.play();this._characterHolder.addChild(this._runAnimation);this._radial.y=-this._runAnimation.height/2;this._jumpAnimation=new p3.MovieClip(this._generateAnimationSequence("gumball_jump",4));this._jumpAnimation.animationSpeed=this._jumpAnimation.totalFrames/this._jumpTimeMin;
this._jumpAnimation.anchor=new PIXI.Point(.5,1);this._jumpAnimation.looping=!1;this._jumpAnimation.visible=!1;this._characterHolder.addChild(this._jumpAnimation);this._bashAnimation=new p3.MovieClip(this._generateAnimationSequence("gumball_bash",7));this._bashAnimation.animationSpeed=this._runAnimation.animationSpeed;this._bashAnimation.anchor=new PIXI.Point(.5,1);this._bashAnimation.looping=!0;this._bashAnimation.visible=!1;this._characterHolder.addChild(this._bashAnimation);this._runArmorAnimation=
new p3.MovieClip(this._generateAnimationSequence("gumball_cardboard_run",7));this._runArmorAnimation.animationSpeed=this._runAnimation.animationSpeed;this._runArmorAnimation.anchor=new PIXI.Point(.5,1);this._runArmorAnimation.looping=!0;this._runArmorAnimation.visible=!1;this._runArmorAnimation.play();this._characterHolder.addChild(this._runArmorAnimation);this._jumpArmorAnimation=new p3.MovieClip(this._generateAnimationSequence("gumball_cardboard_jump",4));this._jumpArmorAnimation.animationSpeed=
this._jumpAnimation.animationSpeed;this._jumpArmorAnimation.anchor=new PIXI.Point(.5,1);this._jumpArmorAnimation.looping=!1;this._jumpArmorAnimation.visible=!1;this._characterHolder.addChild(this._jumpArmorAnimation);this._bashArmorAnimation=new p3.MovieClip(this._generateAnimationSequence("gumball_cardboard_bash",7));this._bashArmorAnimation.animationSpeed=this._runAnimation.animationSpeed;this._bashArmorAnimation.anchor=new PIXI.Point(.5,1);this._bashArmorAnimation.looping=!0;this._bashArmorAnimation.visible=
!1;this._characterHolder.addChild(this._bashArmorAnimation);this._fallAnimation=new p3.MovieClip(this._generateAnimationSequence("gumball_fall",7));this._fallAnimation.animationSpeed=this._runAnimation.animationSpeed;this._fallAnimation.anchor=new PIXI.Point(.5,1);this._fallAnimation.looping=!0;this._fallAnimation.visible=!1;this._characterHolder.addChild(this._fallAnimation);this._deadAnimation=new p3.MovieClip(this._generateAnimationSequence("gumball_fall",9,7));this._deadAnimation.animationSpeed=
this._runAnimation.animationSpeed;this._deadAnimation.anchor=new PIXI.Point(.5,1);this._deadAnimation.looping=!1;this._deadAnimation.visible=!1;this._characterHolder.addChild(this._deadAnimation);this._fallDeadAnimation=new p3.MovieClip(this._generateAnimationSequence("gumball_fall",16));this._fallDeadAnimation.animationSpeed=this._runAnimation.animationSpeed;this._fallDeadAnimation.anchor=new PIXI.Point(.5,1);this._fallDeadAnimation.looping=!1;this._fallDeadAnimation.visible=!1;this._characterHolder.addChild(this._fallDeadAnimation);
this._armorFX=new g;this._armorFX.y=0;this.addChild(this._armorFX);this.collisionRect=new PIXI.Rectangle(-40,-200,80,190)};a.prototype.update=function(){this._onFloor||(this._ySpeed+=this._gravity*p3.Timestep.deltaTime,this.y+=this._ySpeed*p3.Timestep.deltaTime,0>this._ySpeed&&(this._armorFX.y-=this._ySpeed*p3.Timestep.deltaTime),this.y>this._yFloor&&this.land());this._isBashing&&(this._bashTime+=p3.Timestep.deltaTime,this._bashTime>this._bashDuration&&this.bashRecover());this._isBashRecovering&&
(this._bashTime+=p3.Timestep.deltaTime,this._bashTime>this._bashRecoverDuration&&this.bashEnd());0<this._tInvincibility&&(this._tInvincibility-=p3.Timestep.deltaTime,0>this._tInvincibility&&(this._tInvincibility=0));this._hitPS.update(p3.Timestep.deltaTime);this._hitByBallPS.update(p3.Timestep.deltaTime);this._jumpPS.update(p3.Timestep.deltaTime)};a.prototype.pause=function(){this._jumpAnimation.stop();this._runAnimation.stop();this._bashAnimation.stop();this._jumpArmorAnimation.stop();this._runArmorAnimation.stop();
this._bashArmorAnimation.stop()};a.prototype.resume=function(){this._jumpAnimation.play();this._runAnimation.play();this._bashAnimation.play();this._jumpArmorAnimation.play();this._runArmorAnimation.play();this._bashArmorAnimation.play()};a.prototype.hit=function(){if(!this._isDead){if(!(0<this._tInvincibility))if(this._hasArmor)this._hasArmor=!1,this._armorFX.spawn(-120),this._tInvincibility=.3,this._runArmorAnimation.visible?(this._runArmorAnimation.visible=!1,this._runAnimation.visible=!0,this._runAnimation._currentFrame=
this._runArmorAnimation._currentFrame):this._jumpArmorAnimation.visible?(this._jumpArmorAnimation.visible=!1,this._jumpAnimation.visible=!0,this._jumpAnimation._currentFrame=this._jumpArmorAnimation._currentFrame):this._bashArmorAnimation.visible&&(this._bashArmorAnimation.visible=!1,this._bashAnimation.visible=!0,this._bashAnimation._currentFrame=this._bashArmorAnimation._currentFrame),d.play("sfx_armour_lost_01",{volume:1});else{this._isDead=!0;this._isBashingRecover=this._isBashing=!1;this._runAnimation.visible=
!1;this._jumpAnimation.visible=!1;this._bashAnimation.visible=!1;this._onFloor?(this._fallDeadAnimation.visible=!0,this._fallDeadAnimation.play()):(this._fallAnimation.visible=!0,this._fallAnimation.play(),this._ySpeed<-this._jumpSpeedMin&&(this._ySpeed=-this._jumpSpeedMin));var a=new TimelineMax;a.to(this,this._fallingDuration,{x:this.x+350,ease:Sine.easeOut},0);this._onFloor?a.to(this,this._fallingDuration,{y:this.y+60,ease:Sine.easeOut},0):this._yFloor+=60;a.to(this._shadow,this._fallingDuration,
{dX:this._shadow.dX+50,dY:this._shadow.dY+45,ease:Sine.easeOut},0);b.animator.add(a);this._hitPS.emit=!0;b.animator.setTimeout(function(){this._hitByBallPS.emit=!0;var a=new TimelineMax;a.to(this,.15,{y:this.y-20,ease:Quad.easeOut},0);a.to(this,.15,{y:this.y,ease:Quad.easeIn},.15);a.to(this,.3,{x:this.x+15,ease:Quad.easeOut},0);b.animator.add(a)},1.6,this);d.play("sfx_gumball_hit_01");this.stopLoops()}return this._isDead}};a.prototype.jump=function(){this._isDead||(this._isBashing&&this.bashRecover(),
this._onFloor?(this._onFloor=!1,this._canDoubleJump=!0,this._yFloor=this.y,this._ySpeed=-this._jumpSpeed,this._hasArmor?(this._runArmorAnimation.visible=!1,this._jumpArmorAnimation.visible=!0,this._jumpArmorAnimation.gotoAndPlay(0)):(this._runAnimation.visible=!1,this._jumpAnimation.visible=!0,this._jumpAnimation.gotoAndPlay(0)),d.playRandomFrom(["sfx_gumball_jump_00","sfx_gumball_jump_01","sfx_gumball_jump_02","sfx_gumball_jump_03"]),this.stopLoops()):this._canDoubleJump&&(this._canDoubleJump=!1,
this._ySpeed=-this._doubleJumpSpeed,this._hasArmor?this._jumpArmorAnimation.gotoAndPlay(0):this._jumpAnimation.gotoAndPlay(0),this._jumpPS.emit=!0,d.playRandomFrom(["sfx_gumball_doublejump_00","sfx_gumball_doublejump_01","sfx_gumball_doublejump_02"])))};a.prototype.jumpEnd=function(){this._isDead||this._onFloor||(this._canDoubleJump?this._ySpeed<-this._jumpSpeedMin&&(this._ySpeed=-this._jumpSpeedMin):this._ySpeed<-this._doubleJumpSpeedMin&&(this._ySpeed=-this._doubleJumpSpeedMin))};a.prototype.land=
function(){this._onFloor||(this._onFloor=!0,this._canDoubleJump=!1,this.y=this._yFloor,this._isDead?(this._fallAnimation.visible=!1,this._deadAnimation.visible=!0,this._deadAnimation.play()):this._hasArmor?(this._jumpArmorAnimation.visible=!1,this._runArmorAnimation.visible=!0):(this._jumpAnimation.visible=!1,this._runAnimation.visible=!0),this.playLoops())};a.prototype.bash=function(){if(!this._isDead&&this._onFloor&&!this._isBashing&&!this._isBashRecovering){this._isBashing=!0;this._isBashRecovering=
!1;this._bashTime=0;this._hasArmor?(this._runArmorAnimation.visible=!1,this._bashArmorAnimation.visible=!0,this._bashArmorAnimation._currentFrame=this._runArmorAnimation._currentFrame,this._bashArmorAnimation.play()):(this._runAnimation.visible=!1,this._bashAnimation.visible=!0,this._bashAnimation._currentFrame=this._runAnimation._currentFrame,this._bashAnimation.play());this._xBashStart=this.x;var a=new TimelineMax;a.to(this,this._bashDuration,{x:this.x+250,ease:Quart.easeOut},0);b.animator.add(a);
d.playRandomFrom(["sfx_gumball_charge_00","sfx_gumball_charge_01","sfx_gumball_charge_02","sfx_gumball_charge_03"])}};a.prototype.bashRecover=function(){if(!this._isDead&&this._isBashing){this._isBashing=!1;this._isBashRecovering=!0;this._bashTime=0;this._hasArmor?(this._bashArmorAnimation.visible=!1,this._runArmorAnimation.visible=!0,this._runArmorAnimation._currentFrame=this._bashArmorAnimation._currentFrame,this._runArmorAnimation.play()):(this._bashAnimation.visible=!1,this._runAnimation.visible=
!0,this._runAnimation._currentFrame=this._bashAnimation._currentFrame,this._runAnimation.play());var a=new TimelineMax;a.to(this,this._bashRecoverDuration,{x:this._xBashStart,ease:Sine.easeOut},0);b.animator.add(a)}};a.prototype.bashEnd=function(){!this._isDead&&this._isBashRecovering&&(this._isBashRecovering=!1)};a.prototype.pickup=function(a){if(!this._isDead)switch(a){case "armor":this.showRadial();d.play("sfx_armour_pickup_00",{volume:.35});if(this._hasArmor)break;this._hasArmor=!0;this._runAnimation.visible?
(this._runAnimation.visible=!1,this._runArmorAnimation.visible=!0,this._runArmorAnimation._currentFrame=this._runAnimation._currentFrame):this._jumpAnimation.visible?(this._jumpAnimation.visible=!1,this._jumpArmorAnimation.visible=!0,this._jumpArmorAnimation._currentFrame=this._jumpAnimation._currentFrame):this._bashAnimation.visible&&(this._bashAnimation.visible=!1,this._bashArmorAnimation.visible=!0,this._bashArmorAnimation._currentFrame=this._bashAnimation._currentFrame);break;default:console.error("Case undefined")}};
a.prototype.showRadial=function(){this._radial.scale=new PIXI.Point(0,0);this._radial.visible=!0;this._radial.alpha=1;this._radial.rotation=0;var a=new TimelineMax;a.to(this._radial,.5,{rotation:135*PIXI.DEG_TO_RAD,ease:Sine.easeOut},0);a.to(this._radial.scale,.5,{x:1.3,y:1.3,ease:Expo.easeOut},0);a.to(this._radial,.5,{alpha:0,ease:Quad.easeIn},0);b.animator.add(a)};a.prototype.playLoops=function(){if(!this.isJumping&&!this.isDead)return d.play("sfx_runloop_00",{volume:.2,loop:!0})};a.prototype.stopLoops=
function(){d.stop("sfx_runloop_00")};a.prototype._generateAnimationSequence=function(a,b,g){g||(g=0);for(var e=[],d=g+1;d<=g+b;d++){for(var c=""+d;3>c.length;)c="0"+c;e.push(a+"_"+c)}for(d=0;d<e.length;d++)e[d]=this._assetManager.getTexture(e[d]);a=new p3.MovieClipSequence;a.addTextures(e);return a};Object.defineProperty(a.prototype,"isDead",{get:function(){return this._isDead}});Object.defineProperty(a.prototype,"isBashing",{get:function(){return this._isBashing}});Object.defineProperty(a.prototype,
"isBashRecovering",{get:function(){return this._isBashRecovering}});Object.defineProperty(a.prototype,"hasArmor",{get:function(){return this._hasArmor}});Object.defineProperty(a.prototype,"isJumping",{get:function(){return!this._onFloor}})},{"../Common":2,"../general/SoundSFX":18,"../scroller/ScrollerObject":32,"./ArmorFX":7}],9:[function(c,f,m){function a(a){this._objects=this._character=null;this._ball=a;e.call(this,"avatarHelper",!1)}var b=c("../Common"),e=c("../scroller/ScrollerObject"),d=c("../general/SoundSFX");
f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.init=function(){this._objects=new PIXI.Container;this._objects.x=-270;this._objects.y=240;this.addChild(this._objects);var a=new PIXI.Sprite(this._assetManager.getTexture("obst_6"));a.anchor=new PIXI.Point(0,1);a.x-=100;a.y-=15;this._objects.addChild(a);a=new PIXI.Sprite(this._assetManager.getTexture("obst_10"));a.anchor=new PIXI.Point(0,1);this._objects.addChild(a);a=new PIXI.Sprite(this._assetManager.getTexture("obst_7"));
a.anchor=new PIXI.Point(0,1);a.x-=50;a.y+=15;this._objects.addChild(a);this._character=new PIXI.Container;this._character.x=-100;this._character.y=260;this.addChild(this._character);this._characterThrow=new p3.MovieClip(this._generateAnimationSequence("darwin_throw",14));this._characterThrow.animationSpeed=10;this._characterThrow.looping=!1;this._characterThrow.gotoAndPlay(0);this._characterThrow.anchor=new PIXI.Point(.5,1);this._characterThrow.scale=new PIXI.Point(1,1);this._character.addChild(this._characterThrow);
this._characterEnd=new PIXI.Sprite(this._assetManager.getTexture("darwin_throw_015"));this._characterEnd.anchor=new PIXI.Point(.5,1);this._characterEnd.scale=new PIXI.Point(1,1);this._characterEnd.visible=!1;this._character.addChild(this._characterEnd);a=new TimelineMax({onComplete:function(){var a=new TimelineMax;a.to(this._character,1,{y:this._character.y+200,ease:Bounce.easeOut},.1);b.animator.add(a);this._ball.launch(this._character.x-this._ball.width+660,this._character.y-this._characterEnd.height+
this._ball.height);this._ball=null;this._characterThrow.visible=!1;this._characterEnd.visible=!0;this._characterEnd.x=this._characterThrow.x;this._characterEnd.y=this._characterThrow.y},onCompleteScope:this});a.to(this._character,2,{x:this._character.x+650,ease:Sine.easeInOut,onStart:function(){d.play("sfx_darwin_spin_00",{loop:!0})},onComplete:function(){d.play("sfx_darwin_throw_00")}},0);a.to(this._character,.35,{y:this._character.y-200,ease:Quad.easeOut,onStart:function(){d.stop("sfx_darwin_spin_00")}},
1.65);b.animator.add(a)};a.prototype.update=function(){e.prototype.update.call(this)};a.prototype.pause=function(){this._characterThrow.stop()};a.prototype.resume=function(){this._characterThrow.play()};a.prototype._generateAnimationSequence=function(a,b){for(var e=[],d=0;2>d;d++)e.push(a+"_001"),e.push(a+"_002"),e.push(a+"_003");for(d=1;d<=b;d++){for(var c=""+d;3>c.length;)c="0"+c;e.push(a+"_"+c)}for(d=0;d<e.length;d++)e[d]=this._assetManager.getTexture(e[d]);d=new p3.MovieClipSequence;d.addTextures(e);
return d}},{"../Common":2,"../general/SoundSFX":18,"../scroller/ScrollerObject":32}],10:[function(c,f,m){function a(){this._sprite=null;b.call(this,"backgroundObject",!0);this.create()}c("../Common");var b=c("../scroller/ScrollerObject");c("../general/SoundSFX");f.exports=a;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.prototype.create=function(){var a=[];a.push(this._assetManager.getTexture("bus_stop"));var b=new p3.MovieClipSequence;b.addTextures(a);this._sprite=new p3.MovieClip(b);
this._sprite.anchor=new PIXI.Point(.5,1);this._sprite.scale=new PIXI.Point(.9,.9);this._sprite.gotoAndPlay(p3.Utils.randomInt(0,this._sprite.totalFrames));this.addChild(this._sprite);this.reset()};a.prototype.init=function(){};a.prototype.update=function(){b.prototype.update.call(this)};a.prototype.reset=function(){b.prototype.reset.call(this);this._sprite.x=0;this._sprite.y=0;this._sprite.rotation=0;var a=p3.Utils.randomInt(0,this._sprite.totalFrames);this._sprite.gotoAndStop(a);this.areaRect=new PIXI.Rectangle(-this._sprite.width/
2,-this._sprite.height,this._sprite.width,this._sprite.height)};a.prototype.pause=function(){};a.prototype.resume=function(){}},{"../Common":2,"../general/SoundSFX":18,"../scroller/ScrollerObject":32}],11:[function(c,f,m){function a(){this._sprite=null;e.call(this,"ball",!1)}var b=c("../Common"),e=c("../scroller/ScrollerObject"),d=c("../general/SoundSFX");f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.init=function(){this._sprite=new PIXI.Sprite(this._assetManager.getTexture("ball"));
this._sprite.anchor=new PIXI.Point(.5,.5);this.scale=new PIXI.Point(.6,.6);this.rotation=30*PIXI.DEG_TO_RAD;this.alpha=0;this.addChild(this._sprite)};a.prototype.update=function(){e.prototype.update.call(this)};a.prototype.launch=function(a,k){this.x=a;this.y=k;this.alpha=1;var e=new TimelineMax;e.to(this,.5,{rotation:this.rotation+360*PIXI.DEG_TO_RAD,ease:Linear.easeNone,repeat:-1},0);e.to(this,2,{x:this.x-230,ease:Sine.easeOut},0);e.to(this,1,{y:this.y-300,ease:Sine.easeOut},0);e.to(this,2,{x:this.x-
430,ease:Sine.easeInOut,yoyo:!0,repeat:-1},2);b.animator.add(e)};a.prototype.fall=function(a,k,e){e=new TimelineMax(e);e.to(this,3,{rotation:this.rotation+720*PIXI.DEG_TO_RAD,ease:Quad.easeOut},.8);e.to(this,.4,{y:k+175,ease:Quad.easeIn,onComplete:function(){d.playRandomFrom(["sfx_gumball_football_hithead_00","sfx_gumball_football_hithead_01","sfx_gumball_football_hithead_02"])}},.8+.4);e.to(this,.4,{y:k+0,ease:Quad.easeOut},1.6);e.to(this,.4,{y:k+215,ease:Quad.easeIn,onComplete:function(){d.playRandomFrom(["sfx_ball_bounce_00",
"sfx_ball_bounce_01","sfx_ball_bounce_02","sfx_ball_bounce_03","sfx_ball_bounce_04"])}},2);e.to(this,.4,{y:k+135,ease:Quad.easeOut},.8+1.6);e.to(this,.4,{y:k+215,ease:Quad.easeIn,onComplete:function(){d.playRandomFrom(["sfx_ball_bounce_00","sfx_ball_bounce_01","sfx_ball_bounce_02","sfx_ball_bounce_03","sfx_ball_bounce_04"])}},2.8);e.to(this,.4+.8,{x:a+80,ease:Sine.easeIn},.4);e.to(this,2.2,{x:a+430,ease:Sine.easeOut},1.6);e.to(this._shadow,1.6,{dY:this._shadow.dY+50,ease:Sine.easeOut},.8+.4);b.animator.add(e)};
a.prototype.pause=function(){};a.prototype.resume=function(){}},{"../Common":2,"../general/SoundSFX":18,"../scroller/ScrollerObject":32}],12:[function(c,f,m){function a(){this._sprite=null;this._hasBeenHit=!1;e.call(this,"enemy",!0);this.create()}var b=c("../Common"),e=c("../scroller/ScrollerObject"),d=c("../general/SoundSFX");f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.create=function(){for(var a=[],b=0;4>b;b++)a.push(this._assetManager.getTexture("obst_barge_"+
b));b=new p3.MovieClipSequence;b.addTextures(a);this._sprite=new p3.MovieClip(b);this._sprite.anchor=new PIXI.Point(.5,1);this._sprite.gotoAndPlay(p3.Utils.randomInt(0,this._sprite.totalFrames));this.addChild(this._sprite);this._bashedPS=new cloudkid.Emitter(this,[this._assetManager.getTexture("particle_barge_dust_00")],this._assetManager.getJSON("enemyHit_ps"));this._bashedPS.emit=!1;this.reset()};a.prototype.init=function(){};a.prototype.update=function(){e.prototype.update.call(this);this._bashedPS.update(p3.Timestep.deltaTime)};
a.prototype.reset=function(){e.prototype.reset.call(this);this._sprite.x=0;this._sprite.y=0;this._sprite.rotation=0;this._hasBeenHit=!1;var a=p3.Utils.randomInt(0,this._sprite.totalFrames);this._sprite.gotoAndStop(a);this.areaRect=new PIXI.Rectangle(-this._sprite.width/2+10,-this._sprite.height+10,this._sprite.width-20,this._sprite.height-20);this.collisionRect=this.areaRect.clone();this._sprite.rotation=5*PIXI.DEG_TO_RAD;a=new TimelineMax;a.to(this._sprite,1,{rotation:-this._sprite.rotation*PIXI.DEG_TO_RAD,
ease:Sine.easeInOut,yoyo:!0,repeat:-1},.5*Math.random());b.animator.add(a)};a.prototype.hit=function(a){this._hasBeenHit||(this._hasBeenHit=!0,a?(a=new TimelineMax,a.to(this._sprite,.4,{rotation:100*PIXI.DEG_TO_RAD,ease:Bounce.easeOut},0),a.to(this._sprite,.2,{y:this._sprite.y-40,ease:Linear.easeOut},0),b.animator.add(a),b.animator.setTimeout(function(){this._bashedPS.emit=!0},.1,this)):(a=new TimelineMax,a.to(this._sprite,.1,{rotation:50*PIXI.DEG_TO_RAD,ease:Quad.easeOut}),a.to(this._sprite,.25,
{rotation:-5*PIXI.DEG_TO_RAD,ease:Bounce.easeOut}),a.to(this._sprite,1,{rotation:5*PIXI.DEG_TO_RAD,ease:Sine.easeInOut,yoyo:!0,repeat:-1},.35),b.animator.add(a)),d.playRandomFrom(["sfx_barge_enemy_03","sfx_barge_enemy_04"]))};a.prototype.pause=function(){};a.prototype.resume=function(){};Object.defineProperty(a.prototype,"hasBeenHit",{get:function(){return this._hasBeenHit}})},{"../Common":2,"../general/SoundSFX":18,"../scroller/ScrollerObject":32}],13:[function(c,f,m){function a(a){this._obstacleType=
a;this._sprite=null;this._hasBeenHit=!1;e.call(this,"obstacle",!0);this.create()}var b=c("../Common"),e=c("../scroller/ScrollerObject"),d=c("../general/SoundSFX");f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.create=function(){var a=[];if("bottom"==this._obstacleType)for(var b=0;24>b;b++)a.push(this._assetManager.getTexture("obst_"+b));else if("top"==this._obstacleType)for(b=0;2>b;b++)a.push(this._assetManager.getTexture("obst_top_"+b));b=new p3.MovieClipSequence;
b.addTextures(a);this._sprite=new p3.MovieClip(b);this._sprite.anchor=new PIXI.Point(.5,"bottom"==this._obstacleType?1:0);this._sprite.gotoAndPlay(p3.Utils.randomInt(0,this._sprite.totalFrames));this.addChild(this._sprite);"top"==this._obstacleType&&(this._sprite.scale=new PIXI.Point(.9,.9));this.reset()};a.prototype.init=function(){};a.prototype.update=function(){e.prototype.update.call(this)};a.prototype.reset=function(){e.prototype.reset.call(this);this._sprite.x=0;this._sprite.y=0;this._sprite.rotation=
0;this._hasBeenHit=!1;var a=p3.Utils.randomInt(0,this._sprite.totalFrames-1);this._sprite.gotoAndStop(a);"bottom"==this._obstacleType?(this.areaRect=new PIXI.Rectangle(-this._sprite.width/2+10,-this._sprite.height+10,this._sprite.width-20,this._sprite.height-20),11==a&&(this.areaRect.width-=120)):this.areaRect=new PIXI.Rectangle(-this._sprite.width/2+10,10,this._sprite.width-20,this._sprite.height-20);this.collisionRect=this.areaRect.clone()};a.prototype.hit=function(a){if(!this._hasBeenHit&&(this._hasBeenHit=
!0,a))if("top"==this._obstacleType)switch(a=new TimelineMax,a.to(this._sprite,.2,{rotation:-50*PIXI.DEG_TO_RAD,ease:Quad.easeOut}),a.to(this._sprite,.22,{rotation:40*PIXI.DEG_TO_RAD,ease:Quad.easeInOut}),a.to(this._sprite,.24,{rotation:-30*PIXI.DEG_TO_RAD,ease:Quad.easeInOut}),a.to(this._sprite,.26,{rotation:20*PIXI.DEG_TO_RAD,ease:Quad.easeInOut}),a.to(this._sprite,.28,{rotation:-10*PIXI.DEG_TO_RAD,ease:Quad.easeInOut}),a.to(this._sprite,.3,{rotation:0*PIXI.DEG_TO_RAD,ease:Quad.easeInOut}),b.animator.add(a),
this._sprite._currentFrame){case 0:d.play("sfx_hit_concreteblock_00",{volume:.5});break;case 1:d.play("sfx_hit_gong_00",{volume:.5})}else switch(this._sprite._currentFrame){case 0:d.play("sfx_hit_metal_02",{volume:.5});break;case 1:d.play("sfx_hit_ladder_00",{volume:.5});break;case 2:d.play("sfx_hit_metal_01",{volume:.5});break;case 3:d.play("sfx_hit_box_00",{volume:.5});break;case 4:d.play("sfx_hit_metal_01",{volume:.5});break;case 5:d.play("sfx_hit_glass_00",{volume:.5});break;case 6:d.play("sfx_hit_bin_00",
{volume:.5});break;case 7:d.play("sfx_hit_box_00",{volume:.5});break;case 8:d.play("sfx_hit_box_00",{volume:.5});break;case 9:d.play("sfx_hit_metal_00",{volume:.5});break;case 10:d.play("sfx_hit_box_00",{volume:.5});break;case 11:d.play("sfx_hit_bin_00",{volume:.5});break;case 12:d.play("sfx_hit_box_00",{volume:.5});break;case 13:d.play("sfx_hit_box_00",{volume:.5});break;case 14:d.play("sfx_hit_box_00",{volume:.5});break;case 15:d.play("sfx_hit_box_00",{volume:.5});break;case 16:d.play("sfx_hit_cans_00",
{volume:.5});break;case 17:d.play("sfx_hit_box_00",{volume:.5});break;case 18:d.play("sfx_hit_fan_00",{volume:.5});break;case 19:d.play("sfx_hit_chair_00",{volume:.5});break;case 20:d.play("sfx_hit_metal_01",{volume:.5});break;case 21:d.play("sfx_hit_glass_00",{volume:.5});break;case 22:d.play("sfx_hit_bbq_00",{volume:.5});break;case 23:d.play("sfx_hit_box_00",{volume:.5})}};a.prototype.pause=function(){};a.prototype.resume=function(){};Object.defineProperty(a.prototype,"obstacleType",{get:function(){return this._obstacleType}});
Object.defineProperty(a.prototype,"hasBeenHit",{get:function(){return this._hasBeenHit}})},{"../Common":2,"../general/SoundSFX":18,"../scroller/ScrollerObject":32}],14:[function(c,f,m){function a(a){this._pickupType=a;this._radial=this._sprite=null;this._hasBeenHit=!1;this._animation=null;e.call(this,"pickup",!0);this.create()}var b=c("../Common"),e=c("../scroller/ScrollerObject");c("../general/SoundSFX");f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.create=
function(){var a=[];switch(this._pickupType){default:case "armor":a.push(this._assetManager.getTexture("pickup_armour"))}var b=new p3.MovieClipSequence;b.addTextures(a);this._radial=new PIXI.Sprite(this._assetManager.getTexture("pickup_starburst"));this._radial.anchor=new PIXI.Point(.5,.5);this._radial.scale=new PIXI.Point(1,1);this._radial.alpha=.8;this.addChild(this._radial);this._sprite=new p3.MovieClip(b);this._sprite.anchor=new PIXI.Point(.5,1);this._sprite.scale=new PIXI.Point(.9,.9);this._sprite.gotoAndPlay(p3.Utils.randomInt(0,
this._sprite.totalFrames));this.addChild(this._sprite);this.reset()};a.prototype.init=function(){};a.prototype.initAnimation=function(){null===this._animation&&(this._animation=new TimelineMax,this._animation.to(this,.5,{y:this.y-30,ease:Sine.easeInOut,yoyo:!0,repeat:-1},0),this._animation.to(this._radial,2,{rotation:180*PIXI.DEG_TO_RAD,ease:Linear.easeInOut,repeat:-1},0),this._animation.to(this._radial.scale,.5,{x:1.3*this._radial.scale.x,y:1.3*this._radial.scale.y,ease:Sine.easeInOut,yoyo:!0,repeat:-1},
0),this._animation.to(this._radial,.5,{alpha:.5,ease:Sine.easeInOut,yoyo:!0,repeat:-1},0),b.animator.add(this._animation))};a.prototype.update=function(){e.prototype.update.call(this)};a.prototype.reset=function(){e.prototype.reset.call(this);this._hasBeenHit=!1;this.visible=!0;this.alpha=1;this.y=this.x=0;this._radial.y=-this._sprite.height/2;this._radial.rotation=0;this._radial.scale=new PIXI.Point(1,1);this._radial.alpha=.8;var a=p3.Utils.randomInt(0,this._sprite.totalFrames);this._sprite.gotoAndStop(a);
this.areaRect=new PIXI.Rectangle(-this._sprite.width/2+40,-this._sprite.height,this._sprite.width-80,this._sprite.height);this.collisionRect=this.areaRect.clone()};a.prototype.pause=function(){};a.prototype.resume=function(){};a.prototype.pickedUp=function(){if(!this._hasBeenHit){this._hasBeenHit=!0;var a=new TimelineMax;a.to(this,.1,{alpha:0,ease:Linear.easeOut},0);b.animator.add(a)}};Object.defineProperty(a.prototype,"hasBeenHit",{get:function(){return this._hasBeenHit}});Object.defineProperty(a.prototype,
"pickupType",{get:function(){return this._pickupType}})},{"../Common":2,"../general/SoundSFX":18,"../scroller/ScrollerObject":32}],15:[function(c,f,m){function a(){this._assetManager=p3.AssetManager.instance;this._text=this._flag=null;PIXI.Container.call(this)}c("../Common");f.exports=a;a.prototype=Object.create(PIXI.Container.prototype);a.prototype.constructor=a;a.prototype.init=function(){this._flag=new PIXI.Sprite(this._assetManager.getTexture("score_icon"));this._flag.anchor=new PIXI.Point(.5,
.5);this.addChild(this._flag);this._text=new p3.BitmapText("",this._assetManager.getFontAtlas("score"),p3.BitmapText.ALIGN_LEFT,16776960);this._text.x=50;this._text.y=-32;this._text.scale=new PIXI.Point(.7,.7);this.addChild(this._text)};a.prototype.updateScore=function(a){this._text.text=a.toString()+"m"}},{"../Common":2}],16:[function(c,f,m){function a(){this._objects=this._pool=null;b.call(this,"ShadowHolder",!1)}c("../Common");var b=c("../scroller/ScrollerObject");f.exports=a;a.prototype=Object.create(b.prototype);
a.prototype.constructor=a;a.prototype.init=function(){this._pool=new p3.ObjectPool(PIXI.Sprite,2,[this._assetManager.getTexture("character_shadow")]);this._objects=[];this.areaRect=new PIXI.Rectangle(0,0,0,0)};a.prototype.update=function(){b.prototype.update.call(this);for(var a=0;a<this._objects.length;a++){this._objects[a].shadow.x=this._objects[a].obj.x+this._objects[a].dX;this._objects[a].shadow.y=0+this._objects[a].dY;this._objects[a].shadow.rotation=0;var d=Math.max(0,this.y-this._objects[a].obj.y),
d=this._objects[a].minScale+Math.max(0,600-d)/600*(this._objects[a].maxScale-this._objects[a].minScale);this._objects[a].shadow.scale=new PIXI.Point(d,d);this._objects[a].shadow.alpha=.5*this._objects[a].obj.alpha;"enemy"==this._objects[a].obj.type?(d=this._objects[a].obj._sprite.rotation*PIXI.RAD_TO_DEG,this._objects[a].shadow.x+=145*d/100,this._objects[a].shadow.y+=25*d/100,this._objects[a].shadow.scale.x+=1.8*d/100,this._objects[a].shadow.scale.y+=1.3*d/100,this._objects[a].shadow.rotation=5*PIXI.DEG_TO_RAD*
d/100):"obstacle"==this._objects[a].obj.type&&"top"==this._objects[a].obj._obstacleType?(d=this._objects[a].obj._sprite.rotation*PIXI.RAD_TO_DEG,this._objects[a].shadow.x-=20*d/20):"avatar"==this._objects[a].obj.type&&this._objects[a].obj.isDead&&(this._objects[a].shadow.scale.x*=1.7)}};a.prototype.addObject=function(a,b,g,k,l){b=b||0;g=g||1;k=k||0;l=l||0;var h=this._pool.create();null==h&&(this._pool.expand(2),h=this._pool.create());h.anchor=new PIXI.Point(.5,.5);h.alpha=.6;this.addChild(h);this._objects.push({obj:a,
shadow:h,minScale:b,maxScale:g,dX:k,dY:l});return this._objects[this._objects.length-1]};a.prototype.removeObject=function(a){for(var b=0;b<this._objects.length;b++)this._objects[b].obj==a&&(this.removeChild(this._objects[b].shadow),this._pool.free(this._objects[b].shadow),this._objects.splice(b,1))}},{"../Common":2,"../scroller/ScrollerObject":32}],17:[function(c,f,m){function a(a,b){this._assetManager=p3.AssetManager.instance;this.signals={};this.signals.clicked=new signals.Signal;this.signals.clickFinish=
new signals.Signal;this._button=this._banner=null;this._buttonString=a||"next";this._delay=b||0;PIXI.Container.call(this)}var b=c("../Common");c("../general/SoundSFX");f.exports=a;a.prototype=Object.create(PIXI.Container.prototype);a.prototype.constructor=a;a.prototype.init=function(){b.animator.setTimeout(function(){this._banner=new PIXI.Sprite(this._assetManager.getTexture("ui"));this._banner.anchor=new PIXI.Point(.5,.5);this.addChild(this._banner);this._button=new p3.Button(this._assetManager.getTexture("but_"+
this._buttonString+"_def"),this._assetManager.getTexture("but_"+this._buttonString+"_over"),this._assetManager.getTexture("but_"+this._buttonString+"_pressed"));this._button.signals.down.addOnce(this.onButtonClick,this);this._button.signals.over.add(this.onButtonOver,this);this._button.animate=!1;this.addChild(this._button)},this._delay,this)};a.prototype.onButtonClick=function(){this.signals.clicked.dispatch()};a.prototype.onButtonOver=function(){}},{"../Common":2,"../general/SoundSFX":18}],18:[function(c,
f,m){function a(){}c("../Common");f.exports=a;a.button=function(a,e,d){d=void 0==d?!0:d;(void 0==e||e)&&a.signals.click.add(function(a){p3.AudioManager.instance.playSound("sfx_btn_press_reverb")},this);d&&a.signals.over.add(function(a){p3.AudioManager.instance.playSound("sfx_btn_rollover_reverb")},this)};a.play=function(a,e,d){if(null==d)return p3.AudioManager.instance.playSound(a,e);setTimeout(function(){p3.AudioManager.instance.playSound(a,e)},d)};a.playMusic=function(a,e,d){null==d?p3.AudioManager.instance.playMusic(a,
e):setTimeout(function(){p3.AudioManager.instance.playMusic(a,e)},d)};a.stop=function(a){for(var e=p3.AudioManager.instance.soundsSFX,d=0;d<e.length;d++)e[d].name==a&&p3.AudioManager.instance.stopSound(a)};a.playRandomFrom=function(a){p3.AudioManager.instance.playSound(a[Math.floor(Math.random()*a.length)])}},{"../Common":2}],19:[function(c,f,m){function a(a,e,d,g,k,l){var h=p3.AudioManager.instance;this._onNormalTexture=a;this._offNormalTexture=e;this._onOverTexture=d;this._offOverTexture=g;this._onDownTexture=
k;this._offDownTexture=l;this._normalTexture=h.isMute?e:a;this._overTexture=h.isMute?g:d;this._downTexture=h.isMute?g:k;p3.Button.call(this,this._normalTexture,this._overTexture,this._downTexture)}f.exports=a;a.prototype=Object.create(p3.Button.prototype);a.prototype.constructor=a;a.prototype.onMouseClick=function(a){var e=p3.AudioManager.instance;e.mute(!e.isMute);this._normalTexture=e.isMute?this._offNormalTexture:this._onNormalTexture;this._overTexture=e.isMute?this._offOverTexture:this._onOverTexture;
this._downTexture=e.isMute?this._offDownTexture:this._onDownTexture;this._disabledTexture=e.isMute?this._offDisabledTexture:this._onDisabledTexture;p3.Button.prototype.onMouseClick.call(this,a)}},{}],20:[function(c,f,m){function a(){this.signals={};this.signals.next=new signals.Signal;this.signals.previous=new signals.Signal;this.signals.home=new signals.Signal;this.signals.pause=new signals.Signal;PIXI.Container.call(this)}f.exports=a;a.prototype=Object.create(PIXI.Container.prototype);a.prototype.constructor=
a;a.prototype.init=function(){};a.prototype.dispose=function(){this.signals.next.dispose();this.signals.previous.dispose();this.signals.home.dispose();this.signals.pause.dispose();this.removeChildren()};a.prototype.resize=function(){};a.prototype.update=function(){};a.prototype.appear=function(){this.animateIn()};a.prototype.show=function(){this.animateIn()};a.prototype.hide=function(){};a.prototype.animateIn=function(a,e){e=e||window;a&&a.call(e)};a.prototype.animateOut=function(a,e){e=e||window;
a&&a.call(e)}},{}],21:[function(c,f,m){function a(){this._renderer=this._stage=null;this._stack=[];this._transition=null}c("./Scene");var b=c("./Transition");f.exports=a;a.prototype.init=function(a,b){this._stage=a;this._renderer=b};a.prototype.update=function(){this._stack.length&&this.top.update()};a.prototype.add=function(a,d){function g(a){if(this.top)if(this.top.hide(),!this._transition.push)for(;this.top;)this.top.parent.removeChild(this.top),this.top.dispose(),this._stack.pop();else if(this._transition.replace)for(var b,
e=0;e<this._stack.length;++e)b=this._stack[e],b.parent&&b.parent.removeChild(b);a.init();a.resize();a.parent||this.stage.addChildAt(a,this._transition.parent.getChildIndex(this._transition));this._stack.push(a);this._transition.wait||p3.Timestep.queueCall(a.appear,null,a);this._transition.out();console.log(this._stack)}this.transitionInProgress||(this._transition=d||new b,!this._transition.requiresWebGL||this._renderer instanceof PIXI.WebGLRenderer||(this._transition=d.fallback(),this._transition.push=
d.push,this._transition.replace=d.replace,this._transition.wait=d.wait),this._transition.init(),this._stage.addChild(this._transition),this._transition.signals["in"].addOnce(function(b){p3.Timestep.queueCall(g,[a],this)},this),this._transition.signals.out.addOnce(function(b){this._transition=null;b.parent.removeChild(b);b.dispose();b.wait&&p3.Timestep.queueCall(a.appear,null,a)},this),this._transition["in"]())};a.prototype.remove=function(a,d){function g(a){for(var b=0;b<a;++b)this.top.hide(),this.top.parent.removeChild(this.top),
this.top.dispose(),this._stack.pop();a=this.top;a.resize();a.parent||this.stage.addChildAt(a,this._transition.parent.getChildIndex(this._transition));this._transition.wait||a.show();this._transition.out();console.log(this._stack)}this.transitionInProgress||(this._transition=a||new b,d=Math.max(1,d)||1,!this._transition.requiresWebGL||this._renderer instanceof PIXI.WebGLRenderer||(this._transition=a.fallback(),this._transition.push=a.push,this._transition.replace=a.replace,this._transition.wait=a.wait),
this._transition.init(),this._stage.addChild(this._transition),this._transition.signals["in"].addOnce(function(a){p3.Timestep.queueCall(g,[d],this)},this),this._transition.signals.out.addOnce(function(a){this._transition=null;a.parent.removeChild(a);a.dispose();a.wait&&this.top.show()},this),this._transition["in"]())};a.prototype.clear=function(){};a.prototype.resize=function(){for(var a,b=0;b<this._stack.length;++b)a=this._stack[b],a.resize();this._transition&&this._transition.resize()};Object.defineProperty(a.prototype,
"stage",{get:function(){return this._stage}});Object.defineProperty(a.prototype,"top",{get:function(){return this._stack.length?this._stack[this._stack.length-1]:null}});Object.defineProperty(a.prototype,"transitionInProgress",{get:function(){return null!=this._transition?!0:!1}})},{"./Scene":20,"./Transition":22}],22:[function(c,f,m){function a(){this.signals={};this.signals["in"]=new signals.Signal;this.signals.out=new signals.Signal;this.push=!1;this.wait=this.replace=!0;this.requiresWebGL=!1;
PIXI.Container.call(this)}f.exports=a;a.prototype=Object.create(PIXI.Container.prototype);a.prototype.constructor=a;a.prototype.init=function(){};a.prototype.dispose=function(){this.signals["in"].dispose();this.signals.out.dispose();this.removeChildren()};a.prototype["in"]=function(){this.signals["in"].dispatch(this)};a.prototype.out=function(){this.signals.out.dispatch(this)};a.prototype.resize=function(){};a.prototype.fallback=function(){}},{}],23:[function(c,f,m){function a(a,b){this._muteButton=
this._restartButton=this._nextButton=this._screenTransition=this._gameoverPage=this._overlay=null;this._score=a;this._highscore=b;this._darwin=this._gumball=null;e.call(this);this.signals.enterPressed=new signals.Signal}var b=c("../Common"),e=c("../screens/SimpleScreen");c("../general/NextButton");var d=c("../general/SoundSFX");f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.init=function(){console.log("GAME OVER INITIALIZED");e.prototype.init.call(this);this._overlay=
new PIXI.Sprite(b.generatedTextures.blackSquare);this._overlay.alpha=.7;this._overlay.width=b.STAGE_WIDTH;this._overlay.height=b.STAGE_HEIGHT;this._overlay.hitArea=new PIXI.Rectangle(0,0,b.STAGE_WIDTH,b.STAGE_HEIGHT);this._overlay.interactive=!0;this.addChild(this._overlay);this._gameoverPage=new PIXI.Container;this._gameoverPage.x=b.STAGE_WIDTH/2;this._gameoverPage.y=b.STAGE_HEIGHT/2;this._gameoverPage.scale=new PIXI.Point(0,0);this.addChild(this._gameoverPage);var a=new PIXI.Graphics;a.beginFill(15530495);
a.drawRect(-310,-180,620,320);this._gameoverPage.addChild(a);a=new PIXI.Sprite(this._assetManager.getTexture("panel"));a.anchor=new PIXI.Point(.5,.5);a.x=0;a.y=0;this._gameoverPage.addChild(a);var k=this._assetManager.getJSON("config").copy.YOU_SCORED[b.COUNTRY_CODE],d=k.live?new PIXI.Text(k.text,{font:"ar"==window.og.language?"48px FredFredburgerAra-Regular":"48px Junegull-Regular",fill:16776960,align:"center",stroke:0,strokeThickness:6,padding:20,lineJoin:"round"}):new p3.BitmapText(k.text,this._assetManager.getFontAtlas("text"),
p3.BitmapText.ALIGN_CENTER,16776960);d.anchor=new PIXI.Point(.5,.5);d.x=0;d.y=-248;d.scale=new PIXI.Point(k.scale,k.scale);a.addChild(d);k.live&&(d.x+=k.offset.x,d.y+=k.offset.y);d=new PIXI.Sprite(this._assetManager.getTexture("panel_inner_box"));d.anchor=new PIXI.Point(.5,.5);d.x=0;d.y=58;a.addChild(d);d=new PIXI.Container;d.x=0;d.y=-140;d.scale=new PIXI.Point(0,1);a.addChild(d);var h=new p3.BitmapText(this._score.toString()+"m",this._assetManager.getFontAtlas("score"),p3.BitmapText.ALIGN_CENTER,
15493285);h.x=0;h.y=0;d.addChild(h);k=this._assetManager.getJSON("config").copy.BEST_SO_FAR[b.COUNTRY_CODE];h=k.live?new PIXI.Text(k.text,{font:"ar"==window.og.language?"32px FredFredburgerAra-Regular":"32px Junegull-Regular",fill:16776960,align:"center",stroke:0,strokeThickness:6,lineJoin:"round"}):new p3.BitmapText(k.text,this._assetManager.getFontAtlas("text"),p3.BitmapText.ALIGN_CENTER,16776960);h.anchor=new PIXI.Point(.5,.5);h.x=0;h.y=-20;h.alpha=0;h.scale=new PIXI.Point(k.scale,k.scale);a.addChild(h);
k.live&&(h.x+=k.offset.x,h.y+=k.offset.y);k=new PIXI.Container;k.x=0;k.y=55;k.scale=new PIXI.Point(0,.75);a.addChild(k);var c=new p3.BitmapText(this._highscore.toString()+"m",this._assetManager.getFontAtlas("score"),p3.BitmapText.ALIGN_CENTER,15493285);c.x=0;c.y=0;c.scale=new PIXI.Point(1,1);k.addChild(c);c=new PIXI.Sprite(this._assetManager.getTexture("icon_victory"));c.anchor=new PIXI.Point(.5,.5);c.x=0;c.y=-100;c.alpha=0;c.scale=new PIXI.Point(3,3);a.addChild(c);var f=new PIXI.Sprite(this._assetManager.getTexture("icon_victory"));
f.anchor=new PIXI.Point(.5,.5);f.x=0;f.y=-100;f.alpha=0;f.scale=new PIXI.Point(3,3);a.addChild(f);var m=new PIXI.Sprite(this._assetManager.getTexture("icon_trophy"));m.anchor=new PIXI.Point(.5,.5);m.x=-215;m.y=60;m.scale=new PIXI.Point(0,0);a.addChild(m);var p=new PIXI.Sprite(this._assetManager.getTexture("icon_trophy"));p.anchor=new PIXI.Point(.5,.5);p.x=215;p.y=60;p.scale=new PIXI.Point(0,0);a.addChild(p);this._restartButton=new p3.Button(this._assetManager.getTexture("but_replay_def"),this._assetManager.getTexture("but_replay_over"),
this._assetManager.getTexture("but_replay_pressed"));this._restartButton.init();this._restartButton.y=b.STAGE_HEIGHT-155;this._restartButton.x=b.STAGE_WIDTH/2;this._restartButton.scale=new PIXI.Point(0,0);this._restartButton.signals.down.add(this.restartClicked,this);this._restartButton.signals.over.add(this.buttonOver,this);this.addChild(this._restartButton);this._nextButton=new p3.Button(this._assetManager.getTexture("but_home_def"),this._assetManager.getTexture("but_home_over"),this._assetManager.getTexture("but_home_pressed"));
this._nextButton.init();this._nextButton.y=this._guiButtonTopMargin;this._nextButton.scale=new PIXI.Point(0,0);this._nextButton.signals.down.add(this.nextClicked,this);this._nextButton.signals.over.add(this.buttonOver,this);this.addChild(this._nextButton);this._muteButton=new p3.MuteButton(this._assetManager.getTexture("but_sound_on_def"),this._assetManager.getTexture("but_sound_off_def"),this._assetManager.getTexture("but_sound_on_over"),this._assetManager.getTexture("but_sound_off_over"),this._assetManager.getTexture("but_sound_on_pressed"),
this._assetManager.getTexture("but_sound_off_pressed"));this._muteButton.id="mute";this._muteButton.y=this._guiButtonTopMargin;this._muteButton.scale=new PIXI.Point(0,0);this._muteButton.signals.over.add(this.buttonOver,this);this._muteButton.init();this.addChild(this._muteButton);this._gumball=new p3.MovieClip(this._generateAnimationSequence("gumball_celebrate",23,10));this._gumball.animationSpeed=20;this._gumball.looping=!1;this._gumball.anchor=new PIXI.Point(.5,1);this._gumball.visible=!0;this._gumball.x=
b.STAGE_WIDTH+this._gumball.width/2;this._gumball.y=b.STAGE_HEIGHT-30;this.addChild(this._gumball);this._darwin=new p3.MovieClip(this._generateAnimationSequence("darwin_celebrate",36));this._darwin.animationSpeed=20;this._darwin.looping=!1;this._darwin.anchor=new PIXI.Point(.5,1);this._darwin.visible=!0;this._darwin.x=-this._darwin.width/2;this._darwin.y=b.STAGE_HEIGHT-34;this.addChild(this._darwin);a=new TimelineMax;a.to(this._gameoverPage.scale,.5,{x:1,y:1,ease:Back.easeOut});a.to(this._restartButton.scale,
1.2,{x:1,y:1,ease:Elastic.easeOut},.3);a.to(d.scale,1,{x:1,y:1,ease:Elastic.easeOut},.3);a.to(c,.7,{alpha:1,ease:Sine.easeOut},.3);a.to(c,.7,{x:-250,ease:Back.easeOut},.3);a.to(c.scale,.7,{x:1,y:1,ease:Back.easeOut},.3);a.to(f,.7,{alpha:1,ease:Sine.easeOut},.3);a.to(f,.7,{x:240,ease:Back.easeOut},.3);a.to(f.scale,.7,{x:1,y:1,ease:Back.easeOut},.3);a.to(h,.4,{alpha:1,ease:Sine.easeOut},1.1);a.to(h,.4,{y:h.y+25,ease:Quad.easeOut},1.1);a.to(k.scale,1,{x:.6,y:.6,ease:Elastic.easeOut},1.3);a.to(m.scale,
.5,{x:1,y:1,ease:Back.easeOut},1);a.to(p.scale,.5,{x:1,y:1,ease:Back.easeOut},1);b.animator.add(a);this._screenTransition=new PIXI.Sprite(b.generatedTextures.blackSquare);this._screenTransition.alpha=1;this._screenTransition.width=b.STAGE_WIDTH;this._screenTransition.height=b.STAGE_HEIGHT;this._screenTransition.x=-b.STAGE_WIDTH;this.addChild(this._screenTransition);this.signals.enterPressed.addOnce(this.restartClicked,this)};a.prototype.update=function(){b.keyboard.getKeyJustPressed(b.keyboard.KEY_ENTER)&&
this.signals.enterPressed.dispatch()};a.prototype.resize=function(){e.prototype.resize.call(this);this._nextButton.x=this._getFirstButtonPositionLeft();this._muteButton.x=this._getFirstButtonPositionRight()};a.prototype.dispose=function(){};a.prototype.showHelp=function(){};a.prototype.animateIn=function(a,k){var e=new TimelineMax;e.to(this._gameoverPage.scale,.5,{x:1,y:1,ease:Back.easeOut},.1);e.to(this._restartButton.scale,.5,{x:0,y:0,ease:Back.easeOut},0);e.to(this._nextButton.scale,.5,{x:1,y:1,
ease:Back.easeOut},.1);e.to(this._muteButton.scale,.5,{x:1,y:1,ease:Back.easeOut},.1);e.to(this._overlay,.5,{alpha:.7,ease:Back.easeOut},.1);e.to(this._gumball,.5,{x:b.STAGE_WIDTH/2+370,ease:Sine.easeOut},0);e.to(this._darwin,.5,{x:b.STAGE_WIDTH/2-320,ease:Sine.easeOut},0);b.animator.add(e);b.animator.setTimeout(function(){this._darwin.play()},.2,this);b.animator.setTimeout(function(){this._gumball.play();d.playRandomFrom(["sfx_gumball_scorelaugh_00","sfx_gumball_scorelaugh_01"])},.5,this)};a.prototype.animateOut=
function(a,k){var e=new TimelineMax({onCompleteScope:k,onComplete:a});e.to(this._gameoverPage.scale,.5,{x:0,y:0,ease:Back.easeIn},0);e.to(this._restartButton.scale,.5,{x:0,y:0,ease:Back.easeIn},0);e.to(this._nextButton.scale,.5,{x:0,y:0,ease:Back.easeIn},0);e.to(this._muteButton.scale,.5,{x:0,y:0,ease:Back.easeIn},0);e.to(this._gumball,.5,{x:b.STAGE_WIDTH,ease:Back.easeIn},0);e.to(this._darwin,.5,{x:0,ease:Back.easeIn},0);e.to(this._screenTransition,.35,{x:0,ease:Sine.easeOut},.5);b.animator.add(e)};
a.prototype._generateAnimationSequence=function(a,b,e){for(var d=[],c=1;c<=b;c++){for(var f=""+c;3>f.length;)f="0"+f;d.push(a+"_"+f)}if(e)for(c=e-1;1<c;c--){for(f=""+c;3>f.length;)f="0"+f;d.push(a+"_"+f)}for(c=0;c<d.length;c++)d[c]=this._assetManager.getTexture(d[c]);a=new p3.MovieClipSequence;a.addTextures(d);return a};a.prototype.nextClicked=function(){this.signals.requestedNextScreen.dispatch();d.play("sfx_btn_press_00")};a.prototype.restartClicked=function(){this.signals.requestedPreviousScreen.dispatch();
d.play("sfx_btn_press_00")};a.prototype.buttonOver=function(){d.play("sfx_btn_rollover_00")}},{"../Common":2,"../general/NextButton":17,"../general/SoundSFX":18,"../screens/SimpleScreen":28}],24:[function(c,f,m){function a(){this.STATUS_INSTRUCTIONS=0;this.STATUS_AREYOUSURE=1;this.STATUS_RESUMING=-1;this._status=this.STATUS_INSTRUCTIONS;this._rightButton=this._leftButton=this._imageContainer=this._contents=this._areYouSurePage=this._instructionsPage=this._title=this._exitButton=this._muteButton=this._resumeButton=
this._overlay=null;this._currentPage=0;this._introHelpMode=!1;this._text=null;e.call(this)}var b=c("../Common"),e=c("../screens/SimpleScreen"),d=c("../general/NextButton"),g=c("../general/SoundSFX");c("../lib/MuteButton");f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.init=function(){console.log("PAUSE INITIALIZED");e.prototype.init.call(this);this._overlay=new PIXI.Sprite(b.generatedTextures.blackSquare);this._overlay.alpha=0;this._overlay.width=b.STAGE_WIDTH;
this._overlay.height=b.STAGE_HEIGHT;this._overlay.hitArea=new PIXI.Rectangle(0,0,b.STAGE_WIDTH,b.STAGE_HEIGHT);this._overlay.interactive=!0;this.addChild(this._overlay);this._instructionsPage=new PIXI.Container;this._instructionsPage.x=b.STAGE_WIDTH/2;this._instructionsPage.y=b.STAGE_HEIGHT/2;this._instructionsPage.scale=new PIXI.Point(0,0);this.addChild(this._instructionsPage);var a=new PIXI.Graphics;a.beginFill(15530495);a.drawRect(-310,-180,620,320);a.endFill();this._instructionsPage.addChild(a);
a=new PIXI.Sprite(this._assetManager.getTexture("panel"));a.anchor=new PIXI.Point(.5,.5);a.x=0;a.y=0;this._instructionsPage.addChild(a);var g=this._assetManager.getJSON("config").copy.INSTRUCTIONS[b.COUNTRY_CODE],h=g.live?new PIXI.Text(g.text,{font:"ar"==window.og.language?"48px FredFredburgerAra-Regular":"48px Junegull-Regular",fill:16776960,align:"center",stroke:0,strokeThickness:6,padding:6,lineJoin:"round"}):new p3.BitmapText(g.text,this._assetManager.getFontAtlas("text"),p3.BitmapText.ALIGN_CENTER,
16776960);h.y=-246;h.anchor=new PIXI.Point(.5,.5);h.scale=new PIXI.Point(g.scale,g.scale);a.addChild(h);g.live&&(h.x+=g.offset.x,h.y+=g.offset.y);this._contents=[];h=p3.Device.isMobile?"MOB":"PC";g=this._assetManager.getJSON("config").copy["INSTRUCTIONS_1_"+h][b.COUNTRY_CODE];this._contents.push({image:this._assetManager.getTexture("frame-1"),text:g.text.toUpperCase(),scale:g.scale,offset:g.offset,live:g.live});g=this._assetManager.getJSON("config").copy["INSTRUCTIONS_2_"+h][b.COUNTRY_CODE];this._contents.push({image:this._assetManager.getTexture("frame-2"),
text:g.text.toUpperCase(),scale:g.scale,offset:g.offset,live:g.live});g=this._assetManager.getJSON("config").copy.INSTRUCTIONS_3[b.COUNTRY_CODE];this._contents.push({image:this._assetManager.getTexture("frame-3"),text:g.text.toUpperCase(),scale:g.scale,offset:g.offset,live:g.live});this._imageContainer=new PIXI.Sprite;this._imageContainer.x=0;this._imageContainer.y=-20;this._instructionsPage.addChild(this._imageContainer);this._image=new PIXI.Sprite(this._contents[0].image);this._image.anchor.x=this._image.anchor.y=
.5;this._imageContainer.addChild(this._image);this._image.x+=50;p3.Device.isMobile||(h=new p3.MovieClipSequence,h.addTextures([this._assetManager.getTexture("key_jump_def"),this._assetManager.getTexture("key_jump_pressed")]),h=new p3.MovieClip(h),h.x=-285,h.y=-55,h.looping=!0,h.animationSpeed=1,h.play(),this._image.addChild(h));h=this._assetManager.getSprite("hand",!0);h.x=-290;h.y=50;this._image.addChild(h);this._text=g.live?new PIXI.Text(this._contents[0].text,{font:"ar"==window.og.language?"32px FredFredburgerAra-Regular":
"32px Junegull-Regular",fill:16776960,align:"center",stroke:0,strokeThickness:6,padding:6,lineJoin:"round"}):new p3.BitmapText(this._contents[0].text,this._assetManager.getFontAtlas("text"),p3.BitmapText.ALIGN_CENTER,16776960);this._text.anchor=new PIXI.Point(.5,.5);this._text.scale=new PIXI.Point(this._contents[0].scale,this._contents[0].scale);a.addChild(this._text);this._text.x+=this._contents[0].offset.x;this._text.y=150+this._contents[0].offset.y;this._resumeButton=new d("play",0);this._resumeButton.y=
261;this._resumeButton.x=344;this._resumeButton.init();this._resumeButton.signals.clicked.add(this.resumeClicked,this);a.addChild(this._resumeButton);this._leftButton=new p3.Button(this._assetManager.getTexture("but_arrow_def"),this._assetManager.getTexture("but_arrow_over"),this._assetManager.getTexture("but_arrow_pressed"));this._leftButton.init();this._leftButton.y=0;this._leftButton.x=-356;this._leftButton.scale=new PIXI.Point(-1,1);this._leftButton.signals.down.add(this.leftClicked,this);this._leftButton.signals.over.add(this.buttonOver,
this);this._leftButton.animate=!1;this._leftButton.visible=!1;a.addChild(this._leftButton);this._rightButton=new p3.Button(this._assetManager.getTexture("but_arrow_def"),this._assetManager.getTexture("but_arrow_over"),this._assetManager.getTexture("but_arrow_pressed"));this._rightButton.init();this._rightButton.y=0;this._rightButton.x=356;this._rightButton.signals.down.add(this.rightClicked,this);this._rightButton.signals.over.add(this.buttonOver,this);this._rightButton.animate=!1;a.addChild(this._rightButton);
this._areYouSurePage=new PIXI.Container;this._areYouSurePage.x=b.STAGE_WIDTH/2;this._areYouSurePage.y=b.STAGE_HEIGHT/2;this._areYouSurePage.scale=new PIXI.Point(0,0);this.addChild(this._areYouSurePage);a=new PIXI.Sprite(this._assetManager.getTexture("panel_small"));a.anchor=new PIXI.Point(.5,.5);a.x=0;a.y=0;this._areYouSurePage.addChild(a);g=this._assetManager.getJSON("config").copy.QUIT[b.COUNTRY_CODE];h=g.live?new PIXI.Text(g.text,{font:"ar"==window.og.language?"32px FredFredburgerAra-Regular":
"32px Junegull-Regular",fill:16776960,align:"center",stroke:0,strokeThickness:6,padding:6,lineJoin:"round"}):new p3.BitmapText(g.text,this._assetManager.getFontAtlas("text"),p3.BitmapText.ALIGN_CENTER,16776960);h.anchor=new PIXI.Point(.5,.5);h.x=0;h.y=-80;h.scale=new PIXI.Point(g.scale,g.scale);a.addChild(h);g.live&&(h.x+=g.offset.x,h.y+=g.offset.y);g=new p3.Button(this._assetManager.getTexture("but_ok_def"),this._assetManager.getTexture("but_ok_over"),this._assetManager.getTexture("but_ok_pressed"));
g.init();g.x=70;g.y=120;g.signals.down.add(this.quitYesClicked,this);g.signals.over.add(this.buttonOver,this);a.addChild(g);g=new p3.Button(this._assetManager.getTexture("but_close_def"),this._assetManager.getTexture("but_close_over"),this._assetManager.getTexture("but_close_pressed"));g.init();g.x=-70;g.y=120;g.signals.down.add(this.quitNoClicked,this);g.signals.over.add(this.buttonOver,this);a.addChild(g);this._exitButton=new p3.Button(this._assetManager.getTexture("but_home_def"),this._assetManager.getTexture("but_home_over"),
this._assetManager.getTexture("but_home_pressed"));this._exitButton.init();this._exitButton.y=this._guiButtonTopMargin;this._exitButton.signals.down.add(this.exitClicked,this);this._exitButton.signals.over.add(this.buttonOver,this);this._exitButton.scale=new PIXI.Point(0,0);this.addChild(this._exitButton);this._muteButton=new p3.MuteButton(this._assetManager.getTexture("but_sound_on_def"),this._assetManager.getTexture("but_sound_off_def"),this._assetManager.getTexture("but_sound_on_over"),this._assetManager.getTexture("but_sound_off_over"),
this._assetManager.getTexture("but_sound_on_pressed"),this._assetManager.getTexture("but_sound_off_pressed"));this._muteButton.id="mute";this._muteButton.y=this._guiButtonTopMargin;this._muteButton.scale=new PIXI.Point(0,0);this._muteButton.signals.over.add(this.buttonOver,this);this._muteButton.init();this.addChild(this._muteButton)};a.prototype.update=function(){this._exitButton.x=this._getFirstButtonPositionLeft();this._muteButton.x=this._getFirstButtonPositionRight()};a.prototype.resize=function(){e.prototype.resize.call(this)};
a.prototype.dispose=function(){};a.prototype.setIntroHelpMode=function(){this._resumeButton.visible=!1;this._introHelpMode=!0};a.prototype.animateIn=function(a,e){var d=new TimelineMax;d.to(this._instructionsPage.scale,.5,{x:1,y:1,ease:Back.easeOut},0);d.to(this._exitButton.scale,.5,{x:1,y:1,ease:Back.easeOut},0);d.to(this._muteButton.scale,.5,{x:1,y:1,ease:Back.easeOut},0);d.to(this._overlay,.5,{alpha:.7,ease:Back.easeOut},0);b.animator.add(d)};a.prototype.animateOut=function(a,e){var d=new TimelineMax({onCompleteScope:e,
onComplete:a});d.to(this._instructionsPage.scale,.5,{x:0,y:0,ease:Back.easeIn},0);d.to(this._exitButton.scale,.5,{x:0,y:0,ease:Back.easeIn},0);d.to(this._muteButton.scale,.5,{x:0,y:0,ease:Back.easeIn},0);d.to(this._overlay,.5,{alpha:0,ease:Back.easeIn},0);b.animator.add(d)};a.prototype.setPage=function(a){var e=new PIXI.Sprite(this._contents[a].image);e.x=this._contents[a].x||0;e.y=this._contents[a].y||0;e.anchor=new PIXI.Point(.5,.5);e.alpha=0;this._imageContainer.addChild(e);if(0==a){e.x+=50;if(!p3.Device.isMobile){var d=
new p3.MovieClipSequence;d.addTextures([this._assetManager.getTexture("key_jump_def"),this._assetManager.getTexture("key_jump_pressed")]);d=new p3.MovieClip(d);d.x=-285;d.y=-55;d.looping=!0;d.animationSpeed=1;d.play();e.addChild(d)}d=this._assetManager.getSprite("hand",!0);d.x=-290;d.y=50;e.addChild(d)}else 1==a&&(e.x-=60,p3.Device.isMobile||(d=new p3.MovieClipSequence,d.addTextures([this._assetManager.getTexture("key_forward_def"),this._assetManager.getTexture("key_forward_pressed")]),d=new p3.MovieClip(d),
d.x=235,d.y=-55,d.looping=!0,d.animationSpeed=1,d.play(),e.addChild(d)),d=this._assetManager.getSprite("hand",!0),d.x=305,d.y=50,d.rotation=-30*PIXI.DEG_TO_RAD,e.addChild(d));b.animator.add(TweenMax.to(this._image,.5,{alpha:0,ease:Sine.easeOut}));b.animator.add(TweenMax.to(e,.5,{alpha:1,ease:Sine.easeOut,onCompleteScope:this,onComplete:function(){this._imageContainer.removeChild(this._image);this._image=e}}));this._text.text=this._contents[a].text;this._text.scale=new PIXI.Point(this._contents[a].scale,
this._contents[a].scale);this._text.x=this._contents[a].offset.x;this._text.y=150+this._contents[a].offset.y;this._leftButton.visible=0==a?!1:!0;a==this._contents.length-1?(this._rightButton.visible=!1,this._introHelpMode&&(this._resumeButton.visible=!0)):(this._rightButton.visible=!0,this._introHelpMode&&(this._resumeButton.visible=!1));this._currentPage=a};a.prototype.leftClicked=function(){1==this._image.alpha&&(this.setPage(this._currentPage-1),g.play("sfx_btn_press_00"))};a.prototype.rightClicked=
function(){1==this._image.alpha&&(this._currentPage==this._contents.length-1?this.signals.requestedNextScreen.dispatch():this.setPage(this._currentPage+1),g.play("sfx_btn_press_00"))};a.prototype.resumeClicked=function(){this._status==this.STATUS_INSTRUCTIONS&&(this._status=this.STATUS_RESUMING,this.animateOut(function(){this.signals.requestedNextScreen.dispatch()},this),g.play("sfx_btn_press_00"))};a.prototype.exitClicked=function(){if(this._status==this.STATUS_INSTRUCTIONS){this._status=this.STATUS_AREYOUSURE;
var a=new TimelineMax;a.to(this._instructionsPage.scale,.5,{x:0,y:0,ease:Back.easeIn},0);a.to(this._exitButton.scale,.5,{x:0,y:0,ease:Back.easeIn},0);a.to(this._areYouSurePage.scale,.5,{x:1,y:1,ease:Back.easeOut},.5);b.animator.add(a);g.play("sfx_btn_press_00")}};a.prototype.helpClicked=function(){this.showHelp();g.play("sfx_btn_press_00")};a.prototype.quitYesClicked=function(){this.signals.requestedPreviousScreen.dispatch();g.play("sfx_btn_press_00")};a.prototype.quitNoClicked=function(){if(this._status==
this.STATUS_AREYOUSURE){this._status=this.STATUS_INSTRUCTIONS;var a=new TimelineMax;a.to(this._areYouSurePage.scale,.5,{x:0,y:0,ease:Back.easeIn},0);a.to(this._instructionsPage.scale,.5,{x:1,y:1,ease:Back.easeOut},.5);a.to(this._exitButton.scale,.5,{x:1,y:1,ease:Back.easeOut},.5);b.animator.add(a);g.play("sfx_btn_press_00")}};a.prototype.buttonOver=function(){g.play("sfx_btn_rollover_00")}},{"../Common":2,"../general/NextButton":17,"../general/SoundSFX":18,"../lib/MuteButton":19,"../screens/SimpleScreen":28}],
25:[function(c,f,m){function a(){this._armorGenerator=this._enemyGenerator=this._obstacleTopGenerator=this._obstacleGenerator=this._backgroundObjectGenerator=this._scrollerEngine=null;this._activeBoundaryPadding=100;this._scrollSpeedStart=10;this._scrollSpeedEnd=20;this._scrollSpeedTime=90;this._scrollSpeed=0;this._scoreCounter=this._shadowHolder=this._ball=this._avatarHelper=this._avatar=null;this._highscore=this._score=0;this._paused=!1;this._muteButton=this._pauseButton=this._screenTransition=
this._hitAreaRight=this._hitAreaLeft=this._bgMusic=null;this._spawnPatterns=[];this._bonusPatterns=[];this._spawnQueue=[];this._spawnTimer=1;this._bonusDelay=250;this._bonusDelayIncrement=150;this._nextBonus=this._bonusDelay;this._difficulty=.3;this._isIntro=!0;this._introTime=2;e.call(this);this.signals.pausePressed=new signals.Signal;this.signals.pauseIntro=new signals.Signal}var b=c("../Common"),e=c("./SimpleScreen"),d=c("../scroller/ScrollerEngine");c("../scroller/ScrollerObject");var g=c("../scroller/ScrollerObjectImage"),
k=c("../scroller/ScrollerLoopingRange"),l=c("../scroller/ScrollerObjectGenerator"),h=c("../game/Avatar"),w=c("../game/AvatarHelper"),n=c("../game/Obstacle"),q=c("../game/Enemy"),p=c("../game/BackgroundObject"),r=c("../game/Pickup"),u=c("../game/Ball"),v=c("../game/ShadowHolder"),s=c("../game/ScoreCounter"),t=c("../general/SoundSFX");f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.init=function(){console.log("GAME INITIALIZED");e.prototype.init.call(this);this._highscore=
b.savedData.highscore;var a=this._activeBoundaryPadding;this._scrollerEngine=new d(new PIXI.Point(b.STAGE_WIDTH/2,b.STAGE_HEIGHT/2),new PIXI.Rectangle(-b.STAGE_WIDTH/2,-b.STAGE_HEIGHT/2,b.STAGE_WIDTH,b.STAGE_HEIGHT),new PIXI.Rectangle(-(b.STAGE_WIDTH/2)-a,-(b.STAGE_HEIGHT/2)-a,2*b.STAGE_WIDTH+2*a,b.STAGE_HEIGHT+2*a));this._scrollerEngine.x=0;this._scrollerEngine.init();this.addChild(this._scrollerEngine);this._scrollerEngine.addLayer("backgroundLayer1",new PIXI.Point(.2,0));this._scrollerEngine.addLayer("backgroundLayer2",
new PIXI.Point(.4,0));this._scrollerEngine.addLayer("backgroundLayer3",new PIXI.Point(.5,0));this._scrollerEngine.addLayer("backgroundLayer4",new PIXI.Point(.6,0));this._scrollerEngine.addLayer("backgroundLayer5",new PIXI.Point(1,0));this._scrollerEngine.addLayer("shadowLayer",new PIXI.Point(1,1));this._scrollerEngine.addLayer("shadowStaticLayer",new PIXI.Point(0,1));this._scrollerEngine.addLayer("darwinLayer",new PIXI.Point(1,1));this._scrollerEngine.addLayer("pickupLayer",new PIXI.Point(1,1));this._scrollerEngine.addLayer("enemyLayer",
new PIXI.Point(1,1));this._scrollerEngine.addLayer("obstacleLayer",new PIXI.Point(1,1));this._scrollerEngine.addLayer("gameLayer",new PIXI.Point(0,1));this._scrollerEngine.addLayer("ballLayer",new PIXI.Point(0,1));this._scrollerEngine.addLayer("backgroundObjectLayer",new PIXI.Point(1,1));this._scrollerEngine.addLayer("foregroundLayer1",new PIXI.Point(1.1,0));this._addBackground([{texture:"bg",width:750,height:600,offsetX:0,offsetY:-160}],"backgroundLayer1",0);this._addBackground([{texture:"tree_3",
width:584,height:334,offsetX:-10,offsetY:-40},{texture:"tree_2",width:368,height:440,offsetX:-10,offsetY:-70},{texture:"tree_1",width:408,height:386,offsetX:-10,offsetY:-100}],"backgroundLayer2",200);this._addBackground([{texture:"tree_2",width:368,height:440,offsetX:300,offsetY:-70},{texture:"tree_1",width:408,height:386,offsetX:150,offsetY:-100},{texture:"tree_3",width:584,height:334,offsetX:350,offsetY:-40}],"backgroundLayer3",80);this._addBackground([{texture:"tree_1",width:408,height:386,offsetX:200,
offsetY:-100},{texture:"tree_2",width:368,height:440,offsetX:50,offsetY:-70},{texture:"tree_3",width:584,height:334,offsetX:150,offsetY:-40}],"backgroundLayer4",0);this._addBackground([{texture:"tilebg_1",width:249,height:614,offsetX:0,offsetY:0},{texture:"tilebg_1",width:249,height:614,offsetX:0,offsetY:0},{texture:"tilebg_3",width:249,height:614,offsetX:0,offsetY:0},{texture:"tilebg_0",width:249,height:614,offsetX:0,offsetY:0},{texture:"tilebg_1",width:249,height:614,offsetX:0,offsetY:0},{texture:"tilebg_1",
width:249,height:614,offsetX:0,offsetY:0},{texture:"tilebg_3",width:249,height:614,offsetX:0,offsetY:0},{texture:"tilebg_2",width:249,height:614,offsetX:0,offsetY:0},{texture:"tilebg_2",width:249,height:614,offsetX:0,offsetY:0},{texture:"tilebg_0",width:249,height:614,offsetX:0,offsetY:0},{texture:"tilebg_1",width:249,height:614,offsetX:0,offsetY:0}],"backgroundLayer5",260);this._addBackground([{texture:"mailbox_0",width:177,height:266,offsetX:1400,offsetY:0},{texture:"mailbox_1",width:177,height:266,
offsetX:1500,offsetY:0},{texture:"mailbox_2",width:177,height:266,offsetX:1600,offsetY:0},{texture:"mailbox_3",width:177,height:266,offsetX:1500,offsetY:0}],"foregroundLayer1",610);this._backgroundObjectGenerator=new l([{id:"backgroundObject",base:p,args:[]}]);this._backgroundObjectGenerator.addPattern([{x:0,y:0,poolId:"backgroundObject"}],"backgroundObject");this._backgroundObjectGenerator.signals.generateObjects.add(this.onGenerateBackgroundObject,this);this._backgroundObjectGenerator.signals.objectDisposed.add(this.onObjectDisposed,
this);this._backgroundObjectGenerator.setFrequencies(1200,1200);this._obstacleGenerator=new l([{id:"obstacle",base:n,args:["bottom"]}]);this._obstacleGenerator.addPattern([{x:0,y:0,poolId:"obstacle"}],"obstacle");this._obstacleGenerator.signals.generateObjects.add(this.onGenerateObstacle,this);this._obstacleGenerator.signals.objectDisposed.add(this.onObjectDisposed,this);this._obstacleTopGenerator=new l([{id:"obstacle",base:n,args:["top"]}]);this._obstacleTopGenerator.addPattern([{x:0,y:0,poolId:"obstacle"}],
"obstacle");this._obstacleTopGenerator.signals.generateObjects.add(this.onGenerateObstacleTop,this);this._obstacleTopGenerator.signals.objectDisposed.add(this.onObjectDisposed,this);this._enemyGenerator=new l([{id:"enemy",base:q,args:[]}]);this._enemyGenerator.addPattern([{x:0,y:0,poolId:"enemy"}],"enemy");this._enemyGenerator.signals.generateObjects.add(this.onGenerateEnemy,this);this._enemyGenerator.signals.objectDisposed.add(this.onObjectDisposed,this);this._armorGenerator=new l([{id:"pickup",
base:r,args:["armor"]}]);this._armorGenerator.addPattern([{x:0,y:0,poolId:"pickup"}],"pickup");this._armorGenerator.signals.generateObjects.add(this.onGeneratePickup,this);this._armorGenerator.signals.objectDisposed.add(this.onObjectDisposed,this);this._shadowHolder=new v;this._scrollerEngine.addObjectToLayer(this._shadowHolder,"shadowLayer",0,260);this._shadowStaticHolder=new v;this._scrollerEngine.addObjectToLayer(this._shadowStaticHolder,"shadowStaticLayer",0,260);this._ball=new u;this._scrollerEngine.addObjectToLayer(this._ball,
"ballLayer",0,0);this._ball._shadow=this._shadowStaticHolder.addObject(this._ball,.3,.8);this._avatarHelper=new w(this._ball);this._scrollerEngine.addObjectToLayer(this._avatarHelper,"darwinLayer",0,0);this._shadowHolder.addObject(this._avatarHelper._character,0,1.5,-15,-10);this._shadowHolder.addObject(this._avatarHelper._objects,0,3,40,-35);this._avatar=new h;this._scrollerEngine.addObjectToLayer(this._avatar,"gameLayer",-this._avatar.width/2,260);this._avatar._shadow=this._shadowStaticHolder.addObject(this._avatar,
.3,1.5,-12,-10);this._scrollerEngine.addCollisionDetector("avatar","obstacle");this._scrollerEngine.addCollisionDetector("avatar","enemy");this._scrollerEngine.addCollisionDetector("avatar","pickup");this._scrollerEngine.signals.collisionFired.add(this.onCollision,this);this._hitAreaLeft=new PIXI.Sprite(b.generatedTextures.blackSquare);this._hitAreaLeft.alpha=0;this._hitAreaLeft.width=b.STAGE_WIDTH/2;this._hitAreaLeft.height=b.STAGE_HEIGHT;this._hitAreaLeft.interactive=!0;this.addChild(this._hitAreaLeft);
this._hitAreaRight=new PIXI.Sprite(b.generatedTextures.blackSquare);this._hitAreaRight.alpha=0;this._hitAreaRight.x=b.STAGE_WIDTH/2;this._hitAreaRight.width=b.STAGE_WIDTH/2;this._hitAreaRight.height=b.STAGE_HEIGHT;this._hitAreaRight.interactive=!0;this.addChild(this._hitAreaRight);this._scoreCounter=new s;this._scoreCounter.y=this._guiButtonTopMargin-2;this._scoreCounter.init();this.addChild(this._scoreCounter);this._scoreCounter.updateScore(0);this._pauseButton=new p3.Button(this._assetManager.getTexture("but_pause_def"),
this._assetManager.getTexture("but_pause_over"),this._assetManager.getTexture("but_pause_pressed"));this._pauseButton.y=this._guiButtonTopMargin;this._pauseButton.scale=new PIXI.Point(0,0);this._pauseButton.signals.down.add(this.onPausePressed,this);this._pauseButton.signals.over.add(this.buttonOver,this);this.addChild(this._pauseButton);this._muteButton=new p3.MuteButton(this._assetManager.getTexture("but_sound_on_def"),this._assetManager.getTexture("but_sound_off_def"),this._assetManager.getTexture("but_sound_on_over"),
this._assetManager.getTexture("but_sound_off_over"),this._assetManager.getTexture("but_sound_on_pressed"),this._assetManager.getTexture("but_sound_off_pressed"));this._muteButton.id="mute";this._muteButton.y=this._guiButtonTopMargin;this._muteButton.scale=new PIXI.Point(0,0);this._muteButton.signals.over.add(this.buttonOver,this);this._muteButton.init();this.addChild(this._muteButton);this._screenTransition=new PIXI.Sprite(b.generatedTextures.blackSquare);this._screenTransition.alpha=1;this._screenTransition.width=
b.STAGE_WIDTH;this._screenTransition.height=b.STAGE_HEIGHT;this._screenTransition.x=0;this.addChild(this._screenTransition);this._bgMusic=t.play("music_ingame_loop_00",{loop:!0});this._bgMusic.fade(0,1,1E3);this._hitAreaLeft.touchstart=this._hitAreaLeft.mousedown=this.onTouchLeftStart.bind(this);this._hitAreaLeft.touchend=this._hitAreaLeft.mouseup=this.onTouchLeftEnd.bind(this);this._hitAreaRight.touchstart=this._hitAreaRight.mousedown=this.onTouchRightStart.bind(this);this._hitAreaRight.touchend=
this._hitAreaRight.mouseup=this.onTouchRightEnd.bind(this);this._spawnPatterns.push([{type:"enemy",delay:[1,1.5],distance:50}]);this._spawnPatterns.push([{type:"enemy",delay:[.2,.4],distance:400},{type:"enemy",delay:[1,2]}]);this._spawnPatterns.push([{type:"enemy",delay:[.2,.25],distance:800},{type:"enemy",delay:[.2,.25]},{type:"enemy",delay:[1,2]}]);this._spawnPatterns.push([{type:"obstacle",delay:[1.2,2],distance:0}]);this._spawnPatterns.push([{type:"obstacle",delay:[1,1.5],distance:500}]);this._spawnPatterns.push([{type:"obstacle",
delay:[.3,.4],distance:400},{type:"obstacle",delay:[1,2]}]);this._spawnPatterns.push([{type:"obstacle",delay:[.2,.25],distance:800},{type:"obstacle",delay:[.2,.25]},{type:"obstacle",delay:[1.2,2]}]);this._spawnPatterns.push([{type:"obstacle",delay:[.7,.9],distance:450},{type:"obstacle",delay:[1.2,2]}]);this._spawnPatterns.push([{type:"obstacle",delay:[.7,.9],distance:600},{type:"obstacle",delay:[.7,.9]},{type:"obstacle",delay:[1.2,2]}]);this._spawnPatterns.push([{type:"obstacle",delay:[.3,.4],distance:600},
{type:"obstacle",delay:[.8,1]},{type:"obstacle",delay:[1.2,2]}]);this._spawnPatterns.push([{type:"obstacle",delay:[.2,.25],distance:800},{type:"obstacle",delay:[.2,.25]},{type:"obstacle",delay:[1,1.25]},{type:"obstacle",delay:[1.2,2]}]);this._spawnPatterns.push([{type:"obstacle",delay:[.2,.3],distance:400},{type:"enemy",delay:[1.2,2]}]);this._spawnPatterns.push([{type:"enemy",delay:[.3,.4],distance:600},{type:"enemy",delay:[.6,.6]},{type:"obstacle",delay:[1.2,2]}]);this._spawnPatterns.push([{type:"obstacle_top",
delay:[.7,.8],distance:100}]);this._spawnPatterns.push([{type:"obstacle_top",delay:[0,.2],distance:300},{type:"enemy",delay:[1.2,2]}]);this._spawnPatterns.push([{type:"obstacle_top",delay:[.7,.8],distance:500},{type:"obstacle",delay:[.6,.8]},{type:"obstacle_top",delay:[.8,1.5]}]);this._bonusPatterns.push([{type:"armor",delay:[.7,1.2]}]);this._bonusPatterns.push([{type:"enemy",delay:[.3,.4]},{type:"armor",delay:[1.2,2]}]);this._bonusPatterns.push([{type:"obstacle",delay:[.3,.4]},{type:"armor",delay:[.3,
.4]},{type:"obstacle",delay:[1.2,2]}]);this.startGame()};a.prototype.startGame=function(){this.showGUI();this._backgroundObjectGenerator.generate();this._scrollSpeed=0;this._isIntro=!0;var a=new TimelineMax({onComplete:function(){this._isIntro=!1},onCompleteScope:this});a.to(this._avatar,this._introTime,{x:570,ease:Back.easeOut},.5);a.to(this,this._introTime,{_scrollSpeed:this._scrollSpeedStart,ease:Sine.easeOut},.5);b.animator.add(a)};a.prototype.endGame=function(){this._paused=!0;TweenMax.killAll();
b.animator.removeAll();this._score=Math.floor(this._score);this._score>this._highscore&&(this._highscore=this._score,b.savedData.highscore=this._highscore,b.savedData.save());this.signals.requestedNextScreen.dispatch(this._score,this._highscore)};a.prototype.update=function(){if(!this._paused)if(e.prototype.update.call(this),this._scrollerEngine.viewX-=this._scrollSpeed,this._scrollerEngine.update(),this._shadowHolder.update(),this._avatar.isDead)0<this._scrollSpeed&&(this._scrollSpeed-=p3.Timestep.deltaTime*
this._scrollSpeedEnd,0>this._scrollSpeed&&(this._scrollSpeed=0));else{if(b.keyboard.getKeyJustPressed(b.keyboard.KEY_UP))this.onTouchLeftStart();if(b.keyboard.getKeyJustReleased(b.keyboard.KEY_UP))this.onTouchLeftEnd();if(b.keyboard.getKeyJustPressed(b.keyboard.KEY_RIGHT))this.onTouchRightStart();if(b.keyboard.getKeyJustReleased(b.keyboard.KEY_RIGHT))this.onTouchRightEnd();this._isIntro||(this._scrollSpeed<this._scrollSpeedEnd&&(this._scrollSpeed+=(this._scrollSpeedEnd-this._scrollSpeedStart)/this._scrollSpeedTime*
p3.Timestep.deltaTime,this._scrollSpeed>this._scrollSpeedEnd&&(this._scrollSpeed=this._scrollSpeedEnd)),this._score+=this._scrollSpeed/50,this._scoreCounter.updateScore(Math.floor(this._score)));this._backgroundObjectGenerator.update();if(!this._isIntro&&(this._spawnTimer-=this._scrollSpeed/(60*this._scrollSpeedStart),0>this._spawnTimer)){if(0==this._spawnQueue.length){if(this._score>this._nextBonus){var a=p3.Utils.randomInt(0,this._bonusPatterns.length-1),d=this._bonusPatterns[a];this._bonusDelay+=
this._bonusDelayIncrement;this._nextBonus+=this._bonusDelay;console.info("Next bonus at %i",this._nextBonus)}else{d=[];for(a=0;a<this._spawnPatterns.length;a++)this._spawnPatterns[a][0].distance<this._score&&d.push(this._spawnPatterns[a]);a=p3.Utils.randomInt(0,d.length-1);d=d[a]}for(a=0;a<d.length;a++)this._spawnQueue.push({type:d[a].type,delay:d[a].delay[0]+Math.random()*(d[a].delay[1]-d[a].delay[0])})}switch(this._spawnQueue[0].type){case "obstacle":this._obstacleGenerator.generate();break;case "obstacle_top":this._obstacleTopGenerator.generate();
break;case "enemy":this._enemyGenerator.generate();break;case "armor":this._armorGenerator.generate();break;default:console.error("Type not defined")}this._spawnTimer=this._scrollSpeed/this._scrollSpeedStart*this._spawnQueue[0].delay;this._spawnQueue.shift();0==this._spawnQueue.length&&(this._spawnTimer*=1-this._difficulty*(this._scrollSpeed-this._scrollSpeedStart)/(this._scrollSpeedEnd-this._scrollSpeedStart))}}};a.prototype.resize=function(){e.prototype.resize.call(this);this._muteButton.x=this._getFirstButtonPositionRight();
this._pauseButton.x=this._getSecondButtonPositionRight();this._scoreCounter.x=this._getFirstButtonPositionLeft()};a.prototype.dispose=function(){t.stop("music_ingame_loop_00");t.stop("sfx_darwin_spin_00");this._avatar.stopLoops()};a.prototype.animateIn=function(a,d){e.prototype.animateIn.call(this);var k=new TimelineMax;k.to(this._screenTransition,.35,{x:b.STAGE_WIDTH,ease:Sine.easeIn},.2);b.animator.add(k)};a.prototype.animateOut=function(a,b){e.prototype.animateOut.call(this)};a.prototype.hideGUI=
function(a,d){this._paused=!0;TweenMax.pauseAll();this._avatar.stopLoops();var e=new TimelineMax({onCompleteScope:d,onComplete:a});e.to(this._pauseButton.scale,.35,{x:0,y:0,ease:Back.easeIn},0);e.to(this._muteButton.scale,.35,{x:0,y:0,ease:Back.easeIn},0);e.to(this._scoreCounter.scale,.35,{x:0,y:0,ease:Back.easeIn},0);b.animator.add(e);this._scrollerEngine.pause()};a.prototype.showGUI=function(){this._paused=!1;TweenMax.resumeAll();this._avatar.playLoops();var a=new TimelineMax;a.to(this._muteButton.scale,
.5,{x:1,y:1,ease:Back.easeOut},0);a.to(this._pauseButton.scale,.5,{x:1,y:1,ease:Back.easeOut},.1);a.to(this._scoreCounter.scale,.5,{x:1,y:1,ease:Back.easeOut},.1);b.animator.add(a);this._scrollerEngine.resume()};a.prototype._addBackground=function(a,b,d){for(var e=[],h=0;h<a.length;h++)e.push({base:g,args:[b+"_"+(h+1),!0,this._assetManager.getTexture(a[h].texture)],areaRect:new PIXI.Rectangle(0,0,a[h].width,a[h].height),offset:{x:a[h].offsetX,y:a[h].offsetY}});a=new k(e,!0,!1);this._scrollerEngine.addLoopingRangeToLayer(a,
b,0,d)};a.prototype.onTouchLeftStart=function(a,b){this._isIntro||this._avatar.jump()};a.prototype.onTouchLeftEnd=function(a,b){this._isIntro||this._avatar.jumpEnd()};a.prototype.onTouchRightStart=function(a,b){this._isIntro||this._avatar.bash()};a.prototype.onTouchRightEnd=function(a,b){};a.prototype.onCollision=function(a,b){if("obstacle"==b.type){if(b.hasBeenHit)return;b.hit(!this._avatar.isDead);var d=this._avatar.hit();d&&(this._ball.fall(this._avatar.x+350,60,{onComplete:function(){this.endGame()},
onCompleteScope:this}),this._bgMusic.fade(1,0,0),t.play("sfx_fail_00",{volume:.45}))}if("enemy"==b.type){if(b.hasBeenHit)return;if(this._avatar.isBashing)b.hit(!0);else{if(d=this._avatar.hit())this._ball.fall(this._avatar.x+350,60,{onComplete:function(){this.endGame()},onCompleteScope:this}),this._bgMusic.fade(1,0,0),t.play("sfx_fail_00",{volume:.45});b.hit(!1)}}"pickup"!=b.type||b.hasBeenHit||this._avatar.isDead||(b.pickedUp(),this._avatar.pickup(b.pickupType))};a.prototype.onPausePressed=function(){this._avatar.isDead||
(t.play("sfx_btn_press_00"),this._avatar.stopLoops(),this.signals.pausePressed.dispatch())};a.prototype.buttonOver=function(){t.play("sfx_btn_rollover_00")};a.prototype.onGenerateBackgroundObject=function(a){var b=-this._scrollerEngine.getLayerContainer("backgroundObjectLayer").x+this._scrollerEngine.viewBoundary.width;this._isIntro&&(b-=490);for(var d=0;d<a.length;d++){this._scrollerEngine.addObjectToLayer(a[d].obj,"backgroundObjectLayer",b+a[d].obj.areaRect.x,330);var e=a[d].obj.width/104*.65;this._shadowHolder.addObject(a[d].obj,
e,e,-7,70)}};a.prototype.onGenerateObstacle=function(a){for(var b=-this._scrollerEngine.getLayerContainer("obstacleLayer").x+this._scrollerEngine.viewBoundary.width,d=0;d<a.length;d++){this._scrollerEngine.addObjectToLayer(a[d].obj,"obstacleLayer",b-a[d].obj.areaRect.x,250);var e=a[d].obj.width/104+.4,k=0;switch(a[d].obj.children[0].currentFrame){case 11:k=-40;break;case 19:k=-35;break;case 4:case 10:k=-30;break;case 1:case 6:case 7:case 8:case 14:case 17:case 22:k=-25;break;case 3:case 5:case 12:case 18:case 21:k=
-20;break;default:k=-15}this._shadowHolder.addObject(a[d].obj,e,e,0,k)}this._scrollerEngine.orderLayer("obstacleLayer",function(a,b){return a.x<b.x?-1:a.x>b.x?1:0})};a.prototype.onGenerateObstacleTop=function(a){for(var b=-this._scrollerEngine.getLayerContainer("obstacleLayer").x+this._scrollerEngine.viewBoundary.width,d=0;d<a.length;d++){this._scrollerEngine.addObjectToLayer(a[d].obj,"obstacleLayer",b-a[d].obj.areaRect.x,-400);var e=a[d].obj.width/104+1;this._shadowHolder.addObject(a[d].obj,e/2.5,
e,0,-10)}};a.prototype.onGenerateEnemy=function(a){for(var b=-this._scrollerEngine.getLayerContainer("enemyLayer").x+this._scrollerEngine.viewBoundary.width,d=0;d<a.length;d++){this._scrollerEngine.addObjectToLayer(a[d].obj,"enemyLayer",b-a[d].obj.areaRect.x,240);var e=a[d].obj._sprite.width/104+.4;this._shadowHolder.addObject(a[d].obj,e,e,0,-30)}this._scrollerEngine.orderLayer("enemyLayer",function(a,b){return a.x<b.x?1:a.x>b.x?-1:0})};a.prototype.onGeneratePickup=function(a){for(var b=-this._scrollerEngine.getLayerContainer("pickupLayer").x+
this._scrollerEngine.viewBoundary.width,d=0;d<a.length;d++){this._scrollerEngine.addObjectToLayer(a[d].obj,"pickupLayer",b-a[d].obj.areaRect.x,240);a[d].obj.initAnimation();var e=a[d].obj._sprite.width/104;this._shadowHolder.addObject(a[d].obj,-e,e,0,-10)}};a.prototype.onObjectDisposed=function(a){this._shadowHolder.removeObject(a)}},{"../Common":2,"../game/Avatar":8,"../game/AvatarHelper":9,"../game/BackgroundObject":10,"../game/Ball":11,"../game/Enemy":12,"../game/Obstacle":13,"../game/Pickup":14,
"../game/ScoreCounter":15,"../game/ShadowHolder":16,"../general/SoundSFX":18,"../scroller/ScrollerEngine":30,"../scroller/ScrollerLoopingRange":31,"../scroller/ScrollerObject":32,"../scroller/ScrollerObjectGenerator":33,"../scroller/ScrollerObjectImage":34,"./SimpleScreen":28}],26:[function(c,f,m){function a(){this._muteButton=this._nextButton=this._screen2=this._screen1=null;this._timeline;this._screenTransition=null;e.call(this);this.signals.enterPressed=new signals.Signal}var b=c("../Common"),
e=c("./SimpleScreen"),d=c("../general/NextButton"),g=c("../general/SoundSFX");f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.init=function(){console.log("INTRO INITIALIZED");e.prototype.init.call(this);this._screen1=new PIXI.Container;this._screen1.x=b.STAGE_WIDTH/2;this._screen1.y=b.STAGE_HEIGHT/2;this.addChild(this._screen1);this._screen2=new PIXI.Container;this._screen2.x=b.STAGE_WIDTH/2;this._screen2.y=b.STAGE_HEIGHT/2;this.addChild(this._screen2);var a=
this._screen1,c=this._screen2;a._bg=new PIXI.Sprite(this._assetManager.getTexture("bg_splash"));a._bg.anchor=new PIXI.Point(.5,.5);a.addChild(a._bg);a._strip1=new PIXI.Sprite(this._assetManager.getTexture("f1_1"));a._strip1.anchor=new PIXI.Point(.5,.5);a._strip1.x-=a._strip1.width;a._strip1.y-=a._strip1.height;a._strip1.alpha=0;a.addChild(a._strip1);a._strip2=new PIXI.Sprite(this._assetManager.getTexture("f1_2"));a._strip2.anchor=new PIXI.Point(.5,.5);a._strip2.x+=a._strip2.width;a._strip2.alpha=
0;a.addChild(a._strip2);a._strip3=new PIXI.Sprite(this._assetManager.getTexture("f1_3"));a._strip3.anchor=new PIXI.Point(.5,.5);a._strip3.x-=a._strip3.width;a._strip3.y+=a._strip3.height;a._strip3.alpha=0;a.addChild(a._strip3);c._radial=new PIXI.Container;c._radial.y-=230;c._radial.alpha=0;c._radial._bg=new PIXI.Graphics;c._radial._bg.beginFill(16776960);c._radial._bg.drawRect(-b.STAGE_WIDTH/2,-b.STAGE_HEIGHT/2,b.STAGE_WIDTH,b.STAGE_HEIGHT);c._radial._bg.endFill();c._radial._bg.y-=c._radial.y;c._radial.addChild(c._radial._bg);
c._radial._bottomWheel=new PIXI.Container;c._radial.addChild(c._radial._bottomWheel);for(a=0;8>a;a++){var h=new PIXI.Graphics;h.beginFill(9578383);h.moveTo(0,0);h.lineTo(-240,.6*-b.STAGE_WIDTH);h.lineTo(240,.6*-b.STAGE_WIDTH);h.endFill();h.anchor=new PIXI.Point(.5,1);h.rotation=45*a*PIXI.DEG_TO_RAD;c._radial._bottomWheel.addChild(h)}c._radial._dots=new PIXI.TilingSprite(this._assetManager.getTexture("dotted_pattern"),b.STAGE_WIDTH,b.STAGE_HEIGHT);c._radial._dots.x=-b.STAGE_WIDTH/2;c._radial._dots.y=
-b.STAGE_HEIGHT/2;c._radial._dots.y-=c._radial.y;c._radial.addChild(c._radial._dots);c._radial._topWheel=new PIXI.Container;c._radial.addChild(c._radial._topWheel);for(a=0;8>a;a++)h=new PIXI.Graphics,h.beginFill(15999359),h.moveTo(0,0),h.lineTo(-150,.6*-b.STAGE_WIDTH),h.lineTo(150,.6*-b.STAGE_WIDTH),h.endFill(),h.anchor=new PIXI.Point(.5,1),h.rotation=(45*a+19.35)*PIXI.DEG_TO_RAD,c._radial._topWheel.addChild(h);c.addChild(c._radial);c._chars=new PIXI.Sprite(this._assetManager.getTexture("f2_chars"));
c._chars.anchor=new PIXI.Point(.5,1);c._chars.y=b.STAGE_HEIGHT/2+c._chars.height;c.addChild(c._chars);c._pContainer=new PIXI.Container;c._pContainer.y-=230;c._pContainer.scale=new PIXI.Point(0,0);c.addChild(c._pContainer);a=this._assetManager.getTexture("part_star");a.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST;h=this._assetManager.getTexture("part_heart");h.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST;var f=new PIXI.Sprite(a);f.anchor=new PIXI.Point(.5,.5);f.x=-190;f.y=20;f.scale=new PIXI.Point(4,
4);f.rotation=(-20+40*Math.random())*PIXI.DEG_TO_RAD;c._pContainer.addChild(f);f=new PIXI.Sprite(a);f.anchor=new PIXI.Point(.5,.5);f.x=250;f.y=-50;f.scale=new PIXI.Point(4,4);f.rotation=(-20+40*Math.random())*PIXI.DEG_TO_RAD;c._pContainer.addChild(f);f=new PIXI.Sprite(a);f.anchor=new PIXI.Point(.5,.5);f.x=50;f.y=-130;f.scale=new PIXI.Point(3,3);f.rotation=(-20+40*Math.random())*PIXI.DEG_TO_RAD;c._pContainer.addChild(f);f=new PIXI.Sprite(a);f.anchor=new PIXI.Point(.5,.5);f.x=-250;f.y=170;f.scale=new PIXI.Point(3,
3);f.rotation=(-20+40*Math.random())*PIXI.DEG_TO_RAD;c._pContainer.addChild(f);f=new PIXI.Sprite(a);f.anchor=new PIXI.Point(.5,.5);f.x=160;f.y=190;f.scale=new PIXI.Point(3.5,3.5);f.rotation=(-20+40*Math.random())*PIXI.DEG_TO_RAD;c._pContainer.addChild(f);f=new PIXI.Sprite(a);f.anchor=new PIXI.Point(.5,.5);f.x=30;f.y=390;f.scale=new PIXI.Point(3.5,3.5);f.rotation=(-20+40*Math.random())*PIXI.DEG_TO_RAD;c._pContainer.addChild(f);f=new PIXI.Sprite(h);f.anchor=new PIXI.Point(.5,.5);f.x=-270;f.y=-100;f.scale=
new PIXI.Point(3,3);f.rotation=-20*PIXI.DEG_TO_RAD;c._pContainer.addChild(f);f=new PIXI.Sprite(h);f.anchor=new PIXI.Point(.5,.5);f.x=250;f.y=100;f.scale=new PIXI.Point(3,3);f.rotation=20*PIXI.DEG_TO_RAD;c._pContainer.addChild(f);this._nextButton=new d("arrow",0);this._nextButton.y=b.STAGE_HEIGHT-130;this._nextButton.init();this._nextButton.signals.clicked.addOnce(this.nextClicked,this);this._nextButton.signals.clickFinish.addOnce(this.nextClickFinish,this);this._nextButton.scale=new PIXI.Point(0,
0);b.savedData.hasSeenIntro&&this.addChild(this._nextButton);this._muteButton=new p3.MuteButton(this._assetManager.getTexture("but_sound_on_def"),this._assetManager.getTexture("but_sound_off_def"),this._assetManager.getTexture("but_sound_on_over"),this._assetManager.getTexture("but_sound_off_over"),this._assetManager.getTexture("but_sound_on_pressed"),this._assetManager.getTexture("but_sound_off_pressed"));this._muteButton.id="mute";this._muteButton.y=this._guiButtonTopMargin;this._muteButton.signals.over.add(this.buttonOver,
this);this._muteButton.init();this.addChild(this._muteButton);this._screenTransition=new PIXI.Sprite(b.generatedTextures.blackSquare);this._screenTransition.alpha=1;this._screenTransition.width=b.STAGE_WIDTH;this._screenTransition.height=b.STAGE_HEIGHT;this._screenTransition.x=-b.STAGE_WIDTH;this.addChild(this._screenTransition);this.signals.enterPressed.addOnce(this.nextClicked,this);this._bgMusic=g.play("music_intro_panels_01",{volume:.5,loop:!1})};a.prototype.update=function(){b.keyboard.getKeyJustPressed(b.keyboard.KEY_ENTER)&&
this.signals.enterPressed.dispatch()};a.prototype.resize=function(){e.prototype.resize.call(this);this._nextButton.x=this._getFirstButtonPositionRight()-150;this._muteButton.x=this._getFirstButtonPositionRight()};a.prototype.dispose=function(){g.stop("music_intro_panels_01");g.stop("sfx_intro_panel_1");g.stop("sfx_intro_panel_2b");g.stop("sfx_intro_panel_3");g.stop("sfx_intro_panel_4");this._nextButton.signals.clickFinish.remove(this.nextClickFinish,this)};a.prototype.animateIn=function(a,d){e.prototype.animateIn.call(this);
var g=new TimelineMax;g.to(this._nextButton.scale,1,{x:1,y:1,ease:Elastic.easeOut},0);b.animator.add(g);this.showScreen1()};a.prototype.animateOut=function(a,d){e.prototype.animateOut.call(this);this._timeline.clear();this._timeline=new TimelineMax({onComplete:function(){this.signals.requestedNextScreen.dispatch()},onCompleteScope:this});this._timeline.to(this._screenTransition,.4,{x:0,ease:Sine.easeOut},0);b.animator.add(this._timeline)};a.prototype.showScreen1=function(){var a=this._screen1;this._timeline=
new TimelineMax({onComplete:function(){this.showScreen2()},onCompleteScope:this});this._timeline.to(a._strip1,1,{x:0,ease:Quart.easeOut,onStart:function(){g.play("sfx_intro_panel_1")}},0);this._timeline.to(a._strip1,.5,{alpha:1,ease:Sine.easeOut},0);this._timeline.to(a._strip2,1,{x:0,ease:Quart.easeOut,onStart:function(){g.play("sfx_intro_panel_2b")}},1.5);this._timeline.to(a._strip2,.5,{alpha:1,ease:Sine.easeOut},1.5);this._timeline.to(a._strip3,1,{x:0,ease:Quart.easeOut,onStart:function(){g.play("sfx_intro_panel_3")}},
3);this._timeline.to(a._strip3,.5,{alpha:1,ease:Sine.easeOut},3);b.animator.add(this._timeline)};a.prototype.showScreen2=function(){var a=this._screen2;g.play("sfx_intro_panel_4");this._timeline=new TimelineMax;this._timeline.to(a._chars,1,{y:b.STAGE_HEIGHT/2,ease:Quart.easeOut},0);this._timeline.to(a._radial,1.5,{alpha:1,ease:Sine.easeOut},0);this._timeline.to(a._radial._topWheel,10,{rotation:360*PIXI.DEG_TO_RAD,ease:Linear.easeNone,repeat:-1},0);this._timeline.to(a._radial._bottomWheel,10,{rotation:360*
PIXI.DEG_TO_RAD,ease:Linear.easeNone,repeat:-1},0);this._timeline.to(a._pContainer.scale,1.5,{x:1,y:1,ease:Back.easeOut},0);for(var d=0;d<a._pContainer.children.length;d++){var e=.35*a._pContainer.children[d].scale.x;this._timeline.to(a._pContainer.children[d].scale,1,{x:e,y:e,ease:Quad.easeInOut,yoyo:!0,repeat:-1},Math.random())}b.animator.add(this._timeline);b.animator.setTimeout(function(){b.savedData.hasSeenIntro=!0;b.savedData.save();this.animateOut()},3.5,this)};a.prototype.nextClicked=function(){this.animateOut();
g.play("sfx_btn_press_00")};a.prototype.buttonOver=function(){g.play("sfx_btn_rollover_00")};a.prototype.nextClickFinish=function(){this.signals.requestedNextScreen.dispatch()}},{"../Common":2,"../general/NextButton":17,"../general/SoundSFX":18,"./SimpleScreen":28}],27:[function(c,f,m){function a(){e.call(this);this.loadedPercentage=0;this.signals.loadingComplete=new signals.Signal}var b=c("../general/SoundSFX"),e=c("./SimpleScreen"),d=c("../Common");f.exports=a;a.prototype=Object.create(e.prototype);
a.prototype.constructor=a;a.prototype.init=function(){console.log("PRELOADER INITIALIZED");e.prototype.init.call(this);var a=new PIXI.Graphics;a.beginFill(0);a.drawRect(0,0,1,1);d.generatedTextures.blackSquare=a.generateTexture(d.renderer,1,PIXI.SCALE_MODES.LINEAR);a=new PIXI.Text("Test",{font:"32px FredFredburgerAra-Regular",fill:0,align:"center",stroke:0,strokeThickness:1});a.alpha=0;this.addChild(a);a=new PIXI.Text("Test",{font:"32px Junegull-Regular",fill:0,align:"center",stroke:0,strokeThickness:1});
a.alpha=0;this.addChild(a);a=new PIXI.Sprite(this._assetManager.getTexture("preloader_bg"));this.addChild(a);this._barContainer=new PIXI.Container;this._barContainer.x=d.STAGE_WIDTH/2;this._barContainer.y=d.STAGE_HEIGHT/2+200;this.addChild(this._barContainer);this._barOuter=new PIXI.Sprite(this._assetManager.getTexture("preloader_overlay"));this._barOuter.x=-250;this._barOuter.anchor.set(.5);this._barInner=new PIXI.Sprite(this._assetManager.getTexture("preloader_fill"));this._barInner.x=this._barOuter.x-
this._barOuter.width/2-170;this._barInner.y=this._barOuter.y-this._barOuter.height/2+10;this._barInnerStartX=this._barInner.x;this._barContainer.addChild(this._barInner);this._barContainer.addChild(this._barOuter);a=new PIXI.Sprite(d.generatedTextures.blackSquare);a.x=this._barInner.x-this._barInner.width/2;a.width=this._barOuter.width/2;a.height=d.STAGE_HEIGHT;a.y=-100;this._barContainer.addChild(a);this._playButton=new p3.Button(this._assetManager.getTexture("but_play_def"),this._assetManager.getTexture("but_play_over"),
this._assetManager.getTexture("but_play_pressed"));this._playButton.x=.5*d.STAGE_WIDTH;this._playButton.y=this._barContainer.y;this._playButton.visible=!1;this._playButton.signals.click.add(this.onPlayButtonClick,this);this.addChild(this._playButton)};a.prototype.dispose=function(){e.prototype.dispose.call(this);this.signals.loadingComplete.dispose()};a.prototype.resize=function(){e.prototype.resize.call(this);this.x=.5*(p3.View.width-d.STAGE_WIDTH);this.y=.5*(p3.View.height-d.STAGE_HEIGHT)};a.prototype.update=
function(){this._barInner.x=this._barInnerStartX+this.loadedPercentage/100*698;this._completed||100!=this.loadedPercentage||(this._completed=!0,p3.Device.isMobile&&(this._playButton.visible=!0,this._playButton.scale.set(0),TweenMax.fromTo(this._playButton.scale,.35,{x:0,y:0},{x:1,y:1,ease:Back.easeOut,delay:.35}),TweenMax.to(this._barContainer.scale,.35,{x:0,y:0,ease:Back.easeIn})))};a.prototype.animateIn=function(a,b){e.prototype.animateIn.call(a,b)};a.prototype.animateOut=function(a,b){e.prototype.animateOut.call(a,
b);var d=new TimelineMax({onComplete:a,onCompleteScope:b});this._tweens.push(d)};a.prototype.onPlayButtonClick=function(a,d){b.play("sfx_btn_press_00");this.signals.loadingComplete.dispatch()}},{"../Common":2,"../general/SoundSFX":18,"./SimpleScreen":28}],28:[function(c,f,m){function a(){this.signals={};this.signals.requestedNextScreen=new signals.Signal;this.signals.requestedPreviousScreen=new signals.Signal;this._assetManager=p3.AssetManager.instance;this._centre=this._tweens=null;this._rightEdge=
this._leftEdge=0;this._guiButtonTopMargin=100;p3.Screen.call(this)}var b=c("../Common");c=c("../lib/Scene");f.exports=a;a.prototype=Object.create(c.prototype);a.prototype.constructor=a;a.prototype.init=function(){this._tweens=[];this._centre=new PIXI.Point(b.STAGE_WIDTH/2,b.STAGE_HEIGHT/2)};a.prototype.dispose=function(){this.signals.requestedNextScreen.dispose();this.signals.requestedPreviousScreen.dispose();for(var a,d=0;d<this._tweens.length;++d)(a=this._tweens[d])&&a.kill();this._tweens.length=
0;console.log("screen disposed");TweenMax.killAll();b.animator.removeAll()};a.prototype.resize=function(){this.x=.5*(p3.View.width-b.STAGE_WIDTH);this._rightEdge=this._centre.x+p3.View.width/2;this._leftEdge=this._centre.x-p3.View.width/2};a.prototype.activate=function(){this.animateIn(function(){},this)};a.prototype.animateIn=function(a,b){};a.prototype.animateOut=function(a,b){};a.prototype.hideGUI=function(){};a.prototype.showGUI=function(){};a.prototype._getFirstButtonPositionRight=function(){return Math.min(Math.round(.5*
(b.STAGE_WIDTH+p3.View.width)),b.STAGE_WIDTH-150)-84};a.prototype._getSecondButtonPositionRight=function(){return Math.min(Math.round(.5*(b.STAGE_WIDTH+p3.View.width)),b.STAGE_WIDTH-150)-160};a.prototype._getFirstButtonPositionLeft=function(){return Math.max(Math.round(.5*(b.STAGE_WIDTH-p3.View.width)),150)+84};a.prototype._getSecondButtonPositionLeft=function(){return Math.max(Math.round(.5*(b.STAGE_WIDTH-p3.View.width)),150)+160};a.prototype.onButtonClickedPrevious=function(a){}},{"../Common":2,
"../lib/Scene":20}],29:[function(c,f,m){function a(){this._bgMusic=this._muteButton=this._playButton=this._starsPS=this._rake=this._luggage=this._helmet=this._lunchbox=this._bin=this._hose=this._box=this._boxes=this._mailbox=this._brick=this._darwin=this._gumball=this._subtitle=this._logo=this._bg=this._particleContainer=this._shadowsContainer=this._container=null;e.call(this);this.signals.enterPressed=new signals.Signal}var b=c("../Common"),e=c("./SimpleScreen"),d=c("../general/SoundSFX"),g=c("../brim");
f.exports=a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.init=function(){console.log("SPLASH INITIALIZED");e.prototype.init.call(this);p3.Device.isMobile&&p3.Device.isIOS&&!p3.Device.isIframe&&new g;this._container=new PIXI.Container;this._container.x=b.STAGE_WIDTH/2;this._container.y=b.STAGE_HEIGHT/2;this.addChild(this._container);this._bg=new PIXI.Sprite(this._assetManager.getTexture("bg_splash"));this._bg.anchor=new PIXI.Point(.5,.5);this._container.addChild(this._bg);
this._playButton=new p3.Button(this._assetManager.getTexture("but_play_def"),this._assetManager.getTexture("but_play_over"),this._assetManager.getTexture("but_play_pressed"));this._playButton.x=b.STAGE_WIDTH/2;this._playButton.y=b.STAGE_HEIGHT-150;this._playButton.signals.down.addOnce(this.playClicked,this);this._playButton.signals.over.add(this.buttonOver,this);this._playButton.scale=new PIXI.Point(0,0);this._playButton.animate=!1;this.addChild(this._playButton);this._muteButton=new p3.MuteButton(this._assetManager.getTexture("but_sound_on_def"),
this._assetManager.getTexture("but_sound_off_def"),this._assetManager.getTexture("but_sound_on_over"),this._assetManager.getTexture("but_sound_off_over"),this._assetManager.getTexture("but_sound_on_pressed"),this._assetManager.getTexture("but_sound_off_pressed"));this._muteButton.id="mute";this._muteButton.y=this._guiButtonTopMargin;this._muteButton.scale=new PIXI.Point(0,0);this._muteButton.signals.over.add(this.buttonOver,this);this._muteButton.init();this.addChild(this._muteButton);this._shadowsContainer=
new PIXI.Container;this._container.addChild(this._shadowsContainer);this._logo=new PIXI.Sprite(this._assetManager.getTexture("gumball_logo"));this._logo.anchor=new PIXI.Point(.5,.5);this._logo.y=-b.STAGE_HEIGHT/2+155;this._logo.scale=new PIXI.Point(2,2);this._logo.alpha=0;this._container.addChild(this._logo);this._subtitle=new PIXI.Sprite(this._assetManager.getTexture("title"));this._subtitle.anchor=new PIXI.Point(.5,.5);this._subtitle.y=-b.STAGE_HEIGHT/2+355;this._subtitle.scale=new PIXI.Point(0,
0);this._container.addChild(this._subtitle);switch(window.og.language){case "es":case "fr":case "it":case "ru":case "tr":case "pl":this._subtitle._scalePercentage=.8;break;default:this._subtitle._scalePercentage=1}this._brick=new PIXI.Sprite(this._assetManager.getTexture("object_9"));this._brick.anchor=new PIXI.Point(.5,130/this._brick.height);this._brick.x=370;this._brick.y=-b.STAGE_HEIGHT/2-10;this._brick.rotation=-90*PIXI.DEG_TO_RAD;this._brick.alpha=0;this._container.addChild(this._brick);this._mailbox=
new PIXI.Sprite(this._assetManager.getTexture("mailbox"));this._mailbox.anchor=new PIXI.Point(.5,1);this._mailbox.x=505;this._mailbox.y=-b.STAGE_HEIGHT/2;this._mailbox.yDest=b.STAGE_HEIGHT/2-160;this._container.addChild(this._mailbox);this._boxes=new PIXI.Sprite(this._assetManager.getTexture("object_5"));this._boxes.anchor=new PIXI.Point(.5,1);this._boxes.x=370;this._boxes.y=-b.STAGE_HEIGHT/2;this._boxes.yDest=b.STAGE_HEIGHT/2-135;this._container.addChild(this._boxes);this._box=new PIXI.Sprite(this._assetManager.getTexture("object_6"));
this._box.anchor=new PIXI.Point(.5,1);this._box.x=500;this._box.y=-b.STAGE_HEIGHT/2;this._box.yDest=b.STAGE_HEIGHT/2-50;this._container.addChild(this._box);this._hose=new PIXI.Sprite(this._assetManager.getTexture("object_7"));this._hose.anchor=new PIXI.Point(.5,1);this._hose.x=725;this._hose.y=-b.STAGE_HEIGHT/2;this._hose.yDest=b.STAGE_HEIGHT/2-40;this._container.addChild(this._hose);this._bin=new PIXI.Sprite(this._assetManager.getTexture("object_8"));this._bin.anchor=new PIXI.Point(.5,1);this._bin.x=
865;this._bin.y=-b.STAGE_HEIGHT/2;this._bin.yDest=b.STAGE_HEIGHT/2-110;this._container.addChild(this._bin);this._lunchbox=new PIXI.Sprite(this._assetManager.getTexture("object_2"));this._lunchbox.anchor=new PIXI.Point(.5,1);this._lunchbox.x=-220;this._lunchbox.y=-b.STAGE_HEIGHT/2;this._lunchbox.yDest=b.STAGE_HEIGHT/2-100;this._container.addChild(this._lunchbox);this._helmet=new PIXI.Sprite(this._assetManager.getTexture("object_3"));this._helmet.anchor=new PIXI.Point(.5,1);this._helmet.x=-170;this._helmet.y=
-b.STAGE_HEIGHT/2;this._helmet.yDest=b.STAGE_HEIGHT/2-20;this._container.addChild(this._helmet);this._luggage=new PIXI.Sprite(this._assetManager.getTexture("object_1"));this._luggage.anchor=new PIXI.Point(.5,1);this._luggage.x=-525;this._luggage.y=-b.STAGE_HEIGHT/2;this._luggage.yDest=b.STAGE_HEIGHT/2-80;this._container.addChild(this._luggage);this._rake=new PIXI.Sprite(this._assetManager.getTexture("object_0"));this._rake.anchor=new PIXI.Point(.5,1);this._rake.x=-760;this._rake.y=-b.STAGE_HEIGHT/
2;this._rake.yDest=b.STAGE_HEIGHT/2-160;this._container.addChild(this._rake);this._particleContainer=new PIXI.Container;this._container.addChild(this._particleContainer);this._starsPS=new cloudkid.Emitter(this._particleContainer,[this._assetManager.getTexture("part_star")],this._assetManager.getJSON("splashStars_ps"));this._starsPS.emit=!0;this._gumball=this._assetManager.getSprite("gumball",!0);this._gumball.x=-(1.5*b.STAGE_WIDTH);this._gumball.xDest=-345;this._gumball.y=b.STAGE_HEIGHT/2-75-this._gumball.height/
2;this._container.addChild(this._gumball);this._darwin=this._assetManager.getSprite("darwin",!0);this._darwin.x=+(1.5*b.STAGE_WIDTH);this._darwin.xDest=345;this._darwin.y=b.STAGE_HEIGHT/2-65-this._darwin.height/2;this._container.addChild(this._darwin);this._ball=new PIXI.Sprite(this._assetManager.getTexture("object_4"));this._ball.anchor=new PIXI.Point(.5,1);this._ball.x=205;this._ball.y=-b.STAGE_HEIGHT/2;this._ball.yDest=b.STAGE_HEIGHT/2-50;this._container.addChild(this._ball);var a=this._assetManager.getSprite("character_shadow",
!0);a.alpha=.6;a._obj=this._gumball;a.y=a._obj.y+this._gumball.height/2+30;a._xDelta=-20;a._scale=new PIXI.Point(1.4,1.4);this._shadowsContainer.addChild(a);a=this._assetManager.getSprite("character_shadow",!0);a.alpha=.6;a._obj=this._darwin;a.y=a._obj.y+this._darwin.height/2-15;a._xDelta=-27;a._scale=new PIXI.Point(1.4,2);a.rotation=4*PIXI.DEG_TO_RAD;this._shadowsContainer.addChild(a);a=this._assetManager.getSprite("character_shadow",!0);a.alpha=.6;a._obj=this._ball;a.y=a._obj.yDest-5;a._xDelta=
0;a._scale=new PIXI.Point(1,1);this._shadowsContainer.addChild(a);a=this._assetManager.getSprite("character_shadow",!0);a.alpha=.6;a._obj=this._helmet;a.y=a._obj.yDest-10;a._xDelta=0;a._scale=new PIXI.Point(1.1,1.7);this._shadowsContainer.addChild(a);a=this._assetManager.getSprite("character_shadow",!0);a.alpha=.6;a._obj=this._luggage;a.y=a._obj.yDest-22;a._xDelta=0;a._scale=new PIXI.Point(1.8,2);this._shadowsContainer.addChild(a);a=this._assetManager.getSprite("character_shadow",!0);a.alpha=.6;a._obj=
this._box;a.y=a._obj.yDest-22;a._xDelta=0;a._scale=new PIXI.Point(1.6,1.8);a.rotation=4*PIXI.DEG_TO_RAD;this._shadowsContainer.addChild(a);a=this._assetManager.getSprite("character_shadow",!0);a.alpha=.6;a._obj=this._lunchbox;a.y=a._obj.yDest-13;a._xDelta=0;a._scale=new PIXI.Point(1.5,1.4);a.rotation=4*PIXI.DEG_TO_RAD;this._shadowsContainer.addChild(a);a=this._assetManager.getSprite("character_shadow",!0);a.alpha=.6;a._obj=this._boxes;a.y=a._obj.yDest-5;a._xDelta=0;a._scale=new PIXI.Point(2.2,1);
this._shadowsContainer.addChild(a);a=this._assetManager.getSprite("character_shadow",!0);a.alpha=.6;a._obj=this._hose;a.y=a._obj.yDest-60;a._xDelta=-30;a._scale=new PIXI.Point(1.4,1.3);this._shadowsContainer.addChild(a);a=this._assetManager.getSprite("character_shadow",!0);a.alpha=.6;a._obj=this._bin;a.y=a._obj.yDest-30;a._xDelta=0;a._scale=new PIXI.Point(2.5,2.4);this._shadowsContainer.addChild(a);this._bgMusic=d.play("music_menu_loop_00",{volume:.66,loop:!0});this._bgMusic.fade(0,1,500);this.signals.enterPressed.addOnce(this.playClicked,
this)};a.prototype.update=function(){this._starsPS.update(p3.Timestep.deltaTime);for(var a=0;a<this._shadowsContainer.children.length;a++){this._shadowsContainer.children[a].x=this._shadowsContainer.children[a]._obj.x+this._shadowsContainer.children[a]._xDelta;var d=Math.max(0,(400-(this._shadowsContainer.children[a].y-(this._shadowsContainer.children[a]._obj.y+this._shadowsContainer.children[a]._obj.height*(1-this._shadowsContainer.children[a]._obj.anchor.y))))/400);this._shadowsContainer.children[a].scale=
new PIXI.Point(this._shadowsContainer.children[a]._obj.scale.x*this._shadowsContainer.children[a]._scale.x*d,this._shadowsContainer.children[a]._obj.scale.y*this._shadowsContainer.children[a]._scale.y*d)}b.keyboard.getKeyJustPressed(b.keyboard.KEY_ENTER)&&this.signals.enterPressed.dispatch()};a.prototype.resize=function(){e.prototype.resize.call(this);this._muteButton.x=this._getFirstButtonPositionRight()};a.prototype.dispose=function(){d.stop("music_menu_loop_00")};a.prototype.animateIn=function(a,
g){e.prototype.animateIn.call(this);var c=new TimelineMax;c.to(this._container.scale,.8,{x:1.15,y:1.15,ease:Elastic.easeOut},.4+.2);c.to(this._container.scale,.6,{x:1,y:1,ease:Sine.easeOut},1.4);c.to(this._container,.4,{rotation:-4*PIXI.DEG_TO_RAD,ease:Expo.easeOut},.4+.2);c.to(this._container,.4,{rotation:4*PIXI.DEG_TO_RAD,ease:Quart.easeOut},1);c.to(this._container,.6,{rotation:0*PIXI.DEG_TO_RAD,ease:Sine.easeOut},1.4);c.to(this._container,.1,{y:this._container.y+8,ease:Expo.easeOut,repeat:3,repeatDelay:.1},
.4+.2);c.to(this._container,.1,{y:this._container.y,ease:Sine.easeOut,repeat:3,repeatDelay:.1},.7);b.animator.add(c);c=new TimelineMax;c.to(this._ball,.6,{y:this._ball.yDest,ease:Bounce.easeOut},.1+.2);c.to(this._helmet,.6,{y:this._helmet.yDest,ease:Bounce.easeOut},.4);c.to(this._lunchbox,.6,{y:this._lunchbox.yDest,ease:Bounce.easeOut},.5);c.to(this._boxes,.6,{y:this._boxes.yDest,ease:Bounce.easeOut},.4+.2);c.to(this._box,.6,{y:this._box.yDest,ease:Bounce.easeOut},.7);c.to(this._luggage,.6,{y:this._luggage.yDest,
ease:Bounce.easeOut},.8);c.to(this._mailbox,.6,{y:this._mailbox.yDest,ease:Bounce.easeOut},.7+.2);c.to(this._hose,.6,{y:this._hose.yDest,ease:Bounce.easeOut},1);c.to(this._rake,.6,{y:this._rake.yDest,ease:Bounce.easeOut},1.1);c.to(this._bin,.6,{y:this._bin.yDest,ease:Bounce.easeOut},1.2);b.animator.add(c);b.animator.setTimeout(function(){d.play("sfx_ball_bounce_00",{volume:.2})},.5,this);b.animator.setTimeout(function(){d.play("sfx_ball_bounce_01",{volume:.1})},.8,this);b.animator.setTimeout(function(){d.play("sfx_hit_concreteblock_00",
{volume:.2})},.4+.2,this);b.animator.setTimeout(function(){d.play("sfx_hit_concreteblock_00",{volume:.1})},.7+.2,this);b.animator.setTimeout(function(){d.play("sfx_hit_box_00",{volume:.2})},.8,this);b.animator.setTimeout(function(){d.play("sfx_hit_box_00",{volume:.1})},1.1,this);b.animator.setTimeout(function(){d.play("sfx_hit_concreteblock_00",{volume:.2})},1,this);b.animator.setTimeout(function(){d.play("sfx_hit_concreteblock_00",{volume:.1})},1.3,this);b.animator.setTimeout(function(){d.play("sfx_hit_box_00",
{volume:.2})},1.3,this);b.animator.setTimeout(function(){d.play("sfx_hit_box_00",{volume:.1})},1.4+.2,this);c=new TimelineMax;c.to(this._brick,.6,{rotation:40*PIXI.DEG_TO_RAD,alpha:1,ease:Quad.easeOut},.7);c.to(this._brick,.8,{rotation:-30*PIXI.DEG_TO_RAD,ease:Quad.easeInOut});c.to(this._brick,1,{rotation:8*PIXI.DEG_TO_RAD,ease:Quad.easeInOut});c.to(this._brick,1,{rotation:-7*PIXI.DEG_TO_RAD,ease:Quad.easeInOut,yoyo:!0,repeat:-1});b.animator.add(c);c=new TimelineMax;c.to(this._gumball,.5,{x:this._gumball.xDest,
ease:Sine.easeOut},.5);c.to(this._gumball.scale,1,{x:1.05,y:1.05,ease:Sine.easeInOut,yoyo:!0,repeat:-1},1.4);c.to(this._gumball,2,{rotation:-3*PIXI.DEG_TO_RAD,ease:Sine.easeInOut,yoyo:!0,repeat:-1},1.4);c.to(this._darwin.scale,0,{x:1.05,y:1.05,ease:Sine.easeOut},0);c.to(this._darwin,.5,{x:this._darwin.xDest,ease:Sine.easeOut},.4+.2);c.to(this._darwin.scale,1,{x:1,y:1,ease:Sine.easeInOut,yoyo:!0,repeat:-1},1.4);c.to(this._darwin,2,{rotation:3*PIXI.DEG_TO_RAD,ease:Sine.easeInOut,yoyo:!0,repeat:-1},
1.4);b.animator.add(c);c=new TimelineMax;c.to(this._logo.scale,2.5,{x:1,y:1,ease:Elastic.easeOut},.4+.2);c.to(this._logo,.5,{alpha:1,ease:Quad.easeOut},.4+.2);c.to(this._logo,1,{x:20,ease:Quad.easeInOut},2.7);c.to(this._logo,2,{x:this._logo.x-20,ease:Quad.easeInOut,yoyo:!0,repeat:-1},3.7);c.to(this._logo,1.3,{y:this._logo.y-15,ease:Quad.easeInOut,yoyo:!0,repeat:-1},1.3);b.animator.add(c);c=new TimelineMax;c.to(this._subtitle.scale,.5,{x:1.05*this._subtitle._scalePercentage,y:1.05*this._subtitle._scalePercentage,
ease:Quad.easeOut},1);c.to(this._subtitle,1.5,{rotation:-8*PIXI.DEG_TO_RAD,ease:Sine.easeInOut,yoyo:!0,repeat:-1},1.5);c.to(this._subtitle.scale,.7,{x:1*this._subtitle._scalePercentage,y:1*this._subtitle._scalePercentage,ease:Quad.easeInOut,yoyo:!0,repeat:-1},1.5);b.animator.add(c);c=new TimelineMax;c.to(this._playButton.scale,1,{x:1,y:1,ease:Elastic.easeOut},1.4);c.to(this._muteButton.scale,1,{x:1,y:1,ease:Elastic.easeOut},1.8);b.animator.add(c)};a.prototype.animateOut=function(a,d){e.prototype.animateOut.call(this);
var c=new TimelineMax({onComplete:a,onCompleteScope:d});c.to(this._playButton.scale,.5,{x:0,y:0,ease:Back.easeIn},0);c.to(this._gumball,.8,{x:-(1*b.STAGE_WIDTH),ease:Back.easeIn},.4);c.to(this._darwin,.8,{x:+(1*b.STAGE_WIDTH),ease:Back.easeIn},.6);c.to(this._ball,.6,{y:-b.STAGE_HEIGHT/2,ease:Back.easeIn},.1);c.to(this._helmet,.6,{y:-b.STAGE_HEIGHT/2,ease:Back.easeIn},.2);c.to(this._lunchbox,.6,{y:-b.STAGE_HEIGHT/2,ease:Back.easeIn},.3);c.to(this._boxes,.6,{y:-b.STAGE_HEIGHT/2,ease:Back.easeIn},.4);
c.to(this._box,.6,{y:-b.STAGE_HEIGHT/2,ease:Back.easeIn},.5);c.to(this._luggage,.6,{y:-b.STAGE_HEIGHT/2,ease:Back.easeIn},.6);c.to(this._mailbox,.6,{y:-b.STAGE_HEIGHT/2,ease:Back.easeIn},.7);c.to(this._hose,.6,{y:-b.STAGE_HEIGHT/2,ease:Back.easeIn},.8);c.to(this._rake,.6,{y:-b.STAGE_HEIGHT/2,ease:Back.easeIn},.9);c.to(this._bin,.6,{y:-b.STAGE_HEIGHT/2,ease:Back.easeIn},1);c.to(this._brick,.6,{rotation:-90*PIXI.DEG_TO_RAD,alpha:0,ease:Sine.easeIn},.5);c.to(this._logo,.5,{x:0,y:-b.STAGE_HEIGHT/2-this._logo.height/
2,ease:Back.easeIn},1);c.to(this._subtitle.scale,.5,{x:0,y:0,ease:Back.easeIn},.6);c.to(this._particleContainer,1.6,{alpha:0,ease:Sine.EaseIn},0);this._starsPS.emit=!1;b.animator.add(c);this._bgMusic.fade(1,0,1500)};a.prototype.playClicked=function(){this._playButton.signals.over.remove(this.buttonOver,this);this._playButton.signals.down.remove(this.playClicked,this);TweenMax.killTweensOf(this._playButton.scale);this.animateOut(function(){this.signals.requestedNextScreen.dispatch()},this);d.play("sfx_btn_press_00")};
a.prototype.buttonOver=function(){d.play("sfx_btn_rollover_00")};a.prototype.exitClicked=function(){var a=this._assetManager.getJSON("config").home_link;window.open(a)}},{"../Common":2,"../brim":6,"../general/SoundSFX":18,"./SimpleScreen":28}],30:[function(c,f,m){function a(a,e,d){this.signals={};this.signals.collisionFired=new signals.Signal;this._screenFocusPoint=a;this._view=a.clone();this._viewBoundary=e;this._activeBoundary=d;this._collisions=this._loopingRanges=this._layers=this._camera=null;
PIXI.Container.call(this)}c("../Common");c("./ScrollerObject");f.exports=a;a.prototype=Object.create(PIXI.Container.prototype);a.prototype.constructor=a;a.prototype.init=function(){this._camera=new p3.Camera(this._view,!0);this._layers={};this._loopingRanges=[];this._collisions=[]};a.prototype.update=function(){for(var a in this._layers)for(var e=this._layers[a].container,d=0;d<this._layers[a].objects.length;d++){var c=this._layers[a].objects[d];c.update();c.removeIfOutsideBoundary&&(e.x+c.x+c.areaRect.x+
c.areaRect.width<this._screenFocusPoint.x+this._activeBoundary.x||e.y+c.y+c.areaRect.y+c.areaRect.width<this._screenFocusPoint.y+this._activeBoundary.y||e.x+c.x>this._screenFocusPoint.x+this._activeBoundary.x+this._activeBoundary.width||e.y+c.y>this._screenFocusPoint.y+this._activeBoundary.y+this._activeBoundary.height)&&this.removeObjectFromLayer(c,a);c.removeMe&&this.removeObjectFromLayer(c,a);c.persistentX&&(c.x=this._screenFocusPoint.x+c.persistentX-e.x);if(c.persistentRectangle){var f=e.x+c.x+
c.areaRect.x,l=e.y+c.y+c.areaRect.y,h=e.x+c.x+c.areaRect.x+c.areaRect.width,m=e.y+c.y+c.areaRect.y+c.areaRect.height,n=this._screenFocusPoint.x+c.persistentRectangle.x,q=n+c.persistentRectangle.width,p=this._screenFocusPoint.y+c.persistentRectangle.y,r=p+c.persistentRectangle.height;f<n&&0>=c.xSpeed&&(c.x+=(n-f)*c.persistentRectangleExitEase,c.onExitPersistentRectangle("left"));l<p&&0>=c.ySpeed&&(c.y+=(p-l)*c.persistentRectangleExitEase,c.onExitPersistentRectangle("upper"));h>q&&0<=c.xSpeed&&(c.x-=
(h-q)*c.persistentRectangleExitEase,c.onExitPersistentRectangle("right"));m>r&&0<=c.xSpeed&&(c.y-=(m-r)*c.persistentRectangleExitEase,c.onExitPersistentRectangle("lower"))}for(f=0;f<this._collisions.length;f++)2==this._collisions[f].length&&this._collisions[f][0]==c.type&&this._checkForCollisions(c,e,this._collisions[f][1])}for(a=0;a<this._loopingRanges.length;a++)for(e=this._loopingRanges[a].update(this._screenFocusPoint,this._viewBoundary,this._layers[this._loopingRanges[a].layer].container),d=
0;d<e.length;d++)e[d].obj.areaRect=new PIXI.Rectangle(e[d].areaRect.x,e[d].areaRect.y,e[d].areaRect.width,e[d].areaRect.height),this.addObjectToLayer(e[d].obj,this._loopingRanges[a].layer,e[d].offset.x,e[d].offset.y)};a.prototype.addLayer=function(a,c){c=c||new PIXI.Point(1,1);var d=new PIXI.Container;this.addChild(d);this._layers[a]={container:d,objects:[],parallax:c};this._camera.addLayer(a,d,c)};a.prototype.addObjectToLayer=function(a,c,d,g){this._layers[c].container.addChild(a);d&&(a.x=d);g&&
(a.y=g);this._layers[c].objects.push(a)};a.prototype.removeObjectFromLayer=function(a,c){var d;if(null==c)for(var g in this._layers){d=this._layers[g].objects.indexOf(a);c=g;break}this._layers[c].container.removeChild(a);null==d&&(d=this._layers[c].objects.indexOf(a));-1<d&&this._layers[c].objects.splice(d,1);for(g=0;g<this._loopingRanges.length;g++)if(c==this._loopingRanges[g].layer){this._loopingRanges[g].objectRemoved(a);break}a.dispose()};a.prototype.addLoopingRangeToLayer=function(a,c,d,g){a.layer=
c;var f=a.generate(this._viewBoundary.width,this._viewBoundary.height,d,g);this._loopingRanges.push(a);var l=this._viewBoundary.x*this._layers[c].parallax.x;a.scrollY&&(l=d,g=this._activeBoundary.y*this._layers[c].parallax.y);for(d=0;d<f.length;d++)f[d].obj.areaRect=f[d].areaRect,this.addObjectToLayer(f[d].obj,c,l+(a.scrollY?f[d].offset.x:0),g+(a.scrollX?f[d].offset.y:0)),a.scrollX?l+=f[d].areaRect.x+f[d].areaRect.width+f[d].offset.x:a.scrollY&&(g+=f[d].areaRect.y+f[d].areaRect.height+f[d].offset.y)};
a.prototype.addCollisionDetector=function(a,c){this._collisions.push([a,c])};a.prototype.pause=function(){for(var a in this._layers)for(var c=0;c<this._layers[a].objects.length;c++)this._layers[a].objects[c].pause()};a.prototype.resume=function(){for(var a in this._layers)for(var c=0;c<this._layers[a].objects.length;c++)this._layers[a].objects[c].resume()};a.prototype.getLayerContainer=function(a){return this._layers[a].container};a.prototype.getLayerParallax=function(a){return this._layers[a].parallax};
a.prototype.orderLayer=function(a,c){this._layers[a].container.children.sort(c)};a.prototype._checkForCollisions=function(a,c,d){for(var g in this._layers)for(var f=this._layers[g].container,l=0;l<this._layers[g].objects.length;l++)if(this._layers[g].objects[l].type==d){var h=this._layers[g].objects[l],m=c.x+a.x+a.collisionRect.x,n=f.x+h.x+h.collisionRect.x,q=m+a.collisionRect.width,p=n+h.collisionRect.width,r=c.y+a.y+a.collisionRect.y,u=f.y+h.y+h.collisionRect.y,v=u+h.collisionRect.height,s=!0;r+
a.collisionRect.height<u&&(s=!1);r>v&&(s=!1);q<n&&(s=!1);m>p&&(s=!1);s&&this.signals.collisionFired.dispatch(a,h)}};Object.defineProperty(a.prototype,"viewX",{get:function(){return this._view.x},set:function(a){this._view.x=a;this._camera.update();return this._view.x}});Object.defineProperty(a.prototype,"viewY",{get:function(){return this._view.y},set:function(a){this._view.y=a;this._camera.update();return this._view.y}});Object.defineProperty(a.prototype,"activeBoundary",{get:function(){return this._activeBoundary},
set:function(a){return this._activeBoundary=a}});Object.defineProperty(a.prototype,"viewBoundary",{get:function(){return this._viewBoundary},set:function(a){return this._viewBoundary=a}});Object.defineProperty(a.prototype,"screenFocusPoint",{get:function(){return this._screenFocusPoint},set:function(a){return this._screenFocusPoint=a}})},{"../Common":2,"./ScrollerObject":32}],31:[function(c,f,m){function a(a,c,d){this._objectsData=a;this._objectPools=this._objects=null;this._objectsPlaced=-1;this._originY=
this._originX=0;this._scrollX=c;this._scrollY=d;this.layer=null;this.init()}c("../Common");f.exports=a;a.prototype=Object.create(PIXI.Container.prototype);a.prototype.constructor=a;a.prototype.init=function(){this._objectPools=[];this._objects=[]};a.prototype.generate=function(a,c,d,g){this.scrollY&&(this._originX=d);this.scrollX&&(this._originY=g);g="x";var f="width";this._scrollY&&(g="y",f="height");for(d=c=0;d<this._objectsData.length;d++)c+=this._objectsData[d].areaRect[g]+this._objectsData[d].areaRect[f]+
this._objectsData[d].offset[g];f=[];for(d=0;d<Math.ceil(a/c);d++)for(g=0;g<this._objectsData.length;g++)void 0==f[g]&&(f[g]=0),f[g]++;for(d=0;d<this._objectsData.length;d++)this._objectPools[d]=new p3.ObjectPool(this._objectsData[d].base,f[d],this._objectsData[d].args);f=[];for(d=0;d<Math.ceil(a/c);d++)for(g=0;g<this._objectsData.length;g++){var l=this._objectPools[g].create();null==l&&(this._objectPools[g].expand(2),l=this._objectPools[g].create());this._objects.push(l);f.push({obj:l,areaRect:this._objectsData[g].areaRect,
offset:this._objectsData[g].offset});this._objectsPlaced++;l.loopingRangeNumber=this._objectsPlaced}return f};a.prototype.update=function(a,c,d){var f=(this._objectsPlaced+1)%this._objectsData.length,k=this._objectsData[f],l=this._objects[this._objects.length-1],h="x",m="width",n="y";this._scrollY&&(h="y",m="height",n="x");var q=[],l=l[h]+l.areaRect[h]+l.areaRect[m]+k.offset[h];d[h]+l<a[h]+c[h]+c[m]&&(a=this._objectPools[f].create(),null==a&&(this._objectPools[f].expand(2),a=this._objectPools[f].create()),
f=new PIXI.Point,f[h]=l,f[n]=k.offset[n]+this["_origin"+[n.toUpperCase()]],q.push({obj:a,areaRect:k.areaRect,offset:f}),this._objectsPlaced++,a.loopingRangeNumber=this._objectsPlaced,this._objects.push(a));return q};a.prototype.objectRemoved=function(a){var c=this._objects.indexOf(a);0<=c&&(this._objectPools[a.loopingRangeNumber%this._objectsData.length].free(a),this._objects.splice(c,1))};Object.defineProperty(a.prototype,"scrollX",{get:function(){return this._scrollX}})},{"../Common":2}],32:[function(c,
f,m){function a(a,c){this._assetManager=p3.AssetManager.instance;this.signals={};this.signals.disposed=new signals.Signal;this._type=a;this.loopingRangeNumber=this.areaRect=this._collisionRectLines=this.collisionRect=null;this.removeIfOutsideBoundary=null==c?!0:c;this.ySpeed=this.xSpeed=0;this.persistentRectangle=this.persistentY=this.persistentX=null;this.persistentRectangleExitEase=1;this.removeMe=!1;PIXI.Container.call(this);this.init()}c("../Common");f.exports=a;a.prototype=Object.create(PIXI.Container.prototype);
a.prototype.constructor=a;a.prototype.init=function(){};a.prototype.update=function(){this.x+=this.xSpeed;this.y+=this.ySpeed};a.prototype.reset=function(){this.y=this.x=0;this.removeMe=!1;null!=this._collisionRectLines&&this.removeChild(this._collisionRectLines)};a.prototype.dispose=function(){this.signals.disposed.dispatch(this)};a.prototype.pause=function(){};a.prototype.resume=function(){};a.prototype.drawCollisionRect=function(){this._collisionRectLines=new PIXI.Graphics;this.addChild(this._collisionRectLines);
this._collisionRectLines.lineStyle(1,16191773);this._collisionRectLines.drawRect(this.collisionRect.x,this.collisionRect.y,this.collisionRect.width,this.collisionRect.height)};a.prototype.onExitPersistentRectangle=function(a){};Object.defineProperty(a.prototype,"type",{get:function(){return this._type}})},{"../Common":2}],33:[function(c,f,m){function a(a){this.signals={};this.signals.generateObjects=new signals.Signal;this.signals.objectDisposed=new signals.Signal;this._poolData=a;this._patterns=
this._pools=null;this._currentCount=0;this._maxFrequency=this._minFrequency=this._countTarget=null;PIXI.Container.call(this);this.init()}c("../Common");c("./ScrollerObject");f.exports=a;a.prototype=Object.create(PIXI.Container.prototype);a.prototype.constructor=a;a.prototype.init=function(){this._pools={};for(var a=0;a<this._poolData.length;a++)this._pools[this._poolData[a].id]=new p3.ObjectPool(this._poolData[a].base,2,this._poolData[a].args);this._patterns={}};a.prototype.update=function(){null!=
this._countTarget&&(this._currentCount++,this._currentCount>=this._countTarget&&(this.generate(),this.setRandomFrequency()))};a.prototype.addPattern=function(a,c){void 0==this._patterns[c]&&(this._patterns[c]=a)};a.prototype.removePattern=function(a){delete this._patterns[a]};a.prototype.setFrequencies=function(a,c,d){this._minFrequency=a;this._maxFrequency=c;void 0==d&&(d=!0);d&&this.setRandomFrequency()};a.prototype.setRandomFrequency=function(){this._countTarget=Math.round(this._minFrequency+Math.random()*
(this._maxFrequency-this._minFrequency));this._currentCount=0};a.prototype.setSpecificFrequency=function(a){this._countTarget=a};a.prototype.generate=function(){var a=[],c;for(c in this._patterns)a.push(c);var d=null;if(0==a.length)console.log("No pattern set!");else{d=this._patterns[a[Math.floor(Math.random()*a.length)]];a=[];for(c=0;c<d.length;c++){var f=this._pools[d[c].poolId],k=f.create();null==k&&(f.expand(2),k=f.create());k.signals.disposed.add(this.onObjectDisposed,this);a.push({obj:k,offset:{x:d[c].x,
y:d[c].y}})}this.signals.generateObjects.dispatch(a)}};a.prototype.onObjectDisposed=function(a){a.signals.disposed.remove(this.onObjectDisposed,this);this.signals.objectDisposed.dispatch(a);for(var c in this._pools)-1<this._pools[c]._used.indexOf(a)&&this._pools[c].free(a)}},{"../Common":2,"./ScrollerObject":32}],34:[function(c,f,m){function a(a,c,f,k){this._texture=f;this._anchor=k||new PIXI.Point(0,0);this._image=null;b.call(this,a,c);this.create();this.init()}c("../Common");var b=c("./ScrollerObject");
f.exports=a;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.prototype.create=function(){this._image=new PIXI.Sprite(this._texture);this._image.anchor=this._anchor;this.addChild(this._image)};a.prototype.init=function(){};a.prototype.reset=function(){b.prototype.reset.call(this)}},{"../Common":2,"./ScrollerObject":32}]},{},[4]);
