/* Created by Olphabet */
var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d,e){var f=b.call(this,a,c,d)||this;return f._currentNumber=e,f._visual=f.game.make.sprite(0,0,"beastBoyBigAtlas","door"),f._visual.anchor.set(0,1),f._visual.game.physics.enable(f._visual,Phaser.Physics.ARCADE),f._visual.body.immovable=!0,f._visual.body.setSize(.6*f.width,f.height,15,0),f.addChild(f._visual),f._dorMask=f.game.make.graphics(0,-f._visual.height),f._dorMask.beginFill(16777215,.4),f._dorMask.drawRect(0,0,f._visual.width,f._visual.height),f._dorMask.endFill(),f.addChild(f._dorMask),f._visual.mask=f._dorMask,f}return __extends(c,b),Object.defineProperty(c.prototype,"dorNumber",{get:function(){return this._currentNumber},enumerable:!0,configurable:!0}),c.prototype.openDor=function(){var b=this;this.game.camera.follow(this,Phaser.Camera.FOLLOW_PLATFORMER,.1,.1),setTimeout(function(){a.SoundMixer.play("bb_zdooropen",.4)},250),this.game.add.tween(this._visual).to({y:this._visual.y-166},1200,Phaser.Easing.Linear.None,!0,200).onComplete.addOnce(function(){a.BeastBoyGame.instance.gamePlayer.goPlayerToGame(),b.game.add.tween(b.game.camera).to({x:a.BeastBoyGame.instance.gamePlayer.x,y:a.BeastBoyGame.instance.gamePlayer.y-200},300,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){b.game.camera.follow(a.BeastBoyGame.instance.gamePlayer,Phaser.Camera.FOLLOW_PLATFORMER,.1,.1),a.BeastBoyGame.instance.removeDor(b)})})},c}(b);a.beastDor=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d){var e=b.call(this,a,c,d,"beastBoyAtlas","fire_ani_10001")||this;return e.animations.add("idle",Phaser.Animation.generateFrameNames("fire_ani_1",1,6,"",4),25,!0),e.play("idle"),e._myHitRect=e.game.make.graphics(0,-15),e._myHitRect.beginFill(16777215,0),e._myHitRect.drawRect(0,0,73,15),e._myHitRect.endFill(),e.addChild(e._myHitRect),e}return __extends(c,b),c.prototype.manualUpdate=function(){this.inCamera&&a.BeastBoyGame.instance.checkBulletHitPlayer(this)},Object.defineProperty(c.prototype,"hitBody",{get:function(){return this._myHitRect},enumerable:!0,configurable:!0}),c}(b);a.beastEnemyFlame=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d,e){var f=b.call(this,a,c,d,"beastBoyBigAtlas","monitor_launch")||this;return f._terminalIsUsed=!1,f._currentNumber=e,f.anchor.set(0,1),f.game.physics.enable(f,Phaser.Physics.ARCADE),f.body.immovable=!0,f._monitorHitZone=f.game.make.graphics(f.width/2-1.35,-55.7),f._monitorHitZone.beginFill(0,0),f._monitorHitZone.drawRect(0,0,2.75,50),f._monitorHitZone.endFill(),f.addChild(f._monitorHitZone),f}return __extends(c,b),Object.defineProperty(c.prototype,"dorNumber",{get:function(){return this._currentNumber},enumerable:!0,configurable:!0}),c.prototype.manualUpdate=function(){var b=this;!this._terminalIsUsed&&this.inCamera&&a.BeastBoyGame.instance.checkOverlapWithSpriteAndSpriteForEnemy(this._monitorHitZone,a.BeastBoyGame.instance.gamePlayer.hitBody)&&a.BeastBoyGame.instance.gamePlayer.canUseElevator&&(a.BeastBoyGame.instance.gamePlayer.x=this._monitorHitZone.x+this.x-2,this._terminalIsUsed=!0,a.BeastBoyGame.instance.gamePlayer.changeAnimation("monitor"),setTimeout(function(){b.currentDoorOpen()},600))},c.prototype.currentDoorOpen=function(){a.BeastBoyGame.instance.openDoor(this._currentNumber)},c}(b);a.beastMonitor=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d){var e=b.call(this,a,c,d)||this;return e._visual=e.game.make.sprite(0,0,"beastBoyBigAtlas","t_walk_10001"),e._visual.anchor.set(0,1),e.addChild(e._visual),e._visual.animations.add("walk",Phaser.Animation.generateFrameNames("t_walk_1",1,31,"",4),25,!0),e._visual.animations.add("attack",Phaser.Animation.generateFrameNames("t_attack_1",1,20,"",4),25,!0),e._visual.animations.add("fall",Phaser.Animation.generateFrameNames("t_fall1_1",1,25,"",4),25,!1),e.currentFrameName="",e._myHitRectBig=e.game.make.graphics(e._visual.width/2-15,-170),e._myHitRectBig.beginFill(16777215,0),e._myHitRectBig.drawRect(0,0,30,170),e._myHitRectBig.endFill(),e.addChild(e._myHitRectBig),e.changeAnimatonState("walk"),e.range=300,e.xs=3,e.xmin=e.x,e.xmax=e.x+e.range,e.hd=1,e.scale.x=-1,e.attacking=!1,e.d=0,e.dx=0,e.game.stage.updateTransform(),e}return __extends(c,b),c.prototype.changeAnimatonState=function(b){var c=this;if(this._visual.animations.currentAnim.name!=b){this._currentAnimState=b;var d=null;switch(b){case"walk":this._visual.anchor.set(.5,.99),this._myHitRectBig.position.set(this._visual.width/2-15-this._visual.width/2,this._myHitRectBig.y),this._myHitRectBig.width=30,d=function(){};break;case"attack":this._visual.anchor.set(.72,1),this._myHitRectBig.position.set(this._visual.width/2-15-(1.5*this._visual.width-0),this._myHitRectBig.y),this._myHitRectBig.width=120,d=function(){};break;case"fall":this._visual.anchor.set(.5,.97),d=function(){c.game.add.tween(c).to({alpha:0},650,Phaser.Easing.Linear.None,!0,500).onComplete.addOnce(function(){a.BeastBoyGame.instance.enemyRemove(c)})}}null!=d?this._visual.play(b).onComplete.add(function(){d()}):this._visual.play(b)}},c.prototype.manualUpdate=function(){if(this.die)switch(this._visual.frameName){case"t_fall1_10002":this.currentFrameName!=this._visual.frameName&&(this.currentFrameName=this._visual.frameName,this.createBoom(-.35,-47.4,.8));break;case"t_fall1_10005":this.currentFrameName!=this._visual.frameName&&(this.currentFrameName=this._visual.frameName,this.createBoom(2.7,-85.6,1));break;case"t_fall1_10010":this.currentFrameName!=this._visual.frameName&&(this.currentFrameName=this._visual.frameName,this.createBoom(11.55,-21.35,.8))}else this.attacking?(this.d-=a.BeastBoyGame.GAME_SPEED_SCALE,this.d<15&&a.BeastBoyGame.instance.checkBulletHitPlayer(this),this.d<=0&&(this.attacking=!1,this.changeAnimatonState("walk"))):(this.x+=this.xs*a.BeastBoyGame.GAME_SPEED_SCALE,this.x>this.xmax?(this.x=this.xmax,this.xs=-this.xs,this.scale.x=1,this.hd=2):this.x<this.xmin&&(this.x=this.xmin,this.xs=-this.xs,this.scale.x=-1,this.hd=1),a.BeastBoyGame.instance.gamePlayer.y<=this.y+10&&a.BeastBoyGame.instance.gamePlayer.y>this.y-150&&(this.dx=this.x-a.BeastBoyGame.instance.gamePlayer.x,Math.abs(this.dx)<100&&(1==this.hd&&this.dx<0||2==this.hd&&this.dx>0)&&(this.attacking=!0,this.d=20,this.changeAnimatonState("attack")))),a.BeastBoyGame.instance.cekhitattack(this._myHitRectBig,this._visual)&&(1==this.hd&&this.dx<0||2==this.hd&&this.dx>0?(a.BeastBoyGame.instance.checkBulletHitPlayer(this),this.attacking=!0,this.d=20,this.changeAnimatonState("attack")):(this.die=!0,this.changeAnimatonState("fall"),a.BeastBoyGame.instance.gameUI.addScore(500)))},Object.defineProperty(c.prototype,"hitBody",{get:function(){return this._myHitRectBig},enumerable:!0,configurable:!0}),c.prototype.createBoom=function(b,c,d){var e=this.game.make.sprite(b,c,"cyborgHand","explode_10001");e.anchor.set(.5),e.scale.set(d),e.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!1),this._visual.addChild(e),a.SoundMixer.play("bb_zboom1",.4),e.play("boom").onComplete.addOnce(function(){e.destroy(!0)})},c}(b);a.bigEnemy=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d){var e=b.call(this,a,c,d)||this;return e._visual=e.game.make.sprite(0,0,"beastBoyBigAtlas","spider_10001"),e._visual.anchor.set(0,1),e.addChild(e._visual),e._visual.animations.add("idle",Phaser.Animation.generateFrameNames("spider_1",1,20,"",4),25,!0),e._visual.animations.add("die",Phaser.Animation.generateFrameNames("spider_die_1",1,36,"",4),25,!1),e._visual.play("idle"),e.range=200,e.xs=3,e.xmin=e.x,e.xmax=e.x+e.range,e._myHitRectBig=e.game.make.graphics(e._visual.width/2-20.65,-66.65-e._visual.height/2),e._myHitRectBig.beginFill(16777215,0),e._myHitRectBig.drawRect(0,0,41.7,129.8),e._myHitRectBig.endFill(),e.addChild(e._myHitRectBig),e._myHitRectSmall=e.game.make.graphics(e._visual.width/2-40,64.75-e._visual.height/2),e._myHitRectSmall.beginFill(16777215,0),e._myHitRectSmall.drawRect(0,0,80,3),e._myHitRectSmall.endFill(),e.addChild(e._myHitRectSmall),e.currentFrameName="",e.game.stage.updateTransform(),e}return __extends(c,b),c.prototype.manualUpdate=function(){var b=this;if(this.die)switch(this._visual.frameName){case"spider_die_10002":this.currentFrameName!=this._visual.frameName&&(this.currentFrameName=this._visual.frameName,this.createBoom(-.35,.6,.8));break;case"spider_die_10005":this.currentFrameName!=this._visual.frameName&&(this.currentFrameName=this._visual.frameName,this.createBoom(14.7,27.4,.8));break;case"spider_die_10010":this.currentFrameName!=this._visual.frameName&&(this.currentFrameName=this._visual.frameName,this.createBoom(35.95,31.9,.8))}else this.x+=this.xs*a.BeastBoyGame.GAME_SPEED_SCALE,this.x>this.xmax?(this.x=this.xmax,this.xs=-this.xs):this.x<this.xmin&&(this.x=this.xmin,this.xs=-this.xs),this.inCamera&&(a.BeastBoyGame.instance.cekhitattack(this._myHitRectBig,this._visual)?(this.die=!0,a.BeastBoyGame.instance.gameUI.addScore(300),this._visual.play("die").onComplete.addOnce(function(){b.game.add.tween(b).to({alpha:0},650,Phaser.Easing.Linear.None,!0,500).onComplete.addOnce(function(){a.BeastBoyGame.instance.enemyRemove(b)})}),this._visual.anchor.y=.85,this.game.stage.updateTransform(),a.BeastBoyGame.instance.gamePlayer.scale.x<0&&(this._visual.scale.set(-1,1),this._visual.position.x-=this._visual.width)):a.BeastBoyGame.instance.checkBulletHitPlayer(this))},Object.defineProperty(c.prototype,"hitBody",{get:function(){return this._myHitRectSmall},enumerable:!0,configurable:!0}),c.prototype.createBoom=function(b,c,d){var e=this.game.make.sprite(b+this._visual.width/2*this._visual.scale.x,c-this._visual.height/2,"cyborgHand","explode_10001");e.anchor.set(.5),e.scale.set(d),e.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!1),this._visual.addChild(e),a.SoundMixer.play("bb_zboom1",.4),e.play("boom").onComplete.addOnce(function(){e.destroy(!0)})},c}(b);a.blueEnemy=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d){var e=b.call(this,a,c,d)||this;return e.die=!1,e._visual=e.game.make.sprite(0,0,"beastBoyAtlas","bonus_10001"),e._visual.anchor.y=1,e._visual.animations.add("idle",Phaser.Animation.generateFrameNames("bonus_1",1,16,"",4),25,!0),e._visual.play("idle"),e.addChild(e._visual),e}return __extends(c,b),c.prototype.manualUpdate=function(){this.die||this.inCamera&&a.BeastBoyGame.instance.checkOverlapWithSpriteAndSpriteForEnemy(this._visual,a.BeastBoyGame.instance.gamePlayer.hitBody)&&(this.die=!0,this._visual.alpha=0,a.BeastBoyGame.instance.enemyRemove(this),a.BeastBoyGame.instance.gameUI.addScore(300),a.BeastBoyGame.instance.gameUI.changeEnergy(100),a.SoundMixer.play("bb_zbonus",.4))},Object.defineProperty(c.prototype,"hitBody",{get:function(){return this._visual},enumerable:!0,configurable:!0}),c}(b);a.bonusObject=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d,e,f,g,h){void 0===h&&(h=0);var i=b.call(this,a,c,d)||this;return i._visual=i.game.make.sprite(0,0,e,f),i._visual.anchor.set(.5,.5),i.addChild(i._visual),i._visual.animations.add("idle",Phaser.Animation.generateFrameNames("s_bul_1",1,2,"",4),25,!0),i._visual.play("idle"),i.xs=-8,i.ys=12,g.x>0?i.xs=-8:g.x<0?(i.xs=-i.xs,i.scale.x=-1):i.xs=0,g.y>0?(i.ys=12,i._visual.angle=-90):g.y<0?(i.ys=-i.ys,i._visual.angle=90):i.ys=0,i.d=h||5,i}return __extends(c,b),c.prototype.manualUpdate=function(){if(this.x+=this.xs*a.BeastBoyGame.GAME_SPEED_SCALE,this.y+=this.ys*a.BeastBoyGame.GAME_SPEED_SCALE,this.alpha>.5&&a.BeastBoyGame.instance.checkBulletHitPlayer(this))return a.SoundMixer.play("bb_zhit",.4),void a.BeastBoyGame.instance.bulletRemove(this);this.d-=1*a.BeastBoyGame.GAME_SPEED_SCALE,this.d<0&&(this.alpha-=.3*a.BeastBoyGame.GAME_SPEED_SCALE,this.alpha<=0&&a.BeastBoyGame.instance.bulletRemove(this))},Object.defineProperty(c.prototype,"hitBody",{get:function(){return this._visual},enumerable:!0,configurable:!0}),c}(b);a.enemyBeastBullet=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d,e,f,g,h){var i=b.call(this,a,c,d)||this;switch(i._visual=i.game.make.sprite(0,0,e,f),i._visual.anchor.set(0,.5),i._visual.angle=h,i.addChild(i._visual),i.shootdelay=22,i.d=i.shootdelay,i.bulletrange=g,i.tiple=0,h){case 0:i.tiple=3;break;case 90:i.tiple=1;break;case-90:i.tiple=2;break;case 180:i.tiple=4;break;default:console.log("UNCNOW TIPLE TO ROTATION! "+h)}return i}return __extends(c,b),c.prototype.manualUpdate=function(){this.d-=1*a.BeastBoyGame.GAME_SPEED_SCALE,this.d<0&&(this.d=this.shootdelay,this.inCamera&&(a.BeastBoyGame.instance.bulletLaunch(this,this.tiple,this.bulletrange),console.log("SHOOOT!")))},c}(b);a.enemyShooter=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d,e,f,g,h){var i=b.call(this,a,c,d)||this;switch(i._visual=i.game.make.sprite(0,0,e,f),i._visual.anchor.set(.5,1),i._visual.angle=h,i.addChild(i._visual),i._visual.animations.add("idle",Phaser.Animation.generateFrameNames("spider_small_1",1,2,"",4),25,!0),i._visual.play("idle"),i.dir=1,90!=h&&-90!=h||(i.dir=-1),console.log(i.dir+" SPIDER"),i.range=150,i.xs=3,i.xmin=i.dir>0?i.x-i.range:i.y-i.range,i.xmax=i.dir>0?i.x+i.range:i.y+i.range,i.shootdelay=22,i.d=i.shootdelay,i.bulletrange=g,i.tiple=0,h){case 0:i.tiple=1,i._myHitRect=i.game.make.graphics(-20.65,-27.85),i._myHitRect.beginFill(16777215,0),i._myHitRect.drawRect(0,0,41.7,22.85),i._myHitRect.endFill(),i.addChild(i._myHitRect);break;case-90:i.tiple=3,i._myHitRect=i.game.make.graphics(-27.85,-20.65),i._myHitRect.beginFill(16777215,0),i._myHitRect.drawRect(0,0,22.85,41.7),i._myHitRect.endFill(),i.addChild(i._myHitRect);break;case-180:i.tiple=2,i._myHitRect=i.game.make.graphics(-20.65,0),i._myHitRect.beginFill(16777215,0),i._myHitRect.drawRect(0,0,41.7,22.85),i._myHitRect.endFill(),i.addChild(i._myHitRect);break;default:console.log("UNCNOW TIPLE TO ROTATION! "+h)}return i}return __extends(c,b),c.prototype.manualUpdate=function(){this.dir>0?(this.x+=this.xs*a.BeastBoyGame.GAME_SPEED_SCALE,this.x>this.xmax?(this.x=this.xmax,this.xs=-this.xs):this.x<this.xmin&&(this.x=this.xmin,this.xs=-this.xs)):(this.y+=this.xs*a.BeastBoyGame.GAME_SPEED_SCALE,this.y>this.xmax?(this.y=this.xmax,this.xs=-this.xs):this.y<this.xmin&&(this.y=this.xmin,this.xs=-this.xs)),this.d-=1*a.BeastBoyGame.GAME_SPEED_SCALE,this.d<0&&(this.d=this.shootdelay,this.inCamera&&a.BeastBoyGame.instance.bulletLaunch(this,this.tiple,this.bulletrange)),null!=this._myHitRect&&this.inCamera&&a.BeastBoyGame.instance.checkBulletHitPlayer(this)},Object.defineProperty(c.prototype,"hitBody",{get:function(){return this._myHitRect},enumerable:!0,configurable:!0}),c}(b);a.enemySpiderSmall=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d){var e=b.call(this,a,c,d)||this;return e._goL=!1,e._goR=!1,e._goU=!1,e._goD=!1,e.go=0,e.goV=0,e.nx=0,e.ny=0,e.xs=0,e.vy=0,e.hd=1,e.grav=2450,e.jumpforce=-24,e.runspeeds=[10,20,10],e.gojump=!1,e.canjump=!0,e.jump=!1,e.hit=!1,e.inv=!1,e.monitor=!1,e.onlift=!1,e.mmlift=!1,e.hitdir=1,e.invhitdelay=1,e._transformInUpdate=!1,e._alphaCounter=0,e._showHero=!1,e._usingAnicyng=!0,e._currentHitDelayMode=!1,e.invhitdelay=35,e.alpha=0,e._visual=e.game.make.sprite(0,0,"beastBoyAtlas","bb_stand_10001"),e.addChild(e._visual),e._transfFX=e.game.make.sprite(0,0,"beastBoyAtlas","transforming_anim_10001"),e._transfFX.anchor.set(.5,1),e._transfFX.animations.add("transform",Phaser.Animation.generateFrameNames("transforming_anim_1",1,3,"",4),25,!1),e._visual.addChild(e._transfFX),e._transfFX.visible=!1,e._heroHitRect=e.game.make.graphics(-11.5,-73.5),e._heroHitRect.beginFill(16777215,0),e._heroHitRect.drawRect(0,0,25.5,72.5),e._heroHitRect.endFill(),e.addChild(e._heroHitRect),e._heroHitRect.position.set(-11.5,-73.5),e._heroHitRect.width=25.5,e._heroHitRect.height=72.5,e.game.stage.updateTransform(),e._currentHero="BB",e._visual.animations.add("stand",Phaser.Animation.generateFrameNames("bb_stand_1",1,5,"",4),25,!1),e._visual.animations.add("run",Phaser.Animation.generateFrameNames("bb_run_1",1,13,"",4),25,!0),e._visual.animations.add("jump",Phaser.Animation.generateFrameNames("bb_jump_1",1,15,"",4),25,!1),e._visual.animations.add("hit",Phaser.Animation.generateFrameNames("bb_hit_1",1,21,"",4),25,!1),e._visual.animations.add("hitdie",Phaser.Animation.generateFrameNames("bb_hitdie_1",1,7,"",4),25,!1),e._visual.animations.add("monitor",Phaser.Animation.generateFrameNames("bb_use_monitor_1",1,9,"",4),25,!1),e._visual.animations.add("lift",Phaser.Animation.generateFrameNames("bb_use_monitor_1",1,8,"",4),25,!1),e._visual.animations.add("die",Phaser.Animation.generateFrameNames("bb_die_1",1,21,"",4),25,!1),e._visual.animations.add("fall",Phaser.Animation.generateFrameNames("bb_fall_1",1,30,"",4),25,!1),e.changeAnimation("stand"),e._canHitting=!1,e}return __extends(c,b),c.prototype.changeHero=function(a,b){this._currentHero=a;var c="";switch(a){case"BB":this._visual.animations.add("stand",Phaser.Animation.generateFrameNames("bb_stand_1",1,5,"",4),25,!1),this._visual.animations.add("run",Phaser.Animation.generateFrameNames("bb_run_1",1,13,"",4),25,!0),this._visual.animations.add("jump",Phaser.Animation.generateFrameNames("bb_jump_1",1,15,"",4),25,!1),this._visual.animations.add("hit",Phaser.Animation.generateFrameNames("bb_hit_1",1,21,"",4),25,!1),this._visual.animations.add("hitdie",Phaser.Animation.generateFrameNames("bb_hitdie_1",1,7,"",4),25,!1),this._visual.animations.add("monitor",Phaser.Animation.generateFrameNames("bb_use_monitor_1",1,9,"",4),25,!1),this._visual.animations.add("lift",Phaser.Animation.generateFrameNames("bb_use_monitor_1",1,8,"",4),25,!1),this._visual.animations.add("die",Phaser.Animation.generateFrameNames("bb_die_1",1,21,"",4),25,!1),this._visual.animations.add("fall",Phaser.Animation.generateFrameNames("bb_fall_1",1,30,"",4),25,!1),c="stand";break;case"CHEETAH":this._visual.animations.add("stand",Phaser.Animation.generateFrameNames("cheetah_stand_1",1,45,"",4),25,!0),this._visual.animations.add("run",Phaser.Animation.generateFrameNames("cheetah_run_1",1,12,"",4),25,!0),this._visual.animations.add("jump",Phaser.Animation.generateFrameNames("cheetah_jump_1",1,13,"",4),25,!1),this._visual.animations.add("hit",Phaser.Animation.generateFrameNames("cheetah_hit_1",1,15,"",4),25,!1),c="stand";break;case"HAWK":this._visual.animations.add("fly",Phaser.Animation.generateFrameNames("hawk_fly_1",1,26,"",4),25,!0),this._visual.animations.add("hit",Phaser.Animation.generateFrameNames("hawk_hit_1",1,26,"",4),25,!1),c="fly"}""!=b&&(c=b),this.changeAnimation(c),"HAWK"==a?(this.body.setSize(36.25,15,-17.5,-3.5),this.body.gravity.y=0):"CHEETAH"==a?(this.body.setSize(84.1,53.6,-30.65,-53.6),this.body.gravity.y=this.grav):(this.body.gravity.y=this.grav,this.body.setSize(this._visual.width,this._visual.height,-this._visual.width*this._visual.anchor.x,-this._visual.height*this._visual.anchor.y))},c.prototype.changeAnimation=function(b){var c=this;if(this._visual.animations.currentAnim.name!=b){var d=null;switch(b){case"fly":this._visual.anchor.set(.51,.62),this._heroHitRect.position.set(-17.5,-3.5),this._heroHitRect.width=36.25,this._heroHitRect.height=15,this._canHitting=!0,d=function(){};break;case"stand":"BB"==this._currentHero?(this._visual.anchor.set(.5,.97),this._heroHitRect.position.set(-11.5,-73.5),this._heroHitRect.width=25.5,this._heroHitRect.height=72.5):"CHEETAH"==this._currentHero&&(this._visual.anchor.set(.6,.98),this._heroHitRect.position.set(-30.65,-44.65),this._heroHitRect.width=45.2,this._heroHitRect.height=44),this._canHitting=!0,d=function(){};break;case"run":"BB"==this._currentHero?(this._visual.anchor.set(.547,.976),this._heroHitRect.position.set(-7.5,-73.5),this._heroHitRect.width=25.5,this._heroHitRect.height=72.5):"CHEETAH"==this._currentHero&&(this._visual.anchor.set(.66,.96),this._heroHitRect.position.set(-30.65,-44.65),this._heroHitRect.width=45.2,this._heroHitRect.height=44),this._canHitting=!0,d=function(){};break;case"jump":"BB"==this._currentHero?(this._visual.anchor.set(.62,.977),this._heroHitRect.position.set(-11.5,-73.5),this._heroHitRect.width=25.5,this._heroHitRect.height=72.5):"CHEETAH"==this._currentHero&&(this._visual.anchor.set(.67,.97),this._heroHitRect.position.set(-30.65,-44.65),this._heroHitRect.width=45.2,this._heroHitRect.height=44),this._canHitting=!0,d=function(){};break;case"hit":"BB"==this._currentHero?this._visual.anchor.set(.41,.93):"CHEETAH"==this._currentHero?this._visual.anchor.set(.66,.97):"HAWK"==this._currentHero&&this._visual.anchor.set(.52,.81),a.SoundMixer.play("bb_zhit2",.4),this.xs=-10,2==this.hitdir&&(this.xs=-this.xs),this.xs*=25,this._alphaCounter=0,this.inv=!0,a.BeastBoyGame.instance.gameUI.changeEnergy(-20),this.d=18,this.nochange=this.d,this.vy=0,this.body.velocity.y=this.vy,this._canHitting=!1,a.BeastBoyGame.instance.gameUI.currentEnergy<=0&&("BB"==this._currentHero?this.changeAnimation("hitdie"):this.goTransform("BB","die")),d=function(){"BB"==c._currentHero&&c.changeAnimation("hitdie")};break;case"hitdie":"BB"==this._currentHero&&this._visual.anchor.set(.446,.935),this._canHitting=!1,d=function(){setTimeout(function(){a.BeastBoyGame.instance.gameUI.manualDeth()},400)};break;case"monitor":"BB"==this._currentHero&&this._visual.anchor.set(.5,.978),this._canHitting=!1,this._usingAnicyng=!0,this.body.velocity.x=0,setTimeout(function(){a.SoundMixer.play("bb_ztyping",.4)},100),d=function(){};break;case"lift":"BB"==this._currentHero&&this._visual.anchor.set(.5,.978),this._canHitting=!1,this._usingAnicyng=!0,this.body.velocity.x=0,d=function(){};break;case"die":"BB"==this._currentHero&&this._visual.anchor.set(.5,.95),this._canHitting=!1,d=function(){setTimeout(function(){a.BeastBoyGame.instance.gameUI.manualDeth()},400)};break;case"fall":"BB"==this._currentHero&&this._visual.anchor.set(.5,.84),this._canHitting=!1,d=function(){}}null!=d?this._visual.animations.play(b).onComplete.add(function(){d()}):this._visual.animations.play(b)}},c.prototype.goLeft=function(a){void 0===a&&(a=!0),this._goL=a,this.go=-1,a||(0==this._goR?this.go=0:this.goRight())},c.prototype.goUp=function(a){void 0===a&&(a=!0),this.gojump=a,this._goU=a,this.goV=-1,a||(0==this._goD?this.goV=0:this.goDown())},c.prototype.goDown=function(a){void 0===a&&(a=!0),this._goD=a,this.goV=1,a||(0==this._goU?this.goV=0:this.goUp())},c.prototype.goRight=function(a){void 0===a&&(a=!0),this._goR=a,this.go=1,a||(0==this._goL?this.go=0:this.goLeft())},c.prototype.goTransform=function(b,c){var d=this;if(void 0===c&&(c=""),this._currentHero!=b&&!this._transformInUpdate&&!this._usingAnicyng){var e=null;if(this._numVertHorizCount=0,"HAWK"==this._currentHero||"BB"==this._currentHero&&"HAWK"!=b){e=this.game.make.sprite(0,0,"beastBoyAtlas","bb_stand_10001"),e.anchor.set(.5,.97),"CHEETAH"==b&&(e.frameName="cheetah_stand_10001",e.anchor.set(.6,.98)),this._visual.addChild(e),e.position.set(0,"HAWK"==this._currentHero?this._heroHitRect.y:0);var f=!1,g=!1,h=null,i=e.x;if(this.game.stage.updateTransform(),a.BeastBoyGame.instance.solidGroup.forEachAlive(function(b){if(a.BeastBoyGame.instance.checkOverlapWithSpriteAndSprite(e,b)){d._numVertHorizCount++,f=!0,h=b;var c=!1;i=e.x;var g=void 0;d.x<b.x+5?(g=e.worldPosition.x+d.game.camera.x+e.width*(1-e.anchor.x)-(b.worldPosition.x+d.game.camera.x)+1,c=!0):d.x>b.x+b.width-5&&(g=b.worldPosition.x+d.game.camera.x+b.width-(e.worldPosition.x+d.game.camera.x-e.width*e.anchor.x)+1,g*=-1,c=!0),c&&(1==d.scale.x?e.position.x-=g:e.position.x+=g,d.game.stage.updateTransform(),a.BeastBoyGame.instance.checkOverlapWithSpriteAndSprite(e,b)?e.position.x=i:f=!1)}},this),f||this._numVertHorizCount>1&&(f=!0,e.position.x=i,this._numVertHorizCount=0),f&&(e.position.set(e.x,e.y+(h.worldPosition.y+this.game.camera.y)-(e.worldPosition.y+this.game.camera.y-e.height*e.anchor.y)+1),this.game.stage.updateTransform(),a.BeastBoyGame.instance.solidGroup.forEachAlive(function(b){if(a.BeastBoyGame.instance.checkOverlapWithSpriteAndSprite(e,b)){d._numVertHorizCount++,g=!0;var c=!1,f=e.x,h=void 0;d.x<b.x+5?(h=e.worldPosition.x+d.game.camera.x+e.width*(1-e.anchor.x)-(b.worldPosition.x+d.game.camera.x)+1,c=!0):d.x>b.x+b.width-5&&(h=b.worldPosition.x+d.game.camera.x+b.width-(e.worldPosition.x+d.game.camera.x-e.width*e.anchor.x)+1,h*=-1,c=!0),c&&(1==d.scale.x?e.position.x-=h:e.position.x+=h,d.game.stage.updateTransform(),a.BeastBoyGame.instance.checkOverlapWithSpriteAndSprite(e,b)?e.position.x=f:g=!1)}},this)),g||this._numVertHorizCount>1&&(g=!0,e.position.x=i,this._numVertHorizCount=0),f&&g)return void e.destroy(!0)}this._transformInUpdate=!0,this.body.gravity.y=0,this.body.velocity.set(0,0);var j=1==this.scale.x?1:-1;this._transfFX.visible=!0,a.SoundMixer.play("bb_ztransform",.4),null!=e&&this._transfFX.position.set(e.x*j,e.y),this._transfFX.play("transform").onComplete.addOnce(function(){d._transfFX.visible=!1,"HAWK"==b&&(d.y-=50),"BB"==b&&"CHEETAH"==d._currentHero&&"die"==c&&(d.y-=10),null!=e&&("HAWK"==d._currentHero&&(d.y=e.worldPosition.y+d.game.camera.y),d.x+=e.x*j,e.destroy(!0)),d.changeHero(b,c),setTimeout(function(){d._transformInUpdate=!1},150)})}},Object.defineProperty(c.prototype,"runspeed",{get:function(){var a;switch(this._currentHero){case"BB":a=25*this.runspeeds[0];break;case"CHEETAH":a=25*this.runspeeds[1];break;case"HAWK":a=25*this.runspeeds[2]}return a},enumerable:!0,configurable:!0}),c.prototype.manualUpdate=function(){this._usingAnicyng||this._showHero&&(this._transformInUpdate||(this.inv?(this.body.velocity.x=this.xs,this.xs*=.92,this.d-=1*a.BeastBoyGame.GAME_SPEED_SCALE,this._alphaCounter++,this._alphaCounter>3&&(this._alphaCounter=0,1==this.alpha?this.alpha=0:this.alpha=1),this.d<0&&(a.BeastBoyGame.instance.gameUI.currentEnergy<=0||(this.hit=!1,this.inv=!1,this.alpha=1,this._currentHitDelayMode=!0,this.d=14))):(this.body.velocity.x=this.runspeed*this.go,"HAWK"!=this._currentHero?(this.gojump&&this.canjump&&!this.jump&&(this.canjump=!1,this.jump=!0,this.body.velocity.y=25*this.jumpforce),this.body.touching.down?!this.canjump&&this.jump&&(this.canjump=!0,this.jump=!1):(this.canjump=!1,this.jump=!0)):this.body.velocity.y=this.runspeed*this.goV,this.go>0?(this.hd=1,this.scale.set(1,1)):this.go<0&&(this.hd=2,this.scale.set(-1,1)),this.jump?"HAWK"!=this._currentHero?this.changeAnimation("jump"):this.changeAnimation("fly"):"HAWK"!=this._currentHero?0!=this.go?this.changeAnimation("run"):this.changeAnimation("stand"):this.changeAnimation("fly")),this.hit&&(this.inv||this.changeAnimation("hit")),this._currentHitDelayMode&&(this.d-=1*a.BeastBoyGame.GAME_SPEED_SCALE,this._alphaCounter++,this._alphaCounter>3&&(this._alphaCounter=0,1==this.alpha?this.alpha=0:this.alpha=1),this.d<0&&(this.alpha=1,this._currentHitDelayMode=!1))))},c.prototype.setPlayerHit=function(a){this.game.stage.updateTransform(),this.x-a.world.x<0?this.hitdir=1:this.hitdir=2,this.hit=!0},Object.defineProperty(c.prototype,"canHit",{get:function(){return this._canHitting&&!this._currentHitDelayMode},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hitBody",{get:function(){return this._heroHitRect},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"canUseElevator",{get:function(){return!this.jump&&!this.hit&&!this._transformInUpdate&&"BB"==this._currentHero},enumerable:!0,configurable:!0}),c.prototype.showPlayer=function(){var a=this;this._showHero=!0,this.game.physics.enable(this,Phaser.Physics.ARCADE),this.body.gravity.y=this.grav,this.body.collideWorldBounds=!0,this.alpha=1,this._usingAnicyng=!0,this.body.gravity.y=this.grav,this.body.setSize(this._visual.width,this._visual.height,-this._visual.width*this._visual.anchor.x,-this._visual.height*this._visual.anchor.y),setTimeout(function(){a._canHitting=!0,a._usingAnicyng=!1},150)},c.prototype.hidePlayer=function(){this._showHero=!1,this.body.gravity.y=0,this.body.collideWorldBounds=!0,this.alpha=0,this._canHitting=!1},c.prototype.isSuperDuperJumpAttack=function(){return this.canHit&&"CHEETAH"==this._currentHero&&this.jump},c.prototype.goPlayerToGame=function(){this._canHitting=!0,this._usingAnicyng=!1,this.changeAnimation("stand")},c}(b);a.heroBeastboy=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}
}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d){var e=b.call(this,a,c,d)||this;return e.die=!1,e._visual=e.game.make.sprite(0,0,"beastBoyAtlas","mine_10001"),e._visual.anchor.y=1,e._visual.animations.add("idle",Phaser.Animation.generateFrameNames("mine_1",1,2,"",4),25,!0),e._visual.play("idle"),e.addChild(e._visual),e}return __extends(c,b),c.prototype.manualUpdate=function(){this.die||this.inCamera&&a.BeastBoyGame.instance.checkBulletHitPlayer(this)&&(this.die=!0,this._visual.alpha=0,this.createBoom(-.7,-25.65,1))},c.prototype.createBoom=function(b,c,d){var e=this,f=this.game.make.sprite(b+this.width/2*this.scale.x,c-this.height/2,"cyborgHand","explode_10001");a.SoundMixer.play("bb_zboom1",.4),f.anchor.set(.5),f.scale.set(d),f.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!1),this.addChild(f),f.play("boom").onComplete.addOnce(function(){a.BeastBoyGame.instance.enemyRemove(e)})},Object.defineProperty(c.prototype,"hitBody",{get:function(){return this._visual},enumerable:!0,configurable:!0}),c}(b);a.mineEnemy=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d){var e=b.call(this,a,c,d)||this;return e._visual=e.game.make.sprite(0,0,"beastBoyBigAtlas","spider2_tall_10001"),e._visual.anchor.set(0,1),e.addChild(e._visual),e._visual.animations.add("idle",Phaser.Animation.generateFrameNames("spider2_tall_1",1,9,"",4),25,!0),e._visual.animations.add("die",Phaser.Animation.generateFrameNames("spider2_hit_1",1,35,"",4),25,!1),e._visual.play("idle"),e.range=200,e.xs=3,e.xmin=e.x,e.xmax=e.x+e.range,e.shootdelay=15,e.d=e.shootdelay,e._myHitRectBig=e.game.make.graphics(e._visual.width/2-18.4,-97.4-e._visual.height/8),e._myHitRectBig.beginFill(16777215,0),e._myHitRectBig.drawRect(0,0,35.2,99.45),e._myHitRectBig.endFill(),e.addChild(e._myHitRectBig),e._myHitRectSmall=e.game.make.graphics(e._visual.width/2-35,3.35-e._visual.height/8),e._myHitRectSmall.beginFill(16777215,0),e._myHitRectSmall.drawRect(0,0,70,3),e._myHitRectSmall.endFill(),e.addChild(e._myHitRectSmall),e.currentFrameName="",e.game.stage.updateTransform(),e}return __extends(c,b),c.prototype.manualUpdate=function(){var b=this;if(this.die)switch(this._visual.frameName){case"spider2_hit_10002":this.currentFrameName!=this._visual.frameName&&(this.currentFrameName=this._visual.frameName,this.createBoom(-3.35,-23.4,.8));break;case"spider2_hit_10005":this.currentFrameName!=this._visual.frameName&&(this.currentFrameName=this._visual.frameName,this.createBoom(11.7,-41.1,.6));break;case"spider2_hit_10009":this.currentFrameName!=this._visual.frameName&&(this.currentFrameName=this._visual.frameName,this.createBoom(35.45,37.75,1))}else this.x+=this.xs*a.BeastBoyGame.GAME_SPEED_SCALE,this.x>this.xmax?(this.x=this.xmax,this.xs=-this.xs,this._visual.scale.set(-1,1),this._visual.position.x-=this._visual.width):this.x<this.xmin&&(this.x=this.xmin,this.xs=-this.xs,this._visual.scale.set(1,1),this._visual.position.x=0),this.d-=1*a.BeastBoyGame.GAME_SPEED_SCALE,this.d<=0&&(this.d=this.shootdelay,Math.abs(a.BeastBoyGame.instance.gamePlayer.y-this.y)<20&&Math.abs(a.BeastBoyGame.instance.gamePlayer.x-this.x)<600&&(this.xs<0&&a.BeastBoyGame.instance.gamePlayer.x-this.x<0?a.BeastBoyGame.instance.bulletLaunch({x:53.2+this.x,y:-28.05+this.y},6,0):this.xs>0&&a.BeastBoyGame.instance.gamePlayer.x-this.x>0&&a.BeastBoyGame.instance.bulletLaunch({x:53.2+this.x,y:-28.05+this.y},5,0))),this.inCamera&&(a.BeastBoyGame.instance.cekhitattack(this._myHitRectBig,this._visual)?(this.die=!0,a.BeastBoyGame.instance.gameUI.addScore(400),this._visual.play("die").onComplete.addOnce(function(){b.game.add.tween(b).to({alpha:0},650,Phaser.Easing.Linear.None,!0,500).onComplete.addOnce(function(){a.BeastBoyGame.instance.enemyRemove(b)})}),this._visual.anchor.y=.93,this.game.stage.updateTransform(),a.BeastBoyGame.instance.gamePlayer.scale.x<0?this._visual.scale.x>0&&(this._visual.scale.set(-1,1),this._visual.position.x-=this._visual.width):this._visual.scale.x<0&&(this._visual.scale.set(1,1),this._visual.position.x=0)):a.BeastBoyGame.instance.checkBulletHitPlayer(this))},Object.defineProperty(c.prototype,"hitBody",{get:function(){return this._myHitRectSmall},enumerable:!0,configurable:!0}),c.prototype.createBoom=function(b,c,d){var e=this.game.make.sprite(b+this._visual.width/2*this._visual.scale.x,c-this._visual.height/2,"cyborgHand","explode_10001");e.anchor.set(.5),e.scale.set(d),e.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!1),this._visual.addChild(e),a.SoundMixer.play("bb_zboom1",.4),e.play("boom").onComplete.addOnce(function(){e.destroy(!0)})},c}(b);a.redEnemy=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d,e,f){var g=b.call(this,a,c,d)||this;return g._visual=g.game.make.sprite(0,0,e,f),g._visual.anchor.set(.5,1),g.addChild(g._visual),g._blast=g.game.make.sprite(0,0,e,"bolt_10001"),g._blast.anchor.set(.5,.11),g._visual.addChild(g._blast),g._blast.animations.add("idle",Phaser.Animation.generateFrameNames("bolt_1",1,4,"",4),25,!0),g._blast.play("idle"),g._blast.alpha=0,g.range=200,g.xs=0,g.xmin=g.x-g.range,g.xmax=g.x+g.range,g.blastdelay=0,g.rund=0,g.runtime=150,g.shotdelay=10,g.d=g.shotdelay,g._oldX=g.x,g.run=!1,g._myHitRect=g.game.make.graphics(-20.65,-27.85),g._myHitRect.beginFill(16777215,0),g._myHitRect.drawRect(0,0,41.7,22.85),g._myHitRect.endFill(),g.addChild(g._myHitRect),g._myBoltRect=g.game.make.graphics(-10.85,-11),g._myBoltRect.beginFill(16777215,0),g._myBoltRect.drawRect(0,0,21.65,158.85),g._myBoltRect.endFill(),g.addChild(g._myBoltRect),g.currentHitMod="",g}return __extends(c,b),c.prototype.manualUpdate=function(){this.run&&(a.BeastBoyGame.instance.gamePlayer.x>this.x+this.runspeed?this.xs=this.runspeed:a.BeastBoyGame.instance.gamePlayer.x<this.x-this.runspeed?this.xs=-this.runspeed:this.xs=0,this.x+=this.xs*a.BeastBoyGame.GAME_SPEED_SCALE,this.x>this.xmax?(this.x=this.xmax,this.xs=-this.xs):this.x<this.xmin&&(this.x=this.xmin,this.xs=-this.xs),this.d-=1*a.BeastBoyGame.GAME_SPEED_SCALE,this.d<=0&&(this.d=this.shotdelay,this._blast.alpha=1,this.blastdelay=4),this.blastdelay>0&&(this.blastdelay-=1*a.BeastBoyGame.GAME_SPEED_SCALE,this.inCamera&&(this.currentHitMod="Z2",a.BeastBoyGame.instance.checkBulletHitPlayer(this)),this.blastdelay<=0&&(this._blast.alpha=0)),this.rund-=1*a.BeastBoyGame.GAME_SPEED_SCALE,this.rund<20&&(this.x=this._oldX+(this.x-this._oldX)/4.88),this.rund<0&&(this.run=!1,this._blast.alpha=0)),!this.run&&a.BeastBoyGame.instance.checkOverlapWithSpriteAndSpriteForEnemy(this._myBoltRect,a.BeastBoyGame.instance.gamePlayer.hitBody)&&this.inCamera&&(this.run=!0,this.rund=this.runtime,this.blastdelay=0,this.d=this.shotdelay),this.currentHitMod="Z1",null!=this._myHitRect&&this.inCamera&&a.BeastBoyGame.instance.checkBulletHitPlayer(this)},Object.defineProperty(c.prototype,"hitBody",{get:function(){switch(this.currentHitMod){case"Z1":return this._myHitRect;case"Z2":return this._myBoltRect}},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"runspeed",{get:function(){return 10},enumerable:!0,configurable:!0}),c}(b);a.spiderBolt=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c,d,e){var f=b.call(this,c,d,e+130)||this;return f._oldX=300,f._oldY=200,f._blinked=!1,f._alphaCounter=4,f._alphaCounterMax=4,f.attacdelay=50,f.energy=60,f.d=0,f.b1=0,f.ys=0,f.backoff=0,f._visualStand=f.game.make.sprite(0,0,"atlasAtlas","atlas_stand_1"),f._visualStand.anchor.set(.5),f.addChild(f._visualStand),f._visualAttack=f.game.make.sprite(0,0,"atlasAtlas","atlas_punch_10001"),f._visualAttack.anchor.set(.35,.24),f._visualAttack.animations.add("attack",Phaser.Animation.generateFrameNames("atlas_punch_1",1,25,"",4),22,!1),f.addChild(f._visualAttack),f._visualAttack.visible=!1,f._visualFall=f.game.make.sprite(0,-18,"atlasAtlas","atlas_fall_10001"),f._visualFall.anchor.set(.55,.51),f._visualFall.animations.add("fall",Phaser.Animation.generateFrameNames("atlas_fall_1",1,27,"",4),22,!1),f.addChild(f._visualFall),f._visualFall.visible=!1,f._platform=f.game.make.sprite(0,43,"atlasAtlas","atlas_platform_10001"),f._platform.anchor.set(.5,.37),f._platform.animations.add("idle",Phaser.Animation.generateFrameNames("atlas_platform_1",1,2,"",4),22,!0),f._platform.play("idle"),f.addChild(f._platform),f._explode=f.game.make.sprite(0,-18,"cyborgHand","explode_10001"),f._explode.anchor.set(.5),f._explode.scale.set(.5),f._explode.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!1),f.addChild(f._explode),f._explode.visible=!1,f.alpha=.1,f.showBoss(),f._currentState="open",f.hit=!1,a.SoundMixer.play("104_zboss",.4,!0,!0),f}return __extends(c,b),c.prototype.showBoss=function(){var a=this;this.game.add.tween(this).to({alpha:1,y:200},880,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){a.changeState("fly")})},c.prototype.changeState=function(b){switch(b){case"fly":this.d=this.attacdelay,this._visualStand.visible=!0,this._visualFall.visible=!1,this._visualAttack.visible=!1,this._platform.parent.setChildIndex(this._platform,this._platform.parent.children.length-1);break;case"attack":this._punchSound=!1,this.d=25,this._visualStand.visible=!1,this._visualFall.visible=!1,this._visualAttack.visible=!0,this._visualAttack.animations.stop("attack"),this._visualAttack.play("attack"),this._platform.parent.setChildIndex(this._platform,0),this.ys=-10,this.backoff=0,Math.random()>.5&&(this.scale.x=-1);break;case"fall":this.d=85,this._visualStand.visible=!1,this._visualFall.visible=!0,this._visualAttack.visible=!1,this._explode.visible=!0,this._visualFall.play("fall"),this._explode.play("boom"),a.CyborgGame.instance.addScore(50*a.CyborgGame.instance.point),a.SoundMixer.play("97_zboom3",.6),this.ys=-4,this._platform.parent.setChildIndex(this._platform,this._platform.parent.children.length-1)}this._visualStand.alpha=1,this._blinked=!1,this._currentState=b},c.prototype.update=function(){var b=this;switch(this._currentState){case"open":this.b1+=1*a.CyborgGame.GAME_SPEED_SCALE,this.x=this._oldX+120*Math.sin(.08*this.b1),this.y=this._oldY+10*Math.sin(.3*this.b1);break;case"fly":if(this.b1+=1*a.CyborgGame.GAME_SPEED_SCALE,this.x=this._oldX+120*Math.sin(.08*this.b1),this.y=this._oldY+10*Math.sin(.3*this.b1),this.d-=1*a.CyborgGame.GAME_SPEED_SCALE,this.d<=0)return void this.changeState("attack");a.CyborgGame.instance.cekhita(),this.hit&&(this.hit=!1,a.CyborgGame.instance.addScore(a.CyborgGame.instance.point),this.energy--,this._blinked=!0,this.energy<0&&this.changeState("fall")),this._blinked?++this._alphaCounter>4&&(this._alphaCounter=0,1==this._visualStand.alpha?this._visualStand.alpha=0:this._visualStand.alpha=1,--this._alphaCounterMax<0&&(this._blinked=!1)):(this._visualStand.alpha=1,this._alphaCounter=4,this._alphaCounterMax=4);break;case"attack":if(this.d-=1*a.CyborgGame.GAME_SPEED_SCALE,this.d<12&&(a.CyborgGame.instance.changeScreenPosition(this.game.rnd.integerInRange(0,10),this.game.rnd.integerInRange(0,10)),this.d>=10)){Math.abs(a.CyborgGame.instance.cbx-this.x)<150&&(a.CyborgGame.instance.hit=1)}this.d<0&&(a.CyborgGame.instance.changeScreenPosition(0,0),this.scale.x=1,this.changeState("fly")),"atlas_punch_10013"!=this._visualAttack.frameName||this._punchSound||(this._punchSound=!0,a.SoundMixer.play("98_zpunch",.6));break;case"fall":if(this._visualFall.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys<20&&(this.ys+=1*a.CyborgGame.GAME_SPEED_SCALE),this.b1+=1*a.CyborgGame.GAME_SPEED_SCALE,this.y=this._oldY+5*Math.sin(.3*this.b1),this.d-=1*a.CyborgGame.GAME_SPEED_SCALE,55==this.d&&a.SoundMixer.play("99_zfall",.6),this.d<0){var c=this.game.add.graphics(0,0);c.beginFill(0),c.drawRect(0,0,600,400),c.endFill(),c.alpha=0,this.game.add.tween(c).to({alpha:1},300,Phaser.Easing.Sinusoidal.Out,!0,400).onComplete.addOnce(function(){a.Boot.CYBORG_GAME_WIN=!0,b.game.state.start("CyborgGameEnd",!0)})}}},Object.defineProperty(c.prototype,"hit",{get:function(){return this._hit},set:function(a){this._hit=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"_visual",{get:function(){return this._visualStand},enumerable:!0,configurable:!0}),c}(b);a.atlasBoss=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c,d,e,f,g,h){var i=b.call(this,c,d,e)||this;return i._visual=i.game.make.sprite(0,0,"cyborgHand","blast_10001"),i._visual.anchor.set(.5,.34),i._visual.animations.add("idle",Phaser.Animation.generateFrameNames("blast_1",1,2,"",4),25,!0),i._visual.play("idle"),i.addChild(i._visual),i.ska=1,i._dis=0,i.skav=.9,i.swap=0,i.maxdistance=.3*a.CyborgGame.DISTANCE,i._aimrange=a.CyborgGame.AIMRANGE,i.xs=0,i.ys=f*a.CyborgGame.GAME_SPEED_SCALE,i._ypoint=g,i._visual.scale.y=h/100,i.frameCounter=0,i.frameStep=1,i.frameMax=2,a.SoundMixer.play("102_zshot",.2),i}return __extends(c,b),c.prototype.update=function(){this.x+=this.xs,this.y+=this.ys,this.y<200?this.ys+=.2*a.CyborgGame.GAME_SPEED_SCALE:this.ys+=.15*a.CyborgGame.GAME_SPEED_SCALE,this.frameCounter>=this.frameMax?(this.frameCounter=0,this.ska>.2&&(this.ska*=this.skav,this.skav*=.99,this.scale.x=this.ska,this.scale.y=this.ska),this.ska<.2&&(this.swap||(this.swap=1)),this._aimrange*=.94):this.frameCounter+=this.frameStep,this._dis+=2*a.CyborgGame.GAME_SPEED_SCALE,this._dis>this.maxdistance-20&&(this.alpha-=.1*a.CyborgGame.GAME_SPEED_SCALE),this._dis>this.maxdistance&&this.removeBullet()},c.prototype.removeBullet=function(){a.CyborgGame.instance.removeBullet(this),this.destroy(!0)},Object.defineProperty(c.prototype,"dis",{get:function(){return this._dis},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"ypoint",{get:function(){return this._ypoint},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"aimrange",{get:function(){return this._aimrange},enumerable:!0,configurable:!0}),c}(b);a.blastShoot=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c,d,e){var f=b.call(this,c,d,e)||this;return f.anchor.set(.5),f._cyborgHand=new a.cyborgHand(f.game,39.55,-27.3),f.addChild(f._cyborgHand),f._cBody=f.game.make.sprite(0,0,"cyborgHand","cyborg_run_10001"),f._cBody.anchor.set(.71,.49),f._cBody.animations.add("run",Phaser.Animation.generateFrameNames("cyborg_run_1",1,9,"",4),25,!0),f._cBody.play("run"),f._cyborgFrameName="",f._alphaCounter=0,f.addChild(f._cBody),f}return __extends(c,b),c.prototype.update=function(){if(this._cyborgFrameName!=this._cBody.frameName)switch(this._cyborgFrameName=this._cBody.frameName,this._cyborgFrameName){case"cyborg_run_10001":this._cyborgHand.position.set(39.55,-27.3);break;case"cyborg_run_10002":case"cyborg_run_10003":this._cyborgHand.position.set(39.55,-24.3);break;case"cyborg_run_10004":this._cyborgHand.position.set(39.55,-30.3);break;case"cyborg_run_10005":this._cyborgHand.position.set(39.3,-31.65);break;case"cyborg_run_10006":this._cyborgHand.position.set(38.05,-31.3);break;case"cyborg_run_10007":this._cyborgHand.position.set(38.55,-28.3);break;case"cyborg_run_10008":this._cyborgHand.position.set(37.9,-28.7);break;case"cyborg_run_10009":this._cyborgHand.position.set(36.55,-30.3)}a.CyborgGame.instance.hit?++this._alphaCounter>3&&(this._alphaCounter=0,1==this.alpha?this.alpha=0:this.alpha=1):(this.alpha=1,this._alphaCounter=0)},c.prototype.setHandPosition=function(a){this._cyborgHand.setHandPosition(a)},c.prototype.shootPlay=function(){this._cyborgHand.shootPlay()},c}(b);a.cyborgBody=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d){var e=b.call(this,a,c,d)||this;return e._yMin=80,e._yMax=300,e._yRange=e._yMax-e._yMin,e._frameCount=20,e._startShoot=!1,e._yMousePoint=0,e._hU_startPos=new Phaser.Point(11,-32.05),e._hU_endPos=new Phaser.Point(4.25,-64.9),e._hM_startPos=new Phaser.Point(14.05,-11.95),e._hM_endPos=new Phaser.Point(9.3,-33.95),e._hM_startScale=new Phaser.Point(.999,.958),e._hM_endScale=new Phaser.Point(1,1),e._hD_startAngle=0,e._hD_maxAngle=-25,e._hand_up=e.game.make.sprite(e._hU_startPos.x,e._hU_startPos.y,"cyborgHand","c_hand30001"),e._hand_up.animations.add("idle",Phaser.Animation.generateFrameNames("c_hand3",1,1,"",4),25,!0),e._hand_up.animations.add("shoot",Phaser.Animation.generateFrameNames("c_hand3",1,8,"",4),25,!0),e._hand_up.play("idle",25,!0),e._hand_up.anchor.set(.49),e.addChild(e._hand_up),e._hand_midle=e.game.make.sprite(e._hM_startPos.x,e._hM_startPos.y,"cyborgHand","c_hand20001"),e._hand_midle.animations.add("idle",Phaser.Animation.generateFrameNames("c_hand2",1,1,"",4),25,!0),e._hand_midle.animations.add("shoot",Phaser.Animation.generateFrameNames("c_hand2",1,5,"",4),25,!0),e._hand_midle.play("idle",25,!0),e._hand_midle.scale=e._hM_startScale,e._hand_midle.anchor.set(.51,.52),e.addChild(e._hand_midle),e._hand_down=e.game.make.sprite(5.35,-9.45,"cyborgHand","c_hand1"),e._hand_down.scale.set(.999,1.08),e._hand_down.angle=e._hD_startAngle,e._hand_down.anchor.set(.486,.415),e.addChild(e._hand_down),e}return __extends(c,b),c.prototype.setHandPosition=function(b){this._yMousePoint=b,b>this._yMax&&(b=this._yMax),b<this._yMin&&(b=this._yMin),b-=100,b=Math.floor((this._yRange-b)/this._yRange*this._frameCount)-1,a.CyborgGame.instance.aim=b+2;var c=b/this._frameCount;this._hand_down.angle=this._hD_startAngle+(this._hD_maxAngle-this._hD_startAngle)*c,this._hand_midle.position.x=this._hM_startPos.x+(this._hM_endPos.x-this._hM_startPos.x)*c,this._hand_midle.position.y=this._hM_startPos.y+(this._hM_endPos.y-this._hM_startPos.y)*c,this._hand_midle.scale.x=this._hM_startScale.x+(this._hM_endScale.x-this._hM_startScale.x)*c,this._hand_midle.scale.y=this._hM_startScale.y+(this._hM_endScale.y-this._hM_startScale.y)*c,this._hand_up.position.x=this._hU_startPos.x+(this._hU_endPos.x-this._hU_startPos.x)*c,this._hand_up.position.y=this._hU_startPos.y+(this._hU_endPos.y-this._hU_startPos.y)*c},c.prototype.shootPlay=function(){var b=this,c=this.worldPosition.x+this._hand_up.x,d=this.worldPosition.y-25-2*a.CyborgGame.instance.aim,e=-3-.6*a.CyborgGame.instance.aim,f=70+a.CyborgGame.instance.aim,g=this._yMousePoint;g<120?g=120:g>275&&(g=275);var h=new a.blastShoot(this.game,c,d,e,g,f);a.CyborgGame.instance.createBullet(h),this._hand_up.play("shoot",25,!1).onComplete.addOnce(function(){b._hand_up.play("idle",25,!1)}),this._hand_midle.play("shoot",25,!1).onComplete.addOnce(function(){b._hand_midle.play("idle",25,!1)})},c}(b);a.cyborgHand=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c,d){void 0===d&&(d="CYBORG");var e=b.call(this,c,0,5)||this;switch(e._currentUIMode=d,e._currentScore=0,e.energymax=100,e.energy=e.energymax,"BEASTBOY"==e._currentUIMode&&(e._currentScore=a.BeastBoyGame.currentGameScore),e._scoreTitle=e.game.make.text(76.5,9.2,"SCORE",{font:"RedFive",fontSize:"14px",stroke:"#000000",strokeThickness:1,fill:"#FFCC00"}),e._scoreTitle.fontWeight="italic",e._scoreTitle.align="right",e._scoreTitle.anchor.set(1,.5),e.addChild(e._scoreTitle),e._scoreCount=e.game.make.text(78.5,10.2,e._currentScore+"",{font:"RedFive",fontSize:"20px",stroke:"#000000",strokeThickness:2,fill:"#FFFFFF"}),e._scoreCount.fontWeight="italic",e._scoreCount.align="left",e._scoreCount.anchor.set(0,.5),e.addChild(e._scoreCount),e._liveTitle=e.game.make.text(380,9.2,d+"",{font:"RedFive",fontSize:"14px",stroke:"#000000",strokeThickness:1,fill:"#FFCC00"}),e._liveTitle.fontWeight="italic",e._liveTitle.align="right",e._liveTitle.anchor.set(1,.5),e.addChild(e._liveTitle),e._energyBarBack=e.game.make.sprite(488,9.2,"cyborgHand","energybar_bg_10001"),e._energyBarBack.anchor.set(.5),e.addChild(e._energyBarBack),e._energyBarMidle=e.game.make.sprite(100,0,"cyborgHand","ebar_back"),e._energyBarMidle.anchor.set(1,.5),e._energyBarMidle.scale.set(1.02,1),e._energyBarBack.addChild(e._energyBarMidle),e._energyBarMidleGraph=e.game.make.graphics(-e._energyBarBack.width/2,-e._energyBarBack.height/2),e._energyBarMidleGraph.beginFill(16777215,.5),e._energyBarMidleGraph.drawPolygon([new Phaser.Point(8,0),new Phaser.Point(209,0),new Phaser.Point(201,12),new Phaser.Point(0,12)]),e._energyBarMidleGraph.endFill(),e._energyBarBack.addChild(e._energyBarMidleGraph),e._energyBarMidle.mask=e._energyBarMidleGraph,e._energyBarUp=e.game.make.sprite(0,0,"cyborgHand","energybar_up_10001"),e._energyBarUp.anchor.set(.5),e._energyBarUp.animations.add("hit",Phaser.Animation.generateFrameNames("energybar_up_1",1,10,"",4),25,!1),e._energyBarBack.addChild(e._energyBarUp),e._currentUIMode){case"CYBORG":e._progressBarBG=e.game.make.sprite(14,382,"cyborgHand","progress_bar"),e._progressBarBG.anchor.set(.5,.96),e.addChild(e._progressBarBG),e._progressBarHead=e.game.make.sprite(0,0,"cyborgHand","progress_bar_head"),e._progressBarHead.anchor.set(.5),e._progressBarBG.addChild(e._progressBarHead),e._len=120,e._sisa=0;break;case"BEASTBOY":7!=a.BeastBoyGame.currentGameLevel&&(e._progressBarBG=e.game.make.sprite(27.25,350.3,"beastBoyAtlas","map_1000"+a.BeastBoyGame.currentGameLevel),e._progressBarBG.anchor.set(.5,.5),e.addChild(e._progressBarBG))}return e}return __extends(c,b),c.prototype.updateProgress=function(a,b){this._sisa!=a&&(this._sisa=a,this._progressBarHead.y=-(b-a)/b*this._len)},c.prototype.addScore=function(b){this._currentScore+=b,this._scoreCount.text=this._currentScore+"",a.Boot.CYBORG_GAME_SCORE=this._currentScore},c.prototype.changeEnergy=function(a,b){void 0===b&&(b=!1),this.energy+=a,this.energy>this.energymax&&(this.energy=this.energymax),this.energy<0&&(this.energy=0),b||this._energyBarUp.play("hit");Math.floor(this.energy/this.energymax*100);if(this._energyBarMidle.x+=2*a,this._energyBarMidle.x>100&&(this._energyBarMidle.x=100),this._energyBarMidle.x<-100&&(this._energyBarMidle.x=-100),0==this.energy)switch(this._currentUIMode){case"CYBORG":this.manualDeth()}},c.prototype.gotoEndScreen=function(){switch(this._currentUIMode){case"CYBORG":a.Boot.CYBORG_GAME_WIN=!1,this.game.state.start("CyborgGameEnd",!0);break;case"BEASTBOY":a.Boot.BEASTBOY_GAME_WIN=!1,this.game.camera.follow(null),a.BeastBoyGame.instance.gamePlayer.destroy(!0),this.game.state.start("BBoyEnd",!0,!1,this.currentScore,!1)}},c.prototype.manualDeth=function(){var a=this;console.log("MAN DA");var b=this.game.add.graphics(0,0);b.beginFill(0),b.drawRect(0,0,600,400),b.endFill(),b.alpha=0,b.fixedToCamera=!0,this.game.add.tween(b).to({alpha:1},300,Phaser.Easing.Sinusoidal.Out,!0).onComplete.addOnce(function(){a.gotoEndScreen()})},Object.defineProperty(c.prototype,"currentEnergy",{get:function(){return this.energy},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"currentScore",{get:function(){return this._currentScore},enumerable:!0,configurable:!0}),c}(b);a.cyborgUI=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,c,0,0)||this;return d.anchor.set(.5),d._visual=d.game.make.sprite(0,0,"cyborgHand","bomb_10001"),d._visual.anchor.set(.5),d._visual.animations.add("idle",Phaser.Animation.generateFrameNames("bomb_1",1,2,"",4),25,!0),d._visual.play("idle"),d.addChild(d._visual),d._explode=d.game.make.sprite(0,0,"cyborgHand","explode_10001"),d._explode.anchor.set(.5),d._explode.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!0),d._explode.visible=!1,d.addChild(d._explode),d.x=150+d.game.rnd.integerInRange(0,299),d.y=150+d.game.rnd.integerInRange(0,99),d.scale.x=.15,d.scale.y=.15,d.ys=-5,d.dispass=-2*a.CyborgGame.GAME_SPEED_SCALE,d.ro=5,d._dis=a.CyborgGame.DISTANCE,d._statusExplode=!1,d._hit=!1,d}return __extends(c,b),c.prototype.update=function(){this._statusExplode?(this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.1*a.CyborgGame.GAME_SPEED_SCALE):(this.angle+=this.ro*a.CyborgGame.GAME_SPEED_SCALE,this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.2*a.CyborgGame.GAME_SPEED_SCALE,this._dis+=this.dispass,this.scale.x*=1.015,this.scale.y*=1.015,this._dis<0&&(this._dis=0,this.y>300&&(a.SoundMixer.play("97_zboom3",.3),Math.abs(a.CyborgGame.instance.cbx-this.x)<a.CyborgGame.instance.bombrange&&(a.CyborgGame.instance.hit=1),this.scale.x*=2,this.scale.y*=2,this.explodeFunc())),a.CyborgGame.instance.cekhit(this),this._hit&&(a.CyborgGame.instance.addScore(a.CyborgGame.instance.point),this.explodeFunc(),a.SoundMixer.play("96_zboom",.3)))},c.prototype.explodeFunc=function(){var b=this;this._statusExplode=!0,this._visual.visible=!1,this._explode.visible=!0,this._explode.play("boom",25,!1).onComplete.addOnce(function(){a.CyborgGame.instance.removeEnemy(b,"enemyBomb1"),b.destroy()})},Object.defineProperty(c.prototype,"hit",{set:function(a){this._hit=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dis",{get:function(){return this._dis},enumerable:!0,configurable:!0}),c}(b);a.enemyBomb=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,c,0,0)||this;return d.anchor.set(.5),d._visual=d.game.make.sprite(0,0,"cyborgHand","bomb2_10001"),d._visual.anchor.set(.5),d._visual.animations.add("idle",Phaser.Animation.generateFrameNames("bomb2_1",1,2,"",4),25,!0),d._visual.play("idle"),d.addChild(d._visual),d._explode=d.game.make.sprite(0,0,"cyborgHand","explode_10001"),d._explode.anchor.set(.5),d._explode.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!0),d._explode.visible=!1,d.addChild(d._explode),d.x=170+d.game.rnd.integerInRange(0,279),d.y=200,d.oldX=d.x,d.scale.x=.1,d.scale.y=.1,d.ys=-5,d.dispass=-1.4*a.CyborgGame.GAME_SPEED_SCALE,d.ro=7,d._dis=a.CyborgGame.DISTANCE,d.a=0,d._statusExplode=!1,d._hit=!1,d}return __extends(c,b),c.prototype.update=function(){this._statusExplode?(this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.1*a.CyborgGame.GAME_SPEED_SCALE):(this.angle+=this.ro*a.CyborgGame.GAME_SPEED_SCALE,this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.a+=1*a.CyborgGame.GAME_SPEED_SCALE,this.x=this.oldX+100*Math.sin(.1*this.a),this.ys+=.2*a.CyborgGame.GAME_SPEED_SCALE,this._dis+=this.dispass,this.scale.x*=1.015,this.scale.y*=1.015,this._dis<0&&(this._dis=0,this.y>280&&(a.SoundMixer.play("97_zboom3",.3),Math.abs(a.CyborgGame.instance.cbx-this.x)<a.CyborgGame.instance.bombrange&&(a.CyborgGame.instance.hit=1),this.scale.x*=2,this.scale.y*=2,this.explodeFunc())),a.CyborgGame.instance.cekhit(this),this._hit&&(a.CyborgGame.instance.addScore(a.CyborgGame.instance.point),this.explodeFunc(),a.SoundMixer.play("96_zboom",.3)))},c.prototype.explodeFunc=function(){var b=this;this._statusExplode=!0,this._visual.visible=!1,this._explode.visible=!0,this._explode.play("boom",25,!1).onComplete.addOnce(function(){a.CyborgGame.instance.removeEnemy(b,"enemyBomb2"),b.destroy()})},Object.defineProperty(c.prototype,"hit",{set:function(a){this._hit=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dis",{get:function(){return this._dis},enumerable:!0,configurable:!0}),c}(b);a.enemyBomb2=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,c,0,0)||this;return d.anchor.set(.5),d._visual=d.game.make.sprite(0,0,"cyborgHand","bomb3_10001"),d._visual.anchor.set(.5),d._visual.animations.add("idle",Phaser.Animation.generateFrameNames("bomb3_1",1,2,"",4),25,!0),d._visual.play("idle"),d.addChild(d._visual),d._explode=d.game.make.sprite(0,0,"cyborgHand","explode_10001"),d._explode.anchor.set(.5),d._explode.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!0),d._explode.visible=!1,d.addChild(d._explode),d.x=200+d.game.rnd.integerInRange(0,199),d.y=200,d.oldX=d.x,d.a=0,d.scale.x=.1,d.scale.y=.1,d.ys=-5,d.dispass=-2*a.CyborgGame.GAME_SPEED_SCALE,d._dis=a.CyborgGame.DISTANCE,d._statusExplode=!1,d._hit=!1,d}return __extends(c,b),c.prototype.update=function(){this._statusExplode?(this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.1*a.CyborgGame.GAME_SPEED_SCALE):(this.angle+=30*a.CyborgGame.GAME_SPEED_SCALE,this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.2*a.CyborgGame.GAME_SPEED_SCALE,this._dis+=this.dispass,this.a+=1*a.CyborgGame.GAME_SPEED_SCALE,this.x=this.oldX+50*Math.sin(.3*this.a),this.scale.x*=1.015,this.scale.y*=1.015,this._dis<0&&(this._dis=0,this.y>300&&(a.SoundMixer.play("97_zboom3",.3),Math.abs(a.CyborgGame.instance.cbx-this.x)<a.CyborgGame.instance.bombrange&&(a.CyborgGame.instance.hit=1),this.scale.x*=3,this.scale.y*=3,this.explodeFunc())),a.CyborgGame.instance.cekhit(this),this._hit&&(a.CyborgGame.instance.addScore(a.CyborgGame.instance.point),this.explodeFunc(),a.SoundMixer.play("96_zboom",.3)))},
c.prototype.explodeFunc=function(){var b=this;console.log("BOMB DIS: "+this.dis),this._statusExplode=!0,this._visual.visible=!1,this._explode.visible=!0,this._explode.play("boom",25,!1).onComplete.addOnce(function(){a.CyborgGame.instance.removeEnemy(b,"enemyBomb3"),b.destroy()})},Object.defineProperty(c.prototype,"hit",{set:function(a){this._hit=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dis",{get:function(){return this._dis},enumerable:!0,configurable:!0}),c}(b);a.enemyBomb3=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,c,0,0)||this;return d.anchor.set(.5),d._visual=d.game.make.sprite(0,0,"cyborgHand","bomb_10001"),d._visual.anchor.set(.5),d._visual.animations.add("idle",Phaser.Animation.generateFrameNames("bomb4_1",1,2,"",4),25,!0),d._visual.play("idle"),d.addChild(d._visual),d._explode=d.game.make.sprite(0,0,"cyborgHand","explode_10001"),d._explode.anchor.set(.5),d._explode.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!0),d._explode.visible=!1,d.addChild(d._explode),d.x=150+d.game.rnd.integerInRange(0,299),d.y=200,d.scale.x=.15,d.scale.y=.15,d.ys=-5,d.dispass=-2*a.CyborgGame.GAME_SPEED_SCALE,d.ro=5,d._dis=a.CyborgGame.DISTANCE,d._statusExplode=!1,d._hit=!1,d}return __extends(c,b),c.prototype.update=function(){if(this._statusExplode)this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.1*a.CyborgGame.GAME_SPEED_SCALE;else if(this.angle+=this.ro*a.CyborgGame.GAME_SPEED_SCALE,this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.2*a.CyborgGame.GAME_SPEED_SCALE,this._dis+=this.dispass,this.scale.x*=1.015,this.scale.y*=1.015,this._dis<0&&(this._dis=0,this.y>300&&(a.SoundMixer.play("97_zboom3",.3),Math.abs(a.CyborgGame.instance.cbx-this.x)<a.CyborgGame.instance.bombrange&&(a.CyborgGame.instance.hit=1),this.scale.x*=2,this.scale.y*=2,this.explodeFunc())),a.CyborgGame.instance.cekhit(this),this._hit){a.SoundMixer.play("96_zboom",.3);for(var b=[this.x-10,this.x+10],c=[-4,4],d=0;d<2;d++)a.CyborgGame.instance.createSubBomb(this.ys,c[d],.5*this.scale.x,.5*this.scale.y,b[d],this.y,.5*this.dis);a.CyborgGame.instance.addScore(a.CyborgGame.instance.point),this.explodeFunc()}},c.prototype.explodeFunc=function(){var b=this;this._statusExplode=!0,this._visual.visible=!1,this._explode.visible=!0,this._explode.play("boom",25,!1).onComplete.addOnce(function(){a.CyborgGame.instance.removeEnemy(b,"enemyBomb4"),b.destroy()})},Object.defineProperty(c.prototype,"hit",{set:function(a){this._hit=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dis",{get:function(){return this._dis},enumerable:!0,configurable:!0}),c}(b);a.enemyBomb4=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c,d,e,f,g,h,i,j){var k=b.call(this,c,d,e)||this;return k.anchor.set(.5),k._visual=k.game.make.sprite(0,0,"cyborgHand","bomb_10001"),k._visual.anchor.set(.5),k._visual.animations.add("idle",Phaser.Animation.generateFrameNames("bomb4b_1",1,2,"",4),25,!0),k._visual.play("idle"),k.addChild(k._visual),k._explode=k.game.make.sprite(0,0,"cyborgHand","explode_10001"),k._explode.anchor.set(.5),k._explode.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!0),k._explode.visible=!1,k.addChild(k._explode),k.scale.x=h,k.scale.y=i,k.xs=f,k.ys=g-2,k.dispass=-2*a.CyborgGame.GAME_SPEED_SCALE,k.ro=5,k._dis=j+40,k._statusExplode=!1,k._hit=!1,k}return __extends(c,b),c.prototype.update=function(){this._statusExplode?(this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.1*a.CyborgGame.GAME_SPEED_SCALE):(this.angle+=this.ro*a.CyborgGame.GAME_SPEED_SCALE,this.x+=this.xs*a.CyborgGame.GAME_SPEED_SCALE,this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.2*a.CyborgGame.GAME_SPEED_SCALE,this._dis+=this.dispass,this.scale.x*=1.015,this.scale.y*=1.015,this._dis<0&&(this._dis=0,this.y>300&&(a.SoundMixer.play("97_zboom3",.3),Math.abs(a.CyborgGame.instance.cbx-this.x)<a.CyborgGame.instance.bombrange&&(a.CyborgGame.instance.hit=1),this.scale.x*=2,this.scale.y*=2,this.explodeFunc())),a.CyborgGame.instance.cekhit(this),this._hit&&(a.CyborgGame.instance.addScore(a.CyborgGame.instance.point),this.explodeFunc(),a.SoundMixer.play("96_zboom",.3)))},c.prototype.explodeFunc=function(){var b=this;this._statusExplode=!0,this._visual.visible=!1,this._explode.visible=!0,this._explode.play("boom",25,!1).onComplete.addOnce(function(){a.CyborgGame.instance.removeEnemy(b,"enemyBomb4b"),b.destroy()})},Object.defineProperty(c.prototype,"hit",{set:function(a){this._hit=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dis",{get:function(){return this._dis},enumerable:!0,configurable:!0}),c}(b);a.enemyBomb4b=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,c,0,0)||this;return d.anchor.set(.5),d._visual=d.game.make.sprite(0,0,"cyborgHand","bonus_10001"),d._visual.anchor.set(.5),d.addChild(d._visual),d._explode=d.game.make.sprite(0,0,"cyborgHand","explode_10001"),d._explode.anchor.set(.5),d._explode.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!0),d._explode.visible=!1,d.addChild(d._explode),Math.random()>.5?(d.x=100,d.xs=2,d.xsa=.1):(d.x=500,d.xs=-2,d.xsa=-.1),d.y=280,d.scale.x=.15,d.scale.y=.15,d.ys=-2.5,d.dispass=-2*a.CyborgGame.GAME_SPEED_SCALE,d.d=60,d._dis=a.CyborgGame.DISTANCE,d.alpha=0,d._statusExplode=!1,d._hit=!1,d}return __extends(c,b),c.prototype.update=function(){if(this._statusExplode)this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.1*a.CyborgGame.GAME_SPEED_SCALE;else{if(this.alpha<1&&(this.alpha+=.1*a.CyborgGame.GAME_SPEED_SCALE),this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.x+=this.xs*a.CyborgGame.GAME_SPEED_SCALE,this.xs+=this.xsa*a.CyborgGame.GAME_SPEED_SCALE,this.d-=1*a.CyborgGame.GAME_SPEED_SCALE,this.d<0&&(this.ys*=1.1),this._dis+=this.dispass,this.scale.x*=1.015,this.scale.y*=1.015,this._dis<0&&(this._dis=0,this.x>600||this.x<0))return this._visual.visible=!1,a.CyborgGame.instance.removeEnemy(this,"enemyBonus"),void this.destroy();a.CyborgGame.instance.cekhit(this),this._hit&&(a.CyborgGame.instance.addScore(5*a.CyborgGame.instance.point),a.CyborgGame.instance.changeEnergy(100),a.SoundMixer.play("100_zbonus",.3),a.SoundMixer.play("96_zboom",.1),this.explodeFunc())}},c.prototype.explodeFunc=function(){var b=this;this._statusExplode=!0,this._visual.visible=!1,this._explode.visible=!0,this._explode.play("boom",25,!1).onComplete.addOnce(function(){a.CyborgGame.instance.removeEnemy(b,"enemyBonus"),b.destroy()})},Object.defineProperty(c.prototype,"hit",{set:function(a){this._hit=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dis",{get:function(){return this._dis},enumerable:!0,configurable:!0}),c}(b);a.enemyBonus=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,c,0,0)||this;return d.anchor.set(.5),d._visual=d.game.make.sprite(0,0,"cyborgHand","shu1_10001"),d._visual.anchor.set(.59,.51),d._visual.animations.add("idle",Phaser.Animation.generateFrameNames("shu1_1",1,1,"",4),25,!0),d._visual.animations.add("attack",Phaser.Animation.generateFrameNames("shu1_1",1,5,"",4),25,!1),d._visual.play("idle"),d.addChild(d._visual),d._explode=d.game.make.sprite(0,0,"cyborgHand","explode_10001"),d._explode.anchor.set(.5),d._explode.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!0),d._explode.visible=!1,d.addChild(d._explode),d.x=100+d.game.rnd.integerInRange(0,399),d.y=450,d.scale.x=.28,d.scale.y=.28,d.ys=-36,d._dis=.5*a.CyborgGame.DISTANCE,d.dispass=-2*a.CyborgGame.GAME_SPEED_SCALE,d.ro=10,d.ska=110,d.d=10,d._statusExplode=!1,d._statusAttack=!1,d._hit=!1,d}return __extends(c,b),c.prototype.update=function(){if(this._statusExplode)this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.1*a.CyborgGame.GAME_SPEED_SCALE;else{if(this._statusAttack){if(this.d-=1*a.CyborgGame.GAME_SPEED_SCALE,this.d>0&&(this.x=a.CyborgGame.instance.cyborgX+(this.x-a.CyborgGame.instance.cyborgX)/1.06),this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.5*a.CyborgGame.GAME_SPEED_SCALE,this.angle+=this.ro*a.CyborgGame.GAME_SPEED_SCALE,this.ro<30&&(this.ro+=5*a.CyborgGame.GAME_SPEED_SCALE),this._dis+=this.dispass,this.scale.x*=1.015,this.scale.y*=1.015,this._dis<0&&(this._dis=0,this.y>330))return Math.abs(a.CyborgGame.instance.cbx-this.x)<a.CyborgGame.instance.bombrange&&(a.CyborgGame.instance.hit=1,a.SoundMixer.play("101_zhit",.3)),this._visual.visible=!1,a.CyborgGame.instance.removeEnemy(this,"enemySHU1"),void this.destroy()}else this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=2*a.CyborgGame.GAME_SPEED_SCALE,this._dis+=this.dispass,this.scale.x*=1.005,this.scale.y*=1.005,this.ys>2&&(this._visual.play("attack"),this._statusAttack=!0);a.CyborgGame.instance.cekhit2(this),this._hit&&(a.CyborgGame.instance.addScore(a.CyborgGame.instance.point),this.ys<0&&(this.ys=0),this.explodeFunc())}},c.prototype.explodeFunc=function(){var b=this;a.SoundMixer.play("96_zboom",.3),this._statusExplode=!0,this._visual.visible=!1,this._explode.visible=!0,this._explode.play("boom",25,!1).onComplete.addOnce(function(){a.CyborgGame.instance.removeEnemy(b,"enemySHU1"),b.destroy()})},Object.defineProperty(c.prototype,"hit",{set:function(a){this._hit=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dis",{get:function(){return this._dis},enumerable:!0,configurable:!0}),c}(b);a.enemySHU1=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,c,0,0)||this;return d.anchor.set(.5),d._visual=d.game.make.sprite(0,0,"cyborgHand","shu2_10001"),d._visual.anchor.set(.4,.48),d._visual.animations.add("idle",Phaser.Animation.generateFrameNames("shu2_1",1,1,"",4),25,!0),d._visual.animations.add("attack",Phaser.Animation.generateFrameNames("shu2_1",1,5,"",4),25,!1),d._visual.play("idle"),d.addChild(d._visual),d._explode=d.game.make.sprite(0,0,"cyborgHand","explode_10001"),d._explode.anchor.set(.5),d._explode.animations.add("boom",Phaser.Animation.generateFrameNames("explode_1",1,19,"",4),25,!0),d._explode.visible=!1,d.addChild(d._explode),d.x=200+d.game.rnd.integerInRange(0,199),d.y=500,d.scale.x=.28,d.scale.y=.28,d.ys=-50,d._dis=.3*a.CyborgGame.DISTANCE,d.dispass=-2*a.CyborgGame.GAME_SPEED_SCALE,d.ro=60,d.ska=110,d.d=15,d.a=0,d.dir=1,d._statusExplode=!1,d._statusAttack=!1,d._hit=!1,d}return __extends(c,b),c.prototype.update=function(){if(this._statusExplode)this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=.1*a.CyborgGame.GAME_SPEED_SCALE;else{if(this._statusAttack){if(this.a+=1*a.CyborgGame.GAME_SPEED_SCALE,this.dir<0?this.x=this.oldX+100*Math.sin(.1*this.a):this.x=this.oldX-100*Math.sin(.1*this.a),this.angle+=this.ro*a.CyborgGame.GAME_SPEED_SCALE,this.d-=1*a.CyborgGame.GAME_SPEED_SCALE,this.d<0&&(this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=3*a.CyborgGame.GAME_SPEED_SCALE,this._dis+=this.dispass,this.scale.x*=1.06,this.scale.y*=1.06,this._dis<0&&(this._dis=0),this.y>320))return Math.abs(a.CyborgGame.instance.cbx-this.x)<a.CyborgGame.instance.bombrange&&(a.CyborgGame.instance.hit=1,a.SoundMixer.play("101_zhit",.3)),this._visual.visible=!1,a.CyborgGame.instance.removeEnemy(this,"enemySHU2"),void this.destroy()}else this.y+=this.ys*a.CyborgGame.GAME_SPEED_SCALE,this.ys+=4*a.CyborgGame.GAME_SPEED_SCALE,this._dis+=this.dispass,this.scale.x*=1.005,this.scale.y*=1.005,this.ys>2&&(this._visual.play("attack"),this.oldX=this.x,this.oldY=this.y,this.ys=2,Math.random()>.5&&(this.dir=-1),this._statusAttack=!0);a.CyborgGame.instance.cekhit2(this),this._hit&&(a.CyborgGame.instance.addScore(a.CyborgGame.instance.point),this.ys<0&&(this.ys=0),this.explodeFunc())}},c.prototype.explodeFunc=function(){var b=this;a.SoundMixer.play("96_zboom",.3),this._statusExplode=!0,this._visual.visible=!1,this._explode.visible=!0,this._explode.play("boom",25,!1).onComplete.addOnce(function(){a.CyborgGame.instance.removeEnemy(b,"enemySHU2"),b.destroy()})},Object.defineProperty(c.prototype,"hit",{set:function(a){this._hit=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dis",{get:function(){return this._dis},enumerable:!0,configurable:!0}),c}(b);a.enemySHU2=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(a){function b(b,c,d){var e=a.call(this,b,c,d)||this;e._mainSpeed=1600,e._visuals=[],e._visualsLamp=[];for(var f=0;f<4;f++)e._visuals.push(e.game.make.sprite(0,126.5,"cei_ani")),e._visuals[f].anchor.set(.5,.37),e._visuals[f].alpha=0,e.addChild(e._visuals[f]),e.restartWall(e._visuals[f],e._mainSpeed/4*f),e._visualsLamp.push(e.game.make.sprite(0,109,"cei_lamp")),e._visualsLamp[f].anchor.set(.5,.066),e._visualsLamp[f].alpha=0,e.addChild(e._visualsLamp[f]),e.restartLamp(e._visualsLamp[f],e._mainSpeed/4*f);return e}return __extends(b,a),b.prototype.restartWall=function(a,b){var c=this;a.position.set(0,126.5),a.scale.set(.378,.195),a.alpha=0,a.parent.setChildIndex(a,0),this.game.add.tween(a).to({alpha:1},.4*this._mainSpeed,Phaser.Easing.Linear.None,!0,b),this.game.add.tween(a).to({y:-62},this._mainSpeed,Phaser.Easing.Linear.None,!0,b),this.game.add.tween(a.scale).to({x:1,y:1},this._mainSpeed,Phaser.Easing.Linear.None,!0,b).onComplete.addOnce(function(){c.restartWall(a,0)})},b.prototype.restartLamp=function(a,b){var c=this;a.position.set(0,109),a.scale.set(.1,.054),a.alpha=0,a.parent.setChildIndex(a,0),this.game.add.tween(a).to({alpha:1},.4*this._mainSpeed,Phaser.Easing.Linear.None,!0,b),this.game.add.tween(a).to({y:-104},this._mainSpeed,Phaser.Easing.Linear.None,!0,b),this.game.add.tween(a.scale).to({x:1,y:1},this._mainSpeed,Phaser.Easing.Linear.None,!0,b).onComplete.addOnce(function(){c.restartLamp(a,0)})},b}(b);a.movedUp=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(a){function b(b,c,d,e){void 0===e&&(e=1);var f=a.call(this,b,c,d)||this;f._mainSpeed=1200,f._direction=e,f._visuals=[],f._totalFrameRate=30;for(var g=0;g<3;g++)f._visuals.push(f.game.make.sprite(-2,10,"wall_1")),f._visuals[g].anchor.set(.49,.38),f._visuals[g].alpha=0,f._visuals[g].scale.x=f._direction,f.addChild(f._visuals[g]);return f.restartWall(f._visuals[2],0),f.restartWall(f._visuals[1],f._mainSpeed/3),f.restartWall(f._visuals[0],f._mainSpeed/1.5),f}return __extends(b,a),b.prototype.restartWall=function(a,b){var c=this;a.position.set(-2*this._direction,10),a.scale.set(.225*this._direction,.3),a.alpha=0,a.parent.setChildIndex(a,0),this.game.add.tween(a).to({alpha:1},.57*this._mainSpeed,Phaser.Easing.Linear.None,!0,b),this.game.add.tween(a).to({x:-214.99*this._direction,y:-78.55},this._mainSpeed,Phaser.Easing.Linear.None,!0,b),this.game.add.tween(a.scale).to({x:1*this._direction,y:1},this._mainSpeed,Phaser.Easing.Linear.None,!0,b).onComplete.addOnce(function(){c.restartWall(a,0)})},b}(b);a.movedVert=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c,d,e){void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=0);var f=b.call(this,a.Raven.instance.game,0,0,"raven","lill0001")||this;return f.anchor.set(.5),f._spec=c,f.vx=d,f.vy=e,f.reuse(!0),f}return __extends(c,b),c.prototype.getSpec=function(){switch(this._spec){case 0:return this.game.rnd.integerInRange(1,3);case 1:case 2:case 3:case 4:case 5:return this.game.rnd.integerInRange(4,7);case 6:return this.game.rnd.integerInRange(8,12);case 7:return this.game.rnd.integerInRange(13,16);case 8:return this.game.rnd.integerInRange(17,21)}},c.prototype.reuse=function(b){void 0===b&&(b=!1),this.frameName="lill"+a.GameConfig.genName(this.getSpec()),0==this._spec?(this._ys=4+4*Math.random()*(25/60),this._ro=4+10*Math.random()*(25/60),this._xs=0,this.x=50+550*Math.random(),this.y=b?350*Math.random()-5:-50,this.scale.set(.3+.8*Math.random(),.2+.6*Math.random())):(this._ys=10*-Math.random()*(25/60),this._ro=4+10*Math.random(),this._xs=6*Math.random()*(25/60),this.x=this.vx+this.game.rnd.integerInRange(-15,15),this.y=this.vy+this.game.rnd.integerInRange(-15,15),this.scale.set(1+.3*Math.random(),1+.2*Math.random())),100*Math.random()>50&&(this._ro*=-1,this._xs*=-1)},c.prototype.update=function(){this.angle+=this._ro,this.y+=this._ys,this.x+=this._xs,0==this._spec?this._ys+=25/60*.1:this._ys+=25/60*.7,this.y>420&&(0==this._spec&&0==a.Raven.instance.NOMUSOR?this.reuse():(this.parent.removeChild(this),this.destroy(!0)))},c}(b);a.Musor=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d,e){void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=0);var f=b.call(this,a,0,0,"raven","lill0001")||this;return f.anchor.set(.5),f._spec=c,f.vx=d,f.vy=e,f.reuse(!0),f}return __extends(c,b),c.prototype.getSpec=function(){switch(this._spec){case 0:return this.game.rnd.integerInRange(1,3);case 1:case 2:case 3:case 4:case 5:return this.game.rnd.integerInRange(4,7);case 6:return this.game.rnd.integerInRange(8,12);case 7:return this.game.rnd.integerInRange(13,16);case 8:return this.game.rnd.integerInRange(17,21)}},c.prototype.reuse=function(b){void 0===b&&(b=!1),this.frameName="lill"+a.GameConfig.genName(this.getSpec()),0==this._spec?(this._ys=4+4*Math.random()*(25/60),this._ro=4+10*Math.random()*(25/60),this._xs=0,this.x=50+550*Math.random(),this.y=b?350*Math.random()-5:-50,this.scale.set(.3+.8*Math.random(),.2+.6*Math.random())):(this._ys=10*-Math.random()*(25/60),this._ro=4+10*Math.random(),this._xs=6*Math.random()*(25/60),this.x=this.vx+this.game.rnd.integerInRange(-15,15),this.y=this.vy+this.game.rnd.integerInRange(-15,15),this.scale.set(1+.3*Math.random(),1+.2*Math.random())),100*Math.random()>50&&(this._ro*=-1,this._xs*=-1)},c.prototype.update=function(){this.angle+=this._ro,this.y+=this._ys,this.x+=this._xs,0==this._spec?this._ys+=25/60*.1:this._ys+=25/60*.7,this.y>420&&(0==this._spec&&0==a.Raven.instance.NOMUSOR?this.reuse():(this.parent.removeChild(this),this.destroy(!0)))},c}(b);a.Musor2=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,a.Raven.instance.game,0,0,"raven","rubbles0001")||this;return d.anchor.set(.5),d._electric=d.game.make.image(0,0,"raven","electric0001"),d._electric.animations.add("loop",["electric0001","electric0002","electric0000","electric0004","electric0005","electric0000","electric0007","electric0000"],25,!0),d._electric.play("loop"),d._electric.anchor.set(.5),d.reuse(c),d.addChild(d._electric),d.hitBox=new a.MPolygon,d.hitBox.setBox(.8*d.width,.8*d.height),d.hitBox.parent=d,d}return __extends(c,b),c.prototype.reuse=function(b){this._type=b,this.SPECIAL=9==b,this.BONUS=16==b,this.ihithero=!1,this.check=!1,this._ys=a.Raven.instance.RUBSPEED*(25/60),this._ro=(2+10*Math.random())*(25/60),100*Math.random()>50&&(this._ro*=-1),this.angle=0,this.y=-100,this.exists=!0,b>5?(b=b-5+10,0==this.SPECIAL?(this.canLapLap=!1,this._electric.exists=!0):(this.canLapLap=!0,this._electric.exists=!1),this._ys*=.6):(b=2*b-1,this.canLapLap=!0,this._electric.exists=!1,this._ys+=2*Math.random()*(25/60)),this._type2=b,this.frameName="rubbles"+a.GameConfig.genName(b),this.BONUS&&(this.canLapLap=!1,this._electric.exists=!1,this.frameName="rubbles0016")},c.prototype.update=function(){this.isDead||0==this.check&&(this.hitBox.angle=this.rotation,this.BONUS||(this.angle+=this._ro),this.y+=this._ys,this._ys+=.025,this.y>400+this.width&&(this.dead(!0),a.Raven.instance.addDamage()))},c.prototype.mouseOut=function(){a.Raven.instance.SELECTED==this&&(this._ys=a.Raven.instance.RUBSPEED*(25/60),this.check=!1,this.frameName="rubbles"+a.GameConfig.genName(this._type2))},c.prototype.hitme=function(a){return!this.isDead&&(a!=this&&(null!=a&&(!a.isDead&&(!a.SPECIAL&&(!this.SPECIAL&&(!this.BONUS&&this.hitBox.hit(a.hitBox)))))))},c.prototype.hitme2=function(b){return!this.isDead&&(!this.ihithero&&(null!=b&&(this!=a.Raven.instance.SELECTED&&this.hitBox.hit(b))))},c.prototype.mouseDown=function(b,c){return!this.isDead&&(0!=this.canLapLap&&(!!this.hitBox.contains(b,c)&&(this.check=!0,a.Raven.instance.SELECTED=this,this.frameName="rubbles"+a.GameConfig.genName(this._type2+1),this.bx=this.x-b,this.by=this.y-c,!0)))},c.prototype.movemove=function(a,b){this.x=this.bx+a,this.y=this.by+b},c.prototype.dead=function(b){this.isDead||(b?(this.exists=!1,1==this.BONUS&&a.SoundMixer.play("rv_zbonus",.4)):(this.exists=!1,0==this.SPECIAL&&a.Raven.instance.createBoom(this._type,this.x,this.y),this._type<6?a.SoundMixer.play("rv_zrock",.4):(6==this._type&&a.SoundMixer.play("rv_ztv",.4),7==this._type&&a.SoundMixer.play("rv_zSpeaker",.4),8==this._type&&a.SoundMixer.play("rv_ztv",.4))))},Object.defineProperty(c.prototype,"isDead",{get:function(){return 0==this.exists},enumerable:!0,configurable:!0}),c}(b);a.Ruben=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c,d){void 0===d&&(d=!1);var e=b.call(this,c,0,0,"robin","cars0001")||this;e.anchor.set(0,1),e._jump=d,e.frameName=1==d?"cars"+a.GameConfig.genName(e.game.rnd.integerInRange(1,3)):"cars"+a.GameConfig.genName(e.game.rnd.integerInRange(4,33));return e.isDead=!1,e._xs=.1*e.game.rnd.realInRange(-1,1)-7.5,e.x=e.game.width+e.width,e.y=a.Robin.instance.lineY,e.hitBox=new a.MPolygon,e.hitBox.setBox(150,30),e.hitBox.x=69,e.hitBox.y=-28,e.hitBox.parent=e,e.hitBox2=new a.MPolygon,e.hitBox2.setBox(150,50),e.hitBox2.x=90,e.hitBox2.y=-38,e.hitBox2.parent=e,e}return __extends(c,b),c.prototype.hit=function(a){if(!this.isDead)return this.hitBox.hit(a)},c.prototype.reuse=function(b){this._jump=b,this.frameName=b?"cars"+a.GameConfig.genName(this.game.rnd.integerInRange(1,3)):"cars"+a.GameConfig.genName(this.game.rnd.integerInRange(4,33));this.isDead=!1,this._xs=.1*this.game.rnd.realInRange(-1,1)-7.5,this.x=this.game.width+this.width,this.y=a.Robin.instance.lineY,this.exists=!0},c.prototype.update=function(){this.isDead||(this.x+=this._xs,this._jump,this.x+this.width<0&&(this.isDead=!0,this.exists=!1))},Object.defineProperty(c.prototype,"isJumpCar",{get:function(){return this._jump},enumerable:!0,configurable:!0}),c}(b);a.Car=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c,d,e){void 0===d&&(d=.5),void 0===e&&(e=1);var f=b.call(this,a.Robin.instance.game,0,0,"robin",c[0])||this;return f.nodest=!1,f.bonus=!1,f.offsetw=0,f.anchor.set(d,e),f.animations.add("loop",c,25,!0),f.animations.play("loop"),f.hitBox=new a.MPolygon,f.hitBox.parent=f,f.energy=3,f}return __extends(c,b),c.prototype.movement=function(){},c.prototype.deadme=function(){},c.prototype.replace=function(){},c.prototype.hitMe=function(a){return!this.isDead&&(!(this.x>580)&&this.hitBox.hit(a))},c.prototype.initHit=function(a,b,c,d){void 0===c&&(c=0),void 0===d&&(d=0),this.hitBox.setBox(a,b),this.hitBox.x=c,this.hitBox.y=d},c.prototype.update=function(){this.isDead||(this.alpha<1&&(this.alpha+=.032,this.alpha>1&&(this.alpha=1)),this.x<-this.width-this.offsetw&&this.dead(),this.y<-this.width-this.offsetw&&this.dead(),this.y>500&&this.dead(),this.movement())},c.prototype.dead=function(b){void 0===b&&(b=!1),this.isDead||(b?(this.exists=!1,this.bonus&&a.Robin.instance.addScore(100)):this.exists=!1,this.parent.removeChild(this),this.deadme())},Object.defineProperty(c.prototype,"isDead",{get:function(){return 0==this.exists},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"energy",{get:function(){return this._energy},set:function(b){this.nodest||(this.energy&&b<this.energy&&(this.alpha=.3),this._energy=b,this._energy<=0&&(this.dead(),a.Robin.instance.addBoom(this.x,this.y)))},enumerable:!0,configurable:!0}),c}(b);a.Huinya=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){void 0===c&&(c=!1);var d=b.call(this,a.Robin.instance.game,0,0,"robin","blast0001")||this;return d.anchor.set(.5),d.animations.add("idle_e",["blast0008"],15,!0),d.animations.add("idle",["blast0001","blast0002"],15,!0),d.animations.add("dead",["blast0003","blast0004","blast0005","blast0006","blast0007"],25),d.reuse(c),d.hitBox=new a.MPolygon,d.hitBox.parent=d,d.hitBox.setBox(30,10),d}return __extends(c,b),c.prototype.update=function(){this.isDead||(this.x+=this._speed,(this.x>650||this.x<-50)&&this.dead(!0))},c.prototype.reuse=function(a){this._enemy=a,this.scale.x=a?-1:1,this.playIdle(),this._speed=25/60*(a?-14:20),this.exists=!0,this._preDead=!1},c.prototype.dead=function(a){var b=this;void 0===a&&(a=!1),a?this.exists=!1:(this._preDead=!0,this.play("dead").onComplete.addOnce(function(){b.dead(!0)}),this._speed=-8)},c.prototype.playIdle=function(){this._enemy?this.animations.play("idle_e"):this.animations.play("idle")},Object.defineProperty(c.prototype,"isDead",{get:function(){return 0==this.exists},enumerable:!0,configurable:!0}),c}(b);a.RobinBullet=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c,d,e){void 0===d&&(d=!1),void 0===e&&(e=!1);var f=b.call(this,c,0,0,"star","blast0000")||this;return f.isDead=!1,f._xx=620,f.big=!1,f.other=!1,f._d=40,f.xs=-4,f.ys=0,f.anchor.set(.5),f.hitBox=new a.MPolygon,f.hitBox.parent=f,e?(f.other=!0,f.animations.add("loop",["bul20001","bul20002"],12,!0),f.play("loop"),f.hitBox.setBox(40,20),f):(d?(f.animations.add("loop",["blast0001","blast0002"],12,!0),f.play("loop"),f._xx=650,f.hitBox.setBox(50,20),f.big=!0):f.hitBox.setBox(40,10),f)}return __extends(c,b),c.prototype.update=function(){if(!this.isDead){if(this.other){if(this._d-=1,this._d>0){var b=this.x-a.Star.instance.hero.x,c=this.y-a.Star.instance.hero.y,d=Math.atan2(c,b);this.xs=-4*Math.cos(d),this.ys=-4*Math.sin(d),this.rotation=d}this.x+=this.xs,this.y+=this.ys}else this.x+=7.5;this.x>this._xx&&this.dead(),this.y>this.game.height+40&&this.dead(),this.y<-40&&this.dead()}},c.prototype.dead=function(){this.isDead||(this.parent.removeChild(this),this.isDead=!0)},c}(b);a.Bullet=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,a.Star.instance.game,0,0,"star",c[0])||this;return d.isDead=!1,d.bonus=!1,d.nodestroy=!1,d.boss=!1,d.icantshoot=!1,d.hittimer=0,d.anchor.set(.5),d.animations.add("loop",c,25,!0),d.animations.play("loop"),d.hitBox=new a.MPolygon,d.hitBox.parent=d,d}return __extends(c,b),c.prototype.movement=function(){},c.prototype.initHit=function(a,b,c,d){void 0===c&&(c=0),void 0===d&&(d=0),this.hitBox.setBox(a,b),this.hitBox.x=c,this.hitBox.y=d},c.prototype.update=function(){this.isDead||(this.hitBox.angle=this.rotation,this.x<-this.width&&this.dead(),this.movement())},c.prototype.dead=function(){this.isDead||this.icantshoot||(this.isDead=!0,this.parent.removeChild(this))},c}(b);a.StarObject=c}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){}return a.enableDrag=function(a){a.inputEnabled=!0,a.input.enableDrag(),a.events.onDragUpdate.add(function(){console.log(a.x+","+a.y)},this)},a.genName=function(a){
for(var b=""+a;b.length<4;)b="0"+b;return b},a}();a.GameConfig=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this._x=a,this._y=b}return a.prototype.rotate=function(b,c,d){void 0===c&&(c=0),void 0===d&&(d=0);var e=new a;return e.x=(this.x-c)*Math.cos(b)-(this.y-d)*Math.sin(b)+c,e.y=(this.y-d)*Math.cos(b)+(this.x-c)*Math.sin(b)+d,e},a.prototype.rotateX=function(a,b,c){return void 0===b&&(b=0),void 0===c&&(c=0),(this.x-b)*Math.cos(a)-(this.y-c)*Math.sin(a)+b},a.prototype.rotateY=function(a,b,c){return void 0===b&&(b=0),void 0===c&&(c=0),(this.y-c)*Math.cos(a)+(this.x-b)*Math.sin(a)+c},Object.defineProperty(a.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a},enumerable:!0,configurable:!0}),a}();a.MPoint=b;var c=function(){function a(a){void 0===a&&(a=null),this.mirror=1,this.setPoints(a),this.x=0,this.y=0,this.cx=0,this.cy=0,this.angle=0}return a.prototype.setPoints=function(a){if(null!=a){this._points=[];for(var c=0;c<.5*a.length;c++)this._points.push(new b(a[2*c],a[2*c+1]))}},a.prototype.setBox=function(a,c){var d=.5*a,e=.5*c;this._points=[],this._points.push(new b(-d,-e)),this._points.push(new b(d,-e)),this._points.push(new b(d,e)),this._points.push(new b(-d,e))},Object.defineProperty(a.prototype,"error",{get:function(){return null==this._points},enumerable:!0,configurable:!0}),a.prototype.contains=function(a,b){if(null==this._points||0==this._points.length)return!1;for(var c=this._points.length,d=0;d<c;d++){var e=d<c-1?d+1:0;if((this.pointX(e)-this.pointX(d))*(this.pointY(e)-b)-(this.pointX(e)-a)*(this.pointY(e)-this.pointY(d))>0)return!1}return!0},a.prototype.hit=function(a){for(var b=0;b<a.length;b++)if(this.contains(a.pointX(b),a.pointY(b)))return!0;for(var b=0;b<this.length;b++)if(a.contains(this.pointX(b),this.pointY(b)))return!0;return!1},a.prototype.dopX=function(){return this.parent?this.parent.parent?this.parent.x+this.parent.parent.x:this.parent.x:0},a.prototype.dopY=function(){return this.parent?this.parent.parent?this.parent.y+this.parent.parent.y:this.parent.y:0},a.prototype.pointX=function(a){return 1*this._points[a].rotateX(this.angle,this.cx,this.cy)+this.x*this.mirror+this.dopX()},a.prototype.pointY=function(a){return 1*this._points[a].rotateY(this.angle,this.cx,this.cy)+this.y+this.dopY()},a.prototype.debugDraw=function(a){if(null!=this._points&&0!=this._points.length){a.lineStyle(.1,65280),a.beginFill(65280,.3);var b=this._points.length;b>1&&a.moveTo(this.pointX(0),this.pointY(0));for(var c=1;c<b;c++)a.lineTo(this.pointX(c),this.pointY(c));b>1&&a.lineTo(this.pointX(0),this.pointY(0)),a.endFill()}},Object.defineProperty(a.prototype,"length",{get:function(){return null==this._points||0==this._points.length?0:this._points.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"angle",{get:function(){return 1==this.mirror?this._angle:0==this._angle?0:Math.PI-this._angle},set:function(a){this._angle=a},enumerable:!0,configurable:!0}),a}();a.MPolygon=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(a,c,d,e,f){void 0===e&&(e=null),void 0===f&&(f=!1);var g=this,h=null,i=null,j=null;return d.length>0&&(h=d[0],d.length>1?(i=d[1],j=d.length>2?d[2]:d[0]):(i=d[0],j=d[0])),g=b.call(this,a,0,0,c,null,null,i,h,j,null)||this,g._framesString=[h,i,j],g._disabledFrame=h,4==d.length&&(g._disabledFrame=d[3]),g.soundOver="over",g.soundDown=null,g.anchor.setTo(.5),g._cb=e,g._deltaScale=.1,g._defaultScale=1,g._isDown=!1,g._isOver=!1,g._invert=f,g._invert?g.scale.set(-g._defaultScale,g._defaultScale):g.scale.set(g._defaultScale),g.onInputOver.add(g.over,g),g.onInputOut.add(g.out,g),g.onInputDown.add(g.down,g),g.onInputUp.add(g.up,g),g}return __extends(c,b),c.prototype.setCBContext=function(a){this._cntxt=a},c.prototype.setCB=function(a){this._cb=a},c.prototype.setAnimationScale=function(a,b){void 0===a&&(a=0),void 0===b&&(b=1),this._deltaScale=a,this._defaultScale=b},c.prototype.setNewFrames=function(a){var b=null,c=null,d=null;a.length>0&&(b=a[0],a.length>1?(c=a[1],d=a.length>2?a[2]:a[0]):(c=a[0],d=a[0])),this._framesString=[b,c,d],this.setFrames(c,b,d)},c.prototype.over=function(){this._isDown,this._isOver,this._isOver=!0,a.SoundMixer.play("mm_zover",.4)},c.prototype.out=function(){this._isDown||(this._invert?this.scale.set(-this._defaultScale,this._defaultScale):this.scale.set(this._defaultScale)),this._isOver=!1},c.prototype.up=function(){var a=this;if(this._isDown){this._invert?this.scale.set(-this._defaultScale,this._defaultScale):this.scale.set(this._defaultScale);var b=this.game.device.desktop?this._isOver:this.input.pointerOver();this._isOver?this.frameName=this._framesString[1]:b&&setTimeout(function(){a.frameName=a._framesString[0]},5),this._isDown=!1,b&&null!=this._cb?(this._cntxt?this._cb.bind(this._cntxt)():this._cb(),this.inputEnabled&&(this.frameName=this._framesString[0])):0==b&&(this._invert?this.scale.set(-this._defaultScale,this._defaultScale):this.scale.set(this._defaultScale))}},c.prototype.down=function(){this._isDown||(a.SoundMixer.play("mm_zclick",.4),this._invert?this.scale.set(-(this._defaultScale-this._deltaScale),this._defaultScale-this._deltaScale):this.scale.set(this._defaultScale-this._deltaScale),this._isDown=!0)},c.prototype.deleteFromParent=function(){this.parent&&this.parent.removeChild(this),this.onInputOver.remove(this.over,this),this.onInputOut.remove(this.out,this),this.onInputDown.remove(this.down,this),this.onInputUp.remove(this.up,this)},Object.defineProperty(c.prototype,"enabled",{set:function(a){this.inputEnabled=a,a?this.frameName=this._framesString[0]:(this.frameName=this._disabledFrame,this._invert?this.scale.set(-this._defaultScale,this._defaultScale):this.scale.set(this._defaultScale))},enumerable:!0,configurable:!0}),c}(Phaser.Button);a.OButton=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d,e,f){void 0===e&&(e=0),void 0===f&&(f=null);var g=a.call(this,b,0,0)||this;return g._images=[],g._images.push(new Phaser.Image(b,e,0,c,d)),g._imgWidth=f||g._images[0].width,g._images.push(new Phaser.Image(b,e+g._imgWidth-1,0,c,d)),g.addChild(g._images[0]),g.addChild(g._images[1]),g}return __extends(b,a),b.prototype.chng=function(a){for(var b=0;b<this._images.length;b++)this._images[b].frameName=a},b.prototype.updateScroll=function(a){this._images[0].x-=a,this._images[1].x-=a,this._images[0].x<=-this._imgWidth&&(this._images[0].x=this._images[1].x+this._imgWidth-1),this._images[1].x<=-this._imgWidth&&(this._images[1].x=this._images[0].x+this._imgWidth-1)},b.prototype.free=function(){this.removeChild(this._images[0]),this.removeChild(this._images[1]),this._images.pop().destroy(!0),this._images.pop().destroy(!0),this._images=null},b.prototype.setPosition=function(a){this._images[0].x=a,this._images[1].x=a+this._imgWidth-1},b}(Phaser.Sprite);a.ParallaxImage=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){}return a.init=function(b){a._audio=b.add.audioSprite("benten_fx"),this._playMusic=!0},a.play=function(b,c,d,e){if(void 0===c&&(c=.3),void 0===d&&(d=!1),void 0===e&&(e=!1),0==this._playMusic&&d)return a._bgKey=b,void(a._bgVolume=c);if(d)return a._bg&&a._bg.stop(),a._bgKey=b,a._bgVolume=c,a._bg=a._audio.play(b,c),a._bg.allowMultiple=!0,a._bg.loop=!0,a._bg;if(this._playMusic){var f=a._audio.play(b,c);return f.allowMultiple=!0,f.loop=e,f}},a.bgStop=function(){a._bg&&a._bg.stop()},a.stopAll=function(){this.bgStop(),a._audio.stop(null)},a.on=function(){a._bgKey&&(this._playMusic=!0,a.play(a._bgKey,a._bgVolume,!0,!0))},a.off=function(){this._playMusic=!1,a._audio.stop(null)},a}();a.SoundMixer=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){}return b.loadFonts=function(b,c,d){WebFont.load({custom:{families:b,urls:[a.Boot.PATH_FONTS+c]},active:function(){window.setTimeout(function(){null!=d&&d()},100)}})},b}();a.System=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){}return a.CURRENT_STATE="MainMenu",a}();a.LocalConfig=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){this.game=new Phaser.Game(600,400,Phaser.AUTO,"game_container",null,!1),this.game.state.add("Boot",a.Boot,!0),this.game.state.add("Preloader",a.Preloader),this.game.state.add("Raven",a.Raven),this.game.state.add("RavenEnd",a.RavenEnd),this.game.state.add("MainMenu",a.MainMenu),this.game.state.add("SelectLevel",a.SelectLevel),this.game.state.add("Hint",a.Hint),this.game.state.add("BBoyEnd",a.BBoyEnd),this.game.state.add("Star",a.Star),this.game.state.add("StarEnd",a.StarEnd),this.game.state.add("RobinEnd",a.RobinEnd),this.game.state.add("Robin",a.Robin),this.game.state.add("CyborgGame",a.CyborgGame),this.game.state.add("CyborgGameEnd",a.CyborgGameEnd),this.game.state.add("BeastBoyGame",a.BeastBoyGame)}return b.DEBUG=!0,b}();a.Main=b}(TProject||(TProject={})),window.onload=function(){new TProject.Main;setTimeout("window.scrollTo(0, 1)",10),document.body.addEventListener("touchmove",function(a){a.preventDefault()},!1)};var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.init=function(a,b){void 0===a&&(a=0),void 0===b&&(b=!1),this._score=a,this._win=b},c.prototype.create=function(){var b=this;this._visual=this.add.image(0,0,"bbend",this._win?"WIN":"LOSE"),this._win?a.SoundMixer.play("106_zwin",.4,!0,!0):a.SoundMixer.play("105_zlose",.4,!0,!0);var c=this._win?-40:200,d=this._win?5:20;this._scoreText=this.game.add.text(225+c,190+d,""+this._score,{font:"RedFive",fontSize:"20px",fontWeight:"normal",fill:"#ffffff",stroke:"#000",strokeThickness:2}),this._scoreText.wordWrap=!0,this._scoreText.align="center",this._scoreText.anchor.set(.5),this._win?(this._rp=new a.OButton(this.game,"star",["btnPA"],function(){a.BeastBoyGame.currentGameLevel=1,b.game.state.start("BeastBoyGame",!0)}),this._rp.x=218+c,this._rp.y=230+d,this.add.existing(this._rp),this._mm=new a.OButton(this.game,"bbend",["continue"],function(){a.BeastBoyGame.currentGameLevel=1,b.game.state.start("MainMenu",!0)}),this._mm.x=218+c,this._mm.y=260+d,this.add.existing(this._mm)):(console.log("PIIIZDS"),this._pizda=new a.OButton(this.game,"bbend",["continue"],function(){b.game.state.start("BeastBoyGame",!0)}),this._pizda.x=218+c,this._pizda.y=230+d,this.add.existing(this._pizda),this._rp=new a.OButton(this.game,"bbend",["startover"],function(){a.BeastBoyGame.currentGameLevel=1,b.game.state.start("BeastBoyGame",!0)}),this._rp.x=218+c,this._rp.y=260+d,this.add.existing(this._rp),this._mm=new a.OButton(this.game,"star",["btnMM"],function(){a.BeastBoyGame.currentGameLevel=1,b.game.state.start("MainMenu",!0)}),this._mm.x=218+c,this._mm.y=290+d,this.add.existing(this._mm),console.log("PIIIZDS",this._rp.parent,this._mm.x,this._mm.y))},c.prototype.shutdown=function(){a.SoundMixer.bgStop()},c}(Phaser.State);a.BBoyEnd=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;return a._canpress=!0,a._endScreen=!1,a}return __extends(c,b),c.prototype.create=function(){var b=this;console.log(c.currentGameLevel),c.instance=this,this.game.physics.startSystem(Phaser.Physics.ARCADE),7!=c.currentGameLevel&&this.initController(),this._map=this.game.add.tilemap("Level"+c.currentGameLevel),this._gameLayer=this.game.add.sprite(0,0),this._bgObjects=this.game.make.group(),this._gameLayer.addChild(this._bgObjects),this._shadowObjects=this.game.make.group(),this._gameLayer.addChild(this._shadowObjects);for(var d=this.findObjectsByType("_shadow",this._map,"objectsLayer"),e=0;e<d.length;e++){console.log(d[e]);var f=this.game.make.sprite(d[e].x,d[e].y,"beastBoyAtlas",d[e].properties.sprite);f.anchor.set(0,1),d[e].properties.oW&&(f.width=d[e].properties.oW),d[e].properties.oH&&(f.height=d[e].properties.oH),d[e].properties.scaleX&&1!=d[e].properties.scaleX&&(f.scale.x=d[e].properties.scaleX),d[e].properties.scaleY&&1!=d[e].properties.scaleY&&(f.scale.y=d[e].properties.scaleY),d[e].properties.rotation&&(f.angle=d[e].properties.rotation),this._shadowObjects.add(f)}switch(this._solidObjects=this.game.make.group(),this._gameLayer.addChild(this._solidObjects),this._otherObjects=this.game.make.group(),this._gameLayer.addChild(this._otherObjects),this._terminalObjects=this.game.make.group(),this._gameLayer.addChild(this._terminalObjects),this._enemyObjects=this.game.make.group(),this._gameLayer.addChild(this._enemyObjects),this._backgroundlayer=this._map.createLayer("blockedLayer "),a.SoundMixer.play("bb_zloop",.4,!0,!0),c.currentGameLevel){case 1:this.game.world.setBounds(0,0,1400,870),c.currentGameScore=0;break;case 2:this.game.world.setBounds(0,0,1400,1031);break;case 3:this.game.world.setBounds(0,0,2800,1490);break;case 4:this.game.world.setBounds(0,0,2800,1850);break;case 5:this.game.world.setBounds(0,0,3099,2019);break;case 6:this.game.world.setBounds(0,0,4208,1782);break;case 7:this.game.world.setBounds(0,0,2795,442),this._endScreen=!0}var g=this.game.make.sprite(0,0,"beastBoyAtlas","bb_bg");this._bgObjects.add(g),console.log("%%%%%%%%%%%"),console.log(Math.ceil(this.game.world.bounds.height/g.height)),console.log(Math.ceil(this.game.world.bounds.width/g.width));for(var h=0;h<Math.ceil(this.game.world.bounds.height/g.height);h++)for(var i=0;i<Math.ceil(this.game.world.bounds.width/g.width);i++){var j=this.game.make.sprite(0+g.width*i,0+g.height*h,"beastBoyAtlas","bb_bg");this._bgObjects.add(j)}this.createObjects(),this.createEnemy(),this._hero=new a.heroBeastboy(this.game,200,110),this._gameLayer.addChild(this._hero),this._bulletObjects=this.game.make.group(),this._gameLayer.addChild(this._bulletObjects),this._hero.position.set(this._openDor.x+this._openDor.width/2,this._openDor.y),this.game.camera.focusOnXY(this._openDor.x+this._openDor.width/2,this._openDor.y),this.game.camera.follow(this._hero,Phaser.Camera.FOLLOW_PLATFORMER,.1,.1),this._gameUI=new a.cyborgUI(this.game,"BEASTBOY"),this.game.world.addChild(this._gameUI),this._gameUI.fixedToCamera=!0,this._playerDoneLevel=!1,setTimeout(function(){a.SoundMixer.play("bb_zliftopen",.4),b._openDor.play("open").onComplete.addOnce(function(){a.SoundMixer.play("bb_zliftclose",.4),b._hero.showPlayer(),b._openDor.play("close"),b._endScreen&&setTimeout(function(){b._hero.goTransform("CHEETAH","run"),setTimeout(function(){b._hero.goRight(),setTimeout(function(){b._hero.goUp(),setTimeout(function(){b._hero.goUp(!1),b._endScreen=!1,b._britishBoss.play("fall"),b._britishBoss.anchor.y=.96,b.game.add.tween(b._britishBoss).to({x:b._britishBoss.x+120},400,Phaser.Easing.Sinusoidal.Out,!0),setTimeout(function(){b._hero.goRight(!1),setTimeout(function(){b._hero.goTransform("BB",""),setTimeout(function(){var a=b.game.add.graphics(0,0);a.beginFill(0),a.drawRect(0,0,600,400),a.endFill(),a.alpha=0,a.fixedToCamera=!0,b.game.add.tween(a).to({alpha:1},300,Phaser.Easing.Sinusoidal.Out,!0).onComplete.addOnce(function(){console.log("GOTO_NEXT_LEVEL"),b.game.state.start("BBoyEnd",!0,!1,b._gameUI.currentScore,!0)})},860)},860)},360)},80)},3040)},250)},150)})},450);var k=this.game.add.graphics(0,0);k.beginFill(0),k.drawRect(0,0,600,400),k.endFill(),k.fixedToCamera=!0,this.game.add.tween(k).to({alpha:0},300,Phaser.Easing.Sinusoidal.Out,!0).onComplete.addOnce(function(){k.destroy(!0)})},c.prototype.initController=function(){var a=this;this.game.input.keyboard.onDownCallback=function(b){a.onKeyDown(b)},this.game.input.keyboard.onUpCallback=function(b){a.onKeyUp(b)}},c.prototype.update=function(){var b=this;this.game.physics.arcade.collide(this._solidObjects,this._hero),this._hero.manualUpdate(),this._enemyObjects.forEachAlive(function(a){a.manualUpdate()},this),this._bulletObjects.forEachAlive(function(a){a.manualUpdate()},this),this._terminalObjects.forEachAlive(function(a){a.manualUpdate()},this),this._endScreen&&(this._britishBoss.x+=5.2),this._closeDor&&!this._playerDoneLevel&&7!=c.currentGameLevel&&this._hitDoorZone.inCamera&&this.checkOverlapWithSpriteAndSpriteForEnemy(this._hitDoorZone,this._hero.hitBody)&&this._hero.canUseElevator&&this._hero.canHit&&(this._playerDoneLevel=!0,this._hero.x=this._hitDoorZone.x+this._closeDor.x,this._hero.changeAnimation("lift"),a.SoundMixer.play("bb_zliftopen",.4),this._closeDor.play("open").onComplete.addOnce(function(){b.game.camera.follow(null),b._hero.hidePlayer(),b._closeDor.play("close").onComplete.addOnce(function(){a.SoundMixer.play("bb_zliftclose",.4);var d=b.game.add.graphics(0,0);d.beginFill(0),d.drawRect(0,0,600,400),d.endFill(),d.alpha=0,d.fixedToCamera=!0,b.game.add.tween(d).to({alpha:1},300,Phaser.Easing.Sinusoidal.Out,!0).onComplete.addOnce(function(){console.log("GOTO_NEXT_LEVEL"),c.currentGameLevel++,c.currentGameScore=b._gameUI.currentScore,b.game.state.start("BeastBoyGame",!0)})})}))},c.prototype.openDoor=function(b){this._solidObjects.forEachAlive(function(c){c instanceof a.beastDor&&c.dorNumber==b&&c.openDor()},this)},c.prototype.removeDor=function(a){this._solidObjects.remove(a),a.destroy(!0)},c.prototype.createSpriteFromObject=function(a){var b=this.game.make.sprite(a.x,a.y,"beastBoyAtlas",a.properties.sprite);return b.anchor.set(0,1),this.game.physics.enable(b,Phaser.Physics.ARCADE),b.body.immovable=!0,a.properties.oW&&(b.width=a.properties.oW),a.properties.oH&&(b.height=a.properties.oH),b},c.prototype.createObjects=function(){var b=this.findObjectsByType("_door",this._map,"objectsLayer");b.forEach(function(b){var c=new a.beastDor(this.game,b.x,b.y,b.properties.dor_number);this._solidObjects.add(c)},this),b=this.findObjectsByType("_terminal",this._map,"objectsLayer"),b.forEach(function(b){var c=new a.beastMonitor(this.game,b.x,b.y,b.properties.term_number);this._terminalObjects.add(c)},this),b=this.findObjectsByType("_wall",this._map,"objectsLayer"),b.forEach(function(a){var b=this.createSpriteFromObject(a);this._solidObjects.add(b)},this),b=this.findObjectsByType("_wall2",this._map,"objectsLayer"),b.forEach(function(a){var b=this.createSpriteFromObject(a);this._solidObjects.add(b)},this),b=this.findObjectsByType("_box",this._map,"objectsLayer"),b.forEach(function(a){var b=this.createSpriteFromObject(a);this._solidObjects.add(b)},this),b=this.findObjectsByType("_floor",this._map,"objectsLayer"),b.forEach(function(a){var b=this.createSpriteFromObject(a);this._solidObjects.add(b)},this),b=this.findObjectsByType("_flag",this._map,"objectsLayer"),b.forEach(function(a){var b=this.game.make.sprite(a.x,a.y,"beastBoyAtlas","flag1");b.anchor.set(0,1),this._otherObjects.add(b)},this),b=this.findObjectsByType("_dorClose",this._map,"objectsLayer"),b.forEach(function(a){this._openDor=this.game.make.sprite(a.x,a.y,"beastBoyBigAtlas","lift_out_10001"),this._openDor.animations.add("open",Phaser.Animation.generateFrameNames("lift_out_1",1,29,"",4),25,!1),this._openDor.animations.add("close",Phaser.Animation.generateFrameNames("lift_out_1",30,40,"",4),25,!1),this._openDor.anchor.set(0,1),this._otherObjects.add(this._openDor)},this),b=this.findObjectsByType("_dorOpen",this._map,"objectsLayer"),b.forEach(function(a){this._closeDor=this.game.make.sprite(a.x,a.y,"beastBoyBigAtlas","lift_ in_10001"),this._closeDor.animations.add("open",Phaser.Animation.generateFrameNames("lift_ in_1",1,10,"",4),25,!1),this._closeDor.animations.add("close",Phaser.Animation.generateFrameNames("lift_ in_1",11,40,"",4),25,!1),this._closeDor.anchor.set(0,1),this._otherObjects.add(this._closeDor),this._hitDoorZone=this.game.make.graphics(this._closeDor.width/2-1.35,-55.7),this._hitDoorZone.beginFill(0,0),this._hitDoorZone.drawRect(0,0,2.75,50),this._hitDoorZone.endFill(),this._closeDor.addChild(this._hitDoorZone)},this)},c.prototype.createEnemy=function(){this.findObjectsByType("_enemy",this._map,"objectsLayer").forEach(function(b){var d=this,e=null;switch(b.properties.enemyType){case"spider_small":e=new a.enemySpiderSmall(this.game,b.x,b.y,"beastBoyAtlas","spider_small_10001",b.properties.bulletrange,b.properties.rotation),e.anchor.set(0,1);break;case"shooter":e=new a.enemyShooter(this.game,b.x,b.y,"beastBoyAtlas","shooter",b.properties.bulletrange,b.properties.rotation),e.anchor.set(0,1);break;case"spider_big":e=new a.blueEnemy(this.game,b.x,b.y),e.anchor.set(0,1);break;case"spider_red":e=new a.redEnemy(this.game,b.x,b.y),e.anchor.set(0,1);break;case"mine":e=new a.mineEnemy(this.game,b.x,b.y),e.anchor.set(0,1);break;case"flame":e=new a.beastEnemyFlame(this.game,b.x,b.y),e.anchor.set(0,1);break;case"bonus":e=new a.bonusObject(this.game,b.x,b.y),e.anchor.set(0,1);break;case"spider_bolt":e=new a.spiderBolt(this.game,b.x,b.y,"beastBoyAtlas","spider_small_1"),e.anchor.set(0,1);break;case"bigT":e=new a.bigEnemy(this.game,b.x,b.y),e.anchor.set(0,1);break;case"britishBoss":this._britishBoss=this.game.make.sprite(b.x,b.y,"beastBoyBigAtlas","mm_run_10001"),this._britishBoss.anchor.set(.5,1),this._britishBoss.animations.add("run",Phaser.Animation.generateFrameNames("mm_run_1",1,15,"",4),25,!0),this._britishBoss.animations.add("fall",Phaser.Animation.generateFrameNames("mm_fall_1",1,18,"",4),25,!1),this._britishBoss.play("run"),this._gameLayer.addChild(this._britishBoss),7!=c.currentGameLevel&&(this._britishBoss.scale.x=b.properties.scaleX,this.game.add.tween(this._britishBoss).to({x:this._britishBoss.x+900*this._britishBoss.scale.x},2300,Phaser.Easing.Linear.None,!0,450).onComplete.addOnce(function(){console.log("DESTROY"),d._britishBoss.destroy(!0),d._britishBoss=null}))}null!=e&&this._enemyObjects.add(e)},this)},c.prototype.findObjectsByType=function(a,b,c){var d=[];return b.objects[c].forEach(function(b){b.type==a&&d.push(b)}),d},c.prototype.render=function(){},c.prototype.shutdown=function(){this._bulletObjects.removeAll(!0),this._map=null,this._backgroundlayer=null,this._bgObjects.removeAll(!0),this._solidObjects.removeAll(!0),this._enemyObjects.removeAll(!0),this._otherObjects.removeAll(!0),this._terminalObjects.removeAll(!0),this._shadowObjects.removeAll(!0),this._hero.destroy(!0),this._hero=null,this._gameUI.destroy(!0),this._openDor.destroy(!0),this._hitDoorZone&&this._hitDoorZone.destroy(!0),this._closeDor&&this._closeDor.destroy(!0),this._britishBoss&&this._britishBoss.destroy(!0),this._gameLayer.destroy(!0),this.game.world.setBounds(0,0,600,400),this.game.physics.clear(),this.game.physics.destroy()},c.prototype.cekhitattack=function(a,b){return void 0===b&&(b=null),!!this.checkOverlapWithSpriteAndSpriteForEnemy(a,this._hero.hitBody)&&(!!this._hero.isSuperDuperJumpAttack()||(this._hero.canHit&&this._hero.setPlayerHit(a),!1))},c.prototype.onKeyDown=function(a){switch(a.keyCode){case Phaser.Keyboard.DOWN:this._hero.goDown();break;case Phaser.Keyboard.UP:this._hero.goUp();break;case Phaser.Keyboard.LEFT:this._hero.goLeft();break;case Phaser.Keyboard.RIGHT:this._hero.goRight();break;case Phaser.Keyboard.ONE:this._hero.goTransform("BB");break;case Phaser.Keyboard.TWO:this._hero.goTransform("CHEETAH");break;case Phaser.Keyboard.THREE:this._hero.goTransform("HAWK")}},c.prototype.onKeyUp=function(a){switch(a.keyCode){case Phaser.Keyboard.DOWN:this._hero.goDown(!1);break;case Phaser.Keyboard.UP:this._hero.goUp(!1);break;case Phaser.Keyboard.LEFT:this._hero.goLeft(!1);break;case Phaser.Keyboard.RIGHT:this._hero.goRight(!1)}},Object.defineProperty(c.prototype,"canpress",{get:function(){return this._canpress},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"solidGroup",{get:function(){return this._solidObjects},enumerable:!0,configurable:!0}),c.prototype.checkOverlapWithSpriteAndSprite=function(a,b){var c=new Phaser.Rectangle(a.worldPosition.x+this.game.camera.x-a.width*a.anchor.x,a.worldPosition.y+this.game.camera.y-a.height*a.anchor.y,a.width,a.height),d=new Phaser.Rectangle(b.worldPosition.x+this.game.camera.x-b.width*b.anchor.x,b.worldPosition.y+this.game.camera.y-b.height*b.anchor.y,b.width,b.height);return Phaser.Rectangle.intersects(c,d)},c.prototype.checkOverlapWithSpriteAndSpriteForEnemy=function(a,b,c){void 0===c&&(c=!1);var d=new Phaser.Rectangle(a.worldPosition.x+this.game.camera.x-a.width*(a.parent.scale.x>0?a.anchor.x:1-a.anchor.x),a.worldPosition.y+this.game.camera.y-a.height*a.anchor.y,a.width,a.height),e=new Phaser.Rectangle(b.worldPosition.x+this.game.camera.x-b.width*(b.parent.scale.x>0?b.anchor.x:1-b.anchor.x),b.worldPosition.y+this.game.camera.y-b.height*b.anchor.y,b.width,b.height);if(c){var f=this.game.add.graphics(d.x,d.y);f.beginFill(16777215,.5),f.drawRect(0,0,d.width,d.height),f.endFill();var g=this.game.add.graphics(e.x,e.y);g.beginFill(11250362,.5),g.drawRect(0,0,e.width,e.height),g.endFill()}return Phaser.Rectangle.intersects(d,e)},c.prototype.checkEasyInteract=function(a,b){var c=a.getBounds(),d=b.getBounds();return Phaser.Rectangle.intersects(c,d)},c.prototype.bulletLaunch=function(b,c,d){var e=null;c<=2?e=2==c?new a.enemyBeastBullet(this.game,b.x,b.y-20,"beastBoyAtlas","s_bul_10001",new Phaser.Point(0,-1),d):new a.enemyBeastBullet(this.game,b.x,b.y+20,"beastBoyAtlas","s_bul_10001",new Phaser.Point(0,1),d):c>2&&c<5?e=3==c?new a.enemyBeastBullet(this.game,b.x+17.5,b.y,"beastBoyAtlas","s_bul_10001",new Phaser.Point(-1,0),d):new a.enemyBeastBullet(this.game,b.x-17.5,b.y,"beastBoyAtlas","s_bul_10001",new Phaser.Point(1,0),d):c>4&&c<7&&(e=5==c?new a.enemyBeastBullet(this.game,b.x+20,b.y-22,"beastBoyAtlas","s_bul_10001",new Phaser.Point(-1,0),100):new a.enemyBeastBullet(this.game,b.x-20,b.y-22,"beastBoyAtlas","s_bul_10001",new Phaser.Point(1,0),100)),this._bulletObjects.add(e)},c.prototype.bulletRemove=function(a){this._bulletObjects.remove(a),a.destroy(!0)},c.prototype.enemyRemove=function(a){this._enemyObjects.remove(a),a.destroy(!0)},c.prototype.checkBulletHit=function(a){var b=this;this._solidObjects.forEachAlive(function(c){if(b.checkEasyInteract(a,c))return void b.bulletRemove(a)},this)},Object.defineProperty(c.prototype,"gameUI",{get:function(){return this._gameUI},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"gamePlayer",{get:function(){return this._hero},enumerable:!0,configurable:!0}),c.prototype.checkBulletHitPlayer=function(a){return!(!this._hero.canHit||!this.checkOverlapWithSpriteAndSpriteForEnemy(a.hitBody,this._hero.hitBody))&&(this._hero.setPlayerHit(a),!0)},Object.defineProperty(c.prototype,"currentPlayerSpeed",{get:function(){return this._hero.runspeed},enumerable:!0,configurable:!0}),c.GAME_SPEED_SCALE=.417,c.currentGameLevel=1,c}(Phaser.State);a.BeastBoyGame=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b.prototype.preload=function(){this.game.load.onFileComplete.add(this.loadingUpdate,this),this.game.load.image("cn_logo",b.PATH_IMAGES+"preloader/cnlogo.jpg"),this.game.load.atlas("preload",b.PATH_IMAGES+"preloader/Preloader.png",b.PATH_IMAGES+"preloader/Preloader.json")},b.prototype.create=function(){this.enabledMultitouch(!0),this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.refresh(),this.game.input.touch.preventDefault=!1,this.game.device.desktop?this.game.input.mouse.enabled=!0:this.game.input.mouse.enabled=!1,this.game.stage.disableVisibilityChange=!0,this.game.stage.backgroundColor=000000,this.game.renderer.renderSession.roundPixels=!0},b.prototype.loadingUpdate=function(a,b,c,d,e){a>=100&&(this.game.load.onFileComplete.removeAll(),this.game.state.start("Preloader",!0))},b.prototype.enabledMultitouch=function(a){a?(this.game.input.maxPointers=2,this.game.input.addPointer(),this.game.input.addPointer()):this.game.input.maxPointers=1},b.PATH_IMAGES="./assets/images/",b.PATH_FONTS="./assets/fonts/",b.PATH_SOUNDS="./assets/sounds/",b.PATH_SETTINGS="./assets/settings/",b.PATH_DATA="./assets/data/",b.BEASTBOY_GAME_WIN=null,b.CYBORG_GAME_WIN=!1,b.CYBORG_GAME_SCORE=0,b}(Phaser.State);a.Boot=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.create=function(){var b=this;c.instance=this,this.xmin=110,this.xmax=520,this.nx=0,this.noshot=0,this.autofire=0,this.oldx=300,this.oldy=200,this.diff=0,this._bombrange=175,this._hit=0,this.hitrange=40,this._xmouse=300,this._ymouse=200,this._gameContainer=this.game.add.sprite(0,0),this._bulletContainer=this.game.make.sprite(0,0),this._enemyContainer=this.game.add.group(),this._bg=this.game.add.sprite(300,200,"bg"),this._bg.anchor.set(.5),this._gameContainer.addChild(this._bg),this._movedLeft=new a.movedVert(this.game,170,410),this._gameContainer.addChild(this._movedLeft),this._movedRight=new a.movedVert(this.game,430,410,-1),this._gameContainer.addChild(this._movedRight),this._movedUp=new a.movedUp(this.game,300,0),this._gameContainer.addChild(this._movedUp),this._gameContainer.addChild(this._bulletContainer),this._gameContainer.addChild(this._enemyContainer),this._cyborg=new a.cyborgBody(this.game,300,375),this._gameContainer.addChild(this._cyborg),this.game.input.enabled=!0,this.game.input.addMoveCallback(function(a){b._xmouse=a.x,b._ymouse=a.y,b.game.device.desktop?b._cyborg.setHandPosition(b._ymouse):b._cyborg.setHandPosition(0)},this),this.game.input.onDown.add(function(){b.game.device.desktop&&(b.autofire=1)},!0),this.game.input.onUp.add(function(){b.game.device.desktop&&(b.autofire=0)},!0),this.game.device.desktop||(this._cyborg.setHandPosition(0),this.autofire=1),this._bullets=[],this._enemyBombs=[],this._enemyBombs2=[],this._enemyBombs3=[],this._enemyBombs4=[],this._enemyBombs4b=[],this._enemySHU1s=[],this._enemySHU2s=[],this._enemyBonus=[],this._enemyArray=[],this.enemyArrayFilling(),this._aim=0,this._point=50,this._cbx=this._cyborg.x,this.edelay=43,this.delayEnemy=this.edelay,
this._currentHitting=!1,this.d=0,this._gameUI=new a.cyborgUI(this.game),this.world.addChild(this._gameUI);var d=this.game.add.graphics(0,0);d.beginFill(0),d.drawRect(0,0,600,400),d.endFill(),this.game.add.tween(d).to({alpha:0},600,Phaser.Easing.Sinusoidal.Out,!0).onComplete.addOnce(function(){d.destroy()}),a.SoundMixer.play("103_zloop",.4,!0,!0)},c.prototype.enemyArrayFilling=function(){for(var a=0;a<8;a++)this._enemyArray.push(1,0);this._enemyArray.push(1,1,1,1,1,1,1,1,1,1);for(var a=0;a<12;a++)this._enemyArray.push(2,0);this._enemyArray.push(0,0),this._enemyArray.push(5,5,5,5,5,5,5,5,5,5,5,5,5);for(var a=0;a<12;a++)this._enemyArray.push(4,0,0);this._enemyArray.push(0,0),this._enemyArray.push(8,0),this._enemyArray.push(1,1,1,1,1,1,1,1);for(var a=0;a<15;a++)this._enemyArray.push(1,3,0);this._enemyArray.push(5,5,5,5,5,5,5,5,5,5,5,5,5),this._enemyArray.push(2,2,2,2,2,2,2,2),this._enemyArray.push(0,0),this._enemyArray.push(8);for(var a=0;a<12;a++)this._enemyArray.push(6,6,0);this._enemyArray.push(0,0,0),this._enemyArray.push(7),this._enemyArray.reverse(),this.totalenemy=this._enemyArray.length},c.prototype.initController=function(){},c.prototype.changeScreenPosition=function(a,b){this._gameContainer.position.set(a,b)},c.prototype.updateGameElements=function(){this._bullets.forEach(function(a){a.update()}),this._enemyBombs.forEach(function(a){a.update()}),this._enemyBombs2.forEach(function(a){a.update()}),this._enemyBombs3.forEach(function(a){a.update()}),this._enemyBombs4.forEach(function(a){a.update()}),this._enemyBombs4b.forEach(function(a){a.update()}),this._enemySHU1s.forEach(function(a){a.update()}),this._enemySHU2s.forEach(function(a){a.update()}),this._enemyBonus.forEach(function(a){a.update()})},c.prototype.shutdown=function(){this._bullets.forEach(function(a){a.destroy(!0)}),this._bullets=[],this._enemyBombs.forEach(function(a){a.destroy(!0)}),this._enemyBombs=[],this._enemyBombs2.forEach(function(a){a.destroy(!0)}),this._enemyBombs2=[],this._enemyBombs3.forEach(function(a){a.destroy(!0)}),this._enemyBombs3=[],this._enemyBombs4.forEach(function(a){a.destroy(!0)}),this._enemyBombs4=[],this._enemyBombs4b.forEach(function(a){a.destroy(!0)}),this._enemyBombs4b=[],this._enemySHU1s.forEach(function(a){a.destroy(!0)}),this._enemySHU1s=[],this._enemySHU2s.forEach(function(a){a.destroy(!0)}),this._enemySHU2s=[],this._enemyBonus.forEach(function(a){a.destroy(!0)}),this._enemyBonus=[],this._atlasBoss&&this._atlasBoss.destroy(!0),this._movedLeft.destroy(!0),this._movedRight.destroy(!0),this._movedUp.destroy(!0),this._gameUI.destroy(!0),this._cyborg.destroy(!0),this._atlasBoss=null,this._movedLeft=null,this._movedRight=null,this._movedUp=null,this._gameUI=null,this._cyborg=null,this._gameContainer.destroy(!0)},c.prototype.update=function(){if(this.updateGameElements(),this._enemyContainer.sort("dis",Phaser.Group.SORT_DESCENDING),this._cyborg.update(),this.movePlayerUpdate(),this._atlasBoss&&this._atlasBoss.update(),this.noshot--,0==this.noshot&&this._cyborg.shootPlay(),this.autofire&&this.noshot<0&&(this.noshot=10),--this.delayEnemy<0&&(this.delayEnemy=this.edelay,this._enemyArray.length>0)){var a=this._enemyArray.pop();this.generateNewEnemy(a)}this._gameUI.updateProgress(this._enemyArray.length,this.totalenemy)},c.prototype.movePlayerUpdate=function(){this._currentHitting?--this.d<=0&&(this.hit=0,this._currentHitting=!1):(this.nx=this._xmouse,this.nx<this.xmin&&(this.nx=this.xmin),this.nx>this.xmax&&(this.nx=this.xmax),this.oldx=this._cyborg.x,this.oldy=this._cyborg.y,this._cyborg.x=this.nx+(this._cyborg.x-this.nx)/1.2,this._cbx=this._cyborg.x,this.diff=.1*(280-this._cyborg.x),this.hit&&(this._currentHitting=!0,this.d=15/c.GAME_SPEED_SCALE))},c.prototype.cekhita=function(){for(var a=0;a<this._bullets.length;a++){var b=this._bullets[a];Math.abs(b.ypoint-this._atlasBoss.y)<c.AIMRANGE&&this.checkOverlapWithSpriteAndPoint(b.x,b.y,this._atlasBoss)&&(b.removeBullet(),this._atlasBoss.hit=!0)}},c.prototype.cekhit=function(a){for(var b=0;b<this._bullets.length;b++){var c=this._bullets[b];c.alpha>.3&&this.checkOverlapWithSpriteAndPoint(c.x,c.y,a)&&Math.abs(c.dis-a.dis)<this.hitrange&&(a.hit=!0,c.removeBullet())}},c.prototype.cekhit2=function(a){for(var b=0;b<this._bullets.length;b++){var d=this._bullets[b];d.alpha>.3&&Math.abs(d.ypoint-a.y)<c.AIMRANGE&&this.checkOverlapWithSpriteAndSprite(d,a)&&Math.abs(d.dis-a.dis)<this.hitrange&&(a.hit=!0,d.removeBullet())}},c.prototype.generateNewEnemy=function(b){var c;switch(b){case 1:c=new a.enemyBomb(this.game),this._enemyBombs.push(c),this._enemyContainer.add(c);break;case 2:c=new a.enemyBomb2(this.game),this._enemyBombs2.push(c),this._enemyContainer.add(c);break;case 3:c=new a.enemyBomb3(this.game),this._enemyBombs3.push(c),this._enemyContainer.add(c);break;case 4:c=new a.enemyBomb4(this.game),this._enemyBombs4.push(c),this._enemyContainer.add(c);break;case 5:c=new a.enemySHU1(this.game),this._enemySHU1s.push(c),this._enemyContainer.add(c);break;case 6:c=new a.enemySHU2(this.game),this._enemySHU2s.push(c),this._enemyContainer.add(c);break;case 7:this._atlasBoss=new a.atlasBoss(this.game,300,200),this._gameContainer.addChildAt(this._atlasBoss,this._cyborg.parent.children.length-2);break;case 8:c=new a.enemyBonus(this.game),this._enemyBonus.push(c),this._enemyContainer.add(c)}},c.prototype.checkOverlapWithSpriteAndPoint=function(a,b,c){var d=new Phaser.Rectangle(a,b,1,1),e=new Phaser.Rectangle(c.x,c.y,c._visual.width*c.scale.x,c._visual.height*c.scale.y);return Phaser.Rectangle.intersects(d,e)},c.prototype.checkOverlapWithSpriteAndSprite=function(a,b){var c=new Phaser.Rectangle(a.x,a.y,a._visual.width*a.scale.x,a._visual.height*a.scale.y),d=new Phaser.Rectangle(b.x,b.y,b._visual.width*b.scale.x,b._visual.height*b.scale.y);return Phaser.Rectangle.intersects(c,d)},c.prototype.removeEnemy=function(a,b){switch(b){case"enemyBomb1":for(var c=this._enemyBombs.length-1;c>=0;c--)if(this._enemyBombs[c]==a){this._enemyBombs.splice(c,1);break}break;case"enemyBomb2":for(var c=this._enemyBombs2.length-1;c>=0;c--)if(this._enemyBombs2[c]==a){this._enemyBombs2.splice(c,1);break}break;case"enemyBomb3":for(var c=this._enemyBombs3.length-1;c>=0;c--)if(this._enemyBombs3[c]==a){this._enemyBombs3.splice(c,1);break}break;case"enemyBomb4":for(var c=this._enemyBombs4.length-1;c>=0;c--)if(this._enemyBombs4[c]==a){this._enemyBombs4.splice(c,1);break}break;case"enemyBomb4b":for(var c=this._enemyBombs4b.length-1;c>=0;c--)if(this._enemyBombs4b[c]==a){this._enemyBombs4b.splice(c,1);break}break;case"enemySHU1":for(var c=this._enemySHU1s.length-1;c>=0;c--)if(this._enemySHU1s[c]==a){this._enemySHU1s.splice(c,1);break}break;case"enemySHU2":for(var c=this._enemySHU2s.length-1;c>=0;c--)if(this._enemySHU2s[c]==a){this._enemySHU2s.splice(c,1);break}break;case"enemyBonus":for(var c=this._enemyBonus.length-1;c>=0;c--)if(this._enemyBonus[c]==a){this._enemyBonus.splice(c,1);break}}},c.prototype.createSubBomb=function(b,c,d,e,f,g,h){var i=new a.enemyBomb4b(this.game,f,g,c,b,d,e,h);this._enemyBombs4b.push(i),this._enemyContainer.add(i)},c.prototype.createBullet=function(a){this._bullets.push(a),this._bulletContainer.addChild(a)},c.prototype.removeBullet=function(a){for(var b=this._bullets.length-1;b>=0;b--)if(this._bullets[b]==a){this._bullets.splice(b,1);break}},c.prototype.addScore=function(a){this._gameUI.addScore(a)},Object.defineProperty(c.prototype,"aim",{get:function(){return this._aim},set:function(a){this._aim=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cbx",{get:function(){return this._cbx},set:function(a){this._cbx=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"bombrange",{get:function(){return this._bombrange},set:function(a){this._bombrange=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hit",{get:function(){return this._hit},set:function(a){0==a&&(this._currentHitting=!1),1!=a||this._currentHitting||this.changeEnergy(-10),this._hit=a},enumerable:!0,configurable:!0}),c.prototype.changeEnergy=function(a){this._gameUI.changeEnergy(a)},Object.defineProperty(c.prototype,"cyborgX",{get:function(){return this._cyborg.x},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"point",{get:function(){return this._point},enumerable:!0,configurable:!0}),c.DISTANCE=100,c.AIMRANGE=150,c.GAME_SPEED_SCALE=.417,c}(Phaser.State);a.CyborgGame=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.create=function(){var b=this;this.game.stage.backgroundColor=0,this._bg=this.game.add.sprite(300,200,"loseCyborgGameScreen"),this._allSheetContainer=this.game.add.sprite(0,0),this._btnReplay=new a.OButton(this.game,"cyborgHand",["button_10001","button_10002","button_10003","button_10003"],function(){var c=b.game.add.graphics(0,0);c.beginFill(0),c.drawRect(0,0,600,400),c.endFill(),c.alpha=0,b.game.add.tween(c).to({alpha:1},300,Phaser.Easing.Sinusoidal.Out,!0).onComplete.addOnce(function(){a.Boot.CYBORG_GAME_WIN=!1,a.Boot.CYBORG_GAME_SCORE=0,b.game.state.start("CyborgGame",!0)})}),this._allSheetContainer.addChild(this._btnReplay),this._btnMenu=new a.OButton(this.game,"cyborgHand",["button_10001","button_10002","button_10003","button_10003"],function(){b.game.state.start("MainMenu",!0)}),this._allSheetContainer.addChild(this._btnMenu);var c=this.game.make.text(0,2,"PLAY AGAIN",{font:"RedFive",fontSize:"14px",fill:"#FFCC00"});c.align="center",c.anchor.set(.5),this._btnReplay.addChild(c);var d=this.game.make.text(0,2,"MAIN MENU",{font:"RedFive",fontSize:"14px",fill:"#FFCC00"});if(d.align="center",d.anchor.set(.5),this._btnMenu.addChild(d),this._bigGameTitle=this.game.make.text(183.75,104.6,"GAME OVER",{font:"RedFive",fontSize:"20px",stroke:"#000000",strokeThickness:2,fill:"#FFFFFF"}),this._bigGameTitle.align="center",this._bigGameTitle.anchor.set(.5),this._allSheetContainer.addChild(this._bigGameTitle),this._scoreTitle=this.game.make.text(183.75,139.6,"YOU SCORE",{font:"RedFive",fontSize:"12px",stroke:"#000000",strokeThickness:1,fill:"#FFCC00"}),this._scoreTitle.align="center",this._scoreTitle.anchor.set(.5),this._allSheetContainer.addChild(this._scoreTitle),this._scoreCount=this.game.make.text(183.75,178.6,a.Boot.CYBORG_GAME_SCORE+"",{font:"RedFive",fontSize:"20px",stroke:"#000000",strokeThickness:2,fill:"#FFFFFF"}),this._scoreCount.align="center",this._scoreCount.anchor.set(.5),this._allSheetContainer.addChild(this._scoreCount),a.Boot.CYBORG_GAME_WIN){a.SoundMixer.play("106_zwin",.4,!0,!0),this._bg.loadTexture("winCyborgGameScreen"),this._btnReplay.position.set(201.75,235.25),this._btnMenu.position.set(201.75,263.25),this._bigGameTitle.text="congratulations!",this._bigGameTitle.position.set(201.75,102);var e=this.game.make.text(201.75,126,"you defeated ATLAS",{font:"RedFive",fontSize:"15px",stroke:"#000000",strokeThickness:1,fill:"#FFCC00"});e.align="center",e.anchor.set(.5),this._allSheetContainer.addChild(e),this._scoreTitle.position.set(201.75,162),this._scoreCount.position.set(201.75,201)}else this._btnReplay.position.set(183.75,221.25),this._btnMenu.position.set(183.75,249.25),a.SoundMixer.play("105_zlose",.4,!0,!0);this._bg.anchor.set(.5);var f=this.game.add.graphics(0,0);f.beginFill(0),f.drawRect(0,0,600,400),f.endFill(),this.game.add.tween(f).to({alpha:0},300,Phaser.Easing.Sinusoidal.Out,!0)},c.prototype.shutdown=function(){a.SoundMixer.bgStop()},c}(Phaser.State);a.CyborgGameEnd=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;return a._ind=0,a}return __extends(c,b),c.prototype.init=function(a){void 0===a&&(a=4),this._ind=a},c.prototype.shutdown=function(){a.MainMenu.ZALOOP&&a.MainMenu.ZALOOP.stop()},c.prototype.create=function(){var b=this;if(this.add.image(0,0,"mainmenu","hintbg"),this.add.image(this.world.centerX,this.world.centerY,"mainmenu","hinttext000"+(this._ind+1)).anchor.set(.5),this._b=new a.OButton(this.game,"mainmenu",["hintplay"],function(){b.gotoLvl(b._ind)}),this._b.x=this.world.centerX,this._b.y=365,this.add.existing(this._b),0==this._ind){var c=this.game.add.image(this.world.centerX,this.world.centerY+25,"mainmenu","H00001");c.anchor.set(.5),c.animations.add("loop",Phaser.Animation.generateFrameNames("H0",1,35,"",4),25,!0).onLoop.add(function(){b.createBoom(8,b.world.centerX,b.world.centerY+25),b.createBoom(1,b.world.centerX,b.world.centerY+25)}),c.play("loop")}if(2==this._ind){var c=this.game.add.image(this.world.centerX,this.world.centerY+50,"mainmenu","H00001");c.anchor.set(.5),c.animations.add("loop",Phaser.Animation.generateFrameNames("H4",1,2,"",4),1,!0),c.play("loop")}},c.prototype.createBoom=function(b,c,d){for(var e=0;e<10;e++){var f=new a.Musor2(this.game,b,c+60,d);this.add.existing(f)}},c.prototype.gotoLvl=function(a){switch(a){case 0:this.game.state.start("Raven",!0);break;case 1:this.game.state.start("Star",!0);break;case 2:this.game.state.start("Robin",!0);break;case 3:this.game.state.start("BeastBoyGame",!0);break;case 4:this.game.state.start("CyborgGame",!0)}},c}(Phaser.State);a.Hint=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.create=function(){var b=this;this.add.image(0,0,"mainmenu","title"),this._b=new a.OButton(this.game,"mainmenu",["playBtn"],function(){b.game.state.start("SelectLevel",!0)}),this._b.x=this.world.centerX,this._b.y=375,this.add.existing(this._b),c.ZALOOP=a.SoundMixer.play("mm_zloop",.4,!0,!0)},c}(Phaser.State);a.MainMenu=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;return a._loadedAssets=!1,a._loadedFont=!1,a}return __extends(c,b),c.prototype.preload=function(){var b=this;this.game.load.onFileComplete.add(this.loadingUpdate,this),this._cnLogo=this.add.image(this.world.centerX-3,this.world.centerY-100+60,"cn_logo"),this._cnLogo.scale.set(.8),this._cnLogo.anchor.set(.5),this._loading=new a.ParallaxImage(this.game,"preload","bgProress0000",0),this._loading.anchor.set(.5),this.game.world.add(this._loading),this._footer=this.add.image(this.world.centerX,this.world.centerY+120-20,"preload","preloaderFooter0000"),this._footer.anchor.set(.5),this._loading.x=this._footer.x-.5*this._footer.width-2,this._loading.y=this._footer.y-50,this._loadingMask=this.add.graphics(4,24),this._loadingMask.beginFill(16711680,.5),this._loadingMask.drawRect(0,0,this._footer.width-5,this._footer.height-5),this._loadingMask.endFill(),this._loading.addChild(this._loadingMask),this._loading.mask=this._loadingMask,this._loadingMask.scale.x=0,this.game.load.atlas("mainmenu",a.Boot.PATH_IMAGES+"game/mainmenu.png",a.Boot.PATH_IMAGES+"game/mainmenu.json"),this.game.load.atlas("star",a.Boot.PATH_IMAGES+"game/star.png",a.Boot.PATH_IMAGES+"game/star.json"),this.game.load.json("star_lvl",a.Boot.PATH_DATA+"starlvl.json"),this.game.load.atlas("robin",a.Boot.PATH_IMAGES+"game/robin.png",a.Boot.PATH_IMAGES+"game/robin.json"),this.game.load.atlas("robin_end",a.Boot.PATH_IMAGES+"game/robin_end.png",a.Boot.PATH_IMAGES+"game/robin_end.json"),this.game.load.atlas("raven",a.Boot.PATH_IMAGES+"game/raven.png",a.Boot.PATH_IMAGES+"game/raven.json"),this.game.load.atlas("raven_boss",a.Boot.PATH_IMAGES+"game/raven_boss.png",a.Boot.PATH_IMAGES+"game/raven_boss.json"),this.game.load.image("loseCyborgGameScreen",a.Boot.PATH_IMAGES+"game/loseCyborgGameScreen.png"),this.game.load.image("winCyborgGameScreen",a.Boot.PATH_IMAGES+"game/winCyborgGameScreen.png"),this.game.load.image("bg",a.Boot.PATH_IMAGES+"game/bg.png"),this.game.load.image("wall_1",a.Boot.PATH_IMAGES+"game/wall_1_10030.png"),this.game.load.image("cei_ani",a.Boot.PATH_IMAGES+"game/cei_ani_10040.png"),this.game.load.image("cei_lamp",a.Boot.PATH_IMAGES+"game/cei_lamp_10040.png"),this.game.load.atlas("cyborgHand",a.Boot.PATH_IMAGES+"game/cyborgHandA.png",a.Boot.PATH_IMAGES+"game/cyborgHandA.json"),this.game.load.atlas("atlasAtlas",a.Boot.PATH_IMAGES+"game/atlasCyborgBossAtlas.png",a.Boot.PATH_IMAGES+"game/atlasCyborgBossAtlas.json"),this.game.load.tilemap("Level1","./assets/tilemap/Level1.json",null,Phaser.Tilemap.TILED_JSON),this.game.load.tilemap("Level2","./assets/tilemap/Level2.json",null,Phaser.Tilemap.TILED_JSON),this.game.load.tilemap("Level3","./assets/tilemap/Level3.json",null,Phaser.Tilemap.TILED_JSON),this.game.load.tilemap("Level4","./assets/tilemap/Level4.json",null,Phaser.Tilemap.TILED_JSON),this.game.load.tilemap("Level5","./assets/tilemap/Level5.json",null,Phaser.Tilemap.TILED_JSON),this.game.load.tilemap("Level6","./assets/tilemap/Level6.json",null,Phaser.Tilemap.TILED_JSON),this.game.load.tilemap("Level7","./assets/tilemap/Level7.json",null,Phaser.Tilemap.TILED_JSON),this.game.load.atlas("beastBoyAtlas",a.Boot.PATH_IMAGES+"game/beastBoyAtlas.png",a.Boot.PATH_IMAGES+"game/beastBoyAtlas.json"),this.game.load.atlas("beastBoyBigAtlas",a.Boot.PATH_IMAGES+"game/beastBoyBigAtlas.png",a.Boot.PATH_IMAGES+"game/beastBoyBigAtlas.json"),this.game.load.atlas("bbend",a.Boot.PATH_IMAGES+"game/bbend.png",a.Boot.PATH_IMAGES+"game/bbend.json"),this.game.load.audiosprite("benten_fx",[a.Boot.PATH_SOUNDS+"sfx.mp3",a.Boot.PATH_SOUNDS+"sfx.ogg"],a.Boot.PATH_SOUNDS+"sfx.json"),a.System.loadFonts(["RedFive"],"styles.css",function(){b._loadedFont=!0})},c.prototype.shutdown=function(){this._cnLogo.destroy(),this._cnLogo=null,this._loading.destroy(),this._loading=null,this._footer.destroy(),this._footer=null,this._loadingMask.destroy(),this._loadingMask=null},c.prototype.loadingUpdate=function(b,c,d,e,f){this._loadingMask.scale.x=b/100,b>=100&&(this.game.load.onFileComplete.removeAll(),this._loadedAssets=!0,a.SoundMixer.init(this.game),clearInterval(this._intervalId))},c.prototype.update=function(){var b=this;this._loading.updateScroll(4),this._loadedAssets&&this._loadedFont&&(this._loadedAssets=!1,setTimeout(function(){b.game.state.start(a.LocalConfig.CURRENT_STATE,!0)},400))},c}(Phaser.State);a.Preloader=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;return a.RUBSPEED=2,a.POS=[100,150,200,250,300,350,400,450,500],a.RUBDELAY=Math.floor(48),a.RUBDELAYMIN=Math.floor(38.4),a._maxEnergy=100,a}return __extends(c,b),c.prototype.createUI=function(){var a=this.make.graphics(1,1);a.beginFill(0),a.drawRect(0,0,203,11),a.endFill();var b=this.add.image(374,10,"star","bgProgress1",this._uicontainer);this._fg=this.add.sprite(372,10,"star","fgProgress0001",this._uicontainer),this._fg.animations.add("hit",Phaser.Animation.generateFrameNames("fgProgress",1,12,"",4),25),this._fg.skew.x=.3,this._progreess=this.make.image(0,5,"star","progress"),this._progreess.scale.x=1.02,b.addChild(this._progreess),b.addChild(a),b.mask=a,b.skew.x=.3;this.add.image(10,10,"star","score",this._uicontainer),this.add.image(285,10,"raven","name",this._uicontainer);this.add.image(10,310,"raven","house",this._uicontainer).alpha=.25,this._progreess2=this.add.image(10,310,"raven","house",this._uicontainer),this._mmm=this.make.graphics(0,76),this._mmm.beginFill(0),this._mmm.drawRect(0,0,28,76),this._mmm.endFill(),this._progreess2.addChild(this._mmm),this._progreess2.mask=this._mmm,this._scoreText=this.game.make.text(90,8,"0",{font:"RedFive",fontSize:"18px",fill:"#ffffff",stroke:"#000",strokeThickness:3}),this._uicontainer.addChild(this._scoreText),this.setLife(1)},c.prototype.setLife=function(a){a<0&&(a=0),a>1&&(a=1),this._progreess.x=198*-(1-a)},c.prototype.create=function(){var b=this;c.instance=this,a.SoundMixer.play("rv_zloop",.4,!0,!0),this.SELECTED=null,this._countRuben=0,this._bossEnergy=10,this._energy=100,this._score=0,this.add.image(0,0,"raven","bg1"),this._bg=[];for(var d=0;d<2;d++){var e=this.add.image(-33,508*d,"raven","bg2");this._bg.push(e)}this._bg3=this.game.add.image(-33,-321,"raven","bg3"),this._bg3.exists=!1,this._boss=this.game.make.image(292,98,"raven_boss","boss0001"),this._boss.anchor.set(.5),this._bg3.addChild(this._boss),this._boss.animations.add("stand",Phaser.Animation.generateFrameNames("boss",1,5,"",4),20,!0),this._boss.animations.add("a1",Phaser.Animation.generateFrameNames("boss",6,26,"",4),25),this._boss.animations.add("a2",Phaser.Animation.generateFrameNames("boss",27,47,"",4),25),this._boss.animations.add("hit",Phaser.Animation.generateFrameNames("boss",48,59,"",4),25),this._boss.animations.add("hitdead",Phaser.Animation.generateFrameNames("boss",48,119,"",4),25),this._boss.play("stand"),this._bossHit=new a.MPolygon,this._bossHit.setBox(80,80),this._bossHit.parent=this._boss,this.container=this.add.group(),this._ruben=[],this._speed=1.2,this._persstop=!1,this._stoprubble=!1,this._d=this.RUBDELAY,this.NOMUSOR=!1,this._ld=Math.floor(960),this._bonusDelay=Math.floor(60),this._rockwait=Math.floor(12),this._musor=[];for(var d=0;d<15;d++){var f=new a.Musor;this.container.addChild(f),this._musor.push(f)}this._dg=this.add.graphics(0,0),this._mouseDown=!1,this.input.onDown.add(function(c){b._mouseDown=!0,"take_begin"!=b._hero.animations.name&&"take"!=b._hero.animations.name&&(b._hero.play("take_begin").onComplete.addOnce(function(){b._hero.play("take")}),b._persstop=!0),b._bossEnergy>0&&b._bg3.exists&&0==b._bg3.y&&b._water.contains(c.position.x,c.position.y)&&(b.getRuben3(c.position.x,c.position.y),a.SoundMixer.play("rv_zwater",.4))}),this.input.onUp.add(function(){b._mouseDown=!1;for(var a=0;a<b._ruben.length;a++)b._ruben[a].mouseOut();"take"==b._hero.animations.name&&b._hero.play("take_end").onComplete.addOnce(function(){b._hero.play("fly0")}),b._persstop=!1,b.SELECTED=null}),this._hero=this.add.image(this.world.centerX,0,"raven","raven0001"),this._hero.anchor.set(.5),this._hit=new a.MPolygon,this._hit.setBox(26,80),this._hit.y=5,this._hit.parent=this._hero,this._water=new a.MPolygon,this._water.setBox(100,60),this._water.x=550,this._water.y=170,this._hero.animations.add("fly0",Phaser.Animation.generateFrameNames("raven",1,24,"",4),25,!0),this._hero.animations.add("fly1",Phaser.Animation.generateFrameNames("raven",25,42,"",4),25),this._hero.animations.add("fly2",Phaser.Animation.generateFrameNames("raven",43,60,"",4),25),this._hero.animations.add("take_begin",Phaser.Animation.generateFrameNames("raven",61,63,"",4),25),this._hero.animations.add("take",Phaser.Animation.generateFrameNames("raven",64,70,"",4),25,!0),this._hero.animations.add("take_end",Phaser.Animation.generateFrameNames("raven",71,77,"",4),25),this._hero.animations.add("hit",Phaser.Animation.generateFrameNames("raven",78,87,"",4),25),this._hero.play("fly0"),this._uicontainer=this.game.add.group(),this.createUI()},c.prototype.createBoom=function(b,c,d){for(var e=0;e<10;e++){var f=new a.Musor(b,c,d);this.container.addChild(f)}},c.prototype.addDamage=function(a){var b=this;void 0===a&&(a=!1),a?this._energy=100:this._energy-=20,this._fg.play("hit"),this._energy<=0&&setTimeout(function(){b.showLose()},800),this.setLife(this._energy/this._maxEnergy)},c.prototype.showWin=function(){this.game.state.start("RavenEnd",!0,!1,this._score,!0)},c.prototype.showLose=function(){this.game.state.start("RavenEnd",!0,!1,this._score,!1)},c.prototype.addScore=function(a){void 0===a&&(a=100),this._score+=a,this._scoreText.text=""+this._score},c.prototype.update=function(){var b=this;if(this._dg.clear(),this._bg3.exists){if(this._bg3.y+=this._speed,this._bg3.y>=0&&(this._bg3.y=0,this._speed=0,this._stoprubble=!0,this.NOMUSOR=!0),this._bossEnergy>0&&0==this._bg3.y&&--this._timeBossAttack<=0){this._timeBossAttack=80;var c=this.rnd.integerInRange(1,2);this._boss.play("a"+c).onComplete.addOnce(function(){b._boss.play("stand")}),setTimeout(function(){b.getRuben2(b.rnd.integerInRange(1,5),b._boss.x+(1==c?15:-25),b._boss.y)},500)}this.SELECTED&&this.SELECTED.SPECIAL&&this.SELECTED.hitBox.hit(this._bossHit)&&(this.SELECTED.mouseOut(),this.SELECTED.dead(!1),this.SELECTED=null,this.addScore(),this._persstop=!1,this._mouseDown=!1,a.SoundMixer.play("rv_zsplash",.4),a.SoundMixer.play("rv_zshrink",.4),this._bossEnergy--,this._bossEnergy<=0?this._boss.play("hitdead").onComplete.addOnce(function(){b.showWin()}):this._boss.play("hit").onComplete.addOnce(function(){b._boss.play("stand")}))}for(var d=0;d<2;d++){this._bg[d].y+=this._speed;var e=0==d?1:0;this._bg[d].y>400&&(this._bg[d].y=this._bg[e].y-507)}var f,g,h=.08;1==this._hero.alpha?(f=this.input.x?this.input.x:this._hero.x,g=this.input.y?this.input.y:this._hero.y):(f=this._hero.x,g=this._hero.y+30,h=.15),f<50?f=50:f>550&&(f=550);var i=this._hero.x;this._hero.y;if(0==this._persstop){this._hero.x=this._hero.x+.08*(f-this._hero.x),this._hero.y=this._hero.y+(g-this._hero.y)*h;var j=i-this._hero.x;Math.abs(j)>4&&"fly0"==this._hero.animations.name&&(j<0?this._hero.play("fly2").onComplete.addOnce(function(){b._hero.play("fly0")}):this._hero.play("fly1").onComplete.addOnce(function(){b._hero.play("fly0")}))}this._hero.alpha+=.03,this._hero.alpha>1&&(this._hero.alpha=1);for(var d=0;d<this._ruben.length;d++)1==this._hero.alpha&&this._ruben[d].hitme2(this._hit)&&(this._ruben[d].BONUS?(this._ruben[d].dead(!0),this.addDamage(!0)):(this._ruben[d].ihithero=!0,this._hero.alpha=.4,this._hero.play("hit").onComplete.addOnce(function(){b._hero.play("fly0"),b._hero.alpha=1}),this.addDamage(),a.SoundMixer.play("rv_zhit",.4),this._persstop=!1,this._mouseDown=!1,this.SELECTED&&(this.SELECTED.mouseOut(),this.SELECTED=null)));if(1==this._hero.alpha&&(this._hero.y=Math.min(Math.max(this._hero.y,290),340)),this._mouseDown&&null==this.SELECTED)for(var d=0;d<this._ruben.length&&!this._ruben[d].mouseDown(this.input.x,this.input.y);d++);else if(this.SELECTED){this.SELECTED.movemove(this.input.x,this.input.y);for(var d=0;d<this._ruben.length;d++)this.SELECTED!=this._ruben[d]&&this._ruben[d].hitme(this.SELECTED)&&(this._ruben[d].dead(!1),this.SELECTED.dead(!1),this.SELECTED=null,this.addScore(),this._hero.play("take_end").onComplete.addOnce(function(){b._hero.play("fly0")}),this._persstop=!1,this._mouseDown=!1)}if(!this._stoprubble){if(!--this._d)if(0==--this._bonusDelay)this._d=2*this.RUBDELAY,this.getRuben4Bonus(this.POS[this.game.rnd.integerInRange(0,this.POS.length-1)]);else{this._d=this.RUBDELAY;var k=0;this._rockwait>0?(this._rockwait--,k=1):(k=2,this._rockwait=Math.floor(2.4*(1+this.game.rnd.integerInRange(0,3))));var l=void 0;l=1==k?this.game.rnd.integerInRange(1,5):this.game.rnd.integerInRange(6,8),this.getRuben(l,this.POS[this.game.rnd.integerInRange(0,this.POS.length-1)])}this._ld--,this._ld||(this._ld=Math.floor(960),this.RUBDELAY>this.RUBDELAYMIN&&(this.RUBDELAY-=Math.floor(2.4)),this.RUBSPEED<5&&(this.RUBSPEED+=.2),Math.random())}},c.prototype.getRuben=function(b,c){if(!this._bg3.exists){if(this._countRuben++,this._mmm.y=76-this._countRuben/98*76,98==this._countRuben)return this._bg3.exists=!0,this._timeBossAttack=50,void a.SoundMixer.play("rv_zboss",.4,!0,!0);for(var d=0;d<this._ruben.length;d++)if(this._ruben[d].isDead)return this._ruben[d].reuse(b),void(this._ruben[d].x=c);var e=new a.Ruben(b);e.x=c,this.container.add(e),this._ruben.push(e)}},c.prototype.getRuben2=function(b,c,d){for(var e=0;e<this._ruben.length;e++)if(this._ruben[e].isDead)return this._ruben[e].reuse(b),this._ruben[e].x=c,void(this._ruben[e].y=d);var f=new a.Ruben(b);f.x=c,f.x=d,this.container.add(f),this._ruben.push(f)},c.prototype.getRuben3=function(b,c){for(var d=0;d<this._ruben.length;d++)if(this._ruben[d].isDead)return this._ruben[d].reuse(9),this._ruben[d].x=b,void(this._ruben[d].y=c);var e=new a.Ruben(9);e.x=b,e.x=c,this.container.add(e),this._ruben.push(e)},c.prototype.getRuben4Bonus=function(b){for(var c=0;c<this._ruben.length;c++)if(this._ruben[c].isDead)return this._ruben[c].reuse(16),void(this._ruben[c].x=b);var d=new a.Ruben(16);d.x=b,this.container.add(d),this._ruben.push(d)},c}(Phaser.State);a.Raven=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.init=function(a,b){void 0===a&&(a=0),void 0===b&&(b=!0),this._score=a,this._win=b},c.prototype.create=function(){var b=this;this._visual=this.add.image(0,0,"raven",this._win?"win":"lose"),this._win?a.SoundMixer.play("106_zwin",.4,!0,!0):a.SoundMixer.play("105_zlose",.4,!0,!0);var c=this._win?-55:-45,d=this._win?60:20;this._scoreText=this.game.add.text(225+c,190+d,""+this._score,{font:"RedFive",fontSize:"20px",fontWeight:"normal",fill:"#ffffff",stroke:"#000",strokeThickness:2}),this._scoreText.wordWrap=!0,this._scoreText.align="center",this._scoreText.anchor.set(.5),this._rp=new a.OButton(this.game,"star",["btnPA"],function(){b.game.state.start("Raven",!0)}),this._rp.x=this.world.centerX-82+c,this._rp.y=230+d,this.add.existing(this._rp),this._mm=new a.OButton(this.game,"star",["btnMM"],function(){b.game.state.start("MainMenu",!0)}),this._mm.x=this.world.centerX-82+c,this._mm.y=260+d,this.add.existing(this._mm)},c.prototype.shutdown=function(){a.SoundMixer.bgStop()},c}(Phaser.State);a.RavenEnd=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;return a._lanepos=[295,340,380],a.MAX_TIMER=10,a.varx=0,a.vary=0,a._maxEnergy=100,a}return __extends(c,b),c.prototype.createUI=function(){var a=this.make.graphics(1,1);a.beginFill(0),a.drawRect(0,0,203,11),a.endFill();var b=this.add.image(374,10,"star","bgProgress1",this._uicontainer);this._fg=this.add.sprite(372,10,"star","fgProgress0001",this._uicontainer),this._fg.animations.add("hit",Phaser.Animation.generateFrameNames("fgProgress",1,12,"",4),25),this._fg.skew.x=.3,this._progreess=this.make.image(0,5,"star","progress"),
this._progreess.scale.x=1.02,b.addChild(this._progreess),b.addChild(a),b.mask=a,b.skew.x=.3;this.add.image(10,10,"star","score",this._uicontainer),this.add.image(285,10,"robin","rrobin",this._uicontainer);if(this._progreess2=this.add.image(10,374,"robin","pbrobin0100",this._uicontainer),this._scoreText=this.game.make.text(90,8,"0",{font:"RedFive",fontSize:"18px",fill:"#ffffff",stroke:"#000",strokeThickness:3}),this._uicontainer.addChild(this._scoreText),1==this.game.device.desktop){this._ebg=this.game.add.image(10,363,"robin","bgbar0001",this._uicontainer),this._eeee=this.game.add.image(0,2,"robin","barbar",this._uicontainer);var c=this.game.add.image(2,3,"robin","fgbar"),d=this.make.graphics(1,1);d.beginFill(0),d.drawRect(0,0,c.width+2,c.height+7),d.endFill(),this._eeee.mask=d,this._ebg.addChild(this._eeee),this._ebg.addChild(d),this._ebg.addChild(c),this._ebg.scale.set(1.38,.9)}this.setLife(1)},c.prototype.setLife=function(a){a<0&&(a=0),a>1&&(a=1),this._progreess.x=198*-(1-a)},c.prototype.create=function(){var b=this;c.instance=this,a.SoundMixer.play("rb_zloop",.4,!0,!0),this._sndMotor=a.SoundMixer.play("rb_zmotor",.4,!1,!0),this.initMap(),this._bg=new a.ParallaxImage(this.game,"robin","bg_1",0),this.add.existing(this._bg),this._container=this.add.group(),this._bulletContainer=this.add.group(),this._uicontainer=this.game.add.group(),this.createUI(),this._z=0,this._zVel=0,this._shoot=!1,this._bulletTimer=this.MAX_TIMER,this._bullets=[],this._countx=0,this.stop=!1,this._enemies=[],this._xxx=[],this._energy=this._maxEnergy,this._score=0,this._robin=this.make.sprite(0,316,"robin","robin0001"),this._robin.anchor.set(63/114,62/77),this._robin.animations.add("run",Phaser.Animation.generateFrameNames("robin",1,41,"",4),25,!0),this._robin.animations.add("jump",Phaser.Animation.generateFrameNames("robin",42,91,"",4),25,!0),this._robin.animations.add("stop",Phaser.Animation.generateFrameNames("robin",92,121,"",4),25),this._robin.play("run"),this._container.add(this._robin),this._robinBox=new a.MPolygon,this._robinBox.setBox(100,14),this._robinBox.parent=this._robin,this._robinBox.x=-20,this._robinBox.y=-10,this._oldRobinPos={x:this._robin.x,y:this._robin.y},this._cars=[],this._addTime=48,this._addItemTimer=0,this.dg=this.add.graphics(0,0),this.game.device.desktop?(this.input.onDown.add(function(){b.shoot()}),this.input.onUp.add(function(){b.shoot(!0)})):this._shoot=!0,this.bgspeed=20},c.prototype.heroAddDamage=function(a){var b=this;void 0===a&&(a=0),1==this._robin.alpha&&(this._robin.alpha=.5,this._energy-=20,this._fg.play("hit"),this._energy<=0&&(this.stop=!0,this.addBoom(this._robin.x,this._robin.y),this.shoot(!1),setTimeout(function(){b.game.state.start("RobinEnd",!0,!1,b._score,!1),b.game.add.tween(b._robin).to({x:b._robin.x-200},1200).start()},1500)),this.setLife(this._energy/this._maxEnergy),this.shoot(!0))},c.prototype.shutdown=function(){a.SoundMixer.stopAll()},c.prototype.addBoom=function(b,c){var d=this.make.image(b,c,"star","explode0001");d.anchor.set(.5),d.scale.set(.9,.9),d.animations.add("idle",Phaser.Animation.generateFrameNames("explode",1,19,"",4),25),d.play("idle").onComplete.addOnce(function(){d.parent.removeChild(d),d=null}),a.SoundMixer.play("rb_zboom2",.4),this._bulletContainer.add(d)},c.prototype.update=function(){this.dg.clear(),this._container.sort("y",Phaser.Group.SORT_ASCENDING),this._bg.updateScroll(this.bgspeed);var b=this.input.x?this.input.x:this.world.centerX-100,d=this.input.y?this.input.y:327.5;if(b=Math.min(Math.max(b,40),this.world.centerX-20),d=Math.min(Math.max(d,274),381),!this.stop){if(this.EVIL&&this.EVIL.parent!=this._container&&this.EVIL.update(),0!=this._z&&(b=this._robin.x,d=this._robin.y),1==this._robin.alpha){this._oldRobinPos.x=this._robin.x,this._oldRobinPos.y=this._robin.y,this._robin.x+=.08*(b-this._robin.x),this._z-=this._zVel,this._z>0&&(this._z=0,this._zVel=0,this._robin.play("run")),this._robin.y+=.08*(d-this._robin.y)-this._zVel,0!=this._z&&(this._zVel-=.5);for(var e=0;e<this._cars.length;e++)if(0==this._z&&this._cars[e].hit(this._robinBox)){this._cars[e].isJumpCar&&Math.abs(this._robin.x-this._cars[e].x)<50&&Math.abs(this._robin.y-this._cars[e].y)<30?(this._z=0,this._zVel=15,this._robin.play("jump"),a.SoundMixer.play("rb_zmotorjump",.4)):(this._hitSpeed=5,this._hitSpeedY=this._cars[e].y-this._robin.y<0?-1:1,this._oldRobinPos.y-=this._hitSpeedY*this._hitSpeed*2,this._robin.y+=this._hitSpeedY*this._hitSpeed*2,this.heroAddDamage(),a.SoundMixer.play("rb_zhitcar",.4));break}if(0==this._z&&1==this._robin.alpha)for(var e=0;e<this._enemies.length;)if(this._enemies[e].isDead)this._enemies.splice(e,1);else{if(this._enemies[e].hitMe(this._robinBox)){this._enemies[e].bonus?(this.addEnergy(this._maxEnergy),a.SoundMixer.play("rb_zbonus",.4)):(this._hitSpeed=2,this.heroAddDamage(),a.SoundMixer.play("rb_zhitcar",.4)),this._enemies[e].nodest&&this._enemies[e].dead(!0);break}e++}}else{this._robin.alpha+=.01,this._robin.alpha>1&&(this._robin.alpha=1);var f=this._robin.x-this._oldRobinPos.x,g=this._robin.y-this._oldRobinPos.y,h=Math.atan2(g,f);this._robin.x-=Math.cos(h)*this._hitSpeed,this._robin.y-=Math.sin(h)*this._hitSpeed,this._robin.x=Math.min(Math.max(this._robin.x,40),this.world.centerX-20),this._robin.y=Math.min(Math.max(this._robin.y,274),381),this._hitSpeed*=.92}if(++this._addItemTimer>=this._addTime){this._addItemTimer=0,this.getObject(this._enemyarray[this._cursor]),this._cursor++;var i=100-Math.floor(this._cursor/this._enemytotal*100);i<=0&&(i=1),i>100&&(i=100),this._progreess2.frameName="pbrobin"+this.genName(i)}this._bulletTimer--,this._shoot&&this._bulletTimer<=0&&(this.addBullet(!1,this._robin.x+35,this._robin.y-15),this.game.device.desktop&&(this._eeee.x+=5,this._eeee.x>=105&&(this._eeee.x=105),this._eeee.x>=90&&(this._ebg.frameName="bgbar0002"))),0==this._shoot&&(this._eeee.x-=1,this._eeee.x<=0&&(this._eeee.x=0),this._eeee.x<=90&&(this._ebg.frameName="bgbar0001"));for(var e=0;e<this._bullets.length;e++)if(!this._bullets[e].isDead){for(var j=0;j<this._cars.length;j++)if(this._bullets[e].hitBox.hit(this._cars[j].hitBox2)){this._bullets[e].dead();break}for(var j=0;j<this._enemies.length;j++)if(!this._enemies[j].nodest&&this._enemies[j].hitMe(this._bullets[e].hitBox)){this._bullets[e].dead(),this._enemies[j].energy--,c.instance.addScore(10),a.SoundMixer.play("rb_rico1",.4);break}}}},c.prototype.addEnergy=function(a){this._energy+=a,this._energy>this._maxEnergy&&(this._energy=this._maxEnergy),this._energy<0&&(this._energy=0)},c.prototype.addScore=function(a){this._score+=a,this._scoreText.text=""+this._score},c.prototype.getObject=function(b){var d;switch(b){case 1:this.addCar(!0);break;case 18:this.addCar(!1);break;case 2:d=new a.Huinya(["bot20001"]),d.y=300,d.beginY=300,d.x=700,d.d=Math.floor(76.8)+10,d.ang=0,d.xs=-7.5,d.am=20+this.game.rnd.integerInRange(0,30),d.animations.add("puff",Phaser.Animation.generateFrameNames("bot2",2,5,"",4),25,!0),d.initHit(80,36,-8,-18),d.movement=function(){this.x+=this.xs,this.xs*=.98,this.d--,0==this.d?(this.d=0,this.xs=-22.5,this.play("puff"),a.SoundMixer.play("rb_zmissile",.4)):this.d>0&&(this.y=this.beginY+Math.sin(.08*(this.ang+=25/60))*this.am)},this._enemies.push(d),this._container.add(d);break;case 3:d=new a.Huinya(["bot3"]),d.y=300,d.beginY=300,d.x=700,d.d=Math.floor(120)+10,d.d2=0,d.ang=0,d.xs=-2.25,d.energy=5,d.dl=Math.floor(96),d.initHit(80,36,-8,-18),d.movement=function(){this.x+=this.xs,this.d--,0==this.d&&(this.d=0,this.xs=-11.25),--this.dl<Math.floor(6/(25/60))&&(this.d2--,this.d2<0&&(this.d2=Math.floor(9.6),c.instance.varx=this.x-55,c.instance.vary=this.y-5,c.instance.getObject(103),a.SoundMixer.play("rb_zblast3",.4)),this.dl||(this.dl=Math.floor(96)))},this._enemies.push(d),this._container.add(d);break;case 4:d=new a.Huinya(["bot4"]),d.y=300,d.beginY=d.y,d.x=700,d.beginX=d.x,d.energy=5,d.d=Math.floor(144)+10,d.ang=0,d.xs=-3.75,d.am=20+this.game.rnd.integerInRange(0,30),d.img2=this.make.image(0,-21,"robin","roda"),d.img2.anchor.set(.5),d.addChild(d.img2),d.img2.angle=90,d.img1=this.make.image(0,-8,"robin","roda"),d.img1.anchor.set(.5),d.addChild(d.img1),d.initHit(60,60,-4,-7),d.movement=function(){this.d--,d.img1.angle+=7.5,d.img2.angle+=7.5,this.d>0?(this.x=this.beginX+80*Math.sin(.12*(this.ang+=25/60)),this.beginX-=25/60*4):(this.x+=this.xs,0==this.d&&(this.xs=-15))},this._enemies.push(d),this._container.add(d);break;case 6:case 5:d=new a.Huinya(Phaser.Animation.generateFrameNames("hell",1,61,"",4),84/205,105/127),d.y=100,d.beginY=d.y,d.x=700,d.beginX=d.x,d.d=Math.floor(360)+10,d.udah=0,d.ang=0,d.sd=Math.floor(96),d.xs=-12,d.ys=25/60*-1,d.img=this.make.sprite(5,-75),d.img.scale.set(.8,.134),d.part=this.make.image(0,0,"robin","hellpart"),d.part.anchor.set(.5),d.img.addChild(d.part),d.addChild(d.img),d.initHit(50,50,10,-40),d.animations.add("puff",Phaser.Animation.generateFrameNames("hell",62,90,"",4),25,!0),d.hell=a.SoundMixer.play("rb_zhc",.4,!1,!0),d.deadme=function(){this.hell.stop()},d.movement=function(){d.part.angle+=5,this.udah?(this.d--,this.d>0?(this.x=this.beginX+20*Math.sin(.03*(this.ang+=25/60)),this.y=this.beginY+8*Math.sin(.03*(this.ang+=25/60)),this.sd--,this.sd==Math.floor(72)&&(c.instance.getObject(105),d.play("puff")),this.sd||(this.sd=Math.floor(96)+5,d.play("loop"))):("puff"==d.animations.currentAnim.name&&d.play("loop"),this.y+=this.ys,this.x+=this.xs,this.xs*=1.1,this.ys*=1.05)):(this.x+=this.xs,this.xs*=.95,this.x<500&&(this.udah=1,this.beginX=this.x,this.beginY=this.y))},this._enemies.push(d),this._container.add(d);break;case 105:d=new a.Huinya(Phaser.Animation.generateFrameNames("hcfire",1,3,"",4)),d.xs=-6.25,d.x=430+20*Math.random(),d.y=this.lineY2-8,d.nodest=!0,d.initHit(59,30,-20,-10),d.hell=a.SoundMixer.play("rb_zhcgun",.3,!1,!0),d.deadme=function(){this.hell.stop()},d.movement=function(){this.x+=this.xs},this._enemies.push(d),this._container.add(d);break;case 103:d=new a.Huinya(["blast0008"]),d.xs=25/60*-14,d.x=this.varx,d.y=this.vary+10,d.nodest=!0,d.scale.x=-1,d.offsetw=60,d.initHit(30,10,0,-30),d.movement=function(){this.x+=this.xs},this._enemies.push(d),this._container.add(d);break;case 1088:d=new a.Huinya(["bumer0001","bumer0002","bumer0003"]),d.speed=-6.25,d.x=this.EVIL.x-10+this.EVIL.parent.x,d.y=this.EVIL.y-70+this.EVIL.parent.y,d.nodest=!0,d.offsetw=60;var e=d.x-this._robin.x,f=d.y-this._robin.y,g=Math.atan2(f,e);d.xs=d.speed*Math.cos(g),d.ys=d.speed*Math.sin(g),d.initHit(30,10,0,-30),d.movement=function(){this.x+=this.xs,this.y+=this.ys},this._enemies.push(d),this._container.add(d);break;case 8:d=new a.Huinya(["bonus"]),d.xs=-7.5,d.x=700,d.y=this.lineY-5,d.nodest=!0,d.bonus=!0,d.scale.x=-1,d.offsetw=60,d.initHit(24,24,-12,-12),d.movement=function(){this.x+=this.xs},this._enemies.push(d),this._container.add(d);break;case 7:this.getObject(77),this.getObject(77),this.getObject(77),this.getObject(77),this.getObject(77),this.getObject(888),a.SoundMixer.play("rb_zboss",.4,!0,!0);break;case 888:d=new a.Huinya(Phaser.Animation.generateFrameNames("xall",33,43,"",4));var h=this.getXXX();d.index=h.index,this.EVIL=d,d.x=-25,d.y=45,d.animations.add("in",Phaser.Animation.generateFrameNames("xall",1,11,"",4),25),d.animations.add("out",Phaser.Animation.generateFrameNames("xall",12,21,"",4),25),d.animations.add("attack",Phaser.Animation.generateFrameNames("xall",22,32,"",4),25),d.animations.add("fall",Phaser.Animation.generateFrameNames("xall",44,88,"",4),25),d.play("in").onComplete.addOnce(function(){d.play("loop")}),d.d1=200,d.d2=110,d.end=!1,d.movement=function(){this.d1--,this.d1<=0&&(this.replace(),this.d1=200+this.game.rnd.integerInRange(0,50)),--this.d2<=0&&("loop"==this.animations.name&&(c.instance.getObject(1088),d.play("attack").onComplete.addOnce(function(){d.play("loop")})),this.d2=110)},d.replace=function(){var b=this;this.end||(c.instance._countx<=0?(d.play("fall"),c.instance.game.add.tween(c.instance).to({bgspeed:0},1e3).start(),c.instance._bg.chng("bg_2.png"),this.x+=this.parent.x,this.y+=this.parent.y,c.instance._container.addChild(this),c.instance._robin.play("stop"),c.instance.stop=!0,a.SoundMixer.play("rb_zbikestop",.4),this._sndMotor&&this._sndMotor.stop(),setTimeout(function(){b.game.state.start("RobinEnd",!0,!1,b._score,!0)},2e3),this.end=!0):(this.x+=this.parent.x,this.y+=this.parent.y,c.instance._container.addChild(this),d.play("out").onComplete.addOnce(function(){var a=c.instance.getXXX();b.index=a.index,b.x=-25,b.y=45,a.addChild(b),d.play("in").onComplete.addOnce(function(){d.play("loop")})})))},this._enemies.push(d),h.addChild(d);break;case 77:d=new a.Huinya(["botx"]),d.y=280+23*this._countx,d.index=this._countx,this._countx++,this._xxx.push(d),d.beginX=700,d.x=700,d.d=Math.floor(124.8)+25*this._countx+Math.floor(15*Math.random()),d.ang=Math.random(),d.xs=-7.5,d.am=10+this.game.rnd.integerInRange(0,10),d.energy=30,d.initHit(80,36,-8,-18),d.deadme=function(){c.instance._xxx[this.index]=null,c.instance._countx--,(c.instance.EVIL.index==this.index||c.instance._countx<=0)&&c.instance.EVIL.replace()},d.movement=function(){this.beginX+=this.xs,this.xs*=.955,this.d--,0==this.d&&(c.instance.varx=this.x-55,c.instance.vary=this.y-5,c.instance.getObject(103),this.d=Math.floor(340.8)+Math.floor(35*Math.random())),this.x=this.beginX+Math.sin(.08*(this.ang+=25/60))*this.am},this._enemies.push(d),this._container.add(d)}},c.prototype.getXXX=function(){for(var a=this.game.rnd.integerInRange(0,4);null==this._xxx[a];)a=this.game.rnd.integerInRange(0,4);return this._xxx[a]},c.prototype.shoot=function(a){if(void 0===a&&(a=!1),!this.stop)if(a){if(0==this._shoot)return;this._shoot=!1}else{if(1==this._shoot)return;this._shoot=!0,this.addBullet(!1,this._robin.x+35,this._robin.y-15)}},c.prototype.addBullet=function(b,c,d){for(var e,f=0;f<this._bullets.length;f++)if(this._bullets[f].isDead){this._bullets[f].reuse(b),e=this._bullets[f];break}null==e&&(e=new a.RobinBullet(b),this._bullets.push(e),this._bulletContainer.add(e)),e.x=c,e.y=d,a.SoundMixer.play("rb_zshoot",.4),this._bulletTimer=this.MAX_TIMER*(this._eeee.x>100?4:1)},c.prototype.addCar=function(b){for(var c=0;c<this._cars.length;c++)if(this._cars[c].isDead)return void this._cars[c].reuse(b);var d=new a.Car(this.game,b);this._container.add(d),this._cars.push(d)},c.prototype.genName=function(a){for(var b=""+a;b.length<4;)b="0"+b;return b},Object.defineProperty(c.prototype,"lineY",{get:function(){return this._lanepos[this.game.rnd.integerInRange(0,2)]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"lineY2",{get:function(){for(var a=Math.abs(this._lanepos[0]-this._robin.y),b=0,c=1;c<this._lanepos.length;c++)Math.abs(this._lanepos[c]-this._robin.y)<a&&(a=Math.abs(this._lanepos[c]-this._robin.y),b=c);return this._lanepos[b]},enumerable:!0,configurable:!0}),c.prototype.initMap=function(){this._enemyarray=[],this._enemyarray.push(18,18,2,18,2,18,18,18,2,2,18,2,18,18,2,18,2,2,2,18,18,2,2,18,18,2,2,2,2),this._enemyarray.push(18,5,1,0,18,0,1,0,1,0,18,0),this._enemyarray.push(0,3,0,0,18,18,3,3,3,0,0,18,3,0,0,18,18,3,3,3,0,0),this._enemyarray.push(18,5,1,0,18,0,1,0,1,0,18,0,0),this._enemyarray.push(8),this._enemyarray.push(18,5,1,0,18,0,1,0,1,0,18,0,0),this._enemyarray.push(4,0,0,18,18,4,4,0,0,4,0,0,18,4,4,0,0,18),this._enemyarray.push(18,6,1,0,18,0,1,0,1,0,18,0,0),this._enemyarray.push(18,6,1,0,18,0,1,0,1,0,18,0,0),this._enemyarray.push(0,3,0,0,18,18,3,3,3,0,0,18,3,3,3,0,0),this._enemyarray.push(8),this._enemyarray.push(18,6,1,0,18,0,1,0,1,0,18,0,0),this._enemyarray.push(18,6,1,0,18,0,1,0,1,0,18,0,0),this._enemyarray.push(18,6,1,0,18,0,1,0,1,0,18,0,0),this._enemyarray.push(4,0,0,18,18,4,4,0,0,4,0,0,18),this._enemyarray.push(0,3,0,0,18,18,3,3,3,0,0,18,18,3,3,3,0,0),this._enemyarray.push(18,5,1,0,18,0,1,0,1,0,18,0,0,0),this._enemyarray.push(18,5,1,0,18,0,1,0,1,0,18,0,0),this._enemyarray.push(8),this._enemyarray.push(0,0,7),this._enemytotal=this._enemyarray.length,this._cursor=0},c}(Phaser.State);a.Robin=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.init=function(a,b){void 0===a&&(a=0),void 0===b&&(b=!1),this._score=a,this._win=b},c.prototype.create=function(){var b=this;this._visual=this.add.image(0,0,"robin_end",this._win?"bg_win":"bg_lose"),this._win?a.SoundMixer.play("106_zwin",.4,!0,!0):a.SoundMixer.play("105_zlose",.4,!0,!0);var c=this._win?240:-60,d=this._win?20:0;this._scoreText=this.game.add.text(225+c,190+d,""+this._score,{font:"RedFive",fontSize:"20px",fontWeight:"normal",fill:"#ffffff",stroke:"#000",strokeThickness:2}),this._scoreText.wordWrap=!0,this._scoreText.align="center",this._scoreText.anchor.set(.5),this._rp=new a.OButton(this.game,"star",["btnPA"],function(){b.game.state.start("Robin",!0)}),this._rp.x=this.world.centerX-82+c,this._rp.y=230+d,this.add.existing(this._rp),this._mm=new a.OButton(this.game,"star",["btnMM"],function(){b.game.state.start("MainMenu",!0)}),this._mm.x=this.world.centerX-82+c,this._mm.y=260+d,this.add.existing(this._mm)},c.prototype.shutdown=function(){a.SoundMixer.bgStop()},c}(Phaser.State);a.RobinEnd=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b._ss=null,b}return __extends(b,a),b.prototype.create=function(){var a=this;this.add.image(0,0,"mainmenu","ssbg"),this._imgCont=this.add.group(),this._img=[];for(var b=0;b<5;b++)this._img[b]=this.make.image(0,0,"mainmenu","heroes000"+(b+1)),this._img[b].scale.set(.83,.83),this._img[b].anchor.set(.5,.5),this._img[b].inputEnabled=!0,this._img[b].input.pixelPerfectOver=!0,this._img[b].input.pixelPerfectClick=!0,this._img[b].input.pixelPerfectAlpha=1,this._img[b].events.onInputOver.add(function(b,c,d){a.overclick(d)},void 0,void 0,b),this._img[b].events.onInputDown.addOnce(function(b,c,d){a.game.state.start("Hint",!0,!1,d)},void 0,void 0,b),this._img[b].events.onInputOut.add(function(b,c,d){a.out(d)},void 0,void 0,b),this._imgCont.add(this._img[b]);this._img[0].position.set(115,115),this._img[1].position.set(309,183),this._img[2].position.set(499,225),this._img[3].position.set(375,276),this._img[4].position.set(206,254),this._select=this.add.image(this.world.centerX+50,330,"mainmenu","selectBtn0001"),this._select.anchor.set(.5)},b.prototype.overclick=function(a){this._img[a].scale.set(1,1);var b=this._img[a].parent;b.removeChild(this._img[a]),b.addChild(this._img[a]),this._select.frameName="selectBtn000"+(a+2),this._ss=a},b.prototype.out=function(a){this._img[a].scale.set(.83,.83);var b=this._img[a].parent;b.removeChild(this._img[a]),b.addChildAt(this._img[a],a),this._ss==a&&(this._select.frameName="selectBtn0001")},b}(Phaser.State);a.SelectLevel=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;return a.MAX_TIMER=12,a}return __extends(c,b),c.prototype.create=function(){var b=this;c.instance=this,a.SoundMixer.play("st_loop",.4,!0,!0),this._lvlData=this.game.cache.getJSON("star_lvl",!0).objects,this._cursor=900,this._energy=100,this._score=0,this._pbg1=new a.ParallaxImage(this.game,"star","bg3",0),this._pbg1.y=-60,this._pbg2=new a.ParallaxImage(this.game,"star","bg2",0),this._pbg2.y=60,this._pbg3=new a.ParallaxImage(this.game,"star","bg1",0),this.add.existing(this._pbg1),this.add.existing(this._pbg2),this.add.existing(this._pbg3),this._star=this.add.image(0,0,"star","star0001"),this._star.anchor.set(90/140,.5),this._starBox=new a.MPolygon,this._starBox.setBox(.8*this._star.width,14),this._starBox.parent=this._star,this._starBox.x=-20,this._starBox.y=5,this._container=this.game.add.group(),this._uicontainer=this.game.add.group();var d=this.make.graphics(1,1);d.beginFill(0),d.drawRect(0,0,203,11),d.endFill();var e=this.add.image(374,10,"star","bgProgress1",this._uicontainer);this._fg=this.add.sprite(372,10,"star","fgProgress0001",this._uicontainer),this._fg.animations.add("hit",Phaser.Animation.generateFrameNames("fgProgress",1,12,"",4),25),this._fg.skew.x=.3,this._progreess=this.make.image(0,5,"star","progress"),this._progreess.scale.x=1.02,e.addChild(this._progreess),e.addChild(d),e.mask=d,e.skew.x=.3;this.add.image(10,10,"star","score",this._uicontainer),this.add.image(265,10,"star","nama",this._uicontainer);this._progreess2=this.add.image(10,250,"star","progress2",this._uicontainer),this._scoreText=this.game.make.text(90,8,"0",{font:"RedFive",fontSize:"18px",fill:"#ffffff",stroke:"#000",strokeThickness:3}),this._uicontainer.addChild(this._scoreText),this.setLife(1),this._starHand=this.make.image(1,2,"star","star_hand0001"),this._starHand.anchor.set(4/53,4/8.7),this._starHand.animations.add("ready",Phaser.Animation.generateFrameNames("star_hand",1,10,"",4),30,!1),this._starHand.animations.add("loop",Phaser.Animation.generateFrameNames("star_hand",10,14,"",4),30,!0),this._starHand.animations.add("shoot",Phaser.Animation.generateFrameNames("star_hand",15,23,"",4),30,!0),this.ready(),this._shoot=!1,this._bulletTimer=this.MAX_TIMER,this._bullets=[],this._bullets2=[],this._object=[],this._star.addChild(this._starHand),this.game.device.desktop?(this.input.onDown.add(function(){b.shoot()}),this.input.onUp.add(function(){b.shoot(!0)})):(this._starHand.play("shoot"),this._shoot=!0)},c.prototype.setLife=function(a){a<0&&(a=0),a>1&&(a=1),this._progreess.x=198*-(1-a)},c.prototype.ready=function(){var a=this;this._starHand.play("ready").onComplete.addOnce(function(){a._starHand.play("loop")})},c.prototype.shoot=function(a){if(void 0===a&&(a=!1),a){if(0==this._shoot)return;this.ready(),this._shoot=!1}else{if(1==this._shoot)return;this._starHand.play("shoot"),this._shoot=!0,this.addBullet(!0)}},c.prototype.addBullet=function(b){void 0===b&&(b=!1);var c=new a.Bullet(this.game,b);b?a.SoundMixer.play("st_blast2",.4):a.SoundMixer.play("st_blast1",.4),c.x=this._star.x+45,c.y=this._star.y+10-this._container.y,this._bullets.push(c),this._container.add(c),this._bulletTimer=this.MAX_TIMER},c.prototype.addBullet2=function(b,c){var d=new a.Bullet(this.game,!1,!0);d.x=b-45,d.y=c-25-this._container.y,this._bullets2.push(d),this._container.add(d)},c.prototype.genName=function(a){for(var b=""+a;b.length<4;)b="0"+b;return b},c.prototype.endGame=function(a){void 0===a&&(a=!1)},c.prototype.update=function(){var a=this;this._star.alpha<1&&(this._star.alpha+=.01,this._star.alpha>1&&(this._star.alpha=1)),this._pbg1.updateScroll(3),this._pbg2.updateScroll(5),this._pbg3.updateScroll(8);var b=this.input.x?this.input.x:this.world.centerX-100,c=this.input.y?this.input.y:this.world.centerY;b=Math.min(Math.max(b,25),this.world.centerX+15),c=Math.min(Math.max(c,45),this.world.height-45),this._star.x+=.08*(b-this._star.x),this._star.y+=.08*(c-this._star.y);var d=this._star.y/this.game.height;this._star.frameName="star"+this.genName(Math.floor(29*d+1)),this._pbg3.y=55*d,this._pbg2.y=60+18*d,this._pbg1.y=5*d-60,this._container.y=.2*-this._pbg3.y,this._bulletTimer--,this._shoot&&this._bulletTimer<=0&&this.addBullet();for(var e=0;e<this._bullets.length;)if(this._bullets[e].isDead)this._bullets.splice(e,1);else{for(var f=0;f<this._object.length;)this._object[f].isDead?this._object.splice(f,1):this._object[f].boss?(this._object[f].hittimer<=0&&this._object[f].hitBox.hit(this._bullets[e].hitBox)&&0==this._object[f].icantshoot&&(0==this._bullets[e].big&&this._bullets[e].dead(),this.addBoom(this._object[f].x,this._object[f].y-250),this._object[f].energy--,this._object[f].hittimer=18,this._object[f].alpha=.5,this._object[f].energy<=0&&(this._object[f].icantshoot=!0,this._score+=100,this._scoreText.text=""+this._score,this._object[f].play("dead").onComplete.addOnce(function(){a.endGame(!0),a.game.state.start("StarEnd",!0,!1,a._score,!0)}))),f++):!this._object[f].bonus&&this._object[f].hitBox.hit(this._bullets[e].hitBox)?(0==this._bullets[e].big&&this._bullets[e].dead(),0==this._object[f].nodestroy?(this._object[f].dead(),this._score+=10,this._scoreText.text=""+this._score,this.addBoom(this._object[f].x,this._object[f].y),this._object.splice(f,1)):f++):f++;e++}for(e=0;e<this._bullets2.length&&this.canHit;)this._bullets2[e].isDead?this._bullets2.splice(e,1):this._bullets2[e].hitBox.hit(this._starBox)?(this._bullets2[e].dead(),this.addBoom(this._bullets2[e].x,this._bullets2[e].y),this.addDamage(!1),this._bullets2.splice(e,1)):e++;for(var g=0;g<this._object.length&&this.canHit;)this._object[g].hitBox.hit(this._starBox)?(this.addDamage(this._object[g].bonus),0==this._object[g].nodestroy?(this._object[g].dead(),this._score+=10,this._scoreText.text=""+this._score,0==this._object[g].bonus&&this.addBoom(this._object[g].x,this._object[g].y),this._object.splice(g,1)):g++):g++;for(this._cursor+=3;this._lvlData.length>0&&this._lvlData[0].x<=this._cursor;)this.addEnemy(this._lvlData[0].type,this._lvlData[0].x-this._cursor,this._lvlData[0].y),this._lvlData.splice(0,1);var h=Math.min(Math.floor(this._cursor/31779*9),9);h=Math.min(Math.max(h,1),9),this._progreess2.frameName="progress2000"+h},Object.defineProperty(c.prototype,"canHit",{get:function(){return 1==this._star.alpha},enumerable:!0,configurable:!0}),c.prototype.addDamage=function(b){var c=this;this._energy<=0||(b?(this._score+=100,this._scoreText.text=""+this._score,this._energy=100,a.SoundMixer.play("st_bonus",.4)):(this._star.alpha=.4,this._star.x-=40,this._energy-=20,this._fg.play("hit"),this._energy<=0&&setTimeout(function(){c.game.state.start("StarEnd",!0,!1,c._score,!1)},800),a.SoundMixer.play("st_hit",.4)),this.setLife(this._energy/100))},c.prototype.addBoom=function(b,c){var d=this.make.image(b,c,"star","explode0001");d.anchor.set(.5),d.scale.set(.45,.45),d.animations.add("idle",Phaser.Animation.generateFrameNames("explode",1,19,"",4),25),d.play("idle").onComplete.addOnce(function(){d.parent.removeChild(d),d=null}),a.SoundMixer.play("st_boom2",.4),this._container.add(d)},c.prototype.addEnemy=function(b,d,e){var f,g=this.game.width+50;switch(b){case 1:f=new a.StarObject(["bomb0001","bomb0002","bomb0003","bomb0004"]),f.y=e,f.x=d+g,f.movement=function(){this.x-=4},f.initHit(35,35,-5,5),this._object.push(f),this._container.add(f);break;case 2:f=new a.StarObject(["flower1"]),f.y=e,f.beginY=e,f.x=d+g,f.arg=0,f.movement=function(){this.x-=4,this.angle+=7,this.y=this.beginY+80*Math.sin(.05*this.arg++)},f.initHit(35,35),this._object.push(f),this._container.add(f);break;case 3:f=new a.StarObject(["saw1"]),f.y=e,f.x=d+g,f.beginX=d+g,f.arg=0,f.movement=function(){this.beginX-=2.8,this.x=this.beginX+40*Math.sin(.2*this.arg++)},f.initHit(110,35),this._object.push(f),this._container.add(f);break;case 4:f=new a.StarObject(["saw2"]),f.y=e,f.beginY=e,f.x=d+g,f.beginX=d+g,f.arg=0,f.nodestroy=!0,f.movement=function(){this.x-=2.8,this.y=this.beginY+180*Math.sin(.04*this.arg++)},f.initHit(35,110),this._object.push(f),this._container.add(f);break;case 5:f=new a.StarObject(["card1000"+this.rnd.integerInRange(1,4)]),f.y=e,f.beginY=e,f.x=d+g,f.beginX=d+g,f.arg=0,f.movement=function(){this.x-=4,this.angle-=15,this.y=this.beginY+50*Math.sin(.05*this.arg++)},f.initHit(20,30),this._object.push(f),this._container.add(f);break;case 6:f=new a.StarObject(["card2000"+this.rnd.integerInRange(1,4)]),f.y=e,f.beginY=e,f.x=d+g,f.beginX=d+g,f.scale.set(.5,.5),f.arg=1,f.d=20,f.movement=function(){this.d-=.5,this.d<0?(this.x-=10,this.angle-=10):(this.x-=4,this.scale.x*=1.015,this.scale.y*=1.015)},f.initHit(25,35),this._object.push(f),this._container.add(f);break;case 7:f=new a.StarObject(["bunny1"]),f.y=e,f.beginY=e,f.x=d+g,f.arg=0,f.d=30,f.xs=2.8,f.ys=0,f.movement=function(){if(this.d-=.5,this.d<0&&c.instance.canHit&&this.d>-40){var a=this.x-c.instance.hero.x,b=this.y-c.instance.hero.y,d=Math.atan2(b,a);this.xs=4*Math.cos(d),this.ys=4*Math.sin(d),this.rotation=d}this.x-=this.xs,this.y-=this.ys},f.initHit(35,20),this._object.push(f),this._container.add(f);break;case 8:f=new a.StarObject(["bunny2"]),f.y=e,f.beginY=e,f.x=d+g,f.arg=0,f.d=30,f.xs=2.8,f.ys=0,f.movement=function(){if(this.d-=.5,this.d<0&&c.instance.canHit&&this.d>-40){var a=this.x-c.instance.hero.x,b=this.y-c.instance.hero.y,d=Math.atan2(b,a);this.xs=4*Math.cos(d),this.ys=4*Math.sin(d),this.rotation=d}this.x-=this.xs,this.y-=this.ys},f.initHit(35,20),this._object.push(f),this._container.add(f);break;case 9:f=new a.StarObject(["bunny3"]),f.y=e,f.beginY=e,f.x=d+g,f.arg=0,f.movement=function(){this.x-=2.8,this.y=this.beginY+20*Math.sin(.1*this.arg++)},f.initHit(35,20),this._object.push(f),this._container.add(f);break;case 10:f=new a.StarObject(["flower2"]),f.y=e,f.beginY=e,f.x=d+g,f.arg=0,f.movement=function(){this.x-=4,this.y=this.beginY+50*Math.sin(.1*this.arg++),this.angle+=18},f.initHit(30,30),this._object.push(f),this._container.add(f);break;case 11:f=new a.StarObject(["flower3"]),f.y=e,f.beginY=e,f.x=d+g,f.arg=0,f.movement=function(){this.game.rnd.integerInRange(0,100)>50&&(this.x-=.8),this.y=this.beginY+20*Math.sin(.1*this.arg++),this.angle+=15},f.initHit(35,20),this._object.push(f),this._container.add(f);break;case 12:f=new a.StarObject(["bonus"]),f.y=e,f.beginY=e,f.x=d+g,f.arg=0,f.bonus=!0,f.movement=function(){this.x-=2.8,this.y=this.beginY+100*Math.sin(.05*this.arg++)},f.initHit(35,35),this._object.push(f),this._container.add(f);break;case 13:a.SoundMixer.play("st_boss",.4,!0,!0),f=new a.StarObject(Phaser.Animation.generateFrameNames("enemy",1,30,"",4)),f.animations.add("shoot",Phaser.Animation.generateFrameNames("enemy",31,48,"",4),25),f.animations.add("shootEnd",Phaser.Animation.generateFrameNames("enemy",49,64,"",4),25),f.animations.add("dead",Phaser.Animation.generateFrameNames("enemy",65,100,"",4),25),f.y=e+250,f.beginY=f.y,f.x=d+g,f.boss=!0,f.arg=0,f.xs=2,f.energy=46,f.shoot=60,f.movement=function(){var b=this;this.x-=this.xs,this.x<560&&(this.xs*=.85),this.hittimer--,this.alpha<1&&(this.alpha+=.02,this.alpha>1&&(this.alpha=1)),this.shoot--,this.shoot<=0&&0==this.icantshoot&&(this.shoot=80,this.play("shoot").onComplete.addOnce(function(){b.play("shootEnd").onComplete.addOnce(function(){b.play("loop")}),a.SoundMixer.play("st_wand",.4),c.instance.addBullet2(b.x,b.y-250)})),this.y=this.beginY+80*Math.sin(.05*this.arg++)},f.initHit(35,100,0,-250),this._object.push(f),this._container.add(f)}},Object.defineProperty(c.prototype,"hero",{get:function(){return this._star},enumerable:!0,configurable:!0}),c}(Phaser.State);a.Star=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.init=function(a,b){void 0===a&&(a=0),void 0===b&&(b=!0),this._score=a,this._win=b},c.prototype.create=function(){var b=this;this._visual=this.add.image(0,0,"star",this._win?"bgWin":"bgLose"),
this._win?a.SoundMixer.play("106_zwin",.4,!0,!0):a.SoundMixer.play("105_zlose",.4,!0,!0);var c=this._win?-15:0,d=this._win?20:0;this._scoreText=this.game.add.text(225+c,190+d,""+this._score,{font:"RedFive",fontSize:"20px",fontWeight:"normal",fill:"#ffffff",stroke:"#000",strokeThickness:2}),this._scoreText.wordWrap=!0,this._scoreText.align="center",this._scoreText.anchor.set(.5),this._rp=new a.OButton(this.game,"star",["btnPA"],function(){b.game.state.start("Star",!0)}),this._rp.x=this.world.centerX-82+c,this._rp.y=230+d,this.add.existing(this._rp),this._mm=new a.OButton(this.game,"star",["btnMM"],function(){b.game.state.start("MainMenu",!0)}),this._mm.x=this.world.centerX-82+c,this._mm.y=260+d,this.add.existing(this._mm)},c.prototype.shutdown=function(){a.SoundMixer.bgStop()},c}(Phaser.State);a.StarEnd=b}(TProject||(TProject={}));