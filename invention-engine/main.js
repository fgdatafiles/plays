!function(t){function e(e){for(var o,a,r=e[0],l=e[1],h=e[2],c=0,m=[];c<r.length;c++)a=r[c],n[a]&&m.push(n[a][0]),n[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);for(p&&p(e);m.length;)m.shift()();return s.push.apply(s,h||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],o=!0,r=1;r<i.length;r++){var l=i[r];0!==n[l]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=i[0]))}return t}var o={},n={0:0},s=[];function a(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=o,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(i,o,function(e){return t[e]}.bind(null,o));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var h=0;h<r.length;h++)e(r[h]);var p=l;s.push([112,1]),i()}({111:function(t,e){if(navigator.userAgent.indexOf("Linux; U; Android 4")>=0){console.warn("Monkey patching around Android sin/cos bug");var i=Math.sin,o=Math.cos;Math.sin=function(t){return 0==t?0:i(t)},Math.cos=function(t){return 0==t?1:o(t)}}t.exports=Box2D={},function(t,e){function i(){}!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function(t,e,i){i.get instanceof Function&&t.__defineGetter__(e,i.get),i.set instanceof Function&&t.__defineSetter__(e,i.set)}),t.inherit=function(t,e){var o=t;i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=o},t.generateCallback=function(t,e){return function(){e.apply(t,arguments)}},t.NVector=function(t){void 0===t&&(t=0);for(var e=new Array(t||0),i=0;i<t;++i)e[i]=0;return e},t.is=function(t,e){return null!==t&&(e instanceof Function&&t instanceof e||!(void 0==t.constructor.__implements||!t.constructor.__implements[e]))},t.parseUInt=function(t){return Math.abs(parseInt(t))}}(Box2D);var n,s=Array,a=Box2D.NVector;for("undefined"==typeof Box2D&&(Box2D={}),void 0===Box2D.Collision&&(Box2D.Collision={}),void 0===Box2D.Collision.Shapes&&(Box2D.Collision.Shapes={}),void 0===Box2D.Common&&(Box2D.Common={}),void 0===Box2D.Common.Math&&(Box2D.Common.Math={}),void 0===Box2D.Dynamics&&(Box2D.Dynamics={}),void 0===Box2D.Dynamics.Contacts&&(Box2D.Dynamics.Contacts={}),void 0===Box2D.Dynamics.Controllers&&(Box2D.Dynamics.Controllers={}),void 0===Box2D.Dynamics.Joints&&(Box2D.Dynamics.Joints={}),function(){Box2D.Collision.IBroadPhase="Box2D.Collision.IBroadPhase",Box2D.Collision.b2AABB=function t(){t.b2AABB.apply(this,arguments)},Box2D.Collision.b2Bound=function t(){t.b2Bound.apply(this,arguments)},Box2D.Collision.b2BoundValues=function t(){t.b2BoundValues.apply(this,arguments),this.constructor===t&&this.b2BoundValues.apply(this,arguments)},Box2D.Collision.b2Collision=function t(){t.b2Collision.apply(this,arguments)},Box2D.Collision.b2ContactID=function t(){t.b2ContactID.apply(this,arguments),this.constructor===t&&this.b2ContactID.apply(this,arguments)},Box2D.Collision.b2ContactPoint=function t(){t.b2ContactPoint.apply(this,arguments)},Box2D.Collision.b2Distance=function t(){t.b2Distance.apply(this,arguments)},Box2D.Collision.b2DistanceInput=function t(){t.b2DistanceInput.apply(this,arguments)},Box2D.Collision.b2DistanceOutput=function t(){t.b2DistanceOutput.apply(this,arguments)},Box2D.Collision.b2DistanceProxy=function t(){t.b2DistanceProxy.apply(this,arguments)},Box2D.Collision.b2DynamicTree=function t(){t.b2DynamicTree.apply(this,arguments),this.constructor===t&&this.b2DynamicTree.apply(this,arguments)},Box2D.Collision.b2DynamicTreeBroadPhase=function t(){t.b2DynamicTreeBroadPhase.apply(this,arguments)},Box2D.Collision.b2DynamicTreeNode=function t(){t.b2DynamicTreeNode.apply(this,arguments)},Box2D.Collision.b2DynamicTreePair=function t(){t.b2DynamicTreePair.apply(this,arguments)},Box2D.Collision.b2Manifold=function t(){t.b2Manifold.apply(this,arguments),this.constructor===t&&this.b2Manifold.apply(this,arguments)},Box2D.Collision.b2ManifoldPoint=function t(){t.b2ManifoldPoint.apply(this,arguments),this.constructor===t&&this.b2ManifoldPoint.apply(this,arguments)},Box2D.Collision.b2Point=function t(){t.b2Point.apply(this,arguments)},Box2D.Collision.b2RayCastInput=function t(){t.b2RayCastInput.apply(this,arguments),this.constructor===t&&this.b2RayCastInput.apply(this,arguments)},Box2D.Collision.b2RayCastOutput=function t(){t.b2RayCastOutput.apply(this,arguments)},Box2D.Collision.b2Segment=function t(){t.b2Segment.apply(this,arguments)},Box2D.Collision.b2SeparationFunction=function t(){t.b2SeparationFunction.apply(this,arguments)},Box2D.Collision.b2Simplex=function t(){t.b2Simplex.apply(this,arguments),this.constructor===t&&this.b2Simplex.apply(this,arguments)},Box2D.Collision.b2SimplexCache=function t(){t.b2SimplexCache.apply(this,arguments)},Box2D.Collision.b2SimplexVertex=function t(){t.b2SimplexVertex.apply(this,arguments)},Box2D.Collision.b2TimeOfImpact=function t(){t.b2TimeOfImpact.apply(this,arguments)},Box2D.Collision.b2TOIInput=function t(){t.b2TOIInput.apply(this,arguments)},Box2D.Collision.b2WorldManifold=function t(){t.b2WorldManifold.apply(this,arguments),this.constructor===t&&this.b2WorldManifold.apply(this,arguments)},Box2D.Collision.ClipVertex=function t(){t.ClipVertex.apply(this,arguments)},Box2D.Collision.Features=function t(){t.Features.apply(this,arguments)},Box2D.Collision.Shapes.b2CircleShape=function t(){t.b2CircleShape.apply(this,arguments),this.constructor===t&&this.b2CircleShape.apply(this,arguments)},Box2D.Collision.Shapes.b2EdgeChainDef=function t(){t.b2EdgeChainDef.apply(this,arguments),this.constructor===t&&this.b2EdgeChainDef.apply(this,arguments)},Box2D.Collision.Shapes.b2EdgeShape=function t(){t.b2EdgeShape.apply(this,arguments),this.constructor===t&&this.b2EdgeShape.apply(this,arguments)},Box2D.Collision.Shapes.b2MassData=function t(){t.b2MassData.apply(this,arguments)},Box2D.Collision.Shapes.b2PolygonShape=function t(){t.b2PolygonShape.apply(this,arguments),this.constructor===t&&this.b2PolygonShape.apply(this,arguments)},Box2D.Collision.Shapes.b2Shape=function t(){t.b2Shape.apply(this,arguments),this.constructor===t&&this.b2Shape.apply(this,arguments)},Box2D.Common.b2internal="Box2D.Common.b2internal",Box2D.Common.b2Color=function t(){t.b2Color.apply(this,arguments),this.constructor===t&&this.b2Color.apply(this,arguments)},Box2D.Common.b2Settings=function t(){t.b2Settings.apply(this,arguments)},Box2D.Common.Math.b2Mat22=function t(){t.b2Mat22.apply(this,arguments),this.constructor===t&&this.b2Mat22.apply(this,arguments)},Box2D.Common.Math.b2Mat33=function t(){t.b2Mat33.apply(this,arguments),this.constructor===t&&this.b2Mat33.apply(this,arguments)},Box2D.Common.Math.b2Math=function t(){t.b2Math.apply(this,arguments)},Box2D.Common.Math.b2Sweep=function t(){t.b2Sweep.apply(this,arguments)},Box2D.Common.Math.b2Transform=function t(){t.b2Transform.apply(this,arguments),this.constructor===t&&this.b2Transform.apply(this,arguments)},Box2D.Common.Math.b2Vec2=function t(){t.b2Vec2.apply(this,arguments),this.constructor===t&&this.b2Vec2.apply(this,arguments)},Box2D.Common.Math.b2Vec3=function t(){t.b2Vec3.apply(this,arguments),this.constructor===t&&this.b2Vec3.apply(this,arguments)},Box2D.Dynamics.b2Body=function t(){t.b2Body.apply(this,arguments),this.constructor===t&&this.b2Body.apply(this,arguments)},Box2D.Dynamics.b2BodyDef=function t(){t.b2BodyDef.apply(this,arguments),this.constructor===t&&this.b2BodyDef.apply(this,arguments)},Box2D.Dynamics.b2ContactFilter=function t(){t.b2ContactFilter.apply(this,arguments)},Box2D.Dynamics.b2ContactImpulse=function t(){t.b2ContactImpulse.apply(this,arguments)},Box2D.Dynamics.b2ContactListener=function t(){t.b2ContactListener.apply(this,arguments)},Box2D.Dynamics.b2ContactManager=function t(){t.b2ContactManager.apply(this,arguments),this.constructor===t&&this.b2ContactManager.apply(this,arguments)},Box2D.Dynamics.b2DebugDraw=function t(){t.b2DebugDraw.apply(this,arguments),this.constructor===t&&this.b2DebugDraw.apply(this,arguments)},Box2D.Dynamics.b2DestructionListener=function t(){t.b2DestructionListener.apply(this,arguments)},Box2D.Dynamics.b2FilterData=function t(){t.b2FilterData.apply(this,arguments)},Box2D.Dynamics.b2Fixture=function t(){t.b2Fixture.apply(this,arguments),this.constructor===t&&this.b2Fixture.apply(this,arguments)},Box2D.Dynamics.b2FixtureDef=function t(){t.b2FixtureDef.apply(this,arguments),this.constructor===t&&this.b2FixtureDef.apply(this,arguments)},Box2D.Dynamics.b2Island=function t(){t.b2Island.apply(this,arguments),this.constructor===t&&this.b2Island.apply(this,arguments)},Box2D.Dynamics.b2TimeStep=function t(){t.b2TimeStep.apply(this,arguments)},Box2D.Dynamics.b2World=function t(){t.b2World.apply(this,arguments),this.constructor===t&&this.b2World.apply(this,arguments)},Box2D.Dynamics.Contacts.b2CircleContact=function t(){t.b2CircleContact.apply(this,arguments)},Box2D.Dynamics.Contacts.b2Contact=function t(){t.b2Contact.apply(this,arguments),this.constructor===t&&this.b2Contact.apply(this,arguments)},Box2D.Dynamics.Contacts.b2ContactConstraint=function t(){t.b2ContactConstraint.apply(this,arguments),this.constructor===t&&this.b2ContactConstraint.apply(this,arguments)},Box2D.Dynamics.Contacts.b2ContactConstraintPoint=function t(){t.b2ContactConstraintPoint.apply(this,arguments)},Box2D.Dynamics.Contacts.b2ContactEdge=function t(){t.b2ContactEdge.apply(this,arguments)},Box2D.Dynamics.Contacts.b2ContactFactory=function t(){t.b2ContactFactory.apply(this,arguments),this.constructor===t&&this.b2ContactFactory.apply(this,arguments)},Box2D.Dynamics.Contacts.b2ContactRegister=function t(){t.b2ContactRegister.apply(this,arguments)},Box2D.Dynamics.Contacts.b2ContactResult=function t(){t.b2ContactResult.apply(this,arguments)},Box2D.Dynamics.Contacts.b2ContactSolver=function t(){t.b2ContactSolver.apply(this,arguments),this.constructor===t&&this.b2ContactSolver.apply(this,arguments)},Box2D.Dynamics.Contacts.b2EdgeAndCircleContact=function t(){t.b2EdgeAndCircleContact.apply(this,arguments)},Box2D.Dynamics.Contacts.b2NullContact=function t(){t.b2NullContact.apply(this,arguments),this.constructor===t&&this.b2NullContact.apply(this,arguments)},Box2D.Dynamics.Contacts.b2PolyAndCircleContact=function t(){t.b2PolyAndCircleContact.apply(this,arguments)},Box2D.Dynamics.Contacts.b2PolyAndEdgeContact=function t(){t.b2PolyAndEdgeContact.apply(this,arguments)},Box2D.Dynamics.Contacts.b2PolygonContact=function t(){t.b2PolygonContact.apply(this,arguments)},Box2D.Dynamics.Contacts.b2PositionSolverManifold=function t(){t.b2PositionSolverManifold.apply(this,arguments),this.constructor===t&&this.b2PositionSolverManifold.apply(this,arguments)},Box2D.Dynamics.Controllers.b2BuoyancyController=function t(){t.b2BuoyancyController.apply(this,arguments)},Box2D.Dynamics.Controllers.b2ConstantAccelController=function t(){t.b2ConstantAccelController.apply(this,arguments)},Box2D.Dynamics.Controllers.b2ConstantForceController=function t(){t.b2ConstantForceController.apply(this,arguments)},Box2D.Dynamics.Controllers.b2Controller=function t(){t.b2Controller.apply(this,arguments)},Box2D.Dynamics.Controllers.b2ControllerEdge=function t(){t.b2ControllerEdge.apply(this,arguments)},Box2D.Dynamics.Controllers.b2GravityController=function t(){t.b2GravityController.apply(this,arguments)},Box2D.Dynamics.Controllers.b2TensorDampingController=function t(){t.b2TensorDampingController.apply(this,arguments)},Box2D.Dynamics.Joints.b2DistanceJoint=function t(){t.b2DistanceJoint.apply(this,arguments),this.constructor===t&&this.b2DistanceJoint.apply(this,arguments)},Box2D.Dynamics.Joints.b2DistanceJointDef=function t(){t.b2DistanceJointDef.apply(this,arguments),this.constructor===t&&this.b2DistanceJointDef.apply(this,arguments)},Box2D.Dynamics.Joints.b2FrictionJoint=function t(){t.b2FrictionJoint.apply(this,arguments),this.constructor===t&&this.b2FrictionJoint.apply(this,arguments)},Box2D.Dynamics.Joints.b2FrictionJointDef=function t(){t.b2FrictionJointDef.apply(this,arguments),this.constructor===t&&this.b2FrictionJointDef.apply(this,arguments)},Box2D.Dynamics.Joints.b2GearJoint=function t(){t.b2GearJoint.apply(this,arguments),this.constructor===t&&this.b2GearJoint.apply(this,arguments)},Box2D.Dynamics.Joints.b2GearJointDef=function t(){t.b2GearJointDef.apply(this,arguments),this.constructor===t&&this.b2GearJointDef.apply(this,arguments)},Box2D.Dynamics.Joints.b2Jacobian=function t(){t.b2Jacobian.apply(this,arguments)},Box2D.Dynamics.Joints.b2Joint=function t(){t.b2Joint.apply(this,arguments),this.constructor===t&&this.b2Joint.apply(this,arguments)},Box2D.Dynamics.Joints.b2JointDef=function t(){t.b2JointDef.apply(this,arguments),this.constructor===t&&this.b2JointDef.apply(this,arguments)},Box2D.Dynamics.Joints.b2JointEdge=function t(){t.b2JointEdge.apply(this,arguments)},Box2D.Dynamics.Joints.b2LineJoint=function t(){t.b2LineJoint.apply(this,arguments),this.constructor===t&&this.b2LineJoint.apply(this,arguments)},Box2D.Dynamics.Joints.b2LineJointDef=function t(){t.b2LineJointDef.apply(this,arguments),this.constructor===t&&this.b2LineJointDef.apply(this,arguments)},Box2D.Dynamics.Joints.b2MouseJoint=function t(){t.b2MouseJoint.apply(this,arguments),this.constructor===t&&this.b2MouseJoint.apply(this,arguments)},Box2D.Dynamics.Joints.b2MouseJointDef=function t(){t.b2MouseJointDef.apply(this,arguments),this.constructor===t&&this.b2MouseJointDef.apply(this,arguments)},Box2D.Dynamics.Joints.b2PrismaticJoint=function t(){t.b2PrismaticJoint.apply(this,arguments),this.constructor===t&&this.b2PrismaticJoint.apply(this,arguments)},Box2D.Dynamics.Joints.b2PrismaticJointDef=function t(){t.b2PrismaticJointDef.apply(this,arguments),this.constructor===t&&this.b2PrismaticJointDef.apply(this,arguments)},Box2D.Dynamics.Joints.b2PulleyJoint=function t(){t.b2PulleyJoint.apply(this,arguments),this.constructor===t&&this.b2PulleyJoint.apply(this,arguments)},Box2D.Dynamics.Joints.b2PulleyJointDef=function t(){t.b2PulleyJointDef.apply(this,arguments),this.constructor===t&&this.b2PulleyJointDef.apply(this,arguments)},Box2D.Dynamics.Joints.b2RevoluteJoint=function t(){t.b2RevoluteJoint.apply(this,arguments),this.constructor===t&&this.b2RevoluteJoint.apply(this,arguments)},Box2D.Dynamics.Joints.b2RevoluteJointDef=function t(){t.b2RevoluteJointDef.apply(this,arguments),this.constructor===t&&this.b2RevoluteJointDef.apply(this,arguments)},Box2D.Dynamics.Joints.b2WeldJoint=function t(){t.b2WeldJoint.apply(this,arguments),this.constructor===t&&this.b2WeldJoint.apply(this,arguments)},Box2D.Dynamics.Joints.b2WeldJointDef=function t(){t.b2WeldJointDef.apply(this,arguments),this.constructor===t&&this.b2WeldJointDef.apply(this,arguments)}}(),Box2D.postDefs=[],function(){var t=Box2D.Collision.Shapes.b2CircleShape,e=(Box2D.Collision.Shapes.b2EdgeChainDef,Box2D.Collision.Shapes.b2EdgeShape,Box2D.Collision.Shapes.b2MassData,Box2D.Collision.Shapes.b2PolygonShape),i=Box2D.Collision.Shapes.b2Shape,o=(Box2D.Common.b2Color,Box2D.Common.b2internal,Box2D.Common.b2Settings),n=(Box2D.Common.Math.b2Mat22,Box2D.Common.Math.b2Mat33,Box2D.Common.Math.b2Math),r=Box2D.Common.Math.b2Sweep,l=Box2D.Common.Math.b2Transform,h=Box2D.Common.Math.b2Vec2,p=(Box2D.Common.Math.b2Vec3,Box2D.Collision.b2AABB),c=Box2D.Collision.b2Bound,m=Box2D.Collision.b2BoundValues,d=Box2D.Collision.b2Collision,u=Box2D.Collision.b2ContactID,y=Box2D.Collision.b2ContactPoint,g=Box2D.Collision.b2Distance,f=Box2D.Collision.b2DistanceInput,b=Box2D.Collision.b2DistanceOutput,x=Box2D.Collision.b2DistanceProxy,_=Box2D.Collision.b2DynamicTree,v=Box2D.Collision.b2DynamicTreeBroadPhase,w=Box2D.Collision.b2DynamicTreeNode,C=Box2D.Collision.b2DynamicTreePair,D=Box2D.Collision.b2Manifold,S=Box2D.Collision.b2ManifoldPoint,B=Box2D.Collision.b2Point,A=Box2D.Collision.b2RayCastInput,I=Box2D.Collision.b2RayCastOutput,M=Box2D.Collision.b2Segment,k=Box2D.Collision.b2SeparationFunction,L=Box2D.Collision.b2Simplex,T=Box2D.Collision.b2SimplexCache,E=Box2D.Collision.b2SimplexVertex,V=Box2D.Collision.b2TimeOfImpact,P=Box2D.Collision.b2TOIInput,G=Box2D.Collision.b2WorldManifold,F=Box2D.Collision.ClipVertex,X=Box2D.Collision.Features,N=Box2D.Collision.IBroadPhase;p.b2AABB=function(){this.lowerBound=new h,this.upperBound=new h},p.prototype.IsValid=function(){var t=this.upperBound.x-this.lowerBound.x,e=this.upperBound.y-this.lowerBound.y,i=t>=0&&e>=0;return i=i&&this.lowerBound.IsValid()&&this.upperBound.IsValid()},p.prototype.GetCenter=function(){return new h((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},p.prototype.GetExtents=function(){return new h((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},p.prototype.Contains=function(t){var e=!0;return e=(e=(e=(e=e&&this.lowerBound.x<=t.lowerBound.x)&&this.lowerBound.y<=t.lowerBound.y)&&t.upperBound.x<=this.upperBound.x)&&t.upperBound.y<=this.upperBound.y},p.prototype.RayCast=function(t,e){var i=-Number.MAX_VALUE,o=Number.MAX_VALUE,n=e.p1.x,s=e.p1.y,a=e.p2.x-e.p1.x,r=e.p2.y-e.p1.y,l=Math.abs(a),h=Math.abs(r),p=t.normal,c=0,m=0,d=0,u=0,y=0;if(l<Number.MIN_VALUE){if(n<this.lowerBound.x||this.upperBound.x<n)return!1}else if(c=1/a,y=-1,(m=(this.lowerBound.x-n)*c)>(d=(this.upperBound.x-n)*c)&&(u=m,m=d,d=u,y=1),m>i&&(p.x=y,p.y=0,i=m),i>(o=Math.min(o,d)))return!1;if(h<Number.MIN_VALUE){if(s<this.lowerBound.y||this.upperBound.y<s)return!1}else if(c=1/r,y=-1,(m=(this.lowerBound.y-s)*c)>(d=(this.upperBound.y-s)*c)&&(u=m,m=d,d=u,y=1),m>i&&(p.y=y,p.x=0,i=m),i>(o=Math.min(o,d)))return!1;return t.fraction=i,!0},p.prototype.TestOverlap=function(t){var e=t.lowerBound.x-this.upperBound.x,i=t.lowerBound.y-this.upperBound.y,o=this.lowerBound.x-t.upperBound.x,n=this.lowerBound.y-t.upperBound.y;return!(e>0||i>0)&&!(o>0||n>0)},p.Combine=function(t,e){var i=new p;return i.Combine(t,e),i},p.prototype.Combine=function(t,e){this.lowerBound.x=Math.min(t.lowerBound.x,e.lowerBound.x),this.lowerBound.y=Math.min(t.lowerBound.y,e.lowerBound.y),this.upperBound.x=Math.max(t.upperBound.x,e.upperBound.x),this.upperBound.y=Math.max(t.upperBound.y,e.upperBound.y)},c.b2Bound=function(){},c.prototype.IsLower=function(){return 0==(1&this.value)},c.prototype.IsUpper=function(){return 1==(1&this.value)},c.prototype.Swap=function(t){var e=this.value,i=this.proxy,o=this.stabbingCount;this.value=t.value,this.proxy=t.proxy,this.stabbingCount=t.stabbingCount,t.value=e,t.proxy=i,t.stabbingCount=o},m.b2BoundValues=function(){},m.prototype.b2BoundValues=function(){this.lowerValues=new a,this.lowerValues[0]=0,this.lowerValues[1]=0,this.upperValues=new a,this.upperValues[0]=0,this.upperValues[1]=0},d.b2Collision=function(){},d.ClipSegmentToLine=function(t,e,i,o){var n;void 0===o&&(o=0);var s=0,a=(n=e[0]).v,r=(n=e[1]).v,l=i.x*a.x+i.y*a.y-o,h=i.x*r.x+i.y*r.y-o;if(l<=0&&t[s++].Set(e[0]),h<=0&&t[s++].Set(e[1]),l*h<0){var p,c=l/(l-h),m=(n=t[s]).v;m.x=a.x+c*(r.x-a.x),m.y=a.y+c*(r.y-a.y),n=t[s],l>0?(p=e[0],n.id=p.id):(p=e[1],n.id=p.id),++s}return s},d.EdgeSeparation=function(t,e,i,o,n){void 0===i&&(i=0);parseInt(t.m_vertexCount);var s,a,r=t.m_vertices,l=t.m_normals,h=parseInt(o.m_vertexCount),p=o.m_vertices;s=e.R,a=l[i];for(var c=s.col1.x*a.x+s.col2.x*a.y,m=s.col1.y*a.x+s.col2.y*a.y,d=(s=n.R).col1.x*c+s.col1.y*m,u=s.col2.x*c+s.col2.y*m,y=0,g=Number.MAX_VALUE,f=0;f<h;++f){var b=(a=p[f]).x*d+a.y*u;b<g&&(g=b,y=f)}a=r[i],s=e.R;var x=e.position.x+(s.col1.x*a.x+s.col2.x*a.y),_=e.position.y+(s.col1.y*a.x+s.col2.y*a.y);a=p[y],s=n.R;var v=n.position.x+(s.col1.x*a.x+s.col2.x*a.y),w=n.position.y+(s.col1.y*a.x+s.col2.y*a.y);return(v-=x)*c+(w-=_)*m},d.FindMaxSeparation=function(t,e,i,o,n){var s,a,r=parseInt(e.m_vertexCount),l=e.m_normals;a=n.R,s=o.m_centroid;var h=n.position.x+(a.col1.x*s.x+a.col2.x*s.y),p=n.position.y+(a.col1.y*s.x+a.col2.y*s.y);a=i.R,s=e.m_centroid,h-=i.position.x+(a.col1.x*s.x+a.col2.x*s.y),p-=i.position.y+(a.col1.y*s.x+a.col2.y*s.y);for(var c=h*i.R.col1.x+p*i.R.col1.y,m=h*i.R.col2.x+p*i.R.col2.y,u=0,y=-Number.MAX_VALUE,g=0;g<r;++g){var f=(s=l[g]).x*c+s.y*m;f>y&&(y=f,u=g)}var b=d.EdgeSeparation(e,i,u,o,n),x=parseInt(u-1>=0?u-1:r-1),_=d.EdgeSeparation(e,i,x,o,n),v=parseInt(u+1<r?u+1:0),w=d.EdgeSeparation(e,i,v,o,n),C=0,D=0,S=0;if(_>b&&_>w)S=-1,C=x,D=_;else{if(!(w>b))return t[0]=u,b;S=1,C=v,D=w}for(;u=-1==S?C-1>=0?C-1:r-1:C+1<r?C+1:0,(b=d.EdgeSeparation(e,i,u,o,n))>D;)C=u,D=b;return t[0]=C,D},d.FindIncidentEdge=function(t,e,i,o,n,s){void 0===o&&(o=0);parseInt(e.m_vertexCount);var a,r,l=e.m_normals,h=parseInt(n.m_vertexCount),p=n.m_vertices,c=n.m_normals;a=i.R,r=l[o];var m=a.col1.x*r.x+a.col2.x*r.y,d=a.col1.y*r.x+a.col2.y*r.y,u=(a=s.R).col1.x*m+a.col1.y*d;d=a.col2.x*m+a.col2.y*d,m=u;for(var y,g=0,f=Number.MAX_VALUE,b=0;b<h;++b){var x=m*(r=c[b]).x+d*r.y;x<f&&(f=x,g=b)}var _=parseInt(g),v=parseInt(_+1<h?_+1:0);y=t[0],r=p[_],a=s.R,y.v.x=s.position.x+(a.col1.x*r.x+a.col2.x*r.y),y.v.y=s.position.y+(a.col1.y*r.x+a.col2.y*r.y),y.id.features.referenceEdge=o,y.id.features.incidentEdge=_,y.id.features.incidentVertex=0,y=t[1],r=p[v],a=s.R,y.v.x=s.position.x+(a.col1.x*r.x+a.col2.x*r.y),y.v.y=s.position.y+(a.col1.y*r.x+a.col2.y*r.y),y.id.features.referenceEdge=o,y.id.features.incidentEdge=v,y.id.features.incidentVertex=1},d.MakeClipPointVector=function(){var t=new s(2);return t[0]=new F,t[1]=new F,t},d.CollidePolygons=function(t,e,i,n,s){var a;t.m_pointCount=0;var r=e.m_radius+n.m_radius,l=0;d.s_edgeAO[0]=l;var h=d.FindMaxSeparation(d.s_edgeAO,e,i,n,s);if(l=d.s_edgeAO[0],!(h>r)){var p=0;d.s_edgeBO[0]=p;var c=d.FindMaxSeparation(d.s_edgeBO,n,s,e,i);if(p=d.s_edgeBO[0],!(c>r)){var m,u,y,g,f,b=0,x=0;c>.98*h+.001?(m=n,u=e,y=s,g=i,b=p,t.m_type=D.e_faceB,x=1):(m=e,u=n,y=i,g=s,b=l,t.m_type=D.e_faceA,x=0);var _=d.s_incidentEdge;d.FindIncidentEdge(_,m,y,b,u,g);var v,w=parseInt(m.m_vertexCount),C=m.m_vertices,S=C[b];v=b+1<w?C[parseInt(b+1)]:C[0];var B=d.s_localTangent;B.Set(v.x-S.x,v.y-S.y),B.Normalize();var A=d.s_localNormal;A.x=B.y,A.y=-B.x;var I=d.s_planePoint;I.Set(.5*(S.x+v.x),.5*(S.y+v.y));var M=d.s_tangent;f=y.R,M.x=f.col1.x*B.x+f.col2.x*B.y,M.y=f.col1.y*B.x+f.col2.y*B.y;var k=d.s_tangent2;k.x=-M.x,k.y=-M.y;var L=d.s_normal;L.x=M.y,L.y=-M.x;var T=d.s_v11,E=d.s_v12;T.x=y.position.x+(f.col1.x*S.x+f.col2.x*S.y),T.y=y.position.y+(f.col1.y*S.x+f.col2.y*S.y),E.x=y.position.x+(f.col1.x*v.x+f.col2.x*v.y),E.y=y.position.y+(f.col1.y*v.x+f.col2.y*v.y);var V=L.x*T.x+L.y*T.y,P=-M.x*T.x-M.y*T.y+r,G=M.x*E.x+M.y*E.y+r,F=d.s_clipPoints1,X=d.s_clipPoints2;if(!(d.ClipSegmentToLine(F,_,k,P)<2||d.ClipSegmentToLine(X,F,M,G)<2)){t.m_localPlaneNormal.SetV(A),t.m_localPoint.SetV(I);for(var N=0,Y=0;Y<o.b2_maxManifoldPoints;++Y){if(a=X[Y],L.x*a.v.x+L.y*a.v.y-V<=r){var R=t.m_points[N];f=g.R;var J=a.v.x-g.position.x,j=a.v.y-g.position.y;R.m_localPoint.x=J*f.col1.x+j*f.col1.y,R.m_localPoint.y=J*f.col2.x+j*f.col2.y,R.m_id.Set(a.id),R.m_id.features.flip=x,++N}}t.m_pointCount=N}}}},d.CollideCircles=function(t,e,i,o,n){var s,a;t.m_pointCount=0,s=i.R,a=e.m_p;var r=i.position.x+(s.col1.x*a.x+s.col2.x*a.y),l=i.position.y+(s.col1.y*a.x+s.col2.y*a.y);s=n.R,a=o.m_p;var h=n.position.x+(s.col1.x*a.x+s.col2.x*a.y)-r,p=n.position.y+(s.col1.y*a.x+s.col2.y*a.y)-l,c=h*h+p*p,m=e.m_radius+o.m_radius;c>m*m||(t.m_type=D.e_circles,t.m_localPoint.SetV(e.m_p),t.m_localPlaneNormal.SetZero(),t.m_pointCount=1,t.m_points[0].m_localPoint.SetV(o.m_p),t.m_points[0].m_id.key=0)},d.CollidePolygonAndCircle=function(t,e,i,o,n){t.m_pointCount=0;var s,a,r=0,l=0;a=n.R,s=o.m_p;var h=n.position.x+(a.col1.x*s.x+a.col2.x*s.y),p=n.position.y+(a.col1.y*s.x+a.col2.y*s.y);r=h-i.position.x,l=p-i.position.y;for(var c=r*(a=i.R).col1.x+l*a.col1.y,m=r*a.col2.x+l*a.col2.y,d=0,u=-Number.MAX_VALUE,y=e.m_radius+o.m_radius,g=parseInt(e.m_vertexCount),f=e.m_vertices,b=e.m_normals,x=0;x<g;++x){r=c-(s=f[x]).x,l=m-s.y;var _=(s=b[x]).x*r+s.y*l;if(_>y)return;_>u&&(u=_,d=x)}var v=parseInt(d),w=parseInt(v+1<g?v+1:0),C=f[v],S=f[w];if(u<Number.MIN_VALUE)return t.m_pointCount=1,t.m_type=D.e_faceA,t.m_localPlaneNormal.SetV(b[d]),t.m_localPoint.x=.5*(C.x+S.x),t.m_localPoint.y=.5*(C.y+S.y),t.m_points[0].m_localPoint.SetV(o.m_p),void(t.m_points[0].m_id.key=0);var B=(c-C.x)*(S.x-C.x)+(m-C.y)*(S.y-C.y),A=(c-S.x)*(C.x-S.x)+(m-S.y)*(C.y-S.y);if(B<=0){if((c-C.x)*(c-C.x)+(m-C.y)*(m-C.y)>y*y)return;t.m_pointCount=1,t.m_type=D.e_faceA,t.m_localPlaneNormal.x=c-C.x,t.m_localPlaneNormal.y=m-C.y,t.m_localPlaneNormal.Normalize(),t.m_localPoint.SetV(C),t.m_points[0].m_localPoint.SetV(o.m_p),t.m_points[0].m_id.key=0}else if(A<=0){if((c-S.x)*(c-S.x)+(m-S.y)*(m-S.y)>y*y)return;t.m_pointCount=1,t.m_type=D.e_faceA,t.m_localPlaneNormal.x=c-S.x,t.m_localPlaneNormal.y=m-S.y,t.m_localPlaneNormal.Normalize(),t.m_localPoint.SetV(S),t.m_points[0].m_localPoint.SetV(o.m_p),t.m_points[0].m_id.key=0}else{var I=.5*(C.x+S.x),M=.5*(C.y+S.y);if((u=(c-I)*b[v].x+(m-M)*b[v].y)>y)return;t.m_pointCount=1,t.m_type=D.e_faceA,t.m_localPlaneNormal.x=b[v].x,t.m_localPlaneNormal.y=b[v].y,t.m_localPlaneNormal.Normalize(),t.m_localPoint.Set(I,M),t.m_points[0].m_localPoint.SetV(o.m_p),t.m_points[0].m_id.key=0}},d.TestOverlap=function(t,e){var i=e.lowerBound,o=t.upperBound,n=i.x-o.x,s=i.y-o.y;i=t.lowerBound,o=e.upperBound;var a=i.x-o.x,r=i.y-o.y;return!(n>0||s>0)&&!(a>0||r>0)},Box2D.postDefs.push(function(){Box2D.Collision.b2Collision.s_incidentEdge=d.MakeClipPointVector(),Box2D.Collision.b2Collision.s_clipPoints1=d.MakeClipPointVector(),Box2D.Collision.b2Collision.s_clipPoints2=d.MakeClipPointVector(),Box2D.Collision.b2Collision.s_edgeAO=new a(1),Box2D.Collision.b2Collision.s_edgeBO=new a(1),Box2D.Collision.b2Collision.s_localTangent=new h,Box2D.Collision.b2Collision.s_localNormal=new h,Box2D.Collision.b2Collision.s_planePoint=new h,Box2D.Collision.b2Collision.s_normal=new h,Box2D.Collision.b2Collision.s_tangent=new h,Box2D.Collision.b2Collision.s_tangent2=new h,Box2D.Collision.b2Collision.s_v11=new h,Box2D.Collision.b2Collision.s_v12=new h,Box2D.Collision.b2Collision.b2CollidePolyTempVec=new h,Box2D.Collision.b2Collision.b2_nullFeature=255}),u.b2ContactID=function(){this.features=new X},u.prototype.b2ContactID=function(){this.features._m_id=this},u.prototype.Set=function(t){this.key=t._key},u.prototype.Copy=function(){var t=new u;return t.key=this.key,t},Object.defineProperty(u.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this._key}}),Object.defineProperty(u.prototype,"key",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._key=t,this.features._referenceEdge=255&this._key,this.features._incidentEdge=(65280&this._key)>>8&255,this.features._incidentVertex=(16711680&this._key)>>16&255,this.features._flip=(4278190080&this._key)>>24&255}}),y.b2ContactPoint=function(){this.position=new h,this.velocity=new h,this.normal=new h,this.id=new u},g.b2Distance=function(){},g.Distance=function(t,e,i){++g.b2_gjkCalls;var s=i.proxyA,a=i.proxyB,r=i.transformA,l=i.transformB,p=g.s_simplex;p.ReadCache(e,s,r,a,l);for(var c,m=p.m_vertices,d=g.s_saveA,u=g.s_saveB,y=0,f=(p.GetClosestPoint().LengthSquared(),0),b=0;b<20;){for(y=p.m_count,f=0;f<y;f++)d[f]=m[f].indexA,u[f]=m[f].indexB;switch(p.m_count){case 1:break;case 2:p.Solve2();break;case 3:p.Solve3();break;default:o.b2Assert(!1)}if(3==p.m_count)break;(c=p.GetClosestPoint()).LengthSquared();var x=p.GetSearchDirection();if(x.LengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE)break;var _=m[p.m_count];_.indexA=s.GetSupport(n.MulTMV(r.R,x.GetNegative())),_.wA=n.MulX(r,s.GetVertex(_.indexA)),_.indexB=a.GetSupport(n.MulTMV(l.R,x)),_.wB=n.MulX(l,a.GetVertex(_.indexB)),_.w=n.SubtractVV(_.wB,_.wA),++b,++g.b2_gjkIters;var v=!1;for(f=0;f<y;f++)if(_.indexA==d[f]&&_.indexB==u[f]){v=!0;break}if(v)break;++p.m_count}if(g.b2_gjkMaxIters=n.Max(g.b2_gjkMaxIters,b),p.GetWitnessPoints(t.pointA,t.pointB),t.distance=n.SubtractVV(t.pointA,t.pointB).Length(),t.iterations=b,p.WriteCache(e),i.useRadii){var w=s.m_radius,C=a.m_radius;if(t.distance>w+C&&t.distance>Number.MIN_VALUE){t.distance-=w+C;var D=n.SubtractVV(t.pointB,t.pointA);D.Normalize(),t.pointA.x+=w*D.x,t.pointA.y+=w*D.y,t.pointB.x-=C*D.x,t.pointB.y-=C*D.y}else(c=new h).x=.5*(t.pointA.x+t.pointB.x),c.y=.5*(t.pointA.y+t.pointB.y),t.pointA.x=t.pointB.x=c.x,t.pointA.y=t.pointB.y=c.y,t.distance=0}},Box2D.postDefs.push(function(){Box2D.Collision.b2Distance.s_simplex=new L,Box2D.Collision.b2Distance.s_saveA=new a(3),Box2D.Collision.b2Distance.s_saveB=new a(3)}),f.b2DistanceInput=function(){},b.b2DistanceOutput=function(){this.pointA=new h,this.pointB=new h},x.b2DistanceProxy=function(){},x.prototype.Set=function(n){switch(n.GetType()){case i.e_circleShape:var a=n instanceof t?n:null;this.m_vertices=new s(1,!0),this.m_vertices[0]=a.m_p,this.m_count=1,this.m_radius=a.m_radius;break;case i.e_polygonShape:var r=n instanceof e?n:null;this.m_vertices=r.m_vertices,this.m_count=r.m_vertexCount,this.m_radius=r.m_radius;break;default:o.b2Assert(!1)}},x.prototype.GetSupport=function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,o=1;o<this.m_count;++o){var n=this.m_vertices[o].x*t.x+this.m_vertices[o].y*t.y;n>i&&(e=o,i=n)}return e},x.prototype.GetSupportVertex=function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,o=1;o<this.m_count;++o){var n=this.m_vertices[o].x*t.x+this.m_vertices[o].y*t.y;n>i&&(e=o,i=n)}return this.m_vertices[e]},x.prototype.GetVertexCount=function(){return this.m_count},x.prototype.GetVertex=function(t){return void 0===t&&(t=0),o.b2Assert(0<=t&&t<this.m_count),this.m_vertices[t]},_.b2DynamicTree=function(){},_.prototype.b2DynamicTree=function(){this.m_root=null,this.m_freeList=null,this.m_path=0,this.m_insertionCount=0},_.prototype.CreateProxy=function(t,e){var i=this.AllocateNode(),n=o.b2_aabbExtension,s=o.b2_aabbExtension;return i.aabb.lowerBound.x=t.lowerBound.x-n,i.aabb.lowerBound.y=t.lowerBound.y-s,i.aabb.upperBound.x=t.upperBound.x+n,i.aabb.upperBound.y=t.upperBound.y+s,i.userData=e,this.InsertLeaf(i),i},_.prototype.DestroyProxy=function(t){this.RemoveLeaf(t),this.FreeNode(t)},_.prototype.MoveProxy=function(t,e,i){if(o.b2Assert(t.IsLeaf()),t.aabb.Contains(e))return!1;this.RemoveLeaf(t);var n=o.b2_aabbExtension+o.b2_aabbMultiplier*(i.x>0?i.x:-i.x),s=o.b2_aabbExtension+o.b2_aabbMultiplier*(i.y>0?i.y:-i.y);return t.aabb.lowerBound.x=e.lowerBound.x-n,t.aabb.lowerBound.y=e.lowerBound.y-s,t.aabb.upperBound.x=e.upperBound.x+n,t.aabb.upperBound.y=e.upperBound.y+s,this.InsertLeaf(t),!0},_.prototype.Rebalance=function(t){if(void 0===t&&(t=0),null!=this.m_root)for(var e=0;e<t;e++){for(var i=this.m_root,o=0;0==i.IsLeaf();)i=this.m_path>>o&1?i.child2:i.child1,o=o+1&31;++this.m_path,this.RemoveLeaf(i),this.InsertLeaf(i)}},_.prototype.GetFatAABB=function(t){return t.aabb},_.prototype.GetUserData=function(t){return t.userData},_.prototype.Query=function(t,e){if(null!=this.m_root){var i=new s,o=0;for(i[o++]=this.m_root;o>0;){var n=i[--o];if(n.aabb.TestOverlap(e))if(n.IsLeaf()){if(!t(n))return}else i[o++]=n.child1,i[o++]=n.child2}}},_.prototype.RayCast=function(t,e){if(null!=this.m_root){var i=e.p1,o=e.p2,a=n.SubtractVV(i,o);a.Normalize();var r=n.CrossFV(1,a),l=n.AbsV(r),h=e.maxFraction,c=new p,m=0,d=0;m=i.x+h*(o.x-i.x),d=i.y+h*(o.y-i.y),c.lowerBound.x=Math.min(i.x,m),c.lowerBound.y=Math.min(i.y,d),c.upperBound.x=Math.max(i.x,m),c.upperBound.y=Math.max(i.y,d);var u=new s,y=0;for(u[y++]=this.m_root;y>0;){var g=u[--y];if(0!=g.aabb.TestOverlap(c)){var f=g.aabb.GetCenter(),b=g.aabb.GetExtents();if(!(Math.abs(r.x*(i.x-f.x)+r.y*(i.y-f.y))-l.x*b.x-l.y*b.y>0))if(g.IsLeaf()){var x=new A;if(x.p1=e.p1,x.p2=e.p2,x.maxFraction=e.maxFraction,0==(h=t(x,g)))return;h>0&&(m=i.x+h*(o.x-i.x),d=i.y+h*(o.y-i.y),c.lowerBound.x=Math.min(i.x,m),c.lowerBound.y=Math.min(i.y,d),c.upperBound.x=Math.max(i.x,m),c.upperBound.y=Math.max(i.y,d))}else u[y++]=g.child1,u[y++]=g.child2}}}},_.prototype.AllocateNode=function(){if(this.m_freeList){var t=this.m_freeList;return this.m_freeList=t.parent,t.parent=null,t.child1=null,t.child2=null,t}return new w},_.prototype.FreeNode=function(t){t.parent=this.m_freeList,this.m_freeList=t},_.prototype.InsertLeaf=function(t){if(++this.m_insertionCount,null==this.m_root)return this.m_root=t,void(this.m_root.parent=null);var e=t.aabb.GetCenter(),i=this.m_root;if(0==i.IsLeaf())do{var o=i.child1,n=i.child2;i=Math.abs((o.aabb.lowerBound.x+o.aabb.upperBound.x)/2-e.x)+Math.abs((o.aabb.lowerBound.y+o.aabb.upperBound.y)/2-e.y)<Math.abs((n.aabb.lowerBound.x+n.aabb.upperBound.x)/2-e.x)+Math.abs((n.aabb.lowerBound.y+n.aabb.upperBound.y)/2-e.y)?o:n}while(0==i.IsLeaf());var s=i.parent,a=this.AllocateNode();if(a.parent=s,a.userData=null,a.aabb.Combine(t.aabb,i.aabb),s){i.parent.child1==i?s.child1=a:s.child2=a,a.child1=i,a.child2=t,i.parent=a,t.parent=a;do{if(s.aabb.Contains(a.aabb))break;s.aabb.Combine(s.child1.aabb,s.child2.aabb),a=s,s=s.parent}while(s)}else a.child1=i,a.child2=t,i.parent=a,t.parent=a,this.m_root=a},_.prototype.RemoveLeaf=function(t){if(t!=this.m_root){var e,i=t.parent,o=i.parent;if(e=i.child1==t?i.child2:i.child1,o)for(o.child1==i?o.child1=e:o.child2=e,e.parent=o,this.FreeNode(i);o;){var n=o.aabb;if(o.aabb=p.Combine(o.child1.aabb,o.child2.aabb),n.Contains(o.aabb))break;o=o.parent}else this.m_root=e,e.parent=null,this.FreeNode(i)}else this.m_root=null},v.b2DynamicTreeBroadPhase=function(){this.m_tree=new _,this.m_moveBuffer=new s,this.m_pairBuffer=new s,this.m_pairCount=0},v.prototype.CreateProxy=function(t,e){var i=this.m_tree.CreateProxy(t,e);return++this.m_proxyCount,this.BufferMove(i),i},v.prototype.DestroyProxy=function(t){this.UnBufferMove(t),--this.m_proxyCount,this.m_tree.DestroyProxy(t)},v.prototype.MoveProxy=function(t,e,i){this.m_tree.MoveProxy(t,e,i)&&this.BufferMove(t)},v.prototype.TestOverlap=function(t,e){var i=this.m_tree.GetFatAABB(t),o=this.m_tree.GetFatAABB(e);return i.TestOverlap(o)},v.prototype.GetUserData=function(t){return this.m_tree.GetUserData(t)},v.prototype.GetFatAABB=function(t){return this.m_tree.GetFatAABB(t)},v.prototype.GetProxyCount=function(){return this.m_proxyCount},v.prototype.UpdatePairs=function(t){var e=this;e.m_pairCount=0;var i,o=0;for(o=0;o<e.m_moveBuffer.length;++o){i=e.m_moveBuffer[o];var n=e.m_tree.GetFatAABB(i);e.m_tree.Query(function(t){if(t==i)return!0;e.m_pairCount==e.m_pairBuffer.length&&(e.m_pairBuffer[e.m_pairCount]=new C);var o=e.m_pairBuffer[e.m_pairCount];return o.proxyA=t<i?t:i,o.proxyB=t>=i?t:i,++e.m_pairCount,!0},n)}e.m_moveBuffer.length=0;for(o=0;o<e.m_pairCount;){var s=e.m_pairBuffer[o];for(t(e.m_tree.GetUserData(s.proxyA),e.m_tree.GetUserData(s.proxyB)),++o;o<e.m_pairCount;){var a=e.m_pairBuffer[o];if(a.proxyA!=s.proxyA||a.proxyB!=s.proxyB)break;++o}}},v.prototype.Query=function(t,e){this.m_tree.Query(t,e)},v.prototype.RayCast=function(t,e){this.m_tree.RayCast(t,e)},v.prototype.Validate=function(){},v.prototype.Rebalance=function(t){void 0===t&&(t=0),this.m_tree.Rebalance(t)},v.prototype.BufferMove=function(t){this.m_moveBuffer[this.m_moveBuffer.length]=t},v.prototype.UnBufferMove=function(t){var e=parseInt(this.m_moveBuffer.indexOf(t));this.m_moveBuffer.splice(e,1)},v.prototype.ComparePairs=function(t,e){return 0},v.__implements={},v.__implements[N]=!0,w.b2DynamicTreeNode=function(){this.aabb=new p},w.prototype.IsLeaf=function(){return null==this.child1},C.b2DynamicTreePair=function(){},D.b2Manifold=function(){this.m_pointCount=0},D.prototype.b2Manifold=function(){this.m_points=new s(o.b2_maxManifoldPoints);for(var t=0;t<o.b2_maxManifoldPoints;t++)this.m_points[t]=new S;this.m_localPlaneNormal=new h,this.m_localPoint=new h},D.prototype.Reset=function(){for(var t=0;t<o.b2_maxManifoldPoints;t++)(this.m_points[t]instanceof S?this.m_points[t]:null).Reset();this.m_localPlaneNormal.SetZero(),this.m_localPoint.SetZero(),this.m_type=0,this.m_pointCount=0},D.prototype.Set=function(t){this.m_pointCount=t.m_pointCount;for(var e=0;e<o.b2_maxManifoldPoints;e++)(this.m_points[e]instanceof S?this.m_points[e]:null).Set(t.m_points[e]);this.m_localPlaneNormal.SetV(t.m_localPlaneNormal),this.m_localPoint.SetV(t.m_localPoint),this.m_type=t.m_type},D.prototype.Copy=function(){var t=new D;return t.Set(this),t},Box2D.postDefs.push(function(){Box2D.Collision.b2Manifold.e_circles=1,Box2D.Collision.b2Manifold.e_faceA=2,Box2D.Collision.b2Manifold.e_faceB=4}),S.b2ManifoldPoint=function(){this.m_localPoint=new h,this.m_id=new u},S.prototype.b2ManifoldPoint=function(){this.Reset()},S.prototype.Reset=function(){this.m_localPoint.SetZero(),this.m_normalImpulse=0,this.m_tangentImpulse=0,this.m_id.key=0},S.prototype.Set=function(t){this.m_localPoint.SetV(t.m_localPoint),this.m_normalImpulse=t.m_normalImpulse,this.m_tangentImpulse=t.m_tangentImpulse,this.m_id.Set(t.m_id)},B.b2Point=function(){this.p=new h},B.prototype.Support=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),this.p},B.prototype.GetFirstVertex=function(t){return this.p},A.b2RayCastInput=function(){this.p1=new h,this.p2=new h},A.prototype.b2RayCastInput=function(t,e,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=1),t&&this.p1.SetV(t),e&&this.p2.SetV(e),this.maxFraction=i},I.b2RayCastOutput=function(){this.normal=new h},M.b2Segment=function(){this.p1=new h,this.p2=new h},M.prototype.TestSegment=function(t,e,i,o){void 0===o&&(o=0);var n=i.p1,s=i.p2.x-n.x,a=i.p2.y-n.y,r=this.p2.x-this.p1.x,l=this.p2.y-this.p1.y,h=-r,p=100*Number.MIN_VALUE,c=-(s*l+a*h);if(c>p){var m=n.x-this.p1.x,d=n.y-this.p1.y,u=m*l+d*h;if(0<=u&&u<=o*c){var y=-s*d+a*m;if(-p*c<=y&&y<=c*(1+p)){u/=c;var g=Math.sqrt(l*l+h*h);return l/=g,h/=g,t[0]=u,e.Set(l,h),!0}}}return!1},M.prototype.Extend=function(t){this.ExtendForward(t),this.ExtendBackward(t)},M.prototype.ExtendForward=function(t){var e=this.p2.x-this.p1.x,i=this.p2.y-this.p1.y,o=Math.min(e>0?(t.upperBound.x-this.p1.x)/e:e<0?(t.lowerBound.x-this.p1.x)/e:Number.POSITIVE_INFINITY,i>0?(t.upperBound.y-this.p1.y)/i:i<0?(t.lowerBound.y-this.p1.y)/i:Number.POSITIVE_INFINITY);this.p2.x=this.p1.x+e*o,this.p2.y=this.p1.y+i*o},M.prototype.ExtendBackward=function(t){var e=-this.p2.x+this.p1.x,i=-this.p2.y+this.p1.y,o=Math.min(e>0?(t.upperBound.x-this.p2.x)/e:e<0?(t.lowerBound.x-this.p2.x)/e:Number.POSITIVE_INFINITY,i>0?(t.upperBound.y-this.p2.y)/i:i<0?(t.lowerBound.y-this.p2.y)/i:Number.POSITIVE_INFINITY);this.p1.x=this.p2.x+e*o,this.p1.y=this.p2.y+i*o},k.b2SeparationFunction=function(){this.m_localPoint=new h,this.m_axis=new h},k.prototype.Initialize=function(t,e,i,s,a){this.m_proxyA=e,this.m_proxyB=s;var r,l,p,c,m,d,u=parseInt(t.count);o.b2Assert(0<u&&u<3);var y,g,f=0,b=0,x=0,_=0,v=0,w=0,C=0;if(1==u)this.m_type=k.e_points,r=this.m_proxyA.GetVertex(t.indexA[0]),c=this.m_proxyB.GetVertex(t.indexB[0]),g=r,y=i.R,f=i.position.x+(y.col1.x*g.x+y.col2.x*g.y),b=i.position.y+(y.col1.y*g.x+y.col2.y*g.y),g=c,y=a.R,x=a.position.x+(y.col1.x*g.x+y.col2.x*g.y),_=a.position.y+(y.col1.y*g.x+y.col2.y*g.y),this.m_axis.x=x-f,this.m_axis.y=_-b,this.m_axis.Normalize();else if(t.indexB[0]==t.indexB[1])this.m_type=k.e_faceA,l=this.m_proxyA.GetVertex(t.indexA[0]),p=this.m_proxyA.GetVertex(t.indexA[1]),c=this.m_proxyB.GetVertex(t.indexB[0]),this.m_localPoint.x=.5*(l.x+p.x),this.m_localPoint.y=.5*(l.y+p.y),this.m_axis=n.CrossVF(n.SubtractVV(p,l),1),this.m_axis.Normalize(),g=this.m_axis,v=(y=i.R).col1.x*g.x+y.col2.x*g.y,w=y.col1.y*g.x+y.col2.y*g.y,g=this.m_localPoint,y=i.R,f=i.position.x+(y.col1.x*g.x+y.col2.x*g.y),b=i.position.y+(y.col1.y*g.x+y.col2.y*g.y),g=c,y=a.R,(C=((x=a.position.x+(y.col1.x*g.x+y.col2.x*g.y))-f)*v+((_=a.position.y+(y.col1.y*g.x+y.col2.y*g.y))-b)*w)<0&&this.m_axis.NegativeSelf();else if(t.indexA[0]==t.indexA[0])this.m_type=k.e_faceB,m=this.m_proxyB.GetVertex(t.indexB[0]),d=this.m_proxyB.GetVertex(t.indexB[1]),r=this.m_proxyA.GetVertex(t.indexA[0]),this.m_localPoint.x=.5*(m.x+d.x),this.m_localPoint.y=.5*(m.y+d.y),this.m_axis=n.CrossVF(n.SubtractVV(d,m),1),this.m_axis.Normalize(),g=this.m_axis,v=(y=a.R).col1.x*g.x+y.col2.x*g.y,w=y.col1.y*g.x+y.col2.y*g.y,g=this.m_localPoint,y=a.R,x=a.position.x+(y.col1.x*g.x+y.col2.x*g.y),_=a.position.y+(y.col1.y*g.x+y.col2.y*g.y),g=r,y=i.R,(C=((f=i.position.x+(y.col1.x*g.x+y.col2.x*g.y))-x)*v+((b=i.position.y+(y.col1.y*g.x+y.col2.y*g.y))-_)*w)<0&&this.m_axis.NegativeSelf();else{l=this.m_proxyA.GetVertex(t.indexA[0]),p=this.m_proxyA.GetVertex(t.indexA[1]),m=this.m_proxyB.GetVertex(t.indexB[0]),d=this.m_proxyB.GetVertex(t.indexB[1]);n.MulX(i,r);var D=n.MulMV(i.R,n.SubtractVV(p,l)),S=(n.MulX(a,c),n.MulMV(a.R,n.SubtractVV(d,m))),B=D.x*D.x+D.y*D.y,A=S.x*S.x+S.y*S.y,I=n.SubtractVV(S,D),M=D.x*I.x+D.y*I.y,L=S.x*I.x+S.y*I.y,T=D.x*S.x+D.y*S.y,E=B*A-T*T;C=0,0!=E&&(C=n.Clamp((T*L-M*A)/E,0,1));var V=(T*C+L)/A;V<0&&(V=0,C=n.Clamp((T-M)/B,0,1)),(r=new h).x=l.x+C*(p.x-l.x),r.y=l.y+C*(p.y-l.y),(c=new h).x=m.x+C*(d.x-m.x),c.y=m.y+C*(d.y-m.y),0==C||1==C?(this.m_type=k.e_faceB,this.m_axis=n.CrossVF(n.SubtractVV(d,m),1),this.m_axis.Normalize(),this.m_localPoint=c,g=this.m_axis,v=(y=a.R).col1.x*g.x+y.col2.x*g.y,w=y.col1.y*g.x+y.col2.y*g.y,g=this.m_localPoint,y=a.R,x=a.position.x+(y.col1.x*g.x+y.col2.x*g.y),_=a.position.y+(y.col1.y*g.x+y.col2.y*g.y),g=r,y=i.R,((f=i.position.x+(y.col1.x*g.x+y.col2.x*g.y))-x)*v+((b=i.position.y+(y.col1.y*g.x+y.col2.y*g.y))-_)*w,C<0&&this.m_axis.NegativeSelf()):(this.m_type=k.e_faceA,this.m_axis=n.CrossVF(n.SubtractVV(p,l),1),this.m_localPoint=r,g=this.m_axis,v=(y=i.R).col1.x*g.x+y.col2.x*g.y,w=y.col1.y*g.x+y.col2.y*g.y,g=this.m_localPoint,y=i.R,f=i.position.x+(y.col1.x*g.x+y.col2.x*g.y),b=i.position.y+(y.col1.y*g.x+y.col2.y*g.y),g=c,y=a.R,((x=a.position.x+(y.col1.x*g.x+y.col2.x*g.y))-f)*v+((_=a.position.y+(y.col1.y*g.x+y.col2.y*g.y))-b)*w,C<0&&this.m_axis.NegativeSelf())}},k.prototype.Evaluate=function(t,e){var i,s,a,r,l,h,p;switch(this.m_type){case k.e_points:return i=n.MulTMV(t.R,this.m_axis),s=n.MulTMV(e.R,this.m_axis.GetNegative()),a=this.m_proxyA.GetSupportVertex(i),r=this.m_proxyB.GetSupportVertex(s),l=n.MulX(t,a),((h=n.MulX(e,r)).x-l.x)*this.m_axis.x+(h.y-l.y)*this.m_axis.y;case k.e_faceA:return p=n.MulMV(t.R,this.m_axis),l=n.MulX(t,this.m_localPoint),s=n.MulTMV(e.R,p.GetNegative()),r=this.m_proxyB.GetSupportVertex(s),((h=n.MulX(e,r)).x-l.x)*p.x+(h.y-l.y)*p.y;case k.e_faceB:return p=n.MulMV(e.R,this.m_axis),h=n.MulX(e,this.m_localPoint),i=n.MulTMV(t.R,p.GetNegative()),a=this.m_proxyA.GetSupportVertex(i),((l=n.MulX(t,a)).x-h.x)*p.x+(l.y-h.y)*p.y;default:return o.b2Assert(!1),0}},Box2D.postDefs.push(function(){Box2D.Collision.b2SeparationFunction.e_points=1,Box2D.Collision.b2SeparationFunction.e_faceA=2,Box2D.Collision.b2SeparationFunction.e_faceB=4}),L.b2Simplex=function(){this.m_v1=new E,this.m_v2=new E,this.m_v3=new E,this.m_vertices=new s(3)},L.prototype.b2Simplex=function(){this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3},L.prototype.ReadCache=function(t,e,i,s,a){var r,l;o.b2Assert(0<=t.count&&t.count<=3),this.m_count=t.count;for(var h=this.m_vertices,p=0;p<this.m_count;p++){var c=h[p];c.indexA=t.indexA[p],c.indexB=t.indexB[p],r=e.GetVertex(c.indexA),l=s.GetVertex(c.indexB),c.wA=n.MulX(i,r),c.wB=n.MulX(a,l),c.w=n.SubtractVV(c.wB,c.wA),c.a=0}if(this.m_count>1){var m=t.metric,d=this.GetMetric();(d<.5*m||2*m<d||d<Number.MIN_VALUE)&&(this.m_count=0)}0==this.m_count&&((c=h[0]).indexA=0,c.indexB=0,r=e.GetVertex(0),l=s.GetVertex(0),c.wA=n.MulX(i,r),c.wB=n.MulX(a,l),c.w=n.SubtractVV(c.wB,c.wA),this.m_count=1)},L.prototype.WriteCache=function(t){t.metric=this.GetMetric(),t.count=Box2D.parseUInt(this.m_count);for(var e=this.m_vertices,i=0;i<this.m_count;i++)t.indexA[i]=Box2D.parseUInt(e[i].indexA),t.indexB[i]=Box2D.parseUInt(e[i].indexB)},L.prototype.GetSearchDirection=function(){switch(this.m_count){case 1:return this.m_v1.w.GetNegative();case 2:var t=n.SubtractVV(this.m_v2.w,this.m_v1.w);return n.CrossVV(t,this.m_v1.w.GetNegative())>0?n.CrossFV(1,t):n.CrossVF(t,1);default:return o.b2Assert(!1),new h}},L.prototype.GetClosestPoint=function(){switch(this.m_count){case 0:return o.b2Assert(!1),new h;case 1:return this.m_v1.w;case 2:return new h(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return o.b2Assert(!1),new h}},L.prototype.GetWitnessPoints=function(t,e){switch(this.m_count){case 0:o.b2Assert(!1);break;case 1:t.SetV(this.m_v1.wA),e.SetV(this.m_v1.wB);break;case 2:t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,e.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,e.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:e.x=t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,e.y=t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:o.b2Assert(!1)}},L.prototype.GetMetric=function(){switch(this.m_count){case 0:return o.b2Assert(!1),0;case 1:return 0;case 2:return n.SubtractVV(this.m_v1.w,this.m_v2.w).Length();case 3:return n.CrossVV(n.SubtractVV(this.m_v2.w,this.m_v1.w),n.SubtractVV(this.m_v3.w,this.m_v1.w));default:return o.b2Assert(!1),0}},L.prototype.Solve2=function(){var t=this.m_v1.w,e=this.m_v2.w,i=n.SubtractVV(e,t),o=-(t.x*i.x+t.y*i.y);if(o<=0)return this.m_v1.a=1,void(this.m_count=1);var s=e.x*i.x+e.y*i.y;if(s<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Set(this.m_v2);var a=1/(s+o);this.m_v1.a=s*a,this.m_v2.a=o*a,this.m_count=2},L.prototype.Solve3=function(){var t=this.m_v1.w,e=this.m_v2.w,i=this.m_v3.w,o=n.SubtractVV(e,t),s=n.Dot(t,o),a=n.Dot(e,o),r=-s,l=n.SubtractVV(i,t),h=n.Dot(t,l),p=n.Dot(i,l),c=-h,m=n.SubtractVV(i,e),d=n.Dot(e,m),u=n.Dot(i,m),y=-d,g=n.CrossVV(o,l),f=g*n.CrossVV(e,i),b=g*n.CrossVV(i,t),x=g*n.CrossVV(t,e);if(r<=0&&c<=0)return this.m_v1.a=1,void(this.m_count=1);if(a>0&&r>0&&x<=0){var _=1/(a+r);return this.m_v1.a=a*_,this.m_v2.a=r*_,void(this.m_count=2)}if(p>0&&c>0&&b<=0){var v=1/(p+c);return this.m_v1.a=p*v,this.m_v3.a=c*v,this.m_count=2,void this.m_v2.Set(this.m_v3)}if(a<=0&&y<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Set(this.m_v2);if(p<=0&&u<=0)return this.m_v3.a=1,this.m_count=1,void this.m_v1.Set(this.m_v3);if(u>0&&y>0&&f<=0){var w=1/(u+y);return this.m_v2.a=u*w,this.m_v3.a=y*w,this.m_count=2,void this.m_v1.Set(this.m_v3)}var C=1/(f+b+x);this.m_v1.a=f*C,this.m_v2.a=b*C,this.m_v3.a=x*C,this.m_count=3},T.b2SimplexCache=function(){this.indexA=new a(3),this.indexB=new a(3)},E.b2SimplexVertex=function(){},E.prototype.Set=function(t){this.wA.SetV(t.wA),this.wB.SetV(t.wB),this.w.SetV(t.w),this.a=t.a,this.indexA=t.indexA,this.indexB=t.indexB},V.b2TimeOfImpact=function(){},V.TimeOfImpact=function(t){++V.b2_toiCalls;var e=t.proxyA,i=t.proxyB,s=t.sweepA,a=t.sweepB;o.b2Assert(s.t0==a.t0),o.b2Assert(1-s.t0>Number.MIN_VALUE);var r=e.m_radius+i.m_radius,l=t.tolerance,h=0,p=0,c=0;for(V.s_cache.count=0,V.s_distanceInput.useRadii=!1;;){if(s.GetTransform(V.s_xfA,h),a.GetTransform(V.s_xfB,h),V.s_distanceInput.proxyA=e,V.s_distanceInput.proxyB=i,V.s_distanceInput.transformA=V.s_xfA,V.s_distanceInput.transformB=V.s_xfB,g.Distance(V.s_distanceOutput,V.s_cache,V.s_distanceInput),V.s_distanceOutput.distance<=0){h=1;break}V.s_fcn.Initialize(V.s_cache,e,V.s_xfA,i,V.s_xfB);var m=V.s_fcn.Evaluate(V.s_xfA,V.s_xfB);if(m<=0){h=1;break}if(0==p&&(c=m>r?n.Max(r-l,.75*r):n.Max(m-l,.02*r)),m-c<.5*l){if(0==p){h=1;break}break}var d=h,u=h,y=1,f=m;s.GetTransform(V.s_xfA,y),a.GetTransform(V.s_xfB,y);var b=V.s_fcn.Evaluate(V.s_xfA,V.s_xfB);if(b>=c){h=1;break}for(var x=0;;){var _=0;_=1&x?u+(c-f)*(y-u)/(b-f):.5*(u+y),s.GetTransform(V.s_xfA,_),a.GetTransform(V.s_xfB,_);var v=V.s_fcn.Evaluate(V.s_xfA,V.s_xfB);if(n.Abs(v-c)<.025*l){d=_;break}if(v>c?(u=_,f=v):(y=_,b=v),++x,++V.b2_toiRootIters,50==x)break}if(V.b2_toiMaxRootIters=n.Max(V.b2_toiMaxRootIters,x),d<(1+100*Number.MIN_VALUE)*h)break;if(h=d,p++,++V.b2_toiIters,1e3==p)break}return V.b2_toiMaxIters=n.Max(V.b2_toiMaxIters,p),h},Box2D.postDefs.push(function(){Box2D.Collision.b2TimeOfImpact.b2_toiCalls=0,Box2D.Collision.b2TimeOfImpact.b2_toiIters=0,Box2D.Collision.b2TimeOfImpact.b2_toiMaxIters=0,Box2D.Collision.b2TimeOfImpact.b2_toiRootIters=0,Box2D.Collision.b2TimeOfImpact.b2_toiMaxRootIters=0,Box2D.Collision.b2TimeOfImpact.s_cache=new T,Box2D.Collision.b2TimeOfImpact.s_distanceInput=new f,Box2D.Collision.b2TimeOfImpact.s_xfA=new l,Box2D.Collision.b2TimeOfImpact.s_xfB=new l,Box2D.Collision.b2TimeOfImpact.s_fcn=new k,Box2D.Collision.b2TimeOfImpact.s_distanceOutput=new b}),P.b2TOIInput=function(){this.proxyA=new x,this.proxyB=new x,this.sweepA=new r,this.sweepB=new r},G.b2WorldManifold=function(){this.m_normal=new h},G.prototype.b2WorldManifold=function(){this.m_points=new s(o.b2_maxManifoldPoints);for(var t=0;t<o.b2_maxManifoldPoints;t++)this.m_points[t]=new h},G.prototype.Initialize=function(t,e,i,o,n){if(void 0===i&&(i=0),void 0===n&&(n=0),0!=t.m_pointCount){var s,a,r=0,l=0,h=0,p=0,c=0,m=0,d=0;switch(t.m_type){case D.e_circles:a=e.R,s=t.m_localPoint;var u=e.position.x+a.col1.x*s.x+a.col2.x*s.y,y=e.position.y+a.col1.y*s.x+a.col2.y*s.y;a=o.R,s=t.m_points[0].m_localPoint;var g=o.position.x+a.col1.x*s.x+a.col2.x*s.y,f=o.position.y+a.col1.y*s.x+a.col2.y*s.y,b=g-u,x=f-y,_=b*b+x*x;if(_>Number.MIN_VALUE*Number.MIN_VALUE){var v=Math.sqrt(_);this.m_normal.x=b/v,this.m_normal.y=x/v}else this.m_normal.x=1,this.m_normal.y=0;var w=u+i*this.m_normal.x,C=y+i*this.m_normal.y,S=g-n*this.m_normal.x,B=f-n*this.m_normal.y;this.m_points[0].x=.5*(w+S),this.m_points[0].y=.5*(C+B);break;case D.e_faceA:for(a=e.R,s=t.m_localPlaneNormal,l=a.col1.x*s.x+a.col2.x*s.y,h=a.col1.y*s.x+a.col2.y*s.y,a=e.R,s=t.m_localPoint,p=e.position.x+a.col1.x*s.x+a.col2.x*s.y,c=e.position.y+a.col1.y*s.x+a.col2.y*s.y,this.m_normal.x=l,this.m_normal.y=h,r=0;r<t.m_pointCount;r++)a=o.R,s=t.m_points[r].m_localPoint,m=o.position.x+a.col1.x*s.x+a.col2.x*s.y,d=o.position.y+a.col1.y*s.x+a.col2.y*s.y,this.m_points[r].x=m+.5*(i-(m-p)*l-(d-c)*h-n)*l,this.m_points[r].y=d+.5*(i-(m-p)*l-(d-c)*h-n)*h;break;case D.e_faceB:for(a=o.R,s=t.m_localPlaneNormal,l=a.col1.x*s.x+a.col2.x*s.y,h=a.col1.y*s.x+a.col2.y*s.y,a=o.R,s=t.m_localPoint,p=o.position.x+a.col1.x*s.x+a.col2.x*s.y,c=o.position.y+a.col1.y*s.x+a.col2.y*s.y,this.m_normal.x=-l,this.m_normal.y=-h,r=0;r<t.m_pointCount;r++)a=e.R,s=t.m_points[r].m_localPoint,m=e.position.x+a.col1.x*s.x+a.col2.x*s.y,d=e.position.y+a.col1.y*s.x+a.col2.y*s.y,this.m_points[r].x=m+.5*(n-(m-p)*l-(d-c)*h-i)*l,this.m_points[r].y=d+.5*(n-(m-p)*l-(d-c)*h-i)*h}}},F.ClipVertex=function(){this.v=new h,this.id=new u},F.prototype.Set=function(t){this.v.SetV(t.v),this.id.Set(t.id)},X.Features=function(){},Object.defineProperty(X.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this._referenceEdge}}),Object.defineProperty(X.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._referenceEdge=t,this._m_id._key=4294967040&this._m_id._key|255&this._referenceEdge}}),Object.defineProperty(X.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this._incidentEdge}}),Object.defineProperty(X.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._incidentEdge=t,this._m_id._key=4294902015&this._m_id._key|this._incidentEdge<<8&65280}}),Object.defineProperty(X.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this._incidentVertex}}),Object.defineProperty(X.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._incidentVertex=t,this._m_id._key=4278255615&this._m_id._key|this._incidentVertex<<16&16711680}}),Object.defineProperty(X.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this._flip}}),Object.defineProperty(X.prototype,"flip",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._flip=t,this._m_id._key=16777215&this._m_id._key|this._flip<<24&4278190080}})}(),function(){Box2D.Common.b2Color,Box2D.Common.b2internal;var t=Box2D.Common.b2Settings,e=Box2D.Collision.Shapes.b2CircleShape,i=Box2D.Collision.Shapes.b2EdgeChainDef,o=Box2D.Collision.Shapes.b2EdgeShape,n=Box2D.Collision.Shapes.b2MassData,r=Box2D.Collision.Shapes.b2PolygonShape,l=Box2D.Collision.Shapes.b2Shape,h=Box2D.Common.Math.b2Mat22,p=(Box2D.Common.Math.b2Mat33,Box2D.Common.Math.b2Math),c=(Box2D.Common.Math.b2Sweep,Box2D.Common.Math.b2Transform),m=Box2D.Common.Math.b2Vec2,d=(Box2D.Common.Math.b2Vec3,Box2D.Dynamics.b2Body,Box2D.Dynamics.b2BodyDef,Box2D.Dynamics.b2ContactFilter,Box2D.Dynamics.b2ContactImpulse,Box2D.Dynamics.b2ContactListener,Box2D.Dynamics.b2ContactManager,Box2D.Dynamics.b2DebugDraw,Box2D.Dynamics.b2DestructionListener,Box2D.Dynamics.b2FilterData,Box2D.Dynamics.b2Fixture,Box2D.Dynamics.b2FixtureDef,Box2D.Dynamics.b2Island,Box2D.Dynamics.b2TimeStep,Box2D.Dynamics.b2World,Box2D.Collision.b2AABB,Box2D.Collision.b2Bound,Box2D.Collision.b2BoundValues,Box2D.Collision.b2Collision,Box2D.Collision.b2ContactID,Box2D.Collision.b2ContactPoint,Box2D.Collision.b2Distance),u=Box2D.Collision.b2DistanceInput,y=Box2D.Collision.b2DistanceOutput,g=Box2D.Collision.b2DistanceProxy,f=(Box2D.Collision.b2DynamicTree,Box2D.Collision.b2DynamicTreeBroadPhase,Box2D.Collision.b2DynamicTreeNode,Box2D.Collision.b2DynamicTreePair,Box2D.Collision.b2Manifold,Box2D.Collision.b2ManifoldPoint,Box2D.Collision.b2Point,Box2D.Collision.b2RayCastInput,Box2D.Collision.b2RayCastOutput,Box2D.Collision.b2Segment,Box2D.Collision.b2SeparationFunction,Box2D.Collision.b2Simplex,Box2D.Collision.b2SimplexCache);Box2D.Collision.b2SimplexVertex,Box2D.Collision.b2TimeOfImpact,Box2D.Collision.b2TOIInput,Box2D.Collision.b2WorldManifold,Box2D.Collision.ClipVertex,Box2D.Collision.Features,Box2D.Collision.IBroadPhase;Box2D.inherit(e,Box2D.Collision.Shapes.b2Shape),e.prototype.__super=Box2D.Collision.Shapes.b2Shape.prototype,e.b2CircleShape=function(){Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments),this.m_p=new m},e.prototype.Copy=function(){var t=new e;return t.Set(this),t},e.prototype.Set=function(t){if(this.__super.Set.call(this,t),Box2D.is(t,e)){var i=t instanceof e?t:null;this.m_p.SetV(i.m_p)}},e.prototype.TestPoint=function(t,e){var i=t.R,o=t.position.x+(i.col1.x*this.m_p.x+i.col2.x*this.m_p.y),n=t.position.y+(i.col1.y*this.m_p.x+i.col2.y*this.m_p.y);return(o=e.x-o)*o+(n=e.y-n)*n<=this.m_radius*this.m_radius},e.prototype.RayCast=function(t,e,i){var o=i.R,n=i.position.x+(o.col1.x*this.m_p.x+o.col2.x*this.m_p.y),s=i.position.y+(o.col1.y*this.m_p.x+o.col2.y*this.m_p.y),a=e.p1.x-n,r=e.p1.y-s,l=a*a+r*r-this.m_radius*this.m_radius,h=e.p2.x-e.p1.x,p=e.p2.y-e.p1.y,c=a*h+r*p,m=h*h+p*p,d=c*c-m*l;if(d<0||m<Number.MIN_VALUE)return!1;var u=-(c+Math.sqrt(d));return 0<=u&&u<=e.maxFraction*m&&(u/=m,t.fraction=u,t.normal.x=a+u*h,t.normal.y=r+u*p,t.normal.Normalize(),!0)},e.prototype.ComputeAABB=function(t,e){var i=e.R,o=e.position.x+(i.col1.x*this.m_p.x+i.col2.x*this.m_p.y),n=e.position.y+(i.col1.y*this.m_p.x+i.col2.y*this.m_p.y);t.lowerBound.Set(o-this.m_radius,n-this.m_radius),t.upperBound.Set(o+this.m_radius,n+this.m_radius)},e.prototype.ComputeMass=function(e,i){void 0===i&&(i=0),e.mass=i*t.b2_pi*this.m_radius*this.m_radius,e.center.SetV(this.m_p),e.I=e.mass*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))},e.prototype.ComputeSubmergedArea=function(t,e,i,o){void 0===e&&(e=0);var n=p.MulX(i,this.m_p),s=-(p.Dot(t,n)-e);if(s<-this.m_radius+Number.MIN_VALUE)return 0;if(s>this.m_radius)return o.SetV(n),Math.PI*this.m_radius*this.m_radius;var a=this.m_radius*this.m_radius,r=s*s,l=a*(Math.asin(s/this.m_radius)+Math.PI/2)+s*Math.sqrt(a-r),h=-2/3*Math.pow(a-r,1.5)/l;return o.x=n.x+t.x*h,o.y=n.y+t.y*h,l},e.prototype.GetLocalPosition=function(){return this.m_p},e.prototype.SetLocalPosition=function(t){this.m_p.SetV(t)},e.prototype.GetRadius=function(){return this.m_radius},e.prototype.SetRadius=function(t){void 0===t&&(t=0),this.m_radius=t},e.prototype.b2CircleShape=function(t){void 0===t&&(t=0),this.__super.b2Shape.call(this),this.m_type=l.e_circleShape,this.m_radius=t},i.b2EdgeChainDef=function(){},i.prototype.b2EdgeChainDef=function(){this.vertexCount=0,this.isALoop=!0,this.vertices=[]},Box2D.inherit(o,Box2D.Collision.Shapes.b2Shape),o.prototype.__super=Box2D.Collision.Shapes.b2Shape.prototype,o.b2EdgeShape=function(){Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments),this.s_supportVec=new m,this.m_v1=new m,this.m_v2=new m,this.m_coreV1=new m,this.m_coreV2=new m,this.m_normal=new m,this.m_direction=new m,this.m_cornerDir1=new m,this.m_cornerDir2=new m},o.prototype.TestPoint=function(t,e){return!1},o.prototype.RayCast=function(t,e,i){var o,n=e.p2.x-e.p1.x,s=e.p2.y-e.p1.y;o=i.R;var a=i.position.x+(o.col1.x*this.m_v1.x+o.col2.x*this.m_v1.y),r=i.position.y+(o.col1.y*this.m_v1.x+o.col2.y*this.m_v1.y),l=i.position.y+(o.col1.y*this.m_v2.x+o.col2.y*this.m_v2.y)-r,h=-(i.position.x+(o.col1.x*this.m_v2.x+o.col2.x*this.m_v2.y)-a),p=100*Number.MIN_VALUE,c=-(n*l+s*h);if(c>p){var m=e.p1.x-a,d=e.p1.y-r,u=m*l+d*h;if(0<=u&&u<=e.maxFraction*c){var y=-n*d+s*m;if(-p*c<=y&&y<=c*(1+p)){u/=c,t.fraction=u;var g=Math.sqrt(l*l+h*h);return t.normal.x=l/g,t.normal.y=h/g,!0}}}return!1},o.prototype.ComputeAABB=function(t,e){var i=e.R,o=e.position.x+(i.col1.x*this.m_v1.x+i.col2.x*this.m_v1.y),n=e.position.y+(i.col1.y*this.m_v1.x+i.col2.y*this.m_v1.y),s=e.position.x+(i.col1.x*this.m_v2.x+i.col2.x*this.m_v2.y),a=e.position.y+(i.col1.y*this.m_v2.x+i.col2.y*this.m_v2.y);o<s?(t.lowerBound.x=o,t.upperBound.x=s):(t.lowerBound.x=s,t.upperBound.x=o),n<a?(t.lowerBound.y=n,t.upperBound.y=a):(t.lowerBound.y=a,t.upperBound.y=n)},o.prototype.ComputeMass=function(t,e){void 0===e&&(e=0),t.mass=0,t.center.SetV(this.m_v1),t.I=0},o.prototype.ComputeSubmergedArea=function(t,e,i,o){void 0===e&&(e=0);var n=new m(t.x*e,t.y*e),s=p.MulX(i,this.m_v1),a=p.MulX(i,this.m_v2),r=p.Dot(t,s)-e,l=p.Dot(t,a)-e;if(r>0){if(l>0)return 0;s.x=-l/(r-l)*s.x+r/(r-l)*a.x,s.y=-l/(r-l)*s.y+r/(r-l)*a.y}else l>0&&(a.x=-l/(r-l)*s.x+r/(r-l)*a.x,a.y=-l/(r-l)*s.y+r/(r-l)*a.y);return o.x=(n.x+s.x+a.x)/3,o.y=(n.y+s.y+a.y)/3,.5*((s.x-n.x)*(a.y-n.y)-(s.y-n.y)*(a.x-n.x))},o.prototype.GetLength=function(){return this.m_length},o.prototype.GetVertex1=function(){return this.m_v1},o.prototype.GetVertex2=function(){return this.m_v2},o.prototype.GetCoreVertex1=function(){return this.m_coreV1},o.prototype.GetCoreVertex2=function(){return this.m_coreV2},o.prototype.GetNormalVector=function(){return this.m_normal},o.prototype.GetDirectionVector=function(){return this.m_direction},o.prototype.GetCorner1Vector=function(){return this.m_cornerDir1},o.prototype.GetCorner2Vector=function(){return this.m_cornerDir2},o.prototype.Corner1IsConvex=function(){return this.m_cornerConvex1},o.prototype.Corner2IsConvex=function(){return this.m_cornerConvex2},o.prototype.GetFirstVertex=function(t){var e=t.R;return new m(t.position.x+(e.col1.x*this.m_coreV1.x+e.col2.x*this.m_coreV1.y),t.position.y+(e.col1.y*this.m_coreV1.x+e.col2.y*this.m_coreV1.y))},o.prototype.GetNextEdge=function(){return this.m_nextEdge},o.prototype.GetPrevEdge=function(){return this.m_prevEdge},o.prototype.Support=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var o=t.R,n=t.position.x+(o.col1.x*this.m_coreV1.x+o.col2.x*this.m_coreV1.y),s=t.position.y+(o.col1.y*this.m_coreV1.x+o.col2.y*this.m_coreV1.y),a=t.position.x+(o.col1.x*this.m_coreV2.x+o.col2.x*this.m_coreV2.y),r=t.position.y+(o.col1.y*this.m_coreV2.x+o.col2.y*this.m_coreV2.y);return n*e+s*i>a*e+r*i?(this.s_supportVec.x=n,this.s_supportVec.y=s):(this.s_supportVec.x=a,this.s_supportVec.y=r),this.s_supportVec},o.prototype.b2EdgeShape=function(e,i){this.__super.b2Shape.call(this),this.m_type=l.e_edgeShape,this.m_prevEdge=null,this.m_nextEdge=null,this.m_v1=e,this.m_v2=i,this.m_direction.Set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y),this.m_length=this.m_direction.Normalize(),this.m_normal.Set(this.m_direction.y,-this.m_direction.x),this.m_coreV1.Set(-t.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x,-t.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y),this.m_coreV2.Set(-t.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-t.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y),this.m_cornerDir1=this.m_normal,this.m_cornerDir2.Set(-this.m_normal.x,-this.m_normal.y)},o.prototype.SetPrevEdge=function(t,e,i,o){this.m_prevEdge=t,this.m_coreV1=e,this.m_cornerDir1=i,this.m_cornerConvex1=o},o.prototype.SetNextEdge=function(t,e,i,o){this.m_nextEdge=t,this.m_coreV2=e,this.m_cornerDir2=i,this.m_cornerConvex2=o},n.b2MassData=function(){this.mass=0,this.center=new m(0,0),this.I=0},Box2D.inherit(r,Box2D.Collision.Shapes.b2Shape),r.prototype.__super=Box2D.Collision.Shapes.b2Shape.prototype,r.b2PolygonShape=function(){Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments)},r.prototype.Copy=function(){var t=new r;return t.Set(this),t},r.prototype.Set=function(t){if(this.__super.Set.call(this,t),Box2D.is(t,r)){var e=t instanceof r?t:null;this.m_centroid.SetV(e.m_centroid),this.m_vertexCount=e.m_vertexCount,this.Reserve(this.m_vertexCount);for(var i=0;i<this.m_vertexCount;i++)this.m_vertices[i].SetV(e.m_vertices[i]),this.m_normals[i].SetV(e.m_normals[i])}},r.prototype.SetAsArray=function(t,e){void 0===e&&(e=0);var i,o=new s,n=0;for(n=0;n<t.length;++n)i=t[n],o.push(i);this.SetAsVector(o,e)},r.AsArray=function(t,e){void 0===e&&(e=0);var i=new r;return i.SetAsArray(t,e),i},r.prototype.SetAsVector=function(e,i){void 0===i&&(i=0),0==i&&(i=e.length),t.b2Assert(2<=i),this.m_vertexCount=i,this.Reserve(i);var o=0;for(o=0;o<this.m_vertexCount;o++)this.m_vertices[o].SetV(e[o]);for(o=0;o<this.m_vertexCount;++o){var n=parseInt(o),s=parseInt(o+1<this.m_vertexCount?o+1:0),a=p.SubtractVV(this.m_vertices[s],this.m_vertices[n]);t.b2Assert(a.LengthSquared()>Number.MIN_VALUE),this.m_normals[o].SetV(p.CrossVF(a,1)),this.m_normals[o].Normalize()}this.m_centroid=r.ComputeCentroid(this.m_vertices,this.m_vertexCount)},r.AsVector=function(t,e){void 0===e&&(e=0);var i=new r;return i.SetAsVector(t,e),i},r.prototype.SetAsBox=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.m_vertexCount=4,this.Reserve(4),this.m_vertices[0].Set(-t,-e),this.m_vertices[1].Set(t,-e),this.m_vertices[2].Set(t,e),this.m_vertices[3].Set(-t,e),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero()},r.AsBox=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=new r;return i.SetAsBox(t,e),i},r.prototype.SetAsOrientedBox=function(t,e,i,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=null),void 0===o&&(o=0),this.m_vertexCount=4,this.Reserve(4),this.m_vertices[0].Set(-t,-e),this.m_vertices[1].Set(t,-e),this.m_vertices[2].Set(t,e),this.m_vertices[3].Set(-t,e),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid=i;var n=new c;n.position=i,n.R.Set(o);for(var s=0;s<this.m_vertexCount;++s)this.m_vertices[s]=p.MulX(n,this.m_vertices[s]),this.m_normals[s]=p.MulMV(n.R,this.m_normals[s])},r.AsOrientedBox=function(t,e,i,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=null),void 0===o&&(o=0);var n=new r;return n.SetAsOrientedBox(t,e,i,o),n},r.prototype.SetAsEdge=function(t,e){this.m_vertexCount=2,this.Reserve(2),this.m_vertices[0].SetV(t),this.m_vertices[1].SetV(e),this.m_centroid.x=.5*(t.x+e.x),this.m_centroid.y=.5*(t.y+e.y),this.m_normals[0]=p.CrossVF(p.SubtractVV(e,t),1),this.m_normals[0].Normalize(),this.m_normals[1].x=-this.m_normals[0].x,this.m_normals[1].y=-this.m_normals[0].y},r.AsEdge=function(t,e){var i=new r;return i.SetAsEdge(t,e),i},r.prototype.TestPoint=function(t,e){for(var i,o=t.R,n=e.x-t.position.x,s=e.y-t.position.y,a=n*o.col1.x+s*o.col1.y,r=n*o.col2.x+s*o.col2.y,l=0;l<this.m_vertexCount;++l){if(n=a-(i=this.m_vertices[l]).x,s=r-i.y,(i=this.m_normals[l]).x*n+i.y*s>0)return!1}return!0},r.prototype.RayCast=function(t,e,i){var o,n,s=0,a=e.maxFraction,r=0,l=0;r=e.p1.x-i.position.x,l=e.p1.y-i.position.y;var h=r*(o=i.R).col1.x+l*o.col1.y,p=r*o.col2.x+l*o.col2.y;r=e.p2.x-i.position.x,l=e.p2.y-i.position.y;for(var c=r*(o=i.R).col1.x+l*o.col1.y-h,m=r*o.col2.x+l*o.col2.y-p,d=parseInt(-1),u=0;u<this.m_vertexCount;++u){r=(n=this.m_vertices[u]).x-h,l=n.y-p;var y=(n=this.m_normals[u]).x*r+n.y*l,g=n.x*c+n.y*m;if(0==g){if(y<0)return!1}else g<0&&y<s*g?(s=y/g,d=u):g>0&&y<a*g&&(a=y/g);if(a<s-Number.MIN_VALUE)return!1}return d>=0&&(t.fraction=s,o=i.R,n=this.m_normals[d],t.normal.x=o.col1.x*n.x+o.col2.x*n.y,t.normal.y=o.col1.y*n.x+o.col2.y*n.y,!0)},r.prototype.ComputeAABB=function(t,e){for(var i=e.R,o=this.m_vertices[0],n=e.position.x+(i.col1.x*o.x+i.col2.x*o.y),s=e.position.y+(i.col1.y*o.x+i.col2.y*o.y),a=n,r=s,l=1;l<this.m_vertexCount;++l){o=this.m_vertices[l];var h=e.position.x+(i.col1.x*o.x+i.col2.x*o.y),p=e.position.y+(i.col1.y*o.x+i.col2.y*o.y);n=n<h?n:h,s=s<p?s:p,a=a>h?a:h,r=r>p?r:p}t.lowerBound.x=n-this.m_radius,t.lowerBound.y=s-this.m_radius,t.upperBound.x=a+this.m_radius,t.upperBound.y=r+this.m_radius},r.prototype.ComputeMass=function(t,e){if(void 0===e&&(e=0),2==this.m_vertexCount)return t.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),t.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),t.mass=0,void(t.I=0);for(var i=0,o=0,n=0,s=0,a=0;a<this.m_vertexCount;++a){var r=this.m_vertices[a],l=a+1<this.m_vertexCount?this.m_vertices[parseInt(a+1)]:this.m_vertices[0],h=r.x-0,p=r.y-0,c=l.x-0,m=l.y-0,d=h*m-p*c,u=.5*d;n+=u,i+=u*(1/3)*(0+r.x+l.x),o+=u*(1/3)*(0+r.y+l.y);s+=d*(1/3*(.25*(h*h+c*h+c*c)+(0*h+0*c))+0+(1/3*(.25*(p*p+m*p+m*m)+(0*p+0*m))+0))}t.mass=e*n,i*=1/n,o*=1/n,t.center.Set(i,o),t.I=e*s},r.prototype.ComputeSubmergedArea=function(t,e,i,o){void 0===e&&(e=0);var s=p.MulTMV(i.R,t),r=e-p.Dot(t,i.position),l=new a,h=0,c=parseInt(-1),d=parseInt(-1),u=!1,y=0;for(y=0;y<this.m_vertexCount;++y){l[y]=p.Dot(s,this.m_vertices[y])-r;var g=l[y]<-Number.MIN_VALUE;y>0&&(g?u||(c=y-1,h++):u&&(d=y-1,h++)),u=g}switch(h){case 0:if(u){var f=new n;return this.ComputeMass(f,1),o.SetV(p.MulX(i,f.center)),f.mass}return 0;case 1:-1==c?c=this.m_vertexCount-1:d=this.m_vertexCount-1}var b,x=parseInt((c+1)%this.m_vertexCount),_=parseInt((d+1)%this.m_vertexCount),v=(0-l[c])/(l[x]-l[c]),w=(0-l[d])/(l[_]-l[d]),C=new m(this.m_vertices[c].x*(1-v)+this.m_vertices[x].x*v,this.m_vertices[c].y*(1-v)+this.m_vertices[x].y*v),D=new m(this.m_vertices[d].x*(1-w)+this.m_vertices[_].x*w,this.m_vertices[d].y*(1-w)+this.m_vertices[_].y*w),S=0,B=new m,A=this.m_vertices[x];for(y=x;y!=_;){b=(y=(y+1)%this.m_vertexCount)==_?D:this.m_vertices[y];var I=.5*((A.x-C.x)*(b.y-C.y)-(A.y-C.y)*(b.x-C.x));S+=I,B.x+=I*(C.x+A.x+b.x)/3,B.y+=I*(C.y+A.y+b.y)/3,A=b}return B.Multiply(1/S),o.SetV(p.MulX(i,B)),S},r.prototype.GetVertexCount=function(){return this.m_vertexCount},r.prototype.GetVertices=function(){return this.m_vertices},r.prototype.GetNormals=function(){return this.m_normals},r.prototype.GetSupport=function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,o=1;o<this.m_vertexCount;++o){var n=this.m_vertices[o].x*t.x+this.m_vertices[o].y*t.y;n>i&&(e=o,i=n)}return e},r.prototype.GetSupportVertex=function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,o=1;o<this.m_vertexCount;++o){var n=this.m_vertices[o].x*t.x+this.m_vertices[o].y*t.y;n>i&&(e=o,i=n)}return this.m_vertices[e]},r.prototype.Validate=function(){return!1},r.prototype.b2PolygonShape=function(){this.__super.b2Shape.call(this),this.m_type=l.e_polygonShape,this.m_centroid=new m,this.m_vertices=new s,this.m_normals=new s},r.prototype.Reserve=function(t){void 0===t&&(t=0);for(var e=parseInt(this.m_vertices.length);e<t;e++)this.m_vertices[e]=new m,this.m_normals[e]=new m},r.ComputeCentroid=function(t,e){void 0===e&&(e=0);for(var i=new m,o=0,n=0;n<e;++n){var s=t[n],a=n+1<e?t[parseInt(n+1)]:t[0],r=s.x-0,l=s.y-0,h=a.x-0,p=.5*(r*(a.y-0)-l*h);o+=p,i.x+=p*(1/3)*(0+s.x+a.x),i.y+=p*(1/3)*(0+s.y+a.y)}return i.x*=1/o,i.y*=1/o,i},r.ComputeOBB=function(t,e,i){void 0===i&&(i=0);var o=0,n=new s(i+1);for(o=0;o<i;++o)n[o]=e[o];n[i]=n[0];var a=Number.MAX_VALUE;for(o=1;o<=i;++o){for(var r=n[parseInt(o-1)],l=n[o].x-r.x,h=n[o].y-r.y,p=Math.sqrt(l*l+h*h),c=-(h/=p),m=l/=p,d=Number.MAX_VALUE,u=Number.MAX_VALUE,y=-Number.MAX_VALUE,g=-Number.MAX_VALUE,f=0;f<i;++f){var b=n[f].x-r.x,x=n[f].y-r.y,_=l*b+h*x,v=c*b+m*x;_<d&&(d=_),v<u&&(u=v),_>y&&(y=_),v>g&&(g=v)}var w=(y-d)*(g-u);if(w<.95*a){a=w,t.R.col1.x=l,t.R.col1.y=h,t.R.col2.x=c,t.R.col2.y=m;var C=.5*(d+y),D=.5*(u+g),S=t.R;t.center.x=r.x+(S.col1.x*C+S.col2.x*D),t.center.y=r.y+(S.col1.y*C+S.col2.y*D),t.extents.x=.5*(y-d),t.extents.y=.5*(g-u)}}},Box2D.postDefs.push(function(){Box2D.Collision.Shapes.b2PolygonShape.s_mat=new h}),l.b2Shape=function(){},l.prototype.Copy=function(){return null},l.prototype.Set=function(t){this.m_radius=t.m_radius},l.prototype.GetType=function(){return this.m_type},l.prototype.TestPoint=function(t,e){return!1},l.prototype.RayCast=function(t,e,i){return!1},l.prototype.ComputeAABB=function(t,e){},l.prototype.ComputeMass=function(t,e){void 0===e&&(e=0)},l.prototype.ComputeSubmergedArea=function(t,e,i,o){return void 0===e&&(e=0),0},l.TestOverlap=function(t,e,i,o,n){var s=new u;s.proxyA=new g,s.proxyA.Set(t),s.proxyB=new g,s.proxyB.Set(i),s.transformA=e,s.transformB=o,s.useRadii=!0;var a=new f;a.count=0;var r=new y;return d.Distance(r,a,s),r.distance<10*Number.MIN_VALUE},l.prototype.b2Shape=function(){this.m_type=l.e_unknownShape,this.m_radius=t.b2_linearSlop},Box2D.postDefs.push(function(){Box2D.Collision.Shapes.b2Shape.e_unknownShape=parseInt(-1),Box2D.Collision.Shapes.b2Shape.e_circleShape=0,Box2D.Collision.Shapes.b2Shape.e_polygonShape=1,Box2D.Collision.Shapes.b2Shape.e_edgeShape=2,Box2D.Collision.Shapes.b2Shape.e_shapeTypeCount=3,Box2D.Collision.Shapes.b2Shape.e_hitCollide=1,Box2D.Collision.Shapes.b2Shape.e_missCollide=0,Box2D.Collision.Shapes.b2Shape.e_startsInsideCollide=parseInt(-1)})}(),function(){var t=Box2D.Common.b2Color,e=(Box2D.Common.b2internal,Box2D.Common.b2Settings),i=(Box2D.Common.Math.b2Mat22,Box2D.Common.Math.b2Mat33,Box2D.Common.Math.b2Math);Box2D.Common.Math.b2Sweep,Box2D.Common.Math.b2Transform,Box2D.Common.Math.b2Vec2,Box2D.Common.Math.b2Vec3;t.b2Color=function(){this._r=0,this._g=0,this._b=0},t.prototype.b2Color=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0),this._r=Box2D.parseUInt(255*i.Clamp(t,0,1)),this._g=Box2D.parseUInt(255*i.Clamp(e,0,1)),this._b=Box2D.parseUInt(255*i.Clamp(o,0,1))},t.prototype.Set=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0),this._r=Box2D.parseUInt(255*i.Clamp(t,0,1)),this._g=Box2D.parseUInt(255*i.Clamp(e,0,1)),this._b=Box2D.parseUInt(255*i.Clamp(o,0,1))},Object.defineProperty(t.prototype,"r",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._r=Box2D.parseUInt(255*i.Clamp(t,0,1))}}),Object.defineProperty(t.prototype,"g",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._g=Box2D.parseUInt(255*i.Clamp(t,0,1))}}),Object.defineProperty(t.prototype,"b",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._b=Box2D.parseUInt(255*i.Clamp(t,0,1))}}),Object.defineProperty(t.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this._r<<16|this._g<<8|this._b}}),e.b2Settings=function(){},e.b2MixFriction=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),Math.sqrt(t*e)},e.b2MixRestitution=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),t>e?t:e},e.b2Assert=function(t){if(!t)throw"Assertion Failed"},Box2D.postDefs.push(function(){Box2D.Common.b2Settings.VERSION="2.1alpha",Box2D.Common.b2Settings.USHRT_MAX=65535,Box2D.Common.b2Settings.b2_pi=Math.PI,Box2D.Common.b2Settings.b2_maxManifoldPoints=2,Box2D.Common.b2Settings.b2_aabbExtension=.1,Box2D.Common.b2Settings.b2_aabbMultiplier=2,Box2D.Common.b2Settings.b2_polygonRadius=2*e.b2_linearSlop,Box2D.Common.b2Settings.b2_linearSlop=.005,Box2D.Common.b2Settings.b2_angularSlop=2/180*e.b2_pi,Box2D.Common.b2Settings.b2_toiSlop=8*e.b2_linearSlop,Box2D.Common.b2Settings.b2_maxTOIContactsPerIsland=32,Box2D.Common.b2Settings.b2_maxTOIJointsPerIsland=32,Box2D.Common.b2Settings.b2_velocityThreshold=1,Box2D.Common.b2Settings.b2_maxLinearCorrection=.2,Box2D.Common.b2Settings.b2_maxAngularCorrection=8/180*e.b2_pi,Box2D.Common.b2Settings.b2_maxTranslation=2,Box2D.Common.b2Settings.b2_maxTranslationSquared=e.b2_maxTranslation*e.b2_maxTranslation,Box2D.Common.b2Settings.b2_maxRotation=.5*e.b2_pi,Box2D.Common.b2Settings.b2_maxRotationSquared=e.b2_maxRotation*e.b2_maxRotation,Box2D.Common.b2Settings.b2_contactBaumgarte=.2,Box2D.Common.b2Settings.b2_timeToSleep=.5,Box2D.Common.b2Settings.b2_linearSleepTolerance=.01,Box2D.Common.b2Settings.b2_angularSleepTolerance=2/180*e.b2_pi})}(),function(){Box2D.Collision.b2AABB,Box2D.Common.b2Color,Box2D.Common.b2internal,Box2D.Common.b2Settings;var t=Box2D.Common.Math.b2Mat22,e=Box2D.Common.Math.b2Mat33,i=Box2D.Common.Math.b2Math,o=Box2D.Common.Math.b2Sweep,n=Box2D.Common.Math.b2Transform,s=Box2D.Common.Math.b2Vec2,a=Box2D.Common.Math.b2Vec3;t.b2Mat22=function(){this.col1=new s,this.col2=new s},t.prototype.b2Mat22=function(){this.SetIdentity()},t.FromAngle=function(e){void 0===e&&(e=0);var i=new t;return i.Set(e),i},t.FromVV=function(e,i){var o=new t;return o.SetVV(e,i),o},t.prototype.Set=function(t){void 0===t&&(t=0);var e=Math.cos(t),i=Math.sin(t);this.col1.x=e,this.col2.x=-i,this.col1.y=i,this.col2.y=e},t.prototype.SetVV=function(t,e){this.col1.SetV(t),this.col2.SetV(e)},t.prototype.Copy=function(){var e=new t;return e.SetM(this),e},t.prototype.SetM=function(t){this.col1.SetV(t.col1),this.col2.SetV(t.col2)},t.prototype.AddM=function(t){this.col1.x+=t.col1.x,this.col1.y+=t.col1.y,this.col2.x+=t.col2.x,this.col2.y+=t.col2.y},t.prototype.SetIdentity=function(){this.col1.x=1,this.col2.x=0,this.col1.y=0,this.col2.y=1},t.prototype.SetZero=function(){this.col1.x=0,this.col2.x=0,this.col1.y=0,this.col2.y=0},t.prototype.GetAngle=function(){return Math.atan2(this.col1.y,this.col1.x)},t.prototype.GetInverse=function(t){var e=this.col1.x,i=this.col2.x,o=this.col1.y,n=this.col2.y,s=e*n-i*o;return 0!=s&&(s=1/s),t.col1.x=s*n,t.col2.x=-s*i,t.col1.y=-s*o,t.col2.y=s*e,t},t.prototype.Solve=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var o=this.col1.x,n=this.col2.x,s=this.col1.y,a=this.col2.y,r=o*a-n*s;return 0!=r&&(r=1/r),t.x=r*(a*e-n*i),t.y=r*(o*i-s*e),t},t.prototype.Abs=function(){this.col1.Abs(),this.col2.Abs()},e.b2Mat33=function(){this.col1=new a,this.col2=new a,this.col3=new a},e.prototype.b2Mat33=function(t,e,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),t||e||i?(this.col1.SetV(t),this.col2.SetV(e),this.col3.SetV(i)):(this.col1.SetZero(),this.col2.SetZero(),this.col3.SetZero())},e.prototype.SetVVV=function(t,e,i){this.col1.SetV(t),this.col2.SetV(e),this.col3.SetV(i)},e.prototype.Copy=function(){return new e(this.col1,this.col2,this.col3)},e.prototype.SetM=function(t){this.col1.SetV(t.col1),this.col2.SetV(t.col2),this.col3.SetV(t.col3)},e.prototype.AddM=function(t){this.col1.x+=t.col1.x,this.col1.y+=t.col1.y,this.col1.z+=t.col1.z,this.col2.x+=t.col2.x,this.col2.y+=t.col2.y,this.col2.z+=t.col2.z,this.col3.x+=t.col3.x,this.col3.y+=t.col3.y,this.col3.z+=t.col3.z},e.prototype.SetIdentity=function(){this.col1.x=1,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=1,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=1},e.prototype.SetZero=function(){this.col1.x=0,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=0,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=0},e.prototype.Solve22=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var o=this.col1.x,n=this.col2.x,s=this.col1.y,a=this.col2.y,r=o*a-n*s;return 0!=r&&(r=1/r),t.x=r*(a*e-n*i),t.y=r*(o*i-s*e),t},e.prototype.Solve33=function(t,e,i,o){void 0===e&&(e=0),void 0===i&&(i=0),void 0===o&&(o=0);var n=this.col1.x,s=this.col1.y,a=this.col1.z,r=this.col2.x,l=this.col2.y,h=this.col2.z,p=this.col3.x,c=this.col3.y,m=this.col3.z,d=n*(l*m-h*c)+s*(h*p-r*m)+a*(r*c-l*p);return 0!=d&&(d=1/d),t.x=d*(e*(l*m-h*c)+i*(h*p-r*m)+o*(r*c-l*p)),t.y=d*(n*(i*m-o*c)+s*(o*p-e*m)+a*(e*c-i*p)),t.z=d*(n*(l*o-h*i)+s*(h*e-r*o)+a*(r*i-l*e)),t},i.b2Math=function(){},i.IsValid=function(t){return void 0===t&&(t=0),isFinite(t)},i.Dot=function(t,e){return t.x*e.x+t.y*e.y},i.CrossVV=function(t,e){return t.x*e.y-t.y*e.x},i.CrossVF=function(t,e){return void 0===e&&(e=0),new s(e*t.y,-e*t.x)},i.CrossFV=function(t,e){return void 0===t&&(t=0),new s(-t*e.y,t*e.x)},i.MulMV=function(t,e){return new s(t.col1.x*e.x+t.col2.x*e.y,t.col1.y*e.x+t.col2.y*e.y)},i.MulTMV=function(t,e){return new s(i.Dot(e,t.col1),i.Dot(e,t.col2))},i.MulX=function(t,e){var o=i.MulMV(t.R,e);return o.x+=t.position.x,o.y+=t.position.y,o},i.MulXT=function(t,e){var o=i.SubtractVV(e,t.position),n=o.x*t.R.col1.x+o.y*t.R.col1.y;return o.y=o.x*t.R.col2.x+o.y*t.R.col2.y,o.x=n,o},i.AddVV=function(t,e){return new s(t.x+e.x,t.y+e.y)},i.SubtractVV=function(t,e){return new s(t.x-e.x,t.y-e.y)},i.Distance=function(t,e){var i=t.x-e.x,o=t.y-e.y;return Math.sqrt(i*i+o*o)},i.DistanceSquared=function(t,e){var i=t.x-e.x,o=t.y-e.y;return i*i+o*o},i.MulFV=function(t,e){return void 0===t&&(t=0),new s(t*e.x,t*e.y)},i.AddMM=function(e,o){return t.FromVV(i.AddVV(e.col1,o.col1),i.AddVV(e.col2,o.col2))},i.MulMM=function(e,o){return t.FromVV(i.MulMV(e,o.col1),i.MulMV(e,o.col2))},i.MulTMM=function(e,o){var n=new s(i.Dot(e.col1,o.col1),i.Dot(e.col2,o.col1)),a=new s(i.Dot(e.col1,o.col2),i.Dot(e.col2,o.col2));return t.FromVV(n,a)},i.Abs=function(t){return void 0===t&&(t=0),t>0?t:-t},i.AbsV=function(t){return new s(i.Abs(t.x),i.Abs(t.y))},i.AbsM=function(e){return t.FromVV(i.AbsV(e.col1),i.AbsV(e.col2))},i.Min=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),t<e?t:e},i.MinV=function(t,e){return new s(i.Min(t.x,e.x),i.Min(t.y,e.y))},i.Max=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),t>e?t:e},i.MaxV=function(t,e){return new s(i.Max(t.x,e.x),i.Max(t.y,e.y))},i.Clamp=function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),t<e?e:t>i?i:t},i.ClampV=function(t,e,o){return i.MaxV(e,i.MinV(t,o))},i.Swap=function(t,e){var i=t[0];t[0]=e[0],e[0]=i},i.Random=function(){return 2*Math.random()-1},i.RandomRange=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=Math.random();return i=(e-t)*i+t},i.NextPowerOfTwo=function(t){return void 0===t&&(t=0),t|=t>>1&2147483647,t|=t>>2&1073741823,t|=t>>4&268435455,t|=t>>8&16777215,(t|=t>>16&65535)+1},i.IsPowerOfTwo=function(t){return void 0===t&&(t=0),t>0&&0==(t&t-1)},Box2D.postDefs.push(function(){Box2D.Common.Math.b2Math.b2Vec2_zero=new s(0,0),Box2D.Common.Math.b2Math.b2Mat22_identity=t.FromVV(new s(1,0),new s(0,1)),Box2D.Common.Math.b2Math.b2Transform_identity=new n(i.b2Vec2_zero,i.b2Mat22_identity)}),o.b2Sweep=function(){this.localCenter=new s,this.c0=new s,this.c=new s},o.prototype.Set=function(t){this.localCenter.SetV(t.localCenter),this.c0.SetV(t.c0),this.c.SetV(t.c),this.a0=t.a0,this.a=t.a,this.t0=t.t0},o.prototype.Copy=function(){var t=new o;return t.localCenter.SetV(this.localCenter),t.c0.SetV(this.c0),t.c.SetV(this.c),t.a0=this.a0,t.a=this.a,t.t0=this.t0,t},o.prototype.GetTransform=function(t,e){void 0===e&&(e=0),t.position.x=(1-e)*this.c0.x+e*this.c.x,t.position.y=(1-e)*this.c0.y+e*this.c.y;var i=(1-e)*this.a0+e*this.a;t.R.Set(i);var o=t.R;t.position.x-=o.col1.x*this.localCenter.x+o.col2.x*this.localCenter.y,t.position.y-=o.col1.y*this.localCenter.x+o.col2.y*this.localCenter.y},o.prototype.Advance=function(t){if(void 0===t&&(t=0),this.t0<t&&1-this.t0>Number.MIN_VALUE){var e=(t-this.t0)/(1-this.t0);this.c0.x=(1-e)*this.c0.x+e*this.c.x,this.c0.y=(1-e)*this.c0.y+e*this.c.y,this.a0=(1-e)*this.a0+e*this.a,this.t0=t}},n.b2Transform=function(){this.position=new s,this.R=new t},n.prototype.b2Transform=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),t&&(this.position.SetV(t),this.R.SetM(e))},n.prototype.Initialize=function(t,e){this.position.SetV(t),this.R.SetM(e)},n.prototype.SetIdentity=function(){this.position.SetZero(),this.R.SetIdentity()},n.prototype.Set=function(t){this.position.SetV(t.position),this.R.SetM(t.R)},n.prototype.GetAngle=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)},s.b2Vec2=function(){},s.prototype.b2Vec2=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},s.prototype.SetZero=function(){this.x=0,this.y=0},s.prototype.Set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},s.prototype.SetV=function(t){this.x=t.x,this.y=t.y},s.prototype.GetNegative=function(){return new s(-this.x,-this.y)},s.prototype.NegativeSelf=function(){this.x=-this.x,this.y=-this.y},s.Make=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),new s(t,e)},s.prototype.Copy=function(){return new s(this.x,this.y)},s.prototype.Add=function(t){this.x+=t.x,this.y+=t.y},s.prototype.Subtract=function(t){this.x-=t.x,this.y-=t.y},s.prototype.Multiply=function(t){void 0===t&&(t=0),this.x*=t,this.y*=t},s.prototype.MulM=function(t){var e=this.x;this.x=t.col1.x*e+t.col2.x*this.y,this.y=t.col1.y*e+t.col2.y*this.y},s.prototype.MulTM=function(t){var e=i.Dot(this,t.col1);this.y=i.Dot(this,t.col2),this.x=e},s.prototype.CrossVF=function(t){void 0===t&&(t=0);var e=this.x;this.x=t*this.y,this.y=-t*e},s.prototype.CrossFV=function(t){void 0===t&&(t=0);var e=this.x;this.x=-t*this.y,this.y=t*e},s.prototype.MinV=function(t){this.x=this.x<t.x?this.x:t.x,this.y=this.y<t.y?this.y:t.y},s.prototype.MaxV=function(t){this.x=this.x>t.x?this.x:t.x,this.y=this.y>t.y?this.y:t.y},s.prototype.Abs=function(){this.x<0&&(this.x=-this.x),this.y<0&&(this.y=-this.y)},s.prototype.Length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},s.prototype.LengthSquared=function(){return this.x*this.x+this.y*this.y},s.prototype.Normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);if(t<Number.MIN_VALUE)return 0;var e=1/t;return this.x*=e,this.y*=e,t},s.prototype.IsValid=function(){return i.IsValid(this.x)&&i.IsValid(this.y)},a.b2Vec3=function(){},a.prototype.b2Vec3=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.z=i},a.prototype.SetZero=function(){this.x=this.y=this.z=0},a.prototype.Set=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.z=i},a.prototype.SetV=function(t){this.x=t.x,this.y=t.y,this.z=t.z},a.prototype.GetNegative=function(){return new a(-this.x,-this.y,-this.z)},a.prototype.NegativeSelf=function(){this.x=-this.x,this.y=-this.y,this.z=-this.z},a.prototype.Copy=function(){return new a(this.x,this.y,this.z)},a.prototype.Add=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},a.prototype.Subtract=function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},a.prototype.Multiply=function(t){void 0===t&&(t=0),this.x*=t,this.y*=t,this.z*=t}}(),function(){Box2D.Dynamics.Controllers.b2ControllerEdge,Box2D.Common.Math.b2Mat22,Box2D.Common.Math.b2Mat33;var t=Box2D.Common.Math.b2Math,e=Box2D.Common.Math.b2Sweep,i=Box2D.Common.Math.b2Transform,o=Box2D.Common.Math.b2Vec2,n=(Box2D.Common.Math.b2Vec3,Box2D.Common.b2Color),r=(Box2D.Common.b2internal,Box2D.Common.b2Settings),l=Box2D.Collision.b2AABB,h=(Box2D.Collision.b2Bound,Box2D.Collision.b2BoundValues,Box2D.Collision.b2Collision,Box2D.Collision.b2ContactID,Box2D.Collision.b2ContactPoint),p=(Box2D.Collision.b2Distance,Box2D.Collision.b2DistanceInput,Box2D.Collision.b2DistanceOutput,Box2D.Collision.b2DistanceProxy,Box2D.Collision.b2DynamicTree,Box2D.Collision.b2DynamicTreeBroadPhase),c=(Box2D.Collision.b2DynamicTreeNode,Box2D.Collision.b2DynamicTreePair,Box2D.Collision.b2Manifold,Box2D.Collision.b2ManifoldPoint,Box2D.Collision.b2Point,Box2D.Collision.b2RayCastInput),m=Box2D.Collision.b2RayCastOutput,d=(Box2D.Collision.b2Segment,Box2D.Collision.b2SeparationFunction,Box2D.Collision.b2Simplex,Box2D.Collision.b2SimplexCache,Box2D.Collision.b2SimplexVertex,Box2D.Collision.b2TimeOfImpact,Box2D.Collision.b2TOIInput,Box2D.Collision.b2WorldManifold,Box2D.Collision.ClipVertex,Box2D.Collision.Features,Box2D.Collision.IBroadPhase,Box2D.Collision.Shapes.b2CircleShape),u=(Box2D.Collision.Shapes.b2EdgeChainDef,Box2D.Collision.Shapes.b2EdgeShape),y=Box2D.Collision.Shapes.b2MassData,g=Box2D.Collision.Shapes.b2PolygonShape,f=Box2D.Collision.Shapes.b2Shape,b=Box2D.Dynamics.b2Body,x=Box2D.Dynamics.b2BodyDef,_=Box2D.Dynamics.b2ContactFilter,v=Box2D.Dynamics.b2ContactImpulse,w=Box2D.Dynamics.b2ContactListener,C=Box2D.Dynamics.b2ContactManager,D=Box2D.Dynamics.b2DebugDraw,S=Box2D.Dynamics.b2DestructionListener,B=Box2D.Dynamics.b2FilterData,A=Box2D.Dynamics.b2Fixture,I=Box2D.Dynamics.b2FixtureDef,M=Box2D.Dynamics.b2Island,k=Box2D.Dynamics.b2TimeStep,L=Box2D.Dynamics.b2World,T=(Box2D.Dynamics.Contacts.b2CircleContact,Box2D.Dynamics.Contacts.b2Contact),E=(Box2D.Dynamics.Contacts.b2ContactConstraint,Box2D.Dynamics.Contacts.b2ContactConstraintPoint,Box2D.Dynamics.Contacts.b2ContactEdge,Box2D.Dynamics.Contacts.b2ContactFactory),V=(Box2D.Dynamics.Contacts.b2ContactRegister,Box2D.Dynamics.Contacts.b2ContactResult,Box2D.Dynamics.Contacts.b2ContactSolver),P=(Box2D.Dynamics.Contacts.b2EdgeAndCircleContact,Box2D.Dynamics.Contacts.b2NullContact,Box2D.Dynamics.Contacts.b2PolyAndCircleContact,Box2D.Dynamics.Contacts.b2PolyAndEdgeContact,Box2D.Dynamics.Contacts.b2PolygonContact,Box2D.Dynamics.Contacts.b2PositionSolverManifold,Box2D.Dynamics.Controllers.b2Controller,Box2D.Dynamics.Joints.b2DistanceJoint,Box2D.Dynamics.Joints.b2DistanceJointDef,Box2D.Dynamics.Joints.b2FrictionJoint,Box2D.Dynamics.Joints.b2FrictionJointDef,Box2D.Dynamics.Joints.b2GearJoint,Box2D.Dynamics.Joints.b2GearJointDef,Box2D.Dynamics.Joints.b2Jacobian,Box2D.Dynamics.Joints.b2Joint),G=(Box2D.Dynamics.Joints.b2JointDef,Box2D.Dynamics.Joints.b2JointEdge,Box2D.Dynamics.Joints.b2LineJoint,Box2D.Dynamics.Joints.b2LineJointDef,Box2D.Dynamics.Joints.b2MouseJoint,Box2D.Dynamics.Joints.b2MouseJointDef,Box2D.Dynamics.Joints.b2PrismaticJoint,Box2D.Dynamics.Joints.b2PrismaticJointDef,Box2D.Dynamics.Joints.b2PulleyJoint);Box2D.Dynamics.Joints.b2PulleyJointDef,Box2D.Dynamics.Joints.b2RevoluteJoint,Box2D.Dynamics.Joints.b2RevoluteJointDef,Box2D.Dynamics.Joints.b2WeldJoint,Box2D.Dynamics.Joints.b2WeldJointDef;b.b2Body=function(){this.m_xf=new i,this.m_sweep=new e,this.m_linearVelocity=new o,this.m_force=new o},b.prototype.connectEdges=function(e,i,o){void 0===o&&(o=0);var n=Math.atan2(i.GetDirectionVector().y,i.GetDirectionVector().x),s=Math.tan(.5*(n-o)),a=t.MulFV(s,i.GetDirectionVector());a=t.SubtractVV(a,i.GetNormalVector()),a=t.MulFV(r.b2_toiSlop,a),a=t.AddVV(a,i.GetVertex1());var l=t.AddVV(e.GetDirectionVector(),i.GetDirectionVector());l.Normalize();var h=t.Dot(e.GetDirectionVector(),i.GetNormalVector())>0;return e.SetNextEdge(i,a,l,h),i.SetPrevEdge(e,a,l,h),n},b.prototype.CreateFixture=function(t){if(1==this.m_world.IsLocked())return null;var e=new A;if(e.Create(this,this.m_xf,t),this.m_flags&b.e_activeFlag){var i=this.m_world.m_contactManager.m_broadPhase;e.CreateProxy(i,this.m_xf)}return e.m_next=this.m_fixtureList,this.m_fixtureList=e,++this.m_fixtureCount,e.m_body=this,e.m_density>0&&this.ResetMassData(),this.m_world.m_flags|=L.e_newFixture,e},b.prototype.CreateFixture2=function(t,e){void 0===e&&(e=0);var i=new I;return i.shape=t,i.density=e,this.CreateFixture(i)},b.prototype.DestroyFixture=function(t){if(1!=this.m_world.IsLocked()){for(var e=this.m_fixtureList,i=null;null!=e;){if(e==t){i?i.m_next=t.m_next:this.m_fixtureList=t.m_next,!0;break}i=e,e=e.m_next}for(var o=this.m_contactList;o;){var n=o.contact;o=o.next;var s=n.GetFixtureA(),a=n.GetFixtureB();t!=s&&t!=a||this.m_world.m_contactManager.Destroy(n)}if(this.m_flags&b.e_activeFlag){var r=this.m_world.m_contactManager.m_broadPhase;t.DestroyProxy(r)}t.Destroy(),t.m_body=null,t.m_next=null,--this.m_fixtureCount,this.ResetMassData()}},b.prototype.SetPositionAndAngle=function(t,e){var i;if(void 0===e&&(e=0),1!=this.m_world.IsLocked()){this.m_xf.R.Set(e),this.m_xf.position.SetV(t);var o=this.m_xf.R,n=this.m_sweep.localCenter;this.m_sweep.c.x=o.col1.x*n.x+o.col2.x*n.y,this.m_sweep.c.y=o.col1.y*n.x+o.col2.y*n.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.SetV(this.m_sweep.c),this.m_sweep.a0=this.m_sweep.a=e;var s=this.m_world.m_contactManager.m_broadPhase;for(i=this.m_fixtureList;i;i=i.m_next)i.Synchronize(s,this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()}},b.prototype.SetTransform=function(t){this.SetPositionAndAngle(t.position,t.GetAngle())},b.prototype.GetTransform=function(){return this.m_xf},b.prototype.GetPosition=function(){return this.m_xf.position},b.prototype.SetPosition=function(t){this.SetPositionAndAngle(t,this.GetAngle())},b.prototype.GetAngle=function(){return this.m_sweep.a},b.prototype.SetAngle=function(t){void 0===t&&(t=0),this.SetPositionAndAngle(this.GetPosition(),t)},b.prototype.GetWorldCenter=function(){return this.m_sweep.c},b.prototype.GetLocalCenter=function(){return this.m_sweep.localCenter},b.prototype.SetLinearVelocity=function(t){this.m_type!=b.b2_staticBody&&this.m_linearVelocity.SetV(t)},b.prototype.GetLinearVelocity=function(){return this.m_linearVelocity},b.prototype.SetAngularVelocity=function(t){void 0===t&&(t=0),this.m_type!=b.b2_staticBody&&(this.m_angularVelocity=t)},b.prototype.GetAngularVelocity=function(){return this.m_angularVelocity},b.prototype.GetDefinition=function(){var t=new x;return t.type=this.GetType(),t.allowSleep=(this.m_flags&b.e_allowSleepFlag)==b.e_allowSleepFlag,t.angle=this.GetAngle(),t.angularDamping=this.m_angularDamping,t.angularVelocity=this.m_angularVelocity,t.fixedRotation=(this.m_flags&b.e_fixedRotationFlag)==b.e_fixedRotationFlag,t.bullet=(this.m_flags&b.e_bulletFlag)==b.e_bulletFlag,t.awake=(this.m_flags&b.e_awakeFlag)==b.e_awakeFlag,t.linearDamping=this.m_linearDamping,t.linearVelocity.SetV(this.GetLinearVelocity()),t.position=this.GetPosition(),t.userData=this.GetUserData(),t},b.prototype.ApplyForce=function(t,e){this.m_type==b.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_force.x+=t.x,this.m_force.y+=t.y,this.m_torque+=(e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x)},b.prototype.ApplyTorque=function(t){void 0===t&&(t=0),this.m_type==b.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_torque+=t)},b.prototype.ApplyImpulse=function(t,e){this.m_type==b.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_linearVelocity.x+=this.m_invMass*t.x,this.m_linearVelocity.y+=this.m_invMass*t.y,this.m_angularVelocity+=this.m_invI*((e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x))},b.prototype.Split=function(e){for(var i,o=this.GetLinearVelocity().Copy(),n=this.GetAngularVelocity(),s=this.GetWorldCenter(),a=this.m_world.CreateBody(this.GetDefinition()),r=this.m_fixtureList;r;)if(e(r)){var l=r.m_next;i?i.m_next=l:this.m_fixtureList=l,this.m_fixtureCount--,r.m_next=a.m_fixtureList,a.m_fixtureList=r,a.m_fixtureCount++,r.m_body=a,r=l}else i=r,r=r.m_next;this.ResetMassData(),a.ResetMassData();var h=this.GetWorldCenter(),p=a.GetWorldCenter(),c=t.AddVV(o,t.CrossFV(n,t.SubtractVV(h,s))),m=t.AddVV(o,t.CrossFV(n,t.SubtractVV(p,s)));return this.SetLinearVelocity(c),a.SetLinearVelocity(m),this.SetAngularVelocity(n),a.SetAngularVelocity(n),this.SynchronizeFixtures(),a.SynchronizeFixtures(),a},b.prototype.Merge=function(t){var e;for(e=t.m_fixtureList;e;){var i=e.m_next;t.m_fixtureCount--,e.m_next=this.m_fixtureList,this.m_fixtureList=e,this.m_fixtureCount++,e.m_body=n,e=i}o.m_fixtureCount=0;var o=this,n=t;o.GetWorldCenter(),n.GetWorldCenter(),o.GetLinearVelocity().Copy(),n.GetLinearVelocity().Copy(),o.GetAngularVelocity(),n.GetAngularVelocity();o.ResetMassData(),this.SynchronizeFixtures()},b.prototype.GetMass=function(){return this.m_mass},b.prototype.GetInertia=function(){return this.m_I},b.prototype.GetMassData=function(t){t.mass=this.m_mass,t.I=this.m_I,t.center.SetV(this.m_sweep.localCenter)},b.prototype.SetMassData=function(e){if(r.b2Assert(0==this.m_world.IsLocked()),1!=this.m_world.IsLocked()&&this.m_type==b.b2_dynamicBody){this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=e.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,e.I>0&&0==(this.m_flags&b.e_fixedRotationFlag)&&(this.m_I=e.I-this.m_mass*(e.center.x*e.center.x+e.center.y*e.center.y),this.m_invI=1/this.m_I);var i=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(e.center),this.m_sweep.c0.SetV(t.MulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-i.y),this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-i.x)}},b.prototype.ResetMassData=function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type!=b.b2_staticBody&&this.m_type!=b.b2_kinematicBody){for(var e=o.Make(0,0),i=this.m_fixtureList;i;i=i.m_next)if(0!=i.m_density){var n=i.GetMassData();this.m_mass+=n.mass,e.x+=n.center.x*n.mass,e.y+=n.center.y*n.mass,this.m_I+=n.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,e.x*=this.m_invMass,e.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&0==(this.m_flags&b.e_fixedRotationFlag)?(this.m_I-=this.m_mass*(e.x*e.x+e.y*e.y),this.m_I*=this.m_inertiaScale,r.b2Assert(this.m_I>0),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var s=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(e),this.m_sweep.c0.SetV(t.MulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-s.y),this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-s.x)}},b.prototype.GetWorldPoint=function(t){var e=this.m_xf.R,i=new o(e.col1.x*t.x+e.col2.x*t.y,e.col1.y*t.x+e.col2.y*t.y);return i.x+=this.m_xf.position.x,i.y+=this.m_xf.position.y,i},b.prototype.GetWorldVector=function(e){return t.MulMV(this.m_xf.R,e)},b.prototype.GetLocalPoint=function(e){return t.MulXT(this.m_xf,e)},b.prototype.GetLocalVector=function(e){return t.MulTMV(this.m_xf.R,e)},b.prototype.GetLinearVelocityFromWorldPoint=function(t){return new o(this.m_linearVelocity.x-this.m_angularVelocity*(t.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(t.x-this.m_sweep.c.x))},b.prototype.GetLinearVelocityFromLocalPoint=function(t){var e=this.m_xf.R,i=new o(e.col1.x*t.x+e.col2.x*t.y,e.col1.y*t.x+e.col2.y*t.y);return i.x+=this.m_xf.position.x,i.y+=this.m_xf.position.y,new o(this.m_linearVelocity.x-this.m_angularVelocity*(i.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(i.x-this.m_sweep.c.x))},b.prototype.GetLinearDamping=function(){return this.m_linearDamping},b.prototype.SetLinearDamping=function(t){void 0===t&&(t=0),this.m_linearDamping=t},b.prototype.GetAngularDamping=function(){return this.m_angularDamping},b.prototype.SetAngularDamping=function(t){void 0===t&&(t=0),this.m_angularDamping=t},b.prototype.SetType=function(t){if(void 0===t&&(t=0),this.m_type!=t){this.m_type=t,this.ResetMassData(),this.m_type==b.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;for(var e=this.m_contactList;e;e=e.next)e.contact.FlagForFiltering()}},b.prototype.GetType=function(){return this.m_type},b.prototype.SetBullet=function(t){t?this.m_flags|=b.e_bulletFlag:this.m_flags&=~b.e_bulletFlag},b.prototype.IsBullet=function(){return(this.m_flags&b.e_bulletFlag)==b.e_bulletFlag},b.prototype.SetSleepingAllowed=function(t){t?this.m_flags|=b.e_allowSleepFlag:(this.m_flags&=~b.e_allowSleepFlag,this.SetAwake(!0))},b.prototype.SetAwake=function(t){t?(this.m_flags|=b.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~b.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)},b.prototype.IsAwake=function(){return(this.m_flags&b.e_awakeFlag)==b.e_awakeFlag},b.prototype.SetFixedRotation=function(t){t?this.m_flags|=b.e_fixedRotationFlag:this.m_flags&=~b.e_fixedRotationFlag,this.ResetMassData()},b.prototype.IsFixedRotation=function(){return(this.m_flags&b.e_fixedRotationFlag)==b.e_fixedRotationFlag},b.prototype.SetActive=function(t){var e,i;if(t!=this.IsActive())if(t)for(this.m_flags|=b.e_activeFlag,e=this.m_world.m_contactManager.m_broadPhase,i=this.m_fixtureList;i;i=i.m_next)i.CreateProxy(e,this.m_xf);else{for(this.m_flags&=~b.e_activeFlag,e=this.m_world.m_contactManager.m_broadPhase,i=this.m_fixtureList;i;i=i.m_next)i.DestroyProxy(e);for(var o=this.m_contactList;o;){var n=o;o=o.next,this.m_world.m_contactManager.Destroy(n.contact)}this.m_contactList=null}},b.prototype.IsActive=function(){return(this.m_flags&b.e_activeFlag)==b.e_activeFlag},b.prototype.IsSleepingAllowed=function(){return(this.m_flags&b.e_allowSleepFlag)==b.e_allowSleepFlag},b.prototype.GetFixtureList=function(){return this.m_fixtureList},b.prototype.GetJointList=function(){return this.m_jointList},b.prototype.GetControllerList=function(){return this.m_controllerList},b.prototype.GetContactList=function(){return this.m_contactList},b.prototype.GetNext=function(){return this.m_next},b.prototype.GetUserData=function(){return this.m_userData},b.prototype.SetUserData=function(t){this.m_userData=t},b.prototype.GetWorld=function(){return this.m_world},b.prototype.b2Body=function(t,e){this.m_flags=0,t.bullet&&(this.m_flags|=b.e_bulletFlag),t.fixedRotation&&(this.m_flags|=b.e_fixedRotationFlag),t.allowSleep&&(this.m_flags|=b.e_allowSleepFlag),t.awake&&(this.m_flags|=b.e_awakeFlag),t.active&&(this.m_flags|=b.e_activeFlag),this.m_world=e,this.m_xf.position.SetV(t.position),this.m_xf.R.Set(t.angle),this.m_sweep.localCenter.SetZero(),this.m_sweep.t0=1,this.m_sweep.a0=this.m_sweep.a=t.angle;var i=this.m_xf.R,o=this.m_sweep.localCenter;this.m_sweep.c.x=i.col1.x*o.x+i.col2.x*o.y,this.m_sweep.c.y=i.col1.y*o.x+i.col2.y*o.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.SetV(this.m_sweep.c),this.m_jointList=null,this.m_controllerList=null,this.m_contactList=null,this.m_controllerCount=0,this.m_prev=null,this.m_next=null,this.m_linearVelocity.SetV(t.linearVelocity),this.m_angularVelocity=t.angularVelocity,this.m_linearDamping=t.linearDamping,this.m_angularDamping=t.angularDamping,this.m_force.Set(0,0),this.m_torque=0,this.m_sleepTime=0,this.m_type=t.type,this.m_type==b.b2_dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_inertiaScale=t.inertiaScale,this.m_userData=t.userData,this.m_fixtureList=null,this.m_fixtureCount=0},b.prototype.SynchronizeFixtures=function(){var t=b.s_xf1;t.R.Set(this.m_sweep.a0);var e,i=t.R,o=this.m_sweep.localCenter;t.position.x=this.m_sweep.c0.x-(i.col1.x*o.x+i.col2.x*o.y),t.position.y=this.m_sweep.c0.y-(i.col1.y*o.x+i.col2.y*o.y);var n=this.m_world.m_contactManager.m_broadPhase;for(e=this.m_fixtureList;e;e=e.m_next)e.Synchronize(n,t,this.m_xf)},b.prototype.SynchronizeTransform=function(){this.m_xf.R.Set(this.m_sweep.a);var t=this.m_xf.R,e=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(t.col1.x*e.x+t.col2.x*e.y),this.m_xf.position.y=this.m_sweep.c.y-(t.col1.y*e.x+t.col2.y*e.y)},b.prototype.ShouldCollide=function(t){if(this.m_type!=b.b2_dynamicBody&&t.m_type!=b.b2_dynamicBody)return!1;for(var e=this.m_jointList;e;e=e.next)if(e.other==t&&0==e.joint.m_collideConnected)return!1;return!0},b.prototype.Advance=function(t){void 0===t&&(t=0),this.m_sweep.Advance(t),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.SynchronizeTransform()},Box2D.postDefs.push(function(){Box2D.Dynamics.b2Body.s_xf1=new i,Box2D.Dynamics.b2Body.e_islandFlag=1,Box2D.Dynamics.b2Body.e_awakeFlag=2,Box2D.Dynamics.b2Body.e_allowSleepFlag=4,Box2D.Dynamics.b2Body.e_bulletFlag=8,Box2D.Dynamics.b2Body.e_fixedRotationFlag=16,Box2D.Dynamics.b2Body.e_activeFlag=32,Box2D.Dynamics.b2Body.b2_staticBody=0,Box2D.Dynamics.b2Body.b2_kinematicBody=1,Box2D.Dynamics.b2Body.b2_dynamicBody=2}),x.b2BodyDef=function(){this.position=new o,this.linearVelocity=new o},x.prototype.b2BodyDef=function(){this.userData=null,this.position.Set(0,0),this.angle=0,this.linearVelocity.Set(0,0),this.angularVelocity=0,this.linearDamping=0,this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.type=b.b2_staticBody,this.active=!0,this.inertiaScale=1},_.b2ContactFilter=function(){},_.prototype.ShouldCollide=function(t,e){var i=t.GetFilterData(),o=e.GetFilterData();return i.groupIndex==o.groupIndex&&0!=i.groupIndex?i.groupIndex>0:0!=(i.maskBits&o.categoryBits)&&0!=(i.categoryBits&o.maskBits)},_.prototype.RayCollide=function(t,e){return!t||this.ShouldCollide(t instanceof A?t:null,e)},Box2D.postDefs.push(function(){Box2D.Dynamics.b2ContactFilter.b2_defaultFilter=new _}),v.b2ContactImpulse=function(){this.normalImpulses=new a(r.b2_maxManifoldPoints),this.tangentImpulses=new a(r.b2_maxManifoldPoints)},w.b2ContactListener=function(){},w.prototype.BeginContact=function(t){},w.prototype.EndContact=function(t){},w.prototype.PreSolve=function(t,e){},w.prototype.PostSolve=function(t,e){},Box2D.postDefs.push(function(){Box2D.Dynamics.b2ContactListener.b2_defaultListener=new w}),C.b2ContactManager=function(){},C.prototype.b2ContactManager=function(){this.m_world=null,this.m_contactCount=0,this.m_contactFilter=_.b2_defaultFilter,this.m_contactListener=w.b2_defaultListener,this.m_contactFactory=new E(this.m_allocator),this.m_broadPhase=new p},C.prototype.AddPair=function(t,e){var i=t instanceof A?t:null,o=e instanceof A?e:null,n=i.GetBody(),s=o.GetBody();if(n!=s){for(var a=s.GetContactList();a;){if(a.other==n){var r=a.contact.GetFixtureA(),l=a.contact.GetFixtureB();if(r==i&&l==o)return;if(r==o&&l==i)return}a=a.next}if(0!=s.ShouldCollide(n)&&0!=this.m_contactFilter.ShouldCollide(i,o)){var h=this.m_contactFactory.Create(i,o);i=h.GetFixtureA(),o=h.GetFixtureB(),n=i.m_body,s=o.m_body,h.m_prev=null,h.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=h),this.m_world.m_contactList=h,h.m_nodeA.contact=h,h.m_nodeA.other=s,h.m_nodeA.prev=null,h.m_nodeA.next=n.m_contactList,null!=n.m_contactList&&(n.m_contactList.prev=h.m_nodeA),n.m_contactList=h.m_nodeA,h.m_nodeB.contact=h,h.m_nodeB.other=n,h.m_nodeB.prev=null,h.m_nodeB.next=s.m_contactList,null!=s.m_contactList&&(s.m_contactList.prev=h.m_nodeB),s.m_contactList=h.m_nodeB,++this.m_world.m_contactCount}}},C.prototype.FindNewContacts=function(){this.m_broadPhase.UpdatePairs(Box2D.generateCallback(this,this.AddPair))},C.prototype.Destroy=function(t){var e=t.GetFixtureA(),i=t.GetFixtureB(),o=e.GetBody(),n=i.GetBody();t.IsTouching()&&this.m_contactListener.EndContact(t),t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_world.m_contactList&&(this.m_world.m_contactList=t.m_next),t.m_nodeA.prev&&(t.m_nodeA.prev.next=t.m_nodeA.next),t.m_nodeA.next&&(t.m_nodeA.next.prev=t.m_nodeA.prev),t.m_nodeA==o.m_contactList&&(o.m_contactList=t.m_nodeA.next),t.m_nodeB.prev&&(t.m_nodeB.prev.next=t.m_nodeB.next),t.m_nodeB.next&&(t.m_nodeB.next.prev=t.m_nodeB.prev),t.m_nodeB==n.m_contactList&&(n.m_contactList=t.m_nodeB.next),this.m_contactFactory.Destroy(t),--this.m_contactCount},C.prototype.Collide=function(){for(var t=this.m_world.m_contactList;t;){var e=t.GetFixtureA(),i=t.GetFixtureB(),o=e.GetBody(),n=i.GetBody();if(0!=o.IsAwake()||0!=n.IsAwake()){if(t.m_flags&T.e_filterFlag){if(0==n.ShouldCollide(o)){var s=t;t=s.GetNext(),this.Destroy(s);continue}if(0==this.m_contactFilter.ShouldCollide(e,i)){t=(s=t).GetNext(),this.Destroy(s);continue}t.m_flags&=~T.e_filterFlag}var a=e.m_proxy,r=i.m_proxy;0!=this.m_broadPhase.TestOverlap(a,r)?(t.Update(this.m_contactListener),t=t.GetNext()):(t=(s=t).GetNext(),this.Destroy(s))}else t=t.GetNext()}},Box2D.postDefs.push(function(){Box2D.Dynamics.b2ContactManager.s_evalCP=new h}),D.b2DebugDraw=function(){},D.prototype.b2DebugDraw=function(){},D.prototype.SetFlags=function(t){void 0===t&&(t=0)},D.prototype.GetFlags=function(){},D.prototype.AppendFlags=function(t){void 0===t&&(t=0)},D.prototype.ClearFlags=function(t){void 0===t&&(t=0)},D.prototype.SetSprite=function(t){},D.prototype.GetSprite=function(){},D.prototype.SetDrawScale=function(t){void 0===t&&(t=0)},D.prototype.GetDrawScale=function(){},D.prototype.SetLineThickness=function(t){void 0===t&&(t=0)},D.prototype.GetLineThickness=function(){},D.prototype.SetAlpha=function(t){void 0===t&&(t=0)},D.prototype.GetAlpha=function(){},D.prototype.SetFillAlpha=function(t){void 0===t&&(t=0)},D.prototype.GetFillAlpha=function(){},D.prototype.SetXFormScale=function(t){void 0===t&&(t=0)},D.prototype.GetXFormScale=function(){},D.prototype.DrawPolygon=function(t,e,i){void 0===e&&(e=0)},D.prototype.DrawSolidPolygon=function(t,e,i){void 0===e&&(e=0)},D.prototype.DrawCircle=function(t,e,i){void 0===e&&(e=0)},D.prototype.DrawSolidCircle=function(t,e,i,o){void 0===e&&(e=0)},D.prototype.DrawSegment=function(t,e,i){},D.prototype.DrawTransform=function(t){},Box2D.postDefs.push(function(){Box2D.Dynamics.b2DebugDraw.e_shapeBit=1,Box2D.Dynamics.b2DebugDraw.e_jointBit=2,Box2D.Dynamics.b2DebugDraw.e_aabbBit=4,Box2D.Dynamics.b2DebugDraw.e_pairBit=8,Box2D.Dynamics.b2DebugDraw.e_centerOfMassBit=16,Box2D.Dynamics.b2DebugDraw.e_controllerBit=32}),S.b2DestructionListener=function(){},S.prototype.SayGoodbyeJoint=function(t){},S.prototype.SayGoodbyeFixture=function(t){},B.b2FilterData=function(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0},B.prototype.Copy=function(){var t=new B;return t.categoryBits=this.categoryBits,t.maskBits=this.maskBits,t.groupIndex=this.groupIndex,t},A.b2Fixture=function(){this.m_filter=new B},A.prototype.GetType=function(){return this.m_shape.GetType()},A.prototype.GetShape=function(){return this.m_shape},A.prototype.SetSensor=function(t){if(this.m_isSensor!=t&&(this.m_isSensor=t,null!=this.m_body))for(var e=this.m_body.GetContactList();e;){var i=e.contact,o=i.GetFixtureA(),n=i.GetFixtureB();o!=this&&n!=this||i.SetSensor(o.IsSensor()||n.IsSensor()),e=e.next}},A.prototype.IsSensor=function(){return this.m_isSensor},A.prototype.SetFilterData=function(t){if(this.m_filter=t.Copy(),!this.m_body)for(var e=this.m_body.GetContactList();e;){var i=e.contact,o=i.GetFixtureA(),n=i.GetFixtureB();o!=this&&n!=this||i.FlagForFiltering(),e=e.next}},A.prototype.GetFilterData=function(){return this.m_filter.Copy()},A.prototype.GetBody=function(){return this.m_body},A.prototype.GetNext=function(){return this.m_next},A.prototype.GetUserData=function(){return this.m_userData},A.prototype.SetUserData=function(t){this.m_userData=t},A.prototype.TestPoint=function(t){return this.m_shape.TestPoint(this.m_body.GetTransform(),t)},A.prototype.RayCast=function(t,e){return this.m_shape.RayCast(t,e,this.m_body.GetTransform())},A.prototype.GetMassData=function(t){return void 0===t&&(t=null),null==t&&(t=new y),this.m_shape.ComputeMass(t,this.m_density),t},A.prototype.SetDensity=function(t){void 0===t&&(t=0),this.m_density=t},A.prototype.GetDensity=function(){return this.m_density},A.prototype.GetFriction=function(){return this.m_friction},A.prototype.SetFriction=function(t){void 0===t&&(t=0),this.m_friction=t},A.prototype.GetRestitution=function(){return this.m_restitution},A.prototype.SetRestitution=function(t){void 0===t&&(t=0),this.m_restitution=t},A.prototype.GetAABB=function(){return this.m_aabb},A.prototype.b2Fixture=function(){this.m_aabb=new l,this.m_userData=null,this.m_body=null,this.m_next=null,this.m_shape=null,this.m_density=0,this.m_friction=0,this.m_restitution=0},A.prototype.Create=function(t,e,i){this.m_userData=i.userData,this.m_friction=i.friction,this.m_restitution=i.restitution,this.m_body=t,this.m_next=null,this.m_filter=i.filter.Copy(),this.m_isSensor=i.isSensor,this.m_shape=i.shape.Copy(),this.m_density=i.density},A.prototype.Destroy=function(){this.m_shape=null},A.prototype.CreateProxy=function(t,e){this.m_shape.ComputeAABB(this.m_aabb,e),this.m_proxy=t.CreateProxy(this.m_aabb,this)},A.prototype.DestroyProxy=function(t){null!=this.m_proxy&&(t.DestroyProxy(this.m_proxy),this.m_proxy=null)},A.prototype.Synchronize=function(e,i,o){if(this.m_proxy){var n=new l,s=new l;this.m_shape.ComputeAABB(n,i),this.m_shape.ComputeAABB(s,o),this.m_aabb.Combine(n,s);var a=t.SubtractVV(o.position,i.position);e.MoveProxy(this.m_proxy,this.m_aabb,a)}},I.b2FixtureDef=function(){this.filter=new B},I.prototype.b2FixtureDef=function(){this.shape=null,this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.filter.categoryBits=1,this.filter.maskBits=65535,this.filter.groupIndex=0,this.isSensor=!1},M.b2Island=function(){},M.prototype.b2Island=function(){this.m_bodies=new s,this.m_contacts=new s,this.m_joints=new s},M.prototype.Initialize=function(t,e,i,o,n,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var a=0;for(this.m_bodyCapacity=t,this.m_contactCapacity=e,this.m_jointCapacity=i,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_allocator=o,this.m_listener=n,this.m_contactSolver=s,a=this.m_bodies.length;a<t;a++)this.m_bodies[a]=null;for(a=this.m_contacts.length;a<e;a++)this.m_contacts[a]=null;for(a=this.m_joints.length;a<i;a++)this.m_joints[a]=null},M.prototype.Clear=function(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0},M.prototype.Solve=function(e,i,o){var n,s=0,a=0;for(s=0;s<this.m_bodyCount;++s)(n=this.m_bodies[s]).GetType()==b.b2_dynamicBody&&(n.m_linearVelocity.x+=e.dt*(i.x+n.m_invMass*n.m_force.x),n.m_linearVelocity.y+=e.dt*(i.y+n.m_invMass*n.m_force.y),n.m_angularVelocity+=e.dt*n.m_invI*n.m_torque,n.m_linearVelocity.Multiply(t.Clamp(1-e.dt*n.m_linearDamping,0,1)),n.m_angularVelocity*=t.Clamp(1-e.dt*n.m_angularDamping,0,1));this.m_contactSolver.Initialize(e,this.m_contacts,this.m_contactCount,this.m_allocator);var l=this.m_contactSolver;for(l.InitVelocityConstraints(e),s=0;s<this.m_jointCount;++s)this.m_joints[s].InitVelocityConstraints(e);for(s=0;s<e.velocityIterations;++s){for(a=0;a<this.m_jointCount;++a)this.m_joints[a].SolveVelocityConstraints(e);l.SolveVelocityConstraints()}for(s=0;s<this.m_jointCount;++s)this.m_joints[s].FinalizeVelocityConstraints();for(l.FinalizeVelocityConstraints(),s=0;s<this.m_bodyCount;++s)if((n=this.m_bodies[s]).GetType()!=b.b2_staticBody){var h=e.dt*n.m_linearVelocity.x,p=e.dt*n.m_linearVelocity.y;h*h+p*p>r.b2_maxTranslationSquared&&(n.m_linearVelocity.Normalize(),n.m_linearVelocity.x*=r.b2_maxTranslation*e.inv_dt,n.m_linearVelocity.y*=r.b2_maxTranslation*e.inv_dt);var c=e.dt*n.m_angularVelocity;c*c>r.b2_maxRotationSquared&&(n.m_angularVelocity<0?n.m_angularVelocity=-r.b2_maxRotation*e.inv_dt:n.m_angularVelocity=r.b2_maxRotation*e.inv_dt),n.m_sweep.c0.SetV(n.m_sweep.c),n.m_sweep.a0=n.m_sweep.a,n.m_sweep.c.x+=e.dt*n.m_linearVelocity.x,n.m_sweep.c.y+=e.dt*n.m_linearVelocity.y,n.m_sweep.a+=e.dt*n.m_angularVelocity,n.SynchronizeTransform()}for(s=0;s<e.positionIterations;++s){var m=l.SolvePositionConstraints(r.b2_contactBaumgarte),d=!0;for(a=0;a<this.m_jointCount;++a){var u=this.m_joints[a].SolvePositionConstraints(r.b2_contactBaumgarte);d=d&&u}if(m&&d)break}if(this.Report(l.m_constraints),o){var y=Number.MAX_VALUE,g=r.b2_linearSleepTolerance*r.b2_linearSleepTolerance,f=r.b2_angularSleepTolerance*r.b2_angularSleepTolerance;for(s=0;s<this.m_bodyCount;++s)(n=this.m_bodies[s]).GetType()!=b.b2_staticBody&&(0==(n.m_flags&b.e_allowSleepFlag)&&(n.m_sleepTime=0,y=0),0==(n.m_flags&b.e_allowSleepFlag)||n.m_angularVelocity*n.m_angularVelocity>f||t.Dot(n.m_linearVelocity,n.m_linearVelocity)>g?(n.m_sleepTime=0,y=0):(n.m_sleepTime+=e.dt,y=t.Min(y,n.m_sleepTime)));if(y>=r.b2_timeToSleep)for(s=0;s<this.m_bodyCount;++s)(n=this.m_bodies[s]).SetAwake(!1)}},M.prototype.SolveTOI=function(t){var e=0,i=0;this.m_contactSolver.Initialize(t,this.m_contacts,this.m_contactCount,this.m_allocator);var o=this.m_contactSolver;for(e=0;e<this.m_jointCount;++e)this.m_joints[e].InitVelocityConstraints(t);for(e=0;e<t.velocityIterations;++e)for(o.SolveVelocityConstraints(),i=0;i<this.m_jointCount;++i)this.m_joints[i].SolveVelocityConstraints(t);for(e=0;e<this.m_bodyCount;++e){var n=this.m_bodies[e];if(n.GetType()!=b.b2_staticBody){var s=t.dt*n.m_linearVelocity.x,a=t.dt*n.m_linearVelocity.y;s*s+a*a>r.b2_maxTranslationSquared&&(n.m_linearVelocity.Normalize(),n.m_linearVelocity.x*=r.b2_maxTranslation*t.inv_dt,n.m_linearVelocity.y*=r.b2_maxTranslation*t.inv_dt);var l=t.dt*n.m_angularVelocity;l*l>r.b2_maxRotationSquared&&(n.m_angularVelocity<0?n.m_angularVelocity=-r.b2_maxRotation*t.inv_dt:n.m_angularVelocity=r.b2_maxRotation*t.inv_dt),n.m_sweep.c0.SetV(n.m_sweep.c),n.m_sweep.a0=n.m_sweep.a,n.m_sweep.c.x+=t.dt*n.m_linearVelocity.x,n.m_sweep.c.y+=t.dt*n.m_linearVelocity.y,n.m_sweep.a+=t.dt*n.m_angularVelocity,n.SynchronizeTransform()}}for(e=0;e<t.positionIterations;++e){var h=o.SolvePositionConstraints(.75),p=!0;for(i=0;i<this.m_jointCount;++i){var c=this.m_joints[i].SolvePositionConstraints(r.b2_contactBaumgarte);p=p&&c}if(h&&p)break}this.Report(o.m_constraints)},M.prototype.Report=function(t){if(null!=this.m_listener)for(var e=0;e<this.m_contactCount;++e){for(var i=this.m_contacts[e],o=t[e],n=0;n<o.pointCount;++n)M.s_impulse.normalImpulses[n]=o.points[n].normalImpulse,M.s_impulse.tangentImpulses[n]=o.points[n].tangentImpulse;this.m_listener.PostSolve(i,M.s_impulse)}},M.prototype.AddBody=function(t){t.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=t},M.prototype.AddContact=function(t){this.m_contacts[this.m_contactCount++]=t},M.prototype.AddJoint=function(t){this.m_joints[this.m_jointCount++]=t},Box2D.postDefs.push(function(){Box2D.Dynamics.b2Island.s_impulse=new v}),k.b2TimeStep=function(){},k.prototype.Set=function(t){this.dt=t.dt,this.inv_dt=t.inv_dt,this.positionIterations=t.positionIterations,this.velocityIterations=t.velocityIterations,this.warmStarting=t.warmStarting},L.b2World=function(){this.s_stack=new s,this.m_contactManager=new C,this.m_contactSolver=new V,this.m_island=new M},L.prototype.b2World=function(t,e){this.m_destructionListener=null,this.m_debugDraw=null,this.m_bodyList=null,this.m_contactList=null,this.m_jointList=null,this.m_controllerList=null,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_controllerCount=0,L.m_warmStarting=!0,L.m_continuousPhysics=!0,this.m_allowSleep=e,this.m_gravity=t,this.m_inv_dt0=0,this.m_contactManager.m_world=this;var i=new x;this.m_groundBody=this.CreateBody(i)},L.prototype.SetDestructionListener=function(t){this.m_destructionListener=t},L.prototype.SetContactFilter=function(t){this.m_contactManager.m_contactFilter=t},L.prototype.SetContactListener=function(t){this.m_contactManager.m_contactListener=t},L.prototype.SetDebugDraw=function(t){this.m_debugDraw=t},L.prototype.SetBroadPhase=function(t){var e=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=t;for(var i=this.m_bodyList;i;i=i.m_next)for(var o=i.m_fixtureList;o;o=o.m_next)o.m_proxy=t.CreateProxy(e.GetFatAABB(o.m_proxy),o)},L.prototype.Validate=function(){this.m_contactManager.m_broadPhase.Validate()},L.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()},L.prototype.CreateBody=function(t){if(1==this.IsLocked())return null;var e=new b(t,this);return e.m_prev=null,e.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=e),this.m_bodyList=e,++this.m_bodyCount,e},L.prototype.DestroyBody=function(t){if(1!=this.IsLocked()){for(var e=t.m_jointList;e;){var i=e;e=e.next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(i.joint),this.DestroyJoint(i.joint)}for(var o=t.m_controllerList;o;){var n=o;o=o.nextController,n.controller.RemoveBody(t)}for(var s=t.m_contactList;s;){var a=s;s=s.next,this.m_contactManager.Destroy(a.contact)}t.m_contactList=null;for(var r=t.m_fixtureList;r;){var l=r;r=r.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(l),l.DestroyProxy(this.m_contactManager.m_broadPhase),l.Destroy()}t.m_fixtureList=null,t.m_fixtureCount=0,t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_bodyList&&(this.m_bodyList=t.m_next),--this.m_bodyCount}},L.prototype.CreateJoint=function(t){var e=P.Create(t,null);e.m_prev=null,e.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=e),this.m_jointList=e,++this.m_jointCount,e.m_edgeA.joint=e,e.m_edgeA.other=e.m_bodyB,e.m_edgeA.prev=null,e.m_edgeA.next=e.m_bodyA.m_jointList,e.m_bodyA.m_jointList&&(e.m_bodyA.m_jointList.prev=e.m_edgeA),e.m_bodyA.m_jointList=e.m_edgeA,e.m_edgeB.joint=e,e.m_edgeB.other=e.m_bodyA,e.m_edgeB.prev=null,e.m_edgeB.next=e.m_bodyB.m_jointList,e.m_bodyB.m_jointList&&(e.m_bodyB.m_jointList.prev=e.m_edgeB),e.m_bodyB.m_jointList=e.m_edgeB;var i=t.bodyA,o=t.bodyB;if(0==t.collideConnected)for(var n=o.GetContactList();n;)n.other==i&&n.contact.FlagForFiltering(),n=n.next;return e},L.prototype.DestroyJoint=function(t){var e=t.m_collideConnected;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_jointList&&(this.m_jointList=t.m_next);var i=t.m_bodyA,o=t.m_bodyB;if(i.SetAwake(!0),o.SetAwake(!0),t.m_edgeA.prev&&(t.m_edgeA.prev.next=t.m_edgeA.next),t.m_edgeA.next&&(t.m_edgeA.next.prev=t.m_edgeA.prev),t.m_edgeA==i.m_jointList&&(i.m_jointList=t.m_edgeA.next),t.m_edgeA.prev=null,t.m_edgeA.next=null,t.m_edgeB.prev&&(t.m_edgeB.prev.next=t.m_edgeB.next),t.m_edgeB.next&&(t.m_edgeB.next.prev=t.m_edgeB.prev),t.m_edgeB==o.m_jointList&&(o.m_jointList=t.m_edgeB.next),t.m_edgeB.prev=null,t.m_edgeB.next=null,P.Destroy(t,null),--this.m_jointCount,0==e)for(var n=o.GetContactList();n;)n.other==i&&n.contact.FlagForFiltering(),n=n.next},L.prototype.AddController=function(t){return t.m_next=this.m_controllerList,t.m_prev=null,this.m_controllerList=t,t.m_world=this,this.m_controllerCount++,t},L.prototype.RemoveController=function(t){t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),this.m_controllerList==t&&(this.m_controllerList=t.m_next),this.m_controllerCount--},L.prototype.CreateController=function(t){if(t.m_world!=this)throw new Error("Controller can only be a member of one world");return t.m_next=this.m_controllerList,t.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=t),this.m_controllerList=t,++this.m_controllerCount,t.m_world=this,t},L.prototype.DestroyController=function(t){t.Clear(),t.m_next&&(t.m_next.m_prev=t.m_prev),t.m_prev&&(t.m_prev.m_next=t.m_next),t==this.m_controllerList&&(this.m_controllerList=t.m_next),--this.m_controllerCount},L.prototype.SetWarmStarting=function(t){L.m_warmStarting=t},L.prototype.SetContinuousPhysics=function(t){L.m_continuousPhysics=t},L.prototype.GetBodyCount=function(){return this.m_bodyCount},L.prototype.GetJointCount=function(){return this.m_jointCount},L.prototype.GetContactCount=function(){return this.m_contactCount},L.prototype.SetGravity=function(t){this.m_gravity=t},L.prototype.GetGravity=function(){return this.m_gravity},L.prototype.GetGroundBody=function(){return this.m_groundBody},L.prototype.Step=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.m_flags&L.e_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flags&=~L.e_newFixture),this.m_flags|=L.e_locked;var o=L.s_timestep2;o.dt=t,o.velocityIterations=e,o.positionIterations=i,o.inv_dt=t>0?1/t:0,o.dtRatio=this.m_inv_dt0*t,o.warmStarting=L.m_warmStarting,this.m_contactManager.Collide(),o.dt>0&&this.Solve(o),L.m_continuousPhysics&&o.dt>0&&this.SolveTOI(o),o.dt>0&&(this.m_inv_dt0=o.inv_dt),this.m_flags&=~L.e_locked},L.prototype.ClearForces=function(){for(var t=this.m_bodyList;t;t=t.m_next)t.m_force.SetZero(),t.m_torque=0},L.prototype.DrawDebugData=function(){if(null!=this.m_debugDraw){this.m_debugDraw.m_sprite.graphics.clear();var t,e,i,s,a,r,h=this.m_debugDraw.GetFlags(),p=(new o,new o,new o,new l,new l,[new o,new o,new o,new o]),c=new n(0,0,0);if(h&D.e_shapeBit)for(t=this.m_bodyList;t;t=t.m_next)for(r=t.m_xf,e=t.GetFixtureList();e;e=e.m_next)i=e.GetShape(),0==t.IsActive()?(c.Set(.5,.5,.3),this.DrawShape(i,r,c)):t.GetType()==b.b2_staticBody?(c.Set(.5,.9,.5),this.DrawShape(i,r,c)):t.GetType()==b.b2_kinematicBody?(c.Set(.5,.5,.9),this.DrawShape(i,r,c)):0==t.IsAwake()?(c.Set(.6,.6,.6),this.DrawShape(i,r,c)):(c.Set(.9,.7,.7),this.DrawShape(i,r,c));if(h&D.e_jointBit)for(s=this.m_jointList;s;s=s.m_next)this.DrawJoint(s);if(h&D.e_controllerBit)for(var m=this.m_controllerList;m;m=m.m_next)m.Draw(this.m_debugDraw);if(h&D.e_pairBit){c.Set(.3,.9,.9);for(var d=this.m_contactManager.m_contactList;d;d=d.GetNext()){var u=d.GetFixtureA(),y=d.GetFixtureB(),g=u.GetAABB().GetCenter(),f=y.GetAABB().GetCenter();this.m_debugDraw.DrawSegment(g,f,c)}}if(h&D.e_aabbBit)for(a=this.m_contactManager.m_broadPhase,p=[new o,new o,new o,new o],t=this.m_bodyList;t;t=t.GetNext())if(0!=t.IsActive())for(e=t.GetFixtureList();e;e=e.GetNext()){var x=a.GetFatAABB(e.m_proxy);p[0].Set(x.lowerBound.x,x.lowerBound.y),p[1].Set(x.upperBound.x,x.lowerBound.y),p[2].Set(x.upperBound.x,x.upperBound.y),p[3].Set(x.lowerBound.x,x.upperBound.y),this.m_debugDraw.DrawPolygon(p,4,c)}if(h&D.e_centerOfMassBit)for(t=this.m_bodyList;t;t=t.m_next)(r=L.s_xf).R=t.m_xf.R,r.position=t.GetWorldCenter(),this.m_debugDraw.DrawTransform(r)}},L.prototype.QueryAABB=function(t,e){var i=this.m_contactManager.m_broadPhase;i.Query(function(e){return t(i.GetUserData(e))},e)},L.prototype.QueryShape=function(t,e,o){void 0===o&&(o=null),null==o&&(o=new i).SetIdentity();var n=this.m_contactManager.m_broadPhase;var s=new l;e.ComputeAABB(s,o),n.Query(function(i){var s=n.GetUserData(i)instanceof A?n.GetUserData(i):null;return!f.TestOverlap(e,o,s.GetShape(),s.GetBody().GetTransform())||t(s)},s)},L.prototype.QueryPoint=function(t,e){var i=this.m_contactManager.m_broadPhase;var o=new l;o.lowerBound.Set(e.x-r.b2_linearSlop,e.y-r.b2_linearSlop),o.upperBound.Set(e.x+r.b2_linearSlop,e.y+r.b2_linearSlop),i.Query(function(o){var n=i.GetUserData(o)instanceof A?i.GetUserData(o):null;return!n.TestPoint(e)||t(n)},o)},L.prototype.RayCast=function(t,e,i){var n=this.m_contactManager.m_broadPhase,s=new m;var a=new c(e,i);n.RayCast(function(a,r){var l=n.GetUserData(r),h=l instanceof A?l:null;if(h.RayCast(s,a)){var p=s.fraction,c=new o((1-p)*e.x+p*i.x,(1-p)*e.y+p*i.y);return t(h,c,s.normal,p)}return a.maxFraction},a)},L.prototype.RayCastOne=function(t,e){var i;return this.RayCast(function(t,e,o,n){return void 0===n&&(n=0),i=t,n},t,e),i},L.prototype.RayCastAll=function(t,e){var i=new s;return this.RayCast(function(t,e,o,n){return void 0===n&&(n=0),i[i.length]=t,1},t,e),i},L.prototype.GetBodyList=function(){return this.m_bodyList},L.prototype.GetJointList=function(){return this.m_jointList},L.prototype.GetContactList=function(){return this.m_contactList},L.prototype.IsLocked=function(){return(this.m_flags&L.e_locked)>0},L.prototype.Solve=function(t){for(var e,i=this.m_controllerList;i;i=i.m_next)i.Step(t);var o=this.m_island;for(o.Initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver),e=this.m_bodyList;e;e=e.m_next)e.m_flags&=~b.e_islandFlag;for(var n=this.m_contactList;n;n=n.m_next)n.m_flags&=~T.e_islandFlag;for(var s=this.m_jointList;s;s=s.m_next)s.m_islandFlag=!1;parseInt(this.m_bodyCount);for(var a=this.s_stack,r=this.m_bodyList;r;r=r.m_next)if(!(r.m_flags&b.e_islandFlag)&&0!=r.IsAwake()&&0!=r.IsActive()&&r.GetType()!=b.b2_staticBody){o.Clear();var l=0;for(a[l++]=r,r.m_flags|=b.e_islandFlag;l>0;)if(e=a[--l],o.AddBody(e),0==e.IsAwake()&&e.SetAwake(!0),e.GetType()!=b.b2_staticBody){for(var h,p=e.m_contactList;p;p=p.next)p.contact.m_flags&T.e_islandFlag||1!=p.contact.IsSensor()&&0!=p.contact.IsEnabled()&&0!=p.contact.IsTouching()&&(o.AddContact(p.contact),p.contact.m_flags|=T.e_islandFlag,(h=p.other).m_flags&b.e_islandFlag||(a[l++]=h,h.m_flags|=b.e_islandFlag));for(var c=e.m_jointList;c;c=c.next)1!=c.joint.m_islandFlag&&0!=(h=c.other).IsActive()&&(o.AddJoint(c.joint),c.joint.m_islandFlag=!0,h.m_flags&b.e_islandFlag||(a[l++]=h,h.m_flags|=b.e_islandFlag))}o.Solve(t,this.m_gravity,this.m_allowSleep);for(var m=0;m<o.m_bodyCount;++m)(e=o.m_bodies[m]).GetType()==b.b2_staticBody&&(e.m_flags&=~b.e_islandFlag)}for(m=0;m<a.length&&a[m];++m)a[m]=null;for(e=this.m_bodyList;e;e=e.m_next)0!=e.IsAwake()&&0!=e.IsActive()&&e.GetType()!=b.b2_staticBody&&e.SynchronizeFixtures();this.m_contactManager.FindNewContacts()},L.prototype.SolveTOI=function(t){var e,i,o,n,s,a,l,h=this.m_island;h.Initialize(this.m_bodyCount,r.b2_maxTOIContactsPerIsland,r.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);var p,c=L.s_queue;for(e=this.m_bodyList;e;e=e.m_next)e.m_flags&=~b.e_islandFlag,e.m_sweep.t0=0;for(p=this.m_contactList;p;p=p.m_next)p.m_flags&=~(T.e_toiFlag|T.e_islandFlag);for(l=this.m_jointList;l;l=l.m_next)l.m_islandFlag=!1;for(;;){var m=null,d=1;for(p=this.m_contactList;p;p=p.m_next)if(1!=p.IsSensor()&&0!=p.IsEnabled()&&0!=p.IsContinuous()){var u=1;if(p.m_flags&T.e_toiFlag)u=p.m_toi;else{if(i=p.m_fixtureA,o=p.m_fixtureB,n=i.m_body,s=o.m_body,!(n.GetType()==b.b2_dynamicBody&&0!=n.IsAwake()||s.GetType()==b.b2_dynamicBody&&0!=s.IsAwake()))continue;var y=n.m_sweep.t0;n.m_sweep.t0<s.m_sweep.t0?(y=s.m_sweep.t0,n.m_sweep.Advance(y)):s.m_sweep.t0<n.m_sweep.t0&&(y=n.m_sweep.t0,s.m_sweep.Advance(y)),u=p.ComputeTOI(n.m_sweep,s.m_sweep),r.b2Assert(0<=u&&u<=1),u>0&&u<1&&(u=(1-u)*y+u)>1&&(u=1),p.m_toi=u,p.m_flags|=T.e_toiFlag}Number.MIN_VALUE<u&&u<d&&(m=p,d=u)}if(null==m||1-100*Number.MIN_VALUE<d)break;if(i=m.m_fixtureA,o=m.m_fixtureB,n=i.m_body,s=o.m_body,L.s_backupA.Set(n.m_sweep),L.s_backupB.Set(s.m_sweep),n.Advance(d),s.Advance(d),m.Update(this.m_contactManager.m_contactListener),m.m_flags&=~T.e_toiFlag,1!=m.IsSensor()&&0!=m.IsEnabled()){if(0!=m.IsTouching()){var g=n;g.GetType()!=b.b2_dynamicBody&&(g=s),h.Clear();var f=0,x=0;for(c[f+x++]=g,g.m_flags|=b.e_islandFlag;x>0;)if(e=c[f++],--x,h.AddBody(e),0==e.IsAwake()&&e.SetAwake(!0),e.GetType()==b.b2_dynamicBody){for(a=e.m_contactList;a&&h.m_contactCount!=h.m_contactCapacity;a=a.next)if(!(a.contact.m_flags&T.e_islandFlag)&&1!=a.contact.IsSensor()&&0!=a.contact.IsEnabled()&&0!=a.contact.IsTouching()){h.AddContact(a.contact),a.contact.m_flags|=T.e_islandFlag;var _=a.other;_.m_flags&b.e_islandFlag||(_.GetType()!=b.b2_staticBody&&(_.Advance(d),_.SetAwake(!0)),c[f+x]=_,++x,_.m_flags|=b.e_islandFlag)}for(var v=e.m_jointList;v;v=v.next)h.m_jointCount!=h.m_jointCapacity&&1!=v.joint.m_islandFlag&&0!=(_=v.other).IsActive()&&(h.AddJoint(v.joint),v.joint.m_islandFlag=!0,_.m_flags&b.e_islandFlag||(_.GetType()!=b.b2_staticBody&&(_.Advance(d),_.SetAwake(!0)),c[f+x]=_,++x,_.m_flags|=b.e_islandFlag))}var w=L.s_timestep;w.warmStarting=!1,w.dt=(1-d)*t.dt,w.inv_dt=1/w.dt,w.dtRatio=0,w.velocityIterations=t.velocityIterations,w.positionIterations=t.positionIterations,h.SolveTOI(w);var C=0;for(C=0;C<h.m_bodyCount;++C)if((e=h.m_bodies[C]).m_flags&=~b.e_islandFlag,0!=e.IsAwake()&&e.GetType()==b.b2_dynamicBody)for(e.SynchronizeFixtures(),a=e.m_contactList;a;a=a.next)a.contact.m_flags&=~T.e_toiFlag;for(C=0;C<h.m_contactCount;++C)(p=h.m_contacts[C]).m_flags&=~(T.e_toiFlag|T.e_islandFlag);for(C=0;C<h.m_jointCount;++C)(l=h.m_joints[C]).m_islandFlag=!1;this.m_contactManager.FindNewContacts()}}else n.m_sweep.Set(L.s_backupA),s.m_sweep.Set(L.s_backupB),n.SynchronizeTransform(),s.SynchronizeTransform()}},L.prototype.DrawJoint=function(t){var e=t.GetBodyA(),i=t.GetBodyB(),o=e.m_xf,n=i.m_xf,s=o.position,a=n.position,r=t.GetAnchorA(),l=t.GetAnchorB(),h=L.s_jointColor;switch(t.m_type){case P.e_distanceJoint:this.m_debugDraw.DrawSegment(r,l,h);break;case P.e_pulleyJoint:var p=t instanceof G?t:null,c=p.GetGroundAnchorA(),m=p.GetGroundAnchorB();this.m_debugDraw.DrawSegment(c,r,h),this.m_debugDraw.DrawSegment(m,l,h),this.m_debugDraw.DrawSegment(c,m,h);break;case P.e_mouseJoint:this.m_debugDraw.DrawSegment(r,l,h);break;default:e!=this.m_groundBody&&this.m_debugDraw.DrawSegment(s,r,h),this.m_debugDraw.DrawSegment(r,l,h),i!=this.m_groundBody&&this.m_debugDraw.DrawSegment(a,l,h)}},L.prototype.DrawShape=function(e,i,o){switch(e.m_type){case f.e_circleShape:var n=e instanceof d?e:null,a=t.MulX(i,n.m_p),r=n.m_radius,l=i.R.col1;this.m_debugDraw.DrawSolidCircle(a,r,l,o);break;case f.e_polygonShape:var h=0,p=e instanceof g?e:null,c=parseInt(p.GetVertexCount()),m=p.GetVertices(),y=new s(c);for(h=0;h<c;++h)y[h]=t.MulX(i,m[h]);this.m_debugDraw.DrawSolidPolygon(y,c,o);break;case f.e_edgeShape:var b=e instanceof u?e:null;this.m_debugDraw.DrawSegment(t.MulX(i,b.GetVertex1()),t.MulX(i,b.GetVertex2()),o)}},Box2D.postDefs.push(function(){Box2D.Dynamics.b2World.s_timestep2=new k,Box2D.Dynamics.b2World.s_xf=new i,Box2D.Dynamics.b2World.s_backupA=new e,Box2D.Dynamics.b2World.s_backupB=new e,Box2D.Dynamics.b2World.s_timestep=new k,Box2D.Dynamics.b2World.s_queue=new s,Box2D.Dynamics.b2World.s_jointColor=new n(.5,.8,.8),Box2D.Dynamics.b2World.e_newFixture=1,Box2D.Dynamics.b2World.e_locked=2})}(),function(){var t=Box2D.Collision.Shapes.b2CircleShape,e=(Box2D.Collision.Shapes.b2EdgeChainDef,Box2D.Collision.Shapes.b2EdgeShape),i=(Box2D.Collision.Shapes.b2MassData,Box2D.Collision.Shapes.b2PolygonShape),o=Box2D.Collision.Shapes.b2Shape,n=Box2D.Dynamics.Contacts.b2CircleContact,r=Box2D.Dynamics.Contacts.b2Contact,l=Box2D.Dynamics.Contacts.b2ContactConstraint,h=Box2D.Dynamics.Contacts.b2ContactConstraintPoint,p=Box2D.Dynamics.Contacts.b2ContactEdge,c=Box2D.Dynamics.Contacts.b2ContactFactory,m=Box2D.Dynamics.Contacts.b2ContactRegister,d=Box2D.Dynamics.Contacts.b2ContactResult,u=Box2D.Dynamics.Contacts.b2ContactSolver,y=Box2D.Dynamics.Contacts.b2EdgeAndCircleContact,g=Box2D.Dynamics.Contacts.b2NullContact,f=Box2D.Dynamics.Contacts.b2PolyAndCircleContact,b=Box2D.Dynamics.Contacts.b2PolyAndEdgeContact,x=Box2D.Dynamics.Contacts.b2PolygonContact,_=Box2D.Dynamics.Contacts.b2PositionSolverManifold,v=Box2D.Dynamics.b2Body,w=(Box2D.Dynamics.b2BodyDef,Box2D.Dynamics.b2ContactFilter,Box2D.Dynamics.b2ContactImpulse,Box2D.Dynamics.b2ContactListener,Box2D.Dynamics.b2ContactManager,Box2D.Dynamics.b2DebugDraw,Box2D.Dynamics.b2DestructionListener,Box2D.Dynamics.b2FilterData,Box2D.Dynamics.b2Fixture,Box2D.Dynamics.b2FixtureDef,Box2D.Dynamics.b2Island,Box2D.Dynamics.b2TimeStep),C=(Box2D.Dynamics.b2World,Box2D.Common.b2Color,Box2D.Common.b2internal,Box2D.Common.b2Settings),D=Box2D.Common.Math.b2Mat22,S=(Box2D.Common.Math.b2Mat33,Box2D.Common.Math.b2Math),B=(Box2D.Common.Math.b2Sweep,Box2D.Common.Math.b2Transform,Box2D.Common.Math.b2Vec2),A=(Box2D.Common.Math.b2Vec3,Box2D.Collision.b2AABB,Box2D.Collision.b2Bound,Box2D.Collision.b2BoundValues,Box2D.Collision.b2Collision),I=Box2D.Collision.b2ContactID,M=(Box2D.Collision.b2ContactPoint,Box2D.Collision.b2Distance,Box2D.Collision.b2DistanceInput,Box2D.Collision.b2DistanceOutput,Box2D.Collision.b2DistanceProxy,Box2D.Collision.b2DynamicTree,Box2D.Collision.b2DynamicTreeBroadPhase,Box2D.Collision.b2DynamicTreeNode,Box2D.Collision.b2DynamicTreePair,Box2D.Collision.b2Manifold),k=(Box2D.Collision.b2ManifoldPoint,Box2D.Collision.b2Point,Box2D.Collision.b2RayCastInput,Box2D.Collision.b2RayCastOutput,Box2D.Collision.b2Segment,Box2D.Collision.b2SeparationFunction,Box2D.Collision.b2Simplex,Box2D.Collision.b2SimplexCache,Box2D.Collision.b2SimplexVertex,Box2D.Collision.b2TimeOfImpact),L=Box2D.Collision.b2TOIInput,T=Box2D.Collision.b2WorldManifold;Box2D.Collision.ClipVertex,Box2D.Collision.Features,Box2D.Collision.IBroadPhase;Box2D.inherit(n,Box2D.Dynamics.Contacts.b2Contact),n.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype,n.b2CircleContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},n.Create=function(t){return new n},n.Destroy=function(t,e){},n.prototype.Reset=function(t,e){this.__super.Reset.call(this,t,e)},n.prototype.Evaluate=function(){var e=this.m_fixtureA.GetBody(),i=this.m_fixtureB.GetBody();A.CollideCircles(this.m_manifold,this.m_fixtureA.GetShape()instanceof t?this.m_fixtureA.GetShape():null,e.m_xf,this.m_fixtureB.GetShape()instanceof t?this.m_fixtureB.GetShape():null,i.m_xf)},r.b2Contact=function(){this.m_nodeA=new p,this.m_nodeB=new p,this.m_manifold=new M,this.m_oldManifold=new M},r.prototype.GetManifold=function(){return this.m_manifold},r.prototype.GetWorldManifold=function(t){var e=this.m_fixtureA.GetBody(),i=this.m_fixtureB.GetBody(),o=this.m_fixtureA.GetShape(),n=this.m_fixtureB.GetShape();t.Initialize(this.m_manifold,e.GetTransform(),o.m_radius,i.GetTransform(),n.m_radius)},r.prototype.IsTouching=function(){return(this.m_flags&r.e_touchingFlag)==r.e_touchingFlag},r.prototype.IsContinuous=function(){return(this.m_flags&r.e_continuousFlag)==r.e_continuousFlag},r.prototype.SetSensor=function(t){t?this.m_flags|=r.e_sensorFlag:this.m_flags&=~r.e_sensorFlag},r.prototype.IsSensor=function(){return(this.m_flags&r.e_sensorFlag)==r.e_sensorFlag},r.prototype.SetEnabled=function(t){t?this.m_flags|=r.e_enabledFlag:this.m_flags&=~r.e_enabledFlag},r.prototype.IsEnabled=function(){return(this.m_flags&r.e_enabledFlag)==r.e_enabledFlag},r.prototype.GetNext=function(){return this.m_next},r.prototype.GetFixtureA=function(){return this.m_fixtureA},r.prototype.GetFixtureB=function(){return this.m_fixtureB},r.prototype.FlagForFiltering=function(){this.m_flags|=r.e_filterFlag},r.prototype.b2Contact=function(){},r.prototype.Reset=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=null),this.m_flags=r.e_enabledFlag,!t||!e)return this.m_fixtureA=null,void(this.m_fixtureB=null);(t.IsSensor()||e.IsSensor())&&(this.m_flags|=r.e_sensorFlag);var i=t.GetBody(),o=e.GetBody();(i.GetType()!=v.b2_dynamicBody||i.IsBullet()||o.GetType()!=v.b2_dynamicBody||o.IsBullet())&&(this.m_flags|=r.e_continuousFlag),this.m_fixtureA=t,this.m_fixtureB=e,this.m_manifold.m_pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.contact=null,this.m_nodeA.prev=null,this.m_nodeA.next=null,this.m_nodeA.other=null,this.m_nodeB.contact=null,this.m_nodeB.prev=null,this.m_nodeB.next=null,this.m_nodeB.other=null},r.prototype.Update=function(t){var e=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=e,this.m_flags|=r.e_enabledFlag;var i=!1,n=(this.m_flags&r.e_touchingFlag)==r.e_touchingFlag,s=this.m_fixtureA.m_body,a=this.m_fixtureB.m_body,l=this.m_fixtureA.m_aabb.TestOverlap(this.m_fixtureB.m_aabb),h=!1;if("candy"!=s.m_userData.entity.type&&"candy"!=a.m_userData.entity.type||(h=!0),this.m_flags&r.e_sensorFlag){if(l){var p=this.m_fixtureA.GetShape(),c=this.m_fixtureB.GetShape(),m=s.GetTransform(),d=a.GetTransform();i=o.TestOverlap(p,m,c,d,h)}this.m_manifold.m_pointCount=0}else{if(s.GetType()!=v.b2_dynamicBody||s.IsBullet()||a.GetType()!=v.b2_dynamicBody||a.IsBullet()?this.m_flags|=r.e_continuousFlag:this.m_flags&=~r.e_continuousFlag,l){this.Evaluate(),i=this.m_manifold.m_pointCount>0;for(var u=0;u<this.m_manifold.m_pointCount;++u){var y=this.m_manifold.m_points[u];y.m_normalImpulse=0,y.m_tangentImpulse=0;for(var g=y.m_id,f=0;f<this.m_oldManifold.m_pointCount;++f){var b=this.m_oldManifold.m_points[f];if(b.m_id.key==g.key){y.m_normalImpulse=b.m_normalImpulse,y.m_tangentImpulse=b.m_tangentImpulse;break}}}}else this.m_manifold.m_pointCount=0;i!=n&&(s.SetAwake(!0),a.SetAwake(!0))}i?this.m_flags|=r.e_touchingFlag:this.m_flags&=~r.e_touchingFlag,0==n&&1==i&&t.BeginContact(this),1==n&&0==i&&t.EndContact(this),0==(this.m_flags&r.e_sensorFlag)&&t.PreSolve(this,this.m_oldManifold)},r.prototype.Evaluate=function(){},r.prototype.ComputeTOI=function(t,e){return r.s_input.proxyA.Set(this.m_fixtureA.GetShape()),r.s_input.proxyB.Set(this.m_fixtureB.GetShape()),r.s_input.sweepA=t,r.s_input.sweepB=e,r.s_input.tolerance=C.b2_linearSlop,k.TimeOfImpact(r.s_input)},Box2D.postDefs.push(function(){Box2D.Dynamics.Contacts.b2Contact.e_sensorFlag=1,Box2D.Dynamics.Contacts.b2Contact.e_continuousFlag=2,Box2D.Dynamics.Contacts.b2Contact.e_islandFlag=4,Box2D.Dynamics.Contacts.b2Contact.e_toiFlag=8,Box2D.Dynamics.Contacts.b2Contact.e_touchingFlag=16,Box2D.Dynamics.Contacts.b2Contact.e_enabledFlag=32,Box2D.Dynamics.Contacts.b2Contact.e_filterFlag=64,Box2D.Dynamics.Contacts.b2Contact.s_input=new L}),l.b2ContactConstraint=function(){this.localPlaneNormal=new B,this.localPoint=new B,this.normal=new B,this.normalMass=new D,this.K=new D},l.prototype.b2ContactConstraint=function(){this.points=new s(C.b2_maxManifoldPoints);for(var t=0;t<C.b2_maxManifoldPoints;t++)this.points[t]=new h},h.b2ContactConstraintPoint=function(){this.localPoint=new B,this.rA=new B,this.rB=new B},p.b2ContactEdge=function(){},c.b2ContactFactory=function(){},c.prototype.b2ContactFactory=function(t){this.m_allocator=t,this.InitializeRegisters()},c.prototype.AddType=function(t,e,i,o){void 0===i&&(i=0),void 0===o&&(o=0),this.m_registers[i][o].createFcn=t,this.m_registers[i][o].destroyFcn=e,this.m_registers[i][o].primary=!0,i!=o&&(this.m_registers[o][i].createFcn=t,this.m_registers[o][i].destroyFcn=e,this.m_registers[o][i].primary=!1)},c.prototype.InitializeRegisters=function(){this.m_registers=new s(o.e_shapeTypeCount);for(var t=0;t<o.e_shapeTypeCount;t++){this.m_registers[t]=new s(o.e_shapeTypeCount);for(var e=0;e<o.e_shapeTypeCount;e++)this.m_registers[t][e]=new m}this.AddType(n.Create,n.Destroy,o.e_circleShape,o.e_circleShape),this.AddType(f.Create,f.Destroy,o.e_polygonShape,o.e_circleShape),this.AddType(x.Create,x.Destroy,o.e_polygonShape,o.e_polygonShape),this.AddType(y.Create,y.Destroy,o.e_edgeShape,o.e_circleShape),this.AddType(b.Create,b.Destroy,o.e_polygonShape,o.e_edgeShape)},c.prototype.Create=function(t,e){var i,o=parseInt(t.GetType()),n=parseInt(e.GetType()),s=this.m_registers[o][n];if(s.pool)return i=s.pool,s.pool=i.m_next,s.poolCount--,i.Reset(t,e),i;var a=s.createFcn;return null!=a?s.primary?((i=a(this.m_allocator)).Reset(t,e),i):((i=a(this.m_allocator)).Reset(e,t),i):null},c.prototype.Destroy=function(t){t.m_manifold.m_pointCount>0&&(t.m_fixtureA.m_body.SetAwake(!0),t.m_fixtureB.m_body.SetAwake(!0));var e=parseInt(t.m_fixtureA.GetType()),i=parseInt(t.m_fixtureB.GetType()),o=this.m_registers[e][i];o.poolCount++,t.m_next=o.pool,o.pool=t,(0,o.destroyFcn)(t,this.m_allocator)},m.b2ContactRegister=function(){},d.b2ContactResult=function(){this.position=new B,this.normal=new B,this.id=new I},u.b2ContactSolver=function(){this.m_step=new w,this.m_constraints=new s},u.prototype.b2ContactSolver=function(){},u.prototype.Initialize=function(t,e,i,o){var n;void 0===i&&(i=0),this.m_step.Set(t),this.m_allocator=o;var s=0;for(this.m_constraintCount=i;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new l;for(s=0;s<i;++s){var a=(n=e[s]).m_fixtureA,r=n.m_fixtureB,h=a.m_shape,p=r.m_shape,c=h.m_radius,m=p.m_radius,d=a.m_body,y=r.m_body,g=n.GetManifold(),f=C.b2MixFriction(a.GetFriction(),r.GetFriction()),b=C.b2MixRestitution(a.GetRestitution(),r.GetRestitution()),x=d.m_linearVelocity.x,_=d.m_linearVelocity.y,v=y.m_linearVelocity.x,w=y.m_linearVelocity.y,D=d.m_angularVelocity,S=y.m_angularVelocity;C.b2Assert(g.m_pointCount>0),u.s_worldManifold.Initialize(g,d.m_xf,c,y.m_xf,m);var B=u.s_worldManifold.m_normal.x,A=u.s_worldManifold.m_normal.y,I=this.m_constraints[s];I.bodyA=d,I.bodyB=y,I.manifold=g,I.normal.x=B,I.normal.y=A,I.pointCount=g.m_pointCount,I.friction=f,I.restitution=b,I.localPlaneNormal.x=g.m_localPlaneNormal.x,I.localPlaneNormal.y=g.m_localPlaneNormal.y,I.localPoint.x=g.m_localPoint.x,I.localPoint.y=g.m_localPoint.y,I.radius=c+m,I.type=g.m_type;for(var M=0;M<I.pointCount;++M){var k=g.m_points[M],L=I.points[M];L.normalImpulse=k.m_normalImpulse,L.tangentImpulse=k.m_tangentImpulse,L.localPoint.SetV(k.m_localPoint);var T=L.rA.x=u.s_worldManifold.m_points[M].x-d.m_sweep.c.x,E=L.rA.y=u.s_worldManifold.m_points[M].y-d.m_sweep.c.y,V=L.rB.x=u.s_worldManifold.m_points[M].x-y.m_sweep.c.x,P=L.rB.y=u.s_worldManifold.m_points[M].y-y.m_sweep.c.y,G=T*A-E*B,F=V*A-P*B;G*=G,F*=F;var X=d.m_invMass+y.m_invMass+d.m_invI*G+y.m_invI*F;L.normalMass=1/X;var N=d.m_mass*d.m_invMass+y.m_mass*y.m_invMass;N+=d.m_mass*d.m_invI*G+y.m_mass*y.m_invI*F,L.equalizedMass=1/N;var Y=-B,R=T*Y-E*A,J=V*Y-P*A;R*=R,J*=J;var j=d.m_invMass+y.m_invMass+d.m_invI*R+y.m_invI*J;L.tangentMass=1/j,L.velocityBias=0;var z=v+-S*P-x- -D*E,O=w+S*V-_-D*T,W=I.normal.x*z+I.normal.y*O;W<-C.b2_velocityThreshold&&(L.velocityBias+=-I.restitution*W)}if(2==I.pointCount){var H=I.points[0],Z=I.points[1],U=d.m_invMass,q=d.m_invI,K=y.m_invMass,Q=y.m_invI,$=H.rA.x*A-H.rA.y*B,tt=H.rB.x*A-H.rB.y*B,et=Z.rA.x*A-Z.rA.y*B,it=Z.rB.x*A-Z.rB.y*B,ot=U+K+q*$*$+Q*tt*tt,nt=U+K+q*et*et+Q*it*it,st=U+K+q*$*et+Q*tt*it;ot*ot<100*(ot*nt-st*st)?(I.K.col1.Set(ot,st),I.K.col2.Set(st,nt),I.K.GetInverse(I.normalMass)):I.pointCount=1}}},u.prototype.InitVelocityConstraints=function(t){for(var e=0;e<this.m_constraintCount;++e){var i=this.m_constraints[e],o=i.bodyA,n=i.bodyB,s=o.m_invMass,a=o.m_invI,r=n.m_invMass,l=n.m_invI,h=i.normal.x,p=i.normal.y,c=p,m=-h,d=0,u=0;if(t.warmStarting)for(u=i.pointCount,d=0;d<u;++d){var y=i.points[d];y.normalImpulse*=t.dtRatio,y.tangentImpulse*=t.dtRatio;var g=y.normalImpulse*h+y.tangentImpulse*c,f=y.normalImpulse*p+y.tangentImpulse*m;o.m_angularVelocity-=a*(y.rA.x*f-y.rA.y*g),o.m_linearVelocity.x-=s*g,o.m_linearVelocity.y-=s*f,n.m_angularVelocity+=l*(y.rB.x*f-y.rB.y*g),n.m_linearVelocity.x+=r*g,n.m_linearVelocity.y+=r*f}else for(u=i.pointCount,d=0;d<u;++d){var b=i.points[d];b.normalImpulse=0,b.tangentImpulse=0}}},u.prototype.SolveVelocityConstraints=function(){for(var t,e,i=0,o=0,n=0,s=0,a=0,r=0,l=0,h=0,p=0,c=0,m=0,d=0,u=0,y=0,g=0;g<this.m_constraintCount;++g){var f=this.m_constraints[g],b=f.bodyA,x=f.bodyB,_=b.m_angularVelocity,v=x.m_angularVelocity,w=b.m_linearVelocity,C=x.m_linearVelocity,D=b.m_invMass,B=b.m_invI,A=x.m_invMass,I=x.m_invI,M=f.normal.x,k=f.normal.y,L=k,T=-M,E=f.friction;for(i=0;i<f.pointCount;i++)t=f.points[i],n=(C.x-v*t.rB.y-w.x+_*t.rA.y)*L+(C.y+v*t.rB.x-w.y-_*t.rA.x)*T,s=t.tangentMass*-n,a=E*t.normalImpulse,l=(s=(r=S.Clamp(t.tangentImpulse+s,-a,a))-t.tangentImpulse)*L,h=s*T,w.x-=D*l,w.y-=D*h,_-=B*(t.rA.x*h-t.rA.y*l),C.x+=A*l,C.y+=A*h,v+=I*(t.rB.x*h-t.rB.y*l),t.tangentImpulse=r;parseInt(f.pointCount);if(1==f.pointCount)t=f.points[0],o=(C.x+-v*t.rB.y-w.x- -_*t.rA.y)*M+(C.y+v*t.rB.x-w.y-_*t.rA.x)*k,s=-t.normalMass*(o-t.velocityBias),l=(s=(r=(r=t.normalImpulse+s)>0?r:0)-t.normalImpulse)*M,h=s*k,w.x-=D*l,w.y-=D*h,_-=B*(t.rA.x*h-t.rA.y*l),C.x+=A*l,C.y+=A*h,v+=I*(t.rB.x*h-t.rB.y*l),t.normalImpulse=r;else{var V=f.points[0],P=f.points[1],G=V.normalImpulse,F=P.normalImpulse,X=(C.x-v*V.rB.y-w.x+_*V.rA.y)*M+(C.y+v*V.rB.x-w.y-_*V.rA.x)*k,N=(C.x-v*P.rB.y-w.x+_*P.rA.y)*M+(C.y+v*P.rB.x-w.y-_*P.rA.x)*k,Y=X-V.velocityBias,R=N-P.velocityBias;Y-=(e=f.K).col1.x*G+e.col2.x*F,R-=e.col1.y*G+e.col2.y*F;for(;;){var J=-((e=f.normalMass).col1.x*Y+e.col2.x*R),j=-(e.col1.y*Y+e.col2.y*R);if(J>=0&&j>=0){m=(p=J-G)*M,d=p*k,u=(c=j-F)*M,y=c*k,w.x-=D*(m+u),w.y-=D*(d+y),_-=B*(V.rA.x*d-V.rA.y*m+P.rA.x*y-P.rA.y*u),C.x+=A*(m+u),C.y+=A*(d+y),v+=I*(V.rB.x*d-V.rB.y*m+P.rB.x*y-P.rB.y*u),V.normalImpulse=J,P.normalImpulse=j;break}if(J=-V.normalMass*Y,j=0,X=0,N=f.K.col1.y*J+R,J>=0&&N>=0){m=(p=J-G)*M,d=p*k,u=(c=j-F)*M,y=c*k,w.x-=D*(m+u),w.y-=D*(d+y),_-=B*(V.rA.x*d-V.rA.y*m+P.rA.x*y-P.rA.y*u),C.x+=A*(m+u),C.y+=A*(d+y),v+=I*(V.rB.x*d-V.rB.y*m+P.rB.x*y-P.rB.y*u),V.normalImpulse=J,P.normalImpulse=j;break}if(J=0,j=-P.normalMass*R,X=f.K.col2.x*j+Y,N=0,j>=0&&X>=0){m=(p=J-G)*M,d=p*k,u=(c=j-F)*M,y=c*k,w.x-=D*(m+u),w.y-=D*(d+y),_-=B*(V.rA.x*d-V.rA.y*m+P.rA.x*y-P.rA.y*u),C.x+=A*(m+u),C.y+=A*(d+y),v+=I*(V.rB.x*d-V.rB.y*m+P.rB.x*y-P.rB.y*u),V.normalImpulse=J,P.normalImpulse=j;break}if(J=0,j=0,N=R,(X=Y)>=0&&N>=0){m=(p=J-G)*M,d=p*k,u=(c=j-F)*M,y=c*k,w.x-=D*(m+u),w.y-=D*(d+y),_-=B*(V.rA.x*d-V.rA.y*m+P.rA.x*y-P.rA.y*u),C.x+=A*(m+u),C.y+=A*(d+y),v+=I*(V.rB.x*d-V.rB.y*m+P.rB.x*y-P.rB.y*u),V.normalImpulse=J,P.normalImpulse=j;break}break}}b.m_angularVelocity=_,x.m_angularVelocity=v}},u.prototype.FinalizeVelocityConstraints=function(){for(var t=0;t<this.m_constraintCount;++t)for(var e=this.m_constraints[t],i=e.manifold,o=0;o<e.pointCount;++o){var n=i.m_points[o],s=e.points[o];n.m_normalImpulse=s.normalImpulse,n.m_tangentImpulse=s.tangentImpulse}},u.prototype.SolvePositionConstraints=function(t){void 0===t&&(t=0);for(var e=0,i=0;i<this.m_constraintCount;i++){var o=this.m_constraints[i],n=o.bodyA,s=o.bodyB,a=n.m_mass*n.m_invMass,r=n.m_mass*n.m_invI,l=s.m_mass*s.m_invMass,h=s.m_mass*s.m_invI;u.s_psm.Initialize(o);for(var p=u.s_psm.m_normal,c=0;c<o.pointCount;c++){var m=o.points[c],d=u.s_psm.m_points[c],y=u.s_psm.m_separations[c],g=d.x-n.m_sweep.c.x,f=d.y-n.m_sweep.c.y,b=d.x-s.m_sweep.c.x,x=d.y-s.m_sweep.c.y;e=e<y?e:y;var _=S.Clamp(t*(y+C.b2_linearSlop),-C.b2_maxLinearCorrection,0),v=-m.equalizedMass*_,w=v*p.x,D=v*p.y;n.m_sweep.c.x-=a*w,n.m_sweep.c.y-=a*D,n.m_sweep.a-=r*(g*D-f*w),n.SynchronizeTransform(),s.m_sweep.c.x+=l*w,s.m_sweep.c.y+=l*D,s.m_sweep.a+=h*(b*D-x*w),s.SynchronizeTransform()}}return e>-1.5*C.b2_linearSlop},Box2D.postDefs.push(function(){Box2D.Dynamics.Contacts.b2ContactSolver.s_worldManifold=new T,Box2D.Dynamics.Contacts.b2ContactSolver.s_psm=new _}),Box2D.inherit(y,Box2D.Dynamics.Contacts.b2Contact),y.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype,y.b2EdgeAndCircleContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},y.Create=function(t){return new y},y.Destroy=function(t,e){},y.prototype.Reset=function(t,e){this.__super.Reset.call(this,t,e)},y.prototype.Evaluate=function(){var i=this.m_fixtureA.GetBody(),o=this.m_fixtureB.GetBody();this.b2CollideEdgeAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof e?this.m_fixtureA.GetShape():null,i.m_xf,this.m_fixtureB.GetShape()instanceof t?this.m_fixtureB.GetShape():null,o.m_xf)},y.prototype.b2CollideEdgeAndCircle=function(t,e,i,o,n){},Box2D.inherit(g,Box2D.Dynamics.Contacts.b2Contact),g.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype,g.b2NullContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},g.prototype.b2NullContact=function(){this.__super.b2Contact.call(this)},g.prototype.Evaluate=function(){},Box2D.inherit(f,Box2D.Dynamics.Contacts.b2Contact),f.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype,f.b2PolyAndCircleContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},f.Create=function(t){return new f},f.Destroy=function(t,e){},f.prototype.Reset=function(t,e){this.__super.Reset.call(this,t,e),C.b2Assert(t.GetType()==o.e_polygonShape),C.b2Assert(e.GetType()==o.e_circleShape)},f.prototype.Evaluate=function(){var e=this.m_fixtureA.m_body,o=this.m_fixtureB.m_body;A.CollidePolygonAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof i?this.m_fixtureA.GetShape():null,e.m_xf,this.m_fixtureB.GetShape()instanceof t?this.m_fixtureB.GetShape():null,o.m_xf)},Box2D.inherit(b,Box2D.Dynamics.Contacts.b2Contact),b.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype,b.b2PolyAndEdgeContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},b.Create=function(t){return new b},b.Destroy=function(t,e){},b.prototype.Reset=function(t,e){this.__super.Reset.call(this,t,e),C.b2Assert(t.GetType()==o.e_polygonShape),C.b2Assert(e.GetType()==o.e_edgeShape)},b.prototype.Evaluate=function(){var t=this.m_fixtureA.GetBody(),o=this.m_fixtureB.GetBody();this.b2CollidePolyAndEdge(this.m_manifold,this.m_fixtureA.GetShape()instanceof i?this.m_fixtureA.GetShape():null,t.m_xf,this.m_fixtureB.GetShape()instanceof e?this.m_fixtureB.GetShape():null,o.m_xf)},b.prototype.b2CollidePolyAndEdge=function(t,e,i,o,n){},Box2D.inherit(x,Box2D.Dynamics.Contacts.b2Contact),x.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype,x.b2PolygonContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},x.Create=function(t){return new x},x.Destroy=function(t,e){},x.prototype.Reset=function(t,e){this.__super.Reset.call(this,t,e)},x.prototype.Evaluate=function(){var t=this.m_fixtureA.GetBody(),e=this.m_fixtureB.GetBody();A.CollidePolygons(this.m_manifold,this.m_fixtureA.GetShape()instanceof i?this.m_fixtureA.GetShape():null,t.m_xf,this.m_fixtureB.GetShape()instanceof i?this.m_fixtureB.GetShape():null,e.m_xf)},_.b2PositionSolverManifold=function(){},_.prototype.b2PositionSolverManifold=function(){this.m_normal=new B,this.m_separations=new a(C.b2_maxManifoldPoints),this.m_points=new s(C.b2_maxManifoldPoints);for(var t=0;t<C.b2_maxManifoldPoints;t++)this.m_points[t]=new B},_.prototype.Initialize=function(t){C.b2Assert(t.pointCount>0);var e,i,o=0,n=0,s=0,a=0,r=0;switch(t.type){case M.e_circles:e=t.bodyA.m_xf.R,i=t.localPoint;var l=t.bodyA.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),h=t.bodyA.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y);e=t.bodyB.m_xf.R,i=t.points[0].localPoint;var p=t.bodyB.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),c=t.bodyB.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y),m=p-l,d=c-h,u=m*m+d*d;if(u>Number.MIN_VALUE*Number.MIN_VALUE){var y=Math.sqrt(u);this.m_normal.x=m/y,this.m_normal.y=d/y}else this.m_normal.x=1,this.m_normal.y=0;this.m_points[0].x=.5*(l+p),this.m_points[0].y=.5*(h+c),this.m_separations[0]=m*this.m_normal.x+d*this.m_normal.y-t.radius;break;case M.e_faceA:for(e=t.bodyA.m_xf.R,i=t.localPlaneNormal,this.m_normal.x=e.col1.x*i.x+e.col2.x*i.y,this.m_normal.y=e.col1.y*i.x+e.col2.y*i.y,e=t.bodyA.m_xf.R,i=t.localPoint,a=t.bodyA.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),r=t.bodyA.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y),e=t.bodyB.m_xf.R,o=0;o<t.pointCount;++o)i=t.points[o].localPoint,n=t.bodyB.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),s=t.bodyB.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y),this.m_separations[o]=(n-a)*this.m_normal.x+(s-r)*this.m_normal.y-t.radius,this.m_points[o].x=n,this.m_points[o].y=s;break;case M.e_faceB:for(e=t.bodyB.m_xf.R,i=t.localPlaneNormal,this.m_normal.x=e.col1.x*i.x+e.col2.x*i.y,this.m_normal.y=e.col1.y*i.x+e.col2.y*i.y,e=t.bodyB.m_xf.R,i=t.localPoint,a=t.bodyB.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),r=t.bodyB.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y),e=t.bodyA.m_xf.R,o=0;o<t.pointCount;++o)i=t.points[o].localPoint,n=t.bodyA.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),s=t.bodyA.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y),this.m_separations[o]=(n-a)*this.m_normal.x+(s-r)*this.m_normal.y-t.radius,this.m_points[o].Set(n,s);this.m_normal.x*=-1,this.m_normal.y*=-1}},Box2D.postDefs.push(function(){Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointA=new B,Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointB=new B})}(),function(){Box2D.Dynamics.b2Body,Box2D.Dynamics.b2BodyDef,Box2D.Dynamics.b2ContactFilter,Box2D.Dynamics.b2ContactImpulse,Box2D.Dynamics.b2ContactListener,Box2D.Dynamics.b2ContactManager,Box2D.Dynamics.b2DebugDraw,Box2D.Dynamics.b2DestructionListener,Box2D.Dynamics.b2FilterData,Box2D.Dynamics.b2Fixture,Box2D.Dynamics.b2FixtureDef,Box2D.Dynamics.b2Island,Box2D.Dynamics.b2TimeStep,Box2D.Dynamics.b2World;var t=Box2D.Common.Math.b2Mat22,e=(Box2D.Common.Math.b2Mat33,Box2D.Common.Math.b2Math),i=(Box2D.Common.Math.b2Sweep,Box2D.Common.Math.b2Transform,Box2D.Common.Math.b2Vec2),o=(Box2D.Common.Math.b2Vec3,Box2D.Common.b2Color),n=(Box2D.Common.b2internal,Box2D.Common.b2Settings,Box2D.Collision.Shapes.b2CircleShape,Box2D.Collision.Shapes.b2EdgeChainDef,Box2D.Collision.Shapes.b2EdgeShape,Box2D.Collision.Shapes.b2MassData,Box2D.Collision.Shapes.b2PolygonShape,Box2D.Collision.Shapes.b2Shape,Box2D.Dynamics.Controllers.b2BuoyancyController),s=Box2D.Dynamics.Controllers.b2ConstantAccelController,a=Box2D.Dynamics.Controllers.b2ConstantForceController,r=Box2D.Dynamics.Controllers.b2Controller,l=Box2D.Dynamics.Controllers.b2ControllerEdge,h=Box2D.Dynamics.Controllers.b2GravityController,p=Box2D.Dynamics.Controllers.b2TensorDampingController;Box2D.inherit(n,Box2D.Dynamics.Controllers.b2Controller),n.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype,n.b2BuoyancyController=function(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.normal=new i(0,-1),this.offset=0,this.density=0,this.velocity=new i(0,0),this.linearDrag=2,this.angularDrag=1,this.useDensity=!1,this.useWorldGravity=!0,this.gravity=null},n.prototype.Step=function(t){if(this.m_bodyList){this.useWorldGravity&&(this.gravity=this.GetWorld().GetGravity().Copy());for(var e=this.m_bodyList;e;e=e.nextBody){var o=e.body;if(0!=o.IsAwake()){for(var n=new i,s=new i,a=0,r=0,l=o.GetFixtureList();l;l=l.GetNext()){var h=new i,p=l.GetShape().ComputeSubmergedArea(this.normal,this.offset,o.GetTransform(),h);a+=p,n.x+=p*h.x,n.y+=p*h.y;var c=0;r+=p*(c=(this.useDensity,1)),s.x+=p*h.x*c,s.y+=p*h.y*c}if(n.x/=a,n.y/=a,s.x/=r,s.y/=r,!(a<Number.MIN_VALUE)){var m=this.gravity.GetNegative();m.Multiply(this.density*a),o.ApplyForce(m,s);var d=o.GetLinearVelocityFromWorldPoint(n);d.Subtract(this.velocity),d.Multiply(-this.linearDrag*a),o.ApplyForce(d,n),o.ApplyTorque(-o.GetInertia()/o.GetMass()*a*o.GetAngularVelocity()*this.angularDrag)}}}}},n.prototype.Draw=function(t){var e=1e3,n=new i,s=new i;n.x=this.normal.x*this.offset+this.normal.y*e,n.y=this.normal.y*this.offset-this.normal.x*e,s.x=this.normal.x*this.offset-this.normal.y*e,s.y=this.normal.y*this.offset+this.normal.x*e;var a=new o(0,0,1);t.DrawSegment(n,s,a)},Box2D.inherit(s,Box2D.Dynamics.Controllers.b2Controller),s.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype,s.b2ConstantAccelController=function(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.A=new i(0,0)},s.prototype.Step=function(t){for(var e=new i(this.A.x*t.dt,this.A.y*t.dt),o=this.m_bodyList;o;o=o.nextBody){var n=o.body;n.IsAwake()&&n.SetLinearVelocity(new i(n.GetLinearVelocity().x+e.x,n.GetLinearVelocity().y+e.y))}},Box2D.inherit(a,Box2D.Dynamics.Controllers.b2Controller),a.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype,a.b2ConstantForceController=function(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.F=new i(0,0)},a.prototype.Step=function(t){for(var e=this.m_bodyList;e;e=e.nextBody){var i=e.body;i.IsAwake()&&i.ApplyForce(this.F,i.GetWorldCenter())}},r.b2Controller=function(){},r.prototype.Step=function(t){},r.prototype.Draw=function(t){},r.prototype.AddBody=function(t){var e=new l;e.controller=this,e.body=t,e.nextBody=this.m_bodyList,e.prevBody=null,this.m_bodyList=e,e.nextBody&&(e.nextBody.prevBody=e),this.m_bodyCount++,e.nextController=t.m_controllerList,e.prevController=null,t.m_controllerList=e,e.nextController&&(e.nextController.prevController=e),t.m_controllerCount++},r.prototype.RemoveBody=function(t){for(var e=t.m_controllerList;e&&e.controller!=this;)e=e.nextController;e.prevBody&&(e.prevBody.nextBody=e.nextBody),e.nextBody&&(e.nextBody.prevBody=e.prevBody),e.nextController&&(e.nextController.prevController=e.prevController),e.prevController&&(e.prevController.nextController=e.nextController),this.m_bodyList==e&&(this.m_bodyList=e.nextBody),t.m_controllerList==e&&(t.m_controllerList=e.nextController),t.m_controllerCount--,this.m_bodyCount--},r.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body)},r.prototype.GetNext=function(){return this.m_next},r.prototype.GetWorld=function(){return this.m_world},r.prototype.GetBodyList=function(){return this.m_bodyList},l.b2ControllerEdge=function(){},Box2D.inherit(h,Box2D.Dynamics.Controllers.b2Controller),h.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype,h.b2GravityController=function(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.G=1,this.invSqr=!0},h.prototype.Step=function(t){var e=null,o=null,n=null,s=0,a=null,r=null,l=null,h=0,p=0,c=0,m=null;if(this.invSqr)for(e=this.m_bodyList;e;e=e.nextBody)for(n=(o=e.body).GetWorldCenter(),s=o.GetMass(),a=this.m_bodyList;a!=e;a=a.nextBody)(c=(h=(l=(r=a.body).GetWorldCenter()).x-n.x)*h+(p=l.y-n.y)*p)<Number.MIN_VALUE||((m=new i(h,p)).Multiply(this.G/c/Math.sqrt(c)*s*r.GetMass()),o.IsAwake()&&o.ApplyForce(m,n),m.Multiply(-1),r.IsAwake()&&r.ApplyForce(m,l));else for(e=this.m_bodyList;e;e=e.nextBody)for(n=(o=e.body).GetWorldCenter(),s=o.GetMass(),a=this.m_bodyList;a!=e;a=a.nextBody)(c=(h=(l=(r=a.body).GetWorldCenter()).x-n.x)*h+(p=l.y-n.y)*p)<Number.MIN_VALUE||((m=new i(h,p)).Multiply(this.G/c*s*r.GetMass()),o.IsAwake()&&o.ApplyForce(m,n),m.Multiply(-1),r.IsAwake()&&r.ApplyForce(m,l))},Box2D.inherit(p,Box2D.Dynamics.Controllers.b2Controller),p.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype,p.b2TensorDampingController=function(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.T=new t,this.maxTimestep=0},p.prototype.SetAxisAligned=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.T.col1.x=-t,this.T.col1.y=0,this.T.col2.x=0,this.T.col2.y=-e,this.maxTimestep=t>0||e>0?1/Math.max(t,e):0},p.prototype.Step=function(t){var o=t.dt;if(!(o<=Number.MIN_VALUE)){o>this.maxTimestep&&this.maxTimestep>0&&(o=this.maxTimestep);for(var n=this.m_bodyList;n;n=n.nextBody){var s=n.body;if(s.IsAwake()){var a=s.GetWorldVector(e.MulMV(this.T,s.GetLocalVector(s.GetLinearVelocity())));s.SetLinearVelocity(new i(s.GetLinearVelocity().x+a.x*o,s.GetLinearVelocity().y+a.y*o))}}}}}(),function(){Box2D.Common.b2Color,Box2D.Common.b2internal;var t=Box2D.Common.b2Settings,e=Box2D.Common.Math.b2Mat22,i=Box2D.Common.Math.b2Mat33,o=Box2D.Common.Math.b2Math,n=(Box2D.Common.Math.b2Sweep,Box2D.Common.Math.b2Transform,Box2D.Common.Math.b2Vec2),s=Box2D.Common.Math.b2Vec3,a=Box2D.Dynamics.Joints.b2DistanceJoint,r=Box2D.Dynamics.Joints.b2DistanceJointDef,l=Box2D.Dynamics.Joints.b2FrictionJoint,h=Box2D.Dynamics.Joints.b2FrictionJointDef,p=Box2D.Dynamics.Joints.b2GearJoint,c=Box2D.Dynamics.Joints.b2GearJointDef,m=Box2D.Dynamics.Joints.b2Jacobian,d=Box2D.Dynamics.Joints.b2Joint,u=Box2D.Dynamics.Joints.b2JointDef,y=Box2D.Dynamics.Joints.b2JointEdge,g=Box2D.Dynamics.Joints.b2LineJoint,f=Box2D.Dynamics.Joints.b2LineJointDef,b=Box2D.Dynamics.Joints.b2MouseJoint,x=Box2D.Dynamics.Joints.b2MouseJointDef,_=Box2D.Dynamics.Joints.b2PrismaticJoint,v=Box2D.Dynamics.Joints.b2PrismaticJointDef,w=Box2D.Dynamics.Joints.b2PulleyJoint,C=Box2D.Dynamics.Joints.b2PulleyJointDef,D=Box2D.Dynamics.Joints.b2RevoluteJoint,S=Box2D.Dynamics.Joints.b2RevoluteJointDef,B=Box2D.Dynamics.Joints.b2WeldJoint,A=Box2D.Dynamics.Joints.b2WeldJointDef;Box2D.Dynamics.b2Body,Box2D.Dynamics.b2BodyDef,Box2D.Dynamics.b2ContactFilter,Box2D.Dynamics.b2ContactImpulse,Box2D.Dynamics.b2ContactListener,Box2D.Dynamics.b2ContactManager,Box2D.Dynamics.b2DebugDraw,Box2D.Dynamics.b2DestructionListener,Box2D.Dynamics.b2FilterData,Box2D.Dynamics.b2Fixture,Box2D.Dynamics.b2FixtureDef,Box2D.Dynamics.b2Island,Box2D.Dynamics.b2TimeStep,Box2D.Dynamics.b2World;Box2D.inherit(a,Box2D.Dynamics.Joints.b2Joint),a.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype,a.b2DistanceJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new n,this.m_localAnchor2=new n,this.m_u=new n},a.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},a.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},a.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new n(t*this.m_impulse*this.m_u.x,t*this.m_impulse*this.m_u.y)},a.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),0},a.prototype.GetLength=function(){return this.m_length},a.prototype.SetLength=function(t){void 0===t&&(t=0),this.m_length=t},a.prototype.GetFrequency=function(){return this.m_frequencyHz},a.prototype.SetFrequency=function(t){void 0===t&&(t=0),this.m_frequencyHz=t},a.prototype.GetDampingRatio=function(){return this.m_dampingRatio},a.prototype.SetDampingRatio=function(t){void 0===t&&(t=0),this.m_dampingRatio=t},a.prototype.b2DistanceJoint=function(t){this.__super.b2Joint.call(this,t);this.m_localAnchor1.SetV(t.localAnchorA),this.m_localAnchor2.SetV(t.localAnchorB),this.m_length=t.length,this.m_frequencyHz=t.frequencyHz,this.m_dampingRatio=t.dampingRatio,this.m_impulse=0,this.m_gamma=0,this.m_bias=0},a.prototype.InitVelocityConstraints=function(e){var i,o=0,n=this.m_bodyA,s=this.m_bodyB;i=n.m_xf.R;var a=this.m_localAnchor1.x-n.m_sweep.localCenter.x,r=this.m_localAnchor1.y-n.m_sweep.localCenter.y;o=i.col1.x*a+i.col2.x*r,r=i.col1.y*a+i.col2.y*r,a=o,i=s.m_xf.R;var l=this.m_localAnchor2.x-s.m_sweep.localCenter.x,h=this.m_localAnchor2.y-s.m_sweep.localCenter.y;o=i.col1.x*l+i.col2.x*h,h=i.col1.y*l+i.col2.y*h,l=o,this.m_u.x=s.m_sweep.c.x+l-n.m_sweep.c.x-a,this.m_u.y=s.m_sweep.c.y+h-n.m_sweep.c.y-r;var p=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);p>t.b2_linearSlop?this.m_u.Multiply(1/p):this.m_u.SetZero();var c=a*this.m_u.y-r*this.m_u.x,m=l*this.m_u.y-h*this.m_u.x,d=n.m_invMass+n.m_invI*c*c+s.m_invMass+s.m_invI*m*m;if(this.m_mass=0!=d?1/d:0,this.m_frequencyHz>0){var u=p-this.m_length,y=2*Math.PI*this.m_frequencyHz,g=2*this.m_mass*this.m_dampingRatio*y,f=this.m_mass*y*y;this.m_gamma=e.dt*(g+e.dt*f),this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0,this.m_bias=u*e.dt*f*this.m_gamma,this.m_mass=d+this.m_gamma,this.m_mass=0!=this.m_mass?1/this.m_mass:0}if(e.warmStarting){this.m_impulse*=e.dtRatio;var b=this.m_impulse*this.m_u.x,x=this.m_impulse*this.m_u.y;n.m_linearVelocity.x-=n.m_invMass*b,n.m_linearVelocity.y-=n.m_invMass*x,n.m_angularVelocity-=n.m_invI*(a*x-r*b),s.m_linearVelocity.x+=s.m_invMass*b,s.m_linearVelocity.y+=s.m_invMass*x,s.m_angularVelocity+=s.m_invI*(l*x-h*b)}else this.m_impulse=0},a.prototype.SolveVelocityConstraints=function(t){var e,i=this.m_bodyA,o=this.m_bodyB;e=i.m_xf.R;var n=this.m_localAnchor1.x-i.m_sweep.localCenter.x,s=this.m_localAnchor1.y-i.m_sweep.localCenter.y,a=e.col1.x*n+e.col2.x*s;s=e.col1.y*n+e.col2.y*s,n=a,e=o.m_xf.R;var r=this.m_localAnchor2.x-o.m_sweep.localCenter.x,l=this.m_localAnchor2.y-o.m_sweep.localCenter.y;a=e.col1.x*r+e.col2.x*l,l=e.col1.y*r+e.col2.y*l,r=a;var h=i.m_linearVelocity.x+-i.m_angularVelocity*s,p=i.m_linearVelocity.y+i.m_angularVelocity*n,c=o.m_linearVelocity.x+-o.m_angularVelocity*l,m=o.m_linearVelocity.y+o.m_angularVelocity*r,d=this.m_u.x*(c-h)+this.m_u.y*(m-p),u=-this.m_mass*(d+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=u;var y=u*this.m_u.x,g=u*this.m_u.y;i.m_linearVelocity.x-=i.m_invMass*y,i.m_linearVelocity.y-=i.m_invMass*g,i.m_angularVelocity-=i.m_invI*(n*g-s*y),o.m_linearVelocity.x+=o.m_invMass*y,o.m_linearVelocity.y+=o.m_invMass*g,o.m_angularVelocity+=o.m_invI*(r*g-l*y)},a.prototype.SolvePositionConstraints=function(e){var i;if(void 0===e&&(e=0),this.m_frequencyHz>0)return!0;var n=this.m_bodyA,s=this.m_bodyB;i=n.m_xf.R;var a=this.m_localAnchor1.x-n.m_sweep.localCenter.x,r=this.m_localAnchor1.y-n.m_sweep.localCenter.y,l=i.col1.x*a+i.col2.x*r;r=i.col1.y*a+i.col2.y*r,a=l,i=s.m_xf.R;var h=this.m_localAnchor2.x-s.m_sweep.localCenter.x,p=this.m_localAnchor2.y-s.m_sweep.localCenter.y;l=i.col1.x*h+i.col2.x*p,p=i.col1.y*h+i.col2.y*p,h=l;var c=s.m_sweep.c.x+h-n.m_sweep.c.x-a,m=s.m_sweep.c.y+p-n.m_sweep.c.y-r,d=Math.sqrt(c*c+m*m);c/=d,m/=d;var u=d-this.m_length;u=o.Clamp(u,-t.b2_maxLinearCorrection,t.b2_maxLinearCorrection);var y=-this.m_mass*u;this.m_u.Set(c,m);var g=y*this.m_u.x,f=y*this.m_u.y;return n.m_sweep.c.x-=n.m_invMass*g,n.m_sweep.c.y-=n.m_invMass*f,n.m_sweep.a-=n.m_invI*(a*f-r*g),s.m_sweep.c.x+=s.m_invMass*g,s.m_sweep.c.y+=s.m_invMass*f,s.m_sweep.a+=s.m_invI*(h*f-p*g),n.SynchronizeTransform(),s.SynchronizeTransform(),o.Abs(u)<t.b2_linearSlop},Box2D.inherit(r,Box2D.Dynamics.Joints.b2JointDef),r.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype,r.b2DistanceJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new n,this.localAnchorB=new n},r.prototype.b2DistanceJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_distanceJoint,this.length=1,this.frequencyHz=0,this.dampingRatio=0},r.prototype.Initialize=function(t,e,i,o){this.bodyA=t,this.bodyB=e,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(i)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(o));var n=o.x-i.x,s=o.y-i.y;this.length=Math.sqrt(n*n+s*s),this.frequencyHz=0,this.dampingRatio=0},Box2D.inherit(l,Box2D.Dynamics.Joints.b2Joint),l.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype,l.b2FrictionJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchorA=new n,this.m_localAnchorB=new n,this.m_linearMass=new e,this.m_linearImpulse=new n},l.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)},l.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)},l.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new n(t*this.m_linearImpulse.x,t*this.m_linearImpulse.y)},l.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),t*this.m_angularImpulse},l.prototype.SetMaxForce=function(t){void 0===t&&(t=0),this.m_maxForce=t},l.prototype.GetMaxForce=function(){return this.m_maxForce},l.prototype.SetMaxTorque=function(t){void 0===t&&(t=0),this.m_maxTorque=t},l.prototype.GetMaxTorque=function(){return this.m_maxTorque},l.prototype.b2FrictionJoint=function(t){this.__super.b2Joint.call(this,t),this.m_localAnchorA.SetV(t.localAnchorA),this.m_localAnchorB.SetV(t.localAnchorB),this.m_linearMass.SetZero(),this.m_angularMass=0,this.m_linearImpulse.SetZero(),this.m_angularImpulse=0,this.m_maxForce=t.maxForce,this.m_maxTorque=t.maxTorque},l.prototype.InitVelocityConstraints=function(t){var i,o=0,n=this.m_bodyA,s=this.m_bodyB;i=n.m_xf.R;var a=this.m_localAnchorA.x-n.m_sweep.localCenter.x,r=this.m_localAnchorA.y-n.m_sweep.localCenter.y;o=i.col1.x*a+i.col2.x*r,r=i.col1.y*a+i.col2.y*r,a=o,i=s.m_xf.R;var l=this.m_localAnchorB.x-s.m_sweep.localCenter.x,h=this.m_localAnchorB.y-s.m_sweep.localCenter.y;o=i.col1.x*l+i.col2.x*h,h=i.col1.y*l+i.col2.y*h,l=o;var p=n.m_invMass,c=s.m_invMass,m=n.m_invI,d=s.m_invI,u=new e;if(u.col1.x=p+c,u.col2.x=0,u.col1.y=0,u.col2.y=p+c,u.col1.x+=m*r*r,u.col2.x+=-m*a*r,u.col1.y+=-m*a*r,u.col2.y+=m*a*a,u.col1.x+=d*h*h,u.col2.x+=-d*l*h,u.col1.y+=-d*l*h,u.col2.y+=d*l*l,u.GetInverse(this.m_linearMass),this.m_angularMass=m+d,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),t.warmStarting){this.m_linearImpulse.x*=t.dtRatio,this.m_linearImpulse.y*=t.dtRatio,this.m_angularImpulse*=t.dtRatio;var y=this.m_linearImpulse;n.m_linearVelocity.x-=p*y.x,n.m_linearVelocity.y-=p*y.y,n.m_angularVelocity-=m*(a*y.y-r*y.x+this.m_angularImpulse),s.m_linearVelocity.x+=c*y.x,s.m_linearVelocity.y+=c*y.y,s.m_angularVelocity+=d*(l*y.y-h*y.x+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0},l.prototype.SolveVelocityConstraints=function(t){var e,i=0,s=this.m_bodyA,a=this.m_bodyB,r=s.m_linearVelocity,l=s.m_angularVelocity,h=a.m_linearVelocity,p=a.m_angularVelocity,c=s.m_invMass,m=a.m_invMass,d=s.m_invI,u=a.m_invI;e=s.m_xf.R;var y=this.m_localAnchorA.x-s.m_sweep.localCenter.x,g=this.m_localAnchorA.y-s.m_sweep.localCenter.y;i=e.col1.x*y+e.col2.x*g,g=e.col1.y*y+e.col2.y*g,y=i,e=a.m_xf.R;var f=this.m_localAnchorB.x-a.m_sweep.localCenter.x,b=this.m_localAnchorB.y-a.m_sweep.localCenter.y;i=e.col1.x*f+e.col2.x*b,b=e.col1.y*f+e.col2.y*b,f=i;var x=0,_=p-l,v=-this.m_angularMass*_,w=this.m_angularImpulse;x=t.dt*this.m_maxTorque,this.m_angularImpulse=o.Clamp(this.m_angularImpulse+v,-x,x),l-=d*(v=this.m_angularImpulse-w),p+=u*v;var C=h.x-p*b-r.x+l*g,D=h.y+p*f-r.y-l*y,S=o.MulMV(this.m_linearMass,new n(-C,-D)),B=this.m_linearImpulse.Copy();this.m_linearImpulse.Add(S),x=t.dt*this.m_maxForce,this.m_linearImpulse.LengthSquared()>x*x&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Multiply(x)),S=o.SubtractVV(this.m_linearImpulse,B),r.x-=c*S.x,r.y-=c*S.y,l-=d*(y*S.y-g*S.x),h.x+=m*S.x,h.y+=m*S.y,p+=u*(f*S.y-b*S.x),s.m_angularVelocity=l,a.m_angularVelocity=p},l.prototype.SolvePositionConstraints=function(t){return void 0===t&&(t=0),!0},Box2D.inherit(h,Box2D.Dynamics.Joints.b2JointDef),h.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype,h.b2FrictionJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new n,this.localAnchorB=new n},h.prototype.b2FrictionJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_frictionJoint,this.maxForce=0,this.maxTorque=0},h.prototype.Initialize=function(t,e,i){this.bodyA=t,this.bodyB=e,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(i)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(i))},Box2D.inherit(p,Box2D.Dynamics.Joints.b2Joint),p.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype,p.b2GearJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_groundAnchor1=new n,this.m_groundAnchor2=new n,this.m_localAnchor1=new n,this.m_localAnchor2=new n,this.m_J=new m},p.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},p.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},p.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new n(t*this.m_impulse*this.m_J.linearB.x,t*this.m_impulse*this.m_J.linearB.y)},p.prototype.GetReactionTorque=function(t){void 0===t&&(t=0);var e=this.m_bodyB.m_xf.R,i=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,o=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,n=e.col1.x*i+e.col2.x*o;o=e.col1.y*i+e.col2.y*o,i=n;var s=this.m_impulse*this.m_J.linearB.x,a=this.m_impulse*this.m_J.linearB.y;return t*(this.m_impulse*this.m_J.angularB-i*a+o*s)},p.prototype.GetRatio=function(){return this.m_ratio},p.prototype.SetRatio=function(t){void 0===t&&(t=0),this.m_ratio=t},p.prototype.b2GearJoint=function(t){this.__super.b2Joint.call(this,t);var e=parseInt(t.joint1.m_type),i=parseInt(t.joint2.m_type);this.m_revolute1=null,this.m_prismatic1=null,this.m_revolute2=null,this.m_prismatic2=null;var o=0,n=0;this.m_ground1=t.joint1.GetBodyA(),this.m_bodyA=t.joint1.GetBodyB(),e==d.e_revoluteJoint?(this.m_revolute1=t.joint1 instanceof D?t.joint1:null,this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2),o=this.m_revolute1.GetJointAngle()):(this.m_prismatic1=t.joint1 instanceof _?t.joint1:null,this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2),o=this.m_prismatic1.GetJointTranslation()),this.m_ground2=t.joint2.GetBodyA(),this.m_bodyB=t.joint2.GetBodyB(),i==d.e_revoluteJoint?(this.m_revolute2=t.joint2 instanceof D?t.joint2:null,this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2),n=this.m_revolute2.GetJointAngle()):(this.m_prismatic2=t.joint2 instanceof _?t.joint2:null,this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2),n=this.m_prismatic2.GetJointTranslation()),this.m_ratio=t.ratio,this.m_constant=o+this.m_ratio*n,this.m_impulse=0},p.prototype.InitVelocityConstraints=function(t){var e,i,o=this.m_ground1,n=this.m_ground2,s=this.m_bodyA,a=this.m_bodyB,r=0,l=0,h=0,p=0,c=0,m=0,d=0;this.m_J.SetZero(),this.m_revolute1?(this.m_J.angularA=-1,d+=s.m_invI):(e=o.m_xf.R,i=this.m_prismatic1.m_localXAxis1,r=e.col1.x*i.x+e.col2.x*i.y,l=e.col1.y*i.x+e.col2.y*i.y,e=s.m_xf.R,h=this.m_localAnchor1.x-s.m_sweep.localCenter.x,p=this.m_localAnchor1.y-s.m_sweep.localCenter.y,m=e.col1.x*h+e.col2.x*p,p=e.col1.y*h+e.col2.y*p,c=(h=m)*l-p*r,this.m_J.linearA.Set(-r,-l),this.m_J.angularA=-c,d+=s.m_invMass+s.m_invI*c*c),this.m_revolute2?(this.m_J.angularB=-this.m_ratio,d+=this.m_ratio*this.m_ratio*a.m_invI):(e=n.m_xf.R,i=this.m_prismatic2.m_localXAxis1,r=e.col1.x*i.x+e.col2.x*i.y,l=e.col1.y*i.x+e.col2.y*i.y,e=a.m_xf.R,h=this.m_localAnchor2.x-a.m_sweep.localCenter.x,p=this.m_localAnchor2.y-a.m_sweep.localCenter.y,m=e.col1.x*h+e.col2.x*p,p=e.col1.y*h+e.col2.y*p,c=(h=m)*l-p*r,this.m_J.linearB.Set(-this.m_ratio*r,-this.m_ratio*l),this.m_J.angularB=-this.m_ratio*c,d+=this.m_ratio*this.m_ratio*(a.m_invMass+a.m_invI*c*c)),this.m_mass=d>0?1/d:0,t.warmStarting?(s.m_linearVelocity.x+=s.m_invMass*this.m_impulse*this.m_J.linearA.x,s.m_linearVelocity.y+=s.m_invMass*this.m_impulse*this.m_J.linearA.y,s.m_angularVelocity+=s.m_invI*this.m_impulse*this.m_J.angularA,a.m_linearVelocity.x+=a.m_invMass*this.m_impulse*this.m_J.linearB.x,a.m_linearVelocity.y+=a.m_invMass*this.m_impulse*this.m_J.linearB.y,a.m_angularVelocity+=a.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0},p.prototype.SolveVelocityConstraints=function(t){var e=this.m_bodyA,i=this.m_bodyB,o=this.m_J.Compute(e.m_linearVelocity,e.m_angularVelocity,i.m_linearVelocity,i.m_angularVelocity),n=-this.m_mass*o;this.m_impulse+=n,e.m_linearVelocity.x+=e.m_invMass*n*this.m_J.linearA.x,e.m_linearVelocity.y+=e.m_invMass*n*this.m_J.linearA.y,e.m_angularVelocity+=e.m_invI*n*this.m_J.angularA,i.m_linearVelocity.x+=i.m_invMass*n*this.m_J.linearB.x,i.m_linearVelocity.y+=i.m_invMass*n*this.m_J.linearB.y,i.m_angularVelocity+=i.m_invI*n*this.m_J.angularB},p.prototype.SolvePositionConstraints=function(e){void 0===e&&(e=0);var i=this.m_bodyA,o=this.m_bodyB,n=0,s=0;n=this.m_revolute1?this.m_revolute1.GetJointAngle():this.m_prismatic1.GetJointTranslation(),s=this.m_revolute2?this.m_revolute2.GetJointAngle():this.m_prismatic2.GetJointTranslation();var a=this.m_constant-(n+this.m_ratio*s),r=-this.m_mass*a;return i.m_sweep.c.x+=i.m_invMass*r*this.m_J.linearA.x,i.m_sweep.c.y+=i.m_invMass*r*this.m_J.linearA.y,i.m_sweep.a+=i.m_invI*r*this.m_J.angularA,o.m_sweep.c.x+=o.m_invMass*r*this.m_J.linearB.x,o.m_sweep.c.y+=o.m_invMass*r*this.m_J.linearB.y,o.m_sweep.a+=o.m_invI*r*this.m_J.angularB,i.SynchronizeTransform(),o.SynchronizeTransform(),0<t.b2_linearSlop},Box2D.inherit(c,Box2D.Dynamics.Joints.b2JointDef),c.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype,c.b2GearJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments)},c.prototype.b2GearJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_gearJoint,this.joint1=null,this.joint2=null,this.ratio=1},m.b2Jacobian=function(){this.linearA=new n,this.linearB=new n},m.prototype.SetZero=function(){this.linearA.SetZero(),this.angularA=0,this.linearB.SetZero(),this.angularB=0},m.prototype.Set=function(t,e,i,o){void 0===e&&(e=0),void 0===o&&(o=0),this.linearA.SetV(t),this.angularA=e,this.linearB.SetV(i),this.angularB=o},m.prototype.Compute=function(t,e,i,o){return void 0===e&&(e=0),void 0===o&&(o=0),this.linearA.x*t.x+this.linearA.y*t.y+this.angularA*e+(this.linearB.x*i.x+this.linearB.y*i.y)+this.angularB*o},d.b2Joint=function(){this.m_edgeA=new y,this.m_edgeB=new y,this.m_localCenterA=new n,this.m_localCenterB=new n},d.prototype.GetType=function(){return this.m_type},d.prototype.GetAnchorA=function(){return null},d.prototype.GetAnchorB=function(){return null},d.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),null},d.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),0},d.prototype.GetBodyA=function(){return this.m_bodyA},d.prototype.GetBodyB=function(){return this.m_bodyB},d.prototype.GetNext=function(){return this.m_next},d.prototype.GetUserData=function(){return this.m_userData},d.prototype.SetUserData=function(t){this.m_userData=t},d.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()},d.Create=function(t,e){var i=null;switch(t.type){case d.e_distanceJoint:i=new a(t instanceof r?t:null);break;case d.e_mouseJoint:i=new b(t instanceof x?t:null);break;case d.e_prismaticJoint:i=new _(t instanceof v?t:null);break;case d.e_revoluteJoint:i=new D(t instanceof S?t:null);break;case d.e_pulleyJoint:i=new w(t instanceof C?t:null);break;case d.e_gearJoint:i=new p(t instanceof c?t:null);break;case d.e_lineJoint:i=new g(t instanceof f?t:null);break;case d.e_weldJoint:i=new B(t instanceof A?t:null);break;case d.e_frictionJoint:i=new l(t instanceof h?t:null)}return i},d.Destroy=function(t,e){},d.prototype.b2Joint=function(e){t.b2Assert(e.bodyA!=e.bodyB),this.m_type=e.type,this.m_prev=null,this.m_next=null,this.m_bodyA=e.bodyA,this.m_bodyB=e.bodyB,this.m_collideConnected=e.collideConnected,this.m_islandFlag=!1,this.m_userData=e.userData},d.prototype.InitVelocityConstraints=function(t){},d.prototype.SolveVelocityConstraints=function(t){},d.prototype.FinalizeVelocityConstraints=function(){},d.prototype.SolvePositionConstraints=function(t){return void 0===t&&(t=0),!1},Box2D.postDefs.push(function(){Box2D.Dynamics.Joints.b2Joint.e_unknownJoint=0,Box2D.Dynamics.Joints.b2Joint.e_revoluteJoint=1,Box2D.Dynamics.Joints.b2Joint.e_prismaticJoint=2,Box2D.Dynamics.Joints.b2Joint.e_distanceJoint=3,Box2D.Dynamics.Joints.b2Joint.e_pulleyJoint=4,Box2D.Dynamics.Joints.b2Joint.e_mouseJoint=5,Box2D.Dynamics.Joints.b2Joint.e_gearJoint=6,Box2D.Dynamics.Joints.b2Joint.e_lineJoint=7,Box2D.Dynamics.Joints.b2Joint.e_weldJoint=8,Box2D.Dynamics.Joints.b2Joint.e_frictionJoint=9,Box2D.Dynamics.Joints.b2Joint.e_inactiveLimit=0,Box2D.Dynamics.Joints.b2Joint.e_atLowerLimit=1,Box2D.Dynamics.Joints.b2Joint.e_atUpperLimit=2,Box2D.Dynamics.Joints.b2Joint.e_equalLimits=3}),u.b2JointDef=function(){},u.prototype.b2JointDef=function(){this.type=d.e_unknownJoint,this.userData=null,this.bodyA=null,this.bodyB=null,this.collideConnected=!1},y.b2JointEdge=function(){},Box2D.inherit(g,Box2D.Dynamics.Joints.b2Joint),g.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype,g.b2LineJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new n,this.m_localAnchor2=new n,this.m_localXAxis1=new n,this.m_localYAxis1=new n,this.m_axis=new n,this.m_perp=new n,this.m_K=new e,this.m_impulse=new n},g.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},g.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},g.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new n(t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))},g.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),t*this.m_impulse.y},g.prototype.GetJointTranslation=function(){var t=this.m_bodyA,e=this.m_bodyB,i=t.GetWorldPoint(this.m_localAnchor1),o=e.GetWorldPoint(this.m_localAnchor2),n=o.x-i.x,s=o.y-i.y,a=t.GetWorldVector(this.m_localXAxis1);return a.x*n+a.y*s},g.prototype.GetJointSpeed=function(){var t,e=this.m_bodyA,i=this.m_bodyB;t=e.m_xf.R;var o=this.m_localAnchor1.x-e.m_sweep.localCenter.x,n=this.m_localAnchor1.y-e.m_sweep.localCenter.y,s=t.col1.x*o+t.col2.x*n;n=t.col1.y*o+t.col2.y*n,o=s,t=i.m_xf.R;var a=this.m_localAnchor2.x-i.m_sweep.localCenter.x,r=this.m_localAnchor2.y-i.m_sweep.localCenter.y;s=t.col1.x*a+t.col2.x*r,r=t.col1.y*a+t.col2.y*r,a=s;var l=e.m_sweep.c.x+o,h=e.m_sweep.c.y+n,p=i.m_sweep.c.x+a-l,c=i.m_sweep.c.y+r-h,m=e.GetWorldVector(this.m_localXAxis1),d=e.m_linearVelocity,u=i.m_linearVelocity,y=e.m_angularVelocity,g=i.m_angularVelocity;return p*(-y*m.y)+c*(y*m.x)+(m.x*(u.x+-g*r-d.x- -y*n)+m.y*(u.y+g*a-d.y-y*o))},g.prototype.IsLimitEnabled=function(){return this.m_enableLimit},g.prototype.EnableLimit=function(t){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t},g.prototype.GetLowerLimit=function(){return this.m_lowerTranslation},g.prototype.GetUpperLimit=function(){return this.m_upperTranslation},g.prototype.SetLimits=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e},g.prototype.IsMotorEnabled=function(){return this.m_enableMotor},g.prototype.EnableMotor=function(t){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t},g.prototype.SetMotorSpeed=function(t){void 0===t&&(t=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t},g.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},g.prototype.SetMaxMotorForce=function(t){void 0===t&&(t=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=t},g.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce},g.prototype.GetMotorForce=function(){return this.m_motorImpulse},g.prototype.b2LineJoint=function(t){this.__super.b2Joint.call(this,t);this.m_localAnchor1.SetV(t.localAnchorA),this.m_localAnchor2.SetV(t.localAnchorB),this.m_localXAxis1.SetV(t.localAxisA),this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_impulse.SetZero(),this.m_motorMass=0,this.m_motorImpulse=0,this.m_lowerTranslation=t.lowerTranslation,this.m_upperTranslation=t.upperTranslation,this.m_maxMotorForce=t.maxMotorForce,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=d.e_inactiveLimit,this.m_axis.SetZero(),this.m_perp.SetZero()},g.prototype.InitVelocityConstraints=function(e){var i,n=this.m_bodyA,s=this.m_bodyB,a=0;this.m_localCenterA.SetV(n.GetLocalCenter()),this.m_localCenterB.SetV(s.GetLocalCenter());var r=n.GetTransform();s.GetTransform();i=n.m_xf.R;var l=this.m_localAnchor1.x-this.m_localCenterA.x,h=this.m_localAnchor1.y-this.m_localCenterA.y;a=i.col1.x*l+i.col2.x*h,h=i.col1.y*l+i.col2.y*h,l=a,i=s.m_xf.R;var p=this.m_localAnchor2.x-this.m_localCenterB.x,c=this.m_localAnchor2.y-this.m_localCenterB.y;a=i.col1.x*p+i.col2.x*c,c=i.col1.y*p+i.col2.y*c,p=a;var m=s.m_sweep.c.x+p-n.m_sweep.c.x-l,u=s.m_sweep.c.y+c-n.m_sweep.c.y-h;this.m_invMassA=n.m_invMass,this.m_invMassB=s.m_invMass,this.m_invIA=n.m_invI,this.m_invIB=s.m_invI,this.m_axis.SetV(o.MulMV(r.R,this.m_localXAxis1)),this.m_a1=(m+l)*this.m_axis.y-(u+h)*this.m_axis.x,this.m_a2=p*this.m_axis.y-c*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:0,this.m_perp.SetV(o.MulMV(r.R,this.m_localYAxis1)),this.m_s1=(m+l)*this.m_perp.y-(u+h)*this.m_perp.x,this.m_s2=p*this.m_perp.y-c*this.m_perp.x;var y=this.m_invMassA,g=this.m_invMassB,f=this.m_invIA,b=this.m_invIB;if(this.m_K.col1.x=y+g+f*this.m_s1*this.m_s1+b*this.m_s2*this.m_s2,this.m_K.col1.y=f*this.m_s1*this.m_a1+b*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=y+g+f*this.m_a1*this.m_a1+b*this.m_a2*this.m_a2,this.m_enableLimit){var x=this.m_axis.x*m+this.m_axis.y*u;o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*t.b2_linearSlop?this.m_limitState=d.e_equalLimits:x<=this.m_lowerTranslation?this.m_limitState!=d.e_atLowerLimit&&(this.m_limitState=d.e_atLowerLimit,this.m_impulse.y=0):x>=this.m_upperTranslation?this.m_limitState!=d.e_atUpperLimit&&(this.m_limitState=d.e_atUpperLimit,this.m_impulse.y=0):(this.m_limitState=d.e_inactiveLimit,this.m_impulse.y=0)}else this.m_limitState=d.e_inactiveLimit;if(0==this.m_enableMotor&&(this.m_motorImpulse=0),e.warmStarting){this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,this.m_motorImpulse*=e.dtRatio;var _=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,v=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,w=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,C=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2;n.m_linearVelocity.x-=this.m_invMassA*_,n.m_linearVelocity.y-=this.m_invMassA*v,n.m_angularVelocity-=this.m_invIA*w,s.m_linearVelocity.x+=this.m_invMassB*_,s.m_linearVelocity.y+=this.m_invMassB*v,s.m_angularVelocity+=this.m_invIB*C}else this.m_impulse.SetZero(),this.m_motorImpulse=0},g.prototype.SolveVelocityConstraints=function(t){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_linearVelocity,a=e.m_angularVelocity,r=i.m_linearVelocity,l=i.m_angularVelocity,h=0,p=0,c=0,m=0;if(this.m_enableMotor&&this.m_limitState!=d.e_equalLimits){var u=this.m_axis.x*(r.x-s.x)+this.m_axis.y*(r.y-s.y)+this.m_a2*l-this.m_a1*a,y=this.m_motorMass*(this.m_motorSpeed-u),g=this.m_motorImpulse,f=t.dt*this.m_maxMotorForce;this.m_motorImpulse=o.Clamp(this.m_motorImpulse+y,-f,f),h=(y=this.m_motorImpulse-g)*this.m_axis.x,p=y*this.m_axis.y,c=y*this.m_a1,m=y*this.m_a2,s.x-=this.m_invMassA*h,s.y-=this.m_invMassA*p,a-=this.m_invIA*c,r.x+=this.m_invMassB*h,r.y+=this.m_invMassB*p,l+=this.m_invIB*m}var b=this.m_perp.x*(r.x-s.x)+this.m_perp.y*(r.y-s.y)+this.m_s2*l-this.m_s1*a;if(this.m_enableLimit&&this.m_limitState!=d.e_inactiveLimit){var x=this.m_axis.x*(r.x-s.x)+this.m_axis.y*(r.y-s.y)+this.m_a2*l-this.m_a1*a,_=this.m_impulse.Copy(),v=this.m_K.Solve(new n,-b,-x);this.m_impulse.Add(v),this.m_limitState==d.e_atLowerLimit?this.m_impulse.y=o.Max(this.m_impulse.y,0):this.m_limitState==d.e_atUpperLimit&&(this.m_impulse.y=o.Min(this.m_impulse.y,0));var w=-b-(this.m_impulse.y-_.y)*this.m_K.col2.x,C=0;C=0!=this.m_K.col1.x?w/this.m_K.col1.x+_.x:_.x,this.m_impulse.x=C,v.x=this.m_impulse.x-_.x,v.y=this.m_impulse.y-_.y,h=v.x*this.m_perp.x+v.y*this.m_axis.x,p=v.x*this.m_perp.y+v.y*this.m_axis.y,c=v.x*this.m_s1+v.y*this.m_a1,m=v.x*this.m_s2+v.y*this.m_a2,s.x-=this.m_invMassA*h,s.y-=this.m_invMassA*p,a-=this.m_invIA*c,r.x+=this.m_invMassB*h,r.y+=this.m_invMassB*p,l+=this.m_invIB*m}else{var D=0;D=0!=this.m_K.col1.x?-b/this.m_K.col1.x:0,this.m_impulse.x+=D,h=D*this.m_perp.x,p=D*this.m_perp.y,c=D*this.m_s1,m=D*this.m_s2,s.x-=this.m_invMassA*h,s.y-=this.m_invMassA*p,a-=this.m_invIA*c,r.x+=this.m_invMassB*h,r.y+=this.m_invMassB*p,l+=this.m_invIB*m}e.m_linearVelocity.SetV(s),e.m_angularVelocity=a,i.m_linearVelocity.SetV(r),i.m_angularVelocity=l},g.prototype.SolvePositionConstraints=function(i){void 0===i&&(i=0);var s,a=this.m_bodyA,r=this.m_bodyB,l=a.m_sweep.c,h=a.m_sweep.a,p=r.m_sweep.c,c=r.m_sweep.a,m=0,d=0,u=0,y=0,g=0,f=0,b=!1,x=0,_=e.FromAngle(h),v=e.FromAngle(c);s=_;var w=this.m_localAnchor1.x-this.m_localCenterA.x,C=this.m_localAnchor1.y-this.m_localCenterA.y;m=s.col1.x*w+s.col2.x*C,C=s.col1.y*w+s.col2.y*C,w=m,s=v;var D=this.m_localAnchor2.x-this.m_localCenterB.x,S=this.m_localAnchor2.y-this.m_localCenterB.y;m=s.col1.x*D+s.col2.x*S,S=s.col1.y*D+s.col2.y*S,D=m;var B=p.x+D-l.x-w,A=p.y+S-l.y-C;if(this.m_enableLimit){this.m_axis=o.MulMV(_,this.m_localXAxis1),this.m_a1=(B+w)*this.m_axis.y-(A+C)*this.m_axis.x,this.m_a2=D*this.m_axis.y-S*this.m_axis.x;var I=this.m_axis.x*B+this.m_axis.y*A;o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*t.b2_linearSlop?(x=o.Clamp(I,-t.b2_maxLinearCorrection,t.b2_maxLinearCorrection),f=o.Abs(I),b=!0):I<=this.m_lowerTranslation?(x=o.Clamp(I-this.m_lowerTranslation+t.b2_linearSlop,-t.b2_maxLinearCorrection,0),f=this.m_lowerTranslation-I,b=!0):I>=this.m_upperTranslation&&(x=o.Clamp(I-this.m_upperTranslation+t.b2_linearSlop,0,t.b2_maxLinearCorrection),f=I-this.m_upperTranslation,b=!0)}this.m_perp=o.MulMV(_,this.m_localYAxis1),this.m_s1=(B+w)*this.m_perp.y-(A+C)*this.m_perp.x,this.m_s2=D*this.m_perp.y-S*this.m_perp.x;var M=new n,k=this.m_perp.x*B+this.m_perp.y*A;if(f=o.Max(f,o.Abs(k)),0,b)d=this.m_invMassA,u=this.m_invMassB,y=this.m_invIA,g=this.m_invIB,this.m_K.col1.x=d+u+y*this.m_s1*this.m_s1+g*this.m_s2*this.m_s2,this.m_K.col1.y=y*this.m_s1*this.m_a1+g*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=d+u+y*this.m_a1*this.m_a1+g*this.m_a2*this.m_a2,this.m_K.Solve(M,-k,-x);else{d=this.m_invMassA,u=this.m_invMassB,y=this.m_invIA,g=this.m_invIB;var L=d+u+y*this.m_s1*this.m_s1+g*this.m_s2*this.m_s2,T=0;T=0!=L?-k/L:0,M.x=T,M.y=0}var E=M.x*this.m_perp.x+M.y*this.m_axis.x,V=M.x*this.m_perp.y+M.y*this.m_axis.y,P=M.x*this.m_s1+M.y*this.m_a1,G=M.x*this.m_s2+M.y*this.m_a2;return l.x-=this.m_invMassA*E,l.y-=this.m_invMassA*V,h-=this.m_invIA*P,p.x+=this.m_invMassB*E,p.y+=this.m_invMassB*V,c+=this.m_invIB*G,a.m_sweep.a=h,r.m_sweep.a=c,a.SynchronizeTransform(),r.SynchronizeTransform(),f<=t.b2_linearSlop&&0<=t.b2_angularSlop},Box2D.inherit(f,Box2D.Dynamics.Joints.b2JointDef),f.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype,f.b2LineJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new n,this.localAnchorB=new n,this.localAxisA=new n},f.prototype.b2LineJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_lineJoint,this.localAxisA.Set(1,0),this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorForce=0,this.motorSpeed=0},f.prototype.Initialize=function(t,e,i,o){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.GetLocalPoint(i),this.localAnchorB=this.bodyB.GetLocalPoint(i),this.localAxisA=this.bodyA.GetLocalVector(o)},Box2D.inherit(b,Box2D.Dynamics.Joints.b2Joint),b.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype,b.b2MouseJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.K=new e,this.K1=new e,this.K2=new e,this.m_localAnchor=new n,this.m_target=new n,this.m_impulse=new n,this.m_mass=new e,this.m_C=new n},b.prototype.GetAnchorA=function(){return this.m_target},b.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor)},b.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new n(t*this.m_impulse.x,t*this.m_impulse.y)},b.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),0},b.prototype.GetTarget=function(){return this.m_target},b.prototype.SetTarget=function(t){0==this.m_bodyB.IsAwake()&&this.m_bodyB.SetAwake(!0),this.m_target=t},b.prototype.GetMaxForce=function(){return this.m_maxForce},b.prototype.SetMaxForce=function(t){void 0===t&&(t=0),this.m_maxForce=t},b.prototype.GetFrequency=function(){return this.m_frequencyHz},b.prototype.SetFrequency=function(t){void 0===t&&(t=0),this.m_frequencyHz=t},b.prototype.GetDampingRatio=function(){return this.m_dampingRatio},b.prototype.SetDampingRatio=function(t){void 0===t&&(t=0),this.m_dampingRatio=t},b.prototype.b2MouseJoint=function(t){this.__super.b2Joint.call(this,t),this.m_target.SetV(t.target);var e=this.m_target.x-this.m_bodyB.m_xf.position.x,i=this.m_target.y-this.m_bodyB.m_xf.position.y,o=this.m_bodyB.m_xf.R;this.m_localAnchor.x=e*o.col1.x+i*o.col1.y,this.m_localAnchor.y=e*o.col2.x+i*o.col2.y,this.m_maxForce=t.maxForce,this.m_impulse.SetZero(),this.m_frequencyHz=t.frequencyHz,this.m_dampingRatio=t.dampingRatio,this.m_beta=0,this.m_gamma=0},b.prototype.InitVelocityConstraints=function(t){var e,i=this.m_bodyB,o=i.GetMass(),n=2*Math.PI*this.m_frequencyHz,s=2*o*this.m_dampingRatio*n,a=o*n*n;this.m_gamma=t.dt*(s+t.dt*a),this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0,this.m_beta=t.dt*a*this.m_gamma,e=i.m_xf.R;var r=this.m_localAnchor.x-i.m_sweep.localCenter.x,l=this.m_localAnchor.y-i.m_sweep.localCenter.y,h=e.col1.x*r+e.col2.x*l;l=e.col1.y*r+e.col2.y*l,r=h;var p=i.m_invMass,c=i.m_invI;this.K1.col1.x=p,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=p,this.K2.col1.x=c*l*l,this.K2.col2.x=-c*r*l,this.K2.col1.y=-c*r*l,this.K2.col2.y=c*r*r,this.K.SetM(this.K1),this.K.AddM(this.K2),this.K.col1.x+=this.m_gamma,this.K.col2.y+=this.m_gamma,this.K.GetInverse(this.m_mass),this.m_C.x=i.m_sweep.c.x+r-this.m_target.x,this.m_C.y=i.m_sweep.c.y+l-this.m_target.y,i.m_angularVelocity*=.98,this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,i.m_linearVelocity.x+=p*this.m_impulse.x,i.m_linearVelocity.y+=p*this.m_impulse.y,i.m_angularVelocity+=c*(r*this.m_impulse.y-l*this.m_impulse.x)},b.prototype.SolveVelocityConstraints=function(t){var e,i,o=this.m_bodyB,n=0;e=o.m_xf.R;var s=this.m_localAnchor.x-o.m_sweep.localCenter.x,a=this.m_localAnchor.y-o.m_sweep.localCenter.y;n=e.col1.x*s+e.col2.x*a,a=e.col1.y*s+e.col2.y*a,s=n;var r=o.m_linearVelocity.x+-o.m_angularVelocity*a,l=o.m_linearVelocity.y+o.m_angularVelocity*s;e=this.m_mass,n=r+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x,i=l+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;var h=-(e.col1.x*n+e.col2.x*i),p=-(e.col1.y*n+e.col2.y*i),c=this.m_impulse.x,m=this.m_impulse.y;this.m_impulse.x+=h,this.m_impulse.y+=p;var d=t.dt*this.m_maxForce;this.m_impulse.LengthSquared()>d*d&&this.m_impulse.Multiply(d/this.m_impulse.Length()),h=this.m_impulse.x-c,p=this.m_impulse.y-m,o.m_linearVelocity.x+=o.m_invMass*h,o.m_linearVelocity.y+=o.m_invMass*p,o.m_angularVelocity+=o.m_invI*(s*p-a*h)},b.prototype.SolvePositionConstraints=function(t){return void 0===t&&(t=0),!0},Box2D.inherit(x,Box2D.Dynamics.Joints.b2JointDef),x.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype,x.b2MouseJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.target=new n},x.prototype.b2MouseJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_mouseJoint,this.maxForce=0,this.frequencyHz=5,this.dampingRatio=.7},Box2D.inherit(_,Box2D.Dynamics.Joints.b2Joint),_.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype,_.b2PrismaticJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new n,this.m_localAnchor2=new n,this.m_localXAxis1=new n,this.m_localYAxis1=new n,this.m_axis=new n,this.m_perp=new n,this.m_K=new i,this.m_impulse=new s},_.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},_.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new n(t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))},_.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),t*this.m_impulse.y},_.prototype.GetJointTranslation=function(){var t=this.m_bodyA,e=this.m_bodyB,i=t.GetWorldPoint(this.m_localAnchor1),o=e.GetWorldPoint(this.m_localAnchor2),n=o.x-i.x,s=o.y-i.y,a=t.GetWorldVector(this.m_localXAxis1);return a.x*n+a.y*s},_.prototype.GetJointSpeed=function(){var t,e=this.m_bodyA,i=this.m_bodyB;t=e.m_xf.R;var o=this.m_localAnchor1.x-e.m_sweep.localCenter.x,n=this.m_localAnchor1.y-e.m_sweep.localCenter.y,s=t.col1.x*o+t.col2.x*n;n=t.col1.y*o+t.col2.y*n,o=s,t=i.m_xf.R;var a=this.m_localAnchor2.x-i.m_sweep.localCenter.x,r=this.m_localAnchor2.y-i.m_sweep.localCenter.y;s=t.col1.x*a+t.col2.x*r,r=t.col1.y*a+t.col2.y*r,a=s;var l=e.m_sweep.c.x+o,h=e.m_sweep.c.y+n,p=i.m_sweep.c.x+a-l,c=i.m_sweep.c.y+r-h,m=e.GetWorldVector(this.m_localXAxis1),d=e.m_linearVelocity,u=i.m_linearVelocity,y=e.m_angularVelocity,g=i.m_angularVelocity;return p*(-y*m.y)+c*(y*m.x)+(m.x*(u.x+-g*r-d.x- -y*n)+m.y*(u.y+g*a-d.y-y*o))},_.prototype.IsLimitEnabled=function(){return this.m_enableLimit},_.prototype.EnableLimit=function(t){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t},_.prototype.GetLowerLimit=function(){return this.m_lowerTranslation},_.prototype.GetUpperLimit=function(){return this.m_upperTranslation},_.prototype.SetLimits=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e},_.prototype.IsMotorEnabled=function(){return this.m_enableMotor},_.prototype.EnableMotor=function(t){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t},_.prototype.SetMotorSpeed=function(t){void 0===t&&(t=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t},_.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},_.prototype.SetMaxMotorForce=function(t){void 0===t&&(t=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=t},_.prototype.GetMotorForce=function(){return this.m_motorImpulse},_.prototype.b2PrismaticJoint=function(t){this.__super.b2Joint.call(this,t);this.m_localAnchor1.SetV(t.localAnchorA),this.m_localAnchor2.SetV(t.localAnchorB),this.m_localXAxis1.SetV(t.localAxisA),this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_refAngle=t.referenceAngle,this.m_impulse.SetZero(),this.m_motorMass=0,this.m_motorImpulse=0,this.m_lowerTranslation=t.lowerTranslation,this.m_upperTranslation=t.upperTranslation,this.m_maxMotorForce=t.maxMotorForce,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=d.e_inactiveLimit,this.m_axis.SetZero(),this.m_perp.SetZero()},_.prototype.InitVelocityConstraints=function(e){var i,n=this.m_bodyA,s=this.m_bodyB,a=0;this.m_localCenterA.SetV(n.GetLocalCenter()),this.m_localCenterB.SetV(s.GetLocalCenter());var r=n.GetTransform();s.GetTransform();i=n.m_xf.R;var l=this.m_localAnchor1.x-this.m_localCenterA.x,h=this.m_localAnchor1.y-this.m_localCenterA.y;a=i.col1.x*l+i.col2.x*h,h=i.col1.y*l+i.col2.y*h,l=a,i=s.m_xf.R;var p=this.m_localAnchor2.x-this.m_localCenterB.x,c=this.m_localAnchor2.y-this.m_localCenterB.y;a=i.col1.x*p+i.col2.x*c,c=i.col1.y*p+i.col2.y*c,p=a;var m=s.m_sweep.c.x+p-n.m_sweep.c.x-l,u=s.m_sweep.c.y+c-n.m_sweep.c.y-h;this.m_invMassA=n.m_invMass,this.m_invMassB=s.m_invMass,this.m_invIA=n.m_invI,this.m_invIB=s.m_invI,this.m_axis.SetV(o.MulMV(r.R,this.m_localXAxis1)),this.m_a1=(m+l)*this.m_axis.y-(u+h)*this.m_axis.x,this.m_a2=p*this.m_axis.y-c*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass),this.m_perp.SetV(o.MulMV(r.R,this.m_localYAxis1)),this.m_s1=(m+l)*this.m_perp.y-(u+h)*this.m_perp.x,this.m_s2=p*this.m_perp.y-c*this.m_perp.x;var y=this.m_invMassA,g=this.m_invMassB,f=this.m_invIA,b=this.m_invIB;if(this.m_K.col1.x=y+g+f*this.m_s1*this.m_s1+b*this.m_s2*this.m_s2,this.m_K.col1.y=f*this.m_s1+b*this.m_s2,this.m_K.col1.z=f*this.m_s1*this.m_a1+b*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=f+b,this.m_K.col2.z=f*this.m_a1+b*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=y+g+f*this.m_a1*this.m_a1+b*this.m_a2*this.m_a2,this.m_enableLimit){var x=this.m_axis.x*m+this.m_axis.y*u;o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*t.b2_linearSlop?this.m_limitState=d.e_equalLimits:x<=this.m_lowerTranslation?this.m_limitState!=d.e_atLowerLimit&&(this.m_limitState=d.e_atLowerLimit,this.m_impulse.z=0):x>=this.m_upperTranslation?this.m_limitState!=d.e_atUpperLimit&&(this.m_limitState=d.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=d.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=d.e_inactiveLimit;if(0==this.m_enableMotor&&(this.m_motorImpulse=0),e.warmStarting){this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,this.m_motorImpulse*=e.dtRatio;var _=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,v=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,w=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,C=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;n.m_linearVelocity.x-=this.m_invMassA*_,n.m_linearVelocity.y-=this.m_invMassA*v,n.m_angularVelocity-=this.m_invIA*w,s.m_linearVelocity.x+=this.m_invMassB*_,s.m_linearVelocity.y+=this.m_invMassB*v,s.m_angularVelocity+=this.m_invIB*C}else this.m_impulse.SetZero(),this.m_motorImpulse=0},_.prototype.SolveVelocityConstraints=function(t){var e=this.m_bodyA,i=this.m_bodyB,a=e.m_linearVelocity,r=e.m_angularVelocity,l=i.m_linearVelocity,h=i.m_angularVelocity,p=0,c=0,m=0,u=0;if(this.m_enableMotor&&this.m_limitState!=d.e_equalLimits){var y=this.m_axis.x*(l.x-a.x)+this.m_axis.y*(l.y-a.y)+this.m_a2*h-this.m_a1*r,g=this.m_motorMass*(this.m_motorSpeed-y),f=this.m_motorImpulse,b=t.dt*this.m_maxMotorForce;this.m_motorImpulse=o.Clamp(this.m_motorImpulse+g,-b,b),p=(g=this.m_motorImpulse-f)*this.m_axis.x,c=g*this.m_axis.y,m=g*this.m_a1,u=g*this.m_a2,a.x-=this.m_invMassA*p,a.y-=this.m_invMassA*c,r-=this.m_invIA*m,l.x+=this.m_invMassB*p,l.y+=this.m_invMassB*c,h+=this.m_invIB*u}var x=this.m_perp.x*(l.x-a.x)+this.m_perp.y*(l.y-a.y)+this.m_s2*h-this.m_s1*r,_=h-r;if(this.m_enableLimit&&this.m_limitState!=d.e_inactiveLimit){var v=this.m_axis.x*(l.x-a.x)+this.m_axis.y*(l.y-a.y)+this.m_a2*h-this.m_a1*r,w=this.m_impulse.Copy(),C=this.m_K.Solve33(new s,-x,-_,-v);this.m_impulse.Add(C),this.m_limitState==d.e_atLowerLimit?this.m_impulse.z=o.Max(this.m_impulse.z,0):this.m_limitState==d.e_atUpperLimit&&(this.m_impulse.z=o.Min(this.m_impulse.z,0));var D=-x-(this.m_impulse.z-w.z)*this.m_K.col3.x,S=-_-(this.m_impulse.z-w.z)*this.m_K.col3.y,B=this.m_K.Solve22(new n,D,S);B.x+=w.x,B.y+=w.y,this.m_impulse.x=B.x,this.m_impulse.y=B.y,C.x=this.m_impulse.x-w.x,C.y=this.m_impulse.y-w.y,C.z=this.m_impulse.z-w.z,p=C.x*this.m_perp.x+C.z*this.m_axis.x,c=C.x*this.m_perp.y+C.z*this.m_axis.y,m=C.x*this.m_s1+C.y+C.z*this.m_a1,u=C.x*this.m_s2+C.y+C.z*this.m_a2,a.x-=this.m_invMassA*p,a.y-=this.m_invMassA*c,r-=this.m_invIA*m,l.x+=this.m_invMassB*p,l.y+=this.m_invMassB*c,h+=this.m_invIB*u}else{var A=this.m_K.Solve22(new n,-x,-_);this.m_impulse.x+=A.x,this.m_impulse.y+=A.y,p=A.x*this.m_perp.x,c=A.x*this.m_perp.y,m=A.x*this.m_s1+A.y,u=A.x*this.m_s2+A.y,a.x-=this.m_invMassA*p,a.y-=this.m_invMassA*c,r-=this.m_invIA*m,l.x+=this.m_invMassB*p,l.y+=this.m_invMassB*c,h+=this.m_invIB*u}e.m_linearVelocity.SetV(a),e.m_angularVelocity=r,i.m_linearVelocity.SetV(l),i.m_angularVelocity=h},_.prototype.SolvePositionConstraints=function(i){void 0===i&&(i=0);var a,r,l=this.m_bodyA,h=this.m_bodyB,p=l.m_sweep.c,c=l.m_sweep.a,m=h.m_sweep.c,d=h.m_sweep.a,u=0,y=0,g=0,f=0,b=0,x=0,_=!1,v=0,w=e.FromAngle(c),C=e.FromAngle(d);a=w;var D=this.m_localAnchor1.x-this.m_localCenterA.x,S=this.m_localAnchor1.y-this.m_localCenterA.y;u=a.col1.x*D+a.col2.x*S,S=a.col1.y*D+a.col2.y*S,D=u,a=C;var B=this.m_localAnchor2.x-this.m_localCenterB.x,A=this.m_localAnchor2.y-this.m_localCenterB.y;u=a.col1.x*B+a.col2.x*A,A=a.col1.y*B+a.col2.y*A,B=u;var I=m.x+B-p.x-D,M=m.y+A-p.y-S;if(this.m_enableLimit){this.m_axis=o.MulMV(w,this.m_localXAxis1),this.m_a1=(I+D)*this.m_axis.y-(M+S)*this.m_axis.x,this.m_a2=B*this.m_axis.y-A*this.m_axis.x;var k=this.m_axis.x*I+this.m_axis.y*M;o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*t.b2_linearSlop?(v=o.Clamp(k,-t.b2_maxLinearCorrection,t.b2_maxLinearCorrection),x=o.Abs(k),_=!0):k<=this.m_lowerTranslation?(v=o.Clamp(k-this.m_lowerTranslation+t.b2_linearSlop,-t.b2_maxLinearCorrection,0),x=this.m_lowerTranslation-k,_=!0):k>=this.m_upperTranslation&&(v=o.Clamp(k-this.m_upperTranslation+t.b2_linearSlop,0,t.b2_maxLinearCorrection),x=k-this.m_upperTranslation,_=!0)}this.m_perp=o.MulMV(w,this.m_localYAxis1),this.m_s1=(I+D)*this.m_perp.y-(M+S)*this.m_perp.x,this.m_s2=B*this.m_perp.y-A*this.m_perp.x;var L=new s,T=this.m_perp.x*I+this.m_perp.y*M,E=d-c-this.m_refAngle;if(x=o.Max(x,o.Abs(T)),r=o.Abs(E),_)y=this.m_invMassA,g=this.m_invMassB,f=this.m_invIA,b=this.m_invIB,this.m_K.col1.x=y+g+f*this.m_s1*this.m_s1+b*this.m_s2*this.m_s2,this.m_K.col1.y=f*this.m_s1+b*this.m_s2,this.m_K.col1.z=f*this.m_s1*this.m_a1+b*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=f+b,this.m_K.col2.z=f*this.m_a1+b*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=y+g+f*this.m_a1*this.m_a1+b*this.m_a2*this.m_a2,this.m_K.Solve33(L,-T,-E,-v);else{y=this.m_invMassA,g=this.m_invMassB,f=this.m_invIA,b=this.m_invIB;var V=y+g+f*this.m_s1*this.m_s1+b*this.m_s2*this.m_s2,P=f*this.m_s1+b*this.m_s2,G=f+b;this.m_K.col1.Set(V,P,0),this.m_K.col2.Set(P,G,0);var F=this.m_K.Solve22(new n,-T,-E);L.x=F.x,L.y=F.y,L.z=0}var X=L.x*this.m_perp.x+L.z*this.m_axis.x,N=L.x*this.m_perp.y+L.z*this.m_axis.y,Y=L.x*this.m_s1+L.y+L.z*this.m_a1,R=L.x*this.m_s2+L.y+L.z*this.m_a2;return p.x-=this.m_invMassA*X,p.y-=this.m_invMassA*N,c-=this.m_invIA*Y,m.x+=this.m_invMassB*X,m.y+=this.m_invMassB*N,d+=this.m_invIB*R,l.m_sweep.a=c,h.m_sweep.a=d,l.SynchronizeTransform(),h.SynchronizeTransform(),x<=t.b2_linearSlop&&r<=t.b2_angularSlop},Box2D.inherit(v,Box2D.Dynamics.Joints.b2JointDef),v.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype,v.b2PrismaticJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new n,this.localAnchorB=new n,this.localAxisA=new n},v.prototype.b2PrismaticJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_prismaticJoint,this.localAxisA.Set(1,0),this.referenceAngle=0,this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorForce=0,this.motorSpeed=0},v.prototype.Initialize=function(t,e,i,o){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.GetLocalPoint(i),this.localAnchorB=this.bodyB.GetLocalPoint(i),this.localAxisA=this.bodyA.GetLocalVector(o),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()},Box2D.inherit(w,Box2D.Dynamics.Joints.b2Joint),w.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype,w.b2PulleyJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_groundAnchor1=new n,this.m_groundAnchor2=new n,this.m_localAnchor1=new n,this.m_localAnchor2=new n,this.m_u1=new n,this.m_u2=new n},w.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},w.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},w.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new n(t*this.m_impulse*this.m_u2.x,t*this.m_impulse*this.m_u2.y)},w.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),0},w.prototype.GetGroundAnchorA=function(){var t=this.m_ground.m_xf.position.Copy();return t.Add(this.m_groundAnchor1),t},w.prototype.GetGroundAnchorB=function(){var t=this.m_ground.m_xf.position.Copy();return t.Add(this.m_groundAnchor2),t},w.prototype.GetLength1=function(){var t=this.m_bodyA.GetWorldPoint(this.m_localAnchor1),e=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,i=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,o=t.x-e,n=t.y-i;return Math.sqrt(o*o+n*n)},w.prototype.GetLength2=function(){var t=this.m_bodyB.GetWorldPoint(this.m_localAnchor2),e=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,i=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,o=t.x-e,n=t.y-i;return Math.sqrt(o*o+n*n)},w.prototype.GetRatio=function(){return this.m_ratio},w.prototype.b2PulleyJoint=function(t){this.__super.b2Joint.call(this,t);this.m_ground=this.m_bodyA.m_world.m_groundBody,this.m_groundAnchor1.x=t.groundAnchorA.x-this.m_ground.m_xf.position.x,this.m_groundAnchor1.y=t.groundAnchorA.y-this.m_ground.m_xf.position.y,this.m_groundAnchor2.x=t.groundAnchorB.x-this.m_ground.m_xf.position.x,this.m_groundAnchor2.y=t.groundAnchorB.y-this.m_ground.m_xf.position.y,this.m_localAnchor1.SetV(t.localAnchorA),this.m_localAnchor2.SetV(t.localAnchorB),this.m_ratio=t.ratio,this.m_constant=t.lengthA+this.m_ratio*t.lengthB,this.m_maxLength1=o.Min(t.maxLengthA,this.m_constant-this.m_ratio*w.b2_minPulleyLength),this.m_maxLength2=o.Min(t.maxLengthB,(this.m_constant-w.b2_minPulleyLength)/this.m_ratio),this.m_impulse=0,this.m_limitImpulse1=0,this.m_limitImpulse2=0},w.prototype.InitVelocityConstraints=function(e){var i,o=this.m_bodyA,n=this.m_bodyB;i=o.m_xf.R;var s=this.m_localAnchor1.x-o.m_sweep.localCenter.x,a=this.m_localAnchor1.y-o.m_sweep.localCenter.y,r=i.col1.x*s+i.col2.x*a;a=i.col1.y*s+i.col2.y*a,s=r,i=n.m_xf.R;var l=this.m_localAnchor2.x-n.m_sweep.localCenter.x,h=this.m_localAnchor2.y-n.m_sweep.localCenter.y;r=i.col1.x*l+i.col2.x*h,h=i.col1.y*l+i.col2.y*h,l=r;var p=o.m_sweep.c.x+s,c=o.m_sweep.c.y+a,m=n.m_sweep.c.x+l,u=n.m_sweep.c.y+h,y=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,g=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,f=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,b=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.Set(p-y,c-g),this.m_u2.Set(m-f,u-b);var x=this.m_u1.Length(),_=this.m_u2.Length();x>t.b2_linearSlop?this.m_u1.Multiply(1/x):this.m_u1.SetZero(),_>t.b2_linearSlop?this.m_u2.Multiply(1/_):this.m_u2.SetZero(),this.m_constant-x-this.m_ratio*_>0?(this.m_state=d.e_inactiveLimit,this.m_impulse=0):this.m_state=d.e_atUpperLimit,x<this.m_maxLength1?(this.m_limitState1=d.e_inactiveLimit,this.m_limitImpulse1=0):this.m_limitState1=d.e_atUpperLimit,_<this.m_maxLength2?(this.m_limitState2=d.e_inactiveLimit,this.m_limitImpulse2=0):this.m_limitState2=d.e_atUpperLimit;var v=s*this.m_u1.y-a*this.m_u1.x,w=l*this.m_u2.y-h*this.m_u2.x;if(this.m_limitMass1=o.m_invMass+o.m_invI*v*v,this.m_limitMass2=n.m_invMass+n.m_invI*w*w,this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2,this.m_limitMass1=1/this.m_limitMass1,this.m_limitMass2=1/this.m_limitMass2,this.m_pulleyMass=1/this.m_pulleyMass,e.warmStarting){this.m_impulse*=e.dtRatio,this.m_limitImpulse1*=e.dtRatio,this.m_limitImpulse2*=e.dtRatio;var C=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,D=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,S=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,B=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y;o.m_linearVelocity.x+=o.m_invMass*C,o.m_linearVelocity.y+=o.m_invMass*D,o.m_angularVelocity+=o.m_invI*(s*D-a*C),n.m_linearVelocity.x+=n.m_invMass*S,n.m_linearVelocity.y+=n.m_invMass*B,n.m_angularVelocity+=n.m_invI*(l*B-h*S)}else this.m_impulse=0,this.m_limitImpulse1=0,this.m_limitImpulse2=0},w.prototype.SolveVelocityConstraints=function(t){var e,i=this.m_bodyA,n=this.m_bodyB;e=i.m_xf.R;var s=this.m_localAnchor1.x-i.m_sweep.localCenter.x,a=this.m_localAnchor1.y-i.m_sweep.localCenter.y,r=e.col1.x*s+e.col2.x*a;a=e.col1.y*s+e.col2.y*a,s=r,e=n.m_xf.R;var l=this.m_localAnchor2.x-n.m_sweep.localCenter.x,h=this.m_localAnchor2.y-n.m_sweep.localCenter.y;r=e.col1.x*l+e.col2.x*h,h=e.col1.y*l+e.col2.y*h,l=r;var p=0,c=0,m=0,u=0,y=0,g=0,f=0,b=0,x=0,_=0,v=0;this.m_state==d.e_atUpperLimit&&(p=i.m_linearVelocity.x+-i.m_angularVelocity*a,c=i.m_linearVelocity.y+i.m_angularVelocity*s,m=n.m_linearVelocity.x+-n.m_angularVelocity*h,u=n.m_linearVelocity.y+n.m_angularVelocity*l,x=-(this.m_u1.x*p+this.m_u1.y*c)-this.m_ratio*(this.m_u2.x*m+this.m_u2.y*u),_=this.m_pulleyMass*-x,v=this.m_impulse,this.m_impulse=o.Max(0,this.m_impulse+_),y=-(_=this.m_impulse-v)*this.m_u1.x,g=-_*this.m_u1.y,f=-this.m_ratio*_*this.m_u2.x,b=-this.m_ratio*_*this.m_u2.y,i.m_linearVelocity.x+=i.m_invMass*y,i.m_linearVelocity.y+=i.m_invMass*g,i.m_angularVelocity+=i.m_invI*(s*g-a*y),n.m_linearVelocity.x+=n.m_invMass*f,n.m_linearVelocity.y+=n.m_invMass*b,n.m_angularVelocity+=n.m_invI*(l*b-h*f)),this.m_limitState1==d.e_atUpperLimit&&(p=i.m_linearVelocity.x+-i.m_angularVelocity*a,c=i.m_linearVelocity.y+i.m_angularVelocity*s,x=-(this.m_u1.x*p+this.m_u1.y*c),_=-this.m_limitMass1*x,v=this.m_limitImpulse1,this.m_limitImpulse1=o.Max(0,this.m_limitImpulse1+_),y=-(_=this.m_limitImpulse1-v)*this.m_u1.x,g=-_*this.m_u1.y,i.m_linearVelocity.x+=i.m_invMass*y,i.m_linearVelocity.y+=i.m_invMass*g,i.m_angularVelocity+=i.m_invI*(s*g-a*y)),this.m_limitState2==d.e_atUpperLimit&&(m=n.m_linearVelocity.x+-n.m_angularVelocity*h,u=n.m_linearVelocity.y+n.m_angularVelocity*l,x=-(this.m_u2.x*m+this.m_u2.y*u),_=-this.m_limitMass2*x,v=this.m_limitImpulse2,this.m_limitImpulse2=o.Max(0,this.m_limitImpulse2+_),f=-(_=this.m_limitImpulse2-v)*this.m_u2.x,b=-_*this.m_u2.y,n.m_linearVelocity.x+=n.m_invMass*f,n.m_linearVelocity.y+=n.m_invMass*b,n.m_angularVelocity+=n.m_invI*(l*b-h*f))},w.prototype.SolvePositionConstraints=function(e){void 0===e&&(e=0);var i,n=this.m_bodyA,s=this.m_bodyB,a=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,r=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,l=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,h=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,p=0,c=0,m=0,u=0,y=0,g=0,f=0,b=0,x=0,_=0,v=0,w=0,C=0,D=0;return this.m_state==d.e_atUpperLimit&&(i=n.m_xf.R,p=this.m_localAnchor1.x-n.m_sweep.localCenter.x,c=this.m_localAnchor1.y-n.m_sweep.localCenter.y,C=i.col1.x*p+i.col2.x*c,c=i.col1.y*p+i.col2.y*c,p=C,i=s.m_xf.R,m=this.m_localAnchor2.x-s.m_sweep.localCenter.x,u=this.m_localAnchor2.y-s.m_sweep.localCenter.y,C=i.col1.x*m+i.col2.x*u,u=i.col1.y*m+i.col2.y*u,m=C,y=n.m_sweep.c.x+p,g=n.m_sweep.c.y+c,f=s.m_sweep.c.x+m,b=s.m_sweep.c.y+u,this.m_u1.Set(y-a,g-r),this.m_u2.Set(f-l,b-h),x=this.m_u1.Length(),_=this.m_u2.Length(),x>t.b2_linearSlop?this.m_u1.Multiply(1/x):this.m_u1.SetZero(),_>t.b2_linearSlop?this.m_u2.Multiply(1/_):this.m_u2.SetZero(),v=this.m_constant-x-this.m_ratio*_,D=o.Max(D,-v),v=o.Clamp(v+t.b2_linearSlop,-t.b2_maxLinearCorrection,0),y=-(w=-this.m_pulleyMass*v)*this.m_u1.x,g=-w*this.m_u1.y,f=-this.m_ratio*w*this.m_u2.x,b=-this.m_ratio*w*this.m_u2.y,n.m_sweep.c.x+=n.m_invMass*y,n.m_sweep.c.y+=n.m_invMass*g,n.m_sweep.a+=n.m_invI*(p*g-c*y),s.m_sweep.c.x+=s.m_invMass*f,s.m_sweep.c.y+=s.m_invMass*b,s.m_sweep.a+=s.m_invI*(m*b-u*f),n.SynchronizeTransform(),s.SynchronizeTransform()),this.m_limitState1==d.e_atUpperLimit&&(i=n.m_xf.R,p=this.m_localAnchor1.x-n.m_sweep.localCenter.x,c=this.m_localAnchor1.y-n.m_sweep.localCenter.y,C=i.col1.x*p+i.col2.x*c,c=i.col1.y*p+i.col2.y*c,p=C,y=n.m_sweep.c.x+p,g=n.m_sweep.c.y+c,this.m_u1.Set(y-a,g-r),(x=this.m_u1.Length())>t.b2_linearSlop?(this.m_u1.x*=1/x,this.m_u1.y*=1/x):this.m_u1.SetZero(),v=this.m_maxLength1-x,D=o.Max(D,-v),v=o.Clamp(v+t.b2_linearSlop,-t.b2_maxLinearCorrection,0),y=-(w=-this.m_limitMass1*v)*this.m_u1.x,g=-w*this.m_u1.y,n.m_sweep.c.x+=n.m_invMass*y,n.m_sweep.c.y+=n.m_invMass*g,n.m_sweep.a+=n.m_invI*(p*g-c*y),n.SynchronizeTransform()),this.m_limitState2==d.e_atUpperLimit&&(i=s.m_xf.R,m=this.m_localAnchor2.x-s.m_sweep.localCenter.x,u=this.m_localAnchor2.y-s.m_sweep.localCenter.y,C=i.col1.x*m+i.col2.x*u,u=i.col1.y*m+i.col2.y*u,m=C,f=s.m_sweep.c.x+m,b=s.m_sweep.c.y+u,this.m_u2.Set(f-l,b-h),(_=this.m_u2.Length())>t.b2_linearSlop?(this.m_u2.x*=1/_,this.m_u2.y*=1/_):this.m_u2.SetZero(),v=this.m_maxLength2-_,D=o.Max(D,-v),v=o.Clamp(v+t.b2_linearSlop,-t.b2_maxLinearCorrection,0),f=-(w=-this.m_limitMass2*v)*this.m_u2.x,b=-w*this.m_u2.y,s.m_sweep.c.x+=s.m_invMass*f,s.m_sweep.c.y+=s.m_invMass*b,s.m_sweep.a+=s.m_invI*(m*b-u*f),s.SynchronizeTransform()),D<t.b2_linearSlop},Box2D.postDefs.push(function(){Box2D.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength=2}),Box2D.inherit(C,Box2D.Dynamics.Joints.b2JointDef),C.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype,C.b2PulleyJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.groundAnchorA=new n,this.groundAnchorB=new n,this.localAnchorA=new n,this.localAnchorB=new n},C.prototype.b2PulleyJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_pulleyJoint,this.groundAnchorA.Set(-1,1),this.groundAnchorB.Set(1,1),this.localAnchorA.Set(-1,0),this.localAnchorB.Set(1,0),this.lengthA=0,this.maxLengthA=0,this.lengthB=0,this.maxLengthB=0,this.ratio=1,this.collideConnected=!0},C.prototype.Initialize=function(t,e,i,o,n,s,a){void 0===a&&(a=0),this.bodyA=t,this.bodyB=e,this.groundAnchorA.SetV(i),this.groundAnchorB.SetV(o),this.localAnchorA=this.bodyA.GetLocalPoint(n),this.localAnchorB=this.bodyB.GetLocalPoint(s);var r=n.x-i.x,l=n.y-i.y;this.lengthA=Math.sqrt(r*r+l*l);var h=s.x-o.x,p=s.y-o.y;this.lengthB=Math.sqrt(h*h+p*p),this.ratio=a;var c=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=c-this.ratio*w.b2_minPulleyLength,this.maxLengthB=(c-w.b2_minPulleyLength)/this.ratio},Box2D.inherit(D,Box2D.Dynamics.Joints.b2Joint),D.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype,D.b2RevoluteJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.K=new e,this.K1=new e,this.K2=new e,this.K3=new e,this.impulse3=new s,this.impulse2=new n,this.reduced=new n,this.m_localAnchor1=new n,this.m_localAnchor2=new n,this.m_impulse=new s,this.m_mass=new i},D.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},D.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},D.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new n(t*this.m_impulse.x,t*this.m_impulse.y)},D.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),t*this.m_impulse.z},D.prototype.GetJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle},D.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity},D.prototype.IsLimitEnabled=function(){return this.m_enableLimit},D.prototype.EnableLimit=function(t){this.m_enableLimit=t},D.prototype.GetLowerLimit=function(){return this.m_lowerAngle},D.prototype.GetUpperLimit=function(){return this.m_upperAngle},D.prototype.SetLimits=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.m_lowerAngle=t,this.m_upperAngle=e},D.prototype.IsMotorEnabled=function(){return this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor},D.prototype.EnableMotor=function(t){this.m_enableMotor=t},D.prototype.SetMotorSpeed=function(t){void 0===t&&(t=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t},D.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},D.prototype.SetMaxMotorTorque=function(t){void 0===t&&(t=0),this.m_maxMotorTorque=t},D.prototype.GetMotorTorque=function(){return this.m_maxMotorTorque},D.prototype.b2RevoluteJoint=function(t){this.__super.b2Joint.call(this,t),this.m_localAnchor1.SetV(t.localAnchorA),this.m_localAnchor2.SetV(t.localAnchorB),this.m_referenceAngle=t.referenceAngle,this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerAngle=t.lowerAngle,this.m_upperAngle=t.upperAngle,this.m_maxMotorTorque=t.maxMotorTorque,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=d.e_inactiveLimit},D.prototype.InitVelocityConstraints=function(e){var i,n=this.m_bodyA,s=this.m_bodyB,a=0;this.m_enableMotor||this.m_enableLimit,i=n.m_xf.R;var r=this.m_localAnchor1.x-n.m_sweep.localCenter.x,l=this.m_localAnchor1.y-n.m_sweep.localCenter.y;a=i.col1.x*r+i.col2.x*l,l=i.col1.y*r+i.col2.y*l,r=a,i=s.m_xf.R;var h=this.m_localAnchor2.x-s.m_sweep.localCenter.x,p=this.m_localAnchor2.y-s.m_sweep.localCenter.y;a=i.col1.x*h+i.col2.x*p,p=i.col1.y*h+i.col2.y*p,h=a;var c=n.m_invMass,m=s.m_invMass,u=n.m_invI,y=s.m_invI;if(this.m_mass.col1.x=c+m+l*l*u+p*p*y,this.m_mass.col2.x=-l*r*u-p*h*y,this.m_mass.col3.x=-l*u-p*y,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=c+m+r*r*u+h*h*y,this.m_mass.col3.y=r*u+h*y,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=u+y,this.m_motorMass=1/(u+y),0==this.m_enableMotor&&(this.m_motorImpulse=0),this.m_enableLimit){var g=s.m_sweep.a-n.m_sweep.a-this.m_referenceAngle;o.Abs(this.m_upperAngle-this.m_lowerAngle)<2*t.b2_angularSlop?this.m_limitState=d.e_equalLimits:g<=this.m_lowerAngle?(this.m_limitState!=d.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=d.e_atLowerLimit):g>=this.m_upperAngle?(this.m_limitState!=d.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=d.e_atUpperLimit):(this.m_limitState=d.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=d.e_inactiveLimit;if(e.warmStarting){this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,this.m_motorImpulse*=e.dtRatio;var f=this.m_impulse.x,b=this.m_impulse.y;n.m_linearVelocity.x-=c*f,n.m_linearVelocity.y-=c*b,n.m_angularVelocity-=u*(r*b-l*f+this.m_motorImpulse+this.m_impulse.z),s.m_linearVelocity.x+=m*f,s.m_linearVelocity.y+=m*b,s.m_angularVelocity+=y*(h*b-p*f+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.SetZero(),this.m_motorImpulse=0},D.prototype.SolveVelocityConstraints=function(t){var e,i=this.m_bodyA,n=this.m_bodyB,s=0,a=0,r=0,l=0,h=0,p=i.m_linearVelocity,c=i.m_angularVelocity,m=n.m_linearVelocity,u=n.m_angularVelocity,y=i.m_invMass,g=n.m_invMass,f=i.m_invI,b=n.m_invI;if(this.m_enableMotor&&this.m_limitState!=d.e_equalLimits){var x=u-c-this.m_motorSpeed,_=this.m_motorMass*-x,v=this.m_motorImpulse,w=t.dt*this.m_maxMotorTorque;this.m_motorImpulse=o.Clamp(this.m_motorImpulse+_,-w,w),c-=f*(_=this.m_motorImpulse-v),u+=b*_}if(this.m_enableLimit&&this.m_limitState!=d.e_inactiveLimit){e=i.m_xf.R,a=this.m_localAnchor1.x-i.m_sweep.localCenter.x,r=this.m_localAnchor1.y-i.m_sweep.localCenter.y,s=e.col1.x*a+e.col2.x*r,r=e.col1.y*a+e.col2.y*r,a=s,e=n.m_xf.R,l=this.m_localAnchor2.x-n.m_sweep.localCenter.x,h=this.m_localAnchor2.y-n.m_sweep.localCenter.y,s=e.col1.x*l+e.col2.x*h,h=e.col1.y*l+e.col2.y*h,l=s;var C=m.x+-u*h-p.x- -c*r,D=m.y+u*l-p.y-c*a,S=u-c;this.m_mass.Solve33(this.impulse3,-C,-D,-S),this.m_limitState==d.e_equalLimits?this.m_impulse.Add(this.impulse3):this.m_limitState==d.e_atLowerLimit?this.m_impulse.z+this.impulse3.z<0&&(this.m_mass.Solve22(this.reduced,-C,-D),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0):this.m_limitState==d.e_atUpperLimit&&this.m_impulse.z+this.impulse3.z>0&&(this.m_mass.Solve22(this.reduced,-C,-D),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0),p.x-=y*this.impulse3.x,p.y-=y*this.impulse3.y,c-=f*(a*this.impulse3.y-r*this.impulse3.x+this.impulse3.z),m.x+=g*this.impulse3.x,m.y+=g*this.impulse3.y,u+=b*(l*this.impulse3.y-h*this.impulse3.x+this.impulse3.z)}else{e=i.m_xf.R,a=this.m_localAnchor1.x-i.m_sweep.localCenter.x,r=this.m_localAnchor1.y-i.m_sweep.localCenter.y,s=e.col1.x*a+e.col2.x*r,r=e.col1.y*a+e.col2.y*r,a=s,e=n.m_xf.R,l=this.m_localAnchor2.x-n.m_sweep.localCenter.x,h=this.m_localAnchor2.y-n.m_sweep.localCenter.y,s=e.col1.x*l+e.col2.x*h,h=e.col1.y*l+e.col2.y*h,l=s;var B=m.x+-u*h-p.x- -c*r,A=m.y+u*l-p.y-c*a;this.m_mass.Solve22(this.impulse2,-B,-A),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,p.x-=y*this.impulse2.x,p.y-=y*this.impulse2.y,c-=f*(a*this.impulse2.y-r*this.impulse2.x),m.x+=g*this.impulse2.x,m.y+=g*this.impulse2.y,u+=b*(l*this.impulse2.y-h*this.impulse2.x)}i.m_linearVelocity.SetV(p),i.m_angularVelocity=c,n.m_linearVelocity.SetV(m),n.m_angularVelocity=u},D.prototype.SolvePositionConstraints=function(e){void 0===e&&(e=0);var i,n,s=0,a=this.m_bodyA,r=this.m_bodyB,l=0,h=0,p=0,c=0;if(this.m_enableLimit&&this.m_limitState!=d.e_inactiveLimit){var m=r.m_sweep.a-a.m_sweep.a-this.m_referenceAngle,u=0;this.m_limitState==d.e_equalLimits?(s=o.Clamp(m-this.m_lowerAngle,-t.b2_maxAngularCorrection,t.b2_maxAngularCorrection),u=-this.m_motorMass*s,l=o.Abs(s)):this.m_limitState==d.e_atLowerLimit?(l=-(s=m-this.m_lowerAngle),s=o.Clamp(s+t.b2_angularSlop,-t.b2_maxAngularCorrection,0),u=-this.m_motorMass*s):this.m_limitState==d.e_atUpperLimit&&(l=s=m-this.m_upperAngle,s=o.Clamp(s-t.b2_angularSlop,0,t.b2_maxAngularCorrection),u=-this.m_motorMass*s),a.m_sweep.a-=a.m_invI*u,r.m_sweep.a+=r.m_invI*u,a.SynchronizeTransform(),r.SynchronizeTransform()}i=a.m_xf.R;var y=this.m_localAnchor1.x-a.m_sweep.localCenter.x,g=this.m_localAnchor1.y-a.m_sweep.localCenter.y;h=i.col1.x*y+i.col2.x*g,g=i.col1.y*y+i.col2.y*g,y=h,i=r.m_xf.R;var f=this.m_localAnchor2.x-r.m_sweep.localCenter.x,b=this.m_localAnchor2.y-r.m_sweep.localCenter.y;h=i.col1.x*f+i.col2.x*b,b=i.col1.y*f+i.col2.y*b,f=h;var x=r.m_sweep.c.x+f-a.m_sweep.c.x-y,_=r.m_sweep.c.y+b-a.m_sweep.c.y-g,v=x*x+_*_,w=Math.sqrt(v);n=w;var C=a.m_invMass,S=r.m_invMass,B=a.m_invI,A=r.m_invI,I=10*t.b2_linearSlop;if(v>I*I){var M=1/(C+S);p=M*-x,c=M*-_;a.m_sweep.c.x-=.5*C*p,a.m_sweep.c.y-=.5*C*c,r.m_sweep.c.x+=.5*S*p,r.m_sweep.c.y+=.5*S*c,x=r.m_sweep.c.x+f-a.m_sweep.c.x-y,_=r.m_sweep.c.y+b-a.m_sweep.c.y-g}return this.K1.col1.x=C+S,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=C+S,this.K2.col1.x=B*g*g,this.K2.col2.x=-B*y*g,this.K2.col1.y=-B*y*g,this.K2.col2.y=B*y*y,this.K3.col1.x=A*b*b,this.K3.col2.x=-A*f*b,this.K3.col1.y=-A*f*b,this.K3.col2.y=A*f*f,this.K.SetM(this.K1),this.K.AddM(this.K2),this.K.AddM(this.K3),this.K.Solve(D.tImpulse,-x,-_),p=D.tImpulse.x,c=D.tImpulse.y,a.m_sweep.c.x-=a.m_invMass*p,a.m_sweep.c.y-=a.m_invMass*c,a.m_sweep.a-=a.m_invI*(y*c-g*p),r.m_sweep.c.x+=r.m_invMass*p,r.m_sweep.c.y+=r.m_invMass*c,r.m_sweep.a+=r.m_invI*(f*c-b*p),a.SynchronizeTransform(),r.SynchronizeTransform(),n<=t.b2_linearSlop&&l<=t.b2_angularSlop},Box2D.postDefs.push(function(){Box2D.Dynamics.Joints.b2RevoluteJoint.tImpulse=new n}),Box2D.inherit(S,Box2D.Dynamics.Joints.b2JointDef),S.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype,S.b2RevoluteJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new n,this.localAnchorB=new n},S.prototype.b2RevoluteJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_revoluteJoint,this.localAnchorA.Set(0,0),this.localAnchorB.Set(0,0),this.referenceAngle=0,this.lowerAngle=0,this.upperAngle=0,this.maxMotorTorque=0,this.motorSpeed=0,this.enableLimit=!1,this.enableMotor=!1},S.prototype.Initialize=function(t,e,i){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.GetLocalPoint(i),this.localAnchorB=this.bodyB.GetLocalPoint(i),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()},Box2D.inherit(B,Box2D.Dynamics.Joints.b2Joint),B.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype,B.b2WeldJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchorA=new n,this.m_localAnchorB=new n,this.m_impulse=new s,this.m_mass=new i},B.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)},B.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)},B.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new n(t*this.m_impulse.x,t*this.m_impulse.y)},B.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),t*this.m_impulse.z},B.prototype.b2WeldJoint=function(t){this.__super.b2Joint.call(this,t),this.m_localAnchorA.SetV(t.localAnchorA),this.m_localAnchorB.SetV(t.localAnchorB),this.m_referenceAngle=t.referenceAngle,this.m_impulse.SetZero(),this.m_mass=new i},B.prototype.InitVelocityConstraints=function(t){var e,i=0,o=this.m_bodyA,n=this.m_bodyB;e=o.m_xf.R;var s=this.m_localAnchorA.x-o.m_sweep.localCenter.x,a=this.m_localAnchorA.y-o.m_sweep.localCenter.y;i=e.col1.x*s+e.col2.x*a,a=e.col1.y*s+e.col2.y*a,s=i,e=n.m_xf.R;var r=this.m_localAnchorB.x-n.m_sweep.localCenter.x,l=this.m_localAnchorB.y-n.m_sweep.localCenter.y;i=e.col1.x*r+e.col2.x*l,l=e.col1.y*r+e.col2.y*l,r=i;var h=o.m_invMass,p=n.m_invMass,c=o.m_invI,m=n.m_invI;this.m_mass.col1.x=h+p+a*a*c+l*l*m,this.m_mass.col2.x=-a*s*c-l*r*m,this.m_mass.col3.x=-a*c-l*m,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=h+p+s*s*c+r*r*m,this.m_mass.col3.y=s*c+r*m,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=c+m,t.warmStarting?(this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,this.m_impulse.z*=t.dtRatio,o.m_linearVelocity.x-=h*this.m_impulse.x,o.m_linearVelocity.y-=h*this.m_impulse.y,o.m_angularVelocity-=c*(s*this.m_impulse.y-a*this.m_impulse.x+this.m_impulse.z),n.m_linearVelocity.x+=p*this.m_impulse.x,n.m_linearVelocity.y+=p*this.m_impulse.y,n.m_angularVelocity+=m*(r*this.m_impulse.y-l*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.SetZero()},B.prototype.SolveVelocityConstraints=function(t){var e,i=0,o=this.m_bodyA,n=this.m_bodyB,a=o.m_linearVelocity,r=o.m_angularVelocity,l=n.m_linearVelocity,h=n.m_angularVelocity,p=o.m_invMass,c=n.m_invMass,m=o.m_invI,d=n.m_invI;e=o.m_xf.R;var u=this.m_localAnchorA.x-o.m_sweep.localCenter.x,y=this.m_localAnchorA.y-o.m_sweep.localCenter.y;i=e.col1.x*u+e.col2.x*y,y=e.col1.y*u+e.col2.y*y,u=i,e=n.m_xf.R;var g=this.m_localAnchorB.x-n.m_sweep.localCenter.x,f=this.m_localAnchorB.y-n.m_sweep.localCenter.y;i=e.col1.x*g+e.col2.x*f,f=e.col1.y*g+e.col2.y*f,g=i;var b=l.x-h*f-a.x+r*y,x=l.y+h*g-a.y-r*u,_=h-r,v=new s;this.m_mass.Solve33(v,-b,-x,-_),this.m_impulse.Add(v),a.x-=p*v.x,a.y-=p*v.y,r-=m*(u*v.y-y*v.x+v.z),l.x+=c*v.x,l.y+=c*v.y,h+=d*(g*v.y-f*v.x+v.z),o.m_angularVelocity=r,n.m_angularVelocity=h},B.prototype.SolvePositionConstraints=function(e){var i;void 0===e&&(e=0);var n=0,a=this.m_bodyA,r=this.m_bodyB;i=a.m_xf.R;var l=this.m_localAnchorA.x-a.m_sweep.localCenter.x,h=this.m_localAnchorA.y-a.m_sweep.localCenter.y;n=i.col1.x*l+i.col2.x*h,h=i.col1.y*l+i.col2.y*h,l=n,i=r.m_xf.R;var p=this.m_localAnchorB.x-r.m_sweep.localCenter.x,c=this.m_localAnchorB.y-r.m_sweep.localCenter.y;n=i.col1.x*p+i.col2.x*c,c=i.col1.y*p+i.col2.y*c,p=n;var m=a.m_invMass,d=r.m_invMass,u=a.m_invI,y=r.m_invI,g=r.m_sweep.c.x+p-a.m_sweep.c.x-l,f=r.m_sweep.c.y+c-a.m_sweep.c.y-h,b=r.m_sweep.a-a.m_sweep.a-this.m_referenceAngle,x=10*t.b2_linearSlop,_=Math.sqrt(g*g+f*f),v=o.Abs(b);_>x&&(u*=1,y*=1),this.m_mass.col1.x=m+d+h*h*u+c*c*y,this.m_mass.col2.x=-h*l*u-c*p*y,this.m_mass.col3.x=-h*u-c*y,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=m+d+l*l*u+p*p*y,this.m_mass.col3.y=l*u+p*y,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=u+y;var w=new s;return this.m_mass.Solve33(w,-g,-f,-b),a.m_sweep.c.x-=m*w.x,a.m_sweep.c.y-=m*w.y,a.m_sweep.a-=u*(l*w.y-h*w.x+w.z),r.m_sweep.c.x+=d*w.x,r.m_sweep.c.y+=d*w.y,r.m_sweep.a+=y*(p*w.y-c*w.x+w.z),a.SynchronizeTransform(),r.SynchronizeTransform(),_<=t.b2_linearSlop&&v<=t.b2_angularSlop},Box2D.inherit(A,Box2D.Dynamics.Joints.b2JointDef),A.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype,A.b2WeldJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new n,this.localAnchorB=new n},A.prototype.b2WeldJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_weldJoint,this.referenceAngle=0},A.prototype.Initialize=function(t,e,i){this.bodyA=t,this.bodyB=e,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(i)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(i)),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}(),function(){var t=Box2D.Dynamics.b2DebugDraw;t.b2DebugDraw=function(){this.m_drawScale=1,this.m_lineThickness=1,this.m_alpha=1,this.m_fillAlpha=1,this.m_xformScale=1;var t=this;this.m_sprite={graphics:{clear:function(){t.m_ctx.clearRect(0,0,t.m_ctx.canvas.width,t.m_ctx.canvas.height)}}}},t.prototype._color=function(t,e){return"rgba("+((16711680&t)>>16)+","+((65280&t)>>8)+","+(255&t)+","+e+")"},t.prototype.b2DebugDraw=function(){this.m_drawFlags=0},t.prototype.SetFlags=function(t){void 0===t&&(t=0),this.m_drawFlags=t},t.prototype.GetFlags=function(){return this.m_drawFlags},t.prototype.AppendFlags=function(t){void 0===t&&(t=0),this.m_drawFlags|=t},t.prototype.ClearFlags=function(t){void 0===t&&(t=0),this.m_drawFlags&=~t},t.prototype.SetSprite=function(t){this.m_ctx=t},t.prototype.GetSprite=function(){return this.m_ctx},t.prototype.SetDrawScale=function(t){void 0===t&&(t=0),this.m_drawScale=t},t.prototype.GetDrawScale=function(){return this.m_drawScale},t.prototype.SetLineThickness=function(t){void 0===t&&(t=0),this.m_lineThickness=t,this.m_ctx.strokeWidth=t},t.prototype.GetLineThickness=function(){return this.m_lineThickness},t.prototype.SetAlpha=function(t){void 0===t&&(t=0),this.m_alpha=t},t.prototype.GetAlpha=function(){return this.m_alpha},t.prototype.SetFillAlpha=function(t){void 0===t&&(t=0),this.m_fillAlpha=t},t.prototype.GetFillAlpha=function(){return this.m_fillAlpha},t.prototype.SetXFormScale=function(t){void 0===t&&(t=0),this.m_xformScale=t},t.prototype.GetXFormScale=function(){return this.m_xformScale},t.prototype.DrawPolygon=function(t,e,i){if(e){var o=this.m_ctx,n=this.m_drawScale;o.beginPath(),o.strokeStyle=this._color(i.color,this.m_alpha),o.moveTo(t[0].x*n,t[0].y*n);for(var s=1;s<e;s++)o.lineTo(t[s].x*n,t[s].y*n);o.lineTo(t[0].x*n,t[0].y*n),o.closePath(),o.stroke()}},t.prototype.DrawSolidPolygon=function(t,e,i){if(e){var o=this.m_ctx,n=this.m_drawScale;o.beginPath(),o.strokeStyle=this._color(i.color,this.m_alpha),o.fillStyle=this._color(i.color,this.m_fillAlpha),o.moveTo(t[0].x*n,t[0].y*n);for(var s=1;s<e;s++)o.lineTo(t[s].x*n,t[s].y*n);o.lineTo(t[0].x*n,t[0].y*n),o.closePath(),o.fill(),o.stroke()}},t.prototype.DrawCircle=function(t,e,i){if(e){var o=this.m_ctx,n=this.m_drawScale;o.beginPath(),o.strokeStyle=this._color(i.color,this.m_alpha),o.arc(t.x*n,t.y*n,e*n,0,2*Math.PI,!0),o.closePath(),o.stroke()}},t.prototype.DrawSolidCircle=function(t,e,i,o){if(e){var n=this.m_ctx,s=this.m_drawScale,a=t.x*s,r=t.y*s;n.moveTo(0,0),n.beginPath(),n.strokeStyle=this._color(o.color,this.m_alpha),n.fillStyle=this._color(o.color,this.m_fillAlpha),n.arc(a,r,e*s,0,2*Math.PI,!0),n.moveTo(a,r),n.lineTo((t.x+i.x*e)*s,(t.y+i.y*e)*s),n.closePath(),n.fill(),n.stroke()}},t.prototype.DrawSegment=function(t,e,i){var o=this.m_ctx,n=this.m_drawScale;o.strokeStyle=this._color(i.color,this.m_alpha),o.beginPath(),o.moveTo(t.x*n,t.y*n),o.lineTo(e.x*n,e.y*n),o.closePath(),o.stroke()},t.prototype.DrawTransform=function(t){var e=this.m_ctx,i=this.m_drawScale;e.beginPath(),e.strokeStyle=this._color(16711680,this.m_alpha),e.moveTo(t.position.x*i,t.position.y*i),e.lineTo((t.position.x+this.m_xformScale*t.R.col1.x)*i,(t.position.y+this.m_xformScale*t.R.col1.y)*i),e.strokeStyle=this._color(65280,this.m_alpha),e.moveTo(t.position.x*i,t.position.y*i),e.lineTo((t.position.x+this.m_xformScale*t.R.col2.x)*i,(t.position.y+this.m_xformScale*t.R.col2.y)*i),e.closePath(),e.stroke()}}(),n=0;n<Box2D.postDefs.length;++n)Box2D.postDefs[n]();delete Box2D.postDefs},112:function(t,e,i){i(113),t.exports=i(351)},280:function(t,e,i){},282:function(t){t.exports={global:{autoLoad:!0,initialScene:"load",fps:60,rootElement:"root",aspectRatio:1.77698,nativeAssetResolution:988,resizeFont:!0},aspects:[{ogg:["firefox","opera","chrome"],m4aCombined:["android","silk","ipod","ipad","iphone"],mp3:["msie","safari","trident"]}],assets:{"title-title":{id:"title-title",src:{ogg:"a/title-title.ogg",mp3:"a/title-title.mp3",m4a:"a/title-title.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:2038,length:28540}}}},"ie-fix":{id:"ie-fix",src:{mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:5e3,length:500}}}},"sandbox-intro":{id:"sandbox-intro",src:{ogg:"a/sandbox-intro.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:283e3,length:11544.01360544216}},m4a:"a/sandbox-intro.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:30897,length:12405}}}},"menu-arrows":{id:"menu-arrows",src:{ogg:"a/menu-arrows.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:125e3,length:2975.9863945578218}},m4a:"a/menu-arrows.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:43453,length:3767}}}},"menu-choose":{id:"menu-choose",src:{ogg:"a/menu-choose.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:129e3,length:1895.9863945578093}},m4a:"a/menu-choose.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:47457,length:2617}}}},"menu-party":{id:"menu-party",src:{ogg:"a/menu-party.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:132e3,length:3815.9863945578254}},m4a:"a/menu-party.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:50409,length:4506}}}},"tutorial-0":{id:"tutorial-0",src:{ogg:"a/tutorial-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:317e3,length:2472.0181405895687}},m4a:"a/tutorial-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:55214,length:3247}}}},"tutorial-1":{id:"tutorial-1",src:{ogg:"a/tutorial-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:321e3,length:7079.999999999984}},m4a:"a/tutorial-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:58857,length:7842}}}},"tutorial-2":{id:"tutorial-2",src:{ogg:"a/tutorial-2.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:33e4,length:7272.01814058958}},m4a:"a/tutorial-2.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:66909,length:8012}}}},"tutorial-3":{id:"tutorial-3",src:{ogg:"a/tutorial-3.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:339e3,length:3720.0000000000273}},m4a:"a/tutorial-3.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:75180,length:4397}}}},"tutorial-4":{id:"tutorial-4",src:{ogg:"a/tutorial-4.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:344e3,length:6552.018140589553}},m4a:"a/tutorial-4.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:8e4,length:7274}}}},"tutorial-5":{id:"tutorial-5",src:{ogg:"a/tutorial-5.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:352e3,length:4175.986394557811}},m4a:"a/tutorial-5.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:87493,length:4945}}}},"tutorial-6":{id:"tutorial-6",src:{ogg:"a/tutorial-6.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:358e3,length:3575.9863945578445}},m4a:"a/tutorial-6.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:92751,length:4315}}}},"tutorial-7":{id:"tutorial-7",src:{ogg:"a/tutorial-7.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:363e3,length:4752.018140589542}},m4a:"a/tutorial-7.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:97380,length:5657}}}},"tutorial-8":{id:"tutorial-8",src:{ogg:"a/tutorial-8.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:369e3,length:6240.000000000009}},m4a:"a/tutorial-8.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:103186,length:6920}}}},"tutorial-color":{id:"tutorial-color",src:{ogg:"a/tutorial-color.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:377e3,length:12095.986394557825}},m4a:"a/tutorial-color.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:110428,length:12833}}}},"blueberry-0":{id:"blueberry-0",src:{ogg:"a/blueberry-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:13e3,length:5424.013605442176}},m4a:"a/blueberry-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:123520,length:6287}}}},"blueberry-1":{id:"blueberry-1",src:{ogg:"a/blueberry-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:2e4,length:3264.013605442177}},m4a:"a/blueberry-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:13e4,length:3751}}}},"egg-0":{id:"egg-0",src:{ogg:"a/egg-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:48e3,length:4079.999999999998}},m4a:"a/egg-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:134229,length:4917}}}},"egg-1":{id:"egg-1",src:{ogg:"a/egg-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:54e3,length:4320}},m4a:"a/egg-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:139663,length:4780}}}},"egg-2":{id:"egg-2",src:{ogg:"a/egg-2.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:6e4,length:4968.004535147386}},m4a:"a/egg-2.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:144730,length:5684}}}},"flour-0":{id:"flour-0",src:{ogg:"a/flour-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:66e3,length:2424.0136054421837}},m4a:"a/flour-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:150755,length:3082}}}},"flour-1":{id:"flour-1",src:{ogg:"a/flour-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:7e4,length:4799.999999999997}},m4a:"a/flour-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:154234,length:5520}}}},"flour-2":{id:"flour-2",src:{ogg:"a/flour-2.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:76e3,length:3359.9999999999995}},m4a:"a/flour-2.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:16e4,length:4163}}}},"milk-0":{id:"milk-0",src:{ogg:"a/milk-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:137e3,length:2208.0045351473814}},m4a:"a/milk-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:164498,length:2880}}}},"milk-1":{id:"milk-1",src:{ogg:"a/milk-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:141e3,length:3528.0045351474027}},m4a:"a/milk-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:167730,length:4233}}}},"milk-2":{id:"milk-2",src:{ogg:"a/milk-2.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:146e3,length:6240.000000000009}},m4a:"a/milk-2.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:172276,length:6944}}}},"audio-help":{id:"audio-help",src:{ogg:"a/audio-help.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:6e3,length:2495.986394557823}},m4a:"a/audio-help.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:179507,length:3193}}}},"audio-help-button":{id:"audio-help-button",src:{ogg:"a/audio-help-button.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:0,length:4104.013605442176}},m4a:"a/audio-help-button.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:183040,length:4835}}}},muffins:{id:"muffins",src:{ogg:"a/muffins.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:154e3,length:1680.0000000000068}},m4a:"a/muffins.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:188215,length:2360}}}},balloons:{id:"balloons",src:{ogg:"a/balloons.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:1e4,length:1295.9863945578238}},m4a:"a/balloons.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:190927,length:1970}}}},cake:{id:"cake",src:{ogg:"a/cake.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:28e3,length:1032.018140589571}},m4a:"a/cake.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:193227,length:1710}}}},"cake-a":{id:"cake-a",src:{ogg:"a/cake-a.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:25e3,length:1104.0136054421764}},m4a:"a/cake-a.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:195254,length:1850}}}},"chocolate-0":{id:"chocolate-0",src:{ogg:"a/chocolate-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:31e3,length:2592.018140589566}},m4a:"a/chocolate-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:197509,length:3301}}}},"confirm-leave":{id:"confirm-leave",src:{ogg:"a/confirm-leave.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:35e3,length:2472.0181405895687}},m4a:"a/confirm-leave.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:201178,length:3022}}}},"confirm-reset":{id:"confirm-reset",src:{ogg:"a/confirm-reset.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:39e3,length:4224.013605442174}},m4a:"a/confirm-reset.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:204724,length:4725}}}},decorations:{id:"decorations",src:{ogg:"a/decorations.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:45e3,length:1799.9999999999973}},m4a:"a/decorations.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:209807,length:2434}}}},"honey-0":{id:"honey-0",src:{ogg:"a/honey-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:81e3,length:2975.9863945578218}},m4a:"a/honey-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:212655,length:3548}}}},"honey-1":{id:"honey-1",src:{ogg:"a/honey-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:85e3,length:4104.013605442176}},m4a:"a/honey-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:216712,length:4772}}}},"ice-cream":{id:"ice-cream",src:{ogg:"a/ice-cream.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:91e3,length:1464.013605442176}},m4a:"a/ice-cream.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:221791,length:2140}}}},kite:{id:"kite",src:{ogg:"a/kite.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:97e3,length:1079.9999999999982}},m4a:"a/kite.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:224345,length:1760}}}},"kite-a":{id:"kite-a",src:{ogg:"a/kite-a.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:94e3,length:1248.0045351473877}},m4a:"a/kite-a.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:226420,length:1930}}}},"lev-complete-0":{id:"lev-complete-0",src:{ogg:"a/lev-complete-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:1e5,length:2400.0000000000055}},m4a:"a/lev-complete-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:228735,length:3177}}}},"lev-complete-1":{id:"lev-complete-1",src:{ogg:"a/lev-complete-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:104e3,length:2088.004535147391}},m4a:"a/lev-complete-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:232157,length:2743}}}},"lev-do":{id:"lev-do",src:{ogg:"a/lev-do.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:108e3,length:3480.000000000004}},m4a:"a/lev-do.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:235192,length:4075}}}},"lev-fail-reset":{id:"lev-fail-reset",src:{ogg:"a/lev-fail-reset.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:113e3,length:5472.018140589569}},m4a:"a/lev-fail-reset.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:239713,length:6150}}}},"lev-lever":{id:"lev-lever",src:{ogg:"a/lev-lever.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:12e4,length:3504.0136054421823}},m4a:"a/lev-lever.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:246268,length:4044}}}},"name-balloon":{id:"name-balloon",src:{ogg:"a/name-balloon.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:157e3,length:1175.9863945578104}},m4a:"a/name-balloon.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:250820,length:1721}}}},"name-blueberry":{id:"name-blueberry",src:{ogg:"a/name-blueberry.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:16e4,length:1272.01814058958}},m4a:"a/name-blueberry.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:253e3,length:1880}}}},"name-chocolate":{id:"name-chocolate",src:{ogg:"a/name-chocolate.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:163e3,length:1344.0136054421714}},m4a:"a/name-chocolate.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:255372,length:1800}}}},"name-egg":{id:"name-egg",src:{ogg:"a/name-egg.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:166e3,length:1152.0181405895755}},m4a:"a/name-egg.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:257741,length:1700}}}},"name-flour":{id:"name-flour",src:{ogg:"a/name-flour.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:169e3,length:1272.01814058958}},m4a:"a/name-flour.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:259862,length:1837}}}},"name-honey":{id:"name-honey",src:{ogg:"a/name-honey.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:172e3,length:984.0136054421862}},m4a:"a/name-honey.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:262200,length:1600}}}},"name-milk":{id:"name-milk",src:{ogg:"a/name-milk.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:174e3,length:1055.9863945578343}},m4a:"a/name-milk.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:264182,length:1730}}}},"name-paper":{id:"name-paper",src:{ogg:"a/name-paper.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:177e3,length:1080.0000000000125}},m4a:"a/name-paper.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:266255,length:1760}}}},"name-rubber":{id:"name-rubber",src:{ogg:"a/name-rubber.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:18e4,length:984.0136054421862}},m4a:"a/name-rubber.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:268392,length:1660}}}},"name-thread":{id:"name-thread",src:{ogg:"a/name-thread.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:182e3,length:1535.986394557824}},m4a:"a/name-thread.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:270420,length:2240}}}},"name-wood":{id:"name-wood",src:{ogg:"a/name-wood.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:185e3,length:1128.0045351473973}},m4a:"a/name-wood.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:273e3,length:1700}}}},"name-wool":{id:"name-wool",src:{ogg:"a/name-wool.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:188e3,length:1512.0181405895607}},m4a:"a/name-wool.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:275127,length:2047}}}},"paper-0":{id:"paper-0",src:{ogg:"a/paper-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:191e3,length:4175.986394557811}},m4a:"a/paper-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:277636,length:4895}}}},"paper-1":{id:"paper-1",src:{ogg:"a/paper-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:197e3,length:3360.0000000000136}},m4a:"a/paper-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:282853,length:4044}}}},"paper-2":{id:"paper-2",src:{ogg:"a/paper-2.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:202e3,length:2735.9863945578127}},m4a:"a/paper-2.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:287365,length:3200}}}},"paper-3":{id:"paper-3",src:{ogg:"a/paper-3.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:206e3,length:3215.986394557831}},m4a:"a/paper-3.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:291e3,length:3846}}}},"party-done":{id:"party-done",src:{ogg:"a/party-done.ogg",mp3:"a/party-done.mp3",m4a:"a/party-done.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:295323,length:6530}}}},"party-empty":{id:"party-empty",src:{ogg:"a/party-empty.ogg",mp3:"a/party-empty.mp3",m4a:"a/party-empty.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:302151,length:6100}}}},"party-hats":{id:"party-hats",src:{ogg:"a/party-hats.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:211e3,length:1272.01814058958}},m4a:"a/party-hats.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:308569,length:2e3}}}},"party-more-stars":{id:"party-more-stars",src:{ogg:"a/party-more-stars.ogg",mp3:"a/party-more-stars.mp3",m4a:"a/party-more-stars.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:310876,length:9618}}}},"party-not-done":{id:"party-not-done",src:{ogg:"a/party-not-done.ogg",mp3:"a/party-not-done.mp3",m4a:"a/party-not-done.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:320818,length:7311}}}},pinata:{id:"pinata",src:{ogg:"a/pinata.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:217e3,length:1248.0045351474018}},m4a:"a/pinata.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:328575,length:1783}}}},"pinata-a":{id:"pinata-a",src:{ogg:"a/pinata-a.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:214e3,length:1704.013605442185}},m4a:"a/pinata-a.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:330743,length:2356}}}},"product-result":{id:"product-result",src:{ogg:"a/product-result.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:22e4,length:3719.999999999999}},m4a:"a/product-result.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:333530,length:4292}}}},"product-stars-0":{id:"product-stars-0",src:{ogg:"a/product-stars-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:225e3,length:3792.018140589562}},m4a:"a/product-stars-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:338686,length:4183}}}},"product-stars-1":{id:"product-stars-1",src:{ogg:"a/product-stars-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:234e3,length:1824.0136054421896}},m4a:"a/product-stars-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:343119,length:2465}}}},"product-stars-1-plural":{id:"product-stars-1-plural",src:{ogg:"a/product-stars-1-plural.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:23e4,length:2088.0045351474055}},m4a:"a/product-stars-1-plural.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:346e3,length:2700}}}},"product-start":{id:"product-start",src:{ogg:"a/product-start.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:237e3,length:5688.0045351474}},m4a:"a/product-start.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:349126,length:6397}}}},"reassure-0":{id:"reassure-0",src:{ogg:"a/reassure-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:244e3,length:2304.013605442179}},m4a:"a/reassure-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:355877,length:2822}}}},"reassure-1":{id:"reassure-1",src:{ogg:"a/reassure-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:248e3,length:2280.000000000001}},m4a:"a/reassure-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:359175,length:2929}}}},"reassure-2":{id:"reassure-2",src:{ogg:"a/reassure-2.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:252e3,length:3024.0136054421782}},m4a:"a/reassure-2.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:362445,length:3533}}}},"reassure-3":{id:"reassure-3",src:{ogg:"a/reassure-3.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:257e3,length:1872.018140589546}},m4a:"a/reassure-3.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:366548,length:2542}}}},"reassure-4":{id:"reassure-4",src:{ogg:"a/reassure-4.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:26e4,length:1584.0136054421805}},m4a:"a/reassure-4.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:369428,length:2403}}}},"reassure-5":{id:"reassure-5",src:{ogg:"a/reassure-5.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:263e3,length:3432.0181405895482}},m4a:"a/reassure-5.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:372e3,length:4074}}}},"reassure-6":{id:"reassure-6",src:{ogg:"a/reassure-6.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:268e3,length:2592.0181405895732}},m4a:"a/reassure-6.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:376612,length:3087}}}},"rubber-0":{id:"rubber-0",src:{ogg:"a/rubber-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:272e3,length:3480.000000000018}},m4a:"a/rubber-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:380109,length:4137}}}},"rubber-1":{id:"rubber-1",src:{ogg:"a/rubber-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:277e3,length:4272.01814058958}},m4a:"a/rubber-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:384569,length:5019}}}},"thread-0":{id:"thread-0",src:{ogg:"a/thread-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:296e3,length:2424.0136054421555}},m4a:"a/thread-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:39e4,length:3010}}}},"thread-1":{id:"thread-1",src:{ogg:"a/thread-1.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:3e5,length:3480.000000000018}},m4a:"a/thread-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:393502,length:4197}}}},"thread-2":{id:"thread-2",src:{ogg:"a/thread-2.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:305e3,length:5855.986394557817}},m4a:"a/thread-2.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:397886,length:6537}}}},"thread-3":{id:"thread-3",src:{ogg:"a/thread-3.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:312e3,length:3768.0045351473836}},m4a:"a/thread-3.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:404791,length:4431}}}},"wood-0":{id:"wood-0",src:{ogg:"a/wood-0.ogg",mp3:{assetId:"combined",src:"a/combined.mp3",data:{offset:391e3,length:3888.004535147388}},m4a:"a/wood-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:409573,length:4555}}}},"balloon-sfx":{id:"balloon-sfx",src:{ogg:"a/balloon-sfx.ogg",mp3:"a/balloon-sfx.mp3",m4a:"a/balloon-sfx.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:414515,length:1310}}}},"boxing-glove":{id:"boxing-glove",src:{ogg:"a/boxing-glove.ogg",mp3:"a/boxing-glove.mp3",m4a:"a/boxing-glove.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:416e3,length:1151}}}},ding:{id:"ding",src:{ogg:"a/ding.ogg",mp3:"a/ding.mp3"}},"egg-cracked":{id:"egg-cracked",src:{ogg:"a/egg-cracked.ogg",mp3:"a/egg-cracked.mp3",m4a:"a/egg-cracked.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:419272,length:1557}}}},eject:{id:"eject",src:{ogg:"a/eject.ogg",mp3:"a/eject.mp3",m4a:"a/eject.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:421092,length:1011}}}},"fan-sfx":{id:"fan-sfx",src:{ogg:"a/fan-sfx.ogg",mp3:"a/fan-sfx.mp3",m4a:"a/fan-sfx.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:422314,length:3195}}}},"hit-hard":{id:"hit-hard",src:{ogg:"a/hit-hard.ogg",mp3:"a/hit-hard.mp3",m4a:"a/hit-hard.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:425694,length:1005}}}},"hit-soft":{id:"hit-soft",src:{ogg:"a/hit-soft.ogg",mp3:"a/hit-soft.mp3",m4a:"a/hit-soft.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:427e3,length:906}}}},"rocket-launcher":{id:"rocket-launcher",src:{ogg:"a/rocket-launcher.ogg",mp3:"a/rocket-launcher.mp3",m4a:"a/rocket-launcher.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:428155,length:1362}}}},"rotate-fail":{id:"rotate-fail",src:{ogg:"a/rotate-fail.ogg",mp3:"a/rotate-fail.mp3",m4a:"a/rotate-fail.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:429650,length:1049}}}},"rubber-sfx":{id:"rubber-sfx",src:{ogg:"a/rubber-sfx.ogg",mp3:"a/rubber-sfx.mp3",m4a:"a/rubber-sfx.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:430872,length:1037}}}},star:{id:"star",src:{ogg:"a/star.ogg",mp3:"a/star.mp3",m4a:"a/star.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:432094,length:1605}}}},switch:{id:"switch",src:{ogg:"a/switch.ogg",mp3:"a/switch.mp3",m4a:"a/switch.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:433887,length:972}}}},"thing-1":{id:"thing-1",src:{ogg:"a/thing-1.ogg",mp3:"a/thing-1.mp3",m4a:"a/thing-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:435096,length:1336}}}},"thing-2":{id:"thing-2",src:{ogg:"a/thing-2.ogg",mp3:"a/thing-2.mp3",m4a:"a/thing-2.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:436656,length:1544}}}},"thud-0":{id:"thud-0",src:{ogg:"a/thud-0.ogg",mp3:"a/thud-0.mp3",m4a:"a/thud-0.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:438398,length:1037}}}},"thud-1":{id:"thud-1",src:{ogg:"a/thud-1.ogg",mp3:"a/thud-1.mp3",m4a:"a/thud-1.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:439568,length:1131}}}},"thud-2":{id:"thud-2",src:{ogg:"a/thud-2.ogg",mp3:"a/thud-2.mp3",m4a:"a/thud-2.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:440842,length:1076}}}},"wood-sfx2":{id:"wood-sfx2",src:{ogg:"a/wood-sfx2.ogg",mp3:"a/wood-sfx2.mp3",m4a:"a/wood-sfx2.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:442e3,length:1154}}}},"wood-sfx":{id:"wood-sfx",src:{ogg:"a/wood-sfx.ogg",mp3:"a/wood-sfx.mp3",m4a:"a/wood-sfx.m4a",m4aCombined:{assetId:"combined",src:"a/combined.m4a",data:{offset:443325,length:894}}}},"background-music":{id:"background-music",src:{ogg:"a/background.ogg",mp3:"a/background.mp3",m4a:"a/background.m4a"}},"background-music-menu":{id:"background-music-menu",src:{ogg:"a/background-menu.ogg",mp3:"a/background-menu.mp3",m4a:"a/background-menu.m4a"}},background:{id:"background",src:"i/background.png"},balloon:{id:"balloon",src:"i/helium_balloon.png",data:{rows:1,columns:4}},"bean-ball":{id:"bean-ball",src:"i/beans.png",data:{rows:1,columns:2}},"berry-ball":{id:"berry-ball",src:"i/blueberry.png",data:{rows:1,columns:2}},buttons:{id:"buttons",src:"i/buttons.png"},candle:{id:"candle",src:"i/candle.png",data:{rows:1,columns:2}},candy:{id:"candy",src:"i/candy.png"},circle:{id:"circle",src:"i/rotation_circle.png"},colorer:{id:"colorer",src:"i/paint-front.png",data:{rows:9,columns:11}},"colorer-rim":{id:"colorer-rim",src:"i/paint-back.png",data:{rows:3,columns:14}},confetti:{id:"confetti",src:"i/confetti.png",data:{rows:3,columns:3}},"dialog-bg":{id:"dialog-bg",src:"i/dialog-bg.png"},"dialog-buttons":{id:"dialog-buttons",src:"i/dialog-buttons.png",data:{rows:4,columns:6}},egg:{id:"egg",src:"i/eggs.png",data:{rows:1,columns:9}},entities:{id:"entities",src:"i/entities.png",data:{rows:4,columns:8}},elbow:{id:"elbow",src:"i/elbow.png",data:{rows:1,columns:2}},explosion:{id:"explosion",src:"i/explosion.png"},fan:{id:"fan",src:"i/hair_dryer.png",data:{rows:5,columns:5}},flour:{id:"flour",src:"i/flour.png",data:{rows:1,columns:5}},glove:{id:"glove",src:"i/glove.png",data:{rows:1,columns:6}},"honey-ball":{id:"honey-ball",src:"i/honey_comb.png",data:{rows:1,columns:2}},milk:{id:"milk",src:"i/milk_bottle.png",data:{rows:1,columns:5}},"paper-plane":{id:"paper-plane",src:"i/paper_airplane.png",data:{rows:1,columns:4}},pipes:{id:"pipes",src:"i/pipes.png",data:{rows:3,columns:1}},"platform-small":{id:"platform-small",src:"i/platform-small.png",data:{rows:1,columns:2}},"platform-medium":{id:"platform-medium",src:"i/platform-medium.png",data:{rows:1,columns:2}},"platform-huge":{id:"platform-huge",src:"i/platform-huge.png",data:{rows:1,columns:2}},prizes:{id:"prizes",src:"i/dialog_result_objects.png",data:{rows:6,columns:11}},rocket:{id:"rocket",src:"i/rocket.png",data:{rows:1,columns:2}},"rotation-buttons":{id:"rotation-buttons",src:"i/rotation-buttons.png",data:{rows:2,columns:4}},"rubber-ball":{id:"rubber-ball",src:"i/rubber_ball.png",data:{rows:3,columns:2}},seesaw:{id:"seesaw",src:"i/seesaw.png",data:{rows:1,columns:2}},"side-bar":{id:"side-bar",src:"i/side-bar.png"},"side-bar-items":{id:"side-bar-items",src:"i/side_bar_objects.png",data:{rows:7,columns:5}},silhouette:{id:"silhouette",src:"i/silhouette.png"},thing:{id:"thing",src:"i/thing.png",data:{rows:6,columns:15}},"u-turn":{id:"u-turn",src:"i/u-turn.png",data:{rows:1,columns:2}},goal:{id:"goal",src:"i/goal.png",data:{rows:1,columns:2}},"result-materials":{id:"result-materials",src:"i/dialog_objects.png",data:{rows:3,columns:12}},"level-select-pieces":{id:"level-select-pieces",src:"i/level-select-pieces.png"},"title-screen":{id:"title-screen",src:"i/title-screen.jpg"},"title-screen-pieces":{id:"title-screen-pieces",src:"i/title-screen-pieces.png"},"bushes-game":{id:"bushes-game",src:"i/bushes-game.png"},"goal-indicator":{id:"goal-indicator",src:"i/goal-indicator.png"},"wood-ball":{id:"wood-ball",src:"i/log_of_wood.png",data:{rows:1,columns:5}},"wool-ball":{id:"wool-ball",src:"i/ball_of_wool.png",data:{rows:1,columns:5}},"yarn-ball":{id:"yarn-ball",src:"i/ball_of_string.png",data:{rows:1,columns:4}},"in-game-buttons":{id:"in-game-buttons",src:"i/in-game-buttons.png",data:{rows:3,columns:2}},"tutorial-arrow":{id:"tutorial-arrow",src:"i/tutorial-arrow.png",data:{rows:1,columns:1}},"cat-body":{id:"cat-body",src:"i/cat-body.png",data:{rows:6,columns:3}},"cat-head":{id:"cat-head",src:"i/cat-head.png",data:{rows:2,columns:6}},"cat-hat":{id:"cat-hat",src:"i/cat-hat.png",data:{rows:1,columns:2}},"make-o-matic":{id:"make-o-matic",src:"i/make-o-matic.png",data:{rows:5,columns:5}},"make-o-matic-cloud":{id:"make-o-matic-cloud",src:"i/make-o-matic-cloud.png",data:{rows:5,columns:5}},fish:{id:"fish",src:"i/fish.png",data:{rows:5,columns:9}},nick:{id:"nick",src:"i/nick.png",data:{rows:4,columns:11}},sally:{id:"sally",src:"i/sally.png",data:{rows:3,columns:19}},"bg-party":{id:"bg-party",src:"i/bg-party.png",data:{rows:1,columns:1}},"party-muffins":{id:"party-muffins",src:"i/party-muffins.png",data:{rows:1,columns:3}},"party-cake":{id:"party-cake",src:"i/party-cake.png",data:{rows:3,columns:3}},"party-ice-cream":{id:"party-ice-cream",src:"i/party-ice-cream.png",data:{rows:3,columns:3}},"party-pinata":{id:"party-pinata",src:"i/party-pinata.png",data:{rows:3,columns:3}},"party-kite":{id:"party-kite",src:"i/party-kite.png",data:{rows:3,columns:3}},"party-kite-string":{id:"party-kite-string",src:"i/party-kite-string.png",data:{rows:1,columns:1}},"party-decoration-poofs":{id:"party-decoration-poofs",src:"i/party-decoration-poofs.png",data:{rows:3,columns:1}},"party-decoration-streamers":{id:"party-decoration-streamers",src:"i/party-decoration-streamers.png",data:{rows:3,columns:1}},"party-decoration-banners":{id:"party-decoration-banners",src:"i/party-decoration-banners.png",data:{rows:3,columns:1}},wind:{id:"wind",src:"i/wind.png",data:{rows:2,columns:14}},"party-balloons-small":{id:"party-balloons-small",src:"i/party-balloons-small.png",data:{rows:1,columns:3}},"party-balloons-medium":{id:"party-balloons-medium",src:"i/party-balloons-medium.png",data:{rows:1,columns:3}},"party-balloons-large":{id:"party-balloons-large",src:"i/party-balloons-large.png",data:{rows:1,columns:3}},"party-balloons-string-small":{id:"party-balloons-string-small",src:"i/party-balloons-string-small.png",data:{rows:1,columns:1}},"party-balloons-string-medium":{id:"party-balloons-string-medium",src:"i/party-balloons-string-medium.png",data:{rows:1,columns:1}},"party-balloons-string-large":{id:"party-balloons-string-large",src:"i/party-balloons-string-large.png",data:{rows:1,columns:1}},"party-hat-nick":{id:"party-hat-nick",src:"i/party-hat-nick.png",data:{rows:3,columns:3}},"party-hat-sally":{id:"party-hat-sally",src:"i/party-hat-sally.png",data:{rows:3,columns:3}},loading:{id:"loading",src:"i/loading.png"},"bg-loading":{id:"bg-loading",src:"i/bg-loading.png"},"block-rectangle":{id:"block-rectangle",src:"i/block-rectangle.png",data:{rows:1,columns:4}},"block-half-circle":{id:"block-half-circle",src:"i/block-half-circle.png",data:{rows:1,columns:4}},"block-bridge":{id:"block-bridge",src:"i/block-bridge.png",data:{rows:1,columns:4}},"block-triangle":{id:"block-triangle",src:"i/block-triangle.png",data:{rows:1,columns:4}},"block-square":{id:"block-square",src:"i/block-square.png",data:{rows:1,columns:4}},"gadget-buttons":{id:"gadget-buttons",src:"i/gadget-buttons.png",data:{rows:2,columns:2}},"gadget-numbers":{id:"gadget-numbers",src:"i/gadget-numbers.png",data:{rows:10,columns:1}},"candy-halves":{id:"candy-halves",src:"i/candy-halves.png",data:{rows:1,columns:2}},"seuss-bold":{id:"seuss-bold",src:"f/seuss.woff"}},includes:{"../node_modules/springroll/dist/SpringRoll-umd.js":{src:"../node_modules/springroll/dist/SpringRoll-umd.js",id:"../node_modules/springroll/dist/SpringRoll-umd.js"},"../engine/main.js":{src:"../engine/main.js",id:"../engine/main.js"},"css/button.css":{src:"../game/css/button.css",id:"css/button.css"},"css/main.css":{src:"../game/css/main.css",id:"css/main.css"},"css/game.css":{src:"../game/css/game.css",id:"css/game.css"},"css/gui.css":{src:"../game/css/gui.css",id:"css/gui.css"},"css/fullscreen.css":{src:"../game/css/fullscreen.css",id:"css/fullscreen.css"},"css/side-bar.css":{src:"../game/css/side-bar.css",id:"css/side-bar.css"},"css/in-game-interface.css":{src:"../game/css/in-game-interface.css",id:"css/in-game-interface.css"},"../engine/Box2dWeb-2.1.a.3.js":{src:"../engine/Box2dWeb-2.1.a.3.js",id:"../engine/Box2dWeb-2.1.a.3.js"},"../engine/messenger.js":{src:"../engine/messenger.js",id:"../engine/messenger.js"},"../engine/collision-shape.js":{src:"../engine/collision-shape.js",id:"../engine/collision-shape.js"},"../engine/browser.js":{src:"../engine/browser.js",id:"../engine/browser.js"},"../engine/game.js":{src:"../engine/game.js",id:"../engine/game.js"},"../engine/scene.js":{src:"../engine/scene.js",id:"../engine/scene.js"},"../engine/entity.js":{src:"../engine/entity.js",id:"../engine/entity.js"},"https://code.createjs.com/createjs-2013.12.12.min.js":{src:"https://code.createjs.com/createjs-2013.12.12.min.js",id:"https://code.createjs.com/createjs-2013.12.12.min.js"},"../engine/factory.js":{src:"../engine/factory.js",id:"../engine/factory.js"}},entities:{"action-layer":{id:"action-layer",components:[{type:"handler-controller"},{type:"handler-ai"},{type:"handler-logic"},{type:"handler-box2d",debug:!1},{type:"camera",width:988,height:556},{type:"handler-render-createjs",autoClear:!0,acceptInput:{touch:!0,click:!0}},{type:"entity-container",entities:[{type:"simulation-manager"},{type:"tutorial-in-game"},{type:"rotation-controls"},{type:"to-level-select-button"},{type:"reset-puzzle-button"},{type:"help-button"},{type:"make-o-matic"},{type:"bushes-game"},{type:"gadget-skip"},{type:"gadget-star"}],childEvents:["link-entity","world-loaded","scene-loaded"]},{type:"tiled-loader",entityPositionX:"center",entityPositionY:"center"},{type:"tiled-exporter",ignoreTypes:["simulation-manager","tutorial-in-game","rotation-controls","goal-indicator","rotate-cw-button","rotate-ccw-button","flip-button","color-button","seesaw-pivot","to-level-select-button","reset-puzzle-button","help-button","make-o-matic","thing-wheel"]},{type:"entity-linker",linkId:"stage-input",events:{mousedown:"stage-mousedown"}},{type:"entity-linker",linkId:"tutorial-input",events:{mousedown:"stage-mousedown"}}]},"in-game-interface-layer":{id:"in-game-interface-layer",components:[{type:"handler-logic"},{type:"handler-render-dom",id:"interface"},{type:"entity-container",entities:[{type:"simulation-button"},{type:"in-game-drop-down"}],childEvents:["link-entity"]}]},"tile-layer":{id:"tile-layer",components:[{type:"render-tiles",spriteSheet:"import",imageMap:"import"},{type:"collision-tiles",collisionMap:"import"}]},"render-layer":{id:"render-layer",components:[{type:"render-tiles",spriteSheet:"import",imageMap:"import"}]},"balloon-ball":{id:"balloon-ball",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"balloon"},{type:"collision-box2d",body:{type:"dynamic",linearDamping:.6,angularDamping:.8,defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:.22,friction:.5,restitution:.5,shape:{radius:28}},{density:1e-4,friction:.5,restitution:.5,shape:{radius:26,y:10}},{density:2,friction:.5,restitution:.8,shape:{radius:5,y:18}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["balloon"],frames:{width:71,height:87,regY:35,regX:35},animations:{yellow:3,blue:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce"},{type:"audio",audioMap:{bounce:"balloon-sfx"}},{type:"sfx-manager"}],properties:{z:60,name:"Balloon",color:"red"}},"balloon-ball-li":{id:"balloon-ball-li",components:[{type:"logic-list-item",item:"balloon-ball"},{type:"mouse-overable"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:13}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"balloon-ball-hint":{id:"balloon-ball-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["balloon"],frames:{width:71,height:87,regY:35,regX:35},animations:{default:0}},rotate:!0}],properties:{z:1}},"bean-ball":{id:"bean-ball",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:.8,friction:.5,restitution:.2,shape:{radius:15,x:7}},{density:.8,friction:.5,restitution:.2,shape:{radius:15,x:-7}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["bean-ball"],frames:{width:72,height:61,regY:28,regX:35},animations:{dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce"},{type:"audio",audioMap:{bounce:"hit-hard"}},{type:"sfx-manager"}],properties:{z:50,name:"Chocolate"}},"bean-ball-li":{id:"bean-ball-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"bean-ball"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:7}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"bean-ball-hint":{id:"bean-ball-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["bean-ball"],frames:{width:72,height:61,regY:28,regX:35},animations:{default:0}},rotate:!0}],properties:{z:1}},"berry-ball":{id:"berry-ball",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:1,friction:.5,restitution:.2,shape:{radius:15}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["berry-ball"],frames:{width:55,height:52,regY:24,regX:24},animations:{dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce"},{type:"audio",audioMap:{bounce:"hit-soft"}},{type:"sfx-manager"}],properties:{z:60,name:"Blueberry"}},"berry-ball-li":{id:"berry-ball-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"berry-ball"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:8}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"berry-ball-hint":{id:"berry-ball-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["berry-ball"],frames:{width:55,height:52,regY:24,regX:24},animations:{default:0}},rotate:!0}],properties:{z:1}},candle:{id:"candle",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",flip:!0},{type:"launcher"},{type:"collision-box2d",body:{type:"static",fixtureDefinitions:[{userData:{button:!0,collisionType:"switch"},shape:{radius:12,x:-52,y:3}},{userData:{collisionType:"static-stuff",goal:!0},shape:{points:[{x:0,y:21},{x:22,y:43},{x:-22,y:43}]}},{userData:{preSimulation:!0,collisionType:"static-stuff"},shape:{points:[{x:-22,y:-59},{x:22,y:-59},{x:22,y:26},{x:-22,y:26}]}},{isSensor:!0,userData:{collisionType:"bracket"},shape:{points:[{x:-22,y:11},{x:22,y:11},{x:22,y:21},{x:-22,y:21}]}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}},switch:{beginContact:{"mobile-stuff":"launch",thing:"launch"}},bracket:{beginContact:{"mobile-stuff":"rocket-check"}}}},{type:"render-sprite",spriteSheet:{images:["candle"],frames:{width:119,height:106,regX:66,regY:49},animations:{loaded:2,dragging:1,default:0}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-42,-39,84,85).dc(-45,15,14)"}},{type:"audio",audioMap:{launched:"rocket-launcher"}},{type:"sfx-manager"}],properties:{z:6}},"candle-li":{id:"candle-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"candle"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:23}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"candle-hint":{id:"candle-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["candle"],frames:{width:119,height:106,regX:66,regY:49},animations:{default:0}}}],properties:{z:1}},"color-button":{id:"color-button",components:[{type:"mouse-overable"},{type:"logic-button"},{type:"render-sprite",animationMap:{pressed:"down",released:"up",default:"up"},spriteSheet:{images:["rotation-buttons"],frames:{width:51,height:52,regY:26,regX:25},animations:{down:7,up:3}},acceptInput:{hover:!0,touch:!0,click:!0}},{type:"entity-linker",linkId:"rotation-controls-link",events:{pressed:"color-pressed",released:"color-released"}}],properties:{z:1100}},colorer:{id:"colorer",components:[{type:"simulation-prepper"},{type:"logic-colorer",color:"yellow"},{type:"logic-drag-and-droppable",rotationAngles:[1.57,.7853,.3926,0,-.3926,-.7853,-1.57],painter:!0},{type:"shrink-pop",exitMagnitude:15,delay:130,aliases:{"teleportation-started":"stop-pop","ready-again":"start-pop"}},{type:"vacuum",suckFixture:"teleport",magnitude:.5,aliases:{"teleportation-started":"stop-vacuum","ready-again":"start-vacuum"}},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:-29,y:-30},{x:-22,y:-30},{x:-22,y:-17},{x:-29,y:-26}]}},{shape:{points:[{x:22,y:-30},{x:29,y:-30},{x:29,y:-26},{x:22,y:-20}]}},{shape:{points:[{x:-22,y:-17},{x:-22,y:30},{x:-29,y:19},{x:-29,y:6},{x:-27,y:-5}]}},{shape:{points:[{x:22,y:-20},{x:29,y:-8},{x:33,y:5},{x:33,y:21},{x:30,y:28},{x:22,y:34}]}},{shape:{points:[{x:-22,y:30},{x:22,y:30},{x:22,y:34},{x:14,y:37},{x:-3,y:37},{x:-13,y:35}]}},{userData:{lid:!0},shape:{points:[{x:-22,y:-30},{x:22,y:-30},{x:22,y:-27},{x:-22,y:-27}]}},{isSensor:!0,userData:{collisionType:"vacuum"},shape:{points:[{x:-22,y:-95},{x:22,y:-95},{x:22,y:-30},{x:-22,y:-30}]}},{isSensor:!0,userData:{collisionType:"teleport"},shape:{points:[{x:-5,y:-29},{x:5,y:-29},{x:5,y:-24},{x:-5,y:-24}]}},{isSensor:!0,userData:{collisionType:"spawn"},shape:{points:[{x:-5,y:-6},{x:5,y:-6},{x:5,y:5},{x:-5,y:5}]}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}},vacuum:{beginContact:{"mobile-stuff":"vacuum-on"},endContact:{"mobile-stuff":"vacuum-off"}},teleport:{beginContact:{"mobile-stuff":["teleport-on","begin-drag-overlap"],"static-stuff":"begin-drag-overlap"},endContact:{"mobile-stuff":["teleport-off","end-drag-overlap"],"static-stuff":"end-drag-overlap"}}}},{type:"render-sprite",spriteSheet:{images:["colorer"],frames:{width:87,height:159,regX:39,regY:108},animations:{"coloring,yellow":{frames:[0,31,0,32]},"ejecting,yellow":{frames:[23,24,25,26,27,28,29,30],next:"yellow"},"sucking,yellow":{frames:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]},"dragging,yellow":1,yellow:0,"coloring,blue":{frames:[33,64,33,65]},"ejecting,blue":{frames:[56,57,58,59,60,61,62,63],next:"blue"},"sucking,blue":{frames:[35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55]},"dragging,blue":34,blue:33,"coloring,red":{frames:[66,97,66,98]},"ejecting,red":{frames:[89,90,91,92,93,94,95,96],next:"red"},"sucking,red":{frames:[68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88]},"dragging,red":67,red:66}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"render-sprite",spriteSheet:{images:["colorer-rim"],frames:{width:68,height:44,regX:33,regY:50},animations:{"coloring,yellow":0,"coloring,blue":15,"coloring,red":30,"ejecting,yellow":{frames:[1,8,9,10,11,12,13,14,1,1,1],next:"yellow"},"ejecting,blue":{frames:[16,23,24,25,26,27,28,29,16,16,16],next:"blue"},"ejecting,red":{frames:[31,38,39,40,41,42,43,44,31,31,31],next:"red"},"sucking,yellow":{frames:[1,2,3,4,5,6,5,4,7,2,1,2,3,4,5,6,5,4,7,2,1]},"sucking,blue":{frames:[16,17,18,19,20,21,20,19,22,17,16,17,18,19,20,21,20,19,22,17,16]},"sucking,red":{frames:[31,32,33,34,35,36,35,34,37,32,31,32,33,34,35,36,35,34,37,32,31]},yellow:0,blue:15,red:30}},rotate:!0,offsetZ:-101},{type:"audio",audioMap:{eject:"eject"}},{type:"sfx-manager"}],properties:{z:70}},"colorer-li":{id:"colorer-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"colorer"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:20}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"colorer-hint":{id:"colorer-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["colorer"],frames:{width:87,height:159,regX:39,regY:108},animations:{default:0}},rotate:!0}],properties:{z:1}},"collision-layer":{id:"collision-layer",components:[{type:"collision-tiles",collisionMap:"import"}]},confetti:{id:"confetti",components:[{type:"logic-gravity",gravity:.0025},{type:"logic-destroy-me",delay:6e3,aliases:{load:"destroy-me"}},{type:"render-sprite",spriteSheet:{images:["confetti"],frames:{width:32,height:23,regY:12,regX:16},animations:{y2:8,y1:7,y0:6,b2:5,b1:4,b0:3,r2:2,r1:1,r0:0}},rotate:!0}],properties:{z:49,alwaysOn:!0}},"button-play-game":{id:"button-play-game",components:[{type:"dom-element",element:"div",innerHTML:"Play Game",className:"menu-button",onmouseup:"new-scene",ontouchend:"new-scene"},{type:"change-scene",scene:"scene-sandbox",transition:"fade-to-black"}]},"button-party-puzzles":{id:"button-party-puzzles",components:[{type:"dom-element",element:"div",className:"button-party-puzzles",onmouseup:"new-scene",ontouchend:"new-scene"},{type:"change-scene",scene:"level-select",transition:"fade-to-black"}]},"button-the-lab":{id:"button-the-lab",components:[{type:"dom-element",element:"div",className:"button-the-lab",onmouseup:"new-scene",ontouchend:"new-scene"},{type:"change-scene",scene:"scene-sandbox",transition:"fade-to-black"}]},"bg-title":{id:"bg-title",components:[{type:"render-sprite",image:"title-screen",width:1112,height:630,y:0,x:0,regX:0,regY:0}],properties:{x:0,y:0,z:0}},"bushes-game":{id:"bushes-game",components:[{type:"render-sprite",image:"bushes-game",width:988,height:188,y:0,x:0,regX:0,regY:0}],properties:{x:0,y:554,z:100}},"bushes-title":{id:"bushes-title",components:[{type:"render-sprite",image:"title-screen-pieces",width:988,height:556,y:0,x:0,regX:0,regY:56}],properties:{x:0,y:242,z:100}},"title-title":{id:"title-title",components:[{type:"dom-element",element:"div",className:"title-title"}]},"progress-bar":{id:"progress-bar",components:[{type:"dom-element",id:"progress-bar-container",className:"progress-bar"},{type:"dom-element",id:"progress-bar-container-container"},{type:"dom-element",id:"progress-bar",parent:"progress-bar-container-container"},{type:"entity-container",entities:[{id:"container",components:[{type:"change-scene",scene:"menu",aliases:{complete:"new-scene"}},{type:"asset-loader",progressBar:"progress-bar",useXHR:!1}]}]}]},"progress-bar-mobile":{id:"progress-bar-mobile",components:[{type:"dom-element",id:"progress-bar-container",className:"progress-bar"},{type:"dom-element",id:"progress-bar-container-container"},{type:"dom-element",id:"progress-bar",parent:"progress-bar-container-container"},{type:"entity-container",entities:[{id:"container",components:[{type:"enable-ios-audio"},{type:"change-scene",scene:"menu",aliases:{"sound-ready":"new-scene"}},{type:"change-scene",scene:"pre-menu",aliases:{"sound-not-ready":"new-scene"}},{type:"asset-loader",progressBar:"progress-bar",useXHR:!1}]}]}]},"title-screen":{id:"title-screen",components:[{type:"dom-element",element:"div",className:"title-screen"}]},elbow:{id:"elbow",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[1.57,.7853,.3926,0,-.3926,-.7853,-1.57],flip:!0},{type:"shrink-pop",exitMagnitude:10},{type:"vacuum",suckFixture:"teleport",magnitude:1},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:-30,y:-94},{x:-26,y:-94},{x:-26,y:-62},{x:-27,y:-62}]}},{shape:{points:[{x:18,y:-94},{x:22,y:-82},{x:12,y:-61}]}},{shape:{points:[{x:-26,y:-62},{x:12,y:-61},{x:6,y:-29},{x:-23,y:-29}]}},{shape:{points:[{x:-26,y:-29},{x:13,y:-29},{x:14,y:-9},{x:-16,y:22},{x:-25,y:3}]}},{shape:{points:[{x:14,y:-9},{x:80,y:-19},{x:80,y:25},{x:-16,y:22}]}},{shape:{points:[{x:84,y:-24},{x:93,y:-24},{x:93,y:-19},{x:80,y:-19}]}},{shape:{points:[{x:80,y:25},{x:93,y:25},{x:93,y:30},{x:84,y:30}]}},{isSensor:!0,userData:{collisionType:"vacuum"},shape:{points:[{x:-26,y:-94},{x:18,y:-94},{x:18,y:-144},{x:-26,y:-144}]}},{isSensor:!0,userData:{collisionType:"teleport"},shape:{points:[{x:-5,y:-84},{x:5,y:-84},{x:5,y:-95},{x:-5,y:-95}]}},{isSensor:!0,userData:{collisionType:"spawn"},shape:{points:[{x:80,y:-5},{x:90,y:-5},{x:90,y:11},{x:80,y:11}]}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}},vacuum:{beginContact:{"mobile-stuff":"vacuum-on"},endContact:{"mobile-stuff":"vacuum-off"}},teleport:{beginContact:{"mobile-stuff":["teleport-on","begin-drag-overlap"],"static-stuff":"begin-drag-overlap"},endContact:{"mobile-stuff":["teleport-off","end-drag-overlap"],"static-stuff":"end-drag-overlap"}}}},{type:"render-sprite",spriteSheet:{images:["elbow"],frames:{width:150,height:150,regY:105,regX:40},animations:{dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"render-sprite",spriteSheet:{images:["wind"],frames:{width:72,height:100,regX:36,regY:180},animations:{sucking:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]},default:21}},rotate:!0},{type:"audio",audioMap:{eject:"eject"}},{type:"sfx-manager"}],properties:{z:200}},"elbow-li":{id:"elbow-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"elbow"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:21}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"elbow-hint":{id:"elbow-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["elbow"],frames:{width:150,height:150,regY:105,regX:40},animations:{default:0}},rotate:!0}],properties:{z:1}},egg:{id:"egg",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"breakable",breakTicks:30},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:1,friction:.5,restitution:.2,shape:{radius:11,y:4}},{density:1,friction:.5,restitution:.2,shape:{radius:10,y:-5}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap",glove:"break-me"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["egg"],frames:{width:55,height:62,regY:31,regX:27},animations:{"yellow,broken":8,yellow:7,"blue,broken":6,blue:5,"red,broken":4,red:3,broken:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"dc(0,0,16)"}},{type:"collision-audio",audioId:"bounce"},{type:"audio",audioMap:{bounce:"hit-soft",broke:"egg-cracked"}},{type:"sfx-manager"}],properties:{z:50,name:"Egg"}},"egg-li":{id:"egg-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"egg"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:4}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"egg-hint":{id:"egg-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["egg"],frames:{width:55,height:62,regY:31,regX:27},animations:{default:0}},rotate:!0}],properties:{z:1}},explosion:{id:"explosion",components:[{type:"explode",magnitude:8,radius:150,massCounts:!0,aliases:{load:"prepare-for-simulation"}},{type:"collision-box2d",body:{type:"static",fixtureDefinitions:[{isSensor:!0,userData:{collisionType:"explosion"},shape:{radius:1}}]},resolution:{explosion:{beginContact:{"mobile-stuff":"explode"}}}},{type:"render-sprite",spriteSheet:{images:["explosion"],frames:{width:300,height:300,regY:150,regX:150},animations:{default:0}},rotate:!0}],properties:{z:200}},fan:{id:"fan",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[1.57,.7853,.3926,0,-.3926,-.7853,-1.57],flip:!0},{type:"fan",magnitude:.03,massCounts:!0,angle:180,aliases:{"prepare-for-simulation":"stop-fan","switch-on":"start-fan"}},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{userData:{collisionType:"static-stuff",id:"fan"},shape:{radius:13}},{shape:{points:[{x:-36,y:-22},{x:-32,y:-22},{x:-23,y:-10},{x:-23,y:13},{x:-32,y:28},{x:-36,y:28}]}},{shape:{points:[{x:-23,y:-10},{x:-10,y:-9},{x:-10,y:11},{x:-23,y:13}]}},{shape:{points:[{x:-5,y:13},{x:3,y:13},{x:1,y:34},{x:-2,y:35},{x:-6,y:32}]}},{isSensor:!0,userData:{collisionType:"fan"},shape:{points:[{x:-36,y:-22},{x:-336,y:-22},{x:-336,y:28},{x:-36,y:28}]}},{isSensor:!0,userData:{collisionType:"button"},shape:{radius:7,x:30,y:-21}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}},fan:{beginContact:{"mobile-stuff":"fan-on",thing:"fan-on"},endContact:{"mobile-stuff":"fan-off",thing:"fan-off"}},button:{beginContact:{"mobile-stuff":"switch-on",thing:"switch-on"}}}},{type:"render-sprite",spriteSheet:{images:["fan"],frames:{width:189,height:88,regY:38,regX:136},animations:{fanning:{frames:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]},dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"audio",audioMap:{"fan-started":"switch"}}],properties:{z:15}},"fan-li":{id:"fan-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"fan"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:17}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"fan-hint":{id:"fan-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["fan"],frames:{width:189,height:88,regY:38,regX:136},animations:{default:0}},rotate:!0}],properties:{z:1}},"flip-button":{id:"flip-button",components:[{type:"mouse-overable"},{type:"logic-button"},{type:"render-sprite",animationMap:{pressed:"down",released:"up",default:"up"},spriteSheet:{images:["rotation-buttons"],frames:{width:51,height:52,regY:26,regX:25},animations:{down:6,up:2}},acceptInput:{hover:!0,touch:!0,click:!0}},{type:"entity-linker",linkId:"rotation-controls-link",events:{pressed:"flip-pressed",released:"flip-released"}}],properties:{z:1100}},flour:{id:"flour",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:1,friction:.5,restitution:.2,shape:{points:[{x:-14,y:-32},{x:16,y:-31},{x:22,y:-12},{x:21,y:29},{x:2,y:31},{x:-11,y:31},{x:-24,y:25},{x:-20,y:-13}]}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["flour"],frames:{width:62,height:78,regY:39,regX:31},animations:{yellow:4,blue:3,red:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:8,max:16},{type:"audio",audioMap:{bounce:"thud-0"}},{type:"sfx-manager"}],properties:{z:50,name:"Flour"}},"flour-li":{id:"flour-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"flour"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:11}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"flour-hint":{id:"flour-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["flour"],frames:{width:62,height:78,regY:39,regX:31},animations:{default:0}},rotate:!0}],properties:{z:1}},glove:{id:"glove",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[1.57,1.178,.7853,.3926,0,-.3926,-.7853,-1.178,-1.57]},{type:"fan",suckFixture:"glove",magnitude:8,massCounts:!0,oncePerContact:!0,angle:270},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:-25,y:-49},{x:29,y:-49},{x:37,y:-34},{x:37,y:-22},{x:34,y:-5},{x:28,y:8},{x:-17,y:13},{x:-25,y:6},{x:-37,y:-15},{x:-40,y:-29},{x:-38,y:-36}]}},{shape:{points:[{x:-17,y:13},{x:28,y:8},{x:23,y:39},{x:-17,y:40}]}},{shape:{points:[{x:-17,y:40},{x:23,y:39},{x:26,y:43},{x:26,y:51},{x:22,y:55},{x:-16,y:56},{x:-20,y:52},{x:-20,y:43}]}},{userData:{collisionType:"glove"},shape:{points:[{x:-39,y:-50},{x:37,y:-50},{x:37,y:-49},{x:-39,y:-49}]}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}},glove:{beginContact:{"mobile-stuff":"fan-on",thing:"fan-on"},endContact:{"mobile-stuff":"fan-off",thing:"fan-off"},postSolve:{"mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",stateBased:!1,rotate:!0,spriteSheet:{images:["glove"],frames:{width:101,height:157,regY:87,regX:49},animations:{dragging:1,default:0,punched:{frames:[2,3,4,5],speed:"0.5",next:"default"}}},acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:.1,max:4},{type:"audio",audioMap:{bounce:"boxing-glove"}},{type:"sfx-manager"}],properties:{z:65}},"glove-li":{id:"glove-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"glove"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:15}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"glove-hint":{id:"glove-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",rotate:!0,spriteSheet:{images:["glove"],frames:{width:101,height:157,regY:87,regX:49},animations:{default:0}}}],properties:{z:1}},goal:{id:"goal",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"logic-goal"},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:101,y:0},{x:106,y:0},{x:106,y:31},{x:101,y:31}]}},{shape:{points:[{x:172,y:0},{x:177,y:0},{x:177,y:31},{x:172,y:31}]}},{shape:{points:[{x:101,y:31},{x:106,y:31},{x:90,y:83},{x:86,y:84},{x:84,y:80},{x:84,y:54}]}},{shape:{points:[{x:172,y:31},{x:177,y:31},{x:194,y:54},{x:194,y:80},{x:192,y:84},{x:188,y:83}]}},{shape:{points:[{x:0,y:0},{x:101,y:0},{x:101,y:17},{x:0,y:17}]}},{shape:{points:[{x:177,y:0},{x:277,y:0},{x:277,y:17},{x:177,y:17}]}},{isSensor:!0,userData:{collisionType:"pipe"},shape:{points:[{x:106,y:-10},{x:172,y:-10},{x:172,y:15},{x:106,y:15}]}}]},resolution:{pipe:{beginContact:{"mobile-stuff":"in-goal"}}}},{type:"render-sprite",image:"goal",width:120,height:247,y:0,x:0,regY:150,regX:-79,rotate:!0},{type:"render-sprite",image:"goal",width:120,height:247,y:0,x:120,regY:150,regX:-79,rotate:!0,offsetZ:-101}],properties:{z:99.9}},"goal-indicator":{id:"goal-indicator",components:[{type:"logic-goal-indicator"},{type:"render-sprite",spriteSheet:{images:["result-materials"],frames:{width:170,height:147,regY:73,regX:85},animations:{egg:0,flour:4,"honey-ball":8,milk:9,"rubber-ball":13,"wool-ball":16,"wood-ball":20,"yarn-ball":24,"balloon-ball":27,"paper-plane":30,"berry-ball":33,"bean-ball":34}},scaleX:.55,scaleY:.55,pins:[{pinId:"bulb",x:83,y:70,z:-1}]},{type:"render-sprite",image:"goal-indicator",width:107,height:178,y:0,x:0,scaleX:1.8181,scaleY:1.8181,regY:127,regX:53,rotate:!0,pinTo:"bulb"},{type:"entity-linker",linkId:"tutorial-input"}],properties:{z:500}},"honey-ball":{id:"honey-ball",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:.6,friction:.5,restitution:.3,shape:{radius:29}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["honey-ball"],frames:{width:73,height:75,regY:37,regX:36},animations:{dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:8,max:16},{type:"audio",audioMap:{bounce:"thud-2"}},{type:"sfx-manager"}],properties:{z:50,name:"Honey"}},"honey-ball-li":{id:"honey-ball-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"honey-ball"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:10}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"honey-ball-hint":{id:"honey-ball-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["honey-ball"],frames:{width:73,height:75,regY:37,regX:36},animations:{default:0}},rotate:!0}],properties:{z:1}},"level-layout-0":{id:"level-layout-0",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:0,y:0},{x:277,y:0},{x:277,y:17},{x:0,y:17}]}},{shape:{points:[{x:277,y:0},{x:554,y:0},{x:554,y:17},{x:277,y:17}]}},{shape:{points:[{x:554,y:0},{x:831,y:0},{x:831,y:17},{x:554,y:17}]}},{shape:{points:[{x:277,y:539},{x:554,y:539},{x:554,y:556},{x:277,y:556}]}},{shape:{points:[{x:554,y:539},{x:831,y:539},{x:831,y:556},{x:554,y:556}]}},{shape:{points:[{x:0,y:0},{x:17,y:0},{x:17,y:278},{x:0,y:278}]}},{shape:{points:[{x:0,y:278},{x:17,y:278},{x:17,y:556},{x:0,y:556}]}},{shape:{points:[{x:815,y:0},{x:831,y:0},{x:831,y:278},{x:815,y:278}]}},{shape:{points:[{x:815,y:278},{x:831,y:278},{x:831,y:556},{x:815,y:556}]}}]}}],properties:{}},"level-layout-1":{id:"level-layout-1",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:0,y:0},{x:277,y:0},{x:277,y:17},{x:0,y:17}]}},{shape:{points:[{x:277,y:0},{x:554,y:0},{x:554,y:17},{x:277,y:17}]}},{shape:{points:[{x:554,y:0},{x:831,y:0},{x:831,y:17},{x:554,y:17}]}},{shape:{points:[{x:0,y:539},{x:277,y:539},{x:277,y:556},{x:0,y:556}]}},{shape:{points:[{x:554,y:539},{x:831,y:539},{x:831,y:556},{x:554,y:556}]}},{shape:{points:[{x:0,y:0},{x:17,y:0},{x:17,y:278},{x:0,y:278}]}},{shape:{points:[{x:0,y:278},{x:17,y:278},{x:17,y:556},{x:0,y:556}]}},{shape:{points:[{x:815,y:0},{x:831,y:0},{x:831,y:278},{x:815,y:278}]}},{shape:{points:[{x:815,y:278},{x:831,y:278},{x:831,y:556},{x:815,y:556}]}}]}}],properties:{}},"level-layout-2":{id:"level-layout-2",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:0,y:0},{x:277,y:0},{x:277,y:17},{x:0,y:17}]}},{shape:{points:[{x:277,y:0},{x:554,y:0},{x:554,y:17},{x:277,y:17}]}},{shape:{points:[{x:554,y:0},{x:831,y:0},{x:831,y:17},{x:554,y:17}]}},{shape:{points:[{x:0,y:539},{x:277,y:539},{x:277,y:556},{x:0,y:556}]}},{shape:{points:[{x:277,y:539},{x:554,y:539},{x:554,y:556},{x:277,y:556}]}},{shape:{points:[{x:0,y:0},{x:17,y:0},{x:17,y:278},{x:0,y:278}]}},{shape:{points:[{x:0,y:278},{x:17,y:278},{x:17,y:556},{x:0,y:556}]}},{shape:{points:[{x:815,y:0},{x:831,y:0},{x:831,y:278},{x:815,y:278}]}},{shape:{points:[{x:815,y:278},{x:831,y:278},{x:831,y:556},{x:815,y:556}]}}]}}],properties:{}},"level-layout-3":{id:"level-layout-3",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:0,y:0},{x:277,y:0},{x:277,y:17},{x:0,y:17}]}},{shape:{points:[{x:277,y:0},{x:554,y:0},{x:554,y:17},{x:277,y:17}]}},{shape:{points:[{x:554,y:0},{x:831,y:0},{x:831,y:17},{x:554,y:17}]}},{shape:{points:[{x:0,y:539},{x:277,y:539},{x:277,y:556},{x:0,y:556}]}},{shape:{points:[{x:277,y:539},{x:554,y:539},{x:554,y:556},{x:277,y:556}]}},{shape:{points:[{x:554,y:539},{x:831,y:539},{x:831,y:556},{x:554,y:556}]}},{shape:{points:[{x:0,y:0},{x:17,y:0},{x:17,y:278},{x:0,y:278}]}},{shape:{points:[{x:0,y:278},{x:17,y:278},{x:17,y:556},{x:0,y:556}]}},{shape:{points:[{x:815,y:0},{x:831,y:0},{x:831,y:278},{x:815,y:278}]}}]}}],properties:{}},"level-layout-4":{id:"level-layout-4",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:0,y:0},{x:277,y:0},{x:277,y:17},{x:0,y:17}]}},{shape:{points:[{x:277,y:0},{x:554,y:0},{x:554,y:17},{x:277,y:17}]}},{shape:{points:[{x:554,y:0},{x:831,y:0},{x:831,y:17},{x:554,y:17}]}},{shape:{points:[{x:0,y:539},{x:277,y:539},{x:277,y:556},{x:0,y:556}]}},{shape:{points:[{x:277,y:539},{x:554,y:539},{x:554,y:556},{x:277,y:556}]}},{shape:{points:[{x:554,y:539},{x:831,y:539},{x:831,y:556},{x:554,y:556}]}},{shape:{points:[{x:0,y:0},{x:17,y:0},{x:17,y:278},{x:0,y:278}]}},{shape:{points:[{x:0,y:278},{x:17,y:278},{x:17,y:556},{x:0,y:556}]}},{shape:{points:[{x:815,y:278},{x:831,y:278},{x:831,y:556},{x:815,y:556}]}}]}}],properties:{}},"level-layout-5":{id:"level-layout-5",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:0,y:0},{x:277,y:0},{x:277,y:17},{x:0,y:17}]}},{shape:{points:[{x:277,y:0},{x:554,y:0},{x:554,y:17},{x:277,y:17}]}},{shape:{points:[{x:0,y:539},{x:277,y:539},{x:277,y:556},{x:0,y:556}]}},{shape:{points:[{x:277,y:539},{x:554,y:539},{x:554,y:556},{x:277,y:556}]}},{shape:{points:[{x:554,y:539},{x:831,y:539},{x:831,y:556},{x:554,y:556}]}},{shape:{points:[{x:0,y:0},{x:17,y:0},{x:17,y:278},{x:0,y:278}]}},{shape:{points:[{x:0,y:278},{x:17,y:278},{x:17,y:556},{x:0,y:556}]}},{shape:{points:[{x:815,y:0},{x:831,y:0},{x:831,y:278},{x:815,y:278}]}},{shape:{points:[{x:815,y:278},{x:831,y:278},{x:831,y:556},{x:815,y:556}]}}]}}],properties:{}},"level-layout-6":{id:"level-layout-6",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:0,y:0},{x:277,y:0},{x:277,y:17},{x:0,y:17}]}},{shape:{points:[{x:554,y:0},{x:831,y:0},{x:831,y:17},{x:554,y:17}]}},{shape:{points:[{x:0,y:539},{x:277,y:539},{x:277,y:556},{x:0,y:556}]}},{shape:{points:[{x:277,y:539},{x:554,y:539},{x:554,y:556},{x:277,y:556}]}},{shape:{points:[{x:554,y:539},{x:831,y:539},{x:831,y:556},{x:554,y:556}]}},{shape:{points:[{x:0,y:0},{x:17,y:0},{x:17,y:278},{x:0,y:278}]}},{shape:{points:[{x:0,y:278},{x:17,y:278},{x:17,y:556},{x:0,y:556}]}},{shape:{points:[{x:815,y:0},{x:831,y:0},{x:831,y:278},{x:815,y:278}]}},{shape:{points:[{x:815,y:278},{x:831,y:278},{x:831,y:556},{x:815,y:556}]}}]}}],properties:{}},"level-layout-7":{id:"level-layout-7",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:277,y:0},{x:554,y:0},{x:554,y:17},{x:277,y:17}]}},{shape:{points:[{x:554,y:0},{x:831,y:0},{x:831,y:17},{x:554,y:17}]}},{shape:{points:[{x:0,y:539},{x:277,y:539},{x:277,y:556},{x:0,y:556}]}},{shape:{points:[{x:277,y:539},{x:554,y:539},{x:554,y:556},{x:277,y:556}]}},{shape:{points:[{x:554,y:539},{x:831,y:539},{x:831,y:556},{x:554,y:556}]}},{shape:{points:[{x:0,y:0},{x:17,y:0},{x:17,y:278},{x:0,y:278}]}},{shape:{points:[{x:0,y:278},{x:17,y:278},{x:17,y:556},{x:0,y:556}]}},{shape:{points:[{x:815,y:0},{x:831,y:0},{x:831,y:278},{x:815,y:278}]}},{shape:{points:[{x:815,y:278},{x:831,y:278},{x:831,y:556},{x:815,y:556}]}}]}}],properties:{}},"level-layout-no-goal":{id:"level-layout-no-goal",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:0,y:0},{x:277,y:0},{x:277,y:17},{x:0,y:17}]}},{shape:{points:[{x:277,y:0},{x:554,y:0},{x:554,y:17},{x:277,y:17}]}},{shape:{points:[{x:554,y:0},{x:831,y:0},{x:831,y:17},{x:554,y:17}]}},{shape:{points:[{x:0,y:539},{x:277,y:539},{x:277,y:556},{x:0,y:556}]}},{shape:{points:[{x:277,y:539},{x:554,y:539},{x:554,y:556},{x:277,y:556}]}},{shape:{points:[{x:554,y:539},{x:831,y:539},{x:831,y:556},{x:554,y:556}]}},{shape:{points:[{x:0,y:0},{x:17,y:0},{x:17,y:278},{x:0,y:278}]}},{shape:{points:[{x:0,y:278},{x:17,y:278},{x:17,y:556},{x:0,y:556}]}},{shape:{points:[{x:815,y:0},{x:831,y:0},{x:831,y:278},{x:815,y:278}]}},{shape:{points:[{x:815,y:278},{x:831,y:278},{x:831,y:556},{x:815,y:556}]}}]}}],properties:{}},"make-o-matic":{id:"make-o-matic",components:[{type:"logic-maker"},{type:"fan",suckFixture:"popper",magnitude:1.5,angle:270,precision:[-45,45,-25,25]},{type:"collision-box2d",body:{type:"static",fixtureDefinitions:[{restitution:0,shape:{points:[{x:-60,y:-55},{x:60,y:-55},{x:60,y:-53},{x:-60,y:-53}]}},{restitution:1,shape:{points:[{x:58,y:-55},{x:60,y:-55},{x:60,y:55},{x:58,y:55}]}},{userData:{collisionType:"popper"},restitution:1,shape:{points:[{x:-60,y:53},{x:60,y:53},{x:60,y:55},{x:-60,y:55}]}},{restitution:1,shape:{points:[{x:-60,y:-60},{x:-58,y:-60},{x:-58,y:60},{x:-60,y:60}]}}]},resolution:{popper:{beginContact:{mi:"fan-on"},endContact:{mi:"fan-off"}}}},{type:"render-sprite",spriteSheet:{framerate:30,images:["make-o-matic-cloud"],frames:{width:152,height:133,regX:76,regY:66},animations:{running:{frames:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},processing:{frames:[1,1,2,2,3,3],next:"running"},churnEnd:{frames:[3,3,2,2,1,1],next:"off"},stop:0,off:0,default:0}},mask:"dc(85,484,60)",offsetZ:-1},{type:"render-sprite",spriteSheet:{framerate:30,images:["make-o-matic"],frames:{width:388,height:212,regX:106,regY:100},animations:{start:{frames:[1,1,2,2,3,3],next:"running"},stop:0,running:{frames:[4,1]},processing:{frames:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,1]},off:0,default:0}}},{type:"entity-linker",linkId:"interface-input"},{type:"audio",audioMap:{"stop-churn":"ding"}}],properties:{isSimulationConstant:!0,x:85,y:484,z:15}},"make-o-item":{id:"make-o-item",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"dynamic",fixtureDefinitions:[{density:1,friction:.5,restitution:.5,userData:{collisionType:"mi"},shape:{radius:18}}]}},{type:"render-sprite",spriteSheet:{images:["result-materials"],frames:{width:170,height:147,regX:85,regY:73},animations:{"egg,red":1,"egg,blue":2,"egg,yellow":3,egg:0,"flour,red":5,"flour,blue":6,"flour,yellow":7,flour:4,"honey-ball":8,"milk,red":10,"milk,blue":11,"milk,yellow":12,milk:9,"rubber-ball,blue":14,"rubber-ball,yellow":15,"rubber-ball":13,"wool-ball,red":17,"wool-ball,blue":18,"wool-ball,yellow":19,"wool-ball":16,"wood-ball,red":21,"wood-ball,blue":22,"wood-ball,yellow":23,"wood-ball":20,"yarn-ball,red":25,"yarn-ball,yellow":26,"yarn-ball":24,"balloon-ball,blue":28,"balloon-ball,yellow":29,"balloon-ball":27,"paper-plane,red":31,"paper-plane,blue":32,"paper-plane":30,"berry-ball":33,"bean-ball":34}},mask:"dc(85,484,60)",scaleX:.4,scaleY:.4,rotate:!0}],properties:{z:10}},milk:{id:"milk",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:1,friction:.5,restitution:.2,shape:{points:[{x:-7,y:-31},{x:5,y:-31},{x:14,y:-11},{x:15,y:27},{x:8,y:31},{x:-9,y:31},{x:-16,y:27},{x:-16,y:-11}]}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["milk"],frames:{width:47,height:80,regY:40,regX:23},animations:{yellow:4,blue:3,red:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:7,max:15},{type:"audio",audioMap:{bounce:"wood-sfx"}},{type:"sfx-manager"}],properties:{z:50,name:"Milk"}},"milk-li":{id:"milk-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"milk"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:12}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"milk-hint":{id:"milk-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["milk"],frames:{width:47,height:80,regY:40,regX:23},animations:{default:0}},rotate:!0}],properties:{z:1}},"object-bank":{id:"object-bank",components:[{type:"collision-box2d",body:{type:"static",fixtureDefinitions:[{isSensor:!0,shape:{halfWidth:100,halfHeight:250}}]}},{type:"render-sprite",image:"rubber-ball",width:32,height:32,y:0,x:0,regX:16,regY:16,rotate:!0,acceptInput:{touch:!0,click:!0}}],properties:{}},"paper-plane":{id:"paper-plane",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",flip:!0},{type:"logic-paper"},{type:"collision-box2d",body:{type:"dynamic",linearDamping:.6,defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:.2,friction:.1,restitution:.3,shape:{radius:17}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap",vacuum:"turn-off-flight"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap",vacuum:"turn-on-flight"}}}},{type:"render-sprite",spriteSheet:{images:["paper-plane"],frames:{width:76,height:53,regY:26,regX:29},animations:{blue:3,red:2,dragging:1,default:0}},mirror:!0,ignoreFlip:!0,acceptInput:{hover:!0,touch:!0,click:!0}}],properties:{z:65,name:"Paper",color:"yellow"}},"paper-plane-li":{id:"paper-plane-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"paper-plane"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:16}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"paper-plane-hint":{id:"paper-plane-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["paper-plane"],frames:{width:76,height:53,regY:26,regX:29},animations:{default:0}},mirror:!0}],properties:{z:1}},"platform-small":{id:"platform-small",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[1.57,.7853,.3926,0,-.3926,-.7853,-1.57]},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{friction:.5,restitution:.3,shape:{halfWidth:38,halfHeight:2}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}}}},{type:"render-sprite",spriteSheet:{images:["platform-small"],frames:{width:94,height:26,regY:14,regX:47},animations:{dragging:[1],default:[0]}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-47,-16,94,32)"}}],properties:{z:5}},"platform-small-li":{id:"platform-small-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"platform-small"},{type:"render-sprite",animationMap:{default:"default"},spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:[0]}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"platform-small-hint":{id:"platform-small-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["platform-small"],frames:{width:94,height:26,regY:14,regX:47},animations:{default:0}},rotate:!0}],properties:{z:1}},"platform-medium":{id:"platform-medium",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[1.57,.7853,.3926,0,-.3926,-.7853,-1.57]},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{friction:.5,restitution:.3,shape:{halfWidth:65,halfHeight:2}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}}}},{type:"render-sprite",spriteSheet:{images:["platform-medium"],frames:{width:148,height:25,regY:14,regX:74},animations:{dragging:[1],default:[0]}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-74,-16,148,32)"}}],properties:{z:5}},"platform-medium-li":{id:"platform-medium-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"platform-medium"},{type:"render-sprite",animationMap:{default:"default"},spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:[1]}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"platform-medium-hint":{id:"platform-medium-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["platform-medium"],frames:{width:148,height:25,regY:14,regX:74},animations:{default:0}},rotate:!0}],properties:{z:1}},"platform-huge":{id:"platform-huge",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[1.57,.7853,.3926,0,-.3926,-.7853,-1.57]},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{friction:.5,restitution:.3,shape:{halfWidth:99,halfHeight:2}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}}}},{type:"render-sprite",spriteSheet:{images:["platform-huge"],frames:{width:216,height:26,regY:14,regX:108},animations:{dragging:[1],default:[0]}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-108,-16,216,32)"}}],properties:{z:5}},"platform-huge-li":{id:"platform-huge-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"platform-huge"},{type:"render-sprite",animationMap:{default:"default"},spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:2}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"platform-huge-hint":{id:"platform-huge-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["platform-huge"],frames:{width:216,height:26,regY:14,regX:108},animations:{default:0}},rotate:!0}],properties:{z:1}},rocket:{id:"rocket",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{density:.3,friction:.5,restitution:.1,userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{shape:{radius:16,y:-10}},{shape:{radius:17}},{density:.05,shape:{points:[{x:0,y:13},{x:14,y:38},{x:14,y:50},{x:12,y:52},{x:-12,y:52},{x:-14,y:50},{x:-14,y:38}]}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",rotate:!0,spriteSheet:{images:["rocket"],frames:{width:57,height:103,regY:36,regX:26},animations:{dragging:1,default:0}},acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:4,max:16},{type:"audio",audioMap:{bounce:"thud-2"}},{type:"sfx-manager"}],properties:{z:65}},"rocket-li":{id:"rocket-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"rocket"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:24}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"rocket-hint":{id:"rocket-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",rotate:!0,spriteSheet:{images:["rocket"],frames:{width:57,height:103,regY:36,regX:26},animations:{default:0}}}],properties:{z:1}},"rotate-cw-button":{id:"rotate-cw-button",components:[{type:"mouse-overable"},{type:"logic-button"},{type:"render-sprite",animationMap:{pressed:"down",released:"up",default:"up"},spriteSheet:{images:["rotation-buttons"],frames:{width:51,height:52,regY:26,regX:25},animations:{down:4,up:0}},acceptInput:{hover:!0,touch:!0,click:!0}},{type:"entity-linker",linkId:"rotation-controls-link",events:{pressed:"rotate-cw-pressed",released:"rotate-cw-released"}}],properties:{z:1100}},"rotate-ccw-button":{id:"rotate-ccw-button",components:[{type:"mouse-overable"},{type:"logic-button"},{type:"render-sprite",animationMap:{pressed:"down",released:"up",default:"up"},spriteSheet:{images:["rotation-buttons"],frames:{width:51,height:52,regY:26,regX:25},animations:{down:5,up:1}},acceptInput:{hover:!0,touch:!0,click:!0}},{type:"entity-linker",linkId:"rotation-controls-link",events:{pressed:"rotate-ccw-pressed",released:"rotate-ccw-released"}}],properties:{z:1100}},"rotation-controls":{id:"rotation-controls",components:[{type:"logic-rotation-controls"},{type:"render-sprite",image:"circle",regX:80,regY:80,offsetZ:-1},{type:"audio",audioMap:{"rotation-failed":"rotate-fail","flip-failed":"rotate-fail"}},{type:"entity-linker",linkId:"stage-input"},{type:"entity-linker",linkId:"rotation-controls-link"}],properties:{z:3}},"rubber-ball":{id:"rubber-ball",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:1,friction:.5,restitution:.8,shape:{radius:15}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["rubber-ball"],frames:{width:45,height:47,regY:23,regX:23},animations:{yellow:3,blue:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:4,max:26},{type:"audio",audioMap:{bounce:"rubber-sfx"}},{type:"sfx-manager"}],properties:{z:60,name:"Rubber",color:"red"}},"rubber-ball-li":{id:"rubber-ball-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"rubber-ball"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:3}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"rubber-ball-hint":{id:"rubber-ball-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["rubber-ball"],frames:{width:38,height:38,regY:19,regX:19},animations:{default:2}},rotate:!0}],properties:{z:1}},seesaw:{id:"seesaw",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[1.57,.7853,.3926,0,-.3926,-.7853,-1.57]},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"thing"}},fixtureDefinitions:[{density:.4,friction:.5,restitution:.3,shape:{halfWidth:63,halfHeight:2}},{userData:{collisionType:"thing"},density:1,friction:.5,restitution:.6,shape:{radius:7,x:-63}},{userData:{collisionType:"thing"},density:1,friction:.5,restitution:.6,shape:{radius:7,x:63}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}},thing:{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}}},joints:[{type:"revolute",object:{type:"seesaw-pivot",properties:{},offset:{x:0,y:0}}}]},{type:"render-sprite",spriteSheet:{images:["seesaw"],frames:{width:163,height:36,regY:18,regX:81},animations:{dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-81,-18,164,36)"}}],properties:{z:6}},"seesaw-li":{id:"seesaw-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"seesaw"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:14}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"seesaw-hint":{id:"seesaw-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["seesaw"],frames:{width:163,height:36,regY:18,regX:81},animations:{default:0}},rotate:!0}],properties:{z:1}},"seesaw-pivot":{id:"seesaw-pivot",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{density:1,friction:.5,restitution:.6,shape:{halfWidth:2,halfHeight:2}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}}}}],properties:{z:5}},"simulation-manager":{id:"simulation-manager",components:[{type:"logic-simulation-manager"},{type:"render-sprite",image:"background"},{type:"audio",audioMap:{"play-bonk":"rotate-fail","play-background":{sound:"background-music",loop:-1}}},{type:"entity-linker",linkId:"interface-input",events:{"show-results":"show-level-complete","start-simulation":"start-maker","reset-simulation":"stop-maker"}},{type:"entity-linker",linkId:"tutorial-input",events:{"el-try-hint-vo":"try-hint-vo","tutorial-simulation-started":"simulation-started","tutorial-simulation-stopped":"simulation-stopped","tutorial-simulation-complete":"simulation-complete","tutorial-no-more-hints":"no-more-hints"}}],properties:{x:0,y:0}},"side-bar":{id:"side-bar",components:[{type:"logic-side-bar"},{type:"entity-container"},{type:"render-sprite",spriteSheet:{images:["side-bar"],frames:[[0,0,157,351,0,78,224],[0,0,2,2,0,0,0]],animations:{scrollable:0,default:1}},acceptInput:{touch:!0,click:!0}},{type:"collision-box2d",body:{type:"static",fixtureDefinitions:[{density:1,friction:.5,restitution:.6,isSensor:!0,shape:{halfWidth:80,halfHeight:278}}]}}],properties:{x:0,y:54,z:1}},"simulation-button":{id:"simulation-button",components:[{type:"logic-button",toggle:!0},{type:"dom-element",element:"div",className:"simulation-button",onmousedown:["simulation-button-pressed","mouseup"],updateClassName:!0},{type:"entity-linker",linkId:"interface-input",events:{"simulation-button-pressed":"toggle-simulation"}}]},"thing-1":{id:"thing-1",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",flip:!0},{type:"collision-box2d",body:{type:"dynamic",fixedRotation:!0,defaultFixtureData:{userData:{collisionType:"thing"}},fixtureDefinitions:[{density:1,friction:.5,restitution:.6,shape:{halfWidth:10,halfHeight:44,y:-4}},{density:1,friction:.5,restitution:.6,shape:{halfWidth:16,halfHeight:3,y:12}},{density:1,friction:.5,restitution:.6,shape:{radius:15.5,y:32}}]},resolution:{thing:{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":["begin-drag-overlap","bumped"],thing:["begin-drag-overlap","bumped"],"side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}}},joints:[{type:"revolute",userData:{name:"motor"},object:{type:"thing-wheel",properties:{},offset:{x:0,y:32}},localAnchorA:{x:0,y:32},localAnchorB:{x:0,y:0}}]},{type:"motor",torque:50,speed:12,aliases:{"prepare-for-simulation":"stop-motor",bumped:"start-motor"}},{type:"entity-linker"},{type:"render-sprite",spriteSheet:{images:["thing"],frames:{width:67,height:122,regY:61,regX:35},animations:{running:{frames:[32,33,34],speed:.5,next:"going"},going:{frames:[35,36,37,38,39,40,41,42,43,44],speed:.8},simulating:{frames:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],speed:.5},dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"audio",audioMap:{running:"thing-1"}}],properties:{z:5}},"thing-1-li":{id:"thing-1-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"thing-1"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:18}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"thing-1-hint":{id:"thing-1-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["thing"],frames:{width:67,height:122,regY:61,regX:35},animations:{default:0}},rotate:!0}],properties:{z:1}},"thing-2":{id:"thing-2",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",flip:!0},{type:"collision-box2d",body:{type:"dynamic",fixedRotation:!0,defaultFixtureData:{userData:{collisionType:"thing"}},fixtureDefinitions:[{density:1,friction:.5,restitution:.6,shape:{halfWidth:10,halfHeight:44,y:-4}},{density:1,friction:.5,restitution:.6,shape:{halfWidth:16,halfHeight:3,y:12}},{density:1,friction:.5,restitution:.6,shape:{radius:15.5,y:32}}]},resolution:{thing:{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":["begin-drag-overlap","bumped"],thing:["begin-drag-overlap","bumped"],"side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}}},joints:[{type:"revolute",userData:{name:"motor"},object:{type:"thing-wheel",properties:{},offset:{x:0,y:32}},localAnchorA:{x:0,y:32},localAnchorB:{x:0,y:0}}]},{type:"motor",torque:50,speed:12,aliases:{"prepare-for-simulation":"stop-motor",bumped:"start-motor"}},{type:"entity-linker"},{type:"render-sprite",spriteSheet:{images:["thing"],frames:{width:67,height:122,regY:61,regX:35},animations:{running:{frames:[77,78,79],speed:.5,next:"going"},going:{frames:[80,81,82,83,84,85,86,87,88,89],speed:.8},simulating:{frames:[47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76],speed:.5},dragging:46,default:45}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"audio",audioMap:{running:"thing-2"}}],properties:{z:5}},"thing-2-li":{id:"thing-2-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"thing-2"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:19}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"thing-2-hint":{id:"thing-2-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["thing"],frames:{width:67,height:122,regY:61,regX:35},animations:{default:45}},rotate:!0}],properties:{z:1}},"thing-wheel":{id:"thing-wheel",components:[{type:"simulation-prepper",isSimulationConstant:!0},{type:"motor",torque:50,speed:12,aliases:{"prepare-for-simulation":"stop-motor",bumped:"start-motor"}},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"thing"}},fixtureDefinitions:[{density:1,friction:5,restitution:.6,shape:{radius:16}}]},resolution:{thing:{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":["begin-drag-overlap","bumped"],thing:["begin-drag-overlap","bumped"],"side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}}}}],properties:{z:5}},"u-turn":{id:"u-turn",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[1.57,.7853,.3926,0,-.3926,-.7853,-1.57],flip:!0},{type:"shrink-pop",exitMagnitude:10},{type:"vacuum",suckFixture:"teleport",magnitude:1},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"static-stuff"}},fixtureDefinitions:[{shape:{points:[{x:48,y:-126},{x:58,y:-126},{x:58,y:-123},{x:46,y:-123}]}},{shape:{points:[{x:46,y:-77},{x:58,y:-77},{x:58,y:-72},{x:48,y:-72}]}},{shape:{points:[{x:-10,y:-120},{x:46,y:-123},{x:46,y:-77},{x:12,y:-70},{x:-16,y:-70},{x:-16,y:-109}]}},{shape:{points:[{x:-12,y:-70},{x:4,y:-70},{x:7,y:64},{x:-9,y:64}]}},{shape:{points:[{x:-14,y:64},{x:11,y:64},{x:29,y:75},{x:29,y:122},{x:-8,y:114},{x:-14,y:108},{x:-16,y:92}]}},{shape:{points:[{x:29,y:75},{x:48,y:72},{x:59,y:72},{x:59,y:76},{x:29,y:76}]}},{shape:{points:[{x:29,y:121},{x:59,y:121},{x:59,y:126},{x:48,y:126},{x:29,y:122}]}},{isSensor:!0,userData:{collisionType:"vacuum"},shape:{points:[{x:59,y:76},{x:109,y:76},{x:109,y:121},{x:59,y:121}]}},{isSensor:!0,userData:{collisionType:"teleport"},shape:{points:[{x:60,y:105},{x:53,y:105},{x:53,y:92},{x:60,y:92}]}},{isSensor:!0,userData:{collisionType:"spawn"},shape:{points:[{x:50,y:-105},{x:60,y:-105},{x:60,y:-95},{x:50,y:-95}]}},{userData:{collisionType:"launch"},shape:{points:[{x:3,y:-105},{x:-3,y:-105},{x:-3,y:-95},{x:3,y:-95}]}}]},resolution:{"static-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}},vacuum:{beginContact:{"mobile-stuff":"vacuum-on"},endContact:{"mobile-stuff":"vacuum-off"}},teleport:{beginContact:{"mobile-stuff":["teleport-on","begin-drag-overlap"],"static-stuff":"begin-drag-overlap"},endContact:{"mobile-stuff":["teleport-off","end-drag-overlap"],"static-stuff":"end-drag-overlap"}}}},{type:"render-sprite",spriteSheet:{images:["u-turn"],frames:{width:102,height:273,regY:136,regX:27},animations:{dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0},pins:[{pinId:"entrance",x:70,y:235,angle:90}]},{type:"render-sprite",pinTo:"entrance",spriteSheet:{images:["wind"],frames:{width:72,height:100,regX:36,regY:100},animations:{sucking:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]},default:21}}},{type:"audio",audioMap:{eject:"eject"}},{type:"sfx-manager"}],properties:{z:205}},"u-turn-li":{id:"u-turn-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"u-turn"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:22}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"u-turn-hint":{id:"u-turn-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["u-turn"],frames:{width:102,height:273,regY:136,regX:27},animations:{default:0}},rotate:!0}],properties:{z:1}},"vo-cat":{id:"vo-cat",components:[{type:"logic-delay-message",events:{"scene-live":{event:"play-intro",delay:2e3}}},{type:"render-sprite",mirror:!0,spriteSheet:{framerate:30,images:["cat-body"],frames:{width:550,height:322,regX:296,regY:0},animations:{default:{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,7,6,5,4,3,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,11,12,13,14,15,16,15,14,13,12,11,10,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}},pins:[{pinId:"cat-neck",x:300,y:75}]},{type:"render-sprite",mirror:!0,spriteSheet:{images:["cat-hat"],frames:{width:197,height:303,regX:122,regY:410},animations:{default:1}},pinTo:"cat-neck",offsetZ:-1},{type:"voice-over",messagePrefix:"cat-says",frameLength:100,pinTo:"cat-neck",mirror:!0,animationMap:{"-":"face-m",A:"face-a",B:"face-f",C:"face-d",D:"face-d",E:"face-d",F:"face-f",G:"face-d",H:"face-a",I:"face-i",J:"face-d",K:"face-d",L:"face-l",M:"face-m",N:"face-d",O:"face-o",P:"face-d",Q:"face-o",R:"face-d",S:"face-d",T:"face-d",U:"face-oo",V:"face-f",W:"face-o",X:"face-d",Y:"face-a",Z:"face-d",default:"default"},spriteSheet:{images:["cat-head"],framerate:30,frames:{width:321,height:231,regX:140,regY:220},animations:{"face-m":0,"face-o":7,"face-oo":8,"face-i":1,"face-l":9,"face-a":2,"face-aa":3,"face-aaa":4,"face-f":6,"face-d":5,"face-r":5,default:{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,11,10]}}},voiceoverMap:{"play-intro":[{sound:{sound:"title-title"},voice:"-AINNVNNSNI-NNNNFNNI---------------ORRJASTNIMMTAHLPASPRIIPARR-FISIS---BRRFAA-PARTAAA----WEHVVALDARAAMTARRELLSWENEED---BTWNEDOOARRHLP---FNISN-DEANVNSNNN-ANNFNNII--------CLK--DAATAPP--BTNNN--FOWNNTALPRIPAAAR--FRFISISPARDEE---------CLKDAABTMMBTN-IFWUWANTDIZIINN--WR-OWNNMASSEENN----"}]}},{type:"render-sprite",mirror:!0,spriteSheet:{images:["cat-hat"],frames:{width:197,height:303,regX:122,regY:410},animations:{default:0}},pinTo:"cat-neck",offsetZ:1}],properties:{x:255,y:285,z:1}},"vo-party-cat":{id:"vo-party-cat",components:[{type:"logic-party-vo"},{type:"render-sprite",mirror:!0,spriteSheet:{framerate:30,images:["cat-body"],frames:{width:550,height:322,regX:296,regY:0},animations:{default:{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,7,6,5,4,3,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,11,12,13,14,15,16,15,14,13,12,11,10,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}},pins:[{pinId:"cat-neck",x:300,y:75}]},{type:"render-sprite",spriteSheet:{images:["cat-hat"],frames:{width:197,height:303,regX:122,regY:410},animations:{default:1}},pinTo:"cat-neck",offsetZ:-1},{type:"voice-over",messagePrefix:"cat-says",frameLength:100,pinTo:"cat-neck",animationMap:{"-":"face-m",A:"face-a",B:"face-f",C:"face-d",D:"face-d",E:"face-d",F:"face-f",G:"face-d",H:"face-a",I:"face-d",J:"face-d",K:"face-d",L:"face-l",M:"face-m",N:"face-d",O:"face-o",P:"face-d",Q:"face-o",R:"face-d",S:"face-d",T:"face-d",U:"face-oo",V:"face-f",W:"face-o",X:"face-d",Y:"face-a",Z:"face-d","!":"face-aa","@":"face-aaa",default:"default"},spriteSheet:{images:["cat-head"],framerate:30,frames:{width:321,height:231,regX:140,regY:220},animations:{"face-m":0,"face-o":7,"face-oo":8,"face-i":1,"face-l":9,"face-a":2,"face-aa":3,"face-aaa":4,"face-f":6,"face-d":5,"face-r":5,default:{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,11,10]}}},voiceoverMap:{"play-party-not-done":[{sound:{sound:"party-not-done"},voice:"-YRR-DWNGAAGRAAAT-JAAAAB--KIPIAP----ANSSOONWLHVAEVRADINFDAPARTEE--"}],"play-party-more-stars":[{sound:{sound:"party-more-stars"},voice:"-A!@AKSALNT----WRAEIATD-AVRADN-FDAPAADE----KABKLBTNSTARRS--AN--FSWLHVDA--BAS--PADEAVVRRR--"}],"play-party-done":[{sound:{sound:"party-done"},voice:"-WA!AWW----YOASSMBLDDA--BESD-PARDEE-AVVRRR--FAKSFRHLPIN---"}],"play-party-empty":[{sound:{sound:"party-empty"},voice:"-DABADAINMRDEYAT----KEMPLTLVLSACREATITMSFRFISISPARIE-"}]}},{type:"render-sprite",spriteSheet:{images:["cat-hat"],frames:{width:197,height:303,regX:122,regY:410},animations:{default:0}},pinTo:"cat-neck"}],properties:{x:698,y:292,z:50,orientation:3.14}},"wood-ball":{id:"wood-ball",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:1,friction:.5,restitution:.2,shape:{radius:29}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["wood-ball"],frames:{width:77,height:79,regY:40,regX:39},animations:{yellow:4,blue:3,red:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:.6,max:40},{type:"audio",audioMap:{bounce:"wood-sfx2"}},{type:"sfx-manager"}],properties:{z:50,name:"Wood"}},"wood-ball-li":{id:"wood-ball-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"wood-ball"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:5}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"wood-ball-hint":{id:"wood-ball-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["wood-ball"],frames:{width:77,height:79,regY:40,regX:39},animations:{default:0}},rotate:!0}],properties:{z:1}},"wool-ball":{id:"wool-ball",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",linearDamping:.6,angularDamping:.3,defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:.2,friction:1,restitution:.3,shape:{radius:21}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"}}}},{type:"render-sprite",spriteSheet:{images:["wool-ball"],frames:{width:61,height:62,regY:31,regX:30},animations:{yellow:4,red:2,blue:3,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}}],properties:{z:65,name:"Wool"}},"wool-ball-li":{id:"wool-ball-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"wool-ball"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:9}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"wool-ball-hint":{id:"wool-ball-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["wool-ball"],frames:{width:61,height:62,regY:31,regX:30},animations:{default:0}},rotate:!0}],properties:{z:1}},"yarn-ball":{id:"yarn-ball",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:.7,friction:.9,restitution:.1,shape:{radius:22}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["yarn-ball"],frames:{width:59,height:59,regY:30,regX:30},animations:{yellow:3,red:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:4,max:16},{type:"audio",audioMap:{bounce:"thud-0"}},{type:"sfx-manager"}],properties:{z:65,name:"Thread",color:"blue"}},"yarn-ball-li":{id:"yarn-ball-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"yarn-ball"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:6}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"yarn-ball-hint":{id:"yarn-ball-hint",components:[{type:"logic-hint-object"},{type:"render-sprite",spriteSheet:{images:["yarn-ball"],frames:{width:59,height:59,regY:30,regX:30},animations:{default:0}},rotate:!0}],properties:{z:1}},"block-rectangle":{id:"block-rectangle",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[1.57,.785,0,-.785,-1.57]},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"}},fixtureDefinitions:[{density:1,friction:.6,restitution:.2,shape:{halfWidth:8,halfHeight:34}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["block-rectangle"],frames:{width:35,height:85,regX:17,regY:42},animations:{yellow:3,red:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:4,max:26},{type:"audio",audioMap:{bounce:"wood-sfx2"}},{type:"sfx-manager"}],properties:{z:50,name:"Rectangle Block",color:"blue"}},"block-rectangle-li":{id:"block-rectangle-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"block-rectangle"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:26}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"block-square":{id:"block-square",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"},density:1,friction:.6,restitution:.2},fixtureDefinitions:[{shape:{halfWidth:17,halfHeight:17}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["block-square"],frames:{width:53,height:51,regY:26,regX:25},animations:{yellow:3,red:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:4,max:26},{type:"audio",audioMap:{bounce:"wood-sfx2"}},{type:"sfx-manager"}],properties:{z:50,name:"Square Block",color:"blue"}},"block-square-li":{id:"block-square-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"block-square"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:27}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"block-bridge":{id:"block-bridge",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[3.14,1.57,0,-1.57,-3.14]},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"},density:1,friction:.6,restitution:.2},fixtureDefinitions:[{shape:{points:[{x:-34,y:-16},{x:-13,y:-16},{x:-13,y:5},{x:-19,y:16},{x:-34,y:16}]}},{shape:{points:[{x:-13,y:-16},{x:0,y:-16},{x:0,y:0},{x:-13,y:5}]}},{shape:{points:[{x:13,y:-16},{x:34,y:-16},{x:34,y:16},{x:19,y:16},{x:13,y:5}]}},{shape:{points:[{x:0,y:-16},{x:13,y:-16},{x:13,y:5},{x:0,y:0}]}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["block-bridge"],frames:{width:86,height:48,regX:43,regY:24},animations:{yellow:3,blue:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:4,max:26},{type:"audio",audioMap:{bounce:"wood-sfx2"}},{type:"sfx-manager"}],properties:{z:50,name:"Bridge Block",color:"red"}},"block-bridge-li":{id:"block-bridge-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"block-bridge"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:29}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"block-triangle":{id:"block-triangle",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[2.356,0,-2.356]},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"},density:1,friction:.6,restitution:.2},fixtureDefinitions:[{shape:{points:[{x:1,y:-17},{x:33,y:16},{x:-33,y:16}]}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["block-triangle"],frames:{width:76,height:50,regY:25,regX:38},animations:{blue:3,red:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:4,max:26},{type:"audio",audioMap:{bounce:"wood-sfx2"}},{type:"sfx-manager"}],properties:{z:50,name:"Triangle Block",color:"yellow"}},"block-triangle-li":{id:"block-triangle-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"block-triangle"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:28}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"block-half-circle":{id:"block-half-circle",components:[{type:"simulation-prepper"},{type:"logic-drag-and-droppable",rotationAngles:[3.14,0,-3.14]},{type:"collision-box2d",body:{type:"dynamic",defaultFixtureData:{userData:{collisionType:"mobile-stuff"},density:1,friction:.6,restitution:.2},fixtureDefinitions:[{shape:{points:[{x:-34,y:-17},{x:0,y:-17},{x:0,y:17},{x:-3,y:17},{x:-13,y:15},{x:-20,y:11},{x:-26,y:6},{x:-31,y:-3}]}},{shape:{points:[{x:0,y:-17},{x:34,y:-17},{x:31,y:-3},{x:26,y:6},{x:20,y:11},{x:13,y:15},{x:3,y:17},{x:0,y:17}]}}]},resolution:{"mobile-stuff":{beginContact:{"static-stuff":"begin-drag-overlap","mobile-stuff":"begin-drag-overlap",thing:"begin-drag-overlap","side-bar":"begin-drag-recycle-overlap"},endContact:{"static-stuff":"end-drag-overlap","mobile-stuff":"end-drag-overlap",thing:"end-drag-overlap","side-bar":"end-drag-recycle-overlap"},postSolve:{"static-stuff":"hit-something","mobile-stuff":"hit-something",thing:"hit-something"}}}},{type:"render-sprite",spriteSheet:{images:["block-half-circle"],frames:{width:84,height:50,regX:42,regY:25},animations:{yellow:3,blue:2,dragging:1,default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"collision-audio",audioId:"bounce",min:4,max:26},{type:"audio",audioMap:{bounce:"wood-sfx2"}},{type:"sfx-manager"}],properties:{z:50,name:"Half-Circle Block",color:"red"}},"block-half-circle-li":{id:"block-half-circle-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"block-half-circle"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:30}},acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"gadget-skip":{id:"gadget-skip",components:[{type:"mouse-overable"},{type:"logic-button"},{type:"logic-gadget-skip"},{type:"render-sprite",animationMap:{"button-down":"down",disabled:"disabled",default:"up"},spriteSheet:{images:["gadget-buttons"],frames:{width:69,height:46,regX:0,regY:0},animations:{up:3,down:4,disabled:5}},acceptInput:{hover:!0,touch:!0,click:!0},pins:[{pinId:"center",x:45,y:27}]},{type:"render-sprite",spriteSheet:{images:["gadget-numbers"],frames:{width:11,height:14,regX:5,regY:7},animations:{"ones-10":10,"ones-9":9,"ones-8":8,"ones-7":7,"ones-6":6,"ones-5":5,"ones-4":4,"ones-3":3,"ones-2":2,"ones-1":1,"ones-0":0}},pinTo:"center",offsetZ:1}],properties:{z:500,x:154,y:55}},"gadget-star":{id:"gadget-star",components:[{type:"mouse-overable"},{type:"logic-button"},{type:"logic-gadget-star"},{type:"render-sprite",animationMap:{"button-down":"down",disabled:"disabled",default:"up"},spriteSheet:{images:["gadget-buttons"],frames:{width:69,height:46,regX:0,regY:0},animations:{up:0,down:1,disabled:2}},acceptInput:{hover:!0,touch:!0,click:!0},pins:[{pinId:"center",x:45,y:27}]},{type:"render-sprite",spriteSheet:{images:["gadget-numbers"],frames:{width:11,height:14,regX:5,regY:7},animations:{"ones-10":10,"ones-9":9,"ones-8":8,"ones-7":7,"ones-6":6,"ones-5":5,"ones-4":4,"ones-3":3,"ones-2":2,"ones-1":1,"ones-0":0}},pinTo:"center",offsetZ:1}],properties:{z:500,x:154,y:8}},"candy-backup":{id:"candy-backup",components:[],properties:{}},"level-buttons":{id:"level-buttons",components:[{type:"level-select-manager"},{type:"dom-element",element:"div",className:"level-select-bg"},{type:"dom-element",element:"div",className:"level-select-home-button",onmouseup:{event:"new-scene",message:{scene:"menu"}},ontouchend:{event:"new-scene",message:{scene:"menu"}}},{type:"dom-element",element:"div",className:"level-select-arrow arrow-up hide",id:"level-select-arrow-up",onmouseup:"shift-up"},{type:"dom-element",element:"div",className:"level-select-arrow arrow-down",id:"level-select-arrow-down",onmouseup:"shift-down"},{type:"dom-element",element:"div",className:"level-rows-container",id:"level-rows-container"},{type:"dom-element",element:"div",className:"button-party",onmouseup:"new-scene",ontouchend:"new-scene",parent:"level-rows-container"},{type:"dom-element",element:"div",className:"level-row",id:"level-row-0",parent:"level-rows-container"},{type:"dom-element",element:"div",className:"level-button from-right-3",id:"level-button-0",parent:"level-row-0",onmouseup:{event:"play-level",message:0},ontouchend:{event:"play-level",message:0}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-0",updateClassName:!0,aliases:{"button-00-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-0",innerHTML:"1"},{type:"dom-element",element:"div",className:"level-button from-right-2",id:"level-button-1",parent:"level-row-0",onmouseup:{event:"play-level",message:1},ontouchend:{event:"play-level",message:1}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-1",updateClassName:!0,aliases:{"button-01-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-1",innerHTML:"2"},{type:"dom-element",element:"div",className:"level-button from-right-1",id:"level-button-2",parent:"level-row-0",onmouseup:{event:"play-level",message:2},ontouchend:{event:"play-level",message:2}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-2",updateClassName:!0,aliases:{"button-02-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-2",innerHTML:"3"},{type:"dom-element",element:"div",className:"level-button from-right-0",id:"level-button-3",parent:"level-row-0",onmouseup:{event:"play-level",message:3},ontouchend:{event:"play-level",message:3}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-3",updateClassName:!0,aliases:{"button-03-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-3",innerHTML:"4"},{type:"dom-element",element:"div",className:"row-reward-container",id:"row-reward-container-0",parent:"level-row-0"},{type:"dom-element",element:"div",className:"row-reward row-0-reward",parent:"row-reward-container-0",updateClassName:!0,aliases:{"row-0-reward-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-row",id:"level-row-1",parent:"level-rows-container"},{type:"dom-element",element:"div",className:"level-button from-right-3",id:"level-button-4",parent:"level-row-1",onmouseup:{event:"play-level",message:4},ontouchend:{event:"play-level",message:4}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-4",updateClassName:!0,aliases:{"button-10-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-4",innerHTML:"5"},{type:"dom-element",element:"div",className:"level-button from-right-2",id:"level-button-5",parent:"level-row-1",onmouseup:{event:"play-level",message:5},ontouchend:{event:"play-level",message:5}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-5",updateClassName:!0,aliases:{"button-11-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-5",innerHTML:"6"},{type:"dom-element",element:"div",className:"level-button from-right-1",id:"level-button-6",parent:"level-row-1",onmouseup:{event:"play-level",message:6},ontouchend:{event:"play-level",message:6}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-6",updateClassName:!0,aliases:{"button-12-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-6",innerHTML:"7"},{type:"dom-element",element:"div",className:"level-button from-right-0",id:"level-button-7",parent:"level-row-1",onmouseup:{event:"play-level",message:7},ontouchend:{event:"play-level",message:7}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-7",updateClassName:!0,aliases:{"button-13-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-7",innerHTML:"8"},{type:"dom-element",element:"div",className:"row-reward-container",id:"row-reward-container-1",parent:"level-row-1"},{type:"dom-element",element:"div",className:"row-reward row-1-reward",parent:"row-reward-container-1",updateClassName:!0,aliases:{"row-1-reward-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-row",id:"level-row-2",parent:"level-rows-container"},{type:"dom-element",element:"div",className:"level-button from-right-1",id:"level-button-8",parent:"level-row-2",onmouseup:{event:"play-level",message:8},ontouchend:{event:"play-level",message:8}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-8",updateClassName:!0,aliases:{"button-20-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-8",innerHTML:"9"},{type:"dom-element",element:"div",className:"level-button from-right-0",id:"level-button-9",parent:"level-row-2",onmouseup:{event:"play-level",message:9},ontouchend:{event:"play-level",message:9}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-9",updateClassName:!0,aliases:{"button-21-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-9",innerHTML:"10"},{type:"dom-element",element:"div",className:"row-reward-container",id:"row-reward-container-2",parent:"level-row-2"},{type:"dom-element",element:"div",className:"row-reward row-2-reward",parent:"row-reward-container-2",updateClassName:!0,aliases:{"row-2-reward-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-row",id:"level-row-3",parent:"level-rows-container"},{type:"dom-element",element:"div",className:"level-button from-right-1",id:"level-button-10",parent:"level-row-3",onmouseup:{event:"play-level",message:10},ontouchend:{event:"play-level",message:10}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-10",updateClassName:!0,aliases:{"button-30-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-10",innerHTML:"11"},{type:"dom-element",element:"div",className:"level-button from-right-0",id:"level-button-11",parent:"level-row-3",onmouseup:{event:"play-level",message:11},ontouchend:{event:"play-level",message:11}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-11",updateClassName:!0,aliases:{"button-31-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-11",innerHTML:"12"},{type:"dom-element",element:"div",className:"row-reward-container",id:"row-reward-container-3",parent:"level-row-3"},{type:"dom-element",element:"div",className:"row-reward row-3-reward",parent:"row-reward-container-3",updateClassName:!0,aliases:{"row-3-reward-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-row",id:"level-row-4",parent:"level-rows-container"},{type:"dom-element",element:"div",className:"level-button from-right-2",id:"level-button-12",parent:"level-row-4",onmouseup:{event:"play-level",message:12},ontouchend:{event:"play-level",message:12}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-12",updateClassName:!0,aliases:{"button-40-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-12",innerHTML:"13"},{type:"dom-element",element:"div",className:"level-button from-right-1",id:"level-button-13",parent:"level-row-4",onmouseup:{event:"play-level",message:13},ontouchend:{event:"play-level",message:13}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-13",updateClassName:!0,aliases:{"button-41-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-13",innerHTML:"14"},{type:"dom-element",element:"div",className:"level-button from-right-0",id:"level-button-14",parent:"level-row-4",onmouseup:{event:"play-level",message:14},ontouchend:{event:"play-level",message:14}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-14",updateClassName:!0,aliases:{"button-42-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-14",innerHTML:"15"},{type:"dom-element",element:"div",className:"row-reward-container",id:"row-reward-container-4",parent:"level-row-4"},{type:"dom-element",element:"div",className:"row-reward row-4-reward",parent:"row-reward-container-4",updateClassName:!0,aliases:{"row-4-reward-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-row",id:"level-row-5",parent:"level-rows-container"},{type:"dom-element",element:"div",className:"level-button from-right-3",id:"level-button-15",parent:"level-row-5",onmouseup:{event:"play-level",message:15},ontouchend:{event:"play-level",message:15}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-15",updateClassName:!0,aliases:{"button-50-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-15",innerHTML:"16"},{type:"dom-element",element:"div",className:"level-button from-right-2",id:"level-button-16",parent:"level-row-5",onmouseup:{event:"play-level",message:16},ontouchend:{event:"play-level",message:16}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-16",updateClassName:!0,aliases:{"button-51-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-16",innerHTML:"17"},{type:"dom-element",element:"div",className:"level-button from-right-1",id:"level-button-17",parent:"level-row-5",onmouseup:{event:"play-level",message:17},ontouchend:{event:"play-level",message:17}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-17",updateClassName:!0,aliases:{"button-52-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-17",innerHTML:"18"},{type:"dom-element",element:"div",className:"level-button from-right-0",id:"level-button-18",parent:"level-row-5",onmouseup:{event:"play-level",message:18},ontouchend:{event:"play-level",message:18}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-18",updateClassName:!0,aliases:{"button-53-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-18",innerHTML:"19"},{type:"dom-element",element:"div",className:"row-reward-container",id:"row-reward-container-5",parent:"level-row-5"},{type:"dom-element",element:"div",className:"row-reward row-5-reward",parent:"row-reward-container-5",updateClassName:!0,aliases:{"row-5-reward-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-row",id:"level-row-6",parent:"level-rows-container"},{type:"dom-element",element:"div",className:"level-button from-right-1",id:"level-button-19",parent:"level-row-6",onmouseup:{event:"play-level",message:19},ontouchend:{event:"play-level",message:19}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-19",updateClassName:!0,aliases:{"button-60-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-19",innerHTML:"20"},{type:"dom-element",element:"div",className:"level-button from-right-0",id:"level-button-20",parent:"level-row-6",onmouseup:{event:"play-level",message:20},ontouchend:{event:"play-level",message:20}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-20",updateClassName:!0,aliases:{"button-61-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-20",innerHTML:"21"},{type:"dom-element",element:"div",className:"row-reward-container",id:"row-reward-container-6",parent:"level-row-6"},{type:"dom-element",element:"div",className:"row-reward row-6-reward",parent:"row-reward-container-6",updateClassName:!0,aliases:{"row-6-reward-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-row",id:"level-row-7",parent:"level-rows-container"},{type:"dom-element",element:"div",className:"level-button from-right-3",id:"level-button-21",parent:"level-row-7",onmouseup:{event:"play-level",message:21},ontouchend:{event:"play-level",message:21}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-21",updateClassName:!0,aliases:{"button-70-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-21",innerHTML:"22"},{type:"dom-element",element:"div",className:"level-button from-right-2",id:"level-button-22",parent:"level-row-7",onmouseup:{event:"play-level",message:22},ontouchend:{event:"play-level",message:22}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-22",updateClassName:!0,aliases:{"button-71-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-22",innerHTML:"23"},{type:"dom-element",element:"div",className:"level-button from-right-1",id:"level-button-23",parent:"level-row-7",onmouseup:{event:"play-level",message:23},ontouchend:{event:"play-level",message:23}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-23",updateClassName:!0,aliases:{"button-72-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-23",innerHTML:"24"},{type:"dom-element",element:"div",className:"level-button from-right-0",id:"level-button-24",parent:"level-row-7",onmouseup:{event:"play-level",message:24},ontouchend:{event:"play-level",message:24}},{type:"dom-element",element:"div",className:"level-state-icon",parent:"level-button-24",updateClassName:!0,aliases:{"button-73-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-button-text",parent:"level-button-24",innerHTML:"25"},{type:"dom-element",element:"div",className:"row-reward-container",id:"row-reward-container-7",parent:"level-row-7"},{type:"dom-element",element:"div",className:"row-reward row-7-reward",parent:"row-reward-container-7",updateClassName:!0,aliases:{"row-7-reward-state":"logical-state"}},{type:"audio",audioMap:{"play-background-menu":{sound:"background-music-menu",loop:-1}}},{type:"change-scene",transition:"fade-to-black",scene:"party"}]},"in-game-drop-down":{id:"in-game-drop-down",components:[{type:"logic-delay-message",events:{"product-almost-ready":{event:"product-ready",delay:2e3}}},{type:"logic-drop-down"},{type:"dom-element",element:"div",className:"blind",updateClassName:!0,aliases:{"blind-state":"logical-state"}},{type:"dom-element",element:"div",className:"drop-down-bg",id:"drop-down-bg",updateClassName:!0,aliases:{"drop-down-state":"logical-state"}},{type:"dom-element",element:"div",className:"ays-level-select-container",id:"ays-level-select-container",parent:"drop-down-bg",updateClassName:!0,aliases:{"ays-level-select-container-state":"logical-state"}},{type:"dom-element",className:"ays-level-select-title",id:"ays-level-select-title",parent:"ays-level-select-container",innerHTML:"Are you sure you want to leave?"},{type:"dom-element",element:"div",className:"drop-down-button yes-button",parent:"ays-level-select-container",onmouseup:"go-to-up-a-level",ontouchend:"go-to-up-a-level"},{type:"dom-element",element:"div",className:"drop-down-button no-button",parent:"ays-level-select-container",onmouseup:"hide-drop-down",ontouchend:"hide-drop-down"},{type:"dom-element",element:"div",className:"ays-level-select-banner",parent:"ays-level-select-container",innerHTML:"Are you sure?"},{type:"dom-element",element:"div",className:"ays-reset-container",id:"ays-reset-container",parent:"drop-down-bg",updateClassName:!0,aliases:{"ays-reset-container-state":"logical-state"}},{type:"dom-element",className:"ays-reset-title",id:"ays-reset-title",parent:"ays-reset-container",innerHTML:"Are you sure you want to remove all the pieces?"},{type:"dom-element",element:"div",className:"drop-down-button yes-button",parent:"ays-reset-container",onmouseup:"go-to-reset-puzzle",ontouchend:"go-to-reset-puzzle"},{type:"dom-element",element:"div",className:"drop-down-button no-button",parent:"ays-reset-container",onmouseup:"hide-drop-down",ontouchend:"hide-drop-down"},{type:"dom-element",element:"div",className:"ays-reset-banner",parent:"ays-reset-container",innerHTML:"Are you sure?"},{type:"dom-element",element:"div",className:"level-complete-container",id:"level-complete-container",parent:"drop-down-bg",updateClassName:!0,aliases:{"level-complete-container-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-complete-level-number",id:"level-complete-level-number",parent:"level-complete-container"},{type:"dom-element",className:"level-complete-title",id:"level-complete-title",parent:"level-complete-container"},{type:"dom-element",id:"element-container",parent:"level-complete-container"},{type:"dom-element",className:"level-complete-added-element",parent:"element-container",updateClassName:!0,aliases:{"added-element-state":"logical-state"}},{type:"dom-element",element:"div",className:"level-complete-candies",parent:"level-complete-container",updateClassName:!0,aliases:{"candies-state":"logical-state"}},{type:"dom-element",element:"div",className:"drop-down-button level-complete-level-select-button",parent:"level-complete-container",onmouseup:"go-to-level-select",ontouchend:"go-to-level-select",updateClassName:!0,aliases:{"level-select-button-state":"logical-state"}},{type:"dom-element",element:"div",className:"drop-down-button level-complete-replay-button",parent:"level-complete-container",onmouseup:"go-to-replay",ontouchend:"go-to-replay",updateClassName:!0,aliases:{"replay-button-state":"logical-state"}},{type:"dom-element",element:"div",className:"drop-down-button level-complete-next-level-button",parent:"level-complete-container",onmouseup:"go-to-next-level",ontouchend:"go-to-next-level",updateClassName:!0,aliases:{"next-level-button-state":"logical-state"}},{type:"dom-element",element:"div",className:"drop-down-button level-complete-ok-button",parent:"level-complete-container",onmouseup:"go-to-next-dialog",ontouchend:"go-to-next-dialog",updateClassName:!0,aliases:{"ok-button-state":"logical-state"}},{type:"dom-element",element:"div",className:"row-product-container",id:"row-product-container",parent:"drop-down-bg",updateClassName:!0,aliases:{"row-product-container-state":"logical-state"}},{type:"dom-element",element:"div",className:"row-product-title",id:"row-product-title",parent:"row-product-container"},{type:"dom-element",id:"fancy-container",parent:"row-product-container"},{type:"dom-element",element:"div",className:"row-product-product",id:"row-product-product",parent:"fancy-container",updateClassName:!0,aliases:{"product-state":"logical-state"}},{type:"dom-element",className:"row-product-candy-count",parent:"row-product-container",id:"list-of-candies",updateClassName:!0,aliases:{"candy-count":"logical-state"}},{type:"dom-element",parent:"list-of-candies",className:"c0"},{type:"dom-element",parent:"list-of-candies",className:"c1"},{type:"dom-element",parent:"list-of-candies",className:"c2"},{type:"dom-element",parent:"list-of-candies",className:"c3"},{type:"dom-element",parent:"list-of-candies",className:"c4"},{type:"dom-element",parent:"list-of-candies",className:"c5"},{type:"dom-element",parent:"list-of-candies",className:"c6"},{type:"dom-element",parent:"list-of-candies",className:"c7"},{type:"dom-element",parent:"list-of-candies",className:"c8"},{type:"dom-element",parent:"list-of-candies",className:"c9"},{type:"dom-element",parent:"list-of-candies",className:"c10"},{type:"dom-element",parent:"list-of-candies",className:"c11"},{type:"dom-element",element:"div",className:"drop-down-button row-product-ok-button",parent:"row-product-container",onmouseup:"go-to-party",ontouchend:"go-to-party"},{type:"dom-element",element:"div",className:"row-product-banner",parent:"row-product-container",innerHTML:"What is it?!"},{type:"dom-element",element:"div",className:"level-select-prompt-container",id:"level-select-prompt-container",parent:"drop-down-bg",updateClassName:!0,aliases:{"level-select-prompt-container-state":"logical-state"}},{type:"audio",vo:!0,audioMap:{"play-confirm-leave":"confirm-leave","play-confirm-reset":"confirm-reset","play-you-added-egg":[{sound:"lev-complete-0"},{sound:"name-egg"},{sound:"lev-complete-1"}],"play-you-added-flour":[{sound:"lev-complete-0"},{sound:"name-flour"},{sound:"lev-complete-1"}],"play-you-added-honey":[{sound:"lev-complete-0"},{sound:"name-honey"},{sound:"lev-complete-1"}],"play-you-added-milk":[{sound:"lev-complete-0"},{sound:"name-milk"},{sound:"lev-complete-1"}],"play-you-added-rubber":[{sound:"lev-complete-0"},{sound:"name-rubber"},{sound:"lev-complete-1"}],"play-you-added-wool":[{sound:"lev-complete-0"},{sound:"name-wool"},{sound:"lev-complete-1"}],"play-you-added-wood":[{sound:"lev-complete-0"},{sound:"name-wood"},{sound:"lev-complete-1"}],"play-you-added-thread":[{sound:"lev-complete-0"},{sound:"name-thread"},{sound:"lev-complete-1"}],"play-you-added-chocolate":[{sound:"lev-complete-0"},{sound:"name-chocolate"},{sound:"lev-complete-1"}],"play-you-added-blueberry":[{sound:"lev-complete-0"},{sound:"name-blueberry"},{sound:"lev-complete-1"}],"play-you-added-balloon":[{sound:"lev-complete-0"},{sound:"name-balloon"},{sound:"lev-complete-1"}],"play-you-added-paper":[{sound:"lev-complete-0"},{sound:"name-paper"},{sound:"lev-complete-1"}],"play-product-prep":[{sound:"product-start",events:[{time:3e4,event:"product-almost-ready"}]}],"play-product-cake":[{sound:"product-result"},{sound:"cake-a",events:[{time:3e4,event:"better-product"}]}],"play-product-ice-cream":[{sound:"product-result"},{sound:"ice-cream",events:[{time:3e4,event:"better-product"}]}],"play-product-balloons":[{sound:"product-result"},{sound:"balloons",events:[{time:3e4,event:"better-product"}]}],"play-product-party-hats":[{sound:"product-result"},{sound:"party-hats",events:[{time:3e4,event:"better-product"}]}],"play-product-kite":[{sound:"product-result"},{sound:"kite-a",events:[{time:3e4,event:"better-product"}]}],"play-product-muffins":[{sound:"product-result"},{sound:"muffins",events:[{time:3e4,event:"better-product"}]}],"play-product-pinata":[{sound:"product-result"},{sound:"pinata-a",events:[{time:3e4,event:"better-product"}]}],"play-product-decorations":[{sound:"product-result"},{sound:"decorations",events:[{time:3e4,event:"better-product"}]}],"play-better-ice-cream":[{sound:"product-stars-0"},{sound:"ice-cream"},{sound:"product-stars-1"}],"play-better-balloons":[{sound:"product-stars-0"},{sound:"balloons"},{sound:"product-stars-1-plural"}],"play-better-party-hats":[{sound:"product-stars-0"},{sound:"party-hats"},{sound:"product-stars-1-plural"}],"play-better-kite":[{sound:"product-stars-0"},{sound:"kite-a"},{sound:"product-stars-1"}],"play-better-muffins":[{sound:"product-stars-0"},{sound:"muffins"},{sound:"product-stars-1-plural"}],"play-better-pinata":[{sound:"product-stars-0"},{sound:"pinata-a"},{sound:"product-stars-1"}],"play-better-decorations":[{sound:"product-stars-0"},{sound:"decorations"},{sound:"product-stars-1-plural"}],"play-better-cake":[{sound:"product-stars-0"},{sound:"cake-a"},{sound:"product-stars-1"}]}},{type:"change-scene",transition:"fade-to-black"},{type:"entity-linker",linkId:"interface-input",events:{"play-product-prep":"churn-maker","product-ready":["stop-maker","stop-churn"],"reset-puzzle":"remove-all-pieces"}}]},candy:{id:"candy",components:[{type:"simulation-prepper"},{type:"logic-candy"},{type:"logic-popup",growth:.5,time:800},{type:"logic-drag-and-droppable"},{type:"collision-box2d",body:{type:"static",defaultFixtureData:{userData:{collisionType:"candy"}},fixtureDefinitions:[{isSensor:!0,density:1,friction:.5,restitution:.8,shape:{radius:18}}]},resolution:{candy:{beginContact:{thing:"collect-candy","mobile-stuff":"collect-candy","side-bar":"begin-drag-recycle-overlap"},endContact:{thing:"no-collect-candy","mobile-stuff":"no-collect-candy","side-bar":"end-drag-recycle-overlap"}}}},{type:"render-sprite",spriteSheet:{images:["candy"],frames:{width:45,height:45,regY:23,regX:23},animations:{default:0}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0}},{type:"audio",audioMap:{"audio-star":"star"}},{type:"sfx-manager",highPriority:["audio-star"]}],properties:{z:6}},"candy-li":{id:"candy-li",components:[{type:"mouse-overable"},{type:"logic-list-item",item:"candy"},{type:"render-sprite",animationMap:{default:"default"},spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{default:25}},rotate:!0,acceptInput:{hover:!0,touch:!0,click:!0,hitArea:"r(-70,-36,140,72)"},mask:"r(11,84,136,291)"},{type:"render-sprite",spriteSheet:{images:["side-bar-items"],frames:{width:120,height:58,regX:60,regY:29},animations:{"new-item":31,default:32}},mask:"r(11,84,136,291)",offsetZ:1}],properties:{z:5}},"help-button":{id:"help-button",components:[{type:"mouse-overable"},{type:"logic-button"},{type:"logic-button-chooser",visibleInSandbox:!1},{type:"render-sprite",animationMap:{pressed:"down",released:"up",default:"up"},spriteSheet:{images:["in-game-buttons"],frames:{width:70,height:47,regX:35,regY:23},animations:{up:0,down:1}},acceptInput:{hover:!0,touch:!0,click:!0}},{type:"entity-linker",linkId:"interface-input",events:{released:"give-hint"}}],properties:{z:10,x:115,y:27}},"to-level-select-button":{id:"to-level-select-button",components:[{type:"mouse-overable"},{type:"logic-button"},{type:"render-sprite",animationMap:{pressed:"down",released:"up",default:"up"},spriteSheet:{images:["in-game-buttons"],frames:{width:70,height:47,regX:35,regY:23},animations:{up:2,down:3}},acceptInput:{hover:!0,touch:!0,click:!0}},{type:"entity-linker",linkId:"interface-input",events:{released:"show-level-select-prompt"}}],properties:{z:10,x:45,y:27}},"reset-puzzle-button":{id:"reset-puzzle-button",components:[{type:"mouse-overable"},{type:"logic-button"},{type:"logic-button-chooser",visibleInSandbox:!0},{type:"render-sprite",animationMap:{pressed:"down",released:"up",default:"up"},spriteSheet:{images:["in-game-buttons"],frames:{width:70,height:47,regX:35,regY:23},animations:{up:4,down:5}},acceptInput:{hover:!0,touch:!0,click:!0}},{type:"entity-linker",linkId:"interface-input",events:{released:"show-reset-puzzle-prompt"}}],properties:{z:10,x:115,y:27}},"tutorial-level-select":{id:"tutorial-level-select",components:[{type:"logic-delay-message",events:{"scene-live":{event:"play-tutorials",delay:2e3}}},{type:"tutorial-brain-level-select"},{type:"audio",vo:!0,audioMap:{"play-select-level":[{sound:"menu-choose"}],"play-use-arrows":[{sound:"menu-arrows"}],"play-view-party":[{sound:"menu-party"}]}}],properties:{}},"tutorial-in-game":{id:"tutorial-in-game",components:[{type:"logic-delay-message",events:{"scene-live":{event:"start-tutorial",delay:2e3}}},{type:"tutorial-brain-in-game"},{type:"render-sprite",image:"tutorial-arrow",width:88,height:78,y:0,x:0,regY:39,regX:44},{type:"audio",vo:!0,audioMap:{"play-hint-vo":[{sound:"audio-help",events:[{time:3e4,event:"tutorial-finished"}]}],"play-reassure-0":[{sound:"reassure-0",events:[{time:3e4,event:"tutorial-finished"}]}],"play-reassure-1":[{sound:"reassure-1",events:[{time:3e4,event:"tutorial-finished"}]}],"play-reassure-2":[{sound:"reassure-2",events:[{time:3e4,event:"tutorial-finished"}]}],"play-reassure-3":[{sound:"reassure-3",events:[{time:3e4,event:"tutorial-finished"}]}],"play-reassure-4":[{sound:"reassure-4",events:[{time:3e4,event:"tutorial-finished"}]}],"play-reassure-5":[{sound:"reassure-5",events:[{time:3e4,event:"tutorial-finished"}]}],"play-reassure-6":[{sound:"reassure-6",events:[{time:3e4,event:"tutorial-finished"}]}],"play-sandbox-tutorial":[{sound:"sandbox-intro",events:[{time:3e4,event:"tutorial-finished"}]}],"play-initial-tutorial":[{sound:"tutorial-0"},{sound:"tutorial-1"},{sound:"tutorial-2",events:[{time:0,event:"show-goal-arrow-no-timer"}]},{sound:"tutorial-3",events:[{time:3e4,event:"hide-goal-arrow"}]},{sound:"tutorial-4",events:[{time:0,event:"show-tutorial-arrow",message:{x:200,y:116}},{time:3e4,event:"tutorial-finished"}]}],"play-initial-drag-tutorial":[{sound:"tutorial-5"},{sound:"tutorial-6",events:[{time:3e4,event:"tutorial-finished"}]}],"play-initial-lever-tutorial":[{sound:"tutorial-7",events:[{time:0,event:"show-tutorial-arrow",message:{x:220,y:400}}]},{sound:"tutorial-8",events:[{time:3e4,event:"tutorial-finished"}]}],"play-fail-tutorial":[{sound:"lev-fail-reset",events:[{time:3e4,event:"tutorial-finished"}]}],"play-reset-tutorial":[{sound:"lev-fail-reset",events:[{time:3e4,event:"tutorial-finished"}]}],"play-simulate-tutorial":[{sound:"lev-lever",events:[{time:3e4,event:"tutorial-finished"}]}],"play-drag-tutorial":[{sound:"tutorial-4",events:[{time:3e4,event:"tutorial-finished"}]}],"play-help-tutorial":[{sound:"audio-help-button",events:[{time:3e4,event:"tutorial-finished"}]}],"play-color-tutorial":[{sound:"tutorial-color",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-blueberry-0":[{sound:"blueberry-0",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-blueberry-1":[{sound:"blueberry-1",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-milk-0":[{sound:"milk-0",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-milk-1":[{sound:"milk-1",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do"},{sound:"tutorial-color",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-milk-2":[{sound:"milk-2",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do"},{sound:"tutorial-color",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-egg-0":[{sound:"egg-0",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-egg-1":[{sound:"egg-1",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-egg-2":[{sound:"egg-2",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-flour-0":[{sound:"flour-0",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-flour-1":[{sound:"flour-1",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-flour-2":[{sound:"flour-2",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-rubber-0":[{sound:"rubber-0",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do"},{sound:"tutorial-color",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-rubber-1":[{sound:"rubber-1",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-thread-0":[{sound:"thread-0",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-thread-1":[{sound:"thread-1",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-thread-2":[{sound:"thread-2",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-thread-3":[{sound:"thread-3",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do"},{sound:"tutorial-color",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-paper-0":[{sound:"paper-0",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do"},{sound:"tutorial-color",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-paper-1":[{sound:"paper-1",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do"},{sound:"tutorial-color",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-paper-2":[{sound:"paper-2",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do"},{sound:"tutorial-color",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-paper-3":[{sound:"paper-3",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-chocolate-0":[{sound:"chocolate-0",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-honey-0":[{sound:"honey-0",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-honey-1":[{sound:"honey-1",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}],"play-add-wood-0":[{sound:"wood-0",events:[{time:0,event:"show-goal-arrow"}]},{sound:"lev-do",events:[{time:3e4,event:"tutorial-finished"}]}]}},{type:"entity-linker",linkId:"tutorial-input",events:{"show-goal-arrow":"show-goal","show-goal-arrow-no-timer":"show-goal-no-timer","hide-goal-arrow":"hide-goal"}}],properties:{z:510}},"back-to-level-select-button":{id:"back-to-level-select-button",components:[{type:"dom-element",element:"div",className:"level-select-home-button",onmouseup:{event:"new-scene",message:{scene:"level-select"}},ontouchend:{event:"new-scene",message:{scene:"level-select"}}},{type:"change-scene",transition:"fade-to-black"}]},"bg-party":{id:"bg-party",components:[{type:"render-sprite",image:"bg-party",width:1112,height:742,y:0,x:0,regX:0,regY:0}],properties:{x:0,y:0,z:0}},"party-manager":{id:"party-manager",components:[{type:"party-manager-brain"},{type:"audio",audioMap:{"play-background":{sound:"background-music",loop:-1}}}],properties:{z:65}},"bg-music-master":{id:"bg-music-master",components:[{type:"logic-delay-message",events:{"scene-live":{event:"play-background-menu",delay:1},"play-background-menu":{event:"play-ie-fix",delay:50}}},{type:"audio",audioMap:{"play-ie-fix":{sound:"ie-fix",volume:.01},"play-background-menu":{sound:"background-music-menu",loop:-1,volume:1}}}],properties:{}},"party-muffins":{id:"party-muffins",components:[{type:"render-sprite",animationMap:{bad:"bad",medium:"medium",good:"good",default:"bad"},spriteSheet:{framerate:30,images:["party-muffins"],frames:{width:99,height:148,regY:48,regX:74},animations:{bad:0,medium:1,good:2}},rotate:!0}],properties:{x:290,y:410,z:45,state:{blue:!0,good:!0}}},"party-cake":{id:"party-cake",components:[{type:"render-sprite",animationMap:{"red,bad":"red-bad","red,medium":"red-medium","red,good":"red-good","blue,bad":"blue-bad","blue,medium":"blue-medium","blue,good":"blue-good","yellow,bad":"yellow-bad","yellow,medium":"yellow-medium","yellow,good":"yellow-good",default:"red-bad"},spriteSheet:{framerate:30,images:["party-cake"],frames:{width:121,height:146,regY:73,regX:60},animations:{"red-bad":0,"red-medium":1,"red-good":2,"blue-bad":3,"blue-medium":4,"blue-good":5,"yellow-bad":6,"yellow-medium":7,"yellow-good":8}},rotate:!0}],properties:{x:350,y:445,z:46,state:{blue:!0,medium:!0}}},"party-ice-cream":{id:"party-ice-cream",components:[{type:"render-sprite",animationMap:{"red,bad":"red-bad","red,medium":"red-medium","red,good":"red-good","blue,bad":"blue-bad","blue,medium":"blue-medium","blue,good":"blue-good","yellow,bad":"yellow-bad","yellow,medium":"yellow-medium","yellow,good":"yellow-good",default:"red-bad"},spriteSheet:{framerate:30,images:["party-ice-cream"],frames:{width:134,height:147,regX:67,regY:73},animations:{"red-bad":0,"red-medium":1,"red-good":2,"blue-bad":3,"blue-medium":4,"blue-good":5,"yellow-bad":6,"yellow-medium":7,"yellow-good":8}},rotate:!0}],properties:{x:200,y:455,z:47,scaleX:.7,scaleY:.7,state:{blue:!0,medium:!0}}},"party-pinata":{id:"party-pinata",components:[{type:"render-sprite",animationMap:{"red,bad":"red-bad","red,medium":"red-medium","red,good":"red-good","blue,bad":"blue-bad","blue,medium":"blue-medium","blue,good":"blue-good","yellow,bad":"yellow-bad","yellow,medium":"yellow-medium","yellow,good":"yellow-good",default:"red-bad"},spriteSheet:{framerate:30,images:["party-pinata"],frames:{width:106,height:152,regY:76,regX:53},animations:{"red-bad":0,"red-medium":1,"red-good":2,"blue-bad":3,"blue-medium":4,"blue-good":5,"yellow-bad":6,"yellow-medium":7,"yellow-good":8}},rotate:!0}],properties:{x:494,y:74,z:46,state:{blue:!0,medium:!0}}},"party-decorations":{id:"party-decorations",components:[{type:"render-sprite",animationMap:{red:"red",blue:"blue",yellow:"yellow",default:"empty"},spriteSheet:{framerate:30,images:["party-decoration-banners"],frames:[[0,0,2,2,0,0,0],[0,0,988,121,0,0,0],[0,121,988,121,0,0,0],[0,242,988,121,0,0,0]],animations:{red:1,blue:2,yellow:3,empty:0}}},{type:"render-sprite",animationMap:{"red,medium":"red","red,good":"red","blue,medium":"blue","blue,good":"blue","yellow,medium":"yellow","yellow,good":"yellow",default:"empty"},spriteSheet:{framerate:30,images:["party-decoration-streamers"],frames:[[0,0,2,2,0,0,0],[0,0,899,274,0,-22,-185],[0,274,899,274,0,-22,-185],[0,548,899,274,0,-22,-185]],animations:{red:1,blue:2,yellow:3,empty:0}}},{type:"render-sprite",animationMap:{"red,good":"red","blue,good":"blue","yellow,good":"yellow",default:"empty"},spriteSheet:{framerate:30,images:["party-decoration-poofs"],frames:[[0,0,2,2,0,0,0],[0,0,862,276,0,-106,-55],[0,276,862,276,0,-106,-55],[0,552,862,276,0,-106,-55]],animations:{red:1,blue:2,yellow:3,empty:0}}}],properties:{x:0,y:0,z:2,state:{blue:!0,medium:!0}}},"party-kite":{id:"party-kite",components:[{type:"logic-party-bounce"},{type:"render-sprite",animationMap:{"red,bad":"red-bad","red,medium":"red-medium","red,good":"red-good","blue,bad":"blue-bad","blue,medium":"blue-medium","blue,good":"blue-good","yellow,bad":"yellow-bad","yellow,medium":"yellow-medium","yellow,good":"yellow-good",default:"red-bad"},spriteSheet:{framerate:30,images:["party-kite"],frames:{width:102,height:99,regX:51,regY:333},animations:{"red-bad":0,"red-medium":1,"red-good":2,"blue-bad":3,"blue-medium":4,"blue-good":5,"yellow-bad":6,"yellow-medium":7,"yellow-good":8}}},{type:"render-sprite",offsetZ:1,animationMap:{default:"bad"},spriteSheet:{framerate:30,images:["party-kite-string"],frames:{width:95,height:321,regX:47,regY:321},animations:{bad:0}}}],properties:{x:380,y:450,z:44,state:{blue:!0,good:!0}}},"party-balloons":{id:"party-balloons",components:[{type:"logic-party-bounce",frequency:350,scaleFactor:.05},{type:"render-sprite",animationMap:{bad:"bad",medium:"medium",good:"good",default:"bad"},spriteSheet:{framerate:30,images:["party-balloons-string-small","party-balloons-string-medium","party-balloons-string-large"],frames:[[0,0,37,119,0,13,119],[0,0,54,135,1,26,135],[0,0,65,142,2,32,142]],animations:{bad:0,medium:1,good:2}}},{type:"render-sprite",animationMap:{"red,bad":"red-bad","red,medium":"red-medium","red,good":"red-good","blue,bad":"blue-bad","blue,medium":"blue-medium","blue,good":"blue-good","yellow,bad":"yellow-bad","yellow,medium":"yellow-medium","yellow,good":"yellow-good",default:"red-bad"},spriteSheet:{framerate:30,images:["party-balloons-small","party-balloons-medium","party-balloons-large"],frames:[[0,0,54,59,0,16,169],[54,0,54,59,0,16,169],[108,0,54,59,0,16,169],[0,0,90,81,1,35,181],[90,0,90,81,1,35,181],[180,0,90,81,1,35,181],[0,0,106,106,2,53,196],[106,0,106,106,2,53,196],[212,0,106,106,2,53,196]],animations:{"red-bad":0,"red-medium":3,"red-good":6,"blue-bad":1,"blue-medium":4,"blue-good":7,"yellow-bad":2,"yellow-medium":5,"yellow-good":8}}}],properties:{x:320,y:480,z:42,state:{blue:!0,bad:!0}}},nick:{id:"nick",components:[{type:"render-sprite",spriteSheet:{framerate:30,images:["nick"],frames:{width:93,height:232,regY:232,regX:46},animations:{default:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}},pins:[{pinId:"hat",frames:[{x:41,y:18},{x:42,y:18},{x:42,y:18},{x:43,y:18},{x:44,y:18},{x:45,y:18},{x:45,y:18},{x:46,y:18},{x:47,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:48,y:18},{x:47,y:18},{x:46,y:18},{x:45,y:18},{x:45,y:18},{x:44,y:18},{x:43,y:18},{x:42,y:18},{x:41,y:18}]}]},{type:"render-sprite",spriteSheet:{framerate:30,images:["party-hat-nick"],frames:{width:71,height:92,regX:55,regY:84},animations:{"bad,red":0,"medium,red":1,"good,red":2,"bad,blue":3,"medium,blue":4,"good,blue":5,"bad,yellow":6,"medium,yellow":7,"good,yellow":8,default:9}},pinTo:"hat"}],properties:{x:100,y:500,z:40}},sally:{id:"sally",components:[{type:"render-sprite",spriteSheet:{framerate:30,images:["sally"],frames:{width:106,height:220,regY:220,regX:53},animations:{default:{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}},pins:[{pinId:"hat",frames:[{x:28,y:4,angle:0},{x:28,y:4,angle:0},{x:28,y:4,angle:0},{x:28,y:4,angle:0},{x:28,y:4,angle:0},{x:28,y:4,angle:0},{x:28,y:4,angle:0},{x:28,y:4,angle:0},{x:28,y:4,angle:0},{x:27,y:4,angle:0},{x:27,y:4,angle:0},{x:27,y:4,angle:0},{x:28,y:4,angle:1},{x:30,y:4,angle:2},{x:30,y:5,angle:3},{x:32,y:5,angle:4},{x:33,y:5,angle:5},{x:34,y:5,angle:6},{x:36,y:5,angle:7},{x:36,y:5,angle:8},{x:39,y:5,angle:9},{x:40,y:5,angle:10},{x:41,y:6,angle:9},{x:43,y:6,angle:10},{x:44,y:6,angle:10},{x:44,y:6,angle:10},{x:44,y:6,angle:10},{x:44,y:5,angle:10},{x:43,y:5,angle:10},{x:43,y:4,angle:10},{x:43,y:3,angle:10},{x:43,y:3,angle:10},{x:42,y:3,angle:10},{x:42,y:3,angle:10},{x:41,y:3,angle:10},{x:41,y:3,angle:10},{x:41,y:3,angle:10},{x:41,y:3,angle:10},{x:41,y:4,angle:10},{x:41,y:4,angle:10},{x:42,y:4,angle:10},{x:42,y:4,angle:10},{x:42,y:4,angle:10},{x:42,y:4,angle:9},{x:40,y:4,angle:8},{x:39,y:4,angle:7},{x:38,y:4,angle:6},{x:36,y:4,angle:5},{x:34,y:4,angle:4},{x:33,y:4,angle:3},{x:32,y:4,angle:2},{x:30,y:4,angle:0}]}]},{type:"render-sprite",spriteSheet:{framerate:30,images:["party-hat-sally"],frames:{width:73,height:91,regX:47,regY:66},animations:{"bad,red":0,"medium,red":1,"good,red":2,"bad,blue":3,"medium,blue":4,"good,blue":5,"bad,yellow":6,"medium,yellow":7,"good,yellow":8,default:9}},pinTo:"hat"}],properties:{x:220,y:482,z:40}},fish:{id:"fish",components:[{type:"render-sprite",animationMap:{default:"idle"},spriteSheet:{framerate:30,images:["fish"],frames:{width:110,height:127,regX:55,regY:63},animations:{idle:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,35,34,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1]}}}}],properties:{x:460,y:450,z:48}},"load-screen":{id:"load-screen",components:[{type:"dom-element",element:"div",className:"load-screen"}]},"button-pre-game":{id:"button-pre-game",components:[{type:"dom-element",element:"div",className:"menu-button",onclick:"new-scene",innerHTML:"PLAY!"},{type:"audio",audioMap:{"new-scene":"switch"}},{type:"change-scene",scene:"menu",preload:!0}]}},scenes:{load:{layers:[{id:"load-layer",components:[{type:"handler-logic"},{type:"handler-render-dom",className:"loading-progress-bar-layer"},{type:"entity-container",entities:[{type:"progress-bar-mobile"}],childEvents:["link-entity"]}]}],id:"load"},"pre-menu":{layers:[{id:"pre-menu-layer",components:[{type:"handler-logic"},{type:"handler-render-dom",className:"pre-game-button-screen"},{type:"handler-controller"},{type:"entity-container",entities:[{type:"load-screen"},{type:"button-pre-game"}],childEvents:["scene-live"]}]}],id:"pre-menu"},menu:{layers:[{id:"menu-layer",components:[{type:"handler-logic"},{type:"camera",width:988,height:556},{type:"handler-render-dom"},{type:"handler-render-createjs"},{type:"handler-controller"},{type:"entity-container",entities:[{type:"bg-music-master"},{type:"vo-cat"},{type:"bg-title"},{type:"title-title"},{type:"bushes-title"},{type:"button-party-puzzles"},{type:"button-the-lab"}],childEvents:["link-entity","scene-live"]}]}],id:"menu"},"level-select":{layers:[{id:"level-select-layer",components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"handler-controller"},{type:"entity-container",entities:[{type:"level-buttons"},{type:"tutorial-level-select"}],childEvents:["scene-loaded","scene-live"]}]}],id:"level-select"},party:{layers:[{id:"party",components:[{type:"handler-logic"},{type:"camera",width:988,height:556},{type:"handler-render-dom"},{type:"handler-render-createjs",acceptInput:{touch:!0,click:!0}},{type:"handler-controller"},{type:"entity-container",entities:[{type:"party-manager"},{type:"fish"},{type:"bg-party"},{type:"bushes-title",properties:{scaleX:-1,x:988}},{type:"back-to-level-select-button"}],childEvents:["link-entity","scene-live","mousedown","mousemove","mouseup"]}]}],id:"party"},"scene-sandbox":{layers:[{type:"action-layer",properties:{level:"sandbox",isSandbox:!0}},{type:"in-game-interface-layer",properties:{isSandbox:!0}}],id:"scene-sandbox"},"scene-level-0":{layers:[{type:"action-layer",properties:{level:"level-0",levelName:"Level 1",levelIndex:0,rowIndex:0,currentLevelScene:"scene-level-0",nextLevelScene:"scene-level-1",goalAudio:"blueberry-0"}},{type:"in-game-interface-layer"}],id:"scene-level-0"},"scene-level-1":{layers:[{type:"action-layer",properties:{level:"level-1",levelName:"Level 2",levelIndex:1,rowIndex:0,currentLevelScene:"scene-level-1",nextLevelScene:"scene-level-2",goalAudio:"flour-0"}},{type:"in-game-interface-layer"}],id:"scene-level-1"},"scene-level-2":{layers:[{type:"action-layer",properties:{level:"level-2",levelName:"Level 3",levelIndex:2,rowIndex:0,currentLevelScene:"scene-level-2",nextLevelScene:"scene-level-3",goalAudio:"milk-0"}},{type:"in-game-interface-layer"}],id:"scene-level-2"},"scene-level-3":{layers:[{type:"action-layer",properties:{level:"level-3",levelName:"Level 4",levelIndex:3,rowIndex:0,currentLevelScene:"scene-level-3",nextLevelScene:"scene-level-4",goalAudio:"egg-0"}},{type:"in-game-interface-layer"}],id:"scene-level-3"},"scene-level-4":{layers:[{type:"action-layer",properties:{level:"level-4",levelName:"Level 5",levelIndex:0,rowIndex:1,currentLevelScene:"scene-level-4",nextLevelScene:"scene-level-5",goalAudio:"flour-1"}},{type:"in-game-interface-layer"}],id:"scene-level-4"},"scene-level-5":{layers:[{type:"action-layer",properties:{level:"level-5",levelName:"Level 6",levelIndex:1,rowIndex:1,currentLevelScene:"scene-level-5",nextLevelScene:"scene-level-6",goalAudio:"honey-0"}},{type:"in-game-interface-layer"}],id:"scene-level-5"},"scene-level-6":{layers:[{type:"action-layer",properties:{level:"level-6",levelName:"Level 7",levelIndex:2,rowIndex:1,currentLevelScene:"scene-level-6",nextLevelScene:"scene-level-7",goalAudio:"milk-1",colorMatters:!0}},{type:"in-game-interface-layer"}],id:"scene-level-6"},"scene-level-7":{layers:[{type:"action-layer",properties:{level:"level-7",levelName:"Level 8",levelIndex:3,rowIndex:1,currentLevelScene:"scene-level-7",nextLevelScene:"scene-level-8",goalAudio:"egg-1"}},{type:"in-game-interface-layer"}],id:"scene-level-7"},"scene-level-8":{layers:[{type:"action-layer",properties:{level:"level-8",levelName:"Level 9",levelIndex:0,rowIndex:2,currentLevelScene:"scene-level-8",nextLevelScene:"scene-level-9",goalAudio:"rubber-0",colorMatters:!0}},{type:"in-game-interface-layer"}],id:"scene-level-8"},"scene-level-9":{layers:[{type:"action-layer",properties:{level:"level-9",levelName:"Level 10",levelIndex:1,rowIndex:2,currentLevelScene:"scene-level-9",nextLevelScene:"scene-level-10",goalAudio:"thread-0"}},{type:"in-game-interface-layer"}],id:"scene-level-9"},"scene-level-10":{layers:[{type:"action-layer",properties:{level:"level-10",levelName:"Level 11",levelIndex:0,rowIndex:3,currentLevelScene:"scene-level-10",nextLevelScene:"scene-level-11",goalAudio:"rubber-1"}},{type:"in-game-interface-layer"}],id:"scene-level-10"},"scene-level-11":{layers:[{type:"action-layer",properties:{level:"level-11",levelName:"Level 12",levelIndex:1,rowIndex:3,currentLevelScene:"scene-level-11",nextLevelScene:"scene-level-12",goalAudio:"paper-0",colorMatters:!0}},{type:"in-game-interface-layer"}],id:"scene-level-11"},"scene-level-12":{layers:[{type:"action-layer",properties:{level:"level-12",levelName:"Level 13",levelIndex:0,rowIndex:4,currentLevelScene:"scene-level-12",nextLevelScene:"scene-level-13",goalAudio:"wood-0"}},{type:"in-game-interface-layer"}],id:"scene-level-12"},"scene-level-13":{layers:[{type:"action-layer",properties:{level:"level-13",levelName:"Level 14",levelIndex:1,rowIndex:4,currentLevelScene:"scene-level-13",nextLevelScene:"scene-level-14",goalAudio:"thread-1"}},{type:"in-game-interface-layer"}],id:"scene-level-13"},"scene-level-14":{layers:[{type:"action-layer",properties:{level:"level-14",levelName:"Level 15",levelIndex:2,rowIndex:4,currentLevelScene:"scene-level-14",nextLevelScene:"scene-level-15",goalAudio:"paper-1",colorMatters:!0}},{type:"in-game-interface-layer"}],id:"scene-level-14"},"scene-level-15":{layers:[{type:"action-layer",properties:{level:"level-15",levelName:"Level 16",levelIndex:0,rowIndex:5,currentLevelScene:"scene-level-15",nextLevelScene:"scene-level-16",goalAudio:"flour-2"}},{type:"in-game-interface-layer"}],id:"scene-level-15"},"scene-level-16":{layers:[{type:"action-layer",properties:{level:"level-16",levelName:"Level 17",levelIndex:1,rowIndex:5,currentLevelScene:"scene-level-16",nextLevelScene:"scene-level-17",goalAudio:"paper-2",colorMatters:!0}},{type:"in-game-interface-layer"}],id:"scene-level-16"},"scene-level-17":{layers:[{type:"action-layer",properties:{level:"level-17",levelName:"Level 18",levelIndex:2,rowIndex:5,currentLevelScene:"scene-level-17",nextLevelScene:"scene-level-18",goalAudio:"chocolate-0"}},{type:"in-game-interface-layer"}],id:"scene-level-17"},"scene-level-18":{layers:[{type:"action-layer",properties:{level:"level-18",levelName:"Level 19",levelIndex:3,rowIndex:5,currentLevelScene:"scene-level-18",nextLevelScene:"scene-level-19",goalAudio:"thread-2"}},{type:"in-game-interface-layer"}],id:"scene-level-18"},"scene-level-19":{layers:[{type:"action-layer",properties:{level:"level-19",levelName:"Level 20",levelIndex:0,rowIndex:6,currentLevelScene:"scene-level-19",nextLevelScene:"scene-level-20",goalAudio:"paper-3"}},{type:"in-game-interface-layer"}],id:"scene-level-19"},"scene-level-20":{layers:[{type:"action-layer",properties:{level:"level-20",levelName:"Level 21",levelIndex:1,rowIndex:6,currentLevelScene:"scene-level-20",nextLevelScene:"scene-level-21",goalAudio:"thread-3",colorMatters:!0}},{type:"in-game-interface-layer"}],id:"scene-level-20"},"scene-level-21":{layers:[{type:"action-layer",properties:{level:"level-21",levelName:"Level 22",levelIndex:0,rowIndex:7,currentLevelScene:"scene-level-21",nextLevelScene:"scene-level-22",goalAudio:"egg-2"}},{type:"in-game-interface-layer"}],id:"scene-level-21"},"scene-level-22":{layers:[{type:"action-layer",properties:{level:"level-22",levelName:"Level 23",levelIndex:1,rowIndex:7,currentLevelScene:"scene-level-22",nextLevelScene:"scene-level-23",goalAudio:"milk-2",colorMatters:!0}},{type:"in-game-interface-layer"}],id:"scene-level-22"},"scene-level-23":{layers:[{type:"action-layer",properties:{level:"level-23",levelName:"Level 24",levelIndex:2,rowIndex:7,currentLevelScene:"scene-level-23",nextLevelScene:"scene-level-24",goalAudio:"honey-1"}},{type:"in-game-interface-layer"}],id:"scene-level-23"},"scene-level-24":{layers:[{type:"action-layer",properties:{level:"level-24",levelName:"Level 25",levelIndex:3,rowIndex:7,currentLevelScene:"scene-level-24",nextLevelScene:"scene-level-25",goalAudio:"blueberry-1"}},{type:"in-game-interface-layer"}],id:"scene-level-24"}},levels:{level:{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-0",x:142,y:-8,width:16,height:16,properties:{orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:242.00000000000003,width:16,height:16,properties:{orientation:0,undraggable:!0,infiniteItems:!0,startingItems:["candy-li","fan-li","thing-1-li","thing-2-li","paper-plane-li","seesaw-li","rubber-ball-li","honey-ball-li","platform-medium-li","platform-huge-li","platform-small-li","wool-ball-li","u-turn-li","elbow-li","colorer-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:392.00000000000006,y:492.00000000000006,width:16,height:16,properties:{orientation:3.14,undraggable:!0,target:"rubber-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candy",x:125,y:350,width:0,height:0,properties:{orientation:0,undraggable:!0}},{type:"candy",x:128,y:236.99999999999997,width:0,height:0,properties:{orientation:0,undraggable:!0}},{type:"candy",x:129,y:128,width:0,height:0,properties:{orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level"},"level-0":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-2",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["platform-medium-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:975.9999999999999,y:548,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"berry-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"platform-medium",x:868,y:149,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-medium",x:753,y:227,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-medium",x:619,y:256,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:479,y:256,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:430,y:433,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"berry-ball",x:871,y:58,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:315,y:354,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-medium",x:707,y:464,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:472,y:212,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3882508029363706,undraggable:!0}},{type:"candy",x:613,y:211,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3882508029363706,undraggable:!0}},{type:"candy",x:563,y:419,width:0,height:0,properties:{backupLocation:{x:550,y:219},flipped:!1,color:"",orientation:.3882508029363706,undraggable:!0}},{type:"platform-medium-hint",x:566,y:464,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-0"},"level-1":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-1",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["platform-medium-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:698.9999999999999,y:548.0000000000001,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"flour",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candy",x:431,y:164,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.2681947853700903,undraggable:!0}},{type:"candy",x:614,y:202.99999999999997,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.2681947853700903,undraggable:!0}},{type:"candy",x:936,y:142,width:0,height:0,properties:{backupLocation:{x:850,y:220},flipped:!1,color:"",orientation:-.2681947853700903,undraggable:!0}},{type:"berry-ball",x:246.99999999999994,y:39,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"flour",x:668.5555555555555,y:324.38271604938274,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:801,y:276,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-huge",x:615,y:242.00000000000003,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:706,y:383,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-huge",x:415,y:199,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:638,y:384.3333333333333,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-small",x:929.7407407407408,y:204.77777777777777,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-medium-hint",x:253,y:132,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-1"},"level-2":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-0",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:72,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["platform-medium-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:422.0000000000001,y:548.0000000000001,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"milk",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candy",x:471,y:300,width:0,height:0,properties:{backupLocation:{x:640,y:302},flipped:!1,color:"",orientation:-.37027235044688495,undraggable:!0}},{type:"candy",x:685,y:294,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.37027235044688495,undraggable:!0}},{type:"candy",x:435,y:196,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.37027235044688495,undraggable:!0}},{type:"berry-ball",x:819,y:39,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"glove",x:265,y:196,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"glove",x:784,y:301,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"milk",x:370.037037037037,y:410.85185185185185,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"milk",x:366,y:348,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"milk",x:364,y:284,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:396,y:445,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:701,y:134,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-huge",x:431,y:237.99999999999997,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:862,y:66,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-medium-hint",x:512,y:444,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-2"},"level-3":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-3",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["glove-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:977.0000000000001,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"egg",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candy",x:736,y:428,width:0,height:0,properties:{flipped:!1,color:"",orientation:.36762811057395817,undraggable:!0}},{type:"candy",x:453,y:283,width:0,height:0,properties:{flipped:!1,color:"",orientation:.36762811057395817,undraggable:!0}},{type:"candy",x:820,y:246.99999999999994,width:0,height:0,properties:{backupLocation:{x:600,y:390},flipped:!1,color:"",orientation:.36762811057395817,undraggable:!0}},{type:"glove-hint",x:609.1111111111111,y:135,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.178,undraggable:!0}},{type:"egg",x:241.00000000000003,y:87.00000000000003,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"milk",x:698,y:86,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:422.99999999999994,y:314,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-huge",x:596,y:428,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:829,y:454,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-small",x:740,y:471,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:821,y:307,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:274,y:164.99999999999997,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:678,y:163,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-small",x:741,y:270,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:901,y:268,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-3"},"level-4":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-0",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:72,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["platform-medium-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:422,y:548.0000000000001,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"flour",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candy",x:718,y:338,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3729099009539565,undraggable:!0}},{type:"candy",x:718,y:210,width:0,height:0,properties:{backupLocation:{x:350,y:386},flipped:!1,color:"",orientation:.3729099009539565,undraggable:!0}},{type:"candy",x:565,y:376,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3729099009539565,undraggable:!0}},{type:"glove",x:371,y:209.99999999999997,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"rubber-ball",x:680,y:47,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:742,y:361,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-huge",x:564,y:411,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:393,y:412,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"flour",x:395.77777777777777,y:378,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium-hint",x:736.3333333333334,y:192.33333333333326,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:683,y:127,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-small",x:592,y:165,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:524,y:259,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-4"},"level-5":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-2",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["glove-li","platform-small-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:975.9999999999999,y:548.0000000000001,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"honey-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candy",x:707,y:323,width:0,height:0,properties:{backupLocation:{x:730,y:420},flipped:!1,color:"",orientation:.26564526257966625,undraggable:!0}},{type:"candy",x:411,y:215,width:0,height:0,properties:{flipped:!1,color:"",orientation:.26564526257966625,undraggable:!0}},{type:"candy",x:547,y:374,width:0,height:0,properties:{flipped:!1,color:"",orientation:.26564526257966625,undraggable:!0}},{type:"glove-hint",x:277,y:297,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"honey-ball",x:829,y:65,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:804,y:167,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-small",x:689,y:264.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-small",x:603,y:284,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:515,y:269,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-huge",x:549,y:420,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small-hint",x:707,y:419,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-5"},"level-6":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-4",x:142,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["glove-li","colorer-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:974,y:-7,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"milk",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candy",x:315,y:361,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.34951689803537384,undraggable:!0}},{type:"candy",x:808,y:375,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.34951689803537384,undraggable:!0}},{type:"candy",x:310,y:121,width:0,height:0,properties:{backupLocation:{x:816,y:325},flipped:!1,color:"",orientation:-.34951689803537384,undraggable:!0}},{type:"glove-hint",x:605,y:342,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"rubber-ball",x:557,y:79,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"milk",x:456.00000000000006,y:262,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:895,y:330,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-medium",x:228,y:317,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:459.00000000000006,y:296,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:459,y:217,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"colorer",x:237.99999999999997,y:120,width:0,height:0,properties:{flipped:!1,color:"red",orientation:1.57,undraggable:!0}},{type:"colorer",x:315,y:435,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"colorer",x:808,y:448,width:0,height:0,properties:{flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"colorer-hint",x:722,y:129,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"yellow",orientation:1.57,undraggable:!0}},{type:"platform-small",x:384,y:336,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-small",x:739,y:351,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-6"},"level-7":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-0",x:144.9999999999999,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:72,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["glove-li","platform-small-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:422.00000000000006,y:548,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"egg",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candy",x:746,y:197,width:0,height:0,properties:{flipped:!1,color:"",orientation:.33290143907767433,undraggable:!0}},{type:"candy",x:871,y:200,width:0,height:0,properties:{flipped:!1,color:"",orientation:.33290143907767433,undraggable:!0}},{type:"candy",x:405,y:396,width:0,height:0,properties:{backupLocation:{x:700,y:404},flipped:!1,color:"",orientation:.33290143907767433,undraggable:!0}},{type:"glove-hint",x:877,y:422,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:812.9999816068243,y:85.5287929518119,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:455.3310865881074,y:369.7093956362401,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:568.1245652466245,y:329.11023207658826,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"seesaw",x:647.1382230763381,y:427.9999717706007,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"rubber-ball",x:876,y:278,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:408,y:352.3456790123457,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:505.2222222222222,y:351.74074074074076,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"flour",x:813.3827160493827,y:52,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:657,y:180,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-small",x:503.00000000000006,y:411,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-small-hint",x:379,y:426,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-7"},"level-8":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-5",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["balloon-ball-li","seesaw-li","colorer-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:699,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,target:"rubber-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candy",x:833,y:183,width:0,height:0,properties:{flipped:!1,color:"",orientation:.24540206482149626,undraggable:!0}},{type:"candy",x:407,y:304,width:0,height:0,properties:{backupLocation:{x:841,y:290},flipped:!1,color:"",orientation:.24540206482149626,undraggable:!0}},{type:"candy",x:646,y:182,width:0,height:0,properties:{flipped:!1,color:"",orientation:.24540206482149626,undraggable:!0}},{type:"balloon-ball",x:290,y:366,width:0,height:0,properties:{flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"balloon-ball",x:521,y:435,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"balloon-ball-hint",x:405,y:397.99999999999994,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:345.9693871996405,y:104.14753101784163,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:561,y:209.00000085956827,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw-hint",x:453.76798858511364,y:156.03042120958222,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"rubber-ball",x:346,y:86.77777777777779,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:259,y:78,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:910,y:287,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"colorer-hint",x:833,y:341,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"platform-huge",x:699,y:265,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-8"},"level-9":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-3",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["seesaw-li","seesaw-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:977.0000000000002,y:270.00000000000006,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"yarn-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candy",x:799,y:348,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.38342034808471903,undraggable:!0}},{type:"candy",x:518,y:276,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.38342034808471903,undraggable:!0}},{type:"candy",x:300,y:398,width:0,height:0,properties:{backupLocation:{x:526,y:168},flipped:!1,color:"",orientation:-.38342034808471903,undraggable:!0}},{type:"yarn-ball",x:637,y:283,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"yarn-ball",x:811,y:68,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"yarn-ball",x:445,y:263,width:0,height:0,properties:{flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"platform-small",x:443.33333333333326,y:288,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:539,y:200,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:741,y:152,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-medium",x:784,y:383,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:670,y:308,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw-hint",x:423.1522390851877,y:197.76908682400492,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"seesaw-hint",x:556.9357097160389,y:307.9528271739211,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-9"},"level-10":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-4",x:142,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["glove-li","seesaw-li","platform-small-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:974,y:-7,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"rubber-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"rubber-ball",x:534,y:55.000000000000014,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"u-turn",x:202,y:244,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"u-turn",x:602.6172839506173,y:225.71604938271605,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"wool-ball",x:432,y:271,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:328,y:425,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:696.074074074074,y:365.85185185185185,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:428,y:318,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:503.00000000000006,y:352,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:704,y:471,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:491,y:473.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:313,y:154,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"seesaw",x:533.9695513709012,y:80.99999999997571,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:649,y:128,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-medium",x:784,y:155,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:260,y:258,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:260,y:222,width:0,height:0,properties:{backupLocation:{x:310,y:130},flipped:!1,color:"",orientation:.10141762251514726,undraggable:!0}},{type:"candy",x:662,y:93,width:0,height:0,properties:{flipped:!1,color:"",orientation:.10141762251514726,undraggable:!0}},{type:"candy",x:355,y:394,width:0,height:0,properties:{flipped:!1,color:"",orientation:.10141762251514726,undraggable:!0}},{type:"seesaw-hint",x:436,y:132,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"glove-hint",x:864,y:428,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:-1.57,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-10"},"level-11":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-3",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["glove-li","seesaw-li","colorer-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:977.0000000000001,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"paper-plane",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"paper-plane",x:187.39506172839506,y:404.28395061728395,width:0,height:0,properties:{flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"platform-huge",x:578,y:421,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-huge",x:538,y:234,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:404,y:267,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"seesaw",x:234.9999991404553,y:424.0472007889532,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:575,y:279,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.08956167585605503,undraggable:!0}},{type:"paper-plane",x:296,y:30,width:0,height:0,properties:{flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"berry-ball",x:530.4444444444443,y:89,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:508,y:110,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:617,y:137,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:681,y:250,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:180,y:467,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"platform-small",x:371,y:180,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:385,y:149,width:0,height:0,properties:{backupLocation:{x:300,y:390},flipped:!1,color:"",orientation:-.08956167585605503,undraggable:!0}},{type:"berry-ball",x:337,y:162,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:693,y:215,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.08956167585605503,undraggable:!0}},{type:"platform-small",x:769,y:262,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:767,y:322,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:819,y:311,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"glove-hint",x:867,y:216,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"colorer-hint",x:530,y:458.00000000000006,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"yellow",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-11"},"level-12":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-4",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:72,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["platform-small-li","platform-small-li","u-turn-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:974,y:-7,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"wood-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"wood-ball",x:656,y:442,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"u-turn",x:618.2222222222222,y:152,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:749,y:498.99999999999994,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-medium",x:754,y:308.3703703703704,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-medium",x:750,y:116.00000000000001,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"balloon-ball",x:305.5925925925926,y:480.51851851851825,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"seesaw",x:449,y:138,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:309,y:444,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"berry-ball",x:304.6666666666666,y:166.33333333333331,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"u-turn-hint",x:931.8518518518518,y:401,width:0,height:0,properties:{hintIndex:1,flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:491.99999999999994,y:423,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"candy",x:307,y:281,width:0,height:0,properties:{backupLocation:{x:410,y:289},flipped:!1,color:"",orientation:-.023439819302032205,undraggable:!0}},{type:"yarn-ball",x:449.33333333333326,y:112,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"platform-huge",x:449,y:263,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"platform-medium",x:349,y:82,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"platform-small",x:312,y:185,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-small-hint",x:195,y:495.9999999999999,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-medium",x:613,y:475.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:521,y:282,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.023439819302032205,undraggable:!0}},{type:"candy",x:604,y:504,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.023439819302032205,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-12"},"level-13":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-0",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:422.0000000000001,y:548.0000000000001,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"yarn-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:72,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["seesaw-li","platform-small-li","platform-small-li","platform-small-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"elbow",x:198,y:223,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:331,y:137,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"fan",x:494,y:94,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"fan",x:675,y:443,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small-hint",x:380.00000000000017,y:472,width:0,height:0,properties:{hintIndex:3,flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-huge",x:526,y:486.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"yarn-ball",x:595,y:460,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"platform-medium",x:585,y:103,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-medium",x:348,y:265,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:770,y:295,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"wood-ball",x:607,y:48,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:419,y:111,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small-hint",x:517,y:266,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:673,y:396,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-small",x:772,y:417,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"seesaw-hint",x:886.9999999999741,y:313.9695514209019,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-medium",x:881.3333333333334,y:396,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"wool-ball",x:833,y:372,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small-hint",x:633,y:279,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:924,y:499.9999999999999,width:0,height:0,properties:{backupLocation:{x:275,y:110},flipped:!1,color:"",orientation:-.20776160363636553,undraggable:!0}},{type:"candy",x:765,y:258,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.20776160363636553,undraggable:!0}},{type:"candy",x:458,y:452,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.20776160363636553,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-13"},"level-14":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-4",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["fan-li","platform-small-li","platform-small-li","colorer-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:977,y:-7,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"paper-plane",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"fan-hint",x:251,y:128,width:0,height:0,properties:{hintIndex:1,flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:362,y:165,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:474,y:150,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"paper-plane",x:319,y:145,width:0,height:0,properties:{flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"colorer-hint",x:646,y:186.99999999999994,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"balloon-ball",x:274,y:448.00000000000006,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"seesaw",x:310,y:416.9999999999758,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:208,y:431.44444444444446,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"wool-ball",x:264.3333333333333,y:393,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"berry-ball",x:585.6666666666667,y:432,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:426.99999999999994,y:434,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"rubber-ball",x:253,y:199.91358024691357,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"fan",x:656,y:417,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:651,y:298,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:537,y:450,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:471,y:271,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:302,y:238.99999999999997,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:651,y:354,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-small-hint",x:810,y:433,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"candy",x:820,y:343,width:0,height:0,properties:{backupLocation:{x:657,y:270},flipped:!1,color:"",orientation:-.04886726500610968,undraggable:!0}},{type:"candy",x:584,y:37,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.04886726500610968,undraggable:!0}},{type:"candy",x:203,y:213,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.1344973852453758,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-14"},"level-15":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-4",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["seesaw-li","seesaw-li","platform-small-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:977.0000000000001,y:-7,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"flour",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"candle",x:235,y:437,width:0,height:0,properties:{flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"candle",x:704.716049382716,y:449.0740740740741,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"rocket",x:236.38422798065713,y:281.9000888862689,width:0,height:0,properties:{flipped:!1,color:"",orientation:.007374831661596062,undraggable:!0}},{type:"platform-small",x:208,y:206,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.5700000000000003,undraggable:!0}},{type:"platform-medium",x:710.4814814814815,y:495,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:235,y:481.99999999999994,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:468.9999999999999,y:436.99999999999994,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7852999999999999,undraggable:!0}},{type:"platform-medium",x:365,y:465.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:671,y:324.0000000000001,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.5700000000000003,undraggable:!0}},{type:"platform-medium",x:388,y:148,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:623.9999999999999,y:382.99999999999994,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.39260000000000006,undraggable:!0}},{type:"honey-ball",x:460.96104579859986,y:389.99513197980787,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.5589928150040029,undraggable:!0}},{type:"platform-medium",x:570,y:446,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"rocket",x:705,y:336,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:259.95406805085946,y:157.0766743055633,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:209.88888888888894,y:137.77777777777777,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:288,y:353,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"seesaw",x:750,y:220,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"flour",x:750,y:186,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:393,y:110,width:0,height:0,properties:{flipped:!1,color:"",orientation:.04847524053025143,undraggable:!0}},{type:"candy",x:604,y:160,width:0,height:0,properties:{backupLocation:{x:350,y:430},flipped:!1,color:"",orientation:.04847524053025143,undraggable:!0}},{type:"candy",x:706,y:267,width:0,height:0,properties:{flipped:!1,color:"",orientation:.04847524053025143,undraggable:!0}},{type:"platform-small-hint",x:220,y:50,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"seesaw-hint",x:536.0000000262205,y:314.00185339854477,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw-hint",x:464.9999717444399,y:235,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-15"},"level-16":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-1",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["glove-li","platform-small-li","colorer-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:699,y:548,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"paper-plane",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"platform-small",x:473.00000000000006,y:434,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-huge",x:315,y:270,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-small",x:918,y:87,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:363,y:168,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"paper-plane",x:324,y:148.5925925925926,width:0,height:0,properties:{flipped:!0,color:"yellow",orientation:-3.141592653589793,undraggable:!0}},{type:"platform-medium",x:399,y:311,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:368,y:344,width:0,height:0,properties:{flipped:!1,color:"",orientation:.34998632129972423,undraggable:!0}},{type:"egg",x:428.6666666666667,y:292,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:404.5020576131687,y:293,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:415.3333333333333,y:266,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:454,y:291.33333333333337,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:442.3127572016461,y:264.77777777777777,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:446,y:151,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"egg",x:428.1728395061728,y:239.77777777777777,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"wool-ball",x:859.6419753086419,y:47,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"balloon-ball",x:649.6666666666666,y:492.8148148148148,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"seesaw",x:680.910227089472,y:446.0347385427702,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-small",x:573,y:418,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"seesaw",x:888.0304485791276,y:296.969551420804,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"egg",x:948,y:227,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:897,y:486.9999999999999,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"candy",x:932,y:488.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:.34998632129972423,undraggable:!0}},{type:"candy",x:698,y:70,width:0,height:0,properties:{backupLocation:{x:410,y:135},flipped:!1,color:"",orientation:.34998632129972423,undraggable:!0}},{type:"platform-small",x:820,y:103,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-small",x:722,y:48,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:351,y:103,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-small",x:429,y:51,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-small",x:505,y:350,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small-hint",x:709,y:233,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"glove-hint",x:658,y:321,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"colorer-hint",x:365,y:485.99999999999994,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"yellow",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-16"},"level-17":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-7",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["glove-li","platform-small-li","platform-small-li","fan-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,target:"bean-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"bean-ball",x:712.3333333333334,y:266.6666666666667,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:739.9885804838938,y:367.9736382163201,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:865.7195356117406,y:383.0697398744174,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"rocket",x:637.1111111111112,y:126,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.5707963267948966,undraggable:!0}},{type:"candle",x:689,y:485,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"wood-ball",x:315,y:361,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:199,y:511.1069958847736,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"fan",x:797.925925925926,y:246,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:665,y:284,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:789,y:325.9999999999999,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"egg",x:916.3333333333334,y:364.6666666666667,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"fan",x:845.7407407407408,y:308,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-medium",x:563,y:417,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:631,y:323,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:662,y:209,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:203,y:462,width:0,height:0,properties:{flipped:!1,color:"",orientation:.2889936288919682,undraggable:!0}},{type:"candy",x:926,y:496.99999999999994,width:0,height:0,properties:{backupLocation:{x:580,y:350},flipped:!1,color:"",orientation:.2889936288919682,undraggable:!0}},{type:"candy",x:407.00000000000006,y:214,width:0,height:0,properties:{flipped:!1,color:"",orientation:.2889936288919682,undraggable:!0}},{type:"milk",x:634,y:175,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:762,y:467.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"elbow",x:287,y:211,width:0,height:0,properties:{flipped:!0,color:"",orientation:-1.57,undraggable:!0}},{type:"glove-hint",x:469.00000000000006,y:413,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:739.9572291614074,y:98.95725699575475,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"balloon-ball",x:407,y:130,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"fan-hint",x:457.00000000000006,y:56,width:0,height:0,properties:{hintIndex:0,flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"balloon-ball",x:650,y:38,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"platform-small-hint",x:315,y:438,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:-.3926,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-17"},"level-18":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-0",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:72,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["fan-li","paper-plane-li","platform-small-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:422,y:548,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"yarn-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"thing-1",x:385.11709000417295,y:159.0906346965719,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"thing-2",x:806.4717221583591,y:482.5527232451769,width:0,height:0,properties:{flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:360,y:209,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:520,y:162,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"yarn-ball",x:600.5555555555555,y:150.8148148148149,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"platform-medium",x:573.0000000000001,y:503.3333333333332,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-medium",x:657.5185185185185,y:176,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:755,y:196,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:375.99999999999994,y:477.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"u-turn",x:934,y:136,width:0,height:0,properties:{flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:755.6666666666666,y:252,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:928,y:498,width:0,height:0,properties:{backupLocation:{x:350,y:285},flipped:!1,color:"",orientation:-.2894356419243269,undraggable:!0}},{type:"candy",x:802,y:36,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.09924558952824063,undraggable:!0}},{type:"paper-plane",x:204,y:151,width:0,height:0,properties:{flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"platform-small",x:827,y:175,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:799,y:71,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:587,y:443.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.14214805047993664,undraggable:!0}},{type:"platform-small",x:463.41975308641975,y:492.77777777777777,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:754.3333333333334,y:399.66666666666663,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"milk",x:754,y:316.0740740740741,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"fan-hint",x:668,y:231,width:0,height:0,properties:{hintIndex:1,flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"paper-plane-hint",x:754.074074074074,y:232.77777777777777,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"platform-small",x:341,y:361,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"platform-small",x:395.9999999999999,y:347,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-medium",x:398,y:249,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"seesaw",x:574,y:241.00000000000003,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:526,y:367,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:728,y:417,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small-hint",x:755,y:350,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:613,y:391,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-18"},"level-19":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-4",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["candle-li","thing-1-li","seesaw-li","platform-small-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:977.0000000000001,y:-7,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"paper-plane",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"seesaw",x:735.999999114284,y:268.0183363392432,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:478.1046782158007,y:196.05496044571206,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"paper-plane",x:686.440329218107,y:247.4485596707819,width:0,height:0,properties:{flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"platform-medium",x:520,y:385,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"u-turn",x:704.3333333333334,y:26,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"wool-ball",x:824,y:405,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:880,y:359,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:889,y:397.99999999999994,width:0,height:0,properties:{backupLocation:{x:455,y:430},flipped:!1,color:"",orientation:-.22277248910882327,undraggable:!0}},{type:"candy",x:545,y:349,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.22277248910882327,undraggable:!0}},{type:"platform-small",x:424,y:500,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"candy",x:205,y:241.00000000000003,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.22277248910882327,undraggable:!0}},{type:"platform-huge",x:560,y:199,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"rocket",x:536.3333333333334,y:129,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"rubber-ball",x:300,y:27,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"platform-medium",x:675,y:341,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-small",x:676,y:467,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-small",x:470,y:286,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-medium",x:678,y:131,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-small",x:433,y:368,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-medium",x:326,y:396,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:195,y:496.99999999999994,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-huge",x:852,y:430,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small-hint",x:296,y:198,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"candle-hint",x:615,y:485.99999999999994,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"thing-1-hint",x:307,y:480,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-19"},"level-20":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-4",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:977.0000000000001,y:-7,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"yarn-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:72,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["colorer-li","balloon-ball-li","balloon-ball-li","balloon-ball-li","platform-small-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"egg",x:221,y:118,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:206,y:131,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"rocket",x:541,y:219,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candle",x:461.3333333333333,y:444,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:393,y:139,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"seesaw",x:488.04957894746053,y:135.66808265114994,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"yarn-ball",x:439,y:109.77777777777779,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"platform-small",x:467,y:490.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:198,y:336,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"candy",x:216,y:400,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.31084399531124113,undraggable:!0}},{type:"platform-medium",x:357,y:463,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"thing-1",x:622.944813132219,y:422.05364499803477,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:595,y:417,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-small",x:625,y:279,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:750,y:112,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:509,y:41,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.31084399531124113,undraggable:!0}},{type:"egg",x:911,y:335,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:911,y:395,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"candy",x:939,y:398,width:0,height:0,properties:{backupLocation:{x:810,y:210},flipped:!1,color:"",orientation:-.31084399531124113,undraggable:!0}},{type:"platform-medium",x:668,y:467,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"balloon-ball-hint",x:268,y:249,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"balloon-ball-hint",x:305,y:352,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"colorer-hint",x:803,y:485,width:0,height:0,properties:{hintIndex:3,flipped:!1,color:"yellow",orientation:0,undraggable:!0}},{type:"platform-small-hint",x:549,y:403,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"elbow",x:672,y:194,width:0,height:0,properties:{flipped:!0,color:"",orientation:-1.65,undraggable:!0}},{type:"platform-small",x:530,y:88,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-medium",x:582,y:180,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"platform-small",x:722,y:272,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"platform-small",x:662,y:43,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-small",x:837,y:129,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-20"},"level-21":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-0",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:72,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["berry-ball-li","glove-li","seesaw-li","platform-small-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:422,y:548,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"egg",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"platform-small",x:264,y:141,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"platform-small",x:343,y:124,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"seesaw",x:340,y:187,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:294.44444444444446,y:169,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:324,y:166,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:306,y:142,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:309.38271604938274,y:95,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:323,y:120,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"wood-ball",x:381.3333333333333,y:153.33333333333334,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candle",x:392,y:485.99999999999994,width:0,height:0,properties:{flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"rocket",x:517,y:145,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:339,y:273,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"thing-1",x:841.1490255117254,y:107.2861210154381,width:0,height:0,properties:{flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:843,y:158,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:232,y:255,width:0,height:0,properties:{flipped:!1,color:"",orientation:.31040734043480034,undraggable:!0}},{type:"platform-small",x:926,y:298,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-huge",x:788,y:326,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:924,y:51,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"candy",x:823,y:407,width:0,height:0,properties:{backupLocation:{x:500,y:505},flipped:!1,color:"",orientation:.31040734043480034,undraggable:!0}},{type:"fan",x:709,y:490.00000000000017,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:566,y:428,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:623,y:378,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-small",x:541,y:332,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"berry-ball",x:519,y:304,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"honey-ball",x:607,y:496.9999999999999,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:605,y:162.99999999999994,width:0,height:0,properties:{flipped:!1,color:"",orientation:.31040734043480034,undraggable:!0}},{type:"platform-small",x:469,y:246,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-medium",x:424,y:107,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"berry-ball-hint",x:742,y:158,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-huge",x:639.5185185185185,y:125,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"glove-hint",x:710.3440419538575,y:270.6126776067334,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"rubber-ball",x:916,y:93,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"platform-medium",x:574,y:201,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:716,y:177,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:504,y:88,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-medium",x:677,y:444,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small-hint",x:795,y:475.00000000000006,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:-.3926,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-21"},"level-22":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-4",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["platform-small-li","platform-small-li","platform-small-li","colorer-li","seesaw-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:977.0000000000001,y:-7,width:16,height:16,properties:{flipped:!1,color:"",orientation:1.5708,undraggable:!0,target:"milk",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"platform-small",x:699,y:300,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"milk",x:750,y:282,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.5707963267948966,undraggable:!0}},{type:"platform-small",x:808,y:315,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"candle",x:753,y:487.49245541838144,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"rocket",x:354.6666666666667,y:450,width:0,height:0,properties:{flipped:!1,color:"",orientation:3.141592653589793,undraggable:!0}},{type:"wood-ball",x:528.0493827160494,y:438.38271604938274,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:506,y:470.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"thing-1",x:243.91209422025003,y:332.33670233908794,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:401,y:478.91636881264486,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"u-turn",x:345,y:37,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"wood-ball",x:246,y:167,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"balloon-ball",x:756.2222222222223,y:326.51851851851853,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"fan",x:915,y:269.33333333333337,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"berry-ball",x:244,y:230,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:246,y:382.77777777777777,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:389,y:58,width:0,height:0,properties:{backupLocation:{x:195,y:350},flipped:!1,color:"",orientation:.30438181020463534,undraggable:!0}},{type:"candy",x:526,y:503.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:.30438181020463534,undraggable:!0}},{type:"candy",x:755,y:125,width:0,height:0,properties:{flipped:!1,color:"",orientation:.30438181020463534,undraggable:!0}},{type:"fan",x:218,y:428,width:0,height:0,properties:{flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"thing-2",x:827.6466679296989,y:271.69192990786263,width:0,height:0,properties:{flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"berry-ball",x:831,y:176,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"rubber-ball",x:344,y:60,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"platform-small",x:375,y:78,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:614,y:497.9999999999999,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small-hint",x:860,y:223,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small-hint",x:247,y:268,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"colorer-hint",x:686,y:127,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"yellow",orientation:1.57,undraggable:!0}},{type:"platform-small",x:374,y:156,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-22"},"level-23":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-1",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["glove-li","fan-li","thing-1-li","platform-small-li","elbow-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:699,y:548,width:16,height:16,properties:{flipped:!1,color:"",orientation:3.1416,undraggable:!0,target:"honey-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"honey-ball",x:643.4444444444445,y:107.71604938271605,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:577.8575803593462,y:182.73108071401012,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-small",x:382,y:353,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-small",x:513,y:252,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:198,y:53,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:306,y:51,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"egg",x:226,y:58,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:272,y:59,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:250,y:44,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:209.84362139917695,y:34.99588477366255,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:291,y:40,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:270.3656454808718,y:27.08809632677945,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:231,y:26,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:429,y:237.99999999999997,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"platform-small",x:426,y:420,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-huge",x:676,y:160,width:0,height:0,properties:{flipped:!1,color:"",orientation:-1.57,undraggable:!0}},{type:"platform-huge",x:280,y:436,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:505,y:130,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3925932124085861,undraggable:!0}},{type:"candy",x:500.99999999999994,y:299,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3925932124085861,undraggable:!0}},{type:"rubber-ball",x:911.8888888888889,y:159.4444444444445,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"platform-small",x:642,y:302,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium",x:494,y:340,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:871.9686639575639,y:176.96425580347767,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candle",x:918,y:443,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"rocket",x:918,y:326,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"rubber-ball",x:482.9999999999999,y:458,width:0,height:0,properties:{flipped:!1,color:"red",orientation:0,undraggable:!0}},{type:"platform-small",x:809,y:156,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.7853,undraggable:!0}},{type:"platform-small",x:785,y:234,width:0,height:0,properties:{flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"platform-small",x:924,y:49,width:0,height:0,properties:{flipped:!1,color:"",orientation:.7853,undraggable:!0}},{type:"platform-small",x:465,y:484.9999999999998,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.3926,undraggable:!0}},{type:"platform-small",x:918.2222222222223,y:489,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candy",x:721,y:374,width:0,height:0,properties:{backupLocation:{x:920,y:125},flipped:!1,color:"",orientation:-.3925932124085861,undraggable:!0}},{type:"fan-hint",x:731,y:296,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"glove-hint",x:363,y:486.9999999999999,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:1.57,undraggable:!0}},{type:"thing-1-hint",x:202,y:367.99999999999994,width:0,height:0,properties:{hintIndex:3,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"elbow-hint",x:259,y:188,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-23"},"level-24":{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-6",x:145,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"side-bar",x:68,y:270,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,startingItems:["glove-li","platform-medium-li","platform-small-li","platform-small-li","u-turn-li","elbow-li"],regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"goal",x:422,y:-8,width:16,height:16,properties:{flipped:!1,color:"",orientation:0,undraggable:!0,target:"berry-ball",regX:8,regY:8,scaleX:1,scaleY:1,layerZ:0}},{type:"berry-ball",x:182,y:515.5185185185186,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"candle",x:558.5555555555555,y:487,width:0,height:0,properties:{flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"rocket",x:561,y:307.2385307117818,width:0,height:0,properties:{flipped:!1,color:"",orientation:3.141592653589793,undraggable:!0}},{type:"candy",x:230,y:188,width:0,height:0,properties:{flipped:!1,color:"",orientation:.24353521825372904,undraggable:!0}},{type:"candy",x:412,y:494,width:0,height:0,properties:{backupLocation:{x:567,y:220},flipped:!1,color:"",orientation:.24353521825372904,undraggable:!0}},{type:"candy",x:750,y:40.00000000000006,width:0,height:0,properties:{flipped:!1,color:"",orientation:.24353521825372904,undraggable:!0}},{type:"thing-1",x:435.6365848463856,y:67.4310960400779,width:0,height:0,properties:{flipped:!0,color:"",orientation:0,undraggable:!0}},{type:"thing-2",x:678.3508239344543,y:67.3094616020783,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:508.0000000000001,y:152.00000000000003,width:0,height:0,properties:{flipped:!1,color:"",orientation:.39260000000000006,undraggable:!0}},{type:"platform-small",x:609,y:150.99999999999997,width:0,height:0,properties:{flipped:!1,color:"",orientation:-.39259999999999995,undraggable:!0}},{type:"seesaw",x:485.1413148066077,y:286.45074590926964,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"seesaw",x:636.9381757265588,y:286.0304485791215,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:441,y:118,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:676,y:118,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"egg",x:703,y:264,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"egg",x:418,y:264,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"fan",x:922,y:494,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"wood-ball",x:854,y:500.99999999999994,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"wool-ball",x:817,y:163,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"flour",x:423,y:165,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"flour",x:705,y:165,width:0,height:0,properties:{flipped:!1,color:"blue",orientation:0,undraggable:!0}},{type:"fan",x:772,y:320,width:0,height:0,properties:{flipped:!1,color:"",orientation:.3926,undraggable:!0}},{type:"fan",x:351.99999999999994,y:318.99999999999994,width:0,height:0,properties:{flipped:!0,color:"",orientation:.39259999999999995,undraggable:!0}},{type:"glove-hint",x:832,y:399,width:0,height:0,properties:{hintIndex:1,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-medium-hint",x:831,y:63,width:0,height:0,properties:{hintIndex:3,flipped:!1,color:"",orientation:.7852999999999999,undraggable:!0}},{type:"u-turn-hint",x:189,y:146.00000000000003,width:0,height:0,properties:{hintIndex:2,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"elbow-hint",x:297,y:499.9999999999999,width:0,height:0,properties:{hintIndex:0,flipped:!1,color:"",orientation:-1.5699999999999998,undraggable:!0}},{type:"platform-small-hint",x:425.99999999999994,y:199,width:0,height:0,properties:{hintIndex:4,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small-hint",x:692,y:198.77777777777777,width:0,height:0,properties:{hintIndex:5,flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:433,y:296,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}},{type:"platform-small",x:691.925925925926,y:296,width:0,height:0,properties:{flipped:!1,color:"",orientation:0,undraggable:!0}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"level-24"},sandbox:{height:32,layers:[{height:32,name:"Object Layer 1",objects:[{type:"level-layout-no-goal",x:145,y:-8,width:0,height:0,properties:{orientation:0}},{type:"side-bar",x:72,y:270,width:0,height:0,properties:{infiniteItems:!0,orientation:0,startingItems:["block-rectangle-li","block-square-li","block-triangle-li","block-bridge-li","block-half-circle-li","candy-li","yarn-ball-li","wood-ball-li","bean-ball-li","berry-ball-li","balloon-ball-li","glove-li","fan-li","candle-li","rocket-li","thing-1-li","thing-2-li","paper-plane-li","seesaw-li","rubber-ball-li","honey-ball-li","egg-li","flour-li","milk-li","platform-medium-li","platform-huge-li","platform-small-li","wool-ball-li","u-turn-li","elbow-li","colorer-li"]}}],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../game/images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57,id:"sandbox"}},debug:!1}},283:function(t,e){t.exports=function(){var t=function(){this.messages={},this.loopCheck=[],this.unbindLater=[]},e=t.prototype;return e.toString=function(){return"[messenger Object]"},e.bind=function(t,e,i){this.messages[t]||(this.messages[t]=[]),this.messages[t].push({callback:e,scope:i})},e.unbind=function(t,e,i){var o=!1,n=0;if(this.loopCheck.length)for(n=0;n<this.loopCheck.length;n++)if(this.loopCheck[n]===t){o=!0;break}o?this.unbindLater.push({event:t,callback:e,scope:i}):this.safelyUnbind(t,e,i)},e.safelyUnbind=function(t,e,i){var o="";for(o in this.messages[t]||(this.messages[t]=[]),this.messages[t])if(this.messages[t][o].callback===e&&this.messages[t][o].scope===i){this.messages[t].splice(o,1);break}},e.trigger=function(t,e,i){var o=0,n=0;if("string"==typeof t)return this.triggerEvent(t,e,i);if(Array.isArray(t)){for(;o<t.length;o++)n+=this.trigger(t[o],e,i);return n}return t.event?this.triggerEvent(t.event,t.message||e,i):(console.warn('Event incorrectly formatted: must be string, array, or object containing an "event" property.',t),0)},e.triggerEvent=function(t,e,i){var o=0,n=0,s=0;if(this.debug||i||e&&e.debug){for(this.messages[t]&&this.messages[t].length?console.log('Entity "'+this.type+'": Event "'+t+'" has '+this.messages[t].length+" subscriber"+(this.messages[t].length>1?"s":"")+".",e):console.warn('Entity "'+this.type+'": Event "'+t+'" has no subscribers.',e),o=0;o<this.loopCheck.length;o++)if(this.loopCheck[o]===t){if((s+=1)>5)throw"Endless loop detected for '"+t+"'.";console.warn("Event '"+t+"' is nested inside another '"+t+"' event.")}o=0}if(this.loopCheck.push(t),this.messages[t])for(o=0;o<this.messages[t].length;o++)this.messages[t][o].callback.call(this.messages[t][o].scope||this,e,i);if(this.loopCheck.length=this.loopCheck.length-1,!this.loopCheck.length&&this.unbindLater.length){for(n=0;n<this.unbindLater.length;n++)this.safelyUnbind(this.unbindLater[n].event,this.unbindLater[n].callback,this.unbindLater[n].scope);this.unbindLater.length=0}return o},e.getMessageIds=function(){var t="",e=[];for(t in this.messages)this.messages.hasOwnProperty(t)&&e.push(t);return e},t}()},284:function(t,e){t.exports=function(){var t=function(t,e,i){var o=e.regX,n=e.regY,s=0,a=0;switch(this.owner=t,this.collisionType=i,this.width=e.width||e.radius||0,this.height=e.height||e.radius||0,this.radius=e.radius||0,"number"!=typeof o&&(o=this.width/2),"number"!=typeof n&&(n=this.height/2),this.offsetX=e.offsetX||this.width/2-o,this.offsetY=e.offsetY||this.height/2-n,t?(this.x=t.x+this.offsetX,this.y=t.y+this.offsetY):(this.x=e.x+this.offsetX,this.y=e.y+this.offsetY),this.type=e.type||"rectangle",this.subType="",this.points=e.points,this.aABB=null,this.type){case"circle":s=a=2*this.radius;break;case"rectangle":s=this.width,a=this.height;break;case"triangle":this.points[0][1]===this.points[1][1]&&this.points[0][0]===this.points[2][0]?this.points[0][0]<this.points[1][0]?(this.subType="tl",s=this.points[1][0]-this.points[0][0],a=this.points[2][1]-this.points[0][1]):(this.subType="br",s=this.points[0][0]-this.points[1][0],a=this.points[0][1]-this.points[2][1]):this.points[0][1]===this.points[2][1]&&this.points[0][0]===this.points[1][0]&&(this.points[0][1]<this.points[1][1]?(this.subType="tr",s=this.points[0][0]-this.points[2][0],a=this.points[1][1]-this.points[0][1]):(this.subType="bl",s=this.points[2][0]-this.points[0][0],a=this.points[0][1]-this.points[1][1]))}this.aABB=new platformer.AABB(this.x,this.y,s,a)},e=t.prototype;return e.update=function(t,e){this.x=t+this.offsetX,this.y=e+this.offsetY,this.aABB.move(this.x,this.y)},e.moveX=function(t){this.x=t,this.aABB.moveX(this.x)},e.moveY=function(t){this.y=t,this.aABB.moveY(this.y)},e.moveXBy=function(t){this.x+=t,this.aABB.moveX(this.x)},e.moveYBy=function(t){this.y+=t,this.aABB.moveY(this.y)},e.getXY=function(){return[this.x,this.y]},e.getX=function(){return this.x},e.getY=function(){return this.y},e.getAABB=function(){return this.aABB},e.getXOffset=function(){return this.offsetX},e.getYOffset=function(){return this.offsetY},e.setXWithEntityX=function(t){this.x=t+this.offsetX,this.aABB.moveX(this.x)},e.setYWithEntityY=function(t){this.y=t+this.offsetY,this.aABB.moveY(this.y)},e.destroy=function(){this.aABB=null,this.points=null},t}()},285:function(t,e){t.exports=function(){var t=navigator.userAgent.toLowerCase(),e=document.createElement("audio"),i={canvas:!1,touch:!!("ontouchstart"in window),iPod:t.search("ipod")>-1,iPhone:t.search("iphone")>-1,iPad:t.search("ipad")>-1,safari:t.search("safari")>-1,ie:t.search("msie")>-1||t.search("trident")>-1,firefox:t.search("firefox")>-1,android:t.search("android")>-1,chrome:t.search("chrome")>-1,silk:t.search("silk")>-1,iOS:!1,mobile:!1,desktop:!1,multitouch:!1,ogg:!0,m4a:!0,mp3:!0,smallAssets:function(){var e=[["os 9_",""],["os 10_",""],["os 11_",""],["iphone","dpi2"],["ipad; cpu os 12_","scr4:3"],["android 4.",""],["android 5.",""],["android 6.",""]],i=0;for(i=0;i<e.length;i++){var o=e[i];if(t.indexOf(o[0])>=0&&(!o[1]||"scr4:3"===o[1]&&window.screen.height/window.screen.width==1024/768||"dpi2"===o[1]&&2===window.devicePixelRatio))return document.body.className+=" small-assets",!0}return!1}()},o=platformer.settings.aspects,n=0,s="",a=0,r=!1,l="",h=null;i.iOS=i.iPod||i.iPhone||i.iPad,i.mobile=i.iOS||i.android||i.silk,i.desktop=!i.mobile,i.touch&&(i.android?parseInt(t.slice(t.indexOf("android")+8),10)>2&&(i.multitouch=!0):i.multitouch=!0),!e.canPlayType||e.canPlayType&&""!==e.canPlayType('audio/ogg; codecs="vorbis"')||(i.ogg=!1,!i.ie&&e.canPlayType&&""!==e.canPlayType("audio/mp4")||(i.m4a=!1)),h=document.createElement("canvas");try{i.canvas=!!h.getContext("2d")}catch(t){i.canvas=!!h.getContext}for(platformer.settings.aspects={},platformer.settings.aspects={},n=0;n<o.length;n++){for(s in r=!1,l="",o[n])if(o[n].hasOwnProperty(s)){for(l+=" "+s,a=0;a<o[n][s].length;a++)if(t.search(o[n][s][a])>-1){platformer.settings.aspects[s]=!0,r=!0;break}if(r)break}r||console.warn("This browser doesn't support any of the following: "+l)}return i}()},286:function(t,e){t.exports=function(){var t=function(t,e){var i=function(t){return t.preventDefault(),!1},o="",n=document.createElement("div"),s=document.createElement("div"),a=null,r=null,l=this.springroll=new window.Springroll.Application({features:{sound:!0}});for(o in platformer.game=this,this.currentScene=null,this.loaded=null,this.settings=t,l.state.pause.subscribe(function(t){this.setPaused(t),s.style.display=t?"block":"none",console.log("Paused = "+t)}.bind(this)),l.state.soundVolume.subscribe(function(t){createjs.Sound.setVolume(t)}),t.aspects||(t.aspects=platformer.settings.aspects),t.supports||(t.supports=platformer.settings.supports),t.classes||(t.classes=platformer.settings.classes),t.components||(t.components=platformer.settings.components),document.getElementById(t.global.rootElement||"root")?a=document.getElementById(t.global.rootElement||"root"):((a=document.createElement("div")).id=t.global.rootElement||"root",document.getElementsByTagName("body")[0].appendChild(a)),t.supports)t.supports[o]&&(a.className+=" supports-"+o);n.id="inner-"+a.id,a.appendChild(n),s.id="click-catcher",s.addEventListener("click",i),s.addEventListener("pointerdown",i),s.addEventListener("pointerup",i),s.addEventListener("mousedown",i),s.addEventListener("mouseup",i),s.addEventListener("touchstart",i),s.addEventListener("touchend",i),a.appendChild(s),this.rootElement=n,this.containerElement=a,this.loadScene(t.global.initialScene),r=t.debug?function(t,e){this.currentScene.trigger(t,e)}.bind(this):function(t,e){this.currentScene.trigger(t,e),e.preventDefault()}.bind(this),this.bindings=[],this.addEventListener(window,"keydown",r),this.addEventListener(window,"keyup",r),t.global.aspectRatio?(r=function(e,i){var o=n,s=t.global.aspectRatio,r=a.offsetWidth,l=a.offsetHeight;t.global.maxWidth&&t.global.maxWidth<r&&(r=t.global.maxWidth),r/l>s?(o.style.height=l+"px",r=Math.round(l*s),o.style.width=r+"px"):(o.style.width=r+"px",l=Math.round(r/s),o.style.height=l+"px"),t.global.resizeFont&&(a.style.fontSize=Math.round(r/20)+"px"),o.style.marginTop="-"+Math.round(l/2)+"px",o.style.marginLeft="-"+Math.round(r/2)+"px",o.style.top="50%",o.style.left="50%",this.currentScene.trigger(e,i)}.bind(this))("resize"):t.global.resizeFont&&(r=function(t,e){a.style.fontSize=parseInt(this.rootElement.offsetWidth/20,10)+"px",this.currentScene.trigger(t,e)}.bind(this))("resize"),this.addEventListener(window,"orientationchange",r),this.addEventListener(window,"resize",r),e&&e(this),createjs.Ticker.timingMode="raf",createjs.Ticker.setFPS(t.global.fps||60),this.tickWrapper=function(t){this.tick(t)}.bind(this),createjs.Ticker.addEventListener("tick",this.tickWrapper),window&&(window.getEntityById=function(t){return this.getEntityById(t)}.bind(this),window.getEntitiesByType=function(t){return this.getEntitiesByType(t)}.bind(this))},e=t.prototype;return e.setPaused=function(t){var e="",i="",o=createjs.Sound._instances,n=this.currentScene.layers,s=0,a=createjs.Ticker;if(t!==a.paused){for(a.paused=t,t?(a.removeEventListener("tick",this.tickWrapper),e="pause-render",i="pause"):(a.addEventListener("tick",this.tickWrapper),e="unpause-render",i="resume"),s=0;s<n.length;s++)n[s].trigger(e);for(s=0;s<o.length;s++)o[s][i]()}},e.tick=function(t){this.loadedScene&&this.loadedScene.trigger("tick",t),this.currentScene&&this.currentScene.trigger("tick",t)},e.loadScene=function(t,e,i,o){var n=null;if(this.inTransition=!0,this.leavingScene=this.currentScene,o)this.loadNextScene(t);else switch(e){case"fade-to-black":n=document.createElement("div"),this.rootElement.appendChild(n),n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.zIndex="12",n.style.opacity="0.001",n.style.background="#000",new createjs.Tween(n.style).to({opacity:.001},500).to({opacity:1},500).call(function(){this.loaded||this.loadNextScene(t,i),this.completeSceneTransition(i)}.bind(this)).wait(500).to({opacity:.001},500).call(function(){this.rootElement.removeChild(n),n=null}.bind(this));break;case"instant":default:this.loaded||this.loadNextScene(t,i),this.completeSceneTransition(i)}},e.loadNextScene=function(t,e){var i=null;i="string"==typeof t?this.settings.scenes[t]:t,this.loaded=t,this.loadedScene=new platformer.Scene(i,this.rootElement),console.log("Scene loaded: "+t),this.loadedScene.trigger("scene-loaded",e)},e.completeSceneTransition=function(t){var e=this.loaded;this.currentScene=this.loadedScene,this.loadedScene=null,this.loaded=!1,this.inTransition=!1,this.leavingScene&&(this.leavingScene.destroy(),this.leavingScene=!1),console.log("Scene live: "+e),this.currentScene.trigger("scene-live",t)},e.addEventListener=function(t,e,i){this.bindings[e]={element:t,event:e,callback:function(t,e){return function(i){e(t,i)}}(e,i)},t.addEventListener(e,this.bindings[e].callback,!0)},e.getEntityById=function(t){return this.currentScene?this.currentScene.getEntityById(t):null},e.getEntitiesByType=function(t){return this.currentScene?this.currentScene.getEntitiesByType(t):[]},e.destroy=function(){var t="";for(t in createjs.Ticker.removeEventListener("tick",this.tickWrapper),this.bindings)this.bindings.hasOwnProperty(t)&&this.bindings[t].element.removeEventListener(this.bindings[t].event,this.bindings[t].callback);this.bindings.length=0},t}()},287:function(t,e){t.exports=function(){var t=function(t,e){var i="",o="",n=0,s=t.layers,a=!0,r=!1,l=!1,h=null;for(this.id=t.id,this.storedMessages=[],this.rootElement=e,this.layers=[],n=0;n<s.length;n++){if(r=s[n],l={rootElement:this.rootElement,parent:this},r.properties)for(o in r.properties)r.properties.hasOwnProperty(o)&&(l[o]=r.properties[o]);if(r.type&&(r=platformer.game.settings.entities[r.type]),a=!0,r.filter){if(r.filter.includes)for(i in a=!1,r.filter.includes)platformer.game.settings.supports[r.filter.includes[i]]&&(a=!0);if(r.filter.excludes)for(i in r.filter.excludes)platformer.game.settings.supports[r.filter.excludes[i]]&&(a=!1)}a&&this.layers.push(new platformer.Entity(r,{properties:l}))}for(h=this.storedMessages,this.storedMessages=!1,o=0;o<h.length;o++)this.trigger(h[o].message,h[o].value);h.length=0,this.time=(new Date).getTime(),this.timeElapsed={name:"",time:0}},e=t.prototype;return e.trigger=function(t,e){var i=0,o=0;if(this.storedMessages)this.storedMessages.push({message:t,value:e});else{for("tick"===t&&(o=(new Date).getTime(),this.timeElapsed.name="Non-Engine",this.timeElapsed.time=o-this.time,this.trigger("time-elapsed",this.timeElapsed),this.time=o);i<this.layers.length;i++)this.layers[i].trigger(t,e);"tick"===t&&(o=(new Date).getTime(),this.timeElapsed.name="Engine Total",this.timeElapsed.time=o-this.time,this.trigger("time-elapsed",this.timeElapsed),this.time=o)}},e.getEntityById=function(t){for(var e=0,i=null;e<this.layers.length;e++){if(this.layers[e].id===t)return this.layers[e];if(this.layers[e].getEntityById&&(i=this.layers[e].getEntityById(t)))return i}return null},e.getEntitiesByType=function(t){for(var e=0,i=null,o=[];e<this.layers.length;e++)this.layers[e].type===t&&o.push(this.layers[e]),this.layers[e].getEntitiesByType(t)&&(i=this.layers[e].getEntitiesByType(t))&&(o=o.concat(i));return o},e.destroy=function(){var t=0;for(t=0;t<this.layers.length;t++)this.layers[t].destroy();this.layers.length=0},t}()},288:function(t,e){t.exports=function(){var t={},e=function(e,i){var o=0,n=null,s=e||{},a=s.components||[],r=s.properties||{},l=(i||{}).properties||{};for(platformer.Messenger.call(this),this.components=[],this.type=s.id||"none",this.id=i.id||l.id,this.id||(t[this.type]||(t[this.type]=0),this.id=this.type+"-"+t[this.type],t[this.type]+=1),this.setProperty(r),this.setProperty(l),this.bind("set-property",function(t){this.setProperty(t)}.bind(this)),this.state||(this.state={}),this.lastState={},o=0;o<a.length;o++)n=a[o],platformer.components[n.type]?this.addComponent(new platformer.components[n.type](this,n)):console.warn("Component '"+n.type+"' is not defined.",n);this.trigger("load")},i=e.prototype=new platformer.Messenger;return i.toString=function(){return"[entity "+this.type+"]"},i.addComponent=function(t){return this.components.push(t),t},i.removeComponent=function(t){var e="";if("string"==typeof t){for(e in this.components)if(this.components[e].type===t)return t=this.components[e],this.components.splice(e,1),t.destroy(),t}else for(e in this.components)if(this.components[e]===t)return this.components.splice(e,1),t.destroy(),t;return!1},i.setProperty=function(t){var e="";for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},i.destroy=function(){var t=0;for(t=0;t<this.components.length;t++)this.components[t].destroy();this.components.length=0},e}()},289:function(t,e){t.exports=function(t){return t.components={},function(e,i){var o=function(t,o){var n=null,s=null,a="";if(i&&i.call(this),this.owner=t,this.listener={events:[],messages:[]},this.publicMethods={},this.type=e.id,e.events)for(s in e.events)if(e.events.hasOwnProperty(s)&&(this.addEventListener(s,e.events[s]),o.aliases))for(n in o.aliases)o.aliases[n]===s&&this.addEventListener(n,e.events[s]);if(e.publicMethods)for(s in e.publicMethods)if(e.publicMethods.hasOwnProperty(s)){if(a=s,o.aliases)for(n in o.aliases)o.aliases[n]===s&&(a=n);this.addMethod(a,e.publicMethods[s])}this.constructor&&this.constructor(o)},n=null,s=o.prototype;if(i&&(s=o.prototype=new i),s.constructor=e.constructor,e.methods)for(n in e.methods)"destroy"===n?s["___"+n]=e.methods[n]:s[n]=e.methods[n];if(e.publicMethods)for(n in e.publicMethods)e.publicMethods.hasOwnProperty(n)&&(s[n]=e.publicMethods[n]);s.toString=function(){return"[component "+this.type+"]"},s.destroy=function(){for(n in this.___destroy&&this.___destroy(),this.publicMethods)this.publicMethods.hasOwnProperty(n)&&this.removeMethod(n);this.removeEventListeners()},s.setProperty=function(t,e){this[t]=e},s.addListeners=function(){console.warn('Component "'+this.type+'": "component.addListeners()" is deprecated. Use "component.addEventListener()".')},s.addListener=function(){console.warn('Component "'+this.type+'": "component.addListener()" is deprecated. Use "component.addEventListener()".')},s.removeListeners=function(){console.warn('Component "'+this.type+'": "component.removeListeners()" is deprecated. Use "component.removeEventListeners()".')},s.removeListener=function(){console.warn('Component "'+this.type+'": "component.removeListener()" is deprecated. Use "component.removeEventListener()".')},s.removeEventListeners=function(t){var e=0,i=null,o=null;if(t)for(i=t,e=0;e<i.length;e++)this.removeEventListener(i[e]);else for(i=this.listener.events,o=this.listener.messages,e=0;e<i.length;e++)this.removeEventListener(i[e],o[e])},s.addEventListener=function(t,e){this.listener.events.push(t),this.listener.messages.push(e),this.owner.bind(t,e,this)},s.addMethod=function(t,e){this.owner[t]?console.warn(this.owner.type+': Entity already has a method called "'+t+'". Method not added.'):(this.owner[t]=function(){return e.apply(this,arguments)}.bind(this),this.publicMethods[t]=e)},s.removeEventListener=function(t,e){var i=this.listener.events,o=0,n=this.listener.messages;for(o=0;o<i.length;o++)i[o]!==t||e&&n[o]!==e||this.owner.unbind(t,n[o],this)},s.removeMethod=function(t){this.owner[t]?delete this.owner[t]:console.warn(this.owner.type+': Entity does not have a method called "'+t+'".'),delete this.publicMethods[t]},t.components[e.id]=o}}(platformer)},290:function(t,e){t.exports=function(){var t=function(t,e){return function(i){var o=0;for(i.released?t+=":up":i.pressed&&(t+=":down"),o=0;o<e.entities.length;o++)e.entities[o].trigger(t,i)}},e=function(t,e){return function(i){var o=0;for(o=0;o<e.entities.length;o++)e.entities[o].trigger(t,i)}},i={kc0:"unknown",kc8:"backspace",kc9:"tab",kc12:"numpad-5-shift",kc13:"enter",kc16:"shift",kc17:"ctrl",kc18:"alt",kc19:"pause",kc20:"caps-lock",kc27:"esc",kc32:"space",kc33:"page-up",kc34:"page-down",kc35:"end",kc36:"home",kc37:"left-arrow",kc38:"up-arrow",kc39:"right-arrow",kc40:"down-arrow",kc42:"numpad-multiply",kc43:"numpad-add",kc44:"print-screen",kc45:"insert",kc46:"delete",kc47:"numpad-division",kc48:"0",kc49:"1",kc50:"2",kc51:"3",kc52:"4",kc53:"5",kc54:"6",kc55:"7",kc56:"8",kc57:"9",kc59:"semicolon",kc61:"equals",kc65:"a",kc66:"b",kc67:"c",kc68:"d",kc69:"e",kc70:"f",kc71:"g",kc72:"h",kc73:"i",kc74:"j",kc75:"k",kc76:"l",kc77:"m",kc78:"n",kc79:"o",kc80:"p",kc81:"q",kc82:"r",kc83:"s",kc84:"t",kc85:"u",kc86:"v",kc87:"w",kc88:"x",kc89:"y",kc90:"z",kc91:"left-windows-start",kc92:"right-windows-start",kc93:"windows-menu",kc96:"back-quote",kc106:"numpad-multiply",kc107:"numpad-add",kc109:"numpad-minus",kc110:"numpad-period",kc111:"numpad-division",kc112:"f1",kc113:"f2",kc114:"f3",kc115:"f4",kc116:"f5",kc117:"f6",kc118:"f7",kc119:"f8",kc120:"f9",kc121:"f10",kc122:"f11",kc123:"f12",kc144:"num-lock",kc145:"scroll-lock",kc186:"semicolon",kc187:"equals",kc188:"comma",kc189:"hyphen",kc190:"period",kc191:"forward-slash",kc192:"back-quote",kc219:"open-bracket",kc220:"back-slash",kc221:"close-bracket",kc222:"quote"};return{id:"handler-controller",constructor:function(){this.entities=[],this.timeElapsed={name:"Controller",time:0}},events:{keydown:function(t){var e=0;for(e=0;e<this.entities.length;e++)this.entities[e].trigger("key:"+(i["kc"+t.keyCode]||"key-code-"+t.keyCode)+":down",t)},keyup:function(t){var e=0;for(e=0;e<this.entities.length;e++)this.entities[e].trigger("key:"+(i["kc"+t.keyCode]||"key-code-"+t.keyCode)+":up",t)},tick:function(t){var e=(new Date).getTime(),i=0;for(i=this.entities.length-1;i>-1;i--)this.entities[i].trigger("handle-controller",t)||this.entities.splice(i,1);this.timeElapsed.time=(new Date).getTime()-e,platformer.game.currentScene.trigger("time-elapsed",this.timeElapsed)},"child-entity-added":function(t){this.updateEntity(t)},"child-entity-updated":function(t){this.updateEntity(t)}},methods:{updateEntity:function(i){var o=i.getMessageIds(),n=!1,s=0,a=0,r=0;for(a=0;a<o.length;a++)if("handle-controller"===o[a]){for(s=0;s<this.entities.length;s++)if(this.entities[s]===i){n=!0;break}if(!n){if(i.controlMap)for(r in i.controlMap)r.indexOf("key:")<0&&r.indexOf("mouse:")<0&&(this[r]||(this.addEventListener(r,t(r,this)),this.addEventListener(r+":up",e(r+":up",this)),this.addEventListener(r+":down",e(r+":down",this))));this.entities.push(i),i.trigger("controller-load")}break}},destroy:function(){this.entities.length=0}}}}()},291:function(t,e){t.exports={id:"handler-ai",constructor:function(){this.entities=[]},events:{"child-entity-added":function(t){var e=t.getMessageIds(),i=0;for(i=0;i<e.length;i++)if("handle-ai"===e[i]){this.entities.push(t);break}},tick:function(t){var e=0;for(e=this.entities.length-1;e>-1;e--)this.entities[e].trigger("handle-ai",t)||this.entities.splice(e,1)}},methods:{destroy:function(){this.entities.length=0}}}},292:function(t,e){t.exports=function(){var t=function(t){var e=null,i=!1;for(e in t.state)t.state[e]!==t.lastState[e]&&(t.lastState[e]=t.state[e],i=!0);return i};return{id:"handler-logic",constructor:function(t){this.entities=[],this.activeEntities=this.entities,this.paused=0,this.stepLength=t.stepLength||30,this.leftoverTime=0,this.maximumStepsPerTick=10,this.camera={left:0,top:0,width:0,height:0,bufferLeft:t.bufferLeft||t.bufferWidth||t.buffer||-1,bufferRight:t.bufferRight||t.bufferWidth||t.buffer||-1,bufferTop:t.bufferTop||t.bufferHeight||t.buffer||-1,bufferBottom:t.bufferBottom||t.bufferHeight||t.buffer||-1,active:!1},this.message={delta:this.stepLength,tick:null,camera:this.camera,movers:this.activeEntities},this.timeElapsed={name:"Logic",time:0}},events:{"child-entity-added":function(t){var e=t.getMessageIds(),i=0;for(i=0;i<e.length;i++)if("handle-logic"===e[i]||"handle-post-collision-logic"===e[i]){this.entities.push(t),this.updateNeeded=this.camera.active;break}},"child-entity-removed":function(t){var e=0;for(e=this.entities.length-1;e>-1;e--)if(this.entities[e]===t){this.entities.splice(e,1);break}},"pause-logic":function(t){t&&t.time?this.paused=t.time:this.paused=-1},"unpause-logic":function(){this.paused=0},"camera-update":function(t){this.camera.left=t.viewportLeft,this.camera.top=t.viewportTop,this.camera.width=t.viewportWidth,this.camera.height=t.viewportHeight,-1===this.camera.bufferLeft&&(this.camera.bufferLeft=this.camera.width/10),-1===this.camera.bufferRight&&(this.camera.bufferRight=this.camera.width/10),-1===this.camera.bufferTop&&(this.camera.bufferTop=this.camera.width/10),-1===this.camera.bufferBottom&&(this.camera.bufferBottom=this.camera.width/10),this.camera.active=!0,this.updateNeeded=!0},tick:function(e){var i=0,o=null,n=(new Date).getTime(),s=0,a=0;if(this.leftoverTime+=e.delta,i=Math.floor(this.leftoverTime/this.stepLength)||1,this.message.delta=Math.min(this.leftoverTime,this.stepLength),this.leftoverTime=Math.max(this.leftoverTime-i*this.stepLength,0),this.paused>0&&(this.paused-=e.delta,this.paused<0&&(this.paused=0)),!this.paused){for(this.message.tick||(this.message.tick=e),this.activeEntities===this.entities&&(this.message.movers=this.activeEntities=[]),this.activeEntities.length=0,a=this.entities.length-1;a>-1;a--)((o=this.entities[a]).alwaysOn||void 0===o.x||o.x>=this.camera.left-this.camera.bufferLeft&&o.x<=this.camera.left+this.camera.width+this.camera.bufferRight&&o.y>=this.camera.top-this.camera.bufferTop&&o.y<=this.camera.top+this.camera.height+this.camera.bufferBottom)&&this.activeEntities.push(o);for(i=Math.min(i,this.maximumStepsPerTick),s=0;s<i;s++){for(a=this.activeEntities.length-1;a>-1;a--)(o=this.activeEntities[a]).triggerEvent("handle-logic",this.message)&&(o.checkCollision=!0);if(this.timeElapsed.name="Logic",this.timeElapsed.time=(new Date).getTime()-n,platformer.game.currentScene.trigger("time-elapsed",this.timeElapsed),n+=this.timeElapsed.time,this.owner.triggerEvent("check-collision-group",this.message)){for(this.timeElapsed.name="Collision",this.timeElapsed.time=(new Date).getTime()-n,platformer.game.currentScene.trigger("time-elapsed",this.timeElapsed),n+=this.timeElapsed.time,a=this.activeEntities.length-1;a>-1;a--)(o=this.activeEntities[a]).triggerEvent("handle-post-collision-logic",this.message),t(o)&&o.triggerEvent("logical-state",o.state);this.timeElapsed.name="Collision Logic",this.timeElapsed.time=(new Date).getTime()-n,platformer.game.currentScene.trigger("time-elapsed",this.timeElapsed),n+=this.timeElapsed.time}else for(a=this.activeEntities.length-1;a>-1;a--)o=this.activeEntities[a],t(o)&&o.triggerEvent("logical-state",o.state)}}this.timeElapsed.time=(new Date).getTime()-n,platformer.game.currentScene.trigger("time-elapsed",this.timeElapsed)}}}}()},293:function(t,e){t.exports=function(){var t=Box2D.Common.Math.b2Vec2,e=Box2D.Dynamics.b2World,i=Box2D.Dynamics.b2DebugDraw,o={entity:null,contact:null,thisFixture:null,otherFixture:null,oldManifold:null,impulse:null};return{id:"handler-box2d",constructor:function(n){var s,a=0,r=n.gravity||{x:0,y:0},l=new Box2D.Dynamics.b2ContactListener,h=void 0===n.allowSleep||n.allowSleep;this.simulationFrequency=n.simulationFrequency||1/platformer.game.settings.global.fps||1/60,this.velocityIterations=n.velocityIterations||10,this.positionIterations=n.positionIterations||10,this.entities=[],this.destroyBodies=[],this.paused=!1,n.debugCanvas&&n.debugCanvas.flags&&(n.debugCanvas.flags.e_aabbBit&&(a|=i.e_aabbBit),n.debugCanvas.flags.e_centerOfMassBit&&(a|=i.e_centerOfMassBit),n.debugCanvas.flags.e_centerOfMassBit&&(a|=i.e_controllerBit),n.debugCanvas.flags.e_jointBit&&(a|=i.e_jointBit),n.debugCanvas.flags.e_pairBit&&(a|=i.e_pairBit),n.debugCanvas.flags.e_shapeBit&&(a|=i.e_shapeBit)),void 0===n.debugCanvas&&(n.debugCanvas={}),s={id:n.debugCanvas.id||"box2D-debug-canvas",drawScale:n.debugCanvas.drawScale||30,fillAlpha:void 0!==n.debugCanvas.fillAlpha?n.debugCanvas.fillAlpha:.3,lineThickness:n.debugCanvas.lineThickness||1,flags:n.debugCanvas.flags?a:i.e_shapeBit|i.e_jointBit},this.world=new e(new t(r.x,r.y),h),l.BeginContact=function(t){var e=t.GetFixtureA(),i=t.GetFixtureB(),n=e.GetUserData().collisionType,s=i.GetUserData().collisionType,a=e.GetBody().GetUserData().entity,r=i.GetBody().GetUserData().entity;o.contact=t,o.oldManifold=null,o.impulse=null,o.thisFixture=e,o.otherFixture=i,o.entity=r,a.triggerEvent("begin-contact-"+n+"-and-"+s,o),o.thisFixture=i,o.otherFixture=e,o.entity=a,r.triggerEvent("begin-contact-"+s+"-and-"+n,o)},l.EndContact=function(t){var e=t.GetFixtureA(),i=t.GetFixtureB(),n=e.GetUserData().collisionType,s=i.GetUserData().collisionType,a=e.GetBody().GetUserData().entity,r=i.GetBody().GetUserData().entity;o.contact=t,o.oldManifold=null,o.impulse=null,o.thisFixture=e,o.otherFixture=i,o.entity=r,a.triggerEvent("end-contact-"+n+"-and-"+s,o),o.thisFixture=i,o.otherFixture=e,o.entity=a,r.triggerEvent("end-contact-"+s+"-and-"+n,o)},l.PreSolve=function(t,e){var i=t.GetFixtureA(),n=t.GetFixtureB(),s=i.GetUserData().collisionType,a=n.GetUserData().collisionType,r=i.GetBody().GetUserData().entity,l=n.GetBody().GetUserData().entity;o.contact=t,o.oldManifold=e,o.impulse=null,o.thisFixture=i,o.otherFixture=n,o.entity=l,r.triggerEvent("pre-solve-"+s+"-and-"+a,o),o.thisFixture=n,o.otherFixture=i,o.entity=r,l.triggerEvent("pre-solve-"+a+"-and-"+s,o)},l.PostSolve=function(t,e){var i=t.GetFixtureA(),n=t.GetFixtureB(),s=i.GetUserData().collisionType,a=n.GetUserData().collisionType,r=i.GetBody().GetUserData().entity,l=n.GetBody().GetUserData().entity;o.contact=t,o.oldManifold=null,o.impulse=e,o.thisFixture=i,o.otherFixture=n,o.entity=l,r.triggerEvent("post-solve-"+s+"-and-"+a,o),o.thisFixture=n,o.otherFixture=i,o.entity=r,l.triggerEvent("post-solve-"+a+"-and-"+s,o)},this.world.SetContactListener(l),(n.debug||!1!==n.debug&&(this.owner.debug||platformer.settings.debug))&&(this.debugCanvas=document.createElement("canvas"),this.debugCanvas.style.pointerEvents="none",this.debugCanvas.id=s.id,this.ctx=this.debugCanvas.getContext("2d"),this.owner.rootElement.appendChild(this.debugCanvas),this.debugDraw=new i,this.debugDraw.SetSprite(document.getElementById(s.id).getContext("2d")),this.debugDraw.SetDrawScale(s.drawScale),this.debugDraw.SetFillAlpha(s.fillAlpha),this.debugDraw.SetLineThickness(s.lineThickness),this.debugDraw.SetFlags(s.flags),this.world.SetDebugDraw(this.debugDraw))},events:{"child-entity-added":function(t){var e=t.getMessageIds(),i={world:this.world,drawScale:this.debugDraw?this.debugDraw.GetDrawScale():30},o=0;for(o=0;o<e.length;o++)if("connect-box2D"===e[o]){this.entities.push(t),t.trigger("connect-box2D",i);break}},"body-removed":function(t){this.destroyBodies.push(t)},"child-entity-removed":function(t){var e=0;for(e=this.entities.length-1;e>-1;e--)if(this.entities[e]===t){this.entities.splice(e,1);break}},"check-collision-group":function(t){var e=0,i=0;if(this.destroyBodies.length){for(e=0;e<this.destroyBodies.length;e++)this.world.DestroyBody(this.destroyBodies[e]);this.destroyBodies.length=0}if(!this.paused){for(i=0;i<this.entities.length;i++)this.entities[i].triggerEvent("handle-box2d-pre-step",t);for(this.world.Step(this.simulationFrequency,this.velocityIterations,this.positionIterations),this.world.DrawDebugData(),this.world.ClearForces(),i=0;i<this.entities.length;i++)this.entities[i].triggerEvent("handle-box2d",t)}},"camera-update":function(t){var e=window.devicePixelRatio||1;this.debugCanvas&&(this.debugCanvas.width=this.debugCanvas.offsetWidth*e,this.debugCanvas.height=this.debugCanvas.offsetHeight*e,this.ctx.restore(),this.ctx.save(),this.ctx.translate(-t.viewportLeft*t.scaleX*e,-t.viewportTop*t.scaleY*e),this.ctx.scale(t.scaleX*e,t.scaleY*e))},"pause-collision":function(){this.paused=!0},"unpause-collision":function(){this.paused=!1}},methods:{destroy:function(){this.world=null,this.debugCanvas&&this.debugCanvas.parentNode&&this.debugCanvas.parentNode.removeChild(this.debugCanvas),this.debugCanvas=null,this.debugDraw=null,this.ctx=null,this.entities=[]}},publicMethods:{}}}()},294:function(t,e){t.exports=function(){var t=function(t){var e,i=document.getElementById("interface");t.window.viewportTop=t.element.offsetTop,t.window.viewportLeft=t.element.offsetLeft,t.window.viewportWidth=t.element.offsetWidth||t.worldWidth,t.window.viewportHeight=t.element.offsetHeight||t.worldHeight,(e=t.window.viewportWidth/t.window.viewportHeight)>t.aspectRatio?(t.world.viewportHeight=t.oH,t.world.viewportWidth=t.oH*e,i&&(i.style.height="100%",i.style.width=t.oW/t.world.viewportWidth*100+"%",i.style.top="-100%",i.style.left="-"+i.style.width)):(t.world.viewportHeight=t.oW/e,t.world.viewportWidth=t.oW,i&&(i.style.height=t.oH/t.world.viewportHeight*100+"%",i.style.width="100%",i.style.left="-100%",i.style.top="-"+i.style.height)),t.worldPerWindowUnitWidth=t.world.viewportWidth/t.window.viewportWidth,t.worldPerWindowUnitHeight=t.world.viewportHeight/t.window.viewportHeight,t.windowPerWorldUnitWidth=t.window.viewportWidth/t.world.viewportWidth,t.windowPerWorldUnitHeight=t.window.viewportHeight/t.world.viewportHeight,t.viewportUpdate=!0};return{id:"camera",constructor:function(t){this.entities=[],this.stretch=t.stretch||!1,this.transitionX=t.transitionX||t.transition,this.transitionY=t.transitionY||t.transition,isNaN(this.transitionX)&&(this.transitionX=400),isNaN(this.transitionY)&&(this.transitionY=600),this.oW=t.width,this.oH=t.height,this.aspectRatio=t.width/t.height,this.threshold=t.threshold||1,this.element=null,this.window={viewportTop:0,viewportLeft:0,viewportWidth:0,viewportHeight:0},this.world={viewportWidth:t.width||0,viewportHeight:t.height||0,viewportLeft:t.left||0,viewportTop:t.top||0},this.message={viewportWidth:0,viewportHeight:0,viewportLeft:0,viewportTop:0,scaleX:0,scaleY:0},this.scaleWidth=t.scaleWidth||0,this.worldIsLoaded=!1,this.worldWidth=t.worldWidth||0,this.worldHeight=t.worldHeight||0,this.following=void 0,this.state="static",this.bBBorderX=0,this.bBBorderY=0,this.bBInnerWidth=0,this.bBInnerHeight=0,this.setBoundingArea(),this.lastLeft=this.world.viewportLeft,this.lastTop=this.world.viewportTop,this.forwardX=0,this.forwardY=0,this.averageOffsetX=0,this.averageOffsetY=0,this.offsetX=0,this.offsetY=0,this.forwardFollower={x:this.lastLeft,y:this.lastTop},this.lastFollow={entity:null,mode:null,offsetX:0,offsetY:0,begin:0},this.direction=!0,this.stationary=!1,this.viewportUpdate=!1},events:{"scene-live":function(){t(this)},load:function(){this.element=this.owner.canvas||this.owner.element||this.owner.rootElement,t(this)},"child-entity-added":function(t){for(var e=t.getMessageIds(),i=0;i<e.length;i++)if("camera-update"==e[i]){this.entities.push(t),this.viewportUpdate=!0,this.worldIsLoaded&&t.trigger("camera-loaded",{width:this.worldWidth,height:this.worldHeight});break}},"child-entity-removed":function(t){var e=0;for(e in this.entities)if(this.entities[e]===t){this.entities.splice(e,1);break}},"world-loaded":function(t){this.worldIsLoaded=!0,this.worldWidth=this.owner.worldWidth=t.width,this.worldHeight=this.owner.worldHeight=t.height,t.camera&&this.follow(t.camera);for(var e=this.entities.length-1;e>-1;e--)this.entities[e].trigger("camera-loaded",t)},tick:function(t){switch(this.state){case"following":this.followingFunction(this.following,t.delta)&&(this.viewportUpdate=!0)}if(this.viewportUpdate){this.viewportUpdate=!1,this.stationary=!1,this.message.viewportLeft=this.world.viewportLeft,this.message.viewportTop=this.world.viewportTop,this.message.viewportWidth=this.world.viewportWidth,this.message.viewportHeight=this.world.viewportHeight,this.message.scaleX=this.windowPerWorldUnitWidth,this.message.scaleY=this.windowPerWorldUnitHeight,this.owner.trigger("camera-update",this.message);for(var e=this.entities.length-1;e>-1;e--)this.entities[e].trigger("camera-update",this.message)||this.entities.splice(e,1)}else this.stationary||(this.owner.trigger("camera-stationary",this.message),this.stationary=!0);this.lastFollow.begin&&this.lastFollow.begin<(new Date).getTime()&&this.follow(this.lastFollow)},resize:function(){t(this)},relocate:function(t){this.move(t.x,t.y)&&(this.viewportUpdate=!0)},orientationchange:function(){t(this)},follow:function(t){this.follow(t)}},methods:{follow:function(t){switch(t.time?(this.lastFollow.begin||(this.lastFollow.entity=this.following,this.lastFollow.mode=this.mode,this.lastFollow.offsetX=this.offsetX,this.lastFollow.offsetY=this.offsetY),this.lastFollow.begin=(new Date).getTime()+t.time):this.lastFollow.begin&&(this.lastFollow.begin=0),this.mode=t.mode,t.mode){case"locked":this.state="following",this.following=t.entity,this.followingFunction=this.lockedFollow,this.offsetX=t.offsetX||0,this.offsetY=t.offsetY||0;break;case"forward":this.state="following",this.followFocused=!1,this.following=t.entity,this.lastLeft=t.entity.x||0,this.lastTop=t.entity.y||0,this.forwardX=t.movementX||this.transitionX/10,this.forwardY=t.movementY||0,this.averageOffsetX=0,this.averageOffsetY=0,this.offsetX=t.offsetX||0,this.offsetY=t.offsetY||0,this.followingFunction=this.forwardFollow;break;case"bounding":this.state="following",this.following=t.entity,this.offsetX=t.offsetX||0,this.offsetY=t.offsetY||0,this.setBoundingArea(t.top,t.left,t.width,t.height),this.followingFunction=this.boundingFollow;break;case"static":default:this.state="static",this.following=void 0,this.followingFunction=void 0,t&&"number"==typeof t.top&&"number"==typeof t.left&&this.move(t.left,t.top)}t.begin&&(t.begin=0)},move:function(t,e){var i=this.moveLeft(t);return i=this.moveTop(e)||i},moveLeft:function(t){return Math.abs(this.world.viewportLeft-t)>this.threshold&&(this.worldWidth&&0!=this.worldWidth&&this.worldWidth<this.world.viewportWidth?this.world.viewportLeft=(this.worldWidth-this.world.viewportWidth)/2:this.worldWidth&&0!=this.worldWidth&&t+this.world.viewportWidth>this.worldWidth?this.world.viewportLeft=this.worldWidth-this.world.viewportWidth:this.worldWidth&&0!=this.worldWidth&&t<0?this.world.viewportLeft=0:this.world.viewportLeft=t,!0)},moveTop:function(t){return Math.abs(this.world.viewportTop-t)>this.threshold&&(this.worldHeight&&0!=this.worldHeight&&this.worldHeight<this.world.viewportHeight?this.world.viewportTop=(this.worldHeight-this.world.viewportHeight)/2:this.worldHeight&&0!=this.worldHeight&&t+this.world.viewportHeight>this.worldHeight?this.world.viewportTop=this.worldHeight-this.world.viewportHeight:this.worldHeight&&0!=this.worldHeight&&t<0?this.world.viewportTop=0:this.world.viewportTop=t,!0)},lockedFollow:function(t,e,i){var o=t.x-this.world.viewportWidth/2,n=t.y-this.world.viewportHeight/2,s=this.transitionX?Math.min(e/this.transitionX,1):1,a=1-s,r=this.transitionY?Math.min(e/this.transitionY,1):1,l=1-r;return this.move(s*o+a*this.world.viewportLeft,r*n+l*this.world.viewportTop)},forwardFollow:function(t,e){var i=this.forwardFollower,o=15/e,n=!1,s=t.x+this.offsetX,a=t.y+this.offsetY;return this.followFocused&&this.lastLeft===s&&this.lastTop===a?this.lockedFollow(i,e):(this.averageOffsetX*=.9,this.averageOffsetY*=.9,this.averageOffsetX+=.1*(s-this.lastLeft)*o,this.averageOffsetY+=.1*(a-this.lastTop)*o,Math.abs(this.averageOffsetX)>this.world.viewportWidth/(2*this.forwardX)&&(this.averageOffsetX=0),Math.abs(this.averageOffsetY)>this.world.viewportHeight/(2*this.forwardY)&&(this.averageOffsetY=0),i.x=this.averageOffsetX*this.forwardX+s,i.y=this.averageOffsetY*this.forwardY+a,this.lastLeft=s,this.lastTop=a,n=this.lockedFollow(i,e),this.followFocused||n||(this.followFocused=!0),n)},setBoundingArea:function(t,e,i,o){this.bBBorderY=void 0!==t?t:.25*this.world.viewportHeight,this.bBBorderX=void 0!==e?e:.4*this.world.viewportWidth,this.bBInnerWidth=void 0!==i?i:this.world.viewportWidth-2*this.bBBorderX,this.bBInnerHeight=void 0!==o?o:this.world.viewportHeight-2*this.bBBorderY},boundingFollow:function(t,e){var i=null,o=null,n=this.transitionX?Math.min(e/this.transitionX,1):1,s=1-n,a=this.transitionY?Math.min(e/this.transitionY,1):1,r=1-a;return t.x>this.world.viewportLeft+this.bBBorderX+this.bBInnerWidth?i=t.x-(this.bBBorderX+this.bBInnerWidth):t.x<this.world.viewportLeft+this.bBBorderX&&(i=t.x-this.bBBorderX),t.y>this.world.viewportTop+this.bBBorderY+this.bBInnerHeight?o=t.y-(this.bBBorderY+this.bBInnerHeight):t.y<this.world.viewportTop+this.bBBorderY&&(o=t.y-this.bBBorderY),"null"!=typeof i&&(i=this.moveLeft(n*i+s*this.world.viewportLeft)),"null"!=typeof o&&(o=this.moveTop(a*o+r*this.world.viewportTop)),i||o},windowToWorld:function(t){var e=[];return e[0]=Math.round((t[0]-this.window.viewportLeft)*this.worldPerWindowUnitWidth),e[1]=Math.round((t[1]-this.window.viewportTop)*this.worldPerWindowUnitHeight),e},worldToWindow:function(t){var e=[];return e[0]=Math.round(t[0]*this.windowPerWorldUnitWidth+this.window.viewportLeft),e[1]=Math.round(t[1]*this.windowPerWorldUnitHeight+this.window.viewportTop),e},destroy:function(){this.entities.length=0}}}}()},295:function(t,e){t.exports=function(){var t=window.devicePixelRatio||1;return window.stageUpdated=!1,{id:"handler-render-createjs",constructor:function(t){this.canvas=this.owner.canvas=document.createElement("canvas"),this.canvas.id=t.canvasId||"",this.owner.canvasParent=null,this.owner.element?(this.owner.canvasParent=this.owner.element,this.owner.element.appendChild(this.canvas)):(this.owner.canvasParent=this.owner.rootElement,this.owner.rootElement.appendChild(this.canvas),this.owner.element=this.canvas),window.stageUpdated||function(){var t=createjs.Stage.prototype;t._handleMouseMove=function(t){t||(t=window.event),this.disableMouse||this._handlePointerMove(-1,t,t.pageX,t.pageY)},t._handlePointerMove=function(t,e,i,o,n){var s,a,r=null;this._prevStage&&void 0===n||this.canvas&&(r=this._nextStage,s=(a=this._getPointerData(t)).inBounds,this._updatePointerPosition(t,e,i,o),(s||a.inBounds||this.mouseMoveOutside)&&(-1===t&&a.inBounds===!s&&this._dispatchMouseEvent(this,s?"mouseleave":"mouseenter",!1,t,a,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,a,e),this._dispatchMouseEvent(a.target,"pressmove",!0,t,a,e)),-1!==t&&(this.disableMouse=!0,window.clearTimeout(this.disableMouseTimer),this.disableMouseTimer=window.setTimeout(function(){this.disableMouse=!1}.bind(this),1e3)),r&&r._handlePointerMove(t,e,i,o,null))},t._handleMouseUp=function(t){this.disableMouse||this._handlePointerUp(-1,t,!1)},t._handlePointerUp=function(t,e,i,o){var n,s=this._nextStage,a=this._getPointerData(t),r=null;this._prevStage&&void 0===o||(this._dispatchMouseEvent(this,"stagemouseup",!1,t,a,e),n=a.target,o||!n&&!s||(createjs.DisplayObject._hitTestContext.setTransform(1,0,0,1,0,0),createjs.DisplayObject._hitTestContext.clearRect(0,0,2,2),r=this._getObjectsUnderPoint(a.x,a.y,null,!0)),r===n&&this._dispatchMouseEvent(n,"click",!0,t,a,e),this._dispatchMouseEvent(n,"pressup",!0,t,a,e),i?(t===this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):a.target=null,-1!==t&&(this.disableMouse=!0,window.clearTimeout(this.disableMouseTimer),this.disableMouseTimer=window.setTimeout(function(){this.disableMouse=!1}.bind(this),1e3)),s&&s._handlePointerUp(t,e,i,o||r&&this))},t._handleMouseDown=function(t){this.disableMouse||this._handlePointerDown(-1,t,t.pageX,t.pageY)},t._handlePointerDown=function(t,e,i,o,n){var s=null,a=null,r=null;null!==o&&this._updatePointerPosition(t,e,i,o),a=this._nextStage,(r=this._getPointerData(t)).inBounds&&this._dispatchMouseEvent(this,"stagemousedown",!1,t,r,e),n||(createjs.DisplayObject._hitTestContext.setTransform(1,0,0,1,0,0),createjs.DisplayObject._hitTestContext.clearRect(0,0,2,2),s=r.target=this._getObjectsUnderPoint(r.x,r.y,null,!0),this._dispatchMouseEvent(r.target,"mousedown",!0,t,r,e)),-1!==t&&(this.disableMouse=!0,window.clearTimeout(this.disableMouseTimer),this.disableMouseTimer=window.setTimeout(function(){this.disableMouse=!1}.bind(this),1e3)),a&&a._handlePointerDown(t,e,i,o,n||s&&this)},window.stageUpdated=!0}.call(window),this.stage=new createjs.Stage(this.canvas),!0!==t.autoClear&&(this.stage.autoClear=!1),t.acceptInput&&(t.acceptInput.click||t.acceptInput.touch)&&this.setupInput(t.acceptInput.touch,t.acceptInput.movement,t.acceptInput.camera),this.camera={left:0,top:0,width:0,height:0,bufferLeft:t.bufferLeft||t.bufferWidth||t.buffer||-1,bufferRight:t.bufferRight||t.bufferWidth||t.buffer||-1,bufferTop:t.bufferTop||t.bufferHeight||t.buffer||-1,bufferBottom:t.bufferBottom||t.bufferHeight||t.buffer||-1},this.timeElapsed={name:"Render",time:0},this.renderMessage={delta:0,stage:this.stage},this.handleChildren=!0,this.extraContent=!1},events:{load:function(){for(var t=0,e=null;t<this.owner.components.length;t++)this.owner.components[t]!==this&&"handler-render"!==this.owner.components[t].type.substring(0,14)||(e=this.owner.components[t]);e!==this?this.handleChildren=!1:this.addEventListener("handle-render-addition",function(t){var e="";for(e in this.extraContent||(this.extraContent={}),t)t.hasOwnProperty(e)&&(this.extraContent[e]=t[e])})},"child-entity-added":function(t){t.triggerEvent("handle-render-load",{stage:this.stage,parentElement:this.owner.rootElement})},"pause-render":function(t){t&&t.time?this.paused=t.time:this.paused=-1},"unpause-render":function(){this.paused=0},tick:function(){var t=function(t,e){return t.z-e.z};return function(e){var i="",o=null,n=(new Date).getTime(),s=this.renderMessage,a=0;if(s.delta=e.delta,this.paused>0&&(this.paused-=e.delta,this.paused<0&&(this.paused=0)),this.handleChildren){if(this.extraContent)for(i in this.extraContent)this.extraContent.hasOwnProperty(i)&&(s[i]=this.extraContent[i]);if(this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("handle-render",s),this.extraContent)for(i in this.extraContent)this.extraContent.hasOwnProperty(i)&&(delete this.extraContent[i],delete s[i])}else this.owner.triggerEvent("handle-render-addition",s);if(this.stage){for(a=this.stage.children.length-1;a>-1;a--)(o=this.stage.children[a]).hidden?o.visible&&(o.visible=!1):"entity-managed"!==o.name&&(o.x>=this.camera.x-this.camera.bufferLeft&&o.x<=this.camera.x+this.camera.width+this.camera.bufferRight&&o.y>=this.camera.y-this.camera.bufferTop&&o.y<=this.camera.y+this.camera.height+this.camera.bufferBottom?o.visible||(o.visible=!0):o.visible&&(o.visible=!1)),o.visible&&(o.paused&&!this.paused?o.paused=!1:this.paused&&(o.paused=!0));this.stage.reorder&&(this.stage.reorder=!1,this.stage.sortChildren(t)),this.timeElapsed.name="Render-Prep",this.timeElapsed.time=(new Date).getTime()-n,platformer.game.currentScene.trigger("time-elapsed",this.timeElapsed),n+=this.timeElapsed.time,this.stage.update(e),this.timeElapsed.name="Render",this.timeElapsed.time=(new Date).getTime()-n,platformer.game.currentScene.trigger("time-elapsed",this.timeElapsed)}}}(),"camera-update":function(e){this.camera.x=e.viewportLeft,this.camera.y=e.viewportTop,this.camera.width=e.viewportWidth,this.camera.height=e.viewportHeight,-1===this.camera.bufferLeft&&(this.camera.bufferLeft=this.camera.width/12),-1===this.camera.bufferRight&&(this.camera.bufferRight=this.camera.width/12),-1===this.camera.bufferTop&&(this.camera.bufferTop=this.camera.width/12),-1===this.camera.bufferBottom&&(this.camera.bufferBottom=this.camera.width/12),this.canvas.width=this.canvas.offsetWidth*t,this.canvas.height=this.canvas.offsetHeight*t,this.stage.setTransform(-e.viewportLeft*e.scaleX*t,-e.viewportTop*e.scaleY*t,e.scaleX*t,e.scaleY*t),this.moveMouse&&this.moveMouse(e)}},methods:{setupInput:function(){var t=window.devicePixelRatio||1;return function(e,i,o){var n=null,s=0,a=0,r=function(e){n=e,s=e.stageX/t/this.stage.scaleX+this.camera.x,a=e.stageY/t/this.stage.scaleY+this.camera.y}.bind(this),l=function(t){r(t),this.owner.trigger("mousedown",{event:t.nativeEvent,x:s,y:a,entity:this.owner}),o&&(this.moveMouse=function(){r(n),this.owner.trigger("mousemove",{event:t.nativeEvent,x:s,y:a,entity:this.owner})}.bind(this))}.bind(this),h=function(t){r(t),this.owner.trigger("mouseup",{event:t.nativeEvent,x:s,y:a,entity:this.owner}),o&&(this.moveMouse=null)}.bind(this),p=function(t){r(t),(i||t.nativeEvent.which||t.nativeEvent.touches)&&this.owner.trigger("mousemove",{event:t.nativeEvent,x:s,y:a,entity:this.owner})}.bind(this);e&&!this.stage.__touch&&createjs.Touch.enable(this.stage),this.stage.addEventListener("stagemousedown",l),this.stage.addEventListener("stagemouseup",h),this.stage.addEventListener("stagemousemove",p),this.removeStageListeners=function(){this.stage.removeEventListener("stagemousedown",l),this.stage.removeEventListener("stagemouseup",h),this.stage.removeEventListener("stagemousemove",p)}}}(),destroy:function(){this.removeStageListeners&&this.removeStageListeners(),this.stage=null,this.owner.canvasParent.removeChild(this.canvas),this.owner.canvasParent=null,this.owner.element=null,this.canvas=null}}}}()},296:function(t,e){t.exports={id:"entity-container",constructor:function(t){var e="";if(this.entities=[],this.definedEntities=null,t.entities&&this.owner.entities?this.definedEntities=t.entities.concat(this.owner.entities):this.definedEntities=t.entities||this.owner.entities||null,this.owner.entities=this.entities,this.childEvents=[],t.childEvents)for(e in t.childEvents)t.childEvents.hasOwnProperty(e)&&this.addNewPublicEvent(t.childEvents[e]);this.addNewPrivateEvent("peer-entity-added"),this.addNewPrivateEvent("peer-entity-removed")},events:{load:function(){var t=0,e="",i="",o=this.definedEntities,n=null;if(this.definedEntities=!1,o)for(t=0;t<o.length;t++){for(e in n={properties:{parent:this.owner}},o[t])if("properties"===e)for(i in o[t].properties)o[t].properties.hasOwnProperty(i)&&(n.properties[i]=o[t].properties[i]);else n[e]=o[t][e];this.addEntity(new platformer.Entity(o[t].id?o[t]:platformer.game.settings.entities[o[t].type],n))}},"add-entity":function(t){this.addEntity(t)},"remove-entity":function(t){this.removeEntity(t)},"child-entity-updated":function(t){this.updateChildEventListeners(t)}},methods:{addNewPublicEvent:function(t){var e=0;for(this.addNewPrivateEvent(t),e=0;e<this.childEvents.length;e++)if(this.childEvents[e]===t)return;this.childEvents.push(t),this.addEventListener(t,function(t){return function(e,i){this.triggerOnChildren(t,e,i)}}(t))},addNewPrivateEvent:function(t){var e=0,i=0;if(!this.messages[t])for(this.messages[t]=[],e=0;e<this.entities.length;e++)if(this.entities[e].messages[t])for(i=0;i<this.entities[e].messages[t].length;i++)this.addChildEventListener(this.entities[e],t,this.entities[e].messages[t][i].callback,this.entities[e].messages[t][i].scope)},updateChildEventListeners:function(t){this.removeChildEventListeners(t),this.addChildEventListeners(t)},addChildEventListeners:function(t){var e="",i=0;for(e in this.messages)if(t.messages[e])for(i=0;i<t.messages[e].length;i++)this.addChildEventListener(t,e,t.messages[e][i].callback,t.messages[e][i].scope)},removeChildEventListeners:function(t){var e=null,i=null,o=null,n=0;if(t.containerListener){for(e=t.containerListener.events,i=t.containerListener.messages,o=t.containerListener.scopes,n=0;n<e.length;n++)this.removeChildEventListener(t,e[n],i[n],o[n]);t.containerListener=null}},addChildEventListener:function(t,e,i,o){t.containerListener||(t.containerListener={events:[],messages:[],scopes:[]}),t.containerListener.events.push(e),t.containerListener.messages.push(i),t.containerListener.scopes.push(o),this.bind(e,i,o)},removeChildEventListener:function(t,e,i,o){var n=t.containerListener.events,s=t.containerListener.messages,a=t.containerListener.scopes,r=0;for(r=0;r<n.length;r++)n[r]!==e||i&&s[r]!==i||o&&a[r]!==o||this.unbind(e,s[r],a[r])},destroy:function(){var t=0;for(t=0;t<this.entities.length;t++)this.removeChildEventListeners(this.entities[t]),this.entities[t].destroy();this.entities.length=0}},publicMethods:{getEntityById:function(t){for(var e=0,i=null;e<this.entities.length;e++){if(this.entities[e].id===t)return this.entities[e];if(this.entities[e].getEntityById&&(i=this.entities[e].getEntityById(t)))return i}return null},getEntitiesByType:function(t){for(var e=0,i=null,o=[];e<this.entities.length;e++)this.entities[e].type===t&&o.push(this.entities[e]),this.entities[e].getEntitiesByType&&(i=this.entities[e].getEntitiesByType(t))&&(o=o.concat(i));return o},addEntity:function(t){var e=0;for(t.parent=this.owner,t.trigger("adopted"),e=0;e<this.entities.length&&t.triggerEvent("peer-entity-added",this.entities[e]);e++);return this.triggerEventOnChildren("peer-entity-added",t),this.addChildEventListeners(t),this.entities.push(t),this.owner.trigger("child-entity-added",t),t},removeEntity:function(t){var e=0;for(e=0;e<this.entities.length;e++)if(this.entities[e]===t)return this.removeChildEventListeners(t),this.entities.splice(e,1),this.triggerEventOnChildren("peer-entity-removed",t),this.owner.trigger("child-entity-removed",t),t.destroy(),t.parent=null,t;return!1},triggerEventOnChildren:function(t,e,i){return this.messages[t]||this.addNewPrivateEvent(t),this.triggerEvent(t,e,i)},triggerOnChildren:function(t,e,i){return this.messages[t]||this.addNewPrivateEvent(t),this.trigger(t,e,i)}}}},297:function(t,e){t.exports=function(){var t=function(t){var e=!!(536870912&t);return e&&!!(2147483648&t)?-3:e?-5:!!(1073741824&t)?-4:-2};return{id:"tiled-loader",constructor:function(t){this.entities=[],this.layerZ=0,this.followEntity=!1,this.manuallyLoad=t.manuallyLoad||!1,this.level=this.owner.level||t.level||null,this.unitsPerPixel=this.owner.unitsPerPixel||t.unitsPerPixel||1,this.images=this.owner.images||t.images||!1,this.imagesScale=this.owner.imagesScale||t.imagesScale||this.unitsPerPixel,this.layerZStep=this.owner.zStep||t.zStep||1e3,this.separateTiles=this.owner.separateTiles||t.separateTiles||!1,this.entityPositionX=this.owner.entityPositionX||t.entityPositionX||"center",this.entityPositionY=this.owner.entityPositionY||t.entityPositionY||"bottom"},events:{"scene-loaded":function(t){this.manuallyLoad||this.loadLevel({level:this.level||t.level,persistentData:t})},"load-level":function(t){this.loadLevel(t)}},methods:{loadLevel:function(t){var e=t.level,i=0,o=!1;for("string"==typeof e&&(e=platformer.game.settings.levels[e]);i<e.layers.length;i++)o=this.setupLayer(e.layers[i],e,o),this.separateTiles&&(o=!1);this.owner.trigger("world-loaded",{width:e.width*e.tilewidth*this.unitsPerPixel,height:e.height*e.tileheight*this.unitsPerPixel,camera:this.followEntity}),this.owner.removeComponent(this)},setupLayer:function(e,i,o){var n=this.images||[],s=i.tilesets,a=i.tilewidth,r=i.tileheight,l=0,h=0,p=0,c="",m=0,d=null,u=null,y="",g=null,f=null,b=!0,x=!1,_=function(e,i){var l=i.width,h=i.height,p=i.tileheight||r,c=i.tilewidth||a,m=0,d=null,u=null,y=null,g=null,f=!1,b=null,x=null,_=0,v=0,w=0,C=0;if(d=JSON.parse(JSON.stringify(platformer.game.settings.entities[e])),u={},y=[],g=[],"collision-layer"===e)for(x=[],v=0;v<s.length;v++)if((b=s[v]).tileproperties)for(w in b.tileproperties)b.tileproperties[w].jumpThrough&&x.push(b.firstgid+ +w-1);for(d.properties=d.properties||{},d.properties.width=c*l*this.unitsPerPixel,d.properties.height=p*h*this.unitsPerPixel,d.properties.columns=l,d.properties.rows=h,d.properties.tileWidth=c*this.unitsPerPixel,d.properties.tileHeight=p*this.unitsPerPixel,d.properties.scaleX=this.imagesScale,d.properties.scaleY=this.imagesScale,d.properties.layerZ=this.layerZ,d.properties.z=this.layerZ,m=i.image?i.image.width/c*(i.image.height/p):s[s.length-1].imagewidth/c*(s[s.length-1].imageheight/p)+s[s.length-1].firstgid,v=-1;v<m;v++)u["tile"+v]=v;for(v=0;v<l;v++)for(y[v]=[],g[v]=[],w=0;w<h;w++){if(_=+i.data[v+w*l]-1,g[v][w]="tile"+_,x)for(C=0;C<x.length;C++){x[C]===(268435455&_)&&(_=t(_));break}y[v][w]=_}for(v=0;v<d.components.length;v++)"render-tiles"===d.components[v].type&&(f=d.components[v]),"import"===d.components[v].spriteSheet&&(d.components[v].spriteSheet={images:i.image?[i.image]:n,frames:{width:c*this.unitsPerPixel/this.imagesScale,height:p*this.unitsPerPixel/this.imagesScale},animations:u}),"import"===d.components[v].collisionMap&&(d.components[v].collisionMap=y),"import"===d.components[v].imageMap&&(d.components[v].imageMap=g);return this.layerZ+=this.layerZStep,"render-layer"===e&&o&&o.tileHeight===p&&o.tileWidth===c?(o.trigger("add-tiles",f),o):this.owner.addEntity(new platformer.Entity(d,{properties:{}}))}.bind(this);if(0===n.length)for(p=0;p<s.length;p++)platformer.assets[s[p].name]?n.push(platformer.assets[s[p].name]):(console.warn('Component tiled-loader: Cannot find the "'+s[p].name+'" sprite sheet. Add it to the list of assets in config.json and give it the id "'+s[p].name+'".'),n.push(s[p].image));else for(n=n.slice(),p=0;p<n.length;p++)platformer.assets[n[p]]&&(n[p]=platformer.assets[n[p]]);if("tilelayer"===e.type){if(d="render-layer",e.properties&&e.properties.entity)d=e.properties.entity;else switch(e.name){case"collision":d="collision-layer";break;case"action":for(d="tile-layer",p=0;p<i.layers.length;p++)("collision"===i.layers[p].name||i.layers[p].properties&&"collision-layer"===i.layers[p].properties.entity)&&(b=!1);b||(d="render-layer")}if("tile-layer"===d)return _("collision-layer",e),_("render-layer",e);if("collision-layer"!==d)return _(d,e);_(d,e)}else{if("imagelayer"===e.type)return _("render-layer",function(t){var e={data:[1],image:"",height:1,name:t.name,type:"tilelayer",width:1,tileheight:r,tilewidth:a,x:t.x,y:t.y,properties:t.properties||{}};return platformer.assets[t.name]?(e.image=platformer.assets[t.name],e.tileheight=e.image.height,e.tilewidth=e.image.width):(console.warn('Component tiled-loader: Cannot find the "'+t.name+'" sprite sheet. Add it to the list of assets in config.json and give it the id "'+t.name+'".'),e.image=t.image),e}(e));if("objectgroup"===e.type){for(m=0;m<e.objects.length;m++){for(d=e.objects[m],p=0;p<s.length&&!(s[p].firstgid>d.gid);p++)g=s[p];if(y="",""!==d.type?y=d.type:""!==d.name?y=d.name:g.tileproperties[d.gid-g.firstgid]&&(g.tileproperties[d.gid-g.firstgid].entity?y=g.tileproperties[d.gid-g.firstgid].entity:g.tileproperties[d.gid-g.firstgid].type&&(y=g.tileproperties[d.gid-g.firstgid].type)),""!==y){if(f={},g.tileproperties&&g.tileproperties[d.gid-g.firstgid])for(p in g.tileproperties[d.gid-g.firstgid])g.tileproperties[d.gid-g.firstgid].hasOwnProperty(p)&&(0===(x=parseFloat(g.tileproperties[d.gid-g.firstgid][p]))||x?f[p]=x:"true"===g.tileproperties[d.gid-g.firstgid][p]?f[p]=!0:"false"===g.tileproperties[d.gid-g.firstgid][p]?f[p]=!1:f[p]=g.tileproperties[d.gid-g.firstgid][p]);for(p in d.properties)if(d.properties.hasOwnProperty(p))if("string"==typeof(u=d.properties[p]))if(0===(x=parseFloat(u))||x)f[p]=x;else if("true"===u)f[p]=!0;else if("false"===u)f[p]=!1;else if(u.length>2&&("{"===u[0]&&"}"===u[u.length-1]||"["===u[0]&&"]"===u[u.length-1]))try{f[p]=JSON.parse(u)}catch(t){f[p]=u}else f[p]=u;else f[p]=u;for(c in l=f.width=(d.width||a)*this.unitsPerPixel,h=f.height=(d.height||r)*this.unitsPerPixel,y&&platformer.game.settings.entities[y]&&platformer.game.settings.entities[y].properties&&(f.width=platformer.game.settings.entities[y].properties.width||f.width,f.height=platformer.game.settings.entities[y].properties.height||f.height),f.x=d.x*this.unitsPerPixel,"left"===this.entityPositionX?f.regX=0:"center"===this.entityPositionX?(f.regX=f.width/2,f.x+=l/2):"right"===this.entityPositionX&&(f.regX=f.width,f.x+=l),f.y=d.y*this.unitsPerPixel,void 0===d.gid&&(f.y+=f.height),"bottom"===this.entityPositionY?f.regY=f.height:"center"===this.entityPositionY?(f.regY=f.height/2,f.y-=h/2):"top"===this.entityPositionY&&(f.regY=0,f.y-=h),f.scaleX=this.imagesScale,f.scaleY=this.imagesScale,f.layerZ=this.layerZ,f.z?f.z+=this.layerZ:y&&platformer.game.settings.entities[y]&&platformer.game.settings.entities[y].properties&&platformer.game.settings.entities[y].properties.z?f.z=this.layerZ+platformer.game.settings.entities[y].properties.z:f.z=this.layerZ,f.parent=this.owner,(d=this.owner.addEntity(new platformer.Entity(platformer.game.settings.entities[y],{properties:f}))).originalProperties={},f)"entity"!==c&&"height"!==c&&"width"!==c&&"parent"!==c&&"x"!==c&&"y"!==c&&"z"!==c&&(d.originalProperties[c]=f[c]);d&&d.camera&&(this.followEntity={entity:d,mode:d.camera})}}return this.layerZ+=this.layerZStep,!1}}return!1},destroy:function(){this.entities.length=0}}}}()},298:function(t,e){t.exports={id:"tiled-exporter",constructor:function(t){this.ignoreTypes=t.ignoreTypes||[],this.objectTemplate={gid:1,height:0,name:"",properties:{},type:"",visible:!0,width:0,x:0,y:0},this.levelTemplate={height:32,layers:[{height:32,name:"Object Layer 1",objects:[],opacity:1,type:"objectgroup",visible:!0,width:57,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:16,tilesets:[{firstgid:1,image:"../images/entities.png",imageheight:64,imagewidth:128,margin:0,name:"entities",properties:{},spacing:0,tileheight:16,tileproperties:{},tilewidth:16}],tilewidth:16,version:1,width:57}},events:{"export-level":function(){var t=null,e=!1,i=this.levelTemplate.layers[0].objects=[],o=null,n=0,s=0,a="";for(n=0;n<this.owner.entities.length;n++){for(t=this.owner.entities[n],s=0;s<this.ignoreTypes.length;s++)if(t.type===this.ignoreTypes[s]||"-li"===t.type.substr(t.type.length-3,3)){e=!0;break}if(e)e=!1;else{for(a in o={type:t.type,x:(t.x||0)-(t.regX||8),y:(t.y||0)-(t.regY||8),width:t.width||0,height:t.height||0,properties:{flipped:!!t.flipped,color:t.color||"",orientation:t.flipped?-(t.orientation||0):t.orientation||0,undraggable:!0}},t.originalProperties)t.originalProperties.hasOwnProperty(a)&&(o.properties[a]=t.originalProperties[a]);i.push(o)}}console.log(JSON.stringify(this.levelTemplate,null,4))}},methods:{destroy:function(){this.levelTemplate=null,this.objectTemplate=null}}}},299:function(t,e){t.exports=function(){var t=function(t){return function(e,i){for(var o=0;o<this.links.length;o++)this.links[o].trigger(t,e,i)}};return{id:"entity-linker",constructor:function(e){var i="";if(e.events)for(i in e.events)e.events.hasOwnProperty(i)&&this.addEventListener(i,t(e.events[i]));this.linkId=e.linkId||this.owner.linkId||"linked",this.owner.linkId||(this.owner.linkId=this.linkId),this.addEventListener("to-"+this.linkId+"-entities",t("from-"+this.linkId+"-entities")),this.addEventListener("from-"+this.linkId+"-entities",function(t){this.owner.trigger(t.message,t.value,t.debug)}.bind(this)),this.links=[],this.message={message:"",value:null},this.linkMessage={entity:this.owner,linkId:this.linkId,reciprocate:!1},this.owner.parent&&this.resolveAdoption()},events:{adopted:function(t){this.resolveAdoption(t)},"link-entity":function(t){var e=0,i=!1;if(t.linkId===this.linkId&&t.entity!==this.owner){for(;e<this.links.length;e++)if(this.links[e]===t.entity){i=!0;break}i||(this.links.push(t.entity),t.reciprocate&&(this.linkMessage.reciprocate=!1,t.entity.trigger("link-entity",this.linkMessage)))}},"unlink-entity":function(t){for(var e=0;e<this.links.length;e++)if(t.entity===this.links[e]){this.links.splice(e,1);break}}},methods:{resolveAdoption:function(){for(var t=this.owner.parent;t.parent;)t=t.parent;this.linkMessage.reciprocate=!0,t.trigger("link-entity",this.linkMessage,!0)},destroy:function(){for(var t=0;t<this.links.length;t++)this.links[t].trigger("unlink-entity",this.linkMessage);this.links.length=0}}}}()},300:function(t,e){t.exports=function(){var t=function(t,e){return"string"==typeof t?function(i){e.trigger(t,i),i.preventDefault()}:Array.isArray(t)?function(i){var o=0;for(o=0;o<t.length;o++)e.trigger(t[o],i);i.preventDefault()}:function(i){e.trigger(t.event,t.message),i.preventDefault()}};return{id:"handler-render-dom",constructor:function(e){var i="",o="";for(i in this.element=this.owner.element=document.createElement("div"),this.owner.rootElement.appendChild(this.element),this.owner.element=this.element,e)if("style"===i)for(o in e[i])e[i].hasOwnProperty(o)&&(this.element.style[o]=e[i][o]);else"type"!==i&&(0===i.indexOf("on")?this.element[i]=t(e[i],this.owner):this.element[i]=e[i]);this.handleChildren=!0,this.extraContent=!1},events:{load:function(){for(var t=0,e=null;t<this.owner.components.length;t++)this.owner.components[t]!==this&&"handler-render"!==this.owner.components[t].type.substring(0,14)||(e=this.owner.components[t]);e!==this?this.handleChildren=!1:this.addEventListener("handle-render-addition",function(t){var e="";for(e in this.extraContent||(this.extraContent={}),t)t.hasOwnProperty(e)&&(this.extraContent[e]=t[e])})},"child-entity-added":function(t){t.trigger("handle-render-load",{element:this.element})},tick:function(t){var e="",i={};if(this.handleChildren){for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);if(this.extraContent)for(e in this.extraContent)this.extraContent.hasOwnProperty(e)&&(i[e]=this.extraContent[e]);if(this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("handle-render",i),this.extraContent)for(e in this.extraContent)this.extraContent.hasOwnProperty(e)&&(delete this.extraContent[e],delete i[e])}else this.owner.triggerEvent("handle-render-addition",i)}},methods:{destroy:function(){this.owner.rootElement.removeChild(this.element),this.owner.element=null,this.element=null}},publicMethods:{getElementById:function(t){for(var e=0,i=this.element.getElementsByTagName("*");e<i.length;e++)if(i[e].getAttribute("id")===t)return i[e];return document.getElementById(t)}}}}()},301:function(t,e){t.exports=function(){var t={x:1,y:1,t:-1,r:0},e=function(e){var i=+e.substring(4),o=t,n=!!(536870912&i),s=!!(1073741824&i),a=!!(2147483648&i);return o.t=268435455&i,o.x=1,o.y=1,o.r=0,(n||s||a)&&(n&&s&&a?(o.x=-1,o.r=90):n&&a?o.r=90:s&&a?o.r=180:n&&s?o.r=270:n?(o.y=-1,o.r=90):s?o.y=-1:a&&(o.x=-1)),o};return{id:"render-tiles",constructor:function(t){var e,i,o,n=0,s=t.spriteSheet.images.slice(),a=null;if(s[0]&&"string"==typeof s[0])for(s=s.slice(),n=0;n<s.length;n++)platformer.assets[s[n]]&&(s[n]=platformer.assets[s[n]]);i=(a={images:s,frames:t.spriteSheet.frames,animations:t.spriteSheet.animations}).images[0].scaleX||1,o=a.images[0].scaleY||1,1===i&&1===o||(a.frames={width:a.frames.width*i,height:a.frames.height*o,regX:a.frames.regX*i,regY:a.frames.regY*o}),this.controllerEvents=null,this.spriteSheet=new createjs.SpriteSheet(a),this.imageMap=t.imageMap||[],this.doMap=null,this.tiles={},this.tilesToRender=null,this.scaleX=(t.scaleX||1)*(this.owner.scaleX||1)/i,this.scaleY=(t.scaleY||1)*(this.owner.scaleY||1)/o,this.tileWidth=t.tileWidth||this.owner.tileWidth/this.scaleX||10,this.tileHeight=t.tileHeight||this.owner.tileHeight/this.scaleY||10,this.entityCache=t.entityCache||!1,this.worldWidth=this.tilesWidth=this.tileWidth,this.worldHeight=this.tilesHeight=this.tileHeight,e=(t.buffer||3*this.tileWidth/4)*this.scaleX,this.camera={x:-e-1,y:-e-1,buffer:e},this.cache={minX:-1,minY:-1,maxX:-1,maxY:-1},this.doubleBuffer=[null,null],this.currentBuffer=0},events:{"handle-render-load":function(t){var e=0,i=0,o=null,n="",s=this.imageMap,a=[];if(t&&t.stage){for(o=this.stage=t.stage,this.tilesToRender=function(t){var e=[document.createElement("canvas"),document.createElement("canvas")],i=0;return t.___cache||(t.___cache=t.cache,t.cache=function(t,o,n,s,a){i=1-i,this.cacheCanvas=e[i],this.___cache(t,o,n,s,a)}),t}(new createjs.Container),this.tilesToRender.name="entity-managed",e=0;e<s.length;e++)for(a[e]=[],i=0;i<s[e].length;i++)a[e][i]=n=s[e][i],this.tiles[n]||(this.tiles[n]=this.createTile(n));this.imageMap=a,this.tilesWidth=e*this.tileWidth,this.tilesHeight=i*this.tileHeight,this.tilesToRender.scaleX=this.scaleX,this.tilesToRender.scaleY=this.scaleY,this.tilesToRender.z=this.owner.z,o.addChild(this.tilesToRender)}},"peer-entity-added":function(t){var e=0,i=0,o=this.imageMap,n=t.cacheRender,s=null,a=0,r=0,l=0,h=0;if(this.entityCache&&n){for(this.doMap||(this.doMap=[]),s=n.getBounds(),a=Math.max(0,Math.floor((t.y-n.y)/this.tileHeight)),r=Math.min(o[0].length,Math.ceil((t.y-s.y+s.height)/this.tileHeight)),h=Math.max(0,Math.floor((t.x-n.x)/this.tileWidth)),l=Math.min(o.length,Math.ceil((t.x-s.x+s.width)/this.tileWidth)),e=h;e<l;e++)for(this.doMap[e]||(this.doMap[e]=[]),i=a;i<r;i++)this.doMap[e][i]||(this.doMap[e][i]=[]),this.doMap[e][i].push(n);t.removeComponent("render-sprite")}},"add-tiles":function(t){var e=0,i=0,o=t.imageMap,n="",s=0;if(o)for(e=0;e<this.imageMap.length;e++)for(i=0;i<this.imageMap[e].length;i++)s=o[e][i],n=this.imageMap[e][i],this.tiles[n]&&delete this.tiles[n],n=this.imageMap[e][i]+=" "+s,this.tiles[n]||(this.tiles[n]=this.createTile(n))},"camera-loaded":function(t){this.worldWidth=t.width,this.worldHeight=t.height},"camera-update":function(t){var e=0,i=0,o=0,n=this.camera.buffer,s=this.cache,a=null,r=null,l=0,h=0,p=0,c=0,m=0,d=0,u=this.convertCamera(t.viewportLeft,this.worldWidth,this.tilesWidth,t.viewportWidth),y=this.convertCamera(t.viewportTop,this.worldHeight,this.tilesHeight,t.viewportHeight),g=Math.floor(u/this.tileWidth)*this.tileWidth,f=Math.floor(y/this.tileHeight)*this.tileHeight,b=null,x=[],_=null;if(this.tilesToRender.x=t.viewportLeft-u,this.tilesToRender.y=t.viewportTop-y,(Math.abs(this.camera.x-g)>n||Math.abs(this.camera.y-f)>n)&&this.imageMap.length>0&&(this.camera.x=g,this.camera.y=f,p=Math.min(Math.ceil((g+t.viewportWidth+n)/(this.tileWidth*this.scaleX)),this.imageMap.length)-1,m=Math.max(Math.floor((g-n)/(this.tileWidth*this.scaleX)),0),c=Math.min(Math.ceil((f+t.viewportHeight+n)/(this.tileHeight*this.scaleY)),this.imageMap[0].length)-1,d=Math.max(Math.floor((f-n)/(this.tileHeight*this.scaleY)),0),c>s.maxY||d<s.minY||p>s.maxX||m<s.minX)){for(this.tilesToRender.cacheCanvas&&(r=this.tilesToRender.cacheCanvas,this.tilesToRender.uncache()),this.tilesToRender.removeChildAt(0),this.tilesToRender.cache(m*this.tileWidth,d*this.tileHeight,(p-m+1)*this.tileWidth,(c-d+1)*this.tileHeight,1),e=m;e<=p;e++)for(i=d;i<=c;i++)if((i>s.maxY||i<s.minY||e>s.maxX||e<s.minX)&&(b=this.tiles[this.imageMap[e][i]],this.tilesToRender.removeChildAt(0),this.tilesToRender.addChild(b),b.x=(e+.5)*this.tileWidth,b.y=(i+.5)*this.tileHeight,this.tilesToRender.updateCache("source-over"),this.doMap&&this.doMap[e]&&this.doMap[e][i]))for(_=this.doMap[e][i],o=0;o<_.length;o++)_[o].drawn||(_[o].drawn=!0,x.push(_[o]));if(x.length)for(o=0;o<x.length;o++)delete x[o].drawn,this.tilesToRender.removeChildAt(0),this.tilesToRender.addChild(x[o]),this.tilesToRender.updateCache("source-over");r&&(a=this.tilesToRender.cacheCanvas.getContext("2d"),l=(s.maxX-s.minX+1)*this.tileWidth,h=(s.maxY-s.minY+1)*this.tileHeight,a.drawImage(r,0,0,l,h,(s.minX-m)*this.tileWidth,(s.minY-d)*this.tileHeight,l,h),s.minX=m,s.minY=d,s.maxX=p,s.maxY=c)}}},methods:{convertCamera:function(t,e,i,o){return e/this.scaleX===i||e/this.scaleX===o?t:t*(i-o)/(e/this.scaleX-o)},createTile:function(t){var i=1,o=t.split(" "),n=null,s=new createjs.Sprite(this.spriteSheet,0),a=null;for(s.x=0,s.y=0,s.regX=this.tileWidth/2,s.regY=this.tileHeight/2,"tile-1"!==o[0]?(a=e(o[0]),s.scaleX=a.x,s.scaleY=a.y,s.rotation=a.r,s.gotoAndStop("tile"+a.t)):s.gotoAndStop("tile-1");i<o.length;i++)"tile-1"!==o[i]&&(n||((n=new createjs.Container).addChild(s),n.cache(-this.tileWidth/2,-this.tileHeight/2,this.tileWidth,this.tileHeight,1)),a=e(o[i]),s.scaleX=a.x,s.scaleY=a.y,s.rotation=a.r,s.gotoAndStop("tile"+a.t),n.updateCache("source-over"));return n||(s.cache(0,0,this.tileWidth,this.tileHeight,1),s)},destroy:function(){this.tilesToRender.removeAllChildren(),this.stage.removeChild(this.tilesToRender),this.imageMap.length=0,this.tiles=null,this.camera=null,this.stage=null,this.tilesToRender=null}}}}()},302:function(t,e){t.exports=function(){var t=[],e=0,i=[];return{id:"collision-tiles",constructor:function(t){this.collisionMap=t.collisionMap||[],this.tileWidth=t.tileWidth||this.owner.tileWidth||10,this.tileHeight=t.tileHeight||this.owner.tileHeight||10,this.tileHalfWidth=this.tileWidth/2,this.tileHalfHeight=this.tileHeight/2},methods:{getShape:function(i,o,n){var s=null;return e<t.length?(s=t[e],e+=1,s.update(o*this.tileWidth+this.tileHalfWidth,n*this.tileHeight+this.tileHalfHeight)):(t.push(new platformer.CollisionShape(null,{x:o*this.tileWidth+this.tileHalfWidth,y:n*this.tileHeight+this.tileHalfHeight,type:"rectangle",width:this.tileWidth,height:this.tileHeight},"tiles")),s=t[e]),s},addShape:function(t,e,i,o){if(this.collisionMap[i][o]>-1)t.push(this.getShape(e,i,o));else if(this.collisionMap[i][o]<-1)switch(this.collisionMap[i][o]){case-2:e.bottom<=o*this.tileHeight&&t.push(this.getShape(e,i,o));break;case-3:e.left>=(i+1)*this.tileWidth&&t.push(this.getShape(e,i,o));break;case-4:e.top>=(o+1)*this.tileHeight&&t.push(this.getShape(e,i,o));break;case-5:e.right<=i*this.tileWidth&&t.push(this.getShape(e,i,o))}return t}},publicMethods:{getAABB:function(){return{left:0,top:0,right:this.tileWidth*this.collisionMap.length,bottom:this.tileHeight*this.collisionMap.length[0]}},isTile:function(t,e){return!(t<0||e<0||t>=this.collisionMap.length||e>=this.collisionMap[0].length||-1===this.collisionMap[t][e])},getTileShapes:function(t,o){var n=Math.max(Math.floor(t.left/this.tileWidth),0),s=Math.max(Math.floor(t.top/this.tileHeight),0),a=Math.min(Math.ceil(t.right/this.tileWidth),this.collisionMap.length),r=Math.min(Math.ceil(t.bottom/this.tileHeight),this.collisionMap[0].length),l=0,h=0,p=i;for(i.length=0,e=0,l=n;l<a;l++)for(h=s;h<r;h++)this.addShape(p,o,l,h);return p}}}}()},303:function(t,e){t.exports=function(){var t=Box2D.Common.Math.b2Vec2;return{id:"simulation-prepper",constructor:function(t){this.simulator=null,this.activeType=null,this.allowSleep=!0,this.isFixtureSensorList=[],this.owner.isSimulationConstant=t.isSimulationConstant||!1,this.initialPosition={orientation:this.owner.orientation||0,x:this.owner.x||0,y:this.owner.y||0},this.owner.color&&(this.owner.state[this.owner.color]=!0)},events:{"connect-box2D":function(t){this.world=t.world},"box2d-body-initialized":function(){var t=this.owner.body.GetFixtureList();for(this.owner.body.IsSleepingAllowed()||(this.allowSleep=!1),this.owner.body.SetSleepingAllowed(!1),this.activeType=this.owner.body.GetType(),this.owner.body.SetType(Box2D.Dynamics.b2Body.b2_dynamicBody);null!==t;)this.isFixtureSensorList.push(t.IsSensor()),t.SetSensor(!0),t=t.GetNext();this.world&&this.world.GetGravity().Length()&&this.owner.triggerEvent("prepare-for-simulation")},"set-simulator":function(t){this.simulator=t},"remove-from-simulation":function(){this.simulator.triggerEvent("remove-simulant",this.owner)},"prepare-for-simulation":function(){var t=this.owner.body.GetFixtureList(),e=0;for(this.activeType===Box2D.Dynamics.b2Body.b2_staticBody?this.owner.body.SetType(Box2D.Dynamics.b2Body.b2_staticBody):this.activeType===Box2D.Dynamics.b2Body.b2_kinematicBody?this.owner.body.SetType(Box2D.Dynamics.b2Body.b2_kinematicBody):this.activeType===Box2D.Dynamics.b2Body.b2_dynamicBody?this.owner.body.SetType(Box2D.Dynamics.b2Body.b2_dynamicBody):console.warn("Invalid activeType set."),this.allowSleep?this.owner.body.SetSleepingAllowed(!0):this.owner.body.SetSleepingAllowed(!1);null!==t;)this.isFixtureSensorList[e]?t.SetSensor(!0):t.SetSensor(!1),e++,t=t.GetNext();this.owner.triggerEvent("set-drag",!1),this.owner.triggerEvent("lose-focus"),this.owner.state.simulating=!0},"reset-constant-from-simulation":function(){var e=null;if(this.owner.isSimulationConstant){for(this.owner.body.SetSleepingAllowed(!1),this.owner.body.SetType(Box2D.Dynamics.b2Body.b2_dynamicBody),this.owner.body.SetLinearVelocity(new t(0,0)),this.owner.body.SetAngularVelocity(0),this.owner.orientation=this.initialPosition.orientation,this.owner.x=this.initialPosition.x,this.owner.y=this.initialPosition.y,this.owner.matchBodyToEntity(),e=this.owner.body.GetFixtureList();null!==e;)e.SetSensor(!0),e=e.GetNext();this.owner.triggerEvent("set-drag",!0),this.owner.state.simulating=!1}}},methods:{destroy:function(){this.simulator=null}}}}()},304:function(t,e){t.exports=function(){var t=window.devicePixelRatio||1,e=0,i=1e-6,o=function(e){return e<160*t};return{id:"logic-drag-and-droppable",constructor:function(t){this.nextX=this.owner.x,this.nextY=this.owner.y,this.safeX=this.owner.x,this.safeY=this.owner.y,this.grabOffsetX=0,this.grabOffsetY=0,this.owner.state.dragging=!1,this.owner.state.snapBack=!1,this.owner.state.noDrop=!1,this.tryDrop=!1,this.overlapped=!1,this.overlapCount=0,this.considerRecycle=!1,this.destroyMe=!1,this.minSnapSpeed=2,this.pointerX=0,this.pointerY=0,this.sideBar=null,this.simulationManager=null,this.undraggable=this.owner.undraggable||t.undraggable||!1,platformer.settings.debug&&(this.undraggable=!1),this.noDrag=this.undraggable||t.noDrag||!1,this.rotatingCW=!1,this.rotatingCCW=!1,this.rotationAngles=t.rotationAngles||[0],this.rotationIndex=t.startingRotationIndex||Math.ceil(this.rotationAngles/2),this.flipper=t.flip||!1,this.flipped=this.owner.flipped,this.owner.state.rotating=!1,this.targetAngle=0,this.rotateCW=!1,this.rotationSpeed=Math.PI/32,this.finishedRotating=!1,this.checkRotationCollisions=!1,this.finishedFlipping=!1,this.checkFlipCollisions=!1,this.originalZ=0,this.owner.flipper=this.flipper,this.owner.painter=t.painter||!1,this.owner.rotater=this.rotationAngles.length>1,this.owner.cwMaxed=this.owner.cwMaxed||!1,this.owner.ccwMaxed=this.owner.ccwMaxed||!1,this.rotationRate=.01,this.blink=!1,this.progress=0,this.maxProgress=6*Math.PI,this.scaleFactor=.024},events:{"peer-entity-added":function(t){"side-bar"===t.type?this.sideBar=t:"rotation-controls"===t.type?this.rotationControls=t:"simulation-manager"===t.type&&(this.simulationManager=t)},"box2d-body-initialized":function(){this.ready=!0,this.flipped&&this.owner.triggerEvent("flip",!0)},"handle-logic":function(t){var e=t.delta,i=0;this.destroyMe?this.owner.parent.removeEntity(this.owner):(this.owner.state.dragging&&(this.owner.x=this.nextX,this.owner.y=this.nextY),this.owner.state.snapBack&&(i=this.safeX-this.owner.x,Math.abs(i)<this.minSnapSpeed?this.owner.x=this.safeX:this.owner.x+=i/3,i=this.safeY-this.owner.y,Math.abs(i)<this.minSnapSpeed?this.owner.y=this.safeY:this.owner.y+=i/3,this.owner.x===this.safeX&&this.owner.y===this.safeY&&(this.owner.state.snapBack=!1)),this.owner.state.rotating&&this.finishedRotating?(this.owner.state.rotating=!1,this.finishedRotating=!1,0===this.rotationIndex?(this.rotationControls.triggerEvent("lock-cw-button"),this.owner.cwMaxed=!0):(this.rotationControls.triggerEvent("unlock-cw-button"),this.owner.cwMaxed=!1),this.rotationIndex===this.rotationAngles.length-1?(this.rotationControls.triggerEvent("lock-ccw-button"),this.owner.ccwMaxed=!0):(this.rotationControls.triggerEvent("unlock-ccw-button"),this.owner.ccwMaxed=!1),this.rotationControls.triggerEvent("update-rotation-controls")):this.owner.state.rotating&&(this.rotatingCW?this.targetAngle>=this.owner.orientation&&(this.owner.orientation+=this.rotationRate*e,this.targetAngle<=this.owner.orientation&&(this.owner.orientation=this.targetAngle,this.checkRotationCollisions=!0)):this.rotatingCCW&&this.targetAngle<=this.owner.orientation&&(this.owner.orientation-=this.rotationRate*e,this.targetAngle>=this.owner.orientation&&(this.owner.orientation=this.targetAngle,this.checkRotationCollisions=!0))),this.finishedFlipping&&(this.owner.finishedFlipping=!1),this.blink&&this.progress<this.maxProgress&&(this.progress+=e*this.scaleFactor,this.progress>this.maxProgress&&(this.progress=this.maxProgress,this.blink=!1),this.owner.opacity=.5*Math.cos(this.progress)+.5)),this.owner.state.noDrop=!1},"handle-post-collision-logic":function(){var t=0;if(this.owner.state.dragging&&(!this.overlapped&&!this.overlapCount&&this.owner.x<988&&this.owner.y<556&&(this.safeX=this.owner.x,this.safeY=this.owner.y),this.tryDrop&&(this.tryDrop=!1,this.owner.state.dragging=!1,this.considerRecycle&&o(this.pointerX)||(this.overlapped||this.overlapCount)&&o(this.safeX)?(this.sideBar.triggerEvent("add-item-back",this.owner),this.owner.triggerEvent("remove-from-simulation"),this.destroyMe=!0):(this.overlapped||this.overlapCount||this.owner.x>=988||this.owner.y>=556)&&(this.owner.state.snapBack=!0),!this.destroyMe&&(this.owner.flipper||this.owner.rotater))))for(this.rotationControls.triggerEvent("set-focus",this.owner),t=0;t<this.rotationAngles.length;t++)if(this.owner.orientation===this.rotationAngles[t]){this.rotationIndex=t;break}this.owner.state.snapBack&&!this.overlapped&&!this.overlapCount&&this.owner.x<988&&this.owner.y<556&&(this.owner.state.snapBack=!1),this.checkRotationCollisions&&(this.checkRotationCollisions=!1,this.overlapped||this.overlapCount?(this.rotatingCW?(this.rotatingCW=!1,this.rotatingCCW=!0,this.rotationIndex++,this.rotationIndex>=this.rotationAngles.length&&(this.rotationIndex=this.rotationAngles.length-1)):this.rotatingCCW&&(this.rotatingCW=!0,this.rotatingCCW=!1,this.rotationIndex--,this.rotationIndex<0&&(this.rotationIndex=0)),this.targetAngle=this.rotationAngles[this.rotationIndex],this.rotationControls.triggerEvent("rotation-failed")):this.finishedRotating=!0),this.checkFlipCollisions&&(this.checkFlipCollisions=!1,this.overlapped||this.overlapCount?(this.owner.triggerEvent("flip",!0),this.rotationControls.triggerEvent("flip-failed")):this.finishedFlipping=!0),this.overlapped=!1},mousedown:function(e){this.noDrag||(this.originalZ=Math.floor(this.owner.z)+i,i+=1e-6,this.owner.z=1e3,this.pointerX=e.x,this.pointerY=e.y,this.grabOffsetX=e.x/t-this.owner.x,this.grabOffsetY=e.y/t-this.owner.y,this.nextX=e.x/t-this.grabOffsetX,this.nextY=e.y/t-this.grabOffsetY,this.owner.state.dragging=!0),this.undraggable&&this.simulationManager.triggerEvent("highlight-draggable"),this.rotationControls.triggerEvent("set-unfocus")},pressup:function(){this.noDrag||(this.tryDrop=!0,this.owner.z=this.originalZ)},pressmove:function(e){this.noDrag||(this.pointerX=e.x,this.pointerY=e.y,this.nextX=e.x/t-this.grabOffsetX,this.nextY=e.y/t-this.grabOffsetY)},"drag-overlap":function(){this.overlapped=!0},"begin-drag-overlap":function(){this.overlapCount++},"end-drag-overlap":function(){this.overlapCount--},"begin-drag-recycle-overlap":function(){this.overlapCount++,this.considerRecycle=!0},"end-drag-recycle-overlap":function(){this.overlapCount--,this.considerRecycle=!1},"set-drag":function(t){this.undraggable||(this.noDrag=!t)},"lose-focus":function(){this.rotationControls.triggerEvent("set-unfocus")},"rotate-cw":function(){this.owner.state.rotating||(this.rotatingCW=!0,this.rotatingCCW=!1,this.rotationIndex--,this.rotationIndex<0&&(this.rotationIndex=0),this.targetAngle=this.rotationAngles[this.rotationIndex],this.owner.state.rotating=!0)},"rotate-ccw":function(){this.owner.state.rotating||(this.rotatingCW=!1,this.rotatingCCW=!0,this.rotationIndex++,this.rotationIndex>=this.rotationAngles.length&&(this.rotationIndex=this.rotationAngles.length-1),this.targetAngle=this.rotationAngles[this.rotationIndex],this.owner.state.rotating=!0)},flip:function(t){var e=this.owner.body,i=this.owner.ccwMaxed;this.owner.ccwMaxed=this.owner.cwMaxed,this.owner.cwMaxed=i,this.owner.matchBodyToEntity(),this.owner.flipped=this.owner.state.mirrored=!this.owner.state.mirrored,this.flipShapes(e.GetFixtureList()),e.SetPositionAndAngle(e.GetPosition(),-e.GetAngle()),this.owner.matchEntityToBody(),this.rotationIndex=Math.abs(this.rotationIndex-(this.rotationAngles.length-1)),t||(this.checkFlipCollisions=!0),this.rotationControls.triggerEvent("update-rotation-controls")},"blink-if-draggable":function(){this.undraggable||(this.blink=!0,this.progress=0)},mouseover:function(){this.undraggable||(e+=1,document.body.style.cursor="pointer")},mouseout:function(){this.undraggable||0===(e-=1)&&(document.body.style.cursor="default")}},methods:{destroy:function(){this.owner.state.dragging=null,this.owner.state.noDrop=null,this.sidebar=null,e=0,document.body.style.cursor="default"},flipShapes:function(t){var e=0,i=null,o=null,n=null,s=null;if(t){if((i=t.GetShape()).m_vertices){for(o=i.m_vertices.slice();e<o.length;e++)(s=o[e]).x=-s.x,i.m_vertices[o.length-+e-1]=s;i.SetAsArray(i.m_vertices,i.m_vertices.length)}else(n=i.GetLocalPosition()).x=-n.x,i.SetLocalPosition(n);this.flipShapes(t.GetNext())}}}}}()},305:function(t,e){t.exports=function(){var t=Box2D.Common.Math.b2Vec2;return{id:"balloon",constructor:function(e){this.simulating=!1,this.force=new t(0,e.force||-10),this.offset=e.offset||{x:0,y:0}},events:{"prepare-for-simulation":function(){this.simulating=!0},"handle-logic":function(){var e=null;this.simulating&&this.owner.body&&((e=new t(0,0)).x+=this.offset.x,e.y+=this.offset.y,e=this.owner.body.GetWorldPoint(e),this.owner.body.ApplyForce(this.force,e))}}}}()},306:function(t,e){t.exports=function(){var t=Box2D.Common.Math.b2Vec2,e=Box2D.Dynamics.b2BodyDef,i=Box2D.Dynamics.b2Body,o=Box2D.Dynamics.b2FixtureDef,n=Box2D.Collision.Shapes.b2PolygonShape,s=Box2D.Collision.Shapes.b2CircleShape,a=Box2D.Dynamics.b2FilterData,r=Box2D.Dynamics.Joints.b2RevoluteJointDef,l=function(t){return"string"==typeof t?function(e){this.owner.triggerEvent(t,e)}:t.length?function(e){this.owner.trigger(t,e)}:function(){}};return{id:"collision-box2d",constructor:function(t){var e=null,i=null,o=this.owner.resolution||t.resolution||null,n="",s="",a="";if(this.def=t,this.owner.body=null,this.world=null,this.drawScale=1,this.owner.orientation=this.owner.orientation||0,this.connectedEntities=[],o)for(n in o)if(o.hasOwnProperty(n))for(s in"default"===(i=n)&&(i=this.owner.type),o[n]){if("beginContact"===s)for(a in e=o[n][s])e.hasOwnProperty(a)&&this.addEventListener("begin-contact-"+i+"-and-"+a,l(e[a]));if("endContact"===s)for(a in e=o[n][s])e.hasOwnProperty(a)&&this.addEventListener("end-contact-"+i+"-and-"+a,l(e[a]));if("preSolve"===s)for(a in e=o[n][s])e.hasOwnProperty(a)&&this.addEventListener("pre-solve-"+i+"-and-"+a,l(e[a]));if("postSolve"===s)for(a in e=o[n][s])e.hasOwnProperty(a)&&this.addEventListener("post-solve-"+i+"-and-"+a,l(e[a]))}},events:{"connect-box2D":function(r){var l=new e,h=null,p=null,c=new o,m=null,d=null,u=new a,y=[],g=null,f=0,b="",x=0;if(this.world=r.world,this.drawScale=r.drawScale,this.owner.body=null,this.def.body){if(l.userData={},l.userData.entity=this.owner,"static"===this.def.body.type?l.type=i.b2_staticBody:"kinematic"===this.def.body.type?l.type=i.b2_kinematicBody:l.type=i.b2_dynamicBody,void 0!==this.def.body.active&&(l.active=this.def.body.active),void 0!==this.def.body.allowSleep&&(l.allowSleep=this.def.body.allowSleep),void 0!==this.def.body.angle&&(l.angle=this.def.body.angle),void 0!==this.def.body.angularDamping&&(l.angularDamping=this.def.body.angularDamping),void 0!==this.def.body.angularVelocity&&(l.angularVelocity=this.def.body.angularVelocity),void 0!==this.def.body.awake&&(l.awake=this.def.body.awake),void 0!==this.def.body.bullet&&(l.bullet=this.def.body.bullet),void 0!==this.def.body.fixedRotation&&(l.fixedRotation=this.def.body.fixedRotation),void 0!==this.def.body.inertiaScale&&(l.inertiaScale=this.def.body.inertiaScale),void 0!==this.def.body.linearDamping&&(l.linearDamping=this.def.body.linearDamping),this.def.body.position?(l.position.x=(this.owner.x||this.def.body.position.x||0)/this.drawScale,l.position.y=(this.owner.y||this.def.body.position.y||0)/this.drawScale):(l.position.x=(this.owner.x||0)/this.drawScale,l.position.y=(this.owner.y||0)/this.drawScale),this.owner.x=l.position.x*this.drawScale,this.owner.y=l.position.y*this.drawScale,this.owner.body=this.world.CreateBody(l),!this.owner.body)return void console.warn('Unable to create Box2D Body for "'+this.owner.type+'".');for(p=this.def.body.defaultFixtureData?this.def.body.defaultFixtureData:{},x=0;x<this.def.body.fixtureDefinitions.length;x++){if(void 0!==(h=this.def.body.fixtureDefinitions[x]).density?c.density=h.density:"undefined"!==p.density?c.density=p.density:c.density=1,void 0!==h.friction?c.friction=h.friction:void 0!==p.friction?c.friction=p.friction:c.friction=.5,void 0!==h.restitution?c.restitution=h.restitution:void 0!==p.restitution?c.restitution=p.restitution:c.restitution=.2,h.filter&&void 0!==h.filter.categoryBits?u.categoryBits=h.filter.categoryBits:p.filter&&void 0!==p.filter.categoryBits?u.categoryBits=p.filter.categoryBits:u.categoryBits=1,h.filter&&void 0!==h.filter.groupIndex?u.groupIndex=h.filter.groupIndex:p.filter&&void 0!==p.filter.groupIndex?u.groupIndex=p.filter.groupIndex:u.groupIndex=0,h.filter&&void 0!==h.filter.maskBits?u.maskBits=h.filter.maskBits:p.filter&&void 0!==p.filter.maskBits?u.maskBits=p.filter.maskBits:u.maskBits=65535,c.filter=u,void 0!==h.isSensor?c.isSensor=h.isSensor:void 0!==p.isSensor?c.isSensor=p.isSensor:c.isSensor=!1,c.userData={},c.userData.collisionType=this.owner.type,void 0!==h.userData)for(b in h.userData)h.userData.hasOwnProperty(b)&&(c.userData[b]=h.userData[b]);else if(void 0!==p.userData)for(b in p.userData)p.userData.hasOwnProperty(b)&&(c.userData[b]=p.userData[b]);if(h.shape.radius)c.shape=new s(h.shape.radius/this.drawScale),(h.shape.x||h.shape.y)&&c.shape.SetLocalPosition(new t((h.shape.x||0)/this.drawScale,(h.shape.y||0)/this.drawScale));else if(h.shape.points){for(m=[],f=0;f<h.shape.points.length;f++)(d=new t).Set(h.shape.points[f].x/this.drawScale,h.shape.points[f].y/this.drawScale),m[f]=d;c.shape=new n,c.shape.SetAsArray(m,m.length)}else h.shape.halfWidth&&h.shape.halfHeight&&(c.shape=new n,h.shape.x||h.shape.y?c.shape.SetAsOrientedBox(h.shape.halfWidth/this.drawScale,h.shape.halfHeight/this.drawScale,new t((h.shape.x||0)/this.drawScale,(h.shape.y||0)/this.drawScale)):c.shape.SetAsBox(h.shape.halfWidth/this.drawScale,h.shape.halfHeight/this.drawScale));this.owner.body.CreateFixture(c)}}for(this.owner.joints?y=this.owner.joints:this.def.joints&&(y=this.def.joints),x=0;x<y.length;x++)"distance"===(g=y[x]).type?console.warn(g.type+" joints are not implemented at this point"):"friction"===g.type?console.warn(g.type+" joints are not implemented at this point"):"gear"===g.type?console.warn(g.type+" joints are not implemented at this point"):"line"===g.type?console.warn(g.type+" joints are not implemented at this point"):"mouse"===g.type?console.warn(g.type+" joints are not implemented at this point"):"prismatic"===g.type?console.warn(g.type+" joints are not implemented at this point"):"pulley"===g.type?console.warn(g.type+" joints are not implemented at this point"):"revolute"===g.type?this.createRevoluteJoint(g):"weld"===g.type&&console.warn(g.type+" joints are not implemented at this point");this.owner.triggerEvent("box2d-body-initialized",this.owner.body)},"handle-box2d-pre-step":function(){this.matchBodyToEntity()},"handle-box2d":function(){this.matchEntityToBody()},"add-collision-listener":function(t){var e=t,i=e.thisType||this.owner.type;"beginContact"===e.when&&this.addEventListener("begin-contact-"+i+"-and-"+e.otherType,l(e.message)),"endContact"===e.when&&this.addEventListener("end-contact-"+i+"-and-"+e.otherType,l(e.message)),"preSolve"===e.when&&this.addEventListener("pre-solve-"+i+"-and-"+e.otherType,l(e.message)),"postSolve"===e.when&&this.addEventListener("post-solve-"+i+"-and-"+e.otherType,l(e.message))}},methods:{destroy:function(){var t=0;for(this.owner.parent.triggerEvent("body-removed",this.owner.body),this.owner.body=null,this.world=null,this.def=null,t=0;t<this.connectedEntities.length;t++)this.owner.parent.removeEntity(this.connectedEntities[t]);this.connectedEntities.length=0},createRevoluteJoint:function(e){var i,o=null,n="",s=new t(0,0),a=new t(0,0),l="",h=null,p=null;for(n in h={},e.object.properties)e.object.properties.hasOwnProperty(n)&&(h[n]=e.object.properties[n]);if(e.object.offset&&(h.x=this.owner.x+e.object.offset.x,h.y=this.owner.y+e.object.offset.y),p=this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities[e.object.type],{properties:h})),(o=new r).bodyA=this.owner.body,o.bodyB=p.body,e.localAnchorA&&(s.Set(e.localAnchorA.x/this.drawScale,e.localAnchorA.y/this.drawScale),o.localAnchorA=s),e.localAnchorB&&(a.Set(e.localAnchorB.x/this.drawScale,e.localAnchorB.y/this.drawScale),o.localAnchorA=s),void 0!==e.referenceAngle&&(o.referenceAngle=e.referenceAngle),e.collideConnected&&(o.collideConnected=!0),e.enableLimit&&(o.enableLimit=!0),void 0!==e.lowerAngle&&(o.lowerAngle=e.lowerAngle),void 0!==e.upperAngle&&(o.upperAngle=e.upperAngle),e.enableMotor&&(o.enableMotor=!0),void 0!==e.maxMotorTorque&&(o.maxMotorTorque=e.maxMotorTorque),void 0!==e.motorSpeed&&(o.motorSpeed=e.motorSpeed),o.userData={},e.userData)for(l in e.userData)e.userData.hasOwnProperty(l)&&(o.userData[l]=e.userData[l]);i=this.world.CreateJoint(o),this.owner.triggerEvent("joint-attached",i),p.triggerEvent("joint-attached",i),this.connectedEntities.push(p)}},publicMethods:{matchEntityToBody:function(t,e){var i=t||this.owner.body.GetPosition(),o=e||this.owner.body.GetAngle();this.owner.x=i.x*this.drawScale,this.owner.y=i.y*this.drawScale,this.owner.orientation=o},matchBodyToEntity:function(){var e=this.owner.body.GetPosition(),i=null;this.owner.x/this.drawScale===e.x&&this.owner.y/this.drawScale===e.y&&this.owner.orientation===this.owner.body.GetAngle()||(i=new t(this.owner.x/this.drawScale,this.owner.y/this.drawScale),this.owner.body.SetPosition(i),this.owner.body.SetAngle(this.owner.orientation))}}}}()},307:function(t,e){t.exports=function(){var t=window.devicePixelRatio||1,e=function(t){return function(){this.animationFinished||this.lastState>=-1?(this.currentAnimation=t,this.lastState=-1,this.animationFinished=!1,this.sprite.gotoAndPlay(t)):(this.waitingAnimation=t,this.waitingState=-1)}},i=function(t,e){var i=t.replace(/ /g,"").split(",");return"default"===t?function(){return e}:function(t){var o=0;for(o=0;o<i.length;o++)if(!t[i[o]])return!1;return e}},o=function(){var t=function(t,e){var i=e.indexOf("("),o=e.substring(0,i),n=e.substring(i+1,e.indexOf(")"));n.length?t[o].apply(t,n.split(",")):t[o]()};return function(e,i){for(var o=0,n=i.split(".");o<n.length;o++)t(e,n[o])}}();return{id:"render-sprite",constructor:function(){var t={default:0},o=function(e,i){var o=0,n=null,s=1,a=1,r=platformer.settings.supports.smallAssets,l=e.spritesheet||e.spriteSheet,h={framerate:0,images:null,frames:null,animations:null};for(l&&!isNaN(l.framerate)?h.framerate=l.framerate:isNaN(e.framerate)?isNaN(i.framerate)||(h.framerate=i.framerate):h.framerate=e.framerate,l&&Array.isArray(l.images)?h.images=l.images.slice():l&&l.image?h.images=[l.image]:e.images?h.images=e.images.slice():e.image?h.images=[e.image]:i.images?h.images=i.images.slice():i.image?h.images=[i.image]:console.warn('"'+i.type+'" render component: No source image defined.'),o=0;o<h.images.length;o++)"string"==typeof h.images[o]&&(h.images[o]=platformer.assets[h.images[o]],!r&&(h.images[o].scaleX&&1!==h.images[o].scaleX||h.images[o].scaleY&&1!==h.images[o].scaleY)&&(r=!0));if(l&&l.frames?h.frames=l.frames:e.frames?h.frames=e.frames:i.frames?h.frames=i.frames:e.source?(h.frames=[[e.source.x||e.x||0,e.source.y||e.y||0,e.source.width||e.width||h.images[0].width||i.width,e.source.height||e.height||h.images[0].height||i.height,0,e.regX||i.regX||0,e.regY||i.regY||0]],console.warn('"'+i.type+'" render component: The original render-image "source" parameter will soon be deprecated in favor of placing source information as individual parameters directly on the render component.')):h.images[0]&&(h.frames=[[e.x||0,e.y||0,e.width||h.images[0].width*(platformer.settings.supports.smallAssets?2:1)||i.width,e.height||h.images[0].height*(platformer.settings.supports.smallAssets?2:1)||i.height,0,e.regX||i.regX||0,e.regY||i.regY||0]]),r)if(Array.isArray(h.frames))for(n=h.frames,h.frames=[],o=0;o<n.length;o++)s=h.images[n[o][4]].scaleX||1,a=h.images[n[o][4]].scaleY||1,platformer.settings.supports.smallAssets&&(s*=.5,a*=.5),h.frames.push([n[o][0]*s>>0,n[o][1]*a>>0,n[o][2]*s>>0,n[o][3]*a>>0,n[o][4],n[o][5]*s>>0,n[o][6]*a>>0]);else s=h.images[0].scaleX||1,a=h.images[0].scaleY||1,platformer.settings.supports.smallAssets&&(s*=.5,a*=.5),h.frames=function(t,e,i,o){var n=[],s=0,a=t.width,r=t.height,l=t.regX||0,h=t.regY||0,p=0,c=0,m=0,d=0,u=platformer.settings.supports.smallAssets?2:1;for(s=0;s<e.length;s++)for(p=e[s].width*u-a+1,c=e[s].height*u-r+1,d=0;d<=c;d+=r)for(m=0;m<=p;m+=a)n.push([m*i>>0,d*o>>0,a*i>>0,r*o>>0,s,l*i>>0,h*o>>0]);return n}(h.frames,h.images,s,a);return l&&l.animations?h.animations=l.animations:e.animations?h.animations=e.animations:i.animations?h.animations=i.animations:h.animations=t,h};return function(t){var n=o(t,this.owner),s=function(t,e){var i=null,o="";if(t.animationMap)return t.animationMap;if(Array.isArray(e.frames)&&1===e.frames.length)return null;for(o in i={},e.animations)e.animations.hasOwnProperty(o)&&(i[o]=o);return i}(t,n);this.sprite=null,this.stage=null,this.rotate=t.rotate||!1,this.mirror=t.mirror||!1,this.flip=t.flip||!1,this.stateBased=s&&!1!==t.stateBased,this.eventBased=s&&!1!==t.eventBased,this.hover=!1,this.click=!1,this.touch=!1,this.forcePlaythrough=this.owner.forcePlaythrough||t.forcePlaythrough||!1,this.initialScaleX=t.scaleX||1,this.initialScaleY=t.scaleY||1,this.imageScaleX=(n.images[0].scaleX||1)*(platformer.settings.supports.smallAssets?.5:1),this.imageScaleY=(n.images[0].scaleY||1)*(platformer.settings.supports.smallAssets?.5:1),this.lastOwnerScaleX=this.owner.scaleX=this.owner.scaleX||1,this.lastOwnerScaleY=this.owner.scaleY=this.owner.scaleY||1,t.acceptInput&&(this.hover=t.acceptInput.hover||!1,this.click=t.acceptInput.click||!1,this.touch=t.acceptInput.touch||!1,this.camera={x:0,y:0},this.addEventListener("camera-update",function(t){this.camera.x=t.viewportLeft,this.camera.y=t.viewportTop}.bind(this))),(this.eventBased||this.stateBased)&&(!function(t,o){var n="",s="";for(n in t.followThroughs={},t.checkStates=[],o)o.hasOwnProperty(n)&&("!"===(s=o[n])[s.length-1]?(s=s.substring(0,s.length-1),t.followThroughs[s]=!0):t.followThroughs[s]=!1,t.eventBased&&t.addEventListener(n,e(s)),t.stateBased&&t.checkStates.push(i(n,s)))}(this,s),this.currentAnimation=s.default||""),this.sprite=new createjs.Sprite(new createjs.SpriteSheet(n),this.currentAnimation||0),this.sprite.addEventListener("animationend",function(t,e,i){this.owner.trigger("animation-ended",i),this.waitingAnimation?(this.currentAnimation=this.waitingAnimation,this.waitingAnimation=!1,this.lastState=this.waitingState,this.animationFinished=!1,this.sprite.gotoAndPlay(this.currentAnimation)):this.animationFinished=!0}.bind(this)),t.pins?(this.container=new createjs.Container,this.container.addChild(this.sprite),this.sprite.z=0,this.addPins(t.pins,n.frames)):this.container=this.sprite,t.acceptInput&&t.acceptInput.hitArea&&("string"==typeof t.acceptInput.hitArea?this.container.hitArea=this.setHitArea(t.acceptInput.hitArea,platformer.settings.supports.smallAssets?.5:1):this.container.hitArea=this.setHitArea("r("+(this.owner.x||0)+","+(this.owner.y||0)+","+(this.owner.width||0)+","+(this.owner.height||0)+")")),t.mask&&(this.container.mask=this.setMask(t.mask)),this.pinTo=t.pinTo||!1,this.pinTo&&this.owner.triggerEvent("pin-me",this.pinTo),this.container.scaleX=this.initialScaleX*this.owner.scaleX,this.container.scaleY=this.initialScaleY*this.owner.scaleY,this.sprite.scaleX/=this.imageScaleX,this.sprite.scaleY/=this.imageScaleY,this.scaleX=this.container.scaleX,this.scaleY=this.container.scaleY,this.skewX=this.owner.skewX||t.skewX,this.skewY=this.owner.skewY||t.skewY,this.offsetZ=t.offsetZ||0,this.container.hidden=t.hidden||!1,this.state=this.owner.state,this.stateChange=!1,this.lastState=-1,this.waitingAnimation=!1,this.waitingState=0,this.playWaiting=!1,this.animationFinished=!1,this.stateChange=!0,t.cache&&(this.updateSprite(),this.owner.cacheRender=this.container)}}(),events:{"handle-render-load":function(t){t&&t.stage&&this.addStage(t.stage)},"handle-render":function(t){if(!this.stage){if(this.pinTo)return;if(!this.addStage(t.stage))return console.warn('No CreateJS Stage, removing render component from "'+this.owner.type+'".'),void this.owner.removeComponent(this)}this.updateSprite()},"logical-state":function(){this.stateChange=!0},"hide-sprite":function(){this.container.hidden=!0},"show-sprite":function(){this.container.hidden=!1},"pin-me":function(t){this.pins&&this.pins[t]&&this.owner.trigger("attach-pin",this.pins[t])},"attach-pin":function(t){t.pinId===this.pinTo&&(this.stage=t.container,this.stage.addChild(this.container),this.addInputs(),this.pinnedTo=t)},"remove-pin":function(t){t.pinId===this.pinTo&&(this.stage.removeChild(this.container),this.stage=null,this.pinnedTo=null)},"dispatch-event":function(t){this.sprite.dispatchEvent(t)}},methods:{addStage:function(t){return t&&!this.pinTo?(this.stage=t,this.stage.addChild(this.container),this.addInputs(),t):null},updateSprite:function(){var t=function(t,e){return t.z-e.z};return function(){var e=!1,i=0,o=null;if(this.pinnedTo?this.pinnedTo.frames&&this.pinnedTo.frames[this.pinnedTo.sprite.currentFrame]?(this.container.x=this.pinnedTo.frames[this.pinnedTo.sprite.currentFrame].x,this.container.y=this.pinnedTo.frames[this.pinnedTo.sprite.currentFrame].y,this.container.z!==this.pinnedTo.frames[this.pinnedTo.sprite.currentFrame].z&&(this.stage&&(this.stage.reorder=!0),this.container.z=this.pinnedTo.frames[this.pinnedTo.sprite.currentFrame].z),this.container.rotation=this.pinnedTo.frames[this.pinnedTo.sprite.currentFrame].angle||0,this.container.visible=!0):this.pinnedTo.defaultPin?(this.container.x=this.pinnedTo.defaultPin.x,this.container.y=this.pinnedTo.defaultPin.y,this.container.z!==this.pinnedTo.defaultPin.z&&(this.stage&&(this.stage.reorder=!0),this.container.z=this.pinnedTo.defaultPin.z),this.container.rotation=this.pinnedTo.defaultPin.angle||0,this.container.visible=!0):this.container.visible=!1:(this.container.x=this.owner.x,this.container.y=this.owner.y,this.container.z!==this.owner.z+this.offsetZ&&(this.stage&&(this.stage.reorder=!0),this.container.z=this.owner.z+this.offsetZ),(this.owner.opacity||0===this.owner.opacity)&&(this.container.alpha=this.owner.opacity)),this.container.reorder&&(this.container.reorder=!1,this.container.sortChildren(t)),this.skewX&&(this.container.skewX=this.skewX),this.skewY&&(this.container.skewY=this.skewY),this.owner.scaleX===this.lastOwnerScaleX&&this.owner.scaleY===this.lastOwnerScaleY||(this.container.scaleX=this.initialScaleX*this.owner.scaleX,this.container.scaleY=this.initialScaleY*this.owner.scaleY,this.sprite.scaleX/=this.imageScaleX,this.sprite.scaleY/=this.imageScaleY,this.scaleX=this.container.scaleX,this.scaleY=this.container.scaleY,this.lastOwnerScaleX=this.owner.scaleX,this.lastOwnerScaleY=this.owner.scaleY),(this.rotate||this.mirror||this.flip)&&(o=(180*this.owner.orientation/Math.PI+360)%360,this.rotate&&(this.container.rotation=o),this.mirror&&(this.container.scaleX=o>90&&o<270?-this.scaleX:this.scaleX),this.flip&&(this.container.scaleY=o>180?this.scaleY:-this.scaleY)),this.stateBased&&this.stateChange){if(void 0!==this.state.hidden&&(this.container.hidden=this.state.hidden),this.mirror||(this.state.mirrored?this.container.scaleX=-this.scaleX:!1===this.state.mirrored&&(this.container.scaleX=this.scaleX)),this.flip||(this.state.flipped?this.container.scaleY=-this.scaleY:!1===this.state.flipped&&(this.container.scaleY=this.scaleY)),this.checkStates)for(;i<this.checkStates.length;i++)if(e=this.checkStates[i](this.state)){this.currentAnimation!==e?!this.followThroughs[this.currentAnimation]&&(!this.forcePlaythrough||this.animationFinished||this.lastState>=+i)?(this.currentAnimation=e,this.lastState=+i,this.animationFinished=!1,this.sprite.gotoAndPlay(e)):(this.waitingAnimation=e,this.waitingState=+i):this.waitingAnimation&&!this.followThroughs[this.currentAnimation]&&(this.waitingAnimation=!1);break}this.stateChange=!1}}}(),addInputs:function(){var e=function(e,i){return function(o){e.owner.trigger(i,{event:o.nativeEvent,cjsEvent:o,x:o.stageX*t/e.stage.scaleX+e.camera.x,y:o.stageY*t/e.stage.scaleY+e.camera.y,entity:e.owner})}};return function(){var t=null,i=null,o=null,n=null,s=null,a=null,r=null,l=null,h=null;(this.click||this.touch)&&(this.touch&&!this.stage.__touch&&createjs.Touch.enable(this.stage),t=e(this,"mousedown"),a=e(this,"pressmove"),r=e(this,"pressup"),l=e(this,"click"),h=e(this,"dblclick"),this.sprite.addEventListener("mousedown",t),this.sprite.addEventListener("pressmove",a),this.sprite.addEventListener("pressup",r),this.sprite.addEventListener("click",l),this.sprite.addEventListener("dblclick",h)),this.hover&&(this.stage.enableMouseOver(),i=e(this,"mouseover"),o=e(this,"mouseout"),n=e(this,"rollover"),s=e(this,"rollout"),this.sprite.addEventListener("mouseover",i),this.sprite.addEventListener("mouseout",o),this.container.addEventListener("rollover",n),this.container.addEventListener("rollout",s)),this.removeInputListeners=function(){(this.click||this.touch)&&(this.sprite.removeEventListener("mousedown",t),this.sprite.removeEventListener("pressmove",a),this.sprite.removeEventListener("pressup",r),this.sprite.removeEventListener("click",l),this.sprite.removeEventListener("dblclick",h)),this.hover&&(this.sprite.removeEventListener("mouseover",i),this.sprite.removeEventListener("mouseout",o),this.container.removeEventListener("rollover",n),this.container.removeEventListener("rollout",s))}}}(),addPins:function(t,e){var i=0,o=0,n=null,s=platformer.settings.supports.smallAssets?2:1,a=(e.regX||0)*s,r=(e.regY||0)*s,l=Array.isArray(e);for(this.pinsToRemove=this.pinsToRemove||[],this.pins={};i<t.length;i++){if(this.pinsToRemove.push(t[i].pinId),l&&(a=(e[0][5]||0)/this.imageScaleX,r=(e[0][6]||0)/this.imageScaleY),this.pins[t[i].pinId]=n={pinId:t[i].pinId,sprite:this.sprite,container:this.container},"number"==typeof t[i].x&&"number"==typeof t[i].y&&(n.defaultPin={x:t[i].x-a,y:t[i].y-r,z:t[i].z||1e-8,angle:t[i].angle||0}),t[i].frames)for(n.frames=[],o=0;o<t[i].frames.length;o++)t[i].frames[o]?(l&&(a=(e[o][5]||0)/this.imageScaleX,r=(e[o][6]||0)/this.imageScaleY),"number"==typeof t[i].frames[o].x&&"number"==typeof t[i].frames[o].y?n.frames.push({x:t[i].frames[o].x-a,y:t[i].frames[o].y-r,z:t[i].frames[o].z||(n.defaultPin?n.defaultPin.z:1e-8),angle:t[i].frames[o].angle||(n.defaultPin?n.defaultPin.angle:0)}):n.defaultPin?"number"==typeof t[i].frames[o].x?n.frames.push({x:t[i].frames[o].x-a,y:n.defaultPin.y,z:t[i].frames[o].z||n.defaultPin.z,angle:t[i].frames[o].angle||n.defaultPin.angle}):"number"==typeof t[i].frames[o].y?n.frames.push({x:n.defaultPin.x,y:t[i].frames[o].y-r,z:t[i].frames[o].z||n.defaultPin.z,angle:t[i].frames[o].angle||n.defaultPin.angle}):n.frames.push(null):n.frames.push(null)):n.frames.push(null);this.owner.trigger("attach-pin",n)}},removePins:function(){var t=0;if(this.pins&&this.pinsToRemove){for(;t<this.pinsToRemove.length;t++)this.owner.trigger("remove-pin",this.pins[this.pinsToRemove[t]].pinId),delete this.pins[this.pinsToRemove[t]];this.pinsToRemove.length=0}},setMask:function(t){var e=new createjs.Shape,i=e.graphics;return e.x=0,e.y=0,"string"==typeof t?o(i,t):t.radius?i.dc(t.x||0,t.y||0,t.radius):i.r(t.x||0,t.y||0,t.width||this.owner.width||0,t.height||this.owner.height||0),e},setHitArea:function(){var t={};return function(e,i){var n=null,s=null,a="";return a="string"==typeof e?e:JSON.stringify(e),(n=t[a])||(s=(n=new createjs.Shape).graphics,n.x=0,n.y=0,s.beginFill("#000"),"string"==typeof e?o(s,e):e.radius?s.dc(e.x||0,e.y||0,e.radius):s.r(e.x||0,e.y||0,e.width||this.owner.width||0,e.height||this.owner.height||0),n.scaleX=i||1,n.scaleY=i||1,t[a]=n),n}}(),destroy:function(){this.removeInputListeners&&this.removeInputListeners(),this.stage&&(this.stage.removeChild(this.container),this.stage=null),this.removePins(),this.followThroughs=null,this.sprite=null,this.container=null}}}}()},308:function(t,e){t.exports={id:"collision-audio",constructor:function(t){this.simulating=!1,this.sound=t.audioId,this.min=void 0!==t.min?t.min:4,this.max=void 0!==t.max?t.max:12,0===this.min&&console.warn("Setting the min value to 0 will result in excessive audio plays on contact.",this),this.min>=this.max&&console.warn("Your min and max values are equal or reversed. This is BAD. The min must be less than the max.",this)},events:{"prepare-for-simulation":function(){this.simulating=!0},"hit-something":function(t){var e=0;this.simulating&&(e=Math.abs(t.impulse.normalImpulses[0]))>this.min&&this.owner.trigger("play-sfx",{sound:this.sound,volume:(Math.min(this.max,e)-this.min)/(this.max-this.min),pan:(this.owner.x-500)/450})}}}},309:function(t,e){t.exports=function(){var t={interrupt:createjs.Sound.INTERRUPT_ANY,delay:0,offset:0,loop:0,volume:1,pan:0,length:0,next:!1,events:!1},e={stop:!0,playthrough:!0},i=function(t,e){return t.time-e.time},o=function(e){var o="",n=null,s=0,a=null,r="",l=platformer.game.settings.assets,h="";if("string"==typeof e)o=e,n={};else if(Array.isArray(e)){if("string"==typeof e[0])o=e[0],n={next:[]};else{for(h in o=e[0].sound,n={},e[0])e[0].hasOwnProperty(h)&&(n[h]=e[0][h]);n.next?n.next=n.next.slice():n.next=[]}for(s=1;s<e.length;s++)n.next.push(e[s])}else o=e.sound,n={interrupt:e.interrupt,delay:e.delay,offset:e.offset,loop:e.loop,volume:e.volume,pan:e.pan,length:e.length,next:e.next,events:e.events};if(l[o]){if(l[o].data)for(r in l[o].data)l[o].data.hasOwnProperty(r)&&(n[r]=n[r]||l[o].data[r]);return l[o].assetId&&(o=l[o].assetId),function(e){var s=null,r=0,l=!1,h=!1,p=t.offset,c=!1,m=0,d=0,u=1,y=0,g=0;if(!this.disabled)if((e=e||n)&&e.stop)a&&(e.playthrough?a.remainingLoops=0:(a.stop(),this.removeClip(a)));else{if(e?(c=e.interrupt||n.interrupt||t.interrupt,m=e.delay||n.delay||t.delay,d=e.loop||n.loop||t.loop,u=void 0!==e.volume?e.volume:void 0!==n.volume?n.volume:t.volume,y=e.pan||n.pan||t.pan,g=e.length||n.length||t.length,p=e.offset||n.offset||t.offset,l=e.next||n.next||t.next,h=e.events||n.events||t.events,s=a=createjs.Sound.play(o,c,m,p,d,u,y)):s=a=createjs.Sound.play(o,t.interrupt,t.delay,t.offset,t.loop,t.volume,t.pan),this.vo&&(platformer.voPlaying&&platformer.voPlaying.stop(),platformer.voPlaying=s),s.addEventListener("complete",function(){this.vo&&s===platformer.voPlaying&&(platformer.voPlaying=null),this.onComplete(s,l)}.bind(this)),h){for(s.sequenceEvents=[],r=0;r<h.length;r++)s.sequenceEvents.push({event:h[r].event,time:+h[r].time+p,message:h[r].message});s.sequenceEvents.sort(i)}"playFailed"===s.playState?this.owner.debug&&console.warn('Unable to play "'+o+'".',s):(g&&this.timedAudioClips.push({length:g,progress:0,audio:s,next:l}),s.soundId=o,this.activeAudioClips.push(s))}}}return console.warn('Audio clip "'+o+'" needs to be added to config.js.'),function(){}},n=function(t,e,i){var o=t.replace(/ /g,"").split(",");return"default"===t?function(){return i.call(this),t}:function(e){var n=0;for(n=0;n<o.length;n++)if(!e[o[n]])return!1;return i.call(this),t}};return createjs&&createjs.HTMLAudioPlugin&&createjs.HTMLAudioPlugin.TagPool&&createjs.HTMLAudioPlugin.TagPool.prototype&&(createjs.HTMLAudioPlugin.TagPool.prototype.checkSrcChange=function(){var t=0,e="";if(this.tags.length)for(t=this.tags.length-1,e=this.tags[t].src;t--;)this.tags[t].src=e}),{id:"audio",constructor:function(t){var e="",i=null;if(this.timedAudioClips=[],this.activeAudioClips=[],this.disabled=!1,this.state={},this.stateChange=!1,this.currentState=!1,this.vo=t.vo||this.owner.vo,this.forcePlaythrough=this.owner.forcePlaythrough||t.forcePlaythrough,"boolean"!=typeof this.forcePlaythrough&&(this.forcePlaythrough=!0),t.audioMap)for(e in this.checkStates=[],t.audioMap)t.audioMap.hasOwnProperty(e)&&(i=o(t.audioMap[e]),this.addEventListener(e,i),this.checkStates.push(n(e,t.audioMap[e],i)))},events:{"handle-render":function(t){var i=0,o=null,n=null;for(i=0;i<this.activeAudioClips.length;i++)this.checkTimeEvents(this.activeAudioClips[i]);if(this.timedAudioClips.length)for(n=this.timedAudioClips,this.timedAudioClips=[],i=0;i<n.length;i++)(o=n[i]).progress+=t.delta,o.progress>=o.length?(o.audio.stop(),this.onComplete(o.audio,o.next)):this.timedAudioClips.push(o);if(i=0,this.stateChange){if(this.checkStates)for(this.currentState&&(e.playthrough=this.forcePlaythrough,this.stopAudio()),this.currentState=!1;i<this.checkStates.length;i++)if(o=this.checkStates[i].call(this,this.state)){this.currentState=o;break}this.stateChange=!1}},"logical-state":function(t){var e="";for(e in t)this.state[e]!==t[e]&&(this.stateChange=!0,this.state[e]=t[e])},"audio-mute-toggle":function(){createjs.Sound.setMute(!createjs.Sound.getMute())},"audio-stop":function(t){this.stopAudio(t)},"audio-mute":function(){createjs.Sound.setMute(!0)},"audio-unmute":function(){createjs.Sound.setMute(!1)},"audio-disable":function(){this.stopAudio(),this.disabled=!0},"audio-enable":function(){this.disabled=!1}},methods:{stopAudio:function(t){var e=0;if(t){for(e=this.activeAudioClips.length-1;e>=0;e--)this.activeAudioClips[e].soundId===t&&(this.activeAudioClips[e].stop(),this.activeAudioClips.splice(e,1));for(e=this.timedAudioClips.length-1;e>=0;e--)this.timedAudioClips[e].audio.soundId===t&&this.timedAudioClips.splice(e,1)}else{for(;e<this.activeAudioClips.length;e++)this.activeAudioClips[e].stop();this.activeAudioClips.length=0,this.timedAudioClips.length=0}},checkTimeEvents:function(t,e){var i=0;if(t.sequenceEvents)for(i=t.getPosition();t.sequenceEvents.length&&(e||t.sequenceEvents[0].time<=i);)this.owner.trigger(t.sequenceEvents[0].event,t.sequenceEvents[0].message),t.sequenceEvents.splice(0,1)},onComplete:function(t,e){var i=null;this.removeClip(t),this.checkTimeEvents(t,!0),this.owner.triggerEvent("clip-complete"),e&&e.length?"string"==typeof e?o(e).call(this):((i=e.slice()).splice(0,1),i.length>0?o(e[0]).call(this,{next:i}):o(e[0]).call(this)):this.owner.triggerEvent("sequence-complete")},removeClip:function(t){var e=0;for(e=0;e<this.activeAudioClips.length;e++)if(this.activeAudioClips[e]===t){this.activeAudioClips.splice(e,1);break}},destroy:function(){this.stopAudio()}}}}()},310:function(t,e){t.exports=function(){var t=[],e=[];return{id:"sfx-manager",constructor:function(t){this.channels=[],t.highPriority&&(e=e.concat(t.highPriority))},events:{"handle-logic":function(){},"play-sfx":function(e){var i,o="",n="",s={},a={time:3e4,event:"finished-sfx",message:""},r=0;if("string"==typeof e)n=e,s.events=[a];else{for(o in n=e.sound,e)"sound"!==o&&(s[o]=e[o]);s.events?(s.events=s.events.slice(),s.events.push(a)):s.events=[a]}for(a.message=n,i=this.isHighPriority(n),r=0;r<t.length;r++)if(n==t[r]&&!i)return;(t.length<3||i)&&(this.owner.triggerEvent(n,s),t.push(n),this.channels.push(n))},"finished-sfx":function(e){var i=0;for(i=0;i<t.length;i++)if(t[i]==e){t.splice(i,1);break}for(i=0;i<this.channels.length;i++)if(this.channels[i]==e){this.channels.splice(i,1);break}}},methods:{isHighPriority:function(t){var i=0;for(i=0;i<e.length;i++)if(t==e[i])return!0;return!1},destroy:function(){var e=0,i=0;for(e=0;e<this.channels.length;e++)for(i=0;i<t.length;i++)if(t[i]===this.channels[e]){t.splice(i,1);break}}}}}()},311:function(t,e){t.exports={id:"logic-list-item",constructor:function(t){this.item=this.owner.item||t.item,this.other=null,this.destroyNow=!1,this.count=1,this.owner.state.hidden=!1,this.owner.z=this.owner.z||0,this.owner.opacity=this.owner.opacity||1,this.sideBar=null,this.dragging=!1,this.locked=!1,this.infinite=this.owner.infinite||!1,this.cjsEvent=null,this.savedY=null,this.motion={x:0,y:0},this.owner.newItem&&(this.owner.state["new-item"]=!0)},events:{"peer-entity-added":function(t){"tutorial-in-game"===t.type&&(this.tutorial=t)},"set-side-bar":function(t){this.sideBar=t},"handle-logic":function(){this.destroyNow&&this.owner.parent.removeEntity(this.owner)},"increase-count":function(){this.infinite||(this.count++,this.count>0&&this.owner.triggerEvent("show"))},"decrease-count":function(){this.infinite||(this.count--,0===this.count&&this.owner.triggerEvent("hide"))},hide:function(){this.owner.opacity=.2},show:function(){this.owner.opacity=1},mousedown:function(t){this.locked||(this.cjsEvent=t.cjsEvent,this.motion.x=t.x,this.motion.y=t.y)},pressmove:function(t){var e=0,i=0;this.other?this.locked||this.dragging&&this.other.triggerEvent("dispatch-event",t.cjsEvent):this.cjsEvent?(e=Math.abs(this.motion.x-t.x),i=Math.abs(this.motion.y-t.y),this.sideBar&&this.sideBar.state.scrollable?e>i&&e>5?this.createEntity()||(this.cjsEvent=null,this.scroll(t.y)):i>e&&i>5&&(this.cjsEvent=null,this.scroll(t.y)):this.createEntity()):this.scroll(t.y)},pressup:function(t){var e=0;this.locked||(this.dragging&&this.other.triggerEvent("dispatch-event",t.cjsEvent),this.dragging=!1,this.other=null),this.scrolling&&this.sideBar&&(e=this.owner.y-this.savedY,this.sideBar.triggerEvent("end-swipe",e),this.scrolling=!1)},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},swipe:function(t){null===this.savedY&&(this.savedY=this.owner.y),this.owner.y+=t},up:function(t){null===this.savedY&&(this.savedY=this.owner.y),createjs.Tween.get(this.owner).to({y:this.savedY+72*t},200),this.savedY=null},down:function(t){null===this.savedY&&(this.savedY=this.owner.y),createjs.Tween.get(this.owner).to({y:this.savedY-72*t},200),this.savedY=null}},methods:{createEntity:function(){var t=null,e=null;return!(!this.count||this.destroyNow||(e={x:this.owner.x,y:this.owner.y,from:this.owner.id},this.other=this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities[this.item],{properties:e})),this.other.triggerEvent("dispatch-event",this.cjsEvent),this.owner.triggerEvent("decrease-count"),this.dragging=!0,this.tutorial.triggerEvent("used-list-item"),this.owner.newItem&&(this.owner.newItem=!1,this.owner.state["new-item"]=!1,t=window.localStorageCombined.getItem("cith-ie-newItems"),(t=JSON.parse(t))[this.owner.type]=!1,window.localStorageCombined.setItem("cith-ie-newItems",JSON.stringify(t))),0))},scroll:function(t){var e=t-this.motion.y;this.sideBar&&(this.sideBar.triggerEvent("swipe",e),this.motion.y=t,this.scrolling=!0)}}}},312:function(t,e){t.exports=function(){var t=0;return{id:"mouse-overable",constructor:function(){},events:{mouseover:function(){t+=1,document.body.style.cursor="pointer"},mouseout:function(){0===(t-=1)&&(document.body.style.cursor="default")}},methods:{destroy:function(){t=0,document.body.style.cursor="default"}}}}()},313:function(t,e){t.exports={id:"logic-hint-object",constructor:function(){this.owner.opacity=0,this.show=!1,this.progress=Math.PI,this.maxProgress=7.25*Math.PI,this.owner.hintIndex=this.owner.hintIndex||0,this.owner.state.mirrored=!!this.owner.flipped},events:{"peer-entity-added":function(t){"simulation-manager"===t.type&&t.triggerEvent("add-hint-object",this.owner)},"handle-logic":function(t){var e=t.delta;this.show&&this.progress<this.maxProgress&&(this.progress+=.006*e,this.progress>this.maxProgress&&(this.progress=this.maxProgress),this.owner.opacity=.25*Math.cos(this.progress)+.25)},show:function(){this.show=!0},reset:function(){this.progress=Math.PI}}}},314:function(t,e){t.exports={id:"launcher",constructor:function(t){this.goal=null,this.fixture=null,this.ready=!1,this.exitMagnitude=t.exitMagnitude||40,this.entities=[],this.launching=0,this.lid=null},events:{"prepare-for-simulation":function(){var t=null;this.ready=!0,this.lid&&((t=this.lid.GetFilterData().Copy()).maskBits=0,this.lid.SetFilterData(t)),this.button&&this.button.SetSensor(!0)},"box2d-body-initialized":function(t){for(var e=t.GetFixtureList();(!this.goal||!this.fixture||!this.lid)&&e;)e.GetUserData().goal?this.goal=e:e.GetUserData().button?this.button=e:e.GetUserData().preSimulation&&(this.lid=e),e=e.GetNext()},"rocket-check":function(t){!this.ready||this.launching||this.rocket||"rocket"!==t.entity.type||(this.rocket=t.entity)},"handle-logic":function(){var t=null,e=null,i=null;this.rocket?(this.owner.state.loaded||(this.rocket.x=this.owner.x,this.rocket.y=this.owner.y-31,this.rocket.orientation=this.owner.orientation,this.rocket.matchBodyToEntity(),this.rocket.body.SetType(0),this.owner.state.loaded=!0,this.button&&this.button.SetSensor(!1)),this.launchRocket&&this.launchRocket!==this.rocket&&(t=this.rocket,this.rocket=null,t.body.SetType(2),e=this.owner.body.GetWorldPoint(this.goal.GetShape().m_centroid).Copy(),i=null,i=t.body.GetWorldCenter().Copy(),e.Subtract(i),e.Normalize(),e.Multiply(-this.exitMagnitude),t.body.SetAngularVelocity(0),t.body.SetLinearVelocity(e),this.owner.triggerEvent("launched"),this.launching=20)):this.owner.state.loaded?(this.owner.state.loaded=!1,this.button&&this.button.SetSensor(!0)):this.launching&&(this.launching-=1),this.launchRocket=!1},launch:function(t){t.entity!==this.rocket&&(this.launchRocket=t.entity)}},methods:{destroy:function(){this.destroyed=!0}}}},315:function(t,e){t.exports={id:"logic-button",constructor:function(t){this.state=this.owner.state,this.state.released=!0,this.state.pressed=!1,this.stateChange="",this.toggle=!!t.toggle,"pressed"===t.state&&(this.stateChange="pressed")},events:{mousedown:function(){this.toggle||this.owner.triggerEvent("pressed")},pressed:function(){this.stateChange="pressed"},pressup:function(){this.toggle?this.state.pressed?this.owner.triggerEvent("released"):this.owner.triggerEvent("pressed"):this.owner.triggerEvent("released")},mouseup:function(){this.toggle?this.state.pressed?this.owner.triggerEvent("released"):this.owner.triggerEvent("pressed"):this.owner.triggerEvent("released")},released:function(){this.stateChange="released"},"handle-logic":function(){this.state.released&&"pressed"===this.stateChange&&(this.stateChange="",this.state.pressed=!0,this.state.released=!1),this.state.pressed&&"released"===this.stateChange&&(this.stateChange="",this.state.pressed=!1,this.state.released=!0)}}}},316:function(t,e){t.exports=function(){var t=["yellow","blue","red"];return{id:"logic-colorer",constructor:function(t){this.color=this.owner.color=this.owner.color||t.color||"yellow",this.owner.state[this.color]=!0},events:{"teleportation-started":function(t){var e=t.state;e[this.color]||(e.yellow=!1,e.blue=!1,e.red=!1,e[this.color]=!0),this.owner.state.coloring=!0},"teleportation-complete":function(){this.owner.state.coloring=!1,setTimeout(function(){this.owner.triggerEvent("ready-again")}.bind(this),1e3)},"change-color":function(){for(var e=0,i=this.owner.state;e<t.length&&t[e]!==this.color;e++);this.color=this.owner.color=t[(+e+1)%t.length],i.yellow=!1,i.blue=!1,i.red=!1,i[this.color]=!0}}}}()},317:function(t,e){t.exports=function(){var t=Box2D.Common.Math.b2Vec2;return{id:"shrink-pop",constructor:function(t){this.goal=null,this.fixture=null,this.ready=!1,this.goalFixture=t.destination||"spawn",this.launchFixture=t.launch||"launch",this.exitMagnitude=t.exitMagnitude||1,this.delay=t.delay||0,this.entities=[],this.ejections=0,this.lid=null,this.lidClosed=null,this.lidOpen=null},events:{"prepare-for-simulation":function(){this.ready=!0},"box2d-body-initialized":function(t){for(var e=t.GetFixtureList();(!this.goal||!this.fixture||!this.lid)&&e;)e.GetUserData().collisionType===this.goalFixture?this.goal=e:e.GetUserData().collisionType===this.launchFixture?this.fixture=e:e.GetUserData().lid&&(this.lid=e,this.lidClose=e.GetFilterData().Copy(),this.lidOpen=this.lidClose.Copy(),this.lidOpen.maskBits=0,e.SetFilterData(this.lidOpen)),e=e.GetNext()},"handle-logic":function(){var t=0;if(this.ready)for(;t<this.entities.length;t++)if(!this.entities[t].entity.state.shrunk){this.shrinkPop(this.entities.splice(t,1)[0]);break}},"stop-pop":function(){this.ready=!1},"start-pop":function(){this.ready=!0},"teleport-off":function(t){for(var e=0,i=t.entity;e<this.entities.length;e++)if(i===this.entities[e].entity){this.entities.splice(e,1);break}},"teleport-on":function(t){t.entity.state.shrunk||!this.ready?this.entities.push({entity:t.entity,otherFixture:t.otherFixture}):this.shrinkPop(t)},shrunk:function(t){this.teleport(t)},puffing:function(t){var e=this.owner.body.GetWorldPoint(this.goal.GetShape().m_centroid),i=e.Copy(),o=null;this.owner.triggerEvent("play-sfx",{sound:"eject",debug:!0}),o=this.fixture&&this.fixture.GetShape().m_centroid?this.owner.body.GetWorldPoint(this.fixture.GetShape().m_centroid):this.owner.body.GetWorldCenter().Copy(),i.Subtract(o),i.Normalize(),i.Multiply(this.exitMagnitude),i.Multiply(t.body.GetMass()),this.lid&&this.lid.SetFilterData(this.lidOpen),t.triggerEvent("teleportation-complete",t),this.owner.triggerEvent("teleportation-complete",t),t.body.SetActive(!0),t.body.ApplyImpulse(i,e),this.owner.state.ejecting=!0,this.ejections+=1},unshrunk:function(){this.ejections-=1,this.owner.state.ejecting=!!this.ejections}},methods:{destroy:function(){this.destroyed=!0},shrinkPop:function(t){var e=t.entity;e.addComponent(new platformer.components["shrink-popper"](e,{size:.5,ticks:13,delay:this.delay,shrinker:this.owner}))},teleport:function(e){var i=null;!this.destroyed&&e.body&&(i=this.owner.body.GetWorldPoint(this.goal.GetShape().m_centroid),e.body.SetActive(!1),e.body.SetPosition(i),e.body.SetLinearVelocity(new t(0,0)),e.body.SetAngularVelocity(-e.body.GetAngularVelocity()),e.matchEntityToBody(),this.lid&&this.lid.SetFilterData(this.lidClose),e.triggerEvent("teleportation-started",e),this.owner.triggerEvent("teleportation-started",e))}}}}()},318:function(t,e){t.exports={id:"vacuum",constructor:function(t){this.fixture=null,this.suckFixture=t.suckFixture||"vacuum",this.magnitude=t.magnitude||1,this.massCounts=t.massCounts||!1,this.bodies=[],this.ready=!1,this.simulating=!1},events:{"prepare-for-simulation":function(){this.simulating=!0,this.ready=!0},"box2d-body-initialized":function(t){for(var e=t.GetFixtureList();!this.fixture&&e;)e.GetUserData().collisionType===this.suckFixture||e.GetUserData().id===this.suckFixture?this.fixture=e:e=e.GetNext()},"handle-logic":function(){var t=0,e=null,i=null,o=null,n=null;if(this.ready)for(this.owner.state.vacuuming||(this.owner.state.vacuuming=!0,this.owner.triggerEvent("vacuuming")),n=this.fixture?this.owner.body.GetWorldPoint(this.fixture.GetShape().m_centroid):this.owner.body.GetWorldCenter();t<this.bodies.length;t++)o=(e=this.bodies[t]).GetWorldCenter(),(i=n.Copy()).Subtract(o),i.Normalize(),i.Multiply(this.magnitude),this.massCounts||i.Multiply(e.GetMass()),e.ApplyImpulse(i,o);else this.owner.state.vacuuming=!1;this.owner.state.sucking=!!t},"stop-vacuum":function(){this.simulating&&(this.ready=!1)},"start-vacuum":function(){this.simulating&&(this.ready=!0)},"vacuum-on":function(t){this.bodies.push(t.otherFixture.GetBody())},"vacuum-off":function(t){for(var e=0,i=t.otherFixture.GetBody();e<this.bodies.length;e++)if(i===this.bodies[e]){this.bodies.splice(e,1);break}}}}},319:function(t,e){t.exports={id:"logic-gravity",constructor:function(t){this.vY=t.gravity||t.yGravity,"number"!=typeof this.vY&&(this.vY=.01),this.vX=t.xGravity||0,this.maxVelocity=t.maxVelocity||0,this.newMaxX=this.maxVelocityX=t.maxVelocityX||this.maxVelocity,this.newMaxY=this.maxVelocityY=t.maxVelocityY||this.maxVelocity,this.accelerationX=0,this.accelerationY=0,this.durationX=0,this.durationY=0,"number"!=typeof this.owner.dx&&(this.owner.dx=0),"number"!=typeof this.owner.dy&&(this.owner.dy=0),this.state=this.owner.state,this.hovering=this.state.hovering=this.state.hovering||!1,this.falling=this.state.falling=this.state.falling||!1,this.grounded=this.state.grounded=this.state.grounded||!this.falling,this.owner.dO=.5*Math.random()-.25,this.owner.orientation=Math.random()*Math.PI*2},events:{"handle-logic":function(t){var e=t.delta;this.hovering||(this.newMaxX!==this.maxVelocityX&&(this.durationX-e>0?(this.maxVelocityX+=(this.newMaxX-this.maxVelocityX)*(e/this.durationX),this.durationX-=e):this.accelerationX?this.newMaxX>this.maxVelocityX?(this.owner.dx>this.maxVelocityX&&(this.maxVelocityX=this.owner.dx),this.maxVelocityX=Math.min(this.maxVelocityX+this.accelerationX*t.delta,this.newMaxX)):(this.owner.dx<this.maxVelocityX&&(this.maxVelocityX=this.owner.dx),this.maxVelocityX=Math.max(this.maxVelocityX-this.accelerationX*t.delta,this.newMaxX)):(this.maxVelocityX=this.newMaxX,this.durationX=0)),this.newMaxY!==this.maxVelocityY&&(this.durationY-e>0?(this.maxVelocityY+=(this.newMaxY-this.maxVelocityY)*(e/this.durationY),this.durationY-=e):this.accelerationY?this.newMaxY>this.maxVelocityY?(this.owner.dy>this.maxVelocityY&&(this.maxVelocityY=this.owner.dy),this.maxVelocityY=Math.min(this.maxVelocityY+this.accelerationY*t.delta,this.newMaxY)):(this.owner.dy<this.maxVelocityY&&(this.maxVelocityY=this.owner.dy),this.maxVelocityY=Math.max(this.maxVelocityY-this.accelerationY*t.delta,this.newMaxY)):(this.maxVelocityY=this.newMaxY,this.durationY=0)),this.owner.dx+=this.vX*e,this.owner.dy+=this.vY*e,this.owner.x+=this.owner.dx,this.owner.y+=this.owner.dy,this.owner.orientation+=this.owner.dO,this.vX&&this.maxVelocityX&&this.owner.dx>this.maxVelocityX&&(this.owner.dx=this.maxVelocityX),this.vY&&this.maxVelocityY&&this.owner.dy>this.maxVelocityY&&(this.owner.dy=this.maxVelocityY)),this.state.hovering!==this.hovering&&(this.state.hovering=this.hovering),this.state.falling!==this.falling&&(this.state.falling=this.falling),this.state.grounded!==this.grounded&&(this.state.grounded=this.grounded),this.grounded=!1,this.falling=!0},"hit-solid":function(t){return this.hovering||(t.y>0&&this.vY>0||t.y<0&&this.vY<0?(this.owner.dy=0,this.falling=!1,this.grounded=!0):(t.x<0&&this.vX<0||t.x>0&&this.vX>0)&&(this.owner.dx=0,this.falling=!1,this.grounded=!0)),!0},glide:function(t){var e=t.maxVelocity||this.maxVelocity,i=t.duration||0,o=t.acceleration||0;this.durationX=t.durationX||i,this.durationY=t.durationY||i,this.accelerationX=t.accelerationX||o,this.accelerationY=t.accelerationY||o,this.newMaxX=t.maxVelocityX||e||this.maxVelocityX,this.newMaxY=t.maxVelocityY||e||this.maxVelocityY,this.durationX||this.accelerationX||(this.maxVelocityX=this.newMaxX),this.durationY||this.accelerationY||(this.maxVelocityY=this.newMaxY)},gravitate:function(t){this.vY=t.gravity||t.yGravity||0,this.vX=t.xGravity||0},hover:function(t){this.owner.dx=0,this.owner.dy=0,this.hovering=!t||!1!==t.pressed},fall:function(t){this.hovering=!!t&&!1===t.pressed}},methods:{destroy:function(){this.owner.dx=0,this.owner.dy=0}}}},320:function(t,e){t.exports={id:"logic-destroy-me",constructor:function(t){this.destroyed=!1,this.delay=t.delay||0},events:{"handle-logic":function(t){var e=t.delta;this.destroyed&&(this.delay-=e,this.delay<=0&&this.owner.parent.removeEntity(this.owner))},"destroy-me":function(){this.destroyed=!0}}}},321:function(t,e){t.exports=function(){var t=function(t,e){return"string"==typeof t?function(i){e.trigger(t,i),i.preventDefault()}:Array.isArray(t)?function(i){var o=0;for(o=0;o<t.length;o++)e.trigger(t[o],i);i.preventDefault()}:function(i){e.trigger(t.event,t.message),i.preventDefault()}};return{id:"dom-element",constructor:function(e){var i=e.element||"div",o="",n="";for(o in this.updateClassName=e.updateClassName||!1,this.className="",this.states={},this.stateChange=!1,this.potentialParent=e.parent,this.handleRenderLoadMessage=null,this.element=document.createElement(i),this.owner.element||(this.owner.element=this.element),this.element.ondragstart=function(){return!1},e)if("style"===o)for(n in e[o])e[o].hasOwnProperty(n)&&(this.element.style[n]=e[o][n]);else"type"===o&&"input"!==i||"element"===o||"parent"===o||"updateClassName"===o||"attributes"===o||"messageMap"===o||(0===o.indexOf("on")?this.element[o]=t(e[o],this.owner):(this.element[o]=e[o],"className"===o&&(this.className=e[o])));this.owner.className&&(this.className=this.element.className=this.owner.className),this.owner.innerHTML&&(this.element.innerHTML=this.owner.innerHTML)},events:{"handle-render-load":function(t){var e=null,i=null;if(t.element&&(this.parentElement||(this.potentialParent?(this.parentElement=function(t,e){for(var i=0,o=t.getElementsByTagName("*");i<o.length;i++)if(o[i].getAttribute("id")===e)return o[i];return document.getElementById(e)}(t.element,this.potentialParent),this.parentElement.appendChild(this.element)):(this.parentElement=t.element,this.parentElement.appendChild(this.element))),this.owner.triggerEventOnChildren)){for(e in i=this.handleRenderLoadMessage={},t)t.hasOwnProperty(e)&&(i[e]=t[e]);i.element=this.element,this.owner.triggerEventOnChildren("handle-render-load",i)}},"child-entity-added":function(t){this.handleRenderLoadMessage&&t.trigger("handle-render-load",this.handleRenderLoadMessage)},"set-parent":function(t){this.parentElement&&this.parentElement.removeChild(this.element),this.parentElement=t,this.parentElement.appendChild(this.element)},"handle-render":function(){var t=0,e=this.className;if(this.stateChange&&this.updateClassName){for(t in this.states)this.states[t]&&(e+=" "+t);this.element.className=e,this.stateChange=!1}},"set-attribute":function(t){var e="";if(t.attribute)this.element.setAttribute(t.attribute,t.value);else for(e in t)t.hasOwnProperty(e)&&this.element.setAttribute(e,t[e])},"set-style":function(t){var e="";if(t.attribute)this.element.style[t.attribute]=t.value;else for(e in t)t.hasOwnProperty(e)&&(this.element.style[e]=t[e])},"update-content":function(t){var e=t;e&&"string"==typeof e.text&&(e=e.text),"string"==typeof e&&e!==this.element.innerHTML&&(this.element.innerHTML=e)},"logical-state":function(t){var e="";for(e in t)this.states[e]!==t[e]&&(this.stateChange=!0,this.states[e]=t[e])}},methods:{destroy:function(){this.parentElement&&(this.parentElement.removeChild(this.element),this.parentElement=null),this.owner.element===this.element&&(this.owner.element=null),this.element=null}}}}()},322:function(t,e){t.exports={id:"change-scene",constructor:function(t){this.scene=this.owner.scene||t.scene,this.transition=this.owner.transition||t.transition||"instant",this.persistentData=t.persistentData||{},this.preload=t.preload||!1,t.message&&console.warn('"'+this.type+'" components no longer accept "message": "'+t.message+'" as a definition parameter. Use "aliases": {"'+t.message+'": "new-scene"} instead.')},events:{"scene-live":function(){this.preload&&platformer.game.loadScene(this.scene,this.transition,this.persistentData,!0)},"new-scene":function(t){var e=t||this,i=e.scene||this.scene,o=e.transition||this.transition,n=e.persistentData||this.persistentData;platformer.game.loadScene(i,o,n)},"set-scene":function(t){this.scene=t},"set-persistent-scene-data":function(t){var e="";for(e in t)t.hasOwnProperty(e)&&(this.persistentData[e]=t[e])}}}},323:function(t,e){t.exports={id:"asset-loader",constructor:function(t){this.useXHR=!0,!1===t.useXHR&&(this.useXHR=!1),this.assets=t.assets||platformer.game.settings.assets,this.progressBar=t.progressBar||!1,this.message={complete:!1,total:0,progress:0,fraction:0}},events:{load:function(){var t=null,e=null,i=function(t,e){var i=0,o=!1;for(i in e)if(e[i].id===t.id){o=!0;break}o||e.push(t)},o=[],n=platformer.game.settings.global.nativeAssetResolution||0,s=platformer.game.settings.scale=n?Math.min(1,Math.max(window.screen.width,window.screen.height)*(window.devicePixelRatio||1)/n):1,a=function(t,e,i){var o=i||1,n=e||1,a=Math.ceil(t.width/n*s)*n,r=Math.ceil(t.height/o*s)*o,l=document.createElement("canvas"),h=l.getContext("2d");return l.width=a,l.height=r,l.scaleX=a/t.width,l.scaleY=r/t.height,h.drawImage(t,0,0,t.width,t.height,0,0,a,r),l},r="",l="";for(r in(e=platformer.settings.supports.ie?new createjs.LoadQueue(this.useXHR,"",""):new createjs.LoadQueue(this.useXHR,"",!0)).addEventListener("fileload",function(t){var e=t.item,i=e.data,o=e.tag;"image"===t.item.type&&n&&1!==s&&(o=i?a(o,i.columns,i.rows):a(o)),platformer.assets[t.item.id]=o,this.message.progress+=1,this.message.fraction=this.message.progress/this.message.total,this.message.progress===this.message.total&&(this.message.complete=!0),this.owner.trigger("fileload",this.message)}.bind(this)),e.addEventListener("complete",function(){window.setTimeout(function(){this.owner.trigger("complete")}.bind(this),10)}.bind(this)),this.assets)if(this.assets.hasOwnProperty(r))if("string"==typeof(t=this.assets[r]).src)!platformer.settings.supports.smallAssets||".png"!==t.src.substring(t.src.lastIndexOf("."))&&".jpg"!==t.src.substring(t.src.lastIndexOf("."))||(t.src=t.src.substring(0,t.src.lastIndexOf("/"))+"/small"+t.src.substring(t.src.lastIndexOf("/"))),i(t,o);else{for(l in t.src)if(t.src.hasOwnProperty(l)&&platformer.game.settings.aspects[l]&&t.src[l]){"string"==typeof t.src[l]?(t.src=t.src[l],i(t,o)):(t.data=t.src[l].data||t.data,t.assetId=t.src[l].assetId,t.src=t.src[l].src,i({id:t.assetId||t.id,src:t.src,data:t.data},o));break}"string"!=typeof t.src&&(t.src.default?"string"==typeof t.src.default?(t.src=t.src.default,i(t,o)):(t.data=t.src.default.data||t.data,t.assetId=t.src.default.assetId,t.src=t.src.default.src,i({id:t.assetId||t.id,src:t.src,data:t.data},o)):console.warn("Asset has no valid source for this browser.",t))}createjs.Sound&&e.installPlugin(createjs.Sound),this.message.total=o.length,e.loadManifest(o),platformer.assets=[]},fileload:function(t){var e=null;this.progressBar&&(e=document.getElementById(this.progressBar))&&((e=e.style).width=100*t.fraction+"%",e.backgroundSize=1/t.fraction*100+"%")}}}},324:function(t,e){t.exports={id:"breakable",constructor:function(t){this.simulating=!1,this.death=t.breakTicks||10,this.count=0},events:{"prepare-for-simulation":function(){this.simulating=!0},"handle-logic":function(){this.owner.state.broken&&(this.owner.body&&(this.owner.removeComponent("collision-box2d"),this.owner.trigger("broke")),this.count+=1,this.owner.scaleX=this.owner.scaleY=1+this.count/(2*this.death),this.owner.z=2e5,this.owner.opacity=(this.death-this.count)/this.death,this.count>this.death&&this.owner.parent.removeEntity(this.owner))},"break-me":function(){this.simulating&&!this.owner.state.broken&&(this.owner.state.broken=!0)},"hit-something":function(t){this.simulating&&!this.owner.state.broken&&Math.abs(t.impulse.normalImpulses[0])>8&&(this.owner.state.broken=!0)}}}},325:function(t,e){t.exports={id:"explode",constructor:function(t){this.magnitude=t.magnitude||1,this.massCounts=t.massCounts||!1,this.radius=t.radius||100,this.ready=!1,this.simulating=!1,this.explosiveRound=0,this.bodies=[],this.world=null,this.body=null,this.count=0,this.death=15,this.owner.scaleX=.1,this.owner.scaleY=.1},events:{"handle-logic":function(){this.count+=1,this.owner.orientation=this.count*Math.PI/180,this.count<6&&(this.owner.scaleX=this.owner.scaleY=this.count/5),this.owner.opacity=(this.death-this.count)/this.death,this.count>this.death&&this.owner.parent.removeEntity(this.owner)},"connect-box2D":function(t){this.world=t.world,this.radius/=t.drawScale,this.world&&this.body&&this.explode()},"box2d-body-initialized":function(t){this.body=t,this.world&&this.body&&this.explode()}},methods:{explode:function(){for(var t=this.world.GetBodyList(),e=this.body.GetWorldCenter().Copy(),i=null,o=null;t;)i=t.GetWorldCenter(),(o=e.Copy()).Subtract(i),o.x*o.x+o.y*o.y<=this.radius*this.radius&&(o.Normalize(),o.Multiply(-this.magnitude),this.massCounts||o.Multiply(t.GetMass()),t.ApplyImpulse(o,i)),t=t.GetNext()}}}},326:function(t,e){t.exports=function(){var t=Box2D.Common.Math.b2Vec2;return{id:"fan",constructor:function(t){var e=0;if(this.fixture=null,this.suckFixture=t.suckFixture||"fan",this.angle=t.angle||0,this.angle=this.angle/180*Math.PI,this.oncePerContact=t.oncePerContact||!1,this.magnitude=t.magnitude||1,this.massCounts=t.massCounts||!1,this.precision=t.precision||0,Array.isArray(this.precision))for(this.precision=this.precision.slice(),e=0;e<this.precision.length;e++)this.precision[e]=this.precision[e]/180*Math.PI;else this.precision=t.precision/180*Math.PI;this.bodies=[],this.ready=!1,this.simulating=!1},events:{"prepare-for-simulation":function(){this.simulating=!0,this.ready=!0},"box2d-body-initialized":function(t){for(var e=t.GetFixtureList();!this.fixture&&e;)e.GetUserData().collisionType===this.suckFixture||e.GetUserData().id===this.suckFixture?this.fixture=e:e=e.GetNext()},"handle-logic":function(){var e=this.bodies.length-1,i=null,o=0,n=null,s=null,a=0;if(this.ready)for(this.oncePerContact||(this.owner.state.fanning=!0),o=this.owner.body.GetAngle()+(this.owner.state.mirrored?this.angle+Math.PI:this.angle);e>=0;e--)this.precision&&(a=Array.isArray(this.precision)?this.precision[Math.floor(Math.random()*this.precision.length)]:Math.random()*this.precision*2-this.precision),s=(i=this.bodies[e]).GetWorldCenter(),(n=new t(Math.cos(o+a),Math.sin(o+a))).Normalize(),n.Multiply(this.magnitude),this.massCounts||n.Multiply(i.GetMass()),i.ApplyImpulse(n,s),this.oncePerContact&&(this.owner.triggerEvent("punched"),this.bodies.splice(e,1));else this.oncePerContact||(this.owner.state.fanning=!1)},"stop-fan":function(){this.simulating&&(this.ready=!1)},"start-fan":function(){this.simulating&&!this.ready&&(this.ready=!0,this.owner.trigger("fan-started"))},"fan-on":function(t){this.bodies.push(t.otherFixture.GetBody())},"fan-off":function(t){for(var e=0,i=t.otherFixture.GetBody();e<this.bodies.length;e++)if(i===this.bodies[e]){this.bodies.splice(e,1);break}}}}}()},327:function(t,e){t.exports={id:"logic-goal",constructor:function(t){var e={orientation:this.owner.orientation,x:this.owner.x,y:this.owner.y,goal:"egg"};this.target=this.owner.target||t.target||null,this.goalAchieved=!1,this.manager=null,this.objectData={type:"",name:"",color:""},0===e.orientation?(e.x+=135,e.y+=210):1.5708===e.orientation?(e.x-=210,e.y+=140):3.1416===e.orientation?(e.x-=135,e.y-=210):-1.5708===e.orientation&&(e.x+=210,e.y-=140),this.target&&(e.goal=this.target,this.goalIndicator=this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities["goal-indicator"],{properties:e}))),this.entitiesToDestroy=[]},events:{"peer-entity-added":function(t){"simulation-manager"===t.type&&(this.manager=t)},"handle-logic":function(){var t=0;for(t=0;t<this.entitiesToDestroy.length;t++)this.owner.parent.triggerEvent("remove-entity",this.entitiesToDestroy[t]);this.entitiesToDestroy=[]},"fake-in-goal":function(){this.owner.state.simulating||(this.objectData.type=this.target,this.objectData.name=platformer.game.settings.entities[this.target].properties.name,this.owner.parent.colorMatters?this.objectData.color=["red","blue","yellow"][Math.floor(3*Math.random())]:platformer.game.settings.entities[this.target].properties.color?this.objectData.color=platformer.game.settings.entities[this.target].properties.color:this.objectData.color="",this.goalAchieved=!0,this.manager.triggerEvent("goal-achieved",this.objectData))},"in-goal":function(t){var e=!1,i=null,o=0;if(this.owner.state.simulating){for(i=t.entity,this.target&&this.target===i.type&&!this.goalAchieved&&(this.goalAchieved=!0,this.objectData.type=i.type,this.objectData.name=i.name,i.state.red?this.objectData.color="red":i.state.blue?this.objectData.color="blue":i.state.yellow?this.objectData.color="yellow":this.objectData.color="",this.manager.triggerEvent("goal-achieved",this.objectData)),o=0;o<this.entitiesToDestroy.length;o++)this.entitiesToDestroy[o]===i&&(e=!0);e||this.entitiesToDestroy.push(i)}}},methods:{destroy:function(){this.manager=null,this.objectData=null,this.entitiesToDestroy=null}}}},328:function(t,e){t.exports={id:"logic-goal-indicator",constructor:function(){this.owner.state[this.owner.goal]=!0,this.owner.opacity=0,this.showing=!1,this.transitionTime=400,this.transition=0,this.transitionGoal=0,this.hideLock=!1,this.bouncePosition=0,this.bounceOffset=4,this.originalY=this.owner.y,this.originalX=this.owner.x,this.showTime=5e3,this.showTimer=this.showTime,this.piover4=Math.PI/4,this.pi3over4=3*Math.PI/4,this.pi5over4=5*Math.PI/4,this.shownOnce=!1},events:{"handle-logic":function(t){var e=t.delta;this.showing&&this.showTimer>0&&(this.showTimer-=e,this.showTimer<=0&&this.owner.triggerEvent("hide-goal")),this.transition!==this.transitionGoal&&(this.transition<this.transitionGoal&&(this.transition+=e,this.transition>this.transitionGoal&&(this.transition=this.transitionGoal)),this.transition>this.transitionGoal&&(this.transition-=e,this.transition<this.transitionGoal&&(this.transition=this.transitionGoal)),this.owner.opacity=this.transition/this.transitionTime),this.bouncePosition+=e/150,this.bouncePosition>2*Math.PI&&(this.bouncePosition-=2*Math.PI),this.owner.orientation<this.piover4||this.owner.orientation>this.pi3over4&&this.owner.orientation<this.pi5over4?this.owner.y=this.originalY+Math.sin(this.bouncePosition)*this.bounceOffset:this.owner.x=this.originalX+Math.sin(this.bouncePosition)*this.bounceOffset},"show-goal":function(){this.showing||this.hideLock||(this.transitionGoal=this.transitionTime,this.showing=!0,this.showTimer=this.showTime)},"show-goal-no-timer":function(){this.showing||this.hideLock||(this.transitionGoal=this.transitionTime,this.showing=!0,this.showTimer=-1)},"hide-goal":function(){this.showing&&(this.transitionGoal=0,this.showing=!1,this.showTimer=0)},"hide-lock":function(){this.owner.triggerEvent("hide-goal"),this.hideLock=!0},"hide-unlock":function(){this.hideLock=!1}}}},329:function(t,e){t.exports=function(){var t=[[[0,25]],[[-20,25],[20,25]],[[-16,25],[16,25],[0,-7]]],e=1e-6;return{id:"logic-maker",constructor:function(){this.data=null,this.row=0,this.column=0,this.itemAdded=null,this.items=[]},events:{"handle-logic":function(){this.itemToAdd&&(this.addItem(this.itemToAdd),this.itemToAdd=null)},"scene-loaded":function(){var e=0,i=0,o=0,n=window.localStorageCombined.getItem("cith-ie-maker");if(this.row=this.owner.parent.rowIndex,this.column=this.owner.parent.levelIndex,n)try{n=JSON.parse(n)}catch(t){n=[]}else n=[];if(n[this.row]){for(i=n[this.row][this.column]?n[this.row].length-2:n[this.row].length-1;e<n[this.row].length;e++)+e!=+this.column&&(this.addItem(n[this.row][e],t[i][o]),o+=1);this.itemAdded=null}else n[this.row]=[];this.data=n},"start-maker":function(){this.owner.state.start=!0,this.owner.state.processing=!1,this.owner.state.stop=!1},"stop-maker":function(){this.itemAdded&&(this.owner.parent.removeEntity(this.itemAdded),this.itemAdded=null),this.owner.state.start=!1,this.owner.state.processing=!1,this.owner.state.stop=!0},"churn-maker":function(){this.owner.state.start=!1,this.owner.state.processing=!0,this.owner.state.stop=!1,this.removeAllItems()},"stop-churn":function(){this.owner.state.churnEnd=!0},"show-level-complete":function(t){var e=this.data[this.row][this.column]={type:t.itemType,color:t.itemColor};this.itemToAdd=e,window.localStorageCombined.setItem("cith-ie-maker",JSON.stringify(this.data))}},methods:{addItem:function(t,i){var o={},n=i||[40,35];t.type&&(o[t.type]=!0),t.color&&(o[t.color.toLowerCase()]=!0),this.itemAdded=this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities["make-o-item"],{properties:{state:o,x:this.owner.x+n[0],y:this.owner.y+n[1],z:e}})),e+=1e-6,this.items.push(this.itemAdded)},removeAllItems:function(){var t=0;for(t=0;t<this.items.length;t++)this.owner.parent.removeEntity(this.items[t]);this.items.length=0,this.itemAdded=null}}}}()},330:function(t,e){t.exports={id:"logic-paper",constructor:function(){this.fly=!0,this.ready=!1},events:{"handle-logic":function(){var t=null,e=0;this.ready?this.body&&this.fly&&(t=this.body.GetLinearVelocity())&&(t.y>0&&Math.abs(t.y)>Math.abs(t.x)/3&&(e=.25*t.y,t.y*=.75,t.x?t.x=(Math.abs(t.x)+e)*(Math.abs(t.x)/t.x):(t.x=Math.abs(e),this.owner.flipped&&(t.x=-t.x))),t.x<-5?this.owner.orientation=Math.PI:t.x>5&&(this.owner.orientation=0)):this.owner.flipped?this.owner.orientation=Math.PI:this.owner.orientation=0},"prepare-for-simulation":function(){this.ready=!0},"box2d-body-initialized":function(t){this.body=t,this.body.SetFixedRotation(!0)},"turn-off-flight":function(){this.fly=!1},"turn-on-flight":function(){this.fly=!0}}}},331:function(t,e){t.exports={id:"logic-rotation-controls",constructor:function(){var t=null;this.owner.x=200,this.owner.y=200,this.rotateCWButtonOffsetX=35,this.rotateCWButtonOffsetY=65,this.rotateCCWButtonOffsetX=70,this.rotateCCWButtonOffsetY=25,this.flipButtonOffsetX=-35,this.flipButtonOffsetY=65,t={x:this.owner.x+this.rotateCWButtonOffsetX,y:this.owner.y+this.rotateCWButtonOffsetY},this.rotateCWButton=this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities["rotate-cw-button"],{properties:t})),t.x=this.owner.x+this.rotateCCWButtonOffsetX,t.y=this.owner.y+this.rotateCCWButtonOffsetY,this.rotateCCWButton=this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities["rotate-ccw-button"],{properties:t})),t.x=this.owner.x+this.flipButtonOffsetX,t.y=this.owner.y+this.flipButtonOffsetY,this.flipButton=this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities["flip-button"],{properties:t})),this.colorButton=this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities["color-button"],{properties:t})),this.rotateCWButton.state.hidden=!0,this.rotateCCWButton.state.hidden=!0,this.flipButton.state.hidden=!0,this.colorButton.state.hidden=!0,this.focusEntity=null,this.newFocusEntity=null,this.isNewFocus=!1,this.owner.opacity=0},events:{"handle-logic":function(){if(this.isNewFocus&&(this.focusEntity=this.newFocusEntity,this.newFocusEntity=null,this.isNewFocus=!1),this.focusEntity){var t=this.focusEntity.y>450?-1:1,e=this.focusEntity.x>850?-1:1;this.owner.x=this.focusEntity.x,this.owner.y=this.focusEntity.y,this.rotateCWButton.x=this.owner.x+this.rotateCWButtonOffsetX*e,this.rotateCWButton.y=this.owner.y+this.rotateCWButtonOffsetY*t,this.rotateCCWButton.x=this.owner.x+this.rotateCCWButtonOffsetX*e,this.rotateCCWButton.y=this.owner.y+this.rotateCCWButtonOffsetY*t,this.flipButton.x=this.owner.x+this.flipButtonOffsetX*e,this.flipButton.y=this.owner.y+this.flipButtonOffsetY*t,this.colorButton.x=this.owner.x+this.flipButtonOffsetX,this.colorButton.y=this.owner.y+this.flipButtonOffsetY*t,this.focusEntity.rotater||this.focusEntity.flipper||this.focusEntity.painter?this.owner.opacity=1:this.owner.opacity=0}},"set-focus":function(t){this.isNewFocus=!0,this.newFocusEntity=t,t.cwMaxed?this.rotateCWButton.state.hidden=!0:this.rotateCWButton.state.hidden=!t.rotater,t.ccwMaxed?this.rotateCCWButton.state.hidden=!0:this.rotateCCWButton.state.hidden=!t.rotater,this.flipButton.state.hidden=!t.flipper,this.colorButton.state.hidden=!t.painter},"set-unfocus":function(){this.isNewFocus||(this.isNewFocus=!0,this.newFocusEntity=null,this.rotateCWButton.state.hidden=!0,this.rotateCCWButton.state.hidden=!0,this.flipButton.state.hidden=!0,this.colorButton.state.hidden=!0,this.owner.opacity=0)},"stage-mousedown":function(){this.owner.triggerEvent("set-unfocus")},"flip-pressed":function(){this.owner.triggerEvent("set-focus",this.focusEntity)},"color-pressed":function(){this.owner.triggerEvent("set-focus",this.focusEntity)},"rotate-cw-pressed":function(){this.owner.triggerEvent("set-focus",this.focusEntity)},"rotate-ccw-pressed":function(){this.owner.triggerEvent("set-focus",this.focusEntity)},"flip-released":function(){this.focusEntity.triggerEvent("flip")},"color-released":function(){this.focusEntity.triggerEvent("change-color")},"rotate-cw-released":function(){this.focusEntity.triggerEvent("rotate-cw")},"rotate-ccw-released":function(){this.focusEntity.triggerEvent("rotate-ccw")},"lock-cw-button":function(){this.rotateCWButton.state.hidden=!0},"lock-ccw-button":function(){this.rotateCCWButton.state.hidden=!0},"unlock-cw-button":function(){this.rotateCWButton.state.hidden=!1},"unlock-ccw-button":function(){this.rotateCCWButton.state.hidden=!1},"update-rotation-controls":function(){this.focusEntity&&(!this.isNewFocus||this.isNewFocus&&this.newFocusEntity)&&(this.focusEntity.cwMaxed?this.rotateCWButton.state.hidden=!0:this.rotateCWButton.state.hidden=!this.focusEntity.rotater,this.focusEntity.ccwMaxed?this.rotateCCWButton.state.hidden=!0:this.rotateCCWButton.state.hidden=!this.focusEntity.rotater)}},methods:{destroy:function(){this.focusEntity=null,this.newFocusEntity=null}}}},332:function(t,e){t.exports=function(){var t=function(){this.type="",this.x=0,this.y=0,this.orientation=0,this.userPlaced=!1},e=[["Muffin","few Muffins","mound of Muffins"],["Small Cake","Large Cake","Huge Cake"],["Balloon","Balloon Bundle","Big Balloon Bundle"],["Party Hat","Fun Party Hat","Fancy Party Hat"],["Kite","Colorful Kite","High-flying Kite"],["Small Pinata","Diamond Pinata","Super Star Pinata"],["few Decorations","few Dandy Decorations","lot of Dandy Decorations"],["scoop of Ice Cream","bowl of Ice Cream","heap of Ice Cream"]];return{id:"logic-simulation-manager",constructor:function(){this.preSimulationStates=[],this.simulationEntities=[],this.constantEntities=[],this.simulationStarted=!1,this.world=null,this.sideBar=null,this.gravity=new Box2D.Common.Math.b2Vec2(0,10),this.noGravity=new Box2D.Common.Math.b2Vec2(0,0),this.candyCount=0,this.firstTry=!0,this.usedHint=!1,this.resultsData={levelName:this.owner.parent.levelName,itemType:"",itemName:"Rubber Ball",itemColor:"",candyCount:0,productRow:-1,productLevel:-1,productName:"",productColor:""},this.hintObjects=[],this.hintIndex=0,this.preventSimulation=!1},events:{"scene-loaded":function(){this.owner.triggerEvent("play-background")},"connect-box2D":function(t){this.world=t.world},"peer-entity-added":function(t){var e=t.getMessageIds(),i=0;for(i=0;i<e.length;i++)if("prepare-for-simulation"===e[i]){t.isSimulationConstant?this.constantEntities.push(t):this.simulationEntities.push(t),t.triggerEvent("set-simulator",this.owner);break}"side-bar"===t.type&&(this.sideBar=t)},"handle-logic":function(){},"remove-simulant":function(t){var e=0;for(e=0;e<this.simulationEntities.length;e++)this.simulationEntities[e]===t&&this.simulationEntities.splice(e,1);for(e=0;e<this.constantEntities.length;e++)this.constantEntities[e]===t&&this.constantEntities.splice(e,1)},"super-start-simulation":function(){this.owner.triggerEvent("start-simulation")},"start-simulation":function(){var e=0,i=null,o=null;if(!this.simulationStarted){for(this.owner.triggerEvent("tutorial-simulation-started"),this.simulationStarted=!0,this.sideBar.triggerEvent("lock"),this.preSimulationStates=[],e=0;e<this.simulationEntities.length;e++)o=this.simulationEntities[e],this.preSimulationStates[e]=i=new t,i.type=o.type,i.from=o.from,i.x=o.x,i.y=o.y,i.z=o.z,i.flipped=o.flipped,i.color=o.color,i.orientation=o.flipped?-o.orientation:o.orientation,i.undraggable=o.undraggable,i.cwMaxed=o.cwMaxed,i.ccwMaxed=o.ccwMaxed,"make-o-item"===o.type&&(i.state=o.state),o.backupLocation&&(i.backupLocation={x:o.backupLocation.x,y:o.backupLocation.y}),o.triggerEvent("prepare-for-simulation");for(e=0;e<this.constantEntities.length;e++)this.constantEntities[e].triggerEvent("prepare-for-simulation");this.world.SetGravity(this.gravity)}},"reset-simulation":function(){var t=0;if(this.simulationStarted){for(this.firstTry=!1,this.owner.triggerEvent("tutorial-simulation-stopped"),this.candyCount=0,this.simulationStarted=!1,this.sideBar.triggerEvent("unlock"),t=0;t<this.simulationEntities.length;t++)this.owner.parent.triggerEvent("remove-entity",this.simulationEntities[t]);for(this.simulationEntities=[],t=0;t<this.constantEntities.length;t++)this.constantEntities[t].triggerEvent("reset-constant-from-simulation");for(this.world.SetGravity(this.noGravity),t=0;t<this.preSimulationStates.length;t++)this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities[this.preSimulationStates[t].type],{properties:this.preSimulationStates[t]}));this.preSimulationStates=[]}},"remove-all-pieces":function(){var t=0;if(!this.simulationStarted){for(t=0;t<this.simulationEntities.length;t++)this.owner.parent.triggerEvent("remove-entity",this.simulationEntities[t]);this.simulationEntities=[],this.preSimulationStates=[]}},"toggle-simulation":function(){this.preventSimulation||(this.simulationStarted?this.owner.triggerEvent("reset-simulation"):this.owner.triggerEvent("super-start-simulation"))},"prevent-simulation":function(){this.preventSimulation=!0},"unprevent-simulation":function(){this.preventSimulation=!1},"goal-achieved":function(t){var i,o=!1,n=-1,s=JSON.parse(window.localStorageCombined.getItem("cith-ie-levelProgress")),a=JSON.parse(window.localStorageCombined.getItem("cith-ie-levelHint")),r=JSON.parse(window.localStorageCombined.getItem("cith-ie-rowColors8")),l=JSON.parse(window.localStorageCombined.getItem("cith-ie-rowProducts8")),h=0,p=!0,c=!1,m="",d=!1,u=0,y=0;for(u=0;u<this.simulationEntities.length;u++)this.simulationEntities[u].triggerEvent("audio-disable");for(this.owner.triggerEvent("tutorial-simulation-complete"),this.firstTry&&platformer.game.kartKingdom&&platformer.game.kartKingdom.event("03130e15-3ebe-4735-873f-3457eb507276"),-1===a[this.owner.parent.rowIndex][this.owner.parent.levelIndex]&&!this.usedHint&&platformer.game.kartKingdom&&(a[this.owner.parent.rowIndex][this.owner.parent.levelIndex]=1,window.localStorageCombined.setItem("cith-ie-levelHint",JSON.stringify(a)),platformer.game.kartKingdom.event("d78a830b-b500-4473-a9ef-e168894f2bb9")),this.owner.parent.colorMatters&&t.color&&r[this.owner.parent.rowIndex]!==t.color&&(r[this.owner.parent.rowIndex]=t.color,window.localStorageCombined.setItem("cith-ie-rowColors8",JSON.stringify(r)),o=!0),s[this.owner.parent.rowIndex][this.owner.parent.levelIndex]<this.candyCount&&(s[this.owner.parent.rowIndex][this.owner.parent.levelIndex]=this.candyCount,window.localStorageCombined.setItem("cith-ie-levelProgress",JSON.stringify(s)),platformer.game.kartKingdom&&platformer.game.kartKingdom.event("49c88245-e407-42a4-b15b-cf26d4972d37"),3===this.candyCount&&platformer.game.kartKingdom&&platformer.game.kartKingdom.event("b116c459-28c8-439c-a922-45501abba622")),1===this.candyCount?platformer.game.kartKingdom&&platformer.game.kartKingdom.event("88399aeb-f06b-41dd-b7d4-f9966f165227"):2===this.candyCount?platformer.game.kartKingdom&&platformer.game.kartKingdom.event("1c7b107f-8d7d-4ef7-a8c5-a8d3e37c81be"):3===this.candyCount&&platformer.game.kartKingdom&&platformer.game.kartKingdom.event("9bd74576-3743-4132-be80-39411b694ba0"),i=s[this.owner.parent.rowIndex],y=0;y<i.length;y++){if(-1===i[y]){p=!1;break}h+=i[y]}p&&(n=(c=h/(3*i.length))<.5?0:c<1?1:2,l[this.owner.parent.rowIndex]<n&&(d=!0,l[this.owner.parent.rowIndex]=n,window.localStorageCombined.setItem("cith-ie-rowProducts8",JSON.stringify(l)),2===n&&platformer.game.kartKingdom&&platformer.game.kartKingdom.event("b28b9b3a-eafb-4e35-8b99-1ee9f84e8727")),m=e[this.owner.parent.rowIndex][l[this.owner.parent.rowIndex]]),(this.owner.parent.levelIndex===s[this.owner.parent.rowIndex].length-1||o&&p)&&(d=!0),this.resultsData.itemType=t.type,this.resultsData.itemName=t.name,this.resultsData.itemColor=t.color,this.resultsData.candyCount=this.candyCount,this.resultsData.candyRowTotal=3*i.length,this.resultsData.candyRowCount=h,this.resultsData.productRow=this.owner.parent.rowIndex,this.resultsData.productLevel=l[this.owner.parent.rowIndex],this.resultsData.productName=m,this.resultsData.productColor=r[this.owner.parent.rowIndex],this.resultsData.productUpdated=d,this.resultsData.currentLevelScene=this.owner.parent.currentLevelScene,this.resultsData.nextLevelScene=this.owner.parent.nextLevelScene,platformer.game.kartKingdom.levelComplete(),this.owner.triggerEvent("show-results",this.resultsData)},"increase-candy-count":function(){this.candyCount++,this.candyCount>3&&(this.candyCount=3)},"add-hint-object":function(t){this.hintObjects[t.hintIndex]=t},"give-hint":function(){var t=0;if(!this.simulationStarted)if(this.usedHint=!0,this.hintIndex>=this.hintObjects.length)for(t=0;t<this.hintObjects.length;t++)this.hintObjects[t].triggerEvent("reset");else this.hintObjects[this.hintIndex].triggerEvent("show"),this.owner.triggerEvent("el-try-hint-vo"),this.hintIndex++,this.hintIndex>=this.hintObjects.length&&this.owner.triggerEvent("tutorial-no-more-hints")},"reset-puzzle-prompt":function(){},"go-to-level-select-prompt":function(){},"highlight-draggable":function(){var t=0;for(this.owner.triggerEvent("play-bonk"),t=0;t<this.simulationEntities.length;t++)this.simulationEntities[t].triggerEvent("blink-if-draggable")}},methods:{destroy:function(){this.preSimulationStates=[],this.simulationEntities=[],this.constantEntities=[],this.gravity=null,this.noGravity=null,this.world=null,this.sidebar=null,this.resultsData=null,this.hintObjects=null}}}}()},333:function(t,e){t.exports={id:"logic-side-bar",constructor:function(t){this.startingItems=this.owner.startingItems||t.startingItems||[],this.items={},this.itemCounts={},this.slotCount=0,this.position=0,this.infiniteItems=this.owner.infiniteItems||!1,this.wait=!1,this.going=0,this.unlockedItems=null,this.unlockItems()},events:{load:function(){var t=0;for(t=0;t<this.startingItems.length;t++)this.owner.triggerEvent("add-item",this.startingItems[t])},"world-loaded":function(){this.startingItems.length>4&&(this.owner.addComponent(new platformer.components["dom-element"](this.owner,{className:"scroll-up",onmousedown:"up",ontouchstart:"up",updateClassName:!0})),this.owner.addComponent(new platformer.components["dom-element"](this.owner,{className:"scroll-down",onmousedown:"down",ontouchstart:"down",updateClassName:!0})),this.owner.trigger("handle-render-load",{element:this.owner.parent.parent.layers[1].element}),this.owner.state.scrollable=!0)},"add-item":function(){var t=0;return function(e){var i=e+"-"+t,o=null,n={};this.owner.parent.isSandbox&&void 0===(n=(n=window.localStorageCombined.getItem("cith-ie-newItems"))?JSON.parse(n):{})[e]&&(n[e]=!0,window.localStorageCombined.setItem("cith-ie-newItems",JSON.stringify(n))),(o={id:i,x:this.owner.x,infinite:this.infiniteItems&&"thing-1-li"!==e&&"thing-2-li"!==e,newItem:n[e]&&this.owner.parent.isSandbox}).y=72*this.slotCount+120,this.items[i]=this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities[e],{properties:o})),this.items[i].triggerEvent("set-side-bar",this.owner),this.itemCounts[i]=1,this.slotCount++,t+=1}}(),"add-item-back":function(t){this.items[t.from]&&(this.itemCounts[t.from]++,this.items[t.from].triggerEvent("increase-count"))},"remove-item":function(t){this.itemCounts[t]&&(this.itemCounts[t]--,0===this.itemCounts[t]&&this.items[t].triggerEvent("hide"))},lock:function(){var t="";for(t in this.items)this.items.hasOwnProperty(t)&&this.items[t].triggerEvent("lock")},unlock:function(){var t="";for(t in this.items)this.items.hasOwnProperty(t)&&this.items[t].triggerEvent("unlock")},swipe:function(t){var e="";if(this.owner.state.scrollable&&!this.wait)for(e in this.items)this.items.hasOwnProperty(e)&&this.items[e].triggerEvent("swipe",t)},"end-swipe":function(t){this.owner.state.scrollable&&(t<0?this.owner.triggerEvent("down",Math.floor((36-t)/72)):t>0&&this.owner.triggerEvent("up",Math.floor((t+36)/72)))},up:function(t){var e="",i=isNaN(t)?4:t||0,o=Math.min(this.position,i);if(this.owner.state.scrollable&&!this.wait){for(e in this.wait=!0,this.position-=o,this.items)this.items.hasOwnProperty(e)&&this.items[e].triggerEvent("up",o);window.setTimeout(function(){this.wait=!1}.bind(this),300)}},down:function(t){var e="",i=isNaN(t)?4:t||0,o=Math.min(this.slotCount-this.position-4,i);if(this.owner.state.scrollable&&!this.wait){for(e in this.wait=!0,this.position+=o,this.items)this.items.hasOwnProperty(e)&&this.items[e].triggerEvent("down",o);window.setTimeout(function(){this.wait=!1}.bind(this),300)}},"peer-entity-added":function(t){var e=t.type+"-li";!this.unlockedItems[e]&&platformer.game.settings.entities[e]&&this.unlockItem(e)}},methods:{unlockItem:function(t){"fan-li"!==t&&"rocket-li"!==t&&"candle-li"!==t&&"seesaw-li"!==t&&(this.unlockedItems[t]=!0,window.localStorageCombined.setItem("cith-ie-unlockedItems",JSON.stringify(this.unlockedItems)))},unlockItems:function(){var t={"candy-li":!0,"berry-ball-li":!0,"platform-small-li":!0,"platform-medium-li":!0,"platform-huge-li":!0};return function(){var e="",i=!1,o=0,n=window.localStorageCombined.getItem("cith-ie-unlockedItems");if(n?n=JSON.parse(n):(n=t,i=!0),this.infiniteItems){if(!platformer.game.settings.debug)for(e in this.startingItems=[],platformer.game.kartKingdom.hasPowerUp("free_play_blocks")&&!n["block-rectangle-li"]&&(n["block-rectangle-li"]=!0,n["block-triangle-li"]=!0,n["block-square-li"]=!0,n["block-bridge-li"]=!0,n["block-half-circle-li"]=!0),platformer.game.kartKingdom.hasPowerUp("free_play_hair_dryer")&&!n["fan-li"]&&(n["fan-li"]=!0),platformer.game.kartKingdom.hasPowerUp("free_play_rocket")&&!n["rocket-li"]&&(n["rocket-li"]=!0,n["candle-li"]=!0),platformer.game.kartKingdom.hasPowerUp("free_play_see_saw")&&!n["seesaw-li"]&&(n["seesaw-li"]=!0),n)n.hasOwnProperty(e)&&n[e]&&this.startingItems.push(e)}else for(o=0;o<this.startingItems.length;o++)n[this.startingItems[o]]||(i=!0,n[this.startingItems[o]]=!0);i&&window.localStorageCombined.setItem("cith-ie-unlockedItems",JSON.stringify(n)),this.unlockedItems=n}}(),destroy:function(){this.items=null}}}},334:function(t,e){t.exports={id:"motor",constructor:function(t){this.joint=null,this.jointData=null,this.jointName=t.joint||"motor",this.speed=t.speed||1,this.torque=t.torque||1,this.simulating=!1},events:{"prepare-for-simulation":function(){this.simulating=!0,this.jointData&&(this.jointData.ready=!0,this.joint.EnableLimit(!1),this.joint.SetMotorSpeed(0),this.joint.EnableMotor(!0))},"joint-attached":function(t){!this.joint&&t&&t.GetUserData().name===this.jointName&&(this.joint=t,this.jointData=t.GetUserData(),this.jointData.entityA?this.jointData.entityB=this.owner:(this.jointData.entityA=this.owner,this.joint.SetLimits(0,0),this.joint.EnableLimit(!0),this.joint.SetMaxMotorTorque(this.torque),this.joint.SetMotorSpeed(0)))},"handle-logic":function(){this.jointData&&(!this.owner.state.running&&this.jointData.ready?(this.owner.state.running=!0,this.jointData.entityA===this.owner&&(this.jointData.reverse?this.joint.SetMotorSpeed(-this.speed):this.joint.SetMotorSpeed(this.speed),this.joint.SetMaxMotorTorque(this.torque))):!this.jointData.ready&&this.owner.state.running&&(this.owner.state.running=!1,this.joint&&this.jointData.entityA===this.owner&&this.joint.SetMotorSpeed(0)))},"stop-motor":function(){this.simulating&&this.jointData&&(this.jointData.ready=!1)},"start-motor":function(){this.simulating&&this.jointData&&(this.jointData.entityA&&this.jointData.entityA.state&&this.jointData.entityA.state.mirrored||this.jointData.entityB&&this.jointData.entityB.state&&this.jointData.entityB.state.mirrored?this.jointData.reverse=!0:this.jointData.reverse=!1,this.jointData.ready=!0)}}}},335:function(t,e){t.exports=function(){var t=function(t){var e=function(t,e){return e&&!t.message?{event:t.event,message:e,delay:t.delay,repeat:t.repeat}:t};return t.singleInstance?function(i){for(var o=0,n=!0;o<this.queue.length;o++)this.queue[o].event===t.event&&(n=!1);n&&(this.queue.push(e(t,i)),this.queueTimes.push(t.delay))}:function(i){this.queue.push(e(t,i)),this.queueTimes.push(t.delay)}},e=function(t){return function(){for(var e=this.queue.length-1;e>-1;e--)this.queue[e]===t&&(this.queueTimes.splice(e,1),this.queue.splice(e,1))}};return{id:"logic-delay-message",constructor:function(i){var o="";if(this.queueTimes=[],this.queue=[],i.events)for(o in i.events)i.events.hasOwnProperty(o)&&(this.addEventListener(o,t(i.events[o])),i.events[o].cancelEvent&&this.addEventListener(i.events[o].cancelEvent,e(i.events[o])))},events:{"handle-logic":function(t){for(var e=this.queue.length-1;e>-1;e--)this.queueTimes[e]-=t.delta,this.queueTimes[e]<=0&&(this.owner.trigger(this.queue[e].event,this.queue[e].message),this.queue[e].repeat?this.queueTimes[e]+=this.queue[e].delay:(this.queueTimes.splice(e,1),this.queue.splice(e,1)))}},methods:{destroy:function(){this.queueTimes.length=0,this.queue.length=0}}}}()},336:function(t,e){t.exports=function(){var t=function(t,e){return" "===e?t+"default":t+e},e=function(t,e,o,n){var s=0,a=[],r=null;if(e[" "]||(e[" "]=e.default),Array.isArray(t)){for(s=0;s<t.length;s++)a.push(i(t[s],e,o,n));return(r=a.splice(0,1)[0]).next=a,r}return i(t,e,o,n)},i=function(e,i,o,n){var s="",a={},r=0,l="",h="",p=e.voice,c=0;if("string"==typeof e.sound)a.sound=e.sound,a.events=[];else{for(s in e.sound)e.sound.hasOwnProperty(s)&&(a[s]=e.sound[s]);a.events?a.events=a.events.slice():a.events=[]}if(p)for(p+=" ",c=0;c<p.length;c++)(h=p[c])!==l&&(l=h,a.events.push({time:r,event:t(o,h)})),r+=n;return a};return{id:"voice-over",constructor:function(i){var o="",n={audioMap:{},aliases:i.aliases},s={spriteSheet:i.spriteSheet,acceptInput:i.acceptInput,scaleX:i.scaleX,scaleY:i.scaleY,rotate:i.rotate,mirror:i.mirror,flip:i.flip,hidden:i.hidden,animationMap:{},pins:i.pins,pinTo:i.pinTo,aliases:i.aliases};for(o in this.message=(i.messagePrefix||"voice-over")+"-",i.animationMap)i.animationMap.hasOwnProperty(o)&&(s.animationMap[t(this.message,o)]=i.animationMap[o]);for(o in s.animationMap.default=i.animationMap.default,this.owner.addComponent(new platformer.components["render-sprite"](this.owner,s)),i.voiceoverMap)i.voiceoverMap.hasOwnProperty(o)&&(n.audioMap[o]=e(i.voiceoverMap[o],i.animationMap,this.message,i.frameLength||100));this.owner.addComponent(new platformer.components.audio(this.owner,n))},events:{load:function(){this.owner.removeComponent(this)}}}}()},337:function(t,e){t.exports={id:"logic-party-vo",constructor:function(){var t=0,e=JSON.parse(window.localStorageCombined.getItem("cith-ie-levelProgress")),i=0,o=0,n=0,s=!1,a=!0;for(this.timeToTalk=2e3,this.whatToSay="",this.confetti=!1,this.controlledConfetti=!1,this.x=0,this.y=0,i=0;i<e.length;i++)for(t=0;t<e[i].length;t++)0===i&&-1===e[i][t]&&(a=!1),n++,-1===e[i][t]?s=!0:o+=e[i][t];this.whatToSay=o/(3*n)==1?"play-party-done":a&&s?"play-party-not-done":a?"play-party-more-stars":"play-party-empty",o>=3*n&&(this.confetti=!0)},events:{"handle-logic":function(t){var e=t.delta;this.timeToTalk>0&&(this.timeToTalk-=e,this.timeToTalk<=0&&this.owner.triggerEvent(this.whatToSay)),this.confetti&&(this.controlledConfetti?this.dropConfetti(this.x,this.y):this.dropConfetti(988*Math.random(),-25))},mousedown:function(t){this.controlledConfetti=!0,this.x=t.x,this.y=t.y},mousemove:function(t){this.x=t.x,this.y=t.y},mouseup:function(){this.controlledConfetti=!1}},methods:{dropConfetti:function(t,e){var i={};i[["r0","r1","r2","b0","b1","b2","y0","y1","y2"][Math.floor(9*Math.random())]]=!0,this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities.confetti,{properties:{x:t,y:e,dx:4*Math.random()-2,dy:4*Math.random()-2,state:i}}))}}}},338:function(t,e){t.exports={id:"logic-gadget-skip",constructor:function(){var t=window.localStorageCombined.getItem("cith-ie-hadLevelSkips");this.goal=null,this.used=!1,this.disabled=!1,this.owner.opacity=1,this.fadeRate=.003,this.count=platformer.game.kartKingdom.hasPowerUp("level_skip"),this.prevCount=0,t?t=JSON.parse(t):(t=this.count>0,window.localStorageCombined.setItem("cith-ie-hadLevelSkips",JSON.stringify(t))),!t&&this.count>0&&!platformer.game.kartKingdom.isFake&&(t=!0,window.localStorageCombined.setItem("cith-ie-hadLevelSkips",JSON.stringify(t))),(this.owner.parent.isSandbox||platformer.game.kartKingdom.isFake||!t)&&(this.destroyMe=!0),0===this.count&&(this.disabled=!0,this.owner.opacity=.3)},events:{"peer-entity-added":function(t){"goal"===t.type&&(this.goal=t)},"handle-logic":function(t){var e=t.delta;0===this.owner.opacity?this.owner.parent.removeEntity(this.owner):this.used&&(this.owner.opacity-=this.fadeRate*e,this.owner.opacity<0&&(this.owner.opacity=0)),this.count!==this.prevCount&&(this.prevCount>9?this.owner.state["ones-10"]=!1:this.owner.state["ones-"+this.prevCount%10]=!1,this.prevCount=this.count,this.count>9?this.owner.state["ones-10"]=!0:this.owner.state["ones-"+this.count%10]=!0),this.disabled&&(this.owner.state.disabled=!0),this.destroyMe&&this.owner.parent.removeEntity(this.owner)},pressed:function(){this.disabled||(this.owner.state["button-down"]=!0)},released:function(){this.used||!this.goal||this.disabled||(this.owner.state["button-down"]=!1,this.used=!0,platformer.game.kartKingdom.usePowerUps({level_skip:1},function(){this.goal.triggerEvent("fake-in-goal"),this.count--}.bind(this),function(){}))}}}},339:function(t,e){t.exports={id:"logic-gadget-star",constructor:function(){var t=window.localStorageCombined.getItem("cith-ie-hadStarShifts");this.used=!1,this.disabled=!1,this.candy=null,this.backup=null,this.owner.opacity=1,this.fadeRate=.003,this.count=platformer.game.kartKingdom.hasPowerUp("star_shift"),this.prevCount=0,t?t=JSON.parse(t):(t=this.count>0,window.localStorageCombined.setItem("cith-ie-hadStarShifts",JSON.stringify(t))),!t&&this.count>0&&!platformer.game.kartKingdom.isFake&&(t=!0,window.localStorageCombined.setItem("cith-ie-hadStarShifts",JSON.stringify(t))),(this.owner.parent.isSandbox||platformer.game.kartKingdom.isFake||!t)&&(this.destroyMe=!0),0===this.count&&(this.disabled=!0,this.owner.opacity=.3)},events:{"peer-entity-added":function(t){"candy"===t.type&&t.backupLocation&&(this.candy=t)},"handle-logic":function(t){var e=t.delta;0===this.owner.opacity?this.owner.parent.removeEntity(this.owner):this.used&&(this.owner.opacity-=this.fadeRate*e,this.owner.opacity<0&&(this.owner.opacity=0)),this.count!==this.prevCount&&(this.prevCount>9?this.owner.state["ones-10"]=!1:this.owner.state["ones-"+this.prevCount%10]=!1,this.prevCount=this.count,this.count>9?this.owner.state["ones-10"]=!0:this.owner.state["ones-"+this.count%10]=!0),this.disabled&&(this.owner.state.disabled=!0),this.destroyMe&&this.owner.parent.removeEntity(this.owner)},pressed:function(){this.disabled||(this.owner.state["button-down"]=!0)},released:function(){this.used||!this.candy||this.disabled||(this.owner.state["button-down"]=!1,this.used=!0,platformer.game.kartKingdom.usePowerUps({star_shift:1},function(){this.candy.triggerEvent("move"),this.count--}.bind(this),function(){}))}}}},340:function(t,e){t.exports=function(){var t=[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1],[-1,-1],[-1,-1,-1],[-1,-1,-1,-1],[-1,-1],[-1,-1,-1,-1]],e=[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1],[-1,-1],[-1,-1,-1],[-1,-1,-1,-1],[-1,-1],[-1,-1,-1,-1]],i=[0,1,2,3,0,1,2,3,0,1,0,1,0,1,2,0,1,2,3,0,1,0,1,2,3],o=[0,0,0,0,1,1,1,1,2,2,3,3,4,4,4,5,5,5,5,6,6,7,7,7,7];return{id:"level-select-manager",constructor:function(){var i=window.localStorageCombined.getItem("cith-ie-levelHint"),o=["","","","","","","",""],n=window.localStorageCombined.getItem("cith-ie-rowProducts8");this.page=1,this.candyCount=0,this.rowCandyCount=[],this.buttonState={play:!1,candy0:!1,candy1:!1,candy2:!1,candy3:!1},this.rowState={bad:!1,medium:!1,good:!1,yellow:!1,blue:!1,red:!1},this.toPlay=-1,this.levelData=window.localStorageCombined.getItem("cith-ie-levelProgress"),this.levelData?this.levelData=JSON.parse(this.levelData):(this.levelData=t,window.localStorageCombined.setItem("cith-ie-levelProgress",JSON.stringify(this.levelData))),i||(i=e,window.localStorageCombined.setItem("cith-ie-levelHint",JSON.stringify(i))),this.rowColors=window.localStorageCombined.getItem("cith-ie-rowColors8"),this.rowColors?this.rowColors=JSON.parse(this.rowColors):(this.rowColors=o,window.localStorageCombined.setItem("cith-ie-rowColors8",JSON.stringify(o))),n||window.localStorageCombined.setItem("cith-ie-rowProducts8",JSON.stringify([-1,-1,-1,-1,-1,-1,-1,-1]))},events:{"scene-loaded":function(){var t=null,e=!1,i=0,o=!0,n=0,s=0,a=0;for(s=0;s<this.levelData.length;s++){for(this.rowCandyCount[s]=0,t=this.levelData[s],o=!0,a=0;a<t.length;a++)this.buttonState.play=!1,this.buttonState.candy0=!1,this.buttonState.candy1=!1,this.buttonState.candy2=!1,this.buttonState.candy3=!1,-1!==t[a]?this.rowCandyCount[s]+=t[a]:o=!1,0===i&&-1===t[0]||-1===t[a]&&e?(this.toPlay=i,this.buttonState.play=!0,e=!1):0===t[a]?(this.buttonState.candy0=!0,e=!0):1===t[a]?(this.buttonState.candy1=!0,e=!0):2===t[a]?(this.buttonState.candy2=!0,e=!0):3===t[a]&&(this.buttonState.candy3=!0,e=!0),this.owner.triggerEvent("button-"+s+a+"-state",this.buttonState),i+=1;this.rowState.bad=!1,this.rowState.medium=!1,this.rowState.good=!1,o&&((n=this.rowCandyCount[s]/(3*t.length))>=0&&n<.5?this.rowState.bad=!0:n>=.5&&n<1?this.rowState.medium=!0:1===n&&(this.rowState.good=!0)),this.rowState.yellow=!1,this.rowState.blue=!1,this.rowState.red=!1,this.rowColors[s]&&(this.rowState[this.rowColors[s].toLowerCase()]=!0),this.owner.triggerEvent("row-"+s+"-reward-state",this.rowState)}this.toPlay>=10&&this.owner.triggerEvent("shift-down"),this.toPlay>=19&&this.owner.triggerEvent("shift-down")},"scene-live":function(){this.owner.triggerEvent("play-background-menu")},"play-level":function(t){-1===this.levelData[o[t]][i[t]]&&t!==this.toPlay||this.owner.triggerEvent("new-scene",{scene:"scene-level-"+t})},"shift-up":function(){this.page>1&&(this.page--,this.owner.parent.getElementById("level-rows-container").className="level-rows-container page-"+this.page,this.owner.parent.getElementById("level-select-arrow-down").className="level-select-arrow arrow-down",1===this.page&&(this.owner.parent.getElementById("level-select-arrow-up").className="level-select-arrow arrow-up hide"))},"shift-down":function(){this.page<3&&(this.page++,this.owner.parent.getElementById("level-rows-container").className="level-rows-container page-"+this.page,this.owner.parent.getElementById("level-select-arrow-up").className="level-select-arrow arrow-up",3===this.page&&(this.owner.parent.getElementById("level-select-arrow-down").className="level-select-arrow arrow-down hide"))}}}}()},341:function(t,e){t.exports={id:"logic-drop-down",constructor:function(){this.dropDownState={show:!1},this.addedElementState={Red:!1,Blue:!1,Yellow:!1,Rubber:!1,Wool:!1,Wood:!1,Eggs:!1,Flour:!1,Honey:!1,Milk:!1,Thread:!1,Paper:!1,Chocolate:!1,Blueberry:!1,Balloon:!1},this.candyState={zero:!1,one:!1,two:!1,three:!1},this.buttonState={"second-to-last":!1},this.showState={show:!1},this.nextLevelScene="",this.currentLevelScene="",this.productId="",this.productAudio="",this.betterProductAudio="",this.betterProduct=!1},events:{"handle-logic":function(){},"show-level-select-prompt":function(){this.showContainer("ays-level-select"),this.owner.triggerEvent("play-confirm-leave"),this.show()},"show-reset-puzzle-prompt":function(){this.showContainer("ays-reset"),this.owner.triggerEvent("play-confirm-reset"),this.show()},"show-level-complete":function(t){var e=null,i=0,o="",n="";if(this.owner.parent.getElementById("level-complete-level-number").innerHTML=t.levelName,0===t.candyCount?o="Nice work!<BR>You added the ":1===t.candyCount?o="Good Job!<BR>You added the ":2===t.candyCount?o="Excellent!<BR>You added the ":3===t.candyCount&&(o="Perfect!<BR>You added the "),o+=t.itemName+"!",this.owner.parent.getElementById("level-complete-title").innerHTML=o,this.addedElementState.red=!1,this.addedElementState.blue=!1,this.addedElementState.yellow=!1,this.addedElementState.Rubber=!1,this.addedElementState.Wool=!1,this.addedElementState.Wood=!1,this.addedElementState.Eggs=!1,this.addedElementState.Flour=!1,this.addedElementState.Honey=!1,this.addedElementState.Milk=!1,this.addedElementState.Thread=!1,this.addedElementState.Paper=!1,this.addedElementState.Chocolate=!1,this.addedElementState.Blueberry=!1,this.addedElementState.Balloon=!1,this.addedElementState[t.itemName]=!0,t.itemColor&&(this.addedElementState[t.itemColor]=!0),this.owner.triggerEvent("added-element-state",this.addedElementState),0===t.candyCount?this.candyState.zero=!0:1===t.candyCount?this.candyState.one=!0:2===t.candyCount?this.candyState.two=!0:3===t.candyCount&&(this.candyState.three=!0),this.owner.triggerEvent("candies-state",this.candyState),t.productUpdated){switch(this.buttonState["second-to-last"]=!0,this.owner.triggerEvent("level-select-button-state",this.buttonState),this.owner.triggerEvent("replay-button-state",this.buttonState),this.owner.triggerEvent("next-level-button-state",this.buttonState),this.owner.triggerEvent("ok-button-state",this.buttonState),0===t.productLevel?(n="Nice! You made a<BR>"+t.productName,this.betterProduct=!0):1===t.productLevel?(n="Excellent! You made a<BR>"+t.productName,this.betterProduct=!0):2===t.productLevel&&(n="Amazing! You made a<BR>"+t.productName),this.owner.parent.getElementById("row-product-title").innerHTML=n,this.owner.parent.getElementById("row-product-product").className+=" "+t.productName.toLowerCase().replace(/ /g,"-"),t.productColor&&(this.owner.parent.getElementById("row-product-product").className+=" "+t.productColor.toLowerCase()),t.productRow){case 0:this.productId="muffins";break;case 1:this.productId="cake";break;case 2:this.productId="balloons";break;case 3:this.productId="party-hats";break;case 4:this.productId="kite";break;case 5:this.productId="pinata";break;case 6:this.productId="decorations";break;case 7:this.productId="ice-cream"}for(this.productAudio="play-product-"+this.productId,this.betterProduct&&(this.betterProductAudio="play-better-"+this.productId),(e={})["total-candies-"+t.candyRowTotal]=!0,i=1;i<=t.candyRowCount;i++)e["count-candies-"+i]=!0;this.owner.triggerEvent("candy-count",e)}else this.buttonState["second-to-last"]=!1,this.owner.triggerEvent("level-select-button-state",this.buttonState),this.owner.triggerEvent("replay-button-state",this.buttonState),this.owner.triggerEvent("next-level-button-state",this.buttonState),this.owner.triggerEvent("ok-button-state",this.buttonState);this.currentLevelScene=t.currentLevelScene,this.nextLevelScene=t.nextLevelScene,this.showContainer("level-complete"),this.show(),this.owner.triggerEvent("play-you-added-"+t.itemName.toLowerCase())},"go-to-reset-puzzle":function(){this.owner.triggerEvent("reset-puzzle"),this.hide()},"go-to-up-a-level":function(){this.owner.parent.isSandbox?this.owner.triggerEvent("new-scene",{scene:"menu"}):this.owner.triggerEvent("new-scene",{scene:"level-select"}),this.partialHide(),this.owner.triggerEvent("audio-stop")},"go-to-level-select":function(){this.owner.triggerEvent("new-scene",{scene:"level-select"}),this.partialHide(),this.owner.triggerEvent("audio-stop")},"go-to-next-level":function(){this.owner.triggerEvent("new-scene",{scene:this.nextLevelScene}),this.partialHide(),this.owner.triggerEvent("audio-stop")},"go-to-replay":function(){this.owner.triggerEvent("new-scene",{scene:this.currentLevelScene}),this.partialHide(),this.owner.triggerEvent("audio-stop")},"go-to-next-dialog":function(){this.partialHide(),this.owner.triggerEvent("audio-stop"),this.owner.triggerEvent("play-product-prep")},"product-ready":function(){this.showContainer("row-product"),this.show(),this.owner.triggerEvent(this.productAudio)},"better-product":function(){this.betterProductAudio&&this.owner.triggerEvent(this.betterProductAudio)},"go-to-party":function(){this.partialHide(),this.owner.triggerEvent("new-scene",{scene:"party"})},"hide-drop-down":function(){this.owner.triggerEvent("audio-stop"),this.hide()}},methods:{showContainer:function(t){this.showState.show=!1,this.owner.triggerEvent("level-complete-container-state",this.showState),this.owner.triggerEvent("row-product-container-state",this.showState),this.owner.triggerEvent("ays-level-select-container-state",this.showState),this.owner.triggerEvent("ays-reset-container-state",this.showState),this.showState.show=!0,"level-complete"===t?this.owner.triggerEvent("level-complete-container-state",this.showState):"row-product"===t?this.owner.triggerEvent("row-product-container-state",this.showState):"ays-level-select"===t?this.owner.triggerEvent("ays-level-select-container-state",this.showState):"ays-reset"===t&&this.owner.triggerEvent("ays-reset-container-state",this.showState)},show:function(){this.dropDownState.show=!0,this.owner.triggerEvent("drop-down-state",this.dropDownState),this.owner.triggerEvent("blind-state",this.dropDownState)},hide:function(){this.dropDownState.show=!1,this.owner.triggerEvent("drop-down-state",this.dropDownState),this.owner.triggerEvent("blind-state",this.dropDownState)},partialHide:function(){this.dropDownState.show=!1,this.owner.triggerEvent("drop-down-state",this.dropDownState)},destroy:function(){this.dropDownState=null}}}},342:function(t,e){t.exports=function(){var t=2*Math.PI;return{id:"logic-candy",constructor:function(t){this.collected=!1,this.manager=null,this.range=t.range||Math.PI/8,this.speed=t.speed||300,this.owner.orientation=0,this.cycle=0,this.startingLocation={x:this.owner.x,y:this.owner.y},this.moving=!1,this.proportion=0,this.progress=0,this.rate=.001,this.finishingMoving=!1,this.fromSetup=[]},events:{"peer-entity-added":function(t){"simulation-manager"===t.type&&(this.manager=t)},"handle-logic":function(e){var i=e.delta;this.cycle+=i/this.speed,this.cycle=this.cycle%(2*Math.PI),this.collected||this.moving?this.owner.orientation+=i/(this.speed/3):this.finishingMoving?(this.owner.orientation%=t,this.owner.orientation+=i/(this.speed/3),this.owner.orientation>t&&(this.owner.orientation=0,this.finishingMoving=!1,this.cycle=0)):this.owner.orientation=Math.cos(this.cycle)*this.range,this.moving&&(this.progress+=this.rate*i,this.progress>1&&(this.progress=1,this.moving=!1,this.finishingMoving=!0,this.manager.triggerEvent("unprevent-simulation")),this.proportion=-Math.cos(this.progress*Math.PI)/2+.5,this.owner.x=this.startingLocation.x*(1-this.proportion)+this.owner.backupLocation.x*this.proportion,this.owner.y=this.startingLocation.y*(1-this.proportion)+this.owner.backupLocation.y*this.proportion)},"prepare-for-simulation":function(){this.simulating=!0,this.fromSetup.length&&!this.collected&&(this.collected=!0,this.manager.triggerEvent("increase-candy-count"),this.owner.triggerEvent("pop"))},"no-collect-candy":function(t){var e="";if(!this.simulating)for(e in this.fromSetup)if(t.entity===this.fromSetup[e]){this.fromSetup.splice(e,1);break}},"collect-candy":function(t){this.simulating?this.collected||(this.collected=!0,this.manager.triggerEvent("increase-candy-count"),this.owner.triggerEvent("pop"),this.owner.triggerEvent("play-sfx","audio-star")):this.fromSetup.push(t.entity)},move:function(){this.owner.backupLocation&&(this.moving=!0,this.manager.triggerEvent("prevent-simulation"))}},methods:{destroy:function(){this.manager=null}}}}()},343:function(t,e){t.exports={id:"logic-popup",constructor:function(t){this.popped=!1,this.growFrom=t.scale||this.owner.scale||this.owner.scaleX||this.owner.scaleY||1,this.growBy=t.growth||1.5,this.opacitySwitch=t.fadeThreshold||.1,this.deathTimerStart=this.deathTimer=t.time||1200},events:{"handle-logic":function(t){var e=t.delta,i=0;this.popped&&(this.deathTimer-=e,this.deathTimer<=0?(this.owner.triggerEvent("entity-gone"),this.owner.parent.removeEntity(this.owner)):(i=this.deathTimer/this.deathTimerStart,this.owner.scaleX=this.growFrom+(1-i)*this.growBy,this.owner.scaleY=this.growFrom+(1-i)*this.growBy,i<=this.opacitySwitch&&(this.owner.opacity=i/this.opacitySwitch)))},pop:function(){this.popped||(this.popped=!0,this.owner.triggerEvent("popped"))}}}},344:function(t,e){t.exports={id:"logic-button-chooser",constructor:function(t){this.destroyMe=!1,this.visibleInSandbox=t.visibleInSandbox||!1,this.owner.parent.isSandbox?this.visibleInSandbox||(this.destroyMe=!0):this.owner.parent.isSandbox||this.visibleInSandbox&&(this.destroyMe=!0)},events:{"scene-loaded":function(){this.destroyMe&&this.owner.parent.removeEntity(this.owner)}}}},345:function(t,e){t.exports={id:"tutorial-brain-level-select",constructor:function(){},events:{"play-tutorials":function(){var t=JSON.parse(window.localStorageCombined.getItem("cith-ie-tutorial-level-select-level"))||!1,e=JSON.parse(window.localStorageCombined.getItem("cith-ie-tutorial-level-select-party"))||!1,i=JSON.parse(window.localStorageCombined.getItem("cith-ie-tutorial-level-select-arrow"))||!1,o=JSON.parse(window.localStorageCombined.getItem("cith-ie-levelProgress"))||null,n=!1,s=0,a=null,r=0,l=0;for(l=0;l<o.length;l++){for(a=o[l],r=0;r<a.length;r++)if(-1==+a[r]){n=!0;break}if(n)break;s++}t?e?i||s>=3&&(this.owner.triggerEvent("play-use-arrows"),i=!0,window.localStorageCombined.setItem("cith-ie-tutorial-level-select-arrow",!0)):s>=1&&(this.owner.triggerEvent("play-view-party"),e=!0,window.localStorageCombined.setItem("cith-ie-tutorial-level-select-party",!0)):(this.owner.triggerEvent("play-select-level"),t=!0,window.localStorageCombined.setItem("cith-ie-tutorial-level-select-level",!0))}},methods:{destroy:function(){this.levelData=null}}}},346:function(t,e){t.exports=function(){var t=0,e=0,i=!1;return{id:"tutorial-brain-in-game",constructor:function(){this.initialTutorialComplete=JSON.parse(window.localStorageCombined.getItem("cith-ie-initialTutorialComplete"))||!1,this.initialTutorialComplete||(t=0,e=0),this.timeToIntroduction=2e3,this.reassurances=["play-reassure-0","play-reassure-1","play-reassure-2","play-reassure-3","play-reassure-4","play-reassure-5","play-reassure-6"],this.availableReassurances=this.reassurances.slice(0),this.alarmReassurance=27e3,this.alarmHelp=3e4,this.alarmDrag=25e3,this.alarmSimulate=2e4,this.alarmReset=2e4,this.alarmGoal=8e3,this.alarmDelay=5e3,this.usedHelp=0,this.timeToReassurance=this.alarmReassurance,this.timeToHelp=this.alarmHelp,this.timeToDrag=this.alarmDrag,this.timeToSimulate=this.alarmSimulate,this.timeToReset=this.alarmReset,this.timeToGoal=this.alarmGoal,this.initialTutorialStep=0,this.tutorialPlaying=!1,this.isSimulating=!1,this.simulationComplete=!1,this.owner.visible=!1,this.transition=0,this.transitionGoal=0,this.transitionTime=500,this.arrowShowing=!1,this.bouncePosition=0,this.bounceOffset=4,this.originalArrowX=0,this.helpAvailable=!0},events:{"handle-logic":function(o){var n=o.delta,s=null,a=0;if(!this.simulationComplete&&!this.tutorialPlaying)if(this.owner.parent.isSandbox)i||this.timeToIntroduction>0&&(this.timeToIntroduction-=n,this.timeToIntroduction<=0&&(i=!0,this.owner.triggerEvent("start-tutorial","play-sandbox-tutorial")));else if(this.initialTutorialComplete)this.timeToIntroduction>0&&(this.timeToIntroduction-=n,this.timeToIntroduction<=0&&this.owner.parent.goalAudio&&this.owner.triggerEvent("start-tutorial","play-add-"+this.owner.parent.goalAudio)),this.isSimulating?t<2&&this.timeToReset>0&&(this.timeToReset-=n,this.timeToReset<=0&&(this.owner.triggerEvent("start-tutorial","play-reset-tutorial"),this.timeToReset=this.alarmReset)):(this.timeToReassurance>0&&(this.timeToReassurance-=n,this.timeToReassurance<=0&&(0===this.availableReassurances.length&&(this.availableReassurances=this.reassurances.slice(0)),a=Math.floor(Math.random()*this.availableReassurances.length),s=this.availableReassurances.splice(a,1),this.owner.triggerEvent("start-tutorial",s),this.timeToReassurance=this.alarmReassurance)),t<6&&this.timeToSimulate>0&&(this.timeToSimulate-=n,this.timeToSimulate<=0&&(this.owner.triggerEvent("start-tutorial","play-simulate-tutorial"),this.timeToSimulate=this.alarmSimulate)),e<3&&this.timeToDrag>0&&(this.timeToDrag-=n,this.timeToDrag<=0&&(this.owner.triggerEvent("start-tutorial","play-drag-tutorial"),this.timeToDrag=this.alarmDrag)),this.usedHelp<2&&this.timeToHelp>0&&this.helpAvailable&&(this.timeToHelp-=n,this.timeToHelp<=0&&(this.usedHelp++,this.owner.triggerEvent("start-tutorial","play-help-tutorial"),this.timeToHelp=this.alarmHelp)),this.timeToGoal>0&&(this.timeToGoal-=n,this.timeToGoal<=0&&(this.owner.triggerEvent("show-goal-arrow-no-timer"),this.timeToGoal=this.alarmGoal)));else{if(this.timeToIntroduction>0&&(this.timeToIntroduction-=n,this.timeToIntroduction<=0))switch(this.initialTutorialStep){case 0:this.owner.triggerEvent("start-tutorial","play-initial-tutorial"),this.initialTutorialStep++;break;case 2:t||this.owner.triggerEvent("start-tutorial","play-initial-lever-tutorial"),this.initialTutorialComplete=!0}1==+this.initialTutorialStep&&e&&(this.owner.triggerEvent("hide-tutorial-arrow"),this.owner.triggerEvent("start-tutorial","play-initial-drag-tutorial"),this.initialTutorialStep++,this.timeToIntroduction=2e3)}this.transition!==this.transitionGoal&&(this.transition<this.transitionGoal&&(this.transition+=n,this.transition>this.transitionGoal&&(this.transition=this.transitionGoal)),this.transition>this.transitionGoal&&(this.transition-=n,this.transition<this.transitionGoal&&(this.transition=this.transitionGoal)),this.owner.opacity=this.transition/this.transitionTime,0===this.owner.opacity&&(this.owner.visible=!1,this.arrowShowing=!1)),this.arrowShowing&&(this.bouncePosition+=n/150,this.bouncePosition>2*Math.PI&&(this.bouncePosition-=2*Math.PI),this.owner.x=this.originalArrowX+Math.sin(this.bouncePosition)*this.bounceOffset)},"start-tutorial":function(t){this.tutorialPlaying||(this.owner.triggerEvent(t),this.tutorialPlaying=!0,this.timeToDrag+=this.alarmDelay,this.timeToSimulate+=this.alarmDelay,this.timeToReset+=this.alarmDelay)},"tutorial-finished":function(){this.tutorialPlaying=!1},"simulation-started":function(){this.isSimulating=!0,this.timeToReset=this.alarmReset,t++,this.owner.triggerEvent("hide-tutorial-arrow"),this.owner.triggerEvent("hide-goal-arrow")},"simulation-stopped":function(){this.isSimulating=!1,this.timeToDrag=this.alarmDrag,this.timeToSimulate=this.alarmSimulate,this.timeToGoal=this.alarmGoal,t++},"simulation-complete":function(){this.simulationComplete=!0,this.owner.triggerEvent("audio-stop"),window.localStorageCombined.setItem("cith-ie-initialTutorialComplete",!0)},"stage-mousedown":function(){this.owner.triggerEvent("hide-goal-arrow"),this.timeToGoal=this.alarmGoal},"used-list-item":function(){e++,this.timeToDrag=this.alarmDrag},"show-tutorial-arrow":function(t){this.originalArrowX=t.x,this.bouncePosition=0,this.owner.x=t.x,this.owner.y=t.y,this.owner.visible=!0,this.transitionGoal=this.transitionTime,this.arrowShowing=!0},"hide-tutorial-arrow":function(){this.transitionGoal=0},"no-more-hints":function(){this.helpAvailable=!1},"try-hint-vo":function(){this.owner.triggerEvent("start-tutorial","play-hint-vo")}}}}()},347:function(t,e){t.exports=function(){var t=["party-muffins","party-cake","party-balloons","party-hats","party-kite","party-pinata","party-decorations","party-ice-cream"];return{id:"party-manager-brain",constructor:function(){var e=JSON.parse(window.localStorageCombined.getItem("cith-ie-levelProgress")),i=this.rowColors=JSON.parse(window.localStorageCombined.getItem("cith-ie-rowColors8")),o=!1,n=0,s=0,a="",r={state:{}},l=!1,h=0,p=0,c=0;for(this.productQualities=[],c=0;c<e.length;c++){for(n=0,s=0,o=!1,h=0;h<e[c].length;h++){if(-1==+e[c][h]){o=!0;break}n+=e[c][h]}if(o)break;1===(s=n/(3*e[c].length))?this.productQualities.push("good"):s>=.5?this.productQualities.push("medium"):this.productQualities.push("bad")}for(p=0;p<this.productQualities.length;p++)a=t[p],r.state={},r.state[this.productQualities[p]]=!0,i[p]&&(r.state[i[p]]=!0),"party-hats"===a?(this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities.nick,{properties:r})),this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities.sally,{properties:r})),this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities["vo-party-cat"],{properties:r})),l=!0):this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities[a],{properties:r}));l||(this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities.nick,{properties:{}})),this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities.sally,{properties:{}})),this.owner.parent.addEntity(new platformer.Entity(platformer.game.settings.entities["vo-party-cat"],{properties:{}})))},events:{"scene-live":function(){this.owner.triggerEvent("play-background")}}}}()},348:function(t,e){t.exports={id:"logic-party-bounce",constructor:function(t){this.scaleFactor=t.scaleFactor||.05,this.frequency=t.frequency||400,this.position=0,this.scaleAffect=1},events:{"handle-logic":function(t){var e;this.position+=t.delta/this.frequency,this.position=this.position%(2*Math.PI),e=Math.cos(this.position)/2+.5,this.owner.scaleY=1-this.scaleFactor*e}}}},349:function(t,e){t.exports=function(){var t=!(window.AudioContext&&"running"!==(new window.AudioContext).state||window.webkitAudioContext&&"running"!==(new window.webkitAudioContext).state);return createjs.Sound.initializeDefaultPlugins(),{id:"enable-ios-audio",constructor:function(){},events:{complete:function(){t?this.owner.trigger("sound-ready"):(t=!0,this.owner.trigger("sound-not-ready"))}}}}()},350:function(t,e){t.exports=function(){var t=Box2D.Common.Math.b2Vec2;return{id:"shrink-popper",constructor:function(e){var i=this.owner;this.scaleX=0,this.scaleY=0,this.size=e.size||.5,this.transition=e.ticks||10,this.delay=this.transition+(e.delay||0),this.finish=this.delay+this.transition,this.ticks=0,this.stage="begin",this.shrinker=e.shrinker||this.owner,i.scaleX=this.scaleX=i.scaleX||1,i.scaleY=this.scaleY=i.scaleY||1,i.body.SetLinearVelocity(new t(0,0)),i.state.shrunk=!0},events:{"handle-logic":function(){var t=this.ticks,e=this.owner,i=1;e.body&&(t<this.transition?(i=this.size+(1-this.size)*(this.transition-t)/this.transition,e.scaleX=this.scaleX*i,e.scaleY=this.scaleY*i,this.processShapes(e.body.GetFixtureList(),i)):t<=this.delay?"shrunk"!==this.stage&&(this.shrinker.triggerEvent("shrunk",this.owner),this.stage="shrunk",i=this.size,e.scaleX=this.scaleX*i,e.scaleY=this.scaleY*i,this.processShapes(e.body.GetFixtureList(),i)):t<this.finish?("puffing"!==this.stage&&(this.shrinker.triggerEvent("puffing",this.owner),this.stage="puffing"),i=this.size+(1-this.size)*(t-this.delay)/this.transition,e.scaleX=this.scaleX*i,e.scaleY=this.scaleY*i,this.processShapes(e.body.GetFixtureList(),i)):("unshrunk"!==this.stage&&(this.shrinker.triggerEvent("unshrunk",this.owner),this.stage="unshrunk"),i=1,e.scaleX=this.scaleX*i,e.scaleY=this.scaleY*i,this.processShapes(e.body.GetFixtureList(),i),e.state.shrunk=!1,e.removeComponent(this)),this.ticks+=1)}},methods:{processShapes:function(t,e){var i=0,o=null,n=null;if(t){if((o=t.GetShape()).m_radius&&(void 0===o.originalRadius&&(o.originalRadius=o.m_radius),o.m_radius=e*o.originalRadius),o.m_vertices)for(;i<o.m_vertices.length;i++)void 0===(n=o.m_vertices[i]).originalX&&(n.originalX=n.x),void 0===n.originalY&&(n.originalY=n.y),n.x=e*n.originalX,n.y=e*n.originalY;this.processShapes(t.GetNext(),e)}}}}}()},351:function(t,e,i){"use strict";i.r(e);i(280);var o=i(110),n=i(111),s=i(282);window.Springroll=o,window.Box2D=n,function(){var t=window.platformer={};t.settings=s,function(t){var e=null;t&&(t.console||((e=t.console={}).log=e.warn=e.error=function(){}),t.Array&&!t.Array.isArray&&(t.Array.isArray=function(t){return t instanceof Array}))}(window),window.addEventListener("load",function(){var e=null,i=null,o=1;t.settings.supports.mobile&&(e=document.getElementById("container"))&&(e.className="mobilify",i=function(){var t=null;e.style.height=Math.max(window.innerHeight,300)+"px",window.scrollTo(0,41),o=1,(t=document.getElementById("html5-header")).offsetWidth<675?(o=(1-(o=t.offsetWidth/695))/5+o,t.style.fontSize=100*o+"px"):t.style.fontSize="100px"},window.addEventListener("resize",i,!1),window.addEventListener("orientationchange",i,!1),i()),new t.Game(t.settings,function(t){var e=null;if(window.PBS&&PBS.KIDS&&PBS.KIDS.KartKingdom)try{t.kartKingdom=e=new PBS.KIDS.KartKingdom.minigame("b0a041a6-2184-4952-9bc0-9e054d884d31","root",function(){console.log("Pause event triggered."),t.setPaused(!0)},function(){console.log("Unpause event triggered."),t.setPaused(!1)})}catch(t){console.warn("Error loading Kart Kingdom",t)}e||(t.kartKingdom=e={isFake:!0,resources:{star_shift:0,level_skip:0,free_play_blocks:0,free_play_hair_dryer:0,free_play_rocket:0,free_play_see_saw:0},hasPowerUp:function(t){return console.log("KK: Has Resources Called"),this.resources[t]?this.resources[t]:0},usePowerUps:function(t,e,i){var o=!1,n="";for(n in console.log("KK: Use Resources Called"),t)this.resources[n]>=t[n]&&(this.resources[n]-=t[n],o=!0);o?e():i()},levelComplete:function(){console.log("KK: Level Complete Called")},event:function(){console.log("KK: Event Called")}},console.warn("FAKE Kart Kingdom loaded."))})},!1),function(){var t="cith-ie",e="";window.localStorageCombined={getItem:function(e){var i=JSON.parse(localStorage.getItem(t)||"{}")[e.replace("cith-ie-","")];return void 0===i?null:i},setItem:function(i,o){var n=JSON.parse(localStorage.getItem(t)||"{}");n[i.replace("cith-ie-","")]=o,e=JSON.stringify(n),localStorage.setItem(t,e)}}}(),t.Messenger=i(283),t.CollisionShape=i(284),t.settings.supports=i(285),t.Game=i(286),t.Scene=i(287),t.Entity=i(288),t.createComponentClass=i(289),t.createComponentClass(i(290)),t.createComponentClass(i(291)),t.createComponentClass(i(292)),t.createComponentClass(i(293)),t.createComponentClass(i(294)),t.createComponentClass(i(295)),t.createComponentClass(i(296),t.Messenger),t.createComponentClass(i(297)),t.createComponentClass(i(298)),t.createComponentClass(i(299)),t.createComponentClass(i(300)),t.createComponentClass(i(301)),t.createComponentClass(i(302)),t.createComponentClass(i(303)),t.createComponentClass(i(304)),t.createComponentClass(i(305)),t.createComponentClass(i(306)),t.createComponentClass(i(307)),t.createComponentClass(i(308)),t.createComponentClass(i(309)),t.createComponentClass(i(310)),t.createComponentClass(i(311)),t.createComponentClass(i(312)),t.createComponentClass(i(313)),t.createComponentClass(i(314)),t.createComponentClass(i(315)),t.createComponentClass(i(316)),t.createComponentClass(i(317)),t.createComponentClass(i(318)),t.createComponentClass(i(319)),t.createComponentClass(i(320)),t.createComponentClass(i(321)),t.createComponentClass(i(322)),t.createComponentClass(i(323)),t.createComponentClass(i(324)),t.createComponentClass(i(325)),t.createComponentClass(i(326)),t.createComponentClass(i(327)),t.createComponentClass(i(328)),t.createComponentClass(i(329)),t.createComponentClass(i(330)),t.createComponentClass(i(331)),t.createComponentClass(i(332)),t.createComponentClass(i(333)),t.createComponentClass(i(334)),t.createComponentClass(i(335)),t.createComponentClass(i(336)),t.createComponentClass(i(337)),t.createComponentClass(i(338)),t.createComponentClass(i(339)),t.createComponentClass(i(340)),t.createComponentClass(i(341)),t.createComponentClass(i(342)),t.createComponentClass(i(343)),t.createComponentClass(i(344)),t.createComponentClass(i(345)),t.createComponentClass(i(346)),t.createComponentClass(i(347)),t.createComponentClass(i(348)),t.createComponentClass(i(349)),t.createComponentClass(i(350))}()}});