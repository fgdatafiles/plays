/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){var v,A,G,K,B,D,J,r,o,k,i,n,l,y,s,q,c,u,t,C,a;function m(b,h){function a(){}a.prototype=b;var d=new a,c;for(c in h)d[c]=h[c];h.toString!==Object.prototype.toString&&(d.toString=h.toString);return d}function N(b){return b instanceof Array?function(){return w.iter(b)}:"function"==typeof b.iterator?x(b,b.iterator):b.iterator}function x(b,h){if(null==h)return null;null==h.__id__&&(h.__id__=R++);var a;null==b.hx__closures__?b.hx__closures__={}:a=b.hx__closures__[h.__id__];null==
a&&(a=function(){return a.method.apply(a.scope,arguments)},a.scope=b,a.method=h,b.hx__closures__[h.__id__]=a);return a}var z=function(){return D.__string_rec(this,"")},H=function(b,h){h=h.split("u").join("");this.r=RegExp(b,h)};H.__name__=!0;H.prototype={matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matched:function(b){if(null!=this.r.m&&0<=b&&b<this.r.m.length)b=this.r.m[b];else throw"EReg::matched";return b},match:function(b){this.r.global&&
(this.r.lastIndex=0);this.r.m=this.r.exec(b);this.r.s=b;return null!=this.r.m},__class__:H};var w=function(){};w.__name__=!0;w.cca=function(b,h){var a=b.charCodeAt(h);return a!=a?void 0:a};w.substr=function(b,h,a){if(null!=h&&0!=h&&null!=a&&0>a)return"";null==a&&(a=b.length);0>h?(h=b.length+h,0>h&&(h=0)):0>a&&(a=b.length+a-h);return b.substr(h,a)};w.remove=function(b,h){for(var a=0,d=b.length;a<d;){if(b[a]==h)return b.splice(a,1),!0;a++}return!1};w.iter=function(b){return{cur:0,arr:b,hasNext:function(){return this.cur<
this.arr.length},next:function(){return this.arr[this.cur++]}}};var L=function(){};L.__name__=!0;L.array=function(b){for(var h=[],b=N(b)();b.hasNext();){var a=b.next();h.push(a)}return h};L.count=function(b,h){var a=0;if(null==h)for(var d=N(b)();d.hasNext();)d.next(),a++;else for(d=N(b)();d.hasNext();){var c=d.next();h(c)&&a++}return a};var f=function(){};f.__name__=!0;f.main=function(){o.init();var b=k.Manifest.fromAssets("bootstrap"),h="",h=a.tubad.model.JSEmbedProxy.get_base();""!=h&&null!=h&&
b.set_localBase(h+"assets/");o._platform.loadAssetPack(b).get(f.onBootstrapLoaded)};f.onBootstrapLoaded=function(b){f.bootstrapAssets=b;var b=k.Manifest.fromAssets("main"),h="",h=a.tubad.model.JSEmbedProxy.get_base();""!=h&&null!=h&&b.set_localBase(h+"assets/");var e=o._platform.loadAssetPack(b);e.progressChanged.connect(function(){f.preloader.setProgress(e._progress/e._total)});e.get(f.onMainLoaded);f.preloader=new a.tubad.view.preloader.Preloader};f.onMainLoaded=function(b){f.mainAssets=b;a.tubad.data.FontData.luckiestGuyPurple=
new i.Font(f.mainAssets,"font/luckiestguy_purple");a.tubad.data.FontData.luckiestGuyWhite=new i.Font(f.mainAssets,"font/luckiestguy_white");a.tubad.data.FontData.coopBold64White=new i.Font(f.mainAssets,"font/ASCII_coopBold_64pt_white");a.tubad.data.FontData.coopBold80White=new i.Font(f.mainAssets,"font/ASCII_coopBold_80pt_white");a.tubad.data.FontData.coopLight36Purple=new i.Font(f.mainAssets,"font/ASCII_coopLight_36pt_Purple");a.tubad.data.FontData.dickVanDyke16Orange=new i.Font(f.mainAssets,"font/ASCII_dickVanDyke_16pt_orange");
a.tubad.data.FontData.dickVanDyke18White=new i.Font(f.mainAssets,"font/ASCII_dickVanDyke_18pt_white");a.tubad.data.FontData.dickVanDyke24Purple=new i.Font(f.mainAssets,"font/ASCII_dickVanDyke_24pt_Purple");a.tubad.data.FontData.klunderScriptBold42Yellow=new i.Font(f.mainAssets,"font/ASCII_klunderScriptBold_42pt_yellow");a.tubad.data.FontData.klunderScriptBold46Red=new i.Font(f.mainAssets,"font/ASCII_klunderScriptBold_46pt_red");f.preloader.destroy();f.engine=new a.tubad.AppEngine};var O=function(){};
O.__name__=!0;var I=function(){};I.__name__=!0;I.field=function(b,h){var a=null;try{a=b[h]}catch(d){}return a};var E=function(){};E.__name__=!0;E.string=function(b){return D.__string_rec(b,"")};E.parseInt=function(b){var h=parseInt(b,10);if(0==h&&(120==w.cca(b,1)||88==w.cca(b,1)))h=parseInt(b);return isNaN(h)?null:h};var M=function(){this.b=""};M.__name__=!0;M.prototype={addSub:function(b,h,a){this.b+=null==a?w.substr(b,h,null):w.substr(b,h,a)},__class__:M};var F=function(){};F.__name__=!0;F.isSpace=
function(b,h){var a=w.cca(b,h);return 8<a&&14>a||32==a};F.ltrim=function(b){for(var h=b.length,a=0;a<h&&F.isSpace(b,a);)a++;return 0<a?w.substr(b,a,h-a):b};F.rtrim=function(b){for(var h=b.length,a=0;a<h&&F.isSpace(b,h-a-1);)a++;return 0<a?w.substr(b,0,h-a):b};F.trim=function(b){return F.ltrim(F.rtrim(b))};F.replace=function(b,h,a){return b.split(h).join(a)};var p=function(){};p.__name__=!0;p.parse=function(b){return v.Parser.parse(b)};p.createElement=function(b){var h=new p;h.nodeType=p.Element;h._children=
[];h._attributes=new A.StringMap;h.set_nodeName(b);return h};p.createPCData=function(b){var h=new p;h.nodeType=p.PCData;h.set_nodeValue(b);return h};p.createCData=function(b){var h=new p;h.nodeType=p.CData;h.set_nodeValue(b);return h};p.createComment=function(b){var h=new p;h.nodeType=p.Comment;h.set_nodeValue(b);return h};p.createDocType=function(b){var h=new p;h.nodeType=p.DocType;h.set_nodeValue(b);return h};p.createProcessingInstruction=function(b){var h=new p;h.nodeType=p.ProcessingInstruction;
h.set_nodeValue(b);return h};p.createDocument=function(){var b=new p;b.nodeType=p.Document;b._children=[];return b};p.prototype={addChild:function(b){if(null==this._children)throw"bad nodetype";null!=b._parent&&w.remove(b._parent._children,b);b._parent=this;this._children.push(b)},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var b=0,h=this._children.length;b<h;){var a=this._children[b];if(a.nodeType==p.Element)return a;b++}return null},elementsNamed:function(b){if(null==
this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var h=this.cur,a=this.x.length;h<a;){var d=this.x[h];if(d.nodeType==p.Element&&d._nodeName==b)break;h++}this.cur=h;return h<a},next:function(){for(var h=this.cur,a=this.x.length;h<a;){var d=this.x[h];h++;if(d.nodeType==p.Element&&d._nodeName==b)return this.cur=h,d}return null}}},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},
next:function(){return this.x[this.cur++]}}},exists:function(b){if(this.nodeType!=p.Element)throw"bad nodeType";return this._attributes.exists(b)},set:function(b,h){if(this.nodeType!=p.Element)throw"bad nodeType";this._attributes.set(b,h)},set_nodeValue:function(b){if(this.nodeType==p.Element||this.nodeType==p.Document)throw"bad nodeType";return this._nodeValue=b},get_nodeValue:function(){if(this.nodeType==p.Element||this.nodeType==p.Document)throw"bad nodeType";return this._nodeValue},set_nodeName:function(b){if(this.nodeType!=
p.Element)throw"bad nodeType";return this._nodeName=b},get_nodeName:function(){if(this.nodeType!=p.Element)throw"bad nodeType";return this._nodeName},__class__:p};a=void 0;a={tubad:{}};a.tubad.AppEngine=function(){a.tubad.AppEngine.rootSprite=new i.Sprite;o.root.add(a.tubad.AppEngine.rootSprite);null==a.tubad.core.EngineCore._instance&&(a.tubad.core.EngineCore._instance=new a.tubad.core.EngineCore);a.tubad.core.EngineCore._instance.get_messageControl().addListener("CONTENT_XML_LOADED",x(this,this.onXmlLoaded));
o._platform.getStage().resize.connect(x(this,this.resize));this.setupControl();this.setupModel()};a.tubad.AppEngine.__name__=!0;a.tubad.AppEngine.prototype={setupView:function(){this._menuScreen=new n;this._menuScreen.add(new a.tubad.view.screens.menu.MenuScreen);o.root.addChild(this._menuScreen);this._gameScreen=new n;this._gameScreen.add(new a.tubad.view.screens.game.GameScreen);o.root.addChild(this._gameScreen);this._gameOverScreen=new n;this._gameOverScreen.add(new a.tubad.view.screens.gameover.GameOverScreen);
o.root.addChild(this._gameOverScreen);this._transitionDisplay=new n;this._transitionDisplay.add(new a.tubad.view.ui.TransitionDisplay);this._transitionDisplay._compMap.CoreObject_1.setPrevious(this._menuScreen._compMap.CoreObject_1);o.root.addChild(this._transitionDisplay);this._pausePanel=new n;this._pausePanel.add(new a.tubad.view.panels.PausePanel);o.root.addChild(this._pausePanel);this._helpPanel=new n;this._helpPanel.add(new a.tubad.view.panels.HelpPanel);o.root.addChild(this._helpPanel);this._quitConfirmPanel=
new n;this._quitConfirmPanel.add(new a.tubad.view.panels.QuitConfirmPanel);o.root.addChild(this._quitConfirmPanel);null==a.tubad.core.EngineCore._instance&&(a.tubad.core.EngineCore._instance=new a.tubad.core.EngineCore);a.tubad.core.EngineCore._instance.get_messageControl().addListener("FORCE_RESIZE",x(this,this.resize));o._platform.getStage().resize.connect(x(this,this.resize));this.resize()},setupModel:function(){new a.tubad.model.SoundProxy;new a.tubad.model.GameStateProxy;new a.tubad.model.GameLevelProxy;
new a.tubad.model.PlaynomicsProxy;new a.tubad.model.ContentProxy},setupControl:function(){var b;null==a.tubad.core.EngineCore._instance&&(a.tubad.core.EngineCore._instance=new a.tubad.core.EngineCore);b=a.tubad.core.EngineCore._instance;b.addCommand("NAVIGATE_TO_SCREEN",new a.tubad.controller.NavigateToScreenCommand);b.addCommand("NAVIGATE_TO_PANEL",new a.tubad.controller.NavigateToPanelCommand);b.addCommand("SET_PAUSE",new a.tubad.controller.SetPauseCommand);b.addCommand("SET_AUDIO_ENABLED",new a.tubad.controller.SetAudioEnabledCommand);
b.addCommand("LOCKER_OPENED",new a.tubad.controller.LockerOpenedCommand);b.addCommand("FOOP_MOVED",new a.tubad.controller.FoopMovedCommand);b.addCommand("LEVEL_COMPLETE",new a.tubad.controller.LevelCompleteCommand);b.addCommand("PLAY_EFFECT",new a.tubad.controller.PlayEffectCommand);b.addCommand("PLAY_MUSIC",new a.tubad.controller.PlayMusicCommand);b.addCommand("STOP_EFFECT",new a.tubad.controller.StopEffectCommand);b.addCommand("START_NEW_GAME",new a.tubad.controller.StartNewGameCommand);b.addCommand("PLAYER_DEAD",
new a.tubad.controller.PlayerDeadCommand);b.addCommand("GAME_LEVEL_STARTED",new a.tubad.controller.GameLevelStartedCommand);b.addCommand("TRACK_EVENT",new a.tubad.controller.TrackEventCommand)},onXmlLoaded:function(){null==a.tubad.core.EngineCore._instance&&(a.tubad.core.EngineCore._instance=new a.tubad.core.EngineCore);a.tubad.core.EngineCore._instance.getObject("ContentProxy").getLoaded()&&this.setupView()},resize:function(){var b=Math.min(o._platform.getStage().get_width()/1024,o._platform.getStage().get_height()/
600);a.tubad.AppEngine.rootSprite.setScale(b);a.tubad.AppEngine.rootSprite.setXY(0.5*o._platform.getStage().get_width()-512*b,0.5*o._platform.getStage().get_height()-300*b);this._menuScreen._compMap.CoreObject_1.resize();this._gameScreen._compMap.CoreObject_1.resize()},__class__:a.tubad.AppEngine};o=void 0;k=void 0;i=void 0;n=void 0;l=void 0;B=void 0;y=void 0;s=void 0;q=void 0;c=void 0;u=void 0;t=void 0;u=void 0;C=void 0;u=void 0;l={Disposable:function(){}};l.Disposable.__name__=!0;l.Disposable.prototype=
{__class__:l.Disposable};B=function(){};B.__name__=!0;B.__interfaces__=[l.Disposable];B.prototype={init:function(b,h){this.owner=b;this.next=h},get_name:function(){return null},dispose:function(){null!=this.owner&&this.owner.remove(this)},onUpdate:function(){},onRemoved:function(){},onAdded:function(){},__class__:B};a.tubad.core={};a.tubad.core.CoreObject=function(b){this._objectName="";this._objectName=b;""!=this.getName()&&this.register();this.setInUse(!0)};a.tubad.core.CoreObject.__name__=!0;a.tubad.core.CoreObject.__super__=
B;a.tubad.core.CoreObject.prototype=m(B.prototype,{getName:function(){return this._objectName},setInUse:function(b){this._inUse=b;if(null!=this.owner){var h=this.owner._compMap.Sprite_0;null!=h&&h.set_visible(b)}},getInUse:function(){return this._inUse},addMessageListener:function(b,h){this.getCore().get_messageControl().addListener(b,h)},sendMessage:function(b,h){this.getCore().get_messageControl().sendMessage(b,h)},getCore:function(){null==this._core&&(null==a.tubad.core.EngineCore._instance&&(a.tubad.core.EngineCore._instance=
new a.tubad.core.EngineCore),this._core=a.tubad.core.EngineCore._instance);return this._core},register:function(){this.getCore().addObject(this)},get_name:function(){return"CoreObject_1"},__class__:a.tubad.core.CoreObject});a.tubad.controller={};a.tubad.controller.ProjectCommand=function(){a.tubad.core.CoreObject.call(this,"")};a.tubad.controller.ProjectCommand.__name__=!0;a.tubad.controller.ProjectCommand.__super__=a.tubad.core.CoreObject;a.tubad.controller.ProjectCommand.prototype=m(a.tubad.core.CoreObject.prototype,
{execute:function(){},listenForMessage:function(b){this.addMessageListener(b,x(this,this.execute))},__class__:a.tubad.controller.ProjectCommand});a.tubad.controller.FoopMovedCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.FoopMovedCommand.__name__=!0;a.tubad.controller.FoopMovedCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.FoopMovedCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(){this.getCore().getObject("GameScreen").createFoopBolt()},
__class__:a.tubad.controller.FoopMovedCommand});a.tubad.controller.GameLevelStartedCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.GameLevelStartedCommand.__name__=!0;a.tubad.controller.GameLevelStartedCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.GameLevelStartedCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(){var b=this.getCore(),h=b.getObject("GameStateProxy"),b=b.getObject("TransitionDisplay");null!=
b&&b.setLevelNum(h.getCurrentLevel()+1)},__class__:a.tubad.controller.GameLevelStartedCommand});a.tubad.controller.LevelCompleteCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.LevelCompleteCommand.__name__=!0;a.tubad.controller.LevelCompleteCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.LevelCompleteCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(){var b=this.getCore(),h=b.getObject("GameStateProxy"),b=b.getObject("GameLevelProxy"),
e=h.getCurrentLevel()+1;e>=b.getNumLevels()?this.sendMessage("NAVIGATE_TO_SCREEN",new a.tubad.data.NavData("GameOverScreen")):(h.setCurrentLevel(e),this.sendMessage("NAVIGATE_TO_SCREEN",new a.tubad.data.NavData("GameScreen")))},__class__:a.tubad.controller.LevelCompleteCommand});a.tubad.controller.LockerOpenedCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.LockerOpenedCommand.__name__=!0;a.tubad.controller.LockerOpenedCommand.__super__=a.tubad.controller.ProjectCommand;
a.tubad.controller.LockerOpenedCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(b){var h=this.getCore(),a=h.getObject("GameStateProxy");a.addPoints(b.getPoints());h.getObject("GameScreen").setScore(a.getCurrentPoints());h.getObject("GameOverScreen").setScore(a.getCurrentPoints())},__class__:a.tubad.controller.LockerOpenedCommand});a.tubad.controller.NavigateToPanelCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.NavigateToPanelCommand.__name__=
!0;a.tubad.controller.NavigateToPanelCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.NavigateToPanelCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(b){var h=this.getCore(),a=h.getObject("HelpPanel"),d=h.getObject("PausePanel"),h=h.getObject("QuitConfirmPanel");switch(b.to){case "HelpPanel":a.getInUse()?a.hide():(a.show(),this.sendMessage("TRACK_EVENT","CUSTOM3"));break;case "PausePanel":d.show();break;case "QuitConfirmPanel":h.show()}},__class__:a.tubad.controller.NavigateToPanelCommand});
a.tubad.controller.NavigateToScreenCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.NavigateToScreenCommand.__name__=!0;a.tubad.controller.NavigateToScreenCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.NavigateToScreenCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(b){var h=this.getCore(),a=h.getObject(b.from),d=h.getObject(b.to);h.getObject("TransitionDisplay").transition(d,a);this.sendMessage("FORCE_RESIZE");
switch(b.to){case "MenuScreen":this.sendMessage("TRACK_EVENT","CUSTOM2");break;case "GameScreen":this.sendMessage("TRACK_EVENT","CUSTOM6");b=h.getObject("GameStateProxy");h.getObject("GameOverScreen").setScore(b.getCurrentPoints());break;case "GameOverScreen":this.sendMessage("TRACK_EVENT","CUSTOM7")}},__class__:a.tubad.controller.NavigateToScreenCommand});a.tubad.controller.PlayEffectCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.PlayEffectCommand.__name__=!0;
a.tubad.controller.PlayEffectCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.PlayEffectCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(b){this.getCore().getObject("SoundProxy").playEffect(b)},__class__:a.tubad.controller.PlayEffectCommand});a.tubad.controller.PlayMusicCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.PlayMusicCommand.__name__=!0;a.tubad.controller.PlayMusicCommand.__super__=a.tubad.controller.ProjectCommand;
a.tubad.controller.PlayMusicCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(b){this.getCore().getObject("SoundProxy").playMusic(b)},__class__:a.tubad.controller.PlayMusicCommand});a.tubad.controller.PlayerDeadCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.PlayerDeadCommand.__name__=!0;a.tubad.controller.PlayerDeadCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.PlayerDeadCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,
{execute:function(){this.sendMessage("NAVIGATE_TO_SCREEN",new a.tubad.data.NavData("GameOverScreen"))},__class__:a.tubad.controller.PlayerDeadCommand});a.tubad.controller.SetAudioEnabledCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.SetAudioEnabledCommand.__name__=!0;a.tubad.controller.SetAudioEnabledCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.SetAudioEnabledCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(b){var h=
this.getCore().getObject("SoundProxy");h.setEffectsEnabled(b);h.setMusicEnabled(b)},__class__:a.tubad.controller.SetAudioEnabledCommand});a.tubad.controller.SetPauseCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.SetPauseCommand.__name__=!0;a.tubad.controller.SetPauseCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.SetPauseCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(b){var h=this.getCore().getObject("GameScreen");
h.setPaused(b);h.getPaused()&&this.sendMessage("NAVIGATE_TO_PANEL",new a.tubad.data.NavData("PausePanel"))},__class__:a.tubad.controller.SetPauseCommand});a.tubad.controller.StartNewGameCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.StartNewGameCommand.__name__=!0;a.tubad.controller.StartNewGameCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.StartNewGameCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(){var b=
this.getCore(),h=b.getObject("GameStateProxy");h.setCurrentLevel(0);h.setCurrentPoints(0);b=b.getObject("GameScreen");b.setScore(h.getCurrentPoints());b.reset();this.sendMessage("NAVIGATE_TO_SCREEN",new a.tubad.data.NavData("GameScreen"))},__class__:a.tubad.controller.StartNewGameCommand});a.tubad.controller.StopEffectCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.StopEffectCommand.__name__=!0;a.tubad.controller.StopEffectCommand.__super__=a.tubad.controller.ProjectCommand;
a.tubad.controller.StopEffectCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,{execute:function(b){this.getCore().getObject("SoundProxy").stopEffect(b)},__class__:a.tubad.controller.StopEffectCommand});a.tubad.controller.TrackEventCommand=function(){a.tubad.controller.ProjectCommand.call(this)};a.tubad.controller.TrackEventCommand.__name__=!0;a.tubad.controller.TrackEventCommand.__super__=a.tubad.controller.ProjectCommand;a.tubad.controller.TrackEventCommand.prototype=m(a.tubad.controller.ProjectCommand.prototype,
{execute:function(b){this.getCore().getObject("PlaynomicsProxy").trackEvent(b)},__class__:a.tubad.controller.TrackEventCommand});a.tubad.core.EngineCore=function(){this._messageControl=new a.tubad.core.MessageControl};a.tubad.core.EngineCore.__name__=!0;a.tubad.core.EngineCore.prototype={get_messageControl:function(){return this._messageControl},getObject:function(b){for(var h=this._objects.length,a=0;a<h;){var d=this._objects[a++];if(d.getName()==b)return d}return null},addObject:function(b){""!=
b.getName()&&(null==this._objects&&(this._objects=[]),null==this.getObject(b.getName())&&this._objects.push(b));null},addCommand:function(b,h){h.listenForMessage(b)},__class__:a.tubad.core.EngineCore};a.tubad.core.MessageControl=function(){this._listeners=[]};a.tubad.core.MessageControl.__name__=!0;a.tubad.core.MessageControl.prototype={addListener:function(b,h){this._listeners.push(new a.tubad.data.MessageListenerData(b,h))},sendMessage:function(b,h){for(var a=this._listeners.length,d=0;d<a;){var c=
this._listeners[d++];c.messageName==b&&(null!=h?c.listenerCallback(h):c.listenerCallback())}},__class__:a.tubad.core.MessageControl};a.tubad.data={};a.tubad.data.AnimatedSpriteData=function(b,h,a,d){null==d&&(d=0.1);null==a&&(a=0);null==h&&(h=0);this.animationSpeed=0.08;this.anchorX=this.anchorY=0;this.textures=b;this.anchorX=h;this.anchorY=a;this.animationSpeed=d};a.tubad.data.AnimatedSpriteData.__name__=!0;a.tubad.data.AnimatedSpriteData.prototype={__class__:a.tubad.data.AnimatedSpriteData};a.tubad.data.BarrierData=
function(b,h,a){null==a&&(a=0);this.spawnX=this.spawnY=this.type=0;this.spawnX=b;this.spawnY=h;this.type=a};a.tubad.data.BarrierData.__name__=!0;a.tubad.data.BarrierData.prototype={__class__:a.tubad.data.BarrierData};a.tubad.data.ContentData=function(){this.menuMessageTap=this.menuMessageClick=this.gameLives=this.gameScore=this.gameLevelCompletePre=this.gameLevelCompletePost=this.gameLevelIntro=this.gameGetReady=this.gameOverScoreLabel=this.gameOverReplay=this.helpTitle=this.helpText1=this.helpText2=
this.helpText3=this.helpText4=this.helpText5=this.helpTaps=this.helpEnemy1=this.helpEnemy2=this.helpEnemy3=this.helpClose=this.pauseTitle=this.pauseResume=this.pauseHelp=this.pauseMute=this.pauseQuit=this.quitConfirmMessage="";this.useTracking=!0};a.tubad.data.ContentData.__name__=!0;a.tubad.data.ContentData.prototype={__class__:a.tubad.data.ContentData};a.tubad.data.FontData=function(){};a.tubad.data.FontData.__name__=!0;a.tubad.data.LevelData=function(){this.badgerEnabled=this.tubacabraEnabled=
this.foopEnabled=!0;this.enemySpeedModifier=this.enemySpawnModifier=1};a.tubad.data.LevelData.__name__=!0;a.tubad.data.LevelData.prototype={__class__:a.tubad.data.LevelData};a.tubad.data.MessageListenerData=function(b,h){this.messageName="";this.messageName=b;this.listenerCallback=h};a.tubad.data.MessageListenerData.__name__=!0;a.tubad.data.MessageListenerData.prototype={__class__:a.tubad.data.MessageListenerData};a.tubad.data.NavData=function(b,h){null==h&&(h="");this.to=this.from="";this.to=b;this.from=
h};a.tubad.data.NavData.__name__=!0;a.tubad.data.NavData.prototype={__class__:a.tubad.data.NavData};a.tubad.data.SoundData=function(b,h){this.id=b;this.playback=h};a.tubad.data.SoundData.__name__=!0;a.tubad.data.SoundData.prototype={__class__:a.tubad.data.SoundData};a.tubad.model={};a.tubad.model.AbstractXMLProxy=function(b){a.tubad.core.CoreObject.call(this,b)};a.tubad.model.AbstractXMLProxy.__name__=!0;a.tubad.model.AbstractXMLProxy.__super__=a.tubad.core.CoreObject;a.tubad.model.AbstractXMLProxy.prototype=
m(a.tubad.core.CoreObject.prototype,{getLoaded:function(){return this._loaded},parseXMLData:function(){},readFileToXML:function(b,h,a){null==a&&(a="");null==h&&(h=!1);this._xmlFilename=b;this._loaded=!1;var d=this,c=new XMLHttpRequest;h?c.open("POST",b,!0):c.open("GET",b,!0);c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(d._loaded=!0,d._xml=p.parse(c.responseText),d.parseXMLData())};h&&a?c.send(a):c.send()},__class__:a.tubad.model.AbstractXMLProxy});
a.tubad.model.ContentProxy=function(){a.tubad.model.AbstractXMLProxy.call(this,"ContentProxy");this.readFileToXML(a.tubad.model.JSEmbedProxy.get_base()+"xml/content.xml")};a.tubad.model.ContentProxy.__name__=!0;a.tubad.model.ContentProxy.__super__=a.tubad.model.AbstractXMLProxy;a.tubad.model.ContentProxy.prototype=m(a.tubad.model.AbstractXMLProxy.prototype,{processText:function(b){return b=F.replace(b,"\\n","\n")},getContentData:function(){return this._contentData},parseXMLData:function(){this._contentData=
new a.tubad.data.ContentData;var b=new v.Fast(this._xml.firstElement());b.hasNode.resolve("useTracking")&&"0"==b.node.resolve("useTracking").get_innerData()&&(this._contentData.useTracking=!1);this._contentData.menuMessageTap=this.processText(b.node.resolve("menu").node.resolve("messagetap").get_innerData());this._contentData.menuMessageClick=this.processText(b.node.resolve("menu").node.resolve("messageclick").get_innerData());this._contentData.gameLives=this.processText(b.node.resolve("game").node.resolve("lives").get_innerData());
this._contentData.gameScore=this.processText(b.node.resolve("game").node.resolve("score").get_innerData());this._contentData.gameLevelCompletePre=this.processText(b.node.resolve("game").node.resolve("levelcompletepre").get_innerData());this._contentData.gameLevelCompletePost=this.processText(b.node.resolve("game").node.resolve("levelcompletepost").get_innerData());this._contentData.gameLevelIntro=this.processText(b.node.resolve("game").node.resolve("levelintro").get_innerData());this._contentData.gameGetReady=
this.processText(b.node.resolve("game").node.resolve("getready").get_innerData());this._contentData.gameOverScoreLabel=this.processText(b.node.resolve("gameover").node.resolve("score").get_innerData());this._contentData.gameOverReplay=this.processText(b.node.resolve("gameover").node.resolve("replay").get_innerData());this._contentData.helpTitle=this.processText(b.node.resolve("help").node.resolve("title").get_innerData());this._contentData.helpText1=this.processText(b.node.resolve("help").node.resolve("bit1").get_innerData());
this._contentData.helpText2=this.processText(b.node.resolve("help").node.resolve("bit2").get_innerData());this._contentData.helpText3=this.processText(b.node.resolve("help").node.resolve("bit3").get_innerData());this._contentData.helpText4=this.processText(b.node.resolve("help").node.resolve("bit4").get_innerData());this._contentData.helpText5=this.processText(b.node.resolve("help").node.resolve("bit5").get_innerData());this._contentData.helpTaps=this.processText(b.node.resolve("help").node.resolve("taps").get_innerData());
this._contentData.helpEnemy1=this.processText(b.node.resolve("help").node.resolve("enemy1").get_innerData());this._contentData.helpEnemy2=this.processText(b.node.resolve("help").node.resolve("enemy2").get_innerData());this._contentData.helpEnemy3=this.processText(b.node.resolve("help").node.resolve("enemy3").get_innerData());this._contentData.helpClose=this.processText(b.node.resolve("help").node.resolve("close").get_innerData());this._contentData.pauseTitle=this.processText(b.node.resolve("pause").node.resolve("title").get_innerData());
this._contentData.pauseResume=this.processText(b.node.resolve("pause").node.resolve("resume").get_innerData());this._contentData.pauseHelp=this.processText(b.node.resolve("pause").node.resolve("help").get_innerData());this._contentData.pauseMute=this.processText(b.node.resolve("pause").node.resolve("mute").get_innerData());this._contentData.pauseQuit=this.processText(b.node.resolve("pause").node.resolve("quit").get_innerData());this._contentData.quitConfirmMessage=this.processText(b.node.resolve("quitconfirm").node.resolve("message").get_innerData());
this.sendMessage("CONTENT_XML_LOADED")},__class__:a.tubad.model.ContentProxy});a.tubad.model.GameLevelProxy=function(){a.tubad.core.CoreObject.call(this,"GameLevelProxy");this._levelDatas=[];var b=new a.tubad.data.LevelData;b.badgerEnabled=!1;b.tubacabraEnabled=!1;b.foopEnabled=!1;b.rows=[];b.rows.push([0,0,0,0,0,0]);b.rows.push([1,0,1,0,1,0]);b.rows.push([0,1,0,1,0,1]);b.rows.push([0,0,0,0,0,0]);b.barriers=[];this._levelDatas.push(b);b=new a.tubad.data.LevelData;b.tubacabraEnabled=!1;b.foopEnabled=
!1;b.rows=[];b.rows.push([0,0,1,1,1,0]);b.rows.push([0,0,0,1,1,0]);b.rows.push([0,0,1,1,1,0]);b.rows.push([0,0,0,0,0,0]);b.barriers=[];b.barriers.push(new a.tubad.data.BarrierData(302,169,0));b.barriers.push(new a.tubad.data.BarrierData(582,299,0));b.barriers.push(new a.tubad.data.BarrierData(302,429,0));this._levelDatas.push(b);b=new a.tubad.data.LevelData;b.foopEnabled=!1;b.rows=[];b.rows.push([1,1,0,0,2,0]);b.rows.push([1,0,1,0,0,1]);b.rows.push([1,1,1,1,1,1]);b.rows.push([0,0,1,0,1,0]);b.barriers=
[];b.barriers.push(new a.tubad.data.BarrierData(50+140*0.27,383.5,1));b.barriers.push(new a.tubad.data.BarrierData(227.8,383.5,2));b.barriers.push(new a.tubad.data.BarrierData(367.8,383.5,3));b.barriers.push(new a.tubad.data.BarrierData(507.8,383.5,1));b.barriers.push(new a.tubad.data.BarrierData(647.8,383.5,2));this._levelDatas.push(b);b=new a.tubad.data.LevelData;b.rows=[];b.rows.push([0,0,1,1,0,3]);b.rows.push([0,1,0,0,1,0]);b.rows.push([1,0,0,0,0,1]);b.rows.push([2,1,1,1,1,1]);b.barriers=[];b.barriers.push(new a.tubad.data.BarrierData(302,
182,0));b.barriers.push(new a.tubad.data.BarrierData(227.8,253.5,2));b.barriers.push(new a.tubad.data.BarrierData(302,299,0));b.barriers.push(new a.tubad.data.BarrierData(647.8,383.5,1));b.barriers.push(new a.tubad.data.BarrierData(442,429,0));this._levelDatas.push(b);b=new a.tubad.data.LevelData;b.enemySpawnModifier=1.2;b.enemySpeedModifier=1.1;b.rows=[];b.rows.push([0,1,1,1,1,0]);b.rows.push([1,1,1,1,1,1]);b.rows.push([1,1,1,3,1,1]);b.rows.push([0,1,1,1,2,0]);b.barriers=[];this._levelDatas.push(b);
b=new a.tubad.data.LevelData;b.enemySpawnModifier=1.5;b.enemySpeedModifier=1.1;b.rows=[];b.rows.push([0,1,1,1,1,0]);b.rows.push([0,1,1,3,0,0]);b.rows.push([1,0,2,0,0,1]);b.rows.push([0,1,0,0,0,1]);b.barriers=[];b.barriers.push(new a.tubad.data.BarrierData(162,429,0));b.barriers.push(new a.tubad.data.BarrierData(722,299,0));b.barriers.push(new a.tubad.data.BarrierData(722,429,0));b.barriers.push(new a.tubad.data.BarrierData(367.8,253.5,1));b.barriers.push(new a.tubad.data.BarrierData(787.8,253.5,2));
this._levelDatas.push(b);b=new a.tubad.data.LevelData;b.enemySpawnModifier=2;b.enemySpeedModifier=1.2;b.rows=[];b.rows.push([0,1,2,0,1,1]);b.rows.push([1,1,1,0,1,1]);b.rows.push([0,1,0,0,1,1]);b.rows.push([0,1,0,1,3,1]);b.barriers=[];b.barriers.push(new a.tubad.data.BarrierData(50+140*0.27,253.5,1));b.barriers.push(new a.tubad.data.BarrierData(227.8,253.5,2));b.barriers.push(new a.tubad.data.BarrierData(367.8,253.5,3));b.barriers.push(new a.tubad.data.BarrierData(507.8,253.5,1));b.barriers.push(new a.tubad.data.BarrierData(227.8,
513.5,2));b.barriers.push(new a.tubad.data.BarrierData(507.8,513.5,3));this._levelDatas.push(b);b=new a.tubad.data.LevelData;b.enemySpawnModifier=3;b.enemySpeedModifier=1.3;b.rows=[];b.rows.push([0,1,1,1,1,0]);b.rows.push([0,1,1,1,1,0]);b.rows.push([0,2,1,1,3,0]);b.rows.push([0,1,1,1,1,0]);b.barriers=[];b.barriers.push(new a.tubad.data.BarrierData(162,169,0));b.barriers.push(new a.tubad.data.BarrierData(162,299,0));b.barriers.push(new a.tubad.data.BarrierData(162,429,0));b.barriers.push(new a.tubad.data.BarrierData(722,
169,0));b.barriers.push(new a.tubad.data.BarrierData(722,299,0));b.barriers.push(new a.tubad.data.BarrierData(722,429,0));this._levelDatas.push(b);b=new a.tubad.data.LevelData;b.enemySpawnModifier=5;b.enemySpeedModifier=1.4;b.rows=[];b.rows.push([1,1,1,1,1,2]);b.rows.push([1,1,3,1,1,1]);b.rows.push([1,1,1,1,1,1]);b.rows.push([1,1,1,1,1,1]);b.barriers=[];b.barriers.push(new a.tubad.data.BarrierData(227.8,253.5,1));b.barriers.push(new a.tubad.data.BarrierData(367.8,253.5,2));b.barriers.push(new a.tubad.data.BarrierData(647.8,
253.5,3));b.barriers.push(new a.tubad.data.BarrierData(787.8,253.5,3));b.barriers.push(new a.tubad.data.BarrierData(507.8,383.5,2));b.barriers.push(new a.tubad.data.BarrierData(647.8,383.5,1));b.barriers.push(new a.tubad.data.BarrierData(787.8,383.5,2));b.barriers.push(new a.tubad.data.BarrierData(227.8,513.5,1));b.barriers.push(new a.tubad.data.BarrierData(367.8,513.5,3));b.barriers.push(new a.tubad.data.BarrierData(507.8,513.5,1));this._levelDatas.push(b);b=new a.tubad.data.LevelData;b.enemySpawnModifier=
10;b.enemySpeedModifier=1.5;b.rows=[];b.rows.push([1,1,1,1,1,1]);b.rows.push([1,1,1,1,1,1]);b.rows.push([1,1,1,1,1,2]);b.rows.push([1,1,1,1,1,3]);b.barriers=[];b.barriers.push(new a.tubad.data.BarrierData(227.8,253.5,1));b.barriers.push(new a.tubad.data.BarrierData(367.8,253.5,2));b.barriers.push(new a.tubad.data.BarrierData(507.8,253.5,3));b.barriers.push(new a.tubad.data.BarrierData(647.8,253.5,1));b.barriers.push(new a.tubad.data.BarrierData(227.8,383.5,3));b.barriers.push(new a.tubad.data.BarrierData(367.8,
383.5,1));b.barriers.push(new a.tubad.data.BarrierData(507.8,383.5,2));b.barriers.push(new a.tubad.data.BarrierData(647.8,383.5,3));b.barriers.push(new a.tubad.data.BarrierData(227.8,513.5,2));b.barriers.push(new a.tubad.data.BarrierData(367.8,513.5,3));b.barriers.push(new a.tubad.data.BarrierData(507.8,513.5,1));b.barriers.push(new a.tubad.data.BarrierData(647.8,513.5,2));this._levelDatas.push(b)};a.tubad.model.GameLevelProxy.__name__=!0;a.tubad.model.GameLevelProxy.__super__=a.tubad.core.CoreObject;
a.tubad.model.GameLevelProxy.prototype=m(a.tubad.core.CoreObject.prototype,{getNumLevels:function(){return this._levelDatas.length},getLevelData:function(b){return this._levelDatas[b]},__class__:a.tubad.model.GameLevelProxy});a.tubad.model.GameStateProxy=function(){this._currentLevel=this._currentPoints=0;a.tubad.core.CoreObject.call(this,"GameStateProxy")};a.tubad.model.GameStateProxy.__name__=!0;a.tubad.model.GameStateProxy.__super__=a.tubad.core.CoreObject;a.tubad.model.GameStateProxy.prototype=
m(a.tubad.core.CoreObject.prototype,{getCurrentLevel:function(){return this._currentLevel},setCurrentLevel:function(b){this._currentLevel=b},getCurrentPoints:function(){return this._currentPoints},setCurrentPoints:function(b){this._currentPoints=b},addPoints:function(b){this._currentPoints+=b},__class__:a.tubad.model.GameStateProxy});a.tubad.model.JSEmbedProxy=function(){};a.tubad.model.JSEmbedProxy.__name__=!0;a.tubad.model.JSEmbedProxy.get_base=function(){return a.tubad.model.JSEmbedProxy.callJSEmbedMethod("baseUrl()")};
a.tubad.model.JSEmbedProxy.callJSEmbedMethod=function(b){var h=null;try{return h=eval("jsembed."+b),null==h?"":h}catch(a){}return h};a.tubad.model.PlaynomicsProxy=function(){a.tubad.core.CoreObject.call(this,"PlaynomicsProxy")};a.tubad.model.PlaynomicsProxy.__name__=!0;a.tubad.model.PlaynomicsProxy.__super__=a.tubad.core.CoreObject;a.tubad.model.PlaynomicsProxy.prototype=m(a.tubad.core.CoreObject.prototype,{trackEvent:function(){var b="date.getTime()"+Math.random();G.Md5.encode(b);null},__class__:a.tubad.model.PlaynomicsProxy});
a.tubad.model.SoundProxy=function(){this._musicEnabled=this._effectsEnabled=!0;a.tubad.core.CoreObject.call(this,"SoundProxy");this._existingSounds=[]};a.tubad.model.SoundProxy.__name__=!0;a.tubad.model.SoundProxy.__super__=a.tubad.core.CoreObject;a.tubad.model.SoundProxy.prototype=m(a.tubad.core.CoreObject.prototype,{getEffectsEnabled:function(){return this._effectsEnabled},setEffectsEnabled:function(b){(this._effectsEnabled=b)||this.stopAllEffects()},setMusicEnabled:function(b){this._musicEnabled=
b;b||(this.stopEffect(this._currentMusic),this._currentMusic="")},stopAllEffects:function(){for(var b=0,h=this._existingSounds;b<h.length;){var a=h[b];++b;a.id!=this._currentMusic&&a.playback.dispose()}},stopEffect:function(b){for(var h=0,a=this._existingSounds;h<a.length;){var d=a[h];++h;d.id==b&&d.playback.dispose()}},playEffect:function(b){this.cleanupExisting();this._effectsEnabled&&this._existingSounds.push(new a.tubad.data.SoundData(b,f.mainAssets.getSound(b).play()))},playMusic:function(b){this.cleanupExisting();
this._musicEnabled&&b!=this._currentMusic&&(this.stopEffect(this._currentMusic),this._existingSounds.push(new a.tubad.data.SoundData(b,f.mainAssets.getSound(b).loop())),this._currentMusic=b)},cleanupExisting:function(){for(var b=this._existingSounds.length-1;0<=b;){var h=this._existingSounds[b];h.playback.get_complete()._value&&w.remove(this._existingSounds,h);b--}},__class__:a.tubad.model.SoundProxy});y={Point:function(b,h){null==h&&(h=0);null==b&&(b=0);this.x=b;this.y=h}};y.Point.__name__=!0;y.Point.prototype=
{__class__:y.Point};i={Sprite:function(){this._viewMatrixUpdateCount=this._parentViewMatrixUpdateCount=0;this.blendMode=this.scissor=this._viewMatrix=null;var b=this;this._flags=139;this._localMatrix=new y.Matrix;var h=function(){b._flags|=12};this.x=new s.AnimatedFloat(0,h);this.y=new s.AnimatedFloat(0,h);this.rotation=new s.AnimatedFloat(0,h);this.scaleX=new s.AnimatedFloat(1,h);this.scaleY=new s.AnimatedFloat(1,h);this.anchorX=new s.AnimatedFloat(0,h);this.anchorY=new s.AnimatedFloat(0,h);this.alpha=
new s.AnimatedFloat(1)}};i.Sprite.__name__=!0;i.Sprite.hitTest=function(b,h,a){var d=b._compMap.Sprite_0;if(null!=d){if(3!=(d._flags&3))return null;d.getLocalMatrix().inverseTransform(h,a,i.Sprite._scratchPoint)&&(h=i.Sprite._scratchPoint.x,a=i.Sprite._scratchPoint.y);var c=d.scissor;if(null!=c&&!c.contains(h,a))return null}b=i.Sprite.hitTestBackwards(b.firstChild,h,a);return null!=b?b:null!=d&&d.containsLocal(h,a)?d:null};i.Sprite.render=function(b,h){var a=b._compMap.Sprite_0;if(null!=a){var d=
a.alpha._value;if(0==(a._flags&1)||0>=d)return;h.save();1>d&&h.multiplyAlpha(d);null!=a.blendMode&&h.setBlendMode(a.blendMode);var d=a.getLocalMatrix(),c=d.m02,g=d.m12;0!=(a._flags&128)&&(c=Math.round(c),g=Math.round(g));h.transform(d.m00,d.m10,d.m01,d.m11,c,g);d=a.scissor;null!=d&&h.applyScissor(d.x,d.y,d.width,d.height);a.draw(h)}d=b._compMap.Director_3;if(null!=d){d=d.occludedScenes;for(c=0;c<d.length;)g=d[c],++c,i.Sprite.render(g,h)}for(d=b.firstChild;null!=d;)c=d.next,i.Sprite.render(d,h),d=
c;null!=a&&h.restore()};i.Sprite.hitTestBackwards=function(b,h,a){if(null!=b){var d=i.Sprite.hitTestBackwards(b.next,h,a);return null!=d?d:i.Sprite.hitTest(b,h,a)}return null};i.Sprite.__super__=B;i.Sprite.prototype=m(B.prototype,{onPointerUp:function(b){switch(b.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&256)&&this._pointerOut.emit(b),this._flags&=-257,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(b)},
onHover:function(b){if(0==(this._flags&256)&&(this._flags|=256,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(b),this.connectHover()},onPointerMove:function(b){this.onHover(b);null!=this._pointerMove&&this._pointerMove.emit(b)},onPointerDown:function(b){this.onHover(b);null!=this._pointerDown&&this._pointerDown.emit(b)},set_pointerEnabled:function(b){this._flags=l.BitSets.set(this._flags,2,b);return b},set_visible:function(b){this._flags=l.BitSets.set(this._flags,
1,b);return b},connectHover:function(){var b=this;null==this._hoverConnection&&(this._hoverConnection=o._platform.getPointer().move.connect(function(h){for(var a=h.hit;null!=a;){if(a==b)return;a=a.getParentSprite()}null!=b._pointerOut&&0!=(b._flags&256)&&b._pointerOut.emit(h);b._flags&=-257;b._hoverConnection.dispose();b._hoverConnection=null}))},get_pointerUp:function(){null==this._pointerUp&&(this._pointerUp=new l.Signal1);return this._pointerUp},get_pointerDown:function(){null==this._pointerDown&&
(this._pointerDown=new l.Signal1);return this._pointerDown},getParentSprite:function(){if(null==this.owner)return null;for(var b=this.owner.parent;null!=b;){var h=b._compMap.Sprite_0;if(null!=h)return h;b=b.parent}return null},isViewMatrixDirty:function(){if(0!=(this._flags&8))return!0;var b=this.getParentSprite();return null==b?!1:this._parentViewMatrixUpdateCount!=b._viewMatrixUpdateCount||b.isViewMatrixDirty()},draw:function(){},onUpdate:function(b){this.x.update(b);this.y.update(b);this.rotation.update(b);
this.scaleX.update(b);this.scaleY.update(b);this.alpha.update(b);this.anchorX.update(b);this.anchorY.update(b)},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onAdded:function(){0!=(this._flags&256)&&this.connectHover()},setScaleXY:function(b,h){this.scaleX.set__(b);this.scaleY.set__(h);return this},setScale:function(b){this.scaleX.set__(b);this.scaleY.set__(b);return this},setXY:function(b,h){this.x.set__(b);this.y.set__(h);return this},
getViewMatrix:function(){if(this.isViewMatrixDirty()){var b=this.getParentSprite();this._viewMatrix=null!=b?y.Matrix.multiply(b.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix);this._flags&=-9;null!=b&&(this._parentViewMatrixUpdateCount=b._viewMatrixUpdateCount);++this._viewMatrixUpdateCount}return this._viewMatrix},getLocalMatrix:function(){0!=(this._flags&4)&&(this._flags&=-5,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,
this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},containsLocal:function(b,h){return 0<=b&&b<this.getNaturalWidth()&&0<=h&&h<this.getNaturalHeight()},contains:function(b,h){return this.getViewMatrix().inverseTransform(b,h,i.Sprite._scratchPoint)&&this.containsLocal(i.Sprite._scratchPoint.x,i.Sprite._scratchPoint.y)},getNaturalHeight:function(){return 0},getNaturalWidth:function(){return 0},
get_name:function(){return"Sprite_0"},__class__:i.Sprite});i.ImageSprite=function(b){i.Sprite.call(this);this.texture=b};i.ImageSprite.__name__=!0;i.ImageSprite.__super__=i.Sprite;i.ImageSprite.prototype=m(i.Sprite.prototype,{getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},draw:function(b){null!=this.texture&&b.drawTexture(this.texture,0,0)},__class__:i.ImageSprite});a.tubad.view={};
a.tubad.view.AnimatedSprite=function(b){this._paused=!1;this._playing=!0;this._currentFrame=0;i.ImageSprite.call(this,b.textures[0]);this.setData(b);null==a.tubad.core.EngineCore._instance&&(a.tubad.core.EngineCore._instance=new a.tubad.core.EngineCore);a.tubad.core.EngineCore._instance.get_messageControl().addListener("SET_PAUSE",x(this,this.onPauseSet))};a.tubad.view.AnimatedSprite.__name__=!0;a.tubad.view.AnimatedSprite.__super__=i.ImageSprite;a.tubad.view.AnimatedSprite.prototype=m(i.ImageSprite.prototype,
{get_animationEnded:function(){null==this._internal_animationEnded&&(this._internal_animationEnded=new l.Signal0);return this._internal_animationEnded},stop:function(){this._playing=!1},setData:function(b,h){null==h&&(h=-1);null!=b&&(this._data!=b&&(this._data=b,this._delayUntilNextFrame=this._data.animationSpeed,this.anchorX.set__(this._data.anchorX),this.anchorY.set__(this._data.anchorY),this._currentFrame=0,this.texture=this._data.textures[0]),0<=h&&(this._currentFrame=h,this.texture=this._data.textures[h]))},
onUpdate:function(b){this._playing&&!this._paused&&(this._delayUntilNextFrame-=b,0>this._delayUntilNextFrame&&(this._currentFrame++,this._currentFrame>=this._data.textures.length&&(this._currentFrame=0,this.get_animationEnded().emit()),this.texture=this._data.textures[this._currentFrame],this._delayUntilNextFrame=this._data.animationSpeed))},onPauseSet:function(b){this._paused=b},reset:function(){this._currentFrame=0;this._delayUntilNextFrame=this._data.animationSpeed;this.texture=this._data.textures[0];
this._playing=!0},__class__:a.tubad.view.AnimatedSprite});a.tubad.view.panels={};a.tubad.view.panels.Panel=function(b){a.tubad.core.CoreObject.call(this,b)};a.tubad.view.panels.Panel.__name__=!0;a.tubad.view.panels.Panel.__super__=a.tubad.core.CoreObject;a.tubad.view.panels.Panel.prototype=m(a.tubad.core.CoreObject.prototype,{onHidden:function(){this.setInUse(!1)},hide:function(){this._blocker._compMap.Sprite_0.alpha.animateTo(0,0.4,s.Ease.linear);var b=new q.Script;b.run(new q.Sequence([new q.Delay(0.8),
new q.CallFunction(x(this,this.onHidden))]));this.owner.add(b)},show:function(){this.setInUse(!0);var b=this._blocker._compMap.Sprite_0;b.alpha.set__(0);b.alpha.animateTo(1,0.4,s.Ease.linear)},onCloseAllPanels:function(){this.hide()},onAdded:function(){this.owner.add(new i.Sprite);this._blocker=new n;this._blocker.add(new i.ImageSprite(f.mainAssets.getTexture("panels/panel_blocker")));this._blocker._compMap.Sprite_0.setScale(1.1);this.owner.addChild(this._blocker);this.addMessageListener("CLOSE_PANELS",
x(this,this.onCloseAllPanels))},__class__:a.tubad.view.panels.Panel});a.tubad.view.panels.HelpPanel=function(){a.tubad.view.panels.Panel.call(this,"HelpPanel")};a.tubad.view.panels.HelpPanel.__name__=!0;a.tubad.view.panels.HelpPanel.__super__=a.tubad.view.panels.Panel;a.tubad.view.panels.HelpPanel.prototype=m(a.tubad.view.panels.Panel.prototype,{hide:function(){a.tubad.view.panels.Panel.prototype.hide.call(this);var b=this._bg._compMap.Sprite_0;b.y.animateTo(-b.getNaturalHeight()-10,0.4,s.Ease.quartOut)},
show:function(){a.tubad.view.panels.Panel.prototype.show.call(this);var b=this._bg._compMap.Sprite_0;b.setXY(512-0.5*b.getNaturalWidth(),-b.getNaturalHeight()-10);b.y.animateTo(300-0.5*b.getNaturalHeight(),1,s.Ease.quartOut)},onCloseClick:function(){this.hide()},onAdded:function(){a.tubad.view.panels.Panel.prototype.onAdded.call(this);var b=this.getCore().getObject("ContentProxy").getContentData();this._bg=new n;this._bg.add(new i.ImageSprite(f.mainAssets.getTexture("panels/help_bg")));this.owner.addChild(this._bg);
this._title=new n;this._title.add(new i.TextSprite(a.tubad.data.FontData.coopBold80White,b.helpTitle));this._title._compMap.Sprite_0.setXY(467-0.5*this._title._compMap.Sprite_0.getNaturalWidth(),35);this._bg.addChild(this._title);this._bit1=new n;this._bit1.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke18White,b.helpText1));this._bit1._compMap.Sprite_0.wrapWidth.set__(260);this._bit1._compMap.Sprite_0.set_align(i.TextAlign.Center);this._bit1._compMap.Sprite_0.setXY(164-0.5*this._bit1._compMap.Sprite_0.getNaturalWidth(),
228);this._bg.addChild(this._bit1);this._bit2=new n;this._bit2.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke18White,b.helpText2));this._bit2._compMap.Sprite_0.wrapWidth.set__(260);this._bit2._compMap.Sprite_0.set_align(i.TextAlign.Center);this._bit2._compMap.Sprite_0.setXY(478-0.5*this._bit2._compMap.Sprite_0.getNaturalWidth(),263);this._bg.addChild(this._bit2);this._bit3=new n;this._bit3.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke18White,b.helpText3));this._bit3._compMap.Sprite_0.wrapWidth.set__(260);
this._bit3._compMap.Sprite_0.set_align(i.TextAlign.Center);this._bit3._compMap.Sprite_0.setXY(778-0.5*this._bit3._compMap.Sprite_0.getNaturalWidth(),150);this._bg.addChild(this._bit3);this._bit4=new n;this._bit4.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke18White,b.helpText4));this._bit4._compMap.Sprite_0.wrapWidth.set__(260);this._bit4._compMap.Sprite_0.set_align(i.TextAlign.Center);this._bit4._compMap.Sprite_0.setXY(242-0.5*this._bit4._compMap.Sprite_0.getNaturalWidth(),457);this._bg.addChild(this._bit4);
this._bit5=new n;this._bit5.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke18White,b.helpText5));this._bit5._compMap.Sprite_0.wrapWidth.set__(260);this._bit5._compMap.Sprite_0.set_align(i.TextAlign.Center);this._bit5._compMap.Sprite_0.setXY(746-0.5*this._bit5._compMap.Sprite_0.getNaturalWidth(),505);this._bg.addChild(this._bit5);this._taps1=new n;this._taps1.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke16Orange,b.helpTaps));this._taps1._compMap.Sprite_0.setXY(465-0.5*this._taps1._compMap.Sprite_0.getNaturalWidth(),
166);this._bg.addChild(this._taps1);this._taps2=new n;this._taps2.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke16Orange,b.helpTaps));this._taps2._compMap.Sprite_0.setXY(592-0.5*this._taps2._compMap.Sprite_0.getNaturalWidth(),166);this._bg.addChild(this._taps2);this._enemy1=new n;this._enemy1.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke16Orange,b.helpEnemy1));this._enemy1._compMap.Sprite_0.setXY(475-0.5*this._enemy1._compMap.Sprite_0.getNaturalWidth(),362);this._bg.addChild(this._enemy1);
this._enemy2=new n;this._enemy2.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke16Orange,b.helpEnemy2));this._enemy2._compMap.Sprite_0.wrapWidth.set__(100);this._enemy2._compMap.Sprite_0.set_align(i.TextAlign.Center);this._enemy2._compMap.Sprite_0.setXY(641-0.5*this._enemy2._compMap.Sprite_0.getNaturalWidth(),348);this._bg.addChild(this._enemy2);this._enemy3=new n;this._enemy3.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke16Orange,b.helpEnemy3));this._enemy3._compMap.Sprite_0.setXY(783-
0.5*this._enemy3._compMap.Sprite_0.getNaturalWidth(),358);this._bg.addChild(this._enemy3);this._closeButton=new n;this._closeButton.add(new a.tubad.view.ui.ButtonSprite(f.mainAssets.getTexture("buttons/closebutton_up"),f.mainAssets.getTexture("buttons/closebutton_over"),f.mainAssets.getTexture("buttons/closebutton_down")));this._closeButton._compMap.Sprite_0.setXY(this._bg._compMap.Sprite_0.getNaturalWidth()-this._closeButton._compMap.Sprite_0.getNaturalWidth(),0);this._closeButton._compMap.Sprite_0.get_pointerDown().connect(x(this,
this.onCloseClick));this._bg.addChild(this._closeButton);this._closeText=new n;this._closeText.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke18White,b.helpClose));this._closeText._compMap.Sprite_0.setXY(853-0.5*this._closeText._compMap.Sprite_0.getNaturalWidth(),79);this._closeText._compMap.Sprite_0.set_pointerEnabled(!1);this._bg.addChild(this._closeText);this.setInUse(!1)},__class__:a.tubad.view.panels.HelpPanel});a.tubad.view.panels.PausePanel=function(){a.tubad.view.panels.Panel.call(this,
"PausePanel")};a.tubad.view.panels.PausePanel.__name__=!0;a.tubad.view.panels.PausePanel.__super__=a.tubad.view.panels.Panel;a.tubad.view.panels.PausePanel.prototype=m(a.tubad.view.panels.Panel.prototype,{hide:function(){a.tubad.view.panels.Panel.prototype.hide.call(this);var b=this._bg._compMap.Sprite_0;b.y.animateTo(-b.getNaturalHeight()-10,0.4,s.Ease.quartOut);this.sendMessage("SET_PAUSE",!1)},show:function(){a.tubad.view.panels.Panel.prototype.show.call(this);var b=this._bg._compMap.Sprite_0;
b.setXY(512-0.5*b.getNaturalWidth(),-b.getNaturalHeight()-10);b.y.animateTo(300-0.5*b.getNaturalHeight(),1,s.Ease.quartOut)},onQuitClick:function(){this.sendMessage("NAVIGATE_TO_PANEL",new a.tubad.data.NavData("QuitConfirmPanel"))},onHelpClick:function(){this.sendMessage("NAVIGATE_TO_PANEL",new a.tubad.data.NavData("HelpPanel"))},onCloseClick:function(){this.hide()},resize:function(){var b=this._bg._compMap.Sprite_0;b.setXY(512-0.5*b.getNaturalWidth(),300-0.5*b.getNaturalHeight());this._resumeButton._compMap.Sprite_0.setXY(84,
170);this._helpButton._compMap.Sprite_0.setXY(196,170);this._volumeButton._compMap.Sprite_0.setXY(308,170);this._quitButton._compMap.Sprite_0.setXY(420,170)},onAdded:function(){a.tubad.view.panels.Panel.prototype.onAdded.call(this);var b=this.getCore().getObject("ContentProxy").getContentData();this._bg=new n;this._bg.add(new i.ImageSprite(f.mainAssets.getTexture("panels/pause_bg")));this.owner.addChild(this._bg);this._resumeButton=new n;this._resumeButton.add(new a.tubad.view.ui.ButtonSprite(f.mainAssets.getTexture("buttons/resumebutton_up"),
f.mainAssets.getTexture("buttons/resumebutton_over"),f.mainAssets.getTexture("buttons/resumebutton_down")));this._resumeButton._compMap.Sprite_0.get_pointerDown().connect(x(this,this.onCloseClick));this._bg.addChild(this._resumeButton);this._helpButton=new n;this._helpButton.add(new a.tubad.view.ui.ButtonSprite(f.mainAssets.getTexture("buttons/helpbutton_up"),f.mainAssets.getTexture("buttons/helpbutton_over"),f.mainAssets.getTexture("buttons/helpbutton_down")));this._helpButton._compMap.Sprite_0.get_pointerDown().connect(x(this,
this.onHelpClick));this._bg.addChild(this._helpButton);this._volumeButton=new n;this._volumeButton.add(new a.tubad.view.ui.VolumeToggleButton);this._bg.addChild(this._volumeButton);this._quitButton=new n;this._quitButton.add(new a.tubad.view.ui.ButtonSprite(f.mainAssets.getTexture("buttons/quitbutton_up"),f.mainAssets.getTexture("buttons/quitbutton_over"),f.mainAssets.getTexture("buttons/quitbutton_down")));this._quitButton._compMap.Sprite_0.get_pointerDown().connect(x(this,this.onQuitClick));this._bg.addChild(this._quitButton);
this._title=new n;this._title.add(new i.TextSprite(a.tubad.data.FontData.coopBold80White,b.pauseTitle));this._title._compMap.Sprite_0.setXY(310-0.5*this._title._compMap.Sprite_0.getNaturalWidth(),90);this._bg.addChild(this._title);this._resumeLabel=new n;this._resumeLabel.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke24Purple,b.pauseResume));this._resumeLabel._compMap.Sprite_0.wrapWidth.set__(106);this._resumeLabel._compMap.Sprite_0.set_align(i.TextAlign.Center);this._resumeLabel._compMap.Sprite_0.setXY(144-
0.5*this._resumeLabel._compMap.Sprite_0.getNaturalWidth(),282);this._bg.addChild(this._resumeLabel);this._helpLabel=new n;this._helpLabel.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke24Purple,b.pauseHelp));this._helpLabel._compMap.Sprite_0.wrapWidth.set__(106);this._helpLabel._compMap.Sprite_0.set_align(i.TextAlign.Center);this._helpLabel._compMap.Sprite_0.setXY(256-0.5*this._helpLabel._compMap.Sprite_0.getNaturalWidth(),282);this._bg.addChild(this._helpLabel);this._muteLabel=new n;this._muteLabel.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke24Purple,
b.pauseMute));this._muteLabel._compMap.Sprite_0.wrapWidth.set__(106);this._muteLabel._compMap.Sprite_0.set_align(i.TextAlign.Center);this._muteLabel._compMap.Sprite_0.setXY(368-0.5*this._muteLabel._compMap.Sprite_0.getNaturalWidth(),282);this._bg.addChild(this._muteLabel);this._quitLabel=new n;this._quitLabel.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke24Purple,b.pauseQuit));this._quitLabel._compMap.Sprite_0.wrapWidth.set__(106);this._quitLabel._compMap.Sprite_0.set_align(i.TextAlign.Center);
this._quitLabel._compMap.Sprite_0.setXY(480-0.5*this._quitLabel._compMap.Sprite_0.getNaturalWidth(),282);this._bg.addChild(this._quitLabel);this.resize();this.setInUse(!1)},__class__:a.tubad.view.panels.PausePanel});a.tubad.view.panels.QuitConfirmPanel=function(){a.tubad.view.panels.Panel.call(this,"QuitConfirmPanel")};a.tubad.view.panels.QuitConfirmPanel.__name__=!0;a.tubad.view.panels.QuitConfirmPanel.__super__=a.tubad.view.panels.Panel;a.tubad.view.panels.QuitConfirmPanel.prototype=m(a.tubad.view.panels.Panel.prototype,
{hide:function(){a.tubad.view.panels.Panel.prototype.hide.call(this);var b=this._bg._compMap.Sprite_0;b.y.animateTo(-b.getNaturalHeight()-10,0.4,s.Ease.quartOut)},show:function(){a.tubad.view.panels.Panel.prototype.show.call(this);var b=this._bg._compMap.Sprite_0;b.setXY(512-0.5*b.getNaturalWidth(),-b.getNaturalHeight()-10);b.y.animateTo(300-0.5*b.getNaturalHeight(),1,s.Ease.quartOut)},onCancelClick:function(){this.hide()},onConfirmClick:function(){this.sendMessage("NAVIGATE_TO_SCREEN",new a.tubad.data.NavData("MenuScreen"));
this.sendMessage("CLOSE_PANELS")},resize:function(){var b=this._bg._compMap.Sprite_0;b.setXY(512-0.5*b.getNaturalWidth(),300-0.5*b.getNaturalHeight());this._confirmButton._compMap.Sprite_0.setXY(140,160);this._cancelButton._compMap.Sprite_0.setXY(275,160);this._message._compMap.Sprite_0.setXY(270-0.5*this._message._compMap.Sprite_0.getNaturalWidth(),100)},onAdded:function(){a.tubad.view.panels.Panel.prototype.onAdded.call(this);var b=this.getCore().getObject("ContentProxy").getContentData();this._bg=
new n;this._bg.add(new i.ImageSprite(f.mainAssets.getTexture("panels/quitconfirm_bg")));this.owner.addChild(this._bg);this._confirmButton=new n;this._confirmButton.add(new a.tubad.view.ui.ButtonSprite(f.mainAssets.getTexture("buttons/confirmbutton_up"),f.mainAssets.getTexture("buttons/confirmbutton_over"),f.mainAssets.getTexture("buttons/confirmbutton_down")));this._confirmButton._compMap.Sprite_0.get_pointerDown().connect(x(this,this.onConfirmClick));this._bg.addChild(this._confirmButton);this._cancelButton=
new n;this._cancelButton.add(new a.tubad.view.ui.ButtonSprite(f.mainAssets.getTexture("buttons/cancelbutton_up"),f.mainAssets.getTexture("buttons/cancelbutton_over"),f.mainAssets.getTexture("buttons/cancelbutton_down")));this._cancelButton._compMap.Sprite_0.get_pointerDown().connect(x(this,this.onCancelClick));this._bg.addChild(this._cancelButton);this._message=new n;this._message.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke24Purple,b.quitConfirmMessage));this._message._compMap.Sprite_0.wrapWidth.set__(350);
this._message._compMap.Sprite_0.set_align(i.TextAlign.Center);this._bg.addChild(this._message);this.resize();this.setInUse(!1)},__class__:a.tubad.view.panels.QuitConfirmPanel});a.tubad.view.preloader={};a.tubad.view.preloader.Preloader=function(){this.rootSprite=new i.Sprite;o.root.add(this.rootSprite);this._bg=new n;this._bg.add(new i.ImageSprite(f.bootstrapAssets.getTexture("menu_bg")));o.root.addChild(this._bg);this._barBg=new n;this._barBg.add(new i.ImageSprite(f.bootstrapAssets.getTexture("bar_bg")));
o.root.addChild(this._barBg);this._barFill=new n;this._barFill.add(new i.ImageSprite(f.bootstrapAssets.getTexture("bar_fill")));o.root.addChild(this._barFill);o._platform.getStage().resize.connect(x(this,this.resize));this.resize()};a.tubad.view.preloader.Preloader.__name__=!0;a.tubad.view.preloader.Preloader.prototype={destroy:function(){o.root.removeChild(this._bg);o.root.removeChild(this._barBg);o.root.removeChild(this._barFill);this._barFill=this._barBg=this._bg=null},resize:function(){if(null!=
this._bg){var b=Math.min(o._platform.getStage().get_width()/1024,o._platform.getStage().get_height()/600);this.rootSprite.setScale(b);this.rootSprite.setXY(0.5*o._platform.getStage().get_width()-512*b,0.5*o._platform.getStage().get_height()-300*b);b=this._barBg._compMap.Sprite_0;b.setXY(512-0.5*b.getNaturalWidth(),400);this._barFill._compMap.Sprite_0.setXY(b.x._value+33,b.y._value+32)}},setProgress:function(b){this._barFill._compMap.Sprite_0.setScaleXY(b,1)},__class__:a.tubad.view.preloader.Preloader};
a.tubad.view.screens={};a.tubad.view.screens.game={};a.tubad.view.screens.game.Barrier=function(){a.tubad.core.CoreObject.call(this,"");null==a.tubad.view.screens.game.Barrier._possibleTextures&&(a.tubad.view.screens.game.Barrier._possibleTextures=[],a.tubad.view.screens.game.Barrier._possibleTextures.push(f.mainAssets.getTexture("game/barriers/barrier_01")),a.tubad.view.screens.game.Barrier._possibleTextures.push(f.mainAssets.getTexture("game/barriers/barrier_02")),a.tubad.view.screens.game.Barrier._possibleTextures.push(f.mainAssets.getTexture("game/barriers/barrier_03")),
a.tubad.view.screens.game.Barrier._possibleTextures.push(f.mainAssets.getTexture("game/barriers/barrier_04")),a.tubad.view.screens.game.Barrier._possibleTextures.push(f.mainAssets.getTexture("game/barriers/barrier_05")))};a.tubad.view.screens.game.Barrier.__name__=!0;a.tubad.view.screens.game.Barrier.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.game.Barrier.prototype=m(a.tubad.core.CoreObject.prototype,{getCollisionSize:function(){return 35},setType:function(b){null==b&&(b=0);this._sprite.texture=
a.tubad.view.screens.game.Barrier._possibleTextures[b]},onAdded:function(){this._sprite=new i.ImageSprite(a.tubad.view.screens.game.Barrier._possibleTextures[0]);this._sprite.anchorX.set__(58);this._sprite.anchorY.set__(115);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.Barrier});a.tubad.view.screens.game.CakeBacon=function(){this._delayUntilDespawn=0;a.tubad.core.CoreObject.call(this,"")};a.tubad.view.screens.game.CakeBacon.__name__=!0;a.tubad.view.screens.game.CakeBacon.__super__=
a.tubad.core.CoreObject;a.tubad.view.screens.game.CakeBacon.prototype=m(a.tubad.core.CoreObject.prototype,{step:function(b){this._inUse&&(this._delayUntilDespawn-=b,0>this._delayUntilDespawn&&this.setInUse(!1))},spawn:function(){this.setInUse(!0);this._delayUntilDespawn=3;this.sendMessage("PLAY_EFFECT","sfx/powerup")},onAdded:function(){null==a.tubad.view.screens.game.CakeBacon.anim&&(a.tubad.view.screens.game.CakeBacon.anim=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.CakeBacon.anim.textures=
[],a.tubad.view.screens.game.CakeBacon.anim.textures.push(f.mainAssets.getTexture("game/cakebacon")),a.tubad.view.screens.game.CakeBacon.anim.animationSpeed=1,a.tubad.view.screens.game.CakeBacon.anim.anchorX=33,a.tubad.view.screens.game.CakeBacon.anim.anchorY=29);this._sprite=new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.CakeBacon.anim);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.CakeBacon});a.tubad.view.screens.game.CakePuff=function(){a.tubad.core.CoreObject.call(this,
"")};a.tubad.view.screens.game.CakePuff.__name__=!0;a.tubad.view.screens.game.CakePuff.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.game.CakePuff.prototype=m(a.tubad.core.CoreObject.prototype,{onAnimationEnded:function(){this.setInUse(!1)},spawn:function(b,h){this.setInUse(!0);this._sprite.x.set__(b);this._sprite.y.set__(h);this._sprite.reset()},onAdded:function(){null==a.tubad.view.screens.game.CakePuff.anim&&(a.tubad.view.screens.game.CakePuff.anim=new a.tubad.data.AnimatedSpriteData,
a.tubad.view.screens.game.CakePuff.anim.textures=[],a.tubad.view.screens.game.CakePuff.anim.textures.push(f.mainAssets.getTexture("game/cakepuff/cakepuff_01")),a.tubad.view.screens.game.CakePuff.anim.textures.push(f.mainAssets.getTexture("game/cakepuff/cakepuff_02")),a.tubad.view.screens.game.CakePuff.anim.textures.push(f.mainAssets.getTexture("game/cakepuff/cakepuff_03")),a.tubad.view.screens.game.CakePuff.anim.animationSpeed=0.05,a.tubad.view.screens.game.CakePuff.anim.anchorX=75,a.tubad.view.screens.game.CakePuff.anim.anchorY=
63);this._sprite=new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.CakePuff.anim);this._sprite.get_animationEnded().connect(x(this,this.onAnimationEnded));this._sprite.set_pointerEnabled(!1);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.CakePuff});a.tubad.view.screens.game.ClickPing=function(){a.tubad.core.CoreObject.call(this,"")};a.tubad.view.screens.game.ClickPing.__name__=!0;a.tubad.view.screens.game.ClickPing.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.game.ClickPing.prototype=
m(a.tubad.core.CoreObject.prototype,{onAnimationEnded:function(){this.setInUse(!1)},spawn:function(b,h){this.setInUse(!0);this._sprite.x.set__(b);this._sprite.y.set__(h);this._sprite.reset()},onAdded:function(){null==a.tubad.view.screens.game.ClickPing.anim&&(a.tubad.view.screens.game.ClickPing.anim=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.ClickPing.anim.textures=[],a.tubad.view.screens.game.ClickPing.anim.textures.push(f.mainAssets.getTexture("game/clickping/clickping_01")),
a.tubad.view.screens.game.ClickPing.anim.textures.push(f.mainAssets.getTexture("game/clickping/clickping_02")),a.tubad.view.screens.game.ClickPing.anim.textures.push(f.mainAssets.getTexture("game/clickping/clickping_03")),a.tubad.view.screens.game.ClickPing.anim.textures.push(f.mainAssets.getTexture("game/clickping/clickping_04")),a.tubad.view.screens.game.ClickPing.anim.textures.push(f.mainAssets.getTexture("game/clickping/clickping_05")),a.tubad.view.screens.game.ClickPing.anim.textures.push(f.mainAssets.getTexture("game/clickping/clickping_06")),
a.tubad.view.screens.game.ClickPing.anim.animationSpeed=0.05,a.tubad.view.screens.game.ClickPing.anim.anchorX=50,a.tubad.view.screens.game.ClickPing.anim.anchorY=50);this._sprite=new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.ClickPing.anim);this._sprite.get_animationEnded().connect(x(this,this.onAnimationEnded));this._sprite.set_pointerEnabled(!1);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.ClickPing});a.tubad.view.screens.game.FlyingFairy=function(b){this._delayUntilStopRising=
this._delayUntilStartFlying=0;a.tubad.core.CoreObject.call(this,"");this._isWanda=b};a.tubad.view.screens.game.FlyingFairy.__name__=!0;a.tubad.view.screens.game.FlyingFairy.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.game.FlyingFairy.prototype=m(a.tubad.core.CoreObject.prototype,{step:function(b){if(this._inUse){if(0<this._delayUntilStopRising){var h=this._sprite.y;h.set__(h._value-100*b);this._delayUntilStopRising-=b;0>=this._delayUntilStopRising&&(this._sprite.texture=this._isWanda?f.mainAssets.getTexture("game/fairy/flying_wanda_02"):
f.mainAssets.getTexture("game/fairy/flying_cosmo_02"))}0<this._delayUntilStartFlying?(this._delayUntilStartFlying-=b,0>=this._delayUntilStartFlying&&(this._sprite.texture=this._isWanda?f.mainAssets.getTexture("game/fairy/flying_wanda_03"):f.mainAssets.getTexture("game/fairy/flying_cosmo_03"))):(h=this._sprite.x,h.set__(h._value-400*b),h=this._sprite.y,h.set__(h._value-400*b));-100>this._sprite.y._value&&this.setInUse(!1)}},spawn:function(b,h){this._sprite.texture=this._isWanda?f.mainAssets.getTexture("game/fairy/flying_wanda_01"):
f.mainAssets.getTexture("game/fairy/flying_cosmo_01");this._sprite.setXY(b,h);this._delayUntilStopRising=0.8;this._delayUntilStartFlying=1.2;this.setInUse(!0)},onAdded:function(){this._sprite=new i.ImageSprite(f.mainAssets.getTexture("game/fairy/flying_wanda_01"));this._sprite.set_pointerEnabled(!1);this._sprite.anchorX.set__(62);this._sprite.anchorY.set__(100);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.FlyingFairy});a.tubad.view.screens.game.Foop=function(){this._speedModifier=
1;this._delayUntilSwitchTargetY=this._targetX=0;a.tubad.core.CoreObject.call(this,"");null==a.tubad.view.screens.game.Foop.POSSIBLE_X&&(a.tubad.view.screens.game.Foop.POSSIBLE_X=[65,205,345,485,625,765])};a.tubad.view.screens.game.Foop.__name__=!0;a.tubad.view.screens.game.Foop.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.game.Foop.prototype=m(a.tubad.core.CoreObject.prototype,{stopBehaviour:function(){this._behaviourActive=!1},setSpeedModifier:function(b){this._speedModifier=b},onAnimationEnded:function(){this._sprite.stop()},
step:function(b){if(this._inUse&&this._behaviourActive){this._delayUntilSwitchTargetY-=b*this._speedModifier;0>this._delayUntilSwitchTargetY&&(this._delayUntilSwitchTargetY=2,this._targetX=a.tubad.view.screens.game.Foop.POSSIBLE_X[Math.floor(Math.random()*a.tubad.view.screens.game.Foop.POSSIBLE_X.length)],this.sendMessage("FOOP_MOVED"),this._sprite.reset(),this.sendMessage("PLAY_EFFECT","sfx/foop_shoot"));var h=this._targetX-this._sprite.x._value;if(2<h){var e=this._sprite.x;e.set__(e._value+5*(h+
12)*b*this._speedModifier)}else-2>h&&(e=this._sprite.x,e.set__(e._value+5*(h-12)*b*this._speedModifier))}},spawn:function(){this.setInUse(!0);this._sprite.x.set__(a.tubad.view.screens.game.Foop.POSSIBLE_X[Math.floor(Math.random()*a.tubad.view.screens.game.Foop.POSSIBLE_X.length)]);this._sprite.y.set__(30);this._targetX=this._sprite.x._value;this._behaviourActive=!0},onAdded:function(){null==a.tubad.view.screens.game.Foop.anim&&(a.tubad.view.screens.game.Foop.anim=new a.tubad.data.AnimatedSpriteData,
a.tubad.view.screens.game.Foop.anim.textures=[],a.tubad.view.screens.game.Foop.anim.textures.push(f.mainAssets.getTexture("game/foop/foop_01")),a.tubad.view.screens.game.Foop.anim.textures.push(f.mainAssets.getTexture("game/foop/foop_02")),a.tubad.view.screens.game.Foop.anim.textures.push(f.mainAssets.getTexture("game/foop/foop_03")),a.tubad.view.screens.game.Foop.anim.textures.push(f.mainAssets.getTexture("game/foop/foop_04")),a.tubad.view.screens.game.Foop.anim.textures.push(f.mainAssets.getTexture("game/foop/foop_05")),
a.tubad.view.screens.game.Foop.anim.animationSpeed=0.07,a.tubad.view.screens.game.Foop.anim.anchorX=83,a.tubad.view.screens.game.Foop.anim.anchorY=40);this._sprite=new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.Foop.anim);this._sprite.get_animationEnded().connect(x(this,this.onAnimationEnded));this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.Foop});a.tubad.view.screens.game.FoopBolt=function(){a.tubad.core.CoreObject.call(this,"")};a.tubad.view.screens.game.FoopBolt.__name__=
!0;a.tubad.view.screens.game.FoopBolt.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.game.FoopBolt.prototype=m(a.tubad.core.CoreObject.prototype,{step:function(b){if(this._inUse){var h=this._sprite.y;h.set__(h._value+this._speed*b);this._sprite.y._value>this._endPoint&&this.setInUse(!1)}},spawn:function(b,h,a,d){this.setInUse(!0);this._sprite.x.set__(b);this._sprite.y.set__(h);this._speed=a;this._endPoint=d},onAdded:function(){null==a.tubad.view.screens.game.FoopBolt.anim&&(a.tubad.view.screens.game.FoopBolt.anim=
new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.FoopBolt.anim.textures=[],a.tubad.view.screens.game.FoopBolt.anim.textures.push(f.mainAssets.getTexture("game/foop/foopbolt_01")),a.tubad.view.screens.game.FoopBolt.anim.textures.push(f.mainAssets.getTexture("game/foop/foopbolt_02")),a.tubad.view.screens.game.FoopBolt.anim.textures.push(f.mainAssets.getTexture("game/foop/foopbolt_03")),a.tubad.view.screens.game.FoopBolt.anim.textures.push(f.mainAssets.getTexture("game/foop/foopbolt_04")),
a.tubad.view.screens.game.FoopBolt.anim.textures.push(f.mainAssets.getTexture("game/foop/foopbolt_05")),a.tubad.view.screens.game.FoopBolt.anim.animationSpeed=0.05,a.tubad.view.screens.game.FoopBolt.anim.anchorX=25,a.tubad.view.screens.game.FoopBolt.anim.anchorY=46);this._sprite=new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.FoopBolt.anim);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.FoopBolt});a.tubad.view.screens.game.GameScreen=function(){this._cakeBaconCooldown=
this._levelOverCoundown=this._unusedTime=0;this._inputEnabled=!0;this._paused=!1;this._delayUntilEnemy=0;a.tubad.core.CoreObject.call(this,"GameScreen")};a.tubad.view.screens.game.GameScreen.__name__=!0;a.tubad.view.screens.game.GameScreen.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.game.GameScreen.prototype=m(a.tubad.core.CoreObject.prototype,{setInUse:function(b){a.tubad.core.CoreObject.prototype.setInUse.call(this,b);b&&null!=this._player&&this.reset()},resize:function(){this._pauseButton._compMap.Sprite_0.setXY(1024-
this._pauseButton._compMap.Sprite_0.getNaturalWidth(),0);this._scoreLabel._compMap.Sprite_0.setXY(513-0.5*this._scoreLabel._compMap.Sprite_0.getNaturalWidth(),-3);this._scoreDisplay._compMap.Sprite_0.setXY(515-0.5*this._scoreDisplay._compMap.Sprite_0.getNaturalWidth(),21);this._livesLabel._compMap.Sprite_0.setXY(5,3);this._livesDisplay._compMap.Sprite_0.setXY(90,0)},getPaused:function(){return this._paused},setPaused:function(b){this._paused=b;this._unusedTime=0;this._previousDate=new Date},onPauseClick:function(){this.sendMessage("SET_PAUSE",
!0)},setScore:function(b){this._scoreDisplay._compMap.Sprite_0.set_text(b+" ");this.resize()},createPointsPuff:function(b,h,e){for(var d=null,c=0,g=this._pinkpuffs;c<g.length;){var f=g[c];++c;if(!1==f._compMap.CoreObject_1.getInUse()){d=f;break}}null==d&&(d=new n,d.add(new a.tubad.view.screens.game.PinkPuff),this.owner.addChild(d),this._pinkpuffs.push(d));d._compMap.CoreObject_1.spawn(b,h);d=null;c=0;for(g=this._popupPoints;c<g.length;)if(f=g[c],++c,!1==f._compMap.CoreObject_1.getInUse()){d=f;break}null==
d&&(d=new n,d.add(new a.tubad.view.screens.game.PointsPopup),this.owner.addChild(d),this._popupPoints.push(d));d._compMap.CoreObject_1.spawn(e,b,h)},createBarrier:function(b,h,e){for(var d=null,c=0,g=this._barriers;c<g.length;){var f=g[c];++c;if(!1==f._compMap.CoreObject_1.getInUse()){d=f;break}}null==d&&(d=new n,d.add(new a.tubad.view.screens.game.Barrier),this._sortContainer.addChild(d),this._barriers.push(d));d._compMap.CoreObject_1.setInUse(!0);d._compMap.Sprite_0.x.set__(b);d._compMap.Sprite_0.y.set__(h);
d._compMap.CoreObject_1.setType(e)},createFoopBolt:function(){for(var b=null,h=0,e=this._foopbolts;h<e.length;){var d=e[h];++h;if(!1==d._compMap.CoreObject_1.getInUse()){b=d;break}}null==b&&(b=new n,b.add(new a.tubad.view.screens.game.FoopBolt),this._sortContainer.addChild(b),this._foopbolts.push(b),this._enemies.push(b));b._compMap.CoreObject_1.spawn(this._foop._compMap.Sprite_0.x._value+30,this._foop._compMap.Sprite_0.y._value+40,200,800)},checkForLevelEnd:function(){for(var b=!0,h=0;4>h;)for(var a=
this._lockerZones[h++],d=0;6>d;){var c=d++,c=a[c];c.getInUse()&&!c.getIsOpen()&&(b=!1)}b&&(this.sendMessage("PLAY_EFFECT","sfx/transition4"),this.endLevel())},onBGClick:function(b){if(!this._paused&&this._inputEnabled){for(var h=this._player._compMap.CoreObject_1,e=this._player._compMap.Sprite_0,d=(b.viewX-a.tubad.AppEngine.rootSprite.x._value)/a.tubad.AppEngine.rootSprite.scaleX._value,c=(b.viewY-a.tubad.AppEngine.rootSprite.y._value)/a.tubad.AppEngine.rootSprite.scaleY._value,b=null,g=0,f=0;4>f;)for(var i=
this._lockerZones[f++],l=0;6>l;){var k=l++,n=i[k],k=n.owner._compMap.Sprite_0,k=Math.sqrt((d-k.x._value+30)*(d-k.x._value+30)+(c-k.y._value+20)*(c-k.y._value+20));if(null==b||k<g)b=n,g=k}null!=b&&(this._clickPing._compMap.CoreObject_1.spawn(b.owner._compMap.Sprite_0.x._value-50,b.owner._compMap.Sprite_0.y._value- -10),d=h.getTargetZone(),c=d.owner._compMap.Sprite_0,g=Math.abs(b.getColumn()-d.getColumn()),f=Math.abs(b.getRow()-d.getRow()),b.getRow()!=d.getRow()&&f>g?b.getRow()<d.getRow()?h.setTargetZone(this._lockerZones[d.getRow()-
1][d.getColumn()]):b.getRow()>d.getRow()&&h.setTargetZone(this._lockerZones[d.getRow()+1][d.getColumn()]):b.getColumn()<d.getColumn()?h.setTargetZone(this._lockerZones[d.getRow()][d.getColumn()-1]):b.getColumn()>d.getColumn()?h.setTargetZone(this._lockerZones[d.getRow()][d.getColumn()+1]):d.getInUse()&&!d.getIsOpen()&&(b=e.x._value-c.x._value+50,e=e.y._value-c.y._value+-10,k=Math.sqrt(b*b+e*e),3>k&&(this.sendMessage("PLAY_EFFECT","sfx/locker"),h.doTap(),d.tap(h.getCurrentStrength()),this.checkForLevelEnd(),
d.getIsOpen()&&(this.createPointsPuff(c.x._value,c.y._value,d.getIsCrocker()),d.getIsCrocker()&&(d.getIsWanda()?this._flyingWanda._compMap.CoreObject_1.spawn(c.x._value,c.y._value):this._flyingCosmo._compMap.CoreObject_1.spawn(c.x._value,c.y._value))))))}},sortDepth:function(){for(var b=this._sortContainer.firstChild,h=b,a=b;null!=a;){if(null!=a.next){var d=a.next;if(null!=d){var c=d.next;a._compMap.Sprite_0.y._value>d._compMap.Sprite_0.y._value&&(a==b?this._sortContainer.firstChild=d:h.next=d,d.next=
a,a.next=c)}}h=a;a=a.next}},onUpdate:function(){if(this.getInUse()&&!this._paused){var b=new Date;this._unusedTime=null!=this._previousDate?this._unusedTime+0.001*(b.getTime()-this._previousDate.getTime()):0;this._previousDate=b;for(b=0;this._unusedTime>1/62&&5>b;){this._unusedTime-=1/62;b++;this._player._compMap.CoreObject_1.step(1/62);for(var h=0;4>h;)for(var a=this._lockerZones[h++],d=0;6>d;){var c=d++;a[c].step(1/62)}this._badger._compMap.CoreObject_1.step(1/62);this._vicki._compMap.CoreObject_1.step(1/
62);this._tubacabra._compMap.CoreObject_1.step(1/62);this._foop._compMap.CoreObject_1.step(1/62);h=0;for(d=this._foopbolts;h<d.length;)a=d[h],++h,a._compMap.CoreObject_1.step(1/62);this._cakeBacon._compMap.CoreObject_1.step(1/62);h=0;for(d=this._popupPoints;h<d.length;)a=d[h],++h,a._compMap.CoreObject_1.step(1/62);this._flyingCosmo._compMap.CoreObject_1.step(1/62);this._flyingWanda._compMap.CoreObject_1.step(1/62);h=0;for(d=this._barriers;h<d.length;)if(a=d[h],++h,a._compMap.CoreObject_1.getInUse()){var c=
this._player._compMap.Sprite_0.x._value-a._compMap.Sprite_0.x._value,g=this._player._compMap.Sprite_0.y._value-a._compMap.Sprite_0.y._value;Math.sqrt(c*c+g*g)<a._compMap.CoreObject_1.getCollisionSize()&&this._player._compMap.CoreObject_1.goToPreviousTargetZone()}if(!this._levelOver){h=0;for(d=this._enemies;h<d.length;)if(a=d[h],++h,a._compMap.CoreObject_1.getInUse()&&0!=(a._compMap.Sprite_0._flags&1)&&(c=this._player._compMap.Sprite_0.x._value-a._compMap.Sprite_0.x._value,g=this._player._compMap.Sprite_0.y._value-
a._compMap.Sprite_0.y._value,c=Math.sqrt(c*c+g*g),c<this._player._compMap.CoreObject_1.getCollisionSize()&&(a!=this._tubacabra&&a!=this._badger&&a._compMap.CoreObject_1.setInUse(!1),this._player._compMap.CoreObject_1.doHit(),this._livesDisplay._compMap.Sprite_0.texture=3<=this._player._compMap.CoreObject_1.getLives()?f.mainAssets.getTexture("game/livesdisplay/livesdisplay_3"):2<=this._player._compMap.CoreObject_1.getLives()?f.mainAssets.getTexture("game/livesdisplay/livesdisplay_2"):1<=this._player._compMap.CoreObject_1.getLives()?
f.mainAssets.getTexture("game/livesdisplay/livesdisplay_1"):f.mainAssets.getTexture("game/livesdisplay/livesdisplay_0")),a==this._tubacabra||a==this._badger))c=this._cakeBacon._compMap.Sprite_0.x._value-a._compMap.Sprite_0.x._value,g=this._cakeBacon._compMap.Sprite_0.y._value-a._compMap.Sprite_0.y._value,c=Math.sqrt(c*c+g*g),20>c&&this._cakeBacon._compMap.CoreObject_1.setInUse(!1)}this._cakeBacon._compMap.CoreObject_1.getInUse()&&(h=this._player._compMap.Sprite_0.x._value-this._cakeBacon._compMap.Sprite_0.x._value,
d=this._player._compMap.Sprite_0.y._value-this._cakeBacon._compMap.Sprite_0.y._value,Math.sqrt(h*h+d*d)<this._player._compMap.CoreObject_1.getCollisionSize()&&(this._cakeBacon._compMap.CoreObject_1.setInUse(!1),this._player._compMap.CoreObject_1.activateCakeBacon(),this.sendMessage("PLAY_EFFECT","sfx/powerup"),this._cakePuff._compMap.CoreObject_1.spawn(this._player._compMap.Sprite_0.x._value,this._player._compMap.Sprite_0.y._value)));this._levelOver||(this._delayUntilEnemy-=1/62*this._levelData.enemySpawnModifier,
0>this._delayUntilEnemy&&(this._delayUntilEnemy=3,0.25>Math.random()&&!this._badger._compMap.CoreObject_1.getInUse()&&this._levelData.badgerEnabled?(this._badger._compMap.CoreObject_1.spawn(),this._vicki._compMap.CoreObject_1.spawn(this._badger._compMap.Sprite_0.y._value-1)):0.33333>Math.random()&&!this._tubacabra._compMap.CoreObject_1.getInUse()&&this._levelData.tubacabraEnabled?this._tubacabra._compMap.CoreObject_1.spawn():0.5>Math.random()&&!this._foop._compMap.CoreObject_1.getInUse()&&this._levelData.foopEnabled?
this._foop._compMap.CoreObject_1.spawn():!this._cakeBacon._compMap.CoreObject_1.getInUse()&&0>this._cakeBaconCooldown&&(this._cakeBacon._compMap.CoreObject_1.spawn(),h=Math.floor(4*Math.random()),d=Math.floor(6*Math.random()),this._cakeBacon._compMap.Sprite_0.x.set__(this._lockerZones[h][d].owner._compMap.Sprite_0.x._value-50),this._cakeBacon._compMap.Sprite_0.y.set__(this._lockerZones[h][d].owner._compMap.Sprite_0.y._value- -10+2),this._cakeBaconCooldown=16)));this._cakeBaconCooldown-=1/62;this._levelOver&&
0<this._levelOverCoundown&&(this._levelOverCoundown-=1/62,0>=this._levelOverCoundown&&this.sendMessage("LEVEL_COMPLETE"))}this.sortDepth()}},onLevelCompleteHidden:function(){this._levelCompleteBG._compMap.Sprite_0.set_visible(!1)},onLevelCompleteShown:function(){this._levelCompleteBG._compMap.Sprite_0.x.animateTo(1024,0.6,s.Ease.quartOut);var b=new q.Script;b.run(new q.Sequence([new q.Delay(0.61),new q.CallFunction(x(this,this.onLevelCompleteHidden))]));this.owner.add(b)},endLevel:function(){this._inputEnabled=
!1;this._levelOver=!0;this._levelOverCoundown=2.4;this._badger._compMap.CoreObject_1.stopBehaviour();this._tubacabra._compMap.CoreObject_1.stopBehaviour();this._foop._compMap.CoreObject_1.stopBehaviour();var b=this._levelCompleteBG._compMap.Sprite_0;b.set_visible(!0);b.setXY(-b.getNaturalWidth()-2E3,330-0.5*b.getNaturalHeight());b.x.animateTo(512-0.5*b.getNaturalWidth(),1.6,s.Ease.quartOut);this._levelCompleteNumberDisplay._compMap.Sprite_0.set_text(this.getCore().getObject("GameStateProxy").getCurrentLevel()+
1+" ");this._levelCompleteNumberDisplay._compMap.Sprite_0.setXY(138-0.5*this._levelCompleteNumberDisplay._compMap.Sprite_0.getNaturalWidth(),95);b=new q.Script;b.run(new q.Sequence([new q.Delay(2.2),new q.CallFunction(x(this,this.onLevelCompleteShown))]));this.owner.add(b)},startLevel:function(){var b=this.getCore(),a=b.getObject("GameLevelProxy"),b=b.getObject("GameStateProxy");this._levelData=a.getLevelData(b.getCurrentLevel());a=this._player._compMap.CoreObject_1;a.setTargetZone(this._lockerZones[0][0],
!0);for(var e=0;4>e;)for(var d=e++,c=this._lockerZones[d],g=0;6>g;){var i=g++;c[i].setup(this._levelData.rows[d][i])}this._delayUntilEnemy=5;this._livesDisplay._compMap.Sprite_0.texture=3<=this._player._compMap.CoreObject_1.getLives()?f.mainAssets.getTexture("game/livesdisplay/livesdisplay_3"):2<=this._player._compMap.CoreObject_1.getLives()?f.mainAssets.getTexture("game/livesdisplay/livesdisplay_2"):1<=this._player._compMap.CoreObject_1.getLives()?f.mainAssets.getTexture("game/livesdisplay/livesdisplay_1"):
f.mainAssets.getTexture("game/livesdisplay/livesdisplay_0");e=0;for(g=this._barriers;e<g.length;)d=g[e],++e,d._compMap.CoreObject_1.setInUse(!1);e=0;for(g=this._pinkpuffs;e<g.length;)d=g[e],++e,d._compMap.CoreObject_1.setInUse(!1);e=0;for(g=this._popupPoints;e<g.length;)d=g[e],++e,d._compMap.CoreObject_1.setInUse(!1);e=0;for(g=this._enemies;e<g.length;)d=g[e],++e,d._compMap.CoreObject_1.setInUse(!1);this._cakeBacon._compMap.CoreObject_1.setInUse(!1);this._vicki._compMap.CoreObject_1.setInUse(!1);
this._badger._compMap.CoreObject_1.setSpeedModifier(this._levelData.enemySpeedModifier);this._tubacabra._compMap.CoreObject_1.setSpeedModifier(this._levelData.enemySpeedModifier);this._foop._compMap.CoreObject_1.setSpeedModifier(this._levelData.enemySpeedModifier);e=0;for(g=this._levelData.barriers;e<g.length;)d=g[e],++e,this.createBarrier(d.spawnX,d.spawnY,d.type);0==b.getCurrentLevel()?a.reset():a.softReset();this._inputEnabled=!0;this._levelOver=!1;this._unusedTime=0;this._previousDate=new Date;
for(b=0;20>b;)this.sortDepth(),b++;this.sendMessage("GAME_LEVEL_STARTED")},reset:function(){this.startLevel();this.resize();this._levelOver=!1},onAdded:function(){var b=this.getCore().getObject("ContentProxy").getContentData();this.owner.add(new i.ImageSprite(f.mainAssets.getTexture("game/game_bg")));this._sortContainer=new n;this._sortContainer.add(new i.Sprite);this.owner.addChild(this._sortContainer);this._player=new n;this._player.add(new a.tubad.view.screens.game.Player);this._sortContainer.addChild(this._player);
this._lockerZones=[];for(var h=0;4>h;){for(var e=h++,d=[],c=0;6>c;){var g=c++,k=new n;k.add(new a.tubad.view.screens.game.LockerZone);this._sortContainer.addChild(k);k._compMap.Sprite_0.setXY(155+140*g,150+130*e);k=k._compMap.CoreObject_1;k.setColumn(g);k.setRow(e);d.push(k)}this._lockerZones.push(d)}this._uiBg=new n;this._uiBg.add(new i.ImageSprite(f.mainAssets.getTexture("game/ui_bg")));this._uiBg._compMap.Sprite_0.get_pointerDown().connect(x(this,this.onBGClick));this.owner.addChild(this._uiBg);
this._badger=new n;this._badger.add(new a.tubad.view.screens.game.RabidBadger);this._sortContainer.addChild(this._badger);this._vicki=new n;this._vicki.add(new a.tubad.view.screens.game.Vicki(this._badger));this._sortContainer.addChild(this._vicki);this._tubacabra=new n;this._tubacabra.add(new a.tubad.view.screens.game.TubaCabra);this._sortContainer.addChild(this._tubacabra);this._foop=new n;this._foop.add(new a.tubad.view.screens.game.Foop);this._sortContainer.addChild(this._foop);this._foopbolts=
[];this._barriers=[];this._enemies=[];this._enemies.push(this._badger);this._enemies.push(this._tubacabra);this._enemies.push(this._foop);this._pinkpuffs=[];this._popupPoints=[];this._flyingCosmo=new n;this._flyingCosmo.add(new a.tubad.view.screens.game.FlyingFairy(!1));this.owner.addChild(this._flyingCosmo);this._flyingWanda=new n;this._flyingWanda.add(new a.tubad.view.screens.game.FlyingFairy(!0));this.owner.addChild(this._flyingWanda);this._cakePuff=new n;this._cakePuff.add(new a.tubad.view.screens.game.CakePuff);
this.owner.addChild(this._cakePuff);this._clickPing=new n;this._clickPing.add(new a.tubad.view.screens.game.ClickPing);this.owner.addChild(this._clickPing);this._cakeBacon=new n;this._cakeBacon.add(new a.tubad.view.screens.game.CakeBacon);this._sortContainer.addChild(this._cakeBacon);this._scoreLabel=new n;this._scoreLabel.add(new i.TextSprite(a.tubad.data.FontData.coopLight36Purple,b.gameScore));this.owner.addChild(this._scoreLabel);this._scoreDisplay=new n;this._scoreDisplay.add(new i.TextSprite(a.tubad.data.FontData.luckiestGuyPurple,
"0123"));this.owner.addChild(this._scoreDisplay);this._livesLabel=new n;this._livesLabel.add(new i.TextSprite(a.tubad.data.FontData.coopLight36Purple,b.gameLives));this.owner.addChild(this._livesLabel);this._livesDisplay=new n;this._livesDisplay.add(new i.ImageSprite(f.mainAssets.getTexture("game/livesdisplay/livesdisplay_3")));this.owner.addChild(this._livesDisplay);this._pauseButton=new n;this._pauseButton.add(new a.tubad.view.ui.ButtonSprite(f.mainAssets.getTexture("buttons/pausebutton_up"),f.mainAssets.getTexture("buttons/pausebutton_over"),
f.mainAssets.getTexture("buttons/pausebutton_down")));this._pauseButton._compMap.Sprite_0.get_pointerDown().connect(x(this,this.onPauseClick));this.owner.addChild(this._pauseButton);this._levelCompleteBG=new n;this._levelCompleteBG.add(new i.ImageSprite(f.mainAssets.getTexture("game/ui_levelcomplete")));this._levelCompleteBG._compMap.Sprite_0.set_visible(!1);this.owner.addChild(this._levelCompleteBG);this._levelCompletePre=new n;this._levelCompletePre.add(new i.TextSprite(a.tubad.data.FontData.coopLight36Purple,
b.gameLevelCompletePre));this._levelCompletePre._compMap.Sprite_0.setXY(135-0.5*this._levelCompletePre._compMap.Sprite_0.getNaturalWidth(),62);this._levelCompleteBG.addChild(this._levelCompletePre);this._levelCompletePost=new n;this._levelCompletePost.add(new i.TextSprite(a.tubad.data.FontData.coopLight36Purple,b.gameLevelCompletePost));this._levelCompletePost._compMap.Sprite_0.setXY(137-0.5*this._levelCompletePost._compMap.Sprite_0.getNaturalWidth(),130);this._levelCompleteBG.addChild(this._levelCompletePost);
this._levelCompleteNumberDisplay=new n;this._levelCompleteNumberDisplay.add(new i.TextSprite(a.tubad.data.FontData.luckiestGuyPurple,"0"));this._levelCompleteBG.addChild(this._levelCompleteNumberDisplay);this.resize();this.setInUse(!1);this.reset()},__class__:a.tubad.view.screens.game.GameScreen});a.tubad.view.screens.game.LockerZone=function(){this._tapDuration=0;this._tapsNeeded=1;a.tubad.core.CoreObject.call(this,"")};a.tubad.view.screens.game.LockerZone.__name__=!0;a.tubad.view.screens.game.LockerZone.__super__=
a.tubad.core.CoreObject;a.tubad.view.screens.game.LockerZone.prototype=m(a.tubad.core.CoreObject.prototype,{getIsWanda:function(){return this._isWanda},getIsCrocker:function(){return this._isCrocker},getIsOpen:function(){return 0>=this._tapsNeeded},getPoints:function(){return this._isCrocker?60:30},getRow:function(){return this._row},setRow:function(b){this._row=b},getColumn:function(){return this._column},setColumn:function(b){this._column=b},tap:function(b){0<this._tapsNeeded&&(this._tapsNeeded-=
b,this._tapDuration=0.1,0>=this._tapsNeeded?(this.sendMessage("LOCKER_OPENED",this),this.sendMessage("PLAY_EFFECT","sfx/kidfreed"),this._isCrocker?this._sprite.set_visible(!1):this._sprite.setData(a.tubad.view.screens.game.LockerZone.childAnims[Math.floor(Math.random()*a.tubad.view.screens.game.LockerZone.childAnims.length)])):this._sprite.setData(this._currentLockerFlashAnim))},onAnimationEnded:function(){0<this._tapsNeeded&&this._sprite.setData(this._currentLockerAnim)},step:function(b){this.getInUse()&&
0<this._tapsNeeded&&(this._tapDuration-=b)},makeCrocker:function(b){this._isCrocker=!0;this._isWanda=b;this._tapsNeeded=5;b?(this._currentLockerAnim=a.tubad.view.screens.game.LockerZone.crockerAnim1,this._currentLockerFlashAnim=a.tubad.view.screens.game.LockerZone.crockerFlashAnim1):(this._currentLockerAnim=a.tubad.view.screens.game.LockerZone.crockerAnim2,this._currentLockerFlashAnim=a.tubad.view.screens.game.LockerZone.crockerFlashAnim2);this._sprite.setData(this._currentLockerAnim)},setup:function(b){0<
b?(this.setInUse(!0),this._isCrocker=!1,this._tapsNeeded=3,this._sprite.set_visible(!0),1==b?(this._currentLockerAnim=a.tubad.view.screens.game.LockerZone.lockerAnims[0],this._currentLockerFlashAnim=a.tubad.view.screens.game.LockerZone.lockerFlashAnims[0],this._sprite.setData(this._currentLockerAnim)):2==b?this.makeCrocker(!0):3==b&&this.makeCrocker(!1)):this.setInUse(!1)},onAdded:function(){this.setup(0);null==a.tubad.view.screens.game.LockerZone.lockerAnim1&&(a.tubad.view.screens.game.LockerZone.lockerAnim1=
new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.lockerAnim1.textures=[],a.tubad.view.screens.game.LockerZone.lockerAnim1.textures.push(f.mainAssets.getTexture("game/lockers/lockerzone_a_01")),a.tubad.view.screens.game.LockerZone.lockerAnim1.animationSpeed=10,a.tubad.view.screens.game.LockerZone.lockerAnim1.anchorX=62,a.tubad.view.screens.game.LockerZone.lockerAnim1.anchorY=120);null==a.tubad.view.screens.game.LockerZone.lockerAnim2&&(a.tubad.view.screens.game.LockerZone.lockerAnim2=
new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.lockerAnim2.textures=[],a.tubad.view.screens.game.LockerZone.lockerAnim2.textures.push(f.mainAssets.getTexture("game/lockers/lockerzone_b_01")),a.tubad.view.screens.game.LockerZone.lockerAnim2.animationSpeed=10,a.tubad.view.screens.game.LockerZone.lockerAnim2.anchorX=62,a.tubad.view.screens.game.LockerZone.lockerAnim2.anchorY=120);null==a.tubad.view.screens.game.LockerZone.lockerAnim3&&(a.tubad.view.screens.game.LockerZone.lockerAnim3=
new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.lockerAnim3.textures=[],a.tubad.view.screens.game.LockerZone.lockerAnim3.textures.push(f.mainAssets.getTexture("game/lockers/lockerzone_c_01")),a.tubad.view.screens.game.LockerZone.lockerAnim3.animationSpeed=10,a.tubad.view.screens.game.LockerZone.lockerAnim3.anchorX=62,a.tubad.view.screens.game.LockerZone.lockerAnim3.anchorY=120);null==a.tubad.view.screens.game.LockerZone.lockerAnim4&&(a.tubad.view.screens.game.LockerZone.lockerAnim4=
new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.lockerAnim4.textures=[],a.tubad.view.screens.game.LockerZone.lockerAnim4.textures.push(f.mainAssets.getTexture("game/lockers/lockerzone_d_01")),a.tubad.view.screens.game.LockerZone.lockerAnim4.animationSpeed=10,a.tubad.view.screens.game.LockerZone.lockerAnim4.anchorX=62,a.tubad.view.screens.game.LockerZone.lockerAnim4.anchorY=120);null==a.tubad.view.screens.game.LockerZone.lockerAnims&&(a.tubad.view.screens.game.LockerZone.lockerAnims=
[],a.tubad.view.screens.game.LockerZone.lockerAnims.push(a.tubad.view.screens.game.LockerZone.lockerAnim1),a.tubad.view.screens.game.LockerZone.lockerAnims.push(a.tubad.view.screens.game.LockerZone.lockerAnim2),a.tubad.view.screens.game.LockerZone.lockerAnims.push(a.tubad.view.screens.game.LockerZone.lockerAnim3),a.tubad.view.screens.game.LockerZone.lockerAnims.push(a.tubad.view.screens.game.LockerZone.lockerAnim4));null==a.tubad.view.screens.game.LockerZone.lockerFlashAnim1&&(a.tubad.view.screens.game.LockerZone.lockerFlashAnim1=
new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.lockerFlashAnim1.textures=[],a.tubad.view.screens.game.LockerZone.lockerFlashAnim1.textures.push(f.mainAssets.getTexture("game/lockers/lockerzone_a_02")),a.tubad.view.screens.game.LockerZone.lockerFlashAnim1.animationSpeed=0.1,a.tubad.view.screens.game.LockerZone.lockerFlashAnim1.anchorX=62,a.tubad.view.screens.game.LockerZone.lockerFlashAnim1.anchorY=120);null==a.tubad.view.screens.game.LockerZone.lockerFlashAnim2&&(a.tubad.view.screens.game.LockerZone.lockerFlashAnim2=
new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.lockerFlashAnim2.textures=[],a.tubad.view.screens.game.LockerZone.lockerFlashAnim2.textures.push(f.mainAssets.getTexture("game/lockers/lockerzone_b_02")),a.tubad.view.screens.game.LockerZone.lockerFlashAnim2.animationSpeed=0.1,a.tubad.view.screens.game.LockerZone.lockerFlashAnim2.anchorX=62,a.tubad.view.screens.game.LockerZone.lockerFlashAnim2.anchorY=120);null==a.tubad.view.screens.game.LockerZone.lockerFlashAnim3&&(a.tubad.view.screens.game.LockerZone.lockerFlashAnim3=
new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.lockerFlashAnim3.textures=[],a.tubad.view.screens.game.LockerZone.lockerFlashAnim3.textures.push(f.mainAssets.getTexture("game/lockers/lockerzone_c_02")),a.tubad.view.screens.game.LockerZone.lockerFlashAnim3.animationSpeed=0.1,a.tubad.view.screens.game.LockerZone.lockerFlashAnim3.anchorX=62,a.tubad.view.screens.game.LockerZone.lockerFlashAnim3.anchorY=120);null==a.tubad.view.screens.game.LockerZone.lockerFlashAnim4&&(a.tubad.view.screens.game.LockerZone.lockerFlashAnim4=
new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.lockerFlashAnim4.textures=[],a.tubad.view.screens.game.LockerZone.lockerFlashAnim4.textures.push(f.mainAssets.getTexture("game/lockers/lockerzone_d_02")),a.tubad.view.screens.game.LockerZone.lockerFlashAnim4.animationSpeed=0.1,a.tubad.view.screens.game.LockerZone.lockerFlashAnim4.anchorX=62,a.tubad.view.screens.game.LockerZone.lockerFlashAnim4.anchorY=120);null==a.tubad.view.screens.game.LockerZone.lockerFlashAnims&&(a.tubad.view.screens.game.LockerZone.lockerFlashAnims=
[],a.tubad.view.screens.game.LockerZone.lockerFlashAnims.push(a.tubad.view.screens.game.LockerZone.lockerFlashAnim1),a.tubad.view.screens.game.LockerZone.lockerFlashAnims.push(a.tubad.view.screens.game.LockerZone.lockerFlashAnim2),a.tubad.view.screens.game.LockerZone.lockerFlashAnims.push(a.tubad.view.screens.game.LockerZone.lockerFlashAnim3),a.tubad.view.screens.game.LockerZone.lockerFlashAnims.push(a.tubad.view.screens.game.LockerZone.lockerFlashAnim4));null==a.tubad.view.screens.game.LockerZone.crockerAnim1&&
(a.tubad.view.screens.game.LockerZone.crockerAnim1=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.crockerAnim1.textures=[],a.tubad.view.screens.game.LockerZone.crockerAnim1.textures.push(f.mainAssets.getTexture("game/lockers/crockerzone_a_01")),a.tubad.view.screens.game.LockerZone.crockerAnim1.animationSpeed=10,a.tubad.view.screens.game.LockerZone.crockerAnim1.anchorX=62,a.tubad.view.screens.game.LockerZone.crockerAnim1.anchorY=120);null==a.tubad.view.screens.game.LockerZone.crockerAnim2&&
(a.tubad.view.screens.game.LockerZone.crockerAnim2=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.crockerAnim2.textures=[],a.tubad.view.screens.game.LockerZone.crockerAnim2.textures.push(f.mainAssets.getTexture("game/lockers/crockerzone_b_01")),a.tubad.view.screens.game.LockerZone.crockerAnim2.animationSpeed=10,a.tubad.view.screens.game.LockerZone.crockerAnim2.anchorX=62,a.tubad.view.screens.game.LockerZone.crockerAnim2.anchorY=120);null==a.tubad.view.screens.game.LockerZone.crockerFlashAnim1&&
(a.tubad.view.screens.game.LockerZone.crockerFlashAnim1=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.crockerFlashAnim1.textures=[],a.tubad.view.screens.game.LockerZone.crockerFlashAnim1.textures.push(f.mainAssets.getTexture("game/lockers/crockerzone_a_02")),a.tubad.view.screens.game.LockerZone.crockerFlashAnim1.animationSpeed=0.1,a.tubad.view.screens.game.LockerZone.crockerFlashAnim1.anchorX=62,a.tubad.view.screens.game.LockerZone.crockerFlashAnim1.anchorY=120);null==a.tubad.view.screens.game.LockerZone.crockerFlashAnim2&&
(a.tubad.view.screens.game.LockerZone.crockerFlashAnim2=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.crockerFlashAnim2.textures=[],a.tubad.view.screens.game.LockerZone.crockerFlashAnim2.textures.push(f.mainAssets.getTexture("game/lockers/crockerzone_b_02")),a.tubad.view.screens.game.LockerZone.crockerFlashAnim2.animationSpeed=0.1,a.tubad.view.screens.game.LockerZone.crockerFlashAnim2.anchorX=62,a.tubad.view.screens.game.LockerZone.crockerFlashAnim2.anchorY=120);null==a.tubad.view.screens.game.LockerZone.childAnim1&&
(a.tubad.view.screens.game.LockerZone.childAnim1=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.childAnim1.textures=[],a.tubad.view.screens.game.LockerZone.childAnim1.textures.push(f.mainAssets.getTexture("game/children/child_a_01")),a.tubad.view.screens.game.LockerZone.childAnim1.textures.push(f.mainAssets.getTexture("game/children/child_a_01")),a.tubad.view.screens.game.LockerZone.childAnim1.textures.push(f.mainAssets.getTexture("game/children/child_a_02")),a.tubad.view.screens.game.LockerZone.childAnim1.textures.push(f.mainAssets.getTexture("game/children/child_a_03")),
a.tubad.view.screens.game.LockerZone.childAnim1.textures.push(f.mainAssets.getTexture("game/children/child_a_04")),a.tubad.view.screens.game.LockerZone.childAnim1.textures.push(f.mainAssets.getTexture("game/children/child_a_04")),a.tubad.view.screens.game.LockerZone.childAnim1.textures.push(f.mainAssets.getTexture("game/children/child_a_04")),a.tubad.view.screens.game.LockerZone.childAnim1.textures.push(f.mainAssets.getTexture("game/children/child_a_04")),a.tubad.view.screens.game.LockerZone.childAnim1.textures.push(f.mainAssets.getTexture("game/children/child_a_03")),
a.tubad.view.screens.game.LockerZone.childAnim1.textures.push(f.mainAssets.getTexture("game/children/child_a_02")),a.tubad.view.screens.game.LockerZone.childAnim1.animationSpeed=0.05,a.tubad.view.screens.game.LockerZone.childAnim1.anchorX=62,a.tubad.view.screens.game.LockerZone.childAnim1.anchorY=140);null==a.tubad.view.screens.game.LockerZone.childAnim2&&(a.tubad.view.screens.game.LockerZone.childAnim2=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.childAnim2.textures=[],
a.tubad.view.screens.game.LockerZone.childAnim2.textures.push(f.mainAssets.getTexture("game/children/child_b_01")),a.tubad.view.screens.game.LockerZone.childAnim2.textures.push(f.mainAssets.getTexture("game/children/child_b_01")),a.tubad.view.screens.game.LockerZone.childAnim2.textures.push(f.mainAssets.getTexture("game/children/child_b_02")),a.tubad.view.screens.game.LockerZone.childAnim2.textures.push(f.mainAssets.getTexture("game/children/child_b_03")),a.tubad.view.screens.game.LockerZone.childAnim2.textures.push(f.mainAssets.getTexture("game/children/child_b_04")),
a.tubad.view.screens.game.LockerZone.childAnim2.textures.push(f.mainAssets.getTexture("game/children/child_b_04")),a.tubad.view.screens.game.LockerZone.childAnim2.textures.push(f.mainAssets.getTexture("game/children/child_b_04")),a.tubad.view.screens.game.LockerZone.childAnim2.textures.push(f.mainAssets.getTexture("game/children/child_b_04")),a.tubad.view.screens.game.LockerZone.childAnim2.textures.push(f.mainAssets.getTexture("game/children/child_b_03")),a.tubad.view.screens.game.LockerZone.childAnim2.textures.push(f.mainAssets.getTexture("game/children/child_b_02")),
a.tubad.view.screens.game.LockerZone.childAnim2.animationSpeed=0.05,a.tubad.view.screens.game.LockerZone.childAnim2.anchorX=62,a.tubad.view.screens.game.LockerZone.childAnim2.anchorY=140);null==a.tubad.view.screens.game.LockerZone.childAnim3&&(a.tubad.view.screens.game.LockerZone.childAnim3=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.childAnim3.textures=[],a.tubad.view.screens.game.LockerZone.childAnim3.textures.push(f.mainAssets.getTexture("game/children/child_c_01")),
a.tubad.view.screens.game.LockerZone.childAnim3.textures.push(f.mainAssets.getTexture("game/children/child_c_01")),a.tubad.view.screens.game.LockerZone.childAnim3.textures.push(f.mainAssets.getTexture("game/children/child_c_02")),a.tubad.view.screens.game.LockerZone.childAnim3.textures.push(f.mainAssets.getTexture("game/children/child_c_03")),a.tubad.view.screens.game.LockerZone.childAnim3.textures.push(f.mainAssets.getTexture("game/children/child_c_04")),a.tubad.view.screens.game.LockerZone.childAnim3.textures.push(f.mainAssets.getTexture("game/children/child_c_04")),
a.tubad.view.screens.game.LockerZone.childAnim3.textures.push(f.mainAssets.getTexture("game/children/child_c_04")),a.tubad.view.screens.game.LockerZone.childAnim3.textures.push(f.mainAssets.getTexture("game/children/child_c_04")),a.tubad.view.screens.game.LockerZone.childAnim3.textures.push(f.mainAssets.getTexture("game/children/child_c_03")),a.tubad.view.screens.game.LockerZone.childAnim3.textures.push(f.mainAssets.getTexture("game/children/child_c_02")),a.tubad.view.screens.game.LockerZone.childAnim3.animationSpeed=
0.05,a.tubad.view.screens.game.LockerZone.childAnim3.anchorX=62,a.tubad.view.screens.game.LockerZone.childAnim3.anchorY=140);null==a.tubad.view.screens.game.LockerZone.childAnim4&&(a.tubad.view.screens.game.LockerZone.childAnim4=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.LockerZone.childAnim4.textures=[],a.tubad.view.screens.game.LockerZone.childAnim4.textures.push(f.mainAssets.getTexture("game/children/child_d_01")),a.tubad.view.screens.game.LockerZone.childAnim4.textures.push(f.mainAssets.getTexture("game/children/child_d_01")),
a.tubad.view.screens.game.LockerZone.childAnim4.textures.push(f.mainAssets.getTexture("game/children/child_d_02")),a.tubad.view.screens.game.LockerZone.childAnim4.textures.push(f.mainAssets.getTexture("game/children/child_d_03")),a.tubad.view.screens.game.LockerZone.childAnim4.textures.push(f.mainAssets.getTexture("game/children/child_d_04")),a.tubad.view.screens.game.LockerZone.childAnim4.textures.push(f.mainAssets.getTexture("game/children/child_d_04")),a.tubad.view.screens.game.LockerZone.childAnim4.textures.push(f.mainAssets.getTexture("game/children/child_d_04")),
a.tubad.view.screens.game.LockerZone.childAnim4.textures.push(f.mainAssets.getTexture("game/children/child_d_04")),a.tubad.view.screens.game.LockerZone.childAnim4.textures.push(f.mainAssets.getTexture("game/children/child_d_03")),a.tubad.view.screens.game.LockerZone.childAnim4.textures.push(f.mainAssets.getTexture("game/children/child_d_02")),a.tubad.view.screens.game.LockerZone.childAnim4.animationSpeed=0.05,a.tubad.view.screens.game.LockerZone.childAnim4.anchorX=62,a.tubad.view.screens.game.LockerZone.childAnim4.anchorY=
140);null==a.tubad.view.screens.game.LockerZone.childAnims&&(a.tubad.view.screens.game.LockerZone.childAnims=[],a.tubad.view.screens.game.LockerZone.childAnims.push(a.tubad.view.screens.game.LockerZone.childAnim1),a.tubad.view.screens.game.LockerZone.childAnims.push(a.tubad.view.screens.game.LockerZone.childAnim2),a.tubad.view.screens.game.LockerZone.childAnims.push(a.tubad.view.screens.game.LockerZone.childAnim3),a.tubad.view.screens.game.LockerZone.childAnims.push(a.tubad.view.screens.game.LockerZone.childAnim4));
this._sprite=new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.LockerZone.lockerAnim1);this._sprite.get_animationEnded().connect(x(this,this.onAnimationEnded));this.owner.add(this._sprite)},__class__:a.tubad.view.screens.game.LockerZone});a.tubad.view.screens.game.PinkPuff=function(){a.tubad.core.CoreObject.call(this,"")};a.tubad.view.screens.game.PinkPuff.__name__=!0;a.tubad.view.screens.game.PinkPuff.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.game.PinkPuff.prototype=m(a.tubad.core.CoreObject.prototype,
{onAnimationEnded:function(){this.setInUse(!1)},spawn:function(b,a){this.setInUse(!0);this._sprite.x.set__(b);this._sprite.y.set__(a);this._sprite.reset()},onAdded:function(){null==a.tubad.view.screens.game.PinkPuff.anim&&(a.tubad.view.screens.game.PinkPuff.anim=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.PinkPuff.anim.textures=[],a.tubad.view.screens.game.PinkPuff.anim.textures.push(f.mainAssets.getTexture("game/pinkpuff/pinkpuff_01")),a.tubad.view.screens.game.PinkPuff.anim.textures.push(f.mainAssets.getTexture("game/pinkpuff/pinkpuff_02")),
a.tubad.view.screens.game.PinkPuff.anim.textures.push(f.mainAssets.getTexture("game/pinkpuff/pinkpuff_03")),a.tubad.view.screens.game.PinkPuff.anim.textures.push(f.mainAssets.getTexture("game/pinkpuff/pinkpuff_04")),a.tubad.view.screens.game.PinkPuff.anim.textures.push(f.mainAssets.getTexture("game/pinkpuff/pinkpuff_05")),a.tubad.view.screens.game.PinkPuff.anim.animationSpeed=0.05,a.tubad.view.screens.game.PinkPuff.anim.anchorX=166,a.tubad.view.screens.game.PinkPuff.anim.anchorY=166);this._sprite=
new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.PinkPuff.anim);this._sprite.get_animationEnded().connect(x(this,this.onAnimationEnded));this._sprite.set_pointerEnabled(!1);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.PinkPuff});a.tubad.view.screens.game.Player=function(){this._invincibleDuration=0;this._lives=1;this._cakeBaconTimeLeft=0;a.tubad.core.CoreObject.call(this,"")};a.tubad.view.screens.game.Player.__name__=!0;a.tubad.view.screens.game.Player.__super__=
a.tubad.core.CoreObject;a.tubad.view.screens.game.Player.prototype=m(a.tubad.core.CoreObject.prototype,{getLives:function(){return this._lives},getCollisionSize:function(){return 20},getCurrentStrength:function(){return 0<this._cakeBaconTimeLeft?5:1},onAnimationEnded:function(){this._isDead||(0>=this._lives?(this._isDead=!0,this.sendMessage("PLAYER_DEAD"),this.sendMessage("PLAY_EFFECT","sfx/transition3")):(this._recoiling=this._animationLocked=!1,0<this._cakeBaconTimeLeft?this._sprite.setData(a.tubad.view.screens.game.Player.idleGlow):
this._sprite.setData(a.tubad.view.screens.game.Player.idle)),this._sprite.scaleX.set__(1))},doHit:function(){0>this._cakeBaconTimeLeft&&!this._recoiling&&0>this._invincibleDuration&&(this._lives--,this._recoiling=!0,this._invincibleDuration=2,this._sprite.setData(a.tubad.view.screens.game.Player.hurt),this._sprite.scaleX.set__(1))},doTap:function(){this._recoiling||(this._animationLocked=!0,0<this._cakeBaconTimeLeft?this._sprite.setData(a.tubad.view.screens.game.Player.wandGlow,0):this._sprite.setData(a.tubad.view.screens.game.Player.wand,
0),this._sprite.scaleX.set__(1))},step:function(b){if(this.getInUse()){if(null!=this._targetZone&&!this._recoiling&&0<=this._lives){var h=this.owner._compMap.Sprite_0,e=this._targetZone.owner._compMap.Sprite_0;this._invincibleDuration-=b;0<this._invincibleDuration?h.set_visible(0==Math.floor(5*this._invincibleDuration)%2):h.set_visible(!0);var d=h.x._value-e.x._value+50,c=h.y._value-e.y._value+-10,c=Math.sqrt(d*d+c*c);if(2<c){var e=Math.atan2(h.y._value-e.y._value+-10,h.x._value-e.x._value+50),g=
h.x;g.set__(g._value-5*Math.cos(e)*(c+40)*b);g=h.y;g.set__(g._value-5*Math.sin(e)*(c+40)*b);this._animationLocked||(0<this._cakeBaconTimeLeft?this._sprite.setData(a.tubad.view.screens.game.Player.runRightGlow):this._sprite.setData(a.tubad.view.screens.game.Player.runRight),1>d?this._sprite.scaleX.set__(1):this._sprite.scaleX.set__(-1))}else this._animationLocked||(0<this._cakeBaconTimeLeft?this._sprite.setData(a.tubad.view.screens.game.Player.idleGlow):this._sprite.setData(a.tubad.view.screens.game.Player.idle),
this._sprite.scaleX.set__(1)),this.sendMessage("STOP_EFFECT","sfx/running")}this._cakeBaconTimeLeft-=b}},activateCakeBacon:function(){this._cakeBaconTimeLeft=5},goToPreviousTargetZone:function(){this._targetZone=this._previousTargetZone},getTargetZone:function(){return this._targetZone},setTargetZone:function(b,a){null==a&&(a=!1);this._targetZone!=b&&(this._previousTargetZone=this._targetZone,this._targetZone=b,a||this.sendMessage("PLAY_EFFECT","sfx/running"));null==this._previousTargetZone&&(this._previousTargetZone=
this._targetZone);a&&this.owner._compMap.Sprite_0.setXY(this._targetZone.owner._compMap.Sprite_0.x._value-50,this._targetZone.owner._compMap.Sprite_0.y._value- -10)},softReset:function(){this.setInUse(!0);this._cakeBaconTimeLeft=0},reset:function(){this.setInUse(!0);this._lives=3;this._cakeBaconTimeLeft=0;this._recoiling=this._animationLocked=this._isDead=!1;this._invincibleDuration=0},onAdded:function(){null==a.tubad.view.screens.game.Player.runRight&&(a.tubad.view.screens.game.Player.runRight=new a.tubad.data.AnimatedSpriteData,
a.tubad.view.screens.game.Player.runRight.textures=[],a.tubad.view.screens.game.Player.runRight.textures.push(f.mainAssets.getTexture("game/player/player_runright_1")),a.tubad.view.screens.game.Player.runRight.textures.push(f.mainAssets.getTexture("game/player/player_runright_2")),a.tubad.view.screens.game.Player.runRight.textures.push(f.mainAssets.getTexture("game/player/player_runright_3")),a.tubad.view.screens.game.Player.runRight.textures.push(f.mainAssets.getTexture("game/player/player_runright_4")),
a.tubad.view.screens.game.Player.runRight.textures.push(f.mainAssets.getTexture("game/player/player_runright_5")),a.tubad.view.screens.game.Player.runRight.textures.push(f.mainAssets.getTexture("game/player/player_runright_6")),a.tubad.view.screens.game.Player.runRight.textures.push(f.mainAssets.getTexture("game/player/player_runright_7")),a.tubad.view.screens.game.Player.runRight.textures.push(f.mainAssets.getTexture("game/player/player_runright_8")),a.tubad.view.screens.game.Player.runRight.animationSpeed=
0.05,a.tubad.view.screens.game.Player.runRight.anchorX=40,a.tubad.view.screens.game.Player.runRight.anchorY=105);null==a.tubad.view.screens.game.Player.hurt&&(a.tubad.view.screens.game.Player.hurt=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.Player.hurt.textures=[],a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_1")),a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_2")),a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_3")),
a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_2")),a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_3")),a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_2")),a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_3")),a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_2")),
a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_3")),a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_4")),a.tubad.view.screens.game.Player.hurt.textures.push(f.mainAssets.getTexture("game/player/player_hurt_5")),a.tubad.view.screens.game.Player.hurt.animationSpeed=0.07,a.tubad.view.screens.game.Player.hurt.anchorX=40,a.tubad.view.screens.game.Player.hurt.anchorY=105);null==a.tubad.view.screens.game.Player.wand&&
(a.tubad.view.screens.game.Player.wand=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.Player.wand.textures=[],a.tubad.view.screens.game.Player.wand.textures.push(f.mainAssets.getTexture("game/player/player_wand_2")),a.tubad.view.screens.game.Player.wand.textures.push(f.mainAssets.getTexture("game/player/player_wand_3")),a.tubad.view.screens.game.Player.wand.textures.push(f.mainAssets.getTexture("game/player/player_wand_4")),a.tubad.view.screens.game.Player.wand.textures.push(f.mainAssets.getTexture("game/player/player_wand_5")),
a.tubad.view.screens.game.Player.wand.animationSpeed=0.05,a.tubad.view.screens.game.Player.wand.anchorX=40,a.tubad.view.screens.game.Player.wand.anchorY=105);null==a.tubad.view.screens.game.Player.idle&&(a.tubad.view.screens.game.Player.idle=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.Player.idle.textures=[],a.tubad.view.screens.game.Player.idle.textures.push(f.mainAssets.getTexture("game/player/player_wand_1")),a.tubad.view.screens.game.Player.idle.animationSpeed=0.05,a.tubad.view.screens.game.Player.idle.anchorX=
40,a.tubad.view.screens.game.Player.idle.anchorY=105);null==a.tubad.view.screens.game.Player.runRightGlow&&(a.tubad.view.screens.game.Player.runRightGlow=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.Player.runRightGlow.textures=[],a.tubad.view.screens.game.Player.runRightGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_runright_1")),a.tubad.view.screens.game.Player.runRightGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_runright_2")),a.tubad.view.screens.game.Player.runRightGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_runright_3")),
a.tubad.view.screens.game.Player.runRightGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_runright_4")),a.tubad.view.screens.game.Player.runRightGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_runright_5")),a.tubad.view.screens.game.Player.runRightGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_runright_6")),a.tubad.view.screens.game.Player.runRightGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_runright_7")),a.tubad.view.screens.game.Player.runRightGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_runright_8")),
a.tubad.view.screens.game.Player.runRightGlow.animationSpeed=0.05,a.tubad.view.screens.game.Player.runRightGlow.anchorX=40,a.tubad.view.screens.game.Player.runRightGlow.anchorY=105);null==a.tubad.view.screens.game.Player.wandGlow&&(a.tubad.view.screens.game.Player.wandGlow=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.Player.wandGlow.textures=[],a.tubad.view.screens.game.Player.wandGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_wand_1")),a.tubad.view.screens.game.Player.wandGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_wand_2")),
a.tubad.view.screens.game.Player.wandGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_wand_3")),a.tubad.view.screens.game.Player.wandGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_wand_4")),a.tubad.view.screens.game.Player.wandGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_wand_5")),a.tubad.view.screens.game.Player.wandGlow.animationSpeed=0.05,a.tubad.view.screens.game.Player.wandGlow.anchorX=40,a.tubad.view.screens.game.Player.wandGlow.anchorY=
105);null==a.tubad.view.screens.game.Player.idleGlow&&(a.tubad.view.screens.game.Player.idleGlow=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.Player.idleGlow.textures=[],a.tubad.view.screens.game.Player.idleGlow.textures.push(f.mainAssets.getTexture("game/playerglow/player_wand_1")),a.tubad.view.screens.game.Player.idleGlow.animationSpeed=0.05,a.tubad.view.screens.game.Player.idleGlow.anchorX=40,a.tubad.view.screens.game.Player.idleGlow.anchorY=105);this._sprite=new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.Player.idle);
this._sprite.get_animationEnded().connect(x(this,this.onAnimationEnded));this.owner.add(this._sprite)},__class__:a.tubad.view.screens.game.Player});a.tubad.view.screens.game.PointsPopup=function(){this._delayUntilDisappear=0;a.tubad.core.CoreObject.call(this,"")};a.tubad.view.screens.game.PointsPopup.__name__=!0;a.tubad.view.screens.game.PointsPopup.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.game.PointsPopup.prototype=m(a.tubad.core.CoreObject.prototype,{step:function(b){if(this._inUse){var a=
this._sprite.y;a.set__(a._value-60*b);0<this._delayUntilDisappear?this._delayUntilDisappear-=b:(a=this._sprite.alpha,a.set__(a._value-2*b));0>=this._sprite.alpha._value&&this.setInUse(!1)}},spawn:function(b,a,e){this._sprite.texture=b?f.mainAssets.getTexture("game/points/points_60"):f.mainAssets.getTexture("game/points/points_30");this._sprite.setXY(a,e);this._sprite.alpha.set__(1);this._delayUntilDisappear=0.7;this.setInUse(!0)},onAdded:function(){this._sprite=new i.ImageSprite(f.mainAssets.getTexture("game/points/points_30"));
this._sprite.set_pointerEnabled(!1);this._sprite.anchorX.set__(48);this._sprite.anchorY.set__(37);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.PointsPopup});a.tubad.view.screens.game.RabidBadger=function(){this._delayUntilAppear=0;this._speedModifier=1;a.tubad.core.CoreObject.call(this,"");null==a.tubad.view.screens.game.RabidBadger.START_Y&&(a.tubad.view.screens.game.RabidBadger.START_Y=[162,292,422,552])};a.tubad.view.screens.game.RabidBadger.__name__=!0;a.tubad.view.screens.game.RabidBadger.__super__=
a.tubad.core.CoreObject;a.tubad.view.screens.game.RabidBadger.prototype=m(a.tubad.core.CoreObject.prototype,{stopBehaviour:function(){this._behaviourActive=!1},setSpeedModifier:function(b){this._speedModifier=b},step:function(b){if(this._inUse&&this._behaviourActive)if(this._delayUntilAppear-=b,0>this._delayUntilAppear){this._sprite.set_visible(!0);var a=this._sprite.x;a.set__(a._value+200*b*this._speedModifier);1100<this._sprite.x._value&&this.setInUse(!1)}else this._sprite.set_visible(!1)},spawn:function(){this.setInUse(!0);
this._delayUntilAppear=1.5;this._sprite.x.set__(80);this._sprite.y.set__(a.tubad.view.screens.game.RabidBadger.START_Y[Math.floor(Math.random()*a.tubad.view.screens.game.RabidBadger.START_Y.length)]);this._behaviourActive=!0;this._sprite.set_visible(!1);this.sendMessage("PLAY_EFFECT","sfx/badger")},onAdded:function(){null==a.tubad.view.screens.game.RabidBadger.anim&&(a.tubad.view.screens.game.RabidBadger.anim=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.RabidBadger.anim.textures=
[],a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_01")),a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_01")),a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_01")),a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_02")),a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_02")),
a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_03")),a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_04")),a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_04")),a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_04")),a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_05")),
a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_05")),a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_05")),a.tubad.view.screens.game.RabidBadger.anim.textures.push(f.mainAssets.getTexture("game/badger/rabidbadger_06")),a.tubad.view.screens.game.RabidBadger.anim.animationSpeed=0.05,a.tubad.view.screens.game.RabidBadger.anim.anchorX=83,a.tubad.view.screens.game.RabidBadger.anim.anchorY=
65);this._sprite=new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.RabidBadger.anim);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.RabidBadger});a.tubad.view.screens.game.TubaCabra=function(){this._speedModifier=1;this._waitTimeLeft=this._delayUntilSwitchTargetY=this._targetY=0;a.tubad.core.CoreObject.call(this,"");null==a.tubad.view.screens.game.TubaCabra.START_Y&&(a.tubad.view.screens.game.TubaCabra.START_Y=[164,294,424,554])};a.tubad.view.screens.game.TubaCabra.__name__=
!0;a.tubad.view.screens.game.TubaCabra.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.game.TubaCabra.prototype=m(a.tubad.core.CoreObject.prototype,{stopBehaviour:function(){this._behaviourActive=!1},setSpeedModifier:function(b){this._speedModifier=b},step:function(b){if(this._inUse&&this._behaviourActive){if(0>this._waitTimeLeft||950<this._sprite.x._value){var h=this._sprite.x;h.set__(h._value+-800*b*this._speedModifier);-50>this._sprite.x._value&&this.setInUse(!1)}else this._waitTimeLeft-=
b*this._speedModifier,1<this._waitTimeLeft&&(this._delayUntilSwitchTargetY-=b,0>this._delayUntilSwitchTargetY&&(this._delayUntilSwitchTargetY=1.01,this._targetY=a.tubad.view.screens.game.TubaCabra.START_Y[Math.floor(Math.random()*a.tubad.view.screens.game.TubaCabra.START_Y.length)]));var e=this._targetY-this._sprite.y._value;2<e?(h=this._sprite.y,h.set__(h._value+5*(e+12)*b)):-2>e&&(h=this._sprite.y,h.set__(h._value+5*(e-12)*b))}},spawn:function(){this.setInUse(!0);this._sprite.x.set__(1100);this._sprite.y.set__(a.tubad.view.screens.game.TubaCabra.START_Y[Math.floor(Math.random()*
a.tubad.view.screens.game.TubaCabra.START_Y.length)]);this._targetY=this._sprite.y._value;this._waitTimeLeft=5;this._behaviourActive=!0;this.sendMessage("PLAY_EFFECT","sfx/tubacabra")},onAdded:function(){null==a.tubad.view.screens.game.TubaCabra.anim&&(a.tubad.view.screens.game.TubaCabra.anim=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.TubaCabra.anim.textures=[],a.tubad.view.screens.game.TubaCabra.anim.textures.push(f.mainAssets.getTexture("game/tubacabra/tubacabra_01")),a.tubad.view.screens.game.TubaCabra.anim.textures.push(f.mainAssets.getTexture("game/tubacabra/tubacabra_02")),
a.tubad.view.screens.game.TubaCabra.anim.textures.push(f.mainAssets.getTexture("game/tubacabra/tubacabra_03")),a.tubad.view.screens.game.TubaCabra.anim.textures.push(f.mainAssets.getTexture("game/tubacabra/tubacabra_04")),a.tubad.view.screens.game.TubaCabra.anim.textures.push(f.mainAssets.getTexture("game/tubacabra/tubacabra_05")),a.tubad.view.screens.game.TubaCabra.anim.textures.push(f.mainAssets.getTexture("game/tubacabra/tubacabra_06")),a.tubad.view.screens.game.TubaCabra.anim.animationSpeed=0.05,
a.tubad.view.screens.game.TubaCabra.anim.anchorX=64,a.tubad.view.screens.game.TubaCabra.anim.anchorY=126);this._sprite=new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.TubaCabra.anim);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.TubaCabra});a.tubad.view.screens.game.Vicki=function(b){this._waitTimeLeft=0;a.tubad.core.CoreObject.call(this,"");this._badger=b};a.tubad.view.screens.game.Vicki.__name__=!0;a.tubad.view.screens.game.Vicki.__super__=a.tubad.core.CoreObject;
a.tubad.view.screens.game.Vicki.prototype=m(a.tubad.core.CoreObject.prototype,{step:function(b){if(this._inUse)if(0!=(this._badger._compMap.Sprite_0._flags&1)&&this._sprite.setData(a.tubad.view.screens.game.Vicki._releasedAnim),0<this._waitTimeLeft&&36>this._sprite.x._value){var h=this._sprite.x;h.set__(h._value+800*b)}else 0<this._waitTimeLeft?this._waitTimeLeft-=b:(h=this._sprite.x,h.set__(h._value-800*b),-100>this._sprite.x._value&&this.setInUse(!1))},spawn:function(b){this.setInUse(!0);this._sprite.x.set__(-100);
this._sprite.y.set__(b);this._waitTimeLeft=3;this._sprite.setData(a.tubad.view.screens.game.Vicki._waitingAnim);this._sprite.reset()},onAdded:function(){null==a.tubad.view.screens.game.Vicki._waitingAnim&&(a.tubad.view.screens.game.Vicki._waitingAnim=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.Vicki._waitingAnim.textures=[],a.tubad.view.screens.game.Vicki._waitingAnim.textures.push(f.mainAssets.getTexture("game/vicki/vicki_01")),a.tubad.view.screens.game.Vicki._waitingAnim.animationSpeed=
1.5,a.tubad.view.screens.game.Vicki._waitingAnim.anchorX=84,a.tubad.view.screens.game.Vicki._waitingAnim.anchorY=150);null==a.tubad.view.screens.game.Vicki._releasedAnim&&(a.tubad.view.screens.game.Vicki._releasedAnim=new a.tubad.data.AnimatedSpriteData,a.tubad.view.screens.game.Vicki._releasedAnim.textures=[],a.tubad.view.screens.game.Vicki._releasedAnim.textures.push(f.mainAssets.getTexture("game/vicki/vicki_02")),a.tubad.view.screens.game.Vicki._releasedAnim.textures.push(f.mainAssets.getTexture("game/vicki/vicki_03")),
a.tubad.view.screens.game.Vicki._releasedAnim.animationSpeed=1.5,a.tubad.view.screens.game.Vicki._releasedAnim.anchorX=84,a.tubad.view.screens.game.Vicki._releasedAnim.anchorY=150);this._sprite=new a.tubad.view.AnimatedSprite(a.tubad.view.screens.game.Vicki._waitingAnim);this.owner.add(this._sprite);this.setInUse(!1)},__class__:a.tubad.view.screens.game.Vicki});a.tubad.view.screens.gameover={};a.tubad.view.screens.gameover.GameOverScreen=function(){a.tubad.core.CoreObject.call(this,"GameOverScreen")};
a.tubad.view.screens.gameover.GameOverScreen.__name__=!0;a.tubad.view.screens.gameover.GameOverScreen.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.gameover.GameOverScreen.prototype=m(a.tubad.core.CoreObject.prototype,{onReplayDown:function(){this._core.getObject("ContentProxy").getContentData().useTracking&&o._platform.getExternal().call("trackFlashEvent",["Show Title: Game Title","replay","true"]);this.sendMessage("START_NEW_GAME");this.sendMessage("PLAY_EFFECT","sfx/transition4")},setScore:function(b){this._scoreDisplay._compMap.Sprite_0.set_text(b+
" ");this.resize()},resize:function(){var b=this._volButton._compMap.Sprite_0;b.setXY(1024-b.getNaturalWidth()-10,10);b=this._replayButton._compMap.Sprite_0;b.setXY(1024-b.getNaturalWidth()-50,600-b.getNaturalHeight()-10);var a=this._scoreLabel._compMap.Sprite_0;a.setXY(512-0.5*a.getNaturalWidth()-5,230);a=this._scoreDisplay._compMap.Sprite_0;a.setScale(0.8);a.setXY(512-0.5*a.getNaturalWidth()*a.scaleX._value-5,288);a=this._replayLabel._compMap.Sprite_0;a.setXY(b.x._value+200-0.5*a.getNaturalWidth(),
b.y._value+106-0.5*a.getNaturalHeight())},onAdded:function(){var b=this.getCore().getObject("ContentProxy").getContentData();this.owner.add(new i.ImageSprite(f.mainAssets.getTexture("gameover/gameover_bg")));this._volButton=new n;this._volButton.add(new a.tubad.view.ui.VolumeToggleButton);this.owner.addChild(this._volButton);this._replayButton=new n;this._replayButton.add(new a.tubad.view.ui.ButtonSprite(f.mainAssets.getTexture("gameover/gameover_playbutton_up"),f.mainAssets.getTexture("gameover/gameover_playbutton_over"),
f.mainAssets.getTexture("gameover/gameover_playbutton_down")));this._replayButton._compMap.Sprite_0.get_pointerDown().connect(x(this,this.onReplayDown));this.owner.addChild(this._replayButton);this._scoreLabel=new n;this._scoreLabel.add(new i.TextSprite(a.tubad.data.FontData.dickVanDyke24Purple,b.gameOverScoreLabel));this.owner.addChild(this._scoreLabel);this._scoreDisplay=new n;this._scoreDisplay.add(new i.TextSprite(a.tubad.data.FontData.luckiestGuyWhite,"0123"));this.owner.addChild(this._scoreDisplay);
this._replayLabel=new n;this._replayLabel.add(new i.TextSprite(a.tubad.data.FontData.klunderScriptBold46Red,b.gameOverReplay));this._replayLabel._compMap.Sprite_0.set_align(i.TextAlign.Center);this._replayLabel._compMap.Sprite_0.set_pointerEnabled(!1);this.owner.addChild(this._replayLabel);this.resize();this.setInUse(!1)},__class__:a.tubad.view.screens.gameover.GameOverScreen});a.tubad.view.screens.menu={};a.tubad.view.screens.menu.MenuScreen=function(){this._delayUntilSwitchMessage=0;a.tubad.core.CoreObject.call(this,
"MenuScreen")};a.tubad.view.screens.menu.MenuScreen.__name__=!0;a.tubad.view.screens.menu.MenuScreen.__super__=a.tubad.core.CoreObject;a.tubad.view.screens.menu.MenuScreen.prototype=m(a.tubad.core.CoreObject.prototype,{onBGClick:function(){this._core.getObject("ContentProxy").getContentData().useTracking&&o._platform.getExternal().call("trackFlashEvent",["Show Title: Game Title","play","true"]);this.sendMessage("START_NEW_GAME");this.sendMessage("PLAY_EFFECT","sfx/transition4");this.sendMessage("PLAY_MUSIC",
"music/music");this.sendMessage("FORCE_RESIZE")},onUpdate:function(b){this.getInUse()&&(this._delayUntilSwitchMessage-=b,0>this._delayUntilSwitchMessage&&(this._delayUntilSwitchMessage=0.4,b=this._playMessage._compMap.Sprite_0,b.set_visible(0==(b._flags&1))))},resize:function(){var b=this._volButton._compMap.Sprite_0;b.setXY(1024-b.getNaturalWidth()-10,10);b=this._playMessage._compMap.Sprite_0;b.setXY(512-0.5*b.getNaturalWidth(),600*0.68)},onAdded:function(){var b=this.getCore().getObject("ContentProxy").getContentData();
this.getCore();this.owner.add(new i.Sprite);this._bg=new n;this._bg.add(new i.ImageSprite(f.bootstrapAssets.getTexture("menu_bg")));this.owner.addChild(this._bg);this._playMessage=new n;this._playMessage.add(new i.TextSprite(a.tubad.data.FontData.klunderScriptBold42Yellow,b.menuMessageTap));this.owner.addChild(this._playMessage);this._volButton=new n;this._volButton.add(new a.tubad.view.ui.VolumeToggleButton);this.owner.addChild(this._volButton);this._playMessage._compMap.Sprite_0.set_pointerEnabled(!1);
this._bg._compMap.Sprite_0.get_pointerDown().connect(x(this,this.onBGClick));this.resize();this.sendMessage("PLAY_MUSIC","music/music")},__class__:a.tubad.view.screens.menu.MenuScreen});a.tubad.view.ui={};a.tubad.view.ui.ButtonSprite=function(b,h,e,d,c,g){this._isAlt=this._isDown=!1;this._upTexture=b;this._overTexture=h;this._downTexture=e;this._altUpTexture=d;this._altOverTexture=c;this._altDownTexture=g;i.ImageSprite.call(this,this._upTexture);this.get_pointerDown().connect(x(this,this.onDown));
a.tubad.AppEngine.rootSprite.get_pointerUp().connect(x(this,this.onUp))};a.tubad.view.ui.ButtonSprite.__name__=!0;a.tubad.view.ui.ButtonSprite.__super__=i.ImageSprite;a.tubad.view.ui.ButtonSprite.prototype=m(i.ImageSprite.prototype,{setAlt:function(b){this._isAlt=b},onUp:function(){this._isDown=!1},onDown:function(){this._isDown=!0},onUpdate:function(){this.texture=this.contains(o._platform.getPointer().get_x(),o._platform.getPointer().get_y())?this._isDown?this._isAlt?this._altDownTexture:this._downTexture:
this._isAlt?this._altOverTexture:this._overTexture:this._isAlt?this._altUpTexture:this._upTexture},__class__:a.tubad.view.ui.ButtonSprite});a.tubad.view.ui.TransitionDisplay=function(){this._levelNumShown=!1;this._levelNum=0;a.tubad.core.CoreObject.call(this,"TransitionDisplay")};a.tubad.view.ui.TransitionDisplay.__name__=!0;a.tubad.view.ui.TransitionDisplay.__super__=a.tubad.core.CoreObject;a.tubad.view.ui.TransitionDisplay.prototype=m(a.tubad.core.CoreObject.prototype,{setLevelNum:function(b){this._levelNum=
b},setPrevious:function(b){this._previous=b},finishTransition:function(){this.owner._compMap.Script_2.dispose();this._previous=this._next;this._next=null;var b=this._left._compMap.Sprite_0,a=this._right._compMap.Sprite_0;this._white._compMap.Sprite_0.set_visible(!1);b.set_visible(!1);a.set_visible(!1);this.setInUse(!1)},hideLevelNumBG:function(){var b=this._levelNumBG._compMap.Sprite_0,a=this._getReady._compMap.Sprite_0;b.y.animateTo(-b.getNaturalHeight()-20,0.6,s.Ease.quartOut);a.x.animateTo(1044,
0.6,s.Ease.quartOut)},switchToNext:function(){this.owner._compMap.Script_2.dispose();if(!this._levelNumShown||0==this._levelNum)this._previous.setInUse(!1),this._next.setInUse(!0);if(0<this._levelNum&&!this._levelNumShown){var b=this._levelNumBG._compMap.Sprite_0;b.set_visible(!0);b.setXY(512-0.5*b.getNaturalWidth(),-b.getNaturalHeight());var a=this._getReady._compMap.Sprite_0;a.set_visible(!0);a.setXY(-a.getNaturalWidth(),490);b.y.animateTo(300-0.5*b.getNaturalHeight(),0.6,s.Ease.quartOut);a.x.animateTo(512-
0.5*a.getNaturalWidth(),0.8,s.Ease.quartOut);this._levelNumActual._compMap.Sprite_0.set_text(this._levelNum+"");this._levelNumActual._compMap.Sprite_0.setXY(236-0.5*this._levelNumActual._compMap.Sprite_0.getNaturalWidth(),180);this._levelNumShown=!0;this._levelNum=0;b=new q.Script;b.run(new q.Sequence([new q.Delay(1.5),new q.CallFunction(x(this,this.hideLevelNumBG)),new q.Delay(0.5),new q.CallFunction(x(this,this.switchToNext))]))}else b=this._left._compMap.Sprite_0,a=this._right._compMap.Sprite_0,
this._white._compMap.Sprite_0.alpha.animateTo(0,0.5,s.Ease.linear),b.x.animateTo(-b.getNaturalWidth(),0.5,s.Ease.quadIn),a.x.animateTo(1024,0.5,s.Ease.quadIn),this._levelNumShown=!1,this._levelNum=0,b=new q.Script,b.run(new q.Sequence([new q.Delay(0.51),new q.CallFunction(x(this,this.finishTransition))]));this.owner.add(b)},transition:function(b,a){this.setInUse(!0);null!=a&&(this._previous=a);this._next=b;var e=this._white._compMap.Sprite_0,d=this._left._compMap.Sprite_0,c=this._right._compMap.Sprite_0;
e.set_visible(!0);e.alpha.set__(0);e.alpha.animateTo(1,0.5,s.Ease.linear);d.set_visible(!0);d.alpha.set__(1);d.setXY(-d.getNaturalWidth(),300-0.5*d.getNaturalHeight());d.x.animateTo(0,0.5,s.Ease.quadOut);c.set_visible(!0);c.alpha.set__(1);c.setXY(1024,300-0.5*c.getNaturalHeight());c.x.animateTo(1024-c.getNaturalWidth()+10,0.5,s.Ease.quadOut);this._levelNumShown=!1;e=new q.Script;e.run(new q.Sequence([new q.Delay(1.1),new q.CallFunction(x(this,this.switchToNext))]));this.owner.add(e)},onAdded:function(){var b=
this.getCore().getObject("ContentProxy").getContentData();this.owner.add(new i.Sprite);this._white=new n;this._white.add(new i.ImageSprite(f.mainAssets.getTexture("transition/transition_white")));this._white._compMap.Sprite_0.setScale(1.1);this.owner.addChild(this._white);this._left=new n;this._left.add(new i.ImageSprite(f.mainAssets.getTexture("transition/transition_left")));this.owner.addChild(this._left);this._right=new n;this._right.add(new i.ImageSprite(f.mainAssets.getTexture("transition/transition_right")));
this.owner.addChild(this._right);this._levelNumBG=new n;this._levelNumBG.add(new i.ImageSprite(f.mainAssets.getTexture("transition/transition_levelnum_bg")));this._levelNumBG._compMap.Sprite_0.set_visible(!1);this.owner.addChild(this._levelNumBG);this._levelNumText=new n;this._levelNumText.add(new i.TextSprite(a.tubad.data.FontData.coopLight36Purple,b.gameLevelIntro));this._levelNumText._compMap.Sprite_0.setXY(235-0.5*this._levelNumText._compMap.Sprite_0.getNaturalWidth(),100);this._levelNumBG.addChild(this._levelNumText);
this._levelNumActual=new n;this._levelNumActual.add(new i.TextSprite(a.tubad.data.FontData.luckiestGuyWhite,"0"));this._levelNumBG.addChild(this._levelNumActual);this._getReady=new n;this._getReady.add(new i.TextSprite(a.tubad.data.FontData.coopLight36Purple,b.gameGetReady));this._getReady._compMap.Sprite_0.set_visible(!1);this.owner.addChild(this._getReady);this.setInUse(!1)},__class__:a.tubad.view.ui.TransitionDisplay});a.tubad.view.ui.VolumeToggleButton=function(){var b=f.mainAssets;a.tubad.view.ui.ButtonSprite.call(this,
b.getTexture("buttons/volumeoff_up"),b.getTexture("buttons/volumeoff_over"),b.getTexture("buttons/volumeoff_down"),b.getTexture("buttons/volumeon_up"),b.getTexture("buttons/volumeon_over"),b.getTexture("buttons/volumeon_down"));null==a.tubad.core.EngineCore._instance&&(a.tubad.core.EngineCore._instance=new a.tubad.core.EngineCore);b=a.tubad.core.EngineCore._instance;this.setAlt(b.getObject("SoundProxy").getEffectsEnabled());b.get_messageControl().addListener("SET_AUDIO_ENABLED",x(this,this.onAudioChanged));
this.get_pointerDown().connect(x(this,this.onClick))};a.tubad.view.ui.VolumeToggleButton.__name__=!0;a.tubad.view.ui.VolumeToggleButton.__super__=a.tubad.view.ui.ButtonSprite;a.tubad.view.ui.VolumeToggleButton.prototype=m(a.tubad.view.ui.ButtonSprite.prototype,{onAudioChanged:function(b){this.setAlt(b)},onClick:function(){var b;null==a.tubad.core.EngineCore._instance&&(a.tubad.core.EngineCore._instance=new a.tubad.core.EngineCore);b=a.tubad.core.EngineCore._instance;b.get_messageControl().sendMessage("SET_AUDIO_ENABLED",
!this._isAlt);b.get_messageControl().sendMessage("PLAY_MUSIC","music/music")},__class__:a.tubad.view.ui.VolumeToggleButton});n=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};n.__name__=!0;n.__interfaces__=[l.Disposable];n.prototype={dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},
removeChild:function(b){for(var a=null,e=this.firstChild;null!=e;){var d=e.next;if(e==b){null==a?this.firstChild=d:a.next=d;e.parent=null;e.next=null;break}a=e;e=d}},addChild:function(b,a){null==a&&(a=!0);null!=b.parent&&b.parent.removeChild(b);b.parent=this;if(a){for(var e=null,d=this.firstChild;null!=d;)e=d,d=d.next;null!=e?e.next=b:this.firstChild=b}else b.next=this.firstChild,this.firstChild=b;return this},remove:function(b){for(var a=null,e=this.firstComponent;null!=e;){var d=e.next;if(e==b)return null==
a?this.firstComponent=d:a.init(this,d),delete this._compMap[e.get_name()],e.onRemoved(),e.init(null,null),!0;a=e;e=d}return!1},add:function(b){null!=b.owner&&b.owner.remove(b);var a=b.get_name(),e=this._compMap[a];null!=e&&this.remove(e);this._compMap[a]=b;a=null;for(e=this.firstComponent;null!=e;)a=e,e=e.next;null!=a?a.next=b:this.firstComponent=b;b.init(this,null);b.onAdded();return this},__class__:n};c={Platform:function(){}};c.Platform.__name__=!0;c.Platform.prototype={__class__:c.Platform};c.html=
{};c.html.HtmlPlatform=function(){};c.html.HtmlPlatform.__name__=!0;c.html.HtmlPlatform.__interfaces__=[c.Platform];c.html.HtmlPlatform.prototype={createRenderer:function(b){try{var a=J._CanvasElement.CanvasUtil.getContextWebGL(b,{alpha:!1,depth:!1,failIfMajorPerformanceCaveat:!0});if(null!=a)if(c.html.HtmlUtil.detectSlowDriver(a))null;else return new c.html.WebGLRenderer(this._stage,a)}catch(e){}return new c.html.CanvasRenderer(b)},getY:function(b,a){return(b.clientY-a.top)*this._stage.get_height()/
a.height},getX:function(b,a){return(b.clientX-a.left)*this._stage.get_width()/a.width},getRenderer:function(){return this._renderer},getExternal:function(){null==this._external&&(this._external=new c.html.HtmlExternal);return this._external},getPointer:function(){return this._pointer},update:function(b){var a=(b-this._lastUpdate)/1E3;this._lastUpdate=b;o.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(a),this.mainLoop.render(this._renderer)))},getStage:function(){return this._stage},
loadAssetPack:function(b){return(new c.html.HtmlAssetPackLoader(this,b)).promise},init:function(){var b=this;c.html.HtmlUtil.fixAndroidMath();var a=null;try{a=r.window.flambe.canvas}catch(e){}a.setAttribute("tabindex","0");a.style.outlineStyle="none";a.style.webkitTapHighlightColor="transparent";a.setAttribute("moz-opaque","true");this._stage=new c.html.HtmlStage(a);this._pointer=new c.BasicPointer;this._mouse=new c.html.HtmlMouse(this._pointer,a);this._renderer=this.createRenderer(a);this.mainLoop=
new c.MainLoop;this.musicPlaying=!1;this._canvas=a;this._container=a.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,j=function(e){if(!(1E3>e.timeStamp-d)){var c=a.getBoundingClientRect(),g=b.getX(e,c),c=b.getY(e,c);switch(e.type){case "mousedown":e.target==a&&(e.preventDefault(),b._mouse.submitDown(g,c,e.button),a.focus());break;case "mousemove":b._mouse.submitMove(g,c);break;case "mouseup":b._mouse.submitUp(g,
c,e.button);break;case "mousewheel":case "DOMMouseScroll":b._mouse.submitScroll(g,c,"mousewheel"==e.type?e.wheelDelta/40:-e.detail)&&e.preventDefault()}}};r.window.addEventListener("mousedown",j,!1);r.window.addEventListener("mousemove",j,!1);r.window.addEventListener("mouseup",j,!1);a.addEventListener("mousewheel",j,!1);a.addEventListener("DOMMouseScroll",j,!1);a.addEventListener("contextmenu",function(b){b.preventDefault()},!1);var g="undefined"!=typeof r.window.ontouchstart,j="msMaxTouchPoints"in
window.navigator&&1<window.navigator.msMaxTouchPoints;if(g||j){var f=new c.BasicTouch(this._pointer,g?4:r.navigator.msMaxTouchPoints);this._touch=f;j=function(a){var h=g?a.changedTouches:[a],e=a.target.getBoundingClientRect();d=a.timeStamp;switch(a.type){case "touchstart":case "MSPointerDown":case "pointerdown":a.preventDefault();c.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&c.html.HtmlUtil.hideMobileBrowser();for(a=0;a<h.length;){var j=h[a];++a;var i=b.getX(j,e),k=b.getY(j,e),j=(g?j.identifier:j.pointerId)|
0;f.submitDown(j,i,k)}break;case "touchmove":case "MSPointerMove":case "pointermove":a.preventDefault();for(a=0;a<h.length;)j=h[a],++a,i=b.getX(j,e),k=b.getY(j,e),j=(g?j.identifier:j.pointerId)|0,f.submitMove(j,i,k);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(a=0;a<h.length;)j=h[a],++a,i=b.getX(j,e),k=b.getY(j,e),j=(g?j.identifier:j.pointerId)|0,f.submitUp(j,i,k)}};g?(a.addEventListener("touchstart",j,!1),a.addEventListener("touchmove",j,!1),a.addEventListener("touchend",
j,!1),a.addEventListener("touchcancel",j,!1)):(a.addEventListener("MSPointerDown",j,!1),a.addEventListener("MSPointerMove",j,!1),a.addEventListener("MSPointerUp",j,!1))}else this._touch=new c.DummyTouch;var i=r.window.onerror;r.window.onerror=function(b,a,h){o.uncaughtError.emit(b);return null!=i?i(b,a,h):!1};var k=c.html.HtmlUtil.loadExtension("hidden",r.document);null!=k.value?(j=function(){o.hidden.set__(I.field(r.document,k.field))},j(null),r.document.addEventListener(k.prefix+"visibilitychange",
j,!1)):(j=function(b){o.hidden.set__("pagehide"==b.type)},r.window.addEventListener("pageshow",j,!1),r.window.addEventListener("pagehide",j,!1));o.hidden.get_changed().connect(function(a){a||(b._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var l=c.html.HtmlUtil.loadExtension("requestAnimationFrame").value;if(null!=l){var n=r.window.performance,m=null!=n&&c.html.HtmlUtil.polyfill("now",n);m?this._lastUpdate=n.now():null;var p=null,p=function(e){b.update(m?n.now():e);l(p,a)};l(p,a)}else r.window.setInterval(function(){b.update(Date.now())},
16);null},__class__:c.html.HtmlPlatform};l.Value=function(b,a){this._value=b;this._changed=null!=a?new l.Signal2(a):null};l.Value.__name__=!0;l.Value.prototype={get_changed:function(){null==this._changed&&(this._changed=new l.Signal2);return this._changed},set__:function(b){var a=this._value;b!=a&&(this._value=b,null!=this._changed&&this._changed.emit(b,a));return b},watch:function(b){b(this._value,this._value);return this.get_changed().connect(b)},__class__:l.Value};l.SignalConnection=function(b,
a){this._next=null;this._signal=b;this._listener=a;this.stayInList=!0};l.SignalConnection.__name__=!0;l.SignalConnection.__interfaces__=[l.Disposable];l.SignalConnection.prototype={dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},once:function(){this.stayInList=!1;return this},__class__:l.SignalConnection};l.SignalBase=function(b){this._head=null!=b?new l.SignalConnection(this,b):null;this._deferredTasks=null};l.SignalBase.__name__=!0;l.SignalBase.prototype=
{listRemove:function(b){for(var a=null,e=this._head;null!=e;){if(e==b){b=e._next;null==a?this._head=b:a._next=b;break}a=e;e=e._next}},listAdd:function(b,a){if(a)b._next=this._head,this._head=b;else{for(var e=null,d=this._head;null!=d;)e=d,d=d._next;null!=e?e._next=b:this._head=b}},didEmit:function(b){this._head=b;b=this._deferredTasks;for(this._deferredTasks=null;null!=b;)b.fn(),b=b.next},willEmit:function(){var b=this._head;this._head=l.SignalBase.DISPATCHING_SENTINEL;return b},defer:function(b){for(var a=
null,e=this._deferredTasks;null!=e;)a=e,e=e.next;b=new l._SignalBase.Task(b);null!=a?a.next=b:this._deferredTasks=b},disconnect:function(b){var a=this;this._head==l.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){a.listRemove(b)}):this.listRemove(b)},connectImpl:function(b,a){var e=this,d=new l.SignalConnection(this,b);this._head==l.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){e.listAdd(d,a)}):this.listAdd(d,a);return d},__class__:l.SignalBase};l.Signal2=function(b){l.SignalBase.call(this,
b)};l.Signal2.__name__=!0;l.Signal2.__super__=l.SignalBase;l.Signal2.prototype=m(l.SignalBase.prototype,{emitImpl:function(b,a){for(var e=this.willEmit(),d=e;null!=d;)d._listener(b,a),d.stayInList||d.dispose(),d=d._next;this.didEmit(e)},emit:function(b,a){var e=this;this._head==l.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){e.emitImpl(b,a)}):this.emitImpl(b,a)},connect:function(b,a){null==a&&(a=!1);return this.connectImpl(b,a)},__class__:l.Signal2});l.Signal1=function(b){l.SignalBase.call(this,
b)};l.Signal1.__name__=!0;l.Signal1.__super__=l.SignalBase;l.Signal1.prototype=m(l.SignalBase.prototype,{emitImpl:function(b){for(var a=this.willEmit(),e=a;null!=e;)e._listener(b),e.stayInList||e.dispose(),e=e._next;this.didEmit(a)},emit:function(b){var a=this;this._head==l.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl(b)}):this.emitImpl(b)},connect:function(b,a){null==a&&(a=!1);return this.connectImpl(b,a)},__class__:l.Signal1});s={AnimatedFloat:function(b,a){this._behavior=null;
l.Value.call(this,b,a)}};s.AnimatedFloat.__name__=!0;s.AnimatedFloat.__super__=l.Value;s.AnimatedFloat.prototype=m(l.Value.prototype,{set_behavior:function(b){this._behavior=b;this.update(0);return b},animateTo:function(b,a,e){this.set_behavior(new s.Tween(this._value,b,a,e))},update:function(b){null!=this._behavior&&(l.Value.prototype.set__.call(this,this._behavior.update(b)),this._behavior.isComplete()&&(this._behavior=null))},set__:function(b){this._behavior=null;return l.Value.prototype.set__.call(this,
b)},__class__:s.AnimatedFloat});o=function(){};o.__name__=!0;o.init=function(){o._calledInit||(o._platform.init(),o._calledInit=!0)};u=function(){this._realDt=0};u.__name__=!0;u.__super__=B;u.prototype=m(B.prototype,{onUpdate:function(b){0<this._realDt&&(b=this._realDt,this._realDt=0);this.scale.update(b)},get_name:function(){return"SpeedAdjuster_5"},__class__:u});s.Behavior=function(){};s.Behavior.__name__=!0;s.Behavior.prototype={__class__:s.Behavior};s.Ease=function(){};s.Ease.__name__=!0;s.Ease.linear=
function(b){return b};s.Ease.quadIn=function(b){return b*b};s.Ease.quadOut=function(b){return b*(2-b)};s.Ease.quartOut=function(b){return 1- --b*b*b*b};s.Tween=function(b,a,e,d){this._from=b;this._to=a;this._duration=e;this.elapsed=0;this._easing=null!=d?d:s.Ease.linear};s.Tween.__name__=!0;s.Tween.__interfaces__=[s.Behavior];s.Tween.prototype={isComplete:function(){return this.elapsed>=this._duration},update:function(b){this.elapsed+=b;return this.elapsed>=this._duration?this._to:this._from+(this._to-
this._from)*this._easing(this.elapsed/this._duration)},__class__:s.Tween};k={Asset:function(){}};k.Asset.__name__=!0;k.Asset.__interfaces__=[l.Disposable];k.Asset.prototype={__class__:k.Asset};k.AssetFormat={__ename__:!0,__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};k.AssetFormat.WEBP=["WEBP",0];k.AssetFormat.WEBP.toString=z;k.AssetFormat.WEBP.__enum__=k.AssetFormat;k.AssetFormat.JXR=["JXR",1];k.AssetFormat.JXR.toString=z;k.AssetFormat.JXR.__enum__=k.AssetFormat;
k.AssetFormat.PNG=["PNG",2];k.AssetFormat.PNG.toString=z;k.AssetFormat.PNG.__enum__=k.AssetFormat;k.AssetFormat.JPG=["JPG",3];k.AssetFormat.JPG.toString=z;k.AssetFormat.JPG.__enum__=k.AssetFormat;k.AssetFormat.GIF=["GIF",4];k.AssetFormat.GIF.toString=z;k.AssetFormat.GIF.__enum__=k.AssetFormat;k.AssetFormat.DDS=["DDS",5];k.AssetFormat.DDS.toString=z;k.AssetFormat.DDS.__enum__=k.AssetFormat;k.AssetFormat.PVR=["PVR",6];k.AssetFormat.PVR.toString=z;k.AssetFormat.PVR.__enum__=k.AssetFormat;k.AssetFormat.PKM=
["PKM",7];k.AssetFormat.PKM.toString=z;k.AssetFormat.PKM.__enum__=k.AssetFormat;k.AssetFormat.MP3=["MP3",8];k.AssetFormat.MP3.toString=z;k.AssetFormat.MP3.__enum__=k.AssetFormat;k.AssetFormat.M4A=["M4A",9];k.AssetFormat.M4A.toString=z;k.AssetFormat.M4A.__enum__=k.AssetFormat;k.AssetFormat.OPUS=["OPUS",10];k.AssetFormat.OPUS.toString=z;k.AssetFormat.OPUS.__enum__=k.AssetFormat;k.AssetFormat.OGG=["OGG",11];k.AssetFormat.OGG.toString=z;k.AssetFormat.OGG.__enum__=k.AssetFormat;k.AssetFormat.WAV=["WAV",
12];k.AssetFormat.WAV.toString=z;k.AssetFormat.WAV.__enum__=k.AssetFormat;k.AssetFormat.Data=["Data",13];k.AssetFormat.Data.toString=z;k.AssetFormat.Data.__enum__=k.AssetFormat;k.AssetEntry=function(b,a,e,d){this.name=b;this.url=a;this.format=e;this.bytes=d};k.AssetEntry.__name__=!0;k.AssetEntry.prototype={__class__:k.AssetEntry};k.AssetPack=function(){};k.AssetPack.__name__=!0;k.AssetPack.__interfaces__=[l.Disposable];k.AssetPack.prototype={__class__:k.AssetPack};k.File=function(){};k.File.__name__=
!0;k.File.__interfaces__=[k.Asset];k.File.prototype={__class__:k.File};D=void 0;J=void 0;r=void 0;r=function(){};r.__name__=!0;k.Manifest=function(){this._localBase=this._remoteBase=null;this._entries=[]};k.Manifest.__name__=!0;k.Manifest.fromAssets=function(b,a){null==a&&(a=!0);var e=I.field(K.Meta.getType(k.Manifest).assets[0],b);if(null==e){if(a)throw l.Strings.withFields("Missing asset pack",["name",b]);return null}var d=new k.Manifest;d.set_localBase("assets");for(var c=0;c<e.length;){var g=
e[c];++c;var f=g.name,i=b+"/"+f+"?v="+E.string(g.md5),n=k.Manifest.inferFormat(f);n!=k.AssetFormat.Data&&(f=l.Strings.removeFileExtension(f));d.add(f,i,g.bytes,n)}return d};k.Manifest.inferFormat=function(b){b=l.Strings.getUrlExtension(b);if(null!=b)switch(b.toLowerCase()){case "gif":return k.AssetFormat.GIF;case "jpg":case "jpeg":return k.AssetFormat.JPG;case "jxr":case "wdp":return k.AssetFormat.JXR;case "png":return k.AssetFormat.PNG;case "webp":return k.AssetFormat.WEBP;case "dds":return k.AssetFormat.DDS;
case "pvr":return k.AssetFormat.PVR;case "pkm":return k.AssetFormat.PKM;case "m4a":return k.AssetFormat.M4A;case "mp3":return k.AssetFormat.MP3;case "ogg":return k.AssetFormat.OGG;case "opus":return k.AssetFormat.OPUS;case "wav":return k.AssetFormat.WAV}else null;return k.AssetFormat.Data};k.Manifest.prototype={get_remoteBase:function(){return this._remoteBase},set_localBase:function(b){null!=b&&null;return this._localBase=b},get_localBase:function(){return this._localBase},getFullURL:function(b){var a=
null!=this.get_remoteBase()&&k.Manifest._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=a?l.Strings.joinPath(a,b.url):b.url},iterator:function(){return w.iter(this._entries)},add:function(b,a,e,d){null==e&&(e=0);null==d&&(d=k.Manifest.inferFormat(a));b=new k.AssetEntry(b,a,d,e);this._entries.push(b);return b},__class__:k.Manifest};i.BlendMode={__ename__:!0,__constructs__:["Normal","Add","Mask","Copy"]};i.BlendMode.Normal=["Normal",0];i.BlendMode.Normal.toString=z;i.BlendMode.Normal.__enum__=
i.BlendMode;i.BlendMode.Add=["Add",1];i.BlendMode.Add.toString=z;i.BlendMode.Add.__enum__=i.BlendMode;i.BlendMode.Mask=["Mask",2];i.BlendMode.Mask.toString=z;i.BlendMode.Mask.__enum__=i.BlendMode;i.BlendMode.Copy=["Copy",3];i.BlendMode.Copy.toString=z;i.BlendMode.Copy.__enum__=i.BlendMode;i.Glyph=function(b){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=b};i.Glyph.__name__=!0;i.Glyph.prototype={setKerning:function(b,
a){null==this._kernings&&(this._kernings=new A.IntMap);this._kernings.set(b,a)},getKerning:function(b){return null!=this._kernings?this._kernings.get(b)|0:0},draw:function(b,a,e){0<this.width&&b.drawSubTexture(this.page,a+this.xOffset,e+this.yOffset,this.x,this.y,this.width,this.height)},__class__:i.Glyph};i.Font=function(b,a){this.name=a;this._pack=b;this.reload()};i.Font.__name__=!0;i.Font.prototype={reload:function(){this._glyphs=new A.IntMap;this._glyphs.set(i.Font.NEWLINE.charCode,i.Font.NEWLINE);
for(var b=new i._Font.ConfigParser(this._pack.getFile(this.name+".fnt").toString()),a=new A.IntMap,e=this.name.lastIndexOf("/"),e=0<=e?w.substr(this.name,0,e+1):"",d=b.keywords();d.hasNext();)switch(d.next()){case "info":for(var c=b.pairs();c.hasNext();){var g=c.next();switch(g.key){case "size":this.size=g.getInt()}}break;case "common":for(c=b.pairs();c.hasNext();)switch(g=c.next(),g.key){case "lineHeight":this.lineHeight=g.getInt()}break;case "page":for(var c=0,f=null,k=b.pairs();k.hasNext();)switch(g=
k.next(),g.key){case "id":c=g.getInt();break;case "file":f=g.getString()}a.set(c,this._pack.getTexture(e+l.Strings.removeFileExtension(f)));break;case "char":c=null;for(f=b.pairs();f.hasNext();)switch(g=f.next(),g.key){case "id":c=new i.Glyph(g.getInt());break;case "x":c.x=g.getInt();break;case "y":c.y=g.getInt();break;case "width":c.width=g.getInt();break;case "height":c.height=g.getInt();break;case "page":c.page=a.get(g.getInt());break;case "xoffset":c.xOffset=g.getInt();break;case "yoffset":c.yOffset=
g.getInt();break;case "xadvance":c.xAdvance=g.getInt()}this._glyphs.set(c.charCode,c);break;case "kerning":for(var c=null,k=f=0,n=b.pairs();n.hasNext();)switch(g=n.next(),g.key){case "first":c=this._glyphs.get(g.getInt());break;case "second":f=g.getInt();break;case "amount":k=g.getInt()}null!=c&&0!=k&&c.setKerning(f,k)}},layoutText:function(b,a,e,c,j){null==j&&(j=0);null==c&&(c=0);null==e&&(e=0);null==a&&(a=i.TextAlign.Left);return new i.TextLayout(this,b,a,e,c,j)},__class__:i.Font};i.TextAlign={__ename__:!0,
__constructs__:["Left","Center","Right"]};i.TextAlign.Left=["Left",0];i.TextAlign.Left.toString=z;i.TextAlign.Left.__enum__=i.TextAlign;i.TextAlign.Center=["Center",1];i.TextAlign.Center.toString=z;i.TextAlign.Center.__enum__=i.TextAlign;i.TextAlign.Right=["Right",2];i.TextAlign.Right.toString=z;i.TextAlign.Right.__enum__=i.TextAlign;i.TextLayout=function(b,a,e,c,j,g){this.lines=0;var f=this;this._font=b;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(b.lineHeight+g);this.bounds=new y.Rectangle;
for(var k=[],l=a.length,n=0;n<l;){var m=n++,g=a.charCodeAt(m),g=b._glyphs.get(g);null!=g?this._glyphs.push(g):null}for(var a=-1,p=0,o=0,b=b._glyphs.get(10),l=function(){f.bounds.width=y.FMath.max(f.bounds.width,p);f.bounds.height+=o;k[f.lines]=p;o=p=0;++f.lines},m=0;m<this._glyphs.length;)g=this._glyphs[m],this._offsets[m]=Math.round(p),(n=0<c&&p+g.width>c)||g==b?(n&&(0<=a?(this._glyphs[a]=b,p=this._offsets[a],m=a):this._glyphs.splice(m,0,b)),a=-1,o=this._lineOffset,l()):(32==g.charCode&&(a=m),p+=
g.xAdvance+j,o=y.FMath.max(o,g.height+g.yOffset),m+1<this._glyphs.length&&(p+=g.getKerning(this._glyphs[m+1].charCode))),++m;l();for(var j=0,m=i.TextLayout.getAlignOffset(e,k[0],c),b=1.79769313486231E308,a=-1.79769313486231E308,n=l=0,r=this._glyphs.length;n<r;){g=this._glyphs[n];10==g.charCode&&(j+=this._lineOffset,++l,m=i.TextLayout.getAlignOffset(e,k[l],c));this._offsets[n]+=m;var q=j+g.yOffset,b=b<q?b:q,a=y.FMath.max(a,q+g.height);++n}this.bounds.x=i.TextLayout.getAlignOffset(e,this.bounds.width,
c);this.bounds.y=b;this.bounds.height=a-b};i.TextLayout.__name__=!0;i.TextLayout.getAlignOffset=function(b,a,e){switch(b[1]){case 0:return 0;case 2:return e-a;case 1:return Math.round((e-a)/2)}};i.TextLayout.prototype={draw:function(b){for(var a=0,e=0,c=this._glyphs.length;e<c;){var j=this._glyphs[e];10==j.charCode?a+=this._lineOffset:j.draw(b,this._offsets[e],a);++e}},__class__:i.TextLayout};i._Font={};i._Font.ConfigParser=function(b){this._configText=b;this._keywordPattern=new H("([A-Za-z]+)(.*)",
"");this._pairPattern=new H('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};i._Font.ConfigParser.__name__=!0;i._Font.ConfigParser.advance=function(b,a){var e=a.matchedPos();return w.substr(b,e.pos+e.len,b.length)};i._Font.ConfigParser.prototype={pairs:function(){var b=this,a=this._pairText;return{next:function(){a=i._Font.ConfigParser.advance(a,b._pairPattern);return new i._Font.ConfigPair(b._pairPattern.matched(1),b._pairPattern.matched(2))},hasNext:function(){return b._pairPattern.match(a)}}},keywords:function(){var b=
this,a=this._configText;return{next:function(){a=i._Font.ConfigParser.advance(a,b._keywordPattern);b._pairText=b._keywordPattern.matched(2);return b._keywordPattern.matched(1)},hasNext:function(){return b._keywordPattern.match(a)}}},__class__:i._Font.ConfigParser};i._Font.ConfigPair=function(b,a){this.key=b;this._value=a};i._Font.ConfigPair.__name__=!0;i._Font.ConfigPair.prototype={getString:function(){return 34!=this._value.charCodeAt(0)?null:w.substr(this._value,1,this._value.length-2)},getInt:function(){return E.parseInt(this._value)},
__class__:i._Font.ConfigPair};i.Graphics=function(){};i.Graphics.__name__=!0;i.Graphics.prototype={__class__:i.Graphics};i.Orientation={__ename__:!0,__constructs__:["Portrait","Landscape"]};i.Orientation.Portrait=["Portrait",0];i.Orientation.Portrait.toString=z;i.Orientation.Portrait.__enum__=i.Orientation;i.Orientation.Landscape=["Landscape",1];i.Orientation.Landscape.toString=z;i.Orientation.Landscape.__enum__=i.Orientation;i.Texture=function(){};i.Texture.__name__=!0;i.Texture.__interfaces__=[k.Asset];
i.Texture.prototype={__class__:i.Texture};i.SubTexture=function(){};i.SubTexture.__name__=!0;i.SubTexture.__interfaces__=[i.Texture];i.TextSprite=function(b,a){null==a&&(a="");this._layout=null;var e=this;i.Sprite.call(this);this._font=b;this._text=a;this._align=i.TextAlign.Left;this._flags|=64;var c=function(){e._flags|=64};this.wrapWidth=new s.AnimatedFloat(0,c);this.letterSpacing=new s.AnimatedFloat(0,c);this.lineSpacing=new s.AnimatedFloat(0,c)};i.TextSprite.__name__=!0;i.TextSprite.__super__=
i.Sprite;i.TextSprite.prototype=m(i.Sprite.prototype,{onUpdate:function(b){i.Sprite.prototype.onUpdate.call(this,b);this.wrapWidth.update(b);this.letterSpacing.update(b);this.lineSpacing.update(b)},updateLayout:function(){0!=(this._flags&64)&&(this._flags&=-65,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},set_align:function(b){b!=this._align&&(this._align=b,this._flags|=64);return b},set_text:function(b){b!=this._text&&
(this._text=b,this._flags|=64);return b},containsLocal:function(b,a){this.updateLayout();return this._layout.bounds.contains(b,a)},getNaturalHeight:function(){this.updateLayout();var b=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),a=this._layout.bounds.height;return b>a?b:a},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},draw:function(b){this.updateLayout();this._layout.draw(b)},__class__:i.TextSprite});
t={MouseButton:{__ename__:!0,__constructs__:["Left","Middle","Right","Unknown"]}};t.MouseButton.Left=["Left",0];t.MouseButton.Left.toString=z;t.MouseButton.Left.__enum__=t.MouseButton;t.MouseButton.Middle=["Middle",1];t.MouseButton.Middle.toString=z;t.MouseButton.Middle.__enum__=t.MouseButton;t.MouseButton.Right=["Right",2];t.MouseButton.Right.toString=z;t.MouseButton.Right.__enum__=t.MouseButton;t.MouseButton.Unknown=function(b){b=["Unknown",3,b];b.__enum__=t.MouseButton;b.toString=z;return b};t.MouseCursor=
{__ename__:!0,__constructs__:["Default","Button","None"]};t.MouseCursor.Default=["Default",0];t.MouseCursor.Default.toString=z;t.MouseCursor.Default.__enum__=t.MouseCursor;t.MouseCursor.Button=["Button",1];t.MouseCursor.Button.toString=z;t.MouseCursor.Button.__enum__=t.MouseCursor;t.MouseCursor.None=["None",2];t.MouseCursor.None.toString=z;t.MouseCursor.None.__enum__=t.MouseCursor;t.MouseEvent=function(){this.init(0,0,0,null)};t.MouseEvent.__name__=!0;t.MouseEvent.prototype={init:function(b,a,e,c){this.id=
b;this.viewX=a;this.viewY=e;this.button=c},__class__:t.MouseEvent};t.EventSource={__ename__:!0,__constructs__:["Mouse","Touch"]};t.EventSource.Mouse=function(b){b=["Mouse",0,b];b.__enum__=t.EventSource;b.toString=z;return b};t.EventSource.Touch=function(b){b=["Touch",1,b];b.__enum__=t.EventSource;b.toString=z;return b};t.PointerEvent=function(){this.init(0,0,0,null,null)};t.PointerEvent.__name__=!0;t.PointerEvent.prototype={init:function(b,a,e,c,j){this.id=b;this.viewX=a;this.viewY=e;this.hit=c;this.source=
j;this._stopped=!1},__class__:t.PointerEvent};t.TouchPoint=function(b){this.id=b;this._source=t.EventSource.Touch(this)};t.TouchPoint.__name__=!0;t.TouchPoint.prototype={init:function(b,a){this.viewX=b;this.viewY=a},__class__:t.TouchPoint};y.FMath=function(){};y.FMath.__name__=!0;y.FMath.max=function(b,a){return b>a?b:a};y.FMath.min=function(b,a){return b<a?b:a};y.Matrix=function(){this.identity()};y.Matrix.__name__=!0;y.Matrix.multiply=function(b,a,e){null==e&&(e=new y.Matrix);var c=b.m00*a.m00+
b.m01*a.m10,j=b.m00*a.m01+b.m01*a.m11,g=b.m00*a.m02+b.m01*a.m12+b.m02;e.m00=c;e.m01=j;e.m02=g;c=b.m10*a.m00+b.m11*a.m10;j=b.m10*a.m01+b.m11*a.m11;g=b.m10*a.m02+b.m11*a.m12+b.m12;e.m10=c;e.m11=j;e.m12=g;return e};y.Matrix.prototype={clone:function(b){null==b&&(b=new y.Matrix);b.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return b},inverseTransform:function(b,a,e){var c=this.determinant();if(0==c)return!1;b-=this.m02;a-=this.m12;e.x=(b*this.m11-a*this.m01)/c;e.y=(a*this.m00-b*this.m10)/
c;return!0},determinant:function(){return this.m00*this.m11-this.m01*this.m10},transformArray:function(b,a,e){for(var c=0;c<a;){var j=b[c],g=b[c+1];e[c++]=j*this.m00+g*this.m01+this.m02;e[c++]=j*this.m10+g*this.m11+this.m12}},invert:function(){var b=this.determinant();if(0==b)return!1;this.set(this.m11/b,-this.m01/b,-this.m10/b,this.m00/b,(this.m01*this.m12-this.m11*this.m02)/b,(this.m10*this.m02-this.m00*this.m12)/b);return!0},translate:function(b,a){this.m02+=this.m00*b+this.m01*a;this.m12+=this.m11*
a+this.m10*b},compose:function(b,a,e,c,j){var g=Math.sin(j),j=Math.cos(j);this.set(j*e,g*e,-g*c,j*c,b,a)},identity:function(){this.set(1,0,0,1,0,0)},set:function(b,a,e,c,j,g){this.m00=b;this.m01=e;this.m02=j;this.m10=a;this.m11=c;this.m12=g},__class__:y.Matrix};y.Rectangle=function(b,a,e,c){null==c&&(c=0);null==e&&(e=0);null==a&&(a=0);null==b&&(b=0);this.set(b,a,e,c)};y.Rectangle.__name__=!0;y.Rectangle.prototype={equals:function(b){return this.x==b.x&&this.y==b.y&&this.width==b.width&&this.height==
b.height},clone:function(b){null==b&&(b=new y.Rectangle);b.set(this.x,this.y,this.width,this.height);return b},contains:function(b,a){b-=this.x;if(0<=this.width){if(0>b||b>this.width)return!1}else if(0<b||b<this.width)return!1;a-=this.y;if(0<=this.height){if(0>a||a>this.height)return!1}else if(0<a||a<this.height)return!1;return!0},set:function(b,a,e,c){this.x=b;this.y=a;this.width=e;this.height=c},__class__:y.Rectangle};c.BasicAsset=function(){this._disposed=!1};c.BasicAsset.__name__=!0;c.BasicAsset.__interfaces__=
[k.Asset];c.BasicAsset.prototype={onDisposed:function(){null},dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},__class__:c.BasicAsset};c.BasicAssetPackLoader=function(b,a){var e=this;this.manifest=a;this._platform=b;this.promise=new l.Promise;this._bytesLoaded=new A.StringMap;this._pack=new c._BasicAssetPackLoader.BasicAssetPack(a,this);var d=L.array(a);if(0==d.length)this.handleSuccess();else{for(var j=new A.StringMap,g=0;g<d.length;){var f=d[g];++g;var i=j.get(f.name);null==
i&&(i=[],j.set(f.name,i));i.push(f)}this._assetsRemaining=L.count(j);for(d=function(){return function(b){return function(){return function(){return b.iterator()}}()}}()(j)();d.hasNext();)i=d.next(),i=[i],this.pickBestEntry(i[0],function(b){return function(d){if(null!=d){var g=a.getFullURL(d);try{e.loadEntry(g,d)}catch(j){e.handleError(d,"Unexpected error: "+E.string(j))}g=e.promise;g.set_total(g._total+d.bytes)}else d=b[0][0],c.BasicAssetPackLoader.isAudio(d.format)?e.handleLoad(d,c.DummySound.getInstance()):
e.handleError(d,"Could not find a supported format to load")}}(i))}};c.BasicAssetPackLoader.__name__=!0;c.BasicAssetPackLoader.isAudio=function(b){switch(b[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};c.BasicAssetPackLoader.prototype={handleTextureError:function(b){this.handleError(b,"Failed to create texture. Is the GPU context unavailable?")},handleError:function(b,a){this.promise.error.emit(l.Strings.withFields(a,["url",b.url]))},handleSuccess:function(){this.promise.set_result(this._pack)},
handleProgress:function(b,a){this._bytesLoaded.set(b.name,a);for(var e=0,c=function(b){return function(){return b.iterator()}}(this._bytesLoaded)();c.hasNext();)var j=c.next(),e=e+j;this.promise.set_progress(e)},handleLoad:function(b,a){if(!this._pack.disposed){this.handleProgress(b,b.bytes);var e;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:e=this._pack.sounds;break;case 13:e=this._pack.files}e.set(b.name,
a);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},getAssetFormats:function(){null},loadEntry:function(){null},pickBestEntry:function(b,a){this.getAssetFormats(function(e){for(var c=0;c<e.length;){var j=e[c];++c;for(var g=0;g<b.length;){var f=b[g];++g;if(f.format==j){a(f);return}}}a(null)})},onDisposed:function(){},__class__:c.BasicAssetPackLoader};c._BasicAssetPackLoader={};c._BasicAssetPackLoader.BasicAssetPack=function(b,a){this.disposed=!1;this._manifest=b;this.loader=
a;this.textures=new A.StringMap;this.sounds=new A.StringMap;this.files=new A.StringMap};c._BasicAssetPackLoader.BasicAssetPack.__name__=!0;c._BasicAssetPackLoader.BasicAssetPack.__interfaces__=[k.AssetPack];c._BasicAssetPackLoader.BasicAssetPack.prototype={dispose:function(){if(!this.disposed){this.disposed=!0;for(var b=function(b){return function(){return b.iterator()}}(this.textures)();b.hasNext();)b.next().dispose();this.textures=null;for(b=function(b){return function(){return b.iterator()}}(this.sounds)();b.hasNext();)b.next().dispose();
this.sounds=null;for(b=function(b){return function(){return b.iterator()}}(this.files)();b.hasNext();)b.next().dispose();this.files=null;this.loader.onDisposed()}},getFile:function(b,a){null==a&&(a=!0);var e=this.files.get(b);if(null==e&&a)throw l.Strings.withFields("Missing file",["name",b]);return e},getSound:function(b,a){null==a&&(a=!0);var e=this.sounds.get(b);if(null==e&&a)throw l.Strings.withFields("Missing sound",["name",b]);return e},getTexture:function(b,a){null==a&&(a=!0);var e=this.textures.get(b);
if(null==e&&a)throw l.Strings.withFields("Missing texture",["name",b]);return e},__class__:c._BasicAssetPackLoader.BasicAssetPack};c.BasicFile=function(b){c.BasicAsset.call(this);this._content=b};c.BasicFile.__name__=!0;c.BasicFile.__interfaces__=[k.File];c.BasicFile.__super__=c.BasicAsset;c.BasicFile.prototype=m(c.BasicAsset.prototype,{onDisposed:function(){this._content=null},toString:function(){return this._content},__class__:c.BasicFile});u={MouseSystem:function(){}};u.MouseSystem.__name__=!0;
c.BasicMouse=function(b){this._pointer=b;this._source=t.EventSource.Mouse(c.BasicMouse._sharedEvent);this.down=new l.Signal1;this.move=new l.Signal1;this.up=new l.Signal1;this.scroll=new l.Signal1;this._y=this._x=0;this._cursor=t.MouseCursor.Default;this._buttonStates=new A.IntMap};c.BasicMouse.__name__=!0;c.BasicMouse.__interfaces__=[u.MouseSystem];c.BasicMouse.prototype={prepare:function(b,a,e){this._x=b;this._y=a;c.BasicMouse._sharedEvent.init(c.BasicMouse._sharedEvent.id+1,b,a,e)},submitScroll:function(b,
a,e){this._x=b;this._y=a;if(null==this.scroll._head)return!1;this.scroll.emit(e);return!0},submitUp:function(b,a,e){this._buttonStates.exists(e)&&(this._buttonStates.remove(e),this.prepare(b,a,c.MouseCodes.toButton(e)),this._pointer.submitUp(b,a,this._source),this.up.emit(c.BasicMouse._sharedEvent))},submitMove:function(b,a){this.prepare(b,a,null);this._pointer.submitMove(b,a,this._source);this.move.emit(c.BasicMouse._sharedEvent)},submitDown:function(b,a,e){this._buttonStates.exists(e)||(this._buttonStates.set(e,
!0),this.prepare(b,a,c.MouseCodes.toButton(e)),this._pointer.submitDown(b,a,this._source),this.down.emit(c.BasicMouse._sharedEvent))},__class__:c.BasicMouse};u.PointerSystem=function(){};u.PointerSystem.__name__=!0;u.PointerSystem.prototype={__class__:u.PointerSystem};c.BasicPointer=function(b,a,e){null==e&&(e=!1);null==a&&(a=0);null==b&&(b=0);this.down=new l.Signal1;this.move=new l.Signal1;this.up=new l.Signal1;this._x=b;this._y=a;this._isDown=e};c.BasicPointer.__name__=!0;c.BasicPointer.__interfaces__=
[u.PointerSystem];c.BasicPointer.prototype={prepare:function(b,a,e,d){this._x=b;this._y=a;c.BasicPointer._sharedEvent.init(c.BasicPointer._sharedEvent.id+1,b,a,e,d)},submitUp:function(b,a,e){if(this._isDown){this.submitMove(b,a,e);this._isDown=!1;var d=[],j=i.Sprite.hitTest(o.root,b,a);if(null!=j){var g=j.owner;do{var f=g._compMap.Sprite_0;null!=f&&d.push(f);g=g.parent}while(null!=g)}this.prepare(b,a,j,e);for(b=0;b<d.length;)if(f=d[b],++b,f.onPointerUp(c.BasicPointer._sharedEvent),c.BasicPointer._sharedEvent._stopped)return;
this.up.emit(c.BasicPointer._sharedEvent)}},submitMove:function(b,a,e){if(!(b==this._x&&a==this._y)){var d=[],j=i.Sprite.hitTest(o.root,b,a);if(null!=j){var g=j.owner;do{var f=g._compMap.Sprite_0;null!=f&&d.push(f);g=g.parent}while(null!=g)}this.prepare(b,a,j,e);for(b=0;b<d.length;)if(f=d[b],++b,f.onPointerMove(c.BasicPointer._sharedEvent),c.BasicPointer._sharedEvent._stopped)return;this.move.emit(c.BasicPointer._sharedEvent)}},submitDown:function(b,a,e){if(!this._isDown){this.submitMove(b,a,e);this._isDown=
!0;var d=[],j=i.Sprite.hitTest(o.root,b,a);if(null!=j){var g=j.owner;do{var f=g._compMap.Sprite_0;null!=f&&d.push(f);g=g.parent}while(null!=g)}this.prepare(b,a,j,e);for(b=0;b<d.length;)if(f=d[b],++b,f.onPointerDown(c.BasicPointer._sharedEvent),c.BasicPointer._sharedEvent._stopped)return;this.down.emit(c.BasicPointer._sharedEvent)}},get_y:function(){return this._y},get_x:function(){return this._x},__class__:c.BasicPointer};c.BasicTexture=function(b,a,e){this._parent=null;this.rootX=this.rootY=0;c.BasicAsset.call(this);
this.root=b;this._width=a;this._height=e};c.BasicTexture.__name__=!0;c.BasicTexture.__interfaces__=[i.SubTexture];c.BasicTexture.__super__=c.BasicAsset;c.BasicTexture.prototype=m(c.BasicAsset.prototype,{get_height:function(){return this._height},get_width:function(){return this._width},onDisposed:function(){null==this._parent&&this.root.dispose()},__class__:c.BasicTexture});u.TouchSystem=function(){};u.TouchSystem.__name__=!0;c.BasicTouch=function(b,a){null==a&&(a=4);this._pointer=b;this._maxPoints=
a;this._pointMap=new A.IntMap;this._points=[];this.down=new l.Signal1;this.move=new l.Signal1;this.up=new l.Signal1};c.BasicTouch.__name__=!0;c.BasicTouch.__interfaces__=[u.TouchSystem];c.BasicTouch.prototype={submitUp:function(b,a,e){var c=this._pointMap.get(b);null!=c&&(c.init(a,e),this._pointMap.remove(b),w.remove(this._points,c),this._pointerTouch==c&&(this._pointerTouch=null,this._pointer.submitUp(a,e,c._source)),this.up.emit(c))},submitMove:function(b,a,e){b=this._pointMap.get(b);null!=b&&(b.init(a,
e),this._pointerTouch==b&&this._pointer.submitMove(a,e,b._source),this.move.emit(b))},submitDown:function(b,a,e){if(!this._pointMap.exists(b)){var c=new t.TouchPoint(b);c.init(a,e);this._pointMap.set(b,c);this._points.push(c);null==this._pointerTouch&&(this._pointerTouch=c,this._pointer.submitDown(a,e,c._source));this.down.emit(c)}},__class__:c.BasicTouch};C={Sound:function(){}};C.Sound.__name__=!0;C.Sound.__interfaces__=[k.Asset];C.Sound.prototype={__class__:C.Sound};c.DummySound=function(){c.BasicAsset.call(this);
this._playback=new c.DummyPlayback(this)};c.DummySound.__name__=!0;c.DummySound.__interfaces__=[C.Sound];c.DummySound.getInstance=function(){null==c.DummySound._instance&&(c.DummySound._instance=new c.DummySound);return c.DummySound._instance};c.DummySound.__super__=c.BasicAsset;c.DummySound.prototype=m(c.BasicAsset.prototype,{onDisposed:function(){},loop:function(){return this._playback},play:function(){return this._playback},__class__:c.DummySound});C.Playback=function(){};C.Playback.__name__=!0;
C.Playback.__interfaces__=[l.Disposable];C.Playback.prototype={__class__:C.Playback};c.DummyPlayback=function(b){this._sound=b;this.volume=new s.AnimatedFloat(0);this._complete=new l.Value(!0)};c.DummyPlayback.__name__=!0;c.DummyPlayback.__interfaces__=[C.Playback];c.DummyPlayback.prototype={dispose:function(){},get_complete:function(){return this._complete},__class__:c.DummyPlayback};c.DummyTouch=function(){this.down=new l.Signal1;this.move=new l.Signal1;this.up=new l.Signal1};c.DummyTouch.__name__=
!0;c.DummyTouch.__interfaces__=[u.TouchSystem];c.DummyTouch.prototype={__class__:c.DummyTouch};c.EventGroup=function(){this._entries=[]};c.EventGroup.__name__=!0;c.EventGroup.__interfaces__=[l.Disposable];c.EventGroup.prototype={dispose:function(){for(var b=0,a=this._entries;b<a.length;){var c=a[b];++b;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},addDisposingListener:function(b,a,c){var d=this;this.addListener(b,a,function(b){d.dispose();c(b)})},addListener:function(b,
a,e){b.addEventListener(a,e,!1);this._entries.push(new c._EventGroup.Entry(b,a,e))},__class__:c.EventGroup};c._EventGroup={};c._EventGroup.Entry=function(b,a,c){this.dispatcher=b;this.type=a;this.listener=c};c._EventGroup.Entry.__name__=!0;c._EventGroup.Entry.prototype={__class__:c._EventGroup.Entry};c.InternalGraphics=function(){};c.InternalGraphics.__name__=!0;c.InternalGraphics.__interfaces__=[i.Graphics];c.InternalGraphics.prototype={__class__:c.InternalGraphics};u.RendererSystem=function(){};
u.RendererSystem.__name__=!0;u.RendererSystem.prototype={__class__:u.RendererSystem};c.InternalRenderer=function(){};c.InternalRenderer.__name__=!0;c.InternalRenderer.__interfaces__=[u.RendererSystem];c.InternalRenderer.prototype={__class__:c.InternalRenderer};c.MainLoop=function(){this._tickables=[]};c.MainLoop.__name__=!0;c.MainLoop.updateEntity=function(b,a){var e=b._compMap.SpeedAdjuster_5;if(null!=e&&(e._realDt=a,a*=e.scale._value,0>=a)){e.onUpdate(a);return}for(var d=b.firstComponent;null!=
d;)e=d.next,d.onUpdate(a),d=e;for(d=b.firstChild;null!=d;)e=d.next,c.MainLoop.updateEntity(d,a),d=e};c.MainLoop.prototype={addTickable:function(b){this._tickables.push(b)},render:function(b){var a=b.graphics;null!=a&&(b.willRender(),i.Sprite.render(o.root,a),b.didRender())},update:function(b){if(!(0>=b)){1<b&&(b=1);for(var a=0;a<this._tickables.length;){var e=this._tickables[a];null==e||e.update(b)?this._tickables.splice(a,1):++a}o.volume.update(b);c.MainLoop.updateEntity(o.root,b)}},__class__:c.MainLoop};
c.MathUtil=function(){};c.MathUtil.__name__=!0;c.MathUtil.nextPowerOfTwo=function(b){for(var a=1;a<b;)a<<=1;return a};c.MouseCodes=function(){};c.MouseCodes.__name__=!0;c.MouseCodes.toButton=function(b){switch(b){case 0:return t.MouseButton.Left;case 1:return t.MouseButton.Middle;case 2:return t.MouseButton.Right}return t.MouseButton.Unknown(b)};c.TextureRoot=function(){};c.TextureRoot.__name__=!0;c.Tickable=function(){};c.Tickable.__name__=!0;c.Tickable.prototype={__class__:c.Tickable};c.html.CanvasGraphics=
function(b){this._firstDraw=!1;this._canvasCtx=b.getContext("2d")};c.html.CanvasGraphics.__name__=!0;c.html.CanvasGraphics.__interfaces__=[c.InternalGraphics];c.html.CanvasGraphics.prototype={onResize:function(){},didRender:function(){},willRender:function(){this._firstDraw=!0},applyScissor:function(b,a,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(b|0,a|0,c|0,d|0);this._canvasCtx.clip()},setBlendMode:function(b){var a;switch(b[1]){case 0:a="source-over";break;case 1:a="lighter";break;case 2:a=
"destination-in";break;case 3:a="copy"}this._canvasCtx.globalCompositeOperation=a},multiplyAlpha:function(b){this._canvasCtx.globalAlpha*=b},drawSubTexture:function(b,a,c,d,j,g,f){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(b,a,c,d,j,g,f),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(b.root.image,b.rootX+d|0,b.rootY+j|0,g|0,f|0,a|0,c|0,g|0,f|0)},drawTexture:function(b,a,c){this.drawSubTexture(b,a,c,0,0,
b.get_width(),b.get_height())},restore:function(){this._canvasCtx.restore()},transform:function(b,a,c,d,j,g){this._canvasCtx.transform(b,a,c,d,j,g)},save:function(){this._canvasCtx.save()},__class__:c.html.CanvasGraphics};c.html.CanvasRenderer=function(b){this.graphics=new c.html.CanvasGraphics(b);this._hasGPU=new l.Value(!0)};c.html.CanvasRenderer.__name__=!0;c.html.CanvasRenderer.__interfaces__=[c.InternalRenderer];c.html.CanvasRenderer.prototype={didRender:function(){this.graphics.didRender()},
willRender:function(){this.graphics.willRender()},createCompressedTexture:function(){return null},getCompressedTextureFormats:function(){return[]},createTextureFromImage:function(b){b=new c.html.CanvasTextureRoot(c.html.CanvasRenderer.CANVAS_TEXTURES?c.html.HtmlUtil.createCanvas(b):b);return b.createTexture(b.width,b.height)},__class__:c.html.CanvasRenderer};c.html.CanvasTexture=function(b,a,e){c.BasicTexture.call(this,b,a,e)};c.html.CanvasTexture.__name__=!0;c.html.CanvasTexture.__super__=c.BasicTexture;
c.html.CanvasTexture.prototype=m(c.BasicTexture.prototype,{__class__:c.html.CanvasTexture});c.html.CanvasTextureRoot=function(b){this._graphics=null;c.BasicAsset.call(this);this.image=b;this.width=b.width;this.height=b.height};c.html.CanvasTextureRoot.__name__=!0;c.html.CanvasTextureRoot.__interfaces__=[c.TextureRoot];c.html.CanvasTextureRoot.__super__=c.BasicAsset;c.html.CanvasTextureRoot.prototype=m(c.BasicAsset.prototype,{onDisposed:function(){this._graphics=this.image=null},createTexture:function(b,
a){return new c.html.CanvasTexture(this,b,a)},__class__:c.html.CanvasTextureRoot});c.html.HtmlAssetPackLoader=function(b,a){c.BasicAssetPackLoader.call(this,b,a)};c.html.HtmlAssetPackLoader.__name__=!0;c.html.HtmlAssetPackLoader.detectImageFormats=function(b){var a=[k.AssetFormat.PNG,k.AssetFormat.JPG,k.AssetFormat.GIF],c=2,d=r.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&a.unshift(k.AssetFormat.WEBP);--c;0==c&&b(a)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";
var j=r.document.createElement("img");j.onload=j.onerror=function(){1==j.width&&a.unshift(k.AssetFormat.JXR);--c;0==c&&b(a)};j.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};c.html.HtmlAssetPackLoader.detectAudioFormats=function(){var b=r.document.createElement("audio");if(null==b||null==x(b,b.canPlayType))return[];var a=new H("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",
""),e=r.navigator.userAgent;if(!c.html.WebAudioSound.get_supported()&&a.match(e))return[];for(var a=[{format:k.AssetFormat.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:k.AssetFormat.MP3,mimeType:"audio/mpeg"},{format:k.AssetFormat.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:k.AssetFormat.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:k.AssetFormat.WAV,mimeType:"audio/wav"}],e=[],d=0;d<a.length;){var j=a[d];++d;var g="";try{g=b.canPlayType(j.mimeType)}catch(f){}""!=g&&e.push(j.format)}return e};
c.html.HtmlAssetPackLoader.supportsBlob=function(){if(c.html.HtmlAssetPackLoader._detectBlobSupport){c.html.HtmlAssetPackLoader._detectBlobSupport=!1;if((new H("\\bSilk\\b","")).match(r.navigator.userAgent)||null==r.window.Blob)return!1;var b=new XMLHttpRequest;b.open("GET",".",!0);if(""!=b.responseType)return!1;b.responseType="blob";if("blob"!=b.responseType)return!1;c.html.HtmlAssetPackLoader._URL=c.html.HtmlUtil.loadExtension("URL").value}return null!=c.html.HtmlAssetPackLoader._URL&&null!=c.html.HtmlAssetPackLoader._URL.createObjectURL};
c.html.HtmlAssetPackLoader.__super__=c.BasicAssetPackLoader;c.html.HtmlAssetPackLoader.prototype=m(c.BasicAssetPackLoader.prototype,{download:function(b,a,c,d){var j=this,g=null,f=null,i=0,k=!1,l=function(){k&&(k=!1,r.window.clearInterval(i))},n=3,m=function(){--n;return 0<=n?(f(),!0):!1},f=function(){l();null!=g&&g.abort();g=new XMLHttpRequest;g.open("GET",b,!0);g.responseType=c;var f=0;g.onprogress=function(b){k||(k=!0,i=r.window.setInterval(function(){4!=g.readyState&&5E3<Date.now()-f&&!m()&&(l(),
j.handleError(a,"Download stalled"))},1E3));f=Date.now();j.handleProgress(a,b.loaded)};g.onerror=function(){if(0!=g.status||!m())l(),j.handleError(a,"HTTP error "+g.status)};g.onload=function(){var b=g.response;null==b&&(b=g.responseText);l();d(b)};g.send()};f()},getAssetFormats:function(b){var a=this;null==c.html.HtmlAssetPackLoader._supportedFormats&&(c.html.HtmlAssetPackLoader._supportedFormats=new l.Promise,c.html.HtmlAssetPackLoader.detectImageFormats(function(b){c.html.HtmlAssetPackLoader._supportedFormats.set_result(a._platform.getRenderer().getCompressedTextureFormats().concat(b).concat(c.html.HtmlAssetPackLoader.detectAudioFormats()).concat([k.AssetFormat.Data]))}));
c.html.HtmlAssetPackLoader._supportedFormats.get(b)},loadEntry:function(b,a){var e=this;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:var d=r.document.createElement("img"),j=new c.EventGroup;j.addDisposingListener(d,"load",function(){c.html.HtmlAssetPackLoader.supportsBlob()&&c.html.HtmlAssetPackLoader._URL.revokeObjectURL(d.src);var b=e._platform.getRenderer().createTextureFromImage(d);null!=b?e.handleLoad(a,b):e.handleTextureError(a)});j.addDisposingListener(d,"error",function(){e.handleError(a,
"Failed to load image")});c.html.HtmlAssetPackLoader.supportsBlob()?this.download(b,a,"blob",function(b){d.src=c.html.HtmlAssetPackLoader._URL.createObjectURL(b)}):d.src=b;break;case 5:case 6:case 7:this.download(b,a,"arraybuffer",function(){var b=e._platform.getRenderer().createCompressedTexture(a.format,null);null!=b?e.handleLoad(a,b):e.handleTextureError(a)});break;case 8:case 9:case 10:case 11:case 12:if(c.html.WebAudioSound.get_supported())this.download(b,a,"arraybuffer",function(b){c.html.WebAudioSound.ctx.decodeAudioData(b,
function(b){e.handleLoad(a,new c.html.WebAudioSound(b))},function(){e.handleLoad(a,c.DummySound.getInstance())})});else{var g=r.document.createElement("audio");g.preload="auto";var f=++c.html.HtmlAssetPackLoader._mediaRefCount;null==c.html.HtmlAssetPackLoader._mediaElements&&(c.html.HtmlAssetPackLoader._mediaElements=new A.IntMap);c.html.HtmlAssetPackLoader._mediaElements.set(f,g);j=new c.EventGroup;j.addDisposingListener(g,"canplaythrough",function(){c.html.HtmlAssetPackLoader._mediaElements.remove(f);
e.handleLoad(a,new c.html.HtmlSound(g))});j.addDisposingListener(g,"error",function(){c.html.HtmlAssetPackLoader._mediaElements.remove(f);var b=g.error.code;3==b||4==b?e.handleLoad(a,c.DummySound.getInstance()):e.handleError(a,"Failed to load audio: "+g.error.code)});j.addListener(g,"progress",function(){if(0<g.buffered.length&&0<g.duration){var b=g.buffered.end(0)/g.duration;e.handleProgress(a,b*a.bytes|0)}});g.src=b;g.load()}break;case 13:this.download(b,a,"text",function(b){e.handleLoad(a,new c.BasicFile(b))})}},
__class__:c.html.HtmlAssetPackLoader});u.ExternalSystem=function(){};u.ExternalSystem.__name__=!0;u.ExternalSystem.prototype={__class__:u.ExternalSystem};c.html.HtmlExternal=function(){};c.html.HtmlExternal.__name__=!0;c.html.HtmlExternal.__interfaces__=[u.ExternalSystem];c.html.HtmlExternal.prototype={call:function(b,a){null==a&&(a=[]);for(var c=r.window,d=c,j=0,g=b.split(".");j<g.length;){var f=g[j];++j;c=d;d=I.field(c,f)}return d.apply(c,a)},__class__:c.html.HtmlExternal};c.html.HtmlMouse=function(b,
a){c.BasicMouse.call(this,b);this._canvas=a};c.html.HtmlMouse.__name__=!0;c.html.HtmlMouse.__super__=c.BasicMouse;c.html.HtmlMouse.prototype=m(c.BasicMouse.prototype,{__class__:c.html.HtmlMouse});c.html.HtmlSound=function(b){c.BasicAsset.call(this);this.audioElement=b};c.html.HtmlSound.__name__=!0;c.html.HtmlSound.__interfaces__=[C.Sound];c.html.HtmlSound.__super__=c.BasicAsset;c.html.HtmlSound.prototype=m(c.BasicAsset.prototype,{onDisposed:function(){this.audioElement=null},loop:function(b){null==
b&&(b=1);return new c.html._HtmlSound.HtmlPlayback(this,b,!0)},play:function(b){null==b&&(b=1);return new c.html._HtmlSound.HtmlPlayback(this,b,!1)},__class__:c.html.HtmlSound});c.html._HtmlSound={};c.html._HtmlSound.HtmlPlayback=function(b,a,c){var d=this;this._sound=b;this._tickableAdded=!1;this._clonedElement=r.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=b.audioElement.src;this.volume=new s.AnimatedFloat(a,function(){d.updateVolume()});this.updateVolume();
this._complete=new l.Value(!1);this.playAudio();o.hidden._value&&this.set_paused(!0)};c.html._HtmlSound.HtmlPlayback.__name__=!0;c.html._HtmlSound.HtmlPlayback.__interfaces__=[c.Tickable,C.Playback];c.html._HtmlSound.HtmlPlayback.prototype={updateVolume:function(){this._clonedElement.volume=o.volume._value*this.volume._value},playAudio:function(){var b=this;this._clonedElement.play();this._tickableAdded||(c.html.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=
o.volume.get_changed().connect(function(){b.updateVolume()}),this._hideBinding=o.hidden.get_changed().connect(function(a){a?(b._wasPaused=b._clonedElement.paused,b.set_paused(!0)):b.set_paused(b._wasPaused)}))},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},update:function(b){this.volume.update(b);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),
!0):!1},get_complete:function(){return this._complete},set_paused:function(b){this._clonedElement.paused!=b&&(b?this._clonedElement.pause():this.playAudio());return b},__class__:c.html._HtmlSound.HtmlPlayback};u.StageSystem=function(){};u.StageSystem.__name__=!0;u.StageSystem.prototype={__class__:u.StageSystem};c.html.HtmlStage=function(b){var a=this;this._canvas=b;this.resize=new l.Signal0;this.scaleFactor=c.html.HtmlStage.computeScaleFactor();1!=this.scaleFactor&&(c.html.HtmlUtil.setVendorStyle(this._canvas,
"transform-origin","top left"),c.html.HtmlUtil.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));c.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&(r.window.addEventListener("orientationchange",function(){c.html.HtmlUtil.callLater(x(a,a.hideMobileBrowser),200)},!1),this.hideMobileBrowser());r.window.addEventListener("resize",x(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new l.Value(null);null!=r.window.orientation&&(r.window.addEventListener("orientationchange",
x(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new l.Value(!1);c.html.HtmlUtil.addVendorListener(r.document,"fullscreenchange",function(){a.updateFullscreen()},!1);this.updateFullscreen()};c.html.HtmlStage.__name__=!0;c.html.HtmlStage.__interfaces__=[u.StageSystem];c.html.HtmlStage.computeScaleFactor=function(){var b=r.window.devicePixelRatio;null==b&&(b=1);var a=r.document.createElement("canvas").getContext("2d"),a=c.html.HtmlUtil.loadExtension("backingStorePixelRatio",
a).value;null==a&&(a=1);b/=a;a=r.window.screen.height;return 1136<b*r.window.screen.width||1136<b*a?1:b};c.html.HtmlStage.prototype={updateFullscreen:function(){this.fullscreen.set__(!0==c.html.HtmlUtil.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],r.document).value)},onOrientationChange:function(){this.orientation.set__(c.html.HtmlUtil.orientation(r.window.orientation))},hideMobileBrowser:function(){var b=this,a=r.document.documentElement.style;a.height=r.window.innerHeight+100+"px";
a.width=r.window.innerWidth+"px";a.overflow="visible";c.html.HtmlUtil.callLater(function(){c.html.HtmlUtil.hideMobileBrowser();c.html.HtmlUtil.callLater(function(){a.height=r.window.innerHeight+"px";b.onWindowResize(null)},100)})},resizeCanvas:function(b,a){var c=this.scaleFactor*b,d=this.scaleFactor*a;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();return!0},onWindowResize:function(){var b=this._canvas.parentElement.getBoundingClientRect();
this.resizeCanvas(b.width,b.height)},get_height:function(){return this._canvas.height},get_width:function(){return this._canvas.width},__class__:c.html.HtmlStage};c.html.HtmlUtil=function(){};c.html.HtmlUtil.__name__=!0;c.html.HtmlUtil.callLater=function(b,a){null==a&&(a=0);r.window.setTimeout(b,a)};c.html.HtmlUtil.hideMobileBrowser=function(){r.window.scrollTo(1,0)};c.html.HtmlUtil.loadExtension=function(b,a){null==a&&(a=r.window);var e=I.field(a,b);if(null!=e)return{prefix:"",field:b,value:e};for(var e=
b.charAt(0).toUpperCase()+w.substr(b,1,null),d=0,j=c.html.HtmlUtil.VENDOR_PREFIXES;d<j.length;){var g=j[d];++d;var f=g+e,i=I.field(a,f);if(null!=i)return{prefix:g,field:f,value:i}}return{prefix:null,field:null,value:null}};c.html.HtmlUtil.loadFirstExtension=function(b,a){for(var e=0;e<b.length;){var d=b[e];++e;d=c.html.HtmlUtil.loadExtension(d,a);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};c.html.HtmlUtil.polyfill=function(b,a){null==a&&(a=r.window);var e=c.html.HtmlUtil.loadExtension(b,
a).value;if(null==e)return!1;a[b]=e;return!0};c.html.HtmlUtil.setVendorStyle=function(b,a,e){for(var b=b.style,d=0,j=c.html.HtmlUtil.VENDOR_PREFIXES;d<j.length;){var g=j[d];++d;b.setProperty("-"+g+"-"+a,e)}b.setProperty(a,e)};c.html.HtmlUtil.addVendorListener=function(b,a,e,d){for(var j=0,g=c.html.HtmlUtil.VENDOR_PREFIXES;j<g.length;){var f=g[j];++j;b.addEventListener(f+a,e,d)}b.addEventListener(a,e,d)};c.html.HtmlUtil.orientation=function(b){switch(b){case -90:case 90:return i.Orientation.Landscape;
default:return i.Orientation.Portrait}};c.html.HtmlUtil.createEmptyCanvas=function(b,a){var c=r.document.createElement("canvas");c.width=b;c.height=a;return c};c.html.HtmlUtil.createCanvas=function(b){var a=c.html.HtmlUtil.createEmptyCanvas(b.width,b.height),e=a.getContext("2d");e.save();e.globalCompositeOperation="copy";e.drawImage(b,0,0);e.restore();return a};c.html.HtmlUtil.detectSlowDriver=function(b){if(0<=r.navigator.platform.indexOf("Win")&&null!=r.window.chrome){for(var a=0,b=b.getSupportedExtensions();a<
b.length;){var c=b[a];++a;if(0<=c.indexOf("WEBGL_compressed_texture"))return!1}return!0}return!1};c.html.HtmlUtil.fixAndroidMath=function(){if(0<=r.navigator.userAgent.indexOf("Linux; U; Android 4")){var b=Math.sin,a=Math.cos;Math.sin=function(a){return 0==a?0:b(a)};Math.cos=function(b){return 0==b?1:a(b)}}};c.html.WebAudioSound=function(b){c.BasicAsset.call(this);this.buffer=b};c.html.WebAudioSound.__name__=!0;c.html.WebAudioSound.__interfaces__=[C.Sound];c.html.WebAudioSound.get_supported=function(){if(c.html.WebAudioSound._detectSupport){c.html.WebAudioSound._detectSupport=
!1;var b=c.html.HtmlUtil.loadExtension("AudioContext").value;null!=b&&(c.html.WebAudioSound.ctx=new b,c.html.WebAudioSound.gain=c.html.WebAudioSound.createGain(),c.html.WebAudioSound.gain.connect(c.html.WebAudioSound.ctx.destination),o.volume.watch(function(b){c.html.WebAudioSound.gain.gain.value=b}))}return null!=c.html.WebAudioSound.ctx};c.html.WebAudioSound.createGain=function(){return null!=c.html.WebAudioSound.ctx.createGain?c.html.WebAudioSound.ctx.createGain():c.html.WebAudioSound.ctx.createGainNode()};
c.html.WebAudioSound.start=function(b,a){null!=b.start?b.start(a):b.noteOn(a)};c.html.WebAudioSound.__super__=c.BasicAsset;c.html.WebAudioSound.prototype=m(c.BasicAsset.prototype,{onDisposed:function(){this.buffer=null},get_duration:function(){return this.buffer.duration},loop:function(b){null==b&&(b=1);return new c.html._WebAudioSound.WebAudioPlayback(this,b,!0)},play:function(b){null==b&&(b=1);return new c.html._WebAudioSound.WebAudioPlayback(this,b,!1)},__class__:c.html.WebAudioSound});c.html._WebAudioSound=
{};c.html._WebAudioSound.WebAudioPlayback=function(b,a,e){var d=this;this._sound=b;this._head=c.html.WebAudioSound.gain;this._complete=new l.Value(!1);this._sourceNode=c.html.WebAudioSound.ctx.createBufferSource();this._sourceNode.buffer=b.buffer;this._sourceNode.loop=e;this._sourceNode.onended=function(){d._complete.set__(!0)};c.html.WebAudioSound.start(this._sourceNode,0);this.playAudio();this.volume=new s.AnimatedFloat(a,function(b){d.setVolume(b)});1!=a&&this.setVolume(a);o.hidden._value&&this.set_paused(!0)};
c.html._WebAudioSound.WebAudioPlayback.__name__=!0;c.html._WebAudioSound.WebAudioPlayback.__interfaces__=[c.Tickable,C.Playback];c.html._WebAudioSound.WebAudioPlayback.prototype={playAudio:function(){var b=this;this._sourceNode.connect(this._head);this._startedAt=c.html.WebAudioSound.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(c.html.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=o.hidden.get_changed().connect(function(a){a?(b._wasPaused=0<=b._pausedAt,
b.set_paused(!0)):b.set_paused(b._wasPaused)}))},insertNode:function(b){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(b));b.connect(this._head);this._head=b},setVolume:function(b){null==this._gainNode&&(this._gainNode=c.html.WebAudioSound.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=b},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},update:function(b){this.volume.update(b);3==this._sourceNode.playbackState&&this._complete.set__(!0);
return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(c.html.WebAudioSound.ctx.currentTime-this._startedAt)%this._sound.get_duration()},get_complete:function(){return this._complete},set_paused:function(b){b!=0<=this._pausedAt&&(b?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return b},__class__:c.html._WebAudioSound.WebAudioPlayback};
c.html.WebGLBatcher=function(b){this._quads=this._maxQuads=this._dataOffset=this._backbufferWidth=this._backbufferHeight=0;this._pendingSetScissor=!1;this._lastBlendMode=this._lastRenderTarget=this._lastShader=this._lastTexture=this._lastScissor=this._currentBlendMode=this._currentShader=this._currentTexture=this._currentRenderTarget=null;this._gl=b;b.clearColor(0,0,0,0);b.enable(3042);b.pixelStorei(37441,1);this._vertexBuffer=b.createBuffer();b.bindBuffer(34962,this._vertexBuffer);this._quadIndexBuffer=
b.createBuffer();b.bindBuffer(34963,this._quadIndexBuffer);this._drawTextureShader=new c.shader.DrawTextureGL(b);this._drawPatternShader=new c.shader.DrawPatternGL(b);this._fillRectShader=new c.shader.FillRectGL(b);this.resize(16)};c.html.WebGLBatcher.__name__=!0;c.html.WebGLBatcher.prototype={bindRenderTarget:function(b){null!=b?(this._gl.bindFramebuffer(36160,b.framebuffer),this._gl.viewport(0,0,b.width,b.height)):(this._gl.bindFramebuffer(36160,null),this._gl.viewport(0,0,this._backbufferWidth,
this._backbufferHeight));this._lastRenderTarget=this._currentRenderTarget=b},resize:function(b){this.flush();if(!(1024<b)){this._maxQuads=b;this.data=new Float32Array(24*b);this._gl.bufferData(34962,4*this.data.length,35040);for(var a=new Uint16Array(6*b),c=0;c<b;){var d=c++;a[6*d]=4*d;a[6*d+1]=4*d+1;a[6*d+2]=4*d+2;a[6*d+3]=4*d+2;a[6*d+4]=4*d+3;a[6*d+5]=4*d}this._gl.bufferData(34963,a,35044)}},flush:function(){if(!(1>this._quads)){this._lastRenderTarget!=this._currentRenderTarget&&this.bindRenderTarget(this._lastRenderTarget);
if(this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode[1]){case 0:this._gl.blendFunc(1,771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(0,770);break;case 3:this._gl.blendFunc(1,0)}this._currentBlendMode=this._lastBlendMode}this._pendingSetScissor&&(null!=this._lastScissor?(this._gl.enable(3089),this._gl.scissor(this._lastScissor.x|0,this._lastScissor.y|0,this._lastScissor.width|0,this._lastScissor.height|0)):this._gl.disable(3089),this._pendingSetScissor=
!1);this._lastTexture!=this._currentTexture&&(this._gl.bindTexture(3553,this._lastTexture.root.nativeTexture),this._currentTexture=this._lastTexture);this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader);if(this._lastShader==this._drawPatternShader){var b=this._lastTexture,a=b.root;this._drawPatternShader.setRegion(b.rootX/a.width,b.rootY/a.height,b._width/a.width,b._height/a.height)}this._gl.bufferData(34962,this.data.subarray(0,
this._dataOffset),35040);this._gl.drawElements(4,6*this._quads,5123,0);this._dataOffset=this._quads=0}},prepareQuad:function(b,a,c,d,j){a!=this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=a);c!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=c);j!=this._lastShader&&(this.flush(),this._lastShader=j);if(null!=d||null!=this._lastScissor)if(null==d||null==this._lastScissor||!this._lastScissor.equals(d))this.flush(),this._lastScissor=null!=d?d.clone(this._lastScissor):null,this._pendingSetScissor=
!0;this._quads>=this._maxQuads&&this.resize(2*this._maxQuads);++this._quads;a=this._dataOffset;this._dataOffset+=4*b;return a},prepareDrawTexture:function(b,a,c,d){d!=this._lastTexture&&(this.flush(),this._lastTexture=d);return this.prepareQuad(5,b,a,c,this._drawTextureShader)},deleteFramebuffer:function(b){b==this._lastRenderTarget&&(this.flush(),this._currentRenderTarget=this._lastRenderTarget=null);this._gl.deleteFramebuffer(b.framebuffer)},deleteTexture:function(b){null!=this._lastTexture&&this._lastTexture.root==
b&&(this.flush(),this._currentTexture=this._lastTexture=null);this._gl.deleteTexture(b.nativeTexture)},bindTexture:function(b){this.flush();this._currentTexture=this._lastTexture=null;this._gl.bindTexture(3553,b)},didRender:function(){this.flush()},willRender:function(){},resizeBackbuffer:function(b,a){this._gl.viewport(0,0,b,a);this._backbufferWidth=b;this._backbufferHeight=a},__class__:c.html.WebGLBatcher};c.html.WebGLGraphics=function(b,a){this._inverseProjection=this._stateList=null;null==c.html.WebGLGraphics._scratchQuadArray&&
(c.html.WebGLGraphics._scratchQuadArray=new Float32Array(8));this._batcher=b;this._renderTarget=a};c.html.WebGLGraphics.__name__=!0;c.html.WebGLGraphics.__interfaces__=[c.InternalGraphics];c.html.WebGLGraphics.prototype={transformQuad:function(b,a,e,d){var e=b+e,d=a+d,j=c.html.WebGLGraphics._scratchQuadArray;j[0]=b;j[1]=a;j[2]=e;j[3]=a;j[4]=e;j[5]=d;j[6]=b;j[7]=d;this._stateList.matrix.transformArray(j,8,j);return j},onResize:function(b,a){this._stateList=new c.html._WebGLGraphics.DrawingState;var e=
null!=this._renderTarget?-1:1;this._stateList.matrix.set(2/b,0,0,-2*e/a,-1,e);this._inverseProjection=new y.Matrix;this._inverseProjection.set(2/b,0,0,2/a,-1,-1);this._inverseProjection.invert()},didRender:function(){this._batcher.didRender()},willRender:function(){this._batcher.willRender()},applyScissor:function(b,a,e,d){var j=this._stateList,g=c.html.WebGLGraphics._scratchQuadArray;g[0]=b;g[1]=a;g[2]=b+e;g[3]=a+d;j.matrix.transformArray(g,4,g);this._inverseProjection.transformArray(g,4,g);b=g[0];
a=g[1];e=g[2]-b;d=g[3]-a;0>e&&(b+=e,e=-e);0>d&&(a+=d,d=-d);j.applyScissor(b,a,e,d)},setBlendMode:function(b){this._stateList.blendMode=b},multiplyAlpha:function(b){this._stateList.alpha*=b},drawSubTexture:function(b,a,c,d,j,g,f){var i=this._stateList,k=b.root,a=this.transformQuad(a,c,g,f),c=k.width,k=k.height,d=(b.rootX+d)/c,j=(b.rootY+j)/k,g=d+g/c,f=j+f/k,c=i.alpha,b=this._batcher.prepareDrawTexture(this._renderTarget,i.blendMode,i.scissor,b),i=this._batcher.data;i[b]=a[0];i[++b]=a[1];i[++b]=d;i[++b]=
j;i[++b]=c;i[++b]=a[2];i[++b]=a[3];i[++b]=g;i[++b]=j;i[++b]=c;i[++b]=a[4];i[++b]=a[5];i[++b]=g;i[++b]=f;i[++b]=c;i[++b]=a[6];i[++b]=a[7];i[++b]=d;i[++b]=f;i[++b]=c},drawTexture:function(b,a,c){this.drawSubTexture(b,a,c,0,0,b.get_width(),b.get_height())},restore:function(){this._stateList=this._stateList.prev},transform:function(b,a,e,d,j,g){var f=this._stateList;c.html.WebGLGraphics._scratchMatrix.set(b,a,e,d,j,g);y.Matrix.multiply(f.matrix,c.html.WebGLGraphics._scratchMatrix,f.matrix)},save:function(){var b=
this._stateList,a=this._stateList.next;null==a&&(a=new c.html._WebGLGraphics.DrawingState,a.prev=b,b.next=a);b.matrix.clone(a.matrix);a.alpha=b.alpha;a.blendMode=b.blendMode;a.scissor=null!=b.scissor?b.scissor.clone(a.scissor):null;this._stateList=a},__class__:c.html.WebGLGraphics};c.html._WebGLGraphics={};c.html._WebGLGraphics.DrawingState=function(){this.scissor=this.prev=this.next=null;this.matrix=new y.Matrix;this.alpha=1;this.blendMode=i.BlendMode.Normal};c.html._WebGLGraphics.DrawingState.__name__=
!0;c.html._WebGLGraphics.DrawingState.prototype={applyScissor:function(b,a,c,d){if(null!=this.scissor)var j=y.FMath.max(this.scissor.x,b),g=y.FMath.max(this.scissor.y,a),c=y.FMath.min(this.scissor.x+this.scissor.width,b+c),d=y.FMath.min(this.scissor.y+this.scissor.height,a+d),b=j,a=g,c=c-j,d=d-g;else this.scissor=new y.Rectangle;this.scissor.set(Math.round(b),Math.round(a),Math.round(c),Math.round(d))},__class__:c.html._WebGLGraphics.DrawingState};c.html.WebGLRenderer=function(b,a){var c=this;this._hasGPU=
new l.Value(!0);this.gl=a;a.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();c._hasGPU.set__(!1)},!1);a.canvas.addEventListener("webglcontextrestore",function(){c.init();c._hasGPU.set__(!0)},!1);b.resize.connect(x(this,this.onResize));this.init()};c.html.WebGLRenderer.__name__=!0;c.html.WebGLRenderer.__interfaces__=[c.InternalRenderer];c.html.WebGLRenderer.prototype={init:function(){this.batcher=new c.html.WebGLBatcher(this.gl);this.graphics=new c.html.WebGLGraphics(this.batcher,
null);this.onResize()},onResize:function(){var b=this.gl.canvas.width,a=this.gl.canvas.height;this.batcher.resizeBackbuffer(b,a);this.graphics.onResize(b,a)},didRender:function(){this.graphics.didRender()},willRender:function(){this.graphics.willRender()},createCompressedTexture:function(){this.gl.isContextLost();return null},getCompressedTextureFormats:function(){return[]},createTextureFromImage:function(b){if(this.gl.isContextLost())return null;var a=new c.html.WebGLTextureRoot(this,b.width,b.height);
a.uploadImageData(b);return a.createTexture(b.width,b.height)},__class__:c.html.WebGLRenderer};c.html.WebGLTexture=function(b,a,e){c.BasicTexture.call(this,b,a,e)};c.html.WebGLTexture.__name__=!0;c.html.WebGLTexture.__super__=c.BasicTexture;c.html.WebGLTexture.prototype=m(c.BasicTexture.prototype,{__class__:c.html.WebGLTexture});c.html.WebGLTextureRoot=function(b,a,e){this.framebuffer=this._graphics=null;c.BasicAsset.call(this);this._renderer=b;this.width=y.FMath.max(2,c.MathUtil.nextPowerOfTwo(a));
this.height=y.FMath.max(2,c.MathUtil.nextPowerOfTwo(e));a=b.gl;this.nativeTexture=a.createTexture();b.batcher.bindTexture(this.nativeTexture);a.texParameteri(3553,10242,33071);a.texParameteri(3553,10243,33071);a.texParameteri(3553,10240,9729);a.texParameteri(3553,10241,9728)};c.html.WebGLTextureRoot.__name__=!0;c.html.WebGLTextureRoot.__interfaces__=[c.TextureRoot];c.html.WebGLTextureRoot.drawBorder=function(b,a,c){var d=b.getContext("2d");d.drawImage(b,a-1,0,1,c,a,0,1,c);d.drawImage(b,0,c-1,a,1,
0,c,a,1)};c.html.WebGLTextureRoot.__super__=c.BasicAsset;c.html.WebGLTextureRoot.prototype=m(c.BasicAsset.prototype,{onDisposed:function(){var b=this._renderer.batcher;b.deleteTexture(this);null!=this.framebuffer&&b.deleteFramebuffer(this);this._graphics=this.framebuffer=this.nativeTexture=null},uploadImageData:function(b){if(this.width!=b.width||this.height!=b.height){var a=c.html.HtmlUtil.createEmptyCanvas(this.width,this.height);a.getContext("2d").drawImage(b,0,0);c.html.WebGLTextureRoot.drawBorder(a,
b.width,b.height);b=a}this._renderer.batcher.bindTexture(this.nativeTexture);this._renderer.gl.texImage2D(3553,0,6408,6408,5121,b)},createTexture:function(b,a){return new c.html.WebGLTexture(this,b,a)},__class__:c.html.WebGLTextureRoot});c.shader={};c.shader.ShaderGL=function(b,a,e){e="#ifdef GL_ES\nprecision mediump float;\n#endif\n"+e;this._gl=b;this._program=b.createProgram();b.attachShader(this._program,c.shader.ShaderGL.createShader(b,35633,a));b.attachShader(this._program,c.shader.ShaderGL.createShader(b,
35632,e));b.linkProgram(this._program);b.useProgram(this._program)};c.shader.ShaderGL.__name__=!0;c.shader.ShaderGL.createShader=function(b,a,c){a=b.createShader(a);b.shaderSource(a,c);b.compileShader(a);return a};c.shader.ShaderGL.prototype={getUniformLocation:function(b){return this._gl.getUniformLocation(this._program,b)},getAttribLocation:function(b){return this._gl.getAttribLocation(this._program,b)},prepare:function(){null},useProgram:function(){this._gl.useProgram(this._program)},__class__:c.shader.ShaderGL};
c.shader.DrawPatternGL=function(b){c.shader.ShaderGL.call(this,b,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}","varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, u_region.xy + mod(v_uv, u_region.zw)) * v_alpha;\n}");
this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.u_region=this.getUniformLocation("u_region");this.setTexture(0)};c.shader.DrawPatternGL.__name__=!0;c.shader.DrawPatternGL.__super__=c.shader.ShaderGL;c.shader.DrawPatternGL.prototype=m(c.shader.ShaderGL.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);
this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},setRegion:function(b,a,c,d){this._gl.uniform4f(this.u_region,b,a,c,d)},setTexture:function(b){this._gl.uniform1i(this.u_texture,b)},__class__:c.shader.DrawPatternGL});c.shader.DrawTextureGL=function(b){c.shader.ShaderGL.call(this,b,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, v_uv) * v_alpha;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.setTexture(0)};c.shader.DrawTextureGL.__name__=!0;c.shader.DrawTextureGL.__super__=c.shader.ShaderGL;c.shader.DrawTextureGL.prototype=m(c.shader.ShaderGL.prototype,
{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},setTexture:function(b){this._gl.uniform1i(this.u_texture,b)},__class__:c.shader.DrawTextureGL});c.shader.FillRectGL=function(b){c.shader.ShaderGL.call(this,b,"attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_rgb=this.getAttribLocation("a_rgb");this.a_alpha=this.getAttribLocation("a_alpha")};c.shader.FillRectGL.__name__=!0;c.shader.FillRectGL.__super__=c.shader.ShaderGL;c.shader.FillRectGL.prototype=m(c.shader.ShaderGL.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_rgb);this._gl.enableVertexAttribArray(this.a_alpha);
this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,24,0);this._gl.vertexAttribPointer(this.a_rgb,3,5126,!1,24,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,24,20)},__class__:c.shader.FillRectGL});u={Director:function(){this._transitor=null}};u.Director.__name__=!0;u.Director.__super__=B;u.Director.prototype=m(B.prototype,{completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},invalidateVisibility:function(){for(var b=
this.scenes.length;0<b;){var a=this.scenes[--b],a=a._compMap.Scene_4;if(null==a||a.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(b,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},show:function(b){b=b._compMap.Scene_4;null!=b&&b.shown.emit()},get_topScene:function(){var b=this.scenes.length;return 0<b?this.scenes[b-1]:null},onUpdate:function(b){null!=this._transitor&&this._transitor.update(b)&&this.completeTransition()},onRemoved:function(){this.completeTransition();
for(var b=0,a=this.scenes;b<a.length;){var c=a[b];++b;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onAdded:function(){this.owner.addChild(this._root)},get_name:function(){return"Director_3"},__class__:u.Director});u._Director={};u._Director.Transitor=function(){};u._Director.Transitor.__name__=!0;u._Director.Transitor.prototype={complete:function(){this._transition.complete();this._onComplete()},update:function(b){return this._transition.update(b)},__class__:u._Director.Transitor};
u.Scene=function(){};u.Scene.__name__=!0;u.Scene.__super__=B;u.Scene.prototype=m(B.prototype,{get_name:function(){return"Scene_4"},__class__:u.Scene});u.Transition=function(){};u.Transition.__name__=!0;u.Transition.prototype={complete:function(){},update:function(){return!0},__class__:u.Transition};q={Action:function(){}};q.Action.__name__=!0;q.Action.prototype={__class__:q.Action};q.CallFunction=function(b){this._fn=b};q.CallFunction.__name__=!0;q.CallFunction.__interfaces__=[q.Action];q.CallFunction.prototype=
{update:function(){this._fn();return 0},__class__:q.CallFunction};q.Delay=function(b){this._duration=b;this._elapsed=0};q.Delay.__name__=!0;q.Delay.__interfaces__=[q.Action];q.Delay.prototype={update:function(b){this._elapsed+=b;if(this._elapsed>=this._duration){var a=this._elapsed-this._duration;this._elapsed=0;return b-a}return-1},__class__:q.Delay};q.Script=function(){this.stopAll()};q.Script.__name__=!0;q.Script.__super__=B;q.Script.prototype=m(B.prototype,{onUpdate:function(b){for(var a=0;a<
this._handles.length;){var c=this._handles[a];c.removed||0<=c.action.update(b,this.owner)?this._handles.splice(a,1):++a}},stopAll:function(){this._handles=[]},run:function(b){b=new q._Script.Handle(b);this._handles.push(b);return b},get_name:function(){return"Script_2"},__class__:q.Script});q._Script={};q._Script.Handle=function(b){this.removed=!1;this.action=b};q._Script.Handle.__name__=!0;q._Script.Handle.__interfaces__=[l.Disposable];q._Script.Handle.prototype={dispose:function(){this.removed=
!0;this.action=null},__class__:q._Script.Handle};q.Sequence=function(b){this._idx=0;this._runningActions=null!=b?b.slice():[]};q.Sequence.__name__=!0;q.Sequence.__interfaces__=[q.Action];q.Sequence.prototype={update:function(b,a){for(var c=0;;){var d=this._runningActions[this._idx];if(null!=d)if(d=d.update(b-c,a),0<=d)c+=d;else return-1;++this._idx;if(this._idx>=this._runningActions.length){this._idx=0;break}else if(c>b)return-1}return c},__class__:q.Sequence};l.BitSets=function(){};l.BitSets.__name__=
!0;l.BitSets.set=function(b,a,c){return c?b|a:b&~a};l.Promise=function(){this.success=new l.Signal1;this.error=new l.Signal1;this.progressChanged=new l.Signal0;this.hasResult=!1;this._total=this._progress=0};l.Promise.__name__=!0;l.Promise.prototype={set_total:function(b){this._total!=b&&(this._total=b,this.progressChanged.emit());return b},set_progress:function(b){this._progress!=b&&(this._progress=b,this.progressChanged.emit());return b},get:function(b){return this.hasResult?(b(this._result),null):
this.success.connect(b).once()},set_result:function(b){if(this.hasResult)throw"Promise result already assigned";this._result=b;this.hasResult=!0;this.success.emit(b);return b},__class__:l.Promise};l.Signal0=function(b){l.SignalBase.call(this,b)};l.Signal0.__name__=!0;l.Signal0.__super__=l.SignalBase;l.Signal0.prototype=m(l.SignalBase.prototype,{emitImpl:function(){for(var b=this.willEmit(),a=b;null!=a;)a._listener(),a.stayInList||a.dispose(),a=a._next;this.didEmit(b)},emit:function(){var b=this;this._head==
l.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl()}):this.emitImpl()},connect:function(b,a){null==a&&(a=!1);return this.connectImpl(b,a)},__class__:l.Signal0});l._SignalBase={};l._SignalBase.Task=function(b){this.next=null;this.fn=b};l._SignalBase.Task.__name__=!0;l._SignalBase.Task.prototype={__class__:l._SignalBase.Task};l.Strings=function(){};l.Strings.__name__=!0;l.Strings.getFileExtension=function(b){var a=b.lastIndexOf(".");return 0<a?w.substr(b,a+1,null):null};l.Strings.removeFileExtension=
function(b){var a=b.lastIndexOf(".");return 0<a?w.substr(b,0,a):b};l.Strings.getUrlExtension=function(b){var a=b.lastIndexOf("?");0<=a&&(b=w.substr(b,0,a));a=b.lastIndexOf("/");0<=a&&(b=w.substr(b,a+1,null));return l.Strings.getFileExtension(b)};l.Strings.joinPath=function(b,a){0<b.length&&47!=b.charCodeAt(b.length-1)&&(b+="/");return b+a};l.Strings.withFields=function(b,a){var c=a.length;if(0<c){for(var b=b+(0<b.length?" [":"["),d=0;d<c;){0<d&&(b+=", ");var j=a[d],g=a[d+1];if(D.__instanceof(g,Error)){var f=
g.stack;null!=f&&(g=f)}b+=j+"="+E.string(g);d+=2}b+="]"}return b};v=void 0;A=void 0;G=void 0;K=void 0;B=void 0;G={Md5:function(){}};G.Md5.__name__=!0;G.Md5.encode=function(b){var a=new G.Md5,b=a.doEncode(G.Md5.str2blks(b));return a.hex(b)};G.Md5.str2blks=function(b){for(var a=(b.length+8>>6)+1,c=[],d=16*a,j=0;j<d;){var g=j++;c[g]=0}for(g=0;g<b.length;)c[g>>2]|=w.cca(b,g)<<8*((8*b.length+g)%4),g++;c[g>>2]|=128<<8*((8*b.length+g)%4);b=8*b.length;a=16*a-2;c[a]=b&255;c[a]|=(b>>>8&255)<<8;c[a]|=(b>>>16&
255)<<16;c[a]|=(b>>>24&255)<<24;return c};G.Md5.prototype={doEncode:function(b){for(var a=1732584193,c=-271733879,d=-1732584194,j=271733878,g=0;g<b.length;)var f=a,i=c,k=d,l=j,a=this.ff(a,c,d,j,b[g],7,-680876936),j=this.ff(j,a,c,d,b[g+1],12,-389564586),d=this.ff(d,j,a,c,b[g+2],17,606105819),c=this.ff(c,d,j,a,b[g+3],22,-1044525330),a=this.ff(a,c,d,j,b[g+4],7,-176418897),j=this.ff(j,a,c,d,b[g+5],12,1200080426),d=this.ff(d,j,a,c,b[g+6],17,-1473231341),c=this.ff(c,d,j,a,b[g+7],22,-45705983),a=this.ff(a,
c,d,j,b[g+8],7,1770035416),j=this.ff(j,a,c,d,b[g+9],12,-1958414417),d=this.ff(d,j,a,c,b[g+10],17,-42063),c=this.ff(c,d,j,a,b[g+11],22,-1990404162),a=this.ff(a,c,d,j,b[g+12],7,1804603682),j=this.ff(j,a,c,d,b[g+13],12,-40341101),d=this.ff(d,j,a,c,b[g+14],17,-1502002290),c=this.ff(c,d,j,a,b[g+15],22,1236535329),a=this.gg(a,c,d,j,b[g+1],5,-165796510),j=this.gg(j,a,c,d,b[g+6],9,-1069501632),d=this.gg(d,j,a,c,b[g+11],14,643717713),c=this.gg(c,d,j,a,b[g],20,-373897302),a=this.gg(a,c,d,j,b[g+5],5,-701558691),
j=this.gg(j,a,c,d,b[g+10],9,38016083),d=this.gg(d,j,a,c,b[g+15],14,-660478335),c=this.gg(c,d,j,a,b[g+4],20,-405537848),a=this.gg(a,c,d,j,b[g+9],5,568446438),j=this.gg(j,a,c,d,b[g+14],9,-1019803690),d=this.gg(d,j,a,c,b[g+3],14,-187363961),c=this.gg(c,d,j,a,b[g+8],20,1163531501),a=this.gg(a,c,d,j,b[g+13],5,-1444681467),j=this.gg(j,a,c,d,b[g+2],9,-51403784),d=this.gg(d,j,a,c,b[g+7],14,1735328473),c=this.gg(c,d,j,a,b[g+12],20,-1926607734),a=this.hh(a,c,d,j,b[g+5],4,-378558),j=this.hh(j,a,c,d,b[g+8],11,
-2022574463),d=this.hh(d,j,a,c,b[g+11],16,1839030562),c=this.hh(c,d,j,a,b[g+14],23,-35309556),a=this.hh(a,c,d,j,b[g+1],4,-1530992060),j=this.hh(j,a,c,d,b[g+4],11,1272893353),d=this.hh(d,j,a,c,b[g+7],16,-155497632),c=this.hh(c,d,j,a,b[g+10],23,-1094730640),a=this.hh(a,c,d,j,b[g+13],4,681279174),j=this.hh(j,a,c,d,b[g],11,-358537222),d=this.hh(d,j,a,c,b[g+3],16,-722521979),c=this.hh(c,d,j,a,b[g+6],23,76029189),a=this.hh(a,c,d,j,b[g+9],4,-640364487),j=this.hh(j,a,c,d,b[g+12],11,-421815835),d=this.hh(d,
j,a,c,b[g+15],16,530742520),c=this.hh(c,d,j,a,b[g+2],23,-995338651),a=this.ii(a,c,d,j,b[g],6,-198630844),j=this.ii(j,a,c,d,b[g+7],10,1126891415),d=this.ii(d,j,a,c,b[g+14],15,-1416354905),c=this.ii(c,d,j,a,b[g+5],21,-57434055),a=this.ii(a,c,d,j,b[g+12],6,1700485571),j=this.ii(j,a,c,d,b[g+3],10,-1894986606),d=this.ii(d,j,a,c,b[g+10],15,-1051523),c=this.ii(c,d,j,a,b[g+1],21,-2054922799),a=this.ii(a,c,d,j,b[g+8],6,1873313359),j=this.ii(j,a,c,d,b[g+15],10,-30611744),d=this.ii(d,j,a,c,b[g+6],15,-1560198380),
c=this.ii(c,d,j,a,b[g+13],21,1309151649),a=this.ii(a,c,d,j,b[g+4],6,-145523070),j=this.ii(j,a,c,d,b[g+11],10,-1120210379),d=this.ii(d,j,a,c,b[g+2],15,718787259),c=this.ii(c,d,j,a,b[g+9],21,-343485551),a=this.addme(a,f),c=this.addme(c,i),d=this.addme(d,k),j=this.addme(j,l),g=g+16;return[a,c,d,j]},ii:function(b,a,c,d,j,g,f){return this.cmn(this.bitXOR(c,this.bitOR(a,~d)),b,a,j,g,f)},hh:function(b,a,c,d,f,g,i){return this.cmn(this.bitXOR(this.bitXOR(a,c),d),b,a,f,g,i)},gg:function(b,a,c,d,f,g,i){return this.cmn(this.bitOR(this.bitAND(a,
d),this.bitAND(c,~d)),b,a,f,g,i)},ff:function(b,a,c,d,f,g,i){return this.cmn(this.bitOR(this.bitAND(a,c),this.bitAND(~a,d)),b,a,f,g,i)},cmn:function(b,a,c,d,f,g){return this.addme(this.rol(this.addme(this.addme(a,b),this.addme(d,g)),f),c)},rol:function(b,a){return b<<a|b>>>32-a},hex:function(b){for(var a="",c=0;c<b.length;){var d=b[c];++c;for(var f=0;4>f;)var g=f++,a=a+("0123456789abcdef".charAt(d>>8*g+4&15)+"0123456789abcdef".charAt(d>>8*g&15))}return a},addme:function(b,a){var c=(b&65535)+(a&65535);
return(b>>16)+(a>>16)+(c>>16)<<16|c&65535},bitAND:function(b,a){return(b>>>1&a>>>1)<<1|b&1&a&1},bitXOR:function(a,c){return(a>>>1^c>>>1)<<1|a&1^c&1},bitOR:function(a,c){return(a>>>1|c>>>1)<<1|a&1|c&1},__class__:G.Md5};A={IntMap:function(){this.h={}}};A.IntMap.__name__=!0;A.IntMap.__interfaces__=[O];A.IntMap.prototype={remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},set:function(a,
c){this.h[a]=c},__class__:A.IntMap};A.StringMap=function(){this.h={}};A.StringMap.__name__=!0;A.StringMap.__interfaces__=[O];A.StringMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var a=[],c;for(c in this.h)this.h.hasOwnProperty(c)&&a.push(c.substr(1));return w.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},
set:function(a,c){this.h["$"+a]=c},__class__:A.StringMap};B={Bytes:function(){}};B.Bytes.__name__=!0;K={Meta:function(){}};K.Meta.__name__=!0;K.Meta.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};v={_Fast:{}};v._Fast.NodeAccess=function(a){this.__x=a};v._Fast.NodeAccess.__name__=!0;v._Fast.NodeAccess.prototype={resolve:function(a){var c=this.__x.elementsNamed(a).next();if(null==c)throw(this.__x.nodeType==p.Document?"Document":this.__x.get_nodeName())+" is missing element "+
a;return new v.Fast(c)},__class__:v._Fast.NodeAccess};v._Fast.AttribAccess=function(a){this.__x=a};v._Fast.AttribAccess.__name__=!0;v._Fast.AttribAccess.prototype={__class__:v._Fast.AttribAccess};v._Fast.HasAttribAccess=function(a){this.__x=a};v._Fast.HasAttribAccess.__name__=!0;v._Fast.HasAttribAccess.prototype={__class__:v._Fast.HasAttribAccess};v._Fast.HasNodeAccess=function(a){this.__x=a};v._Fast.HasNodeAccess.__name__=!0;v._Fast.HasNodeAccess.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},
__class__:v._Fast.HasNodeAccess};v._Fast.NodeListAccess=function(a){this.__x=a};v._Fast.NodeListAccess.__name__=!0;v._Fast.NodeListAccess.prototype={__class__:v._Fast.NodeListAccess};v.Fast=function(a){if(a.nodeType!=p.Document&&a.nodeType!=p.Element)throw"Invalid nodeType "+E.string(a.nodeType);this.x=a;this.node=new v._Fast.NodeAccess(a);this.nodes=new v._Fast.NodeListAccess(a);this.att=new v._Fast.AttribAccess(a);this.has=new v._Fast.HasAttribAccess(a);this.hasNode=new v._Fast.HasNodeAccess(a)};
v.Fast.__name__=!0;v.Fast.prototype={get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var c=a.next(),e=a.next();if(null!=e){if(c.nodeType==p.PCData&&e.nodeType==p.CData&&""==F.trim(c.get_nodeValue())&&(c=a.next(),null==c||c.nodeType==p.PCData&&""==F.trim(c.get_nodeValue())&&null==a.next()))return e.get_nodeValue();throw this.get_name()+" does not only have data";}if(c.nodeType!=p.PCData&&c.nodeType!=p.CData)throw this.get_name()+" does not have data";
return c.get_nodeValue()},get_name:function(){return this.x.nodeType==p.Document?"Document":this.x.get_nodeName()},__class__:v.Fast};v.Parser=function(){};v.Parser.__name__=!0;v.Parser.parse=function(a){var c=p.createDocument();v.Parser.doParse(a,0,c);return c};v.Parser.doParse=function(a,c,e){null==c&&(c=0);for(var d=null,f=1,g=1,i=null,k=0,l=0,n=0,m=a.charCodeAt(c),o=new M;m==m;){switch(f){case 0:switch(m){case 10:case 13:case 9:case 32:break;default:f=g;continue}break;case 1:switch(m){case 60:f=
0;g=2;break;default:k=c;f=13;continue}break;case 13:60==m?(f=p.createPCData(o.b+w.substr(a,k,c-k)),o=new M,e.addChild(f),l++,f=0,g=2):38==m&&(o.addSub(a,k,c-k),f=18,g=13,k=c+1);break;case 17:93==m&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(f=p.createCData(w.substr(a,k,c-k)),e.addChild(f),l++,c+=2,f=1);break;case 2:switch(m){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=w.substr(a,c,6).toUpperCase())throw"Expected <![CDATA[";c+=5;f=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=
w.substr(a,c+2,6).toUpperCase())throw"Expected <!DOCTYPE";c+=8;f=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw"Expected <\!--";c+=2;f=15}k=c+1;break;case 63:f=14;k=c;break;case 47:if(null==e)throw"Expected node name";k=c+1;f=0;g=10;break;default:f=3;k=c;continue}break;case 3:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(c==k)throw"Expected node name";d=p.createElement(w.substr(a,k,c-k));e.addChild(d);f=0;g=4;continue}break;case 4:switch(m){case 47:f=
11;l++;break;case 62:f=9;l++;break;default:f=5;k=c;continue}break;case 5:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(k==c)throw"Expected attribute name";i=w.substr(a,k,c-k);if(d.exists(i))throw"Duplicate attribute";f=0;g=6;continue}break;case 6:switch(m){case 61:f=0;g=7;break;default:throw"Expected =";}break;case 7:switch(m){case 34:case 39:f=8;k=c;break;default:throw'Expected "';}break;case 8:m==a.charCodeAt(k)&&(g=w.substr(a,k+1,c-k-1),d.set(i,g),f=0,g=4);break;
case 9:k=c=v.Parser.doParse(a,c,d);f=1;break;case 11:switch(m){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(m){case 62:return 0==l&&e.addChild(p.createPCData("")),c;default:throw"Expected >";}case 10:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(k==c)throw"Expected node name";if(w.substr(a,k,c-k)!=e.get_nodeName())throw"Expected </"+e.get_nodeName()+">";f=0;g=12;continue}break;case 15:45==m&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(e.addChild(p.createComment(w.substr(a,
k,c-k))),c+=2,f=1);break;case 16:91==m?n++:93==m?n--:62==m&&0==n&&(e.addChild(p.createDocType(w.substr(a,k,c-k))),f=1);break;case 14:63==m&&62==a.charCodeAt(c+1)&&(c++,f=w.substr(a,k+1,c-k-2),e.addChild(p.createProcessingInstruction(f)),f=1);break;case 18:59==m&&(k=w.substr(a,k,c-k),35==k.charCodeAt(0)?(k=120==k.charCodeAt(1)?E.parseInt("0"+w.substr(k,1,k.length-1)):E.parseInt(w.substr(k,1,k.length-1)),o.b+=E.string(String.fromCharCode(k))):o.b=v.Parser.escapes.exists(k)?o.b+E.string(v.Parser.escapes.get(k)):
o.b+E.string("&"+k+";"),k=c+1,f=g)}m=a.charCodeAt(++c)}1==f&&(k=c,f=13);if(13==f)return(c!=k||0==l)&&e.addChild(p.createPCData(o.b+w.substr(a,k,c-k))),c;throw"Unexpected end";};D=function(){};D.__name__=!0;D.__string_rec=function(a,c){if(null==a)return"null";if(5<=c.length)return"<...>";var e=typeof a;if("function"==e&&(a.__name__||a.__ename__))e="object";switch(e){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var e=a[0]+"(",c=c+"\t",d=2,f=a.length;d<f;)var g=
d++,e=2!=g?e+(","+D.__string_rec(a[g],c)):e+D.__string_rec(a[g],c);return e+")"}d=a.length;e="[";c+="\t";for(f=0;f<d;)g=f++,e+=(0<g?",":"")+D.__string_rec(a[g],c);return e+"]"}try{f=a.toString}catch(i){return"???"}if(null!=f&&f!=Object.toString&&(e=a.toString(),"[object Object]"!=e))return e;f=null;e="{\n";c+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||"__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f||(2!=e.length&&(e+=", \n"),e+=c+f+
" : "+D.__string_rec(a[f],c));c=c.substring(1);return e+("\n"+c+"}");case "function":return"<function>";case "string":return a;default:return""+a}};D.__interfLoop=function(a,c){if(null==a)return!1;if(a==c)return!0;var e=a.__interfaces__;if(null!=e)for(var d=0,f=e.length;d<f;){var g=d++,g=e[g];if(g==c||D.__interfLoop(g,c))return!0}return D.__interfLoop(a.__super__,c)};D.__instanceof=function(a,c){if(null==c)return!1;switch(c){case S:return(a|0)===a;case P:return"number"==typeof a;case Q:return"boolean"==
typeof a;case String:return"string"==typeof a;case T:return!0;default:if(null!=a){if("function"==typeof c){if(a instanceof c)return c==Array?null==a.__enum__:!0;if(D.__interfLoop(a.__class__,c))return!0}}else return!1;return c==U&&null!=a.__name__||c==V&&null!=a.__ename__?!0:a.__enum__==c}};J={_CanvasElement:{}};J._CanvasElement.CanvasUtil=function(){};J._CanvasElement.CanvasUtil.__name__=!0;J._CanvasElement.CanvasUtil.getContextWebGL=function(a,c){for(var e=0,d=["webgl","experimental-webgl"];e<d.length;){var f=
d[e];++e;f=a.getContext(f,c);if(null!=f)return f}return null};var R=0;Array.prototype.indexOf&&(w.remove=function(a,c){var e=a.indexOf(c);if(-1==e)return!1;a.splice(e,1);return!0});Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=String;String.__name__=!0;Array.prototype.__class__=Array;Array.__name__=
!0;Date.prototype.__class__=Date;Date.__name__=["Date"];var S={__name__:["Int"]},T={__name__:["Dynamic"]},P=Number;P.__name__=["Float"];var Q=Boolean;Q.__ename__=["Bool"];var U={__name__:["Class"]},V={};p.Element="element";p.PCData="pcdata";p.CData="cdata";p.Comment="comment";p.DocType="doctype";p.ProcessingInstruction="processingInstruction";p.Document="document";i.Sprite._scratchPoint=new y.Point;c.html.HtmlPlatform.instance=new c.html.HtmlPlatform;l.SignalBase.DISPATCHING_SENTINEL=new l.SignalConnection(null,
null);o.root=new n;o.uncaughtError=new l.Signal1;o.hidden=new l.Value(!1);o.volume=new s.AnimatedFloat(1);o._platform=c.html.HtmlPlatform.instance;o._calledInit=!1;r.window="undefined"!=typeof window?window:null;r.document="undefined"!=typeof window?window.document:null;r.navigator="undefined"!=typeof window?window.navigator:null;k.Manifest.__meta__={obj:{assets:[{bootstrap:[{bytes:7406,md5:"94fc82d59d9656d66b5618b0569b99b9",name:"bar_bg.png"},{bytes:1111,md5:"143d39245b7ddd02aa436a22c087e089",name:"bar_fill.png"},
{bytes:227762,md5:"23b6177568d37ca878b9e1c03370421d",name:"menu_bg.jpg"}],main:[{bytes:12446,md5:"46939290cef65ab03de353aee1f7fd15",name:"buttons/cancelbutton_down.png"},{bytes:12215,md5:"56d112990564cad82e7c0bfe16924b26",name:"buttons/cancelbutton_over.png"},{bytes:12053,md5:"23fa54ec0b204201ad6f40298163c801",name:"buttons/cancelbutton_up.png"},{bytes:7723,md5:"9120ba0149a937c4c6e70be074b3eaff",name:"buttons/closebutton_down.png"},{bytes:18344,md5:"a36aa70c8f5343871af90e51c71e6408",name:"buttons/closebutton_over.png"},
{bytes:7723,md5:"9120ba0149a937c4c6e70be074b3eaff",name:"buttons/closebutton_up.png"},{bytes:12267,md5:"7e7df21a4da0a4c44eedfe02e7af5415",name:"buttons/confirmbutton_down.png"},{bytes:12209,md5:"78e4a85620c068da3fa677cbf63b88c3",name:"buttons/confirmbutton_over.png"},{bytes:12017,md5:"6e7c78021394d99dbda3a95df5606740",name:"buttons/confirmbutton_up.png"},{bytes:12848,md5:"6d2c31506005049c2e0734ae6e74cdb3",name:"buttons/helpbutton_down.png"},{bytes:12774,md5:"41b853d17d8b701b41e05477817ef47c",name:"buttons/helpbutton_over.png"},
{bytes:12648,md5:"bbed0729bcd8ac724771a1977bc2c061",name:"buttons/helpbutton_up.png"},{bytes:10262,md5:"b00c1575abf3920d430faf20a7b8146f",name:"buttons/pausebutton_down.png"},{bytes:10202,md5:"c22c5f7270e627ac80a84217ee40b38b",name:"buttons/pausebutton_over.png"},{bytes:10075,md5:"7052b57377ac7053784c375130326dc0",name:"buttons/pausebutton_up.png"},{bytes:12852,md5:"d4dac728d4b94c93faf48cf9091b73ae",name:"buttons/quitbutton_down.png"},{bytes:12793,md5:"4ca1d23f9067c665349bf575bf1ecad8",name:"buttons/quitbutton_over.png"},
{bytes:12641,md5:"0ffad7894ef0877ce15f2bb3cf6245c6",name:"buttons/quitbutton_up.png"},{bytes:12237,md5:"2d54c923167f17607f480e1db29c9f81",name:"buttons/resumebutton_down.png"},{bytes:12187,md5:"98f53441afee87b87d6ed2ba55b331b4",name:"buttons/resumebutton_over.png"},{bytes:12087,md5:"83ee404832a6ff6597d36e1f813ae073",name:"buttons/resumebutton_up.png"},{bytes:12450,md5:"877de8bf8596b8dd1fa6ac9f95ca881d",name:"buttons/volumeoff_down.png"},{bytes:12386,md5:"2f43648cbed64b5487817eda0c18ab99",name:"buttons/volumeoff_over.png"},
{bytes:12238,md5:"66e9c6f15df7d6775fe27a248288a16b",name:"buttons/volumeoff_up.png"},{bytes:13228,md5:"8d5b63691d996439efe8e5d26e3986c9",name:"buttons/volumeon_down.png"},{bytes:13143,md5:"9aaf5485808bd633b3c95a2bb769efd1",name:"buttons/volumeon_over.png"},{bytes:12985,md5:"babdd62064146c66ef28135c73f3e1f7",name:"buttons/volumeon_up.png"},{bytes:27662,md5:"4e149ca0dc1cbe7e478b140bd992f460",name:"font/ASCII_coopBold_64pt_white.fnt"},{bytes:278368,md5:"d3a2b093b8f08155289e5aa538b31a16",name:"font/ASCII_coopBold_64pt_white.png"},
{bytes:27663,md5:"a18fc5c7dd6fbcd2da9bcd8958c9ab6a",name:"font/ASCII_coopBold_80pt_white.fnt"},{bytes:350697,md5:"33409a772e61dd873c93725b6012a84e",name:"font/ASCII_coopBold_80pt_white.png"},{bytes:27664,md5:"0701859152a492c476273f2d43147f30",name:"font/ASCII_coopLight_36pt_Purple.fnt"},{bytes:87807,md5:"7fb1c1b757f8c31872fc27cbfb4b0a4d",name:"font/ASCII_coopLight_36pt_Purple.png"},{bytes:27668,md5:"ca2d306c535396eb942be85464cfee83",name:"font/ASCII_dickVanDyke_16pt_orange.fnt"},{bytes:46517,md5:"a831f961c7aae87c3077da3a6f9f7edc",
name:"font/ASCII_dickVanDyke_16pt_orange.png"},{bytes:27667,md5:"51574e3240d7608f60788ae42e02eec2",name:"font/ASCII_dickVanDyke_18pt_white.fnt"},{bytes:100589,md5:"b74e8ffed64521d03452bfde45df8706",name:"font/ASCII_dickVanDyke_18pt_white.png"},{bytes:27668,md5:"a4cb2cac6005c3f994843bc93e465ff0",name:"font/ASCII_dickVanDyke_24pt_Purple.fnt"},{bytes:77364,md5:"40be181f3ff7a400abcf6613a2b8c7e7",name:"font/ASCII_dickVanDyke_24pt_Purple.png"},{bytes:42688,md5:"0ba6c43c1159df0f27a540d5de48769e",name:"font/ASCII_klunderScriptBold_42pt_yellow.fnt"},
{bytes:318272,md5:"6b09e30fc972ebfab3a191db4482e217",name:"font/ASCII_klunderScriptBold_42pt_yellow.png"},{bytes:42711,md5:"8b80100f6d3b4fd3aaa8f9e00b281440",name:"font/ASCII_klunderScriptBold_46pt_red.fnt"},{bytes:252376,md5:"85a37400474e452ca982d8e300186662",name:"font/ASCII_klunderScriptBold_46pt_red.png"},{bytes:54570,md5:"b817a2d4c1260589a0ecf4c6ed59de50",name:"font/ASCII_luckiestGuy_36pt_white.fnt"},{bytes:64457,md5:"44aca37e0bb0a67ed3678c32f5f84888",name:"font/ASCII_luckiestGuy_36pt_white.png"},
{bytes:49530,md5:"c1775fbe060c90574232c2f598cbdfdd",name:"font/luckiestguy_purple.fnt"},{bytes:30605,md5:"f7281b8078aca699a67087056f4a7fc1",name:"font/luckiestguy_purple_0.png"},{bytes:49529,md5:"9c3fe40c60852c09436234fb9ae1736b",name:"font/luckiestguy_white.fnt"},{bytes:60307,md5:"516108e0ed92c9e36c770e6432e01393",name:"font/luckiestguy_white_0.png"},{bytes:10923,md5:"eeefea5aa097361c4b48ae56fb30654c",name:"game/badger/rabidbadger_01.png"},{bytes:10414,md5:"dcc3cdf893bf04498c31e84973aaf3fa",name:"game/badger/rabidbadger_02.png"},
{bytes:10957,md5:"e5f3aea50b1a564512fe1289251eb745",name:"game/badger/rabidbadger_03.png"},{bytes:11093,md5:"37464096326ff55590592e5d85c5e40e",name:"game/badger/rabidbadger_04.png"},{bytes:10456,md5:"fb0535fbc57634cc9b3c7f91fcdbea55",name:"game/badger/rabidbadger_05.png"},{bytes:11020,md5:"9acfd4a0de478f31e22ad263f5f7f956",name:"game/badger/rabidbadger_06.png"},{bytes:6226,md5:"79e5630b53386f186d3b26c9ed62d62b",name:"game/barriers/barrier_01.png"},{bytes:14292,md5:"877894dda4bddea11886544eef3b9a82",
name:"game/barriers/barrier_02.png"},{bytes:12960,md5:"387b4bc6d4db31faf260f0245258b234",name:"game/barriers/barrier_03.png"},{bytes:10688,md5:"6afb0e0ec0b52bb71c87ec9682e3c356",name:"game/barriers/barrier_04.png"},{bytes:1422,md5:"8300199bae567e4cf80493dde153e1e3",name:"game/barriers/barrier_05.png"},{bytes:6999,md5:"2339853923319e0f0d7202a398262ca3",name:"game/cakebacon.png"},{bytes:8161,md5:"ea3843a26d73c026693fdfd82a8f3807",name:"game/cakepuff/cakepuff_01.png"},{bytes:7016,md5:"47c6e1642578f187781dd0f6fc676d94",
name:"game/cakepuff/cakepuff_02.png"},{bytes:8007,md5:"8e5549c721c7443b101a9e5fac81a5f0",name:"game/cakepuff/cakepuff_03.png"},{bytes:17625,md5:"0898410d9abec32ecc27166c29f542c8",name:"game/children/child_a_01.png"},{bytes:17187,md5:"e7e82d2b0cf86ec486c3238985e96563",name:"game/children/child_a_02.png"},{bytes:17454,md5:"ee32bd301f08b01e67a6e5ce678c3331",name:"game/children/child_a_03.png"},{bytes:17152,md5:"b07edfb2b6ae75bcc0bd6667ce8ab712",name:"game/children/child_a_04.png"},{bytes:20211,md5:"1b40f656f77a0dabbfa59927604b6dda",
name:"game/children/child_b_01.png"},{bytes:19701,md5:"28f0cf7b63c20e869a020719796fab8c",name:"game/children/child_b_02.png"},{bytes:19956,md5:"6e2df5103d17df5c7a53618081ef427a",name:"game/children/child_b_03.png"},{bytes:19962,md5:"9e4373652a00ef461f4795eeff71603b",name:"game/children/child_b_04.png"},{bytes:19585,md5:"105adf495dabfd4e7c41a4a723775fe9",name:"game/children/child_c_01.png"},{bytes:18919,md5:"657916d58264e98d66fc7918707c9436",name:"game/children/child_c_02.png"},{bytes:19215,md5:"6c4b3d6eb187c1cad234d095ab925b44",
name:"game/children/child_c_03.png"},{bytes:19249,md5:"9a4bd474226a154945ab48d7be58569f",name:"game/children/child_c_04.png"},{bytes:20993,md5:"cb68643f311e00d9d7938e9a65b340f5",name:"game/children/child_d_01.png"},{bytes:20295,md5:"49eaf682021111ae5a960fc10714df67",name:"game/children/child_d_02.png"},{bytes:20603,md5:"0e898eab3925c1d5811bf30a5b144171",name:"game/children/child_d_03.png"},{bytes:20978,md5:"de3e77e3eef34ae7b8d11da0494ea013",name:"game/children/child_d_04.png"},{bytes:1219,md5:"c7ccac95cb0ec540e0c010315d5f4565",
name:"game/clickping/clickping_01.png"},{bytes:1660,md5:"659029fc8d05def6073b6d6ca163bf92",name:"game/clickping/clickping_02.png"},{bytes:1976,md5:"e780ad78dccc5d7881b433ca7f4d2fa9",name:"game/clickping/clickping_03.png"},{bytes:2231,md5:"554c81251c13578794fb2b5c0456f42d",name:"game/clickping/clickping_04.png"},{bytes:2909,md5:"406613da3969226c0745f584a2e6f1eb",name:"game/clickping/clickping_05.png"},{bytes:3155,md5:"67c81fd4799078278fd7a33ada54c3af",name:"game/clickping/clickping_06.png"},{bytes:14181,
md5:"aec77ff550f45b7246f93fd6c05f79d3",name:"game/fairy/flying_cosmo_01.png"},{bytes:13659,md5:"0283538daed63d9110c4bb85d18a0816",name:"game/fairy/flying_cosmo_02.png"},{bytes:13870,md5:"e19f6cc88360af89a7ff8c5c567893d6",name:"game/fairy/flying_cosmo_03.png"},{bytes:15676,md5:"fca0d9aad5f0cada22e20ba8745ed699",name:"game/fairy/flying_wanda_01.png"},{bytes:15162,md5:"71f2007b412f4e90ce8f9853d96c581c",name:"game/fairy/flying_wanda_02.png"},{bytes:15458,md5:"10c2ed2e3bfde3187719ec977144b33f",name:"game/fairy/flying_wanda_03.png"},
{bytes:3106,md5:"214ad0a52527e239369cee84256b7275",name:"game/foop/foopbolt_01.png"},{bytes:3138,md5:"3046017bc0692106455b22ba24157434",name:"game/foop/foopbolt_02.png"},{bytes:3213,md5:"c144f65fdc83b11730310613f06ba800",name:"game/foop/foopbolt_03.png"},{bytes:3567,md5:"4d2f852d405920d4c7973d2d46379e47",name:"game/foop/foopbolt_04.png"},{bytes:3314,md5:"6b865f4c8fe6700dba5bdf1b3dee768a",name:"game/foop/foopbolt_05.png"},{bytes:14106,md5:"6d5918d75b69a92bd0a1ffbd1ccf5d06",name:"game/foop/foop_01.png"},
{bytes:15031,md5:"004721a9076cedc1066f4f5575f9c8c3",name:"game/foop/foop_02.png"},{bytes:16228,md5:"b39622f936b337532e511a1dc74ce019",name:"game/foop/foop_03.png"},{bytes:18948,md5:"9f87f6cb304ca94c85eeadd78504a268",name:"game/foop/foop_04.png"},{bytes:14287,md5:"224bc08f8350f239c44926f5845b78ad",name:"game/foop/foop_05.png"},{bytes:193874,md5:"93e4d58dff89a8bb7392c844259ac5ba",name:"game/game_bg.png"},{bytes:992,md5:"c77bef83080130999904cdf459965a40",name:"game/livesdisplay/livesdisplay_0.png"},
{bytes:2777,md5:"385e12eb91f079d2ee281be873bf6903",name:"game/livesdisplay/livesdisplay_1.png"},{bytes:4091,md5:"cfc6c42798869c54300fa7b1d622e7e6",name:"game/livesdisplay/livesdisplay_2.png"},{bytes:5356,md5:"562e900b53e0d93bcf1f56567bf54ef3",name:"game/livesdisplay/livesdisplay_3.png"},{bytes:16252,md5:"5d05cdab4a5a35b7411fd6117a6ec0f5",name:"game/lockers/crockerzone_a_01.png"},{bytes:18597,md5:"703f0d5e9313b636f3960ccb7a916331",name:"game/lockers/crockerzone_a_02.png"},{bytes:16062,md5:"db635ff47fef4b6fe0c7c628852ee54a",
name:"game/lockers/crockerzone_b_01.png"},{bytes:18451,md5:"28cdf5c8ed5024d92dc679b76e93a50c",name:"game/lockers/crockerzone_b_02.png"},{bytes:11418,md5:"678ba5cb7b97db2bd6f9de5af8335d8c",name:"game/lockers/lockerzone_a_01.png"},{bytes:12883,md5:"31691cfa59bafdacec15aa421784488a",name:"game/lockers/lockerzone_a_02.png"},{bytes:10789,md5:"1e47fbff910bba6cf761d112b5c175c7",name:"game/lockers/lockerzone_b_01.png"},{bytes:12422,md5:"d7680e471e2f5d00516807f2537548f9",name:"game/lockers/lockerzone_b_02.png"},
{bytes:12271,md5:"07b7339e41cd4fe2d8fa90b14a70853c",name:"game/lockers/lockerzone_c_01.png"},{bytes:14051,md5:"ceb31f0665152213e9bf926ab9a7f4a4",name:"game/lockers/lockerzone_c_02.png"},{bytes:10014,md5:"dca9a9352742f733502a0e0fe67c79c2",name:"game/lockers/lockerzone_d_01.png"},{bytes:11355,md5:"5d1e72e599e4cf8ef5d1a74988e7e65f",name:"game/lockers/lockerzone_d_02.png"},{bytes:3862,md5:"a75613a3061371a1ecfda0e3a4d925f5",name:"game/pinkpuff/pinkpuff_01.png"},{bytes:6969,md5:"e01272f8967f819443239b20586f1d01",
name:"game/pinkpuff/pinkpuff_02.png"},{bytes:12756,md5:"34caeec660f9c7de34ccc011b973ed9a",name:"game/pinkpuff/pinkpuff_03.png"},{bytes:31704,md5:"6802ee8e889ea288fbf1b31a5a0a6ec9",name:"game/pinkpuff/pinkpuff_04.png"},{bytes:41852,md5:"294f0ca8de1c130ee6f11b980d366f3b",name:"game/pinkpuff/pinkpuff_05.png"},{bytes:15449,md5:"d801abf29c3e182f46bca017129812a3",name:"game/player/player_hurt_1.png"},{bytes:13696,md5:"728382584762fa186971f28b32dc3343",name:"game/player/player_hurt_2.png"},{bytes:15450,
md5:"7448effaac50bac1a4d30fdcc62d7f73",name:"game/player/player_hurt_3.png"},{bytes:13520,md5:"380d941ba4c7ed3a6ab29603bfe9d726",name:"game/player/player_hurt_4.png"},{bytes:13247,md5:"b876a66af08d6f471cdc143af4b5c42c",name:"game/player/player_hurt_5.png"},{bytes:13122,md5:"a5f364f93a2226025c95064e36e54e1b",name:"game/player/player_runright_1.png"},{bytes:12819,md5:"e751b388aa4ec98a118db9949fb6181e",name:"game/player/player_runright_2.png"},{bytes:13119,md5:"de3be61a818dbbf1fc3cc42e9c508946",name:"game/player/player_runright_3.png"},
{bytes:12935,md5:"dd32cee47d37a330ffbb4fbbee9ec7cf",name:"game/player/player_runright_4.png"},{bytes:13032,md5:"20e193e851e0b653080280fe8a164829",name:"game/player/player_runright_5.png"},{bytes:12663,md5:"817f8084971f1b29335f1ec40208d599",name:"game/player/player_runright_6.png"},{bytes:12815,md5:"3628960a68323857840ed4d7b236ba01",name:"game/player/player_runright_7.png"},{bytes:12764,md5:"94655a787d7bdc0f0ba1fe0ae1f001d9",name:"game/player/player_runright_8.png"},{bytes:13283,md5:"94e76a1e8bce56bb87fb684dfd924161",
name:"game/player/player_wand_1.png"},{bytes:14725,md5:"ccce5096acd033c30917aec63c17d399",name:"game/player/player_wand_2.png"},{bytes:18795,md5:"39012cfa6cf642ff1cacb28e91b132fe",name:"game/player/player_wand_3.png"},{bytes:23179,md5:"312c27d75e242fe5b8057c78d7092fd4",name:"game/player/player_wand_4.png"},{bytes:13141,md5:"fa90ec7555afa02b21aa3d9eb57f1337",name:"game/player/player_wand_5.png"},{bytes:23106,md5:"6bd38834bffa24d3bc7fbd6e592974e4",name:"game/playerglow/player_runright_1.png"},{bytes:22447,
md5:"ccd863b3a2042529ea0368cba0a64cb8",name:"game/playerglow/player_runright_2.png"},{bytes:23513,md5:"96e5503d1a69494870d87dc5ca6da4d4",name:"game/playerglow/player_runright_3.png"},{bytes:22731,md5:"0ee7ed807105a6629564975de7a05ac2",name:"game/playerglow/player_runright_4.png"},{bytes:22967,md5:"a9aa2dcd0112f83ce97f7a276b0be75b",name:"game/playerglow/player_runright_5.png"},{bytes:22220,md5:"6cd527a60fec81bdffe79850245816ff",name:"game/playerglow/player_runright_6.png"},{bytes:23055,md5:"1ea693ee625a468397130acd2a2bf84e",
name:"game/playerglow/player_runright_7.png"},{bytes:22205,md5:"4844ca7223c23ae5151255f712918931",name:"game/playerglow/player_runright_8.png"},{bytes:23318,md5:"e5d927bac444bb478dc538e4ec648522",name:"game/playerglow/player_wand_1.png"},{bytes:25260,md5:"7aa082aaea415ee877b2ce527da4f3ea",name:"game/playerglow/player_wand_2.png"},{bytes:28680,md5:"dd6dab4422986c788b76da2ae8fa1de7",name:"game/playerglow/player_wand_3.png"},{bytes:32577,md5:"2fe7671dda7e75429c01f33b9180896a",name:"game/playerglow/player_wand_4.png"},
{bytes:24430,md5:"4c6022e0cb949b61dbe86e302f869d86",name:"game/playerglow/player_wand_5.png"},{bytes:8066,md5:"d76b3fce5fe2e548f6c4d69bbe1490ec",name:"game/points/points_30.png"},{bytes:9585,md5:"b67f547d290f28a6bbe3fb303f2fbcf3",name:"game/points/points_60.png"},{bytes:18791,md5:"117fcc99bb9c1debc0c7b5eb4a49e5c7",name:"game/tubacabra/tubacabra_01.png"},{bytes:19300,md5:"23fb4da7327704421c482c5ed18ed8ac",name:"game/tubacabra/tubacabra_02.png"},{bytes:19727,md5:"2af1c8daba5b9c67649ac1945367fa21",name:"game/tubacabra/tubacabra_03.png"},
{bytes:19457,md5:"b893213ec3b09bdfa99c458b04965b5b",name:"game/tubacabra/tubacabra_04.png"},{bytes:18805,md5:"4bdb1e1d9fc0703758516951ce659b64",name:"game/tubacabra/tubacabra_05.png"},{bytes:17849,md5:"9f07ef7cc4396cad93bfad56b234c12f",name:"game/tubacabra/tubacabra_06.png"},{bytes:42213,md5:"780cf475fd128fb7dcaed4475ae32663",name:"game/ui_bg.png"},{bytes:15280,md5:"03edf9d1e4c543372272ada2ad70f8b0",name:"game/ui_levelcomplete.png"},{bytes:25695,md5:"88cd985ea35f960c9fe2b2de5d0176c4",name:"game/vicki/vicki_01.png"},
{bytes:16520,md5:"dde51e548bd99eff3f44c806ac502f1c",name:"game/vicki/vicki_02.png"},{bytes:16539,md5:"a8ffea58d50a9bc08807728243cda6c2",name:"game/vicki/vicki_03.png"},{bytes:275687,md5:"8d3c276528ef7020159606e5ad524cf7",name:"gameover/gameover_bg.png"},{bytes:23264,md5:"68125ec98ee2972f882936fb21c26482",name:"gameover/gameover_playbutton_down.png"},{bytes:23264,md5:"7d1c834b75f22038b46f0a8fce824f9e",name:"gameover/gameover_playbutton_over.png"},{bytes:10784,md5:"5a5b2481ea28d7e52f6e35cd4f9aeeb5",
name:"gameover/gameover_playbutton_up.png"},{bytes:33176,md5:"b6512db388ff16ecc201afc50b81ba61",name:"menu/message_click.png"},{bytes:21603,md5:"a77f27dd7c41a14b81bb31f44970219e",name:"menu/message_tap.png"},{bytes:257461,md5:"7bc1ce6b054e00f862c3b3694610300d",name:"music/music.mp3"},{bytes:237134,md5:"3171a256c98252da81b670653249f358",name:"music/music.ogg"},{bytes:187283,md5:"0bb7a55b9cb8c1aa78b850d468b0517f",name:"panels/help_bg.png"},{bytes:4222,md5:"543c33bafa331eb87b183355d99da6a1",name:"panels/panel_blocker.png"},
{bytes:24399,md5:"f735148fd2514a4a19d11dfe34df17d1",name:"panels/pause_bg.png"},{bytes:19401,md5:"182cb4e83bc172ab03e08c1e84bff569",name:"panels/quitconfirm_bg.png"},{bytes:110340,md5:"cc9aa9bcd5c12e5be71797591462f4c1",name:"sfx/badger.mp3"},{bytes:112789,md5:"9d2ac792a520cfe19c73e02f61d2a008",name:"sfx/badger.ogg"},{bytes:10971,md5:"585a5525d85a24808891fc1eefb2e551",name:"sfx/foop_shoot.mp3"},{bytes:12144,md5:"346a06e8f975ed22c09625141c3bf0c6",name:"sfx/foop_shoot.ogg"},{bytes:10656,md5:"aba46326b40831e43db5b90aa188a502",
name:"sfx/kidfreed.mp3"},{bytes:15146,md5:"5b9f7985ab1931f95a77fb9d801c6575",name:"sfx/kidfreed.ogg"},{bytes:13399,md5:"542dbf1b6dfc5d82ae602ddb202e13b3",name:"sfx/locker.mp3"},{bytes:17690,md5:"0e56b52f1ec8326561084008e31e0f1a",name:"sfx/locker.ogg"},{bytes:11911,md5:"b11a102c0e994d18e5aa8471fc25bc73",name:"sfx/powerup.mp3"},{bytes:12374,md5:"965a6bb009d05240d8af8c49c662614e",name:"sfx/powerup.ogg"},{bytes:8776,md5:"fa72ffe432e2bc7466d7f7e452f71c5c",name:"sfx/running.mp3"},{bytes:12645,md5:"ab737103b21a8d3bd11848a795cc0a90",
name:"sfx/running.ogg"},{bytes:48274,md5:"c384a3cf69239d4f4fdd8653f45dc5b1",name:"sfx/transition3.mp3"},{bytes:43635,md5:"ed1873773668b22f7713b8d08ac4f2b7",name:"sfx/transition3.ogg"},{bytes:24137,md5:"133d38a0359a3b55bf08c231e9ce6cbc",name:"sfx/transition4.mp3"},{bytes:23287,md5:"612d9650a9e2cdfd6abd3db248749861",name:"sfx/transition4.ogg"},{bytes:10971,md5:"271420735b1c32913fe23a9c6aeb7b84",name:"sfx/tubacabra.mp3"},{bytes:10988,md5:"a0e35fe82b3510ec984f41983523ea0f",name:"sfx/tubacabra.ogg"},{bytes:5889,
md5:"bccbb80482eeeb596fe9222df4fc82bf",name:"transition/transition_getready.png"},{bytes:34295,md5:"fdfa46fb181bfbfa57e0db3d56133f81",name:"transition/transition_left.png"},{bytes:50066,md5:"ea4efd8c0ef4fbe5c364226312772172",name:"transition/transition_levelnum_bg.png"},{bytes:36228,md5:"7e3d9b453a9909a8dcd38ce3e93fda33",name:"transition/transition_right.png"},{bytes:4263,md5:"77ad56dc8c4325840f41b2536183bb2c",name:"transition/transition_white.png"}]}]}};k.Manifest._supportsCrossOrigin=function(){var a;
a=0<=r.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();i.Font.NEWLINE=new i.Glyph(10);c.BasicMouse._sharedEvent=new t.MouseEvent;c.BasicPointer._sharedEvent=new t.PointerEvent;c.html.CanvasRenderer.CANVAS_TEXTURES=(new H("(iPhone|iPod|iPad)","")).match(r.window.navigator.userAgent);c.html.HtmlAssetPackLoader._mediaRefCount=0;c.html.HtmlAssetPackLoader._detectBlobSupport=!0;c.html.HtmlUtil.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];
c.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER=r.window.top==r.window&&(new H("Mobile(/.*)? Safari","")).match(r.navigator.userAgent);c.html.WebAudioSound._detectSupport=!0;c.html.WebGLGraphics._scratchMatrix=new y.Matrix;v.Parser.escapes=function(){var a=new A.StringMap;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);f.main()})();
