/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function y(a,b){function c(){}c.prototype=a;var d=new c,i;for(i in b)d[i]=b[i];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function Ke(a){return a instanceof Array?function(){return O.iter(a)}:"function"==typeof a.iterator?o(a,a.iterator):a.iterator}function o(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Eg++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var m={},f=function(){return D.__string_rec(this,"")},v=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};m.EReg=v;v.__name__=["EReg"];v.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw"EReg::matched";},matchedPos:function(){if(null==this.r.m)throw"No string matched";
return{pos:this.r.m.index,len:this.r.m[0].length}},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},replace:function(a,b){return a.replace(this.r,b)},__class__:v};var O=function(){};m.HxOverrides=O;O.__name__=["HxOverrides"];O.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),i=a.getMinutes(),M=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>i?"0"+i:""+i)+":"+(10>M?"0"+M:""+M)};O.strDate=
function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+a;}};O.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};O.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==
c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};O.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};O.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Nb=function(){};m.Lambda=Nb;Nb.__name__=["Lambda"];Nb.array=function(a){for(var b=[],a=Ke(a)();a.hasNext();){var c=a.next();b.push(c)}return b};Nb.exists=function(a,b){for(var c=Ke(a)();c.hasNext();){var d=
c.next();if(b(d))return!0}return!1};Nb.filter=function(a,b){for(var c=new Ob,d=Ke(a)();d.hasNext();){var i=d.next();b(i)&&c.add(i)}return c};Nb.count=function(a,b){var c=0;if(null==b)for(var d=Ke(a)();d.hasNext();)d.next(),c++;else for(d=Ke(a)();d.hasNext();){var i=d.next();b(i)&&c++}return c};var Ob=function(){this.length=0};m.List=Ob;Ob.__name__=["List"];Ob.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&
(this.q=a);this.length++},pop:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return a},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:Ob};var yc=function(){};m.IMap=yc;yc.__name__=["IMap"];yc.prototype={__class__:yc};Math.__name__=["Math"];var t=function(){};m.Reflect=t;t.__name__=["Reflect"];t.hasField=function(a,
b){return Object.prototype.hasOwnProperty.call(a,b)};t.field=function(a,b){try{return a[b]}catch(c){return null}};t.setField=function(a,b,c){a[b]=c};t.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};t.setProperty=function(a,b,c){var d;if(a.__properties__&&(d=a.__properties__["set_"+b]))a[d](c);else a[b]=c};t.callMethod=function(a,b,c){return b.apply(a,c)};t.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,
d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};t.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};t.compare=function(a,b){return a==b?0:a>b?1:-1};t.compareMethods=function(a,b){return a==b?!0:!t.isFunction(a)||!t.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};t.isEnumValue=function(a){return null!=a&&null!=a.__enum__};t.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];
return!0};var C=function(){};m.Std=C;C.__name__=["Std"];C.is=function(a,b){return D.__instanceof(a,b)};C.string=function(a){return D.__string_rec(a,"")};C["int"]=function(a){return a|0};C.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==O.cca(a,1)||88==O.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};C.parseFloat=function(a){return parseFloat(a)};var ec=function(){this.b=""};m.StringBuf=ec;ec.__name__=["StringBuf"];ec.prototype={add:function(a){this.b+=C.string(a)},addSub:function(a,b,c){this.b=
null==c?this.b+O.substr(a,b,null):this.b+O.substr(a,b,c)},__class__:ec};var ca=function(){};m.StringTools=ca;ca.__name__=["StringTools"];ca.startsWith=function(a,b){return a.length>=b.length&&O.substr(a,0,b.length)==b};ca.isSpace=function(a,b){var c=O.cca(a,b);return 8<c&&14>c||32==c};ca.ltrim=function(a){for(var b=a.length,c=0;c<b&&ca.isSpace(a,c);)c++;return 0<c?O.substr(a,c,b-c):a};ca.rtrim=function(a){for(var b=a.length,c=0;c<b&&ca.isSpace(a,b-c-1);)c++;return 0<c?O.substr(a,0,b-c):a};ca.trim=
function(a){return ca.ltrim(ca.rtrim(a))};ca.lpad=function(a,b,c){if(0>=b.length)return a;for(;a.length<c;)a=b+a;return a};ca.replace=function(a,b,c){return a.split(b).join(c)};ca.fastCodeAt=function(a,b){return a.charCodeAt(b)};var T=m.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};T.TNull=["TNull",0];T.TNull.toString=f;T.TNull.__enum__=T;T.TInt=["TInt",1];T.TInt.toString=f;T.TInt.__enum__=T;T.TFloat=["TFloat",2];T.TFloat.toString=
f;T.TFloat.__enum__=T;T.TBool=["TBool",3];T.TBool.toString=f;T.TBool.__enum__=T;T.TObject=["TObject",4];T.TObject.toString=f;T.TObject.__enum__=T;T.TFunction=["TFunction",5];T.TFunction.toString=f;T.TFunction.__enum__=T;T.TClass=function(a){a=["TClass",6,a];a.__enum__=T;a.toString=f;return a};T.TEnum=function(a){a=["TEnum",7,a];a.__enum__=T;a.toString=f;return a};T.TUnknown=["TUnknown",8];T.TUnknown.toString=f;T.TUnknown.__enum__=T;T.__empty_constructs__=[T.TNull,T.TInt,T.TFloat,T.TBool,T.TObject,
T.TFunction,T.TUnknown];var aa=function(){};m.Type=aa;aa.__name__=["Type"];aa.getClass=function(a){return null==a?null:a instanceof Array&&null==a.__enum__?Array:a.__class__};aa.getClassName=function(a){return a.__name__.join(".")};aa.getEnumName=function(a){return a.__ename__.join(".")};aa.resolveClass=function(a){a=m[a];return null==a||!a.__name__?null:a};aa.resolveEnum=function(a){a=m[a];return null==a||!a.__ename__?null:a};aa.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);
case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};aa.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};aa.createEnum=function(a,b,c){var d=t.field(a,b);if(null==
d)throw"No such constructor "+b;if(t.isFunction(d)){if(null==c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};aa.createEnumIndex=function(a,b,c){var d=a.__constructs__[b];if(null==d)throw b+" is not a valid enum constructor index";return aa.createEnum(a,d,c)};aa.getEnumConstructs=function(a){return a.__constructs__.slice()};aa["typeof"]=function(a){switch(typeof a){case "boolean":return T.TBool;case "string":return T.TClass(String);
case "number":return Math.ceil(a)==a%2147483648?T.TInt:T.TFloat;case "object":if(null==a)return T.TNull;var b=a.__enum__;if(null!=b)return T.TEnum(b);a=a instanceof Array&&null==a.__enum__?Array:a.__class__;return null!=a?T.TClass(a):T.TObject;case "function":return a.__name__||a.__ename__?T.TObject:T.TFunction;case "undefined":return T.TNull;default:return T.TUnknown}};aa.allEnums=function(a){return a.__empty_constructs__};(m.XmlType={__ename__:["XmlType"],__constructs__:[]}).__empty_constructs__=
[];var N=function(){};m.Xml=N;N.__name__=["Xml"];N.parse=function(a){return Ub.parse(a)};N.createElement=function(a){var b=new N;b.nodeType=N.Element;b._children=[];b._attributes=new I;b.set_nodeName(a);return b};N.createPCData=function(a){var b=new N;b.nodeType=N.PCData;b.set_nodeValue(a);return b};N.createCData=function(a){var b=new N;b.nodeType=N.CData;b.set_nodeValue(a);return b};N.createComment=function(a){var b=new N;b.nodeType=N.Comment;b.set_nodeValue(a);return b};N.createDocType=function(a){var b=
new N;b.nodeType=N.DocType;b.set_nodeValue(a);return b};N.createProcessingInstruction=function(a){var b=new N;b.nodeType=N.ProcessingInstruction;b.set_nodeValue(a);return b};N.createDocument=function(){var a=new N;a.nodeType=N.Document;a._children=[];return a};N.prototype={get_nodeName:function(){if(this.nodeType!=N.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=N.Element)throw"bad nodeType";return this._nodeName=a},get_nodeValue:function(){if(this.nodeType==
N.Element||this.nodeType==N.Document)throw"bad nodeType";return this._nodeValue},set_nodeValue:function(a){if(this.nodeType==N.Element||this.nodeType==N.Document)throw"bad nodeType";return this._nodeValue=a},get:function(a){if(this.nodeType!=N.Element)throw"bad nodeType";return this._attributes.get(a)},set:function(a,b){if(this.nodeType!=N.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=N.Element)throw"bad nodeType";return this._attributes.exists(a)},iterator:function(){if(null==
this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;b<c;){var d=this.x[b];if(d.nodeType==N.Element&&d._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var d=this.x[b];b++;if(d.nodeType==
N.Element&&d._nodeName==a)return this.cur=b,d}return null}}},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==N.Element)return c;a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&O.remove(a._parent._children,a);a._parent=this;this._children.push(a)},__class__:N,__properties__:{set_nodeValue:"set_nodeValue",get_nodeValue:"get_nodeValue",set_nodeName:"set_nodeName",
get_nodeName:"get_nodeName"}};var ra=function(){var a=this;this._root=J.root;this._timeline=new ga;this._root.addChild(this._timeline);J.uncaughtError.connect(o(this,this.errorHandler));k.get_instance().get_input().prime();this._scaleSprite=new K;this._timeline.add(this._scaleSprite);this._layerWorld=new ga;this._layerUI=new ga;this._timeline.addChild(this._layerWorld);this._timeline.addChild(this._layerUI);this._fillRight=new Ja(0,8,8);this._fillLeft=new Ja(0,8,8);this._fillLeft.anchorX.set__(8);
this._layerFill=this._timeline.addChild(new ga);this._layerFill.addChild((new ga).add(this._fillRight));this._layerFill.addChild((new ga).add(this._fillLeft));this._dt=this._lastStageY=this._lastStageX=0;this._timerRefreshScale=0.001;this._isUIActive=this._isWorldActive=!1;this._flagFirstPlay=!0;this._flagInitialLoadComplete=this._flagWebAudioUnlocked=!1;this._flagGameplayPaused=!0;this._debugEnabled=this._flagJSEmbedExists=this._flagJSEmbedPauseState=!1;ea.onPlaybackToggle=function(b){b?a._unpauseGameplay():
a._pauseGameplay()};this._calculateScaleFactor();this._flagJSEmbedExists=null!=jsembed&&jsembed.exists();!1==this._flagJSEmbedExists&&this._scaleSprite.scaleX.set__(this._scaleSprite.scaleY.set__(s.scaleFactor));this._calcScale();this._changeActions=[];this._flowstack=[];this._addEventListeners();this._beginEngine()};m["com.nick.international.comic_creator.Main"]=ra;ra.__name__=["com","nick","international","comic_creator","Main"];ra.main=function(){J.init();J.root.add(new rd);ea.onAudioToggle=function(a){J.volume.set__(a?
1:0)};Pb.setupBaseURL();var a=new ga;ra._fillSprite=new Ja(0,8,8);ra._fillSprite.setScaleXY(J._platform.getStage().get_width()/8,J._platform.getStage().get_height()/8);a.add(ra._fillSprite);J.root.addChild(a);null!=jsembed&&jsembed.exists()?jsembed.isBaseCrossdomain()?k.get_instance().get_assets().setCrossdomainBaseUrl(ra.appendAssetsToUrl(jsembed.baseUrl())):k.get_instance().get_assets().set_baseUrl(ra.trimUrl(jsembed.baseUrl())):k.get_instance().get_assets().set_baseUrl("");mb.sendGameEvent("onLoadingStart");
k.get_instance().get_assets().load(ra._onBootstrapLoad,null,["bootstrap"])};ra._onBootstrapLoad=function(){mb.sendGameEvent("getLoadingProgress",0.3333333333333333);ra._initServices();ra._main=new ra};ra._initServices=function(){for(var a=0,b=k.get_instance().get_assets().allConfig();a<b.length;){var c=b[a];++a;if(!1!=c.hasNode.resolve("services"))for(c=c.node.resolve("services").nodes.resolve("service").iterator();c.hasNext();){var d=c.next();switch(d.att.resolve("type").toString()){case "canadaTracking":"true"==
d.att.resolve("enabled").toString()&&Cb.enableCanadaTracking(d.att.resolve("showGameTitle").toString());break;case "deltaDNA":"true"==d.att.resolve("enabled").toString()&&H.init("79774111025205085797043726214714")}}}};ra.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=O.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=O.substr(a,b,a.length-b);return a=ra.appendAssetsToUrl(a)};ra.appendAssetsToUrl=
function(a){if(0==a.length)return"/assets/";"/"!=a.charAt(a.length-1)&&(a+="/");a.indexOf("/assets")<a.length-9&&(a+="assets/");return a};ra.prototype={_calculateScaleFactor:function(){if(!1!=C.is(J._platform.getStage(),fc)){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),c=Y.loadExtension("backingStorePixelRatio",b).value;null==c&&(c=1);b=window.navigator.userAgent.toLowerCase();a/=c;-1!=b.indexOf("ipad")&&(a=1);b=J._platform.getStage();
a!=b.scaleFactor&&(b.scaleFactor=a,Y.setVendorStyle(t.field(b,"_canvas"),"transform-origin","top left"),Y.setVendorStyle(t.field(b,"_canvas"),"transform","scale("+1/b.scaleFactor+")"),b.requestResize(b.get_width(),b.get_height()));s.scaleFactor=b.scaleFactor}},errorHandler:function(){null},_parseConfigXML:function(){for(var a=!1,b=0,c="000000",d=!1,i="en",M=!1,e=!1,g=!1,f=!1,h=0,m=k.get_instance().get_assets().allConfig(!0);h<m.length;){var j=m[h];++h;if(j.hasNode.resolve("chunks"))for(var n=j.node.resolve("chunks").nodes.resolve("chunk").iterator();n.hasNext();){var o=
n.next();k.get_instance().get_assets().addChunk(o.att.resolve("id").toString(),o)}j.hasNode.resolve("quality")&&(k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)&&(a="false"==j.node.resolve("quality").att.resolve("forceLowQualityMobile")?!1:!0),b=C.parseInt(j.node.resolve("quality").att.resolve("index")));j.hasNode.resolve("unlockCode")&&(c=j.node.resolve("unlockCode").get_innerData());j.hasNode.resolve("unlockEnabled")&&(d="true"==j.node.resolve("unlockEnabled").get_innerData());j.hasNode.resolve("localization")&&
(i=C.string(j.node.resolve("localization").node.resolve("region").get_innerData()));j.hasNode.resolve("shareEnabled")&&(M="true"==j.node.resolve("shareEnabled").get_innerData());j.hasNode.resolve("printEnabled")&&(e="true"==j.node.resolve("printEnabled").get_innerData());j.hasNode.resolve("enableAlvin")&&"true"==j.node.resolve("enableAlvin").att.resolve("enabled").toString()&&(g=!0);j.hasNode.resolve("enableTMNT")&&"true"==j.node.resolve("enableTMNT").att.resolve("enabled").toString()&&(f=!0)}k.get_instance().get_assets().finishProcessingChunks();
k.get_instance().setBool(l.BOOL_LOW_QUALITY_MOBILE,a);k.get_instance().setInt(l.INT_QUALITY,b);k.get_instance().setString(l.STRING_UNLOCK_CODE,c);k.get_instance().setBool(l.BOOL_ALLOW_UNLOCK,d);k.get_instance().setBool(l.BOOL_ALLOW_SUBMIT,!1);k.get_instance().setBool(l.BOOL_ALLOW_PRINT,e);k.get_instance().setBool(l.BOOL_ALLOW_SHARE,M);k.get_instance().setString(l.STRING_REGION_ID,i);s.BG_ASSET=k.get_instance().getBool(l.BOOL_FIRST_TIME_PLAY)?"bg_1":"bg_"+k.get_instance().get_random().getRandomInt(1,
3);k.get_instance().setBool(l.BOOL_ENABLE_ALVIN,g);k.get_instance().setBool(l.BOOL_ENABLE_TMNT,f)},_eventInitialLoadComplete:function(){this._enableSplash();this._flagInitialLoadComplete=!0},_beginEngine:function(){s.setFlowDelegate(o(this,this._addFlowEvent));this._timeline.add(new sd(o(this,this._onEventUpdate)));ra.ui=this._ui=new Le(this._layerUI);k.get_instance().get_input().setDelegateUnlockWebAudio(o(this,this._handleWebAudioUnlock));this._setDefaults();va.get_instance().load();this._parseConfigXML();
this._generateUI();this._registerInput();this._openSplash()},_openSplash:function(){this._timerAnalytics=0;var a=window.document.getElementById("loadingOverlay");null!=a?a.parentNode.removeChild(a):null;this._includeScripts();this._ui.changeScreenTo(r.SPLASH,!1)},_includeScripts:function(){var a=k.get_instance().get_assets().baseUrl,a=ca.replace(a,"assets/","");Ib.addScript("Clipboard",a+"assets/scripts/clip_nick.js");Ib.addScript("Blob",a+"assets/scripts/Blob.js");Ib.addScript("CanvasToBlob",a+"assets/scripts/canvas-toBlob.js");
Ib.addScript("FileSaver",a+"assets/scripts/FileSaver.js");Ib.addScript("Screenshot",a+"assets/scripts/wm_screenshot.js");Ib.addScript("SubmitForm",a+"assets/scripts/nickshareoverlay.js");Ib.addScript("Share",a+"assets/scripts/wm_share.js");Ib.addScript("Cocoon",a+"assets/scripts/cocoon.js");Ib.addScript("ManualOverlay",a+"assets/scripts/shareoverlay.js")},_setDefaults:function(){k.get_instance().setBool(l.BOOL_PAUSED,!1);k.get_instance().setBool(l.BOOL_GAME_WIN,!1);k.get_instance().setBool(l.BOOL_GAME_LOSE,
!1);k.get_instance().setBool(l.BOOL_LEVEL_WIN,!1);k.get_instance().setBool(l.BOOL_LEVEL_LOSE,!1);k.get_instance().setBool(l.BOOL_CODE_SCREEN_OPEN,!1);k.get_instance().setBool(l.BOOL_CODE_UNLOCK,!1);k.get_instance().setBool(l.BOOL_TOUCH_DEVICE,J._platform.getTouch().get_supported());k.get_instance().setBool(l.BOOL_DO_TUTORIAL,!0);k.get_instance().setBool(l.BOOL_LOAD_AVATAR,!1);k.get_instance().setBool(l.BOOL_APP,"ANDROID_APP"==Jb.detectPlatform()||"IOS_APP"==Jb.detectPlatform());k.get_instance().setBool(l.BOOL_ANDROID_APP,
"ANDROID_APP"==Jb.detectPlatform());k.get_instance().setBool(l.BOOL_IOS_APP,"IOS_APP"==Jb.detectPlatform());k.get_instance().setInt(l.INT_HEALTH,3);k.get_instance().setInt(l.INT_LIVES,3);k.get_instance().setInt(l.INT_SCORE,0);k.get_instance().setInt(l.INT_CURRENCY,200);k.get_instance().setInt(l.FLOAT_LOADING_PROGRESS,0);k.get_instance().setInt(l.INT_LOADING_SCORE,0);k.get_instance().setInt(l.INT_ACHIEVEMENT_SCORE,0);k.get_instance().setInt(l.INT_QUALITY,0);k.get_instance().setInt(l.INT_PANEL_INDEX,
0);k.get_instance().setInt(l.INT_PANEL_NUM,0);k.get_instance().setInt(l.INT_PANEL_ELEM_COUNT,0);k.get_instance().setInt(l.INT_MAX_PANEL_ELEMS,11);k.get_instance().setInt(l.INT_CURRENT_AVATAR,0);k.get_instance().setInt(l.INT_PANEL_NUM,0);k.get_instance().setString(l.STRING_LEVEL_ID,"level1");k.get_instance().get_sound().set_muteAll(!1)},_registerInput:function(){k.get_instance().get_input().registerInput(G.MOVE_LEFT,[g.Left,g.A]);k.get_instance().get_input().registerInput(G.MOVE_RIGHT,[g.Right,g.D]);
k.get_instance().get_input().registerInput(G.MOVE_UP,[g.Up,g.W]);k.get_instance().get_input().registerInput(G.MOVE_DOWN,[g.Down,g.S]);k.get_instance().get_input().registerInput(G.ATTACK,[g.Z],[Db.ATTACK]);k.get_instance().get_input().registerInput(G.JUMP,[g.Space],[Db.JUMP]);k.get_instance().get_input().registerInput(G.UI_OK,[g.Space]);k.get_instance().get_input().registerInput(G.D0,[g.Shift]);k.get_instance().get_input().registerInput(G.D1,[g.Control]);k.get_instance().get_input().registerInput(G.D2,
[g.F]);k.get_instance().get_input().registerInput(G.D3,[g.Y]);k.get_instance().get_input().registerInput(G.D4,[g.V]);k.get_instance().get_input().registerInput(G.D5,[g.Y])},_generateUI:function(){this._isUIActive=!0;this._ui.addScreen(r.SPLASH,td);this._ui.addScreen(r.MAIN_MENU,ud);this._ui.addScreen(r.AVATAR_TRAY,nb);this._ui.addScreen(r.AVATAR_BUILDER,vd);this._ui.addScreen(r.COMIC_PANEL_SELECT,wd);this._ui.addScreen(r.COMIC_HUD,zc);this._ui.addScreen(r.COMIC_MENU,xd);this._ui.addScreen(r.HELP,
yd);this._ui.addScreen(r.QUIT_CONFIRM,zd);this._ui.addScreen(r.ACHIEVEMENT_POPUP,Ad);this._ui.addScreen(r.ACHIEVEMENTS,Bd);this._ui.addScreen(r.DIALOGUE_POPUP,Wc);this._ui.addScreen(r.DEBUG,Cd);this._ui.addScreen(r.POPUP_SUBMIT,Dd);this._ui.addScreen(r.POPUP_SHARE,Ed);this._ui.addScreen(r.DELETE_AVATAR,Fd);this._ui.addScreen(r.PRINT_CLOSE,Gd);this._ui.addScreen(r.SUBMIT_CONFIRM,Hd);this._ui.addScreen(r.NICK_TERMS,Id);this._ui.addScreen(r.NICK_AGREEMENT,Jd);this._ui.set_interfaceDelegate(o(this,this._onInterfaceChange));
null},_gotoComicCreator:function(){var a;a=k.get_instance().getInt(l.INT_QUALITY);if(0==a)a="comic_creator_sd";else if(1==a)a="comic_creator_hd";else throw"[Main](_gotoComicCreator) Error: Not expecting quality flag "+a+". Nothing loaded.";var b;b=s.allAudioSupported()?"comic_creator_audio_optional":"comic_creator_audio_required";var c;c=k.get_instance().getInt(l.INT_QUALITY);if(0==c)c="avatar_builder_sd";else if(1==c)c="avatar_builder_hd";else throw"[Main](_gotoAvatarBuilder) Error: Not expecting quality flag "+
c+". Nothing loaded.";var d;d=s.allAudioSupported()?"avatar_builder_audio_optional":"avatar_builder_audio_required";k.get_instance().get_assets().load(o(this,this._eventLoadCompleteComic),[a,b,c,d,"avatar_spine"],null,null,1.2)},_eventLoadCompleteComic:function(){this._isWorldActive?null:(this._ui.changeScreenTo(r.COMIC_HUD,!0),this._unpauseGameplay())},_onWorldGenerationComplete:function(){k.get_instance().get_timer().start(o(this,this._onWorldGenerationCompleteDelay),0.3);this._ui.changeScreenTo(r.COMIC_HUD,
!0)},_onWorldGenerationCompleteDelay:function(){this._world.start();this._unpauseGameplay();this._timerAnalytics=0},_gotoEndComic:function(){this._newOnChangeAction(r.MAIN_MENU,sa.OPEN_COMPLETE,o(this,this._endComicCloseComplete));this._ui.changeScreenTo(r.MAIN_MENU,!1);this._playSelectionMusic()},_endComicCloseComplete:function(){var a=this;k.get_instance().get_timer().start(function(){a._disposeWorld();var b=k.get_instance().getInt(l.INT_QUALITY);if(0!=b&&1!=b)throw"[Main](_gotoComicCreator) Error: Not expecting quality flag "+
b+". Nothing loaded.";s.allAudioSupported()},0.1)},_gotoAvatarBuilder:function(a,b){null==b&&(b=!1);null==a&&(a=!1);var c=this,d;d=k.get_instance().getInt(l.INT_QUALITY);if(0==d)d="comic_creator_sd";else if(1==d)d="comic_creator_hd";else throw"[Main](_gotoComicCreator) Error: Not expecting quality flag "+d+". Nothing loaded.";var i;i=s.allAudioSupported()?"comic_creator_audio_optional":"comic_creator_audio_required";var M;M=k.get_instance().getInt(l.INT_QUALITY);if(0==M)M="avatar_builder_sd";else if(1==
M)M="avatar_builder_hd";else throw"[Main](_gotoAvatarBuilder) Error: Not expecting quality flag "+M+". Nothing loaded.";var e;e=s.allAudioSupported()?"avatar_builder_audio_optional":"avatar_builder_audio_required";var g="avatar_spine";k.get_instance().get_assets().load(function(){c._eventLoadCompleteAvatar(a,b)},[d,i,M,e,g],null,null,1.2);g=e=M=null},_eventLoadCompleteAvatar:function(a,b){a?b?(this._ui.openScreen(r.AVATAR_TRAY),this._ui.openScreen(r.AVATAR_BUILDER)):this._ui.changeScreenTo(r.AVATAR_BUILDER,
!1):this._ui.changeScreenTo(r.AVATAR_TRAY,!1)},_gotoEndAvatar:function(){this._newOnChangeAction(r.MAIN_MENU,sa.OPEN_COMPLETE,o(this,this._avatarCloseComplete));this._ui.changeScreenTo(r.MAIN_MENU,!0);this._playSelectionMusic()},_avatarCloseComplete:function(){k.get_instance().get_timer().start(function(){var a=k.get_instance().getInt(l.INT_QUALITY);if(0!=a&&1!=a)throw"[Main](_gotoAvatarBuilder) Error: Not expecting quality flag "+a+". Nothing loaded.";s.allAudioSupported()},0.1)},_enableSplash:function(){k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)||
this._playSelectionMusic();this._ui.getScreen(r.SPLASH).open(!1);this._enableInput()},_onGameNew:function(){this._resetFlagsResults()},_resetFlagsResults:function(){k.get_instance().resetValue(l.BOOL_GAME_WIN);k.get_instance().resetValue(l.BOOL_GAME_LOSE);k.get_instance().resetValue(l.BOOL_LEVEL_WIN);k.get_instance().resetValue(l.BOOL_LEVEL_LOSE)},_resetGameResults:function(){k.get_instance().resetValue(l.INT_SCORE);k.get_instance().resetValue(l.STRING_LEVEL_ID)},_onEventUpdate:function(a){a=Math.round(1E3*
a)/1E3;0.06666666666666667<a&&(a=0.06666666666666667);this._timerAnalytics+=a;this._timerRefreshScale-=a;0>=this._timerRefreshScale&&(this._timerRefreshScale=0.4,this._calcScale());this._flagJSEmbedExists&&jsembed.isPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=jsembed.isPaused())?this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay());k.get_instance().update(a);this._isUIActive&&(this._checkDebug(),this._ui.update(a));this._isWorldActive&&this._world.update(a);
this._runFlowStack()},_calcScale:function(){if(!(J._platform.getStage().get_width()==this._lastStageX&&J._platform.getStage().get_height()==this._lastStageY)){this._lastStageX=J._platform.getStage().get_width();this._lastStageY=J._platform.getStage().get_height();this._scaleSprite.x.set__(0.5*this._lastStageX);this._scaleSprite.y.set__(0.5*this._lastStageY);var a=this._lastStageY/560,b=this._lastStageX/a;this._scaleSprite.rotation.set__(0);s.STAGE_WIDTH=Math.min(Math.ceil(b),1024);s.STAGE_CENTER_X=
Math.floor(0.5*s.STAGE_WIDTH);this._scaleSprite.scaleX.set__(this._scaleSprite.scaleY.set__(a));b=Math.ceil(0.5*(b-s.STAGE_WIDTH));0<b?(this._fillLeft.set_visible(this._fillRight.set_visible(!0)),this._fillLeft.x.set__(-s.STAGE_CENTER_X),this._fillRight.x.set__(s.STAGE_CENTER_X),this._fillLeft.y.set__(this._fillRight.y.set__(-280)),this._fillLeft.scaleY.set__(this._fillRight.scaleY.set__(70)),this._fillLeft.scaleX.set__(this._fillRight.scaleX.set__(b/8))):this._fillLeft.set_visible(this._fillRight.set_visible(!1));
ra._fillSprite.scaleX.set__(this._lastStageX/8);ra._fillSprite.scaleY.set__(this._lastStageY/8);k.get_instance().get_dispatcher().dispatchEvent(R.request(j.RESIZE_CANVAS,function(){var b=new I;b.set("scale",a);return b}(this)))}},_checkDebug:function(){this._ui.isScreenOpen(r.DEBUG)||(!1==this._debugEnabled&&k.get_instance().get_input().getInputDown(G.D1)&&k.get_instance().get_input().getInputDown(G.D2)&&k.get_instance().get_input().getInputDown(G.D3)&&(this._debugEnabled=!0),!0==this._debugEnabled&&
k.get_instance().get_input().getInputDown(G.D0)&&k.get_instance().get_input().getInputDown(G.D4)&&k.get_instance().get_input().getInputDown(G.D5)&&this._ui.openScreen(r.DEBUG))},_addFlowEvent:function(a){this._flowstack.push(a)},_runFlowStack:function(){if(!(1>this._flowstack.length))for(;0<this._flowstack.length;)this._executeFlowStack(this._flowstack[0]),this._flowstack.shift()},_executeFlowStack:function(a){k.get_instance().get_sound().playSound(h.sound.sbcc_sfx_screenchange);switch(a[1]){case 0:Cb.sendCanadaTrackingCall("play");
this._gotoComicCreator();this._timerAnalytics=0;break;case 5:Cb.sendCanadaTrackingCall("play");this._timerAnalytics=0;this._urlContainsQuery()?(k.get_instance().setBool(l.BOOL_LOAD_AVATAR,!0),this._gotoAvatarBuilder(!0,!0)):this._ui.changeScreenTo(r.MAIN_MENU,!1);this._playSelectionMusic();break;case 6:k.get_instance().setBool(l.BOOL_FLOW_AVATAR_FROM_COMIC,!1);this._gotoAvatarBuilder();this._playSelectionMusic();break;case 7:this._gotoEndAvatar();this._playSelectionMusic();break;case 8:this._ui.closeScreen(r.AVATAR_TRAY,
!1);this._ui.update(1);this._ui.openScreen(r.AVATAR_TRAY);break;case 9:this._ui.openScreen(r.AVATAR_BUILDER);this._playGameMusic();break;case 10:this._ui.closeScreen(r.AVATAR_BUILDER,!1);k.get_instance().getBool(l.BOOL_FLOW_AVATAR_FROM_COMIC)?this._playGameMusic():this._playSelectionMusic();break;case 11:this._ui.changeScreenTo(r.COMIC_PANEL_SELECT,!1);this._playSelectionMusic();break;case 12:this._ui.changeScreenTo(r.MAIN_MENU,!1);break;case 13:this._gotoComicCreator();this._playGameMusic();break;
case 14:this._gotoEndComic();this._playSelectionMusic();break;case 21:this._ui.openScreen(r.HELP);break;case 48:k.get_instance().setBool(l.BOOL_FLOW_AVATAR_FROM_COMIC,!0);this._gotoAvatarBuilder(!0);break;case 49:k.get_instance().setBool(l.BOOL_AVATAR_TO_COMIC,!0);this._ui.changeScreenTo(r.COMIC_PANEL_SELECT,!1);this._playSelectionMusic();break;case 54:this._ui.openScreen(r.DELETE_AVATAR);break;case 55:this._ui.closeScreen(r.DELETE_AVATAR);break;case 17:this._ui.openScreen(r.SHOP);break;case 57:this._ui.closeScreen(r.PRINT_CLOSE);
break;case 56:this._ui.openScreen(r.PRINT_CLOSE);break;case 18:this._ui.closeScreen(r.SHOP);break;case 16:this._ui.closeScreen(r.HELP);break;case 19:this._pauseGameplay();this._ui.openScreen(r.COMIC_MENU);break;case 59:this._ui.closeScreen(r.SUBMIT_CONFIRM);break;case 58:this._ui.openScreen(r.SUBMIT_CONFIRM);break;case 20:this._unpauseGameplay();this._ui.closeScreen(r.COMIC_MENU);break;case 22:this._ui.openScreen(r.QUIT_CONFIRM);break;case 23:this._resetFlagsResults();this._gotoEndComic();this._resetGameResults();
break;case 38:this._ui.openScreen(r.ENTER_CODE);break;case 37:this._ui.closeScreen(r.ENTER_CODE);break;case 24:this._ui.closeScreen(r.QUIT_CONFIRM);break;case 29:this._disposeWorld();Cb.sendCanadaTrackingCall("replay");this._onGameNew();this._gotoComicCreator();k.get_instance().setBool(l.BOOL_PAUSED,!1);break;case 39:this._playGameMusic();this._gotoComicCreator();break;case 41:this._ui.openScreen(r.ACHIEVEMENT_POPUP);break;case 42:this._ui.closeScreen(r.ACHIEVEMENT_POPUP);break;case 43:this._ui.openScreen(r.ACHIEVEMENTS);
break;case 44:this._ui.closeScreen(r.ACHIEVEMENTS);break;case 45:this._ui.openScreen(r.DIALOGUE_POPUP);break;case 46:this._ui.closeScreen(r.DIALOGUE_POPUP);break;case 47:this._ui.closeScreen(r.DEBUG,!0);break;case 52:this._ui.openScreen(r.POPUP_SHARE);break;case 53:this._ui.closeScreen(r.POPUP_SHARE);break;case 50:this._ui.openScreen(r.POPUP_SUBMIT);break;case 51:this._ui.closeScreen(r.POPUP_SUBMIT);break;case 60:this._ui.openScreen(r.NICK_TERMS);break;case 61:this._ui.closeScreen(r.NICK_TERMS);break;
case 62:this._ui.openScreen(r.NICK_AGREEMENT);break;case 63:this._ui.closeScreen(r.NICK_AGREEMENT)}},_pauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!0);k.get_instance().get_dispatcher().dispatchEvent(R.request(j.PAUSE))},_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!1);k.get_instance().get_dispatcher().dispatchEvent(R.request(j.UNPAUSE))},_newOnChangeAction:function(a,b,c){this._changeActions.push(new Me(a,b,c))},_executeInterfaceChange:function(a,
b){for(var c=this._changeActions.length,d;0<c--;)this._changeActions[c].get_screenId()==b&&this._changeActions[c].get_changeEvent()==a&&(d=this._changeActions[c],this._changeActions.splice(c,1),d.get_action()())},_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(j.MUTE_TOGGLE,o(this,this._onMuteToggle));k.get_instance().get_dispatcher().addEventListener(j.WORLD_GENERATION_COMPLETE,o(this,this._onWorldGenerationComplete));k.get_instance().get_dispatcher().addEventListener(j.INITIAL_LOAD_COMPLETE,
o(this,this._eventInitialLoadComplete))},_enableInput:function(){k.get_instance().get_input().setEnabled(!0)},_onMuteToggle:function(){k.get_instance().get_sound().set_muteAll(!k.get_instance().get_sound().get_muteAll())},_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=!0,k.get_instance().get_sound().playSound(h.sound.silent))},_onInterfaceChange:function(a,b){this._executeInterfaceChange(a,b)},_urlContainsQuery:function(){return 1<window.location.href.split("?").length&&
"lhavtr"==window.location.href.split("?")[1].split("&")[1]},_disposeWorld:function(){this._isWorldActive&&(this._isWorldActive=!1,this._world.dispose(),this._world=null)},_playGameMusic:function(){k.get_instance().get_sound().playMusic(h.sound.main_music,0.3)},_playSelectionMusic:function(){k.get_instance().get_sound().playMusic(h.sound.main_music,0.3)},__class__:ra};var va=function(){this.avatars=new Ua;for(var a=s.MAX_AVATARS+1;1<=--a;){var b=new gc;this.avatars.set(a,b)}k.get_instance().setBool(l.BOOL_FIRST_TIME_PLAY,
!0)};m["com.nick.international.comic_creator.data.SaveData"]=va;va.__name__="com,nick,international,comic_creator,data,SaveData".split(",");va.__properties__={get_instance:"get_instance"};va.get_instance=function(){null==va.__instance&&(va.__instance=new va);return va.__instance};va.prototype={load:function(){var a=k.get_instance().sharedObjectGetData(s.SHARED_OBJECT_DATA_ID);this.avatars=a.avatars;null!=a.BOOL_DO_TUTORIAL&&k.get_instance().setBool(l.BOOL_DO_TUTORIAL,a.BOOL_DO_TUTORIAL);null!=a.BOOL_FIRST_TIME_PLAY&&
k.get_instance().setBool(l.BOOL_FIRST_TIME_PLAY,a.BOOL_FIRST_TIME_PLAY);"0.2"!=a.version&&this.deleteSave()},save:function(){var a={version:"0.2"};a.avatars=this.avatars;a.BOOL_DO_TUTORIAL=k.get_instance().getBool(l.BOOL_DO_TUTORIAL);a.BOOL_FIRST_TIME_PLAY=k.get_instance().getBool(l.BOOL_FIRST_TIME_PLAY);k.get_instance().sharedObjectSetData(s.SHARED_OBJECT_DATA_ID,a)},deleteSave:function(){this.avatars=new Ua;for(var a=s.MAX_AVATARS+1;1<=--a;){var b=new gc;this.avatars.set(a,b)}a={version:"0.2",avatars:this.avatars};
k.get_instance().sharedObjectSetData(s.SHARED_OBJECT_DATA_ID,a)},deleteAvatar:function(a){var b=new gc;this.avatars.set(a,b);this.save()},__class__:va};var ma=m["com.nick.international.comic_creator.data.achievement.ACHIEVEMENT"]={__ename__:"com,nick,international,comic_creator,data,achievement,ACHIEVEMENT".split(","),__constructs__:"FIRSTPLAY,LEVEL2,SCORE100,LEVEL5,SCORE1000,CODEUNLOCKED".split(",")};ma.FIRSTPLAY=["FIRSTPLAY",0];ma.FIRSTPLAY.toString=f;ma.FIRSTPLAY.__enum__=ma;ma.LEVEL2=["LEVEL2",
1];ma.LEVEL2.toString=f;ma.LEVEL2.__enum__=ma;ma.SCORE100=["SCORE100",2];ma.SCORE100.toString=f;ma.SCORE100.__enum__=ma;ma.LEVEL5=["LEVEL5",3];ma.LEVEL5.toString=f;ma.LEVEL5.__enum__=ma;ma.SCORE1000=["SCORE1000",4];ma.SCORE1000.toString=f;ma.SCORE1000.__enum__=ma;ma.CODEUNLOCKED=["CODEUNLOCKED",5];ma.CODEUNLOCKED.toString=f;ma.CODEUNLOCKED.__enum__=ma;ma.__empty_constructs__=[ma.FIRSTPLAY,ma.LEVEL2,ma.SCORE100,ma.LEVEL5,ma.SCORE1000,ma.CODEUNLOCKED];var Vb=function(a,b,c,d){this._id=a;this._valueId=
b;this._value=c;this._points=d;this._achieved=!1};m["com.nick.international.comic_creator.data.achievement.AchievementData"]=Vb;Vb.__name__="com,nick,international,comic_creator,data,achievement,AchievementData".split(",");Vb.prototype={get_id:function(){return this._id},get_valueId:function(){return this._valueId},get_value:function(){return this._value},get_points:function(){return this._points},get_achieved:function(){return this._achieved},set_achieved:function(a){return this._achieved=a},__class__:Vb,
__properties__:{set_achieved:"set_achieved",get_achieved:"get_achieved",get_points:"get_points",get_value:"get_value",get_valueId:"get_valueId",get_id:"get_id"}};var mg=function(){};m["com.nick.international.comic_creator.data.achievement.ConstantsAchievement"]=mg;mg.__name__="com,nick,international,comic_creator,data,achievement,ConstantsAchievement".split(",");mg.buildAchievementData=function(a){switch(a[1]){case 0:return new Vb("firstplay",l.BOOL_GAME_LOSE,1,1);case 1:return new Vb("level2",l.INT_LEVEL,
2,1);case 3:return new Vb("level5",l.INT_LEVEL,5,3);case 2:return new Vb("score100",l.INT_SCORE,100,1);case 4:return new Vb("score1000",l.INT_SCORE,1E3,5);case 5:return new Vb("codeunlocked",l.BOOL_CODE_UNLOCK,1,10)}};var gc=function(){this._created=!1;this._name="";this._customizations=new ob;this._customizations.set(q.SKIN,null);null;this._customizations.set(q.EYE,null);null;this._customizations.set(q.NOSE,null);null;this._customizations.set(q.MOUTH,null);null;this._customizations.set(q.HAIR,null);
null;this._customizations.set(q.FACE,null);null;this._customizations.set(q.TOP,null);null;this._customizations.set(q.BOTTOM,null);null;this._customizations.set(q.HAT,null);null;this._customizations.set(q.SHOES,null);null};m["com.nick.international.comic_creator.data.avatar.AvatarData"]=gc;gc.__name__="com,nick,international,comic_creator,data,avatar,AvatarData".split(",");gc.prototype={refresh:function(a,b,c){this._created=!0;this._name=a;this._gender=c;for(a=b.keys();a.hasNext();){var c=a.next(),
d=b.get(c);this._customizations.set(c,d);d}},get_created:function(){return this._created},set_created:function(a){return this._created=a},get_name:function(){return this._name},set_name:function(a){return this._name=a},get_customizations:function(){return this._customizations},get_gender:function(){return this._gender},set_gender:function(a){return this._gender=a},getQueryString:function(){var a="?&lhavtr";null!=this._customizations.get(q.SKIN)&&(a+="&s="+this._customizations.get(q.SKIN)[1]);null!=
this._customizations.get(q.EYE)&&(a+="&e="+this._customizations.get(q.EYE)[1]);null!=this._customizations.get(q.MOUTH)&&(a+="&m="+this._customizations.get(q.MOUTH)[1]);null!=this._customizations.get(q.NOSE)&&(a+="&n="+this._customizations.get(q.NOSE)[1]);null!=this._customizations.get(q.HAIR)&&(a+="&h="+this._customizations.get(q.HAIR)[1]);null!=this._customizations.get(q.FACE)&&(a+="&f="+this._customizations.get(q.FACE)[1]);null!=this._customizations.get(q.TOP)&&(a+="&t="+this._customizations.get(q.TOP)[1]);
null!=this._customizations.get(q.BOTTOM)&&(a+="&b="+this._customizations.get(q.BOTTOM)[1]);null!=this._customizations.get(q.HAT)&&(a+="&ha="+this._customizations.get(q.HAT)[1]);null!=this._customizations.get(q.SHOES)&&(a+="&sh="+this._customizations.get(q.SHOES)[1]);a+="&g="+this.get_gender()[1];return a+="&na="+ca.replace(this._name," ","_")},loadQueryString:function(){if(!(1>=window.location.href.split("?").length))for(var a=window.location.href.split("?")[1].split("&"),b=null,c=0,d=0;d<a.length;)if(b=
a[d],++d,b=b.split("="),!(1>=b.length))switch(c=C.parseInt(b[1]),b[0]){case "s":b=aa.createEnumIndex(e,c,null);this._customizations.set(q.SKIN,b);b;break;case "e":b=aa.createEnumIndex(e,c,null);this._customizations.set(q.EYE,b);b;break;case "m":b=aa.createEnumIndex(e,c,null);this._customizations.set(q.MOUTH,b);b;break;case "n":b=aa.createEnumIndex(e,c,null);this._customizations.set(q.NOSE,b);b;break;case "h":b=aa.createEnumIndex(e,c,null);this._customizations.set(q.HAIR,b);b;break;case "f":b=aa.createEnumIndex(e,
c,null);this._customizations.set(q.FACE,b);b;break;case "t":b=aa.createEnumIndex(e,c,null);this._customizations.set(q.TOP,b);b;break;case "b":b=aa.createEnumIndex(e,c,null);this._customizations.set(q.BOTTOM,b);b;break;case "ha":b=aa.createEnumIndex(e,c,null);this._customizations.set(q.HAT,b);b;break;case "sh":b=aa.createEnumIndex(e,c,null);this._customizations.set(q.SHOES,b);b;break;case "na":this._name=ca.replace(b[1],"_"," ");break;case "g":this.set_gender(aa.createEnumIndex(B,c,null))}},__class__:gc,
__properties__:{set_gender:"set_gender",get_gender:"get_gender",get_customizations:"get_customizations",set_name:"set_name",get_name:"get_name",set_created:"set_created",get_created:"get_created"}};var u=function(a,b){this.bone=a;this.name=b};m["com.nick.international.comic_creator.data.avatar.BoneAssignment"]=u;u.__name__="com,nick,international,comic_creator,data,avatar,BoneAssignment".split(",");u.prototype={__class__:u};var q=m["com.nick.international.comic_creator.data.avatar.ITEM_SLOT"]={__ename__:"com,nick,international,comic_creator,data,avatar,ITEM_SLOT".split(","),
__constructs__:"EYE,NOSE,MOUTH,HAIR,FACE,TOP,BOTTOM,SHOES,HAT,SKIN".split(",")};q.EYE=["EYE",0];q.EYE.toString=f;q.EYE.__enum__=q;q.NOSE=["NOSE",1];q.NOSE.toString=f;q.NOSE.__enum__=q;q.MOUTH=["MOUTH",2];q.MOUTH.toString=f;q.MOUTH.__enum__=q;q.HAIR=["HAIR",3];q.HAIR.toString=f;q.HAIR.__enum__=q;q.FACE=["FACE",4];q.FACE.toString=f;q.FACE.__enum__=q;q.TOP=["TOP",5];q.TOP.toString=f;q.TOP.__enum__=q;q.BOTTOM=["BOTTOM",6];q.BOTTOM.toString=f;q.BOTTOM.__enum__=q;q.SHOES=["SHOES",7];q.SHOES.toString=f;
q.SHOES.__enum__=q;q.HAT=["HAT",8];q.HAT.toString=f;q.HAT.__enum__=q;q.SKIN=["SKIN",9];q.SKIN.toString=f;q.SKIN.__enum__=q;q.__empty_constructs__=[q.EYE,q.NOSE,q.MOUTH,q.HAIR,q.FACE,q.TOP,q.BOTTOM,q.SHOES,q.HAT,q.SKIN];var $a=function(){};m["com.nick.international.comic_creator.data.avatar.ConstantsAvatar"]=$a;$a.__name__="com,nick,international,comic_creator,data,avatar,ConstantsAvatar".split(",");$a.getRandomItemForSlot=function(a,b){var c=qa.get_instance().getItemsForSlot(a,b);return c[k.get_instance().get_random().getRandomInt(0,
c.length-1)]};$a.isDarkHair=function(a){return a==e.HAIR_1_DARK||a==e.HAIR_2_DARK||a==e.HAIR_3_DARK||a==e.HAIR_4_DARK||a==e.HAIR_5_DARK||a==e.HAIR_6_DARK};$a.isMediumHair=function(a){return a==e.HAIR_1_MEDIUM||a==e.HAIR_2_MEDIUM||a==e.HAIR_3_MEDIUM||a==e.HAIR_4_MEDIUM||a==e.HAIR_5_MEDIUM||a==e.HAIR_6_MEDIUM};$a.getEmptyItemForSlot=function(a){switch(a[1]){case 8:return e.HAT_NONE;default:return null}};var B=m["com.nick.international.comic_creator.data.avatar.GENDER"]={__ename__:"com,nick,international,comic_creator,data,avatar,GENDER".split(","),
__constructs__:["MALE","FEMALE"]};B.MALE=["MALE",0];B.MALE.toString=f;B.MALE.__enum__=B;B.FEMALE=["FEMALE",1];B.FEMALE.toString=f;B.FEMALE.__enum__=B;B.__empty_constructs__=[B.MALE,B.FEMALE];var e=m["com.nick.international.comic_creator.data.avatar.ITEM"]={__ename__:"com,nick,international,comic_creator,data,avatar,ITEM".split(","),__constructs__:"EYE_1_1,EYE_1_2,EYE_1_3,EYE_1_4,EYE_2_1,EYE_2_2,EYE_2_3,EYE_2_4,EYE_3_1,EYE_3_2,EYE_3_3,EYE_3_4,MOUTH_1,MOUTH_2,MOUTH_3,MOUTH_4,MOUTH_5,MOUTH_6,MOUTH_1_LIPS,MOUTH_2_LIPS,MOUTH_3_LIPS,MOUTH_4_LIPS,MOUTH_5_LIPS,MOUTH_6_LIPS,NOSE_1,NOSE_2,NOSE_3,NOSE_4,HAIR_1_DARK,HAIR_1_MEDIUM,HAIR_1_LIGHT,HAIR_2_DARK,HAIR_2_MEDIUM,HAIR_2_LIGHT,HAIR_3_DARK,HAIR_3_MEDIUM,HAIR_3_LIGHT,HAIR_4_DARK,HAIR_4_MEDIUM,HAIR_4_LIGHT,HAIR_5_DARK,HAIR_5_MEDIUM,HAIR_5_LIGHT,HAIR_6_DARK,HAIR_6_MEDIUM,HAIR_6_LIGHT,HEAD_1,HEAD_2,HEAD_3,TOP_BASE_MALE,TOP_BASE_FEMALE,TOP_ALVIN_MALE,TOP_ALVIN_FEMALE,TOP_TMNT_MALE,TOP_TMNT_FEMALE,TOP_WAYNE_MALE,TOP_WAYNE_MALE_B,TOP_WAYNE_FEMALE,TOP_HENRYDANGER_MALE,TOP_HENRYDANGER_FEMALE,TOP_LOUDHOUSE_MALE,TOP_LOUDHOUSE_MALE_B,TOP_LOUDHOUSE_FEMALE,TOP_SPONGEBOB_MALE,TOP_SPONGEBOB_FEMALE,TOP_BUNSEN_MALE,TOP_BUNSEN_FEMALE,BOTTOM_BASE_MALE,BOTTOM_BASE_FEMALE,BOTTOM_ALVIN_MALE,BOTTOM_ALVIN_FEMALE,BOTTOM_TMNT_MALE,BOTTOM_TMNT_FEMALE,BOTTOM_WAYNE_MALE,BOTTOM_WAYNE_MALE_B,BOTTOM_WAYNE_FEMALE,BOTTOM_HENRYDANGER_MALE,BOTTOM_HENRYDANGER_FEMALE,BOTTOM_LOUDHOUSE_MALE,BOTTOM_LOUDHOUSE_MALE_B,BOTTOM_LOUDHOUSE_FEMALE,BOTTOM_SPONGEBOB_MALE,BOTTOM_SPONGEBOB_FEMALE,BOTTOM_BUNSEN_MALE,BOTTOM_BUNSEN_FEMALE,SHOES_BASE_MALE,SHOES_BASE_FEMALE,SHOES_ALVIN_MALE,SHOES_ALVIN_FEMALE,SHOES_TMNT_MALE,SHOES_TMNT_FEMALE,SHOES_WAYNE_MALE,SHOES_WAYNE_MALE_B,SHOES_WAYNE_FEMALE,SHOES_HENRYDANGER_MALE,SHOES_HENRYDANGER_FEMALE,SHOES_LOUDHOUSE_MALE,SHOES_LOUDHOUSE_MALE_B,SHOES_LOUDHOUSE_FEMALE,SHOES_SPONGEBOB_MALE,SHOES_SPONGEBOB_FEMALE,SHOES_BUNSEN_MALE,SHOES_BUNSEN_FEMALE,HAT_NONE,HAT_ALVIN_MALE,HAT_ALVIN_FEMALE,HAT_TMNT_MALE,HAT_TMNT_FEMALE,HAT_WAYNE_MALE,HAT_WAYNE_FEMALE,HAT_HENRYDANGER_MALE,HAT_HENRYDANGER_FEMALE,HAT_LOUDHOUSE_MALE,HAT_LOUDHOUSE_FEMALE,HAT_SPONGEBOB_MALE,HAT_SPONGEBOB_FEMALE,HAT_BUNSEN_MALE,HAT_BUNSEN_FEMALE,SKIN_1,SKIN_2,SKIN_3,SKIN_4".split(",")};
e.EYE_1_1=["EYE_1_1",0];e.EYE_1_1.toString=f;e.EYE_1_1.__enum__=e;e.EYE_1_2=["EYE_1_2",1];e.EYE_1_2.toString=f;e.EYE_1_2.__enum__=e;e.EYE_1_3=["EYE_1_3",2];e.EYE_1_3.toString=f;e.EYE_1_3.__enum__=e;e.EYE_1_4=["EYE_1_4",3];e.EYE_1_4.toString=f;e.EYE_1_4.__enum__=e;e.EYE_2_1=["EYE_2_1",4];e.EYE_2_1.toString=f;e.EYE_2_1.__enum__=e;e.EYE_2_2=["EYE_2_2",5];e.EYE_2_2.toString=f;e.EYE_2_2.__enum__=e;e.EYE_2_3=["EYE_2_3",6];e.EYE_2_3.toString=f;e.EYE_2_3.__enum__=e;e.EYE_2_4=["EYE_2_4",7];e.EYE_2_4.toString=
f;e.EYE_2_4.__enum__=e;e.EYE_3_1=["EYE_3_1",8];e.EYE_3_1.toString=f;e.EYE_3_1.__enum__=e;e.EYE_3_2=["EYE_3_2",9];e.EYE_3_2.toString=f;e.EYE_3_2.__enum__=e;e.EYE_3_3=["EYE_3_3",10];e.EYE_3_3.toString=f;e.EYE_3_3.__enum__=e;e.EYE_3_4=["EYE_3_4",11];e.EYE_3_4.toString=f;e.EYE_3_4.__enum__=e;e.MOUTH_1=["MOUTH_1",12];e.MOUTH_1.toString=f;e.MOUTH_1.__enum__=e;e.MOUTH_2=["MOUTH_2",13];e.MOUTH_2.toString=f;e.MOUTH_2.__enum__=e;e.MOUTH_3=["MOUTH_3",14];e.MOUTH_3.toString=f;e.MOUTH_3.__enum__=e;e.MOUTH_4=["MOUTH_4",
15];e.MOUTH_4.toString=f;e.MOUTH_4.__enum__=e;e.MOUTH_5=["MOUTH_5",16];e.MOUTH_5.toString=f;e.MOUTH_5.__enum__=e;e.MOUTH_6=["MOUTH_6",17];e.MOUTH_6.toString=f;e.MOUTH_6.__enum__=e;e.MOUTH_1_LIPS=["MOUTH_1_LIPS",18];e.MOUTH_1_LIPS.toString=f;e.MOUTH_1_LIPS.__enum__=e;e.MOUTH_2_LIPS=["MOUTH_2_LIPS",19];e.MOUTH_2_LIPS.toString=f;e.MOUTH_2_LIPS.__enum__=e;e.MOUTH_3_LIPS=["MOUTH_3_LIPS",20];e.MOUTH_3_LIPS.toString=f;e.MOUTH_3_LIPS.__enum__=e;e.MOUTH_4_LIPS=["MOUTH_4_LIPS",21];e.MOUTH_4_LIPS.toString=f;
e.MOUTH_4_LIPS.__enum__=e;e.MOUTH_5_LIPS=["MOUTH_5_LIPS",22];e.MOUTH_5_LIPS.toString=f;e.MOUTH_5_LIPS.__enum__=e;e.MOUTH_6_LIPS=["MOUTH_6_LIPS",23];e.MOUTH_6_LIPS.toString=f;e.MOUTH_6_LIPS.__enum__=e;e.NOSE_1=["NOSE_1",24];e.NOSE_1.toString=f;e.NOSE_1.__enum__=e;e.NOSE_2=["NOSE_2",25];e.NOSE_2.toString=f;e.NOSE_2.__enum__=e;e.NOSE_3=["NOSE_3",26];e.NOSE_3.toString=f;e.NOSE_3.__enum__=e;e.NOSE_4=["NOSE_4",27];e.NOSE_4.toString=f;e.NOSE_4.__enum__=e;e.HAIR_1_DARK=["HAIR_1_DARK",28];e.HAIR_1_DARK.toString=
f;e.HAIR_1_DARK.__enum__=e;e.HAIR_1_MEDIUM=["HAIR_1_MEDIUM",29];e.HAIR_1_MEDIUM.toString=f;e.HAIR_1_MEDIUM.__enum__=e;e.HAIR_1_LIGHT=["HAIR_1_LIGHT",30];e.HAIR_1_LIGHT.toString=f;e.HAIR_1_LIGHT.__enum__=e;e.HAIR_2_DARK=["HAIR_2_DARK",31];e.HAIR_2_DARK.toString=f;e.HAIR_2_DARK.__enum__=e;e.HAIR_2_MEDIUM=["HAIR_2_MEDIUM",32];e.HAIR_2_MEDIUM.toString=f;e.HAIR_2_MEDIUM.__enum__=e;e.HAIR_2_LIGHT=["HAIR_2_LIGHT",33];e.HAIR_2_LIGHT.toString=f;e.HAIR_2_LIGHT.__enum__=e;e.HAIR_3_DARK=["HAIR_3_DARK",34];e.HAIR_3_DARK.toString=
f;e.HAIR_3_DARK.__enum__=e;e.HAIR_3_MEDIUM=["HAIR_3_MEDIUM",35];e.HAIR_3_MEDIUM.toString=f;e.HAIR_3_MEDIUM.__enum__=e;e.HAIR_3_LIGHT=["HAIR_3_LIGHT",36];e.HAIR_3_LIGHT.toString=f;e.HAIR_3_LIGHT.__enum__=e;e.HAIR_4_DARK=["HAIR_4_DARK",37];e.HAIR_4_DARK.toString=f;e.HAIR_4_DARK.__enum__=e;e.HAIR_4_MEDIUM=["HAIR_4_MEDIUM",38];e.HAIR_4_MEDIUM.toString=f;e.HAIR_4_MEDIUM.__enum__=e;e.HAIR_4_LIGHT=["HAIR_4_LIGHT",39];e.HAIR_4_LIGHT.toString=f;e.HAIR_4_LIGHT.__enum__=e;e.HAIR_5_DARK=["HAIR_5_DARK",40];e.HAIR_5_DARK.toString=
f;e.HAIR_5_DARK.__enum__=e;e.HAIR_5_MEDIUM=["HAIR_5_MEDIUM",41];e.HAIR_5_MEDIUM.toString=f;e.HAIR_5_MEDIUM.__enum__=e;e.HAIR_5_LIGHT=["HAIR_5_LIGHT",42];e.HAIR_5_LIGHT.toString=f;e.HAIR_5_LIGHT.__enum__=e;e.HAIR_6_DARK=["HAIR_6_DARK",43];e.HAIR_6_DARK.toString=f;e.HAIR_6_DARK.__enum__=e;e.HAIR_6_MEDIUM=["HAIR_6_MEDIUM",44];e.HAIR_6_MEDIUM.toString=f;e.HAIR_6_MEDIUM.__enum__=e;e.HAIR_6_LIGHT=["HAIR_6_LIGHT",45];e.HAIR_6_LIGHT.toString=f;e.HAIR_6_LIGHT.__enum__=e;e.HEAD_1=["HEAD_1",46];e.HEAD_1.toString=
f;e.HEAD_1.__enum__=e;e.HEAD_2=["HEAD_2",47];e.HEAD_2.toString=f;e.HEAD_2.__enum__=e;e.HEAD_3=["HEAD_3",48];e.HEAD_3.toString=f;e.HEAD_3.__enum__=e;e.TOP_BASE_MALE=["TOP_BASE_MALE",49];e.TOP_BASE_MALE.toString=f;e.TOP_BASE_MALE.__enum__=e;e.TOP_BASE_FEMALE=["TOP_BASE_FEMALE",50];e.TOP_BASE_FEMALE.toString=f;e.TOP_BASE_FEMALE.__enum__=e;e.TOP_ALVIN_MALE=["TOP_ALVIN_MALE",51];e.TOP_ALVIN_MALE.toString=f;e.TOP_ALVIN_MALE.__enum__=e;e.TOP_ALVIN_FEMALE=["TOP_ALVIN_FEMALE",52];e.TOP_ALVIN_FEMALE.toString=
f;e.TOP_ALVIN_FEMALE.__enum__=e;e.TOP_TMNT_MALE=["TOP_TMNT_MALE",53];e.TOP_TMNT_MALE.toString=f;e.TOP_TMNT_MALE.__enum__=e;e.TOP_TMNT_FEMALE=["TOP_TMNT_FEMALE",54];e.TOP_TMNT_FEMALE.toString=f;e.TOP_TMNT_FEMALE.__enum__=e;e.TOP_WAYNE_MALE=["TOP_WAYNE_MALE",55];e.TOP_WAYNE_MALE.toString=f;e.TOP_WAYNE_MALE.__enum__=e;e.TOP_WAYNE_MALE_B=["TOP_WAYNE_MALE_B",56];e.TOP_WAYNE_MALE_B.toString=f;e.TOP_WAYNE_MALE_B.__enum__=e;e.TOP_WAYNE_FEMALE=["TOP_WAYNE_FEMALE",57];e.TOP_WAYNE_FEMALE.toString=f;e.TOP_WAYNE_FEMALE.__enum__=
e;e.TOP_HENRYDANGER_MALE=["TOP_HENRYDANGER_MALE",58];e.TOP_HENRYDANGER_MALE.toString=f;e.TOP_HENRYDANGER_MALE.__enum__=e;e.TOP_HENRYDANGER_FEMALE=["TOP_HENRYDANGER_FEMALE",59];e.TOP_HENRYDANGER_FEMALE.toString=f;e.TOP_HENRYDANGER_FEMALE.__enum__=e;e.TOP_LOUDHOUSE_MALE=["TOP_LOUDHOUSE_MALE",60];e.TOP_LOUDHOUSE_MALE.toString=f;e.TOP_LOUDHOUSE_MALE.__enum__=e;e.TOP_LOUDHOUSE_MALE_B=["TOP_LOUDHOUSE_MALE_B",61];e.TOP_LOUDHOUSE_MALE_B.toString=f;e.TOP_LOUDHOUSE_MALE_B.__enum__=e;e.TOP_LOUDHOUSE_FEMALE=
["TOP_LOUDHOUSE_FEMALE",62];e.TOP_LOUDHOUSE_FEMALE.toString=f;e.TOP_LOUDHOUSE_FEMALE.__enum__=e;e.TOP_SPONGEBOB_MALE=["TOP_SPONGEBOB_MALE",63];e.TOP_SPONGEBOB_MALE.toString=f;e.TOP_SPONGEBOB_MALE.__enum__=e;e.TOP_SPONGEBOB_FEMALE=["TOP_SPONGEBOB_FEMALE",64];e.TOP_SPONGEBOB_FEMALE.toString=f;e.TOP_SPONGEBOB_FEMALE.__enum__=e;e.TOP_BUNSEN_MALE=["TOP_BUNSEN_MALE",65];e.TOP_BUNSEN_MALE.toString=f;e.TOP_BUNSEN_MALE.__enum__=e;e.TOP_BUNSEN_FEMALE=["TOP_BUNSEN_FEMALE",66];e.TOP_BUNSEN_FEMALE.toString=f;
e.TOP_BUNSEN_FEMALE.__enum__=e;e.BOTTOM_BASE_MALE=["BOTTOM_BASE_MALE",67];e.BOTTOM_BASE_MALE.toString=f;e.BOTTOM_BASE_MALE.__enum__=e;e.BOTTOM_BASE_FEMALE=["BOTTOM_BASE_FEMALE",68];e.BOTTOM_BASE_FEMALE.toString=f;e.BOTTOM_BASE_FEMALE.__enum__=e;e.BOTTOM_ALVIN_MALE=["BOTTOM_ALVIN_MALE",69];e.BOTTOM_ALVIN_MALE.toString=f;e.BOTTOM_ALVIN_MALE.__enum__=e;e.BOTTOM_ALVIN_FEMALE=["BOTTOM_ALVIN_FEMALE",70];e.BOTTOM_ALVIN_FEMALE.toString=f;e.BOTTOM_ALVIN_FEMALE.__enum__=e;e.BOTTOM_TMNT_MALE=["BOTTOM_TMNT_MALE",
71];e.BOTTOM_TMNT_MALE.toString=f;e.BOTTOM_TMNT_MALE.__enum__=e;e.BOTTOM_TMNT_FEMALE=["BOTTOM_TMNT_FEMALE",72];e.BOTTOM_TMNT_FEMALE.toString=f;e.BOTTOM_TMNT_FEMALE.__enum__=e;e.BOTTOM_WAYNE_MALE=["BOTTOM_WAYNE_MALE",73];e.BOTTOM_WAYNE_MALE.toString=f;e.BOTTOM_WAYNE_MALE.__enum__=e;e.BOTTOM_WAYNE_MALE_B=["BOTTOM_WAYNE_MALE_B",74];e.BOTTOM_WAYNE_MALE_B.toString=f;e.BOTTOM_WAYNE_MALE_B.__enum__=e;e.BOTTOM_WAYNE_FEMALE=["BOTTOM_WAYNE_FEMALE",75];e.BOTTOM_WAYNE_FEMALE.toString=f;e.BOTTOM_WAYNE_FEMALE.__enum__=
e;e.BOTTOM_HENRYDANGER_MALE=["BOTTOM_HENRYDANGER_MALE",76];e.BOTTOM_HENRYDANGER_MALE.toString=f;e.BOTTOM_HENRYDANGER_MALE.__enum__=e;e.BOTTOM_HENRYDANGER_FEMALE=["BOTTOM_HENRYDANGER_FEMALE",77];e.BOTTOM_HENRYDANGER_FEMALE.toString=f;e.BOTTOM_HENRYDANGER_FEMALE.__enum__=e;e.BOTTOM_LOUDHOUSE_MALE=["BOTTOM_LOUDHOUSE_MALE",78];e.BOTTOM_LOUDHOUSE_MALE.toString=f;e.BOTTOM_LOUDHOUSE_MALE.__enum__=e;e.BOTTOM_LOUDHOUSE_MALE_B=["BOTTOM_LOUDHOUSE_MALE_B",79];e.BOTTOM_LOUDHOUSE_MALE_B.toString=f;e.BOTTOM_LOUDHOUSE_MALE_B.__enum__=
e;e.BOTTOM_LOUDHOUSE_FEMALE=["BOTTOM_LOUDHOUSE_FEMALE",80];e.BOTTOM_LOUDHOUSE_FEMALE.toString=f;e.BOTTOM_LOUDHOUSE_FEMALE.__enum__=e;e.BOTTOM_SPONGEBOB_MALE=["BOTTOM_SPONGEBOB_MALE",81];e.BOTTOM_SPONGEBOB_MALE.toString=f;e.BOTTOM_SPONGEBOB_MALE.__enum__=e;e.BOTTOM_SPONGEBOB_FEMALE=["BOTTOM_SPONGEBOB_FEMALE",82];e.BOTTOM_SPONGEBOB_FEMALE.toString=f;e.BOTTOM_SPONGEBOB_FEMALE.__enum__=e;e.BOTTOM_BUNSEN_MALE=["BOTTOM_BUNSEN_MALE",83];e.BOTTOM_BUNSEN_MALE.toString=f;e.BOTTOM_BUNSEN_MALE.__enum__=e;e.BOTTOM_BUNSEN_FEMALE=
["BOTTOM_BUNSEN_FEMALE",84];e.BOTTOM_BUNSEN_FEMALE.toString=f;e.BOTTOM_BUNSEN_FEMALE.__enum__=e;e.SHOES_BASE_MALE=["SHOES_BASE_MALE",85];e.SHOES_BASE_MALE.toString=f;e.SHOES_BASE_MALE.__enum__=e;e.SHOES_BASE_FEMALE=["SHOES_BASE_FEMALE",86];e.SHOES_BASE_FEMALE.toString=f;e.SHOES_BASE_FEMALE.__enum__=e;e.SHOES_ALVIN_MALE=["SHOES_ALVIN_MALE",87];e.SHOES_ALVIN_MALE.toString=f;e.SHOES_ALVIN_MALE.__enum__=e;e.SHOES_ALVIN_FEMALE=["SHOES_ALVIN_FEMALE",88];e.SHOES_ALVIN_FEMALE.toString=f;e.SHOES_ALVIN_FEMALE.__enum__=
e;e.SHOES_TMNT_MALE=["SHOES_TMNT_MALE",89];e.SHOES_TMNT_MALE.toString=f;e.SHOES_TMNT_MALE.__enum__=e;e.SHOES_TMNT_FEMALE=["SHOES_TMNT_FEMALE",90];e.SHOES_TMNT_FEMALE.toString=f;e.SHOES_TMNT_FEMALE.__enum__=e;e.SHOES_WAYNE_MALE=["SHOES_WAYNE_MALE",91];e.SHOES_WAYNE_MALE.toString=f;e.SHOES_WAYNE_MALE.__enum__=e;e.SHOES_WAYNE_MALE_B=["SHOES_WAYNE_MALE_B",92];e.SHOES_WAYNE_MALE_B.toString=f;e.SHOES_WAYNE_MALE_B.__enum__=e;e.SHOES_WAYNE_FEMALE=["SHOES_WAYNE_FEMALE",93];e.SHOES_WAYNE_FEMALE.toString=f;
e.SHOES_WAYNE_FEMALE.__enum__=e;e.SHOES_HENRYDANGER_MALE=["SHOES_HENRYDANGER_MALE",94];e.SHOES_HENRYDANGER_MALE.toString=f;e.SHOES_HENRYDANGER_MALE.__enum__=e;e.SHOES_HENRYDANGER_FEMALE=["SHOES_HENRYDANGER_FEMALE",95];e.SHOES_HENRYDANGER_FEMALE.toString=f;e.SHOES_HENRYDANGER_FEMALE.__enum__=e;e.SHOES_LOUDHOUSE_MALE=["SHOES_LOUDHOUSE_MALE",96];e.SHOES_LOUDHOUSE_MALE.toString=f;e.SHOES_LOUDHOUSE_MALE.__enum__=e;e.SHOES_LOUDHOUSE_MALE_B=["SHOES_LOUDHOUSE_MALE_B",97];e.SHOES_LOUDHOUSE_MALE_B.toString=
f;e.SHOES_LOUDHOUSE_MALE_B.__enum__=e;e.SHOES_LOUDHOUSE_FEMALE=["SHOES_LOUDHOUSE_FEMALE",98];e.SHOES_LOUDHOUSE_FEMALE.toString=f;e.SHOES_LOUDHOUSE_FEMALE.__enum__=e;e.SHOES_SPONGEBOB_MALE=["SHOES_SPONGEBOB_MALE",99];e.SHOES_SPONGEBOB_MALE.toString=f;e.SHOES_SPONGEBOB_MALE.__enum__=e;e.SHOES_SPONGEBOB_FEMALE=["SHOES_SPONGEBOB_FEMALE",100];e.SHOES_SPONGEBOB_FEMALE.toString=f;e.SHOES_SPONGEBOB_FEMALE.__enum__=e;e.SHOES_BUNSEN_MALE=["SHOES_BUNSEN_MALE",101];e.SHOES_BUNSEN_MALE.toString=f;e.SHOES_BUNSEN_MALE.__enum__=
e;e.SHOES_BUNSEN_FEMALE=["SHOES_BUNSEN_FEMALE",102];e.SHOES_BUNSEN_FEMALE.toString=f;e.SHOES_BUNSEN_FEMALE.__enum__=e;e.HAT_NONE=["HAT_NONE",103];e.HAT_NONE.toString=f;e.HAT_NONE.__enum__=e;e.HAT_ALVIN_MALE=["HAT_ALVIN_MALE",104];e.HAT_ALVIN_MALE.toString=f;e.HAT_ALVIN_MALE.__enum__=e;e.HAT_ALVIN_FEMALE=["HAT_ALVIN_FEMALE",105];e.HAT_ALVIN_FEMALE.toString=f;e.HAT_ALVIN_FEMALE.__enum__=e;e.HAT_TMNT_MALE=["HAT_TMNT_MALE",106];e.HAT_TMNT_MALE.toString=f;e.HAT_TMNT_MALE.__enum__=e;e.HAT_TMNT_FEMALE=["HAT_TMNT_FEMALE",
107];e.HAT_TMNT_FEMALE.toString=f;e.HAT_TMNT_FEMALE.__enum__=e;e.HAT_WAYNE_MALE=["HAT_WAYNE_MALE",108];e.HAT_WAYNE_MALE.toString=f;e.HAT_WAYNE_MALE.__enum__=e;e.HAT_WAYNE_FEMALE=["HAT_WAYNE_FEMALE",109];e.HAT_WAYNE_FEMALE.toString=f;e.HAT_WAYNE_FEMALE.__enum__=e;e.HAT_HENRYDANGER_MALE=["HAT_HENRYDANGER_MALE",110];e.HAT_HENRYDANGER_MALE.toString=f;e.HAT_HENRYDANGER_MALE.__enum__=e;e.HAT_HENRYDANGER_FEMALE=["HAT_HENRYDANGER_FEMALE",111];e.HAT_HENRYDANGER_FEMALE.toString=f;e.HAT_HENRYDANGER_FEMALE.__enum__=
e;e.HAT_LOUDHOUSE_MALE=["HAT_LOUDHOUSE_MALE",112];e.HAT_LOUDHOUSE_MALE.toString=f;e.HAT_LOUDHOUSE_MALE.__enum__=e;e.HAT_LOUDHOUSE_FEMALE=["HAT_LOUDHOUSE_FEMALE",113];e.HAT_LOUDHOUSE_FEMALE.toString=f;e.HAT_LOUDHOUSE_FEMALE.__enum__=e;e.HAT_SPONGEBOB_MALE=["HAT_SPONGEBOB_MALE",114];e.HAT_SPONGEBOB_MALE.toString=f;e.HAT_SPONGEBOB_MALE.__enum__=e;e.HAT_SPONGEBOB_FEMALE=["HAT_SPONGEBOB_FEMALE",115];e.HAT_SPONGEBOB_FEMALE.toString=f;e.HAT_SPONGEBOB_FEMALE.__enum__=e;e.HAT_BUNSEN_MALE=["HAT_BUNSEN_MALE",
116];e.HAT_BUNSEN_MALE.toString=f;e.HAT_BUNSEN_MALE.__enum__=e;e.HAT_BUNSEN_FEMALE=["HAT_BUNSEN_FEMALE",117];e.HAT_BUNSEN_FEMALE.toString=f;e.HAT_BUNSEN_FEMALE.__enum__=e;e.SKIN_1=["SKIN_1",118];e.SKIN_1.toString=f;e.SKIN_1.__enum__=e;e.SKIN_2=["SKIN_2",119];e.SKIN_2.toString=f;e.SKIN_2.__enum__=e;e.SKIN_3=["SKIN_3",120];e.SKIN_3.toString=f;e.SKIN_3.__enum__=e;e.SKIN_4=["SKIN_4",121];e.SKIN_4.toString=f;e.SKIN_4.__enum__=e;e.__empty_constructs__=[e.EYE_1_1,e.EYE_1_2,e.EYE_1_3,e.EYE_1_4,e.EYE_2_1,
e.EYE_2_2,e.EYE_2_3,e.EYE_2_4,e.EYE_3_1,e.EYE_3_2,e.EYE_3_3,e.EYE_3_4,e.MOUTH_1,e.MOUTH_2,e.MOUTH_3,e.MOUTH_4,e.MOUTH_5,e.MOUTH_6,e.MOUTH_1_LIPS,e.MOUTH_2_LIPS,e.MOUTH_3_LIPS,e.MOUTH_4_LIPS,e.MOUTH_5_LIPS,e.MOUTH_6_LIPS,e.NOSE_1,e.NOSE_2,e.NOSE_3,e.NOSE_4,e.HAIR_1_DARK,e.HAIR_1_MEDIUM,e.HAIR_1_LIGHT,e.HAIR_2_DARK,e.HAIR_2_MEDIUM,e.HAIR_2_LIGHT,e.HAIR_3_DARK,e.HAIR_3_MEDIUM,e.HAIR_3_LIGHT,e.HAIR_4_DARK,e.HAIR_4_MEDIUM,e.HAIR_4_LIGHT,e.HAIR_5_DARK,e.HAIR_5_MEDIUM,e.HAIR_5_LIGHT,e.HAIR_6_DARK,e.HAIR_6_MEDIUM,
e.HAIR_6_LIGHT,e.HEAD_1,e.HEAD_2,e.HEAD_3,e.TOP_BASE_MALE,e.TOP_BASE_FEMALE,e.TOP_ALVIN_MALE,e.TOP_ALVIN_FEMALE,e.TOP_TMNT_MALE,e.TOP_TMNT_FEMALE,e.TOP_WAYNE_MALE,e.TOP_WAYNE_MALE_B,e.TOP_WAYNE_FEMALE,e.TOP_HENRYDANGER_MALE,e.TOP_HENRYDANGER_FEMALE,e.TOP_LOUDHOUSE_MALE,e.TOP_LOUDHOUSE_MALE_B,e.TOP_LOUDHOUSE_FEMALE,e.TOP_SPONGEBOB_MALE,e.TOP_SPONGEBOB_FEMALE,e.TOP_BUNSEN_MALE,e.TOP_BUNSEN_FEMALE,e.BOTTOM_BASE_MALE,e.BOTTOM_BASE_FEMALE,e.BOTTOM_ALVIN_MALE,e.BOTTOM_ALVIN_FEMALE,e.BOTTOM_TMNT_MALE,e.BOTTOM_TMNT_FEMALE,
e.BOTTOM_WAYNE_MALE,e.BOTTOM_WAYNE_MALE_B,e.BOTTOM_WAYNE_FEMALE,e.BOTTOM_HENRYDANGER_MALE,e.BOTTOM_HENRYDANGER_FEMALE,e.BOTTOM_LOUDHOUSE_MALE,e.BOTTOM_LOUDHOUSE_MALE_B,e.BOTTOM_LOUDHOUSE_FEMALE,e.BOTTOM_SPONGEBOB_MALE,e.BOTTOM_SPONGEBOB_FEMALE,e.BOTTOM_BUNSEN_MALE,e.BOTTOM_BUNSEN_FEMALE,e.SHOES_BASE_MALE,e.SHOES_BASE_FEMALE,e.SHOES_ALVIN_MALE,e.SHOES_ALVIN_FEMALE,e.SHOES_TMNT_MALE,e.SHOES_TMNT_FEMALE,e.SHOES_WAYNE_MALE,e.SHOES_WAYNE_MALE_B,e.SHOES_WAYNE_FEMALE,e.SHOES_HENRYDANGER_MALE,e.SHOES_HENRYDANGER_FEMALE,
e.SHOES_LOUDHOUSE_MALE,e.SHOES_LOUDHOUSE_MALE_B,e.SHOES_LOUDHOUSE_FEMALE,e.SHOES_SPONGEBOB_MALE,e.SHOES_SPONGEBOB_FEMALE,e.SHOES_BUNSEN_MALE,e.SHOES_BUNSEN_FEMALE,e.HAT_NONE,e.HAT_ALVIN_MALE,e.HAT_ALVIN_FEMALE,e.HAT_TMNT_MALE,e.HAT_TMNT_FEMALE,e.HAT_WAYNE_MALE,e.HAT_WAYNE_FEMALE,e.HAT_HENRYDANGER_MALE,e.HAT_HENRYDANGER_FEMALE,e.HAT_LOUDHOUSE_MALE,e.HAT_LOUDHOUSE_FEMALE,e.HAT_SPONGEBOB_MALE,e.HAT_SPONGEBOB_FEMALE,e.HAT_BUNSEN_MALE,e.HAT_BUNSEN_FEMALE,e.SKIN_1,e.SKIN_2,e.SKIN_3,e.SKIN_4];var A=function(a,
b,c,d){this._slot=a;this._thumbnail=c;this._boneAssignments=d;this._gender=b};m["com.nick.international.comic_creator.data.avatar.ItemDef"]=A;A.__name__="com,nick,international,comic_creator,data,avatar,ItemDef".split(",");A.prototype={setID:function(a){this._id=a},get_id:function(){return this._id},get_slot:function(){return this._slot},get_thumbnail:function(){return this._thumbnail},get_boneAssignments:function(){return this._boneAssignments},get_gender:function(){return this._gender},__class__:A,
__properties__:{get_gender:"get_gender",get_boneAssignments:"get_boneAssignments",get_thumbnail:"get_thumbnail",get_slot:"get_slot",get_id:"get_id"}};var qa=function(){this._populateItems()};m["com.nick.international.comic_creator.data.avatar.Outfitter"]=qa;qa.__name__="com,nick,international,comic_creator,data,avatar,Outfitter".split(",");qa.__properties__={get_instance:"get_instance"};qa.get_instance=function(){null==qa.__instance&&(qa.__instance=new qa);return qa.__instance};qa.prototype={_populateItems:function(){this._items=
new ob;this._addItem(e.EYE_1_1,new A(q.EYE,null,h.texture.eyes_1_blue,[new u(h.spine.avatar.slots.eyes,"eyes_1_blue")]));this._addItem(e.EYE_1_2,new A(q.EYE,null,h.texture.eyes_1_brown,[new u(h.spine.avatar.slots.eyes,"eyes_1_brown")]));this._addItem(e.EYE_1_3,new A(q.EYE,null,h.texture.eyes_1_gray,[new u(h.spine.avatar.slots.eyes,"eyes_1_gray")]));this._addItem(e.EYE_1_4,new A(q.EYE,null,h.texture.eyes_1_green,[new u(h.spine.avatar.slots.eyes,"eyes_1_green")]));this._addItem(e.EYE_2_1,new A(q.EYE,
null,h.texture.eyes_2_blue,[new u(h.spine.avatar.slots.eyes,"eyes_2_blue")]));this._addItem(e.EYE_2_2,new A(q.EYE,null,h.texture.eyes_2_brown,[new u(h.spine.avatar.slots.eyes,"eyes_2_brown")]));this._addItem(e.EYE_2_3,new A(q.EYE,null,h.texture.eyes_2_gray,[new u(h.spine.avatar.slots.eyes,"eyes_2_gray")]));this._addItem(e.EYE_2_4,new A(q.EYE,null,h.texture.eyes_2_green,[new u(h.spine.avatar.slots.eyes,"eyes_2_green")]));this._addItem(e.EYE_3_1,new A(q.EYE,null,h.texture.eyes_3_blue,[new u(h.spine.avatar.slots.eyes,
"eyes_3_blue")]));this._addItem(e.EYE_3_2,new A(q.EYE,null,h.texture.eyes_3_brown,[new u(h.spine.avatar.slots.eyes,"eyes_3_brown")]));this._addItem(e.EYE_3_3,new A(q.EYE,null,h.texture.eyes_3_gray,[new u(h.spine.avatar.slots.eyes,"eyes_3_gray")]));this._addItem(e.EYE_3_4,new A(q.EYE,null,h.texture.eyes_3_green,[new u(h.spine.avatar.slots.eyes,"eyes_3_green")]));this._addItem(e.MOUTH_1,new A(q.MOUTH,B.MALE,h.texture.mouth_1_male,[new u(h.spine.avatar.slots.mouth,"mouth_1_male")]));this._addItem(e.MOUTH_2,
new A(q.MOUTH,B.MALE,h.texture.mouth_2_male,[new u(h.spine.avatar.slots.mouth,"mouth_2_male")]));this._addItem(e.MOUTH_3,new A(q.MOUTH,B.MALE,h.texture.mouth_3_male,[new u(h.spine.avatar.slots.mouth,"mouth_3_male")]));this._addItem(e.MOUTH_4,new A(q.MOUTH,B.MALE,h.texture.mouth_4_male,[new u(h.spine.avatar.slots.mouth,"mouth_4_male")]));this._addItem(e.MOUTH_5,new A(q.MOUTH,B.MALE,h.texture.mouth_5_male,[new u(h.spine.avatar.slots.mouth,"mouth_5_male")]));this._addItem(e.MOUTH_6,new A(q.MOUTH,B.MALE,
h.texture.mouth_6_male,[new u(h.spine.avatar.slots.mouth,"mouth_6_male")]));this._addItem(e.MOUTH_1_LIPS,new A(q.MOUTH,B.FEMALE,h.texture.mouth_1_female,[new u(h.spine.avatar.slots.mouth,"mouth_1_female")]));this._addItem(e.MOUTH_2_LIPS,new A(q.MOUTH,B.FEMALE,h.texture.mouth_2_female,[new u(h.spine.avatar.slots.mouth,"mouth_2_female")]));this._addItem(e.MOUTH_3_LIPS,new A(q.MOUTH,B.FEMALE,h.texture.mouth_3_female,[new u(h.spine.avatar.slots.mouth,"mouth_3_female")]));this._addItem(e.MOUTH_4_LIPS,
new A(q.MOUTH,B.FEMALE,h.texture.mouth_4_female,[new u(h.spine.avatar.slots.mouth,"mouth_4_female")]));this._addItem(e.MOUTH_5_LIPS,new A(q.MOUTH,B.FEMALE,h.texture.mouth_5_female,[new u(h.spine.avatar.slots.mouth,"mouth_5_female")]));this._addItem(e.MOUTH_6_LIPS,new A(q.MOUTH,B.FEMALE,h.texture.mouth_6_female,[new u(h.spine.avatar.slots.mouth,"mouth_6_female")]));this._addItem(e.NOSE_1,new A(q.NOSE,null,h.texture.nose_1,[new u(h.spine.avatar.slots.nose,"nose_1")]));this._addItem(e.NOSE_2,new A(q.NOSE,
null,h.texture.nose_2,[new u(h.spine.avatar.slots.nose,"nose_2")]));this._addItem(e.NOSE_3,new A(q.NOSE,null,h.texture.nose_3,[new u(h.spine.avatar.slots.nose,"nose_3")]));this._addItem(e.NOSE_4,new A(q.NOSE,null,h.texture.nose_4,[new u(h.spine.avatar.slots.nose,"nose_4")]));this._addItem(e.HEAD_1,new A(q.FACE,null,h.texture.head_1_brown,[new u(h.spine.avatar.slots.head_1,"head_1"),new u(h.spine.avatar.slots.head_2,null),new u(h.spine.avatar.slots.head_3,null)]));this._addItem(e.HEAD_2,new A(q.FACE,
null,h.texture.head_2_brown,[new u(h.spine.avatar.slots.head_2,"head_2"),new u(h.spine.avatar.slots.head_1,null),new u(h.spine.avatar.slots.head_3,null)]));this._addItem(e.HEAD_3,new A(q.FACE,null,h.texture.head_3_brown,[new u(h.spine.avatar.slots.head_3,"head_3"),new u(h.spine.avatar.slots.head_1,null),new u(h.spine.avatar.slots.head_2,null)]));this._addItem(e.HAIR_1_DARK,new A(q.HAIR,B.MALE,h.texture.thumbnail_hair_1_dark,[new u(h.spine.avatar.slots.hair_front,"hair_front_1_dark"),new u(h.spine.avatar.slots.hair_back,
null)]));this._addItem(e.HAIR_1_MEDIUM,new A(q.HAIR,B.MALE,h.texture.thumbnail_hair_1_medium,[new u(h.spine.avatar.slots.hair_front,"hair_front_1_medium"),new u(h.spine.avatar.slots.hair_back,null)]));this._addItem(e.HAIR_1_LIGHT,new A(q.HAIR,B.MALE,h.texture.thumbnail_hair_1_light,[new u(h.spine.avatar.slots.hair_front,"hair_front_1_light"),new u(h.spine.avatar.slots.hair_back,null)]));this._addItem(e.HAIR_2_DARK,new A(q.HAIR,B.MALE,h.texture.thumbnail_hair_2_dark,[new u(h.spine.avatar.slots.hair_front,
"hair_front_2_dark"),new u(h.spine.avatar.slots.hair_back,null)]));this._addItem(e.HAIR_2_MEDIUM,new A(q.HAIR,B.MALE,h.texture.thumbnail_hair_2_medium,[new u(h.spine.avatar.slots.hair_front,"hair_front_2_medium"),new u(h.spine.avatar.slots.hair_back,null)]));this._addItem(e.HAIR_2_LIGHT,new A(q.HAIR,B.MALE,h.texture.thumbnail_hair_2_light,[new u(h.spine.avatar.slots.hair_front,"hair_front_2_light"),new u(h.spine.avatar.slots.hair_back,null)]));this._addItem(e.HAIR_5_DARK,new A(q.HAIR,B.MALE,h.texture.thumbnail_hair_5_dark,
[new u(h.spine.avatar.slots.hair_front,"hair_front_5_dark"),new u(h.spine.avatar.slots.hair_back,null)]));this._addItem(e.HAIR_5_MEDIUM,new A(q.HAIR,B.MALE,h.texture.thumbnail_hair_5_medium,[new u(h.spine.avatar.slots.hair_front,"hair_front_5_medium"),new u(h.spine.avatar.slots.hair_back,null)]));this._addItem(e.HAIR_5_LIGHT,new A(q.HAIR,B.MALE,h.texture.thumbnail_hair_5_light,[new u(h.spine.avatar.slots.hair_front,"hair_front_5_light"),new u(h.spine.avatar.slots.hair_back,null)]));this._addItem(e.HAIR_3_DARK,
new A(q.HAIR,B.FEMALE,h.texture.thumbnail_hair_3_dark,[new u(h.spine.avatar.slots.hair_front,"hair_front_3_dark"),new u(h.spine.avatar.slots.hair_back,"hair_back_3_dark")]));this._addItem(e.HAIR_3_MEDIUM,new A(q.HAIR,B.FEMALE,h.texture.thumbnail_hair_3_medium,[new u(h.spine.avatar.slots.hair_front,"hair_front_3_medium"),new u(h.spine.avatar.slots.hair_back,"hair_back_3_medium")]));this._addItem(e.HAIR_3_LIGHT,new A(q.HAIR,B.FEMALE,h.texture.thumbnail_hair_3_light,[new u(h.spine.avatar.slots.hair_front,
"hair_front_3_light"),new u(h.spine.avatar.slots.hair_back,"hair_back_3_light")]));this._addItem(e.HAIR_4_DARK,new A(q.HAIR,B.FEMALE,h.texture.thumbnail_hair_4_dark,[new u(h.spine.avatar.slots.hair_front,"hair_front_4_dark"),new u(h.spine.avatar.slots.hair_back,"hair_back_4_dark")]));this._addItem(e.HAIR_4_MEDIUM,new A(q.HAIR,B.FEMALE,h.texture.thumbnail_hair_4_medium,[new u(h.spine.avatar.slots.hair_front,"hair_front_4_medium"),new u(h.spine.avatar.slots.hair_back,"hair_back_4_medium")]));this._addItem(e.HAIR_4_LIGHT,
new A(q.HAIR,B.FEMALE,h.texture.thumbnail_hair_4_light,[new u(h.spine.avatar.slots.hair_front,"hair_front_4_light"),new u(h.spine.avatar.slots.hair_back,"hair_back_4_light")]));this._addItem(e.HAIR_6_DARK,new A(q.HAIR,B.FEMALE,h.texture.thumbnail_hair_6_dark,[new u(h.spine.avatar.slots.hair_front,"hair_front_6_dark"),new u(h.spine.avatar.slots.hair_back,"hair_back_6_dark")]));this._addItem(e.HAIR_6_MEDIUM,new A(q.HAIR,B.FEMALE,h.texture.thumbnail_hair_6_medium,[new u(h.spine.avatar.slots.hair_front,
"hair_front_6_medium"),new u(h.spine.avatar.slots.hair_back,"hair_back_6_medium")]));this._addItem(e.HAIR_6_LIGHT,new A(q.HAIR,B.FEMALE,h.texture.thumbnail_hair_6_light,[new u(h.spine.avatar.slots.hair_front,"hair_front_6_light"),new u(h.spine.avatar.slots.hair_back,"hair_back_6_light")]));this._addItem(e.TOP_BASE_MALE,new A(q.TOP,B.MALE,h.texture.top_base_male,[new u(h.spine.avatar.slots.top,"top_base_male")]));this._addItem(e.TOP_BASE_FEMALE,new A(q.TOP,B.MALE,h.texture.top_base_female,[new u(h.spine.avatar.slots.top,
"top_base_female")]));k.get_instance().getBool(l.BOOL_ENABLE_ALVIN)&&(this._addItem(e.TOP_ALVIN_MALE,new A(q.TOP,B.MALE,h.texture.top_alvin_male,[new u(h.spine.avatar.slots.top,"top_alvin_male")])),this._addItem(e.TOP_ALVIN_FEMALE,new A(q.TOP,B.FEMALE,h.texture.top_alvin_female,[new u(h.spine.avatar.slots.top,"top_alvin_female")])));k.get_instance().getBool(l.BOOL_ENABLE_TMNT)&&(this._addItem(e.TOP_TMNT_MALE,new A(q.TOP,B.MALE,h.texture.top_tmnt_male,[new u(h.spine.avatar.slots.top,"top_tmnt_male")])),
this._addItem(e.TOP_TMNT_FEMALE,new A(q.TOP,B.FEMALE,h.texture.top_tmnt_female,[new u(h.spine.avatar.slots.top,"top_tmnt_female")])));this._addItem(e.TOP_WAYNE_MALE,new A(q.TOP,B.MALE,h.texture.top_wayne_male,[new u(h.spine.avatar.slots.top,"top_wayne_male")]));this._addItem(e.TOP_WAYNE_MALE_B,new A(q.TOP,B.MALE,h.texture.top_wayne_male_2,[new u(h.spine.avatar.slots.top,"top_wayne_male_2")]));this._addItem(e.TOP_WAYNE_FEMALE,new A(q.TOP,B.FEMALE,h.texture.top_wayne_female,[new u(h.spine.avatar.slots.top,
"top_wayne_female")]));this._addItem(e.TOP_HENRYDANGER_MALE,new A(q.TOP,B.MALE,h.texture.top_henrydanger_male,[new u(h.spine.avatar.slots.top,"top_henrydanger_male")]));this._addItem(e.TOP_HENRYDANGER_FEMALE,new A(q.TOP,B.FEMALE,h.texture.top_henrydanger_female,[new u(h.spine.avatar.slots.top,"top_henrydanger_female")]));this._addItem(e.TOP_LOUDHOUSE_MALE,new A(q.TOP,B.MALE,h.texture.top_loudhouse_male,[new u(h.spine.avatar.slots.top,"top_loudhouse_male")]));this._addItem(e.TOP_LOUDHOUSE_MALE_B,new A(q.TOP,
B.MALE,h.texture.top_loudhouse_male_2,[new u(h.spine.avatar.slots.top,"top_loudhouse_male_2")]));this._addItem(e.TOP_LOUDHOUSE_FEMALE,new A(q.TOP,B.FEMALE,h.texture.top_loudhouse_female,[new u(h.spine.avatar.slots.top,"top_loudhouse_female")]));this._addItem(e.TOP_SPONGEBOB_MALE,new A(q.TOP,B.MALE,h.texture.top_spongebob_male,[new u(h.spine.avatar.slots.top,"top_spongebob_male")]));this._addItem(e.TOP_SPONGEBOB_FEMALE,new A(q.TOP,B.FEMALE,h.texture.top_spongebob_female,[new u(h.spine.avatar.slots.top,
"top_spongebob_female")]));this._addItem(e.TOP_BUNSEN_MALE,new A(q.TOP,B.MALE,h.texture.top_bunsen_male,[new u(h.spine.avatar.slots.top,"top_bunsen_male")]));this._addItem(e.TOP_BUNSEN_FEMALE,new A(q.TOP,B.FEMALE,h.texture.top_bunsen_female,[new u(h.spine.avatar.slots.top,"top_bunsen_female")]));this._addItem(e.BOTTOM_BASE_MALE,new A(q.BOTTOM,B.MALE,h.texture.bottom_male_base,[new u(h.spine.avatar.slots.bottom,"bottom_male_base")]));this._addItem(e.BOTTOM_BASE_FEMALE,new A(q.BOTTOM,B.MALE,h.texture.bottom_base_female,
[new u(h.spine.avatar.slots.bottom,"bottom_base_female")]));k.get_instance().getBool(l.BOOL_ENABLE_ALVIN)&&(this._addItem(e.BOTTOM_ALVIN_MALE,new A(q.BOTTOM,B.MALE,h.texture.bottom_alvin_male,[new u(h.spine.avatar.slots.bottom,"bottom_alvin_male")])),this._addItem(e.BOTTOM_ALVIN_FEMALE,new A(q.BOTTOM,B.FEMALE,h.texture.bottom_alvin_female,[new u(h.spine.avatar.slots.bottom,"bottom_alvin_female")])));k.get_instance().getBool(l.BOOL_ENABLE_TMNT)&&(this._addItem(e.BOTTOM_TMNT_MALE,new A(q.BOTTOM,B.MALE,
h.texture.bottom_tmnt_male,[new u(h.spine.avatar.slots.bottom,"bottom_tmnt_male")])),this._addItem(e.BOTTOM_TMNT_FEMALE,new A(q.BOTTOM,B.FEMALE,h.texture.bottom_tmnt_female,[new u(h.spine.avatar.slots.bottom,"bottom_tmnt_female")])));this._addItem(e.BOTTOM_WAYNE_MALE,new A(q.BOTTOM,B.MALE,h.texture.bottom_wayne_male,[new u(h.spine.avatar.slots.bottom,"bottom_wayne_male")]));this._addItem(e.BOTTOM_WAYNE_MALE_B,new A(q.BOTTOM,B.MALE,h.texture.bottom_wayne_male_2,[new u(h.spine.avatar.slots.bottom,"bottom_wayne_male_2")]));
this._addItem(e.BOTTOM_WAYNE_FEMALE,new A(q.BOTTOM,B.FEMALE,h.texture.bottom_wayne_female,[new u(h.spine.avatar.slots.bottom,"bottom_wayne_female")]));this._addItem(e.BOTTOM_HENRYDANGER_MALE,new A(q.BOTTOM,B.MALE,h.texture.bottom_henrydanger_male,[new u(h.spine.avatar.slots.bottom,"bottom_henrydanger_male")]));this._addItem(e.BOTTOM_HENRYDANGER_FEMALE,new A(q.BOTTOM,B.FEMALE,h.texture.bottom_henrydanger_female,[new u(h.spine.avatar.slots.bottom,"bottom_henrydanger_female")]));this._addItem(e.BOTTOM_LOUDHOUSE_MALE,
new A(q.BOTTOM,B.MALE,h.texture.bottom_loudhouse_male,[new u(h.spine.avatar.slots.bottom,"bottom_loudhouse_male")]));this._addItem(e.BOTTOM_LOUDHOUSE_MALE_B,new A(q.BOTTOM,B.MALE,h.texture.bottom_loudhouse_male_2,[new u(h.spine.avatar.slots.bottom,"bottom_loudhouse_male_2")]));this._addItem(e.BOTTOM_LOUDHOUSE_FEMALE,new A(q.BOTTOM,B.FEMALE,h.texture.bottom_loudhouse_female,[new u(h.spine.avatar.slots.bottom,"bottom_loudhouse_female")]));this._addItem(e.BOTTOM_SPONGEBOB_MALE,new A(q.BOTTOM,B.MALE,
h.texture.bottom_spongebob_male,[new u(h.spine.avatar.slots.bottom,"bottom_spongebob_male")]));this._addItem(e.BOTTOM_SPONGEBOB_FEMALE,new A(q.BOTTOM,B.FEMALE,h.texture.bottom_spongebob_female,[new u(h.spine.avatar.slots.bottom,"bottom_spongebob_female")]));this._addItem(e.BOTTOM_BUNSEN_MALE,new A(q.BOTTOM,B.MALE,h.texture.bottom_bunsen_male,[new u(h.spine.avatar.slots.bottom,"bottom_bunsen_male")]));this._addItem(e.BOTTOM_BUNSEN_FEMALE,new A(q.BOTTOM,B.FEMALE,h.texture.bottom_bunsen_female,[new u(h.spine.avatar.slots.bottom,
"bottom_bunsen_female")]));this._addItem(e.SHOES_BASE_MALE,new A(q.SHOES,B.MALE,h.texture.shoes_base_male,[new u(h.spine.avatar.slots.shoes,"shoes_base_male")]));this._addItem(e.SHOES_BASE_FEMALE,new A(q.SHOES,B.MALE,h.texture.shoes_base_female,[new u(h.spine.avatar.slots.shoes,"shoes_base_female")]));k.get_instance().getBool(l.BOOL_ENABLE_ALVIN)&&(this._addItem(e.SHOES_ALVIN_MALE,new A(q.SHOES,B.MALE,h.texture.shoes_alvin_male,[new u(h.spine.avatar.slots.shoes,"shoes_alvin_male")])),this._addItem(e.SHOES_ALVIN_FEMALE,
new A(q.SHOES,B.FEMALE,h.texture.shoes_alvin_female,[new u(h.spine.avatar.slots.shoes,"shoes_alvin_female")])));k.get_instance().getBool(l.BOOL_ENABLE_TMNT)&&(this._addItem(e.SHOES_TMNT_MALE,new A(q.SHOES,B.MALE,h.texture.shoes_tmnt_male,[new u(h.spine.avatar.slots.shoes,"shoes_tmnt_male")])),this._addItem(e.SHOES_TMNT_FEMALE,new A(q.SHOES,B.FEMALE,h.texture.shoes_tmnt_female,[new u(h.spine.avatar.slots.shoes,"shoes_tmnt_female")])));this._addItem(e.SHOES_WAYNE_MALE,new A(q.SHOES,B.MALE,h.texture.shoes_wayne_male,
[new u(h.spine.avatar.slots.shoes,"shoes_wayne_male")]));this._addItem(e.SHOES_WAYNE_MALE_B,new A(q.SHOES,B.MALE,h.texture.shoes_wayne_male_2,[new u(h.spine.avatar.slots.shoes,"shoes_wayne_male_2")]));this._addItem(e.SHOES_WAYNE_FEMALE,new A(q.SHOES,B.FEMALE,h.texture.shoes_wayne_female,[new u(h.spine.avatar.slots.shoes,"shoes_wayne_female")]));this._addItem(e.SHOES_HENRYDANGER_MALE,new A(q.SHOES,B.MALE,h.texture.shoes_henrydanger_male,[new u(h.spine.avatar.slots.shoes,"shoes_henrydanger_male")]));
this._addItem(e.SHOES_HENRYDANGER_FEMALE,new A(q.SHOES,B.FEMALE,h.texture.shoes_henrydanger_female,[new u(h.spine.avatar.slots.shoes,"shoes_henrydanger_female")]));this._addItem(e.SHOES_LOUDHOUSE_MALE,new A(q.SHOES,B.MALE,h.texture.shoes_loudhouse_male,[new u(h.spine.avatar.slots.shoes,"shoes_loudhouse_male")]));this._addItem(e.SHOES_LOUDHOUSE_MALE_B,new A(q.SHOES,B.MALE,h.texture.shoes_loudhouse_male_2,[new u(h.spine.avatar.slots.shoes,"shoes_loudhouse_male_2")]));this._addItem(e.SHOES_LOUDHOUSE_FEMALE,
new A(q.SHOES,B.FEMALE,h.texture.shoes_loudhouse_female,[new u(h.spine.avatar.slots.shoes,"shoes_loudhouse_female")]));this._addItem(e.SHOES_SPONGEBOB_MALE,new A(q.SHOES,B.MALE,h.texture.shoes_spongebob_male,[new u(h.spine.avatar.slots.shoes,"shoes_spongebob_male")]));this._addItem(e.SHOES_SPONGEBOB_FEMALE,new A(q.SHOES,B.FEMALE,h.texture.shoes_spongebob_female,[new u(h.spine.avatar.slots.shoes,"shoes_spongebob_female")]));this._addItem(e.SHOES_BUNSEN_MALE,new A(q.SHOES,B.MALE,h.texture.shoes_bunsen_male,
[new u(h.spine.avatar.slots.shoes,"shoes_bunsen_male")]));this._addItem(e.SHOES_BUNSEN_FEMALE,new A(q.SHOES,B.FEMALE,h.texture.shoes_bunsen_female,[new u(h.spine.avatar.slots.shoes,"shoes_bunsen_female")]));this._addItem(e.HAT_NONE,new A(q.HAT,null,h.texture.thumbnail_powers_off,[new u(h.spine.avatar.slots.head_front,null),new u(h.spine.avatar.slots.head_back,null)]));k.get_instance().getBool(l.BOOL_ENABLE_ALVIN)&&(this._addItem(e.HAT_ALVIN_MALE,new A(q.HAT,B.MALE,h.texture.thumbnail_accessory_alvin_male,
[new u(h.spine.avatar.slots.head_front,"head_front_alvin_male"),new u(h.spine.avatar.slots.head_back,"head_back_alvin_male")])),this._addItem(e.HAT_ALVIN_FEMALE,new A(q.HAT,B.FEMALE,h.texture.thumbnail_accessory_alvin_female,[new u(h.spine.avatar.slots.head_front,"head_front_alvin_female"),new u(h.spine.avatar.slots.head_back,null)])));k.get_instance().getBool(l.BOOL_ENABLE_TMNT)&&(this._addItem(e.HAT_TMNT_MALE,new A(q.HAT,B.MALE,h.texture.thumbnail_accessory_tmnt_male,[new u(h.spine.avatar.slots.head_front,
"head_front_tmnt_male"),new u(h.spine.avatar.slots.head_back,null)])),this._addItem(e.HAT_TMNT_FEMALE,new A(q.HAT,B.FEMALE,h.texture.thumbnail_accessory_tmnt_female,[new u(h.spine.avatar.slots.head_front,"head_front_tmnt_female"),new u(h.spine.avatar.slots.head_back,null)])));this._addItem(e.HAT_WAYNE_MALE,new A(q.HAT,B.MALE,h.texture.thumbnail_accessory_wayne_male,[new u(h.spine.avatar.slots.head_front,"head_front_wayne_male"),new u(h.spine.avatar.slots.head_back,null)]));this._addItem(e.HAT_WAYNE_FEMALE,
new A(q.HAT,B.FEMALE,h.texture.thumbnail_accessory_wayne_female,[new u(h.spine.avatar.slots.head_front,"head_front_wayne_female"),new u(h.spine.avatar.slots.head_back,null)]));this._addItem(e.HAT_HENRYDANGER_MALE,new A(q.HAT,B.MALE,h.texture.thumbnail_accessory_henrydanger_male,[new u(h.spine.avatar.slots.head_front,"head_front_henrydanger_male"),new u(h.spine.avatar.slots.head_back,null)]));this._addItem(e.HAT_HENRYDANGER_FEMALE,new A(q.HAT,B.FEMALE,h.texture.thumbnail_accessory_henrydanger_female,
[new u(h.spine.avatar.slots.head_front,"head_front_henrydanger_female"),new u(h.spine.avatar.slots.head_back,null)]));this._addItem(e.HAT_LOUDHOUSE_MALE,new A(q.HAT,B.MALE,h.texture.thumbnail_accessory_loudhouse_male,[new u(h.spine.avatar.slots.head_front,"head_front_loudhouse_male"),new u(h.spine.avatar.slots.head_back,null)]));this._addItem(e.HAT_LOUDHOUSE_FEMALE,new A(q.HAT,B.FEMALE,h.texture.thumbnail_accessory_loudhouse_female,[new u(h.spine.avatar.slots.head_front,"head_front_loudhouse_female"),
new u(h.spine.avatar.slots.head_back,null)]));this._addItem(e.HAT_SPONGEBOB_MALE,new A(q.HAT,B.MALE,h.texture.thumbnail_accessory_spongebob_male,[new u(h.spine.avatar.slots.head_front,"head_front_spongebob_male"),new u(h.spine.avatar.slots.head_back,null)]));this._addItem(e.HAT_SPONGEBOB_FEMALE,new A(q.HAT,B.FEMALE,h.texture.thumbnail_accessory_spongebob_female,[new u(h.spine.avatar.slots.head_front,"head_front_spongebob_female"),new u(h.spine.avatar.slots.head_back,null)]));this._addItem(e.HAT_BUNSEN_MALE,
new A(q.HAT,B.MALE,h.texture.thumbnail_accessory_bunsen_male,[new u(h.spine.avatar.slots.head_front,"head_front_bunsen_male"),new u(h.spine.avatar.slots.head_back,"head_back_bunsen_male")]));this._addItem(e.HAT_BUNSEN_FEMALE,new A(q.HAT,B.FEMALE,h.texture.thumbnail_accessory_bunsen_female,[new u(h.spine.avatar.slots.head_front,"head_front_bunsen_female"),new u(h.spine.avatar.slots.head_back,null)]));this._addItem(e.SKIN_1,new A(q.SKIN,null,h.texture.thumbnail_skin_brown,[new u("","skin_brown")]));
this._addItem(e.SKIN_2,new A(q.SKIN,null,h.texture.thumbnail_skin_dark,[new u("","skin_dark")]));this._addItem(e.SKIN_3,new A(q.SKIN,null,h.texture.thumbnail_skin_peach,[new u("","skin_peach")]));this._addItem(e.SKIN_4,new A(q.SKIN,null,h.texture.thumbnail_skin_yellow,[new u("","skin_yellow")]))},_addItem:function(a,b){null==this._items.get(a)&&(b.setID(a),this._items.set(a,b),b)},getItem:function(a){return this._items.exists(a)?this._items.get(a):null},getItemsForSlot:function(a,b){for(var c=[],
d=this._items.iterator();d.hasNext();){var i=d.next();i.get_slot()==a&&(null!=b?(i.get_gender()==b||null==i.get_gender())&&c.push(i.get_id()):c.push(i.get_id()))}return c},__class__:qa};var Fa=m["com.nick.international.comic_creator.data.dialogue.DIALOGUE_POINTER"]={__ename__:"com,nick,international,comic_creator,data,dialogue,DIALOGUE_POINTER".split(","),__constructs__:["TAP","POINT","SWIPE","NONE"]};Fa.TAP=["TAP",0];Fa.TAP.toString=f;Fa.TAP.__enum__=Fa;Fa.POINT=["POINT",1];Fa.POINT.toString=f;Fa.POINT.__enum__=
Fa;Fa.SWIPE=["SWIPE",2];Fa.SWIPE.toString=f;Fa.SWIPE.__enum__=Fa;Fa.NONE=["NONE",3];Fa.NONE.toString=f;Fa.NONE.__enum__=Fa;Fa.__empty_constructs__=[Fa.TAP,Fa.POINT,Fa.SWIPE,Fa.NONE];var gb=m["com.nick.international.comic_creator.data.dialogue.DIALOGUE_POSITION"]={__ename__:"com,nick,international,comic_creator,data,dialogue,DIALOGUE_POSITION".split(","),__constructs__:["TOP","CENTER","BOTTOM"]};gb.TOP=["TOP",0];gb.TOP.toString=f;gb.TOP.__enum__=gb;gb.CENTER=["CENTER",1];gb.CENTER.toString=f;gb.CENTER.__enum__=
gb;gb.BOTTOM=["BOTTOM",2];gb.BOTTOM.toString=f;gb.BOTTOM.__enum__=gb;gb.__empty_constructs__=[gb.TOP,gb.CENTER,gb.BOTTOM];var ng=function(){};m["com.nick.international.comic_creator.data.dialogue.DialogueData"]=ng;ng.__name__="com,nick,international,comic_creator,data,dialogue,DialogueData".split(",");ng.prototype={dispose:function(){this._text=this._position=this._id=null;null!=this._pointerLocation&&(this._pointerLocation.dispose(),this._pointerLocation=null);this._endEvent=this._triggerEvent=this._portrait=
this._pointerType=null},get_position:function(){return this._position},get_text:function(){return this._text},get_mobileToggle:function(){return this._mobileToggle},get_pointerLocation:function(){return this._pointerLocation},get_pointerType:function(){return this._pointerType},get_triggerEvent:function(){return this._triggerEvent},get_endEvent:function(){return this._endEvent},__class__:ng,__properties__:{get_endEvent:"get_endEvent",get_triggerEvent:"get_triggerEvent",get_pointerType:"get_pointerType",
get_pointerLocation:"get_pointerLocation",get_mobileToggle:"get_mobileToggle",get_text:"get_text",get_position:"get_position"}};var w=function(a){this.root=new ga;this._rootSprite=new K;this.root.add(this._rootSprite);this._imageEntity=new ga;this.root.addChild(this._imageEntity);this._imageSprite=new K;this._imageEntity.add(this._imageSprite);this._format=ka.EMPTY;this._children=[];this._imageSprite.set_pixelSnapping(!1);this._rootSprite.set_pixelSnapping(!1);this.pos=Z.request(null==a.x?0:a.x,null==
a.y?0:a.y,null==a.z?0:a.z);this.velocity=Z.request();this.uniqueId=s.getUniqueId();this.useCamera=!0;this.doDelete=!1;this.visible=!0;this.rotation=this.offsetX=this.offsetY=0;this.scaleX=this.scaleY=this.alpha=1;this.originX=this.originY=0.5;this.width=this.height=-1;this.setAsset(a.asset);null!=a.origin&&(this.originX=this.originY=a.origin);null!=a.originX&&(this.originX=a.originX);null!=a.originY&&(this.originY=a.originY);null!=a.scale&&(this.scaleX=this.scaleY=a.scale);null!=a.scaleX&&(this.scaleX=
a.scaleX);null!=a.scaleY&&(this.scaleY=a.scaleY);null!=a.rotation&&(this.rotation=a.rotation);null!=a.alpha&&(this.alpha=a.alpha);null!=a.offset&&(this.offsetX=this.offsetY=a.offset);null!=a.offsetX&&(this.offsetX=a.offsetX);null!=a.offsetY&&(this.offsetY=a.offsetY);null!=a.useCamera&&(this.useCamera=a.useCamera);this._addEventListeners()};m["com.workinman.display.Element"]=w;w.__name__=["com","workinman","display","Element"];w.prototype={setAsset:function(a){null==a&&(a="");if(""==a||null==a)return this;
this.height=this.width=-1;switch(this._format[1]){case 1:this._textureSprite.setTexture(a);break;default:this.setImageSprite(new Xc(a))}return this},dispose:function(){this._format=null;this._removeEventListeners();this.root.dispose();this.root=null;this._rootSprite.dispose();this._rootSprite=null;this._imageEntity.dispose();this._imageEntity=null;this._imageSprite.dispose();this._textureSprite=this._imageSprite=null;this.pos.dispose();this.pos=null;this.velocity.dispose();this.velocity=null;for(var a=
0,b=this._children;a<b.length;){var c=b[a];++a;c.dispose()}this._children=null},disablePointerInput:function(){this._rootSprite.disablePointer();return this},enablePointerInput:function(){this._rootSprite.set_pointerEnabled(!0);return this},get_x:function(){return this.pos.x},set_x:function(a){this.pos.x=a;return this.pos.x},get_y:function(){return this.pos.y},set_y:function(a){this.pos.y=a;return this.pos.y},get_z:function(){return this.pos.z},set_z:function(a){this.pos.z=a;return this.pos.z},get_scale:function(){return this.scaleX},
set_scale:function(a){this.scaleX=a*(0>this.scaleX?-1:1);this.scaleY=a*(0>this.scaleY?-1:1);return this.scaleX},get_depth:function(){return-this.pos.z},get_pointerEnabled:function(){return 0!=(this._imageSprite._flags&4)},set_pointerEnabled:function(a){this._imageSprite.set_pointerEnabled(a);return this.get_pointerEnabled()},_determineFormat:function(a){D.__instanceof(a,Xc)?this._setFormat(ka.TEXTURE):this._setFormat(ka.EMPTY)},_cleanOldFormat:function(){switch(this._format[1]){case 0:break;case 1:this._textureSprite=
null;break;default:null}},_setFormat:function(a){this._format!=a&&(this._cleanOldFormat(a),this._format=a)},setImageSprite:function(a){this._determineFormat(a);this._imageEntity.remove(this._imageSprite);this._imageSprite.dispose();this._imageSprite=a;this._imageEntity.add(this._imageSprite);this._format==ka.TEXTURE&&(this._textureSprite=this._imageSprite)},update:function(a){for(var b=this._children.length;0<b--;)this._children[b].update(a),this._children[b].doDelete&&(this._children[b].dispose(),
this._children.splice(b,1))},updatePositionFromVelocity:function(a){this.pos.x+=this.velocity.x*a;this.pos.y+=this.velocity.y*a},addElement:function(a){this.root.addChild(a.root);this._children.push(a);a.parent=this;return a},removeElement:function(a){this.root.removeChild(a.root);for(var b=this._children.length;0<b--;)this._children[b]==a&&this._children.splice(b,1);a.parent=null;return a},render:function(){-1==this.width&&(this.width=this._imageSprite.getNaturalWidth());-1==this.height&&(this.height=
this._imageSprite.getNaturalHeight());this._imageSprite.x.set__(-(this.originX*this.width));this._imageSprite.y.set__(-(this.originY*this.height));if(!1==this.visible)this._rootSprite.set_visible(!1);else{var a,b=a=0,c=1;if(null==this.camera||!1==this.useCamera)a=this.pos.x+this.offsetX,b=this.pos.y+this.offsetY,c=1;else{a=this.pos.z-this.camera.pos.z;if(a<-this.camera.focalLength||!1==this.visible){this._rootSprite.set_visible(!1);return}c=0>=this.camera.focalLength?1:this.camera.focalLength/(this.camera.focalLength+
a);a=this.camera.worldCenterX+(this.pos.x-this.camera.pos.x+this.offsetX-this.camera.worldCenterX)*c;b=this.camera.worldCenterY+(this.pos.y-this.camera.pos.y+this.offsetY-this.camera.worldCenterY)*c}this._rootSprite.x.set__(a);this._rootSprite.y.set__(b);this._rootSprite.scaleX.set__(this.scaleX*c);this._rootSprite.scaleY.set__(this.scaleY*c);this._rootSprite.rotation.set__(this.rotation);this._rootSprite.alpha.set__(this.alpha);this._rootSprite.set_visible(!0);a=0;for(b=this._children;a<b.length;)c=
b[a],++a,c.render()}},_addEventListeners:function(){},_removeEventListeners:function(){},disableSnapping:function(){this._rootSprite.set_pixelSnapping(!1);return this},getNaturalWidth:function(){return this._imageSprite.getNaturalWidth()},getNaturalHeight:function(){return this._imageSprite.getNaturalHeight()},getScaledWidth:function(){return this.getNaturalWidth()*this.scaleX},getScaledHeight:function(){return this.getNaturalHeight()*this.scaleY},getHalfWidth:function(a){null==a&&(a=!1);return this.getNaturalWidth()*
(a?this.scaleX:1)},getHalfHeight:function(a){null==a&&(a=!1);return this.getNaturalHeight()*(a?this.scaleY:1)},getViewMatrix:function(){return this._rootSprite.getViewMatrix()},__class__:w,__properties__:{set_pointerEnabled:"set_pointerEnabled",get_pointerEnabled:"get_pointerEnabled",get_depth:"get_depth",set_scale:"set_scale",get_scale:"get_scale",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}};var Ca=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=
b};m["flambe.math.Point"]=Ca;Ca.__name__=["flambe","math","Point"];Ca.prototype={__class__:Ca};var z=function(a){this.clickSound="sbcc_sfx_select";null==z._scratchPoint&&(z._scratchPoint=new Ca);w.call(this,a);this.dispatcher=Wb.request();this._tween=a.tween;this._containsInput=!1;this._returnData=null;this._clearFunction=a.clear;this._assetUp=a.assetUp;null==this._assetUp&&(this._assetUp=a.asset);this._assetOver=a.assetOver;this._assetDown=a.assetDown;this._assetDisabled=a.assetDisabled;this._state=
ia._STATE_UP;this._flagDragged=!1;this.enable();this.render();this.setCustomHitBox(this.width,this.height);k.get_instance().get_input().addDelegateListener(o(this,this._onInput));this._buttonScaleBase=Z.request(this.scaleX,this.scaleY)};m["com.workinman.display.ui.ButtonBase"]=z;z.__name__=["com","workinman","display","ui","ButtonBase"];z.__super__=w;z.prototype=y(w.prototype,{dispose:function(){k.get_instance().get_input().removeDelegateListener(o(this,this._onInput));this._flagEnabled=!1;this._assetDisabled=
this._assetDown=this._assetOver=this._assetUp=null;this._hitBox.dispose();this._tween=this._hitBox=null;this.dispatcher.dispose();this._returnData=this.dispatcher=null;this._buttonScaleBase.dispose();this._clearFunction=this._state=this._buttonScaleBase=null;w.prototype.dispose.call(this)},setDispatchData:function(a){this._returnData=a},enable:function(){this._flagEnabled=!0;this._renderUp()},disable:function(){this._flagEnabled=!1;this._renderDisabled()},setCustomHitBox:function(a,b,c,d){null==d&&
(d=0);null==c&&(c=0);if(null==this._hitBox){this._hitBox=new Ja(16711680,8,8);var i=new ga;i.add(this._hitBox);this._imageEntity.addChild(i);this._hitBox.alpha.set__(0)}this._hitBox.scaleX.set__(a/8);this._hitBox.scaleY.set__(b/8);this._hitBox.x.set__(c);this._hitBox.y.set__(d);return this},hitRectContains:function(a,b){this._hitBox.getViewMatrix().inverseTransform(a,b,z._scratchPoint);return 0<=z._scratchPoint.x&&8>=z._scratchPoint.x&&0<=z._scratchPoint.y&&8>=z._scratchPoint.y},_onInput:function(a,
b,c,d){this._lastX=c;this._lastY=d;switch(b[1]){case 0:switch(this._containsInput=this.hitRectContains(c,d),a[1]){case 0:switch(this._state[1]){case 0:case 2:case 3:this._containsInput&&this._depthTest(c,d)&&(this._state=ia._STATE_DOWN,this._onDown(c,d))}break;case 2:switch(this._state[1]){case 0:this._containsInput&&this._depthTest(c,d)&&(this._state=ia._STATE_OVER,this._onOver());break;case 2:!1==this._containsInput&&(this._state=ia._STATE_UP,this._onOut())}break;case 1:switch(this._state[1]){case 1:this._state=
ia._STATE_CLICK,this._onUp(c,d)}}}},_depthTest:function(a,b){if(!1==this._flagEnabled||!1==this.visible)return!1;var c=k.get_instance().get_input().doButtonDepthTest(a,b);return null!=this._hitBox&&c==this._hitBox?!0:!1},get__CUSTOM_HIT_BOX:function(){return new Ca(0,0)},get__DISABLE_FRAME:function(){return 1},_dispatch:function(a){!1!=this._clearFunction()&&(null==this._returnData&&(this._returnData=new I),this._returnData.set("button",this),this,this.dispatcher.dispatchEvent(R.request(a,this._returnData)))},
_click:function(){this._tween.tween(this,0.1,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y},!0).ease(p.QUAD_IN);this._tween.tween(this,0.4,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y},!1).ease(p.ELASTIC_OUT).onComplete(o(this,this._onClickComplete));this._playSoundClick();this._doClick()},_onClickComplete:function(){this._containsInput?(this._state=ia._STATE_OVER,this._renderOver()):this._state=ia._STATE_UP},_onClickTransitionComplete:function(){},_doClick:function(){H.sendUIInteraction(C.string(ra.ui.currentScreen)+
"",this._assetUp,ra.ui.screenDur);this._dispatch(j.BUTTON_CLICK)},_onDown:function(){this._flagEnabled&&!1!=this.visible&&(this._renderDown(),this._dispatch(j.BUTTON_DOWN))},_onUp:function(){this._flagEnabled&&!1!=this.visible&&(this._renderReturnUp(),this._flagDragged?this._onDrop():this._click(),this._dispatch(j.BUTTON_UP))},_onOver:function(){this._renderOver();this._dispatch(j.BUTTON_OVER)},_onOut:function(){this._flagEnabled&&!1!=this.visible&&(this._renderOut(),this._dispatch(j.BUTTON_OUT))},
_onDrag:function(){this._flagDragged=!0;this._dispatch(j.BUTTON_DRAG)},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(j.BUTTON_CANCEL_DRAG)},_onDrop:function(){this._flagDragged=!1;this._dispatch(j.BUTTON_DROP)},update:function(a){w.prototype.update.call(this,a)},_playSoundClick:function(){k.get_instance().get_sound().playSound(this.clickSound)},_playSoundOver:function(){},setScale:function(a,b){this._buttonScaleBase.x=a;this._buttonScaleBase.y=b;this.scaleX=this._buttonScaleBase.x;
this.scaleY=this._buttonScaleBase.y;return this},_renderUp:function(){!1!=this._flagEnabled&&this.setAsset(this._assetUp)},_renderOver:function(){!1!=this._flagEnabled&&this._tween.tween(this,0.15,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y},!0).ease(p.QUAD_IN)},_renderOut:function(){!1!=this._flagEnabled&&this._tween.tween(this,0.5,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y},!0).ease(p.ELASTIC_OUT)},_renderDown:function(){this._tween.tween(this,0.15,
{scaleX:0.9*this._buttonScaleBase.x,scaleY:0.9*this._buttonScaleBase.y},!0).ease(p.QUAD_OUT);this.setAsset(this._assetDown)},_renderReturnUp:function(){!1!=this._flagEnabled&&(this._tween.tween(this,0.15,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y},!0).ease(p.QUAD_OUT),this._renderUp())},_renderDisabled:function(){this.setAsset(this._assetDisabled)},setButtonAsset:function(a){this._assetUp=this._assetDown=this._assetOver=this._assetDisabled=a;this.setAsset(this._assetUp)},__class__:z,
__properties__:y(w.prototype.__properties__,{get__DISABLE_FRAME:"get__DISABLE_FRAME",get__CUSTOM_HIT_BOX:"get__CUSTOM_HIT_BOX"})});var Kd=function(a){z.call(this,a);this._detail=null};m["com.nick.international.comic_creator.ui.buttons.AvatarSelectionButton"]=Kd;Kd.__name__="com,nick,international,comic_creator,ui,buttons,AvatarSelectionButton".split(",");Kd.__super__=z;Kd.prototype=y(z.prototype,{dispose:function(){null!=this._itemImage&&(this._itemImage.doDelete=!0,this._itemImage=null);null!=this._detail&&
(this._detail.doDelete=!0,this._detail=null);z.prototype.dispose.call(this)},_playSoundClick:function(){0!=this.alpha&&z.prototype._playSoundClick.call(this)},addItemImage:function(a){null!=this._detail&&(this._detail.doDelete=!0,this._detail=null);null==this._itemImage?(this._itemImage=this.addElement(new w({asset:a,x:0,y:0,scale:1})),this._itemImage.disablePointerInput()):(this._itemImage.alpha=1,this._itemImage.setAsset(a));this._itemImage.set_scale(1);80<this._itemImage.getNaturalWidth()&&this._itemImage.set_scale(80/
this._itemImage.getNaturalWidth());80<this._itemImage.getScaledHeight()&&this._itemImage.set_scale(80/this._itemImage.getNaturalHeight())},removeItemImage:function(){null!=this._itemImage&&(this._itemImage.alpha=0)},tweenOutItemImage:function(a){null!=this._itemImage&&a.tween(this._itemImage,0.2,{scale:0.65,alpha:0},!1,p.QUAD_OUT,0,"itemSelectImage")},tweenInItemImage:function(a){null!=this._itemImage&&a.tween(this._itemImage,0.2,{scale:0.85,alpha:1},!1,p.QUAD_IN,0,"itemSelectImage")},addDetail:function(a,
b,c){this._detail=this.addElement(new w({asset:a,x:b,y:c}))},__class__:Kd});var Ld=function(a){z.call(this,a);this._assetUpOn=a.assetUp;this._assetOverOn=a.assetOver;this._assetDownOn=a.assetDown;this._assetDisabledOn=a.assetDisabled;this._assetUpOff=a.assetUpOff;this._assetOverOff=a.assetOverOff;this._assetDownOff=a.assetDownOff;this._assetDisabledOff=a.assetDisabledOff;this._checked=!1;this._refreshCheckState();this._renderUp()};m["com.nick.international.comic_creator.ui.buttons.ButtonCheck"]=Ld;
Ld.__name__="com,nick,international,comic_creator,ui,buttons,ButtonCheck".split(",");Ld.__super__=z;Ld.prototype=y(z.prototype,{get_checked:function(){return this._checked},dispose:function(){this._assetDisabledOff=this._assetDownOff=this._assetOverOff=this._assetUpOff=this._assetDisabledOn=this._assetDownOn=this._assetOverOn=this._assetUpOn=null;z.prototype.dispose.call(this)},_doClick:function(){this._flagEnabled&&(this._checked=!this._checked,this._refreshCheckState(),this._renderUp())},_refreshCheckState:function(){this._checked?
(this._assetUp=this._assetUpOn,this._assetOver=this._assetOverOn,this._assetDown=this._assetDownOn,this._assetDisabled=this._assetDisabledOn):(this._assetUp=this._assetUpOff,this._assetOver=this._assetOverOff,this._assetDown=this._assetDownOff,this._assetDisabled=this._assetDisabledOff)},__class__:Ld,__properties__:y(z.prototype.__properties__,{get_checked:"get_checked"})});var Yc=function(a,b){z.call(this,{assetUp:h.texture.navigation_arrow_back,tween:a,clear:b,y:-140});this.set_x(-s.STAGE_CENTER_X+
this.getScaledWidth()/2+5);this.set_y(280-this.getScaledHeight()/2-30);this.addElement(new P({text:h.localization.btn_back,x:0,y:40}));this._renderUp()};m["com.nick.international.comic_creator.ui.buttons.ButtonComicExit"]=Yc;Yc.__name__="com,nick,international,comic_creator,ui,buttons,ButtonComicExit".split(",");Yc.__super__=z;Yc.prototype=y(z.prototype,{dispose:function(){z.prototype.dispose.call(this)},hide:function(){this._tween.tween(this,0.4,{x:-s.STAGE_CENTER_X-this.getScaledWidth()},!0,p.IN,
0,"")},show:function(){this._tween.tween(this,0.4,{x:-s.STAGE_CENTER_X+this.getScaledWidth()/2+5},!0,p.BOUNCE_OUT,0.5,"")},__class__:Yc});var Md=function(a){z.call(this,a);this._btnText=this.addElement(new P({text:"copy",y:0}));this._renderUp()};m["com.nick.international.comic_creator.ui.buttons.ButtonCopy"]=Md;Md.__name__="com,nick,international,comic_creator,ui,buttons,ButtonCopy".split(",");Md.__super__=z;Md.prototype=y(z.prototype,{dispose:function(){z.prototype.dispose.call(this)},_doClick:function(){this._flagEnabled&&
(og.eval("clip('"+k.get_instance().getString(l.STRING_SHARE_URL)+"',"+C.string(k.get_instance().getBool(l.BOOL_ANDROID_APP))+","+C.string(k.get_instance().getBool(l.BOOL_IOS_APP))+")"),this._btnText.swapTextToDisplay("copied"),this._renderUp())},__class__:Md});var Zc=function(a,b,c){this._flipMult=c?-1:1;z.call(this,{assetUp:c?h.texture.universal_select_arrow_left:h.texture.universal_select_arrow_right,tween:a,clear:b,y:-70});this.set_x(this.get_x()+(s.STAGE_CENTER_X*this._flipMult+(this.getNaturalWidth()-
30)*this._flipMult))};m["com.nick.international.comic_creator.ui.buttons.ButtonPanelNav"]=Zc;Zc.__name__="com,nick,international,comic_creator,ui,buttons,ButtonPanelNav".split(",");Zc.__super__=z;Zc.prototype=y(z.prototype,{dispose:function(){z.prototype.dispose.call(this)},hide:function(){this._tween.tween(this,0.3,{x:s.STAGE_CENTER_X*this._flipMult+(this.getNaturalWidth()-30)*this._flipMult},!0,p.BUMP_IN,0,"");this.disable();this.alpha=0.5},show:function(){this._tween.tween(this,0.3,{x:s.STAGE_CENTER_X*
this._flipMult-(this.getNaturalWidth()-30)*this._flipMult},!0,p.BUMP_OUT,0.5,"");this.enable();this.alpha=1},__class__:Zc});var Qb=function(a){a.asset=a.assetUp=h.texture.button_volume_on;z.call(this,a);this._assetUpOn=this._assetOverOn=this._assetDownOn=this._assetDisabledOn=h.texture.button_volume_on;this._assetUpOff=this._assetOverOff=this._assetDownOff=this._assetDisabledOff=h.texture.button_volume_off;this._refreshMuteState();this._renderUp()};m["com.nick.international.comic_creator.ui.buttons.ButtonSoundToggle"]=
Qb;Qb.__name__="com,nick,international,comic_creator,ui,buttons,ButtonSoundToggle".split(",");Qb.__super__=z;Qb.prototype=y(z.prototype,{dispose:function(){this._assetDisabledOff=this._assetDownOff=this._assetOverOff=this._assetUpOff=this._assetDisabledOn=this._assetDownOn=this._assetOverOn=this._assetUpOn=null;z.prototype.dispose.call(this)},_doClick:function(){this._flagEnabled&&(k.get_instance().get_dispatcher().dispatchEvent(R.request(j.MUTE_TOGGLE)),this._refreshMuteState(),this._renderUp())},
_refreshMuteState:function(){k.get_instance().get_sound().get_muteAll()?(this._assetUp=this._assetUpOff,this._assetOver=this._assetOverOff,this._assetDown=this._assetDownOff,this._assetDisabled=this._assetDisabledOff):(this._assetUp=this._assetUpOn,this._assetOver=this._assetOverOn,this._assetDown=this._assetDownOn,this._assetDisabled=this._assetDisabledOn)},__class__:Qb});var Ac=function(a){a.asset=h.texture.universal_close;z.call(this,a);this._baseScale=1;this._flagDown=!1};m["com.nick.international.comic_creator.ui.buttons.DeleteHandle"]=
Ac;Ac.__name__="com,nick,international,comic_creator,ui,buttons,DeleteHandle".split(",");Ac.__super__=z;Ac.prototype=y(z.prototype,{dispose:function(){this._state=this._tween=null;z.prototype.dispose.call(this)},setBaseScale:function(a){this._baseScale=a},update:function(a){z.prototype.update.call(this,a);this.scaleX=0.5/(this.parent.scaleX*this._baseScale);this.scaleY=0.5/(this.parent.scaleY*this._baseScale);this._updatedDragPos=!1},containsInput:function(a,b){return this._hitBox.contains(a,b)},
_onInput:function(a,b,c,d,i){z.prototype._onInput.call(this,a,b,c,d,i)},_onDrag:function(){this._flagDragged=!0},_onDrop:function(){this._flagDragged=!1},_renderOver:function(){},_renderOut:function(){},_renderDown:function(){this.setAsset(this._assetDown)},_renderReturnUp:function(){this._flagDragged=!1},_click:function(){this._onClickComplete();this._playSoundClick();this._doClick();this.parent.doDelete=!0;k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=
new I;b.set("elem",a.parent);return b}(this)))},__class__:Ac});var Bc=function(a){a.asset=h.texture.rotate;z.call(this,a);this._baseScale=1;this._scratchPoint=Z.request()};m["com.nick.international.comic_creator.ui.buttons.RotHandle"]=Bc;Bc.__name__="com,nick,international,comic_creator,ui,buttons,RotHandle".split(",");Bc.__super__=z;Bc.prototype=y(z.prototype,{dispose:function(){this._state=this._tween=null;null!=this._scratchPoint&&this._scratchPoint.destroy();this._scratchPoint=null;z.prototype.dispose.call(this)},
setBaseScale:function(a){this._baseScale=a},update:function(a){z.prototype.update.call(this,a);this.scaleX=0.25/(this.parent.scaleX*this._baseScale);this.scaleY=0.25/(this.parent.scaleY*this._baseScale);this.scaleX=0<this.parent.scaleX?-1*this.scaleX:Math.abs(this.scaleX);this._updatedDragPos=!1},containsInput:function(a,b){return this._hitBox.contains(a,b)},_onInput:function(a,b,c,d,i){z.prototype._onInput.call(this,a,b,c,d,i);switch(b[1]){case 0:switch(a[1]){case 2:if((this._state==ia._STATE_DOWN||
this._flagDragged)&&!1==this._updatedDragPos)this._updatedDragPos=this._flagDragged=!0,a=new Ca,this.parent.render(),this.parent.update(0),this.parent.parent.getViewMatrix().inverseTransform(c,d,a),this.parent.rotation=sb.toDegrees(Math.atan2(this.parent.get_y()-a.y,this.parent.get_x()-a.x)),0>this.parent.scaleX&&(this.parent.rotation+=180)}}},_onDrag:function(){this._flagDragged=!0},_onDrop:function(){this._flagDragged=!1},_renderOver:function(){},_renderOut:function(){},_renderDown:function(){this.setAsset(this._assetDown)},
_renderReturnUp:function(){this._flagDragged=!1},_click:function(){this._onClickComplete();this._playSoundClick();this._doClick()},__class__:Bc});var Cc=function(a){a.asset=h.texture.scale;z.call(this,a);this._baseScale=1;this._scratchPoint=Z.request()};m["com.nick.international.comic_creator.ui.buttons.ScaleHandle"]=Cc;Cc.__name__="com,nick,international,comic_creator,ui,buttons,ScaleHandle".split(",");Cc.__super__=z;Cc.prototype=y(z.prototype,{dispose:function(){this._state=this._tween=null;null!=
this._scratchPoint&&this._scratchPoint.destroy();this._scratchPoint=null;z.prototype.dispose.call(this)},setBaseScale:function(a){this._baseScale=a},update:function(a){z.prototype.update.call(this,a);this.scaleX=0.25/(this.parent.scaleX*this._baseScale);this.scaleY=0.25/(this.parent.scaleY*this._baseScale);this._updatedDragPos=!1},containsInput:function(a,b){return this._hitBox.contains(a,b)},_onInput:function(a,b,c,d,i){z.prototype._onInput.call(this,a,b,c,d,i);switch(b[1]){case 0:switch(a[1]){case 2:if((this._state==
ia._STATE_DOWN||this._flagDragged)&&!1==this._updatedDragPos)this._updatedDragPos=this._flagDragged=!0,this.parent.OnScaleElem(c,d)}}},_onDrag:function(){this._flagDragged=!0},_onDrop:function(){this._flagDragged=!1},_renderOver:function(){},_renderOut:function(){},_renderDown:function(){this.setAsset(this._assetDown)},_renderReturnUp:function(){this._flagDragged=!1},_click:function(){this._onClickComplete();this._playSoundClick();this._doClick()},__class__:Cc});var pb=function(a){this._flagLocked=
!1;this._tween=a.tween;w.call(this,a)};m["com.workinman.display.ui.Display"]=pb;pb.__name__=["com","workinman","display","ui","Display"];pb.__super__=w;pb.prototype=y(w.prototype,{_addEventListeners:function(){w.prototype._addEventListeners.call(this);k.get_instance().get_dispatcher().addEventListener(j.UPDATE_DISPLAY,o(this,this._onUpdateDisplay))},_removeEventListeners:function(){w.prototype._removeEventListeners.call(this);k.get_instance().get_dispatcher().removeEventListener(j.UPDATE_DISPLAY,
o(this,this._onUpdateDisplay))},_onUpdateDisplay:function(a){this._flagLocked||a.get_data().get("val")==this._updateValue()&&this._refresh()},_refresh:function(){},_updateValue:function(){return null},dispose:function(){this._tween=null;w.prototype.dispose.call(this)},lock:function(){this._flagLocked=!0},unlock:function(){this._flagLocked=!1},__class__:pb});var Dc=function(a){this._BAR_COLOR=5592405;this._BAR_HEIGHT=54;this._BAR_WIDTH=282;this._ROT=250;this._DELAY=0.5;pb.call(this,a);this._active=
!1;this._scale=1;this._loadMin=0;this.addElement(new w({asset:h.texture.loader_back,scale:1,x:0,y:0}));this._bar=this.addElement(new w({asset:h.texture.loader_fill,scale:this._scale,originX:0,x:-2-this._BAR_WIDTH/2,y:-2}));a=k.get_instance().get_localize().getLocalizeData(h.localization.loading);this._loadingText=a.get_string();this._text=this.addElement(new Da({text:"",font:a.get_fontName(),scale:a.get_scale(),y:0,offsetX:a.get_offsetX(),offsetY:a.get_offsetY()}));this.addElement(new w({asset:h.texture.loader_frame,
scale:1,x:0,y:0}));this.alpha=0;k.get_instance().setFloat(l.FLOAT_LOADING_PROGRESS,0);this._refresh()};m["com.nick.international.comic_creator.ui.display.DisplayLoadingProgress"]=Dc;Dc.__name__="com,nick,international,comic_creator,ui,display,DisplayLoadingProgress".split(",");Dc.__super__=pb;Dc.prototype=y(pb.prototype,{dispose:function(){this._text=this._bar=this._spinner=null;pb.prototype.dispose.call(this)},get_active:function(){return this._active},update:function(a){pb.prototype.update.call(this,
a)},tweenIn:function(a){this._active||(a&&(this._loadMin=0),k.get_instance().setFloat(l.FLOAT_LOADING_PROGRESS,0),L.easeBounceIn(this,this._tween),this._active=!0)},tweenOut:function(){!1!=this._active&&(L.easeBounceOut(this,this._tween),k.get_instance().setFloat(l.FLOAT_LOADING_PROGRESS,0),this._active=!1)},_refresh:function(){this._loadMin=sb.clamp(sb.max(this._loadMin,k.get_instance().getFloat(this._updateValue())),0,1);this._bar.scaleX=this._loadMin*(this._BAR_WIDTH/this._BAR_WIDTH);this._text.set_text(this._loadingText+
" "+Math.floor(100*this._loadMin)+"%")},_updateValue:function(){return l.FLOAT_LOADING_PROGRESS},__class__:Dc,__properties__:y(pb.prototype.__properties__,{get_active:"get_active"})});var Nd=function(a){pb.call(this,a);this._score=k.get_instance().getInt(this._updateValue());this._localizedData=k.get_instance().get_localize().getLocalizeData(h.localization.panel_number);this._textNum=this.addElement(new Da({text:C.string(this._score),scale:this._localizedData.get_scale(),font:this._localizedData.get_fontName(),
offsetX:this._localizedData.get_offsetX(),offsetY:this._localizedData.get_offsetY()}));this._refresh()};m["com.nick.international.comic_creator.ui.display.DisplayPanelNum"]=Nd;Nd.__name__="com,nick,international,comic_creator,ui,display,DisplayPanelNum".split(",");Nd.__super__=pb;Nd.prototype=y(pb.prototype,{dispose:function(){this._localizedData=this._text=this._textNum=null;pb.prototype.dispose.call(this)},_refresh:function(){this._score=k.get_instance().getInt(this._updateValue());this._textNum.set_text(this._localizedData.get_string()+
" "+C.string(this._score+1)+"/"+C.string(k.get_instance().getInt(l.INT_PANEL_NUM)));k.get_instance().setInt(l.INT_HEALTH,10);L.easeBounceIn(this,this._tween,!1)},_updateValue:function(){return l.INT_PANEL_INDEX},__class__:Nd});var Xb=function(a,b,c){w.call(this,c);this._tween=a;this._type=b;this._items=[];this._totalPages=this._currPage=1};m["com.nick.international.comic_creator.ui.elements.AvatarTab"]=Xb;Xb.__name__="com,nick,international,comic_creator,ui,elements,AvatarTab".split(",");Xb.__super__=
w;Xb.prototype=y(w.prototype,{dispose:function(){this._items=this._btnOverlay=this._type=this._tween=null;w.prototype.dispose.call(this)},update:function(a){w.prototype.update.call(this,a)},addBtnOverlay:function(a,b,c){null==this._btnOverlay&&(this._btnOverlay=this.addElement(new w({asset:a,x:b,y:c})),this._btnOverlay.set_pointerEnabled(!1))},addItemsToTab:function(a){for(var b=0;b<a.length;)this._items.push(a[b]),b++;this._totalPages=Math.ceil(this._items.length/6);return this},clearItems:function(){this._items=
[];this._currPage=this._totalPages=1},showTab:function(){this.alpha=1},hideTab:function(){this.alpha=0},backPage:function(){if(1>=this._currPage)return!1;this._currPage--;return!0},nextPage:function(){if(this._currPage>=this._totalPages)return!1;this._currPage++;return!0},get_type:function(){return this._type},get_items:function(){return this._items},get_currPage:function(){return this._currPage},get_totalPages:function(){return this._totalPages},__class__:Xb,__properties__:y(w.prototype.__properties__,
{get_totalPages:"get_totalPages",get_currPage:"get_currPage",get_items:"get_items",get_type:"get_type"})});var E=function(a,b){this.id=a;this.root=new ga;b.addChild(this.root);this._flowDelegate=null;this._elementManager=new Od(this.root,s.STAGE_CENTER_X,280,!0,Ga.z__MAINUI);this.isOnTop=!1;this._useClickWall()&&(this._clickWall=new ga,this._clickFill=new Ja(16711680,8,8),this._clickFill.scaleX.set__((s.STAGE_WIDTH+10)/8),this._clickFill.scaleY.set__(71.25),this._clickFill.alpha.set__(0),this._clickFill.anchorX.set__(4),
this._clickFill.anchorY.set__(4),this._clickWall.add(this._clickFill),this._elementManager.get_root().addChild(this._clickWall));this._elementManager.addLayer(Ga.z__MAINUI,!1);this._tween=Qa.request();this._buildScreen();this._flagStateAnimationComplete=this._flagStateCompleteTemp=this.flagDispose=!1;this._states=[];this._generateStates();this._stateIndex=this._states.length+2;this._setFirstState();this._addEventListeners()};m["com.workinman.display.ui.ScreenBase"]=E;E.__name__=["com","workinman",
"display","ui","ScreenBase"];E.prototype={dispose:function(){this._useClickWall()&&(this._clickWall.dispose(),this._clickWall=null,this._clickFill.dispose(),this._clickFill=null);this._removeEventListeners();this._elementManager.dispose();this._elementManager=null;this.root.parent.removeChild(this.root);this.id=this._states=this.root=null;this._tween.dispose();this._flowDelegate=this._tween=null},set_flowDelegate:function(a){return this._flowDelegate=a},setFlagDispose:function(){this.flagDispose=
!0},_useClickWall:function(){return!0},_setFirstState:function(){this._setState(W.IN)},_setInState:function(){this._finishOpenState()},_setCloseState:function(){this.setFlagDispose()},_setOpenedState:function(){this._setState(W.OPENED)},_generateStates:function(){this._addState(W.IN,"in",qb.ACTION_OPENED);this._addState(W.OUT,"out",qb.ACTION_CLOSED);this._addState(W.OPENED,"open");this._addState(W.SUSPENDED,"suspend")},_buildScreen:function(){},update:function(a){this._tween.update(a);this._elementManager.updateElements(a);
this._flagStateCompleteTemp&&this._onStateComplete()},_handleInput:function(a,b,c,d,i){!1!=this._clearInput()&&this._onInput(a,b,c,d,i)},_onInput:function(){},reset:function(){this._setFirstState()},open:function(a){null==a&&(a=!0);a?(this.get_state()!=W.IN&&this._setState(W.IN),this._setInState()):this._finishOpenState()},_finishOpenState:function(){this._setOpenedState();this._flowDelegate(ab.OPENED,this.id)},suspend:function(){this._setState(W.SUSPENDED)},close:function(a){null==a&&(a=!0);this.get_state()!=
W.OUT&&(this._setState(W.OUT),a?this._setCloseState():(this.setFlagDispose(),this._flowDelegate(ab.CLOSED,this.id)))},enable:function(){},disable:function(){},isOpening:function(){return this.get_state()==W.IN},isClosing:function(){return this.get_state()==W.OUT},_addState:function(a,b,c,d,i,M){null==c&&(c=0);this._states.push(new qb(a,b,c,d,i,M))},_setState:function(a,b){null==b&&(b=!1);var c=this._findStateIndex(a);0>c||!b&&c==this._stateIndex||(this._flagStateAnimationComplete=this._flagStateCompleteTemp=
!1,this._stateIndex=c,null!=this._states[this._stateIndex].inFunc&&this._states[this._stateIndex].inFunc())},get_state:function(){return this._states[this._stateIndex].id},_findStateIndex:function(a){for(var b=this._states.length-1;0<=b;){if(this._states[b].id==a)return b;b--}return-1},_handleResizeCanvas:function(){this._clickFill.scaleX.set__((s.STAGE_WIDTH+10)/8);this._clickFill.scaleY.set__(71.25);this._onEventResizeCanvas()},_onEventResizeCanvas:function(){},_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(j.RESIZE_CANVAS,
o(this,this._handleResizeCanvas));k.get_instance().get_input().addDelegateListener(o(this,this._handleInput))},_removeEventListeners:function(){k.get_instance().get_dispatcher().removeEventListener(j.RESIZE_CANVAS,o(this,this._handleResizeCanvas));k.get_instance().get_input().removeDelegateListener(o(this,this._handleInput))},_onStateComplete:function(){this._flagStateCompleteTemp=!1;null!=this._states[this._stateIndex].outFunc&&this._states[this._stateIndex].outFunc();this._states[this._stateIndex].actionOnComplete!=
qb.ACTION_STOP&&(this._states[this._stateIndex].actionOnComplete==qb.ACTION_OPENED?(this._setOpenedState(),this._flowDelegate(ab.OPENED,this.id)):this._states[this._stateIndex].actionOnComplete==qb.ACTION_CLOSED?(this.setFlagDispose(),this._flowDelegate(ab.CLOSED,this.id)):this._states[this._stateIndex].actionOnComplete==qb.ACTION_FLOW&&s.dispatchFlowEvent(this._states[this._stateIndex].actionData))},_clearInput:function(){return this.get_state()!=W.OPENED?!1:!0},_clearButtonInput:function(){return this.get_state()!=
W.OPENED?!1:!0},__class__:E,__properties__:{get_state:"get_state",set_flowDelegate:"set_flowDelegate"}};var Ad=function(a,b){this._LIFETIME=3;E.call(this,a,b);this._tray=this._elementManager.addElement(new w({asset:h.texture.white,x:s.STAGE_CENTER_X-220,y:200}));var c=k.get_instance().get_achievements().get_lastAchievedId();this._tray.addElement(new w({asset:"achievement_icon_"+c,x:-150}));this._tray.addElement(new P({text:h.localization.achievement_unlocked,x:-100,y:-15}));this._tray.addElement(new P({text:"achievement_name_"+
c,x:-100,y:15}));this._tray.alpha=0;this._timer=this._LIFETIME};m["com.nick.international.comic_creator.ui.screens.ScreenAchievementPopup"]=Ad;Ad.__name__="com,nick,international,comic_creator,ui,screens,ScreenAchievementPopup".split(",");Ad.__super__=E;Ad.prototype=y(E.prototype,{_useClickWall:function(){return!1},dispose:function(){this._tray=null;E.prototype.dispose.call(this)},update:function(a){E.prototype.update.call(this,a);switch(this.get_state()[1]){case 2:this._timer-=a,0>=this._timer&&
s.dispatchFlowEvent(n.ACHIEVEMENT_POPUP_CLOSE)}},_setInState:function(){var a=this;L.easeSlideInFromDir(this._tray,this._tween,U.BOTTOM).onComplete(function(){a._finishOpenState()})},_setCloseState:function(){var a=this;L.easeSlideOutToDir(this._tray,this._tween,U.BOTTOM).onComplete(function(){a.setFlagDispose()})},__class__:Ad});var Bd=function(a,b){E.call(this,a,b);this._tray=this._elementManager.addElement(new w({asset:h.texture.blank}));this._rectVisible=Va.request(-s.STAGE_CENTER_X+100,-140,
700,350);this._scrollDy=80;this._list=[];for(var c=k.get_instance().get_achievements().getAchievements(),d=0,i=c.length;d<i;){var M=d++;this._list.push(this._tray.addElement(new w({asset:h.texture.white,x:0,y:this._rectVisible.get_y()+M*this._scrollDy})));this._list[this._list.length-1].addElement(new P({text:k.get_instance().get_achievements().getLocalizationNameID(c[M]),y:-15}));this._list[this._list.length-1].addElement(new P({text:k.get_instance().get_achievements().getLocalizationDescID(c[M]),
y:15}));k.get_instance().get_achievements().getAchieved(c[M])?this._list[this._list.length-1].addElement(new w({asset:k.get_instance().get_achievements().getIcon(c[M]),x:-220})):this._list[this._list.length-1].addElement(new w({asset:h.texture.white,x:-220}));this._list[this._list.length-1].addElement(new w({asset:h.texture.white,x:220}));this._list[this._list.length-1].addElement(new Da({text:C.string(k.get_instance().get_achievements().getPoints(c[M])),x:220,scale:0.5}))}c=0;for(d=this._list;c<
d.length;)i=d[c],++c,i.alpha=i.pos.y+i.height<this._rectVisible.get_y()?0:i.pos.y>this._rectVisible.get_y()+this._rectVisible.get_height()?0:1;this._tray.alpha=0;this._tray.addElement(this._buttonUp=new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.white,x:-s.STAGE_CENTER_X+70,y:-140})).dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventUpClick));this._tray.addElement(this._buttonDown=new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.white,
x:-s.STAGE_CENTER_X+70,y:180})).dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventDownClick));this._tray.addElement(this._buttonExit=new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.white,x:s.STAGE_CENTER_X-40,y:-240})).dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventExitClick));this._buttonUp.setScale(0.5,0.5);this._buttonDown.setScale(0.5,0.5);this._buttonExit.setScale(0.5,0.5);this._buttonUp.rotation=-90;this._buttonDown.rotation=90;this._checkButtons()};
m["com.nick.international.comic_creator.ui.screens.ScreenAchievements"]=Bd;Bd.__name__="com,nick,international,comic_creator,ui,screens,ScreenAchievements".split(",");Bd.__super__=E;Bd.prototype=y(E.prototype,{dispose:function(){this._list=this._buttonExit=this._buttonDown=this._buttonUp=this._tray=null;this._rectVisible.dispose();this._rectVisible=null;E.prototype.dispose.call(this)},_onEventResizeCanvas:function(){this._buttonUp.pos.x=-s.STAGE_CENTER_X+70;this._buttonDown.pos.x=-s.STAGE_CENTER_X+
70;this._buttonExit.pos.x=s.STAGE_CENTER_X-40},_setInState:function(){L.easeSlideInFromDir(this._tray,this._tween,U.TOP).onComplete(o(this,this._finishOpenState))},_setCloseState:function(){L.easeSlideOutToDir(this._tray,this._tween,U.BOTTOM).onComplete(o(this,this.setFlagDispose))},_checkButtons:function(){2>Math.abs(this._list[0].pos.y-this._rectVisible.get_y())?this._buttonUp.disable():this._buttonUp.enable();this._list[this._list.length-1].pos.y<this._rectVisible.get_y()+this._rectVisible.get_height()?
this._buttonDown.disable():this._buttonDown.enable()},_onEventUpClick:function(){var a=this;if(this._list[0].pos.y!=this._rectVisible.get_y()){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<c;){var d=b++;if(d==this._list.length-1)this._tween.tween(this._list[d].pos,0.5,{y:this._list[d].pos.y+this._scrollDy},!1,p.OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[d].pos,0.5,{y:this._list[d].pos.y+this._scrollDy},!1,p.OUT);this._list[d].pos.y+
this._list[d].getNaturalHeight()>=this._rectVisible.get_y()+this._rectVisible.get_height()?this._tween.tween(this._list[d],0.25,{alpha:0},!1,p.OUT):this._list[d].pos.y+this._scrollDy>=this._rectVisible.get_y()&&this._tween.tween(this._list[d],0.25,{alpha:1},!1,p.OUT)}}},_onEventDownClick:function(){var a=this;if(!(this._list[this._list.length-1].pos.y<this._rectVisible.get_y()+this._rectVisible.get_height())){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<c;){var d=
b++;if(d==this._list.length-1)this._tween.tween(this._list[d].pos,0.5,{y:this._list[d].pos.y-this._scrollDy},!1,p.OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[d].pos,0.5,{y:this._list[d].pos.y-this._scrollDy},!1,p.OUT);this._list[d].pos.y<=this._rectVisible.get_y()?this._tween.tween(this._list[d],0.25,{alpha:0},!1,p.OUT):this._list[d].pos.y-this._scrollDy<=this._rectVisible.get_y()+this._rectVisible.get_height()&&this._tween.tween(this._list[d],0.25,{alpha:1},!1,
p.OUT)}}},_onEventExitClick:function(){s.dispatchFlowEvent(n.ACHIEVEMENT_CLOSE)},__class__:Bd});var ha=m["com.nick.international.comic_creator.ui.screens.SELECT_TAB"]={__ename__:"com,nick,international,comic_creator,ui,screens,SELECT_TAB".split(","),__constructs__:["BODY_TAB","FACE_TAB","HAIR_TAB","CLOTHES_TAB","ACCESSORIES_TAB"]};ha.BODY_TAB=["BODY_TAB",0];ha.BODY_TAB.toString=f;ha.BODY_TAB.__enum__=ha;ha.FACE_TAB=["FACE_TAB",1];ha.FACE_TAB.toString=f;ha.FACE_TAB.__enum__=ha;ha.HAIR_TAB=["HAIR_TAB",
2];ha.HAIR_TAB.toString=f;ha.HAIR_TAB.__enum__=ha;ha.CLOTHES_TAB=["CLOTHES_TAB",3];ha.CLOTHES_TAB.toString=f;ha.CLOTHES_TAB.__enum__=ha;ha.ACCESSORIES_TAB=["ACCESSORIES_TAB",4];ha.ACCESSORIES_TAB.toString=f;ha.ACCESSORIES_TAB.__enum__=ha;ha.__empty_constructs__=[ha.BODY_TAB,ha.FACE_TAB,ha.HAIR_TAB,ha.CLOTHES_TAB,ha.ACCESSORIES_TAB];var vd=function(a,b){this._UNSELECTED_TAB_X_POS=-180;this._SELECTED_TAB_X_POS=-200;this._GRID_OFFSET_Y=117;this._GRID_OFFSET_X=130;this._GRID_START_Y=-105;this._GRID_START_X=
-62;E.call(this,a,b)};m["com.nick.international.comic_creator.ui.screens.ScreenAvatarBuilder"]=vd;vd.__name__="com,nick,international,comic_creator,ui,screens,ScreenAvatarBuilder".split(",");vd.__super__=E;vd.prototype=y(E.prototype,{_buildScreen:function(){this._bg=this._elementManager.addElement(new w({asset:s.BG_ASSET}));this._bg.set_scale(1/this._bg.getNaturalWidth()*s.STAGE_WIDTH);560*(1/this._bg.getNaturalHeight())>this._bg.get_scale()&&this._bg.set_scale(560*(1/this._bg.getNaturalHeight()));
this._tray=this._elementManager.addElement(new w({alpha:1}));var a;a=k.get_instance().getInt(l.INT_CURRENT_AVATAR);a=va.get_instance().avatars.get(a);this._traySelection=this._tray.addElement(new w({x:-150,y:0,alpha:0}));this._trayAvatar=this._tray.addElement(new w({x:215,y:0,alpha:0}));this._btnComic=this._tray.addElement(new z({assetUp:h.texture.navigation_arrow_next,x:s.STAGE_CENTER_X-60,y:210,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnComic.addElement(new P({text:"temp_comic",
x:-2,y:40}));this._btnComic.disable();this._btnComic.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventComicClicked));k.get_instance().getBool(l.BOOL_FLOW_AVATAR_FROM_COMIC)||(this._btnClose=this._tray.addElement(new z({assetUp:h.texture.navigation_arrow_back,x:-s.STAGE_CENTER_X+60,y:210,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)})),this._btnClose.addElement(new P({text:h.localization.btn_back,x:-2,y:40})),this._btnClose.dispatcher.addEventListener(j.BUTTON_CLICK,
o(this,this._onEventCloseClicked)),this._btnClose.disable());this._traySelection.addElement(new w({asset:h.texture.builder_frame,x:0,y:0}));this._backingSelection=this._traySelection.addElement(new w({x:0,y:-210}));this._selectionName=this._backingSelection.addElement(new P({text:"selection_body",x:0,y:10}));this._btnTabBody=this._traySelection.addElement(new z({assetUp:h.texture.button_body,x:0,y:-135,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnTabBody.setDispatchData(function(){var a=
new I;a.set("tab",ha.BODY_TAB);return a}(this));this._btnTabBody.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventTabClicked));this._btnTabFace=this._traySelection.addElement(new z({asset:h.texture.button_face,x:0,y:this._btnTabBody.get_y()+76,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnTabFace.setDispatchData(function(){var a=new I;a.set("tab",ha.FACE_TAB);return a}(this));this._btnTabFace.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventTabClicked));
this._btnTabHair=this._traySelection.addElement(new z({asset:h.texture.button_hair,x:0,y:this._btnTabFace.get_y()+76,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnTabHair.setDispatchData(function(){var a=new I;a.set("tab",ha.HAIR_TAB);return a}(this));this._btnTabHair.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventTabClicked));this._btnTabClothes=this._traySelection.addElement(new z({asset:h.texture.button_clothes,x:0,y:this._btnTabHair.get_y()+76,tween:this._tween,
clear:o(this,this._clearButtonInput)}));this._btnTabClothes.setDispatchData(function(){var a=new I;a.set("tab",ha.CLOTHES_TAB);return a}(this));this._btnTabClothes.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventTabClicked));this._btnTabAccessories=this._traySelection.addElement(new z({asset:h.texture.button_accessories,x:0,y:this._btnTabClothes.get_y()+76,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnTabAccessories.setDispatchData(function(){var a=new I;a.set("tab",
ha.ACCESSORIES_TAB);return a}(this));this._btnTabAccessories.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventTabClicked));this._tabs=[];var b=this._traySelection.addElement(new Xb(this._tween,ha.BODY_TAB,{x:0,y:0}));b.addItemsToTab(qa.get_instance().getItemsForSlot(q.SKIN));this._tabs.push(b);b=this._traySelection.addElement(new Xb(this._tween,ha.FACE_TAB,{x:0,y:0}));b.addItemsToTab(qa.get_instance().getItemsForSlot(q.FACE)).addItemsToTab(qa.get_instance().getItemsForSlot(q.EYE)).addItemsToTab(qa.get_instance().getItemsForSlot(q.NOSE)).addItemsToTab(qa.get_instance().getItemsForSlot(q.MOUTH));
this._tabs.push(b);b=this._traySelection.addElement(new Xb(this._tween,ha.HAIR_TAB,{x:0,y:0}));b.addItemsToTab(qa.get_instance().getItemsForSlot(q.HAIR));this._tabs.push(b);b=this._traySelection.addElement(new Xb(this._tween,ha.CLOTHES_TAB,{x:0,y:0}));b.addItemsToTab(qa.get_instance().getItemsForSlot(q.TOP)).addItemsToTab(qa.get_instance().getItemsForSlot(q.BOTTOM)).addItemsToTab(qa.get_instance().getItemsForSlot(q.SHOES));this._tabs.push(b);b=this._traySelection.addElement(new Xb(this._tween,ha.ACCESSORIES_TAB,
{x:0,y:0}));b.addItemsToTab(qa.get_instance().getItemsForSlot(q.HAT));this._tabs.push(b);b=null;this._itemBoxes=[];for(var c=1,b=this._GRID_START_X,d=this._GRID_START_Y;6>=c;){var i=this._traySelection.addElement(new Kd({assetUp:h.texture.item_box,x:b,y:d,tween:this._tween,clear:o(this,this._clearButtonInput)}));i.setDispatchData(function(){var a=new I;a.set("buttonIndex",c-1);return a}(this));i.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventItemButtonClick));this._itemBoxes.push(i);
b+=this._GRID_OFFSET_X;0==c%2&&(b=this._GRID_START_X,d+=this._GRID_OFFSET_Y);c++}this._trayAvatar.addElement(new w({asset:h.texture.avatar_frame,x:10,y:-10}));this._btnName=this._trayAvatar.addElement(new z({assetUp:h.texture.blank,x:0,y:-220,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnName.setCustomHitBox(280,45,-140,-22);b=this._btnName.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),asset:h.texture.pagination_arrow_left,x:-78,y:22}));b.setDispatchData(function(){var a=
new I;a.set("index",-1);return a}(this));b.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventNameClicked));b=this._btnName.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),asset:h.texture.pagination_arrow_right,x:75,y:22}));b.setDispatchData(function(){var a=new I;a.set("index",1);return a}(this));b.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventNameClicked));b=k.get_instance().get_localize().getLocalizeData("avatar_single_name_format");this._name=
this._btnName.addElement(new Da({text:"",x:-2,y:20,scale:b.get_scale(),font:b.get_fontName(),offsetX:b.get_offsetX(),offsetY:b.get_offsetY()}));b=null;this._btnRandomize=this._trayAvatar.addElement(new z({assetUp:h.texture.button_random,x:127,y:4,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnRandomize.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onRandomizeClicked));!k.get_instance().getBool(l.BOOL_APP)&&k.get_instance().getBool(l.BOOL_ALLOW_SHARE)&&(this._btnShare=
this._trayAvatar.addElement(new z({assetUp:h.texture.button_share,x:127.5,y:55,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)})),this._btnShare.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onShareClicked)));k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)||(this._btnDownload=this._trayAvatar.addElement(new z({assetUp:h.texture.button_download,x:127.5,y:106,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)})),this._btnDownload.dispatcher.addEventListener(j.BUTTON_CLICK,
o(this,this._onDownloadClicked)));k.get_instance().getBool(l.BOOL_ALLOW_SUBMIT)&&(this._btnSubmit=this._trayAvatar.addElement(new z({assetUp:h.texture.purple_button,x:5,y:210,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)})),this._btnSubmit.addElement(new P({text:"submit_to_nick",x:0,y:0,scale:1})),this._btnSubmit.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onSubmitClicked)));!k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)&&k.get_instance().getBool(l.BOOL_ALLOW_PRINT)&&
(this._btnPrint=this._trayAvatar.addElement(new z({assetUp:h.texture.button_print,x:126.5,y:157,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)})),this._btnPrint.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onPrintClicked)));this._avatar=this._trayAvatar.addElement(new hc({y:170,scale:0.45}));this._avatar.disablePointerInput();if(!0==k.get_instance().getBool(l.BOOL_LOAD_AVATAR)){k.get_instance().setBool(l.BOOL_LOAD_AVATAR,!1);for(a=0;8>a;){b=a++;if(!1==va.get_instance().avatars.exists(b)){k.get_instance().setInt(l.INT_CURRENT_AVATAR,
b);break}7==b&&k.get_instance().setInt(l.INT_CURRENT_AVATAR,9)}this._avatar.loadQueryString();this._name.set_text(this._avatar.getAvatarData().get_name())}else null==a||!1==a.get_created()?(this._avatar.randomizeAvatar(),this._save(),this._onEventNameClicked(null)):(this._avatar.loadAvatarInfo(a),this._name.set_text(a.get_name()),this._setupNames(),this._nameIndex=this._names.indexOf(a.get_name()));this._traySelection.addElement(new w({asset:h.texture.pagination_backing,x:0,y:200}));a=k.get_instance().get_localize().getLocalizeData("page_number_format_curr");
this._currPageText=this._traySelection.addElement(new Da({text:"1",x:-20,y:200,scale:a.get_scale(),font:a.get_fontName(),offsetX:a.get_offsetX(),offsetY:a.get_offsetY()}));a=null;a=k.get_instance().get_localize().getLocalizeData("page_number_format_slash");this._traySelection.addElement(new Da({text:"/",x:0,y:200,scale:a.get_scale(),font:a.get_fontName(),offsetX:a.get_offsetX(),offsetY:a.get_offsetY()}));a=null;a=k.get_instance().get_localize().getLocalizeData("page_number_format_total");this._totalPagesText=
this._traySelection.addElement(new Da({text:"3",x:20,y:200,scale:a.get_scale(),font:a.get_fontName(),offsetX:a.get_offsetX(),offsetY:a.get_offsetY()}));a=null;this._btnBack=this._traySelection.addElement(new z({assetUp:h.texture.pagination_arrow_left,x:-50,y:200,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnBack.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventBackPage));this._btnNext=this._traySelection.addElement(new z({assetUp:h.texture.pagination_arrow_right,
x:50,y:200,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnNext.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventNextPage));this._btnGender=this._trayAvatar.addElement(new z({assetUp:h.texture.button_male,tween:this._tween,clear:o(this,this._clearButtonInput),x:-82,y:145}));this._btnGender.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventGenderClicked));this._btnGender.setButtonAsset(this._avatar.getAvatarData().get_gender()==B.MALE?h.texture.button_male:
h.texture.button_female);a=this._tray.addElement(new Qb({tween:this._tween,clear:o(this,this._clearInput),x:s.STAGE_CENTER_X-20,y:-230}));a.set_x(a.get_x()-a.getNaturalWidth()/2);this._tray.render();this._switchTab(ha.BODY_TAB);this._refreshUI();this._setupNames()},dispose:function(){this._avatar=this._btnComic=this._btnClose=this._tray=this._bg=null;E.prototype.dispose.call(this)},_setupNames:function(){if(null==this._names){this._nameIndex=0;this._names=[];for(var a=0,b=$a.SINGLE_NAMES;a<b;){var c=
a++;this._names.push(k.get_instance().get_localize().getLocalizeData("avatar_single_name_"+(c+1)).get_string())}this._names.sort(function(a,b){a=a.toLowerCase();b=b.toLowerCase();return a<b?-1:a>b?1:0})}},_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(j.PRINT_CLOSE,o(this,this._printClose))},_removeEventListeners:function(){k.get_instance().get_dispatcher().removeEventListener(j.PRINT_CLOSE,o(this,this._printClose))},_setInState:function(){this._finishOpenState();
if(null!=this._btnClose)this._tween.tween(this._btnClose,0.2,{alpha:1},!1,p.QUAD_IN).onComplete((fa=this._btnClose,o(fa,fa.enable)));this._tween.tween(this._btnRandomize,0.2,{alpha:1},!1,p.QUAD_IN).onComplete((fa=this._btnRandomize,o(fa,fa.enable)));if(null!=this._btnShare)this._tween.tween(this._btnShare,0.2,{alpha:1},!1,p.QUAD_IN).onComplete((fa=this._btnShare,o(fa,fa.enable)));if(null!=this._btnDownload)this._tween.tween(this._btnDownload,0.2,{alpha:1},!1,p.QUAD_IN).onComplete((fa=this._btnDownload,
o(fa,fa.enable)));if(null!=this._btnSubmit)this._tween.tween(this._btnSubmit,0.2,{alpha:1},!1,p.QUAD_IN).onComplete((fa=this._btnSubmit,o(fa,fa.enable)));if(!k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)&&k.get_instance().getBool(l.BOOL_ALLOW_PRINT))this._tween.tween(this._btnPrint,0.2,{alpha:1},!1,p.QUAD_IN).onComplete((fa=this._btnPrint,o(fa,fa.enable)));this._tween.tween(this._btnComic,0.2,{alpha:1},!1,p.QUAD_IN).onComplete((fa=this._btnComic,o(fa,fa.enable)));L.easeSlideInFromDir(this._traySelection,
this._tween,U.LEFT,0.1);L.easeSlideInFromDir(this._trayAvatar,this._tween,U.RIGHT,0.1)},_setCloseState:function(){L.easeBounceOut(this._tray,this._tween).onComplete(o(this,this.setFlagDispose))},_onEventResizeCanvas:function(){},_updateAvatar:function(){this._avatar.loadAvatarInfo(this._avatar.getAvatarData())},_updateItemButtons:function(a){null==a&&(a=!1);1>=this._tabs[this._tabIndex].get_currPage()?(this._btnBack.disable(),this._btnBack.visible=!1):(this._btnBack.enable(),this._btnBack.visible=
!0);this._tabs[this._tabIndex].get_currPage()>=this._tabs[this._tabIndex].get_totalPages()?(this._btnNext.disable(),this._btnNext.visible=!1):(this._btnNext.enable(),this._btnNext.visible=!0);for(var b=6*(this._tabs[this._tabIndex].get_currPage()-1),c=b+6,d=[],i=0,M=this._tabs[this._tabIndex].get_items();i<M.length;){var e=M[i];++i;d.push(qa.get_instance().getItem(e))}if(null!=this._itemBoxes)if(d.length>b){for(;b<d.length&&b<c;)this._itemBoxes[b%6].buttonInfo=d[b],!1==a&&this._itemBoxes[b%6].addItemImage(d[b].get_thumbnail()),
b++;if(b<c)for(;b<c;)this._itemBoxes[b%6].buttonInfo=null,!1==a&&this._itemBoxes[b%6].removeItemImage(),b++}else for(;b<c;)this._itemBoxes[b%6].buttonInfo=null,!1==a&&this._itemBoxes[b%6].removeItemImage(),b++},_onEventItemButtonClick:function(a){this._tweening||(a=a.get_data().get("buttonIndex"),this._save(),null!=this._itemBoxes[a].buttonInfo&&this._avatar.setAvatarItem(this._itemBoxes[a].buttonInfo.get_slot(),this._itemBoxes[a].buttonInfo.get_id()),this._currTab==ha.BODY_TAB&&this._refreshUI())},
_refreshUI:function(){this._updateItemButtons()},_onEventTabClicked:function(a){this._tweening||(this._currTab=a.get_data().get("tab"),this._switchTab(this._currTab))},_switchTab:function(a){var b=this;this._currTab=a;for(var c=this._tabs.length;0<=--c;)this._tabs[c].get_type()==a?(this._tabs[c].showTab(),this._tabIndex=c):this._tabs[c].hideTab();this._btnTabBody.visible=!0;this._btnTabFace.visible=!0;this._btnTabClothes.visible=!0;this._btnTabHair.visible=!0;this._btnTabAccessories.visible=!0;this._btnTabBody.enable();
this._btnTabFace.enable();this._btnTabClothes.enable();this._btnTabHair.enable();this._btnTabAccessories.enable();this._btnTabBody.pos.x=this._UNSELECTED_TAB_X_POS;this._btnTabFace.pos.x=this._UNSELECTED_TAB_X_POS-1;this._btnTabClothes.pos.x=this._UNSELECTED_TAB_X_POS;this._btnTabHair.pos.x=this._UNSELECTED_TAB_X_POS;this._btnTabAccessories.pos.x=this._UNSELECTED_TAB_X_POS;var d="";switch(a[1]){case 0:d="selection_body";this._btnTabBody.pos.x=this._SELECTED_TAB_X_POS;this._btnTabBody.disable();break;
case 1:d="selection_face";this._btnTabFace.pos.x=this._SELECTED_TAB_X_POS;this._btnTabFace.disable();break;case 2:d="selection_hair";this._btnTabHair.pos.x=this._SELECTED_TAB_X_POS;this._btnTabHair.disable();break;case 3:d="selection_clothes";this._btnTabClothes.pos.x=this._SELECTED_TAB_X_POS;this._btnTabClothes.disable();break;case 4:d="selection_accessories",this._btnTabAccessories.pos.x=this._SELECTED_TAB_X_POS,this._btnTabAccessories.disable()}this._currPageText.set_text(""+this._tabs[this._tabIndex].get_currPage());
this._totalPagesText.set_text(""+this._tabs[this._tabIndex].get_totalPages());this._tweening=!0;this._tween.tween(this._backingSelection,0.15,{scale:0.25,alpha:0},!0,p.QUAD_OUT).onComplete(function(){b._selectionName.set_text(d);b._tween.tween(b._backingSelection,0.1,{scale:1,alpha:1},!1,p.QUAD_IN)});for(var a=0,c=0.125,i=0;6>i;){var M=[i];this._itemBoxes[i].disable();this._updateItemButtons(!0);this._tween.tween(this._itemBoxes[i],0.075,{scale:0.75,alpha:0},!0,p.QUAD_OUT,a).onComplete(function(a){return function(){5==
a[0]&&b._updateItemButtons()}}(M));null==this._itemBoxes[i].buttonInfo?this._tween.tween(this._itemBoxes[i],0.075,{scale:1,alpha:0},!1,p.QUAD_IN,c+0.075):this._tween.tween(this._itemBoxes[i],0.075,{scale:1,alpha:1},!1,p.QUAD_IN,c+0.075);a+=0.025;c+=0.025;i++}k.get_instance().get_timer().start(function(){for(var a=0;6>a;)b._itemBoxes[a].enable(),a++;b._tweening=!1},0.6)},_onEventBackPage:function(){var a=this;if(!this._tweening&&this._tabs[this._tabIndex].backPage()){this._currPageText.set_text(""+
this._tabs[this._tabIndex].get_currPage());this._btnBack.disable();this._tweening=!0;for(var b=0.05,c=this._GRID_START_X,d=0;6>d;){var i=[d];this._itemBoxes[d].disable();this._updateItemButtons(!0);this._tween.tween(this._itemBoxes[d],0.1,{x:c+100,alpha:0},!0,p.QUAD_OUT,b).onComplete(function(b){return function(){5==b[0]&&a._updateItemButtons()}}(i));this._tween.tween(this._itemBoxes[d],1.0E-4,{x:c-100,alpha:0},!1,p.QUAD_OUT,b+0.05);null==this._itemBoxes[d].buttonInfo?this._tween.tween(this._itemBoxes[d],
0.1,{x:c,alpha:0},!1,p.QUAD_IN,b+0.05):this._tween.tween(this._itemBoxes[d],0.1,{x:c,alpha:1},!1,p.QUAD_IN,b+0.05);b+=0.05;c+=this._GRID_OFFSET_X;0!=d%2?c=this._GRID_START_X:b=0;d++}k.get_instance().get_timer().start(function(){for(var b=0;6>b;)0!=a._itemBoxes[b].alpha&&a._itemBoxes[b].enable(),b++;a._tweening=!1},0.6)}},_onEventNextPage:function(){var a=this;if(!this._tweening&&this._tabs[this._tabIndex].nextPage()){this._currPageText.set_text(""+this._tabs[this._tabIndex].get_currPage());this._btnNext.disable();
this._tweening=!0;for(var b=0,c=this._GRID_START_X,d=0;6>d;){var i=[d];this._itemBoxes[d].disable();this._updateItemButtons(!0);this._tween.tween(this._itemBoxes[d],0.1,{x:c-100,alpha:0},!0,p.QUAD_OUT,b).onComplete(function(b){return function(){5==b[0]&&a._updateItemButtons()}}(i));this._tween.tween(this._itemBoxes[d],1.0E-4,{x:c+100,alpha:0},!1,p.QUAD_OUT,b+0.05);null==this._itemBoxes[d].buttonInfo?this._tween.tween(this._itemBoxes[d],0.1,{x:c,alpha:0},!1,p.QUAD_IN,b+0.05):this._tween.tween(this._itemBoxes[d],
0.1,{x:c,alpha:1},!1,p.QUAD_IN,b+0.05);b+=0.05;c+=this._GRID_OFFSET_X;0!=d%2&&(b=0,c=this._GRID_START_X);d++}k.get_instance().get_timer().start(function(){for(var b=0;6>b;)0!=a._itemBoxes[b].alpha&&a._itemBoxes[b].enable(),b++;a._tweening=!1},0.6)}},_onEventNameClicked:function(a){this._setupNames();null!=a&&(this._nameIndex+=a.get_data().get("index"));this._nameIndex>$a.SINGLE_NAMES-1?this._nameIndex=0:0>this._nameIndex&&(this._nameIndex=$a.SINGLE_NAMES-1);a=this._names[this._nameIndex];this._avatar.getAvatarData().set_name(a);
null!=this._name&&this._name.set_text(this._avatar.getAvatarData().get_name())},_onEventGenderClicked:function(){this._tweening||(this._avatar.setGender(this._avatar.getAvatarData().get_gender()==B.MALE?B.FEMALE:B.MALE),this._onEventNameClicked(null),this._refreshUI(),this._btnGender.setButtonAsset(this._avatar.getAvatarData().get_gender()==B.MALE?h.texture.button_male:h.texture.button_female))},_onEventCloseClicked:function(){this._save();this._sendTracking();s.dispatchFlowEvent(n.AVATAR_BUILDER_EXIT);
k.get_instance().get_dispatcher().dispatchEvent(R.request(j.REFRESH_COMIC_AVATARS))},_onEventComicClicked:function(){this._save();this._sendTracking();k.get_instance().getBool(l.BOOL_FLOW_AVATAR_FROM_COMIC)?(s.dispatchFlowEvent(n.AVATAR_BUILDER_EXIT),k.get_instance().get_dispatcher().dispatchEvent(R.request(j.REFRESH_COMIC_AVATARS))):s.dispatchFlowEvent(n.AVATAR_TO_COMIC)},_sendTracking:function(){H.sendEvent({event:"characterCreated",params:{characterName:this._avatar.getAvatarData().get_name(),
characterSkin:this._avatar.getAvatarData().get_customizations().get(q.SKIN)[0],characterEyes:this._avatar.getAvatarData().get_customizations().get(q.EYE)[0],characterMouth:this._avatar.getAvatarData().get_customizations().get(q.MOUTH)[0],characterNose:this._avatar.getAvatarData().get_customizations().get(q.NOSE)[0],characterFace:this._avatar.getAvatarData().get_customizations().get(q.FACE)[0],characterHair:this._avatar.getAvatarData().get_customizations().get(q.HAIR)[0],characterTop:this._avatar.getAvatarData().get_customizations().get(q.TOP)[0],
characterBottom:this._avatar.getAvatarData().get_customizations().get(q.BOTTOM)[0],characterHat:this._avatar.getAvatarData().get_customizations().get(q.HAT)[0],characterShoes:this._avatar.getAvatarData().get_customizations().get(q.SHOES)[0],characterNumber:k.get_instance().getInt(l.INT_CURRENT_AVATAR),gameMode:"avatar_builder"}})},_getQueryUrl:function(){var a=window.top.location.href;1<a.split("?").length&&(a=a.split("?")[0]);return a+this._avatar.getQueryString()},_onShareClicked:function(){k.get_instance().setString(l.STRING_SHARE_URL,
this._getQueryUrl());s.dispatchFlowEvent(n.OPEN_POPUP_SHARE)},_onDownloadClicked:function(){var a=this;this._isolatedElems=this._isolateAvatar();this._tween.tween(this,0.1,{}).onComplete(function(){try{J._platform.getExternal().call("eval",["downloadScreenshot();"]),a._deisolateAvatar()}catch(b){a._deisolateAvatar()}})},_onPrintClicked:function(){var a=this;this._isolatedElems=this._isolateAvatar();this._tween.tween(this,0.1,{}).onComplete(function(){try{J._platform.getExternal().call("eval",["takeScreenshot();"])}catch(b){}a._tween.tween(a,
0.1,{}).onComplete(function(){null!=a._isolatedElems&&k.get_instance().get_timer().start(function(){s.dispatchFlowEvent(n.OPEN_PRINT_CLOSE)},1)})})},_onRandomizeClicked:function(){this._avatar.randomizeAvatar();this._refreshUI();this._btnGender.setButtonAsset(this._avatar.getAvatarData().get_gender()==B.MALE?h.texture.button_male:h.texture.button_female)},_printClose:function(){this._deisolateAvatar()},_isolateAvatar:function(){this._tray.alpha=0;var a=this._elementManager.addElement(new w({asset:h.texture.white,
x:-s.STAGE_CENTER_X,y:-280,scale:1024})),b=this._elementManager.addElement(new hc({scale:0.7,y:240}));b.loadAvatarInfo(this._avatar.getAvatarData());return[a,b]},_deisolateAvatar:function(){this._tray.alpha=1;for(var a=0,b=this._isolatedElems;a<b.length;){var c=b[a];++a;c.doDelete=!0}this._isolatedElems=null},_onSubmitClicked:function(){k.get_instance().setString(l.STRING_SHARE_URL,this._getQueryUrl());s.dispatchFlowEvent(n.OPEN_POPUP_SUBMIT)},_onShareAvatar:function(){},_funnel:function(){var a=
new Ec("http://funnel.mtvnservices.com/api/v2/nick.com/collections/spongebob-squarepants-cartoon-creator-submissions/entries.json");a.onError=o(this,this._funnelError);a.onStatus=o(this,this._funnelStatus);a.onData=o(this,this._funnelSuccess);a.setParameter("message","none");a.setParameter("GameUrl",this._getQueryUrl());a.setParameter("state","NY");a.setParameter("age","9");a.request(!0)},_funnelStatus:function(){null},_funnelSuccess:function(){null},_funnelError:function(){null},_funnelResult:function(){null},
_save:function(){if(!function(){var a=k.get_instance().getInt(l.INT_CURRENT_AVATAR);return va.get_instance().avatars.exists(a)}(this)||null==function(){var a=k.get_instance().getInt(l.INT_CURRENT_AVATAR);return va.get_instance().avatars.exists(a)}(this)){var a=k.get_instance().getInt(l.INT_CURRENT_AVATAR),b=new gc;va.get_instance().avatars.set(a,b)}else(function(){var a=k.get_instance().getInt(l.INT_CURRENT_AVATAR);return va.get_instance().avatars.get(a)})(this).refresh(this._avatar.getAvatarData().get_name(),
this._avatar.getAvatarData().get_customizations(),this._avatar.getAvatarData().get_gender()),va.get_instance().save()},_usingBodyTypeButtons:function(){return 0==this._tabIndex&&1<this._tabs[this._tabIndex].get_currPage()},__class__:vd});var s=function(){};m["com.workinman.cloud.ConstantsApp"]=s;s.__name__=["com","workinman","cloud","ConstantsApp"];s.__properties__={get_isCocoon:"get_isCocoon"};s.dispatchFlowEvent=function(a){s._flowDelegate(a)};s.setFlowDelegate=function(a){s._flowDelegate=a};s.getUniqueId=
function(){return s._uniqueId++};s.get_isCocoon=function(){0>s._isCocoon&&(s._isCocoon=window.CocoonJS?1:0);return 1==s._isCocoon};s.allAudioSupported=function(){return!0};var nb=function(a,b){E.call(this,a,b)};m["com.nick.international.comic_creator.ui.screens.ScreenAvatarTray"]=nb;nb.__name__="com,nick,international,comic_creator,ui,screens,ScreenAvatarTray".split(",");nb.__super__=E;nb.prototype=y(E.prototype,{_buildScreen:function(){var a=this._elementManager.addElement(new w({asset:s.BG_ASSET}));
a.set_scale(1/a.getNaturalWidth()*s.STAGE_WIDTH);560*(1/a.getNaturalHeight())>a.get_scale()&&a.set_scale(560*(1/a.getNaturalHeight()));this._buildAvatarTray()},_buildAvatarTray:function(){this._tray=this._elementManager.addElement(new w({asset:"",x:0,y:0,alpha:1}));var a=this._tray.addElement(new Qb({tween:this._tween,clear:o(this,this._clearInput),x:s.STAGE_CENTER_X-20,y:-230}));a.set_x(a.get_x()-a.getNaturalWidth()/2);this._avatarTray=this._tray.addElement(new w({asset:h.texture.layout_picker_box,
x:0,y:0,alpha:0}));this._titleTray=this._avatarTray.addElement(new w({x:0,y:-170,alpha:1}));this._titleTray.addElement(new P({text:"choose_avatar",y:-40}));this._avatars=[];for(var b=0,c=nb._GRID_START_X,d=nb._GRID_START_Y,i,M=new z({asset:h.texture.avatar_placeholder,tween:this._tween,clear:o(this,this._clearButtonInput)});b<s.MAX_AVATARS;){if(va.get_instance().avatars.exists(b)&&!0==va.get_instance().avatars.get(b).get_created()){i=k.get_instance().get_localize().getLocalizeData(h.localization.avatar_name_display_format);
var a=this._avatarTray.addElement(new z({x:c,y:d-M.getNaturalHeight()/2,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)})),e=a.addElement(new Da({text:va.get_instance().avatars.get(b).get_name(),x:M.getNaturalWidth()/2,y:M.getNaturalHeight()/2+80,scale:i.get_scale(),font:i.get_fontName(),offsetX:i.get_offsetX(),offsetY:i.get_offsetY()}));e.set_scale(0.2);i=null;i=a.addElement(new hc({x:0,y:70,scale:0.2}));i.loadAvatarInfo(va.get_instance().avatars.get(b));var g=i;g.set_y(g.get_y()+
M.getNaturalHeight()/2);i.disablePointerInput();e.set_x(e.get_x()-M.getNaturalWidth()/2);a.setCustomHitBox(M.getNaturalWidth(),M.getNaturalHeight(),-M.getNaturalWidth()/2);a.setScale(0.9,0.9);e=null;e=a.addElement(new z({assetUp:h.texture.avatar_picker_remove,scale:1,x:45,y:35,tween:this._tween,clear:o(this,this._clearButtonInput)}));e.setDispatchData(function(){var a=new I;a.set("index",b);return a}(this));e.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onDeleteClick))}else a=this._avatarTray.addElement(new z({assetUp:h.texture.avatar_placeholder,
x:c,y:d,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)})),a.addElement(new w({asset:h.texture.avatar_picker_add,x:45,y:-35,scale:1})).disablePointerInput(),a.setScale(0.9,0.9),a.setCustomHitBox(a.getNaturalWidth()+40,a.getNaturalHeight(),-a.getNaturalWidth()/2+20);a.setDispatchData(function(){var a=new I;a.set("index",b);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventAvatarClicked));a.disable();a.clickSound=h.sound.sbcc_sfx_play;this._avatars.push(a);
b++;c+=nb._GRID_OFFSET_X;b==s.MAX_AVATARS/2&&(c=nb._GRID_START_X,d+=nb._GRID_OFFSET_Y)}i=null;M.doDelete=!0;a=M=null;this._btnClose=this._avatarTray.addElement(new z({assetUp:h.texture.universal_close,x:350,y:-210,scale:1,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnClose.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventCloseClicked));this._btnClose.disable();this._avatarTray.render();this._btnClose.render()},dispose:function(){this._avatars=this._btnClose=
this._titleTray=this._avatarTray=this._tray=null;E.prototype.dispose.call(this)},_addEventListeners:function(){E.prototype._addEventListeners.call(this);k.get_instance().get_dispatcher().addEventListener(j.DELETE_AVATAR,o(this,this._deleteAvatar));k.get_instance().get_dispatcher().addEventListener(j.REFRESH_COMIC_AVATARS,o(this,this._refreshAvatars))},_removeEventListeners:function(){E.prototype._removeEventListeners.call(this);k.get_instance().get_dispatcher().removeEventListener(j.DELETE_AVATAR,
o(this,this._deleteAvatar));k.get_instance().get_dispatcher().removeEventListener(j.REFRESH_COMIC_AVATARS,o(this,this._refreshAvatars))},_setInState:function(){var a=this;this._finishOpenState();L.easeBounceIn(this._btnClose,this._tween,!0,0).onComplete(function(){a._btnClose.enable()});L.easeBounceIn(this._avatarTray,this._tween,!0,0).onComplete(function(){for(var b=0.25,c=0;c<a._avatars.length;){a._avatars[c].disable();var d=[c];L.easeBounceInScale(a._avatars[c],a._tween,0.9,!0,b).onComplete(function(b){return function(){a._avatars[b[0]].enable()}}(d));
b+=0.05;c++}})},_setCloseState:function(){L.easeBounceOut(this._tray,this._tween).onComplete(o(this,this.setFlagDispose))},_onEventResizeCanvas:function(){},_leaveTray:function(){L.easeBounceOut(this._avatarTray,this._tween);L.easeBounceOut(this._btnClose,this._tween)},_onEventCloseClicked:function(){this._leaveTray();s.dispatchFlowEvent(n.AVATAR_TRAY_EXIT)},_onEventAvatarClicked:function(a){k.get_instance().setInt(l.INT_CURRENT_AVATAR,a.get_data().get("index"));s.dispatchFlowEvent(n.AVATAR_BUILDER_OPEN)},
_onDeleteClick:function(a){this._currentIndex=a.get_data().get("index");s.dispatchFlowEvent(n.OPEN_DELETE_AVATAR)},_deleteAvatar:function(){va.get_instance().deleteAvatar(this._currentIndex);this._refreshAvatars()},_refreshAvatars:function(){s.dispatchFlowEvent(n.AVATAR_TRAY_REFRESH)},__class__:nb});var X=m["com.nick.international.comic_creator.ui.screens.COMIC_STATE"]={__ename__:"com,nick,international,comic_creator,ui,screens,COMIC_STATE".split(","),__constructs__:["PANEL_SELECT","TWEENING","FINISH",
"PANEL_EDIT","PANEL_VIEW"]};X.PANEL_SELECT=["PANEL_SELECT",0];X.PANEL_SELECT.toString=f;X.PANEL_SELECT.__enum__=X;X.TWEENING=["TWEENING",1];X.TWEENING.toString=f;X.TWEENING.__enum__=X;X.FINISH=["FINISH",2];X.FINISH.toString=f;X.FINISH.__enum__=X;X.PANEL_EDIT=["PANEL_EDIT",3];X.PANEL_EDIT.toString=f;X.PANEL_EDIT.__enum__=X;X.PANEL_VIEW=["PANEL_VIEW",4];X.PANEL_VIEW.toString=f;X.PANEL_VIEW.__enum__=X;X.__empty_constructs__=[X.PANEL_SELECT,X.TWEENING,X.FINISH,X.PANEL_EDIT,X.PANEL_VIEW];var zc=function(a,
b){this._panels=[];E.call(this,a,b)};m["com.nick.international.comic_creator.ui.screens.ScreenComicHud"]=zc;zc.__name__="com,nick,international,comic_creator,ui,screens,ScreenComicHud".split(",");zc.__super__=E;zc.prototype=y(E.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new w({origin:0,x:-s.STAGE_CENTER_X,y:-280,alpha:0}));this._elementManager.addElement(new w({asset:s.BG_ASSET}));var a=this._btnMute=this._elementManager.addElement(new Qb({tween:this._tween,clear:o(this,
this._clearInput),x:s.STAGE_CENTER_X-20,y:-230}));a.set_x(a.get_x()-this._btnMute.getNaturalWidth()/2);this._initPanels();a=this._finishButton=this._elementManager.addElement(new z({assetUp:h.texture.purple_button,tween:this._tween,clear:o(this,this._clearInput),x:s.STAGE_CENTER_X-20,y:-150}));a.set_x(a.get_x()-this._finishButton.getScaledWidth()/2);this._finishButton.addElement(new P({text:"finish_btn",y:0}));this._finishButton.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onFinishClick));
this._overviewButton=this._elementManager.addElement(new z({assetUp:h.texture.purple_button,tween:this._tween,clear:o(this,this._clearInput),y:-240}));this._overviewButton.set_x(s.STAGE_CENTER_X+this._finishButton.getScaledWidth());this._overviewButton.addElement(new P({text:"overview_btn",y:0}));this._overviewButton.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onOverviewClick));this._exitButton=this._elementManager.addElement(new Yc(this._tween,o(this,this._clearInput)));this._exitButton.dispatcher.addEventListener(j.BUTTON_CLICK,
o(this,this._onPauseClick));this._leftButton=this._elementManager.addElement(new Zc(this._tween,o(this,this._clearInput),!0));this._leftButton.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onLeftClick));this._rightButton=this._elementManager.addElement(new Zc(this._tween,o(this,this._clearInput),!1));this._rightButton.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onRightClick));this._tapToEdit=this._elementManager.addElement(new w({asset:h.texture.panel_header,y:-250,scale:1}));
k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)?this._tapToEdit.addElement(new P({text:"tap_to_edit",y:1,x:0})):this._tapToEdit.addElement(new P({text:"click_to_edit",y:1,x:0}));this._panelNumTray=this._elementManager.addElement(new w({asset:h.texture.panel_header,scale:1,y:-356}));this._panelNumTray.addElement(new Nd({tween:this._tween,y:0})).disablePointerInput();this._panelNumTray.disablePointerInput();!k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)&&k.get_instance().getBool(l.BOOL_ALLOW_PRINT)&&
(this._backing=this._elementManager.addElement(new w({asset:h.texture.download_print_backing,x:s.STAGE_CENTER_X-45,y:2*this._finishButton.getNaturalHeight()+-160,alpha:1})),this._btnDownload=this._elementManager.addElement(new z({assetUp:h.texture.button_download,y:-200+this._finishButton.getNaturalHeight()+71,alpha:1,tween:this._tween,clear:o(this,this._clearButtonInput),scale:1})),this._btnDownload.set_x(-this._btnDownload.getNaturalWidth()/2+s.STAGE_CENTER_X-25.5),this._btnDownload.dispatcher.addEventListener(j.BUTTON_CLICK,
o(this,this._onDownloadClicked)),this._btnPrint=this._elementManager.addElement(new z({assetUp:h.texture.button_print,y:2*this._finishButton.getNaturalHeight()+-133,alpha:1,tween:this._tween,clear:o(this,this._clearButtonInput),scale:1})),this._btnPrint.set_x(-this._btnPrint.getNaturalWidth()/2+s.STAGE_CENTER_X-24),this._btnPrint.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onPrintClick)));this._bottomTray=this._elementManager.addElement(new Fc({tween:this._tween,clear:o(this,this._clearInput)}));
this._tray.render();this._setComicState(X.PANEL_SELECT);this._tweening=!1},dispose:function(){for(this._panelNumTray=this._panelTray=this._tapToEdit=this._bottomTray=this._rightButton=this._leftButton=this._exitButton=this._overviewButton=this._finishButton=this._backing=this._btnMute=this._btnPrint=this._btnDownload=this._comicElem=this._tray=null;0<this._panels.length;)this._panels.pop();this._panels=null;E.prototype.dispose.call(this)},_addEventListeners:function(){E.prototype._addEventListeners.call(this);
k.get_instance().get_dispatcher().addEventListener(j.CREATE_HUD_COMIC_ELEM,o(this,this._createHudComicElem))},_removeEventListeners:function(){E.prototype._removeEventListeners.call(this);k.get_instance().get_dispatcher().removeEventListener(j.CREATE_HUD_COMIC_ELEM,o(this,this._createHudComicElem))},_onInput:function(){},_setInState:function(){this._finishOpenState();L.easeBounceIn(this._tray,this._tween).onComplete(o(this,this._finishOpenState))},_onEventResizeCanvas:function(){this._tray.pos.to(-s.STAGE_CENTER_X,
-280)},_initPanels:function(){this._panelTray=this._elementManager.addElement(new w({scale:1/718*0.7*s.STAGE_WIDTH,y:50}));switch(k.get_instance().getInt(l.INT_PANEL_NUM)){case 1:this._panels.push(this._panelTray.addElement(new bb({assetUp:"",y:-50,tween:this._tween,clear:o(this,this._clearInput),index:1},h.texture.hd_comic_panel_frame_large,k.get_instance().getBool(l.BOOL_DO_TUTORIAL),ya.LARGE)));this._panels[0].setDispatchData(function(){var a=new I;a.set("index",0);return a}(this));this._panels[0].dispatcher.addEventListener(j.BUTTON_CLICK,
o(this,this._onPanelClick));break;case 4:for(var a=0;4>a;){var b=a++,c;c=0==b||3==b?h.texture.hd_comic_panel_frame_medium:h.texture.hd_comic_panel_frame_small;var d=0,i=0;switch(b){case 0:d=-144;i=-82;break;case 1:d=213;i=-82;break;case 2:d=-213;i=82;break;case 3:d=144,i=82}this._panels.push(this._panelTray.addElement(new bb({assetUp:"",tween:this._tween,clear:o(this,this._clearInput),x:d,y:i+-50,index:b},c,k.get_instance().getBool(l.BOOL_DO_TUTORIAL)&&0==b,c==h.texture.hd_comic_panel_frame_medium?
ya.MED:ya.SMALL)));this._panels[b].setDispatchData(function(){var a=new I;a.set("index",b);return a}(this));this._panels[b].dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onPanelClick))}break;case 8:for(a=0;8>a;){var M=a++;c=this._panelTray.addElement(new bb({assetUp:"",y:-50,tween:this._tween,clear:o(this,this._clearInput),index:M},h.texture.hd_comic_panel_frame_mini,k.get_instance().getBool(l.BOOL_DO_TUTORIAL)&&0==M,ya.TINY));d=c.getScaledWidth()+4;i=c.getScaledHeight()+4;this._panels.push(c);
c.pos.to((M%4-2)*d+d/2,i/2-(4>M?1:0)*i+-50);c.initX=c.get_x();c.initY=c.get_y();c.setDispatchData(function(){var a=new I;a.set("index",M);return a}(this));c.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onPanelClick))}}},_sendTracking:function(){H.sendEvent({event:"comicCreated",params:{numberOfPanels:k.get_instance().getInt(l.INT_PANEL_NUM),panelONE:this._panels[0].edited?"EDITED":"UNEDITED",panelTWO:1>=this._panels.length?"NA":this._panels[1].edited?"EDITED":"UNEDITED",panelTHREE:2>=this._panels.length?
"NA":this._panels[2].edited?"EDITED":"UNEDITED",panelFOUR:3>=this._panels.length?"NA":this._panels[3].edited?"EDITED":"UNEDITED",panelFIVE:4>=this._panels.length?"NA":this._panels[4].edited?"EDITED":"UNEDITED",panelSIX:5>=this._panels.length?"NA":this._panels[5].edited?"EDITED":"UNEDITED",panelSEVEN:6>=this._panels.length?"NA":this._panels[6].edited?"EDITED":"UNEDITED",panelEIGHT:7>=this._panels.length?"NA":this._panels[7].edited?"EDITED":"UNEDITED"}});for(var a=0,b=this._panels;a<b.length;){var c=
b[a];++a;c.edited=!1}},_onEventPauseClick:function(){s.dispatchFlowEvent(n.COMIC_MENU)},_onPauseClick:function(){this._sendTracking();s.dispatchFlowEvent(n.COMIC_MENU_QUIT)},_onLeftClick:function(){this._comicState!=X.PANEL_EDIT&&this._comicState!=X.FINISH||this._onArrowClick(!0)},_onRightClick:function(){this._comicState!=X.PANEL_EDIT&&this._comicState!=X.FINISH||this._onArrowClick(!1)},_onArrowClick:function(a){var b=this,c=this._comicState;this._panels[a?this._panelIndex--:this._panelIndex++].hidePanel(this._panelIndex<
this._panels.length);a=this._panels[this._panelIndex].showPanel(this._comicState==X.FINISH);this._setComicState(X.TWEENING);this._tween.tween(this,a,{}).onComplete(function(){b._setComicState(c)});k.get_instance().setValue(l.VALUE_CURRENT_PANEL,this._panels[this._panelIndex]);k.get_instance().setInt(l.INT_PANEL_INDEX,this._panelIndex);this._bottomTray.refreshButtons();this._updateArrows()},_onPrintClick:function(){var a=this;this._tweening||(this._tweening=!0,this._sendTracking(),this._tween.tween(this._finishButton,
0.4,{x:s.STAGE_CENTER_X+this._finishButton.getScaledWidth()},!0,p.IN,0,""),this._exitButton.hide(),this._tween.tween(this._panelTray,0.5,{scale:1/718*0.7*s.STAGE_WIDTH},!0,p.BUMP,0,""),this._tween.tween(this._btnPrint,0.4,{x:this._btnPrint.getNaturalWidth()+s.STAGE_CENTER_X},!0,p.IN,0,""),this._tween.tween(this._btnDownload,0.4,{x:this._btnPrint.getNaturalWidth()+s.STAGE_CENTER_X},!0,p.IN,0,""),this._tween.tween(this._backing,0.4,{x:this._btnPrint.getNaturalWidth()+s.STAGE_CENTER_X},!0,p.IN,0,""),
this._tween.tween(this._btnMute,0.4,{x:this._btnMute.getNaturalWidth()+s.STAGE_CENTER_X},!0,p.IN,0,""),this._tween.tween(this._panelTray,0.4,{y:0},!0,p.IN,0,"y"),this._tween.tween(this._tapToEdit,0.5,{y:-this._tapToEdit.getScaledHeight()-280-50},!0,p.BUMP,0,"").onComplete(function(){try{J._platform.getExternal().call("eval",["takeScreenshot();"])}catch(b){}a._tween.tween(a._finishButton,0.5,{x:s.STAGE_CENTER_X-20-a._finishButton.getScaledWidth()/2},!0,p.BOUNCE_OUT,0.5,"");a._tween.tween(a._tapToEdit,
0.5,{y:-250},!0,p.BUMP,0,"");a._tween.tween(a,0.01,{},!0).onComplete(function(){a._exitButton.show()});a._tween.tween(a._panelTray,0.4,{y:50},!0,p.IN,0,"y");a._tween.tween(a._btnMute,0.4,{x:s.STAGE_CENTER_X-20-a._btnMute.getNaturalWidth()/2},!0,p.IN,0,"");a._tween.tween(a._btnPrint,0.4,{x:-a._btnPrint.getNaturalWidth()/2+s.STAGE_CENTER_X-24},!0,p.IN,0,"");a._tween.tween(a._btnDownload,0.4,{x:-a._btnDownload.getNaturalWidth()/2+s.STAGE_CENTER_X-25.5},!0,p.IN,0,"");a._tween.tween(a._backing,0.4,{x:s.STAGE_CENTER_X-
45},!0,p.IN,0,"");a._tween.tween(a._panelTray,0.5,{scale:1/718*0.7*s.STAGE_WIDTH},!0,p.BUMP,0,"").onComplete(function(){a._tweening=!1})}))},_onFinishClick:function(){var a=this;if(this._comicState==X.PANEL_SELECT){this._setComicState(X.TWEENING);this._panelIndex=0;var b=this._panels[this._panelIndex];k.get_instance().setValue(l.VALUE_CURRENT_PANEL,b);for(var c=0,d=this._panels.length;c<d;){var i=c++;this._panels[i]==b?k.get_instance().setInt(l.INT_PANEL_INDEX,i):this._panels[i].hidePanel(i<this._panels.length/
2)}this._tween.tween(this,b.showPanel(!0,!1),{},!0).onComplete(function(){a._setComicState(X.FINISH)});this._tween.tween(this._finishButton,0.4,{x:s.STAGE_CENTER_X+this._finishButton.getScaledWidth()},!0,p.IN,0,"");this._tween.tween(this._tapToEdit,0.5,{y:-this._tapToEdit.getScaledHeight()-280-50},!0,p.BUMP,0,"");this._exitButton.hide();this._tween.tween(this._overviewButton,0.5,{x:s.STAGE_CENTER_X-120-this._overviewButton.getScaledWidth()/2},!0,p.BOUNCE_OUT,0.5,"").onComplete(function(){});null!=
this._btnPrint&&this._tween.tween(this._btnPrint,0.4,{x:s.STAGE_CENTER_X+this._btnPrint.getScaledWidth()},!0,p.IN,0,"");null!=this._btnPrint&&this._tween.tween(this._btnDownload,0.4,{x:s.STAGE_CENTER_X+this._btnPrint.getScaledWidth()},!0,p.IN,0,"");null!=this._btnPrint&&this._tween.tween(this._backing,0.4,{x:s.STAGE_CENTER_X+this._btnPrint.getScaledWidth()},!0,p.IN,0,"");this._sendTracking();this._leftButton.pos.y=0;this._rightButton.pos.y=0;this._updateArrows()}},_onFinishCancel:function(){var a=
this;this._comicState==X.FINISH&&(this._setComicState(X.TWEENING),k.get_instance().get_sound().playMusic(h.sound.main_music,0.25),this._tween.tween(this._finishButton,0.5,{x:s.STAGE_CENTER_X-20-this._finishButton.getScaledWidth()/2},!0,p.BOUNCE_OUT,0.5,""),this._tween.tween(this._tapToEdit,0.5,{y:-250},!0,p.BUMP,0,""),this._exitButton.show(),this._tween.tween(this._panelTray,1,{scale:1/718*0.7*s.STAGE_WIDTH},!0,p.BUMP,0,"").onComplete(function(){a._tween.tween(a,2,{}).onComplete(function(){a._setComicState(X.PANEL_SELECT);
k.get_instance().get_sound().playMusic(h.sound.main_music,0.3)})}))},_setComicState:function(a){this._comicState=a},_onPanelClick:function(a){var b=this;if(this._comicState==X.PANEL_SELECT){if(!a.get_data().exists("index")||8<=a.get_data().get("index")||0>a.get_data().get("index")||null==a)throw"";this._setComicState(X.TWEENING);this._panelIndex=a.get_data().get("index");a=this._panels[this._panelIndex];k.get_instance().setValue(l.VALUE_CURRENT_PANEL,a);for(var c=0,d=this._panels.length;c<d;){var i=
c++;this._panels[i]==a?k.get_instance().setInt(l.INT_PANEL_INDEX,i):this._panels[i].hidePanel(i<this._panels.length/2)}a.showPanel();this._tween.tween(this._finishButton,0.4,{x:s.STAGE_CENTER_X+this._finishButton.getScaledWidth()},!0,p.IN,0,"");this._tween.tween(this._overviewButton,0.5,{x:s.STAGE_CENTER_X-120-this._overviewButton.getScaledWidth()/2},!0,p.BOUNCE_OUT,0.5,"").onComplete(function(){b._setComicState(X.PANEL_EDIT)});this._tween.tween(this._tapToEdit,0.5,{y:-this._tapToEdit.getScaledHeight()-
280-50},!0,p.BUMP,0,"");this._tween.tween(this._panelNumTray,0.5,{y:-252},!0,p.BUMP,0,"");this._exitButton.hide();null!=this._btnPrint&&this._tween.tween(this._btnPrint,0.4,{x:this._btnPrint.getNaturalWidth()+s.STAGE_CENTER_X},!0,p.IN,0,"");null!=this._btnPrint&&this._tween.tween(this._btnDownload,0.4,{x:this._btnPrint.getNaturalWidth()+s.STAGE_CENTER_X},!0,p.IN,0,"");null!=this._btnPrint&&this._tween.tween(this._backing,0.4,{x:this._btnPrint.getNaturalWidth()+s.STAGE_CENTER_X},!0,p.IN,0,"");this._updateArrows();
k.get_instance().get_sound().playSound(h.sound.sbcc_whoosh,0.4);k.get_instance().get_timer().start(function(){k.get_instance().get_sound().playSound(h.sound.sbcc_sfx_screenchange,0.4)},0.4);k.get_instance().get_timer().start(function(){k.get_instance().get_sound().playSound(h.sound.sbcc_sfx_screenchange,0.4)},0.6);this._bottomTray.show()}},_updateArrows:function(){0>=this._panelIndex?this._leftButton.hide():this._leftButton.show();this._panelIndex>=this._panels.length-1?this._rightButton.hide():this._rightButton.show()},
_onOverviewClick:function(){var a=this;if(!(this._comicState!=X.PANEL_EDIT&&this._comicState!=X.FINISH||this._tweening)){this._tweening=!0;this._setComicState(X.TWEENING);for(var b=0,c=this._panels.length;b<c;)this._panels[b++].restorePanel();this._leftButton.pos.y=-70;this._rightButton.pos.y=-70;this._tween.tween(this._overviewButton,0.4,{x:s.STAGE_CENTER_X+this._overviewButton.getScaledWidth()},!0,p.IN,0,"");this._tween.tween(this._finishButton,0.5,{x:s.STAGE_CENTER_X-20-this._finishButton.getScaledWidth()/
2},!0,p.BOUNCE_OUT,0.5,"").onComplete(function(){a._setComicState(X.PANEL_SELECT);a._tweening=!1});this._tween.tween(this._tapToEdit,0.5,{y:-250},!0,p.BUMP,0,"");this._tween.tween(this._panelNumTray,0.5,{y:-356},!0,p.BUMP,0,"");this._exitButton.show();null!=this._btnPrint&&this._tween.tween(this._btnPrint,0.4,{x:-this._btnPrint.getNaturalWidth()/2+s.STAGE_CENTER_X-24},!0,p.IN,0,"");null!=this._btnPrint&&this._tween.tween(this._btnDownload,0.4,{x:-this._btnDownload.getNaturalWidth()/2+s.STAGE_CENTER_X-
25.5},!0,p.IN,0,"");null!=this._btnPrint&&this._tween.tween(this._backing,0.4,{x:s.STAGE_CENTER_X-45},!0,p.IN,0,"");k.get_instance().get_sound().playSound(h.sound.sbcc_whoosh,0.4);this._bottomTray.hide();this._leftButton.hide();this._rightButton.hide()}},_createHudComicElem:function(a){var b;b=a.get_data().get("btn");a=a.get_data().exists("click")&&a.get_data().get("click");b.get_type()==V.BG?this._panels[this._panelIndex].setButtonAsset(b.get_asset()):b.get_type()==V.AVATAR?k.get_instance().getInt(l.INT_PANEL_ELEM_COUNT)>=
k.get_instance().getInt(l.INT_MAX_PANEL_ELEMS)?(k.get_instance().get_sound().stopSound(h.sound.sbcc_sfx_drop),k.get_instance().get_sound().playSound(h.sound.sbcc_sfx_locked_alt_2)):this._panels[this._panelIndex].addComicElem(new Pd({asset:b.get_asset(),tween:this._tween,clear:o(this,this._clearInput),x:b.get_x(),y:b.get_y(),scale:1,trayScale:this._panelTray.get_scale(),type:b.get_type(),image:b.get_asset(),panel:this._panels[this._panelIndex]},D.__cast(b,ib).index),a):b.get_type()==V.CHARACTER?k.get_instance().getInt(l.INT_PANEL_ELEM_COUNT)>=
k.get_instance().getInt(l.INT_MAX_PANEL_ELEMS)?(k.get_instance().get_sound().stopSound(h.sound.sbcc_sfx_drop),k.get_instance().get_sound().playSound(h.sound.sbcc_sfx_locked_alt_2)):this._panels[this._panelIndex].addComicElem(new Qd({asset:b.get_asset(),tween:this._tween,clear:o(this,this._clearInput),x:b.get_x(),y:b.get_y(),text:null==b.text?null:b.text.get_text(),trayScale:this._panelTray.get_scale(),scale:b.get_scale(),type:b.get_type(),image:b.get_asset(),panel:this._panels[this._panelIndex]}),
a):this._panels[this._panelIndex].addComicElem(new Rd({asset:b.get_asset(),tween:this._tween,clear:o(this,this._clearInput),x:b.get_x(),y:b.get_y(),text:null==b.text?null:b.text.get_text(),trayScale:this._panelTray.get_scale(),scale:b.get_scale(),type:b.get_type(),image:b.get_asset(),panel:this._panels[this._panelIndex]}),a)},_onDownloadClicked:function(){var a=this;this._tweening||(this._tweening=!0,this._sendTracking(),this._tween.tween(this._finishButton,0.4,{x:s.STAGE_CENTER_X+this._finishButton.getScaledWidth()},
!0,p.IN,0,""),this._exitButton.hide(),this._tween.tween(this._panelTray,0.5,{scale:1/718*0.7*s.STAGE_WIDTH},!0,p.BUMP,0,""),this._tween.tween(this._btnPrint,0.4,{x:this._btnPrint.getNaturalWidth()+s.STAGE_CENTER_X},!0,p.IN,0,""),this._tween.tween(this._btnDownload,0.4,{x:this._btnPrint.getNaturalWidth()+s.STAGE_CENTER_X},!0,p.IN,0,""),this._tween.tween(this._backing,0.4,{x:this._btnPrint.getNaturalWidth()+s.STAGE_CENTER_X},!0,p.IN,0,""),this._tween.tween(this._btnMute,0.4,{x:this._btnMute.getNaturalWidth()+
s.STAGE_CENTER_X},!0,p.IN,0,""),this._tween.tween(this._panelTray,0.4,{y:0},!0,p.IN,0,"y"),this._tween.tween(this._tapToEdit,0.5,{y:-this._tapToEdit.getScaledHeight()-280-30},!0,p.BUMP,0,"").onComplete(function(){J._platform.getExternal().call("eval",["downloadScreenshot();"]);a._tween.tween(a._finishButton,0.5,{x:s.STAGE_CENTER_X-20-a._finishButton.getScaledWidth()/2},!0,p.BOUNCE_OUT,0.5,"");a._tween.tween(a._tapToEdit,0.5,{y:-250},!0,p.BUMP,0,"");a._tween.tween(a,0.01,{},!0).onComplete(function(){a._exitButton.show()});
a._tween.tween(a._panelTray,0.4,{y:50},!0,p.IN,0,"y");a._tween.tween(a._btnMute,0.4,{x:s.STAGE_CENTER_X-20-a._btnMute.getNaturalWidth()/2},!0,p.IN,0,"");a._tween.tween(a._btnPrint,0.4,{x:-a._btnPrint.getNaturalWidth()/2+s.STAGE_CENTER_X-24},!0,p.IN,0,"");a._tween.tween(a._btnDownload,0.4,{x:-a._btnDownload.getNaturalWidth()/2+s.STAGE_CENTER_X-25.5},!0,p.IN,0,"");a._tween.tween(a._backing,0.4,{x:s.STAGE_CENTER_X-45},!0,p.IN,0,"");a._tween.tween(a._panelTray,0.5,{scale:1/718*0.7*s.STAGE_WIDTH},!0,p.BUMP,
0,"").onComplete(function(){a._tweening=!1})}))},getQueryString:function(){for(var a="?&lhavtr",b=0,c=this._panels.length;b<c;)var d=b++,a=a+this._panels[d].getQueryString();return a},loadQueryString:function(){if(!(1>=window.location.href.split("?").length))for(var a=window.location.href.split("?")[1].split("&"),b=null,c=0;c<a.length;)b=a[c],++c,b=b.split("="),1>=b.length||C.parseInt(b[1])},__class__:zc});var xd=function(a,b){E.call(this,a,b);this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenComicMenu"]=
xd;xd.__name__="com,nick,international,comic_creator,ui,screens,ScreenComicMenu".split(",");xd.__super__=E;xd.prototype=y(E.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new w({asset:h.texture.white,alpha:0}));this._tray.addElement(new P({text:"menu",y:-170}));var a;a=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.white,x:-78,y:-60}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventResumeClick));
a=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.white,x:75,y:-60}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventHelpClick));a=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.white,x:75,y:90}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventQuitClick));this._tray.addElement(new Qb({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.white,
assetUpOff:h.texture.white,x:-78,y:90}))},dispose:function(){this._tray=null;E.prototype.dispose.call(this)},_setInState:function(){this._closing=!1;L.easeBounceIn(this._tray,this._tween).onComplete(o(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,L.easeBounceOut(this._tray,this._tween).onComplete(o(this,this.setFlagDispose)))},_onEventHelpClick:function(){s.dispatchFlowEvent(n.COMIC_MENU_HELP)},_onEventResumeClick:function(){s.dispatchFlowEvent(n.COMIC_MENU_CLOSE)},
_onEventQuitClick:function(){s.dispatchFlowEvent(n.COMIC_MENU_QUIT)},__class__:xd});var wd=function(a,b){E.call(this,a,b)};m["com.nick.international.comic_creator.ui.screens.ScreenComicPanelSelect"]=wd;wd.__name__="com,nick,international,comic_creator,ui,screens,ScreenComicPanelSelect".split(",");wd.__super__=E;wd.prototype=y(E.prototype,{_buildScreen:function(){var a=this._elementManager.addElement(new w({asset:s.BG_ASSET}));a.set_scale(1/a.getNaturalWidth()*s.STAGE_WIDTH);560*(1/a.getNaturalHeight())>
a.get_scale()&&a.set_scale(560*(1/a.getNaturalHeight()));this._tray=this._elementManager.addElement(new w({asset:"",x:0,y:0,alpha:1}));a=this._tray.addElement(new Qb({tween:this._tween,clear:o(this,this._clearInput),x:s.STAGE_CENTER_X-20,y:-230}));a.set_x(a.get_x()-a.getNaturalWidth()/2);this._contentHolder=this._tray.addElement(new w({alpha:0}));this._contentHolder.addElement(new w({asset:h.texture.layout_picker_box,x:0,y:0}));this._contentHolder.addElement(new P({text:"select_panel",y:-208}));this._btnBack=
this._contentHolder.addElement(new z({assetUp:h.texture.universal_close,x:350,y:-210,alpha:0,tween:this._tween,clear:o(this,this._clearInput)}));this._btnBack.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventBackClicked));this._btnBack.disable();this._btnPanels1=this._contentHolder.addElement(new z({assetUp:h.texture.layout_picker_1panel,x:-160,y:-60,alpha:0,tween:this._tween,clear:o(this,this._clearInput)}));this._btnPanels1.addElement(new P({text:"btn_panels_1",y:0,rotation:0}));this._btnPanels1.setDispatchData(function(){var a=
new I;a.set("panels",1);return a}(this));this._btnPanels1.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventPanelNumClicked));this._btnPanels1.disable();this._btnPanels1.clickSound=h.sound.sbcc_sfx_play;this._btnPanels4=this._contentHolder.addElement(new z({assetUp:h.texture.layout_picker_4panel,x:160,y:-60,alpha:0,tween:this._tween,clear:o(this,this._clearInput),rotation:0}));this._btnPanels4.addElement(new P({text:"btn_panels_4",y:0}));this._btnPanels4.setDispatchData(function(){var a=
new I;a.set("panels",4);return a}(this));this._btnPanels4.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventPanelNumClicked));this._btnPanels4.disable();this._btnPanels4.clickSound=h.sound.sbcc_sfx_play;this._btnPanels8=this._contentHolder.addElement(new z({assetUp:h.texture.layout_picker_8panel,x:0,y:110,alpha:0,tween:this._tween,clear:o(this,this._clearInput)}));this._btnPanels8.addElement(new P({text:"btn_panels_8",y:0}));this._btnPanels8.setDispatchData(function(){var a=new I;a.set("panels",
8);return a}(this));this._btnPanels8.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventPanelNumClicked));this._btnPanels8.disable();this._btnPanels8.clickSound=h.sound.sbcc_sfx_play;k.get_instance().getBool(l.BOOL_AVATAR_TO_COMIC)&&this._elementManager.addElement(new Yc(this._tween,o(this,this._clearButtonInput))).dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventBackToAvatar));k.get_instance().setBool(l.BOOL_AVATAR_TO_COMIC,!1);this._tray.render()},dispose:function(){this._btnPanels8=
this._btnPanels4=this._btnPanels1=this._btnBack=this._contentHolder=this._tray=null;E.prototype.dispose.call(this)},_setInState:function(){var a=this;L.easeBounceIn(this._contentHolder,this._tween).onComplete(function(){a._finishOpenState();a._tween.tween(a._btnBack,0.2,{scale:1,alpha:1},!1,p.QUAD_IN).onComplete((fa=a._btnBack,o(fa,fa.enable)));L.easeBounceIn(a._btnPanels1,a._tween).onComplete((fa=a._btnPanels1,o(fa,fa.enable)));L.easeBounceIn(a._btnPanels4,a._tween).onComplete((fa=a._btnPanels4,
o(fa,fa.enable)));L.easeBounceIn(a._btnPanels8,a._tween).onComplete((fa=a._btnPanels8,o(fa,fa.enable)))})},_onEventResizeCanvas:function(){this._tray.pos.to(0,0)},_addLoader:function(){null==this._loadWidget&&(this._loadWidget=this._tray.addElement(new Dc({tween:this._tween,y:220})));!1==this._loadWidget.get_active()&&this._loadWidget.tweenIn(!0)},_onEventBackClicked:function(){s.dispatchFlowEvent(n.COMIC_PANEL_SELECT_EXIT)},_onEventBackToAvatar:function(){s.dispatchFlowEvent(n.AVATAR_BUILDER_OPEN)},
_onEventPanelNumClicked:function(a){this._chosen=!0;this._addLoader();k.get_instance().setInt(l.INT_PANEL_NUM,a.get_data().get("panels"));s.dispatchFlowEvent(n.COMIC_CREATOR_OPEN)},_clearInput:function(){return!this._chosen},__class__:wd});var Cd=function(a,b){E.call(this,a,b)};m["com.nick.international.comic_creator.ui.screens.ScreenDebug"]=Cd;Cd.__name__="com,nick,international,comic_creator,ui,screens,ScreenDebug".split(",");Cd.__super__=E;Cd.prototype=y(E.prototype,{_buildScreen:function(){this._tray=
this._elementManager.addElement(new w({x:s.STAGE_CENTER_X,y:280}));this._fill=new Ja(0,8,8);this._fill.scaleX.set__(s.STAGE_WIDTH/8);this._fill.scaleY.set__(70);this._fill.alpha.set__(0.5);this._fill.setAnchor(4,4);this._tray.root.addChild((new ga).add(this._fill));this._tray.alpha=0;this._font=k.get_instance().get_localize().getLocalizeData("title").get_fontName();this._tray.addElement(new Da({text:"Debug Menu",font:this._font,y:-260}));this._tray.addElement(new Da({text:"Game Version: 0.2",font:this._font,
y:-300}));this._buildButtons()},dispose:function(){E.prototype.dispose.call(this);this._font=this._tray=null;this._fill.dispose();this._fill=null},_addButton:function(a,b,c,d){b=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.blank,x:b-s.STAGE_CENTER_X,y:c-280}));b.dispatcher.addEventListener(j.BUTTON_CLICK,d);b.addElement(new Da({text:a,font:this._font}))},_setInState:function(){L.easeSlideInFromDir(this._tray,this._tween,U.TOP).onComplete(o(this,
this._finishOpenState))},_setCloseState:function(){L.easeSlideOutToDir(this._tray,this._tween,U.BOTTOM).onComplete(o(this,this.setFlagDispose))},_buildButtons:function(){this._addButton("X",50,50,o(this,this._onCloseClick))},_onCloseClick:function(){s.dispatchFlowEvent(n.DEBUG_CLOSE)},__class__:Cd});var Fd=function(a,b){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;E.call(this,a,b);this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenDeleteAvatar"]=Fd;Fd.__name__="com,nick,international,comic_creator,ui,screens,ScreenDeleteAvatar".split(",");
Fd.__super__=E;Fd.prototype=y(E.prototype,{_buildScreen:function(){this._elementManager.addElement(new w({asset:h.texture.black,x:-s.STAGE_CENTER_X,y:-280,scaleX:s.STAGE_WIDTH,scaleY:560,alpha:0.7}));this._tray=this._elementManager.addElement(new w({asset:h.texture.popup_quit_bg,alpha:0}));this._tray.addElement(new P({text:"delete_avatar",y:0}));this._tray.alpha=0;this._tray.addElement(new P({text:"delete_avatar_header",y:-115}));var a=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),
assetUp:h.texture.popup_quit_btn_yes,x:-100,y:90}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onYesClick));a.addElement(new P({text:"yes",y:0}));a=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.popup_quit_btn_no,x:100,y:90}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onNoClick));a.addElement(new P({text:"no",y:0}))},dispose:function(){E.prototype.dispose.call(this);this._tray=null},_setInState:function(){this._closing=
!1;L.easeBounceIn(this._tray,this._tween).onComplete(o(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,L.easeBounceOut(this._tray,this._tween).onComplete(o(this,this.setFlagDispose)))},_onYesClick:function(){s.dispatchFlowEvent(n.CLOSE_DELETE_AVATAR);k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_AVATAR))},_onNoClick:function(){s.dispatchFlowEvent(n.CLOSE_DELETE_AVATAR)},__class__:Fd});var Wc=function(a,b){E.call(this,a,b);this._dialogueDef=
k.get_instance().get_dialogue().grabData();this._dialogueTray=this._elementManager.addElement(new w({asset:h.texture.white,y:this._getPosY(this._dialogueDef.get_position())}));this._dialogueDef.get_mobileToggle()?this._dialogueTray.addElement(new P({text:k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)?this._dialogueDef.get_text()+"_mobile":this._dialogueDef.get_text(),x:0,y:0})):this._dialogueTray.addElement(new P({text:this._dialogueDef.get_text(),x:0,y:0}));this._clickThrough=!0;null!=this._dialogueDef.get_triggerEvent()&&
(this._clickThrough=!1,k.get_instance().get_dispatcher().addEventListener(this._dialogueDef.get_triggerEvent(),o(this,this._onTrigger)));this._pointer=null!=this._dialogueDef.get_pointerType()&&this._dialogueDef.get_pointerType()!=Fa.NONE?null==this._dialogueDef.get_pointerLocation()?this._elementManager.addElement(new w({asset:h.texture.white,x:this._dialogueTray.get_x()+0.5*this._dialogueTray.getNaturalWidth(),y:this._dialogueTray.get_y()+0.5*this._dialogueTray.getNaturalHeight(),alpha:0})):this._elementManager.addElement(new w({asset:h.texture.white,
x:this._dialogueDef.get_pointerLocation().x,y:this._dialogueDef.get_pointerLocation().y,alpha:0})):null;this._timerPointer=1.5;this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenDialogue"]=Wc;Wc.__name__="com,nick,international,comic_creator,ui,screens,ScreenDialogue".split(",");Wc.__super__=E;Wc.prototype=y(E.prototype,{_getPosY:function(a){switch(a[1]){case 0:return-180;case 2:return 180}return 0},_useClickWall:function(){return!1},dispose:function(){this._pointer=this._dialogueTray=
null;null!=this._dialogueDef.get_triggerEvent()&&k.get_instance().get_dispatcher().removeEventListener(this._dialogueDef.get_triggerEvent(),o(this,this._onTrigger));this._dialogueDef.dispose();this._dialogueDef=null;E.prototype.dispose.call(this)},update:function(a){E.prototype.update.call(this,a);!k.get_instance().getBool(l.BOOL_PAUSED)&&this.get_state()==W.OPENED&&(this._timerPointer-=a,0>=this._timerPointer&&this._pointerBehavior())},_pointerBehavior:function(){switch(this._dialogueDef.get_pointerType()[1]){case 0:this._timerPointer=
1.5;this._tween.tween(this._pointer,0.25,{scale:0.9,x:this._pointer.get_x()-5,y:this._pointer.get_y()+5},!0);this._tween.tween(this._pointer,0.25,{scale:1,x:this._pointer.get_x(),y:this._pointer.get_y()},!1);break;case 2:this._timerPointer=2.5;this._tween.tween(this._pointer,0.15,{x:this._pointer.get_x()-100},!0);this._tween.tween(this._pointer,0.25,{scale:0.9,x:this._pointer.get_x()-105,y:this._pointer.get_y()+5},!1);this._tween.tween(this._pointer,0.5,{x:this._pointer.get_x()-5,y:this._pointer.get_y()+
5},!1,p.IN,0.25);this._tween.tween(this._pointer,0.25,{scale:1,x:this._pointer.get_x(),y:this._pointer.get_y()},!1,p.EASE_IN_OUT,0.25);break;case 1:this._timerPointer=1.5,this._tween.tween(this._pointer,0.7,{x:this._pointer.get_x(),y:this._pointer.get_y()+20},!0,p.IN),this._tween.tween(this._pointer,0.7,{x:this._pointer.get_x(),y:this._pointer.get_y()},!1,p.OUT)}},_onTrigger:function(a){a.get_eventId()==this._dialogueDef.get_triggerEvent()&&s.dispatchFlowEvent(n.DIALOGUE_CLOSE)},_setInState:function(){var a=
this;L.easeSlideInFromDir(this._dialogueTray,this._tween,U.BOTTOM).onComplete(function(){null!=a._pointer&&L.easeBounceIn(a._pointer,a._tween);a._finishOpenState()})},_setCloseState:function(){var a=this;null!=this._pointer&&L.easeBounceOut(this._pointer,this._tween);L.easeSlideOutToDir(this._dialogueTray,this._tween,U.BOTTOM).onComplete(function(){k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DIALOGUE_LINE_COMPLETE));null!=a._dialogueDef.get_endEvent()&&k.get_instance().get_dispatcher().dispatchEvent(R.request(a._dialogueDef.get_endEvent()));
a.setFlagDispose()})},_clearInput:function(){return k.get_instance().getBool(l.BOOL_PAUSED)||!this._clickThrough?!1:E.prototype._clearInput.call(this)},_onInput:function(a,b,c,d){switch(b[1]){case 0:case 1:switch(a[1]){case 0:this.get_state()==W.OPENED&&!1==this._closing&&c<s.STAGE_CENTER_X-100&&100<d&&(this._closing=!0,s.dispatchFlowEvent(n.DIALOGUE_CLOSE))}}},__class__:Wc});var yd=function(a,b){E.call(this,a,b);this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenHelp"]=yd;
yd.__name__="com,nick,international,comic_creator,ui,screens,ScreenHelp".split(",");yd.__super__=E;yd.prototype=y(E.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new w({asset:h.texture.white,alpha:0}));this._tray.addElement(new P({text:"help",y:-170}));this._button=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.white,x:150}));this._button.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventPlayClick));
this._tray.visible=!1},dispose:function(){this._button=this._tray=null;E.prototype.dispose.call(this)},_setInState:function(){this._closing=!1;L.easeBounceIn(this._tray,this._tween).onComplete(o(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,L.easeBounceOut(this._tray,this._tween).onComplete(o(this,this.setFlagDispose)))},_onEventPlayClick:function(){s.dispatchFlowEvent(n.HELP_CLOSE)},__class__:yd});var ud=function(a,b){E.call(this,a,b)};m["com.nick.international.comic_creator.ui.screens.ScreenMainMenu"]=
ud;ud.__name__="com,nick,international,comic_creator,ui,screens,ScreenMainMenu".split(",");ud.__super__=E;ud.prototype=y(E.prototype,{_buildScreen:function(){var a=this._elementManager.addElement(new w({asset:s.BG_ASSET}));a.set_scale(1/a.getNaturalWidth()*s.STAGE_WIDTH);560*(1/a.getNaturalHeight())>a.get_scale()&&a.set_scale(560*(1/a.getNaturalHeight()));this._tray=this._elementManager.addElement(new w({asset:"",x:0,y:0,alpha:1}));a=this._btnMute=this._tray.addElement(new Qb({tween:this._tween,clear:o(this,
this._clearInput),x:s.STAGE_CENTER_X-20,y:-230}));a.set_x(a.get_x()-this._btnMute.getNaturalWidth()/2);this._buttonTray=this._tray.addElement(new w({x:0,y:0,alpha:0}));this._btnComic=this._buttonTray.addElement(new z({assetUp:h.texture.comic_creator_btn,x:-s.STAGE_WIDTH/2,y:100,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnComic.addElement(new P({text:"btn_comic",y:0,x:90,lineSpacing:-10}));this._btnComic.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventComicClicked));
this._btnComic.disable();this._btnAvatar=this._buttonTray.addElement(new z({assetUp:h.texture.avatar_creator_btn,x:s.STAGE_WIDTH/2,y:-100,alpha:0,tween:this._tween,clear:o(this,this._clearButtonInput)}));this._btnAvatar.addElement(new P({text:"btn_avatar",y:0,x:-90,lineSpacing:-10}));this._btnAvatar.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventAvatarClicked));this._btnAvatar.disable();this._tweeningOut=!1;this._tray.render()},dispose:function(){this._loadWidget=this._btnComic=this._buttonTray=
this._btnAvatar=this._tray=null;E.prototype.dispose.call(this)},_setInState:function(){var a=this;L.easeBounceIn(this._buttonTray,this._tween).onComplete(function(){a._finishOpenState();a._enterButtons();k.get_instance().getBool(l.BOOL_FIRST_TIME_PLAY)&&(k.get_instance().setBool(l.BOOL_FIRST_TIME_PLAY,!1),va.get_instance().save())})},_enterButtons:function(){var a=this,b=0;this._tween.tween(this._btnAvatar,0.2,{x:-30,alpha:1},!0,p.QUAD_OUT,b);this._tween.tween(this._btnAvatar,0.1,{x:0},!1,p.BOUNCE_OUT,
0);this._tween.tween(this._btnComic,0.2,{x:30,alpha:1},!0,p.QUAD_OUT,b+0.2);this._tween.tween(this._btnComic,0.1,{x:-10},!1,p.BOUNCE_OUT,0).onComplete(function(){a._btnAvatar.enable();a._btnComic.enable()})},_onEventResizeCanvas:function(){this._tray.pos.to(0,0)},_addLoader:function(){null==this._loadWidget&&(this._loadWidget=this._tray.addElement(new Dc({tween:this._tween,y:220})));!1==this._loadWidget.get_active()&&this._loadWidget.tweenIn(!0)},_goToLoader:function(){L.easeBounceOut(this._buttonTray,
this._tween,!1,0).onComplete(o(this,this._addLoader))},_onEventAvatarClicked:function(){this._tweeningOut||(this._goToLoader(),this._tweeningOut=!0,s.dispatchFlowEvent(n.AVATAR_TRAY_OPEN))},_onEventComicClicked:function(){this._tweeningOut||(this._goToLoader(),this._tweeningOut=!0,s.dispatchFlowEvent(n.COMIC_PANEL_SELECT_OPEN))},__class__:ud});var Ed=function(a,b){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;E.call(this,a,b);this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenPopupShare"]=
Ed;Ed.__name__="com,nick,international,comic_creator,ui,screens,ScreenPopupShare".split(",");Ed.__super__=E;Ed.prototype=y(E.prototype,{_buildScreen:function(){this._elementManager.addElement(new w({asset:h.texture.black,alpha:0.75,scale:2E3,x:-s.STAGE_CENTER_X,y:-280}));this._tray=this._elementManager.addElement(new w({asset:h.texture.share_link_bg}));var a=k.get_instance().get_localize().getLocalizeData("submitURL");this._tray.addElement(new Da({x:0,y:-10,text:k.get_instance().getString(l.STRING_SHARE_URL).substring(0,
35),font:a.get_fontName(),scale:a.get_scale(),align:wa.Center}));this._tray.addElement(new Md({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.share_link_btn,x:-10,y:0.5*this._tray.height-50}));if(k.get_instance().getBool(l.BOOL_TOUCH_DEVICE))try{this._shareOverlay.hideButton()}catch(b){}this._tray.addElement(new P({text:"share_title",align:wa.Center,y:-60}));this._tray.addElement(new z({tween:this._tween,assetUp:h.texture.universal_close,clear:o(this,this._clearInput),x:0.5*
this._tray.width,y:0.5*-this._tray.height+7})).dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onCloseClicked))},dispose:function(){E.prototype.dispose.call(this);this._tray=this._wall=null},update:function(a){E.prototype.update.call(this,a);null!=this._submitButton&&(0<this._shareOverlay.getBlankFields().length?(this._submitButton.disable(),this._submitButton.alpha=0.5):(this._submitButton.enable(),this._submitButton.alpha=1))},_addEventListeners:function(){E.prototype._addEventListeners.call(this)},
_removeEventListeners:function(){E.prototype._removeEventListeners.call(this)},_setInState:function(){this._closing=!1;this._finishOpenState()},_setCloseState:function(){this._closing||(this._closing=!0,this.setFlagDispose())},_onSubmitClicked:function(){this.get_state()==W.OPENED&&s.dispatchFlowEvent(n.CLOSE_POPUP_SHARE)},_onSubmitSuccess:function(){},_onCloseClicked:function(){this.get_state()==W.OPENED&&s.dispatchFlowEvent(n.CLOSE_POPUP_SHARE)},_onEventResizeCanvas:function(){E.prototype._onEventResizeCanvas.call(this);
this._setInState()},__class__:Ed});var Dd=function(a,b){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;E.call(this,a,b);this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenPopupSubmit"]=Dd;Dd.__name__="com,nick,international,comic_creator,ui,screens,ScreenPopupSubmit".split(",");Dd.__super__=E;Dd.prototype=y(E.prototype,{_buildScreen:function(){this._elementManager.addElement(new w({asset:h.texture.black,x:-s.STAGE_CENTER_X,y:-280,scaleX:s.STAGE_WIDTH,scaleY:560,alpha:0.7}));
this._flagSuccess=!1;this._tray=this._elementManager.addElement(new w({x:0,y:0}));this._tray.addElement(new P({text:"submit_title",y:-170}));if(k.get_instance().getBool(l.BOOL_ANDROID_APP)){this._textFields=[];var a;a=k.get_instance().get_localize().getLocalizeData("submit_field_first_name");this._textFields.push(this._tray.addElement(new Kb({allowSymbols:!1,allowNumbers:!1,characterLimit:10,defaultText:a.get_string(),x:-110,y:-122})));a=k.get_instance().get_localize().getLocalizeData("submit_field_last_name");
this._textFields.push(this._tray.addElement(new Kb({allowSymbols:!1,allowNumbers:!1,characterLimit:1,defaultText:a.get_string(),x:65,y:-122})));this._textFields[1].set_fieldWidth(0.7*this._textFields[1].get_fieldWidth());a=k.get_instance().get_localize().getLocalizeData("submit_field_age");this._textFields.push(this._tray.addElement(new Kb({allowSymbols:!1,allowLetters:!1,characterLimit:2,defaultText:a.get_string(),x:-110,y:-22})));this._tray.addElement(new w({asset:h.texture.text_field,x:-130,y:30,
scale:0.3}));this._termsCheck=this._tray.addElement(new Ld({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.checkmark_btn,assetUpOff:h.texture.text_field,x:-130,y:30}));this._termsCheck.setScale(0.2,0.2);this._stateList=this._tray.addElement(new Sd({x:-110,y:-72,originX:0,originY:0}))}else this._shareOverlay=eval("NickShareOverlay");this._asterisks=[];this._tray.addElement(new P({text:"submit_name",align:wa.Right,x:-125,y:-120}));this._tray.addElement(new P({text:"submit_location",
align:wa.Right,x:-125,y:-70}));this._tray.addElement(new P({text:"submit_age",align:wa.Right,x:-125,y:-20}));a=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.purple_button,x:0,y:140}));a.addElement(new P({text:"submit"}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onSubmitClicked));a=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.universal_close,x:0.5*this._tray.width-25,y:0.5*
-this._tray.height+25}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onCloseClicked));this._agreementTray=this._tray.addElement(new w({x:0,y:25}));this._agreementTray.addElement(new P({text:"agreement_intro",y:0}));a=this._agreementTray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:null,x:0,y:15}));var b=a.addElement(new P({text:"terms_clickable"}));a.setCustomHitBox(b.get_textDisplay().getNaturalWidth()*b.get_scale(),b.get_textDisplay().getNaturalHeight()*
b.get_scale(),-b.get_textDisplay().getNaturalWidth()*b.get_scale()/2,-b.get_textDisplay().getNaturalHeight()*b.get_scale()/2);a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onTermsClicked));this._agreementTray.addElement(new P({text:"and",x:0,y:30}));a=this._agreementTray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:null,x:0,y:45}));b=a.addElement(new P({text:"content_clickable"}));a.setCustomHitBox(b.get_textDisplay().getNaturalWidth()*b.get_scale(),
b.get_textDisplay().getNaturalHeight()*b.get_scale(),-b.get_textDisplay().getNaturalWidth()*b.get_scale()/2,-b.get_textDisplay().getNaturalHeight()*b.get_scale()/2);a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onContentClicked));this._popupTray=this._elementManager.addElement(new w({x:0,y:0,alpha:0})).disablePointerInput();this._popupHeader=this._popupTray.addElement(new P({text:"submit_success_header",y:-60}));this._popupBody=this._popupTray.addElement(new P({text:"submit_success_body",
y:15}));this._popupTray.alpha=0;a=this._popupTray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.purple_button,x:0,y:0.5*this._popupTray.height-100}));a.addElement(new P({text:"ok"}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onPopupDoneClicked));this._flagCocoonKeyboard=!1},dispose:function(){E.prototype.dispose.call(this);this._agreementTray=this._popupBody=this._popupHeader=this._popupTray=this._tray=this._wall=null},_showCocoonKeyboard:function(){k.get_instance().getBool(l.BOOL_ANDROID_APP)&&
!this._flagCocoonKeyboard&&(this._flagCocoonKeyboard=!0,window.Cocoon.Dialog.showKeyboard({},{insertText:o(this,this._onCocoonInsertText),deleteBackward:o(this,this._onCocoonDeleteBackward),done:o(this,this._onCocoonDone),cancel:o(this,this._onCocoonCancel)}))},_hideCocoonKeyboard:function(){k.get_instance().getBool(l.BOOL_ANDROID_APP)&&this._flagCocoonKeyboard&&(this._flagCocoonKeyboard=!1,window.Cocoon.Dialog.dismissKeyboard())},_onCocoonInsertText:function(a){this._handleInputArbitraryKeyKeyboard(R.request(j.INPUT_ARBITRARY_KEY_KEYBOARD,
function(){var b=new I;b.set("key",a);b.set("phase",ta.DOWN);return b}(this)))},_onCocoonDeleteBackward:function(){this._handleInputArbitraryKeyKeyboard(R.request(j.INPUT_ARBITRARY_KEY_KEYBOARD,function(){var a=new I;a.set("key",g.Backspace);a.set("phase",ta.DOWN);return a}(this)))},_onCocoonDone:function(){this._flagCocoonKeyboard=!1},_onCocoonCancel:function(){this._flagCocoonKeyboard=!1},_addEventListeners:function(){E.prototype._addEventListeners.call(this);k.get_instance().get_dispatcher().addEventListener(j.TEXT_FIELD_ACTIVATE,
o(this,this._onTextFieldSelect));k.get_instance().get_dispatcher().addEventListener(j.INPUT_ARBITRARY_KEY_KEYBOARD,o(this,this._handleInputArbitraryKeyKeyboard));k.get_instance().get_dispatcher().addEventListener(j.DROP_DOWN_ACTIVATE,o(this,this._onDropDownActivate));k.get_instance().get_dispatcher().addEventListener(j.DROP_DOWN_DEACTIVATE,o(this,this._onDropDownDeactivate));k.get_instance().get_dispatcher().addEventListener(j.SUBMIT_POPUP_CLOSED,o(this,this._onPopupClosed))},_removeEventListeners:function(){E.prototype._removeEventListeners.call(this);
k.get_instance().get_dispatcher().removeEventListener(j.TEXT_FIELD_ACTIVATE,o(this,this._onTextFieldSelect));k.get_instance().get_dispatcher().removeEventListener(j.INPUT_ARBITRARY_KEY_KEYBOARD,o(this,this._handleInputArbitraryKeyKeyboard));k.get_instance().get_dispatcher().removeEventListener(j.DROP_DOWN_ACTIVATE,o(this,this._onDropDownActivate));k.get_instance().get_dispatcher().removeEventListener(j.DROP_DOWN_DEACTIVATE,o(this,this._onDropDownDeactivate));k.get_instance().get_dispatcher().removeEventListener(j.SUBMIT_POPUP_CLOSED,
o(this,this._onPopupClosed))},_onTextFieldSelect:function(){k.get_instance().get_timer().start(o(this,this._showCocoonKeyboard),0.2)},_onDropDownActivate:function(){for(var a=0,b=this._textFields;a<b.length;){var c=b[a];++a;c.disable()}},_onDropDownDeactivate:function(){for(var a=0,b=this._textFields;a<b.length;){var c=b[a];++a;c.enable()}this._hideCocoonKeyboard()},_onPopupOpened:function(){if(null!=this._textFields)for(var a=0,b=this._textFields;a<b.length;){var c=b[a];++a;c.disable()}null!=this._stateList&&
this._stateList.disable()},_onPopupClosed:function(){if(null!=this._textFields)for(var a=0,b=this._textFields;a<b.length;){var c=b[a];++a;c.enable()}null!=this._stateList&&this._stateList.enable();this._hideCocoonKeyboard()},_setInState:function(){this._closing=!1;this._positionOverlay();null!=this._shareOverlay&&this._shareOverlay.show();this._finishOpenState()},_positionOverlay:function(){var a=1,a=0.95;k.get_instance().getBool(l.BOOL_ANDROID_APP)||(this._shareOverlay.setWidth(s.STAGE_WIDTH-36),
this._shareOverlay.setFirstNameX(s.STAGE_CENTER_X-130*a),this._shareOverlay.setFirstNameY(140),this._shareOverlay.setInitialX(s.STAGE_CENTER_X+110*a),this._shareOverlay.setInitialY(140),this._shareOverlay.setInitialWidth(100),this._shareOverlay.setStateX(s.STAGE_CENTER_X-130*a),this._shareOverlay.setStateY(192),this._shareOverlay.setAgeX(s.STAGE_CENTER_X-130*a),this._shareOverlay.setAgeY(240),this._shareOverlay.setAgeWidth(40),this._shareOverlay.setAgreeX(s.STAGE_CENTER_X-160*a),this._shareOverlay.setAgreeY(295),
k.get_instance().getBool(l.BOOL_IOS_APP)&&(this._shareOverlay.setAgreeX(s.STAGE_CENTER_X-200*a),this._shareOverlay.setAgreeY(300)))},_setCloseState:function(){this._closing||(this._closing=!0,this.setFlagDispose(),null!=this._shareOverlay&&this._shareOverlay.hide())},_onSubmitClicked:function(){if(this.get_state()==W.OPENED){var a=[];if(k.get_instance().getBool(l.BOOL_ANDROID_APP)){if(""==this._textFields[0].get_textField().get_text()&&a.push("firstName"),""==this._textFields[1].get_textField().get_text()&&
a.push("lastInitial"),""==this._stateList.get_stateCode()&&a.push("state"),""==this._textFields[2].get_textField().get_text()&&a.push("age"),this._termsCheck.get_checked()||a.push("terms"),0==a.length){var b=new Ec("http://funnel.mtvnservices.com/api/v2/nick.com/collections/spongebob-squarepants-cartoon-creator-submissions/entries.json");b.onData=o(this,this._onHttpSuccess);b.setParameter("name",this._textFields[0].get_textField().get_text()+" "+this._textFields[1].get_textField().get_text());b.setParameter("age",
this._textFields[2].get_textField().get_text());b.setParameter("state",this._stateList.get_stateCode());b.setParameter("GameUrl",k.get_instance().getString(l.STRING_SHARE_URL));b.request(!0)}}else a=this._shareOverlay.submit(k.get_instance().getString(l.STRING_SHARE_URL),o(this,this._onSubmitSuccess)),null;if(0<a.length){for(b=this._asterisks.length;0<b;)b--,this._asterisks[b].doDelete=!0,this._asterisks.splice(b,1);for(var b=0,c=a.length;b<c;){var d=b++;this._addAsterisk(a[d])}this._hideTray();this._popupHeader.swapTextToDisplay("submit_empty_header");
this._popupBody.swapTextToDisplay("submit_empty_body");this._popupTray.enablePointerInput();L.easeBounceIn(this._popupTray,this._tween)}}},_onTermsClicked:function(){this.get_state()==W.OPENED&&(this._onPopupOpened(),s.dispatchFlowEvent(n.TERMS_OPEN))},_onContentClicked:function(){this.get_state()==W.OPENED&&(this._onPopupOpened(),s.dispatchFlowEvent(n.AGREEMENT_OPEN))},_addAsterisk:function(a){switch(a){case "firstName":case "lastInitial":this._asterisks.push(new w({asset:h.texture.asterisk,x:-115,
y:-100}));this._tray.addElement(this._asterisks[this._asterisks.length-1]);break;case "state":this._asterisks.push(new w({asset:h.texture.asterisk,x:-115,y:-50}));this._tray.addElement(this._asterisks[this._asterisks.length-1]);break;case "age":this._asterisks.push(new w({asset:h.texture.asterisk,x:-115,y:0}));this._tray.addElement(this._asterisks[this._asterisks.length-1]);break;case "terms":this._asterisks.push(new w({asset:h.texture.asterisk,x:-160,y:70})),this._tray.addElement(this._asterisks[this._asterisks.length-
1])}},_onHttpSuccess:function(){this._onSubmitSuccess()},_onSubmitSuccess:function(){this._hideTray();this._flagSuccess=!0;this._popupHeader.swapTextToDisplay("submit_success_header");this._popupBody.swapTextToDisplay("submit_success_body");this._popupTray.enablePointerInput();L.easeBounceIn(this._popupTray,this._tween)},_hideTray:function(){this._tray.alpha=0;null!=this._shareOverlay&&this._shareOverlay.hide()},_showTray:function(){this._tray.alpha=1;null!=this._shareOverlay&&this._shareOverlay.show()},
_onPopupDoneClicked:function(){this._flagSuccess?s.dispatchFlowEvent(n.CLOSE_POPUP_SUBMIT):(this._popupTray.disablePointerInput(),this._popupTray.alpha=0,this._showTray())},_onCloseClicked:function(){this.get_state()==W.OPENED&&s.dispatchFlowEvent(n.CLOSE_POPUP_SUBMIT)},_onEventResizeCanvas:function(){E.prototype._onEventResizeCanvas.call(this);this._positionOverlay()},_handleInputArbitraryKeyKeyboard:function(a){var b=C.string(a.get_data().get("key"));if(1<b.length&&("Number"==O.substr(b,0,6)||"Numpad"==
O.substr(b,0,6)))b=O.substr(b,b.length-1,null);switch(a.get_data().get("phase")[1]){case 0:switch(b){case "Backspace":case "Delete":for(var b=null,a=0,c=this._textFields;a<c.length;){var d=c[a];++a;if(d.get_active()){b=d;break}}null!=b&&b.removeCharFromInputBuffer();break;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "0":case "Q":case "W":case "E":case "R":case "T":case "Y":case "U":case "I":case "O":case "P":case "A":case "S":case "D":case "F":case "G":case "H":case "J":case "K":case "L":case "Z":case "X":case "C":case "V":case "B":case "N":case "M":case "q":case "w":case "e":case "r":case "t":case "y":case "u":case "i":case "o":case "p":case "a":case "s":case "d":case "f":case "g":case "h":case "j":case "k":case "l":case "z":case "x":case "c":case "v":case "b":case "n":case "m":a=
null;c=0;for(d=this._textFields;c<d.length;){var i=d[c];++c;if(i.get_active()){a=i;break}}null!=a&&a.addCharToInputBuffer(b);break;case "Minus":b=null;a=0;for(c=this._textFields;a<c.length;)if(d=c[a],++a,d.get_active()){b=d;break}null!=b&&b.addCharToInputBuffer("_")}}},__class__:Dd});var Gd=function(a,b){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;E.call(this,a,b);this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenPrintClose"]=Gd;Gd.__name__="com,nick,international,comic_creator,ui,screens,ScreenPrintClose".split(",");
Gd.__super__=E;Gd.prototype=y(E.prototype,{_buildScreen:function(){this._elementManager.addElement(new w({asset:h.texture.black,x:-s.STAGE_CENTER_X,y:-280,scaleX:s.STAGE_WIDTH,scaleY:560,alpha:0.7}));this._tray=this._elementManager.addElement(new w({asset:h.texture.popup_quit_bg,alpha:0}));this._tray.addElement(new P({text:"print_close",y:-115}));this._tray.alpha=0;var a=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.purple_button,x:0,y:40}));
a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onYesClick));a.addElement(new P({text:"ok",y:0}))},dispose:function(){E.prototype.dispose.call(this);this._tray=null},_setInState:function(){this._closing=!1;L.easeBounceIn(this._tray,this._tween).onComplete(o(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,L.easeBounceOut(this._tray,this._tween).onComplete(o(this,this.setFlagDispose)))},_onYesClick:function(){k.get_instance().get_dispatcher().dispatchEvent(R.request(j.PRINT_CLOSE));
s.dispatchFlowEvent(n.CLOSE_PRINT_CLOSE)},__class__:Gd});var zd=function(a,b){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;E.call(this,a,b);this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenQuitConfirm"]=zd;zd.__name__="com,nick,international,comic_creator,ui,screens,ScreenQuitConfirm".split(",");zd.__super__=E;zd.prototype=y(E.prototype,{_buildScreen:function(){this._elementManager.addElement(new w({asset:h.texture.black,x:-s.STAGE_CENTER_X,y:-280,scaleX:s.STAGE_WIDTH,
scaleY:560,alpha:0.7}));this._tray=this._elementManager.addElement(new w({asset:h.texture.popup_quit_bg,alpha:0}));this._tray.addElement(new P({text:"quit_confirm_header",y:0}));this._tray.addElement(new P({text:"quit",y:-115}));this._tray.alpha=0;var a=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.popup_quit_btn_yes,x:-100,y:90}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onYesClick));a.addElement(new P({text:"yes",y:0}));a=
this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.popup_quit_btn_no,x:100,y:90}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onNoClick));a.addElement(new P({text:"no",y:0}))},dispose:function(){E.prototype.dispose.call(this);this._tray=null},_setInState:function(){this._closing=!1;L.easeBounceIn(this._tray,this._tween).onComplete(o(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,L.easeBounceOut(this._tray,
this._tween).onComplete(o(this,this.setFlagDispose)))},_onYesClick:function(){s.dispatchFlowEvent(n.COMIC_QUIT_YES)},_onNoClick:function(){s.dispatchFlowEvent(n.COMIC_QUIT_NO)},__class__:zd});var td=function(a,b){this._BLINK_TIME=1;E.call(this,a,b);this._closing=this._blinkAllowed=!1;this._blinkTimer=this._BLINK_TIME;this._beginPreload()};m["com.nick.international.comic_creator.ui.screens.ScreenSplash"]=td;td.__name__="com,nick,international,comic_creator,ui,screens,ScreenSplash".split(",");td.__super__=
E;td.prototype=y(E.prototype,{dispose:function(){mb.sendGameEvent("onTitleScreenEnd");this._clickTray=this._loadWidget=this._buttonSound=this._textClickToPlay=this._tray=null;E.prototype.dispose.call(this)},_buildScreen:function(){this._tray=this._elementManager.addElement(new w({asset:h.texture.nick_cartoon_creator_splash_no_text,x:0,y:0}));this._tray.set_scale(1/this._tray.getNaturalWidth()*s.STAGE_WIDTH);560*(1/this._tray.getNaturalHeight())>this._tray.get_scale()&&this._tray.set_scale(560*(1/
this._tray.getNaturalHeight()));this._tray.addElement(new w({asset:h.texture.nick_cartoon_creator_splash_nickelodeon,x:-15,y:-200}));"en"==k.get_instance().getString(l.STRING_REGION_ID)&&this._tray.addElement(new w({asset:h.texture.nick_cartoon_creator_splash_text,x:-10,y:-20}))},_addEventListeners:function(){E.prototype._addEventListeners.call(this);k.get_instance().get_dispatcher().addEventListener(j.SPLASH_OUTRO_COMPLETE,o(this,this._onEventSplashOutroComplete))},_removeEventListeners:function(){k.get_instance().get_dispatcher().removeEventListener(j.SPLASH_OUTRO_COMPLETE,
o(this,this._onEventSplashOutroComplete));E.prototype._removeEventListeners.call(this)},_beginPreload:function(){var a=["fonts_"+k.get_instance().getString(l.STRING_REGION_ID)];k.get_instance().get_assets().load(o(this,this._onPreloadFinished),["preload"],a,null,0)},_onPreloadFinished:function(){k.get_instance().get_localize().parseLocalization();this._addPreload();this._beginInitialLoad(k.get_instance().getInt(l.INT_QUALITY))},_beginInitialLoad:function(a){if(0==a)a="initial_sd";else if(1==a)a="initial_hd";
else throw"[Main](_beginInitialLoad) Error: Not expecting quality flag "+a+". Nothing loaded.";var b;b=s.allAudioSupported()?"initial_audio_optional":"initial_audio_required";k.get_instance().get_assets().load(o(this,this._eventLoadCompleteInitial),[a,b],null,null,1.2)},_eventLoadCompleteInitial:function(){mb.sendGameEvent("onLoadingEnd");this._removeLoader();this._addClickTray();k.get_instance().get_dispatcher().dispatchEvent(R.request(j.INITIAL_LOAD_COMPLETE));mb.sendGameEvent("onTitleScreenStart")},
_addPreload:function(){if("en"!=k.get_instance().getString(l.STRING_REGION_ID)){var a=this._tray.addElement(new w({y:0}));a.addElement(new P({text:h.localization.title}));L.easeBounceIn(a,this._tween)}this._addLoader()},_addLoader:function(){null==this._loadWidget&&(this._loadWidget=this._tray.addElement(new Dc({tween:this._tween,y:220})));!1==this._loadWidget.get_active()&&this._loadWidget.tweenIn(!0)},_removeLoader:function(){null==this._loadWidget||!1==this._loadWidget.get_active()||this._loadWidget.tweenOut()},
_addClickTray:function(){H.sendGameStarted();var a;a=k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)?"tap_anywhere":"click_anywhere";this._clickTray=this._tray.addElement(new w({y:270,originY:1,scale:1}));this._textClickToPlay=this._clickTray.addElement(new P({text:a,y:0,originY:1,alpha:0}));this._blinkAllowed=!0},update:function(a){E.prototype.update.call(this,a);this._blinkAllowed&&null!=this._clickTray?(this._blinkTimer-=a,0>=this._blinkTimer&&(0==this._textClickToPlay.alpha?(this._blinkTimer=this._BLINK_TIME,
this._textClickToPlay.alpha=1):(this._blinkTimer=this._BLINK_TIME/2,this._textClickToPlay.alpha=0))):null!=this._textClickToPlay&&(this._textClickToPlay.alpha=0)},_onEventSplashOutroComplete:function(){s.dispatchFlowEvent(n.MAIN_MENU)},_doOutro:function(){},_onEventCodeClick:function(){this.get_state()==W.OPENED&&(k.get_instance().setBool(l.BOOL_CODE_SCREEN_OPEN,!0),s.dispatchFlowEvent(n.ENTER_CODE_OPEN))},_tweenOutClickTray:function(){null!=this._clickTray&&(this._tween.tween(this._clickTray,0.15,
{scaleX:1.1,scaleY:1.1},!0,p.QUAD_OUT),this._tween.tween(this._clickTray,0.15,{scaleX:0.1,scaleY:0.1,alpha:0},!1,p.QUAD_IN))},_setCloseState:function(){this.setFlagDispose()},_onInput:function(a,b){switch(b[1]){case 0:case 1:switch(a[1]){case 1:!1==this._closing&&!1==k.get_instance().getBool(l.BOOL_CODE_SCREEN_OPEN)&&(this._closing=!0,this._tweenOutClickTray(),s.dispatchFlowEvent(n.MAIN_MENU))}}},__class__:td});var Hd=function(a,b){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;E.call(this,a,b);
this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenSubmitConfirm"]=Hd;Hd.__name__="com,nick,international,comic_creator,ui,screens,ScreenSubmitConfirm".split(",");Hd.__super__=E;Hd.prototype=y(E.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new w({alpha:0}));this._tray.addElement(new P({text:"submit_popup",y:-100}));this._tray.alpha=0;var a=this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.purple_button,
x:0,y:40}));a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onNoClick));a.addElement(new P({text:"ok",y:-5}))},dispose:function(){E.prototype.dispose.call(this);this._tray=null},_setInState:function(){this._closing=!1;L.easeBounceIn(this._tray,this._tween).onComplete(o(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,L.easeBounceOut(this._tray,this._tween).onComplete(o(this,this.setFlagDispose)))},_onNoClick:function(){s.dispatchFlowEvent(n.CLOSE_SUBMIT_CONFIRM)},
__class__:Hd});var Id=function(a,b){E.call(this,a,b);this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenTermsOfUse"]=Id;Id.__name__="com,nick,international,comic_creator,ui,screens,ScreenTermsOfUse".split(",");Id.__super__=E;Id.prototype=y(E.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new w({x:0,y:0}));k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)?this._tray.addElement(new $c("full_terms",{x:0,y:-90})):this._shareOverlay=eval("ShareOverlay");
k.get_instance().getBool(l.BOOL_ANDROID_APP)||(this._shareOverlayNick=eval("NickShareOverlay"));this._tray.addElement(new P({text:"terms_title",x:0,y:-160}));this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.universal_close,x:0.5*this._tray.width-25,y:0.5*-this._tray.height+25})).dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onCloseClicked))},dispose:function(){E.prototype.dispose.call(this);this._shareOverlay=this._shareOverlayNick=this._tray=
null},_setInState:function(){this._closing=!1;this._positionOverlay();k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)||this._shareOverlay.show();null!=this._shareOverlayNick&&this._shareOverlayNick.hide();this._finishOpenState()},_positionOverlay:function(){if(!k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)){var a=k.get_instance().get_localize().getLocalizeData("full_terms"),b;b=1-0.65*(s.STAGE_WIDTH/560-1.714);this._shareOverlay.setText(a.get_string());this._shareOverlay.setWidth(550*b);this._shareOverlay.setHeight(290*
b);this._shareOverlay.setPosition(280-120/b)}},_setCloseState:function(){this._closing||(this._closing=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.SUBMIT_POPUP_CLOSED)),k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)||this._shareOverlay.hide(),null!=this._shareOverlayNick&&this._shareOverlayNick.show(),this.setFlagDispose())},_onCloseClicked:function(){this.get_state()==W.OPENED&&s.dispatchFlowEvent(n.TERMS_CLOSE)},_onEventResizeCanvas:function(){E.prototype._onEventResizeCanvas.call(this);
this._positionOverlay()},__class__:Id});var Jd=function(a,b){E.call(this,a,b);this._closing=!1};m["com.nick.international.comic_creator.ui.screens.ScreenUserContentSubmissionAgreement"]=Jd;Jd.__name__="com,nick,international,comic_creator,ui,screens,ScreenUserContentSubmissionAgreement".split(",");Jd.__super__=E;Jd.prototype=y(E.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new w({x:0,y:0}));k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)?this._tray.addElement(new $c("full_content",
{x:0,y:-90})):this._shareOverlay=eval("ShareOverlay");k.get_instance().getBool(l.BOOL_ANDROID_APP)||(this._shareOverlayNick=eval("NickShareOverlay"));this._tray.addElement(new P({text:"content_title",x:0,y:-160}));this._tray.addElement(new z({tween:this._tween,clear:o(this,this._clearButtonInput),assetUp:h.texture.universal_close,x:0.5*this._tray.width-25,y:0.5*-this._tray.height+25})).dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onCloseClicked))},dispose:function(){E.prototype.dispose.call(this);
this._shareOverlay=this._shareOverlayNick=this._tray=null},_setInState:function(){this._closing=!1;this._positionOverlay();k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)||this._shareOverlay.show();null!=this._shareOverlayNick&&this._shareOverlayNick.hide();this._finishOpenState()},_positionOverlay:function(){if(!k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)){var a=k.get_instance().get_localize().getLocalizeData("full_content"),b;b=1-0.65*(s.STAGE_WIDTH/560-1.714);this._shareOverlay.setText(a.get_string());
this._shareOverlay.setWidth(550*b);this._shareOverlay.setHeight(290*b);this._shareOverlay.setPosition(280-120/b)}},_setCloseState:function(){this._closing||(this._closing=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.SUBMIT_POPUP_CLOSED)),k.get_instance().getBool(l.BOOL_TOUCH_DEVICE)||this._shareOverlay.hide(),null!=this._shareOverlayNick&&this._shareOverlayNick.show(),this.setFlagDispose())},_onCloseClicked:function(){this.get_state()==W.OPENED&&s.dispatchFlowEvent(n.AGREEMENT_CLOSE)},
_onEventResizeCanvas:function(){E.prototype._onEventResizeCanvas.call(this);this._positionOverlay()},__class__:Jd});var Sd=function(a){this._numShown=4;this._selected=0;this._highlightThickness=4;this._padding=5;this._scratchPoint=new Ca;w.call(this,a);this._flagEnabled=!0;this._flagMouseDown=this._flagActive=!1;this._text=[];this._startPos=[];this._field=this.addElement(new w({asset:h.texture.text_field,originX:0,originY:0}));this._field.render();this._states=[{code:"AL",state:"Alabama"},{code:"AK",
state:"Alaska"},{code:"AZ",state:"Arizona"},{code:"AR",state:"Arkansas"},{code:"CA",state:"California"},{code:"CO",state:"Colorado"},{code:"CT",state:"Connecticut"},{code:"DE",state:"Delaware"},{code:"DC",state:"District Of Columbia"},{code:"FL",state:"Florida"},{code:"GA",state:"Georgia"},{code:"HI",state:"Hawaii"},{code:"ID",state:"Idaho"},{code:"IL",state:"Illinois"},{code:"IN",state:"Indiana"},{code:"IA",state:"Iowa"},{code:"KS",state:"Kansas"},{code:"KY",state:"Kentucky"},{code:"LA",state:"Louisiana"},
{code:"ME",state:"Maine"},{code:"MD",state:"Maryland"},{code:"MA",state:"Massachusetts"},{code:"MI",state:"Michigan"},{code:"MN",state:"Minnesota"},{code:"MS",state:"Mississippi"},{code:"MO",state:"Missouri"},{code:"MT",state:"Montana"},{code:"NE",state:"Nebraska"},{code:"NV",state:"Nevada"},{code:"NH",state:"New Hampshire"},{code:"NJ",state:"New Jersey"},{code:"NM",state:"New Mexico"},{code:"NY",state:"New York"},{code:"NC",state:"North Carolina"},{code:"ND",state:"North Dakota"},{code:"OH",state:"Ohio"},
{code:"OK",state:"Oklahoma"},{code:"OR",state:"Oregon"},{code:"PA",state:"Pennsylvania"},{code:"RI",state:"Rhode Island"},{code:"SC",state:"South Carolina"},{code:"SD",state:"South Dakota"},{code:"TN",state:"Tennessee"},{code:"TX",state:"Texas"},{code:"UT",state:"Utah"},{code:"VT",state:"Vermont"},{code:"VA",state:"Virginia"},{code:"WA",state:"Washington"},{code:"WV",state:"West Virginia"},{code:"WI",state:"Wisconsin"},{code:"WY",state:"Wyoming"}];for(var b=0,c=a=0,d=c=0,i=this._states.length;d<i;){var M=
d++;this._text.push(this.addElement(new P({text:"submit_text",align:wa.Left,x:this._padding,originX:0})));this._text[M].set_doLocalize(!1);this._text[M].set_text(this._states[M].state);c=this._text[M].get_textDisplay().getNaturalWidth()*this._text[M].get_scale();c>b&&(b=c);c=this._text[M].get_textDisplay().getNaturalHeight()*this._text[M].get_scale();c>a&&(a=c)}this._textHeight=a;this._textWidth=b;d=0;for(i=this._text.length;d<i;)c=d++,this._text[c].pos.y=c*a;this._field.scaleX=(b+2*this._padding)/
this._field.width;this._field.scaleY=(a*this._numShown+4*this._padding)/this._field.height;b=a/this._field.height;this._activeHighlight=new Ja(43775,this._field.width*this._field.scaleX+4,this._field.height*b+4);this._activeHighlight.x.set__(-0.5*this._highlightThickness);this._activeHighlight.alpha.set__(0.5);this._imageEntity.addChild((new ga).add(this._activeHighlight));this._field.pos.y=-a/2-2*this._padding;this._hitRect=Va.request(-(this._field.width*this._field.scaleX)*this._field.originX,-(this._field.height*
b)*this._field.originY,this._field.width*this._field.scaleX,this._field.height*b);this._rootSprite.scissor=new Ea;this._setInactive()};m["com.nick.international.comic_creator.ui.text.DropDownList"]=Sd;Sd.__name__="com,nick,international,comic_creator,ui,text,DropDownList".split(",");Sd.__super__=w;Sd.prototype=y(w.prototype,{dispose:function(){w.prototype.dispose.call(this);this._startPos=this._states=this._scratchPoint=this._hitRect=this._activeHighlight=this._text=this._field=null},get_stateCode:function(){return this._states[this._selected].code},
update:function(a){w.prototype.update.call(this,a);this._activeHighlight.y.set__(-0.5*this._highlightThickness+this._text[this._selected].pos.y-this._textHeight/2)},_setActive:function(){this._flagActive=!0;k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DROP_DOWN_ACTIVATE));this._rootSprite.scissor.set(2*-this._padding,-this._textHeight/2,this._textWidth+6*this._padding,this._textHeight*this._numShown);this._activeHighlight.set_visible(!0)},_setInactive:function(){this._flagActive=!1;
k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DROP_DOWN_DEACTIVATE));this._rootSprite.scissor.set(2*-this._padding,-this._textHeight/2,this._textWidth+6*this._padding,this._textHeight);this._activeHighlight.set_visible(!1)},_addEventListeners:function(){w.prototype._addEventListeners.call(this);k.get_instance().get_input().addDelegateListener(o(this,this._onInput))},_removeEventListeners:function(){w.prototype._removeEventListeners.call(this);k.get_instance().get_input().removeDelegateListener(o(this,
this._onInput))},_onInput:function(a,b,c,d){if(this._flagEnabled)switch(b[1]){case 0:switch(this._imageSprite.getViewMatrix().inverseTransform(c,d,this._scratchPoint),b=this._hitRect.contains(this._scratchPoint.x,this._scratchPoint.y),a[1]){case 0:!this._flagActive&&b&&this._setActive();this._scratchPoint.x>this._hitRect.get_left()&&this._scratchPoint.x<this._hitRect.get_right()&&(this._flagMouseDown=!0,this._onDown(this._scratchPoint.y));break;case 2:this._onMove(c,d);break;case 1:this._flagMouseDown=
!1,(this._scratchPoint.x<this._hitRect.get_left()||this._scratchPoint.x>this._hitRect.get_right())&&this._onUp()}}},_onDown:function(a){if(this._flagActive)for(var b=0,c=this._text.length;b<c;){var d=b++;this._startPos[d]=this._text[d].pos.y;Math.abs(this._text[d].pos.y-a)<this._textHeight/2&&(this._selected=d)}},_onMove:function(){if(this._flagActive&&this._flagMouseDown){var a=k.get_instance().get_input().pointer.get_currentPos().y-k.get_instance().get_input().pointer.get_originPos().y;0<this._startPos[0]+
a&&(a=-this._startPos[0]);this._startPos[this._text.length-1]+a<this._textHeight*(this._numShown-1)&&(a=-this._startPos[this._text.length-1]);for(var b=0,c=this._text.length;b<c;){var d=b++;this._text[d].pos.y=this._startPos[d]+a}}},_onUp:function(){if(this._flagActive){for(var a=-this._startPos[this._selected],b=0,c=this._text.length;b<c;){var d=b++;this._text[d].pos.y=this._startPos[d]+a}this._setInactive()}},enable:function(){this._flagEnabled=!0},disable:function(){this._flagEnabled=!1;this._setInactive()},
__class__:Sd,__properties__:y(w.prototype.__properties__,{get_stateCode:"get_stateCode"})});var $c=function(a,b){this._fieldHeight=200;this._fieldWidth=400;this._padding=5;this._scratchPoint=new Ca;w.call(this,b);this.pos.x=-this._fieldWidth/2;this._field=this.addElement(new w({asset:h.texture.text_field,originX:0,originY:0,x:-this._padding}));var c=k.get_instance().get_localize().getLocalizeData("textarea_terms_agreement");this._text=this.addElement(new P({text:"textarea_terms_agreement",align:wa.Left,
x:0,originX:0,originY:0,width:this._fieldWidth/c.get_scale()}));this._text.set_doLocalize(!1);this._text.set_text(k.get_instance().get_localize().getString(a));this._text.get_textDisplay().getNaturalWidth();c=this._text.get_textDisplay().getNaturalHeight();this._field.scaleX=(this._fieldWidth+2*this._padding)/this._field.width;this._field.scaleY=(this._fieldHeight+2*this._padding)/this._field.height;this._scrollBar=new Ja(43775,5,5);this._scrollBar.x.set__(this._fieldWidth);this._imageEntity.addChild((new ga).add(this._scrollBar));
this._hitRect=Va.request(-(this._field.width*this._field.scaleX)*this._field.originX,-(this._field.height*this._field.scaleY)*this._field.originY,this._field.width*this._field.scaleX,this._field.height*this._field.scaleY);this._rootSprite.scissor=new Ea(-this._padding,0,this._fieldWidth+3*this._padding,this._fieldHeight+2*this._padding);this._flagMouseDown=!1;this._textHeight=c*this._text.get_scale()};m["com.nick.international.comic_creator.ui.text.TextArea"]=$c;$c.__name__="com,nick,international,comic_creator,ui,text,TextArea".split(",");
$c.__super__=w;$c.prototype=y(w.prototype,{dispose:function(){w.prototype.dispose.call(this);this._scrollBar=this._scratchPoint=this._hitRect=this._text=this._field=null},update:function(a){w.prototype.update.call(this,a)},_addEventListeners:function(){w.prototype._addEventListeners.call(this);k.get_instance().get_input().addDelegateListener(o(this,this._onInput))},_removeEventListeners:function(){w.prototype._removeEventListeners.call(this);k.get_instance().get_input().removeDelegateListener(o(this,
this._onInput))},_onInput:function(a,b,c,d){switch(b[1]){case 0:switch(this._imageSprite.getViewMatrix().inverseTransform(c,d,this._scratchPoint),b=this._hitRect.contains(this._scratchPoint.x,this._scratchPoint.y),a[1]){case 0:b&&this._onDown();break;case 2:this._onMove();break;case 1:this._onUp()}}},_onDown:function(){this._flagMouseDown=!0;this._startPos=this._text.pos.y},_onMove:function(){if(this._flagMouseDown){var a=k.get_instance().get_input().pointer.get_currentPos().y-k.get_instance().get_input().pointer.get_originPos().y,
b=-this._textHeight+this._fieldHeight;0<this._startPos+a&&(a=-this._startPos);this._startPos+a<b&&(a=b-this._startPos);this._text.pos.y=this._startPos+a;this._scrollBar.y.set__(0+(this._fieldHeight+this._scrollBar.height._value-0)*((this._text.pos.y-0)/(b-0)))}},_onUp:function(){this._flagMouseDown=!1},__class__:$c});var Kb=function(a){this._padding=5;this._highlightThickness=4;w.call(this,a);this._flagEnabled=!0;this._allowSymbols=null==a.allowSymbols?!0:a.allowSymbols;this._allowNumbers=null==a.allowNumbers?
!0:a.allowNumbers;this._allowLetters=null==a.allowLetters?!0:a.allowLetters;this._characterLimit=null==a.characterLimit?5:a.characterLimit;this._inputBuffer=null==a.defaultText?"":a.defaultText;var b;b=0==this._inputBuffer.length?this._characterLimit:this._inputBuffer.length;var c=k.get_instance().get_localize().getLocalizeData("submit_text");this._font=k.get_instance().get_assets().getFont(c.get_fontName(),!0);this._glyphWidth=this._font.getGlyph(O.cca("M",0)).width*c.get_scale();this._glyphHeight=
this._font.getGlyph(O.cca("M",0)).height*c.get_scale();this._field=this.addElement(new w({asset:h.texture.text_field,originX:0}));this._field.render();this._field.scaleX=(b*this._glyphWidth+2*this._padding)/this._field.width;this._field.scaleY=(this._glyphHeight+2*this._padding)/this._field.height;this._activeHighlight=new Ja(43775,this._field.width*this._field.scaleX+4,this._field.height*this._field.scaleY+4);this._activeHighlight.x.set__(-0.5*this._highlightThickness);this._activeHighlight.y.set__(-0.5*
this._highlightThickness-this._field.height*this._field.scaleY*this._field.originY);this._imageEntity.addChild((new ga).add(this._activeHighlight),!1);this._inputTextField=this.addElement(new P({text:"submit_text",align:wa.Left,x:this._padding,originX:0}));this._inputTextField.set_doLocalize(!1);this._inputTextField.set_text("");this._defaultText=this.addElement(new P({text:"submit_text",align:wa.Left,x:this._padding,originX:0}));this._defaultText.set_doLocalize(!1);this._defaultText.set_text(a.defaultText);
this._defaultText.visible=""==this._inputTextField.get_text();this._inputBuffer="";this._hitRect=Va.request(-(this._field.width*this._field.scaleX)*this._field.originX,-(this._field.height*this._field.scaleY)*this._field.originY,this._field.width*this._field.scaleX,this._field.height*this._field.scaleY);this._renderInactive()};m["com.nick.international.comic_creator.ui.text.TextFieldBase"]=Kb;Kb.__name__="com,nick,international,comic_creator,ui,text,TextFieldBase".split(",");Kb.__super__=w;Kb.prototype=
y(w.prototype,{get_active:function(){return this._active},get_fieldWidth:function(){return this._field.width*this._field.scaleX},set_fieldWidth:function(a){this._field.scaleX=a/this._field.width;this._activeHighlight.setSize(this._field.width*this._field.scaleX+4,this._field.height*this._field.scaleY+4);return this.get_fieldWidth()},get_fieldHeight:function(){return this._field.height*this._field.scaleY},get_textField:function(){return this._inputTextField},_addEventListeners:function(){w.prototype._addEventListeners.call(this);
k.get_instance().get_dispatcher().addEventListener(j.TEXT_FIELD_ACTIVATE,o(this,this._onTextFieldSelect));k.get_instance().get_input().addDelegateListener(o(this,this._onInput))},_removeEventListeners:function(){w.prototype._removeEventListeners.call(this);k.get_instance().get_dispatcher().removeEventListener(j.TEXT_FIELD_ACTIVATE,o(this,this._onTextFieldSelect));k.get_instance().get_input().removeDelegateListener(o(this,this._onInput))},_onTextFieldSelect:function(){this._renderInactive()},addCharToInputBuffer:function(a){var b=
null!=C.parseInt(a),c=!1,d=O.cca(a,0);if(65<=d&&90>=d||97<=d&&122>=d)c=!0;!this._allowSymbols&&!c&&!b||!this._allowNumbers&&b||!this._allowLetters&&c||this._inputBuffer.length>=this._characterLimit||(this._inputBuffer+=a,this._inputTextField.set_doLocalize(!1),this._inputTextField.set_text(this._inputBuffer),this._defaultText.visible=""==this._inputTextField.get_text())},removeCharFromInputBuffer:function(){0<this._inputBuffer.length&&(this._inputBuffer=this._inputBuffer.substring(0,this._inputBuffer.length-
1),this._inputTextField.set_doLocalize(!1),this._inputTextField.set_text(this._inputBuffer));this._defaultText.visible=""==this._inputTextField.get_text()},_onInput:function(a,b,c,d){if(this._flagEnabled)switch(b[1]){case 0:switch(this._imageSprite.getViewMatrix().inverseTransform(c,d,Kb._scratchPoint),b=this._hitRect.contains(Kb._scratchPoint.x,Kb._scratchPoint.y),a[1]){case 0:b&&this._onDown()}}},_onDown:function(){this._active||(this._dispatch(j.TEXT_FIELD_ACTIVATE),this._renderActive())},_renderActive:function(){this._active=
!0;this._activeHighlight.alpha.set__(1)},_renderInactive:function(){this._active=!1;this._activeHighlight.alpha.set__(0)},_dispatch:function(a){k.get_instance().get_dispatcher().dispatchEvent(R.request(a))},enable:function(){this._flagEnabled=!0},disable:function(){this._flagEnabled=!1;this._renderInactive()},__class__:Kb,__properties__:y(w.prototype.__properties__,{get_textField:"get_textField",get_fieldHeight:"get_fieldHeight",set_fieldWidth:"set_fieldWidth",get_fieldWidth:"get_fieldWidth",get_active:"get_active"})});
var Ra=m["com.nick.international.comic_creator.world._World.WORLD_STATE"]={__ename__:"com,nick,international,comic_creator,world,_World,WORLD_STATE".split(","),__constructs__:["_STATE_ALLOCATE","_STATE_INITIALIZING","_STATE_GAMEPLAY"]};Ra._STATE_ALLOCATE=["_STATE_ALLOCATE",0];Ra._STATE_ALLOCATE.toString=f;Ra._STATE_ALLOCATE.__enum__=Ra;Ra._STATE_INITIALIZING=["_STATE_INITIALIZING",1];Ra._STATE_INITIALIZING.toString=f;Ra._STATE_INITIALIZING.__enum__=Ra;Ra._STATE_GAMEPLAY=["_STATE_GAMEPLAY",2];Ra._STATE_GAMEPLAY.toString=
f;Ra._STATE_GAMEPLAY.__enum__=Ra;Ra.__empty_constructs__=[Ra._STATE_ALLOCATE,Ra._STATE_INITIALIZING,Ra._STATE_GAMEPLAY];var Eb=m["com.nick.international.comic_creator.world._World.VIEW_STATE"]={__ename__:"com,nick,international,comic_creator,world,_World,VIEW_STATE".split(","),__constructs__:["OVERVIEW","EDIT_PANEL"]};Eb.OVERVIEW=["OVERVIEW",0];Eb.OVERVIEW.toString=f;Eb.OVERVIEW.__enum__=Eb;Eb.EDIT_PANEL=["EDIT_PANEL",1];Eb.EDIT_PANEL.toString=f;Eb.EDIT_PANEL.__enum__=Eb;Eb.__empty_constructs__=[Eb.OVERVIEW,
Eb.EDIT_PANEL];var pg=function(a){this._inputPos=Z.request();this._timeline=a;this._tween=Qa.request();k.get_instance().get_pool().tracePoolReport();this._cacheManager=new Ne;this._elementManager=new Od(this._timeline,0,0);this._elementManager.addLayer(Ga.BG,!0);this._elementManager.addLayer(Ga.WORLD,!0);this._addEventListeners();this._setState(Ra._STATE_ALLOCATE)};m["com.nick.international.comic_creator.world.World"]=pg;pg.__name__="com,nick,international,comic_creator,world,World".split(",");pg.prototype=
{start:function(){this._setState(Ra._STATE_GAMEPLAY)},dispose:function(){this._timeline=null;this._elementManager.dispose();this._elementManager=null;this._cacheManager.dispose();this._cacheManager=null;this._tween.dispose();this._tween=null;this._inputPos.dispose();this._inputPos=null;this._removeEventListeners();this._activePanel=this._panels=this._viewState=this._state=null},_setState:function(a){this._state=a;switch(a[1]){case 0:this._initPools();break;case 1:this._initWorld(),this._onGenerationComplete()}},
_setViewState:function(a){this._viewState=a},update:function(a){if(!k.get_instance().getBool(l.BOOL_PAUSED))switch(this._state[1]){case 0:this._cacheManager.processFill(10)&&this._setState(Ra._STATE_INITIALIZING);break;case 2:this._tween.update(a),this._elementManager.updateElements(a)}},_addEventListeners:function(){k.get_instance().get_input().addDelegateListener(o(this,this._onInput));k.get_instance().get_dispatcher().addEventListener(j.PAUSE,o(this,this._onPause));k.get_instance().get_dispatcher().addEventListener(j.UNPAUSE,
o(this,this._onUnpause))},_removeEventListeners:function(){k.get_instance().get_input().removeDelegateListener(o(this,this._onInput));k.get_instance().get_dispatcher().removeEventListener(j.PAUSE,o(this,this._onPause));k.get_instance().get_dispatcher().removeEventListener(j.UNPAUSE,o(this,this._onUnpause))},_onPause:function(){k.get_instance().setBool(l.BOOL_PAUSED,!0)},_onUnpause:function(){k.get_instance().setBool(l.BOOL_PAUSED,!1)},_createWorldComicElem:function(a){this._viewState==Eb.OVERVIEW&&
null!=this._activePanel||(a.get_data().get("type"),a.get_data().get("image"),a.get_data().get("x"),a.get_data().get("y"))},_onInput:function(a,b,c,d){k.get_instance().getBool(l.BOOL_PAUSED)||this._state==Ra._STATE_INITIALIZING||this._elementManager.get_camera().getWorldPositionOfScreenPoint(c,d,0,this._inputPos)},_initPools:function(){k.get_instance().setInt(l.FLOAT_LOADING_PROGRESS,100)},_initWorld:function(){this._panels=[];this._elementManager.updateZSort(Ga.WORLD);this._setViewState(Eb.OVERVIEW)},
_onGenerationComplete:function(){k.get_instance().get_dispatcher().dispatchEvent(R.request(j.WORLD_GENERATION_COMPLETE))},__class__:pg};var hc=function(a){w.call(this,a);this._data=new gc;this._body=this.addElement(new Rb({library:h.spine.avatar.name,x:0,y:0,trace:!1}));this._body.setSkin(h.spine.avatar.skins.skin_dark);this._body.animate(h.spine.avatar.animations.animation);this.randomizeAvatar()};m["com.nick.international.comic_creator.world.elements.Avatar"]=hc;hc.__name__="com,nick,international,comic_creator,world,elements,Avatar".split(",");
hc.__super__=w;hc.prototype=y(w.prototype,{dispose:function(){this._body.doDelete=!0;this._data=this._body=null;w.prototype.dispose.call(this)},_updateAppearance:function(a){null==a&&(a=!1);for(var b,c=this._data.get_customizations().keys();c.hasNext();){var d=c.next();if(d==q.SKIN)this._body.setSkin(qa.get_instance().getItem(this._data.get_customizations().get(d)).get_boneAssignments()[0].name);else if(b=qa.get_instance().getItem(this._data.get_customizations().get(d)),null!=b)for(var i=0,M=b.get_boneAssignments();i<
M.length;){var e=M[i];++i;a&&null;d==q.HAIR?(this._body.setAttachment(e.bone,e.name),$a.isDarkHair(b.get_id())?this._data.get_gender()==B.MALE?this._body.setAttachment(h.spine.avatar.slots.eyebrows,"eyebrows_dark_male"):this._body.setAttachment(h.spine.avatar.slots.eyebrows,"eyebrows_dark_female"):$a.isMediumHair(b.get_id())?this._data.get_gender()==B.MALE?this._body.setAttachment(h.spine.avatar.slots.eyebrows,"eyebrows_medium_male"):this._body.setAttachment(h.spine.avatar.slots.eyebrows,"eyebrows_medium_female"):
this._data.get_gender()==B.MALE?this._body.setAttachment(h.spine.avatar.slots.eyebrows,"eyebrows_light_male"):this._body.setAttachment(h.spine.avatar.slots.eyebrows,"eyebrows_light_female")):this._body.setAttachment(e.bone,e.name)}}this._data.get_gender()==B.MALE?this._body.setAttachment(h.spine.avatar.slots.eyelashes,null):this._body.setAttachment(h.spine.avatar.slots.eyelashes,"eyelashes")},loadAvatarInfo:function(a){this._data.refresh(a.get_name(),a.get_customizations(),a.get_gender());this._updateAppearance()},
getAvatarItem:function(a){return this._body.getAttachment(a)},setAvatarItem:function(a,b){if(this._data.get_customizations().get(a)==b&&-1<$a.OPTIONAL_SLOTS.indexOf(a)){var c=this._data.get_customizations(),d=$a.getEmptyItemForSlot(a);c.set(a,d);d}else this._data.get_customizations().set(a,b),b;this._updateConflicts(a,b);this._updateAppearance()},getAvatarData:function(){return this._data},randomizeAvatar:function(){this._data.set_gender(0.5>Math.random()?B.MALE:B.FEMALE);for(var a=this._data.get_customizations().keys();a.hasNext();){var b=
a.next(),c=this._data.get_customizations(),d=$a.getRandomItemForSlot(b,this._data.get_gender());c.set(b,d);d;this._updateConflicts(b,this._data.get_customizations().get(b))}this._data.set_created(!0);this._updateAppearance()},_updateConflicts:function(){},getQueryString:function(){return this._data.getQueryString()},loadQueryString:function(){this._data.loadQueryString();this.loadAvatarInfo(this._data)},setGender:function(a){this._data.set_gender(a);this._updateAppearance()},__class__:hc});var za=
m["com.nick.international.comic_creator.world.elements.COMIC_ELEM_STATE"]={__ename__:"com,nick,international,comic_creator,world,elements,COMIC_ELEM_STATE".split(","),__constructs__:["IN","IDLE","DRAGGING","ANIMATING","OUT"]};za.IN=["IN",0];za.IN.toString=f;za.IN.__enum__=za;za.IDLE=["IDLE",1];za.IDLE.toString=f;za.IDLE.__enum__=za;za.DRAGGING=["DRAGGING",2];za.DRAGGING.toString=f;za.DRAGGING.__enum__=za;za.ANIMATING=["ANIMATING",3];za.ANIMATING.toString=f;za.ANIMATING.__enum__=za;za.OUT=["OUT",4];
za.OUT.toString=f;za.OUT.__enum__=za;za.__empty_constructs__=[za.IN,za.IDLE,za.DRAGGING,za.ANIMATING,za.OUT];var V=m["com.nick.international.comic_creator.world.elements.COMIC_ELEM_TYPE"]={__ename__:"com,nick,international,comic_creator,world,elements,COMIC_ELEM_TYPE".split(","),__constructs__:["AVATAR","BG","CHARACTER","BUBBLE","TEXT"]};V.AVATAR=["AVATAR",0];V.AVATAR.toString=f;V.AVATAR.__enum__=V;V.BG=["BG",1];V.BG.toString=f;V.BG.__enum__=V;V.CHARACTER=["CHARACTER",2];V.CHARACTER.toString=f;V.CHARACTER.__enum__=
V;V.BUBBLE=["BUBBLE",3];V.BUBBLE.toString=f;V.BUBBLE.__enum__=V;V.TEXT=["TEXT",4];V.TEXT.toString=f;V.TEXT.__enum__=V;V.__empty_constructs__=[V.AVATAR,V.BG,V.CHARACTER,V.BUBBLE,V.TEXT];var Wa=m["com.nick.international.comic_creator.world.elements.BOTTOM_PANEL_STATE"]={__ename__:"com,nick,international,comic_creator,world,elements,BOTTOM_PANEL_STATE".split(","),__constructs__:["HIDDEN","SHOWN","TWEENING"]};Wa.HIDDEN=["HIDDEN",0];Wa.HIDDEN.toString=f;Wa.HIDDEN.__enum__=Wa;Wa.SHOWN=["SHOWN",1];Wa.SHOWN.toString=
f;Wa.SHOWN.__enum__=Wa;Wa.TWEENING=["TWEENING",2];Wa.TWEENING.toString=f;Wa.TWEENING.__enum__=Wa;Wa.__empty_constructs__=[Wa.HIDDEN,Wa.SHOWN,Wa.TWEENING];var Fc=function(a){this.tLastChar="";this._pageIndex=this.tCharIndex=0;this._bottomPanelElems=[];this._tabs=[];a.y=280;w.call(this,a);this._tween=a.tween;this._init()};m["com.nick.international.comic_creator.world.elements.ComicBottomTray"]=Fc;Fc.__name__="com,nick,international,comic_creator,world,elements,ComicBottomTray".split(",");Fc.__super__=
w;Fc.prototype=y(w.prototype,{dispose:function(){w.prototype.dispose.call(this)},update:function(a){w.prototype.update.call(this,a)},show:function(){var a=this;this._populate();this._tween.tween(this,0.7,{y:0},!0,p.BOUNCE_OUT,0.3,"").onComplete(function(){a._shown=!0})},hide:function(){this._tween.tween(this,0.5,{y:280},!0,p.IN,0,"");this._shown=!1},refreshButtons:function(){this._depopulate();this._populate()},_addEventListeners:function(){w.prototype._addEventListeners.call(this);k.get_instance().get_dispatcher().addEventListener(j.REFRESH_COMIC_AVATARS,
o(this,this._refreshAvatars))},_removeEventListeners:function(){w.prototype._removeEventListeners.call(this);k.get_instance().get_dispatcher().removeEventListener(j.REFRESH_COMIC_AVATARS,o(this,this._refreshAvatars))},_init:function(){this._trash=this.addElement(new w({x:0.08823529411764706*s.STAGE_WIDTH-s.STAGE_CENTER_X,y:40}));this._bottomTrayBack=this.addElement(new w({asset:h.texture.main_box_select,originY:0.5})).disablePointerInput();this._bottomTrayBack.set_y(210);for(var a=0;5>a;){var b=a++,
c=11,d=h.texture.main_btn_select_characters;switch(b){case 1:c=-270;d=h.texture.main_btn_select_backgrounds;break;case 0:c=-130;d=h.texture.main_btn_select_avatars;break;case 3:c=144;d=h.texture.main_btn_select_bubbles;break;case 4:c=275,d=h.texture.main_btn_select_text}c=this.addElement(new z({asset:d,tween:this._tween,clear:o(this,this._clear),x:c,y:130}));c.setDispatchData(function(){var a=new I;a.set("index",b);return a}(this));c.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onTabClick));
c.addElement(new P({text:"comic_tab_"+(b+1),y:0}));this._tabs.push(c)}this._arrowLeft=this.addElement(new z({asset:h.texture.pagination_arrow_left_lg,x:-310,y:this._bottomTrayBack.get_y()+10,tween:this._tween,clear:o(this,this._clear)}));this._arrowLeft.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onLeftArrow));this._arrowLeft.disable();this._arrowLeft.alpha=0.5;this._arrowRight=this.addElement(new z({asset:h.texture.pagination_arrow_right_lg,x:310,y:this._bottomTrayBack.get_y()+10,tween:this._tween,
clear:o(this,this._clear)}));this._arrowRight.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onRightArrow));this._shown=!1;this._selectedTab=V.BG;this._bottomState=Wa.SHOWN},_setBottomState:function(a){this._bottomState=a},_onRightArrow:function(){this._arrowClick(!1)},_onLeftArrow:function(){this._arrowClick(!0)},_refreshArrows:function(){0==this._pageIndex?(this._arrowLeft.disable(),this._arrowLeft.alpha=0.5):(this._arrowLeft.enable(),this._arrowLeft.alpha=1);this._selectedTab!=V.AVATAR&&
(this._pageIndex+1)*this._getNumItems()>=this._getAssetArray().length||this._selectedTab==V.AVATAR&&1==this._pageIndex?(this._arrowRight.disable(),this._arrowRight.alpha=0.5):(this._arrowRight.enable(),this._arrowRight.alpha=1)},_arrowClick:function(a){a?this._pageIndex--:this._pageIndex++;this._depopulate();this._populate();this._refreshArrows()},_getNumItems:function(){var a=5;this._selectedTab==V.BG&&(a=3);return a},_getAssetArray:function(){var a=[];switch(this._selectedTab[1]){case 1:k.get_instance().getBool(l.BOOL_ENABLE_ALVIN)&&
this._pushIntoArray(a,["comic_background_1_","comic_background_2_"]);for(var b=3;5>b;){var c=b++;a.push("comic_background_"+c+"_")}k.get_instance().getBool(l.BOOL_ENABLE_TMNT)&&this._pushIntoArray(a,["comic_background_5_","comic_background_6_"]);for(b=7;19>b;)c=b++,a.push("comic_background_"+c+"_");break;case 2:k.get_instance().getBool(l.BOOL_ENABLE_ALVIN)&&this._pushIntoArray(a,"Alvin_1,Alvin_2,Alvin_3,Simon_1,Simon_2,Simon_3,Theodore_1,Theodore_2,Theodore_3,Brittany_1,Brittany_2,Brittany_3".split(","));
this._pushIntoArray(a,"bunsen_1,bunsen_2,bunsen_3,mikeyboy_1,mikeyboy_2,mikeyboy_3,amanda_1,amanda_2,amanda_3".split(","));this._pushIntoArray(a,"Olly_1,Olly_2,Olly_3,Ansi_1,Ansi_2,Ansi_3,Saraline_1,Saraline_2,Saraline_3".split(","));this._pushIntoArray(a,"kiddanger_1,kiddanger_2,kiddanger_3,captainman_1,captainman_2,captainman_3".split(","));k.get_instance().getBool(l.BOOL_ENABLE_TMNT)&&this._pushIntoArray(a,"Donnie_1,Donnie_2,Donnie_3,Leo_1,Leo_2,Leo_3,Mikey_1,Mikey_2,Mikey_3,Raph_1,Raph_2,Raph_3".split(","));
this._pushIntoArray(a,"Spongebob_1,Spongebob_2,Spongebob_3,Patrick_1,Patrick_2,Patrick_3,Gary,Sandy_1,Sandy_2,Krabs_1,Krabs_2,Squidward_1,Squidward_2".split(","));this._pushIntoArray(a,"Lincoln_1,Lincoln_2,Lori_1,Lori_2,Leni_1,Leni_2,Luna_1,Luna_2,Luan_1,Luan_2,Lynn_1,Lynn_2,Lucy_1,Lucy_2,Lana_1,Lana_2,Lola_1,Lola_2,Lisa_1,Lisa_2,Lily_1,Lily_2".split(","));break;case 3:a=[h.texture.d1,h.texture.d2,h.texture.d3,h.texture.d4,h.texture.t1,h.texture.t2,h.texture.y1,h.texture.y2,h.texture.ARRGH_,h.texture.BAM_,
h.texture.BOOM,h.texture.POW,h.texture.ZOOM];break;case 4:for(b=0;63>b;)c=b++,a.push("comic_text_"+(c+1));if(k.get_instance().getBool(l.BOOL_ENABLE_TMNT))for(b=63;83>b;)c=b++,a.push("comic_text_"+(c+1));for(b=83;122>b;)c=b++,a.push("comic_text_"+(c+1));if(k.get_instance().getBool(l.BOOL_ENABLE_ALVIN))for(b=122;139>b;)c=b++,a.push("comic_text_"+(c+1))}return a},_pushIntoArray:function(a,b){for(var c=0;c<b.length;){var d=b[c];++c;a.push(d)}},_depopulate:function(){for(var a=this._bottomPanelElems.length;0<=
--a;)this._bottomPanelElems[a].doDelete=!0,this._bottomPanelElems.splice(a,1)},_populate:function(){this._depopulate();var a=this._getAssetArray(),b=this._getNumItems();if(this._selectedTab==V.AVATAR)this._populateAvatars();else{for(;this._pageIndex*b>a.length;)this._pageIndex--;for(var c=this._pageIndex*b,d=this._pageIndex*b+b;c<d;){var i=c++,M=null;if(a.length==i)break;if(this._selectedTab==V.BG){M="mini";switch(k.get_instance().getInt(l.INT_PANEL_NUM)){case 1:M="large";break;case 4:M=0==k.get_instance().getInt(l.INT_PANEL_INDEX)||
3==k.get_instance().getInt(l.INT_PANEL_INDEX)?"medium":"small"}M=this.addElement(new ba({tween:this._tween,clear:o(this,this._clear),x:180*(i%b-1),y:this._bottomTrayBack.get_y()+10,type:this._selectedTab,image:a[i]+M,asset:a[i]+M}));M.SetToMaxSize(160,100)}else this._selectedTab==V.TEXT?M=this.addElement(new ba({text:a[i],tween:this._tween,clear:o(this,this._clear),x:110*(i%b-2),y:this._bottomTrayBack.get_y(),type:this._selectedTab,image:a[i]})):this._selectedTab==V.CHARACTER?(this.tLastChar==a[i]?
this.tCharIndex++:(this.tLastChar=a[i],this.tCharIndex=0),M=this.addElement(new tb({asset:a[i],tween:this._tween,clear:o(this,this._clear),x:110*(i%b-2),y:this._bottomTrayBack.get_y(),type:this._selectedTab}))):M=this.addElement(new ba({tween:this._tween,clear:o(this,this._clear),x:110*(i%b-2),y:this._bottomTrayBack.get_y(),type:this._selectedTab,image:a[i],asset:a[i]})),M.SetToMaxSize(100,100);this._selectedTab!=V.CHARACTER&&this._selectedTab!=V.BG&&(M.rotation=12*Math.random()-6);this._bottomPanelElems.push(M)}}},
_populateAvatars:function(){for(var a,b=new z({asset:h.texture.avatar_placeholder,tween:this._tween,clear:o(this,this._clear)}),c=5*this._pageIndex,d=5*this._pageIndex+5;c<d;){var i=c++;if(va.get_instance().avatars.exists(i)&&!0==va.get_instance().avatars.get(i).get_created()){a=this.addElement(new ib({x:110*(i%this._getNumItems()-2),y:this._bottomTrayBack.get_y(),tween:this._tween,clear:o(this,this._clear),type:this._selectedTab,image:h.texture.blank},i));var M=k.get_instance().get_localize().getLocalizeData(h.localization.avatar_name_display_format);
a.addElement(new Da({text:va.get_instance().avatars.get(i).get_name(),font:M.get_fontName(),scale:M.get_scale(),y:80,offsetX:M.get_offsetX(),offsetY:M.get_offsetY()}));M=null;a.setCustomHitBox(b.getNaturalWidth(),b.getNaturalHeight(),-b.getNaturalWidth()/2,-b.getNaturalHeight()/2);a.setScale(0.6,0.6)}else a=this.addElement(new z({assetUp:h.texture.avatar_placeholder,x:110*(i%this._getNumItems()-2),y:this._bottomTrayBack.get_y(),tween:this._tween,clear:o(this,this._clear)})),a.addElement(new w({asset:h.texture.avatar_picker_add,
x:45,y:-35,scale:1})).disablePointerInput(),a.setCustomHitBox(a.getNaturalWidth()+50,a.getNaturalHeight()),a.setScale(0.75,0.75),a.setDispatchData(function(){var b=new I;b.set("btn",a);b.set("index",i);return b}(this)),a.dispatcher.addEventListener(j.BUTTON_CLICK,o(this,this._onEventAvatarClicked));this._bottomPanelElems.push(a)}b.doDelete=!0;b=null},_refreshAvatars:function(){this._depopulate();this._populateAvatars()},_onEventAvatarClicked:function(a){k.get_instance().setInt(l.INT_CURRENT_AVATAR,
a.get_data().get("index"));k.get_instance().setBool(l.BOOL_FLOW_AVATAR_FROM_COMIC,!0);s.dispatchFlowEvent(n.AVATAR_BUILDER_OPEN)},_onTabClick:function(a){if(!1!=this._shown){if(!a.get_data().exists("index")||5<=a.get_data().get("index")||0>a.get_data().get("index"))throw"[WM - MB] Invalid tab index: "+C.string(a.get_data().exists("index")?a.get_data().get("index"):"NULL");a=a.get_data().get("index");this._selectedTab=aa.createEnumIndex(V,a,null);for(var b=h.texture.main_btn_select_characters,c=0;5>
c;){var d=c++;switch(d){case 1:b=h.texture.main_btn_select_backgrounds;break;case 0:b=h.texture.main_btn_select_avatars;break;case 3:b=h.texture.main_btn_select_bubbles;break;case 4:b=h.texture.main_btn_select_text;break;case 2:b=h.texture.main_btn_select_characters}this._tabs[d].setAsset(b)}switch(a){case 0:b=h.texture.main_btn_select_avatars;break;case 1:b=h.texture.main_btn_select_backgrounds;break;case 2:b=h.texture.main_btn_select_characters;break;case 3:b=h.texture.main_btn_select_bubbles;break;
case 4:b=h.texture.main_btn_select_text}this._tabs[a].setAsset(b);this._pageIndex=0;this._populate();this._refreshArrows()}},_clear:function(){return this._bottomState!=Wa.SHOWN?!1:!0},__class__:Fc});var ba=function(a){this._clickTimer=0;null==a.asset&&(a.asset=h.texture.blank);z.call(this,a);this._id=ba._idAssign;ba._idAssign++;this._tween=a.tween;this._initDownPos=Z.request();this._clickOffset=Z.request();this._type=a.type;this._comicState=za.IN;this._asset=this.comicAsset=a.image;null==this.comicAsset&&
(this.comicAsset=a.library);null==this.comicAsset&&(this.comicAsset=a.asset);null==this.comicAsset&&(this.comicAsset=a.assetUp);null==this.comicAsset&&(this.comicAsset=a.text);this._asset=this.comicAsset;null!=a.text&&(this.text=this.addElement(new P({text:a.text,width:550})),this.text.disablePointerInput(),this.setCustomHitBox(this.text.get_textDisplay().getNaturalWidth()*this.text.get_scale(),this.text.get_textDisplay().getNaturalHeight()*this.text.get_scale(),-this.text.get_textDisplay().getNaturalWidth()*
this.text.get_scale()/2,-this.text.get_textDisplay().getNaturalHeight()*this.text.get_scale()/2),this._asset=a.text);this.setInitPos();this._scratchPoint=Z.request()};m["com.nick.international.comic_creator.world.elements.ComicElem"]=ba;ba.__name__="com,nick,international,comic_creator,world,elements,ComicElem".split(",");ba.__super__=z;ba.prototype=y(z.prototype,{dispose:function(){this._asset=this._state=this._type=this._tween=null;this._scratchPoint.dispose();this._scratchPoint=null;this._initDownPos.dispose();
this._initDownPos=null;this._clickOffset.dispose();this._clickOffset=null;z.prototype.dispose.call(this)},setInitPos:function(){this._initX=this.get_x();this._initY=this.get_y()},update:function(a){z.prototype.update.call(this,a);0<this._clickTimer&&(this._clickTimer-=a);this._updatedDragPos=!1},_onInput:function(a,b,c,d,i){z.prototype._onInput.call(this,a,b,c,d,i);if((this._state==ia._STATE_DOWN||this._flagDragged)&&!1==this._updatedDragPos&&this._state!=ia._STATE_OVER&&this._type!=V.BG&&!(10>Math.abs(this._initDownPos.x-
c)+Math.abs(this._initDownPos.y-d)))this._updatedDragPos=this._flagDragged=!0,a=new Ca(0,0),this.parent.getViewMatrix().inverseTransform(c,d,a),this.pos.to(a.x-this._clickOffset.x,a.y-this._clickOffset.y)},_click:function(){0<this._clickTimer||(this._clickTimer=1,this._playSoundClick(),this._doClick(),this._onClickComplete(),k.get_instance().get_dispatcher().dispatchEvent(R.request(j.BUTTON_DROP,function(a){var b=new I;b.set("btn",a);b.set("click",!0);return b}(this))),this.SnapToTray())},_onDrag:function(){this._tween.stop(this);
k.get_instance().get_dispatcher().dispatchEvent(R.request(j.BUTTON_DRAG,function(a){var b=new I;b.set("btn",a);return b}(this)));this._flagDragged=!0},_onDrop:function(){this._flagDragged=!1;k.get_instance().get_dispatcher().dispatchEvent(R.request(j.BUTTON_DROP,function(a){var b=new I;b.set("btn",a);return b}(this)));this._renderUp();this.SnapToTray()},SnapToTray:function(){this._flagDragged=!1;this.pos.to(this._initX,this._initY)},SetToMaxSize:function(a,b){var c=this;null!=this.text&&(c=this.text);
c.set_scale(1/c.getNaturalWidth()*a);1/c.getNaturalHeight()*b<c.get_scale()&&c.set_scale(1/c.getNaturalHeight()*b);1<c.get_scale()&&c.set_scale(1);null!=this.text&&(this.setCustomHitBox(this.text.getScaledWidth(),this.text.getScaledHeight()),this._hitBox.setXY(-this.text.getScaledWidth()/2,-this.text.getScaledHeight()/2))},getQueryString:function(){var a;a=""+("&ce&x="+this.get_x()+"&y="+this.get_y()+"&t="+this._type[1]+"&r="+this.rotation);return a+="&a="+this.get_asset()},_renderOver:function(){},
_renderOut:function(){},_renderDown:function(){this.setAsset(this._assetDown)},_onDown:function(a,b){var c=new Ca(0,0);this.parent.getViewMatrix().inverseTransform(a,b,c);this._clickOffset.to(c.x-this.pos.x,c.y-this.pos.y);z.prototype._onDown.call(this,a,b);this._initDownPos.to(a,b)},_renderReturnUp:function(){this._renderUp()},get_type:function(){return this._type},get_state:function(){return this._comicState},get_asset:function(){return this._asset},__class__:ba,__properties__:y(z.prototype.__properties__,
{get_asset:"get_asset",get_state:"get_state",get_type:"get_type"})});var ib=function(a,b){ba.call(this,a);this.index=b;this._avatar=new hc({y:70,scale:0.2});this.addElement(this._avatar);this._avatar.loadAvatarInfo(va.get_instance().avatars.get(b));this._avatar.disablePointerInput();this.setCustomHitBox(this._avatar.getNaturalWidth()/2,this._avatar.getNaturalHeight()/2)};m["com.nick.international.comic_creator.world.elements.ComicElemAvatar"]=ib;ib.__name__="com,nick,international,comic_creator,world,elements,ComicElemAvatar".split(",");
ib.__super__=ba;ib.prototype=y(ba.prototype,{dispose:function(){this._avatar=this._tween=null;ba.prototype.dispose.call(this)},update:function(a){ba.prototype.update.call(this,a)},_onInput:function(a,b,c,d,i){ba.prototype._onInput.call(this,a,b,c,d,i)},SetToMaxSize:function(a,b){var c=this._avatar;c.set_scale(1/c.getNaturalWidth()*a);1/c.getNaturalHeight()*b<c.get_scale()&&c.set_scale(1/c.getNaturalHeight()*b);null!=this.text&&(this.setCustomHitBox(this._avatar.getScaledWidth(),this._avatar.getScaledHeight()),
this._hitBox.setXY(-this._avatar.getScaledWidth()/2,-this._avatar.getScaledHeight()/2))},getNaturalWidth:function(){return 100},getNaturalHeight:function(){return 175},__class__:ib});var tb=function(a){ba.call(this,a)};m["com.nick.international.comic_creator.world.elements.ComicElemChar"]=tb;tb.__name__="com,nick,international,comic_creator,world,elements,ComicElemChar".split(",");tb.__super__=ba;tb.prototype=y(ba.prototype,{dispose:function(){this._tween=null;ba.prototype.dispose.call(this)},update:function(a){ba.prototype.update.call(this,
a)},_onInput:function(a,b,c,d,i){ba.prototype._onInput.call(this,a,b,c,d,i)},SetToMaxSize:function(a,b){this.set_scale(1/this.getNaturalWidth()*a);1/this.getNaturalHeight()*b<this.get_scale()&&this.set_scale(1/this.getNaturalHeight()*b);1<this.get_scale()&&this.set_scale(1)},__class__:tb});var Rd=function(a){this._panel=a.panel;a.scale/=this._panel.get_scale()*a.trayScale;ba.call(this,a);this._scalingRoot=this;this._dotted=this.addElement(new w({asset:h.texture.comic_rotation_dotted,originX:1}));
this._dotted.scaleX=0.5*this._scalingRoot.getNaturalWidth()/this._dotted.getNaturalWidth();this._dotted.scaleY=2;this._rotTool=this.addElement(new Bc({x:-this._dotted.getScaledWidth(),tween:this._tween,clear:a.clear,scale:1}));this._scaleTool=this.addElement(new Cc({x:this._scalingRoot.getNaturalWidth()/2,y:this._scalingRoot.getNaturalHeight()/2,tween:this._tween,clear:a.clear,scale:1}));this._deleteTool=this.addElement(new Ac({x:this._scalingRoot.getNaturalWidth()/2,y:-this._scalingRoot.getNaturalHeight()/
2,tween:this._tween,clear:a.clear,scale:1}));null!=this.text&&(this.set_scale(0.5*this.get_scale()),this._text=this.text.get_text(),this._sendTracking());this._rotTool.setBaseScale(this._panel.get_scale());this._scaleTool.setBaseScale(this._panel.get_scale());this._deleteTool.setBaseScale(this._panel.get_scale())};m["com.nick.international.comic_creator.world.elements.ComicPanelElem"]=Rd;Rd.__name__="com,nick,international,comic_creator,world,elements,ComicPanelElem".split(",");Rd.__super__=ba;Rd.prototype=
y(ba.prototype,{dispose:function(){ba.prototype.dispose.call(this)},_addEventListeners:function(){ba.prototype._addEventListeners.call(this)},_removeEventListeners:function(){ba.prototype._removeEventListeners.call(this)},update:function(a){ba.prototype.update.call(this,a)},_onInput:function(a,b,c,d,i){ba.prototype._onInput.call(this,a,b,c,d,i);switch(b[1]){case 0:switch(a[1]){case 0:if(!this._containsInput||!this._depthTest(c,d)){if(1==this._rotTool.alpha&&(this._rotTool.containsInput(c,d)||this._scaleTool.containsInput(c,
d)||this._deleteTool.containsInput(c,d)))break;this.hideTools()}break;case 2:if(this._state==ia._STATE_DOWN||this._flagDragged)this._updatedDragPos=this._flagDragged=!0,a=new Ca(0,0),this.parent.getViewMatrix().inverseTransform(c,d,a),this.pos.to(a.x-this._clickOffset.x,a.y-this._clickOffset.y)}}},_sendTracking:function(){H.sendEvent({event:"textInPanel",params:{textSelected:k.get_instance().get_localize().getLocalizeData(this._text).get_string()}})},_onDrop:function(){this._flagDragged=!1;k.get_instance().get_dispatcher().dispatchEvent(R.request(j.BUTTON_DROP,
function(a){var b=new I;b.set("btn",a);b.set("panel",!0);return b}(this)));this._renderUp();this.SnapToPanel()},_click:function(){},_onDown:function(a,b){ba.prototype._onDown.call(this,a,b);this.showTools();this._moveToFront()},_onUp:function(a,b){this._flagEnabled&&(this._renderReturnUp(),this._click(),this._flagDragged&&(this._onDrop(),a/J._platform.getStage().get_width()*s.STAGE_WIDTH<s.STAGE_CENTER_X-0.8*s.STAGE_CENTER_X?(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,
function(a){var b=new I;b.set("elem",a);return b}(this)))):a/J._platform.getStage().get_width()*s.STAGE_WIDTH>s.STAGE_CENTER_X+0.8*s.STAGE_CENTER_X&&(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=new I;b.set("elem",a);return b}(this)))),500<560*(b/J._platform.getStage().get_height())?(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=new I;b.set("elem",a);return b}(this)))):
70>560*(b/J._platform.getStage().get_height())&&(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=new I;b.set("elem",a);return b}(this))))),this._dispatch(j.BUTTON_UP))},_onDrag:function(){this._flagDragged=!0;this._dispatch(j.BUTTON_DRAG)},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(j.BUTTON_CANCEL_DRAG)},_moveToFront:function(){var a=this.parent;this.parent.removeElement(this);a.addElement(this)},hideTools:function(){this._rotTool.disable();
this._rotTool.alpha=0;this._scaleTool.disable();this._scaleTool.alpha=0;this._deleteTool.disable();this._deleteTool.alpha=0;this._dotted.alpha=0},showTools:function(){this._rotTool.enable();this._rotTool.alpha=1;this._scaleTool.enable();this._scaleTool.alpha=1;this._deleteTool.enable();this._deleteTool.alpha=1;this._dotted.alpha=1},SnapToPanel:function(){this._flagDragged=!1;this.get_x()<-this._panel.getNaturalWidth()/2+Math.abs(this._scalingRoot.getScaledWidth()/4)?this.set_x(-this._panel.getNaturalWidth()/
2+Math.abs(this._scalingRoot.getScaledWidth()/4)):this.get_x()>this._panel.getNaturalWidth()/2-Math.abs(this._scalingRoot.getScaledWidth()/4)&&this.set_x(this._panel.getNaturalWidth()/2-Math.abs(this._scalingRoot.getScaledWidth()/4));this.get_y()<-this._panel.getNaturalHeight()/2+Math.abs(this._scalingRoot.getScaledHeight()/4)?this.set_y(-this._panel.getNaturalHeight()/2+Math.abs(this._scalingRoot.getScaledHeight()/4)):this.get_y()>this._panel.getNaturalHeight()/2-Math.abs(this._scalingRoot.getScaledHeight()/
4)&&this.set_y(this._panel.getNaturalHeight()/2-Math.abs(this._scalingRoot.getScaledHeight()/4))},OnScaleElem:function(a,b){var c=new Ca;this.scaleY=this.scaleX=1;this.render();this.update(0);this._scalingRoot.getViewMatrix().inverseTransform(a,b,c);this.scaleX=2*1/this._scalingRoot.getNaturalWidth()*c.x;this.scaleY=2*1/this._scalingRoot.getNaturalHeight()*c.y;Math.abs(this.scaleY)>=1.25/this._panel.get_scale()&&(this.scaleY=1.25*(this.scaleY/Math.abs(this.scaleY))/this._panel.get_scale());Math.abs(this.scaleX)>=
1.25/this._panel.get_scale()&&(this.scaleX=1.25*(this.scaleX/Math.abs(this.scaleX))/this._panel.get_scale());0==this.scaleX&&(this.scaleX=0.5/this._panel.get_scale());0==this.scaleY&&(this.scaleY=0.5/this._panel.get_scale());Math.abs(this.scaleY)<=0.5/this._panel.get_scale()&&(this.scaleY=0.5*(this.scaleY/Math.abs(this.scaleY))/this._panel.get_scale());Math.abs(this.scaleX)<=0.5/this._panel.get_scale()&&(this.scaleX=0.5*(this.scaleX/Math.abs(this.scaleX))/this._panel.get_scale());Math.abs(this.scaleX)>
Math.abs(this.scaleY)?this.scaleX=Math.abs(this.scaleY)*(this.scaleX/Math.abs(this.scaleX)):Math.abs(this.scaleY)>Math.abs(this.scaleX)&&(this.scaleY=Math.abs(this.scaleX)*(this.scaleY/Math.abs(this.scaleY)));this.SnapToPanel()},getScaleRoot:function(){return this._scalingRoot},getNaturalWidth:function(){return null!=this.text?this.text.get_textDisplay().getNaturalWidth()*this.text.get_scale():ba.prototype.getNaturalWidth.call(this)},getNaturalHeight:function(){return null!=this.text?this.text.get_textDisplay().getNaturalHeight()*
this.text.get_scale():ba.prototype.getNaturalHeight.call(this)},__class__:Rd});var Pd=function(a,b){this._panel=a.panel;a.scale*=1/this._panel.get_scale();ib.call(this,a,b);this._scalingRoot=this;this.setCustomHitBox(this.getNaturalWidth(),this.getNaturalHeight(),-this.getNaturalWidth()/2,-this.getNaturalHeight()/2);this._dotted=this.addElement(new w({asset:h.texture.comic_rotation_dotted}));this._dotted.scaleX=-1/this._dotted.getNaturalWidth()*this._scalingRoot.getScaledWidth();this._dotted.scaleY=
2;this._dotted.set_x(this._dotted.getScaledWidth()/2);this._rotTool=this.addElement(new Bc({x:this._dotted.getScaledWidth(),tween:this._tween,clear:a.clear,scale:1}));this._scaleTool=this.addElement(new Cc({x:this._scalingRoot.getNaturalWidth()/2,y:this._scalingRoot.getNaturalHeight()/2,tween:this._tween,clear:a.clear,scale:1}));this._deleteTool=this.addElement(new Ac({x:this._scalingRoot.getNaturalWidth()/2,y:-this._scalingRoot.getNaturalHeight()/2,tween:this._tween,clear:a.clear,scale:1}));this._rotTool.setBaseScale(this._panel.get_scale());
this._scaleTool.setBaseScale(this._panel.get_scale());this._deleteTool.setBaseScale(this._panel.get_scale());this._sendTracking();k.get_instance().modifyInt(l.INT_PANEL_ELEM_COUNT,1)};m["com.nick.international.comic_creator.world.elements.ComicPanelElemAvatar"]=Pd;Pd.__name__="com,nick,international,comic_creator,world,elements,ComicPanelElemAvatar".split(",");Pd.__super__=ib;Pd.prototype=y(ib.prototype,{dispose:function(){ib.prototype.dispose.call(this);k.get_instance().modifyInt(l.INT_PANEL_ELEM_COUNT,
-1)},_addEventListeners:function(){ib.prototype._addEventListeners.call(this)},_removeEventListeners:function(){ib.prototype._removeEventListeners.call(this)},update:function(a){ib.prototype.update.call(this,a)},_sendTracking:function(){H.sendEvent({event:"characterSelected",params:{characterName:"avatar "+this.index}})},_onInput:function(a,b,c,d,i){ib.prototype._onInput.call(this,a,b,c,d,i);switch(b[1]){case 0:switch(a[1]){case 0:if(!this._containsInput||!this._depthTest(c,d)){if(1==this._rotTool.alpha&&
(this._rotTool.containsInput(c,d)||this._scaleTool.containsInput(c,d)||this._deleteTool.containsInput(c,d)))break;this.hideTools()}break;case 2:if(this._state==ia._STATE_DOWN||this._flagDragged)this._updatedDragPos=this._flagDragged=!0,a=new Ca(0,0),this.parent.getViewMatrix().inverseTransform(c,d,a),this.pos.to(a.x-this._clickOffset.x,a.y-this._clickOffset.y)}}},_onDrop:function(){this._flagDragged=!1;k.get_instance().get_dispatcher().dispatchEvent(R.request(j.BUTTON_DROP,function(a){var b=new I;
b.set("btn",a);b.set("panel",!0);return b}(this)));this._renderUp();this.SnapToPanel()},_click:function(){},_onDown:function(a,b){ib.prototype._onDown.call(this,a,b);this.showTools();this._moveToFront()},_onUp:function(a,b){this._flagEnabled&&(this._renderReturnUp(),this._click(),this._flagDragged&&(this._onDrop(),a/J._platform.getStage().get_width()*s.STAGE_WIDTH<s.STAGE_CENTER_X-0.8*s.STAGE_CENTER_X?(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,
function(a){var b=new I;b.set("elem",a);return b}(this)))):a/J._platform.getStage().get_width()*s.STAGE_WIDTH>s.STAGE_CENTER_X+0.8*s.STAGE_CENTER_X&&(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=new I;b.set("elem",a);return b}(this)))),500<560*(b/J._platform.getStage().get_height())?(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=new I;b.set("elem",a);return b}(this)))):
70>560*(b/J._platform.getStage().get_height())&&(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=new I;b.set("elem",a);return b}(this))))),this._dispatch(j.BUTTON_UP))},_onDrag:function(){this._flagDragged=!0;this._dispatch(j.BUTTON_DRAG)},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(j.BUTTON_CANCEL_DRAG)},_moveToFront:function(){var a=this.parent;this.parent.removeElement(this);a.addElement(this)},hideTools:function(){this._rotTool.disable();
this._rotTool.alpha=0;this._scaleTool.disable();this._scaleTool.alpha=0;this._deleteTool.disable();this._deleteTool.alpha=0;this._dotted.alpha=0},showTools:function(){this._rotTool.enable();this._rotTool.alpha=1;this._scaleTool.enable();this._scaleTool.alpha=1;this._deleteTool.enable();this._deleteTool.alpha=1;this._dotted.alpha=1},SnapToPanel:function(){this._flagDragged=!1;this.get_x()<-this._panel.getNaturalWidth()/2+Math.abs(this._scalingRoot.getScaledWidth()/4)?this.set_x(-this._panel.getNaturalWidth()/
2+Math.abs(this._scalingRoot.getScaledWidth()/4)):this.get_x()>this._panel.getNaturalWidth()/2-Math.abs(this._scalingRoot.getScaledWidth()/4)&&this.set_x(this._panel.getNaturalWidth()/2-Math.abs(this._scalingRoot.getScaledWidth()/4));this.get_y()<-this._panel.getNaturalHeight()/2+Math.abs(this._scalingRoot.getScaledHeight()/4)?this.set_y(-this._panel.getNaturalHeight()/2+Math.abs(this._scalingRoot.getScaledHeight()/4)):this.get_y()>this._panel.getNaturalHeight()/2-Math.abs(this._scalingRoot.getScaledHeight()/
4)&&this.set_y(this._panel.getNaturalHeight()/2-Math.abs(this._scalingRoot.getScaledHeight()/4))},OnScaleElem:function(a,b){var c=new Ca;this.scaleY=this.scaleX=1;this.render();this.update(0);this._scalingRoot.getViewMatrix().inverseTransform(a,b,c);this.scaleX=2*1/this._scalingRoot.getNaturalWidth()*c.x;this.scaleY=2*1/this._scalingRoot.getNaturalHeight()*c.y;Math.abs(this.getScaledWidth())>this._panel.getNaturalWidth()&&(this.scaleX=1/this._scalingRoot.getNaturalWidth()*this._panel.getNaturalWidth()*
(0>this.scaleX?-1:1));Math.abs(this.getScaledHeight())>this._panel.getNaturalHeight()&&(this.scaleY=1/this._scalingRoot.getNaturalHeight()*this._panel.getNaturalHeight()*(0>this.scaleY?-1:1));0==this.scaleX&&(this.scaleX=100*(1/Math.abs(this.getNaturalWidth()))/this._panel.get_scale());0==this.scaleY&&(this.scaleY=100*(1/Math.abs(this.getNaturalHeight()))/this._panel.get_scale());Math.abs(this.getScaledHeight())<=100/this._panel.get_scale()&&(this.scaleY=100*(1/Math.abs(this.getNaturalHeight()))/
this._panel.get_scale()*(this.scaleY/Math.abs(this.scaleY)));Math.abs(this.getScaledWidth())<=100/this._panel.get_scale()&&(this.scaleX=100*(1/Math.abs(this.getNaturalWidth()))/this._panel.get_scale()*(this.scaleX/Math.abs(this.scaleX)));Math.abs(this.scaleX)>Math.abs(this.scaleY)?this.scaleX=Math.abs(this.scaleY)*(this.scaleX/Math.abs(this.scaleX)):Math.abs(this.scaleY)>Math.abs(this.scaleX)&&(this.scaleY=Math.abs(this.scaleX)*(this.scaleY/Math.abs(this.scaleY)));this.SnapToPanel()},getScaleRoot:function(){return this._scalingRoot},
__class__:Pd});var Qd=function(a){this._panel=a.panel;a.scale=1/this._panel.get_scale();ba.call(this,a);this._scalingRoot=this;this._dotted=this.addElement(new w({asset:h.texture.comic_rotation_dotted,originX:1}));this._dotted.scaleX=0.5*this._scalingRoot.getNaturalWidth()/this._dotted.getNaturalWidth();this._dotted.scaleY=2;this._rotTool=this.addElement(new Bc({x:-this._dotted.getScaledWidth(),tween:this._tween,clear:a.clear,scale:1}));this._scaleTool=this.addElement(new Cc({x:this._scalingRoot.getNaturalWidth()/
2,y:this._scalingRoot.getNaturalHeight()/2,tween:this._tween,clear:a.clear,scale:1}));this._deleteTool=this.addElement(new Ac({x:this._scalingRoot.getNaturalWidth()/2,y:-this._scalingRoot.getNaturalHeight()/2,tween:this._tween,clear:a.clear,scale:1}));this._rotTool.setBaseScale(this._panel.get_scale());this._scaleTool.setBaseScale(this._panel.get_scale());this._deleteTool.setBaseScale(this._panel.get_scale());this._sendTracking()};m["com.nick.international.comic_creator.world.elements.ComicPanelElemChar"]=
Qd;Qd.__name__="com,nick,international,comic_creator,world,elements,ComicPanelElemChar".split(",");Qd.__super__=tb;Qd.prototype=y(tb.prototype,{dispose:function(){tb.prototype.dispose.call(this)},_addEventListeners:function(){tb.prototype._addEventListeners.call(this)},_removeEventListeners:function(){tb.prototype._removeEventListeners.call(this)},update:function(a){tb.prototype.update.call(this,a)},_onInput:function(a,b,c,d,i){tb.prototype._onInput.call(this,a,b,c,d,i);switch(b[1]){case 0:switch(a[1]){case 0:if(!this._containsInput||
!this._depthTest(c,d)){if(1==this._rotTool.alpha&&(this._rotTool.containsInput(c,d)||this._scaleTool.containsInput(c,d)||this._deleteTool.containsInput(c,d)))break;this.hideTools()}break;case 2:if(this._state==ia._STATE_DOWN||this._flagDragged)this._updatedDragPos=this._flagDragged=!0,a=new Ca(0,0),this.parent.getViewMatrix().inverseTransform(c,d,a),this.pos.to(a.x-this._clickOffset.x,a.y-this._clickOffset.y)}}},_sendTracking:function(){H.sendEvent({event:"characterSelected",params:{characterName:this.comicAsset}})},
_onDrop:function(){this._flagDragged=!1;k.get_instance().get_dispatcher().dispatchEvent(R.request(j.BUTTON_DROP,function(a){var b=new I;b.set("btn",a);b.set("panel",!0);return b}(this)));this._renderUp();this.SnapToPanel()},_click:function(){},_onDown:function(a,b){tb.prototype._onDown.call(this,a,b);this.showTools();this._moveToFront()},_onUp:function(a,b){this._flagEnabled&&(this._renderReturnUp(),this._click(),this._flagDragged&&(this._onDrop(),a/J._platform.getStage().get_width()*s.STAGE_WIDTH<
s.STAGE_CENTER_X-0.8*s.STAGE_CENTER_X?(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=new I;b.set("elem",a);return b}(this)))):a/J._platform.getStage().get_width()*s.STAGE_WIDTH>s.STAGE_CENTER_X+0.8*s.STAGE_CENTER_X&&(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=new I;b.set("elem",a);return b}(this)))),500<560*(b/J._platform.getStage().get_height())?(this.doDelete=
!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=new I;b.set("elem",a);return b}(this)))):70>560*(b/J._platform.getStage().get_height())&&(this.doDelete=!0,k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DELETE_PANEL_ELEM,function(a){var b=new I;b.set("elem",a);return b}(this))))),this._dispatch(j.BUTTON_UP))},_onDrag:function(){this._flagDragged=!0;this._dispatch(j.BUTTON_DRAG)},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(j.BUTTON_CANCEL_DRAG)},
_moveToFront:function(){var a=this.parent;this.parent.removeElement(this);a.addElement(this)},hideTools:function(){this._rotTool.disable();this._rotTool.alpha=0;this._scaleTool.disable();this._scaleTool.alpha=0;this._deleteTool.disable();this._deleteTool.alpha=0;this._dotted.alpha=0},showTools:function(){this._rotTool.enable();this._rotTool.alpha=1;this._scaleTool.enable();this._scaleTool.alpha=1;this._deleteTool.enable();this._deleteTool.alpha=1;this._dotted.alpha=1},SnapToPanel:function(){this._flagDragged=
!1;this.get_x()<-this._panel.getNaturalWidth()/2+Math.abs(this._scalingRoot.getScaledWidth()/4)?this.set_x(-this._panel.getNaturalWidth()/2+Math.abs(this._scalingRoot.getScaledWidth()/4)):this.get_x()>this._panel.getNaturalWidth()/2-Math.abs(this._scalingRoot.getScaledWidth()/4)&&this.set_x(this._panel.getNaturalWidth()/2-Math.abs(this._scalingRoot.getScaledWidth()/4));this.get_y()<-this._panel.getNaturalHeight()/2+Math.abs(this._scalingRoot.getScaledHeight()/4)?this.set_y(-this._panel.getNaturalHeight()/
2+Math.abs(this._scalingRoot.getScaledHeight()/4)):this.get_y()>this._panel.getNaturalHeight()/2-Math.abs(this._scalingRoot.getScaledHeight()/4)&&this.set_y(this._panel.getNaturalHeight()/2-Math.abs(this._scalingRoot.getScaledHeight()/4))},OnScaleElem:function(a,b){var c=new Ca;this.scaleY=this.scaleX=1;this.render();this.update(0);this._scalingRoot.getViewMatrix().inverseTransform(a,b,c);this.scaleX=2*1/this._scalingRoot.getNaturalWidth()*c.x;this.scaleY=2*1/this._scalingRoot.getNaturalHeight()*
c.y;Math.abs(this.scaleY)>=1.25/this._panel.get_scale()&&(this.scaleY=1.25*(this.scaleY/Math.abs(this.scaleY))/this._panel.get_scale());Math.abs(this.scaleX)>=1.25/this._panel.get_scale()&&(this.scaleX=1.25*(this.scaleX/Math.abs(this.scaleX))/this._panel.get_scale());0==this.scaleX&&(this.scaleX=0.5/this._panel.get_scale());0==this.scaleY&&(this.scaleY=0.5/this._panel.get_scale());Math.abs(this.scaleY)<=0.5/this._panel.get_scale()&&(this.scaleY=0.5*(this.scaleY/Math.abs(this.scaleY))/this._panel.get_scale());
Math.abs(this.scaleX)<=0.5/this._panel.get_scale()&&(this.scaleX=0.5*(this.scaleX/Math.abs(this.scaleX))/this._panel.get_scale());Math.abs(this.scaleX)>Math.abs(this.scaleY)?this.scaleX=Math.abs(this.scaleY)*(this.scaleX/Math.abs(this.scaleX)):Math.abs(this.scaleY)>Math.abs(this.scaleX)&&(this.scaleY=Math.abs(this.scaleX)*(this.scaleY/Math.abs(this.scaleY)));this.SnapToPanel()},getScaleRoot:function(){return this._scalingRoot},__class__:Qd});var ya=m["com.nick.international.comic_creator.world.elements.PANEL_SIZE"]=
{__ename__:"com,nick,international,comic_creator,world,elements,PANEL_SIZE".split(","),__constructs__:["LARGE","MED","SMALL","TINY"]};ya.LARGE=["LARGE",0];ya.LARGE.toString=f;ya.LARGE.__enum__=ya;ya.MED=["MED",1];ya.MED.toString=f;ya.MED.__enum__=ya;ya.SMALL=["SMALL",2];ya.SMALL.toString=f;ya.SMALL.__enum__=ya;ya.TINY=["TINY",3];ya.TINY.toString=f;ya.TINY.__enum__=ya;ya.__empty_constructs__=[ya.LARGE,ya.MED,ya.SMALL,ya.TINY];var bb=function(a,b,c,d){this._numTextMax=10;this._numText=0;this._comicElems=
[];var i=a.assetUp;a.assetUp=null;z.call(this,a);this._size=d;this.bgAsset=i;d=this.addElement(new w({asset:this._getSizeString()+"_blank"})).disablePointerInput();this._bg=this.addElement(new w({asset:i,scale:1})).disablePointerInput();this._charTray=this.addElement(new w({}));this._bubbleTray=this.addElement(new w({}));this._textTray=this.addElement(new w({}));this._setScissor();this._frame=this.addElement(new w({asset:b,scale:1})).disablePointerInput();d.scaleX=1/d.getNaturalWidth()*this._frame.getScaledWidth();
d.scaleY=1/d.getNaturalHeight()*this._frame.getScaledHeight();c&&(b="comic_panel_back_"+this._getSizeString()+"_glow",this._tutorialFlash=this.addElement(new w({asset:b,alpha:0})).disablePointerInput(),this._tutorialFinger=this.addElement(new w({asset:h.texture.panel_picker_cursor,alpha:0})).disablePointerInput(),this._tweenTutorial());this.initX=this.get_x();this.initY=this.get_y();this._index=a.index;this.setCustomHitBox(this.getNaturalWidth(),this.getNaturalHeight(),-this.getNaturalWidth()/2,-this.getNaturalHeight()/
2);this._lastMouseUp=Z.request();this._scratchPoint=new Ca};m["com.nick.international.comic_creator.world.elements.Panel"]=bb;bb.__name__="com,nick,international,comic_creator,world,elements,Panel".split(",");bb.__super__=z;bb.prototype=y(z.prototype,{dispose:function(){this._comicElems=this._bg=null;this._lastMouseUp.dispose();this._scratchPoint=this._lastMouseUp=null;z.prototype.dispose.call(this)},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},
addComicElem:function(a,b){null==b&&(b=!1);switch(a.get_type()[1]){case 4:this._textTray.addElement(a);break;case 0:this._charTray.addElement(a);break;case 2:this._charTray.addElement(a);break;case 3:this._bubbleTray.addElement(a);break;default:throw" ";}this._comicElems.push(a);this.getViewMatrix().inverseTransform(a.get_x(),a.get_y(),this._scratchPoint);a.pos.to(this._scratchPoint.x,this._scratchPoint.y);a.SnapToPanel();b&&a.pos.to(0,0);this.edited=!0},hidePanel:function(a){a?this._tween.tween(this,
0.6,{y:-280-2*this.getScaledHeight(),scale:1},!0,p.BUMP,0.2*Math.random(),""):this._tween.tween(this,0.6,{y:280+2*this.getScaledHeight(),scale:1},!0,p.BUMP,0.2*Math.random(),"")},showPanel:function(a,b){null==b&&(b=!0);null==a&&(a=!1);var c=this,d;d=a?560:300;d=560*(1/this.getNaturalHeight())*(d/560);d>1/this.getNaturalWidth()*s.STAGE_WIDTH&&(d=1/this.getNaturalWidth()*s.STAGE_WIDTH);2<d&&(d=2);null!=this._tutorialFlash&&(this._tween.stop(this._tutorialFlash),this._tween.stop(this._tutorialFinger),
this._tutorialFlash.alpha=0,this._tutorialFinger.alpha=0,k.get_instance().setBool(l.BOOL_DO_TUTORIAL,!1),va.get_instance().save());var i=-120;a&&(i=-50);this._tween.tween(this,0.7,{scale:d,y:i,x:0},!0,p.BUMP_OUT,0.3).onComplete(function(){for(var a=0,d=c._comicElems;a<d.length;){var i=d[a];++a;i.set_pointerEnabled(b)}});!1==a&&(this._shown=!0);return 1},restorePanel:function(){for(var a=0,b=this._comicElems;a<b.length;){var c=b[a];++a;c.set_pointerEnabled(!1)}!0==this._shown&&this._sendTracking();
this._shown=!1;this._tween.tween(this,0.6,{y:this.initY,x:this.initX,scale:1},!0,p.BUMP,0.2*Math.random(),"")},update:function(a){z.prototype.update.call(this,a)},_addEventListeners:function(){z.prototype._addEventListeners.call(this);k.get_instance().get_dispatcher().addEventListener(j.BUTTON_DROP,o(this,this._onButtonDrop));k.get_instance().get_dispatcher().addEventListener(j.DELETE_PANEL_ELEM,o(this,this._onDeleteElem))},_removeEventListeners:function(){z.prototype._removeEventListeners.call(this);
k.get_instance().get_dispatcher().removeEventListener(j.BUTTON_DROP,o(this,this._onButtonDrop));k.get_instance().get_dispatcher().removeEventListener(j.DELETE_PANEL_ELEM,o(this,this._onDeleteElem))},_getSizeString:function(){switch(this._size[1]){case 3:return"mini";case 2:return"small";case 1:return"medium";case 0:return"large"}},_setScissor:function(){switch(this._size[1]){case 3:D.__cast(this._charTray.root.firstComponent,K).scissor=new Ea(-85.5,-75,171,150);D.__cast(this._bubbleTray.root.firstComponent,
K).scissor=new Ea(-85.5,-75,171,150);D.__cast(this._textTray.root.firstComponent,K).scissor=new Ea(-85.5,-75,171,150);break;case 2:D.__cast(this._charTray.root.firstComponent,K).scissor=new Ea(-137.5,-75,275,150);D.__cast(this._bubbleTray.root.firstComponent,K).scissor=new Ea(-137.5,-75,275,150);D.__cast(this._textTray.root.firstComponent,K).scissor=new Ea(-137.5,-75,275,150);break;case 1:D.__cast(this._charTray.root.firstComponent,K).scissor=new Ea(-207,-76.5,414,153);D.__cast(this._bubbleTray.root.firstComponent,
K).scissor=new Ea(-207,-76.5,414,153);D.__cast(this._textTray.root.firstComponent,K).scissor=new Ea(-207,-76.5,414,153);break;case 0:D.__cast(this._charTray.root.firstComponent,K).scissor=new Ea(-355,-156,710,312),D.__cast(this._bubbleTray.root.firstComponent,K).scissor=new Ea(-355,-156,710,312),D.__cast(this._textTray.root.firstComponent,K).scissor=new Ea(-355,-156,710,312)}},_onDeleteElem:function(a){a.get_data().get("elem").get_type()==V.TEXT&&this._numText--;a=a.get_data().get("elem");O.remove(this._comicElems,
a);this.edited=!0},_tweenTutorial:function(){this._tween.tween(this._tutorialFlash,0.5,{alpha:0},!0);this._tween.tween(this._tutorialFlash,0.5,{alpha:1},!1).onComplete(o(this,this._tweenTutorial));this._tutorialFinger.set_scale(2);this._tutorialFinger.alpha=0;this._tween.tween(this._tutorialFinger,1,{alpha:1,scale:0.7},!0,p.BOUNCE_OUT)},_onInput:function(a,b,c,d,i){z.prototype._onInput.call(this,a,b,c,d,i);switch(b[1]){case 0:switch(a[1]){case 1:this._lastMouseUp.to(c,d)}}},_onButtonDrop:function(a){if(!(null==
a.get_data().get("btn")||!0==a.get_data().get("panel"))){k.get_instance().get_sound().playSound(h.sound.sbcc_sfx_drop,0.4);var b;b=a.get_data().get("btn");if(k.get_instance().getValue(l.VALUE_CURRENT_PANEL)==this&&(a.get_data().exists("click")||this.hitRectContains(this._lastMouseUp.x,this._lastMouseUp.y))){if(b.get_type()==V.TEXT){if(this._numText>=this._numTextMax)return;this._numText++}this.edited=!0;a.get_data().get("btn").pos.toPoint(this._lastMouseUp);k.get_instance().get_dispatcher().dispatchEvent(R.request(j.CREATE_HUD_COMIC_ELEM,
function(){var b=new I;b.set("btn",a.get_data().get("btn"));b.set("click",a.get_data().exists("click"));return b}(this)))}}},_click:function(){this._onClickComplete();this._doClick()},_renderOver:function(){},_renderOut:function(){},_renderDown:function(){this.setAsset(this._assetDown)},_renderReturnUp:function(){this._renderUp()},getNaturalWidth:function(){return this._frame.getScaledWidth()},getNaturalHeight:function(){return this._frame.getScaledHeight()},setButtonAsset:function(a){this._bg.setAsset(a);
this.bgAsset=a;this._size!=ya.LARGE&&this._bg.set_scale(0.5)},getQueryString:function(){for(var a="&pan="+this._index,b=this._comicElems.length;0>b;)var c=b++,a=a+this._comicElems[c].getQueryString();return a},loadQueryString:function(){if(!(1>=window.location.href.split("?").length))for(var a=window.location.href.split("?")[1].split("&"),b=null,c=0;c<a.length;)b=a[c],++c,b=b.split("="),1>=b.length||C.parseInt(b[1])},getPanelString:function(){for(var a="",b=0,c=this._comicElems;b<c.length;){var d=
c[b];++b;a+="&type="+C.string(d.get_type())+"&pos="+C.string(d.pos)+"&scale="+C["int"](100*d.get_scale())/100+"&texture="+d.comicAsset+"?"}return a+="&bg="+this.bgAsset},_sendTracking:function(){var a=this.bgAsset;if(""==a||null==a)a="NONE";H.sendEvent({event:"panelCreated",params:{bgName:a,numberOfAvatars:this._getNumElems(V.AVATAR),numberOfBubbles:this._getNumElems(V.BUBBLE),numberOfCharacters:this._getNumElems(V.CHARACTER),numberOfTexts:this._getNumElems(V.TEXT),panelNumber:this._index}})},_getNumElems:function(a){for(var b=
0,c=0,d=this._comicElems;c<d.length;){var i=d[c];++c;i.get_type()==a&&b++}return b},_doClick:function(){this._dispatch(j.BUTTON_CLICK)},__class__:bb});var l=m["com.workinman.cloud.CLOUD"]={__ename__:["com","workinman","cloud","CLOUD"],__constructs__:"BOOL_GAME_LOSE,BOOL_GAME_WIN,BOOL_LEVEL_LOSE,BOOL_LEVEL_WIN,BOOL_PAUSED,BOOL_TOUCH_DEVICE,BOOL_CODE_SCREEN_OPEN,BOOL_CODE_UNLOCK,BOOL_ALLOW_UNLOCK,BOOL_LOW_QUALITY_MOBILE,BOOL_FLOW_AVATAR_FROM_COMIC,BOOL_DO_TUTORIAL,BOOL_LOAD_AVATAR,BOOL_APP,BOOL_ALLOW_SUBMIT,BOOL_ALLOW_SHARE,BOOL_ALLOW_PRINT,BOOL_ANDROID_APP,BOOL_IOS_APP,BOOL_AVATAR_TO_COMIC,BOOL_FIRST_TIME_PLAY,BOOL_ENABLE_ALVIN,BOOL_ENABLE_TMNT,INT_HEALTH,INT_LIVES,INT_SCORE,INT_LOADING_SCORE,INT_ACHIEVEMENT_SCORE,INT_CURRENCY,INT_LEVEL,INT_UNIQUE_INC,INT_QUALITY,INT_CURRENT_AVATAR,INT_PANEL_NUM,INT_PANEL_INDEX,INT_PANEL_ELEM_COUNT,INT_MAX_PANEL_ELEMS,STRING_UNLOCK_CODE,STRING_LEVEL_ID,STRING_REGION_ID,STRING_SHARE_URL,FLOAT_LOADING_PROGRESS,VALUE_CURRENT_PANEL".split(",")};
l.BOOL_GAME_LOSE=["BOOL_GAME_LOSE",0];l.BOOL_GAME_LOSE.toString=f;l.BOOL_GAME_LOSE.__enum__=l;l.BOOL_GAME_WIN=["BOOL_GAME_WIN",1];l.BOOL_GAME_WIN.toString=f;l.BOOL_GAME_WIN.__enum__=l;l.BOOL_LEVEL_LOSE=["BOOL_LEVEL_LOSE",2];l.BOOL_LEVEL_LOSE.toString=f;l.BOOL_LEVEL_LOSE.__enum__=l;l.BOOL_LEVEL_WIN=["BOOL_LEVEL_WIN",3];l.BOOL_LEVEL_WIN.toString=f;l.BOOL_LEVEL_WIN.__enum__=l;l.BOOL_PAUSED=["BOOL_PAUSED",4];l.BOOL_PAUSED.toString=f;l.BOOL_PAUSED.__enum__=l;l.BOOL_TOUCH_DEVICE=["BOOL_TOUCH_DEVICE",5];
l.BOOL_TOUCH_DEVICE.toString=f;l.BOOL_TOUCH_DEVICE.__enum__=l;l.BOOL_CODE_SCREEN_OPEN=["BOOL_CODE_SCREEN_OPEN",6];l.BOOL_CODE_SCREEN_OPEN.toString=f;l.BOOL_CODE_SCREEN_OPEN.__enum__=l;l.BOOL_CODE_UNLOCK=["BOOL_CODE_UNLOCK",7];l.BOOL_CODE_UNLOCK.toString=f;l.BOOL_CODE_UNLOCK.__enum__=l;l.BOOL_ALLOW_UNLOCK=["BOOL_ALLOW_UNLOCK",8];l.BOOL_ALLOW_UNLOCK.toString=f;l.BOOL_ALLOW_UNLOCK.__enum__=l;l.BOOL_LOW_QUALITY_MOBILE=["BOOL_LOW_QUALITY_MOBILE",9];l.BOOL_LOW_QUALITY_MOBILE.toString=f;l.BOOL_LOW_QUALITY_MOBILE.__enum__=
l;l.BOOL_FLOW_AVATAR_FROM_COMIC=["BOOL_FLOW_AVATAR_FROM_COMIC",10];l.BOOL_FLOW_AVATAR_FROM_COMIC.toString=f;l.BOOL_FLOW_AVATAR_FROM_COMIC.__enum__=l;l.BOOL_DO_TUTORIAL=["BOOL_DO_TUTORIAL",11];l.BOOL_DO_TUTORIAL.toString=f;l.BOOL_DO_TUTORIAL.__enum__=l;l.BOOL_LOAD_AVATAR=["BOOL_LOAD_AVATAR",12];l.BOOL_LOAD_AVATAR.toString=f;l.BOOL_LOAD_AVATAR.__enum__=l;l.BOOL_APP=["BOOL_APP",13];l.BOOL_APP.toString=f;l.BOOL_APP.__enum__=l;l.BOOL_ALLOW_SUBMIT=["BOOL_ALLOW_SUBMIT",14];l.BOOL_ALLOW_SUBMIT.toString=f;
l.BOOL_ALLOW_SUBMIT.__enum__=l;l.BOOL_ALLOW_SHARE=["BOOL_ALLOW_SHARE",15];l.BOOL_ALLOW_SHARE.toString=f;l.BOOL_ALLOW_SHARE.__enum__=l;l.BOOL_ALLOW_PRINT=["BOOL_ALLOW_PRINT",16];l.BOOL_ALLOW_PRINT.toString=f;l.BOOL_ALLOW_PRINT.__enum__=l;l.BOOL_ANDROID_APP=["BOOL_ANDROID_APP",17];l.BOOL_ANDROID_APP.toString=f;l.BOOL_ANDROID_APP.__enum__=l;l.BOOL_IOS_APP=["BOOL_IOS_APP",18];l.BOOL_IOS_APP.toString=f;l.BOOL_IOS_APP.__enum__=l;l.BOOL_AVATAR_TO_COMIC=["BOOL_AVATAR_TO_COMIC",19];l.BOOL_AVATAR_TO_COMIC.toString=
f;l.BOOL_AVATAR_TO_COMIC.__enum__=l;l.BOOL_FIRST_TIME_PLAY=["BOOL_FIRST_TIME_PLAY",20];l.BOOL_FIRST_TIME_PLAY.toString=f;l.BOOL_FIRST_TIME_PLAY.__enum__=l;l.BOOL_ENABLE_ALVIN=["BOOL_ENABLE_ALVIN",21];l.BOOL_ENABLE_ALVIN.toString=f;l.BOOL_ENABLE_ALVIN.__enum__=l;l.BOOL_ENABLE_TMNT=["BOOL_ENABLE_TMNT",22];l.BOOL_ENABLE_TMNT.toString=f;l.BOOL_ENABLE_TMNT.__enum__=l;l.INT_HEALTH=["INT_HEALTH",23];l.INT_HEALTH.toString=f;l.INT_HEALTH.__enum__=l;l.INT_LIVES=["INT_LIVES",24];l.INT_LIVES.toString=f;l.INT_LIVES.__enum__=
l;l.INT_SCORE=["INT_SCORE",25];l.INT_SCORE.toString=f;l.INT_SCORE.__enum__=l;l.INT_LOADING_SCORE=["INT_LOADING_SCORE",26];l.INT_LOADING_SCORE.toString=f;l.INT_LOADING_SCORE.__enum__=l;l.INT_ACHIEVEMENT_SCORE=["INT_ACHIEVEMENT_SCORE",27];l.INT_ACHIEVEMENT_SCORE.toString=f;l.INT_ACHIEVEMENT_SCORE.__enum__=l;l.INT_CURRENCY=["INT_CURRENCY",28];l.INT_CURRENCY.toString=f;l.INT_CURRENCY.__enum__=l;l.INT_LEVEL=["INT_LEVEL",29];l.INT_LEVEL.toString=f;l.INT_LEVEL.__enum__=l;l.INT_UNIQUE_INC=["INT_UNIQUE_INC",
30];l.INT_UNIQUE_INC.toString=f;l.INT_UNIQUE_INC.__enum__=l;l.INT_QUALITY=["INT_QUALITY",31];l.INT_QUALITY.toString=f;l.INT_QUALITY.__enum__=l;l.INT_CURRENT_AVATAR=["INT_CURRENT_AVATAR",32];l.INT_CURRENT_AVATAR.toString=f;l.INT_CURRENT_AVATAR.__enum__=l;l.INT_PANEL_NUM=["INT_PANEL_NUM",33];l.INT_PANEL_NUM.toString=f;l.INT_PANEL_NUM.__enum__=l;l.INT_PANEL_INDEX=["INT_PANEL_INDEX",34];l.INT_PANEL_INDEX.toString=f;l.INT_PANEL_INDEX.__enum__=l;l.INT_PANEL_ELEM_COUNT=["INT_PANEL_ELEM_COUNT",35];l.INT_PANEL_ELEM_COUNT.toString=
f;l.INT_PANEL_ELEM_COUNT.__enum__=l;l.INT_MAX_PANEL_ELEMS=["INT_MAX_PANEL_ELEMS",36];l.INT_MAX_PANEL_ELEMS.toString=f;l.INT_MAX_PANEL_ELEMS.__enum__=l;l.STRING_UNLOCK_CODE=["STRING_UNLOCK_CODE",37];l.STRING_UNLOCK_CODE.toString=f;l.STRING_UNLOCK_CODE.__enum__=l;l.STRING_LEVEL_ID=["STRING_LEVEL_ID",38];l.STRING_LEVEL_ID.toString=f;l.STRING_LEVEL_ID.__enum__=l;l.STRING_REGION_ID=["STRING_REGION_ID",39];l.STRING_REGION_ID.toString=f;l.STRING_REGION_ID.__enum__=l;l.STRING_SHARE_URL=["STRING_SHARE_URL",
40];l.STRING_SHARE_URL.toString=f;l.STRING_SHARE_URL.__enum__=l;l.FLOAT_LOADING_PROGRESS=["FLOAT_LOADING_PROGRESS",41];l.FLOAT_LOADING_PROGRESS.toString=f;l.FLOAT_LOADING_PROGRESS.__enum__=l;l.VALUE_CURRENT_PANEL=["VALUE_CURRENT_PANEL",42];l.VALUE_CURRENT_PANEL.toString=f;l.VALUE_CURRENT_PANEL.__enum__=l;l.__empty_constructs__=[l.BOOL_GAME_LOSE,l.BOOL_GAME_WIN,l.BOOL_LEVEL_LOSE,l.BOOL_LEVEL_WIN,l.BOOL_PAUSED,l.BOOL_TOUCH_DEVICE,l.BOOL_CODE_SCREEN_OPEN,l.BOOL_CODE_UNLOCK,l.BOOL_ALLOW_UNLOCK,l.BOOL_LOW_QUALITY_MOBILE,
l.BOOL_FLOW_AVATAR_FROM_COMIC,l.BOOL_DO_TUTORIAL,l.BOOL_LOAD_AVATAR,l.BOOL_APP,l.BOOL_ALLOW_SUBMIT,l.BOOL_ALLOW_SHARE,l.BOOL_ALLOW_PRINT,l.BOOL_ANDROID_APP,l.BOOL_IOS_APP,l.BOOL_AVATAR_TO_COMIC,l.BOOL_FIRST_TIME_PLAY,l.BOOL_ENABLE_ALVIN,l.BOOL_ENABLE_TMNT,l.INT_HEALTH,l.INT_LIVES,l.INT_SCORE,l.INT_LOADING_SCORE,l.INT_ACHIEVEMENT_SCORE,l.INT_CURRENCY,l.INT_LEVEL,l.INT_UNIQUE_INC,l.INT_QUALITY,l.INT_CURRENT_AVATAR,l.INT_PANEL_NUM,l.INT_PANEL_INDEX,l.INT_PANEL_ELEM_COUNT,l.INT_MAX_PANEL_ELEMS,l.STRING_UNLOCK_CODE,
l.STRING_LEVEL_ID,l.STRING_REGION_ID,l.STRING_SHARE_URL,l.FLOAT_LOADING_PROGRESS,l.VALUE_CURRENT_PANEL];var j=m["com.workinman.cloud.EVENT"]={__ename__:["com","workinman","cloud","EVENT"],__constructs__:"GAME_OVER,PAUSE,UNPAUSE,MUTE_TOGGLE,RESIZE_CANVAS,UPDATE_DISPLAY,TWEENS_ALL_COMPLETE,TWEEN_CURRENT_COMPLETE,INITIAL_LOAD_COMPLETE,WORLD_GENERATION_COMPLETE,FILES_ERROR,FILE_RESULT,ALL_POOLS_FULL,VO_PAUSED,VO_ENDED,VO_STARTED,INPUT_ARBITRARY_KEY_KEYBOARD,INPUT_FIELD_ENTER,ITEM_SELECT,BUTTON_CLICK,BUTTON_OVER,BUTTON_OUT,BUTTON_UP,BUTTON_DOWN,BUTTON_DRAG,BUTTON_DROP,BUTTON_CANCEL_DRAG,DIALOGUE_LINE_COMPLETE,DIALOGUE_QUEUE_COMPLETE,TUTORIAL_SWIPE,TUTORIAL_CLICK_LOCATION,AVATAR_TAB_SWITCH,CREATE_HUD_COMIC_ELEM,CREATE_WORLD_COMIC_ELEM,DELETE_PANEL_ELEM,REFRESH_COMIC_AVATARS,SPLASH_OUTRO_COMPLETE,SHARE_AVATAR,DELETE_AVATAR,PRINT_CLOSE,SUBMIT_POPUP_CLOSED,TEXT_FIELD_ACTIVATE,DROP_DOWN_ACTIVATE,DROP_DOWN_DEACTIVATE".split(",")};
j.GAME_OVER=["GAME_OVER",0];j.GAME_OVER.toString=f;j.GAME_OVER.__enum__=j;j.PAUSE=["PAUSE",1];j.PAUSE.toString=f;j.PAUSE.__enum__=j;j.UNPAUSE=["UNPAUSE",2];j.UNPAUSE.toString=f;j.UNPAUSE.__enum__=j;j.MUTE_TOGGLE=["MUTE_TOGGLE",3];j.MUTE_TOGGLE.toString=f;j.MUTE_TOGGLE.__enum__=j;j.RESIZE_CANVAS=["RESIZE_CANVAS",4];j.RESIZE_CANVAS.toString=f;j.RESIZE_CANVAS.__enum__=j;j.UPDATE_DISPLAY=["UPDATE_DISPLAY",5];j.UPDATE_DISPLAY.toString=f;j.UPDATE_DISPLAY.__enum__=j;j.TWEENS_ALL_COMPLETE=["TWEENS_ALL_COMPLETE",
6];j.TWEENS_ALL_COMPLETE.toString=f;j.TWEENS_ALL_COMPLETE.__enum__=j;j.TWEEN_CURRENT_COMPLETE=["TWEEN_CURRENT_COMPLETE",7];j.TWEEN_CURRENT_COMPLETE.toString=f;j.TWEEN_CURRENT_COMPLETE.__enum__=j;j.INITIAL_LOAD_COMPLETE=["INITIAL_LOAD_COMPLETE",8];j.INITIAL_LOAD_COMPLETE.toString=f;j.INITIAL_LOAD_COMPLETE.__enum__=j;j.WORLD_GENERATION_COMPLETE=["WORLD_GENERATION_COMPLETE",9];j.WORLD_GENERATION_COMPLETE.toString=f;j.WORLD_GENERATION_COMPLETE.__enum__=j;j.FILES_ERROR=["FILES_ERROR",10];j.FILES_ERROR.toString=
f;j.FILES_ERROR.__enum__=j;j.FILE_RESULT=["FILE_RESULT",11];j.FILE_RESULT.toString=f;j.FILE_RESULT.__enum__=j;j.ALL_POOLS_FULL=["ALL_POOLS_FULL",12];j.ALL_POOLS_FULL.toString=f;j.ALL_POOLS_FULL.__enum__=j;j.VO_PAUSED=["VO_PAUSED",13];j.VO_PAUSED.toString=f;j.VO_PAUSED.__enum__=j;j.VO_ENDED=["VO_ENDED",14];j.VO_ENDED.toString=f;j.VO_ENDED.__enum__=j;j.VO_STARTED=["VO_STARTED",15];j.VO_STARTED.toString=f;j.VO_STARTED.__enum__=j;j.INPUT_ARBITRARY_KEY_KEYBOARD=["INPUT_ARBITRARY_KEY_KEYBOARD",16];j.INPUT_ARBITRARY_KEY_KEYBOARD.toString=
f;j.INPUT_ARBITRARY_KEY_KEYBOARD.__enum__=j;j.INPUT_FIELD_ENTER=["INPUT_FIELD_ENTER",17];j.INPUT_FIELD_ENTER.toString=f;j.INPUT_FIELD_ENTER.__enum__=j;j.ITEM_SELECT=["ITEM_SELECT",18];j.ITEM_SELECT.toString=f;j.ITEM_SELECT.__enum__=j;j.BUTTON_CLICK=["BUTTON_CLICK",19];j.BUTTON_CLICK.toString=f;j.BUTTON_CLICK.__enum__=j;j.BUTTON_OVER=["BUTTON_OVER",20];j.BUTTON_OVER.toString=f;j.BUTTON_OVER.__enum__=j;j.BUTTON_OUT=["BUTTON_OUT",21];j.BUTTON_OUT.toString=f;j.BUTTON_OUT.__enum__=j;j.BUTTON_UP=["BUTTON_UP",
22];j.BUTTON_UP.toString=f;j.BUTTON_UP.__enum__=j;j.BUTTON_DOWN=["BUTTON_DOWN",23];j.BUTTON_DOWN.toString=f;j.BUTTON_DOWN.__enum__=j;j.BUTTON_DRAG=["BUTTON_DRAG",24];j.BUTTON_DRAG.toString=f;j.BUTTON_DRAG.__enum__=j;j.BUTTON_DROP=["BUTTON_DROP",25];j.BUTTON_DROP.toString=f;j.BUTTON_DROP.__enum__=j;j.BUTTON_CANCEL_DRAG=["BUTTON_CANCEL_DRAG",26];j.BUTTON_CANCEL_DRAG.toString=f;j.BUTTON_CANCEL_DRAG.__enum__=j;j.DIALOGUE_LINE_COMPLETE=["DIALOGUE_LINE_COMPLETE",27];j.DIALOGUE_LINE_COMPLETE.toString=f;
j.DIALOGUE_LINE_COMPLETE.__enum__=j;j.DIALOGUE_QUEUE_COMPLETE=["DIALOGUE_QUEUE_COMPLETE",28];j.DIALOGUE_QUEUE_COMPLETE.toString=f;j.DIALOGUE_QUEUE_COMPLETE.__enum__=j;j.TUTORIAL_SWIPE=["TUTORIAL_SWIPE",29];j.TUTORIAL_SWIPE.toString=f;j.TUTORIAL_SWIPE.__enum__=j;j.TUTORIAL_CLICK_LOCATION=["TUTORIAL_CLICK_LOCATION",30];j.TUTORIAL_CLICK_LOCATION.toString=f;j.TUTORIAL_CLICK_LOCATION.__enum__=j;j.AVATAR_TAB_SWITCH=["AVATAR_TAB_SWITCH",31];j.AVATAR_TAB_SWITCH.toString=f;j.AVATAR_TAB_SWITCH.__enum__=j;j.CREATE_HUD_COMIC_ELEM=
["CREATE_HUD_COMIC_ELEM",32];j.CREATE_HUD_COMIC_ELEM.toString=f;j.CREATE_HUD_COMIC_ELEM.__enum__=j;j.CREATE_WORLD_COMIC_ELEM=["CREATE_WORLD_COMIC_ELEM",33];j.CREATE_WORLD_COMIC_ELEM.toString=f;j.CREATE_WORLD_COMIC_ELEM.__enum__=j;j.DELETE_PANEL_ELEM=["DELETE_PANEL_ELEM",34];j.DELETE_PANEL_ELEM.toString=f;j.DELETE_PANEL_ELEM.__enum__=j;j.REFRESH_COMIC_AVATARS=["REFRESH_COMIC_AVATARS",35];j.REFRESH_COMIC_AVATARS.toString=f;j.REFRESH_COMIC_AVATARS.__enum__=j;j.SPLASH_OUTRO_COMPLETE=["SPLASH_OUTRO_COMPLETE",
36];j.SPLASH_OUTRO_COMPLETE.toString=f;j.SPLASH_OUTRO_COMPLETE.__enum__=j;j.SHARE_AVATAR=["SHARE_AVATAR",37];j.SHARE_AVATAR.toString=f;j.SHARE_AVATAR.__enum__=j;j.DELETE_AVATAR=["DELETE_AVATAR",38];j.DELETE_AVATAR.toString=f;j.DELETE_AVATAR.__enum__=j;j.PRINT_CLOSE=["PRINT_CLOSE",39];j.PRINT_CLOSE.toString=f;j.PRINT_CLOSE.__enum__=j;j.SUBMIT_POPUP_CLOSED=["SUBMIT_POPUP_CLOSED",40];j.SUBMIT_POPUP_CLOSED.toString=f;j.SUBMIT_POPUP_CLOSED.__enum__=j;j.TEXT_FIELD_ACTIVATE=["TEXT_FIELD_ACTIVATE",41];j.TEXT_FIELD_ACTIVATE.toString=
f;j.TEXT_FIELD_ACTIVATE.__enum__=j;j.DROP_DOWN_ACTIVATE=["DROP_DOWN_ACTIVATE",42];j.DROP_DOWN_ACTIVATE.toString=f;j.DROP_DOWN_ACTIVATE.__enum__=j;j.DROP_DOWN_DEACTIVATE=["DROP_DOWN_DEACTIVATE",43];j.DROP_DOWN_DEACTIVATE.toString=f;j.DROP_DOWN_DEACTIVATE.__enum__=j;j.__empty_constructs__=[j.GAME_OVER,j.PAUSE,j.UNPAUSE,j.MUTE_TOGGLE,j.RESIZE_CANVAS,j.UPDATE_DISPLAY,j.TWEENS_ALL_COMPLETE,j.TWEEN_CURRENT_COMPLETE,j.INITIAL_LOAD_COMPLETE,j.WORLD_GENERATION_COMPLETE,j.FILES_ERROR,j.FILE_RESULT,j.ALL_POOLS_FULL,
j.VO_PAUSED,j.VO_ENDED,j.VO_STARTED,j.INPUT_ARBITRARY_KEY_KEYBOARD,j.INPUT_FIELD_ENTER,j.ITEM_SELECT,j.BUTTON_CLICK,j.BUTTON_OVER,j.BUTTON_OUT,j.BUTTON_UP,j.BUTTON_DOWN,j.BUTTON_DRAG,j.BUTTON_DROP,j.BUTTON_CANCEL_DRAG,j.DIALOGUE_LINE_COMPLETE,j.DIALOGUE_QUEUE_COMPLETE,j.TUTORIAL_SWIPE,j.TUTORIAL_CLICK_LOCATION,j.AVATAR_TAB_SWITCH,j.CREATE_HUD_COMIC_ELEM,j.CREATE_WORLD_COMIC_ELEM,j.DELETE_PANEL_ELEM,j.REFRESH_COMIC_AVATARS,j.SPLASH_OUTRO_COMPLETE,j.SHARE_AVATAR,j.DELETE_AVATAR,j.PRINT_CLOSE,j.SUBMIT_POPUP_CLOSED,
j.TEXT_FIELD_ACTIVATE,j.DROP_DOWN_ACTIVATE,j.DROP_DOWN_DEACTIVATE];var Ga=m["com.workinman.cloud.LAYER"]={__ename__:["com","workinman","cloud","LAYER"],__constructs__:["z__MAINUI","BG","WORLD"]};Ga.z__MAINUI=["z__MAINUI",0];Ga.z__MAINUI.toString=f;Ga.z__MAINUI.__enum__=Ga;Ga.BG=["BG",1];Ga.BG.toString=f;Ga.BG.__enum__=Ga;Ga.WORLD=["WORLD",2];Ga.WORLD.toString=f;Ga.WORLD.__enum__=Ga;Ga.__empty_constructs__=[Ga.z__MAINUI,Ga.BG,Ga.WORLD];var k=function(){this._poolStore=new Oe;this._values=new ob;this._defaults=
new ob};m["com.workinman.cloud.WMCloud"]=k;k.__name__=["com","workinman","cloud","WMCloud"];k.__properties__={get_instance:"get_instance"};k.get_instance=function(){null==k.__instance&&(k.__instance=new k,k.__instance.init());return k.__instance};k.prototype={init:function(){this._dispatcher=Wb.request();this._input=new Pe;this._assets=new Qe;this._sound=new Re;this._random=new Se;this._localize=new Te;this._achievements=new Ue;this._dialogue=new Ve;this._timer=new We},get_dispatcher:function(){return this._dispatcher},
get_input:function(){return this._input},get_assets:function(){return this._assets},get_sound:function(){return this._sound},get_random:function(){return this._random},get_localize:function(){return this._localize},get_pool:function(){return this._poolStore},get_achievements:function(){return this._achievements},get_dialogue:function(){return this._dialogue},get_timer:function(){return this._timer},setBool:function(a,b){this.setValue(a,b)},getBool:function(a){return this._values.get(a)},setFloat:function(a,
b){this.setValue(a,b)},getFloat:function(a){return this._values.get(a)},setInt:function(a,b){this.setValue(a,b)},modifyInt:function(a,b){return Math.floor(this.modifyValue(a,b))},getInt:function(a){return this._values.get(a)},setString:function(a,b){this.setValue(a,b)},getString:function(a){return this._values.get(a)},setDefault:function(a,b){this._defaults.set(a,b);this.resetValue(a)},getValue:function(a){return this._values.get(a)},setValue:function(a,b){this._values.set(a,b);!1==this._defaults.exists(a)&&
this.setDefault(a,b);this._updateDisplays(a)},modifyValue:function(a,b){null==b&&(b=1);var c=this.getFloat(a)+b;this._values.set(a,c);this._updateDisplays(a);return this.getFloat(a)},resetValue:function(a){var b=this._defaults.get(a);this._values.set(a,b);this._updateDisplays(a)},sharedObjectGetData:function(a){var a=Gc.getLocal(a),b=a.data;a.dispose();return b},sharedObjectSetData:function(a,b){var c=Gc.getLocal(a);c.data=b;c.flush();c.dispose()},_updateDisplays:function(a){this._dispatcher.dispatchEvent(R.request(j.UPDATE_DISPLAY,
function(){var b=new I;b.set("val",a);return b}(this)))},update:function(a){this._input.update(a);this._dialogue.update(a);this._timer.update(a);this._sound.update(a)},__class__:k,__properties__:{get_timer:"get_timer",get_dialogue:"get_dialogue",get_achievements:"get_achievements",get_pool:"get_pool",get_localize:"get_localize",get_random:"get_random",get_sound:"get_sound",get_assets:"get_assets",get_input:"get_input",get_dispatcher:"get_dispatcher"}};var Xe=function(){this.achievement_unlocked="achievement_unlocked";
this.panel_number="panel_number";this.avatar_name_display_format="avatar_name_display_format";this.btn_back="btn_back";this.title="title";this.loading="loading"};m["com.workinman.cloud._WMManifest.TLocal"]=Xe;Xe.__name__=["com","workinman","cloud","_WMManifest","TLocal"];Xe.prototype={__class__:Xe};var Ye=function(){this.sbcc_whoosh="sbcc_whoosh";this.sbcc_sfx_screenchange="sbcc_sfx_screenchange";this.sbcc_sfx_play="sbcc_sfx_play";this.sbcc_sfx_locked_alt_2="sbcc_sfx_locked_alt_2";this.sbcc_sfx_drop=
"sbcc_sfx_drop";this.main_music="main_music";this.silent="silent"};m["com.workinman.cloud._WMManifest.TSound"]=Ye;Ye.__name__=["com","workinman","cloud","_WMManifest","TSound"];Ye.prototype={__class__:Ye};var $e=function(){this.avatar=new Ze};m["com.workinman.cloud._WMManifest.TSpine"]=$e;$e.__name__=["com","workinman","cloud","_WMManifest","TSpine"];$e.prototype={__class__:$e};var af=function(){this.loader_frame="loader_frame";this.loader_back="loader_back";this.share_link_btn="share_link_btn";this.popup_quit_btn_yes=
"popup_quit_btn_yes";this.popup_quit_btn_no="popup_quit_btn_no";this.purple_button="purple_button";this.universal_select_arrow_right="universal_select_arrow_right";this.universal_select_arrow_left="universal_select_arrow_left";this.scale="scale";this.panel_header="panel_header";this.t2="t2";this.panel_picker_cursor="panel_picker_cursor";this.layout_picker_4panel="layout_picker_4panel";this.layout_picker_1panel="layout_picker_1panel";this.main_btn_select_text="main_btn_select_text";this.main_btn_select_characters=
"main_btn_select_characters";this.main_btn_select_bubbles="main_btn_select_bubbles";this.main_btn_select_backgrounds="main_btn_select_backgrounds";this.main_btn_select_avatars="main_btn_select_avatars";this.y2="y2";this.t1="t1";this.d3="d3";this.d1="d1";this.BOOM="BOOM";this.universal_close="universal_close";this.share_link_bg="share_link_bg";this.comic_creator_btn="comic_creator_btn";this.rotate="rotate";this.pagination_arrow_right_lg="pagination_arrow_right_lg";this.pagination_arrow_left_lg="pagination_arrow_left_lg";
this.ZOOM="ZOOM";this.y1="y1";this.POW="POW";this.d4="d4";this.BAM_="BAM!";this.ARRGH_="ARRGH!";this.checkmark_btn="checkmark_btn";this.button_volume_on="button_volume_on";this.avatar_creator_btn="avatar_creator_btn";this.popup_quit_bg="popup_quit_bg";this.layout_picker_box="layout_picker_box";this.layout_picker_8panel="layout_picker_8panel";this.comic_rotation_dotted="comic_rotation_dotted";this.main_box_select="main_box_select";this.download_print_backing="download_print_backing";this.d2="d2";this.button_volume_off=
"button_volume_off";this.blank="blank";this.asterisk="asterisk";this.top_wayne_male_2="top_wayne_male_2";this.top_wayne_male="top_wayne_male";this.top_wayne_female="top_wayne_female";this.top_tmnt_male="top_tmnt_male";this.top_tmnt_female="top_tmnt_female";this.top_spongebob_male="top_spongebob_male";this.top_spongebob_female="top_spongebob_female";this.top_loudhouse_male_2="top_loudhouse_male_2";this.top_loudhouse_female="top_loudhouse_female";this.top_henrydanger_female="top_henrydanger_female";
this.top_bunsen_male="top_bunsen_male";this.top_bunsen_female="top_bunsen_female";this.top_base_male="top_base_male";this.top_base_female="top_base_female";this.top_alvin_male="top_alvin_male";this.shoes_wayne_male_2="shoes_wayne_male_2";this.shoes_wayne_male="shoes_wayne_male";this.shoes_wayne_female="shoes_wayne_female";this.shoes_tmnt_male="shoes_tmnt_male";this.shoes_tmnt_female="shoes_tmnt_female";this.shoes_spongebob_male="shoes_spongebob_male";this.shoes_spongebob_female="shoes_spongebob_female";
this.shoes_loudhouse_male="shoes_loudhouse_male";this.shoes_henrydanger_male="shoes_henrydanger_male";this.shoes_henrydanger_female="shoes_henrydanger_female";this.shoes_bunsen_male="shoes_bunsen_male";this.shoes_bunsen_female="shoes_bunsen_female";this.shoes_base_male="shoes_base_male";this.shoes_base_female="shoes_base_female";this.shoes_alvin_male="shoes_alvin_male";this.mouth_6_male="mouth_6_male";this.mouth_3_male="mouth_3_male";this.mouth_3_female="mouth_3_female";this.mouth_2_female="mouth_2_female";
this.mouth_1_male="mouth_1_male";this.eyes_3_green="eyes_3_green";this.eyes_3_gray="eyes_3_gray";this.eyes_3_brown="eyes_3_brown";this.eyes_3_blue="eyes_3_blue";this.eyes_2_green="eyes_2_green";this.eyes_2_gray="eyes_2_gray";this.eyes_1_green="eyes_1_green";this.eyes_1_gray="eyes_1_gray";this.bottom_wayne_male_2="bottom_wayne_male_2";this.bottom_wayne_male="bottom_wayne_male";this.bottom_wayne_female="bottom_wayne_female";this.bottom_tmnt_male="bottom_tmnt_male";this.bottom_tmnt_female="bottom_tmnt_female";
this.bottom_spongebob_female="bottom_spongebob_female";this.bottom_male_base="bottom_male_base";this.bottom_bunsen_male="bottom_bunsen_male";this.bottom_base_female="bottom_base_female";this.bottom_alvin_female="bottom_alvin_female";this.top_loudhouse_male="top_loudhouse_male";this.top_henrydanger_male="top_henrydanger_male";this.top_alvin_female="top_alvin_female";this.shoes_loudhouse_male_2="shoes_loudhouse_male_2";this.shoes_loudhouse_female="shoes_loudhouse_female";this.shoes_alvin_female="shoes_alvin_female";
this.nose_4="nose_4";this.nose_3="nose_3";this.nose_2="nose_2";this.nose_1="nose_1";this.mouth_6_female="mouth_6_female";this.mouth_5_male="mouth_5_male";this.mouth_5_female="mouth_5_female";this.mouth_4_male="mouth_4_male";this.mouth_4_female="mouth_4_female";this.mouth_2_male="mouth_2_male";this.mouth_1_female="mouth_1_female";this.head_3_brown="head_3_brown";this.head_2_brown="head_2_brown";this.head_1_brown="head_1_brown";this.eyes_2_brown="eyes_2_brown";this.eyes_2_blue="eyes_2_blue";this.eyes_1_brown=
"eyes_1_brown";this.eyes_1_blue="eyes_1_blue";this.bottom_spongebob_male="bottom_spongebob_male";this.bottom_loudhouse_male_2="bottom_loudhouse_male_2";this.bottom_loudhouse_male="bottom_loudhouse_male";this.bottom_loudhouse_female="bottom_loudhouse_female";this.bottom_henrydanger_male="bottom_henrydanger_male";this.bottom_henrydanger_female="bottom_henrydanger_female";this.bottom_bunsen_female="bottom_bunsen_female";this.bottom_alvin_male="bottom_alvin_male";this.thumbnail_skin_yellow="thumbnail_skin_yellow";
this.thumbnail_skin_peach="thumbnail_skin_peach";this.thumbnail_skin_dark="thumbnail_skin_dark";this.thumbnail_skin_brown="thumbnail_skin_brown";this.thumbnail_powers_off="thumbnail_powers_off";this.thumbnail_hair_6_medium="thumbnail_hair_6_medium";this.thumbnail_hair_6_light="thumbnail_hair_6_light";this.thumbnail_hair_6_dark="thumbnail_hair_6_dark";this.thumbnail_hair_5_medium="thumbnail_hair_5_medium";this.thumbnail_hair_5_light="thumbnail_hair_5_light";this.thumbnail_hair_5_dark="thumbnail_hair_5_dark";
this.thumbnail_hair_4_medium="thumbnail_hair_4_medium";this.thumbnail_hair_4_light="thumbnail_hair_4_light";this.thumbnail_hair_4_dark="thumbnail_hair_4_dark";this.thumbnail_hair_3_medium="thumbnail_hair_3_medium";this.thumbnail_hair_3_light="thumbnail_hair_3_light";this.thumbnail_hair_3_dark="thumbnail_hair_3_dark";this.thumbnail_hair_2_medium="thumbnail_hair_2_medium";this.thumbnail_hair_2_light="thumbnail_hair_2_light";this.thumbnail_hair_2_dark="thumbnail_hair_2_dark";this.thumbnail_hair_1_medium=
"thumbnail_hair_1_medium";this.thumbnail_hair_1_light="thumbnail_hair_1_light";this.thumbnail_hair_1_dark="thumbnail_hair_1_dark";this.thumbnail_accessory_wayne_male="thumbnail_accessory_wayne_male";this.thumbnail_accessory_wayne_female="thumbnail_accessory_wayne_female";this.thumbnail_accessory_tmnt_male="thumbnail_accessory_tmnt_male";this.thumbnail_accessory_tmnt_female="thumbnail_accessory_tmnt_female";this.thumbnail_accessory_spongebob_male="thumbnail_accessory_spongebob_male";this.thumbnail_accessory_spongebob_female=
"thumbnail_accessory_spongebob_female";this.thumbnail_accessory_loudhouse_male="thumbnail_accessory_loudhouse_male";this.thumbnail_accessory_loudhouse_female="thumbnail_accessory_loudhouse_female";this.thumbnail_accessory_henrydanger_male="thumbnail_accessory_henrydanger_male";this.thumbnail_accessory_henrydanger_female="thumbnail_accessory_henrydanger_female";this.thumbnail_accessory_bunsen_male="thumbnail_accessory_bunsen_male";this.thumbnail_accessory_bunsen_female="thumbnail_accessory_bunsen_female";
this.thumbnail_accessory_alvin_male="thumbnail_accessory_alvin_male";this.thumbnail_accessory_alvin_female="thumbnail_accessory_alvin_female";this.button_hair="button_hair";this.button_face="button_face";this.button_clothes="button_clothes";this.button_body="button_body";this.button_accessories="button_accessories";this.pagination_backing="pagination_backing";this.pagination_arrow_right="pagination_arrow_right";this.pagination_arrow_left="pagination_arrow_left";this.avatar_placeholder="avatar_placeholder";
this.avatar_picker_remove="avatar_picker_remove";this.avatar_picker_add="avatar_picker_add";this.item_box="item_box";this.builder_frame="builder_frame";this.navigation_arrow_next="navigation_arrow_next";this.navigation_arrow_back="navigation_arrow_back";this.button_share="button_share";this.button_random="button_random";this.button_print="button_print";this.button_male="button_male";this.button_female="button_female";this.button_download="button_download";this.avatar_frame="avatar_frame";this.loader_fill=
"loader_fill";this.white="white";this.text_field="text_field";this.black="black";this.hd_comic_panel_frame_small="hd_comic_panel_frame_small";this.hd_comic_panel_frame_mini="hd_comic_panel_frame_mini";this.hd_comic_panel_frame_medium="hd_comic_panel_frame_medium";this.hd_comic_panel_frame_large="hd_comic_panel_frame_large";this.nick_cartoon_creator_splash_text="nick_cartoon_creator_splash_text";this.nick_cartoon_creator_splash_no_text="nick_cartoon_creator_splash_no_text";this.nick_cartoon_creator_splash_nickelodeon=
"nick_cartoon_creator_splash_nickelodeon"};m["com.workinman.cloud._WMManifest.TTexture"]=af;af.__name__=["com","workinman","cloud","_WMManifest","TTexture"];af.prototype={__class__:af};var bf=function(){this.translation="translation"};m["com.workinman.cloud._WMManifest.TXml"]=bf;bf.__name__=["com","workinman","cloud","_WMManifest","TXml"];bf.prototype={__class__:bf};var h=function(){};m["com.workinman.cloud.WMManifest"]=h;h.__name__=["com","workinman","cloud","WMManifest"];var Ze=function(){this.animations=
new cf;this.slots=new df;this.skins=new ef;this.name="avatar"};m["com.workinman.cloud._WMManifest.Savatar"]=Ze;Ze.__name__=["com","workinman","cloud","_WMManifest","Savatar"];Ze.prototype={__class__:Ze};var ef=function(){this.skin_dark="skin_dark"};m["com.workinman.cloud._WMManifest.Savatar_Skins"]=ef;ef.__name__=["com","workinman","cloud","_WMManifest","Savatar_Skins"];ef.prototype={__class__:ef};var df=function(){this.mouth="mouth";this.nose="nose";this.eyes="eyes";this.head_front="head_front";
this.shoes="shoes";this.hair_front="hair_front";this.eyebrows="eyebrows";this.eyelashes="eyelashes";this.head_3="head_3";this.head_2="head_2";this.head_1="head_1";this.top="top";this.bottom="bottom";this.hair_back="hair_back";this.head_back="head_back"};m["com.workinman.cloud._WMManifest.Savatar_Slots"]=df;df.__name__=["com","workinman","cloud","_WMManifest","Savatar_Slots"];df.prototype={__class__:df};var cf=function(){this.animation="animation"};m["com.workinman.cloud._WMManifest.Savatar_Anims"]=
cf;cf.__name__=["com","workinman","cloud","_WMManifest","Savatar_Anims"];cf.prototype={__class__:cf};var ta=m["com.workinman.cloud.input.INPUT_PHASE"]={__ename__:["com","workinman","cloud","input","INPUT_PHASE"],__constructs__:["DOWN","UP","MOVE"]};ta.DOWN=["DOWN",0];ta.DOWN.toString=f;ta.DOWN.__enum__=ta;ta.UP=["UP",1];ta.UP.toString=f;ta.UP.__enum__=ta;ta.MOVE=["MOVE",2];ta.MOVE.toString=f;ta.MOVE.__enum__=ta;ta.__empty_constructs__=[ta.DOWN,ta.UP,ta.MOVE];var la=m["com.workinman.cloud.input.INPUT_SWIPE"]=
{__ename__:["com","workinman","cloud","input","INPUT_SWIPE"],__constructs__:["NONE","LEFT","RIGHT","UP","DOWN"]};la.NONE=["NONE",0];la.NONE.toString=f;la.NONE.__enum__=la;la.LEFT=["LEFT",1];la.LEFT.toString=f;la.LEFT.__enum__=la;la.RIGHT=["RIGHT",2];la.RIGHT.toString=f;la.RIGHT.__enum__=la;la.UP=["UP",3];la.UP.toString=f;la.UP.__enum__=la;la.DOWN=["DOWN",4];la.DOWN.toString=f;la.DOWN.__enum__=la;la.__empty_constructs__=[la.NONE,la.LEFT,la.RIGHT,la.UP,la.DOWN];var G=m["com.workinman.cloud.input.INPUT_TYPE"]=
{__ename__:["com","workinman","cloud","input","INPUT_TYPE"],__constructs__:"CLICK,UI_OK,D0,D1,D2,D3,D4,D5,MOVE_UP,MOVE_DOWN,MOVE_LEFT,MOVE_RIGHT,JUMP,ATTACK".split(",")};G.CLICK=["CLICK",0];G.CLICK.toString=f;G.CLICK.__enum__=G;G.UI_OK=["UI_OK",1];G.UI_OK.toString=f;G.UI_OK.__enum__=G;G.D0=["D0",2];G.D0.toString=f;G.D0.__enum__=G;G.D1=["D1",3];G.D1.toString=f;G.D1.__enum__=G;G.D2=["D2",4];G.D2.toString=f;G.D2.__enum__=G;G.D3=["D3",5];G.D3.toString=f;G.D3.__enum__=G;G.D4=["D4",6];G.D4.toString=f;G.D4.__enum__=
G;G.D5=["D5",7];G.D5.toString=f;G.D5.__enum__=G;G.MOVE_UP=["MOVE_UP",8];G.MOVE_UP.toString=f;G.MOVE_UP.__enum__=G;G.MOVE_DOWN=["MOVE_DOWN",9];G.MOVE_DOWN.toString=f;G.MOVE_DOWN.__enum__=G;G.MOVE_LEFT=["MOVE_LEFT",10];G.MOVE_LEFT.toString=f;G.MOVE_LEFT.__enum__=G;G.MOVE_RIGHT=["MOVE_RIGHT",11];G.MOVE_RIGHT.toString=f;G.MOVE_RIGHT.__enum__=G;G.JUMP=["JUMP",12];G.JUMP.toString=f;G.JUMP.__enum__=G;G.ATTACK=["ATTACK",13];G.ATTACK.toString=f;G.ATTACK.__enum__=G;G.__empty_constructs__=[G.CLICK,G.UI_OK,G.D0,
G.D1,G.D2,G.D3,G.D4,G.D5,G.MOVE_UP,G.MOVE_DOWN,G.MOVE_LEFT,G.MOVE_RIGHT,G.JUMP,G.ATTACK];var Db=m["com.workinman.cloud.input.INPUT_VIRTUAL"]={__ename__:["com","workinman","cloud","input","INPUT_VIRTUAL"],__constructs__:["JUMP","ATTACK"]};Db.JUMP=["JUMP",0];Db.JUMP.toString=f;Db.JUMP.__enum__=Db;Db.ATTACK=["ATTACK",1];Db.ATTACK.toString=f;Db.ATTACK.__enum__=Db;Db.__empty_constructs__=[Db.JUMP,Db.ATTACK];var sa=m["com.workinman.cloud.screen.CHANGE_TYPE"]={__ename__:["com","workinman","cloud","screen",
"CHANGE_TYPE"],__constructs__:["OPEN_BEGIN","OPEN_COMPLETE","CLOSE_BEGIN","CLOSE_COMPLETE"]};sa.OPEN_BEGIN=["OPEN_BEGIN",0];sa.OPEN_BEGIN.toString=f;sa.OPEN_BEGIN.__enum__=sa;sa.OPEN_COMPLETE=["OPEN_COMPLETE",1];sa.OPEN_COMPLETE.toString=f;sa.OPEN_COMPLETE.__enum__=sa;sa.CLOSE_BEGIN=["CLOSE_BEGIN",2];sa.CLOSE_BEGIN.toString=f;sa.CLOSE_BEGIN.__enum__=sa;sa.CLOSE_COMPLETE=["CLOSE_COMPLETE",3];sa.CLOSE_COMPLETE.toString=f;sa.CLOSE_COMPLETE.__enum__=sa;sa.__empty_constructs__=[sa.OPEN_BEGIN,sa.OPEN_COMPLETE,
sa.CLOSE_BEGIN,sa.CLOSE_COMPLETE];var n=m["com.workinman.cloud.screen.FLOW"]={__ename__:["com","workinman","cloud","screen","FLOW"],__constructs__:"SPLASH_PLAY,SPLASH_CLICKTRAY,SPLASH_HELP,SPLASH_VIEW_SCORES,SPLASH_PRINTABLE,MAIN_MENU,AVATAR_TRAY_OPEN,AVATAR_TRAY_EXIT,AVATAR_TRAY_REFRESH,AVATAR_BUILDER_OPEN,AVATAR_BUILDER_EXIT,COMIC_PANEL_SELECT_OPEN,COMIC_PANEL_SELECT_EXIT,COMIC_CREATOR_OPEN,COMIC_CREATOR_EXIT,SELECT_SAVE,HELP_CLOSE,SHOP,SHOP_CLOSE,COMIC_MENU,COMIC_MENU_CLOSE,COMIC_MENU_HELP,COMIC_MENU_QUIT,COMIC_QUIT_YES,COMIC_QUIT_NO,END_LEVEL,END_LEVEL_NEXT,END_LEVEL_QUIT,END_SUMMARY_CONTINUE,END_COMIC_PLAY_AGAIN,END_COMIC_PRINTABLE,END_COMIC_VIEW_SCORES,END_COMIC_SUBMIT_SCORE,BRANCH_COMIC_WIN,BRANCH_COMIC_LOSE,BRANCH_LEVEL_WIN,BRANCH_LEVEL_LOSE,ENTER_CODE_CLOSE,ENTER_CODE_OPEN,LOAD_CLOSE,LOADING_DONE,ACHIEVEMENT_POPUP,ACHIEVEMENT_POPUP_CLOSE,ACHIEVEMENT,ACHIEVEMENT_CLOSE,DIALOGUE_POPUP,DIALOGUE_CLOSE,DEBUG_CLOSE,COMIC_TO_AVATAR,AVATAR_TO_COMIC,OPEN_POPUP_SUBMIT,CLOSE_POPUP_SUBMIT,OPEN_POPUP_SHARE,CLOSE_POPUP_SHARE,OPEN_DELETE_AVATAR,CLOSE_DELETE_AVATAR,OPEN_PRINT_CLOSE,CLOSE_PRINT_CLOSE,OPEN_SUBMIT_CONFIRM,CLOSE_SUBMIT_CONFIRM,TERMS_OPEN,TERMS_CLOSE,AGREEMENT_OPEN,AGREEMENT_CLOSE".split(",")};
n.SPLASH_PLAY=["SPLASH_PLAY",0];n.SPLASH_PLAY.toString=f;n.SPLASH_PLAY.__enum__=n;n.SPLASH_CLICKTRAY=["SPLASH_CLICKTRAY",1];n.SPLASH_CLICKTRAY.toString=f;n.SPLASH_CLICKTRAY.__enum__=n;n.SPLASH_HELP=["SPLASH_HELP",2];n.SPLASH_HELP.toString=f;n.SPLASH_HELP.__enum__=n;n.SPLASH_VIEW_SCORES=["SPLASH_VIEW_SCORES",3];n.SPLASH_VIEW_SCORES.toString=f;n.SPLASH_VIEW_SCORES.__enum__=n;n.SPLASH_PRINTABLE=["SPLASH_PRINTABLE",4];n.SPLASH_PRINTABLE.toString=f;n.SPLASH_PRINTABLE.__enum__=n;n.MAIN_MENU=["MAIN_MENU",
5];n.MAIN_MENU.toString=f;n.MAIN_MENU.__enum__=n;n.AVATAR_TRAY_OPEN=["AVATAR_TRAY_OPEN",6];n.AVATAR_TRAY_OPEN.toString=f;n.AVATAR_TRAY_OPEN.__enum__=n;n.AVATAR_TRAY_EXIT=["AVATAR_TRAY_EXIT",7];n.AVATAR_TRAY_EXIT.toString=f;n.AVATAR_TRAY_EXIT.__enum__=n;n.AVATAR_TRAY_REFRESH=["AVATAR_TRAY_REFRESH",8];n.AVATAR_TRAY_REFRESH.toString=f;n.AVATAR_TRAY_REFRESH.__enum__=n;n.AVATAR_BUILDER_OPEN=["AVATAR_BUILDER_OPEN",9];n.AVATAR_BUILDER_OPEN.toString=f;n.AVATAR_BUILDER_OPEN.__enum__=n;n.AVATAR_BUILDER_EXIT=
["AVATAR_BUILDER_EXIT",10];n.AVATAR_BUILDER_EXIT.toString=f;n.AVATAR_BUILDER_EXIT.__enum__=n;n.COMIC_PANEL_SELECT_OPEN=["COMIC_PANEL_SELECT_OPEN",11];n.COMIC_PANEL_SELECT_OPEN.toString=f;n.COMIC_PANEL_SELECT_OPEN.__enum__=n;n.COMIC_PANEL_SELECT_EXIT=["COMIC_PANEL_SELECT_EXIT",12];n.COMIC_PANEL_SELECT_EXIT.toString=f;n.COMIC_PANEL_SELECT_EXIT.__enum__=n;n.COMIC_CREATOR_OPEN=["COMIC_CREATOR_OPEN",13];n.COMIC_CREATOR_OPEN.toString=f;n.COMIC_CREATOR_OPEN.__enum__=n;n.COMIC_CREATOR_EXIT=["COMIC_CREATOR_EXIT",
14];n.COMIC_CREATOR_EXIT.toString=f;n.COMIC_CREATOR_EXIT.__enum__=n;n.SELECT_SAVE=["SELECT_SAVE",15];n.SELECT_SAVE.toString=f;n.SELECT_SAVE.__enum__=n;n.HELP_CLOSE=["HELP_CLOSE",16];n.HELP_CLOSE.toString=f;n.HELP_CLOSE.__enum__=n;n.SHOP=["SHOP",17];n.SHOP.toString=f;n.SHOP.__enum__=n;n.SHOP_CLOSE=["SHOP_CLOSE",18];n.SHOP_CLOSE.toString=f;n.SHOP_CLOSE.__enum__=n;n.COMIC_MENU=["COMIC_MENU",19];n.COMIC_MENU.toString=f;n.COMIC_MENU.__enum__=n;n.COMIC_MENU_CLOSE=["COMIC_MENU_CLOSE",20];n.COMIC_MENU_CLOSE.toString=
f;n.COMIC_MENU_CLOSE.__enum__=n;n.COMIC_MENU_HELP=["COMIC_MENU_HELP",21];n.COMIC_MENU_HELP.toString=f;n.COMIC_MENU_HELP.__enum__=n;n.COMIC_MENU_QUIT=["COMIC_MENU_QUIT",22];n.COMIC_MENU_QUIT.toString=f;n.COMIC_MENU_QUIT.__enum__=n;n.COMIC_QUIT_YES=["COMIC_QUIT_YES",23];n.COMIC_QUIT_YES.toString=f;n.COMIC_QUIT_YES.__enum__=n;n.COMIC_QUIT_NO=["COMIC_QUIT_NO",24];n.COMIC_QUIT_NO.toString=f;n.COMIC_QUIT_NO.__enum__=n;n.END_LEVEL=["END_LEVEL",25];n.END_LEVEL.toString=f;n.END_LEVEL.__enum__=n;n.END_LEVEL_NEXT=
["END_LEVEL_NEXT",26];n.END_LEVEL_NEXT.toString=f;n.END_LEVEL_NEXT.__enum__=n;n.END_LEVEL_QUIT=["END_LEVEL_QUIT",27];n.END_LEVEL_QUIT.toString=f;n.END_LEVEL_QUIT.__enum__=n;n.END_SUMMARY_CONTINUE=["END_SUMMARY_CONTINUE",28];n.END_SUMMARY_CONTINUE.toString=f;n.END_SUMMARY_CONTINUE.__enum__=n;n.END_COMIC_PLAY_AGAIN=["END_COMIC_PLAY_AGAIN",29];n.END_COMIC_PLAY_AGAIN.toString=f;n.END_COMIC_PLAY_AGAIN.__enum__=n;n.END_COMIC_PRINTABLE=["END_COMIC_PRINTABLE",30];n.END_COMIC_PRINTABLE.toString=f;n.END_COMIC_PRINTABLE.__enum__=
n;n.END_COMIC_VIEW_SCORES=["END_COMIC_VIEW_SCORES",31];n.END_COMIC_VIEW_SCORES.toString=f;n.END_COMIC_VIEW_SCORES.__enum__=n;n.END_COMIC_SUBMIT_SCORE=["END_COMIC_SUBMIT_SCORE",32];n.END_COMIC_SUBMIT_SCORE.toString=f;n.END_COMIC_SUBMIT_SCORE.__enum__=n;n.BRANCH_COMIC_WIN=["BRANCH_COMIC_WIN",33];n.BRANCH_COMIC_WIN.toString=f;n.BRANCH_COMIC_WIN.__enum__=n;n.BRANCH_COMIC_LOSE=["BRANCH_COMIC_LOSE",34];n.BRANCH_COMIC_LOSE.toString=f;n.BRANCH_COMIC_LOSE.__enum__=n;n.BRANCH_LEVEL_WIN=["BRANCH_LEVEL_WIN",
35];n.BRANCH_LEVEL_WIN.toString=f;n.BRANCH_LEVEL_WIN.__enum__=n;n.BRANCH_LEVEL_LOSE=["BRANCH_LEVEL_LOSE",36];n.BRANCH_LEVEL_LOSE.toString=f;n.BRANCH_LEVEL_LOSE.__enum__=n;n.ENTER_CODE_CLOSE=["ENTER_CODE_CLOSE",37];n.ENTER_CODE_CLOSE.toString=f;n.ENTER_CODE_CLOSE.__enum__=n;n.ENTER_CODE_OPEN=["ENTER_CODE_OPEN",38];n.ENTER_CODE_OPEN.toString=f;n.ENTER_CODE_OPEN.__enum__=n;n.LOAD_CLOSE=["LOAD_CLOSE",39];n.LOAD_CLOSE.toString=f;n.LOAD_CLOSE.__enum__=n;n.LOADING_DONE=["LOADING_DONE",40];n.LOADING_DONE.toString=
f;n.LOADING_DONE.__enum__=n;n.ACHIEVEMENT_POPUP=["ACHIEVEMENT_POPUP",41];n.ACHIEVEMENT_POPUP.toString=f;n.ACHIEVEMENT_POPUP.__enum__=n;n.ACHIEVEMENT_POPUP_CLOSE=["ACHIEVEMENT_POPUP_CLOSE",42];n.ACHIEVEMENT_POPUP_CLOSE.toString=f;n.ACHIEVEMENT_POPUP_CLOSE.__enum__=n;n.ACHIEVEMENT=["ACHIEVEMENT",43];n.ACHIEVEMENT.toString=f;n.ACHIEVEMENT.__enum__=n;n.ACHIEVEMENT_CLOSE=["ACHIEVEMENT_CLOSE",44];n.ACHIEVEMENT_CLOSE.toString=f;n.ACHIEVEMENT_CLOSE.__enum__=n;n.DIALOGUE_POPUP=["DIALOGUE_POPUP",45];n.DIALOGUE_POPUP.toString=
f;n.DIALOGUE_POPUP.__enum__=n;n.DIALOGUE_CLOSE=["DIALOGUE_CLOSE",46];n.DIALOGUE_CLOSE.toString=f;n.DIALOGUE_CLOSE.__enum__=n;n.DEBUG_CLOSE=["DEBUG_CLOSE",47];n.DEBUG_CLOSE.toString=f;n.DEBUG_CLOSE.__enum__=n;n.COMIC_TO_AVATAR=["COMIC_TO_AVATAR",48];n.COMIC_TO_AVATAR.toString=f;n.COMIC_TO_AVATAR.__enum__=n;n.AVATAR_TO_COMIC=["AVATAR_TO_COMIC",49];n.AVATAR_TO_COMIC.toString=f;n.AVATAR_TO_COMIC.__enum__=n;n.OPEN_POPUP_SUBMIT=["OPEN_POPUP_SUBMIT",50];n.OPEN_POPUP_SUBMIT.toString=f;n.OPEN_POPUP_SUBMIT.__enum__=
n;n.CLOSE_POPUP_SUBMIT=["CLOSE_POPUP_SUBMIT",51];n.CLOSE_POPUP_SUBMIT.toString=f;n.CLOSE_POPUP_SUBMIT.__enum__=n;n.OPEN_POPUP_SHARE=["OPEN_POPUP_SHARE",52];n.OPEN_POPUP_SHARE.toString=f;n.OPEN_POPUP_SHARE.__enum__=n;n.CLOSE_POPUP_SHARE=["CLOSE_POPUP_SHARE",53];n.CLOSE_POPUP_SHARE.toString=f;n.CLOSE_POPUP_SHARE.__enum__=n;n.OPEN_DELETE_AVATAR=["OPEN_DELETE_AVATAR",54];n.OPEN_DELETE_AVATAR.toString=f;n.OPEN_DELETE_AVATAR.__enum__=n;n.CLOSE_DELETE_AVATAR=["CLOSE_DELETE_AVATAR",55];n.CLOSE_DELETE_AVATAR.toString=
f;n.CLOSE_DELETE_AVATAR.__enum__=n;n.OPEN_PRINT_CLOSE=["OPEN_PRINT_CLOSE",56];n.OPEN_PRINT_CLOSE.toString=f;n.OPEN_PRINT_CLOSE.__enum__=n;n.CLOSE_PRINT_CLOSE=["CLOSE_PRINT_CLOSE",57];n.CLOSE_PRINT_CLOSE.toString=f;n.CLOSE_PRINT_CLOSE.__enum__=n;n.OPEN_SUBMIT_CONFIRM=["OPEN_SUBMIT_CONFIRM",58];n.OPEN_SUBMIT_CONFIRM.toString=f;n.OPEN_SUBMIT_CONFIRM.__enum__=n;n.CLOSE_SUBMIT_CONFIRM=["CLOSE_SUBMIT_CONFIRM",59];n.CLOSE_SUBMIT_CONFIRM.toString=f;n.CLOSE_SUBMIT_CONFIRM.__enum__=n;n.TERMS_OPEN=["TERMS_OPEN",
60];n.TERMS_OPEN.toString=f;n.TERMS_OPEN.__enum__=n;n.TERMS_CLOSE=["TERMS_CLOSE",61];n.TERMS_CLOSE.toString=f;n.TERMS_CLOSE.__enum__=n;n.AGREEMENT_OPEN=["AGREEMENT_OPEN",62];n.AGREEMENT_OPEN.toString=f;n.AGREEMENT_OPEN.__enum__=n;n.AGREEMENT_CLOSE=["AGREEMENT_CLOSE",63];n.AGREEMENT_CLOSE.toString=f;n.AGREEMENT_CLOSE.__enum__=n;n.__empty_constructs__=[n.SPLASH_PLAY,n.SPLASH_CLICKTRAY,n.SPLASH_HELP,n.SPLASH_VIEW_SCORES,n.SPLASH_PRINTABLE,n.MAIN_MENU,n.AVATAR_TRAY_OPEN,n.AVATAR_TRAY_EXIT,n.AVATAR_TRAY_REFRESH,
n.AVATAR_BUILDER_OPEN,n.AVATAR_BUILDER_EXIT,n.COMIC_PANEL_SELECT_OPEN,n.COMIC_PANEL_SELECT_EXIT,n.COMIC_CREATOR_OPEN,n.COMIC_CREATOR_EXIT,n.SELECT_SAVE,n.HELP_CLOSE,n.SHOP,n.SHOP_CLOSE,n.COMIC_MENU,n.COMIC_MENU_CLOSE,n.COMIC_MENU_HELP,n.COMIC_MENU_QUIT,n.COMIC_QUIT_YES,n.COMIC_QUIT_NO,n.END_LEVEL,n.END_LEVEL_NEXT,n.END_LEVEL_QUIT,n.END_SUMMARY_CONTINUE,n.END_COMIC_PLAY_AGAIN,n.END_COMIC_PRINTABLE,n.END_COMIC_VIEW_SCORES,n.END_COMIC_SUBMIT_SCORE,n.BRANCH_COMIC_WIN,n.BRANCH_COMIC_LOSE,n.BRANCH_LEVEL_WIN,
n.BRANCH_LEVEL_LOSE,n.ENTER_CODE_CLOSE,n.ENTER_CODE_OPEN,n.LOAD_CLOSE,n.LOADING_DONE,n.ACHIEVEMENT_POPUP,n.ACHIEVEMENT_POPUP_CLOSE,n.ACHIEVEMENT,n.ACHIEVEMENT_CLOSE,n.DIALOGUE_POPUP,n.DIALOGUE_CLOSE,n.DEBUG_CLOSE,n.COMIC_TO_AVATAR,n.AVATAR_TO_COMIC,n.OPEN_POPUP_SUBMIT,n.CLOSE_POPUP_SUBMIT,n.OPEN_POPUP_SHARE,n.CLOSE_POPUP_SHARE,n.OPEN_DELETE_AVATAR,n.CLOSE_DELETE_AVATAR,n.OPEN_PRINT_CLOSE,n.CLOSE_PRINT_CLOSE,n.OPEN_SUBMIT_CONFIRM,n.CLOSE_SUBMIT_CONFIRM,n.TERMS_OPEN,n.TERMS_CLOSE,n.AGREEMENT_OPEN,n.AGREEMENT_CLOSE];
var ab=m["com.workinman.cloud.screen.SCREEN_OUTPUT"]={__ename__:["com","workinman","cloud","screen","SCREEN_OUTPUT"],__constructs__:["OPENED","CLOSED"]};ab.OPENED=["OPENED",0];ab.OPENED.toString=f;ab.OPENED.__enum__=ab;ab.CLOSED=["CLOSED",1];ab.CLOSED.toString=f;ab.CLOSED.__enum__=ab;ab.__empty_constructs__=[ab.OPENED,ab.CLOSED];var r=m["com.workinman.cloud.screen.SCREEN_TYPE"]={__ename__:["com","workinman","cloud","screen","SCREEN_TYPE"],__constructs__:"SPLASH,MAIN_MENU,AVATAR_TRAY,AVATAR_BUILDER,COMIC_PANEL_SELECT,COMIC_HUD,COMIC_MENU,HELP,SHOP,LOAD_LEVEL,SELECT_SAVE,QUIT_CONFIRM,END_COMIC,END_LEVEL,END_SUMMARY,CUTSCENE_BORDERS,UNLOCK,ENTER_CODE,ACHIEVEMENTS,ACHIEVEMENT_POPUP,DIALOGUE_POPUP,DEBUG,POPUP_SHARE,POPUP_SUBMIT,POPUP_SUBMIT_CONFIRM,DELETE_AVATAR,PRINT_CLOSE,SUBMIT_CONFIRM,NICK_TERMS,NICK_AGREEMENT".split(",")};
r.SPLASH=["SPLASH",0];r.SPLASH.toString=f;r.SPLASH.__enum__=r;r.MAIN_MENU=["MAIN_MENU",1];r.MAIN_MENU.toString=f;r.MAIN_MENU.__enum__=r;r.AVATAR_TRAY=["AVATAR_TRAY",2];r.AVATAR_TRAY.toString=f;r.AVATAR_TRAY.__enum__=r;r.AVATAR_BUILDER=["AVATAR_BUILDER",3];r.AVATAR_BUILDER.toString=f;r.AVATAR_BUILDER.__enum__=r;r.COMIC_PANEL_SELECT=["COMIC_PANEL_SELECT",4];r.COMIC_PANEL_SELECT.toString=f;r.COMIC_PANEL_SELECT.__enum__=r;r.COMIC_HUD=["COMIC_HUD",5];r.COMIC_HUD.toString=f;r.COMIC_HUD.__enum__=r;r.COMIC_MENU=
["COMIC_MENU",6];r.COMIC_MENU.toString=f;r.COMIC_MENU.__enum__=r;r.HELP=["HELP",7];r.HELP.toString=f;r.HELP.__enum__=r;r.SHOP=["SHOP",8];r.SHOP.toString=f;r.SHOP.__enum__=r;r.LOAD_LEVEL=["LOAD_LEVEL",9];r.LOAD_LEVEL.toString=f;r.LOAD_LEVEL.__enum__=r;r.SELECT_SAVE=["SELECT_SAVE",10];r.SELECT_SAVE.toString=f;r.SELECT_SAVE.__enum__=r;r.QUIT_CONFIRM=["QUIT_CONFIRM",11];r.QUIT_CONFIRM.toString=f;r.QUIT_CONFIRM.__enum__=r;r.END_COMIC=["END_COMIC",12];r.END_COMIC.toString=f;r.END_COMIC.__enum__=r;r.END_LEVEL=
["END_LEVEL",13];r.END_LEVEL.toString=f;r.END_LEVEL.__enum__=r;r.END_SUMMARY=["END_SUMMARY",14];r.END_SUMMARY.toString=f;r.END_SUMMARY.__enum__=r;r.CUTSCENE_BORDERS=["CUTSCENE_BORDERS",15];r.CUTSCENE_BORDERS.toString=f;r.CUTSCENE_BORDERS.__enum__=r;r.UNLOCK=["UNLOCK",16];r.UNLOCK.toString=f;r.UNLOCK.__enum__=r;r.ENTER_CODE=["ENTER_CODE",17];r.ENTER_CODE.toString=f;r.ENTER_CODE.__enum__=r;r.ACHIEVEMENTS=["ACHIEVEMENTS",18];r.ACHIEVEMENTS.toString=f;r.ACHIEVEMENTS.__enum__=r;r.ACHIEVEMENT_POPUP=["ACHIEVEMENT_POPUP",
19];r.ACHIEVEMENT_POPUP.toString=f;r.ACHIEVEMENT_POPUP.__enum__=r;r.DIALOGUE_POPUP=["DIALOGUE_POPUP",20];r.DIALOGUE_POPUP.toString=f;r.DIALOGUE_POPUP.__enum__=r;r.DEBUG=["DEBUG",21];r.DEBUG.toString=f;r.DEBUG.__enum__=r;r.POPUP_SHARE=["POPUP_SHARE",22];r.POPUP_SHARE.toString=f;r.POPUP_SHARE.__enum__=r;r.POPUP_SUBMIT=["POPUP_SUBMIT",23];r.POPUP_SUBMIT.toString=f;r.POPUP_SUBMIT.__enum__=r;r.POPUP_SUBMIT_CONFIRM=["POPUP_SUBMIT_CONFIRM",24];r.POPUP_SUBMIT_CONFIRM.toString=f;r.POPUP_SUBMIT_CONFIRM.__enum__=
r;r.DELETE_AVATAR=["DELETE_AVATAR",25];r.DELETE_AVATAR.toString=f;r.DELETE_AVATAR.__enum__=r;r.PRINT_CLOSE=["PRINT_CLOSE",26];r.PRINT_CLOSE.toString=f;r.PRINT_CLOSE.__enum__=r;r.SUBMIT_CONFIRM=["SUBMIT_CONFIRM",27];r.SUBMIT_CONFIRM.toString=f;r.SUBMIT_CONFIRM.__enum__=r;r.NICK_TERMS=["NICK_TERMS",28];r.NICK_TERMS.toString=f;r.NICK_TERMS.__enum__=r;r.NICK_AGREEMENT=["NICK_AGREEMENT",29];r.NICK_AGREEMENT.toString=f;r.NICK_AGREEMENT.__enum__=r;r.__empty_constructs__=[r.SPLASH,r.MAIN_MENU,r.AVATAR_TRAY,
r.AVATAR_BUILDER,r.COMIC_PANEL_SELECT,r.COMIC_HUD,r.COMIC_MENU,r.HELP,r.SHOP,r.LOAD_LEVEL,r.SELECT_SAVE,r.QUIT_CONFIRM,r.END_COMIC,r.END_LEVEL,r.END_SUMMARY,r.CUTSCENE_BORDERS,r.UNLOCK,r.ENTER_CODE,r.ACHIEVEMENTS,r.ACHIEVEMENT_POPUP,r.DIALOGUE_POPUP,r.DEBUG,r.POPUP_SHARE,r.POPUP_SUBMIT,r.POPUP_SUBMIT_CONFIRM,r.DELETE_AVATAR,r.PRINT_CLOSE,r.SUBMIT_CONFIRM,r.NICK_TERMS,r.NICK_AGREEMENT];var Ue=function(){this._achievements=new I;this._flagHasBeenInit=!1};m["com.workinman.cloudutils.WMAchievementManager"]=
Ue;Ue.__name__=["com","workinman","cloudutils","WMAchievementManager"];Ue.prototype={init:function(){if(!("X"==s.ACHIEVEMENTS_ID||this._flagHasBeenInit)){this._flagHasBeenInit=!0;for(var a=0,b=aa.allEnums(ma);a<b.length;){var c=b[a];++a;this._addAchievement(mg.buildAchievementData(c))}a=k.get_instance().sharedObjectGetData(s.ACHIEVEMENTS_ID);if(null!=a.achievements){a=a.achievements;for(b=0;b<a.length;)c=a[b],++b,this._achievements.get(c).set_achieved(!0)}this._calcScore();this._addEventListeners()}},
_addAchievement:function(a){this._achievements.set(a.get_id(),a);a},getAchievements:function(){for(var a=[],b=this._achievements.keys();b.hasNext();){var c=b.next();a.push(c)}return a},getLocalizationNameID:function(a){return"achievement_name_"+a},getLocalizationDescID:function(a){return"achievement_desc_"+a},getIcon:function(a){return"achievement_icon_"+a},getPoints:function(a){return this._achievements.get(a).get_points()},getAchieved:function(a){return this._achievements.get(a).get_achieved()},
get_lastAchievedId:function(){return this._lastAchievedId},_calcScore:function(){this._points=0;for(var a=this._achievements.iterator();a.hasNext();){var b=a.next();b.get_achieved()&&(this._points+=b.get_points())}},_sharedObjectSetData:function(){for(var a=[],b=this._achievements.iterator();b.hasNext();){var c=b.next();c.get_achieved()&&a.push(c.get_id())}a={achievements:a};k.get_instance().sharedObjectSetData(s.ACHIEVEMENTS_ID,a)},_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(j.UPDATE_DISPLAY,
o(this,this._onCheckAchievements))},_onCheckAchievements:function(a){for(var b=this._achievements.iterator();b.hasNext();){var c=b.next(),d=c.get_valueId(),i;i=a.get_data().get("val");d==i&&!c.get_achieved()&&k.get_instance().getValue(c.get_valueId())>=c.get_value()&&(c.set_achieved(!0),this._sharedObjectSetData(),this._calcScore(),this._lastAchievedId=c.get_id(),s.dispatchFlowEvent(n.ACHIEVEMENT_POPUP))}},__class__:Ue,__properties__:{get_lastAchievedId:"get_lastAchievedId"}};var ub=m["com.workinman.cloudutils._WMDialogueManager.DIALOGUE_STATE"]=
{__ename__:["com","workinman","cloudutils","_WMDialogueManager","DIALOGUE_STATE"],__constructs__:["ACTIVE","READY"]};ub.ACTIVE=["ACTIVE",0];ub.ACTIVE.toString=f;ub.ACTIVE.__enum__=ub;ub.READY=["READY",1];ub.READY.toString=f;ub.READY.__enum__=ub;ub.__empty_constructs__=[ub.ACTIVE,ub.READY];var Ve=function(){this._queue=[];this._dialogueTracker=[];this._currentDialogue="";this._addEventListeners();this._setState(ub.READY)};m["com.workinman.cloudutils.WMDialogueManager"]=Ve;Ve.__name__=["com","workinman",
"cloudutils","WMDialogueManager"];Ve.prototype={_addEventListeners:function(){k.get_instance().get_dispatcher().addEventListener(j.DIALOGUE_LINE_COMPLETE,o(this,this._onDialogueComplete))},_onDialogueComplete:function(){this._setState(ub.READY)},_setState:function(a){this._state=a;switch(this._state[1]){case 1:k.get_instance().get_dispatcher().dispatchEvent(R.request(j.DIALOGUE_QUEUE_COMPLETE)),""!=this._currentDialogue&&(this._dialogueTracker.push(this._currentDialogue),this._currentDialogue="")}},
update:function(a){switch(this._state[1]){case 1:if(0<this._queue.length){if(0<this._delay){this._delay-=a;break}this._setState(ub.ACTIVE);s.dispatchFlowEvent(n.DIALOGUE_POPUP)}}},grabData:function(){return this._queue.shift()},__class__:Ve};var Pe=function(){this._delegateListenerArray=[];this._delegateUnlockWebAudio=null;this._inputTrackers=[];this._virtualDown=[];this.multiTouch=[];this._enabled=!1;this.pointer=new Td(-1)};m["com.workinman.cloudutils.WMInput"]=Pe;Pe.__name__=["com","workinman",
"cloudutils","WMInput"];Pe.prototype={setDelegateUnlockWebAudio:function(a){this._delegateUnlockWebAudio=a},addDelegateListener:function(a){for(var b=0,c=this._delegateListenerArray;b<c.length;){var d=c[b];++b;if(d==a)return}this._delegateListenerArray.push(a)},removeDelegateListener:function(a){for(var b=this._delegateListenerArray.length;0<b--;)if(this._delegateListenerArray[b]==a){this._delegateListenerArray.splice(b,1);break}},setEnabled:function(a){this._enabled=a},_delegateDispatch:function(a,
b,c,d,i){null!=this._delegateUnlockWebAudio&&a==ta.UP&&(this._delegateUnlockWebAudio(),this._delegateUnlockWebAudio=null);if(!1!=this._enabled)for(var e=0,g=this._delegateListenerArray;e<g.length;){var f=g[e];++e;f(a,b,c,d,i)}},update:function(){if(!1!=this._enabled){for(var a=0,b=this._inputTrackers;a<b.length;){var c=b[a];++a;c.updateStatus()}this.pointer.fresh=!1;for(a=this.multiTouch.length;0<a--;)b=this.multiTouch[a],b.fresh=!1,b.phase==ta.UP&&(b.dispose(),this.multiTouch.splice(a,1))}},prime:function(){J._platform.getKeyboard().down.connect(o(this,
this._onKeyDown));J._platform.getKeyboard().up.connect(o(this,this._onKeyUp));J._platform.getTouch().get_supported()&&(J._platform.getTouch().down.connect(o(this,this._onTouchDown)),J._platform.getTouch().move.connect(o(this,this._onTouchMove)),J._platform.getTouch().up.connect(o(this,this._onTouchUp)));J._platform.getPointer().down.connect(o(this,this._onPointerDown));J._platform.getPointer().move.connect(o(this,this._onPointerMove));J._platform.getPointer().up.connect(o(this,this._onPointerUp))},
doButtonDepthTest:function(a,b){return K.hitTest(J.root,a,b)},registerInput:function(a,b,c){this._createOrGetInputTracker(a).setKeys(b,c)},_createOrGetInputTracker:function(a){for(var b=0,c=this._inputTrackers;b<c.length;){var d=c[b];++b;if(d.get_type()==a)return d}a=new ff(a,o(this,this._fireKeyEvent),o(this,this._isVirtualDown));this._inputTrackers.push(a);return a},_fireKeyEvent:function(a,b){this._delegateDispatch(b,a,0,0,la.NONE)},getInputDown:function(a){if(a==G.CLICK)return this.pointer.down;
for(var b=0,c=this._inputTrackers;b<c.length;){var d=c[b];++b;if(d.get_type()==a)return d.get_down()}return!1},_onKeyDown:function(a){k.get_instance().get_dispatcher().dispatchEvent(R.request(j.INPUT_ARBITRARY_KEY_KEYBOARD,function(){var b=new I;b.set("key",a.key);b.set("phase",ta.DOWN);return b}(this)))},_onKeyUp:function(a){k.get_instance().get_dispatcher().dispatchEvent(R.request(j.INPUT_ARBITRARY_KEY_KEYBOARD,function(){var b=new I;b.set("key",a.key);b.set("phase",ta.UP);return b}(this)))},onVirtualDown:function(a){for(var b=
0,c=this._virtualDown;b<c.length;){var d=c[b];++b;if(d==a)return}this._virtualDown.push(a)},onVirtualUp:function(a){for(var b=this._virtualDown.length;0<b--;)if(this._virtualDown[b]==a){this._virtualDown.splice(b,1);break}},_isVirtualDown:function(a){for(var b=0,c=this._virtualDown;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1},_onTouchDown:function(a){this._doTouchDown(a.id,a.viewX,a.viewY)},_onTouchMove:function(a){this._doTouchMove(a.id,a.viewX,a.viewY)},_onTouchUp:function(a){this._doTouchUp(a.id,
a.viewX,a.viewY)},_doTouchDown:function(a,b,c){var d=this._findTouch(a);null==d&&(d=new Td(a),this.multiTouch.push(d));d.begin(b,c)},_doTouchMove:function(a,b,c){a=this._findTouch(a);null!=a&&a.move(b,c)},_doTouchUp:function(a,b,c){a=this._findTouch(a);null!=a&&a.end(b,c)},_findTouch:function(a){for(var b=0,c=this.multiTouch;b<c.length;){var d=c[b];++b;if(d.id==a)return d}return null},_onPointerDown:function(a){this.pointer.begin(a.viewX,a.viewY);!1==J._platform.getTouch().get_supported()&&this._doTouchDown(0,
a.viewX,a.viewY);this._delegateDispatch(ta.DOWN,G.CLICK,this.pointer.get_currentPos().x,this.pointer.get_currentPos().y,this.pointer.swipe)},_onPointerMove:function(a){this.pointer.move(a.viewX,a.viewY);!1==J._platform.getTouch().get_supported()&&this._doTouchMove(0,a.viewX,a.viewY);this._delegateDispatch(ta.MOVE,G.CLICK,this.pointer.get_currentPos().x,this.pointer.get_currentPos().y,this.pointer.swipe)},_onPointerUp:function(a){this.pointer.end(a.viewX,a.viewY);!1==J._platform.getTouch().get_supported()&&
this._doTouchUp(0,a.viewX,a.viewY);this._delegateDispatch(ta.UP,G.CLICK,this.pointer.get_currentPos().x,this.pointer.get_currentPos().y,this.pointer.swipe)},__class__:Pe};var ff=function(a,b,c){this._type=a;this._keys=[];this._virtual=[];this._fireDelegate=b;this._virtualTestDelegate=c;this._pointer=null};m["com.workinman.cloudutils.WMInputTracker"]=ff;ff.__name__=["com","workinman","cloudutils","WMInputTracker"];ff.prototype={get_type:function(){return this._type},get_down:function(){return this._down},
setKeys:function(a,b){if(null!=a)for(var c=0;c<a.length;){var d=a[c];++c;this._keys.push(d)}if(null!=b)for(c=0;c<b.length;)d=b[c],++c,this._virtual.push(d)},updateStatus:function(){this._fresh=!1;this._down?!1==this._isDown()&&(this._down=!1,this._fireDelegate(this._type,ta.UP)):this._isDown()&&(this._fresh=this._down=!0,this._fireDelegate(this._type,ta.DOWN))},_isDown:function(){for(var a=0,b=this._keys;a<b.length;){var c=b[a];++a;if(J._platform.getKeyboard().isDown(c))return!0}a=0;for(b=this._virtual;a<
b.length;)if(c=b[a],++a,this._virtualTestDelegate(c))return!0;return null!=this._pointer&&this._pointer.down?!0:!1},__class__:ff,__properties__:{get_down:"get_down",get_type:"get_type"}};var Te=function(){this._localizedData=new I;this._emptyLocalization=new Ud("","","",1,0,0)};m["com.workinman.cloudutils.WMLocalize"]=Te;Te.__name__=["com","workinman","cloudutils","WMLocalize"];Te.prototype={parseLocalization:function(a){if(null==a||""==a)a=h.xml.translation;var b=k.get_instance().get_assets().getXML(a);
this._defaultFont=b.att.resolve("defaultFont");a="";for(b=b.nodes.resolve("string").iterator();b.hasNext();){var c=b.next(),a=c.att.resolve("id");this._localizedData.exists(a)||(c=new Ud(c.att.resolve("id"),c.get_innerData(),c.att.resolve("fontName"),C.parseFloat(c.att.resolve("fontScale")),C.parseFloat(c.att.resolve("offsetX")),C.parseFloat(c.att.resolve("offsetY"))),this._localizedData.set(a,c),c)}},get_defaultFont:function(){return this._defaultFont},getLocalizeData:function(a){return!1==this._localizedData.exists(a)?
this._emptyLocalization:this._localizedData.get(a)},getString:function(a){return this.getLocalizeData(a).get_string()},__class__:Te,__properties__:{get_defaultFont:"get_defaultFont"}};var Ud=function(a,b,c,d,i,e){this._id=a;this._string=b;this._cleanString();this._fontName=c;this._scale=d;this._offsetX=i;this._offsetY=e};m["com.workinman.cloudutils.WMLocalizedData"]=Ud;Ud.__name__=["com","workinman","cloudutils","WMLocalizedData"];Ud.prototype={_cleanString:function(){this._string=ca.replace(this._string,
"<br>","\n")},get_string:function(){return this._string},get_fontName:function(){return this._fontName},get_scale:function(){return this._scale},get_offsetX:function(){return this._offsetX},get_offsetY:function(){return this._offsetY},__class__:Ud,__properties__:{get_offsetY:"get_offsetY",get_offsetX:"get_offsetX",get_scale:"get_scale",get_fontName:"get_fontName",get_string:"get_string"}};var Td=function(a){this.lastPos=Z.request();this.line=vb.request();this.phase=ta.UP;this.swipe=la.NONE;this.down=
!1;this.fresh=!0;this.id=a;this.disposed=this.consumed=!1};m["com.workinman.cloudutils.WMPointer"]=Td;Td.__name__=["com","workinman","cloudutils","WMPointer"];Td.prototype={dispose:function(){this.disposed=!0;this.lastPos.dispose();this.lastPos=null;this.line.dispose();this.phase=this.swipe=this.line=null},get_originPos:function(){return this.line.get_p0()},get_currentPos:function(){return this.line.get_p1()},begin:function(a,b){this.line.toFloats(a,b,a,b);this.lastPos.to(a,b);this.fresh=this.down=
!0;this.consumed=!1;this.phase=ta.DOWN;this.swipe=la.NONE},move:function(a,b){this._updateInfo(a,b);this.phase=ta.MOVE},end:function(a,b){this._updateInfo(a,b);this.phase=ta.UP;this.down=!1},_updateInfo:function(a,b){this.lastPos.toPoint(this.line.get_p1());this.line.endTo(a,b,0);var c=this.line.get_p0().x-this.line.get_p1().x,d=this.line.get_p0().y-this.line.get_p1().y;this.swipe=30<=Math.abs(c)&&30>Math.abs(d)?0<c?la.LEFT:la.RIGHT:30<=Math.abs(d)&&30>Math.abs(c)?0<d?la.UP:la.DOWN:la.NONE},__class__:Td,
__properties__:{get_currentPos:"get_currentPos",get_originPos:"get_originPos"}};var We=function(){this._timers=[];this._uniqueInc=0;this._paused=!1};m["com.workinman.cloudutils.WMTimer"]=We;We.__name__=["com","workinman","cloudutils","WMTimer"];We.prototype={update:function(a){if(!this._paused)for(var b=this._timers.length;0<b--;)this._timers[b].update(a),this._timers[b].doDelete&&(this._timers[b].dispose(),this._timers.splice(b,1))},start:function(a,b,c){null==c&&(c="");null!=a&&this._timers.push(ic.request(a,
b,""==c?"def"+this._uniqueInc++:c))},__class__:We};var hb=function(){};m["com.workinman.pooling.IStrictPoolable"]=hb;hb.__name__=["com","workinman","pooling","IStrictPoolable"];hb.prototype={__class__:hb};var Q=function(){};m["com.workinman.pooling.PoolStrictBase"]=Q;Q.__name__=["com","workinman","pooling","PoolStrictBase"];Q.__interfaces__=[hb];Q.prototype={instance:function(a,b){this._returnFunction=b;this._key=a;this.poolActivate();this.create();return this},get_poolKey:function(){return this._key},
create:function(){},poolActivate:function(){this._disposed=!1},dispose:function(){this._disposed||(this._disposed=!0,this._returnFunction(this))},destroy:function(){this._returnFunction=null},__class__:Q,__properties__:{get_poolKey:"get_poolKey"}};var ic=function(){};m["com.workinman.cloudutils.WMTimerData"]=ic;ic.__name__=["com","workinman","cloudutils","WMTimerData"];ic.__interfaces__=[hb];ic.request=function(a,b,c){return k.get_instance().get_pool().requestObject("WMTimerData",ic).init(a,b,c)};
ic.__super__=Q;ic.prototype=y(Q.prototype,{init:function(a,b,c){this._id=c;this._callback=a;this._timer=b;this._paused=this.doDelete=!1;return this},get_id:function(){return this._id},dispose:function(){this._callback=this._id=null;Q.prototype.dispose.call(this)},pause:function(){this._paused=!0},unPause:function(){this._paused=!1},update:function(a){this._paused||(this._timer-=a,0>this._timer&&(this.fireCallback(),this.doDelete=!0))},fireCallback:function(){null!=this._callback&&(this._callback(),
this._callback=null)},__class__:ic,__properties__:y(Q.prototype.__properties__,{get_id:"get_id"})});var gf=function(a,b,c,d){this.path=a;if(-1<a.indexOf("/")){var i=a.split("/");this.format=i[i.length-1]}else this.format=a;this.id=0<this.format.indexOf(".")?this.format.split(".")[0]:this.format;if(null!=b&&0>this.format.indexOf("."))switch(b[1]){case 2:this.format+=".png";break;case 3:this.format+=".jpg";break;case 11:this.format+=".ogg";break;case 8:this.format+=".mp3"}this._assetMap=c;this.pack=
d;this.pack.addAsset(this);this.texture=this.pack.pack.getTexture(Ka.removeExtension(a),!1);this.sound=this.pack.pack.getSound(Ka.removeExtension(a),!1);this.file=this.pack.pack.getFile(a,!1);this._testRemoveId(this.id);this._testRemoveId(this.format);this._assetMap.set(this.id,this);this;this._assetMap.set(this.format,this);this;this.disposed=!1};m["com.workinman.cloudutils.assets.WMAssetDef"]=gf;gf.__name__=["com","workinman","cloudutils","assets","WMAssetDef"];gf.prototype={dispose:function(){this.disposed||
(this.disposed=!0,null!=this.texture&&(this.texture.dispose(),this.texture=null),null!=this.sound&&(this.sound.dispose(),this.sound=null),null!=this.file&&(this.file.dispose(),this.file=null),this._assetMap.exists(this.id)&&this._assetMap.remove(this.id),this._assetMap.exists(this.format)&&this._assetMap.remove(this.format),this.id=this.format=this._assetMap=null)},_testRemoveId:function(a){if(!1!=this._assetMap.exists(a)){var b=this._assetMap.get(a);this._assetMap.remove(a);b.testDispose()}},testDispose:function(){!1==
this._assetMap.exists(this.id)&&!1==this._assetMap.exists(this.format)&&this.dispose()},__class__:gf};var Qe=function(){this.set_baseUrl("");this._assets=new I;this._flump=new I;this._packs=new I;this._chunks=new I;this._customManifests=new I;this._packedSprites=new I;this._packedSounds=new I;this._flagBaseIsCrossdomain=!1;this._loadingProgress=this._loadingTotal=this._manifestsLoaded=this._manifestsMax=0;this._loadingCallback=null;this._fontCache=new I;this._requests=[]};m["com.workinman.cloudutils.assets.WMAssetManager"]=
Qe;Qe.__name__=["com","workinman","cloudutils","assets","WMAssetManager"];Qe.prototype={get_isLoading:function(){return this._manifestsLoaded<this._manifestsMax},set_baseUrl:function(a){return this.baseUrl=a},setCrossdomainBaseUrl:function(a){this._flagBaseIsCrossdomain=!0;this.set_baseUrl(a)},addChunk:function(a,b){var c=this._parseChunk(a,b);this._chunks.set(a,c);c},_parseChunk:function(a,b){for(var c=[],d=[],i=b.nodes.resolve("chunk").iterator();i.hasNext();){var e=i.next();c.push(e.get_innerData().toString())}for(i=
b.nodes.resolve("pack").iterator();i.hasNext();)e=i.next(),d.push(e.get_innerData().toString());return new hf(a,d,c)},finishProcessingChunks:function(){for(var a=[],b=this._chunks.iterator();b.hasNext();){for(var c=b.next();0<a.length;)a.pop();this._addNestedChunkArray(c,a);for(var d=0;d<a.length;){var i=a[d];++d;for(var e=0,i=this._chunks.get(i).packIds;e<i.length;){var g=i[e];++e;Ka.addStringToArrayWithoutDuplicates(g,c.packIds)}}}},_addNestedChunkArray:function(a,b){for(var c=0,d=a.chunkIds;c<
d.length;){var i=d[c];++c;!1==this._arrayContainsChunk(b,i)&&(b.push(i),this._addNestedChunkArray(this._chunks.get(i),b))}},_arrayContainsChunk:function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(d==b)return!0}return!1},load:function(a,b,c,d,i){null==i&&(i=0);var e=this;if(0<i)k.get_instance().get_timer().start(function(){e.load(a,b,c,d,0)},i);else{if(this.get_isLoading())throw"[WMAssetManager](load) Multiple loads happening at once. Combine these loads.";if(null==a)throw"[WMAssetManager](load) Callback is null!";
null==b&&(b=[]);null==c&&(c=[]);null==d&&(d=[]);for(var i=[],g=0;g<c.length;){var f=c[g];++g;!1==this._isPackLoaded(f)&&Ka.addStringToArrayWithoutDuplicates(f,i)}for(var c=null,h,g=0;g<b.length;){f=b[g];++g;h=this._chunks.get(f);f=0;for(h=h.packIds;f<h.length;){var j=h[f];++f;!1==this._isPackLoaded(j)&&Ka.addStringToArrayWithoutDuplicates(j,i)}}b=h=null;g=[];for(f=0;f<d.length;)h=d[f],++f,!1==this._customManifests.exists(h)?null:!1==this._isPackLoaded(h)&&Ka.addStringToArrayWithoutDuplicates(h,g);
d=null;if(1>i.length&&1>g.length)i=g=null,a();else{k.get_instance().setFloat(l.FLOAT_LOADING_PROGRESS,0);this._loadingProgress=0;this._loadingCallback=a;this._manifestsMax+=i.length+g.length;for(f=0;f<i.length;)h=i[f],++f,this._loadPack(h);for(i=0;i<g.length;)f=g[i],++i,this._loadManifest(this._customManifests.get(f),f);g=i=null}}},_isPackLoaded:function(a){return this._packs.exists(a)},_loadPack:function(a){var b=wb.fromAssets(a);""!=this.baseUrl&&(this._flagBaseIsCrossdomain?b.set_remoteBase(this.baseUrl):
b.set_localBase(this.baseUrl));this._loadManifest(b,a)},_loadManifest:function(a,b){var c=this,d=J._platform.loadAssetPack(a);this._loadingTotal+=d._total;var i=0;d.error.connect(o(this,this._loadingError));d.progressChanged.connect(function(){var a=d._progress-i;i=d._progress;c._loadingProgress+=a;k.get_instance().setFloat(l.FLOAT_LOADING_PROGRESS,sb.clamp(c._loadingProgress/c._loadingTotal,0,1))});this._requests.push(d.get(function(a){c._addPack(b,new jf(a,o(c,c._disposePackedSprite),o(c,c._disposePackedSound),
o(c,c._disposeFlump)));++c._manifestsLoaded>=c._manifestsMax&&c._onAllLoadComplete()}))},_loadingError:function(){k.get_instance().get_dispatcher().dispatchEvent(R.request(j.FILES_ERROR))},_onAllLoadComplete:function(){if(null!=this._loadingCallback){var a=this._loadingCallback;this._loadingCallback=null;a()}for(;0<this._requests.length;)this._requests.pop()},_addPack:function(a,b){this._packs.set(a,b);b;for(var c="",d=b.pack.get_manifest().iterator();d.hasNext();){var i=d.next();if(-1<i.name.indexOf("library.json"))c=
i.name.split("/"),c=c[c.length-2],i=new kf(b.pack,c),this._flump.set(c,i),i;else{c=Ka.getExtension(i.name);switch(c){case "xml":if(this._parseSoundXML(i.name,b.pack.getFile(i.name).toString(),b))continue;break;case "atlas":this._parseSpriteAtlas(b.pack.getFile(i.name).toString(),b)}new gf(i.name,i.format,this._assets,b)}}},_parseSpriteAtlas:function(a,b){for(var c=a.split("\n");1<c.length;){for(;0==c[0].length;)c.shift();for(var d=ca.rtrim(c.shift());!(-1<c.shift().indexOf("repeat:")););for(;1<c.length&&
0<c[0].length;)this._parsePackedSpriteAndMovePlayhead(d,c,b)}},_parsePackedSpriteAndMovePlayhead:function(a,b,c){for(var d=[],i;!(i=b.shift(),d.push(ca.rtrim(i)),-1<i.indexOf("index:")););0>d[0].indexOf("/")?b=d[0]:(b=d[0].split("/"),b=b[b.length-1]);this._addPackedSprite(b,a,new lf(d),c)},_addPackedSprite:function(a,b,c,d){this._packedSprites.exists(a)&&this._packedSprites.get(a).dispose();b=new mf(b,c);this._packedSprites.set(a,b);d.addSpriteSheet(a)},_parseSoundXML:function(a,b,c){a=N.parse(b);
b=new Hc(a.firstElement());if(!1==b.hasNode.resolve("sound"))return!1;a=b.node.resolve("sound").att.resolve("file").toString();for(b=b.nodes.resolve("sound").iterator();b.hasNext();){var d=b.next(),i=d.att.resolve("name").toString(),d=new nf(i,a,C.parseFloat(d.att.resolve("start").toString())/1E3,C.parseFloat(d.att.resolve("length").toString())/1E3);this._packedSounds.set(i,d);c.addSoundSheet(i)}return!0},_disposePackedSound:function(a){!1!=this._packedSounds.exists(a)&&(this._packedSounds.get(a).dispose(),
this._packedSounds.remove(a))},_disposePackedSprite:function(a){!1!=this._packedSprites.exists(a)&&(this._packedSprites.get(a).dispose(),this._packedSprites.remove(a))},_disposeFlump:function(a){!1!=this._flump.exists(a)&&(this._flump.set(a,null),null,this._flump.remove(a))},hasTexture:function(a){null==a&&(a="");return null==a||""==a?!1:this._hasAsset(a)},hasSound:function(a){null==a&&(a="");return null==a||""==a?!1:this._hasAsset(a)},hasXML:function(a){null==a&&(a="");return null==a||""==a?!1:this._hasAsset(a)},
_hasAsset:function(a){return this._packedSprites.exists(a)||this._packedSounds.exists(a)?!0:this._assets.exists(a)},getAsset:function(a){return!1==this._hasAsset(a)?null:this._assets.get(a)},getTexture:function(a){null==a&&(a="");return!1==this.hasTexture(a)?null:this._packedSprites.exists(a)?!1==this._assets.exists(this._packedSprites.get(a).atlas)?null:this._assets.get(this._packedSprites.get(a).atlas).texture:!1==this._assets.exists(a)?null:this._assets.get(a).texture},getSpriteRect:function(a){null==
a&&(a="");return null==a||""==a||!1==this._packedSprites.exists(a)?null:this._packedSprites.get(a).rect},getSound:function(a){null==a&&(a="");if(!1==this.hasSound(a))return null;var b=this._packedSounds.get(a);return null!=b?new Vd(this._assets.get(b.fileName).sound,b):new Vd(this._assets.get(a).sound,null)},getFile:function(a){return!1==this._hasAsset(a)?null:this._assets.get(a).file},getXML:function(a){null==a&&(a="");if(!1==this.hasXML(a))return null;a=N.parse(this.getFile(a).toString());return new Hc(a.firstElement())},
allConfig:function(a){null==a&&(a=!1);for(var b=[],c=0,d=h.xmlconfig;c<d.length;){var i=d[c];++c;a&&null;b.push(this.getXML(i))}return b},getFont:function(a,b){null==b&&(b=!0);if(!1==this._assets.exists(a))return null;if(!1==b)return new jc(this._assets.get(a).pack.pack,a);if(!1==this._fontCache.exists(a)){var c=new jc(this._assets.get(a).pack.pack,a);this._fontCache.set(a,c);c}return this._fontCache.get(a)},getLibrary:function(a){return!1==this._flump.exists(a)?null:this._flump.get(a)},__class__:Qe,
__properties__:{set_baseUrl:"set_baseUrl",get_isLoading:"get_isLoading"}};var jf=function(a,b,c,d){this.pack=a;this._assets=[];this._spriteSheets=[];this._soundSheets=[];this._flumps=[];this._disposePackedSpriteDelegate=b;this._disposePackedSoundDelegate=c;this._disposeFlumpDelegate=d};m["com.workinman.cloudutils.assets.WMAssetPack"]=jf;jf.__name__=["com","workinman","cloudutils","assets","WMAssetPack"];jf.prototype={addSpriteSheet:function(a){this._spriteSheets.push(a)},addSoundSheet:function(a){this._soundSheets.push(a)},
addAsset:function(a){this._assets.push(a)},__class__:jf};var hf=function(a,b,c){this.id=a;this.packIds=b;this.chunkIds=c};m["com.workinman.cloudutils.assets.WMChunkDef"]=hf;hf.__name__=["com","workinman","cloudutils","assets","WMChunkDef"];hf.prototype={__class__:hf};var Vd=function(a,b){this.sound=a;this.data=b};m["com.workinman.cloudutils.assets.WMSoundData"]=Vd;Vd.__name__=["com","workinman","cloudutils","assets","WMSoundData"];Vd.prototype={__class__:Vd};var nf=function(a,b,c,d){this.id=a;this.fileName=
b;this.start=c;this.length=d};m["com.workinman.cloudutils.assets.WMSoundSheetData"]=nf;nf.__name__=["com","workinman","cloudutils","assets","WMSoundSheetData"];nf.prototype={dispose:function(){this.fileName=this.id=null},__class__:nf};var mf=function(a,b){this.rect=b;this.atlas=a};m["com.workinman.cloudutils.assets.WMSpriteSheetDef"]=mf;mf.__name__=["com","workinman","cloudutils","assets","WMSpriteSheetDef"];mf.prototype={dispose:function(){this.atlas=this.rect=null},__class__:mf};var Aa=m["com.workinman.cloudutils.sound.AUDIO_PRIORITY"]=
{__ename__:["com","workinman","cloudutils","sound","AUDIO_PRIORITY"],__constructs__:["MUSIC","VO","SFX"]};Aa.MUSIC=["MUSIC",0];Aa.MUSIC.toString=f;Aa.MUSIC.__enum__=Aa;Aa.VO=["VO",1];Aa.VO.toString=f;Aa.VO.__enum__=Aa;Aa.SFX=["SFX",2];Aa.SFX.toString=f;Aa.SFX.__enum__=Aa;Aa.__empty_constructs__=[Aa.MUSIC,Aa.VO,Aa.SFX];var Ic=function(){};m["com.workinman.cloudutils.sound.SoundDef"]=Ic;Ic.__name__=["com","workinman","cloudutils","sound","SoundDef"];Ic.request=function(a,b,c,d){return k.get_instance().get_pool().requestObject("SoundDef",
Ic).init(a,b,c,d)};Ic.__super__=Q;Ic.prototype=y(Q.prototype,{init:function(a,b,c,d){this._complete=null;this.doDelete=!1;this.id=a;this._loop=c;this._maxVol=this.volume=1;this.sound=b;this._length=this._start=-1;null!=d.data&&(this._start=d.data.start,this._length=d.data.length);this._htmlAudio=null;return this},dispose:function(){null!=this.playback&&(this.playback.dispose(),this.playback=null);null!=this.sound&&(this.sound.dispose(),this.sound=null);null!=this._complete&&this._complete();this._htmlAudio=
this.id=this._complete=null;Q.prototype.dispose.call(this)},update:function(){this.playback.volume.set__(this._maxVol*this.volume);if(this.playback.get_paused()||this.playback.get_complete().get__())this.doDelete=!0;if(-1<this._length&&-1<this._start){var a=this.playback.get_position()>this._start+this._length;null==this._htmlAudio&&(a=this.playback.get_position()>this._length);!1!=a&&(this._loop?null!=this._htmlAudio&&(this._htmlAudio.currentTime=this._start):this.doDelete=!0)}},playSound:function(a,
b){null==a&&(a=1);if(null==this.sound)return null!=b&&b(),null;this._maxVol=a;this.volume=1;this._loop?this.playback=this.sound.loop(a):(null!=b&&(this._complete=b),this.playback=this.sound.play(a));if(-1==this._start&&-1==this._length)return this;this._loop&&null;if(ja.get_supported()){var c=t.getProperty(this.playback,"_sourceNode"),d=c.buffer;c.disconnect();c=ja.ctx.createBufferSource();t.setProperty(this.playback,"_sourceNode",c);c.buffer=d;c.loop=this._loop;c.loopStart=this._start;c.loopEnd=
Math.min(this._start+this._length,this.sound.get_duration());c.start(0,this._start);t.callMethod(this.playback,t.field(this.playback,"playAudio"),[])}else this._htmlAudio=t.getProperty(this.playback,"_clonedElement"),this._htmlAudio.currentTime=this._start;return this},__class__:Ic});var ad=function(){};m["com.workinman.cloudutils.sound.VOQueue"]=ad;ad.__name__=["com","workinman","cloudutils","sound","VOQueue"];ad.request=function(a,b,c,d){return k.get_instance().get_pool().requestObject("VOQueue",
ad).init(a,b,c,d)};ad.__super__=Q;ad.prototype=y(Q.prototype,{init:function(a,b,c,d){this.id=a;this.call=c;this.delay=d;this.gain=b;return this},__class__:ad});var Re=function(){this._audioPriority=Aa.MUSIC;this._musicId=null;this._musicGain=1;this._muteVo=this._muteSfx=this._muteMusic=this._muteSystem=this._muteAll=!1;this._mixer=new Wd;this._tween=Qa.request();this._voQueue=[];this._music=null;this._sound=new I;this._vo=null;this._soundRemoval=[]};m["com.workinman.cloudutils.sound.WMSound"]=Re;
Re.__name__=["com","workinman","cloudutils","sound","WMSound"];Re.prototype={get_muteAll:function(){return this._muteAll},set_muteAll:function(a){this._muteAll=a;this._toggleMute();return this._muteAll},_toggleMute:function(){this._getMutePriority(Aa.MUSIC)?this.stopMusic():this.playMusic(this._musicId,this._musicGain);this._getMutePriority(Aa.SFX)&&this.stopAllSound();this._getMutePriority(Aa.VO)&&this.stopVO()},_getMutePriority:function(a){if(this._muteAll||this._muteSystem)return!0;switch(a[1]){case 0:return this._muteMusic;
case 2:return this._muteSfx;case 1:return this._muteVo}return!1},playMusic:function(a,b,c){null==c&&(c=-1);null==b&&(b=1);if(!(this._musicId==a&&null!=this._music)){this._musicId=a;this._musicGain=b;if(0<c&&null!=this._music)this._tween.tween(this._music,c,{volume:0},!0,p.LINEAR).onComplete(o(this,this._onPlayMusicFadeOutComplete));else null!=this._music&&(this._music.doDelete=!0,this._music.dispose(),this._music=null);this._music=this._playAudio(a,b,null,!0,Aa.MUSIC)}},_onPlayMusicFadeOutComplete:function(){this.playMusic(this._musicId,
this._musicGain)},stopMusic:function(a){null==a&&(a=-1);if(0<a){if(null!=this._music)this._tween.tween(this._music,a,{volume:0},!0,p.LINEAR).onComplete(o(this,this._onStopMusicFadeOutComplete))}else null!=this._music&&(this._music.doDelete=!0)},_onStopMusicFadeOutComplete:function(){null!=this._music&&(this._music.doDelete=!0)},playSound:function(a,b,c,d){null==d&&(d=!1);null==b&&(b=1);if(this._sound.exists(a))return this._sound.get(a).playSound(b,c);b=this._playAudio(a,b,c,d,Aa.SFX);if(null==b)return null;
this._sound.set(a,b);return this._sound.get(a)},stopAllSound:function(){for(var a=this._sound.iterator();a.hasNext();)a.next().doDelete=!0},stopSound:function(a){return this._sound.exists(a)?this._sound.get(a).doDelete=!0:!1},stopVO:function(){for(;0<this._voQueue.length;)this._voQueue.pop().dispose();null!=this._vo&&(this._vo.doDelete=!0)},_playAudio:function(a,b,c,d,i){if(null==a||this._getMutePriority(i)||!1==s.allAudioSupported()&&i!=this._audioPriority)return null!=c&&c(),null;i=k.get_instance().get_assets().getSound(a);
return null==i?(null!=c&&c(),null):Ic.request(a,this._mixer.createSound(i.sound,4),d,i).playSound(b,c)},update:function(a){this._tween.update(a);for(var b=this._sound.iterator();b.hasNext();){var c=b.next();c.doDelete?(this._soundRemoval.push(c.id),c.dispose()):c.update(a)}for(;0<this._soundRemoval.length;)this._sound.remove(this._soundRemoval.pop());null!=this._music&&(this._music.doDelete?(this._music.dispose(),this._music=null):this._music.update(a));null==this._vo&&0<this._voQueue.length?(this._voQueue[0].delay-=
a,0>this._voQueue[0].delay&&(a=this._voQueue.shift(),k.get_instance().get_dispatcher().dispatchEvent(R.request(j.VO_STARTED)),this._vo=this._playAudio(a.id,1,a.call,!1,Aa.VO),a.dispose())):null!=this._vo&&(this._vo.doDelete?(this._vo.dispose(),this._vo=null,1>this._voQueue.length?(k.get_instance().get_dispatcher().dispatchEvent(R.request(j.VO_ENDED)),null!=this._music&&this._tween.tween(this._music,0.2,{volume:1},!0,p.EASE_IN_OUT)):0<this._voQueue[0].delay&&k.get_instance().get_dispatcher().dispatchEvent(R.request(j.VO_PAUSED))):
this._vo.update(a))},__class__:Re,__properties__:{set_muteAll:"set_muteAll",get_muteAll:"get_muteAll"}};var Lb=function(){};m["flambe.util.Disposable"]=Lb;Lb.__name__=["flambe","util","Disposable"];Lb.prototype={__class__:Lb};var na=function(){this._flags=0;this.owner=this.next=null};m["flambe.Component"]=na;na.__name__=["flambe","Component"];na.__interfaces__=[Lb];na.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=
this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:na,__properties__:{get_name:"get_name"}};var sd=function(a){na.call(this);this._callback=a;this._paused=!1};m["com.workinman.components.ComponentUpdater"]=sd;sd.__name__=["com","workinman","components","ComponentUpdater"];sd.__super__=na;sd.prototype=y(na.prototype,{get_name:function(){return"ComponentUpdater_0"},onUpdate:function(a){this._paused||this._callback(a)},__class__:sd});var Yb=function(a){this._animations=new I;
this._queuedAnimations=[];this._currentAnimDef=null;this._lastFrame=-1;this._currentFrame=0;this.currentAnimation="";this.fps=24;this._animationStopped=!0;this._library="";this._loopComplete=!1;this._symbol="";this._realFrame=0;w.call(this,a);null!=a.library&&this.setLibraryAndSymbol(a.library,a.symbol,null!=a.trace?a.trace:!1)};m["com.workinman.display.AnimatedElement"]=Yb;Yb.__name__=["com","workinman","display","AnimatedElement"];Yb.__super__=w;Yb.prototype=y(w.prototype,{dispose:function(){this._movieSprite=
null;for(var a=this._animations.iterator();a.hasNext();)a.next().dispose();this._currentAnimDef=this._animations=null;this.clearQueue();this.currentAnimation=this.animationCompleteDelegate=this._queuedAnimations=null;w.prototype.dispose.call(this)},setFps:function(a){this.fps=a;return this},_determineFormat:function(a){D.__instanceof(a,Jc)?this._setFormat(ka.MOVIE):w.prototype._determineFormat.call(this,a)},_cleanOldFormat:function(a){switch(a[1]){case 2:this._movieSprite=null;break;default:w.prototype._cleanOldFormat.call(this,
a)}},get_animationRatio:function(){return(this._currentFrame-this._currentAnimDef.get_start())/(this._currentAnimDef.get_end()-this._currentAnimDef.get_end())},set_animationRatio:function(a){this._newFrame=Math.floor(a*(this._currentAnimDef.get_end()-this._currentAnimDef.get_start())+this._currentAnimDef.get_start());this._newFrame!=this._currentFrame&&this.set_animationFrame(this._newFrame);return this.get_animationRatio()},get_animationFrame:function(){return this._currentFrame|0},set_animationFrame:function(a){this._currentFrame=
this._realFrame=a;this._setFrame(this._realFrame);this.stopAnimation();return this._currentFrame|0},get_isPlaying:function(){return""!=this.currentAnimation&&!0==this._doLoop()&&!1==this._animationStopped},get_animationFrameRelative:function(){return C["int"](this._currentFrame-this._currentAnimDef.get_start())},set_animationFrameRelative:function(a){this._currentFrame=this._currentAnimDef.get_start()+a;return this.get_animationFrameRelative()},setSymbol:function(a){return this.setLibraryAndSymbol(this._library,
a,!1)},get_frames:function(){return""==this._symbol?0:Math.floor(this._frames)},setLibraryAndSymbol:function(a,b,c){null==b&&(b="");if(""==b)for(var d=k.get_instance().get_assets().getLibrary(a).iterator();d.hasNext();){var i=d.next();D.__instanceof(i,Kc)&&0<D.__cast(i,Kc).frames&&(b=i.get_name(),c&&null)}if(a==this._library&&b==this._symbol)return this;this._library=a;this._symbol=b;a=k.get_instance().get_assets().getLibrary(this._library).getSymbol(this._symbol);this._buildAnimationsFromLayers(a,
c);this._duration=a.duration;this._frames=a.frames;this.setImageSprite(a.createSprite());this._movieSprite=this._imageSprite;this._movieSprite.set_paused(!0);return this},_buildAnimationsFromLayers:function(a,b){for(var c=this._animations.iterator();c.hasNext();)c.next().dispose();Ka.emptyMap(this._animations);for(var c=null,d=0,i=a.layers;d<i.length;){var e=i[d];++d;if(null!=c)break;for(var g=0,f=e.keyframes;g<f.length;){var h=f[g];++g;if(null!=h.label){c=e;break}}}b&&null;if(null!=c){d=0;for(c=
c.keyframes;d<c.length;)i=c[d],++d,this.addAnimationFlump(i.label,Math.floor(i.index+1),Math.floor(i.index+i.duration)),b&&null}else null},addAnimationFlump:function(a,b,c){this._animations.exists(a)&&this._animations.get(a).dispose();b=Zb.request(a,b-1,c-1);this._animations.set(a,b);return this},addAnimationFrames:function(a,b){this._animations.exists(a)&&this._animations.get(a).dispose();var c=Zb.request(a,-1,-1,b);this._animations.set(a,c);return this},animate:function(a,b,c){null==c&&(c=!1);null==
b&&(b=0);this.clearQueue();this._doAnimate(a,b,c);return this},_doAnimate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.currentAnimation==a&&!1==c||(null!=this._animations&&this._animations.exists(a)?(this._currentAnimDef=null,this._currentAnimDef=this._animations.get(a),this._currentAnimDef.get_reverse()?(this.reverse=!0,this._currentFrame=this._currentAnimDef.get_end()):(this.reverse=!1,this._currentFrame=this._currentAnimDef.get_start()),this.currentAnimation=a,this.setLoop(b),this._animationStopped=
!1,this._setFrame(this._currentFrame)):null)},setLoop:function(a){this._currentLoop=a;this._flagLoop=0==a;return this},stopAnimation:function(){this._animationStopped=!0},startAnimation:function(){this._animationStopped=!1},hasAnimation:function(a){return this._animations.exists(a)},queueAnimation:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this._queuedAnimations.push(kc.request(a,b,c));return this},clearQueue:function(){for(;0<this._queuedAnimations.length;)this._queuedAnimations.pop().dispose()},
update:function(a){w.prototype.update.call(this,a);this._runAnimation(a)},_doLoop:function(){return 0<this._currentLoop||this._flagLoop},_runAnimation:function(a){this.get_isPlaying()&&(this._currentFrame+=this.fps*a,Math.floor(this._currentFrame)>this._currentAnimDef.get_end()&&(this._currentFrame=this._currentAnimDef.get_start()+(this._currentFrame-Math.floor(this._currentFrame)),this._loopComplete=!0),!0==this._loopComplete&&(this._loopComplete=!1,this._currentLoop--,!1==this._doLoop()&&(this._animationStopped=
!0,this._currentFrame=this._currentAnimDef.get_end(),0<this._queuedAnimations.length?(this._doAnimate(this._queuedAnimations[0].get_name(),this._queuedAnimations[0].get_loops(),this._queuedAnimations[0].get_force()),this._queuedAnimations[0].dispose(),this._queuedAnimations.splice(0,1)):(this._onAnimationComplete(),null!=this.animationCompleteDelegate&&this.animationCompleteDelegate()))),this._realFrame=this.reverse?this._currentAnimDef.get_end()-(this._currentFrame-this._currentAnimDef.get_start())+
1:this._currentFrame,(this._format!=ka.MOVIE||null!=this._movieSprite)&&this._realFrame!=this._lastFrame&&this._setFrame(this._realFrame))},_setFrame:function(a){switch(this._format[1]){case 2:this._movieSprite.set_position(a/this._frames*this._duration);break;default:this.setAsset(this._currentAnimDef.get_frameIds()[Math.floor(a-1)])}},_onAnimationComplete:function(){},__class__:Yb,__properties__:y(w.prototype.__properties__,{get_frames:"get_frames",set_animationFrameRelative:"set_animationFrameRelative",
get_animationFrameRelative:"get_animationFrameRelative",get_isPlaying:"get_isPlaying",set_animationFrame:"set_animationFrame",get_animationFrame:"get_animationFrame",set_animationRatio:"set_animationRatio",get_animationRatio:"get_animationRatio"})});var kc=function(){};m["com.workinman.display.QueuedAnimation"]=kc;kc.__name__=["com","workinman","display","QueuedAnimation"];kc.__interfaces__=[hb];kc.request=function(a,b,c){return k.get_instance().get_pool().requestObject("QueuedAnimation",kc).init(a,
b,c)};kc.__super__=Q;kc.prototype=y(Q.prototype,{init:function(a,b,c){this._name=a;this._loops=b;this._force=c;return this},get_name:function(){return this._name},get_loops:function(){return this._loops},get_force:function(){return this._force},__class__:kc,__properties__:y(Q.prototype.__properties__,{get_force:"get_force",get_loops:"get_loops",get_name:"get_name"})});var Zb=function(){};m["com.workinman.display.AnimationDef"]=Zb;Zb.__name__=["com","workinman","display","AnimationDef"];Zb.__interfaces__=
[hb];Zb.request=function(a,b,c,d){null==c&&(c=-1);null==b&&(b=-1);return k.get_instance().get_pool().requestObject("AnimationDef",Zb).init(a,b,c,d)};Zb.__super__=Q;Zb.prototype=y(Q.prototype,{create:function(){this._frameIds=[]},init:function(a,b,c,d){null==c&&(c=-1);null==b&&(b=-1);this._id=a;this._playReverse=!1;if(null!=d){for(a=0;a<d.length;)b=d[a],++a,this._frameIds.push(b);this._startFrame=1;this._endFrame=this._frameIds.length}else this._startFrame=b,this._endFrame=c,b>c&&(this._playReverse=
!0,this._startFrame=c,this._endFrame=b);return this},dispose:function(){for(;0<this._frameIds.length;)this._frameIds.pop();Q.prototype.dispose.call(this)},destroy:function(){this._frameIds=null;Q.prototype.destroy.call(this)},get_start:function(){return this._startFrame},get_end:function(){return this._endFrame},get_reverse:function(){return this._playReverse},get_id:function(){return this._id},get_frameIds:function(){return this._frameIds},__class__:Zb,__properties__:y(Q.prototype.__properties__,
{get_frameIds:"get_frameIds",get_id:"get_id",get_reverse:"get_reverse",get_end:"get_end",get_start:"get_start"})});var ka=m["com.workinman.display.ELEMENT_FORMAT"]={__ename__:["com","workinman","display","ELEMENT_FORMAT"],__constructs__:["EMPTY","TEXTURE","MOVIE","TEXT","FILL"]};ka.EMPTY=["EMPTY",0];ka.EMPTY.toString=f;ka.EMPTY.__enum__=ka;ka.TEXTURE=["TEXTURE",1];ka.TEXTURE.toString=f;ka.TEXTURE.__enum__=ka;ka.MOVIE=["MOVIE",2];ka.MOVIE.toString=f;ka.MOVIE.__enum__=ka;ka.TEXT=["TEXT",3];ka.TEXT.toString=
f;ka.TEXT.__enum__=ka;ka.FILL=["FILL",4];ka.FILL.toString=f;ka.FILL.__enum__=ka;ka.__empty_constructs__=[ka.EMPTY,ka.TEXTURE,ka.MOVIE,ka.TEXT,ka.FILL];var Od=function(a,b,c,d,i){null==d&&(d=!1);this._timeline=a;this._rootSprite=new K;this._timeline.add(this._rootSprite);null==i&&(i=Ga.z__MAINUI);this._defaultLayer=i;this._layers=new ob;this._elements=[];this._camera=new of(this._rootSprite,b,c);this._enablePointer=d;this._zSortLayers=new ob};m["com.workinman.display.ElementManager"]=Od;Od.__name__=
["com","workinman","display","ElementManager"];Od.prototype={dispose:function(){for(;0<this._elements.length;)this._elements.pop().dispose();this._timeline=this._elements=null;for(var a=this._layers.iterator();a.hasNext();)a.next().dispose();this._zSortLayers=this._layers=null;this._camera.dispose();this._camera=null;this._rootSprite.dispose();this._defaultLayer=this._rootSprite=null},get_root:function(){return this._timeline},get_camera:function(){return this._camera},addLayer:function(a,b){null==
b&&(b=!1);if(this._layers.exists(a))this._timeline.removeChild(this._layers.get(a)),this._timeline.addChild(this._layers.get(a));else{var c=new ga;this._timeline.addChild(c);this._layers.set(a,c);b&&this._zSortLayers.set(a,[])}},addElement:function(a,b){!1==this._enablePointer&&a.disablePointerInput();if(null==a.root.parent){null==b&&null!=this._defaultLayer&&(b=this._defaultLayer);if(!1==this._layers.exists(b))return a;this._zSortLayers.exists(b)&&this._addZSort(a,b);this._layers.get(b).addChild(a.root)}else a.root.parent.addChild(a.root);
this._addUpdate(a);a.camera=this._camera;a.render();return a},_addUpdate:function(a){for(var b=this._elements.length;0<b--;)if(this._elements[b]==a)return;this._elements.push(a)},_addZSort:function(a,b){for(var c=this._zSortLayers.get(b),d=c.length;0<d--;)if(c[d]==a)return;c.push(a)},updateElements:function(a){for(var b=this._elements.length;0<b--;)this._elements[b].update(a),this._elements[b].doDelete?(this._elements[b].dispose(),this._elements.splice(b,1)):this._elements[b].render()},updateZSort:function(a){if(this._zSortLayers.exists(a)){for(var a=
this._zSortLayers.get(a),b=a.length;0<b--;)a[b].doDelete&&a.splice(b,1);xa.sort(a,function(a,b){return a.get_depth()>b.get_depth()?-1:a.get_depth()<b.get_depth()?1:0});for(b=a.length;0<b--;)a[b].root.parent.addChild(a[b].root);a=null}},__class__:Od,__properties__:{get_camera:"get_camera",get_root:"get_root"}};var K=function(){this._viewMatrixUpdateCount=this._parentViewMatrixUpdateCount=0;this.blendMode=this.scissor=this._viewMatrix=null;var a=this;na.call(this);this._flags|=54;this._localMatrix=
new lc;var b=function(){a._flags|=24};this.x=new ua(0,b);this.y=new ua(0,b);this.rotation=new ua(0,b);this.scaleX=new ua(1,b);this.scaleY=new ua(1,b);this.anchorX=new ua(0,b);this.anchorY=new ua(0,b);this.alpha=new ua(1)};m["flambe.display.Sprite"]=K;K.__name__=["flambe","display","Sprite"];K.hitTest=function(a,b,c){var d=a._compMap.Sprite_3;if(null!=d){if(6!=(d._flags&6))return null;d.getLocalMatrix().inverseTransform(b,c,K._scratchPoint)&&(b=K._scratchPoint.x,c=K._scratchPoint.y);var i=d.scissor;
if(null!=i&&!i.contains(b,c))return null}a=K.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};K.render=function(a,b){var c=a._compMap.Sprite_3;if(null!=c){var d=c.alpha._value;if(0==(c._flags&2)||0>=d)return;b.save();1>d&&b.multiplyAlpha(d);null!=c.blendMode&&b.setBlendMode(c.blendMode);var d=c.getLocalMatrix(),i=d.m02,e=d.m12;0!=(c._flags&32)&&(i=Math.round(i),e=Math.round(e));b.transform(d.m00,d.m10,d.m01,d.m11,i,e);d=c.scissor;null!=d&&b.applyScissor(d.x,
d.y,d.width,d.height);c.draw(b)}d=a._compMap.Director_5;if(null!=d){d=d.occludedScenes;for(i=0;i<d.length;)e=d[i],++i,K.render(e,b)}for(d=a.firstChild;null!=d;)i=d.next,K.render(d,b),d=i;null!=c&&b.restore()};K.hitTestBackwards=function(a,b,c){if(null!=a){var d=K.hitTestBackwards(a.next,b,c);return null!=d?d:K.hitTest(a,b,c)}return null};K.__super__=na;K.prototype=y(na.prototype,{get_name:function(){return"Sprite_3"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},contains:function(a,
b){return this.getViewMatrix().inverseTransform(a,b,K._scratchPoint)&&this.containsLocal(K._scratchPoint.x,K._scratchPoint.y)},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},
getViewMatrix:function(){if(this.isViewMatrixDirty()){var a=this.getParentSprite();this._viewMatrix=null!=a?lc.multiply(a.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix);this._flags&=-17;null!=a&&(this._parentViewMatrixUpdateCount=a._viewMatrixUpdateCount);++this._viewMatrixUpdateCount}return this._viewMatrix},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},
setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},disablePointer:function(){this.set_pointerEnabled(!1);return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},
draw:function(){},isViewMatrixDirty:function(){if(0!=(this._flags&16))return!0;var a=this.getParentSprite();return null==a?!1:this._parentViewMatrixUpdateCount!=a._viewMatrixUpdateCount||a.isViewMatrixDirty()},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_3;if(null!=b)return b;a=a.parent}return null},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=J._platform.getPointer().move.connect(function(b){for(var c=
b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},get_visible:function(){return 0!=(this._flags&2)},set_visible:function(a){this._flags=bd.set(this._flags,2,a);return a},set_pointerEnabled:function(a){this._flags=bd.set(this._flags,4,a);return a},set_pixelSnapping:function(a){this._flags=bd.set(this._flags,32,a);return a},onPointerDown:function(a){this.onHover(a);
null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),
this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:K,__properties__:y(na.prototype.__properties__,{set_pixelSnapping:"set_pixelSnapping",set_pointerEnabled:"set_pointerEnabled",set_visible:"set_visible",get_visible:"get_visible"})});var $b=function(a){K.call(this);this.texture=a};m["flambe.display.ImageSprite"]=$b;$b.__name__=["flambe","display","ImageSprite"];$b.__super__=K;$b.prototype=y(K.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,
0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:$b});var Xc=function(a){null==a&&(a="");var b=null,b=k.get_instance().get_assets().getTexture(a);this._rect=k.get_instance().get_assets().getSpriteRect(a);$b.call(this,b)};m["com.workinman.display.SubImageSprite"]=Xc;Xc.__name__=["com","workinman","display","SubImageSprite"];Xc.__super__=$b;Xc.prototype=y($b.prototype,{dispose:function(){this._rect=
null;$b.prototype.dispose.call(this)},draw:function(a){null!=this.texture&&(null==this._rect?a.drawTexture(this.texture,0,0):(this._rect.rotate?(a.save(),a.rotate(90),a.drawSubTexture(this.texture,this._rect.origY-this._rect.sizeY-this._rect.offsetY,-this._rect.offsetX-this._rect.sizeX,this._rect.x,this._rect.y,this._rect.sizeY,this._rect.sizeX)):(a.save(),a.drawSubTexture(this.texture,this._rect.offsetX,this._rect.origY-this._rect.sizeY-this._rect.offsetY,this._rect.x,this._rect.y,this._rect.sizeX,
this._rect.sizeY)),a.restore()))},setTexture:function(a){null==a&&(a="");this.texture=k.get_instance().get_assets().getTexture(a);this._rect=k.get_instance().get_assets().getSpriteRect(a)},getNaturalWidth:function(){return null==this.texture?0:null==this._rect?this.texture.get_width():this._rect.origX},getNaturalHeight:function(){return null==this.texture?0:null==this._rect?this.texture.get_height():this._rect.origY},__class__:Xc});var lf=function(a){this._parseRes={x:0,y:0};this.rotate=-1<a[1].indexOf("true");
this._setXY(this._getLineData(a[2]));this._setSizeXY(this._getLineData(a[3]));this._setOrig(this._getLineData(a[4]));this._setOffset(this._getLineData(a[5]));this._parseRes=null};m["com.workinman.display.WMSpriteRect"]=lf;lf.__name__=["com","workinman","display","WMSpriteRect"];lf.prototype={_getLineData:function(a){a=a.split(": ");a=a[1].split(", ");this._parseRes.x=C.parseInt(a[0]);this._parseRes.y=C.parseInt(a[1]);return this._parseRes},_setXY:function(a){this.x=a.x;this.y=a.y},_setSizeXY:function(a){this.sizeX=
a.x;this.sizeY=a.y},_setOrig:function(a){this.origX=a.x;this.origY=a.y},_setOffset:function(a){this.offsetX=a.x;this.offsetY=a.y},__class__:lf};var La=function(){};m["com.workinman.display.spine.ArrayUtils"]=La;La.__name__=["com","workinman","display","spine","ArrayUtils"];La.allocIntArray=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=[]}return b};La.allocFloatArray=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=[]}return b};La.allocFloat=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=0}return b};
La.allocString=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=""}return b};var cd=function(){};m["com.workinman.display.spine.Updatable"]=cd;cd.__name__=["com","workinman","display","spine","Updatable"];cd.prototype={__class__:cd};var mc=function(a,b,c){this.x=this.y=this.rotation=this.scaleX=this.scaleY=this.appliedRotation=this.appliedScaleX=this.appliedScaleY=this.shearX=this.shearY=this._a=this._b=this._c=this._d=this._worldX=this._worldY=this._worldSignX=this._worldSignY=this._worldRotationX=
0;if(null==a)throw new S("data cannot be null.");if(null==b)throw new S("skeleton cannot be null.");this._data=a;this._skeleton=b;this._parent=c;this.setToSetupPose()};m["com.workinman.display.spine.Bone"]=mc;mc.__name__=["com","workinman","display","spine","Bone"];mc.__interfaces__=[cd];mc.prototype={dispose:function(){this._parent=null;this._data.dispose();this._skeleton=this._data=null},updateWorldTransform:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,
this.shearX,this.shearY)},update:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},updateWorldTransformWith:function(a,b,c,d,i,e,g){this.appliedRotation=c;this.appliedScaleX=d;this.appliedScaleY=i;var f=0,h=0,h=0,f=(c+e)*xb.degRad,h=(c+90+g)*xb.degRad,c=Math.cos(f)*d,g=Math.cos(h)*i,e=Math.sin(f)*d,k=Math.sin(h)*i,j=this._parent;if(null==j)f=this._skeleton,f.flipX&&(a=-a,c=-c,g=-g),f.flipY!=mc.yDown&&(b=-b,e=-e,k=-k),this._a=c,this._b=
g,this._c=e,this._d=k,this._worldX=a,this._worldY=b,this._worldSignX=0>d?-1:1,this._worldSignY=0>i?-1:1;else{var l=j.get_a(),m=j.get_b(),n=j.get_c(),o=j.get_d();this._worldX=l*a+m*b+j.get_worldX();this._worldY=n*a+o*b+j.get_worldY();this._worldSignX=j.get_worldSignX()*(0>d?-1:1);this._worldSignY=j.get_worldSignY()*(0>i?-1:1);if(this.get_data().inheritRotation&&this.get_data().inheritScale)this._a=l*c+m*e,this._b=l*g+m*k,this._c=n*c+o*e,this._d=n*g+o*k;else{if(this.get_data().inheritRotation){l=1;
n=m=0;o=1;do{h=j.appliedRotation*xb.degRad;f=Math.cos(h);h=Math.sin(h);a=l*f+m*h;m=m*f-l*h;l=a;a=n*f+o*h;o=o*f-n*h;n=a;if(!j.get_data().inheritRotation)break;j=j.get_parent()}while(null!=j);this._a=l*c+m*e;this._b=l*g+m*k;this._c=n*c+o*e;this._d=n*g+o*k}else if(this.get_data().inheritScale){l=1;n=m=0;o=1;do{var h=j.appliedRotation*xb.degRad,f=Math.cos(h),h=Math.sin(h),a=j.appliedScaleX,p=j.appliedScaleY,b=f*a,d=h*p,i=h*a,p=f*p,q=l*b+m*i,m=m*p-l*d,l=q,q=n*b+o*i,o=o*p-n*d,n=q;0>a&&(h=-h);q=l*f+m*h;
m=m*f-l*h;l=q;q=n*f+o*h;o=o*f-n*h;n=q;if(!j.get_data().inheritScale)break;j=j.get_parent()}while(null!=j);this._a=l*c+m*e;this._b=l*g+m*k;this._c=n*c+o*e;this._d=n*g+o*k}else this._a=c,this._b=g,this._c=e,this._d=k;this._skeleton.flipX&&(this._a=-this._a,this._b=-this._b);this._skeleton.flipY!=mc.yDown&&(this._c=-this._c,this._d=-this._d)}}this._worldRotationX=Math.atan2(this._c,this._a)*xb.radDeg},setToSetupPose:function(){this.x=this._data.x;this.y=this._data.y;this.rotation=this._data.rotation;
this.scaleX=this._data.scaleX;this.scaleY=this._data.scaleY;this.shearX=this._data.shearX;this.shearY=this._data.shearY},get_data:function(){return this._data},get_parent:function(){return this._parent},get_skeleton:function(){return this._skeleton},get_a:function(){return this._a},set_a:function(a){return this._a=a},get_b:function(){return this._b},set_b:function(a){return this._b=a},get_c:function(){return this._c},set_c:function(a){return this._c=a},get_d:function(){return this._d},set_d:function(a){return this._d=
a},get_worldX:function(){return this._worldX},set_worldX:function(a){return this._worldX=a},get_worldY:function(){return this._worldY},set_worldY:function(a){return this._worldY=a},get_worldSignX:function(){return this._worldSignX},get_worldSignY:function(){return this._worldSignY},get_worldRotationX:function(){return this._worldRotationX},get_worldScaleX:function(){return Math.sqrt(this._a*this._a+this._b*this._b)*this._worldSignX},localToWorld:function(a){var b=a[0],c=a[1];a[0]=b*this._a+c*this._b+
this._worldX;a[1]=b*this._c+c*this._d+this._worldY},__class__:mc,__properties__:{get_worldScaleX:"get_worldScaleX",get_worldRotationX:"get_worldRotationX",get_worldSignY:"get_worldSignY",get_worldSignX:"get_worldSignX",set_worldY:"set_worldY",get_worldY:"get_worldY",set_worldX:"set_worldX",get_worldX:"get_worldX",set_d:"set_d",get_d:"get_d",set_c:"set_c",get_c:"get_c",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a",get_skeleton:"get_skeleton",get_parent:"get_parent",get_data:"get_data"}};
var pf=function(a,b){this.inheritScale=this.inheritRotation=!0;this.scaleX=this.scaleY=1;if(null==a)throw new S("name cannot be null.");this._name=a;this._parent=b};m["com.workinman.display.spine.BoneData"]=pf;pf.__name__=["com","workinman","display","spine","BoneData"];pf.prototype={dispose:function(){this._parent=null},get_name:function(){return this._name},get_parent:function(){return this._parent},__class__:pf,__properties__:{get_parent:"get_parent",get_name:"get_name"}};var qf=function(a,b){if(null==
b)throw new S("data cannot be null.");this.time=a;this._data=b};m["com.workinman.display.spine.Event"]=qf;qf.__name__=["com","workinman","display","spine","Event"];qf.prototype={dispose:function(){this._data.dispose();this._data=null},get_data:function(){return this._data},__class__:qf,__properties__:{get_data:"get_data"}};var rf=function(a){if(null==a)throw new S("name cannot be null.");this._name=a};m["com.workinman.display.spine.EventData"]=rf;rf.__name__=["com","workinman","display","spine","EventData"];
rf.prototype={dispose:function(){},get_name:function(){return this._name},__class__:rf,__properties__:{get_name:"get_name"}};var S=function(a){this.msg=a};m["com.workinman.display.spine.Exception"]=S;S.__name__=["com","workinman","display","spine","Exception"];S.prototype={__class__:S};var ac=function(a,b){if(null==a)throw new S("data cannot be null.");if(null==b)throw new S("skeleton cannot be null.");this._data=a;this.mix=a.mix;this.bendDirection=a.bendDirection;this.bones=[];for(var c=0,d=a.bones;c<
d.length;){var i=d[c];++c;this.bones[this.bones.length]=b.findBone(i.get_name())}this.target=b.findBone(a.target.get_name())};m["com.workinman.display.spine.IkConstraint"]=ac;ac.__name__=["com","workinman","display","spine","IkConstraint"];ac.__interfaces__=[cd];ac.apply1=function(a,b,c,d){var i=a.get_parent(),e=1/(i.get_a()*i.get_d()-i.get_b()*i.get_c()),b=b-i.get_worldX(),g=c-i.get_worldY(),c=(b*i.get_d()-g*i.get_b())*e-a.x,i=(g*i.get_a()-b*i.get_c())*e-a.y,i=Math.atan2(i,c)*xb.radDeg-a.shearX-
a.rotation;0>a.scaleX&&(i+=180);180<i?i-=360:-180>i&&(i+=360);a.updateWorldTransformWith(a.x,a.y,a.rotation+i*d,a.scaleX,a.scaleY,a.shearX,a.shearY)};ac.apply2=function(a,b,c,d,i,e){if(0==e)b.updateWorldTransform();else{var g=a.x,f=a.y,h=a.scaleX,k=a.scaleY,j=b.scaleX,l,m,n;0>h?(h=-h,l=180,n=-1):(l=0,n=1);0>k&&(k=-k,n=-n);0>j?(j=-j,m=180):m=0;var o=b.x,p,q,s,r=a.get_a(),t=a.get_b(),v=a.get_c(),u=a.get_d(),w=1.0E-4>=Math.abs(h-k);w?(p=b.y,q=r*o+t*p+a.get_worldX(),s=v*o+u*p+a.get_worldY()):(p=0,q=r*
o+a.get_worldX(),s=v*o+a.get_worldY());var x=a.get_parent(),r=x.get_a(),t=x.get_b(),v=x.get_c(),u=x.get_d(),y=1/(r*u-t*v),c=c-x.get_worldX(),d=d-x.get_worldY(),z=(c*u-d*t)*y-g,A=(d*r-c*v)*y-f,c=q-x.get_worldX(),d=s-x.get_worldY(),t=(c*u-d*t)*y-g,r=(d*r-c*v)*y-f,y=Math.sqrt(t*t+r*r),t=b.get_data().length*j,d=c=0;s=!1;if(w)t*=h,r=(z*z+A*A-y*y-t*t)/(2*y*t),-1>r?r=-1:1<r&&(r=1),d=Math.acos(r)*i,r=y+t*r,t*=Math.sin(d),c=Math.atan2(A*r-z*t,z*r+A*t);else if(r=h*t,t*=k,j=r*r,q=t*t,w=z*z+A*A,z=Math.atan2(A,
z),v=q*y*y+j*w-j*q,A=-2*q*y,x=q-j,u=A*A-4*x*v,0<=u&&(u=Math.sqrt(u),0>A&&(u=-u),u=-(A+u)/2,A=u/x,u=v/u,u=Math.abs(A)<Math.abs(u)?A:u,u*u<=w&&(d=Math.sqrt(w-u*u)*i,c=z-Math.atan2(d,u),d=Math.atan2(d/k,(u-y)/h),s=!0)),!s){var h=0,v=Math.POSITIVE_INFINITY,C=x=k=s=A=0,B=0,c=y+r,u=c*c;u>x&&(k=0,x=u,C=c);c=y-r;u=c*c;u<v&&(h=Math.PI,v=u,A=c);j=Math.acos(-r*y/(j-q));c=r*Math.cos(j)+y;d=t*Math.sin(j);u=c*c+d*d;u<v&&(h=j,v=u,A=c,s=d);u>x&&(k=j,x=u,C=c,B=d);w<=(v+x)/2?(c=z-Math.atan2(s*i,A),d=h*i):(c=z-Math.atan2(B*
i,C),d=k*i)}i=Math.atan2(p,o)*n;r=a.rotation;c=(c-i)*xb.radDeg+l-r;180<c?c-=360:-180>c&&(c+=360);a.updateWorldTransformWith(g,f,r+c*e,a.scaleX,a.scaleY,0,0);r=b.rotation;d=((d+i)*xb.radDeg-b.shearX)*n+m-r;180<d?d-=360:-180>d&&(d+=360);b.updateWorldTransformWith(o,p,r+d*e,b.scaleX,b.scaleY,b.shearX,b.shearY)}};ac.prototype={dispose:function(){this._data.dispose();this.target=this.bones=this._data=null},update:function(){switch(this.bones.length){case 1:ac.apply1(this.bones[0],this.target.get_worldX(),
this.target.get_worldY(),this.mix);break;case 2:ac.apply2(this.bones[0],this.bones[1],this.target.get_worldX(),this.target.get_worldY(),this.bendDirection,this.mix)}},get_data:function(){return this._data},__class__:ac,__properties__:{get_data:"get_data"}};var sf=function(a){this.bendDirection=this.mix=1;this.bones=[];if(null==a)throw new S("name cannot be null.");this._name=a};m["com.workinman.display.spine.IkConstraintData"]=sf;sf.__name__=["com","workinman","display","spine","IkConstraintData"];
sf.prototype={dispose:function(){this.target=this.bones=null},get_name:function(){return this._name},__class__:sf,__properties__:{get_name:"get_name"}};var xb=function(){};m["com.workinman.display.spine.MathUtils"]=xb;xb.__name__=["com","workinman","display","spine","MathUtils"];var Lc=function(){this.vertices=[]};m["com.workinman.display.spine.Polygon"]=Lc;Lc.__name__=["com","workinman","display","spine","Polygon"];Lc.prototype={dispose:function(){this.vertices=null},containsPoint:function(a,b){for(var c=
this.vertices.length,d=c-2,i=!1,e=0;e<c;){var g=this.vertices[e+1],f=this.vertices[d+1];if(g<b&&f>=b||f<b&&g>=b){var h=this.vertices[e];h+(b-g)/(f-g)*(this.vertices[d]-h)<a&&(i=!i)}d=e;e+=2}return i},__class__:Lc};var uf=function(a){this.x=this.y=0;this.flipX=this.flipY=!1;this.time=0;this.r=this.g=this.b=this.a=1;this._updateCache=[];if(null==a)throw new S("data cannot be null.");this._data=a;this.bones=[];for(var b=0,c=a.bones;b<c.length;){var d=c[b];++b;var i;i=null==d.get_parent()?null:this.bones[a.bones.indexOf(d.get_parent())];
this.bones[this.bones.length]=new mc(d,this,i)}this.slots=[];this.drawOrder=[];b=0;for(c=a.slots;b<c.length;)d=c[b],++b,i=this.bones[a.bones.indexOf(d.get_boneData())],d=new tf(d,i),this.slots[this.slots.length]=d,this.drawOrder[this.drawOrder.length]=d;this.ikConstraints=[];b=0;for(c=a.ikConstraints;b<c.length;)d=c[b],++b,this.ikConstraints[this.ikConstraints.length]=new ac(d,this);this.transformConstraints=[];b=0;for(a=a.transformConstraints;b<a.length;)c=a[b],++b,this.transformConstraints[this.transformConstraints.length]=
new Xd(c,this);this.updateCache()};m["com.workinman.display.spine.Skeleton"]=uf;uf.__name__=["com","workinman","display","spine","Skeleton"];uf.prototype={dispose:function(){this._data.dispose();this._data=null;for(var a=0,b=this.bones;a<b.length;){var c=b[a];++a;c.dispose()}this.bones=null;a=0;for(b=this.slots;a<b.length;)c=b[a],++a,c.dispose();this.drawOrder=this.slots=null;a=0;for(b=this.ikConstraints;a<b.length;)c=b[a],++a,c.dispose();this.ikConstraints=null;a=0;for(b=this.transformConstraints;a<
b.length;)c=b[a],++a,c.dispose();this._updateCache=this.transformConstraints=null;null!=this.get_skin()&&this.get_skin().dispose();this.set_skin(null)},updateCache:function(){for(var a=this._updateCache,b=this.ikConstraints,c=this.transformConstraints,d=0,i=this.bones.length+b.length,e=0;e<i;)e++,a.push(null);i=0;for(e=this.bones;i<e.length;){var g=e[i];++i;a[d++]=g;for(var f=0;f<b.length;){var h=b[f];++f;if(g==h.bones[h.bones.length-1]){a[d++]=h;break}}}for(b=0;b<c.length;){d=c[b];++b;for(i=a.length-
1;0<=i;){e=a[i];if(e==d.bone||e==d.target){a.splice(i+1,0,d);break}i--}}},updateWorldTransform:function(){for(var a=0,b=this._updateCache;a<b.length;){var c=b[a];++a;c.update()}},setToSetupPose:function(){this.setBonesToSetupPose();this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var a=0,b=this.bones;a<b.length;){var c=b[a];++a;c.setToSetupPose()}a=0;for(b=this.ikConstraints;a<b.length;)c=b[a],++a,c.bendDirection=c.get_data().bendDirection,c.mix=c.get_data().mix;a=0;for(b=this.transformConstraints;a<
b.length;)c=b[a],++a,c.translateMix=c.get_data().translateMix,c.rotateMix=c.get_data().rotateMix,c.scaleMix=c.get_data().scaleMix,c.shearMix=c.get_data().shearMix},setSlotsToSetupPose:function(){for(var a=0,b=0,c=this.slots;b<c.length;){var d=c[b];++b;this.drawOrder[a++]=d;d.setToSetupPose()}},get_data:function(){return this._data},findBone:function(a){if(null==a)throw new S("boneName cannot be null.");for(var b=0,c=this.bones;b<c.length;){var d=c[b];++b;if(d.get_data().get_name()==a)return d}return null},
findSlot:function(a){if(null==a)throw new S("slotName cannot be null.");for(var b=0,c=this.slots;b<c.length;){var d=c[b];++b;if(d.get_data().get_name()==a)return d}return null},get_skin:function(){return this._skin},set_skinName:function(a){var b=this.get_data().findSkin(a);if(null==b)throw new S("Skin not found: "+a);if(null!=this._skin&&a==this._skin.get_name())return this._skin.get_name();this.set_skin(b);return null==this._skin?null:this._skin.get_name()},set_skin:function(a){if(null!=a)if(null!=
this.get_skin())a.attachAll(this,this.get_skin());else for(var b=0,c=0,d=this.slots;c<d.length;){var i=d[c];++c;var e=i.get_data().attachmentName;""!=e&&(e=a.getAttachment(b,e),null!=e&&i.set_attachment(e));b++}return this._skin=a},getAttachmentForSlotIndex:function(a,b){if(null==b)throw new S("attachmentName cannot be null.");if(null!=this.get_skin()){var c=this.get_skin().getAttachment(a,b);if(null!=c)return c}return null!=this.get_data().defaultSkin?this.get_data().defaultSkin.getAttachment(a,
b):null},setAttachment:function(a,b){if(null==a)throw new S("slotName cannot be null.");for(var c=0,d=0,i=this.slots;d<i.length;){var e=i[d];++d;if(e.get_data().get_name()==a){d=null;if(null!=b&&(d=this.getAttachmentForSlotIndex(c,b),null==d))throw new S("Attachment not found: "+b+", for slot: "+a);e.set_attachment(d);return}c++}throw new S("Slot not found: "+a);},__class__:uf,__properties__:{set_skin:"set_skin",set_skinName:"set_skinName",get_skin:"get_skin",get_data:"get_data"}};var vf=function(){this.polygonPool=
[];this.boundingBoxes=[];this.polygons=[]};m["com.workinman.display.spine.SkeletonBounds"]=vf;vf.__name__=["com","workinman","display","spine","SkeletonBounds"];vf.prototype={dispose:function(){for(var a=0,b=this.boundingBoxes;a<b.length;){var c=b[a];++a;null!=c&&c.dispose()}this.boundingBoxes=null;a=0;for(b=this.polygons;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygons=null;a=0;for(b=this.polygonPool;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygonPool=null},update:function(a,b){var c=
a.slots,d=c.length,i=a.x,e=a.y;this.boundingBoxes=[];for(var g=0,f=this.polygons;g<f.length;){var h=f[g];++g;this.polygonPool[this.polygonPool.length]=h}this.polygons=[];for(g=0;g<d;){var f=g++,h=c[f],k=null;C.is(h.get_attachment(),nc)&&(k=D.__cast(h.get_attachment(),nc));if(null!=k){this.boundingBoxes[this.boundingBoxes.length]=k;var j=this.polygonPool.length;0<j?(f=this.polygonPool[j-1],this.polygonPool.splice(j-1,1)):f=new Lc;this.polygons[this.polygons.length]=f;k.computeWorldVertices(i,e,h.get_bone(),
f.vertices)}}b&&this.aabbCompute()},aabbCompute:function(){for(var a=2147483647,b=2147483647,c=-2147483648,d=-2147483648,i=0,e=this.polygons.length;i<e;)for(var g=this.polygons[i++].vertices,f=0,h=g.length;f<h;)var k=g[f],j=g[f+1],a=Math.min(a,k),b=Math.min(b,j),c=Math.max(c,k),d=Math.max(d,j),f=f+2;this.minX=a;this.minY=b;this.maxX=c;this.maxY=d},aabbContainsPoint:function(a,b){return a>=this.minX&&a<=this.maxX&&b>=this.minY&&b<=this.maxY},containsPoint:function(a,b){for(var c=0,d=this.polygons.length;c<
d;){var i=c++;if(this.polygons[i].containsPoint(a,b))return this.boundingBoxes[i]}return null},__class__:vf};var Yd=function(){this.transformConstraints=[];this.ikConstraints=[];this.animations=[];this.events=[];this.skins=[];this.slots=[];this.bones=[]};m["com.workinman.display.spine.SkeletonData"]=Yd;Yd.__name__=["com","workinman","display","spine","SkeletonData"];Yd.prototype={dispose:function(){this.ikConstraints=this.animations=this.events=this.defaultSkin=this.skins=this.slots=this.bones=null},
findBone:function(a){if(null==a)throw new S("boneName cannot be null.");for(var b=0,c=this.bones.length;b<c;){var d=this.bones[b++];if(d.get_name()==a)return d}return null},findBoneIndex:function(a){if(null==a)throw new S("boneName cannot be null.");for(var b=0,c=this.bones.length;b<c;){var d=b++;if(this.bones[d].get_name()==a)return d}return-1},findSlotIndex:function(a){if(null==a)throw new S("slotName cannot be null.");for(var b=0,c=this.slots.length;b<c;){var d=b++;if(this.slots[d].get_name()==
a)return d}return-1},findSkin:function(a){if(null==a)throw new S("skinName cannot be null.");for(var b=0,c=this.skins;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},findEvent:function(a){if(null==a)throw new S("eventName cannot be null.");for(var b=0,c=this.events;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},findAnimation:function(a){if(null==a)throw new S("animationName cannot be null.");for(var b=0,c=this.animations;b<c.length;){var d=c[b];++b;if(d.get_name()==
a)return d}return null},findIkConstraint:function(a){if(null==a)throw new S("constraintName cannot be null.");for(var b=0,c=this.ikConstraints;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},__class__:Yd};var da=function(a){this.scale=1;this.attachmentLoader=a};m["com.workinman.display.spine.SkeletonJson"]=da;da.__name__=["com","workinman","display","spine","SkeletonJson"];da.readCurve=function(a,b,c){c=t.field(c,"curve");null!=c&&("stepped"==c?a.setStepped(b):c instanceof Array&&
null==c.__enum__&&a.setCurve(b,c[0],c[1],c[2],c[3]))};da.toColor=function(a,b){if(8!=a.length)throw new S("Color hexidecimal length must be 8, recieved: "+a);return C.parseInt("0x"+a.substring(2*b,2*b+2))/255};da.getFloatArray=function(a,b,c){var a=t.field(a,b),b=[],d=a.length;if(1==c)for(c=0;c<d;){var i=c++;b[i]=a[i]}else for(i=0;i<d;){var e=i++;b[e]=a[e]*c}return b};da.getIntArray=function(a,b){for(var c=t.field(a,b),d=[],i=0,e=c.length;i<e;){var g=i++;d[g]=c[g]}return d};da.getUIntArray=function(a,
b){for(var c=t.field(a,b),d=[],i=0,e=c.length;i<e;){var g=i++;d[g]=c[g]}return d};da.prototype={readSkeletonData:function(a,b){if(null==a)throw new S("object cannot be null.");var c;c=JSON.parse(a);var d=new Yd;d.name=b;if(Object.prototype.hasOwnProperty.call(c,"skeleton")){var i;i=t.field(c,"skeleton");var e=t.field(i,"hash");d.hash=null==e?null:C.string(e);e=t.field(i,"spine");d.version=null==e?null:C.string(e);e=t.field(i,"width");d.width=null==e?0:D.__cast(e,$);i=t.field(i,"height");d.height=
null==i?0:D.__cast(i,$)}i=0;for(e=t.field(c,"bones");i<e.length;){var g=e[i];++i;var f=null,h;h=t.field(g,"parent");h=null==h?null:C.string(h);if(null!=h&&(f=d.findBone(h),null==f))throw"Parent bone not found: "+h;f=new pf(function(){var a=t.field(g,"name");return null==a?null:C.string(a)}(this),f);f.length=function(){var a=t.field(g,"length");return null==a?0:D.__cast(a,$)}(this)*this.scale;f.x=function(){var a=t.field(g,"x");return null==a?0:D.__cast(a,$)}(this)*this.scale;f.y=function(){var a=
t.field(g,"y");return null==a?0:D.__cast(a,$)}(this)*this.scale;h=t.field(g,"rotation");f.rotation=null==h?0:D.__cast(h,$);h=t.field(g,"scaleX");f.scaleX=null==h?1:D.__cast(h,$);h=t.field(g,"scaleY");f.scaleY=null==h?1:D.__cast(h,$);h=t.field(g,"shearX");f.shearX=null==h?0:D.__cast(h,$);h=t.field(g,"shearY");f.shearY=null==h?0:D.__cast(h,$);h=t.field(g,"inheritScale");f.inheritScale=null==h?!0:D.__cast(h,Zd);h=t.field(g,"inheritRotation");f.inheritRotation=null==h?!0:D.__cast(h,Zd);d.bones.push(f)}if(Object.prototype.hasOwnProperty.call(c,
"ik")){i=0;for(e=t.field(c,"ik");i<e.length;){var k=e[i];++i;f=new sf(function(){var a=t.field(k,"name");return null==a?null:C.string(a)}(this));h=0;for(var j=t.field(k,"bones");h<j.length;){var l=j[h];++h;var m=d.findBone(l);if(null==m)throw"IK bone not found: "+l;f.bones.push(m)}f.target=d.findBone(function(){var a=t.field(k,"target");return null==a?null:C.string(a)}(this));if(null==f.target)throw"Target bone not found: "+function(){var a=t.field(k,"target");return null==a?null:C.string(a)}(this);
f.bendDirection=function(){var a=t.field(k,"bendPositive");return null==a?!0:D.__cast(a,Zd)}(this)?1:-1;h=t.field(k,"mix");f.mix=null==h?1:D.__cast(h,$);d.ikConstraints.push(f)}}i=t.field(c,"transform");if(null!=i){i=0;for(e=t.field(c,"transform");i<e.length;){var n=e[i];++i;f=new wf(function(){var a=t.field(n,"name");return null==a?null:C.string(a)}(this));h=t.field(n,"bone");h=null==h?null:C.string(h);f.bone=d.findBone(h);if(null==f.bone)throw new S("Bone not found: "+h);h=t.field(n,"target");h=
null==h?null:C.string(h);f.target=d.findBone(h);if(null==f.target)throw new S("Target bone not found: "+h);h=t.field(n,"rotation");f.offsetRotation=null==h?0:D.__cast(h,$);f.offsetX=function(){var a=t.field(n,"x");return null==a?0:D.__cast(a,$)}(this)*this.scale;f.offsetY=function(){var a=t.field(n,"y");return null==a?0:D.__cast(a,$)}(this)*this.scale;f.offsetScaleX=function(){var a=t.field(n,"scaleX");return null==a?0:D.__cast(a,$)}(this)*this.scale;f.offsetScaleY=function(){var a=t.field(n,"scaleY");
return null==a?0:D.__cast(a,$)}(this)*this.scale;f.offsetShearY=function(){var a=t.field(n,"shearY");return null==a?0:D.__cast(a,$)}(this)*this.scale;h=t.field(n,"rotateMix");f.rotateMix=null==h?1:D.__cast(h,$);h=t.field(n,"translateMix");f.translateMix=null==h?1:D.__cast(h,$);h=t.field(n,"scaleMix");f.scaleMix=null==h?1:D.__cast(h,$);h=t.field(n,"shearMix");f.shearMix=null==h?1:D.__cast(h,$);d.transformConstraints.push(f)}}i=null;i=0;for(e=t.field(c,"slots");i<e.length;){var o=e[i];++i;f=t.field(o,
"bone");f=null==f?null:C.string(f);h=d.findBone(f);if(null==h)throw"Slot bone not found: "+f;f=new xf(function(){var a=t.field(o,"name");return null==a?null:C.string(a)}(this),h);h=t.field(o,"color");h=null==h?null:C.string(h);null!=h&&(f.r=da.toColor(h,0),f.g=da.toColor(h,1),f.b=da.toColor(h,2),f.a=da.toColor(h,3));h=t.field(o,"attachment");f.attachmentName=null==h?null:C.string(h);h=t.field(o,"blend");f.blendMode=null==h?"normal":C.string(h);d.slots.push(f)}i=t.field(c,"skins");e=0;for(f=t.fields(i);e<
f.length;){j=f[e];++e;h=t.field(i,j);j=new yf(j);l=0;for(m=t.fields(h);l<m.length;){var p=m[l];++l;for(var r=d.findSlotIndex(p),p=t.field(h,p),q=0,s=t.fields(p);q<s.length;){var u=s[q];++q;var v=this.readAttachment(j,u,t.field(p,u));null!=v&&j.addAttachment(r,u,v)}}d.skins.push(j);"default"==j.get_name()&&(d.defaultSkin=j)}i=t.field(c,"events");if(null!=i){e=0;for(f=t.fields(i);e<f.length;)j=f[e],++e,h=t.field(i,j),j=new rf(j),l=t.field(h,"int"),j.intValue=null==l?0:D.__cast(l,dd),l=t.field(h,"float"),
j.floatValue=null==l?0:D.__cast(l,$),h=t.field(h,"string"),j.stringValue=null==h?null:C.string(h),d.events.push(j)}c=t.field(c,"animations");i=0;for(e=t.fields(c);i<e.length;)f=e[i],++i,this.readAnimation(f,t.field(c,f),d);return d},readAttachment:function(a,b,c){var d=t.field(c,"name");null!=d&&(b=C.string(d));var i,d=t.field(c,"type");i=null==d?"region":C.string(d);"skinnedmesh"==i&&(i="weightedmesh");new zf(0,i);var e,d=t.field(c,"path");e=null==d?b:C.string(d);d=this.scale;switch(i){case "region":a=
this.attachmentLoader.newRegionAttachment(a,b,e);if(null==a)break;a.path=e;a.x=function(){var a=t.field(c,"x");return null==a?0:D.__cast(a,$)}(this)*d;a.y=function(){var a=t.field(c,"y");return null==a?0:D.__cast(a,$)}(this)*d;b=t.field(c,"scaleX");a.scaleX=null==b?1:D.__cast(b,$);b=t.field(c,"scaleY");a.scaleY=null==b?1:D.__cast(b,$);b=t.field(c,"rotation");a.rotation=null==b?0:D.__cast(b,$);a.width=function(){var a=t.field(c,"width");return null==a?0:D.__cast(a,$)}(this)*d;a.height=function(){var a=
t.field(c,"height");return null==a?0:D.__cast(a,$)}(this)*d;d=t.field(c,"color");e=null==d?null:C.string(d);null!=e&&""!=e&&(a.r=da.toColor(e,0),a.g=da.toColor(e,1),a.b=da.toColor(e,2),a.a=da.toColor(e,3));a.updateOffset();return a;case "mesh":a=this.attachmentLoader.newMeshAttachment(a,b,e);if(null==a)break;a.path=e;a.vertices=da.getFloatArray(c,"vertices",d);a.triangles=da.getUIntArray(c,"triangles");a.regionUVs=da.getFloatArray(c,"uvs",1);a.updateUVs();b=t.field(c,"color");e=null==b?null:C.string(b);
null!=e&&""!=e&&(a.r=da.toColor(e,0),a.g=da.toColor(e,1),a.b=da.toColor(e,2),a.a=da.toColor(e,3));a.hullLength=2*function(){var a=t.field(c,"hull");return null==a?0:D.__cast(a,dd)}(this);Object.prototype.hasOwnProperty.call(c,"edges")&&(a.edges=da.getIntArray(c,"edges"));a.width=function(){var a=t.field(c,"width");return null==a?0:D.__cast(a,$)}(this)*d;a.height=function(){var a=t.field(c,"height");return null==a?0:D.__cast(a,$)}(this)*d;return a;case "weightedmesh":b=this.attachmentLoader.newWeightedMeshAttachment(a,
b,e);if(null==b)break;b.path=e;e=da.getFloatArray(c,"uvs",1);a=da.getFloatArray(c,"vertices",1);i=[];for(var f=[],g=0,h=a.length;g<h;){var j=Math.floor(a[g++]);f[f.length]=j;for(j=g+4*j;g<j;)f[f.length]=Math.floor(a[g]),i[i.length]=a[g+1]*d,i[i.length]=a[g+2]*d,i[i.length]=a[g+3],g+=4}b.bones=f;b.weights=i;b.triangles=da.getUIntArray(c,"triangles");b.regionUVs=e;b.updateUVs();a=t.field(c,"color");e=null==a?null:C.string(a);null!=e&&""!=e&&(b.r=da.toColor(e,0),b.g=da.toColor(e,1),b.b=da.toColor(e,
2),b.a=da.toColor(e,3));b.hullLength=2*function(){var a=t.field(c,"hull");return null==a?0:D.__cast(a,dd)}(this);Object.prototype.hasOwnProperty.call(c,"edges")&&(b.edges=da.getIntArray(c,"edges"));b.width=function(){var a=t.field(c,"width");return null==a?0:D.__cast(a,$)}(this)*d;b.height=function(){var a=t.field(c,"height");return null==a?0:D.__cast(a,$)}(this)*d;return b;case "boundingbox":b=this.attachmentLoader.newBoundingBoxAttachment(a,b);a=b.vertices;e=0;for(i=t.field(c,"vertices");e<i.length;)f=
i[e],++e,a[a.length]=f*d;return b}return null},readAnimation:function(a,b,c){var d=[],i=0,e,f,g,h,j;j=t.field(b,"slots");for(var k=0,l=t.fields(j);k<l.length;){var m=l[k];++k;e=t.field(j,m);f=c.findSlotIndex(m);for(var n=0,o=t.fields(e);n<o.length;){var p=o[n];++n;g=t.field(e,p);if("color"==p){var r=new $d(g.length);r.slotIndex=f;for(var q=h=0;q<g.length;){var s=g[q];++q;var u,v=t.field(s,"color");u=null==v?null:C.string(v);var w=da.toColor(u,0),x=da.toColor(u,1),y=da.toColor(u,2),A=da.toColor(u,
3);r.setFrame(h,function(){var a=t.field(s,"time");return null==a?0:D.__cast(a,$)}(this),w,x,y,A);da.readCurve(r,h,s);h++}d[d.length]=r;i=Math.max(i,r.frames[5*r.get_frameCount()-5])}else if("attachment"==p){var z=new ae(g.length);z.slotIndex=f;for(var B=h=0;B<g.length;){var E=g[B];++B;z.setFrame(h++,function(){var a=t.field(E,"time");return null==a?0:D.__cast(a,$)}(this),function(){var a=t.field(E,"name");return null==a?null:C.string(a)}(this))}d[d.length]=z;i=Math.max(i,z.frames[z.get_frameCount()-
1])}else throw new S("Invalid timeline type for a slot: "+p+" ("+m+")");}}var F;F=t.field(b,"bones");for(var G=0,I=t.fields(F);G<I.length;){var H=I[G];++G;var J=c.findBoneIndex(H);if(-1==J)throw new S("Bone not found: "+H);var K;K=t.field(F,H);for(var L=0,O=t.fields(K);L<O.length;){var N=O[L];++L;g=t.field(K,N);if("rotate"==N){var P=new be(g.length);P.boneIndex=J;for(var Q=h=0;Q<g.length;){var T=g[Q];++Q;P.setFrame(h,function(){var a=t.field(T,"time");return null==a?0:D.__cast(a,$)}(this),function(){var a=
t.field(T,"angle");return null==a?0:D.__cast(a,$)}(this));da.readCurve(P,h,T);h++}d[d.length]=P;i=Math.max(i,P.frames[2*P.get_frameCount()-2])}else if("translate"==N||"scale"==N||"shear"==N){var R,U=1;"scale"==N?R=new ce(g.length):"shear"==N?R=new de(g.length):(R=new Mb(g.length),U=this.scale);R.boneIndex=J;for(var W=h=0;W<g.length;){var V=g[W];++W;var X;X=function(){var a=t.field(V,"x");return null==a?0:D.__cast(a,$)}(this)*U;var aa;aa=function(){var a=t.field(V,"y");return null==a?0:D.__cast(a,
$)}(this)*U;R.setFrame(h,function(){var a=t.field(V,"time");return null==a?0:D.__cast(a,$)}(this),X,aa);da.readCurve(R,h,V);h++}d[d.length]=R;i=Math.max(i,R.frames[3*R.get_frameCount()-3])}else throw new S("Invalid timeline type for a bone: "+N+" ("+H+")");}}var Y;Y=t.field(b,"ik");for(var Z=0,ca=t.fields(Y);Z<ca.length;){var ea=ca[Z];++Z;var ha=c.findIkConstraint(ea);g=t.field(Y,ea);var ba=new ee(g.length);ba.ikConstraintIndex=c.ikConstraints.indexOf(ha);for(var ga=h=0;ga<g.length;){var fa=g[ga];
++ga;var ia,ja=t.field(fa,"mix");ia=null==ja?1:D.__cast(ja,$);var la;la=function(){var a=t.field(fa,"bendPositive");return null==a?!0:D.__cast(a,Zd)}(this)?1:-1;ba.setFrame(h,function(){var a=t.field(fa,"time");return null==a?0:D.__cast(a,$)}(this),ia,la);da.readCurve(ba,h,fa);h++}d[d.length]=ba;i=Math.max(i,ba.frames[3*ba.get_frameCount()-3])}var ka;ka=t.field(b,"ffd");for(var ma=0,na=t.fields(ka);ma<na.length;){var oa=na[ma];++ma;var ta=c.findSkin(oa);e=t.field(ka,oa);for(var pa=0,ua=t.fields(e);pa<
ua.length;){var va=ua[pa];++pa;f=c.findSlotIndex(va);var sa;sa=t.field(e,va);for(var wa=0,za=t.fields(sa);wa<za.length;){var ya=za[wa];++wa;g=t.field(sa,ya);var ra=new fe(g.length),qa=ta.getAttachment(f,ya);if(null==qa)throw new S("FFD attachment not found: "+ya);ra.slotIndex=f;ra.attachment=qa;var Ca;Ca=D.__instanceof(qa,yb)?D.__cast(qa,yb).vertices.length:Math.floor(2*(D.__cast(qa,oc).weights.length/3));for(var Da=h=0;Da<g.length;){var Aa=g[Da];++Da;var xa;if(Object.prototype.hasOwnProperty.call(Aa,
"vertices")){var Ba;Ba=t.field(Aa,"vertices");xa=La.allocFloat(Ca);var Fa,Ga=t.field(Aa,"offset");Fa=null==Ga?0:D.__cast(Ga,dd);var Ha=Ba.length;if(1==this.scale)for(var Ia=0;Ia<Ha;){var Ma=Ia++;xa[Ma+Fa]=Ba[Ma]}else for(var Na=0;Na<Ha;){var Ra=Na++;xa[Ra+Fa]=Ba[Ra]*this.scale}if(D.__instanceof(qa,yb))for(var Xa=D.__cast(qa,yb).vertices,Sa=0;Sa<Ca;){var Oa=Sa++;xa[Oa]+=Xa[Oa]}}else xa=D.__instanceof(qa,yb)?D.__cast(qa,yb).vertices:[];ra.setFrame(h,function(){var a=t.field(Aa,"time");return null==
a?0:D.__cast(a,$)}(this),xa);da.readCurve(ra,h,Aa);h++}d[d.length]=ra;i=Math.max(i,ra.frames[ra.get_frameCount()-1])}}}var Ea=t.field(b,"drawOrder");null==Ea&&(Ea=t.field(b,"draworder"));if(null!=Ea&&0<Ea.length){for(var Ka=new ge(Ea.length),Ta=c.slots.length,Wa=h=0;Wa<Ea.length;){var Ya=Ea[Wa];++Wa;var Ja=null;if(Object.prototype.hasOwnProperty.call(Ya,"offsets")){for(var Ja=[],ab=Ta-1;0<=ab;)Ja[ab]=-1,ab--;for(var hb=t.field(Ya,"offsets"),cb=[],Pa=0,db=0,eb=0;eb<hb.length;){var fb=hb[eb];++eb;f=
c.findSlotIndex(function(){var a=t.field(fb,"slot");return null==a?null:C.string(a)}(this));if(-1==f)throw new S("Slot not found: "+function(){var a=t.field(fb,"slot");return null==a?null:C.string(a)}(this));for(;Pa!=f;)cb[db++]=Pa++;Ja[Pa+function(){var a=t.field(fb,"offset");return null==a?0:D.__cast(a,dd)}(this)]=Pa++}for(;Pa<Ta;)cb[db++]=Pa++;for(var Za=Ta-1;0<=Za;)-1==Ja[Za]&&(Ja[Za]=cb[--db]),Za--}Ka.setFrame(h++,function(){var a=t.field(Ya,"time");return null==a?0:D.__cast(a,$)}(this),Ja)}d[d.length]=
Ka;i=Math.max(i,Ka.frames[Ka.get_frameCount()-1])}var Ua=t.field(b,"events");if(null!=Ua&&0<Ua.length){for(var $a=new he(Ua.length),gb=h=0;gb<Ua.length;){var Qa=Ua[gb];++gb;var Va=c.findEvent(function(){var a=t.field(Qa,"name");return null==a?null:C.string(a)}(this));if(null==Va)throw new S("Event not found: "+function(){var a=t.field(Qa,"name");return null==a?null:C.string(a)}(this));var bb=new qf(function(){var a=t.field(Qa,"time");return null==a?0:D.__cast(a,$)}(this),Va),ib=t.field(Qa,"Int");
bb.intValue=null==ib?Va.intValue:D.__cast(ib,dd);var jb=t.field(Qa,"float");bb.floatValue=null==jb?Va.floatValue:D.__cast(jb,$);var kb=t.field(Qa,"string");bb.stringValue=null==kb?Va.stringValue:C.string(kb);$a.setFrame(h++,bb)}d[d.length]=$a;i=Math.max(i,$a.frames[Math.floor($a.get_frameCount()-1)])}c.animations[c.animations.length]=new lb(a,d,i)},__class__:da};var yf=function(a){this._attachments=[];if(null==a)throw new S("name cannot be null.");this._name=a};m["com.workinman.display.spine.Skin"]=
yf;yf.__name__=["com","workinman","display","spine","Skin"];yf.prototype={dispose:function(){this._attachments=null},addAttachment:function(a,b,c){if(null==c)throw new S("attachment cannot be null.");null==this.get_attachments()[a]&&(this.get_attachments()[a]=new I);this.get_attachments()[a].set(b,c);c},getAttachment:function(a,b){if(a>=this.get_attachments().length)return null;var c=this.get_attachments()[a];return null!=c?c.get(b):null},get_attachments:function(){return this._attachments},get_name:function(){return this._name},
attachAll:function(a,b){for(var c=0,d=0,i=a.slots;d<i.length;){var e=i[d];++d;var f=e.get_attachment();if(null!=f&&c<b.get_attachments().length){var g=b.get_attachments()[c];if(null!=g)for(var h=g.keys();h.hasNext();){var j=h.next(),k=g.get(j);if(f==k){f=this.getAttachment(c,j);null!=f&&e.set_attachment(f);break}}}c++}},__class__:yf,__properties__:{get_name:"get_name",get_attachments:"get_attachments"}};var tf=function(a,b){this.attachmentVertices=[];if(null==a)throw new S("data cannot be null.");
if(null==b)throw new S("bone cannot be null.");this._data=a;this._bone=b;this.setToSetupPose()};m["com.workinman.display.spine.Slot"]=tf;tf.__name__=["com","workinman","display","spine","Slot"];tf.prototype={dispose:function(){this._data.dispose();this.attachmentVertices=this._attachment=this._bone=this._data=null},get_data:function(){return this._data},get_bone:function(){return this._bone},get_skeleton:function(){return this._bone.get_skeleton()},get_attachment:function(){return this._attachment},
set_attachment:function(a){if(this._attachment==a)return this._attachment;this._attachment=a;this._attachmentTime=this._bone.get_skeleton().time;this.attachmentVertices=[];return this._attachment},setToSetupPose:function(){var a=this._bone.get_skeleton().get_data().slots.indexOf(this.get_data());this.r=this._data.r;this.g=this._data.g;this.b=this._data.b;this.a=this._data.a;null==this._data.attachmentName?this.set_attachment(null):(this._attachment=null,this.set_attachment(this._bone.get_skeleton().getAttachmentForSlotIndex(a,
this.get_data().attachmentName)))},__class__:tf,__properties__:{set_attachment:"set_attachment",get_attachment:"get_attachment",get_skeleton:"get_skeleton",get_bone:"get_bone",get_data:"get_data"}};var xf=function(a,b){this.r=this.g=this.b=this.a=1;if(null==a)throw new S("name cannot be null.");if(null==b)throw new S("boneData cannot be null.");this._name=a;this._boneData=b};m["com.workinman.display.spine.SlotData"]=xf;xf.__name__=["com","workinman","display","spine","SlotData"];xf.prototype={dispose:function(){this._boneData=
null},get_name:function(){return this._name},get_boneData:function(){return this._boneData},__class__:xf,__properties__:{get_boneData:"get_boneData",get_name:"get_name"}};var Rb=function(a){null!=k.get_instance().get_assets().getFile(a.asset+".atlas")&&(a.library=a.asset,a.asset=null);w.call(this,a);var b=new Yd;if(null!=a.library)var c=a.library,b=k.get_instance().get_assets().getAsset(c).path,b=b.substring(0,b.lastIndexOf("/")+1),b=new Af(k.get_instance().get_assets().getFile(c+".atlas").toString(),
new ie(b,k.get_instance().get_assets().getAsset(c).pack.pack)),b=(new da(new Sb(b))).readSkeletonData(k.get_instance().get_assets().getFile(c+".json").toString(),c);c=new Bf(b);this._state=new Cf(c);this._renderer=new je(b,a.debug);this._skeleton=this._renderer.skeleton;this._skeleton.updateWorldTransform();this._animations=new I;c=0;for(b=b.animations;c<b.length;){var d=b[c];++c;a.trace&&null;this._animations.set(d.get_name(),d)}this._state.onStart.add(o(this,this._onAnimationStart));this._state.onComplete.add(o(this,
this._onAnimationComplete));this._state.onEvent.add(o(this,this._onAnimationEvent));this._imageEntity.addChild((new ga).add(this._renderer));this._bounds=new vf;this._boundsRegion=new Df(this._renderer)};m["com.workinman.display.spine.SpineElement"]=Rb;Rb.__name__=["com","workinman","display","spine","SpineElement"];Rb.__super__=w;Rb.prototype=y(w.prototype,{dispose:function(){this._state.onStart.remove(o(this,this._onAnimationStart));this._state.onComplete.remove(o(this,this._onAnimationComplete));
this._state.onEvent.remove(o(this,this._onAnimationEvent));this._bounds.dispose();this._bounds=null;this._boundsRegion.dispose();this._boundsRegion=null;this._state.dispose();this._renderer=this._animations=this._skeleton=this._state=null;w.prototype.dispose.call(this)},get_animations:function(){return this._animations},get_hitName:function(){return this._hitName},get_skeleton:function(){return this._skeleton},update:function(a){w.prototype.update.call(this,a);this._state.update(a);this._state.apply(this._skeleton);
this._skeleton.updateWorldTransform()},getFrames:function(a){null==a&&(a=0);a=this._state.getCurrent(a);return null!=a?Math.floor(a.animation.duration*Rb.FPS):0},getFrame:function(a){null==a&&(a=0);a=this._state.getCurrent(a);return null!=a?Math.floor(a.animation.currentTime*Rb.FPS):0},setFrame:function(a,b){null==b&&(b=0);var c=this._state.getCurrent(b);null!=c&&(c.timeScale=0,c.time=Ef.clamp(a/Rb.FPS,0,c.animation.duration))},setTimeScale:function(a,b){null==b&&(b=0);var c=this._state.getCurrent(b);
null!=c&&(c.timeScale=a)},startAnimation:function(a){null==a&&(a=0);a=this._state.getCurrent(a);null!=a&&(a.timeScale=1)},stopAnimation:function(a){null==a&&(a=0);a=this._state.getCurrent(a);null!=a&&(a.timeScale=0)},mixAnimation:function(a,b,c){this._state.get_data().setMixByName(a,b,c)},hasAnimation:function(a){return this._animations.exists(a)},animate:function(a,b,c,d,i){null==i&&(i=!1);null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);this._doAnimate(a,b,!1,0,c,d,i);return this},queueAnimation:function(a,
b,c,d,i,e){null==e&&(e=0);null==i&&(i=!1);null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);this._doAnimate(a,b,!0,e,c,d,i);return this},_doAnimate:function(a,b,c,d,i,e,f){null==f&&(f=!1);null==e&&(e=0);null==i&&(i=1);f&&this._skeleton.setToSetupPose();if(this.hasAnimation(a)){if(c=c?this._state.addAnimationByName(e,a,0==b,d):this._state.setAnimationByName(e,a,0==b),c.timeScale=i,0<b)for(d=1;d<b;)d++,c=this._state.addAnimationByName(e,a,!1,0),c.timeScale=i}else null},clearQueue:function(){this._state.clearTracks()},
setSkin:function(a,b){null==b&&(b=!1);this._skeleton.set_skinName(a);b&&this._skeleton.setSlotsToSetupPose()},setAttachment:function(a,b){this._skeleton.setAttachment(a,b)},getAttachment:function(a){a=this._skeleton.findSlot(a);return null==a||null==a.get_attachment()?"":a.get_attachment().get_name()},hit:function(a,b,c){null==c&&(c="");this._hitName="";this._bounds.update(this._skeleton,!0);return this._bounds.aabbContainsPoint(a,b)&&(a=this._bounds.containsPoint(a,b),null!=a&&(""==c||c==a.get_name()))?
(this._hitName=a.get_name(),!0):!1},hitRegion:function(a,b,c){null==c&&(c="");this._hitName="";this._boundsRegion.update(this._skeleton,!0,this.scaleX,this.scaleY);return this._boundsRegion.aabbContainsPoint(a,b)&&(a=this._boundsRegion.containsPoint(a,b),null!=a&&(""==c||c==a.get_name()))?(this._hitName=a.get_name(),!0):!1},addElementToSlot:function(a,b){null==this._skeleton.findSlot(a)||null==function(b){var d=b._renderer.get_entities(),b=b._skeleton.findSlot(a).get_attachment();return d.get(b)}(this)||
function(b){var d=b._renderer.get_entities(),b=b._skeleton.findSlot(a).get_attachment();return d.get(b)}(this).addChild(b.root)},_onAnimationStart:function(a){this._currentAnimation=this._state.getCurrent(a).animation.get_name()},_onAnimationComplete:function(){},_onAnimationEvent:function(a,b){b.get_data().get_name()},__class__:Rb,__properties__:y(w.prototype.__properties__,{get_skeleton:"get_skeleton",get_hitName:"get_hitName",get_animations:"get_animations"})});var Xd=function(a,b){if(null==a)throw new S("data cannot be null.");
if(null==b)throw new S("skeleton cannot be null.");this._data=a;this.translateMix=a.translateMix;this.rotateMix=a.rotateMix;this.scaleMix=a.scaleMix;this.shearMix=a.shearMix;this.offsetRotation=a.offsetRotation;this.offsetX=a.offsetX;this.offsetY=a.offsetY;this.offsetScaleX=a.offsetScaleX;this.offsetScaleY=a.offsetScaleY;this.offsetShearY=a.offsetShearY;this.bone=b.findBone(a.bone.get_name());this.target=b.findBone(a.target.get_name())};m["com.workinman.display.spine.TransformConstraint"]=Xd;Xd.__name__=
["com","workinman","display","spine","TransformConstraint"];Xd.__interfaces__=[cd];Xd.prototype={dispose:function(){this._data.dispose();this.target=this.bone=this._data=null},update:function(){if(0<this.rotateMix){var a=this.bone.get_a(),b=this.bone.get_b(),c=this.bone.get_c(),d=this.bone.get_d(),i=Math.atan2(this.target.get_c(),this.target.get_a())-Math.atan2(c,a)+this.offsetRotation*xb.degRad;i>Math.PI?i-=2*Math.PI:i<-Math.PI&&(i+=2*Math.PI);var i=i*this.rotateMix,e=Math.cos(i),i=Math.sin(i);this.bone.set_a(e*
a-i*c);this.bone.set_b(e*b-i*d);this.bone.set_c(i*a+e*c);this.bone.set_d(i*b+e*d)}0<this.scaleMix&&(a=Math.sqrt(this.bone.get_a()*this.bone.get_a()+this.bone.get_c()*this.bone.get_c()),b=Math.sqrt(this.target.get_a()*this.target.get_a()+this.target.get_c()*this.target.get_c()),a=0<a?(a+(b-a+this.offsetScaleX)*this.scaleMix)/a:0,b=this.bone,b.set_a(b.get_a()*a),b=this.bone,b.set_c(b.get_c()*a),a=Math.sqrt(this.bone.get_b()*this.bone.get_b()+this.bone.get_d()*this.bone.get_d()),b=Math.sqrt(this.target.get_b()*
this.target.get_b()+this.target.get_d()*this.target.get_d()),a=0<a?(a+(b-a+this.offsetScaleY)*this.scaleMix)/a:0,b=this.bone,b.set_b(b.get_b()*a),b=this.bone,b.set_d(b.get_d()*a));0<this.shearMix&&(b=this.bone.get_b(),c=this.bone.get_d(),d=Math.atan2(c,b),a=Math.atan2(this.target.get_d(),this.target.get_b())-Math.atan2(this.target.get_c(),this.target.get_a())-(d-Math.atan2(this.bone.get_c(),this.bone.get_a())),a>Math.PI?a-=2*Math.PI:a<-Math.PI&&(a+=2*Math.PI),a=d+(a+this.offsetShearY*xb.degRad)*this.shearMix,
b=Math.sqrt(b*b+c*c),this.bone.set_b(Math.cos(a)*b),this.bone.set_d(Math.sin(a)*b));a=this.translateMix;0<a&&(b=La.allocFloat(2),b[0]=this.offsetX,b[1]=this.offsetY,this.target.localToWorld(b),c=this.bone,c.set_worldX(c.get_worldX()+(b[0]-this.bone.get_worldX())*a),c=this.bone,c.set_worldY(c.get_worldY()+(b[1]-this.bone.get_worldY())*a))},get_data:function(){return this._data},__class__:Xd,__properties__:{get_data:"get_data"}};var wf=function(a){if(null==a)throw new S("name cannot be null.");this._name=
a};m["com.workinman.display.spine.TransformConstraintData"]=wf;wf.__name__=["com","workinman","display","spine","TransformConstraintData"];wf.prototype={dispose:function(){this.target=this.bone=null},__class__:wf};var lb=function(a,b,c){if(null==a)throw new S("name cannot be null.");if(null==b)throw new S("timelines cannot be null.");this._name=a;this._timelines=b;this.duration=c};m["com.workinman.display.spine.animation.Animation"]=lb;lb.__name__="com,workinman,display,spine,animation,Animation".split(",");
lb.binarySearch=function(a,b,c){var d=0,i=Math.floor(a.length/c-2);if(0==i)return c;for(var e=i>>>1;;){a[(e+1)*c]<=b?d=e+1:i=e;if(d==i)return(d+1)*c;e=d+i>>>1}return 0};lb.binarySearch1=function(a,b){var c=0,d=a.length-2;if(0==d)return 1;for(var i=d>>>1;;){a[i+1]<=b?c=i+1:d=i;if(c==d)return c+1;i=c+d>>>1}return 0};lb.prototype={get_timelines:function(){return this._timelines},apply:function(a,b,c,d,i){if(null==a)throw new S("skeleton cannot be null.");d&&0!=this.duration&&(c%=this.duration,0<b&&(b%=
this.duration));for(var d=0,e=this.get_timelines().length;d<e;){var f=d++;this.get_timelines()[f].apply(a,b,c,i,1)}this.currentTime=c},mix:function(a,b,c,d,i,e){if(null==a)throw new S("skeleton cannot be null.");d&&0!=this.duration&&(c%=this.duration,0<b&&(b%=this.duration));for(var d=0,f=this.get_timelines().length;d<f;){var g=d++;this.get_timelines()[g].apply(a,b,c,i,e)}},get_name:function(){return this._name},__class__:lb,__properties__:{get_name:"get_name",get_timelines:"get_timelines"}};var Cf=
function(a){this.timeScale=1;if(null==a)throw new S("data cannot be null.");this._data=a;this._tracks=[];this._events=[];this.onStart=new Mc;this.onEnd=new Mc;this.onComplete=new Mc;this.onEvent=new Mc};m["com.workinman.display.spine.animation.AnimationState"]=Cf;Cf.__name__="com,workinman,display,spine,animation,AnimationState".split(",");Cf.prototype={dispose:function(){this._data.dispose();this._data=null;for(var a=0,b=this._tracks;a<b.length;){var c=b[a];++a;c.dispose()}this._tracks=null;a=0;
for(b=this._events;a<b.length;)c=b[a],++a,c.dispose();this._events=null;this.onStart.dispose();this.onStart=null;this.onEnd.dispose();this.onEnd=null;this.onComplete.dispose();this.onComplete=null;this.onEvent.dispose();this.onEvent=null},get_data:function(){return this._data},update:function(a){for(var a=a*this.timeScale,b=0,c=this._tracks.length;b<c;){var d=b++,i=this._tracks[d];if(null!=i){i.time+=a*i.timeScale;if(null!=i.previous){var e=a*i.previous.timeScale;i.previous.time+=e;i.mixTime+=e}var e=
i.next,f=i.lastTime;0>i.timeScale&&(f=Math.abs(f));null!=e?(e.time=f-e.delay,0<=e.time&&this.setCurrent(d,e)):!i.loop&&f>=i.endTime&&this.clearTrack(d)}}},apply:function(a){for(var b=0,c=this._tracks.length;b<c;){var d=b++,i=this._tracks[d];if(null!=i){this._events=[];var e=i.time,f=i.lastTime,g=i.endTime,h=i.loop;!h&&e>g&&(e=g);if(0>i.timeScale){for(;0>e;)e+=i.animation.duration;for(;0>f;)f+=i.animation.duration}var j=i.previous;if(null==j)1==i.mix?i.animation.apply(a,i.lastTime,e,h,this._events):
i.animation.mix(a,i.lastTime,e,h,this._events,i.mix);else{var k=j.time;!j.loop&&k>j.endTime&&(k=j.endTime);j.animation.apply(a,k,k,j.loop,null);j=i.mixTime/i.mixDuration*i.mix;1<=j&&(j=1,i.previous=null);i.animation.mix(a,i.lastTime,e,h,this._events,j)}j=0;for(k=this._events;j<k.length;){var l=k[j];++j;if(null!=i.onEvent)i.onEvent(d,l);this.onEvent.invoke(d,l)}if(h?f%g>e%g:f<g&&e>=g){e=Math.floor(e/g);if(null!=i.onComplete)i.onComplete(d,e);this.onComplete.invoke(d,e)}i.lastTime=i.time}}},clearTracks:function(){for(var a=
0,b=this._tracks.length;a<b;)this.clearTrack(a++);this._tracks=[]},clearTrack:function(a){if(!(a>=this._tracks.length)){var b=this._tracks[a];if(null!=b){if(null!=b.onEnd)b.onEnd(a);this.onEnd.invoke(a);this._tracks[a]=null}}},expandToIndex:function(a){if(a<this._tracks.length)return this._tracks[a];for(;a>=this._tracks.length;)this._tracks[this._tracks.length]=null;return null},setCurrent:function(a,b){var c=this.expandToIndex(a);if(null!=c){var d=c.previous;c.previous=null;if(null!=c.onEnd)c.onEnd(a);
this.onEnd.invoke(a);b.mixDuration=this._data.getMix(c.animation,b.animation);0<b.mixDuration&&(b.mixTime=0,b.previous=null!=d&&0.5>c.mixTime/c.mixDuration?d:c)}this._tracks[a]=b;if(null!=b.onStart)b.onStart(a);this.onStart.invoke(a)},setAnimationByName:function(a,b,c){var d=this._data.get_skeletonData().findAnimation(b);if(null==d)throw new S("Animation not found: "+b);return this.setAnimation(a,d,c)},setAnimation:function(a,b,c){var d=new ke;d.animation=b;d.loop=c;d.endTime=b.duration;this.setCurrent(a,
d);return d},addAnimationByName:function(a,b,c,d){var i=this._data.get_skeletonData().findAnimation(b);if(null==i)throw new S("Animation not found: "+b);return this.addAnimation(a,i,c,d)},addAnimation:function(a,b,c,d){var i=new ke;i.animation=b;i.loop=c;i.endTime=b.duration;c=this.expandToIndex(a);if(null!=c){for(;null!=c.next;)c=c.next;c.next=i}else this._tracks[a]=i;0>=d&&(d=null!=c?d+(c.endTime-this._data.getMix(c.animation,b)):0);i.delay=d;return i},getCurrent:function(a){return a>=this._tracks.length?
null:this._tracks[a]},__class__:Cf,__properties__:{get_data:"get_data"}};var Bf=function(a){this.defaultMix=0;this._skeletonData=a;this.animationToMixTime=new I};m["com.workinman.display.spine.animation.AnimationStateData"]=Bf;Bf.__name__="com,workinman,display,spine,animation,AnimationStateData".split(",");Bf.prototype={dispose:function(){this._skeletonData=this.animationToMixTime=null},get_skeletonData:function(){return this._skeletonData},setMixByName:function(a,b,c){var d=this._skeletonData.findAnimation(a);
if(null==d)throw new S("Animation not found: "+a);a=this._skeletonData.findAnimation(b);if(null==a)throw new S("Animation not found: "+b);this.setMix(d,a,c)},setMix:function(a,b,c){if(null==a)throw new S("from cannot be null.");if(null==b)throw new S("to cannot be null.");this.animationToMixTime.set(a.get_name()+":"+b.get_name(),c);c},getMix:function(a,b){var c;c=this.animationToMixTime.get(a.get_name()+":"+b.get_name());return null==c?this.defaultMix:c},__class__:Bf,__properties__:{get_skeletonData:"get_skeletonData"}};
var Nc=function(){};m["com.workinman.display.spine.animation.Timeline"]=Nc;Nc.__name__="com,workinman,display,spine,animation,Timeline".split(",");Nc.prototype={__class__:Nc};var ae=function(a){this.frames=La.allocFloat(a);this.attachmentNames=La.allocString(a)};m["com.workinman.display.spine.animation.AttachmentTimeline"]=ae;ae.__name__="com,workinman,display,spine,animation,AttachmentTimeline".split(",");ae.__interfaces__=[Nc];ae.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,
b,c){this.frames[a]=b;this.attachmentNames[a]=c},apply:function(a,b,c){var d=this.frames;c<d[0]?b>c&&this.apply(a,b,Math.POSITIVE_INFINITY,null,0):(b>c&&(b=-1),c=c>=d[d.length-1]?d.length-1:lb.binarySearch1(d,c)-1,d[c]<b||(b=this.attachmentNames[c],a.slots[this.slotIndex].set_attachment(null==b?null:a.getAttachmentForSlotIndex(this.slotIndex,b))))},__class__:ae,__properties__:{get_frameCount:"get_frameCount"}};var Xa=function(a){this.curves=La.allocFloat(19*(a-1))};m["com.workinman.display.spine.animation.CurveTimeline"]=
Xa;Xa.__name__="com,workinman,display,spine,animation,CurveTimeline".split(",");Xa.__interfaces__=[Nc];Xa.prototype={apply:function(){},get_frameCount:function(){return Math.floor(this.curves.length/19+1)},setStepped:function(a){this.curves[Math.floor(19*a)]=1},setCurve:function(a,b,c,d,i){var e=0.1*0.1,f=0.1*e,g=3*0.1,h=3*e,j=6*e,e=6*f,k=2*-b+d,l=2*-c+i,d=3*(b-d)+1,i=3*(c-i)+1,b=b*g+k*h+d*f,c=c*g+l*h+i*f,f=k*j+d*e,j=l*j+i*e,l=d*e,e=i*e,a=19*a,d=this.curves;d[a++]=2;i=b;g=c;for(h=a+19-1;a<h;)d[a]=
i,d[a+1]=g,b+=f,c+=j,f+=l,j+=e,i+=b,g+=c,a+=2},getCurvePercent:function(a,b){var c=this.curves,d=19*a,i=c[d];if(0==i)return b;if(1==i)return 0;d++;for(var i=0,e=d,f=d+19-1;d<f;){i=c[d];if(i>=b)return d==e?f=e=0:(e=c[d-2],f=c[d-1]),f+(c[d+1]-f)*(b-e)/(i-e);d+=2}c=c[d-1];return c+(1-c)*(b-i)/(1-i)},__class__:Xa,__properties__:{get_frameCount:"get_frameCount"}};var $d=function(a){Xa.call(this,a);this.frames=La.allocFloat(a)};m["com.workinman.display.spine.animation.ColorTimeline"]=$d;$d.__name__="com,workinman,display,spine,animation,ColorTimeline".split(",");
$d.__super__=Xa;$d.prototype=y(Xa.prototype,{setFrame:function(a,b,c,d,i,e){a*=5;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d;this.frames[a+3]=i;this.frames[a+4]=e},apply:function(a,b,c,d,i){if(!(c<this.frames[0])){var e,f;if(c>=this.frames[this.frames.length-5])b=this.frames.length-1,c=this.frames[b-3],e=this.frames[b-2],f=this.frames[b-1],b=this.frames[b];else{var b=lb.binarySearch(this.frames,c,5),g=this.frames[b-4];e=this.frames[b-3];f=this.frames[b-2];var d=this.frames[b-1],h=this.frames[b],
h=1-(c-h)/(this.frames[b+-5]-h),h=this.getCurvePercent(Math.floor(b/5-1),0>h?0:1<h?1:h),c=g+(this.frames[b+1]-g)*h;e+=(this.frames[b+2]-e)*h;f+=(this.frames[b+3]-f)*h;b=d+(this.frames[b+4]-d)*h}a=a.slots[this.slotIndex];1>i?(a.r+=(c-a.r)*i,a.g+=(e-a.g)*i,a.b+=(f-a.b)*i,a.a+=(b-a.a)*i):(a.r=c,a.g=e,a.b=f,a.a=b)}},__class__:$d});var ge=function(a){this.frames=La.allocFloat(a);this.drawOrders=La.allocIntArray(a)};m["com.workinman.display.spine.animation.DrawOrderTimeline"]=ge;ge.__name__="com,workinman,display,spine,animation,DrawOrderTimeline".split(",");
ge.__interfaces__=[Nc];ge.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,b,c){this.frames[a]=b;this.drawOrders[a]=c},apply:function(a,b,c){if(!(c<this.frames[0])){var c=c>=this.frames[this.frames.length-1]?this.frames.length-1:lb.binarySearch1(this.frames,c)-1,b=a.drawOrder,a=a.slots,d=this.drawOrders[c],c=0;if(null==d)for(d=0;d<a.length;){var i=a[d];++d;b[c++]=i}else for(i=0;i<d.length;){var e=d[i];++i;b[c++]=a[e]}}},__class__:ge,__properties__:{get_frameCount:"get_frameCount"}};
var he=function(a){this.frames=La.allocFloat(a);this.events=[];for(var b=0;b<a;)b++,this.events.push(null)};m["com.workinman.display.spine.animation.EventTimeline"]=he;he.__name__="com,workinman,display,spine,animation,EventTimeline".split(",");he.__interfaces__=[Nc];he.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,b){this.frames[a]=b.time;this.events[a]=b},apply:function(a,b,c,d,i){if(null!=d){if(b>c)this.apply(a,b,Math.POSITIVE_INFINITY,d,i),b=-1;else if(b>=
this.frames[this.get_frameCount()-1])return;if(!(c<this.frames[0])){if(b<this.frames[0])a=0;else{a=lb.binarySearch1(this.frames,b);for(b=this.frames[a];0<a&&!(this.frames[a-1]!=b);)a--}for(;a<this.get_frameCount()&&c>=this.frames[a];)d[d.length]=this.events[a],a++}}},__class__:he,__properties__:{get_frameCount:"get_frameCount"}};var fe=function(a){Xa.call(this,a);this.frames=La.allocFloat(a);this.frameVertices=La.allocFloatArray(a)};m["com.workinman.display.spine.animation.FfdTimeline"]=fe;fe.__name__=
"com,workinman,display,spine,animation,FfdTimeline".split(",");fe.__super__=Xa;fe.prototype=y(Xa.prototype,{setFrame:function(a,b,c){this.frames[a]=b;this.frameVertices[a]=c},apply:function(a,b,c,d,i){b=a.slots[this.slotIndex];if(b.get_attachment()==this.attachment&&(d=this.frames,!(c<d[0]))){var e=this.frameVertices,a=e[0].length,b=b.attachmentVertices;b.length!=a&&(i=1);if(c>=d[d.length-1])if(c=e[d.length-1],1>i)for(d=0;d<a;)e=d++,b[e]+=(c[e]-b[e])*i;else for(i=0;i<a;)d=i++,b[d]=c[d];else{var f=
lb.binarySearch1(d,c),g=d[f],c=1-(c-g)/(d[f-1]-g),c=this.getCurvePercent(f-1,0>c?0:1<c?1:c),d=e[f-1],e=e[f];if(1>i)for(g=0;g<a;){var h=g++,f=d[h];b[h]+=(f+(e[h]-f)*c-b[h])*i}else for(i=0;i<a;)g=i++,f=d[g],b[g]=f+(e[g]-f)*c}}},__class__:fe});var ee=function(a){Xa.call(this,a);this.frames=La.allocFloat(a)};m["com.workinman.display.spine.animation.IkConstraintTimeline"]=ee;ee.__name__="com,workinman,display,spine,animation,IkConstraintTimeline".split(",");ee.__super__=Xa;ee.prototype=y(Xa.prototype,
{setFrame:function(a,b,c,d){a*=3;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d},apply:function(a,b,c,d,i){if(!(c<this.frames[0]))if(a=a.ikConstraints[this.ikConstraintIndex],c>=this.frames[this.frames.length-3])a.mix+=(this.frames[this.frames.length-2]-a.mix)*i,a.bendDirection=Math.floor(this.frames[this.frames.length-1]);else{var b=lb.binarySearch(this.frames,c,3),d=this.frames[b+-2],e=this.frames[b],c=1-(c-e)/(this.frames[b+-3]-e),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);
a.mix+=(d+(this.frames[b+1]-d)*c-a.mix)*i;a.bendDirection=Math.floor(this.frames[b+-1])}},__class__:ee});var Mc=function(){this._listeners=[];this._listeners=[]};m["com.workinman.display.spine.animation.Listeners"]=Mc;Mc.__name__="com,workinman,display,spine,animation,Listeners".split(",");Mc.prototype={get_listeners:function(){return this._listeners},dispose:function(){this._listeners=null},add:function(a){if(null==a)throw new S("listener cannot be null.");this._listeners[this._listeners.length]=
a},remove:function(a){if(null==a)throw new S("listener cannot be null.");this._listeners.splice(this._listeners.indexOf(a),1)},invoke:function(a,b){for(var c=0,d=this.get_listeners();c<d.length;){var i=d[c];++c;i(a,b)}},__class__:Mc,__properties__:{get_listeners:"get_listeners"}};var be=function(a){Xa.call(this,a);this.frames=La.allocFloat(2*a)};m["com.workinman.display.spine.animation.RotateTimeline"]=be;be.__name__="com,workinman,display,spine,animation,RotateTimeline".split(",");be.__super__=Xa;
be.prototype=y(Xa.prototype,{setFrame:function(a,b,c){a*=2;this.frames[a]=b;this.frames[a+1]=c},apply:function(a,b,c,d,i){if(!(c<this.frames[0])){a=a.bones[this.boneIndex];if(c>=this.frames[this.frames.length-2])d=a.get_data().rotation+this.frames[this.frames.length-1]-a.rotation;else{for(var d=lb.binarySearch(this.frames,c,2),b=this.frames[d-1],e=this.frames[d],c=1-(c-e)/(this.frames[d+-2]-e),c=this.getCurvePercent(Math.floor(d/2-1),0>c?0:1<c?1:c),d=this.frames[d+1]-b;180<d;)d-=360;for(;-180>d;)d+=
360;d=a.get_data().rotation+(b+d*c)-a.rotation}for(;180<d;)d-=360;for(;-180>d;)d+=360;a.rotation+=d*i}},__class__:be});var Mb=function(a){this.FRAME_Y=2;this.FRAME_X=1;this.PREV_FRAME_TIME=-3;Xa.call(this,a);this.frames=La.allocFloat(a)};m["com.workinman.display.spine.animation.TranslateTimeline"]=Mb;Mb.__name__="com,workinman,display,spine,animation,TranslateTimeline".split(",");Mb.__super__=Xa;Mb.prototype=y(Xa.prototype,{setFrame:function(a,b,c,d){a*=3;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+
2]=d},apply:function(a,b,c,d,i){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.x+=(a.get_data().x+this.frames[this.frames.length-2]-a.x)*i,a.y+=(a.get_data().y+this.frames[this.frames.length-1]-a.y)*i;else{var b=lb.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],f=this.frames[b],c=1-(c-f)/(this.frames[b+this.PREV_FRAME_TIME]-f),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);a.x+=(a.get_data().x+d+(this.frames[b+this.FRAME_X]-
d)*c-a.x)*i;a.y+=(a.get_data().y+e+(this.frames[b+this.FRAME_Y]-e)*c-a.y)*i}},__class__:Mb});var ce=function(a){Mb.call(this,a)};m["com.workinman.display.spine.animation.ScaleTimeline"]=ce;ce.__name__="com,workinman,display,spine,animation,ScaleTimeline".split(",");ce.__super__=Mb;ce.prototype=y(Mb.prototype,{apply:function(a,b,c,d,i){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.scaleX+=(a.get_data().scaleX*this.frames[this.frames.length-2]-a.scaleX)*
i,a.scaleY+=(a.get_data().scaleY*this.frames[this.frames.length-1]-a.scaleY)*i;else{var b=lb.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],f=this.frames[b],c=1-(c-f)/(this.frames[b+this.PREV_FRAME_TIME]-f),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);a.scaleX+=(a.get_data().scaleX*(d+(this.frames[b+this.FRAME_X]-d)*c)-a.scaleX)*i;a.scaleY+=(a.get_data().scaleY*(e+(this.frames[b+this.FRAME_Y]-e)*c)-a.scaleY)*i}},__class__:ce});var de=function(a){Mb.call(this,a)};m["com.workinman.display.spine.animation.ShearTimeline"]=
de;de.__name__="com,workinman,display,spine,animation,ShearTimeline".split(",");de.__super__=Mb;de.prototype=y(Mb.prototype,{apply:function(a,b,c,d,i){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.shearX+=(a.get_data().shearX+this.frames[this.frames.length-2]-a.shearX)*i,a.shearY+=(a.get_data().shearY+this.frames[this.frames.length-1]-a.shearY)*i;else{var b=lb.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],f=this.frames[b],c=Ef.clamp(1-
(c-f)/(this.frames[b+this.PREV_FRAME_TIME]-f),0,1),c=this.getCurvePercent(Math.floor(b/3-1),c);a.shearX+=(a.get_data().shearX+(d+(this.frames[b+this.FRAME_X]-d)*c)-a.shearX)*i;a.shearY+=(a.get_data().shearY+(e+(this.frames[b+this.FRAME_Y]-e)*c)-a.shearY)*i}},__class__:de});var ke=function(){this.timeScale=this.mix=1;this.lastTime=-1;this.time=0};m["com.workinman.display.spine.animation.TrackEntry"]=ke;ke.__name__="com,workinman,display,spine,animation,TrackEntry".split(",");ke.prototype={dispose:function(){this.onEvent=
this.onComplete=this.onEnd=this.onStart=this.animation=this.previous=this.next=null},__class__:ke};var Af=function(a,b){this.regions=[];this.pages=[];""!=a&&this.load(a,b)};m["com.workinman.display.spine.atlas.Atlas"]=Af;Af.__name__="com,workinman,display,spine,atlas,Atlas".split(",");Af.prototype={load:function(a,b){if(null==b)throw new S("textureLoader cannot be null.");this.textureLoader=b;for(var c=new Ff(a),d=La.allocString(4),i=null;;){var e=c.readLine();if(null==e)break;e=c.trim(e);if(0==e.length)i=
null;else if(null==i){i=new Gf;i.name=e;2==c.readTuple(d)&&(i.width=C.parseInt(d[0]),i.height=C.parseInt(d[1]),c.readTuple(d));i.format=d[0];c.readTuple(d);i.minFilter=d[0];i.magFilter=d[1];var f=c.readValue();i.uWrap="clampToEdge";i.vWrap="clampToEdge";"x"==f?i.uWrap="repeat":"y"==f?i.vWrap="repeat":"xy"==f&&(i.uWrap=i.vWrap="repeat");b.loadPage(i,e);this.pages.push(i)}else{f=new ed;f.name=e;f.page=i;f.rotate="true"==c.readValue();c.readTuple(d);var e=C.parseInt(d[0]),g=C.parseInt(d[1]);c.readTuple(d);
var h=C.parseInt(d[0]),j=C.parseInt(d[1]);f.u=e/i.width;f.v=g/i.height;f.rotate?(f.u2=(e+j)/i.width,f.v2=(g+h)/i.height):(f.u2=(e+h)/i.width,f.v2=(g+j)/i.height);f.x=e;f.y=g;f.width=Math.floor(Math.abs(h));f.height=Math.floor(Math.abs(j));4==c.readTuple(d)&&(f.splits=[C.parseInt(d[0]),C.parseInt(d[1]),C.parseInt(d[2]),C.parseInt(d[3])],4==c.readTuple(d)&&(f.pads=[C.parseInt(d[0]),C.parseInt(d[1]),C.parseInt(d[2]),C.parseInt(d[3])],c.readTuple(d)));f.originalWidth=C.parseInt(d[0]);f.originalHeight=
C.parseInt(d[1]);c.readTuple(d);f.offsetX=C.parseInt(d[0]);f.offsetY=C.parseInt(d[1]);f.index=C.parseInt(c.readValue());b.loadRegion(f);this.regions.push(f)}}},findRegion:function(a){for(var b=0,c=this.regions.length;b<c;){var d=b++;if(this.regions[d].name==a)return this.regions[d]}return null},__class__:Af};var Ff=function(a){this.index=0;this.lines=(new v("[ \t]*((\r\n)|\r|\n)[ \t]*","g")).split(a)};m["com.workinman.display.spine.atlas.Reader"]=Ff;Ff.__name__="com,workinman,display,spine,atlas,Reader".split(",");
Ff.prototype={trim:function(a){return ca.trim(a)},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var a=this.readLine(),b=a.indexOf(":");if(-1==b)throw new S("Invalid line: "+a);return this.trim(a.substring(b+1))},readTuple:function(a){var b=this.readLine(),c=b.indexOf(":");if(-1==c)throw new S("Invalid line: "+b);for(var d=0,c=c+1;3>d;){var i=b.indexOf(",",c);if(-1==i)break;a[d]=this.trim(O.substr(b,c,i-c));c=i+1;d++}a[d]=this.trim(b.substring(c));
return d+1},__class__:Ff};var Gf=function(){};m["com.workinman.display.spine.atlas.AtlasPage"]=Gf;Gf.__name__="com,workinman,display,spine,atlas,AtlasPage".split(",");Gf.prototype={__class__:Gf};var ed=function(){};m["com.workinman.display.spine.atlas.AtlasRegion"]=ed;ed.__name__="com,workinman,display,spine,atlas,AtlasRegion".split(",");ed.prototype={__class__:ed};var Hf=function(){};m["com.workinman.display.spine.atlas.TextureLoader"]=Hf;Hf.__name__="com,workinman,display,spine,atlas,TextureLoader".split(",");
Hf.prototype={__class__:Hf};var If=function(){};m["com.workinman.display.spine.attachments.AttachmentLoader"]=If;If.__name__="com,workinman,display,spine,attachments,AttachmentLoader".split(",");If.prototype={__class__:If};var Sb=function(a){if(null==a)throw new S("atlas cannot be null.");this.atlas=a};m["com.workinman.display.spine.attachments.AtlasAttachmentLoader"]=Sb;Sb.__name__="com,workinman,display,spine,attachments,AtlasAttachmentLoader".split(",");Sb.__interfaces__=[If];Sb.nextPOT=function(a){a--;
a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};Sb.prototype={newRegionAttachment:function(a,b,c){a=this.atlas.findRegion(c);if(null==a)throw new S("Region not found in atlas: "+c+" (region attachment: "+b+")");b=new bc(b);b.rendererObject=a;var c=a.page.width/Sb.nextPOT(a.page.width),d=a.page.height/Sb.nextPOT(a.page.height);b.setUVs(a.u*c,a.v*d,a.u2*c,a.v2*d,a.rotate);b.regionOffsetX=a.offsetX;b.regionOffsetY=a.offsetY;b.regionWidth=a.width;b.regionHeight=a.height;b.regionOriginalWidth=a.originalWidth;
b.regionOriginalHeight=a.originalHeight;return b},newMeshAttachment:function(a,b,c){a=this.atlas.findRegion(c);if(null==a)throw new S("Region not found in atlas: "+c+" (mesh attachment: "+b+")");b=new yb(b);b.rendererObject=a;return b},newWeightedMeshAttachment:function(a,b,c){a=this.atlas.findRegion(c);if(null==a)throw new S("Region not found in atlas: "+c+" (weighted mesh attachment: "+b+")");b=new oc(b);b.rendererObject=a;var c=a.page.width/Sb.nextPOT(a.page.width),d=a.page.height/Sb.nextPOT(a.page.height);
b.regionU=a.u*c;b.regionV=a.v*d;b.regionU2=a.u2*c;b.regionV2=a.v2*d;b.regionRotate=a.rotate;b.regionOffsetX=a.offsetX;b.regionOffsetY=a.offsetY;b.regionWidth=a.width;b.regionHeight=a.height;b.regionOriginalWidth=a.originalWidth;b.regionOriginalHeight=a.originalHeight;return b},newBoundingBoxAttachment:function(a,b){return new nc(b)},__class__:Sb};var Sa=function(a){if(null==a)throw new S("name cannot be null.");this._name=a};m["com.workinman.display.spine.attachments.Attachment"]=Sa;Sa.__name__="com,workinman,display,spine,attachments,Attachment".split(",");
Sa.prototype={dispose:function(){},get_name:function(){return this._name},__class__:Sa,__properties__:{get_name:"get_name"}};var zf=function(a,b){this.ordinal=a;this.name=b};m["com.workinman.display.spine.attachments.AttachmentType"]=zf;zf.__name__="com,workinman,display,spine,attachments,AttachmentType".split(",");zf.prototype={__class__:zf};var nc=function(a){Sa.call(this,a);this.vertices=[]};m["com.workinman.display.spine.attachments.BoundingBoxAttachment"]=nc;nc.__name__="com,workinman,display,spine,attachments,BoundingBoxAttachment".split(",");
nc.__super__=Sa;nc.prototype=y(Sa.prototype,{dispose:function(){Sa.prototype.dispose.call(this);this.vertices=null},computeWorldVertices:function(a,b,c,d){for(var a=a+c.get_worldX(),b=b+c.get_worldY(),i=c.get_a(),e=c.get_b(),f=c.get_c(),c=c.get_d(),g=this.vertices,h=0,j=g.length;h<j;){var k=h+1,l=g[h],m=g[k];d[h]=l*i+m*e+a;d[k]=l*f+m*c+b;h+=2}},__class__:nc});var yb=function(a){this.r=this.g=this.b=this.a=1;Sa.call(this,a)};m["com.workinman.display.spine.attachments.MeshAttachment"]=yb;yb.__name__=
"com,workinman,display,spine,attachments,MeshAttachment".split(",");yb.__super__=Sa;yb.prototype=y(Sa.prototype,{dispose:function(){Sa.prototype.dispose.call(this);this.region=this.worldVertices=this.rendererObject=this.triangles=this.regionUVs=this.uvs=this.vertices=null},updateUVs:function(){null==this.region&&(this.region=this.rendererObject);var a,b=this.regionUVs.length;if(null==this.uvs||this.uvs.length!=b)this.uvs=[];var c,d,i,e;null==this.region?(c=d=0,i=e=1):(c=this.region.u,d=this.region.v,
i=this.region.u2-c,e=this.region.v2-d);var f=this.regionUVs;if(D.__instanceof(this.region,ed)&&D.__cast(this.region,ed).rotate)for(a=0;a<b;)this.uvs[a]=c+f[a+1]*i,this.uvs[a+1]=d+e-f[a]*e,a+=2;else for(a=0;a<b;)this.uvs[a]=c+f[a]*i,this.uvs[a+1]=d+f[a+1]*e,a+=2},updateWorldVertices:function(a){var b=a.get_skeleton(),c=a.get_bone(),d=b.x+c.get_worldX(),b=b.y+c.get_worldY(),i=c.get_a(),e=c.get_b(),f=c.get_c(),c=c.get_d(),g=this.vertices,h=g.length;a.attachmentVertices.length==h&&(g=a.attachmentVertices);
for(var a=[],j=0,k=0;k<h;){var l=g[j],m=g[j+1];a[k]=l*i+m*e+d;a[k+1]=l*f+m*c+b;j+=2;k+=2}return a},__class__:yb});var bc=function(a){this.uvs=[];this.offset=[];this.scaleX=this.scaleY=this.r=this.g=this.b=this.a=1;Sa.call(this,a);this.offset=La.allocFloat(8);this.uvs=La.allocFloat(8)};m["com.workinman.display.spine.attachments.RegionAttachment"]=bc;bc.__name__="com,workinman,display,spine,attachments,RegionAttachment".split(",");bc.__super__=Sa;bc.prototype=y(Sa.prototype,{dispose:function(){Sa.prototype.dispose.call(this);
this.rendererObject=null},setUVs:function(a,b,c,d,i){i?(this.uvs[2]=a,this.uvs[3]=d,this.uvs[4]=a,this.uvs[5]=b,this.uvs[6]=c,this.uvs[7]=b,this.uvs[0]=c,this.uvs[1]=d):(this.uvs[0]=a,this.uvs[1]=d,this.uvs[2]=a,this.uvs[3]=b,this.uvs[4]=c,this.uvs[5]=b,this.uvs[6]=c,this.uvs[7]=d)},updateOffset:function(){var a=this.width/this.regionOriginalWidth*this.scaleX,b=this.height/this.regionOriginalHeight*this.scaleY,c=-this.width/2*this.scaleX+this.regionOffsetX*a,d=-this.height/2*this.scaleY+this.regionOffsetY*
b,i=c+this.regionWidth*a,b=d+this.regionHeight*b,a=this.rotation*Math.PI/180,e=Math.cos(a),f=Math.sin(a),a=c*e+this.x,c=c*f,g=d*e+this.y,d=d*f,h=i*e+this.x,i=i*f,e=b*e+this.y,b=b*f;this.offset[0]=a-d;this.offset[1]=g+c;this.offset[2]=a-b;this.offset[3]=e+c;this.offset[4]=h-b;this.offset[5]=e+i;this.offset[6]=h-d;this.offset[7]=g+i},computeWorldVertices:function(a,b,c,d){var a=a+c.get_worldX(),b=b+c.get_worldY(),i=c.get_a(),e=c.get_b(),f=c.get_c(),c=c.get_d(),g=this.offset[0],h=this.offset[1],j=this.offset[2],
k=this.offset[3],l=this.offset[4],m=this.offset[5],n=this.offset[6],o=this.offset[7];d[0]=g*i+h*e+a;d[1]=g*f+h*c+b;d[2]=j*i+k*e+a;d[3]=j*f+k*c+b;d[4]=l*i+m*e+a;d[5]=l*f+m*c+b;d[6]=n*i+o*e+a;d[7]=n*f+o*c+b},__class__:bc});var oc=function(a){this.r=this.g=this.b=this.a=1;Sa.call(this,a)};m["com.workinman.display.spine.attachments.WeightedMeshAttachment"]=oc;oc.__name__="com,workinman,display,spine,attachments,WeightedMeshAttachment".split(",");oc.__super__=Sa;oc.prototype=y(Sa.prototype,{dispose:function(){Sa.prototype.dispose.call(this);
this.rendererObject=this.triangles=this.regionUVs=this.uvs=this.weights=this.bones=null},updateUVs:function(){var a=this.regionU2-this.regionU,b=this.regionV2-this.regionV,c,d=this.regionUVs.length;if(null==this.uvs||this.uvs.length!=d)this.uvs=[];if(this.regionRotate)for(c=0;c<d;)this.uvs[c]=this.regionU+this.regionUVs[c+1]*a,this.uvs[c+1]=this.regionV+b-this.regionUVs[c]*b,c+=2;else for(c=0;c<d;)this.uvs[c]=this.regionU+this.regionUVs[c]*a,this.uvs[c+1]=this.regionV+this.regionUVs[c+1]*b,c+=2},
computeWorldVertices:function(a,b,c,d){var i=c.get_skeleton().bones,e=this.weights,f=this.bones,g=0,h=0,j=0,k=0,l=f.length,m,n,o,p,r,q;if(0==c.attachmentVertices.length)for(;h<l;){n=m=0;for(c=f[h++]+h;h<c;)o=i[f[h]],p=e[j],r=e[j+1],q=e[j+2],m+=(p*o.get_a()+r*o.get_b()+o.get_worldX())*q,n+=(p*o.get_c()+r*o.get_d()+o.get_worldY())*q,h++,j+=3;d[g]=m+a;d[g+1]=n+b;g+=2}else for(var s=c.attachmentVertices;h<l;){n=m=0;for(c=f[h++]+h;h<c;)o=i[f[h]],p=e[j]+s[k],r=e[j+1]+s[k+1],q=e[j+2],m+=(p*o.get_a()+r*o.get_b()+
o.get_worldX())*q,n+=(p*o.get_c()+r*o.get_d()+o.get_worldY())*q,h++,j+=3,k+=2;d[g]=m+a;d[g+1]=n+b;g+=2}},__class__:oc});var ie=function(a,b){this.prefix=a;this.pack=b};m["com.workinman.display.spine.platform.flambe.FlambeTextureLoader"]=ie;ie.__name__="com,workinman,display,spine,platform,flambe,FlambeTextureLoader".split(",");ie.__interfaces__=[Hf];ie.prototype={loadPage:function(a,b){var c=this.pack.getTexture(this.prefix+Ta.removeFileExtension(b));a.rendererObject=c;a.width=c.get_width();a.height=
c.get_height()},loadRegion:function(){},__class__:ie};var le=function(a,b,c){this._w=this._h=0;K.call(this);this.meshAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;this._flagRenderBoxes=c;a=this.region.rotate?this.region.height:this.region.width;b=this.region.rotate?this.region.width:this.region.height;this._w=a;this._h=b};m["com.workinman.display.spine.platform.flambe.MeshSprite"]=le;le.__name__="com,workinman,display,spine,platform,flambe,MeshSprite".split(",");
le.__super__=K;le.prototype=y(K.prototype,{dispose:function(){K.prototype.dispose.call(this);this.slot=this.atlas=this.region=this.meshAttachment=null},draw:function(a){var b=this.meshAttachment.uvs,c=this.meshAttachment.triangles,d=this.worldVertices;if(D.__instanceof(a,cc)){var i;i=D.__cast(a,cc);i=t.field(i,"_canvasCtx");for(var e=0;e<c.length;){var f=2*c[e],g=d[f],h=d[f+1],j=b[f]*this.region.page.width,k=b[f+1]*this.region.page.height,f=2*c[e+1],l=d[f],m=d[f+1],n=b[f]*this.region.page.width,o=
b[f+1]*this.region.page.height,f=2*c[e+2],p=d[f],r=d[f+1],q=b[f]*this.region.page.width,f=b[f+1]*this.region.page.height;a.save();i.beginPath();i.moveTo(g,h);i.lineTo(l,m);i.lineTo(p,r);i.closePath();this._flagRenderBoxes&&(i.strokeStyle="#00FF00",i.stroke());i.clip();var s=j*o+k*q+n*f-o*q-k*n-j*f;i.transform((g*o+k*p+l*f-o*p-k*l-g*f)/s,(h*o+k*r+m*f-o*r-k*m-h*f)/s,(j*l+g*q+n*p-l*q-g*n-j*p)/s,(j*m+h*q+n*r-m*q-h*n-j*r)/s,(j*o*p+k*l*q+g*n*f-g*o*q-k*n*p-j*l*f)/s,(j*o*r+k*m*q+h*n*f-h*o*q-k*n*r-j*m*f)/
s);i.drawImage(this.atlas.root.image,0,0);a.restore();e+=3}}},getNaturalWidth:function(){return this.region.width},getNaturalHeight:function(){return this.region.height},__class__:le});var me=function(a,b){this._w=this._h=0;K.call(this);this.regionAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;var c;c=this.region.rotate?this.region.height:this.region.width;var d;d=this.region.rotate?this.region.width:this.region.height;this._w=c;this._h=d;this.rotation.set__(-a.rotation);
this.scaleX.set__(a.scaleX*(a.width/this.region.originalWidth));this.scaleY.set__(a.scaleY*(a.height/this.region.originalHeight));this.region.rotate&&(this.scaleY.set__(a.scaleX*(a.width/this.region.originalWidth)),this.scaleX.set__(a.scaleY*(a.height/this.region.originalHeight)));var i=-a.rotation*Math.PI/180,e=Math.cos(i),i=Math.sin(i),f=-a.width/2*Math.abs(a.scaleX),g=-a.height/2*Math.abs(a.scaleY),h=this.region.offsetX*this.scaleX._value,j=(this.region.originalHeight-this.region.height-this.region.offsetY)*
this.scaleY._value;0>a.scaleX&&(f=this.region.rotate?f-d*(a.width/this.region.originalWidth):a.width/2*Math.abs(a.scaleX));0>a.scaleY&&(g=this.region.rotate?g+c*(a.height/this.region.originalHeight):a.height/2*Math.abs(a.scaleY));this.region.rotate&&(c=this.rotation,c.set__(c._value+90),f+=d*(a.width*Math.abs(a.scaleX)/this.region.originalWidth));this.x.set__(a.x+f*e-g*i+h*e-j*i);this.y.set__(-a.y+f*i+g*e+h*i+j*e)};m["com.workinman.display.spine.platform.flambe.RegionSprite"]=me;me.__name__="com,workinman,display,spine,platform,flambe,RegionSprite".split(",");
me.__super__=K;me.prototype=y(K.prototype,{dispose:function(){K.prototype.dispose.call(this);this.slot=this.atlas=this.region=this.regionAttachment=null},draw:function(a){a.drawSubTexture(this.atlas,0,0,this.region.x,this.region.y,this._w,this._h)},getNaturalWidth:function(){return this.region.originalWidth},getNaturalHeight:function(){return this.region.originalHeight},__class__:me});var pc=function(a,b){null==b&&(b=!1);this.colorRegionBox=65280;this.colorBoundingBox=16711680;na.call(this);this._holder=
new ga;mc.yDown=!0;this.skeleton=new uf(a);this.skeleton.updateWorldTransform();this._entities=new zb;this._sprites=new zb;this._regions=new zb;this._meshes=new zb;this._weightedMeshes=new zb;this._flagRenderBoxes=b;this.drawSprites(!0)};m["com.workinman.display.spine.platform.flambe.SkeletonSprite"]=pc;pc.__name__="com,workinman,display,spine,platform,flambe,SkeletonSprite".split(",");pc.__super__=na;pc.prototype=y(na.prototype,{get_name:function(){return"SkeletonSprite_7"},onAdded:function(){this.owner.addChild(this._holder)},
dispose:function(){null!=this.owner&&this.owner.removeChild(this._holder);na.prototype.dispose.call(this);null!=this.skeleton&&this.skeleton.dispose();this.skeleton=null;null!=this._holder&&this._holder.dispose();this._holder=null;if(null!=this._sprites)for(var a=this._sprites.iterator();a.hasNext();)a.next().dispose();this._sprites=null;if(null!=this._regions)for(a=this._regions.iterator();a.hasNext();)a.next().dispose();this._regions=null;if(null!=this._entities)for(a=this._entities.iterator();a.hasNext();)a.next().dispose();
this._entities=null;if(null!=this._meshes)for(a=this._meshes.iterator();a.hasNext();)a.next().dispose();this._meshes=null;if(null!=this._weightedMeshes)for(a=this._weightedMeshes.iterator();a.hasNext();)a.next().dispose();this._weightedMeshes=null},get_regions:function(){return this._regions},get_sprites:function(){return this._sprites},get_entities:function(){return this._entities},onUpdate:function(a){na.prototype.onUpdate.call(this,a);this.draw()},draw:function(){this.drawSprites(!1)},drawSprites:function(a){for(var b=
this._sprites.iterator();b.hasNext();)b.next().set_visible(!1);b=this.skeleton.drawOrder;a&&(b=this.skeleton.slots);for(var a=0,c=b.length;a<c;){var d=a++,d=b[d];if(null!=d.get_attachment())if(C.is(d.get_attachment(),bc)){var i;i=D.__cast(d.get_attachment(),bc);if(null!=i){var e=this._sprites.h[i.__id__];if(null==e){var f=new me(i,d);f.set_pixelSnapping(!1);e=new Oc;e.set_pixelSnapping(!1);var g=(new ga).add(e);g.addChild((new ga).add(f));this._flagRenderBoxes&&this._renderBoxes(d,i,g);this._sprites.set(i,
e);this._regions.set(i,f);this._entities.set(i,g);this._holder.addChild(g)}this._holder.addChild(this._entities.h[i.__id__]);f=d.get_bone();e.set_visible(!0);e.a.set__(f.get_a());e.b.set__(f.get_b());e.c.set__(f.get_c());e.d.set__(f.get_d());e.e.set__(f.get_worldX());e.f.set__(f.get_worldY());e.alpha.set__(this.skeleton.a*d.a*i.a);e=this.skeleton.g*d.g*i.g;f=this.skeleton.b*d.b*i.b;d="0x"+this.toHexColor(Math.floor(255*this.skeleton.r*d.r*i.r))+this.toHexColor(Math.floor(255*e))+this.toHexColor(Math.floor(255*
f));this._regions.h[i.__id__].color=C.parseInt(d)}}else C.is(d.get_attachment(),yb)?(i=D.__cast(d.get_attachment(),yb),null!=i&&(e=this._sprites.h[i.__id__],null==e&&(f=new le(i,d,this._flagRenderBoxes),f.set_pixelSnapping(!1),e=new Oc,e.set_pixelSnapping(!1),g=(new ga).add(e),g.addChild((new ga).add(f)),this._sprites.set(i,e),this._entities.set(i,g),this._meshes.set(i,f),this._holder.addChild(g)),this._holder.addChild(this._entities.h[i.__id__]),f=i.updateWorldVertices(d,!0),this._meshes.h[i.__id__].worldVertices=
f,e.set_visible(!0),e.alpha.set__(this.skeleton.a*d.a*i.a))):C.is(d.get_attachment(),oc)&&(i=D.__cast(d.get_attachment(),oc),null!=i&&(e=this._sprites.h[i.__id__],null==e&&(f=new ne(i,d),f.set_pixelSnapping(!1),e=new Oc,e.set_pixelSnapping(!1),g=(new ga).add(e),g.addChild((new ga).add(f)),this._sprites.set(i,e),this._weightedMeshes.set(i,f),this._entities.set(i,g),this._holder.addChild(g)),f=La.allocFloat(i.uvs.length),i.computeWorldVertices(this.skeleton.x,this.skeleton.y,d,f),this._weightedMeshes.h[i.__id__].worldVertices=
f,this._holder.addChild(this._entities.h[i.__id__]),e.set_visible(!0),e.alpha.set__(this.skeleton.a*d.a*i.a)))}},_renderBoxes:function(a,b,c){var d,i=new Lc,e;e=this.skeleton.flipX?-1:1;var f;f=this.skeleton.flipY?-1:1;e=a.get_bone().get_worldRotationX()*e*f;e=e*-Math.PI/180;f=0;for(var g=this.skeleton.slots.length;f<g;){var h=f++,j=this.skeleton.slots[h];if(null!=this.skeleton.get_data().defaultSkin.get_attachments()[h])for(h=this.skeleton.get_data().defaultSkin.get_attachments()[h].iterator();h.hasNext();){var k=
h.next(),l;try{l=D.__cast(k,nc)}catch(m){l=null}if(null!=l&&l.get_name()==b.get_name()){var k=0,n=l.vertices.length;i.vertices.splice(l.vertices.length,i.vertices.length-l.vertices.length);for(l.computeWorldVertices(this.skeleton.x,this.skeleton.y,j.get_bone(),i.vertices);k<n;){var o=k;d=k+2;k==n-2&&(d=0);var p=i.vertices[o]-j.get_bone().get_worldX(),o=i.vertices[o+1]-j.get_bone().get_worldY(),r=i.vertices[d]-j.get_bone().get_worldX();d=i.vertices[d+1]-j.get_bone().get_worldY();var q=p,s=o,p=Math.cos(e)*
q-Math.sin(e)*s,o=Math.sin(e)*q+Math.cos(e)*s,q=r,s=d,r=Math.cos(e)*q-Math.sin(e)*s;d=Math.sin(e)*q+Math.cos(e)*s;q=Math.abs(Math.sqrt((p-r)*(p-r)+(o-d)*(o-d)));r=180*Math.atan2(d-o,r-p)/Math.PI-90;d=new Ja(this.colorBoundingBox,5,q);d.x.set__(p);d.y.set__(o);d.rotation.set__(r);c.addChild((new ga).add(d));k+=2}}}}i=new Lc;b.computeWorldVertices(this.skeleton.x,this.skeleton.y,a.get_bone(),i.vertices);b=0;for(l=i.vertices.length;b<l;)g=b,h=b+2,b==l-2&&(h=0),f=i.vertices[g]-a.get_bone().get_worldX(),
g=i.vertices[g+1]-a.get_bone().get_worldY(),j=i.vertices[h]-a.get_bone().get_worldX(),h=i.vertices[h+1]-a.get_bone().get_worldY(),k=f,n=g,f=Math.cos(e)*k-Math.sin(e)*n,g=Math.sin(e)*k+Math.cos(e)*n,k=j,n=h,j=Math.cos(e)*k-Math.sin(e)*n,h=Math.sin(e)*k+Math.cos(e)*n,0>a.get_bone().get_worldScaleX()&&(g*=-1,h*=-1),k=Math.abs(Math.sqrt((f-j)*(f-j)+(g-h)*(g-h))),j=180*Math.atan2(h-g,j-f)/Math.PI-90,h=new Ja(this.colorRegionBox,2,k),h.x.set__(f),h.y.set__(g),h.rotation.set__(j),c.addChild((new ga).add(h)),
b+=2},toHexColor:function(a){a=Math.max(0,Math.min(a,255));return"0123456789ABCDEF".charAt(Math.floor((a-a%16)/16))+"0123456789ABCDEF".charAt(Math.floor(a%16))},__class__:pc,__properties__:y(na.prototype.__properties__,{get_entities:"get_entities",get_sprites:"get_sprites",get_regions:"get_regions"})});var je=function(a,b){null==b&&(b=!1);pc.call(this,a,b)};m["com.workinman.display.spine.platform.flambe.SkeletonAnimation"]=je;je.__name__="com,workinman,display,spine,platform,flambe,SkeletonAnimation".split(",");
je.__super__=pc;je.prototype=y(pc.prototype,{dispose:function(){pc.prototype.dispose.call(this)},__class__:je});var Df=function(a){this.regions=[];this.polygonPool=[];this.polygons=[];this._renderer=a};m["com.workinman.display.spine.platform.flambe.SkeletonRegions"]=Df;Df.__name__="com,workinman,display,spine,platform,flambe,SkeletonRegions".split(",");Df.prototype={dispose:function(){this._renderer=this.regions=null;for(var a=0,b=this.polygons;a<b.length;){var c=b[a];++a;null!=c&&c.dispose()}this.polygons=
null;a=0;for(b=this.polygonPool;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygonPool=null},update:function(a,b,c,d){for(var i=a.x,e=a.y,f=0,g=this.polygons;f<g.length;){var h=g[f];++f;this.polygonPool.push(h)}this.polygons=[];this.regions=[];a=a.drawOrder;f=0;for(g=a.length;f<g;)if(h=f++,h=a[h],null!=h.get_attachment()&&C.is(h.get_attachment(),bc)){var j;j=D.__cast(h.get_attachment(),bc);j=this._renderer.get_regions().get(j);if(!1!=this._renderer.get_sprites().get(j.regionAttachment).get_visible()&&
h.get_attachment()==j.regionAttachment){this.regions.push(j.regionAttachment);h=0<this.polygonPool.length?this.polygonPool.pop():new Lc;this.polygons.push(h);j.regionAttachment.computeWorldVertices(i,e,j.slot.get_bone(),h.vertices);j=0;for(var k=h.vertices.length;j<k;)h.vertices[j]*=c,j+=2;j=1;for(k=h.vertices.length;j<k;)h.vertices[j]*=d,j+=2}}this.regions.reverse();this.polygons.reverse();b&&this.aabbCompute()},aabbCompute:function(){for(var a=2147483647,b=2147483647,c=-2147483648,d=-2147483648,
i=0,e=this.polygons.length;i<e;){for(var f=this.polygons[i].vertices,g=0,h=f.length;g<h;)var j=f[g],k=f[g+1],a=Math.min(a,j),b=Math.min(b,k),c=Math.max(c,j),d=Math.max(d,k),g=g+2;i++}this.minX=a;this.minY=b;this.maxX=c;this.maxY=d},aabbContainsPoint:function(a,b){return a>=this.minX&&a<=this.maxX&&b>=this.minY&&b<=this.maxY},containsPoint:function(a,b){for(var c=0,d=this.polygons.length;c<d;){if(this.polygons[c].containsPoint(a,b))return this.regions[c];c++}return null},__class__:Df};var ne=function(a,
b){this._w=this._h=0;K.call(this);this.meshAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;var c;c=this.region.rotate?this.region.height:this.region.width;var d;d=this.region.rotate?this.region.width:this.region.height;this._w=c;this._h=d};m["com.workinman.display.spine.platform.flambe.WeightedMeshSprite"]=ne;ne.__name__="com,workinman,display,spine,platform,flambe,WeightedMeshSprite".split(",");ne.__super__=K;ne.prototype=y(K.prototype,{dispose:function(){K.prototype.dispose.call(this);
this.slot=this.atlas=this.region=this.meshAttachment=null},draw:function(a){var b=this.meshAttachment.uvs,c=this.meshAttachment.triangles,d=this.worldVertices;if(D.__instanceof(a,cc)){var i;i=D.__cast(a,cc);i=t.field(i,"_canvasCtx");for(var e=0;e<c.length;){var f=2*c[e],g=d[f],h=d[f+1],j=b[f]*this.region.page.width,k=b[f+1]*this.region.page.height,f=2*c[e+1],l=d[f],m=d[f+1],n=b[f]*this.region.page.width,o=b[f+1]*this.region.page.height,f=2*c[e+2],p=d[f],r=d[f+1],q=b[f]*this.region.page.width,f=b[f+
1]*this.region.page.height;a.save();i.beginPath();i.moveTo(g,h);i.lineTo(l,m);i.lineTo(p,r);i.closePath();i.stroke();i.clip();var s=j*o+k*q+n*f-o*q-k*n-j*f;i.transform((g*o+k*p+l*f-o*p-k*l-g*f)/s,(h*o+k*r+m*f-o*r-k*m-h*f)/s,(j*l+g*q+n*p-l*q-g*n-j*p)/s,(j*m+h*q+n*r-m*q-h*n-j*r)/s,(j*o*p+k*l*q+g*n*f-g*o*q-k*n*p-j*l*f)/s,(j*o*r+k*m*q+h*n*f-h*o*q-k*n*r-j*m*f)/s);i.drawImage(this.atlas.root.image,0,0);a.restore();e+=3}}},getNaturalWidth:function(){return this.region.width},getNaturalHeight:function(){return this.region.height},
__class__:ne});var Oc=function(){this._flagDirtyMatrix=!1;K.call(this);this.a=new ua(1,o(this,this._dirtyWrapperMatrix));this.b=new ua(0,o(this,this._dirtyWrapperMatrix));this.c=new ua(0,o(this,this._dirtyWrapperMatrix));this.d=new ua(-1,o(this,this._dirtyWrapperMatrix));this.e=new ua(0,o(this,this._dirtyWrapperMatrix));this.f=new ua(0,o(this,this._dirtyWrapperMatrix))};m["com.workinman.display.spine.platform.flambe.WrapperSprite"]=Oc;Oc.__name__="com,workinman,display,spine,platform,flambe,WrapperSprite".split(",");
Oc.__super__=K;Oc.prototype=y(K.prototype,{getLocalMatrix:function(){this._flagDirtyMatrix&&(this._flagDirtyMatrix=!1,this._localMatrix.set(this.a._value,this.c._value,-this.b._value,-this.d._value,this.e._value,this.f._value));return this._localMatrix},_dirtyWrapperMatrix:function(){this._flagDirtyMatrix=!0},__class__:Oc});var Da=function(a){w.call(this,a);this._textString="";this._textDisplay=new fd(k.get_instance().get_assets().getFont(null==a.font?k.get_instance().get_localize().get_defaultFont():
a.font),"");this.setImageSprite(this._textDisplay);this._textDisplay.set_pointerEnabled(!1);this._textDisplay.set_align(null==a.align?wa.Center:a.align);null!=a.width&&this._textDisplay.wrapWidth.set__(a.width);null!=a.lineSpacing&&this._textDisplay.lineSpacing.set__(a.lineSpacing);null!=a.letterSpacing&&this._textDisplay.letterSpacing.set__(a.letterSpacing);this.render();this.set_text(a.text)};m["com.workinman.display.text.TextBase"]=Da;Da.__name__=["com","workinman","display","text","TextBase"];
Da.__super__=w;Da.prototype=y(w.prototype,{dispose:function(){null!=this._textDisplay&&(this._textDisplay.dispose(),this._textDisplay=null);this._textString=null;w.prototype.dispose.call(this)},_determineFormat:function(a){D.__instanceof(a,fd)?this._setFormat(ka.TEXT):w.prototype._determineFormat.call(this,a)},_cleanOldFormat:function(a){switch(a[1]){case 3:break;default:w.prototype._cleanOldFormat.call(this,a)}},get_textDisplay:function(){return this._textDisplay},get_text:function(){return this._textString},
set_text:function(a){a!=this._textString&&(this._textString=a,this._renderTextToDisplay());return this._textString},_renderTextToDisplay:function(){this._textDisplay.set_text(this._textString)},__class__:Da,__properties__:y(w.prototype.__properties__,{set_text:"set_text",get_text:"get_text",get_textDisplay:"get_textDisplay"})});var P=function(a){this._flagLocalize=null==a.localize?!0:a.localize;Da.call(this,a)};m["com.workinman.display.text.TextLocalized"]=P;P.__name__=["com","workinman","display",
"text","TextLocalized"];P.__super__=Da;P.prototype=y(Da.prototype,{swapTextToDisplay:function(a){this._textString=a;this._renderTextToDisplay()},get_doLocalize:function(){return this._flagLocalize},set_doLocalize:function(a){a!=this._flagLocalize&&(this._flagLocalize=a,this._renderTextToDisplay());return this.get_doLocalize()},_renderTextToDisplay:function(){if(this._flagLocalize){var a=k.get_instance().get_localize().getLocalizeData(this._textString);this.offsetX=a.get_offsetX();this.offsetY=a.get_offsetY();
this.set_scale(a.get_scale());a.get_fontName()!=this._textDisplay._font.name&&this._textDisplay.set_font(k.get_instance().get_assets().getFont(a.get_fontName(),!0));this._textDisplay.set_text(a.get_string());this.height=this._textDisplay.getNaturalHeight();this.render()}else Da.prototype._renderTextToDisplay.call(this)},__class__:P,__properties__:y(Da.prototype.__properties__,{set_doLocalize:"set_doLocalize",get_doLocalize:"get_doLocalize"})});var ia=m["com.workinman.display.ui._ButtonBase.ButtonState"]=
{__ename__:"com,workinman,display,ui,_ButtonBase,ButtonState".split(","),__constructs__:["_STATE_UP","_STATE_DOWN","_STATE_OVER","_STATE_CLICK"]};ia._STATE_UP=["_STATE_UP",0];ia._STATE_UP.toString=f;ia._STATE_UP.__enum__=ia;ia._STATE_DOWN=["_STATE_DOWN",1];ia._STATE_DOWN.toString=f;ia._STATE_DOWN.__enum__=ia;ia._STATE_OVER=["_STATE_OVER",2];ia._STATE_OVER.toString=f;ia._STATE_OVER.__enum__=ia;ia._STATE_CLICK=["_STATE_CLICK",3];ia._STATE_CLICK.toString=f;ia._STATE_CLICK.__enum__=ia;ia.__empty_constructs__=
[ia._STATE_UP,ia._STATE_DOWN,ia._STATE_OVER,ia._STATE_CLICK];var Me=function(a,b,c){this._screenId=a;this._changeEvent=b;this._action=c};m["com.workinman.display.ui.ChangeActionData"]=Me;Me.__name__=["com","workinman","display","ui","ChangeActionData"];Me.prototype={get_screenId:function(){return this._screenId},get_changeEvent:function(){return this._changeEvent},get_action:function(){return this._action},__class__:Me,__properties__:{get_action:"get_action",get_changeEvent:"get_changeEvent",get_screenId:"get_screenId"}};
var W=m["com.workinman.display.ui.SCREEN_STATE"]={__ename__:["com","workinman","display","ui","SCREEN_STATE"],__constructs__:["IN","OUT","OPENED","SUSPENDED"]};W.IN=["IN",0];W.IN.toString=f;W.IN.__enum__=W;W.OUT=["OUT",1];W.OUT.toString=f;W.OUT.__enum__=W;W.OPENED=["OPENED",2];W.OPENED.toString=f;W.OPENED.__enum__=W;W.SUSPENDED=["SUSPENDED",3];W.SUSPENDED.toString=f;W.SUSPENDED.__enum__=W;W.__empty_constructs__=[W.IN,W.OUT,W.OPENED,W.SUSPENDED];var Le=function(a){this.screenDur=0;this._layer=new ga;
a.addChild(this._layer);this._isPaused=!1;this._screenData=new ob;this._screenOpen=new ob;this._screenRemoval=[]};m["com.workinman.display.ui.ScreenManager"]=Le;Le.__name__=["com","workinman","display","ui","ScreenManager"];Le.prototype={set_interfaceDelegate:function(a){return this._interfaceDelegate=a},addScreen:function(a,b){this._screenData.set(a,b);b},closeScreen:function(a,b){null==b&&(b=!0);if(!1!=this._screenOpen.exists(a)){this._screenOpen.get(a).close(b);for(var c=this._screenOpen.iterator();c.hasNext();){var d=
c.next();d.id!=a&&(this.currentScreen=d.id)}this.screenDur=0;this._dispatchEventChange(sa.CLOSE_BEGIN,a)}},openScreen:function(a){if(this._hasScreenData(a))if(this.isScreenOpen(a)){var b=this._screenOpen.get(a);b.root.parent.addChild(b.root);this._dispatchEventChange(sa.OPEN_BEGIN,a);this._dispatchEventChange(sa.OPEN_COMPLETE,a)}else b=aa.createInstance(this._screenData.get(a),[a,this._layer]),null!=b&&(b.set_flowDelegate(o(this,this._onEventScreenOutput)),b.open(!0),this._screenOpen.set(a,b),b,this.screenDur=
0,this.currentScreen=b.id,this._dispatchEventChange(sa.OPEN_BEGIN,a))},changeScreenTo:function(a,b){null==b&&(b=!1);for(var c=this._screenOpen.keys();c.hasNext();){var d=c.next();d!=a&&this._screenOpen.get(d).close(b)}this.openScreen(a)},getScreen:function(a){return!1==this._screenOpen.exists(a)?null:this._screenOpen.get(a)},update:function(a){if(!this._isPaused){this.screenDur+=a;for(var b=this._screenOpen.iterator();b.hasNext();){var c=b.next();c.update(a);c.flagDispose&&(this._screenRemoval.push(c.id),
c.dispose())}for(;0<this._screenRemoval.length;)this._screenOpen.remove(this._screenRemoval.pop())}},isScreenOpen:function(a){return this._screenOpen.exists(a)},_onEventScreenOutput:function(a,b){a==ab.OPENED?this._dispatchEventChange(sa.OPEN_COMPLETE,b):a==ab.CLOSED&&this._dispatchEventChange(sa.CLOSE_COMPLETE,b)},_hasScreenData:function(a){return this._screenData.exists(a)},_dispatchEventChange:function(a,b){null!=this._interfaceDelegate&&this._interfaceDelegate(a,b);this.screenDur=0},__class__:Le,
__properties__:{set_interfaceDelegate:"set_interfaceDelegate"}};var qb=function(a,b,c,d,i,e){this.id=a;this.actionOnComplete=c;this.actionData=d;this.inFunc=i;this.outFunc=e};m["com.workinman.display.ui.ScreenStateData"]=qb;qb.__name__=["com","workinman","display","ui","ScreenStateData"];qb.prototype={__class__:qb};var oe=function(a){Yb.call(this,a);this._tween=a.tween;this._id=a.id;this._hasTouch=this._active=!1;this._scratchPoint=new Ca;this.setHitboxSize(this._imageSprite.getNaturalWidth(),this._imageSprite.getNaturalHeight());
this._defaultInit()};m["com.workinman.display.ui.VirtualInput"]=oe;oe.__name__=["com","workinman","display","ui","VirtualInput"];oe.__super__=Yb;oe.prototype=y(Yb.prototype,{dispose:function(){this._id=this._tween=null;this._hitBox.dispose();this._hitBox=null;Yb.prototype.dispose.call(this)},setHitboxSize:function(a,b){if(null==this._hitBox){this._hitBox=new Ja(16711680,8,8);var c=new ga;c.add(this._hitBox);this._imageEntity.addChild(c);this._hitBox.alpha.set__(0)}this._hitBox.scaleX.set__(a/8);this._hitBox.scaleY.set__(b/
8);return this},hitRectContains:function(a,b){this._hitBox.getViewMatrix().inverseTransform(a,b,this._scratchPoint);return 0<=this._scratchPoint.x&&8>=this._scratchPoint.x&&0<=this._scratchPoint.y&&8>=this._scratchPoint.y},update:function(a){Yb.prototype.update.call(this,a);this._hasTouch=!1;for(var b=0,c=k.get_instance().get_input().multiTouch;b<c.length;){var d=c[b];++b;if(d.down&&this.hitRectContains(d.get_currentPos().x,d.get_currentPos().y)){this._hasTouch=!0;break}}if(this._hasTouch&&!1==this._active)k.get_instance().get_input().onVirtualDown(this._id);
else if(!1==this._hasTouch&&this._active)k.get_instance().get_input().onVirtualUp(this._id);this._defaultBehavior(a);this._active=this._hasTouch},_defaultInit:function(){this.alpha=0.5},_defaultBehavior:function(){this._hasTouch&&!1==this._active?this._tween.tween(this,0.1,{alpha:0.9},!0,null,0,"ralpha"):!1==this._hasTouch&&this._active&&this._tween.tween(this,0.1,{alpha:0.5},!0,null,0,"ralpha")},__class__:oe});var R=function(){};m["com.workinman.events.WMEvent"]=R;R.__name__=["com","workinman","events",
"WMEvent"];R.__interfaces__=[hb];R.request=function(a,b){return k.get_instance().get_pool().requestObject("WMEvent",R).init(a,b)};R.__super__=Q;R.prototype=y(Q.prototype,{init:function(a,b){this._eventId=a;this._data=b;return this},dispose:function(){this._data=null;Q.prototype.dispose.call(this)},destroy:function(){this._data=null;Q.prototype.destroy.call(this)},get_eventId:function(){return this._eventId},get_data:function(){return this._data},__class__:R,__properties__:y(Q.prototype.__properties__,
{get_data:"get_data",get_eventId:"get_eventId"})});var Wb=function(){};m["com.workinman.events.WMEventDispatcher"]=Wb;Wb.__name__=["com","workinman","events","WMEventDispatcher"];Wb.__interfaces__=[hb];Wb.request=function(){return k.get_instance().get_pool().requestObject("WMEventDispatcher",Wb)};Wb.__super__=Q;Wb.prototype=y(Q.prototype,{create:function(){this._eventTrackers=new ob},dispose:function(){for(var a=this._eventTrackers.iterator();a.hasNext();)a.next().dispose();Ka.emptyMap(this._eventTrackers);
Q.prototype.dispose.call(this)},destroy:function(){this._eventTrackers=null;Q.prototype.destroy.call(this)},addEventListener:function(a,b){if(!this._eventTrackers.exists(a)){var c=qc.request();this._eventTrackers.set(a,c)}this._eventTrackers.get(a).addEventListener(b)},removeEventListener:function(a,b){this._eventTrackers.exists(a)&&(this._eventTrackers.get(a).removeEventListener(b),this._eventTrackers.get(a).isEmtpy()&&(this._eventTrackers.get(a).dispose(),this._eventTrackers.remove(a)))},dispatchEvent:function(a){(function(b){var c=
a.get_eventId();return b._eventTrackers.exists(c)})(this)&&function(b){var c=a.get_eventId();return b._eventTrackers.get(c)}(this).dispatchEvent(a);a.dispose()},__class__:Wb});var qc=function(){};m["com.workinman.events._WMEventDispatcher.WMEventTracker"]=qc;qc.__name__=["com","workinman","events","_WMEventDispatcher","WMEventTracker"];qc.__interfaces__=[hb];qc.request=function(){return k.get_instance().get_pool().requestObject("WMEventTracker",qc)};qc.__super__=Q;qc.prototype=y(Q.prototype,{create:function(){this._listeners=
[]},dispose:function(){for(;0<this._listeners.length;)this._listeners.pop();Q.prototype.dispose.call(this)},destroy:function(){this._listeners=null;Q.prototype.destroy.call(this)},addEventListener:function(a){for(var b=0,c=this._listeners;b<c.length;){var d=c[b];++b;if(t.compareMethods(d,a))return}this._listeners.push(a)},removeEventListener:function(a){for(var b=this._listeners.length;0<b--;)t.compareMethods(this._listeners[b],a)&&this._listeners.splice(b,1)},dispatchEvent:function(a){for(var b=
0,c=this._listeners;b<c.length;){var d=c[b];++b;d(a)}},isEmtpy:function(){return 1>this._listeners.length},__class__:qc});var pe=function(a,b){this._success=a;this._result=Z.request();this._line1=vb.request();this._line2=vb.request();null!=b&&this._result.toPoint(b)};m["com.workinman.math.InterceptResult"]=pe;pe.__name__=["com","workinman","math","InterceptResult"];pe.prototype={set_success:function(a){return this._success=a},set_result:function(a){null==a?this._result.to(0,0):this._result.toPoint(a);
return this._result},__class__:pe,__properties__:{set_result:"set_result",set_success:"set_success"}};var of=function(a,b,c){this._worldRoot=a;this.worldCenterX=b;this.worldCenterY=c;this.focalLength=300;this.set_rotation(0);this.pos=Z.request();this._scratchPoint=new Ca};m["com.workinman.math.WMCamera"]=of;of.__name__=["com","workinman","math","WMCamera"];of.prototype={dispose:function(){this.pos.dispose();this._scratchPoint=this.pos=null},set_rotation:function(a){this.rotation=a;this._worldRoot.rotation.set__(a);
return this.rotation},getWorldPositionOfScreenPoint:function(a,b,c,d){this._worldRoot.getViewMatrix().inverseTransform(a,b,this._scratchPoint);a=1/(this.focalLength/(this.focalLength-(this.pos.z-c)));d.x=this.pos.x+(this.worldCenterX+(this._scratchPoint.x-this.worldCenterX)*a);d.y=this.pos.y+(this.worldCenterY+(this._scratchPoint.y-this.worldCenterY)*a);return d},__class__:of,__properties__:{set_rotation:"set_rotation"}};var vb=function(){};m["com.workinman.math.WMLine"]=vb;vb.__name__=["com","workinman",
"math","WMLine"];vb.__interfaces__=[hb];vb.request=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return k.get_instance().get_pool().requestObject("WMLine",vb).init(a,b,c,d)};vb.__super__=Q;vb.prototype=y(Q.prototype,{init:function(a,b,c,d){this._p0=Z.request();this._p1=Z.request();this._normal=Z.request();this._vector=Z.request();this._parametricDenom=Z.request();this.toFloats(a,b,c,d);this._calcProperties();return this},dispose:function(){this._p0.dispose();this._p0=
null;this._p1.dispose();this._p1=null;this._normal.dispose();this._normal=null;this._vector.dispose();this._vector=null;this._parametricDenom.dispose();this._parametricDenom=null;Q.prototype.dispose.call(this)},get_p0:function(){return this._p0},get_p1:function(){return this._p1},get_slope:function(){return this._slope},get_yIntercept:function(){return this._yIntercept},get_normal:function(){return this._normal},get_vector:function(){return this._vector},get_center:function(){return Z.request(this._p0.x+
this._vector.x/2,this._p0.y+this._vector.y/2)},get_centerX:function(){return this._p0.x+this._vector.x/2},get_centerY:function(){return this._p0.y+this._vector.y/2},get_parametricDenom:function(){return this._parametricDenom},get_length:function(){return this._length},set_length:function(a){if(0==this.get_length())return this._length;this._p1.to(this._p0.x+this._vector.x*(a/this.get_length()),this._p0.y+this._vector.y*(a/this.get_length()));this._calcProperties();return this._length},recalculate:function(){this._calcProperties()},
getNewPoint:function(a,b){null==b&&(b=Z.request());b.to(this.get_p0().x+this._vector.x*a,this.get_p0().y+this._vector.y*a);return b},equals:function(a){return a.get_p0().equals(this.get_p0())&&a.get_p1().equals(this.get_p1())},flip:function(){var a=this._p0.copy();this._p0.toPoint(this._p1);this._p1.toPoint(a);a.dispose();this._calcProperties()},clean:function(){this._p0.clean();this._p1.clean();this._calcProperties()},copy:function(){return vb.request().to(this._p0,this._p1)},to:function(a,b){this._p0.toPoint(a);
this._p1.toPoint(b);this._calcProperties();return this},toLine:function(a){this._p0.toPoint(a.get_p0());this._p1.toPoint(a.get_p1());this._calcProperties();return this},toFloats:function(a,b,c,d){this._p0.to(a,b);this._p1.to(c,d);this._calcProperties();return this},originTo:function(a,b,c){null==c&&(c=0);this._p0.to(a,b,c);this._calcProperties();return this},originToPoint:function(a){this._p0.toPoint(a);this._calcProperties()},endTo:function(a,b,c){null==c&&(c=0);this._p1.to(a,b,c);this._calcProperties()},
endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},rotate:function(a){this._vector.rotateTo(a);this._p1.to(this._p0.x+this._vector.x,this._p0.y+this._vector.y);this._calcProperties();this._calcProperties()},rotateTo:function(a){this._vector.rotateTo(a);this._p1.to(this._p0.x+this._vector.x,this._p0.y+this._vector.y);this._calcProperties()},shiftOrigin:function(a){var b=this._vector.reverseCopy();b.set_length(a);this._p0.addPoint(b);b.dispose();this._calcProperties()},shiftEnd:function(a){this.set_length(this.get_length()+
a)},_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.x-this._p1.x)*(this._p0.x-this._p1.x)+(this._p0.y-this._p1.y)*(this._p0.y-this._p1.y)))/1E3;this._vector.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._slope=this._vector.y/this._vector.x;0==this.get_vector().x&&(this._slope=1E5);this._yIntercept=this.get_p0().y-this._slope*this.get_p0().x;this._parametricDenom.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._vector.pseudoCross(this._normal);
this._normal.normalize()},testLineDot:function(a){return this._vector.dot(a.get_normal())},projectOntoLine:function(a){var b=a.get_vector().dot(this.get_vector().normalizeCopy());return vb.request().to(a.get_p0(),a.get_p1().addPointCopy(this._normal.copyAndResize(Math.sqrt(a.get_length()*a.get_length()-b*b))))},testLineIntercept:function(a,b){null==b&&(b=new pe(!1));this._inverseDeterminate=1/(-1*this._slope- -1*a.get_slope());b.set_success(!0);var c=Z.request((-1*a.get_yIntercept()- -1*this._yIntercept)*
this._inverseDeterminate,(a.get_slope()*this._yIntercept-this.get_slope()*a.get_yIntercept())*this._inverseDeterminate,0);b.set_result(c);c.dispose();return b},testLineSegmentIntercept:function(a,b,c){var d=-a.get_vector().x*this._vector.y+this._vector.x*a.get_vector().y,i=this.get_p0().x-a.get_p0().x,e=this.get_p0().y-a.get_p0().y,b=(-this._vector.y*i+this._vector.x*e)/d,a=(a.get_vector().x*e-a.get_vector().y*i)/d;null==c&&(c=new pe(!1));c.set_success(!1);0<=b&&1>=b&&0<=a&&1>=a&&(c.set_success(!0),
a=Z.request(this.get_p0().x+a*this._vector.x,this.get_p0().y+a*this._vector.y),c.set_result(a),a.dispose());return c},testPointSegmentIntercept:function(a,b){null==b&&(b=!1);this._xSegmentResult=0==this._parametricDenom.x?0:(a.x-this.get_p0().x)/this._parametricDenom.x;this._ySegmentResult=0==this._parametricDenom.y?0:(a.y-this.get_p0().y)/this._parametricDenom.y;b&&null;return 0<=this._xSegmentResult&&1>=this._xSegmentResult&&0<=this._ySegmentResult&&1>=this._ySegmentResult?!0:!1},toString:function(){return"[WMLine] ("+
this._p0.x+", "+this._p0.y+", "+this._p0.z+") ~> ("+this._p1.x+", "+this._p1.y+", "+this._p1.z+") / Len: "+this._length},__class__:vb,__properties__:y(Q.prototype.__properties__,{set_length:"set_length",get_length:"get_length",get_parametricDenom:"get_parametricDenom",get_centerY:"get_centerY",get_centerX:"get_centerX",get_center:"get_center",get_vector:"get_vector",get_normal:"get_normal",get_yIntercept:"get_yIntercept",get_slope:"get_slope",get_p1:"get_p1",get_p0:"get_p0"})});var Ef=function(){};
m["com.workinman.math.WMMath"]=Ef;Ef.__name__=["com","workinman","math","WMMath"];Ef.clamp=function(a,b,c,d){null==d&&(d=!1);d?a>c?a=b:a<b&&(a=c):a>c?a=c:a<b&&(a=b);return a};var Z=function(){};m["com.workinman.math.WMPoint"]=Z;Z.__name__=["com","workinman","math","WMPoint"];Z.request=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return k.get_instance().get_pool().requestObject("WMPoint",Z).init(a,b,c)};Z.__super__=Q;Z.prototype=y(Q.prototype,{init:function(a,b,c){return this.to(a,
b,c)},get_angle:function(){return 180*Math.atan2(this.y,this.x)/Math.PI},clean:function(){this.x=Math.round(1E3*this.x)/1E3;this.y=Math.round(1E3*this.y)/1E3;this.z=Math.round(1E3*this.z)/1E3;return this},to:function(a,b,c){null==c&&(c=0);this.x=a;this.y=b;this.z=c;this.calculateLength();return this},toPoint:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.calculateLength();return this},add:function(a,b,c){null==c&&(c=0);this.x+=a;this.y+=b;this.z+=c;this.calculateLength();return this},addPoint:function(a){this.x+=
a.x;this.y+=a.y;this.z+=a.z;this.calculateLength();return this},addCopy:function(a,b,c){null==c&&(c=0);return Z.request(this.x+a,this.y+b,this.z+c)},addPointCopy:function(a){return Z.request(this.x+a.x,this.y+a.y,this.z+a.z)},subtract:function(a,b,c){null==c&&(c=0);this.x-=a;this.y-=b;this.z-=c;this.calculateLength();return this},subtractPoint:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.calculateLength();return this},subtractCopy:function(a,b,c){null==c&&(c=0);return Z.request(this.x-a,this.y-
b,this.z-c)},subtractPointCopy:function(a){return Z.request(this.x-a.x,this.y-a.y,this.z-a.z)},multiply:function(a){this.x*=a;this.y*=a;this.z*=a;this.clean();this.calculateLength();return this},multiplyCopy:function(a){return Z.request(this.x*a,this.y*a,this.z*a)},divide:function(a){this.x/=a;this.y/=a;this.z/=a;this.clean();this.calculateLength();return this},divideCopy:function(a){return Z.request(this.x/a,this.y/a,this.z/a)},reverse:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},
copy:function(){return Z.request(this.x,this.y,this.z)},copyAndResize:function(a){return 0==a?Z.request(0,0):this.multiplyCopy(a/this._length)},equals:function(a){return this.x==a.x&&this.y==a.y&&this.z==a.z},get_length:function(){return this._length},set_length:function(a){if(0==this._length||0>=a)return this.to(0,0),this._length;this.multiply(a/this._length);return this._length},reverseCopy:function(){return Z.request(-1*this.x,-1*this.y,-1*this.z)},normalize:function(){if(0==this._length)return this;
this.x/=this._length;this.y/=this._length;this.z/=this._length;this.calculateLength();return this},normalizeTo:function(a){this.set_length(a);return this},normalizeCopy:function(){return 0==this._length?Z.request(0,0,0):Z.request(this.x/this._length,this.y/this._length,this.z/this._length)},normalizeCopyTo:function(a){if(0==this._length)return Z.request(0,0,0);this._workFloat=a/this._length;return Z.request(this.x*this._workFloat,this.y*this._workFloat,this.z*this._workFloat)},pseudoCross:function(a){a.to(this.y,
-this.x,this.z);return this},calculateLength:function(){this._length=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return this},rotate:function(a){a*=Math.PI/180;this._workFloat=this.x*Math.cos(a)-this.y*Math.sin(a);this.y=this.y*Math.cos(a)+this.x*Math.sin(a);this.x=this._workFloat;return this},rotateTo:function(a){this.rotate(a-this.get_angle());return this},getAngleBetween:function(a){return 0==a.get_length()||0==this.get_length()?0:180/Math.PI*Math.acos((a.x*this.x+a.y*this.y)/(a.get_length()*
this.get_length()))},rotateCopy:function(a){var b=Math.cos(a*Math.PI/180),a=Math.sin(a*Math.PI/180);return Z.request(this.x*b-this.y*a,this.x*a-this.y*b)},get_normalizedMagnitude:function(){var a=this.normalizeCopy(),b=Math.sqrt(a.x*a.x+a.y*a.y);a.dispose();return b},toString:function(){return"{x:"+(this.x|0)+",y:"+(this.y|0)+"}"},dot:function(a){return this.x*a.x+this.y*a.y},__class__:Z,__properties__:y(Q.prototype.__properties__,{get_normalizedMagnitude:"get_normalizedMagnitude",set_length:"set_length",
get_length:"get_length",get_angle:"get_angle"})});var Ma=m["com.workinman.math.Side"]={__ename__:["com","workinman","math","Side"],__constructs__:["TOP","RIGHT","BOTTOM","LEFT"]};Ma.TOP=["TOP",0];Ma.TOP.toString=f;Ma.TOP.__enum__=Ma;Ma.RIGHT=["RIGHT",1];Ma.RIGHT.toString=f;Ma.RIGHT.__enum__=Ma;Ma.BOTTOM=["BOTTOM",2];Ma.BOTTOM.toString=f;Ma.BOTTOM.__enum__=Ma;Ma.LEFT=["LEFT",3];Ma.LEFT.toString=f;Ma.LEFT.__enum__=Ma;Ma.__empty_constructs__=[Ma.TOP,Ma.RIGHT,Ma.BOTTOM,Ma.LEFT];var Va=function(){};m["com.workinman.math.WMRectangle"]=
Va;Va.__name__=["com","workinman","math","WMRectangle"];Va.__interfaces__=[hb];Va.request=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return k.get_instance().get_pool().requestObject("WMRectangle",Va).init(a,b,c,d)};Va.fromRectangle=function(a){return Va.request(a.x,a.y,a.width,a.height)};Va.__super__=Q;Va.prototype=y(Q.prototype,{create:function(){this._workLine=null},init:function(a,b,c,d){this._x=a;this._y=b;this._width=c;this._height=d;return this},dispose:function(){null!=
this._workLine&&this._workLine.dispose();this._workLine=null;Q.prototype.dispose.call(this)},_getWorkLine:function(){null==this._workLine&&(this._workLine=vb.request());return this._workLine},get_x:function(){return this._x},set_x:function(a){return this._x=a},get_y:function(){return this._y},set_y:function(a){return this._y=a},get_top:function(){return this._y},set_top:function(a){return this._y=a},get_left:function(){return this._x},set_left:function(a){return this._x=a},get_width:function(){return this._width},
set_width:function(a){return this._width=a},get_height:function(){return this._height},set_height:function(a){return this._height=a},get_bottom:function(){return this._y+this._height},set_bottom:function(a){this._y=a-this._height;return this.get_bottom()},get_right:function(){return this._x+this._width},set_right:function(a){this._x=a-this._width;return this.get_right()},get_centerX:function(){return this._x+this._width/2},set_centerX:function(a){this._x=a-this._width/2;return this.get_centerX()},
get_centerY:function(){return this._y+this._height/2},set_centerY:function(a){this._y=a-this._height/2;return this.get_centerY()},copy:function(){return Va.request(this._x,this._y,this._width,this._height)},contains:function(a,b){return a<this.get_left()||a>this.get_right()||b>this.get_bottom()||b<this.get_top()?!1:!0},toXY:function(a,b){this.set_x(a);this.set_y(b)},toWH:function(a,b){this.set_width(a);this.set_height(b)},toXYWH:function(a,b,c,d){this.toXY(a,b);this.toWH(c,d)},containsPoint:function(a){return this.contains(a.x,
a.y)},intersects:function(a){return this.get_left()<a.get_right()&&this.get_right()>a.get_left()&&this.get_top()<a.get_bottom()&&this.get_bottom()>a.get_top()},intersection:function(a){var b=Va.request();if(this.intersects(a)){b.set_x(this.get_left()>a.get_left()?this.get_left():a.get_left());b.set_y(this.get_top()>a.get_top()?this.get_top():a.get_top());var c;c=this.get_right()<a.get_right()?this.get_right():a.get_right();a=this.get_bottom()<a.get_bottom()?this.get_bottom():a.get_bottom();b.set_width(c-
b.get_x());b.set_height(a-b.get_y())}return b},_setSideLine:function(a){this._getWorkLine();switch(a[1]){case 0:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_right(),this.get_top());break;case 1:this._workLine.toFloats(this.get_right(),this.get_top(),this.get_right(),this.get_bottom());break;case 2:this._workLine.toFloats(this.get_left(),this.get_bottom(),this.get_right(),this.get_bottom());break;case 3:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_left(),this.get_bottom())}},
sideLineIntercept:function(a,b,c){null==this._workLine?(this._setSideLine(b),null):this._setSideLine(b);return this._workLine.testLineSegmentIntercept(a,!1,c)},toString:function(){return"{ WMRectangle x: "+this._x+" y: "+this._y+" width: "+this._width+" height: "+this._height+" }"},__class__:Va,__properties__:y(Q.prototype.__properties__,{set_centerY:"set_centerY",get_centerY:"get_centerY",set_centerX:"set_centerX",get_centerX:"get_centerX",set_right:"set_right",get_right:"get_right",set_bottom:"set_bottom",
get_bottom:"get_bottom",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_left:"set_left",get_left:"get_left",set_top:"set_top",get_top:"get_top",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var Se=function(){this._sessions=new I;this._randomSeeds=new I};m["com.workinman.math.random.WMRandom"]=Se;Se.__name__=["com","workinman","math","random","WMRandom"];Se.prototype={random:function(a){null==a&&(a="");return""==a||null==this._randomSeeds.get(a)?
Math.random():this._randomSeeds.get(a).random()},getRandomFloat:function(a,b,c){null==c&&(c="");return a+this.random(c)*(b-a)},getRandomInt:function(a,b,c){null==c&&(c="");return Math.floor(this.getRandomFloat(a,b+1,c))},__class__:Se};var Dg=function(){};m["com.workinman.math.random.WeightTracker"]=Dg;Dg.__name__=["com","workinman","math","random","WeightTracker"];var qg=function(){};m["com.workinman.math.random.WMSeededRandom"]=qg;qg.__name__=["com","workinman","math","random","WMSeededRandom"];
qg.prototype={get_seed:function(){return this._seed},set_seed:function(a){this._seed=a;return this.get_seed()},_randomInt:function(){return this.set_seed(16807*this.get_seed()%2147483647)&1073741823},random:function(){return this._randomInt()/1073741823},__class__:qg,__properties__:{set_seed:"set_seed",get_seed:"get_seed"}};var p=m["com.workinman.math.tween.EASE"]={__ename__:["com","workinman","math","tween","EASE"],__constructs__:"IN,QUAD_IN,OUT,QUAD_OUT,EASE_IN_OUT,QUAD,LINEAR,EXPO,EXPO_IN,EXPO_OUT,ELASTIC,ELASTIC_IN,ELASTIC_OUT,BUMP,BUMP_IN,BUMP_OUT,BOUNCE,BOUNCE_IN,BOUNCE_OUT,CUBIC,CUBIC_IN,CUBIC_OUT,SPACE,SPACE_IN,SPACE_OUT,BLAST,BLAST_IN,BLAST_OUT,WAVE,WAVE_IN,WAVE_OUT,CIRCLE,CIRCLE_IN,CIRCLE_OUT".split(",")};
p.IN=["IN",0];p.IN.toString=f;p.IN.__enum__=p;p.QUAD_IN=["QUAD_IN",1];p.QUAD_IN.toString=f;p.QUAD_IN.__enum__=p;p.OUT=["OUT",2];p.OUT.toString=f;p.OUT.__enum__=p;p.QUAD_OUT=["QUAD_OUT",3];p.QUAD_OUT.toString=f;p.QUAD_OUT.__enum__=p;p.EASE_IN_OUT=["EASE_IN_OUT",4];p.EASE_IN_OUT.toString=f;p.EASE_IN_OUT.__enum__=p;p.QUAD=["QUAD",5];p.QUAD.toString=f;p.QUAD.__enum__=p;p.LINEAR=["LINEAR",6];p.LINEAR.toString=f;p.LINEAR.__enum__=p;p.EXPO=["EXPO",7];p.EXPO.toString=f;p.EXPO.__enum__=p;p.EXPO_IN=["EXPO_IN",
8];p.EXPO_IN.toString=f;p.EXPO_IN.__enum__=p;p.EXPO_OUT=["EXPO_OUT",9];p.EXPO_OUT.toString=f;p.EXPO_OUT.__enum__=p;p.ELASTIC=["ELASTIC",10];p.ELASTIC.toString=f;p.ELASTIC.__enum__=p;p.ELASTIC_IN=["ELASTIC_IN",11];p.ELASTIC_IN.toString=f;p.ELASTIC_IN.__enum__=p;p.ELASTIC_OUT=["ELASTIC_OUT",12];p.ELASTIC_OUT.toString=f;p.ELASTIC_OUT.__enum__=p;p.BUMP=["BUMP",13];p.BUMP.toString=f;p.BUMP.__enum__=p;p.BUMP_IN=["BUMP_IN",14];p.BUMP_IN.toString=f;p.BUMP_IN.__enum__=p;p.BUMP_OUT=["BUMP_OUT",15];p.BUMP_OUT.toString=
f;p.BUMP_OUT.__enum__=p;p.BOUNCE=["BOUNCE",16];p.BOUNCE.toString=f;p.BOUNCE.__enum__=p;p.BOUNCE_IN=["BOUNCE_IN",17];p.BOUNCE_IN.toString=f;p.BOUNCE_IN.__enum__=p;p.BOUNCE_OUT=["BOUNCE_OUT",18];p.BOUNCE_OUT.toString=f;p.BOUNCE_OUT.__enum__=p;p.CUBIC=["CUBIC",19];p.CUBIC.toString=f;p.CUBIC.__enum__=p;p.CUBIC_IN=["CUBIC_IN",20];p.CUBIC_IN.toString=f;p.CUBIC_IN.__enum__=p;p.CUBIC_OUT=["CUBIC_OUT",21];p.CUBIC_OUT.toString=f;p.CUBIC_OUT.__enum__=p;p.SPACE=["SPACE",22];p.SPACE.toString=f;p.SPACE.__enum__=
p;p.SPACE_IN=["SPACE_IN",23];p.SPACE_IN.toString=f;p.SPACE_IN.__enum__=p;p.SPACE_OUT=["SPACE_OUT",24];p.SPACE_OUT.toString=f;p.SPACE_OUT.__enum__=p;p.BLAST=["BLAST",25];p.BLAST.toString=f;p.BLAST.__enum__=p;p.BLAST_IN=["BLAST_IN",26];p.BLAST_IN.toString=f;p.BLAST_IN.__enum__=p;p.BLAST_OUT=["BLAST_OUT",27];p.BLAST_OUT.toString=f;p.BLAST_OUT.__enum__=p;p.WAVE=["WAVE",28];p.WAVE.toString=f;p.WAVE.__enum__=p;p.WAVE_IN=["WAVE_IN",29];p.WAVE_IN.toString=f;p.WAVE_IN.__enum__=p;p.WAVE_OUT=["WAVE_OUT",30];
p.WAVE_OUT.toString=f;p.WAVE_OUT.__enum__=p;p.CIRCLE=["CIRCLE",31];p.CIRCLE.toString=f;p.CIRCLE.__enum__=p;p.CIRCLE_IN=["CIRCLE_IN",32];p.CIRCLE_IN.toString=f;p.CIRCLE_IN.__enum__=p;p.CIRCLE_OUT=["CIRCLE_OUT",33];p.CIRCLE_OUT.toString=f;p.CIRCLE_OUT.__enum__=p;p.__empty_constructs__=[p.IN,p.QUAD_IN,p.OUT,p.QUAD_OUT,p.EASE_IN_OUT,p.QUAD,p.LINEAR,p.EXPO,p.EXPO_IN,p.EXPO_OUT,p.ELASTIC,p.ELASTIC_IN,p.ELASTIC_OUT,p.BUMP,p.BUMP_IN,p.BUMP_OUT,p.BOUNCE,p.BOUNCE_IN,p.BOUNCE_OUT,p.CUBIC,p.CUBIC_IN,p.CUBIC_OUT,
p.SPACE,p.SPACE_IN,p.SPACE_OUT,p.BLAST,p.BLAST_IN,p.BLAST_OUT,p.WAVE,p.WAVE_IN,p.WAVE_OUT,p.CIRCLE,p.CIRCLE_IN,p.CIRCLE_OUT];var x=function(){};m["com.workinman.math.tween.PennerManager"]=x;x.__name__=["com","workinman","math","tween","PennerManager"];x.getEaseFunction=function(a){switch(a[1]){case 0:case 1:return x._tweenEaseIn;case 2:case 3:return x._tweenEaseOut;case 4:case 5:return x._tweenEaseBoth;case 7:return x._tweenExpoBoth;case 8:return x._tweenExpoIn;case 9:return x._tweenExpoOut;case 10:return x._tweenElasticBoth;
case 11:return x._tweenElasticIn;case 12:return x._tweenElasticOut;case 13:return x._tweenBumpBoth;case 14:return x._tweenBumpIn;case 15:return x._tweenBumpBoth;case 16:return x._tweenBounceBoth;case 17:return x._tweenBounceIn;case 18:return x._tweenBounceOut;case 19:return x._tweenCubicBoth;case 20:return x._tweenCubicIn;case 21:return x._tweenCubicOut;case 22:return x._tweenSpaceBoth;case 23:return x._tweenSpaceIn;case 24:return x._tweenSpaceOut;case 25:return x._tweenBlastBoth;case 26:return x._tweenBlastIn;
case 27:return x._tweenBlastOut;case 28:return x._tweenWaveBoth;case 29:return x._tweenWaveIn;case 30:return x._tweenWaveOut;case 31:return x._tweenCircleBoth;case 32:return x._tweenCircleIn;case 33:return x._tweenCircleOut;case 6:return x._tweenLinear}};x._tweenLinear=function(a,b,c,d){return a+c/d*b};x._tweenEaseBoth=function(a,b,c,d){return x._easeInOutQuad(c,a,b,d)};x._tweenEaseIn=function(a,b,c,d){return x._easeInQuad(c,a,b,d)};x._tweenEaseOut=function(a,b,c,d){return x._easeOutQuad(c,a,b,d)};
x._tweenExpoBoth=function(a,b,c,d){return x._easeInOutExpo(c,a,b,d)};x._tweenExpoIn=function(a,b,c,d){return x._easeInExpo(c,a,b,d)};x._tweenExpoOut=function(a,b,c,d){return x._easeOutExpo(c,a,b,d)};x._tweenElasticBoth=function(a,b,c,d){return x._easeInOutElastic(c,a,b,d)};x._tweenElasticIn=function(a,b,c,d){return x._easeInElastic(c,a,b,d)};x._tweenElasticOut=function(a,b,c,d){return x._easeOutElastic(c,a,b,d)};x._tweenBumpBoth=function(a,b,c,d){return x._easeInOutBack(c,a,b,d)};x._tweenBumpIn=function(a,
b,c,d){return x._easeInBack(c,a,b,d)};x._tweenBounceBoth=function(a,b,c,d){return x._easeInOutBounce(c,a,b,d)};x._tweenBounceIn=function(a,b,c,d){return x._easeInBounce(c,a,b,d)};x._tweenBounceOut=function(a,b,c,d){return x._easeOutBounce(c,a,b,d)};x._tweenCubicBoth=function(a,b,c,d){return x._easeInOutCubic(c,a,b,d)};x._tweenCubicIn=function(a,b,c,d){return x._easeInCubic(c,a,b,d)};x._tweenCubicOut=function(a,b,c,d){return x._easeOutCubic(c,a,b,d)};x._tweenSpaceBoth=function(a,b,c,d){return x._easeInOutQuart(c,
a,b,d)};x._tweenSpaceIn=function(a,b,c,d){return x._easeInQuart(c,a,b,d)};x._tweenSpaceOut=function(a,b,c,d){return x._easeOutQuart(c,a,b,d)};x._tweenBlastBoth=function(a,b,c,d){return x._easeInOutQuint(c,a,b,d)};x._tweenBlastIn=function(a,b,c,d){return x._easeInQuint(c,a,b,d)};x._tweenBlastOut=function(a,b,c,d){return x._easeOutQuint(c,a,b,d)};x._tweenWaveBoth=function(a,b,c,d){return x._easeInOutSine(c,a,b,d)};x._tweenWaveIn=function(a,b,c,d){return x._easeInSine(c,a,b,d)};x._tweenWaveOut=function(a,
b,c,d){return x._easeOutSine(c,a,b,d)};x._tweenCircleBoth=function(a,b,c,d){return x._easeInOutCirc(c,a,b,d)};x._tweenCircleIn=function(a,b,c,d){return x._easeInCirc(c,a,b,d)};x._tweenCircleOut=function(a,b,c,d){return x._easeOutCirc(c,a,b,d)};x._easeInQuad=function(a,b,c,d){return c*(a/=d)*a+b};x._easeOutQuad=function(a,b,c,d){return-c*(a/=d)*(a-2)+b};x._easeInOutQuad=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b};x._easeInExpo=function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*
(a/d-1))+b};x._easeOutExpo=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b};x._easeInOutExpo=function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b};x._easeInElastic=function(a,b,c,d){return x._easeInElasticL(a,b,c,d)};x._easeInElasticL=function(a,b,c,d,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);if(0==a)return b;if(1==(a/=d))return b+c;-0.123456==f&&(f=0.3*d);-0.123456==e||e<Math.abs(c)?(e=c,c=f/4):c=f/(2*Math.PI)*Math.asin(c/
e);return-(e*Math.pow(2,10*(a-=1))*Math.sin((a*d-c)*2*Math.PI/f))+b};x._easeOutElastic=function(a,b,c,d){return x._easeOutElasticL(a,b,c,d)};x._easeOutElasticL=function(a,b,c,d,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);var g;if(0==a)return b;if(1==(a/=d))return b+c;-0.123456==f&&(f=0.3*d);-0.123456==e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e);return e*Math.pow(2,-10*a)*Math.sin((a*d-g)*2*Math.PI/f)+c+b};x._easeInOutElastic=function(a,b,c,d){return x._easeInOutElasticL(a,b,
c,d)};x._easeInOutElasticL=function(a,b,c,d,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);var g;if(0==a)return b;if(2==(a/=d/2))return b+c;-0.123456==f&&(f=0.44999999999999996*d);-0.123456==e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e);return 1>a?-0.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+b:0.5*e*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+c+b};x._easeInBack=function(a,b,c,d){return x._easeInBackL(a,b,c,d)};x._easeInBackL=function(a,b,c,d,e){null==e&&(e=
-0.123456);-0.123456==e&&(e=1.70158);return c*(a/=d)*a*((e+1)*a-e)+b};x._easeInOutBack=function(a,b,c,d){return x._easeInOutBackL(a,b,c,d)};x._easeInOutBackL=function(a,b,c,d,e){null==e&&(e=-0.123456);-0.123456==e&&(e=1.70158);return 1>(a/=d/2)?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b};x._easeOutBounce=function(a,b,c,d){return 0.36363636363636365>(a/=d)?c*7.5625*a*a+b:0.7272727272727273>a?c*(7.5625*(a-=0.5454545454545454)*a+0.75)+b:0.9090909090909091>a?c*(7.5625*(a-=
0.8181818181818182)*a+0.9375)+b:c*(7.5625*(a-=0.9545454545454546)*a+0.984375)+b};x._easeInBounce=function(a,b,c,d){return c-x._easeOutBounce(d-a,0,c,d)+b};x._easeInOutBounce=function(a,b,c,d){return a<d/2?0.5*x._easeInBounce(2*a,0,c,d)+b:0.5*x._easeOutBounce(2*a-d,0,c,d)+0.5*c+b};x._easeInCubic=function(a,b,c,d){return c*(a/=d)*a*a+b};x._easeOutCubic=function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b};x._easeInOutCubic=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b};x._easeInQuart=
function(a,b,c,d){return c*(a/=d)*a*a*a+b};x._easeOutQuart=function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b};x._easeInOutQuart=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b};x._easeInQuint=function(a,b,c,d){return c*(a/=d)*a*a*a*a+b};x._easeOutQuint=function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b};x._easeInOutQuint=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b};x._easeInSine=function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b};x._easeOutSine=
function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b};x._easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b};x._easeInCirc=function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b};x._easeOutCirc=function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b};x._easeInOutCirc=function(a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b};var U=m["com.workinman.math.tween.TWEEN_DIR"]={__ename__:["com","workinman","math","tween","TWEEN_DIR"],__constructs__:"TOP,TOP_RIGHT,RIGHT,BOTTOM_RIGHT,BOTTOM,BOTTOM_LEFT,LEFT,TOP_LEFT".split(",")};
U.TOP=["TOP",0];U.TOP.toString=f;U.TOP.__enum__=U;U.TOP_RIGHT=["TOP_RIGHT",1];U.TOP_RIGHT.toString=f;U.TOP_RIGHT.__enum__=U;U.RIGHT=["RIGHT",2];U.RIGHT.toString=f;U.RIGHT.__enum__=U;U.BOTTOM_RIGHT=["BOTTOM_RIGHT",3];U.BOTTOM_RIGHT.toString=f;U.BOTTOM_RIGHT.__enum__=U;U.BOTTOM=["BOTTOM",4];U.BOTTOM.toString=f;U.BOTTOM.__enum__=U;U.BOTTOM_LEFT=["BOTTOM_LEFT",5];U.BOTTOM_LEFT.toString=f;U.BOTTOM_LEFT.__enum__=U;U.LEFT=["LEFT",6];U.LEFT.toString=f;U.LEFT.__enum__=U;U.TOP_LEFT=["TOP_LEFT",7];U.TOP_LEFT.toString=
f;U.TOP_LEFT.__enum__=U;U.__empty_constructs__=[U.TOP,U.TOP_RIGHT,U.RIGHT,U.BOTTOM_RIGHT,U.BOTTOM,U.BOTTOM_LEFT,U.LEFT,U.TOP_LEFT];var rc=function(){};m["com.workinman.math.tween.WMTweenDef"]=rc;rc.__name__=["com","workinman","math","tween","WMTweenDef"];rc.__interfaces__=[hb];rc.request=function(a,b,c,d,e){return k.get_instance().get_pool().requestObject("WMTweenDef",rc).init(a,b,c,d,e)};rc.__super__=Q;rc.prototype=y(Q.prototype,{create:function(){this._fields=[]},init:function(a,b,c,d,e){this._target=
a;this._duration=b;this._delay=e;a=0;for(b=t.fields(c);a<b.length;)e=b[a],++a,this._fields.push(sc.request(e,t.field(c,e)));this._easeFunction=x.getEaseFunction(null==d?p.LINEAR:d);this._isComplete=!1;this._completionHandler=null;this._progress=0;this._started=!1;return this},dispose:function(){for(;0<this._fields.length;)this._fields.pop().dispose();this._completionHandler=this._easeFunction=this._target=null;Q.prototype.dispose.call(this)},destroy:function(){this._fields=null;Q.prototype.destroy.call(this)},
_start:function(){this._isComplete=!1;this._started=!0;for(var a=0,b=this._fields;a<b.length;){var c=b[a];++a;t.hasField(this._target,c.get_name())?c.set_origin(t.field(this._target,c.get_name())):null!=t.getProperty(this._target,c.get_name())&&c.set_origin(t.getProperty(this._target,c.get_name()))}},update:function(a){if(0<this._delay&&(this._delay-=a,0<this._delay))return;if(null==this._target)this._isComplete=!0;else if(!1==this._started&&this._start(),this._progress+=a,this._progress>this._duration&&
(this._progress=this._duration),this._ratio=Math.floor(1E3*(this._progress/this._duration))/1E3,this._progress>=this._duration){for(var a=0,b=this._fields;a<b.length;){var c=b[a];++a;t.setProperty(this._target,c.get_name(),c.get_dest())}null!=this._completionHandler&&this._completionHandler();this._isComplete=!0}else{a=0;for(b=this._fields;a<b.length;)c=b[a],++a,this._diff=c.get_dest()-c.get_origin(),t.setProperty(this._target,c.get_name(),this._easeFunction(c.get_origin(),this._diff,this._progress,
this._duration))}},get_isComplete:function(){return this._isComplete},set_isComplete:function(a){this._isComplete=a;return this.get_isComplete()},get_ratio:function(){return this._ratio},delay:function(a){this._delay=a;return this},ease:function(a){this._easeFunction=x.getEaseFunction(a);return this},onComplete:function(a){this._completionHandler=a;return this},__class__:rc,__properties__:y(Q.prototype.__properties__,{get_ratio:"get_ratio",set_isComplete:"set_isComplete",get_isComplete:"get_isComplete"})});
var sc=function(){};m["com.workinman.math.tween.FieldStorage"]=sc;sc.__name__=["com","workinman","math","tween","FieldStorage"];sc.__interfaces__=[hb];sc.request=function(a,b){return k.get_instance().get_pool().requestObject("FieldStorage",sc).init(a,b)};sc.__super__=Q;sc.prototype=y(Q.prototype,{init:function(a,b){this._name=a;this._origin=0;this._dest=b;return this},dispose:function(){this._name=null;Q.prototype.dispose.call(this)},get_name:function(){return this._name},get_origin:function(){return this._origin},
set_origin:function(a){return this._origin=a},get_dest:function(){return this._dest},__class__:sc,__properties__:y(Q.prototype.__properties__,{get_dest:"get_dest",set_origin:"set_origin",get_origin:"get_origin",get_name:"get_name"})});var L=function(){};m["com.workinman.math.tween.WMTweenUtils"]=L;L.__name__=["com","workinman","math","tween","WMTweenUtils"];L.__properties__={get__workPoint:"get__workPoint"};L.easeBounceIn=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!0);c&&(a.visible=!0,a.set_scale(0.1),
a.alpha=0);b.tween(a,0.15,{scale:1.1,alpha:1},!0,p.OUT,d);return b.tween(a,0.15,{scale:1},!1,p.IN)};L.easeBounceInScale=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=!0);d&&(a.visible=!0,a.set_scale(0.1),a.alpha=0);b.tween(a,0.15,{scale:c+0.1,alpha:1},!0,p.OUT,e);return b.tween(a,0.15,{scale:c},!1,p.IN)};L.easeBounceOut=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!1);c&&(a.visible=!0,a.set_scale(1),a.alpha=1);b.tween(a,0.15,{scale:1.1},!0,p.OUT,d);return b.tween(a,0.15,{scale:0.1,alpha:0},!1,p.IN)};
L.easeSlideInFromDir=function(a,b,c,d){null==d&&(d=0);L.get__workPoint().toPoint(a.pos);L._modifyWorkPointByDir(c);return L.easeSlideIn(a,b,L.get__workPoint().x,L.get__workPoint().y,d)};L.easeSlideIn=function(a,b,c,d,e){null==e&&(e=0);L.get__workPoint().toPoint(a.pos);a.pos.x=c;a.pos.y=d;a.visible=!0;a.alpha=1;return b.tween(a.pos,0.5,{x:L.get__workPoint().x,y:L.get__workPoint().y},!0,p.OUT,e)};L.easeSlideOutToDir=function(a,b,c,d){null==d&&(d=0);L.get__workPoint().toPoint(a.pos);L._modifyWorkPointByDir(c);
return L.easeSlideOut(a,b,L.get__workPoint().x,L.get__workPoint().y,d)};L.easeSlideOut=function(a,b,c,d,e){null==e&&(e=0);a.visible=!0;a.alpha=1;return b.tween(a.pos,0.5,{x:c,y:d},!0,p.IN,e)};L.get__workPoint=function(){null==L.__workPoint&&(L.__workPoint=Z.request());return L.__workPoint};L._modifyWorkPointByDir=function(a){switch(a[1]){case 3:case 2:case 1:L.get__workPoint().x+=s.STAGE_WIDTH;break;case 5:case 6:case 7:L.get__workPoint().x-=s.STAGE_WIDTH}switch(a[1]){case 7:case 0:case 1:L.get__workPoint().y-=
560;break;case 5:case 4:case 3:L.get__workPoint().y+=560}};var Qa=function(){};m["com.workinman.math.tween.WMTweener"]=Qa;Qa.__name__=["com","workinman","math","tween","WMTweener"];Qa.__interfaces__=[hb];Qa.__properties__={get__nullTarget:"get__nullTarget"};Qa.request=function(){return k.get_instance().get_pool().requestObject("WMTweener",Qa)};Qa.get__nullTarget=function(){null==Qa.__nullTarget&&(Qa.__nullTarget={});return Qa.__nullTarget};Qa.__super__=Q;Qa.prototype=y(Q.prototype,{create:function(){this._targets=
[]},dispose:function(){for(;0<this._targets.length;)this._targets.pop().dispose();Q.prototype.dispose.call(this)},destroy:function(){this._targets=null;Q.prototype.destroy.call(this)},update:function(a){for(var b=this._targets.length;0<b--;)this._targets[b].update(a),this._targets[b].get_isComplete()&&(this._targets[b].dispose(),this._targets.splice(b,1))},hasTween:function(a){for(var b=0,c=this._targets;b<c.length;){var d=c[b];++b;if(d.get_target()==a)return!0}return!1},tween:function(a,b,c,d,e,
f,g){null==g&&(g="def");null==f&&(f=0);null==d&&(d=!1);b=rc.request(a,b,c,e,f);c=0;for(e=this._targets;c<e.length;)if(f=e[c],++c,f.get_target()==a)return d&&f.clearTweens(g),f.addTween(b,g),b;a=Na.request(a);this._targets.push(a);a.addTween(b,g);return b},stop:function(a){for(var b=this._targets.length;0<b--;)if(this._targets[b].get_target()==a){this._targets[b].dispose();this._targets.splice(b,1);break}},stopThread:function(a,b){for(var c=this._targets.length;0<c--;)if(this._targets[c].get_target()==
a){this._targets[c].clearTweens(b);break}},stopAllTweens:function(){for(;0<this._targets.length;)this._targets.pop().dispose()},__class__:Qa});var Na=function(){};m["com.workinman.math.tween.WMTweenTracker"]=Na;Na.__name__=["com","workinman","math","tween","WMTweenTracker"];Na.__interfaces__=[hb];Na.request=function(a){return k.get_instance().get_pool().requestObject("WMTweenTracker",Na).init(a)};Na.__super__=Q;Na.prototype=y(Q.prototype,{create:function(){this._tweens=new I},init:function(a){this._target=
a;this._isComplete=!1;this._threadCount=0;return this},dispose:function(){this.clearAllTweens();this._target=null;Q.prototype.dispose.call(this)},destroy:function(){this._tweens=null;Q.prototype.destroy.call(this)},update:function(a){for(var b=this._tweens.keys();b.hasNext();){var c=b.next();Na._tweenUpdate.push(c)}for(;0<Na._tweenUpdate.length;)this._updateThread(a,Na._tweenUpdate.pop());this._runRemoval();1>this._threadCount&&(this._isComplete=!0,this._dispatchTweensAllComplete(this._target))},
_updateThread:function(a,b){1>this._tweens.get(b).length?Na._tweenRemoval.push(b):(this._tweens.get(b)[0].update(a),this._tweens.get(b)[0].get_isComplete()&&(this._tweens.get(b)[0].dispose(),this._tweens.get(b).splice(0,1),this._updateThread(a,b)))},_dispatchTweensAllComplete:function(a){k.get_instance().get_dispatcher().dispatchEvent(R.request(j.TWEENS_ALL_COMPLETE,function(){var b=new I;b.set("target",a);return b}(this)))},get_target:function(){return this._target},get_isComplete:function(){return this._isComplete},
set_isComplete:function(a){return this._isComplete=a},clearAllTweens:function(){for(var a=this._tweens.keys();a.hasNext();){var b=a.next();Na._tweenUpdate.push(b)}for(;0<Na._tweenUpdate.length;)this.clearTweens(Na._tweenUpdate.pop())},clearTweens:function(a){if(null!=this._tweens.get(a)){for(;0<this._tweens.get(a).length;)this._tweens.get(a).pop().dispose();Na._tweenRemoval.push(a);this._runRemoval()}},_runRemoval:function(){for(;0<Na._tweenRemoval.length;)this._tweens.remove(Na._tweenRemoval.pop()),
this._threadCount--},addTween:function(a,b){if(null==this._tweens.get(b)){this._threadCount++;var c=[];this._tweens.set(b,c);c}this._tweens.get(b).push(a)},__class__:Na,__properties__:y(Q.prototype.__properties__,{set_isComplete:"set_isComplete",get_isComplete:"get_isComplete",get_target:"get_target"})});var Ne=function(){this._caches=new I;this._emptyParams=[]};m["com.workinman.pooling.CacheManager"]=Ne;Ne.__name__=["com","workinman","pooling","CacheManager"];Ne.prototype={dispose:function(){for(var a=
this._caches.iterator();a.hasNext();)a.next().dispose();this._emptyParams=this._caches=null},processFill:function(a){for(var b=this._caches.iterator();b.hasNext();)if(!1==b.next().fillCache(a))return!1;return!0},__class__:Ne};var rg=function(){};m["com.workinman.pooling.ElementCache"]=rg;rg.__name__=["com","workinman","pooling","ElementCache"];rg.prototype={dispose:function(){for(;0<this._cache.length;)this._cache.pop().destroy();this._emptyParams=this._type=this._cache=null},fillCache:function(a){for(var b;this._cache.length<
this._initFill;)if(this._totalFill++,b=aa.createInstance(this._type,this._emptyParams),b.setReturnFunction(o(this,this.returnFunction)),b.dispose(),0<a&&0>=a--)return!1;return!0},returnFunction:function(a){this._cache.push(a)},__class__:rg};var sg=function(){};m["com.workinman.pooling.ICacheableElement"]=sg;sg.__name__=["com","workinman","pooling","ICacheableElement"];sg.prototype={__class__:sg};var Ha=m["com.workinman.pooling.LOG_LEVEL"]={__ename__:["com","workinman","pooling","LOG_LEVEL"],__constructs__:["NONE",
"NO_STACK","NEW_STACK","ALL_STACK"]};Ha.NONE=["NONE",0];Ha.NONE.toString=f;Ha.NONE.__enum__=Ha;Ha.NO_STACK=["NO_STACK",1];Ha.NO_STACK.toString=f;Ha.NO_STACK.__enum__=Ha;Ha.NEW_STACK=["NEW_STACK",2];Ha.NEW_STACK.toString=f;Ha.NEW_STACK.__enum__=Ha;Ha.ALL_STACK=["ALL_STACK",3];Ha.ALL_STACK.toString=f;Ha.ALL_STACK.__enum__=Ha;Ha.__empty_constructs__=[Ha.NONE,Ha.NO_STACK,Ha.NEW_STACK,Ha.ALL_STACK];var Oe=function(){this._pools=new I};m["com.workinman.pooling.PoolStore"]=Oe;Oe.__name__=["com","workinman",
"pooling","PoolStore"];Oe.prototype={_initPool:function(a,b,c,d){null==d&&(d=-1);!0!=this._pools.exists(a)&&(null==c&&(c=Ha.NONE),b=new Jf(b,c,d),this._pools.set(a,b))},requestObject:function(a,b,c,d){null==d&&(d=-1);this._testPool(a,b,c,d);c=this._pools.get(a);this._logCreate(a,c);if(0<c.get_numPooled())a=c.givePool(),a.poolActivate();else{c.incrementCreated();if(0<c.get_cap()&&c.get_created()>c.get_cap())throw"Too many instances of "+C.string(b)+" allocated - currently at "+c.get_created();a=aa.createEmptyInstance(b).instance(a,
o(this,this._returnObject))}return a},_logCreate:function(a,b){switch(b.get_log()[1]){case 1:null;break;case 2:1>b.get_numPooled()&&null;break;case 3:null}},_returnObject:function(a){if(!1!=this._pools.exists(a.get_poolKey())){var b;b=this._pools.get(a.get_poolKey());b.poolObject(a);this._logReturn(a.get_poolKey(),b)}},_logReturn:function(a,b){switch(b.get_log()[1]){case 0:case 2:break;case 3:null;break;default:null}},_testPool:function(a,b,c,d){null==d&&(d=-1);!1==this._pools.exists(a)&&this._initPool(a,
b,c,d)},tracePoolReport:function(){for(var a="\nPool Report:\n\n",b=0,c=this._pools.keys();c.hasNext();){var d=c.next(),a=a+("\t"+d+"\n"),b=this._pools.get(d).get_created()-this._pools.get(d).get_numPooled(),a=a+("\t\tTotal Created: "+this._pools.get(d).get_created()+" \t\tPool: "+this._pools.get(d).get_numPooled()+" \t\t\tLoose: "+b+" \t\t\tChange: "+(b-this._pools.get(d).get_loose()));this._pools.get(d).set_loose(b);a+="\n"}null},__class__:Oe};var Jf=function(a,b,c){this._pool=[];this._class=a;
this._log=b;this._created=this._max=0;this._cap=c;this._loose=0};m["com.workinman.pooling.PoolTracker"]=Jf;Jf.__name__=["com","workinman","pooling","PoolTracker"];Jf.prototype={get_log:function(){return this._log},get_numPooled:function(){return this._pool.length},get_created:function(){return this._created},get_cap:function(){return this._cap},get_loose:function(){return this._loose},set_loose:function(a){this._loose=a;return this.get_loose()},incrementCreated:function(){this._created++},poolObject:function(a){this._pool.push(a);
this._max=sb.max(this._max,this._pool.length)},givePool:function(){return this._pool.pop()},__class__:Jf,__properties__:{set_loose:"set_loose",get_loose:"get_loose",get_cap:"get_cap",get_created:"get_created",get_numPooled:"get_numPooled",get_log:"get_log"}};var Gc=function(a){this.data={version:"-1"};this.id=a};m["com.workinman.saving.WMSharedObject"]=Gc;Gc.__name__=["com","workinman","saving","WMSharedObject"];Gc.getLocal=function(a){var b=new Gc(a);try{var c=window.localStorage.getItem(a);null!=
c&&""!=c&&(b.data=cb.run(c))}catch(d){null}return b};Gc.prototype={dispose:function(){this.id=this.data=null},flush:function(){window.localStorage.setItem(this.id,Fb.run(this.data))},__class__:Gc};var Cb=function(){};m["com.workinman.services.ServiceAnalytics"]=Cb;Cb.__name__=["com","workinman","services","ServiceAnalytics"];Cb.enableCanadaTracking=function(a){Cb._flagCanadaTrackingEnabled=!0;Cb._canadaShowGameTitle=a};Cb.sendCanadaTrackingCall=function(a){if(Cb._flagCanadaTrackingEnabled)try{eval("trackFlashEvent('"+
Cb._canadaShowGameTitle+"', '"+a+"', 'true');")}catch(b){}};var H=function(){};m["com.workinman.services.ServiceDeltaDNA"]=H;H.__name__=["com","workinman","services","ServiceDeltaDNA"];H.init=function(a){"x"==a.toLowerCase()&&(H.OPTION_ENABLE_TRACKING=!1);!1==H.OPTION_ENABLE_TRACKING||H._flagInitted||(H._flagInitted=!0,H._url="http://collect9660ldhsc.deltadna.net/collect/api/"+a,H._platform=Jb.detectPlatform(),a=t.field(t.field(ea,"sdk"),"gameObj"),H._nickSDKVersion=C.string(a.majorversion)+"."+C.string(a.minorversion),
H._sharedObjectId=H._DEFAULT_SHARED_OBJECT_ID,H._sharedObjectData=k.get_instance().sharedObjectGetData(H._sharedObjectId),H._generateOfflineIDs(!0),null==H._sharedObjectData||0==t.fields(H._sharedObjectData).length||!Object.prototype.hasOwnProperty.call(H._sharedObjectData,"a")||!Object.prototype.hasOwnProperty.call(H._sharedObjectData,"ppb")?H._generateOfflineIDs():(H._offlineUserId=H._sharedObjectData.a+H._sharedObjectData.ppb,H._offlineTrackingId=H._sharedObjectData.b+H._sharedObjectData.ppa,null))};
H.sendEvent=function(a){H._flagInitted&&(a.params.clientVersion="0.2",H._sendJsonHttp(H._url,H._setupEventData(a)))};H.sendBulkEvents=function(a){if(H._flagInitted)if(1==a.length)a[0].params.clientVersion="0.2",H._sendJsonHttp(H._url,H._setupEventData(a[0]));else{for(var b={eventList:[]},c=0;c<a.length;){var d=a[c];++c;d.params.clientVersion="0.2";b.eventList.push(H._setupEventData(d))}(new Ec(H._url+"/bulk")).setHeader("Content-Type","application/json").setPostData(JSON.stringify(b)).request(!0)}};
H._setupEventData=function(a){var b={eventName:a.event,userID:H._offlineUserId,sessionID:H._sessionId,eventTimestamp:H._generateTimeStamp(new Date),eventParams:{platform:H._platform,sdkVersion:H._nickSDKVersion}};if(null!=a.params)for(var c=0,d=t.fields(a.params);c<d.length;){var e=d[c];++c;t.setField(b.eventParams,e,t.field(a.params,e))}return b};H._sendJsonHttp=function(a,b){(new Ec(a)).setHeader("Content-Type","application/json").setPostData(JSON.stringify(b)).request(!0)};H.sendGameStarted=function(){H.sendBulkEvents([{event:"gameStarted",
params:{clientVersion:"0.2"}},{event:"clientDevice",params:Jb.detectDeviceInfo()}])};H.sendUIInteraction=function(a,b,c){H.sendEvent({event:"uiInteraction",params:{UILocation:a,UIName:b,timeSpentOnScreen:c,UIType:"Button",UIAction:"Click",clientVersion:"0.2"}})};H._generateOfflineIDs=function(a){null==a&&(a=!1);for(var b="",c=16;-1<c;){if(0.66>Math.random())b+=C.string(Math.floor(10*Math.random()));else switch(Math.floor(10*Math.random())){case 0:b+="a";break;case 1:b+="b";break;case 2:b+="c";break;
case 3:b+="d";break;case 4:b+="e";break;case 5:b+="f";break;case 6:b+="g";break;case 7:b+="h";break;case 8:b+="i";break;case 9:b+="j"}c--}if(a)H._sessionId=b;else{H._offlineUserId=b;H._offlineTrackingId="";for(c=8;-1<c;)H._offlineTrackingId+=C.string(Math.floor(10*Math.random())),c--;8<H._offlineTrackingId.length&&(H._offlineTrackingId=H._offlineTrackingId.substring(0,8));a={a:O.substr(H._offlineUserId,0,8),b:O.substr(H._offlineTrackingId,0,8),ppa:O.substr(H._offlineTrackingId,8,H._offlineTrackingId.length),
ppb:O.substr(H._offlineUserId,8,H._offlineUserId.length)};k.get_instance().sharedObjectSetData(H._sharedObjectId,a);H.sendEvent({event:"newPlayer",params:{}})}null};H._generateTimeStamp=function(a){return C.string(a.getFullYear())+"-"+ca.lpad(C.string(a.getMonth()+1),"0",2)+"-"+ca.lpad(C.string(a.getDate()),"0",2)+" "+ca.lpad(C.string(a.getHours()),"0",2)+":"+ca.lpad(C.string(a.getMinutes()),"0",2)+":"+ca.lpad(C.string(a.getSeconds()),"0",2)};var Jb=function(){};m["com.workinman.services.BrowserData"]=
Jb;Jb.__name__=["com","workinman","services","BrowserData"];Jb.detectPlatform=function(){var a="PIRACY_UNKNOWN",b=window.location.href.toLowerCase(),c=window.navigator.userAgent.toLowerCase(),d=window.document.referrer.toLowerCase();-1!=b.indexOf("t.nick")||-1!=c.indexOf("ipad")||-1!=c.indexOf("tablet")||-1!=c.indexOf("android")&&-1==c.indexOf("mobi")?a="NICKWEB_TABLET":-1!=b.indexOf("m.nick")||-1!=c.indexOf("mobi")?a="NICKWEB_MOBILE":-1!=b.indexOf("www.nick")&&(a="NICKWEB_DESKTOP");if(-1!=c.indexOf("android")&&
-1!=d.indexOf("http://www.ludei.com"))a="ANDROID_APP";else if((-1!=c.indexOf("ipod")||-1!=c.indexOf("iphone")||-1!=c.indexOf("ipad"))&&-1==c.indexOf("safari"))a="IOS_APP";-1==b.indexOf(".nick")&&(a="PIRACY_UNKNOWN");-1!=b.indexOf("nick.com/games/data/")&&(a="PIRACY_UNKNOWN");return a};Jb.detectDeviceInfo=function(){var a={browserName:"UNKNOWN",deviceType:"UNKNOWN",operatingSystem:"UNKNOWN",operatingSystemVersion:"UNKNOWN",hardwareVersion:"UNKNOWN",manufacturer:""};try{var b=(new Kf).getResult(),c=
b.ua.toUpperCase(),d=window.navigator.platform.toUpperCase();a.browserName=b.browser.name;a.deviceType=(new v("TV","i")).match(d)?"TV":(new v("IPAD","i")).match(c)||(new v("ANDROID","i")).match(c)&&-1==c.indexOf("MOBI")?"TABLET":-1!=c.indexOf("MOBI")?"MOBILE_PHONE":"PC";var e=b.os.name;(new v("WINDOWS","i")).match(e)?a.operatingSystem="WINDOWS":(new v("MAC","i")).match(e)?a.operatingSystem="OSX":(new v("ANDROID","i")).match(e)?a.operatingSystem="ANDROID":(new v("IOS","i")).match(e)||(new v("IPHONE",
"i")).match(c)||(new v("IPAD","i")).match(c)||(new v("IPOD","i")).match(c)?a.operatingSystem="IOS":(new v("BLACKBERRY","i")).match(c)?a.operatingSystem="BLACKBERRY":-1!=c.indexOf("LINUX")?a.operatingSystem="LINUX":(new v("\\bSILK\\b","")).match(b.ua)&&(a.operatingSystem="FIREOS");a.operatingSystemVersion=b.os.version;"PC"==a.deviceType&&"OSX"==a.operatingSystem?a.hardwareVersion="MAC":"PC"==a.deviceType?a.hardwareVersion="PC":(a.hardwareVersion=b.device.model,a.manufacturer=b.device.vendor)}catch(f){}if(null==
a.browserName||"null"==a.browserName)a.browserName="";if(null==a.deviceType||"null"==a.deviceType)a.deviceType="";if(null==a.operatingSystem||"null"==a.operatingSystem)a.operatingSystem="";if(null==a.operatingSystemVersion||"null"==a.operatingSystemVersion)a.operatingSystemVersion="";if(null==a.hardwareVersion||"null"==a.hardwareVersion)a.hardwareVersion="";if(null==a.manufacturer||"null"==a.manufacturer)a.manufacturer="";return a};Jb.eval=function(a){return eval(a)};var Kf=function(a){this._setup();
this._ua=null!=a?a:Jb.eval("((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : '')");this.setUA(this._ua)};m["com.workinman.services._ServiceDeltaDNA.UAParser"]=Kf;Kf.__name__=["com","workinman","services","_ServiceDeltaDNA","UAParser"];Kf.prototype={getBrowser:function(){var a=this._mapper_rgx(this.rgxmap.browser);a.major=this.util.major(a.version);return a},getCPU:function(){return this._mapper_rgx(this.rgxmap.cpu)},getDevice:function(){return this._mapper_rgx(this.rgxmap.device)},
getEngine:function(){return this._mapper_rgx(this.rgxmap.engine)},getOS:function(){return this._mapper_rgx(this.rgxmap.os)},getResult:function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},getUA:function(){return this._ua},setUA:function(a){return this._ua=a},_setup:function(){this.util={extend:o(this,this._util_extend),has:o(this,this._util_has),lowerize:o(this,this._util_lowerize),major:o(this,this._util_major)};
this.mapper={rgx:o(this,this._mapper_rgx),str:o(this,this._mapper_str)};this.maps={browser:{oldsafari:{version:{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4",
"NT 10.0"],RT:"ARM"}}}};this.rgxmap={browser:[[new v("(opera\\smini)/([\\w\\.-]+)","i"),new v("(opera\\s[mobiletab]+).+version/([\\w\\.-]+)","i"),new v("(opera).+version/([\\w\\.]+)","i"),new v("(opera)[/\\s]+([\\w\\.]+)","i")],["name","version"],[new v("\\s(opr)/([\\w\\.]+)","i")],[["name","Opera"],"version"],[new v("(kindle)/([\\w\\.]+)","i"),new v("(lunascape|maxthon|netfront|jasmine|blazer)[/\\s]?([\\w\\.]+)*","i"),new v("(avant\\s|iemobile|slim|baidu)(?:browser)?[/\\s]?([\\w\\.]*)","i"),new v("(?:ms|\\()(ie)\\s([\\w\\.]+)",
"i"),new v("(rekonq)/([\\w\\.]+)*","i"),new v("(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium)/([\\w\\.-]+)","i")],["name","version"],[new v("(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko","i")],[["name","IE"],"version"],[new v("(edge)/((\\d+)?[\\w\\.]+)","i")],["name","version"],[new v("(yabrowser)/([\\w\\.]+)","i")],[["name","Yandex"],"version"],[new v("(comodo_dragon)/([\\w\\.]+)","i")],[["name",new v("_","g")," "],"version"],[new v("(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)/v?([\\w\\.]+)",
"i"),new v("(qqbrowser)[/\\s]?([\\w\\.]+)","i")],["name","version"],[new v("(uc\\s?browser)[/\\s]?([\\w\\.]+)","i"),new v("ucweb.+(ucbrowser)[/\\s]?([\\w\\.]+)","i"),new v("JUC.+(ucweb)[/\\s]?([\\w\\.]+)","i")],[["name","UCBrowser"],"version"],[new v("(dolfin)/([\\w\\.]+)","i")],[["name","Dolphin"],"version"],[new v("((?:android.+)crmo|crios)/([\\w\\.]+)","i")],[["name","Chrome"],"version"],[new v("XiaoMi/MiuiBrowser/([\\w\\.]+)","i")],["version",["name","MIUI Browser"]],[new v("android.+version/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)",
"i")],["version",["name","Android Browser"]],[new v("FBAV/([\\w\\.]+);","i")],["version",["name","Facebook"]],[new v("version/([\\w\\.]+).+?mobile/\\w+\\s(safari)","i")],["version",["name","Mobile Safari"]],[new v("version/([\\w\\.]+).+?(mobile\\s?safari|safari)","i")],["version","name"],[new v("webkit.+?(mobile\\s?safari|safari)(/[\\w\\.]+)","i")],["name",["version",this.mapper.str,this.maps.browser.oldsafari.version]],[new v("(konqueror)/([\\w\\.]+)","i"),new v("(webkit|khtml)/([\\w\\.]+)","i")],
["name","version"],[new v("(navigator|netscape)/([\\w\\.-]+)","i")],[["name","Netscape"],"version"],[new v("fxios/([\\w\\.-]+)","i")],["version",["name","Firefox"]],[new v("(swiftfox)","i"),new v("(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[/\\s]?([\\w\\.\\+]+)","i"),new v("(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)/([\\w\\.-]+)","i"),new v("(mozilla)/([\\w\\.]+).+rv:.+gecko/\\d+","i"),new v("(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[/\\s]?([\\w\\.]+)",
"i"),new v("(links)\\s\\(([\\w\\.]+)","i"),new v("(gobrowser)/?([\\w\\.]+)*","i"),new v("(ice\\s?browser)/v?([\\w\\._]+)","i"),new v("(mosaic)[/\\s]([\\w\\.]+)","i")],["name","version"]],cpu:[[new v("(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]","i")],[["architecture","amd64"]],[new v("(ia32(?=;))","i")],[["architecture",this.util.lowerize]],[new v("((?:i[346]|x)86)[;\\)]","i")],[["architecture","ia32"]],[new v("windows\\s(ce|mobile);\\sppc;","i")],[["architecture","arm"]],[new v("((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))",
"i")],[["architecture",new v("ower",""),"",this.util.lowerize]],[new v("(sun4\\w)[;\\)]","i")],[["architecture","sparc"]],[new v("((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+;))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)","i")],[["architecture",this.util.lowerize]]],device:[[new v("\\((ipad|playbook);[\\w\\s\\);-]+(rim|apple)","i")],["model","vendor",["type","tablet"]],[new v("applecoremedia/[\\w\\.]+ \\((ipad)","")],["model",["vendor","Apple"],["type","tablet"]],[new v("(apple\\s{0,1}tv)",
"i")],[["model","Apple TV"],["vendor","Apple"]],[new v("(archos)\\s(gamepad2?)","i"),new v("(hp).+(touchpad)","i"),new v("(kindle)/([\\w\\.]+)","i"),new v("\\s(nook)[\\w\\s]+build/(\\w+)","i"),new v("(dell)\\s(strea[kpr\\s\\d]*[\\dko])","i")],["vendor","model",["type","tablet"]],[new v("(kf[A-z]+)\\sbuild/[\\w\\.]+.*silk/","i")],["model",["vendor","Amazon"],["type","tablet"]],[new v("(sd|kf)[0349hijorstuw]+\\sbuild/[\\w\\.]+.*silk/","i")],[["model",this.mapper.str,this.maps.device.amazon.model],["vendor",
"Amazon"],["type","mobile"]],[new v("\\((ip[honed|\\s\\w*]+);.+(apple)","i")],["model","vendor",["type","mobile"]],[new v("\\((ip[honed|\\s\\w*]+);","i")],["model",["vendor","Apple"],["type","mobile"]],[new v("(blackberry)[\\s-]?(\\w+)","i"),new v("(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\\s_-]?([\\w-]+)*","i"),new v("(hp)\\s([\\w\\s]+\\w)","i"),new v("(asus)-?(\\w+)","i")],["vendor","model",["type","mobile"]],[new v("\\(bb10;\\s(\\w+)","i")],["model",
["vendor","BlackBerry"],["type","mobile"]],[new v("android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7)","i")],["model",["vendor","Asus"],["type","tablet"]],[new v("(sony)\\s(tablet\\s[ps])\\sbuild/","i"),new v("(sony)?(?:sgp.+)\\sbuild/","i")],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[new v("(?:sony)?(?:(?:(?:c|d)\\d{4})|(?:so[-l].+))\\sbuild/","i")],[["vendor","Sony"],["model","Xperia Phone"],["type","mobile"]],[new v("\\s(ouya)\\s","i"),new v("(nintendo)\\s([wids3u]+)",
"i")],["vendor","model",["type","console"]],[new v("android.+;\\s(shield)\\sbuild","i")],["model",["vendor","Nvidia"],["type","console"]],[new v("(playstation\\s[34portablevi]+)","i")],["model",["vendor","Sony"],["type","console"]],[new v("(sprint\\s(\\w+))","i")],[["vendor",this.mapper.str,this.maps.device.sprint.vendor],["model",this.mapper.str,this.maps.device.sprint.model],["type","mobile"]],[new v("(lenovo)\\s?(S(?:5000|6000)+(?:[-][\\w+]))","i")],["vendor","model",["type","tablet"]],[new v("(htc)[;_\\s-]+([\\w\\s]+(?=\\))|\\w+)*",
"i"),new v("(zte)-(\\w+)*","i"),new v("(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]+)*","i")],["vendor",["model",new v("_","g")," "],["type","mobile"]],[new v("(nexus\\s9)","i")],["model",["vendor","HTC"],["type","tablet"]],[new v("[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]","i")],["model",["vendor","Microsoft"],["type","console"]],[new v("(kin\\.[onetw]{3})","i")],[["model",new v("\\.","g")," "],["vendor","Microsoft"],["type","mobile"]],[new v("\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?(:?\\s4g)?)[\\w\\s]+build/",
"i"),new v("mot[\\s-]?(\\w+)*","i"),new v("(XT\\d{3,4}) build/","i"),new v("(nexus\\s[6])","i")],["model",["vendor","Motorola"],["type","mobile"]],[new v("android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild/","i")],["model",["vendor","Motorola"],["type","tablet"]],[new v("android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))","i"),new v("((SM-T\\w+))","i")],[["vendor","Samsung"],"model",["type","tablet"]],[new v("((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-n900))","i"),new v("(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)*",
"i"),new v("sec-((sgh\\w+))","i")],[["vendor","Samsung"],"model",["type","mobile"]],[new v("(samsung);smarttv","i")],["vendor","model",["type","smarttv"]],[new v("\\(dtv[\\);].+(aquos)","i")],["model",["vendor","Sharp"],["type","smarttv"]],[new v("sie-(\\w+)*","i")],["model",["vendor","Siemens"],["type","mobile"]],[new v("(maemo|nokia).*(n900|lumia\\s\\d+)","i"),new v("(nokia)[\\s_-]?([\\w-]+)*","i")],[["vendor","Nokia"],"model",["type","mobile"]],[new v("android\\s3\\.[\\s\\w;-]{10}(a\\d{3})","i")],
["model",["vendor","Acer"],["type","tablet"]],[new v("android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})","i")],[["vendor","LG"],"model",["type","tablet"]],[new v("(lg) netcast\\.tv","i")],["vendor","model",["type","smarttv"]],[new v("(nexus\\s[45])","i"),new v("lg[e;\\s/-]+(\\w+)*","i")],["model",["vendor","LG"],["type","mobile"]],[new v("android.+(ideatab[a-z0-9\\-\\s]+)","i")],["model",["vendor","Lenovo"],["type","tablet"]],[new v("linux;.+((jolla));","i")],["vendor","model",["type","mobile"]],[new v("((pebble))app/[\\d\\.]+\\s",
"i")],["vendor","model",["type","wearable"]],[new v("android.+;\\s(glass)\\s\\d","i")],["model",["vendor","Google"],["type","wearable"]],[new v("android.+(\\w+)\\s+build/hm\\1","i"),new v("android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build","i"),new v("android.+(mi[\\s\\-_]*(?:one|one[\\s_]plus)?[\\s_]*(?:\\d\\w)?)\\s+build","i")],[["model",new v("_","g")," "],["vendor","Xiaomi"],["type","mobile"]],[new v("(mobile|tablet);.+rv:.+gecko/","i")],[["type",this.util.lowerize],"vendor","model"]],engine:[[new v("windows.+\\sedge/([\\w\\.]+)",
"i")],["version",["name","EdgeHTML"]],[new v("(presto)/([\\w\\.]+)","i"),new v("(webkit|trident|netfront|netsurf|amaya|lynx|w3m)/([\\w\\.]+)","i"),new v("(khtml|tasman|links)[/\\s]\\(?([\\w\\.]+)","i"),new v("(icab)[/\\s]([23]\\.[\\d\\.]+)","i")],["name","version"],[new v("rv:([\\w\\.]+).*(gecko)","i")],["version","name"]],os:[[new v("microsoft\\s(windows)\\s(vista|xp)","i")],["name","version"],[new v("(windows)\\snt\\s6\\.2;\\s(arm)","i"),new v("(windows\\sphone(?:\\sos)*|windows\\smobile|windows)[\\s/]?([ntce\\d\\.\\s]+\\w)",
"i")],["name",["version",this.mapper.str,this.maps.os.windows.version]],[new v("(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)","i")],[["name","Windows"],["version",this.mapper.str,this.maps.os.windows.version]],[new v("\\((bb)(10);","i")],[["name","BlackBerry"],"version"],[new v("(blackberry)\\w*/?([\\w\\.]+)*","i"),new v("(tizen)[/\\s]([\\w\\.]+)","i"),new v("(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|contiki)[/\\s-]?([\\w\\.]+)*","i"),new v("linux;.+(sailfish);","i")],["name","version"],
[new v("(symbian\\s?os|symbos|s60(?=;))[/\\s-]?([\\w\\.]+)*","i")],[["name","Symbian"],"version"],[new v("\\((series40);","i")],["name"],[new v("mozilla.+\\(mobile;.+gecko.+firefox","i")],[["name","Firefox OS"],"version"],[new v("(nintendo|playstation)\\s([wids34portablevu]+)","i"),new v("(mint)[/\\s\\(]?(\\w+)*","i"),new v("(mageia|vectorlinux)[;\\s]","i"),new v("(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[/\\s-]?([\\w\\.-]+)*",
"i"),new v("(hurd|linux)\\s?([\\w\\.]+)*","i"),new v("(gnu)\\s?([\\w\\.]+)*","i")],["name","version"],[new v("(cros)\\s[\\w]+\\s([\\w\\.]+\\w)","i")],[["name","Chromium OS"],"version"],[new v("(sunos)\\s?([\\w\\.]+\\d)*","i")],[["name","Solaris"],"version"],[new v("\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]+)*","i")],["name","version"],[new v("(ip[honead]+)(?:.*os\\s*([\\w]+)*\\slike\\smac|;\\sopera)","i")],[["name","iOS"],["version",new v("_","g"),"."]],[new v("(mac\\sos\\sx)\\s?([\\w\\s\\.]+\\w)*",
"i"),new v("(macintosh|mac(?=_powerpc)\\s)","i")],[["name","Mac OS"],["version",new v("_","g"),"."]],[new v("((?:open)?solaris)[/\\s-]?([\\w\\.]+)*","i"),new v("(haiku)\\s(\\w+)","i"),new v("(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.]*)*","i"),new v("(plan\\s9|minix|beos|os/2|amigaos|morphos|risc\\sos|openvms)","i"),new v("(unix)\\s?([\\w\\.]+)*","i")],["name","version"]]}},_mapper_rgx:function(a){for(var b={},c,d=0,e=a[1].length;d<e;)c=d++,c=a[1][c],c instanceof Array&&null==c.__enum__?b[c[0]]=null:b[c]=
null;c=null;for(var f,g=0;g<a.length&&null==c;){for(var d=a[g],e=a[g+1],h=0,j=0;h<d.length&&null==c;)if(c=this._regexExec(d[h++],this.getUA()),null!=c)for(var k=0,l=e.length;k<l;){var m=k++;f=c[++j];if(e[m]instanceof Array&&null==e[m].__enum__){var m=e[m],n=m[0];if(2==m.length)t.isFunction(m[1])?t.setField(b,n,(0,m[1])(f)):b[n]=m[1];else if(3==m.length)if(t.isFunction(m[1])&&!D.__instanceof(m[1],v)){var o=m[1];t.setField(b,n,null!=f?o(f,m[2]):null)}else t.setField(b,n,this._replace(f,m[1],m[2]));
else 4==m.length&&(o=m[3],t.setField(b,n,null!=f?o(this._replace(f,m[1],m[2])):null))}else b[e[m]]=f}g+=2}return b},_mapper_str:function(a,b){for(var c=0,d=t.fields(b);c<d.length;){var e=d[c];++c;if(t.field(b,e)instanceof Array&&null==t.field(b,e).__enum__)for(var f=t.field(b,e),g=0,h=f.length;g<h;){var j=g++;if(this._util_has(f[j],a))return"?"==e?null:e}else if(this._util_has(t.field(b,e),a))return"?"==e?null:e}return a},_util_extend:function(a){return a},_util_has:function(a,b){return"string"==
typeof a?-1!=b.toLowerCase().indexOf(D.__cast(a,String).toLowerCase()):!1},_util_lowerize:function(a){return a.toLowerCase()},_util_major:function(a){return"string"==typeof a?a.split(".")[0]:null},_regexExec:function(a,b){var c=[];if(a.match(b)){c.push(a.matched(0));c.push(a.matched(1));try{c.push(a.matched(2))}catch(d){}try{c.push(a.matched(3))}catch(e){}try{c.push(a.matched(4))}catch(f){}return c}return null},_replace:function(a,b,c){return null==a?a:D.__instanceof(b,v)?D.__cast(b,v).replace(a,
c):ca.replace(a,b,c)},__class__:Kf};var Ib=function(){};m["com.workinman.utils.WMPageUtils"]=Ib;Ib.__name__=["com","workinman","utils","WMPageUtils"];Ib.addScript=function(a,b){var c=window.document.createElement("script");c.setAttribute("id",a);c.setAttribute("type","text/javascript");c.setAttribute("src",b);window.document.getElementsByTagName("head")[0].appendChild(c)};var Ka=function(){};m["com.workinman.utils.WMUtils"]=Ka;Ka.__name__=["com","workinman","utils","WMUtils"];Ka.emptyMap=function(a){for(var b=
a.keys();b.hasNext();){var c=b.next();Ka._mapEmpty.push(c)}for(;0<Ka._mapEmpty.length;)b=Ka._mapEmpty.pop(),a.remove(b)};Ka.removeExtension=function(a){var b=a.lastIndexOf(".");return 0>b?a:a.substring(0,b)};Ka.addStringToArrayWithoutDuplicates=function(a,b){for(var c=0;c<b.length;){var d=b[c];++c;if(d==a)return}b.push(a)};Ka.getExtension=function(a){if(null==a)return"";var b=a.lastIndexOf(".");if(0>b)return"";var c=a.lastIndexOf("?");return c>b?a.substring(b+1,c):a.substring(b+1,a.length)};var ga=
function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};m["flambe.Entity"]=ga;ga.__name__=["flambe","Entity"];ga.__interfaces__=[Lb];ga.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=
c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=
null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){null==b?this.firstChild=d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:ga};var tg=function(){};m["flambe.util.PackageLog"]=tg;tg.__name__=["flambe","util","PackageLog"];var Lf=function(){};m["flambe.platform.Platform"]=
Lf;Lf.__name__=["flambe","platform","Platform"];Lf.prototype={__class__:Lf};var dc=function(){};m["flambe.platform.html.HtmlPlatform"]=dc;dc.__name__=["flambe","platform","html","HtmlPlatform"];dc.__interfaces__=[Lf];dc.prototype={init:function(){var a=this;Y.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new fc(b);this._pointer=
new Ya;this._mouse=new qe(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new Pc;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,e=function(c){if(!(1E3>c.timeStamp-d)){var e=b.getBoundingClientRect(),f=a.getX(c,e),e=a.getY(c,e);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(f,e,c.button),
b.focus());break;case "mousemove":a._mouse.submitMove(f,e);break;case "mouseup":a._mouse.submitUp(f,e,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(f,e,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",e,!1);window.addEventListener("mousemove",e,!1);window.addEventListener("mouseup",e,!1);b.addEventListener("mousewheel",e,!1);b.addEventListener("DOMMouseScroll",e,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},
!1);var f="undefined"!=typeof window.ontouchstart,e="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(f||e){var g=new re(this._pointer,f?4:window.navigator.msMaxTouchPoints);this._touch=g;e=function(b){var c;c=f?b.changedTouches:[b];var e=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();Y.SHOULD_HIDE_MOBILE_BROWSER&&Y.hideMobileBrowser();for(b=0;b<c.length;){var i=c[b];++b;var h=a.getX(i,
e),j=a.getY(i,e);g.submitDown((f?i.identifier:i.pointerId)|0,h,j)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)i=c[b],++b,h=a.getX(i,e),j=a.getY(i,e),g.submitMove((f?i.identifier:i.pointerId)|0,h,j);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)i=c[b],++b,h=a.getX(i,e),j=a.getY(i,e),g.submitUp((f?i.identifier:i.pointerId)|0,h,j)}};f?(b.addEventListener("touchstart",e,!1),b.addEventListener("touchmove",
e,!1),b.addEventListener("touchend",e,!1),b.addEventListener("touchcancel",e,!1)):(b.addEventListener("MSPointerDown",e,!1),b.addEventListener("MSPointerMove",e,!1),b.addEventListener("MSPointerUp",e,!1))}else this._touch=new se;var h=window.onerror;window.onerror=function(a,b,c){J.uncaughtError.emit(a);return null!=h?h(a,b,c):!1};var j=Y.loadExtension("hidden",window.document);null!=j.value?(e=function(){J.hidden.set__(t.field(window.document,j.field))},e(null),window.document.addEventListener(j.prefix+
"visibilitychange",e,!1)):(e=function(a){J.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",e,!1),window.addEventListener("pagehide",e,!1));J.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var k=Y.loadExtension("requestAnimationFrame").value;if(null!=k){var l=window.performance,m=null!=l&&Y.polyfill("now",l);m?this._lastUpdate=l.now():null;var n=null,n=function(c){a.update(m?l.now():c);k(n,b)};k(n,b)}else window.setInterval(function(){a.update(Date.now())},
16);gd.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},loadAssetPack:function(a){return(new oa(this,a)).promise},getStage:function(){return this._stage},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;J.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=
new Gb;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getExternal:function(){null==this._external&&(this._external=new te);return this._external},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,
b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new Qc(a)},__class__:dc};var jb=function(a,b){this._value=a;this._changed=null!=b?new hd(b):null};m["flambe.util.Value"]=jb;jb.__name__=["flambe","util","Value"];jb.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},get__:function(){return this._value},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},
get_changed:function(){null==this._changed&&(this._changed=new hd);return this._changed},__class__:jb,__properties__:{get_changed:"get_changed",set__:"set__",get__:"get__"}};var Rc=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};m["flambe.util.SignalConnection"]=Rc;Rc.__name__=["flambe","util","SignalConnection"];Rc.__interfaces__=[Lb];Rc.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),
this._signal=null)},__class__:Rc};var Oa=function(a){this._head=null!=a?new Rc(this,a):null;this._deferredTasks=null};m["flambe.util.SignalBase"]=Oa;Oa.__name__=["flambe","util","SignalBase"];Oa.prototype={connectImpl:function(a,b){var c=this,d=new Rc(this,a);this._head==Oa.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,b)}):this.listAdd(d,b);return d},disconnect:function(a){var b=this;this._head==Oa.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=
null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new Mf(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=Oa.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==
a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:Oa};var hd=function(a){Oa.call(this,a)};m["flambe.util.Signal2"]=hd;hd.__name__=["flambe","util","Signal2"];hd.__super__=Oa;hd.prototype=y(Oa.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==Oa.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._listener(a,b),
d.stayInList||d.dispose(),d=d._next;this.didEmit(c)},__class__:hd});var Ba=function(a){Oa.call(this,a)};m["flambe.util.Signal1"]=Ba;Ba.__name__=["flambe","util","Signal1"];Ba.__super__=Oa;Ba.prototype=y(Oa.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==Oa.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),
c=c._next;this.didEmit(b)},__class__:Ba});var ua=function(a,b){this._behavior=null;jb.call(this,a,b)};m["flambe.animation.AnimatedFloat"]=ua;ua.__name__=["flambe","animation","AnimatedFloat"];ua.__super__=jb;ua.prototype=y(jb.prototype,{set__:function(a){this._behavior=null;return jb.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(jb.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},__class__:ua});var J=function(){};m["flambe.System"]=
J;J.__name__=["flambe","System"];J.init=function(){J._calledInit||(J._platform.init(),J._calledInit=!0)};var gd=function(){};m["flambe.Log"]=gd;gd.__name__=["flambe","Log"];gd.info=function(){null};gd.__super__=tg;gd.prototype=y(tg.prototype,{__class__:gd});var ue=function(a){null==a&&(a=1);this._realDt=0;na.call(this);this.scale=new ua(a)};m["flambe.SpeedAdjuster"]=ue;ue.__name__=["flambe","SpeedAdjuster"];ue.__super__=na;ue.prototype=y(na.prototype,{get_name:function(){return"SpeedAdjuster_2"},
onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:ue});var ug=function(){};m["flambe.animation.Behavior"]=ug;ug.__name__=["flambe","animation","Behavior"];ug.prototype={__class__:ug};var tc=function(){};m["flambe.asset.Asset"]=tc;tc.__name__=["flambe","asset","Asset"];tc.__interfaces__=[Lb];tc.prototype={__class__:tc};var F=m["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};
F.WEBP=["WEBP",0];F.WEBP.toString=f;F.WEBP.__enum__=F;F.JXR=["JXR",1];F.JXR.toString=f;F.JXR.__enum__=F;F.PNG=["PNG",2];F.PNG.toString=f;F.PNG.__enum__=F;F.JPG=["JPG",3];F.JPG.toString=f;F.JPG.__enum__=F;F.GIF=["GIF",4];F.GIF.toString=f;F.GIF.__enum__=F;F.DDS=["DDS",5];F.DDS.toString=f;F.DDS.__enum__=F;F.PVR=["PVR",6];F.PVR.toString=f;F.PVR.__enum__=F;F.PKM=["PKM",7];F.PKM.toString=f;F.PKM.__enum__=F;F.MP3=["MP3",8];F.MP3.toString=f;F.MP3.__enum__=F;F.M4A=["M4A",9];F.M4A.toString=f;F.M4A.__enum__=
F;F.OPUS=["OPUS",10];F.OPUS.toString=f;F.OPUS.__enum__=F;F.OGG=["OGG",11];F.OGG.toString=f;F.OGG.__enum__=F;F.WAV=["WAV",12];F.WAV.toString=f;F.WAV.__enum__=F;F.Data=["Data",13];F.Data.toString=f;F.Data.__enum__=F;F.__empty_constructs__=[F.WEBP,F.JXR,F.PNG,F.JPG,F.GIF,F.DDS,F.PVR,F.PKM,F.MP3,F.M4A,F.OPUS,F.OGG,F.WAV,F.Data];var Nf=function(a,b,c,d){this.name=a;this.url=b;this.format=c;this.bytes=d};m["flambe.asset.AssetEntry"]=Nf;Nf.__name__=["flambe","asset","AssetEntry"];Nf.prototype={__class__:Nf};
var ve=function(){};m["flambe.asset.AssetPack"]=ve;ve.__name__=["flambe","asset","AssetPack"];ve.__interfaces__=[Lb];ve.prototype={__class__:ve};var we=function(){};m["flambe.asset.File"]=we;we.__name__=["flambe","asset","File"];we.__interfaces__=[tc];we.prototype={__class__:we};var wb=function(){this._localBase=this._remoteBase=null;this._entries=[]};m["flambe.asset.Manifest"]=wb;wb.__name__=["flambe","asset","Manifest"];wb.fromAssets=function(a,b){null==b&&(b=!0);var c=t.field(vg.getType(wb).assets[0],
a);if(null==c){if(b)throw Ta.withFields("Missing asset pack",["name",a]);return null}var d=new wb;d.set_localBase("assets");for(var e=0;e<c.length;){var f=c[e];++e;var g=f.name,h=a+"/"+g+"?v="+C.string(f.md5),j=wb.inferFormat(g);j!=F.Data&&(g=Ta.removeFileExtension(g));d.add(g,h,f.bytes,j)}return d};wb.inferFormat=function(a){a=Ta.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return F.GIF;case "jpg":case "jpeg":return F.JPG;case "jxr":case "wdp":return F.JXR;case "png":return F.PNG;
case "webp":return F.WEBP;case "dds":return F.DDS;case "pvr":return F.PVR;case "pkm":return F.PKM;case "m4a":return F.M4A;case "mp3":return F.MP3;case "ogg":return F.OGG;case "opus":return F.OPUS;case "wav":return F.WAV}else null;return F.Data};wb.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=wb.inferFormat(b));a=new Nf(a,b,d,c);this._entries.push(a);return a},iterator:function(){return O.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&wb._supportsCrossOrigin?
this.get_remoteBase():this.get_localBase();return null!=b?Ta.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&Of.that(!ca.startsWith(a,"http://")&&!ca.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},set_remoteBase:function(a){null!=a&&Of.that(ca.startsWith(a,"http://")||ca.startsWith(a,"https://"),"remoteBase must be on a remote domain, starting with http(s)://",
null);return this._remoteBase=a},__class__:wb,__properties__:{set_remoteBase:"set_remoteBase",get_remoteBase:"get_remoteBase",set_localBase:"set_localBase",get_localBase:"get_localBase"}};var pa=m["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};pa.Normal=["Normal",0];pa.Normal.toString=f;pa.Normal.__enum__=pa;pa.Add=["Add",1];pa.Add.toString=f;pa.Add.__enum__=pa;pa.Multiply=["Multiply",2];pa.Multiply.toString=
f;pa.Multiply.__enum__=pa;pa.Screen=["Screen",3];pa.Screen.toString=f;pa.Screen.__enum__=pa;pa.Mask=["Mask",4];pa.Mask.toString=f;pa.Mask.__enum__=pa;pa.Copy=["Copy",5];pa.Copy.toString=f;pa.Copy.__enum__=pa;pa.__empty_constructs__=[pa.Normal,pa.Add,pa.Multiply,pa.Screen,pa.Mask,pa.Copy];var Ja=function(a,b,c){K.call(this);this.color=a;this.width=new ua(b);this.height=new ua(c)};m["flambe.display.FillSprite"]=Ja;Ja.__name__=["flambe","display","FillSprite"];Ja.__super__=K;Ja.prototype=y(K.prototype,
{draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},setSize:function(a,b){this.width.set__(a);this.height.set__(b);return this},onUpdate:function(a){K.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:Ja});var xe=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=
this.height=0;this.charCode=a};m["flambe.display.Glyph"]=xe;xe.__name__=["flambe","display","Glyph"];xe.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?C["int"](this._kernings.get(a)):0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new Ua);this._kernings.set(a,b)},__class__:xe};var jc=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+
".fnt");this.reload()};m["flambe.display.Font"]=jc;jc.__name__=["flambe","display","Font"];jc.prototype={layoutText:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=wa.Left);return new uc(this,a,b,c,d,e)},getGlyph:function(a){return this._glyphs.get(a)},reload:function(){this._glyphs=new Ua;this._glyphs.set(jc.NEWLINE.charCode,jc.NEWLINE);for(var a=new Sc(this._file.toString()),b=new Ua,c=this.name.lastIndexOf("/"),c=0<=c?O.substr(this.name,0,c+1):"",d=a.keywords();d.hasNext();)switch(d.next()){case "info":for(var e=
a.pairs();e.hasNext();){var f=e.next();switch(f.key){case "size":this.size=f.getInt()}}break;case "common":for(e=a.pairs();e.hasNext();)switch(f=e.next(),f.key){case "lineHeight":this.lineHeight=f.getInt()}break;case "page":for(var e=0,f=null,g=a.pairs();g.hasNext();){var h=g.next();switch(h.key){case "id":e=h.getInt();break;case "file":f=h.getString()}}f=this._pack.getTexture(c+Ta.removeFileExtension(f));b.set(e,f);break;case "char":e=null;for(f=a.pairs();f.hasNext();)switch(g=f.next(),g.key){case "id":e=
new xe(g.getInt());break;case "x":e.x=g.getInt();break;case "y":e.y=g.getInt();break;case "width":e.width=g.getInt();break;case "height":e.height=g.getInt();break;case "page":g=g.getInt();e.page=b.get(g);break;case "xoffset":e.xOffset=g.getInt();break;case "yoffset":e.yOffset=g.getInt();break;case "xadvance":e.xAdvance=g.getInt()}this._glyphs.set(e.charCode,e);break;case "kerning":e=null;g=f=0;for(h=a.pairs();h.hasNext();){var j=h.next();switch(j.key){case "first":e=this._glyphs.get(j.getInt());break;
case "second":f=j.getInt();break;case "amount":g=j.getInt()}}null!=e&&0!=g&&e.setKerning(f,g)}},__class__:jc};var wa=m["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};wa.Left=["Left",0];wa.Left.toString=f;wa.Left.__enum__=wa;wa.Center=["Center",1];wa.Center.toString=f;wa.Center.__enum__=wa;wa.Right=["Right",2];wa.Right.toString=f;wa.Right.__enum__=wa;wa.__empty_constructs__=[wa.Left,wa.Center,wa.Right];var uc=function(a,b,c,d,e,f){this.lines=
0;var g=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+f);this.bounds=new Ea;for(var h=[],f=b.length,j=0;j<f;){var k=j++,k=b.charCodeAt(k),k=a._glyphs.get(k);null!=k?this._glyphs.push(k):null}for(var b=-1,l=0,m=0,a=a._glyphs.get(10),f=function(){g.bounds.width=sb.max(g.bounds.width,l);g.bounds.height+=m;h[g.lines]=l;m=l=0;++g.lines},j=0;j<this._glyphs.length;){k=this._glyphs[j];this._offsets[j]=Math.round(l);var n=0<d&&l+k.width>d;n||k==a?(n&&(0<=b?(this._glyphs[b]=
a,l=this._offsets[b],j=b):this._glyphs.splice(j,0,a)),b=-1,m=this._lineOffset,f()):(32==k.charCode&&(b=j),l+=k.xAdvance+e,m=sb.max(m,k.height+k.yOffset),j+1<this._glyphs.length&&(l+=k.getKerning(this._glyphs[j+1].charCode)));++j}f();e=0;a=uc.getAlignOffset(c,h[0],d);b=1.79769313486231E308;f=-1.79769313486231E308;k=j=0;for(n=this._glyphs.length;k<n;){var o=this._glyphs[k];10==o.charCode&&(e+=this._lineOffset,++j,a=uc.getAlignOffset(c,h[j],d));this._offsets[k]+=a;var p=e+o.yOffset;b<p||(b=p);f=sb.max(f,
p+o.height);++k}this.bounds.x=uc.getAlignOffset(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=f-b};m["flambe.display.TextLayout"]=uc;uc.__name__=["flambe","display","TextLayout"];uc.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-b)/2)}};uc.prototype={draw:function(a){for(var b=0,c=0,d=this._glyphs.length;c<d;){var e=this._glyphs[c];10==e.charCode?b+=this._lineOffset:e.draw(a,this._offsets[c],b);++c}},__class__:uc};var Sc=function(a){this._configText=
a;this._keywordPattern=new v("([A-Za-z]+)(.*)","");this._pairPattern=new v('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};m["flambe.display._Font.ConfigParser"]=Sc;Sc.__name__=["flambe","display","_Font","ConfigParser"];Sc.advance=function(a,b){var c=b.matchedPos();return O.substr(a,c.pos+c.len,a.length)};Sc.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=Sc.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},
pairs:function(){var a=this,b=this._pairText;return{next:function(){b=Sc.advance(b,a._pairPattern);return new Pf(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:Sc};var Pf=function(a,b){this.key=a;this._value=b};m["flambe.display._Font.ConfigPair"]=Pf;Pf.__name__=["flambe","display","_Font","ConfigPair"];Pf.prototype={getInt:function(){return C.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:
O.substr(this._value,1,this._value.length-2)},__class__:Pf};var Qf=function(){};m["flambe.display.Graphics"]=Qf;Qf.__name__=["flambe","display","Graphics"];Qf.prototype={__class__:Qf};var Hb=m["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};Hb.Portrait=["Portrait",0];Hb.Portrait.toString=f;Hb.Portrait.__enum__=Hb;Hb.Landscape=["Landscape",1];Hb.Landscape.toString=f;Hb.Landscape.__enum__=Hb;Hb.__empty_constructs__=[Hb.Portrait,Hb.Landscape];
var ye=function(){};m["flambe.display.Texture"]=ye;ye.__name__=["flambe","display","Texture"];ye.__interfaces__=[tc];ye.prototype={__class__:ye};var wg=function(){};m["flambe.display.SubTexture"]=wg;wg.__name__=["flambe","display","SubTexture"];wg.__interfaces__=[ye];var fd=function(a,b){null==b&&(b="");this._layout=null;var c=this;K.call(this);this._font=a;this._text=b;this._align=wa.Left;this._flags|=128;var d=function(){c._flags|=128};this.wrapWidth=new ua(0,d);this.letterSpacing=new ua(0,d);this.lineSpacing=
new ua(0,d)};m["flambe.display.TextSprite"]=fd;fd.__name__=["flambe","display","TextSprite"];fd.__super__=K;fd.prototype=y(K.prototype,{draw:function(a){this.updateLayout();this._layout.draw(a)},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),b=this._layout.bounds.height;return a>b?a:b},containsLocal:function(a,
b){this.updateLayout();return this._layout.bounds.contains(a,b)},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=128);return a},set_font:function(a){a!=this._font&&(this._font=a,this._flags|=128);return a},set_align:function(a){a!=this._align&&(this._align=a,this._flags|=128);return a},updateLayout:function(){0!=(this._flags&128)&&(this._flags&=-129,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(a){K.prototype.onUpdate.call(this,
a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:fd,__properties__:y(K.prototype.__properties__,{set_align:"set_align",set_font:"set_font",set_text:"set_text"})});var g=m["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
g.A=["A",0];g.A.toString=f;g.A.__enum__=g;g.B=["B",1];g.B.toString=f;g.B.__enum__=g;g.C=["C",2];g.C.toString=f;g.C.__enum__=g;g.D=["D",3];g.D.toString=f;g.D.__enum__=g;g.E=["E",4];g.E.toString=f;g.E.__enum__=g;g.F=["F",5];g.F.toString=f;g.F.__enum__=g;g.G=["G",6];g.G.toString=f;g.G.__enum__=g;g.H=["H",7];g.H.toString=f;g.H.__enum__=g;g.I=["I",8];g.I.toString=f;g.I.__enum__=g;g.J=["J",9];g.J.toString=f;g.J.__enum__=g;g.K=["K",10];g.K.toString=f;g.K.__enum__=g;g.L=["L",11];g.L.toString=f;g.L.__enum__=
g;g.M=["M",12];g.M.toString=f;g.M.__enum__=g;g.N=["N",13];g.N.toString=f;g.N.__enum__=g;g.O=["O",14];g.O.toString=f;g.O.__enum__=g;g.P=["P",15];g.P.toString=f;g.P.__enum__=g;g.Q=["Q",16];g.Q.toString=f;g.Q.__enum__=g;g.R=["R",17];g.R.toString=f;g.R.__enum__=g;g.S=["S",18];g.S.toString=f;g.S.__enum__=g;g.T=["T",19];g.T.toString=f;g.T.__enum__=g;g.U=["U",20];g.U.toString=f;g.U.__enum__=g;g.V=["V",21];g.V.toString=f;g.V.__enum__=g;g.W=["W",22];g.W.toString=f;g.W.__enum__=g;g.X=["X",23];g.X.toString=
f;g.X.__enum__=g;g.Y=["Y",24];g.Y.toString=f;g.Y.__enum__=g;g.Z=["Z",25];g.Z.toString=f;g.Z.__enum__=g;g.Number0=["Number0",26];g.Number0.toString=f;g.Number0.__enum__=g;g.Number1=["Number1",27];g.Number1.toString=f;g.Number1.__enum__=g;g.Number2=["Number2",28];g.Number2.toString=f;g.Number2.__enum__=g;g.Number3=["Number3",29];g.Number3.toString=f;g.Number3.__enum__=g;g.Number4=["Number4",30];g.Number4.toString=f;g.Number4.__enum__=g;g.Number5=["Number5",31];g.Number5.toString=f;g.Number5.__enum__=
g;g.Number6=["Number6",32];g.Number6.toString=f;g.Number6.__enum__=g;g.Number7=["Number7",33];g.Number7.toString=f;g.Number7.__enum__=g;g.Number8=["Number8",34];g.Number8.toString=f;g.Number8.__enum__=g;g.Number9=["Number9",35];g.Number9.toString=f;g.Number9.__enum__=g;g.Numpad0=["Numpad0",36];g.Numpad0.toString=f;g.Numpad0.__enum__=g;g.Numpad1=["Numpad1",37];g.Numpad1.toString=f;g.Numpad1.__enum__=g;g.Numpad2=["Numpad2",38];g.Numpad2.toString=f;g.Numpad2.__enum__=g;g.Numpad3=["Numpad3",39];g.Numpad3.toString=
f;g.Numpad3.__enum__=g;g.Numpad4=["Numpad4",40];g.Numpad4.toString=f;g.Numpad4.__enum__=g;g.Numpad5=["Numpad5",41];g.Numpad5.toString=f;g.Numpad5.__enum__=g;g.Numpad6=["Numpad6",42];g.Numpad6.toString=f;g.Numpad6.__enum__=g;g.Numpad7=["Numpad7",43];g.Numpad7.toString=f;g.Numpad7.__enum__=g;g.Numpad8=["Numpad8",44];g.Numpad8.toString=f;g.Numpad8.__enum__=g;g.Numpad9=["Numpad9",45];g.Numpad9.toString=f;g.Numpad9.__enum__=g;g.NumpadAdd=["NumpadAdd",46];g.NumpadAdd.toString=f;g.NumpadAdd.__enum__=g;g.NumpadDecimal=
["NumpadDecimal",47];g.NumpadDecimal.toString=f;g.NumpadDecimal.__enum__=g;g.NumpadDivide=["NumpadDivide",48];g.NumpadDivide.toString=f;g.NumpadDivide.__enum__=g;g.NumpadEnter=["NumpadEnter",49];g.NumpadEnter.toString=f;g.NumpadEnter.__enum__=g;g.NumpadMultiply=["NumpadMultiply",50];g.NumpadMultiply.toString=f;g.NumpadMultiply.__enum__=g;g.NumpadSubtract=["NumpadSubtract",51];g.NumpadSubtract.toString=f;g.NumpadSubtract.__enum__=g;g.F1=["F1",52];g.F1.toString=f;g.F1.__enum__=g;g.F2=["F2",53];g.F2.toString=
f;g.F2.__enum__=g;g.F3=["F3",54];g.F3.toString=f;g.F3.__enum__=g;g.F4=["F4",55];g.F4.toString=f;g.F4.__enum__=g;g.F5=["F5",56];g.F5.toString=f;g.F5.__enum__=g;g.F6=["F6",57];g.F6.toString=f;g.F6.__enum__=g;g.F7=["F7",58];g.F7.toString=f;g.F7.__enum__=g;g.F8=["F8",59];g.F8.toString=f;g.F8.__enum__=g;g.F9=["F9",60];g.F9.toString=f;g.F9.__enum__=g;g.F10=["F10",61];g.F10.toString=f;g.F10.__enum__=g;g.F11=["F11",62];g.F11.toString=f;g.F11.__enum__=g;g.F12=["F12",63];g.F12.toString=f;g.F12.__enum__=g;g.F13=
["F13",64];g.F13.toString=f;g.F13.__enum__=g;g.F14=["F14",65];g.F14.toString=f;g.F14.__enum__=g;g.F15=["F15",66];g.F15.toString=f;g.F15.__enum__=g;g.Left=["Left",67];g.Left.toString=f;g.Left.__enum__=g;g.Up=["Up",68];g.Up.toString=f;g.Up.__enum__=g;g.Right=["Right",69];g.Right.toString=f;g.Right.__enum__=g;g.Down=["Down",70];g.Down.toString=f;g.Down.__enum__=g;g.Alt=["Alt",71];g.Alt.toString=f;g.Alt.__enum__=g;g.Backquote=["Backquote",72];g.Backquote.toString=f;g.Backquote.__enum__=g;g.Backslash=
["Backslash",73];g.Backslash.toString=f;g.Backslash.__enum__=g;g.Backspace=["Backspace",74];g.Backspace.toString=f;g.Backspace.__enum__=g;g.CapsLock=["CapsLock",75];g.CapsLock.toString=f;g.CapsLock.__enum__=g;g.Comma=["Comma",76];g.Comma.toString=f;g.Comma.__enum__=g;g.Command=["Command",77];g.Command.toString=f;g.Command.__enum__=g;g.Control=["Control",78];g.Control.toString=f;g.Control.__enum__=g;g.Delete=["Delete",79];g.Delete.toString=f;g.Delete.__enum__=g;g.End=["End",80];g.End.toString=f;g.End.__enum__=
g;g.Enter=["Enter",81];g.Enter.toString=f;g.Enter.__enum__=g;g.Equals=["Equals",82];g.Equals.toString=f;g.Equals.__enum__=g;g.Escape=["Escape",83];g.Escape.toString=f;g.Escape.__enum__=g;g.Home=["Home",84];g.Home.toString=f;g.Home.__enum__=g;g.Insert=["Insert",85];g.Insert.toString=f;g.Insert.__enum__=g;g.LeftBracket=["LeftBracket",86];g.LeftBracket.toString=f;g.LeftBracket.__enum__=g;g.Minus=["Minus",87];g.Minus.toString=f;g.Minus.__enum__=g;g.PageDown=["PageDown",88];g.PageDown.toString=f;g.PageDown.__enum__=
g;g.PageUp=["PageUp",89];g.PageUp.toString=f;g.PageUp.__enum__=g;g.Period=["Period",90];g.Period.toString=f;g.Period.__enum__=g;g.Quote=["Quote",91];g.Quote.toString=f;g.Quote.__enum__=g;g.RightBracket=["RightBracket",92];g.RightBracket.toString=f;g.RightBracket.__enum__=g;g.Semicolon=["Semicolon",93];g.Semicolon.toString=f;g.Semicolon.__enum__=g;g.Shift=["Shift",94];g.Shift.toString=f;g.Shift.__enum__=g;g.Slash=["Slash",95];g.Slash.toString=f;g.Slash.__enum__=g;g.Space=["Space",96];g.Space.toString=
f;g.Space.__enum__=g;g.Tab=["Tab",97];g.Tab.toString=f;g.Tab.__enum__=g;g.Menu=["Menu",98];g.Menu.toString=f;g.Menu.__enum__=g;g.Search=["Search",99];g.Search.toString=f;g.Search.__enum__=g;g.Unknown=function(a){a=["Unknown",100,a];a.__enum__=g;a.toString=f;return a};g.__empty_constructs__=[g.A,g.B,g.C,g.D,g.E,g.F,g.G,g.H,g.I,g.J,g.K,g.L,g.M,g.N,g.O,g.P,g.Q,g.R,g.S,g.T,g.U,g.V,g.W,g.X,g.Y,g.Z,g.Number0,g.Number1,g.Number2,g.Number3,g.Number4,g.Number5,g.Number6,g.Number7,g.Number8,g.Number9,g.Numpad0,
g.Numpad1,g.Numpad2,g.Numpad3,g.Numpad4,g.Numpad5,g.Numpad6,g.Numpad7,g.Numpad8,g.Numpad9,g.NumpadAdd,g.NumpadDecimal,g.NumpadDivide,g.NumpadEnter,g.NumpadMultiply,g.NumpadSubtract,g.F1,g.F2,g.F3,g.F4,g.F5,g.F6,g.F7,g.F8,g.F9,g.F10,g.F11,g.F12,g.F13,g.F14,g.F15,g.Left,g.Up,g.Right,g.Down,g.Alt,g.Backquote,g.Backslash,g.Backspace,g.CapsLock,g.Comma,g.Command,g.Control,g.Delete,g.End,g.Enter,g.Equals,g.Escape,g.Home,g.Insert,g.LeftBracket,g.Minus,g.PageDown,g.PageUp,g.Period,g.Quote,g.RightBracket,
g.Semicolon,g.Shift,g.Slash,g.Space,g.Tab,g.Menu,g.Search];var Rf=function(){this.init(0,null)};m["flambe.input.KeyboardEvent"]=Rf;Rf.__name__=["flambe","input","KeyboardEvent"];Rf.prototype={init:function(a,b){this.id=a;this.key=b},__class__:Rf};var Ia=m["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};Ia.Left=["Left",0];Ia.Left.toString=f;Ia.Left.__enum__=Ia;Ia.Middle=["Middle",1];Ia.Middle.toString=f;Ia.Middle.__enum__=
Ia;Ia.Right=["Right",2];Ia.Right.toString=f;Ia.Right.__enum__=Ia;Ia.Unknown=function(a){a=["Unknown",3,a];a.__enum__=Ia;a.toString=f;return a};Ia.__empty_constructs__=[Ia.Left,Ia.Middle,Ia.Right];var Pa=m["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};Pa.Default=["Default",0];Pa.Default.toString=f;Pa.Default.__enum__=Pa;Pa.Button=["Button",1];Pa.Button.toString=f;Pa.Button.__enum__=Pa;Pa.None=["None",2];Pa.None.toString=f;Pa.None.__enum__=
Pa;Pa.__empty_constructs__=[Pa.Default,Pa.Button,Pa.None];var Sf=function(){this.init(0,0,0,null)};m["flambe.input.MouseEvent"]=Sf;Sf.__name__=["flambe","input","MouseEvent"];Sf.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:Sf};var id=m["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};id.Mouse=function(a){a=["Mouse",0,a];a.__enum__=id;a.toString=f;return a};id.Touch=function(a){a=["Touch",1,a];
a.__enum__=id;a.toString=f;return a};id.__empty_constructs__=[];var Tf=function(){this.init(0,0,0,null,null)};m["flambe.input.PointerEvent"]=Tf;Tf.__name__=["flambe","input","PointerEvent"];Tf.prototype={init:function(a,b,c,d,e){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=e;this._stopped=!1},__class__:Tf};var Uf=function(a){this.id=a;this._source=id.Touch(this)};m["flambe.input.TouchPoint"]=Uf;Uf.__name__=["flambe","input","TouchPoint"];Uf.prototype={init:function(a,b){this.viewX=a;
this.viewY=b},__class__:Uf};var sb=function(){};m["flambe.math.FMath"]=sb;sb.__name__=["flambe","math","FMath"];sb.toDegrees=function(a){return 180*a/3.141592653589793};sb.max=function(a,b){return a>b?a:b};sb.clamp=function(a,b,c){return a<b?b:a>c?c:a};var lc=function(){this.identity()};m["flambe.math.Matrix"]=lc;lc.__name__=["flambe","math","Matrix"];lc.multiply=function(a,b,c){null==c&&(c=new lc);var d=a.m00*b.m00+a.m01*b.m10,e=a.m00*b.m01+a.m01*b.m11,f=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=d;c.m01=
e;c.m02=f;d=a.m10*b.m00+a.m11*b.m10;e=a.m10*b.m01+a.m11*b.m11;f=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=d;c.m11=e;c.m12=f;return c};lc.prototype={set:function(a,b,c,d,e,f){this.m00=a;this.m01=c;this.m02=e;this.m10=b;this.m11=d;this.m12=f},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,e){var f=Math.sin(e),e=Math.cos(e);this.set(e*c,f*c,-f*d,e*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},determinant:function(){return this.m00*this.m11-
this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},clone:function(a){null==a&&(a=new lc);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:lc};var Ea=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};m["flambe.math.Rectangle"]=Ea;Ea.__name__=["flambe","math","Rectangle"];Ea.prototype={set:function(a,
b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},__class__:Ea};var db=function(){this._disposed=!1};m["flambe.platform.BasicAsset"]=db;db.__name__=["flambe","platform","BasicAsset"];db.__interfaces__=[tc];db.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},
onDisposed:function(){null},__class__:db};var vc=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new ze;this._bytesLoaded=new I;this._pack=new Ae(b,this);var d=Nb.array(b);if(0==d.length)this.handleSuccess();else{for(var e=new I,f=0;f<d.length;){var g=d[f];++f;var h=e.get(g.name);null==h&&(h=[],e.set(g.name,h));h.push(g)}this._assetsRemaining=Nb.count(e);for(d=e.iterator();d.hasNext();)e=[d.next()],this.pickBestEntry(e[0],function(a){return function(d){if(null!=d){var e=b.getFullURL(d);
try{c.loadEntry(e,d)}catch(f){c.handleError(d,"Unexpected error: "+C.string(f))}e=c.promise;e.set_total(e._total+d.bytes)}else d=a[0][0],vc.isAudio(d.format)?c.handleLoad(d,Ab.getInstance()):c.handleError(d,"Could not find a supported format to load")}}(e))}};m["flambe.platform.BasicAssetPackLoader"]=vc;vc.__name__=["flambe","platform","BasicAssetPackLoader"];vc.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};vc.prototype={onDisposed:function(){},
pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=0;d<c.length;){var e=c[d];++d;for(var f=0;f<a.length;){var g=a[f];++f;if(g.format==e){b(g);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=
this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=this._bytesLoaded.iterator();d.hasNext();)var e=d.next(),c=c+e;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(Ta.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},
__class__:vc};var Ae=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new I;this.sounds=new I;this.files=new I};m["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=Ae;Ae.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];Ae.__interfaces__=[ve];Ae.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw Ta.withFields("Missing texture",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);
if(null==c&&b)throw Ta.withFields("Missing sound",["name",a]);return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw Ta.withFields("Missing file",["name",a]);return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},
get_manifest:function(){return this._manifest},__class__:Ae,__properties__:{get_manifest:"get_manifest"}};var jd=function(a){this._disposed=!1;this._content=a};m["flambe.platform.BasicFile"]=jd;jd.__name__=["flambe","platform","BasicFile"];jd.__interfaces__=[we];jd.__super__=db;jd.prototype=y(db.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:jd});var Vf=function(){};m["flambe.subsystem.KeyboardSystem"]=Vf;Vf.__name__=["flambe","subsystem",
"KeyboardSystem"];Vf.prototype={__class__:Vf};var Gb=function(){this.down=new Ba;this.up=new Ba;this.backButton=new Tc;this._keyStates=new Ua};m["flambe.platform.BasicKeyboard"]=Gb;Gb.__name__=["flambe","platform","BasicKeyboard"];Gb.__interfaces__=[Vf];Gb.prototype={isDown:function(a){return this.isCodeDown(kd.toKeyCode(a))},isCodeDown:function(a){return this._keyStates.exists(a)},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.exists(a)||
(this._keyStates.set(a,!0),Gb._sharedEvent.init(Gb._sharedEvent.id+1,kd.toKey(a)),this.down.emit(Gb._sharedEvent));return!0},submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),Gb._sharedEvent.init(Gb._sharedEvent.id+1,kd.toKey(a)),this.up.emit(Gb._sharedEvent))},__class__:Gb};var Cg=function(){};m["flambe.subsystem.MouseSystem"]=Cg;Cg.__name__=["flambe","subsystem","MouseSystem"];var rb=function(a){this._pointer=a;this._source=id.Mouse(rb._sharedEvent);this.down=new Ba;this.move=
new Ba;this.up=new Ba;this.scroll=new Ba;this._y=this._x=0;this._cursor=Pa.Default;this._buttonStates=new Ua};m["flambe.platform.BasicMouse"]=rb;rb.__name__=["flambe","platform","BasicMouse"];rb.__interfaces__=[Cg];rb.prototype={submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,Wf.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(rb._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,
b,this._source);this.move.emit(rb._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,Wf.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(rb._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;rb._sharedEvent.init(rb._sharedEvent.id+1,a,b,c)},__class__:rb};var Xf=function(){};m["flambe.subsystem.PointerSystem"]=
Xf;Xf.__name__=["flambe","subsystem","PointerSystem"];Xf.prototype={__class__:Xf};var Ya=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new Ba;this.move=new Ba;this.up=new Ba;this._x=a;this._y=b;this._isDown=c};m["flambe.platform.BasicPointer"]=Ya;Ya.__name__=["flambe","platform","BasicPointer"];Ya.__interfaces__=[Xf];Ya.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var d=[],e=K.hitTest(J.root,a,b);if(null!=e){var f=e.owner;
do{var g=f._compMap.Sprite_3;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerDown(Ya._sharedEvent),Ya._sharedEvent._stopped)return;this.down.emit(Ya._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var d=[],e=K.hitTest(J.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_3;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerMove(Ya._sharedEvent),
Ya._sharedEvent._stopped)return;this.move.emit(Ya._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var d=[],e=K.hitTest(J.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_3;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerUp(Ya._sharedEvent),Ya._sharedEvent._stopped)return;this.up.emit(Ya._sharedEvent)}},prepare:function(a,b,c,d){this._x=a;this._y=b;Ya._sharedEvent.init(Ya._sharedEvent.id+
1,a,b,c,d)},__class__:Ya};var wc=function(a,b,c){this._x=this._y=0;this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};m["flambe.platform.BasicTexture"]=wc;wc.__name__=["flambe","platform","BasicTexture"];wc.__interfaces__=[wg];wc.__super__=db;wc.prototype=y(db.prototype,{subTexture:function(a,b,c,d){c=this.root.createTexture(c,d);c._parent=this;c._x=a;c._y=b;c.rootX=this.rootX+a;c.rootY=this.rootY+b;return c},onDisposed:function(){null==this._parent&&
this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:wc,__properties__:{get_height:"get_height",get_width:"get_width"}});var Be=function(){};m["flambe.subsystem.TouchSystem"]=Be;Be.__name__=["flambe","subsystem","TouchSystem"];Be.prototype={__class__:Be};var re=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new Ua;this._points=[];this.down=new Ba;this.move=new Ba;this.up=new Ba};m["flambe.platform.BasicTouch"]=
re;re.__name__=["flambe","platform","BasicTouch"];re.__interfaces__=[Be];re.prototype={get_supported:function(){return!0},submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var d=new Uf(a);d.init(b,c);this._pointMap.set(a,d);this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},
submitUp:function(a,b,c){var d=this._pointMap.get(a);null!=d&&(d.init(b,c),this._pointMap.remove(a),O.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))},__class__:re,__properties__:{get_supported:"get_supported"}};var xc=function(){};m["flambe.sound.Sound"]=xc;xc.__name__=["flambe","sound","Sound"];xc.__interfaces__=[tc];xc.prototype={__class__:xc};var Ab=function(){this._disposed=!1;this._playback=new ld(this)};m["flambe.platform.DummySound"]=
Ab;Ab.__name__=["flambe","platform","DummySound"];Ab.__interfaces__=[xc];Ab.getInstance=function(){null==Ab._instance&&(Ab._instance=new Ab);return Ab._instance};Ab.__super__=db;Ab.prototype=y(db.prototype,{play:function(){return this._playback},loop:function(){return this._playback},get_duration:function(){return 0},onDisposed:function(){},__class__:Ab,__properties__:{get_duration:"get_duration"}});var Uc=function(){};m["flambe.sound.Playback"]=Uc;Uc.__name__=["flambe","sound","Playback"];Uc.__interfaces__=
[Lb];Uc.prototype={__class__:Uc};var ld=function(a){this._sound=a;this.volume=new ua(0);this._complete=new jb(!0)};m["flambe.platform.DummyPlayback"]=ld;ld.__name__=["flambe","platform","DummyPlayback"];ld.__interfaces__=[Uc];ld.prototype={get_paused:function(){return!0},get_complete:function(){return this._complete},get_position:function(){return 0},dispose:function(){},__class__:ld,__properties__:{get_position:"get_position",get_complete:"get_complete",get_paused:"get_paused"}};var se=function(){this.down=
new Ba;this.move=new Ba;this.up=new Ba};m["flambe.platform.DummyTouch"]=se;se.__name__=["flambe","platform","DummyTouch"];se.__interfaces__=[Be];se.prototype={get_supported:function(){return!1},__class__:se,__properties__:{get_supported:"get_supported"}};var md=function(){this._entries=[]};m["flambe.platform.EventGroup"]=md;md.__name__=["flambe","platform","EventGroup"];md.__interfaces__=[Lb];md.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new Yf(a,b,c))},addDisposingListener:function(a,
b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:md};var Yf=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};m["flambe.platform._EventGroup.Entry"]=Yf;Yf.__name__=["flambe","platform","_EventGroup","Entry"];Yf.prototype={__class__:Yf};var Ce=function(){};m["flambe.platform.InternalGraphics"]=Ce;Ce.__name__=["flambe",
"platform","InternalGraphics"];Ce.__interfaces__=[Qf];Ce.prototype={__class__:Ce};var Zf=function(){};m["flambe.subsystem.RendererSystem"]=Zf;Zf.__name__=["flambe","subsystem","RendererSystem"];Zf.prototype={__class__:Zf};var De=function(){};m["flambe.platform.InternalRenderer"]=De;De.__name__=["flambe","platform","InternalRenderer"];De.__interfaces__=[Zf];De.prototype={__class__:De};var kd=function(){};m["flambe.platform.KeyCodes"]=kd;kd.__name__=["flambe","platform","KeyCodes"];kd.toKey=function(a){switch(a){case 65:return g.A;
case 66:return g.B;case 67:return g.C;case 68:return g.D;case 69:return g.E;case 70:return g.F;case 71:return g.G;case 72:return g.H;case 73:return g.I;case 74:return g.J;case 75:return g.K;case 76:return g.L;case 77:return g.M;case 78:return g.N;case 79:return g.O;case 80:return g.P;case 81:return g.Q;case 82:return g.R;case 83:return g.S;case 84:return g.T;case 85:return g.U;case 86:return g.V;case 87:return g.W;case 88:return g.X;case 89:return g.Y;case 90:return g.Z;case 48:return g.Number0;case 49:return g.Number1;
case 50:return g.Number2;case 51:return g.Number3;case 52:return g.Number4;case 53:return g.Number5;case 54:return g.Number6;case 55:return g.Number7;case 56:return g.Number8;case 57:return g.Number9;case 96:return g.Numpad0;case 97:return g.Numpad1;case 98:return g.Numpad2;case 99:return g.Numpad3;case 100:return g.Numpad4;case 101:return g.Numpad5;case 102:return g.Numpad6;case 103:return g.Numpad7;case 104:return g.Numpad8;case 105:return g.Numpad9;case 107:return g.NumpadAdd;case 110:return g.NumpadDecimal;
case 111:return g.NumpadDivide;case 108:return g.NumpadEnter;case 106:return g.NumpadMultiply;case 109:return g.NumpadSubtract;case 112:return g.F1;case 113:return g.F2;case 114:return g.F3;case 115:return g.F4;case 116:return g.F5;case 117:return g.F6;case 118:return g.F7;case 119:return g.F8;case 120:return g.F9;case 121:return g.F10;case 122:return g.F11;case 123:return g.F12;case 37:return g.Left;case 38:return g.Up;case 39:return g.Right;case 40:return g.Down;case 18:return g.Alt;case 192:return g.Backquote;
case 220:return g.Backslash;case 8:return g.Backspace;case 20:return g.CapsLock;case 188:return g.Comma;case 15:return g.Command;case 17:return g.Control;case 46:return g.Delete;case 35:return g.End;case 13:return g.Enter;case 187:return g.Equals;case 27:return g.Escape;case 36:return g.Home;case 45:return g.Insert;case 219:return g.LeftBracket;case 189:return g.Minus;case 34:return g.PageDown;case 33:return g.PageUp;case 190:return g.Period;case 222:return g.Quote;case 221:return g.RightBracket;
case 186:return g.Semicolon;case 16:return g.Shift;case 191:return g.Slash;case 32:return g.Space;case 9:return g.Tab;case 16777234:return g.Menu;case 16777247:return g.Search}return g.Unknown(a)};kd.toKeyCode=function(a){switch(a[1]){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;case 5:return 70;case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;
case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;case 34:return 56;case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;
case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;case 61:return 121;case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;
case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;case 89:return 33;case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;
case 99:return 16777247;case 100:return a[2]}};var Pc=function(){this._tickables=[]};m["flambe.platform.MainLoop"]=Pc;Pc.__name__=["flambe","platform","MainLoop"];Pc.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_2;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,Pc.updateEntity(c,b),c=d};Pc.prototype={update:function(a){if(!(0>=
a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}J.volume.update(a);Pc.updateEntity(J.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),K.render(J.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:Pc};var Wf=function(){};m["flambe.platform.MouseCodes"]=Wf;Wf.__name__=["flambe","platform","MouseCodes"];Wf.toButton=function(a){switch(a){case 0:return Ia.Left;case 1:return Ia.Middle;
case 2:return Ia.Right}return Ia.Unknown(a)};var $f=function(){};m["flambe.platform.TextureRoot"]=$f;$f.__name__=["flambe","platform","TextureRoot"];$f.prototype={__class__:$f};var Ee=function(){};m["flambe.platform.Tickable"]=Ee;Ee.__name__=["flambe","platform","Tickable"];Ee.prototype={__class__:Ee};var cc=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};m["flambe.platform.html.CanvasGraphics"]=cc;cc.__name__=["flambe","platform","html","CanvasGraphics"];cc.__interfaces__=
[Ce];cc.prototype={save:function(){this._canvasCtx.save()},rotate:function(a){this._canvasCtx.rotate(3.141592653589793*a/180)},transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e,f)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,e,f,g),this._canvasCtx.globalCompositeOperation=
"source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+d|0,a.rootY+e|0,f|0,g|0,b|0,c|0,f|0,g|0)},fillRect:function(a,b,c,d,e){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,e),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+C.string(a);this._canvasCtx.fillStyle="#"+C.string(a);this._canvasCtx.fillRect(b|0,c|0,d|0,e|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=
a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},__class__:cc};var Qc=function(a){this.graphics=new cc(a,!1);this._hasGPU=
new jb(!0)};m["flambe.platform.html.CanvasRenderer"]=Qc;Qc.__name__=["flambe","platform","html","CanvasRenderer"];Qc.__interfaces__=[De];Qc.prototype={get_type:function(){return eb.Canvas},createTextureFromImage:function(a){a=new nd(Qc.CANVAS_TEXTURES?Y.createCanvas(a):a);return a.createTexture(a.width,a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},
__class__:Qc,__properties__:{get_type:"get_type"}};var Fe=function(a,b,c){wc.call(this,a,b,c)};m["flambe.platform.html.CanvasTexture"]=Fe;Fe.__name__=["flambe","platform","html","CanvasTexture"];Fe.__super__=wc;Fe.prototype=y(wc.prototype,{__class__:Fe});var nd=function(a){this._graphics=null;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};m["flambe.platform.html.CanvasTextureRoot"]=nd;nd.__name__=["flambe","platform","html","CanvasTextureRoot"];nd.__interfaces__=[$f];nd.__super__=
db;nd.prototype=y(db.prototype,{createTexture:function(a,b){return new Fe(this,a,b)},onDisposed:function(){this._graphics=this.image=null},__class__:nd});var oa=function(a,b){vc.call(this,a,b)};m["flambe.platform.html.HtmlAssetPackLoader"]=oa;oa.__name__=["flambe","platform","html","HtmlAssetPackLoader"];oa.detectImageFormats=function(a){var b=[F.PNG,F.JPG,F.GIF],c=2,d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(F.WEBP);--c;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";
var e;e=window.document.createElement("img");e.onload=e.onerror=function(){1==e.width&&b.unshift(F.JXR);--c;0==c&&a(b)};e.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};oa.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==o(a,a.canPlayType))return[];var b=new v("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",
""),c=window.navigator.userAgent;if(!ja.get_supported()&&b.match(c))return[];for(var b=[{format:F.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:F.MP3,mimeType:"audio/mpeg"},{format:F.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:F.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:F.WAV,mimeType:"audio/wav"}],c=[],d=0;d<b.length;){var e=b[d];++d;var f="";try{f=a.canPlayType(e.mimeType)}catch(g){}""!=f&&c.push(e.format)}return c};oa.supportsBlob=function(){if(oa._detectBlobSupport){oa._detectBlobSupport=
!1;if((new v("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;oa._URL=Y.loadExtension("URL").value}return null!=oa._URL&&null!=oa._URL.createObjectURL};oa.__super__=vc;oa.prototype=y(vc.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d;d=window.document.createElement("img");var e=
new md;e.addDisposingListener(d,"load",function(){oa.supportsBlob()&&oa._URL.revokeObjectURL(d.src);var a=c._platform.getRenderer().createTextureFromImage(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});e.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});oa.supportsBlob()?this.download(a,b,"blob",function(a){d.src=oa._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,
null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(ja.get_supported())this.download(a,b,"arraybuffer",function(a){ja.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new ja(a))},function(){c.handleLoad(b,Ab.getInstance())})});else{var f;f=window.document.createElement("audio");f.preload="auto";var g=++oa._mediaRefCount;null==oa._mediaElements&&(oa._mediaElements=new Ua);oa._mediaElements.set(g,f);e=new md;e.addDisposingListener(f,"canplaythrough",
function(){oa._mediaElements.remove(g);c.handleLoad(b,new od(f))});e.addDisposingListener(f,"error",function(){oa._mediaElements.remove(g);var a=f.error.code;3==a||4==a?c.handleLoad(b,Ab.getInstance()):c.handleError(b,"Failed to load audio: "+f.error.code)});e.addListener(f,"progress",function(){if(0<f.buffered.length&&0<f.duration){var a=f.buffered.end(0)/f.duration;c.handleProgress(b,a*b.bytes|0)}});f.src=a;f.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new jd(a))})}},
getAssetFormats:function(a){var b=this;null==oa._supportedFormats&&(oa._supportedFormats=new ze,oa.detectImageFormats(function(a){oa._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(oa.detectAudioFormats()).concat([F.Data]))}));oa._supportedFormats.get(a)},download:function(a,b,c,d){var e=this,f=null,g=null,h=0,j=!1,k=function(){j&&(j=!1,window.clearInterval(h))},l=3,m=function(){--l;return 0<=l?(g(),!0):!1},g=function(){k();null!=f&&f.abort();
f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType=c;var g=0;f.onprogress=function(a){j||(j=!0,h=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!m()&&(k(),e.handleError(b,"Download stalled"))},1E3));g=Date.now();e.handleProgress(b,a.loaded)};f.onerror=function(){if(0!=f.status||!m())k(),e.handleError(b,"HTTP error "+f.status)};f.onload=function(){var a=f.response;null==a&&(a=f.responseText);k();d(a)};f.send()};g()},__class__:oa});var ag=function(){};m["flambe.subsystem.ExternalSystem"]=
ag;ag.__name__=["flambe","subsystem","ExternalSystem"];ag.prototype={__class__:ag};var te=function(){};m["flambe.platform.html.HtmlExternal"]=te;te.__name__=["flambe","platform","html","HtmlExternal"];te.__interfaces__=[ag];te.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,d=c,e=0,f=a.split(".");e<f.length;){var g=f[e];++e;c=d;d=t.field(c,g)}return d.apply(c,b)},__class__:te};var qe=function(a,b){rb.call(this,a);this._canvas=b};m["flambe.platform.html.HtmlMouse"]=qe;qe.__name__=["flambe",
"platform","html","HtmlMouse"];qe.__super__=rb;qe.prototype=y(rb.prototype,{__class__:qe});var od=function(a){this._disposed=!1;this.audioElement=a};m["flambe.platform.html.HtmlSound"]=od;od.__name__=["flambe","platform","html","HtmlSound"];od.__interfaces__=[xc];od.__super__=db;od.prototype=y(db.prototype,{play:function(a){null==a&&(a=1);return new pd(this,a,!1)},loop:function(a){null==a&&(a=1);return new pd(this,a,!0)},get_duration:function(){return this.audioElement.duration},onDisposed:function(){this.audioElement=
null},__class__:od,__properties__:{get_duration:"get_duration"}});var pd=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new ua(b,function(){d.updateVolume()});this.updateVolume();this._complete=new jb(!1);this.playAudio();J.hidden._value&&this.set_paused(!0)};m["flambe.platform.html._HtmlSound.HtmlPlayback"]=pd;pd.__name__=["flambe","platform",
"html","_HtmlSound","HtmlPlayback"];pd.__interfaces__=[Ee,Uc];pd.prototype={get_paused:function(){return this._clonedElement.paused},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_complete:function(){return this._complete},get_position:function(){return this._clonedElement.currentTime},update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?
(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(dc.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=J.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=J.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},
updateVolume:function(){this._clonedElement.volume=J.volume._value*this.volume._value},__class__:pd,__properties__:{get_position:"get_position",get_complete:"get_complete",set_paused:"set_paused",get_paused:"get_paused"}};var bg=function(){};m["flambe.subsystem.StageSystem"]=bg;bg.__name__=["flambe","subsystem","StageSystem"];bg.prototype={__class__:bg};var fc=function(a){var b=this;this._canvas=a;this.resize=new Tc;this.scaleFactor=fc.computeScaleFactor();1!=this.scaleFactor&&(Y.setVendorStyle(this._canvas,
"transform-origin","top left"),Y.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));Y.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){Y.callLater(o(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",o(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new jb(null);null!=window.orientation&&(window.addEventListener("orientationchange",o(this,this.onOrientationChange),!1),this.onOrientationChange(null));
this.fullscreen=new jb(!1);Y.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};m["flambe.platform.html.HtmlStage"]=fc;fc.__name__=["flambe","platform","html","HtmlStage"];fc.__interfaces__=[bg];fc.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),b=Y.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<
a*window.screen.width||1136<a*b?1:a};fc.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},requestResize:function(a,b){if(this.resizeCanvas(a,b)){var c=this._canvas.parentElement;c.style.width=a+"px";c.style.height=b+"px"}},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&
this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";Y.callLater(function(){Y.hideMobileBrowser();Y.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(Y.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==
Y.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)},__class__:fc,__properties__:{get_height:"get_height",get_width:"get_width"}};var Y=function(){};m["flambe.platform.html.HtmlUtil"]=Y;Y.__name__=["flambe","platform","html","HtmlUtil"];Y.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};Y.hideMobileBrowser=function(){window.scrollTo(1,0)};Y.loadExtension=function(a,b){null==b&&(b=window);var c=t.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};
for(var c=a.charAt(0).toUpperCase()+O.substr(a,1,null),d=0,e=Y.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;var g=f+c,h=t.field(b,g);if(null!=h)return{prefix:f,field:g,value:h}}return{prefix:null,field:null,value:null}};Y.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=Y.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};Y.polyfill=function(a,b){null==b&&(b=window);var c=Y.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};
Y.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=Y.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};Y.addVendorListener=function(a,b,c,d){for(var e=0,f=Y.VENDOR_PREFIXES;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)};Y.orientation=function(a){switch(a){case -90:case 90:return Hb.Landscape;default:return Hb.Portrait}};Y.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=
b;return c};Y.createCanvas=function(a){var b=Y.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};Y.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var ja=function(a){this._disposed=!1;this.buffer=a};m["flambe.platform.html.WebAudioSound"]=ja;ja.__name__=["flambe",
"platform","html","WebAudioSound"];ja.__interfaces__=[xc];ja.__properties__={get_supported:"get_supported"};ja.get_supported=function(){if(ja._detectSupport){ja._detectSupport=!1;var a=Y.loadExtension("AudioContext").value;null!=a&&(ja.ctx=new a,ja.gain=ja.createGain(),ja.gain.connect(ja.ctx.destination),J.volume.watch(function(a){ja.gain.gain.value=a}))}return null!=ja.ctx};ja.createGain=function(){return null!=ja.ctx.createGain?ja.ctx.createGain():ja.ctx.createGainNode()};ja.start=function(a,b){null!=
a.start?a.start(b):a.noteOn(b)};ja.__super__=db;ja.prototype=y(db.prototype,{play:function(a){null==a&&(a=1);return new qd(this,a,!1)},loop:function(a){null==a&&(a=1);return new qd(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:ja,__properties__:{get_duration:"get_duration"}});var qd=function(a,b,c){var d=this;this._sound=a;this._head=ja.gain;this._complete=new jb(!1);this._sourceNode=ja.ctx.createBufferSource();this._sourceNode.buffer=
a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){d._complete.set__(!0)};ja.start(this._sourceNode,0);this.playAudio();this.volume=new ua(b,function(a){d.setVolume(a)});1!=b&&this.setVolume(b);J.hidden._value&&this.set_paused(!0)};m["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=qd;qd.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];qd.__interfaces__=[Ee,Uc];qd.prototype={get_paused:function(){return 0<=this._pausedAt},set_paused:function(a){a!=
0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_complete:function(){return this._complete},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(ja.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=
!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=ja.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=ja.ctx.currentTime;this._pausedAt=-1;
this._tickableAdded||(dc.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=J.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:qd,__properties__:{get_position:"get_position",get_complete:"get_complete",set_paused:"set_paused",get_paused:"get_paused"}};var cg=function(){this._transitor=null};m["flambe.scene.Director"]=cg;cg.__name__=["flambe","scene","Director"];cg.__super__=na;cg.prototype=
y(na.prototype,{get_name:function(){return"Director_5"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},show:function(a){a=a._compMap.Scene_6;null!=
a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_6;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},__class__:cg,__properties__:y(na.prototype.__properties__,{get_topScene:"get_topScene"})});
var xg=function(){};m["flambe.scene._Director.Transitor"]=xg;xg.__name__=["flambe","scene","_Director","Transitor"];xg.prototype={update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();this._onComplete()},__class__:xg};var dg=function(){};m["flambe.scene.Scene"]=dg;dg.__name__=["flambe","scene","Scene"];dg.__super__=na;dg.prototype=y(na.prototype,{get_name:function(){return"Scene_6"},__class__:dg});var yg=function(){};m["flambe.scene.Transition"]=yg;
yg.__name__=["flambe","scene","Transition"];yg.prototype={update:function(){return!0},complete:function(){},__class__:yg};var Wd=function(){na.call(this);this._sounds=[]};m["flambe.sound.Mixer"]=Wd;Wd.__name__=["flambe","sound","Mixer"];Wd.__super__=na;Wd.prototype=y(na.prototype,{get_name:function(){return"Mixer_4"},createSound:function(a,b){null==b&&(b=2147483647);var c=new Ge(a,b);this._sounds.push(c);return c},stopAll:function(){for(var a=0,b=this._sounds;a<b.length;){var c=b[a];++a;c.dispose()}},
onRemoved:function(){this.stopAll();this._sounds=[]},__class__:Wd});var Ge=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};m["flambe.sound._Mixer.MixerSound"]=Ge;Ge.__name__=["flambe","sound","_Mixer","MixerSound"];Ge.__interfaces__=[Lb,xc];Ge.prototype={play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,!0)},playOrLoop:function(a,b){var c=this.findOpenChannel();if(0>c)return new ld(this);var d;d=b?this._source.loop(a):
this._source.play(a);return this._playbacks[c]=d},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var c=a++,d=this._playbacks[c];if(null==d||d.get_complete().get__())return c}return-1},get_duration:function(){return this._source.get_duration()},dispose:function(){for(var a=0,b=this._playbacks;a<b.length;){var c=b[a];++a;c.dispose()}this._playbacks=[]},__class__:Ge,__properties__:{get_duration:"get_duration"}};var eb=m["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem",
"RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};eb.Stage3D=["Stage3D",0];eb.Stage3D.toString=f;eb.Stage3D.__enum__=eb;eb.WebGL=["WebGL",1];eb.WebGL.toString=f;eb.WebGL.__enum__=eb;eb.Canvas=["Canvas",2];eb.Canvas.toString=f;eb.Canvas.__enum__=eb;eb.__empty_constructs__=[eb.Stage3D,eb.WebGL,eb.Canvas];var He=function(){};m["flambe.swf.Symbol"]=He;He.__name__=["flambe","swf","Symbol"];He.prototype={__class__:He};var Ie=function(a,b){this._name=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],
c[1],c[2],c[3]);c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0};m["flambe.swf.BitmapSymbol"]=Ie;Ie.__name__=["flambe","swf","BitmapSymbol"];Ie.__interfaces__=[He];Ie.prototype={createSprite:function(){var a=new $b(this.texture);a.setAnchor(this.anchorX,this.anchorY);return a},get_name:function(){return this._name},__class__:Ie,__properties__:{get_name:"get_name"}};var kf=function(a,b){this._file=a.getFile(b+"/library.json");var c=JSON.parse(this._file.toString());
this._symbols=new I;this.frameRate=c.frameRate;for(var d=[],e=0,f=c.movies;e<f.length;){var g=f[e];++e;g=new Kc(this,g);d.push(g);this._symbols.set(g._name,g)}c=c.textureGroups;(1!=c[0].scaleFactor||1<c.length)&&null;c=c[0].atlases;for(e=0;e<c.length;){var h=c[e];++e;f=a.getTexture(b+"/"+Ta.removeFileExtension(h.file));g=0;for(h=h.textures;g<h.length;){var j=h[g];++g;j=new Ie(j,f);this._symbols.set(j._name,j)}}for(c=0;c<d.length;){f=d[c];++c;e=0;for(f=f.layers;e<f.length;){g=f[e];++e;g=g.keyframes;
h=g.length;for(j=0;j<h;){var k=j++,l=g[k];if(null!=l.symbolName){var m=this._symbols.get(l.symbolName);l.symbol=m}if(l.tweened&&1==l.duration&&k+1<h&&(k=g[k+1],!k.visible||null==k.symbolName))l.visible=!1}}}};m["flambe.swf.Library"]=kf;kf.__name__=["flambe","swf","Library"];kf.prototype={getSymbol:function(a){return this._symbols.get(a)},iterator:function(){return this._symbols.iterator()},__class__:kf};var Jc=function(a){this._looped=null;K.call(this);this.symbol=a;this.speed=new ua(1);this._animators=
Array(a.layers.length);for(var b=0,c=this._animators.length;b<c;){var d=b++;this._animators[d]=new eg(a.layers[d])}this._position=this._frame=0;this["goto"](1)};m["flambe.swf.MovieSprite"]=Jc;Jc.__name__=["flambe","swf","MovieSprite"];Jc.__super__=K;Jc.prototype=y(K.prototype,{onAdded:function(){K.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.addChild(c.content)}},onRemoved:function(){K.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<
b.length;){var c=b[a];++a;this.owner.removeChild(c.content)}},onUpdate:function(a){K.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this._flags&384){case 0:this._position+=this.speed._value*a;this._position>this.symbol.duration&&(this._position%=this.symbol.duration,null!=this._looped&&this._looped.emit());break;case 256:this._flags&=-257}this["goto"](this._position*this.symbol.frameRate)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,c=this._animators;b<c.length;){var d=
c[b];++b;d.needsKeyframeUpdate=!0;d.keyframeIdx=0}b=0;for(c=this._animators;b<c.length;)d=c[b],++b,d.composeFrame(a);this._frame=a}},set_position:function(a){return this._position=sb.clamp(a,0,this.symbol.duration)},set_paused:function(a){this._flags=bd.set(this._flags,128,a);return a},set_pixelSnapping:function(a){for(var b=0,c=this._animators;b<c.length;){var d=c[b];++b;d.setPixelSnapping(a)}return K.prototype.set_pixelSnapping.call(this,a)},rewind:function(){this._position=0;this._flags|=256},
__class__:Jc,__properties__:y(K.prototype.__properties__,{set_paused:"set_paused",set_position:"set_position"})});var eg=function(a){this.keyframeIdx=0;this.needsKeyframeUpdate=!1;this.layer=a;this.content=new ga;if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);for(var b=0,c=this._sprites.length;b<c;){var d=b++,e=a.keyframes[d];this._sprites[d]=0<d&&a.keyframes[d-1].symbol==e.symbol?this._sprites[d-1]:null==e.symbol?new K:e.symbol.createSprite()}this.content.add(this._sprites[0])}};
m["flambe.swf._MovieSprite.LayerAnimator"]=eg;eg.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];eg.prototype={composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,c=b.length-1;if(a>this.layer.frames)this.content._compMap.Sprite_3.set_visible(!1),this.keyframeIdx=c,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<c&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.needsKeyframeUpdate=!0;var d;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,d=this._sprites[this.keyframeIdx],
d!=this.content._compMap.Sprite_3&&(aa.getClass(d)==Jc&&d.rewind(),this.content.add(d))):d=this.content._compMap.Sprite_3;var e=b[this.keyframeIdx],f=e.visible&&null!=e.symbol;d.set_visible(f);if(f){var f=e.x,g=e.y,h=e.scaleX,j=e.scaleY,k=e.skewX,l=e.skewY,m=e.alpha;if(e.tweened&&this.keyframeIdx<c){a=(a-e.index)/e.duration;c=e.ease;if(0!=c){var n;0>c?(n=1-a,n=1-n*n,c=-c):n=a*a;a=c*n+(1-c)*a}b=b[this.keyframeIdx+1];f+=(b.x-f)*a;g+=(b.y-g)*a;h+=(b.scaleX-h)*a;j+=(b.scaleY-j)*a;k+=(b.skewX-k)*a;l+=
(b.skewY-l)*a;m+=(b.alpha-m)*a}b=d.getLocalMatrix();a=Math.sin(k);k=Math.cos(k);c=Math.sin(l);l=Math.cos(l);b.set(l*h,c*h,-a*j,k*j,f,g);b.translate(-e.pivotX,-e.pivotY);d.alpha.set__(m)}}}},setPixelSnapping:function(a){for(var b=0,c=this._sprites;b<c.length;){var d=c[b];++b;d.set_pixelSnapping(a)}},__class__:eg};var Kc=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;c<d;){var e=c++,f=new fg(b.layers[e]);this.frames=
Math.max(f.frames,this.frames);this.layers[e]=f}this.duration=this.frames/this.frameRate};m["flambe.swf.MovieSymbol"]=Kc;Kc.__name__=["flambe","swf","MovieSymbol"];Kc.__interfaces__=[He];Kc.prototype={get_name:function(){return this._name},createSprite:function(){return new Jc(this)},__class__:Kc,__properties__:{get_name:"get_name"}};var fg=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=0,d=this.keyframes.length;c<d;){var e=c++,b=new gg(a.keyframes[e],
b);this.keyframes[e]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+b.duration:0};m["flambe.swf.MovieLayer"]=fg;fg.__name__=["flambe","swf","MovieLayer"];fg.prototype={__class__:fg};var gg=function(a,b){this.ease=0;this.visible=this.tweened=!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;var c=
a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.tweened&&(this.tweened=a.tweened);null!=a.ease&&(this.ease=a.ease)};m["flambe.swf.MovieKeyframe"]=gg;gg.__name__=["flambe","swf","MovieKeyframe"];gg.prototype={__class__:gg};var Of=function(){};m["flambe.util.Assert"]=
Of;Of.__name__=["flambe","util","Assert"];Of.that=function(){};var bd=function(){};m["flambe.util.BitSets"]=bd;bd.__name__=["flambe","util","BitSets"];bd.set=function(a,b,c){return c?a|b:a&~b};var ze=function(){this.success=new Ba;this.error=new Ba;this.progressChanged=new Tc;this.hasResult=!1;this._total=this._progress=0};m["flambe.util.Promise"]=ze;ze.__name__=["flambe","util","Promise"];ze.prototype={set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;
this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:ze,__properties__:{set_total:"set_total",set_progress:"set_progress",set_result:"set_result"}};var Tc=function(a){Oa.call(this,a)};m["flambe.util.Signal0"]=
Tc;Tc.__name__=["flambe","util","Signal0"];Tc.__super__=Oa;Tc.prototype=y(Oa.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==Oa.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:Tc});var Mf=function(a){this.next=null;this.fn=a};m["flambe.util._SignalBase.Task"]=Mf;Mf.__name__=
["flambe","util","_SignalBase","Task"];Mf.prototype={__class__:Mf};var Ta=function(){};m["flambe.util.Strings"]=Ta;Ta.__name__=["flambe","util","Strings"];Ta.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?O.substr(a,b+1,null):null};Ta.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?O.substr(a,0,b):a};Ta.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=O.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=O.substr(a,b+1,null));return Ta.getFileExtension(a)};
Ta.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};Ta.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(C.is(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+C.string(f);d+=2}a+="]"}return a};var Pb=function(){};m["flambesdk.BaseUtils"]=Pb;Pb.__name__=["flambesdk","BaseUtils"];Pb.setupBaseURL=function(){Pb.BASE_URL=kb.get_exists()?kb.get_isCrossdomain()?Pb.appendAssetsToUrl(kb.get_base()):
Pb.trimUrl(kb.get_base()):""};Pb.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=O.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=O.substr(a,b,a.length-b);return a=Pb.appendAssetsToUrl(a)};Pb.appendAssetsToUrl=function(a){"/"!=a.charAt(a.length-1)&&(a+="/");return a+"assets/"};var rd=function(){na.call(this);this.sdk=new Tb;J.uncaughtError.connect((fa=this.sdk,o(fa,fa.onException)));ea.onSuspendToggle=
function(a){J.root.add(new ue(a?0:1))}};m["flambesdk.SDKComponent"]=rd;rd.__name__=["flambesdk","SDKComponent"];rd.__super__=na;rd.prototype=y(na.prototype,{get_name:function(){return"SDKComponent_1"},onUpdate:function(a){this.sdk.onUpdate(a)},__class__:rd});var fb=m["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};fb.CFunction=["CFunction",0];fb.CFunction.toString=f;fb.CFunction.__enum__=fb;fb.Module=function(a){a=["Module",
1,a];a.__enum__=fb;a.toString=f;return a};fb.FilePos=function(a,b,c){a=["FilePos",2,a,b,c];a.__enum__=fb;a.toString=f;return a};fb.Method=function(a,b){var c=["Method",3,a,b];c.__enum__=fb;c.toString=f;return c};fb.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=fb;a.toString=f;return a};fb.__empty_constructs__=[fb.CFunction];var Bb=function(){};m["haxe.CallStack"]=Bb;Bb.__name__=["haxe","CallStack"];Bb.callStack=function(){var a=Error.prepareStackTrace;Error.prepareStackTrace=function(a,
b){for(var e=[],f=0;f<b.length;){var g=b[f];++f;var h=null,j=g.getFunctionName();if(null!=j){var k=j.lastIndexOf(".");0<=k&&(h=O.substr(j,0,k),j=O.substr(j,k+1,null),h=fb.Method(h,j))}e.push(fb.FilePos(h,g.getFileName(),g.getLineNumber()))}return e};var b=Bb.makeStack(Error().stack);b.shift();Error.prepareStackTrace=a;return b};Bb.exceptionStack=function(){return[]};Bb.toString=function(a){for(var b=new ec,c=0;c<a.length;){var d=a[c];++c;b.b+="\nCalled from ";Bb.itemToString(b,d)}return b.b};Bb.itemToString=
function(a,b){switch(b[1]){case 0:a.b+="a C function";break;case 1:var c=b[2];a.b+="module ";a.b=null==c?a.b+"null":a.b+(""+c);break;case 2:var c=b[4],d=b[3],e=b[2];null!=e&&(Bb.itemToString(a,e),a.b+=" (");a.b=null==d?a.b+"null":a.b+(""+d);a.b+=" line ";a.b=null==c?a.b+"null":a.b+(""+c);null!=e&&(a.b+=")");break;case 3:c=b[3];d=b[2];a.b=null==d?a.b+"null":a.b+(""+d);a.b+=".";a.b=null==c?a.b+"null":a.b+(""+c);break;case 4:c=b[2],a.b+="local function #",a.b=null==c?a.b+"null":a.b+(""+c)}};Bb.makeStack=
function(a){if("string"==typeof a){for(var a=a.split("\n"),b=[],c=0;c<a.length;){var d=a[c];++c;b.push(fb.Module(d))}return b}return a};var Ec=function(a){this.url=a;this.headers=new Ob;this.params=new Ob;this.async=!0};m["haxe.Http"]=Ec;Ec.__name__=["haxe","Http"];Ec.prototype={setHeader:function(a,b){this.headers=Nb.filter(this.headers,function(b){return b.header!=a});this.headers.push({header:a,value:b});return this},setParameter:function(a,b){this.params=Nb.filter(this.params,function(b){return b.param!=
a});this.params.push({param:a,value:b});return this},setPostData:function(a){this.postData=a;return this},request:function(a){var b=this;b.responseData=null;var c=this.req=zg.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.req=null,b.onData(b.responseData=c.responseText);else if(null==a)b.req=null,b.onError("Failed to connect or resolve host");else switch(a){case 12029:b.req=null;
b.onError("Failed to connect to host");break;case 12007:b.req=null;b.onError("Unknown host");break;default:b.req=null,b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var e=this.postData;if(null!=e)a=!0;else for(var f=this.params.iterator();f.hasNext();)var g=f.next(),e=null==e?"":e+"&",e=e+(encodeURIComponent(g.param)+"="+encodeURIComponent(g.value));try{if(a)c.open("POST",this.url,this.async);else if(null!=e){var h=1>=this.url.split("?").length;
c.open("GET",this.url+(h?"?":"&")+e,this.async);e=null}else c.open("GET",this.url,this.async)}catch(j){b.req=null;this.onError(j.toString());return}!Nb.exists(this.headers,function(a){return"Content-Type"==a.header})&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.iterator();a.hasNext();)f=a.next(),c.setRequestHeader(f.header,f.value);c.send(e);this.async||d(null)},onData:function(){},onError:function(){},onStatus:function(){},__class__:Ec};
var Fb=function(){this.buf=new ec;this.cache=[];this.useCache=Fb.USE_CACHE;this.useEnumIndex=Fb.USE_ENUM_INDEX;this.shash=new I;this.scount=0};m["haxe.Serializer"]=Fb;Fb.__name__=["haxe","Serializer"];Fb.run=function(a){var b=new Fb;b.serialize(a);return b.toString()};Fb.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",
a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b=null==e?this.buf.b+"null":this.buf.b+(""+e),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=t.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);
this.serialize(t.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=aa["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==
String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,d=0;d<c;){var e=d++;null==a[e]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case Ob:this.buf.b+="l";for(a=a.iterator();a.hasNext();)this.serialize(a.next());
this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(O.dateStr(a));break;case I:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(a.get(c));this.buf.b+="h";break;case Ua:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.get(c));this.buf.b+="h";break;case zb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=t.field(c,"__id__"),t.deleteField(c,"__id__"),
this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Vc:d=0;e=a.length-2;b=new ec;for(c=Fb.BASE64;d<e;){var f=a.get(d++),g=a.get(d++),h=a.get(d++);b.add(c.charAt(f>>2));b.add(c.charAt((f<<4|g>>4)&63));b.add(c.charAt((g<<2|h>>6)&63));b.add(c.charAt(h&63))}d==e?(e=a.get(d++),a=a.get(d++),b.add(c.charAt(e>>2)),b.add(c.charAt((e<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):d==e+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=
null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(aa.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(aa.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+=
"o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(aa.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=C.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=C.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+
C.string(a);}},__class__:Fb};var cb=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=cb.DEFAULT_RESOLVER;null==a&&(a=aa,cb.DEFAULT_RESOLVER=a);this.setResolver(a)};m["haxe.Unserializer"]=cb;cb.__name__=["haxe","Unserializer"];cb.initCodes=function(){for(var a=[],b=0,c=cb.BASE64.length;b<c;){var d=b++;a[cb.BASE64.charCodeAt(d)]=d}return a};cb.run=function(a){return(new cb(a)).unserialize()};cb.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw"Invalid object key";var c=
this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return aa.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return aa.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||
101==b||69==b)this.pos++;else break}return C.parseFloat(O.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";b=O.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;
break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw"Invalid reference";return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";return this.scache[a];case 120:throw this.unserialize();case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+
a;a=aa.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;this.pos++;var c=this.readDigits(),d=aa.getEnumConstructs(b)[c];if(null==d)throw"Unknown enum index "+a+"@"+c;a=this.unserializeEnum(b,d);this.cache.push(a);
return a;case 108:a=new Ob;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new I;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new Ua;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";return a;case 77:a=new zb;for(this.cache.push(a);104!=
this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=O.substr(this.buf,this.pos,19),a=O.strDate(a),this.cache.push(a),this.pos+=19,a;case 115:a=this.readDigits();d=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var e=cb.CODES;null==e&&(e=cb.initCodes(),cb.CODES=e);for(var f=this.pos,g=a&3,h=f+(a-g),b=Vc.alloc(3*(a>>2)+(2<=g?g-1:0)),c=0;f<h;){var j=e[ca.fastCodeAt(d,f++)],k=e[ca.fastCodeAt(d,
f++)];b.set(c++,j<<2|k>>4);j=e[ca.fastCodeAt(d,f++)];b.set(c++,k<<4|j>>2);k=e[ca.fastCodeAt(d,f++)];b.set(c++,j<<6|k)}2<=g&&(k=e[ca.fastCodeAt(d,f++)],h=e[ca.fastCodeAt(d,f++)],b.set(c++,k<<2|h>>4),3==g&&(d=e[ca.fastCodeAt(d,f++)],b.set(c++,h<<4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=aa.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw"Invalid custom data";
return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:cb};var Vc=function(a,b){this.length=a;this.b=b};m["haxe.io.Bytes"]=Vc;Vc.__name__=["haxe","io","Bytes"];Vc.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new Vc(a,b)};Vc.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},__class__:Vc};var xa=function(){};m["haxe.ds.ArraySort"]=xa;xa.__name__=["haxe","ds","ArraySort"];xa.sort=function(a,b){xa.rec(a,b,0,
a.length)};xa.rec=function(a,b,c,d){var e=c+d>>1;if(12>d-c){if(!(d<=c))for(e=c+1;e<d;)for(var f=e++;f>c;){if(0>b(a[f],a[f-1]))xa.swap(a,f-1,f);else break;f--}}else xa.rec(a,b,c,e),xa.rec(a,b,e,d),xa.doMerge(a,b,c,e,d,e-c,d-e)};xa.doMerge=function(a,b,c,d,e,f,g){var h,j,k,l;0==f||0==g||(2==f+g?0>b(a[d],a[c])&&xa.swap(a,d,c):(f>g?(k=f>>1,h=c+k,j=xa.lower(a,b,d,e,h),l=j-d):(l=g>>1,j=d+l,h=xa.upper(a,b,c,d,j),k=h-c),xa.rotate(a,b,h,d,j),d=h+l,xa.doMerge(a,b,c,h,d,k,l),xa.doMerge(a,b,d,j,e,f-k,g-l)))};
xa.rotate=function(a,b,c,d,e){if(!(c==d||d==e))for(b=xa.gcd(e-c,d-c);0!=b--;){for(var f=a[c+b],g=d-c,h=c+b,j=c+b+g;j!=c+b;)a[h]=a[j],h=j,j=e-j>g?j+g:c+(g-(e-j));a[h]=f}};xa.gcd=function(a,b){for(;0!=b;)var c=a%b,a=b,b=c;return a};xa.upper=function(a,b,c,d,e){for(var d=d-c,f,g;0<d;)f=d>>1,g=c+f,0>b(a[e],a[g])?d=f:(c=g+1,d=d-f-1);return c};xa.lower=function(a,b,c,d,e){for(var d=d-c,f,g;0<d;)f=d>>1,g=c+f,0>b(a[g],a[e])?(c=g+1,d=d-f-1):d=f;return c};xa.swap=function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d};
var Je=function(){};m["haxe.ds.BalancedTree"]=Je;Je.__name__=["haxe","ds","BalancedTree"];Je.prototype={set:function(a,b){this.root=this.setLoop(a,b,this.root)},get:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return b.value;b=0>c?b.left:b.right}return null},remove:function(a){try{return this.root=this.removeLoop(a,this.root),!0}catch(b){if(D.__instanceof(b,String))return!1;throw b;}},exists:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==
c)return!0;b=0>c?b.left:b.right}return!1},iterator:function(){var a=[];this.iteratorLoop(this.root,a);return O.iter(a)},keys:function(){var a=[];this.keysLoop(this.root,a);return O.iter(a)},setLoop:function(a,b,c){if(null==c)return new Za(null,a,b,null);var d=this.compare(a,c.key);if(0==d)return new Za(c.left,a,b,c.right,null==c?0:c._height);if(0>d)return this.balance(this.setLoop(a,b,c.left),c.key,c.value,c.right);a=this.setLoop(a,b,c.right);return this.balance(c.left,c.key,c.value,a)},removeLoop:function(a,
b){if(null==b)throw"Not_found";var c=this.compare(a,b.key);return 0==c?this.merge(b.left,b.right):0>c?this.balance(this.removeLoop(a,b.left),b.key,b.value,b.right):this.balance(b.left,b.key,b.value,this.removeLoop(a,b.right))},iteratorLoop:function(a,b){null!=a&&(this.iteratorLoop(a.left,b),b.push(a.value),this.iteratorLoop(a.right,b))},keysLoop:function(a,b){null!=a&&(this.keysLoop(a.left,b),b.push(a.key),this.keysLoop(a.right,b))},merge:function(a,b){if(null==a)return b;if(null==b)return a;var c=
this.minBinding(b);return this.balance(a,c.key,c.value,this.removeMinBinding(b))},minBinding:function(a){if(null==a)throw"Not_found";return null==a.left?a:this.minBinding(a.left)},removeMinBinding:function(a){return null==a.left?a.right:this.balance(this.removeMinBinding(a.left),a.key,a.value,a.right)},balance:function(a,b,c,d){var e;e=null==a?0:a._height;var f;f=null==d?0:d._height;return e>f+2?function(){var b=a.left;return null==b?0:b._height}(this)>=function(){var b=a.right;return null==b?0:b._height}(this)?
new Za(a.left,a.key,a.value,new Za(a.right,b,c,d)):new Za(new Za(a.left,a.key,a.value,a.right.left),a.right.key,a.right.value,new Za(a.right.right,b,c,d)):f>e+2?function(){var a=d.right;return null==a?0:a._height}(this)>function(){var a=d.left;return null==a?0:a._height}(this)?new Za(new Za(a,b,c,d.left),d.key,d.value,d.right):new Za(new Za(a,b,c,d.left.left),d.left.key,d.left.value,new Za(d.left.right,d.key,d.value,d.right)):new Za(a,b,c,d,(e>f?e:f)+1)},compare:function(a,b){return t.compare(a,b)},
__class__:Je};var Za=function(a,b,c,d,e){null==e&&(e=-1);this.left=a;this.key=b;this.value=c;this.right=d;this._height=-1==e?(function(a){a=a.left;return null==a?0:a._height}(this)>function(a){a=a.right;return null==a?0:a._height}(this)?function(a){a=a.left;return null==a?0:a._height}(this):function(a){a=a.right;return null==a?0:a._height}(this))+1:e};m["haxe.ds.TreeNode"]=Za;Za.__name__=["haxe","ds","TreeNode"];Za.prototype={__class__:Za};var ob=function(){};m["haxe.ds.EnumValueMap"]=ob;ob.__name__=
["haxe","ds","EnumValueMap"];ob.__interfaces__=[yc];ob.__super__=Je;ob.prototype=y(Je.prototype,{compare:function(a,b){var c=a[1]-b[1];if(0!=c)return c;var c=a.slice(2),d=b.slice(2);return 0==c.length&&0==d.length?0:this.compareArgs(c,d)},compareArgs:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(var c=0,d=a.length;c<d;){var e=c++,e=this.compareArg(a[e],b[e]);if(0!=e)return e}return 0},compareArg:function(a,b){return t.isEnumValue(a)&&t.isEnumValue(b)?this.compare(a,b):a instanceof Array&&
null==a.__enum__&&b instanceof Array&&null==b.__enum__?this.compareArgs(a,b):t.compare(a,b)},__class__:ob});var Ua=function(){this.h={}};m["haxe.ds.IntMap"]=Ua;Ua.__name__=["haxe","ds","IntMap"];Ua.__interfaces__=[yc];Ua.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b|0);return O.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref[this.it.next()]}}},__class__:Ua};var zb=function(){this.h={};this.h.__keys__={}};m["haxe.ds.ObjectMap"]=zb;zb.__name__=["haxe","ds","ObjectMap"];zb.__interfaces__=[yc];zb.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++zb.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=
this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return O.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref[this.it.next().__id__]}}},__class__:zb};var I=function(){this.h={}};m["haxe.ds.StringMap"]=I;I.__name__=
["haxe","ds","StringMap"];I.__interfaces__=[yc];I.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return O.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+
this.it.next()]}}},__class__:I};var Ag=function(){};m["haxe.io.Eof"]=Ag;Ag.__name__=["haxe","io","Eof"];Ag.prototype={toString:function(){return"Eof"},__class__:Ag};var vg=function(){};m["haxe.rtti.Meta"]=vg;vg.__name__=["haxe","rtti","Meta"];vg.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};var hg=function(a){this.__x=a};m["haxe.xml._Fast.NodeAccess"]=hg;hg.__name__=["haxe","xml","_Fast","NodeAccess"];hg.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();
if(null==b)throw(this.__x.nodeType==N.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;return new Hc(b)},__class__:hg};var ig=function(a){this.__x=a};m["haxe.xml._Fast.AttribAccess"]=ig;ig.__name__=["haxe","xml","_Fast","AttribAccess"];ig.prototype={resolve:function(a){if(this.__x.nodeType==N.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.get_nodeName()+" is missing attribute "+a;return b},__class__:ig};var jg=function(a){this.__x=
a};m["haxe.xml._Fast.HasAttribAccess"]=jg;jg.__name__=["haxe","xml","_Fast","HasAttribAccess"];jg.prototype={__class__:jg};var kg=function(a){this.__x=a};m["haxe.xml._Fast.HasNodeAccess"]=kg;kg.__name__=["haxe","xml","_Fast","HasNodeAccess"];kg.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:kg};var lg=function(a){this.__x=a};m["haxe.xml._Fast.NodeListAccess"]=lg;lg.__name__=["haxe","xml","_Fast","NodeListAccess"];lg.prototype={resolve:function(a){for(var b=new Ob,
a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new Hc(c))}return b},__class__:lg};var Hc=function(a){if(a.nodeType!=N.Document&&a.nodeType!=N.Element)throw"Invalid nodeType "+C.string(a.nodeType);this.x=a;this.node=new hg(a);this.nodes=new lg(a);this.att=new ig(a);this.has=new jg(a);this.hasNode=new kg(a)};m["haxe.xml.Fast"]=Hc;Hc.__name__=["haxe","xml","Fast"];Hc.prototype={get_name:function(){return this.x.nodeType==N.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=
this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==N.PCData&&c.nodeType==N.CData&&""==ca.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==N.PCData&&""==ca.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";}if(b.nodeType!=N.PCData&&b.nodeType!=N.CData)throw this.get_name()+" does not have data";return b.get_nodeValue()},__class__:Hc,__properties__:{get_innerData:"get_innerData",
get_name:"get_name"}};var Ub=function(){};m["haxe.xml.Parser"]=Ub;Ub.__name__=["haxe","xml","Parser"];Ub.parse=function(a){var b=N.createDocument();Ub.doParse(a,0,b);return b};Ub.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,e=1,f=1,g=null,h=0,j=0,k=0,l=a.charCodeAt(b),m=new ec;l==l;){switch(e){case 0:switch(l){case 10:case 13:case 9:case 32:break;default:e=f;continue}break;case 1:switch(l){case 60:e=0;f=2;break;default:h=b;e=13;continue}break;case 13:60==l?(f=N.createPCData(m.b+O.substr(a,
h,b-h)),m=new ec,c.addChild(f),j++,e=0,f=2):38==l&&(m.addSub(a,h,b-h),e=18,f=13,h=b+1);break;case 17:93==l&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(e=N.createCData(O.substr(a,h,b-h)),c.addChild(e),j++,b+=2,e=1);break;case 2:switch(l){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=O.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;e=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=O.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;e=16}else{if(45!=
a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;e=15}h=b+1;break;case 63:e=14;h=b;break;case 47:if(null==c)throw"Expected node name";h=b+1;e=0;f=10;break;default:e=3;h=b;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(b==h)throw"Expected node name";d=N.createElement(O.substr(a,h,b-h));c.addChild(d);e=0;f=4;continue}break;case 4:switch(l){case 47:e=11;j++;break;case 62:e=9;j++;break;default:e=5;h=b;continue}break;case 5:if(!(97<=
l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==b)throw"Expected attribute name";g=O.substr(a,h,b-h);if(d.exists(g))throw"Duplicate attribute";e=0;f=6;continue}break;case 6:switch(l){case 61:e=0;f=7;break;default:throw"Expected =";}break;case 7:switch(l){case 34:case 39:e=8;h=b;break;default:throw'Expected "';}break;case 8:l==a.charCodeAt(h)&&(f=O.substr(a,h+1,b-h-1),d.set(g,f),e=0,f=4);break;case 9:h=b=Ub.doParse(a,b,d);e=1;break;case 11:switch(l){case 62:e=1;break;default:throw"Expected >";
}break;case 12:switch(l){case 62:return 0==j&&c.addChild(N.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==b)throw"Expected node name";if(O.substr(a,h,b-h)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";e=0;f=12;continue}break;case 15:45==l&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(N.createComment(O.substr(a,h,b-h))),b+=2,e=1);break;case 16:91==l?k++:93==l?k--:62==l&&0==k&&(c.addChild(N.createDocType(O.substr(a,
h,b-h))),e=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,e=O.substr(a,h+1,b-h-2),c.addChild(N.createProcessingInstruction(e)),e=1);break;case 18:59==l&&(h=O.substr(a,h,b-h),35==h.charCodeAt(0)?(h=120==h.charCodeAt(1)?C.parseInt("0"+O.substr(h,1,h.length-1)):C.parseInt(O.substr(h,1,h.length-1)),m.add(String.fromCharCode(h))):Ub.escapes.exists(h)?m.add(Ub.escapes.get(h)):m.b+=C.string("&"+h+";"),h=b+1,e=f)}l=ca.fastCodeAt(a,++b)}1==e&&(h=b,e=13);if(13==e)return(b!=h||0==j)&&c.addChild(N.createPCData(m.b+
O.substr(a,h,b-h))),b;throw"Unexpected end";};var D=function(){};m["js.Boot"]=D;D.__name__=["js","Boot"];D.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};D.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+
D.__string_rec(a[f],b)):c+D.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+D.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return"???"}if(null!=d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+D.__string_rec(a[c],
b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};D.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||D.__interfLoop(f,b))return!0}return D.__interfLoop(a.__super__,b)};D.__instanceof=function(a,b){if(null==b)return!1;switch(b){case dd:return(a|0)===a;case $:return"number"==typeof a;case Zd:return"boolean"==typeof a;case String:return"string"==
typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Fg:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||D.__interfLoop(D.getClass(a),b)))return!0}else return!1;return b==Gg&&null!=a.__name__||b==Hg&&null!=a.__ename__?!0:a.__enum__==b}};D.__cast=function(a,b){if(D.__instanceof(a,b))return a;throw"Cannot cast "+C.string(a)+" to "+C.string(b);};var zg=function(){};m["js.Browser"]=zg;zg.__name__=["js","Browser"];zg.createXMLHttpRequest=function(){if("undefined"!=
typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw"Unable to create XMLHttpRequest object.";};var og=function(){};m["js.Lib"]=og;og.__name__=["js","Lib"];og.eval=function(a){return eval(a)};var Tb=function(){this.isDirty=!1;this.eventQueue=new Ob;this.debugMode=!1;this.modules=[];this.gameObj={majorversion:1,minorversion:0.4,apiversion:1};ea.init(this);mb.init(this);this.initializeBridge()};m["nicksdk.SDK"]=Tb;Tb.__name__=
["nicksdk","SDK"];Tb.eval=function(a,b){null==b&&(b=[]);for(var c=null,d=null,e=0,f=a.split(".");e<f.length;){var g=f[e];++e;c=d;d=null==c?t.field(window,g):t.field(c,g)}return d.apply(c,b)};Tb.prototype={onException:function(a){try{this.queueEvent("error",{msg:a,callstack:Bb.toString(Bb.callStack()),exceptionstack:Bb.toString(Bb.exceptionStack())})}catch(b){this.queueEvent("error",{msg:a})}},initializeBridge:function(){try{this.queueEvent("init",{js:ea.executeWebRequest})}catch(a){null}},setDebugMode:function(a){(this.debugMode=
a)?this.gameObj.debugmode=!0:t.deleteField(this.gameObj,"debugmode");this.isDirty=!0;for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.setDebugMode(a)}},queueEvent:function(a,b){b.eventName=a;t.setField(b,"timestamp",(new Date).getTime());this.eventQueue.add(b);this.flush_events();this.sync_state()},onUpdate:function(a){var b=this.isDirty;this.isDirty=!1;for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;b=b||e.update(a)}0<this.eventQueue.length&&(b=!0,this.flush_events());b&&this.sync_state()},
flush_events:function(){for(;0<this.eventQueue.length;)Tb.output_event_array.push(this.eventQueue.pop())},sync_state:function(){try{Tb.eval("nsdk_expose",[this.gameObj,Tb.output_event_array]),Tb.output_event_array.length=0}catch(a){null}},log:function(a,b){this.debugMode&&this.queueEvent("log",{id:a,msg:b})},__class__:Tb};var Bg=function(){};m["nicksdk.SDKModule"]=Bg;Bg.__name__=["nicksdk","SDKModule"];Bg.prototype={__class__:Bg};var mb=function(){};m["nicksdk.event.GameEventEmitter"]=mb;mb.__name__=
["nicksdk","event","GameEventEmitter"];mb.init=function(a){mb.sdk=a};mb.sendGameEvent=function(a,b){mb.callExternal(a,b)};mb.callExternal=function(a,b){if(null!=mb.sdk)mb.sdk.queueEvent(a,{params:b});else throw"SDK not initialized!";};var ea=function(){};m["nicksdk.event.GameEventListener"]=ea;ea.__name__=["nicksdk","event","GameEventListener"];ea.init=function(a){ea.sdk=a};ea.executeWebRequest=function(a){ea.AssertType(a,T.TObject);if(null==a.name)return!1;switch(a.name){case "toggleaudio":ea.AssertParameter(a,
"enable",T.TBool);if(null!=ea.onAudioToggle)return ea.onAudioToggle(a.enable),!0;ea.sdk.log("SDKGameEventListener","Audio Toggle is not implemented.");break;case "toggleplayback":ea.AssertParameter(a,"enable",T.TBool);if(null!=ea.onPlaybackToggle)return ea.onPlaybackToggle(a.enable),!0;ea.sdk.log("SDKGameEventListener","Playback Toggle is not implemented.");break;case "togglesuspend":ea.AssertParameter(a,"enable",T.TBool);if(null!=ea.onSuspendToggle)ea.onSuspendToggle(a.enable);else ea.sdk.log("SDKGameEventListener",
"Suspend Toggle is not implemented.");break;case "toggledebug":ea.AssertParameter(a,"enable",T.TBool);if(null!=ea.onDebugModeToggle)ea.onDebugModeToggle(a.enable);else ea.sdk.log("SDKGameEventListener","Debug Mode Toggle is not implemented.");if(null!=ea.sdk)return ea.sdk.setDebugMode(a.enable),!0;break;default:ea.sdk.log("SDKGameEventListener","Unknown function")}return!1};ea.AssertType=function(a,b){var c=aa["typeof"](a);if(c!=b)throw c="TypeCheck: Object {"+C.string(a)+"} was of type {"+C.string(c)+
"}. Expected type {"+C.string(b)+"}",null!=ea.sdk&&ea.sdk.log("SDKGameEventListener",c),c;};ea.AssertParameter=function(a,b,c){if(Object.prototype.hasOwnProperty.call(a,b))a=t.field(a,b),ea.AssertType(a,c);else throw c="ParameterCheck: Parameter {"+b+"} of type{"+C.string(c)+"} does not exist!",null!=ea.sdk&&ea.sdk.log("SDKGameEventListener",c),c;};var kb=function(){};m["nicksdk.jsembed.JSEmbedProxy"]=kb;kb.__name__=["nicksdk","jsembed","JSEmbedProxy"];kb.__properties__={get_isCrossdomain:"get_isCrossdomain",
get_base:"get_base",get_exists:"get_exists"};kb.get_exists=function(){return kb.callJSEmbedMethod("exists()")};kb.get_base=function(){return kb.callJSEmbedMethod("baseUrl()")};kb.get_isCrossdomain=function(){return kb.callJSEmbedMethod("isBaseCrossdomain()")};kb.callJSEmbedMethod=function(a){try{var b=kb.eval("eval",["jsembed."+a]);if(null!=b)return b}catch(c){}return""};kb.eval=function(a,b){null==b&&(b=[]);for(var c=window,d=c,e=0,f=a.split(".");e<f.length;){var g=f[e];++e;c=d;d=t.field(c,g)}return d.apply(c,
b)};var fa,Eg=0;Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;m.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=m.String=String;String.__name__=["String"];m.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=m.Date=Date;Date.__name__=["Date"];var dd=m.Int={__name__:["Int"]},Fg=m.Dynamic={__name__:["Dynamic"]},$=m.Float=Number;$.__name__=["Float"];
var Zd=m.Bool=Boolean;Zd.__ename__=["Bool"];var Gg=m.Class={__name__:["Class"]},Hg={};N.Element="element";N.PCData="pcdata";N.CData="cdata";N.Comment="comment";N.DocType="doctype";N.ProcessingInstruction="processingInstruction";N.Document="document";$a.SINGLE_NAMES=115;$a.OPTIONAL_SLOTS=[q.HAT];z._scratchPoint=new Ca;z._DEBUG_SHOW_HITBOX=!1;E._DEBUG_SHOW_CLICKWALL=!1;s.STAGE_WIDTH=960;s.STAGE_CENTER_X=480;s.scaleFactor=1;s.ACHIEVEMENTS_ID="X";s.SHARED_OBJECT_DATA_ID="sbcc_1.0.0";s.MAX_AVATARS=10;
s.BG_ASSET="";s._uniqueId=0;s._isCocoon=-1;nb._GRID_START_X=-(s.STAGE_WIDTH/2)+220;nb._GRID_OFFSET_X=(s.STAGE_WIDTH-450)/4;nb._GRID_START_Y=-45;nb._GRID_OFFSET_Y=155;zc._TAP_TO_EDIT_Y=-200;zc._LARGE_PANEL_WIDTH=718;Wc.TIMER_POINTER=1.5;Kb._scratchPoint=new Ca;Fc._NUM_ITEMS=5;Fc._NUM_ITEMS_BG=3;ba._CLICK_TIME=1;ba._DRAG_THRESH=10;ba._MAX_SIZE=100;ba._idAssign=0;bb._LARGE_WIDTH=710;bb._LARGE_HEIGHT=312;bb._MEDIUM_WIDTH=414;bb._MEDIUM_HEIGHT=153;bb._SMALL_WIDTH=275;bb._SMALL_HEIGHT=150;bb._MINI_WIDTH=
171;bb._MINI_HEIGHT=150;h.texture=new af;h.sound=new Ye;h.xml=new bf;h.spine=new $e;h.localization=new Xe;h.xmlconfig=["config_loading","config"];K._scratchPoint=new Ca;xb.radDeg=180/Math.PI;xb.degRad=Math.PI/180;Rb.VERSION="3.2.00";Rb.FPS=30;qb.ACTION_STOP=0;qb.ACTION_OPENED=1;qb.ACTION_CLOSED=4;qb.ACTION_FLOW=5;oe._DEBUG_SHOW_HITBOX=!1;Na._tweenRemoval=[];Na._tweenUpdate=[];Cb._canadaShowGameTitle="";H._offlineUserId="";H._offlineTrackingId="";H._sessionId="";H._flagInitted=!1;H._DEFAULT_SHARED_OBJECT_ID=
"nkcimocuresid";H.OPTION_ENABLE_TRACKING=!0;Ka._mapEmpty=[];dc.instance=new dc;Oa.DISPATCHING_SENTINEL=new Rc(null,null);J.root=new ga;J.uncaughtError=new Ba;J.hidden=new jb(!1);J.volume=new ua(1);J._platform=dc.instance;J._calledInit=!1;wb.__meta__={obj:{assets:[{fonts_en_simple:[{bytes:48265,md5:"bd5f4b81c49be8bac57cc47996dc527a",name:"nick_comic_creator_font_outline.fnt"},{bytes:54456,md5:"2a98a85596c3e971e0471c7a3ac60c0e",name:"nick_comic_creator_font_outline.png"},{bytes:48265,md5:"41705abee21487e7722124d787ee6483",
name:"nick_comic_creator_font_regular.fnt"},{bytes:29555,md5:"5cd275b8b9a12496d63ea4e8fe0323b5",name:"nick_comic_creator_font_regular.png"},{bytes:62303,md5:"d262625fed9c98ace64526987df7ae69",name:"translation.xml"}],preload:[{bytes:120,md5:"615ebe96921517c67db4c77adc008706",name:"loader_fill.png"},{bytes:279,md5:"47e0dd73f4ea966ea08c2cec2a24b3a6",name:"preload_0.atlas"},{bytes:6786,md5:"f67b43ff9e26ffa7a1f92bbfad588e3e",name:"preload_0.png"}],scripts:[{bytes:6752,md5:"f363a5d86010c723a6d608d678591814",
name:"Blob.js"},{bytes:3802,md5:"e288a24a248f4a9a0ff4fb5d96b66721",name:"canvas-toBlob.js"},{bytes:540,md5:"54cc4bdadbdb0f7b4af6afddc0ed2c50",name:"clip.js"},{bytes:1262,md5:"f34507141673779b20f4e4890d04c204",name:"clip_nick.js"},{bytes:342950,md5:"ece1cb020606fc500d86565772657b95",name:"cocoon.js"},{bytes:2975,md5:"ac3159cc365ed87daf53d2d0f55d9bc6",name:"FileSaver.js"},{bytes:4630,md5:"fa4db372d7d948a4842e386347e3882a",name:"nicksdk.min.js"},{bytes:14195,md5:"9c1918bde89ba940ca972e1bea344fd7",name:"nickshareoverlay.js"},
{bytes:4272,md5:"fc5776259a3b25b9d2ed1584452a5b95",name:"shareoverlay.js"},{bytes:2143,md5:"71cb070be826740ef158a06ddf1406d9",name:"wm_screenshot.js"},{bytes:7905,md5:"0ce8aee91d974a598eaeccdd58dab246",name:"wm_share.js"}],initial_audio_required:[{bytes:736455,md5:"bc7dddd060f3a2aeb5536405243f9d15",name:"music/main_music.mp3"},{bytes:498923,md5:"f2e4ad00e2e352aa896735a1e0fa317b",name:"music/main_music.ogg"},{bytes:4796,md5:"6cf64b5b600dad1292bb4c68ae965ebc",name:"sfx/sbcc_sfx_drop.mp3"},{bytes:7420,
md5:"c16dd40df955f9d4b0530563adda0519",name:"sfx/sbcc_sfx_drop.ogg"},{bytes:4813,md5:"8414d06b87c8d3337f03858e8bd03159",name:"sfx/sbcc_sfx_locked_alt_2.mp3"},{bytes:6680,md5:"d0715cd1dbe240a92233a2457dd5c958",name:"sfx/sbcc_sfx_locked_alt_2.ogg"},{bytes:1624,md5:"a625275d0c403514ac9d27c5af806376",name:"sfx/sbcc_sfx_play.mp3"},{bytes:4192,md5:"b6cb5d69fe4fb41985d9ace6f36c86c7",name:"sfx/sbcc_sfx_play.ogg"},{bytes:5514,md5:"7c90cb2b7fd11a5790bb293c09e0783a",name:"sfx/sbcc_sfx_screenchange.mp3"},{bytes:9248,
md5:"c36562bbdcf1e70ce1b9fa00526ec120",name:"sfx/sbcc_sfx_screenchange.ogg"},{bytes:13601,md5:"be9b5d2e538284b1406f5e2291daca11",name:"sfx/sbcc_sfx_select.mp3"},{bytes:11904,md5:"8ca3d5378fe3721f203c8631c719591b",name:"sfx/sbcc_sfx_select.ogg"},{bytes:5082,md5:"418cbefc098422b15a1572c456ca8517",name:"sfx/sbcc_whoosh.mp3"},{bytes:6220,md5:"837a5996e11c447f118ac314b0446853",name:"sfx/sbcc_whoosh.ogg"}],avatar_builder_universal:[{bytes:7488,md5:"6577f3ac45f2ff6e01d35bd2c15f1fc4",name:"avatar_builder_universal_0.atlas"},
{bytes:65688,md5:"7ce598e3504256116b50b6a7ba7974af",name:"avatar_builder_universal_0.png"}],initial_universal:[{bytes:207272,md5:"a2677c101e074429fac72171fd9a8ea0",name:"bg_1.jpg"},{bytes:89564,md5:"02cc6248c15534b18db1db643cdd6f9d",name:"bg_2.jpg"},{bytes:120089,md5:"822208965cf0baf7d8e08cd4803ed052",name:"bg_3.jpg"},{bytes:67,md5:"c4db13e8f506323973f2081112373126",name:"black.png"},{bytes:1972,md5:"0663e290aa2b2e8554dcfe0ad9291152",name:"initial_universal_0.atlas"},{bytes:300103,md5:"b1a228da4de620b20d4fec5b68d4f457",
name:"initial_universal_0.png"},{bytes:3306,md5:"75fe3369c57cd01b92d0df00897fec23",name:"initial_universal_1.atlas"},{bytes:494696,md5:"1176576df40fbabf9ec53f5326557e15",name:"initial_universal_1.png"},{bytes:4188,md5:"6aad8257e248de9dbfd90c745baffa69",name:"initial_universal_2.atlas"},{bytes:796143,md5:"22a141b6212f35d7163dff74bae06fe0",name:"initial_universal_2.png"},{bytes:5382,md5:"485b88cfe2eb21d29fee8f653bbd41e7",name:"initial_universal_3.atlas"},{bytes:1008719,md5:"d77a524ed4326a144041914f584d623e",
name:"initial_universal_3.png"},{bytes:3425,md5:"6e5f81bb8ec40a0743fb98e453f14c71",name:"initial_universal_4.atlas"},{bytes:592654,md5:"3b6fb56e4f6f13a17895e7f63ef88570",name:"initial_universal_4.png"},{bytes:86,md5:"352056310fc0cfd5495120c166f28d86",name:"text_field.png"},{bytes:67,md5:"11ac7a3f20073a6ed33db4addf6bbe06",name:"white.png"}],comic_creator_universal:[{bytes:741,md5:"23a45fcf2a249b86cb3f880bc8b60100",name:"comic_backgrounds/comic_background_0.atlas"},{bytes:208775,md5:"1658b18f0cf69cedad23b40ed1eaca7e",
name:"comic_backgrounds/comic_background_0.png"},{bytes:741,md5:"bf2ea3d654952e5eaf45d477336e30b0",name:"comic_backgrounds/comic_background_1.atlas"},{bytes:195382,md5:"fdb57d24ca8255e23208fcb62be3635f",name:"comic_backgrounds/comic_background_1.png"},{bytes:483,md5:"9f273364e308d357174fd289a14e117a",name:"comic_backgrounds/comic_background_10.atlas"},{bytes:140975,md5:"2bd931a8950104fc7ce5935855a3acec",name:"comic_backgrounds/comic_background_10.png"},{bytes:483,md5:"65190783dbe55316b4f8efc24324efcb",
name:"comic_backgrounds/comic_background_11.atlas"},{bytes:139355,md5:"2cf1d844c866529d1418cc14a6bc6a36",name:"comic_backgrounds/comic_background_11.png"},{bytes:483,md5:"7a4382def00fab3cacdd07e843fcf4a4",name:"comic_backgrounds/comic_background_12.atlas"},{bytes:134368,md5:"a5593de8e09bbf43a73942160822ad01",name:"comic_backgrounds/comic_background_12.png"},{bytes:482,md5:"59935482e3b5c21f4e154f0a6f5f473b",name:"comic_backgrounds/comic_background_13.atlas"},{bytes:160829,md5:"35343260dd7655758552b613d0e166c1",
name:"comic_backgrounds/comic_background_13.png"},{bytes:481,md5:"b8eb6b14c6708d56f88ebff67382630e",name:"comic_backgrounds/comic_background_14.atlas"},{bytes:262196,md5:"37ec046c2d1e0281969087202380cdd5",name:"comic_backgrounds/comic_background_14.png"},{bytes:478,md5:"af7e45a9119fb4eb1c8cd05ab772977f",name:"comic_backgrounds/comic_background_15.atlas"},{bytes:168160,md5:"279b28f08ed3dc778621110eb58b12aa",name:"comic_backgrounds/comic_background_15.png"},{bytes:478,md5:"02621443d9b95b3b814a0eb25ba0993d",
name:"comic_backgrounds/comic_background_16.atlas"},{bytes:130817,md5:"aa2b608551034838362d7bf8196e3e7f",name:"comic_backgrounds/comic_background_16.png"},{bytes:478,md5:"44a648a4882bcf28d4fccd5f70fbe437",name:"comic_backgrounds/comic_background_17.atlas"},{bytes:122458,md5:"734ba255164c2ff88b06c5c110644dc3",name:"comic_backgrounds/comic_background_17.png"},{bytes:741,md5:"b08701c9d324a248efe149c202b2f69b",name:"comic_backgrounds/comic_background_2.atlas"},{bytes:248928,md5:"4c8151c0589d49c6149517877596d9d1",
name:"comic_backgrounds/comic_background_2.png"},{bytes:741,md5:"62de2f693521c810d002002783cf7f91",name:"comic_backgrounds/comic_background_3.atlas"},{bytes:380691,md5:"2a2ff310550c60e15f23e14413ca8b81",name:"comic_backgrounds/comic_background_3.png"},{bytes:739,md5:"ac43c0f82901c4ffc9fcb7d9e083b6ee",name:"comic_backgrounds/comic_background_4.atlas"},{bytes:178472,md5:"640aeee76bce93cec98302502db6fe2f",name:"comic_backgrounds/comic_background_4.png"},{bytes:737,md5:"e97a0125903ed0c4a0ceb77dc213f41d",
name:"comic_backgrounds/comic_background_5.atlas"},{bytes:232312,md5:"abbe03efdef39f398e1c9141cb1109f1",name:"comic_backgrounds/comic_background_5.png"},{bytes:737,md5:"d4c820b9f60f46ed12af3e0a80c6035c",name:"comic_backgrounds/comic_background_6.atlas"},{bytes:239877,md5:"90c26e05b3dd0fd740b16c2bb975ce01",name:"comic_backgrounds/comic_background_6.png"},{bytes:737,md5:"633d660f961a9e8b8484c94c03ddf84a",name:"comic_backgrounds/comic_background_7.atlas"},{bytes:248871,md5:"7c636be41dd008d49a0a34d9749ecdab",
name:"comic_backgrounds/comic_background_7.png"},{bytes:737,md5:"8610564a3e9f8200606496309a311edc",name:"comic_backgrounds/comic_background_8.atlas"},{bytes:154139,md5:"0a2cafcf84fafb058d5e38e3a5dfbd8f",name:"comic_backgrounds/comic_background_8.png"},{bytes:482,md5:"a4e0cc27308d3bb7884e5fc35f711a5d",name:"comic_backgrounds/comic_background_9.atlas"},{bytes:178683,md5:"3a60db7f42114807a669875eeafadb63",name:"comic_backgrounds/comic_background_9.png"},{bytes:212,md5:"beee9e0f8f8be41115e76f038e6aefd2",
name:"frames/hd_comic_panel_frame_large.png"},{bytes:137,md5:"5b79e19dd56b0d7a9d1877fb422dfba6",name:"frames/hd_comic_panel_frame_medium.png"},{bytes:120,md5:"a1a309cba3e004f86407188e122a9692",name:"frames/hd_comic_panel_frame_mini.png"},{bytes:127,md5:"79c37c4106729025bb43845d25cf9c95",name:"frames/hd_comic_panel_frame_small.png"},{bytes:1765,md5:"5d5d7d7afce3764ae630bed595117801",name:"frames/large_blank.jpg"},{bytes:778,md5:"ff6465cadbffeb836d3977e6addc2ac7",name:"frames/medium_blank.jpg"},{bytes:553,
md5:"ab92ba7f4272d5e66014b9112d9b17d6",name:"frames/mini_blank.jpg"},{bytes:651,md5:"5fbea57fbda1b278d71983316a09976e",name:"frames/small_blank.jpg"}],bootstrap:[{bytes:2114,md5:"bece6d8d3739b0abddc1fa1c921055d0",name:"audio/silent.mp3"},{bytes:5514,md5:"ae7363bbe4b631824f218d7866f30307",name:"audio/silent.ogg"},{bytes:1146,md5:"b4a32cffb4ff60743d67a9b5b0b0a5ef",name:"config/config.xml"},{bytes:1893,md5:"d92d379a94c9ccc8b627902b51ae558c",name:"config/config_loading.xml"},{bytes:14040,md5:"452482f92f18792856a53e8c8b68114b",
name:"ui/splash/nick_cartoon_creator_splash_nickelodeon.png"},{bytes:907911,md5:"e5ab58c03bda28874672fe21d306f1b4",name:"ui/splash/nick_cartoon_creator_splash_no_text.jpg"},{bytes:74713,md5:"b08b5821a7c8bce4b2a384405d652115",name:"ui/splash/nick_cartoon_creator_splash_text.png"}],avatar_spine:[{bytes:16415,md5:"b228f1d129b7b9e9d1f0a9d885ce7dfd",name:"avatar.atlas"},{bytes:15265,md5:"a51cefd58267b09bd090e31b03ad0e65",name:"avatar.json"},{bytes:84779,md5:"8f34918c3f8eb7bd703f984be9e14862",name:"avatar.png"},
{bytes:41155,md5:"a5c74a96879ff804e5cc35d2aaa3d525",name:"avatar2.png"}],fonts_ru:[{bytes:64989,md5:"f4868b7f11d5d2e9c236260e1e89b23d",name:"nick_comic_creator_font_outline_localization.fnt"},{bytes:390620,md5:"b449706abb0f8b4e81be8cb216e58194",name:"nick_comic_creator_font_outline_localization.png"},{bytes:64988,md5:"761c5b960f25c2e416497a0a9fda4998",name:"nick_comic_creator_font_regular_localization.fnt"},{bytes:175032,md5:"d0ed78484b0b5bcaccfa4ed8d19f3f37",name:"nick_comic_creator_font_regular_localization.png"},
{bytes:67840,md5:"beb578cce0b159201b29711b2d7ec3fe",name:"translation.xml"}],fonts_la:[{bytes:64989,md5:"f4868b7f11d5d2e9c236260e1e89b23d",name:"nick_comic_creator_font_outline_localization.fnt"},{bytes:390620,md5:"b449706abb0f8b4e81be8cb216e58194",name:"nick_comic_creator_font_outline_localization.png"},{bytes:64988,md5:"761c5b960f25c2e416497a0a9fda4998",name:"nick_comic_creator_font_regular_localization.fnt"},{bytes:175032,md5:"d0ed78484b0b5bcaccfa4ed8d19f3f37",name:"nick_comic_creator_font_regular_localization.png"},
{bytes:67840,md5:"beb578cce0b159201b29711b2d7ec3fe",name:"translation.xml"}],fonts_kr:[{bytes:64989,md5:"f4868b7f11d5d2e9c236260e1e89b23d",name:"nick_comic_creator_font_outline_localization.fnt"},{bytes:390620,md5:"b449706abb0f8b4e81be8cb216e58194",name:"nick_comic_creator_font_outline_localization.png"},{bytes:64988,md5:"761c5b960f25c2e416497a0a9fda4998",name:"nick_comic_creator_font_regular_localization.fnt"},{bytes:175032,md5:"d0ed78484b0b5bcaccfa4ed8d19f3f37",name:"nick_comic_creator_font_regular_localization.png"},
{bytes:67840,md5:"beb578cce0b159201b29711b2d7ec3fe",name:"translation.xml"}],fonts_jp:[{bytes:64989,md5:"f4868b7f11d5d2e9c236260e1e89b23d",name:"nick_comic_creator_font_outline_localization.fnt"},{bytes:390620,md5:"b449706abb0f8b4e81be8cb216e58194",name:"nick_comic_creator_font_outline_localization.png"},{bytes:64988,md5:"761c5b960f25c2e416497a0a9fda4998",name:"nick_comic_creator_font_regular_localization.fnt"},{bytes:175032,md5:"d0ed78484b0b5bcaccfa4ed8d19f3f37",name:"nick_comic_creator_font_regular_localization.png"},
{bytes:67840,md5:"beb578cce0b159201b29711b2d7ec3fe",name:"translation.xml"}],fonts_en:[{bytes:48265,md5:"bd5f4b81c49be8bac57cc47996dc527a",name:"nick_comic_creator_font_outline.fnt"},{bytes:54456,md5:"2a98a85596c3e971e0471c7a3ac60c0e",name:"nick_comic_creator_font_outline.png"},{bytes:48265,md5:"41705abee21487e7722124d787ee6483",name:"nick_comic_creator_font_regular.fnt"},{bytes:29555,md5:"5cd275b8b9a12496d63ea4e8fe0323b5",name:"nick_comic_creator_font_regular.png"},{bytes:62303,md5:"d262625fed9c98ace64526987df7ae69",
name:"translation.xml"}],fonts_cn:[{bytes:64989,md5:"f4868b7f11d5d2e9c236260e1e89b23d",name:"nick_comic_creator_font_outline_localization.fnt"},{bytes:390620,md5:"b449706abb0f8b4e81be8cb216e58194",name:"nick_comic_creator_font_outline_localization.png"},{bytes:64988,md5:"761c5b960f25c2e416497a0a9fda4998",name:"nick_comic_creator_font_regular_localization.fnt"},{bytes:175032,md5:"d0ed78484b0b5bcaccfa4ed8d19f3f37",name:"nick_comic_creator_font_regular_localization.png"},{bytes:67840,md5:"beb578cce0b159201b29711b2d7ec3fe",
name:"translation.xml"}]}]}};wb._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();jc.NEWLINE=new xe(10);Gb._sharedEvent=new Rf;rb._sharedEvent=new Sf;Ya._sharedEvent=new Tf;Qc.CANVAS_TEXTURES=(new v("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);oa._mediaRefCount=0;oa._detectBlobSupport=!0;Y.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];Y.SHOULD_HIDE_MOBILE_BROWSER=window.top==
window&&(new v("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);ja._detectSupport=!0;Pb.BASE_URL="";Fb.USE_CACHE=!1;Fb.USE_ENUM_INDEX=!1;Fb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";cb.DEFAULT_RESOLVER=aa;cb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";zb.count=0;Ub.escapes=function(){var a=new I;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);
Tb.output_event_array=[];ra.main()})();
