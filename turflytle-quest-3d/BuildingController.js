pc.script.attribute("buildingPrefix","string","G_BLK_"),pc.script.attribute("shortTemplateName","string","Collider_Short"),pc.script.attribute("longTemplateName","string","Collider_Longt"),pc.script.attribute("mediumTemplateName","string","Collider_Medium"),pc.script.attribute("waterTowerTemplateName","string","Collider_WaterTower"),pc.script.attribute("billboardTemplateName","string","Collider_Billboard"),pc.script.attribute("roofAccessTemplateName","string","Collider_roofAccess"),pc.script.create("BuildingController",function(a){var b=function(a){this.entity=a};return b.prototype={initialize:function(){var b=a.root.findByName("BuildingColliders");this.shortTemplate=b.findByName(this.shortTemplateName),this.longTemplate=b.findByName(this.longTemplateName),this.mediumTemplate=b.findByName(this.mediumTemplateName),this.waterTowerTemplate=b.findByName(this.waterTowerTemplateName),this.billboardTemplate=b.findByName(this.billboardTemplateName),this.roofAccessTemplate=b.findByName(this.roofAccessTemplateName),this.initialized=!1},update:function(a){this._initColliders()},_initColliders:function(){if(!this.initialized){this.initialized=!0;for(var a=this.entity.getChildren(),b=0;b<a.length;b++){var c=a[b],d=null;c.getName().indexOf(this.buildingPrefix+"Long")>-1?d=this.longTemplate.clone():c.getName().indexOf(this.buildingPrefix+"Short")>-1?d=this.shortTemplate.clone():c.getName().indexOf(this.buildingPrefix+"Mid")>-1&&(d=this.mediumTemplate.clone()),d&&(c.addChild(d),d.setLocalPosition(0,0,0),d.enabled=!0);for(var e=c.getChildren(),f=0;f<e.length;f++){d=null;var g=e[f];switch(g.getName()){case"Roof_WaterTower.json":d=this.waterTowerTemplate.clone();break;case"Roof_Billboard.json":d=this.billboardTemplate.clone();break;case"Roof_RoofAcess.json":d=this.roofAccessTemplate.clone()}d&&(g.addChild(d),d.setLocalPosition(0,0,0),d.enabled=!0,g.model.model&&pc.Utils.calculateSegment(g.getPosition(),g.model.model.meshInstances[0].node.renderingSegment))}}this.shortTemplate.enabled=!1,this.longTemplate.enabled=!1,this.mediumTemplate.enabled=!1}}},b});