/** Built with 2DKit, http://2dkit.com */
'use strict';(function(nf){function y(a,b){function c(){}c.prototype=a;var h=new c,p;for(p in b)h[p]=b[p];b.toString!==Object.prototype.toString&&(h.toString=b.toString);return h}function cf(a){return a instanceof Array?function(){return C.iter(a)}:"function"==typeof a.iterator?r(a,a.iterator):a.iterator}function r(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=of++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var m={},t=function(){return U.__string_rec(this,"")},db=function(a,b){this.r=RegExp(a,b.split("u").join(""))};m.EReg=db;db.__name__=["EReg"];db.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new E("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new E("No string matched");
return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:db};var C=function(){};m.HxOverrides=C;C.__name__=["HxOverrides"];C.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new E("Invalid date format : "+
a);}};C.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};C.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};C.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};C.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Db=function(){};m.Lambda=Db;Db.__name__=["Lambda"];Db.array=function(a){var b=[];for(a=cf(a)();a.hasNext();){var c=
a.next();b.push(c)}return b};Db.count=function(a,b){var c=0;if(null==b)for(var h=cf(a)();h.hasNext();)h.next(),++c;else for(h=cf(a)();h.hasNext();){var p=h.next();b(p)&&++c}return c};Math.__name__=["Math"];var Y=function(){};m.Reflect=Y;Y.__name__=["Reflect"];Y.field=function(a,b){try{return a[b]}catch(c){return null}};Y.setProperty=function(a,b,c){var h,p;p=a.__properties__?h=a.__properties__["set_"+b]:!1;if(p)a[h](c);else a[b]=c};Y.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,
h;for(h in a)"__id__"!=h&&"hx__closures__"!=h&&c.call(a,h)&&b.push(h)}return b};Y.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};Y.compare=function(a,b){return a==b?0:a>b?1:-1};var Q=function(){};m.Std=Q;Q.__name__=["Std"];Q.string=function(a){return U.__string_rec(a,"")};Q.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=C.cca(a,1)&&88!=C.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};Q.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var eb=
function(){this.b=""};m.StringBuf=eb;eb.__name__=["StringBuf"];eb.prototype={__class__:eb};var ca=function(){};m.StringTools=ca;ca.__name__=["StringTools"];ca.startsWith=function(a,b){return a.length>=b.length?C.substr(a,0,b.length)==b:!1};ca.endsWith=function(a,b){var c=b.length,h=a.length;return h>=c?C.substr(a,h-c,c)==b:!1};ca.isSpace=function(a,b){var c=C.cca(a,b);return 8<c&&14>c?!0:32==c};ca.ltrim=function(a){for(var b=a.length,c=0;c<b&&ca.isSpace(a,c);)++c;return 0<c?C.substr(a,c,b-c):a};ca.rtrim=
function(a){for(var b=a.length,c=0;c<b&&ca.isSpace(a,b-c-1);)++c;return 0<c?C.substr(a,0,b-c):a};ca.trim=function(a){return ca.ltrim(ca.rtrim(a))};ca.replace=function(a,b,c){return a.split(b).join(c)};var va=function(){};m.Type=va;va.__name__=["Type"];va.getSuperClass=function(a){return a.__super__};va.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};va.resolveClass=function(a){a=m[a];return null!=a&&a.__name__?a:null};va.createInstance=function(a,b){switch(b.length){case 0:return new a;
case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new E("Too many arguments");}};va.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};va.createEnum=function(a,b,c){var h=Y.field(a,b);
if(null==h)throw new E("No such constructor "+b);if(Y.isFunction(h)){if(null==c)throw new E("Constructor "+b+" need parameters");return h.apply(a,c)}if(null!=c&&0!=c.length)throw new E("Constructor "+b+" does not need parameters");return h};var A=function(a){this.nodeType=a;this.children=[];this.attributeMap=new V};m.Xml=A;A.__name__=["Xml"];A.parse=function(a){return Ya.parse(a)};A.createElement=function(a){var b=new A(A.Element);if(b.nodeType!=A.Element)throw new E("Bad node type, expected Element but found "+
b.nodeType);b.nodeName=a;return b};A.createPCData=function(a){var b=new A(A.PCData);if(b.nodeType==A.Document||b.nodeType==A.Element)throw new E("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};A.createCData=function(a){var b=new A(A.CData);if(b.nodeType==A.Document||b.nodeType==A.Element)throw new E("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};A.createComment=function(a){var b=new A(A.Comment);if(b.nodeType==A.Document||b.nodeType==A.Element)throw new E("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};A.createDocType=function(a){var b=new A(A.DocType);if(b.nodeType==A.Document||b.nodeType==A.Element)throw new E("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};A.createProcessingInstruction=function(a){var b=new A(A.ProcessingInstruction);if(b.nodeType==A.Document||b.nodeType==A.Element)throw new E("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};A.createDocument=function(){return new A(A.Document)};A.prototype={get:function(a){if(this.nodeType!=
A.Element)throw new E("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=F[a]?b.getReserved(a):b.h[a]},set:function(a,b){if(this.nodeType!=A.Element)throw new E("Bad node type, expected Element but found "+this.nodeType);var c=this.attributeMap;null!=F[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){if(this.nodeType!=A.Element)throw new E("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=F[a]?b.existsReserved(a):
b.h.hasOwnProperty(a)},elementsNamed:function(a){if(this.nodeType!=A.Document&&this.nodeType!=A.Element)throw new E("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,h=this.children;c<h.length;){var p=h[c];++c;var d;if(p.nodeType==A.Element){if(p.nodeType!=A.Element)throw new E("Bad node type, expected Element but found "+p.nodeType);d=p.nodeName==a}else d=!1;d&&b.push(p)}return C.iter(b)},firstElement:function(){if(this.nodeType!=A.Document&&this.nodeType!=
A.Element)throw new E("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==A.Element)return c}return null},addChild:function(a){if(this.nodeType!=A.Document&&this.nodeType!=A.Element)throw new E("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=A.Document&&this.nodeType!=
A.Element)throw new E("Bad node type, expected Element or Document but found "+this.nodeType);return C.remove(this.children,a)?(a.parent=null,!0):!1},__class__:A};var H=function(){};m["aop.Anims"]=H;H.__name__=["aop","Anims"];H.spawn=function(a,b,c,h,p,d){null==d&&(d=!0);null==p&&(p=!0);a.$CF[1].setScale(c);p&&a.$CF[1].alpha.set__(0);c=new s;c.run(new u([new k(b),new l(function(){p&&a.$CF[1].alpha.animateTo(1,0.75*h);d?(a.$CF[1].scaleX.animateTo(1,h,q.bounceOut),a.$CF[1].scaleY.animateTo(1,h,q.bounceOut)):
(a.$CF[1].scaleX.animateTo(1,h),a.$CF[1].scaleY.animateTo(1,h))})]));a.add(c)};H.tweenUp=function(a,b,c,h){null==h&&(h=0);a.$CF[1].alpha.set__(0);var p=a.$CF[1].y;p.set__(p.$iF+b);p=new s;p.run(new u([new k(h),new l(function(){a.$CF[1].alpha.animateTo(1,0.15);a.$CF[1].y.animateBy(-b,c,q.sineOut)})]));a.add(p)};H.tweenDown=function(a,b,c,h){null==h&&(h=0);a.$CF[1].alpha.set__(0);var p=a.$CF[1].y;p.set__(p.$iF-b);p=new s;p.run(new u([new k(h),new l(function(){a.$CF[1].alpha.animateTo(1,0.15);a.$CF[1].y.animateBy(b,
c,q.sineOut)})]));a.add(p)};H.tweenLeft=function(a,b,c,h){null==h&&(h=0);a.$CF[1].alpha.set__(0);var p=a.$CF[1].x;p.set__(p.$iF+b);p=new s;p.run(new u([new k(h),new l(function(){a.$CF[1].alpha.animateTo(1,0.15);a.$CF[1].x.animateBy(-b,c,q.sineOut)})]));a.add(p)};H.tweenRight=function(a,b,c,h){null==h&&(h=0);a.$CF[1].alpha.set__(0);var p=a.$CF[1].x;p.set__(p.$iF-b);p=new s;p.run(new u([new k(h),new l(function(){a.$CF[1].alpha.animateTo(1,0.15);a.$CF[1].x.animateBy(b,c,q.sineOut)})]));a.add(p)};var Eb=
function(){};m["haxe.IMap"]=Eb;Eb.__name__=["haxe","IMap"];Eb.prototype={__class__:Eb};var Ga=function(){this.h={}};m["haxe.ds.IntMap"]=Ga;Ga.__name__=["haxe","ds","IntMap"];Ga.__interfaces__=[Eb];Ga.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},__class__:Ga};var Ha=function(){this.h={__keys__:{}}};m["haxe.ds.ObjectMap"]=Ha;Ha.__name__=
["haxe","ds","ObjectMap"];Ha.__interfaces__=[Eb];Ha.assignId=function(a){return a.__id__=++Ha.count};Ha.getId=function(a){return a.__id__};Ha.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Ha.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&
a.push(this.h.__keys__[b]);return C.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:Ha};var Ia=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};m["haxe.ds._StringMap.StringMapIterator"]=Ia;Ia.__name__=["haxe","ds","_StringMap","StringMapIterator"];Ia.prototype={hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=
this.keys[this.index++];return null!=F[b]?a.getReserved(b):a.h[b]},__class__:Ia};var V=function(){this.h={}};m["haxe.ds.StringMap"]=V;V.__name__=["haxe","ds","StringMap"];V.__interfaces__=[Eb];V.prototype={set:function(a,b){null!=F[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=F[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=F[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==
this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},keys:function(){return C.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new Ia(this,this.arrayKeys())},__class__:V};var Ie=function(){};m["haxe.io.FPHelper"]=Ie;Ie.__name__=["haxe","io","FPHelper"];Ie.i32ToFloat=function(a){var b=
a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Ie.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};var Zb=function(){};m["haxe.rtti.Meta"]=Zb;Zb.__name__=["haxe","rtti","Meta"];Zb.getType=function(a){a=Zb.getMeta(a);return null==a||null==a.obj?{}:a.obj};Zb.getMeta=
function(a){return a.__meta__};var Qd=function(a){this.__x=a};m["haxe.xml._Fast.NodeAccess"]=Qd;Qd.__name__=["haxe","xml","_Fast","NodeAccess"];Qd.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b){if(this.__x.nodeType==A.Document)b="Document";else{b=this.__x;if(b.nodeType!=A.Element)throw new E("Bad node type, expected Element but found "+b.nodeType);b=b.nodeName}throw new E(b+" is missing element "+a);}return new mb(b)},__class__:Qd};var Rd=function(a){this.__x=a};
m["haxe.xml._Fast.AttribAccess"]=Rd;Rd.__name__=["haxe","xml","_Fast","AttribAccess"];Rd.prototype={resolve:function(a){if(this.__x.nodeType==A.Document)throw new E("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b){b=this.__x;if(b.nodeType!=A.Element)throw new E("Bad node type, expected Element but found "+b.nodeType);throw new E(b.nodeName+" is missing attribute "+a);}return b},__class__:Rd};var Sd=function(a){this.__x=a};m["haxe.xml._Fast.HasAttribAccess"]=Sd;Sd.__name__=
["haxe","xml","_Fast","HasAttribAccess"];Sd.prototype={__class__:Sd};var Td=function(a){this.__x=a};m["haxe.xml._Fast.HasNodeAccess"]=Td;Td.__name__=["haxe","xml","_Fast","HasNodeAccess"];Td.prototype={__class__:Td};var Ud=function(a){this.__x=a};m["haxe.xml._Fast.NodeListAccess"]=Ud;Ud.__name__=["haxe","xml","_Fast","NodeListAccess"];Ud.prototype={__class__:Ud};var mb=function(a){if(a.nodeType!=A.Document&&a.nodeType!=A.Element)throw new E("Invalid nodeType "+a.nodeType);this.x=a;this.node=new Qd(a);
this.nodes=new Ud(a);this.att=new Rd(a);this.has=new Sd(a);this.hasNode=new Td(a)};m["haxe.xml.Fast"]=mb;mb.__name__=["haxe","xml","Fast"];mb.prototype={get_name:function(){if(this.x.nodeType==A.Document)return"Document";var a=this.x;if(a.nodeType!=A.Element)throw new E("Bad node type, expected Element but found "+a.nodeType);return a.nodeName},get_innerData:function(){var a=this.x;if(a.nodeType!=A.Document&&a.nodeType!=A.Element)throw new E("Bad node type, expected Element or Document but found "+
a.nodeType);a=C.iter(a.children);if(!a.hasNext())throw new E(this.get_name()+" does not have data");var b=a.next();if(a.hasNext()){var c=a.next();if(b.nodeType==A.PCData&&c.nodeType==A.CData){if(b.nodeType==A.Document||b.nodeType==A.Element)throw new E("Bad node type, unexpected "+b.nodeType);b=""==ca.trim(b.nodeValue)}else b=!1;if(b){if(!a.hasNext()){if(c.nodeType==A.Document||c.nodeType==A.Element)throw new E("Bad node type, unexpected "+c.nodeType);return c.nodeValue}b=a.next();if(b.nodeType==
A.PCData){if(b.nodeType==A.Document||b.nodeType==A.Element)throw new E("Bad node type, unexpected "+b.nodeType);b=""==ca.trim(b.nodeValue)}else b=!1;if(b&&!a.hasNext()){if(c.nodeType==A.Document||c.nodeType==A.Element)throw new E("Bad node type, unexpected "+c.nodeType);return c.nodeValue}}throw new E(this.get_name()+" does not only have data");}if(b.nodeType!=A.PCData&&b.nodeType!=A.CData)throw new E(this.get_name()+" does not have data");if(b.nodeType==A.Document||b.nodeType==A.Element)throw new E("Bad node type, unexpected "+
b.nodeType);return b.nodeValue},__class__:mb,__properties__:{get_innerData:"get_innerData",get_name:"get_name"}};var ha=function(a,b,c){this.xml=b;this.message=a;this.position=c;this.lineNumber=1;for(a=this.positionAtLine=0;a<c;){var h=a++,h=b.charCodeAt(h);10==h?(this.lineNumber++,this.positionAtLine=0):13!=h&&this.positionAtLine++}};m["haxe.xml.XmlParserException"]=ha;ha.__name__=["haxe","xml","XmlParserException"];ha.prototype={toString:function(){return va.getClassName(U.getClass(this))+": "+
this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:ha};var Ya=function(){};m["haxe.xml.Parser"]=Ya;Ya.__name__=["haxe","xml","Parser"];Ya.parse=function(a,b){null==b&&(b=!1);var c=A.createDocument();Ya.doParse(a,b,0,c);return c};Ya.doParse=function(a,b,c,h){null==c&&(c=0);for(var p=null,d=1,e=1,f=null,g=0,k=0,l=0,m=a.charCodeAt(c),n=new eb,q=1,s=-1;m==m;){switch(d){case 0:switch(m){case 9:case 10:case 13:case 32:break;default:d=e;continue}break;case 1:if(60==m)d=0,e=
2;else{g=c;d=13;continue}break;case 2:switch(m){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=C.substr(a,c,6).toUpperCase())throw new E(new ha("Expected <![CDATA[",a,c));c+=5;d=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=C.substr(a,c+2,6).toUpperCase())throw new E(new ha("Expected <!DOCTYPE",a,c));c+=8;d=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new E(new ha("Expected \x3c!--",a,c));c+=2;d=15}g=c+1;break;case 47:if(null==h)throw new E(new ha("Expected node name",
a,c));g=c+1;d=0;e=10;break;case 63:d=14;g=c;break;default:d=3;g=c;continue}break;case 3:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(c==g)throw new E(new ha("Expected node name",a,c));p=A.createElement(C.substr(a,g,c-g));h.addChild(p);++k;d=0;e=4;continue}break;case 4:switch(m){case 47:d=11;break;case 62:d=9;break;default:d=5;g=c;continue}break;case 5:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(g==c)throw new E(new ha("Expected attribute name",
a,c));f=C.substr(a,g,c-g);if(p.exists(f))throw new E(new ha("Duplicate attribute ["+f+"]",a,c));d=0;e=6;continue}break;case 6:if(61==m)d=0,e=7;else throw new E(new ha("Expected =",a,c));break;case 7:switch(m){case 34:case 39:n=new eb;d=8;g=c+1;s=m;break;default:throw new E(new ha('Expected "',a,c));}break;case 8:switch(m){case 38:q=c-g;n.b+=null==q?C.substr(a,g,null):C.substr(a,g,q);d=18;q=8;g=c+1;break;case 60:case 62:if(b)throw new E(new ha("Invalid unescaped "+String.fromCharCode(m)+" in attribute value",
a,c));m==s&&(e=c-g,n.b+=null==e?C.substr(a,g,null):C.substr(a,g,e),e=n.b,n=new eb,p.set(f,e),d=0,e=4);break;default:m==s&&(e=c-g,n.b+=null==e?C.substr(a,g,null):C.substr(a,g,e),e=n.b,n=new eb,p.set(f,e),d=0,e=4)}break;case 9:g=c=Ya.doParse(a,b,c,p);d=1;break;case 10:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(g==c)throw new E(new ha("Expected node name",a,c));e=C.substr(a,g,c-g);if(h.nodeType!=A.Element)throw new E("Bad node type, expected Element but found "+h.nodeType);
if(e!=h.nodeName){if(h.nodeType!=A.Element)throw new E("Bad node type, expected Element but found "+h.nodeType);throw new E(new ha("Expected </"+h.nodeName+">",a,c));}d=0;e=12;continue}break;case 11:if(62==m)d=1;else throw new E(new ha("Expected >",a,c));break;case 12:if(62==m)return 0==k&&h.addChild(A.createPCData("")),c;throw new E(new ha("Expected >",a,c));case 13:60==m?(e=c-g,n.b+=null==e?C.substr(a,g,null):C.substr(a,g,e),e=A.createPCData(n.b),n=new eb,h.addChild(e),++k,d=0,e=2):38==m&&(q=c-
g,n.b+=null==q?C.substr(a,g,null):C.substr(a,g,q),d=18,q=13,g=c+1);break;case 14:63==m&&62==a.charCodeAt(c+1)&&(++c,m=C.substr(a,g+1,c-g-2),h.addChild(A.createProcessingInstruction(m)),++k,d=1);break;case 15:45==m&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(h.addChild(A.createComment(C.substr(a,g,c-g))),++k,c+=2,d=1);break;case 16:91==m?++l:93==m?--l:62==m&&0==l&&(h.addChild(A.createDocType(C.substr(a,g,c-g))),++k,d=1);break;case 17:93==m&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(m=A.createCData(C.substr(a,
g,c-g)),h.addChild(m),++k,c+=2,d=1);break;case 18:if(59==m){g=C.substr(a,g,c-g);if(35==g.charCodeAt(0))g=120==g.charCodeAt(1)?Q.parseInt("0"+C.substr(g,1,g.length-1)):Q.parseInt(C.substr(g,1,g.length-1)),n.b+=String.fromCharCode(g);else if(m=Ya.escapes,null!=F[g]?m.existsReserved(g):m.h.hasOwnProperty(g))m=Ya.escapes,g=null!=F[g]?m.getReserved(g):m.h[g],n.b+=Q.string(g);else{if(b)throw new E(new ha("Undefined entity: "+g,a,c));n.b+=Q.string("&"+g+";")}g=c+1;d=q}else if(!(97<=m&&122>=m||65<=m&&90>=
m||48<=m&&57>=m||58==m||46==m||95==m||45==m)&&35!=m){if(b)throw new E(new ha("Invalid character in entity: "+String.fromCharCode(m),a,c));n.b+="&";m=c-g;n.b+=null==m?C.substr(a,g,null):C.substr(a,g,m);g=c--;d=q}}m=a.charCodeAt(++c)}1==d&&(g=c,d=13);if(13==d){if(c!=g||0==k)b=c-g,n.b+=null==b?C.substr(a,g,null):C.substr(a,g,b),h.addChild(A.createPCData(n.b));return c}if(!b&&18==d&&13==q)return n.b+="&",b=c-g,n.b+=null==b?C.substr(a,g,null):C.substr(a,g,b),h.addChild(A.createPCData(n.b)),c;throw new E(new ha("Unexpected end",
a,c));};var E=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,E)};m["js._Boot.HaxeError"]=E;E.__name__=["js","_Boot","HaxeError"];E.wrap=function(a){return a instanceof Error?a:new E(a)};E.__super__=Error;E.prototype=y(Error.prototype,{__class__:E});var U=function(){};m["js.Boot"]=U;U.__name__=["js","Boot"];U.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=U.__nativeClassName(a);
return null!=a?U.__resolveNativeClass(a):null};U.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var h=2,p=a.length;h<p;)var d=h++,c=2!=d?c+(","+U.__string_rec(a[d],b)):c+U.__string_rec(a[d],b);return c+")"}c=a.length;h="[";b+="\t";for(p=0;p<c;)d=p++,h+=
(0<d?",":"")+U.__string_rec(a[d],b);return h+"]"}try{h=a.toString}catch(e){return"???"}if(null!=h&&h!=Object.toString&&"function"==typeof h&&(c=a.toString(),"[object Object]"!=c))return c;c=null;h="{\n";b+="\t";p=null!=a.hasOwnProperty;for(c in a)p&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=h.length&&(h+=", \n"),h+=b+c+" : "+U.__string_rec(a[c],b));b=b.substring(1);return h+("\n"+b+"}");case "string":return a;default:return String(a)}};
U.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var h=0,p=c.length;h<p;){var d=h++,d=c[d];if(d==b||U.__interfLoop(d,b))return!0}return U.__interfLoop(a.__super__,b)};U.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case ff:return"boolean"==typeof a;case pf:return!0;case gf:return"number"==typeof a;case qf:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;
default:if(null!=a)if("function"==typeof b){if(a instanceof b||U.__interfLoop(U.getClass(a),b))return!0}else{if("object"==typeof b&&U.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==rf&&null!=a.__name__||b==sf&&null!=a.__ename__?!0:a.__enum__==b}};U.__nativeClassName=function(a){a=U.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};U.__isNativeObj=function(a){return null!=U.__nativeClassName(a)};U.__resolveNativeClass=function(a){return nf[a]};
var Je=function(){};m["js.html._CanvasElement.CanvasUtil"]=Je;Je.__name__=["js","html","_CanvasElement","CanvasUtil"];Je.getContextWebGL=function(a,b){for(var c=0,h=["webgl","experimental-webgl"];c<h.length;){var p=h[c];++c;p=a.getContext(p,b);if(null!=p)return p}return null};var Ca=function(){};m["kit.util.Disposable"]=Ca;Ca.__name__=["kit","util","Disposable"];Ca.prototype={__class__:Ca};var w=function(){this.$oE=null;this.$nE=0;this.owner=this.next=null};m["kit.Component"]=w;w.__name__=["kit",
"Component"];w.__interfaces__=[Ca];w.prototype={onAdded:function(){},onRemoved:function(){null!=this.$oE&&this.$oE.$6E()},onStart:function(){},onStop:function(){},onUpdate:function(a){},onMessage:function(a,b){if(null!=this.$oE){var c=this.$oE.$4E;if(null!=c&&(c=null!=F[a]?c.getReserved(a):c.h[a],null!=c&&null!=c.$vF))return c.emit(b),!0}return!1},connect0:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},connect1:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);
this.registerDisposable(a);return a},registerDisposable:function(a){null==this.$oE&&(this.$oE=new Vd);null==this.$oE.$5E&&(this.$oE.$5E=[]);this.$oE.$5E.push(a)},dispose:function(){null!=this.owner?this.owner.remove(this):null!=this.$oE&&this.$oE.$6E()},get_entitySlot:function(){return-1},$mE:function(){},__class__:w,__properties__:{get_entitySlot:"get_entitySlot"}};var Fb=function(){};m["kit.asset.AssetPack"]=Fb;Fb.__name__=["kit","asset","AssetPack"];Fb.__interfaces__=[Ca];Fb.prototype={__class__:Fb};
var $b=function(){this.$uE=new V;this.$tE=[]};m["kit.Assets"]=$b;$b.__name__=["kit","Assets"];$b.__interfaces__=[Fb];$b.__super__=w;$b.prototype=y(w.prototype,{get_entitySlot:function(){return 0},getTexture:function(a,b){null==b&&(b=!0);for(var c=0,h=this.$tE;c<h.length;){var p=h[c];++c;p=p.$vE.getTexture(a,!1);if(null!=p)return p}c=this.$sE();return null!=c?c.getTexture(a,b):null},getSound:function(a,b){null==b&&(b=!0);for(var c=0,h=this.$tE;c<h.length;){var p=h[c];++c;p=p.$vE.getSound(a,!1);if(null!=
p)return p}c=this.$sE();return null!=c?c.getSound(a,b):null},getFile:function(a,b){null==b&&(b=!0);for(var c=0,h=this.$tE;c<h.length;){var p=h[c];++c;p=p.$vE.getFile(a,!1);if(null!=p)return p}c=this.$sE();return null!=c?c.getFile(a,b):null},getVideo:function(a,b){null==b&&(b=!0);for(var c=0,h=this.$tE;c<h.length;){var p=h[c];++c;p=p.$vE.getVideo(a,!1);if(null!=p)return p}c=this.$sE();return null!=c?c.getVideo(a,b):null},getSceneSymbol:function(a,b){null==b&&(b=!0);for(var c=0,h=this.$tE;c<h.length;){var p=
h[c];++c;var d=p.$0E,d=null!=F[a]?d.getReserved(a):d.h[a];if(null!=d)return d;if(null!=p.$vE.getFile(a+".symbol",!1))return c=new ia(this,a,!0),p=p.$0E,null!=F[a]?p.setReserved(a,c):p.h[a]=c,c.disposeFiles()}p=this.$sE();return null!=p?p.getSceneSymbol(a,b):null},$sE:function(){return null==this.owner||null==this.owner.parent?null:this.owner.parent._internal_getFromParents(0)},dispose:function(){w.prototype.dispose.call(this);var a=this.$tE;this.$tE=[];this.$uE=new V;for(var b=0;b<a.length;){var c=
a[b];++b;c.$vE.dispose()}},__class__:$b});var Ke=function(){this.$0E=new V};m.$CG=Ke;Ke.__name__=["$CG"];Ke.prototype={__class__:Ke};var hf=function(){};m.$CH=hf;hf.__name__=["$CH"];var Vd=function(){this.$4E=this.$5E=null};m.$CJ=Vd;Vd.__name__=["$CJ"];Vd.prototype={$6E:function(){var a=this.$5E;if(null!=a){this.$5E=null;for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}}this.$4E=null},__class__:Vd};var Wd=function(){};m["kit.MessageResult"]=Wd;Wd.__name__=["kit","MessageResult"];Wd.prototype={__class__:Wd};
var e=function(){this.active=!0;this.parent=this.firstChild=this.next=this.firstComponent=null;this.$CF={}};m["kit.Entity"]=e;e.__name__=["kit","Entity"];e.__interfaces__=[Ca];e.$DF=function(a){for(var b=null;null!=a;)b=a,a=a.next;return b};e.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_entitySlot(),c=this.$CF[b];null!=c&&this.remove(c);this.$CF[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();
return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var h=c.next;if(c==a)return null==b?this.firstComponent=h:(b.owner=this,b.next=h),a=c.get_entitySlot(),delete this.$CF[a],0!=(c.$nE&1)&&(c.onStop(),c.$nE&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=h}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;b?this.$$E(e.$DF(this.firstChild),a):this.$_E(a);return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=
c;){if(c==a){this.$9E(b);c.parent=null;c.next=null;break}b=c;c=c.next}},emitMessage:function(a,b){for(var c=!1,h=this.firstComponent;null!=h;){var p=h.next;h.onMessage(a,b)&&(c=!0);h=p}e.$EF.handled=c;return e.$EF},emitMessageToParents:function(a,b){for(var c=!1,h=this;;){var p=h.parent;h.emitMessage(a,b).handled&&(c=!0);h=p;if(null==h)break}e.$EF.handled=c;return e.$EF},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=
this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},yieldForStart:function(){for(var a=this.firstComponent;null!=a;){var b=a.next;0==(a.$nE&1)&&(a.$nE|=1,a.$mE(),a.onStart());a=b}for(a=this.firstChild;null!=a;)b=a.next,a.yieldForStart(),a=b},_internal_getFromParents:function(a,b){for(var c=this;;){var h=c.$CF[a];null!=b&&(h=h instanceof b?h:null);if(null!=h)return h;c=c.parent;if(null==c)break}return null},$9E:function(a){null!=a?a.next=a.next.next:this.$AF()},$$E:function(a,
b){null!=a?(b.next=a.next,a.next=b):this.$_E(b)},$_E:function(a){a.next=this.firstChild;this.firstChild=a},$AF:function(){this.firstChild=this.firstChild.next},__class__:e};var Le=function(){};m["kit.util.PackageLog"]=Le;Le.__name__=["kit","util","PackageLog"];var Xd=function(){};m.$CK=Xd;Xd.__name__=["$CK"];Xd.prototype={__class__:Xd};var Ra=function(){this.$eF=!0};m.$CL=Ra;Ra.__name__=["$CL"];Ra.__interfaces__=[Xd];Ra.prototype={init:function(){var a=this,b=null;try{b=window.kit.canvas}catch(c){}b.setAttribute("tabindex",
"0");b.style.outlineStyle="none";B.$4P(b,"tap-highlight-color","transparent");b.setAttribute("moz-opaque","");this.$NF=new ac(b);this.$LF=new qa;this.$KF=new bc(this.$LF,b);this.$MF=this.$JF(b);this.$FF=new fb;this.$aF=b;this.$bF=b.parentElement;this.$bF.style.overflow="hidden";this.$bF.style.position="relative";B.$4P(this.$bF,"touch-action","none");var h=0,p=function(c){if(!(1E3>c.timeStamp-h)){var p=b.getBoundingClientRect(),d=a.$HF(c,p),p=a.$IF(c,p);switch(c.type){case "mousedown":c.target==b&&
(c.preventDefault(),a.$KF.$JL(d,p,c.button),b.focus());break;case "mousemove":a.$KF.$NL(d,p);break;case "mouseup":a.$KF.$KL(d,p,c.button);break;case "DOMMouseScroll":case "mousewheel":a.$KF.$OL(d,p,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",p,!1);window.addEventListener("mousemove",p,!1);window.addEventListener("mouseup",p,!1);b.addEventListener("mousewheel",p,!1);b.addEventListener("DOMMouseScroll",p,!1);b.addEventListener("contextmenu",
function(a){a.preventDefault()},!1);var d="undefined"!=typeof window.ontouchstart,p=B.$1P("maxTouchPoints",window.navigator).value|0;if(d||1<p){var e=new cc(this.$LF,d?4:p);this.$OF=e;p=function(b){var c=d?b.changedTouches:[b],p=b.target.getBoundingClientRect();h=b.timeStamp;switch(b.type){case "MSPointerMove":case "pointermove":case "touchmove":b.preventDefault();for(b=0;b<c.length;){var f=c[b];++b;var g=a.$HF(f,p),k=a.$IF(f,p);e.$NL((d?f.identifier:f.pointerId)|0,g,k)}break;case "MSPointerUp":case "pointerup":case "touchcancel":case "touchend":for(b=
0;b<c.length;)f=c[b],++b,g=a.$HF(f,p),k=a.$IF(f,p),e.$KL((d?f.identifier:f.pointerId)|0,g,k);break;case "MSPointerDown":case "pointerdown":case "touchstart":for(b.preventDefault(),b=0;b<c.length;)f=c[b],++b,g=a.$HF(f,p),k=a.$IF(f,p),e.$JL((d?f.identifier:f.pointerId)|0,g,k)}};d?(b.addEventListener("touchstart",p,!1),b.addEventListener("touchmove",p,!1),b.addEventListener("touchend",p,!1),b.addEventListener("touchcancel",p,!1)):(b.addEventListener("MSPointerDown",p,!1),b.addEventListener("MSPointerMove",
p,!1),b.addEventListener("MSPointerUp",p,!1))}else this.$OF=new dc;var f=window.onerror;window.onerror=function(a,b,c){n.uncaughtError.emit(a);return null!=f?f(a,b,c):!1};var g=B.$1P("hidden",window.document);null!=g.value?(p=function(a){n.hidden.set__(Y.field(window.document,g.field))},p(null),window.document.addEventListener(g.prefix+"visibilitychange",p,!1)):(p=function(a){n.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",p,!1),window.addEventListener("pagehide",p,!1));n.hidden.get_changed().connect(function(b,
c){b||(a.$dF=!0)});this.$dF=!1;this.$cF=Date.now();var k=B.$1P("requestAnimationFrame").value;if(null!=k){var l=window.performance,m=null!=l&&B.$3P("now",l);m&&(this.$cF=l.now());var q=null,q=function(c){k(q,b);c=m?l.now():c;a.$GF(c)};k(q,b)}else window.setInterval(function(){var b=Date.now();a.$GF(b)},16);ja.$fL("fullscreen")&&this.$OF.get_supported()&&this.$NF.get_fullscreenSupported()&&this.$OF.up.connect(function(b){a.$NF.fullscreen.$iF||a.$NF.requestFullscreen()});var s=ja.$gL();null!=s&&(this.$NF.fullscreen.get_changed().connect(function(b,
c){b&&a.$NF.lockOrientation(s)}),this.$NF.lockOrientation(s));this.$FF.$3N.add(new ec);this.$FF.$7I();return(new ka).success(null)},loadAssetPack:function(a){return(new R(this,a)).$3E},createLogHandler:function(a){return null},$GF:function(a){var b=(a-this.$cF)/1E3;this.$cF=a;n.hidden.$iF||(this.$dF?this.$dF=!1:(this.$eF&&(this.$eF=!1,this.$NF.$oP(null)),this.$FF.$GF(b),this.$FF.$fH(this.$MF)))},getKeyboard:function(){var a=this;if(null==this.$UF){this.$UF=new Ja;var b=function(b){switch(b.type){case "keydown":a.$UF.$JL(b.keyCode)&&
b.preventDefault();break;case "keyup":a.$UF.$KL(b.keyCode)}};this.$aF.addEventListener("keydown",b,!1);this.$aF.addEventListener("keyup",b,!1);if(null!=window.history&&null!=(df=window.history,r(df,df.pushState))){var c=!1,h=function(){window.history.pushState("2DKitBack",null);c=!0};window.addEventListener("popstate",function(b){c&&(null!=a.$UF.backButton.$vF?(h(),a.$UF.backButton.emit()):window.history.back())});if(B.$wP)this.$LF.down.connect(function(a){h()}).once();else h()}}return this.$UF},
getExternal:function(){null==this.$SF&&(this.$SF=new fc);return this.$SF},getRenderer:function(){return this.$MF},$HF:function(a,b){return(a.clientX-b.left)*this.$NF.get_width()/b.width},$IF:function(a,b){return(a.clientY-b.top)*this.$NF.get_height()/b.height},$JF:function(a){try{var b=Je.getContextWebGL(a,{alpha:!1,depth:!1,stencil:!0,failIfMajorPerformanceCaveat:!0});if(null!=b){var c=new gc(this.$NF,b);if(c.$9R)return c}}catch(h){}return new hc(a)},__class__:Ra};var ea=function(a,b){this.$iF=a;
this.$jF=null!=b?new Gb(b):null};m["kit.util.Value"]=ea;ea.__name__=["kit","util","Value"];ea.prototype={watch:function(a){a(this.$iF,this.$iF);return this.get_changed().connect(a)},set__:function(a){var b=this.$iF;a!=b&&(this.$iF=a,null!=this.$jF&&this.$jF.emit(a,b));return a},get_changed:function(){null==this.$jF&&(this.$jF=new Gb);return this.$jF},__class__:ea,__properties__:{get_changed:"get_changed",set__:"set__"}};var nb=function(a,b){this.$kF=null;this.$mF=a;this.$lF=b;this.stayInList=!0};
m["kit.util.SignalConnection"]=nb;nb.__name__=["kit","util","SignalConnection"];nb.__interfaces__=[Ca];nb.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this.$mF&&(this.$mF.$oF(this),this.$mF=null)},__class__:nb};var la=function(a){this.$vF=null!=a?new nb(this,a):null;this.$wF=null};m["kit.util.SignalBase"]=la;la.__name__=["kit","util","SignalBase"];la.prototype={$nF:function(a,b){var c=this,h=new nb(this,a);this.$vF==la.$xF?this.$pF(function(){c.$sF(h,b)}):this.$sF(h,
b);return h},$oF:function(a){var b=this;this.$vF==la.$xF?this.$pF(function(){b.$tF(a)}):this.$tF(a)},$pF:function(a){for(var b=null,c=this.$wF;null!=c;)b=c,c=c.next;a=new Yd(a);null!=b?b.next=a:this.$wF=a},$qF:function(){var a=this.$vF;this.$vF=la.$xF;return a},$rF:function(a){this.$vF=a;a=this.$wF;for(this.$wF=null;null!=a;)a.$dT(),a=a.next},$sF:function(a,b){if(b)a.$kF=this.$vF,this.$vF=a;else{for(var c=null,h=this.$vF;null!=h;)c=h,h=h.$kF;null!=c?c.$kF=a:this.$vF=a}},$tF:function(a){for(var b=
null,c=this.$vF;null!=c;){if(c==a){a=c.$kF;null==b?this.$vF=a:b.$kF=a;break}b=c;c=c.$kF}},__class__:la};var Gb=function(a){la.call(this,a)};m["kit.util.Signal2"]=Gb;Gb.__name__=["kit","util","Signal2"];Gb.__super__=la;Gb.prototype=y(la.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$nF(a,b)},emit:function(a,b){var c=this;this.$vF==la.$xF?this.$pF(function(){c.$yF(a,b)}):this.$yF(a,b)},$yF:function(a,b){for(var c=this.$qF(),h=c;null!=h;)h.$lF(a,b),h.stayInList||h.dispose(),h=h.$kF;this.$rF(c)},
__class__:Gb});var ob=function(a){la.call(this,a)};m["kit.util.Signal0"]=ob;ob.__name__=["kit","util","Signal0"];ob.__super__=la;ob.prototype=y(la.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$nF(a,b)},emit:function(){var a=this;this.$vF==la.$xF?this.$pF(function(){a.$yF()}):this.$yF()},$yF:function(){for(var a=this.$qF(),b=a;null!=b;)b.$lF(),b.stayInList||b.dispose(),b=b.$kF;this.$rF(a)},__class__:ob});var Z=function(a){la.call(this,a)};m["kit.util.Signal1"]=Z;Z.__name__=["kit","util",
"Signal1"];Z.__super__=la;Z.prototype=y(la.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$nF(a,b)},emit:function(a){var b=this;this.$vF==la.$xF?this.$pF(function(){b.$yF(a)}):this.$yF(a)},$yF:function(a){for(var b=this.$qF(),c=b;null!=c;)c.$lF(a),c.stayInList||c.dispose(),c=c.$kF;this.$rF(b)},__class__:Z});var P=function(a,b){this.$zF=null;ea.call(this,a,b)};m["kit.animation.AnimatedFloat"]=P;P.__name__=["kit","animation","AnimatedFloat"];P.__super__=ea;P.prototype=y(ea.prototype,{set__:function(a){this.$zF=
null;return ea.prototype.set__.call(this,a)},update:function(a){null!=this.$zF&&(ea.prototype.set__.call(this,this.$zF.update(a)),this.$zF.isComplete()&&(this.$zF=null))},animate:function(a,b,c,h){this.set__(a);this.animateTo(b,c,h)},animateTo:function(a,b,c){this.set_behavior(new pb(this.$iF,a,b,c))},animateBy:function(a,b,c){this.set_behavior(new pb(this.$iF,this.$iF+a,b,c))},set_behavior:function(a){this.$zF=a;this.update(0);return a},__class__:P,__properties__:y(ea.prototype.__properties__,{set_behavior:"set_behavior"})});
var n=function(){};m["kit.System"]=n;n.__name__=["kit","System"];n.$0F=function(){null==n.$4F&&(n.$4F=n.$3F.init());return n.$4F};var Zd=function(a){this.$6F=a};m["kit.util.Logger"]=Zd;Zd.__name__=["kit","util","Logger"];Zd.prototype={__class__:Zd};var ic=function(){};m["kit.Log"]=ic;ic.__name__=["kit","Log"];ic.__super__=Le;ic.prototype=y(Le.prototype,{__class__:ic});var Ka=function(a){null==a&&(a=1);this.$7F=0;w.call(this);this.scale=new P(a)};m["kit.SpeedAdjuster"]=Ka;Ka.__name__=["kit","SpeedAdjuster"];
Ka.__super__=w;Ka.prototype=y(w.prototype,{get_entitySlot:function(){return 9},onUpdate:function(a){0<this.$7F&&(a=this.$7F,this.$7F=0);this.scale.update(a)},__class__:Ka});var jc=function(){};m["kit.animation.Behavior"]=jc;jc.__name__=["kit","animation","Behavior"];jc.prototype={__class__:jc};var q=function(){};m["kit.animation.Ease"]=q;q.__name__=["kit","animation","Ease"];q.linear=function(a){return a};q.sineIn=function(a){return 1-Math.cos(1.5707963267948966*a)};q.sineOut=function(a){return Math.sin(1.5707963267948966*
a)};q.sineInOut=function(a){return 0.5-Math.cos(3.141592653589793*a)/2};q.bounceOut=function(a){return 0.36363636363636365>a?7.5625*a*a:0.7272727272727273>a?7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75:0.9090909090909091>a?7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375:7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375};var Hb=function(a,b){this.base=a;this.strength=b};m["kit.animation.Jitter"]=Hb;Hb.__name__=["kit","animation","Jitter"];Hb.__interfaces__=[jc];
Hb.prototype={update:function(a){return this.base+2*Math.random()*this.strength-this.strength},isComplete:function(){return!1},__class__:Hb};var pb=function(a,b,c,h){this.$IG=a;this.$JG=b;this.$KG=c;this.elapsed=0;this.$LG=null!=h?h:q.linear};m["kit.animation.Tween"]=pb;pb.__name__=["kit","animation","Tween"];pb.__interfaces__=[jc];pb.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this.$KG?this.$JG:this.$IG+(this.$JG-this.$IG)*this.$LG(this.elapsed/this.$KG)},isComplete:function(){return this.elapsed>=
this.$KG},__class__:pb};var Sa=function(){};m["kit.asset.Asset"]=Sa;Sa.__name__=["kit","asset","Asset"];Sa.__interfaces__=[Ca];Sa.prototype={__class__:Sa};var z={__ename__:!0,__constructs__:"WEBP PNG JPG GIF _2DKD _2DKP _2DKE MP3 M4A OPUS OGG WAV WOFF TTF OTF SWF MP4 WEBM Data".split(" "),WEBP:["WEBP",0]};z.WEBP.toString=t;z.WEBP.__enum__=z;z.PNG=["PNG",1];z.PNG.toString=t;z.PNG.__enum__=z;z.JPG=["JPG",2];z.JPG.toString=t;z.JPG.__enum__=z;z.GIF=["GIF",3];z.GIF.toString=t;z.GIF.__enum__=z;z._2DKD=
["_2DKD",4];z._2DKD.toString=t;z._2DKD.__enum__=z;z._2DKP=["_2DKP",5];z._2DKP.toString=t;z._2DKP.__enum__=z;z._2DKE=["_2DKE",6];z._2DKE.toString=t;z._2DKE.__enum__=z;z.MP3=["MP3",7];z.MP3.toString=t;z.MP3.__enum__=z;z.M4A=["M4A",8];z.M4A.toString=t;z.M4A.__enum__=z;z.OPUS=["OPUS",9];z.OPUS.toString=t;z.OPUS.__enum__=z;z.OGG=["OGG",10];z.OGG.toString=t;z.OGG.__enum__=z;z.WAV=["WAV",11];z.WAV.toString=t;z.WAV.__enum__=z;z.WOFF=["WOFF",12];z.WOFF.toString=t;z.WOFF.__enum__=z;z.TTF=["TTF",13];z.TTF.toString=
t;z.TTF.__enum__=z;z.OTF=["OTF",14];z.OTF.toString=t;z.OTF.__enum__=z;z.SWF=["SWF",15];z.SWF.toString=t;z.SWF.__enum__=z;z.MP4=["MP4",16];z.MP4.toString=t;z.MP4.__enum__=z;z.WEBM=["WEBM",17];z.WEBM.toString=t;z.WEBM.__enum__=z;z.Data=["Data",18];z.Data.toString=t;z.Data.__enum__=z;var $d=function(a,b,c,h){this.cacheKey=null;this.name=a;this.url=b;this.format=c;this.bytes=h};m["kit.asset.AssetEntry"]=$d;$d.__name__=["kit","asset","AssetEntry"];$d.prototype={__class__:$d};var kc=function(){};m["kit.asset.File"]=
kc;kc.__name__=["kit","asset","File"];kc.__interfaces__=[Sa];kc.prototype={__class__:kc};var da=function(){this.$MG=this.$NG=null;this.pixelScale=1;this.$tE=[]};m["kit.asset.Manifest"]=da;da.__name__=["kit","asset","Manifest"];da.fromAssets=function(a,b,c){null==c&&(c=!0);null==b&&(b=-1);b=1;c=[];for(var h=ja.$fL("assets"),p=0,d=Y.fields(h);p<d.length;){var e=d[p];++p;if(ca.startsWith(e,a)){var f=C.substr(e,a.length,null);if(0<f.length){var g=new db("^-([\\d\\.]+)%$","");g.match(f)&&(f=parseFloat(g.matched(1)),
c.push(new lc(e,f/100)))}else c.push(new lc(e,1))}}if(0==c.length)return null;c.sort(function(a,b){return Y.compare(a.$SG,b.$SG)});a=null;for(p=0;p<c.length&&!(d=c[p],++p,a=d,d.$SG>=b););b=Y.field(h,a.$RG);c=new da;c.$MG="assets";c.pixelScale=a.$SG;h=encodeURIComponent(a.$RG);for(a=0;a<b.length;){p=b[a];++a;d=p.name;e=h;f=0;for(g=d.split("/");f<g.length;){var k=g[f];++f;e+="/"+encodeURIComponent(k)}ca.endsWith(d,".__gz.txt")&&(d=C.substr(d,0,d.length-9));f=da.$OG(d);f!=z.Data&&(d=ra.removeFileExtension(d));
d=c.add(d,e,p.bytes,f);null!=p.md5&&(d.cacheKey="assets:"+Q.string(p.md5))}return c};da.$OG=function(a){a=ra.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "2dkd":return z._2DKD;case "2dke":return z._2DKE;case "2dkp":return z._2DKP;case "gif":return z.GIF;case "jpeg":case "jpg":return z.JPG;case "m4a":return z.M4A;case "mp3":return z.MP3;case "mp4":return z.MP4;case "ogg":return z.OGG;case "opus":return z.OPUS;case "otf":return z.OTF;case "png":return z.PNG;case "swf":return z.SWF;case "ttf":return z.TTF;
case "wav":return z.WAV;case "webm":return z.WEBM;case "webp":return z.WEBP;case "woff":return z.WOFF}return z.Data};da.prototype={add:function(a,b,c,h){null==c&&(c=0);null==h&&(h=da.$OG(b));a=new $d(a,b,h,c);this.$tE.push(a);return a},iterator:function(){return C.iter(this.$tE)},getFullURL:function(a){var b=null!=this.$NG&&da.$QG?this.$NG:this.$MG;return null!=b?ra.joinPath(b,a.url):a.url},__class__:da};var lc=function(a,b){this.$RG=a;this.$SG=b};m.$CM=lc;lc.__name__=["$CM"];lc.prototype={__class__:lc};
var S={__ename__:!0,__constructs__:"CString CBool CFloat CInt CArray CEnum CClass".split(" "),CString:["CString",0]};S.CString.toString=t;S.CString.__enum__=S;S.CBool=["CBool",1];S.CBool.toString=t;S.CBool.__enum__=S;S.CFloat=["CFloat",2];S.CFloat.toString=t;S.CFloat.__enum__=S;S.CInt=["CInt",3];S.CInt.toString=t;S.CInt.__enum__=S;S.CArray=function(a){a=["CArray",4,a];a.__enum__=S;a.toString=t;return a};S.CEnum=function(a){a=["CEnum",5,a];a.__enum__=S;a.toString=t;return a};S.CClass=function(a){a=
["CClass",6,a];a.__enum__=S;a.toString=t;return a};var Za=function(){this.onStarted=this.onUpdated=this.onStopped=null;this.spawned=!0};m["kit.creator.CreatorObject"]=Za;Za.__name__=["kit","creator","CreatorObject"];Za.__super__=w;Za.prototype=y(w.prototype,{get_entitySlot:function(){return 2},onStart:function(){this.$nE|=2},onUpdate:function(a){0!=(this.$nE&2)&&(this.$nE&=-3,null!=this.onStarted&&(this.owner.yieldForStart(),this.owner.emitMessageToParents(this.onStarted,this.owner)));null!=this.onUpdated&&
this.owner.emitMessageToParents(this.onUpdated,this.owner)},onStop:function(){this.$nE&=-3;null!=this.onStopped&&this.owner.emitMessageToParents(this.onStopped,this.owner)},__class__:Za});var mc=function(){this.offsetX=this.offsetY=0;this.active=!0;this.following=null};m["kit.creator.Camera"]=mc;mc.__name__=["kit","creator","Camera"];mc.__super__=Za;mc.prototype=y(Za.prototype,{onStart:function(){Za.prototype.onStart.call(this);var a=this.owner.$CF[1];if(null==a){var b=this.owner,a=new x;b.add(a);
this.info.transformSprite(a);a.set_visible(!1)}this.active&&(this.owner._internal_getFromParents(1,Aa).camera=this)},onUpdate:function(a){Za.prototype.onUpdate.call(this,a);this.zoom.update(a)},$UG:function(a){var b=this.owner.$CF[1];if(null!=this.following){var c=this.following.$CF[1];null!=c&&b.setXY(c.x.$iF+this.offsetX,c.y.$iF+this.offsetY)}for(var c=this.zoom.$iF,h=b.y.$iF-0.5*a.cameraHeight.$iF/c,b=-Ta.clamp(b.x.$iF-0.5*a.cameraWidth.$iF/c,0,a.info.width*a.info.tileWidth-a.cameraWidth.$iF/c),
h=-Ta.clamp(h,0,a.info.height*a.info.tileHeight-a.cameraHeight.$iF/c),p=0,d=a.info.layers;p<d.length;){var e=d[p];++p;var f=e.name,g=a.layers,f=(null!=F[f]?g.getReserved(f):g.h[f]).$CF[1],g=e.parallaxX,k=e.parallaxY,g=(g>k?g:k)*(c-1)+1;f.setScale(g);f.x.set__(e.parallaxX*b*g);f.y.set__(e.parallaxY*h*g)}},__class__:mc});var $a=function(a,b){this.states=new V;this.properties=new V;this.tile=this.points=null;this.layer=a;this.name=ia.$RH(b.name);this.type=ia.$RH(b.type);this.x=b.x;this.y=b.y;this.anchorX=
ia.$SH(b.anchorX,0);this.anchorY=ia.$SH(b.anchorY,0);this.rotation=b.rotation;this.width=b.width;this.height=b.height;this.visible=b.visible;this.tint=null!=b.tintcolor?Q.parseInt(ca.replace(b.tintcolor,"#","0x")):16777215;b.ellipse?this.shape=$.Ellipse:null!=b.polygon?(this.shape=$.Polygon,this.points=b.polygon.map(function(a){return new La(a.x,a.y)})):null!=b.polyline?(this.shape=$.Polyline,this.points=b.polyline.map(function(a){return new La(a.x,a.y)})):null!=b.gid?(this.shape=$.Tile,this.tile=
a.scene.tiles.h[b.gid]):this.shape=$.Rectangle;var c=null!=this.tile?-this.height:0;if(0==this.rotation)this.x+=this.anchorX,this.y+=this.anchorY+c;else{var h=new ya;h.compose(this.x,this.y,1,1,3.141592653589793*this.rotation/180);h.translate(this.anchorX,this.anchorY+c);this.x=h.m02;this.y=h.m12}null!=this.tile&&(this.anchorX*=this.tile.get_width()/this.width,this.anchorY*=this.tile.get_height()/this.height);c=ia.$QH(b.properties);for(h=c.keys();h.hasNext();){var p=h.next(),d=null!=F[p]?c.getReserved(p):
c.h[p];if(ca.startsWith(p,"@State:"))var e=this.states,p=C.substr(p,7,null);else e=this.properties;null!=F[p]?e.setReserved(p,d):e.h[p]=d}};m["kit.creator.ObjectInfo"]=$a;$a.__name__=["kit","creator","ObjectInfo"];$a.prototype={createSprite:function(){var a;null!=this.tile?(a=this.tile.texture,a=null!=a&&2>Db.count(this.states)?new I(a):new nc(this)):a=new x;this.transformSprite(a);return a},transformSprite:function(a){null!=this.tile?(a.setXY(this.x+this.tile.tileset.offsetX,this.y+this.tile.tileset.offsetY),
a.setScaleXY(this.width/this.tile.get_width(),this.height/this.tile.get_height())):a.setXY(this.x,this.y);a.setAnchor(this.anchorX,this.anchorY);a.rotation.set__(this.rotation);a.set_visible(this.visible);a.setTint(this.tint)},__class__:$a};var ab=function(){this.target=this.script=null};m["kit.creator.CreatorAction"]=ab;ab.__name__=["kit","creator","CreatorAction"];ab.runSequence=function(a,b){if(0>=a.length)return(new ka).success(null);for(var c=null,h=0;h<a.length;){var p=[a[h]];++h;c=null!=c?
c.then(function(a){return function(c){return a[0].$YG(b)}}(p)):p[0].$YG(b)}return c};ab.prototype={$WG:function(a){},$XG:function(a){return null},$YG:function(a){if(null==this.script||null==this.script.owner)return(new ka).failure();if(null!=this.target){var b=this.script.owner._internal_getFromParents(1,Aa);a=null;for(var c=b.objects.keys();c.hasNext();){var h=c.next();if(this.target.name==h.name){a=b.objects.h[h.__id__];break}}if(null==a)return(new ka).failure()}this.$WG(a);a=this.$XG(a);null==
a&&(a=(new ka).success(null));return a},__class__:ab};var oc=function(a){this.$dG=new V;w.call(this);this.scene=a;this.$ZG()};m["kit.creator.CreatorScript"]=oc;oc.__name__=["kit","creator","CreatorScript"];oc.__super__=w;oc.prototype=y(w.prototype,{get_entitySlot:function(){return 5},onMessage:function(a,b){var c=!1,h=this.$dG,h=null!=F[a]?h.getReserved(a):h.h[a];if(null!=h){var p=b instanceof e?b:null;if(null!=p)for(var d=this.owner;null!=d;)d==n.root&&(ab.runSequence(h.actions,p),c=!0),d=d.parent}return w.prototype.onMessage.call(this,
a,b)?!0:c},$ZG:function(){this.groups=[];for(var a=0,b=this.scene.script.groups;a<b.length;){var c=b[a];++a;var h=c.actions.map(r(this,this.$aG)).filter(function(a){return null!=a}),h=new ae(c,h);this.groups.push(h);var c=c.name,p=this.$dG;null!=F[c]?p.setReserved(c,h):p.h[c]=h}},$aG:function(a){var b=va.resolveClass(a.type);if(null==b)return null;var c=va.createInstance(b,[]);c.script=this;for(var h=a.properties.keys();h.hasNext();){var p=h.next(),d=gb.$7L(b,p);if(null!=d){var e=a.properties,e=null!=
F[p]?e.getReserved(p):e.h[p],d=this.$bG(d,e,a.type+"."+p);null!=d&&Y.setProperty(c,p,d)}}b=c instanceof pc?c:null;null!=b&&(b.subActions=a.subActions.map(r(this,this.$aG)).filter(function(a){return null!=a}));return c},$bG:function(a,b,c){var h=gb.$bG(a,b);if(null!=h)return h;switch(a[1]){case 4:a=a[2];var h=[],p=0;for(b=b.split(",");p<b.length;){var d=b[p];++p;h.push(this.$bG(a,ca.trim(d),c))}return h;case 6:switch(a[2]){case Ib:return this.scene.getLayer(b,!1);case $a:return this.scene.getObject(b,
!1)}}return null},__class__:oc});var ae=function(a,b){this.info=a;this.actions=b};m["kit.creator.Group"]=ae;ae.__name__=["kit","creator","Group"];ae.prototype={__class__:ae};var pc=function(){this.subActions=[]};m["kit.creator.GroupAction"]=pc;pc.__name__=["kit","creator","GroupAction"];pc.__super__=ab;pc.prototype=y(ab.prototype,{$XG:function(a){return ab.runSequence(this.subActions,a)},__class__:pc});var be=function(){};m["kit.filter.FilterContext"]=be;be.__name__=["kit","filter","FilterContext"];
be.prototype={__class__:be};var qc=function(){this.$iG=[];this.$hG=[]};m.$CO=qc;qc.__name__=["$CO"];qc.__interfaces__=[be];qc.prototype={$fG:function(a,b,c,h){var p=this.$hG.pop();null!=p?p.$KM(c,h):p=new ce(c,h);p.$GM=a;p.$HM=b;this.$iG.unshift(p);return p.$IM},apply:function(a){a.active&&a.apply(this)},render:function(a){this.$iG[0].$LM(a)},$gG:function(){var a=this.$iG.shift();this.$hG.push(a);return a.$IM},__class__:qc};var ya=function(){this.identity()};m["kit.math.Matrix"]=ya;ya.__name__=["kit",
"math","Matrix"];ya.multiply=function(a,b,c){null==c&&(c=new ya);var h=a.m00,p=a.m01,d=a.m02,e=a.m10,f=a.m11;a=a.m12;var g=b.m00,k=b.m01,l=b.m02,m=b.m10,n=b.m11;b=b.m12;c.m00=h*g+p*m;c.m01=h*k+p*n;c.m02=h*l+p*b+d;c.m10=e*g+f*m;c.m11=e*k+f*n;c.m12=e*l+f*b+a;return c};ya.prototype={set:function(a,b,c,h,p,d){this.m00=a;this.m01=c;this.m02=p;this.m10=b;this.m11=h;this.m12=d},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,h,p){var d=Math.sin(p);p=Math.cos(p);this.set(p*c,d*c,-d*h,p*
h,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m10/a,-this.m01/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},transform:function(a,b,c){null==c&&(c=new La);c.x=a*this.m00+b*this.m01+this.m02;c.y=a*this.m10+b*this.m11+this.m12;return c},transformArray:function(a,b,c){for(var h=0;h<b;){var p=a[h],d=a[h+1];c[h++]=
p*this.m00+d*this.m01+this.m02;c[h++]=p*this.m10+d*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var h=this.determinant();if(0==h)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/h;c.y=(b*this.m00-a*this.m10)/h;return!0},clone:function(a){null==a&&(a=new ya);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:ya};var La=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};m["kit.math.Point"]=
La;La.__name__=["kit","math","Point"];La.prototype={add:function(a,b){this.x+=a;this.y+=b},normalize:function(){var a=this.magnitude();this.x/=a;this.y/=a},dot:function(a,b){return this.x*a+this.y*b},multiply:function(a){this.x*=a;this.y*=a},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:La};var x=function(){this.$2G=null;this.$uG=this.$vG=0;this.$tG=null;var a=this;w.call(this);this.$nE|=150;this.$sG=new ya;var b=function(b,h){a.$nE|=24};this.x=new P(0,b);this.y=new P(0,
b);this.rotation=new P(0,b);this.scaleX=new P(1,b);this.scaleY=new P(1,b);this.anchorX=new P(0,b);this.anchorY=new P(0,b);this.alpha=new P(1)};m["kit.display.Sprite"]=x;x.__name__=["kit","display","Sprite"];x.hitTest=function(a,b,c){if(!a.active)return null;var h=a.$CF[1];if(null!=h){if(6!=(h.$nE&6)||null!=h.$2G&&null!=h.$2G.$fI||!h.getLocalMatrix().inverseTransform(b,c,x.$9G))return null;b=x.$9G.x;c=x.$9G.y;var p=h.get_scissor();if(null!=p&&!p.contains(b,c))return null}a=x.$6G(a.firstChild,b,c);
return null!=a?a:null!=h&&h.containsLocal(b,c)?h:null};x.getBounds=function(a,b){null==b&&(b=new oa);b.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);x.$7G(a,null,b);b.width-=b.x;b.height-=b.y;return b};x.render=function(a,b){x.$3G(a,b,!0)};x.$3G=function(a,b,c){if(a.active){var h=null,p=null,d=a.$CF[1];if(null!=d){var e=d.alpha.$iF;if(0==(d.$nE&2)||0>=e)return;var f=d.$2G;if(c&&null!=f&&null!=f.$fI)return;b.save();null!=f&&null!=f.$eI&&0!=(d.$nE&128)&&
(c=f.$eI.owner,null!=c&&(b.beginMask(),x.$3G(c,b,!1),b.endMask()));if(null!=f){var g=!1;c=!1;for(var k=0,l=0,m=0,q=0,s=0,u=f.$gI;s<u.length;){var r=u[s];++s;r.active&&(g=!0,c=c?!0:!r.outputOnly,k=Math.max(k,r.paddingTop),l=Math.max(l,r.paddingRight),m=Math.max(m,r.paddingBottom),q=Math.max(q,r.paddingLeft))}if(g&&n.$3F.$MF.get_filterSupported()){p=d.$mG();g=null!=p?p.getViewMatrix():null;s=d.getViewMatrix();p=new oa;p.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);
var t=f.$hI;if(null!=t){var u=t.x,r=t.y,v=u+t.width,t=r+t.height;v>u&&t>r&&(x.$8G(s,u,r,p),x.$8G(s,v,r,p),x.$8G(s,v,t,p),x.$8G(s,u,t,p))}else x.$7G(a,g,p);p.width-=p.x;p.height-=p.y;if(!p.get_empty()){p.x-=q;p.y-=k;p.width+=q+l;p.height+=k+m;h=x.$_G.$fG(p.x,p.y,Math.ceil(p.width),Math.ceil(p.height));c&&(h=h.get_graphics(),h.save(),h.translate(-p.x,-p.y),h.transform(s.m00,s.m10,s.m01,s.m11,s.m02,s.m12),x.$5G(d,h),x.$4G(a,h),h.restore());h=0;for(c=f.$gI;h<c.length;)k=c[h],++h,x.$_G.apply(k);h=x.$_G.$gG();
null!=g&&(c=g.clone(x.$$G),c.invert(),b.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12))}}}1>e&&b.multiplyAlpha(e);null==h&&(e=d.getLocalMatrix(),b.transform(e.m00,e.m10,e.m01,e.m11,e.m02,e.m12));null!=f&&(1==f.$aI.$iF&&1==f.$bI.$iF&&1==f.$cI.$iF||b.tint(f.$aI.$iF,f.$bI.$iF,f.$cI.$iF),null!=f.$YI&&b.setBlendMode(f.$YI),f=f.$ZI,null!=f&&null==h&&b.applyScissor(f.x,f.y,f.width,f.height));null==h?x.$5G(d,b):b.drawSubTexture(h,p.x,p.y,0,0,p.width,p.height)}null==h&&x.$4G(a,b);null!=d&&b.restore()}};x.$4G=
function(a,b){var c=a.$CF[7];if(null!=c)for(var c=c.occludedScenes,h=0;h<c.length;){var p=c[h];++h;x.render(p,b)}for(c=a.firstChild;null!=c;)h=c.next,x.render(c,b),c=h};x.$5G=function(a,b){a.draw(b);var c=a.$2G;null!=c&&null!=c.$dI&&c.$dI.render(b)};x.$6G=function(a,b,c){if(null!=a){var h=x.$6G(a.next,b,c);return null!=h?h:x.hitTest(a,b,c)}return null};x.$7G=function(a,b,c){if(a.active){var h=a.$CF[1];if(null!=h){if(0==(h.$nE&2)||null!=h.$2G&&null!=h.$2G.$fI)return;b=null!=b?ya.multiply(b,h.getLocalMatrix()):
h.getLocalMatrix();var p=h.getNaturalWidth(),h=h.getNaturalHeight();0<p&&0<h&&(x.$8G(b,0,0,c),x.$8G(b,p,0,c),x.$8G(b,p,h,c),x.$8G(b,0,h,c))}p=a.$CF[7];if(null!=p)for(var p=p.occludedScenes,h=0,d=p.length;h<d;)x.$7G(p[h],b,c),++h;for(a=a.firstChild;null!=a;)p=a.next,x.$7G(a,b,c),a=p}};x.$8G=function(a,b,c,h){a=a.transform(b,c,x.$9G);b=a.x;c=a.y;b<h.x&&(h.x=b);c<h.y&&(h.y=c);b>h.width&&(h.width=b);c>h.height&&(h.height=c)};x.__super__=w;x.prototype=y(w.prototype,{get_entitySlot:function(){return 1},
getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b?b<this.getNaturalHeight():!1},getLocalMatrix:function(){0!=(this.$nE&8)&&(this.$nE&=-9,this.$sG.compose(this.x.$iF,this.y.$iF,this.scaleX.$iF,this.scaleY.$iF,3.141592653589793*this.rotation.$iF/180),this.$sG.translate(-this.anchorX.$iF,-this.anchorY.$iF));return this.$sG},getViewMatrix:function(){if(this.$lG()){var a=this.$mG();this.$tG=null!=a?ya.multiply(a.getViewMatrix(),
this.getLocalMatrix(),this.$tG):this.getLocalMatrix().clone(this.$tG);this.$nE&=-17;null!=a&&(this.$vG=a.$uG);++this.$uG}return this.$tG},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setTint:function(a){if(null!=this.$2G||16777215!=a)this.get_tintR().set__((a&16711680)/16711680),
this.get_tintG().set__((a&65280)/65280),this.get_tintB().set__((a&255)/255);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},onAdded:function(){0!=(this.$nE&64)&&this.$nG()},onRemoved:function(){null!=this.$1G&&(this.$1G.dispose(),this.$1G=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);
this.anchorX.update(a);this.anchorY.update(a);var b=this.$2G;if(null!=b){b.$aI.update(a);b.$bI.update(a);b.$cI.update(a);for(var c=0,b=b.$gI;c<b.length;){var h=b[c];++c;h.active&&h.update(a)}}},draw:function(a){},$lG:function(){if(0!=(this.$nE&16))return!0;var a=this.$mG();return null==a?!1:this.$vG==a.$uG?a.$lG():!0},$mG:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a.$CF[1];if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this.$wG&&
(this.$wG=new Z);return this.$wG},get_pointerIn:function(){null==this.$zG&&(this.$zG=new Z);return this.$zG},get_pointerOut:function(){null==this.$0G&&(this.$0G=new Z);return this.$0G},$nG:function(){var a=this;null==this.$1G&&n.$3F.$FF.$6N(function(){a.$1G=n.$3F.$LF.move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.$mG()}null!=a.$0G&&0!=(a.$nE&64)&&a.$0G.emit(b);a.$nE&=-65;null!=a.$1G&&(a.$1G.dispose(),a.$1G=null)})})},get_blendMode:function(){return null!=this.$2G?this.$2G.$YI:
null},set_blendMode:function(a){if(null==this.$2G){if(null==a)return null;this.$2G=new Ua}return this.$2G.$YI=a},get_scissor:function(){return null!=this.$2G?this.$2G.$ZI:null},set_scissor:function(a){if(null==this.$2G){if(null==a)return null;this.$2G=new Ua}return this.$2G.$ZI=a},get_tintR:function(){null==this.$2G&&(this.$2G=new Ua);return this.$2G.$aI},get_tintG:function(){null==this.$2G&&(this.$2G=new Ua);return this.$2G.$bI},get_tintB:function(){null==this.$2G&&(this.$2G=new Ua);return this.$2G.$cI},
set_mask:function(a){if(null==this.$2G){if(null==a)return null;this.$2G=new Ua}var b=this.$2G.$eI;if(null!=b&&(b=b.$2G,null!=b&&null!=b.$fI)){var c=b.$fI;b.$fI=null;c.set_mask(null)}null!=a&&(b=a.$2G,null==b&&(b=a.$2G=new Ua),null!=b.$fI&&b.$fI.set_mask(null),b.$fI=this);return this.$2G.$eI=a},set_maskEnabled:function(a){this.$nE=qb.set(this.$nE,128,a);return a},set_visible:function(a){this.$nE=qb.set(this.$nE,2,a);return a},set_pointerEnabled:function(a){this.$nE=qb.set(this.$nE,4,a);return a},set_pixelSnapping:function(a){this.$nE=
qb.set(this.$nE,32,a);return a},$oG:function(a){this.$qG(a);null!=this.$wG&&this.$wG.emit(a)},$pG:function(a){this.$qG(a);null!=this.$xG&&this.$xG.emit(a)},$qG:function(a){0==(this.$nE&64)&&(this.$nE|=64,null!=this.$zG||null!=this.$0G)&&(null!=this.$zG&&this.$zG.emit(a),this.$nG())},$rG:function(a){1==a.source[1]&&(null!=this.$0G&&0!=(this.$nE&64)&&this.$0G.emit(a),this.$nE&=-65,null!=this.$1G&&(this.$1G.dispose(),this.$1G=null));null!=this.$yG&&this.$yG.emit(a)},__class__:x,__properties__:y(w.prototype.__properties__,
{get_tintB:"get_tintB",get_tintG:"get_tintG",get_tintR:"get_tintR",get_pointerOut:"get_pointerOut",get_pointerIn:"get_pointerIn",get_pointerDown:"get_pointerDown",set_pointerEnabled:"set_pointerEnabled",set_pixelSnapping:"set_pixelSnapping",set_visible:"set_visible",set_maskEnabled:"set_maskEnabled",set_mask:"set_mask",set_scissor:"set_scissor",get_scissor:"get_scissor",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode"})});var nc=function(a){this.$KH=new e;this.state=new ea(null);x.call(this);
this.$JH=a};m["kit.creator.ObjectSprite"]=nc;nc.__name__=["kit","creator","ObjectSprite"];nc.__super__=x;nc.prototype=y(x.prototype,{$IH:function(a,b){var c=this.$JH.tile;if(null==c.texture){var h=c.properties;a.x.set__(-parseFloat(null!=F.boundsX?h.getReserved("boundsX"):h.h.boundsX));c=c.properties;a.y.set__(-parseFloat(null!=F.boundsY?c.getReserved("boundsY"):c.h.boundsY))}this.$KH.add(a);this.state.set__(b)},onStart:function(){x.prototype.onStart.call(this);if(null!=this.owner&&(this.owner.addChild(this.$KH),
null==this.state.$iF)){var a,b=this.$JH.tile,c=!1;if(null!=b.texture)a=new I(b.texture);else{a=this.owner._internal_getFromParents(0);var h=b.properties,h=null!=F.symbol?h.getReserved("symbol"):h.h.symbol,p=b.properties;null!=(null!=F.scene?p.getReserved("scene"):p.h.scene)?(h=a.getSceneSymbol(h),a=h.createSprite(),this.$KH.add(h.createScript()),b=b.properties,2<=parseFloat(null!=F.version?b.getReserved("version"):b.h.version)&&(c=!0)):(a=b.tileset.properties,null==(null!=F.library?a.getReserved("library"):
a.h.library)&&(b=b.tileset.properties,null!=F.texturepacker&&b.getReserved("texturepacker")),a=null)}this.$IH(a,null);c&&(this.$KH.yieldForStart(),a.setXY(0,0),c=x.getBounds(this.$KH),c.get_empty()||a.setXY(-c.x+0,-c.y+(this.$JH.height-c.height)),this.setScale(1))}},__class__:nc});var ia=function(a,b,c){null==c&&(c=!1);this.$NH=a;this.$cG=a.getFile(b+(c?".symbol":".scene"));this.symbol=c;a=b.lastIndexOf("/");this.$OH=0<=a?C.substr(b,0,a+1):"";this.$ZG();this.reloadCount=new ea(0)};m["kit.creator.SceneInfo"]=
ia;ia.__name__=["kit","creator","SceneInfo"];ia.$QH=function(a){var b=new V;if(null!=a)for(var c=0,h=Y.fields(a);c<h.length;){var p=h[c];++c;if(!ca.startsWith(p,"//")){var d=ia.$RH(Y.field(a,p));null!=d&&(null!=F[p]?b.setReserved(p,d):b.h[p]=d)}}return b};ia.$RH=function(a){null!=a&&(a=ca.trim(a),0==a.length&&(a=null));return a};ia.$SH=function(a,b){return null!=a?a:b};ia.prototype={disposeFiles:function(){this.$cG.dispose();return this},createSprite:function(){return new Aa(this)},createScript:function(){return new oc(this)},
getLayer:function(a,b){for(var c=0,h=this.layers;c<h.length;){var p=h[c];++c;if(p.name==a)return p}return null},getObject:function(a,b){var c=this.$PH;return null!=F[a]?c.getReserved(a):c.h[a]},$LH:function(a){return this.$NH.getTexture(this.$OH+ra.removeFileExtension(a),!1)},$MH:function(a){return this.$NH.getTexture(a)},$ZG:function(){var a=this,b=this.$cG.toJson();this.width=b.width;this.height=b.height;this.tileWidth=b.tilewidth;this.tileHeight=b.tileheight;this.tilesets=b.tilesets.map(function(b){return new de(a,
b)});this.backgroundColor=null!=b.backgroundcolor?Q.parseInt(ca.replace(b.backgroundcolor,"#","0x")):8421504;this.tiles=new Ga;for(var c=0,h=this.tilesets;c<h.length;){var p=h[c];++c;for(var d=0,p=p.tiles;d<p.length;){var e=p[d];++d;this.tiles.h[e.id]=e}}this.layers=b.layers.map(function(b){return new Ib(a,b)});this.properties=ia.$QH(b.properties);this.script=new ee(b.script);this.$PH=new V;b=0;for(c=this.layers;b<c.length;)if(d=c[b],++b,null!=d.objects)for(h=0,d=d.objects;h<d.length;)if(p=d[h],++h,
null!=p.name){var e=p.name,f=this.$PH;null!=F[e]?f.setReserved(e,p):f.h[e]=p}},__class__:ia};var hb={__ename__:!0,__constructs__:["Tile","Object"],Tile:["Tile",0]};hb.Tile.toString=t;hb.Tile.__enum__=hb;hb.Object=["Object",1];hb.Object.toString=t;hb.Object.__enum__=hb;var Ib=function(a,b){this.parallaxX=this.parallaxY=1;this.tiles=this.objects=null;var c=this;this.scene=a;this.name=ia.$RH(b.name);var h;switch(b.type){case "objectgroup":h=hb.Object;break;case "tilelayer":h=hb.Tile;break;default:h=
null}this.type=h;this.width=b.width;this.height=b.height;this.opacity=b.opacity;this.visible=b.visible;null!=b.data&&(this.tiles=b.data.map(function(b){return 0!=b?a.tiles.h[b]:null}));null!=b.objects&&(this.objects=b.objects.map(function(a){return new $a(c,a)}),"index"!=b.draworder&&this.objects.sort(function(a,b){return Y.compare(a.y+a.height,b.y+b.height)}));null!=b.parallaxX&&(this.parallaxX=b.parallaxX,this.parallaxY=b.parallaxY);this.tileCollisions=b.collisions;this.properties=ia.$QH(b.properties)};
m["kit.creator.LayerInfo"]=Ib;Ib.__name__=["kit","creator","LayerInfo"];Ib.prototype={__class__:Ib};var $={__ename__:!0,__constructs__:["Rectangle","Ellipse","Polygon","Polyline","Tile"],Rectangle:["Rectangle",0]};$.Rectangle.toString=t;$.Rectangle.__enum__=$;$.Ellipse=["Ellipse",1];$.Ellipse.toString=t;$.Ellipse.__enum__=$;$.Polygon=["Polygon",2];$.Polygon.toString=t;$.Polygon.__enum__=$;$.Polyline=["Polyline",3];$.Polyline.toString=t;$.Polyline.__enum__=$;$.Tile=["Tile",4];$.Tile.toString=t;$.Tile.__enum__=
$;var de=function(a,b){this.offsetX=this.offsetY=0;this.atlas=null;this.scene=a;this.name=ia.$RH(b.name);this.spacing=b.spacing;this.margin=b.margin;var c=b.tileoffset;null!=c&&(this.offsetX=c.x,this.offsetY=c.y);this.tileWidth=b.tilewidth;this.tileHeight=b.tileheight;if(null!=b.image){this.atlas=a.$LH(b.image);null==this.atlas&&(this.atlas=a.$MH(this.name));var c=this.atlas.get_width()-2*this.margin,h=this.atlas.get_height()-2*this.margin,c=(c+this.spacing)/(this.tileWidth+this.spacing)|0,h=(h+this.spacing)/
(this.tileHeight+this.spacing)|0;this.tiles=Array(c*h);for(var p=0,d=0;d<h;)for(var e=d++,f=0,g=c;f<g;){var k=f++,l=new rc(this,b,p);l.texture=this.atlas.subTexture(k*(this.tileWidth+this.spacing)+this.margin,e*(this.tileHeight+this.spacing)+this.margin,this.tileWidth,this.tileHeight);this.tiles[p]=l;++p}}else this.tiles=[];if(null!=b.tiles)for(c=0,h=Y.fields(b.tiles);c<h.length;)if(p=h[c],++c,d=Y.field(b.tiles,p),e=Q.parseInt(p),p=this.tiles[e],null==p&&(p=this.tiles[e]=new rc(this,b,e)),null!=d.image&&
(e=p.properties,"true"!=(null!=F.previewImage?e.getReserved("previewImage"):e.h.previewImage)&&(p.texture=a.$LH(d.image),null==p.texture&&(p.texture=a.$MH(this.name)))),null!=d.objectgroup)for(e=0,d=d.objectgroup.objects;e<d.length;)f=d[e],++e,p.collision.push(new $a(null,f));this.properties=ia.$QH(b.properties)};m["kit.creator.TilesetInfo"]=de;de.__name__=["kit","creator","TilesetInfo"];de.prototype={__class__:de};var rc=function(a,b,c){this.collision=[];this.texture=null;this.id=b.firstgid+c;this.tileset=
a;this.properties=ia.$QH(null!=b.tileproperties?Y.field(b.tileproperties,""+c):null)};m["kit.creator.TileInfo"]=rc;rc.__name__=["kit","creator","TileInfo"];rc.prototype={get_width:function(){if(null!=this.texture)return this.texture.get_width();var a=this.properties;return Q.parseInt(null!=F.boundsWidth?a.getReserved("boundsWidth"):a.h.boundsWidth)},get_height:function(){if(null!=this.texture)return this.texture.get_height();var a=this.properties;return Q.parseInt(null!=F.boundsHeight?a.getReserved("boundsHeight"):
a.h.boundsHeight)},__class__:rc,__properties__:{get_height:"get_height",get_width:"get_width"}};var ee=function(a){this.groups=null!=a?a.groups.map(function(a){return new fe(a)}):[]};m["kit.creator.ScriptInfo"]=ee;ee.__name__=["kit","creator","ScriptInfo"];ee.prototype={__class__:ee};var fe=function(a){this.actions=[];this.name=a.name;this.actions=a.actions.map(function(a){return new sc(a)})};m["kit.creator.GroupInfo"]=fe;fe.__name__=["kit","creator","GroupInfo"];fe.prototype={__class__:fe};var sc=
function(a){this.type=a.type;this.subActions=null!=a.subActions?a.subActions.map(function(a){return new sc(a)}):[];this.properties=ia.$QH(a.properties)};m["kit.creator.ActionInfo"]=sc;sc.__name__=["kit","creator","ActionInfo"];sc.prototype={__class__:sc};var oa=function(a,b,c,h){null==h&&(h=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,h)};m["kit.math.Rectangle"]=oa;oa.__name__=["kit","math","Rectangle"];oa.prototype={set:function(a,b,c,h){this.x=a;this.y=b;this.width=c;this.height=
h},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},clone:function(a){null==a&&(a=new oa);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},get_empty:function(){return 0>=this.width?!0:0>=this.height},__class__:oa,__properties__:{get_empty:"get_empty"}};
var Aa=function(a){this.drawBackgroundColor=!1;this.objects=new Ha;this.layers=new V;this.camera=null;x.call(this);this.info=a;var b=new x;this.cameraX=new P(0,function(a,h){b.x.set__(-a)});this.cameraY=new P(0,function(a,h){b.y.set__(-a)});this.cameraWidth=new P(a.tileWidth*a.width);this.cameraHeight=new P(a.tileHeight*a.height);this.content=(new e).add(b)};m["kit.creator.SceneSprite"]=Aa;Aa.__name__=["kit","creator","SceneSprite"];Aa.$WH=function(a){null==a&&(a=new oa);var b=ja.$fL("width"),c=ja.$fL("height"),
h=Math.min(n.$3F.$NF.get_width()/b,n.$3F.$NF.get_height()/c);if(1==ja.$fL("scaleMode")){var p=Math.max(b,ja.$fL("maxWidth")|0),d=Math.max(c,ja.$fL("maxHeight")|0);a.width=Math.min(n.$3F.$NF.get_width()/h,p);a.height=Math.min(n.$3F.$NF.get_height()/h,d)}else a.width=n.$3F.$NF.get_width()/h,a.height=n.$3F.$NF.get_height()/h;a.x=-(a.width/2-b/2);a.y=-(a.height/2-c/2);return a};Aa.__super__=x;Aa.prototype=y(x.prototype,{onStart:function(){x.prototype.onStart.call(this);for(var a=0,b=this.info.layers;a<
b.length;){var c=b[a];++a;var h=new e;this.$TH(c,h);this.content.addChild(h)}},onAdded:function(){x.prototype.onAdded.call(this);this.owner.addChild(this.content)},draw:function(a){null!=this.camera&&this.camera.$UG(this);if(this.drawBackgroundColor){var b=Aa.$WH(Aa.$XH);a.fillRect(this.info.backgroundColor,b.x,b.y,b.width,b.height)}},onUpdate:function(a){x.prototype.onUpdate.call(this,a);this.cameraX.update(a);this.cameraY.update(a);this.cameraWidth.update(a);this.cameraHeight.update(a)},$TH:function(a,
b){var c;switch(a.type[1]){case 0:c=new tc(this,this.info,a);break;case 1:c=new x}c.alpha.set__(a.opacity);c.set_visible(a.visible);b.add(c);switch(a.type[1]){case 1:c=0;for(var h=a.objects;c<h.length;){var p=h[c];++c;var d=this.$UH(p,!0);if(null==d||d.spawned){var f=this.objects.get(p);if(p.shape==$.Tile){if(null==f){var g=this.objects,f=new e;g.set(p,f)}f.add(p.createSprite());null!=d&&f.add(d)}null!=f&&b.addChild(f)}}}c=a.name;h=this.layers;null!=F[c]?h.setReserved(c,b):h.h[c]=b},getNaturalWidth:function(){return this.info.symbol?
0:this.cameraWidth.$iF},getNaturalHeight:function(){return this.info.symbol?0:this.cameraHeight.$iF},$UH:function(a,b){if(null==a.type)return null;if(b){var c=this.objects.h[a.__id__];if(null!=c&&(c=c.$CF[2],null!=c))return c}c=va.resolveClass(a.type);if(null==c)return null;var h=va.createInstance(c,[]);b&&this.objects.set(a,(new e).add(h));this.$VH(a,h,c);return h},$VH:function(a,b,c){for(var h=a.properties.keys();h.hasNext();){var p=h.next(),d=a.properties,d=null!=F[p]?d.getReserved(p):d.h[p],e=
gb.$7L(c,p);null!=e&&(d=this.$bG(e,d,a.type+"."+p),null!=d&&Y.setProperty(b,p,d))}b.info=a},$bG:function(a,b,c){var h=gb.$bG(a,b);if(null!=h)return h;switch(a[1]){case 4:a=a[2];var h=[],p=0;for(b=b.split(",");p<b.length;){var d=b[p];++p;h.push(this.$bG(a,ca.trim(d),c))}return h;case 6:switch(a[2]){case e:c=this.info.getObject(b,!1);if(null==c)break;c=this.$UH(c,!0);return null!=c?c.owner:null;case Ib:return this.info.getLayer(b,!1);case $a:return this.info.getObject(b,!1);default:c=a[2];b=this.info.getObject(b,
!1);if(null==b)break;b=this.$UH(b,!0);if(null!=b){if(U.__instanceof(b,c))return b;va.getClassName(c)}}}return null},__class__:Aa});var tc=function(a,b,c){x.call(this);this.$YH=a;this.$ZH=b;this.$aH=c};m.$CP=tc;tc.__name__=["$CP"];tc.__super__=x;tc.prototype=y(x.prototype,{getNaturalWidth:function(){return this.$ZH.tileWidth*this.$aH.width},getNaturalHeight:function(){return this.$ZH.tileHeight*this.$aH.height},containsLocal:function(a,b){var c=a/this.$ZH.tileWidth|0;if(0>c||c>=this.$aH.width)return!1;
var h=b/this.$ZH.tileHeight|0;return 0>h||h>=this.$aH.height?!1:null!=this.$aH.tiles[h*this.$aH.width+c]},draw:function(a){var b=this.$ZH.tileWidth,c=this.$ZH.tileHeight,h=this.$aH.width,p=this.$aH.height,d=Aa.$WH(Aa.$XH);d.x=(d.x-this.x.$iF)/this.scaleX.$iF;d.y=(d.y-this.y.$iF)/this.scaleY.$iF;d.width/=this.scaleX.$iF;d.height/=this.scaleY.$iF;for(var e=Ta.clamp(d.x/b|0,0,h),f=Ta.clamp(d.y/c|0,0,p),g=Ta.clamp(e+Math.ceil(d.width/b)+1,0,h),p=Ta.clamp(f+Math.ceil(d.height/c)+1,0,p);f<p;)for(var d=
f++,k=e,l=g;k<l;){var m=k++,n=this.$aH.tiles[d*h+m];if(null!=n){var q=n.tileset;a.drawTexture(n.texture,m*b+q.offsetX,d*c+q.offsetY-q.tileHeight+c)}}},__class__:tc});var uc=function(){w.call(this);this.$1C()};m["kit.debug.FpsDisplay"]=uc;uc.__name__=["kit","debug","FpsDisplay"];uc.__super__=w;uc.prototype=y(w.prototype,{get_entitySlot:function(){return 14},onUpdate:function(a){++this.$bH;this.$cH+=a;if(1<this.$cH){a="FPS: "+Math.round(100*this.$bH/this.$cH)/100;var b=this.owner.$CF[1],b=b instanceof
N?b:null;null!=b&&b.set_text(a);this.$1C()}},$1C:function(){this.$cH=this.$bH=0},__class__:uc});var T={__ename__:!0,__constructs__:"Normal Add Multiply Screen Mask Copy".split(" "),Normal:["Normal",0]};T.Normal.toString=t;T.Normal.__enum__=T;T.Add=["Add",1];T.Add.toString=t;T.Add.__enum__=T;T.Multiply=["Multiply",2];T.Multiply.toString=t;T.Multiply.__enum__=T;T.Screen=["Screen",3];T.Screen.toString=t;T.Screen.__enum__=T;T.Mask=["Mask",4];T.Mask.toString=t;T.Mask.__enum__=T;T.Copy=["Copy",5];T.Copy.toString=
t;T.Copy.__enum__=T;var vc=function(){};m["kit.display.Graphics"]=vc;vc.__name__=["kit","display","Graphics"];vc.prototype={__class__:vc};var ge=function(){this.$eH=[]};m["kit.display.BufferedGraphics"]=ge;ge.__name__=["kit","display","BufferedGraphics"];ge.__interfaces__=[vc];ge.prototype={save:function(){this.$dH(new wc)},translate:function(a,b){this.$dH(new xc(a,b))},scale:function(a,b){this.$dH(new yc(a,b))},rotate:function(a){this.$dH(new zc(a))},transform:function(a,b,c,h,d,e){this.$dH(new Ac(a,
b,c,h,d,e))},multiplyAlpha:function(a){this.$dH(new Bc(a))},setAlpha:function(a){this.$dH(new Cc(a))},tint:function(a,b,c){this.$dH(new Dc(a,b,c))},setBlendMode:function(a){this.$dH(new Ec(a))},beginMask:function(){this.$dH(new Fc)},endMask:function(){this.$dH(new Gc)},applyScissor:function(a,b,c,h){this.$dH(new Hc(a,b,c,h))},restore:function(){this.$dH(new Ic)},drawTexture:function(a,b,c){this.$dH(new Jc(a,b,c))},drawSubTexture:function(a,b,c,h,d,e,f){this.$dH(new Kc(a,b,c,h,d,e,f))},drawPattern:function(a,
b,c,h,d){this.$dH(new Lc(a,b,c,h,d))},fillRect:function(a,b,c,h,d){this.$dH(new Mc(a,b,c,h,d))},fillTriangles:function(a,b,c){this.$dH(new Nc(a,b.slice(),c.slice()))},drawTriangles:function(a,b,c,h){this.$dH(new Oc(a,b.slice(),c.slice(),null!=h?h.slice():null))},fillPolygon:function(a,b){this.$dH(new Pc(a,b.slice()))},drawPolygon:function(a,b){this.$dH(new Qc(a,b.slice()))},drawCircle:function(a,b,c,h,d){null==d&&(d=50);this.$dH(new Rc(a,b,c,h,d))},fillCircle:function(a,b,c,h,d){null==d&&(d=50);this.$dH(new Sc(a,
b,c,h,d))},strokeCircle:function(a,b,c,h,d,e){null==e&&(e=50);this.$dH(new Tc(a,b,c,h,d,e))},drawEllipse:function(a,b,c,h,d,e){null==e&&(e=50);this.$dH(new Uc(a,b,c,h,d,e))},fillEllipse:function(a,b,c,h,d,e){null==e&&(e=50);this.$dH(new Vc(a,b,c,h,d,e))},strokeEllipse:function(a,b,c,h,d,e,f){null==f&&(f=50);this.$dH(new Wc(a,b,c,h,d,e,f))},fillArc:function(a,b,c,h,d,e,f){null==f&&(f=50);this.$dH(new Xc(a,b,c,h,d,e,f))},strokeArc:function(a,b,c,h,d,e,f,g){null==g&&(g=50);this.$dH(new Yc(a,b,c,h,d,
e,f,g))},strokeLines:function(a,b,c){this.$dH(new Zc(a,b.slice(),c))},drawLines:function(a,b,c){this.$dH(new $c(a,b.slice(),c))},render:function(a){for(var b=0,c=this.$eH.length;b<c;){var h=b++;this.$eH[h].$fH(a)}},$dH:function(a){this.$eH.push(a)},__class__:ge};var D=function(){};m.$CQ=D;D.__name__=["$CQ"];D.prototype={$fH:function(a){},__class__:D};var wc=function(){};m.$CR=wc;wc.__name__=["$CR"];wc.__super__=D;wc.prototype=y(D.prototype,{$fH:function(a){a.save()},__class__:wc});var xc=function(a,
b){this.$gH=a;this.$hH=b};m.$CS=xc;xc.__name__=["$CS"];xc.__super__=D;xc.prototype=y(D.prototype,{$fH:function(a){a.translate(this.$gH,this.$hH)},__class__:xc});var yc=function(a,b){this.$gH=a;this.$hH=b};m.$CT=yc;yc.__name__=["$CT"];yc.__super__=D;yc.prototype=y(D.prototype,{$fH:function(a){a.scale(this.$gH,this.$hH)},__class__:yc});var zc=function(a){this.$iH=a};m.$CU=zc;zc.__name__=["$CU"];zc.__super__=D;zc.prototype=y(D.prototype,{$fH:function(a){a.rotate(this.$iH)},__class__:zc});var Ac=function(a,
b,c,h,d,e){this.$jH=a;this.$kH=b;this.$lH=c;this.$mH=h;this.$nH=d;this.$oH=e};m.$CV=Ac;Ac.__name__=["$CV"];Ac.__super__=D;Ac.prototype=y(D.prototype,{$fH:function(a){a.transform(this.$jH,this.$kH,this.$lH,this.$mH,this.$nH,this.$oH)},__class__:Ac});var Bc=function(a){this.$pH=a};m.$CW=Bc;Bc.__name__=["$CW"];Bc.__super__=D;Bc.prototype=y(D.prototype,{$fH:function(a){a.multiplyAlpha(this.$pH)},__class__:Bc});var Cc=function(a){this.$qH=a};m.$CX=Cc;Cc.__name__=["$CX"];Cc.__super__=D;Cc.prototype=y(D.prototype,
{$fH:function(a){a.setAlpha(this.$qH)},__class__:Cc});var Dc=function(a,b,c){this.$rH=a;this.$sH=b;this.$tH=c};m.$CY=Dc;Dc.__name__=["$CY"];Dc.__super__=D;Dc.prototype=y(D.prototype,{$fH:function(a){a.tint(this.$rH,this.$sH,this.$tH)},__class__:Dc});var Ec=function(a){this.$uH=a};m.$CZ=Ec;Ec.__name__=["$CZ"];Ec.__super__=D;Ec.prototype=y(D.prototype,{$fH:function(a){a.setBlendMode(this.$uH)},__class__:Ec});var Hc=function(a,b,c,h){this.$gH=a;this.$hH=b;this.$vH=c;this.$wH=h};m.$Ca=Hc;Hc.__name__=
["$Ca"];Hc.__super__=D;Hc.prototype=y(D.prototype,{$fH:function(a){a.applyScissor(this.$gH,this.$hH,this.$vH,this.$wH)},__class__:Hc});var Fc=function(){};m.$Cb=Fc;Fc.__name__=["$Cb"];Fc.__super__=D;Fc.prototype=y(D.prototype,{$fH:function(a){a.beginMask()},__class__:Fc});var Gc=function(){};m.$Cc=Gc;Gc.__name__=["$Cc"];Gc.__super__=D;Gc.prototype=y(D.prototype,{$fH:function(a){a.endMask()},__class__:Gc});var Ic=function(){};m.$Cd=Ic;Ic.__name__=["$Cd"];Ic.__super__=D;Ic.prototype=y(D.prototype,{$fH:function(a){a.restore()},
__class__:Ic});var Jc=function(a,b,c){this.$xH=a;this.$yH=b;this.$zH=c};m.$Ce=Jc;Jc.__name__=["$Ce"];Jc.__super__=D;Jc.prototype=y(D.prototype,{$fH:function(a){a.drawTexture(this.$xH,this.$yH,this.$zH)},__class__:Jc});var Kc=function(a,b,c,h,d,e,f){this.$xH=a;this.$yH=b;this.$zH=c;this.$0H=h;this.$1H=d;this.$2H=e;this.$3H=f};m.$Cf=Kc;Kc.__name__=["$Cf"];Kc.__super__=D;Kc.prototype=y(D.prototype,{$fH:function(a){a.drawSubTexture(this.$xH,this.$yH,this.$zH,this.$0H,this.$1H,this.$2H,this.$3H)},__class__:Kc});
var Lc=function(a,b,c,h,d){this.$xH=a;this.$yH=b;this.$zH=c;this.$vH=h;this.$wH=d};m.$Cg=Lc;Lc.__name__=["$Cg"];Lc.__super__=D;Lc.prototype=y(D.prototype,{$fH:function(a){a.drawPattern(this.$xH,this.$yH,this.$zH,this.$vH,this.$wH)},__class__:Lc});var Nc=function(a,b,c){this.$4H=a;this.$5H=b;this.$6H=c};m.$Ch=Nc;Nc.__name__=["$Ch"];Nc.__super__=D;Nc.prototype=y(D.prototype,{$fH:function(a){a.fillTriangles(this.$4H,this.$5H,this.$6H)},__class__:Nc});var Oc=function(a,b,c,h){this.$xH=a;this.$5H=b;this.$6H=
c;this.$7H=h};m.$Ci=Oc;Oc.__name__=["$Ci"];Oc.__super__=D;Oc.prototype=y(D.prototype,{$fH:function(a){a.drawTriangles(this.$xH,this.$5H,this.$6H,this.$7H)},__class__:Oc});var Pc=function(a,b){this.$4H=a;this.$5H=b};m.$Cj=Pc;Pc.__name__=["$Cj"];Pc.__super__=D;Pc.prototype=y(D.prototype,{$fH:function(a){a.fillPolygon(this.$4H,this.$5H)},__class__:Pc});var Qc=function(a,b){this.$xH=a;this.$5H=b};m.$Ck=Qc;Qc.__name__=["$Ck"];Qc.__super__=D;Qc.prototype=y(D.prototype,{$fH:function(a){a.drawPolygon(this.$xH,
this.$5H)},__class__:Qc});var Rc=function(a,b,c,h,d){this.$xH=a;this.$8H=b;this.$9H=c;this.$$H=h;this.$_H=d};m.$Cl=Rc;Rc.__name__=["$Cl"];Rc.__super__=D;Rc.prototype=y(D.prototype,{$fH:function(a){a.drawCircle(this.$xH,this.$8H,this.$9H,this.$$H,this.$_H)},__class__:Rc});var Sc=function(a,b,c,h,d){this.$4H=a;this.$8H=b;this.$9H=c;this.$$H=h;this.$_H=d};m.$Cm=Sc;Sc.__name__=["$Cm"];Sc.__super__=D;Sc.prototype=y(D.prototype,{$fH:function(a){a.fillCircle(this.$4H,this.$8H,this.$9H,this.$$H,this.$_H)},
__class__:Sc});var Tc=function(a,b,c,h,d,e){this.$4H=a;this.$8H=b;this.$9H=c;this.$$H=h;this.$AI=d;this.$_H=e};m.$Cn=Tc;Tc.__name__=["$Cn"];Tc.__super__=D;Tc.prototype=y(D.prototype,{$fH:function(a){a.strokeCircle(this.$4H,this.$8H,this.$9H,this.$$H,this.$AI,this.$_H)},__class__:Tc});var Vc=function(a,b,c,h,d,e){this.$4H=a;this.$8H=b;this.$9H=c;this.$BI=h;this.$CI=d;this.$_H=e};m.$Co=Vc;Vc.__name__=["$Co"];Vc.__super__=D;Vc.prototype=y(D.prototype,{$fH:function(a){a.fillEllipse(this.$4H,this.$8H,
this.$9H,this.$BI,this.$CI,this.$_H)},__class__:Vc});var Uc=function(a,b,c,h,d,e){this.$xH=a;this.$8H=b;this.$9H=c;this.$BI=h;this.$CI=d;this.$_H=e};m.$Cp=Uc;Uc.__name__=["$Cp"];Uc.__super__=D;Uc.prototype=y(D.prototype,{$fH:function(a){a.drawEllipse(this.$xH,this.$8H,this.$9H,this.$BI,this.$CI,this.$_H)},__class__:Uc});var Wc=function(a,b,c,h,d,e,f){this.$4H=a;this.$8H=b;this.$9H=c;this.$BI=h;this.$CI=d;this.$AI=e;this.$_H=f};m.$Cq=Wc;Wc.__name__=["$Cq"];Wc.__super__=D;Wc.prototype=y(D.prototype,
{$fH:function(a){a.strokeEllipse(this.$4H,this.$8H,this.$9H,this.$BI,this.$CI,this.$AI,this.$_H)},__class__:Wc});var Xc=function(a,b,c,h,d,e,f){this.$4H=a;this.$8H=b;this.$9H=c;this.$$H=h;this.$DI=d;this.$EI=e;this.$_H=f};m.$Cr=Xc;Xc.__name__=["$Cr"];Xc.__super__=D;Xc.prototype=y(D.prototype,{$fH:function(a){a.fillArc(this.$4H,this.$8H,this.$9H,this.$$H,this.$DI,this.$EI,this.$_H)},__class__:Xc});var Yc=function(a,b,c,h,d,e,f,g){this.$4H=a;this.$8H=b;this.$9H=c;this.$$H=h;this.$DI=d;this.$EI=e;this.$AI=
f;this.$_H=g};m.$Cs=Yc;Yc.__name__=["$Cs"];Yc.__super__=D;Yc.prototype=y(D.prototype,{$fH:function(a){a.strokeArc(this.$4H,this.$8H,this.$9H,this.$$H,this.$DI,this.$EI,this.$AI,this.$_H)},__class__:Yc});var Zc=function(a,b,c){this.$4H=a;this.$5H=b;this.$FI=c};m.$Ct=Zc;Zc.__name__=["$Ct"];Zc.__super__=D;Zc.prototype=y(D.prototype,{$fH:function(a){a.strokeLines(this.$4H,this.$5H,this.$FI)},__class__:Zc});var $c=function(a,b,c){this.$xH=a;this.$5H=b;this.$FI=c};m.$Cu=$c;$c.__name__=["$Cu"];$c.__super__=
D;$c.prototype=y(D.prototype,{$fH:function(a){a.drawLines(this.$xH,this.$5H,this.$FI)},__class__:$c});var Mc=function(a,b,c,h,d){this.$4H=a;this.$gH=b;this.$hH=c;this.$vH=h;this.$wH=d};m.$Cv=Mc;Mc.__name__=["$Cv"];Mc.__super__=D;Mc.prototype=y(D.prototype,{$fH:function(a){a.fillRect(this.$4H,this.$gH,this.$hH,this.$vH,this.$wH)},__class__:Mc});var G=function(a,b,c){x.call(this);this.color=a;this.width=new P(b);this.height=new P(c)};m["kit.display.FillSprite"]=G;G.__name__=["kit","display","FillSprite"];
G.__super__=x;G.prototype=y(x.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width.$iF,this.height.$iF)},getNaturalWidth:function(){return this.width.$iF},getNaturalHeight:function(){return this.height.$iF},setSize:function(a,b){this.width.set__(a);this.height.set__(b);return this},onUpdate:function(a){x.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:G});var ad=function(a){this.$HI=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=
this.y=this.width=this.height=0;this.charCode=a};m["kit.display.Glyph"]=ad;ad.__name__=["kit","display","Glyph"];ad.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this.$HI?this.$HI.h[a]|0:0},$GI:function(a,b){null==this.$HI&&(this.$HI=new Ga);this.$HI.h[a]=b},__class__:ad};var W=function(a,b){this.name=b;this.$NH=a;this.$cG=a.getFile(b+".fnt");this.$ZG()};m["kit.display.Font"]=
W;W.__name__=["kit","display","Font"];W.prototype={layoutText:function(a,b,c,h,d){null==d&&(d=0);null==h&&(h=0);null==c&&(c=0);null==b&&(b=ma.Left);return new ib(this,a,b,c,h,d)},$ZG:function(){this.$II=new Ga;this.$II.h[W.$JI.charCode]=W.$JI;for(var a=new rb(this.$cG.toString()),b=new Ga,c=this.name.lastIndexOf("/"),c=0<=c?C.substr(this.name,0,c+1):"",h=a.$OI();h.hasNext();)switch(h.next()){case "char":for(var d=null,e=a.$PI();e.hasNext();){var f=e.next();switch(f.$VI){case "height":d.height=f.$WI();
break;case "id":d=new ad(f.$WI());break;case "page":f=f.$WI();d.page=b.h[f];break;case "width":d.width=f.$WI();break;case "x":d.x=f.$WI();break;case "xadvance":d.xAdvance=f.$WI();break;case "xoffset":d.xOffset=f.$WI();break;case "y":d.y=f.$WI();break;case "yoffset":d.yOffset=f.$WI()}}this.$II.set(d.charCode,d);break;case "common":for(d=a.$PI();d.hasNext();)e=d.next(),"lineHeight"==e.$VI&&(this.lineHeight=e.$WI());break;case "info":for(d=a.$PI();d.hasNext();)switch(e=d.next(),e.$VI){case "face":this.typeface=
e.$XI();break;case "size":this.size=e.$WI()}break;case "kerning":for(var d=null,f=e=0,g=a.$PI();g.hasNext();){var k=g.next();switch(k.$VI){case "amount":f=k.$WI();break;case "first":d=this.$II.get(k.$WI());break;case "second":e=k.$WI()}}null!=d&&0!=f&&d.$GI(e,f);break;case "page":d=0;e=null;for(f=a.$PI();f.hasNext();)switch(g=f.next(),g.$VI){case "file":e=g.$XI();break;case "id":d=g.$WI()}e=this.$NH.getTexture(c+ra.removeFileExtension(e));b.h[d]=e}},__class__:W};var ma={__ename__:!0,__constructs__:["Left",
"Center","Right"],Left:["Left",0]};ma.Left.toString=t;ma.Left.__enum__=ma;ma.Center=["Center",1];ma.Center.toString=t;ma.Center.__enum__=ma;ma.Right=["Right",2];ma.Right.toString=t;ma.Right.__enum__=ma;var ib=function(a,b,c,h,d,e){this.lines=0;var f=this;this.$KI=a;this.$II=[];this.$LI=[];this.$MI=Math.round(a.lineHeight+e);this.bounds=new oa;var g=[];e=0;for(var k=b.length;e<k;){var l=e++,l=b.charCodeAt(l),l=a.$II.get(l);null!=l&&this.$II.push(l)}b=-1;var m=0,n=0;a=a.$II.get(10);e=function(){var a=
f.bounds.width;f.bounds.width=a>m?a:m;f.bounds.height+=n;g[f.lines]=m;n=m=0;++f.lines};for(k=0;k<this.$II.length;){l=this.$II[k];this.$LI[k]=Math.round(m);var q=0<h&&m+l.width>h;q||l==a?(q&&(0<=b?(this.$II[b]=a,m=this.$LI[b],k=b):this.$II.splice(k,0,a)),b=-1,n=this.$MI,e()):(32==l.charCode&&(b=k),m+=l.xAdvance+d,q=l.height+l.yOffset,n>q||(n=q),k+1<this.$II.length&&(m+=l.getKerning(this.$II[k+1].charCode)));++k}e();d=0;a=ib.$NI(c,g[0],h);b=1.79769313486231E308;e=-1.79769313486231E308;l=k=0;for(q=this.$II.length;l<
q;){var s=this.$II[l];10==s.charCode&&(d+=this.$MI,++k,a=ib.$NI(c,g[k],h));this.$LI[l]+=a;var u=d+s.yOffset;b=b<u?b:u;s=u+s.height;e>s||(e=s);++l}this.bounds.x=ib.$NI(c,this.bounds.width,h);this.bounds.y=b;this.bounds.height=e-b};m["kit.display.TextLayout"]=ib;ib.__name__=["kit","display","TextLayout"];ib.$NI=function(a,b,c){switch(a[1]){case 0:return 0;case 1:return Math.round((c-b)/2);case 2:return c-b}};ib.prototype={draw:function(a){for(var b=0,c=0,h=this.$II.length;c<h;){var d=this.$II[c];10==
d.charCode?b+=this.$MI:d.draw(a,this.$LI[c],b);++c}},__class__:ib};var rb=function(a){this.$QI=a;this.$SI=new db("([A-Za-z]+)(.*)","");this.$TI=new db('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};m.$Cw=rb;rb.__name__=["$Cw"];rb.$UI=function(a,b){var c=b.matchedPos();return C.substr(a,c.pos+c.len,a.length)};rb.prototype={$OI:function(){var a=this,b=this.$QI;return{next:function(){b=rb.$UI(b,a.$SI);a.$RI=a.$SI.matched(2);return a.$SI.matched(1)},hasNext:function(){return a.$SI.match(b)}}},$PI:function(){var a=
this,b=this.$RI;return{next:function(){b=rb.$UI(b,a.$TI);return new he(a.$TI.matched(1),a.$TI.matched(2))},hasNext:function(){return a.$TI.match(b)}}},__class__:rb};var he=function(a,b){this.$VI=a;this.$iF=b};m.$Cx=he;he.__name__=["$Cx"];he.prototype={$WI:function(){return Q.parseInt(this.$iF)},$XI:function(){return 34!=this.$iF.charCodeAt(0)?null:C.substr(this.$iF,1,this.$iF.length-2)},__class__:he};var I=function(a){x.call(this);this.texture=a};m["kit.display.ImageSprite"]=I;I.__name__=["kit","display",
"ImageSprite"];I.__super__=x;I.prototype=y(x.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:I});var Va={__ename__:!0,__constructs__:["Portrait","Landscape"],Portrait:["Portrait",0]};Va.Portrait.toString=t;Va.Portrait.__enum__=Va;Va.Landscape=["Landscape",1];Va.Landscape.toString=t;Va.Landscape.__enum__=
Va;var Ua=function(){this.$hI=null;this.$gI=[];this.$dI=this.$eI=this.$fI=null;this.$cI=new P(1);this.$bI=new P(1);this.$aI=new P(1);this.$YI=this.$ZI=null};m.$Cy=Ua;Ua.__name__=["$Cy"];Ua.prototype={__class__:Ua};var bd=function(){};m["kit.display.Texture"]=bd;bd.__name__=["kit","display","Texture"];bd.__interfaces__=[Sa];bd.prototype={__class__:bd,__properties__:{get_graphics:"get_graphics",get_height:"get_height",get_width:"get_width"}};var Me=function(){};m["kit.display.SubTexture"]=Me;Me.__name__=
["kit","display","SubTexture"];Me.__interfaces__=[bd];var N=function(a,b){null==b&&(b="");this.$nI=null;var c=this;x.call(this);this.$KI=a;this.$lI=b;this.$mI=ma.Left;this.$nE|=256;var h=function(a,b){c.$nE|=256};this.wrapWidth=new P(0,h);this.letterSpacing=new P(0,h);this.lineSpacing=new P(0,h)};m["kit.display.TextSprite"]=N;N.__name__=["kit","display","TextSprite"];N.__super__=x;N.prototype=y(x.prototype,{draw:function(a){this.$kI();this.$nI.draw(a)},getNaturalWidth:function(){this.$kI();return 0<
this.wrapWidth.$iF?this.wrapWidth.$iF:this.$nI.bounds.width},getNaturalHeight:function(){this.$kI();var a=this.$nI.lines*(this.$KI.lineHeight+this.lineSpacing.$iF),b=this.$nI.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.$kI();return this.$nI.bounds.contains(a,b)},set_text:function(a){a!=this.$lI&&(this.$lI=a,this.$nE|=256);return a},set_align:function(a){a!=this.$mI&&(this.$mI=a,this.$nE|=256);return a},$kI:function(){0!=(this.$nE&256)&&(this.$nE&=-257,this.$nI=this.$KI.layoutText(this.$lI,
this.$mI,this.wrapWidth.$iF,this.letterSpacing.$iF,this.lineSpacing.$iF))},onUpdate:function(a){x.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:N,__properties__:y(x.prototype.__properties__,{set_align:"set_align",set_text:"set_text"})});var fa={__ename__:!0,__constructs__:["RGBA","RGBA_4444","RGB","RGB_565","COMPRESSED"],RGBA:["RGBA",0]};fa.RGBA.toString=t;fa.RGBA.__enum__=fa;fa.RGBA_4444=["RGBA_4444",1];fa.RGBA_4444.toString=
t;fa.RGBA_4444.__enum__=fa;fa.RGB=["RGB",2];fa.RGB.toString=t;fa.RGB.__enum__=fa;fa.RGB_565=["RGB_565",3];fa.RGB_565.toString=t;fa.RGB_565.__enum__=fa;fa.COMPRESSED=["COMPRESSED",4];fa.COMPRESSED.toString=t;fa.COMPRESSED.__enum__=fa;var Ne=function(){};m["kit.display.VectorFont"]=Ne;Ne.__name__=["kit","display","VectorFont"];Ne.__interfaces__=[Sa];var Oe=function(){this.$1I=this.$2I=this.$3I=null;this.$0I=new V;this.paddingTop=this.paddingRight=this.paddingBottom=this.paddingLeft=0;this.outputOnly=
!1;this.active=!0};m["kit.filter.Filter"]=Oe;Oe.__name__=["kit","filter","Filter"];Oe.prototype={apply:function(a){a.render(this)},setUniformVec2:function(a,b,c){this.$yI(a,1,[b,c])},setUniformSampler2D:function(a,b){this.$yI(a,11,b)},update:function(a){},$yI:function(a,b,c){var h=this.$0I,h=null!=F[a]?h.getReserved(a):h.h[a];if(null==h){var d=this.$0I,e=h=new ie(a);null!=F[a]?d.setReserved(a,e):d.h[a]=e}h.$6I=b;h.$5I=c},$zI:function(){null==this.$3I&&(this.$3I=null!=this.$2I?this.$2I+"@"+this.$1I:
this.$1I);return this.$3I},__class__:Oe};var ie=function(a){this.$6I=0;this.$5I=null;this.$4I=a};m.$C0=ie;ie.__name__=["$C0"];ie.prototype={__class__:ie};var g={__ename__:!0,__constructs__:"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z Number0 Number1 Number2 Number3 Number4 Number5 Number6 Number7 Number8 Number9 Numpad0 Numpad1 Numpad2 Numpad3 Numpad4 Numpad5 Numpad6 Numpad7 Numpad8 Numpad9 NumpadAdd NumpadDecimal NumpadDivide NumpadEnter NumpadMultiply NumpadSubtract F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 Left Up Right Down Alt Backquote Backslash Backspace CapsLock Comma Command Control Delete End Enter Equals Escape Home Insert LeftBracket Minus PageDown PageUp Period Quote RightBracket Semicolon Shift Slash Space Tab Menu Search Unknown".split(" "),
A:["A",0]};g.A.toString=t;g.A.__enum__=g;g.B=["B",1];g.B.toString=t;g.B.__enum__=g;g.C=["C",2];g.C.toString=t;g.C.__enum__=g;g.D=["D",3];g.D.toString=t;g.D.__enum__=g;g.E=["E",4];g.E.toString=t;g.E.__enum__=g;g.F=["F",5];g.F.toString=t;g.F.__enum__=g;g.G=["G",6];g.G.toString=t;g.G.__enum__=g;g.H=["H",7];g.H.toString=t;g.H.__enum__=g;g.I=["I",8];g.I.toString=t;g.I.__enum__=g;g.J=["J",9];g.J.toString=t;g.J.__enum__=g;g.K=["K",10];g.K.toString=t;g.K.__enum__=g;g.L=["L",11];g.L.toString=t;g.L.__enum__=
g;g.M=["M",12];g.M.toString=t;g.M.__enum__=g;g.N=["N",13];g.N.toString=t;g.N.__enum__=g;g.O=["O",14];g.O.toString=t;g.O.__enum__=g;g.P=["P",15];g.P.toString=t;g.P.__enum__=g;g.Q=["Q",16];g.Q.toString=t;g.Q.__enum__=g;g.R=["R",17];g.R.toString=t;g.R.__enum__=g;g.S=["S",18];g.S.toString=t;g.S.__enum__=g;g.T=["T",19];g.T.toString=t;g.T.__enum__=g;g.U=["U",20];g.U.toString=t;g.U.__enum__=g;g.V=["V",21];g.V.toString=t;g.V.__enum__=g;g.W=["W",22];g.W.toString=t;g.W.__enum__=g;g.X=["X",23];g.X.toString=
t;g.X.__enum__=g;g.Y=["Y",24];g.Y.toString=t;g.Y.__enum__=g;g.Z=["Z",25];g.Z.toString=t;g.Z.__enum__=g;g.Number0=["Number0",26];g.Number0.toString=t;g.Number0.__enum__=g;g.Number1=["Number1",27];g.Number1.toString=t;g.Number1.__enum__=g;g.Number2=["Number2",28];g.Number2.toString=t;g.Number2.__enum__=g;g.Number3=["Number3",29];g.Number3.toString=t;g.Number3.__enum__=g;g.Number4=["Number4",30];g.Number4.toString=t;g.Number4.__enum__=g;g.Number5=["Number5",31];g.Number5.toString=t;g.Number5.__enum__=
g;g.Number6=["Number6",32];g.Number6.toString=t;g.Number6.__enum__=g;g.Number7=["Number7",33];g.Number7.toString=t;g.Number7.__enum__=g;g.Number8=["Number8",34];g.Number8.toString=t;g.Number8.__enum__=g;g.Number9=["Number9",35];g.Number9.toString=t;g.Number9.__enum__=g;g.Numpad0=["Numpad0",36];g.Numpad0.toString=t;g.Numpad0.__enum__=g;g.Numpad1=["Numpad1",37];g.Numpad1.toString=t;g.Numpad1.__enum__=g;g.Numpad2=["Numpad2",38];g.Numpad2.toString=t;g.Numpad2.__enum__=g;g.Numpad3=["Numpad3",39];g.Numpad3.toString=
t;g.Numpad3.__enum__=g;g.Numpad4=["Numpad4",40];g.Numpad4.toString=t;g.Numpad4.__enum__=g;g.Numpad5=["Numpad5",41];g.Numpad5.toString=t;g.Numpad5.__enum__=g;g.Numpad6=["Numpad6",42];g.Numpad6.toString=t;g.Numpad6.__enum__=g;g.Numpad7=["Numpad7",43];g.Numpad7.toString=t;g.Numpad7.__enum__=g;g.Numpad8=["Numpad8",44];g.Numpad8.toString=t;g.Numpad8.__enum__=g;g.Numpad9=["Numpad9",45];g.Numpad9.toString=t;g.Numpad9.__enum__=g;g.NumpadAdd=["NumpadAdd",46];g.NumpadAdd.toString=t;g.NumpadAdd.__enum__=g;g.NumpadDecimal=
["NumpadDecimal",47];g.NumpadDecimal.toString=t;g.NumpadDecimal.__enum__=g;g.NumpadDivide=["NumpadDivide",48];g.NumpadDivide.toString=t;g.NumpadDivide.__enum__=g;g.NumpadEnter=["NumpadEnter",49];g.NumpadEnter.toString=t;g.NumpadEnter.__enum__=g;g.NumpadMultiply=["NumpadMultiply",50];g.NumpadMultiply.toString=t;g.NumpadMultiply.__enum__=g;g.NumpadSubtract=["NumpadSubtract",51];g.NumpadSubtract.toString=t;g.NumpadSubtract.__enum__=g;g.F1=["F1",52];g.F1.toString=t;g.F1.__enum__=g;g.F2=["F2",53];g.F2.toString=
t;g.F2.__enum__=g;g.F3=["F3",54];g.F3.toString=t;g.F3.__enum__=g;g.F4=["F4",55];g.F4.toString=t;g.F4.__enum__=g;g.F5=["F5",56];g.F5.toString=t;g.F5.__enum__=g;g.F6=["F6",57];g.F6.toString=t;g.F6.__enum__=g;g.F7=["F7",58];g.F7.toString=t;g.F7.__enum__=g;g.F8=["F8",59];g.F8.toString=t;g.F8.__enum__=g;g.F9=["F9",60];g.F9.toString=t;g.F9.__enum__=g;g.F10=["F10",61];g.F10.toString=t;g.F10.__enum__=g;g.F11=["F11",62];g.F11.toString=t;g.F11.__enum__=g;g.F12=["F12",63];g.F12.toString=t;g.F12.__enum__=g;g.F13=
["F13",64];g.F13.toString=t;g.F13.__enum__=g;g.F14=["F14",65];g.F14.toString=t;g.F14.__enum__=g;g.F15=["F15",66];g.F15.toString=t;g.F15.__enum__=g;g.Left=["Left",67];g.Left.toString=t;g.Left.__enum__=g;g.Up=["Up",68];g.Up.toString=t;g.Up.__enum__=g;g.Right=["Right",69];g.Right.toString=t;g.Right.__enum__=g;g.Down=["Down",70];g.Down.toString=t;g.Down.__enum__=g;g.Alt=["Alt",71];g.Alt.toString=t;g.Alt.__enum__=g;g.Backquote=["Backquote",72];g.Backquote.toString=t;g.Backquote.__enum__=g;g.Backslash=
["Backslash",73];g.Backslash.toString=t;g.Backslash.__enum__=g;g.Backspace=["Backspace",74];g.Backspace.toString=t;g.Backspace.__enum__=g;g.CapsLock=["CapsLock",75];g.CapsLock.toString=t;g.CapsLock.__enum__=g;g.Comma=["Comma",76];g.Comma.toString=t;g.Comma.__enum__=g;g.Command=["Command",77];g.Command.toString=t;g.Command.__enum__=g;g.Control=["Control",78];g.Control.toString=t;g.Control.__enum__=g;g.Delete=["Delete",79];g.Delete.toString=t;g.Delete.__enum__=g;g.End=["End",80];g.End.toString=t;g.End.__enum__=
g;g.Enter=["Enter",81];g.Enter.toString=t;g.Enter.__enum__=g;g.Equals=["Equals",82];g.Equals.toString=t;g.Equals.__enum__=g;g.Escape=["Escape",83];g.Escape.toString=t;g.Escape.__enum__=g;g.Home=["Home",84];g.Home.toString=t;g.Home.__enum__=g;g.Insert=["Insert",85];g.Insert.toString=t;g.Insert.__enum__=g;g.LeftBracket=["LeftBracket",86];g.LeftBracket.toString=t;g.LeftBracket.__enum__=g;g.Minus=["Minus",87];g.Minus.toString=t;g.Minus.__enum__=g;g.PageDown=["PageDown",88];g.PageDown.toString=t;g.PageDown.__enum__=
g;g.PageUp=["PageUp",89];g.PageUp.toString=t;g.PageUp.__enum__=g;g.Period=["Period",90];g.Period.toString=t;g.Period.__enum__=g;g.Quote=["Quote",91];g.Quote.toString=t;g.Quote.__enum__=g;g.RightBracket=["RightBracket",92];g.RightBracket.toString=t;g.RightBracket.__enum__=g;g.Semicolon=["Semicolon",93];g.Semicolon.toString=t;g.Semicolon.__enum__=g;g.Shift=["Shift",94];g.Shift.toString=t;g.Shift.__enum__=g;g.Slash=["Slash",95];g.Slash.toString=t;g.Slash.__enum__=g;g.Space=["Space",96];g.Space.toString=
t;g.Space.__enum__=g;g.Tab=["Tab",97];g.Tab.toString=t;g.Tab.__enum__=g;g.Menu=["Menu",98];g.Menu.toString=t;g.Menu.__enum__=g;g.Search=["Search",99];g.Search.toString=t;g.Search.__enum__=g;g.Unknown=function(a){a=["Unknown",100,a];a.__enum__=g;a.toString=t;return a};var je=function(){this.$7I(0,null)};m["kit.input.KeyboardEvent"]=je;je.__name__=["kit","input","KeyboardEvent"];je.prototype={$7I:function(a,b){this.id=a;this.key=b},__class__:je};var wa={__ename__:!0,__constructs__:["Left","Middle",
"Right","Unknown"],Left:["Left",0]};wa.Left.toString=t;wa.Left.__enum__=wa;wa.Middle=["Middle",1];wa.Middle.toString=t;wa.Middle.__enum__=wa;wa.Right=["Right",2];wa.Right.toString=t;wa.Right.__enum__=wa;wa.Unknown=function(a){a=["Unknown",3,a];a.__enum__=wa;a.toString=t;return a};var na={__ename__:!0,__constructs__:["Default","Button","None"],Default:["Default",0]};na.Default.toString=t;na.Default.__enum__=na;na.Button=["Button",1];na.Button.toString=t;na.Button.__enum__=na;na.None=["None",2];na.None.toString=
t;na.None.__enum__=na;var ke=function(){this.$7I(0,0,0,null)};m["kit.input.MouseEvent"]=ke;ke.__name__=["kit","input","MouseEvent"];ke.prototype={$7I:function(a,b,c,h){this.id=a;this.viewX=b;this.viewY=c;this.button=h},__class__:ke};var Pe={__ename__:!0,__constructs__:["Mouse","Touch"],Mouse:function(a){a=["Mouse",0,a];a.__enum__=Pe;a.toString=t;return a},Touch:function(a){a=["Touch",1,a];a.__enum__=Pe;a.toString=t;return a}},le=function(){this.$7I(0,0,0,null,null)};m["kit.input.PointerEvent"]=le;
le.__name__=["kit","input","PointerEvent"];le.prototype={$7I:function(a,b,c,h,d){this.id=a;this.viewX=b;this.viewY=c;this.hit=h;this.source=d;this.$8I=!1},__class__:le};var me=function(a){this.id=a;this.$9I=Pe.Touch(this)};m["kit.input.TouchPoint"]=me;me.__name__=["kit","input","TouchPoint"];me.prototype={$7I:function(a,b){this.viewX=a;this.viewY=b},__class__:me};var Ta=function(){};m["kit.math.FMath"]=Ta;Ta.__name__=["kit","math","FMath"];Ta.clamp=function(a,b,c){return a<b?b:a>c?c:a};var sb=function(){};
m["kit.movie.Symbol"]=sb;sb.__name__=["kit","movie","Symbol"];sb.prototype={__class__:sb};var Jb=function(a,b){this.$$I=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]);c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0;c=a.scale;null!=c?(this.scaleX=c[0],this.scaleY=c[1]):this.scaleY=this.scaleX=1};m["kit.movie.BitmapSymbol"]=Jb;Jb.__name__=["kit","movie","BitmapSymbol"];Jb.__interfaces__=[sb];Jb.prototype={createSprite:function(){var a=new I(this.texture);
a.setAnchor(this.anchorX,this.anchorY);a.setScaleXY(this.scaleX,this.scaleY);return a},__class__:Jb};var Qe=function(){};m["kit.movie.Flipbook"]=Qe;Qe.__name__=["kit","movie","Flipbook"];Qe.prototype={__class__:Qe};var Re=function(){this.label=null;this.anchorX=this.anchorY=0};m["kit.movie.FlipbookFrame"]=Re;Re.__name__=["kit","movie","FlipbookFrame"];Re.prototype={$_I:function(){return new cd(this)},__class__:Re};var cd=function(a){this.$xH=a.texture;this.$AJ=a.anchorX;this.$BJ=a.anchorY};m.$C2=
cd;cd.__name__=["$C2"];cd.__interfaces__=[sb];cd.prototype={createSprite:function(){var a=new I(this.$xH);a.setAnchor(this.$AJ,this.$BJ);return a},__class__:cd};var Kb=function(a,b){this.sounds=new V;this.scenes=[];var c=this;this.$cG=a.getFile(b+"/library.json");var h=this.$cG.toJson();this.$CJ=new V;this.frameRate=h.frameRate;this.backgroundColor=null!=h.backgroundColor?h.backgroundColor:0;this.backgroundAlpha=null!=h.backgroundAlpha?h.backgroundAlpha:1;this.width=null!=h.width?h.width:0;this.height=
null!=h.height?h.height:0;this.pixelSnapping=null!=h.pixelSnapping?h.pixelSnapping:!0;if(null!=h.sounds)for(var d=0,e=h.sounds;d<e.length;){var f=e[d];++d;var g=a.getSound(b+"/"+ra.removeFileExtension(f.file),!1),f=f.id,k=this.sounds,g=new ne(f,g);null!=F[f]?k.setReserved(f,g):k.h[f]=g}if(null!=h.videos)for(d=0,e=h.videos;d<e.length;)f=e[d],++d,g=a.getVideo(b+"/"+ra.removeFileExtension(f.file),!1),f=f.id,k=this.$CJ,g=new dd(f,g),null!=F[f]?k.setReserved(f,g):k.h[f]=g;d=[];e=0;for(f=h.movies;e<f.length;){g=
f[e];++e;g=new tb(this,g);d.push(g);var k=g.$$I,l=this.$CJ;null!=F[k]?l.setReserved(k,g):l.h[k]=g}if(null!=h.scenes)for(e=0,f=h.scenes;e<f.length;)g=f[e],++e,g=new tb(this,g),d.push(g),this.scenes.push(g);h=h.textureGroups[0].atlases;for(e=0;e<h.length;){k=h[e];++e;f=b+"/"+ra.removeFileExtension(k.file);f=a.getTexture(f);if(null!=k.mask){var g=a.getTexture(b+"/"+ra.removeFileExtension(k.mask)),l=n.$3F.$MF.createTexture(f.get_width(),f.get_height()),m=l.get_graphics();m.save();m.setBlendMode(T.Copy);
m.drawTexture(f,0,0);m.setBlendMode(T.Mask);m.drawTexture(g,0,0);m.restore();f.dispose();g.dispose();f=l}g=0;for(k=k.textures;g<k.length;){l=k[g];++g;var l=new Jb(l,f),m=l.$$I,q=this.$CJ;null!=F[m]?q.setReserved(m,l):q.h[m]=l}}for(var s=null,h=s=function(a){for(var b=a.keyframes,h=b.length,d=0;d<h;){var p=d++,e=b[p];if(null!=e.$wJ){var f=e.$wJ,g=c.$CJ,f=null!=F[f]?g.getReserved(f):g.h[f];e.symbol=f}e.tweened&&1==e.duration&&p+1<h&&(p=b[p+1],p.visible&&null!=p.$wJ||(e.visible=!1))}b=0;for(a=a.childLayers;b<
a.length;)h=a[b],++b,s(h)},e=0;e<d.length;)for(g=d[e],++e,f=0,g=g.layers;f<g.length;)k=g[f],++f,h(k)};m["kit.movie.Library"]=Kb;Kb.__name__=["kit","movie","Library"];Kb.fromFlipbooks=function(a){var b=va.createEmptyInstance(Kb);b.$CJ=new V;b.frameRate=60;b.$cG=null;for(var c=0;c<a.length;){var h=a[c];++c;for(var d=[],e=0,f=h.frames;e<f.length;){var g=f[e];++e;d.push({duration:g.duration*b.frameRate,label:g.label,pivot:[g.anchorX,g.anchorY],ref:""})}d=new tb(b,{id:h.name,layers:[{name:"flipbook",flipbook:!0,
keyframes:d}]});e=h.name;f=b.$CJ;null!=F[e]?f.setReserved(e,d):f.h[e]=d;d=d.layers[0].keyframes;e=0;for(f=h.frames.length;e<f;){var g=e++,k=h.frames[g].$_I();d[g].symbol=k}}return b};Kb.prototype={createSprite:function(a,b){var c=this.$CJ,c=null!=F[a]?c.getReserved(a):c.h[a];return null==c?null:c.createSprite()},__class__:Kb};var ed=function(a){this.$HJ=this.$IJ=null;w.call(this);this.$pI=a;this.$GJ=new e;this.movie=new ea(null);this.setCache(!0)};m["kit.movie.MoviePlayer"]=ed;ed.__name__=["kit",
"movie","MoviePlayer"];ed.__super__=w;ed.prototype=y(w.prototype,{get_entitySlot:function(){return 6},setCache:function(a){this.$KJ=a?new V:null;return this},play:function(a,b){null==b&&(b=!0);if(b||null==this.$HJ||this.$HJ.symbol.$$I!=a)this.$HJ=this.$DJ(a);return this},loop:function(a,b){null==b&&(b=!0);if(b||null==this.$IJ||this.$IJ.symbol.$$I!=a)this.$HJ=null,this.$IJ=this.$DJ(a);return this},onAdded:function(){this.owner.addChild(this.$GJ)},onRemoved:function(){this.$GJ.dispose();this.$HJ=this.$IJ=
null;this.movie.set__(null)},onUpdate:function(a){null!=this.$HJ&&this.$HJ.$QJ+a>this.$HJ.symbol.duration&&(this.$HJ=null,this.$FJ(this.$IJ))},$DJ:function(a){var b;if(null!=this.$KJ)if(b=this.$KJ,b=null!=F[a]?b.getReserved(a):b.h[a],null!=b)b.set_position(0);else{b=this.$EJ(a);var c=this.$KJ;null!=F[a]?c.setReserved(a,b):c.h[a]=b}else b=this.$EJ(a);return this.$FJ(b)},$EJ:function(a){a=this.$pI.createSprite(a,!0);null!=this.$JJ&&this.$JJ(a);return a},$FJ:function(a){this.$GJ.add(a);return this.movie.set__(a)},
__class__:ed});var Oa=function(a){this.$TJ=this.$UJ=this.$VJ=null;this.$SJ=0;var b=this;x.call(this);this.symbol=a;this.speed=new P(1);this.$PJ=Array(a.layers.length);for(var c=0,h=this.$PJ.length;c<h;){var d=c++;this.$PJ[d]=new ub(a.layers[d])}this.$QJ=0;this.$RJ=-1;this.$MJ(0);if(a.button){var e=0/a.frameRate,f=1/a.frameRate,g=2/a.frameRate,k=!1,l=!1,c=new oa(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308),h=0;for(a=a.layers;h<a.length;)d=a[h],++h,Oa.$WJ(d,
c);c.x<c.width&&c.y<c.height&&(this.$VJ=c);this.$nE|=4096;this.get_pointerDown().connect(function(a){k=!0;b.set_position(g);n.$3F.$LF.up.connect(function(a){k=!1;b.set_position(l?f:e)}).once()});var m=null;this.get_pointerIn().connect(function(a){l=!0;b.set_position(k?g:f);n.$3F.$KF.get_cursor()==na.Default&&n.$3F.$KF.set_cursor(na.Button);null!=m&&m.dispose();m=n.$3F.$LF.move.connect(function(a){null==b.owner&&(m.dispose(),n.$3F.$KF.get_cursor()==na.Button&&n.$3F.$KF.set_cursor(na.Default))})});
this.get_pointerOut().connect(function(a){l=!1;b.set_position(e);n.$3F.$KF.get_cursor()==na.Button&&n.$3F.$KF.set_cursor(na.Default)})}};m["kit.movie.MovieSprite"]=Oa;Oa.__name__=["kit","movie","MovieSprite"];Oa.$WJ=function(a,b){for(var c=0,h=a.keyframes;c<h.length;){var d=h[c];++c;if(3==d.index&&null!=d.symbol){var e=d.symbol.createSprite(),f=e.getNaturalWidth(),g=e.getNaturalHeight();if(0<f&&0<g){var k=e.scaleX.$iF*d.scaleX,l=e.scaleY.$iF*d.scaleY,e=e.getLocalMatrix(),m=Math.sin(d.skewX),n=Math.cos(d.skewX),
q=Math.sin(d.skewY),s=Math.cos(d.skewY);e.set(s*k,q*k,-m*l,n*l,d.x,d.y);e.translate(-d.pivotX,-d.pivotY);x.$8G(e,0,0,b);x.$8G(e,f,0,b);x.$8G(e,f,g,b);x.$8G(e,0,g,b)}}}c=0;for(h=a.childLayers;c<h.length;)d=h[c],++c,Oa.$WJ(d,b)};Oa.__super__=x;Oa.prototype=y(x.prototype,{containsLocal:function(a,b){return null!=this.$VJ&&a>=this.$VJ.x&&a<this.$VJ.width&&b>=this.$VJ.y?b<this.$VJ.height:!1},onAdded:function(){x.prototype.onAdded.call(this);for(var a=0,b=this.$PJ;a<b.length;){var c=b[a];++a;this.owner.addChild(c.$cJ)}},
onRemoved:function(){x.prototype.onRemoved.call(this);for(var a=0,b=this.$PJ;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.$cJ)}},onUpdate:function(a){x.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this.$nE&6912){case 0:0<=this.speed.$iF&&(this.$QJ+=this.speed.$iF*a,this.$QJ>this.symbol.duration&&(0!=(this.$nE&1024)?(this.$QJ=this.symbol.duration,this.$nE|=2048):(this.$QJ%=this.symbol.duration,null!=this.$TJ&&this.$TJ.emit())));break;case 512:this.$nE&=-513}this.$MJ(this.$QJ*
this.symbol.frameRate)},$MJ:function(a){if(this.$RJ!=a){if(a<this.$RJ)for(var b=0,c=this.$PJ;b<c.length;){var h=c[b];++b;if(h.$mJ(this.$UJ))return}b=0;for(c=this.$PJ;b<c.length;)if(h=c[b],++b,h.$oJ(a,this.$UJ,this.$SJ))return;switch(this.$SJ){case 0:this.$SJ=1;break;case 1:case 2:this.$SJ=3}this.$RJ=a}},set_position:function(a){this.setPosition(a,!0);return a},setPosition:function(a,b){var c=Ta.clamp(a,0,this.symbol.duration);this.$QJ=c;this.$SJ=3;for(var h=c*this.symbol.frameRate,d=b?2:0,e=0,f=this.$PJ;e<
f.length;){var g=f[e];++e;if(g.$nJ(h,this.$UJ,d))return c}this.$RJ=h;return c},set_paused:function(a){this.$nE=qb.set(this.$nE,256,a);return a},$NJ:function(a){this.$QJ=a.firstFrame/this.symbol.frameRate;this.set_paused(a.playMode==sa.SingleFrame);this.$nE=(this.$nE|512)&-2049;a=0;for(var b=this.$PJ;a<b.length;){var c=b[a];++a;c.$NJ()}},__class__:Oa,__properties__:y(x.prototype.__properties__,{set_paused:"set_paused",set_position:"set_position"})});var ub=function(a){this.$tJ=[];this.$iJ=null;this.$hJ=
!0;this.$fJ=-1;this.$eJ=0;this.$dJ=!1;this.$gJ=a;this.$cJ=new e;if(a.empty)this.$sJ=null;else{this.$sJ=Array(a.keyframes.length);for(var b=null,c=null,h=0,d=this.$sJ.length;h<d;){var f=h++,g=a.keyframes[f];if(null!=b&&ub.$uJ(b,g))this.$sJ[f]=c;else if(null!=g.symbol){c=g.symbol.createSprite();this.$sJ[f]=c;if(0<g.firstFrame||g.playMode!=sa.Loop)if(b=c instanceof Oa?c:null,null!=b){switch(g.playMode[1]){case 1:b.$nE|=1024;break;case 2:b.set_paused(!0)}b.$QJ=g.firstFrame/b.symbol.frameRate}b=g}else this.$sJ[f]=
new x}this.$cJ.add(this.$sJ[0])}this.$rJ=this.$cJ;if(0<a.childLayers.length)for(d=new x,g=(new e).add(d),g.addChild(this.$cJ),this.$cJ=b=new e,h=new e,a.mask&&(this.$iJ=new x,this.$iJ.set_mask(d),h.add(this.$iJ)),b.addChild(h),b.addChild(g),d=0,a=a.childLayers;d<a.length;)g=a[d],++d,g=new ub(g),this.$tJ.push(g),h.addChild(g.$cJ)};m.$C3=ub;ub.__name__=["$C3"];ub.$uJ=function(a,b){return a.symbol!=b.symbol||a.playMode!=b.playMode?!1:2==a.playMode[1]?a.firstFrame==b.firstFrame:a.firstFrame!=b.firstFrame?
a.firstFrame+a.duration==b.firstFrame:!0};ub.prototype={$lJ:function(a,b){null!=a.sound&&null!=a.sound.sound&&(this.$cJ.emitMessageToParents("MovieSprite.FRAME_SOUND",new fd(this.$cJ,a)).handled||a.sound.sound.play());if(null!=b){var c=a.label;null!=c&&b.emit(c)}null!=a.actions&&this.$cJ.emitMessageToParents("MovieSprite.FRAME_ACTION",new fd(this.$cJ,a))},$mJ:function(a){for(var b=0,c=this.$tJ;b<c.length;){var h=c[b];++b;if(h.$mJ(a))return!0}if(0<=this.$fJ){for(var b=this.$gJ.keyframes,c=this.$eJ,
h=this.$fJ+1,d=b.length;h<d;){var e=h++;this.$lJ(b[e],a);if(c!=this.$eJ)return!0}this.$fJ=-1}this.$dJ=!0;return!1},$nJ:function(a,b,c){for(var h=0,d=this.$tJ;h<d.length;){var e=d[h];++h;if(e.$nJ(a,b,c))return!0}++this.$eJ;h=this.$gJ.keyframes;d=h.length-1;e=this.$fJ;for(this.$fJ=-1;this.$fJ<d&&h[this.$fJ+1].index<=a;)++this.$fJ;this.$fJ!=e&&(this.$dJ=!0);return this.$oJ(a,b,c)},$oJ:function(a,b,c){for(var h=0,d=this.$tJ;h<d.length;){var e=d[h];++h;if(e.$oJ(a,b,c))return!0}var h=this.$gJ.keyframes,
f=h.length-1,d=this.$fJ;if(a>this.$gJ.frames)this.$fJ=f,this.$dJ=!0;else for(;this.$fJ<f&&h[this.$fJ+1].index<=a;)++this.$fJ,this.$dJ=!0;if(null!=this.$sJ){var e=h[this.$fJ],g;if(this.$dJ){if(this.$dJ=!1,g=this.$sJ[this.$fJ],g!=this.$rJ.$CF[1]){var k=g instanceof Oa?g:null;null!=k&&k.$NJ(e);this.$rJ.add(g)}}else g=this.$rJ.$CF[1];if(this.$hJ&&(k=e.visible&&null!=e.symbol&&a<=this.$gJ.frames,g.set_visible(k),null!=this.$iJ&&this.$iJ.set_maskEnabled(k),k)){var k=e.x,l=e.y,m=e.scaleX,n=e.scaleY,q=e.skewX,
s=e.skewY,u=e.alpha,r=e.tint;if(e.tweened&&this.$fJ<f){var f=(a-e.index)/e.duration,t=e.ease;if(0!=t){var v;0>t?(v=1-f,v=1-v*v,t=-t):v=f*f;f=t*v+(1-t)*f}t=h[this.$fJ+1];k+=(t.x-k)*f;l+=(t.y-l)*f;m+=(t.scaleX-m)*f;n+=(t.scaleY-n)*f;q+=(t.skewX-q)*f;s+=(t.skewY-s)*f;u+=(t.alpha-u)*f;t=t.tint;if(16777215!=t||16777215!=r){v=(r&16711680)>>16;var w=(r&65280)>>8,r=r&255,w=w+((((t&65280)>>8)-w)*f|0),r=r+(((t&255)-r)*f|0),r=v+((((t&16711680)>>16)-v)*f|0)<<16|w<<8|r}}f=e.symbol;f=f instanceof Jb?f:null;null!=
f&&(m*=f.scaleX,n*=f.scaleY);f=g.getLocalMatrix();t=Math.sin(q);q=Math.cos(q);v=Math.sin(s);s=Math.cos(s);f.set(s*m,v*m,-t*n,q*n,k,l);f.translate(-e.pivotX,-e.pivotY);g.$nE|=16;g.alpha.set__(u);g.setTint(r);null==e.blendMode&&null==g.get_blendMode()||g.set_blendMode(e.blendMode)}}if(0!=c)for(1==c?d=-1:2==c&&0<=this.$fJ&&h[this.$fJ].index==a&&(d=this.$fJ-1),a=this.$eJ,c=d,d=this.$fJ;c<d;)if(e=c++,this.$lJ(h[e+1],b),this.$eJ!=a)return!0;return!1},$NJ:function(){for(var a=0,b=this.$tJ;a<b.length;){var c=
b[a];++a;c.$NJ()}this.$dJ=!0;this.$fJ=-1;if(null!=this.$sJ)for(a=0,b=this.$sJ.length;a<b;){var c=a++,h=this.$sJ[c],h=h instanceof Oa?h:null;null!=h&&h.$NJ(this.$gJ.keyframes[c])}},__class__:ub};var fd=function(a,b){this.layer=a;this.keyframe=b};m["kit.movie.FrameEvent"]=fd;fd.__name__=["kit","movie","FrameEvent"];fd.prototype={__class__:fd};var tb=function(a,b){this.$$I=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,h=this.layers.length;c<h;){var d=c++,
e=new gd(a,b.layers[d]);this.frames=Math.max(e.frames,this.frames);this.layers[d]=e}this.duration=this.frames/this.frameRate;this.button=!0==b.button};m["kit.movie.MovieSymbol"]=tb;tb.__name__=["kit","movie","MovieSymbol"];tb.__interfaces__=[sb];tb.prototype={createSprite:function(){return new Oa(this)},__class__:tb};var gd=function(a,b){this.mask=!1;this.childLayers=[];this.empty=!0;this.name=b.name;var c=null;this.keyframes=Array(b.keyframes.length);for(var h=0,d=this.keyframes.length;h<d;){var e=
h++,c=new oe(a,b.keyframes[e],c);this.keyframes[e]=c;this.empty=this.empty&&null==c.$wJ}this.frames=null!=c?c.index+c.duration:0;null!=b.mask&&(this.mask=b.mask);if(null!=b.childLayers)for(c=0,h=b.childLayers;c<h.length;)d=h[c],++c,d=new gd(a,d),d.frames>this.frames&&(this.frames=d.frames),this.childLayers.push(d)};m["kit.movie.MovieLayer"]=gd;gd.__name__=["kit","movie","MovieLayer"];gd.prototype={__class__:gd};var sa={__ename__:!0,__constructs__:["Loop","PlayOnce","SingleFrame"],Loop:["Loop",0]};
sa.Loop.toString=t;sa.Loop.__enum__=sa;sa.PlayOnce=["PlayOnce",1];sa.PlayOnce.toString=t;sa.PlayOnce.__enum__=sa;sa.SingleFrame=["SingleFrame",2];sa.SingleFrame.toString=t;sa.SingleFrame.__enum__=sa;var oe=function(a,b,c){this.actions=this.sound=null;this.firstFrame=0;this.playMode=sa.Loop;this.blendMode=null;this.ease=0;this.visible=this.tweened=!0;this.tint=16777215;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=this.instanceName=
null;this.index=null!=c?c.index+c.duration:0;this.duration=b.duration;this.label=b.label;this.$wJ=b.ref;c=b.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=b.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=b.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=b.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=b.alpha&&(this.alpha=b.alpha);null!=b.tint&&(this.tint=b.tint);null!=b.visible&&(this.visible=b.visible);null!=b.tweened&&(this.tweened=b.tweened);null!=b.ease&&(this.ease=b.ease);if(null!=
b.blendMode){c=b.blendMode;if(null==c)c=null;else switch(c){case "add":c=T.Add;break;case "layer":c=T.Mask;break;case "multiply":c=T.Multiply;break;case "screen":c=T.Screen;break;default:c=null}this.blendMode=c}null!=b.firstFrame&&(this.firstFrame=b.firstFrame);if(null!=b.playMode){c=b.playMode;if(null==c)c=sa.Loop;else switch(c){case "once":c=sa.PlayOnce;break;case "stop":c=sa.SingleFrame;break;default:c=sa.Loop}this.playMode=c}null!=b.actions&&(this.actions=b.actions);null!=b.sound&&(c=b.sound,
a=a.sounds,this.sound=null!=F[c]?a.getReserved(c):a.h[c]);null!=b.refName&&(this.instanceName=b.refName)};m["kit.movie.MovieKeyframe"]=oe;oe.__name__=["kit","movie","MovieKeyframe"];oe.prototype={__class__:oe};var ne=function(a,b){this.name=a;this.sound=b};m["kit.movie.SoundSymbol"]=ne;ne.__name__=["kit","movie","SoundSymbol"];ne.prototype={__class__:ne};var dd=function(a,b){this.$$I=a;this.video=b};m["kit.movie.VideoSymbol"]=dd;dd.__name__=["kit","movie","VideoSymbol"];dd.__interfaces__=[sb];dd.prototype=
{createSprite:function(){return new hd(this)},__class__:dd};var bb=function(a){x.call(this);this.$zJ=a};m["kit.video.VideoSprite"]=bb;bb.__name__=["kit","video","VideoSprite"];bb.__super__=x;bb.prototype=y(x.prototype,{draw:function(a){null!=this.$zJ&&a.drawTexture(this.$zJ.get_texture(),0,0)},getNaturalWidth:function(){return null!=this.$zJ?this.$zJ.get_video().get_width():0},getNaturalHeight:function(){return null!=this.$zJ?this.$zJ.get_video().get_height():0},dispose:function(){x.prototype.dispose.call(this);
this.set_playback(null)},set_playback:function(a){null!=this.$zJ&&this.$zJ.dispose();return this.$zJ=a},__class__:bb,__properties__:y(x.prototype.__properties__,{set_playback:"set_playback"})});var hd=function(a){bb.call(this,null);this.$0J=a};m.$C5=hd;hd.__name__=["$C5"];hd.__super__=bb;hd.prototype=y(bb.prototype,{onAdded:function(){bb.prototype.onAdded.call(this);this.set_playback(this.$0J.video.play())},onRemoved:function(){bb.prototype.onRemoved.call(this);this.set_playback(null)},__class__:hd});
var aa=function(){this.$tK=!1};m.$C8=aa;aa.__name__=["$C8"];aa.__interfaces__=[Sa];aa.prototype={dispose:function(){this.$tK||(this.$tK=!0,this.$rK())},$rK:function(){},__class__:aa};var Lb=function(a,b){this.$8K=0;var c=this;this.$wK=b;this.$3F=a;this.$3E=new ka;this.$NH=new id(b,this);this.$7K=new V;var h=Db.array(b);if(0==h.length)this.$3K();else{for(var d=new V,e=0;e<h.length;){var f=h[e];++e;var g=f.name,g=null!=F[g]?d.getReserved(g):d.h[g];if(null==g){var g=[],k=f.name;null!=F[k]?d.setReserved(k,
g):d.h[k]=g}g.push(f)}this.$6K=Db.count(d);for(h=new Ia(d,d.arrayKeys());h.hasNext();)d=[h.next()],this.$yK(d[0],function(a){return function(h){if(null!=h){var d=c.$7K,e=h.name,p=new jd(0,h.bytes);null!=F[e]?d.setReserved(e,p):d.h[e]=p;d=b.getFullURL(h);try{c.$zK(d,h)}catch(f){f instanceof E&&(f=f.val),c.$4K(h,"Unexpected error: "+Q.string(f))}}else switch(h=a[0][0],d=c.$7K,e=h.name,p=new jd(0,0),null!=F[e]?d.setReserved(e,p):d.h[e]=p,h.format[1]){case 7:case 8:case 9:case 10:case 11:d=Da.$8L();c.$1K(h,
d);break;case 16:case 17:d=Pa.$8L();c.$1K(h,d);break;default:c.$4K(h,"Could not find a supported format to load")}}}(d))}};m.$C9=Lb;Lb.__name__=["$C9"];Lb.prototype={$yK:function(a,b){this.$0K(function(c){for(var h=0;h<c.length;){var d=c[h];++h;for(var e=0;e<a.length;){var f=a[e];++e;if(f.format==d){b(f);return}}}b(null)})},$zK:function(a,b){},$0K:function(a){},$1K:function(a,b){if(this.$NH.$DL)b.dispose();else{var c=a.name,h=this.$7K,c=null!=F[c]?h.getReserved(c):h.h[c];c.$GL=c.$HL;var d;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:d=
this.$NH.$$K;break;case 7:case 8:case 9:case 10:case 11:d=this.$NH.$_K;break;case 12:case 13:case 14:case 15:d=this.$NH.$BL;break;case 16:case 17:d=this.$NH.$CL;break;case 18:d=this.$NH.$AL}c=a.name;null!=F[c]?d.setReserved(c,b):d.h[c]=b;this.$6K-=1;0==this.$6K&&this.$3K()}},$2K:function(a,b,c){a=a.name;var h=this.$7K;a=null!=F[a]?h.getReserved(a):h.h[a];0<c&&(a.$HL=c);c=a.$HL;a.$GL=b<c?b:c;c=b=0;a=this.$7K;for(a=new Ia(a,a.arrayKeys());a.hasNext();){h=a.next();if(0==h.$HL)return;b+=h.$GL;c+=h.$HL}b=
0<c?b/c:0;b!=this.$8K&&(this.$8K=b,this.$3E.emitProgress(b))},$3K:function(){this.$3E.success(this.$NH)},$4K:function(a,b){this.$NH.dispose();this.$3E.failure(ra.withFields(b,["url",a.url]))},$5K:function(a){this.$4K(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:Lb};var id=function(a,b){this.$DL=!1;this.$CL=new V;this.$BL=new V;this.$AL=new V;this.$_K=new V;this.$$K=new V;this.$EL=a};m.$C$=id;id.__name__=["$C$"];id.__interfaces__=[Fb];id.prototype={getTexture:function(a,
b){var c=this.$$K;return null!=F[a]?c.getReserved(a):c.h[a]},getSound:function(a,b){var c=this.$_K;return null!=F[a]?c.getReserved(a):c.h[a]},getFile:function(a,b){var c=this.$AL;return null!=F[a]?c.getReserved(a):c.h[a]},getVideo:function(a,b){var c=this.$CL;return null!=F[a]?c.getReserved(a):c.h[a]},dispose:function(){if(!this.$DL){this.$DL=!0;for(var a=this.$$K,a=new Ia(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$$K=null;a=this.$_K;for(a=new Ia(a,a.arrayKeys());a.hasNext();)a.next().dispose();
this.$_K=null;a=this.$AL;for(a=new Ia(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$AL=null;a=this.$BL;for(a=new Ia(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$BL=null;a=this.$CL;for(a=new Ia(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$CL=null}},__class__:id};var jd=function(a,b){this.$GL=a;this.$HL=b};m.$C_=jd;jd.__name__=["$C_"];jd.prototype={__class__:jd};var Mb=function(a){this.$tK=!1;this.$KH=a};m.$CAB=Mb;Mb.__name__=["$CAB"];Mb.__interfaces__=[kc];Mb.__super__=
aa;Mb.prototype=y(aa.prototype,{toString:function(){return this.$KH},toJson:function(){return JSON.parse(this.toString())},$rK:function(){this.$KH=null},__class__:Mb});var pe=function(){};m["kit.subsystem.KeyboardSystem"]=pe;pe.__name__=["kit","subsystem","KeyboardSystem"];pe.prototype={__class__:pe};var Ja=function(){this.down=new Z;this.up=new Z;this.backButton=new ob;this.$LL=new Ga};m.$CBB=Ja;Ja.__name__=["$CBB"];Ja.__interfaces__=[pe];Ja.prototype={$JL:function(a){if(16777238==a)return null!=
this.backButton.$vF?(this.backButton.emit(),!0):!1;this.$LL.exists(a)||(this.$LL.h[a]=!0,Ja.$ML.$7I(Ja.$ML.id+1,qe.$1N(a)),this.down.emit(Ja.$ML));return!0},$KL:function(a){this.$LL.exists(a)&&(this.$LL.remove(a),Ja.$ML.$7I(Ja.$ML.id+1,qe.$1N(a)),this.up.emit(Ja.$ML))},__class__:Ja};var re=function(){};m["kit.subsystem.MouseSystem"]=re;re.__name__=["kit","subsystem","MouseSystem"];re.prototype={__class__:re,__properties__:{set_cursor:"set_cursor",get_cursor:"get_cursor"}};var za=function(a){this.$LF=
a;this.$9I=Pe.Mouse(za.$ML);this.down=new Z;this.move=new Z;this.up=new Z;this.scroll=new Z;this.$hH=this.$gH=0;this.$PL=na.Default;this.$QL=new Ga};m.$CCB=za;za.__name__=["$CCB"];za.__interfaces__=[re];za.prototype={get_cursor:function(){return this.$PL},set_cursor:function(a){return this.$PL=a},$JL:function(a,b,c){this.$QL.exists(c)||(this.$QL.h[c]=!0,this.$iI(a,b,se.$IO(c)),this.$LF.$JL(a,b,this.$9I),this.down.emit(za.$ML))},$NL:function(a,b){this.$iI(a,b,null);this.$LF.$NL(a,b,this.$9I);this.move.emit(za.$ML)},
$KL:function(a,b,c){this.$QL.exists(c)&&(this.$QL.remove(c),this.$iI(a,b,se.$IO(c)),this.$LF.$KL(a,b,this.$9I),this.up.emit(za.$ML))},$OL:function(a,b,c){this.$gH=a;this.$hH=b;if(null==this.scroll.$vF)return!1;this.scroll.emit(c);return!0},$iI:function(a,b,c){this.$gH=a;this.$hH=b;za.$ML.$7I(za.$ML.id+1,a,b,c)},__class__:za,__properties__:{set_cursor:"set_cursor",get_cursor:"get_cursor"}};var te=function(){};m["kit.subsystem.PointerSystem"]=te;te.__name__=["kit","subsystem","PointerSystem"];te.prototype=
{__class__:te};var qa=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new Z;this.move=new Z;this.up=new Z;this.$gH=a;this.$hH=b;this.$RL=c};m.$CDB=qa;qa.__name__=["$CDB"];qa.__interfaces__=[te];qa.prototype={$JL:function(a,b,c){if(!this.$RL){this.$NL(a,b,c);this.$RL=!0;var h=[],d=x.hitTest(n.root,a,b);if(null!=d)for(var e=d.owner;;){var f=e.$CF[1];null!=f&&h.push(f);e=e.parent;if(null==e)break}this.$iI(a,b,d,c);for(a=0;a<h.length;)if(b=h[a],++a,b.$oG(qa.$ML),qa.$ML.$8I)return;
this.down.emit(qa.$ML)}},$NL:function(a,b,c){if(a!=this.$gH||b!=this.$hH){var h=[],d=x.hitTest(n.root,a,b);if(null!=d)for(var e=d.owner;;){var f=e.$CF[1];null!=f&&h.push(f);e=e.parent;if(null==e)break}this.$iI(a,b,d,c);for(a=0;a<h.length;)if(b=h[a],++a,b.$pG(qa.$ML),qa.$ML.$8I)return;this.move.emit(qa.$ML)}},$KL:function(a,b,c){if(this.$RL){this.$NL(a,b,c);this.$RL=!1;var h=[],d=x.hitTest(n.root,a,b);if(null!=d)for(var e=d.owner;;){var f=e.$CF[1];null!=f&&h.push(f);e=e.parent;if(null==e)break}this.$iI(a,
b,d,c);for(a=0;a<h.length;)if(b=h[a],++a,b.$rG(qa.$ML),qa.$ML.$8I)return;this.up.emit(qa.$ML)}},$iI:function(a,b,c,h){this.$gH=a;this.$hH=b;qa.$ML.$7I(qa.$ML.id+1,a,b,c,h)},__class__:qa};var kd=function(){};m.$CEB=kd;kd.__name__=["$CEB"];kd.__interfaces__=[Me];kd.prototype={__class__:kd};var Qa=function(a,b,c){this.$gH=this.$hH=0;this.$VL=null;this.$TL=this.$UL=0;this.$tK=!1;this.$SL=a;this.$vH=b;this.$wH=c};m.$CFB=Qa;Qa.__name__=["$CFB"];Qa.__interfaces__=[kd];Qa.__super__=aa;Qa.prototype=y(aa.prototype,
{subTexture:function(a,b,c,h){c=this.$SL.createTexture(c,h);c.$VL=this;c.$gH=a;c.$hH=b;c.$TL=this.$TL+a;c.$UL=this.$UL+b;return c},clear:function(){this.$SL.clear()},renderFilter:function(a,b,c){this.$SL.renderFilter(a,b,c)},get_graphics:function(){return this.$SL.getGraphics()},$rK:function(){null==this.$VL&&this.$SL.dispose()},get_width:function(){return this.$vH},get_height:function(){return this.$wH},__class__:Qa,__properties__:{get_height:"get_height",get_width:"get_width",get_graphics:"get_graphics"}});
var ld=function(){};m["kit.subsystem.TouchSystem"]=ld;ld.__name__=["kit","subsystem","TouchSystem"];ld.prototype={__class__:ld,__properties__:{get_supported:"get_supported"}};var cc=function(a,b){null==b&&(b=4);this.$LF=a;this.$XL=b;this.$YL=new Ga;this.$5H=[];this.down=new Z;this.move=new Z;this.up=new Z};m.$CGB=cc;cc.__name__=["$CGB"];cc.__interfaces__=[ld];cc.prototype={get_supported:function(){return!0},$JL:function(a,b,c){if(!this.$YL.h.hasOwnProperty(a)){var h=new me(a);h.$7I(b,c);this.$YL.h[a]=
h;this.$5H.push(h);null==this.$WL&&(this.$WL=h,this.$LF.$JL(b,c,h.$9I));this.down.emit(h)}},$NL:function(a,b,c){a=this.$YL.h[a];null!=a&&(a.$7I(b,c),this.$WL==a&&this.$LF.$NL(b,c,a.$9I),this.move.emit(a))},$KL:function(a,b,c){var h=this.$YL.h[a];null!=h&&(h.$7I(b,c),this.$YL.remove(a),C.remove(this.$5H,h),this.$WL==h&&(this.$WL=null,this.$LF.$KL(b,c,h.$9I)),this.up.emit(h))},__class__:cc,__properties__:{get_supported:"get_supported"}};var Se=function(){};m.$CHB=Se;Se.__name__=["$CHB"];Se.$ZL=function(){n.$0F().then(function(a){try{n.$3F.getExternal().call("console.info",
["Built with 2DKit, http://2dkit.com"])}catch(b){}Te.main()})};var ja=function(){};m.$CIB=ja;ja.__name__=["$CIB"];ja.$fL=function(a){var b=Zb.getType(ja).injected[0];return Y.field(b,a)};ja.$gL=function(){switch(ja.$fL("orientation")){case "landscape":return Va.Landscape;case "portrait":return Va.Portrait}return null};var md=function(){this.$0L=new Ha;this.$zL=0;this.$xL=this.$yL=null;this.$wL=Infinity;this.$vL=0};m.$CJB=md;md.__name__=["$CJB"];md.__interfaces__=[Ca];md.prototype={$lL:function(a){this.$wL=
a;this.$uL(!0);return this},$mL:function(a){this.$xL=a;return this},$nL:function(a){this.$yL=a;return this},$oL:function(a,b,c){null==c&&(c=!0);this.$sL(a);var h=null!=this.$yL?this.$yL(a,b):1;this.$vL+=h;this.$uL(c);b=new ue(a,b);b.$1L=++this.$zL;b.$jL=h;this.$0L.set(a,b)},$fL:function(a){a=this.$0L.h[a.__id__];if(null==a)return null;a.$1L=++this.$zL;return a.$5I},$pL:function(){var a=this.$rL(!0);return null!=a?a.$VI:null},$rL:function(a){for(var b=null,c=this.$0L.iterator();c.hasNext();){var h=
c.next();if(null==b||h.$1L<b.$1L==a)b=h}return b},$sL:function(a,b){null==b&&(b=!0);var c=this.$0L.h[a.__id__];if(null==c)return null;null!=this.$xL&&b&&this.$xL(a,c.$5I);this.$0L.remove(a);this.$vL-=c.$jL;return c.$5I},$tL:function(a){null==a&&(a=!0);var b=this.$0L;this.$0L=new Ha;this.$vL=0;if(null!=this.$xL&&a)for(a=b.iterator();a.hasNext();)b=a.next(),this.$xL(b.$VI,b.$5I)},dispose:function(){this.$tL()},$uL:function(a){for(;this.$vL>this.$wL;){var b=this.$rL(a);if(null!=b)null!=this.$xL&&this.$xL(b.$VI,
b.$5I),this.$0L.remove(b.$VI),this.$vL-=b.$jL;else break}},__class__:md};var ue=function(a,b){this.$jL=1;this.$1L=0;this.$VI=a;this.$5I=b};m.$CKB=ue;ue.__name__=["$CKB"];ue.prototype={__class__:ue};var gb=function(){};m.$CMB=gb;gb.__name__=["$CMB"];gb.$7L=function(a,b){var c=a.__creator;if(null!=c&&(c=Y.field(c,b),null!=c))return c;c=va.getSuperClass(a);return null!=c?gb.$7L(c,b):null};gb.$bG=function(a,b){switch(a[1]){case 0:return b;case 1:return"0"!=b?"false"!=b:!1;case 2:var c=parseFloat(b);return isNaN(c)?
0:c;case 3:return 35==C.cca(b,0)&&(b="0x"+C.substr(b,1,null)),c=Q.parseInt(b),null!=c?c:0;case 5:c=a[2];try{return va.createEnum(c,b)}catch(h){break}case 6:switch(a[2]){case Date:return c=parseFloat(b),new Date(c);case P:return c=parseFloat(b),new P(isNaN(c)?0:c);case La:var c=new La,d=b.split(",");2<=d.length&&(c.x=parseFloat(d[0]),c.y=parseFloat(d[1]));return c;case oa:return c=new oa,d=b.split(","),4<=d.length&&(c.x=parseFloat(d[0]),c.y=parseFloat(d[1]),c.width=parseFloat(d[2]),c.height=parseFloat(d[3])),
c}}return null};var vb=function(){};m["kit.sound.Sound"]=vb;vb.__name__=["kit","sound","Sound"];vb.__interfaces__=[Sa];vb.prototype={__class__:vb};var Da=function(){this.$tK=!1;this.$zJ=new nd(this)};m.$CPB=Da;Da.__name__=["$CPB"];Da.__interfaces__=[vb];Da.$8L=function(){null==Da.$9L&&(Da.$9L=new Da);return Da.$9L};Da.__super__=aa;Da.prototype=y(aa.prototype,{play:function(a){return this.$zJ},loop:function(a){return this.$zJ},$rK:function(){},__class__:Da});var wb=function(){};m["kit.sound.Playback"]=
wb;wb.__name__=["kit","sound","Playback"];wb.__interfaces__=[Ca];wb.prototype={__class__:wb};var nd=function(a){this.$$L=a;this.volume=new P(0);this.$_L=new ea(!0)};m.$CQB=nd;nd.__name__=["$CQB"];nd.__interfaces__=[wb];nd.prototype={dispose:function(){},__class__:nd};var dc=function(){this.down=new Z;this.move=new Z;this.up=new Z};m.$CSB=dc;dc.__name__=["$CSB"];dc.__interfaces__=[ld];dc.prototype={get_supported:function(){return!1},__class__:dc,__properties__:{get_supported:"get_supported"}};var Nb=
function(){};m["kit.video.Video"]=Nb;Nb.__name__=["kit","video","Video"];Nb.__interfaces__=[Sa];Nb.prototype={__class__:Nb,__properties__:{get_height:"get_height",get_width:"get_width"}};var Pa=function(){this.$tK=!1;this.$zJ=new od(this)};m.$CTB=Pa;Pa.__name__=["$CTB"];Pa.__interfaces__=[Nb];Pa.$8L=function(){null==Pa.$9L&&(Pa.$9L=new Pa);return Pa.$9L};Pa.__super__=aa;Pa.prototype=y(aa.prototype,{play:function(a){return this.$zJ},get_width:function(){return 1},get_height:function(){return 1},$rK:function(){},
__class__:Pa,__properties__:{get_height:"get_height",get_width:"get_width"}});var Ob=function(){};m["kit.video.VideoPlayback"]=Ob;Ob.__name__=["kit","video","VideoPlayback"];Ob.__interfaces__=[Ca];Ob.prototype={__class__:Ob,__properties__:{get_texture:"get_texture",get_video:"get_video"}};var od=function(a){this.$AM=a;this.volume=new P(0);this.$_L=new ea(!0);this.$xH=n.$3F.$MF.createTexture(1,1)};m.$CUB=od;od.__name__=["$CUB"];od.__interfaces__=[Ob];od.prototype={get_video:function(){return this.$AM},
get_texture:function(){return this.$xH},dispose:function(){},__class__:od,__properties__:{get_texture:"get_texture",get_video:"get_video"}};var xb=function(){this.$tE=[]};m.$CWB=xb;xb.__name__=["$CWB"];xb.__interfaces__=[Ca];xb.prototype={$BM:function(a,b,c){a.addEventListener(b,c,!1);this.$tE.push(new ve(a,b,c))},$CM:function(a,b,c){var h=this;this.$BM(a,b,function(a){h.dispose();c(a)})},dispose:function(){for(var a=0,b=this.$tE;a<b.length;){var c=b[a];++a;c.$DM.removeEventListener(c.$6I,c.$EM,!1)}this.$tE=
[]},__class__:xb};var ve=function(a,b,c){this.$DM=a;this.$6I=b;this.$EM=c};m.$CXB=ve;ve.__name__=["$CXB"];ve.prototype={__class__:ve};var ce=function(a,b){this.$GM=this.$HM=0;var c=a+150,h=b+150;this.$IM=n.$3F.$MF.createTexture(c,h);this.$JM=n.$3F.$MF.createTexture(c,h);this.$vH=a;this.$wH=b};m.$CZB=ce;ce.__name__=["$CZB"];ce.prototype={$KM:function(a,b){if(a>this.$IM.get_width()||b>this.$IM.get_height()){var c=Math.max(this.$IM.get_width(),a+150)|0,h=Math.max(this.$IM.get_height(),b+150)|0;this.$IM.dispose();
this.$JM.dispose();this.$IM=n.$3F.$MF.createTexture(c,h);this.$JM=n.$3F.$MF.createTexture(c,h)}else this.$IM.clear(),this.$JM.clear();this.$vH=a;this.$wH=b},$LM:function(a){null!=a.$1I&&(a.outputOnly||a.setUniformSampler2D("uTexture",this.$IM),a.setUniformVec2("uFilterPosition",this.$GM,this.$HM),this.$JM.renderFilter(a,this.$vH,this.$wH),a=this.$IM,this.$IM=this.$JM,this.$JM=a)},__class__:ce};var Pb=function(){};m.$CcB=Pb;Pb.__name__=["$CcB"];Pb.__interfaces__=[vc];Pb.prototype={__class__:Pb};var we=
function(){};m["kit.subsystem.RendererSystem"]=we;we.__name__=["kit","subsystem","RendererSystem"];we.prototype={__class__:we,__properties__:{get_filterSupported:"get_filterSupported"}};var Qb=function(){};m.$CdB=Qb;Qb.__name__=["$CdB"];Qb.__interfaces__=[we];Qb.prototype={__class__:Qb};var qe=function(){};m.$CeB=qe;qe.__name__=["$CeB"];qe.$1N=function(a){switch(a){case 8:return g.Backspace;case 9:return g.Tab;case 13:return g.Enter;case 15:return g.Command;case 16:return g.Shift;case 17:return g.Control;
case 18:return g.Alt;case 20:return g.CapsLock;case 27:return g.Escape;case 32:return g.Space;case 33:return g.PageUp;case 34:return g.PageDown;case 35:return g.End;case 36:return g.Home;case 37:return g.Left;case 38:return g.Up;case 39:return g.Right;case 40:return g.Down;case 45:return g.Insert;case 46:return g.Delete;case 48:return g.Number0;case 49:return g.Number1;case 50:return g.Number2;case 51:return g.Number3;case 52:return g.Number4;case 53:return g.Number5;case 54:return g.Number6;case 55:return g.Number7;
case 56:return g.Number8;case 57:return g.Number9;case 65:return g.A;case 66:return g.B;case 67:return g.C;case 68:return g.D;case 69:return g.E;case 70:return g.F;case 71:return g.G;case 72:return g.H;case 73:return g.I;case 74:return g.J;case 75:return g.K;case 76:return g.L;case 77:return g.M;case 78:return g.N;case 79:return g.O;case 80:return g.P;case 81:return g.Q;case 82:return g.R;case 83:return g.S;case 84:return g.T;case 85:return g.U;case 86:return g.V;case 87:return g.W;case 88:return g.X;
case 89:return g.Y;case 90:return g.Z;case 96:return g.Numpad0;case 97:return g.Numpad1;case 98:return g.Numpad2;case 99:return g.Numpad3;case 100:return g.Numpad4;case 101:return g.Numpad5;case 102:return g.Numpad6;case 103:return g.Numpad7;case 104:return g.Numpad8;case 105:return g.Numpad9;case 106:return g.NumpadMultiply;case 107:return g.NumpadAdd;case 108:return g.NumpadEnter;case 109:return g.NumpadSubtract;case 110:return g.NumpadDecimal;case 111:return g.NumpadDivide;case 112:return g.F1;
case 113:return g.F2;case 114:return g.F3;case 115:return g.F4;case 116:return g.F5;case 117:return g.F6;case 118:return g.F7;case 119:return g.F8;case 120:return g.F9;case 121:return g.F10;case 122:return g.F11;case 123:return g.F12;case 186:return g.Semicolon;case 187:return g.Equals;case 188:return g.Comma;case 189:return g.Minus;case 190:return g.Period;case 191:return g.Slash;case 192:return g.Backquote;case 219:return g.LeftBracket;case 220:return g.Backslash;case 221:return g.RightBracket;
case 222:return g.Quote;case 16777234:return g.Menu;case 16777247:return g.Search}return g.Unknown(a)};var fb=function(){this.$9N=0;this.$7N=null;this.$3N=new e;this.$8N=[]};m.$CfB=fb;fb.__name__=["$CfB"];fb.$$N=function(a,b){if(a.active){var c=a.$CF[9];if(null!=c&&(c.$7F=b,b*=c.scale.$iF,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var h=c.next;0==(c.$nE&1)&&(c.$nE|=1,c.$mE(),c.onStart());c.onUpdate(b);c=h}for(c=a.firstChild;null!=c;)h=c.next,fb.$$N(c,b),c=h}};fb.prototype={$7I:function(){if(1==
ja.$fL("scaleMode")){var a=new x;n.root.add(a);var b=ja.$fL("width"),c=ja.$fL("height"),h=ja.$fL("maxWidth"),d=ja.$fL("maxHeight"),e=function(){var e=Math.min(n.$3F.$NF.get_width()/b,n.$3F.$NF.get_height()/c),f=n.$3F.$NF.get_width()/2-e*b/2,g=n.$3F.$NF.get_height()/2;a.setXY(f,g-e*c/2);a.setScale(e);h*e<n.$3F.$NF.get_width()||d*e<n.$3F.$NF.get_height()?(null==a.get_scissor()&&a.set_scissor(new oa),a.get_scissor().set(b/2-h/2,c/2-d/2,h,d)):a.set_scissor(null)};e();n.$3F.$NF.resize.connect(e)}},$GF:function(a){if(!(0>=
a)){0.5<a?3>=this.$9N&&(++this.$9N,a=0.016666666666666666):this.$9N=0;if(null!=this.$7N){var b=this.$7N;this.$7N=null;for(var c=0;c<b.length;){var h=b[c];++c;h()}}for(b=0;b<this.$8N.length;)c=this.$8N[b],null==c||c.update(a)?this.$8N.splice(b,1):++b;n.volume.update(a);fb.$$N(n.root,a);fb.$$N(this.$3N,a)}},$fH:function(a){var b=a.graphics;null!=b&&(a.willRender(),x.$3G(n.root,b,!0),x.$3G(this.$3N,b,!0),a.didRender())},$4N:function(a){this.$8N.push(a)},$6N:function(a){null==this.$7N?this.$7N=[a]:this.$7N.push(a)},
__class__:fb};var ba=function(){};m.$CgB=ba;ba.__name__=["$CgB"];ba.$AO=function(a,b,c,h,d,e,f){if(3>f)return!1;for(var g=0,k=2*Math.PI/f,l=0;l<f;){var m=l++,n=Math.cos(g),q=Math.sin(g),g=g+k;a.push(d*n+c);a.push(e*q+h);m<f-1&&(b.push(0),b.push(m),b.push(m+1))}return!0};ba.$BO=function(a,b,c,h,d,e,f,g){if(3>g)return!1;a.push(c);a.push(h);f/=g;var k=0;for(g+=1;k<g;){var l=k++,m=Math.cos(e),n=Math.sin(e);e+=f;a.push(d*m+c);a.push(d*n+h);b.push(0);b.push(l);b.push(l+1)}return!0};ba.$CO=function(a,b,
c,h,d,e,f,g,k){f/=k;var l=[],m=0;for(k+=1;m<k;){m++;var n=Math.cos(e),q=Math.sin(e);e+=f;l.push(d*n+c);l.push(d*q+h)}return ba.$EO(a,b,l,g)};ba.$DO=function(a,b,c,h,d,e,f,g){for(var k=0,l=2*Math.PI/g,m=[],n=0;n<g;){n++;var q=Math.cos(k),s=Math.sin(k),k=k+l;m.push(d*q+c);m.push(e*s+h)}m.push(d+c);m.push(h);return ba.$EO(a,b,m,f)};ba.$EO=function(a,b,c,h){var d=c.length;if(4>d)return!1;h/=2;var e=c[0],f=c[1],g=c[d-2],k=c[d-1],l=new La(-(c[3]-f),c[2]-e);l.normalize();var m=l.x,l=l.y;a.push(e-h*m);a.push(f-
h*l);a.push(e+h*m);a.push(f+h*l);e=d/2|0;for(f=2;f<d-2;){var n=c[f++],q=c[f++],s=c[f],t=c[f+1],u=new La(-(t-q),s-n);u.normalize();var r=new La(u.x,u.y);r.add(m,l);r.normalize();var v=u.dot(r.x,r.y);r.multiply(h/v);if(0.15>v){var v=c[f-4],w=c[f-3];0>(n-v)*(t-w)-(q-w)*(s-v)?(a.push(n-r.x),a.push(q-r.y),a.push(n+m*h),a.push(q+l*h),a.push(n-r.x),a.push(q-r.y),a.push(n+u.x*h),a.push(q+u.y*h)):(a.push(n-m*h),a.push(q-l*h),a.push(n+r.x),a.push(q+r.y),a.push(n-u.x*h),a.push(q-u.y*h),a.push(n+r.x),a.push(q+
r.y));++e}else a.push(n-r.x),a.push(q-r.y),a.push(n+r.x),a.push(q+r.y);m=u.x;l=u.y}a.push(g-h*m);a.push(k-h*l);a.push(g+h*m);a.push(k+h*l);a=0;for(c=e-1;a<c;)d=2*a++,b.push(d),b.push(d+1),b.push(d+2),b.push(d+2),b.push(d+3),b.push(d+1);return!0};ba.$FO=function(a){if(6>a.length)return null;null==ba.$GO&&(ba.$GO=new xe);return ba.$GO.triangulate(a)};var se=function(){};m.$ChB=se;se.__name__=["$ChB"];se.$IO=function(a){switch(a){case 0:return wa.Left;case 1:return wa.Middle;case 2:return wa.Right}return wa.Unknown(a)};
var ec=function(){this.$KH=null;w.call(this)};m.$CiB=ec;ec.__name__=["$CiB"];ec.__super__=w;ec.prototype=y(w.prototype,{get_entitySlot:function(){return 10},onStart:function(){var a=this,b=ja.$gL();null!=b&&n.$3F.$NF.orientation.watch(function(c,h){null==c||c==b?a.$LO():a.$KO(c!=h)})},$KO:function(a){var b=this;if(null==this.$KH){this.owner.addChild(this.$KH=new e);var c=this.$KH,h=da.fromAssets("_2DKitOrientation");n.$3F.loadAssetPack(h).then(function(h){b.registerDisposable(h);var d=new G(0,0,0);
a&&d.alpha.animate(0,1,0.3);c.add(d);var f=(new I(h.getTexture("RotateDevice"))).centerAnchor();h=(new e).add(f);c.addChild(h);h=function(){var a=n.$3F.$NF.get_width(),b=n.$3F.$NF.get_height();d.setSize(a,b);a=n.$3F.$NF.get_width()/2;b=n.$3F.$NF.get_height()/2;f.setXY(a,b)};h();b.connect0(n.$3F.$NF.resize,h)})}},$LO:function(){null!=this.$KH&&(this.$KH.dispose(),this.$KH=null)},__class__:ec});var pd=function(){};m.$CmB=pd;pd.__name__=["$CmB"];pd.prototype={__class__:pd};var Rb=function(){};m.$CnB=
Rb;Rb.__name__=["$CnB"];Rb.prototype={__class__:Rb};var X=function(a,b){this.$gO=new qd;this.$fO=!1;this.$eO=a.getContext("2d",{alpha:b})};m.$CoB=X;X.__name__=["$CoB"];X.__interfaces__=[Pb];X.prototype={save:function(){var a=this.$gO,b=this.$gO.next;null==b&&(b=new qd,b.$kO=a,a.next=b);b.$MK=a.$MK;b.$OK=a.$OK;b.$QK=a.$QK;b.$iO=a.$iO;b.$jO=a.$jO;this.$gO=b;this.$eO.save()},translate:function(a,b){this.$eO.translate(a|0,b|0)},scale:function(a,b){this.$eO.scale(a,b)},rotate:function(a){this.$eO.rotate(3.141592653589793*
a/180)},transform:function(a,b,c,h,d,e){this.$eO.transform(a,b,c,h,d,e)},restore:function(){this.$gO=this.$gO.$kO;this.$eO.restore()},$SO:function(a,b,c,h,d){var e=this.$gO,e=(255*e.$MK&255)<<16|(255*e.$OK&255)<<8|255*e.$QK&255;null==X.$hO&&(X.$hO=B.$9P(h,d));X.$hO.width=h;X.$hO.height=d;var f=X.$hO.getContext("2d",null);f.globalCompositeOperation="copy";f.fillStyle=B.$DQ(e);f.fillRect(0,0,h,d);f.globalCompositeOperation="multiply";f.drawImage(a,b,c,h,d,0,0,h,d);f.globalCompositeOperation="destination-atop";
f.drawImage(a,b,c,h,d,0,0,h,d);return X.$hO},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,h,d,e,f){if(this.$fO)this.$fO=!1,this.$eO.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,h,d,e,f),this.$eO.globalCompositeOperation="source-over";else{var g=a.$SL;h=a.$TL+h|0;a=a.$UL+d|0;e|=0;f|=0;b|=0;c|=0;d=g.$SG;this.$gO.$iO?(g=this.$SO(g.$uO,h,a,e,f),this.$eO.drawImage(g,b*d,c*d,e*d,f*d)):this.$eO.drawImage(g.$uO,h*d,a*d,
e*d,f*d,b,c,e,f)}},drawPattern:function(a,b,c,h,d){if(this.$fO)this.$fO=!1,this.$eO.globalCompositeOperation="copy",this.drawPattern(a,b,c,h,d),this.$eO.globalCompositeOperation="source-over";else{var e=this.$gO,f=a.$SL.$SG;1!=f&&(this.$eO.save(),this.$eO.scale(1/f,1/f));b|=0;c|=0;h|=0;d|=0;e.$jO?this.$eO.rect(b,c,h,d):(this.$eO.fillStyle=this.$aO(a),this.$eO.fillRect(b,c,h*f,d*f));1!=f&&this.$eO.restore()}},fillRect:function(a,b,c,h,d){this.$fO?(this.$fO=!1,this.$eO.globalCompositeOperation="copy",
this.fillRect(a,b,c,h,d),this.$eO.globalCompositeOperation="source-over"):(b|=0,c|=0,h|=0,d|=0,this.$gO.$jO?this.$eO.rect(b,c,h,d):(this.$eO.fillStyle=this.$ZO(a),this.$eO.fillRect(b,c,h,d)))},fillTriangles:function(a,b,c){this.$fO=!1;this.$TO(b,c);this.$bO(a)},drawTriangles:function(a,b,c,h){this.$fO=!1;this.$TO(b,c);this.$cO(a)},$TO:function(a,b){this.$eO.beginPath();for(var c=0,h=b.length;c<h;){var d=2*b[c],e=2*b[c+1],f=2*b[c+2],c=c+3;this.$eO.moveTo(a[d],a[d+1]);this.$eO.lineTo(a[e],a[e+1]);this.$eO.lineTo(a[f],
a[f+1])}this.$eO.closePath()},fillPolygon:function(a,b){this.$fO=!1;this.$UO(b);this.$bO(a)},drawPolygon:function(a,b){this.$fO=!1;this.$UO(b);this.$cO(a)},$UO:function(a){this.$eO.beginPath();for(var b=0,c=a.length;b<c;){var h=a[b++],d=a[b++];this.$eO.lineTo(h,d)}this.$eO.closePath()},drawCircle:function(a,b,c,h,d){this.$fO=!1;this.$VO(b,c,h);this.$cO(a)},fillCircle:function(a,b,c,h,d){this.$fO=!1;this.$VO(b,c,h);this.$bO(a)},strokeCircle:function(a,b,c,h,d,e){this.$fO=!1;this.$VO(b,c,h);this.$dO(a,
d)},$VO:function(a,b,c){this.$eO.beginPath();this.$eO.arc(a,b,c,0,6.283185307179586);this.$eO.closePath()},drawEllipse:function(a,b,c,h,d,e){this.$fO=!1;this.$WO(b,c,h,d);this.$cO(a)},fillEllipse:function(a,b,c,h,d,e){this.$fO=!1;this.$WO(b,c,h,d);this.$bO(a)},strokeEllipse:function(a,b,c,h,d,e,f){this.$fO=!1;this.$WO(b,c,h,d);this.$dO(a,e)},$WO:function(a,b,c,h){var d=0.5522848*c,e=0.5522848*h,f=a-c,g=b-h;c=a+c;h=b+h;this.$eO.beginPath();this.$eO.moveTo(f,b);this.$eO.bezierCurveTo(f,b-e,a-d,g,a,
g);this.$eO.bezierCurveTo(a+d,g,c,b-e,c,b);this.$eO.bezierCurveTo(c,b+e,a+d,h,a,h);this.$eO.bezierCurveTo(a-d,h,f,b+e,f,b);this.$eO.closePath()},fillArc:function(a,b,c,h,d,e,f){this.$fO=!1;e=d+e;this.$eO.beginPath();this.$eO.moveTo(b,c);this.$eO.arc(0,0,h,3.141592653589793*d/180,3.141592653589793*e/180);this.$bO(a)},strokeArc:function(a,b,c,h,d,e,f,g){this.$fO=!1;c=d+e;this.$eO.beginPath();this.$eO.arc(b,b,h,3.141592653589793*d/180,3.141592653589793*c/180);this.$dO(a,f)},strokeLines:function(a,b,
c){this.$fO=!1;this.$XO(b);this.$eO.lineWidth=c;this.$eO.strokeStyle=this.$ZO(a);this.$eO.stroke()},drawLines:function(a,b,c){this.$fO=!1;this.$XO(b);this.$eO.lineWidth=c;this.$eO.strokeStyle=this.$aO(a);this.$eO.stroke()},$XO:function(a){this.$eO.beginPath();if(2<=a.length){this.$eO.moveTo(a[0],a[1]);for(var b=2,c=a.length;b<c;){var h=a[b++],d=a[b++];this.$eO.lineTo(h,d)}}},multiplyAlpha:function(a){this.$eO.globalAlpha*=a},setAlpha:function(a){this.$eO.globalAlpha=a},tint:function(a,b,c){var h=
this.$gO;h.$MK*=a;h.$OK*=b;h.$QK*=c;h.$iO=!0},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this.$eO.globalCompositeOperation=b},beginMask:function(){var a=this.$gO;a.$jO&&this.endMask();a.$jO=!0;this.$eO.beginPath()},endMask:function(){var a=this.$gO;a.$jO&&(a.$jO=!1,this.$eO.clip())},applyScissor:function(a,b,c,h){this.$eO.beginPath();this.$eO.rect(a|
0,b|0,c|0,h|0);this.$eO.clip()},willRender:function(){this.$fO=!0},didRender:function(){},onResize:function(a,b){},$ZO:function(a){var b=this.$gO;b.$iO&&(a=(b.$MK*(a&16711680)/16711680*255&255)<<16|(b.$OK*(a&65280)/65280*255&255)<<8|b.$QK*(a&255)/255*255&255);return B.$DQ(a)},$aO:function(a){return this.$gO.$iO?(a=this.$SO(a.$SL.$uO,a.$TL,a.$UL,a.$vH,a.$wH),this.$eO.createPattern(a,"repeat")):a.$nO()},$bO:function(a){this.$gO.$jO||(this.$eO.fillStyle=this.$ZO(a),this.$eO.fill())},$cO:function(a){this.$gO.$jO||
(this.$eO.fillStyle=this.$aO(a),this.$eO.fill())},$dO:function(a,b){this.$gO.$jO||(this.$eO.strokeStyle=this.$ZO(a),this.$eO.lineWidth=b,this.$eO.stroke())},__class__:X};var qd=function(){this.$kO=this.next=null;this.$iO=this.$jO=!1;this.$MK=this.$OK=this.$QK=1};m.$CpB=qd;qd.__name__=["$CpB"];qd.prototype={__class__:qd};var hc=function(a){this.graphics=new X(a,!1);this.$mO=new ea(!0)};m.$CqB=hc;hc.__name__=["$CqB"];hc.__interfaces__=[Qb];hc.prototype={get_filterSupported:function(){return!1},createTextureFromImage:function(a,
b,c){null==c&&(c=1);a=new Sb(a,c);return a.createTexture(a.$qO/c,a.$rO/c)},createTexture:function(a,b,c,h){null==h&&(h=1);a=B.$9P(a,b);return this.createTextureFromImage(a,null,h)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:hc,__properties__:{get_filterSupported:"get_filterSupported"}};var rd=function(a,b,c){this.$pO=0;this.$oO=null;Qa.call(this,a,b,c)};m.$CrB=rd;rd.__name__=["$CrB"];rd.__super__=
Qa;rd.prototype=y(Qa.prototype,{$nO:function(){if(this.$pO!=this.$SL.$vO||null==this.$oO)this.$pO=this.$SL.$vO,this.$oO=this.$SL.$xO(this.$TL,this.$UL,this.$vH,this.$wH);return this.$oO},__class__:rd});var Sb=function(a,b){this.$zO=null;this.$vO=0;this.$tK=!1;this.$uO=a;this.$qO=a.width;this.$rO=a.height;this.$SG=b;this.$sO=this.$qO/b;this.$tO=this.$rO/b};m.$CsB=Sb;Sb.__name__=["$CsB"];Sb.__interfaces__=[pd];Sb.__super__=aa;Sb.prototype=y(aa.prototype,{createTexture:function(a,b){return new rd(this,
Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$zO&&(this.$yO(),this.$zO=new sd(this));return this.$zO},clear:function(){var a=this.$yO();a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.$uO.width,this.$uO.height);a.restore()},renderFilter:function(a,b,c){},$xO:function(a,b,c,h){var d=this.$yO(),e=this.$uO;if(0!=a||0!=b||c!=this.$sO||h!=this.$tO)e=B.$9P(c,h),c=e.getContext("2d",null),c.globalCompositeOperation="copy",c.drawImage(this.$uO,-a,-b);return d.createPattern(e,"repeat")},
$yO:function(){U.__instanceof(this.$uO,HTMLCanvasElement)||(this.$uO=B.$$P(this.$uO));return this.$uO.getContext("2d",null)},$rK:function(){B.$IQ(this.$uO.src);this.$zO=this.$uO=null},__class__:Sb});var sd=function(a){X.call(this,a.$uO,!0);this.$0O=a};m.$CtB=sd;sd.__name__=["$CtB"];sd.__super__=X;sd.prototype=y(X.prototype,{drawTexture:function(a,b,c){X.prototype.drawTexture.call(this,a,b,c);++this.$0O.$vO},drawSubTexture:function(a,b,c,h,d,e,f){X.prototype.drawSubTexture.call(this,a,b,c,h,d,e,f);
++this.$0O.$vO},drawPattern:function(a,b,c,h,d){X.prototype.drawPattern.call(this,a,b,c,h,d);++this.$0O.$vO},fillRect:function(a,b,c,h,d){X.prototype.fillRect.call(this,a,b,c,h,d);++this.$0O.$vO},fillTriangles:function(a,b,c){X.prototype.fillTriangles.call(this,a,b,c);++this.$0O.$vO},drawTriangles:function(a,b,c,d){X.prototype.drawTriangles.call(this,a,b,c);++this.$0O.$vO},drawCircle:function(a,b,c,d,e){null==e&&(e=50);X.prototype.drawCircle.call(this,a,b,c,d,e);++this.$0O.$vO},fillCircle:function(a,
b,c,d,e){null==e&&(e=50);X.prototype.fillCircle.call(this,a,b,c,d,e);++this.$0O.$vO},drawEllipse:function(a,b,c,d,e,f){null==f&&(f=50);X.prototype.drawEllipse.call(this,a,b,c,d,e,f);++this.$0O.$vO},fillEllipse:function(a,b,c,d,e,f){null==f&&(f=50);X.prototype.fillEllipse.call(this,a,b,c,d,e,f);++this.$0O.$vO},strokeLines:function(a,b,c){X.prototype.strokeLines.call(this,a,b,c);++this.$0O.$vO},drawLines:function(a,b,c){X.prototype.drawLines.call(this,a,b,c);++this.$0O.$vO},__class__:sd});var R=function(a,
b){Lb.call(this,a,b)};m.$CvB=R;R.__name__=["$CvB"];R.$6O=function(a){var b=[z.PNG,z.JPG,z.GIF],c=1,d=window.document.createElement("img");d.onload=d.onerror=function(e){1==d.width&&b.unshift(z.WEBP);c-=1;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="};R.$7O=function(){var a=window.document.createElement("audio");if(null==a||null==r(a,a.canPlayType))return[];var b=new db("\\b(iPhone|iPod|iPad|Android)\\b",""),c=window.navigator.userAgent;if(!M.get_supported()&&
b.match(c))return[];b=[];b.push({format:z.MP3,mimeType:"audio/mpeg"});b.push({format:z.MP4,mimeType:"video/mp4"});for(var c=[{format:z.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:z.WAV,mimeType:"audio/wav"},{format:z.WEBM,mimeType:"video/webm"}],b=0<=window.navigator.userAgent.indexOf("2DKSim")?c:b.concat(c),c=[],d=0;d<b.length;){var e=b[d];++d;var f="";try{f=a.canPlayType(e.mimeType)}catch(g){}""!=f&&c.push(e.format)}return c};R.$8O=function(a){var b=++R.$EP;null==R.$DP&&(R.$DP=new Ga);R.$DP.h[b]=
a;return b};R.$9O=function(a){R.$DP.remove(a)};R.__super__=Lb;R.prototype=y(Lb.prototype,{$zK:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:var d=window.document.createElement("img"),e=new xb;e.$CM(d,"load",function(a){a=c.$3F.getRenderer().createTextureFromImage(d,null,1);null!=a?c.$1K(b,a):c.$5K(b)});e.$CM(d,"error",function(a){B.$IQ(d.src);c.$4K(b,"Failed to load image")});e="data:"==C.substr(a,0,5);!e&&B.$JQ()?this.$4O(a,b,"blob",function(a){d.src=B.$HQ(a)}):(e||(d.crossOrigin=
""),d.src=a);break;case 7:case 8:case 9:case 10:case 11:if(M.get_supported())this.$4O(a,b,"arraybuffer",function(a){M.$fQ.decodeAudioData(a,function(a){c.$1K(b,new M(a))},function(){var a=Da.$8L();c.$1K(b,a)})});else{var f=window.document.createElement("audio");f.preload="auto";var g=R.$8O(f),e=new xb;e.$CM(f,"canplaythrough",function(a){R.$9O(g);c.$1K(b,new Tb(f))});e.$CM(f,"error",function(a){R.$9O(g);a=f.error.code;3==a||4==a?(a=Da.$8L(),c.$1K(b,a)):c.$4K(b,"Failed to load audio: "+f.error.code)});
e.$BM(f,"progress",function(a){0<f.buffered.length&&0<f.duration&&(a=f.buffered.end(0)/f.duration,c.$2K(b,a*b.bytes|0,b.bytes))});f.src=a;f.load()}break;case 12:case 13:case 14:(function(a){var d="_kit_font_"+R.$FP;++R.$FP;if("undefined"!=typeof FontFace)(new FontFace(d,"url("+a+")",{})).load().then(function(h){window.document.fonts.add(h);c.$1K(b,new yb(d,h,null,a))},function(d){B.$IQ(a);c.$4K(b,d.message)});else{var h=window.document.createElement("style");h.innerHTML="@font-face{font-family:"+
d+";src:url("+a+");}";window.document.head.appendChild(h);var e=window.document.createElement("canvas").getContext("2d",null);e.font="300px sans";var f=e.measureText("BESbswy").width;e.font='300px "'+d+'"';var p=Date.now()/1E3,g=null,g=function(){var k=Date.now()/1E3-p,l=e.measureText("BESbswy").width;5<=k||f!=l?c.$1K(b,new yb(d,null,h,a)):n.$3F.$FF.$6N(g)};n.$3F.$FF.$6N(g)}})(a);break;case 16:case 17:var k=window.document.createElement("video");k.preload="metadata";var l=R.$8O(k),e=new xb;e.$CM(k,
"loadedmetadata",function(a){R.$9O(l);c.$1K(b,new Ub(k))});e.$CM(k,"error",function(a){R.$9O(l);c.$4K(b,"Failed to load video: "+k.error.code)});k.src=a;k.load();break;case 18:this.$4O(a,b,"text",function(a){c.$1K(b,new Mb(a))})}},$0K:function(a){var b=this;null==R.$CP&&(R.$CP=new ka,R.$6O(function(a){var d=window.navigator.isCocoonJS?[z.TTF,z.WOFF]:[z.WOFF,z.OTF,z.TTF];a=b.$3F.getRenderer().getTextureAssetFormats().concat(a).concat(R.$7O()).concat(d).concat([z.Data]);R.$CP.success(a)}));R.$CP.then(a)},
$4O:function(a,b,c,d){this.$5O(a,b,c,d)},$5O:function(a,b,c,d){var e=this,f=null,g=null,k=0,l=!1,m=function(){l&&(l=!1,window.clearInterval(k))},n=3,q=function(){n-=1;return 0<=n?(g(),!0):!1},g=function(){m();null!=f&&f.abort();f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType=c;var g=0;f.onprogress=function(a){l||(l=!0,k=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!q()&&(m(),e.$4K(b,"Download stalled"))},1E3));g=Date.now();e.$2K(b,a.loaded,a.total)};f.onerror=function(a){0==
f.status&&q()||(m(),e.$4K(b,"HTTP error "+f.status))};f.onload=function(a){a=f.response;null==a&&(a=f.responseText);m();d(a)};f.send()};g()},__class__:R});var ye=function(){};m["kit.subsystem.ExternalSystem"]=ye;ye.__name__=["kit","subsystem","ExternalSystem"];ye.prototype={__class__:ye};var fc=function(){};m.$CyB=fc;fc.__name__=["$CyB"];fc.__interfaces__=[ye];fc.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,d=c,e=0,f=a.split(".");e<f.length;){var g=f[e];++e;c=d;d=Y.field(c,g)}return d.apply(c,
b)},__class__:fc};var bc=function(a,b){za.call(this,a);this.$aF=b};m.$C2B=bc;bc.__name__=["$C2B"];bc.__super__=za;bc.prototype=y(za.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this.$aF.style.cursor=b;return za.prototype.set_cursor.call(this,a)},__class__:bc});var Tb=function(a){this.$tK=!1;this.$gP=a};m.$C3B=Tb;Tb.__name__=["$C3B"];Tb.__interfaces__=[vb];Tb.__super__=aa;Tb.prototype=y(aa.prototype,{play:function(a){null==a&&(a=1);
return new Vb(this,a,!1)},loop:function(a){null==a&&(a=1);return new Vb(this,a,!0)},$rK:function(){this.$gP=null},__class__:Tb});var Vb=function(a,b,c){this.$nP=!1;var d=this;this.$$L=a;this.$VP=!1;this.$jP=window.document.createElement("audio");this.$jP.loop=c;this.$jP.src=a.$gP.src;this.volume=new P(b,function(a,b){d.$iP()});this.$iP();this.$_L=new ea(!1);this.$hP();n.hidden.$iF&&this.set_paused(!0)};m.$C4B=Vb;Vb.__name__=["$C4B"];Vb.__interfaces__=[Rb,wb];Vb.prototype={set_paused:function(a){a!=
this.$nP&&((this.$nP=a)?this.$jP.pause():this.$hP());return a},update:function(a){this.volume.update(a);this.$_L.set__(this.$jP.ended);return this.$_L.$iF||this.$nP?(this.$VP=!1,this.$kP.dispose(),this.$lP.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$_L.set__(!0)},$hP:function(){var a=this;this.$jP.play();this.$VP||(Ra.$gF.$FF.$4N(this),this.$VP=!0,this.$kP=n.volume.get_changed().connect(function(b,c){a.$iP()}),this.$lP=n.hidden.get_changed().connect(function(b,c){b?(a.$mP=a.$nP,
a.set_paused(!0)):a.set_paused(a.$mP)}))},$iP:function(){this.$jP.volume=Ta.clamp(n.volume.$iF*this.volume.$iF,0,1)},__class__:Vb,__properties__:{set_paused:"set_paused"}};var ze=function(){};m["kit.subsystem.StageSystem"]=ze;ze.__name__=["kit","subsystem","StageSystem"];ze.prototype={__class__:ze,__properties__:{get_height:"get_height",get_width:"get_width"}};var ac=function(a){this.orientation=new ea(null);var b=this;this.$aF=a;this.resize=new ob;window.addEventListener("resize",r(this,this.$oP),
!1);this.$oP(null);this.fullscreen=new ea(!1);B.$5P(window.document,"fullscreenchange",function(a){b.$rP()},!1);this.$rP()};m.$C5B=ac;ac.__name__=["$C5B"];ac.__interfaces__=[ze];ac.prototype={get_width:function(){return this.$aF.width},get_height:function(){return this.$aF.height},get_fullscreenSupported:function(){return!0==B.$2P(["fullscreenEnabled","fullScreenEnabled"],window.document).value},lockOrientation:function(a){var b=B.$1P("lockOrientation",window.screen).value;if(null!=b){var c;switch(a[1]){case 0:c=
"portrait";break;case 1:c="landscape"}b.apply(window.screen,[c])}},requestFullscreen:function(a){null==a&&(a=!0);var b=B.$2P(["fullscreenElement","fullScreenElement"],window.document).value;if(a){a=window.document.documentElement;var c=B.$2P(["requestFullscreen","requestFullScreen"],a).value;null==b&&null!=c&&c.apply(a,[{navigationUI:"hide"}])}else a=B.$2P(["exitFullscreen","cancelFullscreen","cancelFullScreen"],window.document).value,null!=b&&null!=a&&a.apply(window.document,[])},$oP:function(a){var b=
this.$aF.parentElement.getBoundingClientRect();!B.$wP||90!=window.orientation&&-90!=window.orientation?this.$pP(b.width,b.height):(a=Math.min(window.innerWidth,b.width),b=Math.min(window.innerHeight,b.height),this.$pP(a,b)&&window.scrollTo(window.scrollX,window.scrollY));this.$qP()},$pP:function(a,b){var c=B.$EQ(),d=c*a,c=c*b;if(this.$aF.width==d&&this.$aF.height==c)return!1;this.$aF.width=d|0;this.$aF.height=c|0;this.$aF.style.width=a+"px";this.$aF.style.height=b+"px";this.resize.emit();return!0},
$qP:function(){null==window.orientation?this.orientation.set__(null):this.orientation.set__(window.innerWidth>window.innerHeight?Va.Landscape:Va.Portrait)},$rP:function(){var a=B.$2P(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.fullscreen.set__(!0==a)},__class__:ac,__properties__:{get_fullscreenSupported:"get_fullscreenSupported",get_height:"get_height",get_width:"get_width"}};var B=function(){};m.$C9B=B;B.__name__=["$C9B"];B.$0P=function(a,b){null==b&&(b=0);window.setTimeout(a,
b)};B.$1P=function(a,b){null==b&&(b=window);var c=Y.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+C.substr(a,1,null),d=0,e=B.$vP;d<e.length;){var f=e[d];++d;var g=f+c,k=Y.field(b,g);if(null!=k)return{prefix:f,field:g,value:k}}return{prefix:null,field:null,value:null}};B.$2P=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=B.$1P(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};B.$3P=function(a,b){null==b&&(b=window);var c=
B.$1P(a,b).value;if(null==c)return!1;b[a]=c;return!0};B.$4P=function(a,b,c){a=a.style;for(var d=0,e=B.$vP;d<e.length;){var f=e[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};B.$5P=function(a,b,c,d){for(var e=0,f=B.$vP;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)};B.$9P=function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c};B.$$P=function(a){var b=B.$9P(a.width,a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation=
"copy";c.drawImage(a,0,0);c.restore();return b};B.$CQ=function(a,b,c){var d=a.getContext("2d",null);d.drawImage(a,b-1,0,1,c,b,0,1,c);d.drawImage(a,0,c-1,b,1,0,c,b,1)};B.$DQ=function(a){for(a=(16777215&a).toString(16);6>a.length;)a="0"+Q.string(a);return"#"+Q.string(a)};B.$EQ=function(){var a=window.devicePixelRatio;null==a&&(a=1);return a};B.$FQ=function(a){return 157286400};B.$HQ=function(a){return B.$JQ()?B.$MQ.createObjectURL(a):null};B.$IQ=function(a){B.$JQ()&&B.$MQ.revokeObjectURL(a)};B.$JQ=
function(){if(B.$LQ){B.$LQ=!1;if(null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;B.$MQ=B.$1P("URL").value}return null!=B.$MQ?null!=B.$MQ.createObjectURL:!1};var yb=function(a,b,c,d){this.$tK=!1;this.$$I=a;this.$OQ=b;this.$PQ=c;this.$QQ=d};m.$C$B=yb;yb.__name__=["$C$B"];yb.__interfaces__=[Ne];yb.__super__=aa;yb.prototype=y(aa.prototype,{$rK:function(){null!=this.$OQ&&(window.document.fonts["delete"](this.$OQ),
this.$OQ=null);B.$IQ(this.$QQ);null!=this.$PQ&&(null!=this.$PQ.parentNode&&this.$PQ.parentNode.removeChild(this.$PQ),this.$PQ=null)},__class__:yb});var Ub=function(a){this.$tK=!1;this.$YQ=a};m.$CBC=Ub;Ub.__name__=["$CBC"];Ub.__interfaces__=[Nb];Ub.__super__=aa;Ub.prototype=y(aa.prototype,{play:function(a){null==a&&(a=1);return new td(this,a,!1)},get_width:function(){return this.$YQ.videoWidth},get_height:function(){return this.$YQ.videoHeight},$rK:function(){this.$YQ=null},__class__:Ub,__properties__:{get_height:"get_height",
get_width:"get_width"}});var td=function(a,b,c){this.$xH=null;this.$nP=!1;var d=this;this.$AM=a;this.$jP=window.document.createElement("video");this.$jP.loop=c;null!=a.$YQ.srcObject?this.$jP.srcObject=a.$YQ.srcObject:(this.$jP.src=a.$YQ.src,0<=window.navigator.userAgent.indexOf("2DKSim")&&(this.$jP.src+="?"+Math.random()));this.$jP.width=a.$YQ.videoWidth;this.$jP.height=a.$YQ.videoHeight;this.$jP.muted=a.$YQ.muted;this.$jP.setAttribute("playsinline","");this.$jP.setAttribute("webkit-playsinline",
"");this.volume=new P(b,function(a,b){d.$iP()});this.$iP();this.$_L=new ea(!1);this.$aQ();n.hidden.$iF&&this.set_paused(!0)};m.$CCC=td;td.__name__=["$CCC"];td.__interfaces__=[Rb,Ob];td.prototype={get_texture:function(){null==this.$xH&&(this.$xH=n.$3F.$MF.createTextureFromImage(this.$jP,fa.RGB));return this.$xH},get_video:function(){return this.$AM},set_paused:function(a){a!=this.$nP&&((this.$nP=a)?this.$jP.pause():this.$aQ());return a},update:function(a){this.volume.update(a);this.$_L.set__(this.$jP.ended);
return this.$_L.$iF||this.$nP?(this.$VP=!1,this.$kP.dispose(),this.$lP.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$_L.set__(!0);null!=this.$xH&&this.$xH.dispose();var a=this.$jP.srcObject,b=a instanceof MediaStream?a:null;if(null!=b)for(a=0,b=b.getVideoTracks();a<b.length;){var c=b[a];++a;c.stop()}},$aQ:function(){var a=this;this.$jP.play();this.$VP||(Ra.$gF.$FF.$4N(this),this.$VP=!0,this.$kP=n.volume.get_changed().connect(function(b,c){a.$iP()}),this.$lP=n.hidden.get_changed().connect(function(b,
c){b?(a.$mP=a.$nP,a.set_paused(!0)):a.set_paused(a.$mP)}))},$iP:function(){this.$jP.volume=n.volume.$iF*this.volume.$iF},__class__:td,__properties__:{get_video:"get_video",get_texture:"get_texture",set_paused:"set_paused"}};var M=function(a){this.$tK=!1;this.$eQ=a};m.$CFC=M;M.__name__=["$CFC"];M.__interfaces__=[vb];M.__properties__={get_supported:"get_supported"};M.get_supported=function(){if(M.$lQ){M.$lQ=!1;var a=B.$1P("AudioContext").value;if(null!=a&&(M.$fQ=new a,M.$gQ=M.$hQ(),M.$gQ.connect(M.$fQ.destination),
n.volume.watch(function(a,b){M.$gQ.gain.value=a}),n.$3F.$OF.down.connect(function(a){(new M(M.$kQ())).play()}).once(),a=function(a){"suspended"==M.$fQ.state&&M.$fQ.resume()},n.$3F.$OF.down.connect(a),n.$3F.$OF.up.connect(a),n.$3F.$KF.down.connect(a),n.$3F.$KF.up.connect(a),B.$wP))var b=null,b=n.$3F.$OF.up.connect(function(a){var d=(new M(M.$kQ())).play();B.$0P(function(){var a=d.$qQ();(null==a||2<=a)&&b.dispose()})})}return null!=M.$fQ};M.$hQ=function(){return null!=M.$fQ.createGain?M.$fQ.createGain():
M.$fQ.createGainNode()};M.$iQ=function(a,b){null!=a.start?a.start(0,b):a.noteOn(0,b)};M.$jQ=function(a){null!=a.stop?a.stop(0):a.noteOff(0)};M.$kQ=function(){null==M.$mQ&&(M.$mQ=M.$fQ.createBuffer(1,1,22050));return M.$mQ};M.__super__=aa;M.prototype=y(aa.prototype,{play:function(a){null==a&&(a=1);return new Wb(this,a,!1)},loop:function(a){null==a&&(a=1);return new Wb(this,a,!0)},get_duration:function(){return this.$eQ.duration},$rK:function(){this.$eQ=null},__class__:M,__properties__:{get_duration:"get_duration"}});
var Wb=function(a,b,c){this.$wQ=0;this.$rQ=-1;var d=this;this.$$L=a;this.$vF=M.$gQ;this.$_L=new ea(!1);this.$vQ=c;this.$KG=a.get_duration();this.volume=new P(b,function(a,b){null!=d.$tQ&&d.$oQ(a)});this.$hP(0);n.hidden.$iF&&this.set_paused(!0)};m.$CGC=Wb;Wb.__name__=["$CGC"];Wb.__interfaces__=[Rb,wb];Wb.prototype={set_paused:function(a){a!=0<=this.$rQ&&(a?(this.$nQ(),this.$rQ=this.get_position()):(this.$_L.$iF||this.$hP(this.$rQ),this.$rQ=-1));return a},get_position:function(){return this.$_L.$iF?
this.$KG:0<=this.$rQ?this.$rQ:(M.$fQ.currentTime-this.$sQ+this.$wQ)%this.$KG},update:function(a){this.volume.update(a);null!=this.$tQ&&3==this.$tQ.playbackState&&this.$_L.set__(!0);return this.$_L.$iF||0<=this.$rQ?(this.$VP=!1,this.$lP.dispose(),this.$nQ(),!0):!1},$nQ:function(){if(null!=this.$tQ){M.$jQ(this.$tQ);this.$tQ.disconnect();this.$tQ.onended=null;if(B.$wP){var a=M.$kQ();try{this.$tQ.buffer=a}catch(b){}}this.$tQ=null}},dispose:function(){this.set_paused(!0);this.$_L.set__(!0)},$oQ:function(a){null==
this.$uQ&&(this.$uQ=M.$hQ(),this.$pQ(this.$uQ));this.$uQ.gain.value=a},$pQ:function(a){0<=this.$rQ||(this.$tQ.disconnect(),this.$tQ.connect(a));a.connect(this.$vF);this.$vF=a},$hP:function(a){var b=this;this.$tQ=M.$fQ.createBufferSource();this.$tQ.buffer=this.$$L.$eQ;this.$tQ.loop=this.$vQ;this.$tQ.onended=function(){b.$_L.set__(!0)};M.$iQ(this.$tQ,0>a?0:a);this.$tQ.connect(this.$vF);this.$wQ=0<=this.$rQ?this.$rQ:0;this.$sQ=M.$fQ.currentTime;1==this.volume.$iF&&null==this.$uQ||this.$oQ(this.volume.$iF);
this.$VP||(Ra.$gF.$FF.$4N(this),this.$VP=!0,this.$lP=n.hidden.get_changed().connect(function(a,d){a?(b.$mP=0<=b.$rQ,b.set_paused(!0)):b.set_paused(b.$mP)}))},$qQ:function(){return null!=this.$tQ?this.$tQ.playbackState:3},__class__:Wb,__properties__:{get_position:"get_position",set_paused:"set_paused"}};var Ae=function(a){this.$wR=new V;this.$vR=(new md).$lL(157286400).$nL(function(a,b){return a.$GS()});this.$pR=this.$qR=this.$rR=this.$sR=this.$tR=this.$uR=0;this.$hR=[];this.$eR=!0;this.$cR=!1;this.$aR=
this.$bR=null;this.$ZR=!1;this.$YR=null;this.$XR=0;this.$TR=this.$UR=this.$jI=this.$VR=this.$WR=null;this.$SR=!1;this.$RR=null;this.$QR=new oa;this.$PR=0;this.$NR=this.$OR=null;this.$yQ=[];this.$xQ=null;var b=this;this.$MR=a;this.$vR.$mL(function(a,d){b.$$Q(a,d)});this.$vR.$lL(B.$FQ(a));n.lowMemoryWarning.connect(function(){b.$vR.dispose()});a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);a.pixelStorei(3317,1);this.$dR=a.createBuffer();a.bindBuffer(34962,this.$dR);this.$fR=a.createBuffer();
this.$gR=a.createBuffer();this.$OR=this.$fR;this.$iR=new zb(a,0);this.$jR=new zb(a,1);this.$kR=new zb(a,2);this.$lR=new Ab(a,0);this.$mR=new Ab(a,1);this.$nR=new Ab(a,2);this.$oR=new ud(a);this.$LR(16)};m.$CHC=Ae;Ae.__name__=["$CHC"];Ae.prototype={$zQ:function(a,b){this.$MR.viewport(0,0,a,b);this.$sR=a;this.$tR=b},$0Q:function(){this.$uR=this.$uR+1|0;this.$6Q(null)},$1Q:function(){this.$KR();this.$MR.flush()},$3Q:function(a){a==this.$jI&&(this.$KR(),this.$jI=null);this.$AR(a);null!=a.$FS?this.$$Q(a,
a.$FS):this.$vR.$sL(a)},$4Q:function(a){if(a.$ES){a.$ES=!1;var b=this.$vR.$sL(a,!1);null!=b?a.$FS=b:this.$7Q(a);a.$AS=null;a.$BS=null}},$5Q:function(){var a=this.$MR.createTexture();this.$8Q(a);this.$MR.texParameteri(3553,10242,33071);this.$MR.texParameteri(3553,10243,33071);this.$MR.texParameteri(3553,10240,9729);this.$MR.texParameteri(3553,10241,9729);return a},$6Q:function(a){this.$KR();this.$RR=null;null!=this.$TR&&(this.$TR=null,this.$MR.disable(3089));this.$_Q(a);this.$MR.clear(16384)},$7Q:function(a){var b=
a.$ES?this.$vR.$fL(a):a.$FS;if(null==b){b=this.$5Q();b=new Be(b);if(a.$ES){var c=!0;if(this.$vR.$vL+a.$GS()>this.$vR.$wL){var d=this.$vR.$pL();2>this.$uR-d.$DS&&(c=!1)}this.$vR.$oL(a,b,c)}else a.$FS=b;switch(a.$HS[1]){case 2:case 3:c=6407;break;default:c=6408}switch(a.$HS[1]){case 1:d=32819;break;case 3:d=33635;break;default:d=5121}var e=a.$AS,f;null!=e?(f=a.$AS,f=null==(f instanceof HTMLVideoElement?f:null)):f=!1;if(f){if(a.$qO!=e.width||a.$rO!=e.height)f=B.$9P(a.$qO,a.$rO),f.getContext("2d",null).drawImage(e,
0,0),B.$CQ(f,e.width,e.height),e=f;this.$MR.texImage2D(3553,0,c,c,d,e)}else this.$MR.texImage2D(3553,0,c,a.$qO,a.$rO,0,c,d,null)}a.$DS!=this.$uR&&(c=a.$AS,c=c instanceof HTMLVideoElement?c:null,null!=c&&2<=c.readyState&&(this.$8Q(b.$_R),this.$MR.texImage2D(3553,0,6407,6407,5121,c)));a.$DS=this.$uR;return b},$8Q:function(a){this.$bR!=a&&(this.$bR=a,this.$MR.bindTexture(3553,a))},$9Q:function(a){this.$aR!=a&&(a.$OS(this.$aR),this.$aR=a)},$$Q:function(a,b){a==this.$jI&&(this.$KR(),this.$jI=null);this.$MR.deleteTexture(b.$_R);
null!=b.$KK&&this.$MR.deleteTexture(b.$KK)},$_Q:function(a){if(this.$YR!=a)if(this.$YR=a,null!=a){var b=a.$CS,c=null;null==b&&(b=this.$MR.createFramebuffer(),a.$CS=b,this.$4Q(a),c=a.$FS.$_R);this.$MR.bindFramebuffer(36160,a.$CS);this.$MR.viewport(0,0,a.$qO,a.$rO);null!=c&&this.$MR.framebufferTexture2D(36160,36064,3553,c,0)}else this.$MR.bindFramebuffer(36160,null),this.$MR.viewport(0,0,this.$sR,this.$tR)},$AR:function(a){a==this.$RR&&(this.$KR(),this.$RR=null);null!=a.$CS&&(this.$MR.deleteFramebuffer(a.$CS),
a.$CS=null)},$BR:function(a,b,c,d,e,f){f.$SL!=this.$jI&&(this.$KR(),this.$jI=f.$SL);return this.$JR(a,b,c,d,e,this.$CR(f.$SL,e))},$CR:function(a,b){return b?this.$jR:null!=a.$BS&&a.$BS.separateAlpha?this.$kR:this.$iR},$DR:function(a,b,c,d,e,f){f.$SL!=this.$jI&&(this.$KR(),this.$jI=f.$SL);if(f.$TL!=this.$QR.x||f.$UL!=this.$QR.y||f.$vH!=this.$QR.width||f.$wH!=this.$QR.height)this.$KR(),this.$QR.set(f.$TL,f.$UL,f.$vH,f.$wH);return this.$JR(a,b,c,d,e,this.$ER(f.$SL,e))},$ER:function(a,b){return b?this.$mR:
null!=a.$BS&&a.$BS.separateAlpha?this.$nR:this.$lR},$FR:function(a,b,c,d,e){return this.$JR(a,b,c,d,e,this.$oR)},$GR:function(a,b,c,d,e,f){return this.$IR(a,b,c,d,e,this.$oR,f)},$HR:function(a,b,c,d,e,f,g){f.$SL!=this.$jI&&(this.$KR(),this.$jI=f.$SL);if(f.$TL!=this.$QR.x||f.$UL!=this.$QR.y||f.$vH!=this.$QR.width||f.$wH!=this.$QR.height)this.$KR(),this.$QR.set(f.$TL,f.$UL,f.$vH,f.$wH);return this.$IR(a,b,c,d,e,this.$ER(f.$SL,e),g)},$iI:function(a,b,c,d,e,f,g){a!=this.$RR&&(this.$KR(),this.$RR=a);b!=
this.$NR&&(this.$KR(),this.$NR=b);d!=this.$PR&&(this.$KR(),this.$PR=d);e!=this.$SR&&(this.$KR(),this.$SR=e);f!=this.$UR&&(this.$KR(),f.$iI(),this.$UR=f);g!=this.$OR&&(this.$KR(),this.$OR=g);if(null!=c||null!=this.$TR)null!=c&&null!=this.$TR&&this.$TR.equals(c)||(this.$KR(),this.$TR=null!=c?c.clone(this.$TR):null,this.$cR=!0)},$IR:function(a,b,c,d,e,f,g){this.$iI(a,b,c,d,e,f,this.$gR);a=this.$yQ.length;f=a/f.$MS|0;for(b=0;b<g.length;)c=g[b],++b,this.$hR.push(c+f);return a},$JR:function(a,b,c,d,e,f){this.$iI(a,
b,c,d,e,f,this.$fR);this.$pR>=this.$qR&&this.$LR(2*this.$qR);++this.$pR;a=this.$rR;this.$rR+=4*f.$MS;return a},$LM:function(a,b,c,d){var e=b.$zI(),f=this.$wR,f=null!=F[e]?f.getReserved(e):f.h[e];if(null==f){var f=new vd(this.$MR,this,b.$2I,b.$1I),g=this.$wR;null!=F[e]?g.setReserved(e,f):g.h[e]=f}e=this.$JR(a,T.Copy,null,0,!1,f);g=this.$xQ;this.$jI=null;var k=c/a.$sO,l=d/a.$tO,m=2*k-1,n=2*l-1;g[e]=-1;g[++e]=-1;g[++e]=0;g[++e]=0;g[++e]=m;g[++e]=-1;g[++e]=k;g[++e]=0;g[++e]=m;g[++e]=n;g[++e]=k;g[++e]=
l;g[++e]=-1;g[++e]=n;g[++e]=0;g[++e]=l;this.$_Q(a);this.$9Q(f);f.$iS(b,a,c,d);this.$KR()},$KR:function(){if(this.$OR==this.$fR){if(1>this.$pR)return}else if(1>this.$hR.length)return;this.$_Q(this.$RR);if(this.$NR!=this.$VR){switch(this.$NR[1]){case 0:this.$MR.blendFunc(1,771);break;case 1:this.$MR.blendFunc(1,1);break;case 2:this.$MR.blendFunc(774,771);break;case 3:this.$MR.blendFunc(1,769);break;case 4:this.$MR.blendFunc(0,770);break;case 5:this.$MR.blendFunc(1,0)}this.$VR=this.$NR}if(this.$PR!=
this.$XR){if(0<this.$PR)if(0==this.$XR&&this.$MR.enable(2960),this.$SR){var a=1<<this.$PR-1;this.$MR.stencilMask(a);this.$XR<this.$PR&&this.$MR.clear(1024);this.$MR.stencilFunc(514,a-1,255)}else a=(1<<this.$PR)-1,this.$MR.stencilFunc(514,a,a);else this.$MR.disable(2960);this.$XR=this.$PR}this.$SR!=this.$ZR&&(this.$SR?(this.$MR.stencilMask(1<<this.$PR-1),this.$MR.clear(1024),this.$MR.colorMask(!1,!1,!1,!1),this.$MR.stencilFunc(514,(1<<this.$PR-1)-1,255),this.$MR.stencilOp(7680,7680,7682)):(this.$MR.colorMask(!0,
!0,!0,!0),a=(1<<this.$PR)-1,this.$MR.stencilFunc(514,a,a),this.$MR.stencilOp(7680,7680,7680)),this.$ZR=this.$SR);this.$cR&&(null!=this.$TR?(this.$MR.enable(3089),this.$MR.scissor(this.$TR.x|0,this.$TR.y|0,this.$TR.width|0,this.$TR.height|0)):this.$MR.disable(3089),this.$cR=!1);null!=this.$jI&&(a=this.$7Q(this.$jI),null!=a.$KK?(this.$MR.activeTexture(33985),this.$8Q(a.$_R),this.$MR.activeTexture(33984),this.$8Q(a.$KK)):this.$8Q(a.$_R));this.$9Q(this.$UR);this.$UR!=this.$lR&&this.$UR!=this.$mR&&this.$UR!=
this.$nR||this.$UR.$ZS(this.$QR.x/this.$jI.$sO,this.$QR.y/this.$jI.$tO,this.$QR.width/this.$jI.$sO,this.$QR.height/this.$jI.$tO);this.$OR!=this.$WR&&(this.$MR.bindBuffer(34963,this.$OR),this.$WR=this.$OR);if(this.$WR==this.$fR){if(this.$eR){this.$eR=!1;for(var a=new Uint16Array(6*this.$qR),b=0,c=this.$qR;b<c;){var d=b++,e=6*d,d=4*d;a[e]=d;a[e+1]=d+1;a[e+2]=d+2;a[e+3]=d+2;a[e+4]=d+3;a[e+5]=d}this.$MR.bufferData(34963,a,35044)}this.$MR.bufferData(34962,this.$xQ.subarray(0,this.$rR),35048);this.$MR.drawElements(4,
6*this.$pR,5123,0);this.$rR=this.$pR=0}else a=new Uint16Array(this.$hR),this.$MR.bufferData(34963,a,35048),this.$hR.length=0,this.$MR.bufferData(34962,new Float32Array(this.$yQ),35048),this.$yQ.length=0,this.$MR.drawElements(4,a.length,5123,0)},$LR:function(a){1024<a?this.$KR():(this.$qR=a,a=new Float32Array(32*a),null!=this.$xQ&&a.set(this.$xQ,0),this.$xQ=a,this.$eR=!0)},__class__:Ae};var Ea=function(a,b){this.$1R=this.$gO=null;null==Ea.$2R&&(Ea.$2R=new Float32Array(8));this.$0R=a;this.$0O=b};m.$CIC=
Ea;Ea.__name__=["$CIC"];Ea.__interfaces__=[Pb];Ea.prototype={save:function(){var a=this.$gO,b=this.$gO.next;null==b&&(b=new wd,b.$kO=a,a.next=b);a.$3R.clone(b.$3R);b.$MK=a.$MK;b.$OK=a.$OK;b.$QK=a.$QK;b.$KK=a.$KK;b.$YI=a.$YI;b.$ZI=null!=a.$ZI?a.$ZI.clone(b.$ZI):null;b.$4R=a.$4R;b.$5R=a.$5R;this.$gO=b},translate:function(a,b){var c=this.$gO.$3R;c.m02+=c.m00*a+c.m01*b;c.m12+=c.m10*a+c.m11*b},scale:function(a,b){var c=this.$gO.$3R;c.m00*=a;c.m10*=a;c.m01*=b;c.m11*=b},rotate:function(a){var b=this.$gO.$3R;
a=3.141592653589793*a/180;var c=Math.sin(a);a=Math.cos(a);var d=b.m00,e=b.m10,f=b.m01,g=b.m11;b.m00=d*a+f*c;b.m10=e*a+g*c;b.m01=f*a-d*c;b.m11=g*a-e*c},transform:function(a,b,c,d,e,f){var g=this.$gO;Ea.$$G.set(a,b,c,d,e,f);ya.multiply(g.$3R,Ea.$$G,g.$3R)},restore:function(){this.$gO=this.$gO.$kO},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,f,g){var k=this.$gO,l=a.$SL;b=this.$zR(b,c,f,g);c=l.$sO;l=l.$tO;d=(a.$TL+d)/c;e=(a.$UL+
e)/l;f=d+f/c;g=e+g/l;c=k.$MK;var l=k.$OK,m=k.$QK,n=k.$KK;a=this.$0R.$BR(this.$0O,k.$YI,k.$ZI,k.$4R,k.$5R,a);k=this.$0R.$xQ;k[a]=b[0];k[++a]=b[1];k[++a]=d;k[++a]=e;k[++a]=c;k[++a]=l;k[++a]=m;k[++a]=n;k[++a]=b[2];k[++a]=b[3];k[++a]=f;k[++a]=e;k[++a]=c;k[++a]=l;k[++a]=m;k[++a]=n;k[++a]=b[4];k[++a]=b[5];k[++a]=f;k[++a]=g;k[++a]=c;k[++a]=l;k[++a]=m;k[++a]=n;k[++a]=b[6];k[++a]=b[7];k[++a]=d;k[++a]=g;k[++a]=c;k[++a]=l;k[++a]=m;k[++a]=n},drawPattern:function(a,b,c,d,e){var f=this.$gO,g=a.$SL;b=this.$zR(b,
c,d,e);d/=g.$sO;e/=g.$tO;g=f.$MK;c=f.$OK;var k=f.$QK,l=f.$KK;a=this.$0R.$DR(this.$0O,f.$YI,f.$ZI,f.$4R,f.$5R,a);f=this.$0R.$xQ;f[a]=b[0];f[++a]=b[1];f[++a]=0;f[++a]=0;f[++a]=g;f[++a]=c;f[++a]=k;f[++a]=l;f[++a]=b[2];f[++a]=b[3];f[++a]=d;f[++a]=0;f[++a]=g;f[++a]=c;f[++a]=k;f[++a]=l;f[++a]=b[4];f[++a]=b[5];f[++a]=d;f[++a]=e;f[++a]=g;f[++a]=c;f[++a]=k;f[++a]=l;f[++a]=b[6];f[++a]=b[7];f[++a]=0;f[++a]=e;f[++a]=g;f[++a]=c;f[++a]=k;f[++a]=l},fillRect:function(a,b,c,d,e){var f=this.$gO;b=this.$zR(b,c,d,e);
c=f.$MK*(a&16711680)/16711680;d=f.$OK*(a&65280)/65280;a=f.$QK*(a&255)/255;e=f.$KK;var f=this.$0R.$FR(this.$0O,f.$YI,f.$ZI,f.$4R,f.$5R),g=this.$0R.$xQ;g[f]=b[0];g[++f]=b[1];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[2];g[++f]=b[3];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[4];g[++f]=b[5];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[6];g[++f]=b[7];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e},fillTriangles:function(a,b,c){var d=this.$gO,e=d.$3R,f=e.m00,g=e.m01,k=e.m02,l=e.m10,m=e.m11,e=e.m12,n=d.$MK*(a&
16711680)/16711680,q=d.$OK*(a&65280)/65280;a=d.$QK*(a&255)/255;var s=d.$KK;c=this.$0R.$GR(this.$0O,d.$YI,d.$ZI,d.$4R,d.$5R,c);for(var d=this.$0R.$yQ,r=0,u=b.length;r<u;){var t=b[r++],v=b[r++];d[c++]=t*f+v*g+k;d[c++]=t*l+v*m+e;d[c++]=n;d[c++]=q;d[c++]=a;d[c++]=s}},drawTriangles:function(a,b,c,d){var e=this.$gO,f=a.$SL,g=e.$3R,k=g.m00,l=g.m01,m=g.m02,n=g.m10,q=g.m11,g=g.m12,s=e.$MK,r=e.$OK,u=e.$QK,t=e.$KK;a=this.$0R.$HR(this.$0O,e.$YI,e.$ZI,e.$4R,e.$5R,a,c);c=this.$0R.$yQ;for(var v=e=0,w=b.length;v<
w;){var y=b[v++],z=b[v++];c[a++]=y*k+z*l+m;c[a++]=y*n+z*q+g;null!=d?(c[a++]=d[e++],c[a++]=d[e++]):(c[a++]=y/f.$sO,c[a++]=z/f.$tO);c[a++]=s;c[a++]=r;c[a++]=u;c[a++]=t}},fillPolygon:function(a,b){var c=ba.$FO(b);null!=c&&this.fillTriangles(a,b,c)},drawPolygon:function(a,b){var c=ba.$FO(b);null!=c&&this.drawTriangles(a,b,c)},drawCircle:function(a,b,c,d,e){null==e&&(e=50);var f=[],g=[];ba.$AO(f,g,b,c,d,d,e)&&this.drawTriangles(a,f,g)},fillCircle:function(a,b,c,d,e){null==e&&(e=50);var f=[],g=[];ba.$AO(f,
g,b,c,d,d,e)&&this.fillTriangles(a,f,g)},strokeCircle:function(a,b,c,d,e,f){null==f&&(f=50);var g=[],k=[];ba.$DO(g,k,b,c,d,d,e,f)&&this.fillTriangles(a,g,k)},drawEllipse:function(a,b,c,d,e,f){null==f&&(f=50);var g=[],k=[];ba.$AO(g,k,b,c,d,e,f)&&this.drawTriangles(a,g,k)},fillEllipse:function(a,b,c,d,e,f){null==f&&(f=50);var g=[],k=[];ba.$AO(g,k,b,c,d,e,f)&&this.fillTriangles(a,g,k)},strokeEllipse:function(a,b,c,d,e,f,g){null==g&&(g=50);var k=[],l=[];ba.$DO(k,l,b,c,d,e,f,g)&&this.fillTriangles(a,k,
l)},fillArc:function(a,b,c,d,e,f,g){null==g&&(g=50);var k=[],l=[];ba.$BO(k,l,b,c,d,3.141592653589793*e/180,3.141592653589793*f/180,g)&&this.fillTriangles(a,k,l)},strokeArc:function(a,b,c,d,e,f,g,k){null==k&&(k=50);var l=[],m=[];ba.$CO(l,m,b,c,d,3.141592653589793*e/180,3.141592653589793*f/180,g,k)&&this.fillTriangles(a,l,m)},strokeLines:function(a,b,c){var d=[],e=[];ba.$EO(d,e,b,c)&&this.fillTriangles(a,d,e)},drawLines:function(a,b,c){var d=[],e=[];ba.$EO(d,e,b,c)&&this.drawTriangles(a,d,e)},multiplyAlpha:function(a){this.$gO.$KK*=
a},setAlpha:function(a){this.$gO.$KK=a},tint:function(a,b,c){var d=this.$gO;d.$MK*=a;d.$OK*=b;d.$QK*=c},setBlendMode:function(a){this.$gO.$YI=a},beginMask:function(){var a=this.$gO;++a.$4R;a.$5R=!0},endMask:function(){this.$gO.$5R=!1},applyScissor:function(a,b,c,d){var e=this.$gO,f=Ea.$2R;f[0]=a;f[1]=b;f[2]=a+c;f[3]=b+d;e.$3R.transformArray(f,4,f);this.$1R.transformArray(f,4,f);a=f[0];b=f[1];c=f[2]-a;d=f[3]-b;0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);e.$6R(a,b,c,d)},willRender:function(){this.$0R.$0Q()},
didRender:function(){this.$0R.$1Q()},onResize:function(a,b){this.$gO=new wd;var c=null!=this.$0O?-1:1;this.$gO.$3R.set(2/a,0,0,-2*c/b,-1,c);this.$1R=new ya;this.$1R.set(2/a,0,0,2/b,-1,-1);this.$1R.invert()},$zR:function(a,b,c,d){c=a+c;d=b+d;var e=Ea.$2R;e[0]=a;e[1]=b;e[2]=c;e[3]=b;e[4]=c;e[5]=d;e[6]=a;e[7]=d;this.$gO.$3R.transformArray(e,8,e);return e},__class__:Ea};var wd=function(){this.$kO=this.next=null;this.$5R=!1;this.$4R=0;this.$MK=this.$OK=this.$QK=this.$KK=1;this.$ZI=null;this.$YI=T.Normal;
this.$3R=new ya};m.$CJC=wd;wd.__name__=["$CJC"];wd.prototype={$6R:function(a,b,c,d){if(null!=this.$ZI){var e=this.$ZI.x,e=e>a?e:a,f=this.$ZI.y,f=f>b?f:b,g=this.$ZI.x+this.$ZI.width;c=a+c;var k=this.$ZI.y+this.$ZI.height;d=b+d;a=e;b=f;c=(g<c?g:c)-e;c=0>c?0:c;d=(k<d?k:d)-f;d=0>d?0:d}else this.$ZI=new oa;this.$ZI.set(Math.round(a),Math.round(b),Math.round(c),Math.round(d))},__class__:wd};var gc=function(a,b){this.$9R=!1;var c=this;this.$mO=new ea(!0);this.$7R=b;this.$7I();if(0==b.getError()){this.$9R=
!0;var d=b.canvas;d.addEventListener("webglcontextlost",function(a){a.preventDefault();c.graphics=null;c.$mO.set__(!1)},!1);d.addEventListener("webglcontextrestored",function(a){c.$7I();c.$mO.set__(!0)},!1);a.resize.connect(r(this,this.$$R))}};m.$CKC=gc;gc.__name__=["$CKC"];gc.__interfaces__=[Qb];gc.prototype={get_filterSupported:function(){return!0},createTextureFromImage:function(a,b,c){null==c&&(c=1);var d=a.width,e=a.height,f=new Bb(this,d,e,c);null!=b&&b!=fa.COMPRESSED&&(f.$HS=b);f.$AS=a;return f.createTexture(d/
c,e/c)},createTexture:function(a,b,c,d){null==d&&(d=1);var e=new Bb(this,a,b,d);null!=c&&c!=fa.COMPRESSED&&(e.$HS=c);return e.createTexture(a/d,b/d)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},$$R:function(){if(null!=this.graphics){var a=this.$7R.canvas,b=a.width,a=a.height;this.$8R.$zQ(b,a);this.graphics.onResize(b,a)}},$7I:function(){this.$8R=new Ae(this.$7R);this.graphics=new Ea(this.$8R,null);this.$$R()},
__class__:gc,__properties__:{get_filterSupported:"get_filterSupported"}};var Be=function(a){this.$KK=null;this.$_R=a};m.$CLC=Be;Be.__name__=["$CLC"];Be.prototype={__class__:Be};var xd=function(a,b,c){Qa.call(this,a,b,c)};m.$CMC=xd;xd.__name__=["$CMC"];xd.__super__=Qa;xd.prototype=y(Qa.prototype,{__class__:xd});var Bb=function(a,b,c,d){this.$zO=null;this.$HS=fa.RGBA;this.$FS=null;this.$ES=!0;this.$DS=-1;this.$AS=this.$BS=this.$CS=null;this.$tK=!1;this.$MF=a;b=2>b?2:b;c=2>c?2:c;this.$qO=b;this.$rO=
c;this.$SG=d;this.$sO=b/d;this.$tO=c/d};m.$CNC=Bb;Bb.__name__=["$CNC"];Bb.__interfaces__=[pd];Bb.__super__=aa;Bb.prototype=y(aa.prototype,{createTexture:function(a,b){return new xd(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$zO&&(this.$zO=new Ea(this.$MF.$8R,this),this.$zO.onResize(this.$qO,this.$rO));return this.$zO},clear:function(){this.$MF.$8R.$6Q(this)},renderFilter:function(a,b,c){this.$MF.$8R.$LM(this,a,b,c)},$GS:function(){var a;switch(this.$HS[1]){case 1:a=2;break;
case 2:a=3;break;case 3:a=2;break;default:a=4}return a*this.$qO*this.$rO},$rK:function(){this.$MF.$8R.$3Q(this);null!=this.$AS&&B.$IQ(this.$AS.src);this.$zO=this.$FS=this.$CS=this.$BS=this.$AS=null},__class__:Bb});var pa=function(a){this.$XS=!0;this.$WS=-1;this.$VS=[];this.$SS=this.$TS=this.$US=null;this.$MS=0;this.$MR=a};m.$CRC=pa;pa.__name__=["$CRC"];pa.$YS=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b};pa.prototype={$NS:function(){},$iI:function(){null==this.$SS&&
(this.$SS=this.$MR.createProgram(),this.$NS(),this.$XS&&(this.$MR.detachShader(this.$SS,this.$TS),this.$MR.deleteShader(this.$TS),this.$TS=null,this.$MR.detachShader(this.$SS,this.$US),this.$MR.deleteShader(this.$US),this.$US=null))},$OS:function(a){this.$MR.useProgram(this.$SS);if(0>this.$WS){for(var b=this.$WS=0,c=this.$VS;b<c.length;){var d=c[b];++b;var e=d.$uS();d.$tS=this.$WS;this.$WS+=e}this.$VS=this.$VS.filter(function(a){return 0<=a.$sS});this.$VS.sort(function(a,b){return a.$sS-b.$sS})}if(null!=
a){b=a.$VS.length;for(c=this.$VS.length;b<c;)d=b++,this.$MR.enableVertexAttribArray(d);b=this.$VS.length;for(c=a.$VS.length;b<c;)d=b++,this.$MR.disableVertexAttribArray(d)}else for(b=0,c=this.$VS.length;b<c;)d=b++,this.$MR.enableVertexAttribArray(d);b=0;for(c=this.$VS.length;b<c;){var d=b++,e=this.$VS[d],f=null!=a?a.$VS[d]:null;null!=f&&f.$jL==e.$jL&&f.$6I==e.$6I&&a.$WS==this.$WS&&f.$tS==e.$tS||this.$MR.vertexAttribPointer(d,e.$jL,e.$6I,!1,this.$WS,e.$tS)}},$PS:function(a,b){b="precision mediump float;\n"+
b;this.$TS=pa.$YS(this.$MR,35633,a);this.$US=pa.$YS(this.$MR,35632,b);this.$MR.attachShader(this.$SS,this.$TS);this.$MR.attachShader(this.$SS,this.$US);this.$MR.linkProgram(this.$SS);this.$MR.useProgram(this.$SS)},$QS:function(a,b,c){a=this.$MR.getAttribLocation(this.$SS,a);this.$VS.push(new Ce(a,b,c));this.$MS+=b},$RS:function(a){return this.$MR.getUniformLocation(this.$SS,a)},__class__:pa};var Ab=function(a,b){this.$aS=this.$bS=this.$cS=this.$dS=-1;pa.call(this,a);this.$hS=b};m.$CSC=Ab;Ab.__name__=
["$CSC"];Ab.__super__=pa;Ab.prototype=y(pa.prototype,{$NS:function(){var a;switch(this.$hS){case 0:case 1:a="texture2D(u_texture, pos);";break;case 2:a="vec4(texture2D(u_textureRGB, pos).rgb, texture2D(u_texture, pos).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;",2==this.$hS?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {\nmediump vec2 pos = u_region.xy + mod(v_uv, u_region.zw);","lowp vec4 color = "+
a,1==this.$hS?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$PS("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",a);this.$QS("a_pos",2,5126);this.$QS("a_uv",2,5126);this.$QS("a_color",4,5126);this.$eS=this.$RS("u_texture");this.$gS=this.$RS("u_region");
this.$MR.uniform1i(this.$eS,0);2==this.$hS&&(this.$fS=this.$RS("u_textureRGB"),this.$MR.uniform1i(this.$fS,1))},$ZS:function(a,b,c,d){if(a!=this.$aS||b!=this.$bS||c!=this.$cS||d!=this.$dS)this.$aS=a,this.$bS=b,this.$cS=c,this.$dS=d,this.$MR.uniform4f(this.$gS,a,b,c,d)},__class__:Ab});var zb=function(a,b){pa.call(this,a);this.$hS=b};m.$CUC=zb;zb.__name__=["$CUC"];zb.__super__=pa;zb.prototype=y(pa.prototype,{$NS:function(){var a;switch(this.$hS){case 0:case 1:a="texture2D(u_texture, v_uv);";break;case 2:a=
"vec4(texture2D(u_textureRGB, v_uv).rgb, texture2D(u_texture, v_uv).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;",2==this.$hS?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {","lowp vec4 color = "+a,1==this.$hS?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$PS("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",
a);this.$QS("a_pos",2,5126);this.$QS("a_uv",2,5126);this.$QS("a_color",4,5126);this.$eS=this.$RS("u_texture");this.$jS(0);2==this.$hS&&(this.$fS=this.$RS("u_textureRGB"),this.$MR.uniform1i(this.$fS,1))},$jS:function(a){this.$MR.uniform1i(this.$eS,a)},__class__:zb});var ud=function(a){pa.call(this,a)};m.$CVC=ud;ud.__name__=["$CVC"];ud.__super__=pa;ud.prototype=y(pa.prototype,{$NS:function(){this.$PS("attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.$QS("a_pos",2,5126);this.$QS("a_rgb",3,5126);this.$QS("a_alpha",1,5126)},__class__:ud});var vd=function(a,b,c,d){this.$qS=new V;this.$oS=this.$pS=null;pa.call(this,a);this.$0R=b;null==c&&(c="void main () {\nvTextureCoord = aTextureCoord;\nvFilterCoord = aTextureCoord * uTextureSize/uFilterSize;\ngl_Position = vec4(aVertexPosition, 0, 1);\n}");this.$2I=c;this.$1I=d;this.$XS=!1};m.$CWC=vd;vd.__name__=["$CWC"];vd.__super__=
pa;vd.prototype=y(pa.prototype,{$NS:function(){var a=["precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\nattribute highp vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n#line 0",this.$2I].join("\n"),b=["varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\n#line 0",
this.$1I].join("\n");this.$PS(a,b);this.$QS("aVertexPosition",2,5126);this.$QS("aTextureCoord",2,5126);this.$pS=this.$MR.getUniformLocation(this.$SS,"uTextureSize");this.$oS=this.$MR.getUniformLocation(this.$SS,"uFilterSize");this.$2I=this.$1I=null},$iS:function(a,b,c,d){null!=this.$pS&&this.$MR.uniform2f(this.$pS,b.$qO,b.$rO);null!=this.$oS&&this.$MR.uniform2f(this.$oS,c,d);b=0;a=a.$0I;for(a=new Ia(a,a.arrayKeys());a.hasNext();){c=a.next();d=c.$4I;var e=this.$qS;d=null!=F[d]?e.getReserved(d):e.h[d];
if(null==d){d=new De(this.$MR.getUniformLocation(this.$SS,c.$4I));var e=c.$4I,f=this.$qS;null!=F[e]?f.setReserved(e,d):f.h[e]=d}d=d.$rS;if(null!=d)switch(c.$6I){case 0:this.$MR.uniform1f(d,c.$5I);break;case 1:this.$MR.uniform2fv(d,c.$5I);break;case 2:this.$MR.uniform3fv(d,c.$5I);break;case 3:this.$MR.uniform4fv(d,c.$5I);break;case 4:this.$MR.uniform1i(d,c.$5I);break;case 5:this.$MR.uniform2iv(d,c.$5I);break;case 6:this.$MR.uniform3iv(d,c.$5I);break;case 7:this.$MR.uniform4iv(d,c.$5I);break;case 8:this.$MR.uniformMatrix2fv(d,
!1,c.$5I);break;case 9:this.$MR.uniformMatrix3fv(d,!1,c.$5I);break;case 10:this.$MR.uniformMatrix4fv(d,!1,c.$5I);break;case 11:this.$MR.uniform1i(d,b),0!=b&&this.$MR.activeTexture(33984+b),++b,c=this.$0R.$7Q(c.$5I.$SL),this.$0R.$8Q(c.$_R)}}1<b&&this.$MR.activeTexture(33984)},__class__:vd});var De=function(a){this.$rS=a};m.$CXC=De;De.__name__=["$CXC"];De.prototype={__class__:De};var Ce=function(a,b,c){this.$tS=0;this.$sS=a;this.$jL=b;this.$6I=c};m.$CYC=Ce;Ce.__name__=["$CYC"];Ce.prototype={$uS:function(){return this.$jL*
(5126==this.$6I?4:1)},__class__:Ce};var Ee=function(){this.$1S=null};m["kit.scene.Director"]=Ee;Ee.__name__=["kit","scene","Director"];Ee.__super__=w;Ee.prototype=y(w.prototype,{get_entitySlot:function(){return 7},onAdded:function(){this.owner.addChild(this.$GJ)},onRemoved:function(){this.$zS();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this.$GJ.dispose()},onUpdate:function(a){null!=this.$1S&&this.$1S.$GF(a)&&this.$zS()},get_topScene:function(){var a=
this.scenes.length;return 0<a?this.scenes[a-1]:null},$KO:function(a){a=a.$CF[8];null!=a&&a.shown.emit()},$yS:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a].$CF[8];if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.$KO(a)},$zS:function(){null!=this.$1S&&(this.$1S.$2S(),this.$1S=null,this.$yS())},__class__:Ee,__properties__:y(w.prototype.__properties__,{get_topScene:"get_topScene"})});
var Ue=function(){};m.$CZC=Ue;Ue.__name__=["$CZC"];Ue.prototype={$GF:function(a){return this.$3S.update(a)},$2S:function(){this.$3S.complete();this.$4S()},__class__:Ue};var Fe=function(){};m["kit.scene.Scene"]=Fe;Fe.__name__=["kit","scene","Scene"];Fe.__super__=w;Fe.prototype=y(w.prototype,{get_entitySlot:function(){return 8},__class__:Fe});var Ve=function(){};m["kit.scene.Transition"]=Ve;Ve.__name__=["kit","scene","Transition"];Ve.prototype={update:function(a){return!0},complete:function(){},__class__:Ve};
var Wa=function(){};m["kit.script.Action"]=Wa;Wa.__name__=["kit","script","Action"];Wa.prototype={__class__:Wa};var O=function(a,b,c,d){this.$iF=a;this.$JG=b;this.$8S=c;this.$LG=d};m["kit.script.AnimateTo"]=O;O.__name__=["kit","script","AnimateTo"];O.__interfaces__=[Wa];O.prototype={update:function(a,b){null==this.$6S&&(this.$6S=new pb(this.$iF.$iF,this.$JG,this.$8S,this.$LG),this.$iF.set_behavior(this.$6S),this.$iF.update(a));if(this.$iF.$zF!=this.$6S){var c=this.$6S.elapsed-this.$8S;this.$6S=null;
return 0<c?a-c:0}return-1},__class__:O};var l=function(a){this.$9F=a};m["kit.script.CallFunction"]=l;l.__name__=["kit","script","CallFunction"];l.__interfaces__=[Wa];l.prototype={update:function(a,b){this.$9F();return 0},__class__:l};var k=function(a){this.$KG=a;this.$9S=0};m["kit.script.Delay"]=k;k.__name__=["kit","script","Delay"];k.__interfaces__=[Wa];k.prototype={update:function(a,b){this.$9S+=a;if(this.$9S>=this.$KG){var c=this.$9S-this.$KG;this.$9S=0;return a-c}return-1},__class__:k};var jb=
function(a){this.$_S=[];this.$$S=null!=a?a.slice():[]};m["kit.script.Parallel"]=jb;jb.__name__=["kit","script","Parallel"];jb.__interfaces__=[Wa];jb.prototype={update:function(a,b){for(var c=!0,d=0,e=0,f=this.$$S.length;e<f;){var g=e++,k=this.$$S[g];if(null!=k){var l=k.update(a,b);0<=l?(this.$$S[g]=null,this.$_S.push(k),l>d&&(d=l)):c=!1}}return c?(this.$$S=this.$_S,this.$_S=[],d):-1},__class__:jb};var xa=function(a,b){null==b&&(b=-1);this.$AT=a;this.$CT=this.$BT=b};m["kit.script.Repeat"]=xa;xa.__name__=
["kit","script","Repeat"];xa.__interfaces__=[Wa];xa.prototype={update:function(a,b){if(0==this.$BT)return 0;var c=this.$AT.update(a,b);return 0<this.$BT&&0<=c&&0==--this.$CT?(this.$CT=this.$BT,c):-1},__class__:xa};var s=function(){w.call(this);this.stopAll()};m["kit.script.Script"]=s;s.__name__=["kit","script","Script"];s.__super__=w;s.prototype=y(w.prototype,{get_entitySlot:function(){return 11},run:function(a){a=new yd(a);this.$DT.push(a);return a},stopAll:function(){this.$DT=[]},onUpdate:function(a){for(var b=
0;b<this.$DT.length;){var c=this.$DT[b];c.$ET||0<=c.$FT.update(a,this.owner)?this.$DT.splice(b,1):++b}},__class__:s});var yd=function(a){this.$ET=!1;this.$FT=a};m.$CaC=yd;yd.__name__=["$CaC"];yd.__interfaces__=[Ca];yd.prototype={dispose:function(){this.$ET=!0;this.$FT=null},__class__:yd};var u=function(a){this.$GT=0;this.$$S=null!=a?a.slice():[]};m["kit.script.Sequence"]=u;u.__name__=["kit","script","Sequence"];u.__interfaces__=[Wa];u.prototype={update:function(a,b){for(var c=0;;){var d=this.$$S[this.$GT];
if(null!=d)if(d=d.update(a-c,b),0<=d)c+=d;else return-1;++this.$GT;if(this.$GT>=this.$$S.length){this.$GT=0;break}else if(c>a)return-1}return c},__class__:u};var Cb=function(a,b,c){this.$JT=a;this.$KT=b;this.$KG=c;this.$9S=0};m["kit.script.Shake"]=Cb;Cb.__name__=["kit","script","Shake"];Cb.__interfaces__=[Wa];Cb.prototype={update:function(a,b){var c=b.$CF[1];null==this.$HT&&(this.$HT=new Hb(c.x.$iF,this.$JT),this.$IT=new Hb(c.y.$iF,this.$KT),c.x.set_behavior(this.$HT),c.y.set_behavior(this.$IT));
this.$9S+=a;if(this.$9S>=this.$KG){var d=this.$9S-this.$KG;c.x.$zF==this.$HT&&c.x.set__(this.$HT.base);c.y.$zF==this.$IT&&c.y.set__(this.$IT.base);this.$IT=this.$HT=null;this.$9S=0;return a-d}return-1},__class__:Cb};var qb=function(){};m["kit.util.BitSets"]=qb;qb.__name__=["kit","util","BitSets"];qb.set=function(a,b,c){return c?a|b:a&~b};var jf=function(){};m["kit.util.LogHandler"]=jf;jf.__name__=["kit","util","LogHandler"];var ka=function(){this.$YT=this.$ZT=null;this.$XT=0;this.$WT=null};m["kit.util.Promise"]=
ka;ka.__name__=["kit","util","Promise"];ka.all=function(a){if(1>a.length)return(new ka).success([]);for(var b=a.length,c=new ka,d=function(a){c.failure(a)},e=Array(b),f=function(){for(var a=0,d=0;d<e.length;){var f=e[d];++d;a+=f}c.emitProgress(a/b)},g=Array(b),k=0,l=0;l<b;){var m=[l++];e[m[0]]=0;var n=m[0],q=function(a){return function(d){k+=1;g[a[0]]=d;1>e[a[0]]&&(e[a[0]]=1,f());k==b&&c.success(g)}}(m);a[n].then(q).progress(function(a){return function(b){e[a[0]]=b;f()}}(m)).catchError(d)}return c};
ka.prototype={then:function(a){var b=this;if(2==this.$XT)return this;var c=new ka;this.$pF(c,function(){if(1==b.$XT){var d=a(b.$WT);c.$UT(d)}else c.failure(b.$WT)});return c},catchError:function(a){var b=this;if(1==this.$XT)return this;var c=new ka;this.$pF(c,function(){if(2==b.$XT){var d=a(b.$WT);c.$UT(d)}else c.success(b.$WT)});return c},failure:function(a){return this.$VT(2,a)},success:function(a){return this.$VT(1,a)},progress:function(a){0==this.$XT&&(null==this.$ZT&&(this.$ZT=new Z),this.$ZT.connect(a));
return this},emitProgress:function(a){0==this.$XT&&null!=this.$ZT&&this.$ZT.emit(a)},$pF:function(a,b){0==this.$XT?null==this.$YT?this.$YT=[b]:this.$YT.push(b):n.$3F.$FF.$6N(b);this.progress(function(b){a.emitProgress(b)})},$UT:function(a){var b=this;U.__instanceof(a,ka)?a.then(function(a){b.success(a)}).catchError(function(a){b.failure(a)}):this.success(a)},$VT:function(a,b){if(0==this.$XT&&(this.$WT=b,this.$XT=a,null!=this.$YT)){for(var c=0,d=this.$YT;c<d.length;){var e=d[c];++c;e()}this.$YT=null}return this},
__class__:ka};var Yd=function(a){this.next=null;this.$dT=a};m.$CcC=Yd;Yd.__name__=["$CcC"];Yd.prototype={__class__:Yd};var ra=function(){};m["kit.util.Strings"]=ra;ra.__name__=["kit","util","Strings"];ra.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?C.substr(a,b+1,null):null};ra.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?C.substr(a,0,b):a};ra.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=C.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=C.substr(a,
b+1,null));return ra.getFileExtension(a)};ra.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};ra.withFields=function(a,b){var c=b.length;if(0<c){a+=0<a.length?" [":"[";for(var d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(U.__instanceof(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+Q.string(f);d+=2}a+="]"}return a};var kb=function(){};m.$CdC=kb;kb.__name__=["$CdC"];kb.prototype={__class__:kb};var xe=function(){};m["kit.util.Triangulator"]=xe;xe.__name__=["kit",
"util","Triangulator"];xe.prototype={triangulate:function(a){var b=a.length;if(6>b)return[];var c=this.$lT;null==c?(c=new kb,c.$gT=this.$mT,this.$mT=c):this.$lT=c.next;c.$hT=-1;c.$iT=-1;c.$8J=0;c.$$J=0;c.next=null;c.$kO=null;c.$jT=!1;c.$fT=null;c.$eT=null;for(var d=c,e=0,f=0,g=b-2;f<b;)e+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f,f+=2;if(0<e)for(e=f=0;f<b;){var g=a[f],k=a[f+1],l=e++,m=this.$lT;null==m?(m=new kb,m.$gT=this.$mT,this.$mT=m):this.$lT=m.next;m.$hT=l;m.$iT=-1;m.$8J=g;m.$$J=k;m.next=null;m.$kO=c;
m.$jT=!1;m.$fT=null;m.$eT=null;null!=c&&(c.next=m);c=m;f+=2}else for(f=b-2,e=f/2|0;0<=f;)g=a[f],k=a[f+1],l=e--,m=this.$lT,null==m?(m=new kb,m.$gT=this.$mT,this.$mT=m):this.$lT=m.next,m.$hT=l,m.$iT=-1,m.$8J=g,m.$$J=k,m.next=null,m.$kO=c,m.$jT=!1,m.$fT=null,m.$eT=null,null!=c&&(c.next=m),c=m,f-=2;c.next=d.next;c.next.$kO=c;return this.$qT(c,160<b)},$qT:function(a,b){this.$kT=[];a=this.$vT(a);if(b&&null!=a){var c,d;this.$nT=c=a.$8J;this.$oT=d=a.$$J;for(var e=a.next;e!=a;){var f=e.$8J,g=e.$$J;f<this.$nT&&
(this.$nT=f);g<this.$oT&&(this.$oT=g);f>c&&(c=f);g>d&&(d=g);e=e.next}this.$jL=Math.max(c-this.$nT,d-this.$oT);this.$pT=!0}else this.$pT=!1;this.$yT(a);c=this.$kT;this.$kT=null;d=this.$mT;if(null!=this.$lT){for(;d!=this.$lT;)d=d.$gT;d=d.$gT}for(;null!=d;)d.next=this.$lT,this.$lT=d,d=d.$gT;return c},$vT:function(a,b){if(null==a)return a;null==b&&(b=a);for(var c=a,d;;){d=!1;var e;if(c.$jT)e=!1;else if(e=c.next,c.$8J!=e.$8J||c.$$J!=e.$$J){e=c.$kO;var f=c.next;e=0==(c.$$J-e.$$J)*(f.$8J-c.$8J)-(c.$8J-e.$8J)*
(f.$$J-c.$$J)}else e=!0;if(e){c.next.$kO=c.$kO;c.$kO.next=c.next;null!=c.$fT&&(c.$fT.$eT=c.$eT);null!=c.$eT&&(c.$eT.$fT=c.$fT);c=b=c.$kO;if(c==c.next)return null;d=!0}else c=c.next;if(!d&&c==b)break}return b},$yT:function(a,b){null==b&&(b=0);if(null!=a){0==b&&this.$pT&&this.$9T(a);for(var c=a,d,e;a.$kO!=a.next;)if(d=a.$kO,e=a.next,this.$pT?this.$0T(a):this.$zT(a))this.$kT.push(d.$hT),this.$kT.push(a.$hT),this.$kT.push(e.$hT),a.next.$kO=a.$kO,a.$kO.next=a.next,null!=a.$fT&&(a.$fT.$eT=a.$eT),null!=
a.$eT&&(a.$eT.$fT=a.$fT),c=a=e.next;else if(a=e,a==c){switch(b){case 0:this.$yT(this.$vT(a),1);break;case 1:a=this.$1T(a);this.$yT(a,2);break;case 2:this.$2T(a)}break}}},$zT:function(a){var b=a.$kO,c=a.next;if(0<=(a.$$J-b.$$J)*(c.$8J-a.$8J)-(a.$8J-b.$8J)*(c.$$J-a.$$J))return!1;for(var d=a.next.next;d!=a.$kO;){var e;e=b.$8J;var f=b.$$J,g=a.$8J,k=a.$$J,l=c.$8J,m=c.$$J,n=d.$8J,q=d.$$J;0<=(l-n)*(f-q)-(e-n)*(m-q)&&0<=(e-n)*(k-q)-(g-n)*(f-q)&&0<=(g-n)*(m-q)-(l-n)*(k-q)?(e=d.$kO,f=d.next,e=0<=(d.$$J-e.$$J)*
(f.$8J-d.$8J)-(d.$8J-e.$8J)*(f.$$J-d.$$J)):e=!1;if(e)return!1;d=d.next}return!0},$0T:function(a){var b=a.$kO,c=a.next;if(0<=(a.$$J-b.$$J)*(c.$8J-a.$8J)-(a.$8J-b.$8J)*(c.$$J-a.$$J))return!1;for(var d=b.$8J>a.$8J?b.$8J>c.$8J?b.$8J:c.$8J:a.$8J>c.$8J?a.$8J:c.$8J,e=b.$$J>a.$$J?b.$$J>c.$$J?b.$$J:c.$$J:a.$$J>c.$$J?a.$$J:c.$$J,f=32767*((b.$8J<a.$8J?b.$8J<c.$8J?b.$8J:c.$8J:a.$8J<c.$8J?a.$8J:c.$8J)-this.$nT)/this.$jL|0,g=32767*((b.$$J<a.$$J?b.$$J<c.$$J?b.$$J:c.$$J:a.$$J<c.$$J?a.$$J:c.$$J)-this.$oT)/this.$jL|
0,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,f=(f|f<<1)&1431655765|((g|g<<1)&1431655765)<<1,d=32767*(d-this.$nT)/this.$jL|0,e=32767*(e-this.$oT)/this.$jL|0,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,d=(d|d<<1)&1431655765|((e|e<<1)&1431655765)<<1,e=a.$eT;null!=e&&e.$iT<=d;){if(e!=a.$kO&&e!=a.next)var g=b.$8J,k=b.$$J,l=a.$8J,m=a.$$J,n=c.$8J,
q=c.$$J,s=e.$8J,r=e.$$J,g=0<=(n-s)*(k-r)-(g-s)*(q-r)&&0<=(g-s)*(m-r)-(l-s)*(k-r)?0<=(l-s)*(q-r)-(n-s)*(m-r):!1;else g=!1;g?(g=e.$kO,k=e.next,g=0<=(e.$$J-g.$$J)*(k.$8J-e.$8J)-(e.$8J-g.$8J)*(k.$$J-e.$$J)):g=!1;if(g)return!1;e=e.$eT}for(e=a.$fT;null!=e&&e.$iT>=f;){e!=a.$kO&&e!=a.next?(d=b.$8J,g=b.$$J,k=a.$8J,l=a.$$J,m=c.$8J,n=c.$$J,q=e.$8J,s=e.$$J,d=0<=(m-q)*(g-s)-(d-q)*(n-s)&&0<=(d-q)*(l-s)-(k-q)*(g-s)?0<=(k-q)*(n-s)-(m-q)*(l-s):!1):d=!1;d?(d=e.$kO,g=e.next,d=0<=(e.$$J-d.$$J)*(g.$8J-e.$8J)-(e.$8J-d.$8J)*
(g.$$J-e.$$J)):d=!1;if(d)return!1;e=e.$fT}return!0},$1T:function(a){for(var b=a;;){var c=b.$kO,d=b.next.next,e;e=b.next;if(0<(b.$$J-c.$$J)*(e.$8J-b.$8J)-(b.$8J-c.$8J)*(e.$$J-b.$$J)!=0<(b.$$J-c.$$J)*(d.$8J-b.$8J)-(b.$8J-c.$8J)*(d.$$J-b.$$J)&&0<(d.$$J-e.$$J)*(c.$8J-d.$8J)-(d.$8J-e.$8J)*(c.$$J-d.$$J)!=0<(d.$$J-e.$$J)*(b.$8J-d.$8J)-(d.$8J-e.$8J)*(b.$$J-d.$$J)){e=c.$kO;var f=c.next;0>(c.$$J-e.$$J)*(f.$8J-c.$8J)-(c.$8J-e.$8J)*(f.$$J-c.$$J)?(e=c.next,0<=(d.$$J-c.$$J)*(e.$8J-d.$8J)-(d.$8J-c.$8J)*(e.$$J-d.$$J)?
(e=c.$kO,e=0<=(e.$$J-c.$$J)*(d.$8J-e.$8J)-(e.$8J-c.$8J)*(d.$$J-e.$$J)):e=!1):(e=c.$kO,0>(d.$$J-c.$$J)*(e.$8J-d.$8J)-(d.$8J-c.$8J)*(e.$$J-d.$$J)?e=!0:(e=c.next,e=0>(e.$$J-c.$$J)*(d.$8J-e.$8J)-(e.$8J-c.$8J)*(d.$$J-e.$$J)))}else e=!1;e?(e=d.$kO,f=d.next,0>(d.$$J-e.$$J)*(f.$8J-d.$8J)-(d.$8J-e.$8J)*(f.$$J-d.$$J)?(e=d.next,0<=(c.$$J-d.$$J)*(e.$8J-c.$8J)-(c.$8J-d.$8J)*(e.$$J-c.$$J)?(e=d.$kO,e=0<=(e.$$J-d.$$J)*(c.$8J-e.$8J)-(e.$8J-d.$8J)*(c.$$J-e.$$J)):e=!1):(e=d.$kO,0>(c.$$J-d.$$J)*(e.$8J-c.$8J)-(c.$8J-
d.$8J)*(e.$$J-c.$$J)?e=!0:(e=d.next,e=0>(e.$$J-d.$$J)*(c.$8J-e.$8J)-(e.$8J-d.$8J)*(c.$$J-e.$$J)))):e=!1;e&&(this.$kT.push(c.$hT),this.$kT.push(b.$hT),this.$kT.push(d.$hT),b.next.$kO=b.$kO,b.$kO.next=b.next,null!=b.$fT&&(b.$fT.$eT=b.$eT),null!=b.$eT&&(b.$eT.$fT=b.$fT),a=b.next,a.next.$kO=a.$kO,a.$kO.next=a.next,null!=a.$fT&&(a.$fT.$eT=a.$eT),null!=a.$eT&&(a.$eT.$fT=a.$fT),b=a=d);b=b.next;if(b==a)break}return b},$2T:function(a){for(var b=a;;){for(var c=b.next.next;c!=b.$kO;){if(b.$hT!=c.$hT&&this.$5T(b,
c)){a=this.$3T(b,c);b=this.$vT(b,b.next);a=this.$vT(a,a.next);this.$yT(b);this.$yT(a);return}c=c.next}b=b.next;if(b==a)break}},$3T:function(a,b){var c=a.$hT,d=a.$8J,e=a.$$J,f=this.$lT;null==f?(f=new kb,f.$gT=this.$mT,this.$mT=f):this.$lT=f.next;f.$hT=c;f.$iT=-1;f.$8J=d;f.$$J=e;f.next=null;f.$kO=null;f.$jT=!1;f.$fT=null;f.$eT=null;var c=f,d=b.$hT,e=b.$8J,f=b.$$J,g=this.$lT;null==g?(g=new kb,g.$gT=this.$mT,this.$mT=g):this.$lT=g.next;g.$hT=d;g.$iT=-1;g.$8J=e;g.$$J=f;g.next=null;g.$kO=null;g.$jT=!1;
g.$fT=null;g.$eT=null;d=g;e=a.next;f=b.$kO;a.next=b;b.$kO=a;c.next=e;e.$kO=c;d.next=c;c.$kO=d;f.next=d;d.$kO=f;return d},$5T:function(a,b){if(a.$8J!=b.$8J||a.$$J!=b.$$J){var c;if(a.next.$hT==b.$hT||a.$kO.$hT==b.$hT||this.$7T(a,b))c=!1;else{c=a.$kO;var d=a.next;0>(a.$$J-c.$$J)*(d.$8J-a.$8J)-(a.$8J-c.$8J)*(d.$$J-a.$$J)?(c=a.next,0<=(b.$$J-a.$$J)*(c.$8J-b.$8J)-(b.$8J-a.$8J)*(c.$$J-b.$$J)?(c=a.$kO,c=0<=(c.$$J-a.$$J)*(b.$8J-c.$8J)-(c.$8J-a.$8J)*(b.$$J-c.$$J)):c=!1):(c=a.$kO,0>(b.$$J-a.$$J)*(c.$8J-b.$8J)-
(b.$8J-a.$8J)*(c.$$J-b.$$J)?c=!0:(c=a.next,c=0>(c.$$J-a.$$J)*(b.$8J-c.$8J)-(c.$8J-a.$8J)*(b.$$J-c.$$J)))}c?(c=b.$kO,d=b.next,0>(b.$$J-c.$$J)*(d.$8J-b.$8J)-(b.$8J-c.$8J)*(d.$$J-b.$$J)?(c=b.next,0<=(a.$$J-b.$$J)*(c.$8J-a.$8J)-(a.$8J-b.$8J)*(c.$$J-a.$$J)?(c=b.$kO,c=0<=(c.$$J-b.$$J)*(a.$8J-c.$8J)-(c.$8J-b.$8J)*(a.$$J-c.$$J)):c=!1):(c=b.$kO,0>(a.$$J-b.$$J)*(c.$8J-a.$8J)-(a.$8J-b.$8J)*(c.$$J-a.$$J)?c=!0:(c=b.next,c=0>(c.$$J-b.$$J)*(a.$8J-c.$8J)-(c.$8J-b.$8J)*(a.$$J-c.$$J)))):c=!1;return c?this.$6T(a,b):
!1}return!0},$6T:function(a,b){for(var c=a,d=!1,e=(a.$8J+b.$8J)/2,f=(a.$$J+b.$$J)/2;c.$$J>f!=c.next.$$J>f&&e<(c.next.$8J-c.$8J)*(f-c.$$J)/(c.next.$$J-c.$$J)+c.$8J&&(d=!d),c=c.next,c!=a;);return d},$7T:function(a,b){for(var c=a;;){var d;c.$hT!=a.$hT&&c.next.$hT!=a.$hT&&c.$hT!=b.$hT&&c.next.$hT!=b.$hT?(d=c.next,d=0<(d.$$J-c.$$J)*(a.$8J-d.$8J)-(d.$8J-c.$8J)*(a.$$J-d.$$J)!=0<(d.$$J-c.$$J)*(b.$8J-d.$8J)-(d.$8J-c.$8J)*(b.$$J-d.$$J)?0<(b.$$J-a.$$J)*(c.$8J-b.$8J)-(b.$8J-a.$8J)*(c.$$J-b.$$J)!=0<(b.$$J-a.$$J)*
(d.$8J-b.$8J)-(b.$8J-a.$8J)*(d.$$J-b.$$J):!1):d=!1;if(d)return!0;c=c.next;if(c==a)break}return!1},$9T:function(a){for(var b=a;;){if(0>b.$iT){var c=32767*(b.$8J-this.$nT)/this.$jL|0,d=32767*(b.$$J-this.$oT)/this.$jL|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,d=(d|d<<1)&1431655765;b.$iT=c|d<<1}b.$fT=b.$kO;b=b.$eT=b.next;if(b==a)break}b.$fT.$eT=null;b.$fT=null;this.$$T(b)},$$T:function(a){for(var b,
c,d,e,f,g,k,l=1;;){b=a;e=a=null;for(f=0;null!=b;){++f;c=b;d=g=0;for(k=l;d<k&&(d++,++g,c=c.$eT,null!=c););for(k=l;0<g||0<k&&null!=c;)0==g?(d=c,c=c.$eT,--k):0==k||null==c?(d=b,b=b.$eT,--g):b.$iT<=c.$iT?(d=b,b=b.$eT,--g):(d=c,c=c.$eT,--k),null!=e?e.$eT=d:a=d,d.$fT=e,e=d;b=c}e.$eT=null;l*=2;if(!(1<f))break}return a},__class__:xe};var cb=function(a,b,c){w.call(this);this.faceRight=a;this.x=b|0;this.y=c|0};m["project.BoltImpact"]=cb;cb.__name__=["project","BoltImpact"];cb.__super__=w;cb.prototype=y(w.prototype,
{get_entitySlot:function(){return 41},onAdded:function(){var a=this;this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.fx=(new e).add(new J("game/chapa","blank",0,0));this.owner.addChild(this.fx);this.fx.$CF[19].play("impact","blank");this.fx.add(new Ka(0.7));this.faceRight||this.thisSprite.scaleX.set__(-1);var b=new s;b.run(new u([new k(0.75),new l(function(){a.owner.dispose()})]));this.owner.add(b)},__class__:cb});var L=
function(a,b,c,d,e){this.selectable=!1;w.call(this);this.charName=a;this.shadow=b;this.x=c|0;this.y=d|0;this.callback=e;this.selectable=!1};m["project.Character"]=L;L.__name__=["project","Character"];L.__super__=w;L.prototype=y(w.prototype,{get_entitySlot:function(){return 34},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.thisSprite.set_pixelSnapping(!1);"boss"!=this.charName&&"betty"!=this.charName&&
"butcher"!=this.charName&&(this.glow=(new e).add(new J("game/"+this.charName,"glow",0,0)),this.owner.addChild(this.glow),this.glow.$CF[1].alpha.set__(0));"boss"==this.charName||"betty"==this.charName||"butcher"==this.charName?(this["char"]=(new e).add(new J(this.charName,"idle",0,0,d.gamePack)),this.thisSprite.scaleX.set__(-1)):this["char"]=(new e).add(new J("game/"+this.charName,"idle",0,0));this.owner.addChild(this["char"]);"boss"!=this.charName&&"betty"!=this.charName&&"butcher"!=this.charName&&
(this.fx=(new e).add(new J("game/"+this.charName,"blank",0,0)),this.owner.addChild(this.fx));this.tick=(new e).add(new J("game/ticks","cross",0,-140));this.owner.addChild(this.tick);this.tick.$CF[1].alpha.set__(0);if("bose"==this.charName){var a=this.tick.$CF[1].y;a.set__(a.$iF-20)}},showCross:function(a){var b=this,c=new s;c.run(new u([new k(a),new l(function(){b.tick.$CF[1].alpha.set__(1);b.tick.$CF[19].play("cross","crossEnd")}),new k(1.5),new l(function(){b.tick.$CF[1].alpha.animateTo(0,1)})]));
this.tick.add(c)},onUpdate:function(a){this.shadow.$CF[1].x.set__(this.thisSprite.x.$iF)},teleportTo:function(a,b,c){null==c&&(c=!1);var d=this;this.glow.$CF[1].alpha.animateTo(0,0.15,q.sineOut);this.testAnim("teleport","blank");this.playSound("miles_teleport");this.oldX=this.thisSprite.x.$iF;var e=new s;e.run(new u([new k(b+1),new l(function(){d.thisSprite.x.set__(a);d.testAnim("teleportback","idle");c&&d.playSound("miles_teleport")})]));this.owner.add(e)},teleportBack:function(a){var b=this;this.testAnim("blank");
var c=new s;c.run(new u([new k(a),new l(function(){b.thisSprite.x.set__(b.oldX);b.testAnim("teleportback","idle");b.playSound("miles_teleport")}),new k(0.45),new l(function(){})]));this.owner.add(c)},runTo:function(a,b){var c=this,d=this.selectable;this.selectable=!1;a>this.thisSprite.x.$iF?this.faceRight(!0):this.faceRight(!1);this.run();this.thisSprite.x.animateTo(a,b);var e=new s;e.run(new u([new k(b),new l(function(){c.idle();c.selectable=d})]));this.owner.add(e)},faceRight:function(a){a?(this.thisSprite.scaleX.set__(-1),
this.shadow.$CF[1].scaleX.set__(-1)):(this.thisSprite.scaleX.set__(1),this.shadow.$CF[1].scaleX.set__(1))},activate:function(a){null==a&&(a=!0);this.selectable=a},run:function(){this.testAnim("run")},idle:function(){this.testAnim("idle")},win:function(){this.testAnim("win","won")},lose:function(){"bose"!=this.charName&&"mika"!=this.charName||this.testAnim("lose","lost")},bossDodge:function(){this.testAnim("dodge","idle2");this.fx=(new e).add(new J("boss","smoke",0,0,d.gamePack));this.owner.addChild(this.fx)},
performAction:function(a){var b=this;this.owner.parent.addChild(this.owner);this.glow.$CF[1].alpha.animateTo(0,0.15,q.sineOut);this.testAnim("charge");var c=0.5,d=0.5;switch(this.charName){case "bose":c=1;d=2;break;case "chapa":c=1;d=2;this.playSound("chapa_charge");break;case "mika":c=0.5,d=3}var e=new s;e.run(new u([new k(c),new l(function(){"chapa"==b.charName?b.testAnim("release","idle"):b.testAnim("release","power");switch(b.charName){case "bose":b.playSound("bose_levitation");break;case "chapa":b.playSound("chapa_shoot");
break;case "mika":a?b.playSound("mika_scream"):b.playSound("mika_scream_fail")}"chapa"!=b.charName&&(b.fx.$CF[1].setScale(1),b.fx.$CF[1].setXY(0,0),b.fx.$CF[1].alpha.set__(1));"mika"==b.charName?a?b.fx.$CF[19].play("fx","blank"):(b.fx.$CF[1].setScale(0.7),b.fx.$CF[1].setXY(-20,-60),b.fx.$CF[1].alpha.set__(0.7),b.fx.$CF[19].play("fxfail","blank")):"chapa"!=b.charName&&b.fx.$CF[19].play("fx","blank")}),new k(d),new l(function(){"chapa"!=b.charName&&b.testAnim("idle");b.glow.$CF[1].alpha.animateTo(0,
0.15,q.sineOut)})]));this["char"].add(e)},performAction2:function(a){var b=this;this.glow.$CF[1].alpha.animateTo(0,0.15,q.sineOut);this.testAnim("charge");var c=0.5,d=0.5;switch(this.charName){case "bose":c=1;d=2;break;case "chapa":c=1;d=2;this.playSound("chapa_charge");break;case "mika":c=0.5,d=3}var e=new s;e.run(new u([new k(c),new l(function(){"chapa"==b.charName?(b.testAnim("releaseUp","idle"),b.playSound("chapa_shoot")):b.testAnim("release","power");"chapa"!=b.charName&&(b.fx.$CF[1].setScale(1),
b.fx.$CF[1].setXY(0,0),b.fx.$CF[1].alpha.set__(1));"mika"==b.charName?a?b.fx.$CF[19].play("fx","blank"):(b.fx.$CF[1].setScale(0.7),b.fx.$CF[1].setXY(-20,-60),b.fx.$CF[1].alpha.set__(0.7),b.fx.$CF[19].play("fxfail","blank")):"chapa"!=b.charName&&b.fx.$CF[19].play("fx","blank")}),new k(d),new l(function(){"chapa"!=b.charName&&b.testAnim("idle");b.glow.$CF[1].alpha.animateTo(0,0.15,q.sineOut)})]));this["char"].add(e)},testAnim:function(a,b){null==b?this["char"].$CF[19].loop(a):this["char"].$CF[19].play(a,
b);this.shadow.$CF[36].testAnim(a,b)},highlight:function(){if(!this.selectable)return!1;this.glow.$CF[1].alpha.animateTo(1,0.15,q.sineIn);var a=new s;a.run(new u([new k(1.5),new l(function(){})]));this.glow.add(a);return!0},levitate:function(a){var b=this;this.shadow.$CF[36].levitate();var c=this.selectable;this.selectable=!1;var d=new s;d.run(new u([new k(a),new l(function(){b.testAnim("hit");b.thisSprite.x.animateBy(-50,1,q.sineInOut);b.thisSprite.y.animateBy(-100,1,q.sineInOut);b.thisSprite.rotation.animateTo(40,
1,q.sineInOut)}),new k(1),new l(function(){f.pulseUpDown(b.owner,25,0.5)}),new k(1.2),new l(function(){b.owner.$CF[11].stopAll();b.thisSprite.y.animateTo(b.y,1,q.sineInOut);b.thisSprite.x.animateBy(50,1,q.sineInOut);b.thisSprite.rotation.animateTo(0,1,q.sineInOut)}),new k(0.75),new l(function(){b.testAnim("idle")}),new k(0.25),new l(function(){b.selectable=c;b.callback(b.owner,"END")})]));this.glow.add(d)},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+
a).play():d.pack.getSound("audio/"+a).play())},__class__:L});var d=function(){};m["project.Ctx"]=d;d.__name__=["project","Ctx"];d.initFonts=function(){d.translations=new mb(A.parse(d.configPack.getFile("translation.xml").toString()).firstElement());d.hudFont=new W(d.pack,"fonts/helvBold50");d.vo?(d.ipadFont=new W(d.fontPack,"kom22"),d.comicFont=new W(d.fontPack,"kom16"),d.helpFont=new W(d.fontPack,"helv22yellow"),d.headerFont=new W(d.fontPack,"header_40"),d.plain14Font=new W(d.fontPack,"plain14"),
d.plain16Font=new W(d.fontPack,"plain16"),d.plain18Font=new W(d.fontPack,"plain18"),d.plain26Font=new W(d.fontPack,"plain26"),d.plain30Font=new W(d.fontPack,"plain30")):(d.ipadFont=new W(d.fontPack,"int_plain26"),d.comicFont=new W(d.fontPack,"int_plain16"),d.helpFont=new W(d.fontPack,"int_helv22yellow"),d.headerFont=new W(d.fontPack,"int_plain30"),d.plain14Font=new W(d.fontPack,"int_plain14"),d.plain16Font=new W(d.fontPack,"int_plain16"),d.plain18Font=new W(d.fontPack,"int_plain18"),d.plain26Font=
new W(d.fontPack,"int_plain26"),d.plain30Font=new W(d.fontPack,"int_plain30"))};d.mission1Nachos=function(){return d.mission1Nacho1+d.mission1Nacho2+d.mission1Nacho3};d.mission2Nachos=function(){return d.mission2Nacho1+d.mission2Nacho2+d.mission2Nacho3};d.mission3Nachos=function(){return d.mission3Nacho1+d.mission3Nacho2+d.mission3Nacho3};d.mission4Nachos=function(){return d.mission4Nacho1+d.mission4Nacho2+d.mission4Nacho3+d.mission4Nacho4+d.mission4Nacho5+d.mission4Nacho6+d.mission4Nacho7+d.mission4Nacho8+
d.mission4Nacho9+d.mission4Nacho10};d.mission5Nachos=function(){return d.mission5Nacho1+d.mission5Nacho2+d.mission5Nacho3+d.mission5Nacho4+d.mission5Nacho5+d.mission5Nacho6+d.mission5Nacho7+d.mission5Nacho8+d.mission5Nacho9+d.mission5Nacho10};d.mission6Nachos=function(){return d.mission6Nacho1+d.mission6Nacho2+d.mission6Nacho3};d.notCollected=function(a){var b=!0;if(1==d.mission)switch(a){case 1:1==d.mission1Nacho1&&(b=!1);break;case 2:1==d.mission1Nacho2&&(b=!1);break;case 3:1==d.mission1Nacho3&&
(b=!1)}else if(2==d.mission)switch(a){case 1:1==d.mission2Nacho1&&(b=!1);break;case 2:1==d.mission2Nacho2&&(b=!1);break;case 3:1==d.mission2Nacho3&&(b=!1)}else if(3==d.mission)switch(a){case 1:1==d.mission3Nacho1&&(b=!1);break;case 2:1==d.mission3Nacho2&&(b=!1);break;case 3:1==d.mission3Nacho3&&(b=!1)}else if(4==d.mission)switch(a){case 1:1==d.mission4Nacho1&&(b=!1);break;case 2:1==d.mission4Nacho2&&(b=!1);break;case 3:1==d.mission4Nacho3&&(b=!1);break;case 4:1==d.mission4Nacho4&&(b=!1);break;case 5:1==
d.mission4Nacho5&&(b=!1);break;case 6:1==d.mission4Nacho6&&(b=!1);break;case 7:1==d.mission4Nacho7&&(b=!1);break;case 8:1==d.mission4Nacho8&&(b=!1);break;case 9:1==d.mission4Nacho9&&(b=!1);break;case 10:1==d.mission4Nacho10&&(b=!1)}else if(5==d.mission)switch(a){case 1:1==d.mission5Nacho1&&(b=!1);break;case 2:1==d.mission5Nacho2&&(b=!1);break;case 3:1==d.mission5Nacho3&&(b=!1);break;case 4:1==d.mission5Nacho4&&(b=!1);break;case 5:1==d.mission5Nacho5&&(b=!1);break;case 6:1==d.mission5Nacho6&&(b=!1);
break;case 7:1==d.mission5Nacho7&&(b=!1);break;case 8:1==d.mission5Nacho8&&(b=!1);break;case 9:1==d.mission5Nacho9&&(b=!1);break;case 10:1==d.mission5Nacho10&&(b=!1)}else if(6==d.mission)switch(a){case 1:1==d.mission6Nacho1&&(b=!1);break;case 2:1==d.mission6Nacho2&&(b=!1);break;case 3:1==d.mission6Nacho3&&(b=!1)}return b};var ta=function(a,b){this.gravity=1200;w.call(this);this.x=a|0;this.y=b|0;this.r=f.randomNumber(0,359);this.x+=f.randomNumber(-20,20);this.y+=f.randomNumber(-10,25)};m["project.Debris"]=
ta;ta.__name__=["project","Debris"];ta.__super__=w;ta.prototype=y(w.prototype,{get_entitySlot:function(){return 44},onAdded:function(){var a=this;this.owner.add(new I(d.pack.getTexture("blank")));this.owner.$CF[1].centerAnchor();this.owner.$CF[1].setXY(this.x,this.y);this.owner.$CF[1].set_pointerEnabled(!1);this.debris=new e;f.createImageSprite(this.owner,this.debris,"book_shrapnel"+f.randomNumber(1,3),!0,0,0,"GAME");this.owner.$CF[1].rotation.set__(this.r);this.hasGravity=!0;this.dx=f.randomNumber(-1500,
-400);this.dy=f.randomNumber(-1E3,-500);f.coinFlip()?this.dr=f.randomNumber(200,400):this.dr=f.randomNumber(-400,-200);var b=f.randomNumberFloat(0.3,0.5),c=new s;c.run(new u([new k(b+2),new l(function(){a.debris.$CF[1].alpha.animateTo(0,0.4,q.sineIn)}),new k(1.5),new l(function(){a.owner.dispose()})]));this.owner.add(c)},onUpdate:function(a){var b=this.owner.$CF[1].x;b.set__(b.$iF+this.dx*a);b=this.owner.$CF[1].y;b.set__(b.$iF+this.dy*a);b=this.owner.$CF[1].rotation;b.set__(b.$iF+this.dr*a);this.hasGravity&&
(this.dy+=this.gravity*a)},__class__:ta});var ua=function(a,b){w.call(this);this.x=a|0;this.y=b|0};m["project.FireBolt"]=ua;ua.__name__=["project","FireBolt"];ua.__super__=w;ua.prototype=y(w.prototype,{get_entitySlot:function(){return 40},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.thisSprite.set_pixelSnapping(!1);this.bolt=(new e).add(new J("game/chapa","bolt",0,0));this.owner.addChild(this.bolt)},
fire:function(a,b,c,d){var e=this;this.bolt.$CF[1].rotation.set__(d);this.thisSprite.x.animateBy(a,c);this.thisSprite.y.animateBy(b,c);a=new s;a.run(new u([new k(c),new l(function(){e.thisSprite.alpha.animateTo(0,0.25)}),new k(0.25),new l(function(){e.owner.dispose()})]));this.owner.add(a)},__class__:ua});var zd=function(){this.debugText="";this.audioEnabled=!1;this.musicVolume=0.5;this.transitionTime=0.4;this.transitionColour=16777215;w.call(this)};m["project.Game"]=zd;zd.__name__=["project","Game"];
zd.__super__=w;zd.prototype=y(w.prototype,{get_entitySlot:function(){return 15},onAdded:function(){n.$3F.$LF.down.connect(r(this,this.onPointerDown));n.$3F.$LF.up.connect(r(this,this.onPointerUp));n.$3F.$LF.move.connect(r(this,this.onPointerMove));n.$3F.$NF.resize.connect(r(this,this.onResize));d.isMobile&&(n.$3F.$OF.up.connect(r(this,this.handleTouchUp)),n.$3F.$OF.down.connect(r(this,this.handleTouchDown)),n.$3F.$OF.move.connect(r(this,this.handleTouchMove)));n.$3F.getKeyboard().down.connect(r(this,
this.keyDownHandler));n.$3F.getKeyboard().up.connect(r(this,this.keyUpHandler));this.myXML=new mb(A.parse(d.configPack.getFile("config.xml").toString()).firstElement());"YES"==this.myXML.node.resolve("showFPS").get_innerData()?d.showFPS=!0:d.showFPS=!1;"YES"==this.myXML.node.resolve("testMode").get_innerData()?d.testMode=!0:d.testMode=!1;"YES"==this.myXML.node.resolve("showDebugInfo").get_innerData()?d.showDebugInfo=!0:d.showDebugInfo=!1;"YES"==this.myXML.node.resolve("english").get_innerData()?d.vo=
!0:d.vo=!1;"YES"==this.myXML.node.resolve("alvin").get_innerData()?d.alvin=!0:d.alvin=!1;"YES"==this.myXML.node.resolve("powerRangers").get_innerData()?d.powerRangers=!0:d.powerRangers=!1;d.minScaleSize=Q.parseInt(this.myXML.node.resolve("scaleBelow").get_innerData());this.status_font=new W(d.pack,"fonts/tinyfont");this.screen=(new e).add(new G(16777215,d.staticWidth,d.staticHeight));n.root.addChild(this.screen);this.onResize();this.screen.dispose();d.muteMusic&&(this.musicVolume=0);this.animatedTitleScreen();
0<d.quickTest&&this.loadMission(d.quickTest)},onPointerDown:function(a){var b=this;switch(this.gameState){case "HOME":null!=this.screen.$CF[11]&&this.screen.$CF[11].stopAll();null!=this.title.$CF[11]&&this.title.$CF[11].stopAll();this.clickText.$CF[1].alpha.animateTo(0,0.25);a.hit==this.muteBtn.$CF[1]?(d.muted?(this.muteBtn.dispose(),this.muteBtn=new e,f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_ON",!0,this.screenWidth-50,50),f.mute(!1)):(this.muteBtn.dispose(),this.muteBtn=new e,
f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_OFF",!0,this.screenWidth-50,50),f.mute(!0)),f.alignRight(this.muteBtn)):d.showIntro?this.showIntro():this.loadMission(0);this.playSound("click");null==this.menuLoop&&(this.menuLoop=d.pack.getSound("audio/DangerForce_Menu").loop(),this.menuLoop.volume.set__(0));this.menuLoop.volume.animateTo(this.musicVolume,0.5);break;case "MISSION":null!=this.popSchwoz&&(null!=this.popSchwoz.$CF[11]&&this.popSchwoz.$CF[11].stopAll(),this.popSchwoz.dispose());
null!=this.popBubble&&this.popBubble.dispose();a.hit==this.mission1Btn.$CF[1]?(d.mission=1,this.overview.$CF[1].set_visible(!0),this.gameState="MISSION2",this.playSound("click"),this.photo.dispose(),this.report.dispose(),this.photo=new e,f.createImageSprite(this.overview,this.photo,"mission/photo1",!1,50,3),this.report=new e,f.createImageSprite(this.overview,this.report,"mission/missionFrame",!1,396,35),a=new e,f.createXMLSprite(this.report,a,d.plain26Font,"Left",10,0,d.translations.node.resolve("crimereport")),
a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,45,d.translations.node.resolve("type")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,95,d.translations.node.resolve("location")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,150,d.translations.node.resolve("description")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,70,d.translations.node.resolve("type1")),
a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,120,d.translations.node.resolve("location1")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,175,d.translations.node.resolve("description1")),a.$CF[1].setTint(29116),null!=this.hand&&(null!=this.screen.$CF[11]&&this.screen.$CF[11].stopAll(),this.hand.dispose()),null!=this.schwoz&&null!=this.schwoz.$CF[32]&&this.schwoz.$CF[32].bungeeOut()):a.hit==this.mission2Btn.$CF[1]&&
d.mission1Complete?(d.mission=2,this.overview.$CF[1].set_visible(!0),this.gameState="MISSION2",this.playSound("click"),this.photo.dispose(),this.report.dispose(),this.photo=new e,f.createImageSprite(this.overview,this.photo,"mission/photo2",!1,50,3),this.report=new e,f.createImageSprite(this.overview,this.report,"mission/missionFrame",!1,396,35),a=new e,f.createXMLSprite(this.report,a,d.plain26Font,"Left",10,0,d.translations.node.resolve("crimereport")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,
a,d.plain18Font,"Left",-5,45,d.translations.node.resolve("type")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,95,d.translations.node.resolve("location")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,150,d.translations.node.resolve("description")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,70,d.translations.node.resolve("type2")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,
a,d.plain14Font,"Left",-5,120,d.translations.node.resolve("location2")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,175,d.translations.node.resolve("description2")),a.$CF[1].setTint(29116),null!=this.hand&&(null!=this.screen.$CF[11]&&this.screen.$CF[11].stopAll(),this.hand.dispose()),null!=this.schwoz&&null!=this.schwoz.$CF[32]&&this.schwoz.$CF[32].bungeeOut()):a.hit==this.mission3Btn.$CF[1]&&d.mission2Complete?(d.mission=3,this.overview.$CF[1].set_visible(!0),
this.gameState="MISSION2",this.playSound("click"),this.photo.dispose(),this.report.dispose(),this.photo=new e,f.createImageSprite(this.overview,this.photo,"mission/photo3",!1,50,3),this.report=new e,f.createImageSprite(this.overview,this.report,"mission/missionFrame",!1,396,35),a=new e,f.createXMLSprite(this.report,a,d.plain26Font,"Left",10,0,d.translations.node.resolve("crimereport")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,45,d.translations.node.resolve("type")),
a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,95,d.translations.node.resolve("location")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,150,d.translations.node.resolve("description")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,70,d.translations.node.resolve("type3")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,120,d.translations.node.resolve("location3")),
a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,175,d.translations.node.resolve("description3")),a.$CF[1].setTint(29116),null!=this.hand&&(null!=this.screen.$CF[11]&&this.screen.$CF[11].stopAll(),this.hand.dispose()),null!=this.schwoz&&null!=this.schwoz.$CF[32]&&this.schwoz.$CF[32].bungeeOut()):a.hit==this.mission4Btn.$CF[1]&&d.mission3Complete?(d.mission=4,this.overview.$CF[1].set_visible(!0),this.gameState="MISSION2",this.playSound("click"),this.photo.dispose(),
this.report.dispose(),this.photo=new e,f.createImageSprite(this.overview,this.photo,"mission/photo4",!1,50,3),this.report=new e,f.createImageSprite(this.overview,this.report,"mission/missionFrame",!1,396,35),a=new e,f.createXMLSprite(this.report,a,d.plain26Font,"Left",10,0,d.translations.node.resolve("crimereport")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,45,d.translations.node.resolve("type")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,
d.plain18Font,"Left",-5,95,d.translations.node.resolve("location")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,150,d.translations.node.resolve("description")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,70,d.translations.node.resolve("type4")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,120,d.translations.node.resolve("location4")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,
a,d.plain14Font,"Left",-5,175,d.translations.node.resolve("description4")),a.$CF[1].setTint(29116),null!=this.hand&&(null!=this.screen.$CF[11]&&this.screen.$CF[11].stopAll(),this.hand.dispose()),null!=this.schwoz&&null!=this.schwoz.$CF[32]&&this.schwoz.$CF[32].bungeeOut()):a.hit==this.mission5Btn.$CF[1]&&d.mission4Complete?(d.mission=5,this.overview.$CF[1].set_visible(!0),this.gameState="MISSION2",this.playSound("click"),this.photo.dispose(),this.report.dispose(),this.photo=new e,f.createImageSprite(this.overview,
this.photo,"mission/photo5",!1,50,3),this.report=new e,f.createImageSprite(this.overview,this.report,"mission/missionFrame",!1,396,35),a=new e,f.createXMLSprite(this.report,a,d.plain26Font,"Left",10,0,d.translations.node.resolve("crimereport")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,45,d.translations.node.resolve("type")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,95,d.translations.node.resolve("location")),a.$CF[1].setTint(0),
a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,150,d.translations.node.resolve("description")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,70,d.translations.node.resolve("type5")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,120,d.translations.node.resolve("location5")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,175,d.translations.node.resolve("description5")),
a.$CF[1].setTint(29116),null!=this.hand&&(null!=this.screen.$CF[11]&&this.screen.$CF[11].stopAll(),this.hand.dispose()),null!=this.schwoz&&null!=this.schwoz.$CF[32]&&this.schwoz.$CF[32].bungeeOut()):a.hit==this.mission6Btn.$CF[1]&&d.mission5Complete&&(d.mission=6,this.overview.$CF[1].set_visible(!0),this.gameState="MISSION2",this.playSound("click"),this.photo.dispose(),this.report.dispose(),this.photo=new e,f.createImageSprite(this.overview,this.photo,"mission/photo6",!1,50,3),this.report=new e,f.createImageSprite(this.overview,
this.report,"mission/missionFrame",!1,396,35),a=new e,f.createXMLSprite(this.report,a,d.plain26Font,"Left",10,0,d.translations.node.resolve("crimereport")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,45,d.translations.node.resolve("type")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,95,d.translations.node.resolve("location")),a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain18Font,"Left",-5,150,d.translations.node.resolve("description")),
a.$CF[1].setTint(0),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,70,d.translations.node.resolve("type6")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,120,d.translations.node.resolve("location6")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.report,a,d.plain14Font,"Left",-5,175,d.translations.node.resolve("description6")),a.$CF[1].setTint(29116),null!=this.hand&&(null!=this.screen.$CF[11]&&this.screen.$CF[11].stopAll(),this.hand.dispose()),
null!=this.schwoz&&null!=this.schwoz.$CF[32]&&this.schwoz.$CF[32].bungeeOut());break;case "MISSION2":a.hit==this.nextBtn.$CF[1]?(this.tick=new e,d.vo?f.createImageSprite(this.nextBtn,this.tick,"mission/tick",!0,110,15):f.createImageSprite(this.nextBtn,this.tick,"mission/tick",!0,130,15),H.spawn(this.tick,0,0.3,0.3),this.gameState="WAIT",this.playSound("click"),a=new s,a.run(new u([new k(0.75),new l(function(){b.loadMission()})])),this.screen.add(a)):a.hit==this.backBtn.$CF[1]&&(this.tick=new e,f.createImageSprite(this.backBtn,
this.tick,"mission/tick",!0,83,15),H.spawn(this.tick,0,0.3,0.3),this.gameState="WAIT",this.playSound("click"),a=new s,a.run(new u([new k(0.75),new l(function(){b.tick.dispose();b.overview.$CF[1].set_visible(!1);b.gameState="MISSION";b.playSound("click")})])),this.screen.add(a))}},showIntro:function(){var a=this;this.logo.$CF[1].alpha.animateTo(0,0.5);this.logo.$CF[1].scaleX.animateTo(0.25,0.5);this.logo.$CF[1].scaleY.animateTo(0.25,0.5);this.title.$CF[1].alpha.animateTo(0,0.5);var b=new s;b.run(new u([new k(0.25),
new l(function(){a.mika.$CF[1].alpha.animateTo(0,0.5);a.captainman.$CF[1].alpha.animateTo(0,0.5);a.bose.$CF[1].alpha.animateTo(0,0.5);a.goat.$CF[1].alpha.animateTo(0,0.5);a.schwoz.$CF[1].alpha.animateTo(0,0.5);a.miles.$CF[1].alpha.animateTo(0,0.5);a.toddler.$CF[1].alpha.animateTo(0,0.5);a.chapa.$CF[1].alpha.animateTo(0,0.5);a.mika.$CF[1].x.animateBy(100,0.5);a.captainman.$CF[1].x.animateBy(100,0.5);a.bose.$CF[1].x.animateBy(100,0.5);a.goat.$CF[1].y.animateBy(100,0.5);a.schwoz.$CF[1].y.animateBy(-100,
0.5);a.miles.$CF[1].x.animateBy(-100,0.5);a.toddler.$CF[1].x.animateBy(-100,0.5);a.chapa.$CF[1].x.animateBy(-100,0.5)}),new k(0.5),new l(function(){a.loadMission(100)})]));this.screen.add(b)},onPointerUp:function(a){},onPointerMove:function(a){switch(this.gameState){case "HOME":d.muted?f.rolloverImage(this.muteBtn,"buttons/BTN_sound_OFF","buttons/BTN_sound_OFF_rollover",a):f.rolloverImage(this.muteBtn,"buttons/BTN_sound_ON","buttons/BTN_sound_ON_rollover",a);break;case "MISSION2":d.vo&&(f.rolloverImage(this.nextBtn,
"buttons/BTN_accept","buttons/BTN_accept_rollover",a),f.rolloverImage(this.backBtn,"buttons/BTN_back","buttons/BTN_back_rollover",a))}},animatedTitleScreen:function(){this.screen=(new e).add(new G(16777215,d.staticWidth,d.staticHeight));n.root.addChild(this.screen);this.getScreenSize();d.mission=999;this.screen.add(new Ad(this.screenWidth,this.screenHeight,r(this,this.levelCallback)));this.getScreenSize();this.gameState="WAIT";this.onResize();this.playSound("DangerForce_Intro_mono",!0)},homeScreen:function(){this.inPlay=
!1;this.screen=(new e).add(new G(394758,d.maxWidth,d.maxHeight));n.root.addChild(this.screen);this.getScreenSize();this.titleScreen();this.muteBtn=new e;d.muted?f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_OFF",!0,this.screenWidth-50,50):f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_ON",!0,this.screenWidth-50,50);f.alignRight(this.muteBtn);this.muteBtn.$CF[1].set_visible(!1);this.gameState="WAIT";this.onResize()},titleScreen:function(){var a=this,b=new e;f.createFillSprite(this.screen,
b,0,!0,this.screenWidth/2-300,this.screenWidth/2,3E3,3E3,1);b=new e;f.createImageSprite(this.screen,b,"intro/background",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);this.mika=new e;f.createImageSprite(this.screen,this.mika,"intro/mika",!0,this.screenWidth/2+287,this.screenHeight/2-182);this.captainman=new e;f.createImageSprite(this.screen,this.captainman,"intro/captain-man",!0,this.screenWidth/2+292,this.screenHeight/2-15);this.bose=new e;f.createImageSprite(this.screen,this.bose,"intro/bose",
!0,this.screenWidth/2+287,this.screenHeight/2+165);this.goat=new e;f.createImageSprite(this.screen,this.goat,"intro/goat",!0,this.screenWidth/2,this.screenHeight/2+167);this.schwoz=new e;f.createImageSprite(this.screen,this.schwoz,"intro/schwoz",!0,this.screenWidth/2-1,this.screenHeight/2-175);this.miles=new e;f.createImageSprite(this.screen,this.miles,"intro/miles",!0,this.screenWidth/2-298,this.screenHeight/2-220);this.toddler=new e;f.createImageSprite(this.screen,this.toddler,"intro/toddler",!0,
this.screenWidth/2-299,this.screenHeight/2-5);this.chapa=new e;f.createImageSprite(this.screen,this.chapa,"intro/chapa",!0,this.screenWidth/2-297,this.screenHeight/2+152);this.logo=new e;f.createImageSprite(this.screen,this.logo,"intro/df_logo",!0,this.screenWidth/2,this.screenHeight/2);var c=(new e).add(new J("intro/burst","ball",this.screenWidth/2,this.screenHeight/2));this.screen.addChild(c);var h=(new e).add(new J("intro/burst","blank",this.screenWidth/2,this.screenHeight/2));this.screen.addChild(h);
this.title=new e;d.vo?f.createImageSprite(this.screen,this.title,"intro/title_treatment",!0,this.screenWidth/2,this.screenHeight/2+105):(f.createImageSprite(this.screen,this.title,"mission/stampFrame",!0,this.screenWidth/2,this.screenHeight/2+105),b=new e,f.createXMLSprite(this.title,b,d.plain30Font,"Centerr",180,25,d.translations.node.resolve("title")),b.$CF[1].rotation.set__(-5));H.tweenDown(this.schwoz,150,0.6,1);H.tweenUp(this.bose,150,0.6,1.1);H.tweenRight(this.miles,150,0.6,1.15);H.tweenUp(this.goat,
150,0.6,1.2);H.tweenUp(this.chapa,150,0.6,1.25);H.tweenLeft(this.mika,150,0.6,1.5);H.tweenRight(this.toddler,150,0.6,1.6);H.tweenLeft(this.captainman,150,0.6,1.7);this.logo.$CF[1].set_visible(!1);this.title.$CF[1].alpha.set__(0);this.title.$CF[1].rotation.set__(-15);this.title.$CF[1].setScale(1.5);h.add(new Ka(0.5));c.$CF[1].y.animate(-50,this.screenHeight/2,1,q.bounceOut);b=new s;b.run(new u([new k(0.4),new l(function(){a.playSound("ball_bounce")})]));this.screen.add(b);b=new s;b.run(new u([new k(1),
new l(function(){a.playSound("swoosh")}),new k(1),new l(function(){h.$CF[19].play("burst","blank");a.playSound("ball_burst")}),new k(0.125),new l(function(){a.logo.$CF[1].set_visible(!0);c.$CF[1].set_visible(!1)}),new k(0.3),new l(function(){a.title.$CF[1].alpha.animateTo(1,0.1);a.title.$CF[1].rotation.animateTo(0,0.5,q.sineOut);a.title.$CF[1].scaleX.animateTo(1,0.5,q.sineOut);a.title.$CF[1].scaleY.animateTo(1,0.5,q.sineOut);a.gameState="HOME";var b=new e;f.createImageSprite(a.screen,b,"blank",!0,
a.screenWidth/2,a.screenHeight-25);a.clickText=new e;d.isMobile?f.createXMLSprite(b,a.clickText,d.ipadFont,"Center",0,-20,d.translations.node.resolve("tapPlay")):f.createXMLSprite(b,a.clickText,d.ipadFont,"Center",0,-20,d.translations.node.resolve("clickPlay"));a.clickText.$CF[1].alpha.animate(0,1,0.5);f.pulseBtn(b,1.05,0.7)}),new k(0.4),new l(function(){a.playSound("mission_success-fail_stamp");a.muteBtn.$CF[1].set_visible(!0);a.muteBtn.$CF[1].alpha.animate(0,1,0.5)})]));this.title.add(b)},missionScreen:function(){var a=
this;this.inPlay=!1;this.screen=(new e).add(new G(394758,d.maxWidth,d.maxHeight));n.root.addChild(this.screen);this.getScreenSize();var b=new e;f.createImageSprite(this.screen,b,"mission/background",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);b=new e;f.createImageSprite(this.screen,b,"mission/whiteboard",!0,this.screenWidth/2,this.screenHeight/2-35);var c=new e;f.createImageSprite(b,c,"mission/white_side_indicator",!1,47,55);c=new e;f.createImageSprite(b,c,"mission/BTN_icon_highlight",
!1,73,38);c=new e;f.createImageSprite(b,c,"mission/icons",!1,75,44);c=new e;f.createImageSprite(b,c,"mission/crime_report_screen",!1,160,38);var h=new e;f.createXMLSprite(c,h,d.headerFont,"Left",22,13,d.translations.node.resolve("crimereport"));h=new e;f.createXMLSprite(c,h,d.plain16Font,"Center",600,27,d.translations.node.resolve("solved"));h.$CF[1].setTint(65280);this.mission1Btn=new e;f.createImageSprite(c,this.mission1Btn,"mission/missionBtn",!1,25,65);h=new e;f.createXMLSprite(this.mission1Btn,
h,d.helpFont,"Left",0,7,d.translations.node.resolve("mission1"));h.$CF[1].set_pointerEnabled(!1);this.mission2Btn=new e;f.createImageSprite(c,this.mission2Btn,"mission/missionBtn",!1,25,116);h=new e;f.createXMLSprite(this.mission2Btn,h,d.helpFont,"Left",0,7,d.translations.node.resolve("mission2"));h.$CF[1].set_pointerEnabled(!1);this.mission3Btn=new e;f.createImageSprite(c,this.mission3Btn,"mission/missionBtn",!1,25,167);h=new e;f.createXMLSprite(this.mission3Btn,h,d.helpFont,"Left",0,7,d.translations.node.resolve("mission3"));
h.$CF[1].set_pointerEnabled(!1);this.mission4Btn=new e;f.createImageSprite(c,this.mission4Btn,"mission/missionBtn",!1,25,218);h=new e;f.createXMLSprite(this.mission4Btn,h,d.helpFont,"Left",0,7,d.translations.node.resolve("mission4"));h.$CF[1].set_pointerEnabled(!1);this.mission5Btn=new e;f.createImageSprite(c,this.mission5Btn,"mission/missionBtn",!1,25,269);h=new e;f.createXMLSprite(this.mission5Btn,h,d.helpFont,"Left",0,7,d.translations.node.resolve("mission5"));h.$CF[1].set_pointerEnabled(!1);this.mission6Btn=
new e;f.createImageSprite(c,this.mission6Btn,"mission/missionBtn",!1,25,320);h=new e;f.createXMLSprite(this.mission6Btn,h,d.helpFont,"Left",0,7,d.translations.node.resolve("mission6"));h.$CF[1].set_pointerEnabled(!1);this.overview=new e;f.createImageSprite(b,this.overview,"mission/mission_overview_screen",!1,160,38);this.overview.$CF[1].set_visible(!1);this.photo=new e;f.createImageSprite(this.overview,this.photo,"mission/photo1",!1,50,3);this.report=new e;d.vo?(this.nextBtn=new e,f.createImageSprite(this.overview,
this.nextBtn,"buttons/BTN_accept",!1,388,292),this.backBtn=new e,f.createImageSprite(this.overview,this.backBtn,"buttons/BTN_back",!1,532,292)):(this.nextBtn=new e,f.createImageSprite(this.overview,this.nextBtn,"buttons/checkBtn_long",!1,375,292),this.nextBtn.$CF[1].setTint(3781962),h=new e,f.createXMLSprite(this.nextBtn,h,d.plain18Font,"Center",55,10,d.translations.node.resolve("accept")),h.$CF[1].set_pointerEnabled(!1),this.backBtn=new e,f.createImageSprite(this.overview,this.backBtn,"buttons/checkBtn_short",
!1,532,292),this.backBtn.$CF[1].setTint(15539236),h=new e,f.createXMLSprite(this.backBtn,h,d.plain18Font,"Center",25,10,d.translations.node.resolve("back")),h.$CF[1].set_pointerEnabled(!1));this.tick1=new e;f.createImageSprite(c,this.tick1,"mission/tick",!1,470,70);this.nacho1=new e;f.createImageSprite(c,this.nacho1,"mission/nacho_ball",!0,555,86);this.nachoText1=new e;f.createTextSprite(c,this.nachoText1,d.hudFont,"Center",635,65,d.mission1Nachos()+"/3");this.tick2=new e;f.createImageSprite(c,this.tick2,
"mission/tick",!1,470,122);this.nacho2=new e;f.createImageSprite(c,this.nacho2,"mission/nacho_ball",!0,555,138);this.nachoText2=new e;f.createTextSprite(c,this.nachoText2,d.hudFont,"Center",635,117,d.mission2Nachos()+"/3");this.tick3=new e;f.createImageSprite(c,this.tick3,"mission/tick",!1,470,174);this.nacho3=new e;f.createImageSprite(c,this.nacho3,"mission/nacho_ball",!0,555,190);this.nachoText3=new e;f.createTextSprite(c,this.nachoText3,d.hudFont,"Center",635,169,d.mission3Nachos()+"/3");this.tick4=
new e;f.createImageSprite(c,this.tick4,"mission/tick",!1,470,226);this.nacho4=new e;f.createImageSprite(c,this.nacho4,"mission/nacho_ball",!0,555,242);this.nachoText4=new e;f.createTextSprite(c,this.nachoText4,d.hudFont,"Center",635,221,d.mission4Nachos()+"/10");this.tick5=new e;f.createImageSprite(c,this.tick5,"mission/tick",!1,470,278);this.nacho5=new e;f.createImageSprite(c,this.nacho5,"mission/nacho_ball",!0,555,294);this.nachoText5=new e;f.createTextSprite(c,this.nachoText5,d.hudFont,"Center",
635,273,d.mission5Nachos()+"/10");d.mission1Complete||(this.tick1.$CF[1].alpha.set__(0),this.nacho1.$CF[1].alpha.set__(0),this.nachoText1.$CF[1].alpha.set__(0));d.mission2Complete||(this.mission3Btn.$CF[1].alpha.set__(0.5),this.tick2.$CF[1].alpha.set__(0),this.nacho2.$CF[1].alpha.set__(0),this.nachoText2.$CF[1].alpha.set__(0));d.mission3Complete||(this.mission4Btn.$CF[1].alpha.set__(0.5),this.tick3.$CF[1].alpha.set__(0),this.nacho3.$CF[1].alpha.set__(0),this.nachoText3.$CF[1].alpha.set__(0));d.mission4Complete||
(this.mission5Btn.$CF[1].alpha.set__(0.5),this.tick4.$CF[1].alpha.set__(0),this.nacho4.$CF[1].alpha.set__(0),this.nachoText4.$CF[1].alpha.set__(0));d.mission5Complete||(this.tick5.$CF[1].alpha.set__(0),this.nacho5.$CF[1].alpha.set__(0),this.nachoText5.$CF[1].alpha.set__(0));this.tick6=new e;f.createImageSprite(c,this.tick6,"mission/tick",!1,470,330);this.nacho6=new e;f.createImageSprite(c,this.nacho6,"mission/nacho_ball",!0,555,346);this.nachoText6=new e;f.createTextSprite(c,this.nachoText6,d.hudFont,
"Center",635,325,d.mission6Nachos()+"/3");d.mission6Complete||(this.mission6Btn.$CF[1].alpha.set__(0.5),this.tick6.$CF[1].alpha.set__(0),this.nacho6.$CF[1].alpha.set__(0),this.nachoText6.$CF[1].alpha.set__(0));!d.hadMissionSelectHint&&2>d.mission&&(this.popSchwoz=(new e).add(new J("bigSchwoz","idle",this.screenWidth-480,this.screenHeight,d.gamePack)),this.screen.addChild(this.popSchwoz),f.alignRight(this.popSchwoz),c=(new e).add(new J("bigSchwoz","blink",0,0,d.gamePack)),this.popSchwoz.addChild(c),
this.popBubble=new e,f.createImageSprite(this.popSchwoz,this.popBubble,"bubble",!1,-95,215,"GAME"),c=new e,f.createXMLSprite(this.popBubble,c,d.ipadFont,"Center",154,65,d.translations.node.resolve("selectMission")),c.$CF[1].setTint(0),this.popBubble.$CF[1].alpha.set__(0),c=new s,c.run(new u([new k(1),new l(function(){a.popSchwoz.$CF[1].y.animateBy(-350,0.5,q.sineOut)}),new k(0.3),new l(function(){a.popSchwoz.$CF[19].play("anim","idle")}),new k(1.2),new l(function(){a.popBubble.$CF[1].alpha.animateTo(1,
0.2)}),new k(3),new l(function(){a.popBubble.$CF[1].alpha.animateTo(0,0.2)}),new k(0.25),new l(function(){a.popSchwoz.$CF[1].y.animateBy(360,0.5,q.sineIn)})])),this.popSchwoz.add(c));this.gameState="MISSION";this.fadeIn();1==d.mission&&(this.hand=(new e).add(new lb(-300,530,r(this,this.handCallback))),b.addChild(this.hand),this.hand.$CF[1].set_pointerEnabled(!1),b=new s,b.run(new xa(new u([new k(2.5),new l(function(){a.showTapAt(300,125,1.5)}),new k(5)]))),this.screen.add(b));null==this.menuLoop&&
(this.menuLoop=d.pack.getSound("audio/DangerForce_Menu").loop(),this.menuLoop.volume.set__(0));this.menuLoop.volume.animateTo(this.musicVolume,0.5)},outroScreen:function(){this.inPlay=!1;this.screen=(new e).add(new G(394758,d.maxWidth,d.maxHeight));n.root.addChild(this.screen);var a=new e;f.createImageSprite(this.screen,a,"intro/background",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);this.getScreenSize();d.mission=7;this.loadMission();this.fadeIn()},handCallback:function(){},showTapAt:function(a,
b,c,d){null==d&&(d=0);var e=this,f=new s;f.run(new u([new k(d),new l(function(){e.hand.$CF[28].moveTo(a,b,c,!0)})]));this.hand.add(f)},loadNextMission:function(a){null==a&&(a=-1);if("GAME"==this.gameState){switch(d.mission){case 0:this.screen.$CF[17].stopGame();this.screen.$CF[17].dispose();break;case 1:this.screen.$CF[21].stopGame();this.screen.$CF[21].dispose();break;case 2:this.screen.$CF[22].stopGame();this.screen.$CF[22].dispose();break;case 3:this.screen.$CF[23].stopGame();this.screen.$CF[23].dispose();
break;case 4:this.screen.$CF[24].stopGame();this.screen.$CF[24].dispose();break;case 5:this.screen.$CF[25].stopGame();this.screen.$CF[25].dispose();break;case 6:this.screen.$CF[26].stopGame();this.screen.$CF[26].dispose();break;case 7:this.screen.$CF[27].stopGame();this.screen.$CF[27].dispose();break;case 101:this.screen.$CF[29].stopGame(),this.screen.$CF[29].dispose()}this.screen.dispose()}else null!=this.screen.$CF[18]&&(this.screen.$CF[18].dispose(),this.screen.dispose());this.inPlay=!1;this.screen=
(new e).add(new G(394758,d.maxWidth,d.maxHeight));n.root.addChild(this.screen);var b=(new e).add(new G(16777215,5E3,3E3));this.screen.addChild(b);b=b.$CF[1].x;b.set__(b.$iF-300);this.getScreenSize();this.loadMission(a)},loadMission:function(a){null==a&&(a=-1);0<=a&&(d.mission=a);a=this.screen.$CF[1];null==(a instanceof G?a:null)&&(this.screen=(new e).add(new G(0,d.staticWidth,d.staticHeight)),n.root.addChild(this.screen),this.getScreenSize(),this.onResize());this.gameState="LOADING";this.assetLoader=
(new e).add(new Bd(this.screenWidth/2,this.screenHeight/2,r(this,this.loaderCallback)));this.screen.addChild(this.assetLoader)},loaderCallback:function(a){a?(100!=d.mission&&101!=d.mission&&null!=this.menuLoop&&this.menuLoop.volume.animateTo(0,0.5),7==d.mission||100==d.mission?this.startGame():this.fadeOut(r(this,this.startGame))):this.assetLoader.dispose()},levelCallback:function(a){if("ENDINTRO"==a)this.screen.$CF[18].dispose(),this.fadeOut(r(this,this.homeScreen));else if("PAUSE"==a)this.pauseGame(!0),
this.pauseMenu.$CF[20].showHelp();else if(100==d.mission)this.loadNextMission(101);else if(101==d.mission)d.hadTutorial?(this.screen.$CF[17].stopGame(),this.screen.$CF[17].dispose(),d.mission=1,this.fadeOut(r(this,this.missionScreen))):this.loadNextMission(0);else if(7==d.mission)this.screen.$CF[27].stopGame(),this.screen.$CF[27].dispose(),this.fadeOut(r(this,this.homeScreen));else if(0==d.mission)this.screen.$CF[17].stopGame(),this.screen.$CF[17].dispose(),d.mission=1,this.fadeOut(r(this,this.missionScreen)),
this.menuLoop.volume.animateTo(this.musicVolume,0.5);else switch(this.pauseGame(!0),a){case "LOSE":this.pauseMenu.$CF[20].showGameOver(!1);d.muteMusic||this.playSound("DangerForce_Stinger_Lose");break;case "WIN":switch(this.pauseMenu.$CF[20].showGameOver(!0),d.muteMusic||this.playSound("DangerForce_Stinger_Win"),d.mission){case 1:d.mission1Complete=!0;break;case 2:d.mission2Complete=!0;break;case 3:d.mission3Complete=!0;break;case 4:d.mission4Complete=!0;break;case 5:d.mission5Complete=!0;break;case 6:d.mission6Complete=
!0}}},startGame:function(){this.score=0;this.screen=(new e).add(new G(16777215,d.staticWidth,d.staticHeight));n.root.addChild(this.screen);this.getScreenSize();switch(d.mission){case 0:this.screen.add(new Cd(this.screenWidth,this.screenHeight,r(this,this.levelCallback)));break;case 1:this.screen.add(new Dd(this.screenWidth,this.screenHeight,r(this,this.levelCallback)));break;case 2:this.screen.add(new Ed(this.screenWidth,this.screenHeight,r(this,this.levelCallback)));break;case 3:this.screen.add(new Fd(this.screenWidth,
this.screenHeight,r(this,this.levelCallback)));break;case 4:this.screen.add(new Gd(this.screenWidth,this.screenHeight,r(this,this.levelCallback)));break;case 5:this.screen.add(new Hd(this.screenWidth,this.screenHeight,r(this,this.levelCallback)));break;case 6:this.screen.add(new Id(this.screenWidth,this.screenHeight,r(this,this.levelCallback)));break;case 7:this.screen.add(new Jd(this.screenWidth,this.screenHeight,r(this,this.levelCallback)));break;case 99:this.screen.add(new Kd(this.screenWidth,
this.screenHeight,r(this,this.levelCallback)));break;case 100:this.screen.add(new Ld(this.screenWidth,this.screenHeight,r(this,this.levelCallback)));break;case 101:this.screen.add(new Md(this.screenWidth,this.screenHeight,r(this,this.levelCallback)))}0<d.mission&&100>d.mission&&(d.hadTutorial=!0);this.screen2=new e;f.createImageSprite(n.root,this.screen2,"blankScreen",!1,0,0);this.screen2.$CF[1].set_pointerEnabled(!1);this.gameState="GAME";this.inPlay=!0;if(7==d.mission||100==d.mission)this.onResize();
else this.fadeIn();d.showFPS&&n.root.addChild((new e).add(new N(this.status_font)).add(new uc));d.testMode&&f.addDebugSpeedAdjuster(n.root)},onUpdate:function(a){n.hidden.$iF?(f.mute(!0),d.active=!1):d.active||(f.mute(!1),d.active=!0)},handleTouchDown:function(a){},handleTouchMove:function(a){},handleTouchUp:function(a){this.audioEnabled||(d.pack.getSound("audio/blank").play(),this.audioEnabled=!0)},keyDownHandler:function(a){!d.testMode||"GAME"!=this.gameState&&"WAIT"!=this.gameState||(a.key==g.Number1?
(d.hadMissionSelectHint=!0,this.loadNextMission(1)):a.key==g.Number2?this.loadNextMission(2):a.key==g.Number3?this.loadNextMission(3):a.key==g.Number4?this.loadNextMission(4):a.key==g.Number5?this.loadNextMission(5):a.key==g.Number6?this.loadNextMission(6):a.key==g.Number7?this.loadNextMission(7):a.key==g.Number0?(d.hadMissionSelectHint=!1,this.loadNextMission(0)):a.key==g.Number9&&(d.mission6Complete=!0,d.mission2Complete=!0,d.mission3Complete=!0,d.mission4Complete=!0,d.mission5Complete=!0,d.mission6Complete=
!0))},keyUpHandler:function(a){},pauseGame:function(a){a&&(this.gameState="PAUSED",this.screen.add(new Ka(0)),this.pausedFade=(new e).add(new G(0,this.screenWidth+600,this.screenHeight)),this.screen.addChild(this.pausedFade),this.pausedFade.$CF[1].alpha.set__(0.6),a=this.pausedFade.$CF[1].x,a.set__(a.$iF-300),this.pauseMenu=(new e).add(new Nd(this.screenWidth/2,this.screenHeight/2,r(this,this.closePauseMenu))),this.screen2.addChild(this.pauseMenu),this.screen2.$CF[1].set_pointerEnabled(!0),this.onResize())},
closePauseMenu:function(a){if("PLAY"==a)this.gameState="GAME",this.screen.add(new Ka(1)),this.pausedFade.dispose(),this.pauseMenu.dispose(),this.screen2.$CF[1].set_pointerEnabled(!1);else{switch(d.mission){case 1:this.screen.$CF[21].stopGame();this.screen.$CF[21].dispose();break;case 2:this.screen.$CF[22].stopGame();this.screen.$CF[22].dispose();break;case 3:this.screen.$CF[23].stopGame();this.screen.$CF[23].dispose();break;case 4:this.screen.$CF[24].stopGame();this.screen.$CF[24].dispose();break;
case 5:this.screen.$CF[25].stopGame();this.screen.$CF[25].dispose();break;case 6:this.screen.$CF[26].stopGame();this.screen.$CF[26].dispose();break;case 7:this.screen.$CF[27].stopGame(),this.screen.$CF[27].dispose()}switch(a){case "CONTINUE":d.mission==d.missions?this.fadeOut(r(this,this.outroScreen)):(d.mission++,this.fadeOut(r(this,this.missionScreen)));this.menuLoop.volume.animateTo(this.musicVolume,0.5);break;case "MENU":this.fadeOut(r(this,this.missionScreen));this.menuLoop.volume.animateTo(this.musicVolume,
0.5);break;case "REPLAY":this.fadeOut(r(this,this.startGame))}this.screen.add(new Ka(1));this.screen2.dispose()}},fadeIn:function(){var a=(new e).add(new G(this.transitionColour,2E3,2E3));this.screen.addChild(a);a.$CF[1].alpha.set__(1);a.$CF[1].set_pointerEnabled(!1);var b=a.$CF[1].x;b.set__(b.$iF-300);b=new s;b.run(new u([new O(a.$CF[1].alpha,0,this.transitionTime),new l(function(){a.dispose()})]));a.add(b);this.onResize()},fadeOut:function(a){var b=this,c=(new e).add(new G(this.transitionColour,
2E3,2E3));this.screen.addChild(c);c.$CF[1].alpha.set__(0);var d=c.$CF[1].x;d.set__(d.$iF-300);d=new s;d.run(new u([new O(c.$CF[1].alpha,1,this.transitionTime),new l(function(){b.screen.dispose();a()})]));c.add(d)},onResize:function(){if(null!=this.screen){d.resizeScreen=!0;!d.isMobile&&667!=n.$3F.$NF.get_width()&&900<n.$3F.$NF.get_width()&&(d.resizeScreen=!1);939<n.$3F.$NF.get_width()&&1140>n.$3F.$NF.get_width()&&(d.resizeScreen=!1);939<n.$3F.$NF.get_height()&&1140>n.$3F.$NF.get_height()&&(d.resizeScreen=
!1);if(1336<n.$3F.$NF.get_width()||960>n.$3F.$NF.get_width())d.resizeScreen=!0;2<n.$3F.$NF.get_width()/n.$3F.$NF.get_height()&&(d.resizeScreen=!1);if(d.alwaysResize||2048<n.$3F.$NF.get_width()||768<n.$3F.$NF.get_height())d.resizeScreen=!0;var a=!1;812==n.$3F.$NF.get_width()&&375==n.$3F.$NF.get_height()?(a=d.resizeScreen=!0,this.debugText="iPhone X"):375==n.$3F.$NF.get_width()&&812==n.$3F.$NF.get_height()?(a=d.resizeScreen=!0,this.debugText="iPhone X"):975==n.$3F.$NF.get_width()&&2172==n.$3F.$NF.get_height()?
(a=d.resizeScreen=!0,this.debugText="iPhone X with address bar"):2172==n.$3F.$NF.get_width()&&975==n.$3F.$NF.get_height()&&(a=d.resizeScreen=!0,this.debugText="iPhone X with address bar");2048==n.$3F.$NF.get_width()&&1536>=n.$3F.$NF.get_height()&&(d.staticWidth=n.$3F.$NF.get_width()/2|0,d.staticHeight=n.$3F.$NF.get_height()/2|0);if(d.resizeScreen){1920==(n.$3F.$NF.get_width()|0)&&1120==(n.$3F.$NF.get_height()|0)&&(d.staticHeight=560);var b=d.staticWidth,c=d.staticHeight,e=n.$3F.$NF.get_width()/b,
f=n.$3F.$NF.get_height()/c;d.scale=e<f?e:f;this.screen.$CF[1].setScale(d.scale).setXY((n.$3F.$NF.get_width()-b*d.scale)/2,(n.$3F.$NF.get_height()-c*d.scale)/2);a&&(e=this.screen.$CF[1].scaleX,e.set__(1.05*e.$iF),e=this.screen.$CF[1].x,e.set__(e.$iF-19.2));null!=this.screen2&&null!=this.screen2.$CF[1]&&(this.screen2.$CF[1].setScale(d.scale).setXY((n.$3F.$NF.get_width()-b*d.scale)/2,(n.$3F.$NF.get_height()-c*d.scale)/2),a&&(e=this.screen2.$CF[1].scaleX,e.set__(1.05*e.$iF),e=this.screen2.$CF[1].x,e.set__(e.$iF-
19.2)));n.$3F.$NF.get_width()>n.$3F.$NF.get_height()?(d.offsetX=n.$3F.$NF.get_width()/d.scale-b|0,d.offsetY=n.$3F.$NF.get_height()/d.scale-c|0,a&&(d.offsetX=n.$3F.$NF.get_width()/(1.05*d.scale)-b|0)):(d.offsetX=n.$3F.$NF.get_height()/d.scale-c|0,d.offsetY=n.$3F.$NF.get_width()/d.scale-b|0,a&&(d.offsetX=n.$3F.$NF.get_height()/(1.05*d.scale)-c|0))}else d.scale=1,d.offsetX=0,d.offsetY=0}},getScreenSize:function(){if(d.resizeScreen)this.screenWidth=d.staticWidth,this.screenHeight=d.staticHeight;else if(this.screenWidth=
n.$3F.$NF.get_width(),this.screenHeight=n.$3F.$NF.get_height(),this.screenHeight>this.screenWidth){var a=this.screenWidth;this.screenWidth=this.screenHeight;this.screenHeight=a}},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},__class__:zd});var lb=function(a,b,c){this.tapTime=0.75;w.call(this);this.x=a|0;this.y=b|0;this.callback=c};m["project.Hand"]=lb;lb.__name__=["project","Hand"];lb.__super__=w;lb.prototype=
y(w.prototype,{get_entitySlot:function(){return 28},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.thisSprite.set_pixelSnapping(!1);this.mark=new e;f.createImageSprite(this.owner,this.mark,"game/mark",!0,0,0);this.mark.$CF[1].set_visible(!1);this.hand=new e;f.createImageSprite(this.owner,this.hand,"game/hand_pointer",!0,-36,55)},show:function(){this.thisSprite.alpha.animateTo(1,0.3)},hide:function(){this.thisSprite.alpha.animateTo(0,
0.3)},moveTo:function(a,b,c,d){null==d&&(d=!1);var e=this;this.show();this.thisSprite.x.animateTo(a,c);this.thisSprite.y.animateTo(b,c);a=new s;a.run(new u([new k(c+0.2),new l(function(){d&&e.tap()}),new k(0.2),new l(function(){d||e.callback()})]));this.mark.add(a)},tap:function(){var a=this;this.mark.$CF[1].set_visible(!0);var b=new s;b.run(new u([new k(this.tapTime),new l(function(){a.mark.$CF[1].set_visible(!1)}),new k(0.2),new l(function(){a.hide();a.callback()})]));this.mark.add(b)},retap:function(){var a=
this;this.show();var b=new s;b.run(new u([new k(0.5),new l(function(){a.mark.$CF[1].set_visible(!0)}),new k(this.tapTime),new l(function(){a.mark.$CF[1].set_visible(!1)}),new k(0.2),new l(function(){a.hide()})]));this.mark.add(b)},__class__:lb});var v={__ename__:!0,__constructs__:["UP","DOWN","LEFT","RIGHT","CIRCLE"],UP:["UP",0]};v.UP.toString=t;v.UP.__enum__=v;v.DOWN=["DOWN",1];v.DOWN.toString=t;v.DOWN.__enum__=v;v.LEFT=["LEFT",2];v.LEFT.toString=t;v.LEFT.__enum__=v;v.RIGHT=["RIGHT",3];v.RIGHT.toString=
t;v.RIGHT.__enum__=v;v.CIRCLE=["CIRCLE",4];v.CIRCLE.toString=t;v.CIRCLE.__enum__=v;var Od=function(a,b,c,d){this.pulsed=!1;this.success=this.active=!0;this.tutorialBar=!1;w.call(this);this.action=a;this.x=b|0;this.y=c|0;this.callback=d};m["project.Indicator"]=Od;Od.__name__=["project","Indicator"];Od.__super__=w;Od.prototype=y(w.prototype,{get_entitySlot:function(){return 39},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,
this.y);this.thisSprite.set_pixelSnapping(!1);this.arrow=new e;switch(this.action[1]){case 0:f.createImageSprite(this.owner,this.arrow,"hud/arrow_standard",!0,0,-1);this.arrow.$CF[1].rotation.set__(-90);break;case 1:f.createImageSprite(this.owner,this.arrow,"hud/arrow_standard",!0,0,1);this.arrow.$CF[1].rotation.set__(90);break;case 2:f.createImageSprite(this.owner,this.arrow,"hud/arrow_standard",!0,0,0);this.arrow.$CF[1].rotation.set__(180);break;case 3:f.createImageSprite(this.owner,this.arrow,
"hud/arrow_standard",!0,0,0);break;case 4:f.createImageSprite(this.owner,this.arrow,"hud/powerbar_indicator",!0,0,0)}},pulse:function(){this.pulsed||(this.pulsed=!0,f.pulseOnce(this.owner,1.3,0.1))},passed:function(){this.action!=v.CIRCLE&&this.active&&this.miss()},input:function(a){if(this.active){if(a==this.action)return this.hit(),!0;this.miss()}return!1},tutorial:function(){this.action!=v.CIRCLE&&this.hit()},hit:function(){if(this.active)switch(this.active=!1,this.arrow.dispose(),this.arrow=new e,
this.action[1]){case 0:f.createImageSprite(this.owner,this.arrow,"hud/arrow_correct",!0,0,-1);this.arrow.$CF[1].rotation.set__(-90);this.playSound("correct");break;case 1:f.createImageSprite(this.owner,this.arrow,"hud/arrow_correct",!0,0,1);this.arrow.$CF[1].rotation.set__(90);this.playSound("correct");break;case 2:f.createImageSprite(this.owner,this.arrow,"hud/arrow_correct",!0,0,0);this.arrow.$CF[1].rotation.set__(180);this.playSound("correct");break;case 3:f.createImageSprite(this.owner,this.arrow,
"hud/arrow_correct",!0,0,0);this.playSound("correct");break;case 4:f.createImageSprite(this.owner,this.arrow,"hud/powerbar_indicator_incorrect",!0,0,0),this.callback(!1),this.playSound("buzzer")}},miss:function(){if(this.active){this.success=this.active=!1;this.arrow.dispose();this.arrow=new e;switch(this.action[1]){case 0:f.createImageSprite(this.owner,this.arrow,"hud/arrow_incorrect",!0,0,-1);this.arrow.$CF[1].rotation.set__(-90);break;case 1:f.createImageSprite(this.owner,this.arrow,"hud/arrow_incorrect",
!0,0,1);this.arrow.$CF[1].rotation.set__(90);break;case 2:f.createImageSprite(this.owner,this.arrow,"hud/arrow_incorrect",!0,0,0);this.arrow.$CF[1].rotation.set__(180);break;case 3:f.createImageSprite(this.owner,this.arrow,"hud/arrow_incorrect",!0,0,0);break;case 4:f.createImageSprite(this.owner,this.arrow,"hud/powerbar_indicator_incorrect",!0,0,0)}this.callback(!1);this.playSound("buzzer")}},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||this.tutorialBar||(this.sfx=b?d.gamePack.getSound("audio/"+
a).play():d.pack.getSound("audio/"+a).play())},__class__:Od});var Ld=function(a,b,c){w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c};m["project.Intro"]=Ld;Ld.__name__=["project","Intro"];Ld.__super__=w;Ld.prototype=y(w.prototype,{get_entitySlot:function(){return 31},onAdded:function(){this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.startGame()},onPointerDown:function(a){a.hit==this.btn.$CF[1]&&this.callback("WIN")},startGame:function(){var a=this;this.screen=(new e).add(new G(16777215,
d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);var b=new e;f.createFillSprite(this.screen,b,0,!0,this.screenWidth/2-300,this.screenWidth/2,3E3,3E3,1);b=new e;f.createImageSprite(this.screen,b,"intro/background",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var c=new e;f.createImageSprite(this.screen,c,"cell1",!0,this.screenWidth/2-131,this.screenHeight/2-160,"GAME");var h=new e;f.createImageSprite(this.screen,h,"cell2",!0,this.screenWidth/2+367,this.screenHeight/2-139,"GAME");
var g=new e;f.createImageSprite(this.screen,g,"cell3",!0,this.screenWidth/2-288,this.screenHeight/2+130,"GAME");var m=new e;f.createImageSprite(this.screen,m,"cell4",!0,this.screenWidth/2+100,this.screenHeight/2+141,"GAME");b=new e;f.createImageSprite(this.screen,b,"bubble1",!0,this.screenWidth/2-342,this.screenHeight/2-156,"GAME");var n=new e;f.createXMLSprite(b,n,d.comicFont,"Left",15,15,d.translations.node.resolve("intro1"));n.$CF[1].setTint(0);n=new e;f.createImageSprite(this.screen,n,"bubble2",
!0,this.screenWidth/2-260,this.screenHeight/2+20,"GAME");var q=new e;f.createXMLSprite(n,q,d.comicFont,"Left",15,3,d.translations.node.resolve("intro2"));q.$CF[1].setTint(0);q=new e;f.createImageSprite(this.screen,q,"bubble3",!0,this.screenWidth/2+250,this.screenHeight/2+180,"GAME");var r=new e;f.createXMLSprite(q,r,d.comicFont,"Left",55,10,d.translations.node.resolve("intro3"));r.$CF[1].setTint(0);r=new e;f.createXMLSprite(this.screen,r,d.ipadFont,"Center",this.screenWidth/2+275,this.screenHeight/
2-260,d.translations.node.resolve("hmm"));H.spawn(r,2,0.5,0.5);r=new e;f.createXMLSprite(this.screen,r,d.ipadFont,"Center",this.screenWidth/2+290,this.screenHeight/2+30,d.translations.node.resolve("ow"));H.spawn(r,3,0.5,0.5);r=new e;f.createXMLSprite(this.screen,r,d.ipadFont,"Center",this.screenWidth/2+340,this.screenHeight/2+33,d.translations.node.resolve("ee"));H.spawn(r,3.2,0.5,0.5);r=new e;f.createXMLSprite(this.screen,r,d.ipadFont,"Center",this.screenWidth/2+325,this.screenHeight/2+60,d.translations.node.resolve("aargh"));
H.spawn(r,3.5,0.5,0.5);r=1;H.tweenDown(c,150,0.6,r);H.tweenLeft(h,150,0.6,r+=0.5);H.tweenRight(g,150,0.6,r+=0.5);H.tweenUp(m,150,0.6,r+=0.5);c=new s;c.run(new u([new k(1),new l(function(){a.playSound("swoosh")}),new k(0.5),new l(function(){a.playSound("swoosh")}),new k(0.5),new l(function(){a.playSound("swoosh")}),new k(0.5),new l(function(){a.playSound("swoosh")}),new k(0.9),new l(function(){a.playSound("swoosh")}),new k(0.4),new l(function(){a.playSound("swoosh")}),new k(0.4),new l(function(){a.playSound("swoosh")})]));
this.screen.add(c);r+=0.5;H.spawn(b,r+=0.4,0.3,0.3);H.spawn(n,r+=0.4,0.3,0.3);H.spawn(q,r+=0.4,0.3,0.3);this.btn=new e;f.createImageSprite(this.screen,this.btn,"buttons/BTN_skip",!0,this.screenWidth-60,this.screenHeight-60);f.alignRight(this.btn);this.btn.$CF[1].set_visible(!1);b=new s;b.run(new u([new k(5),new l(function(){a.btn.$CF[1].set_visible(!0);H.spawn(a.btn,0,0.5,0.5)}),new k(0.5),new l(function(){f.pulseBtn(a.btn,1.1,1)})]));this.owner.add(b)},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||
(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play(),this.sfx.volume.set__(0.5))},__class__:Ld});var Md=function(a,b,c){w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c};m["project.IntroScene"]=Md;Md.__name__=["project","IntroScene"];Md.__super__=w;Md.prototype=y(w.prototype,{get_entitySlot:function(){return 29},onAdded:function(){this.startGame()},stopGame:function(){this.inPlay=!1},startGame:function(){var a=this;this.screen=(new e).add(new G(16777215,
d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);this.game=new e;f.createImageSprite(this.screen,this.game,"blank",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var b=new e;f.createImageSprite(this.screen,b,"background",!1,-((1480-this.screenWidth)/2),this.screenHeight-768,"GAME");var c=new e;f.createImageSprite(this.screen,c,"middleground",!1,this.screenWidth-700,this.screenHeight-750,"GAME");f.alignRight(c);var h=new e;f.createImageSprite(this.screen,h,"foreground",!1,this.screenWidth-
1900,this.screenHeight-375,"GAME");var g=new e;f.createImageSprite(this.screen,g,"blank",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var m=b.$CF[1].x;m.set__(m.$iF+100);b.$CF[1].x.animateBy(-100,4,q.sineOut);b=g.$CF[1].x;b.set__(b.$iF+100);g.$CF[1].x.animateBy(-100,4,q.sineOut);b=c.$CF[1].x;b.set__(b.$iF+-150);c.$CF[1].x.animateBy(150,4,q.sineOut);b=c.$CF[1].y;b.set__(b.$iF+-25);c.$CF[1].y.animateBy(-25,4,q.sineOut);c=h.$CF[1].x;c.set__(c.$iF+-300);h.$CF[1].x.animateBy(300,4,q.sineOut);
h.$CF[1].y.animateBy(-50,4,q.sineOut);h=new s;h.run(new u([new k(3.7),new l(function(){var b=(new e).add(new G(16777215,3E3,2E3));a.screen.addChild(b);b.$CF[1].alpha.animate(0,1,0.3);b=b.$CF[1].x;b.set__(b.$iF-300)}),new k(0.3),new l(function(){a.callback("END")})]));this.game.add(h);this.flare=new e;f.createImageSprite(g,this.flare,"blank",!0,775,270);this.flare.$CF[1].alpha.set__(0);g=new e;f.createImageSprite(this.flare,g,"flare",!0,0,0,"GAME");this.flare1=new e;f.createImageSprite(this.flare,
this.flare1,"flare2",!0,-50,0,"GAME");this.flare2=new e;f.createImageSprite(this.flare,this.flare2,"flare3",!0,-100,0,"GAME");this.flare3=new e;f.createImageSprite(this.flare,this.flare3,"flare1",!0,-150,0,"GAME");this.flare.$CF[1].alpha.set__(1.5*0.8);this.flare.$CF[1].rotation.set__(2*-this.game.$CF[1].rotation.$iF+40);this.flare.$CF[1].rotation.animateBy(25,4);this.flare1.$CF[1].x.animateBy(300,4);this.flare2.$CF[1].x.animateBy(600,4);this.flare3.$CF[1].x.animateBy(900,4);this.flare1.$CF[1].y.animateBy(37.5,
4);this.flare2.$CF[1].y.animateBy(75,4);this.flare3.$CF[1].y.animateBy(112.5,4);this.flare1.$CF[1].scaleX.animateTo(2.25,4);this.flare2.$CF[1].scaleX.animateTo(3,4);this.flare3.$CF[1].scaleX.animateTo(3,4);this.flare1.$CF[1].scaleY.animateTo(2.25,4);this.flare2.$CF[1].scaleY.animateTo(3,4);this.flare3.$CF[1].scaleY.animateTo(3,4);this.flare.$CF[1].alpha.animate(0,1,2)},__class__:Md});var Xb=function(a,b,c){this.active=!1;w.call(this);this.callback=c;this.x=a|0;this.y=b|0};m["project.Ipad"]=Xb;Xb.__name__=
["project","Ipad"];Xb.__super__=w;Xb.prototype=y(w.prototype,{get_entitySlot:function(){return 37},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.thisSprite.set_pixelSnapping(!1);this.ipad=(new e).add(new J("ipad","idle",0,0,d.gamePack));this.owner.addChild(this.ipad);f.pulseUpDown(this.ipad,-8,1.8);this.ipad.add(new Ka(0.7));this.bubble=new e;f.createImageSprite(this.owner,this.bubble,"speech_bubble",
!0,-230,-135,"GAME");var a="";d.isMobile&&(a="_mob");this.controls=new e;f.createImageSprite(this.bubble,this.controls,"arrows"+a,!1,440,20,"GAME");this.highlightUp=new e;f.createImageSprite(this.bubble,this.highlightUp,"up"+a,!1,440,20,"GAME");this.highlightDown=new e;f.createImageSprite(this.bubble,this.highlightDown,"down"+a,!1,440,20,"GAME");this.highlightLeft=new e;f.createImageSprite(this.bubble,this.highlightLeft,"left"+a,!1,440,20,"GAME");this.highlightRight=new e;f.createImageSprite(this.bubble,
this.highlightRight,"right"+a,!1,440,20,"GAME");this.spacebar=new e;f.createImageSprite(this.bubble,this.spacebar,"spacebar"+a,!1,425,38,"GAME");this.highlightSpacebar=new e;f.createImageSprite(this.bubble,this.highlightSpacebar,"spacebar_highlight"+a,!1,425,38,"GAME");"_mob"==a&&(a=this.spacebar.$CF[1].x,a.set__(a.$iF+40),a=this.highlightSpacebar.$CF[1].x,a.set__(a.$iF+40),a=this.spacebar.$CF[1].y,a.set__(a.$iF+15),a=this.highlightSpacebar.$CF[1].y,a.set__(a.$iF+15));this.txt=new e;f.createXMLSprite(this.bubble,
this.txt,d.ipadFont,"Left",20,15,d.translations.node.resolve("tutorial0"));this.txt.$CF[1].setTint(0);this.txt.$CF[1].set_visible(!1);this.controls.$CF[1].alpha.set__(0);this.spacebar.$CF[1].alpha.set__(0);this.highlightUp.$CF[1].alpha.set__(0);this.highlightDown.$CF[1].alpha.set__(0);this.highlightLeft.$CF[1].alpha.set__(0);this.highlightRight.$CF[1].alpha.set__(0);this.highlightSpacebar.$CF[1].alpha.set__(0);this.bubble.$CF[1].alpha.set__(0);this.closeBtn=new e;f.createImageSprite(this.bubble,this.closeBtn,
"hud/close",!1,525,-29);this.closeBtn.$CF[1].set_visible(!1);this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.connect1(n.$3F.$LF.move,r(this,this.onPointerMove))},showText:function(a){var b=this;d.controlsActive=!1;this.currentText=a;switch(a){case "tutorial0":f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",40,50,d.translations.node.resolve("tutorial0"));this.talk(2);break;case "tutorialBose":f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",40,8,d.translations.node.resolve("tutorialBose"));
this.talk(2.5);break;case "tutorialChapa":f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",40,27,d.translations.node.resolve("tutorialChapa"));this.talk(2);break;case "tutorialFail1":f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",70,30,d.translations.node.resolve("tutorialFail1"));this.talk(1);break;case "tutorialFail2":f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",70,50,d.translations.node.resolve("tutorialFail2"));this.talk(1);break;case "tutorialMika":f.createXMLSprite(this.bubble,
this.txt,d.ipadFont,"Left",40,8,d.translations.node.resolve("tutorialMika"));this.talk(2.5);break;case "tutorialMiles":f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",40,27,d.translations.node.resolve("tutorialMiles"));this.talk(2);break;case "tutorialSuccessBose":f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",60,50,d.translations.node.resolve("tutorialSuccessBose"));this.talk(1);break;case "tutorialSuccessChapa":f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",60,50,d.translations.node.resolve("tutorialSuccessChapa"));
this.talk(1.5);break;case "tutorialSuccessMika":f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",60,50,d.translations.node.resolve("tutorialSuccessMika"));this.talk(1);break;case "tutorialSuccessMiles":f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",70,50,d.translations.node.resolve("tutorialSuccessMiles")),this.talk(1.5)}this.txt.$CF[1].setTint(0);this.bubble.addChild(this.closeBtn);this.txt.$CF[1].set_visible(!0);this.bubble.$CF[1].alpha.set__(1);H.spawn(this.bubble,0,0.3,0.3);
a=new s;a.run(new u([new k(0.3),new l(function(){b.active=!0})]));this.owner.add(a)},closeText:function(a){var b=this;this.txt.$CF[1].set_visible(!1);this.controls.$CF[1].alpha.animateTo(0,0.1);this.spacebar.$CF[1].alpha.animateTo(0,0.1);this.highlightSpacebar.$CF[1].alpha.animateTo(0,0.1);this.highlightUp.$CF[1].alpha.animateTo(0,0.1);this.highlightDown.$CF[1].alpha.animateTo(0,0.1);this.highlightLeft.$CF[1].alpha.animateTo(0,0.1);this.highlightRight.$CF[1].alpha.animateTo(0,0.1);this.bubble.$CF[1].alpha.animateTo(0,
0.25);null!=this.powerbar&&(this.powerbar.dispose(),this.powerbar=null);var c=new s;c.run(new u([new k(0.25),new l(function(){b.callback(a);d.controlsActive=!0})]));this.owner.add(c)},showPowerbar:function(a){switch(a){case "bose":this.showText("tutorialBose");break;case "chapa":this.showText("tutorialChapa");break;case "mika":this.showText("tutorialMika");break;case "miles":this.showText("tutorialMiles")}this.talk(2)},talk:function(a){var b=this,c=new s;c.run(new u([new k(0.25),new l(function(){b.ipad.$CF[19].loop("screen")}),
new k(a),new l(function(){b.ipad.$CF[19].loop("idle")})]));this.ipad.add(c)},onPointerDown:function(a){if(this.active)switch(this.currentText){case "tutorialBose":this.currentText="tutorialDesktop2";d.isMobile?(this.currentText="tutorialMobile2",f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",20,12,d.translations.node.resolve("tutorialMobile2"))):f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",20,12,d.translations.node.resolve("tutorialDesktop2"));this.txt.$CF[1].setTint(0);this.powerbar=
(new e).add(new Ba("bose",!0,226,75,r(this,this.powerbarCallback)));this.bubble.addChild(this.powerbar);this.powerbar.$CF[1].setScale(0.6);this.spacebar.$CF[1].alpha.set__(1);this.talk(1);break;case "tutorialChapa":this.currentText="tutorialDesktop1";d.isMobile?(this.currentText="tutorialMobile1",f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",20,12,d.translations.node.resolve("tutorialMobile1"))):f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",20,12,d.translations.node.resolve("tutorialDesktop1"));
this.txt.$CF[1].setTint(0);this.powerbar=(new e).add(new Fa("chapa",!0,225,75,r(this,this.powerbarCallback)));this.bubble.addChild(this.powerbar);this.powerbar.$CF[1].setScale(0.6);this.controls.$CF[1].alpha.set__(1);this.talk(1);break;case "tutorialDesktop1":this.closeText(!0);this.active=!1;break;case "tutorialDesktop2":this.closeText(!0);this.active=!1;break;case "tutorialMika":this.currentText="tutorialDesktop2";d.isMobile?(this.currentText="tutorialMobile2",f.createXMLSprite(this.bubble,this.txt,
d.ipadFont,"Left",20,12,d.translations.node.resolve("tutorialMobile2"))):f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",20,12,d.translations.node.resolve("tutorialDesktop2"));this.txt.$CF[1].setTint(0);this.powerbar=(new e).add(new Ba("mika",!0,226,75,r(this,this.powerbarCallback)));this.bubble.addChild(this.powerbar);this.powerbar.$CF[1].setScale(0.6);this.spacebar.$CF[1].alpha.set__(1);this.talk(1);break;case "tutorialMiles":this.currentText="tutorialDesktop1";d.isMobile?(this.currentText=
"tutorialMobile1",f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",20,12,d.translations.node.resolve("tutorialMobile1"))):f.createXMLSprite(this.bubble,this.txt,d.ipadFont,"Left",20,12,d.translations.node.resolve("tutorialDesktop1"));this.txt.$CF[1].setTint(0);this.powerbar=(new e).add(new Fa("miles",!0,225,75,r(this,this.powerbarCallback)));this.bubble.addChild(this.powerbar);this.powerbar.$CF[1].setScale(0.6);this.controls.$CF[1].alpha.set__(1);this.talk(1);break;case "tutorialMobile1":this.closeText(!0);
this.active=!1;break;case "tutorialMobile2":this.closeText(!0);this.active=!1;break;default:this.closeText(!1),this.active=!1}this.bubble.addChild(this.closeBtn)},onPointerMove:function(a){f.rolloverImage(this.closeBtn,"hud/close","hud/close_rollover",a)},powerbarCallback:function(a){if(null!=this.powerbar.$CF[35])this.highlightSpacebar.$CF[1].alpha.animate(1,0,0.7,q.sineIn);else switch(this.powerbar.$CF[38].lastAction[1]){case 0:this.highlightUp.$CF[1].alpha.animate(1,0,0.7,q.sineIn);break;case 1:this.highlightDown.$CF[1].alpha.animate(1,
0,0.7,q.sineIn);break;case 2:this.highlightLeft.$CF[1].alpha.animate(1,0,0.7,q.sineIn);break;case 3:this.highlightRight.$CF[1].alpha.animate(1,0,0.7,q.sineIn)}},__class__:Xb});var Dd=function(a,b,c){this.score=0;this.activeChar="bose";this.timerRunning=this.powerbarActive=this.tasksComplete=!1;this.timer=0;this.oneSecond=2;this.seconds=90;this.hadWrongCharHint=!1;w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c;this.score=d.mission1Nachos();d.hadMissionSelectHint=!0};m["project.Level1"]=
Dd;Dd.__name__=["project","Level1"];Dd.__super__=w;Dd.prototype=y(w.prototype,{get_entitySlot:function(){return 21},onAdded:function(){d.isMobile&&this.connect1(n.$3F.$OF.down,r(this,this.handleTouchDown));this.connect1(n.$3F.getKeyboard().down,r(this,this.keyDownHandler));this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.connect1(n.$3F.$LF.move,r(this,this.onPointerMove));this.startGame();this.musicLoop=d.pack.getSound("audio/DangerForce_Gameplay_Full").loop();this.musicLoop.volume.set__(0);
d.muteMusic||this.musicLoop.volume.animateTo(0.8,0.5)},onPointerDown:function(a){if(a.hit==this.helpBtn.$CF[1])this.schwoz.$CF[32].clickHint(),null!=this.powerbar&&(this.powerbar.dispose(),this.powerbar=null);else if(a.hit==this.pauseBtn.$CF[1])this.callback("PAUSE");else{var b=a.viewX/d.scale-d.offsetX/2-this.game.$CF[1].x.$iF;a=a.viewY/d.scale-d.offsetY/2-this.game.$CF[1].y.$iF;a>this.bose.$CF[1].y.$iF-250&&a<this.bose.$CF[1].y.$iF&&(b>this.bose.$CF[1].x.$iF-50&&b<this.bose.$CF[1].x.$iF+50?this.highlight("bose"):
b>this.mika.$CF[1].x.$iF-50&&b<this.mika.$CF[1].x.$iF+50?this.highlight("mika"):b>this.chapa.$CF[1].x.$iF-50&&b<this.chapa.$CF[1].x.$iF+50?this.highlight("chapa"):b>this.miles.$CF[1].x.$iF-50&&b<this.miles.$CF[1].x.$iF+50&&this.highlight("miles"))}},highlight:function(a){switch(a){case "bose":this.bose.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "chapa":this.chapa.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "mika":this.mika.$CF[34].highlight()&&
(this.activeChar=a,this.spawnPowerbar());break;case "miles":this.miles.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar())}},onPointerMove:function(a){0.9<this.helpBtn.$CF[1].alpha.$iF&&f.rolloverImage(this.helpBtn,"buttons/BTN_schwoz","buttons/BTN_schwoz_rollover",a);f.rolloverImage(this.pauseBtn,"buttons/BTN_pause","buttons/BTN_pause_rollover",a)},stopGame:function(){this.inPlay=!1;this.musicLoop.dispose()},startGame:function(){var a=this;this.screen=(new e).add(new G(16777215,d.staticWidth,
d.staticHeight));this.owner.addChild(this.screen);this.game=new e;f.createImageSprite(this.screen,this.game,"blank",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var b=new e;f.createImageSprite(this.game,b,"background",!1,0,0,"GAME");this.lasersDoor=new e;f.createImageSprite(this.game,this.lasersDoor,"door_laser_beams",!1,428,320,"GAME");this.keypad=new e;f.createImageSprite(this.game,this.keypad,"keypad_off",!1,285,500,"GAME");this.pencilshadow=new e;f.createImageSprite(this.game,this.pencilshadow,
"pencil_shadow",!1,412,716,"GAME");this.pencilGlow=new e;f.createImageSprite(this.game,this.pencilGlow,"pencil_glow",!1,368,676,"GAME");this.pencilGlow.$CF[1].alpha.set__(0);this.hintGlow=this.pencilGlow;this.pencil=new e;f.createImageSprite(this.game,this.pencil,"pencil",!1,412,710,"GAME");this.schwozShadow=(new e).add(new Ma(700,425));this.game.addChild(this.schwozShadow);b=(new e).add(new K("boss",525,720));this.game.addChild(b);this.boss=(new e).add(new L("boss",b,525,720,r(this,this.charCallback)));
this.game.addChild(this.boss);this.boseShadow=(new e).add(new K("bose",1E3,720));this.game.addChild(this.boseShadow);this.bose=(new e).add(new L("bose",this.boseShadow,1E3,720,r(this,this.charCallback)));this.game.addChild(this.bose);this.mikaShadow=(new e).add(new K("mika",1200,720));this.game.addChild(this.mikaShadow);this.mika=(new e).add(new L("mika",this.mikaShadow,1200,720,r(this,this.charCallback)));this.game.addChild(this.mika);this.milesShadow=(new e).add(new K("miles",900,725));this.game.addChild(this.milesShadow);
this.miles=(new e).add(new L("miles",this.milesShadow,900,725,r(this,this.charCallback)));this.game.addChild(this.miles);this.chapaShadow=(new e).add(new K("chapa",1100,725));this.game.addChild(this.chapaShadow);this.chapa=(new e).add(new L("chapa",this.chapaShadow,1100,725,r(this,this.charCallback)));this.game.addChild(this.chapa);this.gullShadow2=new e;f.createImageSprite(this.game,this.gullShadow2,"game/gull_placeholder",!0,490,785);this.gullShadow2.$CF[1].scaleY.set__(-1);this.gullShadow2.$CF[1].setTint(0);
this.gull2=new e;f.createImageSprite(this.game,this.gull2,"game/gull_placeholder",!0,490,700);this.gullShadow2.$CF[1].alpha.set__(0);this.gull2.$CF[1].alpha.set__(0);this.schwoz=(new e).add(new Na(this.schwozShadow,700,400,r(this,this.schwozCallback)));this.game.addChild(this.schwoz);this.laser1=new e;f.createImageSprite(this.game,this.laser1,"beam3",!1,640,0,"GAME");this.laser2=new e;f.createImageSprite(this.game,this.laser2,"beam2",!1,510,-12,"GAME");this.laser3=new e;f.createImageSprite(this.game,
this.laser3,"beam1",!1,160,0,"GAME");this.lasersDoor.$CF[1].alpha.set__(0);this.laser1.$CF[1].alpha.set__(0);this.laser2.$CF[1].alpha.set__(0);this.laser3.$CF[1].alpha.set__(0);b=new e;f.createImageSprite(this.screen,b,"hud/timer_nacho_frame",!1,32,15);f.alignLeft(b);this.bell=(new e).add(new J("hud/bell","idle",5,30));b.addChild(this.bell);var c=new e;f.createImageSprite(b,c,"mission/nacho_ball",!0,200,30);this.timeText=new e;f.createTextSprite(b,this.timeText,d.hudFont,"Center",90,7,f.formatTime(this.seconds));
this.nachoText=new e;f.createTextSprite(b,this.nachoText,d.hudFont,"Center",274,7,"0/3");this.helpBtn=new e;f.createImageSprite(this.screen,this.helpBtn,"buttons/BTN_schwoz",!0,this.screenWidth-160,50);f.alignRight(this.helpBtn);this.pauseBtn=new e;f.createImageSprite(this.screen,this.pauseBtn,"buttons/BTN_pause",!0,this.screenWidth-60,55);f.alignRight(this.pauseBtn);this.addNacho(1,900,650);this.addNacho(2,1100,650);this.addNacho(3,1300,650);this.inPlay=!0;b=this.game.$CF[1].x;b.set__(b.$iF-920);
b=this.miles.$CF[1].x;b.set__(b.$iF+830);b=this.bose.$CF[1].x;b.set__(b.$iF+830);b=this.chapa.$CF[1].x;b.set__(b.$iF+830);b=this.mika.$CF[1].x;b.set__(b.$iF+830);b=this.milesShadow.$CF[1].x;b.set__(b.$iF+880);b=this.boseShadow.$CF[1].x;b.set__(b.$iF+880);b=this.chapaShadow.$CF[1].x;b.set__(b.$iF+880);b=this.mikaShadow.$CF[1].x;b.set__(b.$iF+880);b=new s;b.run(new u([new k(2),new l(function(){a.miles.$CF[34].run();a.bose.$CF[34].run();a.chapa.$CF[34].run();a.mika.$CF[34].run();a.miles.$CF[1].x.animateBy(-880,
2);a.bose.$CF[1].x.animateBy(-880,2);a.chapa.$CF[1].x.animateBy(-880,2);a.mika.$CF[1].x.animateBy(-880,2);a.game.$CF[1].x.animateBy(920,2)}),new k(2),new l(function(){a.miles.$CF[34].idle();a.bose.$CF[34].idle();a.chapa.$CF[34].idle();a.mika.$CF[34].idle()}),new k(1),new l(function(){a.schwoz.$CF[32].clickHint()}),new k(2),new l(function(){a.miles.$CF[34].activate();a.bose.$CF[34].activate();a.chapa.$CF[34].activate();a.mika.$CF[34].activate();a.enableHelp(!0)}),new k(1),new l(function(){a.timerRunning=
!0})]));this.game.add(b);this.enableHelp(!1)},schwozCallback:function(a){var b=this;this.hintGlow.$CF[1].alpha.animate(0,1,0.5);a=new s;a.run(new u([new k(3),new l(function(){b.hintGlow.$CF[1].alpha.animateTo(0,0.5)})]));this.hintGlow.add(a)},turnOnLasers:function(){var a=this,b=this.keypad.$CF[1];(b instanceof I?b:null).texture=d.gamePack.getTexture("keypad_on");b=new s;b.run(new u([new k(0.2),new l(function(){a.lasersDoor.$CF[1].alpha.animateTo(1,0.5);a.playSound("laser_power_on",!0)}),new k(0.5),
new l(function(){a.laser1.$CF[1].alpha.animateTo(1,0.5);a.playSound("laser_power_on",!0)}),new k(0.3),new l(function(){a.laser2.$CF[1].alpha.animateTo(1,0.5);a.playSound("laser_power_on",!0);a.flicker(a.lasersDoor)}),new k(0.4),new l(function(){a.boss.$CF[34].bossDodge();a.laser3.$CF[1].alpha.animateTo(1,0.5);a.flicker(a.laser1);a.playSound("laser_power_on",!0)}),new k(0.6),new l(function(){a.flicker(a.laser2)}),new k(0.4),new l(function(){a.flicker(a.laser3)}),new k(1),new l(function(){a.bose.$CF[34].win();
a.activateChars(!0)})]));this.game.add(b)},charCallback:function(a,b){},spawnPowerbar:function(){null==this.powerbar&&(this.powerbar=this.activeChar==d.pendulumChar1||this.activeChar==d.pendulumChar2?(new e).add(new Ba(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))):(new e).add(new Fa(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))),this.screen.addChild(this.powerbar),this.activateChars(!1))},wrongChar:function(a){var b=
this;if(!this.hadWrongCharHint){this.hadWrongCharHint=!0;var c=new s;c.run(new u([new k(a),new l(function(){b.schwoz.$CF[32].wrongChar();b.activateChars(!0)})]));this.screen.add(c)}},powerbarCallback:function(a){this.actionSuccess=a;this.powerbarActive=!1;switch(this.activeChar){case "bose":a?(this.bose.$CF[34].performAction(!0),this.levitatePencil(1),this.bose.$CF[34].selectable=!1):(this.bose.$CF[34].performAction(!1),this.randomCharacter(this.bose),this.randomCharacter(this.bose).$CF[34].levitate(1),
this.bose.$CF[34].showCross(4),this.reactivateChars(4));this.game.addChild(this.chapa);break;case "chapa":this.fireBoltFail();this.chapa.$CF[34].showCross(3);a&&this.wrongChar(3);this.reactivateChars(3);break;case "mika":a?(this.mika.$CF[34].performAction(!0),this.mika.$CF[34].selectable=!1,this.wobblePencil(14),this.mika.$CF[34].showCross(4),this.wrongChar(4)):(this.mika.$CF[34].performAction(!1),this.wobblePencil(10),this.mika.$CF[34].showCross(4));this.reactivateChars(4);break;case "miles":this.teleportFail(),
this.miles.$CF[34].showCross(7.5),a&&this.wrongChar(7.5),this.reactivateChars(7.5)}this.powerbar=null},randomCharacter:function(a){var b=[];a!=this.bose&&b.push(this.bose);a!=this.miles&&b.push(this.miles);a!=this.mika&&b.push(this.mika);a!=this.chapa&&b.push(this.chapa);b=f.shuffle(b);return b[0]},levitatePencil:function(a){var b=this;this.tasksComplete=!0;this.helpBtn.$CF[1].alpha.set__(0.6);this.helpBtn.$CF[1].set_pointerEnabled(!1);var c=this.pencil.$CF[1].x.$iF,d=this.pencil.$CF[1].y.$iF,e=this.pencilshadow.$CF[1].y.$iF;
this.pencilGlow.$CF[1].alpha.animateTo(0,0.5);var f=new s;f.run(new u([new k(a),new l(function(){b.pencilGlow.$CF[1].set_visible(!1);b.pencil.$CF[1].y.animateBy(-140,1,q.sineInOut);b.pencilshadow.$CF[1].y.animateBy(140,1,q.sineInOut)}),new k(1),new l(function(){b.pencil.$CF[1].x.animateBy(-65,0.4,q.sineInOut);b.pencilshadow.$CF[1].x.animateBy(-65,0.4,q.sineInOut)}),new k(0.4),new l(function(){b.playSound("keypad_press",!0)}),new k(0.2),new l(function(){b.pencil.$CF[1].x.animateBy(10,0.4,q.sineInOut);
b.pencilshadow.$CF[1].x.animateBy(10,0.4,q.sineInOut)}),new k(0.4),new l(function(){b.pencil.$CF[1].x.animateBy(-10,0.4,q.sineInOut);b.pencilshadow.$CF[1].x.animateBy(-10,0.4,q.sineInOut);b.pencil.$CF[1].y.animateBy(5,0.4,q.sineInOut);b.pencilshadow.$CF[1].y.animateBy(5,0.4,q.sineInOut)}),new k(0.4),new l(function(){b.playSound("keypad_press2",!0)}),new k(0.2),new l(function(){b.pencil.$CF[1].x.animateBy(10,0.4,q.sineInOut);b.pencilshadow.$CF[1].x.animateBy(10,0.4,q.sineInOut)}),new k(0.4),new l(function(){b.pencil.$CF[1].x.animateBy(-10,
0.4,q.sineInOut);b.pencilshadow.$CF[1].x.animateBy(-10,0.4,q.sineInOut);b.pencil.$CF[1].y.animateBy(9,0.4,q.sineInOut);b.pencilshadow.$CF[1].y.animateBy(9,0.4,q.sineInOut)}),new k(0.4),new l(function(){b.playSound("keypad_press",!0)}),new k(0.3),new l(function(){b.turnOnLasers();b.pencil.$CF[1].x.animateBy(65,0.4,q.sineInOut);b.pencilshadow.$CF[1].x.animateBy(65,0.4,q.sineInOut)}),new k(0.3),new l(function(){b.pencil.$CF[1].x.animateTo(c,1,q.sineInOut);b.pencilshadow.$CF[1].x.animateTo(c,1,q.sineInOut);
b.pencil.$CF[1].y.animateTo(d,1,q.sineInOut);b.pencilshadow.$CF[1].y.animateTo(e,1,q.sineInOut)}),new k(7),new l(function(){b.musicLoop.volume.animateTo(0,0.2);b.callback("WIN")})]));this.pencil.add(f)},wobblePencil:function(a){var b=this,c=new s;c.run(new u([new k(0.6),new l(function(){b.pencil.$CF[1].rotation.animateTo(-a,0.6,q.sineOut)}),new k(0.6),new l(function(){b.pencil.$CF[1].rotation.animateTo(-a/2,0.6,q.sineInOut)}),new k(0.5),new l(function(){b.pencil.$CF[1].rotation.animateTo(0.8*-a,0.6,
q.sineInOut)}),new k(0.6),new l(function(){b.pencil.$CF[1].rotation.animateTo(0,0.6,q.sineIn)})]));this.pencil.add(c)},onUpdate:function(a){this.timerRunning&&!this.powerbarActive&&0<this.seconds&&(this.timer+=a,this.timer>this.oneSecond&&(this.timer-=this.oneSecond,this.seconds--,a=this.timeText.$CF[1],(a instanceof N?a:null).set_text(f.formatTime(this.seconds)),0!=this.seconds||this.tasksComplete||(this.bell.$CF[19].loop("ring"),this.playSound("bell"),this.missionFailed())));if(null!=this.nachos){a=
0;for(var b=this.nachos;a<b.length;){var c=b[a];++a;c.$CF[43].active&&30>f.vectorDistance(this.miles.$CF[1].x.$iF,c.$CF[1].x.$iF,0,0)&&c.$CF[43].collect()}}},missionFailed:function(){var a=this;this.bose.$CF[34].lose();this.mika.$CF[34].lose();this.miles.$CF[34].lose();this.chapa.$CF[34].lose();var b=new s;b.run(new u([new k(3.5),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("LOSE")})]));this.game.add(b)},teleportFail:function(){var a=this;this.miles.$CF[34].teleportTo(-500,1.5);
var b=new e;f.createImageSprite(this.owner,b,"game/background_beach",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);b.$CF[1].set_visible(!1);var c=(new e).add(new K("miles",750,685));b.addChild(c);var d=(new e).add(new L("miles",c,750,685,r(this,this.charCallback)));b.addChild(d);d.$CF[34].teleportTo(-500,0);d.$CF[34].faceRight(!0);var g=new e;f.createImageSprite(b,g,"game/gull_placeholder",!0,850,735);g.$CF[1].scaleY.set__(-1);g.$CF[1].setTint(0);g.$CF[1].alpha.set__(0.075);var m=new e;f.createImageSprite(b,
m,"game/gull_placeholder",!0,850,650);var n=(new e).add(new G(16777215,2E3,2E3));this.screen.addChild(n);n.$CF[1].alpha.set__(0);c=n.$CF[1].x;c.set__(c.$iF-300);c=new s;c.run(new u([new k(0.8),new l(function(){n.$CF[1].alpha.animateTo(1,0.2)}),new k(0.2),new l(function(){b.$CF[1].set_visible(!0);n.$CF[1].alpha.animateTo(0,0.2);a.playSound("beach_ambience")}),new k(0.75),new l(function(){d.$CF[34].teleportBack(0)}),new k(2),new l(function(){d.$CF[34].teleportTo(-500,0)}),new k(0.5),new l(function(){var a=
(new e).add(new ga(850,650));b.addChild(a)}),new k(0.15),new l(function(){m.$CF[1].alpha.animateTo(0,0.1);g.$CF[1].alpha.animateTo(0,0.1)}),new k(0.2),new l(function(){n.$CF[1].alpha.animateTo(1,0.25)}),new k(0.8),new l(function(){b.$CF[1].set_visible(!1);n.$CF[1].alpha.animateTo(0,0.25)}),new k(0.3),new l(function(){b.dispose();n.dispose();a.miles.$CF[34].teleportBack(0.4)}),new k(0.5),new l(function(){var b=(new e).add(new ga(a.miles.$CF[1].x.$iF-90,700));a.game.addChild(b)}),new k(0.15),new l(function(){a.gull2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-
90);a.gullShadow2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-90);a.gull2.$CF[1].alpha.animateTo(1,0.1);a.gullShadow2.$CF[1].alpha.animateTo(0.075,0.1)}),new k(0.5),new l(function(){a.playSound("seagull")})]));this.game.add(c)},fireBoltFail:function(){var a=this;this.chapa.$CF[34].performAction2(!1);var b=new s;b.run(new u([new k(1.1),new l(function(){var b=(new e).add(new ua(a.chapa.$CF[1].x.$iF-150,a.chapa.$CF[1].y.$iF-200));a.game.addChild(b);b.$CF[40].fire(-1E3,-400,2,25)})]));this.game.add(b)},handleTouchDown:function(a){},
keyDownHandler:function(a){d.testMode&&(a.key==g.Numpad7?this.callback("WIN"):a.key==g.Numpad1&&this.fireBoltFail())},addNacho:function(a,b,c){d.notCollected(a)&&(null==this.nachos&&(this.nachos=[]),a=(new e).add(new Xa(a,b,c,r(this,this.nachoCallback))),this.game.addChild(a),this.nachos.push(a))},nachoCallback:function(a){C.remove(this.nachos,a);this.score++;a=this.nachoText.$CF[1];(a instanceof N?a:null).set_text(this.score+"/3")},flicker:function(a){var b=new s;b.run(new xa(new u([new O(a.$CF[1].alpha,
f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,
1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15))])));a.add(b)},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},activateChars:function(a){this.miles.$CF[34].activate(a);this.bose.$CF[34].activate(a);
this.chapa.$CF[34].activate(a);this.mika.$CF[34].activate(a);this.enableHelp(a)},reactivateChars:function(a){var b=this,c=new s;c.run(new u([new k(a),new l(function(){b.activateChars(!0)})]));this.owner.add(c)},enableHelp:function(a){a?(this.helpBtn.$CF[1].alpha.set__(1),this.helpBtn.$CF[1].set_pointerEnabled(!0)):(this.helpBtn.$CF[1].alpha.set__(0.6),this.helpBtn.$CF[1].set_pointerEnabled(!1))},__class__:Dd});var Ed=function(a,b,c){this.score=0;this.activeChar="bose";this.timerRunning=this.powerbarActive=
this.tasksComplete=!1;this.timer=0;this.oneSecond=2;this.seconds=90;this.hadWrongCharHint=!1;this.missionStage=1;w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c;this.score=d.mission2Nachos()};m["project.Level2"]=Ed;Ed.__name__=["project","Level2"];Ed.__super__=w;Ed.prototype=y(w.prototype,{get_entitySlot:function(){return 22},onAdded:function(){d.isMobile&&this.connect1(n.$3F.$OF.down,r(this,this.handleTouchDown));this.connect1(n.$3F.getKeyboard().down,r(this,this.keyDownHandler));
this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.connect1(n.$3F.$LF.move,r(this,this.onPointerMove));this.startGame();this.musicLoop=d.pack.getSound("audio/DangerForce_Gameplay_Full").loop();this.musicLoop.volume.set__(0);d.muteMusic||this.musicLoop.volume.animateTo(0.8,0.5)},onPointerDown:function(a){if(a.hit==this.helpBtn.$CF[1])this.schwoz.$CF[32].clickHint(),null!=this.powerbar&&(this.powerbar.dispose(),this.powerbar=null);else if(a.hit==this.pauseBtn.$CF[1])this.callback("PAUSE");
else{var b=a.viewX/d.scale-d.offsetX/2-this.game.$CF[1].x.$iF;a=a.viewY/d.scale-d.offsetY/2-this.game.$CF[1].y.$iF;a>this.bose.$CF[1].y.$iF-250&&a<this.bose.$CF[1].y.$iF&&(b>this.bose.$CF[1].x.$iF-50&&b<this.bose.$CF[1].x.$iF+50?this.highlight("bose"):b>this.mika.$CF[1].x.$iF-50&&b<this.mika.$CF[1].x.$iF+50?this.highlight("mika"):b>this.chapa.$CF[1].x.$iF-50&&b<this.chapa.$CF[1].x.$iF+50?this.highlight("chapa"):b>this.miles.$CF[1].x.$iF-50&&b<this.miles.$CF[1].x.$iF+50&&this.highlight("miles"))}},
highlight:function(a){switch(a){case "bose":this.bose.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "chapa":this.chapa.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "mika":this.mika.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "miles":this.miles.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar())}},onPointerMove:function(a){0.9<this.helpBtn.$CF[1].alpha.$iF&&f.rolloverImage(this.helpBtn,"buttons/BTN_schwoz",
"buttons/BTN_schwoz_rollover",a);f.rolloverImage(this.pauseBtn,"buttons/BTN_pause","buttons/BTN_pause_rollover",a)},stopGame:function(){this.inPlay=!1;this.musicLoop.dispose()},startGame:function(){var a=this;this.screen=(new e).add(new G(16777215,d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);this.game=new e;f.createImageSprite(this.screen,this.game,"blank",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var b=new e;f.createImageSprite(this.game,b,"background",!1,0,0,"GAME");
this.leverGlow=new e;f.createImageSprite(this.game,this.leverGlow,"switch_glow",!0,1025,580,"GAME");this.leverGlow.$CF[1].alpha.set__(0);this.hintGlow=this.leverGlow;this.lever=new e;f.createImageSprite(this.game,this.lever,"switch_on",!0,1025,603,"GAME");this.lasers=new e;f.createImageSprite(this.game,this.lasers,"lasers",!1,805,-110,"GAME");this.flicker(this.lasers);this.schwozShadow=(new e).add(new Ma(765,425));this.game.addChild(this.schwozShadow);b=(new e).add(new K("boss",2510,840));this.game.addChild(b);
this.boss=(new e).add(new L("boss",b,2510,840,r(this,this.charCallback)));this.game.addChild(this.boss);this.rocksGlow=new e;f.createImageSprite(this.game,this.rocksGlow,"rocks_glow",!0,2400,250,"GAME");this.rocksGlow.$CF[1].alpha.set__(0);this.rocks=(new e).add(new J("boss","rockstart",2510,840,d.gamePack));this.game.addChild(this.rocks);b=new e;f.createImageSprite(this.game,b,"pebble",!0,950,550,"GAME");this.rock=new e;f.createImageSprite(this.game,this.rock,"pebble",!0,950,550,"GAME");this.pebble=
new e;f.createImageSprite(this.game,this.pebble,"pebble",!0,2510,-60,"GAME");this.mikaShadow=(new e).add(new K("mika",325,740));this.game.addChild(this.mikaShadow);this.mika=(new e).add(new L("mika",this.mikaShadow,325,740,r(this,this.charCallback)));this.game.addChild(this.mika);this.chapaShadow=(new e).add(new K("chapa",440,745));this.game.addChild(this.chapaShadow);this.chapa=(new e).add(new L("chapa",this.chapaShadow,440,745,r(this,this.charCallback)));this.game.addChild(this.chapa);this.boseShadow=
(new e).add(new K("bose",560,740));this.game.addChild(this.boseShadow);this.bose=(new e).add(new L("bose",this.boseShadow,560,740,r(this,this.charCallback)));this.game.addChild(this.bose);this.milesShadow=(new e).add(new K("miles",680,745));this.game.addChild(this.milesShadow);this.miles=(new e).add(new L("miles",this.milesShadow,680,745,r(this,this.charCallback)));this.game.addChild(this.miles);this.mika.$CF[34].faceRight(!0);this.chapa.$CF[34].faceRight(!0);this.bose.$CF[34].faceRight(!0);this.miles.$CF[34].faceRight(!0);
b=this.mika.$CF[1].x;b.set__(b.$iF-800);b=this.chapa.$CF[1].x;b.set__(b.$iF-800);b=this.bose.$CF[1].x;b.set__(b.$iF-800);b=this.miles.$CF[1].x;b.set__(b.$iF-800);b=this.mikaShadow.$CF[1].x;b.set__(b.$iF-800);b=this.chapaShadow.$CF[1].x;b.set__(b.$iF-800);b=this.boseShadow.$CF[1].x;b.set__(b.$iF-800);b=this.milesShadow.$CF[1].x;b.set__(b.$iF-800);this.gullShadow2=new e;f.createImageSprite(this.game,this.gullShadow2,"game/gull_placeholder",!0,490,785);this.gullShadow2.$CF[1].scaleY.set__(-1);this.gullShadow2.$CF[1].setTint(0);
this.gull2=new e;f.createImageSprite(this.game,this.gull2,"game/gull_placeholder",!0,490,700);this.gullShadow2.$CF[1].alpha.set__(0);this.gull2.$CF[1].alpha.set__(0);this.schwoz=(new e).add(new Na(this.schwozShadow,765,400,r(this,this.schwozCallback)));this.game.addChild(this.schwoz);this.addNacho(1,1400,650);this.addNacho(2,1550,650);this.addNacho(3,1700,650);b=new e;f.createImageSprite(this.screen,b,"hud/timer_nacho_frame",!1,32,15);f.alignLeft(b);this.bell=(new e).add(new J("hud/bell","idle",5,
30));b.addChild(this.bell);var c=new e;f.createImageSprite(b,c,"mission/nacho_ball",!0,200,30);this.timeText=new e;f.createTextSprite(b,this.timeText,d.hudFont,"Center",90,7,f.formatTime(this.seconds));this.nachoText=new e;f.createTextSprite(b,this.nachoText,d.hudFont,"Center",274,7,"0/3");this.helpBtn=new e;f.createImageSprite(this.screen,this.helpBtn,"buttons/BTN_schwoz",!0,this.screenWidth-160,50);f.alignRight(this.helpBtn);this.pauseBtn=new e;f.createImageSprite(this.screen,this.pauseBtn,"buttons/BTN_pause",
!0,this.screenWidth-60,55);f.alignRight(this.pauseBtn);b=new s;b.run(new u([new k(1),new l(function(){a.miles.$CF[34].runTo(a.miles.$CF[1].x.$iF+800,1.5)}),new k(0.5),new l(function(){a.bose.$CF[34].runTo(a.bose.$CF[1].x.$iF+800,1.5)}),new k(0.5),new l(function(){a.chapa.$CF[34].runTo(a.chapa.$CF[1].x.$iF+800,1.5)}),new k(0.5),new l(function(){a.mika.$CF[34].runTo(a.mika.$CF[1].x.$iF+800,1.5)}),new k(1.5),new l(function(){a.schwoz.$CF[32].clickHint()}),new k(2),new l(function(){a.miles.$CF[34].activate();
a.bose.$CF[34].activate();a.chapa.$CF[34].activate();a.mika.$CF[34].activate();a.enableHelp(!0)}),new k(1),new l(function(){a.timerRunning=!0})]));this.game.add(b);this.enableHelp(!1)},schwozCallback:function(a){var b=this;this.hintGlow.$CF[1].alpha.animate(0,1,0.5);a=new s;a.run(new u([new k(3),new l(function(){b.hintGlow.$CF[1].alpha.animateTo(0,0.5)})]));this.hintGlow.add(a)},onUpdate:function(a){this.timerRunning&&!this.powerbarActive&&0<this.seconds&&(this.timer+=a,this.timer>this.oneSecond&&
(this.timer-=this.oneSecond,this.seconds--,a=this.timeText.$CF[1],(a instanceof N?a:null).set_text(f.formatTime(this.seconds)),0!=this.seconds||this.tasksComplete||(this.bell.$CF[19].loop("ring"),this.playSound("bell"),this.missionFailed())));if(null!=this.nachos){a=0;for(var b=this.nachos;a<b.length;){var c=b[a];++a;c.$CF[43].active&&30>f.vectorDistance(this.miles.$CF[1].x.$iF,c.$CF[1].x.$iF,0,0)&&c.$CF[43].collect()}}},missionFailed:function(){var a=this;this.bose.$CF[34].lose();this.mika.$CF[34].lose();
this.miles.$CF[34].lose();this.chapa.$CF[34].lose();var b=new s;b.run(new u([new k(3.5),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("LOSE")})]));this.game.add(b)},charCallback:function(a,b){},spawnPowerbar:function(){null==this.powerbar&&(this.powerbar=this.activeChar==d.pendulumChar1||this.activeChar==d.pendulumChar2?(new e).add(new Ba(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))):(new e).add(new Fa(this.activeChar,!1,this.screenWidth/
2,this.screenHeight-70,r(this,this.powerbarCallback))),this.screen.addChild(this.powerbar),this.activateChars(!1))},wrongChar:function(a){var b=this;if(!this.hadWrongCharHint){this.hadWrongCharHint=!0;var c=new s;c.run(new u([new k(a),new l(function(){b.schwoz.$CF[32].wrongChar();b.activateChars(!0)})]));this.screen.add(c)}},powerbarCallback:function(a){this.actionSuccess=a;this.powerbarActive=!1;switch(this.activeChar){case "bose":this.bose.$CF[34].performAction(!1);this.randomCharacter(this.bose);
this.randomCharacter(this.bose).$CF[34].levitate(1);this.bose.$CF[34].showCross(4);a&&this.wrongChar(4);this.reactivateChars(4);break;case "chapa":this.fireBoltFail();this.chapa.$CF[34].showCross(3);a&&this.wrongChar(3);this.reactivateChars(3);break;case "mika":a?(this.mika.$CF[34].performAction(!0),this.mika.$CF[34].selectable=!1,2==this.missionStage?this.dropRocks():(this.dropSmallRock(),this.mika.$CF[34].showCross(4),this.wrongChar(4),this.reactivateChars(4))):(this.mika.$CF[34].performAction(!1),
2==this.missionStage?this.dropPebble():this.dropSmallRock(),this.mika.$CF[34].showCross(4),this.reactivateChars(4));break;case "miles":a?1==this.missionStage?this.turnOffLaser():(this.teleportFail(),this.miles.$CF[34].showCross(7.5),this.wrongChar(7.5),this.reactivateChars(7.5)):(this.teleportFail(),this.miles.$CF[34].showCross(7.5),this.reactivateChars(7.5))}this.powerbar=null},randomCharacter:function(a){var b=[];a!=this.bose&&b.push(this.bose);a!=this.miles&&b.push(this.miles);a!=this.mika&&b.push(this.mika);
a!=this.chapa&&b.push(this.chapa);b=f.shuffle(b);return b[0]},teleportFail:function(){var a=this;this.miles.$CF[34].teleportTo(-500,1.5);var b=new e;f.createImageSprite(this.owner,b,"game/background_beach",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);b.$CF[1].set_visible(!1);var c=(new e).add(new K("miles",750,685));b.addChild(c);var d=(new e).add(new L("miles",c,750,685,r(this,this.charCallback)));b.addChild(d);d.$CF[34].teleportTo(-500,0);d.$CF[34].faceRight(!0);var g=new e;f.createImageSprite(b,
g,"game/gull_placeholder",!0,850,735);g.$CF[1].scaleY.set__(-1);g.$CF[1].setTint(0);g.$CF[1].alpha.set__(0.075);var m=new e;f.createImageSprite(b,m,"game/gull_placeholder",!0,850,650);var n=(new e).add(new G(16777215,2E3,2E3));this.screen.addChild(n);n.$CF[1].alpha.set__(0);c=n.$CF[1].x;c.set__(c.$iF-300);c=new s;c.run(new u([new k(0.8),new l(function(){n.$CF[1].alpha.animateTo(1,0.2)}),new k(0.2),new l(function(){b.$CF[1].set_visible(!0);n.$CF[1].alpha.animateTo(0,0.2);a.playSound("beach_ambience")}),
new k(0.75),new l(function(){d.$CF[34].teleportBack(0)}),new k(2),new l(function(){d.$CF[34].teleportTo(-500,0)}),new k(0.5),new l(function(){var a=(new e).add(new ga(850,650));b.addChild(a)}),new k(0.15),new l(function(){m.$CF[1].alpha.animateTo(0,0.1);g.$CF[1].alpha.animateTo(0,0.1)}),new k(0.2),new l(function(){n.$CF[1].alpha.animateTo(1,0.25)}),new k(0.8),new l(function(){b.$CF[1].set_visible(!1);n.$CF[1].alpha.animateTo(0,0.25)}),new k(0.3),new l(function(){b.dispose();n.dispose();a.miles.$CF[34].teleportBack(0.4)}),
new k(0.5),new l(function(){var b=(new e).add(new ga(a.miles.$CF[1].x.$iF-90,700));a.game.addChild(b)}),new k(0.15),new l(function(){a.gull2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-90);a.gullShadow2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-90);a.gull2.$CF[1].alpha.animateTo(1,0.1);a.gullShadow2.$CF[1].alpha.animateTo(0.075,0.1)}),new k(0.5),new l(function(){a.playSound("seagull")})]));this.game.add(c)},turnOffLaser:function(){var a=this;this.miles.$CF[34].teleportTo(1090,1.5,!0);var b=new s;b.run(new u([new k(1.5),
new l(function(){a.miles.$CF[34].faceRight(!1)}),new k(2),new l(function(){var b=a.lever.$CF[1];(b instanceof I?b:null).texture=d.gamePack.getTexture("switch_off");a.playSound("switch",!0)}),new k(0.2),new l(function(){a.lasers.$CF[11].stopAll();a.lasers.$CF[1].alpha.animateTo(0,0.25);a.playSound("laser_shutdown",!0)}),new k(1),new l(function(){a.game.$CF[1].x.animateBy(-1500,4);a.bose.$CF[34].runTo(2070,4)}),new k(0.2),new l(function(){a.miles.$CF[34].runTo(2190,3.8);a.chapa.$CF[34].runTo(1940,3.8)}),
new k(0.2),new l(function(){a.mika.$CF[34].runTo(1830,3.8);a.missionStage=2;a.hintGlow=a.rocksGlow;a.schwoz.$CF[32].nextHint(2)}),new k(4),new l(function(){a.schwoz.$CF[1].x.set__(2350);a.schwoz.$CF[32].clickHint();a.activateChars(!0)})]));this.game.add(b)},dropRocks:function(){var a=this;this.tasksComplete=!0;this.helpBtn.$CF[1].alpha.set__(0.6);this.helpBtn.$CF[1].set_pointerEnabled(!1);var b=new s;b.run(new u([new k(1),new l(function(){a.boss.$CF[34].testAnim("ko","kod")}),new k(0.9),new l(function(){a.rocks.$CF[19].play("rock",
"rockend");a.playSound("rockfall",!0)}),new k(0.7),new l(function(){a.boss.$CF[1].set_visible(!1)}),new k(0.2),new l(function(){var b=(new e).add(new J("boss","blink",2510,840,d.gamePack));a.game.addChild(b)}),new k(1),new l(function(){a.playSound("blink",!0);a.mika.$CF[34].win()}),new k(1),new l(function(){a.playSound("blink",!0)}),new k(1.5),new l(function(){a.game.$CF[1].x.animateBy(1500,3.5)}),new k(0.5),new l(function(){a.mika.$CF[34].runTo(-100,4);a.playSound("blink",!0)}),new k(0.2),new l(function(){a.chapa.$CF[34].runTo(-100,
4)}),new k(0.2),new l(function(){a.bose.$CF[34].runTo(-100,4)}),new k(0.2),new l(function(){a.miles.$CF[34].runTo(-100,4)}),new k(4),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("WIN")})]));this.game.add(b)},dropSmallRock:function(){var a=this,b=new s;b.run(new u([new k(1),new l(function(){a.rock.$CF[1].y.animateBy(175,0.75,q.sineIn);a.rock.$CF[1].x.animateBy(25,0.75);a.rock.$CF[1].rotation.animateBy(15,0.75)}),new k(0.75),new l(function(){a.rock.$CF[1].y.animateBy(-25,0.25,q.sineOut);
a.rock.$CF[1].x.animateBy(200,1.25);a.rock.$CF[1].rotation.animateBy(150,1.25)}),new k(0.25),new l(function(){a.rock.$CF[1].y.animateBy(700,1,q.sineIn)}),new k(1),new l(function(){a.rock.$CF[1].setXY(950,550);a.rock.$CF[1].rotation.set__(0)})]));this.rock.add(b)},dropPebble:function(){var a=this,b=new s;b.run(new u([new k(1),new l(function(){a.pebble.$CF[1].y.animateBy(565,1,q.sineIn)}),new k(1),new l(function(){a.boss.$CF[34].testAnim("bump","idle");a.pebble.$CF[1].y.animateBy(-25,0.25,q.sineOut);
a.pebble.$CF[1].x.animateBy(-200,1.25);a.pebble.$CF[1].rotation.animateBy(-180,1.25)}),new k(0.25),new l(function(){a.pebble.$CF[1].y.animateBy(700,1,q.sineIn)}),new k(1),new l(function(){a.pebble.$CF[1].setXY(2500,-60);a.pebble.$CF[1].rotation.set__(0)})]));this.game.add(b)},fireBoltFail:function(){var a=this;this.chapa.$CF[34].performAction2(!1);var b=new s;b.run(new u([new k(1.1),new l(function(){var b=(new e).add(new ua(a.chapa.$CF[1].x.$iF+150,a.chapa.$CF[1].y.$iF-200));a.game.addChild(b);b.$CF[40].fire(1E3,
-400,2,-25)})]));this.game.add(b)},handleTouchDown:function(a){},keyDownHandler:function(a){d.testMode&&a.key==g.Number7&&this.callback("WIN")},addNacho:function(a,b,c){d.notCollected(a)&&(null==this.nachos&&(this.nachos=[]),a=(new e).add(new Xa(a,b,c,r(this,this.nachoCallback))),this.game.addChild(a),this.nachos.push(a))},nachoCallback:function(a){C.remove(this.nachos,a);this.score++;a=this.nachoText.$CF[1];(a instanceof N?a:null).set_text(this.score+"/3")},flicker:function(a){var b=new s;b.run(new xa(new u([new O(a.$CF[1].alpha,
f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,
1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15)),new O(a.$CF[1].alpha,f.randomNumberFloat(0.8,1),f.randomNumberFloat(0.05,0.15))])));a.add(b)},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},activateChars:function(a){this.miles.$CF[34].activate(a);this.bose.$CF[34].activate(a);
this.chapa.$CF[34].activate(a);this.mika.$CF[34].activate(a);this.enableHelp(a)},reactivateChars:function(a){var b=this,c=new s;c.run(new u([new k(a),new l(function(){b.activateChars(!0)})]));this.owner.add(c)},enableHelp:function(a){a?(this.helpBtn.$CF[1].alpha.set__(1),this.helpBtn.$CF[1].set_pointerEnabled(!0)):(this.helpBtn.$CF[1].alpha.set__(0.6),this.helpBtn.$CF[1].set_pointerEnabled(!1))},__class__:Ed});var Fd=function(a,b,c){this.score=0;this.activeChar="bose";this.timerRunning=this.powerbarActive=
this.tasksComplete=!1;this.timer=0;this.oneSecond=2;this.seconds=90;this.hadWrongCharHint=!1;this.missionStage=1;w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c;this.score=d.mission3Nachos()};m["project.Level3"]=Fd;Fd.__name__=["project","Level3"];Fd.__super__=w;Fd.prototype=y(w.prototype,{get_entitySlot:function(){return 23},onAdded:function(){d.isMobile&&this.connect1(n.$3F.$OF.down,r(this,this.handleTouchDown));this.connect1(n.$3F.getKeyboard().down,r(this,this.keyDownHandler));
this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.connect1(n.$3F.$LF.move,r(this,this.onPointerMove));this.startGame();this.musicLoop=d.pack.getSound("audio/DangerForce_Gameplay_Full").loop();this.musicLoop.volume.set__(0);d.muteMusic||this.musicLoop.volume.animateTo(0.8,0.5)},onPointerDown:function(a){if(a.hit==this.helpBtn.$CF[1])this.schwoz.$CF[32].clickHint(),null!=this.powerbar&&(this.powerbar.dispose(),this.powerbar=null);else if(a.hit==this.pauseBtn.$CF[1])this.callback("PAUSE");
else{var b=a.viewX/d.scale-d.offsetX/2-this.game.$CF[1].x.$iF;a=a.viewY/d.scale-d.offsetY/2-this.game.$CF[1].y.$iF;a>this.bose.$CF[1].y.$iF-250&&a<this.bose.$CF[1].y.$iF&&(b>this.bose.$CF[1].x.$iF-50&&b<this.bose.$CF[1].x.$iF+50?this.highlight("bose"):b>this.mika.$CF[1].x.$iF-50&&b<this.mika.$CF[1].x.$iF+50?this.highlight("mika"):b>this.chapa.$CF[1].x.$iF-50&&b<this.chapa.$CF[1].x.$iF+50?this.highlight("chapa"):b>this.miles.$CF[1].x.$iF-50&&b<this.miles.$CF[1].x.$iF+50&&this.highlight("miles"))}},
highlight:function(a){switch(a){case "bose":this.bose.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "chapa":this.chapa.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "mika":this.mika.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "miles":this.miles.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar())}},onPointerMove:function(a){0.9<this.helpBtn.$CF[1].alpha.$iF&&f.rolloverImage(this.helpBtn,"buttons/BTN_schwoz",
"buttons/BTN_schwoz_rollover",a);f.rolloverImage(this.pauseBtn,"buttons/BTN_pause","buttons/BTN_pause_rollover",a)},stopGame:function(){this.inPlay=!1;this.musicLoop.dispose()},startGame:function(){var a=this;this.screen=(new e).add(new G(16777215,d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);this.game=new e;f.createImageSprite(this.screen,this.game,"blank",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);f.alignLeft(this.game);var b=this.game.$CF[1].x;b.set__(b.$iF-400);b=
new e;f.createImageSprite(this.game,b,"background",!1,0,0,"GAME");b=new e;f.createImageSprite(this.game,b,"kid_danger",!1,723,328,"GAME");this.cheeseShadow=new e;f.createImageSprite(this.game,this.cheeseShadow,"cheese_pot_shadow",!0,275,585,"GAME");this.potGlow=new e;f.createImageSprite(this.game,this.potGlow,"pot_glow",!0,319,542,"GAME");this.potGlow.$CF[1].alpha.set__(0);this.hintGlow=this.potGlow;this.cheesePot=new e;f.createImageSprite(this.game,this.cheesePot,"cheese_pot",!0,319,542,"GAME");
this.cheese=new e;f.createImageSprite(this.game,this.cheese,"cheese",!0,300,590,"GAME");this.schwozShadow=(new e).add(new Ma(1100,425));this.game.addChild(this.schwozShadow);b=(new e).add(new K("boss",800,720));this.game.addChild(b);this.boss=(new e).add(new L("boss",b,800,720,r(this,this.charCallback)));this.game.addChild(this.boss);this.boss.$CF[34].faceRight(!0);this.boseShadow=(new e).add(new K("bose",1350,720));this.game.addChild(this.boseShadow);this.bose=(new e).add(new L("bose",this.boseShadow,
1350,720,r(this,this.charCallback)));this.game.addChild(this.bose);this.mikaShadow=(new e).add(new K("mika",1550,720));this.game.addChild(this.mikaShadow);this.mika=(new e).add(new L("mika",this.mikaShadow,1550,720,r(this,this.charCallback)));this.game.addChild(this.mika);this.milesShadow=(new e).add(new K("miles",1250,725));this.game.addChild(this.milesShadow);this.miles=(new e).add(new L("miles",this.milesShadow,1250,725,r(this,this.charCallback)));this.game.addChild(this.miles);this.chapaShadow=
(new e).add(new K("chapa",1450,725));this.game.addChild(this.chapaShadow);this.chapa=(new e).add(new L("chapa",this.chapaShadow,1450,725,r(this,this.charCallback)));this.game.addChild(this.chapa);this.gullShadow2=new e;f.createImageSprite(this.game,this.gullShadow2,"game/gull_placeholder",!0,490,785);this.gullShadow2.$CF[1].scaleY.set__(-1);this.gullShadow2.$CF[1].setTint(0);this.gull2=new e;f.createImageSprite(this.game,this.gull2,"game/gull_placeholder",!0,490,700);this.gullShadow2.$CF[1].alpha.set__(0);
this.gull2.$CF[1].alpha.set__(0);this.schwoz=(new e).add(new Na(this.schwozShadow,1100,400,r(this,this.schwozCallback)));this.game.addChild(this.schwoz);this.schwoz.$CF[32].faceRight(!0);b=new e;f.createImageSprite(this.screen,b,"hud/timer_nacho_frame",!1,32,15);f.alignLeft(b);this.bell=(new e).add(new J("hud/bell","idle",5,30));b.addChild(this.bell);var c=new e;f.createImageSprite(b,c,"mission/nacho_ball",!0,200,30);this.timeText=new e;f.createTextSprite(b,this.timeText,d.hudFont,"Center",90,7,f.formatTime(this.seconds));
this.nachoText=new e;f.createTextSprite(b,this.nachoText,d.hudFont,"Center",274,7,"0/3");this.helpBtn=new e;f.createImageSprite(this.screen,this.helpBtn,"buttons/BTN_schwoz",!0,this.screenWidth-160,50);f.alignRight(this.helpBtn);this.pauseBtn=new e;f.createImageSprite(this.screen,this.pauseBtn,"buttons/BTN_pause",!0,this.screenWidth-60,55);f.alignRight(this.pauseBtn);this.addNacho(1,700,650);this.addNacho(2,900,650);this.addNacho(3,1E3,650);this.inPlay=!0;b=new s;b.run(new u([new k(1.5),new l(function(){a.boss.$CF[34].testAnim("taunt",
"idle")}),new k(1),new l(function(){a.miles.$CF[34].activate();a.bose.$CF[34].activate();a.chapa.$CF[34].activate();a.mika.$CF[34].activate();a.enableHelp(!0)}),new k(1),new l(function(){a.timerRunning=!0})]));this.game.add(b);this.enableHelp(!1)},schwozCallback:function(a){var b=this;this.hintGlow.$CF[1].alpha.animate(0,1,0.5);a=new s;a.run(new u([new k(3),new l(function(){b.hintGlow.$CF[1].alpha.animateTo(0,0.5)})]));this.hintGlow.add(a)},runSequence:function(){var a=this,b=new s;b.run(new u([new k(0),
new l(function(){a.miles.$CF[34].run();a.bose.$CF[34].run();a.chapa.$CF[34].run();a.mika.$CF[34].run();a.miles.$CF[1].x.animateBy(-530,1.5);a.bose.$CF[1].x.animateBy(-530,1.5);a.chapa.$CF[1].x.animateBy(-530,1.5);a.mika.$CF[1].x.animateBy(-530,1.5);a.game.$CF[1].x.animateBy(-0,1.5)}),new k(1.5),new l(function(){a.miles.$CF[34].idle();a.bose.$CF[34].idle();a.chapa.$CF[34].idle();a.mika.$CF[34].idle()}),new k(1),new l(function(){var b=a.schwoz.$CF[1].x;b.set__(b.$iF-480);a.schwoz.$CF[32].nextHint(2);
a.missionStage=2;a.reactivateChars(0)})]));this.game.add(b)},charCallback:function(a,b){},spawnPowerbar:function(){null==this.powerbar&&(this.powerbar=this.activeChar==d.pendulumChar1||this.activeChar==d.pendulumChar2?(new e).add(new Ba(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))):(new e).add(new Fa(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))),this.screen.addChild(this.powerbar),this.activateChars(!1))},wrongChar:function(a){var b=
this;if(!this.hadWrongCharHint){this.hadWrongCharHint=!0;var c=new s;c.run(new u([new k(a),new l(function(){b.schwoz.$CF[32].wrongChar();b.activateChars(!0)})]));this.screen.add(c)}},powerbarCallback:function(a){this.actionSuccess=a;this.powerbarActive=!1;switch(this.activeChar){case "bose":a?(this.bose.$CF[34].performAction(!0),2==this.missionStage?this.levitateSuccess():(this.randomCharacter(this.bose),this.randomCharacter(this.bose).$CF[34].levitate(1),this.bose.$CF[34].showCross(4),this.wrongChar(4),
this.reactivateChars(4))):(this.bose.$CF[34].performAction(!1),2==this.missionStage?this.levitateFail():(this.randomCharacter(this.bose),this.randomCharacter(this.bose).$CF[34].levitate(1)),this.bose.$CF[34].showCross(4),this.reactivateChars(4));break;case "chapa":a&&1==this.missionStage?this.fireBoltSuccess():(this.fireBoltFail(),this.chapa.$CF[34].showCross(3),a&&this.wrongChar(3),this.reactivateChars(3));break;case "mika":this.mika.$CF[34].performAction(!1);this.wobblePot(3);this.mika.$CF[34].showCross(4);
a&&this.wrongChar(4);this.reactivateChars(4);break;case "miles":this.teleportFail(),this.miles.$CF[34].showCross(7.5),a&&this.wrongChar(7.5),this.reactivateChars(7.5)}this.powerbar=null},randomCharacter:function(a){var b=[];a!=this.bose&&b.push(this.bose);a!=this.miles&&b.push(this.miles);a!=this.mika&&b.push(this.mika);a!=this.chapa&&b.push(this.chapa);b=f.shuffle(b);return b[0]},onUpdate:function(a){this.timerRunning&&!this.powerbarActive&&0<this.seconds&&(this.timer+=a,this.timer>this.oneSecond&&
(this.timer-=this.oneSecond,this.seconds--,a=this.timeText.$CF[1],(a instanceof N?a:null).set_text(f.formatTime(this.seconds)),0!=this.seconds||this.tasksComplete||(this.bell.$CF[19].loop("ring"),this.playSound("bell"),this.missionFailed())));if(null!=this.nachos){a=0;for(var b=this.nachos;a<b.length;){var c=b[a];++a;c.$CF[43].active&&30>f.vectorDistance(this.miles.$CF[1].x.$iF,c.$CF[1].x.$iF,0,0)&&c.$CF[43].collect()}}},missionFailed:function(){var a=this;this.bose.$CF[34].lose();this.mika.$CF[34].lose();
this.miles.$CF[34].lose();this.chapa.$CF[34].lose();var b=new s;b.run(new u([new k(3.5),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("LOSE")})]));this.game.add(b)},teleportFail:function(){var a=this;this.miles.$CF[34].teleportTo(-500,1.5);var b=new e;f.createImageSprite(this.owner,b,"game/background_beach",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);b.$CF[1].set_visible(!1);var c=(new e).add(new K("miles",750,685));b.addChild(c);var d=(new e).add(new L("miles",c,750,
685,r(this,this.charCallback)));b.addChild(d);d.$CF[34].teleportTo(-500,0);d.$CF[34].faceRight(!0);var g=new e;f.createImageSprite(b,g,"game/gull_placeholder",!0,850,735);g.$CF[1].scaleY.set__(-1);g.$CF[1].setTint(0);g.$CF[1].alpha.set__(0.075);var m=new e;f.createImageSprite(b,m,"game/gull_placeholder",!0,850,650);var n=(new e).add(new G(16777215,2E3,2E3));this.screen.addChild(n);n.$CF[1].alpha.set__(0);c=n.$CF[1].x;c.set__(c.$iF-300);c=new s;c.run(new u([new k(0.8),new l(function(){n.$CF[1].alpha.animateTo(1,
0.2)}),new k(0.2),new l(function(){b.$CF[1].set_visible(!0);n.$CF[1].alpha.animateTo(0,0.2);a.playSound("beach_ambience")}),new k(0.75),new l(function(){d.$CF[34].teleportBack(0)}),new k(2),new l(function(){d.$CF[34].teleportTo(-500,0)}),new k(0.5),new l(function(){var a=(new e).add(new ga(850,650));b.addChild(a)}),new k(0.15),new l(function(){m.$CF[1].alpha.animateTo(0,0.1);g.$CF[1].alpha.animateTo(0,0.1)}),new k(0.2),new l(function(){n.$CF[1].alpha.animateTo(1,0.25)}),new k(0.8),new l(function(){b.$CF[1].set_visible(!1);
n.$CF[1].alpha.animateTo(0,0.25)}),new k(0.3),new l(function(){b.dispose();n.dispose();a.miles.$CF[34].teleportBack(0.4)}),new k(0.5),new l(function(){var b=(new e).add(new ga(a.miles.$CF[1].x.$iF-90,700));a.game.addChild(b)}),new k(0.15),new l(function(){a.gull2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-90);a.gullShadow2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-90);a.gull2.$CF[1].alpha.animateTo(1,0.1);a.gullShadow2.$CF[1].alpha.animateTo(0.075,0.1)}),new k(0.5),new l(function(){a.playSound("seagull")})]));
this.game.add(c)},fireBoltSuccess:function(){var a=this;this.chapa.$CF[34].performAction(!1);var b=new e,c=new s;c.run(new u([new k(1.1),new l(function(){b.add(new ua(a.chapa.$CF[1].x.$iF-150,a.chapa.$CF[1].y.$iF-175));a.game.addChild(b);b.$CF[40].fire(-1E3,0,1.5,0)}),new k(0.7),new l(function(){var c=(new e).add(new cb(!0,b.$CF[1].x.$iF-25,b.$CF[1].y.$iF));a.game.addChild(c);a.playSound("enemy_hit",!0);b.$CF[1].alpha.animateTo(0,0.25);a.game.$CF[1].x.animateBy(430,1,q.sineOut);a.boss.$CF[1].x.animateBy(-430,
1,q.sineOut);a.boss.$CF[1].y.animateBy(10,1,q.sineOut);a.boss.$CF[34].testAnim("hit","ko")}),new k(0.8),new l(function(){a.playSound("hit1");a.screenShake(2,0.2)}),new k(0.7),new l(function(){a.runSequence()})]));this.game.add(c)},fireBoltFail:function(){var a=this;this.chapa.$CF[34].performAction2(!1);var b=new s;b.run(new u([new k(1.1),new l(function(){var b=(new e).add(new ua(a.chapa.$CF[1].x.$iF-150,a.chapa.$CF[1].y.$iF-200));a.game.addChild(b);b.$CF[40].fire(-1E3,-400,2,25)})]));this.game.add(b)},
levitateSuccess:function(){var a=this,b=new s;b.run(new u([new k(1),new l(function(){a.cheeseShadow.$CF[1].alpha.animateTo(0,0.25);a.cheesePot.$CF[1].y.animateBy(-110,1,q.sineInOut);a.cheese.$CF[1].y.animateBy(-140,1.5,q.sineInOut)}),new k(0.1),new l(function(){var b=a.cheesePot.$CF[1];(b instanceof I?b:null).texture=d.gamePack.getTexture("pot2")}),new k(0.4),new l(function(){a.cheesePot.$CF[1].x.animateBy(108,1,q.sineInOut);a.cheese.$CF[1].x.animateBy(20,1.3,q.sineInOut)}),new k(1),new l(function(){var b=
a.cheesePot.$CF[1];(b instanceof I?b:null).texture=d.gamePack.getTexture("pot3");a.cheesePot.$CF[1].y.animateBy(80,0.3,q.sineIn)}),new k(0.3),new l(function(){a.cheese.$CF[1].y.animateBy(180,0.5,q.sineIn);a.cheesePot.$CF[1].set_visible(!1);a.boss.$CF[34].testAnim("cheese","cheeseloop")}),new k(0.25),new l(function(){a.playSound("pot_drop_on_head",!0)}),new k(0.25),new l(function(){a.cheese.$CF[1].y.animateBy(-15,0.2,q.sineOut);a.cheese.$CF[1].x.animateBy(-300,1.8);a.cheese.$CF[1].rotation.animateBy(-150,
2);a.playSound("hit1")}),new k(0.3),new l(function(){a.playSound("liquid_cheese",!0);a.cheese.$CF[1].y.animateBy(500,1.5,q.sineIn);a.cheese.$CF[1].x.animateBy(-300,1.8);a.cheese.$CF[1].rotation.animateBy(-150,2)}),new k(1),new l(function(){a.bose.$CF[34].win();a.playSound("bell_ding",!0);a.timerRunning=!1}),new k(3.5),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("WIN")})]));this.game.add(b)},levitateFail:function(){var a=this,b=new s;b.run(new u([new k(1),new l(function(){a.cheese.$CF[1].y.animateBy(-140,
1.5,q.sineInOut)}),new k(1.5),new l(function(){a.cheese.$CF[1].y.animateBy(140,1.5,q.sineInOut)})]));this.game.add(b)},wobblePot:function(a){var b=this,c=new s;c.run(new u([new k(0.6),new l(function(){b.cheesePot.$CF[1].rotation.animateTo(-a,0.6,q.sineOut)}),new k(0.6),new l(function(){b.cheesePot.$CF[1].rotation.animateTo(-a/2,0.6,q.sineInOut)}),new k(0.5),new l(function(){b.cheesePot.$CF[1].rotation.animateTo(0.8*-a,0.6,q.sineInOut)}),new k(0.6),new l(function(){b.cheesePot.$CF[1].rotation.animateTo(0,
0.6,q.sineIn)})]));this.cheesePot.add(c)},handleTouchDown:function(a){},keyDownHandler:function(a){d.testMode&&(a.key==g.Number7?this.callback("WIN"):a.key==g.Numpad1?this.fireBoltSuccess():a.key==g.Numpad2?this.fireBoltFail():a.key==g.Numpad3?this.levitateSuccess():a.key==g.Numpad4?this.levitateFail():a.key==g.Numpad5&&this.wobblePot(3))},addNacho:function(a,b,c){d.notCollected(a)&&(null==this.nachos&&(this.nachos=[]),a=(new e).add(new Xa(a,b,c,r(this,this.nachoCallback))),this.game.addChild(a),
this.nachos.push(a))},nachoCallback:function(a){C.remove(this.nachos,a);this.score++;a=this.nachoText.$CF[1];(a instanceof N?a:null).set_text(this.score+"/3")},screenShake:function(a,b){var c=new s;c.run(new u([new Cb(2*a,0,2*b),new k(1)]));this.screen.add(c)},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},activateChars:function(a){this.miles.$CF[34].activate(a);this.bose.$CF[34].activate(a);this.chapa.$CF[34].activate(a);
this.mika.$CF[34].activate(a);this.enableHelp(a)},reactivateChars:function(a){var b=this,c=new s;c.run(new u([new k(a),new l(function(){b.activateChars(!0)})]));this.owner.add(c)},enableHelp:function(a){a?(this.helpBtn.$CF[1].alpha.set__(1),this.helpBtn.$CF[1].set_pointerEnabled(!0)):(this.helpBtn.$CF[1].alpha.set__(0.6),this.helpBtn.$CF[1].set_pointerEnabled(!1))},__class__:Fd});var Gd=function(a,b,c){this.score=0;this.activeChar="bose";this.timerRunning=this.powerbarActive=this.tasksComplete=!1;
this.timer=0;this.oneSecond=2;this.seconds=90;this.hadWrongCharHint=!1;this.missionStage=1;w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c;this.score=d.mission4Nachos()};m["project.Level4"]=Gd;Gd.__name__=["project","Level4"];Gd.__super__=w;Gd.prototype=y(w.prototype,{get_entitySlot:function(){return 24},onAdded:function(){d.isMobile&&this.connect1(n.$3F.$OF.down,r(this,this.handleTouchDown));this.connect1(n.$3F.getKeyboard().down,r(this,this.keyDownHandler));this.connect1(n.$3F.$LF.down,
r(this,this.onPointerDown));this.connect1(n.$3F.$LF.move,r(this,this.onPointerMove));this.startGame();this.musicLoop=d.pack.getSound("audio/DangerForce_Gameplay_Full").loop();this.musicLoop.volume.set__(0);d.muteMusic||this.musicLoop.volume.animateTo(0.8,0.5);this.ambience=d.gamePack.getSound("audio/ambience_park").loop();this.ambience.volume.set__(0);this.ambience.volume.animateTo(1,0.5)},onPointerDown:function(a){if(a.hit==this.topHintBtn.$CF[1])this.miles.$CF[34].activate(),this.bose.$CF[34].activate(),
this.chapa.$CF[34].activate(),this.mika.$CF[34].activate(),this.topHintBtn.$CF[1].set_visible(!1),this.bottomHintBtn.$CF[1].set_visible(!1),2==this.missionStage&&(this.schwoz.$CF[32].nextHint(12),this.hintGlow=this.beeGlow),this.schwoz.$CF[32].clickHint(),this.hand.$CF[1].set_visible(!1);else if(a.hit==this.bottomHintBtn.$CF[1])this.miles.$CF[34].activate(),this.bose.$CF[34].activate(),this.chapa.$CF[34].activate(),this.mika.$CF[34].activate(),this.topHintBtn.$CF[1].set_visible(!1),this.bottomHintBtn.$CF[1].set_visible(!1),
1==this.missionStage&&(this.schwoz.$CF[32].nextHint(11),this.hintGlow=this.binGlow),this.schwoz.$CF[32].clickHint(),this.hand.$CF[1].set_visible(!1);else if(a.hit==this.helpBtn.$CF[1])this.schwoz.$CF[32].clickHint(),null!=this.powerbar&&(this.powerbar.dispose(),this.powerbar=null);else if(a.hit==this.pauseBtn.$CF[1])this.callback("PAUSE");else{var b=a.viewX/d.scale-d.offsetX/2-this.game.$CF[1].x.$iF;a=a.viewY/d.scale-d.offsetY/2-this.game.$CF[1].y.$iF;a>this.bose.$CF[1].y.$iF-250&&a<this.bose.$CF[1].y.$iF&&
(b>this.bose.$CF[1].x.$iF-50&&b<this.bose.$CF[1].x.$iF+50?this.highlight("bose"):b>this.mika.$CF[1].x.$iF-50&&b<this.mika.$CF[1].x.$iF+50?this.highlight("mika"):b>this.chapa.$CF[1].x.$iF-50&&b<this.chapa.$CF[1].x.$iF+50?this.highlight("chapa"):b>this.miles.$CF[1].x.$iF-50&&b<this.miles.$CF[1].x.$iF+50&&this.highlight("miles"))}},highlight:function(a){switch(a){case "bose":this.bose.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "chapa":this.chapa.$CF[34].highlight()&&(this.activeChar=
a,this.spawnPowerbar());break;case "mika":this.mika.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "miles":this.miles.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar())}},onPointerMove:function(a){0.9<this.helpBtn.$CF[1].alpha.$iF&&f.rolloverImage(this.helpBtn,"buttons/BTN_schwoz","buttons/BTN_schwoz_rollover",a);f.rolloverImage(this.pauseBtn,"buttons/BTN_pause","buttons/BTN_pause_rollover",a)},stopGame:function(){this.inPlay=!1;this.musicLoop.dispose();this.ambience.dispose()},
startGame:function(){var a=this;this.screen=(new e).add(new G(16777215,d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);this.game=new e;f.createImageSprite(this.screen,this.game,"blank",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var b=new e;f.createImageSprite(this.game,b,"background_start",!1,0,0,"GAME");b=new e;f.createImageSprite(this.game,b,"background_tile",!1,1480,0,"GAME");b=new e;f.createImageSprite(this.game,b,"background_tile",!1,2960,0,"GAME");b=new e;f.createImageSprite(this.game,
b,"background_tile",!1,4440,0,"GAME");b=new e;f.createImageSprite(this.game,b,"brits",!1,740,340,"GAME");this.girlBlink=new e;f.createImageSprite(b,this.girlBlink,"brit_girl_blink",!1,29,27,"GAME");this.boyBlink=new e;f.createImageSprite(b,this.boyBlink,"brit_boy_blink",!1,76.5,30.5,"GAME");this.girlBlink.$CF[1].set_visible(!1);this.boyBlink.$CF[1].set_visible(!1);b=new s;b.run(new xa(new u([new k(1),new l(function(){a.girlBlink.$CF[1].set_visible(!0)}),new k(0.2),new l(function(){a.girlBlink.$CF[1].set_visible(!1)}),
new k(3)])));this.girlBlink.add(b);b=new s;b.run(new xa(new u([new k(2.5),new l(function(){a.boyBlink.$CF[1].set_visible(!0)}),new k(0.2),new l(function(){a.boyBlink.$CF[1].set_visible(!1)}),new k(2)])));this.boyBlink.add(b);b=(new e).add(new K("boss",4620,650));this.game.addChild(b);this.boss=(new e).add(new L("boss",b,4645,650,r(this,this.charCallback)));this.game.addChild(this.boss);this.goat=(new e).add(new J("goat","idle",4450,345,d.gamePack));this.game.addChild(this.goat);this.tetherGlow=new e;
f.createImageSprite(this.game,this.tetherGlow,"rope_glow",!0,4265,439,"GAME");this.tetherGlow.$CF[1].alpha.set__(0);this.tether=(new e).add(new J("goat","rope",4125,405,d.gamePack));this.game.addChild(this.tether);this.goat.$CF[1].scaleX.set__(-1);this.schwozShadow=(new e).add(new Ma(800,425));this.game.addChild(this.schwozShadow);this.boss.$CF[34].faceRight(!1);this.addNacho(1,1300,490);this.addNacho(2,1500,490);this.addNacho(3,1700,490);this.addNacho(4,2800,490);this.addNacho(5,3200,490);this.branchGlow=
new e;f.createImageSprite(this.game,this.branchGlow,"branches_glow",!0,1E3,530,"GAME");this.branchGlow.$CF[1].alpha.set__(0);this.hintGlow=this.branchGlow;this.branches=new e;f.createImageSprite(this.game,this.branches,"obstacle_branches",!0,1E3,530,"GAME");this.branch1=new e;f.createImageSprite(this.game,this.branch1,"obstacle_branches_particle1",!0,1E3,530,"GAME");this.branch2=new e;f.createImageSprite(this.game,this.branch2,"obstacle_branches_particle2",!0,1E3,530,"GAME");this.branch3=new e;f.createImageSprite(this.game,
this.branch3,"obstacle_branches_particle3",!0,1E3,530,"GAME");this.beehiveShadow=new e;f.createImageSprite(this.game,this.beehiveShadow,"blank",!0,2680,610);b=(new e).add(new J("beehive","idle",0,0,d.gamePack));this.beehiveShadow.addChild(b);f.pulseUpDown(b,-10,1);b.$CF[1].scaleY.set__(-1);b.$CF[1].setTint(0);b.$CF[1].alpha.set__(0.1);this.beeGlow=new e;f.createImageSprite(this.game,this.beeGlow,"beehive_glow",!0,2680,530,"GAME");this.beeGlow.$CF[1].alpha.set__(0);this.beehive=new e;f.createImageSprite(this.game,
this.beehive,"blank",!0,2680,530);b=(new e).add(new J("beehive","idle",0,0,d.gamePack));this.beehive.addChild(b);f.pulseUpDown(b,10,1);this.center=new e;f.createImageSprite(this.game,this.center,"blank",!1,0,0);this.verges=new e;f.createImageSprite(this.game,this.verges,"blank",!1,0,0);b=new e;f.createImageSprite(this.verges,b,"path_divider",!1,970,575,"GAME");b=new e;f.createImageSprite(this.verges,b,"path_divider",!1,2600,575,"GAME");this.leverGlow=new e;f.createImageSprite(this.verges,this.leverGlow,
"switch_glow",!0,2900,567,"GAME");this.leverGlow.$CF[1].alpha.set__(0);this.lever=new e;f.createImageSprite(this.verges,this.lever,"switch_on",!0,2900,590,"GAME");this.binGlow=new e;f.createImageSprite(this.verges,this.binGlow,"rubbish_glow",!0,975,690,"GAME");this.binGlow.$CF[1].alpha.set__(0);this.bin=(new e).add(new J("bin","start",870,560,d.gamePack));this.verges.addChild(this.bin);this.wireGlow=new e;f.createImageSprite(this.game,this.wireGlow,"wire_glow",!0,2715,757,"GAME");this.wireGlow.$CF[1].alpha.set__(0);
b=(new e).add(new J("wires","wires",2630,690,d.gamePack));this.game.addChild(b);this.wires=(new e).add(new J("wires","sparks",2630,690,d.gamePack));this.game.addChild(this.wires);this.boseShadow=(new e).add(new K("bose",560,660));this.game.addChild(this.boseShadow);this.bose=(new e).add(new L("bose",this.boseShadow,560,660,r(this,this.charCallback)));this.game.addChild(this.bose);this.mikaShadow=(new e).add(new K("mika",360,660));this.game.addChild(this.mikaShadow);this.mika=(new e).add(new L("mika",
this.mikaShadow,360,660,r(this,this.charCallback)));this.game.addChild(this.mika);this.milesShadow=(new e).add(new K("miles",660,660));this.game.addChild(this.milesShadow);this.miles=(new e).add(new L("miles",this.milesShadow,660,660,r(this,this.charCallback)));this.game.addChild(this.miles);this.chapaShadow=(new e).add(new K("chapa",460,660));this.game.addChild(this.chapaShadow);this.chapa=(new e).add(new L("chapa",this.chapaShadow,460,660,r(this,this.charCallback)));this.game.addChild(this.chapa);
this.front=new e;f.createImageSprite(this.game,this.front,"blank",!1,0,0);this.bose.$CF[34].faceRight(!0);this.mika.$CF[34].faceRight(!0);this.miles.$CF[34].faceRight(!0);this.chapa.$CF[34].faceRight(!0);this.gullShadow2=new e;f.createImageSprite(this.game,this.gullShadow2,"game/gull_placeholder",!0,490,785);this.gullShadow2.$CF[1].scaleY.set__(-1);this.gullShadow2.$CF[1].setTint(0);this.gull2=new e;f.createImageSprite(this.game,this.gull2,"game/gull_placeholder",!0,490,700);this.gullShadow2.$CF[1].alpha.set__(0);
this.gull2.$CF[1].alpha.set__(0);this.topHintBtn=new e;f.createImageSprite(this.game,this.topHintBtn,"buttons/BTN_hint",!0,1E3,530);this.bottomHintBtn=new e;f.createImageSprite(this.game,this.bottomHintBtn,"buttons/BTN_hint",!0,940,700);this.schwoz=(new e).add(new Na(this.schwozShadow,800,400,r(this,this.schwozCallback)));this.game.addChild(this.schwoz);b=new e;f.createImageSprite(this.screen,b,"hud/timer_nacho_frame",!1,32,15);f.alignLeft(b);this.bell=(new e).add(new J("hud/bell","idle",5,30));b.addChild(this.bell);
var c=new e;f.createImageSprite(b,c,"mission/nacho_ball",!0,200,30);this.timeText=new e;f.createTextSprite(b,this.timeText,d.hudFont,"Center",90,7,f.formatTime(this.seconds));this.nachoText=new e;f.createTextSprite(b,this.nachoText,d.hudFont,"Center",274,7,"0/10");this.helpBtn=new e;f.createImageSprite(this.screen,this.helpBtn,"buttons/BTN_schwoz",!0,this.screenWidth-160,50);f.alignRight(this.helpBtn);this.pauseBtn=new e;f.createImageSprite(this.screen,this.pauseBtn,"buttons/BTN_pause",!0,this.screenWidth-
60,55);f.alignRight(this.pauseBtn);this.addNacho(6,1400,640);this.addNacho(7,1600,640);this.addNacho(8,2950,640);this.addNacho(9,3150,640);this.addNacho(10,3350,640);this.inPlay=!0;this.hand=(new e).add(new lb(900,750,r(this,this.handCallback)));this.game.addChild(this.hand);this.hand.$CF[1].set_pointerEnabled(!1);b=new s;b.run(new xa(new u([new l(function(){a.showTapAt(1E3,527,1)}),new k(3.5),new l(function(){a.showTapAt(940,697,1)}),new k(3.5)])));this.screen.add(b);b=new s;b.run(new u([new k(1),
new l(function(){a.timerRunning=!0})]));this.game.add(b)},handCallback:function(){},showTapAt:function(a,b,c,d){null==d&&(d=0);var e=this,f=new s;f.run(new u([new k(d),new l(function(){e.hand.$CF[28].moveTo(a,b,c,!0)})]));this.hand.add(f)},schwozCallback:function(a){var b=this;this.hintGlow.$CF[1].alpha.animate(0,1,0.5);a=new s;a.run(new u([new k(3),new l(function(){b.hintGlow.$CF[1].alpha.animateTo(0,0.5)})]));this.hintGlow.add(a)},runFront:function(a,b){null==b&&(b=!1);var c=this;this.center.addChild(this.verges);
b||(this.topHintBtn.$CF[1].x.set__(2680),this.bottomHintBtn.$CF[1].x.set__(2750),this.topHintBtn.$CF[1].set_visible(!0),this.bottomHintBtn.$CF[1].set_visible(!0),this.hintGlow=this.leverGlow);var d=new s;d.run(new u([new k(0),new l(function(){c.miles.$CF[34].run();c.bose.$CF[34].run();c.chapa.$CF[34].run();c.mika.$CF[34].run();2!=c.missionStage?c.miles.$CF[1].x.animateBy(a-425,3):c.miles.$CF[1].x.animateBy(a,3);c.bose.$CF[1].x.animateBy(a,3);c.chapa.$CF[1].x.animateBy(a,3);c.mika.$CF[1].x.animateBy(a,
3);2==c.missionStage&&c.miles.$CF[1].y.animateBy(55,0.3);c.bose.$CF[1].y.animateBy(55,0.3);c.chapa.$CF[1].y.animateBy(55,0.3);c.mika.$CF[1].y.animateBy(55,0.3);2==c.missionStage&&c.milesShadow.$CF[1].y.animateBy(55,0.3);c.boseShadow.$CF[1].y.animateBy(55,0.3);c.chapaShadow.$CF[1].y.animateBy(55,0.3);c.mikaShadow.$CF[1].y.animateBy(55,0.3);b?c.game.$CF[1].x.animateBy(-a-50,3):c.game.$CF[1].x.animateBy(-a,3)}),new k(2.7),new l(function(){c.miles.$CF[1].y.animateBy(-55,0.3);c.bose.$CF[1].y.animateBy(-55,
0.3);c.chapa.$CF[1].y.animateBy(-55,0.3);c.mika.$CF[1].y.animateBy(-55,0.3);c.milesShadow.$CF[1].y.animateBy(-55,0.3);c.boseShadow.$CF[1].y.animateBy(-55,0.3);c.chapaShadow.$CF[1].y.animateBy(-55,0.3);c.mikaShadow.$CF[1].y.animateBy(-55,0.3)}),new k(0.3),new l(function(){c.miles.$CF[34].idle();c.bose.$CF[34].idle();c.chapa.$CF[34].idle();c.mika.$CF[34].idle()}),new k(0.25),new l(function(){3==c.missionStage?c.boss.$CF[34].testAnim("intro","idle"):c.playSound("beehive",!0);3==c.missionStage&&c.reactivateChars(0)})]));
this.game.add(d)},runBack:function(a,b){null==b&&(b=!1);var c=this;this.front.addChild(this.verges);b||(this.topHintBtn.$CF[1].x.set__(2680),this.bottomHintBtn.$CF[1].x.set__(2750),this.topHintBtn.$CF[1].set_visible(!0),this.bottomHintBtn.$CF[1].set_visible(!0));var d=new s;d.run(new u([new k(0),new l(function(){c.miles.$CF[34].run();c.bose.$CF[34].run();c.chapa.$CF[34].run();c.mika.$CF[34].run();c.miles.$CF[1].x.animateBy(a,3);c.bose.$CF[1].x.animateBy(a,3);c.chapa.$CF[1].x.animateBy(a,3);c.mika.$CF[1].x.animateBy(a,
3);c.miles.$CF[1].y.animateBy(-90,0.3);c.bose.$CF[1].y.animateBy(-90,0.3);c.chapa.$CF[1].y.animateBy(-90,0.3);c.mika.$CF[1].y.animateBy(-90,0.3);c.milesShadow.$CF[1].y.animateBy(-90,0.3);c.boseShadow.$CF[1].y.animateBy(-90,0.3);c.chapaShadow.$CF[1].y.animateBy(-90,0.3);c.mikaShadow.$CF[1].y.animateBy(-90,0.3);b?c.game.$CF[1].x.animateBy(-a-50,3):c.game.$CF[1].x.animateBy(-a,3)}),new k(2.7),new l(function(){c.miles.$CF[1].y.animateBy(90,0.3);c.bose.$CF[1].y.animateBy(90,0.3);c.chapa.$CF[1].y.animateBy(90,
0.3);c.mika.$CF[1].y.animateBy(90,0.3);c.milesShadow.$CF[1].y.animateBy(90,0.3);c.boseShadow.$CF[1].y.animateBy(90,0.3);c.chapaShadow.$CF[1].y.animateBy(90,0.3);c.mikaShadow.$CF[1].y.animateBy(90,0.3)}),new k(0.3),new l(function(){c.miles.$CF[34].idle();c.bose.$CF[34].idle();c.chapa.$CF[34].idle();c.mika.$CF[34].idle()}),new k(0.25),new l(function(){3==c.missionStage?c.boss.$CF[34].testAnim("intro","idle"):c.playSound("beehive",!0);3==c.missionStage&&c.reactivateChars(0)})]));this.game.add(d)},charCallback:function(a,
b){},spawnPowerbar:function(){null==this.powerbar&&(this.powerbar=this.activeChar==d.pendulumChar1||this.activeChar==d.pendulumChar2?(new e).add(new Ba(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))):(new e).add(new Fa(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))),this.screen.addChild(this.powerbar),this.activateChars(!1))},wrongChar:function(a){var b=this;if(!this.hadWrongCharHint){this.hadWrongCharHint=!0;var c=
new s;c.run(new u([new k(a),new l(function(){b.schwoz.$CF[32].wrongChar();b.activateChars(!0)})]));this.screen.add(c)}},powerbarCallback:function(a){this.actionSuccess=a;this.powerbarActive=!1;switch(this.activeChar){case "bose":a?(this.bose.$CF[34].performAction(!0),1==this.missionStage?this.clearTrash():2==this.missionStage?this.clearBees():(this.randomCharacter(this.bose),this.randomCharacter(this.bose).$CF[34].levitate(1),this.bose.$CF[34].showCross(4),this.wrongChar(4),this.reactivateChars(4))):
(this.bose.$CF[34].performAction(!1),this.randomCharacter(this.bose),this.randomCharacter(this.bose).$CF[34].levitate(1),this.bose.$CF[34].showCross(4),this.reactivateChars(4));break;case "chapa":3==this.missionStage&&a?this.fireBoltSuccess():(this.fireBoltFail(),this.chapa.$CF[34].showCross(3),a&&this.wrongChar(3),this.reactivateChars(3));break;case "mika":a?(this.mika.$CF[34].performAction(!0),1==this.missionStage?this.clearBranches():(this.mika.$CF[34].showCross(4),this.wrongChar(4),this.reactivateChars(4))):
(this.mika.$CF[34].performAction(!1),this.mika.$CF[34].showCross(4),this.reactivateChars(4));break;case "miles":2==this.missionStage&&a?this.clearWires():(this.teleportFail(),this.miles.$CF[34].showCross(7.5),a&&this.wrongChar(7.5),this.reactivateChars(7.5))}this.powerbar=null},randomCharacter:function(a){var b=[];a!=this.bose&&b.push(this.bose);a!=this.miles&&b.push(this.miles);a!=this.mika&&b.push(this.mika);a!=this.chapa&&b.push(this.chapa);b=f.shuffle(b);return b[0]},onUpdate:function(a){this.timerRunning&&
!this.powerbarActive&&0<this.seconds&&(this.timer+=a,this.timer>this.oneSecond&&(this.timer-=this.oneSecond,this.seconds--,a=this.timeText.$CF[1],(a instanceof N?a:null).set_text(f.formatTime(this.seconds)),0!=this.seconds||this.tasksComplete||(this.bell.$CF[19].loop("ring"),this.playSound("bell"),this.missionFailed())));if(null!=this.nachos){a=0;for(var b=this.nachos;a<b.length;){var c=b[a];++a;c.$CF[43].active&&30>f.vectorDistance(this.miles.$CF[1].x.$iF,c.$CF[1].x.$iF,0,0)&&50>f.vectorDistance(this.miles.$CF[1].y.$iF-
50,c.$CF[1].y.$iF,0,0)&&c.$CF[43].collect()}}},missionFailed:function(){var a=this;this.bose.$CF[34].lose();this.mika.$CF[34].lose();this.miles.$CF[34].lose();this.chapa.$CF[34].lose();var b=new s;b.run(new u([new k(3.5),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("LOSE");a.ambience.volume.animateTo(0,0.5)})]));this.game.add(b)},teleportFail:function(){var a=this;this.miles.$CF[34].teleportTo(-500,1.5);var b=new e;f.createImageSprite(this.owner,b,"game/background_beach",!1,-((1480-
this.screenWidth)/2),this.screenHeight-768);b.$CF[1].set_visible(!1);var c=(new e).add(new K("miles",750,685));b.addChild(c);var d=(new e).add(new L("miles",c,750,685,r(this,this.charCallback)));b.addChild(d);d.$CF[34].teleportTo(-500,0);d.$CF[34].faceRight(!0);var g=new e;f.createImageSprite(b,g,"game/gull_placeholder",!0,850,735);g.$CF[1].scaleY.set__(-1);g.$CF[1].setTint(0);g.$CF[1].alpha.set__(0.075);var m=new e;f.createImageSprite(b,m,"game/gull_placeholder",!0,850,650);var n=(new e).add(new G(16777215,
2E3,2E3));this.screen.addChild(n);n.$CF[1].alpha.set__(0);c=n.$CF[1].x;c.set__(c.$iF-300);c=new s;c.run(new u([new k(0.8),new l(function(){n.$CF[1].alpha.animateTo(1,0.2)}),new k(0.2),new l(function(){b.$CF[1].set_visible(!0);n.$CF[1].alpha.animateTo(0,0.2);a.playSound("beach_ambience")}),new k(0.75),new l(function(){d.$CF[34].teleportBack(0)}),new k(2),new l(function(){d.$CF[34].teleportTo(-500,0)}),new k(0.5),new l(function(){var a=(new e).add(new ga(850,650));b.addChild(a)}),new k(0.15),new l(function(){m.$CF[1].alpha.animateTo(0,
0.1);g.$CF[1].alpha.animateTo(0,0.1)}),new k(0.2),new l(function(){n.$CF[1].alpha.animateTo(1,0.25)}),new k(0.8),new l(function(){b.$CF[1].set_visible(!1);n.$CF[1].alpha.animateTo(0,0.25)}),new k(0.3),new l(function(){b.dispose();n.dispose();a.miles.$CF[34].teleportBack(0.4)}),new k(0.5),new l(function(){var b=(new e).add(new ga(a.miles.$CF[1].x.$iF-90,700));a.game.addChild(b)}),new k(0.15),new l(function(){a.gull2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-90);a.gullShadow2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-
90);a.gull2.$CF[1].alpha.animateTo(1,0.1);a.gullShadow2.$CF[1].alpha.animateTo(0.075,0.1)}),new k(0.5),new l(function(){a.playSound("seagull")})]));this.game.add(c)},fireBoltSuccess:function(){var a=this;this.chapa.$CF[34].performAction(!1);var b=new e,c=new s;c.run(new u([new k(1.1),new l(function(){b.add(new ua(a.chapa.$CF[1].x.$iF+150,a.chapa.$CF[1].y.$iF-175));a.game.addChild(b);b.$CF[40].fire(250,-25,0.5,-5)}),new k(0.5),new l(function(){var c=(new e).add(new cb(!0,b.$CF[1].x.$iF,b.$CF[1].y.$iF));
a.game.addChild(c);a.playSound("rope_snap",!0);a.releaseGoat()})]));this.game.add(c)},fireBoltFail:function(){var a=this;this.chapa.$CF[34].performAction2(!1);var b=new s;b.run(new u([new k(1.1),new l(function(){var b=(new e).add(new ua(a.chapa.$CF[1].x.$iF+150,a.chapa.$CF[1].y.$iF-200));a.game.addChild(b);b.$CF[40].fire(1E3,-400,2,-25)})]));this.game.add(b)},clearBranches:function(){var a=this;this.missionStage=2;var b=new s;b.run(new u([new k(1),new l(function(){a.branches.$CF[1].x.animateBy(800,
1.5,q.sineIn);a.branches.$CF[1].y.animateBy(-200,1.5,q.sineIn);a.branches.$CF[1].rotation.animateBy(70,1.5,q.sineIn);a.branch1.$CF[1].x.animateBy(1E3,1.5,q.sineIn);a.branch1.$CF[1].y.animateBy(-175,1.5,q.sineIn);a.branch1.$CF[1].rotation.animateBy(90,1.5,q.sineIn);a.branch2.$CF[1].x.animateBy(700,1.5,q.sineIn);a.branch2.$CF[1].y.animateBy(-250,1.5,q.sineIn);a.branch2.$CF[1].rotation.animateBy(-70,1.5,q.sineIn);a.branch3.$CF[1].x.animateBy(900,1.5,q.sineIn);a.branch3.$CF[1].y.animateBy(-220,1.5,q.sineIn);
a.branch3.$CF[1].rotation.animateBy(20,1.5,q.sineIn)}),new k(1.5),new l(function(){a.branches.$CF[1].alpha.animateTo(0,0.5,q.sineIn);a.branch1.$CF[1].alpha.animateTo(0,0.5,q.sineIn);a.branch2.$CF[1].alpha.animateTo(0,0.5,q.sineIn);a.branch3.$CF[1].alpha.animateTo(0,0.5,q.sineIn)}),new k(1),new l(function(){a.schwoz.$CF[1].x.set__(2550);a.schwoz.$CF[32].nextHint(2);a.runBack(1725)})]));this.game.add(b)},clearTrash:function(){var a=this;this.missionStage=2;var b=new s;b.run(new u([new k(1),new l(function(){a.bin.$CF[19].play("anim",
"end")}),new k(3),new l(function(){a.schwoz.$CF[1].x.set__(2550);a.schwoz.$CF[32].nextHint(2);a.runFront(1725)})]));this.game.add(b)},clearBees:function(){var a=this;this.missionStage=3;var b=new s;b.run(new u([new k(1),new l(function(){a.beehive.$CF[1].y.animateBy(-250,1.5,q.sineInOut);a.beehiveShadow.$CF[1].y.animateBy(250,1.5,q.sineInOut);a.beehiveShadow.$CF[1].alpha.animateTo(0,1.5,q.sineInOut);a.playSound("beehive",!0)}),new k(2),new l(function(){a.schwoz.$CF[1].x.set__(4270);a.schwoz.$CF[32].nextHint(3);
a.runBack(1720,!0)}),new k(1.5),new l(function(){a.beehive.$CF[1].y.animateBy(250,1.5,q.sineInOut);a.beehiveShadow.$CF[1].y.animateBy(250,1.5,q.sineInOut);a.beehiveShadow.$CF[1].alpha.animateTo(0.1,1.5,q.sineInOut);a.playSound("beehive",!0)})]));this.game.add(b)},clearWires:function(){var a=this;this.missionStage=3;this.miles.$CF[34].teleportTo(2810,1.5,!0);var b=new s;b.run(new u([new k(1.25),new l(function(){a.center.addChild(a.verges);var b=a.miles.$CF[1].y;b.set__(b.$iF+55);b=a.milesShadow.$CF[1].y;
b.set__(b.$iF+55)}),new k(2),new l(function(){var b=a.lever.$CF[1];(b instanceof I?b:null).texture=d.gamePack.getTexture("switch_off");a.playSound("switch",!0)}),new k(0.2),new l(function(){a.wires.$CF[1].alpha.animateTo(0,0.2)}),new k(1),new l(function(){a.schwoz.$CF[1].x.set__(4270);a.schwoz.$CF[32].nextHint(3);a.runFront(1720,!0)})]));this.game.add(b)},releaseGoat:function(){var a=this;this.tether.$CF[19].play("ropeBreak","ropeBroken");this.game.addChild(this.goat);var b=new s;b.run(new u([new k(0.1),
new l(function(){var b=(new e).add(new J("goat","smoke",40,80,d.gamePack));a.tether.addChild(b);b=(new e).add(new J("goat","smoke",130,130,d.gamePack));a.tether.addChild(b);a.playSound("goat_vo",!0)}),new k(0.5),new l(function(){a.goat.$CF[1].x.animateBy(170,1,q.sineIn);a.goat.$CF[1].y.animateBy(130,1,q.sineIn);a.goat.$CF[19].loop("run");a.playSound("goat_gallop",!0)}),new k(1),new l(function(){a.boss.$CF[34].testAnim("hit","ko");a.goat.$CF[19].loop("eat");a.playSound("enemy_hit",!0)}),new k(1.25),
new l(function(){a.playSound("goat_vo",!0)}),new k(1.2),new l(function(){a.playSound("goat_vo",!0)}),new k(0.5),new l(function(){a.chapa.$CF[34].win()}),new k(1),new l(function(){a.playSound("goat_vo",!0)}),new k(4),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("WIN");a.ambience.volume.animateTo(0,0.5)})]));this.game.add(b)},handleTouchDown:function(a){},keyDownHandler:function(a){d.testMode&&(a.key==g.Number7?(this.callback("WIN"),this.ambience.volume.animateTo(0,0.5)):a.key==g.Numpad1?
this.fireBoltSuccess():a.key==g.Numpad2?this.runFront(1720):a.key==g.Numpad3?this.runBack(1725):a.key==g.Numpad4?this.runBack(1720):a.key==g.Numpad5?this.clearBranches():a.key==g.Numpad6?this.clearTrash():a.key==g.Numpad7?this.clearBees():a.key==g.Numpad8?this.clearWires():a.key==g.Numpad9&&this.releaseGoat())},addNacho:function(a,b,c){d.notCollected(a)&&(null==this.nachos&&(this.nachos=[]),a=(new e).add(new Xa(a,b,c,r(this,this.nachoCallback))),this.game.addChild(a),this.nachos.push(a))},nachoCallback:function(a){C.remove(this.nachos,
a);this.score++;a=this.nachoText.$CF[1];(a instanceof N?a:null).set_text(this.score+"/10")},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},activateChars:function(a){this.miles.$CF[34].activate(a);this.bose.$CF[34].activate(a);this.chapa.$CF[34].activate(a);this.mika.$CF[34].activate(a);this.enableHelp(a)},reactivateChars:function(a){var b=this,c=new s;c.run(new u([new k(a),new l(function(){b.activateChars(!0)})]));
this.owner.add(c)},enableHelp:function(a){a?(this.helpBtn.$CF[1].alpha.set__(1),this.helpBtn.$CF[1].set_pointerEnabled(!0)):(this.helpBtn.$CF[1].alpha.set__(0.6),this.helpBtn.$CF[1].set_pointerEnabled(!1))},__class__:Gd});var Hd=function(a,b,c){this.score=0;this.activeChar="bose";this.timerRunning=this.powerbarActive=this.tasksComplete=!1;this.timer=0;this.oneSecond=2;this.seconds=90;this.hadWrongCharHint=!1;this.missionStage=1;w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c;this.score=
d.mission5Nachos()};m["project.Level5"]=Hd;Hd.__name__=["project","Level5"];Hd.__super__=w;Hd.prototype=y(w.prototype,{get_entitySlot:function(){return 25},onAdded:function(){d.isMobile&&this.connect1(n.$3F.$OF.down,r(this,this.handleTouchDown));this.connect1(n.$3F.getKeyboard().down,r(this,this.keyDownHandler));this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.connect1(n.$3F.$LF.move,r(this,this.onPointerMove));this.startGame();this.musicLoop=d.pack.getSound("audio/DangerForce_Gameplay_Full").loop();
this.musicLoop.volume.set__(0);d.muteMusic||this.musicLoop.volume.animateTo(0.8,0.5)},onPointerDown:function(a){if(a.hit==this.topHintBtn.$CF[1])this.miles.$CF[34].activate(),this.bose.$CF[34].activate(),this.chapa.$CF[34].activate(),this.mika.$CF[34].activate(),this.topHintBtn.$CF[1].set_visible(!1),this.bottomHintBtn.$CF[1].set_visible(!1),1==this.missionStage?(this.schwoz.$CF[32].nextHint(11),this.hintGlow=this.cartGlow):(this.schwoz.$CF[32].nextHint(12),this.hintGlow=this.leverGlow),this.schwoz.$CF[32].clickHint();
else if(a.hit==this.bottomHintBtn.$CF[1])this.miles.$CF[34].activate(),this.bose.$CF[34].activate(),this.chapa.$CF[34].activate(),this.mika.$CF[34].activate(),this.topHintBtn.$CF[1].set_visible(!1),this.bottomHintBtn.$CF[1].set_visible(!1),this.schwoz.$CF[32].clickHint();else if(a.hit==this.helpBtn.$CF[1])this.schwoz.$CF[32].clickHint(),null!=this.powerbar&&(this.powerbar.dispose(),this.powerbar=null);else if(a.hit==this.pauseBtn.$CF[1])this.callback("PAUSE");else{var b=a.viewX/d.scale-d.offsetX/
2-this.game.$CF[1].x.$iF;a=a.viewY/d.scale-d.offsetY/2-this.game.$CF[1].y.$iF;a>this.bose.$CF[1].y.$iF-250&&a<this.bose.$CF[1].y.$iF&&(b>this.bose.$CF[1].x.$iF-50&&b<this.bose.$CF[1].x.$iF+50?this.highlight("bose"):b>this.mika.$CF[1].x.$iF-50&&b<this.mika.$CF[1].x.$iF+50?this.highlight("mika"):b>this.chapa.$CF[1].x.$iF-50&&b<this.chapa.$CF[1].x.$iF+50?this.highlight("chapa"):b>this.miles.$CF[1].x.$iF-50&&b<this.miles.$CF[1].x.$iF+50&&this.highlight("miles"))}},highlight:function(a){switch(a){case "bose":this.bose.$CF[34].highlight()&&
(this.activeChar=a,this.spawnPowerbar());break;case "chapa":this.chapa.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "mika":this.mika.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "miles":this.miles.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar())}},onPointerMove:function(a){0.9<this.helpBtn.$CF[1].alpha.$iF&&f.rolloverImage(this.helpBtn,"buttons/BTN_schwoz","buttons/BTN_schwoz_rollover",a);f.rolloverImage(this.pauseBtn,"buttons/BTN_pause",
"buttons/BTN_pause_rollover",a)},stopGame:function(){this.inPlay=!1;this.musicLoop.dispose()},startGame:function(){var a=this;this.screen=(new e).add(new G(16777215,d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);this.game=new e;f.createImageSprite(this.screen,this.game,"blank",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var b=new e;f.createImageSprite(this.game,b,"background",!1,0,0,"GAME");this.schwozShadow=(new e).add(new Ma(850,425));this.game.addChild(this.schwozShadow);
b=(new e).add(new K("boss",3900,665));this.cart2=new e;f.createImageSprite(this.game,this.cart2,"obstacle_cart",!1,3950,550,"GAME");this.game.addChild(b);this.boss=(new e).add(new L("boss",b,3900,665,r(this,this.charCallback)));this.game.addChild(this.boss);this.boss.$CF[34].faceRight(!1);this.cartGlow=new e;f.createImageSprite(this.game,this.cartGlow,"cart_glow",!1,920,440,"GAME");this.cartGlow.$CF[1].alpha.set__(0);this.cart=new e;f.createImageSprite(this.game,this.cart,"obstacle_cart",!1,960,485,
"GAME");b=new e;f.createImageSprite(this.game,b,"cable_long_shadow",!1,2250,590,"GAME");this.wireGlow=new e;f.createImageSprite(this.game,this.wireGlow,"wire_glow",!1,2217,-75,"GAME");this.wireGlow.$CF[1].alpha.set__(0);b=new e;f.createImageSprite(this.game,b,"cable_long",!1,2270,-30,"GAME");b=new e;f.createImageSprite(this.game,b,"cable_long",!1,2255,-55,"GAME");this.sparks=(new e).add(new J("sparks","spark",2270,-30,d.gamePack));this.game.addChild(this.sparks);b=(new e).add(new J("sparks","spark",
-18,-20,d.gamePack));this.sparks.addChild(b);b.add(new Ka(0.8));this.leverGlow=new e;f.createImageSprite(this.game,this.leverGlow,"switch_glow",!1,2480,360,"GAME");this.leverGlow.$CF[1].alpha.set__(0);this.lever=new e;f.createImageSprite(this.game,this.lever,"switch_on",!1,2520,355,"GAME");this.addNacho(1,1240,510);this.addNacho(2,1370,510);this.addNacho(3,1500,510);this.addNacho(4,2550,510);this.addNacho(5,2750,510);this.center=new e;f.createImageSprite(this.game,this.center,"blank",!1,0,0);this.verges=
new e;f.createImageSprite(this.game,this.verges,"blank",!1,0,0);b=new e;f.createImageSprite(this.verges,b,"divider",!1,970,585,"GAME");b=new e;f.createImageSprite(this.verges,b,"divider",!1,2325,585,"GAME");this.bookGlow=new e;f.createImageSprite(this.game,this.bookGlow,"book_glow",!1,874,545,"GAME");this.bookGlow.$CF[1].alpha.set__(0);this.hintGlow=this.bookGlow;this.books=new e;f.createImageSprite(this.game,this.books,"obstacle_books",!1,920,590,"GAME");this.book1=new e;f.createImageSprite(this.game,
this.book1,"book_shrapnel1",!1,1115,695,"GAME");this.book2=new e;f.createImageSprite(this.game,this.book2,"book_shrapnel2",!1,975,710,"GAME");this.book3=new e;f.createImageSprite(this.game,this.book3,"book_shrapnel3",!1,920,697,"GAME");this.boseShadow=(new e).add(new K("bose",590,660));this.game.addChild(this.boseShadow);this.bose=(new e).add(new L("bose",this.boseShadow,590,660,r(this,this.charCallback)));this.game.addChild(this.bose);this.mikaShadow=(new e).add(new K("mika",390,660));this.game.addChild(this.mikaShadow);
this.mika=(new e).add(new L("mika",this.mikaShadow,390,660,r(this,this.charCallback)));this.game.addChild(this.mika);this.milesShadow=(new e).add(new K("miles",690,660));this.game.addChild(this.milesShadow);this.miles=(new e).add(new L("miles",this.milesShadow,690,660,r(this,this.charCallback)));this.game.addChild(this.miles);this.chapaShadow=(new e).add(new K("chapa",490,660));this.game.addChild(this.chapaShadow);this.chapa=(new e).add(new L("chapa",this.chapaShadow,490,660,r(this,this.charCallback)));
this.game.addChild(this.chapa);this.front=new e;f.createImageSprite(this.game,this.front,"blank",!1,0,0);this.captain=new e;f.createImageSprite(this.game,this.captain,"blank",!1,2430,740);b=new e;f.createImageSprite(this.captain,b,"obstacle_standee",!1,-132,-289,"GAME");this.bose.$CF[34].faceRight(!0);this.mika.$CF[34].faceRight(!0);this.miles.$CF[34].faceRight(!0);this.chapa.$CF[34].faceRight(!0);this.gullShadow2=new e;f.createImageSprite(this.game,this.gullShadow2,"game/gull_placeholder",!0,490,
785);this.gullShadow2.$CF[1].scaleY.set__(-1);this.gullShadow2.$CF[1].setTint(0);this.gull2=new e;f.createImageSprite(this.game,this.gull2,"game/gull_placeholder",!0,490,700);this.gullShadow2.$CF[1].alpha.set__(0);this.gull2.$CF[1].alpha.set__(0);this.schwoz=(new e).add(new Na(this.schwozShadow,850,400,r(this,this.schwozCallback)));this.game.addChild(this.schwoz);b=new e;f.createImageSprite(this.screen,b,"hud/timer_nacho_frame",!1,32,15);f.alignLeft(b);this.bell=(new e).add(new J("hud/bell","idle",
5,30));b.addChild(this.bell);var c=new e;f.createImageSprite(b,c,"mission/nacho_ball",!0,200,30);this.timeText=new e;f.createTextSprite(b,this.timeText,d.hudFont,"Center",90,7,f.formatTime(this.seconds));this.nachoText=new e;f.createTextSprite(b,this.nachoText,d.hudFont,"Center",274,7,"0/10");this.helpBtn=new e;f.createImageSprite(this.screen,this.helpBtn,"buttons/BTN_schwoz",!0,this.screenWidth-160,50);f.alignRight(this.helpBtn);this.pauseBtn=new e;f.createImageSprite(this.screen,this.pauseBtn,"buttons/BTN_pause",
!0,this.screenWidth-60,55);f.alignRight(this.pauseBtn);this.topHintBtn=new e;f.createImageSprite(this.game,this.topHintBtn,"buttons/BTN_hint",!0,1080,530);this.bottomHintBtn=new e;f.createImageSprite(this.game,this.bottomHintBtn,"buttons/BTN_hint",!0,1030,660);this.addNacho(6,1270,650);this.addNacho(7,1400,650);this.addNacho(8,2520,650);this.addNacho(9,2670,650);this.addNacho(10,2820,650);this.inPlay=!0;b=new s;b.run(new u([new k(1),new l(function(){a.timerRunning=!0})]));this.game.add(b)},schwozCallback:function(a){var b=
this;this.hintGlow.$CF[1].alpha.animate(0,1,0.5);a=new s;a.run(new u([new k(3),new l(function(){b.hintGlow.$CF[1].alpha.animateTo(0,0.5)})]));this.hintGlow.add(a)},runFront:function(a,b){null==b&&(b=!1);var c=this;this.center.addChild(this.verges);if(!b){this.topHintBtn.$CF[1].x.set__(2270);var d=this.topHintBtn.$CF[1].y;d.set__(d.$iF-60);this.bottomHintBtn.$CF[1].x.set__(2370);this.topHintBtn.$CF[1].set_visible(!0);this.bottomHintBtn.$CF[1].set_visible(!0)}d=new s;d.run(new u([new k(0),new l(function(){c.miles.$CF[34].run();
c.bose.$CF[34].run();c.chapa.$CF[34].run();c.mika.$CF[34].run();c.miles.$CF[1].x.animateBy(a,3);c.bose.$CF[1].x.animateBy(a,3);c.chapa.$CF[1].x.animateBy(a,3);c.mika.$CF[1].x.animateBy(a,3);c.miles.$CF[1].y.animateBy(55,0.4);c.bose.$CF[1].y.animateBy(55,0.4);c.chapa.$CF[1].y.animateBy(55,0.4);c.mika.$CF[1].y.animateBy(55,0.4);c.milesShadow.$CF[1].y.animateBy(55,0.4);c.boseShadow.$CF[1].y.animateBy(55,0.4);c.chapaShadow.$CF[1].y.animateBy(55,0.4);c.mikaShadow.$CF[1].y.animateBy(55,0.4);c.game.$CF[1].x.animateBy(-a,
3)}),new k(2.1),new l(function(){c.miles.$CF[1].y.animateBy(-55,0.4);c.milesShadow.$CF[1].y.animateBy(-55,0.4)}),new k(0.1),new l(function(){c.bose.$CF[1].y.animateBy(-55,0.4);c.boseShadow.$CF[1].y.animateBy(-55,0.4)}),new k(0.1),new l(function(){c.chapa.$CF[1].y.animateBy(-55,0.4);c.chapaShadow.$CF[1].y.animateBy(-55,0.4)}),new k(0.1),new l(function(){c.mika.$CF[1].y.animateBy(-55,0.4);c.mikaShadow.$CF[1].y.animateBy(-55,0.4)}),new k(0.7),new l(function(){c.miles.$CF[34].idle();c.bose.$CF[34].idle();
c.chapa.$CF[34].idle();c.mika.$CF[34].idle();3==c.missionStage&&c.reactivateChars(0)})]));this.game.add(d)},runBack:function(a,b){null==b&&(b=!1);var c=this;this.front.addChild(this.verges);var d=0;if(!b){this.topHintBtn.$CF[1].x.set__(2270);var e=this.topHintBtn.$CF[1].y;e.set__(e.$iF-60);this.bottomHintBtn.$CF[1].x.set__(2370);this.topHintBtn.$CF[1].set_visible(!0);this.bottomHintBtn.$CF[1].set_visible(!0)}1400<a&&(d=0.6);e=new s;e.run(new u([new k(0),new l(function(){c.miles.$CF[34].run();c.bose.$CF[34].run();
c.chapa.$CF[34].run();c.mika.$CF[34].run();3==c.missionStage?c.miles.$CF[1].x.animateBy(a-375,3):c.miles.$CF[1].x.animateBy(a,3);c.bose.$CF[1].x.animateBy(a,3);c.chapa.$CF[1].x.animateBy(a,3);c.mika.$CF[1].x.animateBy(a,3);3!=c.missionStage&&c.miles.$CF[1].y.animateBy(-75,0.3);c.bose.$CF[1].y.animateBy(-75,0.3);c.chapa.$CF[1].y.animateBy(-75,0.3);c.mika.$CF[1].y.animateBy(-75,0.3);3!=c.missionStage&&c.milesShadow.$CF[1].y.animateBy(-75,0.3);c.boseShadow.$CF[1].y.animateBy(-75,0.3);c.chapaShadow.$CF[1].y.animateBy(-75,
0.3);c.mikaShadow.$CF[1].y.animateBy(-75,0.3);c.game.$CF[1].x.animateBy(-a,3)}),new k(2.7-d),new l(function(){c.miles.$CF[1].y.animateBy(75,0.3);c.bose.$CF[1].y.animateBy(75,0.3);c.chapa.$CF[1].y.animateBy(75,0.3);c.mika.$CF[1].y.animateBy(75,0.3);c.milesShadow.$CF[1].y.animateBy(75,0.3);c.boseShadow.$CF[1].y.animateBy(75,0.3);c.chapaShadow.$CF[1].y.animateBy(75,0.3);c.mikaShadow.$CF[1].y.animateBy(75,0.3)}),new k(0.3+d),new l(function(){c.miles.$CF[34].idle();c.bose.$CF[34].idle();c.chapa.$CF[34].idle();
c.mika.$CF[34].idle();3==c.missionStage&&c.reactivateChars(0)}),new k(0.25),new l(function(){})]));this.game.add(e)},charCallback:function(a,b){},spawnPowerbar:function(){null==this.powerbar&&(this.powerbar=this.activeChar==d.pendulumChar1||this.activeChar==d.pendulumChar2?(new e).add(new Ba(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))):(new e).add(new Fa(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))),this.screen.addChild(this.powerbar),
this.activateChars(!1))},wrongChar:function(a){var b=this;if(!this.hadWrongCharHint){this.hadWrongCharHint=!0;var c=new s;c.run(new u([new k(a),new l(function(){b.schwoz.$CF[32].wrongChar();b.activateChars(!0)})]));this.screen.add(c)}},powerbarCallback:function(a){this.actionSuccess=a;this.powerbarActive=!1;switch(this.activeChar){case "bose":a?1==this.missionStage?(this.bose.$CF[34].performAction(!0),this.clearTrolly()):(2==this.missionStage?(this.bose.$CF[34].performAction(!1),this.rockCaptain()):
(this.bose.$CF[34].performAction(!0),this.randomCharacter(this.bose),this.randomCharacter(this.bose).$CF[34].levitate(1)),this.bose.$CF[34].showCross(4),this.wrongChar(4),this.reactivateChars(4)):(1==this.missionStage?(this.bose.$CF[34].performAction(!1),this.rockTrolly()):2==this.missionStage?(this.bose.$CF[34].performAction(!1),this.rockCaptain()):(this.bose.$CF[34].performAction(!0),this.randomCharacter(this.bose),this.randomCharacter(this.bose).$CF[34].levitate(1)),this.bose.$CF[34].showCross(4),
this.reactivateChars(4));break;case "chapa":2==this.missionStage&&a?this.clearStandee():(this.fireBoltFail(),this.chapa.$CF[34].showCross(3),a&&this.wrongChar(3),this.reactivateChars(3));break;case "mika":a?1==this.missionStage?(this.mika.$CF[34].performAction(!0),this.clearBooks()):2==this.missionStage?(this.mika.$CF[34].performAction(!1),this.rockCaptain(),this.mika.$CF[34].showCross(4),this.wrongChar(4),this.reactivateChars(4)):this.beatSteve():(1==this.missionStage?(this.mika.$CF[34].performAction(!1),
this.rockTrolly()):2==this.missionStage?(this.mika.$CF[34].performAction(!1),this.rockCaptain()):(this.mika.$CF[34].performAction(!1),this.rockTrolly2()),this.mika.$CF[34].showCross(4),this.reactivateChars(4));break;case "miles":2==this.missionStage&&a?this.clearWires():(this.teleportFail(),this.miles.$CF[34].showCross(7.5),a&&this.wrongChar(7.5),this.reactivateChars(7.5))}this.powerbar=null},randomCharacter:function(a){var b=[];a!=this.bose&&b.push(this.bose);a!=this.miles&&b.push(this.miles);a!=
this.mika&&b.push(this.mika);a!=this.chapa&&b.push(this.chapa);b=f.shuffle(b);return b[0]},onUpdate:function(a){this.timerRunning&&!this.powerbarActive&&0<this.seconds&&(this.timer+=a,this.timer>this.oneSecond&&(this.timer-=this.oneSecond,this.seconds--,a=this.timeText.$CF[1],(a instanceof N?a:null).set_text(f.formatTime(this.seconds)),0!=this.seconds||this.tasksComplete||(this.bell.$CF[19].loop("ring"),this.playSound("bell"),this.missionFailed())));if(null!=this.nachos){a=0;for(var b=this.nachos;a<
b.length;){var c=b[a];++a;c.$CF[43].active&&30>f.vectorDistance(this.miles.$CF[1].x.$iF,c.$CF[1].x.$iF,0,0)&&50>f.vectorDistance(this.miles.$CF[1].y.$iF-50,c.$CF[1].y.$iF,0,0)&&c.$CF[43].collect()}}},missionFailed:function(){var a=this;this.bose.$CF[34].lose();this.mika.$CF[34].lose();this.miles.$CF[34].lose();this.chapa.$CF[34].lose();var b=new s;b.run(new u([new k(3.5),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("LOSE")})]));this.game.add(b)},teleportFail:function(){var a=this;
this.miles.$CF[34].teleportTo(-500,1.5);var b=new e;f.createImageSprite(this.owner,b,"game/background_beach",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);b.$CF[1].set_visible(!1);var c=(new e).add(new K("miles",750,685));b.addChild(c);var d=(new e).add(new L("miles",c,750,685,r(this,this.charCallback)));b.addChild(d);d.$CF[34].teleportTo(-500,0);d.$CF[34].faceRight(!0);var g=new e;f.createImageSprite(b,g,"game/gull_placeholder",!0,850,735);g.$CF[1].scaleY.set__(-1);g.$CF[1].setTint(0);g.$CF[1].alpha.set__(0.075);
var m=new e;f.createImageSprite(b,m,"game/gull_placeholder",!0,850,650);var n=(new e).add(new G(16777215,2E3,2E3));this.screen.addChild(n);n.$CF[1].alpha.set__(0);c=n.$CF[1].x;c.set__(c.$iF-300);c=new s;c.run(new u([new k(0.8),new l(function(){n.$CF[1].alpha.animateTo(1,0.2)}),new k(0.2),new l(function(){b.$CF[1].set_visible(!0);n.$CF[1].alpha.animateTo(0,0.2);a.playSound("beach_ambience")}),new k(0.75),new l(function(){d.$CF[34].teleportBack(0)}),new k(2),new l(function(){d.$CF[34].teleportTo(-500,
0)}),new k(0.5),new l(function(){var a=(new e).add(new ga(850,650));b.addChild(a)}),new k(0.15),new l(function(){m.$CF[1].alpha.animateTo(0,0.1);g.$CF[1].alpha.animateTo(0,0.1)}),new k(0.2),new l(function(){n.$CF[1].alpha.animateTo(1,0.25)}),new k(0.8),new l(function(){b.$CF[1].set_visible(!1);n.$CF[1].alpha.animateTo(0,0.25)}),new k(0.3),new l(function(){b.dispose();n.dispose();a.miles.$CF[34].teleportBack(0.4)}),new k(0.5),new l(function(){var b=(new e).add(new ga(a.miles.$CF[1].x.$iF-90,700));
a.game.addChild(b)}),new k(0.15),new l(function(){a.gull2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-90);a.gullShadow2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-90);a.gull2.$CF[1].alpha.animateTo(1,0.1);a.gullShadow2.$CF[1].alpha.animateTo(0.075,0.1)}),new k(0.5),new l(function(){a.playSound("seagull")})]));this.game.add(c)},clearWires:function(){var a=this;this.missionStage=3;this.miles.$CF[34].teleportTo(2440,1.5,!0);var b=new s;b.run(new u([new k(1.25),new l(function(){a.front.addChild(a.verges);var b=a.miles.$CF[1].y;
b.set__(b.$iF-75);b=a.milesShadow.$CF[1].y;b.set__(b.$iF-75)}),new k(2),new l(function(){var b=a.lever.$CF[1];(b instanceof I?b:null).texture=d.gamePack.getTexture("switch_off");a.playSound("switch",!0)}),new k(0.2),new l(function(){a.sparks.$CF[1].alpha.animateTo(0,0.2)}),new k(1.5),new l(function(){a.schwoz.$CF[1].x.set__(3700);a.schwoz.$CF[32].nextHint(3);a.runBack(1500,!0)})]));this.game.add(b)},fireBoltFail:function(){var a=this;this.chapa.$CF[34].performAction2(!1);var b=new s;b.run(new u([new k(1.1),
new l(function(){var b=(new e).add(new ua(a.chapa.$CF[1].x.$iF+150,a.chapa.$CF[1].y.$iF-200));a.game.addChild(b);b.$CF[40].fire(1E3,-400,2,-25)})]));this.game.add(b)},clearTrolly:function(){var a=this;this.missionStage=2;this.bose.$CF[34].performAction(!0);var b=new s;b.run(new u([new k(1.2),new l(function(){a.cart.$CF[1].x.animateBy(1E3,2,q.sineIn);a.playSound("trolley",!0)}),new k(1.5),new l(function(){a.cart.$CF[1].alpha.animateTo(0,0.5)}),new k(1),new l(function(){a.schwoz.$CF[1].x.set__(2200);
a.schwoz.$CF[32].nextHint(2);a.runBack(1375)})]));this.game.add(b)},rockTrolly:function(){var a=this,b=new s;b.run(new u([new k(1.2),new l(function(){a.cart.$CF[1].x.animateBy(25,1,q.sineOut);a.playSound("trolley_short",!0)}),new k(1.1),new l(function(){a.cart.$CF[1].x.animateBy(-25,1,q.sineIn)})]));this.game.add(b)},rockTrolly2:function(){var a=this,b=new s;b.run(new u([new k(1.2),new l(function(){a.cart2.$CF[1].x.animateBy(25,1,q.sineOut);a.playSound("trolley_short",!0)}),new k(1.1),new l(function(){a.cart2.$CF[1].x.animateBy(-25,
1,q.sineIn)})]));this.game.add(b)},rockCaptain:function(){var a=this,b=new s;b.run(new u([new k(1.2),new l(function(){a.captain.$CF[1].rotation.animateTo(10,1,q.sineOut)}),new k(1.1),new l(function(){a.captain.$CF[1].rotation.animateTo(0,0.5,q.sineIn)})]));this.game.add(b)},clearBooks:function(){var a=this;this.missionStage=2;this.mika.$CF[34].performAction(!0);var b=new s;b.run(new u([new k(1.2),new l(function(){a.book1.$CF[1].x.animateBy(1E3,1,q.sineIn);a.book1.$CF[1].y.animateBy(-175,1,q.sineIn);
a.book1.$CF[1].rotation.animateBy(90,1,q.sineIn);a.book2.$CF[1].x.animateBy(700,1.2,q.sineIn);a.book2.$CF[1].y.animateBy(-250,1.2,q.sineIn);a.book2.$CF[1].rotation.animateBy(-70,1.2,q.sineIn);a.book3.$CF[1].x.animateBy(900,0.8,q.sineIn);a.book3.$CF[1].y.animateBy(-220,0.8,q.sineIn);a.book3.$CF[1].rotation.animateBy(20,0.8,q.sineIn)}),new k(0.2),new l(function(){a.books.$CF[1].x.animateBy(800,1.5,q.sineIn);a.books.$CF[1].y.animateBy(-200,1.5,q.sineIn);a.books.$CF[1].rotation.animateBy(70,1.5,q.sineIn)}),
new k(1.5),new l(function(){a.books.$CF[1].alpha.animateTo(0,0.5,q.sineIn);a.book1.$CF[1].alpha.animateTo(0,0.5,q.sineIn);a.book2.$CF[1].alpha.animateTo(0,0.5,q.sineIn);a.book3.$CF[1].alpha.animateTo(0,0.5,q.sineIn)}),new k(1),new l(function(){a.schwoz.$CF[1].x.set__(2200);a.schwoz.$CF[32].nextHint(2);a.runFront(1375)})]));this.game.add(b)},clearStandee:function(){var a=this;this.missionStage=3;this.chapa.$CF[34].performAction(!1);var b=new e,c=new s;c.run(new u([new k(1.1),new l(function(){b.add(new ua(a.chapa.$CF[1].x.$iF+
150,a.chapa.$CF[1].y.$iF-175));a.game.addChild(b);b.$CF[40].fire(280,50,0.4,10)}),new k(0.39),new l(function(){var c=(new e).add(new cb(!0,b.$CF[1].x.$iF+25,b.$CF[1].y.$iF));a.game.addChild(c);a.captain.$CF[1].rotation.animateTo(95,0.3)}),new k(1),new l(function(){a.schwoz.$CF[1].x.set__(3700);a.schwoz.$CF[32].nextHint(3);a.runFront(1500,!0)})]));this.game.add(c)},beatSteve:function(){var a=this;this.mika.$CF[34].performAction(!0);var b=new s;b.run(new u([new k(1.2),new l(function(){a.boss.$CF[34].testAnim("cart");
var b=a.boss.$CF[1].y;b.set__(b.$iF-160);a.boss.$CF[1].rotation.animateBy(90,0.25);a.boss.$CF[1].x.animateBy(150,0.25);a.boss.$CF[1].y.animateBy(60,0.25);a.playSound("enemy_hit",!0)}),new k(0.25),new l(function(){a.boss.$CF[1].x.animateBy(500,1);a.cart2.$CF[1].x.animateBy(500,1);a.playSound("trolley",!0)}),new k(0.8),new l(function(){a.screenShake(8,0.5);a.playSound("enemy_hit",!0)}),new k(0.25),new l(function(){var b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b);
b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b);b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b);b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b);b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b)}),new k(0.1),new l(function(){var b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b);b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));
a.game.addChild(b)}),new k(0.1),new l(function(){var b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b)}),new k(0.1),new l(function(){var b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b);b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b);b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b)}),new k(0.15),new l(function(){var b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));
a.game.addChild(b);b=(new e).add(new ta(a.cart2.$CF[1].x.$iF,a.cart2.$CF[1].y.$iF));a.game.addChild(b)}),new k(0.25),new l(function(){a.chapa.$CF[34].win()}),new k(3),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("WIN")})]));this.game.add(b)},screenShake:function(a,b){var c=new s;c.run(new u([new Cb(2*a,0,2*b),new k(1)]));this.screen.add(c)},handleTouchDown:function(a){},keyDownHandler:function(a){d.testMode&&(a.key==g.Number7?this.callback("WIN"):a.key==g.Numpad1?this.runFront(1375):
a.key==g.Numpad2?this.runFront(1500,!0):a.key==g.Numpad4?this.runBack(1375):a.key==g.Numpad5?this.runBack(1500,!0):a.key==g.Numpad7?this.clearBooks():a.key==g.Numpad8?this.clearTrolly():a.key==g.Numpad3?this.clearStandee():a.key==g.Numpad9&&this.beatSteve())},addNacho:function(a,b,c){d.notCollected(a)&&(null==this.nachos&&(this.nachos=[]),a=(new e).add(new Xa(a,b,c,r(this,this.nachoCallback))),this.game.addChild(a),this.nachos.push(a))},nachoCallback:function(a){C.remove(this.nachos,a);this.score++;
a=this.nachoText.$CF[1];(a instanceof N?a:null).set_text(this.score+"/10")},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},activateChars:function(a){this.miles.$CF[34].activate(a);this.bose.$CF[34].activate(a);this.chapa.$CF[34].activate(a);this.mika.$CF[34].activate(a);this.enableHelp(a)},reactivateChars:function(a){var b=this,c=new s;c.run(new u([new k(a),new l(function(){b.activateChars(!0)})]));this.owner.add(c)},
enableHelp:function(a){a?(this.helpBtn.$CF[1].alpha.set__(1),this.helpBtn.$CF[1].set_pointerEnabled(!0)):(this.helpBtn.$CF[1].alpha.set__(0.6),this.helpBtn.$CF[1].set_pointerEnabled(!1))},__class__:Hd});var Id=function(a,b,c){this.score=0;this.activeChar="bose";this.timerRunning=this.powerbarActive=this.tasksComplete=!1;this.timer=0;this.oneSecond=2;this.seconds=90;this.hadWrongCharHint=!1;this.missionStage=1;w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c;this.score=d.mission6Nachos()};
m["project.Level6"]=Id;Id.__name__=["project","Level6"];Id.__super__=w;Id.prototype=y(w.prototype,{get_entitySlot:function(){return 26},onAdded:function(){d.isMobile&&this.connect1(n.$3F.$OF.down,r(this,this.handleTouchDown));this.connect1(n.$3F.getKeyboard().down,r(this,this.keyDownHandler));this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.connect1(n.$3F.$LF.move,r(this,this.onPointerMove));this.startGame();this.musicLoop=d.pack.getSound("audio/DangerForce_Gameplay_Full").loop();this.musicLoop.volume.set__(0);
d.muteMusic||this.musicLoop.volume.animateTo(0.8,0.5)},onPointerDown:function(a){if(a.hit==this.helpBtn.$CF[1])this.schwoz.$CF[32].clickHint(),null!=this.powerbar&&(this.powerbar.dispose(),this.powerbar=null);else if(a.hit==this.pauseBtn.$CF[1])this.callback("PAUSE");else{var b=a.viewX/d.scale-d.offsetX/2-this.game.$CF[1].x.$iF;a=a.viewY/d.scale-d.offsetY/2-this.game.$CF[1].y.$iF;a>this.bose.$CF[1].y.$iF-250&&a<this.bose.$CF[1].y.$iF&&(b>this.bose.$CF[1].x.$iF-50&&b<this.bose.$CF[1].x.$iF+50?this.highlight("bose"):
b>this.mika.$CF[1].x.$iF-50&&b<this.mika.$CF[1].x.$iF+50?this.highlight("mika"):b>this.chapa.$CF[1].x.$iF-50&&b<this.chapa.$CF[1].x.$iF+50?this.highlight("chapa"):b>this.miles.$CF[1].x.$iF-50&&b<this.miles.$CF[1].x.$iF+50&&this.highlight("miles"))}},highlight:function(a){switch(a){case "bose":this.bose.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "chapa":this.chapa.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "mika":this.mika.$CF[34].highlight()&&
(this.activeChar=a,this.spawnPowerbar());break;case "miles":this.miles.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar())}},onPointerMove:function(a){0.9<this.helpBtn.$CF[1].alpha.$iF&&f.rolloverImage(this.helpBtn,"buttons/BTN_schwoz","buttons/BTN_schwoz_rollover",a);f.rolloverImage(this.pauseBtn,"buttons/BTN_pause","buttons/BTN_pause_rollover",a)},stopGame:function(){this.inPlay=!1;this.musicLoop.dispose()},startGame:function(){var a=this;this.screen=(new e).add(new G(16777215,d.staticWidth,
d.staticHeight));this.owner.addChild(this.screen);this.game=new e;f.createImageSprite(this.screen,this.game,"blank",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var b=new e;f.createImageSprite(this.game,b,"background",!1,0,0,"GAME");this.schwozShadow=(new e).add(new Ma(850,425));this.game.addChild(this.schwozShadow);b=new e;f.createImageSprite(this.game,b,"chandelier_shadow",!0,1040,700,"GAME");b=(new e).add(new K("betty",1040,700));this.game.addChild(b);this.boss=(new e).add(new L("betty",
b,1040,700,r(this,this.charCallback)));this.game.addChild(this.boss);b=(new e).add(new K("betty",2525,700));this.game.addChild(b);this.boss2=(new e).add(new L("butcher",b,2525,700,r(this,this.charCallback)));this.game.addChild(this.boss2);this.boss.$CF[34].faceRight(!1);this.boss2.$CF[34].faceRight(!1);this.boseShadow=(new e).add(new K("bose",2500,700));this.game.addChild(this.boseShadow);this.boseShadow=(new e).add(new K("bose",590,700));this.game.addChild(this.boseShadow);this.bose=(new e).add(new L("bose",
this.boseShadow,590,700,r(this,this.charCallback)));this.game.addChild(this.bose);this.mikaShadow=(new e).add(new K("mika",390,700));this.game.addChild(this.mikaShadow);this.mika=(new e).add(new L("mika",this.mikaShadow,390,700,r(this,this.charCallback)));this.game.addChild(this.mika);this.milesShadow=(new e).add(new K("miles",690,700));this.game.addChild(this.milesShadow);this.miles=(new e).add(new L("miles",this.milesShadow,690,700,r(this,this.charCallback)));this.game.addChild(this.miles);this.chapaShadow=
(new e).add(new K("chapa",490,700));this.game.addChild(this.chapaShadow);this.chapa=(new e).add(new L("chapa",this.chapaShadow,490,700,r(this,this.charCallback)));this.game.addChild(this.chapa);this.gullShadow2=new e;f.createImageSprite(this.game,this.gullShadow2,"game/gull_placeholder",!0,490,785);this.gullShadow2.$CF[1].scaleY.set__(-1);this.gullShadow2.$CF[1].setTint(0);this.gull2=new e;f.createImageSprite(this.game,this.gull2,"game/gull_placeholder",!0,490,700);this.gullShadow2.$CF[1].alpha.set__(0);
this.gull2.$CF[1].alpha.set__(0);this.goat=(new e).add(new J("goat","idle",2100,545,d.gamePack));this.game.addChild(this.goat);this.goat.$CF[1].scaleX.set__(-1);this.goat.$CF[1].alpha.set__(0);this.bose.$CF[34].faceRight(!0);this.mika.$CF[34].faceRight(!0);this.miles.$CF[34].faceRight(!0);this.chapa.$CF[34].faceRight(!0);b=new e;f.createImageSprite(this.game,b,"chandelier_cable",!0,1042,20,"GAME");this.glow=new e;f.createImageSprite(this.game,this.glow,"chandelier_glow",!0,1040,320,"GAME");this.glow.$CF[1].alpha.set__(0);
this.hintGlow=this.glow;this.chandelier=new e;f.createImageSprite(this.game,this.chandelier,"chandelier",!0,1040,320,"GAME");this.schwoz=(new e).add(new Na(this.schwozShadow,850,400,r(this,this.schwozCallback)));this.game.addChild(this.schwoz);b=new e;f.createImageSprite(this.screen,b,"hud/timer_nacho_frame",!1,32,15);f.alignLeft(b);this.bell=(new e).add(new J("hud/bell","idle",5,30));b.addChild(this.bell);var c=new e;f.createImageSprite(b,c,"mission/nacho_ball",!0,200,30);this.timeText=new e;f.createTextSprite(b,
this.timeText,d.hudFont,"Center",90,7,f.formatTime(this.seconds));this.nachoText=new e;f.createTextSprite(b,this.nachoText,d.hudFont,"Center",274,7,"0/3");this.helpBtn=new e;f.createImageSprite(this.screen,this.helpBtn,"buttons/BTN_schwoz",!0,this.screenWidth-160,50);f.alignRight(this.helpBtn);this.pauseBtn=new e;f.createImageSprite(this.screen,this.pauseBtn,"buttons/BTN_pause",!0,this.screenWidth-60,55);f.alignRight(this.pauseBtn);this.addNacho(1,1300,650);this.addNacho(2,1500,650);this.addNacho(3,
1700,650);this.inPlay=!0;b=new s;b.run(new u([new k(1),new l(function(){a.miles.$CF[34].activate();a.bose.$CF[34].activate();a.chapa.$CF[34].activate();a.mika.$CF[34].activate();a.timerRunning=!0;a.enableHelp(!0)})]));this.game.add(b);this.enableHelp(!1)},schwozCallback:function(a){var b=this;this.hintGlow.$CF[1].alpha.animate(0,1,0.5);a=new s;a.run(new u([new k(3),new l(function(){b.hintGlow.$CF[1].alpha.animateTo(0,0.5)})]));this.hintGlow.add(a)},runOn:function(){var a=this,b=new s;b.run(new u([new k(0),
new l(function(){a.miles.$CF[34].run();a.bose.$CF[34].run();a.chapa.$CF[34].run();a.mika.$CF[34].run();a.miles.$CF[1].x.animateBy(1430,2);a.bose.$CF[1].x.animateBy(1430,2);a.chapa.$CF[1].x.animateBy(1430,2);a.mika.$CF[1].x.animateBy(1430,2);a.game.$CF[1].x.animateBy(-1470,2)}),new k(1),new l(function(){}),new k(1),new l(function(){a.miles.$CF[34].idle();a.bose.$CF[34].idle();a.chapa.$CF[34].idle();a.mika.$CF[34].idle();a.reactivateChars(0)}),new k(0.25),new l(function(){})]));this.game.add(b)},charCallback:function(a,
b){},spawnPowerbar:function(){null==this.powerbar&&(this.powerbar=this.activeChar==d.pendulumChar1||this.activeChar==d.pendulumChar2?(new e).add(new Ba(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))):(new e).add(new Fa(this.activeChar,!1,this.screenWidth/2,this.screenHeight-70,r(this,this.powerbarCallback))),this.screen.addChild(this.powerbar),this.activateChars(!1))},wrongChar:function(a){var b=this;if(!this.hadWrongCharHint){this.hadWrongCharHint=!0;var c=
new s;c.run(new u([new k(a),new l(function(){b.schwoz.$CF[32].wrongChar();b.activateChars(!0)})]));this.screen.add(c)}},powerbarCallback:function(a){this.actionSuccess=a;this.powerbarActive=!1;switch(this.activeChar){case "bose":1==this.missionStage?this.boseFail(a):(this.bose.$CF[34].performAction(!0),this.randomCharacter(this.bose),this.randomCharacter(this.bose).$CF[34].levitate(1),this.bose.$CF[34].showCross(4),a&&this.wrongChar(4));this.reactivateChars(4);break;case "chapa":1==this.missionStage?
a?this.dropChandelier():(this.fireBoltFail(!0),this.chapa.$CF[34].showCross(3),this.wrongChar(3),this.reactivateChars(3)):(this.fireBoltFail2(),this.chapa.$CF[34].showCross(3),this.reactivateChars(3));break;case "mika":this.mikaFail(a);this.mika.$CF[34].showCross(4);a&&this.wrongChar(4);this.reactivateChars(4);break;case "miles":1!=this.missionStage&&a?this.winSequence():(this.teleportFail(),this.miles.$CF[34].showCross(7.5),a&&this.wrongChar(7.5),this.reactivateChars(7.5))}this.powerbar=null},randomCharacter:function(a){var b=
[];a!=this.bose&&b.push(this.bose);a!=this.miles&&b.push(this.miles);a!=this.mika&&b.push(this.mika);a!=this.chapa&&b.push(this.chapa);b=f.shuffle(b);return b[0]},onUpdate:function(a){this.timerRunning&&!this.powerbarActive&&0<this.seconds&&(this.timer+=a,this.timer>this.oneSecond&&(this.timer-=this.oneSecond,this.seconds--,a=this.timeText.$CF[1],(a instanceof N?a:null).set_text(f.formatTime(this.seconds)),0!=this.seconds||this.tasksComplete||(this.bell.$CF[19].loop("ring"),this.playSound("bell"),
this.missionFailed())));if(null!=this.nachos){a=0;for(var b=this.nachos;a<b.length;){var c=b[a];++a;c.$CF[43].active&&30>f.vectorDistance(this.miles.$CF[1].x.$iF,c.$CF[1].x.$iF,0,0)&&c.$CF[43].collect()}}},missionFailed:function(){var a=this;this.bose.$CF[34].lose();this.mika.$CF[34].lose();this.miles.$CF[34].lose();this.chapa.$CF[34].lose();var b=new s;b.run(new u([new k(3.5),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("LOSE")})]));this.game.add(b)},teleportFail:function(){var a=
this;this.miles.$CF[34].teleportTo(-500,1.5);var b=new e;f.createImageSprite(this.owner,b,"game/background_beach",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);b.$CF[1].set_visible(!1);var c=(new e).add(new K("miles",750,685));b.addChild(c);var d=(new e).add(new L("miles",c,750,685,r(this,this.charCallback)));b.addChild(d);d.$CF[34].teleportTo(-500,0);d.$CF[34].faceRight(!0);var g=new e;f.createImageSprite(b,g,"game/gull_placeholder",!0,850,735);g.$CF[1].scaleY.set__(-1);g.$CF[1].setTint(0);
g.$CF[1].alpha.set__(0.075);var m=new e;f.createImageSprite(b,m,"game/gull_placeholder",!0,850,650);var n=(new e).add(new G(16777215,2E3,2E3));this.screen.addChild(n);n.$CF[1].alpha.set__(0);c=n.$CF[1].x;c.set__(c.$iF-300);c=new s;c.run(new u([new k(0.8),new l(function(){n.$CF[1].alpha.animateTo(1,0.2)}),new k(0.2),new l(function(){b.$CF[1].set_visible(!0);n.$CF[1].alpha.animateTo(0,0.2);a.playSound("beach_ambience")}),new k(0.75),new l(function(){d.$CF[34].teleportBack(0)}),new k(2),new l(function(){d.$CF[34].teleportTo(-500,
0)}),new k(0.5),new l(function(){var a=(new e).add(new ga(850,650));b.addChild(a)}),new k(0.15),new l(function(){m.$CF[1].alpha.animateTo(0,0.1);g.$CF[1].alpha.animateTo(0,0.1)}),new k(0.2),new l(function(){n.$CF[1].alpha.animateTo(1,0.25)}),new k(0.8),new l(function(){b.$CF[1].set_visible(!1);n.$CF[1].alpha.animateTo(0,0.25)}),new k(0.3),new l(function(){b.dispose();n.dispose();a.miles.$CF[34].teleportBack(0.4)}),new k(0.5),new l(function(){var b=(new e).add(new ga(a.miles.$CF[1].x.$iF-90,700));
a.game.addChild(b)}),new k(0.15),new l(function(){a.gull2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-90);a.gullShadow2.$CF[1].x.set__(a.miles.$CF[1].x.$iF-90);a.gull2.$CF[1].alpha.animateTo(1,0.1);a.gullShadow2.$CF[1].alpha.animateTo(0.075,0.1)}),new k(0.5),new l(function(){a.playSound("seagull")})]));this.game.add(c)},winSequence:function(){var a=this;this.miles.$CF[34].teleportTo(-500,1.5);var b=new s;b.run(new u([new k(1.5),new l(function(){a.miles.$CF[34].teleportBack(0.25)}),new k(0.5),new l(function(){var b=
(new e).add(new ga(a.goat.$CF[1].x.$iF-75,a.goat.$CF[1].y.$iF+115));a.game.addChild(b);b.$CF[1].setScale(2);a.goat.$CF[1].alpha.animateTo(1,0.25);a.playSound("goat_vo",!0)}),new k(0.5),new l(function(){a.goat.$CF[1].x.animateBy(420,1,q.sineIn);a.goat.$CF[1].y.animateBy(-30,1,q.sineIn);a.goat.$CF[19].loop("run");a.playSound("goat_gallop",!0);a.playSound("goat_vo",!0)}),new k(1),new l(function(){a.boss2.$CF[34].testAnim("hit","ko");a.boss2.$CF[1].x.animateBy(100,1.5,q.sineOut);a.goat.$CF[19].loop("idle");
a.playSound("enemy_hit",!0);a.screenShake(2,0.1)}),new k(0.75),new l(function(){a.screenShake(4,0.25);a.playSound("goat_vo",!0)}),new k(1.5),new l(function(){a.playSound("goat_vo",!0)}),new k(1),new l(function(){a.miles.$CF[34].win()}),new k(0.2),new l(function(){a.bose.$CF[34].win();a.mika.$CF[34].win();a.chapa.$CF[34].win()}),new k(3),new l(function(){a.musicLoop.volume.animateTo(0,0.2);a.callback("WIN")})]));this.game.add(b)},fireBoltFail:function(a){null==a&&(a=!1);var b=this;this.chapa.$CF[34].performAction(!1);
var c=new s;c.run(new u([new k(1.1),new l(function(){var a=(new e).add(new ua(b.chapa.$CF[1].x.$iF+150,b.chapa.$CF[1].y.$iF-175));b.game.addChild(a);a.$CF[40].fire(1E3,-30,1.5,-5)}),new k(0.2),new l(function(){a&&b.boss.$CF[34].testAnim("duck","idle")})]));this.game.add(c)},fireBoltFail2:function(){var a=this;this.chapa.$CF[34].performAction2(!1);var b=new s;b.run(new u([new k(1.1),new l(function(){var b=(new e).add(new ua(a.chapa.$CF[1].x.$iF+150,a.chapa.$CF[1].y.$iF-200));a.game.addChild(b);b.$CF[40].fire(1E3,
-400,2,-25)})]));this.game.add(b)},boseFail:function(a){this.bose.$CF[34].performAction(a);a=new s;a.run(new u([new k(1.3),new l(function(){})]));this.game.add(a)},mikaFail:function(a){var b=this;this.mika.$CF[34].performAction(a);a=new s;a.run(new u([new k(1.3),new l(function(){b.boss.$CF[34].testAnim("duck","idle")})]));this.game.add(a)},dropChandelier:function(){var a=this;this.missionStage=2;this.chapa.$CF[34].performAction2(!0);var b=new e,c=new s;c.run(new u([new k(1.1),new l(function(){b.add(new ua(a.chapa.$CF[1].x.$iF+
150,a.chapa.$CF[1].y.$iF-200));a.game.addChild(b);b.$CF[40].fire(365,-225,0.7,-30)}),new k(0.7),new l(function(){var c=(new e).add(new cb(!0,b.$CF[1].x.$iF+25,b.$CF[1].y.$iF));a.game.addChild(c);a.playSound("rope_snap",!0);a.chandelier.$CF[1].y.animateBy(200,0.5,q.sineIn);a.chandelier.$CF[1].rotation.animateBy(-10,0.5,q.sineIn)}),new k(0.3),new l(function(){a.boss.$CF[34].testAnim("hit","ko");a.screenShake(2,0.1);a.playSound("chandelier_capture",!0)}),new k(0.2),new l(function(){a.chandelier.$CF[1].set_visible(!1)}),
new k(2),new l(function(){a.schwoz.$CF[1].x.set__(2200);a.schwoz.$CF[32].nextHint(2);a.runOn()})]));this.game.add(c)},handleTouchDown:function(a){},keyDownHandler:function(a){var b=this;d.testMode&&(a.key==g.Numpad7?this.callback("WIN"):a.key==g.Numpad1?(this.miles.$CF[34].run(),this.bose.$CF[34].run(),this.chapa.$CF[34].run(),this.mika.$CF[34].run(),this.miles.$CF[1].x.animateBy(1400,2),this.bose.$CF[1].x.animateBy(1400,2),this.chapa.$CF[1].x.animateBy(1400,2),this.mika.$CF[1].x.animateBy(1400,2),
this.game.$CF[1].x.animateBy(-1420,2),a=new s,a.run(new u([new k(2),new l(function(){b.miles.$CF[34].idle();b.bose.$CF[34].idle();b.chapa.$CF[34].idle();b.mika.$CF[34].idle()})])),this.game.add(a)):a.key==g.Numpad2?this.dropChandelier():a.key==g.Numpad3?this.runOn():a.key==g.Numpad4&&this.winSequence())},addNacho:function(a,b,c){d.notCollected(a)&&(null==this.nachos&&(this.nachos=[]),a=(new e).add(new Xa(a,b,c,r(this,this.nachoCallback))),this.game.addChild(a),this.nachos.push(a))},nachoCallback:function(a){C.remove(this.nachos,
a);this.score++;a=this.nachoText.$CF[1];(a instanceof N?a:null).set_text(this.score+"/3")},screenShake:function(a,b){var c=new s;c.run(new u([new Cb(2*a,0,2*b),new k(1)]));this.screen.add(c)},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},activateChars:function(a){this.miles.$CF[34].activate(a);this.bose.$CF[34].activate(a);this.chapa.$CF[34].activate(a);this.mika.$CF[34].activate(a);this.enableHelp(a)},reactivateChars:function(a){var b=
this,c=new s;c.run(new u([new k(a),new l(function(){b.activateChars(!0)})]));this.owner.add(c)},enableHelp:function(a){a?(this.helpBtn.$CF[1].alpha.set__(1),this.helpBtn.$CF[1].set_pointerEnabled(!0)):(this.helpBtn.$CF[1].alpha.set__(0.6),this.helpBtn.$CF[1].set_pointerEnabled(!1))},__class__:Id});var Bd=function(a,b,c){w.call(this);this.x=a|0;this.y=b|0;this.callback=c};m["project.LevelLoader"]=Bd;Bd.__name__=["project","LevelLoader"];Bd.__super__=w;Bd.prototype=y(w.prototype,{get_entitySlot:function(){return 16},
onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.owner.$CF[1].centerAnchor();this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.loadPack()},loadPack:function(){var a=this;null!=d.gamePack&&d.gamePack.dispose();var b=new e;f.createTextSprite(this.owner,b,d.plain18Font,"Center",0,0,"0%");var c="mission"+d.mission;this.owner.$CF[1].set_visible(!1);d.v2?(c=da.fromAssets(c),c.$NG=Q.string(n.$3F.getExternal().call("jsembed.baseUrl"))+"assets/"):c=da.fromAssets(c);
this.loader=n.$3F.loadAssetPack(c);this.loader.then(function(b){d.gamePack=b;a.callback(!0)});this.loader.catchError(function(b){a.callback(!1)});this.loader.progress(function(a){1<a&&(a=1);a=100*a|0;var c=b.$CF[1];(c instanceof N?c:null).set_text((null==a?"null":""+a)+"%")})},__class__:Bd});var Te=function(){};m["project.Main"]=Te;Te.__name__=["project","Main"];Te.main=function(){var a,b=(new e).add(new G(16777215,960,560)),c=(new e).add(new G(16777215,2E3,2E3));b.addChild(c);var c=n.$3F.$NF.get_width(),
g=n.$3F.$NF.get_height();if(g>c)var k=c,c=g,g=k;n.root.addChild(b);f.detectLowEndDevice();n.$3F.$OF.get_supported()&&(d.isMobile=!0);c=window.navigator.userAgent;-1!=c.indexOf("Win")&&(d.isMobile=!1);-1!=c.indexOf("Mac")&&(d.isMobile=!1);-1!=c.indexOf("Mobile")&&(d.isMobile=!0);d.v2?(c=da.fromAssets("config"),c.$NG=Q.string(n.$3F.getExternal().call("jsembed.baseUrl"))+"assets/"):c=da.fromAssets("config");a=n.$3F.loadAssetPack(c);a.then(function(c){d.configPack=c;d.v2?(c=da.fromAssets("preloader"),
c.$NG=Q.string(n.$3F.getExternal().call("jsembed.baseUrl"))+"assets/"):c=da.fromAssets("preloader");a=n.$3F.loadAssetPack(c);a.then(function(a){d.loaderPack=a;b.dispose();n.root.add(new Pd)});a.catchError(function(a){});a.progress(function(a){})});a.catchError(function(a){});a.progress(function(a){})};var J=function(a,b,c,e,f,g){null==g&&(g=1);w.call(this);this.movie=a;this.animation=b;this.x=c|0;this.y=e|0;this.pack=null!=f?f:d.pack;this.liteScale=g};m["project.MovieClip"]=J;J.__name__=["project",
"MovieClip"];J.__super__=w;J.prototype=y(w.prototype,{get_entitySlot:function(){return 19},onAdded:function(){var a=new Kb(this.pack,this.movie);this.moviePlayer=new ed(a);this.moviePlayer.loop(this.animation);this.owner.add(this.moviePlayer).add(new x);this.thisSprite=this.owner.$CF[1];this.thisSprite.x.set__(this.x);this.thisSprite.y.set__(this.y);d.lite&&(80==this.liteScale?this.thisSprite.setScale(1.25):50==this.liteScale&&this.thisSprite.setScale(2),this.thisSprite.set_pixelSnapping(!1))},play:function(a,
b){this.moviePlayer.loop(b);this.moviePlayer.play(a)},loop:function(a){this.moviePlayer.loop(a)},__class__:J});var Xa=function(a,b,c,d){this.active=!0;w.call(this);this.index=a;this.x=b|0;this.y=c|0;this.callback=d};m["project.Nacho"]=Xa;Xa.__name__=["project","Nacho"];Xa.__super__=w;Xa.prototype=y(w.prototype,{get_entitySlot:function(){return 43},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.thisSprite.set_pixelSnapping(!1);
this.shadow=new e;f.createImageSprite(this.owner,this.shadow,"nacho_shadow",!0,0,90,"GAME");this.nacho=new e;f.createImageSprite(this.owner,this.nacho,"mission/nacho_ball",!0,0,0);this.burst=(new e).add(new J("intro/burst","blank",0,0));this.owner.addChild(this.burst);this.burst.$CF[1].setScale(0.5);this.burst.$CF[1].setTint(16768768);f.pulseUpDown(this.nacho,20,1.2)},collect:function(){if(this.active)if(this.burst.$CF[1].y.set__(this.nacho.$CF[1].y.$iF-20),this.burst.$CF[19].play("burst","blank"),
this.active=!1,this.shadow.$CF[1].set_visible(!1),this.nacho.$CF[11].stopAll(),this.nacho.$CF[1].y.animateBy(-100,1),this.nacho.$CF[1].alpha.animateTo(0,1,q.sineIn),this.callback(this.owner),this.playSound("nacho_pickup2"),1==d.mission)switch(this.index){case 1:d.mission1Nacho1=1;break;case 2:d.mission1Nacho2=1;break;case 3:d.mission1Nacho3=1}else if(2==d.mission)switch(this.index){case 1:d.mission2Nacho1=1;break;case 2:d.mission2Nacho2=1;break;case 3:d.mission2Nacho3=1}else if(3==d.mission)switch(this.index){case 1:d.mission3Nacho1=
1;break;case 2:d.mission3Nacho2=1;break;case 3:d.mission3Nacho3=1}else if(4==d.mission)switch(this.index){case 1:d.mission4Nacho1=1;break;case 2:d.mission4Nacho2=1;break;case 3:d.mission4Nacho3=1;break;case 4:d.mission4Nacho4=1;break;case 5:d.mission4Nacho5=1;break;case 6:d.mission4Nacho6=1;break;case 7:d.mission4Nacho7=1;break;case 8:d.mission4Nacho8=1;break;case 9:d.mission4Nacho9=1;break;case 10:d.mission4Nacho10=1}else if(5==d.mission)switch(this.index){case 1:d.mission5Nacho1=1;break;case 2:d.mission5Nacho2=
1;break;case 3:d.mission5Nacho3=1;break;case 4:d.mission5Nacho4=1;break;case 5:d.mission5Nacho5=1;break;case 6:d.mission5Nacho6=1;break;case 7:d.mission5Nacho7=1;break;case 8:d.mission5Nacho8=1;break;case 9:d.mission5Nacho9=1;break;case 10:d.mission5Nacho10=1}else if(6==d.mission)switch(this.index){case 1:d.mission6Nacho1=1;break;case 2:d.mission6Nacho2=1;break;case 3:d.mission6Nacho3=1}},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+
a).play())},__class__:Xa});var Jd=function(a,b,c){w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c};m["project.Outro"]=Jd;Jd.__name__=["project","Outro"];Jd.__super__=w;Jd.prototype=y(w.prototype,{get_entitySlot:function(){return 27},onAdded:function(){this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.startGame();this.musicLoop=d.pack.getSound("audio/DangerForce_Gameplay_Full").loop();this.musicLoop.volume.set__(0);d.muteMusic||this.musicLoop.volume.animateTo(0.8,0.5)},
onPointerDown:function(a){a.hit==this.btn.$CF[1]&&this.callback("WIN")},stopGame:function(){this.inPlay=!1;this.musicLoop.dispose()},startGame:function(){var a=this;this.screen=(new e).add(new G(16777215,d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);var b=new e;f.createFillSprite(this.screen,b,0,!0,this.screenWidth/2-300,this.screenWidth/2,3E3,3E3,1);b=new e;f.createImageSprite(this.screen,b,"intro/background",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var c=new e;f.createImageSprite(this.screen,
c,"cell1",!0,this.screenWidth/2-355,this.screenHeight/2-130,"GAME");var g=new e;f.createImageSprite(this.screen,g,"cell2",!0,this.screenWidth/2-86,this.screenHeight/2-130,"GAME");var m=new e;f.createImageSprite(this.screen,m,"cell3",!0,this.screenWidth/2+269,this.screenHeight/2-130,"GAME");var n=new e;f.createImageSprite(this.screen,n,"cell4",!0,this.screenWidth/2-279,this.screenHeight/2+145,"GAME");var q=new e;f.createImageSprite(this.screen,q,"cell5",!0,this.screenWidth/2+19,this.screenHeight/2+
161,"GAME");var r=new e;f.createImageSprite(this.screen,r,"cell6",!0,this.screenWidth/2+293,this.screenHeight/2+161,"GAME");b=new e;f.createImageSprite(this.screen,b,"bubble1",!0,this.screenWidth/2+203,this.screenHeight/2+-198,"GAME");var t=new e;f.createXMLSprite(b,t,d.comicFont,"Left",20,12,d.translations.node.resolve("outro1"));t.$CF[1].setTint(0);t=new e;f.createImageSprite(this.screen,t,"bubble2",!0,this.screenWidth/2+266,this.screenHeight/2-25,"GAME");var v=new e;f.createXMLSprite(t,v,d.comicFont,
"Left",18,38,d.translations.node.resolve("outro2"));v.$CF[1].setTint(0);v=new e;f.createImageSprite(this.screen,v,"bubble3",!0,this.screenWidth/2-200,this.screenHeight/2+230,"GAME");var w=new e;f.createXMLSprite(v,w,d.comicFont,"Left",20,25,d.translations.node.resolve("outro3"));w.$CF[1].setTint(0);w=new e;f.createImageSprite(this.screen,w,"bubble4",!0,this.screenWidth/2+30,this.screenHeight/2+95,"GAME");var y=new e;f.createXMLSprite(w,y,d.comicFont,"Left",20,8,d.translations.node.resolve("outro4"));
y.$CF[1].setTint(0);y=new e;f.createImageSprite(this.screen,y,"bubble5",!0,this.screenWidth/2+25,this.screenHeight/2+233,"GAME");var z=new e;f.createXMLSprite(y,z,d.comicFont,"Left",12,40,d.translations.node.resolve("outro5"));z.$CF[1].setTint(0);z=new e;f.createImageSprite(this.screen,z,"bubble6",!0,this.screenWidth/2+280,this.screenHeight/2+90,"GAME");var x=new e;f.createXMLSprite(z,x,d.comicFont,"Left",15,7,d.translations.node.resolve("outro6"));x.$CF[1].setTint(0);x=1;H.tweenRight(c,150,0.6,x);
H.tweenDown(g,150,0.6,x+=0.2);H.tweenLeft(m,150,0.6,x+=0.2);H.tweenRight(n,150,0.6,x+=0.2);H.tweenUp(q,150,0.6,x+=0.2);H.tweenLeft(r,150,0.6,x+=0.2);c=new e;f.createXMLSprite(this.screen,c,d.ipadFont,"Center",this.screenWidth/2-400,this.screenHeight/2-265,d.translations.node.resolve("ow"));H.spawn(c,2,0.5,0.5);c=new e;f.createXMLSprite(this.screen,c,d.ipadFont,"Center",this.screenWidth/2-280,this.screenHeight/2-165,d.translations.node.resolve("ee"));H.spawn(c,2.5,0.5,0.5);c=new e;f.createXMLSprite(this.screen,
c,d.ipadFont,"Center",this.screenWidth/2-380,this.screenHeight/2-80,d.translations.node.resolve("aargh"));H.spawn(c,3,0.5,0.5);c=new e;f.createXMLSprite(this.screen,c,d.ipadFont,"Center",this.screenWidth/2-15,this.screenHeight/2-35,d.translations.node.resolve("villians"));H.spawn(c,3.5,0.5,0.5);c=new s;c.run(new u([new k(1),new l(function(){a.playSound("swoosh")}),new k(0.2),new l(function(){a.playSound("swoosh")}),new k(0.2),new l(function(){a.playSound("swoosh")}),new k(0.2),new l(function(){a.playSound("swoosh")}),
new k(0.2),new l(function(){a.playSound("swoosh")}),new k(0.2),new l(function(){a.playSound("swoosh")}),new k(0.9),new l(function(){a.playSound("swoosh")}),new k(0.4),new l(function(){a.playSound("swoosh")}),new k(0.4),new l(function(){a.playSound("swoosh")}),new k(0.4),new l(function(){a.playSound("swoosh")}),new k(0.4),new l(function(){a.playSound("swoosh")}),new k(0.4),new l(function(){a.playSound("swoosh")})]));this.screen.add(c);x+=0.5;H.spawn(b,x+=0.4,0.3,0.3);H.spawn(t,x+=0.4,0.3,0.3);H.spawn(v,
x+=0.4,0.3,0.3);H.spawn(w,x+=0.4,0.3,0.3);H.spawn(y,x+=0.4,0.3,0.3);H.spawn(z,x+=0.4,0.3,0.3);this.btn=new e;f.createImageSprite(this.screen,this.btn,"buttons/BTN_skip",!0,this.screenWidth-60,this.screenHeight-60);f.alignRight(this.btn);this.btn.$CF[1].set_visible(!1);b=new s;b.run(new u([new k(6),new l(function(){a.btn.$CF[1].set_visible(!0);H.spawn(a.btn,0,0.5,0.5)}),new k(0.5),new l(function(){f.pulseBtn(a.btn,1.1,1)})]));this.owner.add(b)},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=
b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play(),this.sfx.volume.set__(0.5))},__class__:Jd});var Nd=function(a,b,c){this.gameOver=!1;w.call(this);this.x=a|0;this.y=b|0;this.callback=c};m["project.PauseMenu"]=Nd;Nd.__name__=["project","PauseMenu"];Nd.__super__=w;Nd.prototype=y(w.prototype,{get_entitySlot:function(){return 20},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.owner.$CF[1].centerAnchor();this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,
this.y);var a=new e;f.createImageSprite(this.owner,a,"blank",!0,0,0);this.whiteboard=new e;f.createImageSprite(this.owner,this.whiteboard,"mission/whiteboard",!0,0,0);this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.connect1(n.$3F.$LF.move,r(this,this.onPointerMove));this.screen=new e;f.createImageSprite(this.owner,this.screen,"blank",!0,0,0)},showReport:function(){this.whiteboard.dispose();this.whiteboard=new e;f.createImageSprite(this.owner,this.whiteboard,"mission/whiteboard",!0,0,
0);var a=new e;f.createImageSprite(this.whiteboard,a,"mission/BTN_icon_highlight",!1,73,38);a=new e;f.createImageSprite(this.whiteboard,a,"mission/icons",!1,75,44);a=new e;f.createImageSprite(this.whiteboard,a,"mission/crime_report_screen",!1,160,38);a=new e;f.createXMLSprite(this.whiteboard,a,d.headerFont,"Left",170,52,d.translations.node.resolve("crimereport"));a=new e;f.createImageSprite(this.whiteboard,a,"mission/mission_overview_screen",!1,160,38);var b=new e;f.createImageSprite(a,b,"mission/photo"+
d.mission,!1,50,3);this.bio();this.tab="REPORT";this.addButtons();this.btnReport.$CF[1].set_pointerEnabled(!1)},bio:function(){var a=new e;f.createXMLSprite(this.whiteboard,a,d.plain26Font,"Left",570,70,d.translations.node.resolve("crimereport"));a.$CF[1].setTint(0);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain18Font,"Left",550,135,d.translations.node.resolve("type"));a.$CF[1].setTint(0);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain18Font,"Left",550,185,d.translations.node.resolve("location"));
a.$CF[1].setTint(0);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain18Font,"Left",550,230,d.translations.node.resolve("description"));a.$CF[1].setTint(0);switch(d.mission){case 0:a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,160,d.translations.node.resolve("training"));a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,210,d.translations.node.resolve("training"));a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,
d.plain14Font,"Left",550,255,d.translations.node.resolve("training"));a.$CF[1].setTint(29116);break;case 1:a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,160,d.translations.node.resolve("type1"));a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,210,d.translations.node.resolve("location1"));a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,255,d.translations.node.resolve("description1"));a.$CF[1].setTint(29116);
break;case 2:a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,160,d.translations.node.resolve("type2"));a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,210,d.translations.node.resolve("location2"));a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,255,d.translations.node.resolve("description2"));a.$CF[1].setTint(29116);break;case 3:a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",
550,160,d.translations.node.resolve("type3"));a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,210,d.translations.node.resolve("location3"));a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,255,d.translations.node.resolve("description3"));a.$CF[1].setTint(29116);break;case 4:a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,160,d.translations.node.resolve("type4"));a.$CF[1].setTint(29116);a=
new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,210,d.translations.node.resolve("location4"));a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,255,d.translations.node.resolve("description4"));a.$CF[1].setTint(29116);break;case 5:a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,160,d.translations.node.resolve("type5"));a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,210,d.translations.node.resolve("location5"));
a.$CF[1].setTint(29116);a=new e;f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,255,d.translations.node.resolve("description5"));a.$CF[1].setTint(29116);break;case 6:a=new e,f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,160,d.translations.node.resolve("type6")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.whiteboard,a,d.plain14Font,"Left",550,210,d.translations.node.resolve("location6")),a.$CF[1].setTint(29116),a=new e,f.createXMLSprite(this.whiteboard,a,d.plain14Font,
"Left",550,255,d.translations.node.resolve("description6")),a.$CF[1].setTint(29116)}},showGameOver:function(a){var b=this;this.hasWon=a;this.gameOver=!0;this.whiteboard.dispose();this.whiteboard=new e;f.createImageSprite(this.owner,this.whiteboard,"mission/whiteboard",!0,0,0);var c=new e;f.createImageSprite(this.whiteboard,c,"mission/white_side_indicator",!1,45,63);c=new e;f.createImageSprite(this.whiteboard,c,"mission/BTN_icon_highlight",!1,73,38);c=new e;f.createImageSprite(this.whiteboard,c,"mission/crime_report_screen",
!1,160,38);c=new e;f.createXMLSprite(this.whiteboard,c,d.headerFont,"Left",170,52,d.translations.node.resolve("crimereport"));c=new e;f.createImageSprite(this.whiteboard,c,"mission/mission_overview_screen",!1,160,38);var g=new e;f.createImageSprite(c,g,"mission/photo"+d.mission,!1,50,3);var m=new e;if(a)if(d.vo)f.createImageSprite(c,m,"mission/success_stamp",!1,50,45);else{f.createImageSprite(c,m,"mission/stampFrame",!1,50,45);var n=new e;f.createXMLSprite(m,n,d.plain30Font,"Center",180,25,d.translations.node.resolve("missionsuccess"));
m.$CF[1].setTint(3781962);n.$CF[1].rotation.set__(-5)}else d.vo?f.createImageSprite(c,m,"mission/failed_stamp",!1,50,45):(f.createImageSprite(c,m,"mission/stampFrame",!1,50,45),n=new e,f.createXMLSprite(m,n,d.plain30Font,"Center",180,25,d.translations.node.resolve("missionfailed")),m.$CF[1].setTint(15539236),n.$CF[1].rotation.set__(-5));H.spawn(m,1,0,0);m=new s;m.run(new u([new k(1),new l(function(){b.playSound("mission_success-fail_stamp")})]));g.add(m);this.bio();d.vo?(this.btnReplay=new e,f.createImageSprite(c,
this.btnReplay,"buttons/BTN_try_again",!1,372,292),this.btnContinue=new e,f.createImageSprite(c,this.btnContinue,"buttons/BTN_continue",!1,480,292),this.btnMenu=new e,f.createImageSprite(c,this.btnMenu,"buttons/BTN_menu",!1,534,292)):(this.btnReplay=new e,f.createImageSprite(c,this.btnReplay,"buttons/checkBtn_long",!1,372,292),this.btnReplay.$CF[1].setTint(3781962),g=new e,f.createXMLSprite(this.btnReplay,g,d.plain18Font,"Center",55,10,d.translations.node.resolve("tryagain")),g.$CF[1].set_pointerEnabled(!1),
this.btnContinue=new e,f.createImageSprite(c,this.btnContinue,"buttons/checkBtn_long",!1,480,292),this.btnContinue.$CF[1].setTint(3781962),g=new e,f.createXMLSprite(this.btnContinue,g,d.plain18Font,"Center",55,10,d.translations.node.resolve("cont")),g.$CF[1].set_pointerEnabled(!1),this.btnMenu=new e,f.createImageSprite(c,this.btnMenu,"buttons/checkBtn_short",!1,534,292),this.btnMenu.$CF[1].setTint(15539236),c=new e,f.createXMLSprite(this.btnMenu,c,d.plain18Font,"Center",25,10,d.translations.node.resolve("menu")),
c.$CF[1].set_pointerEnabled(!1));a?(this.btnReplay.$CF[1].y.set__(-999),this.btnMenu.$CF[1].y.set__(-999)):this.btnContinue.$CF[1].y.set__(-999);this.tab="GAMEOVER";this.addButtons()},showHelp:function(){this.whiteboard.dispose();this.whiteboard=new e;f.createImageSprite(this.owner,this.whiteboard,"mission/whiteboard",!0,0,0);var a=new e;f.createImageSprite(this.whiteboard,a,"mission/white_side_indicator",!1,45,145);a=new e;f.createImageSprite(this.whiteboard,a,"mission/BTN_icon_highlight",!1,73,
120);a=new e;f.createImageSprite(this.whiteboard,a,"mission/crime_report_screen",!1,160,38);a=new e;f.createXMLSprite(this.whiteboard,a,d.headerFont,"Left",170,52,d.translations.node.resolve("helpTitle"));a=new e;d.isMobile?(f.createImageSprite(this.whiteboard,a,"pause/help_mobile",!0,522,260),a=new e,f.createXMLSprite(this.whiteboard,a,d.helpFont,"Left",650,220,d.translations.node.resolve("helpMobile"))):(f.createImageSprite(this.whiteboard,a,"pause/help_desktop",!0,522,260),a=new e,f.createXMLSprite(this.whiteboard,
a,d.helpFont,"Left",650,220,d.translations.node.resolve("helpDesktop")));a=new e;f.createXMLSprite(this.whiteboard,a,d.helpFont,"Left",350,200,d.translations.node.resolve("help1"));a=new e;f.createXMLSprite(this.whiteboard,a,d.helpFont,"Left",255,360,d.translations.node.resolve("help2"));a=new e;f.createXMLSprite(this.whiteboard,a,d.helpFont,"Left",535,360,d.translations.node.resolve("help3"));this.tab="HELP";this.addButtons()},addButtons:function(){this.btnReport=new e;f.createImageSprite(this.whiteboard,
this.btnReport,"buttons/icon1",!1,72,44);this.btnHelp=new e;f.createImageSprite(this.whiteboard,this.btnHelp,"buttons/icon2",!1,72,114);this.btnMute=new e;f.createImageSprite(this.whiteboard,this.btnMute,"buttons/icon3",!1,72,200);this.audioCross=new e;f.createImageSprite(this.whiteboard,this.audioCross,"pause/audio_off_cross",!1,100,217);d.muted||this.audioCross.$CF[1].set_visible(!1);this.audioCross.$CF[1].set_pointerEnabled(!1);this.btnQuit=new e;f.createImageSprite(this.whiteboard,this.btnQuit,
"buttons/icon4",!1,72,260);this.btnExit=new e;f.createImageSprite(this.whiteboard,this.btnExit,"buttons/BTN_close",!0,892,30);this.gameOver&&(this.btnExit.$CF[1].set_visible(!1),this.btnQuit.$CF[1].alpha.set__(0),this.btnQuit.$CF[1].set_pointerEnabled(!1))},showQuit:function(){this.whiteboard.dispose();this.whiteboard=new e;f.createImageSprite(this.owner,this.whiteboard,"mission/whiteboard",!0,0,0);var a=new e;f.createImageSprite(this.whiteboard,a,"mission/white_side_indicator",!1,45,282);a=new e;
f.createImageSprite(this.whiteboard,a,"mission/BTN_icon_highlight",!1,73,257);a=new e;f.createImageSprite(this.whiteboard,a,"mission/crime_report_screen",!1,160,38);a=new e;f.createXMLSprite(this.whiteboard,a,d.headerFont,"Left",170,56,d.translations.node.resolve("quit"));a=new e;f.createXMLSprite(this.whiteboard,a,d.helpFont,"Left",210,155,d.translations.node.resolve("sure"));this.btnTick=new e;f.createImageSprite(this.whiteboard,this.btnTick,"buttons/BTN_tick",!1,320,200);this.btnCancel=new e;f.createImageSprite(this.whiteboard,
this.btnCancel,"buttons/BTN_cross",!1,460,200);this.tab="QUIT";this.addButtons();this.btnQuit.$CF[1].set_pointerEnabled(!1)},onPointerDown:function(a){a.hit==this.btnReport.$CF[1]?(this.gameOver?this.showGameOver(this.hasWon):this.showReport(),this.playSound("click")):a.hit==this.btnHelp.$CF[1]?(this.showHelp(),this.playSound("click")):a.hit==this.btnMute.$CF[1]?(d.muted?(this.audioCross.$CF[1].set_visible(!1),f.mute(!1)):(this.audioCross.$CF[1].set_visible(!0),f.mute(!0)),this.playSound("click")):
a.hit==this.btnQuit.$CF[1]?(this.showQuit(),this.playSound("click")):a.hit==this.btnExit.$CF[1]&&(this.callback("PLAY"),this.playSound("click"));"QUIT"==this.tab?a.hit==this.btnTick.$CF[1]?(this.callback("MENU"),this.playSound("click")):a.hit==this.btnCancel.$CF[1]&&(this.showHelp(),this.playSound("click")):"GAMEOVER"==this.tab&&(a.hit==this.btnReplay.$CF[1]?(this.callback("REPLAY"),this.playSound("click")):a.hit==this.btnContinue.$CF[1]?(this.callback("CONTINUE"),this.playSound("click")):a.hit==
this.btnMenu.$CF[1]&&(this.callback("MENU"),this.playSound("click")))},onPointerMove:function(a){switch(this.tab){case "GAMEOVER":d.vo&&(f.rolloverImage(this.btnReplay,"buttons/BTN_try_again","buttons/BTN_try_again_rollover",a),f.rolloverImage(this.btnContinue,"buttons/BTN_continue","buttons/BTN_continue_rollover",a),f.rolloverImage(this.btnMenu,"buttons/BTN_menu","buttons/BTN_menu_rollover",a));break;case "HELP":f.rolloverImage(this.btnReport,"buttons/icon1","buttons/icon1_rollover",a);f.rolloverImage(this.btnMute,
"buttons/icon3","buttons/icon3_rollover",a);f.rolloverImage(this.btnQuit,"buttons/icon4","buttons/icon4_rollover",a);f.rolloverImage(this.btnExit,"buttons/BTN_close","buttons/BTN_close_rollover",a);break;case "QUIT":f.rolloverImage(this.btnReport,"buttons/icon1","buttons/icon1_rollover",a);f.rolloverImage(this.btnHelp,"buttons/icon2","buttons/icon2_rollover",a);f.rolloverImage(this.btnMute,"buttons/icon3","buttons/icon3_rollover",a);f.rolloverImage(this.btnQuit,"buttons/icon4","buttons/icon4_rollover",
a);f.rolloverImage(this.btnTick,"buttons/BTN_tick","buttons/BTN_tick_rollover",a);f.rolloverImage(this.btnCancel,"buttons/BTN_cross","buttons/BTN_cross_rollover",a);break;case "REPORT":f.rolloverImage(this.btnHelp,"buttons/icon2","buttons/icon2_rollover",a),f.rolloverImage(this.btnMute,"buttons/icon3","buttons/icon3_rollover",a),f.rolloverImage(this.btnQuit,"buttons/icon4","buttons/icon4_rollover",a),f.rolloverImage(this.btnExit,"buttons/BTN_close","buttons/BTN_close_rollover",a)}},playSound:function(a,
b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},__class__:Nd});var Fa=function(a,b,c,e,f){this.controlsActive=!1;this.btnHeight=50;this.btnWidth=65;this.btnY=-35;this.btnX=380;this.success=!0;this.endX=265;this.startX=-265;this.nodeY=15;this.lastNode=235;this.firstNode=-190;this.mobileTolerence=25;this.tolerence=20;this.mobileTime=1.1;this.arrowTime=6;this.sequence14=[v.LEFT,v.UP,v.DOWN,v.DOWN,v.DOWN,v.UP,v.RIGHT,v.UP,v.UP];this.sequence13=
[v.UP,v.RIGHT,v.LEFT,v.DOWN,v.RIGHT,v.UP,v.RIGHT,v.DOWN,v.UP];this.sequence12=[v.CIRCLE,v.DOWN,v.UP,v.RIGHT,v.UP,v.UP,v.DOWN,v.DOWN,v.UP];this.sequence11=[v.CIRCLE,v.RIGHT,v.UP,v.RIGHT,v.DOWN,v.RIGHT,v.LEFT,v.DOWN,v.UP];this.sequence10=[v.CIRCLE,v.LEFT,v.CIRCLE,v.UP,v.DOWN,v.CIRCLE,v.DOWN,v.RIGHT,v.DOWN];this.sequence9=[v.CIRCLE,v.RIGHT,v.CIRCLE,v.RIGHT,v.CIRCLE,v.RIGHT,v.LEFT,v.RIGHT,v.LEFT];this.sequence8=[v.CIRCLE,v.RIGHT,v.DOWN,v.UP,v.DOWN,v.CIRCLE,v.DOWN,v.LEFT];this.sequence7=[v.CIRCLE,v.RIGHT,
v.CIRCLE,v.RIGHT,v.DOWN,v.RIGHT,v.LEFT,v.RIGHT];this.sequence6=[v.CIRCLE,v.RIGHT,v.UP,v.CIRCLE,v.UP,v.DOWN,v.DOWN];this.sequence5=[v.CIRCLE,v.LEFT,v.RIGHT,v.RIGHT,v.DOWN,v.CIRCLE,v.DOWN];this.sequence4=[v.CIRCLE,v.LEFT,v.UP,v.CIRCLE,v.DOWN,v.CIRCLE,v.DOWN];this.sequence3=[v.CIRCLE,v.UP,v.CIRCLE,v.RIGHT,v.CIRCLE,v.DOWN,v.DOWN];this.sequence2=[v.CIRCLE,v.CIRCLE,v.UP,v.DOWN,v.CIRCLE,v.DOWN];this.sequence1=[v.CIRCLE,v.CIRCLE,v.LEFT,v.RIGHT,v.CIRCLE,v.UP];this.tutorialBar=!1;w.call(this);this.charName=
a;this.tutorialBar=b;this.x=c|0;this.y=e|0;this.callback=f;switch(this.charName){case "chapa":switch(d.mission){case 0:this.sequence=this.sequence2;break;case 1:this.sequence=this.sequence4;break;case 2:this.sequence=this.sequence6;break;case 3:this.sequence=this.sequence8;break;case 4:this.sequence=this.sequence10;break;case 5:this.sequence=this.sequence12;break;case 6:this.sequence=this.sequence14}break;case "miles":switch(d.mission){case 0:this.sequence=this.sequence1;break;case 1:this.sequence=
this.sequence3;break;case 2:this.sequence=this.sequence5;break;case 3:this.sequence=this.sequence7;break;case 4:this.sequence=this.sequence9;break;case 5:this.sequence=this.sequence11;break;case 6:this.sequence=this.sequence13}}if(3==d.mission||4==d.mission)this.arrowTime*=0.9};m["project.Powerbar"]=Fa;Fa.__name__=["project","Powerbar"];Fa.__super__=w;Fa.prototype=y(w.prototype,{get_entitySlot:function(){return 38},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=
this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.bar=new e;f.createImageSprite(this.owner,this.bar,"hud/powerbar_"+this.charName,!0,0,0);this.arrow=new e;f.createImageSprite(this.owner,this.arrow,"hud/progress_arrow",!0,this.startX,8);this.nodes=[];this.gap=(this.lastNode-this.firstNode)/(this.sequence.length-1);for(var a=0,b=this.sequence.length;a<b;){var c=a++,c=(new e).add(new Od(this.sequence[c],this.firstNode+this.gap*c,this.nodeY,r(this,this.indicatorCallback)));this.owner.addChild(c);
this.nodes.push(c);this.tutorialBar&&(c.$CF[39].tutorialBar=!0);null==this.nextNode&&(this.nextNode=c)}this.shield=new e;f.createImageSprite(this.owner,this.shield,"hud/shield_"+this.charName,!0,-270,15);this.tutorialBar?this.startTutorial():this.open();this.connect1(n.$3F.getKeyboard().down,r(this,this.keyDownHandler));d.isMobile&&!this.tutorialBar&&(960<n.$3F.$NF.get_width()&&(this.btnX+=20,this.btnY-=15),this.btnUp=new e,f.createImageSprite(this.owner,this.btnUp,"hud/arrow_up",!0,this.btnX,this.btnY-
this.btnHeight),this.btnDown=new e,f.createImageSprite(this.owner,this.btnDown,"hud/arrow_down",!0,this.btnX,this.btnY+this.btnHeight),this.btnLeft=new e,f.createImageSprite(this.owner,this.btnLeft,"hud/arrow_left",!0,this.btnX-this.btnWidth,this.btnY),this.btnRight=new e,f.createImageSprite(this.owner,this.btnRight,"hud/arrow_right",!0,this.btnX+this.btnWidth,this.btnY),this.connect1(n.$3F.$LF.down,r(this,this.pointerDownHandler)),a=this.thisSprite.x,a.set__(a.$iF-30),this.tolerence=this.mobileTolerence,
this.arrowTime*=this.mobileTime)},pointerDownHandler:function(a){a.hit==this.btnUp.$CF[1]?(this.input(v.UP),this.btnUp.$CF[1].alpha.animate(0.25,1,0.5)):a.hit==this.btnDown.$CF[1]?(this.input(v.DOWN),this.btnDown.$CF[1].alpha.animate(0.25,1,0.5)):a.hit==this.btnLeft.$CF[1]?(this.input(v.LEFT),this.btnLeft.$CF[1].alpha.animate(0.25,1,0.5)):a.hit==this.btnRight.$CF[1]&&(this.input(v.RIGHT),this.btnRight.$CF[1].alpha.animate(0.25,1,0.5))},onUpdate:function(a){null!=this.nextNode&&(this.tutorialBar?this.arrow.$CF[1].x.$iF>=
this.nextNode.$CF[1].x.$iF-1&&(this.nextNode.$CF[39].tutorial(),this.lastAction=this.nextNode.$CF[39].action,this.callback(!0),this.nodes.indexOf(this.nextNode)>this.nodes.length?this.nextNode=null:this.nextNode=this.nodes[this.nodes.indexOf(this.nextNode)+1]):this.arrow.$CF[1].x.$iF>=this.nextNode.$CF[1].x.$iF+this.tolerence?(this.nextNode.$CF[39].passed(),this.nodes.indexOf(this.nextNode)>this.nodes.length?this.nextNode=null:this.nextNode=this.nodes[this.nodes.indexOf(this.nextNode)+1]):this.arrow.$CF[1].x.$iF>=
this.nextNode.$CF[1].x.$iF&&this.nextNode.$CF[39].pulse())},indicatorCallback:function(a){a||(this.success=!1)},showSuccess:function(){var a=this,b=new s;b.run(new u([new k(1),new l(function(){if(a.success){var b=(new e).add(new J("game/ticks","tick",320,15));a.owner.addChild(b);b.$CF[19].play("tick","tickEnd");a.playSound("correct")}else b=(new e).add(new J("game/ticks","cross",320,15)),a.owner.addChild(b),b.$CF[19].play("cross","crossEnd"),a.playSound("incorrect")}),new k(0.5),new l(function(){if(a.success)for(var b=
0,d=a.nodes;b<d.length;){var e=d[b];++b;e.$CF[39].action!=v.CIRCLE&&f.pulseOnce(e,1.5,0.5)}else for(b=0,d=a.nodes;b<d.length;)e=d[b],++b,e.$CF[39].success||f.pulseOnce(e,1.5,0.5)}),new k(2),new l(function(){a.tutorialBar||(a.callback(a.success),a.close())})]));this.bar.add(b)},close:function(){var a=this;this.thisSprite.y.animateTo(this.y+150,0.5,q.sineIn);var b=new s;b.run(new u([new k(0.75),new l(function(){a.owner.dispose()})]));this.bar.add(b)},open:function(){var a=this;this.thisSprite.y.set__(this.y+
100);this.thisSprite.y.animateTo(this.y,0.5,q.bounceOut);var b=new s;b.run(new u([new k(0.75),new l(function(){a.countDown()})]));this.bar.add(b)},startTutorial:function(){var a=this,b=new s;b.run(new u([new k(1),new l(function(){a.startArrow()})]));this.bar.add(b)},countDown:function(){var a=this,b=new s;b.run(new u([new k(1),new l(function(){a.countGo=new e;f.createImageSprite(a.owner,a.countGo,"hud/countdown_3",!0,-270,10);H.spawn(a.countGo,0,0.3,0.3);a.playSound("countdown_full")}),new k(1),new l(function(){a.countGo.dispose();
a.countGo=new e;f.createImageSprite(a.owner,a.countGo,"hud/countdown_2",!0,-270,10);H.spawn(a.countGo,0,0.3,0.3)}),new k(1),new l(function(){a.countGo.dispose();a.countGo=new e;f.createImageSprite(a.owner,a.countGo,"hud/countdown_1",!0,-270,10);H.spawn(a.countGo,0,0.3,0.3)}),new k(1),new l(function(){a.countGo.dispose();a.countGo=new e;f.createImageSprite(a.owner,a.countGo,"hud/countdown_go",!0,-270,10);H.spawn(a.countGo,0,0.3,0.3);a.startArrow()}),new k(0.75),new l(function(){a.countGo.$CF[1].alpha.animateTo(0,
0.25)}),new k(0.25),new l(function(){a.countGo.dispose()})]));this.bar.add(b)},startArrow:function(){var a=this;this.arrow.$CF[1].x.animateTo(this.endX,this.arrowTime);this.controlsActive=!0;var b=new s;b.run(new u([new k(this.arrowTime),new l(function(){a.arrow.$CF[1].alpha.animateTo(0,0.5);a.showSuccess()})]));this.arrow.add(b)},input:function(a){for(var b=0,c=this.nodes;b<c.length;){var d=c[b];++b;f.vectorDistance(this.arrow.$CF[1].x.$iF,d.$CF[1].x.$iF,0,0)<this.tolerence&&d.$CF[39].input(a)}},
keyDownHandler:function(a){this.controlsActive&&(a.key==g.Up?this.input(v.UP):a.key==g.Down?this.input(v.DOWN):a.key==g.Left?this.input(v.LEFT):a.key==g.Right&&this.input(v.RIGHT))},playSound:function(a,b){null==b&&(b=!1);this.tutorialBar||d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},__class__:Fa});var Ba=function(a,b,c,e,f){this.controlsActive=!1;this.endX=255;this.startX=-220;this.loseColour=15539236;this.winColour=65341;this.startColour=0;this.targetColour=
16777215;this.strokeWidth=4;this.targetHeight=18;this.targetWidth=160;this.targetIndex=0;this.targetWidths=[160,120,90];this.offset=17;this.mobileTime=1.1;this.stage=1;this.tutorialBar=!1;w.call(this);this.charName=a;this.tutorialBar=b;this.x=c|0;this.y=e|0;this.callback=f;switch(d.mission){case 0:this.arrowTime=2.5;break;case 1:this.arrowTime=2.5;break;case 2:this.arrowTime=2.25;break;case 3:this.arrowTime=2.1;break;case 4:this.arrowTime=1.9;break;case 5:this.arrowTime=1.7;break;case 6:this.arrowTime=
1.5}};m["project.Powerbar2"]=Ba;Ba.__name__=["project","Powerbar2"];Ba.__super__=w;Ba.prototype=y(w.prototype,{get_entitySlot:function(){return 35},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.thisSprite.set_pixelSnapping(!1);this.bar=new e;f.createImageSprite(this.owner,this.bar,"hud/powerbar_"+this.charName,!0,0,0);var a=new e;f.createImageSprite(this.owner,a,"hud/white_border",!0,this.offset,15);
this.target=new e;f.createFillSprite(this.owner,this.target,this.targetColour,!0,this.offset,15,this.targetWidth,this.targetHeight,1);this.target2=new e;f.createFillSprite(this.owner,this.target2,this.startColour,!0,this.offset,15,this.targetWidth-this.strokeWidth,this.targetHeight-this.strokeWidth,1);this.target3=new e;f.createFillSprite(this.owner,this.target3,this.startColour,!0,this.offset,15,this.targetWidth-this.strokeWidth,this.targetHeight-this.strokeWidth,1);this.marker=new e;f.createImageSprite(this.owner,
this.marker,"hud/marker",!0,this.startX-40,8);this.arrow=new e;f.createImageSprite(this.owner,this.arrow,"hud/progress_arrow",!0,this.startX,8);this.tick1=new e;f.createImageSprite(this.owner,this.tick1,"mission/tick",!0,this.offset-40,-50);this.tick2=new e;f.createImageSprite(this.owner,this.tick2,"mission/tick",!0,this.offset,-50);this.tick3=new e;f.createImageSprite(this.owner,this.tick3,"mission/tick",!0,this.offset+40,-50);this.tick1.$CF[1].alpha.set__(0.4);this.tick2.$CF[1].alpha.set__(0.4);
this.tick3.$CF[1].alpha.set__(0.4);this.tutorialBar&&(this.tick1.$CF[1].set_visible(!1),this.tick2.$CF[1].set_visible(!1),this.tick3.$CF[1].set_visible(!1));this.shield=new e;f.createImageSprite(this.owner,this.shield,"hud/shield_"+this.charName,!0,-270,15);d.isMobile&&!this.tutorialBar&&(this.btn=new e,f.createImageSprite(this.owner,this.btn,"hud/arrow_down_large",!0,360,-10),this.connect1(n.$3F.$LF.down,r(this,this.pointerDownHandler)),this.arrowTime*=this.mobileTime);this.tutorialBar?this.startTutorial():
this.open();this.connect1(n.$3F.getKeyboard().down,r(this,this.keyDownHandler))},pointerDownHandler:function(a){a.hit==this.btn.$CF[1]&&(this.userPressed(),this.btn.$CF[1].alpha.animate(0.25,1,0.5))},onUpdate:function(a){if(this.tutorialBar)switch(this.stage){case 1:this.arrow.$CF[1].x.$iF>this.offset&&(a=this.target3.$CF[1],(a instanceof G?a:null).color=this.winColour,this.stage=2,this.hitTarget(),this.callback(!0));break;case 2:this.arrow.$CF[1].x.$iF<this.offset&&(a=this.target3.$CF[1],(a instanceof
G?a:null).color=this.winColour,this.stage=3,this.hitTarget(),this.callback(!0));break;case 3:this.arrow.$CF[1].x.$iF>this.offset&&(a=this.target3.$CF[1],(a instanceof G?a:null).color=this.winColour,this.stage=4,this.arrow.$CF[11].stopAll(),this.arrow.$CF[1].x.set__(this.arrow.$CF[1].x.$iF),this.arrow.$CF[1].alpha.animateTo(0,1),this.callback(!0))}},close:function(){var a=this;this.thisSprite.y.animateTo(this.y+150,0.5,q.sineIn);var b=new s;b.run(new u([new k(0.75),new l(function(){a.owner.dispose()})]));
this.bar.add(b)},open:function(){var a=this;this.thisSprite.y.set__(this.y+100);this.thisSprite.y.animateTo(this.y,0.5,q.bounceOut);var b=new s;b.run(new u([new k(0.75),new l(function(){a.countDown()})]));this.bar.add(b)},startTutorial:function(){var a=this,b=new s;b.run(new u([new k(1),new l(function(){a.startArrow()})]));this.bar.add(b)},countDown:function(){var a=this,b=new s;b.run(new u([new k(1),new l(function(){a.countGo=new e;f.createImageSprite(a.owner,a.countGo,"hud/countdown_3",!0,-270,
10);H.spawn(a.countGo,0,0.3,0.3);a.playSound("countdown_full")}),new k(1),new l(function(){a.countGo.dispose();a.countGo=new e;f.createImageSprite(a.owner,a.countGo,"hud/countdown_2",!0,-270,10);H.spawn(a.countGo,0,0.3,0.3)}),new k(1),new l(function(){a.countGo.dispose();a.countGo=new e;f.createImageSprite(a.owner,a.countGo,"hud/countdown_1",!0,-270,10);H.spawn(a.countGo,0,0.3,0.3)}),new k(1),new l(function(){a.countGo.dispose();a.countGo=new e;f.createImageSprite(a.owner,a.countGo,"hud/countdown_go",
!0,-270,10);H.spawn(a.countGo,0,0.3,0.3);a.startArrow()}),new k(0.75),new l(function(){a.countGo.$CF[1].alpha.animateTo(0,0.25)}),new k(0.25),new l(function(){a.countGo.dispose()})]));this.bar.add(b)},startArrow:function(){var a=this;this.tutorialBar||(this.controlsActive=!0);var b=new s;b.run(new xa(new u([new l(function(){a.arrow.$CF[1].x.animateTo(a.endX,a.arrowTime,q.sineInOut)}),new k(this.arrowTime),new l(function(){a.arrow.$CF[1].x.animateTo(a.startX,a.arrowTime,q.sineInOut)}),new k(this.arrowTime)])));
this.arrow.add(b)},hitTarget:function(){var a=this;this.targetIndex++;this.targetWidth=this.targetWidths[this.targetIndex];var b=new s;b.run(new u([new k(0.3),new l(function(){a.target3.$CF[1].alpha.animateTo(0,0.3)}),new k(0.3),new l(function(){var b=a.target.$CF[1];(b instanceof G?b:null).width.set__(a.targetWidth);a.target.$CF[1].centerAnchor();a.target.$CF[1].x.set__(a.offset);b=a.target2.$CF[1];(b instanceof G?b:null).width.set__(a.targetWidth-a.strokeWidth);a.target2.$CF[1].centerAnchor();a.target2.$CF[1].x.set__(a.offset);
b=a.target3.$CF[1];(b instanceof G?b:null).color=0;b=a.target3.$CF[1];(b instanceof G?b:null).width.set__(a.targetWidth-a.strokeWidth);a.target3.$CF[1].centerAnchor();a.target3.$CF[1].x.set__(a.offset);a.target3.$CF[1].alpha.set__(1)})]));this.target2.add(b);this.marker.$CF[1].alpha.set__(0)},keyDownHandler:function(a){this.controlsActive&&a.key==g.Space&&this.userPressed()},userPressed:function(){var a=this;this.marker.$CF[1].x.set__(this.arrow.$CF[1].x.$iF);this.marker.$CF[1].alpha.animate(1,0,
1);if(this.marker.$CF[1].x.$iF>=this.target.$CF[1].x.$iF-this.targetWidth/2&&this.marker.$CF[1].x.$iF<=this.target.$CF[1].x.$iF+this.targetWidth/2){this.playSound("correct");var b=this.target3.$CF[1];(b instanceof G?b:null).color=this.winColour;switch(this.targetIndex){case 0:this.tick1.$CF[1].alpha.animateTo(1,0.3);f.pulseOnce(this.tick1,1.2,0.3);break;case 1:this.tick2.$CF[1].alpha.animateTo(1,0.3);f.pulseOnce(this.tick2,1.2,0.3);break;case 2:this.tick3.$CF[1].alpha.animateTo(1,0.3),f.pulseOnce(this.tick3,
1.2,0.3)}this.targetIndex==this.targetWidths.length-1?(b=(new e).add(new J("game/ticks","tick",320,15)),this.owner.addChild(b),b.$CF[19].play("tick","tickEnd"),this.arrow.$CF[11].stopAll(),this.arrow.$CF[1].x.set__(this.arrow.$CF[1].x.$iF),b=new s,b.run(new u([new k(2),new l(function(){a.callback(!0);a.close()})])),this.target2.add(b)):this.hitTarget()}else this.playSound("buzzer"),b=this.target3.$CF[1],(b instanceof G?b:null).color=this.loseColour,b=(new e).add(new J("game/ticks","cross",320,15)),
this.owner.addChild(b),b.$CF[19].play("cross","crossEnd"),this.arrow.$CF[11].stopAll(),this.arrow.$CF[1].x.set__(this.arrow.$CF[1].x.$iF),b=new s,b.run(new u([new k(2),new l(function(){a.callback(!1);a.close()})])),this.target2.add(b)},playSound:function(a,b){null==b&&(b=!1);this.tutorialBar||d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},__class__:Ba});var Pd=function(){this.stage=1;this.fading=!1;this.progressHeight=10;this.progressWidth=209;this.backgroundColour=
16777215;this.staticHeight=640;this.staticWidth=960;this.version="0.2";w.call(this)};m["project.Preloader"]=Pd;Pd.__name__=["project","Preloader"];Pd.__super__=w;Pd.prototype=y(w.prototype,{get_entitySlot:function(){return 13},onAdded:function(){var a=(new e).add(new G(this.backgroundColour,2E3,1500));n.root.addChild(a);a.$CF[1].x.set__(-300);this.screen=(new e).add(new G(this.backgroundColour,this.staticWidth,this.staticHeight));n.root.addChild(this.screen);this.onResize();this.screen.dispose();
this.loadGame()},loadGame:function(){var a=this;this.screen=(new e).add(new G(this.backgroundColour,960,560));n.root.addChild(this.screen);this.getScreenSize();var b=new e;f.createFillSprite(this.screen,b,0,!0,this.screenWidth/2-300,this.screenWidth/2,3E3,3E3,1);b=new e;f.createImageSprite(this.screen,b,"background",!1,-((1480-this.screenWidth)/2),this.screenHeight-768,"LOADER");b=new e;b.add(new I(d.loaderPack.getTexture("df_shield")));this.screen.addChild(b);b.$CF[1].centerAnchor();b.$CF[1].setXY(this.screenWidth/
2,this.screenHeight/2-20);var c=new e,b=d.loaderPack.getTexture("grey");c.add(new I(b));this.screen.addChild(c);c.$CF[1].centerAnchor();c.$CF[1].setXY(this.screenWidth/2,this.screenHeight/2-20);var g=new e,b=d.loaderPack.getTexture("blue");g.add(new I(b));this.screen.addChild(g);g.$CF[1].centerAnchor();g.$CF[1].setXY(this.screenWidth/2,this.screenHeight/2-20);var k=new e,b=d.loaderPack.getTexture("yellow");k.add(new I(b));this.screen.addChild(k);k.$CF[1].centerAnchor();k.$CF[1].setXY(this.screenWidth/
2,this.screenHeight/2-20);var l=new e,b=d.loaderPack.getTexture("red");l.add(new I(b));this.screen.addChild(l);l.$CF[1].centerAnchor();l.$CF[1].setXY(this.screenWidth/2,this.screenHeight/2-20);c.$CF[1].alpha.set__(0);g.$CF[1].alpha.set__(0);k.$CF[1].alpha.set__(0);l.$CF[1].alpha.set__(0);var m=(new e).add(new I(d.loaderPack.getTexture("loaderbar_background")));m.$CF[1].setXY(this.screenWidth/2-112,this.screenHeight/2+100);this.screen.addChild(m);var q=(new e).add(new I(d.loaderPack.getTexture("loaderbar_full")));
q.$CF[1].setXY(8,10);m.addChild(q);q.$CF[1].set_scissor(new oa(0,0,0,this.progressHeight));b=new mb(A.parse(d.configPack.getFile("config.xml").toString()).firstElement());"YES"==b.node.resolve("english").get_innerData()?d.vo=!0:d.vo=!1;var s=new e;if("YES"==b.node.resolve("showVersionNumber").get_innerData()){var t=new W(d.loaderPack,"tinyfont");s.add(new N(t));this.screen.addChild(s);t=s.$CF[1];(t instanceof N?t:null).set_align(ma.Center);t=s.$CF[1];(t instanceof N?t:null).setXY(this.screenWidth/
2,this.screenHeight/2+160);s.$CF[1].alpha.set__(0.5);b.node.resolve("versionNumber").get_innerData()==this.version?(t=s.$CF[1],(t instanceof N?t:null).set_text("v"+b.node.resolve("versionNumber").get_innerData())):(t=s.$CF[1],(t instanceof N?t:null).set_text("version error"))}this.onResize();"YES"==b.node.resolve("testLite").get_innerData()&&(d.lite=!0);"YES"==b.node.resolve("testMobile").get_innerData()&&(d.isMobile=!0);b="mainassets";d.lite&&(b+="-lite");d.v2?(b=da.fromAssets(b),b.$NG=Q.string(n.$3F.getExternal().call("jsembed.baseUrl"))+
"assets/"):b=da.fromAssets(b);this.loader2=n.$3F.loadAssetPack(b);this.loader2.then(function(b){d.pack=b;d.preloaderClick&&(b="intro",d.lite&&(b+="-lite"),d.v2?(b=da.fromAssets(b),b.$NG=Q.string(n.$3F.getExternal().call("jsembed.baseUrl"))+"assets/",a.loader2=n.$3F.loadAssetPack(b)):(b=da.fromAssets(b),b=n.$3F.loadAssetPack(b),a.loader2=b),a.loader2.then(function(b){d.gamePack=b;d.preloaderClick?(b="fonts",d.vo||(b+="_int"),d.v2?(b=da.fromAssets(b),b.$NG=Q.string(n.$3F.getExternal().call("jsembed.baseUrl"))+
"assets/",a.loader2=n.$3F.loadAssetPack(b)):(b=da.fromAssets(b),b=n.$3F.loadAssetPack(b),a.loader2=b),a.loader2.then(function(b){d.fontPack=b;d.initFonts();if(d.preloaderClick){m.dispose();q.dispose();s.dispose();b=new e;f.createImageSprite(a.screen,b,"blank",!0,a.screenWidth/2,a.screenHeight/2+100);b.$CF[1].set_pixelSnapping(!1);var c=new e;d.isMobile?f.createXMLSprite(b,c,d.ipadFont,"Center",0,0,d.translations.node.resolve("tapStart")):f.createXMLSprite(b,c,d.ipadFont,"Center",0,0,d.translations.node.resolve("clickStart"));
f.pulseBtn(b,1.05,0.7);a.connect1(n.$3F.$LF.down,r(a,a.handlePointerDown))}else a.startGame()}),a.loader2.catchError(function(a){}),a.loader2.progress(function(a){})):a.startGame()}),a.loader2.catchError(function(a){}),a.loader2.progress(function(b){1<b&&(b=1);b=0.1*b+0.9;q.$CF[1].set_scissor(new oa(0,0,b*a.progressWidth,a.progressHeight));switch(a.stage){case 1:0.2<b&&(a.stage++,c.$CF[1].alpha.animateTo(1,0.25));break;case 2:0.4<b&&(a.stage++,g.$CF[1].alpha.animateTo(1,0.25));break;case 3:0.6<b&&
(a.stage++,k.$CF[1].alpha.animateTo(1,0.25));break;case 4:0.8<b&&(a.stage++,l.$CF[1].alpha.animateTo(1,0.25))}}))});this.loader2.catchError(function(a){});this.loader2.progress(function(b){1<b&&(b=1);b*=0.9;q.$CF[1].set_scissor(new oa(0,0,b*a.progressWidth,a.progressHeight));switch(a.stage){case 1:0.2<b&&(a.stage++,c.$CF[1].alpha.animateTo(1,0.25));break;case 2:0.4<b&&(a.stage++,g.$CF[1].alpha.animateTo(1,0.25));break;case 3:0.6<b&&(a.stage++,k.$CF[1].alpha.animateTo(1,0.25));break;case 4:0.8<b&&
(a.stage++,l.$CF[1].alpha.animateTo(1,0.25))}})},startGame:function(){this.fading||(this.fading=!0,this.screen.dispose(),d.loaderPack.dispose(),n.root.add(new zd))},handlePointerDown:function(a){this.startGame()},onResize:function(){if(null!=this.screen){d.resizeScreen=!0;!d.isMobile&&667!=n.$3F.$NF.get_width()&&900<n.$3F.$NF.get_width()&&(d.resizeScreen=!1);939<n.$3F.$NF.get_width()&&1140>n.$3F.$NF.get_width()&&(d.resizeScreen=!1);939<n.$3F.$NF.get_height()&&1140>n.$3F.$NF.get_height()&&(d.resizeScreen=
!1);if(1336<n.$3F.$NF.get_width()||960>n.$3F.$NF.get_width())d.resizeScreen=!0;2<n.$3F.$NF.get_width()/n.$3F.$NF.get_height()&&(d.resizeScreen=!1);if(d.alwaysResize||2048<n.$3F.$NF.get_width()||768<n.$3F.$NF.get_height())d.resizeScreen=!0;2048==n.$3F.$NF.get_width()&&1536>=n.$3F.$NF.get_height()&&(d.staticWidth=n.$3F.$NF.get_width()/2|0,d.staticHeight=n.$3F.$NF.get_height()/2|0);if(d.resizeScreen){1920==(n.$3F.$NF.get_width()|0)&&1120==(n.$3F.$NF.get_height()|0)&&(d.staticHeight=560);var a=d.staticWidth,
b=d.staticHeight,c=n.$3F.$NF.get_width()/a,e=n.$3F.$NF.get_height()/b;d.scale=c<e?c:e;this.screen.$CF[1].setScale(d.scale).setXY((n.$3F.$NF.get_width()-a*d.scale)/2,(n.$3F.$NF.get_height()-b*d.scale)/2);n.$3F.$NF.get_width()>n.$3F.$NF.get_height()?(d.offsetX=n.$3F.$NF.get_width()/d.scale-a|0,d.offsetY=n.$3F.$NF.get_height()/d.scale-b|0):(d.offsetX=n.$3F.$NF.get_height()/d.scale-b|0,d.offsetY=n.$3F.$NF.get_width()/d.scale-a|0)}else d.scale=1,d.offsetX=0,d.offsetY=0}},getScreenSize:function(){if(d.resizeScreen)this.screenWidth=
d.staticWidth,this.screenHeight=d.staticHeight;else if(this.screenWidth=n.$3F.$NF.get_width(),this.screenHeight=n.$3F.$NF.get_height(),this.screenHeight>this.screenWidth){var a=this.screenWidth;this.screenWidth=this.screenHeight;this.screenHeight=a}},__class__:Pd});var Na=function(a,b,c,d){this.down=!1;this.dropTime=1;this.dropDist=650;w.call(this);this.shadow=a;this.x=b|0;this.y=c|0;this.callback=d};m["project.Schwoz"]=Na;Na.__name__=["project","Schwoz"];Na.__super__=w;Na.prototype=y(w.prototype,
{get_entitySlot:function(){return 32},onAdded:function(){var a=this;this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.thisSprite.set_pixelSnapping(!1);this.bungee=(new e).add(new J("game/schwoz","bungee",0,0));this.owner.addChild(this.bungee);this["char"]=(new e).add(new J("game/schwoz","falling",0,0));this.owner.addChild(this["char"]);this.bubbleGlow=new e;f.createImageSprite(this.owner,this.bubbleGlow,"game/speech_bubble_blue",
!0,160,-30);this.bubbleGlow.$CF[1].setScale(1);this.bubbleGlow.$CF[1].set_visible(!1);this.bubble=new e;f.createImageSprite(this.owner,this.bubble,"game/speech_bubble_large",!0,160,-30);this.bubble.$CF[1].set_visible(!1);this.bubble2=new e;f.createImageSprite(this.owner,this.bubble2,"game/speech_bubble_large",!0,160,-30);this.bubble2.$CF[1].set_visible(!1);this.wrongCharText=new e;f.createXMLSprite(this.bubble2,this.wrongCharText,d.comicFont,"Center",113,23,d.translations.node.resolve("wrongChar"));
this.wrongCharText.$CF[1].setTint(0);this.hint=new e;if(d.hadMissionSelectHint||1<d.mission)switch(d.mission){case 1:this.setChar("bose");f.createImageSprite(this.bubble,this.hint,"m1_help2",!0,102,66,"GAME");break;case 2:this.setChar("miles");f.createImageSprite(this.bubble,this.hint,"switch_icon0",!0,150,65,"GAME");this.hint2=new e;f.createImageSprite(this.bubble,this.hint2,"m2_p1_help3",!0,100,55,"GAME");var b=new s;b.run(new xa(new u([new k(1),new l(function(){var b=a.hint.$CF[1];(b instanceof
I?b:null).texture=d.gamePack.getTexture("switch_icon")}),new k(1),new l(function(){var b=a.hint.$CF[1];(b instanceof I?b:null).texture=d.gamePack.getTexture("switch_icon0")})])));this.hint.add(b);break;case 3:this.setChar("chapa");f.createImageSprite(this.bubble,this.hint,"help_p1",!0,115,70,"GAME");break;case 4:this.setChar("mika");f.createImageSprite(this.bubble,this.hint,"m4_p1_help",!0,115,60,"GAME");break;case 5:this.setChar("mika");f.createImageSprite(this.bubble,this.hint,"m5_p1_help",!0,110,
65,"GAME");break;case 6:this.setChar("chapa"),f.createImageSprite(this.bubble,this.hint,"m6_p1_help",!0,115,70,"GAME")}this.thisSprite.y.set__(this.y-this.dropDist)},setChar:function(a){switch(a){case "bose":a=this.bubbleGlow.$CF[1];(a instanceof I?a:null).texture=d.pack.getTexture("game/speech_bubble_blue");break;case "chapa":a=this.bubbleGlow.$CF[1];(a instanceof I?a:null).texture=d.pack.getTexture("game/speech_bubble_red");break;case "mika":a=this.bubbleGlow.$CF[1];(a instanceof I?a:null).texture=
d.pack.getTexture("game/speech_bubble_grey");break;case "miles":a=this.bubbleGlow.$CF[1],(a instanceof I?a:null).texture=d.pack.getTexture("game/speech_bubble_yellow")}},faceRight:function(a){a?(this.thisSprite.scaleX.set__(-1),this.shadow.$CF[1].scaleX.set__(-1)):(this.thisSprite.scaleX.set__(1),this.shadow.$CF[1].scaleX.set__(1))},nextHint:function(a){var b=this;switch(d.mission){case 2:2==a&&(this.hint.dispose(),this.hint2.dispose(),this.hint=new e,f.createImageSprite(this.bubble,this.hint,"m2_p2_help",
!0,115,55,"GAME"),this.setChar("mika"));break;case 3:2==a&&(this.hint.dispose(),this.hint=new e,f.createImageSprite(this.bubble,this.hint,"help_p2",!0,110,60,"GAME"),this.setChar("bose"));break;case 4:11==a?(this.hint.dispose(),this.hint=new e,f.createImageSprite(this.bubble,this.hint,"mission4_help2",!0,110,60,"GAME"),this.setChar("bose")):12==a?(this.hint.dispose(),this.hint2.dispose(),this.hint=new e,f.createImageSprite(this.bubble,this.hint,"mission4_help3",!0,110,60,"GAME"),this.setChar("bose")):
2==a?(this.hint2=new e,f.createImageSprite(this.bubble,this.hint2,"m4_p2_help3",!0,100,55,"GAME"),this.hint.$CF[1].setXY(230,35),a=new s,a.run(new xa(new u([new k(1),new l(function(){var a=b.hint.$CF[1];(a instanceof I?a:null).texture=d.gamePack.getTexture("switch_icon")}),new k(1),new l(function(){var a=b.hint.$CF[1];(a instanceof I?a:null).texture=d.gamePack.getTexture("switch_icon0")})]))),this.hint.add(a),this.setChar("miles")):3==a&&(this.hint.dispose(),this.hint2.dispose(),this.hint=new e,f.createImageSprite(this.bubble,
this.hint,"m4_p3_help",!0,110,70,"GAME"),this.setChar("chapa"));break;case 5:11==a?(this.hint.dispose(),this.hint=new e,f.createImageSprite(this.bubble,this.hint,"mission5_help1",!0,110,60,"GAME"),this.setChar("bose")):12==a?(this.hint.dispose(),this.hint=new e,f.createImageSprite(this.bubble,this.hint,"switch_icon0",!0,155,65,"GAME"),this.hint2=new e,f.createImageSprite(this.bubble,this.hint2,"mission5_help3",!0,100,55,"GAME"),a=new s,a.run(new xa(new u([new k(1),new l(function(){var a=b.hint.$CF[1];
(a instanceof I?a:null).texture=d.gamePack.getTexture("switch_icon")}),new k(1),new l(function(){var a=b.hint.$CF[1];(a instanceof I?a:null).texture=d.gamePack.getTexture("switch_icon0")})]))),this.hint.add(a),this.setChar("miles")):2==a?(this.hint.dispose(),this.hint=new e,f.createImageSprite(this.bubble,this.hint,"m5_p2_help",!0,110,60,"GAME"),this.setChar("chapa")):3==a&&(this.hint.dispose(),null!=this.hint2&&null!=this.hint2.$CF[1]&&this.hint2.dispose(),this.hint=new e,f.createImageSprite(this.bubble,
this.hint,"m5_p3_help",!0,110,65,"GAME"),this.setChar("mika"));break;case 6:2==a&&(this.hint.dispose(),this.hint=new e,f.createImageSprite(this.bubble,this.hint,"m6_p2_help",!0,110,60,"GAME"),this.setChar("miles"))}},clickHint:function(){this.down?this.bungeeOut():this.bungeeIn()},bungeeIn:function(){var a=this;this.down=!0;this.thisSprite.y.animateTo(this.y,this.dropTime);this.shadow.$CF[1].y.animateTo(this.shadow.$CF[33].y,this.dropTime);var b=new s;b.run(new u([new k(this.dropTime-0.79),new l(function(){a.playSound("schwoz_bungee_up-down")}),
new k(0.5),new l(function(){a.bungee.$CF[1].set_visible(!1);a["char"].$CF[19].play("fall","idle");a.shadow.$CF[33].testAnim("fall","idle")}),new k(0.6),new l(function(){a.bungee.$CF[1].set_visible(!0)}),new k(0.2),new l(function(){0<d.mission&&(a.bubbleGlow.$CF[1].set_visible(!0),a.bubble.$CF[1].set_visible(!0),H.spawn(a.bubbleGlow,0.1,0.3,0.5),H.spawn(a.bubble,0,0.3,0.5),a.callback("HINT"))}),new k(4),new l(function(){0<d.mission&&a.down&&a.bungeeOut()})]));this["char"].add(b)},bungeeOut:function(){var a=
this;if(this.down){this.down=!1;this.bungee.$CF[1].set_visible(!1);this.bubble.$CF[1].set_visible(!1);this.bubbleGlow.$CF[1].set_visible(!1);this["char"].$CF[19].play("unfall","falling");this.shadow.$CF[33].testAnim("unfall","falling");this.playSound("schwoz_bungee_up-down");var b=new s;b.run(new u([new k(0.4),new l(function(){a.thisSprite.y.animateTo(a.y-a.dropDist,a.dropTime);a.shadow.$CF[1].y.animateTo(a.shadow.$CF[33].y+a.dropDist,a.dropTime)}),new k(0.2),new l(function(){a.bungee.$CF[1].set_visible(!0)})]));
this["char"].add(b)}},wrongChar:function(){var a=this,b=new s;b.run(new u([new k(0.5),new l(function(){a.bungeeIn()})]));this["char"].add(b)},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},__class__:Na});var Ma=function(a,b){this.shadowOffsetY=500;this.dropDist=650;w.call(this);this.x=a|0;this.y=(b|0)+this.shadowOffsetY};m["project.SchwozShadow"]=Ma;Ma.__name__=["project","SchwozShadow"];Ma.__super__=w;Ma.prototype=
y(w.prototype,{get_entitySlot:function(){return 33},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.thisSprite.set_pixelSnapping(!1);this["char"]=(new e).add(new J("game/schwoz","idle",0,0));this.owner.addChild(this["char"]);this["char"].$CF[1].scaleY.set__(-1);this["char"].$CF[1].setTint(0);this["char"].$CF[1].alpha.set__(0.075);this.thisSprite.y.set__(this.y+this.dropDist)},testAnim:function(a,b){null==
b?this["char"].$CF[19].loop(a):this["char"].$CF[19].play(a,b)},__class__:Ma});var K=function(a,b,c){this.shadowOffsetY=5;w.call(this);this.charName=a;this.x=b|0;this.y=(c|0)-this.shadowOffsetY};m["project.Shadow"]=K;K.__name__=["project","Shadow"];K.__super__=w;K.prototype=y(w.prototype,{get_entitySlot:function(){return 36},onAdded:function(){this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.thisSprite.set_pixelSnapping(!1);
"boss"==this.charName||"betty"==this.charName||"butcher"==this.charName?(this.thisSprite.scaleX.set__(-1),this["char"]=(new e).add(new J(this.charName,"idle",0,0,d.gamePack))):this["char"]=(new e).add(new J("game/"+this.charName,"idle",0,0));this.owner.addChild(this["char"]);this["char"].$CF[1].scaleY.set__(-1);this["char"].$CF[1].setTint(0);this["char"].$CF[1].alpha.set__(0.075);if("miles"==this.charName||"chapa"==this.charName){var a=this["char"].$CF[1].y;a.set__(a.$iF+5)}},levitate:function(){var a=
this;this.testAnim("hit");this.thisSprite.x.animateBy(-50,1,q.sineInOut);this.thisSprite.y.animateBy(100,1,q.sineInOut);this.thisSprite.rotation.animateTo(-40,1,q.sineInOut);var b=new s;b.run(new u([new k(1),new l(function(){f.pulseUpDown(a.owner,-25,0.5)}),new k(2),new l(function(){a.owner.$CF[11].stopAll();a.thisSprite.y.animateTo(a.y,1,q.sineInOut);a.thisSprite.x.animateBy(50,1,q.sineInOut);a.thisSprite.rotation.animateTo(0,1,q.sineInOut)}),new k(0.75),new l(function(){a.testAnim("idle")})]));
this["char"].add(b)},testAnim:function(a,b){null==b?this["char"].$CF[19].loop(a):this["char"].$CF[19].play(a,b)},__class__:K});var ga=function(a,b){w.call(this);this.x=a|0;this.y=b|0};m["project.TeleportObject"]=ga;ga.__name__=["project","TeleportObject"];ga.__super__=w;ga.prototype=y(w.prototype,{get_entitySlot:function(){return 42},onAdded:function(){var a=this;this.owner.add(new I(d.pack.getTexture("blank")));this.thisSprite=this.owner.$CF[1];this.thisSprite.setXY(this.x,this.y);this.fx=(new e).add(new J("game/miles",
"blank",0,0));this.owner.addChild(this.fx);this.fx.$CF[19].play("teleportObject","blank");var b=new s;b.run(new u([new k(0.5),new l(function(){a.owner.dispose()})]));this.owner.add(b)},__class__:ga});var Kd=function(a,b,c){this.activeChar="bose";w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c};m["project.TestLevel"]=Kd;Kd.__name__=["project","TestLevel"];Kd.__super__=w;Kd.prototype=y(w.prototype,{get_entitySlot:function(){return 30},onAdded:function(){d.isMobile&&this.connect1(n.$3F.$OF.down,
r(this,this.handleTouchDown));this.connect1(n.$3F.getKeyboard().down,r(this,this.keyDownHandler));this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.connect1(n.$3F.$LF.move,r(this,this.onPointerMove));this.startGame();this.musicLoop=d.pack.getSound("audio/DangerForce_Gameplay_Tutorial").loop();this.musicLoop.volume.set__(0);this.musicLoop.volume.animateTo(0.8,0.5)},onPointerDown:function(a){if(a.hit==this.helpBtn.$CF[1])this.schwoz.$CF[32].clickHint(),null!=this.powerbar&&(this.powerbar.dispose(),
this.powerbar=null);else if(a.hit!=this.pauseBtn.$CF[1]){var b=a.viewX/d.scale-d.offsetX/2-this.game.$CF[1].x.$iF;a=a.viewY/d.scale-d.offsetY/2-this.game.$CF[1].y.$iF;a>this.bose.$CF[1].y.$iF-250&&a<this.bose.$CF[1].y.$iF&&(b>this.bose.$CF[1].x.$iF-50&&b<this.bose.$CF[1].x.$iF+50?this.highlight("bose"):b>this.mika.$CF[1].x.$iF-50&&b<this.mika.$CF[1].x.$iF+50?this.highlight("mika"):b>this.chapa.$CF[1].x.$iF-50&&b<this.chapa.$CF[1].x.$iF+50?this.highlight("chapa"):b>this.miles.$CF[1].x.$iF-50&&b<this.miles.$CF[1].x.$iF+
50&&this.highlight("miles"))}},highlight:function(a){switch(a){case "bose":this.bose.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "chapa":this.chapa.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "mika":this.mika.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar());break;case "miles":this.miles.$CF[34].highlight()&&(this.activeChar=a,this.spawnPowerbar())}},onPointerMove:function(a){},startGame:function(){this.score=0;this.screen=(new e).add(new G(16777215,
d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);this.game=new e;f.createImageSprite(this.screen,this.game,"blank",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var a=new e;f.createImageSprite(this.game,a,"background",!1,0,0,"GAME");this.schwozShadow=(new e).add(new Ma(970,425));this.game.addChild(this.schwozShadow);a=new e;f.createImageSprite(this.game,a,"cap_man_screen_shadow",!0,950,720,"GAME");f.pulseUpDown(a,8,1.8);a=(new e).add(new K("bose",650,720));this.game.addChild(a);
var b=(new e).add(new K("mika",830,720));this.game.addChild(b);var c=(new e).add(new K("miles",550,725));this.game.addChild(c);var g=(new e).add(new K("chapa",740,725));this.game.addChild(g);this.ipad=(new e).add(new Xb(950,550,r(this,this.iPadCallback)));this.game.addChild(this.ipad);this.bose=(new e).add(new L("bose",a,650,720,r(this,this.charCallback)));this.game.addChild(this.bose);this.mika=(new e).add(new L("mika",b,830,720,r(this,this.charCallback)));this.game.addChild(this.mika);this.miles=
(new e).add(new L("miles",c,550,725,r(this,this.charCallback)));this.game.addChild(this.miles);this.chapa=(new e).add(new L("chapa",g,740,725,r(this,this.charCallback)));this.game.addChild(this.chapa);this.bose.$CF[34].activate();this.mika.$CF[34].activate();this.miles.$CF[34].activate();this.chapa.$CF[34].activate();a=new e;f.createImageSprite(this.game,a,"whiteboard_shadow",!0,1140,780,"GAME");f.pulseUpDown(a,-10,2.2);a=new e;f.createImageSprite(this.game,a,"whiteboard",!0,1140,550,"GAME");f.pulseUpDown(a,
10,2.2);this.whiteboardOff=new e;f.createImageSprite(a,this.whiteboardOff,"whiteboard_off",!1,0,0,"GAME");this.schwoz=(new e).add(new Na(this.schwozShadow,970,400,r(this,this.schwozCallback)));this.game.addChild(this.schwoz);this.schwoz.$CF[1].scaleX.set__(-1);this.schwozShadow.$CF[1].scaleX.set__(-1);this.ballShadow=new e;f.createImageSprite(this.game,this.ballShadow,"beachball_shadow",!0,420,755,"GAME");this.ball=new e;f.createImageSprite(this.game,this.ball,"beachball",!0,420,675,"GAME");this.hand=
(new e).add(new lb(-100,530,r(this,this.handCallback)));this.game.addChild(this.hand);a=new e;f.createImageSprite(this.screen,a,"hud/timer_nacho_frame",!1,14,12);f.alignLeft(a);this.timeText=new e;f.createTextSprite(a,this.timeText,d.hudFont,"Center",80,15,"\u221e");this.nachoText=new e;f.createTextSprite(a,this.nachoText,d.hudFont,"Center",230,15,"-/-");this.helpBtn=new e;f.createImageSprite(this.screen,this.helpBtn,"buttons/BTN_schwoz",!0,this.screenWidth-160,50);f.alignRight(this.helpBtn);this.helpBtn.$CF[1].alpha.set__(0.6);
this.helpBtn.$CF[1].set_pointerEnabled(!1);this.pauseBtn=new e;f.createImageSprite(this.screen,this.pauseBtn,"buttons/BTN_pause",!0,this.screenWidth-60,55);f.alignRight(this.pauseBtn);this.pauseBtn.$CF[1].alpha.set__(0.6);this.pauseBtn.$CF[1].set_pointerEnabled(!1);this.inPlay=!0},schwozCallback:function(a){},ipadPrompt:function(a,b){},iPadCallback:function(a){},charCallback:function(a,b){},spawnPowerbar:function(){null==this.powerbar&&(this.powerbar=(new e).add(new Ba(this.activeChar,!1,this.screenWidth/
2,this.screenHeight-70,r(this,this.powerbarCallback))),this.screen.addChild(this.powerbar))},nextStage:function(a){},handCallback:function(){this.nextStage()},onUpdate:function(a){},handleTouchDown:function(a){},powerbarCallback:function(a){this.actionSuccess=a;switch(this.powerbar.$CF[35].charName){case "bose":a?(this.bose.$CF[34].performAction(!0),this.levitateBall(1),this.bose.$CF[34].selectable=!1,this.ipadPrompt("tutorialSuccess",5.5)):(this.bose.$CF[34].performAction(!1),this.randomCharacter(this.bose),
this.randomCharacter(this.bose).$CF[34].levitate(1),this.ipadPrompt("tutorialFail",5.5));break;case "mika":a?(this.mika.$CF[34].performAction(!0),this.screamBall(1.5),this.mika.$CF[34].selectable=!1,this.ipadPrompt("tutorialSuccess",5.5)):(this.mika.$CF[34].performAction(!1),this.wobbleBall(),this.ipadPrompt("tutorialFail",5.5));break;case "miles":this.teleportFail()}this.powerbar=null},randomCharacter:function(a){var b=[];a!=this.bose&&b.push(this.bose);a!=this.miles&&b.push(this.miles);a!=this.mika&&
b.push(this.mika);a!=this.chapa&&b.push(this.chapa);f.shuffle(b);return this.mika},teleportFail:function(){var a=this;this.miles.$CF[34].teleportTo(-500,1.5);var b=new e;f.createImageSprite(this.owner,b,"game/background_beach",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);b.$CF[1].set_visible(!1);var c=(new e).add(new K("miles",750,685));b.addChild(c);var d=(new e).add(new L("miles",c,750,685,r(this,this.charCallback)));b.addChild(d);d.$CF[34].teleportTo(-500,0);d.$CF[34].faceRight(!0);c=
new e;f.createImageSprite(b,c,"game/gull_placeholder",!0,900,735);c.$CF[1].scaleY.set__(-1);c.$CF[1].setTint(0);c.$CF[1].alpha.set__(0.075);c=new e;f.createImageSprite(b,c,"game/gull_placeholder",!0,900,650);var g=(new e).add(new G(16777215,2E3,2E3));this.screen.addChild(g);g.$CF[1].alpha.set__(0);c=g.$CF[1].x;c.set__(c.$iF-300);c=new s;c.run(new u([new k(0.8),new l(function(){g.$CF[1].alpha.animateTo(1,0.2)}),new k(0.2),new l(function(){b.$CF[1].set_visible(!0);g.$CF[1].alpha.animateTo(0,0.2)}),
new k(0.75),new l(function(){d.$CF[34].teleportBack(0)}),new k(2),new l(function(){d.$CF[34].teleportTo(-500,0)}),new k(0.5),new l(function(){g.$CF[1].alpha.animateTo(1,0.25)}),new k(0.8),new l(function(){b.$CF[1].set_visible(!1);g.$CF[1].alpha.animateTo(0,0.25)}),new k(0.3),new l(function(){b.dispose();g.dispose();a.miles.$CF[34].teleportBack(0.4)})]));this.game.add(c)},levitateBall:function(a){var b=this,c=this.ball.$CF[1].y.$iF,d=this.ballShadow.$CF[1].y.$iF,e=new s;e.run(new u([new k(a),new l(function(){b.ball.$CF[1].y.animateBy(-100,
1,q.sineInOut);b.ballShadow.$CF[1].y.animateBy(100,1,q.sineInOut)}),new k(1),new l(function(){f.pulseUpDown(b.ball,25,0.5);f.pulseUpDown(b.ballShadow,-25,0.5)}),new k(1.2),new l(function(){b.ball.$CF[11].stopAll();b.ballShadow.$CF[11].stopAll();b.ball.$CF[1].y.animateTo(c,1,q.sineInOut);b.ballShadow.$CF[1].y.animateTo(d,1,q.sineInOut)}),new k(0.75),new l(function(){})]));this.game.add(e)},screamBall:function(a){var b=this,c=new s;c.run(new u([new k(a),new l(function(){b.ball.$CF[1].x.animateBy(-500,
2.5,q.sineIn);b.ball.$CF[1].rotation.animateBy(-360,2.5,q.sineIn);b.ballShadow.$CF[1].x.animateBy(-500,2.5,q.sineIn)})]));this.ball.add(c)},wobbleBall:function(){var a=this,b=new s;b.run(new u([new k(0.6),new l(function(){a.ball.$CF[1].x.animateBy(-40,1,q.sineInOut);a.ballShadow.$CF[1].x.animateBy(-40,1,q.sineInOut);a.ball.$CF[1].rotation.animateBy(-45,1,q.sineInOut)}),new k(1.3),new l(function(){a.ball.$CF[1].x.animateBy(40,1,q.sineInOut);a.ballShadow.$CF[1].x.animateBy(40,1,q.sineInOut);a.ball.$CF[1].rotation.animateBy(45,
1,q.sineInOut)})]));this.ball.add(b)},keyDownHandler:function(a){d.testMode&&a.key==g.Number7&&this.callback("WIN")},__class__:Kd});var Ad=function(a,b,c){w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c};m["project.TitleSequence"]=Ad;Ad.__name__=["project","TitleSequence"];Ad.__super__=w;Ad.prototype=y(w.prototype,{get_entitySlot:function(){return 18},onAdded:function(){this.startGame()},startGame:function(){var a=this;this.screen=(new e).add(new G(16711680,d.staticWidth,d.staticHeight));
this.owner.addChild(this.screen);var b=new e;f.createFillSprite(this.screen,b,0,!0,this.screenWidth/2,this.screenHeight/2,3E3,3E3,1);this.bar=new e;f.createFillSprite(this.screen,this.bar,12832212,!0,-10,this.screenHeight/2,20,800,1);f.alignLeft(this.bar);var c=this.bar.$CF[1].x.$iF;this["char"]=(new e).add(new J("chars","mika_run",this.screenWidth/2-350,this.screenHeight-170,d.gamePack));this.screen.addChild(this["char"]);this.ball=new e;f.createImageSprite(this.screen,this.ball,"ball",!0,this.screenWidth/
2+75,this.screenHeight-175,"GAME");this.maskBar=new e;f.createFillSprite(this.screen,this.maskBar,12832212,!0,-10,this.screenHeight/2,20,800,1);f.alignLeft(this.maskBar);this.fx=(new e).add(new J("chars","blank",this.screenWidth/2-350,this.screenHeight-200,d.gamePack));this.screen.addChild(this.fx);this["char"].$CF[1].set_mask(this.maskBar.$CF[1]);this.fx.$CF[1].set_mask(this.maskBar.$CF[1]);this.ball.$CF[1].set_mask(this.maskBar.$CF[1]);this["char"].$CF[1].scaleX.set__(-1);this.fx.$CF[1].scaleX.set__(-1);
this.grain=new e;f.createImageSprite(this.screen,this.grain,"background",!0,this.screenWidth/2,this.screenHeight/2,"GAME");b=new s;b.run(new u([new k(1),new l(function(){a.bar.$CF[1].x.animateTo(a.screenWidth/2-175,0.75);var b=a.bar.$CF[1];(b instanceof G?b:null).width.animateTo(350,0.75);a.maskBar.$CF[1].x.animateTo(a.screenWidth/2-175,0.75);b=a.maskBar.$CF[1];(b instanceof G?b:null).width.animateTo(350,0.75);a["char"].$CF[1].x.animateTo(a.screenWidth/2-80,0.75)}),new k(0.75),new l(function(){a["char"].$CF[19].loop("mika_idle")}),
new k(0.25),new l(function(){a["char"].$CF[19].play("mika_power","mika_powerEnd");a.fx.$CF[1].setXY(a["char"].$CF[1].x.$iF,a["char"].$CF[1].y.$iF);a.fx.$CF[19].loop("mika_fx")}),new k(0.5),new l(function(){a.ball.$CF[1].set_mask(null);a["char"].$CF[1].set_mask(a.maskBar.$CF[1]);a.fx.$CF[1].set_mask(a.maskBar.$CF[1]);a.ball.$CF[1].x.animateBy(750,1)}),new k(0.5),new l(function(){a.fx.$CF[1].alpha.animateTo(0,0.5);a.bar.$CF[1].x.animateTo(c,0.75);var b=a.bar.$CF[1];(b instanceof G?b:null).width.animateTo(20,
0.75);a.maskBar.$CF[1].x.animateTo(c,0.75);b=a.maskBar.$CF[1];(b instanceof G?b:null).width.animateTo(20,0.75)}),new k(0.75),new l(function(){a["char"].$CF[19].loop("bose_idle");a["char"].$CF[1].x.set__(a.screenWidth/2);a.fx.$CF[1].x.set__(a.screenWidth/2);a["char"].$CF[1].scaleX.set__(1);a.fx.$CF[1].scaleX.set__(1);a.bar.$CF[1].x.set__(a.screenWidth+10);f.alignRight(a.bar);c=a.bar.$CF[1].x.$iF;a.bar.$CF[1].setTint(944810);a.bar.$CF[1].x.animateTo(a.screenWidth/2-175,0.75);var b=a.bar.$CF[1];(b instanceof
G?b:null).width.animateTo(350,0.75);a.maskBar.$CF[1].x.set__(a.screenWidth+10);f.alignRight(a.maskBar);a.maskBar.$CF[1].x.animateTo(a.screenWidth/2-175,0.75);b=a.maskBar.$CF[1];(b instanceof G?b:null).width.animateTo(350,0.75);a.ball.$CF[1].x.animate(0,a.screenWidth/2-70,1);a.ball.$CF[1].set_mask(a.maskBar.$CF[1])}),new k(1),new l(function(){a["char"].$CF[19].loop("bose_charge")}),new k(0.2),new l(function(){a.ball.$CF[1].y.animateBy(-70,0.5,q.sineInOut);a.fx.$CF[1].alpha.set__(1);a.fx.$CF[19].play("blose_fx",
"blank")}),new k(0.5),new l(function(){a.ball.$CF[1].y.animateBy(25,0.5,q.sineInOut)}),new k(0.5),new l(function(){a.ball.$CF[1].y.animateBy(-800,0.7,q.sineIn);a.fx.$CF[1].alpha.animateTo(0,0.5)}),new k(0.9),new l(function(){a["char"].$CF[19].loop("bose_idle")}),new k(0.2),new l(function(){a.bar.$CF[1].y.animateTo(a.screenHeight+420,0.75);a.maskBar.$CF[1].y.animateTo(a.screenHeight+420,0.75)}),new k(0.75),new l(function(){a["char"].$CF[19].loop("miles_idle");a["char"].$CF[1].x.set__(a.screenWidth/
2);a.fx.$CF[1].x.set__(a.screenWidth/2);a["char"].$CF[1].scaleX.set__(1);a.fx.$CF[1].scaleX.set__(1);f.alignRight(a.bar);a.bar.$CF[1].setTint(14661187);a.bar.$CF[1].y.set__(-a.screenHeight-420);a.bar.$CF[1].y.animateTo(a.screenHeight/2,1);f.alignRight(a.maskBar);a.maskBar.$CF[1].y.set__(-a.screenHeight-420);a.maskBar.$CF[1].y.animateTo(a.screenHeight/2,1)}),new k(1),new l(function(){a.ball.$CF[1].y.animate(a.screenHeight+50,a.screenHeight-195,0.5,q.sineOut)}),new k(0.5),new l(function(){a.ball.$CF[1].y.animateTo(a.screenHeight-
175,0.5,q.sineInOut)}),new k(0.8),new l(function(){a["char"].$CF[19].play("miles_teleport","blank")}),new k(0.6),new l(function(){a.ball.$CF[1].alpha.animateTo(0,0.3);a.fx.$CF[1].setXY(a.ball.$CF[1].x.$iF+20,a.ball.$CF[1].y.$iF+150);a.fx.$CF[19].play("teleport","blank");a.fx.$CF[1].alpha.set__(1)}),new k(0.4),new l(function(){a.bar.$CF[1].scaleX.animateTo(0,0.5);a.bar.$CF[1].x.animateTo(a.screenWidth/2,0.5);a.maskBar.$CF[1].scaleX.animateTo(0,0.5);a.maskBar.$CF[1].x.animateTo(a.screenWidth/2,0.5)}),
new k(0.5),new l(function(){a.bar.$CF[1].setTint(12719931);a.bar.$CF[1].scaleX.animateTo(1,0.5);a.bar.$CF[1].x.animateTo(a.screenWidth/2-175,0.5);a.maskBar.$CF[1].scaleX.animateTo(1,0.5);a.maskBar.$CF[1].x.animateTo(a.screenWidth/2-175,0.5);a["char"].$CF[19].loop("chapa");a.ball.$CF[1].alpha.set__(1);a.ball.$CF[1].setScale(0.6);a.ball.$CF[1].setXY(a.screenWidth+20,a.screenHeight-170);f.alignRight(a.ball);a.ball.$CF[1].x.animateTo(a.screenWidth/2-205,1.05,q.sineOut)}),new k(0.9),new l(function(){a.ball.$CF[1].set_mask(null);
a.ball.$CF[1].y.animateTo(a.screenHeight+25,0.5,q.sineIn);a.bar.$CF[1].setTint(12719931);a["char"].$CF[1].set_mask(a.maskBar.$CF[1]);a.fx.$CF[1].set_mask(a.maskBar.$CF[1])}),new k(1),new l(function(){a.callback("ENDINTRO")})]));this.owner.add(b)},__class__:Ad});var Cd=function(a,b,c){this.activeChar="bose";this.missionStage=0;w.call(this);this.screenWidth=a;this.screenHeight=b;this.callback=c};m["project.Tutorial"]=Cd;Cd.__name__=["project","Tutorial"];Cd.__super__=w;Cd.prototype=y(w.prototype,{get_entitySlot:function(){return 17},
onAdded:function(){d.isMobile&&this.connect1(n.$3F.$OF.down,r(this,this.handleTouchDown));this.connect1(n.$3F.getKeyboard().down,r(this,this.keyDownHandler));this.connect1(n.$3F.$LF.down,r(this,this.onPointerDown));this.connect1(n.$3F.$LF.move,r(this,this.onPointerMove));this.startGame();this.musicLoop=d.pack.getSound("audio/DangerForce_Gameplay_Tutorial").loop();this.musicLoop.volume.set__(0);d.muteMusic||this.musicLoop.volume.animateTo(0.8,0.5)},onPointerDown:function(a){if(a.hit==this.btn.$CF[1])this.callback("WIN");
else if(a.hit==this.helpBtn.$CF[1])this.schwoz.$CF[32].clickHint(),null!=this.powerbar&&(this.powerbar.dispose(),this.powerbar=null);else if(a.hit==this.pauseBtn.$CF[1])this.callback("PAUSE");else if(d.controlsActive){var b=a.viewX/d.scale-d.offsetX/2-this.game.$CF[1].x.$iF;a=a.viewY/d.scale-d.offsetY/2-this.game.$CF[1].y.$iF;a>this.bose.$CF[1].y.$iF-250&&a<this.bose.$CF[1].y.$iF&&(b>this.bose.$CF[1].x.$iF-50&&b<this.bose.$CF[1].x.$iF+50?this.highlight("bose"):b>this.mika.$CF[1].x.$iF-50&&b<this.mika.$CF[1].x.$iF+
50?this.highlight("mika"):b>this.chapa.$CF[1].x.$iF-50&&b<this.chapa.$CF[1].x.$iF+50?this.highlight("chapa"):b>this.miles.$CF[1].x.$iF-50&&b<this.miles.$CF[1].x.$iF+50&&this.highlight("miles"))}},highlight:function(a){switch(a){case "bose":this.bose.$CF[34].highlight()&&(this.activeChar=a,this.ipad.$CF[37].showPowerbar("bose"));break;case "chapa":this.chapa.$CF[34].highlight()&&(this.activeChar=a,this.ipad.$CF[37].showPowerbar("chapa"));break;case "mika":this.mika.$CF[34].highlight()&&(this.activeChar=
a,this.ipad.$CF[37].showPowerbar("mika"));break;case "miles":this.miles.$CF[34].highlight()&&(this.activeChar=a,this.ipad.$CF[37].showPowerbar("miles"))}},onPointerMove:function(a){0.9<this.helpBtn.$CF[1].alpha.$iF&&f.rolloverImage(this.helpBtn,"buttons/BTN_schwoz","buttons/BTN_schwoz_rollover",a);f.rolloverImage(this.pauseBtn,"buttons/BTN_pause","buttons/BTN_pause_rollover",a)},stopGame:function(){this.inPlay=!1;this.musicLoop.dispose()},startGame:function(){var a=this;this.score=0;this.screen=(new e).add(new G(16777215,
d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);this.game=new e;f.createImageSprite(this.screen,this.game,"blank",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);var b=new e;f.createImageSprite(this.game,b,"background",!1,0,0,"GAME");this.schwozShadow=(new e).add(new Ma(970,425));this.game.addChild(this.schwozShadow);b=new e;f.createImageSprite(this.game,b,"cap_man_screen_shadow",!0,950,720,"GAME");f.pulseUpDown(b,8,1.8);b=(new e).add(new K("bose",650,720));this.game.addChild(b);
var c=(new e).add(new K("mika",830,720));this.game.addChild(c);var g=(new e).add(new K("miles",550,725));this.game.addChild(g);var m=(new e).add(new K("chapa",740,725));this.game.addChild(m);this.ipad=(new e).add(new Xb(950,550,r(this,this.iPadCallback)));this.game.addChild(this.ipad);this.bose=(new e).add(new L("bose",b,650,720,r(this,this.charCallback)));this.game.addChild(this.bose);this.mika=(new e).add(new L("mika",c,830,720,r(this,this.charCallback)));this.game.addChild(this.mika);this.miles=
(new e).add(new L("miles",g,550,725,r(this,this.charCallback)));this.game.addChild(this.miles);this.chapa=(new e).add(new L("chapa",m,740,725,r(this,this.charCallback)));this.game.addChild(this.chapa);b=new e;f.createImageSprite(this.game,b,"whiteboard_shadow",!0,1140,780,"GAME");f.pulseUpDown(b,-10,2.2);b=new e;f.createImageSprite(this.game,b,"whiteboard",!0,1140,550,"GAME");f.pulseUpDown(b,10,2.2);this.whiteboardOff=new e;f.createImageSprite(b,this.whiteboardOff,"whiteboard_off",!1,0,0,"GAME");
this.schwoz=(new e).add(new Na(this.schwozShadow,970,400,r(this,this.schwozCallback)));this.game.addChild(this.schwoz);this.schwoz.$CF[1].scaleX.set__(-1);this.schwozShadow.$CF[1].scaleX.set__(-1);this.ballShadow=new e;f.createImageSprite(this.game,this.ballShadow,"beachball_shadow",!0,420,755,"GAME");this.ball=new e;f.createImageSprite(this.game,this.ball,"beachball",!0,420,675,"GAME");this.smoke=(new e).add(new J("game/smoke","smoke",400,650));this.game.addChild(this.smoke);this.smoke.$CF[1].alpha.set__(0);
this.gullShadow2=new e;f.createImageSprite(this.game,this.gullShadow2,"game/gull_placeholder",!0,490,785);this.gullShadow2.$CF[1].scaleY.set__(-1);this.gullShadow2.$CF[1].setTint(0);this.gull2=new e;f.createImageSprite(this.game,this.gull2,"game/gull_placeholder",!0,490,700);this.gullShadow2.$CF[1].alpha.set__(0);this.gull2.$CF[1].alpha.set__(0);this.hand=(new e).add(new lb(-100,550,r(this,this.handCallback)));this.game.addChild(this.hand);b=new e;f.createImageSprite(this.screen,b,"hud/timer_nacho_frame",
!1,32,15);f.alignLeft(b);this.bell=(new e).add(new J("hud/bell","idle",5,30));b.addChild(this.bell);c=new e;f.createImageSprite(b,c,"mission/nacho_ball",!0,200,30);this.timeText=new e;f.createTextSprite(b,this.timeText,d.hudFont,"Center",90,7,"\u221e");this.nachoText=new e;f.createTextSprite(b,this.nachoText,d.hudFont,"Center",274,7,"-/-");this.helpBtn=new e;f.createImageSprite(this.screen,this.helpBtn,"buttons/BTN_schwoz",!0,this.screenWidth-160,50);f.alignRight(this.helpBtn);this.helpBtn.$CF[1].alpha.set__(0.6);
this.helpBtn.$CF[1].set_pointerEnabled(!1);this.pauseBtn=new e;f.createImageSprite(this.screen,this.pauseBtn,"buttons/BTN_pause",!0,this.screenWidth-60,55);f.alignRight(this.pauseBtn);this.btn=new e;f.createImageSprite(this.screen,this.btn,"buttons/BTN_skip",!0,this.screenWidth-60,this.screenHeight-60);f.alignRight(this.btn);this.btn.$CF[1].set_visible(!1);this.inPlay=!0;this.ball.$CF[1].set_visible(!1);this.ballShadow.$CF[1].set_visible(!1);b=new s;b.run(new u([new k(1),new l(function(){a.ballBounceIn()}),
new k(1),new l(function(){a.ipadPrompt("tutorial0")})]));this.owner.add(b)},schwozCallback:function(a){},ballBounceIn:function(){var a=this;this.ball.$CF[1].set_visible(!1);this.ballShadow.$CF[1].set_visible(!1);var b=this.ball.$CF[1].y;b.set__(b.$iF-200);b=this.ballShadow.$CF[1].y;b.set__(b.$iF+200);b=this.ball.$CF[1].x;b.set__(b.$iF-500);b=this.ballShadow.$CF[1].x;b.set__(b.$iF-500);b=this.ball.$CF[1].rotation;b.set__(b.$iF-360);b=new s;b.run(new u([new k(1.5),new l(function(){a.ball.$CF[1].set_visible(!0);
a.ballShadow.$CF[1].set_visible(!0);a.ball.$CF[1].y.animateBy(200,1.75*0.8,q.bounceOut);a.ballShadow.$CF[1].y.animateBy(-200,1.75*0.8,q.bounceOut);a.ball.$CF[1].x.animateBy(500,1.75,q.sineOut);a.ballShadow.$CF[1].x.animateBy(500,1.75,q.sineOut);a.ball.$CF[1].rotation.animateBy(360,1.75,q.sineOut)}),new k(0.6),new l(function(){a.playBounce(1)}),new k(0.4),new l(function(){a.playBounce(0.65)}),new k(0.4),new l(function(){a.playBounce(0.3)})]));this.screen.add(b)},ipadPrompt:function(a,b){null==b&&(b=
0);var c=this,d=new s;d.run(new u([new k(b),new l(function(){c.ipad.$CF[37].showText(a)})]));this.ipad.add(d)},iPadCallback:function(a){if(a)this.spawnPowerbar();else switch(this.missionStage){case 2:this.actionSuccess?this.nextStage(0.5):this.showTapAgain(this.miles.$CF[1].x.$iF,this.hand.$CF[1].y.$iF,1.5,0.5);break;case 4:this.actionSuccess?this.nextStage(0.5):this.showTapAgain(this.bose.$CF[1].x.$iF,this.hand.$CF[1].y.$iF,1.5,0.5);break;case 6:this.actionSuccess?this.nextStage(0.5):this.showTapAgain(this.chapa.$CF[1].x.$iF,
this.hand.$CF[1].y.$iF,1.5,0.5);break;case 8:this.actionSuccess?this.nextStage(0.5):this.showTapAgain(this.mika.$CF[1].x.$iF,this.hand.$CF[1].y.$iF,1.5,0.5);break;default:this.nextStage()}},charCallback:function(a,b){},spawnPowerbar:function(a){null==a&&(a=0);var b=this;if(null==this.powerbar){var c=new s;c.run(new u([new k(a),new l(function(){if(b.activeChar==d.pendulumChar1||b.activeChar==d.pendulumChar2){var a=new e;b.powerbar=a.add(new Ba(b.activeChar,!1,b.screenWidth/2,b.screenHeight-70,r(b,
b.powerbarCallback)))}else a=new e,b.powerbar=a.add(new Fa(b.activeChar,!1,b.screenWidth/2,b.screenHeight-70,r(b,b.powerbarCallback)));b.screen.addChild(b.powerbar)})]));this.screen.add(c);this.activateChars(!1)}},nextStage:function(a){null==a&&(a=0);var b=this,c=new s;c.run(new u([new k(a),new l(function(){b.missionStage++;switch(b.missionStage){case 1:b.showTapAt(b.miles.$CF[1].x.$iF,b.hand.$CF[1].y.$iF,1.5);break;case 2:b.miles.$CF[34].selectable=!0;break;case 3:b.showTapAt(b.bose.$CF[1].x.$iF,
b.hand.$CF[1].y.$iF,1);break;case 4:b.bose.$CF[34].selectable=!0;break;case 5:b.showTapAt(b.chapa.$CF[1].x.$iF,b.hand.$CF[1].y.$iF,1);var a=new s;a.run(new u([new l(function(){b.btn.$CF[1].set_visible(!0);H.spawn(b.btn,0,0.5,0.5)}),new k(0.5),new l(function(){f.pulseBtn(b.btn,1.1,1)})]));b.owner.add(a);break;case 6:b.chapa.$CF[34].selectable=!0;break;case 7:b.showTapAt(b.mika.$CF[1].x.$iF,b.hand.$CF[1].y.$iF,1);break;case 8:b.mika.$CF[34].selectable=!0;break;case 9:b.turnOnWhiteboard()}})]));this.hand.add(c)},
showTapAt:function(a,b,c,d){null==d&&(d=0);var e=this,f=new s;f.run(new u([new k(d),new l(function(){e.game.addChild(e.hand);e.hand.$CF[28].moveTo(a,b,c,!0)})]));this.hand.add(f)},showTapAgain:function(a,b,c,d){null==d&&(d=0);var e=this;a=new s;a.run(new u([new k(d),new l(function(){e.game.addChild(e.hand);e.hand.$CF[28].retap()})]));this.hand.add(a)},handCallback:function(){this.nextStage()},onUpdate:function(a){},handleTouchDown:function(a){},powerbarCallback:function(a){this.powerbar=null;this.actionSuccess=
a;switch(this.activeChar){case "bose":a?(this.bose.$CF[34].performAction(!0),this.levitateBall(1),this.bose.$CF[34].selectable=!1,this.ipadPrompt("tutorialSuccessBose",5.5)):(this.bose.$CF[34].performAction(!1),this.randomCharacter(this.bose),this.randomCharacter(this.bose).$CF[34].levitate(1),this.ipadPrompt("tutorialFail1",5.5),this.reactivateChar(this.bose,5.5),this.bose.$CF[34].showCross(4));break;case "chapa":a?(this.fireBoltSuccess(),this.ipadPrompt("tutorialSuccessChapa",5.5)):(this.fireBoltFail(),
this.ipadPrompt("tutorialFail2",5.5),this.reactivateChar(this.chapa,5.5),this.chapa.$CF[34].showCross(3));break;case "mika":a?(this.mika.$CF[34].performAction(!0),this.screamBall(1.5),this.mika.$CF[34].selectable=!1,this.ipadPrompt("tutorialSuccessMika",5.5)):(this.mika.$CF[34].performAction(!1),this.wobbleBall(),this.ipadPrompt("tutorialFail1",5.5),this.reactivateChar(this.mika,5.5),this.mika.$CF[34].showCross(4));break;case "miles":a?(this.teleportSuccess(),this.ipadPrompt("tutorialSuccessMiles",
7)):(this.teleportFail(),this.ipadPrompt("tutorialFail2",7),this.reactivateChar(this.miles,7),this.miles.$CF[34].showCross(7.5))}},randomCharacter:function(a){var b=[];a!=this.bose&&b.push(this.bose);a!=this.miles&&b.push(this.miles);a!=this.mika&&b.push(this.mika);a!=this.chapa&&b.push(this.chapa);f.shuffle(b);return this.mika},levitateBall:function(a){var b=this,c=this.ball.$CF[1].y.$iF,d=this.ballShadow.$CF[1].y.$iF,e=new s;e.run(new u([new k(a),new l(function(){b.ball.$CF[1].y.animateBy(-100,
1,q.sineInOut);b.ballShadow.$CF[1].y.animateBy(100,1,q.sineInOut)}),new k(1),new l(function(){f.pulseUpDown(b.ball,25,0.5);f.pulseUpDown(b.ballShadow,-25,0.5)}),new k(1.2),new l(function(){b.ball.$CF[11].stopAll();b.ballShadow.$CF[11].stopAll();b.ball.$CF[1].y.animateTo(c,1,q.sineInOut);b.ballShadow.$CF[1].y.animateTo(d,1,q.sineInOut)}),new k(0.75),new l(function(){})]));this.game.add(e)},screamBall:function(a){var b=this,c=new s;c.run(new u([new k(a),new l(function(){b.ball.$CF[1].x.animateBy(-500,
2.5,q.sineIn);b.ball.$CF[1].rotation.animateBy(-360,2.5,q.sineIn);b.ballShadow.$CF[1].x.animateBy(-500,2.5,q.sineIn)})]));this.ball.add(c)},wobbleBall:function(){var a=this,b=new s;b.run(new u([new k(0.6),new l(function(){a.ball.$CF[1].x.animateBy(-40,1,q.sineInOut);a.ballShadow.$CF[1].x.animateBy(-40,1,q.sineInOut);a.ball.$CF[1].rotation.animateBy(-45,1,q.sineInOut)}),new k(1.3),new l(function(){a.ball.$CF[1].x.animateBy(40,1,q.sineInOut);a.ballShadow.$CF[1].x.animateBy(40,1,q.sineInOut);a.ball.$CF[1].rotation.animateBy(45,
1,q.sineInOut)}),new k(1.5),new l(function(){})]));this.ball.add(b)},teleportSuccess:function(){var a=this;this.miles.$CF[34].teleportTo(-500,1.5);var b=new s;b.run(new u([new k(0.5),new l(function(){var b=(new e).add(new ga(420,675));a.game.addChild(b)}),new k(0.15),new l(function(){a.ball.$CF[1].alpha.animateTo(0,0.1);a.ballShadow.$CF[1].alpha.animateTo(0,0.1)}),new k(1.5),new l(function(){a.miles.$CF[34].teleportBack(0.4)}),new k(0.5),new l(function(){var b=(new e).add(new ga(420,675));a.game.addChild(b)}),
new k(0.15),new l(function(){a.ball.$CF[1].alpha.animateTo(1,0.1);a.ballShadow.$CF[1].alpha.animateTo(1,0.1)})]));this.game.add(b)},teleportFail:function(){var a=this;this.miles.$CF[34].teleportTo(-500,1.5);var b=new e;f.createImageSprite(this.owner,b,"game/background_beach",!1,-((1480-this.screenWidth)/2),this.screenHeight-768);b.$CF[1].set_visible(!1);var c=(new e).add(new K("miles",750,685));b.addChild(c);var d=(new e).add(new L("miles",c,750,685,r(this,this.charCallback)));b.addChild(d);d.$CF[34].teleportTo(-500,
0);d.$CF[34].faceRight(!0);var g=new e;f.createImageSprite(b,g,"game/gull_placeholder",!0,850,735);g.$CF[1].scaleY.set__(-1);g.$CF[1].setTint(0);g.$CF[1].alpha.set__(0.075);var m=new e;f.createImageSprite(b,m,"game/gull_placeholder",!0,850,650);var n=(new e).add(new G(16777215,2E3,2E3));this.screen.addChild(n);n.$CF[1].alpha.set__(0);c=n.$CF[1].x;c.set__(c.$iF-300);c=new s;c.run(new u([new k(0.8),new l(function(){n.$CF[1].alpha.animateTo(1,0.2)}),new k(0.2),new l(function(){b.$CF[1].set_visible(!0);
n.$CF[1].alpha.animateTo(0,0.2);a.playSound("beach_ambience")}),new k(0.75),new l(function(){d.$CF[34].teleportBack(0)}),new k(2),new l(function(){d.$CF[34].teleportTo(-500,0)}),new k(0.5),new l(function(){var a=(new e).add(new ga(850,650));b.addChild(a)}),new k(0.15),new l(function(){m.$CF[1].alpha.animateTo(0,0.1);g.$CF[1].alpha.animateTo(0,0.1)}),new k(0.2),new l(function(){n.$CF[1].alpha.animateTo(1,0.25)}),new k(0.8),new l(function(){b.$CF[1].set_visible(!1);n.$CF[1].alpha.animateTo(0,0.25)}),
new k(0.3),new l(function(){b.dispose();n.dispose();a.miles.$CF[34].teleportBack(0.4)}),new k(0.5),new l(function(){var b=(new e).add(new ga(490,700));a.game.addChild(b)}),new k(0.15),new l(function(){a.gull2.$CF[1].alpha.animateTo(1,0.1);a.gullShadow2.$CF[1].alpha.animateTo(0.075,0.1)}),new k(0.5),new l(function(){a.playSound("seagull")})]));this.game.add(c)},fireBoltSuccess:function(){var a=this;this.chapa.$CF[34].performAction(!1);var b=new s;b.run(new u([new k(1.1),new l(function(){var b=(new e).add(new ua(a.chapa.$CF[1].x.$iF-
150,a.chapa.$CF[1].y.$iF-175));a.game.addChild(b);b.$CF[40].fire(-149,84,0.25,-20)}),new k(0.25),new l(function(){a.smoke.$CF[1].alpha.animateTo(1,0.2);var b=(new e).add(new cb(!0,a.smoke.$CF[1].x.$iF,a.smoke.$CF[1].y.$iF));a.game.addChild(b);a.playSound("ball_burst",!0);a.ball.$CF[1].set_visible(!1);a.ballShadow.$CF[1].set_visible(!1)}),new k(1),new l(function(){a.smoke.$CF[1].alpha.animateTo(0,1);a.ballBounceIn()})]));this.game.add(b)},fireBoltFail:function(){var a=this;this.chapa.$CF[34].performAction(!1);
var b=new s;b.run(new u([new k(1.1),new l(function(){var b=(new e).add(new ua(a.chapa.$CF[1].x.$iF-150,a.chapa.$CF[1].y.$iF-175));a.game.addChild(b);b.$CF[40].fire(-1E3,100,1.5,-5)}),new k(2),new l(function(){})]));this.game.add(b)},turnOnWhiteboard:function(){var a=this;this.schwoz.$CF[32].bungeeIn();var b=new s;b.run(new u([new k(1.5),new l(function(){a.playSound("whiteboard_on",!0);a.whiteboardOff.$CF[1].alpha.animateTo(0.5,0.1)}),new k(0.1),new l(function(){a.whiteboardOff.$CF[1].alpha.animateTo(1,
0.1)}),new k(0.1),new l(function(){a.whiteboardOff.$CF[1].alpha.animateTo(0.5,0.1)}),new k(0.1),new l(function(){a.whiteboardOff.$CF[1].alpha.animateTo(1,0.1)}),new k(0.1),new l(function(){a.whiteboardOff.$CF[1].alpha.animateTo(0,1)}),new k(3.5),new l(function(){a.callback("WIN")})]));this.game.add(b)},keyDownHandler:function(a){d.testMode&&(a.key==g.Numpad7&&this.callback("WIN"),a.key==g.Numpad1?this.fireBoltSuccess():a.key==g.Numpad2?this.fireBoltFail():a.key==g.Numpad3?this.teleportSuccess():a.key==
g.Numpad4&&this.teleportFail())},playSound:function(a,b){null==b&&(b=!1);d.muteSFX||(this.sfx=b?d.gamePack.getSound("audio/"+a).play():d.pack.getSound("audio/"+a).play())},playBounce:function(a){this.sfx2=d.gamePack.getSound("audio/ball_bounce").play();this.sfx2.volume.set__(a)},activateChars:function(a){this.miles.$CF[34].activate(a);this.bose.$CF[34].activate(a);this.chapa.$CF[34].activate(a);this.mika.$CF[34].activate(a)},reactivateChar:function(a,b){var c=new s;c.run(new u([new k(b),new l(function(){a.$CF[34].activate(!0)})]));
this.owner.add(c)},__class__:Cd});var f=function(){};m["project.Utils"]=f;f.__name__=["project","Utils"];f.formatTime=function(a){var b=a/60|0,c=null==b?"null":""+b;a=Q.string(a-60*b|0);2>a.length&&(a="0"+a);return c+":"+a};f.randomNumber=function(a,b){return Math.round(Math.random()*(b-a)+a)};f.randomNumberFloat=function(a,b){return Math.random()*(b-a)+a};f.coinFlip=function(){return 51>f.randomNumber(1,100)?!0:!1};f.shuffle=function(a){for(var b=a.length;1<b;){var c=Q.random(b);--b;var d=a[b];a[b]=
a[c];a[c]=d}return a};f.vectorDistance=function(a,b,c,d){return Math.sqrt(Math.pow(a-b,2)+Math.pow(c-d,2))};f.addDebugSpeedAdjuster=function(a){null==a.$CF[9]&&a.add(new Ka(1));return n.$3F.getKeyboard().down.connect(function(b){var c=a.$CF[9];b.key==g.LeftBracket?(b=c.scale,b.set__(b.$iF/1.61803398875)):b.key==g.RightBracket&&(b=c.scale,b.set__(1.61803398875*b.$iF))})};f.createImageSprite=function(a,b,c,e,f,g,k,l){null==l&&(l=1);null==k&&(k="MAIN");if(null==k)b.add(new I(d.pack.getTexture(c)));else switch(k){case "GAME":b.add(new I(d.gamePack.getTexture(c)));
break;case "LOADER":b.add(new I(d.loaderPack.getTexture(c)));break;default:b.add(new I(d.pack.getTexture(c)))}a.addChild(b);e&&b.$CF[1].centerAnchor();b.$CF[1].x.set__(f);b.$CF[1].y.set__(g);d.lite&&(80==l?b.$CF[1].setScale(1.25):50==l&&b.$CF[1].setScale(2))};f.createFillSprite=function(a,b,c,d,e,f,g,k,l){b.add(new G(c,g,k));a.addChild(b);d&&b.$CF[1].centerAnchor();b.$CF[1].x.set__(e);b.$CF[1].y.set__(f);b.$CF[1].alpha.set__(l)};f.createTextSprite=function(a,b,c,d,e,f,g,k){b.add(new N(c));a.addChild(b);
"Left"==d?(a=b.$CF[1],(a instanceof N?a:null).set_align(ma.Left)):"Right"==d?(a=b.$CF[1],(a instanceof N?a:null).set_align(ma.Right)):(a=b.$CF[1],(a instanceof N?a:null).set_align(ma.Center));a=b.$CF[1];(a instanceof N?a:null).x.set__(e);e=b.$CF[1];(e instanceof N?e:null).y.set__(f);f=b.$CF[1];(f instanceof N?f:null).set_text(g);null!=k&&(g=b.$CF[1],g=(g instanceof N?g:null).x,g.set__(g.$iF+Q.parseInt(k.att.resolve("offsetX"))),g=b.$CF[1],g=(g instanceof N?g:null).y,g.set__(g.$iF+Q.parseInt(k.att.resolve("offsetY"))),
b=b.$CF[1],(b instanceof N?b:null).setScale(parseFloat(k.att.resolve("fontScale"))))};f.createXMLSprite=function(a,b,c,d,e,f,g){b.add(new N(c));a.addChild(b);"Left"==d?(a=b.$CF[1],(a instanceof N?a:null).set_align(ma.Left)):"Right"==d?(a=b.$CF[1],(a instanceof N?a:null).set_align(ma.Right)):(a=b.$CF[1],(a instanceof N?a:null).set_align(ma.Center));a=b.$CF[1];(a instanceof N?a:null).x.set__(e);e=b.$CF[1];(e instanceof N?e:null).y.set__(f);f=b.$CF[1];(f instanceof N?f:null).set_text(g.get_innerData());
f=b.$CF[1];f=(f instanceof N?f:null).x;f.set__(f.$iF+Q.parseInt(g.att.resolve("offsetX")));f=b.$CF[1];f=(f instanceof N?f:null).y;f.set__(f.$iF+Q.parseInt(g.att.resolve("offsetY")));b=b.$CF[1];(b instanceof N?b:null).setScale(parseFloat(g.att.resolve("fontScale")))};f.rolloverImage=function(a,b,c,e){d.isMobile||(e.hit==a.$CF[1]?(b=a.$CF[1],(b instanceof I?b:null).texture=d.pack.getTexture(c),n.$3F.$KF.set_cursor(na.Button)):(c=a.$CF[1],(c instanceof I?c:null).texture=d.pack.getTexture(b),n.$3F.$KF.set_cursor(na.Default)))};
f.pulseOnce=function(a,b,c){a.$CF[1].set_pixelSnapping(!1);var d=[];d.push(new O(a.$CF[1].scaleX,b,c));d.push(new O(a.$CF[1].scaleY,b,c));b=[];b.push(new O(a.$CF[1].scaleX,1,c));b.push(new O(a.$CF[1].scaleY,1,c));c=new s;c.run(new u([new jb(d),new jb(b)]));a.add(c)};f.pulseBtn=function(a,b,c){a.$CF[1].set_pixelSnapping(!1);var d=[];d.push(new O(a.$CF[1].scaleX,b,c));d.push(new O(a.$CF[1].scaleY,b,c));b=[];b.push(new O(a.$CF[1].scaleX,1,c));b.push(new O(a.$CF[1].scaleY,1,c));c=new s;c.run(new xa(new u([new jb(d),
new jb(b)])));a.add(c)};f.pulseUpDown=function(a,b,c){a.$CF[1].set_pixelSnapping(!1);var d=a.$CF[1].y.$iF,e=new s;e.run(new xa(new u([new O(a.$CF[1].y,d+b,c,q.sineInOut),new O(a.$CF[1].y,d,c,q.sineInOut)])));a.add(e)};f.mute=function(a){a?(d.muted=!0,n.volume.set__(0)):(d.muted=!1,n.volume.set__(1))};f.alignLeft=function(a){d.resizeScreen&&(a=a.$CF[1].x,a.set__(a.$iF-d.offsetX/2))};f.alignRight=function(a){d.resizeScreen&&(a=a.$CF[1].x,a.set__(a.$iF+d.offsetX/2))};f.detectLowEndDevice=function(){var a=
window.navigator.userAgent.toLowerCase();if(-1!=a.indexOf("ipod")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipad")){var a=window.screen.width*window.devicePixelRatio,b=window.screen.height*window.devicePixelRatio;if(1024==a&&768==b||768==a&&1024==b)d.lite=!0}navigator.isCocoonJS&&(d.nickApp=!0,d.liteAssetsInApp&&(d.lite=!0))};f.__super__=w;f.prototype=y(w.prototype,{get_entitySlot:function(){return 12},__class__:f});var ef=function(){};m["spine.Updatable"]=ef;ef.__name__=["spine","Updatable"];var Ge=
function(){};m["spine.Bone"]=Ge;Ge.__name__=["spine","Bone"];Ge.__interfaces__=[ef];Ge.prototype={__class__:Ge};var We=function(){};m["spine.BoneData"]=We;We.__name__=["spine","BoneData"];We.prototype={__class__:We};var kf=function(){};m["spine.EventData"]=kf;kf.__name__=["spine","EventData"];var Xe=function(){};m["spine.IkConstraintData"]=Xe;Xe.__name__=["spine","IkConstraintData"];Xe.prototype={__class__:Xe};var Ye=function(){};m["spine.PathConstraintData"]=Ye;Ye.__name__=["spine","PathConstraintData"];
Ye.prototype={__class__:Ye};var Ze=function(){};m["spine.Skeleton"]=Ze;Ze.__name__=["spine","Skeleton"];Ze.prototype={__class__:Ze};var lf=function(){};m["spine.SkeletonData"]=lf;lf.__name__=["spine","SkeletonData"];var mf=function(){};m["spine.Skin"]=mf;mf.__name__=["spine","Skin"];var $e=function(){};m["spine.SlotData"]=$e;$e.__name__=["spine","SlotData"];$e.prototype={__class__:$e};var af=function(){};m["spine.TransformConstraintData"]=af;af.__name__=["spine","TransformConstraintData"];af.prototype=
{__class__:af};var bf=function(){};m["spine.attachments.Attachment"]=bf;bf.__name__=["spine","attachments","Attachment"];var Yb=function(){};m["spine.attachments.VertexAttachment"]=Yb;Yb.__name__=["spine","attachments","VertexAttachment"];Yb.__super__=bf;Yb.prototype=y(bf.prototype,{__class__:Yb});var He=function(){};m["spine.attachments.MeshAttachment"]=He;He.__name__=["spine","attachments","MeshAttachment"];He.__super__=Yb;He.prototype=y(Yb.prototype,{__class__:He});var df,of=0;m.Math=Math;String.prototype.__class__=
m.String=String;String.__name__=["String"];m.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=m.Date=Date;Date.__name__=["Date"];var qf=m.Int={__name__:["Int"]},pf=m.Dynamic={__name__:["Dynamic"]},gf=m.Float=Number;gf.__name__=["Float"];var ff=Boolean;ff.__ename__=["Bool"];var rf=m.Class={__name__:["Class"]},sf={},F={};A.Element=0;A.PCData=1;A.CData=2;A.Comment=3;A.DocType=4;A.ProcessingInstruction=5;A.Document=6;Ha.count=0;Ya.escapes=function(a){a=new V;null!=F.lt?a.setReserved("lt",
"<"):a.h.lt="<";null!=F.gt?a.setReserved("gt",">"):a.h.gt=">";null!=F.amp?a.setReserved("amp","&"):a.h.amp="&";null!=F.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=F.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);U.__toStr={}.toString;e.$EF=new Wd;Ra.$gF=new Ra;la.$xF=new nb(null,null);n.root=new e;n.uncaughtError=new Z;n.lowMemoryWarning=new ob;n.hidden=new ea(!1);n.volume=new P(1);n.$3F=Ra.$gF;ic.logger=new Zd(n.$3F.createLogHandler("2DKit"));da.$QG=null!=(new XMLHttpRequest).withCredentials;
Za.__creator={spawned:S.CBool,onStarted:S.CString,onUpdated:S.CString,onStopped:S.CString};mc.__creator={following:S.CClass(e),zoom:S.CClass(P),active:S.CBool,offsetX:S.CFloat,offsetY:S.CFloat};$a.$VG="@State:";ab.__creator={target:S.CClass($a)};x.$9G=new La;x.$$G=new ya;x.$_G=new qc;Aa.ENTITY_SLOT=1;Aa.$XH=new oa;W.$JI=new ad(10);Ja.$ML=new je;za.$ML=new ke;qa.$ML=new le;ja.__meta__={obj:{injected:[{scenes:{},height:720,id:"com.artofplaygames.dangerforce",orientation:"landscape",fullscreen:!0,assets:{intro:[{bytes:1045,
name:"ball.png"},{bytes:454,name:"ball.webp"},{bytes:56083,name:"chars/library.json"},{bytes:229944,name:"background.png"},{bytes:138382,name:"audio/DangerForce_Intro_mono.ogg"},{bytes:186682,name:"chars/atlas1.png"},{bytes:374674,name:"background.webp"},{bytes:321229,name:"chars/atlas0.png"},{bytes:270086,name:"chars/atlas1.webp"},{bytes:396372,name:"chars/atlas0.webp"},{bytes:461426,name:"audio/DangerForce_Intro_mono.mp3"}],mission99:[{bytes:4907,name:"arrow_keys.png"},{bytes:2070,name:"arrow_keys.webp"},
{bytes:46472,name:"background.webp"},{bytes:3980,name:"beachball.png"},{bytes:126907,name:"background.jpg"},{bytes:1928,name:"beachball.webp"},{bytes:676,name:"beachball_shadow.png"},{bytes:1052,name:"beachball_shadow.webp"},{bytes:5613,name:"cap_man_screen.png"},{bytes:2048,name:"cap_man_screen.webp"},{bytes:407,name:"cap_man_screen_shadow.png"},{bytes:650,name:"cap_man_screen_shadow.webp"},{bytes:7533,name:"hand_pointer.png"},{bytes:3972,name:"hand_pointer.webp"},{bytes:1269,name:"mark.png"},{bytes:918,
name:"mark.webp"},{bytes:18987,name:"speech_bubble.png"},{bytes:3058,name:"speech_bubble.webp"},{bytes:15117,name:"whiteboard.png"},{bytes:7934,name:"whiteboard.webp"},{bytes:2102,name:"whiteboard_off.png"},{bytes:1230,name:"whiteboard_off.webp"},{bytes:983,name:"whiteboard_shadow.png"},{bytes:1738,name:"whiteboard_shadow.webp"}],fonts_int:[{bytes:9358,name:"header_40.png"},{bytes:4349,name:"header_40.fnt.__gz.txt"},{bytes:11724,name:"header_40.webp"},{bytes:2318,name:"helvBold50.fnt.__gz.txt"},{bytes:5892,
name:"helvBold50.png"},{bytes:9180,name:"helvBold50.webp"},{bytes:46835,name:"int_helv22yellow.fnt.__gz.txt"},{bytes:40275,name:"int_helv22yellow.png"},{bytes:41926,name:"int_plain14.fnt.__gz.txt"},{bytes:13825,name:"int_plain14.png"},{bytes:28284,name:"int_plain14.webp"},{bytes:41926,name:"int_plain16.fnt.__gz.txt"},{bytes:15773,name:"int_plain16.png"},{bytes:32776,name:"int_plain16.webp"},{bytes:41926,name:"int_plain18.fnt.__gz.txt"},{bytes:18200,name:"int_plain18.png"},{bytes:35812,name:"int_plain18.webp"},
{bytes:46906,name:"int_plain26.fnt.__gz.txt"},{bytes:26613,name:"int_plain26.png"},{bytes:68630,name:"int_helv22yellow.webp"},{bytes:52078,name:"int_plain26.webp"},{bytes:48074,name:"int_plain30.fnt.__gz.txt"},{bytes:31014,name:"int_plain30.png"},{bytes:60174,name:"int_plain30.webp"},{bytes:22499,name:"tinyfont.fnt.__gz.txt"},{bytes:11487,name:"tinyfont.png"},{bytes:18766,name:"tinyfont.webp"}],fonts:[{bytes:4349,name:"header_40.fnt.__gz.txt"},{bytes:11724,name:"header_40.webp"},{bytes:26801,name:"helv22yellow.fnt.__gz.txt"},
{bytes:29623,name:"helv22yellow.png"},{bytes:48678,name:"helv22yellow.webp"},{bytes:2318,name:"helvBold50.fnt.__gz.txt"},{bytes:9358,name:"header_40.png"},{bytes:5892,name:"helvBold50.png"},{bytes:9180,name:"helvBold50.webp"},{bytes:12018,name:"kom16.fnt.__gz.txt"},{bytes:8734,name:"kom16.png"},{bytes:15480,name:"kom16.webp"},{bytes:12018,name:"kom22.fnt.__gz.txt"},{bytes:12255,name:"kom22.png"},{bytes:9532,name:"kom22.webp"},{bytes:15092,name:"plain14.fnt.__gz.txt"},{bytes:6515,name:"plain14.png"},
{bytes:10232,name:"plain14.webp"},{bytes:15131,name:"plain16.fnt.__gz.txt"},{bytes:8278,name:"plain16.png"},{bytes:13448,name:"plain16.webp"},{bytes:15131,name:"plain18.fnt.__gz.txt"},{bytes:13448,name:"plain18.webp"},{bytes:8278,name:"plain18.png"},{bytes:10579,name:"plain22.fnt.__gz.txt"},{bytes:7606,name:"plain22.png"},{bytes:11496,name:"plain22.webp"},{bytes:15205,name:"plain26.fnt.__gz.txt"},{bytes:18752,name:"plain26.webp"},{bytes:11696,name:"plain26.png"},{bytes:16007,name:"plain30.fnt.__gz.txt"},
{bytes:13307,name:"plain30.png"},{bytes:22420,name:"plain30.webp"},{bytes:22499,name:"tinyfont.fnt.__gz.txt"},{bytes:11487,name:"tinyfont.png"},{bytes:18766,name:"tinyfont.webp"}],preloader:[{bytes:4889,name:"blue.png"},{bytes:3436,name:"blue.webp"},{bytes:18479,name:"df_shield.png"},{bytes:229944,name:"background.png"},{bytes:8396,name:"df_shield.webp"},{bytes:5040,name:"grey.png"},{bytes:2854,name:"grey.webp"},{bytes:2345,name:"loaderbar_background.png"},{bytes:922,name:"loaderbar_background.webp"},
{bytes:114,name:"loaderbar_full.png"},{bytes:82,name:"loaderbar_full.webp"},{bytes:5036,name:"red.png"},{bytes:374674,name:"background.webp"},{bytes:3150,name:"red.webp"},{bytes:22499,name:"tinyfont.fnt.__gz.txt"},{bytes:11487,name:"tinyfont.png"},{bytes:18766,name:"tinyfont.webp"},{bytes:4519,name:"yellow.png"},{bytes:3260,name:"yellow.webp"}],mission101:[{bytes:18516,name:"background.webp"},{bytes:52557,name:"flare.png"},{bytes:27600,name:"flare.webp"},{bytes:9304,name:"flare1.png"},{bytes:5566,
name:"flare1.webp"},{bytes:2543,name:"flare2.png"},{bytes:1342,name:"flare2.webp"},{bytes:5889,name:"flare3.png"},{bytes:4034,name:"flare3.webp"},{bytes:20564,name:"foreground.webp"},{bytes:280377,name:"background.png"},{bytes:40666,name:"middleground.webp"},{bytes:112969,name:"foreground.png"},{bytes:218148,name:"middleground.png"}],mission100:[{bytes:6726,name:"bubble1.png"},{bytes:1596,name:"bubble1.webp"},{bytes:6525,name:"bubble2.png"},{bytes:1314,name:"bubble2.webp"},{bytes:6073,name:"bubble3.png"},
{bytes:1442,name:"bubble3.webp"},{bytes:36035,name:"cell1.png"},{bytes:10726,name:"cell1.webp"},{bytes:20905,name:"cell2.png"},{bytes:6610,name:"cell2.webp"},{bytes:31716,name:"cell3.png"},{bytes:6212,name:"cell3.webp"},{bytes:21579,name:"cell4.png"},{bytes:5552,name:"cell4.webp"}],mainassets:[{bytes:124,name:"blank.png"},{bytes:82,name:"blank.webp"},{bytes:212,name:"blankScreen.png"},{bytes:1224,name:"blankScreen.webp"},{bytes:38447,name:"audio/DangerForce_Stinger_Lose.ogg"},{bytes:163402,name:"audio/DangerForce_Menu.ogg"},
{bytes:138011,name:"audio/DangerForce_Selection.ogg"},{bytes:249100,name:"audio/DangerForce_Gameplay_Full.ogg"},{bytes:228437,name:"audio/DangerForce_Gameplay_Tutorial.ogg"},{bytes:33888,name:"audio/DangerForce_Stinger_Win.ogg"},{bytes:131656,name:"audio/DangerForce_Stinger_Lose.mp3"},{bytes:8009,name:"audio/ball_bounce.mp3"},{bytes:108459,name:"audio/DangerForce_Stinger_Win.mp3"},{bytes:12615,name:"audio/ball_bounce.ogg"},{bytes:6796,name:"audio/ball_burst.mp3"},{bytes:11018,name:"audio/ball_burst.ogg"},
{bytes:433840,name:"audio/DangerForce_Selection.mp3"},{bytes:514088,name:"audio/DangerForce_Menu.mp3"},{bytes:37801,name:"audio/beach_ambience.mp3"},{bytes:30485,name:"audio/beach_ambience.ogg"},{bytes:41396,name:"audio/bell.mp3"},{bytes:57089,name:"audio/bell.ogg"},{bytes:1251,name:"audio/blank.mp3"},{bytes:740413,name:"audio/DangerForce_Gameplay_Tutorial.mp3"},{bytes:4598,name:"audio/blank.ogg"},{bytes:57676,name:"audio/bose_levitation.mp3"},{bytes:51156,name:"audio/bose_levitation.ogg"},{bytes:8422,
name:"audio/buzzer.mp3"},{bytes:7921,name:"audio/buzzer.ogg"},{bytes:787434,name:"audio/DangerForce_Gameplay_Full.mp3"},{bytes:18638,name:"audio/chapa_shoot.mp3"},{bytes:21850,name:"audio/chapa_shoot.ogg"},{bytes:163003,name:"audio/chapa_charge.mp3"},{bytes:3760,name:"audio/click.mp3"},{bytes:5649,name:"audio/click.ogg"},{bytes:22568,name:"audio/correct.mp3"},{bytes:218243,name:"audio/chapa_charge.ogg"},{bytes:19305,name:"audio/correct.ogg"},{bytes:48371,name:"audio/countdown_full.mp3"},{bytes:40882,
name:"audio/countdown_full.ogg"},{bytes:5046,name:"audio/hit1.ogg"},{bytes:3099,name:"audio/hit1.mp3"},{bytes:12537,name:"audio/incorrect.mp3"},{bytes:13229,name:"audio/incorrect.ogg"},{bytes:46850,name:"audio/mika_scream.mp3"},{bytes:42449,name:"audio/mika_scream.ogg"},{bytes:45443,name:"audio/mika_scream_fail.mp3"},{bytes:41490,name:"audio/mika_scream_fail.ogg"},{bytes:25549,name:"audio/miles_teleport.mp3"},{bytes:21887,name:"audio/miles_teleport.ogg"},{bytes:16007,name:"audio/mission_success-fail_stamp.mp3"},
{bytes:21071,name:"audio/mission_success-fail_stamp.ogg"},{bytes:33311,name:"audio/nacho_pickup2.mp3"},{bytes:29326,name:"audio/nacho_pickup2.ogg"},{bytes:12842,name:"audio/schwoz_bungee_up-down.mp3"},{bytes:20273,name:"audio/schwoz_bungee_up-down.ogg"},{bytes:31748,name:"audio/seagull.mp3"},{bytes:20835,name:"audio/seagull.ogg"},{bytes:6363,name:"audio/swoosh.mp3"},{bytes:8678,name:"audio/swoosh.ogg"},{bytes:2318,name:"fonts/helvBold50.fnt.__gz.txt"},{bytes:5892,name:"fonts/helvBold50.png"},{bytes:9180,
name:"fonts/helvBold50.webp"},{bytes:22499,name:"fonts/tinyfont.fnt.__gz.txt"},{bytes:11487,name:"fonts/tinyfont.png"},{bytes:18766,name:"fonts/tinyfont.webp"},{bytes:57472,name:"game/background_beach.webp"},{bytes:2222,name:"game/gull_placeholder.png"},{bytes:1496,name:"game/gull_placeholder.webp"},{bytes:4765,name:"game/hand_pointer.png"},{bytes:137523,name:"game/background_beach.jpg"},{bytes:2774,name:"game/hand_pointer.webp"},{bytes:1269,name:"game/mark.png"},{bytes:918,name:"game/mark.webp"},
{bytes:14233,name:"game/speech_bubble_blue.png"},{bytes:7772,name:"game/speech_bubble_blue.webp"},{bytes:15232,name:"game/speech_bubble_grey.png"},{bytes:7678,name:"game/speech_bubble_grey.webp"},{bytes:10769,name:"game/speech_bubble_large.png"},{bytes:3218,name:"game/speech_bubble_large.webp"},{bytes:13916,name:"game/speech_bubble_red.png"},{bytes:6758,name:"game/speech_bubble_red.webp"},{bytes:14542,name:"game/speech_bubble_yellow.png"},{bytes:7974,name:"game/speech_bubble_yellow.webp"},{bytes:578,
name:"buttons/BTN_accept.png"},{bytes:1384,name:"buttons/BTN_accept.webp"},{bytes:578,name:"buttons/BTN_accept_rollover.png"},{bytes:1474,name:"buttons/BTN_accept_rollover.webp"},{bytes:576,name:"buttons/BTN_back.png"},{bytes:1286,name:"buttons/BTN_back.webp"},{bytes:576,name:"buttons/BTN_back_rollover.png"},{bytes:1340,name:"buttons/BTN_back_rollover.webp"},{bytes:960,name:"buttons/BTN_close.webp"},{bytes:875,name:"buttons/BTN_close.png"},{bytes:875,name:"buttons/BTN_close_rollover.png"},{bytes:968,
name:"buttons/BTN_close_rollover.webp"},{bytes:627,name:"buttons/BTN_continue.png"},{bytes:1538,name:"buttons/BTN_continue.webp"},{bytes:627,name:"buttons/BTN_continue_rollover.png"},{bytes:1654,name:"buttons/BTN_continue_rollover.webp"},{bytes:445,name:"buttons/BTN_cross.png"},{bytes:1008,name:"buttons/BTN_cross.webp"},{bytes:445,name:"buttons/BTN_cross_rollover.png"},{bytes:1004,name:"buttons/BTN_cross_rollover.webp"},{bytes:793,name:"buttons/BTN_hint.png"},{bytes:2188,name:"buttons/BTN_hint.webp"},
{bytes:512,name:"buttons/BTN_menu.png"},{bytes:1150,name:"buttons/BTN_menu.webp"},{bytes:512,name:"buttons/BTN_menu_rollover.png"},{bytes:1192,name:"buttons/BTN_menu_rollover.webp"},{bytes:1988,name:"buttons/BTN_pause.png"},{bytes:1008,name:"buttons/BTN_pause.webp"},{bytes:1874,name:"buttons/BTN_pause_rollover.png"},{bytes:976,name:"buttons/BTN_pause_rollover.webp"},{bytes:3593,name:"buttons/BTN_schwoz.png"},{bytes:2186,name:"buttons/BTN_schwoz.webp"},{bytes:3582,name:"buttons/BTN_schwoz_rollover.png"},
{bytes:2178,name:"buttons/BTN_schwoz_rollover.webp"},{bytes:1916,name:"buttons/BTN_skip.png"},{bytes:1104,name:"buttons/BTN_skip.webp"},{bytes:1721,name:"buttons/BTN_skip_rollover.png"},{bytes:1144,name:"buttons/BTN_skip_rollover.webp"},{bytes:1874,name:"buttons/BTN_sound_OFF.png"},{bytes:910,name:"buttons/BTN_sound_OFF.webp"},{bytes:1900,name:"buttons/BTN_sound_OFF_rollover.png"},{bytes:924,name:"buttons/BTN_sound_OFF_rollover.webp"},{bytes:3166,name:"buttons/BTN_sound_ON.png"},{bytes:1544,name:"buttons/BTN_sound_ON.webp"},
{bytes:3077,name:"buttons/BTN_sound_ON_rollover.png"},{bytes:1592,name:"buttons/BTN_sound_ON_rollover.webp"},{bytes:438,name:"buttons/BTN_tick.png"},{bytes:1014,name:"buttons/BTN_tick.webp"},{bytes:438,name:"buttons/BTN_tick_rollover.png"},{bytes:844,name:"buttons/BTN_tick_rollover.webp"},{bytes:789,name:"buttons/BTN_try_again.png"},{bytes:1792,name:"buttons/BTN_try_again.webp"},{bytes:789,name:"buttons/BTN_try_again_rollover.png"},{bytes:1906,name:"buttons/BTN_try_again_rollover.webp"},{bytes:176,
name:"buttons/checkBtn_long.png"},{bytes:196,name:"buttons/checkBtn_long.webp"},{bytes:179,name:"buttons/checkBtn_short.png"},{bytes:164,name:"buttons/checkBtn_short.webp"},{bytes:1481,name:"buttons/icon1.png"},{bytes:820,name:"buttons/icon1.webp"},{bytes:1474,name:"buttons/icon1_rollover.png"},{bytes:822,name:"buttons/icon1_rollover.webp"},{bytes:1836,name:"buttons/icon2.png"},{bytes:1252,name:"buttons/icon2.webp"},{bytes:1801,name:"buttons/icon2_rollover.png"},{bytes:1264,name:"buttons/icon2_rollover.webp"},
{bytes:2344,name:"buttons/icon3.png"},{bytes:1768,name:"buttons/icon3.webp"},{bytes:2341,name:"buttons/icon3_rollover.png"},{bytes:1844,name:"buttons/icon3_rollover.webp"},{bytes:2348,name:"buttons/icon4.png"},{bytes:1656,name:"buttons/icon4.webp"},{bytes:2339,name:"buttons/icon4_rollover.png"},{bytes:1632,name:"buttons/icon4_rollover.webp"},{bytes:22390,name:"intro/bose.png"},{bytes:6284,name:"intro/bose.webp"},{bytes:15915,name:"intro/captain-man.png"},{bytes:229944,name:"intro/background.png"},
{bytes:5344,name:"intro/captain-man.webp"},{bytes:24948,name:"intro/chapa.png"},{bytes:9176,name:"intro/chapa.webp"},{bytes:11844,name:"intro/df_logo.png"},{bytes:8382,name:"intro/df_logo.webp"},{bytes:16514,name:"intro/goat.png"},{bytes:374674,name:"intro/background.webp"},{bytes:2380,name:"intro/goat.webp"},{bytes:19737,name:"intro/mika.png"},{bytes:5078,name:"intro/mika.webp"},{bytes:21905,name:"intro/miles.png"},{bytes:8086,name:"intro/miles.webp"},{bytes:4058,name:"intro/schwoz.webp"},{bytes:17328,
name:"intro/schwoz.png"},{bytes:10382,name:"intro/title_treatment.png"},{bytes:10928,name:"intro/title_treatment.webp"},{bytes:15785,name:"intro/toddler.png"},{bytes:4056,name:"intro/toddler.webp"},{bytes:351,name:"pause/BTN_icon_highlight.png"},{bytes:416,name:"pause/BTN_icon_highlight.webp"},{bytes:325,name:"pause/audio_off_cross.png"},{bytes:668,name:"pause/audio_off_cross.webp"},{bytes:226,name:"pause/header_bar.png"},{bytes:246,name:"pause/header_bar.webp"},{bytes:16844,name:"pause/help_desktop.png"},
{bytes:16720,name:"pause/help_desktop.webp"},{bytes:15490,name:"pause/help_mobile.png"},{bytes:18636,name:"pause/help_mobile.webp"},{bytes:300,name:"hud/arrow_correct.png"},{bytes:392,name:"hud/arrow_correct.webp"},{bytes:2518,name:"hud/arrow_down.png"},{bytes:1894,name:"hud/arrow_down.webp"},{bytes:2416,name:"hud/arrow_down_large.png"},{bytes:2760,name:"hud/arrow_down_large.webp"},{bytes:300,name:"hud/arrow_incorrect.png"},{bytes:350,name:"hud/arrow_incorrect.webp"},{bytes:2394,name:"hud/arrow_left.png"},
{bytes:1914,name:"hud/arrow_left.webp"},{bytes:2262,name:"hud/arrow_right.png"},{bytes:1892,name:"hud/arrow_right.webp"},{bytes:285,name:"hud/arrow_standard.png"},{bytes:448,name:"hud/arrow_standard.webp"},{bytes:2793,name:"hud/arrow_up.png"},{bytes:1926,name:"hud/arrow_up.webp"},{bytes:313,name:"hud/close.png"},{bytes:324,name:"hud/close.webp"},{bytes:311,name:"hud/close_rollover.png"},{bytes:324,name:"hud/close_rollover.webp"},{bytes:309,name:"hud/countdown_1.png"},{bytes:452,name:"hud/countdown_1.webp"},
{bytes:609,name:"hud/countdown_2.png"},{bytes:806,name:"hud/countdown_2.webp"},{bytes:665,name:"hud/countdown_3.png"},{bytes:824,name:"hud/countdown_3.webp"},{bytes:885,name:"hud/countdown_go.png"},{bytes:1298,name:"hud/countdown_go.webp"},{bytes:173,name:"hud/marker.png"},{bytes:220,name:"hud/marker.webp"},{bytes:1971,name:"hud/powerbar_bose.png"},{bytes:982,name:"hud/powerbar_bose.webp"},{bytes:958,name:"hud/powerbar_chapa.webp"},{bytes:1481,name:"hud/powerbar_chapa.png"},{bytes:335,name:"hud/powerbar_indicator.png"},
{bytes:492,name:"hud/powerbar_indicator.webp"},{bytes:383,name:"hud/powerbar_indicator_incorrect.png"},{bytes:516,name:"hud/powerbar_indicator_incorrect.webp"},{bytes:1686,name:"hud/powerbar_mika.png"},{bytes:838,name:"hud/powerbar_mika.webp"},{bytes:2109,name:"hud/powerbar_miles.png"},{bytes:964,name:"hud/powerbar_miles.webp"},{bytes:231,name:"hud/progress_arrow.png"},{bytes:364,name:"hud/progress_arrow.webp"},{bytes:4267,name:"hud/shield_bose.png"},{bytes:1986,name:"hud/shield_bose.webp"},{bytes:4228,
name:"hud/shield_chapa.png"},{bytes:2050,name:"hud/shield_chapa.webp"},{bytes:4039,name:"hud/shield_mika.png"},{bytes:1902,name:"hud/shield_mika.webp"},{bytes:4300,name:"hud/shield_miles.png"},{bytes:1972,name:"hud/shield_miles.webp"},{bytes:5782,name:"hud/timer_nacho_frame.png"},{bytes:762,name:"hud/timer_nacho_frame.webp"},{bytes:156,name:"hud/white_border.png"},{bytes:160,name:"hud/white_border.webp"},{bytes:351,name:"mission/BTN_icon_highlight.png"},{bytes:416,name:"mission/BTN_icon_highlight.webp"},
{bytes:14724,name:"mission/background.webp"},{bytes:27476,name:"mission/crime_report_screen.png"},{bytes:3080,name:"mission/crime_report_screen.webp"},{bytes:1394,name:"mission/cross.png"},{bytes:1E3,name:"mission/cross.webp"},{bytes:3036,name:"mission/failed_stamp.png"},{bytes:8832,name:"mission/failed_stamp.webp"},{bytes:5286,name:"mission/icons.png"},{bytes:201393,name:"mission/background.png"},{bytes:4778,name:"mission/icons.webp"},{bytes:140,name:"mission/missionBtn.png"},{bytes:166,name:"mission/missionBtn.webp"},
{bytes:216,name:"mission/missionFrame.webp"},{bytes:144,name:"mission/missionFrame.png"},{bytes:6844,name:"mission/mission_overview_screen.png"},{bytes:2186,name:"mission/mission_overview_screen.webp"},{bytes:2242,name:"mission/nacho_ball.png"},{bytes:1138,name:"mission/nacho_ball.webp"},{bytes:124,name:"mission/photo0.png"},{bytes:82,name:"mission/photo0.webp"},{bytes:20727,name:"mission/photo1.png"},{bytes:7038,name:"mission/photo1.webp"},{bytes:22270,name:"mission/photo2.png"},{bytes:5542,name:"mission/photo2.webp"},
{bytes:22346,name:"mission/photo3.png"},{bytes:5616,name:"mission/photo3.webp"},{bytes:23986,name:"mission/photo4.png"},{bytes:5986,name:"mission/photo4.webp"},{bytes:24624,name:"mission/photo5.png"},{bytes:9822,name:"mission/photo5.webp"},{bytes:21192,name:"mission/photo6.png"},{bytes:10560,name:"mission/photo6.webp"},{bytes:952,name:"mission/stampFrame.png"},{bytes:864,name:"mission/stampFrame.webp"},{bytes:3084,name:"mission/success_stamp.png"},{bytes:8930,name:"mission/success_stamp.webp"},{bytes:373,
name:"mission/tick.png"},{bytes:760,name:"mission/tick.webp"},{bytes:192,name:"mission/white_side_indicator.png"},{bytes:182,name:"mission/white_side_indicator.webp"},{bytes:6401,name:"mission/whiteboard.png"},{bytes:3344,name:"mission/whiteboard.webp"},{bytes:37698,name:"game/bose/library.json"},{bytes:9582,name:"game/chapa/atlas1.png"},{bytes:6138,name:"game/chapa/atlas1.webp"},{bytes:19029,name:"game/chapa/library.json"},{bytes:298182,name:"game/bose/atlas1.webp"},{bytes:374547,name:"game/bose/atlas1.png"},
{bytes:36862,name:"game/mika/library.json"},{bytes:62042,name:"game/miles/atlas1.webp"},{bytes:17532,name:"game/miles/library.json"},{bytes:90125,name:"game/miles/atlas1.png"},{bytes:606136,name:"game/bose/atlas0.webp"},{bytes:692633,name:"game/bose/atlas0.png"},{bytes:644837,name:"game/chapa/atlas0.png"},{bytes:604520,name:"game/chapa/atlas0.webp"},{bytes:14790,name:"game/schwoz/library.json"},{bytes:8786,name:"game/smoke/atlas0.png"},{bytes:321107,name:"game/schwoz/atlas0.png"},{bytes:8476,name:"game/smoke/atlas0.webp"},
{bytes:3293,name:"game/smoke/library.json"},{bytes:276708,name:"game/schwoz/atlas0.webp"},{bytes:514558,name:"game/miles/atlas0.webp"},{bytes:19262,name:"game/ticks/atlas0.png"},{bytes:53812,name:"game/ticks/atlas0.webp"},{bytes:630195,name:"game/miles/atlas0.png"},{bytes:711872,name:"game/mika/atlas0.webp"},{bytes:5635,name:"game/ticks/library.json"},{bytes:29484,name:"intro/burst/atlas0.png"},{bytes:61740,name:"intro/burst/atlas0.webp"},{bytes:806321,name:"game/mika/atlas0.png"},{bytes:2683,name:"intro/burst/library.json"},
{bytes:2688,name:"hud/bell/atlas0.png"},{bytes:2036,name:"hud/bell/atlas0.webp"},{bytes:1931,name:"hud/bell/library.json"}],_2DKitOrientation:[{bytes:2190,name:"RotateDevice.webp"},{bytes:3720,name:"RotateDevice.png"}],mission7:[{bytes:5496,name:"bubble1.png"},{bytes:1168,name:"bubble1.webp"},{bytes:3232,name:"bubble2.png"},{bytes:1052,name:"bubble2.webp"},{bytes:3837,name:"bubble3.png"},{bytes:1030,name:"bubble3.webp"},{bytes:1034,name:"bubble4.webp"},{bytes:3279,name:"bubble4.png"},{bytes:1078,
name:"bubble5.webp"},{bytes:3408,name:"bubble5.png"},{bytes:4128,name:"bubble6.png"},{bytes:1134,name:"bubble6.webp"},{bytes:23601,name:"cell1.png"},{bytes:2338,name:"cell1.webp"},{bytes:17704,name:"cell2.png"},{bytes:3716,name:"cell2.webp"},{bytes:41475,name:"cell3.png"},{bytes:13486,name:"cell3.webp"},{bytes:43909,name:"cell4.png"},{bytes:15990,name:"cell4.webp"},{bytes:10630,name:"cell5.png"},{bytes:3538,name:"cell5.webp"},{bytes:31197,name:"cell6.png"},{bytes:9908,name:"cell6.webp"}],mission6:[{bytes:109542,
name:"background.webp"},{bytes:10522,name:"chandelier.png"},{bytes:6674,name:"chandelier.webp"},{bytes:157,name:"chandelier_cable.png"},{bytes:152,name:"chandelier_cable.webp"},{bytes:265112,name:"background.jpg"},{bytes:14740,name:"chandelier_glow.png"},{bytes:7536,name:"chandelier_glow.webp"},{bytes:697,name:"chandelier_shadow.png"},{bytes:380,name:"chandelier_shadow.webp"},{bytes:5451,name:"m6_p1_help.png"},{bytes:4842,name:"m6_p1_help.webp"},{bytes:3283,name:"m6_p2_help.png"},{bytes:1492,name:"m6_p2_help.webp"},
{bytes:3370,name:"mission6_help2.png"},{bytes:1604,name:"mission6_help2.webp"},{bytes:530,name:"nacho_shadow.webp"},{bytes:476,name:"nacho_shadow.png"},{bytes:13733,name:"audio/chandelier_capture.mp3"},{bytes:17796,name:"audio/chandelier_capture.ogg"},{bytes:9514,name:"audio/enemy_hit.mp3"},{bytes:10967,name:"audio/enemy_hit.ogg"},{bytes:19902,name:"audio/goat_gallop.mp3"},{bytes:20433,name:"audio/goat_gallop.ogg"},{bytes:12325,name:"audio/goat_vo.mp3"},{bytes:23861,name:"audio/goat_vo.ogg"},{bytes:17436,
name:"audio/rope_snap.mp3"},{bytes:35776,name:"audio/rope_snap.ogg"},{bytes:8196,name:"betty/library.json"},{bytes:58832,name:"butcher/atlas1.webp"},{bytes:8995,name:"butcher/library.json"},{bytes:94414,name:"butcher/atlas1.png"},{bytes:321780,name:"betty/atlas0.webp"},{bytes:333527,name:"betty/atlas0.png"},{bytes:16906,name:"goat/library.json"},{bytes:315270,name:"butcher/atlas0.webp"},{bytes:287760,name:"goat/atlas0.webp"},{bytes:334376,name:"goat/atlas0.png"},{bytes:453592,name:"butcher/atlas0.png"}],
mission5:[{bytes:20115,name:"book_glow.png"},{bytes:10404,name:"book_glow.webp"},{bytes:978,name:"book_shrapnel1.png"},{bytes:584,name:"book_shrapnel1.webp"},{bytes:2093,name:"book_shrapnel2.png"},{bytes:178604,name:"background.webp"},{bytes:1228,name:"book_shrapnel2.webp"},{bytes:1493,name:"book_shrapnel3.png"},{bytes:746,name:"book_shrapnel3.webp"},{bytes:1418,name:"book_shrapnel4.png"},{bytes:458,name:"book_shrapnel4.webp"},{bytes:399729,name:"background.jpg"},{bytes:8707,name:"cable_long.png"},
{bytes:4934,name:"cable_long.webp"},{bytes:425,name:"cable_long_shadow.png"},{bytes:264,name:"cable_long_shadow.webp"},{bytes:15299,name:"cart_glow.png"},{bytes:7712,name:"cart_glow.webp"},{bytes:12520,name:"divider.png"},{bytes:8672,name:"divider.webp"},{bytes:7489,name:"m5_p1_help.png"},{bytes:5184,name:"m5_p1_help.webp"},{bytes:5080,name:"m5_p2_help.png"},{bytes:4036,name:"m5_p2_help.webp"},{bytes:3746,name:"m5_p3_help.webp"},{bytes:5705,name:"m5_p3_help.png"},{bytes:4653,name:"mission5_help1.png"},
{bytes:3526,name:"mission5_help1.webp"},{bytes:3682,name:"mission5_help3.png"},{bytes:2226,name:"mission5_help3.webp"},{bytes:476,name:"nacho_shadow.png"},{bytes:530,name:"nacho_shadow.webp"},{bytes:17076,name:"obstacle_books.png"},{bytes:11970,name:"obstacle_books.webp"},{bytes:9850,name:"obstacle_cart.png"},{bytes:5606,name:"obstacle_cart.webp"},{bytes:12976,name:"obstacle_standee.png"},{bytes:8200,name:"obstacle_standee.webp"},{bytes:8725,name:"switch_glow.png"},{bytes:4644,name:"switch_glow.webp"},
{bytes:2527,name:"switch_icon.png"},{bytes:1086,name:"switch_icon.webp"},{bytes:2729,name:"switch_icon0.png"},{bytes:1284,name:"switch_icon0.webp"},{bytes:4849,name:"switch_off.png"},{bytes:2272,name:"switch_off.webp"},{bytes:4954,name:"switch_on.png"},{bytes:2492,name:"switch_on.webp"},{bytes:22620,name:"wire_glow.png"},{bytes:12478,name:"wire_glow.webp"},{bytes:9514,name:"audio/enemy_hit.mp3"},{bytes:10967,name:"audio/enemy_hit.ogg"},{bytes:2845,name:"audio/switch.mp3"},{bytes:6761,name:"audio/switch.ogg"},
{bytes:31184,name:"audio/trolley_short.mp3"},{bytes:26734,name:"audio/trolley_short.ogg"},{bytes:86365,name:"audio/trolley.mp3"},{bytes:71909,name:"audio/trolley.ogg"},{bytes:8644,name:"boss/library.json"},{bytes:3598,name:"sparks/atlas0.png"},{bytes:2680,name:"sparks/atlas0.webp"},{bytes:3859,name:"sparks/library.json"},{bytes:283982,name:"boss/atlas0.webp"},{bytes:380076,name:"boss/atlas0.png"}],mission4:[{bytes:41862,name:"background_start.webp"},{bytes:33034,name:"background_tile.webp"},{bytes:113505,
name:"background_start.jpg"},{bytes:10519,name:"beehive_glow.png"},{bytes:4904,name:"beehive_glow.webp"},{bytes:93376,name:"background_tile.jpg"},{bytes:27242,name:"branches_glow.png"},{bytes:14032,name:"branches_glow.webp"},{bytes:230,name:"brit_boy_blink.png"},{bytes:240,name:"brit_boy_blink.webp"},{bytes:213,name:"brit_girl_blink.png"},{bytes:258,name:"brit_girl_blink.webp"},{bytes:10096,name:"brits.png"},{bytes:7360,name:"brits.webp"},{bytes:921,name:"m2_p1_help3.png"},{bytes:738,name:"m2_p1_help3.webp"},
{bytes:5960,name:"m4_p1_help.png"},{bytes:5118,name:"m4_p1_help.webp"},{bytes:4692,name:"m4_p2_help3.png"},{bytes:3240,name:"m4_p2_help3.webp"},{bytes:5518,name:"m4_p3_help.png"},{bytes:5690,name:"m4_p3_help.webp"},{bytes:5636,name:"mission4_help2.png"},{bytes:5704,name:"mission4_help2.webp"},{bytes:5596,name:"mission4_help3.png"},{bytes:3796,name:"mission4_help3.webp"},{bytes:476,name:"nacho_shadow.png"},{bytes:530,name:"nacho_shadow.webp"},{bytes:14454,name:"obstacle_branches.png"},{bytes:10384,
name:"obstacle_branches.webp"},{bytes:3388,name:"obstacle_branches_particle1.png"},{bytes:2822,name:"obstacle_branches_particle1.webp"},{bytes:5022,name:"obstacle_branches_particle2.png"},{bytes:3394,name:"obstacle_branches_particle2.webp"},{bytes:4486,name:"obstacle_branches_particle3.png"},{bytes:2650,name:"obstacle_branches_particle3.webp"},{bytes:18460,name:"obstacle_trash.png"},{bytes:12730,name:"obstacle_trash.webp"},{bytes:30981,name:"path_divider.png"},{bytes:13332,name:"path_divider.webp"},
{bytes:5949,name:"rope_glow.png"},{bytes:3994,name:"rope_glow.webp"},{bytes:19787,name:"rubbish_glow.png"},{bytes:11572,name:"rubbish_glow.webp"},{bytes:2366,name:"spark1.png"},{bytes:1478,name:"spark1.webp"},{bytes:2609,name:"spark2.png"},{bytes:1762,name:"spark2.webp"},{bytes:8725,name:"switch_glow.png"},{bytes:4644,name:"switch_glow.webp"},{bytes:2527,name:"switch_icon.png"},{bytes:1086,name:"switch_icon.webp"},{bytes:2729,name:"switch_icon0.png"},{bytes:1284,name:"switch_icon0.webp"},{bytes:4849,
name:"switch_off.png"},{bytes:2272,name:"switch_off.webp"},{bytes:4954,name:"switch_on.png"},{bytes:2492,name:"switch_on.webp"},{bytes:13842,name:"wire_glow.png"},{bytes:7364,name:"wire_glow.webp"},{bytes:6196,name:"wires.png"},{bytes:3280,name:"wires.webp"},{bytes:28496,name:"audio/beehive.mp3"},{bytes:26409,name:"audio/beehive.ogg"},{bytes:9514,name:"audio/enemy_hit.mp3"},{bytes:10967,name:"audio/enemy_hit.ogg"},{bytes:19902,name:"audio/goat_gallop.mp3"},{bytes:20433,name:"audio/goat_gallop.ogg"},
{bytes:12325,name:"audio/goat_vo.mp3"},{bytes:23861,name:"audio/goat_vo.ogg"},{bytes:35776,name:"audio/rope_snap.ogg"},{bytes:17436,name:"audio/rope_snap.mp3"},{bytes:2845,name:"audio/switch.mp3"},{bytes:6761,name:"audio/switch.ogg"},{bytes:414338,name:"audio/ambience_park.ogg"},{bytes:26829,name:"beehive/atlas0.png"},{bytes:24822,name:"beehive/atlas0.webp"},{bytes:4971,name:"beehive/library.json"},{bytes:6706,name:"bin/library.json"},{bytes:527457,name:"audio/ambience_park.mp3"},{bytes:16941,name:"boss/library.json"},
{bytes:146769,name:"boss/atlas1.png"},{bytes:124132,name:"boss/atlas1.webp"},{bytes:347088,name:"bin/atlas0.webp"},{bytes:347125,name:"bin/atlas0.png"},{bytes:16906,name:"goat/library.json"},{bytes:8094,name:"wires/atlas0.png"},{bytes:5818,name:"wires/atlas0.webp"},{bytes:2312,name:"wires/library.json"},{bytes:404936,name:"boss/atlas0.webp"},{bytes:441721,name:"boss/atlas0.png"},{bytes:287760,name:"goat/atlas0.webp"},{bytes:334376,name:"goat/atlas0.png"}],mission3:[{bytes:56660,name:"background.webp"},
{bytes:471,name:"cheese.png"},{bytes:514,name:"cheese.webp"},{bytes:2567,name:"cheese_pot.png"},{bytes:1772,name:"cheese_pot.webp"},{bytes:154594,name:"background.jpg"},{bytes:861,name:"cheese_pot_shadow.png"},{bytes:462,name:"cheese_pot_shadow.webp"},{bytes:4924,name:"help_p1.png"},{bytes:3738,name:"help_p1.webp"},{bytes:5425,name:"help_p2.png"},{bytes:3612,name:"help_p2.webp"},{bytes:3439,name:"kid_danger.png"},{bytes:1380,name:"kid_danger.webp"},{bytes:476,name:"nacho_shadow.png"},{bytes:530,name:"nacho_shadow.webp"},
{bytes:4966,name:"pot2.png"},{bytes:2030,name:"pot2.webp"},{bytes:4246,name:"pot3.png"},{bytes:902,name:"pot3.webp"},{bytes:9731,name:"pot_glow.png"},{bytes:4650,name:"pot_glow.webp"},{bytes:59262,name:"audio/bell_ding.ogg"},{bytes:9514,name:"audio/enemy_hit.mp3"},{bytes:10967,name:"audio/enemy_hit.ogg"},{bytes:24167,name:"audio/liquid_cheese.mp3"},{bytes:149292,name:"audio/bell_ding.mp3"},{bytes:52985,name:"audio/liquid_cheese.ogg"},{bytes:28949,name:"audio/pot_drop_on_head.mp3"},{bytes:28560,name:"audio/pot_drop_on_head.ogg"},
{bytes:15467,name:"boss/library.json"},{bytes:439492,name:"boss/atlas0.webp"},{bytes:553554,name:"boss/atlas0.png"}],mission2:[{bytes:53678,name:"background.webp"},{bytes:8894,name:"foreground_rock.png"},{bytes:3018,name:"foreground_rock.webp"},{bytes:163685,name:"background.jpg"},{bytes:2916,name:"lasers.png"},{bytes:2286,name:"lasers.webp"},{bytes:3682,name:"m2_p1_help3.png"},{bytes:2226,name:"m2_p1_help3.webp"},{bytes:5492,name:"m2_p2_help.png"},{bytes:3318,name:"m2_p2_help.webp"},{bytes:476,name:"nacho_shadow.png"},
{bytes:522,name:"nacho_shadow.webp"},{bytes:1618,name:"pebble.png"},{bytes:524,name:"pebble.webp"},{bytes:30650,name:"rocks_glow.png"},{bytes:13426,name:"rocks_glow.webp"},{bytes:8725,name:"switch_glow.png"},{bytes:4644,name:"switch_glow.webp"},{bytes:2527,name:"switch_icon.png"},{bytes:1086,name:"switch_icon.webp"},{bytes:2729,name:"switch_icon0.png"},{bytes:1284,name:"switch_icon0.webp"},{bytes:4849,name:"switch_off.png"},{bytes:2272,name:"switch_off.webp"},{bytes:4954,name:"switch_on.png"},{bytes:2492,
name:"switch_on.webp"},{bytes:12708,name:"audio/blink.mp3"},{bytes:10241,name:"audio/blink.ogg"},{bytes:12142,name:"audio/laser_shutdown.mp3"},{bytes:18036,name:"audio/laser_shutdown.ogg"},{bytes:2845,name:"audio/switch.mp3"},{bytes:6761,name:"audio/switch.ogg"},{bytes:66499,name:"audio/rockfall.mp3"},{bytes:120955,name:"audio/rockfall.ogg"},{bytes:12430,name:"boss/library.json"},{bytes:143984,name:"boss/atlas1.webp"},{bytes:219696,name:"boss/atlas0.webp"},{bytes:286209,name:"boss/atlas1.png"},{bytes:502154,
name:"boss/atlas0.png"}],mission1:[{bytes:8366,name:"beam1.png"},{bytes:14784,name:"beam1.webp"},{bytes:89934,name:"background.webp"},{bytes:7231,name:"beam2.png"},{bytes:8220,name:"beam2.webp"},{bytes:234406,name:"background.jpg"},{bytes:1351,name:"beam3.png"},{bytes:890,name:"beam3.webp"},{bytes:1834,name:"door_laser_beams.png"},{bytes:1342,name:"door_laser_beams.webp"},{bytes:6124,name:"keypad_off.png"},{bytes:4780,name:"keypad_off.webp"},{bytes:6291,name:"keypad_on.png"},{bytes:4644,name:"keypad_on.webp"},
{bytes:5425,name:"m1_help2.png"},{bytes:5234,name:"m1_help2.webp"},{bytes:476,name:"nacho_shadow.png"},{bytes:530,name:"nacho_shadow.webp"},{bytes:860,name:"pencil.png"},{bytes:524,name:"pencil.webp"},{bytes:6420,name:"pencil_glow.png"},{bytes:3840,name:"pencil_glow.webp"},{bytes:305,name:"pencil_shadow.png"},{bytes:408,name:"pencil_shadow.webp"},{bytes:6211,name:"audio/keypad_press.mp3"},{bytes:10269,name:"audio/keypad_press.ogg"},{bytes:2961,name:"audio/keypad_press2.mp3"},{bytes:7931,name:"audio/keypad_press2.ogg"},
{bytes:53241,name:"audio/laser_power_on.ogg"},{bytes:83635,name:"audio/laser_power_on.mp3"},{bytes:12667,name:"boss/library.json"},{bytes:279454,name:"boss/atlas0.png"},{bytes:284612,name:"boss/atlas0.webp"}],mission0:[{bytes:4918,name:"arrows.png"},{bytes:2158,name:"arrows.webp"},{bytes:4717,name:"arrows_mob.png"},{bytes:4370,name:"arrows_mob.webp"},{bytes:1118,name:"arrows_small_highlight.png"},{bytes:706,name:"arrows_small_highlight.webp"},{bytes:44948,name:"background.webp"},{bytes:3980,name:"beachball.png"},
{bytes:1928,name:"beachball.webp"},{bytes:676,name:"beachball_shadow.png"},{bytes:1052,name:"beachball_shadow.webp"},{bytes:8932,name:"bubble.png"},{bytes:1548,name:"bubble.webp"},{bytes:407,name:"cap_man_screen_shadow.png"},{bytes:269066,name:"background.png"},{bytes:650,name:"cap_man_screen_shadow.webp"},{bytes:1726,name:"down.png"},{bytes:1202,name:"down.webp"},{bytes:1189,name:"down_mob.png"},{bytes:814,name:"down_mob.webp"},{bytes:1726,name:"left.png"},{bytes:1192,name:"left.webp"},{bytes:1169,
name:"left_mob.png"},{bytes:794,name:"left_mob.webp"},{bytes:1727,name:"right.png"},{bytes:1190,name:"right.webp"},{bytes:1162,name:"right_mob.png"},{bytes:788,name:"right_mob.webp"},{bytes:3785,name:"spacebar.png"},{bytes:1002,name:"spacebar.webp"},{bytes:1892,name:"spacebar_highlight.png"},{bytes:1716,name:"spacebar_highlight.webp"},{bytes:291,name:"spacebar_highlight_mob.png"},{bytes:326,name:"spacebar_highlight_mob.webp"},{bytes:2370,name:"spacebar_mob.png"},{bytes:1402,name:"spacebar_mob.webp"},
{bytes:23259,name:"speech_bubble.png"},{bytes:2802,name:"speech_bubble.webp"},{bytes:1726,name:"up.png"},{bytes:1198,name:"up.webp"},{bytes:1191,name:"up_mob.png"},{bytes:772,name:"up_mob.webp"},{bytes:15117,name:"whiteboard.png"},{bytes:7934,name:"whiteboard.webp"},{bytes:2102,name:"whiteboard_off.png"},{bytes:1230,name:"whiteboard_off.webp"},{bytes:983,name:"whiteboard_shadow.png"},{bytes:1738,name:"whiteboard_shadow.webp"},{bytes:8009,name:"audio/ball_bounce.mp3"},{bytes:12615,name:"audio/ball_bounce.ogg"},
{bytes:11018,name:"audio/ball_burst.ogg"},{bytes:6796,name:"audio/ball_burst.mp3"},{bytes:18801,name:"audio/whiteboard_on.mp3"},{bytes:25837,name:"audio/whiteboard_on.ogg"},{bytes:88257,name:"bigSchwoz/atlas1.png"},{bytes:45166,name:"bigSchwoz/atlas1.webp"},{bytes:3159,name:"bigSchwoz/library.json"},{bytes:35885,name:"ipad/atlas0.png"},{bytes:133640,name:"bigSchwoz/atlas0.webp"},{bytes:25360,name:"ipad/atlas0.webp"},{bytes:3944,name:"ipad/library.json"},{bytes:250144,name:"bigSchwoz/atlas0.png"}],
config:[{bytes:1319,name:"config.xml"},{bytes:9077,name:"translation.xml"}]},width:480}]}};R.$EP=0;R.$FP=0;B.$vP=["webkit","moz","ms"];B.$wP=(new db("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);B.$LQ=!0;M.$lQ=!0;Ea.$$G=new ya;ka.$aT=0;ka.$bT=1;ka.$cT=2;d.v2=!1;d.nickApp=!1;d.liteAssetsInApp=!1;d.lite=!1;d.minScaleSize=960;d.scale=1;d.offsetX=0;d.offsetY=0;d.alwaysResize=!1;d.staticWidth=960;d.staticHeight=640;d.maxWidth=1280;d.maxHeight=800;d.isMobile=!1;d.active=!0;d.muted=!1;d.preloaderClick=
!0;d.pendulumChar1="bose";d.pendulumChar2="mika";d.mission=0;d.missions=6;d.controlsActive=!1;d.mission1Complete=!1;d.mission2Complete=!1;d.mission3Complete=!1;d.mission4Complete=!1;d.mission5Complete=!1;d.mission6Complete=!1;d.mission1Nacho1=0;d.mission1Nacho2=0;d.mission1Nacho3=0;d.mission2Nacho1=0;d.mission2Nacho2=0;d.mission2Nacho3=0;d.mission3Nacho1=0;d.mission3Nacho2=0;d.mission3Nacho3=0;d.mission4Nacho1=0;d.mission4Nacho2=0;d.mission4Nacho3=0;d.mission4Nacho4=0;d.mission4Nacho5=0;d.mission4Nacho6=
0;d.mission4Nacho7=0;d.mission4Nacho8=0;d.mission4Nacho9=0;d.mission4Nacho10=0;d.mission5Nacho1=0;d.mission5Nacho2=0;d.mission5Nacho3=0;d.mission5Nacho4=0;d.mission5Nacho5=0;d.mission5Nacho6=0;d.mission5Nacho7=0;d.mission5Nacho8=0;d.mission5Nacho9=0;d.mission5Nacho10=0;d.mission6Nacho1=0;d.mission6Nacho2=0;d.mission6Nacho3=0;d.showIntro=!0;d.hadTutorial=!1;d.showFPS=!1;d.testMode=!1;d.showDebugInfo=!1;d.quickTest=0;d.hadMissionSelectHint=!1;d.muteSFX=!1;d.muteMusic=!1;Se.$ZL()})("undefined"!=typeof window?
window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
