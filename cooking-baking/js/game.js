(function(qh,Fi){function q(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function B(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Ni++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}qh.haxe=qh.haxe||{};qh.haxe.remoting=qh.haxe.remoting||{};
var h={},N=function(){return H.__string_rec(this,"")},J=function(){};h.HxOverrides=J;J.__name__=["HxOverrides"];J.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new G("Invalid date format : "+a);}};J.cca=
function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};J.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};J.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};J.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Se=function(){this.length=0};h.List=Se;Se.__name__=["List"];Se.prototype={add:function(a){a=new rh(a,null);
null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},__class__:Se};var rh=function(a,b){this.item=a;this.next=b};h["_List.ListNode"]=rh;rh.__name__=["_List","ListNode"];rh.prototype={__class__:rh};var z=function(){};h.Main=z;z.__name__=["Main"];z.main=function(){z.init()};z.validateBrowser=function(){var a=document.createElement("canvas");if(null==a.getContext||null==a.getContext("2d").fillText)return!1;a=window.audioContextInstance;return p.isMobile()&&null==a?!1:!0};z.validateCookies=function(){return null!=
Cb.getLocalStorage()&&null!=Cb.getSessionStorage()&&null!=navigator.cookieEnabled&&navigator.cookieEnabled};z.init=function(){var a=z.getWindow().location.href,a=z.getQueryStringValue(a,"locale");""==a&&(a="en-us");z.dataLocale=a;z.validateBrowser()?z.validateCookies()?(z.container=z.getDocument().createElement("div"),window.tabindex="0",z.container.style.position="relative",z.container.className="container",window.document.getElementById("game-container").appendChild(z.container),z.getContainer().parentElement.hasAttribute("data-locale")&&
(a=z.getContainer().parentElement.getAttribute("data-locale"),z.dataLocale=a),z.dataWidth=parseFloat(z.getContainer().parentElement.getAttribute("data-width")),z.dataHeight=parseFloat(z.getContainer().parentElement.getAttribute("data-height")),z._prevDataWidth=z.dataWidth,z._prevDataHeight=z.dataHeight,z.root=new p("barbie_cooking",1024,1024),z.root.addGameState(new Te),z.root.init(),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
function(a){a=p.isMobile()?z.TARGET_FPS_MOBILE:z.TARGET_FPS;window.setTimeout(z.update,1E3/a)},z.update()):window.location.href="cookies.html":window.location.href="./locale/"+z.dataLocale+"/unsupported.html"};z.getQueryStringValue=function(a,b){var c=a.split("?");if(2>c.length)return"";for(var c=c[1].split("&"),d=0,e=c.length;d<e;){var g=d++;if(jb.startsWith(c[g],b)&&(g=c[g].split("="),!(2>g.length)))return g[1]}return""};z.update=function(){z.root.processFrame();"1"==T.getProperty("debugDraw")&&
z.root.debugRender();z.dataWidth=parseFloat(z.getContainer().parentElement.getAttribute("data-width"));z.dataHeight=parseFloat(z.getContainer().parentElement.getAttribute("data-height"));if(z.dataWidth!=z._prevDataWidth||z.dataHeight!=z._prevDataHeight)z.root.onResizeWindow(),z._prevDataWidth=z.dataWidth,z._prevDataHeight=z.dataHeight;window.requestAnimFrame(z.update)};z.getDocument=function(){return window.document};z.getWindow=function(){return window};z.getCanvas=function(){return z.canvas};z.getContainer=
function(){return z.container};z.getBasePath=function(){for(var a=window.location.href.split("/"),b="",c=0,d=a.length-1;c<d;)var e=c++,b=b+(a[e]+"/");return b};Math.__name__=["Math"];var Ca=function(){};h.Reflect=Ca;Ca.__name__=["Reflect"];Ca.field=function(a,b){try{return a[b]}catch(c){return null}};Ca.setProperty=function(a,b,c){var d,e;e=a.__properties__?d=a.__properties__["set_"+b]:!1;if(e)a[d](c);else a[b]=c};Ca.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;
for(d in a)"__id__"!=d&&("hx__closures__"!=d&&c.call(a,d))&&b.push(d)}return b};Ca.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};Ca.compareMethods=function(a,b){return a==b?!0:Ca.isFunction(a)&&Ca.isFunction(b)?a.scope==b.scope&&a.method==b.method?null!=a.method:!1:!1};Ca.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var ua=function(){};h.Std=ua;ua.__name__=["Std"];ua.string=function(a){return H.__string_rec(a,
"")};ua.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=J.cca(a,1)&&88!=J.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var oc=function(){this.b=""};h.StringBuf=oc;oc.__name__=["StringBuf"];oc.prototype={__class__:oc};var jb=function(){};h.StringTools=jb;jb.__name__=["StringTools"];jb.startsWith=function(a,b){return a.length>=b.length?J.substr(a,0,b.length)==b:!1};jb.replace=function(a,b,c){return a.split(b).join(c)};var Y=h.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};
Y.TNull=["TNull",0];Y.TNull.toString=N;Y.TNull.__enum__=Y;Y.TInt=["TInt",1];Y.TInt.toString=N;Y.TInt.__enum__=Y;Y.TFloat=["TFloat",2];Y.TFloat.toString=N;Y.TFloat.__enum__=Y;Y.TBool=["TBool",3];Y.TBool.toString=N;Y.TBool.__enum__=Y;Y.TObject=["TObject",4];Y.TObject.toString=N;Y.TObject.__enum__=Y;Y.TFunction=["TFunction",5];Y.TFunction.toString=N;Y.TFunction.__enum__=Y;Y.TClass=function(a){a=["TClass",6,a];a.__enum__=Y;a.toString=N;return a};Y.TEnum=function(a){a=["TEnum",7,a];a.__enum__=Y;a.toString=
N;return a};Y.TUnknown=["TUnknown",8];Y.TUnknown.toString=N;Y.TUnknown.__enum__=Y;Y.__empty_constructs__=[Y.TNull,Y.TInt,Y.TFloat,Y.TBool,Y.TObject,Y.TFunction,Y.TUnknown];var Ia=function(){};h.Type=Ia;Ia.__name__=["Type"];Ia.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};Ia.getEnumName=function(a){return a.__ename__.join(".")};Ia.resolveClass=function(a){a=h[a];return null!=a&&a.__name__?a:null};Ia.resolveEnum=function(a){a=h[a];return null!=a&&a.__ename__?a:null};Ia.createEmptyInstance=
function(a){function b(){}b.prototype=a.prototype;return new b};Ia.createEnum=function(a,b,c){var d=Ca.field(a,b);if(null==d)throw new G("No such constructor "+b);if(Ca.isFunction(d)){if(null==c)throw new G("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new G("Constructor "+b+" does not need parameters");return d};Ia["typeof"]=function(a){switch(typeof a){case "boolean":return Y.TBool;case "function":return a.__name__||a.__ename__?Y.TObject:Y.TFunction;case "number":return Math.ceil(a)==
a%2147483648?Y.TInt:Y.TFloat;case "object":if(null==a)return Y.TNull;var b=a.__enum__;if(null!=b)return Y.TEnum(b);a=H.getClass(a);return null!=a?Y.TClass(a):Y.TObject;case "string":return Y.TClass(String);case "undefined":return Y.TNull;default:return Y.TUnknown}};var L=function(a){this.nodeType=a;this.children=[];this.attributeMap=new Na};h.Xml=L;L.__name__=["Xml"];L.parse=function(a){return pc.parse(a)};L.createElement=function(a){var b=new L(L.Element);if(b.nodeType!=L.Element)throw new G("Bad node type, expected Element but found "+
b.nodeType);b.nodeName=a;return b};L.createPCData=function(a){var b=new L(L.PCData);if(b.nodeType==L.Document||b.nodeType==L.Element)throw new G("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};L.createCData=function(a){var b=new L(L.CData);if(b.nodeType==L.Document||b.nodeType==L.Element)throw new G("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};L.createComment=function(a){var b=new L(L.Comment);if(b.nodeType==L.Document||b.nodeType==L.Element)throw new G("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};L.createDocType=function(a){var b=new L(L.DocType);if(b.nodeType==L.Document||b.nodeType==L.Element)throw new G("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};L.createProcessingInstruction=function(a){var b=new L(L.ProcessingInstruction);if(b.nodeType==L.Document||b.nodeType==L.Element)throw new G("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};L.createDocument=function(){return new L(L.Document)};L.prototype={get:function(a){if(this.nodeType!=
L.Element)throw new G("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=na[a]?b.getReserved(a):b.h[a]},set:function(a,b){if(this.nodeType!=L.Element)throw new G("Bad node type, expected Element but found "+this.nodeType);var c=this.attributeMap;null!=na[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){if(this.nodeType!=L.Element)throw new G("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=na[a]?b.existsReserved(a):
b.h.hasOwnProperty(a)},elementsNamed:function(a){if(this.nodeType!=L.Document&&this.nodeType!=L.Element)throw new G("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,d=this.children;c<d.length;){var e=d[c];++c;var g;if(e.nodeType==L.Element){if(e.nodeType!=L.Element)throw new G("Bad node type, expected Element but found "+e.nodeType);g=e.nodeName==a}else g=!1;g&&b.push(e)}return J.iter(b)},addChild:function(a){if(this.nodeType!=L.Document&&this.nodeType!=L.Element)throw new G("Bad node type, expected Element or Document but found "+
this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=L.Document&&this.nodeType!=L.Element)throw new G("Bad node type, expected Element or Document but found "+this.nodeType);return J.remove(this.children,a)?(a.parent=null,!0):!1},__class__:L};var Db=function(){this.lowerBound=new w;this.upperBound=new w};h["box2D.collision.B2AABB"]=Db;Db.__name__=["box2D","collision","B2AABB"];Db.prototype={isValid:function(){var a=this.upperBound.y-
this.lowerBound.y;return a=(a=0<=this.upperBound.x-this.lowerBound.x&&0<=a)&&this.lowerBound.isValid()?this.upperBound.isValid():!1},getCenter:function(){return new w((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},getExtents:function(){return new w((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},contains:function(a){var b;return b=(b=(b=(b=this.lowerBound.x<=a.lowerBound.x)?this.lowerBound.y<=a.lowerBound.y:!1)?a.upperBound.x<=this.upperBound.x:
!1)?a.upperBound.y<=this.upperBound.y:!1},rayCast:function(a,b){var c=-Number.MAX_VALUE,d=Number.MAX_VALUE,e=b.p1.x,g=b.p1.y,l=b.p2.x-b.p1.x,r=b.p2.y-b.p1.y,k=Math.abs(l),ha=Math.abs(r),f=a.normal;if(k<Number.MIN_VALUE){if(e<this.lowerBound.x||this.upperBound.x<e)return!1}else if(k=1/l,l=(this.lowerBound.x-e)*k,e=(this.upperBound.x-e)*k,k=-1,l>e&&(k=l,l=e,e=k,k=1),l>c&&(f.x=k,f.y=0,c=l),d=Math.min(d,e),c>d)return!1;if(ha<Number.MIN_VALUE){if(g<this.lowerBound.y||this.upperBound.y<g)return!1}else if(k=
1/r,l=(this.lowerBound.y-g)*k,e=(this.upperBound.y-g)*k,k=-1,l>e&&(k=l,l=e,e=k,k=1),l>c&&(f.y=k,f.x=0,c=l),d=Math.min(d,e),c>d)return!1;a.fraction=c;return!0},testOverlap:function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0},combine:function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=
Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)},__class__:Db};var w=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["box2D.common.math.B2Vec2"]=w;w.__name__=["box2D","common","math","B2Vec2"];w.make=function(a,b){return new w(a,b)};w.prototype={setZero:function(){this.y=this.x=0},set:function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b},setV:function(a){this.x=a.x;this.y=a.y},getNegative:function(){return new w(-this.x,-this.y)},
negativeSelf:function(){this.x=-this.x;this.y=-this.y},copy:function(){return new w(this.x,this.y)},add:function(a){this.x+=a.x;this.y+=a.y},subtract:function(a){this.x-=a.x;this.y-=a.y},multiply:function(a){this.x*=a;this.y*=a},mulM:function(a){var b=this.x;this.x=a.col1.x*b+a.col2.x*this.y;this.y=a.col1.y*b+a.col2.y*this.y},mulTM:function(a){var b=v.dot(this,a.col1);this.y=v.dot(this,a.col2);this.x=b},crossVF:function(a){var b=this.x;this.x=a*this.y;this.y=-a*b},crossFV:function(a){var b=this.x;
this.x=-a*this.y;this.y=a*b},minV:function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y},maxV:function(a){this.x=this.x>a.x?this.x:a.x;this.y=this.y>a.y?this.y:a.y},abs:function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=
b;return a},isValid:function(){return v.isValid(this.x)?v.isValid(this.y):!1},__class__:w};var Ue=function(){this.v=new w;this.id=new fd};h["box2D.collision.ClipVertex"]=Ue;Ue.__name__=["box2D","collision","ClipVertex"];Ue.prototype={set:function(a){this.v.setV(a.v);this.id.set(a.id)},__class__:Ue};var fd=function(){this.features=new sh;this.features._m_id=this};h["box2D.collision.B2ContactID"]=fd;fd.__name__=["box2D","collision","B2ContactID"];fd.prototype={set:function(a){this.set_key(a._key)},
copy:function(){var a=new fd;a.set_key(this.get_key());return a},get_key:function(){return this._key},set_key:function(a){this._key=a;this.features._referenceEdge=this._key&255;this.features._incidentEdge=(this._key&65280)>>8&255;this.features._incidentVertex=(this._key&16711680)>>16&255;this.features._flip=(this._key&-16777216)>>24&255;return this._key},__class__:fd,__properties__:{set_key:"set_key",get_key:"get_key"}};var sh=function(){};h["box2D.collision.Features"]=sh;sh.__name__=["box2D","collision",
"Features"];sh.prototype={get_referenceEdge:function(){return this._referenceEdge},set_referenceEdge:function(a){this._referenceEdge=a;this._m_id._key=this._m_id._key&-256|this._referenceEdge&255;return a},get_incidentEdge:function(){return this._incidentEdge},set_incidentEdge:function(a){this._incidentEdge=a;this._m_id._key=this._m_id._key&-65281|this._incidentEdge<<8&65280;return a},get_incidentVertex:function(){return this._incidentVertex},set_incidentVertex:function(a){this._incidentVertex=a;
this._m_id._key=this._m_id._key&-16711681|this._incidentVertex<<16&16711680;return a},get_flip:function(){return this._flip},set_flip:function(a){this._flip=a;this._m_id._key=this._m_id._key&16777215|this._flip<<24&-16777216;return a},__class__:sh,__properties__:{set_flip:"set_flip",get_flip:"get_flip",set_incidentVertex:"set_incidentVertex",get_incidentVertex:"get_incidentVertex",set_incidentEdge:"set_incidentEdge",get_incidentEdge:"get_incidentEdge",set_referenceEdge:"set_referenceEdge",get_referenceEdge:"get_referenceEdge"}};
var S=function(){};h["box2D.collision.B2Collision"]=S;S.__name__=["box2D","collision","B2Collision"];S.clipSegmentToLine=function(a,b,c,d){var e,g=0;e=b[0];var l=e.v;e=b[1];var r=e.v,k=c.x*l.x+c.y*l.y-d;e=c.x*r.x+c.y*r.y-d;0>=k&&a[g++].set(b[0]);0>=e&&a[g++].set(b[1]);0>k*e&&(c=k/(k-e),e=a[g],e=e.v,e.x=l.x+c*(r.x-l.x),e.y=l.y+c*(r.y-l.y),e=a[g],e.id=(0<k?b[0]:b[1]).id,++g);return g};S.edgeSeparation=function(a,b,c,d,e){var g=a.m_vertices;a=a.m_normals;var l=d.m_vertexCount,r=d.m_vertices,k,ha;k=b.R;
ha=a[c];a=k.col1.x*ha.x+k.col2.x*ha.y;d=k.col1.y*ha.x+k.col2.y*ha.y;k=e.R;var f=k.col1.x*a+k.col1.y*d;k=k.col2.x*a+k.col2.y*d;for(var h=0,m=Number.MAX_VALUE,n=0;n<l;){var q=n++;ha=r[q];ha=ha.x*f+ha.y*k;ha<m&&(m=ha,h=q)}ha=g[c];k=b.R;c=b.position.x+(k.col1.x*ha.x+k.col2.x*ha.y);b=b.position.y+(k.col1.y*ha.x+k.col2.y*ha.y);ha=r[h];k=e.R;g=e.position.x+(k.col1.x*ha.x+k.col2.x*ha.y);e=e.position.y+(k.col1.y*ha.x+k.col2.y*ha.y);return(g-c)*a+(e-b)*d};S.findMaxSeparation=function(a,b,c,d,e){var g=b.m_vertexCount,
l=b.m_normals,r,k=e.R;r=d.m_centroid;var ha=e.position.x+(k.col1.x*r.x+k.col2.x*r.y),f=e.position.y+(k.col1.y*r.x+k.col2.y*r.y),k=c.R;r=b.m_centroid;for(var ha=ha-(c.position.x+(k.col1.x*r.x+k.col2.x*r.y)),f=f-(c.position.y+(k.col1.y*r.x+k.col2.y*r.y)),k=ha*c.R.col1.x+f*c.R.col1.y,f=ha*c.R.col2.x+f*c.R.col2.y,ha=0,h=-Number.MAX_VALUE,m=0;m<g;){var n=m++;r=l[n];r=r.x*k+r.y*f;r>h&&(h=r,ha=n)}l=S.edgeSeparation(b,c,ha,d,e);h=0<=ha-1?ha-1:g-1;k=S.edgeSeparation(b,c,h,d,e);m=ha+1<g?ha+1:0;f=S.edgeSeparation(b,
c,m,d,e);if(k>l&&k>f)r=-1;else if(f>l)r=1,h=m,k=f;else return a[0]=ha,l;for(;;)if(ha=-1==r?0<=h-1?h-1:g-1:h+1<g?h+1:0,l=S.edgeSeparation(b,c,ha,d,e),l>k)h=ha,k=l;else break;a[0]=h;return k};S.findIncidentEdge=function(a,b,c,d,e,g){var l=b.m_normals,r=e.m_vertexCount;b=e.m_vertices;e=e.m_normals;var k;k=c.R;c=l[d];var l=k.col1.x*c.x+k.col2.x*c.y,f=k.col1.y*c.x+k.col2.y*c.y;k=g.R;c=k.col1.x*l+k.col1.y*f;f=k.col2.x*l+k.col2.y*f;l=c;k=0;for(var h=Number.MAX_VALUE,da=0;da<r;){var m=da++;c=e[m];c=l*c.x+
f*c.y;c<h&&(h=c,k=m)}e=k;l=e+1<r?e+1:0;r=a[0];c=b[e];k=g.R;r.v.x=g.position.x+(k.col1.x*c.x+k.col2.x*c.y);r.v.y=g.position.y+(k.col1.y*c.x+k.col2.y*c.y);r.id.features.set_referenceEdge(d);r.id.features.set_incidentEdge(e);r.id.features.set_incidentVertex(0);r=a[1];c=b[l];k=g.R;r.v.x=g.position.x+(k.col1.x*c.x+k.col2.x*c.y);r.v.y=g.position.y+(k.col1.y*c.x+k.col2.y*c.y);r.id.features.set_referenceEdge(d);r.id.features.set_incidentEdge(l);r.id.features.set_incidentVertex(1)};S.makeClipPointVector=function(){var a=
[];a[0]=new Ue;a[1]=new Ue;return a};S.collidePolygons=function(a,b,c,d,e){var g;a.m_pointCount=0;var l=b.m_radius+d.m_radius,r;S.s_edgeAO[0]=0;var k=S.findMaxSeparation(S.s_edgeAO,b,c,d,e);r=S.s_edgeAO[0];if(!(k>l)){var f;S.s_edgeBO[0]=0;var h=S.findMaxSeparation(S.s_edgeBO,d,e,b,c);f=S.s_edgeBO[0];if(!(h>l)){h>0.98*k+0.001?(k=d,d=b,b=e,a.m_type=Ka.FACE_B,r=1):(k=b,b=c,c=e,f=r,a.m_type=Ka.FACE_A,r=0);e=S.s_incidentEdge;S.findIncidentEdge(e,k,b,f,d,c);h=k.m_vertices;d=h[f];var da;da=f+1<k.m_vertexCount?
h[f+1|0]:h[0];k=S.s_localTangent;k.set(da.x-d.x,da.y-d.y);k.normalize();h=S.s_localNormal;h.x=k.y;h.y=-k.x;var m=S.s_planePoint;m.set(0.5*(d.x+da.x),0.5*(d.y+da.y));g=S.s_tangent;f=b.R;g.x=f.col1.x*k.x+f.col2.x*k.y;g.y=f.col1.y*k.x+f.col2.y*k.y;var n=S.s_tangent2;n.x=-g.x;n.y=-g.y;k=S.s_normal;k.x=g.y;k.y=-g.x;var q=S.s_v11,v=S.s_v12;q.x=b.position.x+(f.col1.x*d.x+f.col2.x*d.y);q.y=b.position.y+(f.col1.y*d.x+f.col2.y*d.y);v.x=b.position.x+(f.col1.x*da.x+f.col2.x*da.y);v.y=b.position.y+(f.col1.y*da.x+
f.col2.y*da.y);b=k.x*q.x+k.y*q.y;f=g.x*v.x+g.y*v.y+l;da=S.s_clipPoints1;d=S.s_clipPoints2;e=S.clipSegmentToLine(da,e,n,-g.x*q.x-g.y*q.y+l);if(!(2>e||(e=S.clipSegmentToLine(d,da,g,f),2>e))){a.m_localPlaneNormal.setV(h);a.m_localPoint.setV(m);h=e=0;for(m=x.b2_maxManifoldPoints;h<m;)f=h++,g=d[f],k.x*g.v.x+k.y*g.v.y-b<=l&&(n=a.m_points[e],f=c.R,q=g.v.x-c.position.x,da=g.v.y-c.position.y,n.m_localPoint.x=q*f.col1.x+da*f.col1.y,n.m_localPoint.y=q*f.col2.x+da*f.col2.y,n.m_id.set(g.id),n.m_id.features.set_flip(r),
++e);a.m_pointCount=e}}}};S.collideCircles=function(a,b,c,d,e){a.m_pointCount=0;var g,l;g=c.R;l=b.m_p;var r=c.position.x+(g.col1.x*l.x+g.col2.x*l.y);c=c.position.y+(g.col1.y*l.x+g.col2.y*l.y);g=e.R;l=d.m_p;r=e.position.x+(g.col1.x*l.x+g.col2.x*l.y)-r;e=e.position.y+(g.col1.y*l.x+g.col2.y*l.y)-c;g=b.m_radius+d.m_radius;r*r+e*e>g*g||(a.m_type=Ka.CIRCLES,a.m_localPoint.setV(b.m_p),a.m_localPlaneNormal.setZero(),a.m_pointCount=1,a.m_points[0].m_localPoint.setV(d.m_p),a.m_points[0].m_id.set_key(0))};S.collidePolygonAndCircle=
function(a,b,c,d,e){a.m_pointCount=0;var g,l,r,k=e.R;r=d.m_p;var f=e.position.y+(k.col1.y*r.x+k.col2.y*r.y);g=e.position.x+(k.col1.x*r.x+k.col2.x*r.y)-c.position.x;l=f-c.position.y;k=c.R;c=g*k.col1.x+l*k.col1.y;var k=g*k.col2.x+l*k.col2.y,h=0;e=-Number.MAX_VALUE;var f=b.m_radius+d.m_radius,da=b.m_vertexCount,m=b.m_vertices;b=b.m_normals;for(var n=0;n<da;){var q=n++;r=m[q];g=c-r.x;l=k-r.y;r=b[q];r=r.x*g+r.y*l;if(r>f)return;r>e&&(e=r,h=q)}r=h;g=m[r];da=m[r+1<da?r+1:0];e<Number.MIN_VALUE?(a.m_pointCount=
1,a.m_type=Ka.FACE_A,a.m_localPlaneNormal.setV(b[h]),a.m_localPoint.x=0.5*(g.x+da.x),a.m_localPoint.y=0.5*(g.y+da.y),a.m_points[0].m_localPoint.setV(d.m_p),a.m_points[0].m_id.set_key(0)):(e=(c-da.x)*(g.x-da.x)+(k-da.y)*(g.y-da.y),0>=(c-g.x)*(da.x-g.x)+(k-g.y)*(da.y-g.y)?(c-g.x)*(c-g.x)+(k-g.y)*(k-g.y)>f*f||(a.m_pointCount=1,a.m_type=Ka.FACE_A,a.m_localPlaneNormal.x=c-g.x,a.m_localPlaneNormal.y=k-g.y,a.m_localPlaneNormal.normalize(),a.m_localPoint.setV(g),a.m_points[0].m_localPoint.setV(d.m_p),a.m_points[0].m_id.set_key(0)):
0>=e?(c-da.x)*(c-da.x)+(k-da.y)*(k-da.y)>f*f||(a.m_pointCount=1,a.m_type=Ka.FACE_A,a.m_localPlaneNormal.x=c-da.x,a.m_localPlaneNormal.y=k-da.y,a.m_localPlaneNormal.normalize(),a.m_localPoint.setV(da),a.m_points[0].m_localPoint.setV(d.m_p),a.m_points[0].m_id.set_key(0)):(h=0.5*(g.x+da.x),g=0.5*(g.y+da.y),e=(c-h)*b[r].x+(k-g)*b[r].y,e>f||(a.m_pointCount=1,a.m_type=Ka.FACE_A,a.m_localPlaneNormal.x=b[r].x,a.m_localPlaneNormal.y=b[r].y,a.m_localPlaneNormal.normalize(),a.m_localPoint.set(h,g),a.m_points[0].m_localPoint.setV(d.m_p),
a.m_points[0].m_id.set_key(0))))};S.testOverlap=function(a,b){var c=b.lowerBound,d=a.upperBound,e=c.x-d.x,g=c.y-d.y,c=a.lowerBound,d=b.upperBound,l=c.y-d.y;return 0<e||0<g||0<c.x-d.x||0<l?!1:!0};var th=function(){this.position=new w;this.velocity=new w;this.normal=new w;this.id=new fd};h["box2D.collision.B2ContactPoint"]=th;th.__name__=["box2D","collision","B2ContactPoint"];th.prototype={__class__:th};var uh=function(){this.m_v1=new Ld;this.m_v2=new Ld;this.m_v3=new Ld;this.m_vertices=[];this.m_vertices[0]=
this.m_v1;this.m_vertices[1]=this.m_v2;this.m_vertices[2]=this.m_v3};h["box2D.collision.B2Simplex"]=uh;uh.__name__=["box2D","collision","B2Simplex"];uh.prototype={readCache:function(a,b,c,d,e){x.b2Assert(0<=a.count&&3>=a.count);var g,l;this.m_count=a.count;for(var r=this.m_vertices,k,f=0,h=this.m_count;f<h;)g=f++,k=r[g],k.indexA=a.indexA[g],k.indexB=a.indexB[g],g=b.getVertex(k.indexA),l=d.getVertex(k.indexB),k.wA=v.mulX(c,g),k.wB=v.mulX(e,l),k.w=v.subtractVV(k.wB,k.wA),k.a=0;1<this.m_count&&(a=a.metric,
k=this.getMetric(),k<0.5*a||2*a<k||k<Number.MIN_VALUE)&&(this.m_count=0);0==this.m_count&&(k=r[0],k.indexA=0,k.indexB=0,g=b.getVertex(0),l=d.getVertex(0),k.wA=v.mulX(c,g),k.wB=v.mulX(e,l),k.w=v.subtractVV(k.wB,k.wA),this.m_count=1)},writeCache:function(a){a.metric=this.getMetric();a.count=this.m_count|0;for(var b=this.m_vertices,c=0,d=this.m_count;c<d;){var e=c++;a.indexA[e]=b[e].indexA|0;a.indexB[e]=b[e].indexB|0}},getSearchDirection:function(){switch(this.m_count){case 1:return this.m_v1.w.getNegative();
case 2:var a=v.subtractVV(this.m_v2.w,this.m_v1.w);return 0<v.crossVV(a,this.m_v1.w.getNegative())?v.crossFV(1,a):v.crossVF(a,1);default:return x.b2Assert(!1),new w}},getClosestPoint:function(){switch(this.m_count){case 0:return x.b2Assert(!1),new w;case 1:return this.m_v1.w;case 2:return new w(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return x.b2Assert(!1),new w}},getWitnessPoints:function(a,b){switch(this.m_count){case 0:x.b2Assert(!1);
break;case 1:a.setV(this.m_v1.wA);b.setV(this.m_v1.wB);break;case 2:a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x;a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y;b.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x;b.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:b.x=a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x;b.y=a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:x.b2Assert(!1)}},
getMetric:function(){switch(this.m_count){case 0:return x.b2Assert(!1),0;case 1:return 0;case 2:return v.subtractVV(this.m_v1.w,this.m_v2.w).length();case 3:return v.crossVV(v.subtractVV(this.m_v2.w,this.m_v1.w),v.subtractVV(this.m_v3.w,this.m_v1.w));default:return x.b2Assert(!1),0}},solve2:function(){var a=this.m_v1.w,b=this.m_v2.w,c=v.subtractVV(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.m_count=this.m_v1.a=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.m_count=this.m_v2.a=1,this.m_v1.set(this.m_v2)):(c=1/(b+a),this.m_v1.a=
b*c,this.m_v2.a=a*c,this.m_count=2))},solve3:function(){var a=this.m_v1.w,b=this.m_v2.w,c=this.m_v3.w,d=v.subtractVV(b,a),e=v.dot(a,d),g=v.dot(b,d),e=-e,l=v.subtractVV(c,a),r=v.dot(a,l),k=v.dot(c,l),r=-r,f=v.subtractVV(c,b),h=v.dot(b,f),f=v.dot(c,f),h=-h,l=v.crossVV(d,l),d=l*v.crossVV(b,c),c=l*v.crossVV(c,a),a=l*v.crossVV(a,b);0>=e&&0>=r?this.m_count=this.m_v1.a=1:0<g&&0<e&&0>=a?(k=1/(g+e),this.m_v1.a=g*k,this.m_v2.a=e*k,this.m_count=2):0<k&&0<r&&0>=c?(g=1/(k+r),this.m_v1.a=k*g,this.m_v3.a=r*g,this.m_count=
2,this.m_v2.set(this.m_v3)):0>=g&&0>=h?(this.m_count=this.m_v2.a=1,this.m_v1.set(this.m_v2)):0>=k&&0>=f?(this.m_count=this.m_v3.a=1,this.m_v1.set(this.m_v3)):0<f&&0<h&&0>=d?(g=1/(f+h),this.m_v2.a=f*g,this.m_v3.a=h*g,this.m_count=2,this.m_v1.set(this.m_v3)):(g=1/(d+c+a),this.m_v1.a=d*g,this.m_v2.a=c*g,this.m_v3.a=a*g,this.m_count=3)},__class__:uh};var Ld=function(){};h["box2D.collision.B2SimplexVertex"]=Ld;Ld.__name__=["box2D","collision","B2SimplexVertex"];Ld.prototype={set:function(a){this.wA.setV(a.wA);
this.wB.setV(a.wB);this.w.setV(a.w);this.a=a.a;this.indexA=a.indexA;this.indexB=a.indexB},__class__:Ld};var Eb=function(){};h["box2D.collision.B2Distance"]=Eb;Eb.__name__=["box2D","collision","B2Distance"];Eb.distance=function(a,b,c){++Eb.b2_gjkCalls;var d=c.proxyA,e=c.proxyB,g=c.transformA,l=c.transformB,r=Eb.s_simplex;r.readCache(b,d,g,e,l);var k=r.m_vertices,f=Eb.s_saveA,h=Eb.s_saveB,da=0;r.getClosestPoint().lengthSquared();for(var m,n=0;20>n;){da=r.m_count;m=0;for(var q=da;m<q;){var p=m++;f[p]=
k[p].indexA;h[p]=k[p].indexB}switch(r.m_count){case 1:break;case 2:r.solve2();break;case 3:r.solve3();break;default:x.b2Assert(!1)}if(3==r.m_count)break;m=r.getClosestPoint();m.lengthSquared();q=r.getSearchDirection();if(q.lengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE)break;m=k[r.m_count];m.indexA=d.getSupport(v.mulTMV(g.R,q.getNegative()))|0;m.wA=v.mulX(g,d.getVertex(m.indexA));m.indexB=e.getSupport(v.mulTMV(l.R,q))|0;m.wB=v.mulX(l,e.getVertex(m.indexB));m.w=v.subtractVV(m.wB,m.wA);++n;++Eb.b2_gjkIters;
q=!1;for(p=0;p<da;){var s=p++;if(m.indexA==f[s]&&m.indexB==h[s]){q=!0;break}}if(q)break;++r.m_count}Eb.b2_gjkMaxIters=v.max(Eb.b2_gjkMaxIters,n)|0;r.getWitnessPoints(a.pointA,a.pointB);a.distance=v.subtractVV(a.pointA,a.pointB).length();a.iterations=n;r.writeCache(b);c.useRadii&&(b=d.m_radius,e=e.m_radius,a.distance>b+e&&a.distance>Number.MIN_VALUE?(a.distance-=b+e,c=v.subtractVV(a.pointB,a.pointA),c.normalize(),a.pointA.x+=b*c.x,a.pointA.y+=b*c.y,a.pointB.x-=e*c.x,a.pointB.y-=e*c.y):(m=new w,m.x=
0.5*(a.pointA.x+a.pointB.x),m.y=0.5*(a.pointA.y+a.pointB.y),a.pointA.x=a.pointB.x=m.x,a.pointA.y=a.pointB.y=m.y,a.distance=0))};var vh=function(){};h["box2D.collision.B2DistanceInput"]=vh;vh.__name__=["box2D","collision","B2DistanceInput"];vh.prototype={__class__:vh};var wh=function(){this.pointA=new w;this.pointB=new w};h["box2D.collision.B2DistanceOutput"]=wh;wh.__name__=["box2D","collision","B2DistanceOutput"];wh.prototype={__class__:wh};var Ve=function(){this.m_vertices=[]};h["box2D.collision.B2DistanceProxy"]=
Ve;Ve.__name__=["box2D","collision","B2DistanceProxy"];Ve.prototype={set:function(a){switch(a.getType()[1]){case 1:a=H.__cast(a,Fb);this.m_vertices=[];this.m_vertices[0]=a.m_p;this.m_count=1;this.m_radius=a.m_radius;break;case 2:a=H.__cast(a,Ga);this.m_vertices=a.m_vertices;this.m_count=a.m_vertexCount;this.m_radius=a.m_radius;break;default:x.b2Assert(!1)}},getSupport:function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1,e=this.m_count;d<e;){var g=d++,l=this.m_vertices[g].x*
a.x+this.m_vertices[g].y*a.y;l>c&&(b=g,c=l)}return b},getSupportVertex:function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1,e=this.m_count;d<e;){var g=d++,l=this.m_vertices[g].x*a.x+this.m_vertices[g].y*a.y;l>c&&(b=g,c=l)}return this.m_vertices[b]},getVertexCount:function(){return this.m_count},getVertex:function(a){x.b2Assert(0<=a&&a<this.m_count);return this.m_vertices[a]},__class__:Ve};var xh=function(){this.m_freeList=this.m_root=null;this.m_insertionCount=this.m_path=
0};h["box2D.collision.B2DynamicTree"]=xh;xh.__name__=["box2D","collision","B2DynamicTree"];xh.prototype={createProxy:function(a,b){var c=this.allocateNode(),d=x.b2_aabbExtension,e=x.b2_aabbExtension;c.aabb.lowerBound.x=a.lowerBound.x-d;c.aabb.lowerBound.y=a.lowerBound.y-e;c.aabb.upperBound.x=a.upperBound.x+d;c.aabb.upperBound.y=a.upperBound.y+e;c.userData=b;this.insertLeaf(c);return c},destroyProxy:function(a){this.removeLeaf(a);this.freeNode(a)},moveProxy:function(a,b,c){x.b2Assert(a.isLeaf());if(a.aabb.contains(b))return!1;
this.removeLeaf(a);var d=x.b2_aabbExtension+x.b2_aabbMultiplier*(0<c.x?c.x:-c.x);c=x.b2_aabbExtension+x.b2_aabbMultiplier*(0<c.y?c.y:-c.y);a.aabb.lowerBound.x=b.lowerBound.x-d;a.aabb.lowerBound.y=b.lowerBound.y-c;a.aabb.upperBound.x=b.upperBound.x+d;a.aabb.upperBound.y=b.upperBound.y+c;this.insertLeaf(a);return!0},rebalance:function(a){if(null!=this.m_root)for(var b=0;b<a;){b++;for(var c=this.m_root,d=0;!1==c.isLeaf();)c=0!=(this.m_path>>d&1)?c.child2:c.child1,d=d+1&31;++this.m_path;this.removeLeaf(c);
this.insertLeaf(c)}},getFatAABB:function(a){return a.aabb},getUserData:function(a){return a.userData},query:function(a,b){if(null!=this.m_root){var c=[],d=0;for(c[d++]=this.m_root;0<d;){var e=c[--d];if(e.aabb.testOverlap(b))if(e.isLeaf()){if(!a(e))break}else c[d++]=e.child1,c[d++]=e.child2}}},rayCast:function(a,b){if(null!=this.m_root){var c=b.p1,d=b.p2,e=v.subtractVV(c,d);e.normalize();var e=v.crossFV(1,e),g=v.absV(e),l=b.maxFraction,r=new Db,k;k=c.x+l*(d.x-c.x);l=c.y+l*(d.y-c.y);r.lowerBound.x=
Math.min(c.x,k);r.lowerBound.y=Math.min(c.y,l);r.upperBound.x=Math.max(c.x,k);r.upperBound.y=Math.max(c.y,l);var f=[],h=0;for(f[h++]=this.m_root;0<h;)if(k=f[--h],!1!=k.aabb.testOverlap(r)){var l=k.aabb.getCenter(),m=k.aabb.getExtents();if(!(0<Math.abs(e.x*(c.x-l.x)+e.y*(c.y-l.y))-g.x*m.x-g.y*m.y))if(k.isLeaf()){l=new We;l.p1=b.p1;l.p2=b.p2;l.maxFraction=b.maxFraction;l=a(l,k);if(0==l)break;k=c.x+l*(d.x-c.x);l=c.y+l*(d.y-c.y);r.lowerBound.x=Math.min(c.x,k);r.lowerBound.y=Math.min(c.y,l);r.upperBound.x=
Math.max(c.x,k);r.upperBound.y=Math.max(c.y,l)}else f[h++]=k.child1,f[h++]=k.child2}}},allocateNode:function(){if(null!=this.m_freeList){var a=this.m_freeList;this.m_freeList=a.parent;a.parent=null;a.child1=null;a.child2=null;return a}return new Md},freeNode:function(a){a.parent=this.m_freeList;this.m_freeList=a},insertLeaf:function(a){++this.m_insertionCount;if(null==this.m_root)this.m_root=a,this.m_root.parent=null;else{var b=a.aabb.getCenter(),c=this.m_root;if(!1==c.isLeaf())for(;;){var d=c.child1,
c=c.child2,e=Math.abs((d.aabb.lowerBound.x+d.aabb.upperBound.x)/2-b.x)+Math.abs((d.aabb.lowerBound.y+d.aabb.upperBound.y)/2-b.y),g=Math.abs((c.aabb.lowerBound.x+c.aabb.upperBound.x)/2-b.x)+Math.abs((c.aabb.lowerBound.y+c.aabb.upperBound.y)/2-b.y),c=e<g?d:c;if(!1!=c.isLeaf())break}b=c.parent;d=this.allocateNode();d.parent=b;d.userData=null;d.aabb.combine(a.aabb,c.aabb);if(null!=b)for(c.parent.child1==c?b.child1=d:b.child2=d,d.child1=c,d.child2=a,c.parent=d,a.parent=d;!b.aabb.contains(d.aabb)&&(b.aabb.combine(b.child1.aabb,
b.child2.aabb),d=b,b=b.parent,null!=b););else d.child1=c,d.child2=a,c.parent=d,this.m_root=a.parent=d}},removeLeaf:function(a){if(a==this.m_root)this.m_root=null;else{var b=a.parent,c=b.parent;a=b.child1==a?b.child2:b.child1;if(null!=c)for(c.child1==b?c.child1=a:c.child2=a,a.parent=c,this.freeNode(b);null!=c;){b=c.aabb;c.aabb=new Db;c.aabb.combine(c.child1.aabb,c.child2.aabb);if(b.contains(c.aabb))break;c=c.parent}else this.m_root=a,a.parent=null,this.freeNode(b)}},__class__:xh};var yh=function(){};
h["box2D.collision.IBroadPhase"]=yh;yh.__name__=["box2D","collision","IBroadPhase"];yh.prototype={__class__:yh};var Xe=function(){this.m_tree=new xh;this.m_moveBuffer=[];this.m_pairBuffer=[];this.m_pairCount=0};h["box2D.collision.B2DynamicTreeBroadPhase"]=Xe;Xe.__name__=["box2D","collision","B2DynamicTreeBroadPhase"];Xe.__interfaces__=[yh];Xe.prototype={createProxy:function(a,b){var c=this.m_tree.createProxy(a,b);++this.m_proxyCount;this.bufferMove(c);return c},destroyProxy:function(a){this.unBufferMove(a);
--this.m_proxyCount;this.m_tree.destroyProxy(a)},moveProxy:function(a,b,c){this.m_tree.moveProxy(a,b,c)&&this.bufferMove(a)},testOverlap:function(a,b){var c=this.m_tree.getFatAABB(a),d=this.m_tree.getFatAABB(b);return c.testOverlap(d)},getUserData:function(a){return this.m_tree.getUserData(a)},getFatAABB:function(a){return this.m_tree.getFatAABB(a)},getProxyCount:function(){return this.m_proxyCount},updatePairs:function(a){for(var b=this,c=this.m_pairCount=0,d=this.m_moveBuffer;c<d.length;){var e=
[d[c]];++c;var g=function(a){return function(c){if(c==a[0])return!0;b.m_pairCount==b.m_pairBuffer.length&&(b.m_pairBuffer[b.m_pairCount]=new zh);var d=b.m_pairBuffer[b.m_pairCount];c.id<a[0].id?(d.proxyA=c,d.proxyB=a[0]):(d.proxyA=a[0],d.proxyB=c);++b.m_pairCount;return!0}}(e),e=this.m_tree.getFatAABB(e[0]);this.m_tree.query(g,e)}this.m_moveBuffer=[];c=!0;for(d=0;c;)if(d>=this.m_pairCount)c=!1;else{var g=this.m_pairBuffer[d],e=this.m_tree.getUserData(g.proxyA),l=this.m_tree.getUserData(g.proxyB);
a(e,l);for(++d;d<this.m_pairCount;){e=this.m_pairBuffer[d];if(e.proxyA!=g.proxyA||e.proxyB!=g.proxyB)break;++d}}},query:function(a,b){this.m_tree.query(a,b)},rayCast:function(a,b){this.m_tree.rayCast(a,b)},validate:function(){},rebalance:function(a){this.m_tree.rebalance(a)},bufferMove:function(a){this.m_moveBuffer[this.m_moveBuffer.length]=a},unBufferMove:function(a){J.remove(this.m_moveBuffer,a)},comparePairs:function(a,b){return 0},__class__:Xe};var Md=function(){this.aabb=new Db;this.id=Md.currentID++};
h["box2D.collision.B2DynamicTreeNode"]=Md;Md.__name__=["box2D","collision","B2DynamicTreeNode"];Md.prototype={isLeaf:function(){return null==this.child1},__class__:Md};var zh=function(){};h["box2D.collision.B2DynamicTreePair"]=zh;zh.__name__=["box2D","collision","B2DynamicTreePair"];zh.prototype={__class__:zh};var Nd=function(){this.m_pointCount=0;this.m_points=[];for(var a=0,b=x.b2_maxManifoldPoints;a<b;){var c=a++;this.m_points[c]=new Ah}this.m_localPlaneNormal=new w;this.m_localPoint=new w};h["box2D.collision.B2Manifold"]=
Nd;Nd.__name__=["box2D","collision","B2Manifold"];Nd.prototype={reset:function(){for(var a=0,b=x.b2_maxManifoldPoints;a<b;){var c=a++;this.m_points[c].reset()}this.m_localPlaneNormal.setZero();this.m_localPoint.setZero();this.m_type=Ka.CIRCLES;this.m_pointCount=0},set:function(a){this.m_pointCount=a.m_pointCount;for(var b=0,c=x.b2_maxManifoldPoints;b<c;){var d=b++;this.m_points[d].set(a.m_points[d])}this.m_localPlaneNormal.setV(a.m_localPlaneNormal);this.m_localPoint.setV(a.m_localPoint);this.m_type=
a.m_type},copy:function(){var a=new Nd;a.set(this);return a},__class__:Nd};var Ah=function(){this.m_localPoint=new w;this.m_id=new fd;this.reset()};h["box2D.collision.B2ManifoldPoint"]=Ah;Ah.__name__=["box2D","collision","B2ManifoldPoint"];Ah.prototype={reset:function(){this.m_localPoint.setZero();this.m_tangentImpulse=this.m_normalImpulse=0;this.m_id.set_key(0)},set:function(a){this.m_localPoint.setV(a.m_localPoint);this.m_normalImpulse=a.m_normalImpulse;this.m_tangentImpulse=a.m_tangentImpulse;
this.m_id.set(a.m_id)},__class__:Ah};var Ka=h["box2D.collision.B2ManifoldType"]={__ename__:["box2D","collision","B2ManifoldType"],__constructs__:["CIRCLES","FACE_A","FACE_B"]};Ka.CIRCLES=["CIRCLES",0];Ka.CIRCLES.toString=N;Ka.CIRCLES.__enum__=Ka;Ka.FACE_A=["FACE_A",1];Ka.FACE_A.toString=N;Ka.FACE_A.__enum__=Ka;Ka.FACE_B=["FACE_B",2];Ka.FACE_B.toString=N;Ka.FACE_B.__enum__=Ka;Ka.__empty_constructs__=[Ka.CIRCLES,Ka.FACE_A,Ka.FACE_B];var ui=function(){this.R=new ta;this.center=new w;this.extents=new w};
h["box2D.collision.B2OBB"]=ui;ui.__name__=["box2D","collision","B2OBB"];ui.prototype={__class__:ui};var We=function(a,b,c){null==c&&(c=1);this.p1=new w;this.p2=new w;null!=a&&this.p1.setV(a);null!=b&&this.p2.setV(b);this.maxFraction=c};h["box2D.collision.B2RayCastInput"]=We;We.__name__=["box2D","collision","B2RayCastInput"];We.prototype={__class__:We};var Bh=function(){this.normal=new w};h["box2D.collision.B2RayCastOutput"]=Bh;Bh.__name__=["box2D","collision","B2RayCastOutput"];Bh.prototype={__class__:Bh};
var Ch=function(){this.m_localPoint=new w;this.m_axis=new w};h["box2D.collision.B2SeparationFunction"]=Ch;Ch.__name__=["box2D","collision","B2SeparationFunction"];Ch.prototype={initialize:function(a,b,c,d,e){this.m_proxyA=b;this.m_proxyB=d;b=a.count;x.b2Assert(0<b&&3>b);var g=new w,l=new w,r,k;if(1==b)this.m_type=Oa.POINTS,g=this.m_proxyA.getVertex(a.indexA[0]),l=this.m_proxyB.getVertex(a.indexB[0]),k=g,r=c.R,g=c.position.x+(r.col1.x*k.x+r.col2.x*k.y),c=c.position.y+(r.col1.y*k.x+r.col2.y*k.y),k=
l,r=e.R,l=e.position.x+(r.col1.x*k.x+r.col2.x*k.y),e=e.position.y+(r.col1.y*k.x+r.col2.y*k.y),this.m_axis.x=l-g,this.m_axis.y=e-c,this.m_axis.normalize();else{if(a.indexB[0]==a.indexB[1])this.m_type=Oa.FACE_A,b=this.m_proxyA.getVertex(a.indexA[0]),d=this.m_proxyA.getVertex(a.indexA[1]),l=this.m_proxyB.getVertex(a.indexB[0]),this.m_localPoint.x=0.5*(b.x+d.x),this.m_localPoint.y=0.5*(b.y+d.y),this.m_axis=v.crossVF(v.subtractVV(d,b),1),this.m_axis.normalize(),k=this.m_axis,r=c.R,b=r.col1.x*k.x+r.col2.x*
k.y,d=r.col1.y*k.x+r.col2.y*k.y,k=this.m_localPoint,r=c.R,g=c.position.x+(r.col1.x*k.x+r.col2.x*k.y),c=c.position.y+(r.col1.y*k.x+r.col2.y*k.y),k=l,r=e.R,l=e.position.x+(r.col1.x*k.x+r.col2.x*k.y),e=e.position.y+(r.col1.y*k.x+r.col2.y*k.y),a=(l-g)*b+(e-c)*d;else if(a.indexA[0]==a.indexA[0])this.m_type=Oa.FACE_B,r=this.m_proxyB.getVertex(a.indexB[0]),k=this.m_proxyB.getVertex(a.indexB[1]),g=this.m_proxyA.getVertex(a.indexA[0]),this.m_localPoint.x=0.5*(r.x+k.x),this.m_localPoint.y=0.5*(r.y+k.y),this.m_axis=
v.crossVF(v.subtractVV(k,r),1),this.m_axis.normalize(),k=this.m_axis,r=e.R,b=r.col1.x*k.x+r.col2.x*k.y,d=r.col1.y*k.x+r.col2.y*k.y,k=this.m_localPoint,r=e.R,l=e.position.x+(r.col1.x*k.x+r.col2.x*k.y),e=e.position.y+(r.col1.y*k.x+r.col2.y*k.y),k=g,r=c.R,g=c.position.x+(r.col1.x*k.x+r.col2.x*k.y),c=c.position.y+(r.col1.y*k.x+r.col2.y*k.y),a=(g-l)*b+(c-e)*d;else{b=this.m_proxyA.getVertex(a.indexA[0]);d=this.m_proxyA.getVertex(a.indexA[1]);r=this.m_proxyB.getVertex(a.indexB[0]);k=this.m_proxyB.getVertex(a.indexB[1]);
v.mulX(c,g);g=v.mulMV(c.R,v.subtractVV(d,b));v.mulX(e,l);a=v.mulMV(e.R,v.subtractVV(k,r));e=g.x*g.x+g.y*g.y;c=a.x*a.x+a.y*a.y;var f=v.subtractVV(a,g),l=g.x*f.x+g.y*f.y,f=a.x*f.x+a.y*f.y,g=g.x*a.x+g.y*a.y,h=e*c-g*g;a=0;0!=h&&(a=v.clamp((g*f-l*c)/h,0,1));0>(g*a+f)/c&&(a=v.clamp((g-l)/e,0,1));g=new w;g.x=b.x+a*(d.x-b.x);g.y=b.y+a*(d.y-b.y);l=new w;l.x=r.x+a*(k.x-r.x);l.y=r.y+a*(k.y-r.y);0==a||1==a?(this.m_type=Oa.FACE_B,this.m_axis=v.crossVF(v.subtractVV(k,r),1),this.m_axis.normalize(),this.m_localPoint=
l):(this.m_type=Oa.FACE_A,this.m_axis=v.crossVF(v.subtractVV(d,b),1),this.m_localPoint=g)}0>a&&this.m_axis.negativeSelf()}},evaluate:function(a,b){var c,d,e;switch(this.m_type[1]){case 0:return c=v.mulTMV(a.R,this.m_axis),d=v.mulTMV(b.R,this.m_axis.getNegative()),c=this.m_proxyA.getSupportVertex(c),d=this.m_proxyB.getSupportVertex(d),c=v.mulX(a,c),d=v.mulX(b,d),e=(d.x-c.x)*this.m_axis.x+(d.y-c.y)*this.m_axis.y;case 1:return e=v.mulMV(a.R,this.m_axis),c=v.mulX(a,this.m_localPoint),d=v.mulTMV(b.R,e.getNegative()),
d=this.m_proxyB.getSupportVertex(d),d=v.mulX(b,d),e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;case 2:return e=v.mulMV(b.R,this.m_axis),d=v.mulX(b,this.m_localPoint),c=v.mulTMV(a.R,e.getNegative()),c=this.m_proxyA.getSupportVertex(c),c=v.mulX(a,c),e=(c.x-d.x)*e.x+(c.y-d.y)*e.y}},__class__:Ch};var Oa=h["box2D.collision.B2SeparationFunctionType"]={__ename__:["box2D","collision","B2SeparationFunctionType"],__constructs__:["POINTS","FACE_A","FACE_B"]};Oa.POINTS=["POINTS",0];Oa.POINTS.toString=N;Oa.POINTS.__enum__=Oa;
Oa.FACE_A=["FACE_A",1];Oa.FACE_A.toString=N;Oa.FACE_A.__enum__=Oa;Oa.FACE_B=["FACE_B",2];Oa.FACE_B.toString=N;Oa.FACE_B.__enum__=Oa;Oa.__empty_constructs__=[Oa.POINTS,Oa.FACE_A,Oa.FACE_B];var Dh=function(){this.indexA=[];this.indexB=[]};h["box2D.collision.B2SimplexCache"]=Dh;Dh.__name__=["box2D","collision","B2SimplexCache"];Dh.prototype={__class__:Dh};var Eh=function(){this.proxyA=new Ve;this.proxyB=new Ve;this.sweepA=new qc;this.sweepB=new qc};h["box2D.collision.B2TOIInput"]=Eh;Eh.__name__=["box2D",
"collision","B2TOIInput"];Eh.prototype={__class__:Eh};var Pb=function(a,b){this.position=new w;this.R=new ta;null!=a&&(this.position.setV(a),this.R.setM(b))};h["box2D.common.math.B2Transform"]=Pb;Pb.__name__=["box2D","common","math","B2Transform"];Pb.prototype={initialize:function(a,b){this.position.setV(a);this.R.setM(b)},setIdentity:function(){this.position.setZero();this.R.setIdentity()},set:function(a){this.position.setV(a.position);this.R.setM(a.R)},getAngle:function(){return Math.atan2(this.R.col1.y,
this.R.col1.x)},__class__:Pb};var ta=function(){this.col1=new w(0,1);this.col2=new w(0,1)};h["box2D.common.math.B2Mat22"]=ta;ta.__name__=["box2D","common","math","B2Mat22"];ta.fromAngle=function(a){var b=new ta;b.set(a);return b};ta.fromVV=function(a,b){var c=new ta;c.setVV(a,b);return c};ta.prototype={set:function(a){var b=Math.cos(a);a=Math.sin(a);this.col1.x=b;this.col2.x=-a;this.col1.y=a;this.col2.y=b},setVV:function(a,b){this.col1.setV(a);this.col2.setV(b)},copy:function(){var a=new ta;a.setM(this);
return a},setM:function(a){this.col1.setV(a.col1);this.col2.setV(a.col2)},addM:function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y},setIdentity:function(){this.col1.x=1;this.col2.x=0;this.col1.y=0;this.col2.y=1},setZero:function(){this.col1.x=0;this.col2.x=0;this.col1.y=0;this.col2.y=0},getAngle:function(){return Math.atan2(this.col1.y,this.col1.x)},getInverse:function(a){var b=this.col1.x,c=this.col2.x,d=this.col1.y,e=this.col2.y,g=b*e-c*d;0!=g&&(g=
1/g);a.col1.x=g*e;a.col2.x=-g*c;a.col1.y=-g*d;a.col2.y=g*b;return a},solve:function(a,b,c){var d=this.col1.x,e=this.col2.x,g=this.col1.y,l=this.col2.y,r=d*l-e*g;0!=r&&(r=1/r);a.x=r*(l*b-e*c);a.y=r*(d*c-g*b);return a},abs:function(){this.col1.abs();this.col2.abs()},__class__:ta};var W=function(){};h["box2D.collision.B2TimeOfImpact"]=W;W.__name__=["box2D","collision","B2TimeOfImpact"];W.timeOfImpact=function(a){++W.b2_toiCalls;var b=a.proxyA,c=a.proxyB,d=a.sweepA,e=a.sweepB;x.b2Assert(d.t0==e.t0);x.b2Assert(1-
d.t0>Number.MIN_VALUE);var g=b.m_radius+c.m_radius;a=a.tolerance;var l=0,r=0,k=0;W.s_cache.count=0;for(W.s_distanceInput.useRadii=!1;;){d.getTransform(W.s_xfA,l);e.getTransform(W.s_xfB,l);W.s_distanceInput.proxyA=b;W.s_distanceInput.proxyB=c;W.s_distanceInput.transformA=W.s_xfA;W.s_distanceInput.transformB=W.s_xfB;Eb.distance(W.s_distanceOutput,W.s_cache,W.s_distanceInput);if(0>=W.s_distanceOutput.distance){l=1;break}W.s_fcn.initialize(W.s_cache,b,W.s_xfA,c,W.s_xfB);var f=W.s_fcn.evaluate(W.s_xfA,
W.s_xfB);if(0>=f){l=1;break}0==r&&(k=f>g?v.max(g-a,0.75*g):v.max(f-a,0.02*g));if(f-k<0.5*a){if(0==r){l=1;break}break}var h=l,m=l,n=1;d.getTransform(W.s_xfA,n);e.getTransform(W.s_xfB,n);var q=W.s_fcn.evaluate(W.s_xfA,W.s_xfB);if(q>=k){l=1;break}for(var p=0;;){var s;s=0!=(p&1)?m+(k-f)*(n-m)/(q-f):0.5*(m+n);d.getTransform(W.s_xfA,s);e.getTransform(W.s_xfB,s);var t=W.s_fcn.evaluate(W.s_xfA,W.s_xfB);if(v.abs(t-k)<0.025*a){h=s;break}t>k?(m=s,f=t):(n=s,q=t);++p;++W.b2_toiRootIters;if(50==p)break}W.b2_toiMaxRootIters=
v.max(W.b2_toiMaxRootIters,p)|0;if(h<(1+100*Number.MIN_VALUE)*l)break;l=h;++r;++W.b2_toiIters;if(1E3==r)break}W.b2_toiMaxIters=v.max(W.b2_toiMaxIters,r)|0;return l};var Fh=function(){this.m_normal=new w;this.m_points=[];for(var a=0,b=x.b2_maxManifoldPoints;a<b;){var c=a++;this.m_points[c]=new w}};h["box2D.collision.B2WorldManifold"]=Fh;Fh.__name__=["box2D","collision","B2WorldManifold"];Fh.prototype={initialize:function(a,b,c,d,e){if(0!=a.m_pointCount){var g,l,r,k,f,h,m;switch(a.m_type[1]){case 0:l=
b.R;g=a.m_localPoint;r=b.position.x+l.col1.x*g.x+l.col2.x*g.y;k=b.position.y+l.col1.y*g.x+l.col2.y*g.y;l=d.R;g=a.m_points[0].m_localPoint;a=d.position.x+l.col1.x*g.x+l.col2.x*g.y;g=d.position.y+l.col1.y*g.x+l.col2.y*g.y;l=a-r;d=g-k;f=l*l+d*d;f>Number.MIN_VALUE*Number.MIN_VALUE?(f=Math.sqrt(f),this.m_normal.x=l/f,this.m_normal.y=d/f):(this.m_normal.x=1,this.m_normal.y=0);l=k+c*this.m_normal.y;g-=e*this.m_normal.y;this.m_points[0].x=0.5*(r+c*this.m_normal.x+(a-e*this.m_normal.x));this.m_points[0].y=
0.5*(l+g);break;case 1:l=b.R;g=a.m_localPlaneNormal;r=l.col1.x*g.x+l.col2.x*g.y;k=l.col1.y*g.x+l.col2.y*g.y;l=b.R;g=a.m_localPoint;f=b.position.x+l.col1.x*g.x+l.col2.x*g.y;h=b.position.y+l.col1.y*g.x+l.col2.y*g.y;this.m_normal.x=r;this.m_normal.y=k;b=0;for(var n=a.m_pointCount;b<n;){var q=b++;l=d.R;g=a.m_points[q].m_localPoint;m=d.position.x+l.col1.x*g.x+l.col2.x*g.y;g=d.position.y+l.col1.y*g.x+l.col2.y*g.y;this.m_points[q].x=m+0.5*(c-(m-f)*r-(g-h)*k-e)*r;this.m_points[q].y=g+0.5*(c-(m-f)*r-(g-h)*
k-e)*k}break;case 2:for(l=d.R,g=a.m_localPlaneNormal,r=l.col1.x*g.x+l.col2.x*g.y,k=l.col1.y*g.x+l.col2.y*g.y,l=d.R,g=a.m_localPoint,f=d.position.x+l.col1.x*g.x+l.col2.x*g.y,h=d.position.y+l.col1.y*g.x+l.col2.y*g.y,this.m_normal.x=-r,this.m_normal.y=-k,d=0,n=a.m_pointCount;d<n;)q=d++,l=b.R,g=a.m_points[q].m_localPoint,m=b.position.x+l.col1.x*g.x+l.col2.x*g.y,g=b.position.y+l.col1.y*g.x+l.col2.y*g.y,this.m_points[q].x=m+0.5*(e-(m-f)*r-(g-h)*k-c)*r,this.m_points[q].y=g+0.5*(e-(m-f)*r-(g-h)*k-c)*k}}},
__class__:Fh};var Pa=function(){this.m_type=ea.UNKNOWN_SHAPE;this.m_radius=x.b2_linearSlop};h["box2D.collision.shapes.B2Shape"]=Pa;Pa.__name__=["box2D","collision","shapes","B2Shape"];Pa.testOverlap=function(a,b,c,d){return!0};Pa.prototype={copy:function(){return null},set:function(a){this.m_radius=a.m_radius},getType:function(){return this.m_type},testPoint:function(a,b){return!1},rayCast:function(a,b,c){return!1},computeAABB:function(a,b){},computeMass:function(a,b){},computeSubmergedArea:function(a,
b,c,d){return 0},__class__:Pa};var Fb=function(a){null==a&&(a=0);Pa.call(this);this.m_p=new w;this.m_type=ea.CIRCLE_SHAPE;this.m_radius=a};h["box2D.collision.shapes.B2CircleShape"]=Fb;Fb.__name__=["box2D","collision","shapes","B2CircleShape"];Fb.__super__=Pa;Fb.prototype=q(Pa.prototype,{copy:function(){var a=new Fb;a.set(this);return a},set:function(a){Pa.prototype.set.call(this,a);H.__instanceof(a,Fb)&&(a=H.__cast(a,Fb),this.m_p.setV(a.m_p))},testPoint:function(a,b){var c=a.R,d=a.position.x+(c.col1.x*
this.m_p.x+c.col2.x*this.m_p.y),c=a.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y),d=b.x-d,c=b.y-c;return d*d+c*c<=this.m_radius*this.m_radius},rayCast:function(a,b,c){var d=c.R,e=b.p1.x-(c.position.x+(d.col1.x*this.m_p.x+d.col2.x*this.m_p.y));c=b.p1.y-(c.position.y+(d.col1.y*this.m_p.x+d.col2.y*this.m_p.y));var d=b.p2.x-b.p1.x,g=b.p2.y-b.p1.y,l=e*d+c*g,r=d*d+g*g,k=l*l-r*(e*e+c*c-this.m_radius*this.m_radius);if(0>k||r<Number.MIN_VALUE)return!1;l=-(l+Math.sqrt(k));return 0<=l&&l<=b.maxFraction*
r?(l/=r,a.fraction=l,a.normal.x=e+l*d,a.normal.y=c+l*g,a.normal.normalize(),!0):!1},computeAABB:function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y),c=b.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y);a.lowerBound.set(d-this.m_radius,c-this.m_radius);a.upperBound.set(d+this.m_radius,c+this.m_radius)},computeMass:function(a,b){a.mass=b*x.b2_pi*this.m_radius*this.m_radius;a.center.setV(this.m_p);a.I=a.mass*(0.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*
this.m_p.y))},computeSubmergedArea:function(a,b,c,d){c=v.mulX(c,this.m_p);var e=-(v.dot(a,c)-b);if(e<-this.m_radius+Number.MIN_VALUE)return 0;if(e>this.m_radius)return d.setV(c),Math.PI*this.m_radius*this.m_radius;b=this.m_radius*this.m_radius;var g=e*e,e=b*(Math.asin(e/this.m_radius)+Math.PI/2)+e*Math.sqrt(b-g);b=-0.6666666666666666*Math.pow(b-g,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e},getLocalPosition:function(){return this.m_p},setLocalPosition:function(a){this.m_p.setV(a)},getRadius:function(){return this.m_radius},
setRadius:function(a){this.m_radius=a},__class__:Fb});var gd=function(a,b){Pa.call(this);this.s_supportVec=new w;this.m_v1=new w;this.m_v2=new w;this.m_coreV1=new w;this.m_coreV2=new w;this.m_normal=new w;this.m_direction=new w;this.m_cornerDir1=new w;this.m_cornerDir2=new w;this.m_type=ea.EDGE_SHAPE;this.m_nextEdge=this.m_prevEdge=null;this.m_v1=a;this.m_v2=b;this.m_direction.set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y);this.m_length=this.m_direction.normalize();this.m_normal.set(this.m_direction.y,
-this.m_direction.x);this.m_coreV1.set(-x.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x,-x.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y);this.m_coreV2.set(-x.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-x.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y);this.m_cornerDir1=this.m_normal;this.m_cornerDir2.set(-this.m_normal.x,-this.m_normal.y)};h["box2D.collision.shapes.B2EdgeShape"]=gd;gd.__name__=["box2D","collision","shapes","B2EdgeShape"];
gd.__super__=Pa;gd.prototype=q(Pa.prototype,{testPoint:function(a,b){return!1},rayCast:function(a,b,c){var d,e=b.p2.x-b.p1.x,g=b.p2.y-b.p1.y;d=c.R;var l=c.position.x+(d.col1.x*this.m_v1.x+d.col2.x*this.m_v1.y),r=c.position.y+(d.col1.y*this.m_v1.x+d.col2.y*this.m_v1.y),k=c.position.y+(d.col1.y*this.m_v2.x+d.col2.y*this.m_v2.y)-r;c=-(c.position.x+(d.col1.x*this.m_v2.x+d.col2.x*this.m_v2.y)-l);d=100*Number.MIN_VALUE;var f=-(e*k+g*c);if(f>d){var l=b.p1.x-l,h=b.p1.y-r,r=l*k+h*c;if(0<=r&&r<=b.maxFraction*
f&&(b=-e*h+g*l,-d*f<=b&&b<=f*(1+d)))return a.fraction=r/f,b=Math.sqrt(k*k+c*c),a.normal.x=k/b,a.normal.y=c/b,!0}return!1},computeAABB:function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.m_v1.x+c.col2.x*this.m_v1.y),e=b.position.y+(c.col1.y*this.m_v1.x+c.col2.y*this.m_v1.y),g=b.position.x+(c.col1.x*this.m_v2.x+c.col2.x*this.m_v2.y),c=b.position.y+(c.col1.y*this.m_v2.x+c.col2.y*this.m_v2.y);d<g?(a.lowerBound.x=d,a.upperBound.x=g):(a.lowerBound.x=g,a.upperBound.x=d);e<c?(a.lowerBound.y=e,a.upperBound.y=
c):(a.lowerBound.y=c,a.upperBound.y=e)},computeMass:function(a,b){a.mass=0;a.center.setV(this.m_v1);a.I=0},computeSubmergedArea:function(a,b,c,d){var e=new w(a.x*b,a.y*b),g=v.mulX(c,this.m_v1);c=v.mulX(c,this.m_v2);var l=v.dot(a,g)-b;a=v.dot(a,c)-b;if(0<l){if(0<a)return 0;g.x=-a/(l-a)*g.x+l/(l-a)*c.x;g.y=-a/(l-a)*g.y+l/(l-a)*c.y}else 0<a&&(c.x=-a/(l-a)*g.x+l/(l-a)*c.x,c.y=-a/(l-a)*g.y+l/(l-a)*c.y);d.x=(e.x+g.x+c.x)/3;d.y=(e.y+g.y+c.y)/3;return 0.5*((g.x-e.x)*(c.y-e.y)-(g.y-e.y)*(c.x-e.x))},getLength:function(){return this.m_length},
getVertex1:function(){return this.m_v1},getVertex2:function(){return this.m_v2},getCoreVertex1:function(){return this.m_coreV1},getCoreVertex2:function(){return this.m_coreV2},getNormalVector:function(){return this.m_normal},getDirectionVector:function(){return this.m_direction},getCorner1Vector:function(){return this.m_cornerDir1},getCorner2Vector:function(){return this.m_cornerDir2},corner1IsConvex:function(){return this.m_cornerConvex1},corner2IsConvex:function(){return this.m_cornerConvex2},getFirstVertex:function(a){var b=
a.R;return new w(a.position.x+(b.col1.x*this.m_coreV1.x+b.col2.x*this.m_coreV1.y),a.position.y+(b.col1.y*this.m_coreV1.x+b.col2.y*this.m_coreV1.y))},getNextEdge:function(){return this.m_nextEdge},getPrevEdge:function(){return this.m_prevEdge},support:function(a,b,c){var d=a.R,e=a.position.x+(d.col1.x*this.m_coreV1.x+d.col2.x*this.m_coreV1.y),g=a.position.y+(d.col1.y*this.m_coreV1.x+d.col2.y*this.m_coreV1.y),l=a.position.x+(d.col1.x*this.m_coreV2.x+d.col2.x*this.m_coreV2.y);a=a.position.y+(d.col1.y*
this.m_coreV2.x+d.col2.y*this.m_coreV2.y);e*b+g*c>l*b+a*c?(this.s_supportVec.x=e,this.s_supportVec.y=g):(this.s_supportVec.x=l,this.s_supportVec.y=a);return this.s_supportVec},setPrevEdge:function(a,b,c,d){this.m_prevEdge=a;this.m_coreV1=b;this.m_cornerDir1=c;this.m_cornerConvex1=d},setNextEdge:function(a,b,c,d){this.m_nextEdge=a;this.m_coreV2=b;this.m_cornerDir2=c;this.m_cornerConvex2=d},__class__:gd});var Ye=function(){this.mass=0;this.center=new w(0,0);this.I=0};h["box2D.collision.shapes.B2MassData"]=
Ye;Ye.__name__=["box2D","collision","shapes","B2MassData"];Ye.prototype={__class__:Ye};var Ga=function(){Pa.call(this);this.m_type=ea.POLYGON_SHAPE;this.m_centroid=new w;this.m_vertices=[];this.m_normals=[]};h["box2D.collision.shapes.B2PolygonShape"]=Ga;Ga.__name__=["box2D","collision","shapes","B2PolygonShape"];Ga.asArray=function(a,b){var c=new Ga;c.setAsArray(a,b);return c};Ga.asVector=function(a,b){var c=new Ga;c.setAsVector(a,b);return c};Ga.asBox=function(a,b){var c=new Ga;c.setAsBox(a,b);return c};
Ga.asOrientedBox=function(a,b,c,d){null==d&&(d=0);var e=new Ga;e.setAsOrientedBox(a,b,c,d);return e};Ga.asEdge=function(a,b){var c=new Ga;c.setAsEdge(a,b);return c};Ga.computeCentroid=function(a,b){for(var c=new w,d=0,e=0;e<b;){var g=e++,l=a[g],g=g+1<b?a[g+1|0]:a[0],r=0.5*((l.x-0)*(g.y-0)-(l.y-0)*(g.x-0)),d=d+r;c.x+=0.3333333333333333*r*(0+l.x+g.x);c.y+=0.3333333333333333*r*(0+l.y+g.y)}c.x*=1/d;c.y*=1/d;return c};Ga.computeOBB=function(a,b,c){for(var d=[],e=0;e<c;){var g=e++;d[g]=b[g]}d[c]=d[0];b=
Number.MAX_VALUE;e=1;for(g=c+1;e<g;){for(var l=e++,r=d[l-1|0],k=d[l].x-r.x,f=d[l].y-r.y,l=Math.sqrt(k*k+f*f),k=k/l,f=f/l,h=-f,m=k,n=l=Number.MAX_VALUE,q=-Number.MAX_VALUE,p=-Number.MAX_VALUE,v=0,s=c;v<s;){var t=v++,u=d[t].x-r.x,w=d[t].y-r.y,t=k*u+f*w,u=h*u+m*w;t<l&&(l=t);u<n&&(n=u);t>q&&(q=t);u>p&&(p=u)}v=(q-l)*(p-n);v<0.95*b&&(b=v,a.R.col1.x=k,a.R.col1.y=f,a.R.col2.x=h,a.R.col2.y=m,k=0.5*(l+q),f=0.5*(n+p),h=a.R,a.center.x=r.x+(h.col1.x*k+h.col2.x*f),a.center.y=r.y+(h.col1.y*k+h.col2.y*f),a.extents.x=
0.5*(q-l),a.extents.y=0.5*(p-n))}};Ga.__super__=Pa;Ga.prototype=q(Pa.prototype,{copy:function(){var a=new Ga;a.set(this);return a},set:function(a){Pa.prototype.set.call(this,a);if(H.__instanceof(a,Ga)){a=H.__cast(a,Ga);this.m_centroid.setV(a.m_centroid);this.m_vertexCount=a.m_vertexCount;this.reserve(this.m_vertexCount);for(var b=0,c=this.m_vertexCount;b<c;){var d=b++;this.m_vertices[d].setV(a.m_vertices[d]);this.m_normals[d].setV(a.m_normals[d])}}},setAsArray:function(a,b){null==b&&(b=0);for(var c=
[],d=0;d<a.length;){var e=a[d];++d;c.push(e)}this.setAsVector(c,b)},setAsVector:function(a,b){null==b&&(b=0);0==b&&(b=a.length);x.b2Assert(2<=b);this.m_vertexCount=b|0;this.reserve(b|0);for(var c=0,d=this.m_vertexCount;c<d;){var e=c++;this.m_vertices[e].setV(a[e])}c=0;for(d=this.m_vertexCount;c<d;){var e=c++,g=v.subtractVV(this.m_vertices[e+1<this.m_vertexCount?e+1:0],this.m_vertices[e]);x.b2Assert(g.lengthSquared()>Number.MIN_VALUE);this.m_normals[e].setV(v.crossVF(g,1));this.m_normals[e].normalize()}this.m_centroid=
Ga.computeCentroid(this.m_vertices,this.m_vertexCount)},setAsBox:function(a,b){this.m_vertexCount=4;this.reserve(4);this.m_vertices[0].set(-a,-b);this.m_vertices[1].set(a,-b);this.m_vertices[2].set(a,b);this.m_vertices[3].set(-a,b);this.m_normals[0].set(0,-1);this.m_normals[1].set(1,0);this.m_normals[2].set(0,1);this.m_normals[3].set(-1,0);this.m_centroid.setZero()},setAsOrientedBox:function(a,b,c,d){null==d&&(d=0);this.m_vertexCount=4;this.reserve(4);this.m_vertices[0].set(-a,-b);this.m_vertices[1].set(a,
-b);this.m_vertices[2].set(a,b);this.m_vertices[3].set(-a,b);this.m_normals[0].set(0,-1);this.m_normals[1].set(1,0);this.m_normals[2].set(0,1);this.m_normals[3].set(-1,0);this.m_centroid=c;a=new Pb;a.position=c;a.R.set(d);c=0;for(d=this.m_vertexCount;c<d;)b=c++,this.m_vertices[b]=v.mulX(a,this.m_vertices[b]),this.m_normals[b]=v.mulMV(a.R,this.m_normals[b])},setAsEdge:function(a,b){this.m_vertexCount=2;this.reserve(2);this.m_vertices[0].setV(a);this.m_vertices[1].setV(b);this.m_centroid.x=0.5*(a.x+
b.x);this.m_centroid.y=0.5*(a.y+b.y);this.m_normals[0]=v.crossVF(v.subtractVV(b,a),1);this.m_normals[0].normalize();this.m_normals[1].x=-this.m_normals[0].x;this.m_normals[1].y=-this.m_normals[0].y},testPoint:function(a,b){var c;c=a.R;for(var d=b.x-a.position.x,e=b.y-a.position.y,g=d*c.col1.x+e*c.col1.y,l=d*c.col2.x+e*c.col2.y,r=0,k=this.m_vertexCount;r<k;){var f=r++;c=this.m_vertices[f];d=g-c.x;e=l-c.y;c=this.m_normals[f];if(0<c.x*d+c.y*e)return!1}return!0},rayCast:function(a,b,c){var d=0,e=b.maxFraction,
g,l,r,k;g=b.p1.x-c.position.x;l=b.p1.y-c.position.y;r=c.R;var f=g*r.col1.x+l*r.col1.y,h=g*r.col2.x+l*r.col2.y;g=b.p2.x-c.position.x;l=b.p2.y-c.position.y;r=c.R;b=g*r.col1.x+l*r.col1.y-f;r=g*r.col2.x+l*r.col2.y-h;for(var m=-1,n=0,q=this.m_vertexCount;n<q;){var p=n++;k=this.m_vertices[p];g=k.x-f;l=k.y-h;k=this.m_normals[p];g=k.x*g+k.y*l;l=k.x*b+k.y*r;if(0==l){if(0>g)return!1}else 0>l&&g<d*l?(d=g/l,m=p):0<l&&g<e*l&&(e=g/l);if(e<d-Number.MIN_VALUE)return!1}return 0<=m?(a.fraction=d,r=c.R,k=this.m_normals[m],
a.normal.x=r.col1.x*k.x+r.col2.x*k.y,a.normal.y=r.col1.y*k.x+r.col2.y*k.y,!0):!1},computeAABB:function(a,b){for(var c=b.R,d=this.m_vertices[0],e=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),g=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),l=e,r=g,k=1,f=this.m_vertexCount;k<f;){var h=k++,d=this.m_vertices[h],h=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),d=b.position.y+(c.col1.y*d.x+c.col2.y*d.y);e<h||(e=h);g<d||(g=d);l>h||(l=h);r>d||(r=d)}a.lowerBound.x=e-this.m_radius;a.lowerBound.y=g-this.m_radius;a.upperBound.x=
l+this.m_radius;a.upperBound.y=r+this.m_radius},computeMass:function(a,b){if(2==this.m_vertexCount)a.center.x=0.5*(this.m_vertices[0].x+this.m_vertices[1].x),a.center.y=0.5*(this.m_vertices[0].y+this.m_vertices[1].y),a.mass=0,a.I=0;else{for(var c=0,d=0,e=0,g=0,l=0,r=this.m_vertexCount;l<r;)var k=l++,f=this.m_vertices[k],h=k+1<this.m_vertexCount?this.m_vertices[k+1|0]:this.m_vertices[0],m=f.x-0,n=f.y-0,q=h.x-0,p=h.y-0,k=m*p-n*q,v=0.5*k,e=e+v,c=c+0.3333333333333333*v*(0+f.x+h.x),d=d+0.3333333333333333*
v*(0+f.y+h.y),f=m,g=g+k*(0.3333333333333333*(0.25*(f*f+q*f+q*q)+(0*f+0*q))+0+(0.3333333333333333*(0.25*(n*n+p*n+p*p)+(0*n+0*p))+0));a.mass=b*e;a.center.set(c*(1/e),d*(1/e));a.I=b*g}},computeSubmergedArea:function(a,b,c,d){var e=v.mulTMV(c.R,a),g=b-v.dot(a,c.position),l=[],r=0;a=b=-1;for(var k=!1,f=0,h=this.m_vertexCount;f<h;){var m=f++;l[m]=v.dot(e,this.m_vertices[m])-g;var n=l[m]<-Number.MIN_VALUE;0<m&&(n?k||(b=m-1,++r):k&&(a=m-1,++r));k=n}switch(r){case 0:return k?(a=new Ye,this.computeMass(a,1),
d.setV(v.mulX(c,a.center)),a.mass):0;case 1:-1==b?b=this.m_vertexCount-1:a=this.m_vertexCount-1}g=(b+1)%this.m_vertexCount;e=(a+1)%this.m_vertexCount;r=(0-l[b])/(l[g]-l[b]);l=(0-l[a])/(l[e]-l[a]);b=new w(this.m_vertices[b].x*(1-r)+this.m_vertices[g].x*r,this.m_vertices[b].y*(1-r)+this.m_vertices[g].y*r);a=new w(this.m_vertices[a].x*(1-l)+this.m_vertices[e].x*l,this.m_vertices[a].y*(1-l)+this.m_vertices[e].y*l);l=0;r=new w;for(k=this.m_vertices[g];g!=e;)g=(g+1)%this.m_vertexCount,f=g==e?a:this.m_vertices[g],
h=0.5*((k.x-b.x)*(f.y-b.y)-(k.y-b.y)*(f.x-b.x)),l+=h,r.x+=h*(b.x+k.x+f.x)/3,r.y+=h*(b.y+k.y+f.y)/3,k=f;r.multiply(1/l);d.setV(v.mulX(c,r));return l},getVertexCount:function(){return this.m_vertexCount},getVertices:function(){return this.m_vertices},getNormals:function(){return this.m_normals},getSupport:function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1,e=this.m_vertexCount;d<e;){var g=d++,l=this.m_vertices[g].x*a.x+this.m_vertices[g].y*a.y;l>c&&(b=g,c=l)}return b},getSupportVertex:function(a){for(var b=
0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1,e=this.m_vertexCount;d<e;){var g=d++,l=this.m_vertices[g].x*a.x+this.m_vertices[g].y*a.y;l>c&&(b=g,c=l)}return this.m_vertices[b]},validate:function(){return!1},reserve:function(a){for(var b=this.m_vertices.length;b<a;){var c=b++;this.m_vertices[c]=new w;this.m_normals[c]=new w}},__class__:Ga});var ea=h["box2D.collision.shapes.B2ShapeType"]={__ename__:["box2D","collision","shapes","B2ShapeType"],__constructs__:["UNKNOWN_SHAPE","CIRCLE_SHAPE",
"POLYGON_SHAPE","EDGE_SHAPE"]};ea.UNKNOWN_SHAPE=["UNKNOWN_SHAPE",0];ea.UNKNOWN_SHAPE.toString=N;ea.UNKNOWN_SHAPE.__enum__=ea;ea.CIRCLE_SHAPE=["CIRCLE_SHAPE",1];ea.CIRCLE_SHAPE.toString=N;ea.CIRCLE_SHAPE.__enum__=ea;ea.POLYGON_SHAPE=["POLYGON_SHAPE",2];ea.POLYGON_SHAPE.toString=N;ea.POLYGON_SHAPE.__enum__=ea;ea.EDGE_SHAPE=["EDGE_SHAPE",3];ea.EDGE_SHAPE.toString=N;ea.EDGE_SHAPE.__enum__=ea;ea.__empty_constructs__=[ea.UNKNOWN_SHAPE,ea.CIRCLE_SHAPE,ea.POLYGON_SHAPE,ea.EDGE_SHAPE];var Ze=function(a,b,
c){this._r=255*v.clamp(a,0,1)|0;this._g=255*v.clamp(b,0,1)|0;this._b=255*v.clamp(c,0,1)|0};h["box2D.common.B2Color"]=Ze;Ze.__name__=["box2D","common","B2Color"];Ze.prototype={set:function(a,b,c){this._r=255*v.clamp(a,0,1)|0;this._g=255*v.clamp(b,0,1)|0;this._b=255*v.clamp(c,0,1)|0},toHex:function(){return"#"+this.componentToHex(this._r)+this.componentToHex(this._g)+this.componentToHex(this._b)},componentToHex:function(a){a=a.toString(16);return"1"==a.length?"0"+a:a},set_r:function(a){return this._r=
255*v.clamp(a,0,1)|0},set_g:function(a){return this._g=255*v.clamp(a,0,1)|0},set_b:function(a){return this._b=255*v.clamp(a,0,1)|0},get_r:function(){return this._r},get_g:function(){return this._g},get_b:function(){return this._b},get_color:function(){return this._r<<16|this._g<<8|this._b},__class__:Ze,__properties__:{get_color:"get_color",set_b:"set_b",set_g:"set_g",set_r:"set_r"}};var x=function(){};h["box2D.common.B2Settings"]=x;x.__name__=["box2D","common","B2Settings"];x.b2MixFriction=function(a,
b){return Math.sqrt(a*b)};x.b2MixRestitution=function(a,b){return a>b?a:b};x.b2Assert=function(a){if(!a)throw new G("Assertion Failed");};var Jc=function(a,b,c){this.col1=new kb;this.col2=new kb;this.col3=new kb;null==a&&null==b&&null==c?(this.col1.setZero(),this.col2.setZero(),this.col3.setZero()):(this.col1.setV(a),this.col2.setV(b),this.col3.setV(c))};h["box2D.common.math.B2Mat33"]=Jc;Jc.__name__=["box2D","common","math","B2Mat33"];Jc.prototype={setVVV:function(a,b,c){this.col1.setV(a);this.col2.setV(b);
this.col3.setV(c)},copy:function(){return new Jc(this.col1,this.col2,this.col3)},setM:function(a){this.col1.setV(a.col1);this.col2.setV(a.col2);this.col3.setV(a.col3)},addM:function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col1.z+=a.col1.z;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y;this.col2.z+=a.col2.z;this.col3.x+=a.col3.x;this.col3.y+=a.col3.y;this.col3.z+=a.col3.z},setIdentity:function(){this.col1.x=1;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=1;this.col3.y=0;this.col1.z=
0;this.col2.z=0;this.col3.z=1},setZero:function(){this.col1.x=0;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=0;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=0},solve22:function(a,b,c){var d=this.col1.x,e=this.col2.x,g=this.col1.y,l=this.col2.y,r=d*l-e*g;0!=r&&(r=1/r);a.x=r*(l*b-e*c);a.y=r*(d*c-g*b);return a},solve33:function(a,b,c,d){var e=this.col1.x,g=this.col1.y,l=this.col1.z,r=this.col2.x,k=this.col2.y,f=this.col2.z,h=this.col3.x,m=this.col3.y,n=this.col3.z,q=e*(k*n-f*m)+g*(f*
h-r*n)+l*(r*m-k*h);0!=q&&(q=1/q);a.x=q*(b*(k*n-f*m)+c*(f*h-r*n)+d*(r*m-k*h));a.y=q*(e*(c*n-d*m)+g*(d*h-b*n)+l*(b*m-c*h));a.z=q*(e*(k*d-f*c)+g*(f*b-r*d)+l*(r*c-k*b));return a},__class__:Jc};var v=function(){};h["box2D.common.math.B2Math"]=v;v.__name__=["box2D","common","math","B2Math"];v.__properties__={get_MAX_VALUE:"get_MAX_VALUE",get_MIN_VALUE:"get_MIN_VALUE"};v.isValid=function(a){return isNaN(a)||-Infinity==a||Infinity==a?!1:!0};v.dot=function(a,b){return a.x*b.x+a.y*b.y};v.crossVV=function(a,
b){return a.x*b.y-a.y*b.x};v.crossVF=function(a,b){return new w(b*a.y,-b*a.x)};v.crossFV=function(a,b){return new w(-a*b.y,a*b.x)};v.mulMV=function(a,b){return new w(a.col1.x*b.x+a.col2.x*b.y,a.col1.y*b.x+a.col2.y*b.y)};v.mulTMV=function(a,b){return new w(v.dot(b,a.col1),v.dot(b,a.col2))};v.mulX=function(a,b){var c=v.mulMV(a.R,b);c.x+=a.position.x;c.y+=a.position.y;return c};v.mulXT=function(a,b){var c=v.subtractVV(b,a.position),d=c.x*a.R.col1.x+c.y*a.R.col1.y;c.y=c.x*a.R.col2.x+c.y*a.R.col2.y;c.x=
d;return c};v.addVV=function(a,b){return new w(a.x+b.x,a.y+b.y)};v.subtractVV=function(a,b){return new w(a.x-b.x,a.y-b.y)};v.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};v.distanceSquared=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};v.mulFV=function(a,b){return new w(a*b.x,a*b.y)};v.addMM=function(a,b){return ta.fromVV(v.addVV(a.col1,b.col1),v.addVV(a.col2,b.col2))};v.mulMM=function(a,b){return ta.fromVV(v.mulMV(a,b.col1),v.mulMV(a,b.col2))};v.mulTMM=function(a,
b){var c=new w(v.dot(a.col1,b.col1),v.dot(a.col2,b.col1)),d=new w(v.dot(a.col1,b.col2),v.dot(a.col2,b.col2));return ta.fromVV(c,d)};v.abs=function(a){return 0<a?a:-a};v.absV=function(a){return new w(v.abs(a.x),v.abs(a.y))};v.absM=function(a){return ta.fromVV(v.absV(a.col1),v.absV(a.col2))};v.min=function(a,b){return a<b?a:b};v.minV=function(a,b){return new w(v.min(a.x,b.x),v.min(a.y,b.y))};v.max=function(a,b){return a>b?a:b};v.maxV=function(a,b){return new w(v.max(a.x,b.x),v.max(a.y,b.y))};v.clamp=
function(a,b,c){return a<b?b:a>c?c:a};v.clampV=function(a,b,c){return v.maxV(b,v.minV(a,c))};v.swap=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};v.random=function(){return 2*Math.random()-1};v.randomRange=function(a,b){var c=Math.random();return(b-a)*c+a};v.nextPowerOfTwo=function(a){a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};v.isPowerOfTwo=function(a){return 0<a&&0==(a&a-1)};v.get_MIN_VALUE=function(){return Number.MIN_VALUE};v.get_MAX_VALUE=function(){return Number.MAX_VALUE};
var qc=function(){this.localCenter=new w;this.c0=new w;this.c=new w};h["box2D.common.math.B2Sweep"]=qc;qc.__name__=["box2D","common","math","B2Sweep"];qc.prototype={set:function(a){this.localCenter.setV(a.localCenter);this.c0.setV(a.c0);this.c.setV(a.c);this.a0=a.a0;this.a=a.a;this.t0=a.t0},copy:function(){var a=new qc;a.localCenter.setV(this.localCenter);a.c0.setV(this.c0);a.c.setV(this.c);a.a0=this.a0;a.a=this.a;a.t0=this.t0;return a},getTransform:function(a,b){a.position.x=(1-b)*this.c0.x+b*this.c.x;
a.position.y=(1-b)*this.c0.y+b*this.c.y;a.R.set((1-b)*this.a0+b*this.a);var c=a.R;a.position.x-=c.col1.x*this.localCenter.x+c.col2.x*this.localCenter.y;a.position.y-=c.col1.y*this.localCenter.x+c.col2.y*this.localCenter.y},advance:function(a){if(this.t0<a&&1-this.t0>Number.MIN_VALUE){var b=(a-this.t0)/(1-this.t0);this.c0.x=(1-b)*this.c0.x+b*this.c.x;this.c0.y=(1-b)*this.c0.y+b*this.c.y;this.a0=(1-b)*this.a0+b*this.a;this.t0=a}},__class__:qc};var kb=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==
a&&(a=0);this.x=a;this.y=b;this.z=c};h["box2D.common.math.B2Vec3"]=kb;kb.__name__=["box2D","common","math","B2Vec3"];kb.prototype={setZero:function(){this.x=this.y=this.z=0},set:function(a,b,c){this.x=a;this.y=b;this.z=c},setV:function(a){this.x=a.x;this.y=a.y;this.z=a.z},getNegative:function(){return new kb(-this.x,-this.y,-this.z)},negativeSelf:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z},copy:function(){return new kb(this.x,this.y,this.z)},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=
a.z},subtract:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z},multiply:function(a){this.x*=a;this.y*=a;this.z*=a},__class__:kb};var E=function(a,b){this.m_xf=new Pb;this.m_sweep=new qc;this.m_linearVelocity=new w;this.m_force=new w;this.m_flags=0;a.bullet&&(this.m_flags|=E.e_bulletFlag);a.fixedRotation&&(this.m_flags|=E.e_fixedRotationFlag);a.allowSleep&&(this.m_flags|=E.e_allowSleepFlag);a.awake&&(this.m_flags|=E.e_awakeFlag);a.active&&(this.m_flags|=E.e_activeFlag);this.m_world=b;this.m_xf.position.setV(a.position);
this.m_xf.R.set(a.angle);this.m_sweep.localCenter.setZero();this.m_sweep.t0=1;this.m_sweep.a0=this.m_sweep.a=a.angle;var c=this.m_xf.R,d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+c.col2.x*d.y;this.m_sweep.c.y=c.col1.y*d.x+c.col2.y*d.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.setV(this.m_sweep.c);this.m_contactList=this.m_controllerList=this.m_jointList=null;this.m_controllerCount=0;this.m_next=this.m_prev=null;this.m_linearVelocity.setV(a.linearVelocity);
this.m_angularVelocity=a.angularVelocity;this.m_linearDamping=a.linearDamping;this.m_angularDamping=a.angularDamping;this.m_force.set(0,0);this.m_sleepTime=this.m_torque=0;this.m_type=a.type;this.m_invMass=this.m_type==E.b2_dynamicBody?this.m_mass=1:this.m_mass=0;this.m_invI=this.m_I=0;this.m_inertiaScale=a.inertiaScale;this.m_userData=a.userData;this.m_fixtureList=null;this.m_fixtureCount=0};h["box2D.dynamics.B2Body"]=E;E.__name__=["box2D","dynamics","B2Body"];E.prototype={connectEdges:function(a,
b,c){var d=Math.atan2(b.getDirectionVector().y,b.getDirectionVector().x);c=Math.tan(0.5*(d-c));c=v.mulFV(c,b.getDirectionVector());c=v.subtractVV(c,b.getNormalVector());c=v.mulFV(x.b2_toiSlop,c);c=v.addVV(c,b.getVertex1());var e=v.addVV(a.getDirectionVector(),b.getDirectionVector());e.normalize();var g=0<v.dot(a.getDirectionVector(),b.getNormalVector());a.setNextEdge(b,c,e,g);b.setPrevEdge(a,c,e,g);return d},createFixture:function(a){if(!0==this.m_world.isLocked())return null;var b=new dc;b.create(this,
this.m_xf,a);0!=(this.m_flags&E.e_activeFlag)&&b.createProxy(this.m_world.m_contactManager.m_broadPhase,this.m_xf);b.m_next=this.m_fixtureList;this.m_fixtureList=b;++this.m_fixtureCount;b.m_body=this;0<b.m_density&&this.resetMassData();this.m_world.m_flags|=pa.e_newFixture;return b},createFixture2:function(a,b){null==b&&(b=0);var c=new Gh;c.shape=a;c.density=b;return this.createFixture(c)},DestroyFixture:function(a){if(!0!=this.m_world.isLocked()){for(var b=this.m_fixtureList,c=null;null!=b;){if(b==
a){null!=c?c.m_next=a.m_next:this.m_fixtureList=a.m_next;break}c=b;b=b.m_next}for(b=this.m_contactList;null!=b;){var c=b.contact,b=b.next,d=c.getFixtureA(),e=c.getFixtureB();a!=d&&a!=e||this.m_world.m_contactManager.destroy(c)}0!=(this.m_flags&E.e_activeFlag)&&a.destroyProxy(this.m_world.m_contactManager.m_broadPhase);a.destroy();a.m_body=null;a.m_next=null;--this.m_fixtureCount;this.resetMassData()}},setPositionAndAngle:function(a,b){var c;if(!0!=this.m_world.isLocked()){this.m_xf.R.set(b);this.m_xf.position.setV(a);
c=this.m_xf.R;var d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+c.col2.x*d.y;this.m_sweep.c.y=c.col1.y*d.x+c.col2.y*d.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.setV(this.m_sweep.c);this.m_sweep.a0=this.m_sweep.a=b;d=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;null!=c;)c.synchronize(d,this.m_xf,this.m_xf),c=c.m_next;this.m_world.m_contactManager.findNewContacts()}},setTransform:function(a){this.setPositionAndAngle(a.position,
a.getAngle())},getTransform:function(){return this.m_xf},getPosition:function(){return this.m_xf.position},setPosition:function(a){this.setPositionAndAngle(a,this.getAngle())},getAngle:function(){return this.m_sweep.a},setAngle:function(a){this.setPositionAndAngle(this.getPosition(),a)},getWorldCenter:function(){return this.m_sweep.c},getLocalCenter:function(){return this.m_sweep.localCenter},setLinearVelocity:function(a){this.m_type!=E.b2_staticBody&&this.m_linearVelocity.setV(a)},getLinearVelocity:function(){return this.m_linearVelocity},
setAngularVelocity:function(a){this.m_type!=E.b2_staticBody&&(this.m_angularVelocity=a)},getAngularVelocity:function(){return this.m_angularVelocity},getDefinition:function(){var a=new $e;a.type=this.getType();a.allowSleep=(this.m_flags&E.e_allowSleepFlag)==E.e_allowSleepFlag;a.angle=this.getAngle();a.angularDamping=this.m_angularDamping;a.angularVelocity=this.m_angularVelocity;a.fixedRotation=(this.m_flags&E.e_fixedRotationFlag)==E.e_fixedRotationFlag;a.bullet=(this.m_flags&E.e_bulletFlag)==E.e_bulletFlag;
a.awake=(this.m_flags&E.e_awakeFlag)==E.e_awakeFlag;a.linearDamping=this.m_linearDamping;a.linearVelocity.setV(this.getLinearVelocity());a.position=this.getPosition();a.userData=this.getUserData();return a},applyForce:function(a,b){this.m_type==E.b2_dynamicBody&&(!1==this.isAwake()&&this.setAwake(!0),this.m_force.x+=a.x,this.m_force.y+=a.y,this.m_torque+=(b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x)},applyTorque:function(a){this.m_type==E.b2_dynamicBody&&(!1==this.isAwake()&&this.setAwake(!0),
this.m_torque+=a)},applyImpulse:function(a,b){this.m_type==E.b2_dynamicBody&&(!1==this.isAwake()&&this.setAwake(!0),this.m_linearVelocity.x+=this.m_invMass*a.x,this.m_linearVelocity.y+=this.m_invMass*a.y,this.m_angularVelocity+=this.m_invI*((b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x))},split:function(a){for(var b=this.getLinearVelocity().copy(),c=this.getAngularVelocity(),d=this.getWorldCenter(),e=this.m_world.createBody(this.getDefinition()),g=null,l=this.m_fixtureList;null!=l;)if(a(l)){var r=
l.m_next;null!=g?g.m_next=r:this.m_fixtureList=r;this.m_fixtureCount--;l.m_next=e.m_fixtureList;e.m_fixtureList=l;e.m_fixtureCount++;l.m_body=e;l=r}else g=l,l=l.m_next;this.resetMassData();e.resetMassData();g=this.getWorldCenter();a=e.getWorldCenter();g=v.addVV(b,v.crossFV(c,v.subtractVV(g,d)));b=v.addVV(b,v.crossFV(c,v.subtractVV(a,d)));this.setLinearVelocity(g);e.setLinearVelocity(b);this.setAngularVelocity(c);e.setAngularVelocity(c);this.synchronizeFixtures();e.synchronizeFixtures();return e},
merge:function(a){for(var b=a.m_fixtureList;null!=b;){var c=b.m_next;a.m_fixtureCount--;b.m_next=this.m_fixtureList;this.m_fixtureList=b;this.m_fixtureCount++;b.m_body=a;b=c}this.m_fixtureCount=0;this.getWorldCenter();a.getWorldCenter();this.getLinearVelocity().copy();a.getLinearVelocity().copy();this.getAngularVelocity();a.getAngularVelocity();this.resetMassData();this.synchronizeFixtures()},getMass:function(){return this.m_mass},getInertia:function(){return this.m_I},getMassData:function(a){a.mass=
this.m_mass;a.I=this.m_I;a.center.setV(this.m_sweep.localCenter)},setMassData:function(a){x.b2Assert(!1==this.m_world.isLocked());if(!0!=this.m_world.isLocked()&&this.m_type==E.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0;this.m_mass=a.mass;0>=this.m_mass&&(this.m_mass=1);this.m_invMass=1/this.m_mass;0<a.I&&0==(this.m_flags&E.e_fixedRotationFlag)&&(this.m_I=a.I-this.m_mass*(a.center.x*a.center.x+a.center.y*a.center.y),this.m_invI=1/this.m_I);var b=this.m_sweep.c.copy();this.m_sweep.localCenter.setV(a.center);
this.m_sweep.c0.setV(v.mulX(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.setV(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y+=this.m_angularVelocity*(this.m_sweep.c.x-b.x)}},resetMassData:function(){this.m_invI=this.m_I=this.m_invMass=this.m_mass=0;this.m_sweep.localCenter.setZero();if(this.m_type!=E.b2_staticBody&&this.m_type!=E.b2_kinematicBody){for(var a=w.make(0,0),b=this.m_fixtureList;null!=b;)if(0!=b.m_density){var c=b.getMassData();
this.m_mass+=c.mass;a.x+=c.center.x*c.mass;a.y+=c.center.y*c.mass;this.m_I+=c.I;b=b.m_next}0<this.m_mass?(this.m_invMass=1/this.m_mass,a.x*=this.m_invMass,a.y*=this.m_invMass):this.m_invMass=this.m_mass=1;0<this.m_I&&0==(this.m_flags&E.e_fixedRotationFlag)?(this.m_I-=this.m_mass*(a.x*a.x+a.y*a.y),this.m_I*=this.m_inertiaScale,x.b2Assert(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0;b=this.m_sweep.c.copy();this.m_sweep.localCenter.setV(a);this.m_sweep.c0.setV(v.mulX(this.m_xf,this.m_sweep.localCenter));
this.m_sweep.c.setV(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y+=this.m_angularVelocity*(this.m_sweep.c.x-b.x)}},getWorldPoint:function(a){var b=this.m_xf.R;a=new w(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return a},getWorldVector:function(a){return v.mulMV(this.m_xf.R,a)},getLocalPoint:function(a){return v.mulXT(this.m_xf,a)},getLocalVector:function(a){return v.mulTMV(this.m_xf.R,
a)},getLinearVelocityFromWorldPoint:function(a){return new w(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))},getLinearVelocityFromLocalPoint:function(a){var b=this.m_xf.R;a=new w(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return new w(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*
(a.x-this.m_sweep.c.x))},getLinearDamping:function(){return this.m_linearDamping},setLinearDamping:function(a){this.m_linearDamping=a},getAngularDamping:function(){return this.m_angularDamping},setAngularDamping:function(a){this.m_angularDamping=a},setType:function(a){if(this.m_type!=a)for(this.m_type=a,this.resetMassData(),this.m_type==E.b2_staticBody&&(this.m_linearVelocity.setZero(),this.m_angularVelocity=0),this.setAwake(!0),this.m_force.setZero(),this.m_torque=0,a=this.m_contactList;null!=a;)a.contact.flagForFiltering(),
a=a.next},getType:function(){return this.m_type},setBullet:function(a){this.m_flags=a?this.m_flags|E.e_bulletFlag:this.m_flags&~E.e_bulletFlag},isBullet:function(){return(this.m_flags&E.e_bulletFlag)==E.e_bulletFlag},setSleepingAllowed:function(a){a?this.m_flags|=E.e_allowSleepFlag:(this.m_flags&=~E.e_allowSleepFlag,this.setAwake(!0))},setAwake:function(a){a?(this.m_flags|=E.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~E.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.setZero(),this.m_angularVelocity=
0,this.m_force.setZero(),this.m_torque=0)},isAwake:function(){return(this.m_flags&E.e_awakeFlag)==E.e_awakeFlag},setFixedRotation:function(a){this.m_flags=a?this.m_flags|E.e_fixedRotationFlag:this.m_flags&~E.e_fixedRotationFlag;this.resetMassData()},isFixedRotation:function(){return(this.m_flags&E.e_fixedRotationFlag)==E.e_fixedRotationFlag},setActive:function(a){if(a!=this.isActive()){var b;if(a)for(this.m_flags|=E.e_activeFlag,a=this.m_world.m_contactManager.m_broadPhase,b=this.m_fixtureList;null!=
b;)b.createProxy(a,this.m_xf),b=b.m_next;else{this.m_flags&=~E.e_activeFlag;a=this.m_world.m_contactManager.m_broadPhase;for(b=this.m_fixtureList;null!=b;)b.destroyProxy(a),b=b.m_next;for(a=this.m_contactList;null!=a;)b=a,a=a.next,this.m_world.m_contactManager.destroy(b.contact);this.m_contactList=null}}},isActive:function(){return(this.m_flags&E.e_activeFlag)==E.e_activeFlag},isSleepingAllowed:function(){return(this.m_flags&E.e_allowSleepFlag)==E.e_allowSleepFlag},getFixtureList:function(){return this.m_fixtureList},
getJointList:function(){return this.m_jointList},getControllerList:function(){return this.m_controllerList},getContactList:function(){return this.m_contactList},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},setUserData:function(a){this.m_userData=a},getWorld:function(){return this.m_world},synchronizeFixtures:function(){var a=E.s_xf1;a.R.set(this.m_sweep.a0);var b=a.R,c=this.m_sweep.localCenter;a.position.x=this.m_sweep.c0.x-(b.col1.x*c.x+b.col2.x*c.y);a.position.y=
this.m_sweep.c0.y-(b.col1.y*c.x+b.col2.y*c.y);c=this.m_world.m_contactManager.m_broadPhase;for(b=this.m_fixtureList;null!=b;)b.synchronize(c,a,this.m_xf),b=b.m_next},synchronizeTransform:function(){this.m_xf.R.set(this.m_sweep.a);var a=this.m_xf.R,b=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(a.col1.x*b.x+a.col2.x*b.y);this.m_xf.position.y=this.m_sweep.c.y-(a.col1.y*b.x+a.col2.y*b.y)},shouldCollide:function(a){if(this.m_type!=E.b2_dynamicBody&&a.m_type!=E.b2_dynamicBody)return!1;
for(var b=this.m_jointList;null!=b;){if(b.other==a&&!1==b.joint.m_collideConnected)return!1;b=b.next}return!0},advance:function(a){this.m_sweep.advance(a);this.m_sweep.c.setV(this.m_sweep.c0);this.m_sweep.a=this.m_sweep.a0;this.synchronizeTransform()},__class__:E};var $e=function(){this.position=new w;this.linearVelocity=new w;this.userData=null;this.angularDamping=this.linearDamping=this.angularVelocity=this.angle=0;this.awake=this.allowSleep=!0;this.bullet=this.fixedRotation=!1;this.type=E.b2_staticBody;
this.active=!0;this.inertiaScale=1};h["box2D.dynamics.B2BodyDef"]=$e;$e.__name__=["box2D","dynamics","B2BodyDef"];$e.prototype={__class__:$e};var Od=function(){};h["box2D.dynamics.B2ContactFilter"]=Od;Od.__name__=["box2D","dynamics","B2ContactFilter"];Od.prototype={shouldCollide:function(a,b){var c=a.getFilterData(),d=b.getFilterData();return c.groupIndex==d.groupIndex&&0!=c.groupIndex?0<c.groupIndex:0!=(c.maskBits&d.categoryBits)&&0!=(c.categoryBits&d.maskBits)},rayCollide:function(a,b){return null==
a?!0:this.shouldCollide(H.__cast(a,dc),b)},__class__:Od};var Hh=function(){this.normalImpulses=[];this.tangentImpulses=[]};h["box2D.dynamics.B2ContactImpulse"]=Hh;Hh.__name__=["box2D","dynamics","B2ContactImpulse"];Hh.prototype={__class__:Hh};var Lb=function(){};h["box2D.dynamics.B2ContactListener"]=Lb;Lb.__name__=["box2D","dynamics","B2ContactListener"];Lb.prototype={beginContact:function(a){},endContact:function(a){},preSolve:function(a,b){},postSolve:function(a,b){},__class__:Lb};var af=function(){this.m_world=
null;this.m_contactCount=0;this.m_contactFilter=Od.b2_defaultFilter;this.m_contactListener=Lb.b2_defaultListener;this.m_contactFactory=new Ih(this.m_allocator);this.m_broadPhase=new Xe};h["box2D.dynamics.B2ContactManager"]=af;af.__name__=["box2D","dynamics","B2ContactManager"];af.prototype={addPair:function(a,b){var c=H.__cast(a,dc),d=H.__cast(b,dc),e=c.getBody(),g=d.getBody();if(e!=g){for(var l=g.getContactList();null!=l;){if(l.other==e){var r=l.contact.getFixtureA(),k=l.contact.getFixtureB();if(r==
c&&k==d||r==d&&k==c)return}l=l.next}!1!=g.shouldCollide(e)&&!1!=this.m_contactFilter.shouldCollide(c,d)&&(l=this.m_contactFactory.create(c,d),c=l.getFixtureA(),d=l.getFixtureB(),e=c.m_body,g=d.m_body,l.m_prev=null,l.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=l),this.m_world.m_contactList=l,l.m_nodeA.contact=l,l.m_nodeA.other=g,l.m_nodeA.prev=null,l.m_nodeA.next=e.m_contactList,null!=e.m_contactList&&(e.m_contactList.prev=l.m_nodeA),e.m_contactList=
l.m_nodeA,l.m_nodeB.contact=l,l.m_nodeB.other=e,l.m_nodeB.prev=null,l.m_nodeB.next=g.m_contactList,null!=g.m_contactList&&(g.m_contactList.prev=l.m_nodeB),g.m_contactList=l.m_nodeB,++this.m_world.m_contactCount)}},findNewContacts:function(){this.m_broadPhase.updatePairs(B(this,this.addPair))},destroy:function(a){var b=a.getFixtureA(),c=a.getFixtureB(),b=b.getBody(),c=c.getBody();a.isTouching()&&this.m_contactListener.endContact(a);null!=a.m_prev&&(a.m_prev.m_next=a.m_next);null!=a.m_next&&(a.m_next.m_prev=
a.m_prev);a==this.m_world.m_contactList&&(this.m_world.m_contactList=a.m_next);null!=a.m_nodeA.prev&&(a.m_nodeA.prev.next=a.m_nodeA.next);null!=a.m_nodeA.next&&(a.m_nodeA.next.prev=a.m_nodeA.prev);a.m_nodeA==b.m_contactList&&(b.m_contactList=a.m_nodeA.next);null!=a.m_nodeB.prev&&(a.m_nodeB.prev.next=a.m_nodeB.next);null!=a.m_nodeB.next&&(a.m_nodeB.next.prev=a.m_nodeB.prev);a.m_nodeB==c.m_contactList&&(c.m_contactList=a.m_nodeB.next);this.m_contactFactory.destroy(a);--this.m_contactCount},collide:function(){for(var a=
this.m_world.m_contactList;null!=a;){var b=a.getFixtureA(),c=a.getFixtureB(),d=b.getBody(),e=c.getBody();if(!1==d.isAwake()&&!1==e.isAwake())a=a.getNext();else{if(0!=(a.m_flags&K.e_filterFlag)){if(!1==e.shouldCollide(d)){b=a;a=b.getNext();this.destroy(b);continue}if(!1==this.m_contactFilter.shouldCollide(b,c)){b=a;a=b.getNext();this.destroy(b);continue}a.m_flags&=~K.e_filterFlag}!1==this.m_broadPhase.testOverlap(b.m_proxy,c.m_proxy)?(b=a,a=b.getNext(),this.destroy(b)):(a.update(this.m_contactListener),
a=a.getNext())}}},__class__:af};var fb=function(){this.m_xformScale=this.m_fillAlpha=this.m_alpha=this.m_lineThickness=this.m_drawScale=1;this.m_drawFlags=0};h["box2D.dynamics.B2DebugDraw"]=fb;fb.__name__=["box2D","dynamics","B2DebugDraw"];fb.prototype={setFlags:function(a){this.m_drawFlags=a},getFlags:function(){return this.m_drawFlags},appendFlags:function(a){this.m_drawFlags|=a},clearFlags:function(a){this.m_drawFlags&=~a},setSprite:function(a){this.m_sprite=a},getSprite:function(){return this.m_sprite},
setDrawScale:function(a){this.m_drawScale=a},getDrawScale:function(){return this.m_drawScale},setLineThickness:function(a){this.m_lineThickness=a},getLineThickness:function(){return this.m_lineThickness},setAlpha:function(a){this.m_alpha=a},getAlpha:function(){return this.m_alpha},setFillAlpha:function(a){this.m_fillAlpha=a},getFillAlpha:function(){return this.m_fillAlpha},setXFormScale:function(a){this.m_xformScale=a},getXFormScale:function(){return this.m_xformScale},drawPolygon:function(a,b,c){console.log("drawPolygon()");
this.m_sprite.lineWidth=this.m_lineThickness;this.m_sprite.strokeStyle=c.toHex();this.m_sprite.globalAlpha=this.m_alpha;this.m_sprite.beginPath();this.m_sprite.moveTo(a[0].x*this.m_drawScale,a[0].y*this.m_drawScale);for(c=1;c<b;){var d=c++;this.m_sprite.lineTo(a[d].x*this.m_drawScale,a[d].y*this.m_drawScale)}this.m_sprite.lineTo(a[0].x*this.m_drawScale,a[0].y*this.m_drawScale);this.m_sprite.stroke()},drawSolidPolygon:function(a,b,c){this.m_sprite.lineWidth=this.m_lineThickness;this.m_sprite.strokeStyle=
c.toHex();this.m_sprite.globalAlpha=this.m_alpha;this.m_sprite.beginPath();this.m_sprite.moveTo(a[0].x*this.m_drawScale,a[0].y*this.m_drawScale);c="rgba("+c.get_r()+","+c.get_g()+","+c.get_b()+","+this.m_fillAlpha;this.m_sprite.fillStyle=c+")";for(c=1;c<b;){var d=c++;this.m_sprite.lineTo(a[d].x*this.m_drawScale,a[d].y*this.m_drawScale)}this.m_sprite.lineTo(a[0].x*this.m_drawScale,a[0].y*this.m_drawScale);this.m_sprite.stroke();this.m_sprite.fill()},drawCircle:function(a,b,c){this.m_sprite.lineWidth=
this.m_lineThickness;this.m_sprite.strokeStyle=c.toHex();this.m_sprite.globalAlpha=this.m_alpha;this.m_sprite.beginPath();this.m_sprite.arc(a.x*this.m_drawScale,a.y*this.m_drawScale,b*this.m_drawScale,0,2*Math.PI,!1);this.m_sprite.stroke()},drawSolidCircle:function(a,b,c,d){this.m_sprite.lineWidth=this.m_lineThickness;this.m_sprite.strokeStyle=d.toHex();this.m_sprite.globalAlpha=this.m_alpha;this.m_sprite.beginPath();c="rgba("+d.get_r()+","+d.get_g()+","+d.get_b()+","+this.m_fillAlpha;this.m_sprite.fillStyle=
c+")";this.m_sprite.arc(a.x*this.m_drawScale,a.y*this.m_drawScale,b*this.m_drawScale,0,2*Math.PI,!1);this.m_sprite.stroke();this.m_sprite.fill()},drawSegment:function(a,b,c){this.m_sprite.lineWidth=this.m_lineThickness;this.m_sprite.strokeStyle=c.toHex();this.m_sprite.globalAlpha=this.m_alpha;this.m_sprite.beginPath();this.m_sprite.moveTo(a.x*this.m_drawScale,a.y*this.m_drawScale);this.m_sprite.lineTo(b.x*this.m_drawScale,b.y*this.m_drawScale);this.m_sprite.stroke()},drawTransform:function(a){this.m_sprite.lineWidth=
this.m_lineThickness;this.m_sprite.strokeStyle="#FF0000";this.m_sprite.globalAlpha=this.m_alpha;this.m_sprite.beginPath();this.m_sprite.moveTo(a.position.x*this.m_drawScale,a.position.y*this.m_drawScale);this.m_sprite.lineTo((a.position.x+this.m_xformScale*a.R.col1.x)*this.m_drawScale,(a.position.y+this.m_xformScale*a.R.col1.y)*this.m_drawScale);this.m_sprite.lineWidth=this.m_lineThickness;this.m_sprite.strokeStyle="#00FF00";this.m_sprite.globalAlpha=this.m_alpha;this.m_sprite.moveTo(a.position.x*
this.m_drawScale,a.position.y*this.m_drawScale);this.m_sprite.lineTo((a.position.x+this.m_xformScale*a.R.col2.x)*this.m_drawScale,(a.position.y+this.m_xformScale*a.R.col2.y)*this.m_drawScale);this.m_sprite.stroke()},__class__:fb};var vi=function(){};h["box2D.dynamics.B2DestructionListener"]=vi;vi.__name__=["box2D","dynamics","B2DestructionListener"];vi.prototype={sayGoodbyeJoint:function(a){},sayGoodbyeFixture:function(a){},__class__:vi};var Pd=function(){this.categoryBits=1;this.maskBits=65535;this.groupIndex=
0};h["box2D.dynamics.B2FilterData"]=Pd;Pd.__name__=["box2D","dynamics","B2FilterData"];Pd.prototype={copy:function(){var a=new Pd;a.categoryBits=this.categoryBits;a.maskBits=this.maskBits;a.groupIndex=this.groupIndex;return a},__class__:Pd};var dc=function(){this.m_filter=new Pd;this.m_aabb=new Db;this.m_shape=this.m_next=this.m_body=this.m_userData=null;this.m_restitution=this.m_friction=this.m_density=0};h["box2D.dynamics.B2Fixture"]=dc;dc.__name__=["box2D","dynamics","B2Fixture"];dc.prototype=
{getType:function(){return this.m_shape.getType()},getShape:function(){return this.m_shape},setSensor:function(a){if(this.m_isSensor!=a&&(this.m_isSensor=a,null!=this.m_body))for(a=this.m_body.getContactList();null!=a;){var b=a.contact,c=b.getFixtureA(),d=b.getFixtureB();c!=this&&d!=this||b.setSensor(c.isSensor()||d.isSensor());a=a.next}},isSensor:function(){return this.m_isSensor},setFilterData:function(a){this.m_filter=a.copy();if(null==this.m_body)for(a=this.m_body.getContactList();null!=a;){var b=
a.contact,c=b.getFixtureA(),d=b.getFixtureB();c!=this&&d!=this||b.flagForFiltering();a=a.next}},getFilterData:function(){return this.m_filter.copy()},getBody:function(){return this.m_body},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},SetUserData:function(a){this.m_userData=a},testPoint:function(a){return this.m_shape.testPoint(this.m_body.getTransform(),a)},rayCast:function(a,b){return this.m_shape.rayCast(a,b,this.m_body.getTransform())},getMassData:function(a){null==
a&&(a=new Ye);this.m_shape.computeMass(a,this.m_density);return a},setDensity:function(a){this.m_density=a},getDensity:function(){return this.m_density},getFriction:function(){return this.m_friction},setFriction:function(a){this.m_friction=a},getRestitution:function(){return this.m_restitution},setRestitution:function(a){this.m_restitution=a},getAABB:function(){return this.m_aabb},create:function(a,b,c){this.m_userData=c.userData;this.m_friction=c.friction;this.m_restitution=c.restitution;this.m_body=
a;this.m_next=null;this.m_filter=c.filter.copy();this.m_isSensor=c.isSensor;this.m_shape=c.shape.copy();this.m_density=c.density},destroy:function(){this.m_shape=null},createProxy:function(a,b){this.m_shape.computeAABB(this.m_aabb,b);this.m_proxy=a.createProxy(this.m_aabb,this)},destroyProxy:function(a){null!=this.m_proxy&&(a.destroyProxy(this.m_proxy),this.m_proxy=null)},synchronize:function(a,b,c){if(null!=this.m_proxy){var d=new Db,e=new Db;this.m_shape.computeAABB(d,b);this.m_shape.computeAABB(e,
c);this.m_aabb.combine(d,e);b=v.subtractVV(c.position,b.position);a.moveProxy(this.m_proxy,this.m_aabb,b)}},__class__:dc};var Gh=function(){this.filter=new Pd;this.userData=this.shape=null;this.friction=0.2;this.density=this.restitution=0;this.filter.categoryBits=1;this.filter.maskBits=65535;this.filter.groupIndex=0;this.isSensor=!1};h["box2D.dynamics.B2FixtureDef"]=Gh;Gh.__name__=["box2D","dynamics","B2FixtureDef"];Gh.prototype={__class__:Gh};var Kc=function(){this.m_bodies=[];this.m_contacts=[];
this.m_joints=[]};h["box2D.dynamics.B2Island"]=Kc;Kc.__name__=["box2D","dynamics","B2Island"];Kc.prototype={initialize:function(a,b,c,d,e,g){this.m_bodyCapacity=a;this.m_contactCapacity=b;this.m_jointCapacity=c;this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;this.m_allocator=d;this.m_listener=e;this.m_contactSolver=g;for(d=this.m_bodies.length;d<a;)e=d++,this.m_bodies[e]=null;for(a=this.m_contacts.length;a<b;)d=a++,this.m_contacts[d]=null;for(b=this.m_joints.length;b<c;)a=b++,this.m_joints[a]=
null},clear:function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0},solve:function(a,b,c){for(var d,e=0,g=this.m_bodyCount;e<g;)d=e++,d=this.m_bodies[d],d.getType()==E.b2_dynamicBody&&(d.m_linearVelocity.x+=a.dt*(b.x+d.m_invMass*d.m_force.x),d.m_linearVelocity.y+=a.dt*(b.y+d.m_invMass*d.m_force.y),d.m_angularVelocity+=a.dt*d.m_invI*d.m_torque,d.m_linearVelocity.multiply(v.clamp(1-a.dt*d.m_linearDamping,0,1)),d.m_angularVelocity*=v.clamp(1-a.dt*d.m_angularDamping,0,1));this.m_contactSolver.initialize(a,
this.m_contacts,this.m_contactCount,this.m_allocator);b=this.m_contactSolver;b.initVelocityConstraints(a);e=0;for(g=this.m_jointCount;e<g;)d=e++,d=this.m_joints[d],d.initVelocityConstraints(a);e=0;for(g=a.velocityIterations;e<g;){e++;for(var l=0,r=this.m_jointCount;l<r;)d=l++,d=this.m_joints[d],d.solveVelocityConstraints(a);b.solveVelocityConstraints()}e=0;for(g=this.m_jointCount;e<g;)d=e++,d=this.m_joints[d],d.finalizeVelocityConstraints();b.finalizeVelocityConstraints();e=0;for(g=this.m_bodyCount;e<
g;)d=e++,d=this.m_bodies[d],d.getType()!=E.b2_staticBody&&(l=a.dt*d.m_linearVelocity.x,r=a.dt*d.m_linearVelocity.y,l*l+r*r>x.b2_maxTranslationSquared&&(d.m_linearVelocity.normalize(),d.m_linearVelocity.x*=x.b2_maxTranslation*a.inv_dt,d.m_linearVelocity.y*=x.b2_maxTranslation*a.inv_dt),l=a.dt*d.m_angularVelocity,l*l>x.b2_maxRotationSquared&&(d.m_angularVelocity=0>d.m_angularVelocity?-x.b2_maxRotation*a.inv_dt:x.b2_maxRotation*a.inv_dt),d.m_sweep.c0.setV(d.m_sweep.c),d.m_sweep.a0=d.m_sweep.a,d.m_sweep.c.x+=
a.dt*d.m_linearVelocity.x,d.m_sweep.c.y+=a.dt*d.m_linearVelocity.y,d.m_sweep.a+=a.dt*d.m_angularVelocity,d.synchronizeTransform());e=0;for(g=a.positionIterations;e<g;){e++;for(var l=b.solvePositionConstraints(x.b2_contactBaumgarte),r=!0,k=0,f=this.m_jointCount;k<f;)d=k++,d=this.m_joints[d],d=d.solvePositionConstraints(x.b2_contactBaumgarte),r=r?d:!1;if(l&&r)break}this.report(b.m_constraints);if(c){c=Number.MAX_VALUE;b=x.b2_linearSleepTolerance*x.b2_linearSleepTolerance;e=x.b2_angularSleepTolerance*
x.b2_angularSleepTolerance;g=0;for(l=this.m_bodyCount;g<l;)d=g++,d=this.m_bodies[d],d.getType()!=E.b2_staticBody&&(0==(d.m_flags&E.e_allowSleepFlag)&&(c=d.m_sleepTime=0),0==(d.m_flags&E.e_allowSleepFlag)||d.m_angularVelocity*d.m_angularVelocity>e||v.dot(d.m_linearVelocity,d.m_linearVelocity)>b?c=d.m_sleepTime=0:(d.m_sleepTime+=a.dt,c=v.min(c,d.m_sleepTime)));if(c>=x.b2_timeToSleep)for(a=0,c=this.m_bodyCount;a<c;)b=a++,d=this.m_bodies[b],d.setAwake(!1)}},solveTOI:function(a){this.m_contactSolver.initialize(a,
this.m_contacts,this.m_contactCount,this.m_allocator);for(var b=this.m_contactSolver,c=0,d=this.m_jointCount;c<d;){var e=c++;this.m_joints[e].initVelocityConstraints(a)}c=0;for(d=a.velocityIterations;c<d;){c++;b.solveVelocityConstraints();for(var e=0,g=this.m_jointCount;e<g;){var l=e++;this.m_joints[l].solveVelocityConstraints(a)}}c=0;for(d=this.m_bodyCount;c<d;)e=c++,e=this.m_bodies[e],e.getType()!=E.b2_staticBody&&(g=a.dt*e.m_linearVelocity.x,l=a.dt*e.m_linearVelocity.y,g*g+l*l>x.b2_maxTranslationSquared&&
(e.m_linearVelocity.normalize(),e.m_linearVelocity.x*=x.b2_maxTranslation*a.inv_dt,e.m_linearVelocity.y*=x.b2_maxTranslation*a.inv_dt),g=a.dt*e.m_angularVelocity,g*g>x.b2_maxRotationSquared&&(e.m_angularVelocity=0>e.m_angularVelocity?-x.b2_maxRotation*a.inv_dt:x.b2_maxRotation*a.inv_dt),e.m_sweep.c0.setV(e.m_sweep.c),e.m_sweep.a0=e.m_sweep.a,e.m_sweep.c.x+=a.dt*e.m_linearVelocity.x,e.m_sweep.c.y+=a.dt*e.m_linearVelocity.y,e.m_sweep.a+=a.dt*e.m_angularVelocity,e.synchronizeTransform());c=0;for(a=a.positionIterations;c<
a;){c++;d=b.solvePositionConstraints(0.75);e=!0;g=0;for(l=this.m_jointCount;g<l;)var r=g++,r=this.m_joints[r].solvePositionConstraints(x.b2_contactBaumgarte),e=e?r:!1;if(d&&e)break}this.report(b.m_constraints)},report:function(a){if(null!=this.m_listener)for(var b=0,c=this.m_contactCount;b<c;){for(var d=b++,e=this.m_contacts[d],d=a[d],g=0,l=d.pointCount;g<l;){var r=g++;Kc.s_impulse.normalImpulses[r]=d.points[r].normalImpulse;Kc.s_impulse.tangentImpulses[r]=d.points[r].tangentImpulse}this.m_listener.postSolve(e,
Kc.s_impulse)}},addBody:function(a){a.m_islandIndex=this.m_bodyCount;this.m_bodies[this.m_bodyCount++]=a},addContact:function(a){this.m_contacts[this.m_contactCount++]=a},addJoint:function(a){this.m_joints[this.m_jointCount++]=a},__class__:Kc};var Qd=function(){};h["box2D.dynamics.B2TimeStep"]=Qd;Qd.__name__=["box2D","dynamics","B2TimeStep"];Qd.prototype={set:function(a){this.dt=a.dt;this.inv_dt=a.inv_dt;this.positionIterations=a.positionIterations;this.velocityIterations=a.velocityIterations;this.warmStarting=
a.warmStarting},__class__:Qd};var pa=function(a,b){this.s_stack=[];this.m_contactManager=new af;this.m_contactSolver=new Ya;this.m_island=new Kc;this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.m_debugDraw=this.m_destructionListener=null;this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;pa.m_warmStarting=!0;pa.m_continuousPhysics=!0;this.m_allowSleep=b;this.m_gravity=a;this.m_inv_dt0=0;this.m_contactManager.m_world=this;var c=new $e;this.m_groundBody=
this.createBody(c)};h["box2D.dynamics.B2World"]=pa;pa.__name__=["box2D","dynamics","B2World"];pa.prototype={setDestructionListener:function(a){this.m_destructionListener=a},setContactFilter:function(a){this.m_contactManager.m_contactFilter=a},setContactListener:function(a){this.m_contactManager.m_contactListener=a},setDebugDraw:function(a){this.m_debugDraw=a},setBroadPhase:function(a){var b=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=a;for(var c=this.m_bodyList;null!=c;){for(var d=
c.m_fixtureList;null!=d;)d.m_proxy=a.createProxy(b.getFatAABB(d.m_proxy),d),d=d.m_next;c=c.m_next}},validate:function(){this.m_contactManager.m_broadPhase.validate()},getProxyCount:function(){return this.m_contactManager.m_broadPhase.getProxyCount()},createBody:function(a){if(!0==this.isLocked())return null;a=new E(a,this);a.m_prev=null;a.m_next=this.m_bodyList;null!=this.m_bodyList&&(this.m_bodyList.m_prev=a);this.m_bodyList=a;++this.m_bodyCount;return a},destroyBody:function(a){if(!0!=this.isLocked()){for(var b=
a.m_jointList;null!=b;){var c=b,b=b.next;null!=this.m_destructionListener&&this.m_destructionListener.sayGoodbyeJoint(c.joint);this.destroyJoint(c.joint)}for(b=a.m_controllerList;null!=b;)c=b,b=b.nextController,c.controller.removeBody(a);for(b=a.m_contactList;null!=b;)c=b,b=b.next,this.m_contactManager.destroy(c.contact);a.m_contactList=null;for(b=a.m_fixtureList;null!=b;)c=b,b=b.m_next,null!=this.m_destructionListener&&this.m_destructionListener.sayGoodbyeFixture(c),c.destroyProxy(this.m_contactManager.m_broadPhase),
c.destroy();a.m_fixtureList=null;a.m_fixtureCount=0;null!=a.m_prev&&(a.m_prev.m_next=a.m_next);null!=a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_bodyList&&(this.m_bodyList=a.m_next);--this.m_bodyCount}},createJoint:function(a){var b=qa.create(a,null);b.m_prev=null;b.m_next=this.m_jointList;null!=this.m_jointList&&(this.m_jointList.m_prev=b);this.m_jointList=b;++this.m_jointCount;b.m_edgeA.joint=b;b.m_edgeA.other=b.m_bodyB;b.m_edgeA.prev=null;b.m_edgeA.next=b.m_bodyA.m_jointList;null!=b.m_bodyA.m_jointList&&
(b.m_bodyA.m_jointList.prev=b.m_edgeA);b.m_bodyA.m_jointList=b.m_edgeA;b.m_edgeB.joint=b;b.m_edgeB.other=b.m_bodyA;b.m_edgeB.prev=null;b.m_edgeB.next=b.m_bodyB.m_jointList;null!=b.m_bodyB.m_jointList&&(b.m_bodyB.m_jointList.prev=b.m_edgeB);b.m_bodyB.m_jointList=b.m_edgeB;var c=a.bodyA,d=a.bodyB;if(!1==a.collideConnected)for(a=d.getContactList();null!=a;)a.other==c&&a.contact.flagForFiltering(),a=a.next;return b},destroyJoint:function(a){var b=a.m_collideConnected;null!=a.m_prev&&(a.m_prev.m_next=
a.m_next);null!=a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_jointList&&(this.m_jointList=a.m_next);var c=a.m_bodyA,d=a.m_bodyB;c.setAwake(!0);d.setAwake(!0);null!=a.m_edgeA.prev&&(a.m_edgeA.prev.next=a.m_edgeA.next);null!=a.m_edgeA.next&&(a.m_edgeA.next.prev=a.m_edgeA.prev);a.m_edgeA==c.m_jointList&&(c.m_jointList=a.m_edgeA.next);a.m_edgeA.prev=null;a.m_edgeA.next=null;null!=a.m_edgeB.prev&&(a.m_edgeB.prev.next=a.m_edgeB.next);null!=a.m_edgeB.next&&(a.m_edgeB.next.prev=a.m_edgeB.prev);a.m_edgeB==
d.m_jointList&&(d.m_jointList=a.m_edgeB.next);a.m_edgeB.prev=null;a.m_edgeB.next=null;qa.destroy(a,null);--this.m_jointCount;if(!1==b)for(a=d.getContactList();null!=a;)a.other==c&&a.contact.flagForFiltering(),a=a.next},addController:function(a){a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList=a;a.m_world=this;this.m_controllerCount++;return a},removeController:function(a){null!=a.m_prev&&(a.m_prev.m_next=a.m_next);null!=a.m_next&&(a.m_next.m_prev=a.m_prev);this.m_controllerList==
a&&(this.m_controllerList=a.m_next);this.m_controllerCount--},createController:function(a){if(a.m_world!=this)throw new G("Controller can only be a member of one world");a.m_next=this.m_controllerList;a.m_prev=null;null!=this.m_controllerList&&(this.m_controllerList.m_prev=a);this.m_controllerList=a;++this.m_controllerCount;a.m_world=this;return a},destroyController:function(a){a.clear();null!=a.m_next&&(a.m_next.m_prev=a.m_prev);null!=a.m_prev&&(a.m_prev.m_next=a.m_next);a==this.m_controllerList&&
(this.m_controllerList=a.m_next);--this.m_controllerCount},setWarmStarting:function(a){pa.m_warmStarting=a},setContinuousPhysics:function(a){pa.m_continuousPhysics=a},getBodyCount:function(){return this.m_bodyCount},getJointCount:function(){return this.m_jointCount},getContactCount:function(){return this.m_contactCount},setGravity:function(a){this.m_gravity=a},getGravity:function(){return this.m_gravity},getGroundBody:function(){return this.m_groundBody},step:function(a,b,c){0!=(this.m_flags&pa.e_newFixture)&&
(this.m_contactManager.findNewContacts(),this.m_flags&=~pa.e_newFixture);this.m_flags|=pa.e_locked;var d=pa.s_timestep2;d.dt=a;d.velocityIterations=b;d.positionIterations=c;d.inv_dt=0<a?1/a:0;d.dtRatio=this.m_inv_dt0*a;d.warmStarting=pa.m_warmStarting;this.m_contactManager.collide();0<d.dt&&this.solve(d);pa.m_continuousPhysics&&0<d.dt&&this.solveTOI(d);0<d.dt&&(this.m_inv_dt0=d.inv_dt);this.m_flags&=~pa.e_locked},clearForces:function(){for(var a=this.m_bodyList;null!=a;)a.m_force.setZero(),a.m_torque=
0,a=a.m_next},drawDebugData:function(){if(null!=this.m_debugDraw){var a=this.m_debugDraw.getFlags(),b,c,d;new w;new w;new w;var e;new Db;new Db;e=[new w,new w,new w,new w];var g=new Ze(0,0,0);if(0!=(a&fb.e_shapeBit))for(b=this.m_bodyList;null!=b;){e=b.m_xf;for(c=b.getFixtureList();null!=c;)d=c.getShape(),!1==b.isActive()?g.set(0.5,0.5,0.3):b.getType()==E.b2_staticBody?g.set(0.5,0.9,0.5):b.getType()==E.b2_kinematicBody?g.set(0.5,0.5,0.9):!1==b.isAwake()?g.set(0.6,0.6,0.6):g.set(0.9,0.7,0.7),this.drawShape(d,
e,g),c=c.m_next;b=b.m_next}if(0!=(a&fb.e_jointBit))for(b=this.m_jointList;null!=b;)this.drawJoint(b),b=b.m_next;if(0!=(a&fb.e_controllerBit))for(b=this.m_controllerList;null!=b;)b.draw(this.m_debugDraw),b=b.m_next;if(0!=(a&fb.e_pairBit))for(g.set(0.3,0.9,0.9),b=this.m_contactManager.m_contactList;null!=b;)d=b.getFixtureA(),c=b.getFixtureB(),d=d.getAABB().getCenter(),c=c.getAABB().getCenter(),this.m_debugDraw.drawSegment(d,c,g),b=b.getNext();if(0!=(a&fb.e_aabbBit))for(d=this.m_contactManager.m_broadPhase,
e=[new w,new w,new w,new w],b=this.m_bodyList;null!=b;){if(!1!=b.isActive())for(c=b.getFixtureList();null!=c;){var l=d.getFatAABB(c.m_proxy);e[0].set(l.lowerBound.x,l.lowerBound.y);e[1].set(l.upperBound.x,l.lowerBound.y);e[2].set(l.upperBound.x,l.upperBound.y);e[3].set(l.lowerBound.x,l.upperBound.y);this.m_debugDraw.drawPolygon(e,4,g);c=c.getNext()}b=b.getNext()}if(0!=(a&fb.e_centerOfMassBit))for(b=this.m_bodyList;null!=b;)e=pa.s_xf,e.R=b.m_xf.R,e.position=b.getWorldCenter(),this.m_debugDraw.drawTransform(e),
b=b.m_next}},queryAABB:function(a,b){var c=this.m_contactManager.m_broadPhase;c.query(function(b){b=c.getUserData(b);return a(b)},b)},queryShape:function(a,b,c){null==c&&(c=new Pb,c.setIdentity());var d=this.m_contactManager.m_broadPhase,e=new Db;b.computeAABB(e,c);d.query(function(e){e=H.__cast(d.getUserData(e),dc);var l=e.getShape(),r=e.getBody().getTransform();return Pa.testOverlap(b,c,l,r)?a(e):!0},e)},queryPoint:function(a,b){var c=this.m_contactManager.m_broadPhase,d=new Db;d.lowerBound.set(b.x-
x.b2_linearSlop,b.y-x.b2_linearSlop);d.upperBound.set(b.x+x.b2_linearSlop,b.y+x.b2_linearSlop);c.query(function(d){d=H.__cast(c.getUserData(d),dc);return d.testPoint(b)?a(d):!0},d)},rayCast:function(a,b,c){var d=this.m_contactManager.m_broadPhase,e=new Bh,g=new We(b,c);d.rayCast(function(g,r){var k=d.getUserData(r),k=H.__cast(k,dc);if(k.rayCast(e,g)){var f=e.fraction,h=new w((1-f)*b.x+f*c.x,(1-f)*b.y+f*c.y);return a(k,h,e.normal,f)}return g.maxFraction},g)},rayCastOne:function(a,b){var c;this.rayCast(function(a,
b,g,l){c=a;return l},a,b);return c},rayCastAll:function(a,b){var c=[];this.rayCast(function(a,b,g,l){c[c.length]=a;return 1},a,b);return c},getBodyList:function(){return this.m_bodyList},getJointList:function(){return this.m_jointList},getContactList:function(){return this.m_contactList},isLocked:function(){return 0<(this.m_flags&pa.e_locked)},solve:function(a){for(var b,c=this.m_controllerList;null!=c;)c.step(a),c=c.m_next;var d=this.m_island;d.initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,
null,this.m_contactManager.m_contactListener,this.m_contactSolver);for(b=this.m_bodyList;null!=b;)b.m_flags&=~E.e_islandFlag,b=b.m_next;for(c=this.m_contactList;null!=c;)c.m_flags&=~K.e_islandFlag,c=c.m_next;for(c=this.m_jointList;null!=c;)c.m_islandFlag=!1,c=c.m_next;for(var c=this.s_stack,e=this.m_bodyList;null!=e;){if(0==(e.m_flags&E.e_islandFlag)&&!1!=e.isAwake()&&!1!=e.isActive()&&e.getType()!=E.b2_staticBody){d.clear();var g=0;c[g++]=e;for(e.m_flags|=E.e_islandFlag;0<g;)if(b=c[--g],d.addBody(b),
!1==b.isAwake()&&b.setAwake(!0),b.getType()!=E.b2_staticBody){for(var l,r=b.m_contactList;null!=r;)0==(r.contact.m_flags&K.e_islandFlag)&&(!0!=r.contact.isSensor()&&!1!=r.contact.isEnabled()&&!1!=r.contact.isTouching())&&(d.addContact(r.contact),r.contact.m_flags|=K.e_islandFlag,l=r.other,0==(l.m_flags&E.e_islandFlag)&&(c[g++]=l,l.m_flags|=E.e_islandFlag)),r=r.next;for(b=b.m_jointList;null!=b;)!0!=b.joint.m_islandFlag&&(l=b.other,!1!=l.isActive()&&(d.addJoint(b.joint),b.joint.m_islandFlag=!0,0==(l.m_flags&
E.e_islandFlag)&&(c[g++]=l,l.m_flags|=E.e_islandFlag))),b=b.next}d.solve(a,this.m_gravity,this.m_allowSleep);g=0;for(l=d.m_bodyCount;g<l;)b=g++,b=d.m_bodies[b],b.getType()==E.b2_staticBody&&(b.m_flags&=~E.e_islandFlag)}e=e.m_next}a=0;for(d=c.length;a<d;){e=a++;if(null==c[e])break;c[e]=null}for(b=this.m_bodyList;null!=b;)!1!=b.isAwake()&&!1!=b.isActive()&&b.getType()!=E.b2_staticBody&&b.synchronizeFixtures(),b=b.m_next;this.m_contactManager.findNewContacts()},solveTOI:function(a){var b,c,d,e,g=this.m_island;
g.initialize(this.m_bodyCount,x.b2_maxTOIContactsPerIsland,x.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);var l=pa.s_queue;for(b=this.m_bodyList;null!=b;)b.m_flags&=~E.e_islandFlag,b.m_sweep.t0=0,b=b.m_next;for(b=this.m_contactList;null!=b;)b.m_flags&=~(K.e_toiFlag|K.e_islandFlag),b=b.m_next;for(e=this.m_jointList;null!=e;)e.m_islandFlag=!1,e=e.m_next;for(;;){e=null;var r=1;for(b=this.m_contactList;null!=b;){if(!0!=b.isSensor()&&!1!=b.isEnabled()&&!1!=
b.isContinuous()){c=1;if(0!=(b.m_flags&K.e_toiFlag))c=b.m_toi;else{c=b.m_fixtureA;d=b.m_fixtureB;c=c.m_body;d=d.m_body;if(!(c.getType()==E.b2_dynamicBody&&!1!=c.isAwake()||d.getType()==E.b2_dynamicBody&&!1!=d.isAwake())){b=b.m_next;continue}var k=c.m_sweep.t0;c.m_sweep.t0<d.m_sweep.t0?(k=d.m_sweep.t0,c.m_sweep.advance(k)):d.m_sweep.t0<c.m_sweep.t0&&(k=c.m_sweep.t0,d.m_sweep.advance(k));c=b.computeTOI(c.m_sweep,d.m_sweep);x.b2Assert(0<=c&&1>=c);0<c&&1>c&&(c=(1-c)*k+c,1<c&&(c=1));b.m_toi=c;b.m_flags|=
K.e_toiFlag}Number.MIN_VALUE<c&&c<r&&(e=b,r=c)}b=b.m_next}if(null==e||1-100*Number.MIN_VALUE<r)break;c=e.m_fixtureA;d=e.m_fixtureB;c=c.m_body;d=d.m_body;pa.s_backupA.set(c.m_sweep);pa.s_backupB.set(d.m_sweep);c.advance(r);d.advance(r);e.update(this.m_contactManager.m_contactListener);e.m_flags&=~K.e_toiFlag;if(!0==e.isSensor()||!1==e.isEnabled())c.m_sweep.set(pa.s_backupA),d.m_sweep.set(pa.s_backupB),c.synchronizeTransform(),d.synchronizeTransform();else if(!1!=e.isTouching()){b=c;b.getType()!=E.b2_dynamicBody&&
(b=d);g.clear();d=c=0;l[c+d++]=b;for(b.m_flags|=E.e_islandFlag;0<d;)if(b=l[c++],--d,g.addBody(b),!1==b.isAwake()&&b.setAwake(!0),b.getType()==E.b2_dynamicBody){for(e=b.m_contactList;null!=e&&g.m_contactCount!=g.m_contactCapacity;)0==(e.contact.m_flags&K.e_islandFlag)&&(!0!=e.contact.isSensor()&&!1!=e.contact.isEnabled()&&!1!=e.contact.isTouching())&&(g.addContact(e.contact),e.contact.m_flags|=K.e_islandFlag,k=e.other,0==(k.m_flags&E.e_islandFlag)&&(k.getType()!=E.b2_staticBody&&(k.advance(r),k.setAwake(!0)),
l[c+d]=k,++d,k.m_flags|=E.e_islandFlag)),e=e.next;for(b=b.m_jointList;null!=b;)g.m_jointCount!=g.m_jointCapacity&&!0!=b.joint.m_islandFlag&&(k=b.other,!1!=k.isActive()&&(g.addJoint(b.joint),b.joint.m_islandFlag=!0,0==(k.m_flags&E.e_islandFlag)&&(k.getType()!=E.b2_staticBody&&(k.advance(r),k.setAwake(!0)),l[c+d]=k,++d,k.m_flags|=E.e_islandFlag))),b=b.next}b=pa.s_timestep;b.warmStarting=!1;b.dt=(1-r)*a.dt;b.inv_dt=1/b.dt;b.dtRatio=0;b.velocityIterations=a.velocityIterations;b.positionIterations=a.positionIterations;
g.solveTOI(b);r=0;for(c=g.m_bodyCount;r<c;)if(b=r++,b=g.m_bodies[b],b.m_flags&=~E.e_islandFlag,!1!=b.isAwake()&&b.getType()==E.b2_dynamicBody)for(b.synchronizeFixtures(),e=b.m_contactList;null!=e;)e.contact.m_flags&=~K.e_toiFlag,e=e.next;r=0;for(e=g.m_contactCount;r<e;)b=r++,b=g.m_contacts[b],b.m_flags&=~(K.e_toiFlag|K.e_islandFlag);r=0;for(b=g.m_jointCount;r<b;)e=r++,e=g.m_joints[e],e.m_islandFlag=!1;this.m_contactManager.findNewContacts()}}},drawJoint:function(a){var b=a.getBodyA(),c=a.getBodyB(),
d=b.m_xf.position,e=c.m_xf.position,g=a.getAnchorA(),l=a.getAnchorB(),r=pa.s_jointColor;switch(a.m_type[1]){case 3:this.m_debugDraw.drawSegment(g,l,r);break;case 4:b=H.__cast(a,Qb);a=b.getGroundAnchorA();b=b.getGroundAnchorB();this.m_debugDraw.drawSegment(a,g,r);this.m_debugDraw.drawSegment(b,l,r);this.m_debugDraw.drawSegment(a,b,r);break;case 5:this.m_debugDraw.drawSegment(g,l,r);break;default:b!=this.m_groundBody&&this.m_debugDraw.drawSegment(d,g,r),this.m_debugDraw.drawSegment(g,l,r),c!=this.m_groundBody&&
this.m_debugDraw.drawSegment(e,l,r)}},drawShape:function(a,b,c){switch(a.m_type[1]){case 1:a=H.__cast(a,Fb);var d=v.mulX(b,a.m_p);this.m_debugDraw.drawSolidCircle(d,a.m_radius,b.R.col1,c);break;case 2:d=H.__cast(a,Ga);a=d.getVertexCount();for(var d=d.getVertices(),e=[],g=0;g<a;){var l=g++;e[l]=v.mulX(b,d[l])}this.m_debugDraw.drawSolidPolygon(e,a,c);break;case 3:a=H.__cast(a,gd),this.m_debugDraw.drawSegment(v.mulX(b,a.getVertex1()),v.mulX(b,a.getVertex2()),c)}},__class__:pa};var K=function(){this.m_nodeA=
new bf;this.m_nodeB=new bf;this.m_manifold=new Nd;this.m_oldManifold=new Nd};h["box2D.dynamics.contacts.B2Contact"]=K;K.__name__=["box2D","dynamics","contacts","B2Contact"];K.prototype={getManifold:function(){return this.m_manifold},getWorldManifold:function(a){var b=this.m_fixtureA.getBody(),c=this.m_fixtureB.getBody(),d=this.m_fixtureA.getShape(),e=this.m_fixtureB.getShape();a.initialize(this.m_manifold,b.getTransform(),d.m_radius,c.getTransform(),e.m_radius)},isTouching:function(){return(this.m_flags&
K.e_touchingFlag)==K.e_touchingFlag},isContinuous:function(){return(this.m_flags&K.e_continuousFlag)==K.e_continuousFlag},setSensor:function(a){this.m_flags=a?this.m_flags|K.e_sensorFlag:this.m_flags&~K.e_sensorFlag},isSensor:function(){return(this.m_flags&K.e_sensorFlag)==K.e_sensorFlag},setEnabled:function(a){this.m_flags=a?this.m_flags|K.e_enabledFlag:this.m_flags&~K.e_enabledFlag},isEnabled:function(){return(this.m_flags&K.e_enabledFlag)==K.e_enabledFlag},getNext:function(){return this.m_next},
getFixtureA:function(){return this.m_fixtureA},getFixtureB:function(){return this.m_fixtureB},flagForFiltering:function(){this.m_flags|=K.e_filterFlag},reset:function(a,b){this.m_flags=K.e_enabledFlag;if(null==a||null==b)this.m_fixtureB=this.m_fixtureA=null;else{if(a.isSensor()||b.isSensor())this.m_flags|=K.e_sensorFlag;var c=a.getBody(),d=b.getBody();if(c.getType()!=E.b2_dynamicBody||c.isBullet()||d.getType()!=E.b2_dynamicBody||d.isBullet())this.m_flags|=K.e_continuousFlag;this.m_fixtureA=a;this.m_fixtureB=
b;this.m_manifold.m_pointCount=0;this.m_next=this.m_prev=null;this.m_nodeA.contact=null;this.m_nodeA.prev=null;this.m_nodeA.next=null;this.m_nodeA.other=null;this.m_nodeB.contact=null;this.m_nodeB.prev=null;this.m_nodeB.next=null;this.m_nodeB.other=null}},update:function(a){var b=this.m_oldManifold;this.m_oldManifold=this.m_manifold;this.m_manifold=b;this.m_flags|=K.e_enabledFlag;var c=!1,b=(this.m_flags&K.e_touchingFlag)==K.e_touchingFlag,d=this.m_fixtureA.m_body,e=this.m_fixtureB.m_body,g=this.m_fixtureA.m_aabb.testOverlap(this.m_fixtureB.m_aabb);
if(0!=(this.m_flags&K.e_sensorFlag))g&&(c=this.m_fixtureA.getShape(),g=this.m_fixtureB.getShape(),d=d.getTransform(),e=e.getTransform(),c=Pa.testOverlap(c,d,g,e)),this.m_manifold.m_pointCount=0;else{d.getType()!=E.b2_dynamicBody||d.isBullet()||e.getType()!=E.b2_dynamicBody||e.isBullet()?this.m_flags|=K.e_continuousFlag:this.m_flags&=~K.e_continuousFlag;if(g){this.evaluate();for(var c=0<this.m_manifold.m_pointCount,g=0,l=this.m_manifold.m_pointCount;g<l;){var r=g++,r=this.m_manifold.m_points[r];r.m_normalImpulse=
0;r.m_tangentImpulse=0;for(var k=r.m_id,f=0,h=this.m_oldManifold.m_pointCount;f<h;){var m=f++,m=this.m_oldManifold.m_points[m];if(m.m_id.get_key()==k.get_key()){r.m_normalImpulse=m.m_normalImpulse;r.m_tangentImpulse=m.m_tangentImpulse;break}}}}else this.m_manifold.m_pointCount=0;c!=b&&(d.setAwake(!0),e.setAwake(!0))}this.m_flags=c?this.m_flags|K.e_touchingFlag:this.m_flags&~K.e_touchingFlag;!1==b&&!0==c&&a.beginContact(this);!0==b&&!1==c&&a.endContact(this);0==(this.m_flags&K.e_sensorFlag)&&a.preSolve(this,
this.m_oldManifold)},evaluate:function(){},computeTOI:function(a,b){K.s_input.proxyA.set(this.m_fixtureA.getShape());K.s_input.proxyB.set(this.m_fixtureB.getShape());K.s_input.sweepA=a;K.s_input.sweepB=b;K.s_input.tolerance=x.b2_linearSlop;return W.timeOfImpact(K.s_input)},__class__:K};var rc=function(){K.call(this)};h["box2D.dynamics.contacts.B2CircleContact"]=rc;rc.__name__=["box2D","dynamics","contacts","B2CircleContact"];rc.create=function(a){return new rc};rc.destroy=function(a,b){};rc.__super__=
K;rc.prototype=q(K.prototype,{reset:function(a,b){K.prototype.reset.call(this,a,b)},evaluate:function(){var a=this.m_fixtureA.getBody(),b=this.m_fixtureB.getBody();S.collideCircles(this.m_manifold,H.__cast(this.m_fixtureA.getShape(),Fb),a.m_xf,H.__cast(this.m_fixtureB.getShape(),Fb),b.m_xf)},__class__:rc});var Kh=function(){this.localPlaneNormal=new w;this.localPoint=new w;this.normal=new w;this.normalMass=new ta;this.K=new ta;this.points=[];for(var a=0,b=x.b2_maxManifoldPoints;a<b;){var c=a++;this.points[c]=
new Jh}};h["box2D.dynamics.contacts.B2ContactConstraint"]=Kh;Kh.__name__=["box2D","dynamics","contacts","B2ContactConstraint"];Kh.prototype={__class__:Kh};var Jh=function(){this.localPoint=new w;this.rA=new w;this.rB=new w};h["box2D.dynamics.contacts.B2ContactConstraintPoint"]=Jh;Jh.__name__=["box2D","dynamics","contacts","B2ContactConstraintPoint"];Jh.prototype={__class__:Jh};var bf=function(){};h["box2D.dynamics.contacts.B2ContactEdge"]=bf;bf.__name__=["box2D","dynamics","contacts","B2ContactEdge"];
bf.prototype={__class__:bf};var Ih=function(a){this.m_allocator=a;this.initializeRegisters()};h["box2D.dynamics.contacts.B2ContactFactory"]=Ih;Ih.__name__=["box2D","dynamics","contacts","B2ContactFactory"];Ih.prototype={addType:function(a,b,c,d){var e=c[1],g=d[1];this.m_registers[e][g].createFcn=a;this.m_registers[e][g].destroyFcn=b;this.m_registers[e][g].primary=!0;c!=d&&(this.m_registers[g][e].createFcn=a,this.m_registers[g][e].destroyFcn=b,this.m_registers[g][e].primary=!1)},initializeRegisters:function(){this.m_registers=
[];for(var a=0,b=ea.__empty_constructs__.length;a<b;){var c=a++;this.m_registers[c]=[];for(var d=0,e=ea.__empty_constructs__.length;d<e;){var g=d++;this.m_registers[c][g]=new Lh}}this.addType(rc.create,rc.destroy,ea.CIRCLE_SHAPE,ea.CIRCLE_SHAPE);this.addType(sc.create,sc.destroy,ea.POLYGON_SHAPE,ea.CIRCLE_SHAPE);this.addType(tc.create,tc.destroy,ea.POLYGON_SHAPE,ea.POLYGON_SHAPE);this.addType(uc.create,uc.destroy,ea.EDGE_SHAPE,ea.CIRCLE_SHAPE);this.addType(vc.create,vc.destroy,ea.POLYGON_SHAPE,ea.EDGE_SHAPE)},
create:function(a,b){var c=a.getType(),d=b.getType(),c=this.m_registers[c[1]][d[1]];if(null!=c.pool)return d=c.pool,c.pool=d.m_next,c.poolCount--,d.reset(a,b),d;d=c.createFcn;return null!=d?(c.primary?(d=d(this.m_allocator),d.reset(a,b)):(d=d(this.m_allocator),d.reset(b,a)),d):null},destroy:function(a){0<a.m_manifold.m_pointCount&&(a.m_fixtureA.m_body.setAwake(!0),a.m_fixtureB.m_body.setAwake(!0));var b=a.m_fixtureA.getType(),c=a.m_fixtureB.getType(),b=this.m_registers[b[1]][c[1]];b.poolCount++;a.m_next=
b.pool;b.pool=a;b=b.destroyFcn;b(a,this.m_allocator)},__class__:Ih};var Lh=function(){};h["box2D.dynamics.contacts.B2ContactRegister"]=Lh;Lh.__name__=["box2D","dynamics","contacts","B2ContactRegister"];Lh.prototype={__class__:Lh};var Rd=function(){this.m_normal=new w;this.m_separations=[];this.m_points=[];for(var a=0,b=x.b2_maxManifoldPoints;a<b;){var c=a++;this.m_points[c]=new w}};h["box2D.dynamics.contacts.B2PositionSolverManifold"]=Rd;Rd.__name__=["box2D","dynamics","contacts","B2PositionSolverManifold"];
Rd.prototype={initialize:function(a){x.b2Assert(0<a.pointCount);var b,c,d,e,g;switch(a.type[1]){case 0:d=a.bodyA.m_xf.R;c=a.localPoint;b=a.bodyA.m_xf.position.x+(d.col1.x*c.x+d.col2.x*c.y);e=a.bodyA.m_xf.position.y+(d.col1.y*c.x+d.col2.y*c.y);d=a.bodyB.m_xf.R;c=a.points[0].localPoint;g=a.bodyB.m_xf.position.x+(d.col1.x*c.x+d.col2.x*c.y);d=a.bodyB.m_xf.position.y+(d.col1.y*c.x+d.col2.y*c.y);c=g-b;var l=d-e,r=c*c+l*l;r>Number.MIN_VALUE*Number.MIN_VALUE?(r=Math.sqrt(r),this.m_normal.x=c/r,this.m_normal.y=
l/r):(this.m_normal.x=1,this.m_normal.y=0);this.m_points[0].x=0.5*(b+g);this.m_points[0].y=0.5*(e+d);this.m_separations[0]=c*this.m_normal.x+l*this.m_normal.y-a.radius;break;case 1:d=a.bodyA.m_xf.R;c=a.localPlaneNormal;this.m_normal.x=d.col1.x*c.x+d.col2.x*c.y;this.m_normal.y=d.col1.y*c.x+d.col2.y*c.y;d=a.bodyA.m_xf.R;c=a.localPoint;e=a.bodyA.m_xf.position.x+(d.col1.x*c.x+d.col2.x*c.y);g=a.bodyA.m_xf.position.y+(d.col1.y*c.x+d.col2.y*c.y);d=a.bodyB.m_xf.R;l=0;for(r=a.pointCount;l<r;){var k=l++;c=
a.points[k].localPoint;b=a.bodyB.m_xf.position.x+(d.col1.x*c.x+d.col2.x*c.y);c=a.bodyB.m_xf.position.y+(d.col1.y*c.x+d.col2.y*c.y);this.m_separations[k]=(b-e)*this.m_normal.x+(c-g)*this.m_normal.y-a.radius;this.m_points[k].x=b;this.m_points[k].y=c}break;case 2:d=a.bodyB.m_xf.R;c=a.localPlaneNormal;this.m_normal.x=d.col1.x*c.x+d.col2.x*c.y;this.m_normal.y=d.col1.y*c.x+d.col2.y*c.y;d=a.bodyB.m_xf.R;c=a.localPoint;e=a.bodyB.m_xf.position.x+(d.col1.x*c.x+d.col2.x*c.y);g=a.bodyB.m_xf.position.y+(d.col1.y*
c.x+d.col2.y*c.y);d=a.bodyA.m_xf.R;l=0;for(r=a.pointCount;l<r;)k=l++,c=a.points[k].localPoint,b=a.bodyA.m_xf.position.x+(d.col1.x*c.x+d.col2.x*c.y),c=a.bodyA.m_xf.position.y+(d.col1.y*c.x+d.col2.y*c.y),this.m_separations[k]=(b-e)*this.m_normal.x+(c-g)*this.m_normal.y-a.radius,this.m_points[k].set(b,c);this.m_normal.x*=-1;this.m_normal.y*=-1}},__class__:Rd};var Ya=function(){this.m_step=new Qd;this.m_constraints=[]};h["box2D.dynamics.contacts.B2ContactSolver"]=Ya;Ya.__name__=["box2D","dynamics","contacts",
"B2ContactSolver"];Ya.prototype={initialize:function(a,b,c,d){var e;this.m_step.set(a);this.m_allocator=d;for(this.m_constraintCount=c;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new Kh;for(a=0;a<c;){d=a++;e=b[d];var g=e.m_fixtureA,l=e.m_fixtureB,r=g.m_shape.m_radius,k=l.m_shape.m_radius,f=g.m_body,h=l.m_body;e=e.getManifold();var m=x.b2MixFriction(g.getFriction(),l.getFriction()),n=x.b2MixRestitution(g.getRestitution(),l.getRestitution()),q=f.m_linearVelocity.x,
p=f.m_linearVelocity.y,v=h.m_linearVelocity.x,s=h.m_linearVelocity.y,t=f.m_angularVelocity,u=h.m_angularVelocity;x.b2Assert(0<e.m_pointCount);Ya.s_worldManifold.initialize(e,f.m_xf,r,h.m_xf,k);g=Ya.s_worldManifold.m_normal.x;l=Ya.s_worldManifold.m_normal.y;d=this.m_constraints[d];d.bodyA=f;d.bodyB=h;d.manifold=e;d.normal.x=g;d.normal.y=l;d.pointCount=e.m_pointCount;d.friction=m;d.restitution=n;d.localPlaneNormal.x=e.m_localPlaneNormal.x;d.localPlaneNormal.y=e.m_localPlaneNormal.y;d.localPoint.x=e.m_localPoint.x;
d.localPoint.y=e.m_localPoint.y;d.radius=r+k;d.type=e.m_type;r=0;for(k=d.pointCount;r<k;){var w=r++,n=e.m_points[w],m=d.points[w];m.normalImpulse=n.m_normalImpulse;m.tangentImpulse=n.m_tangentImpulse;m.localPoint.setV(n.m_localPoint);var n=m.rA.x=Ya.s_worldManifold.m_points[w].x-f.m_sweep.c.x,z=m.rA.y=Ya.s_worldManifold.m_points[w].y-f.m_sweep.c.y,B=m.rB.x=Ya.s_worldManifold.m_points[w].x-h.m_sweep.c.x,w=m.rB.y=Ya.s_worldManifold.m_points[w].y-h.m_sweep.c.y,y=n*l-z*g,A=B*l-w*g,y=y*y,A=A*A;m.normalMass=
1/(f.m_invMass+h.m_invMass+f.m_invI*y+h.m_invI*A);var C=f.m_mass*f.m_invMass+h.m_mass*h.m_invMass,C=C+(f.m_mass*f.m_invI*y+h.m_mass*h.m_invI*A);m.equalizedMass=1/C;A=l;C=-g;y=n*C-z*A;A=B*C-w*A;y*=y;A*=A;m.tangentMass=1/(f.m_invMass+h.m_invMass+f.m_invI*y+h.m_invI*A);m.velocityBias=0;n=d.normal.x*(v+-u*w-q- -t*z)+d.normal.y*(s+u*B-p-t*n);n<-x.b2_velocityThreshold&&(m.velocityBias+=-d.restitution*n)}2==d.pointCount&&(s=d.points[0],v=d.points[1],e=f.m_invMass,f=f.m_invI,q=h.m_invMass,h=h.m_invI,p=s.rA.x*
l-s.rA.y*g,s=s.rB.x*l-s.rB.y*g,t=v.rA.x*l-v.rA.y*g,v=v.rB.x*l-v.rB.y*g,g=e+q+f*p*p+h*s*s,l=e+q+f*t*t+h*v*v,h=e+q+f*p*t+h*s*v,g*g<100*(g*l-h*h)?(d.K.col1.set(g,h),d.K.col2.set(h,l),d.K.getInverse(d.normalMass)):d.pointCount=1)}},initVelocityConstraints:function(a){for(var b=0,c=this.m_constraintCount;b<c;){var d=b++,d=this.m_constraints[d],e=d.bodyA,g=d.bodyB,l=e.m_invMass,r=e.m_invI,k=g.m_invMass,f=g.m_invI,h=d.normal.x,m=d.normal.y,n=m,q=-h,p;if(a.warmStarting){p=d.pointCount;for(var v=0;v<p;){var s=
v++,s=d.points[s];s.normalImpulse*=a.dtRatio;s.tangentImpulse*=a.dtRatio;var t=s.normalImpulse*h+s.tangentImpulse*n,u=s.normalImpulse*m+s.tangentImpulse*q;e.m_angularVelocity-=r*(s.rA.x*u-s.rA.y*t);e.m_linearVelocity.x-=l*t;e.m_linearVelocity.y-=l*u;g.m_angularVelocity+=f*(s.rB.x*u-s.rB.y*t);g.m_linearVelocity.x+=k*t;g.m_linearVelocity.y+=k*u}}else for(p=d.pointCount,e=0,g=p;e<g;)l=e++,l=d.points[l],l.normalImpulse=0,l.tangentImpulse=0}},solveVelocityConstraints:function(){for(var a,b,c,d,e,g,l,r,
k,f,h=0,m=this.m_constraintCount;h<m;){var n=h++;d=this.m_constraints[n];var n=d.bodyA,q=d.bodyB,p=n.m_angularVelocity,s=q.m_angularVelocity,t=n.m_linearVelocity,u=q.m_linearVelocity,w=n.m_invMass,x=n.m_invI,z=q.m_invMass,B=q.m_invI;r=d.normal.x;var y=k=d.normal.y,A=-r;f=d.friction;l=0;for(g=d.pointCount;l<g;)a=l++,a=d.points[a],b=u.x-s*a.rB.y-t.x+p*a.rA.y,c=u.y+s*a.rB.x-t.y-p*a.rA.x,b=b*y+c*A,b=a.tangentMass*-b,c=f*a.normalImpulse,c=v.clamp(a.tangentImpulse+b,-c,c),b=c-a.tangentImpulse,e=b*y,b*=
A,t.x-=w*e,t.y-=w*b,p-=x*(a.rA.x*b-a.rA.y*e),u.x+=z*e,u.y+=z*b,s+=B*(a.rB.x*b-a.rB.y*e),a.tangentImpulse=c;if(1==d.pointCount)a=d.points[0],b=u.x+-s*a.rB.y-t.x- -p*a.rA.y,c=u.y+s*a.rB.x-t.y-p*a.rA.x,d=b*r+c*k,b=-a.normalMass*(d-a.velocityBias),c=a.normalImpulse+b,0<c||(c=0),b=c-a.normalImpulse,e=b*r,b*=k,t.x-=w*e,t.y-=w*b,p-=x*(a.rA.x*b-a.rA.y*e),u.x+=z*e,u.y+=z*b,s+=B*(a.rB.x*b-a.rB.y*e),a.normalImpulse=c;else{a=d.points[0];y=d.points[1];g=a.normalImpulse;l=y.normalImpulse;e=(u.x-s*a.rB.y-t.x+p*
a.rA.y)*r+(u.y+s*a.rB.x-t.y-p*a.rA.x)*k;var C=(u.x-s*y.rB.y-t.x+p*y.rA.y)*r+(u.y+s*y.rB.x-t.y-p*y.rA.x)*k;b=e-a.velocityBias;c=C-y.velocityBias;f=d.K;b-=f.col1.x*g+f.col2.x*l;for(c-=f.col1.y*g+f.col2.y*l;;){f=d.normalMass;A=-(f.col1.x*b+f.col2.x*c);f=-(f.col1.y*b+f.col2.y*c);if(0<=A&&0<=f){g=A-g;l=f-l;d=g*r;g*=k;r*=l;k*=l;t.x-=w*(d+r);t.y-=w*(g+k);p-=x*(a.rA.x*g-a.rA.y*d+y.rA.x*k-y.rA.y*r);u.x+=z*(d+r);u.y+=z*(g+k);s+=B*(a.rB.x*g-a.rB.y*d+y.rB.x*k-y.rB.y*r);a.normalImpulse=A;y.normalImpulse=f;break}A=
-a.normalMass*b;f=0;C=d.K.col1.y*A+c;if(0<=A&&0<=C){g=A-g;l=f-l;d=g*r;g*=k;r*=l;k*=l;t.x-=w*(d+r);t.y-=w*(g+k);p-=x*(a.rA.x*g-a.rA.y*d+y.rA.x*k-y.rA.y*r);u.x+=z*(d+r);u.y+=z*(g+k);s+=B*(a.rB.x*g-a.rB.y*d+y.rB.x*k-y.rB.y*r);a.normalImpulse=A;y.normalImpulse=f;break}A=0;f=-y.normalMass*c;e=d.K.col2.x*f+b;if(0<=f&&0<=e){g=A-g;l=f-l;d=g*r;g*=k;r*=l;k*=l;t.x-=w*(d+r);t.y-=w*(g+k);p-=x*(a.rA.x*g-a.rA.y*d+y.rA.x*k-y.rA.y*r);u.x+=z*(d+r);u.y+=z*(g+k);s+=B*(a.rB.x*g-a.rB.y*d+y.rB.x*k-y.rB.y*r);a.normalImpulse=
A;y.normalImpulse=f;break}f=A=0;e=b;C=c;if(0<=e&&0<=C){g=A-g;l=f-l;d=g*r;g*=k;r*=l;k*=l;t.x-=w*(d+r);t.y-=w*(g+k);p-=x*(a.rA.x*g-a.rA.y*d+y.rA.x*k-y.rA.y*r);u.x+=z*(d+r);u.y+=z*(g+k);s+=B*(a.rB.x*g-a.rB.y*d+y.rB.x*k-y.rB.y*r);a.normalImpulse=A;y.normalImpulse=f;break}break}}n.m_angularVelocity=p;q.m_angularVelocity=s}},finalizeVelocityConstraints:function(){for(var a=0,b=this.m_constraintCount;a<b;)for(var c=a++,c=this.m_constraints[c],d=c.manifold,e=0,g=c.pointCount;e<g;){var l=e++,r=d.m_points[l],
l=c.points[l];r.m_normalImpulse=l.normalImpulse;r.m_tangentImpulse=l.tangentImpulse}},solvePositionConstraints:function(a){for(var b=0,c=0,d=this.m_constraintCount;c<d;){var e=c++,e=this.m_constraints[e],g=e.bodyA,l=e.bodyB,r=g.m_mass*g.m_invMass,k=g.m_mass*g.m_invI,f=l.m_mass*l.m_invMass,h=l.m_mass*l.m_invI;Ya.s_psm.initialize(e);for(var m=Ya.s_psm.m_normal,n=0,q=e.pointCount;n<q;){var p=n++,s=e.points[p],t=Ya.s_psm.m_points[p],u=Ya.s_psm.m_separations[p],p=t.x-g.m_sweep.c.x,w=t.y-g.m_sweep.c.y,
y=t.x-l.m_sweep.c.x,t=t.y-l.m_sweep.c.y;b<u||(b=u);u=v.clamp(a*(u+x.b2_linearSlop),-x.b2_maxLinearCorrection,0);u*=-s.equalizedMass;s=u*m.x;u*=m.y;g.m_sweep.c.x-=r*s;g.m_sweep.c.y-=r*u;g.m_sweep.a-=k*(p*u-w*s);g.synchronizeTransform();l.m_sweep.c.x+=f*s;l.m_sweep.c.y+=f*u;l.m_sweep.a+=h*(y*u-t*s);l.synchronizeTransform()}}return b>-1.5*x.b2_linearSlop},__class__:Ya};var uc=function(){K.call(this)};h["box2D.dynamics.contacts.B2EdgeAndCircleContact"]=uc;uc.__name__=["box2D","dynamics","contacts","B2EdgeAndCircleContact"];
uc.create=function(a){return new uc};uc.destroy=function(a,b){};uc.__super__=K;uc.prototype=q(K.prototype,{reset:function(a,b){K.prototype.reset.call(this,a,b)},evaluate:function(){var a=this.m_fixtureA.getBody(),b=this.m_fixtureB.getBody();this.b2CollideEdgeAndCircle(this.m_manifold,H.__cast(this.m_fixtureA.getShape(),gd),a.m_xf,H.__cast(this.m_fixtureB.getShape(),Fb),b.m_xf)},b2CollideEdgeAndCircle:function(a,b,c,d,e){},__class__:uc});var sc=function(){K.call(this)};h["box2D.dynamics.contacts.B2PolyAndCircleContact"]=
sc;sc.__name__=["box2D","dynamics","contacts","B2PolyAndCircleContact"];sc.create=function(a){return new sc};sc.destroy=function(a,b){};sc.__super__=K;sc.prototype=q(K.prototype,{reset:function(a,b){K.prototype.reset.call(this,a,b);x.b2Assert(a.getType()==ea.POLYGON_SHAPE);x.b2Assert(b.getType()==ea.CIRCLE_SHAPE)},evaluate:function(){var a=this.m_fixtureA.m_body,b=this.m_fixtureB.m_body;S.collidePolygonAndCircle(this.m_manifold,H.__cast(this.m_fixtureA.getShape(),Ga),a.m_xf,H.__cast(this.m_fixtureB.getShape(),
Fb),b.m_xf)},__class__:sc});var vc=function(){K.call(this)};h["box2D.dynamics.contacts.B2PolyAndEdgeContact"]=vc;vc.__name__=["box2D","dynamics","contacts","B2PolyAndEdgeContact"];vc.create=function(a){return new vc};vc.destroy=function(a,b){};vc.__super__=K;vc.prototype=q(K.prototype,{reset:function(a,b){K.prototype.reset.call(this,a,b);x.b2Assert(a.getType()==ea.POLYGON_SHAPE);x.b2Assert(b.getType()==ea.EDGE_SHAPE)},evaluate:function(){var a=this.m_fixtureA.getBody(),b=this.m_fixtureB.getBody();
this.b2CollidePolyAndEdge(this.m_manifold,H.__cast(this.m_fixtureA.getShape(),Ga),a.m_xf,H.__cast(this.m_fixtureB.getShape(),gd),b.m_xf)},b2CollidePolyAndEdge:function(a,b,c,d,e){},__class__:vc});var tc=function(){K.call(this)};h["box2D.dynamics.contacts.B2PolygonContact"]=tc;tc.__name__=["box2D","dynamics","contacts","B2PolygonContact"];tc.create=function(a){return new tc};tc.destroy=function(a,b){};tc.__super__=K;tc.prototype=q(K.prototype,{reset:function(a,b){K.prototype.reset.call(this,a,b)},
evaluate:function(){var a=this.m_fixtureA.getBody(),b=this.m_fixtureB.getBody();S.collidePolygons(this.m_manifold,H.__cast(this.m_fixtureA.getShape(),Ga),a.m_xf,H.__cast(this.m_fixtureB.getShape(),Ga),b.m_xf)},__class__:tc});var wi=function(){};h["box2D.dynamics.controllers.B2Controller"]=wi;wi.__name__=["box2D","dynamics","controllers","B2Controller"];wi.prototype={step:function(a){},draw:function(a){},addBody:function(a){var b=new Mh;b.controller=this;b.body=a;b.nextBody=this.m_bodyList;b.prevBody=
null;this.m_bodyList=b;null!=b.nextBody&&(b.nextBody.prevBody=b);this.m_bodyCount++;b.nextController=a.m_controllerList;b.prevController=null;a.m_controllerList=b;null!=b.nextController&&(b.nextController.prevController=b);a.m_controllerCount++},removeBody:function(a){for(var b=a.m_controllerList;null!=b&&b.controller!=this;)b=b.nextController;null!=b.prevBody&&(b.prevBody.nextBody=b.nextBody);null!=b.nextBody&&(b.nextBody.prevBody=b.prevBody);null!=b.nextController&&(b.nextController.prevController=
b.prevController);null!=b.prevController&&(b.prevController.nextController=b.nextController);this.m_bodyList==b&&(this.m_bodyList=b.nextBody);a.m_controllerList==b&&(a.m_controllerList=b.nextController);a.m_controllerCount--;this.m_bodyCount--},clear:function(){for(;null!=this.m_bodyList;)this.removeBody(this.m_bodyList.body)},getNext:function(){return this.m_next},getWorld:function(){return this.m_world},getBodyList:function(){return this.m_bodyList},__class__:wi};var Mh=function(){};h["box2D.dynamics.controllers.B2ControllerEdge"]=
Mh;Mh.__name__=["box2D","dynamics","controllers","B2ControllerEdge"];Mh.prototype={__class__:Mh};var qa=function(a){this.m_edgeA=new cf;this.m_edgeB=new cf;this.m_localCenterA=new w;this.m_localCenterB=new w;x.b2Assert(a.bodyA!=a.bodyB);this.m_type=a.type;this.m_next=this.m_prev=null;this.m_bodyA=a.bodyA;this.m_bodyB=a.bodyB;this.m_collideConnected=a.collideConnected;this.m_islandFlag=!1;this.m_userData=a.userData};h["box2D.dynamics.joints.B2Joint"]=qa;qa.__name__=["box2D","dynamics","joints","B2Joint"];
qa.create=function(a,b){var c=null;switch(a.type[1]){case 1:c=new Rb(H.__cast(a,df));break;case 2:c=new hd(H.__cast(a,ef));break;case 3:c=new ff(H.__cast(a,gf));break;case 4:c=new Qb(H.__cast(a,hf));break;case 5:c=new jf(H.__cast(a,kf));break;case 6:c=new lf(H.__cast(a,mf));break;case 7:c=new nf(H.__cast(a,of));break;case 8:c=new pf(H.__cast(a,qf));break;case 9:c=new rf(H.__cast(a,sf))}return c};qa.destroy=function(a,b){};qa.prototype={getType:function(){return this.m_type},getAnchorA:function(){return null},
getAnchorB:function(){return null},getReactionForce:function(a){return null},getReactionTorque:function(a){return 0},getBodyA:function(){return this.m_bodyA},getBodyB:function(){return this.m_bodyB},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},setUserData:function(a){this.m_userData=a},isActive:function(){return this.m_bodyA.isActive()?this.m_bodyB.isActive():!1},initVelocityConstraints:function(a){},solveVelocityConstraints:function(a){},finalizeVelocityConstraints:function(){},
solvePositionConstraints:function(a){return!1},__class__:qa};var ff=function(a){qa.call(this,a);this.m_localAnchor1=new w;this.m_localAnchor2=new w;this.m_u=new w;this.m_localAnchor1.setV(a.localAnchorA);this.m_localAnchor2.setV(a.localAnchorB);this.m_length=a.length;this.m_frequencyHz=a.frequencyHz;this.m_dampingRatio=a.dampingRatio;this.m_bias=this.m_gamma=this.m_impulse=0};h["box2D.dynamics.joints.B2DistanceJoint"]=ff;ff.__name__=["box2D","dynamics","joints","B2DistanceJoint"];ff.__super__=qa;
ff.prototype=q(qa.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(a){return new w(a*this.m_impulse*this.m_u.x,a*this.m_impulse*this.m_u.y)},getReactionTorque:function(a){return 0},getLength:function(){return this.m_length},setLength:function(a){this.m_length=a},getFrequency:function(){return this.m_frequencyHz},setFrequency:function(a){this.m_frequencyHz=
a},getDampingRatio:function(){return this.m_dampingRatio},setDampingRatio:function(a){this.m_dampingRatio=a},initVelocityConstraints:function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var g=this.m_localAnchor1.x-d.m_sweep.localCenter.x,l=this.m_localAnchor1.y-d.m_sweep.localCenter.y;c=b.col1.x*g+b.col2.x*l;l=b.col1.y*g+b.col2.y*l;g=c;b=e.m_xf.R;var r=this.m_localAnchor2.x-e.m_sweep.localCenter.x,k=this.m_localAnchor2.y-e.m_sweep.localCenter.y;c=b.col1.x*r+b.col2.x*k;k=b.col1.y*r+b.col2.y*
k;r=c;this.m_u.x=e.m_sweep.c.x+r-d.m_sweep.c.x-g;this.m_u.y=e.m_sweep.c.y+k-d.m_sweep.c.y-l;c=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);c>x.b2_linearSlop?this.m_u.multiply(1/c):this.m_u.setZero();b=g*this.m_u.y-l*this.m_u.x;var f=r*this.m_u.y-k*this.m_u.x;b=d.m_invMass+d.m_invI*b*b+e.m_invMass+e.m_invI*f*f;this.m_mass=0!=b?1/b:0;if(0<this.m_frequencyHz){c-=this.m_length;var f=2*Math.PI*this.m_frequencyHz,h=this.m_mass*f*f;this.m_gamma=a.dt*(2*this.m_mass*this.m_dampingRatio*f+a.dt*h);
this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0;this.m_bias=c*a.dt*h*this.m_gamma;this.m_mass=b+this.m_gamma;this.m_mass=0!=this.m_mass?1/this.m_mass:0}a.warmStarting?(this.m_impulse*=a.dtRatio,a=this.m_impulse*this.m_u.x,b=this.m_impulse*this.m_u.y,d.m_linearVelocity.x-=d.m_invMass*a,d.m_linearVelocity.y-=d.m_invMass*b,d.m_angularVelocity-=d.m_invI*(g*b-l*a),e.m_linearVelocity.x+=e.m_invMass*a,e.m_linearVelocity.y+=e.m_invMass*b,e.m_angularVelocity+=e.m_invI*(r*b-k*a)):this.m_impulse=0},solveVelocityConstraints:function(a){var b;
a=this.m_bodyA;var c=this.m_bodyB;b=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,g=b.col1.x*d+b.col2.x*e,e=b.col1.y*d+b.col2.y*e,d=g;b=c.m_xf.R;var l=this.m_localAnchor2.x-c.m_sweep.localCenter.x,r=this.m_localAnchor2.y-c.m_sweep.localCenter.y,g=b.col1.x*l+b.col2.x*r,r=b.col1.y*l+b.col2.y*r,l=g,g=-this.m_mass*(this.m_u.x*(c.m_linearVelocity.x+-c.m_angularVelocity*r-(a.m_linearVelocity.x+-a.m_angularVelocity*e))+this.m_u.y*(c.m_linearVelocity.y+
c.m_angularVelocity*l-(a.m_linearVelocity.y+a.m_angularVelocity*d))+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=g;b=g*this.m_u.x;g*=this.m_u.y;a.m_linearVelocity.x-=a.m_invMass*b;a.m_linearVelocity.y-=a.m_invMass*g;a.m_angularVelocity-=a.m_invI*(d*g-e*b);c.m_linearVelocity.x+=c.m_invMass*b;c.m_linearVelocity.y+=c.m_invMass*g;c.m_angularVelocity+=c.m_invI*(l*g-r*b)},solvePositionConstraints:function(a){var b;if(0<this.m_frequencyHz)return!0;a=this.m_bodyA;var c=this.m_bodyB;b=a.m_xf.R;
var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,g=b.col1.x*d+b.col2.x*e,e=b.col1.y*d+b.col2.y*e,d=g;b=c.m_xf.R;var l=this.m_localAnchor2.x-c.m_sweep.localCenter.x,r=this.m_localAnchor2.y-c.m_sweep.localCenter.y,g=b.col1.x*l+b.col2.x*r,r=b.col1.y*l+b.col2.y*r,l=g,g=c.m_sweep.c.x+l-a.m_sweep.c.x-d,k=c.m_sweep.c.y+r-a.m_sweep.c.y-e;b=Math.sqrt(g*g+k*k);g/=b;k/=b;b-=this.m_length;b=v.clamp(b,-x.b2_maxLinearCorrection,x.b2_maxLinearCorrection);var f=
-this.m_mass*b;this.m_u.set(g,k);g=f*this.m_u.x;k=f*this.m_u.y;a.m_sweep.c.x-=a.m_invMass*g;a.m_sweep.c.y-=a.m_invMass*k;a.m_sweep.a-=a.m_invI*(d*k-e*g);c.m_sweep.c.x+=c.m_invMass*g;c.m_sweep.c.y+=c.m_invMass*k;c.m_sweep.a+=c.m_invI*(l*k-r*g);a.synchronizeTransform();c.synchronizeTransform();return v.abs(b)<x.b2_linearSlop},__class__:ff});var za=function(){this.type=Q.UNKNOWN_JOINT;this.bodyB=this.bodyA=this.userData=null;this.collideConnected=!1};h["box2D.dynamics.joints.B2JointDef"]=za;za.__name__=
["box2D","dynamics","joints","B2JointDef"];za.prototype={__class__:za};var gf=function(){za.call(this);this.localAnchorA=new w;this.localAnchorB=new w;this.type=Q.DISTANCE_JOINT;this.length=1;this.dampingRatio=this.frequencyHz=0};h["box2D.dynamics.joints.B2DistanceJointDef"]=gf;gf.__name__=["box2D","dynamics","joints","B2DistanceJointDef"];gf.__super__=za;gf.prototype=q(za.prototype,{initialize:function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA.setV(this.bodyA.getLocalPoint(c));this.localAnchorB.setV(this.bodyB.getLocalPoint(d));
a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.dampingRatio=this.frequencyHz=0},__class__:gf});var rf=function(a){qa.call(this,a);this.m_localAnchorA=new w;this.m_localAnchorB=new w;this.m_linearMass=new ta;this.m_linearImpulse=new w;this.m_localAnchorA.setV(a.localAnchorA);this.m_localAnchorB.setV(a.localAnchorB);this.m_linearMass.setZero();this.m_angularMass=0;this.m_linearImpulse.setZero();this.m_angularImpulse=0;this.m_maxForce=a.maxForce;this.m_maxTorque=a.maxTorque};h["box2D.dynamics.joints.B2FrictionJoint"]=
rf;rf.__name__=["box2D","dynamics","joints","B2FrictionJoint"];rf.__super__=qa;rf.prototype=q(qa.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},getReactionForce:function(a){return new w(a*this.m_linearImpulse.x,a*this.m_linearImpulse.y)},getReactionTorque:function(a){return a*this.m_angularImpulse},setMaxForce:function(a){this.m_maxForce=a},getMaxForce:function(){return this.m_maxForce},
setMaxTorque:function(a){this.m_maxTorque=a},getMaxTorque:function(){return this.m_maxTorque},initVelocityConstraints:function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var g=this.m_localAnchorA.x-d.m_sweep.localCenter.x,l=this.m_localAnchorA.y-d.m_sweep.localCenter.y;c=b.col1.x*g+b.col2.x*l;l=b.col1.y*g+b.col2.y*l;g=c;b=e.m_xf.R;var r=this.m_localAnchorB.x-e.m_sweep.localCenter.x,k=this.m_localAnchorB.y-e.m_sweep.localCenter.y;c=b.col1.x*r+b.col2.x*k;k=b.col1.y*r+b.col2.y*k;r=c;b=d.m_invMass;
c=e.m_invMass;var f=d.m_invI,h=e.m_invI,m=new ta;m.col1.x=b+c;m.col2.x=0;m.col1.y=0;m.col2.y=b+c;m.col1.x+=f*l*l;m.col2.x+=-f*g*l;m.col1.y+=-f*g*l;m.col2.y+=f*g*g;m.col1.x+=h*k*k;m.col2.x+=-h*r*k;m.col1.y+=-h*r*k;m.col2.y+=h*r*r;m.getInverse(this.m_linearMass);this.m_angularMass=f+h;0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass);a.warmStarting?(this.m_linearImpulse.x*=a.dtRatio,this.m_linearImpulse.y*=a.dtRatio,this.m_angularImpulse*=a.dtRatio,a=this.m_linearImpulse,d.m_linearVelocity.x-=
b*a.x,d.m_linearVelocity.y-=b*a.y,d.m_angularVelocity-=f*(g*a.y-l*a.x+this.m_angularImpulse),e.m_linearVelocity.x+=c*a.x,e.m_linearVelocity.y+=c*a.y,e.m_angularVelocity+=h*(r*a.y-k*a.x+this.m_angularImpulse)):(this.m_linearImpulse.setZero(),this.m_angularImpulse=0)},solveVelocityConstraints:function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB,g=d.m_linearVelocity,l=d.m_angularVelocity,r=e.m_linearVelocity,k=e.m_angularVelocity,f=d.m_invMass,h=e.m_invMass,m=d.m_invI,n=e.m_invI;b=d.m_xf.R;var q=this.m_localAnchorA.x-
d.m_sweep.localCenter.x,p=this.m_localAnchorA.y-d.m_sweep.localCenter.y;c=b.col1.x*q+b.col2.x*p;p=b.col1.y*q+b.col2.y*p;q=c;b=e.m_xf.R;var s=this.m_localAnchorB.x-e.m_sweep.localCenter.x,t=this.m_localAnchorB.y-e.m_sweep.localCenter.y;c=b.col1.x*s+b.col2.x*t;t=b.col1.y*s+b.col2.y*t;s=c;c=-this.m_angularMass*(k-l);var u=this.m_angularImpulse;b=a.dt*this.m_maxTorque;this.m_angularImpulse=v.clamp(this.m_angularImpulse+c,-b,b);c=this.m_angularImpulse-u;l-=m*c;k+=n*c;b=v.mulMV(this.m_linearMass,new w(-(r.x-
k*t-g.x+l*p),-(r.y+k*s-g.y-l*q)));c=this.m_linearImpulse.copy();this.m_linearImpulse.add(b);b=a.dt*this.m_maxForce;this.m_linearImpulse.lengthSquared()>b*b&&(this.m_linearImpulse.normalize(),this.m_linearImpulse.multiply(b));b=v.subtractVV(this.m_linearImpulse,c);g.x-=f*b.x;g.y-=f*b.y;l-=m*(q*b.y-p*b.x);r.x+=h*b.x;r.y+=h*b.y;k+=n*(s*b.y-t*b.x);d.m_angularVelocity=l;e.m_angularVelocity=k},solvePositionConstraints:function(a){return!0},__class__:rf});var sf=function(){za.call(this);this.localAnchorA=
new w;this.localAnchorB=new w;this.type=Q.FRICTION_JOINT;this.maxTorque=this.maxForce=0};h["box2D.dynamics.joints.B2FrictionJointDef"]=sf;sf.__name__=["box2D","dynamics","joints","B2FrictionJointDef"];sf.__super__=za;sf.prototype=q(za.prototype,{initialize:function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA.setV(this.bodyA.getLocalPoint(c));this.localAnchorB.setV(this.bodyB.getLocalPoint(c))},__class__:sf});var lf=function(a){qa.call(this,a);this.m_groundAnchor1=new w;this.m_groundAnchor2=
new w;this.m_localAnchor1=new w;this.m_localAnchor2=new w;this.m_J=new Nh;var b=a.joint1.m_type,c=a.joint2.m_type;this.m_prismatic2=this.m_revolute2=this.m_prismatic1=this.m_revolute1=null;this.m_ground1=a.joint1.getBodyA();this.m_bodyA=a.joint1.getBodyB();b==Q.REVOLUTE_JOINT?(this.m_revolute1=H.__cast(a.joint1,Rb),this.m_groundAnchor1.setV(this.m_revolute1.m_localAnchor1),this.m_localAnchor1.setV(this.m_revolute1.m_localAnchor2),b=this.m_revolute1.getJointAngle()):(this.m_prismatic1=H.__cast(a.joint1,
hd),this.m_groundAnchor1.setV(this.m_prismatic1.m_localAnchor1),this.m_localAnchor1.setV(this.m_prismatic1.m_localAnchor2),b=this.m_prismatic1.getJointTranslation());this.m_ground2=a.joint2.getBodyA();this.m_bodyB=a.joint2.getBodyB();c==Q.REVOLUTE_JOINT?(this.m_revolute2=H.__cast(a.joint2,Rb),this.m_groundAnchor2.setV(this.m_revolute2.m_localAnchor1),this.m_localAnchor2.setV(this.m_revolute2.m_localAnchor2),c=this.m_revolute2.getJointAngle()):(this.m_prismatic2=H.__cast(a.joint2,hd),this.m_groundAnchor2.setV(this.m_prismatic2.m_localAnchor1),
this.m_localAnchor2.setV(this.m_prismatic2.m_localAnchor2),c=this.m_prismatic2.getJointTranslation());this.m_ratio=a.ratio;this.m_constant=b+this.m_ratio*c;this.m_impulse=0};h["box2D.dynamics.joints.B2GearJoint"]=lf;lf.__name__=["box2D","dynamics","joints","B2GearJoint"];lf.__super__=qa;lf.prototype=q(qa.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(a){return new w(a*
this.m_impulse*this.m_J.linearB.x,a*this.m_impulse*this.m_J.linearB.y)},getReactionTorque:function(a){var b=this.m_bodyB.m_xf.R,c=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,d=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,e=b.col1.x*c+b.col2.x*d,d=b.col1.y*c+b.col2.y*d;return a*(this.m_impulse*this.m_J.angularB-e*this.m_impulse*this.m_J.linearB.y+d*this.m_impulse*this.m_J.linearB.x)},getRatio:function(){return this.m_ratio},setRatio:function(a){this.m_ratio=a},initVelocityConstraints:function(a){var b=
this.m_ground1,c=this.m_ground2,d=this.m_bodyA,e=this.m_bodyB,g,l,r,k,f,h=0;this.m_J.setZero();null!=this.m_revolute1?(this.m_J.angularA=-1,h+=d.m_invI):(k=b.m_xf.R,g=this.m_prismatic1.m_localXAxis1,b=k.col1.x*g.x+k.col2.x*g.y,g=k.col1.y*g.x+k.col2.y*g.y,k=d.m_xf.R,l=this.m_localAnchor1.x-d.m_sweep.localCenter.x,r=this.m_localAnchor1.y-d.m_sweep.localCenter.y,f=k.col1.x*l+k.col2.x*r,r=k.col1.y*l+k.col2.y*r,k=f*g-r*b,this.m_J.linearA.set(-b,-g),this.m_J.angularA=-k,h+=d.m_invMass+d.m_invI*k*k);null!=
this.m_revolute2?(this.m_J.angularB=-this.m_ratio,h+=this.m_ratio*this.m_ratio*e.m_invI):(k=c.m_xf.R,g=this.m_prismatic2.m_localXAxis1,b=k.col1.x*g.x+k.col2.x*g.y,g=k.col1.y*g.x+k.col2.y*g.y,k=e.m_xf.R,l=this.m_localAnchor2.x-e.m_sweep.localCenter.x,r=this.m_localAnchor2.y-e.m_sweep.localCenter.y,f=k.col1.x*l+k.col2.x*r,r=k.col1.y*l+k.col2.y*r,k=f*g-r*b,this.m_J.linearB.set(-this.m_ratio*b,-this.m_ratio*g),this.m_J.angularB=-this.m_ratio*k,h+=this.m_ratio*this.m_ratio*(e.m_invMass+e.m_invI*k*k));
this.m_mass=0<h?1/h:0;a.warmStarting?(d.m_linearVelocity.x+=d.m_invMass*this.m_impulse*this.m_J.linearA.x,d.m_linearVelocity.y+=d.m_invMass*this.m_impulse*this.m_J.linearA.y,d.m_angularVelocity+=d.m_invI*this.m_impulse*this.m_J.angularA,e.m_linearVelocity.x+=e.m_invMass*this.m_impulse*this.m_J.linearB.x,e.m_linearVelocity.y+=e.m_invMass*this.m_impulse*this.m_J.linearB.y,e.m_angularVelocity+=e.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0},solveVelocityConstraints:function(a){a=this.m_bodyA;
var b=this.m_bodyB,c=this.m_J.compute(a.m_linearVelocity,a.m_angularVelocity,b.m_linearVelocity,b.m_angularVelocity),c=-this.m_mass*c;this.m_impulse+=c;a.m_linearVelocity.x+=a.m_invMass*c*this.m_J.linearA.x;a.m_linearVelocity.y+=a.m_invMass*c*this.m_J.linearA.y;a.m_angularVelocity+=a.m_invI*c*this.m_J.angularA;b.m_linearVelocity.x+=b.m_invMass*c*this.m_J.linearB.x;b.m_linearVelocity.y+=b.m_invMass*c*this.m_J.linearB.y;b.m_angularVelocity+=b.m_invI*c*this.m_J.angularB},solvePositionConstraints:function(a){a=
this.m_bodyA;var b=this.m_bodyB,c,d;c=null!=this.m_revolute1?this.m_revolute1.getJointAngle():this.m_prismatic1.getJointTranslation();d=null!=this.m_revolute2?this.m_revolute2.getJointAngle():this.m_prismatic2.getJointTranslation();c=-this.m_mass*(this.m_constant-(c+this.m_ratio*d));a.m_sweep.c.x+=a.m_invMass*c*this.m_J.linearA.x;a.m_sweep.c.y+=a.m_invMass*c*this.m_J.linearA.y;a.m_sweep.a+=a.m_invI*c*this.m_J.angularA;b.m_sweep.c.x+=b.m_invMass*c*this.m_J.linearB.x;b.m_sweep.c.y+=b.m_invMass*c*this.m_J.linearB.y;
b.m_sweep.a+=b.m_invI*c*this.m_J.angularB;a.synchronizeTransform();b.synchronizeTransform();return 0<x.b2_linearSlop},__class__:lf});var mf=function(){za.call(this);this.type=Q.GEAR_JOINT;this.joint2=this.joint1=null;this.ratio=1};h["box2D.dynamics.joints.B2GearJointDef"]=mf;mf.__name__=["box2D","dynamics","joints","B2GearJointDef"];mf.__super__=za;mf.prototype=q(za.prototype,{__class__:mf});var Nh=function(){this.linearA=new w;this.linearB=new w};h["box2D.dynamics.joints.B2Jacobian"]=Nh;Nh.__name__=
["box2D","dynamics","joints","B2Jacobian"];Nh.prototype={setZero:function(){this.linearA.setZero();this.angularA=0;this.linearB.setZero();this.angularB=0},set:function(a,b,c,d){this.linearA.setV(a);this.angularA=b;this.linearB.setV(c);this.angularB=d},compute:function(a,b,c,d){return this.linearA.x*a.x+this.linearA.y*a.y+this.angularA*b+(this.linearB.x*c.x+this.linearB.y*c.y)+this.angularB*d},__class__:Nh};var cf=function(){};h["box2D.dynamics.joints.B2JointEdge"]=cf;cf.__name__=["box2D","dynamics",
"joints","B2JointEdge"];cf.prototype={__class__:cf};var Q=h["box2D.dynamics.joints.B2JointType"]={__ename__:["box2D","dynamics","joints","B2JointType"],__constructs__:"UNKNOWN_JOINT REVOLUTE_JOINT PRISMATIC_JOINT DISTANCE_JOINT PULLEY_JOINT MOUSE_JOINT GEAR_JOINT LINE_JOINT WELD_JOINT FRICTION_JOINT".split(" ")};Q.UNKNOWN_JOINT=["UNKNOWN_JOINT",0];Q.UNKNOWN_JOINT.toString=N;Q.UNKNOWN_JOINT.__enum__=Q;Q.REVOLUTE_JOINT=["REVOLUTE_JOINT",1];Q.REVOLUTE_JOINT.toString=N;Q.REVOLUTE_JOINT.__enum__=Q;Q.PRISMATIC_JOINT=
["PRISMATIC_JOINT",2];Q.PRISMATIC_JOINT.toString=N;Q.PRISMATIC_JOINT.__enum__=Q;Q.DISTANCE_JOINT=["DISTANCE_JOINT",3];Q.DISTANCE_JOINT.toString=N;Q.DISTANCE_JOINT.__enum__=Q;Q.PULLEY_JOINT=["PULLEY_JOINT",4];Q.PULLEY_JOINT.toString=N;Q.PULLEY_JOINT.__enum__=Q;Q.MOUSE_JOINT=["MOUSE_JOINT",5];Q.MOUSE_JOINT.toString=N;Q.MOUSE_JOINT.__enum__=Q;Q.GEAR_JOINT=["GEAR_JOINT",6];Q.GEAR_JOINT.toString=N;Q.GEAR_JOINT.__enum__=Q;Q.LINE_JOINT=["LINE_JOINT",7];Q.LINE_JOINT.toString=N;Q.LINE_JOINT.__enum__=Q;Q.WELD_JOINT=
["WELD_JOINT",8];Q.WELD_JOINT.toString=N;Q.WELD_JOINT.__enum__=Q;Q.FRICTION_JOINT=["FRICTION_JOINT",9];Q.FRICTION_JOINT.toString=N;Q.FRICTION_JOINT.__enum__=Q;Q.__empty_constructs__=[Q.UNKNOWN_JOINT,Q.REVOLUTE_JOINT,Q.PRISMATIC_JOINT,Q.DISTANCE_JOINT,Q.PULLEY_JOINT,Q.MOUSE_JOINT,Q.GEAR_JOINT,Q.LINE_JOINT,Q.WELD_JOINT,Q.FRICTION_JOINT];var M=h["box2D.dynamics.joints.B2LimitState"]={__ename__:["box2D","dynamics","joints","B2LimitState"],__constructs__:["INACTIVE_LIMIT","AT_LOWER_LIMIT","AT_UPPER_LIMIT",
"EQUAL_LIMITS"]};M.INACTIVE_LIMIT=["INACTIVE_LIMIT",0];M.INACTIVE_LIMIT.toString=N;M.INACTIVE_LIMIT.__enum__=M;M.AT_LOWER_LIMIT=["AT_LOWER_LIMIT",1];M.AT_LOWER_LIMIT.toString=N;M.AT_LOWER_LIMIT.__enum__=M;M.AT_UPPER_LIMIT=["AT_UPPER_LIMIT",2];M.AT_UPPER_LIMIT.toString=N;M.AT_UPPER_LIMIT.__enum__=M;M.EQUAL_LIMITS=["EQUAL_LIMITS",3];M.EQUAL_LIMITS.toString=N;M.EQUAL_LIMITS.__enum__=M;M.__empty_constructs__=[M.INACTIVE_LIMIT,M.AT_LOWER_LIMIT,M.AT_UPPER_LIMIT,M.EQUAL_LIMITS];var nf=function(a){qa.call(this,
a);this.m_localAnchor1=new w;this.m_localAnchor2=new w;this.m_localXAxis1=new w;this.m_localYAxis1=new w;this.m_axis=new w;this.m_perp=new w;this.m_K=new ta;this.m_impulse=new w;this.m_localAnchor1.setV(a.localAnchorA);this.m_localAnchor2.setV(a.localAnchorB);this.m_localXAxis1.setV(a.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_impulse.setZero();this.m_motorImpulse=this.m_motorMass=0;this.m_lowerTranslation=a.lowerTranslation;this.m_upperTranslation=
a.upperTranslation;this.m_maxMotorForce=a.maxMotorForce;this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=M.INACTIVE_LIMIT;this.m_axis.setZero();this.m_perp.setZero()};h["box2D.dynamics.joints.B2LineJoint"]=nf;nf.__name__=["box2D","dynamics","joints","B2LineJoint"];nf.__super__=qa;nf.prototype=q(qa.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},
getReactionForce:function(a){return new w(a*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),a*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))},getReactionTorque:function(a){return a*this.m_impulse.y},getJointTranslation:function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.getWorldPoint(this.m_localAnchor1),d=b.getWorldPoint(this.m_localAnchor2),b=d.x-c.x,c=d.y-c.y,a=a.getWorldVector(this.m_localXAxis1);return a.x*b+a.y*c},getJointSpeed:function(){var a=
this.m_bodyA,b=this.m_bodyB,c=a.m_xf.R,d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,g=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=g,c=b.m_xf.R,l=this.m_localAnchor2.x-b.m_sweep.localCenter.x,f=this.m_localAnchor2.y-b.m_sweep.localCenter.y,g=c.col1.x*l+c.col2.x*f,f=c.col1.y*l+c.col2.y*f,l=g,c=b.m_sweep.c.x+l-(a.m_sweep.c.x+d),g=b.m_sweep.c.y+f-(a.m_sweep.c.y+e),k=a.getWorldVector(this.m_localXAxis1),h=a.m_linearVelocity,m=b.m_linearVelocity,a=
a.m_angularVelocity,b=b.m_angularVelocity;return c*-a*k.y+g*a*k.x+(k.x*(m.x+-b*f-h.x- -a*e)+k.y*(m.y+b*l-h.y-a*d))},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_enableLimit=a},getLowerLimit:function(){return this.m_lowerTranslation},getUpperLimit:function(){return this.m_upperTranslation},setLimits:function(a,b){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_lowerTranslation=a;this.m_upperTranslation=
b},isMotorEnabled:function(){return this.m_enableMotor},enableMotor:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_enableMotor=a},setMotorSpeed:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_motorSpeed=a},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorForce:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_maxMotorForce=a},getMaxMotorForce:function(){return this.m_maxMotorForce},getMotorForce:function(){return this.m_motorImpulse},
initVelocityConstraints:function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;this.m_localCenterA.setV(b.getLocalCenter());this.m_localCenterB.setV(c.getLocalCenter());var g=b.getTransform();c.getTransform();d=b.m_xf.R;var l=this.m_localAnchor1.x-this.m_localCenterA.x,f=this.m_localAnchor1.y-this.m_localCenterA.y;e=d.col1.x*l+d.col2.x*f;f=d.col1.y*l+d.col2.y*f;l=e;d=c.m_xf.R;var k=this.m_localAnchor2.x-this.m_localCenterB.x,h=this.m_localAnchor2.y-this.m_localCenterB.y;e=d.col1.x*k+d.col2.x*h;h=d.col1.y*
k+d.col2.y*h;k=e;d=c.m_sweep.c.x+k-b.m_sweep.c.x-l;e=c.m_sweep.c.y+h-b.m_sweep.c.y-f;this.m_invMassA=b.m_invMass;this.m_invMassB=c.m_invMass;this.m_invIA=b.m_invI;this.m_invIB=c.m_invI;this.m_axis.setV(v.mulMV(g.R,this.m_localXAxis1));this.m_a1=(d+l)*this.m_axis.y-(e+f)*this.m_axis.x;this.m_a2=k*this.m_axis.y-h*this.m_axis.x;this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2;this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:
0;this.m_perp.setV(v.mulMV(g.R,this.m_localYAxis1));this.m_s1=(d+l)*this.m_perp.y-(e+f)*this.m_perp.x;this.m_s2=k*this.m_perp.y-h*this.m_perp.x;g=this.m_invMassA;l=this.m_invMassB;f=this.m_invIA;k=this.m_invIB;this.m_K.col1.x=g+l+f*this.m_s1*this.m_s1+k*this.m_s2*this.m_s2;this.m_K.col1.y=f*this.m_s1*this.m_a1+k*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=g+l+f*this.m_a1*this.m_a1+k*this.m_a2*this.m_a2;this.m_enableLimit?(d=this.m_axis.x*d+this.m_axis.y*e,v.abs(this.m_upperTranslation-
this.m_lowerTranslation)<2*x.b2_linearSlop?this.m_limitState=M.EQUAL_LIMITS:d<=this.m_lowerTranslation?this.m_limitState!=M.AT_LOWER_LIMIT&&(this.m_limitState=M.AT_LOWER_LIMIT,this.m_impulse.y=0):d>=this.m_upperTranslation?this.m_limitState!=M.AT_UPPER_LIMIT&&(this.m_limitState=M.AT_UPPER_LIMIT,this.m_impulse.y=0):(this.m_limitState=M.INACTIVE_LIMIT,this.m_impulse.y=0)):this.m_limitState=M.INACTIVE_LIMIT;!1==this.m_enableMotor&&(this.m_motorImpulse=0);a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=
a.dtRatio,this.m_motorImpulse*=a.dtRatio,a=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,d=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,e=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,g=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2,b.m_linearVelocity.x-=this.m_invMassA*a,b.m_linearVelocity.y-=this.m_invMassA*d,b.m_angularVelocity-=this.m_invIA*e,c.m_linearVelocity.x+=
this.m_invMassB*a,c.m_linearVelocity.y+=this.m_invMassB*d,c.m_angularVelocity+=this.m_invIB*g):(this.m_impulse.setZero(),this.m_motorImpulse=0)},solveVelocityConstraints:function(a){var b=this.m_bodyA,c=this.m_bodyB,d=b.m_linearVelocity,e=b.m_angularVelocity,g=c.m_linearVelocity,l=c.m_angularVelocity,f,k,h;this.m_enableMotor&&this.m_limitState!=M.EQUAL_LIMITS&&(h=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(g.x-d.x)+this.m_axis.y*(g.y-d.y)+this.m_a2*l-this.m_a1*e)),f=this.m_motorImpulse,a=
a.dt*this.m_maxMotorForce,this.m_motorImpulse=v.clamp(this.m_motorImpulse+h,-a,a),h=this.m_motorImpulse-f,f=h*this.m_axis.x,a=h*this.m_axis.y,k=h*this.m_a1,h*=this.m_a2,d.x-=this.m_invMassA*f,d.y-=this.m_invMassA*a,e-=this.m_invIA*k,g.x+=this.m_invMassB*f,g.y+=this.m_invMassB*a,l+=this.m_invIB*h);a=this.m_perp.x*(g.x-d.x)+this.m_perp.y*(g.y-d.y)+this.m_s2*l-this.m_s1*e;this.m_enableLimit&&this.m_limitState!=M.INACTIVE_LIMIT?(k=this.m_axis.x*(g.x-d.x)+this.m_axis.y*(g.y-d.y)+this.m_a2*l-this.m_a1*
e,f=this.m_impulse.copy(),h=this.m_K.solve(new w,-a,-k),this.m_impulse.add(h),this.m_limitState==M.AT_LOWER_LIMIT?this.m_impulse.y=v.max(this.m_impulse.y,0):this.m_limitState==M.AT_UPPER_LIMIT&&(this.m_impulse.y=v.min(this.m_impulse.y,0)),a=-a-(this.m_impulse.y-f.y)*this.m_K.col2.x,this.m_impulse.x=0!=this.m_K.col1.x?a/this.m_K.col1.x+f.x:f.x,h.x=this.m_impulse.x-f.x,h.y=this.m_impulse.y-f.y,f=h.x*this.m_perp.x+h.y*this.m_axis.x,a=h.x*this.m_perp.y+h.y*this.m_axis.y,k=h.x*this.m_s1+h.y*this.m_a1,
h=h.x*this.m_s2+h.y*this.m_a2):(h=0!=this.m_K.col1.x?-a/this.m_K.col1.x:0,this.m_impulse.x+=h,f=h*this.m_perp.x,a=h*this.m_perp.y,k=h*this.m_s1,h*=this.m_s2);d.x-=this.m_invMassA*f;d.y-=this.m_invMassA*a;e-=this.m_invIA*k;g.x+=this.m_invMassB*f;g.y+=this.m_invMassB*a;l+=this.m_invIB*h;b.m_linearVelocity.setV(d);b.m_angularVelocity=e;c.m_linearVelocity.setV(g);c.m_angularVelocity=l},solvePositionConstraints:function(a){a=this.m_bodyA;var b=this.m_bodyB,c=a.m_sweep.c,d=a.m_sweep.a,e=b.m_sweep.c,g=b.m_sweep.a,
l,f,k,h,m,n=0,q=0;k=!1;var p=0,s=ta.fromAngle(d);h=ta.fromAngle(g);l=s;var q=this.m_localAnchor1.x-this.m_localCenterA.x,t=this.m_localAnchor1.y-this.m_localCenterA.y;f=l.col1.x*q+l.col2.x*t;t=l.col1.y*q+l.col2.y*t;q=f;l=h;h=this.m_localAnchor2.x-this.m_localCenterB.x;m=this.m_localAnchor2.y-this.m_localCenterB.y;f=l.col1.x*h+l.col2.x*m;m=l.col1.y*h+l.col2.y*m;h=f;l=e.x+h-c.x-q;f=e.y+m-c.y-t;if(this.m_enableLimit){this.m_axis=v.mulMV(s,this.m_localXAxis1);this.m_a1=(l+q)*this.m_axis.y-(f+t)*this.m_axis.x;
this.m_a2=h*this.m_axis.y-m*this.m_axis.x;var u=this.m_axis.x*l+this.m_axis.y*f;v.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*x.b2_linearSlop?(p=v.clamp(u,-x.b2_maxLinearCorrection,x.b2_maxLinearCorrection),n=v.abs(u),k=!0):u<=this.m_lowerTranslation?(p=v.clamp(u-this.m_lowerTranslation+x.b2_linearSlop,-x.b2_maxLinearCorrection,0),n=this.m_lowerTranslation-u,k=!0):u>=this.m_upperTranslation&&(p=v.clamp(u-this.m_upperTranslation+x.b2_linearSlop,0,x.b2_maxLinearCorrection),n=u-this.m_upperTranslation,
k=!0)}this.m_perp=v.mulMV(s,this.m_localYAxis1);this.m_s1=(l+q)*this.m_perp.y-(f+t)*this.m_perp.x;this.m_s2=h*this.m_perp.y-m*this.m_perp.x;s=new w;t=this.m_perp.x*l+this.m_perp.y*f;n=v.max(n,v.abs(t));q=0;k?(k=this.m_invMassA,h=this.m_invMassB,m=this.m_invIA,l=this.m_invIB,this.m_K.col1.x=k+h+m*this.m_s1*this.m_s1+l*this.m_s2*this.m_s2,this.m_K.col1.y=m*this.m_s1*this.m_a1+l*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=k+h+m*this.m_a1*this.m_a1+l*this.m_a2*this.m_a2,this.m_K.solve(s,
-t,-p)):(k=this.m_invMassA,h=this.m_invMassB,m=this.m_invIA,l=this.m_invIB,p=k+h+m*this.m_s1*this.m_s1+l*this.m_s2*this.m_s2,s.x=0!=p?-t/p:0,s.y=0);p=s.x*this.m_perp.x+s.y*this.m_axis.x;k=s.x*this.m_perp.y+s.y*this.m_axis.y;t=s.x*this.m_s1+s.y*this.m_a1;s=s.x*this.m_s2+s.y*this.m_a2;c.x-=this.m_invMassA*p;c.y-=this.m_invMassA*k;d-=this.m_invIA*t;e.x+=this.m_invMassB*p;e.y+=this.m_invMassB*k;g+=this.m_invIB*s;a.m_sweep.a=d;b.m_sweep.a=g;a.synchronizeTransform();b.synchronizeTransform();return n<=x.b2_linearSlop?
q<=x.b2_angularSlop:!1},__class__:nf});var of=function(){za.call(this)};h["box2D.dynamics.joints.B2LineJointDef"]=of;of.__name__=["box2D","dynamics","joints","B2LineJointDef"];of.__super__=za;of.prototype=q(za.prototype,{b2LineJointDef:function(){this.localAnchorA=new w;this.localAnchorB=new w;this.localAxisA=new w;this.type=Q.LINE_JOINT;this.localAxisA.set(1,0);this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0},initialize:function(a,
b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.getLocalPoint(c);this.localAnchorB=this.bodyB.getLocalPoint(c);this.localAxisA=this.bodyA.getLocalVector(d)},__class__:of});var jf=function(a){qa.call(this,a);this.K=new ta;this.K1=new ta;this.K2=new ta;this.m_localAnchor=new w;this.m_target=new w;this.m_impulse=new w;this.m_mass=new ta;this.m_C=new w;this.m_target.setV(a.target);var b=this.m_target.x-this.m_bodyB.m_xf.position.x,c=this.m_target.y-this.m_bodyB.m_xf.position.y,d=this.m_bodyB.m_xf.R;
this.m_localAnchor.x=b*d.col1.x+c*d.col1.y;this.m_localAnchor.y=b*d.col2.x+c*d.col2.y;this.m_maxForce=a.maxForce;this.m_impulse.setZero();this.m_frequencyHz=a.frequencyHz;this.m_dampingRatio=a.dampingRatio;this.m_gamma=this.m_beta=0};h["box2D.dynamics.joints.B2MouseJoint"]=jf;jf.__name__=["box2D","dynamics","joints","B2MouseJoint"];jf.__super__=qa;jf.prototype=q(qa.prototype,{getAnchorA:function(){return this.m_target},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor)},getReactionForce:function(a){return new w(a*
this.m_impulse.x,a*this.m_impulse.y)},getReactionTorque:function(a){return 0},getTarget:function(){return this.m_target},setTarget:function(a){!1==this.m_bodyB.isAwake()&&this.m_bodyB.setAwake(!0);this.m_target=a},getMaxForce:function(){return this.m_maxForce},setMaxForce:function(a){this.m_maxForce=a},getFrequency:function(){return this.m_frequencyHz},setFrequency:function(a){this.m_frequencyHz=a},getDampingRatio:function(){return this.m_dampingRatio},setDampingRatio:function(a){this.m_dampingRatio=
a},initVelocityConstraints:function(a){var b=this.m_bodyB,c=b.getMass(),d=2*Math.PI*this.m_frequencyHz,e=c*d*d;this.m_gamma=a.dt*(2*c*this.m_dampingRatio*d+a.dt*e);this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0;this.m_beta=a.dt*e*this.m_gamma;var e=b.m_xf.R,c=this.m_localAnchor.x-b.m_sweep.localCenter.x,d=this.m_localAnchor.y-b.m_sweep.localCenter.y,g=e.col1.x*c+e.col2.x*d,d=e.col1.y*c+e.col2.y*d,c=g,e=b.m_invMass,g=b.m_invI;this.K1.col1.x=e;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=e;this.K2.col1.x=
g*d*d;this.K2.col2.x=-g*c*d;this.K2.col1.y=-g*c*d;this.K2.col2.y=g*c*c;this.K.setM(this.K1);this.K.addM(this.K2);this.K.col1.x+=this.m_gamma;this.K.col2.y+=this.m_gamma;this.K.getInverse(this.m_mass);this.m_C.x=b.m_sweep.c.x+c-this.m_target.x;this.m_C.y=b.m_sweep.c.y+d-this.m_target.y;b.m_angularVelocity*=0.98;this.m_impulse.x*=a.dtRatio;this.m_impulse.y*=a.dtRatio;b.m_linearVelocity.x+=e*this.m_impulse.x;b.m_linearVelocity.y+=e*this.m_impulse.y;b.m_angularVelocity+=g*(c*this.m_impulse.y-d*this.m_impulse.x)},
solveVelocityConstraints:function(a){var b=this.m_bodyB,c,d,e;c=b.m_xf.R;var g=this.m_localAnchor.x-b.m_sweep.localCenter.x,l=this.m_localAnchor.y-b.m_sweep.localCenter.y;d=c.col1.x*g+c.col2.x*l;l=c.col1.y*g+c.col2.y*l;g=d;d=b.m_linearVelocity.x+-b.m_angularVelocity*l;var f=b.m_linearVelocity.y+b.m_angularVelocity*g;c=this.m_mass;d=d+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x;e=f+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;f=-(c.col1.x*d+c.col2.x*e);e=-(c.col1.y*d+c.col2.y*e);c=
this.m_impulse.x;d=this.m_impulse.y;this.m_impulse.x+=f;this.m_impulse.y+=e;a=a.dt*this.m_maxForce;this.m_impulse.lengthSquared()>a*a&&this.m_impulse.multiply(a/this.m_impulse.length());f=this.m_impulse.x-c;e=this.m_impulse.y-d;b.m_linearVelocity.x+=b.m_invMass*f;b.m_linearVelocity.y+=b.m_invMass*e;b.m_angularVelocity+=b.m_invI*(g*e-l*f)},solvePositionConstraints:function(a){return!0},__class__:jf});var kf=function(){za.call(this);this.target=new w;this.type=Q.MOUSE_JOINT;this.maxForce=0;this.frequencyHz=
5;this.dampingRatio=0.7};h["box2D.dynamics.joints.B2MouseJointDef"]=kf;kf.__name__=["box2D","dynamics","joints","B2MouseJointDef"];kf.__super__=za;kf.prototype=q(za.prototype,{__class__:kf});var hd=function(a){qa.call(this,a);this.m_localAnchor1=new w;this.m_localAnchor2=new w;this.m_localXAxis1=new w;this.m_localYAxis1=new w;this.m_axis=new w;this.m_perp=new w;this.m_K=new Jc;this.m_impulse=new kb;this.m_localAnchor1.setV(a.localAnchorA);this.m_localAnchor2.setV(a.localAnchorB);this.m_localXAxis1.setV(a.localAxisA);
this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_refAngle=a.referenceAngle;this.m_impulse.setZero();this.m_motorImpulse=this.m_motorMass=0;this.m_lowerTranslation=a.lowerTranslation;this.m_upperTranslation=a.upperTranslation;this.m_maxMotorForce=a.maxMotorForce;this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=M.INACTIVE_LIMIT;this.m_axis.setZero();this.m_perp.setZero()};h["box2D.dynamics.joints.B2PrismaticJoint"]=
hd;hd.__name__=["box2D","dynamics","joints","B2PrismaticJoint"];hd.__super__=qa;hd.prototype=q(qa.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(a){return new w(a*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),a*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))},getReactionTorque:function(a){return a*
this.m_impulse.y},getJointTranslation:function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.getWorldPoint(this.m_localAnchor1),d=b.getWorldPoint(this.m_localAnchor2),b=d.x-c.x,c=d.y-c.y,a=a.getWorldVector(this.m_localXAxis1);return a.x*b+a.y*c},getJointSpeed:function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.m_xf.R,d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,g=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=g,c=b.m_xf.R,l=this.m_localAnchor2.x-b.m_sweep.localCenter.x,
f=this.m_localAnchor2.y-b.m_sweep.localCenter.y,g=c.col1.x*l+c.col2.x*f,f=c.col1.y*l+c.col2.y*f,l=g,c=b.m_sweep.c.x+l-(a.m_sweep.c.x+d),g=b.m_sweep.c.y+f-(a.m_sweep.c.y+e),k=a.getWorldVector(this.m_localXAxis1),h=a.m_linearVelocity,m=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return c*-a*k.y+g*a*k.x+(k.x*(m.x+-b*f-h.x- -a*e)+k.y*(m.y+b*l-h.y-a*d))},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_enableLimit=
a},getLowerLimit:function(){return this.m_lowerTranslation},getUpperLimit:function(){return this.m_upperTranslation},setLimits:function(a,b){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_lowerTranslation=a;this.m_upperTranslation=b},isMotorEnabled:function(){return this.m_enableMotor},enableMotor:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_enableMotor=a},setMotorSpeed:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_motorSpeed=a},getMotorSpeed:function(){return this.m_motorSpeed},
setMaxMotorForce:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_maxMotorForce=a},getMotorForce:function(){return this.m_motorImpulse},initVelocityConstraints:function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;this.m_localCenterA.setV(b.getLocalCenter());this.m_localCenterB.setV(c.getLocalCenter());var g=b.getTransform();c.getTransform();d=b.m_xf.R;var l=this.m_localAnchor1.x-this.m_localCenterA.x,f=this.m_localAnchor1.y-this.m_localCenterA.y;e=d.col1.x*l+d.col2.x*f;f=d.col1.y*
l+d.col2.y*f;l=e;d=c.m_xf.R;var k=this.m_localAnchor2.x-this.m_localCenterB.x,h=this.m_localAnchor2.y-this.m_localCenterB.y;e=d.col1.x*k+d.col2.x*h;h=d.col1.y*k+d.col2.y*h;k=e;d=c.m_sweep.c.x+k-b.m_sweep.c.x-l;e=c.m_sweep.c.y+h-b.m_sweep.c.y-f;this.m_invMassA=b.m_invMass;this.m_invMassB=c.m_invMass;this.m_invIA=b.m_invI;this.m_invIB=c.m_invI;this.m_axis.setV(v.mulMV(g.R,this.m_localXAxis1));this.m_a1=(d+l)*this.m_axis.y-(e+f)*this.m_axis.x;this.m_a2=k*this.m_axis.y-h*this.m_axis.x;this.m_motorMass=
this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2;this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass);this.m_perp.setV(v.mulMV(g.R,this.m_localYAxis1));this.m_s1=(d+l)*this.m_perp.y-(e+f)*this.m_perp.x;this.m_s2=k*this.m_perp.y-h*this.m_perp.x;g=this.m_invMassA;l=this.m_invMassB;f=this.m_invIA;k=this.m_invIB;this.m_K.col1.x=g+l+f*this.m_s1*this.m_s1+k*this.m_s2*this.m_s2;this.m_K.col1.y=f*this.m_s1+k*this.m_s2;this.m_K.col1.z=f*
this.m_s1*this.m_a1+k*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=f+k;this.m_K.col2.z=f*this.m_a1+k*this.m_a2;this.m_K.col3.x=this.m_K.col1.z;this.m_K.col3.y=this.m_K.col2.z;this.m_K.col3.z=g+l+f*this.m_a1*this.m_a1+k*this.m_a2*this.m_a2;this.m_enableLimit?(d=this.m_axis.x*d+this.m_axis.y*e,v.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*x.b2_linearSlop?this.m_limitState=M.EQUAL_LIMITS:d<=this.m_lowerTranslation?this.m_limitState!=M.AT_LOWER_LIMIT&&(this.m_limitState=
M.AT_LOWER_LIMIT,this.m_impulse.z=0):d>=this.m_upperTranslation?this.m_limitState!=M.AT_UPPER_LIMIT&&(this.m_limitState=M.AT_UPPER_LIMIT,this.m_impulse.z=0):(this.m_limitState=M.INACTIVE_LIMIT,this.m_impulse.z=0)):this.m_limitState=M.INACTIVE_LIMIT;!1==this.m_enableMotor&&(this.m_motorImpulse=0);a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,this.m_motorImpulse*=a.dtRatio,a=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,d=this.m_impulse.x*
this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,e=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,g=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,b.m_linearVelocity.x-=this.m_invMassA*a,b.m_linearVelocity.y-=this.m_invMassA*d,b.m_angularVelocity-=this.m_invIA*e,c.m_linearVelocity.x+=this.m_invMassB*a,c.m_linearVelocity.y+=this.m_invMassB*d,c.m_angularVelocity+=this.m_invIB*g):(this.m_impulse.setZero(),
this.m_motorImpulse=0)},solveVelocityConstraints:function(a){var b=this.m_bodyA,c=this.m_bodyB,d=b.m_linearVelocity,e=b.m_angularVelocity,g=c.m_linearVelocity,l=c.m_angularVelocity,f,k,h;this.m_enableMotor&&this.m_limitState!=M.EQUAL_LIMITS&&(h=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(g.x-d.x)+this.m_axis.y*(g.y-d.y)+this.m_a2*l-this.m_a1*e)),f=this.m_motorImpulse,a=a.dt*this.m_maxMotorForce,this.m_motorImpulse=v.clamp(this.m_motorImpulse+h,-a,a),h=this.m_motorImpulse-f,f=h*this.m_axis.x,
a=h*this.m_axis.y,k=h*this.m_a1,h*=this.m_a2,d.x-=this.m_invMassA*f,d.y-=this.m_invMassA*a,e-=this.m_invIA*k,g.x+=this.m_invMassB*f,g.y+=this.m_invMassB*a,l+=this.m_invIB*h);k=this.m_perp.x*(g.x-d.x)+this.m_perp.y*(g.y-d.y)+this.m_s2*l-this.m_s1*e;a=l-e;this.m_enableLimit&&this.m_limitState!=M.INACTIVE_LIMIT?(h=this.m_axis.x*(g.x-d.x)+this.m_axis.y*(g.y-d.y)+this.m_a2*l-this.m_a1*e,f=this.m_impulse.copy(),h=this.m_K.solve33(new kb,-k,-a,-h),this.m_impulse.add(h),this.m_limitState==M.AT_LOWER_LIMIT?
this.m_impulse.z=v.max(this.m_impulse.z,0):this.m_limitState==M.AT_UPPER_LIMIT&&(this.m_impulse.z=v.min(this.m_impulse.z,0)),k=-k-(this.m_impulse.z-f.z)*this.m_K.col3.x,a=-a-(this.m_impulse.z-f.z)*this.m_K.col3.y,a=this.m_K.solve22(new w,k,a),a.x+=f.x,a.y+=f.y,this.m_impulse.x=a.x,this.m_impulse.y=a.y,h.x=this.m_impulse.x-f.x,h.y=this.m_impulse.y-f.y,h.z=this.m_impulse.z-f.z,f=h.x*this.m_perp.x+h.z*this.m_axis.x,a=h.x*this.m_perp.y+h.z*this.m_axis.y,k=h.x*this.m_s1+h.y+h.z*this.m_a1,h=h.x*this.m_s2+
h.y+h.z*this.m_a2):(h=this.m_K.solve22(new w,-k,-a),this.m_impulse.x+=h.x,this.m_impulse.y+=h.y,f=h.x*this.m_perp.x,a=h.x*this.m_perp.y,k=h.x*this.m_s1+h.y,h=h.x*this.m_s2+h.y);d.x-=this.m_invMassA*f;d.y-=this.m_invMassA*a;e-=this.m_invIA*k;g.x+=this.m_invMassB*f;g.y+=this.m_invMassB*a;l+=this.m_invIB*h;b.m_linearVelocity.setV(d);b.m_angularVelocity=e;c.m_linearVelocity.setV(g);c.m_angularVelocity=l},solvePositionConstraints:function(a){a=this.m_bodyA;var b=this.m_bodyB,c=a.m_sweep.c,d=a.m_sweep.a,
e=b.m_sweep.c,g=b.m_sweep.a,l,f,k,h,m=0,n=0;k=!1;var q=0,p=ta.fromAngle(d),s=ta.fromAngle(g);l=p;var n=this.m_localAnchor1.x-this.m_localCenterA.x,t=this.m_localAnchor1.y-this.m_localCenterA.y;f=l.col1.x*n+l.col2.x*t;t=l.col1.y*n+l.col2.y*t;n=f;l=s;s=this.m_localAnchor2.x-this.m_localCenterB.x;h=this.m_localAnchor2.y-this.m_localCenterB.y;f=l.col1.x*s+l.col2.x*h;h=l.col1.y*s+l.col2.y*h;s=f;l=e.x+s-c.x-n;f=e.y+h-c.y-t;if(this.m_enableLimit){this.m_axis=v.mulMV(p,this.m_localXAxis1);this.m_a1=(l+n)*
this.m_axis.y-(f+t)*this.m_axis.x;this.m_a2=s*this.m_axis.y-h*this.m_axis.x;var u=this.m_axis.x*l+this.m_axis.y*f;v.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*x.b2_linearSlop?(q=v.clamp(u,-x.b2_maxLinearCorrection,x.b2_maxLinearCorrection),m=v.abs(u),k=!0):u<=this.m_lowerTranslation?(q=v.clamp(u-this.m_lowerTranslation+x.b2_linearSlop,-x.b2_maxLinearCorrection,0),m=this.m_lowerTranslation-u,k=!0):u>=this.m_upperTranslation&&(q=v.clamp(u-this.m_upperTranslation+x.b2_linearSlop,0,x.b2_maxLinearCorrection),
m=u-this.m_upperTranslation,k=!0)}this.m_perp=v.mulMV(p,this.m_localYAxis1);this.m_s1=(l+n)*this.m_perp.y-(f+t)*this.m_perp.x;this.m_s2=s*this.m_perp.y-h*this.m_perp.x;p=new kb;t=this.m_perp.x*l+this.m_perp.y*f;s=g-d-this.m_refAngle;m=v.max(m,v.abs(t));n=v.abs(s);k?(k=this.m_invMassA,h=this.m_invMassB,l=this.m_invIA,f=this.m_invIB,this.m_K.col1.x=k+h+l*this.m_s1*this.m_s1+f*this.m_s2*this.m_s2,this.m_K.col1.y=l*this.m_s1+f*this.m_s2,this.m_K.col1.z=l*this.m_s1*this.m_a1+f*this.m_s2*this.m_a2,this.m_K.col2.x=
this.m_K.col1.y,this.m_K.col2.y=l+f,this.m_K.col2.z=l*this.m_a1+f*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=k+h+l*this.m_a1*this.m_a1+f*this.m_a2*this.m_a2,this.m_K.solve33(p,-t,-s,-q)):(k=this.m_invMassA,h=this.m_invMassB,l=this.m_invIA,f=this.m_invIB,q=l*this.m_s1+f*this.m_s2,u=l+f,this.m_K.col1.set(k+h+l*this.m_s1*this.m_s1+f*this.m_s2*this.m_s2,q,0),this.m_K.col2.set(q,u,0),q=this.m_K.solve22(new w,-t,-s),p.x=q.x,p.y=q.y,p.z=0);q=p.x*this.m_perp.x+
p.z*this.m_axis.x;k=p.x*this.m_perp.y+p.z*this.m_axis.y;t=p.x*this.m_s1+p.y+p.z*this.m_a1;p=p.x*this.m_s2+p.y+p.z*this.m_a2;c.x-=this.m_invMassA*q;c.y-=this.m_invMassA*k;d-=this.m_invIA*t;e.x+=this.m_invMassB*q;e.y+=this.m_invMassB*k;g+=this.m_invIB*p;a.m_sweep.a=d;b.m_sweep.a=g;a.synchronizeTransform();b.synchronizeTransform();return m<=x.b2_linearSlop?n<=x.b2_angularSlop:!1},__class__:hd});var ef=function(){za.call(this);this.localAnchorA=new w;this.localAnchorB=new w;this.localAxisA=new w;this.type=
Q.PRISMATIC_JOINT;this.localAxisA.set(1,0);this.referenceAngle=0;this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0};h["box2D.dynamics.joints.B2PrismaticJointDef"]=ef;ef.__name__=["box2D","dynamics","joints","B2PrismaticJointDef"];ef.__super__=za;ef.prototype=q(za.prototype,{initialize:function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.getLocalPoint(c);this.localAnchorB=this.bodyB.getLocalPoint(c);this.localAxisA=
this.bodyA.getLocalVector(d);this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},__class__:ef});var Qb=function(a){qa.call(this,a);this.m_groundAnchor1=new w;this.m_groundAnchor2=new w;this.m_localAnchor1=new w;this.m_localAnchor2=new w;this.m_u1=new w;this.m_u2=new w;this.m_ground=this.m_bodyA.m_world.m_groundBody;this.m_groundAnchor1.x=a.groundAnchorA.x-this.m_ground.m_xf.position.x;this.m_groundAnchor1.y=a.groundAnchorA.y-this.m_ground.m_xf.position.y;this.m_groundAnchor2.x=a.groundAnchorB.x-
this.m_ground.m_xf.position.x;this.m_groundAnchor2.y=a.groundAnchorB.y-this.m_ground.m_xf.position.y;this.m_localAnchor1.setV(a.localAnchorA);this.m_localAnchor2.setV(a.localAnchorB);this.m_ratio=a.ratio;this.m_constant=a.lengthA+this.m_ratio*a.lengthB;this.m_maxLength1=v.min(a.maxLengthA,this.m_constant-this.m_ratio*Qb.b2_minPulleyLength);this.m_maxLength2=v.min(a.maxLengthB,(this.m_constant-Qb.b2_minPulleyLength)/this.m_ratio);this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};h["box2D.dynamics.joints.B2PulleyJoint"]=
Qb;Qb.__name__=["box2D","dynamics","joints","B2PulleyJoint"];Qb.__super__=qa;Qb.prototype=q(qa.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(a){return new w(a*this.m_impulse*this.m_u2.x,a*this.m_impulse*this.m_u2.y)},getReactionTorque:function(a){return 0},getGroundAnchorA:function(){var a=this.m_ground.m_xf.position.copy();a.add(this.m_groundAnchor1);
return a},getGroundAnchorB:function(){var a=this.m_ground.m_xf.position.copy();a.add(this.m_groundAnchor2);return a},getLength1:function(){var a=this.m_bodyA.getWorldPoint(this.m_localAnchor1),b=a.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),a=a.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y);return Math.sqrt(b*b+a*a)},getLength2:function(){var a=this.m_bodyB.getWorldPoint(this.m_localAnchor2),b=a.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor2.x),a=a.y-(this.m_ground.m_xf.position.y+
this.m_groundAnchor2.y);return Math.sqrt(b*b+a*a)},getRatio:function(){return this.m_ratio},initVelocityConstraints:function(a){var b=this.m_bodyA,c=this.m_bodyB,d=b.m_xf.R,e=this.m_localAnchor1.x-b.m_sweep.localCenter.x,g=this.m_localAnchor1.y-b.m_sweep.localCenter.y,l=d.col1.x*e+d.col2.x*g,g=d.col1.y*e+d.col2.y*g,e=l,d=c.m_xf.R,f=this.m_localAnchor2.x-c.m_sweep.localCenter.x,k=this.m_localAnchor2.y-c.m_sweep.localCenter.y,l=d.col1.x*f+d.col2.x*k,k=d.col1.y*f+d.col2.y*k,f=l,d=c.m_sweep.c.x+f,l=c.m_sweep.c.y+
k,h=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,m=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.set(b.m_sweep.c.x+e-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),b.m_sweep.c.y+g-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y));this.m_u2.set(d-h,l-m);d=this.m_u1.length();l=this.m_u2.length();d>x.b2_linearSlop?this.m_u1.multiply(1/d):this.m_u1.setZero();l>x.b2_linearSlop?this.m_u2.multiply(1/l):this.m_u2.setZero();0<this.m_constant-d-this.m_ratio*l?(this.m_state=
M.INACTIVE_LIMIT,this.m_impulse=0):this.m_state=M.AT_UPPER_LIMIT;d<this.m_maxLength1?(this.m_limitState1=M.INACTIVE_LIMIT,this.m_limitImpulse1=0):this.m_limitState1=M.AT_UPPER_LIMIT;l<this.m_maxLength2?(this.m_limitState2=M.INACTIVE_LIMIT,this.m_limitImpulse2=0):this.m_limitState2=M.AT_UPPER_LIMIT;d=e*this.m_u1.y-g*this.m_u1.x;l=f*this.m_u2.y-k*this.m_u2.x;this.m_limitMass1=b.m_invMass+b.m_invI*d*d;this.m_limitMass2=c.m_invMass+c.m_invI*l*l;this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*
this.m_limitMass2;this.m_limitMass1=1/this.m_limitMass1;this.m_limitMass2=1/this.m_limitMass2;this.m_pulleyMass=1/this.m_pulleyMass;a.warmStarting?(this.m_impulse*=a.dtRatio,this.m_limitImpulse1*=a.dtRatio,this.m_limitImpulse2*=a.dtRatio,a=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,d=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,l=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,h=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y,b.m_linearVelocity.x+=b.m_invMass*
a,b.m_linearVelocity.y+=b.m_invMass*d,b.m_angularVelocity+=b.m_invI*(e*d-g*a),c.m_linearVelocity.x+=c.m_invMass*l,c.m_linearVelocity.y+=c.m_invMass*h,c.m_angularVelocity+=c.m_invI*(f*h-k*l)):this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0},solveVelocityConstraints:function(a){a=this.m_bodyA;var b=this.m_bodyB,c=a.m_xf.R,d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,g=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=g,c=b.m_xf.R,l=this.m_localAnchor2.x-
b.m_sweep.localCenter.x,f=this.m_localAnchor2.y-b.m_sweep.localCenter.y,g=c.col1.x*l+c.col2.x*f,f=c.col1.y*l+c.col2.y*f,l=g,k,h;this.m_state==M.AT_UPPER_LIMIT&&(c=a.m_linearVelocity.x+-a.m_angularVelocity*e,g=a.m_linearVelocity.y+a.m_angularVelocity*d,k=b.m_linearVelocity.x+-b.m_angularVelocity*f,h=b.m_linearVelocity.y+b.m_angularVelocity*l,c=-(this.m_u1.x*c+this.m_u1.y*g)-this.m_ratio*(this.m_u2.x*k+this.m_u2.y*h),h=this.m_pulleyMass*-c,c=this.m_impulse,this.m_impulse=v.max(0,this.m_impulse+h),h=
this.m_impulse-c,c=-h*this.m_u1.x,g=-h*this.m_u1.y,k=-this.m_ratio*h*this.m_u2.x,h=-this.m_ratio*h*this.m_u2.y,a.m_linearVelocity.x+=a.m_invMass*c,a.m_linearVelocity.y+=a.m_invMass*g,a.m_angularVelocity+=a.m_invI*(d*g-e*c),b.m_linearVelocity.x+=b.m_invMass*k,b.m_linearVelocity.y+=b.m_invMass*h,b.m_angularVelocity+=b.m_invI*(l*h-f*k));this.m_limitState1==M.AT_UPPER_LIMIT&&(c=a.m_linearVelocity.x+-a.m_angularVelocity*e,g=a.m_linearVelocity.y+a.m_angularVelocity*d,c=-(this.m_u1.x*c+this.m_u1.y*g),h=
-this.m_limitMass1*c,c=this.m_limitImpulse1,this.m_limitImpulse1=v.max(0,this.m_limitImpulse1+h),h=this.m_limitImpulse1-c,c=-h*this.m_u1.x,g=-h*this.m_u1.y,a.m_linearVelocity.x+=a.m_invMass*c,a.m_linearVelocity.y+=a.m_invMass*g,a.m_angularVelocity+=a.m_invI*(d*g-e*c));this.m_limitState2==M.AT_UPPER_LIMIT&&(k=b.m_linearVelocity.x+-b.m_angularVelocity*f,h=b.m_linearVelocity.y+b.m_angularVelocity*l,c=-(this.m_u2.x*k+this.m_u2.y*h),h=-this.m_limitMass2*c,c=this.m_limitImpulse2,this.m_limitImpulse2=v.max(0,
this.m_limitImpulse2+h),h=this.m_limitImpulse2-c,k=-h*this.m_u2.x,h=-h*this.m_u2.y,b.m_linearVelocity.x+=b.m_invMass*k,b.m_linearVelocity.y+=b.m_invMass*h,b.m_angularVelocity+=b.m_invI*(l*h-f*k))},solvePositionConstraints:function(a){a=this.m_bodyA;var b=this.m_bodyB,c,d=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,e=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,g=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,l=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,f,k,h,m,n,q,
p,s=0;this.m_state==M.AT_UPPER_LIMIT&&(c=a.m_xf.R,f=this.m_localAnchor1.x-a.m_sweep.localCenter.x,k=this.m_localAnchor1.y-a.m_sweep.localCenter.y,n=c.col1.x*f+c.col2.x*k,k=c.col1.y*f+c.col2.y*k,f=n,c=b.m_xf.R,h=this.m_localAnchor2.x-b.m_sweep.localCenter.x,m=this.m_localAnchor2.y-b.m_sweep.localCenter.y,n=c.col1.x*h+c.col2.x*m,m=c.col1.y*h+c.col2.y*m,h=n,c=a.m_sweep.c.x+f,n=a.m_sweep.c.y+k,q=b.m_sweep.c.x+h,p=b.m_sweep.c.y+m,this.m_u1.set(c-d,n-e),this.m_u2.set(q-g,p-l),c=this.m_u1.length(),n=this.m_u2.length(),
c>x.b2_linearSlop?this.m_u1.multiply(1/c):this.m_u1.setZero(),n>x.b2_linearSlop?this.m_u2.multiply(1/n):this.m_u2.setZero(),c=this.m_constant-c-this.m_ratio*n,s=v.max(s,-c),c=v.clamp(c+x.b2_linearSlop,-x.b2_maxLinearCorrection,0),p=-this.m_pulleyMass*c,c=-p*this.m_u1.x,n=-p*this.m_u1.y,q=-this.m_ratio*p*this.m_u2.x,p=-this.m_ratio*p*this.m_u2.y,a.m_sweep.c.x+=a.m_invMass*c,a.m_sweep.c.y+=a.m_invMass*n,a.m_sweep.a+=a.m_invI*(f*n-k*c),b.m_sweep.c.x+=b.m_invMass*q,b.m_sweep.c.y+=b.m_invMass*p,b.m_sweep.a+=
b.m_invI*(h*p-m*q),a.synchronizeTransform(),b.synchronizeTransform());this.m_limitState1==M.AT_UPPER_LIMIT&&(c=a.m_xf.R,f=this.m_localAnchor1.x-a.m_sweep.localCenter.x,k=this.m_localAnchor1.y-a.m_sweep.localCenter.y,n=c.col1.x*f+c.col2.x*k,k=c.col1.y*f+c.col2.y*k,f=n,c=a.m_sweep.c.x+f,n=a.m_sweep.c.y+k,this.m_u1.set(c-d,n-e),c=this.m_u1.length(),c>x.b2_linearSlop?(this.m_u1.x*=1/c,this.m_u1.y*=1/c):this.m_u1.setZero(),c=this.m_maxLength1-c,s=v.max(s,-c),c=v.clamp(c+x.b2_linearSlop,-x.b2_maxLinearCorrection,
0),p=-this.m_limitMass1*c,c=-p*this.m_u1.x,n=-p*this.m_u1.y,a.m_sweep.c.x+=a.m_invMass*c,a.m_sweep.c.y+=a.m_invMass*n,a.m_sweep.a+=a.m_invI*(f*n-k*c),a.synchronizeTransform());this.m_limitState2==M.AT_UPPER_LIMIT&&(c=b.m_xf.R,h=this.m_localAnchor2.x-b.m_sweep.localCenter.x,m=this.m_localAnchor2.y-b.m_sweep.localCenter.y,n=c.col1.x*h+c.col2.x*m,m=c.col1.y*h+c.col2.y*m,h=n,q=b.m_sweep.c.x+h,p=b.m_sweep.c.y+m,this.m_u2.set(q-g,p-l),n=this.m_u2.length(),n>x.b2_linearSlop?(this.m_u2.x*=1/n,this.m_u2.y*=
1/n):this.m_u2.setZero(),c=this.m_maxLength2-n,s=v.max(s,-c),c=v.clamp(c+x.b2_linearSlop,-x.b2_maxLinearCorrection,0),p=-this.m_limitMass2*c,q=-p*this.m_u2.x,p=-p*this.m_u2.y,b.m_sweep.c.x+=b.m_invMass*q,b.m_sweep.c.y+=b.m_invMass*p,b.m_sweep.a+=b.m_invI*(h*p-m*q),b.synchronizeTransform());return s<x.b2_linearSlop},__class__:Qb});var hf=function(){za.call(this);this.groundAnchorA=new w;this.groundAnchorB=new w;this.localAnchorA=new w;this.localAnchorB=new w;this.type=Q.PULLEY_JOINT;this.groundAnchorA.set(-1,
1);this.groundAnchorB.set(1,1);this.localAnchorA.set(-1,0);this.localAnchorB.set(1,0);this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0;this.ratio=1;this.collideConnected=!0};h["box2D.dynamics.joints.B2PulleyJointDef"]=hf;hf.__name__=["box2D","dynamics","joints","B2PulleyJointDef"];hf.__super__=za;hf.prototype=q(za.prototype,{initialize:function(a,b,c,d,e,g,l){this.bodyA=a;this.bodyB=b;this.groundAnchorA.setV(c);this.groundAnchorB.setV(d);this.localAnchorA=this.bodyA.getLocalPoint(e);this.localAnchorB=
this.bodyB.getLocalPoint(g);a=e.x-c.x;c=e.y-c.y;this.lengthA=Math.sqrt(a*a+c*c);c=g.x-d.x;d=g.y-d.y;this.lengthB=Math.sqrt(c*c+d*d);this.ratio=l;l=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=l-this.ratio*Qb.b2_minPulleyLength;this.maxLengthB=(l-Qb.b2_minPulleyLength)/this.ratio},__class__:hf});var Rb=function(a){qa.call(this,a);this.K=new ta;this.K1=new ta;this.K2=new ta;this.K3=new ta;this.impulse3=new kb;this.impulse2=new w;this.reduced=new w;this.m_localAnchor1=new w;this.m_localAnchor2=
new w;this.m_impulse=new kb;this.m_mass=new Jc;this.m_localAnchor1.setV(a.localAnchorA);this.m_localAnchor2.setV(a.localAnchorB);this.m_referenceAngle=a.referenceAngle;this.m_impulse.setZero();this.m_motorImpulse=0;this.m_lowerAngle=a.lowerAngle;this.m_upperAngle=a.upperAngle;this.m_maxMotorTorque=a.maxMotorTorque;this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=M.INACTIVE_LIMIT};h["box2D.dynamics.joints.B2RevoluteJoint"]=Rb;Rb.__name__=
["box2D","dynamics","joints","B2RevoluteJoint"];Rb.__super__=qa;Rb.prototype=q(qa.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(a){return new w(a*this.m_impulse.x,a*this.m_impulse.y)},getReactionTorque:function(a){return a*this.m_impulse.z},getJointAngle:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle},getJointSpeed:function(){return this.m_bodyB.m_angularVelocity-
this.m_bodyA.m_angularVelocity},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(a){this.m_enableLimit=a},getLowerLimit:function(){return this.m_lowerAngle},getUpperLimit:function(){return this.m_upperAngle},setLimits:function(a,b){this.m_lowerAngle=a;this.m_upperAngle=b},isMotorEnabled:function(){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);return this.m_enableMotor},enableMotor:function(a){this.m_enableMotor=a},setMotorSpeed:function(a){this.m_bodyA.setAwake(!0);
this.m_bodyB.setAwake(!0);this.m_motorSpeed=a},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorTorque:function(a){this.m_maxMotorTorque=a},getMotorTorque:function(){return this.m_maxMotorTorque},initVelocityConstraints:function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;d=b.m_xf.R;var g=this.m_localAnchor1.x-b.m_sweep.localCenter.x,l=this.m_localAnchor1.y-b.m_sweep.localCenter.y;e=d.col1.x*g+d.col2.x*l;l=d.col1.y*g+d.col2.y*l;g=e;d=c.m_xf.R;var f=this.m_localAnchor2.x-c.m_sweep.localCenter.x,
k=this.m_localAnchor2.y-c.m_sweep.localCenter.y;e=d.col1.x*f+d.col2.x*k;k=d.col1.y*f+d.col2.y*k;f=e;d=b.m_invMass;e=c.m_invMass;var h=b.m_invI,m=c.m_invI;this.m_mass.col1.x=d+e+l*l*h+k*k*m;this.m_mass.col2.x=-l*g*h-k*f*m;this.m_mass.col3.x=-l*h-k*m;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=d+e+g*g*h+f*f*m;this.m_mass.col3.y=g*h+f*m;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=h+m;this.m_motorMass=1/(h+m);!1==this.m_enableMotor&&(this.m_motorImpulse=
0);if(this.m_enableLimit){var n=c.m_sweep.a-b.m_sweep.a-this.m_referenceAngle;v.abs(this.m_upperAngle-this.m_lowerAngle)<2*x.b2_angularSlop?this.m_limitState=M.EQUAL_LIMITS:n<=this.m_lowerAngle?(this.m_limitState!=M.AT_LOWER_LIMIT&&(this.m_impulse.z=0),this.m_limitState=M.AT_LOWER_LIMIT):n>=this.m_upperAngle?(this.m_limitState!=M.AT_UPPER_LIMIT&&(this.m_impulse.z=0),this.m_limitState=M.AT_UPPER_LIMIT):(this.m_limitState=M.INACTIVE_LIMIT,this.m_impulse.z=0)}else this.m_limitState=M.INACTIVE_LIMIT;
a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,this.m_motorImpulse*=a.dtRatio,a=this.m_impulse.x,n=this.m_impulse.y,b.m_linearVelocity.x-=d*a,b.m_linearVelocity.y-=d*n,b.m_angularVelocity-=h*(g*n-l*a+this.m_motorImpulse+this.m_impulse.z),c.m_linearVelocity.x+=e*a,c.m_linearVelocity.y+=e*n,c.m_angularVelocity+=m*(f*n-k*a+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.setZero(),this.m_motorImpulse=0)},solveVelocityConstraints:function(a){var b=this.m_bodyA,c=this.m_bodyB,
d,e,g,l,f,k=b.m_linearVelocity,h=b.m_angularVelocity,m=c.m_linearVelocity,n=c.m_angularVelocity,q=b.m_invMass,p=c.m_invMass,s=b.m_invI,t=c.m_invI;this.m_enableMotor&&this.m_limitState!=M.EQUAL_LIMITS&&(g=this.m_motorMass*-(n-h-this.m_motorSpeed),l=this.m_motorImpulse,a=a.dt*this.m_maxMotorTorque,this.m_motorImpulse=v.clamp(this.m_motorImpulse+g,-a,a),g=this.m_motorImpulse-l,h-=s*g,n+=t*g);if(this.m_enableLimit&&this.m_limitState!=M.INACTIVE_LIMIT){d=b.m_xf.R;g=this.m_localAnchor1.x-b.m_sweep.localCenter.x;
l=this.m_localAnchor1.y-b.m_sweep.localCenter.y;e=d.col1.x*g+d.col2.x*l;l=d.col1.y*g+d.col2.y*l;g=e;d=c.m_xf.R;a=this.m_localAnchor2.x-c.m_sweep.localCenter.x;f=this.m_localAnchor2.y-c.m_sweep.localCenter.y;e=d.col1.x*a+d.col2.x*f;f=d.col1.y*a+d.col2.y*f;a=e;e=m.x+-n*f-k.x- -h*l;var u=m.y+n*a-k.y-h*g;this.m_mass.solve33(this.impulse3,-e,-u,-(n-h));this.m_limitState==M.EQUAL_LIMITS?this.m_impulse.add(this.impulse3):this.m_limitState==M.AT_LOWER_LIMIT?(d=this.m_impulse.z+this.impulse3.z,0>d&&(this.m_mass.solve22(this.reduced,
-e,-u),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)):this.m_limitState==M.AT_UPPER_LIMIT&&(d=this.m_impulse.z+this.impulse3.z,0<d&&(this.m_mass.solve22(this.reduced,-e,-u),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0));k.x-=q*this.impulse3.x;
k.y-=q*this.impulse3.y;h-=s*(g*this.impulse3.y-l*this.impulse3.x+this.impulse3.z);m.x+=p*this.impulse3.x;m.y+=p*this.impulse3.y;n+=t*(a*this.impulse3.y-f*this.impulse3.x+this.impulse3.z)}else d=b.m_xf.R,g=this.m_localAnchor1.x-b.m_sweep.localCenter.x,l=this.m_localAnchor1.y-b.m_sweep.localCenter.y,e=d.col1.x*g+d.col2.x*l,l=d.col1.y*g+d.col2.y*l,g=e,d=c.m_xf.R,a=this.m_localAnchor2.x-c.m_sweep.localCenter.x,f=this.m_localAnchor2.y-c.m_sweep.localCenter.y,e=d.col1.x*a+d.col2.x*f,f=d.col1.y*a+d.col2.y*
f,a=e,this.m_mass.solve22(this.impulse2,-(m.x+-n*f-k.x- -h*l),-(m.y+n*a-k.y-h*g)),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,k.x-=q*this.impulse2.x,k.y-=q*this.impulse2.y,h-=s*(g*this.impulse2.y-l*this.impulse2.x),m.x+=p*this.impulse2.x,m.y+=p*this.impulse2.y,n+=t*(a*this.impulse2.y-f*this.impulse2.x);b.m_linearVelocity.setV(k);b.m_angularVelocity=h;c.m_linearVelocity.setV(m);c.m_angularVelocity=n},solvePositionConstraints:function(a){var b,c;a=this.m_bodyA;var d=this.m_bodyB,
e=0;c=0;var g,l,f;if(this.m_enableLimit&&this.m_limitState!=M.INACTIVE_LIMIT){b=d.m_sweep.a-a.m_sweep.a-this.m_referenceAngle;var k=0;this.m_limitState==M.EQUAL_LIMITS?(b=v.clamp(b-this.m_lowerAngle,-x.b2_maxAngularCorrection,x.b2_maxAngularCorrection),k=-this.m_motorMass*b,e=v.abs(b)):this.m_limitState==M.AT_LOWER_LIMIT?(b-=this.m_lowerAngle,e=-b,b=v.clamp(b+x.b2_angularSlop,-x.b2_maxAngularCorrection,0),k=-this.m_motorMass*b):this.m_limitState==M.AT_UPPER_LIMIT&&(e=b-=this.m_upperAngle,b=v.clamp(b-
x.b2_angularSlop,0,x.b2_maxAngularCorrection),k=-this.m_motorMass*b);a.m_sweep.a-=a.m_invI*k;d.m_sweep.a+=d.m_invI*k;a.synchronizeTransform();d.synchronizeTransform()}c=a.m_xf.R;k=this.m_localAnchor1.x-a.m_sweep.localCenter.x;b=this.m_localAnchor1.y-a.m_sweep.localCenter.y;g=c.col1.x*k+c.col2.x*b;b=c.col1.y*k+c.col2.y*b;k=g;c=d.m_xf.R;var h=this.m_localAnchor2.x-d.m_sweep.localCenter.x,m=this.m_localAnchor2.y-d.m_sweep.localCenter.y;g=c.col1.x*h+c.col2.x*m;m=c.col1.y*h+c.col2.y*m;h=g;l=d.m_sweep.c.x+
h-a.m_sweep.c.x-k;f=d.m_sweep.c.y+m-a.m_sweep.c.y-b;var n=l*l+f*f;c=Math.sqrt(n);g=a.m_invMass;var q=d.m_invMass,p=a.m_invI,s=d.m_invI,t=10*x.b2_linearSlop;n>t*t&&(n=1/(g+q),l=n*-l,f=n*-f,a.m_sweep.c.x-=0.5*g*l,a.m_sweep.c.y-=0.5*g*f,d.m_sweep.c.x+=0.5*q*l,d.m_sweep.c.y+=0.5*q*f,l=d.m_sweep.c.x+h-a.m_sweep.c.x-k,f=d.m_sweep.c.y+m-a.m_sweep.c.y-b);this.K1.col1.x=g+q;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=g+q;this.K2.col1.x=p*b*b;this.K2.col2.x=-p*k*b;this.K2.col1.y=-p*k*b;this.K2.col2.y=
p*k*k;this.K3.col1.x=s*m*m;this.K3.col2.x=-s*h*m;this.K3.col1.y=-s*h*m;this.K3.col2.y=s*h*h;this.K.setM(this.K1);this.K.addM(this.K2);this.K.addM(this.K3);this.K.solve(Rb.tImpulse,-l,-f);l=Rb.tImpulse.x;f=Rb.tImpulse.y;a.m_sweep.c.x-=a.m_invMass*l;a.m_sweep.c.y-=a.m_invMass*f;a.m_sweep.a-=a.m_invI*(k*f-b*l);d.m_sweep.c.x+=d.m_invMass*l;d.m_sweep.c.y+=d.m_invMass*f;d.m_sweep.a+=d.m_invI*(h*f-m*l);a.synchronizeTransform();d.synchronizeTransform();return c<=x.b2_linearSlop?e<=x.b2_angularSlop:!1},__class__:Rb});
var df=function(){za.call(this);this.localAnchorA=new w;this.localAnchorB=new w;this.type=Q.REVOLUTE_JOINT;this.localAnchorA.set(0,0);this.localAnchorB.set(0,0);this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0;this.enableMotor=this.enableLimit=!1};h["box2D.dynamics.joints.B2RevoluteJointDef"]=df;df.__name__=["box2D","dynamics","joints","B2RevoluteJointDef"];df.__super__=za;df.prototype=q(za.prototype,{initialize:function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA=
this.bodyA.getLocalPoint(c);this.localAnchorB=this.bodyB.getLocalPoint(c);this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},__class__:df});var pf=function(a){qa.call(this,a);this.m_localAnchorA=new w;this.m_localAnchorB=new w;this.m_impulse=new kb;this.m_mass=new Jc;this.m_localAnchorA.setV(a.localAnchorA);this.m_localAnchorB.setV(a.localAnchorB);this.m_referenceAngle=a.referenceAngle;this.m_impulse.setZero();this.m_mass=new Jc};h["box2D.dynamics.joints.B2WeldJoint"]=pf;pf.__name__=
["box2D","dynamics","joints","B2WeldJoint"];pf.__super__=qa;pf.prototype=q(qa.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},getReactionForce:function(a){return new w(a*this.m_impulse.x,a*this.m_impulse.y)},getReactionTorque:function(a){return a*this.m_impulse.z},initVelocityConstraints:function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var g=this.m_localAnchorA.x-d.m_sweep.localCenter.x,
l=this.m_localAnchorA.y-d.m_sweep.localCenter.y;c=b.col1.x*g+b.col2.x*l;l=b.col1.y*g+b.col2.y*l;g=c;b=e.m_xf.R;var f=this.m_localAnchorB.x-e.m_sweep.localCenter.x,k=this.m_localAnchorB.y-e.m_sweep.localCenter.y;c=b.col1.x*f+b.col2.x*k;k=b.col1.y*f+b.col2.y*k;f=c;b=d.m_invMass;c=e.m_invMass;var h=d.m_invI,m=e.m_invI;this.m_mass.col1.x=b+c+l*l*h+k*k*m;this.m_mass.col2.x=-l*g*h-k*f*m;this.m_mass.col3.x=-l*h-k*m;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=b+c+g*g*h+f*f*m;this.m_mass.col3.y=
g*h+f*m;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=h+m;a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,this.m_impulse.z*=a.dtRatio,d.m_linearVelocity.x-=b*this.m_impulse.x,d.m_linearVelocity.y-=b*this.m_impulse.y,d.m_angularVelocity-=h*(g*this.m_impulse.y-l*this.m_impulse.x+this.m_impulse.z),e.m_linearVelocity.x+=c*this.m_impulse.x,e.m_linearVelocity.y+=c*this.m_impulse.y,e.m_angularVelocity+=m*(f*this.m_impulse.y-k*this.m_impulse.x+
this.m_impulse.z)):this.m_impulse.setZero()},solveVelocityConstraints:function(a){var b,c;a=this.m_bodyA;var d=this.m_bodyB,e=a.m_linearVelocity,g=a.m_angularVelocity,l=d.m_linearVelocity,f=d.m_angularVelocity,k=a.m_invMass,h=d.m_invMass,m=a.m_invI,n=d.m_invI;b=a.m_xf.R;var q=this.m_localAnchorA.x-a.m_sweep.localCenter.x,p=this.m_localAnchorA.y-a.m_sweep.localCenter.y;c=b.col1.x*q+b.col2.x*p;p=b.col1.y*q+b.col2.y*p;q=c;b=d.m_xf.R;var s=this.m_localAnchorB.x-d.m_sweep.localCenter.x,t=this.m_localAnchorB.y-
d.m_sweep.localCenter.y;c=b.col1.x*s+b.col2.x*t;t=b.col1.y*s+b.col2.y*t;s=c;b=l.x-f*t-e.x+g*p;c=l.y+f*s-e.y-g*q;var u=f-g,v=new kb;this.m_mass.solve33(v,-b,-c,-u);this.m_impulse.add(v);e.x-=k*v.x;e.y-=k*v.y;g-=m*(q*v.y-p*v.x+v.z);l.x+=h*v.x;l.y+=h*v.y;f+=n*(s*v.y-t*v.x+v.z);a.m_angularVelocity=g;d.m_angularVelocity=f},solvePositionConstraints:function(a){var b,c;a=this.m_bodyA;var d=this.m_bodyB;b=a.m_xf.R;var e=this.m_localAnchorA.x-a.m_sweep.localCenter.x,g=this.m_localAnchorA.y-a.m_sweep.localCenter.y;
c=b.col1.x*e+b.col2.x*g;g=b.col1.y*e+b.col2.y*g;e=c;b=d.m_xf.R;var l=this.m_localAnchorB.x-d.m_sweep.localCenter.x,f=this.m_localAnchorB.y-d.m_sweep.localCenter.y;c=b.col1.x*l+b.col2.x*f;f=b.col1.y*l+b.col2.y*f;l=c;b=a.m_invMass;c=d.m_invMass;var k=a.m_invI,h=d.m_invI,m=d.m_sweep.c.x+l-a.m_sweep.c.x-e,n=d.m_sweep.c.y+f-a.m_sweep.c.y-g,q=d.m_sweep.a-a.m_sweep.a-this.m_referenceAngle,p=10*x.b2_linearSlop,s=Math.sqrt(m*m+n*n),t=v.abs(q);s>p&&(k*=1,h*=1);this.m_mass.col1.x=b+c+g*g*k+f*f*h;this.m_mass.col2.x=
-g*e*k-f*l*h;this.m_mass.col3.x=-g*k-f*h;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=b+c+e*e*k+l*l*h;this.m_mass.col3.y=e*k+l*h;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=k+h;p=new kb;this.m_mass.solve33(p,-m,-n,-q);a.m_sweep.c.x-=b*p.x;a.m_sweep.c.y-=b*p.y;a.m_sweep.a-=k*(e*p.y-g*p.x+p.z);d.m_sweep.c.x+=c*p.x;d.m_sweep.c.y+=c*p.y;d.m_sweep.a+=h*(l*p.y-f*p.x+p.z);a.synchronizeTransform();d.synchronizeTransform();return s<=x.b2_linearSlop?
t<=x.b2_angularSlop:!1},__class__:pf});var qf=function(){za.call(this);this.localAnchorA=new w;this.localAnchorB=new w;this.type=Q.WELD_JOINT;this.referenceAngle=0};h["box2D.dynamics.joints.B2WeldJointDef"]=qf;qf.__name__=["box2D","dynamics","joints","B2WeldJointDef"];qf.__super__=za;qf.prototype=q(za.prototype,{initialize:function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA.setV(this.bodyA.getLocalPoint(c));this.localAnchorB.setV(this.bodyB.getLocalPoint(c));this.referenceAngle=this.bodyB.getAngle()-
this.bodyA.getAngle()},__class__:qf});var aa=h["f84.AssetType"]={__ename__:["f84","AssetType"],__constructs__:"Image Audio Other Javascript Css Font".split(" ")};aa.Image=["Image",0];aa.Image.toString=N;aa.Image.__enum__=aa;aa.Audio=["Audio",1];aa.Audio.toString=N;aa.Audio.__enum__=aa;aa.Other=["Other",2];aa.Other.toString=N;aa.Other.__enum__=aa;aa.Javascript=["Javascript",3];aa.Javascript.toString=N;aa.Javascript.__enum__=aa;aa.Css=["Css",4];aa.Css.toString=N;aa.Css.__enum__=aa;aa.Font=["Font",5];
aa.Font.toString=N;aa.Font.__enum__=aa;aa.__empty_constructs__=[aa.Image,aa.Audio,aa.Other,aa.Javascript,aa.Css,aa.Font];var Oh=function(a,b,c,d,e){null==d&&(d=!1);this.isAbsolute=!1;this.asset=null;this.name=a;this.type=c;this.source=b;this.isAbsolute=d;this.options=e};h["f84.AssetLoadingInfo"]=Oh;Oh.__name__=["f84","AssetLoadingInfo"];Oh.prototype={__class__:Oh};var Za=function(){this._eventListeners=[]};h["f84.events.EventDispatcher"]=Za;Za.__name__=["f84","events","EventDispatcher"];Za.prototype=
{addEventListener:function(a,b){this.hasEventListener(a,b)||this._eventListeners.push(new Ph(a,b))},hasEventListener:function(a,b){for(var c=this._eventListeners.length-1;0<=c;){if(this._eventListeners[c].eventName==a&&Ca.compareMethods(this._eventListeners[c].action,b))return!0;--c}return!1},dispatchEvent:function(a){a.target=this;for(var b=this._eventListeners.length-1;0<=b;){var c=this._eventListeners[b];c.eventName==a.getType()&&c.action(a);--b}},removeAllEventListeners:function(){this._eventListeners=
[]},removeEventListener:function(a,b){if(this.hasEventListener(a,b))for(var c=this._eventListeners.length-1;0<=c;){var d=this._eventListeners[c];if(d.eventName==a&&Ca.compareMethods(d.action,b)){this._eventListeners.splice(c,1);break}--c}},__class__:Za};var U=function(){this._instanceId=0;this._isActive=this._isUpdating=!0;this._isInitialized=this._isMarkedForDeletion=!1;this._eventListeners=[];this._instanceId=U._currentInstanceId++;this._name="GameObject"+this._instanceId;this._properties=new Na};
h["f84.GameObject"]=U;U.__name__=["f84","GameObject"];U.__super__=Za;U.prototype=q(Za.prototype,{init:function(){this._isInitialized=!0;this.dispatchEvent(new Mb("initialize"))},update:function(){!this._isInitialized&&this._isActive&&(this.init(),this.setActive(!0))},fixedUpdate:function(){},postUpdate:function(){},render:function(){},onActivate:function(){this._isActive=!0;this.dispatchEvent(new Mb("activate"))},onDeactivate:function(){this._isActive=!1;this.dispatchEvent(new Mb("deactivate"))},
debugRender:function(){},handleMessage:function(a,b){},setProperty:function(a,b){var c=this._properties;null!=na[a]?c.setReserved(a,b):c.h[a]=b},getProperty:function(a){var b=this._properties;return null!=na[a]?b.getReserved(a):b.h[a]},hasProperty:function(a){var b=this._properties;return null!=na[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},isMarkedForDeletion:function(){return this._isMarkedForDeletion},getName:function(){return this._name},setName:function(a){this._name=a},getInstanceId:function(){return this._instanceId},
isActive:function(){return this._isActive},setActive:function(a){if(!this._isActive&&a)this._isInitialized||this.init(),this.onActivate();else if(this._isActive&&!a)this.onDeactivate()},setUpdating:function(a){this._isUpdating=a},isUpdating:function(){return this._isUpdating},destroy:function(){this._isMarkedForDeletion=!0;this.setActive(!1)},onDestroy:function(){this.dispatchEvent(new Mb("destroy"))},log:function(a){$a.log(a)},__class__:U});var n=function(a){U.call(this);a.addComponent(this);this.setName(Ia.getClassName(H.getClass(this)))};
h["f84.Component"]=n;n.__name__=["f84","Component"];n.__super__=U;n.prototype=q(U.prototype,{getEntity:function(){return this._entity},setEntity:function(a){this._entity=a},getTags:function(){return this.getEntity().getTags()},addTag:function(a){this.getEntity().addTag(a)},hasTag:function(a){return this.getEntity().hasTag(a)},removeTag:function(a){this.getEntity().removeTag(a)},getComponent:function(a){return this.getEntity().getComponent(a)},getGameState:function(){return this.getEntity().getGameState()},
destroy:function(){U.prototype.destroy.call(this)},addEntity:function(a){null==a&&(a=!0);return this.getEntity().addEntity(a)},onPause:function(){},onResume:function(){},onDestroy:function(){U.prototype.onDestroy.call(this)},__class__:n});var Lc=function(a){this._prevScale=new s;this._prevRotation=new s;this._prevPosition=new s;this._cachedWorldScale=new s;this._cachedWorldRotation=new s;this._cachedWorldPosition=new s;this._worldPositionDirty=this._worldRotationDirty=this._worldScaleDirty=!0;this._isZSorted=
!1;this._isVisible=!0;this._parent=null;U.call(this);this._components=[];this._children=[];this._tags=[];this._transform=new id(this);this._transform.addEventListener("update",B(this,this.onTransformUpdate))};h["f84.Entity"]=Lc;Lc.__name__=["f84","Entity"];Lc.instantiate=function(a){return a.addEntity()};Lc.__super__=U;Lc.prototype=q(U.prototype,{getTransform:function(){return this._transform},init:function(){U.prototype.init.call(this);for(var a=0,b=this._components.length;a<b;){var c=a++,c=this._components[c];
c.isActive()&&c.init()}},isZSorted:function(){return this._isZSorted},setZSorted:function(a){this._isZSorted=a},getGameState:function(){return this._gameState},setGameState:function(a){this._gameState=a},addTag:function(a){this._tags.push(a)},removeTag:function(a){for(var b=0,c=this._tags.length;b<c;){var d=b++;this._tags[d]==a&&this._tags.splice(d,1)}},hasTag:function(a){for(var b=0,c=this._tags.length;b<c;){var d=b++;if(this._tags[d]==a)return!0}return!1},getTags:function(){return this._tags},hasChild:function(a){for(var b=
0,c=this._children.length;b<c;){var d=b++;if(this._children[d]==a)return!0}return!1},removeChild:function(a,b){null==b&&(b=!1);for(var c=0,d=this._children.length;c<d;){var e=c++,g=this._children[e];if(g==a){g.setParent(null,b);this._children.splice(e,1);break}}},addChild:function(a,b){null==b&&(b=!1);for(var c=a;null!=c;)c==this&&this.log("Cannot parent an Entity to itself."),c=c.getParent();null!=a.getParent()&&a.getParent().removeChild(a,b);this._children.push(a);a.setParent(this,b)},insertChild:function(a,
b){a==this&&this.log("Cannot parent an Entity to itself.");null!=a.getParent()&&a.getParent().removeChild(a);this._children.splice(b,0,a);a.setParent(this)},destroyAllChildren:function(){for(var a=0,b=this._children.length;a<b;){var c=a++;this._children[c].destroy()}this._children=[]},getParent:function(){return this._parent},getRootEntity:function(){return null!=this.getParent()?this.getParent():this},setParent:function(a,b){null==b&&(b=!1);if(this._parent!=a){var c=this.getPosition(),d=this.getRotation(),
e=this.getScale();this._parent=a;null!=this.getParent()?this.dispatchEvent(new fa("addedToParent",{parent:this.getParent()})):this.dispatchEvent(new fa("removedFromParent"));b&&(this.setPosition(c.x,c.y,c.z),this.setRotation(d.x,d.y,d.z),this.setScale(e.z,e.y,e.z));this.dispatchEvent(new fa("displayUpdate"));this.dispatchEvent(new fa("parentUpdate"));c=0;for(d=this._children;c<d.length;)e=d[c],++c,e.dispatchEvent(new fa("parentUpdate"));this._worldScaleDirty=this._worldRotationDirty=this._worldPositionDirty=
!0}},setActive:function(a){U.prototype.setActive.call(this,a)},isActive:function(){return this._isActive},isActiveInHierarchy:function(){return null!=this.getParent()?this.isActive()?this.getParent().isActive():!1:this._isActive},getChildren:function(a){null==a&&(a=!1);if(!a)return this._children;a=this._children;for(var b=[].concat(a),c=0,d=b.length;c<d;){var e=c++;a=a.concat(b[e].getChildren(!0))}return a},findChildByName:function(a){for(var b=0,c=this._children.length;b<c;){var d=b++,d=this._children[d];
if(d.getName()==a)return d;d=d.findChildByName(a);if(null!=d)return d}return null},isVisible:function(){return null!=this._parent?this._parent.isVisible()?this._isVisible:!1:this._isVisible},setVisible:function(a){(this._isVisible=a)?this.dispatchEvent(new fa("visibilityOn")):this.dispatchEvent(new fa("visibilityOff"));this.dispatchEvent(new fa("displayUpdate"))},onActivate:function(){U.prototype.onActivate.call(this);for(var a=0,b=this._children.length;a<b;){var c=a++;this._children[c].setActive(!0)}this.dispatchEvent(new fa("displayUpdate"))},
onDeactivate:function(){U.prototype.onDeactivate.call(this);for(var a=0,b=this._children.length;a<b;){var c=a++;this._children[c].setActive(!1)}this.dispatchEvent(new fa("displayUpdate"))},getPositionRef:function(){return this._transform.getPositionRef()},getPosition:function(){if(this._worldPositionDirty){this._cachedWorldPosition=this._transform.getPosition(ba.World);this._worldPositionDirty=!1;for(var a=0,b=this._children;a<b.length;){var c=b[a];++a;c._worldPositionDirty=!0;c._worldRotationDirty=
!0;c._worldScaleDirty=!0}}return this._cachedWorldPosition},getLocalPosition:function(){return this._transform.getPosition(ba.Local)},setLocalPosition:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._transform.setPosition(new s(a,b,c),ba.Local);this.dispatchEvent(new fa("displayUpdate"))},setPosition:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._transform.setPosition(new s(a,b,c),ba.World);this.dispatchEvent(new fa("displayUpdate"))},translate:function(a,b,c){null==
c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._transform.translate(a,b,c);this.dispatchEvent(new fa("displayUpdate"))},getRotationRef:function(){return this._transform.getRotationRef()},getRotation:function(){if(this._worldRotationDirty){this._cachedWorldRotation=this._transform.getRotation(ba.World);this._worldRotationDirty=!0;for(var a=0,b=this._children;a<b.length;){var c=b[a];++a;c._worldPositionDirty=!0;c._worldRotationDirty=!0;c._worldScaleDirty=!0}}return this._cachedWorldRotation},getLocalRotation:function(){return this._transform.getRotation(ba.Local)},
setLocalRotation:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._transform.setRotation(a,b,c,ba.Local);this.dispatchEvent(new fa("displayUpdate"))},setRotation:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._transform.setRotation(a,b,c,ba.World);this.dispatchEvent(new fa("displayUpdate"))},setLocalRotation2d:function(a){null==a&&(a=0);var b=this._transform.getRotation(ba.Local);this._transform.setRotation(b.x,b.z,a,ba.Local)},setRotation2d:function(a){null==a&&
(a=0);var b=this._transform.getRotation(ba.World);this._transform.setRotation(b.x,b.z,a,ba.World)},rotate:function(a,b,c){this._transform.rotate(a,b,c)},rotate2d:function(a){this._transform.rotate(0,0,a)},getScaleRef:function(){return this._transform.getScaleRef()},getScale:function(){if(this._worldScaleDirty){this._cachedWorldScale=this._transform.getScale(ba.World);this._worldScaleDirty=!1;for(var a=0,b=this._children;a<b.length;){var c=b[a];++a;c._worldPositionDirty=!0;c._worldRotationDirty=!0;
c._worldScaleDirty=!0}}return this._cachedWorldScale},getLocalScale:function(){return this._transform.getScale(ba.Local)},setScale:function(a,b,c){null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this._transform.setScale(a,b,c,ba.World);this.dispatchEvent(new fa("displayUpdate"))},setLocalScale:function(a,b,c){null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this._transform.setScale(a,b,c,ba.Local);this.dispatchEvent(new fa("displayUpdate"))},onPause:function(){for(var a=0,b=this._components.length;a<b;){var c=
a++;this._components[c].onPause()}},onResume:function(){for(var a=0,b=this._components.length;a<b;){var c=a++;this._components[c].onResume()}},update:function(){U.prototype.update.call(this);for(var a=this._components.length,b=a;0<b--;)a=this._components[b],a.isMarkedForDeletion()&&(a.onDestroy(),this._components.splice(b,1));a=this._components.length;for(b=0;b<a;){var c=b++,c=this._components[c];c.isActive()&&c.isUpdating()&&c.update()}},fixedUpdate:function(){U.prototype.fixedUpdate.call(this);
for(var a=0,b=this._components.length;a<b;){var c=a++,c=this._components[c];c.isActive()&&c.fixedUpdate()}},render:function(){U.prototype.render.call(this);for(var a=0,b=this._components.length;a<b;){var c=a++,c=this._components[c];c.isActive()&&c.render()}},postUpdate:function(){U.prototype.postUpdate.call(this);for(var a=0,b=this._components.length;a<b;){var c=a++,c=this._components[c];c.isActive()&&c.isUpdating()&&c.postUpdate()}},debugRender:function(){U.prototype.debugRender.call(this);for(var a=
0,b=this._components.length;a<b;){var c=a++,c=this._components[c];c.isActive()&&c.debugRender()}a=p.getInstance().getLayerByName("debug").getCanvas().getContext("2d");a.save();if(null!=oa.getDebugCamera()){var d=oa.getDebugCamera().getEntity(),b=oa.getDebugCamera().getZoomScale(),c=oa.getDebugCamera().getComponent(Mc),d=d.getPosition();a.translate(-d.x*b+c.getContainerOffset().x,-d.y*b+c.getContainerOffset().y);a.scale(b,b)}a.beginPath();a.globalAlpha=0.65;a.lineWidth=1;a.strokeStyle="#44FF44";b=
this.getPosition();a.moveTo(b.x,b.y-10);a.lineTo(b.x,b.y+10);a.moveTo(b.x-10,b.y);a.lineTo(b.x+10,b.y);a.moveTo(b.x-10,b.y-10);a.lineTo(b.x+10,b.y+10);a.moveTo(b.x+10,b.y-10);a.lineTo(b.x-10,b.y+10);a.stroke();a.restore();p.getInstance().getLayerByName("debug").setWholeCanvasDirty(!0)},addComponent:function(a){for(var b=0,c=this._components.length;b<c;){var d=b++;if(this._components[d]==a)return null}this._components.push(a);a.setEntity(this);return a},getComponent:function(a){for(var b=0,c=this._components.length;b<
c;){var d=b++;if(H.__instanceof(this._components[d],a))return this._components[d]}return null},getComponentsInChildren:function(a){var b=[],c=this.getComponents(a);null!=c&&(b=b.concat(c));for(var c=0,d=this._children.length;c<d;){var e=c++,e=this._children[e].getComponentsInChildren(a);null!=e&&(b=b.concat(e))}return b},getComponents:function(a){if(null==a)return this._components;for(var b=[],c=0,d=this._components.length;c<d;){var e=c++;H.__instanceof(this._components[e],a)&&b.push(this._components[e])}return 0<
b.length?b:null},handleMessage:function(a,b){for(var c=this._components.length-1;0<=c;){var d=this._components[c];d.isActive()&&d.handleMessage(a,b);--c}},isUpdating:function(){return null!=this._parent?this._isUpdating?this._parent.isUpdating():!1:this._isUpdating},destroy:function(){U.prototype.destroy.call(this);null!=this._gameState&&this._gameState.scheduleEntityForDeletion(this);for(var a=this._components.length;0<a--;){var b=this._components[a];b.destroy();b.onDestroy()}for(a=this._children.length;0<
a--;)b=this._children[a],b.destroy(),b.onDestroy();null!=this.getParent()&&this.getParent().removeChild(this)},addEntity:function(a){null==a&&(a=!0);var b=this.getGameState().addEntity();a&&this.addChild(b);return b},onTransformUpdate:function(){this._worldScaleDirty=this._worldRotationDirty=this._worldPositionDirty=!0},setTransformsDirty:function(){this._worldScaleDirty=this._worldRotationDirty=this._worldPositionDirty=!0;for(var a=0,b=this._children;a<b.length;){var c=b[a];++a;c.setTransformsDirty()}},
onDestroy:function(){U.prototype.onDestroy.call(this)},__class__:Lc});var T=function(){};h["f84.GameConfig"]=T;T.__name__=["f84","GameConfig"];T.getProperty=function(a,b){var c=T._properties;if(null!=na[a]?!c.existsReserved(a):!c.h.hasOwnProperty(a))return b;c=T._properties;return null!=na[a]?c.getReserved(a):c.h[a]};T.getBoolProperty=function(a){a=T.getProperty(a);return"TRUE"!=a.toUpperCase()?"1"==a:!0};T.setProperty=function(a,b){var c=T._properties,d=ua.string(b);null!=na[a]?c.setReserved(a,d):
c.h[a]=d};T.parseGameConfig=function(a){for(var b=0,c=Ca.fields(a);b<c.length;){var d=c[b];++b;var e=T._properties,g=Ca.field(a,d);null!=na[d]?e.setReserved(d,g):e.h[d]=g}};T.prototype={__class__:T};var V=function(){this._activeEntities=this._entitiesToDelete=null;this._isPaused=!1;this._elapsedTime=0;this._hasInitialized=!1;U.call(this);this._entities=[];this._activeEntities=[];this._entitiesToDelete=[];this._sceneRoot=this.addEntity()};h["f84.GameState"]=V;V.__name__=["f84","GameState"];V.__super__=
U;V.prototype=q(U.prototype,{getPaused:function(){return this._isPaused},init:function(){U.prototype.init.call(this)},getSceneRoot:function(){return this._sceneRoot},update:function(){U.prototype.update.call(this);for(var a=this._entitiesToDelete.length,b=0,c=a;b<c;){var d=b++,d=this._entitiesToDelete[d];d.onDestroy();J.remove(this._entities,d)}wc.clear(this._entitiesToDelete);b=0;if(!this._isPaused){wc.clear(this._activeEntities);c=[].concat(this._entities);a=c.length;for(d=0;d<a;){var e=d++,e=c[e];
null!=e&&e.isActiveInHierarchy()&&(this._activeEntities.push(e),++b,e.isUpdating()&&e.update())}this._elapsedTime+=p.getDeltaTime()}"1"==T.getProperty("debugCheats")&&Ha.getInstance().isKeyPressed(105)&&(this.log(this._entities),this.log(this._activeEntities),O.outputAssets(),this.log("Active entities: "+b))},fixedUpdate:function(){U.prototype.fixedUpdate.call(this);if(!this._isPaused)for(var a=0,b=this._activeEntities.length;a<b;){var c=a++,c=this._activeEntities[c];c.isActiveInHierarchy()&&c.fixedUpdate()}},
postUpdate:function(){U.prototype.postUpdate.call(this);if(!this._isPaused)for(var a=0,b=this._activeEntities.length;a<b;){var c=a++,c=this._activeEntities[c];c.isUpdating()&&c.isActiveInHierarchy()&&c.postUpdate()}},render:function(){U.prototype.render.call(this);for(var a=0,b=this._activeEntities.length;a<b;){var c=a++,c=this._activeEntities[c];c.isVisible()&&c.isActiveInHierarchy()&&c.render()}},debugRender:function(){U.prototype.debugRender.call(this);for(var a=0,b=this._entities.length;a<b;){var c=
a++,c=this._entities[c];c.isActive()&&c.isVisible()&&c.debugRender()}},addEntity:function(a){null==a&&(a=new Lc);a.setGameState(this);this._entities.push(a);this._activeEntities.push(a);null!=this._sceneRoot&&this._sceneRoot.addChild(a);return a},removeEntity:function(a){J.remove(this._entities,a)},getHasEntity:function(a){return-1!=wc.indexOf(this._entities,a)},getEntities:function(){return this._entities},findEntityByName:function(a){for(var b=0,c=this._entities.length;b<c;){var d=b++,d=this._entities[d];
if(d.getName()==a)return d}return null},getEntitiesByTag:function(a,b){null==b&&(b=!0);for(var c=[],d=0,e=this._entities.length;d<e;){var g=d++,g=this._entities[g];(!b||g.isActiveInHierarchy())&&g.hasTag(a)&&c.push(g)}return c},getClosestEntityToPointByTag:function(a,b,c){null==c&&(c=!0);b=this.getEntitiesByTag(b);for(var d=-1,e=null,g=0,l=b.length;g<l;){var f=g++,f=b[f];if(!c||f.isActiveInHierarchy()){var k=f.getPosition(),k=(new s(k.x-a.x,k.y-a.y,k.z-a.z)).getLength();if(-1==d||k<d)d=k,e=f}}return e},
sortEntitiesByZ:function(){this._entities.sort(function(a,b){var c=a.getPosition(),d=b.getPosition();return c.z==d.z?a.getInstanceId()>b.getInstanceId()?1:-1:c.z<d.z?1:-1})},handleMessage:function(a,b){U.prototype.handleMessage.call(this,a,b);if(!this._isPaused)for(var c=this._activeEntities.length-1;0<=c;)this._activeEntities[c].isActive()&&this._activeEntities[c].handleMessage(a,b),--c},pause:function(){this._isPaused=!0;for(var a=0,b=this._entities.length;a<b;){var c=a++;this._entities[c].onPause()}},
resume:function(){this._isPaused=!1;for(var a=0,b=this._entities.length;a<b;){var c=a++;this._entities[c].onResume()}},bringEntityToFront:function(a,b){null==b&&(b=!1);J.remove(this._entities,a)&&this._entities.push(a);if(b)for(var c=a.getChildren(),d=0,e=c.length;d<e;){var g=d++;this.bringEntityToFront(c[g],!0)}},sendEntityToBack:function(a,b){null==b&&(b=!1);J.remove(this._entities,a)&&this._entities.splice(0,0,a);if(b)for(var c=a.getChildren(),d=0,e=c.length;d<e;){var g=d++;this.sendEntityToBack(c[g],
!0)}},insertEntityAfter:function(a,b){if(J.remove(this._entities,a)){var c=this._entities,d=wc.indexOf(this._entities,b)+1;c.splice(d,0,a)}},scheduleEntityForDeletion:function(a){this._entitiesToDelete.push(a)},destroy:function(){U.prototype.destroy.call(this);for(var a=this._entities.length-1;0<=a;)this._entities[a].destroy(),this._entities[a].onDestroy(),--a;this._isMarkedForDeletion=!0},__class__:V});var Qh=function(){};h["f84.TimeService"]=Qh;Qh.__name__=["f84","TimeService"];Qh.prototype={__class__:Qh,
__properties__:{get_fixedIterationsThisFrame:"get_fixedIterationsThisFrame",get_realDeltaTime:"get_realDeltaTime",set_isFixedTimeStep:"set_isFixedTimeStep",get_isFixedTimeStep:"get_isFixedTimeStep",set_maxTimeStep:"set_maxTimeStep",get_maxTimeStep:"get_maxTimeStep",set_fixedTimeStep:"set_fixedTimeStep",get_fixedTimeStep:"get_fixedTimeStep",set_timeScale:"set_timeScale",get_timeScale:"get_timeScale",get_deltaTime:"get_deltaTime"}};var tf=function(){this._timeScale=1;this._maxTimeStep=0.1;this._isFixedTimeStep=
!1;this._fixedTimeStep=0.016666666666666666;this._prevTimeStamp=this._currentTimeStamp=0;this.updateTimeStamp();this._prevTimeStamp=this._currentTimeStamp};h["f84.HaxeTimerTimeService"]=tf;tf.__name__=["f84","HaxeTimerTimeService"];tf.__interfaces__=[Qh];tf.prototype={get_deltaTime:function(){return this.get_isFixedTimeStep()?this.get_fixedTimeStep():Math.min(this.get_maxTimeStep(),this.get_realDeltaTime())*this.get_timeScale()},get_timeScale:function(){return this._timeScale},set_timeScale:function(a){return this._timeScale=
a},get_fixedTimeStep:function(){return this._fixedTimeStep},set_fixedTimeStep:function(a){return this._fixedTimeStep=a},get_maxTimeStep:function(){return this._maxTimeStep},set_maxTimeStep:function(a){return this._maxTimeStep=a},get_isFixedTimeStep:function(){return this._isFixedTimeStep},set_isFixedTimeStep:function(a){return this._isFixedTimeStep=a},get_realDeltaTime:function(){return this._currentTimeStamp-this._prevTimeStamp},get_fixedIterationsThisFrame:function(){var a=Math.floor(Math.min(this.get_maxTimeStep(),
this.get_realDeltaTime())/this.get_fixedTimeStep());return Math.max(1,a)|0},update:function(){this.updateTimeStamp()},updateTimeStamp:function(){this._prevTimeStamp=this._currentTimeStamp;this._currentTimeStamp=(new Date).getTime()/1E3},__class__:tf,__properties__:{get_fixedIterationsThisFrame:"get_fixedIterationsThisFrame",get_realDeltaTime:"get_realDeltaTime",set_isFixedTimeStep:"set_isFixedTimeStep",get_isFixedTimeStep:"get_isFixedTimeStep",set_maxTimeStep:"set_maxTimeStep",get_maxTimeStep:"get_maxTimeStep",
set_fixedTimeStep:"set_fixedTimeStep",get_fixedTimeStep:"get_fixedTimeStep",set_timeScale:"set_timeScale",get_timeScale:"get_timeScale",get_deltaTime:"get_deltaTime"}};var ec=function(a,b,c,d,e){null==e&&(e=!1);this._context2d=null;this._wholeCanvasDirty=this._renderedThisFrame=!1;this._canvasWidth=this._canvasHeight=0;this._autoClear=!0;this._backgroundColor="#000000";U.call(this);this.setName(a);this._container=z.getContainer();this._canvas=z.getDocument().createElement("canvas");this._canvas.width=
b;this._canvas.height=c;this._canvasWidth=b;this._canvasHeight=c;this._canvas.setAttribute("webkitTransform","translate3d(0px, 0px, 0px);");this._canvas.style.position="absolute";this._context2d=this._canvas.getContext("2d");e?(ec._masterLayer=this,this._container.appendChild(this._canvas)):this._canvas.style.visibility="hidden"};h["f84.Layer"]=ec;ec.__name__=["f84","Layer"];ec.getMasterLayer=function(){return ec._masterLayer};ec.__super__=U;ec.prototype=q(U.prototype,{getClearBounds:function(){return this._clearBounds},
setClearBounds:function(a){this._clearBounds=a},getContext:function(){return this._context2d},getWholeCanvasDirty:function(){return this._wholeCanvasDirty},setWholeCanvasDirty:function(a){this._wholeCanvasDirty=a;this._renderedThisFrame=!0},clear:function(a){null==a&&(a=!1);if(ec._masterLayer!=this||a)a=this._canvas.getContext("2d"),null==this._clearBounds?a.clearRect(0,0,this._canvas.width,this._canvas.height):a.clearRect(this._clearBounds.ul.x,this._clearBounds.ul.y,this._clearBounds.wh.x,this._clearBounds.wh.y),
this._wholeCanvasDirty=!1},render:function(){U.prototype.render.call(this);Ta.getInstance().getWebGlEnabled()||(Ta.getInstance().getRenderer().view.getContext("2d",null).setTransform(1,0,0,1,0,0),Ta.getInstance().getRenderer().view.getContext("2d",null).drawImage(this._canvas,0,0,this._canvasWidth,this._canvasHeight))},getSize:function(){return new m(this._canvasWidth,this._canvasHeight)},setSize:function(a,b){this._canvasWidth=a;this._canvasHeight=b;this._canvas.width=a;this._canvas.height=b},update:function(){U.prototype.update.call(this);
this._renderedThisFrame=!1},getMaskFunction:function(){return this._maskFunction},setMaskFunction:function(a){this._maskFunction=a},getContainer:function(){return this._container},getCanvas:function(){return this._canvas},getAutoClear:function(){return this._autoClear},setAutoClear:function(a){this._autoClear=a},destroy:function(){U.prototype.destroy.call(this);null!=this.getCanvas().parentNode&&this.getCanvas().parentNode.removeChild(this.getCanvas())},__class__:ec});var Nc=function(a){null==a&&
(a=!1);this._currentRequestsActive=0;this._minLoadTimeElapsed=!1;this._currentAssetToLoad=0;this._loadCompleted=!1;this._assetsToLoad=0;this._onCompleteCallback=null;this._assetLoadingInfo=[];a&&(this._minLoadTimeElapsed=!0)};h["f84.LoadBatch"]=Nc;Nc.__name__=["f84","LoadBatch"];Nc.prototype={getLoadComplete:function(){return this._loadCompleted},addAsset:function(a,b,c,d){this._assetLoadingInfo.push(new Oh(a,b,c,!1,d))},getAssetLoadingInfoByAssetName:function(a){for(var b=0,c=this._assetLoadingInfo.length;b<
c;){var d=b++,d=this._assetLoadingInfo[d];if(d.name==a)return d}return null},numAssets:function(){return this._assetsToLoad},onAssetLoaded:function(a){this._assetsToLoad--;this.checkAssetsLoaded();a=this._assetLoadingInfo.length-this._assetsToLoad;p.getInstance().sendGlobalMessage("onFileLoaded",{progress:a,total:this._assetLoadingInfo.length});this.loadNext()},onXmlHttpRequestLoaded:function(a){},checkAssetsLoaded:function(){if(!(0<this._currentRequestsActive)){var a=this._assetLoadingInfo.length-
this._assetsToLoad;p.getInstance().sendGlobalMessage("onFileLoaded",{progress:a,total:this._assetLoadingInfo.length});this._loadCompleted||0<this._assetsToLoad||this.fireAllAssetsLoaded()}},fireAllAssetsLoaded:function(){this._minLoadTimeElapsed&&(this._loadCompleted=!0,null!=this._onCompleteCallback&&this._onCompleteCallback())},load:function(a){this._onCompleteCallback=a;this._assetsToLoad=this._assetLoadingInfo.length;this._loadCompleted=!1;this._currentAssetToLoad=0;0==this._assetLoadingInfo.length?
(a(),this._loadCompleted=!0):(this.loadNext(),p.getInstance().setDeferredActionsPaused(!1),p.getInstance().invokeAsyncDeferredAction(0.5,B(this,this.onMinLoadElapsed)))},unload:function(){for(var a=0,b=this._assetLoadingInfo.length;a<b;){var c=a++;O.unloadAsset(this._assetLoadingInfo[c].name)}},loadNext:function(){var a=this;if(!(10<=this._currentRequestsActive||0>=this._assetsToLoad&&this._minLoadTimeElapsed)){for(var b=null;null==b&&0<this._assetsToLoad;)if(b=this._assetLoadingInfo[this._currentAssetToLoad++],
null==b)this._assetsToLoad--,this.checkAssetsLoaded();else break;if(!(0>=this._assetsToLoad)){b.source=jb.replace(b.source,"${locale}",z.dataLocale);switch(b.type[1]){case 0:var c=z.getDocument().createElement("img");O.registerAsset(b.name,c);this._currentRequestsActive++;var d=this;c.addEventListener("load",function(d){PIXI.Texture.addTextureToCache(PIXI.Texture.fromImage(c.src,!1,null!=b.options?b.options.scaleMode:PIXI.SCALE_MODES.DEFAULT),b.name);a._currentRequestsActive--;a.onAssetLoaded(d)});
c.addEventListener("onerror",function(){d._assetsToLoad--;alert("file not found: "+b.source);a._currentRequestsActive--;d.checkAssetsLoaded();var c=d._assetLoadingInfo.length-d._assetsToLoad;p.getInstance().sendGlobalMessage("onFileLoaded",{progress:c,total:d._assetLoadingInfo.length});d.loadNext()});c.id=b.name;c.src=b.source;break;case 1:if(!p.isMobile()||u.isWebkitEnabled()||p.isCocoon()){var e=null,g=this;if(O.assetExists(b.name)){g._assetsToLoad--;g.checkAssetsLoaded();e=g._assetLoadingInfo.length-
g._assetsToLoad;p.getInstance().sendGlobalMessage("onFileLoaded",{progress:e,total:g._assetLoadingInfo.length});g.loadNext();return}var e=J.substr(b.source,b.source.length-3,3),l=-1<navigator.userAgent.toLowerCase().indexOf("firefox");"mp3"==e&&l&&(b.source=jb.replace(b.source,"mp3","ogg"));if(!u.isWebkitEnabled()||l)u.getUseFlashSound()?(e=soundManager.createSound({id:b.name,url:b.source,autoLoad:!0,onload:function(){g._assetsToLoad--;g.checkAssetsLoaded();GameManager.instance.sendGlobalMessage("onFileLoaded",
{progress:g._assetLoadingInfo.length-g._assetsToLoad,total:g._assetLoadingInfo.length});g.loadNext()}}),O.registerAsset(b.name,e)):(e=document.createElement("audio"),e.src=b.source,e.preload=!0,e.autoplay=!1,e.id=b.name,this._currentRequestsActive++,e.addEventListener("canplay",function(){g._assetsToLoad--;a._currentRequestsActive--;g.checkAssetsLoaded();var b=g._assetLoadingInfo.length-g._assetsToLoad;p.getInstance().sendGlobalMessage("onFileLoaded",{progress:b,total:g._assetLoadingInfo.length});
g.loadNext()},!1),e.addEventListener("onerror",function(){g._assetsToLoad--;console.log("File not found: "+b.source);a._currentRequestsActive--;g.checkAssetsLoaded();var c=g._assetLoadingInfo.length-g._assetsToLoad;p.getInstance().sendGlobalMessage("onFileLoaded",{progress:c,total:g._assetLoadingInfo.length});g.loadNext()}),e.addEventListener("stalled",function(){g._assetsToLoad--;console.log("File not found: "+b.source);a._currentRequestsActive--;g.checkAssetsLoaded();var c=g._assetLoadingInfo.length-
g._assetsToLoad;p.getInstance().sendGlobalMessage("onFileLoaded",{progress:c,total:g._assetLoadingInfo.length});g.loadNext()}),e.addEventListener("suspend",function(){g._assetsToLoad--;console.log("Loading suspended: "+b.source);a._currentRequestsActive--;g.checkAssetsLoaded();var c=g._assetLoadingInfo.length-g._assetsToLoad;p.getInstance().sendGlobalMessage("onFileLoaded",{progress:c,total:g._assetLoadingInfo.length});g.loadNext()}),O.registerAsset(b.name,e),e.load());else{var f=new XMLHttpRequest;
f.open("GET",b.source,!0);f.responseType="arraybuffer";O.registerAsset(b.name+"_src",b.source);this._currentRequestsActive++;f.onload=function(){u.getAudioContextInstance().decodeAudioData(f.response,function(c){O.registerAsset(b.name,c);g._assetsToLoad--;a._currentRequestsActive--;g.checkAssetsLoaded();c=g._assetLoadingInfo.length-g._assetsToLoad;p.getInstance().sendGlobalMessage("onFileLoaded",{progress:c,total:g._assetLoadingInfo.length});g.loadNext()})};f.send()}}else O.registerAsset(b.name,b.source),
this._assetsToLoad--,this.checkAssetsLoaded(),this.loadNext();break;case 2:var k=new XMLHttpRequest,h=this;this._currentRequestsActive++;k.onload=function(){O.registerAsset(b.name,k.responseText);h._assetsToLoad--;a._currentRequestsActive--;h.checkAssetsLoaded();var c=h._assetLoadingInfo.length-h._assetsToLoad;p.getInstance().sendGlobalMessage("onFileLoaded",{progress:c,total:h._assetLoadingInfo.length});h.loadNext()};k.onerror=function(){h._assetsToLoad--;alert("File not found: "+b.source);a._currentRequestsActive--;
h.checkAssetsLoaded();h.loadNext()};k.open("GET",b.source,!0);k.send();break;case 3:e=z.getDocument().createElement("script");e.type="text/javascript";e.async=!0;e.src=b.source;e.id=b.name;z.getDocument().body.appendChild(e);this._currentRequestsActive++;e.onload=function(){a._currentRequestsActive--;a.checkAssetsLoaded();a.loadNext()};break;case 4:e=z.getDocument().createElement("link");e.rel="stylesheet";e.type="text/css";e.href=b.source;e.id=b.name;z.getDocument().head.appendChild(e);this.checkAssetsLoaded();
this.loadNext();break;case 5:e='<style type="text/css"> @font-face { font-family: \''+b.name+"'; src: url('"+b.source+"'); } </style>",z.getDocument().head.innerHTML+=e,this.checkAssetsLoaded(),this.loadNext()}this.loadNext()}}},onMinLoadElapsed:function(){this._minLoadTimeElapsed=!0;this.checkAssetsLoaded()},concatLoadBatch:function(a){for(var b=0,c=a._assetLoadingInfo.length;b<c;){var d=b++,d=a._assetLoadingInfo[d];this.hasAsset(d.name)||this._assetLoadingInfo.push(d)}},hasAsset:function(a){for(var b=
0,c=this._assetLoadingInfo.length;b<c;){var d=b++;if(this._assetLoadingInfo[d].name==a)return!0}return!1},__class__:Nc};var ja=function(){};h["f84.Localizer"]=ja;ja.__name__=["f84","Localizer"];ja.initStrings=function(){if(!ja._isInitialized){var a=O.getAsset("strings"),a=L.parse(a);ja.stringsXml=a.elementsNamed("strings").next();ja._isInitialized=!0}};ja.getString=function(a){try{var b=ja.stringsXml.elementsNamed(a).next();if(b.nodeType!=L.Document&&b.nodeType!=L.Element)throw new G("Bad node type, expected Element or Document but found "+
b.nodeType);var c=b.children[0];if(c.nodeType==L.Document||c.nodeType==L.Element)throw new G("Bad node type, unexpected "+c.nodeType);return c.nodeValue}catch(d){throw new G("Could not find string: "+a);}};var ka=function(){U.call(this)};h["f84.Manager"]=ka;ka.__name__=["f84","Manager"];ka.__super__=U;ka.prototype=q(U.prototype,{__class__:ka});var xi=function(){this.normal=null;this.distance=-1;this.collisionPoint=this.collider=null;this.normal=new m};h["f84.RaycastInfo"]=xi;xi.__name__=["f84","RaycastInfo"];
xi.prototype={__class__:xi};var Sb=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.ul=new m(a,b);this.wh=new m(c,d)};h["f84.Rect2D"]=Sb;Sb.__name__=["f84","Rect2D"];Sb.prototype={getClone:function(){return new Sb(this.ul.x,this.ul.y,this.wh.x,this.wh.y)},getIntersect:function(a){return!(this.ul.x>a.ul.x+a.wh.x||this.ul.x+this.wh.x<a.ul.x||this.ul.y>a.ul.y+a.wh.y||this.ul.y+this.wh.y<a.ul.y)},containsPoint:function(a){return a.x>this.ul.x&&a.y>this.ul.y&&a.x<this.ul.x+
this.wh.x?a.y<this.ul.y+this.wh.y:!1},__class__:Sb};var p=function(a,b,c){this._iosAudioEnabled=!1;this._prevWidth=this._prevHeight=0;this._isUpdating=!0;this._hasFocus=!1;this._screenScale=null;this._isOrientationScreenShowing=!1;this._currentOrientation=0;this._isDeferredActionsPaused=!1;this._gameStates=this._managers=this._layers=this._deferredActions=null;this._gameHeight=768;this._gameWidth=1024;this._gameId=a;this._gameWidth=b;this._gameHeight=c;this._screenScale=new m(1,1);this._gameStates=
[];p._instance=this;this._layers=[];this._managers=[];this._deferredActions=[]};h["f84.Root"]=p;p.__name__=["f84","Root"];p.getTimeScale=function(){return p._timeService.get_timeScale()};p.setTimeScale=function(a){p._timeService.set_timeScale(a)};p.getDeltaTime=function(){return p._timeService.get_deltaTime()};p.getRealDeltaTime=function(){return p._timeService.get_realDeltaTime()};p.getInstance=function(){return p._instance};p.isAppMode=function(){return window.isStandalone};p.isPhone=function(){return-1!=
navigator.userAgent.toLowerCase().indexOf("iphone")||-1!=navigator.userAgent.toLowerCase().indexOf("ipod")||-1!=navigator.userAgent.toLowerCase().indexOf("android")||-1!=navigator.userAgent.toLowerCase().indexOf("Linux")?!0:!1};p.isIOS=function(){z.getWindow();var a=z.getWindow().navigator.platform;return-1!=a.indexOf("iPhone")||-1!=a.indexOf("iPod")||-1!=a.indexOf("iPad")?!0:!1};p.isCocoon=function(){return!1};p.isMobile=function(){z.getWindow();var a=z.getWindow().navigator.platform;return-1!=a.indexOf("iPhone")||
-1!=a.indexOf("iPod")||-1!=a.indexOf("iPad")||-1!=a.indexOf("android")||-1!=a.indexOf("Linux")?!0:!1};p.isInternetExplorer=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("msie")};p.isFirefox=function(){return-1<navigator.userAgent.toLowerCase().indexOf("firefox")};p.isSafari=function(){return-1<navigator.userAgent.toLowerCase().indexOf("safari/")};p.getDevicePixelRatio=function(){return 1};p.prototype={getGameStates:function(){return this._gameStates},getLayers:function(){return this._layers},
getGameWidth:function(){return this._gameWidth},setGameWidth:function(a){this._gameWidth=a},getGameHeight:function(){return this._gameHeight},setGameHeight:function(a){this._gameHeight=a},getGameId:function(){return this._gameId},init:function(){u.init();z.getContainer().focus();for(var a=0,b=this._gameStates;a<b.length;){var c=b[a];++a;c.init()}this._prevWidth=z.getWindow().innerWidth;this._prevHeight=z.getWindow().innerHeight;a=window;a.addEventListener("orientationchange",B(this,this.onOrientationChange),
!1);a.addEventListener("pageshow",B(this,this.onOrientationChange),!1);a.addEventListener("resize",B(this,this.onResizeWindow),!1);a.onfocus=B(this,this.onFocusGained);a.onblur=B(this,this.onFocusLost);window.document.addEventListener("webkitvisibilitychange",B(this,this.onWebkitVisibilityChange),!1);a.addEventListener("pagehide",B(this,this.onFocusLost),!1);p.isMobile()&&p.isIOS()&&a.addEventListener("touchend",B(this,this.onIosTouchEnd),!1);if(p.isMobile())this.onOrientationChange();else this.setScreenScale(1,
1)},update:function(){if(!this._hasFocus)this.onFocusGained();if(this._isUpdating){for(var a=0,b=this._managers.length,a=b;0<a--;)b=this._managers[a],b.isMarkedForDeletion()&&(b.onDestroy(),this._managers.splice(a,1));b=this._managers.length;for(a=0;a<b;){var c=a++,c=this._managers[c];c.isActive()&&c.update()}u.update();for(a=b=this._gameStates.length;0<a--;)b=this._gameStates[a],b.isMarkedForDeletion()&&(b.onDestroy(),this._gameStates.splice(a,1));b=this._gameStates.length;for(a=0;a<b;)c=a++,this._gameStates[c].isActive()&&
this._gameStates[c].update();for(a=this._layers.length;0<a--;)b=this._layers[a],b.isMarkedForDeletion()&&(b.onDestroy(),J.remove(this._layers,b));a=0;for(b=this._layers.length;a<b;)c=a++,this._layers[c].update()}if(!this._isDeferredActionsPaused)for(a=this._deferredActions.length;0<a--;)b=this._deferredActions[a],null!=b&&(b.timeUntilExecute-=p.getDeltaTime(),0>=b.timeUntilExecute&&(b.params?b.actionToExecute(b.params):b.actionToExecute(),this._deferredActions.splice(a,1)))},fixedUpdate:function(){var a=
p._timeService.get_fixedIterationsThisFrame();p._timeService.set_isFixedTimeStep(!0);for(var b=0;b<a;){b++;for(var c=0,d=this._managers.length;c<d;){var e=c++,e=this._managers[e];e.isActive()&&e.fixedUpdate()}c=0;for(d=this._gameStates.length;c<d;)e=c++,this._gameStates[e].isActive()&&this._gameStates[e].fixedUpdate()}p._timeService.set_isFixedTimeStep(!1)},postUpdate:function(){for(var a=0,b=this._managers.length;a<b;){var c=a++,c=this._managers[c];c.isActive()&&c.postUpdate()}a=0;for(b=this._gameStates.length;a<
b;)c=a++,this._gameStates[c].isActive()&&this._gameStates[c].postUpdate()},processFrame:function(){p._timeService.update();this.fixedUpdate();this.update();this.render();this.postUpdate()},updateDivClass:function(){var a="container";1==this._currentOrientation&&(a+=" portrait");z.getContainer().className=a},render:function(){for(var a=this._layers.length,b=0;b<a;){var c=b++,c=this._layers[c];c.getAutoClear()&&c.getWholeCanvasDirty()&&c.clear()}b=0;for(a=this._gameStates.length;b<a;)c=b++,this._gameStates[c].isActive()&&
this._gameStates[c].render();b=0;for(a=this._managers.length;b<a;)c=b++,this._managers[c].isActive()&&this._managers[c].render();a=this._layers.length;for(b=0;b<a;)c=b++,c=this._layers[c],"debug"!=c.getName()&&c.render()},debugRender:function(){for(var a=0,b=this._gameStates.length;a<b;){var c=a++;this._gameStates[c].debugRender()}a=0;for(b=this._managers.length;a<b;)c=a++,this._managers[c].debugRender();a=0;for(b=this._layers.length;a<b;)c=a++,c=this._layers[c],"debug"==c.getName()&&c.render(),c.debugRender()},
addGameState:function(a){0<=this._gameStates.indexOf(a)&&(J.remove(this._gameStates,a),this._gameStates.push(a));for(var b=0,c=this._gameStates.length;b<c;){var d=b++;if(a==this._gameStates[d])return a}this._gameStates.push(a);return a},removeGameState:function(a){a.destroy()},addManager:function(a){this._managers.push(a);a.init()},removeManager:function(a){for(var b=0,c=this._managers.length;b<c;){var d=b++;if(this._managers[d]==a){this._managers.splice(d,1);a.destroy();break}}},getManager:function(a){for(var b=
0,c=this._managers.length;b<c;){var d=b++,e=this._managers[d];if((null==e?null:H.getClass(e))==a)return this._managers[d]}return null},setDeferredActionsPaused:function(a){this._isDeferredActionsPaused=a},destroyAllDeferredActions:function(){this._deferredActions=[]},switchToGameState:function(a,b){null!=a&&this.removeGameState(a);null!=b&&this.addGameState(b)},addLayer:function(a,b){null==b&&(b=!1);b?this._layers.splice(0,0,a):this._layers.push(a)},insertLayerAfter:function(a,b){var c=this._layers,
d=this._layers.indexOf(b)+1;c.splice(d,0,a)},removeLayer:function(a){a.destroy();J.remove(this._layers,a)},getLayerByName:function(a){for(var b=0,c=this._layers.length;b<c;){var d=b++,d=this._layers[d];if(d.getName()==a)return d}return null},sendGlobalMessage:function(a,b){for(var c=this._managers.length-1;0<=c;)this._managers[c].handleMessage(a,b),--c;for(c=this._gameStates.length-1;0<=c;)this._gameStates[c].handleMessage(a,b),--c},invokeAsyncDeferredAction:function(a,b,c){a=new uf(a,b,c);this._deferredActions.push(a);
return a},destroyDeferredAction:function(a){J.remove(this._deferredActions,a)},onOrientationChange:function(){var a=this;this.invokeAsyncDeferredAction(0.35,function(){var b=!1,b=p.isMobile()?z.getWindow().innerWidth>z.getWindow().innerHeight:!0;"HORIZONTAL"==T.getProperty("forceOrientation")?(a._currentOrientation=0,b=!0):"VERTICAL"==T.getProperty("forceOrientation")?(a._currentOrientation=1,b=!1):a._currentOrientation=b?0:1;a.onResizeWindow();a.sendGlobalMessage("onOrientationChanged",{isHorizontal:b})})},
setScreenScale:function(a,b){this.updateDivClass();this._screenScale.x=a;this._screenScale.y=b;this.onScreenScaleUpdated()},getScreenScale:function(){return p.isAppMode()?new m(0.91*this._screenScale.x,0.91*this._screenScale.y):this._screenScale},getGameSize:function(){return new m(this._gameWidth,this._gameHeight)},getScreenOffset:function(){var a=z.getWindow().innerWidth,b=z.getWindow().innerHeight;return new m(Math.max(0,a/2-this._gameWidth*this.getScreenScale().x/2),Math.max(0,b/2-this._gameHeight*
this.getScreenScale().y/2))},getCurrentOrientation:function(){return this._currentOrientation},onWebkitVisibilityChange:function(){if(z.getDocument().webkitHidden)this.onFocusLost();else this.onFocusGained()},onFocusGained:function(){this._hasFocus||(Ha.getInstance().disablePageKeyPresses(),u.resumeAllSounds(),this._isUpdating=this._hasFocus=!0,this.sendGlobalMessage("onFocusGained"))},onFocusLost:function(){u.pauseAllSounds();this._hasFocus&&(Ha.getInstance().enablePageKeyPresses(),this._isUpdating=
this._hasFocus=!1,this.sendGlobalMessage("onFocusLost"))},onResizeWindow:function(){var a=1,b=a,b="1"==T.getProperty("scaleToScreenOnDesktop");p.isMobile()||b?(b=z.getWindow(),b=a=Math.min(b.innerHeight/this._gameHeight,b.innerWidth/this._gameWidth)):(b=z.dataWidth/this._gameWidth,a=z.dataHeight/this._gameHeight);this.sendGlobalMessage("onResizedWindow");this.setScreenScale(b,a)},onScreenScaleUpdated:function(){var a,b;a=z.getWindow().innerWidth;b=z.getWindow().innerHeight;var c=z.getContainer(),
d=p.getDevicePixelRatio();p.isMobile()&&this.hideAddressBar();c.style.width=this._gameWidth+"px";c.style.height=this._gameHeight+"px";var e=Ta.getInstance();if(null!=e.getRenderer()){var g=e.getRenderer().view,l=e=0,e=this._gameWidth*this.getScreenScale().x,l=this._gameHeight*this.getScreenScale().y;g.style.width=e*d+"px";g.style.height=l*d+"px";c.style.width=e+"px";c.style.height=l+"px";b=Math.max(0,b/2-l/2);a=Math.max(0,a/2-e/2);c.style.left=a+"px";c.style.top=b+"px"}this.sendGlobalMessage("onScreenScaleUpdated")},
stopUpdates:function(){this._isUpdating=!1},resumeUpdates:function(){this._isUpdating=!0},hideAddressBar:function(){if(p.isPhone()&&!window.location.hash){var a=window.outerHeight;document.height<a&&(document.body.style.height=a+50+"px");setTimeout(function(){window.scrollTo(0,1)},50)}},requestFullscreen:function(){if(!p.isIOS()){var a=window.document,b=a.documentElement,c=b.requestFullscreen||b.mozRequestFullScreen||b.webkitRequestFullScreen||b.msRequestFullscreen;a.fullscreenElement||(a.mozFullScreenElement||
a.webkitFullscreenElement||a.msFullscreenElement)||c.call(b)}},onIosTouchEnd:function(){if(!1==this._iosAudioEnabled)try{var a=u.getAudioContextInstance(),b=a.createBuffer(1,1,22050),c=a.createBufferSource();c.buffer=b;c.connect(a.destination);c.start(0);this._iosAudioEnabled=!0;$a.log("Audio enabled for iOS")}catch(d){$a.log("error")}},__class__:p};var Rh=function(){this._data={};this.load()};h["f84.SaveData"]=Rh;Rh.__name__=["f84","SaveData"];Rh.prototype={setItem:function(a,b){this._data[a]=b;
this.save()},getItem:function(a,b){if(Object.prototype.hasOwnProperty.call(this._data,a))return Ca.field(this._data,a);this.setItem(a,b);return b},save:function(){var a=p.getInstance().getGameId()+"Data";if(null!=Cb.getSessionStorage())try{Cb.getSessionStorage().setItem(a,JSON.stringify(this._data))}catch(b){$a.log("Error saving to session storage")}if(null!=Cb.getLocalStorage())try{Cb.getLocalStorage().setItem(a,JSON.stringify(this._data))}catch(c){$a.log("Error saving to local storage")}},load:function(){var a=
p.getInstance().getGameId()+"Data";if(null!=Cb.getSessionStorage()||null!=Cb.getLocalStorage()){var b=null;try{b=Cb.getSessionStorage().getItem(a)}catch(c){$a.log("Failed to get item from session storage")}if(null==b)try{b=Cb.getLocalStorage().getItem(a)}catch(d){$a.log("Failed to get item from session storage")}null!=b&&(this._data=JSON.parse(b))}},deleteAllSaveData:function(){this._data={};this.save()},__class__:Rh};var m=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=this.y=0;this.x=a;this.y=
b};h["f84.Vector2"]=m;m.__name__=["f84","Vector2"];m.prototype={getClone:function(){return new m(this.x,this.y)},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},scaleBy:function(a,b){this.x*=a;this.y*=b},dotProduct:function(a){return this.x*a.x+this.y*a.y},getNormalized:function(){var a=this.getLength();return new m(this.x/a,this.y/a)},__class__:m};var s=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=this.y=this.z=0;this.x=a;this.y=b;this.z=c};h["f84.Vector3"]=
s;s.__name__=["f84","Vector3"];s.lerp=function(a,b,c){return new s(a.x+(b.x-a.x)*c,a.y+(b.y-a.y)*c,a.z+(b.z-a.z)*c)};s.dot=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z};s.prototype={add:function(a){return new s(this.x+a.x,this.y+a.y,this.z+a.z)},subtract:function(a){return new s(this.x-a.x,this.y-a.y,this.z-a.z)},scaleBy:function(a){this.x*=a;this.y*=a;this.z*=a},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},getClone:function(){return new s(this.x,this.y,this.z)},
getNormalized:function(){var a=this.getLength();return new s(this.x/a,this.y/a,this.z/a)},__class__:s};var ra=function(a,b,c){this._isMuted=!1;this._currentTime=0;this._isInitialized=!1;this._soundName=a;this._volume=b;this._loop=c;this.init()};h["f84.audio.SoundData"]=ra;ra.__name__=["f84","audio","SoundData"];ra.prototype={init:function(){this._isInitialized=!0},play:function(a){},resume:function(){},update:function(){this._currentTime+=p.getDeltaTime()},pause:function(){},stop:function(){u.removeSoundFromPlayingSounds(this)},
getVolume:function(){return this._volume},setVolume:function(a){this._volume=a},getMuted:function(){return this._isMuted},setMuted:function(a){this._isMuted=a},getLoop:function(){return this._loop},setLoop:function(a){this._loop=a},getSoundLength:function(){return 1},getCurrentTime:function(){return this._currentTime},setCurrentTime:function(a){this._currentTime=a},getSoundName:function(){return this._soundName},__class__:ra};var Sd=function(a,b,c){ra.call(this,a,b,c)};h["f84.audio.FlashSoundData"]=
Sd;Sd.__name__=["f84","audio","FlashSoundData"];Sd.__super__=ra;Sd.prototype=q(ra.prototype,{init:function(){ra.prototype.init.call(this);this._audio=soundManager.createSound({id:this._soundName});this._audio.setVolume(100*this._volume)},play:function(a){null==a&&(a=0);ra.prototype.play.call(this,a);var b=this;this._audio.play({onfinish:function(){b._loop&&b.play(0);u.removeSoundFromPlayingSounds(b)},onstop:function(){u.removeSoundFromPlayingSounds(b)}})},pause:function(){ra.prototype.pause.call(this);
this._audio.pause()},stop:function(){ra.prototype.stop.call(this);this._audio.stop()},resume:function(){ra.prototype.resume.call(this);this._audio.resume()},setVolume:function(a){ra.prototype.setVolume.call(this,a);this._audio.setVolume(100*a)},__class__:Sd});var Td=function(a,b,c){ra.call(this,a,b,c)};h["f84.audio.Html5SoundData"]=Td;Td.__name__=["f84","audio","Html5SoundData"];Td.__super__=ra;Td.prototype=q(ra.prototype,{init:function(){ra.prototype.init.call(this)},play:function(a){null==a&&(a=
0);var b=this;ra.prototype.play.call(this,a);this._audio=O.getAsset(this._soundName);0!=a&&this._audio.addEventListener("canplay",function(c){b._audio.currentTime=a});this._audio.play();this._audio.addEventListener("ended",B(this,this.onSoundComplete),!1);this._audio.loop=this._loop;this._audio.volume=this._volume},resume:function(){ra.prototype.resume.call(this);this._audio.play()},pause:function(){ra.prototype.pause.call(this);this._audio.pause()},stop:function(){ra.prototype.stop.call(this);this._audio.pause()},
onSoundComplete:function(a){u.removeSoundFromPlayingSounds(this)},setVolume:function(a){ra.prototype.setVolume.call(this,a);this._audio.volume=a},setMuted:function(a){ra.prototype.setMuted.call(this,a);this._audio.muted=a},getCurrentTime:function(){return this._audio.currentTime},setCurrentTime:function(a){this._audio.currentTime=a},__class__:Td});var u=function(){};h["f84.audio.SoundManager"]=u;u.__name__=["f84","audio","SoundManager"];u.getMusicTrack=function(){return u._musicTrack};u.init=function(){try{u._audioContext=
new AudioContext,u._isWebkitEnabled=!p.isFirefox()&&null!=u._audioContext}catch(a){if(p.isInternetExplorer())try{soundManager.setup({url:"soundmanager2_flash9.swf",flashVersion:9,onready:u.onSoundManagerReady,ontimeout:u.onSoundManagerTimeout,useHighPerformance:!0})}catch(b){u._useFlashSound=!1}}u._musicTrack=new Ud(null)};u.onSoundManagerReady=function(){u._useFlashSound=!0==soundManager.html5.usingFlash};u.onSoundManagerTimeout=function(){u._useFlashSound=!1==soundManager.html5.usingFlash};u.getAudioContextInstance=
function(){return u._audioContext};u.isWebkitEnabled=function(){return u._isWebkitEnabled?!u._useFlashSound:!1};u.setWebkitEnabled=function(a){u._isWebkitEnabled=a};u.isMusicMuted=function(){return u._musicMuted};u.setMusicMuted=function(a){u._musicMuted=a;null!=u._musicTrack.get()&&u._musicTrack.get().setMuted(a);u.isWebkitEnabled()||(p.isMobile()&&a?u._musicTrack.get().pause():p.isMobile()&&!a&&u._musicTrack.get().play())};u.isSoundMuted=function(){return u._soundMuted};u.setSoundMuted=function(a){u._soundMuted=
a;for(var b=0,c=u._soundsPlaying.length;b<c;){var d=b++;u._soundsPlaying[d].setMuted(a)}};u.getMasterVolume=function(){return u._masterVolume};u.setMasterVolume=function(a){u._masterVolume=a;u.setMusicVolume(u._musicVolume);u.setSoundVolume(u._soundVolume)};u.getMusicVolume=function(){return u._musicVolume};u.setMusicVolume=function(a){u._musicVolume=a;null!=u._musicTrack&&null!=u._musicTrack.get()&&u._musicTrack.get().setVolume(u.getMusicVolume()*u.getMasterVolume())};u.getSoundVolume=function(){return u._soundVolume};
u.setSoundVolume=function(a){u._soundVolume=a;a=0;for(var b=u._soundsPlaying.length;a<b;){var c=a++;u._soundsPlaying[c].setVolume(u.getSoundVolume()*u.getMasterVolume())}};u.playRandomSoundByName=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);return u.playSoundByName(a[X.randomInt(0,a.length)],b,c)};u.playSoundByName=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);if(!u.isWebkitEnabled()&&p.isMobile()&&!b||!O.assetExists(a))return null;a=u.isWebkitEnabled()?new Vd(a,u.getSoundVolume()*u.getMasterVolume(),
c):u.getUseFlashSound()?new Sd(a,u.getMasterVolume()*u.getSoundVolume(),c):new Td(a,u.getSoundVolume()*u.getMasterVolume(),c);a.play();a.setMuted(u._soundMuted);u._soundsPlaying.push(a);return a};u.update=function(){for(var a=0,b=u._soundsPlaying.length;a<b;){var c=a++,c=u._soundsPlaying[c];null==c?u.removeSoundFromPlayingSounds(c):c.update()}null!=u._musicTrack.get()&&u._musicTrack.get().update()};u.onSoundComplete=function(a){u.removeSoundFromPlayingSounds(a.currentTarget)};u.removeSoundFromPlayingSounds=
function(a){J.remove(u._soundsPlaying,a)};u.addSoundToPlayingSounds=function(a){u._soundsPlaying.push(a)};u.isSoundPlaying=function(a){return-1!=u._soundsPlaying.indexOf(a)};u.pauseAllSounds=function(){null!=u._musicTrack.get()&&u._musicTrack.get().pause();for(var a=0,b=u._soundsPlaying.length;a<b;){var c=a++,c=u._soundsPlaying[c];null!=c&&c.pause()}};u.resumeAllSounds=function(){for(var a=u._soundsPlaying.length,b=[].concat(u._soundsPlaying),c=0;c<a;){var d=c++;b[d].resume()}null!=u._musicTrack.get()&&
(u._musicTrack.get().pause(),u._musicTrack.get().resume())};u.playMusicByNameOnMobileOnly=function(a){return p.isMobile()?u.playMusicByName(a,!0):null};u.playMusicByName=function(a,b){null==b&&(b=!0);if(p.isMobile()&&!b)return null;if(!O.assetExists(a))return $a.log(a+" doesn't exist!"),null;if(null!=u._musicTrack.get()){if(u._musicTrack.get().getSoundName()==a)return u._musicTrack.get();u._musicTrack.get().stop()}var c;c=u.isWebkitEnabled()?new Vd(a,u.getMasterVolume()*u.getMusicVolume(),!0):u._useFlashSound?
new Sd(a,u.getMusicVolume()*u.getMasterVolume(),!0):new Td(a,u.getMasterVolume()*u.getMusicVolume(),!0);c.play(0);u._musicTrack.set(c);u.setMusicVolume(u._musicVolume);u._musicTrack.get().setMuted(u._musicMuted);return u._musicTrack.get()};u.stopMusic=function(){null!=u._musicTrack.get()&&(u._musicTrack.get().stop(),u._musicTrack=new Ud(null))};u.stopAllSounds=function(){for(var a=u._soundsPlaying.length-1;0<=a;){var b=u._soundsPlaying[a];null!=b&&b.stop();u.removeSoundFromPlayingSounds(b);--a}u._soundsPlaying=
[]};u.getUseFlashSound=function(){return u._useFlashSound};u.prototype={__class__:u};var Vd=function(a,b,c){null==c&&(c=!1);null==b&&(b=1);this._audio=null;ra.call(this,a,b,c)};h["f84.audio.WebkitSoundData"]=Vd;Vd.__name__=["f84","audio","WebkitSoundData"];Vd.__super__=ra;Vd.prototype=q(ra.prototype,{init:function(){ra.prototype.init.call(this);this._audioContext=u.getAudioContextInstance();this._audio=this._audioContext.createBufferSource();this._audio.buffer=O.getAsset(this._soundName);this._gainNode=
null!=(Tb=this._audioContext,B(Tb,Tb.createGain))?this._audioContext.createGain():this._audioContext.createGainNode();this._audio.connect(this._gainNode,0,0);this._gainNode.connect(this._audioContext.destination,0,0);this._audio.loop=this._loop;this._audio.id=this._soundName;this.setVolume(this._volume)},play:function(a){null==a&&(a=0);ra.prototype.play.call(this,a);this._currentTime=a;try{null!=(Tb=this._audio,B(Tb,Tb.start))?this._audio.start(this._audioContext.currentTime,a):0==a?this._audio.noteOn():
this._audio.noteGrainOn(this._audioContext.currentTime,a)}catch(b){this._audio.noteOn(this._audioContext.currentTime,a,this._audio.buffer.duration-a)}},pause:function(){ra.prototype.pause.call(this);if(!(null==this._audio||null!=this._audio&&null!=this._audio.buffer&&this.getCurrentTime()>this.getSoundLength()&&!this.getLoop())){if(null!=(Tb=this._audio,B(Tb,Tb.stop)))try{this._audio.stop(this._audioContext.currentTime)}catch(a){}else try{this._audio.noteOff(this._audioContext.currentTime)}catch(b){}u.removeSoundFromPlayingSounds(this)}},
resume:function(){ra.prototype.resume.call(this);null!=this._audio&&null!=this._audio.buffer&&this.getCurrentTime()>this.getSoundLength()&&!this.getLoop()||(this.stop(),this.init(),this.play(this._currentTime),u.addSoundToPlayingSounds(this))},stop:function(){ra.prototype.stop.call(this);if(null!=this._audio){if(null!=(Tb=this._audio,B(Tb,Tb.stop)))try{this._audio.stop(this._audioContext.currentTime)}catch(a){}else try{this._audio.noteOff(this._audioContext.currentTime)}catch(b){}this._audio=null;
u.removeSoundFromPlayingSounds(this)}},getSoundLength:function(){return this._audio.buffer.duration},update:function(){ra.prototype.update.call(this);this.getCurrentTime()>this.getSoundLength()&&!this.getLoop()?u.removeSoundFromPlayingSounds(this):this.getCurrentTime()>this.getSoundLength()&&(this._currentTime-=this.getSoundLength())},onSoundComplete:function(){},setCurrentTime:function(a){ra.prototype.setCurrentTime.call(this,a);this.stop();this.init();this.play(a)},setVolume:function(a){ra.prototype.setVolume.call(this,
a);if(null!=this._audio||null!=this._gainNode)this._gainNode.gain.value=this._isMuted?0:a},setMuted:function(a){ra.prototype.setMuted.call(this,a);this._gainNode.gain.value=this._isMuted?0:this._volume},__class__:Vd});var vf=function(){};h["f84.box2d.Box2dContactListener"]=vf;vf.__name__=["f84","box2d","Box2dContactListener"];vf.__super__=Lb;vf.prototype=q(Lb.prototype,{beginContact:function(a){Lb.prototype.beginContact.call(this,a);var b=a.getFixtureA().getBody().getUserData().entity;null!=b&&b.dispatchEvent(new fc("beginContact",
{contact:a}));b=a.getFixtureB().getBody().getUserData().entity;null!=b&&b.dispatchEvent(new fc("beginContact",{contact:a}))},endContact:function(a){Lb.prototype.endContact.call(this,a);var b=a.getFixtureA().getBody().getUserData().entity;null!=b&&b.dispatchEvent(new fc("endContact",{contact:a}));b=a.getFixtureB().getBody().getUserData().entity;null!=b&&b.dispatchEvent(new fc("endContact",{contact:a}))},preSolve:function(a,b){Lb.prototype.preSolve.call(this,a,b)},postSolve:function(a,b){Lb.prototype.postSolve.call(this,
a,b)},__class__:vf});var P=function(a){this._type=a};h["f84.events.Event"]=P;P.__name__=["f84","events","Event"];P.prototype={getType:function(){return this._type},__class__:P};var fc=function(a,b){this._data=null;this._type=a;this._data=b};h["f84.box2d.Box2dEvent"]=fc;fc.__name__=["f84","box2d","Box2dEvent"];fc.__super__=P;fc.prototype=q(P.prototype,{getData:function(){return this._data},setData:function(a){this._data=a},__class__:fc});var xc=function(a,b,c,d){null==d&&(d=2);null==c&&(c=6);null==
b&&(b="debug");this._debugLayerName="";this._physicsScale=0.03333333333333333;this._positionIterations=2;this._velocityIterations=6;this._b2World=this._gravity=null;U.call(this);null==a&&(a=new m(0,0));this._gravity=new w(a.x,a.y);xc._instance=this;this._velocityIterations=c;this._positionIterations=d;this._debugLayerName=b;this._b2World=new pa(this._gravity,!1)};h["f84.box2d.Box2dManager"]=xc;xc.__name__=["f84","box2d","Box2dManager"];xc.getInstance=function(){return xc._instance};xc.__super__=ka;
xc.prototype=q(ka.prototype,{init:function(){ka.prototype.init.call(this);this._debugDrawLayer=p.getInstance().getLayerByName(this._debugLayerName);this._debugDraw=new fb;this._debugDraw.setSprite(this._debugDrawLayer.getCanvas().getContext("2d"));this._debugDraw.setDrawScale(30);this._debugDraw.setLineThickness(1);this._debugDraw.setAlpha(0.5);this._debugDraw.setFillAlpha(0.1);this._debugDraw.setFlags(fb.e_shapeBit);this._b2World.setDebugDraw(this._debugDraw);this._b2World.setContactListener(new vf)},
getB2World:function(){return this._b2World},getGravity:function(){return this._gravity},setGravity:function(a){this._gravity=a;this._b2World.setGravity(a);return a},getPhysicsScale:function(){return this._physicsScale},getInversePhysicsScale:function(){return 1/this._physicsScale},setPhysicsScale:function(a){this._physicsScale=a},update:function(){ka.prototype.update.call(this);this.dispatchEvent(new Oc("preUpdate"));for(var a=0,b=Math.max(1,Math.floor(p.getDeltaTime()/0.016666666666666666));a<b;)a++,
this._b2World.step(0.016666666666666666,this._velocityIterations,this._positionIterations),this._b2World.clearForces();this.dispatchEvent(new Oc("update"))},getPixelToWorld:function(a,b){return new w(a*this._physicsScale,b*this._physicsScale)},getWorldToPixel:function(a,b){return new m(a/this._physicsScale,b/this._physicsScale)},debugRender:function(){ka.prototype.debugRender.call(this);this._b2World.drawDebugData();this._debugDrawLayer.setWholeCanvasDirty(!0)},__class__:xc});var Oc=function(a){this._type=
a};h["f84.box2d.Box2dManagerEvent"]=Oc;Oc.__name__=["f84","box2d","Box2dManagerEvent"];Oc.__super__=P;Oc.prototype=q(P.prototype,{__class__:Oc});var lb=function(a,b,c){this._loop=!0;this._length=0;this._name=a;this._animationKeyframes=[];null!=b&&(this._length=b);this._offset=new m};h["f84.components.Animation"]=lb;lb.__name__=["f84","components","Animation"];lb.parseFromXmlString=function(a,b){for(var c=L.parse(b),d=c.elementsNamed("animation").next().get("name"),d=new lb(d,c.elementsNamed("animation").next().get("length")),
c=c.elementsNamed("animation").next().elementsNamed("keyframe");c.hasNext();){var e=c.next(),e=new wf(e.get("index"),e.get("spriteIndex"),a);d.addKeyframe(e)}mb.getInstance().registerAnimation(d);return d};lb.makeLinearAnimationFromSheetBySpriteName=function(a,b,c,d,e,g,l){null==l&&(l=0);null==g&&(g=-1);null==e&&(e=!1);var f=ob.getInstance().getSpriteSheetByName(b),h=f.getNumSprites();-1==g&&(g=h);for(var m=0,n=0,q=g;n<q;){var p=n++;jb.startsWith(f.getSpriteInfoByIndex(p).getName(),c)&&++m}a=new lb(a,
m*d);for(n=m=0;n<h&&!(q=n++,jb.startsWith(f.getSpriteInfoByIndex(q).getName(),c)&&(q=new wf(l,q,b),a.addKeyframe(q),l+=d,++m,m>=g)););a.setLoop(e);mb.getInstance().registerAnimation(a);return a};lb.createAnimation=function(a,b,c,d,e){null==e&&(e=!0);null==d&&(d=1);null==mb.getInstance().getAnimationByName(a)&&(Pc.parseFromXmlString(a,a,O.getAsset(b)),lb.makeLinearAnimationFromSheetBySpriteName(a,a,"",d,e).setOffset(c.x,c.y))};lb.appendAnimation=function(a,b,c,d,e){null==e&&(e=1);if(null==mb.getInstance().getAnimationByName(b))for(a=
mb.getInstance().getAnimationByName(a),Pc.parseFromXmlString(b,b,O.getAsset(c)),b=lb.makeLinearAnimationFromSheetBySpriteName("tempAnim",b,"",e,!1,-1,a.getKeyframeLength()),b.setOffset(d.x,d.y),d=b.getAnimationKeyframes(),b=0,c=d.length;b<c;)e=b++,a.addKeyframe(d[e])};lb.prototype={getAnimationKeyframes:function(){return this._animationKeyframes},getKeyframeLength:function(){return this._length},getLength:function(){return this._length/30},getName:function(){return this._name},getLoop:function(){return this._loop},
setLoop:function(a){this._loop=a},getOffset:function(){return this._offset},setOffset:function(a,b){this._offset.x=a;this._offset.y=b},addKeyframe:function(a){this._animationKeyframes.push(a);var b=a.getPosition();this._length=Math.max(this._length,a.getPosition());b>this._length&&(this._length=b)},getSpriteIndexAtPosition:function(a){for(var b=this._animationKeyframes.length,c=this._animationKeyframes[0].getSpriteIndex(),d=0;d<b;){var e=d++;if(a>=this._animationKeyframes[e].getPosition()/30)c=this._animationKeyframes[e].getSpriteIndex();
else break}return c},getSpriteSheetNameAtPosition:function(a){for(var b=this._animationKeyframes.length,c=this._animationKeyframes[0].getSpriteSheetName(),d=0;d<b;){var e=d++;if(a>=this._animationKeyframes[e].getPosition()/30)c=this._animationKeyframes[e].getSpriteSheetName();else break}return c},__class__:lb};var la=function(a,b,c,d,e){this._inactiveOneFrame=!1;this._killMessageOnMouseDown=!0;this._isMouseOver=!1;this._handPointer=!0;this._onClicked=this._onMouseDown=this._onMouseUp=this._onMouseMoved=
this._onMouseOver=this._onMouseOut=null;n.call(this,a);this._boxCollision=new gb;this._collisionSize=b;this._collisionOffset=c;this._camera=e;this.setOnMouseDown(d)};h["f84.components.Button"]=la;la.__name__=["f84","components","Button"];la.createFromHTMLElement=function(a){return new la(a.getEntity(),a.getSize(),new m(0,0))};la.createFromHTMLElementID=function(a,b,c){null==c&&(c=0);b=z.getDocument().getElementById(b);var d=b.clientWidth+c,e=b.clientHeight+c;return new la(a,new m(d,e),new m(b.offsetLeft-
a.getPosition().x-c/2+d/2,b.offsetTop-a.getPosition().y-c/2+e/2))};la.createFromEdgeHTMLElementID=function(a,b,c,d){null==d&&(d=0);var e=z.getDocument().getElementById(b);b=ua.parseInt(e.style.width)+d;var g=ua.parseInt(e.style.height)+d,l=Gb.getStylePositionOfDomElement(e).y-d/2;d=Gb.getStylePositionOfDomElement(e).x-d/2;return new la(a,new m(b,g),new m(d-a.getPosition().x+b/2,l-a.getPosition().y+g/2),c)};la.createFromPixiSprite=function(a){return new la(a.getEntity(),new m(a.getSprite().texture.width,
a.getSprite().texture.height),null)};la.__super__=n;la.prototype=q(n.prototype,{setOnClicked:function(a){this._onClicked=a},setOnMouseDown:function(a){this._onMouseDown=a},setOnMouseMoved:function(a){this._onMouseMoved=a},setOnMouseUp:function(a){this._onMouseUp=a},setOnMouseOut:function(a){this._onMouseOut=a},getKillMessageOnMouseDown:function(){return this._killMessageOnMouseDown},setKillMessageOnMouseDown:function(a){this._killMessageOnMouseDown=a},getData:function(){return this._data},getCollisionSize:function(){return this._collisionSize},
setData:function(a){this._data=a},init:function(){n.prototype.init.call(this);this._prevPosition=new m(this.getEntity().getPosition().x,this.getEntity().getPosition().y);this.updateCollision()},update:function(){n.prototype.update.call(this);this._inactiveOneFrame=!1;!1==this.getEntity().isVisible()&&(this._inactiveOneFrame=!0);if(this._isMouseOver&&this.isButtonDisabledByButtonGroup(this.getEntity()))this.onMouseOut(Ha.getInstance().getMousePosition());this.updateCollision()},setOffset:function(a,
b){this._collisionOffset=new m(a,b)},getOffset:function(){return this._collisionOffset},updateCollision:function(){var a=this.getEntity().getPosition();this._boxCollision.ul.x=a.x-this._collisionSize.x/2;this._boxCollision.ul.y=a.y-this._collisionSize.y/2;this._boxCollision.wh.x=this._collisionSize.x;this._boxCollision.wh.y=this._collisionSize.y;null!=this._collisionOffset&&(this._boxCollision.ul.x+=this._collisionOffset.x,this._boxCollision.ul.y+=this._collisionOffset.y)},onMouseClick:function(a){a=
a.getClone();a.x>p.getInstance().getGameSize().x||(0>a.x||a.y>p.getInstance().getGameSize().y||0>a.y)||(null!=this._camera&&(a.x+=this._camera.getEntity().getPosition().x*this._camera.getZoomScale(),a.y+=this._camera.getEntity().getPosition().y*this._camera.getZoomScale(),a.scaleBy(1/this._camera.getZoomScale(),1/this._camera.getZoomScale())),this._boxCollision.checkPointIntersect(a)&&(this.getEntity().dispatchEvent(new fa("mouseClick",{button:this,entity:this.getEntity()})),null!=this._onClicked&&
this._onClicked(this)))},onMouseDown:function(a){a=a.getClone();if(a.x>p.getInstance().getGameSize().x||0>a.x||a.y>p.getInstance().getGameSize().y||0>a.y)return!1;null!=this._camera&&(a.x+=this._camera.getEntity().getPosition().x*this._camera.getZoomScale(),a.y+=this._camera.getEntity().getPosition().y*this._camera.getZoomScale(),a.scaleBy(1/this._camera.getZoomScale(),1/this._camera.getZoomScale()));return this._boxCollision.checkPointIntersect(a)?(this.getEntity().dispatchEvent(new fa("mouseDown",
{button:this,entity:this.getEntity()})),null!=this._onMouseDown&&this._onMouseDown(this),p.isMobile()&&(this._isMouseOver=!0),!0):!1},onMouseMoved:function(a){a=a.getClone();null!=this._camera&&(a.x+=this._camera.getEntity().getPosition().x*this._camera.getZoomScale(),a.y+=this._camera.getEntity().getPosition().y*this._camera.getZoomScale(),a.scaleBy(1/this._camera.getZoomScale(),1/this._camera.getZoomScale()));if(this._boxCollision.checkPointIntersect(a)){this.getEntity().dispatchEvent(new fa("mouseOver",
{button:this,entity:this.getEntity()}));if(!this._isMouseOver)this.onMouseOver(a);this._isMouseOver=!0;this.getEntity().dispatchEvent(new fa("mouseMove",{button:this,entity:this.getEntity()}));null!=this._onMouseMoved&&this._onMouseMoved(this)}else this._isMouseOver&&!p.isMobile()&&(this.onMouseOut(a),this._isMouseOver=!1)},onMouseUp:function(a){a=a.getClone();null!=this._camera&&(a.x+=this._camera.getEntity().getPosition().x*this._camera.getZoomScale(),a.y+=this._camera.getEntity().getPosition().y*
this._camera.getZoomScale(),a.scaleBy(1/this._camera.getZoomScale(),1/this._camera.getZoomScale()));this._boxCollision.checkPointIntersect(a)&&(this.getEntity().dispatchEvent(new fa("mouseUp",{button:this,entity:this.getEntity()})),null!=this._onMouseUp&&this._onMouseUp(this))},onMouseOver:function(a){a=a.getClone();null!=this._camera&&(a.x+=this._camera.getEntity().getPosition().x*this._camera.getZoomScale(),a.y+=this._camera.getEntity().getPosition().y*this._camera.getZoomScale(),a.scaleBy(1/this._camera.getZoomScale(),
1/this._camera.getZoomScale()));this._handPointer&&(z.getDocument().body.style.cursor="pointer");this.getEntity().dispatchEvent(new fa("mouseOver",{button:this,entity:this.getEntity()}));null!=this._onMouseOver&&this._onMouseOver(this);this._isMouseOver=!0},onMouseOut:function(a){null!=a&&(a=a.getClone(),null!=this._camera&&(a.x+=this._camera.getEntity().getPosition().x*this._camera.getZoomScale(),a.y+=this._camera.getEntity().getPosition().y*this._camera.getZoomScale(),a.scaleBy(1/this._camera.getZoomScale(),
1/this._camera.getZoomScale())),this._handPointer&&(z.getDocument().body.style.cursor="default"),this.getEntity().dispatchEvent(new fa("mouseOut",{button:this,entity:this.getEntity()})),null!=this._onMouseOut&&this._onMouseOut(this),this._isMouseOver=!1)},verifyTouches:function(a){var b=!1;if(null!=a&&null!=a.touches){for(var c=0,d=a.touches.length;c<d;){var e=c++,g=a.touches[e],l=p.getInstance().getScreenOffset(),e=(g.pageX-l.x)/p.getInstance().getScreenScale().x,g=(g.pageY-l.y)/p.getInstance().getScreenScale().y;
this._boxCollision.checkPointIntersect(new m(e,g))&&(b=!0)}if(!b&&this._isMouseOver)this.onMouseOut(null);else if(b&&!this._isMouseOver)this.onMouseOver(null)}},setCollisionProperties:function(a,b){this._collisionSize=a;this._collisionOffset=b},isButtonDisabledByButtonGroup:function(a){var b=a.getComponent(Qc);if(null!=b&&!b.isInputEnabled())return!0;a=a.getParent();return null!=a?this.isButtonDisabledByButtonGroup(a):!1},handleMessage:function(a,b){n.prototype.handleMessage.call(this,a,b);if(!(b&&
b.isDisabled||!this.getEntity().isVisible()||!this.isActive()||this.isButtonDisabledByButtonGroup(this.getEntity())||this._inactiveOneFrame))switch(a){case "mouseClick":this.onMouseClick(b);break;case "mouseDown":this.onMouseDown(b)&&this._killMessageOnMouseDown&&(b.isDisabled=!0);break;case "mouseMove":this.onMouseMoved(b);break;case "mouseUp":this.onMouseUp(b);break;case "verifyTouches":this.verifyTouches(b)}},onActivate:function(){n.prototype.onActivate.call(this);this._inactiveOneFrame=!0},onDeactivate:function(){n.prototype.onDeactivate.call(this);
this._isMouseOver&&this._handPointer&&(z.getDocument().body.style.cursor="default")},debugRender:function(){n.prototype.debugRender.call(this);var a=p.getInstance().getLayerByName("debug").getCanvas().getContext("2d");a.save();if(null!=oa.getDebugCamera()){var b=oa.getDebugCamera().getEntity();a.translate(-b.getPosition().x,-b.getPosition().y)}a.beginPath();a.lineWidth=1;a.strokeStyle="#FF0000";a.moveTo(this._boxCollision.ul.x,this._boxCollision.ul.y);a.lineTo(this._boxCollision.ul.x+this._boxCollision.wh.x,
this._boxCollision.ul.y);a.lineTo(this._boxCollision.ul.x+this._boxCollision.wh.x,this._boxCollision.ul.y+this._boxCollision.wh.y);a.lineTo(this._boxCollision.ul.x,this._boxCollision.ul.y+this._boxCollision.wh.y);a.lineTo(this._boxCollision.ul.x,this._boxCollision.ul.y);a.stroke();a.restore()},destroy:function(){n.prototype.destroy.call(this);if(this._isMouseOver)this.onMouseOut(null)},__class__:la});var oa=function(a){this._offset=null;this._zoomScale=1;this._target=this._cameraBounds=this._slackMovement=
null;n.call(this,a);this._offset=new m;this._lensWidth=p.getInstance().getGameSize().x;this._lensHeight=p.getInstance().getGameSize().y;null==oa._debugCamera&&(oa._debugCamera=this)};h["f84.components.Camera"]=oa;oa.__name__=["f84","components","Camera"];oa.getDebugCamera=function(){return oa._debugCamera};oa.__super__=n;oa.prototype=q(n.prototype,{getTarget:function(){return this._target},setTarget:function(a){null!=this._target&&this._target.removeEventListener("destroy",B(this,this.onTargetDestroy));
this._target=a;null!=this._target&&this._target.addEventListener("destroy",B(this,this.onTargetDestroy))},setOffset:function(a){this._offset=a},getOffset:function(){return this._offset},getZoomScale:function(){return this._zoomScale},setZoomScale:function(a){this._zoomScale=a},getLensSize:function(){return new m(this._lensWidth,this._lensHeight)},setLensSize:function(a,b){this._lensWidth=a;this._lensHeight=b},init:function(){n.prototype.init.call(this);this._slackMovement=this.getComponent(jd)},getSlackMovement:function(){return this._slackMovement},
jumpToTarget:function(){null!=this._target&&this.getEntity().setLocalPosition(this._target.getPosition().x-this._lensWidth/this._zoomScale/2+this._offset.x/this._zoomScale,this._target.getPosition().y-this._lensHeight/this._zoomScale/2+this._offset.y/this._zoomScale,this.getEntity().getPosition().z)},getCenter:function(){var a=this.getEntity().getPosition();return new s(a.x-this._lensWidth/this._zoomScale/2,a.y-this._lensHeight/this._zoomScale/2,a.z)},fixedUpdate:function(){n.prototype.fixedUpdate.call(this);
null!=this._target&&(null==this._slackMovement?this.getEntity().setLocalPosition(this._target.getPosition().x-this._lensWidth/this._zoomScale/2+this._offset.x/this._zoomScale,this._target.getPosition().y-this._lensHeight/this._zoomScale/2+this._offset.y/this._zoomScale,this.getEntity().getPosition().z):this._slackMovement.setTarget(this._target.getPosition().x-this._lensWidth/this._zoomScale/2+this._offset.x/this._zoomScale,this._target.getPosition().y-this._lensHeight/this._zoomScale/2+this._offset.y/
this._zoomScale,this.getEntity().getPosition().z));this.updateCameraBounds()},updateCameraBounds:function(){if(null!=this._cameraBounds){var a=this.getEntity().getPosition().getClone(),b=this._lensWidth/2/this._zoomScale,c=this._lensHeight/2/this._zoomScale,d=new m(a.x+b,a.y+c),e=!1;d.x-b<this._cameraBounds.ul.x&&(d.x=this._cameraBounds.ul.x+b,e=!0);d.y-c<this._cameraBounds.ul.y&&(d.y=this._cameraBounds.ul.y+c,e=!0);d.x+b>this._cameraBounds.ul.x+this._cameraBounds.wh.x&&(d.x=this._cameraBounds.ul.x+
this._cameraBounds.wh.x-b,e=!0);d.y+c>this._cameraBounds.ul.y+this._cameraBounds.wh.y&&(d.y=this._cameraBounds.ul.y+this._cameraBounds.wh.y-c,e=!0);a.x=d.x-b;a.y=d.y-c;e&&this.getEntity().setLocalPosition(a.x,a.y,a.z)}},getPointConstrainedToCameraBounds:function(a,b){if(null!=this._cameraBounds){var c=new s(a,b),d=this._lensWidth/2/this._zoomScale,e=this._lensHeight/2/this._zoomScale,g=new m(a,b);g.x-d<this._cameraBounds.ul.x&&(g.x=this._cameraBounds.ul.x+d);g.y-e<this._cameraBounds.ul.y&&(g.y=this._cameraBounds.ul.y+
e);g.x+d>this._cameraBounds.ul.x+this._cameraBounds.wh.x&&(g.x=this._cameraBounds.ul.x+this._cameraBounds.wh.x-d);c.y+e>this._cameraBounds.ul.y+this._cameraBounds.wh.y&&(g.y=this._cameraBounds.ul.y+this._cameraBounds.wh.y-e);a=g.x;b=g.y}return new m(a,b)},getBounds:function(){return this._cameraBounds},setBounds:function(a,b,c,d){this._cameraBounds=new Sb(a,b,c-a,d-b)},getViewBounds:function(){var a=this.getEntity().getPosition();return new Sb(a.x,a.y,2*(this._lensWidth/2/this._zoomScale),2*(this._lensHeight/
2/this._zoomScale))},destroyBounds:function(){this._cameraBounds=null},destroy:function(){n.prototype.destroy.call(this);oa._debugCamera==this&&(oa._debugCamera=null)},onTargetDestroy:function(){this.setTarget(null)},__class__:oa});var pb=function(a,b){this._offset=this._onEnter=this._onInside=this._onExit=null;n.call(this,a);this._offset=b};h["f84.components.Collider"]=pb;pb.__name__=["f84","components","Collider"];pb.__super__=n;pb.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);
Hb.getInstance().registerCollider(this)},getCollision:function(){return null},checkPointIntersect:function(a){return!1},update:function(){n.prototype.update.call(this)},getRaycastPoint:function(a,b,c,d,e){Hb.getInstance().dispatchEvent(new Wd("raycastCheck",a,b));return-1},debugRender:function(){n.prototype.debugRender.call(this)},setOnEnter:function(a){this._onEnter=a},setOnExit:function(a){this._onExit=a},setOnInside:function(a){this._onInside=a},onEnter:function(a){this._isActive&&null!=this._onEnter&&
this._onEnter(a,this)},onInside:function(a){this._isActive&&null!=this._onInside&&this._onInside(a,this)},onExit:function(a){this._isActive&&null!=this._onExit&&this._onExit(a,this)},onDestroy:function(){n.prototype.onDestroy.call(this);Hb.getInstance().removeCollider(this)},__class__:pb});var uf=function(a,b,c,d){null==d&&(d=!1);this.isPaused=this.repeating=!1;this.timeUntilExecute=a;this.actionToExecute=b;this.params=c;this.repeating=d;this.duration=a};h["f84.components.DeferredAction"]=uf;uf.__name__=
["f84","components","DeferredAction"];uf.prototype={update:function(){this.isPaused||(this.timeUntilExecute-=p.getDeltaTime())},__class__:uf};var va=function(a){n.call(this,a);this._deferredActions=[]};h["f84.components.DeferredActionController"]=va;va.__name__=["f84","components","DeferredActionController"];va.addDeferredActionToTarget=function(a,b,c,d){var e=a.getComponent(va);null==e&&(e=new va(a));e.addDeferredAction(b,c,d);return e};va.__super__=n;va.prototype=q(n.prototype,{update:function(){n.prototype.update.call(this);
for(var a=this._deferredActions.length-1;0<=a;){var b=this._deferredActions[a];null==b?J.remove(this._deferredActions,b):(b.update(),0>=b.timeUntilExecute&&(b.actionToExecute(b.params),b.repeating?b.timeUntilExecute=b.duration:J.remove(this._deferredActions,b)),--a,a>this._deferredActions.length-1&&(a=this._deferredActions.length-1))}},addDeferredAction:function(a,b,c){a=new uf(a,b,c);this._deferredActions.push(a);return a},removeDeferredAction:function(a){J.remove(this._deferredActions,a)},destroyAllDeferredActions:function(){this._deferredActions=
[]},__class__:va});var qb=function(a,b,c,d,e){this._inactiveOneFrame=!1;this._returnOnDrop=!0;this._isDragging=!1;n.call(this,a);this._collisionSize=b;this._boxCollision=new gb;this._collisionOffset=null!=c?c:new m;this._camera=d;this._collider=e};h["f84.components.Draggable"]=qb;qb.__name__=["f84","components","Draggable"];qb.__super__=n;qb.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);this.updateCollision()},update:function(){n.prototype.update.call(this);this._inactiveOneFrame=
!1;this.updateCollision();!1==this.getEntity().isVisible()&&(this._inactiveOneFrame=!0)},onActivate:function(){n.prototype.onActivate.call(this);this._inactiveOneFrame=!0},updateCollision:function(){var a=this.getEntity().getPosition().x,b=this._collisionSize.x*this.getEntity().getScale().x/2;this._boxCollision.ul.x=a-b;a=this.getEntity().getPosition().y;b=this._collisionSize.y*this.getEntity().getScale().y/2;this._boxCollision.ul.y=a-b;this._boxCollision.wh.x=this._collisionSize.x*this.getEntity().getScale().x;
this._boxCollision.wh.y=this._collisionSize.y*this.getEntity().getScale().y;null!=this._collisionOffset&&(this._boxCollision.ul.x+=this._collisionOffset.x,this._boxCollision.ul.y+=this._collisionOffset.y)},setReturnOnDrop:function(a){this._returnOnDrop=a},getReturnOnDrop:function(){return this._returnOnDrop},setCollisionOffset:function(a){this._collisionOffset=a.getClone();this.updateCollision()},startDragging:function(a,b){null==b&&(b=0);null==a&&(a=0);this.getEntity().getPosition();this._grabOffset=
new s(a,b);this._isDragging=!0;this._originalPosition=this.getEntity().getPosition().getClone();this.dispatchEvent(new yc("startDragging"))},onMouseDown:function(a){a.getClone();a=Ha.getInstance().getMousePosition();null!=this._camera&&(a.x+=this._camera.getEntity().getPosition().x,a.y+=this._camera.getEntity().getPosition().y);return this._boxCollision.checkPointIntersect(a)?(this._isDragging=!0,this._originalPosition=this.getEntity().getPosition().getClone(),this._grabOffset=new s(this.getEntity().getPosition().x-
a.x,this.getEntity().getPosition().y-a.y),this.dispatchEvent(new yc("startDragging")),!0):!1},onMouseUp:function(a){a=a.getClone();this._isDragging&&(null!=this._camera&&(a.x+=this._camera.getEntity().getPosition().x,a.y+=this._camera.getEntity().getPosition().y),p.getInstance().sendGlobalMessage("droppedDraggable",{draggable:this,position:a}),this._isDragging=!1,this._returnOnDrop&&this.getEntity().setPosition(this._originalPosition.x,this._originalPosition.y,this._originalPosition.z),this.dispatchEvent(new yc("stopDragging")));
this.updateCollision()},onMouseMoved:function(a){a=a.getClone();if(this._isDragging){var b=!0,c=this.getEntity().getPosition();null!=this._camera&&(b=new m(this._camera.getEntity().getPosition().x,this._camera.getEntity().getPosition().y),a.x+=b.x,a.y+=b.y,b=this._collider.checkPointIntersect(new m(a.x,a.y)));this.getEntity().setPosition(a.x+this._grabOffset.x,a.y+this._grabOffset.y,this.getEntity().getPosition().z);b||this.getEntity().setPosition(c.x,c.y)}this.updateCollision()},onMouseLeave:function(){if(this._isDragging)this.onMouseUp(null)},
debugRender:function(){n.prototype.debugRender.call(this);var a=p.getInstance().getLayerByName("debug").getCanvas().getContext("2d");a.save();if(null!=oa.getDebugCamera()){var b=oa.getDebugCamera().getEntity();a.translate(-b.getPosition().x,-b.getPosition().y)}a.beginPath();a.lineWidth=1;a.strokeStyle="#FF0000";a.moveTo(this._boxCollision.ul.x,this._boxCollision.ul.y);a.lineTo(this._boxCollision.ul.x+this._boxCollision.wh.x,this._boxCollision.ul.y);a.lineTo(this._boxCollision.ul.x+this._boxCollision.wh.x,
this._boxCollision.ul.y+this._boxCollision.wh.y);a.lineTo(this._boxCollision.ul.x,this._boxCollision.ul.y+this._boxCollision.wh.y);a.lineTo(this._boxCollision.ul.x,this._boxCollision.ul.y);a.stroke();a.restore()},getDragging:function(){return this._isDragging},handleMessage:function(a,b){n.prototype.handleMessage.call(this,a,b);if((null==b||!b.isDisabled)&&this.getEntity().isVisible()&&this.isActive()&&!this._inactiveOneFrame)switch(a){case "mouseDown":this.onMouseDown(b)&&(b.isDisabled=!0);break;
case "mouseLeave":this.onMouseLeave();break;case "mouseMove":this.onMouseMoved(b);break;case "mouseUp":this.onMouseUp(b)}},__class__:qb});var yc=function(a){this._type=a};h["f84.components.DraggableEvent"]=yc;yc.__name__=["f84","components","DraggableEvent"];yc.__super__=P;yc.prototype=q(P.prototype,{__class__:yc});var Xd=function(a,b,c){this._followX=this._followY=!0;this._offset=this._target=null;n.call(this,a);this._target=b;this._offset=null!=c?c:new s;this.updatePosition()};h["f84.components.FollowEntity"]=
Xd;Xd.__name__=["f84","components","FollowEntity"];Xd.__super__=n;Xd.prototype=q(n.prototype,{getOffset:function(){return this._offset},setOffset:function(a){this._offset=a},getTarget:function(){return this._target},setTarget:function(a){this._target=a},getFollowX:function(){return this._followX},setFollowX:function(a){this._followX=a},getFollowY:function(){return this._followY},setFollowY:function(a){this._followY=a},update:function(){n.prototype.update.call(this);this.updatePosition()},updatePosition:function(){var a=
this._target.getPosition();this._followX||(a.x=this.getEntity().getPosition().x);this._followY||(a.y=this.getEntity().getPosition().y);this.getEntity().setPosition(a.x+this._offset.x,a.y+this._offset.y,a.z+this._offset.z)},__class__:Xd});var Sh=function(a,b,c,d){this._context=this._image=this._cachedSize=this._clipRect=null;this._forceRenderRequired=!1;this._skew=this._rotation=this._spriteInfo=this._coords=null;this._alpha=1;this._maskFunction=null;this._imageName="";this.IsLargeImage=!1;n.call(this,
a);this._imageName=b;this._layer=c;this._cameraPositionScale=new m(1,1);this._pivotPoint=new m;this._camera=d;this._offset=new m;this._scale=new s(1,1,1);this._skew=new m;this._rotation=new s(0,0,0);this._clipRect=null};h["f84.components.GameImage"]=Sh;Sh.__name__=["f84","components","GameImage"];Sh.__super__=n;Sh.prototype=q(n.prototype,{getClipRect:function(){return this._clipRect},setClipRect:function(a){1>a.wh.x&&(a.wh.x=1);1>a.wh.y&&(a.wh.y=1);this._clipRect=a},getCamera:function(){return this._camera},
setCamera:function(a){this._camera=a},getCoords:function(){return this._coords},setCoords:function(a){this._coords=a},getRotation:function(){return this._rotation},setRotation:function(a){this._rotation=a},setSpriteInfo:function(a){this._spriteInfo=a},setImage:function(a){O.assetExists(a)&&""!=a&&(this._imageName=a,this._image=this.getImageAsset(),this._cachedSize=null)},getImageAsset:function(){return O.getAsset(this._imageName)},getSkew:function(){return this._skew},setSkew:function(a,b){this._skew=
new m(a,b)},setSource:function(a){this._imageName=a},getOffset:function(){return this._offset},setOffset:function(a,b){this._offset=new m(a,b)},centerOffsetOnEntity:function(){if(""!=this._imageName){var a=this.getSize(),a=null!=this._spriteInfo?new m(this._spriteInfo.getCoords().wh.x,this._spriteInfo.getCoords().wh.y):new m(this._image.width,this._image.height);this.setOffset(-a.x/2,-a.y/2)}},setOffsetBasedOnPivotPoint:function(a,b){var c=this.getSize(),c=null!=this._spriteInfo?new m(this._spriteInfo.getCoords().wh.x,
this._spriteInfo.getCoords().wh.y):new m(this._image.width,this._image.height);this.setOffset(-(c.x*a),-(c.y*(1-b)))},getAlpha:function(){return this._alpha},setAlpha:function(a){this._alpha=a},getPivotPoint:function(){return this._pivotPoint},setPivotPoint:function(a,b){this._pivotPoint=new m(a,b)},getLayer:function(){return this._layer},setLayer:function(a){this._layer=a;this._context=null},getImageName:function(){return this._imageName},getSize:function(){if(null!=this._cachedSize)return this._cachedSize;
null==this._image&&(this._image=this.getImageAsset());var a=this.getEntity().getScale();return null!=this._spriteInfo?this._cachedSize=new m(this._spriteInfo.getCoords().wh.x*Math.abs(a.x*this._scale.x),this._spriteInfo.getCoords().wh.y*Math.abs(a.y*this._scale.y)):""==this._imageName?new m(0,0):this._cachedSize=new m(this._image.width*Math.abs(a.x*this._scale.x),this._image.height*Math.abs(a.y*this._scale.y))},getMaskFunction:function(){return this._maskFunction},setMaskFunction:function(a){this._maskFunction=
a},setScale:function(a,b,c){null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this._scale=new s(a,b,c)},getScale:function(){return this._scale},getCameraPositionScale:function(){return this._cameraPositionScale},setCameraPositionScale:function(a){this._cameraPositionScale=a},render:function(){n.prototype.render.call(this);if(0!=this._alpha&&(""!=this._imageName||null!=this._spriteInfo)){var a=this.getEntity(),b=a.getPosition(),c=1,d=new m(0,0),e=new m(1,1);null!=this._camera&&(d=this._camera.getEntity(),
c=this._camera.getZoomScale(),d=d.getPosition(),d=new m(-(d.x/this._cameraPositionScale.x)*e.x,-(d.y/this._cameraPositionScale.y)*e.y),d.scaleBy(c,c));null==this._context&&(this._context=this._layer.getCanvas().getContext("2d"));this._context.save();null!=this._maskFunction&&(this._context.translate(d.x/e.x*c,d.y/e.y*c),this._maskFunction(this._context,this),this._context.clip(),this._context.translate(-d.x*e.x*c,-d.y*e.y*c));var g=a.getScale().getClone();g.x*=this._scale.x;g.y*=this._scale.y;this._context.setTransform(1,
this._skew.x/g.x,this._skew.y/g.y,1,Math.floor(b.x*e.x*c+d.x)*p.getDevicePixelRatio(),Math.floor(b.y*e.y*c+d.y)*p.getDevicePixelRatio());0!=a.getRotation().z+this._rotation.z&&this._context.rotate(X.degToRad(a.getRotation().z+this._rotation.z));this._context.scale(g.x*c,g.y*c);a=this._offset.getClone();null!=this._spriteInfo&&(a.x+=this._spriteInfo.getOffset().x,a.y+=this._spriteInfo.getOffset().y);this._context.translate(Math.floor(a.x*e.x)*p.getDevicePixelRatio(),Math.floor(a.y*e.y)*p.getDevicePixelRatio());
this._context.globalAlpha=this._alpha;this._context.scale(e.x*p.getDevicePixelRatio(),e.y*p.getDevicePixelRatio());null==this._spriteInfo&&null==this._coords?(null==this._image&&(this._image=this.getImageAsset()),null==this._clipRect?this._context.drawImage(this._image,0,0):(this._clipRect.ul.x=Math.max(0,this._clipRect.ul.x),this._clipRect.ul.y=Math.max(0,this._clipRect.ul.y),this._context.drawImage(this._image,this._clipRect.ul.x,this._clipRect.ul.y,this._clipRect.wh.x,this._clipRect.wh.y,0,0,this._clipRect.wh.x*
e.x*p.getDevicePixelRatio(),this._clipRect.wh.y*e.y*p.getDevicePixelRatio()))):null==this._spriteInfo&&null!=this._coords?(null==this._image&&(this._image=O.getAsset(this._imageName)),this._context.drawImage(this._image,this._coords.ul.x,this._coords.ul.y,this._coords.wh.x,this._coords.wh.y,0,0,this._coords.wh.x,this._coords.wh.y)):(e=this._spriteInfo.getCoords(),a=ob.getInstance().getSpriteSheetByName(this._spriteInfo.getSpriteSheetName()),null==this._image&&(this._image=O.getAsset(a.getImageName())),
this._context.drawImage(a.getImage(),e.ul.x,e.ul.y,e.wh.x,e.wh.y,0,0,e.wh.x,e.wh.y));this._layer.setWholeCanvasDirty(!0);this._context.restore()}},quickRender:function(){n.prototype.render.call(this);new m(1,1);this._context=this._layer.getCanvas().getContext("2d");null!=this._maskFunction&&(this._maskFunction(this._context,this),this._context.clip());this._context.scale(this._scale.x,this._scale.y);this._context.rotate(this._rotation.z);if(null==this._spriteInfo&&null==this._coords)null==this._image&&
(this._image=O.getAsset(this._imageName));else if(null==this._spriteInfo&&null!=this._coords)null==this._image&&(this._image=O.getAsset(this._imageName)),this._context.drawImage(this._image,Math.floor(this._coords.ul.x),Math.floor(this._coords.ul.y),Math.floor(this._coords.wh.x),Math.floor(this._coords.wh.y),this._offset.x,this._offset.y,Math.floor(this._coords.wh.x)+2,Math.floor(this._coords.wh.y)+2);else{var a=this._spriteInfo.getCoords(),b=ob.getInstance().getSpriteSheetByName(this._spriteInfo.getSpriteSheetName());
null==this._image&&(this._image=O.getAsset(b.getImageName()));this._context.drawImage(this._image,a.ul.x,a.ul.y,a.wh.x,a.wh.y,this._offset.x,this._offset.y,a.wh.x,a.wh.y)}this._context.rotate(-this._rotation.z);this._context.scale(1/this._scale.x,this._scale.y);this._layer.setWholeCanvasDirty(!0)},destroy:function(){n.prototype.destroy.call(this)},onDestroy:function(){n.prototype.onDestroy.call(this);this._camera=null},__class__:Sh});var Gb=function(a,b,c,d){null==d&&(d="");null==c&&(c="");this._alwaysUpdatePosition=
!1;this._className="";this._div=null;this._isDirty=!0;n.call(this,a);this._html=c;this._className=d;this._layer=b;this.updateHtml()};h["f84.components.HtmlElements"]=Gb;Gb.__name__=["f84","components","HtmlElements"];Gb.showElementById=function(a,b){null==b&&(b=!0);var c=Gb.getChildDivById(z.getContainer(),a);null!=c?c.style.display=b?"block":"none":$a.log("Could not find element with id of "+a+" to "+(b?"show":"hide"))};Gb.getStylePositionOfDomElement=function(a){for(var b=ua.parseInt(a.style.top),
c=ua.parseInt(a.style.left);;)if(null!=a.parentNode&&Object.prototype.hasOwnProperty.call(a.parentNode,"style")&&"layer"!=a.parentElement.className)b+=ua.parseInt(a.parentElement.style.top),c+=ua.parseInt(a.parentElement.style.left),a=a.parentElement;else break;return new m(c,b)};Gb.setElementTextById=function(a,b){var c=z.getDocument().getElementById(a);null==c?$a.log("Could not find '"+a+"' on the page!"):c.innerHTML=b};Gb.getChildDivById=function(a,b){for(var c=0,d=a.children.length;c<d;){var e=
c++,e=a.children[e];if(e.id==b||e.hasChildNodes()&&(e=Gb.getChildDivById(e,b),null!=e))return e}return null};Gb.__super__=n;Gb.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);this.getEntity().addEventListener("displayUpdate",B(this,this.onDisplayUpdated))},getChildElementById:function(a){return z.getDocument().getElementById(a)},setChildElementTextById:function(a,b){var c=Gb.getChildDivById(this.getDiv(),a);null!=c&&(c.innerHTML=b);this._html=this.getDiv().innerHTML},getDiv:function(){null==
this._div&&this._isDirty&&this.updateHtml();return this._div},update:function(){n.prototype.update.call(this);null!=this._div&&this._isDirty&&this.updateHtml();null!=this._div&&this._alwaysUpdatePosition&&this.updatePosition();var a=this.getEntity().isVisible()?"block":"none";this._div.style.display=a},updateHtml:function(){$a.log("updateHtml");null!=this._div&&null!=this._div.parentNode&&this._div.parentNode.removeChild(this._div);this._isDirty=!1;this._div=z.getDocument().createElement("div");this._div.className=
this._className;this._div.innerHTML=this._html;this._div.style.position="absolute";var a="translate(0, 0px) scale("+this.getEntity().getScale().x*p.getInstance().getScreenScale().x+","+this.getEntity().getScale().y*p.getInstance().getScreenScale().y;this._div.style.webkitTransform=a+")";a="translate(0, 0px) scale("+this.getEntity().getScale().x*p.getInstance().getScreenScale().x+","+this.getEntity().getScale().y*p.getInstance().getScreenScale().y;this._div.style.transform=a+")";this._layer.getContainer().appendChild(this._div);
this.updatePosition()},updatePosition:function(){var a=this.getEntity().getPosition().x*p.getInstance().getScreenScale().x;this._div.style.left=a-(this._center?this._div.clientWidth/2:0)+"px";a=this.getEntity().getPosition().y*p.getInstance().getScreenScale().y;this._div.style.top=a-(this._center?this._div.clientHeight/2:0)+"px"},setId:function(a){null==this._div&&this._isDirty&&this.updateHtml();this._id=a;this._div.id=a},getId:function(){return this._id},getHtml:function(){return this._html},setHtml:function(a){this._html=
a},setClassName:function(a){this._className=a},getClassName:function(){return this._className},addClassName:function(a){this._className=0<this._className.length?this._className+(" "+a):a},removeClassName:function(a){this._className=jb.replace(this._className,a,"")},forceUpdateNextFrame:function(){this._html=this._div.innerHTML},centerOnEntity:function(a){null==a&&(a=!0);this._center=a;this.updatePosition()},getSize:function(){return new m(this._div.clientWidth*p.getInstance().getScreenScale().y,this._div.clientHeight*
p.getInstance().getScreenScale().y)},destroy:function(){n.prototype.destroy.call(this);null!=this._div.parentNode&&this._layer.getContainer().removeChild(this._div)},handleMessage:function(a,b){n.prototype.handleMessage.call(this,a,b)},onDisplayUpdated:function(){},alwaysUpdatePosition:function(a){null==a&&(a=!0);this._alwaysUpdatePosition=a},__class__:Gb});var Qa=function(a,b,c,d,e,g,l,f,h){null==h&&(h=0);null==f&&(f=0);null==l&&(l=!1);this._magnitudeDecayRate=0;this._half=!1;this._propertyName=
"";this._target=null;this._theta=this._rate=this._base=this._magnitude=0;n.call(this,a);this._base=d;this._magnitude=e;this._rate=g;this._propertyName=c;this._target=b;this._half=l;this._theta=f;this._magnitudeDecayRate=h};h["f84.components.PropertyOscillator"]=Qa;Qa.__name__=["f84","components","PropertyOscillator"];Qa.__super__=n;Qa.prototype=q(n.prototype,{getMagnitude:function(){return this._magnitude},setMagnitude:function(a){this._magnitude=a},getMagnitudeDecayRate:function(){return this._magnitudeDecayRate},
setMagnitudeDecayRate:function(a){this._magnitudeDecayRate=a},getBase:function(){return this._base},setBase:function(a){this._base=a},update:function(){n.prototype.update.call(this);if(0<this._magnitude){this._magnitude-=this._magnitudeDecayRate*p.getDeltaTime();0>this._magnitude&&(this._magnitude=0);this._theta+=this._rate*p.getDeltaTime();this._theta>=(this._half?Math.PI:2*Math.PI)&&(this._theta-=this._half?Math.PI:2*Math.PI);var a=this._base+Math.sin(this._theta)*this._magnitude;Ca.setProperty(this._target,
this._propertyName,a)}},__class__:Qa});var jd=function(a,b){null==b&&(b=0.5);this._slack=1;this._targetPosition=null;n.call(this,a);this._slack=b};h["f84.components.SlackMovement"]=jd;jd.__name__=["f84","components","SlackMovement"];jd.__super__=n;jd.prototype=q(n.prototype,{getSlack:function(){return this._slack},setSlack:function(a){this._slack=a},update:function(){n.prototype.update.call(this);if(null!=this._targetPosition){var a=this._targetPosition.subtract(this.getEntity().getPosition()),b=
a.getLength();0!=b&&(a=a.getNormalized(),a.scaleBy(b*this._slack),5E-5>a.x&&-5E-5<a.x&&(a.x=0),5E-5>a.y&&-5E-5<a.y&&(a.y=0),5E-5>a.z&&-5E-5<a.z&&(a.z=0),b=this.getEntity().getPosition(),this.getEntity().setLocalPosition(b.x+a.x,b.y+a.y,b.z+a.z))}},getTarget:function(){return this._targetPosition},setTarget:function(a,b,c){this._targetPosition=new s(a,b,c)},__class__:jd});var ba=h["f84.components.SpaceType"]={__ename__:["f84","components","SpaceType"],__constructs__:["Local","World"]};ba.Local=["Local",
0];ba.Local.toString=N;ba.Local.__enum__=ba;ba.World=["World",1];ba.World.toString=N;ba.World.__enum__=ba;ba.__empty_constructs__=[ba.Local,ba.World];var Rc=function(a,b,c){this._spanElement=this._computedStyle=null;this._htmlText="";this._textFieldHeight=0;this._maskFunction=null;this._alpha=1;this._wrapWidth=-1;this._lineSpacing=8;this._maxWidth=1024;this._textBaseline="middle";this._textAlign="center";this._fillStyle="white";this._fontFamily="ralewaybold";this._fontSize="16pt";this._text="";n.call(this,
a);this._layer=b;this._pivotPoint=new m;this._camera=c;null==Rc._defaultComputedStyle&&(Rc._defaultComputedStyle=z.getWindow().getComputedStyle(z.getDocument().body))};h["f84.components.TextField"]=Rc;Rc.__name__=["f84","components","TextField"];Rc.__super__=n;Rc.prototype=q(n.prototype,{getLayer:function(){return this._layer},setLayer:function(a){this._layer=a},getAlpha:function(){return this._alpha},setAlpha:function(a){this._alpha=a},getMaskFunction:function(){return this._maskFunction},setMaskFunction:function(a){this._maskFunction=
a},getFont:function(){return this._fontSize+" "+this._fontFamily},getFontFamily:function(){return this._fontFamily},setFontFamily:function(a){this._fontFamily=a},getFontSize:function(){return this._fontSize},setFontSize:function(a){this._fontSize=a;this.stripAndApplyRelevantHtml()},getLineSpacing:function(){return this._lineSpacing},setLineSpacing:function(a){this._lineSpacing=a},getFillStyle:function(){return this._fillStyle},setFillStyle:function(a){this._fillStyle=a},getMaxWidth:function(){return this._maxWidth},
setMaxWidth:function(a){this._maxWidth=a},getWrapWidth:function(){return this._wrapWidth},setWrapWidth:function(a){this._wrapWidth=a},getText:function(){return this._text},setText:function(a){this._htmlText!=a&&(this._htmlText=this._text=a,this.stripAndApplyRelevantHtml())},getTextBaseline:function(){return this._textBaseline},setTextBaseline:function(a){this._textBaseline=a},setTextAlign:function(a){this._textAlign=a},getTextAlign:function(){return this._textAlign},getTextFieldHeight:function(){var a=
this._layer.getCanvas().getContext("2d");a.font=this.getFont();a.fillStyle=this._fillStyle;a.textAlign=this._textAlign;a.textBaseline=this._textBaseline;a.globalAlpha=this._alpha;for(var b=this._text.split("\n"),c=0,d=0,e=b.length;d<e;){for(var g=d++,l="",g=b[g].split(" "),f=this._fontSize.substring(0,this._fontSize.length-2),h=0,m=g.length;h<m;){var n=h++,l=l+g[n]+" ";a.measureText(l).width>this._maxWidth&&(l=g[n]+" ",c+=parseFloat(f)+parseFloat(this._lineSpacing))}c+=parseFloat(f)+parseFloat(this._lineSpacing)}return c},
wrapText:function(a,b,c){for(var d=this._text.split("\n"),e=0,g=d.length;e<g;){for(var l=e++,f="",l=d[l].split(" "),h=this._fontSize.substring(0,this._fontSize.length-2),m=0,n=l.length;m<n;){var q=m++,p=f+l[q]+" ";c.measureText(p).width>this._maxWidth?(c.fillText(f,a,b),f=l[q]+" ",b+=parseFloat(h)+parseFloat(this._lineSpacing)):f=p}c.fillText(f,a,b);b+=parseFloat(h)+parseFloat(this._lineSpacing)}},render:function(){n.prototype.render.call(this);var a=this._layer.getCanvas().getContext("2d"),b=this.getEntity().getPosition().getClone(),
c=this.getEntity().getRotation().z,d=this.getEntity().getScale();a.save();null!=this._maskFunction&&(a.scale(p.getDevicePixelRatio(),p.getDevicePixelRatio()),this._maskFunction(a,this),a.clip(),a.scale(1/p.getDevicePixelRatio(),1/p.getDevicePixelRatio()));if(null!=this._camera){var e=this._camera.getEntity();a.translate(-e.getPosition().x*p.getDevicePixelRatio(),-e.getPosition().y*p.getDevicePixelRatio())}a.translate((b.x+this._pivotPoint.x)*p.getDevicePixelRatio(),(b.y+this._pivotPoint.y)*p.getDevicePixelRatio());
a.rotate(X.degToRad(c));a.translate(-((b.x+this._pivotPoint.x)*d.x*p.getDevicePixelRatio()),-((b.y+this._pivotPoint.y)*d.y)*p.getDevicePixelRatio());a.scale(d.x*p.getDevicePixelRatio(),d.y*p.getDevicePixelRatio());a.imageSmoothingEnabled=!0;a.font=this.getFont();a.fillStyle=this._fillStyle;a.textAlign=this._textAlign;a.textBaseline=this._textBaseline;a.globalAlpha=this._alpha;this.wrapText(b.x,b.y,a);this._layer.setWholeCanvasDirty(!0);a.restore()},stripAndApplyRelevantHtml:function(){var a=z.getDocument().createElement("div");
a.innerHTML=this._htmlText;var b=L.parse(a.outerHTML);if(b.elementsNamed("div").hasNext()){b=b.elementsNamed("div").next();if(b.elementsNamed("font").hasNext()){var c=b.elementsNamed("font").next();c.exists("size")&&(-1!=c.get("size").indexOf("px")?this._fontSize=ua.parseInt(c.get("size"))+"px":this._fontSize=ua.parseInt(c.get("size"))+"pt")}b.elementsNamed("span").hasNext()&&(b=b.elementsNamed("span").next(),b.exists("class")||b.exists("id")||b.exists("style"))&&(null==this._spanElement&&(this._spanElement=
z.getDocument().createElement("span"),this._spanElement.style.display="none",b.exists("id")&&(this._spanElement.id=b.get("id")),b.exists("class")&&(this._spanElement.className=b.get("class")),b.exists("style")&&(this._spanElement.style.cssText=b.get("style")),this._computedStyle=z.getWindow().getComputedStyle(this._spanElement),z.getContainer().appendChild(this._spanElement)),this._computedStyle.fontSize!=Rc._defaultComputedStyle.fontSize&&(this._fontSize=this._computedStyle.fontSize))}p.isFirefox()?
this._text=a.textContent:this._text=a.innerText},__class__:Rc});var id=function(a){n.call(this,a);this._localPosition=new s;this._localRotation=new s;this._localScale=new s(1,1,1)};h["f84.components.Transform"]=id;id.__name__=["f84","components","Transform"];id.getIdentity=function(){return window.glMatrix.mat4.identity(window.glMatrix.mat4.create())};id.__super__=n;id.prototype=q(n.prototype,{getParent:function(){return null!=this.getEntity().getParent()?this.getEntity().getParent().getTransform():
null},getPositionRef:function(){return this._localPosition},getRotationRef:function(){return this._localRotation},getScaleRef:function(){return this._localScale},getPosition:function(a){if(a==ba.Local)return this._localPosition.getClone();a=window.glMatrix.mat4.identity(window.glMatrix.mat4.create());for(var b=this;null!=b;){var c=window.glMatrix.mat4.create(),d=b.getRotation(ba.Local),e=b.getPosition(ba.Local),g=b.getScale(ba.Local),c=window.glMatrix.mat4.fromRotationTranslationScale(c,window.glMatrix.quat.fromEuler(window.glMatrix.quat.create(),
d.x,d.y,d.z),window.glMatrix.vec3.fromValues(e.x,e.y,e.z),window.glMatrix.vec3.fromValues(g.x,g.y,g.z));window.glMatrix.mat4.multiply(a,c,a);b=b.getParent()}b=window.glMatrix.vec3.create();window.glMatrix.vec3.transformMat4(b,b,a);return new s(b[0],b[1],b[1])},setPosition:function(a,b){switch(b[1]){case 0:this._localPosition.x=a.x;this._localPosition.y=a.y;this._localPosition.z=a.z;break;case 1:if(this._localPosition.x=a.x,this._localPosition.y=a.y,this._localPosition.z=a.z,null!=this.getParent()){for(var c=
id.getIdentity(),d=this.getParent();null!=d;){var e=d.getRotation(ba.Local),g=d.getPosition(ba.Local),f=d.getScale(ba.Local),e=window.glMatrix.quat.fromEuler(window.glMatrix.quat.create(),e.x,e.y,e.z),g=window.glMatrix.vec3.fromValues(g.x,g.y,g.z),f=window.glMatrix.vec3.fromValues(f.x,f.y,f.z),h=window.glMatrix.mat4.create(),h=window.glMatrix.mat4.fromRotationTranslationScale(h,e,g,f);window.glMatrix.mat4.multiply(c,h,c);d=d.getParent()}c=window.glMatrix.mat4.invert(window.glMatrix.mat4.create(),
c);d=window.glMatrix.vec3.fromValues(this._localPosition.x,this._localPosition.y,this._localPosition.z);d=window.glMatrix.vec3.transformMat4(d,d,c);this._localPosition.x=d[0];this._localPosition.y=d[1];this._localPosition.z=d[2]}else this.setPosition(this._localPosition,ba.Local)}this.dispatchEvent(new gc("update"))},translate:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._localPosition.x+=a;this._localPosition.y+=b;this._localPosition.z+=c},getScale:function(a){if(a==ba.Local)return this._localScale.getClone();
a=new s(1,1,1);for(var b=this;null!=b;)a.x*=b.getScale(ba.Local).x,a.y*=b.getScale(ba.Local).y,a.z*=b.getScale(ba.Local).z,b=b.getParent();return a},setScale:function(a,b,c,d){null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);switch(d[1]){case 0:this._localScale.x=a;this._localScale.y=b;this._localScale.z=c;break;case 1:for(this._localScale.x=a,this._localScale.y=b,this._localScale.z=c,a=this.getEntity().getParent();null!=a;)this._localScale.x/=a.getTransform().getScale(ba.Local).x,this._localScale.y/=
a.getTransform().getScale(ba.Local).y,this._localScale.z/=a.getTransform().getScale(ba.Local).z,a=a.getParent()}this.dispatchEvent(new gc("update"))},scale:function(a,b,c){null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this._localScale.x*=a;this._localScale.y*=b;this._localScale.z*=c;this.dispatchEvent(new gc("update"))},getRotation:function(a){if(a==ba.Local)return this._localRotation.getClone();a=new s;for(var b=this;null!=b;)a.x+=b.getRotation(ba.Local).x,a.y+=b.getRotation(ba.Local).y,a.z+=b.getRotation(ba.Local).z,
b=b.getParent();return a},setRotation:function(a,b,c,d){switch(d[1]){case 0:this._localRotation.x=a;this._localRotation.y=b;this._localRotation.z=c;break;case 1:null!=this.getParent()&&(this._localRotation.x=a,this._localRotation.y=b,this._localRotation.z=c,this._localRotation.x-=this.getParent().getRotation(d).x,this._localRotation.y-=this.getParent().getRotation(d).y,this._localRotation.z-=this.getParent().getRotation(d).z)}this.dispatchEvent(new gc("update"))},rotate:function(a,b,c){this._localRotation.x+=
a;this._localRotation.y+=b;this._localRotation.z+=c;this.dispatchEvent(new gc("update"))},__class__:id});var gc=function(a){this._type=a};h["f84.components.TransformEvent"]=gc;gc.__name__=["f84","components","TransformEvent"];gc.__super__=P;gc.prototype=q(P.prototype,{__class__:gc});var Z=function(a){this._tweens=null;n.call(this,a);this._tweens=[]};h["f84.components.Tweener"]=Z;Z.__name__=["f84","components","Tweener"];Z.addTweenToTarget=function(a,b,c,d,e,g,f,h,k,m){null==h&&(h=0);var n=a.getComponent(Z);
null==n&&(n=new Z(a));return n.addTween(b,c,d,e,g,f,h,k,m)};Z.__super__=n;Z.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this)},addTween:function(a,b,c,d,e,g,f,h,k){null==f&&(f=0);a=new Th(a,b,c,d,e,g,f,h,k);this._tweens.push(a);return a},skipAll:function(){for(var a=0,b=this._tweens.length;a<b;){var c=a++;this._tweens[c].skip()}},destroyTween:function(a){J.remove(this._tweens,a)},destroyAllTweens:function(){this._tweens=[]},update:function(){n.prototype.update.call(this);for(var a=
this._tweens.length-1;0<=a;){var b=this._tweens[a];b.update(p.getDeltaTime());this.getEntity().setTransformsDirty();b._isCompleted&&this._tweens.splice(a,1);--a}},__class__:Z});var kd=function(a,b){this._velocity=this._angularVelocity=this._gravity=null;n.call(this,a);this._velocity=new s;this._angularVelocity=new s;null!=b&&(this._gravity=b.getClone())};h["f84.components.VelocityController"]=kd;kd.__name__=["f84","components","VelocityController"];kd.__super__=n;kd.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this)},
fixedUpdate:function(){n.prototype.fixedUpdate.call(this);null!=this._gravity&&(this._velocity.x+=this._gravity.x*p.getDeltaTime(),this._velocity.y+=this._gravity.y*p.getDeltaTime(),this._velocity.z+=this._gravity.z*p.getDeltaTime());var a=this._velocity.getClone();a.scaleBy(p.getDeltaTime());var b=this._angularVelocity.getClone();b.scaleBy(p.getDeltaTime());var c=this.getEntity().getLocalPosition();this.getEntity().getLocalRotation();this.getEntity().setLocalPosition(c.x+a.x,c.y+a.y,c.z+a.z);this.getEntity().rotate(b.x,
b.y,b.z)},getXyAngleFromVector:function(a){return X.getAngleInDegreesBetween2dVectors(a,new m(this._velocity.x,this._velocity.y))},getGravity:function(){return this._gravity.getClone()},setGravity:function(a){this._gravity=new s(a.x,a.y,a.z)},getVelocity:function(){return this._velocity},addVelocity:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._velocity=this._velocity.add(new s(a,b,c))},setVelocity:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._velocity=new s(a,
b,c)},setVelocityX:function(a){this._velocity.x=a},setVelocityY:function(a){this._velocity.y=a},setVelocityZ:function(a){this._velocity.z=a},getVelocityX:function(){return this._velocity.x},getVelocityY:function(){return this._velocity.y},getVelocityZ:function(){return this._velocity.z},getAngularVelocity:function(){return this._angularVelocity},setAngularVelocity:function(a){this._angularVelocity=a},__class__:kd});var nb=function(a){n.call(this,a);null!=nb._instance&&(window.console.warn("An AudioListener instance already exists. There should only be one!"),
nb._instance.destroy());nb._instance=this;this._audioSources=[]};h["f84.components.audio.AudioListener"]=nb;nb.__name__=["f84","components","audio","AudioListener"];nb.getInstance=function(){return nb._instance};nb.__super__=n;nb.prototype=q(n.prototype,{registerAudioSource:function(a){-1==this._audioSources.indexOf(a)&&(this._audioSources.push(a),a.addEventListener("destroy",B(this,this.onAudioSourceDestroyed)))},removeAudioSource:function(a){J.remove(this._audioSources,a)},onAudioSourceDestroyed:function(a){a.target.removeEventListener("destroy",
B(this,this.onAudioSourceDestroyed));this.removeAudioSource(a.target)},update:function(){n.prototype.update.call(this);if(!this.getGameState().getPaused())for(var a=this.getEntity().getPosition(),b=0,c=this._audioSources.length;b<c;){var d=b++,d=this._audioSources[d],e=0;d.getIs2d()||(e=Math.abs(a.subtract(d.getEntity().getPosition()).getLength()));var g=d.getRolloff();e<=g?(e=C.linear(1-e/g,0,1,1),d.setVolumePercent(e)):d.setVolumePercent(0)}},onPause:function(){n.prototype.onPause.call(this);for(var a=
0,b=this._audioSources.length;a<b;){var c=a++,c=this._audioSources[c];c.setVolumePercent(0);c.pause()}},onResume:function(){n.prototype.onResume.call(this);for(var a=0,b=this._audioSources.length;a<b;){var c=a++;this._audioSources[c].resume()}},destroy:function(){n.prototype.destroy.call(this);nb._instance=null},__class__:nb});var ab=function(a,b,c){null==c&&(c=1);null==b&&(b=750);this._is2d=!1;n.call(this,a);this._maxVolume=c;this._rolloff=b;this._volume=0};h["f84.components.audio.AudioSource"]=
ab;ab.__name__=["f84","components","audio","AudioSource"];ab.create=function(a,b,c,d,e,g){null==g&&(g=1);null==e&&(e=750);null==c&&(c=!1);a=new ab(a,e,g);a.setIs2d(!0);a.play(b,c);return a};ab.__super__=n;ab.prototype=q(n.prototype,{getIs2d:function(){return this._is2d},setIs2d:function(a){this._is2d=a},setRolloff:function(a){this._rolloff=a},getRolloff:function(){return this._rolloff},setVolumePercent:function(a){this.setVolume(this._maxVolume*a)},setVolume:function(a){a!=this._volume&&(this._volume=
a,null!=this._soundData&&this._soundData.setVolume(this._volume))},play:function(a,b){null==b&&(b=!1);null!=nb.getInstance()&&(nb.getInstance().registerAudioSource(this),u.isSoundMuted()||(this._soundData=u.playSoundByName(a,!1,b),null!=this._soundData&&this._soundData.setVolume(this._volume)))},pause:function(){null!=this._soundData&&this._soundData.pause()},resume:function(){null!=this._soundData&&this._soundData.resume()},stop:function(){null!=this._soundData&&(this._soundData.stop(),this._soundData=
null)},isPlaying:function(){return null!=this._soundData?u.isSoundPlaying(this._soundData):!1},setActive:function(a){n.prototype.setActive.call(this,a);null!=nb.getInstance()&&(a?nb.getInstance().registerAudioSource(this):(nb.getInstance().removeAudioSource(this),this.setVolumePercent(0)))},destroy:function(){n.prototype.destroy.call(this);this.stop()},__class__:ab});var hb=function(a,b,c,d){this._lockDelayButtonNextFrame=!1;this._inputEnabled=!0;this._action=this._instantAction=this._deferredAction=
null;this._delayTime=0;n.call(this,a);this._delayTime=c;this._action=b;this._instantAction=d};h["f84.components.buttons.ButtonActionDelay"]=hb;hb.__name__=["f84","components","buttons","ButtonActionDelay"];hb.getDelayButtonLock=function(){return hb._delayButtonLock};hb.__super__=n;hb.prototype=q(n.prototype,{setOnAction:function(a){this._action=a},init:function(){n.prototype.init.call(this);this._deferredAction=new va(this.getEntity());this.getEntity().addEventListener("mouseDown",B(this,this.onMouseDown))},
onMouseDown:function(){this._inputEnabled&&!hb._delayButtonLock&&(this._inputEnabled=!1,this._lockDelayButtonNextFrame=!0,null!=this._instantAction&&this._instantAction(),this._deferredAction.addDeferredAction(this._delayTime,B(this,this.onMouseDownDelayElapse)))},postUpdate:function(){n.prototype.update.call(this);this._lockDelayButtonNextFrame&&(hb._delayButtonLock=!0);this._lockDelayButtonNextFrame=!1},onMouseDownDelayElapse:function(){this._lockDelayButtonNextFrame=hb._delayButtonLock=!1;null!=
this._action&&this._action();this._inputEnabled=!0},destroy:function(){n.prototype.destroy.call(this);0<=this._delayTime&&(hb._delayButtonLock=!1)},__class__:hb});var Qc=function(a){this._inputEnabled=!0;n.call(this,a)};h["f84.components.buttons.ButtonGroup"]=Qc;Qc.__name__=["f84","components","buttons","ButtonGroup"];Qc.__super__=n;Qc.prototype=q(n.prototype,{isInputEnabled:function(){return this._inputEnabled},setInputEnabled:function(a){this._inputEnabled=a},__class__:Qc});var ld=function(a,b,
c,d,e){null==e&&(e=!0);this._allowOnce=!0;this._buttonMouseOverScale=this._tweener=null;this._isPulseActive=!1;n.call(this,a);this._pulseFromScale=b;this._pulseToScale=c;this._pulseDuration=d;this._allowOnce=e;this.getEntity().addEventListener("mouseDown",B(this,this.onMouseDown))};h["f84.components.buttons.ButtonMouseDownPulse"]=ld;ld.__name__=["f84","components","buttons","ButtonMouseDownPulse"];ld.__super__=n;ld.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);this._buttonMouseOverScale=
this.getComponent(Sc);this._tweener=new Z(this.getEntity())},disableButton:function(){this.getEntity().removeEventListener("mouseDown",B(this,this.onMouseDown))},enableButton:function(){this.getEntity().addEventListener("mouseDown",B(this,this.onMouseDown))},onMouseDown:function(){if(!this._isPulseActive&&!hb.getDelayButtonLock()){var a=this.getEntity().getComponent(R);this._isPulseActive=!0;null!=this._buttonMouseOverScale&&this._buttonMouseOverScale.setActive(!1);null!=a?(this._tweener.addTween(a.getScaleRef(),
"x",this._pulseFromScale,this._pulseToScale,this._pulseDuration,C.easeOutBack,0,B(this,this.onPulseComplete)),this._tweener.addTween(a.getScaleRef(),"y",this._pulseFromScale,this._pulseToScale,this._pulseDuration,C.easeOutBack,0)):(this._tweener.addTween(this.getEntity().getScaleRef(),"x",this._pulseFromScale,this._pulseToScale,this._pulseDuration,C.easeOutBack,0,B(this,this.onPulseComplete)),this._tweener.addTween(this.getEntity().getScaleRef(),"y",this._pulseFromScale,this._pulseToScale,this._pulseDuration,
C.easeOutBack,0))}},onPulseComplete:function(){this._allowOnce||(this._isPulseActive=!1,null!=this._buttonMouseOverScale&&this._buttonMouseOverScale.setActive(!0))},__class__:ld});var zc=function(a,b,c){this._pixiSprite=null;n.call(this,a);this._defaultImageName=b;this._mouseOverImageName=c;this.getEntity().addEventListener("mouseOver",B(this,this.onMouseOver));this.getEntity().addEventListener("mouseOut",B(this,this.onMouseOut))};h["f84.components.buttons.ButtonMouseOverImage"]=zc;zc.__name__=["f84",
"components","buttons","ButtonMouseOverImage"];zc.__super__=n;zc.prototype=q(n.prototype,{setDefaultImage:function(a){this._defaultImageName=a;this.updateImage(this._defaultImageName)},setMouseOverImage:function(a){this._mouseOverImageName=a;this.updateImage(this._mouseOverImageName)},init:function(){n.prototype.init.call(this);this._pixiSprite=this.getComponent(t);null!=this._pixiSprite&&(this._pixiSprite.setImage(this._defaultImageName),this._pixiSprite.getSprite().anchor.x=0.5,this._pixiSprite.getSprite().anchor.y=
0.5)},disableButton:function(){this.getEntity().removeEventListener("mouseOver",B(this,this.onMouseOver));this.getEntity().removeEventListener("mouseOut",B(this,this.onMouseOut))},enableButton:function(){this.getEntity().addEventListener("mouseOver",B(this,this.onMouseOver));this.getEntity().addEventListener("mouseOut",B(this,this.onMouseOut))},onMouseOver:function(a){this.updateImage(this._mouseOverImageName)},onMouseOut:function(a){this.updateImage(this._defaultImageName)},updateImage:function(a){null==
this._pixiSprite&&(this._pixiSprite=this.getComponent(t));null!=this._pixiSprite&&this._pixiSprite.setImage(a)},__class__:zc});var Sc=function(a,b,c,d,e){null==c&&(c=0.35);null==b&&(b=1.25);this._baseScaleX=this._baseScaleY=1;this._button=this._tweener=null;n.call(this,a);this._scaleSize=b;this._scaleDuration=c;this._mouseOverEasingFunction=d;this._mouseOutEasingFunction=e;null==this._mouseOverEasingFunction&&(this._mouseOverEasingFunction=C.linear);null==this._mouseOutEasingFunction&&(this._mouseOutEasingFunction=
C.linear);this._baseScaleX=this.getEntity().getScaleRef().x;this._baseScaleY=this.getEntity().getScaleRef().y;this.getEntity().addEventListener("mouseOver",B(this,this.onMouseOver));this.getEntity().addEventListener("mouseOut",B(this,this.onMouseOut))};h["f84.components.buttons.ButtonMouseOverScale"]=Sc;Sc.__name__=["f84","components","buttons","ButtonMouseOverScale"];Sc.__super__=n;Sc.prototype=q(n.prototype,{onDeactivate:function(){n.prototype.onDeactivate.call(this);this._tweener.setActive(!1)},
onActivate:function(){n.prototype.onActivate.call(this);this._tweener.setActive(!0)},init:function(){n.prototype.init.call(this);this._tweener=new Z(this.getEntity());var a=this.getEntity().getComponent(R);null!=a&&(this._baseScaleX=a.getScaleRef().x,this._baseScaleY=a.getScaleRef().y)},disableButton:function(){this.onMouseOut(null);this.getEntity().removeEventListener("mouseOver",B(this,this.onMouseOver))},enableButton:function(){this.getEntity().addEventListener("mouseOver",B(this,this.onMouseOver))},
onMouseOver:function(a){a=this.getEntity().getComponent(R);if(!hb.getDelayButtonLock())if(this._tweener.destroyAllTweens(),null!=a){var b=a.getScaleRef().x,c=a.getScaleRef().y;this._tweener.addTween(a.getScaleRef(),"x",b,this._scaleSize,this._scaleDuration,this._mouseOverEasingFunction);this._tweener.addTween(a.getScaleRef(),"y",c,this._scaleSize,this._scaleDuration,this._mouseOverEasingFunction)}else a=this.getEntity().getScaleRef().x,b=this.getEntity().getScaleRef().y,this._tweener.addTween(this.getEntity().getScaleRef(),
"x",a,this._scaleSize,this._scaleDuration,this._mouseOverEasingFunction),this._tweener.addTween(this.getEntity().getScaleRef(),"y",b,this._scaleSize,this._scaleDuration,this._mouseOverEasingFunction)},onMouseOut:function(a){if(null!=this._tweener)if(a=this.getEntity().getComponent(R),this._tweener.destroyAllTweens(),null!=a){var b=a.getScaleRef().x,c=a.getScaleRef().y;this._tweener.addTween(a.getScaleRef(),"x",b,this._baseScaleX,this._scaleDuration,this._mouseOutEasingFunction);this._tweener.addTween(a.getScaleRef(),
"y",c,this._baseScaleY,this._scaleDuration,this._mouseOutEasingFunction)}else a=this.getEntity().getScaleRef().x,b=this.getEntity().getScaleRef().y,this._tweener.addTween(this.getEntity().getScaleRef(),"x",a,this._baseScaleX,this._scaleDuration,this._mouseOutEasingFunction),this._tweener.addTween(this.getEntity().getScaleRef(),"y",b,this._baseScaleY,this._scaleDuration,this._mouseOutEasingFunction)},__class__:Sc});var md=function(a,b,c){n.call(this,a);this._soundName=b;this._overSoundName=c};h["f84.components.buttons.ButtonSoundPlay"]=
md;md.__name__=["f84","components","buttons","ButtonSoundPlay"];md.__super__=n;md.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);this.getEntity().addEventListener("mouseDown",B(this,this.onMouseDown));this.getEntity().addEventListener("mouseOver",B(this,this.onMouseOver))},onMouseDown:function(){""!=this._soundName&&u.playSoundByName(this._soundName)},onMouseOver:function(){""!=this._soundName&&u.playSoundByName(this._overSoundName)},destroy:function(){n.prototype.destroy.call(this);
this.getEntity().removeEventListener("mouseDown",B(this,this.onMouseDown))},__class__:md});var wb=function(a,b,c){pb.call(this,a,c);this._collision=b};h["f84.components.colliders.BoxCollider"]=wb;wb.__name__=["f84","components","colliders","BoxCollider"];wb.__super__=pb;wb.prototype=q(pb.prototype,{update:function(){pb.prototype.update.call(this);var a=this.getEntity().getPosition().getClone(),b=null!=this._offset?this._offset:new s,c=a.x-this._collision.wh.x/2,d=b.x*this.getEntity().getScale().x;
this._collision.ul.x=c+d;a=a.y-this._collision.wh.y/2;b=b.y*this.getEntity().getScale().y;this._collision.ul.y=a+b},checkPointIntersect:function(a){return this._collision.checkPointIntersect(a)},getRaycastPoint:function(a,b,c,d,e){null==d&&(d=!1);return this._collision.getRaycastPoint(a,b,c,d,e)},debugRender:function(){pb.prototype.debugRender.call(this);var a=p.getInstance().getLayerByName("debug").getCanvas().getContext("2d");a.save();if(null!=oa.getDebugCamera()){var b=oa.getDebugCamera().getEntity(),
c=oa.getDebugCamera().getZoomScale(),d=oa.getDebugCamera().getComponent(Mc);a.translate(-b.getPosition().x*c+d.getContainerOffset().x,-b.getPosition().y*c+d.getContainerOffset().y);a.scale(c,c)}a.beginPath();a.lineWidth=1;a.strokeStyle="#FF0000";a.moveTo(this._collision.ul.x,this._collision.ul.y);a.lineTo(this._collision.ul.x+this._collision.wh.x,this._collision.ul.y);a.lineTo(this._collision.ul.x+this._collision.wh.x,this._collision.ul.y+this._collision.wh.y);a.lineTo(this._collision.ul.x,this._collision.ul.y+
this._collision.wh.y);a.lineTo(this._collision.ul.x,this._collision.ul.y);a.stroke();a.restore()},getCollision:function(){return this._collision},__class__:wb});var Uh=function(a,b,c){pb.call(this,a,c);this._collision=b};h["f84.components.colliders.PolygonCollider"]=Uh;Uh.__name__=["f84","components","colliders","PolygonCollider"];Uh.__super__=pb;Uh.prototype=q(pb.prototype,{update:function(){pb.prototype.update.call(this);var a=this.getEntity().getPosition().getClone(),b=null!=this._offset?this._offset:
new s,c=a.x-this._collision.wh.x/2,d=b.x*this.getEntity().getScale().x;this._collision.ul.x=c+d;a=a.y-this._collision.wh.y/2;b=b.y*this.getEntity().getScale().y;this._collision.ul.y=a+b},checkPointIntersect:function(a){return this._collision.checkPointIntersect(a)},getRaycastPoint:function(a,b,c,d,e){null==d&&(d=!1);return this._collision.getRaycastPoint(a,b,c,d,e)},debugRender:function(){pb.prototype.debugRender.call(this);var a=p.getInstance().getLayerByName("debug").getCanvas().getContext("2d");
a.save();if(null!=oa.getDebugCamera()){var b=oa.getDebugCamera().getEntity(),c=oa.getDebugCamera().getZoomScale(),d=oa.getDebugCamera().getComponent(Mc);a.translate(-b.getPosition().x*c+d.getContainerOffset().x,-b.getPosition().y*c+d.getContainerOffset().y);a.scale(c,c)}a.beginPath();a.lineWidth=1;a.strokeStyle="#FF0000";b=0;for(c=this._collision.getPoints().length;b<c;)d=b++,0==d?a.moveTo(this._collision.ul.x+this._collision.getPoints()[d].x,this._collision.ul.y+this._collision.getPoints()[d].y):
a.lineTo(this._collision.ul.x+this._collision.getPoints()[d].x,this._collision.ul.y+this._collision.getPoints()[d].y);a.lineTo(this._collision.ul.x+this._collision.getPoints()[0].x,this._collision.ul.y+this._collision.getPoints()[0].y);a.stroke();a.restore()},getCollision:function(){return this._collision},__class__:Uh});var wf=function(a,b,c){this._position=this._spriteIndex=0;this._position=a;this._spriteIndex=b;this._spriteSheetName=c};h["f84.components.flashAnimation.AnimationKeyframe"]=wf;wf.__name__=
["f84","components","flashAnimation","AnimationKeyframe"];wf.prototype={getSpriteSheetName:function(){return this._spriteSheetName},getPosition:function(){return this._position},getSpriteIndex:function(){return this._spriteIndex},__class__:wf};var C=function(){};h["f84.components.tween.EasingFunctions"]=C;C.__name__=["f84","components","tween","EasingFunctions"];C.linear=function(a,b,c,d){return b+c*(a/d)};C.easeOutExpo=function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b};C.easeInCubic=function(a,
b,c,d){a/=d;return c*a*a*a+b};C.easeOutCubic=function(a,b,c,d){a/=d;--a;return c*(a*a*a+1)+b};C.easeInQuad=function(a,b,c,d){a/=d;return c*a*a+b};C.easeOutQuad=function(a,b,c,d){a/=d;return-c*a*(a-2)+b};C.easeInOutQuad=function(a,b,c,d){a/=d/2;if(1>a)return c/2*a*a+b;--a;return-c/2*(a*(a-2)-1)+b};C.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b};C.easeInQuint=function(a,b,c,d){a/=d;return c*a*a*a*a*a+b};C.easeOutQuint=function(a,b,c,d){a/=d;--a;return c*(a*a*a*a*a+1)+b};C.easeOutBounce=
function(a,b,c,d){a/=d;return 0.36363636363636365>a?c*7.5625*a*a+b:0.7272727272727273>a?c*(7.5625*(a-=0.5454545454545454)*a+0.75)+b:0.9090909090909091>a?c*(7.5625*(a-=0.8181818181818182)*a+0.9375)+b:c*(7.5625*(a-=0.9545454545454546)*a+0.984375)+b};C.easeInBack=function(a,b,c,d){return c*(a/=d)*a*(2.70158*a-1.70158)+b};C.easeOutBack=function(a,b,c,d){a=a/d-1;return c*(a*a*(3.70158*a+2.70158)+1)+b};C.easeInOutExpo=function(a,b,c,d){a/=d/2;if(1>a)return c/2*Math.pow(2,10*(a-1))+b;--a;return c/2*(-Math.pow(2,
-10*a)+2)+b};var Th=function(a,b,c,d,e,g,f,h,k){this._elapsedTime=0;this._isCompleted=!1;this._action=this._params=null;this._change=this._delay=0;this._target=this._easingFunction=null;this._propertyName="";this._begin=this._end=this._duration=0;this._target=a;this._propertyName=b;this._begin=c;this._end=d;this._duration=e;this._easingFunction=g;this._delay=f;this._action=h;this._params=k};h["f84.components.tween.Tween"]=Th;Th.__name__=["f84","components","tween","Tween"];Th.prototype={getOnUpdate:function(){return this._onUpdate},
setOnUpdate:function(a){this._onUpdate=a},update:function(a){this._change=this._end-this._begin;this._elapsedTime+=a;this._elapsedTime<this._delay||(this._elapsedTime>this._duration+this._delay&&(this._elapsedTime=this._duration+this._delay),a=0,a=this._easingFunction(this.getTransitionTimeElapsed(),this._begin,this._change,this._duration),Ca.setProperty(this._target,this._propertyName,a),null!=this._onUpdate&&this._onUpdate(),!this._isCompleted&&this.getTransitionTimeElapsed()>=this._duration&&(this._isCompleted=
!0,null!=this._action&&(a=this._action,this._action=null,a(this._params))))},skip:function(){Ca.setProperty(this._target,this._propertyName,this._end);this._isCompleted=!0;this._elapsedTime=this._duration},getTransitionTimeElapsed:function(){return Math.max(0,this._elapsedTime-this._delay)},__class__:Th};var fa=function(a,b){this.data=null;this._type=a;this.data=b};h["f84.events.EntityEvent"]=fa;fa.__name__=["f84","events","EntityEvent"];fa.__super__=P;fa.prototype=q(P.prototype,{__class__:fa});var Ph=
function(a,b){this.eventName=a;this.action=b};h["f84.events.EventListener"]=Ph;Ph.__name__=["f84","events","EventListener"];Ph.prototype={__class__:Ph};var Mb=function(a){this._type=a};h["f84.events.GameObjectEvent"]=Mb;Mb.__name__=["f84","events","GameObjectEvent"];Mb.__super__=P;Mb.prototype=q(P.prototype,{__class__:Mb});var Wd=function(a,b,c){this.start=this.end=null;this._type=a;this.start=b;this.end=c};h["f84.events.RaycastCheckEvent"]=Wd;Wd.__name__=["f84","events","RaycastCheckEvent"];Wd.__super__=
P;Wd.prototype=q(P.prototype,{__class__:Wd});var mb=function(){this._animations=new Na};h["f84.managers.AnimationManager"]=mb;mb.__name__=["f84","managers","AnimationManager"];mb.getInstance=function(){null==mb._instance&&(mb._instance=new mb);return mb._instance};mb.prototype={getAnimationByName:function(a){var b=this._animations;return null!=na[a]?b.getReserved(a):b.h[a]},registerAnimation:function(a){var b=this._animations,c=a.getName();null!=na[c]?b.setReserved(c,a):b.h[c]=a},removeAnimationByName:function(a){this._animations.remove(a)},
removeAllAnimations:function(){this._animations=new Na},__class__:mb};var O=function(){};h["f84.managers.AssetManager"]=O;O.__name__=["f84","managers","AssetManager"];O.outputAssets=function(){$a.log(O.assetList)};O.getAsset=function(a){var b=O.assetList;if(null!=na[a]?!b.existsReserved(a):!b.h.hasOwnProperty(a))throw new G(a+" does not exist in asset list!");b=O.assetList;return null!=na[a]?b.getReserved(a):b.h[a]};O.assetExists=function(a){var b=O.assetList;return null!=na[a]?b.existsReserved(a):
b.h.hasOwnProperty(a)};O.unloadAsset=function(a){var b=O.assetList;null!=na[a]?b.setReserved(a,null):b.h[a]=null;O.assetList.remove(a);a=PIXI.Texture.removeTextureFromCache(a);null!=a&&a.destroy(!0)};O.unloadLoadBatch=function(a){O.getAsset(a).unload()};O.registerAsset=function(a,b,c){null==c&&(c=!0);var d=O.assetList;(null!=na[a]?d.existsReserved(a):d.h.hasOwnProperty(a))&&!c||(c=O.assetList,null!=na[a]?c.setReserved(a,b):c.h[a]=b)};O.prototype={__class__:O};var Ac=function(){U.call(this);Ac._instance=
this};h["f84.managers.DebugManager"]=Ac;Ac.__name__=["f84","managers","DebugManager"];Ac.getInstance=function(){return Ac._instance};Ac.__super__=ka;Ac.prototype=q(ka.prototype,{update:function(){ka.prototype.update.call(this);"1"==T.getProperty("debugCheats")&&(Ha.getInstance().isKeyPressed(104)&&T.setProperty("debugDraw","1"==T.getProperty("debugDraw")?"0":"1"),Ha.getInstance().isKeyPressed(101)&&this.dispatchEvent(new Ub("beatLevel")),Ha.getInstance().isKeyPressed(102)&&this.dispatchEvent(new Ub("failLevel")),
Ha.getInstance().isKeyPressed(100)&&(T.setProperty("forceOrientation","HORIZONTAL"==T.getProperty("forceOrientation")?"VERTICAL":"HORIZONTAL"),p.getInstance().onOrientationChange()),Ha.getInstance().isKeyPressed(99)&&this.outputHierarchyToWindow())},destroy:function(){ka.prototype.destroy.call(this);Ac._instance=null},outputHierarchyToWindow:function(){$a.log("Outputting Hierarchy to window...");for(var a=window.document.createElement("div"),b=window.open("","_blank"),c=0,d=p.getInstance().getGameStates().length;c<
d;){var e=c++,e=p.getInstance().getGameStates()[e],g=window.document.createElement("details");a.appendChild(g);g.style.color="#FF0000";var f=window.document.createElement("summary");g.appendChild(f);f.innerText=Ia.getClassName(null==e?null:H.getClass(e));for(var f=0,h=e.getEntities().length;f<h;){var k=f++,k=e.getEntities()[k];null==k.getParent()&&(k=this.createDetailsElementForEntity(k),k.style.marginLeft="10px",g.appendChild(k))}}b.document.body.appendChild(a)},createDetailsElementForEntity:function(a){var b=
a.getName();if(""==b||null==b)b="Entity";var c=window.document.createElement("details");c.style.marginLeft="10px";c.style.color="#00b700";var d=window.document.createElement("summary");c.appendChild(d);for(var e=null!=a.getComponents(n)?a.getComponents(n).length:0,g=a.getChildren().length,f=a.getChildren(!0).length,h="",k=0;k<e;){var m=k++,m=a.getComponents(n)[m],q=window.document.createElement("details");q.style.marginLeft="10px";q.style.color="#439eff";var p=window.document.createElement("summary");
q.appendChild(p);var s=Ia.getClassName(null==m?null:H.getClass(m));m.isActive()||(s="(INACTIVE) "+s);p.innerText=s;""!=h&&(h+=", ");p=Ia.getClassName(null==m?null:H.getClass(m)).split(".");h+=p[p.length-1];c.appendChild(q);for(var p=Ca.fields(m),s=0,t=p.length;s<t;){var u=s++,v=p[u],u=window.document.createElement("details");u.style.marginLeft="10px";u.style.color="#AAAAAA";var w=window.document.createElement("summary");u.appendChild(w);var y=Ca.field(m,v),x=y;null==x||H.getClass(x);w.innerText=v;
v=window.document.createElement("span");v.style.marginLeft="10px";v.style.color="#888888";v.innerText=y;q.appendChild(u);u.appendChild(v)}}a.isActive()||(b="(INACTIVE) "+b);d.innerHTML=0<e?b+" - Children("+g+"/"+f+") <font color='#439eff'> Components("+e+": "+h+")</font>":b+" - Children("+g+"/"+f+")";for(b=0;b<g;)d=b++,d=a.getChildren()[d],d=this.createDetailsElementForEntity(d),c.appendChild(d);return c},__class__:Ac});var Ub=function(a){this._type=a};h["f84.managers.DebugManagerEvent"]=Ub;Ub.__name__=
["f84","managers","DebugManagerEvent"];Ub.__super__=P;Ub.prototype=q(P.prototype,{__class__:Ub});var Ha=function(){this._keysDown=this._keysPressedThisFrame=null;this._isInputDisabled=this._isLeftMouseDown=!1;this._mousePosition=null;U.call(this);Ha._instance=this;this._mousePosition=new m(0,0);this._keysDown=[];this._keysPressedThisFrame=[];for(var a=0;255>a;)a++,this._keysDown.push(!1),this._keysPressedThisFrame.push(!1)};h["f84.managers.InputManager"]=Ha;Ha.__name__=["f84","managers","InputManager"];
Ha.getInstance=function(){return Ha._instance};Ha.__super__=ka;Ha.prototype=q(ka.prototype,{init:function(){ka.prototype.init.call(this);z.getWindow().addEventListener("mousemove",B(this,this.onMouseMoved));z.getWindow().addEventListener("mousedown",B(this,this.onMouseDown));z.getWindow().addEventListener("mouseup",B(this,this.onMouseUp));z.getWindow().addEventListener("mouseleave",B(this,this.onMouseLeave));z.getWindow().addEventListener("mouseout",B(this,this.onMouseOut));z.getDocument().addEventListener("keydown",
B(this,this.onKeyDown));z.getDocument().addEventListener("keyup",B(this,this.onKeyUp));z.getDocument().addEventListener("keypress",B(this,this.onKeyPressed));z.getWindow().addEventListener("click",B(this,this.onMouseClick));document.addEventListener("touchstart",B(this,this.onMouseDown));document.addEventListener("touchend",B(this,this.onMouseUp));document.addEventListener("touchmove",B(this,this.onMouseMoved))},update:function(){ka.prototype.update.call(this)},postUpdate:function(){ka.prototype.postUpdate.call(this);
for(var a=0,b=this._keysPressedThisFrame.length;a<b;){var c=a++;this._keysPressedThisFrame[c]=!1}},getMousePosition:function(){var a=p.getInstance().getScreenOffset();return new m((this._mousePosition.x-a.x)/p.getInstance().getScreenScale().x,(this._mousePosition.y-a.y)/p.getInstance().getScreenScale().y)},onMouseMoved:function(a){if(!this._isInputDisabled)if(p.isMobile()){for(var b=a.changedTouches,c=0,d=b.length;c<d;){var e=c++,g=b[e],e=g.pageX-z.getContainer().offsetParent.offsetLeft,g=g.pageY-
z.getContainer().offsetParent.offsetTop;this._mousePosition.x=e;this._mousePosition.y=g;p.getInstance().sendGlobalMessage("mouseMove",this.getMousePosition())}p.getInstance().sendGlobalMessage("verifyTouches",a)}else b=a.pageX-z.getContainer().offsetParent.offsetLeft,a=a.pageY-z.getContainer().offsetParent.offsetTop,this._mousePosition.x=b,this._mousePosition.y=a,p.getInstance().sendGlobalMessage("mouseMove",this.getMousePosition())},onMouseDown:function(a){p.getInstance().hideAddressBar();p.isMobile()&&
!p.isIOS()&&p.getInstance().requestFullscreen();if(!this._isInputDisabled)if(p.isMobile()){this._isLeftMouseDown=!0;var b=a.changedTouches;a=0;for(var c=b.length;a<c;){var d=a++,e=b[d],d=e.pageX-z.getContainer().offsetParent.offsetLeft,e=e.pageY-z.getContainer().offsetParent.offsetTop;this._mousePosition.x=d;this._mousePosition.y=e;p.getInstance().sendGlobalMessage("mouseDown",this.getMousePosition())}}else this._isLeftMouseDown=!0,b=a.pageX-z.getContainer().offsetParent.offsetLeft,a=a.pageY-z.getContainer().offsetParent.offsetTop,
this._mousePosition.x=b,this._mousePosition.y=a,p.getInstance().sendGlobalMessage("mouseDown",this.getMousePosition())},onMouseUp:function(a){if(!this._isInputDisabled){if(p.isMobile())this._isLeftMouseDown=!1;else{this._isLeftMouseDown=!1;var b;b=a.pageX-z.getContainer().offsetParent.offsetLeft;a=a.pageY-z.getContainer().offsetParent.offsetTop;this._mousePosition.x=b;this._mousePosition.y=a}p.getInstance().sendGlobalMessage("mouseUp",this.getMousePosition())}},onMouseClick:function(a){if(!this._isInputDisabled){var b=
a.pageX-z.getContainer().offsetParent.offsetLeft;a=a.pageY-z.getContainer().offsetParent.offsetTop;this._mousePosition.x=b;this._mousePosition.y=a;p.getInstance().sendGlobalMessage("mouseClick",this.getMousePosition())}},onMouseLeave:function(a){if(!this._isInputDisabled){var b=a.pageX-z.getContainer().offsetParent.offsetLeft;a=a.pageY-z.getContainer().offsetParent.offsetTop;this._mousePosition.x=b;this._mousePosition.y=a;p.getInstance().sendGlobalMessage("mouseLeave",this.getMousePosition())}},onMouseOut:function(a){if(!this._isInputDisabled){var b=
a.pageX-z.getContainer().offsetParent.offsetLeft;a=a.pageY-z.getContainer().offsetParent.offsetTop;this._mousePosition.x=b;this._mousePosition.y=a;p.getInstance().sendGlobalMessage("mouseOut",this.getMousePosition())}},onKeyDown:function(a){a.stopPropagation();this._isInputDisabled||this._keysDown[a.keyCode]||(this._keysDown[a.keyCode]=!0,this._keysPressedThisFrame[a.keyCode]=!0,p.getInstance().sendGlobalMessage("keyDown",a.keyCode))},onKeyUp:function(a){this._isInputDisabled||(this._keysDown[a.keyCode]=
!1,p.getInstance().sendGlobalMessage("keyUp",a.keyCode))},onKeyPressed:function(a){a.stopPropagation();this._isInputDisabled||p.getInstance().sendGlobalMessage("keyPressed",a.keyCode)},disablePageKeyPresses:function(){document.onkeydown=function(a){a.preventDefault();return!1}},enablePageKeyPresses:function(){document.onkeydown=null},getInputDisabled:function(){return this._isInputDisabled},setInputDisabled:function(a){this._isInputDisabled=a},isKeyDown:function(a){return this._keysDown[a]},isKeyPressed:function(a){return this._keysPressedThisFrame[a]},
isLeftMouseDown:function(){return this._isLeftMouseDown},__class__:Ha});var Vh=function(){};h["f84.managers.PhysicsEvent"]=Vh;Vh.__name__=["f84","managers","PhysicsEvent"];Vh.prototype={__class__:Vh};var Hb=function(){this._colliders=this._raycastsThisFrame=null;U.call(this);Hb._instance=this;this._raycastsThisFrame=[];this._colliders=[];this._debugDrawEnabled="1"==T.getProperty("debugDraw");this.addEventListener("raycastCheck",B(this,this.onRaycastCheck))};h["f84.managers.PhysicsManager"]=Hb;Hb.__name__=
["f84","managers","PhysicsManager"];Hb.getInstance=function(){return Hb._instance};Hb.createBoxColliderEntity=function(a,b,c,d,e,g,f,h){null==h&&(h=!0);d=g.addEntity();d.setLocalPosition(a,b,c);a=new gb;h=new wb(d,a,h?new s:new s(0.5*a.wh.x,0.5*a.wh.y));if(null!=f)for(a=0,b=f.length;a<b;)c=a++,h.addTag(f[c]);return d};Hb.createBoxCollider=function(a,b,c,d,e,g,f){null==g&&(g=0);null==e&&(e=0);null==d&&(d=0);b=new gb;a=new wb(a,b,new s(d,e,g));if(null!=f)for(d=0,e=f.length;d<e;)g=d++,a.addTag(f[g]);
return a};Hb.__super__=ka;Hb.prototype=q(ka.prototype,{update:function(){ka.prototype.update.call(this)},registerCollider:function(a){for(var b=0,c=this._colliders.length;b<c;){var d=b++;if(this._colliders[d]==a)return}this._colliders.push(a)},removeCollider:function(a){for(var b=0,c=this._colliders.length;b<c;){var d=b++;if(this._colliders[d]==a){this._colliders.splice(d,1);break}}},getColliders:function(){return this._colliders},getRaycastPoint:function(a,b,c,d,e){null==d&&(d=!0);for(var g=-1,f=
null,h=null,k=0,n=0,q=0,p=this._colliders.length;q<p;){var s=q++;++n;s=this._colliders[s];if(!1!=s.isActive()){if(null!=e){for(var t=!1,u=0,v=e.length;u<v;){var w=u++;if(s.hasTag(e[w])){t=!0;break}}if(!t)continue}++k;t=new m;if(d){if(u=new m,v=s.getRaycastPoint(a,b,t,d,u),-1==g&&0<v||0<v&&v<g)c.distance=v,c.collider=s,c.collisionPoint=t,h=c.normal=u,f=t,g=v,J.remove(this._colliders,s),this._colliders.unshift(s)}else if(u=new m,v=s.getRaycastPoint(a,b,t,d,u),0<v){c.distance=v;c.collider=s;c.collisionPoint=
t;h=c.normal=u;f=t;g=v;J.remove(this._colliders,s);this._colliders.unshift(s);break}}}this._raycastsThisFrame.push({start:a,end:b,hitPoint:f,normal:h});return g},render:function(){ka.prototype.render.call(this);"0"==T.getProperty("debugDraw")&&(this._raycastsThisFrame=[])},debugRender:function(){ka.prototype.debugRender.call(this);for(var a=0,b=this._raycastsThisFrame.length;a<b;){var c=a++,d=this._raycastsThisFrame[c],e=d.start,g=d.end,c=d.hitPoint,f=p.getInstance().getLayerByName("debug").getCanvas().getContext("2d");
f.save();if(null!=oa.getDebugCamera()){var h=oa.getDebugCamera().getEntity(),k=oa.getDebugCamera().getZoomScale(),n=oa.getDebugCamera().getComponent(Mc);f.translate(-h.getPosition().x*k+n.getContainerOffset().x,-h.getPosition().y*k+n.getContainerOffset().y);f.scale(k,k)}null==c?(f.beginPath(),f.globalAlpha=1,f.lineWidth=1,f.strokeStyle="#AAAAFF",f.moveTo(e.x,e.y),f.lineTo(g.x,g.y),f.stroke()):(f.beginPath(),f.globalAlpha=1,f.lineWidth=1,f.strokeStyle="#AAAAFF",f.moveTo(e.x,e.y),f.lineTo(c.x,c.y),
f.stroke(),f.beginPath(),f.globalAlpha=1,f.lineWidth=1,f.strokeStyle="#FFFF00",f.moveTo(c.x,c.y),f.lineTo(g.x,g.y),f.stroke(),null!=d.normal&&(e=(new m(g.x-c.x,g.y-c.y)).getLength(),d=new m(c.x+d.normal.x*e,c.y+d.normal.y*e),f.beginPath(),f.globalAlpha=1,f.lineWidth=1,f.strokeStyle="#FF00FF",f.moveTo(c.x,c.y),f.lineTo(d.x,d.y),f.stroke()));f.restore()}this._raycastsThisFrame=[]},destroyAllColliders:function(){for(var a=this._colliders.length-1;0<=a;)this.removeCollider(this._colliders[a]),--a;this._colliders=
[]},onRaycastCheck:function(a){this._raycastsThisFrame.push({start:a.start,end:a.end})},__class__:Hb});var Tc=function(){this._isCurrentVoLocked=!1;this._voTrack=null;U.call(this);Tc._instance=this};h["f84.managers.VoManager"]=Tc;Tc.__name__=["f84","managers","VoManager"];Tc.getInstance=function(){return Tc._instance};Tc.__super__=ka;Tc.prototype=q(ka.prototype,{playVo:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);if(!this._isCurrentVoLocked||b)this.stopVo(),this._voTrack=u.playSoundByName(a,
c,d),b&&(p.getInstance().invokeAsyncDeferredAction(this._voTrack.getSoundLength(),B(this,this.onHighPrioritySoundElapse)),this._isCurrentVoLocked=!0)},onHighPrioritySoundElapse:function(){this._isCurrentVoLocked=!1},stopVo:function(){null!=this._voTrack&&(this._voTrack.stop(),this._voTrack=null)},__class__:Tc});var xf=function(){};h["f84.ui.ILayoutElement"]=xf;xf.__name__=["f84","ui","ILayoutElement"];xf.prototype={__class__:xf,__properties__:{set_localPosition:"set_localPosition",get_localPosition:"get_localPosition",
set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width"}};var ga=function(a){this._updateContainerEveryFrame=!0;n.call(this,a);this._positionOffset=new m(0,0);this._scaleModifier=new m(1,1);this._scaleOffset=new m(0,0);this._rotationOffset=0;this._container=new PIXI.Container};h["f84.pixi.PixiContainer"]=ga;ga.__name__=["f84","pixi","PixiContainer"];ga.__interfaces__=[xf];ga.__super__=n;ga.prototype=q(n.prototype,{get_width:function(){return this._container.width},
set_width:function(a){return this._container.width=a},get_height:function(){return this._container.height},set_height:function(a){return this._container.height=a},get_localPosition:function(){return this.getEntity().getLocalPosition()},set_localPosition:function(a){this.getEntity().setLocalPosition(a.x,a.y,a.z);return a},getUpdateContainerEveryFrame:function(){return this._updateContainerEveryFrame},setUpdateContainerEveryFrame:function(a){this._updateContainerEveryFrame=a},getPositionOffset:function(){return this._positionOffset},
setPositionOffset:function(a){this._positionOffset=a},getScaleModifier:function(){return this._scaleModifier},setScaleModifier:function(a){this._scaleModifier=a},getScaleOffset:function(){return this._scaleOffset},setScaleOffset:function(a){this._scaleOffset=a},getRotationOffset:function(){return this._rotationOffset},setRotationOffset:function(a){this._rotationOffset=a},getContainer:function(){return this._container},onActivate:function(){n.prototype.onActivate.call(this);null!=this._container&&
(this._container.renderable=!0)},onDeactivate:function(){n.prototype.onDeactivate.call(this);null!=this._container&&(this._container.renderable=!1)},init:function(){n.prototype.init.call(this);this.updateTransforms();this.updateParenting()},updateParenting:function(){if(!this.isMarkedForDeletion()){var a=this.getEntity().getParent();if(null!=a){var b=a.getComponent(ga);null==b&&(b=new ga(a));0<b.getContainer().children.length?b.getContainer().addChildAt(this._container,b.getContainer().children.length):
b.getContainer().addChild(this._container);this._parentContainer=b}else 0<Ta.getInstance().getStage().children.length?Ta.getInstance().getStage().addChildAt(this._container,Ta.getInstance().getStage().children.length):Ta.getInstance().getStage().addChild(this._container)}},update:function(){n.prototype.update.call(this);this._container.visible=this.getEntity().isVisible()},render:function(){n.prototype.render.call(this);this._updateContainerEveryFrame&&(this.updateParenting(),this.updateTransforms())},
bringToFront:function(){var a=this._container.parent;null!=a&&(a.removeChild(this._container),a.addChild(this._container))},updateTransforms:function(){var a=this.getEntity().getLocalPosition(),b=this.getEntity().getLocalScale();this._container.position=new PIXI.Point(a.x+this._positionOffset.x,a.y+this._positionOffset.y);a=this.getEntity().getLocalRotation().z+this._rotationOffset;this._container.rotation=X.degToRad(a);this._container.scale=new PIXI.Point(b.x*this._scaleModifier.x+this._scaleOffset.x,
b.y*this._scaleModifier.y+this._scaleOffset.y)},destroy:function(){n.prototype.destroy.call(this);null!=this._container.parent&&this._container.parent.removeChild(this._container)},__class__:ga,__properties__:{set_localPosition:"set_localPosition",get_localPosition:"get_localPosition",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width"}});var t=function(a,b,c){ga.call(this,a);this._container=new PIXI.Sprite(null);this.setImage(b,c)};h["f84.pixi.PixiSprite"]=
t;t.__name__=["f84","pixi","PixiSprite"];t.__interfaces__=[xf];t.__super__=ga;t.prototype=q(ga.prototype,{getSprite:function(){return this._container},getImageId:function(){return this._imageId},getFrame:function(){return this.getSprite().texture.frame},getAnchor:function(){return new m(this.getSprite().anchor.x,this.getSprite().anchor.y)},setAnchor:function(a,b){this.getSprite().anchor.x=a;this.getSprite().anchor.y=b},getSize:function(){return new m(this.getSprite().width,this.getSprite().height)},
setSize:function(a,b){this.getEntity().setScale(a/this.getSprite().texture.width,b/this.getSprite().texture.height)},setImage:function(a,b){if(O.assetExists(a)){if(this._imageId!=a)if(this._currentImageElement=O.getAsset(a),null==b)this.getSprite().texture=PIXI.Texture.fromImage(this._currentImageElement.src);else{var c=PIXI.BaseTexture.fromImage(this._currentImageElement.src);this.getSprite().texture=new PIXI.Texture(c,b)}else null==b?this.getSprite().texture.noFrame=!0:(this.getSprite().texture.frame=
b,this.getSprite().texture.noFrame=!1);this._imageId=a}this.updateTransforms()},update:function(){ga.prototype.update.call(this)},fixedUpdate:function(){ga.prototype.fixedUpdate.call(this)},render:function(){ga.prototype.render.call(this)},destroy:function(){ga.prototype.destroy.call(this)},__class__:t});var Aa=function(a,b){this._onAnimationComplete=null;this._position=0;this._updateScale=1;this._isPlaying=!0;t.call(this,a,"");this._currentAnimationName=b};h["f84.pixi.PixiAnimation"]=Aa;Aa.__name__=
["f84","pixi","PixiAnimation"];Aa.__super__=t;Aa.prototype=q(t.prototype,{getAnimation:function(){return mb.getInstance().getAnimationByName(this._currentAnimationName)},getAnimationLength:function(){return this.getAnimation().getLength()},getUpdateScale:function(){return this._updateScale},setUpdateScale:function(a){this._updateScale=a},fixedUpdate:function(){t.prototype.update.call(this);var a=this.getAnimation();if(null!=a){if(this._isPlaying){this._position+=p.getDeltaTime()*this.getUpdateScale();
if(0<this._updateScale&&this._position>=a.getLength()&&(a.getLoop()?this._position-=a.getLength():(this._position=a.getLength(),this.stop()),null!=this._onAnimationComplete)){var b=this._onAnimationComplete;this._onAnimationComplete=null;b(this.getEntity());a=mb.getInstance().getAnimationByName(this._currentAnimationName)}0>this._updateScale&&0>=this._position&&(a.getLoop()?this._position+=a.getLength():(this._position=0,this.stop()),null!=this._onAnimationComplete&&(b=this._onAnimationComplete,this._onAnimationComplete=
null,b(this.getEntity()),a=mb.getInstance().getAnimationByName(this._currentAnimationName)))}if(null!=a){var b=a.getSpriteIndexAtPosition(this._position),c=a.getSpriteSheetNameAtPosition(this._position),b=ob.getInstance().getSpriteSheetByName(c).getSpriteInfoByIndex(b),d=b.getCoords();this.setImage(c,new PIXI.Rectangle(d.ul.x,d.ul.y,d.wh.x,d.wh.y));c=a.getOffset().x/b.getCoords().wh.x;a=a.getOffset().y/b.getCoords().wh.y;d=b.getOffset().x/b.getCoords().wh.x;b=b.getOffset().y/b.getCoords().wh.y;this.getSprite().anchor.x=
-c-d;this.getSprite().anchor.y=-a-b}}},setPosition:function(a){this._position=a},getPosition:function(){return this._position},setAnimation:function(a,b,c){null==c&&(c=!1);if(this._currentAnimationName!=a||c)this._position=0;this._currentAnimationName=a;this._onAnimationComplete=b;this._isPlaying=!0},getAnimationName:function(){return this._currentAnimationName},play:function(){this._isPlaying=!0},stop:function(){this._isPlaying=!1},playing:function(){return this._isPlaying},setOnAnimationComplete:function(a){this._onAnimationComplete=
a},getOnAnimationComplete:function(){return this._onAnimationComplete},__class__:Aa});var Mc=function(a){this._containerOffset=new m(0,0);this._muteRotation=!1;this._layers=[];oa.call(this,a)};h["f84.pixi.PixiCamera"]=Mc;Mc.__name__=["f84","pixi","PixiCamera"];Mc.__super__=oa;Mc.prototype=q(oa.prototype,{getContainerOffset:function(){return this._containerOffset},setContainerOffset:function(a){this._containerOffset.x=a.x;this._containerOffset.y=a.y},getMuteRotation:function(){return this._muteRotation},
setMuteRotation:function(a){this._muteRotation=a},addLayer:function(a,b,c,d,e,g){null==g&&(g=1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=1);null==b&&(b=1);a=new Wh(a,b,c,d,e,g);this._layers.push(a);return a},removeLayer:function(a){J.remove(this._layers,a)},getLayerByContainer:function(a){for(var b=0,c=this._layers.length;b<c;){var d=b++,d=this._layers[d];if(d.pixiContainer==a)return d}return null},getLayers:function(){return this._layers},postUpdate:function(){oa.prototype.postUpdate.call(this);
for(var a=this.getEntity().getPosition(),b=0,c=this._layers.length;b<c;){var d=b++,e=this._zoomScale,d=this._layers[d],e=0==d.zoomModifier?1:e*d.zoomModifier;0==d.parallaxX&&0==d.parallaxY&&(e=1);d.muteXMovement?d.pixiContainer.setPositionOffset(new m(d.pixiContainer.getPositionOffset().x,p.getInstance().getGameSize().y/2+this._containerOffset.y*d.parallaxY)):d.muteYMovement?d.pixiContainer.setPositionOffset(new m(p.getInstance().getGameSize().x/2+this._containerOffset.x*d.parallaxX,d.pixiContainer.getPositionOffset().y)):
d.muteXMovement||d.muteYMovement||d.pixiContainer.setPositionOffset(new m(p.getInstance().getGameSize().x/2+this._containerOffset.x*d.parallaxX,p.getInstance().getGameSize().y/2+this._containerOffset.y*d.parallaxY));this._muteRotation||d.pixiContainer.setRotationOffset(this.getEntity().getRotation().z);var g=Math.floor(a.x*d.parallaxX)-d.originX+p.getInstance().getGameSize().x/e/2,f=Math.floor(a.y*d.parallaxY)-d.originY+p.getInstance().getGameSize().y/e/2;d.pixiContainer.getContainer().pivot=new PIXI.Point(g,
f);d.pixiContainer.setScaleModifier(new m(e,e))}},__class__:Mc});var Wh=function(a,b,c,d,e,g){null==g&&(g=1);this.muteXMovement=this.muteYMovement=!1;this.zoomModifier=1;this.originX=this.originY=0;this.parallaxX=this.parallaxY=1;this.pixiContainer=a;this.parallaxX=b;this.parallaxY=c;this.originX=d;this.originY=e;this.zoomModifier=g};h["f84.pixi.PixiCameraLayer"]=Wh;Wh.__name__=["f84","pixi","PixiCameraLayer"];Wh.prototype={__class__:Wh};var Ta=function(a){this._isSetup=!1;U.call(this)};h["f84.pixi.PixiManager"]=
Ta;Ta.__name__=["f84","pixi","PixiManager"];Ta.getInstance=function(){null==Ta._instance&&(Ta._instance=new Ta,p.getInstance().addManager(Ta._instance));return Ta._instance};Ta.__super__=ka;Ta.prototype=q(ka.prototype,{getWebGlEnabled:function(){return this._renderer.type==PIXI.RENDERER_TYPE.WEBGL},getStage:function(){return this._stage},getRenderer:function(){return this._renderer},setup:function(a){this._stage=new PIXI.Container;this._renderer=PIXI.autoDetectRenderer(p.getInstance().getGameSize().x,
p.getInstance().getGameSize().y,a,!1);this._masterLayer=p.getInstance().getLayerByName("master");z.getContainer().appendChild(this._renderer.view);a=z.getDocument().createElement("div");z.getContainer().appendChild(a);a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.width="1024px";a.style.height="550px";this._isSetup=!0},render:function(){ka.prototype.render.call(this);this._isSetup&&(this._renderer.resize(p.getInstance().getGameSize().x,p.getInstance().getGameSize().y),this._renderer.render(this._stage))},
handleMessage:function(a,b){ka.prototype.handleMessage.call(this,a,b);"onOrientationChanged"==a&&null!=this._renderer&&this._renderer.resize(p.getInstance().getGameSize().x,p.getInstance().getGameSize().y)},__class__:Ta});var Xh=function(a,b,c,d){ga.call(this,a);$a.log("WARNING: Spine is not enabled. Set the SPINE preprocessor to enable this");a=O.getAsset(b);c=O.getAsset(c);this.generateSpine(a,c,d)};h["f84.pixi.PixiSpineAnimation"]=Xh;Xh.__name__=["f84","pixi","PixiSpineAnimation"];Xh.__super__=
ga;Xh.prototype=q(ga.prototype,{generateSpine:function(a,b,c){null!=this._spine&&(this._container.removeChild(this._spine),this._spine=null);a=JSON.parse(a);b=new PIXI.spine.core.TextureAtlas(b,function(a,b){b(PIXI.BaseTexture.fromImage(c+a))},null);a=(new PIXI.spine.core.SkeletonJson(new PIXI.spine.core.AtlasAttachmentLoader(b))).readSkeletonData(a);this._spine=new PIXI.spine.Spine(a);this._container.addChild(this._spine);a=this._spine.getBounds();this._spine.position.set(-a.x,-a.y);this._spine.skeleton.setToSetupPose();
this._spine.update(0)},setToSetupPose:function(){this._spine.skeleton.setToSetupPose()},setAnimation:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);this._spine.state.setAnimation(c,a,b)},setSkinByName:function(a){this._spine.skeleton.setSkinByName(a)},setSlotsToSetupPose:function(){this._spine.skeleton.setSlotsToSetupPose()},__class__:Xh});var ca=function(a,b,c){ga.call(this,a);this._container=new PIXI.Text(b,c);this.getText().anchor.x=0.5;this.getText().anchor.y=0.5;this.stripAndApplyRelevantHtml()};
h["f84.pixi.PixiText"]=ca;ca.__name__=["f84","pixi","PixiText"];ca.__super__=ga;ca.prototype=q(ga.prototype,{getText:function(){return this._container},getTextString:function(){return this.getText().text},setTextString:function(a){this.getText().text=a;this.stripAndApplyRelevantHtml()},init:function(){ga.prototype.init.call(this)},destroy:function(){ga.prototype.destroy.call(this);this.getText().texture.baseTexture.destroy()},stripAndApplyRelevantHtml:function(){var a=z.getDocument().createElement("div");
a.innerHTML=this.getTextString();var b="",b=L.parse(a.outerHTML);if(b.elementsNamed("div").hasNext()&&(b=b.elementsNamed("div").next(),b.elementsNamed("font").hasNext()&&(b=b.elementsNamed("font").next(),b.exists("size")))){var b=-1!=b.get("size").indexOf("px")?ua.parseInt(b.get("size"))+"px":ua.parseInt(b.get("size"))+"pt",c=this.getText().style;c.fontSize=b;this.getText().style=c;p.isFirefox()?this.getText().text=a.textContent:this.getText().text=a.innerText}},__class__:ca});var yf=function(a,b,
c,d,e,g,f,h){this._tint=16777215;this._width=this._height=0;ga.call(this,a);this._container=new PIXI.Sprite(null);this._fromLeft=e;this._fromTop=g;this._fromRight=f;this._fromBottom=h;this._topLeft=new PIXI.Sprite(null);this._left=new PIXI.Sprite(null);this._bottomLeft=new PIXI.Sprite(null);this._top=new PIXI.Sprite(null);this._middle=new PIXI.Sprite(null);this._bottom=new PIXI.Sprite(null);this._topRight=new PIXI.Sprite(null);this._right=new PIXI.Sprite(null);this._bottomRight=new PIXI.Sprite(null);
this._container.addChild(this._topLeft);this._container.addChild(this._left);this._container.addChild(this._bottomLeft);this._container.addChild(this._top);this._container.addChild(this._middle);this._container.addChild(this._bottom);this._container.addChild(this._topRight);this._container.addChild(this._right);this._container.addChild(this._bottomRight);this.setImage(b);this.setWidth(c);this.setHeight(d)};h["f84.pixi.SlicedSprite"]=yf;yf.__name__=["f84","pixi","SlicedSprite"];yf.__super__=ga;yf.prototype=
q(ga.prototype,{getWidth:function(){return this._width},setWidth:function(a){this._width=a},getHeight:function(){return this._height},setHeight:function(a){this._height=a},getTint:function(){return this._tint},setTint:function(a){this._tint=a;this._top.tint=this._tint;this._topLeft.tint=this._tint;this._left.tint=this._tint;this._bottomLeft.tint=this._tint;this._bottom.tint=this._tint;this._bottomRight.tint=this._tint;this._right.tint=this._tint;this._topRight.tint=this._tint;this._middle.tint=this._tint},
getSprite:function(){return this._container},getImageId:function(){return this._imageId},setImage:function(a){if(O.assetExists(a)){if(this._imageId!=a){this._currentImageElement=O.getAsset(a);var b=PIXI.BaseTexture.fromImage(this._currentImageElement.src),c=b.width,b=b.height,d=PIXI.BaseTexture.fromImage(this._currentImageElement.src);this._topLeft.texture=new PIXI.Texture(d,new PIXI.Rectangle(0,0,this._fromLeft,this._fromTop));d=PIXI.BaseTexture.fromImage(this._currentImageElement.src);this._left.texture=
new PIXI.Texture(d,new PIXI.Rectangle(0,this._fromTop,this._fromLeft,b-this._fromBottom-this._fromTop));d=PIXI.BaseTexture.fromImage(this._currentImageElement.src);this._bottomLeft.texture=new PIXI.Texture(d,new PIXI.Rectangle(0,b-this._fromBottom,this._fromLeft,this._fromBottom));d=PIXI.BaseTexture.fromImage(this._currentImageElement.src);this._top.texture=new PIXI.Texture(d,new PIXI.Rectangle(this._fromLeft,0,c-this._fromRight-this._fromLeft,this._fromTop));d=PIXI.BaseTexture.fromImage(this._currentImageElement.src);
this._middle.texture=new PIXI.Texture(d,new PIXI.Rectangle(this._fromLeft,this._fromTop,c-this._fromRight-this._fromLeft,b-this._fromBottom-this._fromTop));d=PIXI.BaseTexture.fromImage(this._currentImageElement.src);this._bottom.texture=new PIXI.Texture(d,new PIXI.Rectangle(this._fromLeft,b-this._fromBottom,c-this._fromRight-this._fromLeft,this._fromBottom));d=PIXI.BaseTexture.fromImage(this._currentImageElement.src);this._topRight.texture=new PIXI.Texture(d,new PIXI.Rectangle(c-this._fromRight,0,
this._fromRight,this._fromTop));d=PIXI.BaseTexture.fromImage(this._currentImageElement.src);this._right.texture=new PIXI.Texture(d,new PIXI.Rectangle(c-this._fromRight,this._fromTop,this._fromRight,b-this._fromBottom-this._fromTop));d=PIXI.BaseTexture.fromImage(this._currentImageElement.src);this._bottomRight.texture=new PIXI.Texture(d,new PIXI.Rectangle(c-this._fromRight,b-this._fromBottom,this._fromRight,this._fromBottom))}this._imageId=a}this.updateTransforms()},onActivate:function(){ga.prototype.onActivate.call(this);
this._top.renderable=!0;this._topRight.renderable=!0;this._right.renderable=!0;this._bottomRight.renderable=!0;this._bottom.renderable=!0;this._bottomLeft.renderable=!0;this._left.renderable=!0;this._topLeft.renderable=!0;this._middle.renderable=!0},onDeactivate:function(){ga.prototype.onDeactivate.call(this);this._topRight.renderable=!1;this._right.renderable=!1;this._bottomRight.renderable=!1;this._bottom.renderable=!1;this._bottomLeft.renderable=!1;this._left.renderable=!1;this._topLeft.renderable=
!1;this._middle.renderable=!1},update:function(){ga.prototype.update.call(this);this._top.x=0;this._top.y=0.5*-this._height+this._fromTop;this._top.anchor.x=0.5;this._top.anchor.y=1;this._top.width=this._width-this._fromLeft-this._fromRight;this._middle.x=0;this._middle.y=0;this._middle.anchor.x=0.5;this._middle.anchor.y=0.5;this._middle.width=this._width-this._fromLeft-this._fromRight;this._middle.height=this._height-this._fromTop-this._fromBottom;this._bottom.x=0;this._bottom.y=0.5*this._height-
this._fromBottom;this._bottom.anchor.x=0.5;this._bottom.anchor.y=0;this._bottom.width=this._width-this._fromLeft-this._fromRight;this._topLeft.x=0.5*-this._width+this._fromLeft;this._topLeft.y=0.5*-this._height+this._fromTop;this._topLeft.anchor.x=1;this._topLeft.anchor.y=1;this._left.x=0.5*-this._width+this._fromLeft;this._left.y=0;this._left.anchor.x=1;this._left.anchor.y=0.5;this._left.height=this._height-this._fromTop-this._fromBottom;this._bottomLeft.x=0.5*-this._width+this._fromLeft;this._bottomLeft.y=
0.5*this._height-this._fromBottom;this._bottomLeft.anchor.x=1;this._bottomLeft.anchor.y=0;this._topRight.x=0.5*this._width-this._fromRight;this._topRight.y=0.5*-this._height+this._fromTop;this._topRight.anchor.x=0;this._topRight.anchor.y=1;this._right.x=0.5*this._width-this._fromRight;this._right.y=0;this._right.anchor.x=0;this._right.anchor.y=0.5;this._right.height=this._height-this._fromTop-this._fromBottom;this._bottomRight.x=0.5*this._width-this._fromRight;this._bottomRight.y=0.5*this._height-
this._fromBottom;this._bottomRight.anchor.x=0;this._bottomRight.anchor.y=0;this._container.x=0.5*this._width;this._container.y=0.5*this._height},fixedUpdate:function(){ga.prototype.fixedUpdate.call(this)},render:function(){ga.prototype.render.call(this)},destroy:function(){ga.prototype.destroy.call(this)},__class__:yf});var Vb=function(a,b,c){null==c&&(c=!0);V.call(this);this._from=a;this._to=b;this._destroyFrom=c;u.playSoundByName("transition_1")};h["f84.screenTransition.TransitionScreen"]=Vb;Vb.__name__=
["f84","screenTransition","TransitionScreen"];Vb.__super__=V;Vb.prototype=q(V.prototype,{onTransitionMidpoint:function(){this._destroyFrom&&null!=this._from&&this._from.destroy();null!=this._to&&p.getInstance().addGameState(this._to);this.dispatchEvent(new Uc("midpoint"))},onTransitionComplete:function(){this.destroy();this.dispatchEvent(new Uc("complete"))},__class__:Vb});var Uc=function(a){this._type=a};h["f84.screenTransition.TransitionScreenEvent"]=Uc;Uc.__name__=["f84","screenTransition","TransitionScreenEvent"];
Uc.__super__=P;Uc.prototype=q(P.prototype,{__class__:Uc});var Wb=function(){this.layers=[];this.ul=new m;this.wh=new m};h["f84.shapes.Shape"]=Wb;Wb.__name__=["f84","shapes","Shape"];Wb.prototype={hasLayer:function(a){for(var b=0,c=this.layers.length;b<c;){var d=b++;if(this.layers[d]==a)return!0}return!1},getClone:function(){var a=new Wb;a.ul=this.ul.getClone();a.wh=this.wh.getClone();for(var b=0,c=this.layers.length;b<c;){var d=b++;a.layers.push(this.layers[d])}return a},checkPointIntersect:function(a){return!1},
getRaycastPoint:function(a,b,c,d,e){return-1},__class__:Wb};var gb=function(){Wb.call(this)};h["f84.shapes.BoxShape"]=gb;gb.__name__=["f84","shapes","BoxShape"];gb.__super__=Wb;gb.prototype=q(Wb.prototype,{checkPointIntersect:function(a){Wb.prototype.checkPointIntersect.call(this,a);return a.x>=this.ul.x&&a.y>=this.ul.y&&a.x<=this.ul.x+this.wh.x?a.y<=this.ul.y+this.wh.y:!1},getRaycastPoint:function(a,b,c,d,e){null==d&&(d=!1);e=new m;for(var g=[new m(this.ul.x,this.ul.y),new m(this.ul.x+this.wh.x,
this.ul.y),new m(this.ul.x+this.wh.x,this.ul.y+this.wh.y),new m(this.ul.x,this.ul.y+this.wh.y)],f=-1,h=0,k=g.length-1;h<k;){var n=h++,n=X.lineIntersect2D(a,b,g[n],g[n+1],e);if(0<n)if(d){if(-1==f||n<f)c.x=e.x,c.y=e.y,f=n}else return c.x=e.x,c.y=e.y,n}a=X.lineIntersect2D(a,b,g[0],g[g.length-1],e);if(0<a)if(d){if(-1==f||a<f)c.x=e.x,c.y=e.y,f=a}else return c.x=e.x,c.y=e.y,a;return f},getClone:function(){return null},__class__:gb});var Yh=function(){this._lowestPoint=this._highestPoint=null;Wb.call(this);
this._lowestPoint=new m(999999,999999);this._highestPoint=new m(-999999,-999999);this._points=[]};h["f84.shapes.PolygonShape"]=Yh;Yh.__name__=["f84","shapes","PolygonShape"];Yh.__super__=Wb;Yh.prototype=q(Wb.prototype,{addPoint:function(a,b){this._points.push(new m(a,b));a<this._lowestPoint.x&&(this._lowestPoint.x=a);b<this._lowestPoint.y&&(this._lowestPoint.y=b);a>this._highestPoint.x&&(this._highestPoint.x=a);b>this._highestPoint.y&&(this._highestPoint.y=b)},getPoints:function(){return this._points},
checkPointIntersect:function(a){for(var b=this._points.length,c=0,d=!1,e=null,g=null;c<b;){e=this._points[c].getClone();g=this._points[(c+1)%b].getClone();e.x+=this.ul.x;e.y+=this.ul.y;g.x+=this.ul.x;g.y+=this.ul.y;if(0==c)d=0<(a.y-e.y)*(g.x-e.x)-(a.x-e.x)*(g.y-e.y);else if(d&&0>(a.y-e.y)*(g.x-e.x)-(a.x-e.x)*(g.y-e.y)||!d&&0<(a.y-e.y)*(g.x-e.x)-(a.x-e.x)*(g.y-e.y))return!1;++c}return!0},getRaycastPoint:function(a,b,c,d,e){null==d&&(d=!1);var g=new Sb;g.ul=this._lowestPoint.getClone();g.wh=new m(this._highestPoint.x-
this._lowestPoint.x,this._highestPoint.y-this._lowestPoint.y);g.ul.x+=this.ul.x;g.ul.y+=this.ul.y;var f=Math.abs(b.x-a.x),h=Math.abs(b.y-a.y),f=new Sb(a.x<b.x?a.x:b.x,a.y<b.y?a.y:b.y,f,h);if(!g.getIntersect(f))return-1;for(var g=new m,h=this._points,f=-1,k=0,n=h.length-1;k<n;){var q=k++,p=h[q].getClone();p.x+=this.ul.x;p.y+=this.ul.y;var s=h[q+1].getClone();s.x+=this.ul.x;s.y+=this.ul.y;q=X.lineIntersect2D(a,b,p,s,g);if(0<q)if(d){if(-1==f||q<f)c.x=g.x,c.y=g.y,null!=e&&(f=(new m(s.y-p.y,p.x-s.x)).getNormalized(),
e.x=f.x,e.y=f.y,0<(new m(b.x-a.x,b.y-a.y)).dotProduct(e)&&(e.x*=-1,e.y*=-1)),f=q}else return c.x=g.x,c.y=g.y,null!=e&&(c=(new m(s.y-p.y,p.x-s.x)).getNormalized(),e.x=c.x,e.y=c.y,0<(new m(b.x-a.x,b.y-a.y)).dotProduct(e)&&(e.x*=-1,e.y*=-1)),q}k=h[0].getClone();k.x+=this.ul.x;k.y+=this.ul.y;n=h[h.length-1].getClone();n.x+=this.ul.x;n.y+=this.ul.y;h=X.lineIntersect2D(a,b,k,n,g);if(0<h)if(d){if(-1==f||h<f)c.x=g.x,c.y=g.y,null!=e&&(c=(new m(n.y-k.y,k.x-n.x)).getNormalized(),e.x=c.x,e.y=c.y,0<(new m(b.x-
a.x,b.y-a.y)).dotProduct(e)&&(e.x*=-1,e.y*=-1)),f=h}else return c.x=g.x,c.y=g.y,null!=e&&(c=(new m(n.y-k.y,k.x-n.x)).getNormalized(),e.x=c.x,e.y=c.y,0<(new m(b.x-a.x,b.y-a.y)).dotProduct(e)&&(e.x*=-1,e.y*=-1)),h;return f},getClone:function(){return null},__class__:Yh});var Zh=function(a){this.soundName=a;this.subtitles=[]};h["f84.speechManager.Dialogue"]=Zh;Zh.__name__=["f84","speechManager","Dialogue"];Zh.prototype={__class__:Zh};var Bc=function(a,b){null==b&&(b=!0);null==a&&(a=!0);this._voTrack=
this._speechMap=this._currentDeferredActions=null;U.call(this);this._speechMap=new $h;this._voiceOversEnabled=a;this._subtitlesEnabled=b;this._currentDeferredActions=[];Bc._instance=this};h["f84.speechManager.SpeechManager"]=Bc;Bc.__name__=["f84","speechManager","SpeechManager"];Bc.getInstance=function(){return Bc._instance};Bc.__super__=ka;Bc.prototype=q(ka.prototype,{getVoiceOversEnabled:function(){return this._voiceOversEnabled},setVoiceOversEnabled:function(a){this._voiceOversEnabled=a},getSubtitlesEnabled:function(){return this._subtitlesEnabled},
setSubtitlesEnabled:function(a){this._subtitlesEnabled=a},init:function(){ka.prototype.init.call(this)},setup:function(){this.parseSpeechMap()},parseSpeechMap:function(){for(var a=L.parse(O.getAsset("speechMap")).elementsNamed("speech_map").next().elementsNamed("dialogue");a.hasNext();){for(var b=a.next(),c=new Zh(b.get("soundName")),b=b.elementsNamed("subtitle");b.hasNext();){var d=b.next(),d=new ai(d.get("stringId"),parseFloat(d.get("time")),parseFloat(d.get("duration")));c.subtitles.push(d)}this._speechMap.dialogue.push(c)}},
stopVo:function(){null!=this._voTrack&&(this._voTrack.stop(),this._voTrack=null)},playVo:function(a){var b=this;null!=this._voTrack&&this.stopVo();if("0"==T.getProperty("speechMode")||"2"==T.getProperty("speechMode"))this._voTrack=u.playSoundByName(a);if("1"==T.getProperty("speechMode")||"2"==T.getProperty("speechMode")){var c=this._speechMap.getDialogueBySoundName(a);if(null!=c){for(;0<this._currentDeferredActions.length;)a=this._currentDeferredActions.pop(),p.getInstance().destroyDeferredAction(a);
a=0;for(var d=c.subtitles.length;a<d;){var e=a++,e=[c.subtitles[e]];this._currentDeferredActions.push(p.getInstance().invokeAsyncDeferredAction(e[0].time,function(a){return function(){b.dispatchSubtitle(a[0])}}(e)))}}else $a.log("WARNING: '"+a+"' has no subtitles.")}return this._voTrack},dispatchSubtitle:function(a){this.dispatchEvent(new Yd("showSubtitle",a.duration,ja.getString(a.stringId)))},__class__:Bc});var $h=function(){this.dialogue=[]};h["f84.speechManager.SpeechMap"]=$h;$h.__name__=["f84",
"speechManager","SpeechMap"];$h.prototype={getDialogueBySoundName:function(a){for(var b=0,c=this.dialogue.length;b<c;){var d=b++;if(this.dialogue[d].soundName==a)return this.dialogue[d]}return null},__class__:$h};var ai=function(a,b,c){this.stringId=a;this.time=b;this.duration=c};h["f84.speechManager.Subtitle"]=ai;ai.__name__=["f84","speechManager","Subtitle"];ai.prototype={__class__:ai};var Yd=function(a,b,c){this._duration=0;this._type=a;this._duration=b;this._subtitleText=c};h["f84.speechManager.SubtitleEvent"]=
Yd;Yd.__name__=["f84","speechManager","SubtitleEvent"];Yd.__super__=P;Yd.prototype=q(P.prototype,{getDuration:function(){return this._duration},getSubtitleText:function(){return this._subtitleText},__class__:Yd});var zf=function(a,b,c,d){this._name=a;this._coords=b.getClone();this._spriteSheetName=c;null==d||isNaN(d.x)&&isNaN(d.y)?this._offset=new m:this._offset=new m(d.x,d.y)};h["f84.spriteSheets.SpriteInfo"]=zf;zf.__name__=["f84","spriteSheets","SpriteInfo"];zf.prototype={getCoords:function(){return this._coords},
setOffset:function(a,b){this._offset.x=a;this._offset.y=b},getOffset:function(){return this._offset},getSpriteSheetName:function(){return this._spriteSheetName},getName:function(){return this._name},__class__:zf};var Pc=function(a,b){this._image=null;this._spriteInfo=[];this._spriteInfoHashTable=new Na;this._name=a;null==b?this._imageName=a:(this._imageName=b,this._image=O.getAsset(this._imageName))};h["f84.spriteSheets.SpriteSheet"]=Pc;Pc.__name__=["f84","spriteSheets","SpriteSheet"];Pc.parseFromXmlString=
function(a,b,c){c=L.parse(c);b=new Pc(a,b);for(c=c.elementsNamed("TextureAtlas").next().elementsNamed("sprite");c.hasNext();){var d=c.next(),d=new zf(d.get("n"),new Sb(parseFloat(d.get("x")),parseFloat(d.get("y")),parseFloat(d.get("w")),parseFloat(d.get("h"))),a,new m(parseFloat(d.get("oX")),parseFloat(d.get("oY"))));b.addSpriteInfo(d)}ob.getInstance().registerSpriteSheet(b);return b};Pc.prototype={getNumSprites:function(){return this._spriteInfo.length},getName:function(){return this._name},getImage:function(){return this._image},
getImageName:function(){return this._imageName},addSpriteInfo:function(a){this._spriteInfo.push(a);var b=this._spriteInfoHashTable,c=a.getName();null!=na[c]?b.setReserved(c,a):b.h[c]=a},getSpriteInfoByIndex:function(a){return this._spriteInfo[a]},getSpriteInfoByName:function(a){var b=this._spriteInfoHashTable;return null!=na[a]?b.getReserved(a):b.h[a]},addToAllOffsets:function(a,b){for(var c=0,d=this._spriteInfo.length;c<d;){var e=c++,e=this._spriteInfo[e];e.setOffset(e.getOffset().x+a,e.getOffset().y+
b)}},__class__:Pc};var ob=function(){this._spriteSheets=new Na};h["f84.spriteSheets.SpriteSheetManager"]=ob;ob.__name__=["f84","spriteSheets","SpriteSheetManager"];ob.getInstance=function(){null==ob._instance&&(ob._instance=new ob);return ob._instance};ob.createSpriteSheetFromGrid=function(a,b,c,d,e){var g=O.getAsset(a),f=Math.floor(g.width/c),g=Math.floor(g.height/d);b=new Pc(a,b);for(var h=0;h<g;)for(var k=h++,m=0,n=f;m<n;){var q=m++,q=new zf(a+q+"-"+k,new Sb(q*c,k*d,c,d),a,e);b.addSpriteInfo(q)}ob.getInstance().registerSpriteSheet(b)};
ob.prototype={addToAllSpriteSheetOffsets:function(a,b,c){this.getSpriteSheetByName(a).addToAllOffsets(b,c)},getSpriteSheetByName:function(a){var b=this._spriteSheets;return null!=na[a]?b.getReserved(a):b.h[a]},registerSpriteSheet:function(a){var b=this._spriteSheets,c=a.getName();null!=na[c]?b.setReserved(c,a):b.h[c]=a},removeSpriteSheetByName:function(a){this._spriteSheets.remove(a)},removeAllSpriteSheets:function(){this._spriteSheets=new Na},__class__:ob};var yi=function(){this.image=null;this.width=
this.height=0;this.trans="#000000";this.source=""};h["f84.tmx.TmxImage"]=yi;yi.__name__=["f84","tmx","TmxImage"];yi.prototype={__class__:yi};var zi=function(){this.image=null;this.width=this.height=0;this.properties=new Na};h["f84.tmx.TmxImageLayer"]=zi;zi.__name__=["f84","tmx","TmxImageLayer"];zi.prototype={__class__:zi};var Xb=h["f84.ui.GridLayoutType"]={__ename__:["f84","ui","GridLayoutType"],__constructs__:["LeftToRight","TopToBottom"]};Xb.LeftToRight=["LeftToRight",0];Xb.LeftToRight.toString=
N;Xb.LeftToRight.__enum__=Xb;Xb.TopToBottom=["TopToBottom",1];Xb.TopToBottom.toString=N;Xb.TopToBottom.__enum__=Xb;Xb.__empty_constructs__=[Xb.LeftToRight,Xb.TopToBottom];var Af=function(a){n.call(this,a)};h["f84.ui.KeepUiPanelCentered"]=Af;Af.__name__=["f84","ui","KeepUiPanelCentered"];Af.__super__=n;Af.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);this._uiPanel=this.getEntity().getComponent(Vc)},update:function(){n.prototype.update.call(this);var a=p.getInstance().getGameSize(),
b=a.getClone();a.x*=p.getInstance().getScreenScale().x;a.y*=p.getInstance().getScreenScale().y;this.getEntity().setPosition(b.x/2,b.y/2);this._uiPanel.setSize(new m(a.x,a.y))},__class__:Af});var Ua=function(a,b){n.call(this,a);this._size=b};h["f84.ui.ScaleBackgroundToWindow"]=Ua;Ua.__name__=["f84","ui","ScaleBackgroundToWindow"];Ua.__super__=n;Ua.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);if(null==this._size){var a=this.getComponent(t);this._size=null!=a?new m(a.getSprite().texture.baseTexture.width,
a.getSprite().texture.baseTexture.height):new m}this._uiElement=this.getComponent(R);this._uiPanel=this.getComponent(Vc)},update:function(){n.prototype.update.call(this);if(p.isMobile()){var a=p.getInstance().getScreenScale(),b=z.getWindow().innerWidth/this._size.x,c=z.getWindow().innerHeight/this._size.y,b=Math.max(b,c),b=b/a.x;null!=this._uiElement?this._uiElement.setScale(b,b):this.getEntity().setScale(b,b)}},__class__:Ua});var wa=h["f84.ui.UiElementHorizontalAlignment"]={__ename__:["f84","ui",
"UiElementHorizontalAlignment"],__constructs__:["Left","Center","Right"]};wa.Left=["Left",0];wa.Left.toString=N;wa.Left.__enum__=wa;wa.Center=["Center",1];wa.Center.toString=N;wa.Center.__enum__=wa;wa.Right=["Right",2];wa.Right.toString=N;wa.Right.__enum__=wa;wa.__empty_constructs__=[wa.Left,wa.Center,wa.Right];var xa=h["f84.ui.UiElementVerticalAlignment"]={__ename__:["f84","ui","UiElementVerticalAlignment"],__constructs__:["Top","Center","Bottom"]};xa.Top=["Top",0];xa.Top.toString=N;xa.Top.__enum__=
xa;xa.Center=["Center",1];xa.Center.toString=N;xa.Center.__enum__=xa;xa.Bottom=["Bottom",2];xa.Bottom.toString=N;xa.Bottom.__enum__=xa;xa.__empty_constructs__=[xa.Top,xa.Center,xa.Bottom];var R=function(a,b){this._updateEveryFrame=!0;this._positionDirty=this._pixelPerfect=!1;this._uiPanel=this._coords=this._size=this._scale=null;n.call(this,a);this.setUiPanel(b);this._coords=new m(0,0);this._scale=new m(1,1);this._horizontalAlignment=wa.Center;this._verticalAlignment=xa.Center};h["f84.ui.UiElement"]=
R;R.__name__=["f84","ui","UiElement"];R.__super__=n;R.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);if(null==this._size){var a=this.getComponent(t);null!=a?this.setSize(new m(a.getSprite().width,a.getSprite().height)):this.setSize(new m(0,0))}this.updateDisplay()},getScaleRef:function(){return this._scale},getSize:function(){return this._size},getPixelPerfect:function(){return this._pixelPerfect},setPixelPerfect:function(a){this._pixelPerfect=a},setSize:function(a){null==this._size&&
(this._size=new m);this._size.x=a.x;this._size.y=a.y},getUiPanel:function(){return this._uiPanel},setScale:function(a,b){null==b&&(b=1);null==a&&(a=1);this._scale=new m(a,b);this.updateDisplay()},setUiPanel:function(a){null!=this._uiPanel&&this._uiPanel.removeEventListener("updateDisplay",B(this,this.onUiPanelUpdateDisplay));this._uiPanel=a;this._uiPanel.addEventListener("updateDisplay",B(this,this.onUiPanelUpdateDisplay));this._uiPanel.getEntity().addChild(this.getEntity())},getHorizontalAlignment:function(){return this._horizontalAlignment},
setHorizontalAlignment:function(a){this._horizontalAlignment=a;this._positionDirty=!0},getVerticalAlignment:function(){return this._verticalAlignment},setVerticalAlignment:function(a){this._verticalAlignment=a;this._positionDirty=!0},getCoords:function(){return this._coords},getCoordsRef:function(){return this._coords},setCoords:function(a){this._coords=a},setAlignment:function(a,b){this.setHorizontalAlignment(a);this.setVerticalAlignment(b)},update:function(){n.prototype.update.call(this)},postUpdate:function(){n.prototype.postUpdate.call(this);
(this._positionDirty||this._updateEveryFrame)&&this.updateDisplay()},onUiPanelUpdateDisplay:function(){this._positionDirty=!0},updateDisplay:function(){z.getWindow();this._uiPanel.getSize();p.getInstance().getGameSize();this._uiPanel.getSize();p.getInstance().getGameSize();var a=this._uiPanel.getSize().x/2*this._coords.x,b=this._uiPanel.getSize().y/2*this._coords.y;this._pixelPerfect?this.getEntity().setLocalScale(this._scale.x,this._scale.y):this.getEntity().setLocalScale(this._scale.x/this._uiPanel.getEntity().getScale().x,
this._scale.y/this._uiPanel.getEntity().getScale().y);if(null!=this._size){var c=this._size.getClone();switch(this._horizontalAlignment[1]){case 0:a+=c.x/2/this._uiPanel.getEntity().getScale().x;break;case 2:a-=c.x/2/this._uiPanel.getEntity().getScale().x}switch(this._verticalAlignment[1]){case 0:b+=c.y/2/this._uiPanel.getEntity().getScale().y;break;case 2:b-=c.y/2/this._uiPanel.getEntity().getScale().y}}this.getEntity().setLocalPosition(a,b,0);this._positionDirty=!1},debugRender:function(){n.prototype.debugRender.call(this);
if(null!=this._size){var a=p.getInstance().getLayerByName("debug").getCanvas().getContext("2d");a.save();var b=this.getEntity().getPosition();a.beginPath();a.lineWidth=1;a.strokeStyle="#0000FF";a.moveTo(b.x-this._size.x/2,b.y-this._size.y/2);a.lineTo(b.x+this._size.x/2,b.y-this._size.y/2);a.lineTo(b.x+this._size.x/2,b.y+this._size.y/2);a.lineTo(b.x-this._size.x/2,b.y+this._size.y/2);a.lineTo(b.x-this._size.x/2,b.y-this._size.y/2);a.stroke();a.restore()}},__class__:R});var Zd=function(a){this._isDirty=
!1;this._items=[];this._cellSize=new m(100,100);this._gridWidthOrHeight=3;this._gridLayoutType=Xb.LeftToRight;this._cellGap=new m(8,8);n.call(this,a)};h["f84.ui.UiGrid"]=Zd;Zd.__name__=["f84","ui","UiGrid"];Zd.__super__=n;Zd.prototype=q(n.prototype,{get_cellGap:function(){return this._cellGap},set_cellGap:function(a){return this._cellGap=a},get_gridLayoutType:function(){return this._gridLayoutType},set_gridLayoutType:function(a){return this._gridLayoutType=a},get_cellSize:function(){return this._cellSize},
set_cellSize:function(a){return this._cellSize=a},get_gridWidthOrHeight:function(){return this._gridWidthOrHeight},set_gridWidthOrHeight:function(a){return this._gridWidthOrHeight=a},addItem:function(a){this._items.push(a);this._isDirty=!0},removeItem:function(a){J.remove(this._items,a);this._isDirty=!0},updateLayout:function(){for(var a=0,b=0,c=0,d=0,e=0,g=this._items;e<g.length;){++e;var f=this._cellSize.y*b+this._cellGap.y*b,c=Math.max(c,this._cellSize.x*a+this._cellGap.x*a),d=Math.max(d,f);switch(this._gridLayoutType[1]){case 0:++a;
a>=this.get_gridWidthOrHeight()&&(a=0,++b);break;case 1:++b,a>=this.get_gridWidthOrHeight()&&(++a,b=0)}}c=0.5*-c;d=0.5*-d;e=b=a=0;for(g=this._items;e<g.length;)switch(f=g[e],++e,f.set_localPosition(new s(this._cellSize.x*a+this._cellGap.x*a+c,this._cellSize.y*b+this._cellGap.y*b+d)),this._gridLayoutType[1]){case 0:++a;a>=this.get_gridWidthOrHeight()&&(a=0,++b);break;case 1:++b,a>=this.get_gridWidthOrHeight()&&(++a,b=0)}this._isDirty=!1},postUpdate:function(){n.prototype.postUpdate.call(this);this._isDirty&&
this.updateLayout()},__class__:Zd,__properties__:{set_gridWidthOrHeight:"set_gridWidthOrHeight",get_gridWidthOrHeight:"get_gridWidthOrHeight",set_cellSize:"set_cellSize",get_cellSize:"get_cellSize",set_gridLayoutType:"set_gridLayoutType",get_gridLayoutType:"get_gridLayoutType",set_cellGap:"set_cellGap",get_cellGap:"get_cellGap"}});var Vc=function(a,b){n.call(this,a);this._size=b;this._window=z.getWindow()};h["f84.ui.UiPanel"]=Vc;Vc.__name__=["f84","ui","UiPanel"];Vc.__super__=n;Vc.prototype=q(n.prototype,
{init:function(){n.prototype.init.call(this);this.setSize(this._size)},getSize:function(){return this._size},setSize:function(a){this._size=a;this.updateDisplay()},updateDisplay:function(){this.dispatchEvent(new $d("updateDisplay"));this.getEntity().setLocalScale(1/p.getInstance().getScreenScale().x,1/p.getInstance().getScreenScale().y,1)},debugRender:function(){n.prototype.debugRender.call(this);var a=p.getInstance().getLayerByName("debug").getCanvas().getContext("2d");a.save();var b=this.getEntity().getPosition();
a.beginPath();a.lineWidth=1;a.strokeStyle="#FF0000";a.moveTo(b.x-this._size.x/2,b.y-this._size.y/2);a.lineTo(b.x+this._size.x/2,b.y-this._size.y/2);a.lineTo(b.x+this._size.x/2,b.y+this._size.y/2);a.lineTo(b.x-this._size.x/2,b.y+this._size.y/2);a.lineTo(b.x-this._size.x/2,b.y-this._size.y/2);a.stroke();a.restore()},__class__:Vc});var $d=function(a){this._type=a};h["f84.ui.UiPanelEvent"]=$d;$d.__name__=["f84","ui","UiPanelEvent"];$d.__super__=P;$d.prototype=q(P.prototype,{__class__:$d});var bi=function(a,
b,c){null==c&&(c=!0);this._constrainToGameSize=!0;this._prevWidth=this._prevHeight=0;this._uiPanel=this._window=null;n.call(this,a);this._uiPanel=b;this._window=z.getWindow();this._constrainToGameSize=c};h["f84.ui.UiPanelSizeToWindow"]=bi;bi.__name__=["f84","ui","UiPanelSizeToWindow"];bi.__super__=n;bi.prototype=q(n.prototype,{update:function(){n.prototype.update.call(this);var a=this._window.innerWidth,b=this._window.innerHeight,c=p.getInstance().getGameSize();c.x*=p.getInstance().getScreenScale().x;
c.y*=p.getInstance().getScreenScale().y;this._constrainToGameSize&&(a>c.x&&(a=c.x),b>c.y&&(b=c.y));this._prevWidth==a&&this._prevHeight==b&&"NONE"==T.getProperty("forceOrientation")||this._uiPanel.setSize(new m(a,b));this.getEntity().setLocalPosition(p.getInstance().getGameSize().x/2,p.getInstance().getGameSize().y/2,0);this._prevWidth=a;this._prevHeight=b},__class__:bi});var wc=function(){};h["f84.utilities.ArrayUtils"]=wc;wc.__name__=["f84","utilities","ArrayUtils"];wc.indexOf=function(a,b){for(var c=
0,d=a.length;c<d;){var e=c++;if(a[e]==b)return e}return-1};wc.clear=function(a){a.length=0};wc.prototype={__class__:wc};var $a=function(){};h["f84.utilities.Debug"]=$a;$a.__name__=["f84","utilities","Debug"];$a.log=function(a){};$a.alert=function(a){};var X=function(){};h["f84.utilities.Math2"]=X;X.__name__=["f84","utilities","Math2"];X.lerp=function(a,b,c){return a+(b-a)*c};X.remap=function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)};X.degToRad=function(a){return 0.0174532925*a};X.radToDeg=function(a){return 57.2957795*
a};X.randomFloat=function(a,b){return a+Math.random()*(b-a)};X.randomInt=function(a,b){return Math.floor(X.randomFloat(a,b))};X.getClosestPointOnSegment=function(a,b,c){b=new m(b.x-a.x,b.y-a.y);c=(new m(c.x-a.x,c.y-a.y)).dotProduct(b)/b.dotProduct(b);0>c&&(c=0);1<c&&(c=1);c=new m(b.x*c,b.y*c);return new m(a.x+c.x,a.y+c.y)};X.lineIntersect2D=function(a,b,c,d,e){var g=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x),f=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x);if(0==g||0==f)return-2;d=((a.y-c.y)*(d.x-c.x)-(a.x-
c.x)*(d.y-c.y))/g;c=((a.y-c.y)*(b.x-a.x)-(a.x-c.x)*(b.y-a.y))/f;return 0<d&&1>d&&0<c&&1>c?(c=(new m(a.x-b.x,a.y-b.y)).getLength()*d,b=new m(b.x-a.x,b.y-a.y),b.scaleBy(d,d),b=new m(a.x+b.x,a.y+b.y),e.x=b.x,e.y=b.y,c):-1};X.clamp=function(a,b,c){return a<b?b:a>c?c:a};X.getRotated2dVector=function(a,b){var c=X.degToRad(b),d=Math.cos(c),c=Math.sin(c),e=new m(a.x,a.y),g=e.x*c+e.y*d;e.x=e.x*d-e.y*c;e.y=g;return e};X.getAngleInDegreesBetween2dVectors=function(a,b){return X.radToDeg(Math.atan2(a.x*b.y-a.y*
b.x,a.dotProduct(b)))};var ae=function(){};h["f84.utilities.StringTools2"]=ae;ae.__name__=["f84","utilities","StringTools2"];ae.convertFloatToTime=function(a){var b=ja.getString("GAMEPLAY_SCREEN_TIMER"),b=jb.replace(b,"%N",Math.floor(a/60));a=ua.string(Math.floor(a%60));2>a.length&&(a="0"+a);return b=jb.replace(b,"%M",a)};ae.prototype={__class__:ae};var Ud=function(a){this._value=null;this._eventListeners=[];this._value=a};h["f84.utilities.WatchableValue"]=Ud;Ud.__name__=["f84","utilities","WatchableValue"];
Ud.__super__=Za;Ud.prototype=q(Za.prototype,{set:function(a){var b=this._value;this._value=a;this._value!=b&&this.dispatchEvent(new be("change",this._value,b))},get:function(){return this._value},__class__:Ud});var be=function(a,b,c){this._type=a;this.value=b;this.oldValue=c};h["f84.utilities.WatchableValueEvent"]=be;be.__name__=["f84","utilities","WatchableValueEvent"];be.__super__=P;be.prototype=q(P.prototype,{__class__:be});var f=function(){};h["game.AssetList"]=f;f.__name__=["game","AssetList"];
var Bf=function(){};h["game.EntityFactory"]=Bf;Bf.__name__=["game","EntityFactory"];Bf.createCamera=function(a,b,c,d){d=d.addEntity();d.setLocalPosition(a,b,c);a=new oa(d);new jd(d,0.1);a.setZoomScale(1);a.setOffset(new m(0,-125));new Z(d);return d};Bf.createHud=function(a){a=a.addEntity();new Cf(a);return a};Bf.prototype={__class__:Bf};var Ai=function(){};h["game.FontFamilies"]=Ai;Ai.__name__=["game","FontFamilies"];var hc=function(){};h["game.GameColors"]=hc;hc.__name__=["game","GameColors"];var Df=
function(){this._isFtueActive=!0;this._currentPromoImageIndex=0;this._playerData=new ce;this._dishTracker=new ci;this._gameUiFactory=new de;this._isFtueActive=ma.getInstance().getSaveData().getItem("ftueActiveKey",!0)};h["game.GameController"]=Df;Df.__name__=["game","GameController"];Df.prototype={get_utagManager:function(){return this._utagManager},set_utagManager:function(a){return this._utagManager=a},get_currentPromoImageIndex:function(){return this._currentPromoImageIndex},set_currentPromoImageIndex:function(a){return this._currentPromoImageIndex=
a},get_isFtueActive:function(){return this._isFtueActive},set_isFtueActive:function(a){ma.getInstance().getSaveData().setItem("ftueActiveKey",a);return this._isFtueActive=a},get_playerData:function(){return this._playerData},get_dishManager:function(){return this._dishManager},set_dishManager:function(a){return this._dishManager=a},get_dishTracker:function(){return this._dishTracker},get_selectedDish:function(){return this.get_dishTracker().get_selectedDish()},set_selectedDish:function(a){return this.get_dishTracker().set_selectedDish(a)},
get_gameUiFactory:function(){return this._gameUiFactory},set_gameUiFactory:function(a){return this._gameUiFactory=a},__class__:Df,__properties__:{set_gameUiFactory:"set_gameUiFactory",get_gameUiFactory:"get_gameUiFactory",set_selectedDish:"set_selectedDish",get_selectedDish:"get_selectedDish",get_dishTracker:"get_dishTracker",set_dishManager:"set_dishManager",get_dishManager:"get_dishManager",get_playerData:"get_playerData",set_isFtueActive:"set_isFtueActive",get_isFtueActive:"get_isFtueActive",set_currentPromoImageIndex:"set_currentPromoImageIndex",
get_currentPromoImageIndex:"get_currentPromoImageIndex",set_utagManager:"set_utagManager",get_utagManager:"get_utagManager"}};var ma=function(){this._currentLevelNumber=1;this._eventListeners=[];ma._instance=this;this._saveData=new Rh};h["game.GameTracker"]=ma;ma.__name__=["game","GameTracker"];ma.getInstance=function(){null==ma._instance&&(ma._instance=new ma);return ma._instance};ma.getScoreSaveKeyForLevel=function(a){return"levelScore"+(null==a?"null":""+a)};ma.__super__=Za;ma.prototype=q(Za.prototype,
{getSaveData:function(){return this._saveData},getCostumeDefinition:function(){for(var a=new ic,b=this.getAvatarItems(),c=0;c<b.length;){var d=b[c];++c;d=bb.getInstance().getCostumeItem(d);a.equipCostumeItem(d)}return a},getNumLevels:function(){return ua.parseInt(T.getProperty("numLevels"))},getNumLevelsUnlocked:function(){return Math.max(1,this.getSaveData().getItem("numLevelsUnlocked",1))|0},setNumLevelsUnlocked:function(a){this.getSaveData().setItem("numLevelsUnlocked",Math.min(this.getNumLevels(),
Math.max(a,this.getNumLevelsUnlocked())))},getAvatarItems:function(){return this.getSaveData().getItem("avatarItems",[])},setAvatarItems:function(a,b){this.getSaveData().setItem("avatarItems",a)},setScoreForLevel:function(a,b){a>this.getScoreForLevel(b)&&this.getSaveData().setItem(ma.getScoreSaveKeyForLevel(b),a)},getScoreForLevel:function(a){return this.getSaveData().getItem(ma.getScoreSaveKeyForLevel(a),0)},setScoreForCurrentLevel:function(a){this.setScoreForLevel(a,this._currentLevelNumber)},setCurrentLevelNumber:function(a){this._currentLevelNumber=
a},getCurrentLevelNumber:function(){return this._currentLevelNumber},getHasBeatenGame:function(){return this.getSaveData().getItem("hasBeatenGame",!1)},setHasBeatenGame:function(a){this.getSaveData().setItem("hasBeatenGame",a)},getHasStartedGame:function(){return this.getSaveData().getItem("hasStartedGame",!1)},setHasStartedGame:function(a){this.getSaveData().setItem("hasStartedGame",a)},__class__:ma});var Ef=function(a,b,c,d){null==d&&(d=!0);this._percentage=0;this._isVertical=!0;n.call(this,a);
this._imageName=b;this._extents=c;this._isVertical=d;this._pixiSprite=new t(this.getEntity(),this._imageName);this._pixiSprite.getSprite().anchor.x=0.5;this._pixiSprite.getSprite().anchor.y=0.5;this._button=new la(this.getEntity(),new m(40,125),new m(5,0));this._button.setKillMessageOnMouseDown(!0);this._button.setOnMouseDown(B(this,this.onMouseDown))};h["game.ScrollBar"]=Ef;Ef.__name__=["game","ScrollBar"];Ef.__super__=n;Ef.prototype=q(n.prototype,{getPercentage:function(){return this._percentage},
setPercentage:function(a){this._percentage=a;this._isVertical?this.getEntity().setLocalPosition(this.getEntity().getLocalPosition().x,this._extents.ul.y+this._extents.wh.y*a):this.getEntity().setLocalPosition(this._extents.ul.x+this._extents.wh.x*a,this.getEntity().getLocalPosition().y)},init:function(){n.prototype.init.call(this)},onMouseDown:function(){this._mouseDownPosition=Ha.getInstance().getMousePosition();this._anchorPosition=this.getEntity().getLocalPosition();u.playSoundByName("ui_click_1")},
onMouseUp:function(){null!=this._mouseDownPosition&&(this._mouseDownPosition=null)},onMouseMove:function(){if(null!=this._mouseDownPosition){var a=Ha.getInstance().getMousePosition(),b=a.x-this._mouseDownPosition.x,a=a.y-this._mouseDownPosition.y,c=null;this._isVertical?(c=new m(this.getEntity().getLocalPosition().x,this._anchorPosition.y+a),c.y<this._extents.ul.y&&(c.y=this._extents.ul.y),c.y>this._extents.ul.y+this._extents.wh.y&&(c.y=this._extents.ul.y+this._extents.wh.y)):(c=new m(this._anchorPosition.x+
b,this.getEntity().getLocalPosition().y),c.x<this._extents.ul.x&&(c.x=this._extents.ul.x),c.x>this._extents.ul.x+this._extents.wh.x&&(c.x=this._extents.ul.x+this._extents.wh.x));this.getEntity().setPosition(c.x,c.y);this._percentage=(c.y-this._extents.ul.y)/this._extents.wh.y;0>this._percentage&&(this._percentage=0);1<this._percentage&&(this._percentage=1);this.dispatchEvent(new ee("update",this._percentage))}},handleMessage:function(a,b){n.prototype.handleMessage.call(this,a,b);switch(a){case "mouseMove":this.onMouseMove();
break;case "mouseUp":this.onMouseUp()}},__class__:Ef});var ee=function(a,b){this._type=a;this._value=b};h["game.ScrollBarUpdateEvent"]=ee;ee.__name__=["game","ScrollBarUpdateEvent"];ee.__super__=P;ee.prototype=q(P.prototype,{getValue:function(){return this._value},__class__:ee});var ia=function(){};h["game.Strings"]=ia;ia.__name__=["game","Strings"];var sa=function(a,b,c){this._animateEntering=!0;Vb.call(this,a,b);this._animateEntering=c};h["game.StripesTransition"]=sa;sa.__name__=["game","StripesTransition"];
sa.doTransition=function(a,b,c){null==c&&(c=!0);a=new sa(a,b,c);p.getInstance().addGameState(a)};sa.doMidpointTransition=function(a,b,c){a=new sa(a,b,!0);a.addEventListener("midpoint",c);p.getInstance().addGameState(a)};sa.__super__=Vb;sa.prototype=q(Vb.prototype,{init:function(){Vb.prototype.init.call(this);this._deferredAction=new va(this.addEntity());Ha.getInstance().setInputDisabled(!0);var a=Ja.createFullscreenUiPanel(this);this._background=this.addEntity();new R(this._background,a);this._bgSprite=
new t(this._background,"overlay");this._bgSprite.getSprite().anchor.x=0.5;this._bgSprite.getSprite().anchor.y=0.5;new Ua(this._background);this._transitionBarsLeft=[];this._transitionBarsRight=[];for(a=0;10>a;){var b=a++,c=this.addEntity();this._background.addChild(c);var d=new t(c,"transitionBar"+(b%2+1));d.getSprite().anchor.x=1;d.getSprite().anchor.y=0;c.setLocalPosition(-68*b,-384);this._transitionBarsLeft.push(c);c.setLocalScale(1,0)}for(a=0;10>a;)b=a++,c=this.addEntity(),this._background.addChild(c),
d=new t(c,"transitionBar"+(2-b%2)),d.getSprite().anchor.x=0,d.getSprite().anchor.y=1,c.setLocalPosition(68*b-1,384),this._transitionBarsRight.push(c),c.setLocalScale(1,0);this._container=this._background.addEntity(!0);this._container.setLocalPosition(0,-600);a=this._container.addEntity(!0);a=new t(a,"loadingLogo");a.getSprite().anchor.x=0.5;a.getSprite().anchor.y=0.5;a=this._container.addEntity(!0);a.setLocalPosition(0,-173);b=new t(a,"loadingBarBG");b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=
0.5;b=this.addEntity();a.addChild(b);a=new t(b,"loadingBar");a.getSprite().anchor.x=0.5;a.getSprite().anchor.y=0.5;this._animateEntering?this.transitionEnter(0):(this.onTransitionMidpoint(),this.transitionExit(0.1))},transitionEnter:function(a){var b=this;console.log("Entering...");(new Z(this._background)).addTween(this._bgSprite.getSprite(),"alpha",0,1,0.375,C.easeInOutQuad,0.75*a);for(var c=0,d=this._transitionBarsLeft.length;c<d;){var e=c++,g=this._transitionBarsLeft[e];(new Z(g)).addTween(g.getScaleRef(),
"y",g.getLocalScale().y,1,0.375,C.easeInOutQuad,0.75*(0.1*(this._transitionBarsLeft.length-1-e)+a+0.2))}c=0;for(d=this._transitionBarsRight.length;c<d;)e=c++,g=this._transitionBarsRight[e],(new Z(g)).addTween(g.getScaleRef(),"y",g.getLocalScale().y,1,0.375,C.easeInOutQuad,0.75*(0.1*(this._transitionBarsLeft.length-1-e)+a+0.2));(new Z(this._container)).addTween(this._container.getPositionRef(),"y",this._container.getLocalPosition().y,0,0.375,C.easeInOutQuad,0.75*(1+a),function(){b.onTransitionMidpoint();
b.transitionExit(0.4)});this._deferredAction.addDeferredAction(0.35,function(){u.playSoundByName("sfx_transition_in")})},transitionExit:function(a){var b=this;console.log("Exiting...");var c=new Z(this._container);c.destroyAllTweens();this._container.setLocalPosition(0,0);c.addTween(this._container.getPositionRef(),"y",this._container.getLocalPosition().y,-600,0.375,C.easeInOutQuad,0.75*a);for(var c=0,d=this._transitionBarsLeft.length;c<d;){var e=c++,g=this._transitionBarsLeft[e],f=new Z(g);f.destroyAllTweens();
g.setLocalScale(1,1);f.addTween(g.getScaleRef(),"y",g.getLocalScale().y,0,0.375,C.easeInOutQuad,0.75*(0.1*e+a+0.2))}c=0;for(d=this._transitionBarsRight.length;c<d;)e=c++,g=this._transitionBarsRight[e],f=new Z(g),f.destroyAllTweens(),g.setLocalScale(1,1),f.addTween(g.getScaleRef(),"y",g.getLocalScale().y,0,0.375,C.easeInOutQuad,0.75*(0.1*e+a+0.2));c=new Z(this._background);c.destroyAllTweens();this._bgSprite.getSprite().alpha=1;c.addTween(this._bgSprite.getSprite(),"alpha",this._bgSprite.getSprite().alpha,
0,0.375,C.easeInOutQuad,0.75*(0.6+a),function(){b.onTransitionComplete()});this._deferredAction.addDeferredAction(0.2,function(){u.playSoundByName("sfx_transition_out")})},render:function(){Vb.prototype.render.call(this);null!=this._pixiSprite&&this._pixiSprite.bringToFront()},update:function(){Vb.prototype.update.call(this);J.remove(p.getInstance().getGameStates(),this);p.getInstance().getGameStates().push(this)},onTransitionMidpoint:function(){Vb.prototype.onTransitionMidpoint.call(this);Ha.getInstance().setInputDisabled(!1)},
__class__:sa});var nd=function(a,b){this._maxScroll=6;this._currentScroll=0;this._selectedCharacter=Nb.FemaleAvatar;this._categoryButtons=[];this._categoryButtonNames=["body","hair","outfit"];this._categorySpacing=134;n.call(this,a);this._gameController=b;this._costumeDefinition=new ic;if(0<ma.getInstance().getAvatarItems().length)for(var c=ma.getInstance().getAvatarItems(),d=0,e=c.length;d<e;){var g=d++;this._costumeDefinition.equipCostumeItem(bb.getInstance().getCostumeItem(c[g]))}else this._costumeDefinition.equipCostumeItem(bb.getInstance().getCostumeItem("skin1")),
this._costumeDefinition.equipCostumeItem(bb.getInstance().getCostumeItem("outfit1")),this._costumeDefinition.equipCostumeItem(bb.getInstance().getCostumeItem("hair1"));this._tweener=new Z(this.getEntity());this.construct()};h["game.avatarCreator.AvatarCreator"]=nd;nd.__name__=["game","avatarCreator","AvatarCreator"];nd.__super__=n;nd.prototype=q(n.prototype,{getCostumeDefinition:function(){return this._costumeDefinition},init:function(){n.prototype.init.call(this)},construct:function(){var a=this;
this._uiPanel=Ja.createFullscreenUiPanel(this.getEntity().getGameState());this._background=this.addEntity();var b=new t(this._background,"dressingRoomBg");b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;new R(this._background,this._uiPanel);new Ua(this._background);this._categoryScrollRoot=this.addEntity();new Va(this._categoryScrollRoot,this._background,0.4);(new R(this._categoryScrollRoot,this._uiPanel)).setCoords(new m(-0.8,0));for(var b=0,c=this._categoryButtonNames.length;b<c;){var d=b++,
e=this._categoryButtonNames[d],g=this.addEntity();this._categoryScrollRoot.addChild(g);g.setLocalPosition(0,-192+d*this._categorySpacing);d=new xb(g,e);this._categoryButtons.push(d)}xb.getGlobalDispatcher().addEventListener("click",B(this,this.onCategoryButtonClick));this._rightScrollBar=this.addEntity();new Va(this._rightScrollBar,this._background,0.4);b=new t(this._rightScrollBar,"itemBg");b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;(new R(this._rightScrollBar,this._uiPanel)).setCoords(new m(-0.5,
0));b=this.addEntity();this._rightScrollBar.addChild(b);this._costumeItemScrollRoot=this.addEntity();new Va(this._costumeItemScrollRoot,this._background,0.4);b.addChild(this._costumeItemScrollRoot);this._costumeItemScrollRoot.setLocalPosition(0,-177);this._costumeItemList=new Ff(this._costumeItemScrollRoot);this._costumeItemList.addEventListener("update",B(this,this.onCostumeItemListUpdate));this._avatarTransform=this.addEntity();new Va(this._avatarTransform,this._background,0.4);(new R(this._avatarTransform,
this._uiPanel)).setCoords(new m(0.4,0));this._scrollBarHandle=this.addEntity();this._rightScrollBar.addChild(this._scrollBarHandle);this._scrollBar=new Ef(this._scrollBarHandle,"",new Sb(0,-165,0,330));this._scrollBarHandle.setPosition(85,-177);this._scrollBar.addEventListener("update",B(this,this.onScrollBarUpdate));b=this.addEntity();new Va(b,this._background,0.4);c=new t(b,"dressroomLogo");c.getSprite().anchor.x=0.5;c.getSprite().anchor.y=0.5;(new R(b,this._uiPanel)).setCoords(new m(-0.5,-0.79));
b=new La;b.defaultImageName="playButton";b.x=0.8;b.y=0.77;b.clickSoundId="sfx_click_1";this._acceptButton=Ba.createButton(b,this._uiPanel.getEntity(),B(this,this.onAcceptButtonClick));this.updateAvatar();this._deferredAction=new va(this.getEntity());this._deferredAction.addDeferredAction(0.8,function(){a.showDressYourChef()})},showDressYourChef:function(){var a=this.addEntity(),b=new R(a,this._uiPanel);b.setCoords(new m(0.45,-0.05));var c=a.addEntity();new Qa(c,c.getPositionRef(),"y",0,5,5);(new t(c,
"textShadow")).setAnchor(0.5,0.5);var d=a.addEntity();d.setScale(1.3333333333333333,1.3333333333333333);var e=a.addEntity();new Aa(e,"sparkle");e=a.addEntity();e.setLocalScale(-1,1);new Aa(e,"sparkle");new Z(d);(new va(d)).addDeferredAction(1.5,function(){d.destroy()});var e={fill:14886261,stroke:14886261,strokeThickness:9,fontSize:56,wordWrapWidth:300,wordWrap:!0,align:"center"},g=ja.getString("DRESS_YOUR_CHEF"),f=c.addEntity();f.setLocalPosition(4,4);e.fontFamily="ralewayblack";new ca(f,g,e);f=
c.addEntity();f.setLocalPosition(4,-4);e.fontFamily="ralewayblack";new ca(f,g,e);f=c.addEntity();f.setLocalPosition(-4,-4);e.fontFamily="ralewayblack";new ca(f,g,e);f=c.addEntity();f.setLocalPosition(-4,4);e.fontFamily="ralewayblack";new ca(f,g,e);e.fill=16777215;e.stroke=16279956;c=c.addEntity();new ca(c,g,e);this._dressYourChef=a;a=new Z(this._dressYourChef);a.addTween(b.getScaleRef(),"x",0,1,0.35,C.easeOutBack);a.addTween(b.getScaleRef(),"y",0,1,0.35,C.easeOutBack)},hideDressYourChef:function(){if(null!=
this._dressYourChef){var a=this._dressYourChef.getComponent(Z),b=this._dressYourChef.getComponent(R),c=this._dressYourChef;a.addTween(b.getScaleRef(),"x",1,0,0.45,C.easeInQuad);a.addTween(b.getScaleRef(),"y",1,0,0.45,C.easeInQuad,0,function(){c.destroy()});b=this._dressYourChef.getComponent(ga);a.addTween(b.getContainer(),"alpha",1,0,0.25,C.linear);this._dressYourChef=null}},onResetButtonClick:function(){},onAvatarSetupDialogClose:function(){this.getGameState().resume();for(var a=0,b=this._categoryButtons.length;a<
b;){var c=a++;this._categoryButtons[c].setIcon(this._categoryButtonNames[c])}},onAcceptButtonClick:function(){for(var a=[],b=0,c=this._costumeDefinition.getCostumeItems().length;b<c;){var d=b++;a.push(this._costumeDefinition.getCostumeItems()[d].getSprite().toString())}ma.getInstance().setAvatarItems(a,this._costumeDefinition);this._gameController.get_isFtueActive()?this.loadIntoGameplay(this._gameController.get_dishManager().getDishByIndex(0)):sa.doTransition(this.getEntity().getGameState(),new Yb(this._gameController))},
loadIntoGameplay:function(a){var b=this;this._gameController.set_selectedDish(a);var c=O.getAsset(a.nameId+"_Load");this._loadingScreen=new od;sa.doMidpointTransition(this.getGameState(),this._loadingScreen,function(){var a=b._loadingScreen.addEntity();(new va(a)).addDeferredAction(1,function(){b.destroy();c.load(B(b,b.onLoadComplete))})})},onLoadComplete:function(){sa.doTransition(this._loadingScreen,new fe(this._gameController),!1)},onBackButtonClick:function(){sa.doTransition(this.getGameState(),
new jc(this._gameController))},onCategoryButtonClick:function(a){var b="body";null!=a&&(b=a.getCategory());this._costumeItemList.generateList(this._selectedCharacter,b);this._scrollBar.setPercentage(0);this.onScrollBarUpdate(null)},onCostumeItemListUpdate:function(a){this.listenToCostumeButtons()},listenToCostumeButtons:function(){for(var a=this._costumeItemScrollRoot.getComponentsInChildren(ge),b=0,c=a.length;b<c;){var d=b++;a[d].addEventListener("click",B(this,this.onCostumeItemButtonClick))}},
onCostumeItemButtonClick:function(a){this._costumeDefinition.equipCostumeItem(a.getCostumeItem());this.updateAvatar()},updateAvatar:function(){null!=this._avatar&&this._avatar.destroy();this._avatar=this._costumeDefinition.instantiateCostume(this._avatarTransform)},onScrollBarUpdate:function(a){var b=0;null!=a&&(b=a.getValue());a=-b*(this._costumeItemList.getListHeight()-425);this._costumeItemScrollRoot.setLocalPosition(0,-177+a)},onScrollUpClick:function(){this._currentScroll--;0>this._currentScroll&&
(this._currentScroll=0);this.updateScroll()},onScrollDownClick:function(){this._currentScroll++;this._currentScroll>this._maxScroll&&(this._currentScroll=this._maxScroll);this.updateScroll()},updateScroll:function(){this._tweener.addTween(this._categoryScrollRoot.getPositionRef(),"y",this._categoryScrollRoot.getLocalPosition().y,-this._currentScroll*this._categorySpacing,0.15,C.easeOutQuad)},destroy:function(){n.prototype.destroy.call(this);xb.getGlobalDispatcher().removeEventListener("click",B(this,
this.onCategoryButtonClick))},onMouseDown:function(){this.hideDressYourChef()},handleMessage:function(a,b){n.prototype.handleMessage.call(this,a,b);if("mouseDown"==a)this.onMouseDown()},__class__:nd});var xb=function(a,b){n.call(this,a);this._category=b};h["game.avatarCreator.CategoryButton"]=xb;xb.__name__=["game","avatarCreator","CategoryButton"];xb.getGlobalDispatcher=function(){null==xb._eventDispatcher&&(xb._eventDispatcher=new Za);return xb._eventDispatcher};xb.__super__=n;xb.prototype=q(n.prototype,
{init:function(){n.prototype.init.call(this);var a=this.addEntity(),b=new La;b.defaultImageName="categoryBgSelected";b.x=0;b.y=0;b.deactivateButtonOnClick=!1;b.clickSoundId="sfx_click_2";a=Ba.createButton(b,a,B(this,this.onClick));this._buttonImage=a.getComponent(zc);"body"==this._category?(this._buttonImage.setDefaultImage("categoryBgSelected"),this._buttonImage.setMouseOverImage("categoryBgSelected")):(this._buttonImage.setDefaultImage("categoryBgDeselected"),this._buttonImage.setMouseOverImage("categoryBgDeselected"));
a=a.addEntity();a.setLocalPosition(-19,0);this._iconSprite=new t(a,this._category);this._iconSprite.getSprite().anchor.x=0.5;this._iconSprite.getSprite().anchor.y=0.5;xb.getGlobalDispatcher().addEventListener("click",B(this,this.onCategoryButtonClick))},onCategoryButtonClick:function(a){a.getCategory()==this._category?(this._buttonImage.setDefaultImage("categoryBgSelected"),this._buttonImage.setMouseOverImage("categoryBgSelected")):(this._buttonImage.setDefaultImage("categoryBgDeselected"),this._buttonImage.setMouseOverImage("categoryBgDeselected"))},
setIcon:function(a){this._iconSprite.setImage(a)},onClick:function(){xb.getGlobalDispatcher().dispatchEvent(new he("click",this._category));u.playSoundByName("ui_click_1")},destroy:function(){n.prototype.destroy.call(this);xb._eventDispatcher.removeEventListener("click",B(this,this.onCategoryButtonClick))},__class__:xb});var he=function(a,b){this._type=a;this._category=b};h["game.avatarCreator.CategoryButtonEvent"]=he;he.__name__=["game","avatarCreator","CategoryButtonEvent"];he.__super__=P;he.prototype=
q(P.prototype,{getCategory:function(){return this._category},__class__:he});var ic=function(){this._currentBody=this._currentOutfit="";this._categoryInstantiateOrder=["hairBack","body","outfit","hair","bodyFront"];this._costumeItems=[]};h["game.avatarCreator.CostumeDefinition"]=ic;ic.__name__=["game","avatarCreator","CostumeDefinition"];ic.encode=function(a){for(var b=[],c=0,d=a.getCostumeItems().length;c<d;){var e=c++,e=a.getCostumeItems()[e];null!=e&&b.push(e.name)}return b.join(",")};ic.decode=
function(a){var b=new ic;a=a.split(",");for(var c=0,d=a.length;c<d;){var e=c++,e=a[e],e=bb.getInstance().getCostumeItem(e);b.equipCostumeItem(e)}return b};ic.prototype={getCostumeItems:function(){return this._costumeItems},getCostumeDefinition:function(){return ic.decode(ic.encode(this))},equipCostumeItem:function(a){if(null!=a){for(var b=0,c=this._costumeItems.length;b<c;){var d=b++,d=this._costumeItems[d];if(d.getCategory()==a.getCategory()){J.remove(this._costumeItems,d);break}}this._costumeItems.push(a);
b=0;for(c=a.getAttachedCostumeItems().length;b<c;)d=b++,d=bb.getInstance().getCostumeItem(a.getAttachedCostumeItems()[d]),this.equipCostumeItem(d);"body"==a.getCategory()&&(this._currentBody=a.getSprite().toString(),""!=this._currentOutfit&&this.equipCostumeItem(bb.getInstance().getCostumeItem(this._currentBody+this._currentOutfit)));"outfit"==a.getCategory()&&(this._currentOutfit=a.getSprite().toString(),""!=this._currentBody&&this.equipCostumeItem(bb.getInstance().getCostumeItem(this._currentBody+
this._currentOutfit)))}},getCostumeItemByCategory:function(a){for(var b=0,c=this._costumeItems.length;b<c;){var d=b++,d=this._costumeItems[d];if(d.getCategory()==a)return d}return null},instantiateCostume:function(a){var b=this;a=a.addEntity(!0);this._costumeItems.sort(function(a,c){return b._categoryInstantiateOrder.indexOf(a.getCategory())>b._categoryInstantiateOrder.indexOf(c.getCategory())?1:b._categoryInstantiateOrder.indexOf(a.getCategory())<b._categoryInstantiateOrder.indexOf(c.getCategory())?
-1:0});for(var c=0,d=this._costumeItems.length;c<d;){var e=c++,e=this._costumeItems[e];null!=e.getSprite()&&e.instantiateCostumeItem(a).setLocalPosition(e.getOffset().x,e.getOffset().y)}return a},__class__:ic};var Nb=h["game.avatarCreator.Character"]={__ename__:["game","avatarCreator","Character"],__constructs__:["FemaleAvatar","MaleAvatar"]};Nb.FemaleAvatar=["FemaleAvatar",0];Nb.FemaleAvatar.toString=N;Nb.FemaleAvatar.__enum__=Nb;Nb.MaleAvatar=["MaleAvatar",1];Nb.MaleAvatar.toString=N;Nb.MaleAvatar.__enum__=
Nb;Nb.__empty_constructs__=[Nb.FemaleAvatar,Nb.MaleAvatar];var ie=function(){};h["game.avatarCreator.CostumeItem"]=ie;ie.__name__=["game","avatarCreator","CostumeItem"];ie.fromJsonNode=function(a){var b=new ie;b.name=a.sprite;b._attachedCostumeItems=ua.string(a.attachedCostumeItems).split(",");b._category=a.category;b._offset=new m(parseFloat(a.offsetX),-parseFloat(a.offsetY));b._sprite=a.sprite;b._thumbnail=a.thumbnail;console.log(b.name);return b};ie.prototype={getCharacters:function(){return this._characters},
getCategory:function(){return this._category},getCommaDelimitedFilters:function(){return this._commaDelimitedFilters},getSprite:function(){return this._sprite},getThumbnail:function(){return this._thumbnail},getOffset:function(){return this._offset},getAttachedCostumeItems:function(){return this._attachedCostumeItems},containsFilter:function(a){for(var b=this._commaDelimitedFilters.split(","),c=0,d=b.length;c<d;){var e=c++;if(b[e]==a)return!0}return!1},containsFilters:function(a){for(var b=0,c=this._commaDelimitedFilters.split(","),
d=a.length,e=0,g=c.length;e<g;)for(var f=e++,f=c[f],h=0,k=d;h<k;){var m=h++;if(f==a[m]&&(++b,b>=a.length))return!0}return!1},instantiateThumbnail:function(a){a=a.addEntity(!0);var b=new t(a,this._thumbnail);b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;(new ge(a)).setCostumeItem(this);return a},availableForCharacter:function(a){return null!=this._characters&&0!=this._characters.length?0<=this._characters.indexOf(a):!0},instantiateCostumeItem:function(a){a=a.addEntity(!0);var b=new t(a,this._sprite);
b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;return a},__class__:ie};var ge=function(a){n.call(this,a)};h["game.avatarCreator.CostumeItemButton"]=ge;ge.__name__=["game","avatarCreator","CostumeItemButton"];ge.__super__=n;ge.prototype=q(n.prototype,{getCostumeItem:function(){return this._costumeItem},setCostumeItem:function(a){this._costumeItem=a},init:function(){n.prototype.init.call(this);this._button=new la(this.getEntity(),new m(100,100),null,B(this,this.onClick))},onClick:function(){this.dispatchEvent(new je("click",
this._costumeItem));switch(this._costumeItem.getCategory()){case "body":u.playSoundByName("sfx_swish_3");break;case "hair":u.playSoundByName("sfx_swish_2");break;case "outfit":u.playSoundByName("sfx_swish_1")}},__class__:ge});var je=function(a,b){this._type=a;this._costumeItem=b};h["game.avatarCreator.CostumeItemButtonEvent"]=je;je.__name__=["game","avatarCreator","CostumeItemButtonEvent"];je.__super__=P;je.prototype=q(P.prototype,{getCostumeItem:function(){return this._costumeItem},__class__:je});
var Ff=function(a){this._spacingY=140;n.call(this,a);this._listItems=[]};h["game.avatarCreator.CostumeItemList"]=Ff;Ff.__name__=["game","avatarCreator","CostumeItemList"];Ff.__super__=n;Ff.prototype=q(n.prototype,{getListItems:function(){return this._listItems},getListHeight:function(){return this.getListItems().length*this._spacingY},init:function(){n.prototype.init.call(this);this.generateList(Nb.FemaleAvatar,"body")},generateList:function(a,b){this.clearList();var c=bb.getInstance().getCostumeItemsByCharacterCategory(a,
b),d=c.length,e=0,g=this._spacingY;3==d&&(e=10,g=180);for(var f=0;f<d;){var h=f++,k=c[h].instantiateThumbnail(this.getEntity());k.setLocalPosition(0,e+g*h);this._listItems.push(k)}this.dispatchEvent(new ke("update"))},clearList:function(){for(var a=0,b=this._listItems.length;a<b;){var c=a++;this._listItems[c].destroy()}this._listItems=[]},__class__:Ff});var ke=function(a){this._type=a};h["game.avatarCreator.CostumeItemListEvent"]=ke;ke.__name__=["game","avatarCreator","CostumeItemListEvent"];ke.__super__=
P;ke.prototype=q(P.prototype,{__class__:ke});var bb=function(){this._costumeItems=[];this.parseCostumeItems()};h["game.avatarCreator.CostumeItemManager"]=bb;bb.__name__=["game","avatarCreator","CostumeItemManager"];bb.getInstance=function(){null==bb._instance&&(bb._instance=new bb);return bb._instance};bb.prototype={parseCostumeItems:function(){for(var a=JSON.parse(O.getAsset("costumeItemConfig")),b=0,c=a.costumeItems.length;b<c;){var d=b++,d=ie.fromJsonNode(a.costumeItems[d]);this._costumeItems.push(d)}},
getCostumeItem:function(a){for(var b=0,c=this._costumeItems.length;b<c;){var d=b++,d=this._costumeItems[d];if(d.name==a)return d}return null},getCostumeItems:function(){return this._costumeItems},getCostumeItemsByCharacter:function(a){for(var b=[],c=0,d=this._costumeItems.length;c<d;){var e=c++,e=this._costumeItems[e];e.availableForCharacter(a)&&b.push(e)}return b},getCostumeItemsByCategory:function(a){for(var b=[],c=0,d=this._costumeItems.length;c<d;){var e=c++,e=this._costumeItems[e];e.getCategory()==
a&&b.push(e)}return b},getCostumeItemsByCharacterCategory:function(a,b){for(var c=this.getCostumeItemsByCharacter(a),d=[],e=0,g=c.length;e<g;){var f=e++,f=c[f];f.getCategory()==b&&d.push(f)}return d},getCostumeItemsByCharacterCategoryFilter:function(a,b,c){a=this.getCostumeItemsByCharacterCategory(a,b);b=[];for(var d=0,e=a.length;d<e;){var g=d++,g=a[g];g.containsFilter(c)&&b.push(g)}return b},getCostumeItemsByCharacterCategoryFilters:function(a,b,c){a=this.getCostumeItemsByCharacterCategory(a,b);
b=[];for(var d=0,e=a.length;d<e;){var g=d++,g=a[g];g.containsFilters(c)&&b.push(g)}return b},__class__:bb};var Te=function(){V.call(this)};h["game.boot.BootState"]=Te;Te.__name__=["game","boot","BootState"];Te.__super__=V;Te.prototype=q(V.prototype,{init:function(){V.prototype.init.call(this);this._root=p.getInstance();var a=new Hb;this._root.addManager(a);a=new Ha;this._root.addManager(a);var b=new Ac;this._root.addManager(b);b=new Tc;this._root.addManager(b);b=new Bc;this._root.addManager(b);p.isMobile()&&
(b=new Gf(p.getInstance().getGameWidth(),p.getInstance().getGameHeight()),this._root.addManager(b));a.disablePageKeyPresses();this.initLayers();this.getAssetsList()},getAssetsList:function(){var a=new Nc;a.addAsset("assetList","asset_list.js",aa.Other);a.addAsset("strings","./locale/${locale}/strings.xml",aa.Other);a.addAsset("globalGameConfig","game_config.js",aa.Other);a.addAsset("gameConfig","./locale/${locale}/game_config.js",aa.Other);a.addAsset("styleCss","./locale/${locale}/css/style.css",
aa.Css);a.addAsset("speechMap","./media/xml/speech_map.xml",aa.Other);a.addAsset("costumeItemConfig","./media/xml/costume_items.js",aa.Other);a.addAsset("ipadOrientationImage","./media/images/system/orientation_ipad.png",aa.Image);a.addAsset("iphoneOrientationImage","./media/images/system/orientation_iphone.png",aa.Image);a.load(B(this,this.onAssetListLoaded))},onAssetListLoaded:function(){T.parseGameConfig(JSON.parse(O.getAsset("globalGameConfig")));T.parseGameConfig(JSON.parse(O.getAsset("gameConfig")));
p.getInstance().setGameWidth(T.getProperty("gameWidth",1024));p.getInstance().setGameHeight(T.getProperty("gameHeight",768));ja.initStrings();Bc.getInstance().setup();if(p.isMobile()||"NONE"!=T.getProperty("forceOrientation")){var a=new Hf;this._root.addGameState(a);p.getInstance().onOrientationChange()}for(var a=JSON.parse(O.getAsset("assetList")),b=0,c=a.loadBatches.length;b<c;){for(var d=b++,e=new Nc,d=a.loadBatches[d],g=0,f=d.assets.length;g<f;){var h=g++,h=d.assets[h],k=h.source.split("."),m=
aa.Other;switch(k[k.length-1]){case "css":m=aa.Css;break;case "eot":case "ttf":case "woff":m=aa.Font;break;case "jpeg":case "jpg":case "png":m=aa.Image;break;case "js":m=aa.Other;break;case "mp3":case "wav":m=aa.Audio}e.addAsset(h.name,h.source,m)}O.registerAsset(d.name,e)}O.getAsset("loadScreenBatchPreload").load(B(this,this.onLoadScreenPreloadComplete))},onLoadScreenPreloadComplete:function(){Ta.getInstance().setup({backgroundColor:0});this._loadingScreen=new od;this._root.addGameState(this._loadingScreen);
this._root.onResizeWindow();var a=new Nc;a.concatLoadBatch(O.getAsset("loadBatchPreload"));a.concatLoadBatch(O.getAsset("avatarCreator"));a.load(B(this,this.onPreloadComplete))},onPreloadComplete:function(){this.destroy();var a=new If(this._root.getGameId()),b=new Df;b.set_utagManager(a);a=new Jf;a=new di(a);b.set_dishManager(a);sa.doTransition(this._loadingScreen,new jc(b),!1)},initLayers:function(){this._root.addLayer(new ec("debug",p.getInstance().getGameWidth()|0,p.getInstance().getGameHeight()|
0))},__class__:Te});var ib=function(a){n.call(this,a);this._uiPanel=Ja.createFullscreenUiPanel(this.getGameState());this._buttonGroup=new Qc(this._uiPanel.getEntity())};h["game.ui.popups.Popup"]=ib;ib.__name__=["game","ui","popups","Popup"];ib.__super__=n;ib.prototype=q(n.prototype,{get_inputEnabled:function(){return this._buttonGroup.isInputEnabled()},set_inputEnabled:function(a){this._buttonGroup.setInputEnabled(a);return a},init:function(){n.prototype.init.call(this);new ga(this._uiPanel.getEntity());
this.enter()},enter:function(){this.onEnterComplete()},onEnterComplete:function(){this.dispatchEvent(new Wc("enterComplete"))},dismiss:function(){this.onDismissComplete()},onDismissComplete:function(){this.dispatchEvent(new Wc("dismissComplete"));null!=this._uiPanel&&(this._uiPanel.getEntity().destroy(),this._uiPanel=null);this.getEntity().destroy()},__class__:ib,__properties__:{set_inputEnabled:"set_inputEnabled",get_inputEnabled:"get_inputEnabled"}});var Kf=function(a,b){this._timeElapsed=0;this._duration=
6;ib.call(this,a);this._gameController=b};h["game.cookingGame.CookingDishPopup"]=Kf;Kf.__name__=["game","cookingGame","CookingDishPopup"];Kf.__super__=ib;Kf.prototype=q(ib.prototype,{init:function(){ib.prototype.init.call(this);var a=this.createBackground(this._uiPanel);this.createHeading(a);this._audioSource=new ab(this.addEntity());this._audioSource.setIs2d(!0);this._audioSource.play("sfx_clock_tick_2",!0)},createBackground:function(a){a=this._uiPanel.addEntity();new R(a,this._uiPanel);(new t(a,
"popupVideoContainer")).setAnchor(0.5,0.5);var b=a.addEntity();b.setLocalPosition(0,20);this._timelapse=new le(b,this._gameController.get_selectedDish().cookingTimelapseImageIds);b=b.addEntity();this._ovenGlowSprite=new t(b,"ovenGlow");this._ovenGlowSprite.setAnchor(0.5,0.5);b=(new pd(this._uiPanel)).createCookingTimer();b.getComponent(R).destroy();a.addChild(b);b.setLocalPosition(0,225);this._timer=b.getComponent(qd);b=a.addEntity(!0);b.setLocalPosition(-330,171);null!=ma.getInstance().getCostumeDefinition()&&
ma.getInstance().getCostumeDefinition().instantiateCostume(b);return a},createHeading:function(a){var b=new Xc;b.text=ja.getString(this._gameController.get_selectedDish().nameId);b.coords=new m(0,-270);return this._gameController.get_gameUiFactory().createLocalHeading(a,b)},update:function(){ib.prototype.update.call(this);this._timeElapsed+=p.getDeltaTime();if(this._timeElapsed>=this._duration)this.onDurationElapse();var a=X.clamp(this._timeElapsed/this._duration,0,1);null!=this._timelapse&&(this._timelapse.set_percentage(a),
this._timer.set_percentage(this._timelapse.get_percentage()));this._ovenGlowSprite.getSprite().alpha=a},onDurationElapse:function(){this.dismiss();this._audioSource.stop();u.playSoundByName("sfx_bell_ring_1")},__class__:Kf});var me=function(a,b){this._tutorialEnabled=!0;n.call(this,a);this._gameController=b;this._cookingGameTracker=new ei;var c=JSON.parse(O.getAsset("scoreConfig")),d=new Lf;d.parse(c);this._scoreController=new fi(d,this._gameController.get_selectedDish().index);this.set_tutorialEnabled(this._gameController.get_isFtueActive())};
h["game.cookingGame.CookingGameController"]=me;me.__name__=["game","cookingGame","CookingGameController"];me.__super__=n;me.prototype=q(n.prototype,{get_tutorialEnabled:function(){return this._tutorialEnabled},set_tutorialEnabled:function(a){return this._tutorialEnabled=a},get_allStepsComplete:function(){return this._cookingGameTracker.get_currentStep()>this._gameController.get_selectedDish().actions.length-1},init:function(){n.prototype.init.call(this);this._gameController.get_selectedDish().animationInitializer.initAnimations();
this.createDishPrepPopup()},createDishPrepPopup:function(a){var b=new Mf,c=JSON.parse(O.getAsset("scoreConfig")),d=new Lf;d.parse(c);b.timeLimit=d.timeLimit;c=this._gameController.get_dishTracker().get_selectedDish().actions;d=this._cookingGameTracker.get_currentStep();this.createMinigame(c[d],b);b=this.addEntity();this._dishPrepPopup=new Nf(b,this._gameController,this._cookingGameTracker,this._scoreController);this._dishPrepPopup.addEventListener("click",B(this,this.onDishActionButtonClick));null!=
a&&this._dishPrepPopup.addEventListener("enterComplete",a);return b},createMinigame:function(a,b){var c=this.addEntity();this._currentMinigame=new Of(c,this,a,b);this._currentMinigame.addEventListener("pause",B(this,this.onPauseButtonClick));this._minigameContainer=new Pf(c,this._currentMinigame);this._minigameContainer.addEventListener("complete",B(this,this.onMinigameComplete));return c},onPauseButtonClick:function(a){this.getGameState().pause();rd.show(this.getGameState(),this._gameController)},
onMinigameComplete:function(a){var b=this;this._cookingGameTracker.get_stepResults().push(a.get_minigameResults());this.advanceStep();var c=this._cookingGameTracker.get_currentStep(),d=this._gameController.get_dishTracker().get_selectedDish().actions[c-1];va.addDeferredActionToTarget(this.getEntity(),d.completionDelayOffset,function(){var a=b._currentMinigame.get_cookingStage().get_ingredientsRoot();b.createSparkle(a,!0);u.playSoundByName("sfx_sparkles_1")});va.addDeferredActionToTarget(this.getEntity(),
1.65+d.completionDelayOffset,function(){if(d.showCookingPopupAtEnd)b.createCookingPopup(B(b,b.onCookingDishDestroyAfter));else b.onCurrentStepComplete(a);u.playSoundByName("sfx_dish_step_complete_1")})},createSparkle:function(a,b){null==b&&(b=!1);var c=a.addEntity();c.setScale(1.3333333333333333,1.3333333333333333);var d=c.addEntity();new Aa(d,"sparkle");d=c.addEntity();d.setLocalScale(-1,1);new Aa(d,"sparkle");var e=c.addEntity(),g=new Z(c);(new va(c)).addDeferredAction(1.5,function(){var a=e.getScaleRef();
g.addTween(a,"x",1,0,0.35,C.easeInQuad);a=e.getScaleRef();g.addTween(a,"y",1,0,0.35,C.easeInQuad,0,function(){c.destroy()})});if(b){(new t(e,"textShadow")).setAnchor(0.5,0.5);var d={fill:14886261,stroke:14886261,strokeThickness:9,fontSize:88},f="COMPLETION_TEXT_"+X.randomInt(1,4),f=ja.getString(f),h=e.addEntity();h.setLocalPosition(4,4);d.fontFamily="ralewayblack";new ca(h,f,d);h=e.addEntity();h.setLocalPosition(4,-4);d.fontFamily="ralewayblack";new ca(h,f,d);h=e.addEntity();h.setLocalPosition(-4,
-4);d.fontFamily="ralewayblack";new ca(h,f,d);h=e.addEntity();h.setLocalPosition(-4,4);d.fontFamily="ralewayblack";new ca(h,f,d);d.fill=16777215;d.stroke=16279956;h=e.addEntity();new ca(h,f,d);d=e.getScaleRef();g.addTween(d,"x",0,1,0.35,C.easeOutBack);d=e.getScaleRef();g.addTween(d,"y",0,1,0.35,C.easeOutBack)}return c},onCurrentStepComplete:function(a){a=this._cookingGameTracker.get_currentStep();this._currentMinigame.get_timeLimit();this._currentMinigame.get_timeLeft();this._scoreController.addMinigameResults(this._cookingGameTracker.get_stepResults()[a-
1]);this._lastMinigameContainer=this._minigameContainer;if(this.get_allStepsComplete())this.onAllStepsComplete();else this.createDishPrepPopup(B(this,this.onDishPrepAppear)),this._dishPrepPopup.set_inputEnabled(!0)},onDishPrepAppear:function(a){null!=this._lastMinigameContainer&&this._lastMinigameContainer.getEntity().destroy()},onAllStepsComplete:function(){this.transitionToStillShot()},transitionToStillShot:function(){sa.doMidpointTransition(null,null,B(this,this.onTransitionToStillMidpoint))},
onTransitionToStillMidpoint:function(){console.log("onTransitionToStillMidpoint()");this._currentMinigame.get_cookingStage().clear();this._currentMinigame.hideHud();var a=this._currentMinigame.get_cookingStage().get_ingredientsRoot().addEntity();a.setLocalPosition(0,60);var b=this._gameController.get_dishTracker().get_selectedDish().finalImageId;(new t(a,b)).setAnchor(0.5,0.5);(new va(a)).addDeferredAction(1,function(){(new Qf).createAsChild(a)});this._deliciousText=this._currentMinigame.get_cookingStage().get_uiRoot().addEntity();
this._deliciousText.setLocalPosition(0,-225);(new t(this._deliciousText,"textShadow")).setAnchor(0.5,0.5);var b={fill:14886261,stroke:14886261,strokeThickness:9,fontSize:88},c=ja.getString("COMPLETION_DELICIOUS"),d=this._deliciousText.addEntity();d.setLocalPosition(4,4);b.fontFamily="ralewayblack";new ca(d,c,b);d=this._deliciousText.addEntity();d.setLocalPosition(4,-4);b.fontFamily="ralewayblack";new ca(d,c,b);d=this._deliciousText.addEntity();d.setLocalPosition(-4,-4);b.fontFamily="ralewayblack";
new ca(d,c,b);d=this._deliciousText.addEntity();d.setLocalPosition(-4,4);b.fontFamily="ralewayblack";new ca(d,c,b);b.fill=16777215;b.stroke=16279956;d=this._deliciousText.addEntity();new ca(d,c,b);new Qa(this._deliciousText,this._deliciousText.getScaleRef(),"x",1,0.05,10);new Qa(this._deliciousText,this._deliciousText.getScaleRef(),"y",1,0.05,10);b=new La;b.defaultImageName="playButtonLarge";b.x=0;b.y=250;b.clickSoundId="sfx_click_1";this._nextButton=Ba.createButton(b,this._currentMinigame.get_cookingStage().get_uiRoot(),
B(this,this.onFoodStillNextClick));b=this._currentMinigame.get_cookingStage().get_uiRoot().addEntity();new t(b,"finishGradient");b.setScale(200,1);b.setPosition(0,p.getInstance().getGameSize().y-234);this._fireworks=new Zb(this._currentMinigame.get_cookingStage().get_ingredientsRoot(),this)},onFoodStillNextClick:function(){this.createDishCompletePopup();var a=this._gameController.get_selectedDish().index+1;ma.getInstance().setNumLevelsUnlocked(a+1);this._gameController.get_playerData().setDishResult(this._gameController.get_selectedDish().index,
this._scoreController.get_starRating());this._deliciousText.destroy();this._fireworks.setActive(!1);this._nextButton.destroy()},createCookingPopup:function(a){var b=this.addEntity();(new Kf(b,this._gameController)).addEventListener("destroy",a);return b},onCookingDishDestroyBefore:function(a){this._currentMinigame.startGameplay()},onCookingDishDestroyAfter:function(a){this.onCurrentStepComplete(a)},createDishCompletePopup:function(){var a=this.addEntity();(new Rf(a,this._gameController,this._scoreController)).addEventListener("destroy",
B(this,this.onDishCompletePopupDestroy))},onDishCompletePopupDestroy:function(a){T.getBoolProperty("adScreenEnabled")?sa.doTransition(this.getGameState(),new Sf(this._gameController)):sa.doTransition(this.getGameState(),new Yb(this._gameController))},onStepCompletePopupDestroy:function(a){if(this.get_allStepsComplete())this.onAllStepsComplete();else this.createDishPrepPopup(B(this,this.onDishPrepAppear)),this._dishPrepPopup.set_inputEnabled(!0)},advanceStep:function(){var a=this._cookingGameTracker,
b=a.get_currentStep();a.set_currentStep(b+1)},onDishActionButtonClick:function(a){this._dishPrepPopup.dismiss();this._dishPrepPopup=null;a=this._cookingGameTracker.get_currentStep();this._gameController.get_dishTracker().get_selectedDish().actions[a].showCookingPopupAtStart?this.createCookingPopup(B(this,this.onCookingDishDestroyBefore)):this._currentMinigame.startGameplay()},__class__:me,__properties__:{get_allStepsComplete:"get_allStepsComplete",set_tutorialEnabled:"set_tutorialEnabled",get_tutorialEnabled:"get_tutorialEnabled"}});
var ei=function(){this._currentStep=0;this._stepResults=[]};h["game.cookingGame.CookingGameTracker"]=ei;ei.__name__=["game","cookingGame","CookingGameTracker"];ei.prototype={get_stepResults:function(){return this._stepResults},get_currentStep:function(){return this._currentStep},set_currentStep:function(a){return this._currentStep=a},__class__:ei,__properties__:{set_currentStep:"set_currentStep",get_currentStep:"get_currentStep",get_stepResults:"get_stepResults"}};var de=function(){};h["game.cookingGame.CookingGameUiFactory"]=
de;de.__name__=["game","cookingGame","CookingGameUiFactory"];de.prototype={createHeading:function(a,b){var c=a.addEntity(),d=new R(c,a);d.setCoords(b.coords);d.setAlignment(b.horizontalAlignment,b.verticalAlignment);new ca(c,b.text,{fontFamily:"ralewaybold",fontSize:42,fill:"#FFFFFF"});return c},createLocalHeading:function(a,b){var c=a.addEntity();c.setLocalPosition(b.coords.x,b.coords.y);new ca(c,b.text,{fontFamily:"ralewaybold",fontSize:42,fill:"#FFFFFF"});return c},createDishSelectButton:function(a,
b,c){var d=new La,e=c.getDishRatingByIndex(b.index),g=ma.getInstance().getNumLevelsUnlocked()<b.minimumLevel;d.mouseOverScaleTo=1.05;d.defaultImageName="dishButton";d.text=ja.getString(b.nameId);d.clickSoundId="sfx_dish_select_1";d.textStyle={fontSize:16};a=Ba.createButton(d,a);new ne(a,b);d=a.addEntity();(new t(d,b.iconId)).setAnchor(0.5,0.5);var f=a.getComponent(la);if(g)f.setActive(!1),b=d.addEntity(),(new t(b,"dishButtonLocked")).setAnchor(0.5,0.5);else if(g=a.addEntity(),(new t(g,"dishStarContainer")).setAnchor(0.5,
0.5),g.setLocalPosition(0,73),0<e)for(e=0,b=c.getDishRatingByIndex(b.index);e<b;)c=e++,d=g.addEntity(),(new t(d,"dishStarContainerStar")).setAnchor(0.5,0.5),d.setLocalPosition(-76.5+38.5*c,-2);return a},createDishActionIndicator:function(a,b,c,d,e){a=a.addEntity();(new t(a,d>=c?"doneIngredientBg":"ingredientBg")).setAnchor(0.5,0.5);b=a.addEntity(!0);b.setLocalPosition(0,38);new ca(b,d>=c?"":""+c,{fontFamily:"ralewaybold",fill:"#FFFFFF",fontSize:30});d=a.addEntity(!0);d.setLocalPosition(0,-18);(new t(d,
"ingredient"+e+c)).setAnchor(0.5,0.5);return a},createDishActionButton:function(a,b,c,d){b=new La;b.overrideColliderSize=!0;b.overrideColliderSizeX=150;b.overrideColliderSizeY=55;a=Ba.createButton(b,a);a.getComponent(la).setActive(!1);b=new ga(a);b.set_width(100);b.set_height(100);new Qa(a,a.getScaleRef(),"x",1,0.05,5);new Qa(a,a.getScaleRef(),"y",1,0.05,5);b=a.addEntity();(new t(b,"selectedIngredientBg")).setAnchor(0.5,0.5);b=a.addEntity(!0);b.setLocalPosition(0,38);new ca(b,""+c,{fontFamily:"ralewaybold",
fill:"#FFFFFF",fontSize:30});b=a.addEntity(!0);b.setLocalPosition(0,-18);(new t(b,"ingredient"+d+c)).setAnchor(0.5,0.5);return a},__class__:de};var ne=function(a,b){n.call(this,a);this._dish=b};h["game.cookingGame.DishActionButton"]=ne;ne.__name__=["game","cookingGame","DishActionButton"];ne.__super__=n;ne.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);this.getComponent(la).setOnMouseDown(B(this,this.onDishMouseDown))},onDishMouseDown:function(){this.dispatchEvent(new oe("click",
this._dish))},__class__:ne});var oe=function(a,b){this._dish=null;this._type=a;this._dish=b};h["game.cookingGame.DishActionButtonClickEvent"]=oe;oe.__name__=["game","cookingGame","DishActionButtonClickEvent"];oe.__super__=P;oe.prototype=q(P.prototype,{get_dish:function(){return this._dish},__class__:oe,__properties__:{get_dish:"get_dish"}});var gi=function(a,b){n.call(this,a);this._dishAction=b};h["game.cookingGame.DishActionSelectButton"]=gi;gi.__name__=["game","cookingGame","DishActionSelectButton"];
gi.__super__=n;gi.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);this.getComponent(la).setOnClicked(B(this,this.onDishActionClick))},onDishActionClick:function(){this.dispatchEvent(new sd("click",this._dishAction))},__class__:gi});var sd=function(a,b){this._dishAction=null;this._type=a;this._dishAction=b};h["game.cookingGame.DishActionSelectButtonClickEvent"]=sd;sd.__name__=["game","cookingGame","DishActionSelectButtonClickEvent"];sd.__super__=P;sd.prototype=q(P.prototype,{get_dishAction:function(){return this._dishAction},
__class__:sd,__properties__:{get_dishAction:"get_dishAction"}});var Ra=h["game.cookingGame.LetterGrade"]={__ename__:["game","cookingGame","LetterGrade"],__constructs__:["None","A","B","C"]};Ra.None=["None",0];Ra.None.toString=N;Ra.None.__enum__=Ra;Ra.A=["A",1];Ra.A.toString=N;Ra.A.__enum__=Ra;Ra.B=["B",2];Ra.B.toString=N;Ra.B.__enum__=Ra;Ra.C=["C",3];Ra.C.toString=N;Ra.C.__enum__=Ra;Ra.__empty_constructs__=[Ra.None,Ra.A,Ra.B,Ra.C];var pe=function(a){this._type=a};h["game.cookingGame.PauseEvent"]=
pe;pe.__name__=["game","cookingGame","PauseEvent"];pe.__super__=P;pe.prototype=q(P.prototype,{__class__:pe});var Lf=function(){};h["game.cookingGame.config.ScoreConfig"]=Lf;Lf.__name__=["game","cookingGame","config","ScoreConfig"];Lf.prototype={parse:function(a){this.scoreRatingTiers=a.timeRatingTiers;this.timeLimit=a.timeLimit},__class__:Lf};var cb=function(){};h["game.cookingGame.dishes.AnimationInitializer"]=cb;cb.__name__=["game","cookingGame","dishes","AnimationInitializer"];cb.prototype={initAnimations:function(){},
initAnimation:function(a,b,c,d,e){lb.createAnimation(a,b,c,d,e)},__class__:cb};var Cc=function(){this.cookingTimelapseImageIds=[];this.actions=[];this.index=this.minimumLevel=0};h["game.cookingGame.dishes.Dish"]=Cc;Cc.__name__=["game","cookingGame","dishes","Dish"];Cc.prototype={__class__:Cc};var Da=function(){this.completionDelayOffset=0.5;this.orderIconImageIds=[];this.props=[];this.showCookingPopupAtStart=this.showCookingPopupAtEnd=!1};h["game.cookingGame.dishes.DishAction"]=Da;Da.__name__=["game",
"cookingGame","dishes","DishAction"];Da.prototype={__class__:Da};var Tf=function(a){this._type=a};h["game.cookingGame.dishes.DishActionEvent"]=Tf;Tf.__name__=["game","cookingGame","dishes","DishActionEvent"];Tf.__super__=P;Tf.prototype=q(P.prototype,{__class__:Tf});var di=function(a){this._dishes=[];this._dishLoader=a;this.loadDishes()};h["game.cookingGame.dishes.DishManager"]=di;di.__name__=["game","cookingGame","dishes","DishManager"];di.prototype={get_dishes:function(){return this._dishes},loadDishes:function(){this._dishes=
this._dishLoader.getDishes();for(var a=0,b=this._dishes.length;a<b;){var c=a++;this._dishes[c].index=c}},removeDish:function(a){J.remove(this._dishes,a)},getDishByIndex:function(a){return this._dishes[a]},__class__:di,__properties__:{get_dishes:"get_dishes"}};var hi=function(){};h["game.cookingGame.dishes.DishResult"]=hi;hi.__name__=["game","cookingGame","dishes","DishResult"];hi.prototype={get_dishIndex:function(){return this._dishIndex},set_dishIndex:function(a){return this._dishIndex=a},get_dishRating:function(){return this._dishRating},
set_dishRating:function(a){return this._dishRating=a},__class__:hi,__properties__:{set_dishRating:"set_dishRating",get_dishRating:"get_dishRating",set_dishIndex:"set_dishIndex",get_dishIndex:"get_dishIndex"}};var ci=function(){};h["game.cookingGame.dishes.DishTracker"]=ci;ci.__name__=["game","cookingGame","dishes","DishTracker"];ci.prototype={get_selectedDish:function(){return this._selectedDish},set_selectedDish:function(a){return this._selectedDish=a},__class__:ci,__properties__:{set_selectedDish:"set_selectedDish",
get_selectedDish:"get_selectedDish"}};var ii=function(){};h["game.cookingGame.dishes.IDishLoader"]=ii;ii.__name__=["game","cookingGame","dishes","IDishLoader"];ii.prototype={__class__:ii};var Jf=function(){};h["game.cookingGame.dishes.HardCodedDishLoader"]=Jf;Jf.__name__=["game","cookingGame","dishes","HardCodedDishLoader"];Jf.__interfaces__=[ii];Jf.prototype={getDishes:function(){this._dishes=[];for(var a=[new Uf,new Vf,new Wf,new Xf,new Yf,new Zf],b=1,c=0;c<a.length;){var d=a[c];++c;this._dishes.push(d.create(b++))}return this._dishes},
__class__:Jf};var Dc=function(){};h["game.cookingGame.dishes.IDishCreator"]=Dc;Dc.__name__=["game","cookingGame","dishes","IDishCreator"];Dc.prototype={__class__:Dc};var kc=function(){this.shouldPlaceOnStage=!0};h["game.cookingGame.dishes.PlaceableItem"]=kc;kc.__name__=["game","cookingGame","dishes","PlaceableItem"];kc.prototype={instantiate:function(a){a=this.prototype.createAsChild(a);this.shouldPlaceOnStage&&a.setLocalPosition(this.position.x,this.position.y);a.getComponent(ga);var b=new $f(a);
null!=this.layeredResultPrototype&&b.set_toppingResult(this.layeredResultPrototype);return a},__class__:kc};var ag=function(){};h["game.cookingGame.dishes.dishCreators.BurgerDishAnimationInitializer"]=ag;ag.__name__=["game","cookingGame","dishes","dishCreators","BurgerDishAnimationInitializer"];ag.__super__=cb;ag.prototype=q(cb.prototype,{initAnimations:function(){this.initAnimation("burgerSteam","burgerSteamXml",new m(-105,-280),2,!0)},__class__:ag});var Zf=function(){};h["game.cookingGame.dishes.dishCreators.BurgerDishCreator"]=
Zf;Zf.__name__=["game","cookingGame","dishes","dishCreators","BurgerDishCreator"];Zf.__interfaces__=[Dc];Zf.prototype={create:function(a){var b=new Cc;b.iconId="foodIconBurger";b.nameId="DISH_BURGER";b.minimumLevel=a;b.cookingImageId="foodIconBurger";b.animationInitializer=new ag;b.finalImageId="burgerStill";a=new A;a.prototype=new I("pizzaBowl");a.position=new s(-625,390);var c=new A;c.prototype=new I("pizzaFlour");c.position=new s(-480,-110);var d=new A;d.prototype=new I("cheeseGrater");d.position=
new s(545,340);a=[a,c,d];c=new A;c.prototype=new I("cuttingBoard");c.position=new s(-150,80);d=new A;d.prototype=new Yc;d.position=new s(475,80);var e=new A;e.prototype=new td;e.position=new s(0,-200);var g=new Da,f=new A;f.prototype=new qe;f.position=new s(-150,0);var h=new A;h.prototype=new re;h.position=new s(-150,0);var k=new A;k.prototype=new bg;k.position=new s(-150,0);var n=new A;n.prototype=new ud;n.position=new s(0,0);g.props=[c,d,f,h,k,e,n];g.orderIconImageIds=["progressIconBurgerTomatoes",
"progressIconBurgerLettuce","progressIconBurgerCheese"];b.actions.push(g);c=new Da;d=new A;d.prototype=new I("cuttingBoard");d.position=new s(0,80);e=new A;e.prototype=new se([new F(new m(0,1),300),new F(new m(0,-1),300),new F(new m(0,1),300),new F(new m(0,-1),300),new F(new m(0,1),300)],new te,[new I("hamburgerMeatShape1"),new I("hamburgerMeatShape2"),new I("hamburgerMeatShape3"),new I("hamburgerMeatShape4"),new I("hamburgerMeatShape5"),new I("hamburgerMeatShape6")],["sfx_patty_roll_1","sfx_patty_roll_2",
"sfx_patty_roll_3"]);e.position=new s(0,60);c.props=[d,e].concat(a);b.actions.push(c);a=new Da;c=new A;c.prototype=new cg;c.position=new s(0,80);d=new A;d.prototype=new dg;d.position=new s(0,80);e=new A;e.prototype=new eg;e.position=new s(0,40);a.props=[c,d,e];a.completionDelayOffset=1.5;b.actions.push(a);a=new Da;c=new A;c.prototype=new I("cuttingBoard3");c.position=new s(380,150);d=new A;d.prototype=new Yc;d.position=new s(-240,130);e=new A;e.prototype=new fg;e.position=new s(-240,130);g=225;f=
-75;h=new A;h.prototype=new Ma("hamburgerBun2",new I("hamburgerBun2"),5);h.position=new s(g,f);g+=15;f+=60;k=new A;k.prototype=new Ma("hamburgerPickles",new I("hamburgerPickles"),4);k.position=new s(g,f);g+=15;f+=60;n=new A;n.prototype=new Ma("burgerTomato3",new I("burgerTomato3"),3);n.position=new s(g,f);var g=g+15,f=f+60,q=new A;q.prototype=new Ma("hamburgerCheese",new I("hamburgerCheese"),1);q.position=new s(g,f);var g=g+15,f=f+60,p=new A;p.prototype=new Ma("hamburgerLettuce",new I("hamburgerLettuce"),
2);p.position=new s(g,f);var g=g+15,f=f+60,t=new A;t.prototype=new Ma("hamburgerPatty3",new I("hamburgerPatty3"),0);t.position=new s(g,f);a.props=[c,d,e,h,k,n,q,p,t];a.orderIconImageIds="progressIconBurgerPatty progressIconBurgerCheese progressIconBurgerLettuce progressIconBurgerTomatoes progressIconBurgerPickles progressIconBurgerBun".split(" ");b.actions.push(a);return b},__class__:Zf};var gg=function(){};h["game.cookingGame.dishes.dishCreators.CookieDishAnimationInitializer"]=gg;gg.__name__=["game",
"cookingGame","dishes","dishCreators","CookieDishAnimationInitializer"];gg.__super__=cb;gg.prototype=q(cb.prototype,{initAnimations:function(){cb.prototype.initAnimations.call(this);this.initAnimation("cookieChocolateChipPour","cookieChocolateChipPourXml",new m(-53,-15),2,!1);this.initAnimation("cookieEggCrack","cookieEggCrackXml",new m(-103,-86),2,!1);this.initAnimation("cookieEggYolk","cookieEggYolkXml",new m(-103,-117),2,!1);this.initAnimation("cookieStirringSpoon","cookieStirringSpoonXml",new m(-239,
-248),3,!0)},__class__:gg});var Yf=function(){};h["game.cookingGame.dishes.dishCreators.CookieDishCreator"]=Yf;Yf.__name__=["game","cookingGame","dishes","dishCreators","CookieDishCreator"];Yf.__interfaces__=[Dc];Yf.prototype={create:function(a){var b=new Cc;b.iconId="foodIconCookies";b.nameId="DISH_COOKIES";b.minimumLevel=a;b.cookingImageId="foodIconCookies";b.cookingTimelapseImageIds=["cookiesSlide1"];b.animationInitializer=new gg;b.finalImageId="cookiesStill";a=new A;a.prototype=new I("pizzaBowl");
a.position=new s(-625,390);a=new A;a.prototype=new I("pizzaFlour");a.position=new s(-480,-110);a=new A;a.prototype=new I("cheeseGrater");a.position=new s(545,340);a=new A;a.prototype=new I("cookieBowl");a.position=new s(0,30);var c=new A,d=new Ma("pizzaFlour",new ue,0);d.set_returnWhenPlaced(!0);d.set_returnWhenPlacedDelay(2.5);c.prototype=d;c.position=new s(-300,-150);var d=new A,e=new Ma("cookieMilkCup1",new ve,1);e.set_returnWhenPlaced(!0);e.set_returnWhenPlacedDelay(2.5);e.set_draggableActivationDelay(2.8);
d.prototype=e;d.position=new s(300,-150);e=new A;e.prototype=new we(2);e.position=new s(400,50);var g=new A,f=new Ma("cookieChocolateChipBag1",new hg,3);f.set_returnWhenPlaced(!0);f.set_returnWhenPlacedDelay(2.5);f.set_draggableActivationDelay(1.8);g.prototype=f;g.position=new s(-400,50);f=new A;f.prototype=new I("cookieEggBowl");f.position=new s(-300,250);var h=new A,k=new Ma("cookieEgg",new xe,4);h.prototype=k;k.set_draggableActivationDelay(2.35);h.position=new s(-300,210);k=new A;k.prototype=new I("cookieWoodenSpoon");
k.position=new s(400,350);var n=new A,q=new ye(5);q.set_foregroundPrototype(new I("cookieBowlFront"));q.set_foregroundPrototypeOffset(new m(-2,64));n.prototype=q;n.position=new s(0,45);q=new Da;q.completionDelayOffset=2.5;q.orderIconImageIds=["progressIconCookieFlour","progressIconCookieMilk","progressIconCookieButter","progressIconCookieChocolate","progressIconCookieEgg"];q.props=[c,d,a,g,f,h,e,n,k];b.actions.push(q);a=new A;a.prototype=new ig;a.position=new s(0,45);c=new A;c.prototype=new I("pizzaFlour");
c.position=new s(-300,-150);d=new A;d.prototype=new I("cookieMilkCup1");d.position=new s(300,-150);e=new A;e.prototype=new I("cookieChocolateChipBag1");e.position=new s(-400,50);g=new A;g.prototype=new I("cookieEggBowl");g.position=new s(-300,250);f=new Da;f.props=[c,d,a,e,g];b.actions.push(f);a=new Da;c=new A;c.prototype=new I("pizzaFlour");c.position=new s(-600,-120);d=new A;d.prototype=new I("cookieChocolateChipBag1");d.position=new s(-550,50);e=new A;e.prototype=new I("cookieEggBowl");e.position=
new s(-630,240);g=new A;g.prototype=new I("cookieMilkCup1");g.position=new s(500,-180,0);f=new A;f.prototype=new I("cookieSmallPlate");f.position=new s(550,50,0);h=new A;h.prototype=new jg;h.position=new s(0,50,0);a.props=[c,d,e,g,f,h];a.showCookingPopupAtEnd=!0;b.actions.push(a);return b},__class__:Yf};var kg=function(){};h["game.cookingGame.dishes.dishCreators.CupcakeDishAnimationInitializer"]=kg;kg.__name__=["game","cookingGame","dishes","dishCreators","CupcakeDishAnimationInitializer"];kg.__super__=
cb;kg.prototype=q(cb.prototype,{initAnimations:function(){this.initAnimation("trayFill","trayFillXml",new m(-101,-75),3,!1);this.initAnimation("sprinkle1","sprinkle1Xml",new m(-143,-398),3,!1);this.initAnimation("sprinkle2","sprinkle2Xml",new m(-144,-415),3,!1);this.initAnimation("frosting","frostingXml",new m(-148,-212),3,!1);this.initAnimation("cookieEggCrack","cookieEggCrackXml",new m(-103,-86),2,!1);this.initAnimation("cookieEggYolk","cookieEggYolkXml",new m(-103,-117),2,!1);this.initAnimation("cookieStirringSpoon",
"cookieStirringSpoonXml",new m(-239,-248),3,!0)},__class__:kg});var Xf=function(){};h["game.cookingGame.dishes.dishCreators.CupcakesDishCreator"]=Xf;Xf.__name__=["game","cookingGame","dishes","dishCreators","CupcakesDishCreator"];Xf.__interfaces__=[Dc];Xf.prototype={create:function(a){var b=new Cc;b.iconId="foodIconCupcake";b.nameId="DISH_CUPCAKES";b.minimumLevel=a;b.cookingImageId="foodIconCupcake";b.cookingTimelapseImageIds=["cupcakesSlide1","cupcakesSlide2","cupcakesSlide3"];b.animationInitializer=
new kg;b.finalImageId="cupcakesStill";a=new A;a.prototype=new I("pizzaBowl");a.position=new s(-625,390);a=new A;a.prototype=new I("pizzaFlour");a.position=new s(-480,-110);a=new A;a.prototype=new I("cheeseGrater");a.position=new s(545,340);var c=new A;c.prototype=new I("cookieBowl");c.position=new s(0,30);var d=new A;a=new Ma("pizzaFlour",new ue,0);a.set_returnWhenPlaced(!0);a.set_returnWhenPlacedDelay(2.5);d.prototype=a;d.position=new s(-300,-150);a=new A;a.prototype=new I("cupcakeLiner2");a.position=
new s(-360,10);var e=new A;e.prototype=new I("sprinklePink1");e.position=new s(-360,110);var g=new A;g.prototype=new I("sprinkleBlue1");g.position=new s(-430,160);var f=new A;f.prototype=new I("frostingTube");f.position=new s(430,260);f.rotation=80;var h=new A,k=new Ma("cookieMilkCup1",new ve,1);k.set_draggableActivationDelay(2.8);k.set_returnWhenPlaced(!0);k.set_returnWhenPlacedDelay(2.5);h.prototype=k;h.position=new s(300,-150);k=new A;k.prototype=new we(2);k.position=new s(400,50);var n=new A;
n.prototype=new I("cookieEggBowl");n.position=new s(-300,250);var q=new A,p=new Ma("cookieEgg",new xe,3);p.set_draggableActivationDelay(1.75);q.prototype=p;q.position=new s(-300,210);p=new A;p.prototype=new I("cookieWoodenSpoon");p.position=new s(400,350);var t=new A,u=new ye(4);u.set_foregroundPrototype(new I("cookieBowlFront"));u.set_foregroundPrototypeOffset(new m(-2,64));t.prototype=u;t.position=new s(0,45);u=new Da;u.completionDelayOffset=2.5;u.orderIconImageIds=["progressIconCookieFlour","progressIconCookieMilk",
"progressIconCookieButter","progressIconCookieEgg"];u.props=[d,a,e,g,h,c,n,q,k,t,f,p];b.actions.push(u);c=new A;c.prototype=new lg;c.position=new s(0,45);d=new A;d.prototype=new I("pizzaFlour");d.position=new s(-300,-150);f=new A;f.prototype=new I("cookieMilkCup1");f.position=new s(300,-150);h=new A;h.prototype=new I("cookieChocolateChipBag1");h.position=new s(-400,50);h=new A;h.prototype=new I("cookieEggBowl");h.position=new s(-320,250);k=new Da;k.props=[d,a,e,g,f,c,h];b.actions.push(k);d=new Da;
f=new A;f.prototype=new mg;f.position=new s(0,65);h=new A;h.prototype=new I("sprinklePink1");h.position=new s(-450,10);k=new A;k.prototype=new I("sprinkleBlue1");k.position=new s(-510,60);a=new A;a.prototype=new I("cupcakeLiner2");a.position=new s(-430,-90);e=new A;e.prototype=new I("cookieEggBowl");e.position=new s(-550,250);g=new A;g.prototype=new I("cookieSmallPlate");g.position=new s(580,75);n=new A;n.prototype=new I("frostingTube");n.position=new s(550,320);n.rotation=80;c=new A;c.prototype=
new I("cookieMilkCup1");c.position=new s(500,-150);d.props=[f,a,h,k,n,c,e,g];new Da;b.actions.push(d);d=new Da;d.showCookingPopupAtStart=!0;f=new A;f.prototype=new ng;f.position=new s(0,65);h=new A;k=new Ma("frostingTube",new lc("frosting"),0,"sfx_add_frosting_1");h.prototype=k;h.position=new s(310,220);h.rotation=80;k=new A;n=new Ma("sprinkleBlue1",new lc("sprinkle1"),1);k.prototype=n;k.position=new s(-330,160);n=new A;q=new Ma("sprinklePink1",new lc("sprinkle2"),2);n.prototype=q;n.position=new s(-220,
110);q=new A;p=new I("cupcakeStrawberry");p=new Ma("cupcakeStrawberry",p,3);p.get_offset().x=0;p.get_offset().y=-165;q.prototype=p;q.position=new s(315,80);d.props=[f,a,n,k,q,c,e,g,h];d.orderIconImageIds=["progressIconCupcakeFrosting","progressIconCupcakeBlue","progressIconCupcakeRed","progressIconCupcakeStrawberry"];b.actions.push(d);return b},__class__:Xf};var og=function(){};h["game.cookingGame.dishes.dishCreators.PizzaAnimationInitializer"]=og;og.__name__=["game","cookingGame","dishes","dishCreators",
"PizzaAnimationInitializer"];og.__super__=cb;og.prototype=q(cb.prototype,{initAnimations:function(){cb.prototype.initAnimations.call(this);this.initAnimation("pizzaSaucePour","pizzaSaucePourXml",new m(-182.5,-200),3,!1);this.initAnimation("pizzaSauceSpreading","pizzaSauceSpreadingXml",new m(-182.5,-200),3,!1);this.initAnimation("pizzaCheeseGrated","pizzaCheeseGratedXml",new m(-123,-249),3,!1);this.initAnimation("pizzaCheesePlacing","pizzaCheesePlacingXml",new m(-290,-216),3,!1);this.initAnimation("bellPepperPlacing",
"bellPepperPlacingXml",new m(-285,-356),2,!1);this.initAnimation("mushroomPlacing","mushroomPlacingXml",new m(-259,-337),2,!1);this.initAnimation("blackOlivesPlacing","blackOlivesPlacingXml",new m(-254,-330),2,!1)},__class__:og});var Wf=function(){};h["game.cookingGame.dishes.dishCreators.PizzaDishCreator"]=Wf;Wf.__name__=["game","cookingGame","dishes","dishCreators","PizzaDishCreator"];Wf.__interfaces__=[Dc];Wf.prototype={create:function(a){var b=new Cc;b.iconId="foodIconPizza";b.nameId="DISH_PIZZA";
b.minimumLevel=a;b.cookingImageId="cookingPizzaPhoto";b.cookingTimelapseImageIds=["pizzaSlide1","pizzaSlide2","pizzaSlide3"];b.animationInitializer=new og;b.finalImageId="pizzaStill";a=new A;a.prototype=new I("pizzaBowl");a.position=new s(-625,390);var c=new A;c.prototype=new I("pizzaFlour");c.position=new s(-480,-110);var d=new A;d.prototype=new I("cheeseGrater");d.position=new s(545,340);var d=[a,c,d],e=new Da,g=new A;g.position=new s(0,150);g.prototype=new pg(0,1,new s(0,-100),new s(0,275));var f=
new A;f.prototype=new se([new F(new m(0,1),300),new F(new m(0,-1),300),new F(new m(0,1),300),new F(new m(0,-1),300),new F(new m(0,1),300),new F(new m(0,-1),300)],new te,[new I("pizzaDough1"),new I("pizzaDough2"),new I("pizzaDough3"),new I("pizzaDough4")],["sfx_rolling_pin_1"]);f.position=new s(0,100);e.props=[f,g].concat(d);b.actions.push(e);e=new Da;g=new A;g.prototype=new qg;g.position=new s(0,100);f=new A;f.prototype=new rg;f.position=new s(400,-100);var h=new A;h.prototype=new sg(0.5,1,180);h.position=
new s(0,215);e.props=[g,f,h].concat(d);b.actions.push(e);d=new Da;e=new A;e.prototype=new tg;g=new A;g.prototype=new ug;g.position=new s(350,0);f=new A;f.prototype=new vg;f.position=new s(0,-180);d.props=[c,e,f,g,a];b.actions.push(d);a=new Da;c=new A;c.prototype=new wg;c.position=new s(-100,100);d=new kc;d.prototype=new I("pizzaMushroomsPile");d.position=new s(375,-100);d.layeredResultPrototype=new lc("mushroomPlacing");d.hintImageId="pizzaMushroomHint";d.shouldPlaceOnStage=!1;e=new kc;e.prototype=
new I("pizzaPepperoniPile");e.position=new s(325,25);e.layeredResultPrototype=new xg;e.hintImageId="pizzaPepperoniHint";e.shouldPlaceOnStage=!1;g=new kc;g.prototype=new I("pizzaBlackOlivesPile");g.position=new s(325,150);g.layeredResultPrototype=new lc("blackOlivesPlacing");g.hintImageId="pizzaOlivesHint";g.shouldPlaceOnStage=!1;f=new kc;f.prototype=new I("pizzaPeppersPile");f.position=new s(325,275);f.layeredResultPrototype=new lc("bellPepperPlacing");f.hintImageId="pizzaBellPeppersHint";f.shouldPlaceOnStage=
!1;d=[f,d,e,g];a.orderIconImageIds=["progressIconPizzaMushrooms","progressIconPizzaOlives","progressIconPizzaPepperoni","progressIconPizzaBellPeppers"];e=new A;e.prototype=new yg(d);e.position=new s(380,80);a.props=[c,e];b.actions.push(a);a=new Da;a.showCookingPopupAtStart=!0;c=new A;c.position=new s(0,100);c.prototype=new zg;a.props=[c];b.actions.push(a);return b},__class__:Wf};var Ag=function(){};h["game.cookingGame.dishes.dishCreators.SaladDishAnimationInitializer"]=Ag;Ag.__name__=["game","cookingGame",
"dishes","dishCreators","SaladDishAnimationInitializer"];Ag.__super__=cb;Ag.prototype=q(cb.prototype,{initAnimations:function(){this.initAnimation("dressingPour","dressingPourXml",new m(-181,-323),3,!1);this.initAnimation("pizzaCheeseGrated","pizzaCheeseGratedXml",new m(-123,-249),3,!1);this.initAnimation("pizzaCheesePlacing","pizzaCheesePlacingXml",new m(-290,-216),3,!1)},__class__:Ag});var Vf=function(){};h["game.cookingGame.dishes.dishCreators.SaladDishCreator"]=Vf;Vf.__name__=["game","cookingGame",
"dishes","dishCreators","SaladDishCreator"];Vf.__interfaces__=[Dc];Vf.prototype={create:function(a){var b=new Cc;b.iconId="foodIconSalad";b.nameId="DISH_SALAD";b.minimumLevel=a;b.cookingImageId="foodIconSalad";b.animationInitializer=new Ag;b.finalImageId="saladStill";a=[];var c=new A;c.prototype=new I("cuttingBoard");c.position=new s(-150,80);var d=new A;d.prototype=new Yc;d.position=new s(475,80);var e=new A;e.prototype=new td;e.position=new s(0,-200);var g=new Da,f=new A;f.prototype=new qe;f.position=
new s(-150,0);var h=new A;h.prototype=new re;h.position=new s(-150,0);var k=new A;k.prototype=new Bg;k.position=new s(-150,0);var m=new A;m.prototype=new Cg;m.position=new s(-150,0);var n=new A;n.prototype=new ud;n.position=new s(0,0);g.orderIconImageIds=["progressIconSaladTomato","progressIconSaladLettuce","progressIconSaladCucumber","progressIconSaladOnion"];g.props=[c,d,f,h,k,m,e,n];b.actions.push(g);c=new Da;d=new A;d.prototype=new I("saladSalad4");e=new A;e.prototype=new Dg;e.position=new s(-50,
280);g=new A;g.prototype=new Eg;g.position=new s(0,-180);c.props=[d,g,e];b.actions.push(c);c=new Da;c.completionDelayOffset=1.25;d=new A;d.prototype=new Fg;d.position=new s(0,100);e=new A;e.prototype=new Ma("saladDressing1",new Gg);e.position=new s(400,-100);c.props=[d,e].concat(a);b.actions.push(c);c=new Da;d=new A;d.prototype=new Hg;d.position=new s(0,100);c.props=[d].concat(a);b.actions.push(c);return b},__class__:Vf};var Ig=function(){};h["game.cookingGame.dishes.dishCreators.SmoothieDishAnimationInitializer"]=
Ig;Ig.__name__=["game","cookingGame","dishes","dishCreators","SmoothieDishAnimationInitializer"];Ig.__super__=cb;Ig.prototype=q(cb.prototype,{initAnimations:function(){cb.prototype.initAnimations.call(this);this.initAnimation("smoothieBlend","smoothieBlendXml",new m(-137,-369),3,!0);this.initAnimation("smoothieCupFill","smoothieCupFillXml",new m(-132,-393),3,!1)},__class__:Ig});var Uf=function(){};h["game.cookingGame.dishes.dishCreators.SmoothieDishCreator"]=Uf;Uf.__name__=["game","cookingGame","dishes",
"dishCreators","SmoothieDishCreator"];Uf.__interfaces__=[Dc];Uf.prototype={create:function(a){var b=new Cc;b.iconId="foodIconShake";b.nameId="DISH_SMOOTHIE";b.minimumLevel=a;b.cookingImageId="foodIconShake";b.animationInitializer=new Ig;b.finalImageId="smoothieStill";a=new A;a.prototype=new I("cuttingBoard");a.position=new s(-150,80);var c=new A;c.prototype=new Yc;c.position=new s(475,80);var d=new A;d.prototype=new td;d.position=new s(0,-200);var e=new Da,f=new A;f.prototype=new Jg;f.position=new s(-150,
0);var h=new A;h.prototype=new Kg;h.position=new s(-150,0);var m=new A;m.prototype=new Lg;m.position=new s(-150,0);var k=new A;k.prototype=new ud;k.position=new s(0,0);e.props=[a,c,f,h,m,d,k];e.orderIconImageIds=["progressIconSmoothieApple","progressIconSmoothieBanana","progressIconSmoothieStrawberry"];b.actions.push(e);a=new Da;a.orderIconImageIds=["progressIconSmoothieApple","progressIconSmoothieBanana","progressIconSmoothieStrawberry"];c=new A;c.prototype=new Mg;c.position=new s(0,90);d=new kc;
d.prototype=new I("smoothieBlenderStrawberry");d.position=new s(375,-100);d.layeredResultPrototype=new I("smoothieBlenderStrawberry");d.hintImageId="pizzaMushroomHint";d.shouldPlaceOnStage=!1;e=new kc;e.prototype=new I("smoothieBlenderBanana");e.position=new s(325,25);e.layeredResultPrototype=new I("smoothieBlenderBanana");e.hintImageId="pizzaPepperoniHint";e.shouldPlaceOnStage=!1;f=new kc;f.prototype=new I("smoothieBlenderApples");f.position=new s(325,150);f.layeredResultPrototype=new I("smoothieBlenderApples");
f.hintImageId="pizzaOlivesHint";f.shouldPlaceOnStage=!1;d=[d,e,f];e=new A;e.prototype=new I("smoothieBlenderCap");e.position=new s(-325,-50);f=new A;f.prototype=new Ng(d);f.position=new s(380,80);a.props=[c,e,f];b.actions.push(a);a=new Da;c=new A;c.prototype=new Og;c.position=new s(20,-35);a.props=[c];b.actions.push(a);a=new Da;c=new A;c.prototype=new Pg;c.position=new s(-200,90);d=new A;d.prototype=new I("blenderBottomBase");d.position=new s(180,190);e=new A;f=new Ma("blenderTopFull",new Qg);f.set_returnWhenPlaced(!0);
f.set_returnWhenPlacedDelay(1);f.set_changeSpriteWhenReturned("blenderTopEmpty");e.prototype=f;e.position=new s(220,-50);a.completionDelayOffset=1.25;a.props=[c,d,e];b.actions.push(a);return b},__class__:Uf};var ji=function(){};h["game.cookingGame.minigames.IMinigame"]=ji;ji.__name__=["game","cookingGame","minigames","IMinigame"];ji.prototype={__class__:ji};var Ec=function(a){this._timeElapsed=0;n.call(this,a)};h["game.cookingGame.minigames.Minigame"]=Ec;Ec.__name__=["game","cookingGame","minigames",
"Minigame"];Ec.__interfaces__=[ji];Ec.__super__=n;Ec.prototype=q(n.prototype,{construct:function(){},startGameplay:function(){},updateGameplay:function(){this._timeElapsed+=p.getDeltaTime()},endGameplay:function(){var a=this.calculateResults();this.dispatchEvent(new Zc("complete",a))},calculateResults:function(){var a=new ki;a.timeToComplete=this._timeElapsed;return a},__class__:Ec});var yb=function(a,b){this._hasTimeElapsed=!1;this._timeLimit=10;this._endOnTimeOver=this.pauseTimer=!1;Ec.call(this,
a);this._config=b;this._timeLimit=b.timeLimit};h["game.cookingGame.minigames.TimedMinigame"]=yb;yb.__name__=["game","cookingGame","minigames","TimedMinigame"];yb.__super__=Ec;yb.prototype=q(Ec.prototype,{get_timeLimit:function(){return this._timeLimit},set_timeLimit:function(a){return this._timeLimit=a},get_timeLeft:function(){return this._timeLimit-this._timeElapsed},set_timeLeft:function(a){return this._timeElapsed=this._timeLimit-a},updateGameplay:function(){if(!this.pauseTimer&&(Ec.prototype.updateGameplay.call(this),
!this._hasTimeElapsed&&this._timeElapsed>=this._timeLimit))this.onReachTimeLimit()},onReachTimeLimit:function(){this._hasTimeElapsed=!0;this._endOnTimeOver&&this.endGameplay()},__class__:yb,__properties__:{set_timeLeft:"set_timeLeft",get_timeLeft:"get_timeLeft",set_timeLimit:"set_timeLimit",get_timeLimit:"get_timeLimit"}});var Of=function(a,b,c,d){this._prevPercentageComplete=0;this._itemsToComplete=[];this._props=[];this._dishProps=[];yb.call(this,a,d);this._config=d;this._dishAction=c;this._uiPanel=
Ja.createFullscreenUiPanel(this.getGameState());a=new pd(this._uiPanel);this._background=a.createBackground();a=a.createCountertop();new Va(a,this._background);new nb(this.addEntity());this._cookingGameController=b;this._contentRoot=this.createContentRoot(this._uiPanel);this._cookingStage=new Rg(this._contentRoot,this._cookingGameController.get_tutorialEnabled());this._cookingStage.addEventListener("addEntity",B(this,this.onCookingStageAddEntity));this.instantiateUi(this._uiPanel);this.initAnimations()};
h["game.cookingGame.minigames.CookingMinigame"]=Of;Of.__name__=["game","cookingGame","minigames","CookingMinigame"];Of.__super__=yb;Of.prototype=q(yb.prototype,{get_percentageComplete:function(){var a=0,b=this._itemsToComplete.length;if(0==b)return 0;for(var c=0;c<b;)var d=c++,a=a+this._itemsToComplete[d].get_cookingProgressPercent();return a/b},get_cookingStage:function(){return this._cookingStage},get_dishAction:function(){return this._dishAction},instantiateUi:function(a){this.getGameState().sendEntityToBack(this._uiPanel.getEntity());
a=new pd(this._uiPanel);this._timer=a.createTimer(this);this._progressBar=a.createProgressBar(this);a.createPauseButton(B(this,this.onPauseButtonClick))},hideHud:function(){this._timer.setVisible(!1);this._progressBar.setVisible(!1)},initAnimations:function(){lb.createAnimation("sparkle","sparkleXml",new m(-307.5,-231.75),1,!1);lb.createAnimation("finishAnimation","finishAnimationXml",new m(-490,-449),2,!0)},onPauseButtonClick:function(){this.dispatchEvent(new pe("pause"))},init:function(){yb.prototype.init.call(this);
this.pauseTimer=!0},createContentRoot:function(a){var b=a.addEntity();(new R(b,a)).update();new Ua(b,new m(1024,768));new Va(b,this._background,0.6);return b},startGameplay:function(){yb.prototype.startGameplay.call(this);var a=this.addEntity();new R(a,this._uiPanel);(new vd(a)).set_onComplete(B(this,this.onCountdownComplete));Ha.getInstance().setInputDisabled(!0);this.createProps(this._dishAction,this._cookingStage)},onCountdownComplete:function(){this.pauseTimer=!1;Ha.getInstance().setInputDisabled(!1);
this.startMinigame()},startMinigame:function(){this.dispatchEvent(new ze("propsPlaced"));this._cookingStage.activateNextOrderedDraggableIfExists()},createProps:function(a,b){for(var c=0,d=a.props.length;c<d;){var e=c++,e=a.props[e],f=e.prototype.create(this.getGameState());f.setLocalPosition(e.position.x,e.position.y);f.setLocalScale(e.scale,e.scale);f.setLocalRotation2d(e.rotation);b.addEntityToStage(f)}},onCookingStageAddEntity:function(a){a=a.get_entity();this.registerEntityAsProp(a);a=a.getComponentsInChildren($b);
this._itemsToComplete=this._itemsToComplete.concat(a)},registerEntityAsProp:function(a){this._props.push(a);a=a.getComponentsInChildren(y);for(var b=0;b<a.length;){var c=a[b];++b;this._dishProps.push(c)}},onCookingProgressComplete:function(){this.dispatchEvent(new Zc("win",null));this.endGameplay()},endGameplay:function(){yb.prototype.endGameplay.call(this);this._cookingGameController.set_tutorialEnabled(!1);this.pauseTimer=!0},updateGameplay:function(){yb.prototype.updateGameplay.call(this);if(this.get_percentageComplete()>
this._prevPercentageComplete)for(var a=0,b=this._dishProps;a<b.length;){var c=b[a];++a;c.onProgressChange(this._prevPercentageComplete,this.get_percentageComplete())}if(1>this._prevPercentageComplete&&1<=this.get_percentageComplete())this.onCookingProgressComplete();this._prevPercentageComplete=this.get_percentageComplete()},calculateResults:function(){var a=yb.prototype.calculateResults.call(this);a.timeToComplete=this._timeElapsed;return a},destroy:function(){yb.prototype.destroy.call(this);null!=
this._uiPanel&&this._uiPanel.getEntity().destroy()},__class__:Of,__properties__:q(yb.prototype.__properties__,{get_dishAction:"get_dishAction",get_cookingStage:"get_cookingStage",get_percentageComplete:"get_percentageComplete"})});var ze=function(a){this._type=a};h["game.cookingGame.minigames.CookingMinigameEvent"]=ze;ze.__name__=["game","cookingGame","minigames","CookingMinigameEvent"];ze.__super__=P;ze.prototype=q(P.prototype,{__class__:ze});var pd=function(a){this._uiPanel=a};h["game.cookingGame.minigames.CookingMinigameUiFactory"]=
pd;pd.__name__=["game","cookingGame","minigames","CookingMinigameUiFactory"];pd.prototype={createProgressBar:function(a){var b=this._uiPanel.addEntity(),c=new R(b,this._uiPanel);c.setCoords(new m(0,-0.8));c.setAlignment(wa.Center,xa.Bottom);(new t(b,"cookingProgressBase")).setAnchor(0.5,0.5);var c=b.addEntity(),d=new yf(c,"cookingProgressFill",497,43,21,5,21,5);new Ae(c,a,d,497);new $c(b,a,this);return b},createTimer:function(a){var b=this._uiPanel.addEntity();(new t(b,"clockBase")).setAnchor(0.5,
0.5);var c=new R(b,this._uiPanel);c.setCoords(new m(-0.95,-0.95));c.setAlignment(wa.Left,xa.Top);c=b.addEntity();c=new t(c,"timeElapsed");c.setAnchor(0.5,0.5);var d=b.addEntity();(new t(d,"clockHand")).setAnchor(0.5,0.5);new Be(b,d,c,a);return b},createCookingTimer:function(){var a=this._uiPanel.addEntity();(new t(a,"timerBaseLarge")).setAnchor(0.5,0.5);var b=new R(a,this._uiPanel);b.setCoords(new m(-0.95,-0.95));b.setAlignment(wa.Left,xa.Top);b=a.addEntity();b=new t(b,"timeElapsedLarge");b.setAnchor(0.5,
0.5);var c=a.addEntity();(new t(c,"timerHandLarge")).setAnchor(0.5,0.5);new qd(a,c,b);return a},createBackground:function(){var a=this._uiPanel.addEntity();(new t(a,"kitchenBackground")).setAnchor(0.5,0.707);new R(a,this._uiPanel);new Ua(a);return a},createCountertop:function(){var a=this._uiPanel.addEntity();(new t(a,"kitchenCountertop")).setAnchor(0.5,0.5);var b=new R(a,this._uiPanel);b.setCoords(new m(0,1));b.setAlignment(wa.Center,xa.Bottom);return a},createPauseButton:function(a){var b=new La;
b.defaultImageName="pauseButton";b.x=0.95;b.y=-0.95;b.horizontalAlignment=wa.Right;b.verticalAlignment=xa.Top;b.deactivateButtonOnClick=!1;b.clickSoundId="sfx_back_1";return Ba.createButton(b,this._uiPanel.getEntity(),a)},__class__:pd};var Rg=function(a,b){this._tutorial=!1;this._currentOrderedDraggable=-1;this._props=[];this._eventListeners=[];this._tutorial=b;this._container=a;this._ingredientsRoot=this._container.addEntity();this._uiRoot=this._container.addEntity()};h["game.cookingGame.minigames.CookingStage"]=
Rg;Rg.__name__=["game","cookingGame","minigames","CookingStage"];Rg.__super__=Za;Rg.prototype=q(Za.prototype,{get_tutorial:function(){return this._tutorial},get_draggingEntity:function(){return this._draggingEntity},get_uiRoot:function(){return this._uiRoot},get_ingredientsRoot:function(){return this._ingredientsRoot},addEntityToStage:function(a){this._ingredientsRoot.addChild(a);this.registerEntityAsProp(a)},registerEntityAsProp:function(a){for(var b=a.getComponentsInChildren(y),c=0;c<b.length;){var d=
b[c];++c;null!=d&&(d.set_cookingStage(this),this._props.push(d));this.dispatchEvent(new Ce("addEntity",a));d.addEventListener("complete",B(this,this.onDishPropComplete))}a=a.getComponentsInChildren(qb);for(b=0;b<a.length;)c=a[b],++b,null!=c&&(c.addEventListener("startDragging",B(this,this.onStartDragging)),c.addEventListener("stopDragging",B(this,this.onStopDragging)))},onDishPropComplete:function(a){this.dispatchEvent(a)},onStartDragging:function(a){this._draggingEntity=a.target.getEntity();this._prevDraggableIndex=
this._draggingEntity.getParent().getChildren().indexOf(this._draggingEntity);this._uiRoot.addChild(this._draggingEntity)},onStopDragging:function(a){this._ingredientsRoot.insertChild(this._draggingEntity,this._prevDraggableIndex-1);this._draggingEntity=null},findComponent:function(a){return this._container.getComponentsInChildren(a)[0]},activateNextOrderedDraggableIfExists:function(){this._currentOrderedDraggable++;this.dispatchEvent(new De("change",this._currentOrderedDraggable));var a=this._ingredientsRoot.getComponentsInChildren(zb);
if(!(this._currentOrderedDraggable>a.length)){for(var b=null,c=0;c<a.length;){var d=a[c];++c;d.get_order()==this._currentOrderedDraggable&&(b=d)}if(null!=b)for(b.onCurrentStepMatchesThisItemOrder(),J.remove(a,b),b.set_onComplete(B(this,this.onOrderedItemComplete)),b=0;b<a.length;)c=a[b],++b,c.onCurrentStepNoLongerMatchesThisItemOrder()}},onOrderedItemComplete:function(a){console.log(a);a.onCurrentStepNoLongerMatchesThisItemOrder();this.activateNextOrderedDraggableIfExists()},onDraggableDropSuccess:function(a){a=
a.getComponent(Fc);null!=a&&a.deactivateDraggable();this.activateNextOrderedDraggableIfExists()},clear:function(){for(;0<this.get_ingredientsRoot().getChildren().length;)this.get_ingredientsRoot().getChildren()[0].destroy();this._props=[]},__class__:Rg,__properties__:{get_ingredientsRoot:"get_ingredientsRoot",get_uiRoot:"get_uiRoot",get_draggingEntity:"get_draggingEntity",get_tutorial:"get_tutorial"}});var Ce=function(a,b){this._type=a;this._entity=b};h["game.cookingGame.minigames.CookingStageAddEntityEvent"]=
Ce;Ce.__name__=["game","cookingGame","minigames","CookingStageAddEntityEvent"];Ce.__super__=P;Ce.prototype=q(P.prototype,{get_entity:function(){return this._entity},__class__:Ce,__properties__:{get_entity:"get_entity"}});var qd=function(a,b,c){this._percentage=0;n.call(this,a);this._pointer=b;this._elapsedTimeSprite=c;this._fillMask=new PIXI.Graphics;c.getSprite().mask=this._fillMask;c.getSprite().addChild(this._fillMask)};h["game.cookingGame.minigames.CookingTimer"]=qd;qd.__name__=["game","cookingGame",
"minigames","CookingTimer"];qd.__super__=n;qd.prototype=q(n.prototype,{get_percentage:function(){return this._percentage},set_percentage:function(a){return this._percentage=a},update:function(){n.prototype.update.call(this);var a=this._percentage;0>=a&&(a=0);var b=Math.PI*(1-2*(1-a));this._fillMask.clear();this._fillMask.beginFill();this._fillMask.moveTo(0,0);this._fillMask.lineTo(800*Math.sin(b),800*Math.cos(b));0<=b&&(this._fillMask.lineTo(800*Math.sin(0.5*b),800*Math.cos(0.2*-b)),this._fillMask.lineTo(800*
Math.sin(0.5*-b),800*Math.cos(0.5*-b)),this._fillMask.lineTo(800*Math.sin(-b),800*Math.cos(-b)));b>-0.9*Math.PI&&(this._fillMask.lineTo(800*Math.sin(0.5*(-Math.PI+b)),800*Math.cos(0.5*(-Math.PI+b))),this._fillMask.lineTo(800*Math.sin(-Math.PI+b),800*Math.cos(-Math.PI+b)));this._fillMask.lineTo(0,-800);this._fillMask.endFill();a*=360;360<a&&(a=360);this._pointer.setRotation2d(-a)},__class__:qd,__properties__:{set_percentage:"set_percentage",get_percentage:"get_percentage"}});var Zb=function(a,b){n.call(this,
a);this.rollNextFirework();this._cookingGameController=b};h["game.cookingGame.minigames.FireworkSpawner"]=Zb;Zb.__name__=["game","cookingGame","minigames","FireworkSpawner"];Zb.__super__=n;Zb.prototype=q(n.prototype,{rollNextFirework:function(){this._timeUntilFirework=X.randomFloat(0.1,0.4)},update:function(){n.prototype.update.call(this);this._timeUntilFirework-=p.getDeltaTime();if(0>=this._timeUntilFirework)this.onFireworkTimeElapse()},onFireworkTimeElapse:function(){var a=this._cookingGameController.createSparkle(this.getEntity()),
b=X.randomFloat(-512,512),c=X.randomFloat(-384,384);a.setLocalPosition(b,c);b=X.randomFloat(0.5,0.75);a.setLocalScale(b,b);this.rollNextFirework()},__class__:Zb});var Sg=function(){this.timeLimit=10};h["game.cookingGame.minigames.TimedMinigameConfig"]=Sg;Sg.__name__=["game","cookingGame","minigames","TimedMinigameConfig"];Sg.prototype={__class__:Sg};var Mf=function(){this.timeLimit=10};h["game.cookingGame.minigames.GestureMinigameConfig"]=Mf;Mf.__name__=["game","cookingGame","minigames","GestureMinigameConfig"];
Mf.__super__=Sg;Mf.prototype=q(Sg.prototype,{__class__:Mf});var ad=function(a,b,c){n.call(this,a);this._holdToCompleteProp=c;this._scaleTransform=b};h["game.cookingGame.minigames.HoldToCompleteIndicator"]=ad;ad.__name__=["game","cookingGame","minigames","HoldToCompleteIndicator"];ad.__super__=n;ad.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this)},update:function(){n.prototype.update.call(this);if(1>this._holdToCompleteProp.get_cookingProgressPercent())if(this._holdToCompleteProp.get_isHolding()){var a=
X.lerp(2,0.6,this._holdToCompleteProp.get_cookingProgressPercent());this._scaleTransform.setLocalScale(a,a)}else this._scaleTransform.setLocalScale(1,1);else this.getEntity().setVisible(!1)},__class__:ad});var Zc=function(a,b){this._type=a;this._minigameResults=b};h["game.cookingGame.minigames.MinigameCompleteEvent"]=Zc;Zc.__name__=["game","cookingGame","minigames","MinigameCompleteEvent"];Zc.__super__=P;Zc.prototype=q(P.prototype,{get_minigameResults:function(){return this._minigameResults},__class__:Zc,
__properties__:{get_minigameResults:"get_minigameResults"}});var Pf=function(a,b){n.call(this,a);this._minigame=b;this._minigame.addEventListener("complete",B(this,this.onMinigameComplete))};h["game.cookingGame.minigames.MinigameContainer"]=Pf;Pf.__name__=["game","cookingGame","minigames","MinigameContainer"];Pf.__super__=n;Pf.prototype=q(n.prototype,{onMinigameComplete:function(a){this.dispatchEvent(a)},init:function(){n.prototype.init.call(this)},update:function(){n.prototype.update.call(this);
this._minigame.updateGameplay()},__class__:Pf});var ki=function(){this.timeToComplete=0};h["game.cookingGame.minigames.MinigameResults"]=ki;ki.__name__=["game","cookingGame","minigames","MinigameResults"];ki.prototype={__class__:ki};var Be=function(a,b,c,d){this._percentage=0;n.call(this,a);this._pointer=b;this._elapsedTimeSprite=c;this._timedMinigame=d;this._fillMask=new PIXI.Graphics;c.getSprite().mask=this._fillMask;c.getSprite().addChild(this._fillMask);this._audioSource=new ab(a);this._audioSource.setIs2d(!0);
this._audioSource.play("sfx_clock_tick_1",!0)};h["game.cookingGame.minigames.MinigameTimer"]=Be;Be.__name__=["game","cookingGame","minigames","MinigameTimer"];Be.__super__=n;Be.prototype=q(n.prototype,{get_percentage:function(){return this._percentage},set_percentage:function(a){return this._percentage=a},update:function(){n.prototype.update.call(this);this._audioSource.setVolumePercent(this._timedMinigame.pauseTimer?0:1);var a=0,a=null!=this._timedMinigame?this._timedMinigame.get_timeLeft()/this._timedMinigame.get_timeLimit():
this._percentage;0>=a&&(a=0);var b=1-a,c=Math.PI*(1-2*b);this._fillMask.beginFill();this._fillMask.moveTo(0,0);this._fillMask.lineTo(0,-800);0.5<b&&(this._fillMask.lineTo(800*Math.sin(0.9*(Math.PI-c)),800*Math.cos(0.9*(Math.PI-c))),this._fillMask.lineTo(800*Math.sin(0.6*(Math.PI-c)),800*Math.cos(0.5*(Math.PI-c))),this._fillMask.lineTo(800*Math.sin(0.3*(Math.PI-c)),800*Math.cos(0.2*(Math.PI-c))),this._fillMask.lineTo(800*Math.sin(0.1*(Math.PI-c)),800*Math.cos(0.1*(Math.PI-c))));this._fillMask.lineTo(800*
Math.sin(c),800*Math.cos(c));this._fillMask.endFill();a*=360;360<a&&(a=360);this._pointer.setRotation2d(-a)},__class__:Be,__properties__:{set_percentage:"set_percentage",get_percentage:"get_percentage"}});var De=function(a,b){this._type=a;this._index=b};h["game.cookingGame.minigames.OrderedDraggableIndexChangeEvent"]=De;De.__name__=["game","cookingGame","minigames","OrderedDraggableIndexChangeEvent"];De.__super__=P;De.prototype=q(P.prototype,{get_index:function(){return this._index},set_index:function(a){return this._index=
a},__class__:De,__properties__:{get_index:"get_index"}});var fi=function(a,b){this._minigameResults=[];this._config=a;this._dishIndex=b};h["game.cookingGame.minigames.ScoreController"]=fi;fi.__name__=["game","cookingGame","minigames","ScoreController"];fi.prototype={get_timeElapsed:function(){for(var a=0,b=0,c=this._minigameResults.length;b<c;)var d=b++,a=a+this._minigameResults[d].timeToComplete;return a},get_prevTimeElapsed:function(){for(var a=0,b=0,c=this._minigameResults.length-1;b<c;)var d=
b++,a=a+this._minigameResults[d].timeToComplete;return a},get_starRating:function(){for(var a=this._config.scoreRatingTiers[this._dishIndex],b=a.length,c=0;c<b;){var d=c++,e=a[d];if(this.get_timeElapsed()<=e)return b+1-d}return 1},addMinigameResults:function(a){this._minigameResults.push(a)},reset:function(){this._minigameResults=[]},__class__:fi,__properties__:{get_starRating:"get_starRating",get_prevTimeElapsed:"get_prevTimeElapsed",get_timeElapsed:"get_timeElapsed"}};var $f=function(a){n.call(this,
a)};h["game.cookingGame.minigames.dishActionStep.PlaceableItemController"]=$f;$f.__name__=["game","cookingGame","minigames","dishActionStep","PlaceableItemController"];$f.__super__=n;$f.prototype=q(n.prototype,{get_toppingResult:function(){return this._toppingResult},set_toppingResult:function(a){return this._toppingResult=a},init:function(){n.prototype.init.call(this);this._originalPosition=this.getEntity().getPosition()},returnToOriginalPosition:function(){this.getEntity().setPosition(this._originalPosition.x,
this._originalPosition.y)},__class__:$f,__properties__:{set_toppingResult:"set_toppingResult",get_toppingResult:"get_toppingResult"}});var A=function(){this.rotation=0;this.scale=1;this.position=new s(0,100)};h["game.cookingGame.minigames.dishActionStep.PropPlacement"]=A;A.__name__=["game","cookingGame","minigames","dishActionStep","PropPlacement"];A.prototype={__class__:A};var Bi=function(){this.rotation=0};h["game.cookingGame.minigames.dishActionStep.UiPlacement"]=Bi;Bi.__name__=["game","cookingGame",
"minigames","dishActionStep","UiPlacement"];Bi.prototype={__class__:Bi};var Ee=function(a){this._type=a};h["game.cookingGame.minigames.draggablePrototypeProxy.InstantiatePlaceableItemEvent"]=Ee;Ee.__name__=["game","cookingGame","minigames","draggablePrototypeProxy","InstantiatePlaceableItemEvent"];Ee.__super__=P;Ee.prototype=q(P.prototype,{__class__:Ee});var y=function(a,b){null==b&&(b="");this._maxPercentage=1;this._minPercentage=0;n.call(this,a);this._id=b};h["game.cookingGame.props.DishProp"]=
y;y.__name__=["game","cookingGame","props","DishProp"];y.__super__=n;y.prototype=q(n.prototype,{get_cookingStage:function(){return this._cookingStage},set_cookingStage:function(a){return this._cookingStage=a},get_minPercentage:function(){return this._minPercentage},set_minPercentage:function(a){return this._minPercentage=a},get_maxPercentage:function(){return this._maxPercentage},set_maxPercentage:function(a){return this._maxPercentage=a},getRemappedPercentage:function(a){return X.remap(a,this._minPercentage,
this._maxPercentage,0,1)},onStepComplete:function(a){this.dispatchEvent(new Fe("complete",this))},onProgressChange:function(a,b){},__class__:y,__properties__:{set_maxPercentage:"set_maxPercentage",get_maxPercentage:"get_maxPercentage",set_minPercentage:"set_minPercentage",get_minPercentage:"get_minPercentage",set_cookingStage:"set_cookingStage",get_cookingStage:"get_cookingStage"}});var zb=function(){};h["game.cookingGame.props.ICookingStageOrderable"]=zb;zb.__name__=["game","cookingGame","props",
"ICookingStageOrderable"];zb.prototype={__class__:zb,__properties__:{set_onComplete:"set_onComplete",get_onComplete:"get_onComplete",set_order:"set_order",get_order:"get_order"}};var rb=function(a){this._arrowRotation=0;this._arrow=null;this._order=0;y.call(this,a)};h["game.cookingGame.minigames.draggablePrototypeProxy.PlaceableItemDispenser"]=rb;rb.__name__=["game","cookingGame","minigames","draggablePrototypeProxy","PlaceableItemDispenser"];rb.__interfaces__=[zb];rb.__super__=y;rb.prototype=q(y.prototype,
{get_arrowRotation:function(){return this._arrowRotation},set_arrowRotation:function(a){return this._arrowRotation=a},get_order:function(){return this._order},set_order:function(a){return this._order=a},get_onComplete:function(){return this.onComplete},set_onComplete:function(a){return this.onComplete=a},get_placeableItemToInstantiate:function(){return this._placeableItem},set_placeableItemToInstantiate:function(a){return this._placeableItem=a},init:function(){y.prototype.init.call(this);this._button=
this.getComponent(la);if(null==this._button)throw new G("Could not find Button Component on DraggablePrototypeProxy's Entity");this._button.setOnMouseDown(B(this,this.onMouseDown))},onMouseDown:function(){this.instantiateDraggable(this._placeableItem)},instantiateDraggable:function(a){var b=this.getEntity().getPosition(),c=a.instantiate(this.getEntity().getParent());c.setPosition(b.x,b.y);b=new Ee("instantiate");b.instantiatedEntity=c;this.dispatchEvent(b);(new Gc(c)).set_prototypeToLayer(a.layeredResultPrototype);
a=c.getComponent(qb);null==a&&(a=new qb(c,new m(200,200)));a.addEventListener("stopDragging",function(){c.destroy()});a.startDragging();u.playSoundByName("sfx_rustle_1")},onCurrentStepMatchesThisItemOrder:function(){null==this._button&&(this._button=this.getComponent(la));this._button.setActive(!0);this.showArrow()},onCurrentStepNoLongerMatchesThisItemOrder:function(){null==this._button&&(this._button=this.getComponent(la));this._button.setActive(!1);this.hideArrow()},isVisibleOnProgressBar:function(){return!1},
onProgressChange:function(a,b){y.prototype.onProgressChange.call(this,a,b);1==b&&null!=this._arrow&&this._arrow.destroy()},showArrow:function(){this._arrow=this.addEntity();var a=this._arrow.addEntity();(new t(a,"arrow1")).setAnchor(0.5,0.5);new Qa(a,a.getPositionRef(),"y",-150,15,5);this._arrow.setRotation2d(this._arrowRotation)},hideArrow:function(){null!=this._arrow&&this._arrow.destroy()},__class__:rb,__properties__:q(y.prototype.__properties__,{set_placeableItemToInstantiate:"set_placeableItemToInstantiate",
get_placeableItemToInstantiate:"get_placeableItemToInstantiate",set_onComplete:"set_onComplete",get_onComplete:"get_onComplete",set_order:"set_order",get_order:"get_order",set_arrowRotation:"set_arrowRotation",get_arrowRotation:"get_arrowRotation"})});var ac=function(){};h["game.cookingGame.minigames.gestureAnimationFactories.GestureAnimationFactory"]=ac;ac.__name__=["game","cookingGame","minigames","gestureAnimationFactories","GestureAnimationFactory"];ac.prototype={createAnimation:function(a,b,
c){return null},createBouncingSwipeArrow:function(a,b,c,d){a=a.addEntity();a.setLocalPosition(b,c);a.setRotation2d(d);b=a.addEntity();(new t(b,"cookingArrowPointer")).setAnchor(0.5,0.5);new Qa(b,b.getPositionRef(),"y",0,10,8);return a},createBouncingSwipeArrowLong:function(a,b,c,d,e){a=a.addEntity();a.setLocalPosition(b,c);a.setRotation2d(d);b=a.addEntity();(new t(b,"cookingArrowStraight")).setAnchor(0.5,0.5);e&&(e=a.addEntity(),e.setLocalPosition(0,135),c=a.addEntity(),c.setLocalPosition(0,-135),
d=a.addEntity(),new Tg(d,e,c,2,!1));new Qa(b,b.getPositionRef(),"y",0,10,8);return a},createRotationAnimation:function(a){a=a.addEntity();(new t(a,"cookingArrowCircle")).setAnchor(0.5,0.5);(new kd(a)).setAngularVelocity(new s(0,0,360));return a},createRotationAnimationReverse:function(a){a=a.addEntity();(new t(a,"cookingArrowCircle")).setAnchor(0.5,0.5);(new kd(a)).setAngularVelocity(new s(0,0,-360));return a},__class__:ac};var db=function(){};h["game.cookingGame.minigames.gestureAnimationFactories.GeneralGestureAnimationFactory"]=
db;db.__name__=["game","cookingGame","minigames","gestureAnimationFactories","GeneralGestureAnimationFactory"];db.__super__=ac;db.prototype=q(ac.prototype,{createAnimation:function(a,b,c){null==c&&(c=!1);switch(null==b?null:H.getClass(b)){case F:return a=a.addEntity(),b=X.getAngleInDegreesBetween2dVectors(new m(0,-1),b.get_direction()),this.createBouncingSwipeArrowLong(a,0,0,b,c),a;case Hc:return c=a.addEntity(),a=this.createRotationAnimation(c),0>b.get_rotationRequired()&&a.setLocalScale(-1,1),b=
a.getComponent(kd),b.setAngularVelocity(new s(0,0,-1*b.getAngularVelocity().z)),c}return null},__class__:db});var Ge=function(){};h["game.cookingGame.minigames.gestureAnimationFactories.GratingGestureAnimationFactory"]=Ge;Ge.__name__=["game","cookingGame","minigames","gestureAnimationFactories","GratingGestureAnimationFactory"];Ge.__super__=ac;Ge.prototype=q(ac.prototype,{createAnimation:function(a,b,c){return(null==b?null:H.getClass(b))==F?(a=a.addEntity(),this.createBouncingSwipeArrow(a,-250,-120,
-100),this.createBouncingSwipeArrow(a,250,-150,80),a):null},__class__:Ge});var Ug=function(){};h["game.cookingGame.minigames.gestureAnimationFactories.PizzaSauceGestureAnimationFactory"]=Ug;Ug.__name__=["game","cookingGame","minigames","gestureAnimationFactories","PizzaSauceGestureAnimationFactory"];Ug.__super__=ac;Ug.prototype=q(ac.prototype,{createAnimation:function(a,b,c){null==c&&(c=!1);if((null==b?null:H.getClass(b))==Hc){var d=a.addEntity();this.createRotationAnimation(d);d.setVisible(!1);(new va(d)).addDeferredAction(1.75,
function(){d.setVisible(!0)});return d}return null},__class__:Ug});var te=function(){};h["game.cookingGame.minigames.gestureAnimationFactories.RollingPinGestureAnimationFactory"]=te;te.__name__=["game","cookingGame","minigames","gestureAnimationFactories","RollingPinGestureAnimationFactory"];te.__super__=ac;te.prototype=q(ac.prototype,{createAnimation:function(a,b,c){null==c&&(c=!1);return(null==b?null:H.getClass(b))==F?(a=a.addEntity(),b=X.getAngleInDegreesBetween2dVectors(new m(0,-1),b.get_direction()),
this.createBouncingSwipeArrowLong(a,0,75,b,c),a):null},__class__:te});var He=function(){};h["game.cookingGame.minigames.gestureAnimationFactories.TapToHoldAnimationFactory"]=He;He.__name__=["game","cookingGame","minigames","gestureAnimationFactories","TapToHoldAnimationFactory"];He.prototype={createTapToHoldIcon:function(a,b){var c=a.addEntity(),d=c.addEntity(),e=d.addEntity();(new t(e,"cookingTapToHold")).setAnchor(0.5,0.5);new Qa(c,c.getScaleRef(),"x",1,0.05,20);new Qa(c,c.getScaleRef(),"y",1,0.05,
20);new ad(c,d,b);return c},__class__:He};var li=function(){};h["game.cookingGame.player.IPlayerLevelLoader"]=li;li.__name__=["game","cookingGame","player","IPlayerLevelLoader"];li.prototype={__class__:li};var mi=function(){};h["game.cookingGame.player.HardCodedPlayerLevelLoader"]=mi;mi.__name__=["game","cookingGame","player","HardCodedPlayerLevelLoader"];mi.__interfaces__=[li];mi.prototype={getThresholds:function(){return[0,400,800,1200,1600,2E3]},__class__:mi};var ce=function(){this._dishResults=
[];this._eventListeners=[]};h["game.cookingGame.player.PlayerData"]=ce;ce.__name__=["game","cookingGame","player","PlayerData"];ce.__super__=Za;ce.prototype=q(Za.prototype,{setDishResult:function(a,b){var c=this.getDishRatingByIndex(a);if(0<c){if(c>b)return;this.removeDishResultByIndex(a)}c=new hi;c.set_dishIndex(a);c.set_dishRating(b);this._dishResults.push(c);ma.getInstance().getSaveData().setItem("dishRating_"+a,b)},removeDishResultByIndex:function(a){for(var b=0,c=this._dishResults;b<c.length;){var d=
c[b];++b;if(d.get_dishIndex()==a){J.remove(this._dishResults,d);break}}},getDishRatingByIndex:function(a){for(var b=0,c=this._dishResults;b<c.length;){var d=c[b];++b;if(d.get_dishIndex()==a)return d.get_dishRating()}return ma.getInstance().getSaveData().getItem("dishRating_"+a,0)},getAverageDishRating:function(){for(var a=0,b=0,c=0,d=0;d=this.getDishRatingByIndex(c),0<d&&(a+=d,++b),++c,0<d;);return Math.floor(a/b)},__class__:ce});var Wa=function(a){ib.call(this,a)};h["game.ui.popups.FadingPopup"]=
Wa;Wa.__name__=["game","ui","popups","FadingPopup"];Wa.__super__=ib;Wa.prototype=q(ib.prototype,{enter:function(){var a=this,b=this._uiPanel.getComponent(ga);Z.addTweenToTarget(this.getEntity(),b.getContainer(),"alpha",0,1,0.1,C.linear,0,function(){a.onEnterComplete()})},dismiss:function(){var a=this;this._buttonGroup.setInputEnabled(!1);var b=this._uiPanel.getComponent(ga);Z.addTweenToTarget(this.getEntity(),b.getContainer(),"alpha",1,0,0.1,C.linear,0,function(){a.onDismissComplete()})},__class__:Wa});
var Rf=function(a,b,c){this._dishName="";ib.call(this,a);this._gameController=b;this._scoreController=c};h["game.cookingGame.popups.DishCompletePopup"]=Rf;Rf.__name__=["game","cookingGame","popups","DishCompletePopup"];Rf.__super__=Wa;Rf.prototype=q(Wa.prototype,{init:function(){Wa.prototype.init.call(this);this._root=this.addEntity();new R(this._root,this._uiPanel);var a=jb.replace(this._gameController.get_selectedDish().nameId,"DISH_",""),b=J.substr(a,0,1),a=J.substr(a,1,a.length);this._dishName=
b.toUpperCase()+a.toLowerCase();this.createOverlay(this._uiPanel);this.createContainer(this._uiPanel);this.createHeading(this._container);this.createContinueButton(this._container);u.playMusicByName("music_cheery_monday");this._gameController.get_utagManager().link("LevelComplete: [Game Title] - "+this._gameController.get_selectedDish().nameId,"games")},createContainer:function(a){this._container=this._root.addEntity(!0);new R(this._container,this._uiPanel);(new t(this._container,"popupVideoContainer")).setAnchor(0.5,
0.5);new Va(this._container,this._background,0.55);a=this._container.addEntity(!0);(new t(a,"popupIcon")).setAnchor(0.5,0.5);a.setLocalPosition(-230,-265);a=this._container.addEntity(!0);a.setLocalPosition(0,-46);(new t(a,"popupGlow")).setAnchor(0.5,0.5);a=this._container.addEntity(!0);a.setLocalPosition(-350,220);null!=ma.getInstance().getCostumeDefinition()&&ma.getInstance().getCostumeDefinition().instantiateCostume(a);a=this._container.addEntity(!0);a.setLocalPosition(323,188);(new t(a,"doneIngredient"+
this._dishName)).setAnchor(0.5,0.5);a=this._container.addEntity(!0);a.setLocalPosition(0,-55);(new t(a,"starBg")).setAnchor(0.5,0.5);for(var b=0,c=this._scoreController.get_starRating();b<c;){var d=b++,e=a.addEntity(!0);e.setLocalPosition(-184+92*d,0);e.setScale(0,0);(new t(e,"star")).setAnchor(0.5,0.5);var f=new Z(e);f.addTween(e.getScaleRef(),"x",0,1,0.35,C.easeOutBack,0.2*d);f.addTween(e.getScaleRef(),"y",0,1,0.35,C.easeOutBack,0.2*d)}a=this._container.addEntity(!0);a.setLocalPosition(0,-143);
new ca(a,ja.getString("STEPCOMPLETE_SCREEN_BODY"),{fontFamily:"ralewaybold",fill:"#FFFFFF",fontSize:48});b=this._container.addEntity();a=new t(b,"recipeRecapTimer");a.setAnchor(0.5,0.5);b.setLocalPosition(-60,60);b=this._container.addEntity();(new ca(b,":",{fontFamily:"ralewaybold",fill:"#ec297b",fontSize:40})).getText().anchor.x=0;a.setAnchor(0.5,0.5);b.setLocalPosition(-8,60);a=this._container.addEntity(!0);a.setLocalPosition(15,60);(new ca(a,ae.convertFloatToTime(this._scoreController.get_timeElapsed()),
{fontFamily:"ralewaybold",fill:"#FFFFFF",fontSize:40})).getText().anchor.x=0},createContinueButton:function(a){var b=new La;b.x=0;b.y=277;b.defaultImageName="playButtonLarge";b.clickSoundId="sfx_click_1";Ba.createButton(b,a,B(this,this.onContinueButtonClick)).setLocalScale(0.9,0.9)},createHeading:function(a){var b=new de,c=new Xc;c.text=this._dishName;c.coords=new m(0,-270);b.createLocalHeading(a,c)},createOverlay:function(a){this._background=this.addEntity();new R(this._background,a);(new t(this._background,
"popupOverlay")).setAnchor(0.5,0.5);new Ua(this._background)},createPromptBackground:function(a){a=this.addEntity();var b=new t(a,"grayQuitPromptBg");b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;new R(a,this._uiPanel);return a},createLabel:function(a,b,c){a=a.addEntity();a.setLocalPosition(c.x,c.y);new ca(a,b,{fontFamily:"ralewaybold",fontSize:26});return a},onContinueButtonClick:function(){var a=this;this.addEventListener("dismissComplete",function(){a.onDismissAfterContinue()});this.dismiss()},
onNoClick:function(){this.addEventListener("dismissComplete",function(){});this.dismiss()},onDismissAfterContinue:function(){},__class__:Rf});var Nf=function(a,b,c,d){this._dishName="";this._currentStep=1;ib.call(this,a);this._gameController=b;this._cookingGameTracker=c;this._scoreController=d};h["game.cookingGame.popups.DishPrepPopup"]=Nf;Nf.__name__=["game","cookingGame","popups","DishPrepPopup"];Nf.__super__=Wa;Nf.prototype=q(Wa.prototype,{init:function(){Wa.prototype.init.call(this);var a=new de,
b=jb.replace(this._gameController.get_selectedDish().nameId,"DISH_",""),c=J.substr(b,0,1),b=J.substr(b,1,b.length);this._dishName=c.toUpperCase()+b.toLowerCase();this.createBackground(this._uiPanel);this.createHeading(this._uiPanel,a);0==this._cookingGameTracker.get_currentStep()?this.createTutorialContainer(this._uiPanel):this.createLastRecapContainer(this._uiPanel);this.createStepsContainer(this._uiPanel,this._gameController.get_selectedDish(),a)},createTutorialContainer:function(a){a=this._container.addEntity(!0);
a.setLocalPosition(0,-80);(new t(a,"popupGlow")).setAnchor(0.5,0.5);a=this._container.addEntity(!0);a.setLocalPosition(0,-80);(new t(a,"startIngredient"+this._dishName)).setAnchor(0.5,0.5);a=a.addEntity(!0);a.setLocalPosition(0,-100);new ca(a,ja.getString("STEPSELECT_SCREEN_BODY"),{fontFamily:"ralewaybold",fill:"#FFFFFF",fontSize:38,wordWrap:!0,wordWrapWidth:650,align:"center"})},createLastRecapContainer:function(a){this._cookingGameTracker.get_stepResults();this._cookingGameTracker.get_currentStep();
a=this._container.addEntity(!0);a.setLocalPosition(0,-170);new ca(a,ja.getString("STEP_COMPLETE_HEADING"),{fontFamily:"ralewaybold",fill:"#FFFFFF",fontSize:40});var b=this._container.addEntity();a=new t(b,"recipeRecapTimer");a.setAnchor(0.5,0.5);b.setLocalPosition(-60,-70);b=this._container.addEntity();(new ca(b,":",{fontFamily:"ralewaybold",fill:"#ec297b",fontSize:40})).getText().anchor.x=0;a.setAnchor(0.5,0.5);b.setLocalPosition(-8,-70);a=this._container.addEntity(!0);a.setLocalPosition(15,-70);
(new ca(a,ae.convertFloatToTime(this._scoreController.get_timeElapsed()),{fontFamily:"ralewaybold",fill:"#FFFFFF",fontSize:40})).getText().anchor.x=0},createBackground:function(a){var b=this.addEntity();new R(b,a);(new t(b,"popupOverlay")).setAnchor(0.5,0.5);new Ua(b);this._container=this._uiPanel.addEntity(!0);new Va(this._container,b,0.55);(new R(this._container,this._uiPanel)).setCoords(new m(0,-0.1));(new t(this._container,"popupVideoContainer")).setAnchor(0.5,0.5);a=this._container.addEntity(!0);
(new t(a,"popupIcon")).setAnchor(0.5,0.5);a.setLocalPosition(-230,-265)},createHeading:function(a,b){var c=new Xc;c.text=ja.getString(this._gameController.get_selectedDish().nameId);c.coords=new m(0,-265);b.createLocalHeading(this._container,c)},createStepsContainer:function(a,b,c){a=this._container.addEntity(!0);a.setLocalPosition(0,105);var d=new Zd(a);d.set_cellSize(new m(145,160));d.set_cellGap(new m(15,15));d.set_gridWidthOrHeight(8);for(var e=0,f=b.actions.length;e<f;){var h=e++,n=b.actions[h],
h=h+1;h==this._cookingGameTracker.get_currentStep()+1?(this._currentDishAction=n,this._currentStep=h,n=c.createDishActionButton(a,n,h,this._dishName)):n=c.createDishActionIndicator(a,n,h,this._cookingGameTracker.get_currentStep(),this._dishName);n=n.getComponent(ga);d.addItem(n)}b=new La;b.x=0;b.y=315;b.defaultImageName="playButtonLarge";b.clickSoundId="sfx_click_1";Ba.createButton(b,this._container,B(this,this.onDishActionButtonClick)).setLocalScale(0.9,0.9)},onDishActionButtonClick:function(a){this.dispatchEvent(new sd("click",
this._currentDishAction));u.playMusicByName("music_rainbows")},createBackButton:function(a){var b=new La;b.defaultImageName="tempButton";b.text="*BACK";b.horizontalAlignment=wa.Left;b.verticalAlignment=xa.Bottom;b.x=-0.95;b.y=0.95;Ba.createButton(b,a.getEntity(),B(this,this.onBackButtonClick))},onBackButtonClick:function(){sa.doTransition(this.getGameState(),new Yb(this._gameController))},__class__:Nf});var Vg=function(a,b,c){this._progressPerCheeseFall=0.25;this._progressUntilCheeseFall=0;this._gratedCarrotOffsetY=
240;this._gratedCarrotOffsetX=0;this._gratedCarrotScatterY=275;this._gratedCarrotScatterX=450;y.call(this,a,"cheeseGrater");this._gratedCarrotLayer=b;this._gratedCarrotFactory=c;a.setLocalPosition(this._gratedCarrotOffsetX,this._gratedCarrotOffsetY);this._progressUntilCheeseFall=this._progressPerCheeseFall;this._tweener=new Z(this.getEntity())};h["game.cookingGame.props.CarrotGrater"]=Vg;Vg.__name__=["game","cookingGame","props","CarrotGrater"];Vg.__super__=y;Vg.prototype=q(y.prototype,{onProgressChange:function(a,
b){y.prototype.onProgressChange.call(this,a,b);this._progressUntilCheeseFall-=b-a;0>=this._progressUntilCheeseFall&&(this.dropGratedCheese(),this._progressUntilCheeseFall=this._progressPerCheeseFall)},dropGratedCheese:function(){var a=this._gratedCarrotLayer.addEntity();(new t(a,"saladCarrot2")).setAnchor(0.5,0.5);a.setLocalPosition(this._gratedCarrotOffsetX,this._gratedCarrotOffsetY);var b=X.randomFloat(-100,100),c=X.randomFloat(-50,50),d=new Z(a);d.addTween(a.getPositionRef(),"y",a.getPositionRef().y-
250,a.getPositionRef().y-25+c,1,C.easeInQuad,0);d.addTween(a.getPositionRef(),"x",a.getPositionRef().x,a.getPositionRef().x+b,1,C.linear,0);u.playRandomSoundByName(["sfx_scrape_1","sfx_scrape_2"])},__class__:Vg});var Wg=function(){};h["game.cookingGame.props.ICookingProgressDisplay"]=Wg;Wg.__name__=["game","cookingGame","props","ICookingProgressDisplay"];Wg.prototype={__class__:Wg,__properties__:{set_progress:"set_progress",get_progress:"get_progress"}};var wd=function(a){this._progress=0;n.call(this,
a)};h["game.cookingGame.props.ChangeAnimationOnProgress"]=wd;wd.__name__=["game","cookingGame","props","ChangeAnimationOnProgress"];wd.__interfaces__=[Wg];wd.__super__=n;wd.prototype=q(n.prototype,{get_progress:function(){return this._progress},set_progress:function(a){this.setCompletionPercent(a);return this._progress=a},init:function(){n.prototype.init.call(this);this._cookingProgressItem=this.getComponent($b);this._pixiAnimation=this.getEntity().getComponentsInChildren(Aa)[0];this.setCompletionPercent(0)},
update:function(){n.prototype.update.call(this);this.setCompletionPercent(this._cookingProgressItem.get_cookingProgressPercent())},setCompletionPercent:function(a){this._pixiAnimation.setPosition(a*this._pixiAnimation.getAnimationLength())},__class__:wd,__properties__:{set_progress:"set_progress",get_progress:"get_progress"}});var Ie=function(a,b){this._progress=0;this._lastStage=-1;n.call(this,a);this._progressPrototypes=b};h["game.cookingGame.props.ChangePrototypeOnProgress"]=Ie;Ie.__name__=["game",
"cookingGame","props","ChangePrototypeOnProgress"];Ie.__interfaces__=[Wg];Ie.__super__=n;Ie.prototype=q(n.prototype,{get_progress:function(){return this._progress},set_progress:function(a){this.setCompletionPercent(a);return this._progress=a},init:function(){n.prototype.init.call(this);this._cookingProgressItem=this.getComponent($b);this.setCompletionPercent(0)},update:function(){n.prototype.update.call(this);this.setCompletionPercent(this._cookingProgressItem.get_cookingProgressPercent())},setCompletionPercent:function(a){var b=
this._progressPrototypes.length;a=Math.floor(a*(b-1));a>b-1&&(a=b-1);a!=this._lastStage&&(null!=this._currentEntity&&this._currentEntity.destroy(),this._currentEntity=this._progressPrototypes[a].createAsChild(this.getEntity()));this._lastStage=a},__class__:Ie,__properties__:{set_progress:"set_progress",get_progress:"get_progress"}});var Xg=function(a,b,c){this._progressPerCheeseFall=0.05;this._progressUntilCheeseFall=0;this._gratedCheeseOffsetY=240;this._gratedCheeseOffsetX=0;this._gratedCheeseScatterY=
275;this._gratedCheeseScatterX=450;y.call(this,a,"cheeseGrater");this._gratedCheeseLayer=b;this._gratedCheeseFactory=c;a=this._gratedCheeseLayer.addEntity();a.setVisible(!1);this._gratedCheeseAccumulationAnimation=new Aa(a,"pizzaCheesePlacing");this._gratedCheeseAccumulationAnimation.stop();a.setLocalPosition(this._gratedCheeseOffsetX,this._gratedCheeseOffsetY);this._progressUntilCheeseFall=this._progressPerCheeseFall;this._tweener=new Z(this.getEntity())};h["game.cookingGame.props.CheeseGrater"]=
Xg;Xg.__name__=["game","cookingGame","props","CheeseGrater"];Xg.__super__=y;Xg.prototype=q(y.prototype,{onProgressChange:function(a,b){y.prototype.onProgressChange.call(this,a,b);0<b&&this._gratedCheeseAccumulationAnimation.getEntity().setVisible(!0);this._gratedCheeseAccumulationAnimation.setPosition(b*this._gratedCheeseAccumulationAnimation.getAnimationLength());this._progressUntilCheeseFall-=b-a;0>=this._progressUntilCheeseFall&&(this.dropGratedCheese(),this._progressUntilCheeseFall=this._progressPerCheeseFall)},
dropGratedCheese:function(){var a=this,b=this._gratedCheeseLayer.addEntity(),c=new Aa(b,"pizzaCheeseGrated");b.setLocalPosition(this._gratedCheeseOffsetX,this._gratedCheeseOffsetY);c.getEntity().setVisible(!0);c.setPosition(0);c.play();c.getSprite().alpha=1;c.setOnAnimationComplete(function(){a._tweener.addTween(c.getSprite(),"alpha",1,0,0.2,C.linear,0,function(){c.getEntity().setVisible(!1)})});u.playRandomSoundByName(["sfx_scrape_1","sfx_scrape_2"])},__class__:Xg});var Yg=function(a,b,c,d){this._isSpoonAtBowl=
!1;this._currentCookieIndex=0;this._doughPositions=[new s(-224,68),new s(0,68),new s(224,68),new s(-193,-87),new s(0,-87),new s(193,-87)];y.call(this,a);this._spoon=b;this._bowl=c;this._pan=d;this._tweener=new Z(this.getEntity());this._deferredAction=new va(this.getEntity())};h["game.cookingGame.props.CookieDoughSpoonPan"]=Yg;Yg.__name__=["game","cookingGame","props","CookieDoughSpoonPan"];Yg.__super__=y;Yg.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);this._gestureProp=this.getEntity().getComponent(ya);
this._gestureProp.addEventListener("gestureComplete",B(this,this.onGestureComplete))},onGestureComplete:function(){this._isSpoonAtBowl?this.moveSpoonToPan():this.moveSpoonToBowl();this._isSpoonAtBowl=!this._isSpoonAtBowl;console.log("onGestureComplete()")},moveSpoonToBowl:function(){var a=this,b=this._bowl.getLocalPosition();b.x+=120;b.y+=-60;this._spoon.setLocalScale(1,1);this._spoon.setLocalRotation2d(-45);this._tweener.addTween(this._spoon.getRotationRef(),"z",this._spoon.getRotationRef().z,-45,
0.5,C.easeInOutQuad);this._tweener.addTween(this._spoon.getPositionRef(),"x",this._spoon.getLocalPosition().x,b.x,0.5,C.easeInOutQuad);this._tweener.addTween(this._spoon.getPositionRef(),"y",this._spoon.getLocalPosition().y,b.y,0.5,C.easeInOutQuad,0,function(){a._cookieDough=a._spoon.addEntity();a._cookieDough.setLocalPosition(-105,-65);a._cookieDough.setLocalRotation2d(45);(new t(a._cookieDough,"cookieBatterSpoon")).setAnchor(0.5,0.5);u.playSoundByName("sfx_cookie_dough_pick_up_1")});u.playSoundByName("sfx_spoon_move_1")},
moveSpoonToPan:function(){var a=this,b=this._doughPositions[this._currentCookieIndex].getClone();b.x+=120;b.y-=0;this._tweener.addTween(this._spoon.getPositionRef(),"x",this._spoon.getLocalPosition().x,b.x,0.5,C.easeInOutQuad);this._tweener.addTween(this._spoon.getPositionRef(),"y",this._spoon.getLocalPosition().y,b.y,0.5,C.easeInOutQuad,0,function(){a._cookieDough.destroy();a._spoon.setLocalRotation2d(180);a._spoon.setLocalScale(-1,1);a.placeCookieDoughAtSpace(a._currentCookieIndex);a._currentCookieIndex++});
u.playSoundByName("sfx_spoon_move_1")},placeCookieDoughAtSpace:function(a){var b=this._pan.addEntity();a=this._doughPositions[a];b.setLocalPosition(a.x,a.y);(new t(b,"cookieCookie1")).setAnchor(0.5,0.5);u.playSoundByName("sfx_cookie_dough_place_1")},__class__:Yg});var Zg=function(a){this._stirTimePerInput=0.35;this._timeUntilStopStir=0;y.call(this,a)};h["game.cookingGame.props.CookieMixingBowl"]=Zg;Zg.__name__=["game","cookingGame","props","CookieMixingBowl"];Zg.__super__=y;Zg.prototype=q(y.prototype,
{init:function(){y.prototype.init.call(this);this._audioSource=new ab(this.getEntity());this._audioSource.setIs2d(!0)},onProgressChange:function(a,b){y.prototype.onProgressChange.call(this,a,b);if(0>=a&&0<=b)this.onStartStirring();if(b>a)this.onStirProgress();if(1>=a&&1<=b)this.onComplete()},onStirProgress:function(){this._timeUntilStopStir=this._stirTimePerInput;this._stirringSpoonAnimation.play();this._audioSource.isPlaying()||this._audioSource.play("sfx_batter_stir_1",!0)},update:function(){y.prototype.update.call(this);
if(0<this._timeUntilStopStir&&(this._timeUntilStopStir-=p.getDeltaTime(),0>=this._timeUntilStopStir))this.onStirTimeElapse()},onStirTimeElapse:function(){this._stirringSpoonAnimation.stop();this._audioSource.stop()},onComplete:function(){var a=this._chocolateChips.getComponent(t);a.setImage("cookieBowlStirred");a.setAnchor(0.5,0.5);a.getSprite().alpha=1;this._oscillatorY.setActive(!1);this._oscillatorAlpha.setActive(!1)},onStartStirring:function(){if(null==this._stirringSpoonAnimation){this._contents=
this.addEntity();this._contents.setLocalPosition(0,-30);var a=new t(this._contents,"cookieBatterEnd");a.setAnchor(0.5,0.5);a.getSprite().alpha=0;(new Z(this._contents)).addTween(a.getSprite(),"alpha",0,1,0.5,C.linear);this._chocolateChips=this._contents.addEntity();a=new t(this._chocolateChips,"cookieChocolateChips");a.setAnchor(0.5,0.5);this._oscillatorAlpha=new Qa(this._chocolateChips,a.getSprite(),"alpha",0.8,0.2,5);this._oscillatorY=new Qa(this._chocolateChips,this._chocolateChips.getPositionRef(),
"y",0,2,5);a=this._contents.addEntity();a.setLocalPosition(0,-45);this._stirringSpoonAnimation=new Aa(a,"cookieStirringSpoon");this._stirringSpoonAnimation.stop();this._audioSource.play("sfx_batter_stir_1",!0)}},__class__:Zg});var $g=function(a){this._stirTimePerInput=0.35;this._timeUntilStopStir=0;y.call(this,a)};h["game.cookingGame.props.CupcakeMixingBowl"]=$g;$g.__name__=["game","cookingGame","props","CupcakeMixingBowl"];$g.__super__=y;$g.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);
this._audioSource=new ab(this.getEntity());this._audioSource.setIs2d(!0)},onProgressChange:function(a,b){y.prototype.onProgressChange.call(this,a,b);if(0>=a&&0<=b)this.onStartStirring();if(b>a)this.onStirProgress();if(1>=a&&1<=b)this.onComplete()},onStirProgress:function(){this._timeUntilStopStir=this._stirTimePerInput;this._stirringSpoonAnimation.play();this._audioSource.isPlaying()||this._audioSource.play("sfx_batter_stir_1",!0)},update:function(){y.prototype.update.call(this);if(0<this._timeUntilStopStir&&
(this._timeUntilStopStir-=p.getDeltaTime(),0>=this._timeUntilStopStir))this.onStirTimeElapse()},onStirTimeElapse:function(){this._stirringSpoonAnimation.stop();this._audioSource.stop()},onComplete:function(){},onStartStirring:function(){if(null==this._stirringSpoonAnimation){this._contents=this.addEntity();this._contents.setLocalPosition(0,-30);var a=new t(this._contents,"cookieBatterEnd");a.setAnchor(0.5,0.5);a.getSprite().alpha=0;(new Z(this._contents)).addTween(a.getSprite(),"alpha",0,1,0.5,C.linear);
a=this._contents.addEntity();a.setLocalPosition(0,-45);this._stirringSpoonAnimation=new Aa(a,"cookieStirringSpoon");this._stirringSpoonAnimation.stop();this._audioSource.play("sfx_batter_stir_1",!0)}},__class__:$g});var Fe=function(a,b){this._type=a;this._dishProp=b};h["game.cookingGame.props.DishPropEvent"]=Fe;Fe.__name__=["game","cookingGame","props","DishPropEvent"];Fe.__super__=P;Fe.prototype=q(P.prototype,{get_dishProp:function(){return this._dishProp},__class__:Fe,__properties__:{get_dishProp:"get_dishProp"}});
var Fc=function(a,b){this._interactionAllowDelay=0.1;this._order=0;y.call(this,a);this._order=b;null!=this.get_draggable()&&(this.get_draggable().addEventListener("startDragging",B(this,this.onStartDragging)),this.get_draggable().addEventListener("stopDragging",B(this,this.onStopDragging)))};h["game.cookingGame.props.DraggablePropOrderEnforcer"]=Fc;Fc.__name__=["game","cookingGame","props","DraggablePropOrderEnforcer"];Fc.__interfaces__=[zb];Fc.__super__=y;Fc.prototype=q(y.prototype,{get_interactionAllowDelay:function(){return this._interactionAllowDelay},
set_interactionAllowDelay:function(a){return this._interactionAllowDelay=a},get_order:function(){return this._order},set_order:function(a){return this._order=a},get_draggable:function(){null==this._draggable&&(this._draggable=this.getEntity().getComponent(qb));return this._draggable},get_onComplete:function(){return this._onComplete},set_onComplete:function(a){return this._onComplete=a},onStartDragging:function(a){null!=this._arrow&&this._arrow.setVisible(!1)},onStopDragging:function(a){null!=this._arrow&&
this._arrow.setVisible(!0)},init:function(){y.prototype.init.call(this)},activateDraggable:function(){var a=this;null!=this.get_draggable()&&va.addDeferredActionToTarget(this.getEntity(),this._interactionAllowDelay,function(){a.get_draggable().setActive(!0);a.showArrow()})},deactivateDraggable:function(){null!=this.get_draggable()&&(this.get_draggable().setActive(!1),this.hideArrow())},onCurrentStepMatchesThisItemOrder:function(){this.activateDraggable()},onCurrentStepNoLongerMatchesThisItemOrder:function(){this.deactivateDraggable()},
isVisibleOnProgressBar:function(){return!0},showArrow:function(){this._arrow=this.addEntity();this._arrow.setLocalPosition(0,-150);(new t(this._arrow,"arrow1")).setAnchor(0.5,0.5);new Qa(this._arrow,this._arrow.getPositionRef(),"y",-150,15,5)},hideArrow:function(){null!=this._arrow&&this._arrow.destroy()},__class__:Fc,__properties__:q(y.prototype.__properties__,{set_onComplete:"set_onComplete",get_onComplete:"get_onComplete",get_draggable:"get_draggable",set_order:"set_order",get_order:"get_order",
set_interactionAllowDelay:"set_interactionAllowDelay",get_interactionAllowDelay:"get_interactionAllowDelay"})});var $b=function(){};h["game.cookingGame.props.ICookingProgressItem"]=$b;$b.__name__=["game","cookingGame","props","ICookingProgressItem"];$b.prototype={__class__:$b,__properties__:{get_cookingProgressPercent:"get_cookingProgressPercent"}};var Ib=function(a){this._draggableArrowScale=new m(-1,1);this._draggableArrowRotation=220;this._draggableArrowOffset=new m;this._numIngredientsAdded=0;
this._numIngredientsExpected=1;this._layeredIngredientStackY=0;y.call(this,a)};h["game.cookingGame.props.DraggableReceiver"]=Ib;Ib.__name__=["game","cookingGame","props","DraggableReceiver"];Ib.__interfaces__=[$b];Ib.__super__=y;Ib.prototype=q(y.prototype,{get_draggableArrowRotation:function(){return this._draggableArrowRotation},set_draggableArrowRotation:function(a){return this._draggableArrowRotation=a},get_draggableArrowOffset:function(){return this._draggableArrowOffset},set_draggableArrowOffset:function(a){return this._draggableArrowOffset=
a},get_draggableArrowScale:function(){return this._draggableArrowScale},set_draggableArrowScale:function(a){return this._draggableArrowScale=a},get_layeredIngredientStackY:function(){return this._layeredIngredientStackY},set_layeredIngredientStackY:function(a){return this._layeredIngredientStackY=a},get_numIngredientsExpected:function(){return this._numIngredientsExpected},set_numIngredientsExpected:function(a){return this._numIngredientsExpected=a},get_cookingProgressPercent:function(){return this._numIngredientsAdded/
this._numIngredientsExpected},init:function(){y.prototype.init.call(this);this._collider=this.getComponent(pb);if(null==this._collider)throw new G("DraggableReceiver's Entity does not have a Collider component.");},update:function(){y.prototype.update.call(this);if(null==this._grabPlaceableAnimation&&null==this.get_cookingStage().get_draggingEntity()&&this._numIngredientsAdded<this._numIngredientsExpected){var a=this.get_cookingStage().get_ingredientsRoot().getComponentsInChildren(rb),b=this.get_cookingStage().get_ingredientsRoot().getComponentsInChildren(qb),
a=0==a.length;1==b.length&&a&&(b=b[0].getEntity(),this._grabPlaceableAnimation=this.get_cookingStage().get_ingredientsRoot().addEntity(),new Xd(this._grabPlaceableAnimation,b,new s(this._draggableArrowOffset.x,this._draggableArrowOffset.y)),b=this._grabPlaceableAnimation.addEntity(),b.setLocalScale(this._draggableArrowScale.x,this._draggableArrowScale.y),b.setRotation2d(this._draggableArrowRotation),(new t(b,"cookingArrowCurve")).setAnchor(1,1),new Qa(b,b.getPositionRef(),"y",-50,5,8))}else null!=
this._grabPlaceableAnimation&&null!=this.get_cookingStage().get_draggingEntity()&&(this._grabPlaceableAnimation.destroy(),this._grabPlaceableAnimation=null)},isEntityOver:function(a){a=a.getPosition();return this._collider.checkPointIntersect(new m(a.x,a.y))},onDroppedDraggable:function(a,b){if(this.isEntityOver(a.getEntity())){var c=a.getComponent(Gc);if(null!=c){this._numIngredientsAdded++;var d=c.get_prototypeToLayer().createAsChild(this.getEntity()),e=a.getEntity().getComponent(xd);null!=e?(a.getEntity().setVisible(!1),
e.returnToPosition()):a.getEntity().destroy();e=this._layeredIngredientStackY*this._numIngredientsAdded;d.setLocalPosition(c.get_offset().x,c.get_offset().y+e);this.get_cookingStage().registerEntityAsProp(d);this.get_cookingStage().onDraggableDropSuccess(a);""==c.get_dropSfx()?u.playSoundByName("sfx_drop_1"):u.playSoundByName(c.get_dropSfx())}else u.playSoundByName("sfx_drop_1")}},handleMessage:function(a,b){y.prototype.handleMessage.call(this,a,b);if("droppedDraggable"==a)this.onDroppedDraggable(b.draggable,
b.position)},__class__:Ib,__properties__:q(y.prototype.__properties__,{get_cookingProgressPercent:"get_cookingProgressPercent",set_numIngredientsExpected:"set_numIngredientsExpected",get_numIngredientsExpected:"get_numIngredientsExpected",set_layeredIngredientStackY:"set_layeredIngredientStackY",get_layeredIngredientStackY:"get_layeredIngredientStackY",set_draggableArrowScale:"set_draggableArrowScale",get_draggableArrowScale:"get_draggableArrowScale",set_draggableArrowOffset:"set_draggableArrowOffset",
get_draggableArrowOffset:"get_draggableArrowOffset",set_draggableArrowRotation:"set_draggableArrowRotation",get_draggableArrowRotation:"get_draggableArrowRotation"})});var ah=function(a,b){y.call(this,a);this._fillAnimation=b};h["game.cookingGame.props.FillableSmoothieCup"]=ah;ah.__name__=["game","cookingGame","props","FillableSmoothieCup"];ah.__super__=y;ah.prototype=q(y.prototype,{get_progress:function(){return this._progress},set_progress:function(a){return this._progress=a},onProgressChange:function(a,
b){y.prototype.onProgressChange.call(this,a,b);this._fillAnimation.play();u.playSoundByName("sfx_smoothie_pour_1")},__class__:ah,__properties__:q(y.prototype.__properties__,{set_progress:"set_progress",get_progress:"get_progress"})});var yd=function(a){this._numFlips=0;y.call(this,a)};h["game.cookingGame.props.FlippingPatty"]=yd;yd.__name__=["game","cookingGame","props","FlippingPatty"];yd.__super__=y;yd.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);this.getEntity().getComponent(ya).addEventListener("gestureComplete",
B(this,this.onGestureComplete));this._tweener=new Z(this.getEntity());this._sprite=this.getEntity().getComponentsInChildren(t)[0];this._steam=this.getEntity().addEntity();new Aa(this._steam,"burgerSteam");this.updateImage()},onGestureComplete:function(a){this.flip()},update:function(){y.prototype.update.call(this);this._steam.setRotation2d(0)},flip:function(){var a=this;this._tweener.skipAll();this.getEntity().getLocalPosition();var b=this.getEntity().getLocalPosition().y;this._tweener.addTween(this.getEntity().getPositionRef(),
"y",b,b-400,0.5,C.easeOutQuad);this._tweener.addTween(this.getEntity().getPositionRef(),"y",b-400,b,0.5,C.easeInQuad,0.5);this._tweener.addTween(this.getEntity().getRotationRef(),"z",this.getEntity().getRotationRef().z,this.getEntity().getRotationRef().z+180,1,C.linear,0,function(){a.getEntity().setRotation2d(0);u.playSoundByName("sfx_burger_sizzle_1");a._numFlips++;a.updateImage()});u.playSoundByName("sfx_burger_flip_1")},updateImage:function(){this._sprite.setImage(yd.COOK_LEVELS[this._numFlips])},
__class__:yd});var D=function(){};h["game.prototypes.Prototype"]=D;D.__name__=["game","prototypes","Prototype"];D.prototype={create:function(a){throw new G("Not implemented");},createAsChild:function(a){var b=this.create(a.getGameState());a.addChild(b);return b},__class__:D};var zd=function(a){this._progressPrototypes=a};h["game.cookingGame.prototypes.ProgressDishProp"]=zd;zd.__name__=["game","cookingGame","prototypes","ProgressDishProp"];zd.__super__=D;zd.prototype=q(D.prototype,{create:function(a){a=
a.addEntity();new Ie(a,this._progressPrototypes);return a},__class__:zd});var se=function(a,b,c,d){this._progressPrototypes=c;this._gestures=a;this._gestureAnimationFactory=b;this._soundIds=d};h["game.cookingGame.props.GestureProgressDishProp"]=se;se.__name__=["game","cookingGame","props","GestureProgressDishProp"];se.__super__=zd;se.prototype=q(zd.prototype,{create:function(a){a=zd.prototype.create.call(this,a);new ya(a,this._gestures,this._gestureAnimationFactory);null!=this._soundIds&&new Je(a,
this._soundIds);return a},__class__:se});var ya=function(a,b,c){this._completionDelay=0.35;this._delayBeforeShowGesture=this._delayAfterShowGesture=0.05;this._requireDraggable=!1;this._currentGestureIndex=-1;this._gesturesRequired=[];y.call(this,a);this._deferredAction=new va(this.getEntity());this._gesturesRequired=b;this._gestureAnimationFactory=c};h["game.cookingGame.props.GestureProp"]=ya;ya.__name__=["game","cookingGame","props","GestureProp"];ya.__interfaces__=[$b];ya.__super__=y;ya.prototype=
q(y.prototype,{get_delayBeforeShowGesture:function(){return this._delayBeforeShowGesture},set_delayBeforeShowGesture:function(a){return this._delayBeforeShowGesture=a},get_delayAfterShowGesture:function(){return this._delayAfterShowGesture},set_delayAfterShowGesture:function(a){return this._delayAfterShowGesture=a},get_completionDelay:function(){return this._completionDelay},set_completionDelay:function(a){return this._completionDelay=a},get_requireDraggable:function(){return this._requireDraggable},
set_requireDraggable:function(a){return this._requireDraggable=a},get_cookingProgressPercent:function(){var a=this._currentGestureIndex/this._gesturesRequired.length;if(this._currentGestureIndex<this._gesturesRequired.length){var b=this._gesturesRequired[this._currentGestureIndex];null!=b&&(a+=b.get_completionPercent()/this._gesturesRequired.length)}return a=Math.min(1,Math.max(0,a))},init:function(){y.prototype.init.call(this);this._gestureDetector=new bh(new Ke(this.getEntity(),Ha.getInstance()));
this._gestureDetector.addEventListener("complete",B(this,this.onGestureComplete));this.advanceToNextGesture()},advanceToNextGesture:function(){var a=this;this._gestureDetector.set_gesture(null);this._deferredAction.addDeferredAction(this.get_delayBeforeShowGesture(),function(){a._currentGestureIndex++;if(a._currentGestureIndex>=a._gesturesRequired.length)a.onAllGesturesComplete();var b=a._gesturesRequired[a._currentGestureIndex];a.destroyPreviousGesture();var c=a._gestureAnimationFactory,d=a.get_cookingStage().get_uiRoot(),
e=a.get_cookingStage().get_tutorial();a._lastAnimation=c.createAnimation(d,b,e);null!=a._lastAnimation&&a._lastAnimation.setActive(a.isActive());a._gestureDetector.set_gesture(b)})},destroyPreviousGesture:function(){null!=this._lastAnimation&&this._lastAnimation.destroy()},onDeactivate:function(){y.prototype.onDeactivate.call(this);null!=this._lastAnimation&&this._lastAnimation.setActive(!1)},onActivate:function(){y.prototype.onActivate.call(this);null!=this._lastAnimation&&this._lastAnimation.setActive(!0)},
update:function(){y.prototype.update.call(this);if(this._requireDraggable&&null==this.get_cookingStage().get_draggingEntity()){if(null==this._grabGestureAnimation&&1>this.get_cookingProgressPercent()){var a=this.get_cookingStage().get_ingredientsRoot().getComponentsInChildren(qb)[0].getEntity();this._grabGestureAnimation=this.get_cookingStage().get_ingredientsRoot().addEntity();new Xd(this._grabGestureAnimation,a);a=this._grabGestureAnimation.addEntity();(new t(a,"arrow1")).setAnchor(0.5,0.5);new Qa(a,
a.getPositionRef(),"y",-50,10,8)}null!=this._lastAnimation&&this._lastAnimation.setVisible(!1)}else null!=this._grabGestureAnimation&&(this._grabGestureAnimation.destroy(),this._grabGestureAnimation=null),this._gestureDetector.update(),null!=this._lastAnimation&&this._lastAnimation.setVisible(!0)},onAllGesturesComplete:function(){var a=this;this._deferredAction.addDeferredAction(this._completionDelay,function(){a.get_cookingStage().dispatchEvent(new mc("allGesturesComplete"));a.dispatchEvent(new mc("allGesturesComplete"));
a.onStepComplete(null)})},onGestureComplete:function(a){var b=this;this.destroyPreviousGesture();this._gestureDetector.set_gesture(null);this._deferredAction.addDeferredAction(this.get_delayAfterShowGesture(),function(){b.advanceToNextGesture();b.get_cookingStage().dispatchEvent(new mc("gestureComplete"));b.dispatchEvent(new mc("gestureComplete"))})},__class__:ya,__properties__:q(y.prototype.__properties__,{get_cookingProgressPercent:"get_cookingProgressPercent",set_requireDraggable:"set_requireDraggable",
get_requireDraggable:"get_requireDraggable",set_completionDelay:"set_completionDelay",get_completionDelay:"get_completionDelay",set_delayAfterShowGesture:"set_delayAfterShowGesture",get_delayAfterShowGesture:"get_delayAfterShowGesture",set_delayBeforeShowGesture:"set_delayBeforeShowGesture",get_delayBeforeShowGesture:"get_delayBeforeShowGesture"})});var mc=function(a){this._type=a};h["game.cookingGame.props.GesturePropEvent"]=mc;mc.__name__=["game","cookingGame","props","GesturePropEvent"];mc.__super__=
P;mc.prototype=q(P.prototype,{__class__:mc});var Je=function(a,b){n.call(this,a);this._soundIds=b};h["game.cookingGame.props.GesturePropSoundListener"]=Je;Je.__name__=["game","cookingGame","props","GesturePropSoundListener"];Je.__super__=n;Je.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);var a=this.getEntity().getComponent(ya);null!=a&&a.addEventListener("gestureComplete",B(this,this.onGestureComplete))},onGestureComplete:function(){u.playRandomSoundByName(this._soundIds)},
__class__:Je});var Le=function(a,b){this._minMaskPercentage=0.5;this._horizontalMask=!1;y.call(this,a,"grateableCheese");this._horizontalMask=b};h["game.cookingGame.props.GrateableCheese"]=Le;Le.__name__=["game","cookingGame","props","GrateableCheese"];Le.__super__=y;Le.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);this._pixiSprite=this.getEntity().getComponentsInChildren(t)[0];this._mask=new PIXI.Graphics;this._pixiSprite.getSprite().mask=this._mask;this._pixiSprite.getSprite().addChild(this._mask);
this.updateMask(0)},onProgressChange:function(a,b){y.prototype.onProgressChange.call(this,a,b);this.updateMask(b)},updateMask:function(a){a=X.remap(a,0,1,0,this._minMaskPercentage);this._mask.clear();this._mask.beginFill(16711935);this._horizontalMask?this._mask.drawRect(0.5*-this._pixiSprite.getSize().x,-this._pixiSprite.getSize().y,this._pixiSprite.getSize().x*(1-a),2*this._pixiSprite.getSize().y):this._mask.drawRect(-this._pixiSprite.getSize().x,0.5*-this._pixiSprite.getSize().y,2*this._pixiSprite.getSize().x,
this._pixiSprite.getSize().y*(1-a));this._mask.endFill()},__class__:Le});var ch=function(a){this._container=a};h["game.cookingGame.props.GratedCheeseFactory"]=ch;ch.__name__=["game","cookingGame","props","GratedCheeseFactory"];ch.prototype={createGratedCheese:function(){var a=this._container.addEntity();(new Aa(a,"pizzaCheeseGrated")).setAnchor(0.5,0.5);return a},__class__:ch};var Ad=function(a,b){this._order=-1;this._iconOffsetY=125;this._iconOffsetX=0;this._chargeTarget=1;this._currentCharge=0;
this._chargeRate=0.75;this._isHolding=!1;y.call(this,a);this._tapToHoldAnimationFactory=new He};h["game.cookingGame.props.HoldToCompleteProp"]=Ad;Ad.__name__=["game","cookingGame","props","HoldToCompleteProp"];Ad.__interfaces__=[zb,$b];Ad.__super__=y;Ad.prototype=q(y.prototype,{get_onComplete:function(){return this._onComplete},set_onComplete:function(a){return this._onComplete=a},get_order:function(){return this._order},set_order:function(a){return this._order=a},get_isHolding:function(){return this._isHolding},
set_isHolding:function(a){return this._isHolding=a},get_chargeRate:function(){return this._chargeRate},set_chargeRate:function(a){return this._chargeRate=a},get_cookingProgressPercent:function(){return this._currentCharge/this._chargeTarget},init:function(){y.prototype.init.call(this);this._button=this.getEntity().getComponent(la);this._button.setOffset(this._iconOffsetX,this._iconOffsetY);if(null==this._button)throw new G("Entity with HoldToCompleteProp Component requires, but does not have, a Button component");
this._button.setOnMouseDown(B(this,this.onMouseDown));this._button.setOnMouseUp(B(this,this.onMouseUp));this._icon=this._tapToHoldAnimationFactory.createTapToHoldIcon(this.get_cookingStage().get_uiRoot(),this);this._icon.setPosition(this.getEntity().getPosition().x+this._iconOffsetX,this.getEntity().getPosition().y+this._iconOffsetY)},onActivate:function(){y.prototype.onActivate.call(this);null!=this._icon&&this._icon.setVisible(!0);null==this._button&&(this._button=this.getComponent(la));this._button.setActive(!0)},
onDeactivate:function(){y.prototype.onDeactivate.call(this);null!=this._icon&&this._icon.setVisible(!1);null==this._button&&(this._button=this.getComponent(la));this._button.setActive(!1)},onMouseDown:function(){this._isHolding=!0},onMouseUp:function(){this._isHolding=!1},fixedUpdate:function(){y.prototype.fixedUpdate.call(this);this.updateCharge()},onCurrentStepMatchesThisItemOrder:function(){this.setActive(!0)},onCurrentStepNoLongerMatchesThisItemOrder:function(){this.setActive(!1)},isVisibleOnProgressBar:function(){return!1},
updateCharge:function(){this._currentCharge<this._chargeTarget&&this._isHolding&&(this._currentCharge+=this._chargeRate*p.getDeltaTime(),this._currentCharge>=this._chargeTarget&&(this._currentCharge=this._chargeTarget,this.onChargeComplete()))},onChargeComplete:function(){null!=this.get_onComplete()&&this.get_onComplete()(this)},__class__:Ad,__properties__:q(y.prototype.__properties__,{get_cookingProgressPercent:"get_cookingProgressPercent",set_chargeRate:"set_chargeRate",get_chargeRate:"get_chargeRate",
set_isHolding:"set_isHolding",get_isHolding:"get_isHolding",set_order:"set_order",get_order:"get_order",set_onComplete:"set_onComplete",get_onComplete:"get_onComplete"})});var Jb=function(a){this._contents=[];n.call(this,a)};h["game.cookingGame.props.IngredientPlate"]=Jb;Jb.__name__=["game","cookingGame","props","IngredientPlate"];Jb.__super__=n;Jb.prototype=q(n.prototype,{addEntityToPlate:function(a){this.getEntity().addChild(a);a.setLocalPosition(0+0*this._contents.length,-100+65*this._contents.length);
this._contents.push(a)},__class__:Jb});var dh=function(a){this._currentItem=-1;this._itemsToManage=[];y.call(this,a)};h["game.cookingGame.props.MultipleProgressItemShower"]=dh;dh.__name__=["game","cookingGame","props","MultipleProgressItemShower"];dh.__super__=y;dh.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);for(var a=this.get_cookingStage().get_ingredientsRoot().getComponentsInChildren(y),b=0,c=0;c<a.length;){var d=a[c];++c;H.__instanceof(d,$b)&&(this._itemsToManage.push(d),
this.hideProp(d));H.__instanceof(d,zb)&&(d.set_order(b),++b)}console.log(this._itemsToManage);this.advance()},showProp:function(a){a.getEntity().setVisible(!0);a.setActive(!0)},hideProp:function(a){a.getEntity().setVisible(!1);a.setActive(!1)},advance:function(){var a=this.getItemByIndex(this._currentItem);null!=a&&this.hideProp(a);this._currentItem++;a=this.getItemByIndex(this._currentItem);null!=a&&(this.showProp(a),a.addEventListener("complete",B(this,this.onDishPropComplete)))},getItemByIndex:function(a){return 0>
a||a>=this._itemsToManage.length?null:this._itemsToManage[a]},onDishPropComplete:function(a){console.log("?");this.advance()},__class__:dh});var Me=function(a,b,c){this._prevProgress=this._progress=0;n.call(this,a);this._clipName=b;this._loop=c;this._audioSource=new ab(a);this._audioSource.setIs2d(!0)};h["game.cookingGame.props.PlaySoundWhileProgressing"]=Me;Me.__name__=["game","cookingGame","props","PlaySoundWhileProgressing"];Me.__super__=n;Me.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);
this._cookingProgressItem=this.getComponent($b)},update:function(){n.prototype.update.call(this);this._progress=this._cookingProgressItem.get_cookingProgressPercent();this._prevProgress<this._progress&&!this._audioSource.isPlaying()?this._audioSource.play(this._clipName,this._loop):this._prevProgress==this._progress&&this._audioSource.stop();this._prevProgress=this._progress},__class__:Me});var ni=function(a){y.call(this,a,"sparkleAnimationOnWin")};h["game.cookingGame.props.PlaySparkleAnimationOnWin"]=
ni;ni.__name__=["game","cookingGame","props","PlaySparkleAnimationOnWin"];ni.__super__=y;ni.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);this._animations=this.getEntity().getComponentsInChildren(Aa);this.getEntity().setVisible(!1);for(var a=0,b=this._animations;a<b.length;){var c=b[a];++a;c.stop()}},onProgressChange:function(a,b){y.prototype.onProgressChange.call(this,a,b);if(1<=b){this.getEntity().setVisible(!0);for(var c=0,d=this._animations;c<d.length;){var e=d[c];++c;e.setPosition(0);
e.play()}}},__class__:ni});var oi=function(a){this._timeBeforeProgressUpdate=2;y.call(this,a,"pouredSauce")};h["game.cookingGame.props.PouredSauce"]=oi;oi.__name__=["game","cookingGame","props","PouredSauce"];oi.__super__=y;oi.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);this._animation=this.getComponent(Aa)},update:function(){y.prototype.update.call(this);if(0<this._timeBeforeProgressUpdate&&(this._timeBeforeProgressUpdate-=p.getDeltaTime(),0>=this._timeBeforeProgressUpdate))this.onTimeBeforeProgressUpdateElapse()},
onTimeBeforeProgressUpdateElapse:function(){this._animation.setAnimation("pizzaSauceSpreading");this._animation.stop()},onProgressChange:function(a,b){y.prototype.onProgressChange.call(this,a,b);if(!(0<this._timeBeforeProgressUpdate)){var c=this.getRemappedPercentage(b);b>this._minPercentage&&this._animation.setPosition(this._animation.getAnimation().getLength()*c)}},__class__:oi});var eh=function(a,b,c,d){this._prevHolding=!1;n.call(this,a);this._holdToCompleteProp=b;this._buttonSprite=c;this._blendAnimation=
d;this._blendAnimation.getSprite().alpha=0;this._tweener=new Z(this.getEntity());this._audioSource=new ab(a);this._audioSource.setIs2d(!0)};h["game.cookingGame.props.PressableBlender"]=eh;eh.__name__=["game","cookingGame","props","PressableBlender"];eh.__super__=n;eh.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);this._blendAnimation.stop()},update:function(){n.prototype.update.call(this);this._buttonSprite.setImage(this._holdToCompleteProp.get_isHolding()?"smoothieBlenderButtonDown":
"smoothieBlenderButtonUp");if(!this._prevHolding&&this._holdToCompleteProp.get_isHolding())this.onStartHolding();else if(this._prevHolding&&!this._holdToCompleteProp.get_isHolding()&&1>this._holdToCompleteProp.get_cookingProgressPercent())this.onStopHolding();this._prevHolding=this._holdToCompleteProp.get_isHolding()},onStartHolding:function(){this._tweener.destroyAllTweens();this._tweener.addTween(this._blendAnimation.getSprite(),"alpha",this._blendAnimation.getSprite().alpha,1,0.25,C.linear);this._blendAnimation.play();
null!=this._audioSource&&this._audioSource.stop();this._audioSource.play("sfx_blender_1",!0)},onStopHolding:function(){this._tweener.destroyAllTweens();this._tweener.addTween(this._blendAnimation.getSprite(),"alpha",this._blendAnimation.getSprite().alpha,0,0.25,C.linear);this._blendAnimation.stop();this._audioSource.stop()},destroy:function(){n.prototype.destroy.call(this);this._audioSource.stop()},__class__:eh});var xd=function(a){this._delay=0;this._changeSpriteId="";n.call(this,a)};h["game.cookingGame.props.ReturnDraggableIngredientWhenUsed"]=
xd;xd.__name__=["game","cookingGame","props","ReturnDraggableIngredientWhenUsed"];xd.__super__=n;xd.prototype=q(n.prototype,{get_changeSpriteId:function(){return this._changeSpriteId},set_changeSpriteId:function(a){return this._changeSpriteId=a},get_onReturn:function(){return this._onReturn},set_onReturn:function(a){return this._onReturn=a},get_delay:function(){return this._delay},set_delay:function(a){return this._delay=a},init:function(){n.prototype.init.call(this);this._deferredAction=new va(this.getEntity());
this._originalPosition=this.getEntity().getPosition();this._originalRotation=this.getEntity().getRotation()},returnToPosition:function(){if(0<this._delay)this._deferredAction.addDeferredAction(this._delay,B(this,this.onReturnDelayElapse));else this.onReturnDelayElapse()},onReturnDelayElapse:function(){this.getEntity().setVisible(!0);this.getEntity().setPosition(this._originalPosition.x,this._originalPosition.y);this.getEntity().setRotation(0,0,this._originalRotation.z);""!=this._changeSpriteId&&this.getComponent(t).setImage(this._changeSpriteId);
null!=this.get_onReturn()&&this.get_onReturn()()},__class__:xd,__properties__:{set_delay:"set_delay",get_delay:"get_delay",set_onReturn:"set_onReturn",get_onReturn:"get_onReturn",set_changeSpriteId:"set_changeSpriteId",get_changeSpriteId:"get_changeSpriteId"}});var fh=function(a,b,c){this._transitionDuration=0.35;this._isAtFirstPosition=!0;y.call(this,a,"rollingPin");this._firstPosition=b;this._secondPosition=c;this._tweener=new Z(this.getEntity())};h["game.cookingGame.props.RollingPin"]=fh;fh.__name__=
["game","cookingGame","props","RollingPin"];fh.__super__=y;fh.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);this.getEntity().setLocalPosition(this._firstPosition.x,this._firstPosition.y);this.get_cookingStage().addEventListener("gestureComplete",B(this,this.onGestureComplete))},onGestureComplete:function(a){this.gotoNextPosition()},onStepComplete:function(a){y.prototype.onStepComplete.call(this,a);this.gotoNextPosition()},gotoNextPosition:function(){this._isAtFirstPosition?
this.gotoSecondPosition(this._transitionDuration):this.gotoFirstPosition(this._transitionDuration)},gotoFirstPosition:function(a){this.gotoPosition(this._firstPosition,a);this._isAtFirstPosition=!0},gotoSecondPosition:function(a){this.gotoPosition(this._secondPosition,a);this._isAtFirstPosition=!1},gotoPosition:function(a,b){this._tweener.destroyAllTweens();this._tweener.addTween(this.getEntity().getPositionRef(),"x",this.getEntity().getLocalPosition().x,a.x,b,C.easeInOutQuad);this._tweener.addTween(this.getEntity().getPositionRef(),
"y",this.getEntity().getLocalPosition().y,a.y,b,C.easeInOutQuad)},__class__:fh});var gh=function(a,b,c,d){this._currentRotation=this._targetRotation=this._baseChildY=0;this._speed=540;this._fullRotation=1080;this._radiusY=75;this._radiusX=100;y.call(this,a,"sauceSpatula");this._radiusX=c;this._radiusY=d;this._spriteChild=b};h["game.cookingGame.props.SauceSpatula"]=gh;gh.__name__=["game","cookingGame","props","SauceSpatula"];gh.__super__=y;gh.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);
this.updateSpriteRotation(0);this._baseChildY=this._spriteChild.getLocalPosition().y;this._spriteChild.setVisible(!1)},update:function(){y.prototype.update.call(this);this._currentRotation<this._targetRotation&&(this._currentRotation+=this._speed*p.getDeltaTime(),this._currentRotation>=this._targetRotation&&(this._currentRotation=this._targetRotation));null==this._entryTween&&this.updateSpriteRotation(-this._currentRotation)},onProgressChange:function(a,b){var c=this;y.prototype.onProgressChange.call(this,
a,b);this._targetRotation=this._fullRotation*this.getRemappedPercentage(b);this._spriteChild.isVisible()||(this._spriteChild.setLocalPosition(0,this._baseChildY+400),this._entryTween=Z.addTweenToTarget(this._spriteChild,this._spriteChild.getPositionRef(),"y",this._baseChildY+400,this._baseChildY,0.25,C.easeOutQuad,0,function(){c._entryTween=null}),this._spriteChild.setVisible(!0))},updateSpriteRotation:function(a){var b=Math.sin(X.degToRad(a))*this._radiusX;a=Math.cos(X.degToRad(a))*this._radiusY;
this._spriteChild.setLocalPosition(b,a)},__class__:gh});var Bd=function(a){this._numSlices=0;y.call(this,a);this._sliceProperties=[new Ne(new s(0,50)),new Ne(new s(0,50)),new Ne(new s(0,50))]};h["game.cookingGame.props.SliceableCheese"]=Bd;Bd.__name__=["game","cookingGame","props","SliceableCheese"];Bd.__interfaces__=[zb];Bd.__super__=y;Bd.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);this._gestureProp=this.getComponent(ya);this._gestureProp.addEventListener("gestureComplete",
B(this,this.onGestureComplete));this._gestureProp.addEventListener("allGesturesComplete",B(this,this.onAllGesturesComplete));this._gestureProp.set_completionDelay(1.25);this._sprite=this.getEntity().getComponentsInChildren(t)[0];this._cheeseSliceContainer=this.addEntity();this.get_cookingStage().addEntityToStage(this._cheeseSliceContainer);this._cheeseSliceContainer.setLocalPosition(-230,170)},get_order:function(){return this.order},set_order:function(a){return this.order=a},get_onComplete:function(){return this.onComplete},
set_onComplete:function(a){return this.onComplete=a},onCurrentStepMatchesThisItemOrder:function(){},onCurrentStepNoLongerMatchesThisItemOrder:function(){},isVisibleOnProgressBar:function(){return!0},onGestureComplete:function(a){this.slice()},onAllGesturesComplete:function(){this.get_cookingStage().findComponent(Jb).addEntityToPlate(this._cheeseSliceContainer);this.onStepComplete();null!=this.get_onComplete()&&this.get_onComplete()(this)},slice:function(){var a=this._sliceProperties[this._numSlices];
this.sliceWithProperties(a);this._numSlices++;var b=this._cheeseSliceContainer.addEntity(),c=new t(b,"hamburgerCheese2");b.setLocalPosition(a.fallenSlicePosition.x,a.fallenSlicePosition.y);b.setLocalScale(1,1);c.setAnchor(0.25,1);(new Z(b)).addTween(b.getPositionRef(),"y",a.fallenSlicePosition.y-30,a.fallenSlicePosition.y,0.5,C.easeInQuad,0,function(){c.setImage("hamburgerCheese");c.setAnchor(0.5,0.5)})},sliceWithProperties:function(a){},__class__:Bd,__properties__:q(y.prototype.__properties__,{set_onComplete:"set_onComplete",
get_onComplete:"get_onComplete",set_order:"set_order",get_order:"get_order"})});var Ne=function(a){this.fallenSlicePosition=a};h["game.cookingGame.props.CheeseSliceProperties"]=Ne;Ne.__name__=["game","cookingGame","props","CheeseSliceProperties"];Ne.prototype={__class__:Ne};var bc=function(a,b){this._numSlices=0;y.call(this,a);this._sliceProperties=b};h["game.cookingGame.props.SliceableIngredient"]=bc;bc.__name__=["game","cookingGame","props","SliceableIngredient"];bc.__interfaces__=[zb];bc.__super__=
y;bc.prototype=q(y.prototype,{get_sliceProperties:function(){return this._sliceProperties},init:function(){y.prototype.init.call(this);this._gestureProp=this.getComponent(ya);this._gestureProp.addEventListener("gestureComplete",B(this,this.onGestureComplete));this._gestureProp.addEventListener("allGesturesComplete",B(this,this.onAllGesturesComplete));this._sprite=this.getEntity().getComponentsInChildren(t)[0];this._letticeSliceContainer=this.addEntity();this.get_cookingStage().addEntityToStage(this._letticeSliceContainer);
this._letticeSliceContainer.setLocalPosition(-216,133)},get_order:function(){return this.order},set_order:function(a){return this.order=a},get_onComplete:function(){return this.onComplete},set_onComplete:function(a){return this.onComplete=a},onCurrentStepMatchesThisItemOrder:function(){},onCurrentStepNoLongerMatchesThisItemOrder:function(){},isVisibleOnProgressBar:function(){return!0},onGestureComplete:function(a){this.slice()},onAllGesturesComplete:function(){this.get_cookingStage().findComponent(Jb).addEntityToPlate(this._letticeSliceContainer);
this.onStepComplete();null!=this.get_onComplete()&&this.get_onComplete()(this)},slice:function(){var a=this._sliceProperties[this._numSlices];this.sliceWithProperties(a);this._numSlices++;var b=this._letticeSliceContainer.addEntity(),c=new t(b,a.fallenSliceSpriteId);b.setLocalPosition(a.fallenSlicePosition.x,a.fallenSlicePosition.y);b.setLocalScale(1,1);c.setAnchor(0.5,0.5);this._sprite.setImage(a.spriteId)},sliceWithProperties:function(a){},__class__:bc,__properties__:q(y.prototype.__properties__,
{set_onComplete:"set_onComplete",get_onComplete:"get_onComplete",set_order:"set_order",get_order:"get_order",get_sliceProperties:"get_sliceProperties"})});var Ea=function(a,b,c){this.spriteId=a;this.fallenSlicePosition=b;this.fallenSliceSpriteId=c};h["game.cookingGame.props.IngredientSliceProperties"]=Ea;Ea.__name__=["game","cookingGame","props","IngredientSliceProperties"];Ea.prototype={__class__:Ea};var Cd=function(a){this._numSlices=0;y.call(this,a);this._sliceProperties=[new bd("saladLettuce2",
new s(-100,0)),new bd("saladLettuce3",new s(-25,0)),new bd("saladLettuce4",new s(75,0)),new bd("saladLettuce5",new s(150,0)),new bd("saladLettuce6",new s(225,0))]};h["game.cookingGame.props.SliceableLettuce"]=Cd;Cd.__name__=["game","cookingGame","props","SliceableLettuce"];Cd.__interfaces__=[zb];Cd.__super__=y;Cd.prototype=q(y.prototype,{get_order:function(){return this.order},set_order:function(a){return this.order=a},get_onComplete:function(){return this.onComplete},init:function(){y.prototype.init.call(this);
this._gestureProp=this.getComponent(ya);this._gestureProp.addEventListener("gestureComplete",B(this,this.onGestureComplete));this._gestureProp.addEventListener("allGesturesComplete",B(this,this.onAllGesturesComplete));this._sprite=this.getEntity().getComponentsInChildren(t)[0];this._letticeSliceContainer=this.addEntity();this.get_cookingStage().addEntityToStage(this._letticeSliceContainer);this._letticeSliceContainer.setLocalPosition(-216,133)},set_onComplete:function(a){return this.onComplete=a},
onCurrentStepMatchesThisItemOrder:function(){},onCurrentStepNoLongerMatchesThisItemOrder:function(){},isVisibleOnProgressBar:function(){return!0},onGestureComplete:function(a){this.slice()},onAllGesturesComplete:function(){this.get_cookingStage().findComponent(Jb).addEntityToPlate(this._letticeSliceContainer);this.onStepComplete();null!=this.get_onComplete()&&this.get_onComplete()(this)},slice:function(){var a=this._sliceProperties[this._numSlices];this.sliceWithProperties(a);this._numSlices++;var b=
this._letticeSliceContainer.addEntity(),c=new t(b,"saladLettucePiece");b.setLocalPosition(a.fallenSlicePosition.x,a.fallenSlicePosition.y);b.setLocalScale(1,1);c.setAnchor(0.5,0.5);this._sprite.setImage(a.spriteId)},sliceWithProperties:function(a){},__class__:Cd,__properties__:q(y.prototype.__properties__,{set_onComplete:"set_onComplete",get_onComplete:"get_onComplete",set_order:"set_order",get_order:"get_order"})});var bd=function(a,b){this.spriteId=a;this.fallenSlicePosition=b};h["game.cookingGame.props.LettuceSliceProperties"]=
bd;bd.__name__=["game","cookingGame","props","LettuceSliceProperties"];bd.prototype={__class__:bd};var hh=function(a,b){y.call(this,a,"sliceablePizza");this._sliceablePizzaFactory=b;var c=this.addEntity();c.setLocalPosition(0,-60);var d=c.addEntity();this._slice1Sprite=new t(d,"pizzaCutLine1");this._slice1Sprite.setAnchor(0.5,0.5);d=c.addEntity();this._slice2Sprite=new t(d,"pizzaCutLine2");this._slice2Sprite.setAnchor(0.5,0.5);d=c.addEntity();d.setLocalScale(-1,1);this._slice3Sprite=new t(d,"pizzaCutLine3");
this._slice3Sprite.setAnchor(0.5,0.5);c=c.addEntity();this._slice4Sprite=new t(c,"pizzaCutLine3");this._slice4Sprite.setAnchor(0.5,0.5);this._pizzaCutter1=this._sliceablePizzaFactory.createHorizontalCutter();this._pizzaCutter2=this._sliceablePizzaFactory.createVerticalCutter();this._pizzaCutter3=this._sliceablePizzaFactory.createDiagonalCutter();this._pizzaCutter3.setLocalScale(-1,1);this._pizzaCutter4=this._sliceablePizzaFactory.createDiagonalCutter();this._sliceLine1=new Dd;this._sliceLine1.start=
new m(308,-50);this._sliceLine1.end=new m(-308,-50);this._sliceLine2=new Dd;this._sliceLine2.start=new m(0,190);this._sliceLine2.end=new m(0,-190);this._sliceLine3=new Dd;this._sliceLine3.start=new m(-250,134);this._sliceLine3.end=new m(215,-185);this._sliceLine4=new Dd;this._sliceLine4.start=new m(250,134);this._sliceLine4.end=new m(-215,-185);this.updateSlices(0)};h["game.cookingGame.props.SliceablePizza"]=hh;hh.__name__=["game","cookingGame","props","SliceablePizza"];hh.__super__=y;hh.prototype=
q(y.prototype,{onProgressChange:function(a,b){y.prototype.onProgressChange.call(this,a,b);this.updateSlices(b)},updateSlices:function(a){var b=X.remap(a,0,0.25,0,1),c=X.remap(a,0.25,0.5,0,1),d=X.remap(a,0.5,0.75,0,1);a=X.remap(a,0.75,1,0,1);this._slice1Sprite.getSprite().alpha=b;this._slice2Sprite.getSprite().alpha=c;this._slice3Sprite.getSprite().alpha=d;this._slice4Sprite.getSprite().alpha=a;var e=X.lerp(this._sliceLine1.start.x,this._sliceLine1.end.x,b),f=X.lerp(this._sliceLine1.start.y,this._sliceLine1.end.y,
b);this._pizzaCutter1.setLocalPosition(e,f);this._pizzaCutter1.setVisible(0<b&&1>=b);b=X.lerp(this._sliceLine2.start.x,this._sliceLine2.end.x,c);e=X.lerp(this._sliceLine2.start.y,this._sliceLine2.end.y,c);this._pizzaCutter2.setLocalPosition(b,e);this._pizzaCutter2.setVisible(0<c&&1>=c);c=X.lerp(this._sliceLine3.start.x,this._sliceLine3.end.x,d);b=X.lerp(this._sliceLine3.start.y,this._sliceLine3.end.y,d);this._pizzaCutter3.setLocalPosition(c,b);this._pizzaCutter3.setVisible(0<d&&1>=d);d=X.lerp(this._sliceLine4.start.x,
this._sliceLine4.end.x,a);c=X.lerp(this._sliceLine4.start.y,this._sliceLine4.end.y,a);this._pizzaCutter4.setLocalPosition(d,c);this._pizzaCutter4.setVisible(0<a&&1>=a)},__class__:hh});var pi=function(a){this._container=a};h["game.cookingGame.props.SliceablePizzaFactory"]=pi;pi.__name__=["game","cookingGame","props","SliceablePizzaFactory"];pi.prototype={createHorizontalCutter:function(){var a=this._container.addEntity();(new t(a,"pizzaCutter1")).setAnchor(0.2,1);return a},createVerticalCutter:function(){var a=
this._container.addEntity();(new t(a,"pizzaCutter2")).setAnchor(0.5,0);return a},createDiagonalCutter:function(){var a=this._container.addEntity();(new t(a,"pizzaCutter3")).setAnchor(0.2,1);return a},__class__:pi};var Dd=function(){};h["game.cookingGame.props.SliceablePizzaSliceLine"]=Dd;Dd.__name__=["game","cookingGame","props","SliceablePizzaSliceLine"];Dd.prototype={__class__:Dd};var Ed=function(a){this._numSlices=0;y.call(this,a);this._sliceProperties=[new Oe(new s(-75,0),1.12,new s(0,0)),new Oe(new s(-25,
0),1.21,new s(50,-20)),new Oe(new s(35,0),1.21,new s(100,-40))]};h["game.cookingGame.props.SliceableTomato"]=Ed;Ed.__name__=["game","cookingGame","props","SliceableTomato"];Ed.__interfaces__=[zb];Ed.__super__=y;Ed.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);this._gestureProp=this.getComponent(ya);this._gestureProp.addEventListener("gestureComplete",B(this,this.onGestureComplete));this._gestureProp.addEventListener("allGesturesComplete",B(this,this.onAllGesturesComplete));
this._sprite=this.getEntity().getComponentsInChildren(t)[0];this._mask=new PIXI.Graphics;this._sprite.getSprite().addChild(this._mask);this._sprite.getSprite().mask=this._mask;this._tomatoSliceContainer=this.addEntity();this.get_cookingStage().addEntityToStage(this._tomatoSliceContainer);this._tomatoSliceContainer.setLocalPosition(-216,133);this.setMaskFromLeft(0)},get_order:function(){return this.order},set_order:function(a){return this.order=a},get_onComplete:function(){return this.onComplete},
set_onComplete:function(a){return this.onComplete=a},onCurrentStepMatchesThisItemOrder:function(){},onCurrentStepNoLongerMatchesThisItemOrder:function(){},isVisibleOnProgressBar:function(){return!0},onGestureComplete:function(a){this.slice()},onAllGesturesComplete:function(){this.get_cookingStage().findComponent(Jb).addEntityToPlate(this._tomatoSliceContainer);this.onStepComplete();null!=this.get_onComplete()&&this.get_onComplete()(this)},slice:function(){var a=this._sliceProperties[this._numSlices];
this.sliceWithProperties(a);this._numSlices++;var b=this._tomatoSliceContainer.addEntity(),c=new t(b,"burgerTomato3");b.setLocalPosition(a.fallenSlicePosition.x,a.fallenSlicePosition.y);a=0.75*a.sliceScale;b.setLocalScale(a,a);c.setAnchor(0.5,0.5)},sliceWithProperties:function(a){this.setMaskFromLeft(0.5*this._sprite.getSize().x+a.position.x);null!=this._sliceSprite&&this._sliceSprite.destroy();this._sliceSprite=this.addEntity();(new t(this._sliceSprite,"burgerTomato2")).setAnchor(0.5,0.5);this._sliceSprite.setLocalPosition(a.position.x,
a.position.y);this._sliceSprite.setLocalScale(a.sliceScale,a.sliceScale)},setMaskFromLeft:function(a){this._mask.clear();this._mask.beginFill();this._mask.drawRect(0.5*-this._sprite.getSize().x+a,0.5*-this._sprite.getSize().y,this._sprite.getSize().x,this._sprite.getSize().y);this._mask.endFill()},__class__:Ed,__properties__:q(y.prototype.__properties__,{set_onComplete:"set_onComplete",get_onComplete:"get_onComplete",set_order:"set_order",get_order:"get_order"})});var Oe=function(a,b,c){this.position=
a;this.sliceScale=b;this.fallenSlicePosition=c};h["game.cookingGame.props.TomatoSliceProperties"]=Oe;Oe.__name__=["game","cookingGame","props","TomatoSliceProperties"];Oe.prototype={__class__:Oe};var ih=function(a){y.call(this,a)};h["game.cookingGame.props.SlicingKnife"]=ih;ih.__name__=["game","cookingGame","props","SlicingKnife"];ih.__super__=y;ih.prototype=q(y.prototype,{init:function(){y.prototype.init.call(this);this._tweener=new Z(this.getEntity());this._baseX=this.getEntity().getLocalPosition().x;
this._baseY=this.getEntity().getLocalPosition().y;this.get_cookingStage().addEventListener("gestureComplete",B(this,this.onGestureComplete))},onGestureComplete:function(a){this.slice()},slice:function(){null!=this._tweener&&this._tweener.skipAll();this._tweener.addTween(this.getEntity().getPositionRef(),"y",this.getEntity().getPositionRef().y,this._baseY+300,0.15,C.easeInQuad);this._tweener.addTween(this.getEntity().getPositionRef(),"y",this._baseY+300,this._baseY,0.35,C.linear,0.25);u.playSoundByName("sfx_knife_slice_1")},
__class__:ih});var jh=function(a,b,c,d){this._animationPlaying=!1;this._timeUntilNextFrame=this._currentFrame=0;this._timePerFrame=0.025;this._frames="toss1 toss2 toss3 toss4 toss5 toss6 toss7 toss8 toss9 toss10".split(" ");n.call(this,a);this._saladSprite=b;this._timeUntilNextFrame=this._timePerFrame;this._tweener=new Z(this.getEntity());this._spoon=c;this._fork=d};h["game.cookingGame.props.TossableSalad"]=jh;jh.__name__=["game","cookingGame","props","TossableSalad"];jh.__super__=n;jh.prototype=
q(n.prototype,{init:function(){n.prototype.init.call(this);this.setFrame(0);this._spoon.setLocalPosition(365,-275);this._fork.setLocalPosition(-365,-275);this._gestureProp=this.getComponent(ya);this._gestureProp.addEventListener("gestureComplete",B(this,this.onGestureComplete))},onGestureComplete:function(){this.toss()},update:function(){n.prototype.update.call(this);if(this._animationPlaying&&(this._timeUntilNextFrame-=p.getDeltaTime(),0>=this._timeUntilNextFrame))this.onFrameTimeElapse()},onFrameTimeElapse:function(){this._currentFrame++;
if(this._currentFrame>this._frames.length)this.onAnimationComplete();this.setFrame(this._currentFrame);this._timeUntilNextFrame=this._timePerFrame},onAnimationComplete:function(){this._currentFrame=0;this._animationPlaying=!1},toss:function(){this._tweener.skipAll();this.playForkAnimation();this.playSpoonAnimation();this.playTossAnimation();u.playRandomSoundByName(["sfx_toss_salad_1","sfx_toss_salad_2"])},playTossAnimation:function(){this._animationPlaying=!0;this._currentFrame=0},setFrame:function(a){a%=
this._frames.length;this._saladSprite.setImage(this._frames[a])},playForkAnimation:function(){this._tweener.addTween(this._fork.getPositionRef(),"x",-365,-400,0.175,C.easeInOutQuad);this._tweener.addTween(this._fork.getPositionRef(),"y",-400,-75,0.175,C.easeInOutQuad);this._tweener.addTween(this._fork.getRotationRef(),"z",0,-45,0.175,C.easeInOutQuad);this._tweener.addTween(this._fork.getPositionRef(),"x",-400,-365,0.175,C.easeInOutQuad,0.175);this._tweener.addTween(this._fork.getPositionRef(),"y",
-75,-400,0.175,C.easeInOutQuad,0.175);this._tweener.addTween(this._fork.getRotationRef(),"z",-45,0,0.175,C.easeInOutQuad,0.175)},playSpoonAnimation:function(){this._tweener.addTween(this._spoon.getPositionRef(),"x",365,400,0.175,C.easeInOutQuad);this._tweener.addTween(this._spoon.getPositionRef(),"y",-400,-75,0.175,C.easeInOutQuad);this._tweener.addTween(this._spoon.getRotationRef(),"z",0,45,0.175,C.easeInOutQuad);this._tweener.addTween(this._spoon.getPositionRef(),"x",400,365,0.175,C.easeInOutQuad,
0.175);this._tweener.addTween(this._spoon.getPositionRef(),"y",-75,-400,0.175,C.easeInOutQuad,0.175);this._tweener.addTween(this._spoon.getRotationRef(),"z",45,0,0.175,C.easeInOutQuad,0.175)},__class__:jh});var lc=function(a){this._animationId=a};h["game.cookingGame.prototypes.AnimatedObject"]=lc;lc.__name__=["game","cookingGame","prototypes","AnimatedObject"];lc.__super__=D;lc.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new Aa(a,this._animationId)).setAnchor(0.5,0.5);return a},__class__:lc});
var cg=function(){};h["game.cookingGame.prototypes.BurnerPrototype"]=cg;cg.__name__=["game","cookingGame","prototypes","BurnerPrototype"];cg.__super__=D;cg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"burner1")).setAnchor(0.5,0.5);var b=a.addEntity(),c=new t(b,"burner2");c.setAnchor(0.5,0.5);new Qa(b,c.getSprite(),"alpha",0.9,0.1,5);return a},__class__:cg});var we=function(a){this._order=a};h["game.cookingGame.prototypes.ButterOnPlatePrototype"]=we;we.__name__=["game","cookingGame",
"prototypes","ButterOnPlatePrototype"];we.__super__=D;we.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"cookieSmallPlate")).setAnchor(0.5,0.5);var b=a.addEntity(),c=new t(b,"cookieButterStick");c.setAnchor(0.5,0.5);(new qb(a,new m(c.getSize().x,c.getSize().y),new m(0,0))).setReturnOnDrop(!0);(new Fc(a,this._order)).set_interactionAllowDelay(2.7);c=new xd(a);c.set_delay(2);c.set_onReturn(function(){b.destroy()});(new Gc(a)).set_prototypeToLayer(new kh);return a},__class__:we});
var Eg=function(){};h["game.cookingGame.prototypes.CarrotGraterPrototype"]=Eg;Eg.__name__=["game","cookingGame","prototypes","CarrotGraterPrototype"];Eg.__super__=D;Eg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity(),c=a.addEntity();(new t(c,"cheeseGrater")).setAnchor(0.5,0.5);new Vg(a,b,new ch(b));b=[new F(new m(1,0),300),new F(new m(-1,0),300),new F(new m(1,0),300),new F(new m(-1,0),300),new F(new m(1,0),300),new F(new m(-1,0),300),new F(new m(1,0),300),new F(new m(-1,
0),300),new F(new m(1,0),300),new F(new m(-1,0),300),new F(new m(1,0),300)];for(c=0;c<b.length;){var d=b[c];++c;d.set_resetOnBreakLine(!1)}(new ya(a,b,new Ge)).set_requireDraggable(!0);return a},__class__:Eg});var vg=function(){};h["game.cookingGame.prototypes.CheeseGraterPrototype"]=vg;vg.__name__=["game","cookingGame","prototypes","CheeseGraterPrototype"];vg.__super__=D;vg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity(),c=a.addEntity();(new t(c,"cheeseGrater")).setAnchor(0.5,
0.5);new Xg(a,b,new ch(b));b=[new F(new m(1,0),300),new F(new m(-1,0),300),new F(new m(1,0),300),new F(new m(-1,0),300),new F(new m(1,0),300),new F(new m(-1,0),300),new F(new m(1,0),300),new F(new m(-1,0),300),new F(new m(1,0),300),new F(new m(-1,0),300),new F(new m(1,0),300)];for(c=0;c<b.length;){var d=b[c];++c;d.set_resetOnBreakLine(!1)}(new ya(a,b,new Ge)).set_requireDraggable(!0);return a},__class__:vg});var ng=function(){};h["game.cookingGame.prototypes.CookedCupcakePrototype"]=ng;ng.__name__=
["game","cookingGame","prototypes","CookedCupcakePrototype"];ng.__super__=D;ng.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"cookedCupcake")).setAnchor(0.5,0.5);var b=a.addEntity(),c=new gb;c.wh=new m(400,400);new wb(b,c);b.setLocalPosition(0,-75);(new Ib(b)).set_numIngredientsExpected(4);return a},__class__:ng});var jg=function(){};h["game.cookingGame.prototypes.CookieDoughSpoonPrototype"]=jg;jg.__name__=["game","cookingGame","prototypes","CookieDoughSpoonPrototype"];
jg.__super__=D;jg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();b.setLocalPosition(-330,-170);b.setLocalScale(0.55,0.55);(new t(b,"cookieBowlStirredFull")).setAnchor(0.5,0.5);var c=a.addEntity();c.setLocalPosition(0,110);(new t(c,"cookieTray")).setAnchor(0.5,0.5);var d=a.addEntity();d.setLocalRotation2d(-45);(new t(d,"cookieWoodenSpoon")).setAnchor(0.5,0.5);(new ya(a,[new F(new m(-1,-1),200),new F(new m(1,1),200),new F(new m(-1,-1),200),new F(new m(1,1),200),new F(new m(-1,
-1),200),new F(new m(1,1),200),new F(new m(-1,-1),200),new F(new m(1,1),200),new F(new m(-1,-1),200),new F(new m(1,1),200),new F(new m(-1,-1),200),new F(new m(1,1),200)],new db)).set_delayBeforeShowGesture(0.5);new Yg(a,d,b,c);return a},__class__:jg});var ig=function(){};h["game.cookingGame.prototypes.CookieMixingBowlPrototype"]=ig;ig.__name__=["game","cookingGame","prototypes","CookieMixingBowlPrototype"];ig.__super__=D;ig.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();
(new t(b,"cookieBowlAllIngredients")).setAnchor(0.5,0.5);b=a.addEntity();new Zg(b);new ya(a,[new Hc(-2048)],new db);b=a.addEntity();b.setLocalPosition(-0.2,78);(new t(b,"cookieBowlFront")).setAnchor(0.5,0.5);return a},__class__:ig});var lg=function(){};h["game.cookingGame.prototypes.CupcakeMixingBowlPrototype"]=lg;lg.__name__=["game","cookingGame","prototypes","CupcakeMixingBowlPrototype"];lg.__super__=D;lg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"cupcakeBowlAllIngredients")).setAnchor(0.5,
0.5);b=a.addEntity();new $g(b);new ya(a,[new Hc(-2048)],new db);b=a.addEntity();b.setLocalPosition(-0.2,78);(new t(b,"cookieBowlFront")).setAnchor(0.5,0.5);return a},__class__:lg});var Kb=function(a,b){this._minProgressPercentage=a;this._maxProgressPercentage=b};h["game.cookingGame.prototypes.DishPropPrototype"]=Kb;Kb.__name__=["game","cookingGame","prototypes","DishPropPrototype"];Kb.__super__=D;Kb.prototype=q(D.prototype,{__class__:Kb});var Ma=function(a,b,c,d){null==d&&(d="");null==c&&(c=-1);this._offset=
new m;this._changeSpriteWhenReturned="";this._draggableActivationDelay=0.05;this._returnWhenPlacedDelay=0;this._returnWhenPlaced=!1;this._order=-1;this._imageId=a;this._prototypeToLayer=b;this._order=c;this._dropSfx=d};h["game.cookingGame.prototypes.DraggableIngredientPrototype"]=Ma;Ma.__name__=["game","cookingGame","prototypes","DraggableIngredientPrototype"];Ma.__super__=D;Ma.prototype=q(D.prototype,{get_draggableActivationDelay:function(){return this._draggableActivationDelay},set_draggableActivationDelay:function(a){return this._draggableActivationDelay=
a},get_changeSpriteWhenReturned:function(){return this._changeSpriteWhenReturned},set_changeSpriteWhenReturned:function(a){return this._changeSpriteWhenReturned=a},get_offset:function(){return this._offset},set_offset:function(a){return this._offset=a},get_returnWhenPlacedDelay:function(){return this._returnWhenPlacedDelay},set_returnWhenPlacedDelay:function(a){return this._returnWhenPlacedDelay=a},get_returnWhenPlaced:function(){return this._returnWhenPlaced},set_returnWhenPlaced:function(a){return this._returnWhenPlaced=
a},create:function(a){a=a.addEntity();var b=new t(a,this._imageId);b.setAnchor(0.5,0.5);(new qb(a,new m(b.getSize().x,b.getSize().y),new m(0,0))).setReturnOnDrop(!0);-1<this._order&&(new Fc(a,this._order)).set_interactionAllowDelay(this._draggableActivationDelay);this.get_returnWhenPlaced()&&(b=new xd(a),b.set_delay(this._returnWhenPlacedDelay),b.set_changeSpriteId(this._changeSpriteWhenReturned));b=new Gc(a);b.set_prototypeToLayer(this._prototypeToLayer);b.get_offset().x=this._offset.x;b.get_offset().y=
this._offset.y;b.set_dropSfx(this._dropSfx);return a},__class__:Ma,__properties__:{set_returnWhenPlaced:"set_returnWhenPlaced",get_returnWhenPlaced:"get_returnWhenPlaced",set_returnWhenPlacedDelay:"set_returnWhenPlacedDelay",get_returnWhenPlacedDelay:"get_returnWhenPlacedDelay",set_offset:"set_offset",get_offset:"get_offset",set_changeSpriteWhenReturned:"set_changeSpriteWhenReturned",get_changeSpriteWhenReturned:"get_changeSpriteWhenReturned",set_draggableActivationDelay:"set_draggableActivationDelay",
get_draggableActivationDelay:"get_draggableActivationDelay"}});var Mg=function(){};h["game.cookingGame.prototypes.FillableBlenderPrototype"]=Mg;Mg.__name__=["game","cookingGame","prototypes","FillableBlenderPrototype"];Mg.__super__=D;Mg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"blenderBase")).setAnchor(0.5,0.5);var b=a.addEntity(),c=new gb;c.wh=new m(500,500);new wb(b,c);(new Ib(b)).set_numIngredientsExpected(3);b=a.addEntity();(new t(b,"blenderForeground")).setAnchor(0.5,
0.5);b=a.addEntity();b.setLocalPosition(-36,210);(new t(b,"smoothieBlenderButtonUp")).setAnchor(0.5,0.5);return a},__class__:Mg});var mg=function(){};h["game.cookingGame.prototypes.FillableCupcakeTrayPrototype"]=mg;mg.__name__=["game","cookingGame","prototypes","FillableCupcakeTrayPrototype"];mg.__super__=D;mg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"cupcakeTray")).setAnchor(0.5,0.5);this.createCupcake(b,0,-245,45,1);this.createCupcake(b,1,0,45,1);
this.createCupcake(b,2,245,45,1);this.createCupcake(b,3,-207,-93,0.9);this.createCupcake(b,4,0,-93,0.9);this.createCupcake(b,5,207,-93,0.9);return a},createCupcake:function(a,b,c,d,e){a=a.addEntity();new Aa(a,"trayFill");new wd(a);new Me(a,"sfx_batter_pour_1",!0);new la(a,new m(150,150));var f=new Ad(a,new He);f.setActive(!1);f.set_order(b);a.setLocalPosition(c,d);a.setLocalScale(e,e);return a},__class__:mg});var Pg=function(){};h["game.cookingGame.prototypes.FillableSmoothieCupPrototype"]=Pg;Pg.__name__=
["game","cookingGame","prototypes","FillableSmoothieCupPrototype"];Pg.__super__=D;Pg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"smoothieCupBack")).setAnchor(0.5,0.5);var b=a.addEntity();b.setLocalPosition(0,183);b=new Aa(b,"smoothieCupFill");b.setAnchor(0.5,0.5);b.stop();var c=a.addEntity(),d=new gb;d.wh=new m(300,300);new wb(c,d);(new Ib(c)).set_draggableArrowOffset(new m(-40,-50));d=a.addEntity();d.setLocalPosition(0,0);d=new t(d,"smoothieCupFront");d.setAnchor(0.5,0.5);
d.getSprite().alpha=0.4;new ah(c,b);return a},__class__:Pg});var eg=function(){};h["game.cookingGame.prototypes.FlippingPattyPrototype"]=eg;eg.__name__=["game","cookingGame","prototypes","FlippingPattyPrototype"];eg.__super__=D;eg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new ya(a,[new F(new m(-1,-1),400),new F(new m(-1,-1),400),new F(new m(-1,-1),400),new F(new m(-1,-1),400),new F(new m(-1,-1),400)],new db)).set_delayBeforeShowGesture(1.15);new yd(a);(new t(a,"hamburgerPatty4")).setAnchor(0.5,
0.5);return a},__class__:eg});var dg=function(){};h["game.cookingGame.prototypes.FryingPanPrototype"]=dg;dg.__name__=["game","cookingGame","prototypes","FryingPanPrototype"];dg.__super__=D;dg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"fryingPan")).setAnchor(0.5,0.33);return a},__class__:dg});var Dg=function(){};h["game.cookingGame.prototypes.GrateableCarrotPrototype"]=Dg;Dg.__name__=["game","cookingGame","prototypes","GrateableCarrotPrototype"];Dg.__super__=D;Dg.prototype=
q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"saladCarrot")).setAnchor(0.5,0.5);new Le(a,!0);(new qb(a,new m(200,200))).setReturnOnDrop(!0);return a},__class__:Dg});var Yc=function(){};h["game.cookingGame.prototypes.IngredientPlatePrototype"]=Yc;Yc.__name__=["game","cookingGame","prototypes","IngredientPlatePrototype"];Yc.__super__=D;Yc.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"plate")).setAnchor(0.5,0.5);new Jb(a);return a},__class__:Yc});var ye=function(a){this._numIngredientsExpected=
a};h["game.cookingGame.prototypes.IngredientReceiver"]=ye;ye.__name__=["game","cookingGame","prototypes","IngredientReceiver"];ye.__super__=D;ye.prototype=q(D.prototype,{get_foregroundPrototype:function(){return this._foregroundPrototype},set_foregroundPrototype:function(a){return this._foregroundPrototype=a},get_foregroundPrototypeOffset:function(){return this._foregroundPrototypeOffset},set_foregroundPrototypeOffset:function(a){return this._foregroundPrototypeOffset=a},create:function(a){a=a.addEntity();
var b=a.addEntity(),c=new gb;c.wh=new m(515,515);new wb(b,c);(new Ib(b)).set_numIngredientsExpected(this._numIngredientsExpected);null!=this._foregroundPrototype&&this._foregroundPrototype.createAsChild(a).setLocalPosition(this._foregroundPrototypeOffset.x,this._foregroundPrototypeOffset.y);return a},__class__:ye,__properties__:{set_foregroundPrototypeOffset:"set_foregroundPrototypeOffset",get_foregroundPrototypeOffset:"get_foregroundPrototypeOffset",set_foregroundPrototype:"set_foregroundPrototype",
get_foregroundPrototype:"get_foregroundPrototype"}});var Gc=function(a){this._dropSfx="";this._offset=new m;n.call(this,a)};h["game.cookingGame.prototypes.LayerableIngredient"]=Gc;Gc.__name__=["game","cookingGame","prototypes","LayerableIngredient"];Gc.__super__=n;Gc.prototype=q(n.prototype,{get_offset:function(){return this._offset},set_offset:function(a){return this._offset=a},get_prototypeToLayer:function(){return this._prototypeToLayer},set_prototypeToLayer:function(a){return this._prototypeToLayer=
a},get_dropSfx:function(){return this._dropSfx},set_dropSfx:function(a){return this._dropSfx=a},__class__:Gc,__properties__:{set_dropSfx:"set_dropSfx",get_dropSfx:"get_dropSfx",set_prototypeToLayer:"set_prototypeToLayer",get_prototypeToLayer:"get_prototypeToLayer",set_offset:"set_offset",get_offset:"get_offset"}});var ud=function(){};h["game.cookingGame.prototypes.MultipleProgressItemShowerPrototype"]=ud;ud.__name__=["game","cookingGame","prototypes","MultipleProgressItemShowerPrototype"];ud.__super__=
D;ud.prototype=q(D.prototype,{create:function(a){a=a.addEntity();new dh(a);return a},__class__:ud});var ug=function(){};h["game.cookingGame.prototypes.PizzaCheeseBallPrototype"]=ug;ug.__name__=["game","cookingGame","prototypes","PizzaCheeseBallPrototype"];ug.__super__=D;ug.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"pizzaCheese")).setAnchor(0.5,0.5);new Le(a,!1);(new qb(a,new m(200,200))).setReturnOnDrop(!0);return a},__class__:ug});var qg=function(){};h["game.cookingGame.prototypes.PizzaDoughOnPizzaBoard"]=
qg;qg.__name__=["game","cookingGame","prototypes","PizzaDoughOnPizzaBoard"];qg.__super__=D;qg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"pizzaBoard")).setAnchor(0.5,0.5);var b=a.addEntity();(new t(b,"pizzaDough4")).setAnchor(0.5,0.5);b.setLocalPosition(0,-50);b=new gb;b.wh=new m(515,515);new wb(a,b);new Ib(a);return a},__class__:qg});var tg=function(){};h["game.cookingGame.prototypes.PizzaDoughWithSauce"]=tg;tg.__name__=["game","cookingGame","prototypes","PizzaDoughWithSauce"];
tg.__super__=D;tg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"pizzaBoard")).setAnchor(0.5,0.5);var b=a.addEntity();(new t(b,"pizzaDough4")).setAnchor(0.5,0.5);b.setLocalPosition(0,-50);b=a.addEntity();b.setScale(1.7,1.7);b=new Aa(b,"pizzaSauceSpreading");b.setPosition(b.getAnimationLength());b.stop();return a},__class__:tg});var wg=function(){};h["game.cookingGame.prototypes.PizzaDoughWithSauceAndCheese"]=wg;wg.__name__=["game","cookingGame","prototypes","PizzaDoughWithSauceAndCheese"];
wg.__super__=D;wg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"pizzaBoard")).setAnchor(0.5,0.5);var b=a.addEntity();(new t(b,"pizzaDough4")).setAnchor(0.5,0.5);b.setLocalPosition(0,-50);b=a.addEntity();b.setLocalPosition(0,-0);b.setScale(1.6,1.6);b=new Aa(b,"pizzaSauceSpreading");b.setPosition(b.getAnimationLength());b.stop();b=a.addEntity();b.setLocalPosition(0,-75);(new t(b,"pizzaCheeseShredded2")).setAnchor(0.5,0.5);b=new gb;b.wh=new m(500,500);new wb(a,b);(new Ib(a)).set_numIngredientsExpected(4);
return a},__class__:wg});var xg=function(){};h["game.cookingGame.prototypes.PizzaPepperoniTopping"]=xg;xg.__name__=["game","cookingGame","prototypes","PizzaPepperoniTopping"];xg.__super__=D;xg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"tempPizzaPepperoniPlaced")).setAnchor(0.5,0.7);return a},__class__:xg});var yg=function(a){this._placeableItems=a};h["game.cookingGame.prototypes.PizzaToppingTray"]=yg;yg.__name__=["game","cookingGame","prototypes","PizzaToppingTray"];yg.__super__=
D;yg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"pizzaToppingHolder")).setAnchor(0.5,0.5);var b=a.addEntity();b.setLocalPosition(0,-178);new la(b,new m(175,175));b=new rb(b);b.set_placeableItemToInstantiate(this._placeableItems[0]);b.set_order(3);b=a.addEntity();b.setLocalPosition(0,-59);new la(b,new m(175,175));b=new rb(b);b.set_placeableItemToInstantiate(this._placeableItems[1]);b.set_order(0);b=a.addEntity();b.setLocalPosition(0,59);new la(b,new m(175,175));b=new rb(b);
b.set_placeableItemToInstantiate(this._placeableItems[2]);b.set_order(2);b=a.addEntity();b.setLocalPosition(0,193);new la(b,new m(175,175));b=new rb(b);b.set_placeableItemToInstantiate(this._placeableItems[3]);b.set_order(1);return a},__class__:yg});var Qf=function(){};h["game.cookingGame.prototypes.PlaySparkleAnimationOnWinPrototype"]=Qf;Qf.__name__=["game","cookingGame","prototypes","PlaySparkleAnimationOnWinPrototype"];Qf.__super__=D;Qf.prototype=q(D.prototype,{create:function(a){var b=a.addEntity();
a=b.addEntity();new Aa(a,"finishAnimation");a=b.addEntity();a.setLocalScale(-1,1);(new Aa(a,"finishAnimation")).setOnAnimationComplete(function(){b.destroy()});return b},__class__:Qf});var Qg=function(){};h["game.cookingGame.prototypes.PouredBlenderSmoothie"]=Qg;Qg.__name__=["game","cookingGame","prototypes","PouredBlenderSmoothie"];Qg.__super__=D;Qg.prototype=q(D.prototype,{create:function(a){var b=a.addEntity();a=new va(b);var c=b.addEntity();c.setLocalPosition(180,-250);c.setRotation2d(-60);(new t(c,
"blenderTopPour")).setAnchor(0.5,0.5);for(c=0;4>c;){var d=c++;a.addDeferredAction(0.25*d,function(){var a=b.getParent().addEntity(),c=b.getParent().getPosition(),d=new t(a,"blenderPour2");d.setAnchor(0.5,0);a.setLocalScale(1,0);a.setPosition(c.x+-20,c.y+-190);c=new Z(a);c.addTween(a.getScaleRef(),"x",a.getLocalScale().x,0.8*a.getLocalScale().x,1,C.easeOutQuint);c.addTween(a.getScaleRef(),"y",0,1,1,C.easeOutQuint);c.addTween(d.getSprite(),"alpha",0,0.6,0.15,C.linear);c.addTween(d.getSprite(),"alpha",
0.6,0,0.15,C.linear,0.3)})}a.addDeferredAction(1,function(){b.destroy()});return b},__class__:Qg});var hg=function(){};h["game.cookingGame.prototypes.PouredChocolateChips"]=hg;hg.__name__=["game","cookingGame","prototypes","PouredChocolateChips"];hg.__super__=D;hg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();new Z(a);var b=new va(a),c=a.addEntity();c.setLocalPosition(0,-250);c.setLocalRotation(0,0,135);(new t(c,"cookieChocolateChipBag2")).setAnchor(0.5,0.5);var d=a.addEntity();(new Aa(d,
"cookieChocolateChipPour")).setOnAnimationComplete(function(){d.destroy()});d.setLocalPosition(0,-190);var e=a.addEntity();(new t(e,"cookieChocolateChips")).setAnchor(0.5,0.5);b.addDeferredAction(2.5,function(){c.destroy()});ab.create(a,"sfx_chocolate_chips_drop_1");return a},__class__:hg});var kh=function(){};h["game.cookingGame.prototypes.PouredCookieButter"]=kh;kh.__name__=["game","cookingGame","prototypes","PouredCookieButter"];kh.__super__=D;kh.prototype=q(D.prototype,{create:function(a){var b=
a.addEntity();a=new Z(b);var c=new va(b),d=b.addEntity();d.setLocalPosition(0,-250);d.setLocalRotation(0,0,135);(new t(d,"cookieSmallPlate")).setAnchor(0.5,0.5);var e=b.addEntity();(new t(e,"cookieButterStick")).setAnchor(0.5,0.5);e.setLocalPosition(0,-190);a.addTween(e.getPositionRef(),"y",e.getPositionRef().y,0,0.5,C.easeInQuad,0,function(){ab.create(b,"sfx_butter_drop_1",!1,!0)});c.addDeferredAction(1.5,function(){d.destroy()});return b},__class__:kh});var ue=function(){};h["game.cookingGame.prototypes.PouredCookieFlour"]=
ue;ue.__name__=["game","cookingGame","prototypes","PouredCookieFlour"];ue.__super__=D;ue.prototype=q(D.prototype,{create:function(a){var b=a.addEntity(),c=new Z(b);a=new va(b);var d=b.addEntity();d.setLocalPosition(0,-250);d.setLocalRotation(0,0,-135);(new t(d,"pizzaFlour")).setAnchor(0.5,0.5);for(var e=!1,f=0;5>f;){var h=f++,e=!e;a.addDeferredAction(0.25*h,function(){var a=b.addEntity(),d=new t(a,"cookieFlour");d.setAnchor(0.5,0);a.setLocalScale(e?-1:1,0);a.setLocalPosition(-50,-190);var f=a.getPositionRef(),
g=a.getLocalPosition().y,h=a.getLocalPosition().y+30;c.addTween(f,"y",g,h,1,C.linear);f=a.getScaleRef();g=a.getLocalScale().x;h=1.1*a.getLocalScale().x;c.addTween(f,"x",g,h,1,C.easeOutQuint);a=a.getScaleRef();c.addTween(a,"y",0,1,1,C.easeOutQuint);a=d.getSprite();c.addTween(a,"alpha",0,0.6,0.15,C.linear);d=d.getSprite();c.addTween(d,"alpha",0.6,0,0.15,C.linear,0.9)})}f=b.addEntity();(new t(f,"cookieFlour3")).setAnchor(0.5,0.5);f=f.getPositionRef();c.addTween(f,"y",70,0,1,C.linear);a.addDeferredAction(2.5,
function(){d.destroy()});ab.create(b,"sfx_flour_pour_1",!1,!0);return b},__class__:ue});var ve=function(){};h["game.cookingGame.prototypes.PouredCookieMilk"]=ve;ve.__name__=["game","cookingGame","prototypes","PouredCookieMilk"];ve.__super__=D;ve.prototype=q(D.prototype,{create:function(a){var b=a.addEntity(),c=new Z(b);a=new va(b);var d=b.addEntity();d.setLocalPosition(0,-250);(new t(d,"cookieMilkCup2")).setAnchor(0.5,0.5);for(var e=0;2>e;){var f=e++;a.addDeferredAction(0.25*f,function(){var a=b.addEntity(),
d=new t(a,"cookieMilkPour1");d.setAnchor(0.5,0);a.setLocalScale(1,0);a.setLocalPosition(-150,-190);var e=a.getScaleRef(),f=a.getLocalScale().x,g=1.1*a.getLocalScale().x;c.addTween(e,"x",f,g,1,C.easeOutQuint);a=a.getScaleRef();c.addTween(a,"y",0,1,1,C.easeOutQuint);a=d.getSprite();c.addTween(a,"alpha",0,0.6,0.15,C.linear);d=d.getSprite();c.addTween(d,"alpha",0.6,0,0.15,C.linear,0.9)})}e=b.addEntity();(new t(e,"cookieMilkPour2")).setAnchor(0.5,0.5);e=e.getPositionRef();c.addTween(e,"y",50,0,1,C.linear);
a.addDeferredAction(2.5,function(){d.destroy()});ab.create(b,"sfx_milk_pour_1",!1,!0);return b},__class__:ve});var xe=function(){};h["game.cookingGame.prototypes.PouredEggPrototype"]=xe;xe.__name__=["game","cookingGame","prototypes","PouredEggPrototype"];xe.__super__=D;xe.prototype=q(D.prototype,{create:function(a){var b=a.addEntity(),c=new Z(b);a=new va(b);var d=b.addEntity();d.setLocalPosition(-235,-120);var e=d.getPositionRef();c.addTween(e,"y",-120,-110,0.05,C.linear,0,function(){var a=d.getPositionRef();
c.addTween(a,"y",-110,-130,0.05,C.linear,0,function(){var a=d.getPositionRef();c.addTween(a,"y",-130,-110,0.05,C.linear,0,function(){var a=d.getPositionRef();c.addTween(a,"y",-110,-130,0.05,C.linear,0,function(){var a=d.getPositionRef();c.addTween(a,"y",-130,-110,0.05,C.linear,0,function(){var a=d.getPositionRef();c.addTween(a,"y",-110,-130,0.05,C.linear,0,function(){var a=d.getPositionRef();c.addTween(a,"x",-235,0,0.35,C.easeInOutQuad,0.05);a=d.getPositionRef();c.addTween(a,"y",-120,-250,0.35,C.easeInOutQuad,
0.05)})})})})})});var f=new Aa(d,"cookieEggCrack");f.setOnAnimationComplete(function(){var a=b.addEntity();a.setLocalPosition(0,-20);new Aa(a,"cookieEggYolk")});f.stop();a.addDeferredAction(0.3,function(){f.play()});a.addDeferredAction(2.5,function(){d.destroy()});ab.create(b,"sfx_egg_crack_1",!1,!0);return b},__class__:xe});var Gg=function(){};h["game.cookingGame.prototypes.PouredSaladDressingPrototype"]=Gg;Gg.__name__=["game","cookingGame","prototypes","PouredSaladDressingPrototype"];Gg.__super__=
D;Gg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();new Z(a);var b=new va(a),c=a.addEntity();c.setLocalPosition(175,-400);(new t(c,"saladDressing2")).setAnchor(0.5,0.5);var d=a.addEntity();new Aa(d,"dressingPour");d.setLocalPosition(0,-140);b.addDeferredAction(2,function(){c.destroy()});u.playSoundByName("sfx_dressing_pour_1");return a},__class__:Gg});var lh=function(a,b){Kb.call(this,a,b)};h["game.cookingGame.prototypes.PouredSaucePrototype"]=lh;lh.__name__=["game","cookingGame","prototypes",
"PouredSaucePrototype"];lh.__super__=Kb;lh.prototype=q(Kb.prototype,{createAsChild:function(a){var b=a.addEntity();a=[new Hc(1024)];var c=new ya(b,a,new Ug);c.setActive(!1);var d=b.addEntity();d.setLocalPosition(75,-270);(new t(d,"pizzaSauceCan")).setAnchor(0.5,0.5);var e=b.addEntity(),f=new Aa(e,"pizzaSaucePour");f.stop();e.setLocalScale(1.7,1.7);e.setVisible(!1);var h=new Z(b);a=d.getRotationRef();h.addTween(a,"z",0,-90,0.85,C.easeInOutQuad,0,function(){e.setVisible(!0);f.play();var a=d.getPositionRef(),
c=d.getLocalPosition().y,m=d.getLocalPosition().y-500;h.addTween(a,"y",c,m,0.5,C.easeInOutQuad,0.5);a=d.getRotationRef();h.addTween(a,"z",d.getLocalRotation().z,0,0.5,C.easeInOutQuad,0.5);ab.create(b,"sfx_sauce_pour_1",!1,!0)});(new va(b)).addDeferredAction(1.5,function(){c.setActive(!0);f.setAnimation("pizzaSauceSpreading");new wd(b);new Me(b,"sfx_sauce_spread_1",!0)});return b},__class__:lh});var Og=function(){};h["game.cookingGame.prototypes.PressableBlenderPrototype"]=Og;Og.__name__=["game","cookingGame",
"prototypes","PressableBlenderPrototype"];Og.__super__=D;Og.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"blenderBase")).setAnchor(0.5,0.5);a.addEntity();(new gb).wh=new m(500,500);var b=a.addEntity();b.setLocalPosition(-29,-80);(new t(b,"smoothieBlenderChoppedFruit")).setAnchor(0.5,0.5);b=a.addEntity();b.setLocalPosition(-31,99);var b=new Aa(b,"smoothieBlend"),c=a.addEntity();new la(c,new m(250,250));var d=new Ad(c,new He);d.set_chargeRate(0.25);c.setLocalPosition(-36,210);
c=new t(c,"smoothieBlenderButtonUp");c.setAnchor(0.5,0.5);new eh(a,d,c,b);b=a.addEntity();b.setLocalPosition(-33,-222);(new t(b,"smoothieBlenderCap")).setAnchor(0.5,0.5);return a},__class__:Og});var pg=function(a,b,c,d){Kb.call(this,a,b);this._firstPosition=c;this._secondPosition=d};h["game.cookingGame.prototypes.RollingPinPrototype"]=pg;pg.__name__=["game","cookingGame","prototypes","RollingPinPrototype"];pg.__super__=Kb;pg.prototype=q(Kb.prototype,{create:function(a){a=a.addEntity();(new t(a,"rollingPin")).setAnchor(0.5,
0.5);var b=new fh(a,this._firstPosition,this._secondPosition);b.set_minPercentage(this._minProgressPercentage);b.set_maxPercentage(this._maxProgressPercentage);return a},__class__:pg});var Fg=function(){};h["game.cookingGame.prototypes.SaladBowlWithCarrotsPrototype"]=Fg;Fg.__name__=["game","cookingGame","prototypes","SaladBowlWithCarrotsPrototype"];Fg.__super__=D;Fg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"saladSalad4")).setAnchor(0.5,0.5);b.setLocalPosition(0,
-50);b=new gb;b.wh=new m(515,515);new wb(a,b);new Ib(a);return a},__class__:Fg});var rg=function(){};h["game.cookingGame.prototypes.SauceCan"]=rg;rg.__name__=["game","cookingGame","prototypes","SauceCan"];rg.__super__=D;rg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=new t(a,"pizzaSauceCan");b.setAnchor(0.5,0.5);(new qb(a,new m(b.getSize().x,b.getSize().y),new m(0,0))).setReturnOnDrop(!0);(new Gc(a)).set_prototypeToLayer(new lh(0.5,1));return a},__class__:rg});var sg=function(a,
b,c){Kb.call(this,a,b);this._radius=c};h["game.cookingGame.prototypes.SauceSpatulaPrototype"]=sg;sg.__name__=["game","cookingGame","prototypes","SauceSpatulaPrototype"];sg.__super__=Kb;sg.prototype=q(Kb.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"spatula")).setAnchor(0.5,0.5);b=new gh(a,b,this._radius,0.75*this._radius);b.set_minPercentage(this._minProgressPercentage);b.set_maxPercentage(this._maxProgressPercentage);return a},__class__:sg});var Jg=function(){};h["game.cookingGame.prototypes.SliceableApplePrototype"]=
Jg;Jg.__name__=["game","cookingGame","prototypes","SliceableApplePrototype"];Jg.__super__=D;Jg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"smoothieAppleCut1")).setAnchor(0.5,0.5);new bc(a,[new Ea("smoothieAppleCut2",new s(0,0),"smoothieAppleSlice"),new Ea("smoothieAppleCut3",new s(50,0),"smoothieAppleSlice"),new Ea("smoothieAppleCut4",new s(100,0),"smoothieAppleSlice"),new Ea("smoothieAppleCut5",new s(150,0),"smoothieAppleSlice")]);new ya(a,[new F(new m(0,
1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250)],new db);return a},__class__:Jg});var Kg=function(){};h["game.cookingGame.prototypes.SliceableBananaPrototype"]=Kg;Kg.__name__=["game","cookingGame","prototypes","SliceableBananaPrototype"];Kg.__super__=D;Kg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"smoothieBananaCut1")).setAnchor(0.5,0.5);new bc(a,[new Ea("smoothieBananaCut2",new s(0,0),"smoothieBananaSlice"),new Ea("smoothieBananaCut3",
new s(50,0),"smoothieBananaSlice"),new Ea("smoothieBananaCut4",new s(100,0),"smoothieBananaSlice"),new Ea("smoothieBananaCut5",new s(150,0),"smoothieBananaSlice"),new Ea("smoothieBananaCut6",new s(200,0),"smoothieBananaSlice"),new Ea("smoothieBananaCut7",new s(250,0),"smoothieBananaSlice"),new Ea("smoothieBananaCut8",new s(300,0),"smoothieBananaSlice")]);new ya(a,[new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,
1),250)],new db);return a},__class__:Kg});var bg=function(){};h["game.cookingGame.prototypes.SliceableCheesePrototype"]=bg;bg.__name__=["game","cookingGame","prototypes","SliceableCheesePrototype"];bg.__super__=D;bg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"hamburgerCheese1")).setAnchor(0.5,0.5);new Bd(a);new ya(a,[new F(new m(0,1),250)],new db);return a},__class__:bg});var Bg=function(){};h["game.cookingGame.prototypes.SliceableCucumberPrototype"]=
Bg;Bg.__name__=["game","cookingGame","prototypes","SliceableCucumberPrototype"];Bg.__super__=D;Bg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"saladCucumberSlice1")).setAnchor(0.5,0.5);new bc(a,[new Ea("saladCucumberSlice2",new s(-100,0),"saladCucumber2"),new Ea("saladCucumberSlice3",new s(-50,0),"saladCucumber3"),new Ea("saladCucumberSlice4",new s(0,0),"saladCucumber3"),new Ea("saladCucumberSlice5",new s(50,0),"saladCucumber3"),new Ea("saladCucumberSlice6",
new s(100,0),"saladCucumber3"),new Ea("saladCucumberSlice7",new s(150,0),"saladCucumber3"),new Ea("saladCucumberSlice8",new s(200,0),"saladCucumber3"),new Ea("saladCucumberSlice9",new s(250,0),"saladCucumber3")]);new ya(a,[new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250)],new db);return a},__class__:Bg});var re=function(){};h["game.cookingGame.prototypes.SliceableLettucePrototype"]=
re;re.__name__=["game","cookingGame","prototypes","SliceableLettucePrototype"];re.__super__=D;re.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"saladLettuce1")).setAnchor(0.5,0.5);new Cd(a);new ya(a,[new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250)],new db);return a},__class__:re});var Cg=function(){};h["game.cookingGame.prototypes.SliceableOnionPrototype"]=Cg;Cg.__name__=["game","cookingGame",
"prototypes","SliceableOnionPrototype"];Cg.__super__=D;Cg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"saladOnion")).setAnchor(0.5,0.5);new bc(a,[new Ea("saladOnionSlice2",new s(-100,0),"saladOnion2"),new Ea("saladOnionSlice3",new s(-25,0),"saladOnion2"),new Ea("saladOnionSlice4",new s(75,0),"saladOnion2"),new Ea("saladOnionSlice5",new s(125,0),"saladOnion2")]);new ya(a,[new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),
250)],new db);return a},__class__:Cg});var Lg=function(){};h["game.cookingGame.prototypes.SliceableStrawberryPrototype"]=Lg;Lg.__name__=["game","cookingGame","prototypes","SliceableStrawberryPrototype"];Lg.__super__=D;Lg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"smoothieStrawberryCut1")).setAnchor(0.5,0.5);new bc(a,[new Ea("smoothieStrawberryCut2",new s(0,0),"smoothieStrawberrySlice1"),new Ea("smoothieStrawberryCut3",new s(100,0),"smoothieStrawberrySlice2")]);
new ya(a,[new F(new m(0,1),250),new F(new m(0,1),250)],new db);return a},__class__:Lg});var qe=function(){};h["game.cookingGame.prototypes.SliceableTomatoPrototype"]=qe;qe.__name__=["game","cookingGame","prototypes","SliceableTomatoPrototype"];qe.__super__=D;qe.prototype=q(D.prototype,{create:function(a){a=a.addEntity();var b=a.addEntity();(new t(b,"burgerTomato1")).setAnchor(0.5,0.5);new Ed(a);new ya(a,[new F(new m(0,1),250),new F(new m(0,1),250),new F(new m(0,1),250)],new db);return a},__class__:qe});
var td=function(){};h["game.cookingGame.prototypes.SlicingKnifePrototype"]=td;td.__name__=["game","cookingGame","prototypes","SlicingKnifePrototype"];td.__super__=D;td.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"knife")).setAnchor(0.5,0.5);new ih(a);return a},__class__:td});var Ng=function(a){this._placeableItems=a};h["game.cookingGame.prototypes.SmoothieFruitTray"]=Ng;Ng.__name__=["game","cookingGame","prototypes","SmoothieFruitTray"];Ng.__super__=D;Ng.prototype=q(D.prototype,
{create:function(a){a=a.addEntity();(new t(a,"smoothieFruitTray")).setAnchor(0.5,0.5);var b=a.addEntity();b.setLocalPosition(0,-140);new la(b,new m(150,100));b=new rb(b);b.set_arrowRotation(-90);b.set_order(2);b.set_placeableItemToInstantiate(this._placeableItems[0]);b=a.addEntity();b.setLocalPosition(0,-20);new la(b,new m(150,100));b=new rb(b);b.set_arrowRotation(-90);b.set_order(1);b.set_placeableItemToInstantiate(this._placeableItems[1]);b=a.addEntity();b.setLocalPosition(0,97);new la(b,new m(150,
100));b=new rb(b);b.set_arrowRotation(-90);b.set_order(0);b.set_placeableItemToInstantiate(this._placeableItems[2]);return a},__class__:Ng});var fg=function(){};h["game.cookingGame.prototypes.StackableBurgerPrototype"]=fg;fg.__name__=["game","cookingGame","prototypes","StackableBurgerPrototype"];fg.__super__=D;fg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"hamburgerBun1")).setAnchor(0.5,0.5);var b=new gb;b.wh=new m(515,515);new wb(a,b);b=new Ib(a);b.set_layeredIngredientStackY(-25);
b.set_numIngredientsExpected(6);return a},__class__:fg});var I=function(a){this._imageId=a};h["game.cookingGame.prototypes.StaticImageObject"]=I;I.__name__=["game","cookingGame","prototypes","StaticImageObject"];I.__super__=D;I.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,this._imageId)).setAnchor(0.5,0.5);return a},__class__:I});var Hg=function(){};h["game.cookingGame.prototypes.TossableSaladPrototype"]=Hg;Hg.__name__=["game","cookingGame","prototypes","TossableSaladPrototype"];
Hg.__super__=D;Hg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"saladBowl")).setAnchor(0.5,0.5);new ya(a,[new F(new m(0,-1),250),new F(new m(0,-1),250),new F(new m(0,-1),250),new F(new m(0,-1),250),new F(new m(0,-1),250),new F(new m(0,-1),250)],new db);var b=a.addEntity();(new t(b,"saladWoodenSpoon")).setAnchor(0.9,0.1);var c=a.addEntity();(new t(c,"saladWoodenFork")).setAnchor(0.1,0.1);var d=a.addEntity();d.setLocalPosition(0,85);d=new t(d,"toss1");d.setAnchor(0.5,1);new jh(a,
d,b,c);return a},__class__:Hg});var zg=function(){};h["game.cookingGame.prototypes.WholePizzaOnPizzaBoard"]=zg;zg.__name__=["game","cookingGame","prototypes","WholePizzaOnPizzaBoard"];zg.__super__=D;zg.prototype=q(D.prototype,{create:function(a){a=a.addEntity();(new t(a,"pizzaBoard")).setAnchor(0.5,0.5);var b=a.addEntity();(new t(b,"cookedPizza")).setAnchor(0.5,0.5);b.setLocalPosition(0,-50);new hh(a,new pi(a));new ya(a,[new F(new m(-1,0),300),new F(new m(0,-1),300),new F(new m(1,-1),300),new F(new m(-1,
-1),300)],new db);new Je(a,["sfx_pizza_cutter_1"]);return a},__class__:zg});var Cf=function(a){n.call(this,a)};h["game.gameplay.Hud"]=Cf;Cf.__name__=["game","gameplay","Hud"];Cf.__super__=n;Cf.prototype=q(n.prototype,{getButtonGroup:function(){return this._buttonGroup},init:function(){n.prototype.init.call(this);this.construct()},construct:function(){this._uiPanel=Ja.createFullscreenUiPanel(this.getGameState());this._buttonGroup=new Qc(this._uiPanel.getEntity());var a=new La;a.deactivateButtonOnClick=
!1;a.x=-0.8;a.y=-0.8;a.defaultImageName="pauseButton";this._pauseButton=Ba.createButton(a,this._uiPanel.getEntity(),B(this,this.onPauseClick));a.x=0.8;a.y=-0.8;a.defaultImageName="graySoundOn";this._soundButton=Ba.createButton(a,this._uiPanel.getEntity());new Fd(this._soundButton,"graySoundOn","graySoundOff")},onPauseClick:function(){this.dispatchEvent(new cd(cd.SHOW_MENU))},destroy:function(){n.prototype.destroy.call(this);null!=this._uiPanel&&this._uiPanel.getEntity().destroy()},__class__:Cf});
var cd=function(a){this._type=a};h["game.gameplay.HudEvent"]=cd;cd.__name__=["game","gameplay","HudEvent"];cd.__super__=P;cd.prototype=q(P.prototype,{__class__:cd});var Ci=function(){this._score=this._levelTime=0};h["game.gameplay.LevelStats"]=Ci;Ci.__name__=["game","gameplay","LevelStats"];Ci.prototype={getScore:function(){return this._score},setScore:function(a){this._score=a},setLevelTime:function(a){this._levelTime=a},getLevelTime:function(){return this._levelTime},__class__:Ci};var qi=function(){};
h["game.gestures.IGesture"]=qi;qi.__name__=["game","gestures","IGesture"];qi.prototype={__class__:qi,__properties__:{get_completionPercent:"get_completionPercent"}};var Ab=function(){this._eventListeners=[]};h["game.gestures.Gesture"]=Ab;Ab.__name__=["game","gestures","Gesture"];Ab.__interfaces__=[qi];Ab.__super__=Za;Ab.prototype=q(Za.prototype,{get_completionPercent:function(){throw new G("Not implemented");},onStartInput:function(a,b){},onMoveInput:function(a,b){},onStopInput:function(){},onComplete:function(){this.dispatchEvent(new Pe("complete"))},
__class__:Ab,__properties__:{get_completionPercent:"get_completionPercent"}});var bh=function(a){this._boundsWh=new m;this._boundsUl=new m;this._useBounds=!1;this._eventListeners=[];this._inputService=a};h["game.gestures.GestureDetector"]=bh;bh.__name__=["game","gestures","GestureDetector"];bh.__super__=Za;bh.prototype=q(Za.prototype,{get_useBounds:function(){return this._useBounds},set_useBounds:function(a){return this._useBounds=a},get_boundsUl:function(){return this._boundsUl},set_boundsUl:function(a){return this._boundsUl=
a},get_boundsWh:function(){return this._boundsWh},set_boundsWh:function(a){return this._boundsWh=a},get_gesture:function(){return this._gesture},set_gesture:function(a){null!=this._gesture&&this._gesture.removeEventListener("complete",B(this,this.onGestureComplete));this._gesture=a;null!=this._gesture&&this._gesture.addEventListener("complete",B(this,this.onGestureComplete));return this._gesture},update:function(){this.updateGesture()},updateGesture:function(){if(null!=this._gesture)if(this._inputService.get_pointerDownThisFrame())this._inputService.get_pointerPosition(),
this._gesture.onStartInput(this._inputService.get_pointerPosition().x,this._inputService.get_pointerPosition().y);else if(this._inputService.get_pointerDown()){if(!this._useBounds||this.isCursorInBounds()){var a=this._inputService.get_pointerDelta();this._gesture.onMoveInput(a.x,a.y)}}else if(this._inputService.get_pointerUpThisFrame())this._gesture.onStopInput()},isCursorInBounds:function(){var a=this._inputService.get_pointerPosition();return a.x>this._boundsUl.x&&a.x<this._boundsUl.x+this._boundsWh.x&&
a.y>this._boundsUl.y?a.y<this._boundsUl.y+this._boundsWh.y:!1},onGestureComplete:function(a){this.dispatchEvent(a)},__class__:bh,__properties__:{set_gesture:"set_gesture",get_gesture:"get_gesture",set_boundsWh:"set_boundsWh",get_boundsWh:"get_boundsWh",set_boundsUl:"set_boundsUl",get_boundsUl:"get_boundsUl",set_useBounds:"set_useBounds",get_useBounds:"get_useBounds"}});var Pe=function(a){this._type=a};h["game.gestures.GestureEvent"]=Pe;Pe.__name__=["game","gestures","GestureEvent"];Pe.__super__=P;
Pe.prototype=q(P.prototype,{__class__:Pe});var ri=function(){};h["game.gestures.IGestureInputService"]=ri;ri.__name__=["game","gestures","IGestureInputService"];ri.prototype={__class__:ri,__properties__:{get_pointerDelta:"get_pointerDelta",get_pointerPosition:"get_pointerPosition",get_pointerUpThisFrame:"get_pointerUpThisFrame",get_pointerDown:"get_pointerDown",get_pointerDownThisFrame:"get_pointerDownThisFrame"}};var F=function(a,b){this._resetOnBreakLine=!0;this._lineDotTolerance=0.35;this._totalSwipeCompletion=
0;this._eventListeners=[];this._direction=a;this._swipeLength=b};h["game.gestures.LineSwipeGesture"]=F;F.__name__=["game","gestures","LineSwipeGesture"];F.__super__=Ab;F.prototype=q(Ab.prototype,{get_resetOnBreakLine:function(){return this._resetOnBreakLine},set_resetOnBreakLine:function(a){return this._resetOnBreakLine=a},get_direction:function(){return this._direction},get_completionPercent:function(){return Math.min(1,this._totalSwipeCompletion/this._swipeLength)},onStartInput:function(a,b){this._totalSwipeCompletion=
0},onMoveInput:function(a,b){var c=(new m(a,b)).getLength();if(!(0>=c)){var d=(new m(a,b)).getNormalized(),d=this._direction.getNormalized().dotProduct(d);if(d<1-this._lineDotTolerance)this.get_resetOnBreakLine()&&(this._totalSwipeCompletion=0);else if(this._totalSwipeCompletion+=d*c,this._totalSwipeCompletion>=this._swipeLength)this.onComplete()}},onStopInput:function(){Ab.prototype.onStopInput.call(this)},__class__:F,__properties__:q(Ab.prototype.__properties__,{get_direction:"get_direction",set_resetOnBreakLine:"set_resetOnBreakLine",
get_resetOnBreakLine:"get_resetOnBreakLine"})});var Ke=function(a,b){this._mousePosition=new m(0,0);this._prevMousePosition=new m(0,0);this._prevPointerDown=this._pointerDown=!1;this._inputManager=null;n.call(this,a);this._inputManager=b};h["game.gestures.MouseGestureInput"]=Ke;Ke.__name__=["game","gestures","MouseGestureInput"];Ke.__interfaces__=[ri];Ke.__super__=n;Ke.prototype=q(n.prototype,{get_pointerDownThisFrame:function(){return this._prevPointerDown?!1:this._pointerDown},get_pointerDown:function(){return this._pointerDown},
get_pointerUpThisFrame:function(){return this._prevPointerDown?!this._pointerDown:!1},get_pointerPosition:function(){return new s(this._mousePosition.x,this._mousePosition.y)},get_pointerDelta:function(){return new s(this._mousePosition.x-this._prevMousePosition.x,this._mousePosition.y-this._prevMousePosition.y)},update:function(){n.prototype.update.call(this);this._prevMousePosition=new m(this.get_pointerPosition().x,this.get_pointerPosition().y);this._prevPointerDown=this.get_pointerDown();this._pointerDown=
this._inputManager.isLeftMouseDown();this._mousePosition=this._inputManager.getMousePosition()},__class__:Ke,__properties__:{get_pointerDelta:"get_pointerDelta",get_pointerPosition:"get_pointerPosition",get_pointerUpThisFrame:"get_pointerUpThisFrame",get_pointerDown:"get_pointerDown",get_pointerDownThisFrame:"get_pointerDownThisFrame"}});var Hc=function(a){this._totalCompletion=this._rotationRequired=0;this._lastDelta=new m(0,0);this._minDeltaLength=25;this._eventListeners=[];this._rotationRequired=
a};h["game.gestures.RotationGesture"]=Hc;Hc.__name__=["game","gestures","RotationGesture"];Hc.__super__=Ab;Hc.prototype=q(Ab.prototype,{get_rotationRequired:function(){return this._rotationRequired},set_rotationRequired:function(a){return this._rotationRequired=a},get_minDeltaLength:function(){return this._minDeltaLength},set_minDeltaLength:function(a){return this._minDeltaLength=a},get_completionPercent:function(){var a=this._rotationRequired;0>this._rotationRequired&&(a*=-1);return Math.min(1,this._totalCompletion/
a)},onStartInput:function(a,b){Ab.prototype.onStartInput.call(this,a,b);this._lastDelta=new m(0,0)},onMoveInput:function(a,b){Ab.prototype.onMoveInput.call(this,a,b);var c=new m(a,b);if(!(c.getLength()<this._minDeltaLength)){var d=X.getAngleInDegreesBetween2dVectors(this._lastDelta,c);0>this._rotationRequired&&(d*=-1);this._totalCompletion+=Math.max(0,d);d=this._rotationRequired;0>this._rotationRequired&&(d*=-1);if(this._totalCompletion>=d)this.onComplete();this._lastDelta=c}},__class__:Hc,__properties__:q(Ab.prototype.__properties__,
{set_minDeltaLength:"set_minDeltaLength",get_minDeltaLength:"get_minDeltaLength",set_rotationRequired:"set_rotationRequired",get_rotationRequired:"get_rotationRequired"})});var Gd=function(a){this._background=this._uiPanel=this._avatarCreator=null;V.call(this);this._gameController=a;this._uiPanel=Ja.createFullscreenUiPanel(this);lb.createAnimation("sparkle","sparkleXml",new m(-307.5,-231.75),1,!1);var b=this.addEntity();this._avatarCreator=new nd(b,a)};h["game.screens.AvatarCreatorScreen"]=Gd;Gd.__name__=
["game","screens","AvatarCreatorScreen"];Gd.__super__=V;Gd.prototype=q(V.prototype,{__class__:Gd});var Yb=function(a){V.call(this);this._gameController=a;a=Ja.createFullscreenUiPanel(this);this.createUi(a)};h["game.screens.DishSelectScreen"]=Yb;Yb.__name__=["game","screens","DishSelectScreen"];Yb.__super__=V;Yb.prototype=q(V.prototype,{init:function(){V.prototype.init.call(this);this._gameController.set_isFtueActive(!1);u.playMusicByName("music_cheery_monday")},createUi:function(a){var b=this.createBackground(a),
c=this.createLevelButtonsContainer(a);new Va(c,b,0.6);this.createHeading(c);this.createBackButton(c);this.createAvatarButton(c);this.createForegroundLeft(a);this.createForegroundRight(a)},createBackground:function(a){var b=a.addEntity();(new t(b,"brickBackground",null)).setAnchor(0.5,0.5);new R(b,a);new Ua(b);return b},createForegroundLeft:function(a){var b=a.addEntity();(new t(b,"menuSelectForegroundLeft")).setAnchor(0.5,0.5);a=new R(b,a);a.setCoords(new m(-1,1));a.setAlignment(wa.Left,xa.Bottom)},
createForegroundRight:function(a){var b=a.addEntity();(new t(b,"menuSelectForegroundRight")).setAnchor(0.5,0.5);a=new R(b,a);a.setCoords(new m(1,1));a.setAlignment(wa.Right,xa.Bottom)},createHeading:function(a){var b=new Xc;b.text=ja.getString("DISH_SELECT_HEADING");b.coords=new m(0,-265);this._gameController.get_gameUiFactory().createLocalHeading(a,b)},createBackButton:function(a){var b=new La;b.defaultImageName="menuSelectHomeButton";b.horizontalAlignment=wa.Left;b.verticalAlignment=xa.Top;b.x=
-90;b.y=300;b.clickSoundId="sfx_back_1";Ba.createButton(b,a,B(this,this.onBackButtonClick))},createAvatarButton:function(a){var b=new La;b.defaultImageName="menuSelectAvatarCreatorButton";b.horizontalAlignment=wa.Right;b.verticalAlignment=xa.Top;b.x=90;b.y=300;b.clickSoundId="sfx_click_1";Ba.createButton(b,a,B(this,this.onAvatarButtonClick))},onAvatarButtonClick:function(){sa.doTransition(this,new Gd(this._gameController))},createLevelButtonsContainer:function(a){var b=this.addEntity();(new R(b,a)).setCoords(new m(0,
-0.07));(new t(b,"menuPopup")).setAnchor(0.5,0.5);a=b.addEntity();(new t(a,"popupIcon")).setAnchor(0.5,0.5);a.setLocalPosition(-230,-265);a=new Zd(b);a.set_cellSize(new m(249,174));a.set_cellGap(new m(12,12));for(var c=0,d=this._gameController.get_dishManager().get_dishes();c<d.length;){var e=d[c];++c;var e=this._gameController.get_gameUiFactory().createDishSelectButton(b,e,this._gameController.get_playerData()),f=e.getComponent(t);a.addItem(f);e.getComponent(ne).addEventListener("click",B(this,this.onDishSelectButtonClick))}return b},
onDishSelectButtonClick:function(a){var b=this;a=a.get_dish();this._gameController.set_selectedDish(a);var c=O.getAsset(a.nameId+"_Load");this._loadingScreen=new od;sa.doMidpointTransition(this,this._loadingScreen,function(){var a=b._loadingScreen.addEntity();(new va(a)).addDeferredAction(1,function(){b.destroy();c.load(B(b,b.onLoadComplete))})})},onLoadComplete:function(){sa.doTransition(this._loadingScreen,new fe(this._gameController),!1)},onBackButtonClick:function(){sa.doTransition(this,new jc(this._gameController))},
__class__:Yb});var Qe=function(a){V.call(this);this._gameController=a};h["game.screens.GameCompleteScreen"]=Qe;Qe.__name__=["game","screens","GameCompleteScreen"];Qe.__super__=V;Qe.prototype=q(V.prototype,{init:function(){V.prototype.init.call(this);this._gameController.get_utagManager().link("GameComplete: [Game Title]","games");var a=Ja.createFullscreenUiPanel(this),b=1.3333333333333333<p.getInstance().getGameSize().x/p.getInstance().getGameSize().y,c=this.addEntity();(new R(c,a)).setCoords(new m(0,
0));new Ua(c);b=new t(c,b?"gameCompleteBg":"gameCompleteBgStandard");b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;var b=this.addEntity(),d=new R(b,a);d.setSize(new m(500,700));d.setCoords(new m(0.5,0));new Va(b,c,0.7);c=b.addEntity();c.setLocalPosition(0,-8);d=b.addEntity();d.setLocalPosition(0,-100);new ca(d,ja.getString("GAME_COMPLETE_HEADER"),{fontSize:74,fontFamily:"ralewaybold",fill:"#FFFFFF"});d=b.addEntity();d.setLocalPosition(0,-50);d=new ca(d,ja.getString("GAME_COMPLETE_TEXT"),{fontSize:28,
align:"center",fontFamily:"ralewaybold",fill:"#FFFFFF",wordWrapWidth:475,wordWrap:!0});d.getText().anchor.x=0.5;d.getText().anchor.y=0;c=c.addEntity();(new t(c,"splashLogoIcon")).setAnchor(0.5,0.5);c.setLocalPosition(0,-225);c=new La;c.x=0;c.y=270;c.defaultImageName="playButtonLarge";c.clickSoundId="sfx_click_1";Ba.createButton(c,b,B(this,this.onNextClicked));b=this.addEntity();a=new R(b,a);a.setCoords(new m(-0.5,0.9));a.setAlignment(wa.Center,xa.Bottom);(new t(b,"gameCompletePopup")).setAnchor(0.5,
0.5);a=b.addEntity();a.setLocalPosition(0,-102);a=new ca(a,ja.getString("GAME_COMPLETE_GRADE_HEADING"),{fontSize:28,align:"center",fontFamily:"ralewaybold",fill:"#FFFFFF",wordWrapWidth:475,wordWrap:!0});a.getText().anchor.x=0.5;a.getText().anchor.y=0;c=b.addEntity();c.setLocalPosition(0,-55);a=this._gameController.get_playerData().getAverageDishRating();d=ja.getString("GAME_COMPLETE_GRADE_"+a);c=new ca(c,d,{fontSize:82,align:"center",fontFamily:"ralewayblack",fill:"#FFFFFF",wordWrapWidth:475,wordWrap:!0});
c.getText().anchor.x=0.5;c.getText().anchor.y=0;c=b.addEntity();c.setLocalPosition(0,55);(new t(c,"textShadow")).setAnchor(0.5,0.5);c.setScale(0.5,0.5);for(c=0;c<a;){var d=-100+50*c++,e=b.addEntity();e.setLocalPosition(d,55);(new t(e,"star")).setAnchor(0.5,0.5);e.setLocalScale(0.5,0.5)}},onNextClicked:function(){sa.doTransition(this,new Yb(this._gameController));ma.getInstance().setHasBeatenGame(!0)},__class__:Qe});var fe=function(a){V.call(this);this._gameController=a};h["game.screens.GameplayScreen"]=
fe;fe.__name__=["game","screens","GameplayScreen"];fe.__super__=V;fe.prototype=q(V.prototype,{init:function(){V.prototype.init.call(this);var a=this.addEntity();this._cookingGameController=new me(a,this._gameController)},__class__:fe});var od=function(){V.call(this)};h["game.screens.LoadingScreen"]=od;od.__name__=["game","screens","LoadingScreen"];od.__super__=V;od.prototype=q(V.prototype,{init:function(){V.prototype.init.call(this);var a=Ja.createFullscreenUiPanel(this);this._background=this.addEntity();
new R(this._background,a);this._bgSprite=new t(this._background,"overlay");this._bgSprite.getSprite().anchor.x=0.5;this._bgSprite.getSprite().anchor.y=0.5;new Ua(this._background);this._transitionBarsLeft=[];this._transitionBarsRight=[];for(a=0;10>a;){var b=a++,c=this.addEntity();this._background.addChild(c);var d=new t(c,"transitionBar"+(b%2+1));d.getSprite().anchor.x=1;d.getSprite().anchor.y=0;c.setLocalPosition(-68*b,-384);this._transitionBarsLeft.push(c)}for(a=0;10>a;)b=a++,c=this.addEntity(),
this._background.addChild(c),d=new t(c,"transitionBar"+(2-b%2)),d.getSprite().anchor.x=0,d.getSprite().anchor.y=1,c.setLocalPosition(68*b-1,384),this._transitionBarsRight.push(c);this._container=this._background.addEntity(!0);a=this._container.addEntity(!0);a=new t(a,"loadingLogo");a.getSprite().anchor.x=0.5;a.getSprite().anchor.y=0.5;a=this._container.addEntity(!0);a.setLocalPosition(0,-173);b=new t(a,"loadingBarBG");b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;b=this.addEntity();a.addChild(b);
b=new t(b,"loadingFill");b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;this._mask=new PIXI.Graphics;b.getSprite().mask=this._mask;b.getSprite().addChild(this._mask);this._fill=new PIXI.Graphics;b.getSprite().addChild(this._fill);this._loadingBar=this.addEntity();a.addChild(this._loadingBar);a=new t(this._loadingBar,"loadingBar");a.getSprite().anchor.x=0.5;a.getSprite().anchor.y=0.5;a=this.addEntity();a.setPosition(-9E3,0);new ca(a,"x",{fontFamily:"ralewaybold"});a=this.addEntity();a.setPosition(-9E3,
0);new ca(a,"x",{fontFamily:"ralewayblack"})},onFileLoaded:function(a,b){null!=this._loadingBar&&this.updateLoadingMeter(a/b)},updateLoadingMeter:function(a){1<=a&&(a=1);this._loadingBar.setLocalRotation2d(360*a);a=Math.PI*(1-2*a);this._mask.clear();this._mask.beginFill();this._mask.moveTo(0,0);this._mask.lineTo(800*Math.sin(a),800*Math.cos(a));0<=a&&(this._mask.lineTo(800*Math.sin(0.5*a),800*Math.cos(0.2*-a)),this._mask.lineTo(800*Math.sin(0.5*-a),800*Math.cos(0.5*-a)),this._mask.lineTo(800*Math.sin(-a),
800*Math.cos(-a)));a>-0.9*Math.PI&&(this._mask.lineTo(800*Math.sin(0.5*(-Math.PI+a)),800*Math.cos(0.5*(-Math.PI+a))),this._mask.lineTo(800*Math.sin(-Math.PI+a),800*Math.cos(-Math.PI+a)));this._mask.lineTo(0,-800);this._mask.endFill()},handleMessage:function(a,b){V.prototype.handleMessage.call(this,a,b);if("onFileLoaded"==a)this.onFileLoaded(b.progress,b.total)},__class__:od});var rd=function(a,b){V.call(this);this._gameController=b;this._parentState=a;this._pauseMenu=Hd.show(this.getSceneRoot());
this._pauseMenu.addEventListener("resume",B(this,this.onPauseMenuResume));this._pauseMenu.addEventListener("quit",B(this,this.onPauseMenuQuit))};h["game.screens.MenusState"]=rd;rd.__name__=["game","screens","MenusState"];rd.show=function(a,b){var c=new rd(a,b);p.getInstance().addGameState(c)};rd.__super__=V;rd.prototype=q(V.prototype,{onPauseMenuQuit:function(a){this.destroy();sa.doTransition(this._parentState,new jc(this._gameController))},onPauseMenuResume:function(a){var b=this;this._pauseMenu.dismiss();
this._pauseMenu.addEventListener("dismissComplete",function(){b._parentState.resume();p.getInstance().removeGameState(b)})},__class__:rd});var Hf=function(){this._orientationEntity=this._div=this._image=null;V.call(this)};h["game.screens.OrientationState"]=Hf;Hf.__name__=["game","screens","OrientationState"];Hf.__super__=V;Hf.prototype=q(V.prototype,{init:function(){V.prototype.init.call(this)},onOrientationChanged:function(a){p.isMobile()&&!p.isPhone()?a&&0==T.getProperty("isLandscapeAllowedIPad")?
this.showOrientationScreen(1):a||0!=T.getProperty("isPortraitAllowedIPad")?this.hideOrientationScreen():this.showOrientationScreen(0):p.isMobile()&&(a&&0==T.getProperty("isLandscapeAllowedIPhone")?this.showOrientationScreen(1):a||0!=T.getProperty("isPortraitAllowedIPhone")?this.hideOrientationScreen():this.showOrientationScreen(0))},showOrientationScreen:function(a){this.hideOrientationScreen(!1);p.getInstance().addGameState(this);p.getInstance().stopUpdates();Ha.getInstance().setInputDisabled(!0);
u.pauseAllSounds();this._div=z.getDocument().createElement("div");this._div.style.position="absolute";this._div.style.backgroundColor="#000000";this._div.style.width="100%";this._div.style.height="100%";z.getContainer().appendChild(this._div);switch(a){case 0:this._orientationEntity=this.addEntity();this._image=O.getAsset(p.isPhone()?"iphoneOrientationImage":"ipadOrientationImage");this._div.appendChild(this._image);this._image.style.position="absolute";this._image.style.margin="auto auto auto auto";
this._image.style.display="block";this._image.style.maxWidth="100%";this._image.style.maxHeight="auto";this._image.style.top="0px";this._image.style.bottom="0px";this._image.style.left="0px";this._image.style.right="0px";break;case 1:this._orientationEntity=this.addEntity(),this._image=O.getAsset(p.isPhone()?"iphoneOrientationImage":"ipadOrientationImage"),this._div.appendChild(this._image),this._image.style.position="absolute",this._image.style.margin="auto auto auto auto",this._image.style.display=
"block",this._image.style.maxWidth="100%",this._image.style.maxHeight="auto",this._image.style.top="0px",this._image.style.bottom="0px",this._image.style.left="0px",this._image.style.right="0px"}},update:function(){V.prototype.update.call(this)},hideOrientationScreen:function(a){null==a&&(a=!0);null!=this._div&&(this._div.parentNode.removeChild(this._div),this._div=null);a&&(p.getInstance().resumeUpdates(),Ha.getInstance().setInputDisabled(!1),u.resumeAllSounds(),p.getInstance().hideAddressBar(),
p.getInstance().onScreenScaleUpdated())},handleMessage:function(a,b){V.prototype.handleMessage.call(this,a,b);if("onOrientationChanged"==a)this.onOrientationChanged(b.isHorizontal)},__class__:Hf});var Xa=function(a,b,c,d){this.image=a;this.url=b;this.type=c;this.productName=d};h["game.screens.PromoConfig"]=Xa;Xa.__name__=["game","screens","PromoConfig"];Xa.prototype={__class__:Xa};var Fa=h["game.screens.PromoType"]={__ename__:["game","screens","PromoType"],__constructs__:["Toy","BarbieLife"]};Fa.Toy=
["Toy",0];Fa.Toy.toString=N;Fa.Toy.__enum__=Fa;Fa.BarbieLife=["BarbieLife",1];Fa.BarbieLife.toString=N;Fa.BarbieLife.__enum__=Fa;Fa.__empty_constructs__=[Fa.Toy,Fa.BarbieLife];var Id=function(a,b){this._currentStoryPage=0;this._nextButton=this._skipButton=null;V.call(this);this._gameController=a;this._parentState=b};h["game.screens.StoryScreen"]=Id;Id.__name__=["game","screens","StoryScreen"];Id.__super__=V;Id.prototype=q(V.prototype,{init:function(){V.prototype.init.call(this);this._uiPanel=Ja.createFullscreenUiPanel(this);
var a=this.addEntity();new R(a,this._uiPanel);var b=new t(a,"overlay");b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;new Ua(a);b=this.addEntity();(new R(b,this._uiPanel)).setCoords(new m(0,-0.05));(new t(b,"popupVideoContainer")).setAnchor(0.5,0.5);new Va(b,a,0.6);a=b.addEntity();a.setLocalPosition(0,-265);new ca(a,ja.getString("STORY_SCREEN_HEADING"),{fontSize:"46px",fontFamily:"ralewaybold",fill:"#FFFFFF"});a=b.addEntity();(new t(a,"popupIcon")).setAnchor(0.5,0.5);a.setLocalPosition(-235,
-265);a=b.addEntity();this._storySprite=new t(a,"popupStory1");this._storySprite.setAnchor(0.5,0.5);a.setLocalPosition(0,-50);a=b.addEntity();a.setLocalPosition(0,140);this._storyTextfield=new ca(a,ja.getString("STORY_SCREEN_HEADING"),{fontSize:"22px",fontFamily:"ralewaybold",fill:"#FFFFFF",align:"center",wordWrap:!0,wordWrapWidth:800});this.updateStoryPage();a=new La;a.x=0;a.y=295;a.defaultImageName="playButtonLarge";a.deactivateButtonOnClick=!1;a.clickSoundId="sfx_click_1";Ba.createButton(a,b,B(this,
this.onStoryNext))},updateStoryPage:function(){var a=this._currentStoryPage+1;switch(this._currentStoryPage){case 0:this._storyTextfield.setTextString(ja.getString("STORY_SCREEN_PAGE_"+(this._currentStoryPage+1)));this._storySprite.setImage("popupStory"+a);break;case 1:this._storyTextfield.setTextString(ja.getString("STORY_SCREEN_PAGE_"+(this._currentStoryPage+1))),this._storySprite.setImage("popupStory"+a)}},onStorySkip:function(){this.gotoAvatarCreator()},onStoryPrevious:function(){this._currentStoryPage--;
if(0>this._currentStoryPage)this.onTitleScreen();else this.updateStoryPage()},onTitleScreen:function(){var a=new jc(this._gameController);sa.doTransition(this,a)},onStoryNext:function(){this._currentStoryPage++;2<=this._currentStoryPage?this.gotoAvatarCreator():this.updateStoryPage()},gotoAvatarCreator:function(){sa.doTransition(this,new Gd(this._gameController))},destroy:function(){V.prototype.destroy.call(this);this._parentState.destroy()},__class__:Id});var jc=function(a){V.call(this);this._gameController=
a};h["game.screens.TitleScreen"]=jc;jc.__name__=["game","screens","TitleScreen"];jc.__super__=V;jc.prototype=q(V.prototype,{init:function(){V.prototype.init.call(this);this.createMenuScreen();u.playMusicByName("music_cheery_monday")},createMenuScreen:function(){var a=Ja.createFullscreenUiPanel(this);this._buttonGroup=new Qc(a.getEntity());var b=this.addEntity();new Ua(b);new R(b,a);var c=new t(b,"splashBackground");c.getSprite().anchor.x=0.5;c.getSprite().anchor.y=0.5;c=b.addEntity();c.setLocalPosition(-225,
13);(new t(c,"splashBarbie")).setAnchor(0.5,0.5);var c=this.addEntity(),d=new R(c,a);d.setSize(new m(500,700));d.setCoords(new m(0.5,0));new Va(c,b,0.7);b=c.addEntity();b.setLocalPosition(0,-8);(new t(b,"splashLogoText")).setAnchor(0.5,0.5);b=b.addEntity();(new t(b,"splashLogoIcon")).setAnchor(0.5,0.5);b.setLocalPosition(0,-225);b=new La;b.x=0;b.y=270;b.defaultImageName="playButtonLarge";b.clickSoundId="sfx_click_1";Ba.createButton(b,c,B(this,this.onPlayButtonClicked));c=new La;c.x=-0.95;c.y=-0.95;
c.horizontalAlignment=wa.Left;c.verticalAlignment=xa.Top;c.defaultImageName="soundOnButton";c.clickSoundId="sfx_click_1";a=Ba.createButton(c,a.getEntity());new Fd(a,"soundOnButton","soundOffButton")},update:function(){V.prototype.update.call(this)},onPlayButtonClicked:function(){this._buttonGroup.setInputEnabled(!1);this._gameController.get_isFtueActive()?p.getInstance().addGameState(new Id(this._gameController,this)):this.gotoStoryScreen();this._gameController.get_utagManager().link("play: [Game Title]",
"games")},onTrailerDialogDismiss:function(){this.resume();this.gotoStoryScreen()},gotoStoryScreen:function(){ma.getInstance().getHasStartedGame()?sa.doTransition(this,new Yb(this._gameController)):(ma.getInstance().setHasStartedGame(!0),sa.doTransition(this,new Gd(this._gameController)))},onResetGameYes:function(){ma.getInstance().getSaveData().deleteAllSaveData();ma.getInstance().setHasStartedGame(!1);sa.doTransition(this,new jc(this._gameController));this._buttonGroup.setInputEnabled(!0)},onResetGameNo:function(){this._buttonGroup.setInputEnabled(!0)},
__class__:jc});var Sf=function(a){this._promos=[];this._background=this._uiPanel=null;V.call(this);this._gameController=a;this._uiPanel=Ja.createFullscreenUiPanel(this);this.initPromoConfig();this.createTempUi(this._uiPanel)};h["game.screens.ToyPromoScreen"]=Sf;Sf.__name__=["game","screens","ToyPromoScreen"];Sf.__super__=V;Sf.prototype=q(V.prototype,{initPromoConfig:function(){var a=T.getProperty("toyPromoUrl");T.getProperty("barbielifePromoUrl");this.addPromoConfig(new Xa("promoDollImage1",T.getProperty("toyPromo1Url"),
Fa.Toy,"toy"));this.addPromoConfig(new Xa("promoBarbieLifeImage1",a,Fa.BarbieLife,"barbieLife"));this.addPromoConfig(new Xa("promoDollImage2",T.getProperty("toyPromo2Url"),Fa.Toy,"toy"));this.addPromoConfig(new Xa("promoBarbieLifeImage1",a,Fa.BarbieLife,"barbieLife"));this.addPromoConfig(new Xa("promoDollImage3",T.getProperty("toyPromo3Url"),Fa.Toy,"toy"));this.addPromoConfig(new Xa("promoBarbieLifeImage1",a,Fa.BarbieLife,"barbieLife"));this.addPromoConfig(new Xa("promoDollImage4",T.getProperty("toyPromo4Url"),
Fa.Toy,"toy"));this.addPromoConfig(new Xa("promoBarbieLifeImage1",a,Fa.BarbieLife,"barbieLife"));this.addPromoConfig(new Xa("promoDollImage5",T.getProperty("toyPromo5Url"),Fa.Toy,"toy"));this.addPromoConfig(new Xa("promoBarbieLifeImage1",a,Fa.BarbieLife,"barbieLife"));this.addPromoConfig(new Xa("promoDollImage6",T.getProperty("toyPromo6Url"),Fa.Toy,"toy"));this.addPromoConfig(new Xa("promoBarbieLifeImage1",a,Fa.BarbieLife,"barbieLife"));this.addPromoConfig(new Xa("promoDollImage7",T.getProperty("toyPromo7Url"),
Fa.Toy,"toy"));this.addPromoConfig(new Xa("promoBarbieLifeImage1",a,Fa.BarbieLife,"barbieLife"));this.addPromoConfig(new Xa("promoDollImage8",T.getProperty("toyPromo8Url"),Fa.Toy,"toy"));this.addPromoConfig(new Xa("promoBarbieLifeImage1",a,Fa.BarbieLife,"barbieLife"));this._promoConfig=this._promos[this._gameController.get_currentPromoImageIndex()];var a=this._gameController,b=a.get_currentPromoImageIndex();a.set_currentPromoImageIndex(b+1);this._gameController.get_currentPromoImageIndex()>this._promos.length-
1&&this._gameController.set_currentPromoImageIndex(0);this._gameController.get_utagManager().link("Product View: [Game Title] - "+this._promoConfig.productName,"games")},addPromoConfig:function(a){"1"!=T.getProperty("barbieLifePromosEnabled")&&a.type==Fa.BarbieLife||this._promos.push(a)},createTempUi:function(a){a=this._uiPanel.addEntity();new R(a,this._uiPanel);(new t(a,"splashBackground",null)).setAnchor(0.5,0.5);new Ua(a);var b=this._uiPanel.addEntity();new R(b,this._uiPanel);(new t(b,"popupOverlay",
null)).setAnchor(0.5,0.5);new Ua(b);a=this.addEntity();(new R(a,this._uiPanel)).setCoords(new m(0,-0.1));(new t(a,"popupVideoContainer")).setAnchor(0.5,0.5);new Va(a,b,0.55);b=a.addEntity();(new t(b,"popupIcon")).setAnchor(0.5,0.5);b.setLocalPosition(-230,-265);b=a.addEntity();(new t(b,this._promoConfig.image)).setAnchor(0.5,0.5);b=new Xc;b.text=ja.getString("DOLL_PROMO_HEADING");b.coords=new m(0,-265);this._gameController.get_gameUiFactory().createLocalHeading(a,b);b=new La;b.x=0;b.y=320;b.mouseOverScaleTo=
1.05;b.defaultImageName="playButtonLarge";b.clickSoundId="sfx_click_1";Ba.createButton(b,a,B(this,this.onCloseClick));this._promoConfig.type==Fa.Toy?(b.x=221,b.y=0,b.defaultImageName="shopButton",b.textStyle={fontFamily:"ralewaybold",fill:"#FFFFFF",fontSize:26},b.textX=9,b.textY=-4,b.text=ja.getString("SHOP_BUTTON"),Ba.createButton(b,a,null,B(this,this.onShopClick))):(b.x=215,b.y=-40,b.defaultImageName="appleButton",Ba.createButton(b,a,null,B(this,this.onAppleButtonClick)),b.x=215,b.y=40,b.defaultImageName=
"googleButton",Ba.createButton(b,a,null,B(this,this.onGoogleButtonClick)));a=this.addEntity();b=new R(a,this._uiPanel);b.setCoords(new m(1,-1));b.setAlignment(wa.Right,xa.Top);(new t(a,"adBanner")).setAnchor(0.5,0.5);a=a.addEntity();a.setRotation2d(30);a.setLocalPosition(32,-30);new ca(a,ja.getString("AD_LABEL"),{fontFamily:"ralewayblack",fill:"#FFFFFF",fontSize:32})},onAppleButtonClick:function(){z.getWindow().open(T.getProperty("appleStoreUrl"),"_blank");this._gameController.get_utagManager().link("Product Click: [Game Title] - "+
this._promoConfig.productName,"games")},onGoogleButtonClick:function(){z.getWindow().open(T.getProperty("googleStoreUrl"),"_blank");this._gameController.get_utagManager().link("Product Click: [Game Title] - "+this._promoConfig.productName,"games")},onShopClick:function(){z.getWindow().open(this._promoConfig.url,"_blank");this._gameController.get_utagManager().link("Product Click: [Game Title] - "+this._promoConfig.productName,"games")},onCloseClick:function(){this._gameController.get_selectedDish().index==
this._gameController.get_dishManager().get_dishes().length-1?sa.doTransition(this,new Qe(this._gameController)):sa.doTransition(this,new Yb(this._gameController))},__class__:Sf});var le=function(a,b){this._percentage=0;n.call(this,a);this._imageIds=b;var c=a.addEntity();this._baseImage=new t(c,b[0]);this._baseImage.setAnchor(0.5,0.5);c=c.addEntity();this._fadingImage=new t(c,b[0]);this._fadingImage.setAnchor(0.5,0.5);this._tweener=new Z(this.getEntity())};h["game.ui.CookingTimelapse"]=le;le.__name__=
["game","ui","CookingTimelapse"];le.__super__=n;le.prototype=q(n.prototype,{get_percentage:function(){return this._percentage},set_percentage:function(a){var b=this.getImageIndexFromPercentage(this._percentage);this._percentage=a;var c=this.getImageIndexFromPercentage(this._percentage);if(c!=b)this.onIndexChange(c);return this._percentage=a},getImageIndexFromPercentage:function(a){a=Math.floor(this._percentage*this._imageIds.length);0>a&&(a=0);a>this._imageIds.length-1&&(a=this._imageIds.length-1);
return a},onIndexChange:function(a){this.fadeInImageIndex(a)},fadeInImageIndex:function(a){this._baseImage.setImage(this._fadingImage.getImageId());this._fadingImage.getSprite().alpha=0;this._fadingImage.setImage(this._imageIds[a]);console.log("fadeInImageIndex: "+a);this._tweener.addTween(this._fadingImage.getSprite(),"alpha",0,1,0.15,C.linear,0)},__class__:le,__properties__:{set_percentage:"set_percentage",get_percentage:"get_percentage"}});var vd=function(a){this._timeLeft=3;n.call(this,a);this._container=
new ga(this.getEntity());this._tweener=new Z(this.getEntity());a=this.addEntity();new Ua(a);this._overlaySprite=new t(a,"overlay");this._overlaySprite.setAnchor(0.5,0.5);this._overlaySprite.getSprite().alpha=0.5;a=this.addEntity();this._sprite=new t(a,"countdown3");this._sprite.setAnchor(0.5,0.5);this._tweener.addTween(this._sprite.getEntity().getScaleRef(),"x",0,1,0.25,C.easeOutBack);this._tweener.addTween(this._sprite.getEntity().getScaleRef(),"y",0,1,0.25,C.easeOutBack);u.playSoundByName("sfx_countdown_1")};
h["game.ui.Countdown"]=vd;vd.__name__=["game","ui","Countdown"];vd.__super__=n;vd.prototype=q(n.prototype,{get_onComplete:function(){return this._onComplete},set_onComplete:function(a){return this._onComplete=a},update:function(){n.prototype.update.call(this);var a=this._timeLeft;this._timeLeft-=1.5*p.getDeltaTime();if(Math.ceil(a)>Math.ceil(this._timeLeft))this.onSecondsChange(Math.ceil(this._timeLeft))},onSecondsChange:function(a){0>=a?(this.onSecondsElapse(),this._tweener.addTween(this._sprite.getEntity().getScaleRef(),
"x",1,0,0.15,C.easeInBack),this._tweener.addTween(this._sprite.getEntity().getScaleRef(),"y",1,0,0.15,C.easeInBack),u.playSoundByName("sfx_countdown_2")):(this._sprite.setImage("countdown"+a),this._tweener.addTween(this._sprite.getEntity().getScaleRef(),"x",0.5,1,0.25,C.easeOutBack),this._tweener.addTween(this._sprite.getEntity().getScaleRef(),"y",0.5,1,0.25,C.easeOutBack),u.playSoundByName("sfx_countdown_1"))},onSecondsElapse:function(){var a=this;null!=this.get_onComplete()&&this.get_onComplete()();
this._tweener.addTween(this._container.getContainer(),"alpha",this._container.getContainer().alpha,0,0.2,C.linear,0,function(){a.getEntity().destroy()})},__class__:vd,__properties__:{set_onComplete:"set_onComplete",get_onComplete:"get_onComplete"}});var mh=function(a,b,c,d){this._order=0;n.call(this,a);this._sprite=c;this._order=d;this._cookingMinigame=b;this._cookingMinigame.get_cookingStage().addEventListener("change",B(this,this.onChange));this._cookingMinigame.get_cookingStage().addEventListener("complete",
B(this,this.onDishPropEventComplete))};h["game.ui.DishActionOrderIcon"]=mh;mh.__name__=["game","ui","DishActionOrderIcon"];mh.__super__=n;mh.prototype=q(n.prototype,{onDishPropEventComplete:function(a){H.__instanceof(a.get_dishProp(),zb)&&(a=a.get_dishProp().get_order(),this._order>=a||this.markDone())},onChange:function(a){this._order>=a.get_index()||this.markDone()},markDone:function(){this._sprite.setImage("progressIconChecked")},__class__:mh});var $c=function(a,b,c){n.call(this,a);this._cookingMinigame=
b;this._cookingMinigame.addEventListener("propsPlaced",B(this,this.onPropsPlaced));this._uiFactory=c};h["game.ui.DishActionOrderIcons"]=$c;$c.__name__=["game","ui","DishActionOrderIcons"];$c.__super__=n;$c.prototype=q(n.prototype,{onPropsPlaced:function(a){a=this._cookingMinigame.get_cookingStage();for(var b=a.get_ingredientsRoot().getComponentsInChildren(zb),c=0;c<b.length;){var d=b[c];d.isVisibleOnProgressBar()||(J.remove(b,d),--c);++c}d=b.length;a=a.get_ingredientsRoot().getComponentsInChildren(rb);
d+=a.length;a=this.addEntity();b=497/d;for(c=0;c<d;){var e=c++,f=a.addEntity();(new t(f,"progressIconContainer")).setAnchor(0.5,0.5);f.setLocalPosition(-230+e*b,50);var h=f.addEntity();h.setLocalPosition(0,0);h=new t(h,this._cookingMinigame.get_dishAction().orderIconImageIds[e]);h.setAnchor(0.5,0.5);new mh(f,this._cookingMinigame,h,e)}},init:function(){n.prototype.init.call(this)},__class__:$c});var Ae=function(a,b,c,d){n.call(this,a);this._slicedSprite=c;this._width=d;this._cookingMinigame=b};h["game.ui.DishActionStepProgressBar"]=
Ae;Ae.__name__=["game","ui","DishActionStepProgressBar"];Ae.__super__=n;Ae.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this)},postUpdate:function(){n.prototype.postUpdate.call(this);this.setFill(this._cookingMinigame.get_percentageComplete())},setFill:function(a){a*=this._width;a=Math.max(50,a);this._slicedSprite.setWidth(a);this._slicedSprite.getEntity().setLocalPosition(0.5*a-0.5*this._width,0)},__class__:Ae});var Xc=function(){this.verticalAlignment=xa.Top;this.horizontalAlignment=
wa.Center};h["game.ui.HeadingConfig"]=Xc;Xc.__name__=["game","ui","HeadingConfig"];Xc.prototype={__class__:Xc};var Va=function(a,b,c){null==c&&(c=1);this._percentage=1;n.call(this,a);this._target=b;this._percentage=c};h["game.ui.MatchUiToEntityScale"]=Va;Va.__name__=["game","ui","MatchUiToEntityScale"];Va.__super__=n;Va.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);this._uiElement=this.getComponent(R);this._baseScale=this.getEntity().getLocalScale()},update:function(){n.prototype.update.call(this);
this.updateDisplay()},postUpdate:function(){n.prototype.postUpdate.call(this);this.updateDisplay()},updateDisplay:function(){if(null!=this._uiElement){var a=this._target.getScale().x-this._baseScale.x,b=this._target.getScale().y-this._baseScale.y;this._uiElement.setScale(this._baseScale.x+a*this._percentage,this._baseScale.y+b*this._percentage)}},__class__:Va});var Tg=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=2);this._fingerDownAnimation=!1;this._timeUntilNextPointer=0;this._timePerPointer=
2;n.call(this,a);this._startEntity=b;this._endEntity=c;this._tweener=new Z(this.getEntity());this._deferredActionController=new va(this.getEntity());this._timePerPointer=d;this._timeUntilNextPointer=0;this._fingerDownAnimation=e;this._fingers=[]};h["game.ui.RepeatingTutorialFinger"]=Tg;Tg.__name__=["game","ui","RepeatingTutorialFinger"];Tg.__super__=n;Tg.prototype=q(n.prototype,{update:function(){n.prototype.update.call(this);this._timeUntilNextPointer-=p.getDeltaTime();0>=this._timeUntilNextPointer&&
(this.onPointerTimeElapse(),this._timeUntilNextPointer=this._timePerPointer)},onPointerTimeElapse:function(){this.sendPointerMove()},sendPointerMove:function(a,b){null==b&&(b=0.5);null==a&&(a=1.5);var c=this,d=this.addEntity(!0);d.setRotation(0,0,0);d.addEventListener("destroy",B(this,this.onPointerDestroy));var e=new t(d,"tutorialFinger");e.setAnchor(0.5,0.5);e.getSprite().alpha=0;this._tweener.addTween(e.getSprite(),"alpha",0,1,0.5,C.linear,0);d.setLocalPosition(this._startEntity.getLocalPosition().x,
this._startEntity.getLocalPosition().y);this._tweener.addTween(d.getPositionRef(),"x",this._startEntity.getLocalPosition().x,this._endEntity.getLocalPosition().x,a,C.easeInOutQuad,b);this._tweener.addTween(d.getPositionRef(),"y",this._startEntity.getLocalPosition().y,this._endEntity.getLocalPosition().y,a,C.easeInOutQuad,b);this._fingerDownAnimation&&this._deferredActionController.addDeferredAction(b,function(){e.setImage("tutorialFingerDown")});this._deferredActionController.addDeferredAction(a+
b,function(){c._tweener.addTween(e.getSprite(),"alpha",1,0,0.5,C.linear,0);e.setImage("tutorialFinger")});this._fingers.push(d)},onPointerDestroy:function(a){J.remove(this._fingers,a.target)},destroy:function(){n.prototype.destroy.call(this);for(var a=0,b=this._fingers.length;a<b;){var c=a++,c=this._fingers[c];c.removeEventListener("destroy",B(this,this.onPointerDestroy));c.destroy()}},__class__:Tg});var Gf=function(a,b){this._baseHeight=500;this._baseWidth=750;U.call(this);this._baseWidth=a;this._baseHeight=
b};h["game.ui.ScreenSizeToBrowserSize"]=Gf;Gf.__name__=["game","ui","ScreenSizeToBrowserSize"];Gf.__super__=ka;Gf.prototype=q(ka.prototype,{postUpdate:function(){ka.prototype.postUpdate.call(this);p.getDevicePixelRatio();if(1==p.getInstance().getCurrentOrientation()){var a=this._baseWidth/window.innerWidth;p.getInstance().setGameWidth(this._baseWidth);p.getInstance().setGameHeight(Math.ceil(window.innerHeight*a))}else a=this._baseHeight/window.innerHeight,p.getInstance().setGameWidth(Math.ceil(window.innerWidth*
a)),p.getInstance().setGameHeight(this._baseHeight);p.getInstance().onResizeWindow()},__class__:Gf});var Fd=function(a,b,c){n.call(this,a);this._soundOnImage=b;this._soundOffImage=c};h["game.ui.SoundButton"]=Fd;Fd.__name__=["game","ui","SoundButton"];Fd.__super__=n;Fd.prototype=q(n.prototype,{init:function(){n.prototype.init.call(this);this._button=this.getEntity().getComponent(la);this._buttonActionDelay=this.getEntity().getComponent(hb);this._buttonMouseOverImage=this.getEntity().getComponent(zc);
this._buttonActionDelay.setOnAction(B(this,this.onClick))},update:function(){n.prototype.update.call(this);this._buttonMouseOverImage.setDefaultImage(u.isMusicMuted()?this._soundOffImage:this._soundOnImage);this._buttonMouseOverImage.setMouseOverImage(u.isMusicMuted()?this._soundOffImage:this._soundOnImage)},onClick:function(){u.setMusicMuted(!u.isMusicMuted());u.setSoundMuted(u.isMusicMuted())},__class__:Fd});var Ja=function(){};h["game.ui.UiFactory"]=Ja;Ja.__name__=["game","ui","UiFactory"];Ja.createFullscreenUiPanel=
function(a){var b=p.getInstance().getGameSize(),c=b.getClone();b.x*=p.getInstance().getScreenScale().x;b.y*=p.getInstance().getScreenScale().y;a=a.addEntity();b=new Vc(a,b);a.setLocalPosition(c.x/2,c.y/2,0);new Af(a);return b};Ja.createPulseButton=function(a,b,c,d,e,f,h,n,k,q,p,s,u,v,w,y){var x=Lc.instantiate(a.getGameState());(new R(x,a)).setCoords(new m(b,c));a=new t(x,k);la.createFromPixiSprite(a);new ld(x,d,e,f,v);new Sc(x,h,n,C.easeOutQuint,C.easeOutQuint);new hb(x,p,s,u);new zc(x,k,q);new md(x,
w,y);return x};Ja.createPulseButtonQuick=function(a,b,c,d,e,f,h,m,k,n,q){null==n&&(n=0.35);null==k&&(k=!0);null==m&&(m="");null==h&&(h="");return Ja.createPulseButton(a,b,c,0.35,1,0.15,1.15,0.35,d,e,f,n,q,k,h,m)};Ja.createPulseButtonAbsolute=function(a,b,c,d,e,f,h,m,k,n,q,p,s,u,v,w){a=Lc.instantiate(a);a.setLocalPosition(b,c,0);b=new t(a,k);la.createFromPixiSprite(b);new ld(a,d,e,f,u);new Sc(a,h,m,C.easeOutQuint,C.easeOutQuint);new hb(a,q,p,s);new zc(a,k,n);new md(a,v,w);return a};Ja.createPulseButtonQuickAbsolute=
function(a,b,c,d,e,f,h,m,k,n,q){null==n&&(n=0.35);null==k&&(k=!0);null==m&&(m="");null==h&&(h="");return Ja.createPulseButtonAbsolute(a,b,c,0.35,1,0.15,1.15,0.35,d,e,f,n,q,k,h,m)};Ja.createTextButton=function(a,b,c,d,e,f,h,m,k){null==k&&(k=!0);null==m&&(m="");null==h&&(h="");var n=e.getGameState();a=Ja.createPulseButtonQuick(e,a,b,d,d,f,h,m,k,0.35);n=n.addEntity();n.setLocalPosition(0,-5,0);new ca(n,c,{fontSize:"24px",fontFamily:"ralewaybold",fill:"#000000"});a.addChild(n);return a.getComponent(R)};
Ja.prototype={__class__:Ja};var La=function(){this.verticalAlignment=xa.Center;this.horizontalAlignment=wa.Center;this.overrideColliderSizeX=this.overrideColliderSizeY=100;this.overrideColliderSize=!1;this.blockClickThrough=!0;this.textX=this.textY=0;this.text="";this.textStyle=null;this.clickSoundId=this.overSoundId="";this.deactivateButtonOnClick=!0;this.onClickDelay=0.35;this.defaultImageName=this.mouseOverImageName="";this.mouseOverScaleDuration=0.35;this.mouseOverScaleTo=1.15;this.mouseDownPulseDuration=
0.15;this.mouseDownPulseToScale=1;this.mouseDownPulseFromScale=0.35;this.scale=1;this.positionType=eb.UiPanel;this.x=this.y=0};h["game.ui.buttonFactory.ButtonConfig"]=La;La.__name__=["game","ui","buttonFactory","ButtonConfig"];La.prototype={__class__:La};var Ba=function(){};h["game.ui.buttonFactory.ButtonFactory"]=Ba;Ba.__name__=["game","ui","buttonFactory","ButtonFactory"];Ba.createButton=function(a,b,c,d){var e=b.addEntity();b=b.getComponent(Vc);null!=b&&a.positionType==eb.UiPanel?(b=new R(e,b),
b.setCoords(new m(a.x,a.y)),b.setScale(a.scale,a.scale),b.setAlignment(a.horizontalAlignment,a.verticalAlignment)):(a.positionType==eb.World?e.setPosition(a.x,a.y):e.setLocalPosition(a.x,a.y),e.setLocalScale(a.scale,a.scale));b=new t(e,a.defaultImageName);b=la.createFromPixiSprite(b);b.setKillMessageOnMouseDown(a.blockClickThrough);a.overrideColliderSize&&b.setCollisionProperties(new m(a.overrideColliderSizeX,a.overrideColliderSizeY),new m);b.setData(a.data);new ld(e,a.mouseDownPulseFromScale*a.scale,
a.mouseDownPulseToScale*a.scale,a.mouseDownPulseDuration,a.deactivateButtonOnClick);new Sc(e,a.mouseOverScaleTo*a.scale,a.mouseOverScaleDuration,C.easeOutQuint,C.easeOutQuint);new hb(e,c,a.onClickDelay,d);new zc(e,a.defaultImageName,0<a.mouseOverImageName.length?a.mouseOverImageName:a.defaultImageName);new md(e,a.clickSoundId,a.overSoundId);0<a.text.length&&(c=e.addEntity(),c.setLocalPosition(a.textX,a.textY),new ca(c,a.text,null==a.textStyle?{}:a.textStyle));return e};var eb=h["game.ui.buttonFactory.ButtonPositionType"]=
{__ename__:["game","ui","buttonFactory","ButtonPositionType"],__constructs__:["Local","World","UiPanel"]};eb.Local=["Local",0];eb.Local.toString=N;eb.Local.__enum__=eb;eb.World=["World",1];eb.World.toString=N;eb.World.__enum__=eb;eb.UiPanel=["UiPanel",2];eb.UiPanel.toString=N;eb.UiPanel.__enum__=eb;eb.__empty_constructs__=[eb.Local,eb.World,eb.UiPanel];var nh=function(a){ib.call(this,a)};h["game.ui.popups.HelpScreen"]=nh;nh.__name__=["game","ui","popups","HelpScreen"];nh.__super__=Wa;nh.prototype=
q(Wa.prototype,{init:function(){Wa.prototype.init.call(this);var a=this.addEntity(),b=new t(a,"blackSquare");b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;b.getSprite().alpha=0.5;a=new R(a,this._uiPanel);a.setScale(750,500);a.setPixelPerfect(!0);a=this.addEntity();(new R(a,this._uiPanel)).setCoords(new m(0,-0.5));a=this.addEntity();(new R(a,this._uiPanel)).setCoords(new m(0,0));a=new La;a.x=-0.8;a.y=-0.8;a.defaultImageName="grayBackButton";Ba.createButton(a,this._uiPanel.getEntity(),B(this,
this.onClose))},onClose:function(){this.dismiss()},__class__:nh});var Jd=function(a,b,c,d,e,f,h){ib.call(this,a);this._headingText=b;this._bodyText=c;this._yesText=d;this._noText=e;this._onYes=f;this._onNo=h};h["game.ui.popups.MessageBoxYesNo"]=Jd;Jd.__name__=["game","ui","popups","MessageBoxYesNo"];Jd.show=function(a,b,c,d,e,f,h){a=a.addEntity();new Jd(a,b,c,d,e,f,h)};Jd.__super__=Wa;Jd.prototype=q(Wa.prototype,{init:function(){Wa.prototype.init.call(this);var a=this.addEntity(),b=new t(a,"blackSquare");
b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;b.getSprite().alpha=0.5;a=new R(a,this._uiPanel);a.setScale(750,500);a.setPixelPerfect(!0);b=this.addEntity();new R(b,this._uiPanel);var a=this.addEntity(),c=new t(a,"popupVideoContainer");c.getSprite().anchor.x=0.5;c.getSprite().anchor.y=0.5;b.addChild(a);new R(a,this._uiPanel);b=this.addEntity();b.setLocalPosition(0,-70,0);new ca(b,this._bodyText,{fontSize:"32px",fontFamily:"ralewaybold",fill:"#000000",wordWrapWidth:500,wordWrap:!0,align:"center",
fill:"#FFFFFF"});a.addChild(b);b=this.addEntity();b.setLocalPosition(0,-265,0);a.addChild(b);new ca(b,this._headingText,{fontSize:"48px",fontFamily:"ralewaybold",fill:"#FFFFFF"});b=a.addEntity(!0);(new t(b,"popupIcon")).setAnchor(0.5,0.5);b.setLocalPosition(-230,-265);b=new La;b.x=-85;b.y=65;b.defaultImageName="yesButton";b.clickSoundId="sfx_click_1";Ba.createButton(b,a,B(this,this.onYesClick));b.x=85;b.y=65;b.defaultImageName="noButton";b.clickSoundId="sfx_back_1";Ba.createButton(b,a,B(this,this.onNoClick))},
onYesClick:function(){var a=this;this.addEventListener("dismissComplete",function(){null!=a._onYes&&a._onYes()});this.dismiss()},onNoClick:function(){var a=this;this.addEventListener("dismissComplete",function(){null!=a._onNo&&a._onNo()});this.dismiss()},__class__:Jd});var Hd=function(a){ib.call(this,a)};h["game.ui.popups.PauseMenu"]=Hd;Hd.__name__=["game","ui","popups","PauseMenu"];Hd.show=function(a){a=a.addEntity();return new Hd(a)};Hd.__super__=Wa;Hd.prototype=q(Wa.prototype,{init:function(){Wa.prototype.init.call(this);
var a=this.addEntity();new R(a,this._uiPanel);var b=new t(a,"popupOverlay");b.getSprite().anchor.x=0.5;b.getSprite().anchor.y=0.5;new Ua(a);b=this.addEntity();(new R(b,this._uiPanel)).setCoords(new m(0,-0.05));var c=new t(b,"popupContainer");c.getSprite().anchor.x=0.5;c.getSprite().anchor.y=0.5;new Va(b,a,0.6);a=this.addEntity();b.addChild(a);c=new t(a,"popupBarbie");c.getSprite().anchor.x=0.5;c.getSprite().anchor.y=0.5;a.setLocalPosition(-315,129);a=this.addEntity();b.addChild(a);c=new t(a,"popupIcon");
c.getSprite().anchor.x=0.5;c.getSprite().anchor.y=0.5;a.setLocalPosition(-5,-276);a=this.addEntity();a.setLocalPosition(0,-187,0);b.addChild(a);new ca(a,ja.getString("GAMEPLAY_SCREEN_PAUSE"),{fontSize:"40px",fontFamily:"ralewaybold",fill:"#FFFFFF"});a=new La;a.x=0;a.y=193;a.defaultImageName="playButtonLarge";a.deactivateButtonOnClick=!0;a.clickSoundId="sfx_click_1";Ba.createButton(a,b,B(this,this.onResumeClicked));a.x=66;a.y=-29;a.defaultImageName="soundOnButtonBig";a.deactivateButtonOnClick=!1;this._soundButton=
Ba.createButton(a,b);new Fd(this._soundButton,"soundOnButtonBig","soundOffButtonBig");a.x=-66;a.y=-29;a.defaultImageName="homeButton";a.deactivateButtonOnClick=!1;Ba.createButton(a,b,B(this,this.onQuitClicked))},onResumeClicked:function(){this.dispatchEvent(new dd("resume"))},onHelpClicked:function(){var a=this;this.hideMenu();var b=this.getGameState().getSceneRoot().addEntity();(new nh(b)).addEventListener("dismissComplete",function(){a.showMenu()})},onQuitClicked:function(){this.hideMenu();Jd.show(this.getGameState().getSceneRoot(),
ja.getString("GAMEPLAY_SCREEN_QUIT_CONFIRM"),ja.getString("GAMEPLAY_SCREEN_QUIT_CONFIRM_TEXT"),ja.getString("GAMEPLAY_SCREEN_QUIT_CONFIRM_YES"),ja.getString("GAMEPLAY_SCREEN_QUIT_CONFIRM_NO"),B(this,this.onConfirmQuitYes),B(this,this.onConfirmQuitNo))},onConfirmQuitYes:function(){this.dispatchEvent(new dd("quit"))},onConfirmQuitNo:function(){this.showMenu()},hideMenu:function(){this._uiPanel.getEntity().setVisible(!1)},showMenu:function(){this._uiPanel.getEntity().setVisible(!0)},__class__:Hd});var dd=
function(a){this._type=a};h["game.ui.popups.PauseMenuEvent"]=dd;dd.__name__=["game","ui","popups","PauseMenuEvent"];dd.__super__=P;dd.prototype=q(P.prototype,{__class__:dd});var Wc=function(a){this._type=a};h["game.ui.popups.PopupEvent"]=Wc;Wc.__name__=["game","ui","popups","PopupEvent"];Wc.__super__=P;Wc.prototype=q(P.prototype,{__class__:Wc});var If=function(a){this._gameTitle="";U.call(this);this._utag=window.utag;this._gameTitle=a};h["game.utag.UtagManager"]=If;If.__name__=["game","utag","UtagManager"];
If.__super__=ka;If.prototype=q(ka.prototype,{link:function(a,b){var c={};c.event_id=jb.replace(a,"[Game Title]",this._gameTitle);c.event_category_id=b;null!=this._utag&&this._utag.link(c)},view:function(a){var b={};a=jb.replace(a,"[Game Title]",this._gameTitle);a=jb.replace(a,"[locale]",z.dataLocale);b.page_id=a;null!=this._utag&&this._utag.view(b)},__class__:If});var si=function(){};h["haxe.IMap"]=si;si.__name__=["haxe","IMap"];var sb=function(){this.buf=new oc;this.cache=[];this.useCache=sb.USE_CACHE;
this.useEnumIndex=sb.USE_ENUM_INDEX;this.shash=new Na;this.scount=0};h["haxe.Serializer"]=sb;sb.__name__=["haxe","Serializer"];sb.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash,b=null!=na[a]?b.getReserved(a):b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{var b=this.shash,c=this.scount++;null!=na[a]?b.setReserved(a,c):b.h[a]=c;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=ua.string(a.length);this.buf.b+=":";this.buf.b+=null==
a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b+=null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=Ca.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(Ca.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=Ia["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+=
"i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:if(H.__instanceof(a,Hi))a=Ia.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(H.__instanceof(a,Ii))this.buf.b+="B",this.serializeString(Ia.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 5:throw new G("Cannot serialize function");
case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=0,d=a.length;c<d;){var e=c++;null==a[e]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b));this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=ua.string(a.getTime());break;case Se:this.buf.b+="l";for(a=a.h;null!=
a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case Re:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case cc:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=Ca.field(c,"__id__"),Ca.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Na:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=
na[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case Ob:this.buf.b+="s";this.buf.b+=ua.string(Math.ceil(8*a.length/6));this.buf.b+=":";c=0;d=a.length-2;b=sb.BASE64_CODES;if(null==b){for(var b=Array(sb.BASE64.length),e=0,f=sb.BASE64.length;e<f;){var h=e++;b[h]=J.cca(sb.BASE64,h)}sb.BASE64_CODES=b}for(;c<d;)e=a.b[c++],f=a.b[c++],h=a.b[c++],this.buf.b+=String.fromCharCode(b[e>>2]),this.buf.b+=String.fromCharCode(b[(e<<4|f>>4)&63]),this.buf.b+=String.fromCharCode(b[(f<<2|h>>6)&63]),this.buf.b+=String.fromCharCode(b[h&
63]);c==d?(d=a.b[c++],a=a.b[c++],this.buf.b+=String.fromCharCode(b[d>>2]),this.buf.b+=String.fromCharCode(b[(d<<4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):c==d+1&&(a=a.b[c++],this.buf.b+=String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(Ia.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(Ia.getClassName(b)),
this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=ua.string(this.useEnumIndex?"j":"w");this.serializeString(Ia.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=ua.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=ua.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;default:throw new G("Cannot serialize "+ua.string(a));
}},serializeException:function(a){this.buf.b+="x";this.serialize(a)},__class__:sb};var Ji=function(){};h["haxe.Timer"]=Ji;Ji.__name__=["haxe","Timer"];var oh=function(){};h["haxe._Unserializer.DefaultResolver"]=oh;oh.__name__=["haxe","_Unserializer","DefaultResolver"];oh.prototype={resolveClass:function(a){return Ia.resolveClass(a)},resolveEnum:function(a){return Ia.resolveEnum(a)},__class__:oh};var Bb=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Bb.DEFAULT_RESOLVER;
null==a&&(a=new oh,Bb.DEFAULT_RESOLVER=a);this.resolver=a};h["haxe.Unserializer"]=Bb;Bb.__name__=["haxe","Unserializer"];Bb.initCodes=function(){for(var a=[],b=0,c=Bb.BASE64.length;b<c;){var d=b++;a[Bb.BASE64.charCodeAt(d)]=d}return a};Bb.prototype={readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=
this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(J.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new G("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new G("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new G("Invalid enum format");
var c=this.readDigits();if(0==c)return Ia.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return Ia.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new G("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new G("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new G("Class not found "+
a);a=Ia.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new G("Invalid custom data");return a;case 77:a=new cc;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new G("Invalid string reference");return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;
break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new Na;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){var b=this.unserialize(),c=this.unserialize();null!=na[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new G("Class not found "+a);a=Ia.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();
case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new G("Enum not found "+a);this.pos++;var c=this.readDigits(),d=b.__constructs__.slice()[c];if(null==d)throw new G("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new Se;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;
case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new Re;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),a.h[b]=c,b=this.buf.charCodeAt(this.pos++);if(104!=b)throw new G("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new G("Invalid reference");return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||
this.length-this.pos<a)throw new G("Invalid bytes length");var e=Bb.CODES;null==e&&(e=Bb.initCodes(),Bb.CODES=e);for(var f=this.pos,h=a&3,m=f+(a-h),b=new Ob(new ti(3*(a>>2)+(2<=h?h-1:0))),c=0;f<m;){var k=e[d.charCodeAt(f++)],n=e[d.charCodeAt(f++)];b.b[c++]=(k<<2|n>>4)&255;k=e[d.charCodeAt(f++)];b.b[c++]=(n<<4|k>>2)&255;n=e[d.charCodeAt(f++)];b.b[c++]=(k<<6|n)&255}2<=h&&(n=e[d.charCodeAt(f++)],m=e[d.charCodeAt(f++)],b.b[c++]=(n<<2|m>>4)&255,3==h&&(d=e[d.charCodeAt(f++)],b.b[c++]=(m<<4|d>>2)&255));
this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=J.strDate(J.substr(this.buf,this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),
a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new G("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw G.wrap(this.unserialize());case 121:a=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new G("Invalid string length");b=J.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw new G("Invalid char "+
this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:Bb};var Re=function(){this.h={}};h["haxe.ds.IntMap"]=Re;Re.__name__=["haxe","ds","IntMap"];Re.__interfaces__=[si];Re.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return J.iter(a)},__class__:Re};var cc=function(){this.h={__keys__:{}}};h["haxe.ds.ObjectMap"]=cc;cc.__name__=["haxe","ds","ObjectMap"];cc.__interfaces__=[si];cc.assignId=function(a){return a.__id__=++cc.count};cc.getId=function(a){return a.__id__};
cc.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++cc.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return J.iter(a)},__class__:cc};var Na=function(){this.h={}};h["haxe.ds.StringMap"]=Na;Na.__name__=["haxe","ds","StringMap"];Na.__interfaces__=[si];Na.prototype={setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+
a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=na[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return J.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},__class__:Na};
var Ob=function(a){this.length=a.byteLength;this.b=new Di(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};h["haxe.io.Bytes"]=Ob;Ob.__name__=["haxe","io","Bytes"];Ob.alloc=function(a){return new Ob(new ti(a))};Ob.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new Ob((new Di(b)).buffer)};
Ob.ofData=function(a){var b=a.hxBytes;return null!=b?b:new Ob(a)};Ob.fastGet=function(a,b){return a.bytes[b]};Ob.prototype={__class__:Ob};var ph=function(){};h["haxe.io.FPHelper"]=ph;ph.__name__=["haxe","io","FPHelper"];ph.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};ph.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*
(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};var Gi=function(){};h["haxe.remoting.Connection"]=Gi;Gi.__name__=["haxe","remoting","Connection"];var Ei=function(){};h["haxe.remoting.Context"]=Ei;Ei.__name__=["haxe","remoting","Context"];Ei.prototype={call:function(a,b){if(2>a.length)throw new G("Invalid path '"+a.join(".")+"'");var c=this.objects,d=a[0],e=null!=na[d]?c.getReserved(d):c.h[d];if(null==e)throw new G("No such object "+a[0]);c=e.obj;d=Ca.field(c,
a[1]);if(2<a.length){if(!e.rec)throw new G("Can't access "+a.join("."));for(var e=2,f=a.length;e<f;)var h=e++,c=d,d=Ca.field(c,a[h])}if(!Ca.isFunction(d))throw new G("No such method "+a.join("."));return d.apply(c,b)},__class__:Ei};var Kd=qh.haxe.remoting.ExternalConnection=function(){};h["haxe.remoting.ExternalConnection"]=Kd;Kd.__name__=["haxe","remoting","ExternalConnection"];Kd.__interfaces__=[Gi];Kd.doCall=function(a,b,c){try{var d=Kd.connections,e=null!=na[a]?d.getReserved(a):d.h[a];if(null==
e)throw new G("Unknown connection : "+a);if(null==e.__data.ctx)throw new G("No context shared for the connection "+a);var f=(new Bb(c)).unserialize(),h=e.__data.ctx.call(b.split("."),f),m=new sb;m.serialize(h);return m.toString()+"#"}catch(k){return k instanceof G&&(k=k.val),a=new sb,a.serializeException(k),a.toString()}};Kd.prototype={__class__:Kd};var Sa=function(a,b,c){this.xml=b;this.message=a;this.position=c;this.lineNumber=1;for(a=this.positionAtLine=0;a<c;){var d=a++,d=b.charCodeAt(d);10==
d?(this.lineNumber++,this.positionAtLine=0):13!=d&&this.positionAtLine++}};h["haxe.xml.XmlParserException"]=Sa;Sa.__name__=["haxe","xml","XmlParserException"];Sa.prototype={toString:function(){return Ia.getClassName(H.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Sa};var pc=function(){};h["haxe.xml.Parser"]=pc;pc.__name__=["haxe","xml","Parser"];pc.parse=function(a,b){null==b&&(b=!1);var c=L.createDocument();pc.doParse(a,b,0,c);return c};pc.doParse=
function(a,b,c,d){null==c&&(c=0);for(var e=null,f=1,h=1,m=null,k=0,n=0,q=0,p=a.charCodeAt(c),s=new oc,t=1,u=-1;p==p;){switch(f){case 0:switch(p){case 9:case 10:case 13:case 32:break;default:f=h;continue}break;case 1:if(60==p)f=0,h=2;else{k=c;f=13;continue}break;case 2:switch(p){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=J.substr(a,c,6).toUpperCase())throw new G(new Sa("Expected <![CDATA[",a,c));c+=5;f=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=J.substr(a,c+2,6).toUpperCase())throw new G(new Sa("Expected <!DOCTYPE",
a,c));c+=8;f=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new G(new Sa("Expected \x3c!--",a,c));c+=2;f=15}k=c+1;break;case 47:if(null==d)throw new G(new Sa("Expected node name",a,c));k=c+1;f=0;h=10;break;case 63:f=14;k=c;break;default:f=3;k=c;continue}break;case 3:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(c==k)throw new G(new Sa("Expected node name",a,c));e=L.createElement(J.substr(a,k,c-k));d.addChild(e);++n;f=0;h=4;continue}break;case 4:switch(p){case 47:f=
11;break;case 62:f=9;break;default:f=5;k=c;continue}break;case 5:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(k==c)throw new G(new Sa("Expected attribute name",a,c));m=J.substr(a,k,c-k);if(e.exists(m))throw new G(new Sa("Duplicate attribute ["+m+"]",a,c));f=0;h=6;continue}break;case 6:if(61==p)f=0,h=7;else throw new G(new Sa("Expected =",a,c));break;case 7:switch(p){case 34:case 39:s=new oc;f=8;k=c+1;u=p;break;default:throw new G(new Sa('Expected "',a,c));}break;
case 8:switch(p){case 38:t=c-k;s.b+=null==t?J.substr(a,k,null):J.substr(a,k,t);f=18;t=8;k=c+1;break;case 60:case 62:if(b)throw new G(new Sa("Invalid unescaped "+String.fromCharCode(p)+" in attribute value",a,c));p==u&&(h=c-k,s.b+=null==h?J.substr(a,k,null):J.substr(a,k,h),h=s.b,s=new oc,e.set(m,h),f=0,h=4);break;default:p==u&&(h=c-k,s.b+=null==h?J.substr(a,k,null):J.substr(a,k,h),h=s.b,s=new oc,e.set(m,h),f=0,h=4)}break;case 9:k=c=pc.doParse(a,b,c,e);f=1;break;case 10:if(!(97<=p&&122>=p||65<=p&&90>=
p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(k==c)throw new G(new Sa("Expected node name",a,c));h=J.substr(a,k,c-k);if(d.nodeType!=L.Element)throw new G("Bad node type, expected Element but found "+d.nodeType);if(h!=d.nodeName){if(d.nodeType!=L.Element)throw new G("Bad node type, expected Element but found "+d.nodeType);throw new G(new Sa("Expected </"+d.nodeName+">",a,c));}f=0;h=12;continue}break;case 11:if(62==p)f=1;else throw new G(new Sa("Expected >",a,c));break;case 12:if(62==p)return 0==
n&&d.addChild(L.createPCData("")),c;throw new G(new Sa("Expected >",a,c));case 13:60==p?(h=c-k,s.b+=null==h?J.substr(a,k,null):J.substr(a,k,h),h=L.createPCData(s.b),s=new oc,d.addChild(h),++n,f=0,h=2):38==p&&(t=c-k,s.b+=null==t?J.substr(a,k,null):J.substr(a,k,t),f=18,t=13,k=c+1);break;case 14:63==p&&62==a.charCodeAt(c+1)&&(++c,p=J.substr(a,k+1,c-k-2),d.addChild(L.createProcessingInstruction(p)),++n,f=1);break;case 15:45==p&&(45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2))&&(d.addChild(L.createComment(J.substr(a,
k,c-k))),++n,c+=2,f=1);break;case 16:91==p?++q:93==p?--q:62==p&&0==q&&(d.addChild(L.createDocType(J.substr(a,k,c-k))),++n,f=1);break;case 17:93==p&&(93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2))&&(p=L.createCData(J.substr(a,k,c-k)),d.addChild(p),++n,c+=2,f=1);break;case 18:if(59==p){k=J.substr(a,k,c-k);if(35==k.charCodeAt(0))k=120==k.charCodeAt(1)?ua.parseInt("0"+J.substr(k,1,k.length-1)):ua.parseInt(J.substr(k,1,k.length-1)),s.b+=String.fromCharCode(k);else if(p=pc.escapes,null!=na[k]?p.existsReserved(k):
p.h.hasOwnProperty(k))p=pc.escapes,k=null!=na[k]?p.getReserved(k):p.h[k],s.b+=ua.string(k);else{if(b)throw new G(new Sa("Undefined entity: "+k,a,c));s.b+=ua.string("&"+k+";")}k=c+1;f=t}else if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)&&35!=p){if(b)throw new G(new Sa("Invalid character in entity: "+String.fromCharCode(p),a,c));s.b+="&";p=c-k;s.b+=null==p?J.substr(a,k,null):J.substr(a,k,p);k=c--;f=t}}p=a.charCodeAt(++c)}1==f&&(k=c,f=13);if(13==f){if(c!=k||0==n)b=c-k,s.b+=
null==b?J.substr(a,k,null):J.substr(a,k,b),d.addChild(L.createPCData(s.b));return c}if(!b&&18==f&&13==t)return s.b+="&",b=c-k,s.b+=null==b?J.substr(a,k,null):J.substr(a,k,b),d.addChild(L.createPCData(s.b)),c;throw new G(new Sa("Unexpected end",a,c));};var G=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,G)};h["js._Boot.HaxeError"]=G;G.__name__=["js","_Boot","HaxeError"];G.wrap=function(a){return a instanceof Error?a:new G(a)};G.__super__=
Error;G.prototype=q(Error.prototype,{__class__:G});var H=function(){};h["js.Boot"]=H;H.__name__=["js","Boot"];H.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=H.__nativeClassName(a);return null!=a?H.__resolveNativeClass(a):null};H.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof
Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+H.__string_rec(a[f],b)):c+H.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+H.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(h){return"???"}if(null!=d&&(d!=Object.toString&&"function"==typeof d)&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||
("prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c)||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+H.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return String(a)}};H.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||H.__interfLoop(f,b))return!0}return H.__interfLoop(a.__super__,b)};H.__instanceof=function(a,b){if(null==
b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case Ki:return"boolean"==typeof a;case Oi:return!0;case Li:return"number"==typeof a;case Pi:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||H.__interfLoop(H.getClass(a),b))return!0}else{if("object"==typeof b&&H.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Hi&&null!=a.__name__||b==Ii&&null!=a.__ename__?!0:a.__enum__==
b}};H.__cast=function(a,b){if(H.__instanceof(a,b))return a;throw new G("Cannot cast "+ua.string(a)+" to "+ua.string(b));};H.__nativeClassName=function(a){a=H.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};H.__isNativeObj=function(a){return null!=H.__nativeClassName(a)};H.__resolveNativeClass=function(a){return Fi[a]};var Cb=function(){};h["js.Browser"]=Cb;Cb.__name__=["js","Browser"];Cb.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");
return a}catch(b){return null}};Cb.getSessionStorage=function(){try{var a=window.sessionStorage;a.getItem("");return a}catch(b){return null}};var tb=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};h["js.html.compat.ArrayBuffer"]=tb;tb.__name__=["js","html","compat","ArrayBuffer"];tb.sliceImpl=function(a,b){var c=new Di(this,a,null==b?null:b-a),d=new ti(c.byteLength);(new Di(d)).set(c);
return d};tb.prototype={slice:function(a,b){return new tb(this.a.slice(a,b))},__class__:tb};var ed=function(){};h["js.html.compat.Float32Array"]=ed;ed.__name__=["js","html","compat","Float32Array"];ed._new=function(a,b,c){var d;if("number"==typeof a){d=[];for(b=0;b<a;){var e=b++;d[e]=0}d.byteLength=d.length<<2;d.byteOffset=0;a=[];b=0;for(e=d.length<<2;b<e;)b++,a.push(0);d.buffer=new tb(a)}else if(H.__instanceof(a,tb)){null==b&&(b=0);null==c&&(c=a.byteLength-b>>2);d=[];for(e=0;e<c;){e++;var f=a.a[b++]|
a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24;d.push(ph.i32ToFloat(f))}d.byteLength=d.length<<2;d.byteOffset=b;d.buffer=a}else if(a instanceof Array&&null==a.__enum__){d=a.slice();a=[];for(b=0;b<d.length;)e=d[b],++b,e=ph.floatToI32(e),a.push(e&255),a.push(e>>8&255),a.push(e>>16&255),a.push(e>>>24);d.byteLength=d.length<<2;d.byteOffset=0;d.buffer=new tb(a)}else throw new G("TODO "+ua.string(a));d.subarray=ed._subarray;d.set=ed._set;return d};ed._set=function(a,b){if(H.__instanceof(a.buffer,tb)){if(a.byteLength+
b>this.byteLength)throw new G("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new G("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new G("TODO");};ed._subarray=function(a,b){var c=ed._new(this.slice(a,b));c.byteOffset=4*a;return c};var Ic=function(){};h["js.html.compat.Uint8Array"]=Ic;Ic.__name__=["js","html","compat","Uint8Array"];Ic._new=function(a,
b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new tb(c)}else if(H.__instanceof(a,tb))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new tb(c);else throw new G("TODO "+ua.string(a));c.subarray=Ic._subarray;c.set=Ic._set;return c};Ic._set=function(a,b){if(H.__instanceof(a.buffer,
tb)){if(a.byteLength+b>this.byteLength)throw new G("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new G("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new G("TODO");};Ic._subarray=function(a,b){var c=Ic._new(this.slice(a,b));c.byteOffset=a;return c};var nc=h["pixi.plugins.spine.core.PositionMode"]={__ename__:["pixi","plugins","spine","core","PositionMode"],
__constructs__:["Fixed","Percent"]};nc.Fixed=["Fixed",0];nc.Fixed.toString=N;nc.Fixed.__enum__=nc;nc.Percent=["Percent",1];nc.Percent.toString=N;nc.Percent.__enum__=nc;nc.__empty_constructs__=[nc.Fixed,nc.Percent];var ub=h["pixi.plugins.spine.core.SpacingMode"]={__ename__:["pixi","plugins","spine","core","SpacingMode"],__constructs__:["Length","Fixed","Percent"]};ub.Length=["Length",0];ub.Length.toString=N;ub.Length.__enum__=ub;ub.Fixed=["Fixed",1];ub.Fixed.toString=N;ub.Fixed.__enum__=ub;ub.Percent=
["Percent",2];ub.Percent.toString=N;ub.Percent.__enum__=ub;ub.__empty_constructs__=[ub.Length,ub.Fixed,ub.Percent];var vb=h["pixi.plugins.spine.core.RotateMode"]={__ename__:["pixi","plugins","spine","core","RotateMode"],__constructs__:["Tangent","Chain","ChainScale"]};vb.Tangent=["Tangent",0];vb.Tangent.toString=N;vb.Tangent.__enum__=vb;vb.Chain=["Chain",1];vb.Chain.toString=N;vb.Chain.__enum__=vb;vb.ChainScale=["ChainScale",2];vb.ChainScale.toString=N;vb.ChainScale.__enum__=vb;vb.__empty_constructs__=
[vb.Tangent,vb.Chain,vb.ChainScale];var Tb,Ni=0;h.Math=Math;String.prototype.__class__=h.String=String;String.__name__=["String"];h.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=h.Date=Date;Date.__name__=["Date"];var Pi=h.Int={__name__:["Int"]},Oi=h.Dynamic={__name__:["Dynamic"]},Li=h.Float=Number;Li.__name__=["Float"];var Ki=h.Bool=Boolean;Ki.__ename__=["Bool"];var Hi=h.Class={__name__:["Class"]},Ii={},na={},Mi=Mi||{};Mi.JQuery=window.jQuery;var ti=Fi.ArrayBuffer||tb;null==ti.prototype.slice&&
(ti.prototype.slice=tb.sliceImpl);var Di=Fi.Uint8Array||Ic._new;z.TARGET_FPS=60;z.TARGET_FPS_MOBILE=30;z.GAME_ID="barbie_cooking";z.DEFAULT_SCREEN_WIDTH=1024;z.DEFAULT_SCREEN_HEIGHT=768;z.DEFAULT_LOCALE="en-us";z.BACKGROUND_COLOR="#000000";z.dataLocale="";L.Element=0;L.PCData=1;L.CData=2;L.Comment=3;L.DocType=4;L.ProcessingInstruction=5;L.Document=6;S.b2_nullFeature=255;S.s_incidentEdge=S.makeClipPointVector();S.s_clipPoints1=S.makeClipPointVector();S.s_clipPoints2=S.makeClipPointVector();S.s_edgeAO=[];
S.s_edgeBO=[];S.s_localTangent=new w;S.s_localNormal=new w;S.s_planePoint=new w;S.s_normal=new w;S.s_tangent=new w;S.s_tangent2=new w;S.s_v11=new w;S.s_v12=new w;S.b2CollidePolyTempVec=new w;Eb.s_simplex=new uh;Eb.s_saveA=[];Eb.s_saveB=[];Md.currentID=0;W.b2_toiCalls=0;W.b2_toiIters=0;W.b2_toiMaxIters=0;W.b2_toiRootIters=0;W.b2_toiMaxRootIters=0;W.s_cache=new Dh;W.s_distanceInput=new vh;W.s_xfA=new Pb;W.s_xfB=new Pb;W.s_fcn=new Ch;W.s_distanceOutput=new wh;Pa.e_hitCollide=1;Pa.e_missCollide=0;Pa.e_startsInsideCollide=
-1;Ga.s_mat=new ta;x.VERSION="2.1alpha";x.USHRT_MAX=65535;x.b2_pi=Math.PI;x.b2_maxManifoldPoints=2;x.b2_aabbExtension=0.1;x.b2_aabbMultiplier=2;x.b2_polygonRadius=2*x.b2_linearSlop;x.b2_linearSlop=0.005;x.b2_angularSlop=0.011111111111111112*x.b2_pi;x.b2_toiSlop=8*x.b2_linearSlop;x.b2_maxTOIContactsPerIsland=32;x.b2_maxTOIJointsPerIsland=32;x.b2_velocityThreshold=1;x.b2_maxLinearCorrection=0.2;x.b2_maxAngularCorrection=0.044444444444444446*x.b2_pi;x.b2_maxTranslation=2;x.b2_maxTranslationSquared=x.b2_maxTranslation*
x.b2_maxTranslation;x.b2_maxRotation=0.5*x.b2_pi;x.b2_maxRotationSquared=x.b2_maxRotation*x.b2_maxRotation;x.b2_contactBaumgarte=0.2;x.b2_timeToSleep=0.5;x.b2_linearSleepTolerance=0.01;x.b2_angularSleepTolerance=0.011111111111111112*x.b2_pi;v.b2Vec2_zero=new w(0,0);v.b2Mat22_identity=ta.fromVV(new w(1,0),new w(0,1));v.b2Transform_identity=new Pb(v.b2Vec2_zero,v.b2Mat22_identity);E.s_xf1=new Pb;E.e_islandFlag=1;E.e_awakeFlag=2;E.e_allowSleepFlag=4;E.e_bulletFlag=8;E.e_fixedRotationFlag=16;E.e_activeFlag=
32;E.b2_staticBody=0;E.b2_kinematicBody=1;E.b2_dynamicBody=2;Od.b2_defaultFilter=new Od;Lb.b2_defaultListener=new Lb;af.s_evalCP=new th;fb.e_shapeBit=1;fb.e_jointBit=2;fb.e_aabbBit=4;fb.e_pairBit=8;fb.e_centerOfMassBit=16;fb.e_controllerBit=32;Kc.s_impulse=new Hh;pa.s_timestep2=new Qd;pa.s_xf=new Pb;pa.s_backupA=new qc;pa.s_backupB=new qc;pa.s_timestep=new Qd;pa.s_queue=[];pa.s_jointColor=new Ze(0.5,0.8,0.8);pa.e_newFixture=1;pa.e_locked=2;K.e_sensorFlag=1;K.e_continuousFlag=2;K.e_islandFlag=4;K.e_toiFlag=
8;K.e_touchingFlag=16;K.e_enabledFlag=32;K.e_filterFlag=64;K.s_input=new Eh;Rd.circlePointA=new w;Rd.circlePointB=new w;Ya.staticFix=x.b2_maxManifoldPoints;Ya.s_worldManifold=new Fh;Ya.s_psm=new Rd;Qb.b2_minPulleyLength=2;Rb.tImpulse=new w;U._currentInstanceId=0;T._properties=new Na;ec._currentZIndex=0;Nc.MIN_LOAD_TIME=0.5;Nc.MAX_ACTIVE_REQUESTS=10;ja._isInitialized=!1;p.ORIENTATION_HORIZONTAL=0;p.ORIENTATION_VERTICAL=1;p._devicePixelRatio=-1;p._timeService=new tf;u._masterVolume=1;u._musicVolume=
0.25;u._soundVolume=1;u._musicMuted=!1;u._soundMuted=!1;u._soundsPlaying=[];u._isWebkitEnabled=!1;u._useFlashSound=!1;u._soundTimers=new Na;fc.BEGIN_CONTACT="beginContact";fc.END_CONTACT="endContact";xc.PHYSICS_FPS=60;xc.TIMESTEP=0.016666666666666666;Oc.PRE_UPDATE="preUpdate";Oc.UPDATE="update";lb.FRAMERATE=30;yc.START_DRAGGING="startDragging";yc.STOP_DRAGGING="stopDragging";jd.EPSILON=5E-5;Rc.DEFAULT_FILL_STYLE="white";gc.UPDATE="update";hb._delayButtonLock=!1;fa.VISIBILITY_OFF="visibilityOff";fa.VISIBILITY_ON=
"visibilityOn";fa.DISPLAY_UPDATE="displayUpdate";fa.ADDED_TO_PARENT="addedToParent";fa.REMOVED_FROM_PARENT="removedFromParent";fa.PARENT_UPDATE="parentUpdate";fa.MOUSE_DOWN="mouseDown";fa.MOUSE_UP="mouseUp";fa.MOUSE_MOVE="mouseMove";fa.MOUSE_OUT="mouseOut";fa.MOUSE_OVER="mouseOver";fa.MOUSE_CLICK="mouseClick";Mb.DESTROY="destroy";Mb.ACTIVATE="activate";Mb.DEACTIVATE="deactivate";Mb.INITIALIZE="initialize";Wd.RAYCAST_CHECK="raycastCheck";O.assetList=new Na;Ub.BEAT_LEVEL="beatLevel";Ub.FAIL_LEVEL="failLevel";
Ub.TURBO_START="turboStart";Ub.TURBO_END="turboEnd";Ub.COMIC_SNAPSHOT="comicSnapshot";Vh.RAYCAST_CHECK="raycastCheck";Uc.MIDPOINT="midpoint";Uc.COMPLETE="complete";Yd.SHOW_SUBTITLE="showSubtitle";$d.UPDATE_DISPLAY="updateDisplay";be.CHANGE="change";f.OVERLAY="overlay";f.LOADING_LOGO="loadingLogo";f.SHOP_BUTTON="shopButton";f.AD_BANNER="adBanner";f.LOADING_BAR_BG="loadingBarBG";f.LOADING_BAR="loadingBar";f.LOADING_FILL="loadingFill";f.TRANSITION_BAR1="transitionBar1";f.TRANSITION_BAR2="transitionBar2";
f.SPLASH_LOGO_TEXT="splashLogoText";f.SCORE_CONFIG="scoreConfig";f.APPLE_BUTTON="appleButton";f.GOOGLE_BUTTON="googleButton";f.TIMER_BASE_LARGE="timerBaseLarge";f.TIMER_HAND_LARGE="timerHandLarge";f.TIME_ELAPSED_LARGE="timeElapsedLarge";f.BACK_BUTTON="backButton";f.PLAY_BUTTON="playButton";f.WHITE_BG="whiteBg";f.GRAY_BG="grayBg";f.GRAY_BUTTON="grayButton";f.GRAY_SKIP="graySkip";f.GRAY_LEVEL_BUTTON="grayLevelButton";f.GRAY_LEVEL_BUTTON_LOCKED="grayLevelButtonLocked";f.GRAY_BACK_BUTTON="grayBackButton";
f.GRAY_HOME_BUTTON="grayHomeButton";f.GRAY_RESET_PROMPT_BG="grayResetPromptBg";f.BLACK_SQUARE="blackSquare";f.GRAY_SOUND_ON="graySoundOn";f.GRAY_SOUND_OFF="graySoundOff";f.GRAY_PLAY_BUTTON="grayPlayButton";f.GRAY_QUIT_PROMPT_BG="grayQuitPromptBg";f.PARTICLE="particle";f.EMITTER_JSON="emitterJson";f.TEMP_AVATAR_CREATOR="tempAvatarCreator";f.TEMP_BARBIE_SHOP="tempBarbieShop";f.TEMP_BUTTON="tempButton";f.TEMP_BUTTON_GRAY="tempButtonGray";f.TEMP_GRADE_CIRCLE="tempGradeCircle";f.TEMP_TUTORIAL_CONTAINER=
"tempTutorialContainer";f.TEMP_ROTATION_ARROW="tempRotationArrow";f.FINISH_GRADIENT="finishGradient";f.PLAY_BUTTON_LARGE="playButtonLarge";f.SOUND_OFF_BUTTON="soundOffButton";f.SOUND_ON_BUTTON="soundOnButton";f.SOUND_OFF_BUTTON_BIG="soundOffButtonBig";f.SOUND_ON_BUTTON_BIG="soundOnButtonBig";f.POPUP_BARBIE="popupBarbie";f.GAME_COMPLETE_POPUP="gameCompletePopup";f.HOME_BUTTON="homeButton";f.QUESTION_BUTTON="questionButton";f.POPUP_CONTAINER="popupContainer";f.POPUP_VIDEO_CONTAINER="popupVideoContainer";
f.POPUP_STORY1="popupStory1";f.POPUP_STORY2="popupStory2";f.YES_BUTTON="yesButton";f.NO_BUTTON="noButton";f.POPUP_ICON="popupIcon";f.SPLASH_LOGO_ICON="splashLogoIcon";f.POPUP_OVERLAY="popupOverlay";f.MENU_POPUP="menuPopup";f.MENU_SELECT_HOME_BUTTON="menuSelectHomeButton";f.MENU_SELECT_AVATAR_CREATOR_BUTTON="menuSelectAvatarCreatorButton";f.MENU_SELECT_FOREGROUND_LEFT="menuSelectForegroundLeft";f.MENU_SELECT_FOREGROUND_RIGHT="menuSelectForegroundRight";f.GAME_COMPLETE_BG="gameCompleteBg";f.GAME_COMPLETE_BG_STANDARD=
"gameCompleteBgStandard";f.SPLASH_BARBIE="splashBarbie";f.SPLASH_BACKGROUND="splashBackground";f.BRICK_BACKGROUND="brickBackground";f.DISH_BUTTON="dishButton";f.DISH_STAR_CONTAINER="dishStarContainer";f.DISH_STAR_CONTAINER_STAR="dishStarContainerStar";f.DISH_BUTTON_LOCKED="dishButtonLocked";f.FOOD_ICON_BURGER="foodIconBurger";f.FOOD_ICON_COOKIES="foodIconCookies";f.FOOD_ICON_CUPCAKE="foodIconCupcake";f.FOOD_ICON_PIZZA="foodIconPizza";f.FOOD_ICON_SALAD="foodIconSalad";f.FOOD_ICON_SHAKE="foodIconShake";
f.ARROW1="arrow1";f.PROGRESS_ICON_CONTAINER="progressIconContainer";f.PROGRESS_ICON_BURGER_CHEESE="progressIconBurgerCheese";f.PROGRESS_ICON_BURGER_LETTUCE="progressIconBurgerLettuce";f.PROGRESS_ICON_BURGER_PATTY="progressIconBurgerPatty";f.PROGRESS_ICON_BURGER_PICKLES="progressIconBurgerPickles";f.PROGRESS_ICON_BURGER_TOMATOES="progressIconBurgerTomatoes";f.PROGRESS_ICON_BURGER_BUN="progressIconBurgerBun";f.PROGRESS_ICON_CHECKED="progressIconChecked";f.PROGRESS_ICON_COOKIE_BUTTER="progressIconCookieButter";
f.PROGRESS_ICON_COOKIE_CHOCOLATE="progressIconCookieChocolate";f.PROGRESS_ICON_COOKIE_EGG="progressIconCookieEgg";f.PROGRESS_ICON_COOKIE_MILK="progressIconCookieMilk";f.PROGRESS_ICON_COOKIE_FLOUR="progressIconCookieFlour";f.PROGRESS_ICON_PIZZA_BELL_PEPPERS="progressIconPizzaBellPeppers";f.PROGRESS_ICON_PIZZA_MUSHROOMS="progressIconPizzaMushrooms";f.PROGRESS_ICON_PIZZA_OLIVES="progressIconPizzaOlives";f.PROGRESS_ICON_PIZZA_PEPPERONI="progressIconPizzaPepperoni";f.PROGRESS_ICON_SMOOTHIE_APPLE="progressIconSmoothieApple";
f.PROGRESS_ICON_SMOOTHIE_BANANA="progressIconSmoothieBanana";f.PROGRESS_ICON_SMOOTHIE_STRAWBERRY="progressIconSmoothieStrawberry";f.PROGRESS_ICON_CUPCAKE_BLUE="progressIconCupcakeBlue";f.PROGRESS_ICON_CUPCAKE_FROSTING="progressIconCupcakeFrosting";f.PROGRESS_ICON_CUPCAKE_RED="progressIconCupcakeRed";f.PROGRESS_ICON_CUPCAKE_STRAWBERRY="progressIconCupcakeStrawberry";f.PROGRESS_ICON_SALAD_CUCUMBER="progressIconSaladCucumber";f.PROGRESS_ICON_SALAD_LETTUCE="progressIconSaladLettuce";f.PROGRESS_ICON_SALAD_ONION=
"progressIconSaladOnion";f.PROGRESS_ICON_SALAD_TOMATO="progressIconSaladTomato";f.RECIPE_RECAP_TIMER="recipeRecapTimer";f.COUNTDOWN1="countdown1";f.COUNTDOWN2="countdown2";f.COUNTDOWN3="countdown3";f.COOKING_PROGRESS_BASE="cookingProgressBase";f.COOKING_PROGRESS_FILL="cookingProgressFill";f.PAUSE_BUTTON="pauseButton";f.CLOCK_BASE="clockBase";f.CLOCK_HAND="clockHand";f.TIME_ELAPSED="timeElapsed";f.SELECTED_INGREDIENT_BG="selectedIngredientBg";f.INGREDIENT_BG="ingredientBg";f.DONE_INGREDIENT_BG="doneIngredientBg";
f.INGREDIENT_PIZZA1="ingredientPizza1";f.INGREDIENT_PIZZA2="ingredientPizza2";f.INGREDIENT_PIZZA3="ingredientPizza3";f.INGREDIENT_PIZZA4="ingredientPizza4";f.INGREDIENT_PIZZA5="ingredientPizza5";f.DONE_INGREDIENT_PIZZA="doneIngredientPizza";f.DONE_INGREDIENT_BURGER="doneIngredientBurger";f.DONE_INGREDIENT_COOKIES="doneIngredientCookies";f.DONE_INGREDIENT_CUPCAKES="doneIngredientCupcakes";f.DONE_INGREDIENT_SALAD="doneIngredientSalad";f.DONE_INGREDIENT_SMOOTHIE="doneIngredientSmoothie";f.START_INGREDIENT_PIZZA=
"startIngredientPizza";f.START_INGREDIENT_BURGER="startIngredientBurger";f.INGREDIENT_BURGER1="ingredientBurger1";f.INGREDIENT_BURGER2="ingredientBurger2";f.INGREDIENT_BURGER3="ingredientBurger3";f.INGREDIENT_BURGER4="ingredientBurger4";f.INGREDIENT_COOKIES1="ingredientCookies1";f.INGREDIENT_COOKIES2="ingredientCookies2";f.INGREDIENT_COOKIES3="ingredientCookies3";f.INGREDIENT_COOKIES4="ingredientCookies4";f.START_INGREDIENT_COOKIES="startIngredientCookies";f.INGREDIENT_CUPCAKES1="ingredientCupcakes1";
f.INGREDIENT_CUPCAKES2="ingredientCupcakes2";f.INGREDIENT_CUPCAKES3="ingredientCupcakes3";f.INGREDIENT_CUPCAKES4="ingredientCupcakes4";f.START_INGREDIENT_CUPCAKES="startIngredientCupcakes";f.INGREDIENT_SALAD1="ingredientSalad1";f.INGREDIENT_SALAD2="ingredientSalad2";f.INGREDIENT_SALAD3="ingredientSalad3";f.INGREDIENT_SALAD4="ingredientSalad4";f.START_INGREDIENT_SALAD="startIngredientSalad";f.INGREDIENT_SMOOTHIE1="ingredientSmoothie1";f.INGREDIENT_SMOOTHIE2="ingredientSmoothie2";f.INGREDIENT_SMOOTHIE3=
"ingredientSmoothie3";f.INGREDIENT_SMOOTHIE4="ingredientSmoothie4";f.START_INGREDIENT_SMOOTHIE="startIngredientSmoothie";f.STAR_BG="starBg";f.STAR="star";f.POPUP_GLOW="popupGlow";f.TEXT_SHADOW="textShadow";f.TEMP_SWIPE_ARROW="tempSwipeArrow";f.TEMP_COOKING_BG="tempCookingBg";f.TEMP_FILL_BAR_BG="tempFillBarBg";f.TEMP_FILL_BAR="tempFillBar";f.TEMP_ORDER_INDICATOR_BLOCKER="tempOrderIndicatorBlocker";f.KITCHEN_BACKGROUND="kitchenBackground";f.KITCHEN_COUNTERTOP="kitchenCountertop";f.FINISH_ANIMATION=
"finishAnimation";f.FINISH_ANIMATION_XML="finishAnimationXml";f.SPARKLE="sparkle";f.SPARKLE_XML="sparkleXml";f.COOKING_ARROW_CIRCLE="cookingArrowCircle";f.COOKING_ARROW_CURVE="cookingArrowCurve";f.COOKING_ARROW_POINTER="cookingArrowPointer";f.COOKING_ARROW_STRAIGHT="cookingArrowStraight";f.COOKING_TAP_TO_HOLD="cookingTapToHold";f.COOKING_PIZZA_PHOTO="cookingPizzaPhoto";f.PROMO_DOLL_IMAGE1="promoDollImage1";f.PROMO_DOLL_IMAGE2="promoDollImage2";f.PROMO_DOLL_IMAGE3="promoDollImage3";f.PROMO_DOLL_IMAGE4=
"promoDollImage4";f.PROMO_DOLL_IMAGE5="promoDollImage5";f.PROMO_DOLL_IMAGE6="promoDollImage6";f.PROMO_DOLL_IMAGE7="promoDollImage7";f.PROMO_DOLL_IMAGE8="promoDollImage8";f.OVEN_GLOW="ovenGlow";f.PROMO_BARBIE_LIFE_IMAGE1="promoBarbieLifeImage1";f.GRAY_PAUSE_MENU_BTN="grayPauseMenuBtn";f.GRAY_PAUSE_BG="grayPauseBg";f.GRAY_QUIT_BUTTON="grayQuitButton";f.GRAY_HELP_BUTTON="grayHelpButton";f.GRAY_BIG_SOUND_ON="grayBigSoundOn";f.GRAY_BIG_SOUND_OFF="grayBigSoundOff";f.GRAY_LEVEL_COMPLETE_PROMPT_BG="grayLevelCompletePromptBg";
f.GRAY_LEVEL_FAIL_PROMPT_BG="grayLevelFailPromptBg";f.DRESSROOM_LOGO="dressroomLogo";f.DRESSING_ROOM_BG="dressingRoomBg";f.ITEM_BG="itemBg";f.CATEGORY_BG_SELECTED="categoryBgSelected";f.CATEGORY_BG_DESELECTED="categoryBgDeselected";f.BODY="body";f.HAIR="hair";f.OUTFIT="outfit";f.TUTORIAL_FINGER="tutorialFinger";f.MUSIC_CHEERY_MONDAY="music_cheery_monday";f.MUSIC_RAINBOWS="music_rainbows";f.SFX_CLICK_1="sfx_click_1";f.SFX_CLICK_2="sfx_click_2";f.SFX_BACK_1="sfx_back_1";f.SFX_SWISH_1="sfx_swish_1";
f.SFX_SWISH_2="sfx_swish_2";f.SFX_SWISH_3="sfx_swish_3";f.SFX_TRANSITION_IN="sfx_transition_in";f.SFX_TRANSITION_OUT="sfx_transition_out";f.SFX_DISH_SELECT_1="sfx_dish_select_1";f.SFX_CLOCK_TICK_1="sfx_clock_tick_1";f.SFX_CLOCK_TICK_2="sfx_clock_tick_2";f.SFX_COUNTDOWN_1="sfx_countdown_1";f.SFX_COUNTDOWN_2="sfx_countdown_2";f.SFX_BELL_RING_1="sfx_bell_ring_1";f.SFX_DISH_STEP_COMPLETE_1="sfx_dish_step_complete_1";f.SFX_KNIFE_SLICE_1="sfx_knife_slice_1";f.SFX_RUSTLE_1="sfx_rustle_1";f.SFX_DROP_1="sfx_drop_1";
f.SFX_BLENDER_1="sfx_blender_1";f.SFX_SMOOTHIE_POUR_1="sfx_smoothie_pour_1";f.SFX_SCRAPE_1="sfx_scrape_1";f.SFX_SCRAPE_2="sfx_scrape_2";f.SFX_DRESSING_POUR_1="sfx_dressing_pour_1";f.SFX_TOSS_SALAD_1="sfx_toss_salad_1";f.SFX_TOSS_SALAD_2="sfx_toss_salad_2";f.SFX_PATTY_ROLL_1="sfx_patty_roll_1";f.SFX_PATTY_ROLL_2="sfx_patty_roll_2";f.SFX_PATTY_ROLL_3="sfx_patty_roll_3";f.SFX_BURGER_FLIP_1="sfx_burger_flip_1";f.SFX_BURGER_SIZZLE_1="sfx_burger_sizzle_1";f.SFX_FLOUR_POUR_1="sfx_flour_pour_1";f.SFX_MILK_POUR_1=
"sfx_milk_pour_1";f.SFX_BUTTER_DROP_1="sfx_butter_drop_1";f.SFX_EGG_CRACK_1="sfx_egg_crack_1";f.SFX_BATTER_STIR_1="sfx_batter_stir_1";f.SFX_BATTER_POUR_1="sfx_batter_pour_1";f.SFX_ADD_FROSTING_1="sfx_add_frosting_1";f.SFX_CHOCOLATE_CHIPS_DROP_1="sfx_chocolate_chips_drop_1";f.SFX_COOKIE_DOUGH_PICK_UP_1="sfx_cookie_dough_pick_up_1";f.SFX_COOKIE_DOUGH_PLACE_1="sfx_cookie_dough_place_1";f.SFX_SPOON_MOVE_1="sfx_spoon_move_1";f.SFX_ROLLING_PIN_1="sfx_rolling_pin_1";f.SFX_SAUCE_POUR_1="sfx_sauce_pour_1";
f.SFX_SAUCE_SPREAD_1="sfx_sauce_spread_1";f.SFX_PIZZA_CUTTER_1="sfx_pizza_cutter_1";f.SFX_SPARKLES_1="sfx_sparkles_1";f.PIZZA_STILL="pizzaStill";f.PIZZA_DOUGH_BALL="pizzaDoughBall";f.PIZZA_DOUGH_BASE="pizzaDoughBase";f.PIZZA_SAUCE="pizzaSauce";f.PIZZA_DOUGH_WITH_SAUCE="pizzaDoughWithSauce";f.CHEESE_BLOCK="cheeseBlock";f.GRATED_CHEESE_BOWL="gratedCheeseBowl";f.WHOLE_CHEESE_PIZZA="wholeCheesePizza";f.PIZZA_AND_TOPPINGS="pizzaAndToppings";f.GREEN_PEPPERS="greenPeppers";f.OLIVES="olives";f.PEPPERONI=
"pepperoni";f.PIZZA_PEPPERONI_TOPPING="pizzaPepperoniTopping";f.PIZZA_PEPPERS_TOPPING="pizzaPeppersTopping";f.PIZZA_OLIVES_TOPPING="pizzaOlivesTopping";f.PIZZA_DOUGH1="pizzaDough1";f.PIZZA_DOUGH2="pizzaDough2";f.PIZZA_DOUGH3="pizzaDough3";f.PIZZA_DOUGH4="pizzaDough4";f.ROLLING_PIN="rollingPin";f.SPATULA="spatula";f.PIZZA_SAUCE_CAN="pizzaSauceCan";f.PIZZA_SAUCE_POUR="pizzaSaucePour";f.PIZZA_SAUCE_POUR_XML="pizzaSaucePourXml";f.PIZZA_CHEESE_PLACING="pizzaCheesePlacing";f.PIZZA_CHEESE_PLACING_XML="pizzaCheesePlacingXml";
f.PIZZA_BOWL="pizzaBowl";f.PIZZA_FLOUR="pizzaFlour";f.PIZZA_BELL_PEPPERS_HINT="pizzaBellPeppersHint";f.PIZZA_MUSHROOM_HINT="pizzaMushroomHint";f.PIZZA_OLIVES_HINT="pizzaOlivesHint";f.PIZZA_PEPPERONI_HINT="pizzaPepperoniHint";f.PIZZA_TOPPING_HOLDER="pizzaToppingHolder";f.BELL_PEPPER_PLACING="bellPepperPlacing";f.BELL_PEPPER_PLACING_XML="bellPepperPlacingXml";f.BLACK_OLIVES_PLACING="blackOlivesPlacing";f.BLACK_OLIVES_PLACING_XML="blackOlivesPlacingXml";f.MUSHROOM_PLACING="mushroomPlacing";f.MUSHROOM_PLACING_XML=
"mushroomPlacingXml";f.PIZZA_CHEESE_GRATED="pizzaCheeseGrated";f.PIZZA_CHEESE_GRATED_XML="pizzaCheeseGratedXml";f.PIZZA_PEPPERS_PILE="pizzaPeppersPile";f.PIZZA_BLACK_OLIVES_PILE="pizzaBlackOlivesPile";f.PIZZA_MUSHROOMS_PILE="pizzaMushroomsPile";f.PIZZA_PEPPERONI_PILE="pizzaPepperoniPile";f.TEMP_PIZZA_PEPPERONI_PLACED="tempPizzaPepperoniPlaced";f.COOKED_PIZZA="cookedPizza";f.PIZZA_CUT_LINE1="pizzaCutLine1";f.PIZZA_CUT_LINE2="pizzaCutLine2";f.PIZZA_CUT_LINE3="pizzaCutLine3";f.PIZZA_CUTTER1="pizzaCutter1";
f.PIZZA_CUTTER2="pizzaCutter2";f.PIZZA_CUTTER3="pizzaCutter3";f.PIZZA_BOARD="pizzaBoard";f.PIZZA_SAUCE_SPREADING="pizzaSauceSpreading";f.PIZZA_SAUCE_SPREADING_XML="pizzaSauceSpreadingXml";f.PIZZA_CHEESE="pizzaCheese";f.PIZZA_CHEESE_SHREDDED1="pizzaCheeseShredded1";f.PIZZA_CHEESE_SHREDDED2="pizzaCheeseShredded2";f.CHEESE_GRATER="cheeseGrater";f.PIZZA_SLIDE1="pizzaSlide1";f.PIZZA_SLIDE2="pizzaSlide2";f.PIZZA_SLIDE3="pizzaSlide3";f.BURGER_STILL="burgerStill";f.CUTTING_BOARD="cuttingBoard";f.BURGER_TOMATO1=
"burgerTomato1";f.BURGER_TOMATO2="burgerTomato2";f.BURGER_TOMATO3="burgerTomato3";f.PLATE="plate";f.KNIFE="knife";f.SALAD_LETTUCE1="saladLettuce1";f.SALAD_LETTUCE2="saladLettuce2";f.SALAD_LETTUCE3="saladLettuce3";f.SALAD_LETTUCE4="saladLettuce4";f.SALAD_LETTUCE5="saladLettuce5";f.SALAD_LETTUCE6="saladLettuce6";f.SALAD_LETTUCE_PIECE="saladLettucePiece";f.SALAD_LETTUCE_PIECE2="saladLettucePiece2";f.HAMBURGER_CHEESE1="hamburgerCheese1";f.HAMBURGER_CHEESE2="hamburgerCheese2";f.HAMBURGER_CHEESE="hamburgerCheese";
f.HAMBURGER_PATTY1="hamburgerPatty1";f.HAMBURGER_PATTY2="hamburgerPatty2";f.HAMBURGER_PATTY3="hamburgerPatty3";f.HAMBURGER_PATTY4="hamburgerPatty4";f.HAMBURGER_PATTY6="hamburgerPatty6";f.HAMBURGER_MEAT_SHAPE1="hamburgerMeatShape1";f.HAMBURGER_MEAT_SHAPE2="hamburgerMeatShape2";f.HAMBURGER_MEAT_SHAPE3="hamburgerMeatShape3";f.HAMBURGER_MEAT_SHAPE4="hamburgerMeatShape4";f.HAMBURGER_MEAT_SHAPE5="hamburgerMeatShape5";f.HAMBURGER_MEAT_SHAPE6="hamburgerMeatShape6";f.HAMBURGER_BUN1="hamburgerBun1";f.HAMBURGER_BUN2=
"hamburgerBun2";f.BURNER1="burner1";f.BURNER2="burner2";f.FRYING_PAN="fryingPan";f.HAMBURGER_PICKLES="hamburgerPickles";f.HAMBURGER_LETTUCE="hamburgerLettuce";f.CUTTING_BOARD3="cuttingBoard3";f.BURGER_SPATULA="burgerSpatula";f.BURGER_STEAM="burgerSteam";f.BURGER_STEAM_XML="burgerSteamXml";f.COOKIES_STILL="cookiesStill";f.COOKIE_BOWL="cookieBowl";f.COOKIE_BOWL_FRONT="cookieBowlFront";f.COOKIE_FLOUR="cookieFlour";f.COOKIE_FLOUR3="cookieFlour3";f.COOKIE_MILK_CUP1="cookieMilkCup1";f.COOKIE_MILK_CUP2=
"cookieMilkCup2";f.COOKIE_MILK_POUR1="cookieMilkPour1";f.COOKIE_MILK_POUR2="cookieMilkPour2";f.COOKIE_CHOCOLATE_CHIP_BAG1="cookieChocolateChipBag1";f.COOKIE_CHOCOLATE_CHIP_BAG2="cookieChocolateChipBag2";f.COOKIE_CHOCOLATE_CHIP_POUR="cookieChocolateChipPour";f.COOKIE_CHOCOLATE_CHIP_POUR_XML="cookieChocolateChipPourXml";f.COOKIE_CHOCOLATE_CHIPS="cookieChocolateChips";f.COOKIE_EGG_CRACK="cookieEggCrack";f.COOKIE_EGG_CRACK_XML="cookieEggCrackXml";f.COOKIE_EGG_YOLK="cookieEggYolk";f.COOKIE_EGG_YOLK_XML=
"cookieEggYolkXml";f.COOKIE_EGG="cookieEgg";f.COOKIE_EGG_BOWL="cookieEggBowl";f.COOKIE_SMALL_PLATE="cookieSmallPlate";f.COOKIE_BUTTER_STICK="cookieButterStick";f.COOKIE_WOODEN_SPOON="cookieWoodenSpoon";f.COOKIE_BOWL_ALL_INGREDIENTS="cookieBowlAllIngredients";f.COOKIE_BATTER_END="cookieBatterEnd";f.COOKIE_STIRRING_SPOON="cookieStirringSpoon";f.COOKIE_STIRRING_SPOON_XML="cookieStirringSpoonXml";f.COOKIE_BOWL_STIRRED="cookieBowlStirred";f.COOKIE_BOWL_STIRRED_FULL="cookieBowlStirredFull";f.COOKIE_TRAY=
"cookieTray";f.COOKIE_BATTER_SPOON="cookieBatterSpoon";f.COOKIE_COOKIE1="cookieCookie1";f.COOKIE_COOKIE2="cookieCookie2";f.DISH_COOKIES__LOADPIZZA_FLOUR="pizzaFlour";f.COOKIES_SLIDE1="cookiesSlide1";f.CUPCAKES_STILL="cupcakesStill";f.DISH_CUPCAKES__LOADCOOKIE_BATTER_END="cookieBatterEnd";f.CUPCAKE_BOWL_ALL_INGREDIENTS="cupcakeBowlAllIngredients";f.DISH_CUPCAKES__LOADPIZZA_BOWL="pizzaBowl";f.DISH_CUPCAKES__LOADPIZZA_FLOUR="pizzaFlour";f.DISH_CUPCAKES__LOADCOOKIE_BOWL="cookieBowl";f.DISH_CUPCAKES__LOADCOOKIE_BOWL_FRONT=
"cookieBowlFront";f.DISH_CUPCAKES__LOADCOOKIE_FLOUR="cookieFlour";f.DISH_CUPCAKES__LOADCOOKIE_FLOUR3="cookieFlour3";f.DISH_CUPCAKES__LOADCOOKIE_MILK_CUP1="cookieMilkCup1";f.DISH_CUPCAKES__LOADCOOKIE_MILK_CUP2="cookieMilkCup2";f.DISH_CUPCAKES__LOADCOOKIE_MILK_POUR1="cookieMilkPour1";f.DISH_CUPCAKES__LOADCOOKIE_MILK_POUR2="cookieMilkPour2";f.DISH_CUPCAKES__LOADCOOKIE_CHOCOLATE_CHIP_BAG1="cookieChocolateChipBag1";f.DISH_CUPCAKES__LOADCOOKIE_CHOCOLATE_CHIP_BAG2="cookieChocolateChipBag2";f.DISH_CUPCAKES__LOADCOOKIE_CHOCOLATE_CHIP_POUR=
"cookieChocolateChipPour";f.DISH_CUPCAKES__LOADCOOKIE_CHOCOLATE_CHIP_POUR_XML="cookieChocolateChipPourXml";f.DISH_CUPCAKES__LOADCOOKIE_CHOCOLATE_CHIPS="cookieChocolateChips";f.DISH_CUPCAKES__LOADCOOKIE_EGG_CRACK="cookieEggCrack";f.DISH_CUPCAKES__LOADCOOKIE_EGG_CRACK_XML="cookieEggCrackXml";f.DISH_CUPCAKES__LOADCOOKIE_EGG_YOLK="cookieEggYolk";f.DISH_CUPCAKES__LOADCOOKIE_EGG_YOLK_XML="cookieEggYolkXml";f.DISH_CUPCAKES__LOADCOOKIE_EGG="cookieEgg";f.DISH_CUPCAKES__LOADCOOKIE_EGG_BOWL="cookieEggBowl";
f.DISH_CUPCAKES__LOADCOOKIE_SMALL_PLATE="cookieSmallPlate";f.DISH_CUPCAKES__LOADCOOKIE_BUTTER_STICK="cookieButterStick";f.DISH_CUPCAKES__LOADCOOKIE_WOODEN_SPOON="cookieWoodenSpoon";f.DISH_CUPCAKES__LOADCOOKIE_STIRRING_SPOON="cookieStirringSpoon";f.DISH_CUPCAKES__LOADCOOKIE_STIRRING_SPOON_XML="cookieStirringSpoonXml";f.DISH_CUPCAKES__LOADCOOKIE_BOWL_STIRRED="cookieBowlStirred";f.DISH_CUPCAKES__LOADCOOKIE_BOWL_STIRRED_FULL="cookieBowlStirredFull";f.DISH_CUPCAKES__LOADCOOKIE_TRAY="cookieTray";f.CUPCAKE_TRAY=
"cupcakeTray";f.TRAY_FILL="trayFill";f.TRAY_FILL_XML="trayFillXml";f.CUPCAKE_LINER1="cupcakeLiner1";f.CUPCAKE_LINER2="cupcakeLiner2";f.SPRINKLE_BLUE1="sprinkleBlue1";f.SPRINKLE_BLUE2="sprinkleBlue2";f.SPRINKLE_PINK1="sprinklePink1";f.SPRINKLE_PINK2="sprinklePink2";f.SPRINKLE1="sprinkle1";f.SPRINKLE1_XML="sprinkle1Xml";f.SPRINKLE2="sprinkle2";f.SPRINKLE2_XML="sprinkle2Xml";f.FROSTING_TUBE="frostingTube";f.FROSTING="frosting";f.FROSTING_XML="frostingXml";f.COOKED_CUPCAKE="cookedCupcake";f.CUPCAKE_STRAWBERRY=
"cupcakeStrawberry";f.CUPCAKES_SLIDE1="cupcakesSlide1";f.CUPCAKES_SLIDE2="cupcakesSlide2";f.CUPCAKES_SLIDE3="cupcakesSlide3";f.SALAD_STILL="saladStill";f.DISH_SALAD__LOADCHEESE_GRATER="cheeseGrater";f.DISH_SALAD__LOADPLATE="plate";f.DISH_SALAD__LOADKNIFE="knife";f.DISH_SALAD__LOADBURGER_TOMATO1="burgerTomato1";f.DISH_SALAD__LOADBURGER_TOMATO2="burgerTomato2";f.DISH_SALAD__LOADBURGER_TOMATO3="burgerTomato3";f.DISH_SALAD__LOADCUTTING_BOARD="cuttingBoard";f.DISH_SALAD__LOADPIZZA_CHEESE_PLACING="pizzaCheesePlacing";
f.DISH_SALAD__LOADPIZZA_CHEESE_PLACING_XML="pizzaCheesePlacingXml";f.DISH_SALAD__LOADPIZZA_CHEESE_GRATED="pizzaCheeseGrated";f.DISH_SALAD__LOADPIZZA_CHEESE_GRATED_XML="pizzaCheeseGratedXml";f.SALAD_CUCUMBER_SLICE1="saladCucumberSlice1";f.SALAD_CUCUMBER_SLICE2="saladCucumberSlice2";f.SALAD_CUCUMBER_SLICE3="saladCucumberSlice3";f.SALAD_CUCUMBER_SLICE4="saladCucumberSlice4";f.SALAD_CUCUMBER_SLICE5="saladCucumberSlice5";f.SALAD_CUCUMBER_SLICE6="saladCucumberSlice6";f.SALAD_CUCUMBER_SLICE7="saladCucumberSlice7";
f.SALAD_CUCUMBER_SLICE8="saladCucumberSlice8";f.SALAD_CUCUMBER_SLICE9="saladCucumberSlice9";f.SALAD_ONION_SLICE1="saladOnionSlice1";f.SALAD_ONION_SLICE2="saladOnionSlice2";f.SALAD_ONION_SLICE3="saladOnionSlice3";f.SALAD_ONION_SLICE4="saladOnionSlice4";f.SALAD_ONION_SLICE5="saladOnionSlice5";f.SALAD_CUCUMBER2="saladCucumber2";f.SALAD_CUCUMBER3="saladCucumber3";f.SALAD_ONION="saladOnion";f.SALAD_ONION2="saladOnion2";f.SALAD_CARROT="saladCarrot";f.SALAD_CARROT2="saladCarrot2";f.SALAD_SALAD4="saladSalad4";
f.SALAD_DRESSING1="saladDressing1";f.SALAD_DRESSING2="saladDressing2";f.DRESSING_POUR="dressingPour";f.DRESSING_POUR_XML="dressingPourXml";f.TOSS1="toss1";f.TOSS2="toss2";f.TOSS3="toss3";f.TOSS4="toss4";f.TOSS5="toss5";f.TOSS6="toss6";f.TOSS7="toss7";f.TOSS8="toss8";f.TOSS9="toss9";f.TOSS10="toss10";f.SALAD_BOWL="saladBowl";f.SALAD_WOODEN_FORK="saladWoodenFork";f.SALAD_WOODEN_SPOON="saladWoodenSpoon";f.DISH_SALAD__LOADSALAD_LETTUCE1="saladLettuce1";f.DISH_SALAD__LOADSALAD_LETTUCE2="saladLettuce2";
f.DISH_SALAD__LOADSALAD_LETTUCE3="saladLettuce3";f.DISH_SALAD__LOADSALAD_LETTUCE4="saladLettuce4";f.DISH_SALAD__LOADSALAD_LETTUCE5="saladLettuce5";f.DISH_SALAD__LOADSALAD_LETTUCE6="saladLettuce6";f.DISH_SALAD__LOADSALAD_LETTUCE_PIECE="saladLettucePiece";f.DISH_SALAD__LOADSALAD_LETTUCE_PIECE2="saladLettucePiece2";f.SMOOTHIE_STILL="smoothieStill";f.SMOOTHIE_BLENDER_CHOPPED_FRUIT="smoothieBlenderChoppedFruit";f.SMOOTHIE_BLENDER_BUTTON_DOWN="smoothieBlenderButtonDown";f.SMOOTHIE_BLENDER_BUTTON_UP="smoothieBlenderButtonUp";
f.SMOOTHIE_BLENDER_APPLES="smoothieBlenderApples";f.SMOOTHIE_BLENDER_BANANA="smoothieBlenderBanana";f.SMOOTHIE_BLENDER_STRAWBERRY="smoothieBlenderStrawberry";f.SMOOTHIE_BLENDER_CAP="smoothieBlenderCap";f.SMOOTHIE_FRUIT_TRAY="smoothieFruitTray";f.BLENDER_BASE="blenderBase";f.BLENDER_FOREGROUND="blenderForeground";f.DISH_SMOOTHIE__LOADPLATE="plate";f.DISH_SMOOTHIE__LOADKNIFE="knife";f.DISH_SMOOTHIE__LOADCUTTING_BOARD="cuttingBoard";f.SMOOTHIE_APPLE_CUT1="smoothieAppleCut1";f.SMOOTHIE_APPLE_CUT2="smoothieAppleCut2";
f.SMOOTHIE_APPLE_CUT3="smoothieAppleCut3";f.SMOOTHIE_APPLE_CUT4="smoothieAppleCut4";f.SMOOTHIE_APPLE_CUT5="smoothieAppleCut5";f.SMOOTHIE_APPLE_SLICE="smoothieAppleSlice";f.SMOOTHIE_BANANA_CUT1="smoothieBananaCut1";f.SMOOTHIE_BANANA_CUT2="smoothieBananaCut2";f.SMOOTHIE_BANANA_CUT3="smoothieBananaCut3";f.SMOOTHIE_BANANA_CUT4="smoothieBananaCut4";f.SMOOTHIE_BANANA_CUT5="smoothieBananaCut5";f.SMOOTHIE_BANANA_CUT6="smoothieBananaCut6";f.SMOOTHIE_BANANA_CUT7="smoothieBananaCut7";f.SMOOTHIE_BANANA_CUT8=
"smoothieBananaCut8";f.SMOOTHIE_BANANA_SLICE="smoothieBananaSlice";f.SMOOTHIE_STRAWBERRY_CUT1="smoothieStrawberryCut1";f.SMOOTHIE_STRAWBERRY_CUT2="smoothieStrawberryCut2";f.SMOOTHIE_STRAWBERRY_CUT3="smoothieStrawberryCut3";f.SMOOTHIE_STRAWBERRY_SLICE1="smoothieStrawberrySlice1";f.SMOOTHIE_STRAWBERRY_SLICE2="smoothieStrawberrySlice2";f.DISH_SMOOTHIE__LOADCOOKIE_BATTER_END="cookieBatterEnd";f.DISH_SMOOTHIE__LOADCOOKIE_BOWL_ALL_INGREDIENTS="cookieBowlAllIngredients";f.DISH_SMOOTHIE__LOADPIZZA_BOWL="pizzaBowl";
f.DISH_SMOOTHIE__LOADPIZZA_FLOUR="pizzaFlour";f.DISH_SMOOTHIE__LOADCOOKIE_BOWL="cookieBowl";f.DISH_SMOOTHIE__LOADCOOKIE_BOWL_FRONT="cookieBowlFront";f.DISH_SMOOTHIE__LOADCOOKIE_FLOUR="cookieFlour";f.DISH_SMOOTHIE__LOADCOOKIE_FLOUR3="cookieFlour3";f.DISH_SMOOTHIE__LOADCOOKIE_MILK_CUP1="cookieMilkCup1";f.DISH_SMOOTHIE__LOADCOOKIE_MILK_CUP2="cookieMilkCup2";f.DISH_SMOOTHIE__LOADCOOKIE_MILK_POUR1="cookieMilkPour1";f.DISH_SMOOTHIE__LOADCOOKIE_MILK_POUR2="cookieMilkPour2";f.DISH_SMOOTHIE__LOADCOOKIE_CHOCOLATE_CHIP_BAG1=
"cookieChocolateChipBag1";f.DISH_SMOOTHIE__LOADCOOKIE_CHOCOLATE_CHIP_BAG2="cookieChocolateChipBag2";f.SMOOTHIE_BLEND="smoothieBlend";f.SMOOTHIE_BLEND_XML="smoothieBlendXml";f.CUP_FILL="cupFill";f.CUP_FILL_XML="cupFillXml";f.DISH_SMOOTHIE__LOADCOOKIE_CHOCOLATE_CHIP_POUR="cookieChocolateChipPour";f.DISH_SMOOTHIE__LOADCOOKIE_CHOCOLATE_CHIP_POUR_XML="cookieChocolateChipPourXml";f.DISH_SMOOTHIE__LOADCOOKIE_CHOCOLATE_CHIPS="cookieChocolateChips";f.DISH_SMOOTHIE__LOADCOOKIE_EGG_CRACK="cookieEggCrack";f.DISH_SMOOTHIE__LOADCOOKIE_EGG_CRACK_XML=
"cookieEggCrackXml";f.DISH_SMOOTHIE__LOADCOOKIE_EGG_YOLK="cookieEggYolk";f.DISH_SMOOTHIE__LOADCOOKIE_EGG_YOLK_XML="cookieEggYolkXml";f.DISH_SMOOTHIE__LOADCOOKIE_EGG="cookieEgg";f.DISH_SMOOTHIE__LOADCOOKIE_EGG_BOWL="cookieEggBowl";f.DISH_SMOOTHIE__LOADCOOKIE_SMALL_PLATE="cookieSmallPlate";f.DISH_SMOOTHIE__LOADCOOKIE_BUTTER_STICK="cookieButterStick";f.DISH_SMOOTHIE__LOADCOOKIE_WOODEN_SPOON="cookieWoodenSpoon";f.DISH_SMOOTHIE__LOADCOOKIE_STIRRING_SPOON="cookieStirringSpoon";f.DISH_SMOOTHIE__LOADCOOKIE_STIRRING_SPOON_XML=
"cookieStirringSpoonXml";f.DISH_SMOOTHIE__LOADCOOKIE_BOWL_STIRRED="cookieBowlStirred";f.DISH_SMOOTHIE__LOADCOOKIE_BOWL_STIRRED_FULL="cookieBowlStirredFull";f.SMOOTHIE_CUP_BACK="smoothieCupBack";f.SMOOTHIE_CUP_FRONT="smoothieCupFront";f.SMOOTHIE_FILL1="smoothieFill1";f.SMOOTHIE_FILL2="smoothieFill2";f.SMOOTHIE_FILL3="smoothieFill3";f.SMOOTHIE_FILL4="smoothieFill4";f.BLENDER_BOTTOM_BASE="blenderBottomBase";f.BLENDER_TOP_EMPTY="blenderTopEmpty";f.BLENDER_TOP_FULL="blenderTopFull";f.BLENDER_TOP_POUR=
"blenderTopPour";f.BLENDER_POUR1="blenderPour1";f.BLENDER_POUR2="blenderPour2";f.SMOOTHIE_CUP_FILL="smoothieCupFill";f.SMOOTHIE_CUP_FILL_XML="smoothieCupFillXml";f.SKIN1="skin1";f.SKIN2="skin2";f.SKIN3="skin3";f.SKIN4="skin4";f.SKIN1OUTFIT1="skin1outfit1";f.SKIN2OUTFIT1="skin2outfit1";f.SKIN3OUTFIT1="skin3outfit1";f.SKIN4OUTFIT1="skin4outfit1";f.SKIN1OUTFIT2="skin1outfit2";f.SKIN2OUTFIT2="skin2outfit2";f.SKIN3OUTFIT2="skin3outfit2";f.SKIN4OUTFIT2="skin4outfit2";f.SKIN1OUTFIT3="skin1outfit3";f.SKIN2OUTFIT3=
"skin2outfit3";f.SKIN3OUTFIT3="skin3outfit3";f.SKIN4OUTFIT3="skin4outfit3";f.SKIN1OUTFIT4="skin1outfit4";f.SKIN2OUTFIT4="skin2outfit4";f.SKIN3OUTFIT4="skin3outfit4";f.SKIN4OUTFIT4="skin4outfit4";f.HAIR3_BACK="hair3Back";f.HAIR2_BACK="hair2Back";f.HAIR1_BACK="hair1Back";f.HAIR3="hair3";f.HAIR2="hair2";f.HAIR1="hair1";f.OUTFIT1="outfit1";f.OUTFIT2="outfit2";f.OUTFIT3="outfit3";f.OUTFIT4="outfit4";f.HAIR3_THUMBNAIL="hair3Thumbnail";f.HAIR2_THUMBNAIL="hair2Thumbnail";f.HAIR1_THUMBNAIL="hair1Thumbnail";
f.SKIN1_THUMBNAIL="skin1Thumbnail";f.SKIN2_THUMBNAIL="skin2Thumbnail";f.SKIN3_THUMBNAIL="skin3Thumbnail";f.SKIN4_THUMBNAIL="skin4Thumbnail";f.OUTFIT1_THUMBNAIL="outfit1Thumbnail";f.OUTFIT2_THUMBNAIL="outfit2Thumbnail";f.OUTFIT3_THUMBNAIL="outfit3Thumbnail";f.OUTFIT4_THUMBNAIL="outfit4Thumbnail";Ai.RALEWAY="ralewaybold";Ai.RALEWAY_BLACK="ralewayblack";hc.WHITE="#FFFFFF";hc.BLACK="#000000";hc.RED="#FF0000";hc.LIGHT_RED="#FF5555";hc.BLUE="#0000FF";hc.MAGENTA="#FF00FF";hc.LIGHT_BLUE="#AAAAFF";hc.YELLOW=
"#FFFF00";hc.ENTITY_GREEN="#44FF44";Df.FTUE_ACTIVE_KEY="ftueActiveKey";ma.NUM_LEVELS_UNLOCKED_KEY="numLevelsUnlocked";ma.LEVEL_SCORE_SAVE_KEY="levelScore";ma.HAS_BEATEN_GAME_KEY="hasBeatenGame";ma.HAS_STARTED_GAME_KEY="hasStartedGame";ma.AVATAR_ITEMS_KEY="avatarItems";ee.UPDATE="update";ia.DISH_SELECT_HEADING="DISH_SELECT_HEADING";ia.STORY_SCREEN_HEADING="STORY_SCREEN_HEADING";ia.STORY_SCREEN_PAGE_1="STORY_SCREEN_PAGE_1";ia.STORY_SCREEN_PAGE_2="STORY_SCREEN_PAGE_2";ia.DRESS_YOUR_CHEF="DRESS_YOUR_CHEF";
ia.STEPSELECT_SCREEN_BODY="STEPSELECT_SCREEN_BODY";ia.STEP_COMPLETE_HEADING="STEP_COMPLETE_HEADING";ia.STEPCOMPLETE_SCREEN_BODY="STEPCOMPLETE_SCREEN_BODY";ia.GAMEPLAY_SCREEN_TIMER="GAMEPLAY_SCREEN_TIMER";ia.GAMEPLAY_SCREEN_PAUSE="GAMEPLAY_SCREEN_PAUSE";ia.GAMEPLAY_SCREEN_QUIT_CONFIRM="GAMEPLAY_SCREEN_QUIT_CONFIRM";ia.GAMEPLAY_SCREEN_QUIT_CONFIRM_TEXT="GAMEPLAY_SCREEN_QUIT_CONFIRM_TEXT";ia.GAMEPLAY_SCREEN_QUIT_CONFIRM_YES="GAMEPLAY_SCREEN_QUIT_CONFIRM_YES";ia.GAMEPLAY_SCREEN_QUIT_CONFIRM_NO="GAMEPLAY_SCREEN_QUIT_CONFIRM_NO";
ia.GAMEPLAY_COOKING="GAMEPLAY_COOKING";ia.GAME_COMPLETE_HEADER="GAME_COMPLETE_HEADER";ia.GAME_COMPLETE_TEXT="GAME_COMPLETE_TEXT";ia.GAME_COMPLETE_NEXT="GAME_COMPLETE_NEXT";ia.GAME_COMPLETE_GRADE_HEADING="GAME_COMPLETE_GRADE_HEADING";ia.GAME_COMPLETE_GRADE_1="GAME_COMPLETE_GRADE_1";ia.GAME_COMPLETE_GRADE_2="GAME_COMPLETE_GRADE_2";ia.GAME_COMPLETE_GRADE_3="GAME_COMPLETE_GRADE_3";ia.GAME_COMPLETE_GRADE_4="GAME_COMPLETE_GRADE_4";ia.GAME_COMPLETE_GRADE_5="GAME_COMPLETE_GRADE_5";ia.SHOP_BUTTON="SHOP_BUTTON";
ia.AD_LABEL="AD_LABEL";ia.DOLL_PROMO_HEADING="DOLL_PROMO_HEADING";ia.DISH_CUPCAKES="DISH_CUPCAKES";ia.DISH_BURGER="DISH_BURGER";ia.DISH_PIZZA="DISH_PIZZA";ia.DISH_SMOOTHIE="DISH_SMOOTHIE";ia.DISH_COOKIES="DISH_COOKIES";ia.DISH_SALAD="DISH_SALAD";ia.COMPLETION_TEXT_1="COMPLETION_TEXT_1";ia.COMPLETION_TEXT_2="COMPLETION_TEXT_2";ia.COMPLETION_TEXT_3="COMPLETION_TEXT_3";ia.COMPLETION_DELICIOUS="COMPLETION_DELICIOUS";sa.TIME_SCALE=0.75;sa.TRANSITION_TIME=0.8666666666666667;sa.FADE_TIME=2.7375;sa.FADE_DURATION=
0;nd.SCROLL_Y_OFFSET=-177;nd.CATEGORIES_Y_OFFSET=-192;he.CLICK="click";je.CLICK="click";ke.UPDATE="update";me.SHOW_MINIGAME_COMPLETE_DELAY=1.65;oe.CLICK="click";sd.CLICK="click";pe.PAUSE="pause";Tf.COMPLETE="dishActionComplete";ze.PROPS_PLACED="propsPlaced";pd.PROGRESS_BAR_WIDTH=497;Ce.ADD_ENTITY="addEntity";qd.MAX_ROTATION=360;Zb.MIN_SCALE=0.5;Zb.MAX_SCALE=0.75;Zb.SCATTER_X=1024;Zb.SCATTER_Y=768;Zb.MIN_TIME_PER_FIREWORK=0.1;Zb.MAX_TIME_PER_FIREWORK=0.4;ad.NOT_HOLDING_SCALE=1;ad.HOLDING_SCALE_START=
2;ad.HOLDING_SCALE_END=0.6;Zc.WIN="win";Zc.COMPLETE="complete";Be.MAX_ROTATION=360;De.CHANGE="change";Ee.INSTANTIATE="instantiate";rb.ARROW_Y_OFFSET=-150;ce.DISH_RATING_SAVE_KEY_PREFIX="dishRating_";Fe.COMPLETE="complete";Fc.ARROW_Y_OFFSET=-150;yd.COOK_LEVELS="hamburgerPatty2 hamburgerPatty4 hamburgerPatty4 hamburgerPatty6 hamburgerPatty6 hamburgerPatty3".split(" ");mc.GESTURE_COMPLETE="gestureComplete";mc.ALL_GESTURES_COMPLETE="allGesturesComplete";Jb.START_X=0;Jb.START_Y=-100;Jb.SPACING_X=0;Jb.SPACING_Y=
65;Bd.FALLEN_SLICE_SCALE_MODIFIER=0.75;bc.FALLEN_SLICE_SCALE_MODIFIER=0.75;Cd.FALLEN_SLICE_SCALE_MODIFIER=0.75;Ed.FALLEN_SLICE_SCALE_MODIFIER=0.75;cd.SHOW_MENU="OnMenu";cd.TOGGLE_MUSIC="onToggleMusic";Pe.COMPLETE="complete";Yb.NUM_COLS=3;Qe.WIDE_SCREEN_ASPECT_RATIO_THRESHOLD=1.3333333333333333;Id.STORY_SPRITE_PREFIX="popupStory";Id.NUM_STORY_PAGES=2;le.FADE_DURATION=0.15;vd.TIME_SCALE=1.5;vd.SPRITE_PREFIX="countdown";$c.Y_OFFSET=50;$c.LEFT_X=-230;$c.RIGHT_X=267;Ae.MIN_BAR_WIDTH=50;dd.RESUME="resume";
dd.QUIT="quit";Wc.ENTER_COMPLETE="enterComplete";Wc.DISMISS_COMPLETE="dismissComplete";sb.USE_CACHE=!1;sb.USE_ENUM_INDEX=!1;sb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Bb.DEFAULT_RESOLVER=new oh;Bb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";cc.count=0;Kd.connections=new Na;pc.escapes=function(a){a=new Na;null!=na.lt?a.setReserved("lt","<"):a.h.lt="<";null!=na.gt?a.setReserved("gt",">"):a.h.gt=">";null!=na.amp?a.setReserved("amp","&"):
a.h.amp="&";null!=na.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=na.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);H.__toStr={}.toString;ed.BYTES_PER_ELEMENT=4;Ic.BYTES_PER_ELEMENT=1;z.main()})("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
