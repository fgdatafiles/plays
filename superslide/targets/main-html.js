/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function v(a,b){function c(){}c.prototype=a;var d=new c,h;for(h in b)d[h]=b[h];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function eg(a){return a instanceof Array?function(){return L.iter(a)}:"function"==typeof a.iterator?p(a,a.iterator):a.iterator}function p(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=ig++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var g={},f=function(){return y.__string_rec(this,"")},pb=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};g.EReg=pb;pb.__name__=!0;pb.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw"EReg::matched";},matchedPos:function(){if(null==this.r.m)throw"No string matched";
return{pos:this.r.m.index,len:this.r.m[0].length}},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},__class__:pb};var L=function(){};g.HxOverrides=L;L.__name__=!0;L.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-
1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+a;}};L.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};L.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};L.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};L.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};
var Ec=function(){};g.Lambda=Ec;Ec.__name__=!0;Ec.array=function(a){for(var b=[],a=eg(a)();a.hasNext();){var c=a.next();b.push(c)}return b};Ec.count=function(a,b){var c=0;if(null==b)for(var d=eg(a)();d.hasNext();)d.next(),c++;else for(d=eg(a)();d.hasNext();){var h=d.next();b(h)&&c++}return c};var Fc=function(){this.length=0};g.List=Fc;Fc.__name__=!0;Fc.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},iterator:function(){return{h:this.h,hasNext:function(){return null!=
this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:Fc};var Tb=function(){};g.IMap=Tb;Tb.__name__=!0;Tb.prototype={__class__:Tb};Math.__name__=!0;var o=function(){};g.Reflect=o;o.__name__=!0;o.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};o.field=function(a,b){try{return a[b]}catch(c){return null}};o.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};o.setProperty=
function(a,b,c){var d;if(a.__properties__&&(d=a.__properties__["set_"+b]))a[d](c);else a[b]=c};o.callMethod=function(a,b,c){return b.apply(a,c)};o.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};o.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};o.compare=function(a,b){return a==b?0:a>b?1:-1};o.compareMethods=function(a,b){return a==b?!0:!o.isFunction(a)||!o.isFunction(b)?
!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};o.isEnumValue=function(a){return null!=a&&null!=a.__enum__};var C=function(){};g.Std=C;C.__name__=!0;C.is=function(a,b){return y.__instanceof(a,b)};C.string=function(a){return y.__string_rec(a,"")};C["int"]=function(a){return a|0};C.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==L.cca(a,1)||88==L.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};C.parseFloat=function(a){return parseFloat(a)};var Gc=function(){this.b=""};g.StringBuf=
Gc;Gc.__name__=!0;Gc.prototype={add:function(a){this.b+=C.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+L.substr(a,b,null):this.b+L.substr(a,b,c)},__class__:Gc};var da=function(){};g.StringTools=da;da.__name__=!0;da.startsWith=function(a,b){return a.length>=b.length&&L.substr(a,0,b.length)==b};da.isSpace=function(a,b){var c=L.cca(a,b);return 8<c&&14>c||32==c};da.ltrim=function(a){for(var b=a.length,c=0;c<b&&da.isSpace(a,c);)c++;return 0<c?L.substr(a,c,b-c):a};da.rtrim=function(a){for(var b=
a.length,c=0;c<b&&da.isSpace(a,b-c-1);)c++;return 0<c?L.substr(a,0,b-c):a};da.trim=function(a){return da.ltrim(da.rtrim(a))};da.replace=function(a,b,c){return a.split(b).join(c)};da.fastCodeAt=function(a,b){return a.charCodeAt(b)};var qa=function(){};g.Type=qa;qa.__name__=!0;qa.resolveClass=function(a){a=g[a];return null==a||!a.__name__?null:a};qa.resolveEnum=function(a){a=g[a];return null==a||!a.__ename__?null:a};qa.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);
case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};qa.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};qa.createEnum=function(a,b,c){var d=o.field(a,b);if(null==
d)throw"No such constructor "+b;if(o.isFunction(d)){if(null==c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};qa.getEnumConstructs=function(a){return a.__constructs__.slice()};qa.enumIndex=function(a){return a[1]};qa.allEnums=function(a){return a.__empty_constructs__};(g.XmlType={__ename__:!0,__constructs__:[]}).__empty_constructs__=[];var I=function(){};g.Xml=I;I.__name__=!0;I.parse=function(a){return vb.parse(a)};
I.createElement=function(a){var b=new I;b.nodeType=I.Element;b._children=[];b._attributes=new N;b.set_nodeName(a);return b};I.createPCData=function(a){var b=new I;b.nodeType=I.PCData;b.set_nodeValue(a);return b};I.createCData=function(a){var b=new I;b.nodeType=I.CData;b.set_nodeValue(a);return b};I.createComment=function(a){var b=new I;b.nodeType=I.Comment;b.set_nodeValue(a);return b};I.createDocType=function(a){var b=new I;b.nodeType=I.DocType;b.set_nodeValue(a);return b};I.createProcessingInstruction=
function(a){var b=new I;b.nodeType=I.ProcessingInstruction;b.set_nodeValue(a);return b};I.createDocument=function(){var a=new I;a.nodeType=I.Document;a._children=[];return a};I.prototype={get_nodeName:function(){if(this.nodeType!=I.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=I.Element)throw"bad nodeType";return this._nodeName=a},get_nodeValue:function(){if(this.nodeType==I.Element||this.nodeType==I.Document)throw"bad nodeType";return this._nodeValue},
set_nodeValue:function(a){if(this.nodeType==I.Element||this.nodeType==I.Document)throw"bad nodeType";return this._nodeValue=a},get:function(a){if(this.nodeType!=I.Element)throw"bad nodeType";return this._attributes.get(a)},set:function(a,b){if(this.nodeType!=I.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=I.Element)throw"bad nodeType";return this._attributes.exists(a)},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,
hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;b<c;){var d=this.x[b];if(d.nodeType==I.Element&&d._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var d=this.x[b];b++;if(d.nodeType==I.Element&&d._nodeName==a)return this.cur=b,d}return null}}},firstElement:function(){if(null==
this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==I.Element)return c;a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&L.remove(a._parent._children,a);a._parent=this;this._children.push(a)},__class__:I,__properties__:{set_nodeValue:"set_nodeValue",get_nodeValue:"get_nodeValue",set_nodeName:"set_nodeName",get_nodeName:"get_nodeName"}};var wb=function(){var a=this;this._root=new Hc(p(this,
this._onEventUpdate));J.root.add(this._root);J.uncaughtError.connect(p(this,this.errorHandler));i.get_instance().input.prime(this._root);i.get_instance().input.setDelegateUnlockWebAudio(p(this,this._handleWebAudioUnlock));F.setFlowDelegate(p(this,this._addFlowEvent));this._layerWorld=this._root.addChild(new U(null));this._layerUI=this._root.addChild(new U(null));this._layerSub=this._root.addChild(new U(null));this._flagWebAudioUnlocked=!1;this._flagGameplayPaused=!0;this._debugEnabled=this._flagJSEmbedExists=
this._flagJSEmbedPauseState=!1;aa.setPlaybackToggle(function(b){b?a._unpauseGameplay():a._pauseGameplay()});this._calculateScaleFactor();this._flagJSEmbedExists=null!=jsembed&&jsembed.exists();this._ui=new ke(this._layerUI,p(this,this._onInterfaceChange));this._changeActions=[];this._flowstack=[];this._addEventListeners();this._setDefaults();aa.initServices();this._checkForShareUrl();this._parseConfigXML();this._generateUI();this._registerInput();this._openSplash()};g["com.sprout.rrtd.super_slide.Main"]=
wb;wb.__name__=!0;wb.main=function(){J.init();null!=jsembed&&jsembed.exists()?jsembed.isBaseCrossdomain()?i.get_instance().assets.setCrossdomainBaseUrl(sa.appendAssetsToUrl(jsembed.baseUrl())):i.get_instance().assets.set_baseUrl(sa.trimUrl(jsembed.baseUrl())):i.get_instance().assets.set_baseUrl("");aa.initMain();i.get_instance().assets.load(wb._onBootstrapLoad,null,["bootstrap"])};wb._onBootstrapLoad=function(){aa.onBootstrapFinished();wb._main=new wb};wb.prototype={_calculateScaleFactor:function(){if(!1!=
C.is(J._platform.getStage(),Cb)){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),c=S.loadExtension("backingStorePixelRatio",b).value;null==c&&(c=1);b=window.navigator.userAgent.toLowerCase();a/=c;-1!=b.indexOf("ipad")&&(a=1);b=J._platform.getStage();a!=b.scaleFactor&&(b.scaleFactor=a,S.setVendorStyle(o.field(b,"_canvas"),"transform-origin","top left"),S.setVendorStyle(o.field(b,"_canvas"),"transform","scale("+1/b.scaleFactor+")"),b.requestResize(b.get_width(),
b.get_height()));F.scaleFactor=b.scaleFactor}},errorHandler:function(){null},_parseConfigXML:function(){for(var a="000000",b=!1,c=!1,d="en",h=0,B=i.get_instance().assets.allConfig(!0);h<B.length;){var e=B[h];++h;if(e.hasNode.resolve("chunks"))for(var f=e.node.resolve("chunks").nodes.resolve("chunk").iterator();f.hasNext();){var g=f.next();i.get_instance().assets.addChunk(g.att.resolve("id").toString(),g)}e.hasNode.resolve("unlockCode")&&(a=e.node.resolve("unlockCode").get_innerData());e.hasNode.resolve("unlockEnabled")&&
(b="true"==e.node.resolve("unlockEnabled").get_innerData());e.hasNode.resolve("achievements")&&"true"==e.node.resolve("achievements").att.resolve("enabled").toString()&&(c=!0);e.hasNode.resolve("localization")&&(d=C.string(e.node.resolve("localization").node.resolve("region").get_innerData()))}i.get_instance().assets.finishProcessingChunks();i.get_instance().setString(q.STRING_UNLOCK_CODE,a);i.get_instance().setBool(q.BOOL_ALLOW_UNLOCK,b);c&&i.get_instance().achievements.init();i.get_instance().setString(q.STRING_REGION_ID,
d);null},_eventLoadCompleteGameplay:function(){this._playGameMusic();null!=this._world?null:this._generateWorld()},_eventInitialLoadComplete:function(){this._enableSplash();this._sub=new le(this._layerSub)},_openSplash:function(){var a=window.document.getElementById("loadingOverlay");null!=a?a.parentNode.removeChild(a):null;this._ui.changeScreenTo(w.SPLASH,!1)},_getUrlVars:function(){for(var a=new N,b=window.location.href.indexOf("?")+1,b=L.substr(window.location.href,b,null).split("&"),c,d=0,h=b.length;d<
h;)c=d++,c=b[c].split("="),a.set(c[0],c[1]);return a},_checkForShareUrl:function(){var a=this._getUrlVars();a.exists("tid")?(a=a.get("tid"),i.get_instance().setBool(q.BOOL_REPLAY_MODE,!0),i.get_instance().setString(q.STRING_SLIDE_CODE,a)):null},_setDefaults:function(){i.get_instance().setBool(q.BOOL_PAUSED,!1);i.get_instance().setBool(q.BOOL_GAME_WIN,!1);i.get_instance().setBool(q.BOOL_GAME_LOSE,!1);i.get_instance().setBool(q.BOOL_LEVEL_WIN,!1);i.get_instance().setBool(q.BOOL_LEVEL_LOSE,!1);i.get_instance().setBool(q.BOOL_CODE_SCREEN_OPEN,
!1);i.get_instance().setBool(q.BOOL_CODE_UNLOCK,!1);i.get_instance().setBool(q.BOOL_REPLAY_MODE,!1);i.get_instance().setInt(q.INT_HEALTH,3);i.get_instance().setInt(q.INT_LIVES,3);i.get_instance().setInt(q.INT_SCORE,0);i.get_instance().setInt(q.INT_CURRENCY,200);i.get_instance().setInt(q.INT_LOADING_SCORE,0);i.get_instance().setInt(q.INT_ACHIEVEMENT_SCORE,0);i.get_instance().setInt(q.FLOAT_LOADING_PROGRESS,0);i.get_instance().setString(q.STRING_SLIDE_CODE,"");i.get_instance().sound.set_muteAll(!1)},
_registerInput:function(){i.get_instance().input.registerInput(A.MOVE_LEFT,[e.Left,e.A]);i.get_instance().input.registerInput(A.MOVE_RIGHT,[e.Right,e.D]);i.get_instance().input.registerInput(A.MOVE_UP,[e.Up,e.W]);i.get_instance().input.registerInput(A.MOVE_DOWN,[e.Down,e.S]);i.get_instance().input.registerInput(A.ATTACK,[e.Z],[eb.ATTACK]);i.get_instance().input.registerInput(A.JUMP,[e.Space],[eb.JUMP]);i.get_instance().input.registerInput(A.UI_OK,[e.Space],null,[n.START,n.A]);i.get_instance().input.registerInput(A.UI_DENY,
[e.Escape],null,[n.B]);i.get_instance().input.registerInput(A.UI_MENU,[e.Escape],null,[n.START]);i.get_instance().input.registerInput(A.D0,[e.Shift]);i.get_instance().input.registerInput(A.D1,[e.Control]);i.get_instance().input.registerInput(A.D2,[e.F]);i.get_instance().input.registerInput(A.D3,[e.Y]);i.get_instance().input.registerInput(A.D4,[e.V]);i.get_instance().input.registerInput(A.D5,[e.Y])},_generateUI:function(){this._ui.addScreen(w.SPLASH,Ic);this._ui.addScreen(w.HELP,Jc);this._ui.addScreen(w.SHOP,
Kc);this._ui.addScreen(w.GAMEPLAY_MENU,Lc);this._ui.addScreen(w.QUIT_CONFIRM,Mc);this._ui.addScreen(w.GAMEPLAY_HUD,ic);this._ui.addScreen(w.END_GAME,Ub);this._ui.addScreen(w.ENTER_CODE,Nc);this._ui.addScreen(w.ACHIEVEMENT_POPUP,Oc);this._ui.addScreen(w.ACHIEVEMENTS,Pc);this._ui.addScreen(w.DIALOGUE_POPUP,jc);this._ui.addScreen(w.DEBUG,Qc)},_gotoAndPlayGame:function(){aa.onGameStart();var a;a=J._platform.getTouch().get_supported()?"gameplay_sd":"gameplay_hd";var b;b=J._platform.getTouch().get_supported()?
"gameplay_audio_required":"gameplay_audio_optional";i.get_instance().assets.load(p(this,this._eventLoadCompleteGameplay),[a,b],null,null,1.2)},_onWorldGenerationComplete:function(){i.get_instance().timer.start(p(this,this._onWorldGenerationCompleteDelay),0.3);this._ui.changeScreenTo(w.GAMEPLAY_HUD,!0)},_onWorldGenerationCompleteDelay:function(){this._world.start();this._unpauseGameplay()},_enableSplash:function(){qb.get_instance().load();i.get_instance().sound.playMusic(s.sound.slide_loop,0.25);this._playMenuMusic();
this._enableInput()},_gotoEndGame:function(a){this._flagWonPreviousGame=a;this._newOnChangeAction(w.END_GAME,ja.OPEN_COMPLETE,p(this,this._endGameOpenComplete));this._ui.openScreen(w.END_GAME);aa.onGameEnd()},_endGameOpenComplete:function(){this._disposeWorld();this._ui.changeScreenTo(w.END_GAME,!1)},_onGameNew:function(){this._resetFlagsResults()},_resetFlagsResults:function(){i.get_instance().resetValue(q.BOOL_GAME_WIN);i.get_instance().resetValue(q.BOOL_GAME_LOSE);i.get_instance().resetValue(q.BOOL_LEVEL_WIN);
i.get_instance().resetValue(q.BOOL_LEVEL_LOSE)},_resetGameResults:function(){i.get_instance().resetValue(q.INT_SCORE)},_generateWorld:function(){null!=this._world&&this._disposeWorld();this._world=new me(this._layerWorld)},_onEventUpdate:function(a){a=Math.round(1E3*a)/1E3;0.06666666666666667<a&&(a=0.06666666666666667);this._flagJSEmbedExists&&jsembed.isPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=jsembed.isPaused())?this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay());
i.get_instance().update(a);aa.update(a);null!=this._ui&&this._ui.update(a);null!=this._sub&&this._sub.update(a);null!=this._world&&this._world.update(a);i.get_instance().getBool(q.BOOL_GAME_LOSE)?F.dispatchFlowEvent(r.BRANCH_GAME_LOSE):i.get_instance().getBool(q.BOOL_GAME_WIN)?F.dispatchFlowEvent(r.BRANCH_GAME_WIN):i.get_instance().getBool(q.BOOL_LEVEL_LOSE)?F.dispatchFlowEvent(r.BRANCH_LEVEL_LOSE):i.get_instance().getBool(q.BOOL_LEVEL_WIN)&&F.dispatchFlowEvent(r.BRANCH_LEVEL_WIN);this._runFlowStack()},
_addFlowEvent:function(a){this._flowstack.push(a)},_runFlowStack:function(){for(;0<this._flowstack.length;)this._executeFlowStack(this._flowstack[0]),this._flowstack.shift()},_executeFlowStack:function(a){switch(a[1]){case 0:this._handleWebAudioUnlock();aa.onSplashPlay();this._gotoAndPlayGame();break;case 6:this._ui.openScreen(w.HELP);break;case 2:this._ui.openScreen(w.SHOP);break;case 3:this._ui.closeScreen(w.SHOP);break;case 1:this._ui.closeScreen(w.HELP);break;case 4:this._pauseGameplay();this._ui.openScreen(w.GAMEPLAY_MENU);
break;case 5:this._unpauseGameplay();this._ui.closeScreen(w.GAMEPLAY_MENU);break;case 7:this._ui.openScreen(w.QUIT_CONFIRM);break;case 8:this._playMenuMusic();this._resetFlagsResults();this._gotoEndGame(!1);this._resetGameResults();break;case 16:this._ui.openScreen(w.ENTER_CODE);break;case 15:this._ui.closeScreen(w.ENTER_CODE);break;case 9:this._ui.closeScreen(w.QUIT_CONFIRM);break;case 14:this._playMenuMusic();this._resetFlagsResults();this._gotoAndPlayGame();break;case 13:this._playMenuMusic();
this._resetFlagsResults();this._gotoAndPlayGame();break;case 11:this._playMenuMusic();this._pauseGameplay();this._resetFlagsResults();this._gotoEndGame(!0);this._resetGameResults();break;case 12:this._playMenuMusic();this._pauseGameplay();this._resetFlagsResults();this._gotoEndGame(!1);i.get_instance().resetValue(q.INT_SCORE);i.get_instance().resetValue(q.INT_LIVES);break;case 10:this._disposeWorld();aa.onPlayAgain();this._onGameNew();this._gotoAndPlayGame();i.get_instance().setBool(q.BOOL_PAUSED,
!1);break;case 17:this._playGameMusic();this._gotoAndPlayGame();break;case 18:this._ui.openScreen(w.ACHIEVEMENT_POPUP);break;case 19:this._ui.closeScreen(w.ACHIEVEMENT_POPUP);break;case 20:this._ui.openScreen(w.ACHIEVEMENTS);break;case 21:this._ui.closeScreen(w.ACHIEVEMENTS);break;case 22:this._ui.openScreen(w.DIALOGUE_POPUP);break;case 23:this._ui.closeScreen(w.DIALOGUE_POPUP);break;case 24:this._ui.closeScreen(w.DEBUG,!0)}},_pauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=
!0);aa.onPauseEvent();i.get_instance().dispatcher.dispatchEvent(W.request(j.PAUSE))},_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!1);aa.onResumeEvent();i.get_instance().dispatcher.dispatchEvent(W.request(j.UNPAUSE))},_newOnChangeAction:function(a,b,c){this._changeActions.push(new ne(a,b,c))},_executeInterfaceChange:function(a,b){for(var c=this._changeActions.length,d;0<c--;)d=this._changeActions[c],d.get_screenId()==b&&d.get_changeEvent()==a&&(this._changeActions.splice(c,
1),d.get_action()())},_addEventListeners:function(){i.get_instance().dispatcher.addEventListener(j.MUTE_TOGGLE,p(this,this._onMuteToggle));i.get_instance().dispatcher.addEventListener(j.WORLD_GENERATION_COMPLETE,p(this,this._onWorldGenerationComplete));i.get_instance().dispatcher.addEventListener(j.INITIAL_LOAD_COMPLETE,p(this,this._eventInitialLoadComplete))},_enableInput:function(){i.get_instance().input.setEnabled(!0)},_onMuteToggle:function(){i.get_instance().sound.set_muteAll(!i.get_instance().sound.get_muteAll())},
_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=!0,i.get_instance().sound.playSound(s.sound.silent))},_onInterfaceChange:function(a,b){this._executeInterfaceChange(a,b)},_disposeWorld:function(){null!=this._world&&(this._world.dispose(),this._world=null)},_playGameMusic:function(){},_playMenuMusic:function(){},__class__:wb};var qb=function(){};g["com.sprout.rrtd.super_slide.data.LocalStorage"]=qb;qb.__name__=!0;qb.__properties__={get_instance:"get_instance"};
qb.get_instance=function(){null==qb.__instance&&(qb.__instance=new qb);return qb.__instance};qb.prototype={load:function(){},_createNewSave:function(){},__class__:qb};var ya=g["com.sprout.rrtd.super_slide.data.dialogue.DIALOGUE_POINTER"]={__ename__:!0,__constructs__:["TAP","POINT","SWIPE","NONE"]};ya.TAP=["TAP",0];ya.TAP.toString=f;ya.TAP.__enum__=ya;ya.POINT=["POINT",1];ya.POINT.toString=f;ya.POINT.__enum__=ya;ya.SWIPE=["SWIPE",2];ya.SWIPE.toString=f;ya.SWIPE.__enum__=ya;ya.NONE=["NONE",3];ya.NONE.toString=
f;ya.NONE.__enum__=ya;ya.__empty_constructs__=[ya.TAP,ya.POINT,ya.SWIPE,ya.NONE];var Ja=g["com.sprout.rrtd.super_slide.data.dialogue.DIALOGUE_POSITION"]={__ename__:!0,__constructs__:["TOP","CENTER","BOTTOM"]};Ja.TOP=["TOP",0];Ja.TOP.toString=f;Ja.TOP.__enum__=Ja;Ja.CENTER=["CENTER",1];Ja.CENTER.toString=f;Ja.CENTER.__enum__=Ja;Ja.BOTTOM=["BOTTOM",2];Ja.BOTTOM.toString=f;Ja.BOTTOM.__enum__=Ja;Ja.__empty_constructs__=[Ja.TOP,Ja.CENTER,Ja.BOTTOM];var Rf=function(){};g["com.sprout.rrtd.super_slide.data.dialogue.DialogueData"]=
Rf;Rf.__name__=!0;Rf.prototype={dispose:function(){this.text=this.position=this.id=null;null!=this.pointerLocation&&(this.pointerLocation.dispose(),this.pointerLocation=null);this.endEvent=this.triggerEvent=this.portrait=this.pointerType=null},__class__:Rf};var Sf=function(){};g["com.sprout.rrtd.super_slide.data.inventory.ConstantsInventory"]=Sf;Sf.__name__=!0;Sf.buildAllInvetoryList=function(){for(var a=new Va,b=0,c=qa.allEnums(ta);b<c.length;){var d=c[b];++b;switch(d[1]){case 0:var h=new Rc;a.set(d,
h);h;break;case 1:h=new Sc;a.set(d,h);h;break;case 2:h=new Tc;a.set(d,h);h;break;case 3:h=new Uc,a.set(d,h),h}}return a};var ta=g["com.sprout.rrtd.super_slide.data.inventory.INVENTORY_ITEM"]={__ename__:!0,__constructs__:["SWORD","SHIELD","CANDLE","GLOVES"]};ta.SWORD=["SWORD",0];ta.SWORD.toString=f;ta.SWORD.__enum__=ta;ta.SHIELD=["SHIELD",1];ta.SHIELD.toString=f;ta.SHIELD.__enum__=ta;ta.CANDLE=["CANDLE",2];ta.CANDLE.toString=f;ta.CANDLE.__enum__=ta;ta.GLOVES=["GLOVES",3];ta.GLOVES.toString=f;ta.GLOVES.__enum__=
ta;ta.__empty_constructs__=[ta.SWORD,ta.SHIELD,ta.CANDLE,ta.GLOVES];var Oa=function(){this._currentRank=this.get_rankDefault()};g["com.sprout.rrtd.super_slide.data.inventory.ItemData"]=Oa;Oa.__name__=!0;Oa.prototype={get_uniqueSuffix:function(){return""},get_rankCap:function(){return 3},get_rankDefault:function(){return 0},get_rankMin:function(){return this.get_rankDefault()},get_costToPurchaseNextRank:function(){return 20+20*this._currentRank},get_currencyType:function(){return q.INT_CURRENCY},get_itemIconAssetName:function(){return"icon_"+
this.get_uniqueSuffix()},get_itemLocalizationName:function(){return"item_name_"+this.get_uniqueSuffix()},itemLocalizationDescription:function(a){null==a&&(a=0);return 0>=this._currentRank+a?"item_unowned":"item_desc_"+this.get_uniqueSuffix()+"_"+(this.get_currentRank()+a)},get_canAffordNextRank:function(){return this.get_hasRankCapped()?!1:i.get_instance().getInt(this.get_currencyType())>=this.get_costToPurchaseNextRank()},get_currentRank:function(){return this._currentRank},get_hasRankCapped:function(){return this._currentRank>=
this.get_rankCap()},modRank:function(a){null==a&&(a=1);return this._currentRank=Za.clamp(this._currentRank+a,this.get_rankMin(),this.get_rankCap())},__class__:Oa,__properties__:{get_hasRankCapped:"get_hasRankCapped",get_currentRank:"get_currentRank",get_canAffordNextRank:"get_canAffordNextRank",get_itemLocalizationName:"get_itemLocalizationName",get_itemIconAssetName:"get_itemIconAssetName",get_currencyType:"get_currencyType",get_costToPurchaseNextRank:"get_costToPurchaseNextRank",get_rankMin:"get_rankMin",
get_rankDefault:"get_rankDefault",get_rankCap:"get_rankCap",get_uniqueSuffix:"get_uniqueSuffix"}};var Tc=function(){Oa.call(this)};g["com.sprout.rrtd.super_slide.data.inventory.items.ItemCandle"]=Tc;Tc.__name__=!0;Tc.__super__=Oa;Tc.prototype=v(Oa.prototype,{get_uniqueSuffix:function(){return"candle"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){return 30+20*this._currentRank},__class__:Tc});var Uc=function(){Oa.call(this)};g["com.sprout.rrtd.super_slide.data.inventory.items.ItemGloves"]=
Uc;Uc.__name__=!0;Uc.__super__=Oa;Uc.prototype=v(Oa.prototype,{get_uniqueSuffix:function(){return"gloves"},get_rankCap:function(){return 2},get_costToPurchaseNextRank:function(){return 40+20*this._currentRank},__class__:Uc});var Sc=function(){Oa.call(this)};g["com.sprout.rrtd.super_slide.data.inventory.items.ItemShield"]=Sc;Sc.__name__=!0;Sc.__super__=Oa;Sc.prototype=v(Oa.prototype,{get_uniqueSuffix:function(){return"shield"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){return 20+
20*this._currentRank},__class__:Sc});var Rc=function(){Oa.call(this)};g["com.sprout.rrtd.super_slide.data.inventory.items.ItemSword"]=Rc;Rc.__name__=!0;Rc.__super__=Oa;Rc.prototype=v(Oa.prototype,{get_uniqueSuffix:function(){return"sword"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){return 200+20*this._currentRank},get_rankDefault:function(){return 1},__class__:Rc});var U=function(a){this.children=[];this.parent=null;this._matrix=new Wa;this._viewMatrix=new Wa;this.pos=
E.request(0,0,0);this.offset=E.request(0,0,0);this.rotation=0;this.set_origin(0.5);this.set_scale(this.alpha=1);this.inputEnabled=this.visible=this.useCamera=this.usePerspective=!0;this.doDelete=!1;null!=a&&(null!=a.alpha&&(this.alpha=a.alpha),null!=a.x&&this.set_x(a.x),null!=a.y&&this.set_y(a.y),null!=a.z&&this.set_z(a.z),null!=a.offsetX&&this.set_offsetX(a.offsetX),null!=a.offsetY&&this.set_offsetY(a.offsetY),null!=a.offsetZ&&this.set_offsetZ(a.offsetZ),null!=a.origin&&this.set_origin(a.origin),
null!=a.originX&&this.set_originX(a.originX),null!=a.originY&&this.set_originY(a.originY),null!=a.scale&&this.set_scale(a.scale),null!=a.scaleX&&(this.scaleX=a.scaleX),null!=a.scaleY&&(this.scaleY=a.scaleY),null!=a.rotation&&(this.rotation=a.rotation),null!=a.visible&&(this.visible=a.visible),null!=a.useCamera&&(this.useCamera=a.useCamera),null!=a.usePerspective&&(this.usePerspective=a.usePerspective))};g["com.workinman.display.WMSprite"]=U;U.__name__=!0;U.prototype={dispose:function(){if(null!=this.children){for(var a=
0,b=this.children;a<b.length;){var c=b[a];++a;c.dispose()}this.children=null}this.parent=null;null!=this.pos&&(this.pos.dispose(),this.pos=null);null!=this.offset&&(this.offset.dispose(),this.offset=null);this._viewMatrix=this._matrix=null},get_x:function(){return this.pos.x},set_x:function(a){return this.pos.x=a},get_y:function(){return this.pos.y},set_y:function(a){return this.pos.y=a},set_z:function(a){return this.pos.z=a},get_offsetX:function(){return this.offset.x},set_offsetX:function(a){return this.offset.x=
a},get_offsetY:function(){return this.offset.y},set_offsetY:function(a){return this.offset.y=a},get_offsetZ:function(){return this.offset.z},set_offsetZ:function(a){return this.offset.z=a},set_originX:function(a){return this.originX=a},set_originY:function(a){return this.originY=a},get_width:function(){return 0},get_height:function(){return 0},set_scale:function(a){return this.scale=this.scaleX=this.scaleY=a},set_origin:function(a){this.set_originX(this.set_originY(a));return a},addElement:function(a){return this.addChild(a)},
addChild:function(a){null!=a.parent&&a.parent.removeChild(a);a.parent=this;this.children.push(a);return a},removeChild:function(a){L.remove(this.children,a)&&(a.parent=null);return a},get_viewMatrix:function(){return null!=this.parent?this._viewMatrix:this._matrix},hitTest:function(a,b,c){if(!1==this.visible||!1==this.inputEnabled)return null;for(var d=this.children.length,h=null;0<d--;)if(h=this.children[d].hitTest(a,b,c),null!=h)return h;return this.inverseTransform(a,b,c)?this:null},inverseTransform:function(a,
b,c,d,h){null==h&&(h=-1);null==d&&(d=-1);0>d&&(d=this.get_width());0>h&&(h=this.get_height());var B=-this.originX*d,e=-this.originY*h;return this.get_viewMatrix().inverseTransform(a,b,c)&&c.x>=B&&c.y>=e&&c.x<B+d&&c.y<e+h},runUpdate:function(a){this.update(a);for(var b=this.children.length;0<b--;)this.children[b].runUpdate(a),this.children[b].doDelete&&(this.children[b].dispose(),this.children.splice(b,1))},update:function(){},render:function(a,b){if(!1!=this.visible){var c=0,d=0,c=0,h=1;if(null==
b||!1==this.useCamera||!1==this.usePerspective)c=this.pos.x,d=this.pos.y,h=1;else{c=this.pos.z-b.pos.z+this.get_offsetZ();if(c<-b.focalLength)return;h=0>=b.focalLength?1:b.focalLength/(b.focalLength+c);c=b.worldCenterX+(this.pos.x-b.pos.x-b.worldCenterX)*h;d=b.worldCenterY+(this.pos.y-b.pos.y-b.worldCenterY)*h}this._matrix.compose(c,d,this.scaleX*h,this.scaleY*h,3.141592653589793*this.rotation/180);null!=this.parent&&Wa.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);a.ctx.save();
1>this.alpha&&a.ctx.multiplyAlpha(this.alpha);a.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);a.ctx.save();a.ctx.translate(-this.get_width()*this.originX+this.get_offsetX(),-this.get_height()*this.originY+this.get_offsetY());this._draw(a);a.ctx.restore();c=0;for(d=this.children.length;c<d;)this.children[c++].render(a,null);a.ctx.restore()}},_draw:function(){},__class__:U,__properties__:{get_viewMatrix:"get_viewMatrix",set_origin:"set_origin",
set_scale:"set_scale",get_height:"get_height",get_width:"get_width",set_offsetZ:"set_offsetZ",get_offsetZ:"get_offsetZ",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_z:"set_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_originY:"set_originY",set_originX:"set_originX"}};var $a=function(a){U.call(this,a);this.texture=this.rect=null;null!=a&&null!=a.asset&&this.setAsset(a.asset)};g["com.workinman.display.WMImageSprite"]=$a;
$a.__name__=!0;$a.__super__=U;$a.prototype=v(U.prototype,{dispose:function(){U.prototype.dispose.call(this);this.texture=this.rect=null},get_width:function(){return null==this.texture?0:null!=this.rect?this.rect.origX:this.texture.get_width()},get_height:function(){return null==this.texture?0:null!=this.rect?this.rect.origY:this.texture.get_height()},setAsset:function(a){if(null==a||""==a)return this;this.texture=i.get_instance().assets.getTexture(a);this.rect=i.get_instance().assets.getSpriteRect(a);
return this},_draw:function(a){null!=this.texture&&(null!=this.rect?this.rect.rotate?(a.ctx.save(),a.ctx.rotate(90),a.ctx.drawSubTexture(this.texture,this.rect.origY-this.rect.sizeY-this.rect.offsetY,-this.rect.offsetX-this.rect.sizeX,this.rect.x,this.rect.y,this.rect.sizeY,this.rect.sizeX),a.ctx.restore()):a.ctx.drawSubTexture(this.texture,this.rect.offsetX,this.rect.origY-this.rect.sizeY-this.rect.offsetY,this.rect.x,this.rect.y,this.rect.sizeX,this.rect.sizeY):a.ctx.drawTexture(this.texture,0,
0))},__class__:$a});var H=function(a){$a.call(this,a);this.velocity=E.request();this._addEventListeners()};g["com.workinman.display.Element"]=H;H.__name__=!0;H.__super__=$a;H.prototype=v($a.prototype,{dispose:function(){$a.prototype.dispose.call(this);this.velocity.dispose();this.velocity=null;this._removeEventListeners()},_addEventListeners:function(){},_removeEventListeners:function(){},__class__:H});var Db=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};g["flambe.math.Point"]=Db;
Db.__name__=!0;Db.prototype={__class__:Db};var Y=function(a){null==Y._scratchPoint&&(Y._scratchPoint=new Db);H.call(this,a);this.dispatcher=xb.request();this._tween=a.tween;this._containsInput=!1;this._returnData=null;this._clearFunction=a.clear;this._assetUp=a.assetUp;this._assetOver=a.assetOver;this._assetDown=a.assetDown;this._assetDisabled=a.assetDisabled;this._state=ha._STATE_UP;this._flagDragged=!1;this.enable();this.setCustomHitBox(this.get_width(),this.get_height());i.get_instance().input.addDelegateListener(p(this,
this._onInput));this._buttonScaleBase=E.request(this.scaleX,this.scaleY)};g["com.workinman.display.ui.ButtonBase"]=Y;Y.__name__=!0;Y.__super__=H;Y.prototype=v(H.prototype,{dispose:function(){i.get_instance().input.removeDelegateListener(p(this,this._onInput));this._flagEnabled=!1;this._assetDisabled=this._assetDown=this._assetOver=this._assetUp=null;this._hitBox.dispose();this._tween=this._hitBox=null;this.dispatcher.dispose();this._returnData=this.dispatcher=null;this._buttonScaleBase.dispose();
this._clearFunction=this._state=this._buttonScaleBase=null;H.prototype.dispose.call(this)},setDispatchData:function(a){this._returnData=a},enable:function(){this._flagEnabled=!0;this._renderUp();return this},disable:function(){this._flagEnabled=!1;this._renderDisabled();return this},setCustomHitBox:function(a,b){null==this._hitBox&&(this._hitBox=this.addChild(new rb({color:16711680,sizeX:a,sizeY:b,alpha:0})));this._hitBox.sizeX=a;this._hitBox.sizeY=b;return this},_onInput:function(a,b,c,d){switch(b[1]){case 0:switch(this._containsInput=
this._hitBox.inverseTransform(c,d,Y._scratchPoint),a[1]){case 0:switch(this._state[1]){case 0:case 2:case 3:this._containsInput&&this._depthTest(c,d)&&(this._state=ha._STATE_DOWN,this._onDown(c,d))}break;case 2:switch(this._state[1]){case 0:this._containsInput&&this._depthTest(c,d)&&(this._state=ha._STATE_OVER,this._onOver());break;case 2:!1==this._containsInput&&(this._state=ha._STATE_UP,this._onOut())}break;case 1:switch(this._state[1]){case 1:this._containsInput?(this._state=ha._STATE_CLICK,this._onUp(c,
d)):(this._state=ha._STATE_UP,this._renderReturnUp())}}}},_depthTest:function(a,b){if(!1==this._flagEnabled)return!1;var c=i.get_instance().input.hitTest(a,b);return null!=this._hitBox&&c==this._hitBox?!0:!1},_dispatch:function(a){!1!=this._clearFunction()&&(null==this._returnData&&(this._returnData=new N),this._returnData.set("button",this),this,this.dispatcher.dispatchEvent(W.request(a,this._returnData)))},_click:function(){this._tween.tween(this,0.1,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*
this._buttonScaleBase.y,alpha:1},!0).ease(k.QUAD_IN);this._tween.tween(this,0.4,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y,alpha:1},!1).ease(k.ELASTIC_OUT).onComplete(p(this,this._onClickComplete));this._playSoundClick();this._doClick()},_onClickComplete:function(){this._containsInput&&this._flagEnabled?(this._state=ha._STATE_OVER,this._renderOver()):this._state=ha._STATE_UP},_doClick:function(){this._dispatch(j.BUTTON_CLICK)},_onDown:function(){this._flagEnabled&&(this._renderDown(),
this._dispatch(j.BUTTON_DOWN))},_onUp:function(){this._flagEnabled&&(this._renderReturnUp(),this._click(),this._flagDragged&&this._onCancelDrag(),this._dispatch(j.BUTTON_UP))},_onOver:function(){this._renderOver();this._playSoundOver();this._dispatch(j.BUTTON_OVER)},_onOut:function(){this._flagEnabled&&(this._renderOut(),this._dispatch(j.BUTTON_OUT))},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(j.BUTTON_CANCEL_DRAG)},update:function(a){H.prototype.update.call(this,a)},_playSoundClick:function(){i.get_instance().sound.playSound(s.sound.button)},
_playSoundOver:function(){},setScale:function(a,b){this._buttonScaleBase.x=a;this._buttonScaleBase.y=b;this.scaleX=this._buttonScaleBase.x;this.scaleY=this._buttonScaleBase.y;return this},_renderUp:function(){this.setAsset(this._assetUp)},_renderOver:function(){this._tween.tween(this,0.15,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y,alpha:1},!0).ease(k.QUAD_IN)},_renderOut:function(){this._tween.tween(this,0.5,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y,
alpha:1},!0).ease(k.ELASTIC_OUT)},_renderDown:function(){this._tween.tween(this,0.15,{scaleX:0.9*this._buttonScaleBase.x,scaleY:0.9*this._buttonScaleBase.y,alpha:1},!0).ease(k.QUAD_OUT);this.setAsset(this._assetDown)},_renderReturnUp:function(){this._tween.tween(this,0.15,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y,alpha:1},!0).ease(k.QUAD_OUT);this._renderUp()},_renderDisabled:function(){this.setAsset(this._assetDisabled)},getAsset:function(){return this._assetUp},__class__:Y});
var oe=function(){};g["com.sprout.rrtd.super_slide.ui.buttons.ButtonShopItem"]=oe;oe.__name__=!0;oe.__super__=Y;oe.prototype=v(Y.prototype,{dispose:function(){this._itemAvailability=this._itemIcon=this._item=null;Y.prototype.dispose.call(this)},doRefreshDisplay:function(){this._itemAvailability.alpha=this._item.get_canAffordNextRank()?1:0;this._itemIcon.setAsset(this._item.get_itemIconAssetName())},__class__:oe});var Vc=function(a){Y.call(this,a);this._assetUpOn=a.assetUp;this._assetOverOn=a.assetOver;
this._assetDownOn=a.assetDown;this._assetDisabledOn=a.assetDisabled;this._assetUpOff=a.assetUpOff;this._assetOverOff=a.assetOverOff;this._assetDownOff=a.assetDownOff;this._assetDisabledOff=a.assetDisabledOff;this._refreshMuteState();this._renderUp()};g["com.sprout.rrtd.super_slide.ui.buttons.ButtonSoundToggle"]=Vc;Vc.__name__=!0;Vc.__super__=Y;Vc.prototype=v(Y.prototype,{dispose:function(){this._assetDisabledOff=this._assetDownOff=this._assetOverOff=this._assetUpOff=this._assetDisabledOn=this._assetDownOn=
this._assetOverOn=this._assetUpOn=null;Y.prototype.dispose.call(this)},_doClick:function(){this._flagEnabled&&(i.get_instance().dispatcher.dispatchEvent(W.request(j.MUTE_TOGGLE)),this._refreshMuteState(),this._renderUp())},_refreshMuteState:function(){i.get_instance().sound.get_muteAll()?(this._assetUp=this._assetUpOff,this._assetOver=this._assetOverOff,this._assetDown=this._assetDownOff,this._assetDisabled=this._assetDisabledOff):(this._assetUp=this._assetUpOn,this._assetOver=this._assetOverOn,this._assetDown=
this._assetDownOn,this._assetDisabled=this._assetDisabledOn)},__class__:Vc});var za=function(a){this._flagLocked=!1;this._tween=a.tween;H.call(this,a)};g["com.workinman.display.ui.Display"]=za;za.__name__=!0;za.__super__=H;za.prototype=v(H.prototype,{_addEventListeners:function(){H.prototype._addEventListeners.call(this);i.get_instance().dispatcher.addEventListener(j.UPDATE_DISPLAY,p(this,this._onUpdateDisplay))},_removeEventListeners:function(){H.prototype._removeEventListeners.call(this);i.get_instance().dispatcher.removeEventListener(j.UPDATE_DISPLAY,
p(this,this._onUpdateDisplay))},_onUpdateDisplay:function(a){this._flagLocked||a.get_data().get("val")==this._updateValue()&&this._refresh()},_refresh:function(){},_updateValue:function(){return null},dispose:function(){this._tween=null;H.prototype.dispose.call(this)},__class__:za});var Wc=function(a){za.call(this,a);this._points=i.get_instance().getInt(this._updateValue());this._text=this.addElement(new ka({text:s.localization.points,x:20,y:35,align:ua.Left}));i.get_instance().setInt(this._updateValue(),
i.get_instance().achievements.points);this._refresh()};g["com.sprout.rrtd.super_slide.ui.display.DisplayAchievementScore"]=Wc;Wc.__name__=!0;Wc.__super__=za;Wc.prototype=v(za.prototype,{dispose:function(){this._text=null;za.prototype.dispose.call(this)},_refresh:function(){this._points=i.get_instance().getInt(this._updateValue());this._text.setVariables([this._points]);G.easeBounceIn(this,this._tween,!1)},_updateValue:function(){return q.INT_ACHIEVEMENT_SCORE},__class__:Wc});var Xc=function(a){za.call(this,
a);this._currency=i.get_instance().getInt(this._updateValue());this._text=this.addElement(new ka({text:s.localization.currency,x:-25}));this._refresh()};g["com.sprout.rrtd.super_slide.ui.display.DisplayCurrency"]=Xc;Xc.__name__=!0;Xc.__super__=za;Xc.prototype=v(za.prototype,{dispose:function(){this._text=null;za.prototype.dispose.call(this)},_refresh:function(){this._currency=i.get_instance().getInt(this._updateValue());this._text.setVariables([this._currency]);G.easeBounceIn(this,this._tween,!1)},
_updateValue:function(){return q.INT_CURRENCY},__class__:Xc});var kc=function(a){this._BAR_HEIGHT=25;this._BAR_WIDTH=222;this._ROT=250;za.call(this,a);this._active=!1;this._spinnerOrigin=-50;this._scale=1;this.addChild(new rb({color:0,sizeX:this._BAR_WIDTH*this._scale,sizeY:this._BAR_HEIGHT*this._scale,x:-this._BAR_WIDTH*this._scale/2,y:-this._BAR_HEIGHT*this._scale/2,alpha:0.5,origin:0}));this._loadMin=-1;this._bar=this.addChild(new $a({asset:s.texture.loadingbar_fill,x:-this._BAR_WIDTH*this._scale/
2,y:-this._BAR_HEIGHT*this._scale/2,scaleX:0.5,origin:0}));this.addElement(new H({asset:s.texture.loadingbar,scale:this._scale}));this._spinner=this.addElement(new H({asset:s.texture.loading_spinner,y:this._spinnerOrigin}));this._text=this.addElement(new ka({text:s.localization.loading}));this._text.setVariables([0]);this.alpha=0;this._refresh()};g["com.sprout.rrtd.super_slide.ui.display.DisplayLoadingProgress"]=kc;kc.__name__=!0;kc.__super__=za;kc.prototype=v(za.prototype,{dispose:function(){this._spinner=
null;this._bar.dispose();this._text=this._bar=null;za.prototype.dispose.call(this)},get_active:function(){return this._active},update:function(a){this._spinner.rotation+=this._ROT*a;za.prototype.update.call(this,a)},tweenIn:function(a){this._active||(a&&(this._loadMin=0),G.easeBounceIn(this,this._tween),this._active=!0)},tweenOut:function(){!1!=this._active&&(G.easeBounceOut(this,this._tween),this._active=!1)},_refresh:function(){this._loadMin=Za.clamp(Za.max(this._loadMin,i.get_instance().getFloat(this._updateValue())),
0,1);this._bar.scaleX=100*i.get_instance().getFloat(this._updateValue())/(this._BAR_WIDTH/23.5);this._text.setVariables([Math.floor(100*this._loadMin)])},_updateValue:function(){return q.FLOAT_LOADING_PROGRESS},__class__:kc,__properties__:v(za.prototype.__properties__,{get_active:"get_active"})});var pe=function(){};g["com.sprout.rrtd.super_slide.ui.display.DisplayScore"]=pe;pe.__name__=!0;pe.__super__=za;pe.prototype=v(za.prototype,{dispose:function(){this._text=null;za.prototype.dispose.call(this)},
_refresh:function(){this._score=i.get_instance().getInt(this._updateValue());this._text.setVariables([this._score]);i.get_instance().setInt(q.INT_HEALTH,10);G.easeBounceIn(this,this._tween,!1)},_updateValue:function(){return q.INT_SCORE},__class__:pe});var M=function(a,b,c){this.id=a;this._flowDelegate=c;this._elementManager=new lc(b,F.STAGE_CENTER_X,280,!0,t.z__MAINUI);this._useClickWall()&&(this._clickWall=this._elementManager.root.addElement(new rb({color:16711680,sizeX:F.STAGE_WIDTH,sizeY:560,
alpha:0})));this._elementManager.addLayer(t.z__MAINUI);this._tween=Pa.request();this._buildScreen();this._onEventResizeCanvas();this.doDelete=!1;this.state=fa.IN;this._addEventListeners()};g["com.workinman.display.ui.ScreenBase"]=M;M.__name__=!0;M.prototype={dispose:function(){this._removeEventListeners();this._clickWall=null;null!=this._elementManager&&(this._elementManager.dispose(),this._elementManager=null);null!=this._tween&&(this._tween.dispose(),this._tween=null);this.state=this.id=this._flowDelegate=
null},_buildScreen:function(){},_addEventListeners:function(){i.get_instance().dispatcher.addEventListener(j.RESIZE_CANVAS,p(this,this._handleResizeCanvas));i.get_instance().input.addDelegateListener(p(this,this._handleInput))},_removeEventListeners:function(){i.get_instance().dispatcher.removeEventListener(j.RESIZE_CANVAS,p(this,this._handleResizeCanvas));i.get_instance().input.removeDelegateListener(p(this,this._handleInput))},get_root:function(){return this._elementManager.root},_useClickWall:function(){return!0},
_setInState:function(){this._finishInState()},_finishInState:function(){this._setOpenedState();this._flowDelegate(fb.OPENED,this.id)},_setCloseState:function(){this._finishCloseState()},_finishCloseState:function(){this.doDelete=!0},_setOpenedState:function(){this.state=fa.OPENED},update:function(a){this._tween.update(a);this._elementManager.update(a)},_handleInput:function(a,b,c,d,h){!1!=this._clearInput()&&this._onInput(a,b,c,d,h)},_onInput:function(){},open:function(a){null==a&&(a=!0);a?(this.state!=
fa.IN&&(this.state=fa.IN),this._setInState()):this._finishInState()},close:function(a){null==a&&(a=!0);this.state!=fa.OUT&&(this.state==fa.OUT,a?this._setCloseState():(this._finishCloseState(),this._flowDelegate(fb.CLOSED,this.id)))},_handleResizeCanvas:function(){null!=this._clickWall&&(this._clickWall.sizeX=Math.floor(F.STAGE_WIDTH),this._clickWall.sizeY=Math.floor(560));this._onEventResizeCanvas()},_onEventResizeCanvas:function(){},_clearInput:function(){return this.state!=fa.OPENED?!1:!0},_clearButtonInput:function(){return this.state!=
fa.OPENED?!1:!0},__class__:M,__properties__:{get_root:"get_root"}};var Oc=function(a,b,c){this._LIFETIME=3;M.call(this,a,b,c);a=i.get_instance().achievements.getQueue();this._tray.addElement(new ka({text:s.localization.achievement_unlocked,x:-100,y:-15,align:ua.Left}));this._tray.addElement(new H({asset:a.icon,x:-150}));this._tray.addElement(new ka({text:a.locName,x:-100,y:15,align:ua.Left}));this._timer=this._LIFETIME};g["com.sprout.rrtd.super_slide.ui.screens.ScreenAchievementPopup"]=Oc;Oc.__name__=
!0;Oc.__super__=M;Oc.prototype=v(M.prototype,{_useClickWall:function(){return!1},dispose:function(){this._tray=null;M.prototype.dispose.call(this)},update:function(a){M.prototype.update.call(this,a);switch(this.state[1]){case 2:this._timer-=a,0>=this._timer&&F.dispatchFlowEvent(r.ACHIEVEMENT_POPUP_CLOSE)}},_setInState:function(){G.easeSlideInFromDir(this._tray,this._tween,O.BOTTOM).onComplete(p(this,this._finishInState))},_setCloseState:function(){var a=this;G.easeSlideOutToDir(this._tray,this._tween,
O.BOTTOM).onComplete(function(){i.get_instance().achievements.popupOpen=!1;a._finishCloseState()})},__class__:Oc});var Pc=function(a,b,c){M.call(this,a,b,c);this._tray=this._elementManager.addElement(new H({asset:s.texture.template_bg}));this._points=this._tray.addElement(new Wc({tween:this._tween,x:-F.STAGE_CENTER_X,y:-280}));this._rectVisible=ab.request(-F.STAGE_CENTER_X+100,-140,700,350);this._scrollDy=80;this._list=[];a=0;for(b=this._list;a<b.length;)c=b[a],++a,c.alpha=c.pos.y<this._rectVisible.get_y()?
0:c.pos.y>this._rectVisible.get_y()+this._rectVisible.get_height()?0:1;this._tray.alpha=0;this._exitButton.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onEventExitClick));this._exitButton.setScale(0.5,0.5);this._buttonUp.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onEventUpClick));this._buttonUp.setScale(0.5,0.5);this._buttonUp.rotation=-90;this._buttonDown.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onEventDownClick));this._buttonDown.setScale(0.5,0.5);this._buttonDown.rotation=
90;this._checkButtons()};g["com.sprout.rrtd.super_slide.ui.screens.ScreenAchievements"]=Pc;Pc.__name__=!0;Pc.__super__=M;Pc.prototype=v(M.prototype,{dispose:function(){this._exitButton=this._list=this._points=this._buttonDown=this._buttonUp=this._tray=null;this._rectVisible.dispose();this._rectVisible=null;M.prototype.dispose.call(this)},_onEventResizeCanvas:function(){this._points.pos.x=-F.STAGE_CENTER_X;this._buttonUp.pos.x=-F.STAGE_CENTER_X+70;this._buttonDown.pos.x=-F.STAGE_CENTER_X+70;this._exitButton.pos.x=
F.STAGE_CENTER_X-50},_setInState:function(){G.easeSlideInFromDir(this._tray,this._tween,O.TOP).onComplete(p(this,this._finishInState))},_setCloseState:function(){G.easeSlideOutToDir(this._tray,this._tween,O.BOTTOM).onComplete(p(this,this._finishCloseState))},_checkButtons:function(){2>Math.abs(this._list[0].pos.y-this._rectVisible.get_y())?this._buttonUp.disable():this._buttonUp.enable();this._list[this._list.length-1].pos.y<this._rectVisible.get_y()+this._rectVisible.get_height()?this._buttonDown.disable():
this._buttonDown.enable()},_onEventUpClick:function(){var a=this;if(this._list[0].pos.y!=this._rectVisible.get_y()){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<c;){var d=b++;if(d==this._list.length-1)this._tween.tween(this._list[d].pos,0.5,{y:this._list[d].pos.y+this._scrollDy},!1,k.OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[d].pos,0.5,{y:this._list[d].pos.y+this._scrollDy},!1,k.OUT);this._list[d].pos.y+this._list[d].get_height()>=
this._rectVisible.get_y()+this._rectVisible.get_height()?this._tween.tween(this._list[d],0.25,{alpha:0},!1,k.OUT):this._list[d].pos.y+this._scrollDy>=this._rectVisible.get_y()&&this._tween.tween(this._list[d],0.25,{alpha:1},!1,k.OUT)}}},_onEventDownClick:function(){var a=this;if(!(this._list[this._list.length-1].pos.y<this._rectVisible.get_y()+this._rectVisible.get_height())){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<c;){var d=b++;if(d==this._list.length-
1)this._tween.tween(this._list[d].pos,0.5,{y:this._list[d].pos.y-this._scrollDy},!1,k.OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[d].pos,0.5,{y:this._list[d].pos.y-this._scrollDy},!1,k.OUT);this._list[d].pos.y<=this._rectVisible.get_y()?this._tween.tween(this._list[d],0.25,{alpha:0},!1,k.OUT):this._list[d].pos.y-this._scrollDy<=this._rectVisible.get_y()+this._rectVisible.get_height()&&this._tween.tween(this._list[d],0.25,{alpha:1},!1,k.OUT)}}},_onEventExitClick:function(){F.dispatchFlowEvent(r.ACHIEVEMENT_CLOSE)},
__class__:Pc});var Qc=function(a,b,c){M.call(this,a,b,c)};g["com.sprout.rrtd.super_slide.ui.screens.ScreenDebug"]=Qc;Qc.__name__=!0;Qc.__super__=M;Qc.prototype=v(M.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new rb({color:0,sizeX:F.STAGE_WIDTH,sizeY:560,alpha:0.5}));this._tray.alpha=0;var a=this._tray.addElement(new ka({text:s.localization.debugfield,y:-260,scale:0.5}));a.setVariables(["Debug Screen"]);a=this._tray.addElement(new ka({text:s.localization.debugfield,
y:260,scale:0.5}));a.setVariables(["Game Version: 1.0.0"]);this._buildButtons()},dispose:function(){M.prototype.dispose.call(this);this._tray=null},_addButton:function(){},_setInState:function(){G.easeSlideInFromDir(this._tray,this._tween,O.TOP).onComplete(p(this,this._finishInState))},_setCloseState:function(){G.easeSlideOutToDir(this._tray,this._tween,O.BOTTOM).onComplete(p(this,this._finishCloseState))},_buildButtons:function(){this._addButton("X",50,50,p(this,this._onCloseClick))},_onCloseClick:function(){F.dispatchFlowEvent(r.DEBUG_CLOSE)},
__class__:Qc});var jc=function(a,b,c){M.call(this,a,b,c);this._dialogueDef=i.get_instance().dialogue.grabData();this._dialogueDef.mobileToggle?this._dialogueTray.addElement(new ka({text:J._platform.getTouch().get_supported()?this._dialogueDef.text+"_mobile":this._dialogueDef.text,x:0,y:50-0.5*this._dialogueTray.get_height()})):this._dialogueTray.addElement(new ka({text:this._dialogueDef.text,x:0,y:50-0.5*this._dialogueTray.get_height()}));this._clickThrough=!0;null!=this._dialogueDef.triggerEvent&&
(this._clickThrough=!1,i.get_instance().dispatcher.addEventListener(this._dialogueDef.triggerEvent,p(this,this._onTrigger)));null!=this._dialogueDef.pointerType&&this._dialogueDef.pointerType!=ya.NONE||(this._pointer=null);this._timerPointer=1.5;this._closing=!1};g["com.sprout.rrtd.super_slide.ui.screens.ScreenDialogue"]=jc;jc.__name__=!0;jc.__super__=M;jc.prototype=v(M.prototype,{_getPosY:function(a){switch(a[1]){case 0:return 380;case 2:return 180}return 0},_useClickWall:function(){return!1},dispose:function(){this._pointer=
this._dialogueTray=null;null!=this._dialogueDef.triggerEvent&&i.get_instance().dispatcher.removeEventListener(this._dialogueDef.triggerEvent,p(this,this._onTrigger));this._dialogueDef.dispose();this._dialogueDef=null;M.prototype.dispose.call(this)},update:function(a){M.prototype.update.call(this,a);!i.get_instance().getBool(q.BOOL_PAUSED)&&this.state==fa.OPENED&&(this._timerPointer-=a,0>=this._timerPointer&&this._pointerBehavior())},_pointerBehavior:function(){switch(this._dialogueDef.pointerType[1]){case 0:this._timerPointer=
1.5;this._tween.tween(this._pointer,0.25,{scale:0.9,x:this._pointer.get_x()-5,y:this._pointer.get_y()+5},!0);this._tween.tween(this._pointer,0.25,{scale:1,x:this._pointer.get_x(),y:this._pointer.get_y()},!1);break;case 2:this._timerPointer=2.5;this._tween.tween(this._pointer,0.15,{x:this._pointer.get_x()-100},!0);this._tween.tween(this._pointer,0.25,{scale:0.9,x:this._pointer.get_x()-105,y:this._pointer.get_y()+5},!1);this._tween.tween(this._pointer,0.5,{x:this._pointer.get_x()-5,y:this._pointer.get_y()+
5},!1,k.IN,0.25);this._tween.tween(this._pointer,0.25,{scale:1,x:this._pointer.get_x(),y:this._pointer.get_y()},!1,k.EASE_IN_OUT,0.25);break;case 1:this._timerPointer=1.5,this._tween.tween(this._pointer,0.7,{x:this._pointer.get_x(),y:this._pointer.get_y()+20},!0,k.IN),this._tween.tween(this._pointer,0.7,{x:this._pointer.get_x(),y:this._pointer.get_y()},!1,k.OUT)}},_onTrigger:function(a){a.get_eventId()==this._dialogueDef.triggerEvent&&F.dispatchFlowEvent(r.DIALOGUE_CLOSE)},_setInState:function(){var a=
this;G.easeSlideInFromDir(this._dialogueTray,this._tween,O.BOTTOM).onComplete(function(){null!=a._pointer&&G.easeBounceIn(a._pointer,a._tween);a._finishInState()})},_setCloseState:function(){var a=this;null!=this._pointer&&G.easeBounceOut(this._pointer,this._tween);G.easeBounceOut(this._pointer,this._tween);G.easeSlideOutToDir(this._dialogueTray,this._tween,O.BOTTOM).onComplete(function(){i.get_instance().dispatcher.dispatchEvent(W.request(j.DIALOGUE_LINE_COMPLETE));null!=a._dialogueDef.endEvent&&
i.get_instance().dispatcher.dispatchEvent(W.request(a._dialogueDef.endEvent));a._finishCloseState()})},_onInput:function(a,b,c,d){if(!i.get_instance().getBool(q.BOOL_PAUSED)&&this._clickThrough)switch(b[1]){case 0:case 1:switch(a[1]){case 0:this.state==fa.OPENED&&!1==this._closing&&c<F.STAGE_CENTER_X-100&&100<d&&(this._closing=!0,F.dispatchFlowEvent(r.DIALOGUE_CLOSE))}}},__class__:jc});var Ub=function(a,b,c){M.call(this,a,b,c);this._particleManager=new Yc(this._tween,this._elementManager);this._particleTimer=
0;i.get_instance().sound.stopMusic();i.get_instance().sound.playSound(s.sound.end_stinger,0.25,p(this,this._startEndMusic));this._blinkTimer=1;this._closing=!1;this._tray=this._elementManager.addElement(new H({asset:s.texture.end_screen,alpha:0}));this._frame=this._tray.addElement(new H({y:-100}));this._loadWidget=this._tray.addElement(new kc({tween:this._tween,y:240}));this._replayBtn=this._tray.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.resume,x:-100,
y:-30}));this._replayBtn.setScale(0.75,0.75);this._replayBtn.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onReplay));this._playBtn=this._tray.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.play,x:100,y:-30}));this._playBtn.setScale(0.75,0.75);this._playBtn.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onPlay));J._platform.getTouch().get_supported();this._frame.alpha=0;this._tray.alpha=0};g["com.sprout.rrtd.super_slide.ui.screens.ScreenEndGame"]=
Ub;Ub.__name__=!0;Ub.__super__=M;Ub.prototype=v(M.prototype,{dispose:function(){this._playBtn=this._replayBtn=this._loadWidget=this._tray=this._frame=this._score=this._buttonPlayAgain=null;this._particleManager.dispose();this._particleManager=null;M.prototype.dispose.call(this)},_onReplay:function(){i.get_instance().setBool(q.BOOL_REPLAY_MODE,!0);this._tweenOutClickTray();this._loadWidget.tweenIn(!0);F.dispatchFlowEvent(r.END_GAME_PLAY_AGAIN)},_onPlay:function(){this._tweenOutClickTray();this._loadWidget.tweenIn(!0);
F.dispatchFlowEvent(r.END_GAME_PLAY_AGAIN)},_onShare:function(){this._copyToClipboard()},_startEndMusic:function(){i.get_instance().sound.playMusic(s.sound.end_loop,0.25)},update:function(a){M.prototype.update.call(this,a);this._particleTimer+=a;0.01<=this._particleTimer&&(this._particleTimer=0,yb.confetti(-600,-600,s.texture.particle_03,1,null),yb.confetti(-200,-600,s.texture.particle_04,1,null),yb.confetti(200,-600,s.texture.particle_02,1,null))},_setInState:function(){var a=this;G.easeSlideInFromDir(this._tray,
this._tween,O.TOP).onComplete(function(){G.easeBounceIn(a._frame,a._tween);a._finishInState()})},_setCloseState:function(){G.easeSlideOutToDir(this._tray,this._tween,O.BOTTOM).onComplete(p(this,this._finishCloseState))},_onPlayAgainClick:function(){F.dispatchFlowEvent(r.END_GAME_PLAY_AGAIN)},_tweenOutClickTray:function(){this._replayBtn.disable();this._playBtn.disable();G.easeBounceOut(this._replayBtn,this._tween);G.easeBounceOut(this._playBtn,this._tween)},_copyToClipboard:function(){var a=window.location.href;
0==window.location.search.length?a+="?":1!=window.location.search.length&&(a+="&");a+="tid="+i.get_instance().getString(q.STRING_SLIDE_CODE);window.clip(a)},__class__:Ub});var Nc=function(a,b,c){M.call(this,a,b,c);this._closing=!1;this._inputBuffer="";this._keyLength=i.get_instance().getString(q.STRING_UNLOCK_CODE).length;4>this._keyLength&&(this._keyLength=4)};g["com.sprout.rrtd.super_slide.ui.screens.ScreenEnterCode"]=Nc;Nc.__name__=!0;Nc.__super__=M;Nc.prototype=v(M.prototype,{_buildScreen:function(){this._tray=
this._elementManager.addElement(new H({asset:s.texture.template_bg}));this._tray.addElement(new ka({y:-205,text:s.localization.code_copy,origin:0.5}));this._inputTextField=this._tray.addElement(new ka({text:s.localization.enter_code_header,y:-130,scale:0.5}));this._backButton.addElement(new ka({y:0,text:s.localization.back}));this._backButton.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onButtonBackClick));this._inputBuffer="";this._createNumPad();this._tray.visible=!1},dispose:function(){this._inputBuffer=
this._inputTextField=this._backButton=this._tray=null;M.prototype.dispose.call(this)},_addEventListeners:function(){M.prototype._addEventListeners.call(this);i.get_instance().dispatcher.addEventListener(j.INPUT_ARBITRARY_KEY_BUTTON,p(this,this._handleInputArbitraryKeyButton));i.get_instance().dispatcher.addEventListener(j.INPUT_ARBITRARY_KEY_KEYBOARD,p(this,this._handleInputArbitraryKeyKeyboard))},_removeEventListeners:function(){M.prototype._removeEventListeners.call(this);i.get_instance().dispatcher.removeEventListener(j.INPUT_ARBITRARY_KEY_BUTTON,
p(this,this._handleInputArbitraryKeyButton));i.get_instance().dispatcher.removeEventListener(j.INPUT_ARBITRARY_KEY_KEYBOARD,p(this,this._handleInputArbitraryKeyKeyboard))},_handleInputArbitraryKeyButton:function(a){var a=a.get_data().get("data"),b=a.key;switch(a.state[1]){case 0:switch(b){case "backspace":this._removeCharFromInputBuffer();break;case "enter":this._onButtonEnterClick(null);break;default:this._addCharToInputBuffer(b)}}},_handleInputArbitraryKeyKeyboard:function(a){var b=C.string(a.get_data().get("key"));
if(1<b.length&&("Number"==L.substr(b,0,6)||"Numpad"==L.substr(b,0,6)))b=L.substr(b,b.length-1,null);switch(a.get_data().get("phase")[1]){case 0:switch(b){case "Backspace":case "Delete":this._removeCharFromInputBuffer();break;case "Enter":this._onButtonEnterClick(null);break;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "0":case "Q":case "W":case "E":case "R":case "T":case "Y":case "U":case "I":case "O":case "P":case "A":case "S":case "D":case "F":case "G":case "H":case "J":case "K":case "L":case "Z":case "X":case "C":case "V":case "B":case "N":case "M":this._addCharToInputBuffer(b);
break;case "Minus":this._addCharToInputBuffer("_")}}},_onButtonKeyClick:function(a){this._addCharToInputBuffer(C.string(a.get_data().get("val")))},_onButtonEnterClick:function(){this._inputBuffer!=i.get_instance().getString(q.STRING_UNLOCK_CODE)?this._resetInputBuffer():i.get_instance().setBool(q.BOOL_CODE_UNLOCK,!0)},_resetInputBuffer:function(){this._inputBuffer=""},_addCharToInputBuffer:function(a){for(this._inputBuffer+=a;this._inputBuffer.length>this._keyLength;)this._inputBuffer=L.substr(this._inputBuffer,
1,this._inputBuffer.length)},_removeCharFromInputBuffer:function(){0<this._inputBuffer.length&&(this._inputBuffer=this._inputBuffer.substring(0,this._inputBuffer.length-1))},_setInState:function(){this._closing=!1;G.easeSlideInFromDir(this._tray,this._tween,O.BOTTOM).onComplete(p(this,this._finishInState))},_setCloseState:function(){this._closing||(this._closing=!0,G.easeSlideOut(this._tray,this._tween,0,1120).onComplete(p(this,this._finishCloseState)))},_onButtonBackClick:function(){this.state==
fa.OPENED&&F.dispatchFlowEvent(r.ENTER_CODE_CLOSE)},_createNumPad:function(){for(var a=0,b=0,c=0,d=0,h="",B,e;10>=d;){h="code_key_"+C.string(d+1);e=p(this,this._onButtonKeyClick);a=d+1;switch(d){case 0:b=-80;c=-20;break;case 1:b=0;break;case 2:b=80;break;case 3:b=-80;c=60;break;case 4:b=0;break;case 5:b=80;break;case 6:b=-80;c=140;break;case 7:b=0;break;case 8:b=80;break;case 9:c=220;h="code_key_0";a=0;break;case 10:b=-40,h="code_key_enter",e=p(this,this._onButtonEnterClick)}B=this._tray.addElement(new Y({x:b,
y:c,clear:p(this,this._clearButtonInput),tween:this._tween,assetUp:""}));B.addElement(new ka({x:0,y:0,text:h}));B.setDispatchData(function(){var b=new N;b.set("val",a);return b}(this));B.dispatcher.addEventListener(j.BUTTON_CLICK,e);e=B=null;d++}},_createKeyboard:function(){this._tray.addElement(new Zc({tween:this._tween,buttonClear:p(this,this._clearButtonInput),y:280}))},__class__:Nc});var ic=function(a,b,c){M.call(this,a,b,c)};g["com.sprout.rrtd.super_slide.ui.screens.ScreenGameplayHud"]=ic;ic.__name__=
!0;ic.__super__=M;ic.prototype=v(M.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new H({x:0,y:0}));this._tutorialTimer=15;this._buttons=[];this._inputPos=E.request();if(!i.get_instance().getBool(q.BOOL_REPLAY_MODE)){this._buildBack=this._elementManager.addElement(new H({asset:s.texture.ui_backing,x:-F.STAGE_CENTER_X+120}));var a;a=this._buildBack.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.ui_1,x:-42,y:-175}));a.setDispatchData(function(){var a=
new N;a.set("type",l.SINGLE_LOOP);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onPieceClick));a.setScale(0.9,0.9);this._buttons.push(a);a=this._buildBack.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.ui_2,x:42,y:-175}));a.setDispatchData(function(){var a=new N;a.set("type",l.DOUBLE_LOOP);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onPieceClick));a.setScale(0.9,0.9);this._buttons.push(a);a=this._buildBack.addElement(new Y({tween:this._tween,
clear:p(this,this._clearButtonInput),assetUp:s.texture.ui_4,x:-42,y:-90}));a.setScale(-0.9,0.9);a.setDispatchData(function(){var a=new N;a.set("type",l.STRAIGHT);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onPieceClick));this._buttons.push(a);a=this._buildBack.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.ui_9,x:42,y:-90}));a.setDispatchData(function(){var a=new N;a.set("type",l.STEPS);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,
p(this,this._onPieceClick));a.setScale(0.9,0.9);this._buttons.push(a);a=this._buildBack.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.ui_6,x:-42,y:-5}));a.setScale(-0.9,0.9);a.setDispatchData(function(){var a=new N;a.set("type",l.VERTICAL_LOOP);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onPieceClick));this._buttons.push(a);a=this._buildBack.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.ui_10,
x:42,y:-5}));a.setDispatchData(function(){var a=new N;a.set("type",l.DROP);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onPieceClick));a.setScale(0.9,0.9);this._buttons.push(a);a=this._buildBack.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.ui_7,x:-42,y:80}));a.setDispatchData(function(){var a=new N;a.set("type",l.ZIGZAG);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onPieceClick));a.setScale(0.9,
0.9);this._buttons.push(a);a=this._buildBack.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.ui_8,x:42,y:80}));a.setDispatchData(function(){var a=new N;a.set("type",l.CURVE);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onPieceClick));a.setScale(0.9,0.9);this._buttons.push(a);a=this._buildBack.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.ui_bump,x:-42,y:165}));a.setDispatchData(function(){var a=
new N;a.set("type",l.BUMP);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onPieceClick));a.setScale(0.9,0.9);this._buttons.push(a);a=this._buildBack.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.ui_tunnel,x:37,y:165}));a.setDispatchData(function(){var a=new N;a.set("type",l.TUNNEL);return a}(this));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onPieceClick));a.setScale(0.9,0.9);this._buttons.push(a);this._tutorialHand=
this._elementManager.addElement(new $c({asset:s.texture.hand},this._tween))}this._pauseButton=this._elementManager.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.pause,x:F.STAGE_CENTER_X-37.5,y:-242.5,alpha:0}));this._pauseButton.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onEventPauseClick));this._pauseButton.setScale(0.6,0.6)},dispose:function(){this._tutorialHand=this._pauseButton=null;M.prototype.dispose.call(this)},update:function(a){M.prototype.update.call(this,
a);-1!=this._tutorialTimer&&(this._tutorialTimer-=a,0>=this._tutorialTimer&&(this._showTutorialHand(),this._tutorialTimer=15))},_setInState:function(){this._tween.tween(this._pauseButton,0.15,{scale:0.65,alpha:1},!0,k.OUT);this._tween.tween(this._pauseButton,0.15,{scale:0.6},!1,k.IN);i.get_instance().timer.start(p(this,this._showTutorialHand),2);this._finishInState()},_onEventResizeCanvas:function(){this._tray.pos.x=-F.STAGE_CENTER_X-150;this._pauseButton.pos.x=F.STAGE_CENTER_X-37.5;null!=this._buildBack&&
(this._buildBack.pos.x=-F.STAGE_CENTER_X+120)},_onEventPauseClick:function(){F.dispatchFlowEvent(r.GAMEPLAY_MENU)},_addEventListeners:function(){M.prototype._addEventListeners.call(this);i.get_instance().dispatcher.addEventListener(j.HIDE_UI,p(this,this._onHideUI))},_removeEventListeners:function(){M.prototype._removeEventListeners.call(this);i.get_instance().dispatcher.removeEventListener(j.HIDE_UI,p(this,this._onHideUI))},_onInput:function(a,b,c,d){this._elementManager.camera.getWorldPositionOfScreenPoint(c,
d,0,this._inputPos);switch(b[1]){case 0:switch(a[1]){case 0:if(null==this._draggingPiece){a=0;for(b=this._buttons;a<b.length;)c=b[a],++a,this._inputPos.x>=c.pos.x+this._buildBack.pos.x-c.get_width()/2*c.scale&&this._inputPos.x<=c.pos.x+this._buildBack.pos.x+c.get_width()/2*c.scale&&this._inputPos.y>=c.pos.y+this._buildBack.pos.y-c.get_height()/2*c.scale&&this._inputPos.y<=c.pos.y+this._buildBack.pos.y+c.get_height()/2*c.scale&&(this._selectedButton=c,this._draggingPiece=this._elementManager.addElement(new H({asset:this._selectedButton.getAsset(),
x:this._inputPos.x,y:this._inputPos.y,alpha:0})),this._draggingPiece.scaleX=this._selectedButton.scaleX,this._draggingPiece.scaleY=this._selectedButton.scaleY,this._dragAsset=this._selectedButton.getAsset(),null)}break;case 2:null!=this._draggingPiece&&(this._draggingPiece.alpha=1,this._draggingPiece.pos.to(this._inputPos.x,this._inputPos.y));break;case 1:if(null!=this._draggingPiece&&-200<this._draggingPiece.pos.x){var h=null;switch(this._dragAsset){case "ui_1":h=l.SINGLE_LOOP;break;case "ui_2":h=
l.DOUBLE_LOOP;break;case "ui_4":h=l.STRAIGHT;break;case "ui_6":h=l.VERTICAL_LOOP;break;case "ui_7":h=l.ZIGZAG;break;case "ui_8":h=l.CURVE;break;case "ui_9":h=l.STEPS;break;case "ui_10":h=l.DROP;break;case "ui_tunnel":h=l.TUNNEL;break;case "ui_bump":h=l.BUMP}null!=h&&this._onPieceClick(W.request(j.BUTTON_CLICK,function(){var a=new N;a.set("type",h);return a}(this)))}null!=this._draggingPiece&&(this._draggingPiece.doDelete=!0,this._draggingPiece=null);this._dragAsset=null}break;case 3:this._onEventPauseClick(null)}},
_onPieceClick:function(a){this._tutorialHand.showNone();this._tutorialTimer=15;i.get_instance().dispatcher.dispatchEvent(W.request(j.ADD_SLIDE_PIECE,a.get_data()))},_onHideUI:function(){this._tutorialTimer=-1;null!=this._buildBack&&(G.easeBounceOut(this._buildBack,this._tween),0!=this._tutorialHand.alpha&&G.easeBounceOut(this._tutorialHand,this._tween))},_showTutorialHand:function(){null!=this._tutorialHand&&this._tutorialHand.showPointTween(this._buildBack.get_x()-10+84*i.get_instance().random.getRandomInt(0,
1),this._buildBack.get_y()-150+85*i.get_instance().random.getRandomInt(0,4),-15)},__class__:ic});var Lc=function(a,b,c){M.call(this,a,b,c);this._closing=!1};g["com.sprout.rrtd.super_slide.ui.screens.ScreenGameplayMenu"]=Lc;Lc.__name__=!0;Lc.__super__=M;Lc.prototype=v(M.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new H({asset:s.texture.pausemenu_backing,alpha:0}));var a;a=this._tray.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.resume,
x:-175,y:0}));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onEventResumeClick));a=this._tray.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.quit,x:175,y:0}));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onEventQuitClick));this._tray.addElement(new Vc({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.unmute,assetUpOff:s.texture.mute,x:0,y:0}))},dispose:function(){this._tray=null;M.prototype.dispose.call(this)},
_setInState:function(){this._closing=!1;G.easeBounceIn(this._tray,this._tween).onComplete(p(this,this._finishInState))},_setCloseState:function(){this._closing||(this._closing=!0,G.easeBounceOut(this._tray,this._tween).onComplete(p(this,this._finishCloseState)))},_onEventHelpClick:function(){F.dispatchFlowEvent(r.GAMEPLAY_MENU_HELP)},_onEventResumeClick:function(){F.dispatchFlowEvent(r.GAMEPLAY_MENU_CLOSE)},_onEventQuitClick:function(){F.dispatchFlowEvent(r.GAMEPLAY_MENU_QUIT)},_onInput:function(a,
b){if(a==ga.DOWN)switch(b[1]){case 3:case 2:this._onEventResumeClick(null)}},__class__:Lc});var Jc=function(a,b,c){M.call(this,a,b,c);this._closing=!1};g["com.sprout.rrtd.super_slide.ui.screens.ScreenHelp"]=Jc;Jc.__name__=!0;Jc.__super__=M;Jc.prototype=v(M.prototype,{_buildScreen:function(){J._platform.getTouch().get_supported();this._tray.addElement(new ka({text:s.localization.help,y:-170}));this._button.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onEventPlayClick));this._tray.visible=
!1},dispose:function(){this._button=this._tray=null;M.prototype.dispose.call(this)},_setInState:function(){this._closing=!1;G.easeBounceIn(this._tray,this._tween).onComplete(p(this,this._finishInState))},_setCloseState:function(){this._closing||(this._closing=!0,G.easeBounceOut(this._tray,this._tween).onComplete(p(this,this._finishCloseState)))},_onEventPlayClick:function(){F.dispatchFlowEvent(r.HELP_CLOSE)},__class__:Jc});var Mc=function(a,b,c){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;M.call(this,
a,b,c);this._closing=!1};g["com.sprout.rrtd.super_slide.ui.screens.ScreenQuitConfirm"]=Mc;Mc.__name__=!0;Mc.__super__=M;Mc.prototype=v(M.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new H({asset:s.texture.pausemenu_backing,alpha:0}));this._tray.addElement(new ka({text:s.localization.quit_confirm_header,y:-60}));this._tray.alpha=0;var a=this._tray.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.quit,x:92,y:40}));a.dispatcher.addEventListener(j.BUTTON_CLICK,
p(this,this._onYesClick));a=this._tray.addElement(new Y({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:s.texture.resume,x:-92,y:40}));a.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onNoClick))},dispose:function(){M.prototype.dispose.call(this);this._tray=this._wall=null},_setInState:function(){this._closing=!1;G.easeBounceIn(this._tray,this._tween).onComplete(p(this,this._finishInState))},_setCloseState:function(){this._closing||(this._closing=!0,G.easeBounceOut(this._tray,
this._tween).onComplete(p(this,this._finishCloseState)))},_onYesClick:function(){F.dispatchFlowEvent(r.GAMEPLAY_QUIT_YES)},_onNoClick:function(){F.dispatchFlowEvent(r.GAMEPLAY_QUIT_NO)},__class__:Mc});var Kc=function(a,b,c){M.call(this,a,b,c);this._closing=!1};g["com.sprout.rrtd.super_slide.ui.screens.ScreenShop"]=Kc;Kc.__name__=!0;Kc.__super__=M;Kc.prototype=v(M.prototype,{_buildScreen:function(){var a=this._elementManager.addElement(new H({origin:0,x:-F.STAGE_CENTER_X,y:-280}));this._trayCurrency.alpha=
0;this._currency=a.addElement(new Xc({x:175,y:35,tween:this._tween}));this._currency.alpha=0;this._trayInventory.visible=!1;this._trayInventory.addElement(new ka({x:-200,y:-170,text:"shop"}));this._buttons=[];this._trayInventory.get_width();for(var a=0,b=i.get_instance().inventory.get_fullItemList().iterator();b.hasNext();)b.next(),this._buttons.push(this._button),a++,4<=a&&(a=0);this._trayDetails.visible=!1;this._textItemName=this._trayDetails.addElement(new ka({x:-175,y:-170,text:s.localization.item_name_default,
originX:0}));this._textItemDesc=this._trayDetails.addElement(new ka({x:-50,y:-90,text:s.localization.item_unowned,originY:0}));this._textNextRank=this._trayDetails.addElement(new ka({x:-250,y:-20,text:s.localization.next_rank,origin:0}));this._textItemNext=this._trayDetails.addElement(new ka({x:-50,y:5,text:s.localization.item_desc_default,originY:0}));a=i.get_instance().localize.getLocalizeData("currency");this._textCostCurrency=this._trayDetails.addElement(new ka({x:-115-20*a.scale,y:130,text:s.localization.currency,
originX:1}));this._buttonBuy.addElement(new ka({text:s.localization.buy})).inputEnabled=!1;this._buttonBuy.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onBuy));this._buttonLeave.dispatcher.addEventListener(j.BUTTON_CLICK,p(this,this._onEventPlayClick));i.get_instance().dispatcher.dispatchEvent(W.request(j.ITEM_SELECT,function(){var a=new N;a.set("id",ta.SWORD);return a}(this)));a=a=null},_addEventListeners:function(){i.get_instance().dispatcher.addEventListener(j.ITEM_SELECT,p(this,this._onItemSelect))},
_removeEventListeners:function(){i.get_instance().dispatcher.removeEventListener(j.ITEM_SELECT,p(this,this._onItemSelect))},_onItemSelect:function(a){this._doItemSelect(a.get_data().get("id"))},_onBuy:function(){i.get_instance().modifyInt(q.INT_CURRENCY,-i.get_instance().inventory.getCostToPurchaseNextRank(this._selectedItem));i.get_instance().inventory.modRank(this._selectedItem);this._doItemSelect(this._selectedItem);for(var a,b=0,c=this._buttons;b<c.length;)a=c[b],++b,a.doRefreshDisplay()},_doItemSelect:function(a){this._selectedItem=
a;a=i.get_instance().inventory.getItemData(a);this._textItemName.setText(a.get_itemLocalizationName());this._textItemDesc.setText(a.itemLocalizationDescription());this._textItemNext.setText(a.itemLocalizationDescription(1));this._itemIcon.setAsset(a.get_itemIconAssetName());a=a.get_hasRankCapped();!a&&i.get_instance().inventory.canAffordNextRank(this._selectedItem)?this._buttonBuy.enable():this._buttonBuy.disable();this._textCostCurrency.alpha=a?0:1;this._textItemNext.alpha=a?0:1;this._textNextRank.alpha=
a?0:1},_setInState:function(){this._closing=!1;G.easeSlideIn(this._trayCurrency,this._tween,0,-75);G.easeSlideIn(this._trayInventory,this._tween,F.STAGE_CENTER_X-1E3,280).onComplete(p(this,this._finishInState));G.easeSlideIn(this._trayDetails,this._tween,F.STAGE_CENTER_X+1E3,280);G.easeBounceIn(this._currency,this._tween,!0,0.55)},_setCloseState:function(){this._closing||(this._closing=!0,G.easeSlideOut(this._trayCurrency,this._tween,0,-75,0.25).onComplete(p(this,this._finishCloseState)),G.easeSlideOut(this._trayInventory,
this._tween,F.STAGE_CENTER_X-1E3,280),G.easeSlideOut(this._trayDetails,this._tween,F.STAGE_CENTER_X+1E3,280),G.easeBounceOut(this._currency,this._tween))},_onEventPlayClick:function(){F.dispatchFlowEvent(r.SHOP_CLOSE)},dispose:function(){this._buttons=this._trayDetails=this._trayInventory=this._trayCurrency=null;M.prototype.dispose.call(this)},__class__:Kc});var Ic=function(a,b,c){this._BLINK_TIME=1.5;M.call(this,a,b,c);this._blinkAllowed=!0;this._closing=!1;this._blinkTimer=this._BLINK_TIME;this._beginPreload()};
g["com.sprout.rrtd.super_slide.ui.screens.ScreenSplash"]=Ic;Ic.__name__=!0;Ic.__super__=M;Ic.prototype=v(M.prototype,{dispose:function(){aa.onSplashClose();this._clickTray=this._loadWidget=this._buttonSound=this._textClickToPlay=null;M.prototype.dispose.call(this)},_buildScreen:function(){this._tray=this._elementManager.addElement(new $a({asset:s.texture.splash}))},_beginPreload:function(){var a=["fonts_"+i.get_instance().getString(q.STRING_REGION_ID)];i.get_instance().assets.load(p(this,this._onPreloadFinished),
["preload"],a,null,0)},_onPreloadFinished:function(){aa.onPreloadFinished();i.get_instance().localize.parseLocalization();this._addPreload();this._beginInitialLoad()},_beginInitialLoad:function(){var a;a=J._platform.getTouch().get_supported()?"initial_sd":"initial_hd";var b;b=J._platform.getTouch().get_supported()?"initial_audio_required":"initial_audio_optional";i.get_instance().assets.load(p(this,this._eventLoadCompleteInitial),[a,b],null,null,1.2)},_eventLoadCompleteInitial:function(){this._addClickTray();
this._removeLoader();aa.onInitialFinished();i.get_instance().dispatcher.dispatchEvent(W.request(j.INITIAL_LOAD_COMPLETE))},_addPreload:function(){this._addLoader()},_addLoader:function(){null==this._loadWidget&&(this._loadWidget=this._tray.addElement(new kc({tween:this._tween,y:240})));!1==this._loadWidget.get_active()&&this._loadWidget.tweenIn(!0)},_removeLoader:function(){null==this._loadWidget||!1==this._loadWidget.get_active()||this._loadWidget.tweenOut()},_addClickTray:function(){null==this._clickTray&&
(J._platform.getTouch().get_supported(),this._clickTray=this._tray.addElement(new $a({asset:s.texture.play,y:230,originY:1})),G.easeBounceIn(this._clickTray,this._tween))},update:function(a){M.prototype.update.call(this,a);this._blinkAllowed&&null!=this._clickTray?(this._blinkTimer-=a,0>=this._blinkTimer&&(this._tween.tween(this._clickTray,0.3,{scale:1.2},!0,k.CUBIC_IN),this._tween.tween(this._clickTray,0.3,{scale:1},!1,k.CUBIC_OUT),this._blinkTimer=this._BLINK_TIME)):null!=this._clickTray&&(this._clickTray.alpha=
0)},_onEventCodeClick:function(){this.state==fa.OPENED&&(i.get_instance().setBool(q.BOOL_CODE_SCREEN_OPEN,!0),F.dispatchFlowEvent(r.ENTER_CODE_OPEN))},_tweenOutClickTray:function(){null!=this._clickTray&&(this._blinkAllowed=!1,this._tween.tween(this._clickTray,0.15,{scaleX:1.1,scaleY:1.1},!0,k.QUAD_OUT),this._tween.tween(this._clickTray,0.15,{scaleX:0.1,scaleY:0.1,alpha:0},!1,k.QUAD_IN))},_setCloseState:function(){G.easeSlideOutToDir(this._tray,this._tween,O.BOTTOM).onComplete(p(this,this._finishCloseState))},
_onInput:function(a,b){if(this.state==fa.OPENED)switch(b[1]){case 0:case 1:switch(a[1]){case 1:!1==this._closing&&!1==i.get_instance().getBool(q.BOOL_CODE_SCREEN_OPEN)&&(this._closing=!0,this._tweenOutClickTray(),this._addLoader(),i.get_instance().sound.playSound(s.sound.button),F.dispatchFlowEvent(r.SPLASH_PLAY))}}},__class__:Ic});var Da=g["com.sprout.rrtd.super_slide.world._World.WORLD_STATE"]={__ename__:!0,__constructs__:["_STATE_ALLOCATE","_STATE_INITIALIZING","_STATE_GAMEPLAY"]};Da._STATE_ALLOCATE=
["_STATE_ALLOCATE",0];Da._STATE_ALLOCATE.toString=f;Da._STATE_ALLOCATE.__enum__=Da;Da._STATE_INITIALIZING=["_STATE_INITIALIZING",1];Da._STATE_INITIALIZING.toString=f;Da._STATE_INITIALIZING.__enum__=Da;Da._STATE_GAMEPLAY=["_STATE_GAMEPLAY",2];Da._STATE_GAMEPLAY.toString=f;Da._STATE_GAMEPLAY.__enum__=Da;Da.__empty_constructs__=[Da._STATE_ALLOCATE,Da._STATE_INITIALIZING,Da._STATE_GAMEPLAY];var ba=g["com.sprout.rrtd.super_slide.world._World.GAME_STATE"]={__ename__:!0,__constructs__:["SETUP","INTRO","COUNTDOWN",
"SLIDE","END"]};ba.SETUP=["SETUP",0];ba.SETUP.toString=f;ba.SETUP.__enum__=ba;ba.INTRO=["INTRO",1];ba.INTRO.toString=f;ba.INTRO.__enum__=ba;ba.COUNTDOWN=["COUNTDOWN",2];ba.COUNTDOWN.toString=f;ba.COUNTDOWN.__enum__=ba;ba.SLIDE=["SLIDE",3];ba.SLIDE.toString=f;ba.SLIDE.__enum__=ba;ba.END=["END",4];ba.END.toString=f;ba.END.__enum__=ba;ba.__empty_constructs__=[ba.SETUP,ba.INTRO,ba.COUNTDOWN,ba.SLIDE,ba.END];var me=function(a){this._inputPos=E.request();this._tween=Pa.request();i.get_instance().pool.tracePoolReport();
this._cacheManager=new qe;this._elementManager=new lc(a,0,0);this._particleManager=new Yc(this._tween,this._elementManager);this._elementManager.addLayer(t.BG);this._elementManager.addLayer(t.WORLD);this._elementManager.addLayer(t.SLIDE_3_BG);this._elementManager.addLayer(t.SLIDE_2_BG);this._elementManager.addLayer(t.SLIDE_1_BG);this._elementManager.addLayer(t.PLATFORM);this._elementManager.addLayer(t.SLIDE_3_BACK);this._elementManager.addLayer(t.SLIDE_3_FRONT);this._elementManager.addLayer(t.SLIDE_2_BACK);
this._elementManager.addLayer(t.SLIDE_2_FRONT);this._elementManager.addLayer(t.SLIDE_1_BACK);this._elementManager.addLayer(t.SLIDE_1_FRONT);this._elementManager.addLayer(t.DEBUG_POINTS);this._addEventListeners();this._setState(Da._STATE_ALLOCATE);this._gameState=ba.SETUP};g["com.sprout.rrtd.super_slide.world.World"]=me;me.__name__=!0;me.prototype={start:function(){this._setState(Da._STATE_GAMEPLAY)},dispose:function(){this._tween.dispose();this._tween=null;this._elementManager.dispose();this._elementManager=
null;this._removeEventListeners();this._cacheManager.dispose();this._state=this._cacheManager=null;this._inputPos.dispose();this._inputPos=null;for(var a=0,b=this._slides;a<b.length;){var c=b[a];++a;c.dispose()}this._backLayer=this._frontLayer=this._gameState=this._cameraYPos=this._startButton=this._curPoint=this._debug_points=this._platform=this._bg=this._carts=this._slides=null;this._particleManager.dispose();this._particleManager=null},_setState:function(a){this._state=a;switch(a[1]){case 0:this._initPools();
break;case 1:this._initWorld(),this._onGenerationComplete()}},_setGameState:function(a){var b=this;this._gameState=a;switch(a[1]){case 2:this._countdownText=this._elementManager.addElement(new H({asset:s.texture.countdown_3,y:-300,scale:0}),t.SLIDE_1_FRONT);this._tween.tween(this._countdownText,0.5,{scale:1},!0,k.BOUNCE_IN).onComplete(function(){b._countdownTimer=3;i.get_instance().sound.playSound(s.sound.countdown)});i.get_instance().dispatcher.dispatchEvent(W.request(j.HIDE_UI));for(var c=a=0,d=
0,h=this._carts;d<h.length;){var B=h[d];++d;a+=B.get_x();c+=B.get_y()}this._tween.tween(this._elementManager.camera.pos,0.5,{x:a/3,y:c/3,z:0},!0,k.CUBIC);break;case 4:this._tween.tween(this._elementManager.camera.pos,0.5,{x:this._carts[this._raceWinner].get_x(),y:this._carts[this._raceWinner].get_y()-20,z:200},!0,k.CUBIC).onComplete(function(){i.get_instance().sound.playSound(s.sound.cheering,0.5);for(var a=0;500>a;){var c=a++;i.get_instance().timer.start(function(){var a="";switch(i.get_instance().random.getRandomInt(0,
3)){case 0:a=s.texture.particle_02;break;case 1:a=s.texture.particle_03;break;case 2:a=s.texture.particle_04}yb.confetti(b._carts[b._raceWinner].get_x(),b._carts[b._raceWinner].get_y()-250,a,1,t.SLIDE_1_FRONT)},0.005*c)}}),i.get_instance().timer.start(function(){i.get_instance().setBool(q.BOOL_GAME_WIN,!0)},3),i.get_instance().setBool(q.BOOL_REPLAY_MODE,!1)}},update:function(a){if(!0!=i.get_instance().getBool(q.BOOL_PAUSED))switch(this._state[1]){case 0:this._cacheManager.processFill(10)&&this._setState(Da._STATE_INITIALIZING);
break;case 2:this._tween.update(a);this._elementManager.update(a);switch(this._gameState[1]){case 3:if(null!=this._cameraTarget)this._tween.tween(this._elementManager.camera.pos,0.5,{x:this._carts[this._cameraTarget].get_x(),y:this._carts[this._cameraTarget].get_y()},!0,k.LINEAR);else{for(var b=0,c=0,d=0,h=0,B=-1E4,e=0,f=this._carts;e<f.length;){var g=f[e];++e;g.get_y()>B&&(h=this._carts.indexOf(g),B=g.get_y())}B=0;for(e=this._carts;B<e.length;)f=e[B],++B,f.isStopping()||(b+=f.get_x(),c+=f.get_y(),
d++);if(0==d){B=0;for(e=this._carts;B<e.length;)f=e[B],++B,b+=f.get_x(),c+=f.get_y(),d++}b/=d;c/=d;b+=0.33*(this._carts[h].get_x()-b);c+=0.33*(this._carts[h].get_y()-c);this._tween.tween(this._elementManager.camera.pos,0.3,{x:b,y:c},!0,k.LINEAR)}this._checkGameEnd();break;case 2:if(this._countdownTimer-=a,1>=this._countdownTimer?this._countdownText.setAsset(s.texture.countdown_1):2>=this._countdownTimer&&this._countdownText.setAsset(s.texture.countdown_2),0>=this._countdownTimer){this._gameState=
ba.SLIDE;b=0;for(c=this._carts;b<c.length;)d=c[b],++b,d.start();this._countdownText.doDelete=!0;for(b=0;200>b;)c=b++,i.get_instance().timer.start(function(){yb.sparks(i.get_instance().random.getRandomFloat(-200,200),-300,s.texture.particle_sparkle,1,t.DEBUG_POINTS)},0.005*c)}}b=0;for(c=this._clouds;b<c.length;)d=c[b],++b,h=d,h.set_x(h.get_x()+d.velocity.x*a),1500<d.get_x()&&d.set_x(-1500);this._bg.pos.toPoint(this._elementManager.camera.pos)}},_addEventListeners:function(){i.get_instance().input.addDelegateListener(p(this,
this._onInput));i.get_instance().dispatcher.addEventListener(j.PAUSE,p(this,this._onPause));i.get_instance().dispatcher.addEventListener(j.UNPAUSE,p(this,this._onUnpause));i.get_instance().dispatcher.addEventListener(j.SWAP_CART_LAYER,p(this,this._onSwapCartLayer));i.get_instance().dispatcher.addEventListener(j.ADD_SLIDE_PIECE,p(this,this._onAddSlidePiece));i.get_instance().dispatcher.addEventListener(j.ZOOM_IN_END,p(this,this._onZoomInEnd))},_removeEventListeners:function(){i.get_instance().input.removeDelegateListener(p(this,
this._onInput));i.get_instance().dispatcher.removeEventListener(j.PAUSE,p(this,this._onPause));i.get_instance().dispatcher.removeEventListener(j.UNPAUSE,p(this,this._onUnpause));i.get_instance().dispatcher.removeEventListener(j.SWAP_CART_LAYER,p(this,this._onSwapCartLayer));i.get_instance().dispatcher.removeEventListener(j.ADD_SLIDE_PIECE,p(this,this._onAddSlidePiece));i.get_instance().dispatcher.removeEventListener(j.ZOOM_IN_END,p(this,this._onZoomInEnd))},_onPause:function(){this._pause()},_onUnpause:function(){this._unpause()},
_pause:function(){i.get_instance().setBool(q.BOOL_PAUSED,!0)},_unpause:function(){i.get_instance().setBool(q.BOOL_PAUSED,!1)},_onInput:function(a,b,c,d){var h=this;if(!(i.get_instance().getBool(q.BOOL_PAUSED)||this._state==Da._STATE_INITIALIZING))switch(this._elementManager.camera.getWorldPositionOfScreenPoint(c,d,0,this._inputPos),b[1]){case 0:switch(a[1]){case 0:switch(this._gameState[1]){case 0:a=0;for(b=this._debug_points;a<b.length;)c=b[a],++a,this._inputPos.x>=c.pos.x-c.get_width()/2*c.scale&&
this._inputPos.x<=c.pos.x+c.get_width()/2*c.scale&&this._inputPos.y>=c.pos.y-c.get_height()/2*c.scale&&this._inputPos.y<=c.pos.y+c.get_height()/2*c.scale&&(this._curPoint=c);break;case 1:null!=this._startButton&&!this._tween.hasTween(this._startButton)&&this._inputPos.x>=this._startButton.pos.x-this._startButton.get_width()/2*this._startButton.scale&&this._inputPos.x<=this._startButton.pos.x+this._startButton.get_width()/2*this._startButton.scale&&this._inputPos.y>=this._startButton.pos.y-this._startButton.get_height()/
2*this._startButton.scale&&this._inputPos.y<=this._startButton.pos.y+this._startButton.get_height()/2*this._startButton.scale&&(i.get_instance().sound.playSound(s.sound.button),this._tween.tween(this._startButton,1,{scale:0},!0,k.BOUNCE_IN).onComplete(function(){h._startSlide();h._startButton.doDelete=!0;h._startButton=null}));break;case 3:null==this._cameraTarget?this._cameraTarget=0:(this._cameraTarget++,3==this._cameraTarget&&(this._cameraTarget=null))}break;case 2:null!=this._curPoint&&this._curPoint.pos.toPoint(this._inputPos);
break;case 1:null!=this._curPoint&&null,this._curPoint=null}}},_initPools:function(){i.get_instance().setInt(q.FLOAT_LOADING_PROGRESS,1)},_initWorld:function(){this._elementManager.camera.pos.x-=100;this._bg=this._elementManager.addElement(new H({asset:s.texture.BG,scale:1.1}),t.BG);this._carts=[];this._slides=[];this._debug_points=[];this._slideIndex=0;this._frontLayer=t.SLIDE_1_FRONT;this._backLayer=t.SLIDE_1_BACK;this._cameraYPos=[];this._zoomCount=0;this._clouds=[];this._raceWinner=this._cameraTarget=
null;for(var a=0;5>a;)this._cameraYPos.push(225*a++);this._platform=this._elementManager.addElement(new H({asset:s.texture.platform,y:0}),t.PLATFORM);this._platform.addElement(new H({asset:s.texture.platform_deco,x:-20,y:-190}));for(a=-5;5>a;){var b=a++;this._elementManager.addElement(new H({asset:s.texture.mountain,x:650*b+i.get_instance().random.getRandomFloat(-50,50),y:1175,z:50+i.get_instance().random.getRandomInt(-10,10)}),t.BG)}for(a=-5;5>a;)b=a++,this._elementManager.addElement(new H({asset:s.texture.mountain2,
x:350*b+i.get_instance().random.getRandomFloat(-50,50),y:1225,z:25+i.get_instance().random.getRandomInt(-10,10),scale:0.5}),t.BG);for(a=-3;5>a;)b=a++,this._elementManager.addElement(new H({asset:s.texture.floor_tileable,x:999*b,y:1600,scaleY:2.4}),t.BG);for(a=0;10>a;)b=a++,this._elementManager.addElement(new H({asset:s.texture.finishingline,x:600,y:1383+60*b}),t.BG);for(var b="",c=0;50>c;){c++;switch(i.get_instance().random.getRandomInt(0,3)){case 0:b=s.texture.cloud1;break;case 1:b=s.texture.cloud2;
break;case 2:b=s.texture.cloud3}a=this._elementManager.addElement(new ad(b,i.get_instance().random.getRandomFloat(-1E3,1E3),i.get_instance().random.getRandomFloat(-300,1200),i.get_instance().random.getRandomFloat(100,200)),t.BG);this._clouds.push(a)}if(i.get_instance().getBool(q.BOOL_REPLAY_MODE))i.get_instance().sound.playMusic(s.sound.slide_loop,0.25),this._setupReplay();else{i.get_instance().sound.playMusic(s.sound.building_loop,0.25);for(var d=c=b=null,h=null,B=0;3>B;){var e=B++;switch(e){case 0:b=
va.RED;c=t.SLIDE_1_FRONT;d=t.SLIDE_1_BACK;break;case 1:b=va.YELLOW;c=t.SLIDE_2_FRONT;d=t.SLIDE_2_BACK;break;case 2:b=va.BLUE,c=t.SLIDE_3_FRONT,d=t.SLIDE_3_BACK}a=new bd(this._elementManager,b,c,d,this._tween);switch(e){case 0:a.addPiece(l.RED_START,1);h=this._elementManager.addElement(new sb({library:s.spine.R.name},this._tween,t.SLIDE_1_FRONT,t.SLIDE_1_BACK,0),t.SLIDE_1_FRONT);break;case 1:a.addPiece(l.YELLOW_START,1);h=this._elementManager.addElement(new sb({library:s.spine.T.name},this._tween,
t.SLIDE_2_FRONT,t.SLIDE_2_BACK,1),t.SLIDE_2_FRONT);break;case 2:a.addPiece(l.BLUE_START,1),h=this._elementManager.addElement(new sb({library:s.spine.D.name},this._tween,t.SLIDE_3_FRONT,t.SLIDE_3_BACK,2),t.SLIDE_3_FRONT)}this._carts.push(h);this._slides.push(a);h.setSlide(a);h.setup()}}},_onGenerationComplete:function(){i.get_instance().dispatcher.dispatchEvent(W.request(j.WORLD_GENERATION_COMPLETE))},_onSwapCartLayer:function(a){this._elementManager.addElement(this._carts[a.get_data().get("cart")],
a.get_data().get("layer"))},_onAddSlidePiece:function(a){if(this._gameState==ba.SETUP){var b,c=this._slides[this._slideIndex].pieces[this._slides[this._slideIndex].pieces.length-1];b=5==this._slides[this._slideIndex].get_length()?0<=c.back.pos.x?-1:1:200<c.back.pos.x?-1:-200>c.back.pos.x?1:0==i.get_instance().random.getRandomInt(0,1)?-1:1;var d;d=a.get_data().get("type");switch(qa.enumIndex(d)){case 8:b*=-1}d=P.partDirections.get(c.type).endDirection;c.facing==D.LEFT&&(d=d==D.RIGHT?D.LEFT:D.RIGHT);
var h;h=a.get_data().get("type");h=P.partDirections.get(h).startDirection;-1==b&&(h=h==D.RIGHT?D.LEFT:D.RIGHT);var B=d==D.LEFT&&c.type==l.BUMP,e;e=h==D.RIGHT&&a.get_data().get("type")==l.STRAIGHT;B=!(B&&e);e=!(c.type==l.CURVE&&a.get_data().get("type")==l.CURVE);var f=!(d==D.RIGHT&&c.type==l.BUMP&&h==D.LEFT&&a.get_data().get("type")==l.CURVE),g=!(c.type==l.VERTICAL_LOOP&&a.get_data().get("type")==l.CURVE),j=!(c.type==l.ZIGZAG&&a.get_data().get("type")==l.CURVE),jg=!(c.type==l.RED_START&&a.get_data().get("type")==
l.CURVE),m=!(c.type==l.YELLOW_START&&a.get_data().get("type")==l.CURVE),c=!(c.type==l.BLUE_START&&a.get_data().get("type")==l.CURVE);d!=h&&B&&e&&f&&g&&j&&jg&&m&&c&&this._slides[this._slideIndex].addPiece(l.CONNECTION,d==D.RIGHT?-1:1);a=this._slides[this._slideIndex].addPiece(a.get_data().get("type"),null!=a.get_data().get("facing")?a.get_data().get("facing"):b);if(6==this._slides[this._slideIndex].get_length()){b=l.RED_END;switch(this._slideIndex){case 1:b=l.YELLOW_END;break;case 2:b=l.BLUE_END}this._slides[this._slideIndex].addPiece(b,
1);this._slideIndex++;this._tween.tween(this._elementManager.camera.pos,1,{x:a.back.get_x(),y:this._elementManager.camera.pos.y+350},!0,k.CUBIC);this._tween.tween(this._elementManager.camera.pos,2,{y:0,x:0},!1,k.CUBIC,1);switch(this._slideIndex){case 1:this._frontLayer=t.SLIDE_2_FRONT;this._backLayer=t.SLIDE_2_BACK;break;case 2:this._frontLayer=t.SLIDE_3_FRONT;this._backLayer=t.SLIDE_3_BACK;break;case 3:this._start()}}else this._tween.tween(this._elementManager.camera.pos,1,{x:a.back.get_x(),y:this._cameraYPos[this._slides[this._slideIndex].get_length()-
1]},!0,k.CUBIC)}},_start:function(){var a=this;this._gameState=ba.INTRO;i.get_instance().timer.start(function(){a._startSlide()},4)},_startSlide:function(){i.get_instance().sound.playMusic(s.sound.slide_loop,0.25);this._encodeTrack();this._setGameState(ba.COUNTDOWN)},_checkGameEnd:function(){for(var a=0,b=this._carts;a<b.length;){var c=b[a];++a;if(0!=c.scalarVel)return}this._setGameState(ba.END)},_onZoomInEnd:function(a){null==this._raceWinner&&(this._raceWinner=a.get_data().get("index"));this._zoomCount++;
3==this._zoomCount&&(this._tween.tween(this._elementManager.camera.pos,3,{z:75},!0,k.CUBIC,0,"cam_z"),this._cameraTarget=a.get_data().get("index"))},_encodeTrack:function(){for(var a="",b=0,c=this._slides;b<c.length;){var d=c[b];++b;for(var h=0,d=d.pieces;h<d.length;){var B=d[h];++h;switch(B.type[1]){case 0:a+="A";break;case 2:a+="B";break;case 1:a+="C";break;case 13:a+="D";break;case 8:a+="E";break;case 6:a+="F";break;case 12:a+="G";break;case 4:a+="H";break;case 5:a+="I";break;case 11:a+="J";break;
case 3:a+="K";break;case 9:a+="L";break;case 10:a+="M";break;case 7:a+="N";break;case 14:a+="O";break;case 16:a+="P";break;case 15:a+="Q"}switch(B.facing[1]){case 0:a+="1";break;case 1:a+="0"}}a+="/"}i.get_instance().setString(q.STRING_SLIDE_CODE,a)},_decodeTrack:function(){for(var a=i.get_instance().getString(q.STRING_SLIDE_CODE),b=[],c=0;3>c;)c++,b.push({parts:[],facings:[]});for(var d=c=0,h=a.length;d<h;){var B=d++;switch(a.charAt(B)){case "A":b[c].parts.push(l.RED_START);break;case "B":b[c].parts.push(l.YELLOW_START);
break;case "C":b[c].parts.push(l.BLUE_START);break;case "D":b[c].parts.push(l.CONNECTION);break;case "E":b[c].parts.push(l.CURVE);break;case "F":b[c].parts.push(l.DOUBLE_LOOP);break;case "G":b[c].parts.push(l.DROP);break;case "H":b[c].parts.push(l.BUMP);break;case "I":b[c].parts.push(l.SINGLE_LOOP);break;case "J":b[c].parts.push(l.STEPS);break;case "K":b[c].parts.push(l.STRAIGHT);break;case "L":b[c].parts.push(l.TUNNEL);break;case "M":b[c].parts.push(l.VERTICAL_LOOP);break;case "N":b[c].parts.push(l.ZIGZAG);
break;case "O":b[c].parts.push(l.RED_END);break;case "P":b[c].parts.push(l.YELLOW_END);break;case "Q":b[c].parts.push(l.BLUE_END)}switch(a.charAt(B)){case "0":b[c].facings.push(D.LEFT);break;case "1":b[c].facings.push(D.RIGHT)}"/"==a.charAt(B)&&c++}return b},_setupReplay:function(){for(var a=this._decodeTrack(),b=null,c=null,d=null,h=null,B=null,e=0;3>e;){var f=e++;switch(f){case 0:c=va.RED;d=t.SLIDE_1_FRONT;h=t.SLIDE_1_BACK;B=new sb({library:s.spine.R.name},this._tween,d,h,f);break;case 1:c=va.YELLOW;
d=t.SLIDE_2_FRONT;h=t.SLIDE_2_BACK;B=new sb({library:s.spine.T.name},this._tween,d,h,f);break;case 2:c=va.BLUE,d=t.SLIDE_3_FRONT,h=t.SLIDE_3_BACK,B=new sb({library:s.spine.D.name},this._tween,d,h,f)}for(var b=new bd(this._elementManager,c,d,h,this._tween),g=0,j=a[f].parts.length;g<j;){var i=g++;b.addPiece(a[f].parts[i],a[f].facings[i]==D.RIGHT?1:-1)}this._elementManager.addElement(B,d);B.setSlide(b);this._carts.push(B);this._slides.push(b);B.setup()}this._setGameState(ba.COUNTDOWN)},__class__:me};
var Z=g["com.sprout.rrtd.super_slide.world.elements.CART_STATE"]={__ename__:!0,__constructs__:"IDLE,MANUAL,AUTO,TURNING,STOP,FLY".split(",")};Z.IDLE=["IDLE",0];Z.IDLE.toString=f;Z.IDLE.__enum__=Z;Z.MANUAL=["MANUAL",1];Z.MANUAL.toString=f;Z.MANUAL.__enum__=Z;Z.AUTO=["AUTO",2];Z.AUTO.toString=f;Z.AUTO.__enum__=Z;Z.TURNING=["TURNING",3];Z.TURNING.toString=f;Z.TURNING.__enum__=Z;Z.STOP=["STOP",4];Z.STOP.toString=f;Z.STOP.__enum__=Z;Z.FLY=["FLY",5];Z.FLY.toString=f;Z.FLY.__enum__=Z;Z.__empty_constructs__=
[Z.IDLE,Z.MANUAL,Z.AUTO,Z.TURNING,Z.STOP,Z.FLY];var ub=function(a){H.call(this,a);var b=a.library,c=i.get_instance().assets.getAsset(b).path,c=c.substring(0,c.lastIndexOf("/")+1),c=new re(i.get_instance().assets.getFile(b+".atlas").toString(),new cd(c,i.get_instance().assets.getAsset(b).pack.pack)),c=(new X(new tb(c))).readSkeletonData(i.get_instance().assets.getFile(b+".json").toString(),b),b=new se(c);this._state=new te(b);this._renderer=new dd(c,a.debug);this._skeleton=this._renderer.skeleton;
this._skeleton.updateWorldTransform();this._animationsSpine=new N;b=0;for(c=c.animations;b<c.length;){var d=c[b];++b;a.trace&&null;this._animationsSpine.set(d.get_name(),d)}this._state.onStart.add(p(this,this._onAnimationStart));this._state.onComplete.add(p(this,this._onAnimationCompleted));this._state.onEvent.add(p(this,this._onAnimationEvent));this.addChild(this._renderer);this._bounds=new ue;this._boundsRegion=new ve(this._renderer)};g["com.workinman.display.spine.SpineElement"]=ub;ub.__name__=
!0;ub.__super__=H;ub.prototype=v(H.prototype,{dispose:function(){this._state.onStart.remove(p(this,this._onAnimationStart));this._state.onComplete.remove(p(this,this._onAnimationCompleted));this._state.onEvent.remove(p(this,this._onAnimationEvent));this._bounds.dispose();this._bounds=null;this._boundsRegion.dispose();this._boundsRegion=null;this._state.dispose();this._renderer=this._animationsSpine=this._skeleton=this._state=null;H.prototype.dispose.call(this)},runUpdate:function(a){H.prototype.runUpdate.call(this,
a);this._state.update(a);this._state.apply(this._skeleton);this._skeleton.updateWorldTransform()},hasAnimation:function(a){return this._animationsSpine.exists(a)},animate:function(a,b,c,d,h){null==h&&(h=!1);null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);this._doAnimate(a,b,!1,0,c,d,h);return this},_doAnimate:function(a,b,c,d,h,B,e){null==e&&(e=!1);null==B&&(B=0);null==h&&(h=1);e&&this._skeleton.setToSetupPose();if(this.hasAnimation(a)){if(c=c?this._state.addAnimationByName(B,a,0==b,d):this._state.setAnimationByName(B,
a,0==b),c.timeScale=h,0<b)for(d=1;d<b;)d++,c=this._state.addAnimationByName(B,a,!1,0),c.timeScale=h}else null},_onAnimationStart:function(a){this._currentAnimation=this._state.getCurrent(a).animation.get_name()},_onAnimationCompleted:function(){},_onAnimationEvent:function(a,b){b.get_data().get_name()},__class__:ub});var sb=function(a,b,c,d,h){this._JUMP_TIME=2;ub.call(this,a);this._frontLayer=c;this._backLayer=d;this._layer=this._frontLayer;this._xAcc=0;this._tween=b;this._segmentIndex=this._slidePartIndex=
0;this._cartState=Z.IDLE;this.set_originY(1);this.set_scale(0.45);this.alpha=0;this._index=h;this._jumpTimer=this._JUMP_TIME+i.get_instance().random.getRandomFloat(0,0.5);this._direction=E.request()};g["com.sprout.rrtd.super_slide.world.elements.Cart"]=sb;sb.__name__=!0;sb.__super__=ub;sb.prototype=v(ub.prototype,{get_currentSlidePart:function(){return this._slide.pieces[this._slidePartIndex]},get_currentSegment:function(){return this.get_currentSlidePart().segments[this._segmentIndex]},dispose:function(){ub.prototype.dispose.call(this);
this._slide=this._tween=null;this._direction.dispose();this._direction=null},setSlide:function(a){this._slide=a},setup:function(){this.alpha=1;this.pos.x=this.get_currentSegment().get_p0().x;this.pos.y=this.get_currentSegment().get_p0().y;this._baseX=this.get_x();this._baseY=this.get_y();this.animate(s.spine.R.animations.side)},start:function(){this._setState(Z.AUTO);this.set_x(this._baseX);this.set_y(this._baseY);this.scalarVel=50+i.get_instance().random.getRandomFloat(-10,10);this._xAcc=(3*(Math.abs(this.get_currentSegment().get_p1().y-
this.get_currentSegment().get_p0().y)/this.get_currentSegment().get_length())-0.15)*(this.get_currentSlidePart().facing==D.RIGHT?1:-1);this._tween.tween(this,0.1,{rotation:180*Math.atan(this.get_currentSegment().get_slope())/Math.PI},!0,k.LINEAR);this._direction.x=this.get_currentSegment().get_vector().x/this.get_currentSegment().get_length();this._direction.y=this.get_currentSegment().get_vector().y/this.get_currentSegment().get_length()},update:function(a){ub.prototype.update.call(this,a);var b=
!1,c=this.scaleX;this.scaleX=0<=this._direction.x?0.45:-0.45;this.scaleX!=c&&(b=!0);this._cartState!=Z.STOP&&this.get_currentSlidePart().type==l.VERTICAL_LOOP&&9<=this._segmentIndex&&16>=this._segmentIndex&&(this.scaleX*=-1);switch(this._cartState[1]){case 0:this._jumpTimer-=a;0>=this._jumpTimer&&(this._jumpTimer=this._JUMP_TIME+i.get_instance().random.getRandomFloat(0,0.5),this.velocity.y=-200,this.pos.y-=1);this.pos.y<this._baseY&&(this.velocity.y+=500*a,this.pos.y+=this.velocity.y*a,this.pos.y>
this._baseY&&(this.pos.y=this._baseY));break;case 2:this.velocity.y=0;if(0<this._direction.x&&this.pos.x>this.get_currentSegment().get_p1().x||0>this._direction.x&&this.pos.x<this.get_currentSegment().get_p1().x)if(this._segmentIndex==this.get_currentSlidePart().segments.length-1){this._segmentIndex=0;this._slidePartIndex++;if(null==this.get_currentSlidePart()){this._setState(Z.STOP);break}this._layer=this._frontLayer;i.get_instance().dispatcher.dispatchEvent(W.request(j.SWAP_CART_LAYER,function(a){var b=
new N;b.set("cart",a._index);b.set("layer",a._layer);return b}(this)));c=Math.abs(this.get_currentSegment().get_p1().y-this.get_currentSegment().get_p0().y)/this.get_currentSegment().get_length();this.get_currentSlidePart().type==l.CONNECTION?this.get_currentSlidePart().type==l.CONNECTION&&(0==this._segmentIndex?this._xAcc=-1.5:1==this._segmentIndex&&(this._xAcc=1.5)):this._xAcc=3*c*i.get_instance().random.getRandomFloat(0.3,0.5);c=0;if(this.get_currentSlidePart().type==l.CONNECTION)for(var d=0,h=
this.get_currentSlidePart().segments;d<h.length;){var B=h[d];++d;c+=B.get_length()}else c=this.get_currentSegment().get_length();d=180*Math.atan(this.get_currentSegment().get_slope())/Math.PI;b?this.rotation=d:40<Math.abs(d-this.rotation)&&(this.rotation+=(d-this.rotation)/2);this._tween.tween(this,c/this.scalarVel,{rotation:d},!0,k.LINEAR);this._direction.x=this.get_currentSegment().get_vector().x/this.get_currentSegment().get_length();this._direction.y=this.get_currentSegment().get_vector().y/this.get_currentSegment().get_length();
this.pos.toPoint(this.get_currentSegment().get_p0())}else if(this._segmentIndex++,null!=this.get_currentSegment()){if(-1!=this.get_currentSlidePart().layerSwapSegments.indexOf(this._segmentIndex)){if(this.get_currentSlidePart().type==l.RED_START||this.get_currentSlidePart().type==l.BLUE_START||this.get_currentSlidePart().type==l.YELLOW_START){c=null;switch(this._index){case 0:c=t.SLIDE_1_BG;break;case 1:c=t.SLIDE_2_BG;break;case 2:c=t.SLIDE_3_BG}this._layer=this._layer!=c?c:this._frontLayer}else this._layer=
this._layer==this._backLayer?this._frontLayer:this._backLayer;i.get_instance().dispatcher.dispatchEvent(W.request(j.SWAP_CART_LAYER,function(a){var b=new N;b.set("cart",a._index);b.set("layer",a._layer);return b}(this)))}c=Math.abs(this.get_currentSegment().get_p1().y-this.get_currentSegment().get_p0().y)/this.get_currentSegment().get_length();this.get_currentSlidePart().type==l.CONNECTION?0==this._segmentIndex?this._xAcc=-5:1==this._segmentIndex&&(this._xAcc=5):this._xAcc=3*c*i.get_instance().random.getRandomFloat(0.3,
0.5);this.get_currentSlidePart().type==l.VERTICAL_LOOP&&9<=this._segmentIndex&&16>=this._segmentIndex?this.rotation=180*Math.atan(this.get_currentSegment().get_slope())/Math.PI+180:(c=180*Math.atan(this.get_currentSegment().get_slope())/Math.PI,b?this.rotation=c:40<Math.abs(c-this.rotation)&&(this.rotation+=0.6*(c-this.rotation)),this._tween.tween(this,this.get_currentSegment().get_length()/this.scalarVel,{rotation:c},!0,k.LINEAR));this._direction.x=this.get_currentSegment().get_vector().x/this.get_currentSegment().get_length();
this._direction.y=this.get_currentSegment().get_vector().y/this.get_currentSegment().get_length();this.pos.toPoint(this.get_currentSegment().get_p0())}else{this._setState(Z.FLY);break}this.get_currentSlidePart().type==l.VERTICAL_LOOP?this.animate(s.spine.R.animations.side):this.get_currentSlidePart().type!=l.CONNECTION&&(0.05>Math.abs(this._direction.x)?0<this._direction.y?this.animate(s.spine.R.animations.front):this.animate(s.spine.R.animations.back):0.8<Math.abs(this.get_currentSegment().get_slope())&&
1.2>Math.abs(this.get_currentSegment().get_slope())&&0>this._direction.y?this.animate(s.spine.R.animations._34):this.animate(s.spine.R.animations.side));this.scalarVel+=this._xAcc;this.scalarVel=Za.clamp(this.scalarVel,0,400);this.pos.x+=this.scalarVel*a*this._direction.x*(this.get_currentSlidePart().type==l.CONNECTION?0.5:1);this.pos.y+=this.scalarVel*a*this._direction.y*(this.get_currentSlidePart().type==l.CONNECTION?0.5:1);break;case 5:this.velocity.y+=500*a;this.pos.y+=this.velocity.y*a;this.pos.x+=
Za.clamp(this.scalarVel,0,300)*a*this._direction.x;this.rotation=0>this._direction.x?180*-Math.atan2(this.velocity.y,-this.scalarVel*this._direction.x)/Math.PI:180*Math.atan2(this.velocity.y,this.scalarVel*this._direction.x)/Math.PI;a=this.get_currentSlidePart().segments[this._segmentIndex+1];c=(this.pos.x-a.get_p0().x)/(a.get_p1().x-a.get_p0().x);0<c&&(a=a.getNewPoint(c),this.pos.y>=a.y&&(this._setState(Z.AUTO),i.get_instance().sound.playSound(s.sound.thud,0.5),this._segmentIndex++,this._xAcc=(3*
(Math.abs(this.get_currentSegment().get_p1().y-this.get_currentSegment().get_p0().y)/this.get_currentSegment().get_length())-0.5)*(0<this.velocity.x?1:-1),c=180*Math.atan(this.get_currentSegment().get_slope())/Math.PI,b?this.rotation=c:40<Math.abs(c-this.rotation)&&(this.rotation+=(c-this.rotation)/2),this._tween.tween(this,0.1,{rotation:c},!0,k.LINEAR),this._direction.x=this.get_currentSegment().get_vector().x/this.get_currentSegment().get_length(),this._direction.y=this.get_currentSegment().get_vector().y/
this.get_currentSegment().get_length(),this.pos.toPoint(a)));break;case 4:this.pos.x+=this.scalarVel*a*this._direction.x,600<=this.pos.x&&(this._tween.hasTween(this)||this._tween.tween(this,2,{scalarVel:0},!1,k.CUBIC_OUT,0,"cart_vel_end"))}},_setState:function(a){this._cartState=a;switch(this._cartState[1]){case 5:this.animate(s.spine.R.animations.side);break;case 4:switch(this._index){case 0:this._tween.tween(this,2,{y:1550},!1,k.CUBIC,0,"cart_y");break;case 1:this._tween.tween(this,2,{y:1500},!1,
k.CUBIC,0,"cart_y");break;case 2:this._tween.tween(this,2,{y:1450},!1,k.CUBIC,0,"cart_y")}this.animate(s.spine.R.animations.side);this._direction.to(1,0);this._xAcc=-300;this._tween.tween(this,0.1,{rotation:0},!0,k.CUBIC,0,"cart_rot");i.get_instance().dispatcher.dispatchEvent(W.request(j.ZOOM_IN_END,function(a){var c=new N;c.set("index",a._index);return c}(this)))}},isStopping:function(){return this._cartState==Z.STOP},__class__:sb,__properties__:v(ub.prototype.__properties__,{get_currentSegment:"get_currentSegment",
get_currentSlidePart:"get_currentSlidePart"})});var T=g["com.sprout.rrtd.super_slide.world.elements._TutorialHand.TUTORIAL_STATE"]={__ename__:!0,__constructs__:"_STATE_NONE,_STATE_IDLE,_STATE_POINT_ANIM,_STATE_POINT_TWEEN,_STATE_TAP,_STATE_GOOD_JOB".split(",")};T._STATE_NONE=["_STATE_NONE",0];T._STATE_NONE.toString=f;T._STATE_NONE.__enum__=T;T._STATE_IDLE=["_STATE_IDLE",1];T._STATE_IDLE.toString=f;T._STATE_IDLE.__enum__=T;T._STATE_POINT_ANIM=["_STATE_POINT_ANIM",2];T._STATE_POINT_ANIM.toString=f;
T._STATE_POINT_ANIM.__enum__=T;T._STATE_POINT_TWEEN=["_STATE_POINT_TWEEN",3];T._STATE_POINT_TWEEN.toString=f;T._STATE_POINT_TWEEN.__enum__=T;T._STATE_TAP=["_STATE_TAP",4];T._STATE_TAP.toString=f;T._STATE_TAP.__enum__=T;T._STATE_GOOD_JOB=["_STATE_GOOD_JOB",5];T._STATE_GOOD_JOB.toString=f;T._STATE_GOOD_JOB.__enum__=T;T.__empty_constructs__=[T._STATE_NONE,T._STATE_IDLE,T._STATE_POINT_ANIM,T._STATE_POINT_TWEEN,T._STATE_TAP,T._STATE_GOOD_JOB];var $c=function(a,b){a.asset=s.texture.hand;a.scale=0.6;H.call(this,
a);this._tween=b;this._initScale=this.scale;this.alpha=0;this._setState(T._STATE_NONE)};g["com.sprout.rrtd.super_slide.world.elements.TutorialHand"]=$c;$c.__name__=!0;$c.__super__=H;$c.prototype=v(H.prototype,{_setState:function(a){this._state=a;switch(this._state[1]){case 0:0<this.alpha&&this._tween.tween(this,0.2,{alpha:0},!0,k.OUT,0,"alpha");break;case 2:this.set_scale(this._initScale);this.alpha=1;break;case 3:this.set_scale(this._initScale);1>this.alpha&&this._tween.tween(this,0.2,{alpha:1},
!0,k.OUT,0,"alpha");this._pointDown();break;case 4:this.set_scale(this._initScale);this.rotation=45;this.alpha=1;this._tween.tween(this,0.2,{alpha:1},!0,k.OUT,0,"alpha");this._tapGrowIn();break;case 5:this.set_scale(this._initScale);this.rotation=0;this._tween.tween(this,0.2,{alpha:1},!0,k.OUT,0,"alpha");this._tween.tween(this,0.2,{scale:1.2*this._initScale},!0,k.OUT,0,"scale");this._tween.tween(this,0.2,{scale:this._initScale},!1,k.IN,0,"scale");i.get_instance().timer.start(p(this,this._fadeOut),
1);break;case 1:this.set_scale(this._initScale),this.alpha=1}},_fadeOut:function(){this._state==T._STATE_GOOD_JOB&&(this._tween.tween(this,0.2,{alpha:0},!0,k.OUT,0,"alpha"),this._tween.tween(this,0.2,{scale:0.2},!0,k.OUT,0,"scale").onComplete(p(this,this._fadeOutComplete)))},_fadeOutComplete:function(){this._setState(T._STATE_NONE)},_tapGrowIn:function(){if(this._state==T._STATE_TAP)this._tween.tween(this,0.2,{scale:1.2*this._initScale},!0,k.OUT,0,"scale").onComplete(p(this,this._tapGrowOut))},_tapGrowOut:function(){if(this._state==
T._STATE_TAP)this._tween.tween(this,0.2,{scale:this._initScale},!0,k.IN,0,"scale").onComplete(p(this,this._tapGrowIn))},_pointDown:function(){if(this._state==T._STATE_POINT_TWEEN)this._tween.tween(this,0.2,{offsetY:10},!0,k.OUT).onComplete(p(this,this._pointUp))},_pointUp:function(){if(this._state==T._STATE_POINT_TWEEN)this._tween.tween(this,0.2,{offsetY:0},!0,k.IN).onComplete(p(this,this._pointDown))},showNone:function(){this._setState(T._STATE_NONE)},showPointAnim:function(a,b,c){null==c&&(c=0);
this.pos.x=a;this._initPosY=this.pos.y=b;this.rotation=c;this._setState(T._STATE_POINT_ANIM)},showPointTween:function(a,b,c){null==c&&(c=0);this.pos.x=a;this._initPosY=this.pos.y=b;this.rotation=c;this._setState(T._STATE_POINT_TWEEN);null},showTap:function(a,b){this.pos.x=a;this.pos.y=b;this._setState(T._STATE_TAP)},showGoodJob:function(a,b){var c=this;if(this._state!=T._STATE_NONE)this._tween.tween(this,0.2,{alpha:0},!0,k.OUT,0,"alpha").onComplete(function(){c.pos.x=a;c.pos.y=b;c._setState(T._STATE_GOOD_JOB)});
else this.pos.x=a,this.pos.y=b,this._setState(T._STATE_GOOD_JOB)},showIdle:function(a,b){this.pos.x=a;this.pos.y=b;this._setState(T._STATE_IDLE)},dispose:function(){H.prototype.dispose.call(this)},update:function(a){H.prototype.update.call(this,a)},__class__:$c});var ad=function(a,b,c,d){H.call(this,{asset:a,x:b,y:c,z:d});this.velocity.x=25+i.get_instance().random.getRandomInt(-15,15)};g["com.sprout.rrtd.super_slide.world.elements.WorldCloud"]=ad;ad.__name__=!0;ad.__super__=H;ad.prototype=v(H.prototype,
{__class__:ad});var we=function(a){this._animations=new N;this._queuedAnimations=[];this._currentAnimDef=null;this._lastFrame=-1;this._currentFrame=0;this.currentAnimation="";this.fps=24;this._animationStopped=!0;this._library="";this._loopComplete=!1;this._symbol="";this._realFrame=0;H.call(this,a)};g["com.workinman.display.AnimatedElement"]=we;we.__name__=!0;we.__super__=H;we.prototype=v(H.prototype,{dispose:function(){for(var a=this._animations.iterator();a.hasNext();)a.next().dispose();this._currentAnimDef=
this._animations=null;this.clearQueue();this.currentAnimation=this.animationCompleteDelegate=this._queuedAnimations=null;H.prototype.dispose.call(this)},setFps:function(a){this.fps=a;return this},get_animationRatio:function(){return(this._currentFrame-this._currentAnimDef.get_start())/(this._currentAnimDef.get_end()-this._currentAnimDef.get_end())},set_animationRatio:function(a){this._newFrame=Math.floor(a*(this._currentAnimDef.get_end()-this._currentAnimDef.get_start())+this._currentAnimDef.get_start());
this._newFrame!=this._currentFrame&&this.set_animationFrame(this._newFrame);return this.get_animationRatio()},get_animationFrame:function(){return this._currentFrame|0},set_animationFrame:function(a){this._currentFrame=this._realFrame=a;this._setFrame(this._realFrame);this.stopAnimation();return this._currentFrame|0},get_isPlaying:function(){return""!=this.currentAnimation&&!0==this._doLoop()&&!1==this._animationStopped},get_animationFrameRelative:function(){return C["int"](this._currentFrame-this._currentAnimDef.get_start())},
set_animationFrameRelative:function(a){this._currentFrame=this._currentAnimDef.get_start()+a;return this.get_animationFrameRelative()},get_frames:function(){return""==this._symbol?0:Math.floor(this._frames)},addAnimationFlump:function(a,b,c){this._animations.exists(a)&&this._animations.get(a).dispose();b=zb.request(a,b-1,c-1);this._animations.set(a,b);return this},addAnimationFrames:function(a,b){this._animations.exists(a)&&this._animations.get(a).dispose();var c=zb.request(a,-1,-1,b);this._animations.set(a,
c);return this},animate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.clearQueue();this._doAnimate(a,b,c);return this},_doAnimate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.currentAnimation==a&&!1==c||(null!=this._animations&&this._animations.exists(a)?(this._currentAnimDef=null,this._currentAnimDef=this._animations.get(a),this._currentAnimDef.get_reverse()?(this.reverse=!0,this._currentFrame=this._currentAnimDef.get_end()):(this.reverse=!1,this._currentFrame=this._currentAnimDef.get_start()),
this.currentAnimation=a,this.setLoop(b),this._animationStopped=!1,this._setFrame(this._currentFrame)):null)},setLoop:function(a){this._currentLoop=a;this._flagLoop=0==a;return this},stopAnimation:function(){this._animationStopped=!0},startAnimation:function(){this._animationStopped=!1},hasAnimation:function(a){return this._animations.exists(a)},queueAnimation:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this._queuedAnimations.push(Eb.request(a,b,c));return this},clearQueue:function(){for(;0<this._queuedAnimations.length;)this._queuedAnimations.pop().dispose()},
update:function(a){H.prototype.update.call(this,a);this._runAnimation(a)},_doLoop:function(){return 0<this._currentLoop||this._flagLoop},_runAnimation:function(a){this.get_isPlaying()&&(this._currentFrame+=this.fps*a,Math.floor(this._currentFrame)>this._currentAnimDef.get_end()&&(this._currentFrame=this._currentAnimDef.get_start()+(this._currentFrame-Math.floor(this._currentFrame)),this._loopComplete=!0),!0==this._loopComplete&&(this._loopComplete=!1,this._currentLoop--,!1==this._doLoop()&&(this._animationStopped=
!0,this._currentFrame=this._currentAnimDef.get_end(),0<this._queuedAnimations.length?(this._doAnimate(this._queuedAnimations[0].get_name(),this._queuedAnimations[0].get_loops(),this._queuedAnimations[0].get_force()),this._queuedAnimations[0].dispose(),this._queuedAnimations.splice(0,1)):(this._onAnimationComplete(),null!=this.animationCompleteDelegate&&this.animationCompleteDelegate()))),this._realFrame=this.reverse?this._currentAnimDef.get_end()-(this._currentFrame-this._currentAnimDef.get_start())+
1:this._currentFrame,this._realFrame!=this._lastFrame&&this._setFrame(this._realFrame))},_setFrame:function(a){this.setAsset(this._currentAnimDef.get_frameIds()[Math.floor(a-1)])},_onAnimationComplete:function(){},__class__:we,__properties__:v(H.prototype.__properties__,{get_frames:"get_frames",set_animationFrameRelative:"set_animationFrameRelative",get_animationFrameRelative:"get_animationFrameRelative",get_isPlaying:"get_isPlaying",set_animationFrame:"set_animationFrame",get_animationFrame:"get_animationFrame",
set_animationRatio:"set_animationRatio",get_animationRatio:"get_animationRatio"})});var yb=function(){};g["com.sprout.rrtd.super_slide.world.elements.effects.ConstantsParticle"]=yb;yb.__name__=!0;yb.sparks=function(a,b,c,d){for(var h=0;h<d;)h++,i.get_instance().dispatcher.dispatchEvent(W.request(j.SPAWN_PARTICLE,function(){var d=new N;d.set("data",{type:R.SPARKS,life:0.3,asset:c,alpha:1,x:a+i.get_instance().random.getRandomFloat(-10,10),y:b+i.get_instance().random.getRandomFloat(-10,10),layer:t.WORLD,
scale:0.5,velX:i.get_instance().random.getRandomFloat(-250,250),velY:i.get_instance().random.getRandomFloat(-750,0),useGravity:!0,fadeOutTime:0.5+i.get_instance().random.getRandomFloat(0,0.25)});return d}(this)))};yb.confetti=function(a,b,c,d,h){for(var B=0;B<d;)B++,i.get_instance().dispatcher.dispatchEvent(W.request(j.SPAWN_PARTICLE,function(){var d=new N;d.set("data",{type:R.CONFETTI,life:0.75,asset:c,alpha:1,x:a+i.get_instance().random.getRandomFloat(-150,150),y:b+i.get_instance().random.getRandomFloat(-10,
10),z:100,layer:h,scale:0.6,velX:i.get_instance().random.getRandomFloat(-250,250),velY:i.get_instance().random.getRandomFloat(200,450),rotateWithVel:!0,fadeOutTime:0.5+i.get_instance().random.getRandomFloat(0,0.25)});return d}(this)))};var R=g["com.sprout.rrtd.super_slide.world.elements.effects.PARTICLE_TYPE"]={__ename__:!0,__constructs__:"BASIC,KNIGHT_SPARKLE,LEAVES,ACORN,BUBBLE,BOOMERANG,PETAL,SPARKS,CONFETTI".split(",")};R.BASIC=["BASIC",0];R.BASIC.toString=f;R.BASIC.__enum__=R;R.KNIGHT_SPARKLE=
["KNIGHT_SPARKLE",1];R.KNIGHT_SPARKLE.toString=f;R.KNIGHT_SPARKLE.__enum__=R;R.LEAVES=["LEAVES",2];R.LEAVES.toString=f;R.LEAVES.__enum__=R;R.ACORN=["ACORN",3];R.ACORN.toString=f;R.ACORN.__enum__=R;R.BUBBLE=["BUBBLE",4];R.BUBBLE.toString=f;R.BUBBLE.__enum__=R;R.BOOMERANG=["BOOMERANG",5];R.BOOMERANG.toString=f;R.BOOMERANG.__enum__=R;R.PETAL=["PETAL",6];R.PETAL.toString=f;R.PETAL.__enum__=R;R.SPARKS=["SPARKS",7];R.SPARKS.toString=f;R.SPARKS.__enum__=R;R.CONFETTI=["CONFETTI",8];R.CONFETTI.toString=f;
R.CONFETTI.__enum__=R;R.__empty_constructs__=[R.BASIC,R.KNIGHT_SPARKLE,R.LEAVES,R.ACORN,R.BUBBLE,R.BOOMERANG,R.PETAL,R.SPARKS,R.CONFETTI];var ed=function(a){H.call(this,a);this._type=null==a.type?R.BASIC:a.type;this._tween=a.tween;this._life=null==a.life?this._lifeMax=0.1:this._lifeMax=a.life;this._gravity=2E3;this._useGravity=null!=a.useGravity?a.useGravity:!1;this.velocity.x=null!=a.velX?a.velX:0;this.velocity.y=null!=a.velY?a.velY:0;this._floor=null!=a.floor?a.floor:null;this._fadeInTime=null!=
a.fadeInTime?a.fadeInTime:0;this._fadeOutTime=null!=a.fadeOutTime?a.fadeOutTime:0;this.bufferTime=null!=a.bufferTime?a.bufferTime:-1;this._rotateWithVel=null!=a.rotateWithVel?a.rotateWithVel:!1;this._oscillateDist=null!=a.oscillateDist?a.oscillateDist:null;this._start()};g["com.sprout.rrtd.super_slide.world.elements.effects.ParticleBase"]=ed;ed.__name__=!0;ed.__super__=H;ed.prototype=v(H.prototype,{dispose:function(){H.prototype.dispose.call(this);this._tween.stop(this);this._tween=null},_start:function(){switch(this._type[1]){case 1:this._tween.tween(this,
0.2,{alpha:1},!0,k.CUBIC_OUT);this._tween.tween(this,this._lifeMax-0.2,{alpha:0,scaleX:1.25*this.scaleX,scaleY:1.25*this.scaleY},!1,k.CUBIC_OUT);break;case 2:this._tween.tween(this,this._fadeInTime,{alpha:1},!0,k.CUBIC_OUT);break;case 3:this._tween.tween(this,this._fadeInTime,{alpha:1},!0,k.CUBIC_OUT);break;case 4:var a=this.scale;this.set_scale(0);this._tween.tween(this,0.2,{scale:a},!1,k.CUBIC_IN);break;case 6:this.alpha=1;this._tween.tween(this,this._lifeMax-0.1,{alpha:0},!1,k.LINEAR).delay(0.1);
break;case 7:this._tween.tween(this,0.05,{alpha:1},!0,k.CUBIC_OUT);break;case 8:this._tween.tween(this,0.05,{alpha:1},!0,k.CUBIC_OUT);break;default:this._tween.tween(this,0.85*this._lifeMax,{alpha:0,scaleX:1.25*this.scaleX,scaleY:1.25*this.scaleY},!0,k.CUBIC_OUT).delay(0.15*this._lifeMax)}},update:function(a){var b=this;H.prototype.update.call(this,a);0<this.bufferTime&&(this.bufferTime-=a,0>this.bufferTime&&(this.bufferTime=0));this._useGravity&&(this.velocity.y+=this._gravity*a);this.pos.add(this.velocity.x*
a,this.velocity.y*a);null!=this._floor&&this.pos.y>=this._floor&&(this.pos.y=this._floor,this._useGravity=!1,this.velocity.to(0,0));this._rotateWithVel&&(this.rotation+=0.5*(this.velocity.x+this.velocity.y)*a);if(0!=this._life&&(this._life-=a,0>=this._life))if(this._life=0,null!=this._fadeOutTime)this._tween.tween(this,this._fadeOutTime,{alpha:0},!0,k.CUBIC_IN).onComplete(function(){b.doDelete=!0});else this.doDelete=!0},__class__:ed});var Yc=function(a,b){this._tween=a;this._elementManager=b;i.get_instance().dispatcher.addEventListener(j.SPAWN_PARTICLE,
p(this,this._onSpawnParticle))};g["com.sprout.rrtd.super_slide.world.elements.effects.ParticleManager"]=Yc;Yc.__name__=!0;Yc.prototype={dispose:function(){this._tween=this._elementManager=null;i.get_instance().dispatcher.removeEventListener(j.SPAWN_PARTICLE,p(this,this._onSpawnParticle))},_onSpawnParticle:function(a){a=a.get_data().get("data");a.tween=this._tween;this._elementManager.addElement(new ed(a),a.layer)},__class__:Yc};var l=g["com.sprout.rrtd.super_slide.world.elements.slides.PART_TYPE"]=
{__ename__:!0,__constructs__:"RED_START,BLUE_START,YELLOW_START,STRAIGHT,BUMP,SINGLE_LOOP,DOUBLE_LOOP,ZIGZAG,CURVE,TUNNEL,VERTICAL_LOOP,STEPS,DROP,CONNECTION,RED_END,BLUE_END,YELLOW_END".split(",")};l.RED_START=["RED_START",0];l.RED_START.toString=f;l.RED_START.__enum__=l;l.BLUE_START=["BLUE_START",1];l.BLUE_START.toString=f;l.BLUE_START.__enum__=l;l.YELLOW_START=["YELLOW_START",2];l.YELLOW_START.toString=f;l.YELLOW_START.__enum__=l;l.STRAIGHT=["STRAIGHT",3];l.STRAIGHT.toString=f;l.STRAIGHT.__enum__=
l;l.BUMP=["BUMP",4];l.BUMP.toString=f;l.BUMP.__enum__=l;l.SINGLE_LOOP=["SINGLE_LOOP",5];l.SINGLE_LOOP.toString=f;l.SINGLE_LOOP.__enum__=l;l.DOUBLE_LOOP=["DOUBLE_LOOP",6];l.DOUBLE_LOOP.toString=f;l.DOUBLE_LOOP.__enum__=l;l.ZIGZAG=["ZIGZAG",7];l.ZIGZAG.toString=f;l.ZIGZAG.__enum__=l;l.CURVE=["CURVE",8];l.CURVE.toString=f;l.CURVE.__enum__=l;l.TUNNEL=["TUNNEL",9];l.TUNNEL.toString=f;l.TUNNEL.__enum__=l;l.VERTICAL_LOOP=["VERTICAL_LOOP",10];l.VERTICAL_LOOP.toString=f;l.VERTICAL_LOOP.__enum__=l;l.STEPS=
["STEPS",11];l.STEPS.toString=f;l.STEPS.__enum__=l;l.DROP=["DROP",12];l.DROP.toString=f;l.DROP.__enum__=l;l.CONNECTION=["CONNECTION",13];l.CONNECTION.toString=f;l.CONNECTION.__enum__=l;l.RED_END=["RED_END",14];l.RED_END.toString=f;l.RED_END.__enum__=l;l.BLUE_END=["BLUE_END",15];l.BLUE_END.toString=f;l.BLUE_END.__enum__=l;l.YELLOW_END=["YELLOW_END",16];l.YELLOW_END.toString=f;l.YELLOW_END.__enum__=l;l.__empty_constructs__=[l.RED_START,l.BLUE_START,l.YELLOW_START,l.STRAIGHT,l.BUMP,l.SINGLE_LOOP,l.DOUBLE_LOOP,
l.ZIGZAG,l.CURVE,l.TUNNEL,l.VERTICAL_LOOP,l.STEPS,l.DROP,l.CONNECTION,l.RED_END,l.BLUE_END,l.YELLOW_END];var D=g["com.sprout.rrtd.super_slide.world.elements.slides.FACING"]={__ename__:!0,__constructs__:["RIGHT","LEFT"]};D.RIGHT=["RIGHT",0];D.RIGHT.toString=f;D.RIGHT.__enum__=D;D.LEFT=["LEFT",1];D.LEFT.toString=f;D.LEFT.__enum__=D;D.__empty_constructs__=[D.RIGHT,D.LEFT];var P=function(a,b){this.facing=1==a?D.RIGHT:D.LEFT;this.color=b;this.segments=[];this.layerSwapSegments=[];this.front=new H({scaleX:this.facing==
D.RIGHT?1:-1});this.back=new H({scaleX:this.facing==D.RIGHT?1:-1})};g["com.sprout.rrtd.super_slide.world.elements.slides.SlidePart"]=P;P.__name__=!0;P.prototype={dispose:function(){this.leftRegPoint.dispose();this.leftRegPoint=null;this.rightRegPoint.dispose();this.rightRegPoint=null;for(var a=0,b=this.segments;a<b.length;){var c=b[a];++a;null!=c&&c.dispose()}this.back=this.front=this.layerSwapSegments=this.segments=null},_getPartAsset:function(a){null==a&&(a=!0);switch(this.color[1]){case 0:switch(this.type[1]){case 8:return s.texture.red_8;
case 6:return a?s.texture.red_2_front:s.texture.red_2_back;case 14:return s.texture.red_end;case 4:return s.texture.red_bumppiece;case 0:return a?s.texture.red_start_front:s.texture.red_start_back;case 5:return a?s.texture.red_1_front:s.texture.red_1_back;case 3:return s.texture.red_3;case 9:return a?s.texture.red_tunnelpiece_front:s.texture.red_tunnelpiece_back;case 10:return a?s.texture.red_5_front:s.texture.red_5_back;case 7:return s.texture.red_7;case 11:return s.texture.red_9;case 12:return s.texture.red_10;
case 13:return s.texture.red_connection}break;case 2:switch(this.type[1]){case 8:return s.texture.yellow_8;case 6:return a?s.texture.yellow_2_front:s.texture.yellow_2_back;case 16:return s.texture.yellow_end;case 4:return s.texture.yellow_bumppiece;case 2:return a?s.texture.yellow_start_front:s.texture.yellow_start_back;case 5:return a?s.texture.yellow_1_front:s.texture.yellow_1_back;case 3:return s.texture.yellow_3;case 9:return a?s.texture.yellow_tunnelpiece_front:s.texture.yellow_tunnelpiece_back;
case 10:return a?s.texture.yellow_5_front:s.texture.yellow_5_back;case 7:return s.texture.yellow_7;case 11:return s.texture.yellow_9;case 12:return s.texture.yellow_10;case 13:return s.texture.yellow_connection}break;case 1:switch(this.type[1]){case 8:return s.texture.blue_8;case 6:return a?s.texture.blue_2_front:s.texture.blue_2_back;case 15:return s.texture.blue_end;case 4:return s.texture.blue_bumppiece;case 1:return a?s.texture.blue_start_front:s.texture.blue_start_back;case 5:return a?s.texture.blue_1_front:
s.texture.blue_1_back;case 3:return s.texture.blue_3;case 9:return a?s.texture.blue_tunnelpiece_front:s.texture.blue_tunnelpiece_back;case 10:return a?s.texture.blue_5_front:s.texture.blue_5_back;case 7:return s.texture.blue_7;case 11:return s.texture.blue_9;case 12:return s.texture.blue_10;case 13:return s.texture.blue_connection}}return""},__class__:P};var fd=function(a,b,c){P.call(this,a,c);this.type=l.BLUE_END;this.endDirection=this.startDirection=D.RIGHT;this.back.setAsset(this._getPartAsset());
this.segments.push(m.request((-32+this.front.pos.x)*a,-49.5+this.front.pos.y,(-17+this.front.pos.x)*a,-30+this.front.pos.y));this.segments.push(m.request((-17+this.front.pos.x)*a,-30+this.front.pos.y,(-1+this.front.pos.x)*a,-2+this.front.pos.y));this.segments.push(m.request((-1+this.front.pos.x)*a,-2+this.front.pos.y,(16+this.front.pos.x)*a,28+this.front.pos.y));this.segments.push(m.request((16+this.front.pos.x)*a,28+this.front.pos.y,(39+this.front.pos.x)*a,49+this.front.pos.y));this.leftRegPoint=
E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-
this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.BlueEnd"]=fd;fd.__name__=!0;fd.__super__=P;fd.prototype=v(P.prototype,{__class__:fd});var gd=function(a,b,c){P.call(this,a,c);this.type=l.BLUE_START;this.endDirection=this.startDirection=D.RIGHT;
this.front.setAsset(this._getPartAsset(!0));this.back.setAsset(this._getPartAsset(!1));this.segments.push(m.request((135+this.front.pos.x)*a,-142+this.front.pos.y,(111+this.front.pos.x)*a,-136+this.front.pos.y));this.segments.push(m.request((111+this.front.pos.x)*a,-136+this.front.pos.y,(130+this.front.pos.x)*a,-121+this.front.pos.y));this.segments.push(m.request((130+this.front.pos.x)*a,-121+this.front.pos.y,(156+this.front.pos.x)*a,-109+this.front.pos.y));this.segments.push(m.request((156+this.front.pos.x)*
a,-109+this.front.pos.y,(178+this.front.pos.x)*a,-101+this.front.pos.y));this.segments.push(m.request((178+this.front.pos.x)*a,-101+this.front.pos.y,(191+this.front.pos.x)*a,-111+this.front.pos.y));this.segments.push(m.request((191+this.front.pos.x)*a,-111+this.front.pos.y,(148+this.front.pos.x)*a,-93+this.front.pos.y));this.segments.push(m.request((148+this.front.pos.x)*a,-93+this.front.pos.y,(-8+this.front.pos.x)*a,-40+this.front.pos.y));this.segments.push(m.request((-8+this.front.pos.x)*a,-40+
this.front.pos.y,(-73+this.front.pos.x)*a,6+this.front.pos.y));this.segments.push(m.request((-73+this.front.pos.x)*a,6+this.front.pos.y,(-96+this.front.pos.x)*a,51+this.front.pos.y));this.segments.push(m.request((-96+this.front.pos.x)*a,51+this.front.pos.y,(-124+this.front.pos.x)*a,100+this.front.pos.y));this.segments.push(m.request((-124+this.front.pos.x)*a,100+this.front.pos.y,(-132+this.front.pos.x)*a,124+this.front.pos.y));this.segments.push(m.request((-132+this.front.pos.x)*a,124+this.front.pos.y,
(-128+this.front.pos.x)*a,150+this.front.pos.y));this.segments.push(m.request((-128+this.front.pos.x)*a,150+this.front.pos.y,(-119+this.front.pos.x)*a,168+this.front.pos.y));this.segments.push(m.request((-119+this.front.pos.x)*a,168+this.front.pos.y,(-112.5+this.front.pos.x)*a,178+this.front.pos.y));this.layerSwapSegments=[5,11];this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=
this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-
1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.BlueStart"]=gd;gd.__name__=!0;gd.__super__=P;gd.prototype=v(P.prototype,{__class__:gd});var hd=function(a,b,c){P.call(this,a,c);this.type=l.CONNECTION;this.facing==D.RIGHT?(this.startDirection=D.LEFT,this.endDirection=D.RIGHT):(this.startDirection=D.RIGHT,this.endDirection=D.LEFT);this.back.setAsset(this._getPartAsset());this.segments.push(m.request((3+this.front.pos.x)*a,-6.5+this.front.pos.y,
(-3+this.front.pos.x)*a,-4+this.front.pos.y));this.segments.push(m.request((-3+this.front.pos.x)*a,-1+this.front.pos.y,(4+this.front.pos.x)*a,5.5+this.front.pos.y));this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+
(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.Connection"]=hd;hd.__name__=
!0;hd.__super__=P;hd.prototype=v(P.prototype,{__class__:hd});var id=function(a,b,c){P.call(this,a,c);this.type=l.CURVE;this.endDirection=this.facing==D.RIGHT?this.startDirection=D.LEFT:this.startDirection=D.RIGHT;this.back.setAsset(this._getPartAsset());this.segments.push(m.request((107+this.front.pos.x)*a,-117+this.front.pos.y,(86+this.front.pos.x)*a,-97+this.front.pos.y));this.segments.push(m.request((86+this.front.pos.x)*a,-97+this.front.pos.y,(44+this.front.pos.x)*a,-81+this.front.pos.y));this.segments.push(m.request((44+
this.front.pos.x)*a,-81+this.front.pos.y,(-37+this.front.pos.x)*a,-65+this.front.pos.y));this.segments.push(m.request((-37+this.front.pos.x)*a,-65+this.front.pos.y,(-66+this.front.pos.x)*a,-51+this.front.pos.y));this.segments.push(m.request((-66+this.front.pos.x)*a,-51+this.front.pos.y,(-74+this.front.pos.x)*a,-32+this.front.pos.y));this.segments.push(m.request((-74+this.front.pos.x)*a,-32+this.front.pos.y,(-51+this.front.pos.x)*a,-22+this.front.pos.y));this.segments.push(m.request((-51+this.front.pos.x)*
a,-22+this.front.pos.y,(2+this.front.pos.x)*a,-3+this.front.pos.y));this.segments.push(m.request((2+this.front.pos.x)*a,-3+this.front.pos.y,(52+this.front.pos.x)*a,14+this.front.pos.y));this.segments.push(m.request((52+this.front.pos.x)*a,14+this.front.pos.y,(63+this.front.pos.x)*a,30+this.front.pos.y));this.segments.push(m.request((63+this.front.pos.x)*a,30+this.front.pos.y,(43+this.front.pos.x)*a,45+this.front.pos.y));this.segments.push(m.request((43+this.front.pos.x)*a,45+this.front.pos.y,(-20+
this.front.pos.x)*a,66+this.front.pos.y));this.segments.push(m.request((-20+this.front.pos.x)*a,66+this.front.pos.y,(-73+this.front.pos.x)*a,88+this.front.pos.y));this.segments.push(m.request((-73+this.front.pos.x)*a,88+this.front.pos.y,(-106.5+this.front.pos.x)*a,117.5+this.front.pos.y));this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-
this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,
this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.Curve"]=id;id.__name__=!0;id.__super__=P;id.prototype=v(P.prototype,{__class__:id});var jd=function(a,b,c){P.call(this,a,c);this.type=l.DOUBLE_LOOP;this.endDirection=this.startDirection=this.facing;this.front.setAsset(this._getPartAsset(!0));this.back.setAsset(this._getPartAsset(!1));this.segments.push(m.request((-135+this.front.pos.x)*a,-117+this.front.pos.y,(-70+this.front.pos.x)*a,-94+this.front.pos.y));
this.segments.push(m.request((-70+this.front.pos.x)*a,-94+this.front.pos.y,(61+this.front.pos.x)*a,-47+this.front.pos.y));this.segments.push(m.request((61+this.front.pos.x)*a,-47+this.front.pos.y,(135+this.front.pos.x)*a,-30+this.front.pos.y));this.segments.push(m.request((135+this.front.pos.x)*a,-30+this.front.pos.y,(150+this.front.pos.x)*a,-30+this.front.pos.y));this.segments.push(m.request((150+this.front.pos.x)*a,-30+this.front.pos.y,(161+this.front.pos.x)*a,-35+this.front.pos.y));this.segments.push(m.request((161+
this.front.pos.x)*a,-35+this.front.pos.y,(149+this.front.pos.x)*a,-45+this.front.pos.y));this.segments.push(m.request((149+this.front.pos.x)*a,-45+this.front.pos.y,(135+this.front.pos.x)*a,-46+this.front.pos.y));this.segments.push(m.request((135+this.front.pos.x)*a,-46+this.front.pos.y,(27+this.front.pos.x)*a,-43+this.front.pos.y));this.segments.push(m.request((27+this.front.pos.x)*a,-43+this.front.pos.y,(-90+this.front.pos.x)*a,-24+this.front.pos.y));this.segments.push(m.request((-90+this.front.pos.x)*
a,-24+this.front.pos.y,(-105+this.front.pos.x)*a,-17+this.front.pos.y));this.segments.push(m.request((-105+this.front.pos.x)*a,-17+this.front.pos.y,(-92+this.front.pos.x)*a,-6+this.front.pos.y));this.segments.push(m.request((-92+this.front.pos.x)*a,-6+this.front.pos.y,(-60+this.front.pos.x)*a,8+this.front.pos.y));this.segments.push(m.request((-60+this.front.pos.x)*a,8+this.front.pos.y,(62+this.front.pos.x)*a,50+this.front.pos.y));this.segments.push(m.request((62+this.front.pos.x)*a,50+this.front.pos.y,
(134+this.front.pos.x)*a,69+this.front.pos.y));this.segments.push(m.request((134+this.front.pos.x)*a,69+this.front.pos.y,(147+this.front.pos.x)*a,66+this.front.pos.y));this.segments.push(m.request((147+this.front.pos.x)*a,66+this.front.pos.y,(155+this.front.pos.x)*a,62+this.front.pos.y));this.segments.push(m.request((155+this.front.pos.x)*a,62+this.front.pos.y,(147+this.front.pos.x)*a,57+this.front.pos.y));this.segments.push(m.request((147+this.front.pos.x)*a,57+this.front.pos.y,(135+this.front.pos.x)*
a,51+this.front.pos.y));this.segments.push(m.request((135+this.front.pos.x)*a,51+this.front.pos.y,(17+this.front.pos.x)*a,57+this.front.pos.y));this.segments.push(m.request((17+this.front.pos.x)*a,57+this.front.pos.y,(-121+this.front.pos.x)*a,85+this.front.pos.y));this.segments.push(m.request((-121+this.front.pos.x)*a,85+this.front.pos.y,(-152+this.front.pos.x)*a,99+this.front.pos.y));this.segments.push(m.request((-152+this.front.pos.x)*a,99+this.front.pos.y,(-136+this.front.pos.x)*a,116.5+this.front.pos.y));
this.layerSwapSegments=[6,8,18,20];this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-
this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.DoubleLoop"]=jd;jd.__name__=!0;jd.__super__=P;jd.prototype=v(P.prototype,{__class__:jd});var kd=function(a,b,c){P.call(this,a,c);this.type=l.DROP;
this.endDirection=this.startDirection=this.facing;this.back.setAsset(this._getPartAsset());this.segments.push(m.request((-107.5+this.front.pos.x)*a,-117+this.front.pos.y,(-93+this.front.pos.x)*a,-107+this.front.pos.y));this.segments.push(m.request((-93+this.front.pos.x)*a,-107+this.front.pos.y,(-82+this.front.pos.x)*a,-87+this.front.pos.y));this.segments.push(m.request((-82+this.front.pos.x)*a,-87+this.front.pos.y,(-80+this.front.pos.x)*a,-53+this.front.pos.y));this.segments.push(m.request((-80+this.front.pos.x)*
a,-53+this.front.pos.y,(-79+this.front.pos.x)*a,-15+this.front.pos.y));this.segments.push(m.request((-79+this.front.pos.x)*a,-15+this.front.pos.y,(-75+this.front.pos.x)*a,26+this.front.pos.y));this.segments.push(m.request((-75+this.front.pos.x)*a,26+this.front.pos.y,(-59+this.front.pos.x)*a,59+this.front.pos.y));this.segments.push(m.request((-59+this.front.pos.x)*a,59+this.front.pos.y,(-30+this.front.pos.x)*a,87+this.front.pos.y));this.segments.push(m.request((-30+this.front.pos.x)*a,87+this.front.pos.y,
(9+this.front.pos.x)*a,100+this.front.pos.y));this.segments.push(m.request((9+this.front.pos.x)*a,100+this.front.pos.y,(47+this.front.pos.x)*a,107+this.front.pos.y));this.segments.push(m.request((47+this.front.pos.x)*a,107+this.front.pos.y,(107.5+this.front.pos.x)*a,117+this.front.pos.y));this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-
this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,
this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.Drop"]=kd;kd.__name__=!0;kd.__super__=P;kd.prototype=v(P.prototype,{__class__:kd});var ld=function(a,b,c){P.call(this,a,c);this.type=l.BUMP;this.endDirection=this.startDirection=this.facing;this.back.setAsset(this._getPartAsset());this.segments.push(m.request((-197+this.front.pos.x)*a,-116.5+this.front.pos.y,(-100+this.front.pos.x)*a,-65+this.front.pos.y));this.segments.push(m.request((-100+this.front.pos.x)*
a,-65+this.front.pos.y,(-5+this.front.pos.x)*a,-85+this.front.pos.y));this.segments.push(null);this.segments.push(m.request((97+this.front.pos.x)*a,-33+this.front.pos.y,(180+this.front.pos.x)*a,-7+this.front.pos.y));this.segments.push(m.request((180+this.front.pos.x)*a,-7+this.front.pos.y,(190+this.front.pos.x)*a,10+this.front.pos.y));this.segments.push(m.request((190+this.front.pos.x)*a,10+this.front.pos.y,(125+this.front.pos.x)*a,45+this.front.pos.y));this.segments.push(m.request((125+this.front.pos.x)*
a,45+this.front.pos.y,(-100+this.front.pos.x)*a,85+this.front.pos.y));this.segments.push(m.request((-100+this.front.pos.x)*a,85+this.front.pos.y,(-197+this.front.pos.x)*a,117+this.front.pos.y));this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));
a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;null!=d&&(d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x,d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y,d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x,d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y)}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.Jump"]=
ld;ld.__name__=!0;ld.__super__=P;ld.prototype=v(P.prototype,{__class__:ld});var md=function(a,b,c){P.call(this,a,c);this.type=l.RED_END;this.endDirection=this.startDirection=D.RIGHT;this.back.setAsset(this._getPartAsset());this.segments.push(m.request((-122+this.front.pos.x)*a,-127+this.front.pos.y,(-50+this.front.pos.x)*a,-75+this.front.pos.y));this.segments.push(m.request((-50+this.front.pos.x)*a,-75+this.front.pos.y,(50+this.front.pos.x)*a,60+this.front.pos.y));this.segments.push(m.request((50+
this.front.pos.x)*a,60+this.front.pos.y,(107.5+this.front.pos.x)*a,117+this.front.pos.y));this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=
c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.RedEnd"]=md;md.__name__=!0;md.__super__=P;md.prototype=v(P.prototype,{__class__:md});var nd=function(a,
b,c){P.call(this,a,c);this.type=l.RED_START;this.endDirection=this.startDirection=D.RIGHT;this.front.setAsset(this._getPartAsset(!0));this.back.setAsset(this._getPartAsset(!1));this.segments.push(m.request((-154+this.front.pos.x)*a,-146+this.front.pos.y,(-173+this.front.pos.x)*a,-142+this.front.pos.y));this.segments.push(m.request((-173+this.front.pos.x)*a,-142+this.front.pos.y,(-152+this.front.pos.x)*a,-128+this.front.pos.y));this.segments.push(m.request((-152+this.front.pos.x)*a,-128+this.front.pos.y,
(-97+this.front.pos.x)*a,-101+this.front.pos.y));this.segments.push(m.request((-97+this.front.pos.x)*a,-101+this.front.pos.y,(-36+this.front.pos.x)*a,-74+this.front.pos.y));this.segments.push(m.request((-36+this.front.pos.x)*a,-74+this.front.pos.y,(79+this.front.pos.x)*a,-26+this.front.pos.y));this.segments.push(m.request((79+this.front.pos.x)*a,-26+this.front.pos.y,(110+this.front.pos.x)*a,-21+this.front.pos.y));this.segments.push(m.request((110+this.front.pos.x)*a,-21+this.front.pos.y,(125+this.front.pos.x)*
a,-29+this.front.pos.y));this.segments.push(m.request((125+this.front.pos.x)*a,-29+this.front.pos.y,(111+this.front.pos.x)*a,-41+this.front.pos.y));this.segments.push(m.request((111+this.front.pos.x)*a,-41+this.front.pos.y,(22+this.front.pos.x)*a,-50+this.front.pos.y));this.segments.push(m.request((22+this.front.pos.x)*a,-50+this.front.pos.y,(-111+this.front.pos.x)*a,-21+this.front.pos.y));this.segments.push(m.request((-111+this.front.pos.x)*a,-21+this.front.pos.y,(-141+this.front.pos.x)*a,-11+this.front.pos.y));
this.segments.push(m.request((-141+this.front.pos.x)*a,-11+this.front.pos.y,(-131+this.front.pos.x)*a,7+this.front.pos.y));this.segments.push(m.request((-131+this.front.pos.x)*a,7+this.front.pos.y,(-122+this.front.pos.x)*a,19+this.front.pos.y));this.layerSwapSegments=[8,11];this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));
a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-
1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.RedStart"]=nd;nd.__name__=!0;nd.__super__=P;nd.prototype=v(P.prototype,{__class__:nd});var od=function(a,b,c){P.call(this,a,c);this.type=l.SINGLE_LOOP;this.endDirection=this.startDirection=this.facing;this.front.setAsset(this._getPartAsset(!0));this.back.setAsset(this._getPartAsset(!1));this.segments.push(m.request((-99+this.front.pos.x)*a,-117+this.front.pos.y,(-50+this.front.pos.x)*a,-85+this.front.pos.y));this.segments.push(m.request((-50+
this.front.pos.x)*a,-85+this.front.pos.y,(80+this.front.pos.x)*a,15+this.front.pos.y));this.segments.push(m.request((80+this.front.pos.x)*a,15+this.front.pos.y,(100+this.front.pos.x)*a,28+this.front.pos.y));this.segments.push(m.request((100+this.front.pos.x)*a,28+this.front.pos.y,(117+this.front.pos.x)*a,29+this.front.pos.y));this.segments.push(m.request((117+this.front.pos.x)*a,29+this.front.pos.y,(129+this.front.pos.x)*a,17+this.front.pos.y));this.segments.push(m.request((129+this.front.pos.x)*
a,17+this.front.pos.y,(118+this.front.pos.x)*a,5+this.front.pos.y));this.segments.push(m.request((118+this.front.pos.x)*a,5+this.front.pos.y,(99+this.front.pos.x)*a,-1+this.front.pos.y));this.segments.push(m.request((99+this.front.pos.x)*a,-1+this.front.pos.y,(-28+this.front.pos.x)*a,6+this.front.pos.y));this.segments.push(m.request((-28+this.front.pos.x)*a,6+this.front.pos.y,(-90+this.front.pos.x)*a,30+this.front.pos.y));this.segments.push(m.request((-90+this.front.pos.x)*a,30+this.front.pos.y,(-120+
this.front.pos.x)*a,69+this.front.pos.y));this.segments.push(m.request((-120+this.front.pos.x)*a,69+this.front.pos.y,(-100+this.front.pos.x)*a,117+this.front.pos.y));this.layerSwapSegments=[7,9];this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));
a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.SingleLoop"]=
od;od.__name__=!0;od.__super__=P;od.prototype=v(P.prototype,{__class__:od});var va=g["com.sprout.rrtd.super_slide.world.elements.slides.SLIDE_COLOR"]={__ename__:!0,__constructs__:["RED","BLUE","YELLOW"]};va.RED=["RED",0];va.RED.toString=f;va.RED.__enum__=va;va.BLUE=["BLUE",1];va.BLUE.toString=f;va.BLUE.__enum__=va;va.YELLOW=["YELLOW",2];va.YELLOW.toString=f;va.YELLOW.__enum__=va;va.__empty_constructs__=[va.RED,va.BLUE,va.YELLOW];var bd=function(a,b,c,d,h){this.pieces=[];this._elementManager=a;this._tween=
h;this._color=b;this._frontLayer=c;this._backLayer=d};g["com.sprout.rrtd.super_slide.world.elements.slides.Slide"]=bd;bd.__name__=!0;bd.prototype={get_length:function(){for(var a=0,b=0,c=this.pieces;b<c.length;){var d=c[b];++b;d.type!=l.CONNECTION&&a++}return a},dispose:function(){this._tween=this._elementManager=null;for(var a=0,b=this.pieces;a<b.length;){var c=b[a];++a;c.dispose()}this.pieces=null},addPiece:function(a,b){var c=this;switch(a[1]){case 3:this.pieces.push(new pd(b,0!=this.pieces.length?
this.pieces[this.pieces.length-1]:null,this._color));break;case 4:this.pieces.push(new ld(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 5:this.pieces.push(new od(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 6:this.pieces.push(new jd(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 7:this.pieces.push(new qd(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));
break;case 8:this.pieces.push(new id(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 9:this.pieces.push(new rd(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 10:this.pieces.push(new sd(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 12:this.pieces.push(new kd(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 11:this.pieces.push(new td(b,0!=
this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 13:this.pieces.push(new hd(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 0:this.pieces.push(new nd(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 1:this.pieces.push(new gd(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 2:this.pieces.push(new ud(b,0!=this.pieces.length?this.pieces[this.pieces.length-
1]:null,this._color));break;case 14:this.pieces.push(new md(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 15:this.pieces.push(new fd(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color));break;case 16:this.pieces.push(new vd(b,0!=this.pieces.length?this.pieces[this.pieces.length-1]:null,this._color))}var d=this.pieces[this.pieces.length-1];null!=d.front&&this._elementManager.addElement(d.front,this._frontLayer);d.type==l.RED_START?this._elementManager.addElement(d.back,
t.SLIDE_1_BG):d.type==l.YELLOW_START?this._elementManager.addElement(d.back,t.SLIDE_2_BG):d.type==l.BLUE_START?this._elementManager.addElement(d.back,t.SLIDE_3_BG):this._elementManager.addElement(d.back,this._backLayer);if(!i.get_instance().getBool(q.BOOL_REPLAY_MODE)&&!(d.type==l.RED_START||d.type==l.BLUE_START||d.type==l.YELLOW_START)){var h=d.front;h.set_y(h.get_y()+300);h=d.back;h.set_y(h.get_y()+300);var h=d.back.get_y()-225,B=d.back.get_y()-175,e=d.back.get_y()-300;d.type!=l.CONNECTION&&d.type!=
l.RED_END&&d.type!=l.YELLOW_END&&d.type!=l.BLUE_END&&i.get_instance().sound.playSound(s.sound.big_whoosh,0.5);i.get_instance().timer.start(function(){d.type!=l.CONNECTION&&d.type!=l.RED_END&&d.type!=l.YELLOW_END&&d.type!=l.BLUE_END&&i.get_instance().sound.playSound(s.sound.small_whoosh,0.5)},1.15);this._tween.tween(d.front,0.5,{y:h},!0,k.CUBIC_IN);this._tween.tween(d.front,0.15,{y:B},!1,k.CUBIC_OUT,0.15);this._tween.tween(d.front,0.075,{y:e},!1,k.LINEAR,0.15);this._tween.tween(d.back,0.5,{y:h},!0,
k.CUBIC_IN);this._tween.tween(d.back,0.15,{y:B},!1,k.CUBIC_OUT,0.15);this._tween.tween(d.back,0.075,{y:e},!1,k.LINEAR,0.15).onComplete(function(){d.type!=l.CONNECTION&&d.type!=l.RED_END&&d.type!=l.YELLOW_END&&d.type!=l.BLUE_END&&(yb.sparks(d.segments[0].get_p0().x,d.segments[0].get_p0().y,s.texture.particle_sparkle,20,c._frontLayer),i.get_instance().sound.playSound(s.sound.clang,0.5))})}return this.pieces[this.pieces.length-1]},__class__:bd,__properties__:{get_length:"get_length"}};var td=function(a,
b,c){P.call(this,a,c);this.type=l.STEPS;this.endDirection=this.startDirection=this.facing;this.back.setAsset(this._getPartAsset());this.segments.push(m.request((-181.5+this.front.pos.x)*a,-117.5+this.front.pos.y,(-145+this.front.pos.x)*a,-111+this.front.pos.y));this.segments.push(m.request((-145+this.front.pos.x)*a,-111+this.front.pos.y,(-113+this.front.pos.x)*a,-100+this.front.pos.y));this.segments.push(m.request((-113+this.front.pos.x)*a,-100+this.front.pos.y,(-86+this.front.pos.x)*a,-82+this.front.pos.y));
this.segments.push(m.request((-86+this.front.pos.x)*a,-82+this.front.pos.y,(-69+this.front.pos.x)*a,-50+this.front.pos.y));this.segments.push(m.request((-69+this.front.pos.x)*a,-50+this.front.pos.y,(-53+this.front.pos.x)*a,-22+this.front.pos.y));this.segments.push(m.request((-53+this.front.pos.x)*a,-22+this.front.pos.y,(-33+this.front.pos.x)*a,-9+this.front.pos.y));this.segments.push(m.request((-33+this.front.pos.x)*a,-9+this.front.pos.y,(4+this.front.pos.x)*a,-1+this.front.pos.y));this.segments.push(m.request((4+
this.front.pos.x)*a,-1+this.front.pos.y,(39+this.front.pos.x)*a,11+this.front.pos.y));this.segments.push(m.request((39+this.front.pos.x)*a,11+this.front.pos.y,(65+this.front.pos.x)*a,34+this.front.pos.y));this.segments.push(m.request((65+this.front.pos.x)*a,34+this.front.pos.y,(85+this.front.pos.x)*a,65+this.front.pos.y));this.segments.push(m.request((85+this.front.pos.x)*a,65+this.front.pos.y,(109+this.front.pos.x)*a,89+this.front.pos.y));this.segments.push(m.request((109+this.front.pos.x)*a,89+
this.front.pos.y,(142+this.front.pos.x)*a,102+this.front.pos.y));this.segments.push(m.request((142+this.front.pos.x)*a,102+this.front.pos.y,(181.5+this.front.pos.x)*a,116.5+this.front.pos.y));this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));
a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.Steps"]=
td;td.__name__=!0;td.__super__=P;td.prototype=v(P.prototype,{__class__:td});var pd=function(a,b,c){P.call(this,a,c);this.type=l.STRAIGHT;this.endDirection=this.startDirection=this.facing;this.back.setAsset(this._getPartAsset());this.segments.push(m.request((-107.5+this.front.pos.x)*a,-117+this.front.pos.y,(-50+this.front.pos.x)*a,-75+this.front.pos.y));this.segments.push(m.request((-50+this.front.pos.x)*a,-75+this.front.pos.y,(50+this.front.pos.x)*a,60+this.front.pos.y));this.segments.push(m.request((50+
this.front.pos.x)*a,60+this.front.pos.y,(106.5+this.front.pos.x)*a,117.25+this.front.pos.y));this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<
c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.Straight"]=pd;pd.__name__=!0;pd.__super__=P;pd.prototype=v(P.prototype,{__class__:pd});
var rd=function(a,b,c){P.call(this,a,c);this.type=l.TUNNEL;this.endDirection=this.startDirection=this.facing;this.front.setAsset(this._getPartAsset(!0));this.back.setAsset(this._getPartAsset(!1));this.segments.push(m.request((-107.5+this.front.pos.x)*a,-117+this.front.pos.y,(-69+this.front.pos.x)*a,-91+this.front.pos.y));this.segments.push(m.request((-69+this.front.pos.x)*a,-91+this.front.pos.y,(-3+this.front.pos.x)*a,-19+this.front.pos.y));this.segments.push(m.request((-3+this.front.pos.x)*a,-19+
this.front.pos.y,(52+this.front.pos.x)*a,57+this.front.pos.y));this.segments.push(m.request((52+this.front.pos.x)*a,57+this.front.pos.y,(106.5+this.front.pos.x)*a,117+this.front.pos.y));this.layerSwapSegments=[1,3];this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-
this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.Tunnel"]=
rd;rd.__name__=!0;rd.__super__=P;rd.prototype=v(P.prototype,{__class__:rd});var sd=function(a,b,c){P.call(this,a,c);this.type=l.VERTICAL_LOOP;this.endDirection=this.startDirection=this.facing;this.front.setAsset(this._getPartAsset(!0));this.back.setAsset(this._getPartAsset(!1));this.segments.push(m.request((-109.5+this.front.pos.x)*a,-117+this.front.pos.y,(-88+this.front.pos.x)*a,-98+this.front.pos.y));this.segments.push(m.request((-88+this.front.pos.x)*a,-98+this.front.pos.y,(-81+this.front.pos.x)*
a,-64+this.front.pos.y));this.segments.push(m.request((-81+this.front.pos.x)*a,-64+this.front.pos.y,(-67+this.front.pos.x)*a,23+this.front.pos.y));this.segments.push(m.request((-67+this.front.pos.x)*a,23+this.front.pos.y,(-46+this.front.pos.x)*a,53+this.front.pos.y));this.segments.push(m.request((-46+this.front.pos.x)*a,53+this.front.pos.y,(-16+this.front.pos.x)*a,74+this.front.pos.y));this.segments.push(m.request((-16+this.front.pos.x)*a,74+this.front.pos.y,(21+this.front.pos.x)*a,84+this.front.pos.y));
this.segments.push(m.request((21+this.front.pos.x)*a,84+this.front.pos.y,(61+this.front.pos.x)*a,75+this.front.pos.y));this.segments.push(m.request((61+this.front.pos.x)*a,75+this.front.pos.y,(95+this.front.pos.x)*a,52+this.front.pos.y));this.segments.push(m.request((95+this.front.pos.x)*a,52+this.front.pos.y,(112+this.front.pos.x)*a,16+this.front.pos.y));this.segments.push(m.request((112+this.front.pos.x)*a,16+this.front.pos.y,(111+this.front.pos.x)*a,-18+this.front.pos.y));this.segments.push(m.request((111+
this.front.pos.x)*a,-18+this.front.pos.y,(101+this.front.pos.x)*a,-53+this.front.pos.y));this.segments.push(m.request((101+this.front.pos.x)*a,-53+this.front.pos.y,(79+this.front.pos.x)*a,-83+this.front.pos.y));this.segments.push(m.request((79+this.front.pos.x)*a,-83+this.front.pos.y,(40+this.front.pos.x)*a,-98+this.front.pos.y));this.segments.push(m.request((40+this.front.pos.x)*a,-98+this.front.pos.y,(1+this.front.pos.x)*a,-97+this.front.pos.y));this.segments.push(m.request((1+this.front.pos.x)*
a,-97+this.front.pos.y,(-31+this.front.pos.x)*a,-81+this.front.pos.y));this.segments.push(m.request((-31+this.front.pos.x)*a,-81+this.front.pos.y,(-50+this.front.pos.x)*a,-55+this.front.pos.y));this.segments.push(m.request((-50+this.front.pos.x)*a,-55+this.front.pos.y,(-58+this.front.pos.x)*a,-22+this.front.pos.y));this.segments.push(m.request((-58+this.front.pos.x)*a,-22+this.front.pos.y,(-50+this.front.pos.x)*a,16+this.front.pos.y));this.segments.push(m.request((-50+this.front.pos.x)*a,16+this.front.pos.y,
(-25+this.front.pos.x)*a,48+this.front.pos.y));this.segments.push(m.request((-25+this.front.pos.x)*a,48+this.front.pos.y,(4+this.front.pos.x)*a,68+this.front.pos.y));this.segments.push(m.request((4+this.front.pos.x)*a,68+this.front.pos.y,(43+this.front.pos.x)*a,86+this.front.pos.y));this.segments.push(m.request((43+this.front.pos.x)*a,86+this.front.pos.y,(96+this.front.pos.x)*a,110+this.front.pos.y));this.segments.push(m.request((96+this.front.pos.x)*a,110+this.front.pos.y,(105.5+this.front.pos.x)*
a,117+this.front.pos.y));this.layerSwapSegments=[17,24];this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=
b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.VerticalLoop"]=sd;sd.__name__=!0;sd.__super__=P;sd.prototype=v(P.prototype,{__class__:sd});var vd=function(a,b,c){P.call(this,
a,c);this.type=l.YELLOW_END;this.endDirection=this.startDirection=D.RIGHT;this.back.setAsset(this._getPartAsset());this.segments.push(m.request((-85+this.front.pos.x)*a,-92+this.front.pos.y,(-49+this.front.pos.x)*a,-66+this.front.pos.y));this.segments.push(m.request((-49+this.front.pos.x)*a,-66+this.front.pos.y,(-25+this.front.pos.x)*a,-37+this.front.pos.y));this.segments.push(m.request((-25+this.front.pos.x)*a,-37+this.front.pos.y,(-2+this.front.pos.x)*a,5+this.front.pos.y));this.segments.push(m.request((-2+
this.front.pos.x)*a,5+this.front.pos.y,(21+this.front.pos.x)*a,39+this.front.pos.y));this.segments.push(m.request((21+this.front.pos.x)*a,39+this.front.pos.y,(52+this.front.pos.x)*a,66+this.front.pos.y));this.segments.push(m.request((52+this.front.pos.x)*a,66+this.front.pos.y,(89+this.front.pos.x)*a,86+this.front.pos.y));this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;
a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-
1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.YellowEnd"]=vd;vd.__name__=!0;vd.__super__=P;vd.prototype=v(P.prototype,{__class__:vd});var ud=function(a,b,c){P.call(this,a,c);this.type=l.YELLOW_START;this.endDirection=this.startDirection=D.RIGHT;this.front.setAsset(this._getPartAsset(!0));this.back.setAsset(this._getPartAsset(!1));this.segments.push(m.request((-3+this.front.pos.x)*a,-140+this.front.pos.y,(-26+this.front.pos.x)*
a,-131+this.front.pos.y));this.segments.push(m.request((-26+this.front.pos.x)*a,-131+this.front.pos.y,(-5+this.front.pos.x)*a,-118+this.front.pos.y));this.segments.push(m.request((-5+this.front.pos.x)*a,-118+this.front.pos.y,(27+this.front.pos.x)*a,-100+this.front.pos.y));this.segments.push(m.request((27+this.front.pos.x)*a,-100+this.front.pos.y,(65+this.front.pos.x)*a,-80+this.front.pos.y));this.segments.push(m.request((65+this.front.pos.x)*a,-80+this.front.pos.y,(106+this.front.pos.x)*a,-61+this.front.pos.y));
this.segments.push(m.request((106+this.front.pos.x)*a,-61+this.front.pos.y,(142+this.front.pos.x)*a,-47+this.front.pos.y));this.segments.push(m.request((142+this.front.pos.x)*a,-47+this.front.pos.y,(167+this.front.pos.x)*a,-50+this.front.pos.y));this.segments.push(m.request((167+this.front.pos.x)*a,-50+this.front.pos.y,(151+this.front.pos.x)*a,-62+this.front.pos.y));this.segments.push(m.request((151+this.front.pos.x)*a,-62+this.front.pos.y,(8+this.front.pos.x)*a,-29+this.front.pos.y));this.segments.push(m.request((8+
this.front.pos.x)*a,-29+this.front.pos.y,(-63+this.front.pos.x)*a,12+this.front.pos.y));this.segments.push(m.request((-63+this.front.pos.x)*a,12+this.front.pos.y,(-90+this.front.pos.x)*a,29+this.front.pos.y));this.segments.push(m.request((-90+this.front.pos.x)*a,29+this.front.pos.y,(-111+this.front.pos.x)*a,46+this.front.pos.y));this.segments.push(m.request((-111+this.front.pos.x)*a,46+this.front.pos.y,(-129+this.front.pos.x)*a,64+this.front.pos.y));this.segments.push(m.request((-129+this.front.pos.x)*
a,64+this.front.pos.y,(-126+this.front.pos.x)*a,84+this.front.pos.y));this.segments.push(m.request((-126+this.front.pos.x)*a,84+this.front.pos.y,(-112.5+this.front.pos.x)*a,98+this.front.pos.y));this.layerSwapSegments=[8,12];this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-
this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.YellowStart"]=
ud;ud.__name__=!0;ud.__super__=P;ud.prototype=v(P.prototype,{__class__:ud});var qd=function(a,b,c){P.call(this,a,c);this.type=l.ZIGZAG;this.startDirection=this.facing;this.endDirection=this.facing==D.RIGHT?D.LEFT:D.RIGHT;this.back.setAsset(this._getPartAsset());this.segments.push(m.request((-110.5+this.front.pos.x)*a,-117+this.front.pos.y,(-69+this.front.pos.x)*a,-101+this.front.pos.y));this.segments.push(m.request((-69+this.front.pos.x)*a,-101+this.front.pos.y,(-13+this.front.pos.x)*a,-84+this.front.pos.y));
this.segments.push(m.request((-13+this.front.pos.x)*a,-84+this.front.pos.y,(47+this.front.pos.x)*a,-73+this.front.pos.y));this.segments.push(m.request((47+this.front.pos.x)*a,-73+this.front.pos.y,(89+this.front.pos.x)*a,-62+this.front.pos.y));this.segments.push(m.request((89+this.front.pos.x)*a,-62+this.front.pos.y,(108+this.front.pos.x)*a,-53+this.front.pos.y));this.segments.push(m.request((108+this.front.pos.x)*a,-53+this.front.pos.y,(120+this.front.pos.x)*a,-41+this.front.pos.y));this.segments.push(m.request((120+
this.front.pos.x)*a,-41+this.front.pos.y,(106+this.front.pos.x)*a,-32+this.front.pos.y));this.segments.push(m.request((106+this.front.pos.x)*a,-32+this.front.pos.y,(90+this.front.pos.x)*a,-25+this.front.pos.y));this.segments.push(m.request((90+this.front.pos.x)*a,-25+this.front.pos.y,(39+this.front.pos.x)*a,-18+this.front.pos.y));this.segments.push(m.request((39+this.front.pos.x)*a,-18+this.front.pos.y,(-33+this.front.pos.x)*a,-16+this.front.pos.y));this.segments.push(m.request((-33+this.front.pos.x)*
a,-16+this.front.pos.y,(-82+this.front.pos.x)*a,-10+this.front.pos.y));this.segments.push(m.request((-82+this.front.pos.x)*a,-10+this.front.pos.y,(-102+this.front.pos.x)*a,-5+this.front.pos.y));this.segments.push(m.request((-102+this.front.pos.x)*a,-5+this.front.pos.y,(-116+this.front.pos.x)*a,2+this.front.pos.y));this.segments.push(m.request((-116+this.front.pos.x)*a,2+this.front.pos.y,(-105+this.front.pos.x)*a,20+this.front.pos.y));this.segments.push(m.request((-105+this.front.pos.x)*a,20+this.front.pos.y,
(-81+this.front.pos.x)*a,37+this.front.pos.y));this.segments.push(m.request((-81+this.front.pos.x)*a,37+this.front.pos.y,(-45+this.front.pos.x)*a,56+this.front.pos.y));this.segments.push(m.request((-45+this.front.pos.x)*a,56+this.front.pos.y,(22+this.front.pos.x)*a,84+this.front.pos.y));this.segments.push(m.request((22+this.front.pos.x)*a,84+this.front.pos.y,(103.5+this.front.pos.x)*a,117+this.front.pos.y));this.leftRegPoint=E.request(this.segments[0].get_p0().x,this.segments[0].get_p0().y);if(null!=
b){a=this.front;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.front;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=this.back;a.set_x(a.get_x()+(b.rightRegPoint.x-this.leftRegPoint.x));a=this.back;a.set_y(a.get_y()+(b.rightRegPoint.y-this.leftRegPoint.y));a=0;for(c=this.segments;a<c.length;){var d=c[a];++a;d.get_p0().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p0().y+=b.rightRegPoint.y-this.leftRegPoint.y;d.get_p1().x+=b.rightRegPoint.x-this.leftRegPoint.x;d.get_p1().y+=
b.rightRegPoint.y-this.leftRegPoint.y}}this.rightRegPoint=E.request(this.segments[this.segments.length-1].get_p1().x,this.segments[this.segments.length-1].get_p1().y)};g["com.sprout.rrtd.super_slide.world.elements.slides.Zigzag"]=qd;qd.__name__=!0;qd.__super__=P;qd.prototype=v(P.prototype,{__class__:qd});var q=g["com.workinman.cloud.CLOUD"]={__ename__:!0,__constructs__:"BOOL_GAME_LOSE,BOOL_GAME_WIN,BOOL_LEVEL_LOSE,BOOL_LEVEL_WIN,BOOL_PAUSED,BOOL_CODE_SCREEN_OPEN,BOOL_CODE_UNLOCK,BOOL_ALLOW_UNLOCK,BOOL_REPLAY_MODE,INT_HEALTH,INT_LIVES,INT_SCORE,INT_LOADING_SCORE,INT_ACHIEVEMENT_SCORE,INT_CURRENCY,INT_LEVEL,INT_UNIQUE_INC,STRING_UNLOCK_CODE,STRING_REGION_ID,STRING_SLIDE_CODE,FLOAT_LOADING_PROGRESS".split(",")};
q.BOOL_GAME_LOSE=["BOOL_GAME_LOSE",0];q.BOOL_GAME_LOSE.toString=f;q.BOOL_GAME_LOSE.__enum__=q;q.BOOL_GAME_WIN=["BOOL_GAME_WIN",1];q.BOOL_GAME_WIN.toString=f;q.BOOL_GAME_WIN.__enum__=q;q.BOOL_LEVEL_LOSE=["BOOL_LEVEL_LOSE",2];q.BOOL_LEVEL_LOSE.toString=f;q.BOOL_LEVEL_LOSE.__enum__=q;q.BOOL_LEVEL_WIN=["BOOL_LEVEL_WIN",3];q.BOOL_LEVEL_WIN.toString=f;q.BOOL_LEVEL_WIN.__enum__=q;q.BOOL_PAUSED=["BOOL_PAUSED",4];q.BOOL_PAUSED.toString=f;q.BOOL_PAUSED.__enum__=q;q.BOOL_CODE_SCREEN_OPEN=["BOOL_CODE_SCREEN_OPEN",
5];q.BOOL_CODE_SCREEN_OPEN.toString=f;q.BOOL_CODE_SCREEN_OPEN.__enum__=q;q.BOOL_CODE_UNLOCK=["BOOL_CODE_UNLOCK",6];q.BOOL_CODE_UNLOCK.toString=f;q.BOOL_CODE_UNLOCK.__enum__=q;q.BOOL_ALLOW_UNLOCK=["BOOL_ALLOW_UNLOCK",7];q.BOOL_ALLOW_UNLOCK.toString=f;q.BOOL_ALLOW_UNLOCK.__enum__=q;q.BOOL_REPLAY_MODE=["BOOL_REPLAY_MODE",8];q.BOOL_REPLAY_MODE.toString=f;q.BOOL_REPLAY_MODE.__enum__=q;q.INT_HEALTH=["INT_HEALTH",9];q.INT_HEALTH.toString=f;q.INT_HEALTH.__enum__=q;q.INT_LIVES=["INT_LIVES",10];q.INT_LIVES.toString=
f;q.INT_LIVES.__enum__=q;q.INT_SCORE=["INT_SCORE",11];q.INT_SCORE.toString=f;q.INT_SCORE.__enum__=q;q.INT_LOADING_SCORE=["INT_LOADING_SCORE",12];q.INT_LOADING_SCORE.toString=f;q.INT_LOADING_SCORE.__enum__=q;q.INT_ACHIEVEMENT_SCORE=["INT_ACHIEVEMENT_SCORE",13];q.INT_ACHIEVEMENT_SCORE.toString=f;q.INT_ACHIEVEMENT_SCORE.__enum__=q;q.INT_CURRENCY=["INT_CURRENCY",14];q.INT_CURRENCY.toString=f;q.INT_CURRENCY.__enum__=q;q.INT_LEVEL=["INT_LEVEL",15];q.INT_LEVEL.toString=f;q.INT_LEVEL.__enum__=q;q.INT_UNIQUE_INC=
["INT_UNIQUE_INC",16];q.INT_UNIQUE_INC.toString=f;q.INT_UNIQUE_INC.__enum__=q;q.STRING_UNLOCK_CODE=["STRING_UNLOCK_CODE",17];q.STRING_UNLOCK_CODE.toString=f;q.STRING_UNLOCK_CODE.__enum__=q;q.STRING_REGION_ID=["STRING_REGION_ID",18];q.STRING_REGION_ID.toString=f;q.STRING_REGION_ID.__enum__=q;q.STRING_SLIDE_CODE=["STRING_SLIDE_CODE",19];q.STRING_SLIDE_CODE.toString=f;q.STRING_SLIDE_CODE.__enum__=q;q.FLOAT_LOADING_PROGRESS=["FLOAT_LOADING_PROGRESS",20];q.FLOAT_LOADING_PROGRESS.toString=f;q.FLOAT_LOADING_PROGRESS.__enum__=
q;q.__empty_constructs__=[q.BOOL_GAME_LOSE,q.BOOL_GAME_WIN,q.BOOL_LEVEL_LOSE,q.BOOL_LEVEL_WIN,q.BOOL_PAUSED,q.BOOL_CODE_SCREEN_OPEN,q.BOOL_CODE_UNLOCK,q.BOOL_ALLOW_UNLOCK,q.BOOL_REPLAY_MODE,q.INT_HEALTH,q.INT_LIVES,q.INT_SCORE,q.INT_LOADING_SCORE,q.INT_ACHIEVEMENT_SCORE,q.INT_CURRENCY,q.INT_LEVEL,q.INT_UNIQUE_INC,q.STRING_UNLOCK_CODE,q.STRING_REGION_ID,q.STRING_SLIDE_CODE,q.FLOAT_LOADING_PROGRESS];var F=function(){};g["com.workinman.cloud.ConstantsApp"]=F;F.__name__=!0;F.__properties__={get_isCocoon:"get_isCocoon"};
F.dispatchFlowEvent=function(a){F._flowDelegate(a)};F.setFlowDelegate=function(a){F._flowDelegate=a};F.get_isCocoon=function(){0>F._isCocoon&&(F._isCocoon=window.CocoonJS?1:0);return 1==F._isCocoon};F.allAudioSupported=function(){return!0};var j=g["com.workinman.cloud.EVENT"]={__ename__:!0,__constructs__:"GAME_OVER,PAUSE,UNPAUSE,MUTE_TOGGLE,RESIZE_CANVAS,UPDATE_DISPLAY,TWEENS_ALL_COMPLETE,TWEEN_CURRENT_COMPLETE,INITIAL_LOAD_COMPLETE,WORLD_GENERATION_COMPLETE,FILES_ERROR,FILE_RESULT,ALL_POOLS_FULL,VO_PAUSED,VO_ENDED,VO_STARTED,INPUT_ARBITRARY_KEY_BUTTON,INPUT_ARBITRARY_KEY_KEYBOARD,INPUT_FIELD_ENTER,INPUT_LOSE_FOCUS,INPUT_SCROLL_WHEEL,ITEM_SELECT,BUTTON_CLICK,BUTTON_OVER,BUTTON_OUT,BUTTON_UP,BUTTON_DOWN,BUTTON_DRAG,BUTTON_DROP,BUTTON_CANCEL_DRAG,DIALOGUE_LINE_COMPLETE,DIALOGUE_QUEUE_COMPLETE,TUTORIAL_SWIPE,TUTORIAL_CLICK_LOCATION,SWAP_CART_LAYER,ADD_SLIDE_PIECE,HIDE_UI,ZOOM_IN_END,SPAWN_PARTICLE".split(",")};
j.GAME_OVER=["GAME_OVER",0];j.GAME_OVER.toString=f;j.GAME_OVER.__enum__=j;j.PAUSE=["PAUSE",1];j.PAUSE.toString=f;j.PAUSE.__enum__=j;j.UNPAUSE=["UNPAUSE",2];j.UNPAUSE.toString=f;j.UNPAUSE.__enum__=j;j.MUTE_TOGGLE=["MUTE_TOGGLE",3];j.MUTE_TOGGLE.toString=f;j.MUTE_TOGGLE.__enum__=j;j.RESIZE_CANVAS=["RESIZE_CANVAS",4];j.RESIZE_CANVAS.toString=f;j.RESIZE_CANVAS.__enum__=j;j.UPDATE_DISPLAY=["UPDATE_DISPLAY",5];j.UPDATE_DISPLAY.toString=f;j.UPDATE_DISPLAY.__enum__=j;j.TWEENS_ALL_COMPLETE=["TWEENS_ALL_COMPLETE",
6];j.TWEENS_ALL_COMPLETE.toString=f;j.TWEENS_ALL_COMPLETE.__enum__=j;j.TWEEN_CURRENT_COMPLETE=["TWEEN_CURRENT_COMPLETE",7];j.TWEEN_CURRENT_COMPLETE.toString=f;j.TWEEN_CURRENT_COMPLETE.__enum__=j;j.INITIAL_LOAD_COMPLETE=["INITIAL_LOAD_COMPLETE",8];j.INITIAL_LOAD_COMPLETE.toString=f;j.INITIAL_LOAD_COMPLETE.__enum__=j;j.WORLD_GENERATION_COMPLETE=["WORLD_GENERATION_COMPLETE",9];j.WORLD_GENERATION_COMPLETE.toString=f;j.WORLD_GENERATION_COMPLETE.__enum__=j;j.FILES_ERROR=["FILES_ERROR",10];j.FILES_ERROR.toString=
f;j.FILES_ERROR.__enum__=j;j.FILE_RESULT=["FILE_RESULT",11];j.FILE_RESULT.toString=f;j.FILE_RESULT.__enum__=j;j.ALL_POOLS_FULL=["ALL_POOLS_FULL",12];j.ALL_POOLS_FULL.toString=f;j.ALL_POOLS_FULL.__enum__=j;j.VO_PAUSED=["VO_PAUSED",13];j.VO_PAUSED.toString=f;j.VO_PAUSED.__enum__=j;j.VO_ENDED=["VO_ENDED",14];j.VO_ENDED.toString=f;j.VO_ENDED.__enum__=j;j.VO_STARTED=["VO_STARTED",15];j.VO_STARTED.toString=f;j.VO_STARTED.__enum__=j;j.INPUT_ARBITRARY_KEY_BUTTON=["INPUT_ARBITRARY_KEY_BUTTON",16];j.INPUT_ARBITRARY_KEY_BUTTON.toString=
f;j.INPUT_ARBITRARY_KEY_BUTTON.__enum__=j;j.INPUT_ARBITRARY_KEY_KEYBOARD=["INPUT_ARBITRARY_KEY_KEYBOARD",17];j.INPUT_ARBITRARY_KEY_KEYBOARD.toString=f;j.INPUT_ARBITRARY_KEY_KEYBOARD.__enum__=j;j.INPUT_FIELD_ENTER=["INPUT_FIELD_ENTER",18];j.INPUT_FIELD_ENTER.toString=f;j.INPUT_FIELD_ENTER.__enum__=j;j.INPUT_LOSE_FOCUS=["INPUT_LOSE_FOCUS",19];j.INPUT_LOSE_FOCUS.toString=f;j.INPUT_LOSE_FOCUS.__enum__=j;j.INPUT_SCROLL_WHEEL=["INPUT_SCROLL_WHEEL",20];j.INPUT_SCROLL_WHEEL.toString=f;j.INPUT_SCROLL_WHEEL.__enum__=
j;j.ITEM_SELECT=["ITEM_SELECT",21];j.ITEM_SELECT.toString=f;j.ITEM_SELECT.__enum__=j;j.BUTTON_CLICK=["BUTTON_CLICK",22];j.BUTTON_CLICK.toString=f;j.BUTTON_CLICK.__enum__=j;j.BUTTON_OVER=["BUTTON_OVER",23];j.BUTTON_OVER.toString=f;j.BUTTON_OVER.__enum__=j;j.BUTTON_OUT=["BUTTON_OUT",24];j.BUTTON_OUT.toString=f;j.BUTTON_OUT.__enum__=j;j.BUTTON_UP=["BUTTON_UP",25];j.BUTTON_UP.toString=f;j.BUTTON_UP.__enum__=j;j.BUTTON_DOWN=["BUTTON_DOWN",26];j.BUTTON_DOWN.toString=f;j.BUTTON_DOWN.__enum__=j;j.BUTTON_DRAG=
["BUTTON_DRAG",27];j.BUTTON_DRAG.toString=f;j.BUTTON_DRAG.__enum__=j;j.BUTTON_DROP=["BUTTON_DROP",28];j.BUTTON_DROP.toString=f;j.BUTTON_DROP.__enum__=j;j.BUTTON_CANCEL_DRAG=["BUTTON_CANCEL_DRAG",29];j.BUTTON_CANCEL_DRAG.toString=f;j.BUTTON_CANCEL_DRAG.__enum__=j;j.DIALOGUE_LINE_COMPLETE=["DIALOGUE_LINE_COMPLETE",30];j.DIALOGUE_LINE_COMPLETE.toString=f;j.DIALOGUE_LINE_COMPLETE.__enum__=j;j.DIALOGUE_QUEUE_COMPLETE=["DIALOGUE_QUEUE_COMPLETE",31];j.DIALOGUE_QUEUE_COMPLETE.toString=f;j.DIALOGUE_QUEUE_COMPLETE.__enum__=
j;j.TUTORIAL_SWIPE=["TUTORIAL_SWIPE",32];j.TUTORIAL_SWIPE.toString=f;j.TUTORIAL_SWIPE.__enum__=j;j.TUTORIAL_CLICK_LOCATION=["TUTORIAL_CLICK_LOCATION",33];j.TUTORIAL_CLICK_LOCATION.toString=f;j.TUTORIAL_CLICK_LOCATION.__enum__=j;j.SWAP_CART_LAYER=["SWAP_CART_LAYER",34];j.SWAP_CART_LAYER.toString=f;j.SWAP_CART_LAYER.__enum__=j;j.ADD_SLIDE_PIECE=["ADD_SLIDE_PIECE",35];j.ADD_SLIDE_PIECE.toString=f;j.ADD_SLIDE_PIECE.__enum__=j;j.HIDE_UI=["HIDE_UI",36];j.HIDE_UI.toString=f;j.HIDE_UI.__enum__=j;j.ZOOM_IN_END=
["ZOOM_IN_END",37];j.ZOOM_IN_END.toString=f;j.ZOOM_IN_END.__enum__=j;j.SPAWN_PARTICLE=["SPAWN_PARTICLE",38];j.SPAWN_PARTICLE.toString=f;j.SPAWN_PARTICLE.__enum__=j;j.__empty_constructs__=[j.GAME_OVER,j.PAUSE,j.UNPAUSE,j.MUTE_TOGGLE,j.RESIZE_CANVAS,j.UPDATE_DISPLAY,j.TWEENS_ALL_COMPLETE,j.TWEEN_CURRENT_COMPLETE,j.INITIAL_LOAD_COMPLETE,j.WORLD_GENERATION_COMPLETE,j.FILES_ERROR,j.FILE_RESULT,j.ALL_POOLS_FULL,j.VO_PAUSED,j.VO_ENDED,j.VO_STARTED,j.INPUT_ARBITRARY_KEY_BUTTON,j.INPUT_ARBITRARY_KEY_KEYBOARD,
j.INPUT_FIELD_ENTER,j.INPUT_LOSE_FOCUS,j.INPUT_SCROLL_WHEEL,j.ITEM_SELECT,j.BUTTON_CLICK,j.BUTTON_OVER,j.BUTTON_OUT,j.BUTTON_UP,j.BUTTON_DOWN,j.BUTTON_DRAG,j.BUTTON_DROP,j.BUTTON_CANCEL_DRAG,j.DIALOGUE_LINE_COMPLETE,j.DIALOGUE_QUEUE_COMPLETE,j.TUTORIAL_SWIPE,j.TUTORIAL_CLICK_LOCATION,j.SWAP_CART_LAYER,j.ADD_SLIDE_PIECE,j.HIDE_UI,j.ZOOM_IN_END,j.SPAWN_PARTICLE];var t=g["com.workinman.cloud.LAYER"]={__ename__:!0,__constructs__:"z__MAINUI,BG,SLIDE_3_BG,SLIDE_2_BG,SLIDE_1_BG,WORLD,SLIDE_3_BACK,SLIDE_3_FRONT,SLIDE_2_BACK,SLIDE_2_FRONT,SLIDE_1_BACK,SLIDE_1_FRONT,DEBUG_POINTS,PLATFORM".split(",")};
t.z__MAINUI=["z__MAINUI",0];t.z__MAINUI.toString=f;t.z__MAINUI.__enum__=t;t.BG=["BG",1];t.BG.toString=f;t.BG.__enum__=t;t.SLIDE_3_BG=["SLIDE_3_BG",2];t.SLIDE_3_BG.toString=f;t.SLIDE_3_BG.__enum__=t;t.SLIDE_2_BG=["SLIDE_2_BG",3];t.SLIDE_2_BG.toString=f;t.SLIDE_2_BG.__enum__=t;t.SLIDE_1_BG=["SLIDE_1_BG",4];t.SLIDE_1_BG.toString=f;t.SLIDE_1_BG.__enum__=t;t.WORLD=["WORLD",5];t.WORLD.toString=f;t.WORLD.__enum__=t;t.SLIDE_3_BACK=["SLIDE_3_BACK",6];t.SLIDE_3_BACK.toString=f;t.SLIDE_3_BACK.__enum__=t;t.SLIDE_3_FRONT=
["SLIDE_3_FRONT",7];t.SLIDE_3_FRONT.toString=f;t.SLIDE_3_FRONT.__enum__=t;t.SLIDE_2_BACK=["SLIDE_2_BACK",8];t.SLIDE_2_BACK.toString=f;t.SLIDE_2_BACK.__enum__=t;t.SLIDE_2_FRONT=["SLIDE_2_FRONT",9];t.SLIDE_2_FRONT.toString=f;t.SLIDE_2_FRONT.__enum__=t;t.SLIDE_1_BACK=["SLIDE_1_BACK",10];t.SLIDE_1_BACK.toString=f;t.SLIDE_1_BACK.__enum__=t;t.SLIDE_1_FRONT=["SLIDE_1_FRONT",11];t.SLIDE_1_FRONT.toString=f;t.SLIDE_1_FRONT.__enum__=t;t.DEBUG_POINTS=["DEBUG_POINTS",12];t.DEBUG_POINTS.toString=f;t.DEBUG_POINTS.__enum__=
t;t.PLATFORM=["PLATFORM",13];t.PLATFORM.toString=f;t.PLATFORM.__enum__=t;t.__empty_constructs__=[t.z__MAINUI,t.BG,t.SLIDE_3_BG,t.SLIDE_2_BG,t.SLIDE_1_BG,t.WORLD,t.SLIDE_3_BACK,t.SLIDE_3_FRONT,t.SLIDE_2_BACK,t.SLIDE_2_FRONT,t.SLIDE_1_BACK,t.SLIDE_1_FRONT,t.DEBUG_POINTS,t.PLATFORM];var i=function(){this.pool=new xe;this._values=new Va;this._defaults=new Va;this["int"]=Vb._new();this["float"]=Vb._new();this.bool=Vb._new();this.string=Vb._new();this.value=Vb._new()};g["com.workinman.cloud.WMCloud"]=i;
i.__name__=!0;i.__properties__={get_instance:"get_instance"};i.get_instance=function(){null==i.__instance&&(i.__instance=new i,i.__instance.init());return i.__instance};i.prototype={init:function(){this.dispatcher=xb.request();this.input=new ye;this.assets=new ze;this.sound=new Ae;this.random=new Be;this.localize=new Ce;this.achievements=new De;this.dialogue=new Ee;this.timer=new Fe;this.inventory=new Ge;this.saving=new He;this.setString(q.STRING_REGION_ID,"en")},setBool:function(a,b){this.setValue(a,
b)},getBool:function(a){return this._values.get(a)},setFloat:function(a,b){this.setValue(a,b)},getFloat:function(a){return this._values.get(a)},setInt:function(a,b){this.setValue(a,b)},modifyInt:function(a,b){return Math.floor(this.modifyValue(a,b))},getInt:function(a){return this._values.get(a)},setString:function(a,b){this.setValue(a,b)},getString:function(a){return this._values.get(a)},setDefault:function(a,b){this._defaults.set(a,b);this.resetValue(a)},setValue:function(a,b){this._values.set(a,
b);!1==this._defaults.exists(a)&&this.setDefault(a,b);this._updateDisplays(a)},modifyValue:function(a,b){null==b&&(b=1);var c=this.getFloat(a)+b;this._values.set(a,c);this._updateDisplays(a);return this.getFloat(a)},resetValue:function(a){var b=this._defaults.get(a);this._values.set(a,b);this._updateDisplays(a)},_updateDisplays:function(a){this.dispatcher.dispatchEvent(W.request(j.UPDATE_DISPLAY,function(){var b=new N;b.set("val",a);return b}(this)))},update:function(a){this.input.update(a);this.dialogue.update(a);
this.timer.update(a);this.sound.update(a);this.achievements.update(a)},__class__:i};var Ie=function(){this.enter_code_header="enter_code_header";this.code_copy="code_copy";this.achievement_unlocked="achievement_unlocked";this.item_desc_default="item_desc_default";this.item_name_default="item_name_default";this.item_unowned="item_unowned";this.next_rank="next_rank";this.currency="currency";this.buy="buy";this.points="points";this.quit_confirm_header="quit_confirm_header";this.help="help";this.back=
"back";this.click_anywhere_again="click_anywhere_again";this.tap_anywhere_again="tap_anywhere_again";this.loading="loading";this.debugfield="debugfield"};g["com.workinman.cloud._WMManifest.TLocal"]=Ie;Ie.__name__=!0;Ie.prototype={__class__:Ie};var Je=function(){this.slide_loop="slide_loop";this.end_stinger="end_stinger";this.button="button";this.thud="thud";this.small_whoosh="small_whoosh";this.end_loop="end_loop";this.countdown="countdown";this.clang="clang";this.cheering="cheering";this.building_loop=
"building_loop";this.big_whoosh="big_whoosh";this.silent="silent"};g["com.workinman.cloud._WMManifest.TSound"]=Je;Je.__name__=!0;Je.prototype={__class__:Je};var Ne=function(){this.T=new Ke;this.R=new Le;this.D=new Me};g["com.workinman.cloud._WMManifest.TSpine"]=Ne;Ne.__name__=!0;Ne.prototype={__class__:Ne};var Oe=function(){this.play="play";this.loadingbar_fill="loadingbar_fill";this.loadingbar="loadingbar";this.keyboard_back="keyboard_back";this.hand="hand";this.countdown_1="countdown_1";this.resume=
"resume";this.pause="pause";this.yellow_tunnelpiece_front="yellow_tunnelpiece_front";this.yellow_tunnelpiece_back="yellow_tunnelpiece_back";this.yellow_8="yellow_8";this.yellow_5_front="yellow_5_front";this.yellow_3="yellow_3";this.yellow_1_front="yellow_1_front";this.yellow_10="yellow_10";this.red_tunnelpiece_front="red_tunnelpiece_front";this.red_tunnelpiece_back="red_tunnelpiece_back";this.red_8="red_8";this.red_5_front="red_5_front";this.red_3="red_3";this.red_10="red_10";this.blue_tunnelpiece_front=
"blue_tunnelpiece_front";this.blue_tunnelpiece_back="blue_tunnelpiece_back";this.unmute="unmute";this.yellow_end="yellow_end";this.yellow_7="yellow_7";this.yellow_5_back="yellow_5_back";this.yellow_1_back="yellow_1_back";this.red_7="red_7";this.red_5_back="red_5_back";this.red_1_front="red_1_front";this.red_1_back="red_1_back";this.blue_8="blue_8";this.blue_7="blue_7";this.blue_5_front="blue_5_front";this.blue_5_back="blue_5_back";this.blue_3="blue_3";this.blue_10="blue_10";this.ui_9="ui_9";this.ui_6=
"ui_6";this.yellow_9="yellow_9";this.yellow_2_front="yellow_2_front";this.yellow_2_back="yellow_2_back";this.red_start_front="red_start_front";this.red_end="red_end";this.red_9="red_9";this.red_2_front="red_2_front";this.red_2_back="red_2_back";this.blue_end="blue_end";this.blue_9="blue_9";this.blue_2_back="blue_2_back";this.blue_1_back="blue_1_back";this.ui_tunnel="ui_tunnel";this.ui_bump="ui_bump";this.ui_backing="ui_backing";this.ui_8="ui_8";this.ui_7="ui_7";this.ui_4="ui_4";this.ui_2="ui_2";this.ui_10=
"ui_10";this.ui_1="ui_1";this.yellow_start_front="yellow_start_front";this.yellow_start_back="yellow_start_back";this.yellow_bumppiece="yellow_bumppiece";this.red_start_back="red_start_back";this.red_bumppiece="red_bumppiece";this.blue_start_front="blue_start_front";this.blue_start_back="blue_start_back";this.blue_bumppiece="blue_bumppiece";this.blue_2_front="blue_2_front";this.blue_1_front="blue_1_front";this.quit="quit";this.mute="mute";this.countdown_3="countdown_3";this.countdown_2="countdown_2";
this.cloud2="cloud2";this.cloud1="cloud1";this.yellow_connection="yellow_connection";this.red_connection="red_connection";this.platform_deco="platform_deco";this.platform="platform";this.blue_connection="blue_connection";this.pausemenu_backing="pausemenu_backing";this.particle_sparkle="particle_sparkle";this.particle_04="particle_04";this.particle_03="particle_03";this.particle_02="particle_02";this.mountain2="mountain2";this.mountain="mountain";this.floor_tileable="floor_tileable";this.cloud3="cloud3";
this.loading_spinner="loading_spinner";this.finishingline="finishingline";this.end_screen="end_screen";this.BG="BG";this.template_bg="template_bg";this.splash="splash"};g["com.workinman.cloud._WMManifest.TTexture"]=Oe;Oe.__name__=!0;Oe.prototype={__class__:Oe};var Pe=function(){this.translation="translation"};g["com.workinman.cloud._WMManifest.TXml"]=Pe;Pe.__name__=!0;Pe.prototype={__class__:Pe};var s=function(){};g["com.workinman.cloud.WMManifest"]=s;s.__name__=!0;var Me=function(){this.name="D"};
g["com.workinman.cloud._WMManifest.SD"]=Me;Me.__name__=!0;Me.prototype={__class__:Me};var Le=function(){this.animations=new Qe;this.name="R"};g["com.workinman.cloud._WMManifest.SR"]=Le;Le.__name__=!0;Le.prototype={__class__:Le};var Qe=function(){this.side="side";this.front="front";this.back="back";this._34="34"};g["com.workinman.cloud._WMManifest.SR_Anims"]=Qe;Qe.__name__=!0;Qe.prototype={__class__:Qe};var Ke=function(){this.name="T"};g["com.workinman.cloud._WMManifest.ST"]=Ke;Ke.__name__=!0;Ke.prototype=
{__class__:Ke};var n=g["com.workinman.cloud.input.INPUT_CONTROLLER"]={__ename__:!0,__constructs__:"A,B,X,Y,DPAD_UP,DPAD_DOWN,DPAD_RIGHT,DPAD_LEFT,LB,RB,LT,RT,START,SELECT,LSTICK_UP,LSTICK_DOWN,LSTICK_RIGHT,LSTICK_LEFT,RSTICK_UP,RSTICK_DOWN,RSTICK_RIGHT,RSTICK_LEFT,LSTICK_BUTTON,RSTICK_BUTTON".split(",")};n.A=["A",0];n.A.toString=f;n.A.__enum__=n;n.B=["B",1];n.B.toString=f;n.B.__enum__=n;n.X=["X",2];n.X.toString=f;n.X.__enum__=n;n.Y=["Y",3];n.Y.toString=f;n.Y.__enum__=n;n.DPAD_UP=["DPAD_UP",4];n.DPAD_UP.toString=
f;n.DPAD_UP.__enum__=n;n.DPAD_DOWN=["DPAD_DOWN",5];n.DPAD_DOWN.toString=f;n.DPAD_DOWN.__enum__=n;n.DPAD_RIGHT=["DPAD_RIGHT",6];n.DPAD_RIGHT.toString=f;n.DPAD_RIGHT.__enum__=n;n.DPAD_LEFT=["DPAD_LEFT",7];n.DPAD_LEFT.toString=f;n.DPAD_LEFT.__enum__=n;n.LB=["LB",8];n.LB.toString=f;n.LB.__enum__=n;n.RB=["RB",9];n.RB.toString=f;n.RB.__enum__=n;n.LT=["LT",10];n.LT.toString=f;n.LT.__enum__=n;n.RT=["RT",11];n.RT.toString=f;n.RT.__enum__=n;n.START=["START",12];n.START.toString=f;n.START.__enum__=n;n.SELECT=
["SELECT",13];n.SELECT.toString=f;n.SELECT.__enum__=n;n.LSTICK_UP=["LSTICK_UP",14];n.LSTICK_UP.toString=f;n.LSTICK_UP.__enum__=n;n.LSTICK_DOWN=["LSTICK_DOWN",15];n.LSTICK_DOWN.toString=f;n.LSTICK_DOWN.__enum__=n;n.LSTICK_RIGHT=["LSTICK_RIGHT",16];n.LSTICK_RIGHT.toString=f;n.LSTICK_RIGHT.__enum__=n;n.LSTICK_LEFT=["LSTICK_LEFT",17];n.LSTICK_LEFT.toString=f;n.LSTICK_LEFT.__enum__=n;n.RSTICK_UP=["RSTICK_UP",18];n.RSTICK_UP.toString=f;n.RSTICK_UP.__enum__=n;n.RSTICK_DOWN=["RSTICK_DOWN",19];n.RSTICK_DOWN.toString=
f;n.RSTICK_DOWN.__enum__=n;n.RSTICK_RIGHT=["RSTICK_RIGHT",20];n.RSTICK_RIGHT.toString=f;n.RSTICK_RIGHT.__enum__=n;n.RSTICK_LEFT=["RSTICK_LEFT",21];n.RSTICK_LEFT.toString=f;n.RSTICK_LEFT.__enum__=n;n.LSTICK_BUTTON=["LSTICK_BUTTON",22];n.LSTICK_BUTTON.toString=f;n.LSTICK_BUTTON.__enum__=n;n.RSTICK_BUTTON=["RSTICK_BUTTON",23];n.RSTICK_BUTTON.toString=f;n.RSTICK_BUTTON.__enum__=n;n.__empty_constructs__=[n.A,n.B,n.X,n.Y,n.DPAD_UP,n.DPAD_DOWN,n.DPAD_RIGHT,n.DPAD_LEFT,n.LB,n.RB,n.LT,n.RT,n.START,n.SELECT,
n.LSTICK_UP,n.LSTICK_DOWN,n.LSTICK_RIGHT,n.LSTICK_LEFT,n.RSTICK_UP,n.RSTICK_DOWN,n.RSTICK_RIGHT,n.RSTICK_LEFT,n.LSTICK_BUTTON,n.RSTICK_BUTTON];var ga=g["com.workinman.cloud.input.INPUT_PHASE"]={__ename__:!0,__constructs__:["DOWN","UP","MOVE"]};ga.DOWN=["DOWN",0];ga.DOWN.toString=f;ga.DOWN.__enum__=ga;ga.UP=["UP",1];ga.UP.toString=f;ga.UP.__enum__=ga;ga.MOVE=["MOVE",2];ga.MOVE.toString=f;ga.MOVE.__enum__=ga;ga.__empty_constructs__=[ga.DOWN,ga.UP,ga.MOVE];var ca=g["com.workinman.cloud.input.INPUT_SWIPE"]=
{__ename__:!0,__constructs__:["NONE","LEFT","RIGHT","UP","DOWN"]};ca.NONE=["NONE",0];ca.NONE.toString=f;ca.NONE.__enum__=ca;ca.LEFT=["LEFT",1];ca.LEFT.toString=f;ca.LEFT.__enum__=ca;ca.RIGHT=["RIGHT",2];ca.RIGHT.toString=f;ca.RIGHT.__enum__=ca;ca.UP=["UP",3];ca.UP.toString=f;ca.UP.__enum__=ca;ca.DOWN=["DOWN",4];ca.DOWN.toString=f;ca.DOWN.__enum__=ca;ca.__empty_constructs__=[ca.NONE,ca.LEFT,ca.RIGHT,ca.UP,ca.DOWN];var A=g["com.workinman.cloud.input.INPUT_TYPE"]={__ename__:!0,__constructs__:"CLICK,UI_OK,UI_DENY,UI_MENU,D0,D1,D2,D3,D4,D5,MOVE_UP,MOVE_DOWN,MOVE_LEFT,MOVE_RIGHT,JUMP,ATTACK".split(",")};
A.CLICK=["CLICK",0];A.CLICK.toString=f;A.CLICK.__enum__=A;A.UI_OK=["UI_OK",1];A.UI_OK.toString=f;A.UI_OK.__enum__=A;A.UI_DENY=["UI_DENY",2];A.UI_DENY.toString=f;A.UI_DENY.__enum__=A;A.UI_MENU=["UI_MENU",3];A.UI_MENU.toString=f;A.UI_MENU.__enum__=A;A.D0=["D0",4];A.D0.toString=f;A.D0.__enum__=A;A.D1=["D1",5];A.D1.toString=f;A.D1.__enum__=A;A.D2=["D2",6];A.D2.toString=f;A.D2.__enum__=A;A.D3=["D3",7];A.D3.toString=f;A.D3.__enum__=A;A.D4=["D4",8];A.D4.toString=f;A.D4.__enum__=A;A.D5=["D5",9];A.D5.toString=
f;A.D5.__enum__=A;A.MOVE_UP=["MOVE_UP",10];A.MOVE_UP.toString=f;A.MOVE_UP.__enum__=A;A.MOVE_DOWN=["MOVE_DOWN",11];A.MOVE_DOWN.toString=f;A.MOVE_DOWN.__enum__=A;A.MOVE_LEFT=["MOVE_LEFT",12];A.MOVE_LEFT.toString=f;A.MOVE_LEFT.__enum__=A;A.MOVE_RIGHT=["MOVE_RIGHT",13];A.MOVE_RIGHT.toString=f;A.MOVE_RIGHT.__enum__=A;A.JUMP=["JUMP",14];A.JUMP.toString=f;A.JUMP.__enum__=A;A.ATTACK=["ATTACK",15];A.ATTACK.toString=f;A.ATTACK.__enum__=A;A.__empty_constructs__=[A.CLICK,A.UI_OK,A.UI_DENY,A.UI_MENU,A.D0,A.D1,
A.D2,A.D3,A.D4,A.D5,A.MOVE_UP,A.MOVE_DOWN,A.MOVE_LEFT,A.MOVE_RIGHT,A.JUMP,A.ATTACK];var eb=g["com.workinman.cloud.input.INPUT_VIRTUAL"]={__ename__:!0,__constructs__:["JUMP","ATTACK"]};eb.JUMP=["JUMP",0];eb.JUMP.toString=f;eb.JUMP.__enum__=eb;eb.ATTACK=["ATTACK",1];eb.ATTACK.toString=f;eb.ATTACK.__enum__=eb;eb.__empty_constructs__=[eb.JUMP,eb.ATTACK];var ja=g["com.workinman.cloud.screen.CHANGE_TYPE"]={__ename__:!0,__constructs__:["OPEN_BEGIN","OPEN_COMPLETE","CLOSE_BEGIN","CLOSE_COMPLETE"]};ja.OPEN_BEGIN=
["OPEN_BEGIN",0];ja.OPEN_BEGIN.toString=f;ja.OPEN_BEGIN.__enum__=ja;ja.OPEN_COMPLETE=["OPEN_COMPLETE",1];ja.OPEN_COMPLETE.toString=f;ja.OPEN_COMPLETE.__enum__=ja;ja.CLOSE_BEGIN=["CLOSE_BEGIN",2];ja.CLOSE_BEGIN.toString=f;ja.CLOSE_BEGIN.__enum__=ja;ja.CLOSE_COMPLETE=["CLOSE_COMPLETE",3];ja.CLOSE_COMPLETE.toString=f;ja.CLOSE_COMPLETE.__enum__=ja;ja.__empty_constructs__=[ja.OPEN_BEGIN,ja.OPEN_COMPLETE,ja.CLOSE_BEGIN,ja.CLOSE_COMPLETE];var r=g["com.workinman.cloud.screen.FLOW"]={__ename__:!0,__constructs__:"SPLASH_PLAY,HELP_CLOSE,SHOP,SHOP_CLOSE,GAMEPLAY_MENU,GAMEPLAY_MENU_CLOSE,GAMEPLAY_MENU_HELP,GAMEPLAY_MENU_QUIT,GAMEPLAY_QUIT_YES,GAMEPLAY_QUIT_NO,END_GAME_PLAY_AGAIN,BRANCH_GAME_WIN,BRANCH_GAME_LOSE,BRANCH_LEVEL_WIN,BRANCH_LEVEL_LOSE,ENTER_CODE_CLOSE,ENTER_CODE_OPEN,LOAD_CLOSE,ACHIEVEMENT_POPUP,ACHIEVEMENT_POPUP_CLOSE,ACHIEVEMENT,ACHIEVEMENT_CLOSE,DIALOGUE_POPUP,DIALOGUE_CLOSE,DEBUG_CLOSE".split(",")};
r.SPLASH_PLAY=["SPLASH_PLAY",0];r.SPLASH_PLAY.toString=f;r.SPLASH_PLAY.__enum__=r;r.HELP_CLOSE=["HELP_CLOSE",1];r.HELP_CLOSE.toString=f;r.HELP_CLOSE.__enum__=r;r.SHOP=["SHOP",2];r.SHOP.toString=f;r.SHOP.__enum__=r;r.SHOP_CLOSE=["SHOP_CLOSE",3];r.SHOP_CLOSE.toString=f;r.SHOP_CLOSE.__enum__=r;r.GAMEPLAY_MENU=["GAMEPLAY_MENU",4];r.GAMEPLAY_MENU.toString=f;r.GAMEPLAY_MENU.__enum__=r;r.GAMEPLAY_MENU_CLOSE=["GAMEPLAY_MENU_CLOSE",5];r.GAMEPLAY_MENU_CLOSE.toString=f;r.GAMEPLAY_MENU_CLOSE.__enum__=r;r.GAMEPLAY_MENU_HELP=
["GAMEPLAY_MENU_HELP",6];r.GAMEPLAY_MENU_HELP.toString=f;r.GAMEPLAY_MENU_HELP.__enum__=r;r.GAMEPLAY_MENU_QUIT=["GAMEPLAY_MENU_QUIT",7];r.GAMEPLAY_MENU_QUIT.toString=f;r.GAMEPLAY_MENU_QUIT.__enum__=r;r.GAMEPLAY_QUIT_YES=["GAMEPLAY_QUIT_YES",8];r.GAMEPLAY_QUIT_YES.toString=f;r.GAMEPLAY_QUIT_YES.__enum__=r;r.GAMEPLAY_QUIT_NO=["GAMEPLAY_QUIT_NO",9];r.GAMEPLAY_QUIT_NO.toString=f;r.GAMEPLAY_QUIT_NO.__enum__=r;r.END_GAME_PLAY_AGAIN=["END_GAME_PLAY_AGAIN",10];r.END_GAME_PLAY_AGAIN.toString=f;r.END_GAME_PLAY_AGAIN.__enum__=
r;r.BRANCH_GAME_WIN=["BRANCH_GAME_WIN",11];r.BRANCH_GAME_WIN.toString=f;r.BRANCH_GAME_WIN.__enum__=r;r.BRANCH_GAME_LOSE=["BRANCH_GAME_LOSE",12];r.BRANCH_GAME_LOSE.toString=f;r.BRANCH_GAME_LOSE.__enum__=r;r.BRANCH_LEVEL_WIN=["BRANCH_LEVEL_WIN",13];r.BRANCH_LEVEL_WIN.toString=f;r.BRANCH_LEVEL_WIN.__enum__=r;r.BRANCH_LEVEL_LOSE=["BRANCH_LEVEL_LOSE",14];r.BRANCH_LEVEL_LOSE.toString=f;r.BRANCH_LEVEL_LOSE.__enum__=r;r.ENTER_CODE_CLOSE=["ENTER_CODE_CLOSE",15];r.ENTER_CODE_CLOSE.toString=f;r.ENTER_CODE_CLOSE.__enum__=
r;r.ENTER_CODE_OPEN=["ENTER_CODE_OPEN",16];r.ENTER_CODE_OPEN.toString=f;r.ENTER_CODE_OPEN.__enum__=r;r.LOAD_CLOSE=["LOAD_CLOSE",17];r.LOAD_CLOSE.toString=f;r.LOAD_CLOSE.__enum__=r;r.ACHIEVEMENT_POPUP=["ACHIEVEMENT_POPUP",18];r.ACHIEVEMENT_POPUP.toString=f;r.ACHIEVEMENT_POPUP.__enum__=r;r.ACHIEVEMENT_POPUP_CLOSE=["ACHIEVEMENT_POPUP_CLOSE",19];r.ACHIEVEMENT_POPUP_CLOSE.toString=f;r.ACHIEVEMENT_POPUP_CLOSE.__enum__=r;r.ACHIEVEMENT=["ACHIEVEMENT",20];r.ACHIEVEMENT.toString=f;r.ACHIEVEMENT.__enum__=r;
r.ACHIEVEMENT_CLOSE=["ACHIEVEMENT_CLOSE",21];r.ACHIEVEMENT_CLOSE.toString=f;r.ACHIEVEMENT_CLOSE.__enum__=r;r.DIALOGUE_POPUP=["DIALOGUE_POPUP",22];r.DIALOGUE_POPUP.toString=f;r.DIALOGUE_POPUP.__enum__=r;r.DIALOGUE_CLOSE=["DIALOGUE_CLOSE",23];r.DIALOGUE_CLOSE.toString=f;r.DIALOGUE_CLOSE.__enum__=r;r.DEBUG_CLOSE=["DEBUG_CLOSE",24];r.DEBUG_CLOSE.toString=f;r.DEBUG_CLOSE.__enum__=r;r.__empty_constructs__=[r.SPLASH_PLAY,r.HELP_CLOSE,r.SHOP,r.SHOP_CLOSE,r.GAMEPLAY_MENU,r.GAMEPLAY_MENU_CLOSE,r.GAMEPLAY_MENU_HELP,
r.GAMEPLAY_MENU_QUIT,r.GAMEPLAY_QUIT_YES,r.GAMEPLAY_QUIT_NO,r.END_GAME_PLAY_AGAIN,r.BRANCH_GAME_WIN,r.BRANCH_GAME_LOSE,r.BRANCH_LEVEL_WIN,r.BRANCH_LEVEL_LOSE,r.ENTER_CODE_CLOSE,r.ENTER_CODE_OPEN,r.LOAD_CLOSE,r.ACHIEVEMENT_POPUP,r.ACHIEVEMENT_POPUP_CLOSE,r.ACHIEVEMENT,r.ACHIEVEMENT_CLOSE,r.DIALOGUE_POPUP,r.DIALOGUE_CLOSE,r.DEBUG_CLOSE];var fb=g["com.workinman.cloud.screen.SCREEN_OUTPUT"]={__ename__:!0,__constructs__:["OPENED","CLOSED"]};fb.OPENED=["OPENED",0];fb.OPENED.toString=f;fb.OPENED.__enum__=
fb;fb.CLOSED=["CLOSED",1];fb.CLOSED.toString=f;fb.CLOSED.__enum__=fb;fb.__empty_constructs__=[fb.OPENED,fb.CLOSED];var w=g["com.workinman.cloud.screen.SCREEN_TYPE"]={__ename__:!0,__constructs__:"SPLASH,HELP,SHOP,LOAD_LEVEL,SELECT_SAVE,GAMEPLAY_HUD,GAMEPLAY_MENU,QUIT_CONFIRM,END_LEVEL,END_GAME,END_SUMMARY,CUTSCENE_BORDERS,UNLOCK,ENTER_CODE,ACHIEVEMENTS,ACHIEVEMENT_POPUP,DIALOGUE_POPUP,DEBUG".split(",")};w.SPLASH=["SPLASH",0];w.SPLASH.toString=f;w.SPLASH.__enum__=w;w.HELP=["HELP",1];w.HELP.toString=
f;w.HELP.__enum__=w;w.SHOP=["SHOP",2];w.SHOP.toString=f;w.SHOP.__enum__=w;w.LOAD_LEVEL=["LOAD_LEVEL",3];w.LOAD_LEVEL.toString=f;w.LOAD_LEVEL.__enum__=w;w.SELECT_SAVE=["SELECT_SAVE",4];w.SELECT_SAVE.toString=f;w.SELECT_SAVE.__enum__=w;w.GAMEPLAY_HUD=["GAMEPLAY_HUD",5];w.GAMEPLAY_HUD.toString=f;w.GAMEPLAY_HUD.__enum__=w;w.GAMEPLAY_MENU=["GAMEPLAY_MENU",6];w.GAMEPLAY_MENU.toString=f;w.GAMEPLAY_MENU.__enum__=w;w.QUIT_CONFIRM=["QUIT_CONFIRM",7];w.QUIT_CONFIRM.toString=f;w.QUIT_CONFIRM.__enum__=w;w.END_LEVEL=
["END_LEVEL",8];w.END_LEVEL.toString=f;w.END_LEVEL.__enum__=w;w.END_GAME=["END_GAME",9];w.END_GAME.toString=f;w.END_GAME.__enum__=w;w.END_SUMMARY=["END_SUMMARY",10];w.END_SUMMARY.toString=f;w.END_SUMMARY.__enum__=w;w.CUTSCENE_BORDERS=["CUTSCENE_BORDERS",11];w.CUTSCENE_BORDERS.toString=f;w.CUTSCENE_BORDERS.__enum__=w;w.UNLOCK=["UNLOCK",12];w.UNLOCK.toString=f;w.UNLOCK.__enum__=w;w.ENTER_CODE=["ENTER_CODE",13];w.ENTER_CODE.toString=f;w.ENTER_CODE.__enum__=w;w.ACHIEVEMENTS=["ACHIEVEMENTS",14];w.ACHIEVEMENTS.toString=
f;w.ACHIEVEMENTS.__enum__=w;w.ACHIEVEMENT_POPUP=["ACHIEVEMENT_POPUP",15];w.ACHIEVEMENT_POPUP.toString=f;w.ACHIEVEMENT_POPUP.__enum__=w;w.DIALOGUE_POPUP=["DIALOGUE_POPUP",16];w.DIALOGUE_POPUP.toString=f;w.DIALOGUE_POPUP.__enum__=w;w.DEBUG=["DEBUG",17];w.DEBUG.toString=f;w.DEBUG.__enum__=w;w.__empty_constructs__=[w.SPLASH,w.HELP,w.SHOP,w.LOAD_LEVEL,w.SELECT_SAVE,w.GAMEPLAY_HUD,w.GAMEPLAY_MENU,w.QUIT_CONFIRM,w.END_LEVEL,w.END_GAME,w.END_SUMMARY,w.CUTSCENE_BORDERS,w.UNLOCK,w.ENTER_CODE,w.ACHIEVEMENTS,
w.ACHIEVEMENT_POPUP,w.DIALOGUE_POPUP,w.DEBUG];var Tf=function(){};g["com.workinman.cloudutils.AchievementData"]=Tf;Tf.__name__=!0;Tf.prototype={__class__:Tf};var De=function(){this._queue=[];this.popupOpen=this.enabled=!1};g["com.workinman.cloudutils.WMAchievementManager"]=De;De.__name__=!0;De.prototype={init:function(){},update:function(){!1==this.popupOpen&&0<this._queue.length&&(this.popupOpen=!0,F.dispatchFlowEvent(r.ACHIEVEMENT_POPUP))},getQueue:function(){return this._queue.shift()},_calcScore:function(){this.points=
0},_addEventListeners:function(){i.get_instance().dispatcher.addEventListener(j.UPDATE_DISPLAY,p(this,this._onCheckAchievements))},_onCheckAchievements:function(){},__class__:De};var Vb=function(){};g["com.workinman.cloudutils._WMCloudMap.WMCloudMap_Impl_"]=Vb;Vb.__name__=!0;Vb._new=function(){return new Re};var Re=function(){};g["com.workinman.cloudutils.WMCloudMapBase"]=Re;Re.__name__=!0;Re.prototype={__class__:Re};var gb=g["com.workinman.cloudutils._WMDialogueManager.DIALOGUE_STATE"]={__ename__:!0,
__constructs__:["ACTIVE","READY"]};gb.ACTIVE=["ACTIVE",0];gb.ACTIVE.toString=f;gb.ACTIVE.__enum__=gb;gb.READY=["READY",1];gb.READY.toString=f;gb.READY.__enum__=gb;gb.__empty_constructs__=[gb.ACTIVE,gb.READY];var Ee=function(){this._queue=[];this._dialogueTracker=[];this._currentDialogue="";this._addEventListeners();this._setState(gb.READY)};g["com.workinman.cloudutils.WMDialogueManager"]=Ee;Ee.__name__=!0;Ee.prototype={_addEventListeners:function(){i.get_instance().dispatcher.addEventListener(j.DIALOGUE_LINE_COMPLETE,
p(this,this._onDialogueComplete))},_onDialogueComplete:function(){this._setState(gb.READY)},_setState:function(a){this._state=a;switch(this._state[1]){case 1:i.get_instance().dispatcher.dispatchEvent(W.request(j.DIALOGUE_QUEUE_COMPLETE)),""!=this._currentDialogue&&(this._dialogueTracker.push(this._currentDialogue),this._currentDialogue="")}},update:function(a){switch(this._state[1]){case 1:if(0<this._queue.length){if(0<this._delay){this._delay-=a;break}this._setState(gb.ACTIVE);F.dispatchFlowEvent(r.DIALOGUE_POPUP)}}},
grabData:function(){return this._queue.shift()},__class__:Ee};var ye=function(){this._delegateListenerArray=[];this._delegateUnlockWebAudio=null;this._inputTrackers=[];this._virtualDown=[];this._controllerDown=[];this.multiTouch=[];this.leftStick=E.request();this.rightStick=E.request();this._enabled=!1;this.pointer=new wd(-1)};g["com.workinman.cloudutils.WMInput"]=ye;ye.__name__=!0;ye.prototype={setDelegateUnlockWebAudio:function(a){this._delegateUnlockWebAudio=a},addDelegateListener:function(a){for(var b=
0,c=this._delegateListenerArray;b<c.length;){var d=c[b];++b;if(d==a)return}this._delegateListenerArray.push(a)},removeDelegateListener:function(a){for(var b=this._delegateListenerArray.length;0<b--;)if(this._delegateListenerArray[b]==a){this._delegateListenerArray.splice(b,1);break}},setEnabled:function(a){this._enabled=a},_delegateDispatch:function(a,b,c,d,h){null!=this._delegateUnlockWebAudio&&a==ga.UP&&(this._delegateUnlockWebAudio(),this._delegateUnlockWebAudio=null);if(!1!=this._enabled)for(var B=
0,e=this._delegateListenerArray;B<e.length;){var f=e[B];++B;f(a,b,c,d,h)}},update:function(){if(!1!=this._enabled){this._findGamepad();null!=this._gamepad&&(this._gamepad.update(),this.leftStick.to(this._gamepad.leftX,this._gamepad.leftY),this.rightStick.to(this._gamepad.rightX,this._gamepad.rightY));for(var a=0,b=this._inputTrackers;a<b.length;){var c=b[a];++a;c.updateStatus()}this.pointer.fresh=!1;for(a=this.multiTouch.length;0<a--;)b=this.multiTouch[a],b.fresh=!1,b.phase==ga.UP&&(b.dispose(),this.multiTouch.splice(a,
1))}},_findGamepad:function(){if(o.isFunction((fg=window.navigator,p(fg,fg.getGamepads))))for(var a=0,b=window.navigator.getGamepads();a<b.length;){var c=b[a];++a;if(null!=c&&-1<c.id.indexOf("Xbox 360 Controller")){null==this._gamepad?this._gamepad=new xd(c):this._gamepad.setGamepad(c);break}}},prime:function(a){this._root=a;J._platform.getKeyboard().down.connect(p(this,this._onKeyDown));J._platform.getKeyboard().up.connect(p(this,this._onKeyUp));J._platform.getTouch().get_supported()&&(J._platform.getTouch().down.connect(p(this,
this._onTouchDown)),J._platform.getTouch().move.connect(p(this,this._onTouchMove)),J._platform.getTouch().up.connect(p(this,this._onTouchUp)));J._platform.getPointer().down.connect(p(this,this._onPointerDown));J._platform.getPointer().move.connect(p(this,this._onPointerMove));J._platform.getPointer().up.connect(p(this,this._onPointerUp));J._platform.getMouse().scroll.connect(p(this,this._onScrollWheel))},_onScrollWheel:function(a){i.get_instance().dispatcher.dispatchEvent(W.request(j.INPUT_SCROLL_WHEEL,
function(){var b=new N;b.set("velocity",a);return b}(this)))},hitTest:function(a,b){return this._root.hitTest(a,b)},registerInput:function(a,b,c,d){this._createOrGetInputTracker(a).setKeys(b,c,d)},_createOrGetInputTracker:function(a){for(var b=0,c=this._inputTrackers;b<c.length;){var d=c[b];++b;if(d.type==a)return d}a=new Se(a,p(this,this._fireKeyEvent),p(this,this._isVirtualDown),p(this,this._isControllerDown));this._inputTrackers.push(a);return a},_fireKeyEvent:function(a,b){this._delegateDispatch(b,
a,0,0,ca.NONE)},_onKeyDown:function(a){i.get_instance().dispatcher.dispatchEvent(W.request(j.INPUT_ARBITRARY_KEY_KEYBOARD,function(){var b=new N;b.set("key",a.key);b.set("phase",ga.DOWN);return b}(this)))},_onKeyUp:function(a){i.get_instance().dispatcher.dispatchEvent(W.request(j.INPUT_ARBITRARY_KEY_KEYBOARD,function(){var b=new N;b.set("key",a.key);b.set("phase",ga.UP);return b}(this)))},_isVirtualDown:function(a){for(var b=0,c=this._virtualDown;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1},
onControllerDown:function(a){for(var b=0,c=this._controllerDown;b<c.length;){var d=c[b];++b;if(d==a)return}this._controllerDown.push(a)},onControllerUp:function(a){for(var b=this._controllerDown.length;0<b--;)if(this._controllerDown[b]==a){this._controllerDown.splice(b,1);break}},_isControllerDown:function(a){for(var b=0,c=this._controllerDown;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1},_onTouchDown:function(a){this._doTouchDown(a.id,a.viewX,a.viewY)},_onTouchMove:function(a){this._doTouchMove(a.id,
a.viewX,a.viewY)},_onTouchUp:function(a){this._doTouchUp(a.id,a.viewX,a.viewY)},_doTouchDown:function(a,b,c){var d=this._findTouch(a);null==d&&(d=new wd(a),this.multiTouch.push(d));d.begin(b,c)},_doTouchMove:function(a,b,c){a=this._findTouch(a);null!=a&&a.move(b,c)},_doTouchUp:function(a,b,c){a=this._findTouch(a);null!=a&&a.end(b,c)},_findTouch:function(a){for(var b=0,c=this.multiTouch;b<c.length;){var d=c[b];++b;if(d.id==a)return d}return null},_onPointerDown:function(a){this.pointer.begin(a.viewX,
a.viewY);!1==J._platform.getTouch().get_supported()&&this._doTouchDown(0,a.viewX,a.viewY);this._delegateDispatch(ga.DOWN,A.CLICK,this.pointer.get_currentPos().x,this.pointer.get_currentPos().y,this.pointer.swipe)},_onPointerMove:function(a){this.pointer.move(a.viewX,a.viewY);!1==J._platform.getTouch().get_supported()&&this._doTouchMove(0,a.viewX,a.viewY);this._delegateDispatch(ga.MOVE,A.CLICK,this.pointer.get_currentPos().x,this.pointer.get_currentPos().y,this.pointer.swipe)},_onPointerUp:function(a){this.pointer.end(a.viewX,
a.viewY);!1==J._platform.getTouch().get_supported()&&this._doTouchUp(0,a.viewX,a.viewY);this._delegateDispatch(ga.UP,A.CLICK,this.pointer.get_currentPos().x,this.pointer.get_currentPos().y,this.pointer.swipe)},__class__:ye};var Se=function(a,b,c,d){this.type=a;this._keys=[];this._virtual=[];this._controller=[];this._fireDelegate=b;this._virtualTestDelegate=c;this._controllerTestDelegate=d;this._pointer=null;this.fresh=this.down=!1};g["com.workinman.cloudutils.WMInputTracker"]=Se;Se.__name__=!0;Se.prototype=
{setKeys:function(a,b,c){if(null!=a)for(var d=0;d<a.length;){var h=a[d];++d;this._keys.push(h)}if(null!=b)for(a=0;a<b.length;)d=b[a],++a,this._virtual.push(d);if(null!=c)for(b=0;b<c.length;)a=c[b],++b,this._controller.push(a)},updateStatus:function(){this.fresh=!1;this.down?!1==this._isDown()&&(this.down=!1,this._fireDelegate(this.type,ga.UP)):this._isDown()&&(this.fresh=this.down=!0,this._fireDelegate(this.type,ga.DOWN))},_isDown:function(){for(var a=0,b=this._keys;a<b.length;){var c=b[a];++a;if(J._platform.getKeyboard().isDown(c))return!0}a=
0;for(b=this._virtual;a<b.length;)if(c=b[a],++a,this._virtualTestDelegate(c))return!0;a=0;for(b=this._controller;a<b.length;)if(c=b[a],++a,this._controllerTestDelegate(c))return!0;return null!=this._pointer&&this._pointer.down?!0:!1},__class__:Se};var Ge=function(){this._inventory=Sf.buildAllInvetoryList()};g["com.workinman.cloudutils.WMInventoryManager"]=Ge;Ge.__name__=!0;Ge.prototype={getItemData:function(a){return this._inventory.get(a)},canAffordNextRank:function(a){return this._inventory.get(a).get_canAffordNextRank()},
getCostToPurchaseNextRank:function(a){return this._inventory.get(a).get_costToPurchaseNextRank()},modRank:function(a,b){null==b&&(b=1);return this._inventory.get(a).modRank(b)},get_fullItemList:function(){return this._inventory},__class__:Ge,__properties__:{get_fullItemList:"get_fullItemList"}};var Ga=g["com.workinman.cloudutils.LOCALIZATION_FORMAT"]={__ename__:!0,__constructs__:["TRADITIONAL_XML","STRINGS_JS","STRINGS_JSON"]};Ga.TRADITIONAL_XML=["TRADITIONAL_XML",0];Ga.TRADITIONAL_XML.toString=f;
Ga.TRADITIONAL_XML.__enum__=Ga;Ga.STRINGS_JS=["STRINGS_JS",1];Ga.STRINGS_JS.toString=f;Ga.STRINGS_JS.__enum__=Ga;Ga.STRINGS_JSON=["STRINGS_JSON",2];Ga.STRINGS_JSON.toString=f;Ga.STRINGS_JSON.__enum__=Ga;Ga.__empty_constructs__=[Ga.TRADITIONAL_XML,Ga.STRINGS_JS,Ga.STRINGS_JSON];var Ce=function(){this._localizedData=new N;this._emptyLocalization=new yd("","","",1,0,0,-1)};g["com.workinman.cloudutils.WMLocalize"]=Ce;Ce.__name__=!0;Ce.prototype={parseLocalization:function(a){null==a&&(a="");if(null==
a||""==a)a=s.xml.translation;var b=i.get_instance().assets.getXML(a),a=Ga.TRADITIONAL_XML;b.has.resolve("format")&&(a=qa.createEnum(Ga,b.att.resolve("format")));this.defaultFont=b.att.resolve("defaultFont");this.rtl=!1;b.has.resolve("rtl")&&(this.rtl="true"==b.att.resolve("rtl"));this.subtitlesEnabled=!1;b.has.resolve("sub")&&(this.subtitlesEnabled="true"==b.att.resolve("sub"));switch(a[1]){case 0:a="";for(b=b.nodes.resolve("string").iterator();b.hasNext();){var c=b.next(),a=c.att.resolve("id");this._localizedData.exists(a)||
this._addLocalizationData(a,c.get_innerData(),c.has.resolve("fontName")?c.att.resolve("fontName"):this.defaultFont,c.has.resolve("fontScale")?c.att.resolve("fontScale"):"1",c.has.resolve("offsetX")?c.att.resolve("offsetX"):"0",c.has.resolve("offsetY")?c.att.resolve("offsetY"):"0",c.has.resolve("subTime")?c.att.resolve("subTime"):"-1")}break;case 2:for(a=b.nodes.resolve("json").iterator();a.hasNext();)for(var b=a.next(),b=JSON.parse(i.get_instance().assets.getFile(b.get_innerData()).toString()),c=
0,d=o.fields(b.strings);c<d.length;){var h=d[c];++c;var B=o.field(b.strings,h);null!=B.value?this._addLocalizationData(h,B.value,null==B.fontName?"":B.fontName,null==B.fontScale?"1":B.fontScale,null==B.offsetX?"0":B.offsetX,null==B.offsetY?"0":B.offsetY,null==B.subTime?"-1":B.subTime):this._addLocalizationData(h,B,"","1","0","0","-1")}}},_addLocalizationData:function(a,b,c,d,h,B,e){this._localizedData.exists(a)&&this._localizedData.get(a).dispose();b=new yd(a,b,c,C.parseFloat(d),C.parseFloat(h),C.parseFloat(B),
C.parseFloat(e));this._localizedData.set(a,b);b},getLocalizeData:function(a){return!1==this._localizedData.exists(a)?this._emptyLocalization:this._localizedData.get(a)},__class__:Ce};var yd=function(a,b,c,d,h,B,e){this.id=a;this.string=this._sanitizeString(b);this.fontName=c;this.scale=d;this.offsetX=h;this.offsetY=B;this.subtitleTime=e};g["com.workinman.cloudutils.WMLocalizedData"]=yd;yd.__name__=!0;yd.prototype={dispose:function(){this.fontName=this.string=this.id=null},_sanitizeString:function(a){a=
da.replace(a,"<br>","\n");return a=da.replace(a,"\\n","\n")},__class__:yd};var wd=function(a){this.lastPos=E.request();this.line=m.request();this.phase=ga.UP;this.swipe=ca.NONE;this.down=!1;this.fresh=!0;this.id=a;this.disposed=this.consumed=!1};g["com.workinman.cloudutils.WMPointer"]=wd;wd.__name__=!0;wd.prototype={dispose:function(){this.disposed=!0;this.lastPos.dispose();this.lastPos=null;this.line.dispose();this.phase=this.swipe=this.line=null},get_currentPos:function(){return this.line.get_p1()},
begin:function(a,b){this.line.toFloats(a,b,a,b);this.lastPos.to(a,b);this.fresh=this.down=!0;this.consumed=!1;this.phase=ga.DOWN;this.swipe=ca.NONE},move:function(a,b){this._updateInfo(a,b);this.phase=ga.MOVE},end:function(a,b){this._updateInfo(a,b);this.phase=ga.UP;this.down=!1},_updateInfo:function(a,b){this.lastPos.toPoint(this.line.get_p1());this.line.endTo(a,b,0);var c=this.line.get_p0().x-this.line.get_p1().x,d=this.line.get_p0().y-this.line.get_p1().y;this.swipe=30<=Math.abs(c)&&30>Math.abs(d)?
0<c?ca.LEFT:ca.RIGHT:30<=Math.abs(d)&&30>Math.abs(c)?0<d?ca.UP:ca.DOWN:ca.NONE},__class__:wd,__properties__:{get_currentPos:"get_currentPos"}};var He=function(){};g["com.workinman.cloudutils.WMSaving"]=He;He.__name__=!0;He.prototype={getData:function(a){var a=mc.getLocal(a),b=a.data;a.dispose();return b},__class__:He};var Fe=function(){this._timers=[];this._uniqueInc=0;this._paused=!1};g["com.workinman.cloudutils.WMTimer"]=Fe;Fe.__name__=!0;Fe.prototype={update:function(a){if(!this._paused)for(var b=
this._timers.length;0<b--;)this._timers[b].update(a),this._timers[b].doDelete&&(this._timers[b].dispose(),this._timers.splice(b,1))},start:function(a,b,c){null==c&&(c="");null!=a&&this._timers.push(Fb.request(a,b,""==c?"def"+this._uniqueInc++:c))},__class__:Fe};var Qa=function(){};g["com.workinman.pooling.IStrictPoolable"]=Qa;Qa.__name__=!0;Qa.prototype={__class__:Qa};var K=function(){};g["com.workinman.pooling.PoolStrictBase"]=K;K.__name__=!0;K.__interfaces__=[Qa];K.prototype={instance:function(a,
b){this._returnFunction=b;this._key=a;this.poolActivate();this.create();return this},get_poolKey:function(){return this._key},create:function(){},poolActivate:function(){this._disposed=!1},dispose:function(){this._disposed||(this._disposed=!0,this._returnFunction(this))},destroy:function(){this._returnFunction=null},__class__:K,__properties__:{get_poolKey:"get_poolKey"}};var Fb=function(){};g["com.workinman.cloudutils.WMTimerData"]=Fb;Fb.__name__=!0;Fb.__interfaces__=[Qa];Fb.request=function(a,b,
c){return i.get_instance().pool.requestObject("WMTimerData",Fb).init(a,b,c)};Fb.__super__=K;Fb.prototype=v(K.prototype,{init:function(a,b,c){this._id=c;this._callback=a;this._timer=b;this._paused=this.doDelete=!1;return this},get_id:function(){return this._id},dispose:function(){this._callback=this._id=null;K.prototype.dispose.call(this)},pause:function(){this._paused=!0},unPause:function(){this._paused=!1},update:function(a){this._paused||(this._timer-=a,0>this._timer&&(this.fireCallback(),this.doDelete=
!0))},fireCallback:function(){null!=this._callback&&(this._callback(),this._callback=null)},__class__:Fb,__properties__:v(K.prototype.__properties__,{get_id:"get_id"})});var Te=function(a,b,c,d){this.path=a;if(-1<a.indexOf("/")){var h=a.split("/");this.format=h[h.length-1]}else this.format=a;this.id=0<this.format.indexOf(".")?this.format.split(".")[0]:this.format;if(null!=b&&0>this.format.indexOf("."))switch(b[1]){case 2:this.format+=".png";break;case 3:this.format+=".jpg";break;case 11:this.format+=
".ogg";break;case 8:this.format+=".mp3"}this._assetMap=c;this.pack=d;this.pack.addAsset(this);this.texture=this.pack.pack.getTexture(sa.removeExtension(a),!1);this.sound=this.pack.pack.getSound(sa.removeExtension(a),!1);this.file=this.pack.pack.getFile(a,!1);this._testRemoveId(this.id);this._testRemoveId(this.format);this._assetMap.set(this.id,this);this;this._assetMap.set(this.format,this);this;this.disposed=!1};g["com.workinman.cloudutils.assets.WMAssetDef"]=Te;Te.__name__=!0;Te.prototype={dispose:function(){this.disposed||
(this.disposed=!0,null!=this.texture&&(this.texture.dispose(),this.texture=null),null!=this.sound&&(this.sound.dispose(),this.sound=null),null!=this.file&&(this.file.dispose(),this.file=null),this._assetMap.exists(this.id)&&this._assetMap.remove(this.id),this._assetMap.exists(this.format)&&this._assetMap.remove(this.format),this.id=this.format=this._assetMap=null)},_testRemoveId:function(a){if(!1!=this._assetMap.exists(a)){var b=this._assetMap.get(a);this._assetMap.remove(a);b.testDispose()}},testDispose:function(){!1==
this._assetMap.exists(this.id)&&!1==this._assetMap.exists(this.format)&&this.dispose()},__class__:Te};var ze=function(){this.set_baseUrl("");this._assets=new N;this._packs=new N;this._chunks=new N;this._customManifests=new N;this._packedSprites=new N;this._packedSounds=new N;this._flagBaseIsCrossdomain=!1;this._loadingProgress=this._loadingTotal=this._manifestsLoaded=this._manifestsMax=0;this._loadingCallback=null;this._fontCache=new N;this._requests=[]};g["com.workinman.cloudutils.assets.WMAssetManager"]=
ze;ze.__name__=!0;ze.prototype={get_isLoading:function(){return this._manifestsLoaded<this._manifestsMax},set_baseUrl:function(a){return this.baseUrl=a},setCrossdomainBaseUrl:function(a){this._flagBaseIsCrossdomain=!0;this.set_baseUrl(a)},addChunk:function(a,b){var c=this._parseChunk(a,b);this._chunks.set(a,c);c},_parseChunk:function(a,b){for(var c=[],d=[],h=b.nodes.resolve("chunk").iterator();h.hasNext();){var B=h.next();c.push(B.get_innerData().toString())}for(h=b.nodes.resolve("pack").iterator();h.hasNext();)B=
h.next(),d.push(B.get_innerData().toString());return new Ue(a,d,c)},finishProcessingChunks:function(){for(var a=[],b=this._chunks.iterator();b.hasNext();){for(var c=b.next();0<a.length;)a.pop();this._addNestedChunkArray(c,a);for(var d=0;d<a.length;){var h=a[d];++d;for(var B=0,h=this._chunks.get(h).packIds;B<h.length;){var e=h[B];++B;sa.addStringToArrayWithoutDuplicates(e,c.packIds)}}}},_addNestedChunkArray:function(a,b){for(var c=0,d=a.chunkIds;c<d.length;){var h=d[c];++c;!1==this._arrayContainsChunk(b,
h)&&(b.push(h),this._addNestedChunkArray(this._chunks.get(h),b))}},_arrayContainsChunk:function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(d==b)return!0}return!1},load:function(a,b,c,d,h){null==h&&(h=0);var B=this;if(0<h)i.get_instance().timer.start(function(){B.load(a,b,c,d,0)},h);else{if(this.get_isLoading())throw"[WMAssetManager](load) Multiple loads happening at once. Combine these loads.";if(null==a)throw"[WMAssetManager](load) Callback is null!";null==b&&(b=[]);null==c&&(c=[]);null==d&&
(d=[]);for(var h=[],e=0;e<c.length;){var f=c[e];++e;!1==this._isPackLoaded(f)&&sa.addStringToArrayWithoutDuplicates(f,h)}for(var c=null,g,e=0;e<b.length;){f=b[e];++e;g=this._chunks.get(f);f=0;for(g=g.packIds;f<g.length;){var j=g[f];++f;!1==this._isPackLoaded(j)&&sa.addStringToArrayWithoutDuplicates(j,h)}}b=g=null;e=[];for(f=0;f<d.length;)g=d[f],++f,!1==this._customManifests.exists(g)?null:!1==this._isPackLoaded(g)&&sa.addStringToArrayWithoutDuplicates(g,e);d=null;if(1>h.length&&1>e.length)h=e=null,
a();else{i.get_instance().setFloat(q.FLOAT_LOADING_PROGRESS,0);this._loadingProgress=0;this._loadingCallback=a;this._manifestsMax+=h.length+e.length;for(f=0;f<h.length;)g=h[f],++f,this._loadPack(g);for(h=0;h<e.length;)f=e[h],++h,this._loadManifest(this._customManifests.get(f),f);e=h=null}}},_isPackLoaded:function(a){return this._packs.exists(a)},_loadPack:function(a){var b=bb.fromAssets(a);""!=this.baseUrl&&(this._flagBaseIsCrossdomain?b.set_remoteBase(this.baseUrl):b.set_localBase(this.baseUrl));
this._loadManifest(b,a)},_loadManifest:function(a,b){var c=this,d=J._platform.loadAssetPack(a);this._loadingTotal+=d._total;var h=0;d.error.connect(p(this,this._loadingError));d.progressChanged.connect(function(){var a=d._progress-h;h=d._progress;c._loadingProgress+=a;i.get_instance().setFloat(q.FLOAT_LOADING_PROGRESS,Za.clamp(c._loadingProgress/c._loadingTotal,0,1))});this._requests.push(d.get(function(a){c._addPack(b,new Ve(a,p(c,c._disposePackedSprite),p(c,c._disposePackedSound)));++c._manifestsLoaded>=
c._manifestsMax&&c._onAllLoadComplete()}))},_loadingError:function(){i.get_instance().dispatcher.dispatchEvent(W.request(j.FILES_ERROR));this._manifestsLoaded++},_onAllLoadComplete:function(){if(null!=this._loadingCallback){var a=this._loadingCallback;this._loadingCallback=null;a()}for(;0<this._requests.length;)this._requests.pop()},_addPack:function(a,b){this._packs.set(a,b);b;for(var c="",d=b.pack.get_manifest().iterator();d.hasNext();){var h=d.next(),c=sa.getExtension(h.name);switch(c){case "xml":if(this._parseSoundXML(h.name,
b.pack.getFile(h.name).toString(),b))continue;break;case "atlas":this._parseSpriteAtlas(b.pack.getFile(h.name).toString(),b)}new Te(h.name,h.format,this._assets,b)}},_parseSpriteAtlas:function(a,b){for(var c=a.split("\n");1<c.length;){for(;1>=c[0].length;)c.shift();for(var d=da.rtrim(c.shift());!(-1<c.shift().indexOf("repeat:")););for(;1<c.length&&0<c[0].length;)this._parsePackedSpriteAndMovePlayhead(d,c,b)}},_parsePackedSpriteAndMovePlayhead:function(a,b,c){for(var d=[],h;!(h=b.shift(),d.push(da.rtrim(h)),
-1<h.indexOf("index:")););0>d[0].indexOf("/")?b=d[0]:(b=d[0].split("/"),b=b[b.length-1]);this._addPackedSprite(b,a,new We(d),c)},_addPackedSprite:function(a,b,c,d){this._packedSprites.exists(a)&&this._packedSprites.get(a).dispose();b=new Xe(b,c);this._packedSprites.set(a,b);d.addSpriteSheet(a)},_parseSoundXML:function(a,b,c){a=I.parse(b);b=new Wb(a.firstElement());if(!1==b.hasNode.resolve("sound"))return!1;a=b.node.resolve("sound").att.resolve("file").toString();for(b=b.nodes.resolve("sound").iterator();b.hasNext();){var d=
b.next(),h=d.att.resolve("name").toString(),d=new Ye(h,a,C.parseFloat(d.att.resolve("start").toString())/1E3,C.parseFloat(d.att.resolve("length").toString())/1E3);this._packedSounds.set(h,d);c.addSoundSheet(h)}return!0},_disposePackedSound:function(a){!1!=this._packedSounds.exists(a)&&(this._packedSounds.get(a).dispose(),this._packedSounds.remove(a))},_disposePackedSprite:function(a){!1!=this._packedSprites.exists(a)&&(this._packedSprites.get(a).dispose(),this._packedSprites.remove(a))},hasTexture:function(a){null==
a&&(a="");return null==a||""==a?!1:this._hasAsset(a)},hasSound:function(a){null==a&&(a="");return null==a||""==a?!1:this._hasAsset(a)},hasXML:function(a){null==a&&(a="");return null==a||""==a?!1:this._hasAsset(a)},_hasAsset:function(a){return this._packedSprites.exists(a)||this._packedSounds.exists(a)?!0:this._assets.exists(a)},getAsset:function(a){return!1==this._hasAsset(a)?null:this._assets.get(a)},getTexture:function(a){null==a&&(a="");return!1==this.hasTexture(a)?null:this._packedSprites.exists(a)?
!1==this._assets.exists(this._packedSprites.get(a).atlas)?null:this._assets.get(this._packedSprites.get(a).atlas).texture:!1==this._assets.exists(a)?null:this._assets.get(a).texture},getSpriteRect:function(a){null==a&&(a="");return null==a||""==a||!1==this._packedSprites.exists(a)?null:this._packedSprites.get(a).rect},getSound:function(a){null==a&&(a="");if(!1==this.hasSound(a))return null;var b=this._packedSounds.get(a);return null!=b?new zd(this._assets.get(b.fileName).sound,b):new zd(this._assets.get(a).sound,
null)},getFile:function(a){return!1==this._hasAsset(a)?null:this._assets.get(a).file},getXML:function(a){null==a&&(a="");if(!1==this.hasXML(a))return null;a=I.parse(this.getFile(a).toString());return new Wb(a.firstElement())},allConfig:function(a){null==a&&(a=!1);for(var b=[],c=0,d=s.xmlconfig;c<d.length;){var h=d[c];++c;a&&null;b.push(this.getXML(h))}return b},getFont:function(a,b){null==b&&(b=!0);if(null==a||""==a||!1==this._assets.exists(a))return this.getFont(i.get_instance().localize.defaultFont);
if(!1==b)return new Gb(this._assets.get(a).pack.pack,a);if(!1==this._fontCache.exists(a)){var c=new Gb(this._assets.get(a).pack.pack,a);this._fontCache.set(a,c);c}return this._fontCache.get(a)},__class__:ze,__properties__:{set_baseUrl:"set_baseUrl",get_isLoading:"get_isLoading"}};var Ve=function(a,b,c){this.pack=a;this._assets=[];this._spriteSheets=[];this._soundSheets=[];this._disposePackedSpriteDelegate=b;this._disposePackedSoundDelegate=c};g["com.workinman.cloudutils.assets.WMAssetPack"]=Ve;Ve.__name__=
!0;Ve.prototype={addSpriteSheet:function(a){this._spriteSheets.push(a)},addSoundSheet:function(a){this._soundSheets.push(a)},addAsset:function(a){this._assets.push(a)},__class__:Ve};var Ue=function(a,b,c){this.id=a;this.packIds=b;this.chunkIds=c};g["com.workinman.cloudutils.assets.WMChunkDef"]=Ue;Ue.__name__=!0;Ue.prototype={__class__:Ue};var zd=function(a,b){this.sound=a;this.data=b};g["com.workinman.cloudutils.assets.WMSoundData"]=zd;zd.__name__=!0;zd.prototype={__class__:zd};var Ye=function(a,
b,c,d){this.id=a;this.fileName=b;this.start=c;this.length=d};g["com.workinman.cloudutils.assets.WMSoundSheetData"]=Ye;Ye.__name__=!0;Ye.prototype={dispose:function(){this.fileName=this.id=null},__class__:Ye};var Xe=function(a,b){this.rect=b;this.atlas=a};g["com.workinman.cloudutils.assets.WMSpriteSheetDef"]=Xe;Xe.__name__=!0;Xe.prototype={dispose:function(){this.atlas=this.rect=null},__class__:Xe};var hb=g["com.workinman.cloudutils.input.GAMEPAD_TYPE"]={__ename__:!0,__constructs__:["NONE","XBOX_360"]};
hb.NONE=["NONE",0];hb.NONE.toString=f;hb.NONE.__enum__=hb;hb.XBOX_360=["XBOX_360",1];hb.XBOX_360.toString=f;hb.XBOX_360.__enum__=hb;hb.__empty_constructs__=[hb.NONE,hb.XBOX_360];var Xb=function(a,b){this.gamepad=a;this.type=b;this._buttons=new Va;this._addButton(n.A);this._addButton(n.B);this._addButton(n.X);this._addButton(n.Y);this._addButton(n.RB);this._addButton(n.LB);this._addButton(n.RT);this._addButton(n.LT);this._addButton(n.DPAD_UP);this._addButton(n.DPAD_DOWN);this._addButton(n.DPAD_LEFT);
this._addButton(n.DPAD_RIGHT);this._addButton(n.LSTICK_UP);this._addButton(n.LSTICK_DOWN);this._addButton(n.LSTICK_LEFT);this._addButton(n.LSTICK_RIGHT);this._addButton(n.RSTICK_UP);this._addButton(n.RSTICK_DOWN);this._addButton(n.RSTICK_LEFT);this._addButton(n.RSTICK_RIGHT);this._addButton(n.START);this._addButton(n.SELECT);this._addButton(n.LSTICK_BUTTON);this._addButton(n.RSTICK_BUTTON)};g["com.workinman.cloudutils.input.GamepadBase"]=Xb;Xb.__name__=!0;Xb.prototype={setGamepad:function(a){this.gamepad=
a},update:function(){this.leftX=this.leftY=this.rightX=this.rightY=0},_normalizeAxis:function(a){a=Math.floor(100*a)/100;0.15>Math.abs(a)&&(a=0);return a},_addButton:function(a){this._buttons.set(a,!1);!1},_testButton:function(a,b){!1==this._buttons.get(a)&&b?(this._buttons.set(a,!0),!0,i.get_instance().input.onControllerDown(a)):!0==this._buttons.get(a)&&!1==b&&(this._buttons.set(a,!1),!1,i.get_instance().input.onControllerUp(a))},__class__:Xb};var xd=function(a){Xb.call(this,a,hb.XBOX_360);this.leftX=
this.leftY=this.rightX=this.rightY=0};g["com.workinman.cloudutils.input.GamepadXbox360"]=xd;xd.__name__=!0;xd.__super__=Xb;xd.prototype=v(Xb.prototype,{update:function(){Xb.prototype.update.call(this);this.leftX=this._normalizeAxis(this.gamepad.axes[0]);this.leftY=this._normalizeAxis(this.gamepad.axes[1]);this.rightX=this._normalizeAxis(this.gamepad.axes[2]);this.rightY=this._normalizeAxis(this.gamepad.axes[3]);this._testButton(n.A,y.__cast(this.gamepad.buttons[0],GamepadButton).pressed);this._testButton(n.B,
y.__cast(this.gamepad.buttons[1],GamepadButton).pressed);this._testButton(n.X,y.__cast(this.gamepad.buttons[2],GamepadButton).pressed);this._testButton(n.Y,y.__cast(this.gamepad.buttons[3],GamepadButton).pressed);this._testButton(n.LB,y.__cast(this.gamepad.buttons[4],GamepadButton).pressed);this._testButton(n.RB,y.__cast(this.gamepad.buttons[5],GamepadButton).pressed);this._testButton(n.LT,y.__cast(this.gamepad.buttons[6],GamepadButton).pressed);this._testButton(n.RT,y.__cast(this.gamepad.buttons[7],
GamepadButton).pressed);this._testButton(n.SELECT,y.__cast(this.gamepad.buttons[8],GamepadButton).pressed);this._testButton(n.START,y.__cast(this.gamepad.buttons[9],GamepadButton).pressed);this._testButton(n.LSTICK_BUTTON,this.gamepad.buttons[10].pressed);this._testButton(n.RSTICK_BUTTON,this.gamepad.buttons[11].pressed);this._testButton(n.DPAD_UP,y.__cast(this.gamepad.buttons[12],GamepadButton).pressed);this._testButton(n.DPAD_DOWN,y.__cast(this.gamepad.buttons[13],GamepadButton).pressed);this._testButton(n.DPAD_LEFT,
y.__cast(this.gamepad.buttons[14],GamepadButton).pressed);this._testButton(n.DPAD_RIGHT,y.__cast(this.gamepad.buttons[15],GamepadButton).pressed);this._testButton(n.LSTICK_LEFT,0>this.leftX);this._testButton(n.LSTICK_RIGHT,0<this.leftX);this._testButton(n.LSTICK_UP,0>this.leftY);this._testButton(n.LSTICK_DOWN,0<this.leftY);this._testButton(n.RSTICK_LEFT,0>this.rightX);this._testButton(n.RSTICK_RIGHT,0<this.rightX);this._testButton(n.RSTICK_UP,0>this.rightY);this._testButton(n.RSTICK_DOWN,0<this.rightY)},
__class__:xd});var Aa=g["com.workinman.cloudutils.sound.AUDIO_PRIORITY"]={__ename__:!0,__constructs__:["MUSIC","VO","SFX"]};Aa.MUSIC=["MUSIC",0];Aa.MUSIC.toString=f;Aa.MUSIC.__enum__=Aa;Aa.VO=["VO",1];Aa.VO.toString=f;Aa.VO.__enum__=Aa;Aa.SFX=["SFX",2];Aa.SFX.toString=f;Aa.SFX.__enum__=Aa;Aa.__empty_constructs__=[Aa.MUSIC,Aa.VO,Aa.SFX];var Yb=function(){};g["com.workinman.cloudutils.sound.SoundDef"]=Yb;Yb.__name__=!0;Yb.request=function(a,b,c,d){return i.get_instance().pool.requestObject("SoundDef",
Yb).init(a,b,c,d)};Yb.__super__=K;Yb.prototype=v(K.prototype,{init:function(a,b,c,d){this._complete=null;this.doDelete=!1;this.id=a;this._loop=c;this._maxVol=this.volume=1;this.sound=b;this._length=this._start=-1;null!=d.data&&(this._start=d.data.start,this._length=d.data.length);this._htmlAudio=null;return this},dispose:function(){null!=this.playback&&(this.playback.dispose(),this.playback=null);null!=this.sound&&(this.sound.dispose(),this.sound=null);null!=this._complete&&this._complete();this._htmlAudio=
this.id=this._complete=null;K.prototype.dispose.call(this)},update:function(){this.playback.volume.set__(this._maxVol*this.volume);if(this.playback.get_paused()||this.playback.get_complete().get__())this.doDelete=!0;if(-1<this._length&&-1<this._start){var a=this.playback.get_position()>this._start+this._length;null==this._htmlAudio&&(a=this.playback.get_position()>this._length);!1!=a&&(this._loop?null!=this._htmlAudio&&(this._htmlAudio.currentTime=this._start):this.doDelete=!0)}},playSound:function(a,
b){null==a&&(a=1);if(null==this.sound)return null!=b&&b(),null;this._maxVol=a;this.volume=1;this._loop?this.playback=this.sound.loop(a):(null!=b&&(this._complete=b),this.playback=this.sound.play(a));if(-1==this._start&&-1==this._length)return this;this._loop&&null;if($.get_supported()){var c=o.getProperty(this.playback,"_sourceNode"),d=c.buffer;c.disconnect();c=$.ctx.createBufferSource();o.setProperty(this.playback,"_sourceNode",c);c.buffer=d;c.loop=this._loop;c.loopStart=this._start;c.loopEnd=Math.min(this._start+
this._length,this.sound.get_duration());c.start(0,this._start);o.callMethod(this.playback,o.field(this.playback,"playAudio"),[])}else this._htmlAudio=o.getProperty(this.playback,"_clonedElement"),this._htmlAudio.currentTime=this._start;return this},__class__:Yb});var nc=function(){};g["com.workinman.cloudutils.sound.VOQueue"]=nc;nc.__name__=!0;nc.request=function(a,b,c,d,h){return i.get_instance().pool.requestObject("VOQueue",nc).init(a,b,c,d,h)};nc.__super__=K;nc.prototype=v(K.prototype,{init:function(a,
b,c,d,h){this.id=a;this.call=c;this.delay=d;this.gain=b;this.localization=h;return this},__class__:nc});var Ae=function(){this._audioPriority=Aa.MUSIC;this._musicId=null;this._musicGain=1;this._muteVo=this._muteSfx=this._muteMusic=this._muteSystem=this._muteAll=!1;this._mixer=new Ad;this._tween=Pa.request();this._voQueue=[];this._music=null;this._sound=new N;this._vo=null;this._soundRemoval=[];this.subtitleQueue=[]};g["com.workinman.cloudutils.sound.WMSound"]=Ae;Ae.__name__=!0;Ae.prototype={get_muteAll:function(){return this._muteAll},
set_muteAll:function(a){this._muteAll=a;this._toggleMute();return this._muteAll},_toggleMute:function(){this._getMutePriority(Aa.MUSIC)?this.stopMusic():this.playMusic(this._musicId,this._musicGain);this._getMutePriority(Aa.SFX)&&this.stopAllSound();this._getMutePriority(Aa.VO)&&this.stopVO()},_getMutePriority:function(a){if(this._muteAll||this._muteSystem)return!0;switch(a[1]){case 0:return this._muteMusic;case 2:return this._muteSfx;case 1:return this._muteVo}return!1},playMusic:function(a,b,c){null==
c&&(c=-1);null==b&&(b=1);if(!(this._musicId==a&&null!=this._music)){this._musicId=a;this._musicGain=b;if(0<c&&null!=this._music)this._tween.tween(this._music,c,{volume:0},!0,k.LINEAR).onComplete(p(this,this._onPlayMusicFadeOutComplete));else null!=this._music&&(this._music.doDelete=!0,this._music.dispose(),this._music=null);this._music=this._playAudio(a,b,null,!0,Aa.MUSIC)}},_onPlayMusicFadeOutComplete:function(){this.playMusic(this._musicId,this._musicGain)},stopMusic:function(a){null==a&&(a=-1);
if(0<a){if(null!=this._music)this._tween.tween(this._music,a,{volume:0},!0,k.LINEAR).onComplete(p(this,this._onStopMusicFadeOutComplete))}else null!=this._music&&(this._music.doDelete=!0)},_onStopMusicFadeOutComplete:function(){null!=this._music&&(this._music.doDelete=!0)},playSound:function(a,b,c,d){null==d&&(d=!1);null==b&&(b=1);if(this._sound.exists(a))return this._sound.get(a).playSound(b,c);b=this._playAudio(a,b,c,d,Aa.SFX);if(null==b)return null;this._sound.set(a,b);return this._sound.get(a)},
stopAllSound:function(){for(var a=this._sound.iterator();a.hasNext();)a.next().doDelete=!0},stopVO:function(){for(;0<this._voQueue.length;)this._voQueue.pop().dispose();null!=this._vo&&(this._vo.doDelete=!0)},_playAudio:function(a,b,c,d,h){if(null==a||this._getMutePriority(h)||!1==F.allAudioSupported()&&h!=this._audioPriority)return null!=c&&c(),null;h=i.get_instance().assets.getSound(a);return null==h?(null!=c&&c(),null):Yb.request(a,this._mixer.createSound(h.sound,4),d,h).playSound(b,c)},update:function(a){var b=
this;this._tween.update(a);for(var c=this._sound.iterator();c.hasNext();){var d=c.next();d.doDelete?(this._soundRemoval.push(d.id),d.dispose()):d.update(a)}for(;0<this._soundRemoval.length;)this._sound.remove(this._soundRemoval.pop());null!=this._music&&(this._music.doDelete?(this._music.dispose(),this._music=null):this._music.update(a));if(null==this._vo&&0<this._voQueue.length){if(this._voQueue[0].delay-=a,0>this._voQueue[0].delay){var h=this._voQueue.shift();i.get_instance().dispatcher.dispatchEvent(W.request(j.VO_STARTED));
this.subtitleQueue.push(h.localization);this._vo=this._playAudio(h.id,1,function(){null!=h.call&&h.call();b.subtitleQueue.shift()},!1,Aa.VO);h.dispose()}}else null!=this._vo&&(this._vo.doDelete?(this._vo.dispose(),this._vo=null,1>this._voQueue.length?(i.get_instance().dispatcher.dispatchEvent(W.request(j.VO_ENDED)),null!=this._music&&this._tween.tween(this._music,0.2,{volume:1},!0,k.EASE_IN_OUT)):0<this._voQueue[0].delay&&i.get_instance().dispatcher.dispatchEvent(W.request(j.VO_PAUSED))):this._vo.update(a))},
__class__:Ae,__properties__:{set_muteAll:"set_muteAll",get_muteAll:"get_muteAll"}};var Eb=function(){};g["com.workinman.display.QueuedAnimation"]=Eb;Eb.__name__=!0;Eb.__interfaces__=[Qa];Eb.request=function(a,b,c){return i.get_instance().pool.requestObject("QueuedAnimation",Eb).init(a,b,c)};Eb.__super__=K;Eb.prototype=v(K.prototype,{init:function(a,b,c){this._name=a;this._loops=b;this._force=c;return this},get_name:function(){return this._name},get_loops:function(){return this._loops},get_force:function(){return this._force},
__class__:Eb,__properties__:v(K.prototype.__properties__,{get_force:"get_force",get_loops:"get_loops",get_name:"get_name"})});var zb=function(){};g["com.workinman.display.AnimationDef"]=zb;zb.__name__=!0;zb.__interfaces__=[Qa];zb.request=function(a,b,c,d){null==c&&(c=-1);null==b&&(b=-1);return i.get_instance().pool.requestObject("AnimationDef",zb).init(a,b,c,d)};zb.__super__=K;zb.prototype=v(K.prototype,{create:function(){this._frameIds=[]},init:function(a,b,c,d){null==c&&(c=-1);null==b&&(b=-1);this._id=
a;this._playReverse=!1;if(null!=d){for(a=0;a<d.length;)b=d[a],++a,this._frameIds.push(b);this._startFrame=1;this._endFrame=this._frameIds.length}else this._startFrame=b,this._endFrame=c,b>c&&(this._playReverse=!0,this._startFrame=c,this._endFrame=b);return this},dispose:function(){for(;0<this._frameIds.length;)this._frameIds.pop();K.prototype.dispose.call(this)},destroy:function(){this._frameIds=null;K.prototype.destroy.call(this)},get_start:function(){return this._startFrame},get_end:function(){return this._endFrame},
get_reverse:function(){return this._playReverse},get_id:function(){return this._id},get_frameIds:function(){return this._frameIds},__class__:zb,__properties__:v(K.prototype.__properties__,{get_frameIds:"get_frameIds",get_id:"get_id",get_reverse:"get_reverse",get_end:"get_end",get_start:"get_start"})});var lc=function(a,b,c,d,h){null==d&&(d=!1);this._layerOrder=[];this._layers=new Va;this.root=a.addChild(new Bd(b,c,this._layers,this._layerOrder));this.camera=this.root.camera;this._defaultLayer=h;this._enablePointer=
d};g["com.workinman.display.ElementManager"]=lc;lc.__name__=!0;lc.prototype={dispose:function(){null!=this.root&&(this.root.doDelete=!0,this.root=null);this._defaultLayer=this._layerOrder=this._layers=null},addLayer:function(a){this._layers.exists(a)?L.remove(this._layerOrder,a):this._layers.set(a,[]);this._layerOrder.push(a)},addElement:function(a,b){null==b&&null!=this._defaultLayer&&(b=this._defaultLayer);if(null==b||!1==this._layers.exists(b))return a;null!=a.parent&&a.parent.removeChild(a);this.root.addElementLayer(a,
b);return a},update:function(a){for(var b,c=this._layers.iterator();c.hasNext();)for(var d=c.next(),h=d.length;0<h--;)b=d[h],b.runUpdate(a),b.doDelete&&(b.dispose(),d.splice(h,1))},__class__:lc};var Bd=function(a,b,c,d){U.call(this,null);this.camera=new Ze(this,a,b);this._layers=c;this._layerOrder=d};g["com.workinman.display.WMElementManagerSprite"]=Bd;Bd.__name__=!0;Bd.__super__=U;Bd.prototype=v(U.prototype,{dispose:function(){U.prototype.dispose.call(this);null!=this.camera&&(this.camera.dispose(),
this.camera=null);if(null!=this._layers){for(var a=this._layers.iterator();a.hasNext();)for(var b=a.next(),c=0;c<b.length;){var d=b[c];++c;d.dispose()}this._layers=null}this._layerOrder=null},hitTest:function(a,b,c){if(!1==this.visible||!1==this.inputEnabled)return null;for(var d=null,h=this._layerOrder.length,B;0<h--;){B=this._layers.get(this._layerOrder[h]);for(var e=B.length;0<e--;)if(d=B[e].hitTest(a,b,c),null!=d)return d}return U.prototype.hitTest.call(this,a,b,c)},addElementLayer:function(a,
b){if(!1==this._layers.exists(b))return a;null!=a.parent&&a.parent.removeChild(a);a.parent=this;this._layers.get(b).push(a);return a},removeChild:function(a){for(var b=this._layers.iterator();b.hasNext();){var c=b.next();if(L.remove(c,a)){a.parent=null;break}}return a},render:function(a){a.ctx.save();this._matrix.compose(this.get_x(),this.get_y(),this.scaleX,this.scaleY,3.141592653589793*this.rotation/180);null!=this.parent&&Wa.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);
a.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);for(var b=0,c=this.children.length;b<c;)this.children[b++].render(a,null);for(var c=0,d=this._layerOrder.length;c<d;)for(var b=this._layers.get(this._layerOrder[c++]),h=0,e=b.length;h<e;){var f=h++;b[f].render(a,this.camera)}a.ctx.restore()},__class__:Bd});var ka=function(a){U.call(this,a);this._fontName="";this.set_wrapWidth(this.set_letterSpacing(this.set_lineSpacing(0)));this.set_align(ua.Center);
null!=a&&(this.setText(a.text),null!=a.align&&this.set_align(a.align),null!=a.wrapWidth&&this.set_wrapWidth(a.wrapWidth),null!=a.lineSpacing&&this.set_lineSpacing(a.lineSpacing),null!=a.letterSpacing&&this.set_letterSpacing(a.letterSpacing));this.inputEnabled=!1};g["com.workinman.display.TextLocalized"]=ka;ka.__name__=!0;ka.__super__=U;ka.prototype=v(U.prototype,{dispose:function(){this._text=this._data=this._fontName=this._font=this._layout=null;this.set_align(null);U.prototype.dispose.call(this)},
get_width:function(){return null==this._layout||null==this._data?0:(0<this.wrapWidth?this.wrapWidth:this._layout.bounds.width)*this._data.scale},get_height:function(){if(null==this._layout||null==this._data)return 0;var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing),b=this._layout.bounds.height;return(a>b?a:b)*this._data.scale},set_align:function(a){if(null==a)return this.align=null;this.align=a;this._updateLayout();return a},set_originX:function(){return this.originX=0},set_wrapWidth:function(a){this.wrapWidth=
a;this._updateLayout();return a},set_letterSpacing:function(a){this.letterSpacing=a;this._updateLayout();return a},set_lineSpacing:function(a){this.lineSpacing=a;this._updateLayout();return a},setText:function(a,b){this._data=i.get_instance().localize.getLocalizeData(a);this.set_offsetX(this._data.offsetX);this.set_offsetY(this._data.offsetY);this._setFont(this._data.fontName);this._text=this._replaceVars(b);this._updateLayout()},setVariables:function(a){null!=this._data&&(this._text=this._replaceVars(a),
this._updateLayout())},_updateLayout:function(){null==this._data||null==this._font||(this._layout=this._font.layoutText(this._text,this.align,this.wrapWidth/this._data.scale,this.letterSpacing,this.lineSpacing))},_draw:function(a){if(null!=this._layout){a.ctx.save();if(0<this.wrapWidth){var b=this.wrapWidth*this._data.scale;switch(this.align[1]){case 1:a.ctx.translate(-b,0);break;case 2:a.ctx.translate(2*-b,0)}}a.ctx.scale(this._data.scale,this._data.scale);this._layout.draw(a.ctx);a.ctx.restore()}},
_setFont:function(a){a!=this._fontName&&(this._font=i.get_instance().assets.getFont(a))},_replaceVars:function(a){for(var b="",c=this._data.string.split("}"),d=0;d<c.length;){var h=c[d];++d;h=h.split("{");b+=h[0];1<h.length&&(h=C.parseInt(h[1]),b=null!=a&&a.length>h?b+a[h]:b+("[Missing {"+h+"}]"))}return b},__class__:ka,__properties__:v(U.prototype.__properties__,{set_lineSpacing:"set_lineSpacing",set_letterSpacing:"set_letterSpacing",set_wrapWidth:"set_wrapWidth",set_align:"set_align"})});var rb=
function(a){U.call(this,a);this.color=16711680;this.sizeX=this.sizeY=10;null!=a&&(this.color=a.color,this.sizeX=a.sizeX,this.sizeY=a.sizeY)};g["com.workinman.display.WMFillSprite"]=rb;rb.__name__=!0;rb.__super__=U;rb.prototype=v(U.prototype,{get_width:function(){return Math.floor(this.sizeX)},get_height:function(){return Math.floor(this.sizeY)},_draw:function(a){a.ctx.fillRect(this.color,0,0,this.sizeX,this.sizeY)},__class__:rb});var $e=function(a){this.ctx=a;this.canvasCtx=null;y.__instanceof(a,
Hb)&&(this.canvasCtx=o.field(a,"_canvasCtx"))};g["com.workinman.display.WMGraphics"]=$e;$e.__name__=!0;$e.prototype={__class__:$e};var kb=function(){};g["flambe.util.Disposable"]=kb;kb.__name__=!0;kb.prototype={__class__:kb};var Ha=function(){this._flags=0;this.owner=this.next=null};g["flambe.Component"]=Ha;Ha.__name__=!0;Ha.__interfaces__=[kb];Ha.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&
this.owner.remove(this)},get_name:function(){return null},__class__:Ha,__properties__:{get_name:"get_name"}};var ma=function(){this.blendMode=this.scissor=null;var a=this;Ha.call(this);this._flags|=54;this._localMatrix=new Wa;var b=function(){a._flags|=24};this.x=new Ra(0,b);this.y=new Ra(0,b);this.rotation=new Ra(0,b);this.scaleX=new Ra(1,b);this.scaleY=new Ra(1,b);this.anchorX=new Ra(0,b);this.anchorY=new Ra(0,b);this.alpha=new Ra(1)};g["flambe.display.Sprite"]=ma;ma.__name__=!0;ma.hitTest=function(a,
b,c){var d=a._compMap.Sprite_0;if(null!=d){if(6!=(d._flags&6))return null;d.getLocalMatrix().inverseTransform(b,c,ma._scratchPoint)&&(b=ma._scratchPoint.x,c=ma._scratchPoint.y);var h=d.scissor;if(null!=h&&!h.contains(b,c))return null}a=ma.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};ma.render=function(a,b){var c=a._compMap.Sprite_0;if(null!=c){var d=c.alpha._value;if(0==(c._flags&2)||0>=d)return;b.save();1>d&&b.multiplyAlpha(d);null!=c.blendMode&&b.setBlendMode(c.blendMode);
var d=c.getLocalMatrix(),h=d.m02,e=d.m12;0!=(c._flags&32)&&(h=Math.round(h),e=Math.round(e));b.transform(d.m00,d.m10,d.m01,d.m11,h,e);d=c.scissor;null!=d&&b.applyScissor(d.x,d.y,d.width,d.height);c.draw(b)}d=a._compMap.Director_2;if(null!=d){d=d.occludedScenes;for(h=0;h<d.length;)e=d[h],++h,ma.render(e,b)}for(d=a.firstChild;null!=d;)h=d.next,ma.render(d,b),d=h;null!=c&&b.restore()};ma.hitTestBackwards=function(a,b,c){if(null!=a){var d=ma.hitTestBackwards(a.next,b,c);return null!=d?d:ma.hitTest(a,
b,c)}return null};ma.__super__=Ha;ma.prototype=v(Ha.prototype,{get_name:function(){return"Sprite_0"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,
-this.anchorY._value));return this._localMatrix},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=
a;){var b=a._compMap.Sprite_0;if(null!=b)return b;a=a.parent}return null},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=J._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);
null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},
__class__:ma});var Hc=function(a){ma.call(this);this._root=new U(null);this._lastStageX=this._lastStageX=0;this._updateDelegate=a;this._calcScale();this._scratchPoint=new Db;null==this._graphics};g["com.workinman.display.WMRootSprite"]=Hc;Hc.__name__=!0;Hc.__super__=ma;Hc.prototype=v(ma.prototype,{dispose:function(){this._scratchPoint=this._updateDelegate=null;ma.prototype.dispose.call(this)},onUpdate:function(a){this._root.runUpdate(a);this._updateDelegate(a)},hitTest:function(a,b){return this._root.hitTest(a,
b,this._scratchPoint)},_calcScale:function(){if(!(J._platform.getStage().get_width()==this._lastStageX&&J._platform.getStage().get_height()==this._lastStageY)){this._lastStageX=J._platform.getStage().get_width();this._lastStageY=J._platform.getStage().get_height();this._root.set_x(0.5*this._lastStageX);this._root.set_y(0.5*this._lastStageY);var a=this._lastStageY/560;this._fullWidth=this._lastStageX/a;this._root.rotation=0;F.STAGE_WIDTH=Math.min(Math.ceil(this._fullWidth),1024);F.STAGE_CENTER_X=Math.floor(0.5*
F.STAGE_WIDTH);this._root.set_scale(a);i.get_instance().dispatcher.dispatchEvent(W.request(j.RESIZE_CANVAS,function(){var b=new N;b.set("scale",a);return b}(this)))}},addChild:function(a){return this._root.addChild(a)},draw:function(a){null==this._graphics&&(this._graphics=new $e(a));this._calcScale();a.fillRect(0,-F.STAGE_CENTER_X-1,-281,F.STAGE_WIDTH+2,562);this._root.render(this._graphics,null);a.save();a.translate(this._root.get_x(),this._root.get_y());a.scale(this._root.scale,this._root.scale);
a.rotate(this._root.rotation);var b=Math.ceil(0.5*(this._fullWidth-F.STAGE_WIDTH)),c=Math.ceil(0.5*this._fullWidth);0<b&&(a.fillRect(0,-c,-281,b,562),a.fillRect(0,c-b,-281,b,562));a.restore()},__class__:Hc});var We=function(a){this._parseRes={x:0,y:0};this.rotate=-1<a[1].indexOf("true");this._setXY(this._getLineData(a[2]));this._setSizeXY(this._getLineData(a[3]));this._setOrig(this._getLineData(a[4]));this._setOffset(this._getLineData(a[5]));this._parseRes=null};g["com.workinman.display.WMSpriteRect"]=
We;We.__name__=!0;We.prototype={_getLineData:function(a){a=a.split(": ");a=a[1].split(", ");this._parseRes.x=C.parseInt(a[0]);this._parseRes.y=C.parseInt(a[1]);return this._parseRes},_setXY:function(a){this.x=a.x;this.y=a.y},_setSizeXY:function(a){this.sizeX=a.x;this.sizeY=a.y},_setOrig:function(a){this.origX=a.x;this.origY=a.y},_setOffset:function(a){this.offsetX=a.x;this.offsetY=a.y},__class__:We};var Ea=function(){};g["com.workinman.display.spine.ArrayUtils"]=Ea;Ea.__name__=!0;Ea.allocIntArray=
function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=[]}return b};Ea.allocFloatArray=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=[]}return b};Ea.allocFloat=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=0}return b};Ea.allocString=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=""}return b};var oc=function(){};g["com.workinman.display.spine.Updatable"]=oc;oc.__name__=!0;oc.prototype={__class__:oc};var Ib=function(a,b,c){this.x=this.y=this.rotation=this.scaleX=this.scaleY=this.appliedRotation=
this.appliedScaleX=this.appliedScaleY=this.shearX=this.shearY=this._a=this._b=this._c=this._d=this._worldX=this._worldY=this._worldSignX=this._worldSignY=this._worldRotationX=0;if(null==a)throw new Q("data cannot be null.");if(null==b)throw new Q("skeleton cannot be null.");this._data=a;this._skeleton=b;this._parent=c;this.setToSetupPose()};g["com.workinman.display.spine.Bone"]=Ib;Ib.__name__=!0;Ib.__interfaces__=[oc];Ib.prototype={dispose:function(){this._parent=null;this._data.dispose();this._skeleton=
this._data=null},updateWorldTransform:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},update:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},updateWorldTransformWith:function(a,b,c,d,h,e,f){this.appliedRotation=c;this.appliedScaleX=d;this.appliedScaleY=h;var g=0,x=0,x=0,g=(c+e)*Ka.degRad,x=(c+90+f)*Ka.degRad,c=Math.cos(g)*d,f=Math.cos(x)*h,e=Math.sin(g)*d,j=
Math.sin(x)*h,i=this._parent;if(null==i)g=this._skeleton,g.flipX&&(a=-a,c=-c,f=-f),g.flipY!=Ib.yDown&&(b=-b,e=-e,j=-j),this._a=c,this._b=f,this._c=e,this._d=j,this._worldX=a,this._worldY=b,this._worldSignX=0>d?-1:1,this._worldSignY=0>h?-1:1;else{var k=i.get_a(),l=i.get_b(),m=i.get_c(),o=i.get_d();this._worldX=k*a+l*b+i.get_worldX();this._worldY=m*a+o*b+i.get_worldY();this._worldSignX=i.get_worldSignX()*(0>d?-1:1);this._worldSignY=i.get_worldSignY()*(0>h?-1:1);if(this.get_data().inheritRotation&&this.get_data().inheritScale)this._a=
k*c+l*e,this._b=k*f+l*j,this._c=m*c+o*e,this._d=m*f+o*j;else{if(this.get_data().inheritRotation){k=1;m=l=0;o=1;do{x=i.appliedRotation*Ka.degRad;g=Math.cos(x);x=Math.sin(x);a=k*g+l*x;l=l*g-k*x;k=a;a=m*g+o*x;o=o*g-m*x;m=a;if(!i.get_data().inheritRotation)break;i=i.get_parent()}while(null!=i);this._a=k*c+l*e;this._b=k*f+l*j;this._c=m*c+o*e;this._d=m*f+o*j}else if(this.get_data().inheritScale){k=1;m=l=0;o=1;do{var x=i.appliedRotation*Ka.degRad,g=Math.cos(x),x=Math.sin(x),a=i.appliedScaleX,n=i.appliedScaleY,
b=g*a,d=x*n,h=x*a,n=g*n,q=k*b+l*h,l=l*n-k*d,k=q,q=m*b+o*h,o=o*n-m*d,m=q;0>a&&(x=-x);q=k*g+l*x;l=l*g-k*x;k=q;q=m*g+o*x;o=o*g-m*x;m=q;if(!i.get_data().inheritScale)break;i=i.get_parent()}while(null!=i);this._a=k*c+l*e;this._b=k*f+l*j;this._c=m*c+o*e;this._d=m*f+o*j}else this._a=c,this._b=f,this._c=e,this._d=j;this._skeleton.flipX&&(this._a=-this._a,this._b=-this._b);this._skeleton.flipY!=Ib.yDown&&(this._c=-this._c,this._d=-this._d)}}this._worldRotationX=Math.atan2(this._c,this._a)*Ka.radDeg},setToSetupPose:function(){this.x=
this._data.x;this.y=this._data.y;this.rotation=this._data.rotation;this.scaleX=this._data.scaleX;this.scaleY=this._data.scaleY;this.shearX=this._data.shearX;this.shearY=this._data.shearY},get_data:function(){return this._data},get_parent:function(){return this._parent},get_skeleton:function(){return this._skeleton},get_a:function(){return this._a},set_a:function(a){return this._a=a},get_b:function(){return this._b},set_b:function(a){return this._b=a},get_c:function(){return this._c},set_c:function(a){return this._c=
a},get_d:function(){return this._d},set_d:function(a){return this._d=a},get_worldX:function(){return this._worldX},set_worldX:function(a){return this._worldX=a},get_worldY:function(){return this._worldY},set_worldY:function(a){return this._worldY=a},get_worldSignX:function(){return this._worldSignX},get_worldSignY:function(){return this._worldSignY},get_worldRotationX:function(){return this._worldRotationX},get_worldScaleX:function(){return Math.sqrt(this._a*this._a+this._b*this._b)*this._worldSignX},
localToWorld:function(a){var b=a[0],c=a[1];a[0]=b*this._a+c*this._b+this._worldX;a[1]=b*this._c+c*this._d+this._worldY},__class__:Ib,__properties__:{get_worldScaleX:"get_worldScaleX",get_worldRotationX:"get_worldRotationX",get_worldSignY:"get_worldSignY",get_worldSignX:"get_worldSignX",set_worldY:"set_worldY",get_worldY:"get_worldY",set_worldX:"set_worldX",get_worldX:"get_worldX",set_d:"set_d",get_d:"get_d",set_c:"set_c",get_c:"get_c",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a",get_skeleton:"get_skeleton",
get_parent:"get_parent",get_data:"get_data"}};var af=function(a,b){this.inheritScale=this.inheritRotation=!0;this.scaleX=this.scaleY=1;if(null==a)throw new Q("name cannot be null.");this._name=a;this._parent=b};g["com.workinman.display.spine.BoneData"]=af;af.__name__=!0;af.prototype={dispose:function(){this._parent=null},get_name:function(){return this._name},get_parent:function(){return this._parent},__class__:af,__properties__:{get_parent:"get_parent",get_name:"get_name"}};var bf=function(a,b){if(null==
b)throw new Q("data cannot be null.");this.time=a;this._data=b};g["com.workinman.display.spine.Event"]=bf;bf.__name__=!0;bf.prototype={dispose:function(){this._data.dispose();this._data=null},get_data:function(){return this._data},__class__:bf,__properties__:{get_data:"get_data"}};var cf=function(a){if(null==a)throw new Q("name cannot be null.");this._name=a};g["com.workinman.display.spine.EventData"]=cf;cf.__name__=!0;cf.prototype={dispose:function(){},get_name:function(){return this._name},__class__:cf,
__properties__:{get_name:"get_name"}};var Q=function(a){this.msg=a};g["com.workinman.display.spine.Exception"]=Q;Q.__name__=!0;Q.prototype={__class__:Q};var Ab=function(a,b){if(null==a)throw new Q("data cannot be null.");if(null==b)throw new Q("skeleton cannot be null.");this._data=a;this.mix=a.mix;this.bendDirection=a.bendDirection;this.bones=[];for(var c=0,d=a.bones;c<d.length;){var h=d[c];++c;this.bones[this.bones.length]=b.findBone(h.get_name())}this.target=b.findBone(a.target.get_name())};g["com.workinman.display.spine.IkConstraint"]=
Ab;Ab.__name__=!0;Ab.__interfaces__=[oc];Ab.apply1=function(a,b,c,d){var h=a.get_parent(),e=1/(h.get_a()*h.get_d()-h.get_b()*h.get_c()),b=b-h.get_worldX(),f=c-h.get_worldY(),c=(b*h.get_d()-f*h.get_b())*e-a.x,h=(f*h.get_a()-b*h.get_c())*e-a.y,h=Math.atan2(h,c)*Ka.radDeg-a.shearX-a.rotation;0>a.scaleX&&(h+=180);180<h?h-=360:-180>h&&(h+=360);a.updateWorldTransformWith(a.x,a.y,a.rotation+h*d,a.scaleX,a.scaleY,a.shearX,a.shearY)};Ab.apply2=function(a,b,c,d,h,e){if(0==e)b.updateWorldTransform();else{var f=
a.x,g=a.y,x=a.scaleX,i=a.scaleY,j=b.scaleX,k,l,m;0>x?(x=-x,k=180,m=-1):(k=0,m=1);0>i&&(i=-i,m=-m);0>j?(j=-j,l=180):l=0;var o=b.x,q,n,s,p=a.get_a(),r=a.get_b(),u=a.get_c(),t=a.get_d(),w=1.0E-4>=Math.abs(x-i);w?(q=b.y,n=p*o+r*q+a.get_worldX(),s=u*o+t*q+a.get_worldY()):(q=0,n=p*o+a.get_worldX(),s=u*o+a.get_worldY());var v=a.get_parent(),p=v.get_a(),r=v.get_b(),u=v.get_c(),t=v.get_d(),y=1/(p*t-r*u),c=c-v.get_worldX(),d=d-v.get_worldY(),A=(c*t-d*r)*y-f,z=(d*p-c*u)*y-g,c=n-v.get_worldX(),d=s-v.get_worldY(),
r=(c*t-d*r)*y-f,p=(d*p-c*u)*y-g,y=Math.sqrt(r*r+p*p),r=b.get_data().length*j,d=c=0;s=!1;if(w)r*=x,p=(A*A+z*z-y*y-r*r)/(2*y*r),-1>p?p=-1:1<p&&(p=1),d=Math.acos(p)*h,p=y+r*p,r*=Math.sin(d),c=Math.atan2(z*p-A*r,A*p+z*r);else if(p=x*r,r*=i,j=p*p,n=r*r,w=A*A+z*z,A=Math.atan2(z,A),u=n*y*y+j*w-j*n,z=-2*n*y,v=n-j,t=z*z-4*v*u,0<=t&&(t=Math.sqrt(t),0>z&&(t=-t),t=-(z+t)/2,z=t/v,t=u/t,t=Math.abs(z)<Math.abs(t)?z:t,t*t<=w&&(d=Math.sqrt(w-t*t)*h,c=A-Math.atan2(d,t),d=Math.atan2(d/i,(t-y)/x),s=!0)),!s){var x=0,
u=Math.POSITIVE_INFINITY,C=v=i=s=z=0,D=0,c=y+p,t=c*c;t>v&&(i=0,v=t,C=c);c=y-p;t=c*c;t<u&&(x=Math.PI,u=t,z=c);j=Math.acos(-p*y/(j-n));c=p*Math.cos(j)+y;d=r*Math.sin(j);t=c*c+d*d;t<u&&(x=j,u=t,z=c,s=d);t>v&&(i=j,v=t,C=c,D=d);w<=(u+v)/2?(c=A-Math.atan2(s*h,z),d=x*h):(c=A-Math.atan2(D*h,C),d=i*h)}h=Math.atan2(q,o)*m;p=a.rotation;c=(c-h)*Ka.radDeg+k-p;180<c?c-=360:-180>c&&(c+=360);a.updateWorldTransformWith(f,g,p+c*e,a.scaleX,a.scaleY,0,0);p=b.rotation;d=((d+h)*Ka.radDeg-b.shearX)*m+l-p;180<d?d-=360:-180>
d&&(d+=360);b.updateWorldTransformWith(o,q,p+d*e,b.scaleX,b.scaleY,b.shearX,b.shearY)}};Ab.prototype={dispose:function(){this._data.dispose();this.target=this.bones=this._data=null},update:function(){switch(this.bones.length){case 1:Ab.apply1(this.bones[0],this.target.get_worldX(),this.target.get_worldY(),this.mix);break;case 2:Ab.apply2(this.bones[0],this.bones[1],this.target.get_worldX(),this.target.get_worldY(),this.bendDirection,this.mix)}},get_data:function(){return this._data},__class__:Ab,
__properties__:{get_data:"get_data"}};var df=function(a){this.bendDirection=this.mix=1;this.bones=[];if(null==a)throw new Q("name cannot be null.");this._name=a};g["com.workinman.display.spine.IkConstraintData"]=df;df.__name__=!0;df.prototype={dispose:function(){this.target=this.bones=null},get_name:function(){return this._name},__class__:df,__properties__:{get_name:"get_name"}};var Ka=function(){};g["com.workinman.display.spine.MathUtils"]=Ka;Ka.__name__=!0;var Cd=function(){this.vertices=[]};g["com.workinman.display.spine.Polygon"]=
Cd;Cd.__name__=!0;Cd.prototype={dispose:function(){this.vertices=null},__class__:Cd};var ff=function(a){this.time=this.x=this.y=0;this.r=this.g=this.b=this.a=1;this._updateCache=[];if(null==a)throw new Q("data cannot be null.");this._data=a;this.bones=[];for(var b=0,c=a.bones;b<c.length;){var d=c[b];++b;var h;h=null==d.get_parent()?null:this.bones[a.bones.indexOf(d.get_parent())];this.bones[this.bones.length]=new Ib(d,this,h)}this.slots=[];this.drawOrder=[];b=0;for(c=a.slots;b<c.length;)d=c[b],++b,
h=this.bones[a.bones.indexOf(d.get_boneData())],d=new ef(d,h),this.slots[this.slots.length]=d,this.drawOrder[this.drawOrder.length]=d;this.ikConstraints=[];b=0;for(c=a.ikConstraints;b<c.length;)d=c[b],++b,this.ikConstraints[this.ikConstraints.length]=new Ab(d,this);this.transformConstraints=[];b=0;for(a=a.transformConstraints;b<a.length;)c=a[b],++b,this.transformConstraints[this.transformConstraints.length]=new Dd(c,this);this.updateCache()};g["com.workinman.display.spine.Skeleton"]=ff;ff.__name__=
!0;ff.prototype={dispose:function(){this._data.dispose();this._data=null;for(var a=0,b=this.bones;a<b.length;){var c=b[a];++a;c.dispose()}this.bones=null;a=0;for(b=this.slots;a<b.length;)c=b[a],++a,c.dispose();this.drawOrder=this.slots=null;a=0;for(b=this.ikConstraints;a<b.length;)c=b[a],++a,c.dispose();this.ikConstraints=null;a=0;for(b=this.transformConstraints;a<b.length;)c=b[a],++a,c.dispose();this._updateCache=this.transformConstraints=null;null!=this.get_skin()&&this.get_skin().dispose();this.set_skin(null)},
updateCache:function(){for(var a=this._updateCache,b=this.ikConstraints,c=this.transformConstraints,d=0,h=this.bones.length+b.length,e=0;e<h;)e++,a.push(null);h=0;for(e=this.bones;h<e.length;){var f=e[h];++h;a[d++]=f;for(var g=0;g<b.length;){var x=b[g];++g;if(f==x.bones[x.bones.length-1]){a[d++]=x;break}}}for(b=0;b<c.length;){d=c[b];++b;for(h=a.length-1;0<=h;){e=a[h];if(e==d.bone||e==d.target){a.splice(h+1,0,d);break}h--}}},updateWorldTransform:function(){for(var a=0,b=this._updateCache;a<b.length;){var c=
b[a];++a;c.update()}},setToSetupPose:function(){this.setBonesToSetupPose();this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var a=0,b=this.bones;a<b.length;){var c=b[a];++a;c.setToSetupPose()}a=0;for(b=this.ikConstraints;a<b.length;)c=b[a],++a,c.bendDirection=c.get_data().bendDirection,c.mix=c.get_data().mix;a=0;for(b=this.transformConstraints;a<b.length;)c=b[a],++a,c.translateMix=c.get_data().translateMix,c.rotateMix=c.get_data().rotateMix,c.scaleMix=c.get_data().scaleMix,c.shearMix=
c.get_data().shearMix},setSlotsToSetupPose:function(){for(var a=0,b=0,c=this.slots;b<c.length;){var d=c[b];++b;this.drawOrder[a++]=d;d.setToSetupPose()}},get_data:function(){return this._data},findBone:function(a){if(null==a)throw new Q("boneName cannot be null.");for(var b=0,c=this.bones;b<c.length;){var d=c[b];++b;if(d.get_data().get_name()==a)return d}return null},get_skin:function(){return this._skin},set_skin:function(a){if(null!=a)if(null!=this.get_skin())a.attachAll(this,this.get_skin());else for(var b=
0,c=0,d=this.slots;c<d.length;){var h=d[c];++c;var e=h.get_data().attachmentName;""!=e&&(e=a.getAttachment(b,e),null!=e&&h.set_attachment(e));b++}return this._skin=a},getAttachmentForSlotIndex:function(a,b){if(null==b)throw new Q("attachmentName cannot be null.");if(null!=this.get_skin()){var c=this.get_skin().getAttachment(a,b);if(null!=c)return c}return null!=this.get_data().defaultSkin?this.get_data().defaultSkin.getAttachment(a,b):null},__class__:ff,__properties__:{set_skin:"set_skin",get_skin:"get_skin",
get_data:"get_data"}};var ue=function(){this.polygonPool=[];this.boundingBoxes=[];this.polygons=[]};g["com.workinman.display.spine.SkeletonBounds"]=ue;ue.__name__=!0;ue.prototype={dispose:function(){for(var a=0,b=this.boundingBoxes;a<b.length;){var c=b[a];++a;null!=c&&c.dispose()}this.boundingBoxes=null;a=0;for(b=this.polygons;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygons=null;a=0;for(b=this.polygonPool;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygonPool=null},__class__:ue};var gf=
function(){this.transformConstraints=[];this.ikConstraints=[];this.animations=[];this.events=[];this.skins=[];this.slots=[];this.bones=[]};g["com.workinman.display.spine.SkeletonData"]=gf;gf.__name__=!0;gf.prototype={dispose:function(){this.ikConstraints=this.animations=this.events=this.defaultSkin=this.skins=this.slots=this.bones=null},findBone:function(a){if(null==a)throw new Q("boneName cannot be null.");for(var b=0,c=this.bones.length;b<c;){var d=this.bones[b++];if(d.get_name()==a)return d}return null},
findBoneIndex:function(a){if(null==a)throw new Q("boneName cannot be null.");for(var b=0,c=this.bones.length;b<c;){var d=b++;if(this.bones[d].get_name()==a)return d}return-1},findSlotIndex:function(a){if(null==a)throw new Q("slotName cannot be null.");for(var b=0,c=this.slots.length;b<c;){var d=b++;if(this.slots[d].get_name()==a)return d}return-1},findSkin:function(a){if(null==a)throw new Q("skinName cannot be null.");for(var b=0,c=this.skins;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},
findEvent:function(a){if(null==a)throw new Q("eventName cannot be null.");for(var b=0,c=this.events;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},findAnimation:function(a){if(null==a)throw new Q("animationName cannot be null.");for(var b=0,c=this.animations;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},findIkConstraint:function(a){if(null==a)throw new Q("constraintName cannot be null.");for(var b=0,c=this.ikConstraints;b<c.length;){var d=c[b];++b;if(d.get_name()==
a)return d}return null},__class__:gf};var X=function(a){this.scale=1;this.attachmentLoader=a};g["com.workinman.display.spine.SkeletonJson"]=X;X.__name__=!0;X.readCurve=function(a,b,c){c=o.field(c,"curve");null!=c&&("stepped"==c?a.setStepped(b):c instanceof Array&&null==c.__enum__&&a.setCurve(b,c[0],c[1],c[2],c[3]))};X.toColor=function(a,b){if(8!=a.length)throw new Q("Color hexidecimal length must be 8, recieved: "+a);return C.parseInt("0x"+a.substring(2*b,2*b+2))/255};X.getFloatArray=function(a,b,
c){var a=o.field(a,b),b=[],d=a.length;if(1==c)for(c=0;c<d;){var h=c++;b[h]=a[h]}else for(h=0;h<d;){var e=h++;b[e]=a[e]*c}return b};X.getIntArray=function(a,b){for(var c=o.field(a,b),d=[],h=0,e=c.length;h<e;){var f=h++;d[f]=c[f]}return d};X.getUIntArray=function(a,b){for(var c=o.field(a,b),d=[],h=0,e=c.length;h<e;){var f=h++;d[f]=c[f]}return d};X.prototype={readSkeletonData:function(a,b){if(null==a)throw new Q("object cannot be null.");var c;c=JSON.parse(a);var d=new gf;d.name=b;if(Object.prototype.hasOwnProperty.call(c,
"skeleton")){var h;h=o.field(c,"skeleton");var e=o.field(h,"hash");d.hash=null==e?null:C.string(e);e=o.field(h,"spine");d.version=null==e?null:C.string(e);e=o.field(h,"width");d.width=null==e?0:y.__cast(e,V);h=o.field(h,"height");d.height=null==h?0:y.__cast(h,V)}h=0;for(e=o.field(c,"bones");h<e.length;){var f=e[h];++h;var g=null,x;x=o.field(f,"parent");x=null==x?null:C.string(x);if(null!=x&&(g=d.findBone(x),null==g))throw"Parent bone not found: "+x;g=new af(function(){var a=o.field(f,"name");return null==
a?null:C.string(a)}(this),g);g.length=function(){var a=o.field(f,"length");return null==a?0:y.__cast(a,V)}(this)*this.scale;g.x=function(){var a=o.field(f,"x");return null==a?0:y.__cast(a,V)}(this)*this.scale;g.y=function(){var a=o.field(f,"y");return null==a?0:y.__cast(a,V)}(this)*this.scale;x=o.field(f,"rotation");g.rotation=null==x?0:y.__cast(x,V);x=o.field(f,"scaleX");g.scaleX=null==x?1:y.__cast(x,V);x=o.field(f,"scaleY");g.scaleY=null==x?1:y.__cast(x,V);x=o.field(f,"shearX");g.shearX=null==x?
0:y.__cast(x,V);x=o.field(f,"shearY");g.shearY=null==x?0:y.__cast(x,V);x=o.field(f,"inheritScale");g.inheritScale=null==x?!0:y.__cast(x,Ed);x=o.field(f,"inheritRotation");g.inheritRotation=null==x?!0:y.__cast(x,Ed);d.bones.push(g)}if(Object.prototype.hasOwnProperty.call(c,"ik")){h=0;for(e=o.field(c,"ik");h<e.length;){var j=e[h];++h;g=new df(function(){var a=o.field(j,"name");return null==a?null:C.string(a)}(this));x=0;for(var i=o.field(j,"bones");x<i.length;){var k=i[x];++x;var l=d.findBone(k);if(null==
l)throw"IK bone not found: "+k;g.bones.push(l)}g.target=d.findBone(function(){var a=o.field(j,"target");return null==a?null:C.string(a)}(this));if(null==g.target)throw"Target bone not found: "+function(){var a=o.field(j,"target");return null==a?null:C.string(a)}(this);g.bendDirection=function(){var a=o.field(j,"bendPositive");return null==a?!0:y.__cast(a,Ed)}(this)?1:-1;x=o.field(j,"mix");g.mix=null==x?1:y.__cast(x,V);d.ikConstraints.push(g)}}h=o.field(c,"transform");if(null!=h){h=0;for(e=o.field(c,
"transform");h<e.length;){var m=e[h];++h;g=new hf(function(){var a=o.field(m,"name");return null==a?null:C.string(a)}(this));x=o.field(m,"bone");x=null==x?null:C.string(x);g.bone=d.findBone(x);if(null==g.bone)throw new Q("Bone not found: "+x);x=o.field(m,"target");x=null==x?null:C.string(x);g.target=d.findBone(x);if(null==g.target)throw new Q("Target bone not found: "+x);x=o.field(m,"rotation");g.offsetRotation=null==x?0:y.__cast(x,V);g.offsetX=function(){var a=o.field(m,"x");return null==a?0:y.__cast(a,
V)}(this)*this.scale;g.offsetY=function(){var a=o.field(m,"y");return null==a?0:y.__cast(a,V)}(this)*this.scale;g.offsetScaleX=function(){var a=o.field(m,"scaleX");return null==a?0:y.__cast(a,V)}(this)*this.scale;g.offsetScaleY=function(){var a=o.field(m,"scaleY");return null==a?0:y.__cast(a,V)}(this)*this.scale;g.offsetShearY=function(){var a=o.field(m,"shearY");return null==a?0:y.__cast(a,V)}(this)*this.scale;x=o.field(m,"rotateMix");g.rotateMix=null==x?1:y.__cast(x,V);x=o.field(m,"translateMix");
g.translateMix=null==x?1:y.__cast(x,V);x=o.field(m,"scaleMix");g.scaleMix=null==x?1:y.__cast(x,V);x=o.field(m,"shearMix");g.shearMix=null==x?1:y.__cast(x,V);d.transformConstraints.push(g)}}h=null;h=0;for(e=o.field(c,"slots");h<e.length;){var n=e[h];++h;g=o.field(n,"bone");g=null==g?null:C.string(g);x=d.findBone(g);if(null==x)throw"Slot bone not found: "+g;g=new jf(function(){var a=o.field(n,"name");return null==a?null:C.string(a)}(this),x);x=o.field(n,"color");x=null==x?null:C.string(x);null!=x&&
(g.r=X.toColor(x,0),g.g=X.toColor(x,1),g.b=X.toColor(x,2),g.a=X.toColor(x,3));x=o.field(n,"attachment");g.attachmentName=null==x?null:C.string(x);x=o.field(n,"blend");g.blendMode=null==x?"normal":C.string(x);d.slots.push(g)}h=o.field(c,"skins");e=0;for(g=o.fields(h);e<g.length;){i=g[e];++e;x=o.field(h,i);i=new kf(i);k=0;for(l=o.fields(x);k<l.length;){var q=l[k];++k;for(var p=d.findSlotIndex(q),q=o.field(x,q),r=0,s=o.fields(q);r<s.length;){var t=s[r];++r;var u=this.readAttachment(i,t,o.field(q,t));
null!=u&&i.addAttachment(p,t,u)}}d.skins.push(i);"default"==i.get_name()&&(d.defaultSkin=i)}h=o.field(c,"events");if(null!=h){e=0;for(g=o.fields(h);e<g.length;)i=g[e],++e,x=o.field(h,i),i=new cf(i),k=o.field(x,"int"),i.intValue=null==k?0:y.__cast(k,pc),k=o.field(x,"float"),i.floatValue=null==k?0:y.__cast(k,V),x=o.field(x,"string"),i.stringValue=null==x?null:C.string(x),d.events.push(i)}c=o.field(c,"animations");h=0;for(e=o.fields(c);h<e.length;)g=e[h],++h,this.readAnimation(g,o.field(c,g),d);return d},
readAttachment:function(a,b,c){var d=o.field(c,"name");null!=d&&(b=C.string(d));var h,d=o.field(c,"type");h=null==d?"region":C.string(d);"skinnedmesh"==h&&(h="weightedmesh");new lf(0,h);var e,d=o.field(c,"path");e=null==d?b:C.string(d);d=this.scale;switch(h){case "region":a=this.attachmentLoader.newRegionAttachment(a,b,e);if(null==a)break;a.path=e;a.x=function(){var a=o.field(c,"x");return null==a?0:y.__cast(a,V)}(this)*d;a.y=function(){var a=o.field(c,"y");return null==a?0:y.__cast(a,V)}(this)*d;
b=o.field(c,"scaleX");a.scaleX=null==b?1:y.__cast(b,V);b=o.field(c,"scaleY");a.scaleY=null==b?1:y.__cast(b,V);b=o.field(c,"rotation");a.rotation=null==b?0:y.__cast(b,V);a.width=function(){var a=o.field(c,"width");return null==a?0:y.__cast(a,V)}(this)*d;a.height=function(){var a=o.field(c,"height");return null==a?0:y.__cast(a,V)}(this)*d;d=o.field(c,"color");e=null==d?null:C.string(d);null!=e&&""!=e&&(a.r=X.toColor(e,0),a.g=X.toColor(e,1),a.b=X.toColor(e,2),a.a=X.toColor(e,3));a.updateOffset();return a;
case "mesh":a=this.attachmentLoader.newMeshAttachment(a,b,e);if(null==a)break;a.path=e;a.vertices=X.getFloatArray(c,"vertices",d);a.triangles=X.getUIntArray(c,"triangles");a.regionUVs=X.getFloatArray(c,"uvs",1);a.updateUVs();b=o.field(c,"color");e=null==b?null:C.string(b);null!=e&&""!=e&&(a.r=X.toColor(e,0),a.g=X.toColor(e,1),a.b=X.toColor(e,2),a.a=X.toColor(e,3));a.hullLength=2*function(){var a=o.field(c,"hull");return null==a?0:y.__cast(a,pc)}(this);Object.prototype.hasOwnProperty.call(c,"edges")&&
(a.edges=X.getIntArray(c,"edges"));a.width=function(){var a=o.field(c,"width");return null==a?0:y.__cast(a,V)}(this)*d;a.height=function(){var a=o.field(c,"height");return null==a?0:y.__cast(a,V)}(this)*d;return a;case "weightedmesh":b=this.attachmentLoader.newWeightedMeshAttachment(a,b,e);if(null==b)break;b.path=e;e=X.getFloatArray(c,"uvs",1);a=X.getFloatArray(c,"vertices",1);h=[];for(var f=[],g=0,i=a.length;g<i;){var j=Math.floor(a[g++]);f[f.length]=j;for(j=g+4*j;g<j;)f[f.length]=Math.floor(a[g]),
h[h.length]=a[g+1]*d,h[h.length]=a[g+2]*d,h[h.length]=a[g+3],g+=4}b.bones=f;b.weights=h;b.triangles=X.getUIntArray(c,"triangles");b.regionUVs=e;b.updateUVs();a=o.field(c,"color");e=null==a?null:C.string(a);null!=e&&""!=e&&(b.r=X.toColor(e,0),b.g=X.toColor(e,1),b.b=X.toColor(e,2),b.a=X.toColor(e,3));b.hullLength=2*function(){var a=o.field(c,"hull");return null==a?0:y.__cast(a,pc)}(this);Object.prototype.hasOwnProperty.call(c,"edges")&&(b.edges=X.getIntArray(c,"edges"));b.width=function(){var a=o.field(c,
"width");return null==a?0:y.__cast(a,V)}(this)*d;b.height=function(){var a=o.field(c,"height");return null==a?0:y.__cast(a,V)}(this)*d;return b;case "boundingbox":b=this.attachmentLoader.newBoundingBoxAttachment(a,b);a=b.vertices;e=0;for(h=o.field(c,"vertices");e<h.length;)f=h[e],++e,a[a.length]=f*d;return b}return null},readAnimation:function(a,b,c){var d=[],h=0,e,f,g,i,j;j=o.field(b,"slots");for(var k=0,l=o.fields(j);k<l.length;){var m=l[k];++k;e=o.field(j,m);f=c.findSlotIndex(m);for(var n=0,q=
o.fields(e);n<q.length;){var p=q[n];++n;g=o.field(e,p);if("color"==p){var r=new Fd(g.length);r.slotIndex=f;for(var s=i=0;s<g.length;){var t=g[s];++s;var u,v=o.field(t,"color");u=null==v?null:C.string(v);var w=X.toColor(u,0),z=X.toColor(u,1),A=X.toColor(u,2),D=X.toColor(u,3);r.setFrame(i,function(){var a=o.field(t,"time");return null==a?0:y.__cast(a,V)}(this),w,z,A,D);X.readCurve(r,i,t);i++}d[d.length]=r;h=Math.max(h,r.frames[5*r.get_frameCount()-5])}else if("attachment"==p){var E=new Gd(g.length);
E.slotIndex=f;for(var F=i=0;F<g.length;){var G=g[F];++F;E.setFrame(i++,function(){var a=o.field(G,"time");return null==a?0:y.__cast(a,V)}(this),function(){var a=o.field(G,"name");return null==a?null:C.string(a)}(this))}d[d.length]=E;h=Math.max(h,E.frames[E.get_frameCount()-1])}else throw new Q("Invalid timeline type for a slot: "+p+" ("+m+")");}}var H;H=o.field(b,"bones");for(var I=0,K=o.fields(H);I<K.length;){var J=K[I];++I;var L=c.findBoneIndex(J);if(-1==L)throw new Q("Bone not found: "+J);var M;
M=o.field(H,J);for(var N=0,P=o.fields(M);N<P.length;){var O=P[N];++N;g=o.field(M,O);if("rotate"==O){var R=new Hd(g.length);R.boneIndex=L;for(var T=i=0;T<g.length;){var U=g[T];++T;R.setFrame(i,function(){var a=o.field(U,"time");return null==a?0:y.__cast(a,V)}(this),function(){var a=o.field(U,"angle");return null==a?0:y.__cast(a,V)}(this));X.readCurve(R,i,U);i++}d[d.length]=R;h=Math.max(h,R.frames[2*R.get_frameCount()-2])}else if("translate"==O||"scale"==O||"shear"==O){var S,W=1;"scale"==O?S=new Id(g.length):
"shear"==O?S=new Jd(g.length):(S=new ob(g.length),W=this.scale);S.boneIndex=L;for(var Z=i=0;Z<g.length;){var Y=g[Z];++Z;var $;$=function(){var a=o.field(Y,"x");return null==a?0:y.__cast(a,V)}(this)*W;var ca;ca=function(){var a=o.field(Y,"y");return null==a?0:y.__cast(a,V)}(this)*W;S.setFrame(i,function(){var a=o.field(Y,"time");return null==a?0:y.__cast(a,V)}(this),$,ca);X.readCurve(S,i,Y);i++}d[d.length]=S;h=Math.max(h,S.frames[3*S.get_frameCount()-3])}else throw new Q("Invalid timeline type for a bone: "+
O+" ("+J+")");}}var ba;ba=o.field(b,"ik");for(var da=0,ea=o.fields(ba);da<ea.length;){var ga=ea[da];++da;var ia=c.findIkConstraint(ga);g=o.field(ba,ga);var aa=new Kd(g.length);aa.ikConstraintIndex=c.ikConstraints.indexOf(ia);for(var ha=i=0;ha<g.length;){var fa=g[ha];++ha;var ja,ka=o.field(fa,"mix");ja=null==ka?1:y.__cast(ka,V);var na;na=function(){var a=o.field(fa,"bendPositive");return null==a?!0:y.__cast(a,Ed)}(this)?1:-1;aa.setFrame(i,function(){var a=o.field(fa,"time");return null==a?0:y.__cast(a,
V)}(this),ja,na);X.readCurve(aa,i,fa);i++}d[d.length]=aa;h=Math.max(h,aa.frames[3*aa.get_frameCount()-3])}var ma;ma=o.field(b,"ffd");for(var qa=0,sa=o.fields(ma);qa<sa.length;){var ta=sa[qa];++qa;var Aa=c.findSkin(ta);e=o.field(ma,ta);for(var ra=0,ya=o.fields(e);ra<ya.length;){var za=ya[ra];++ra;f=c.findSlotIndex(za);var ua;ua=o.field(e,za);for(var va=0,Ba=o.fields(ua);va<Ba.length;){var xa=Ba[va];++va;g=o.field(ua,xa);var oa=new Ld(g.length),la=Aa.getAttachment(f,xa);if(null==la)throw new Q("FFD attachment not found: "+
xa);oa.slotIndex=f;oa.attachment=la;var Da;Da=y.__instanceof(la,nb)?y.__cast(la,nb).vertices.length:Math.floor(2*(y.__cast(la,Jb).weights.length/3));for(var Fa=i=0;Fa<g.length;){var wa=g[Fa];++Fa;var pa;if(Object.prototype.hasOwnProperty.call(wa,"vertices")){var Ga;Ga=o.field(wa,"vertices");pa=Ea.allocFloat(Da);var Ha,La=o.field(wa,"offset");Ha=null==La?0:y.__cast(La,pc);var Ma=Ga.length;if(1==this.scale)for(var Pa=0;Pa<Ma;){var Qa=Pa++;pa[Qa+Ha]=Ga[Qa]}else for(var Ra=0;Ra<Ma;){var Sa=Ra++;pa[Sa+
Ha]=Ga[Sa]*this.scale}if(y.__instanceof(la,nb))for(var Ya=y.__cast(la,nb).vertices,Ua=0;Ua<Da;){var Na=Ua++;pa[Na]+=Ya[Na]}}else pa=y.__instanceof(la,nb)?y.__cast(la,nb).vertices:[];oa.setFrame(i,function(){var a=o.field(wa,"time");return null==a?0:y.__cast(a,V)}(this),pa);X.readCurve(oa,i,wa);i++}d[d.length]=oa;h=Math.max(h,oa.frames[oa.get_frameCount()-1])}}}var Ca=o.field(b,"drawOrder");null==Ca&&(Ca=o.field(b,"draworder"));if(null!=Ca&&0<Ca.length){for(var Ja=new Md(Ca.length),Oa=c.slots.length,
Ta=i=0;Ta<Ca.length;){var Va=Ca[Ta];++Ta;var Ia=null;if(Object.prototype.hasOwnProperty.call(Va,"offsets")){for(var Ia=[],Za=Oa-1;0<=Za;)Ia[Za]=-1,Za--;for(var gb=o.field(Va,"offsets"),bb=[],Ka=0,db=0,eb=0;eb<gb.length;){var fb=gb[eb];++eb;f=c.findSlotIndex(function(){var a=o.field(fb,"slot");return null==a?null:C.string(a)}(this));if(-1==f)throw new Q("Slot not found: "+function(){var a=o.field(fb,"slot");return null==a?null:C.string(a)}(this));for(;Ka!=f;)bb[db++]=Ka++;Ia[Ka+function(){var a=o.field(fb,
"offset");return null==a?0:y.__cast(a,pc)}(this)]=Ka++}for(;Ka<Oa;)bb[db++]=Ka++;for(var ab=Oa-1;0<=ab;)-1==Ia[ab]&&(Ia[ab]=bb[--db]),ab--}Ja.setFrame(i++,function(){var a=o.field(Va,"time");return null==a?0:y.__cast(a,V)}(this),Ia)}d[d.length]=Ja;h=Math.max(h,Ja.frames[Ja.get_frameCount()-1])}var Xa=o.field(b,"events");if(null!=Xa&&0<Xa.length){for(var cb=new Nd(Xa.length),jb=i=0;jb<Xa.length;){var Wa=Xa[jb];++jb;var $a=c.findEvent(function(){var a=o.field(Wa,"name");return null==a?null:C.string(a)}(this));
if(null==$a)throw new Q("Event not found: "+function(){var a=o.field(Wa,"name");return null==a?null:C.string(a)}(this));var hb=new bf(function(){var a=o.field(Wa,"time");return null==a?0:y.__cast(a,V)}(this),$a),kb=o.field(Wa,"Int");hb.intValue=null==kb?$a.intValue:y.__cast(kb,pc);var lb=o.field(Wa,"float");hb.floatValue=null==lb?$a.floatValue:y.__cast(lb,V);var mb=o.field(Wa,"string");hb.stringValue=null==mb?$a.stringValue:C.string(mb);cb.setFrame(i++,hb)}d[d.length]=cb;h=Math.max(h,cb.frames[Math.floor(cb.get_frameCount()-
1)])}c.animations[c.animations.length]=new ib(a,d,h)},__class__:X};var kf=function(a){this._attachments=[];if(null==a)throw new Q("name cannot be null.");this._name=a};g["com.workinman.display.spine.Skin"]=kf;kf.__name__=!0;kf.prototype={dispose:function(){this._attachments=null},addAttachment:function(a,b,c){if(null==c)throw new Q("attachment cannot be null.");null==this.get_attachments()[a]&&(this.get_attachments()[a]=new N);this.get_attachments()[a].set(b,c);c},getAttachment:function(a,b){if(a>=
this.get_attachments().length)return null;var c=this.get_attachments()[a];return null!=c?c.get(b):null},get_attachments:function(){return this._attachments},get_name:function(){return this._name},attachAll:function(a,b){for(var c=0,d=0,h=a.slots;d<h.length;){var e=h[d];++d;var f=e.get_attachment();if(null!=f&&c<b.get_attachments().length){var g=b.get_attachments()[c];if(null!=g)for(var i=g.keys();i.hasNext();){var j=i.next(),k=g.get(j);if(f==k){f=this.getAttachment(c,j);null!=f&&e.set_attachment(f);
break}}}c++}},__class__:kf,__properties__:{get_name:"get_name",get_attachments:"get_attachments"}};var ef=function(a,b){this.attachmentVertices=[];if(null==a)throw new Q("data cannot be null.");if(null==b)throw new Q("bone cannot be null.");this._data=a;this._bone=b;this.setToSetupPose()};g["com.workinman.display.spine.Slot"]=ef;ef.__name__=!0;ef.prototype={dispose:function(){this._data.dispose();this.attachmentVertices=this._attachment=this._bone=this._data=null},get_data:function(){return this._data},
get_bone:function(){return this._bone},get_skeleton:function(){return this._bone.get_skeleton()},get_attachment:function(){return this._attachment},set_attachment:function(a){if(this._attachment==a)return this._attachment;this._attachment=a;this._attachmentTime=this._bone.get_skeleton().time;this.attachmentVertices=[];return this._attachment},setToSetupPose:function(){var a=this._bone.get_skeleton().get_data().slots.indexOf(this.get_data());this.r=this._data.r;this.g=this._data.g;this.b=this._data.b;
this.a=this._data.a;null==this._data.attachmentName?this.set_attachment(null):(this._attachment=null,this.set_attachment(this._bone.get_skeleton().getAttachmentForSlotIndex(a,this.get_data().attachmentName)))},__class__:ef,__properties__:{set_attachment:"set_attachment",get_attachment:"get_attachment",get_skeleton:"get_skeleton",get_bone:"get_bone",get_data:"get_data"}};var jf=function(a,b){this.r=this.g=this.b=this.a=1;if(null==a)throw new Q("name cannot be null.");if(null==b)throw new Q("boneData cannot be null.");
this._name=a;this._boneData=b};g["com.workinman.display.spine.SlotData"]=jf;jf.__name__=!0;jf.prototype={dispose:function(){this._boneData=null},get_name:function(){return this._name},get_boneData:function(){return this._boneData},__class__:jf,__properties__:{get_boneData:"get_boneData",get_name:"get_name"}};var Dd=function(a,b){if(null==a)throw new Q("data cannot be null.");if(null==b)throw new Q("skeleton cannot be null.");this._data=a;this.translateMix=a.translateMix;this.rotateMix=a.rotateMix;
this.scaleMix=a.scaleMix;this.shearMix=a.shearMix;this.offsetRotation=a.offsetRotation;this.offsetX=a.offsetX;this.offsetY=a.offsetY;this.offsetScaleX=a.offsetScaleX;this.offsetScaleY=a.offsetScaleY;this.offsetShearY=a.offsetShearY;this.bone=b.findBone(a.bone.get_name());this.target=b.findBone(a.target.get_name())};g["com.workinman.display.spine.TransformConstraint"]=Dd;Dd.__name__=!0;Dd.__interfaces__=[oc];Dd.prototype={dispose:function(){this._data.dispose();this.target=this.bone=this._data=null},
update:function(){if(0<this.rotateMix){var a=this.bone.get_a(),b=this.bone.get_b(),c=this.bone.get_c(),d=this.bone.get_d(),h=Math.atan2(this.target.get_c(),this.target.get_a())-Math.atan2(c,a)+this.offsetRotation*Ka.degRad;h>Math.PI?h-=2*Math.PI:h<-Math.PI&&(h+=2*Math.PI);var h=h*this.rotateMix,e=Math.cos(h),h=Math.sin(h);this.bone.set_a(e*a-h*c);this.bone.set_b(e*b-h*d);this.bone.set_c(h*a+e*c);this.bone.set_d(h*b+e*d)}0<this.scaleMix&&(a=Math.sqrt(this.bone.get_a()*this.bone.get_a()+this.bone.get_c()*
this.bone.get_c()),b=Math.sqrt(this.target.get_a()*this.target.get_a()+this.target.get_c()*this.target.get_c()),a=0<a?(a+(b-a+this.offsetScaleX)*this.scaleMix)/a:0,b=this.bone,b.set_a(b.get_a()*a),b=this.bone,b.set_c(b.get_c()*a),a=Math.sqrt(this.bone.get_b()*this.bone.get_b()+this.bone.get_d()*this.bone.get_d()),b=Math.sqrt(this.target.get_b()*this.target.get_b()+this.target.get_d()*this.target.get_d()),a=0<a?(a+(b-a+this.offsetScaleY)*this.scaleMix)/a:0,b=this.bone,b.set_b(b.get_b()*a),b=this.bone,
b.set_d(b.get_d()*a));0<this.shearMix&&(b=this.bone.get_b(),c=this.bone.get_d(),d=Math.atan2(c,b),a=Math.atan2(this.target.get_d(),this.target.get_b())-Math.atan2(this.target.get_c(),this.target.get_a())-(d-Math.atan2(this.bone.get_c(),this.bone.get_a())),a>Math.PI?a-=2*Math.PI:a<-Math.PI&&(a+=2*Math.PI),a=d+(a+this.offsetShearY*Ka.degRad)*this.shearMix,b=Math.sqrt(b*b+c*c),this.bone.set_b(Math.cos(a)*b),this.bone.set_d(Math.sin(a)*b));a=this.translateMix;0<a&&(b=Ea.allocFloat(2),b[0]=this.offsetX,
b[1]=this.offsetY,this.target.localToWorld(b),c=this.bone,c.set_worldX(c.get_worldX()+(b[0]-this.bone.get_worldX())*a),c=this.bone,c.set_worldY(c.get_worldY()+(b[1]-this.bone.get_worldY())*a))},get_data:function(){return this._data},__class__:Dd,__properties__:{get_data:"get_data"}};var hf=function(a){if(null==a)throw new Q("name cannot be null.");this._name=a};g["com.workinman.display.spine.TransformConstraintData"]=hf;hf.__name__=!0;hf.prototype={dispose:function(){this.target=this.bone=null},__class__:hf};
var ib=function(a,b,c){if(null==a)throw new Q("name cannot be null.");if(null==b)throw new Q("timelines cannot be null.");this._name=a;this._timelines=b;this.duration=c};g["com.workinman.display.spine.animation.Animation"]=ib;ib.__name__=!0;ib.binarySearch=function(a,b,c){var d=0,h=Math.floor(a.length/c-2);if(0==h)return c;for(var e=h>>>1;;){a[(e+1)*c]<=b?d=e+1:h=e;if(d==h)return(d+1)*c;e=d+h>>>1}return 0};ib.binarySearch1=function(a,b){var c=0,d=a.length-2;if(0==d)return 1;for(var h=d>>>1;;){a[h+
1]<=b?c=h+1:d=h;if(c==d)return c+1;h=c+d>>>1}return 0};ib.prototype={get_timelines:function(){return this._timelines},apply:function(a,b,c,d,h){if(null==a)throw new Q("skeleton cannot be null.");d&&0!=this.duration&&(c%=this.duration,0<b&&(b%=this.duration));for(var d=0,e=this.get_timelines().length;d<e;){var f=d++;this.get_timelines()[f].apply(a,b,c,h,1)}this.currentTime=c},mix:function(a,b,c,d,h,e){if(null==a)throw new Q("skeleton cannot be null.");d&&0!=this.duration&&(c%=this.duration,0<b&&(b%=
this.duration));for(var d=0,f=this.get_timelines().length;d<f;){var g=d++;this.get_timelines()[g].apply(a,b,c,h,e)}},get_name:function(){return this._name},__class__:ib,__properties__:{get_name:"get_name",get_timelines:"get_timelines"}};var te=function(a){this.timeScale=1;if(null==a)throw new Q("data cannot be null.");this._data=a;this._tracks=[];this._events=[];this.onStart=new Zb;this.onEnd=new Zb;this.onComplete=new Zb;this.onEvent=new Zb};g["com.workinman.display.spine.animation.AnimationState"]=
te;te.__name__=!0;te.prototype={dispose:function(){this._data.dispose();this._data=null;for(var a=0,b=this._tracks;a<b.length;){var c=b[a];++a;c.dispose()}this._tracks=null;a=0;for(b=this._events;a<b.length;)c=b[a],++a,c.dispose();this._events=null;this.onStart.dispose();this.onStart=null;this.onEnd.dispose();this.onEnd=null;this.onComplete.dispose();this.onComplete=null;this.onEvent.dispose();this.onEvent=null},update:function(a){for(var a=a*this.timeScale,b=0,c=this._tracks.length;b<c;){var d=b++,
h=this._tracks[d];if(null!=h){h.time+=a*h.timeScale;if(null!=h.previous){var e=a*h.previous.timeScale;h.previous.time+=e;h.mixTime+=e}var e=h.next,f=h.lastTime;0>h.timeScale&&(f=Math.abs(f));null!=e?(e.time=f-e.delay,0<=e.time&&this.setCurrent(d,e)):!h.loop&&f>=h.endTime&&this.clearTrack(d)}}},apply:function(a){for(var b=0,c=this._tracks.length;b<c;){var d=b++,h=this._tracks[d];if(null!=h){this._events=[];var e=h.time,f=h.lastTime,g=h.endTime,i=h.loop;!i&&e>g&&(e=g);if(0>h.timeScale){for(;0>e;)e+=
h.animation.duration;for(;0>f;)f+=h.animation.duration}var j=h.previous;if(null==j)1==h.mix?h.animation.apply(a,h.lastTime,e,i,this._events):h.animation.mix(a,h.lastTime,e,i,this._events,h.mix);else{var k=j.time;!j.loop&&k>j.endTime&&(k=j.endTime);j.animation.apply(a,k,k,j.loop,null);j=h.mixTime/h.mixDuration*h.mix;1<=j&&(j=1,h.previous=null);h.animation.mix(a,h.lastTime,e,i,this._events,j)}j=0;for(k=this._events;j<k.length;){var l=k[j];++j;if(null!=h.onEvent)h.onEvent(d,l);this.onEvent.invoke(d,
l)}if(i?f%g>e%g:f<g&&e>=g){e=Math.floor(e/g);if(null!=h.onComplete)h.onComplete(d,e);this.onComplete.invoke(d,e)}h.lastTime=h.time}}},clearTrack:function(a){if(!(a>=this._tracks.length)){var b=this._tracks[a];if(null!=b){if(null!=b.onEnd)b.onEnd(a);this.onEnd.invoke(a);this._tracks[a]=null}}},expandToIndex:function(a){if(a<this._tracks.length)return this._tracks[a];for(;a>=this._tracks.length;)this._tracks[this._tracks.length]=null;return null},setCurrent:function(a,b){var c=this.expandToIndex(a);
if(null!=c){var d=c.previous;c.previous=null;if(null!=c.onEnd)c.onEnd(a);this.onEnd.invoke(a);b.mixDuration=this._data.getMix(c.animation,b.animation);0<b.mixDuration&&(b.mixTime=0,b.previous=null!=d&&0.5>c.mixTime/c.mixDuration?d:c)}this._tracks[a]=b;if(null!=b.onStart)b.onStart(a);this.onStart.invoke(a)},setAnimationByName:function(a,b,c){var d=this._data.get_skeletonData().findAnimation(b);if(null==d)throw new Q("Animation not found: "+b);return this.setAnimation(a,d,c)},setAnimation:function(a,
b,c){var d=new Od;d.animation=b;d.loop=c;d.endTime=b.duration;this.setCurrent(a,d);return d},addAnimationByName:function(a,b,c,d){var h=this._data.get_skeletonData().findAnimation(b);if(null==h)throw new Q("Animation not found: "+b);return this.addAnimation(a,h,c,d)},addAnimation:function(a,b,c,d){var h=new Od;h.animation=b;h.loop=c;h.endTime=b.duration;c=this.expandToIndex(a);if(null!=c){for(;null!=c.next;)c=c.next;c.next=h}else this._tracks[a]=h;0>=d&&(d=null!=c?d+(c.endTime-this._data.getMix(c.animation,
b)):0);h.delay=d;return h},getCurrent:function(a){return a>=this._tracks.length?null:this._tracks[a]},__class__:te};var se=function(a){this.defaultMix=0;this._skeletonData=a;this.animationToMixTime=new N};g["com.workinman.display.spine.animation.AnimationStateData"]=se;se.__name__=!0;se.prototype={dispose:function(){this._skeletonData=this.animationToMixTime=null},get_skeletonData:function(){return this._skeletonData},getMix:function(a,b){var c;c=this.animationToMixTime.get(a.get_name()+":"+b.get_name());
return null==c?this.defaultMix:c},__class__:se,__properties__:{get_skeletonData:"get_skeletonData"}};var $b=function(){};g["com.workinman.display.spine.animation.Timeline"]=$b;$b.__name__=!0;$b.prototype={__class__:$b};var Gd=function(a){this.frames=Ea.allocFloat(a);this.attachmentNames=Ea.allocString(a)};g["com.workinman.display.spine.animation.AttachmentTimeline"]=Gd;Gd.__name__=!0;Gd.__interfaces__=[$b];Gd.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,b,c){this.frames[a]=
b;this.attachmentNames[a]=c},apply:function(a,b,c){var d=this.frames;c<d[0]?b>c&&this.apply(a,b,Math.POSITIVE_INFINITY,null,0):(b>c&&(b=-1),c=c>=d[d.length-1]?d.length-1:ib.binarySearch1(d,c)-1,d[c]<b||(b=this.attachmentNames[c],a.slots[this.slotIndex].set_attachment(null==b?null:a.getAttachmentForSlotIndex(this.slotIndex,b))))},__class__:Gd,__properties__:{get_frameCount:"get_frameCount"}};var Fa=function(a){this.curves=Ea.allocFloat(19*(a-1))};g["com.workinman.display.spine.animation.CurveTimeline"]=
Fa;Fa.__name__=!0;Fa.__interfaces__=[$b];Fa.prototype={apply:function(){},get_frameCount:function(){return Math.floor(this.curves.length/19+1)},setStepped:function(a){this.curves[Math.floor(19*a)]=1},setCurve:function(a,b,c,d,h){var e=0.1*0.1,f=0.1*e,g=3*0.1,i=3*e,j=6*e,e=6*f,k=2*-b+d,l=2*-c+h,d=3*(b-d)+1,h=3*(c-h)+1,b=b*g+k*i+d*f,c=c*g+l*i+h*f,f=k*j+d*e,j=l*j+h*e,l=d*e,e=h*e,a=19*a,d=this.curves;d[a++]=2;h=b;g=c;for(i=a+19-1;a<i;)d[a]=h,d[a+1]=g,b+=f,c+=j,f+=l,j+=e,h+=b,g+=c,a+=2},getCurvePercent:function(a,
b){var c=this.curves,d=19*a,h=c[d];if(0==h)return b;if(1==h)return 0;d++;for(var h=0,e=d,f=d+19-1;d<f;){h=c[d];if(h>=b)return d==e?f=e=0:(e=c[d-2],f=c[d-1]),f+(c[d+1]-f)*(b-e)/(h-e);d+=2}c=c[d-1];return c+(1-c)*(b-h)/(1-h)},__class__:Fa,__properties__:{get_frameCount:"get_frameCount"}};var Fd=function(a){Fa.call(this,a);this.frames=Ea.allocFloat(a)};g["com.workinman.display.spine.animation.ColorTimeline"]=Fd;Fd.__name__=!0;Fd.__super__=Fa;Fd.prototype=v(Fa.prototype,{setFrame:function(a,b,c,d,h,e){a*=
5;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d;this.frames[a+3]=h;this.frames[a+4]=e},apply:function(a,b,c,d,h){if(!(c<this.frames[0])){var e,f;if(c>=this.frames[this.frames.length-5])b=this.frames.length-1,c=this.frames[b-3],e=this.frames[b-2],f=this.frames[b-1],b=this.frames[b];else{var b=ib.binarySearch(this.frames,c,5),g=this.frames[b-4];e=this.frames[b-3];f=this.frames[b-2];var d=this.frames[b-1],i=this.frames[b],i=1-(c-i)/(this.frames[b+-5]-i),i=this.getCurvePercent(Math.floor(b/5-
1),0>i?0:1<i?1:i),c=g+(this.frames[b+1]-g)*i;e+=(this.frames[b+2]-e)*i;f+=(this.frames[b+3]-f)*i;b=d+(this.frames[b+4]-d)*i}a=a.slots[this.slotIndex];1>h?(a.r+=(c-a.r)*h,a.g+=(e-a.g)*h,a.b+=(f-a.b)*h,a.a+=(b-a.a)*h):(a.r=c,a.g=e,a.b=f,a.a=b)}},__class__:Fd});var Md=function(a){this.frames=Ea.allocFloat(a);this.drawOrders=Ea.allocIntArray(a)};g["com.workinman.display.spine.animation.DrawOrderTimeline"]=Md;Md.__name__=!0;Md.__interfaces__=[$b];Md.prototype={get_frameCount:function(){return this.frames.length},
setFrame:function(a,b,c){this.frames[a]=b;this.drawOrders[a]=c},apply:function(a,b,c){if(!(c<this.frames[0])){var c=c>=this.frames[this.frames.length-1]?this.frames.length-1:ib.binarySearch1(this.frames,c)-1,b=a.drawOrder,a=a.slots,d=this.drawOrders[c],c=0;if(null==d)for(d=0;d<a.length;){var h=a[d];++d;b[c++]=h}else for(h=0;h<d.length;){var e=d[h];++h;b[c++]=a[e]}}},__class__:Md,__properties__:{get_frameCount:"get_frameCount"}};var Nd=function(a){this.frames=Ea.allocFloat(a);this.events=[];for(var b=
0;b<a;)b++,this.events.push(null)};g["com.workinman.display.spine.animation.EventTimeline"]=Nd;Nd.__name__=!0;Nd.__interfaces__=[$b];Nd.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,b){this.frames[a]=b.time;this.events[a]=b},apply:function(a,b,c,d,h){if(null!=d){if(b>c)this.apply(a,b,Math.POSITIVE_INFINITY,d,h),b=-1;else if(b>=this.frames[this.get_frameCount()-1])return;if(!(c<this.frames[0])){if(b<this.frames[0])a=0;else{a=ib.binarySearch1(this.frames,b);for(b=
this.frames[a];0<a&&!(this.frames[a-1]!=b);)a--}for(;a<this.get_frameCount()&&c>=this.frames[a];)d[d.length]=this.events[a],a++}}},__class__:Nd,__properties__:{get_frameCount:"get_frameCount"}};var Ld=function(a){Fa.call(this,a);this.frames=Ea.allocFloat(a);this.frameVertices=Ea.allocFloatArray(a)};g["com.workinman.display.spine.animation.FfdTimeline"]=Ld;Ld.__name__=!0;Ld.__super__=Fa;Ld.prototype=v(Fa.prototype,{setFrame:function(a,b,c){this.frames[a]=b;this.frameVertices[a]=c},apply:function(a,
b,c,d,h){b=a.slots[this.slotIndex];if(b.get_attachment()==this.attachment&&(d=this.frames,!(c<d[0]))){var e=this.frameVertices,a=e[0].length,b=b.attachmentVertices;b.length!=a&&(h=1);if(c>=d[d.length-1])if(c=e[d.length-1],1>h)for(d=0;d<a;)e=d++,b[e]+=(c[e]-b[e])*h;else for(h=0;h<a;)d=h++,b[d]=c[d];else{var f=ib.binarySearch1(d,c),g=d[f],c=1-(c-g)/(d[f-1]-g),c=this.getCurvePercent(f-1,0>c?0:1<c?1:c),d=e[f-1],e=e[f];if(1>h)for(g=0;g<a;){var i=g++,f=d[i];b[i]+=(f+(e[i]-f)*c-b[i])*h}else for(h=0;h<a;)g=
h++,f=d[g],b[g]=f+(e[g]-f)*c}}},__class__:Ld});var Kd=function(a){Fa.call(this,a);this.frames=Ea.allocFloat(a)};g["com.workinman.display.spine.animation.IkConstraintTimeline"]=Kd;Kd.__name__=!0;Kd.__super__=Fa;Kd.prototype=v(Fa.prototype,{setFrame:function(a,b,c,d){a*=3;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d},apply:function(a,b,c,d,h){if(!(c<this.frames[0]))if(a=a.ikConstraints[this.ikConstraintIndex],c>=this.frames[this.frames.length-3])a.mix+=(this.frames[this.frames.length-2]-a.mix)*
h,a.bendDirection=Math.floor(this.frames[this.frames.length-1]);else{var b=ib.binarySearch(this.frames,c,3),d=this.frames[b+-2],e=this.frames[b],c=1-(c-e)/(this.frames[b+-3]-e),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);a.mix+=(d+(this.frames[b+1]-d)*c-a.mix)*h;a.bendDirection=Math.floor(this.frames[b+-1])}},__class__:Kd});var Zb=function(){this._listeners=[];this._listeners=[]};g["com.workinman.display.spine.animation.Listeners"]=Zb;Zb.__name__=!0;Zb.prototype={get_listeners:function(){return this._listeners},
dispose:function(){this._listeners=null},add:function(a){if(null==a)throw new Q("listener cannot be null.");this._listeners[this._listeners.length]=a},remove:function(a){if(null==a)throw new Q("listener cannot be null.");this._listeners.splice(this._listeners.indexOf(a),1)},invoke:function(a,b){for(var c=0,d=this.get_listeners();c<d.length;){var h=d[c];++c;h(a,b)}},__class__:Zb,__properties__:{get_listeners:"get_listeners"}};var Hd=function(a){Fa.call(this,a);this.frames=Ea.allocFloat(2*a)};g["com.workinman.display.spine.animation.RotateTimeline"]=
Hd;Hd.__name__=!0;Hd.__super__=Fa;Hd.prototype=v(Fa.prototype,{setFrame:function(a,b,c){a*=2;this.frames[a]=b;this.frames[a+1]=c},apply:function(a,b,c,d,h){if(!(c<this.frames[0])){a=a.bones[this.boneIndex];if(c>=this.frames[this.frames.length-2])d=a.get_data().rotation+this.frames[this.frames.length-1]-a.rotation;else{for(var d=ib.binarySearch(this.frames,c,2),b=this.frames[d-1],e=this.frames[d],c=1-(c-e)/(this.frames[d+-2]-e),c=this.getCurvePercent(Math.floor(d/2-1),0>c?0:1<c?1:c),d=this.frames[d+
1]-b;180<d;)d-=360;for(;-180>d;)d+=360;d=a.get_data().rotation+(b+d*c)-a.rotation}for(;180<d;)d-=360;for(;-180>d;)d+=360;a.rotation+=d*h}},__class__:Hd});var ob=function(a){this.FRAME_Y=2;this.FRAME_X=1;this.PREV_FRAME_TIME=-3;Fa.call(this,a);this.frames=Ea.allocFloat(a)};g["com.workinman.display.spine.animation.TranslateTimeline"]=ob;ob.__name__=!0;ob.__super__=Fa;ob.prototype=v(Fa.prototype,{setFrame:function(a,b,c,d){a*=3;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d},apply:function(a,
b,c,d,h){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.x+=(a.get_data().x+this.frames[this.frames.length-2]-a.x)*h,a.y+=(a.get_data().y+this.frames[this.frames.length-1]-a.y)*h;else{var b=ib.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],f=this.frames[b],c=1-(c-f)/(this.frames[b+this.PREV_FRAME_TIME]-f),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);a.x+=(a.get_data().x+d+(this.frames[b+this.FRAME_X]-d)*c-a.x)*h;a.y+=(a.get_data().y+
e+(this.frames[b+this.FRAME_Y]-e)*c-a.y)*h}},__class__:ob});var Id=function(a){ob.call(this,a)};g["com.workinman.display.spine.animation.ScaleTimeline"]=Id;Id.__name__=!0;Id.__super__=ob;Id.prototype=v(ob.prototype,{apply:function(a,b,c,d,h){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.scaleX+=(a.get_data().scaleX*this.frames[this.frames.length-2]-a.scaleX)*h,a.scaleY+=(a.get_data().scaleY*this.frames[this.frames.length-1]-a.scaleY)*h;else{var b=ib.binarySearch(this.frames,
c,3),d=this.frames[b-2],e=this.frames[b-1],f=this.frames[b],c=1-(c-f)/(this.frames[b+this.PREV_FRAME_TIME]-f),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);a.scaleX+=(a.get_data().scaleX*(d+(this.frames[b+this.FRAME_X]-d)*c)-a.scaleX)*h;a.scaleY+=(a.get_data().scaleY*(e+(this.frames[b+this.FRAME_Y]-e)*c)-a.scaleY)*h}},__class__:Id});var Jd=function(a){ob.call(this,a)};g["com.workinman.display.spine.animation.ShearTimeline"]=Jd;Jd.__name__=!0;Jd.__super__=ob;Jd.prototype=v(ob.prototype,{apply:function(a,
b,c,d,h){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.shearX+=(a.get_data().shearX+this.frames[this.frames.length-2]-a.shearX)*h,a.shearY+=(a.get_data().shearY+this.frames[this.frames.length-1]-a.shearY)*h;else{var b=ib.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],f=this.frames[b],c=Uf.clamp(1-(c-f)/(this.frames[b+this.PREV_FRAME_TIME]-f),0,1),c=this.getCurvePercent(Math.floor(b/3-1),c);a.shearX+=(a.get_data().shearX+(d+(this.frames[b+
this.FRAME_X]-d)*c)-a.shearX)*h;a.shearY+=(a.get_data().shearY+(e+(this.frames[b+this.FRAME_Y]-e)*c)-a.shearY)*h}},__class__:Jd});var Od=function(){this.timeScale=this.mix=1;this.lastTime=-1;this.time=0};g["com.workinman.display.spine.animation.TrackEntry"]=Od;Od.__name__=!0;Od.prototype={dispose:function(){this.onEvent=this.onComplete=this.onEnd=this.onStart=this.animation=this.previous=this.next=null},__class__:Od};var re=function(a,b){this.regions=[];this.pages=[];""!=a&&this.load(a,b)};g["com.workinman.display.spine.atlas.Atlas"]=
re;re.__name__=!0;re.prototype={load:function(a,b){if(null==b)throw new Q("textureLoader cannot be null.");this.textureLoader=b;for(var c=new mf(a),d=Ea.allocString(4),h=null;;){var e=c.readLine();if(null==e)break;e=c.trim(e);if(0==e.length)h=null;else if(null==h){h=new nf;h.name=e;2==c.readTuple(d)&&(h.width=C.parseInt(d[0]),h.height=C.parseInt(d[1]),c.readTuple(d));h.format=d[0];c.readTuple(d);h.minFilter=d[0];h.magFilter=d[1];var f=c.readValue();h.uWrap="clampToEdge";h.vWrap="clampToEdge";"x"==
f?h.uWrap="repeat":"y"==f?h.vWrap="repeat":"xy"==f&&(h.uWrap=h.vWrap="repeat");b.loadPage(h,e);this.pages.push(h)}else{f=new qc;f.name=e;f.page=h;f.rotate="true"==c.readValue();c.readTuple(d);var e=C.parseInt(d[0]),g=C.parseInt(d[1]);c.readTuple(d);var i=C.parseInt(d[0]),j=C.parseInt(d[1]);f.u=e/h.width;f.v=g/h.height;f.rotate?(f.u2=(e+j)/h.width,f.v2=(g+i)/h.height):(f.u2=(e+i)/h.width,f.v2=(g+j)/h.height);f.x=e;f.y=g;f.width=Math.floor(Math.abs(i));f.height=Math.floor(Math.abs(j));4==c.readTuple(d)&&
(f.splits=[C.parseInt(d[0]),C.parseInt(d[1]),C.parseInt(d[2]),C.parseInt(d[3])],4==c.readTuple(d)&&(f.pads=[C.parseInt(d[0]),C.parseInt(d[1]),C.parseInt(d[2]),C.parseInt(d[3])],c.readTuple(d)));f.originalWidth=C.parseInt(d[0]);f.originalHeight=C.parseInt(d[1]);c.readTuple(d);f.offsetX=C.parseInt(d[0]);f.offsetY=C.parseInt(d[1]);f.index=C.parseInt(c.readValue());b.loadRegion(f);this.regions.push(f)}}},findRegion:function(a){for(var b=0,c=this.regions.length;b<c;){var d=b++;if(this.regions[d].name==
a)return this.regions[d]}return null},__class__:re};var mf=function(a){this.index=0;this.lines=(new pb("[ \t]*((\r\n)|\r|\n)[ \t]*","g")).split(a)};g["com.workinman.display.spine.atlas.Reader"]=mf;mf.__name__=!0;mf.prototype={trim:function(a){return da.trim(a)},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var a=this.readLine(),b=a.indexOf(":");if(-1==b)throw new Q("Invalid line: "+a);return this.trim(a.substring(b+1))},readTuple:function(a){var b=
this.readLine(),c=b.indexOf(":");if(-1==c)throw new Q("Invalid line: "+b);for(var d=0,c=c+1;3>d;){var h=b.indexOf(",",c);if(-1==h)break;a[d]=this.trim(L.substr(b,c,h-c));c=h+1;d++}a[d]=this.trim(b.substring(c));return d+1},__class__:mf};var nf=function(){};g["com.workinman.display.spine.atlas.AtlasPage"]=nf;nf.__name__=!0;nf.prototype={__class__:nf};var qc=function(){};g["com.workinman.display.spine.atlas.AtlasRegion"]=qc;qc.__name__=!0;qc.prototype={__class__:qc};var of=function(){};g["com.workinman.display.spine.atlas.TextureLoader"]=
of;of.__name__=!0;of.prototype={__class__:of};var pf=function(){};g["com.workinman.display.spine.attachments.AttachmentLoader"]=pf;pf.__name__=!0;pf.prototype={__class__:pf};var tb=function(a){if(null==a)throw new Q("atlas cannot be null.");this.atlas=a};g["com.workinman.display.spine.attachments.AtlasAttachmentLoader"]=tb;tb.__name__=!0;tb.__interfaces__=[pf];tb.nextPOT=function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};tb.prototype={newRegionAttachment:function(a,b,c){a=this.atlas.findRegion(c);
if(null==a)throw new Q("Region not found in atlas: "+c+" (region attachment: "+b+")");b=new ac(b);b.rendererObject=a;var c=a.page.width/tb.nextPOT(a.page.width),d=a.page.height/tb.nextPOT(a.page.height);b.setUVs(a.u*c,a.v*d,a.u2*c,a.v2*d,a.rotate);b.regionOffsetX=a.offsetX;b.regionOffsetY=a.offsetY;b.regionWidth=a.width;b.regionHeight=a.height;b.regionOriginalWidth=a.originalWidth;b.regionOriginalHeight=a.originalHeight;return b},newMeshAttachment:function(a,b,c){a=this.atlas.findRegion(c);if(null==
a)throw new Q("Region not found in atlas: "+c+" (mesh attachment: "+b+")");b=new nb(b);b.rendererObject=a;return b},newWeightedMeshAttachment:function(a,b,c){a=this.atlas.findRegion(c);if(null==a)throw new Q("Region not found in atlas: "+c+" (weighted mesh attachment: "+b+")");b=new Jb(b);b.rendererObject=a;var c=a.page.width/tb.nextPOT(a.page.width),d=a.page.height/tb.nextPOT(a.page.height);b.regionU=a.u*c;b.regionV=a.v*d;b.regionU2=a.u2*c;b.regionV2=a.v2*d;b.regionRotate=a.rotate;b.regionOffsetX=
a.offsetX;b.regionOffsetY=a.offsetY;b.regionWidth=a.width;b.regionHeight=a.height;b.regionOriginalWidth=a.originalWidth;b.regionOriginalHeight=a.originalHeight;return b},newBoundingBoxAttachment:function(a,b){return new rc(b)},__class__:tb};var wa=function(a){if(null==a)throw new Q("name cannot be null.");this._name=a};g["com.workinman.display.spine.attachments.Attachment"]=wa;wa.__name__=!0;wa.prototype={dispose:function(){},get_name:function(){return this._name},__class__:wa,__properties__:{get_name:"get_name"}};
var lf=function(a,b){this.ordinal=a;this.name=b};g["com.workinman.display.spine.attachments.AttachmentType"]=lf;lf.__name__=!0;lf.prototype={__class__:lf};var rc=function(a){wa.call(this,a);this.vertices=[]};g["com.workinman.display.spine.attachments.BoundingBoxAttachment"]=rc;rc.__name__=!0;rc.__super__=wa;rc.prototype=v(wa.prototype,{dispose:function(){wa.prototype.dispose.call(this);this.vertices=null},computeWorldVertices:function(a,b,c,d){for(var a=a+c.get_worldX(),b=b+c.get_worldY(),h=c.get_a(),
e=c.get_b(),f=c.get_c(),c=c.get_d(),g=this.vertices,i=0,j=g.length;i<j;){var k=i+1,l=g[i],m=g[k];d[i]=l*h+m*e+a;d[k]=l*f+m*c+b;i+=2}},__class__:rc});var nb=function(a){this.r=this.g=this.b=this.a=1;wa.call(this,a)};g["com.workinman.display.spine.attachments.MeshAttachment"]=nb;nb.__name__=!0;nb.__super__=wa;nb.prototype=v(wa.prototype,{dispose:function(){wa.prototype.dispose.call(this);this.region=this.worldVertices=this.rendererObject=this.triangles=this.regionUVs=this.uvs=this.vertices=null},updateUVs:function(){null==
this.region&&(this.region=this.rendererObject);var a,b=this.regionUVs.length;if(null==this.uvs||this.uvs.length!=b)this.uvs=[];var c,d,h,e;null==this.region?(c=d=0,h=e=1):(c=this.region.u,d=this.region.v,h=this.region.u2-c,e=this.region.v2-d);var f=this.regionUVs;if(y.__instanceof(this.region,qc)&&y.__cast(this.region,qc).rotate)for(a=0;a<b;)this.uvs[a]=c+f[a+1]*h,this.uvs[a+1]=d+e-f[a]*e,a+=2;else for(a=0;a<b;)this.uvs[a]=c+f[a]*h,this.uvs[a+1]=d+f[a+1]*e,a+=2},updateWorldVertices:function(a){var b=
a.get_skeleton(),c=a.get_bone(),d=b.x+c.get_worldX(),b=b.y+c.get_worldY(),h=c.get_a(),e=c.get_b(),f=c.get_c(),c=c.get_d(),g=this.vertices,i=g.length;a.attachmentVertices.length==i&&(g=a.attachmentVertices);for(var a=[],j=0,k=0;k<i;){var l=g[j],m=g[j+1];a[k]=l*h+m*e+d;a[k+1]=l*f+m*c+b;j+=2;k+=2}return a},__class__:nb});var ac=function(a){this.uvs=[];this.offset=[];this.scaleX=this.scaleY=this.r=this.g=this.b=this.a=1;wa.call(this,a);this.offset=Ea.allocFloat(8);this.uvs=Ea.allocFloat(8)};g["com.workinman.display.spine.attachments.RegionAttachment"]=
ac;ac.__name__=!0;ac.__super__=wa;ac.prototype=v(wa.prototype,{dispose:function(){wa.prototype.dispose.call(this);this.rendererObject=null},setUVs:function(a,b,c,d,h){h?(this.uvs[2]=a,this.uvs[3]=d,this.uvs[4]=a,this.uvs[5]=b,this.uvs[6]=c,this.uvs[7]=b,this.uvs[0]=c,this.uvs[1]=d):(this.uvs[0]=a,this.uvs[1]=d,this.uvs[2]=a,this.uvs[3]=b,this.uvs[4]=c,this.uvs[5]=b,this.uvs[6]=c,this.uvs[7]=d)},updateOffset:function(){var a=this.width/this.regionOriginalWidth*this.scaleX,b=this.height/this.regionOriginalHeight*
this.scaleY,c=-this.width/2*this.scaleX+this.regionOffsetX*a,d=-this.height/2*this.scaleY+this.regionOffsetY*b,h=c+this.regionWidth*a,b=d+this.regionHeight*b,a=this.rotation*Math.PI/180,e=Math.cos(a),f=Math.sin(a),a=c*e+this.x,c=c*f,g=d*e+this.y,d=d*f,i=h*e+this.x,h=h*f,e=b*e+this.y,b=b*f;this.offset[0]=a-d;this.offset[1]=g+c;this.offset[2]=a-b;this.offset[3]=e+c;this.offset[4]=i-b;this.offset[5]=e+h;this.offset[6]=i-d;this.offset[7]=g+h},computeWorldVertices:function(a,b,c,d){var a=a+c.get_worldX(),
b=b+c.get_worldY(),h=c.get_a(),e=c.get_b(),f=c.get_c(),c=c.get_d(),g=this.offset[0],i=this.offset[1],j=this.offset[2],k=this.offset[3],l=this.offset[4],m=this.offset[5],o=this.offset[6],n=this.offset[7];d[0]=g*h+i*e+a;d[1]=g*f+i*c+b;d[2]=j*h+k*e+a;d[3]=j*f+k*c+b;d[4]=l*h+m*e+a;d[5]=l*f+m*c+b;d[6]=o*h+n*e+a;d[7]=o*f+n*c+b},__class__:ac});var Jb=function(a){this.r=this.g=this.b=this.a=1;wa.call(this,a)};g["com.workinman.display.spine.attachments.WeightedMeshAttachment"]=Jb;Jb.__name__=!0;Jb.__super__=
wa;Jb.prototype=v(wa.prototype,{dispose:function(){wa.prototype.dispose.call(this);this.rendererObject=this.triangles=this.regionUVs=this.uvs=this.weights=this.bones=null},updateUVs:function(){var a=this.regionU2-this.regionU,b=this.regionV2-this.regionV,c,d=this.regionUVs.length;if(null==this.uvs||this.uvs.length!=d)this.uvs=[];if(this.regionRotate)for(c=0;c<d;)this.uvs[c]=this.regionU+this.regionUVs[c+1]*a,this.uvs[c+1]=this.regionV+b-this.regionUVs[c]*b,c+=2;else for(c=0;c<d;)this.uvs[c]=this.regionU+
this.regionUVs[c]*a,this.uvs[c+1]=this.regionV+this.regionUVs[c+1]*b,c+=2},computeWorldVertices:function(a,b,c,d){var h=c.get_skeleton().bones,e=this.weights,f=this.bones,g=0,i=0,j=0,k=0,l=f.length,m,o,n,q,p,r;if(0==c.attachmentVertices.length)for(;i<l;){o=m=0;for(c=f[i++]+i;i<c;)n=h[f[i]],q=e[j],p=e[j+1],r=e[j+2],m+=(q*n.get_a()+p*n.get_b()+n.get_worldX())*r,o+=(q*n.get_c()+p*n.get_d()+n.get_worldY())*r,i++,j+=3;d[g]=m+a;d[g+1]=o+b;g+=2}else for(var s=c.attachmentVertices;i<l;){o=m=0;for(c=f[i++]+
i;i<c;)n=h[f[i]],q=e[j]+s[k],p=e[j+1]+s[k+1],r=e[j+2],m+=(q*n.get_a()+p*n.get_b()+n.get_worldX())*r,o+=(q*n.get_c()+p*n.get_d()+n.get_worldY())*r,i++,j+=3,k+=2;d[g]=m+a;d[g+1]=o+b;g+=2}},__class__:Jb});var cd=function(a,b){this.prefix=a;this.pack=b};g["com.workinman.display.spine.platform.flambe.FlambeTextureLoader"]=cd;cd.__name__=!0;cd.__interfaces__=[of];cd.prototype={loadPage:function(a,b){var c=this.pack.getTexture(this.prefix+La.removeFileExtension(b));a.rendererObject=c;a.width=c.get_width();
a.height=c.get_height()},loadRegion:function(){},__class__:cd};var Pd=function(a,b,c){this._w=this._h=0;U.call(this,{originX:0,originY:0});this.meshAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;this._flagRenderBoxes=c;a=this.region.rotate?this.region.height:this.region.width;b=this.region.rotate?this.region.width:this.region.height;this._w=a;this._h=b};g["com.workinman.display.spine.platform.flambe.MeshSprite"]=Pd;Pd.__name__=!0;Pd.__super__=U;Pd.prototype=
v(U.prototype,{dispose:function(){U.prototype.dispose.call(this);this.slot=this.atlas=this.region=this.meshAttachment=null},_draw:function(a){var b=this.meshAttachment.uvs,c=this.meshAttachment.triangles,d=this.worldVertices;if(y.__instanceof(a,Hb))for(var h=0;h<c.length;){var e=2*c[h],f=d[e],g=d[e+1],i=b[e]*this.region.page.width,j=b[e+1]*this.region.page.height,e=2*c[h+1],k=d[e],l=d[e+1],m=b[e]*this.region.page.width,o=b[e+1]*this.region.page.height,e=2*c[h+2],n=d[e],q=d[e+1],p=b[e]*this.region.page.width,
e=b[e+1]*this.region.page.height;a.canvasCtx.save();a.canvasCtx.beginPath();a.canvasCtx.moveTo(f,g);a.canvasCtx.lineTo(k,l);a.canvasCtx.lineTo(n,q);a.canvasCtx.closePath();this._flagRenderBoxes&&(a.canvasCtx.strokeStyle="#00FF00",a.canvasCtx.stroke());a.canvasCtx.clip();var r=i*o+j*p+m*e-o*p-j*m-i*e;a.canvasCtx.transform((f*o+j*n+k*e-o*n-j*k-f*e)/r,(g*o+j*q+l*e-o*q-j*l-g*e)/r,(i*k+f*p+m*n-k*p-f*m-i*n)/r,(i*l+g*p+m*q-l*p-g*m-i*q)/r,(i*o*n+j*k*p+f*m*e-f*o*p-j*m*n-i*k*e)/r,(i*o*q+j*l*p+g*m*e-g*o*p-j*
m*q-i*l*e)/r);a.canvasCtx.drawImage(this.atlas.root.image,0,0);a.canvasCtx.restore();h+=3}},get_width:function(){return this.region.width},get_height:function(){return this.region.height},__class__:Pd});var Qd=function(a,b){this._w=this._h=0;U.call(this,{originX:0,originY:0});this.regionAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;var c;c=this.region.rotate?this.region.height:this.region.width;var d;d=this.region.rotate?this.region.width:this.region.height;
this._w=c;this._h=d;this.rotation=-a.rotation;this.scaleX=a.scaleX*(a.width/this.region.originalWidth);this.scaleY=a.scaleY*(a.height/this.region.originalHeight);this.region.rotate&&(this.scaleY=a.scaleX*(a.width/this.region.originalWidth),this.scaleX=a.scaleY*(a.height/this.region.originalHeight));var h=-a.rotation*Math.PI/180,e=Math.cos(h),h=Math.sin(h),f=-a.width/2*Math.abs(a.scaleX),g=-a.height/2*Math.abs(a.scaleY),i=this.region.offsetX*this.scaleX,j=(this.region.originalHeight-this.region.height-
this.region.offsetY)*this.scaleY;0>a.scaleX&&(f=this.region.rotate?f-d*(a.width/this.region.originalWidth):a.width/2*Math.abs(a.scaleX));0>a.scaleY&&(g=this.region.rotate?g+c*(a.height/this.region.originalHeight):a.height/2*Math.abs(a.scaleY));this.region.rotate&&(this.rotation+=90,f+=d*(a.width*Math.abs(a.scaleX)/this.region.originalWidth));this.set_x(a.x+f*e-g*h+i*e-j*h);this.set_y(-a.y+f*h+g*e+i*h+j*e)};g["com.workinman.display.spine.platform.flambe.RegionSprite"]=Qd;Qd.__name__=!0;Qd.__super__=
U;Qd.prototype=v(U.prototype,{dispose:function(){U.prototype.dispose.call(this);this.slot=this.atlas=this.region=this.regionAttachment=null},_draw:function(a){a.ctx.drawSubTexture(this.atlas,0,0,this.region.x,this.region.y,this._w,this._h)},get_width:function(){return this.region.originalWidth},get_height:function(){return this.region.originalHeight},__class__:Qd});var Kb=function(a,b){null==b&&(b=!1);this.colorRegionBox=65280;this.colorBoundingBox=16711680;U.call(this,null);this._holder=new U(null);
Ib.yDown=!0;this.skeleton=new ff(a);this.skeleton.updateWorldTransform();this._sprites=new lb;this._regions=new lb;this._meshes=new lb;this._weightedMeshes=new lb;this._flagRenderBoxes=b;this.drawSprites(!0);this.addChild(this._holder)};g["com.workinman.display.spine.platform.flambe.SkeletonSprite"]=Kb;Kb.__name__=!0;Kb.__super__=U;Kb.prototype=v(U.prototype,{dispose:function(){null!=this._holder&&this.removeChild(this._holder);U.prototype.dispose.call(this);null!=this.skeleton&&this.skeleton.dispose();
this.skeleton=null;null!=this._holder&&this._holder.dispose();this._weightedMeshes=this._meshes=this._regions=this._sprites=this._holder=null},_draw:function(){this.drawSprites(!1)},drawSprites:function(a){for(var b=this._sprites.iterator();b.hasNext();)b.next().visible=!1;b=this.skeleton.drawOrder;a&&(b=this.skeleton.slots);for(var a=0,c=b.length;a<c;){var d=a++,d=b[d];if(null!=d.get_attachment())if(C.is(d.get_attachment(),ac)){var e;e=y.__cast(d.get_attachment(),ac);if(null!=e){var f=this._sprites.h[e.__id__];
if(null==f){var g=new Qd(e,d),i=f=new bc;i.addChild(g);this._flagRenderBoxes&&this._renderBoxes(d,e,i);this._sprites.set(e,f);this._regions.set(e,g);this._holder.addChild(i)}this._holder.addChild(this._sprites.h[e.__id__]);g=d.get_bone();f.visible=!0;f.a=g.get_a();f.b=g.get_b();f.c=g.get_c();f.d=g.get_d();f.e=g.get_worldX();f.f=g.get_worldY();f.alpha=this.skeleton.a*d.a*e.a;f=this.skeleton.g*d.g*e.g;g=this.skeleton.b*d.b*e.b;d="0x"+this.toHexColor(Math.floor(255*this.skeleton.r*d.r*e.r))+this.toHexColor(Math.floor(255*
f))+this.toHexColor(Math.floor(255*g));this._regions.h[e.__id__].color=C.parseInt(d)}}else C.is(d.get_attachment(),nb)?(e=y.__cast(d.get_attachment(),nb),null!=e&&(f=this._sprites.h[e.__id__],null==f&&(g=new Pd(e,d,this._flagRenderBoxes),i=f=new bc,i.addChild(g),this._sprites.set(e,f),this._meshes.set(e,g),this._holder.addChild(i)),this._holder.addChild(this._sprites.h[e.__id__]),g=e.updateWorldVertices(d,!0),this._meshes.h[e.__id__].worldVertices=g,f.visible=!0,f.alpha=this.skeleton.a*d.a*e.a)):
C.is(d.get_attachment(),Jb)&&(e=y.__cast(d.get_attachment(),Jb),null!=e&&(f=this._sprites.h[e.__id__],null==f&&(g=new Rd(e,d),i=f=new bc,i.addChild(g),this._sprites.set(e,f),this._weightedMeshes.set(e,g),this._holder.addChild(i)),g=Ea.allocFloat(e.uvs.length),e.computeWorldVertices(this.skeleton.x,this.skeleton.y,d,g),this._weightedMeshes.h[e.__id__].worldVertices=g,this._holder.addChild(this._sprites.h[e.__id__]),f.visible=!0,f.alpha=this.skeleton.a*d.a*e.a))}},_renderBoxes:function(a,b,c){var d,
e=new Cd,f;f=this.skeleton.flipX?-1:1;var g;g=this.skeleton.flipY?-1:1;f=a.get_bone().get_worldRotationX()*f*g;f=f*-Math.PI/180;g=0;for(var i=this.skeleton.slots.length;g<i;){var j=g++,k=this.skeleton.slots[j];if(null!=this.skeleton.get_data().defaultSkin.get_attachments()[j])for(j=this.skeleton.get_data().defaultSkin.get_attachments()[j].iterator();j.hasNext();){var l=j.next(),m;try{m=y.__cast(l,rc)}catch(o){m=null}if(null!=m&&m.get_name()==b.get_name()){var l=0,n=m.vertices.length;e.vertices.splice(m.vertices.length,
e.vertices.length-m.vertices.length);for(m.computeWorldVertices(this.skeleton.x,this.skeleton.y,k.get_bone(),e.vertices);l<n;){var p=l;d=l+2;l==n-2&&(d=0);var q=e.vertices[p]-k.get_bone().get_worldX(),p=e.vertices[p+1]-k.get_bone().get_worldY(),r=e.vertices[d]-k.get_bone().get_worldX();d=e.vertices[d+1]-k.get_bone().get_worldY();var s=q,t=p,q=Math.cos(f)*s-Math.sin(f)*t,p=Math.sin(f)*s+Math.cos(f)*t,s=r,t=d,r=Math.cos(f)*s-Math.sin(f)*t;d=Math.sin(f)*s+Math.cos(f)*t;s=Math.abs(Math.sqrt((q-r)*(q-
r)+(p-d)*(p-d)));r=180*Math.atan2(d-p,r-q)/Math.PI-90;d=new rb({color:this.colorBoundingBox,sizeX:5,sizeY:Math.floor(s)});d.set_x(q);d.set_y(p);d.rotation=r;c.addChild(d);l+=2}}}}e=new Cd;b.computeWorldVertices(this.skeleton.x,this.skeleton.y,a.get_bone(),e.vertices);b=0;for(m=e.vertices.length;b<m;)i=b,j=b+2,b==m-2&&(j=0),g=e.vertices[i]-a.get_bone().get_worldX(),i=e.vertices[i+1]-a.get_bone().get_worldY(),k=e.vertices[j]-a.get_bone().get_worldX(),j=e.vertices[j+1]-a.get_bone().get_worldY(),l=g,
n=i,g=Math.cos(f)*l-Math.sin(f)*n,i=Math.sin(f)*l+Math.cos(f)*n,l=k,n=j,k=Math.cos(f)*l-Math.sin(f)*n,j=Math.sin(f)*l+Math.cos(f)*n,0>a.get_bone().get_worldScaleX()&&(i*=-1,j*=-1),l=Math.abs(Math.sqrt((g-k)*(g-k)+(i-j)*(i-j))),k=180*Math.atan2(j-i,k-g)/Math.PI-90,j=new rb({color:this.colorRegionBox,sizeX:2,sizeY:Math.floor(l)}),j.set_x(g),j.set_y(i),j.rotation=k,c.addChild(j),b+=2},toHexColor:function(a){a=Math.max(0,Math.min(a,255));return"0123456789ABCDEF".charAt(Math.floor((a-a%16)/16))+"0123456789ABCDEF".charAt(Math.floor(a%
16))},__class__:Kb});var dd=function(a,b){null==b&&(b=!1);Kb.call(this,a,b)};g["com.workinman.display.spine.platform.flambe.SkeletonAnimation"]=dd;dd.__name__=!0;dd.__super__=Kb;dd.prototype=v(Kb.prototype,{dispose:function(){Kb.prototype.dispose.call(this)},__class__:dd});var ve=function(a){this.regions=[];this.polygonPool=[];this.polygons=[];this._renderer=a};g["com.workinman.display.spine.platform.flambe.SkeletonRegions"]=ve;ve.__name__=!0;ve.prototype={dispose:function(){this._renderer=this.regions=
null;for(var a=0,b=this.polygons;a<b.length;){var c=b[a];++a;null!=c&&c.dispose()}this.polygons=null;a=0;for(b=this.polygonPool;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygonPool=null},__class__:ve};var Rd=function(a,b){this._w=this._h=0;U.call(this,{originX:0,originY:0});this.meshAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;var c;c=this.region.rotate?this.region.height:this.region.width;var d;d=this.region.rotate?this.region.width:this.region.height;
this._w=c;this._h=d};g["com.workinman.display.spine.platform.flambe.WeightedMeshSprite"]=Rd;Rd.__name__=!0;Rd.__super__=U;Rd.prototype=v(U.prototype,{dispose:function(){U.prototype.dispose.call(this);this.slot=this.atlas=this.region=this.meshAttachment=null},_draw:function(a){var b=this.meshAttachment.uvs,c=this.meshAttachment.triangles,d=this.worldVertices;if(y.__instanceof(a,Hb))for(var e=0;e<c.length;){var f=2*c[e],g=d[f],i=d[f+1],j=b[f]*this.region.page.width,k=b[f+1]*this.region.page.height,
f=2*c[e+1],l=d[f],m=d[f+1],n=b[f]*this.region.page.width,o=b[f+1]*this.region.page.height,f=2*c[e+2],p=d[f],q=d[f+1],r=b[f]*this.region.page.width,f=b[f+1]*this.region.page.height;a.canvasCtx.save();a.canvasCtx.beginPath();a.canvasCtx.moveTo(g,i);a.canvasCtx.lineTo(l,m);a.canvasCtx.lineTo(p,q);a.canvasCtx.closePath();a.canvasCtx.stroke();a.canvasCtx.clip();var s=j*o+k*r+n*f-o*r-k*n-j*f;a.canvasCtx.transform((g*o+k*p+l*f-o*p-k*l-g*f)/s,(i*o+k*q+m*f-o*q-k*m-i*f)/s,(j*l+g*r+n*p-l*r-g*n-j*p)/s,(j*m+i*
r+n*q-m*r-i*n-j*q)/s,(j*o*p+k*l*r+g*n*f-g*o*r-k*n*p-j*l*f)/s,(j*o*q+k*m*r+i*n*f-i*o*r-k*n*q-j*m*f)/s);a.canvasCtx.drawImage(this.atlas.root.image,0,0);a.canvasCtx.restore();e+=3}},get_width:function(){return this.region.width},get_height:function(){return this.region.height},__class__:Rd});var bc=function(){U.call(this,null);this.a=this.b=this.c=this.d=this.e=this.f=0};g["com.workinman.display.spine.platform.flambe.WrapperSprite"]=bc;bc.__name__=!0;bc.__super__=U;bc.prototype=v(U.prototype,{render:function(a){if(!1!=
this.visible){this._matrix.set(this.a,this.c,-this.b,-this.d,this.e,this.f);null!=this.parent&&Wa.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);a.ctx.save();1>this.alpha&&a.ctx.multiplyAlpha(this.alpha);a.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);a.ctx.save();a.ctx.translate(-this.get_width()*this.originX+this.get_offsetX(),-this.get_height()*this.originY+this.get_offsetY());this._draw(a);a.ctx.restore();
for(var b=0,c=this.children.length;b<c;)this.children[b++].render(a,null);a.ctx.restore()}},__class__:bc});var ha=g["com.workinman.display.ui._ButtonBase.ButtonState"]={__ename__:!0,__constructs__:["_STATE_UP","_STATE_DOWN","_STATE_OVER","_STATE_CLICK"]};ha._STATE_UP=["_STATE_UP",0];ha._STATE_UP.toString=f;ha._STATE_UP.__enum__=ha;ha._STATE_DOWN=["_STATE_DOWN",1];ha._STATE_DOWN.toString=f;ha._STATE_DOWN.__enum__=ha;ha._STATE_OVER=["_STATE_OVER",2];ha._STATE_OVER.toString=f;ha._STATE_OVER.__enum__=
ha;ha._STATE_CLICK=["_STATE_CLICK",3];ha._STATE_CLICK.toString=f;ha._STATE_CLICK.__enum__=ha;ha.__empty_constructs__=[ha._STATE_UP,ha._STATE_DOWN,ha._STATE_OVER,ha._STATE_CLICK];var mb=g["com.workinman.display.ui.EventType"]={__ename__:!0,__constructs__:["EVENT_BASIC","EVENT_DATA"]};mb.EVENT_BASIC=["EVENT_BASIC",0];mb.EVENT_BASIC.toString=f;mb.EVENT_BASIC.__enum__=mb;mb.EVENT_DATA=["EVENT_DATA",1];mb.EVENT_DATA.toString=f;mb.EVENT_DATA.__enum__=mb;mb.__empty_constructs__=[mb.EVENT_BASIC,mb.EVENT_DATA];
var Sd=function(a){Y.call(this,a);this._targetID=""};g["com.workinman.display.ui.ButtonDynamic"]=Sd;Sd.__name__=!0;Sd.__super__=Y;Sd.prototype=v(Y.prototype,{setEventWithData:function(a,b){this._event=a;this._eventType=mb.EVENT_DATA;this._eventData=b},_doClick:function(){if(this._flagEnabled&&(i.get_instance().dispatcher.dispatchEvent(W.request(j.INPUT_LOSE_FOCUS)),this._dispatch(j.BUTTON_CLICK),null!=this._event)){switch(this._eventType[1]){case 0:i.get_instance().dispatcher.dispatchEvent(W.request(this._event));
break;case 1:i.get_instance().dispatcher.dispatchEvent(W.request(this._event,function(a){var b=new N;b.set("data",a._eventData);return b}(this)))}this._renderUp()}},__class__:Sd});var ne=function(a,b,c){this._screenId=a;this._changeEvent=b;this._action=c};g["com.workinman.display.ui.ChangeActionData"]=ne;ne.__name__=!0;ne.prototype={get_screenId:function(){return this._screenId},get_changeEvent:function(){return this._changeEvent},get_action:function(){return this._action},__class__:ne,__properties__:{get_action:"get_action",
get_changeEvent:"get_changeEvent",get_screenId:"get_screenId"}};var fa=g["com.workinman.display.ui.SCREEN_STATE"]={__ename__:!0,__constructs__:["IN","OUT","OPENED"]};fa.IN=["IN",0];fa.IN.toString=f;fa.IN.__enum__=fa;fa.OUT=["OUT",1];fa.OUT.toString=f;fa.OUT.__enum__=fa;fa.OPENED=["OPENED",2];fa.OPENED.toString=f;fa.OPENED.__enum__=fa;fa.__empty_constructs__=[fa.IN,fa.OUT,fa.OPENED];var ke=function(a,b){this._root=a;this._screenData=new Va;this._screenOpen=new Va;this._screenRemoval=[];this._interfaceDelegate=
b};g["com.workinman.display.ui.ScreenManager"]=ke;ke.__name__=!0;ke.prototype={addScreen:function(a,b){this._screenData.set(a,b);b},closeScreen:function(a,b){null==b&&(b=!0);!1!=this._screenOpen.exists(a)&&(this._screenOpen.get(a).close(b),this._dispatchEventChange(ja.CLOSE_BEGIN,a))},openScreen:function(a){if(!1!=this._screenData.exists(a))if(this.isScreenOpen(a))this._root.addChild(this._screenOpen.get(a).get_root()),this._dispatchEventChange(ja.OPEN_BEGIN,a),this._dispatchEventChange(ja.OPEN_COMPLETE,
a);else{var b=qa.createInstance(this._screenData.get(a),[a,this._root,p(this,this._onEventScreenOutput)]);null!=b&&(b.open(!0),this._screenOpen.set(a,b),b,this._dispatchEventChange(ja.OPEN_BEGIN,a))}},changeScreenTo:function(a,b){null==b&&(b=!1);for(var c=this._screenOpen.keys();c.hasNext();){var d=c.next();d!=a&&this._screenOpen.get(d).close(b)}this.openScreen(a)},update:function(a){for(var b=this._screenOpen.iterator();b.hasNext();){var c=b.next();c.update(a);c.doDelete&&(this._screenRemoval.push(c.id),
c.dispose())}for(;0<this._screenRemoval.length;)this._screenOpen.remove(this._screenRemoval.pop())},isScreenOpen:function(a){return this._screenOpen.exists(a)},_onEventScreenOutput:function(a,b){switch(a[1]){case 0:this._dispatchEventChange(ja.OPEN_COMPLETE,b);break;case 1:this._dispatchEventChange(ja.CLOSE_COMPLETE,b)}},_dispatchEventChange:function(a,b){this._interfaceDelegate(a,b)},__class__:ke};var na=g["com.workinman.display.ui._SubtitleManager.SUB_STATE"]={__ename__:!0,__constructs__:["OFF",
"CHANGE_ON","CHANGE_OFF","ON"]};na.OFF=["OFF",0];na.OFF.toString=f;na.OFF.__enum__=na;na.CHANGE_ON=["CHANGE_ON",1];na.CHANGE_ON.toString=f;na.CHANGE_ON.__enum__=na;na.CHANGE_OFF=["CHANGE_OFF",2];na.CHANGE_OFF.toString=f;na.CHANGE_OFF.__enum__=na;na.ON=["ON",3];na.ON.toString=f;na.ON.__enum__=na;na.__empty_constructs__=[na.OFF,na.CHANGE_ON,na.CHANGE_OFF,na.ON];var le=function(a){this._elementManager=new lc(a,0,0,!1,t.z__MAINUI);this._elementManager.addLayer(t.z__MAINUI);this._image=this._elementManager.addElement(new H({asset:"",
y:280,originY:1}));this._text=this._elementManager.addElement(new ka({text:"",y:260,originY:1,align:ua.Center,wrapWidth:F.STAGE_WIDTH-100}));this._tween=Pa.request();this._setSubState(na.ON)};g["com.workinman.display.ui.SubtitleManager"]=le;le.__name__=!0;le.prototype={update:function(a){this._elementManager.update(a);this._tween.update(a);switch(this._subState[1]){case 3:0<this._timer&&(this._timer-=a)}if(0<i.get_instance().sound.subtitleQueue.length)a=i.get_instance().sound.subtitleQueue[0],a!=
this._currentText&&i.get_instance().localize.subtitlesEnabled&&(this._currentText=a,this._setSubtitle(this._currentText));else if(0>=this._timer)switch(this._subState[1]){case 3:case 1:this._setSubState(na.CHANGE_OFF)}},_setSubState:function(a){var b=this;this._subState=a;switch(this._subState[1]){case 0:this._currentText="";this._image.visible=!1;this._image.alpha=0;this._text.visible=!1;this._text.alpha=0;break;case 1:this._image.visible=!0;this._text.visible=!0;this._tween.tween(this._image,0.2,
{alpha:1},!0,k.LINEAR).onComplete(function(){b._setSubState(na.ON)});this._tween.tween(this._text,0.2,{alpha:1},!0,k.LINEAR);break;case 2:this._tween.tween(this._image,0.2,{alpha:0},!0,k.LINEAR).onComplete(function(){b._setSubState(na.OFF)}),this._tween.tween(this._text,0.2,{alpha:0},!0,k.LINEAR)}},_setSubtitle:function(a){this._timer=i.get_instance().localize.getLocalizeData(a).subtitleTime;this._text.setText(a);switch(this._subState[1]){case 0:case 2:this._setSubState(na.CHANGE_ON)}},__class__:le};
var Zc=function(a){a.asset=s.texture.keyboard_back;a.originY=1;H.call(this,a);var b=["1,2,3,4,5,6,7,8,9,0".split(","),"Q,W,E,R,T,Y,U,I,O,P".split(","),"A,S,D,F,G,H,J,K,L,backspace".split(","),"Z,X,C,V,B,N,M,_,enter".split(",")],c,d,e=0,f=0;this._tween=a.tween;this._buttons=[];d="";for(var g=0,i=b.length;g<i;)for(var k=g++,e=-350,f=-270+77*k,l=0,m=b[k].length;l<m;){var n=l++;d=0==k||1<b[k][n].length?"button_"+b[k][n]:"button_key";2==k&&0<n&&(e-=2.5);3==k&&0<n&&(e-=2.5);"backspace"==b[k][n]?e+=9.75:
"enter"==b[k][n]&&(e+=48.75);c=d;d+="_pressed";c=this.addElement(new Sd({x:e,y:f,tween:this._tween,clear:a.buttonClear,assetUp:c,assetDown:d}));c.setEventWithData(j.INPUT_ARBITRARY_KEY_BUTTON,{key:b[k][n],state:ga.DOWN});e+=78;this._buttons.push(c)}};g["com.workinman.display.ui.UIKeyboard"]=Zc;Zc.__name__=!0;Zc.__super__=H;Zc.prototype=v(H.prototype,{dispose:function(){H.prototype.dispose.call(this);this._buttons=this._tween=null},__class__:Zc});var W=function(){};g["com.workinman.events.WMEvent"]=
W;W.__name__=!0;W.__interfaces__=[Qa];W.request=function(a,b){return i.get_instance().pool.requestObject("WMEvent",W).init(a,b)};W.__super__=K;W.prototype=v(K.prototype,{init:function(a,b){this._eventId=a;this._data=b;return this},dispose:function(){this._data=null;K.prototype.dispose.call(this)},destroy:function(){this._data=null;K.prototype.destroy.call(this)},get_eventId:function(){return this._eventId},get_data:function(){return this._data},__class__:W,__properties__:v(K.prototype.__properties__,
{get_data:"get_data",get_eventId:"get_eventId"})});var xb=function(){};g["com.workinman.events.WMEventDispatcher"]=xb;xb.__name__=!0;xb.__interfaces__=[Qa];xb.request=function(){return i.get_instance().pool.requestObject("WMEventDispatcher",xb)};xb.__super__=K;xb.prototype=v(K.prototype,{create:function(){this._eventTrackers=new Va},dispose:function(){for(var a=this._eventTrackers.iterator();a.hasNext();)a.next().dispose();sa.emptyMap(this._eventTrackers);K.prototype.dispose.call(this)},destroy:function(){this._eventTrackers=
null;K.prototype.destroy.call(this)},addEventListener:function(a,b){if(!this._eventTrackers.exists(a)){var c=Lb.request();this._eventTrackers.set(a,c)}this._eventTrackers.get(a).addEventListener(b)},removeEventListener:function(a,b){this._eventTrackers.exists(a)&&(this._eventTrackers.get(a).removeEventListener(b),this._eventTrackers.get(a).isEmtpy()&&(this._eventTrackers.get(a).dispose(),this._eventTrackers.remove(a)))},dispatchEvent:function(a){(function(b){var c=a.get_eventId();return b._eventTrackers.exists(c)})(this)&&
function(b){var c=a.get_eventId();return b._eventTrackers.get(c)}(this).dispatchEvent(a);a.dispose()},__class__:xb});var Lb=function(){};g["com.workinman.events._WMEventDispatcher.WMEventTracker"]=Lb;Lb.__name__=!0;Lb.__interfaces__=[Qa];Lb.request=function(){return i.get_instance().pool.requestObject("WMEventTracker",Lb)};Lb.__super__=K;Lb.prototype=v(K.prototype,{create:function(){this._listeners=[]},dispose:function(){for(;0<this._listeners.length;)this._listeners.pop();K.prototype.dispose.call(this)},
destroy:function(){this._listeners=null;K.prototype.destroy.call(this)},addEventListener:function(a){for(var b=0,c=this._listeners;b<c.length;){var d=c[b];++b;if(o.compareMethods(d,a))return}this._listeners.push(a)},removeEventListener:function(a){for(var b=this._listeners.length;0<b--;)o.compareMethods(this._listeners[b],a)&&this._listeners.splice(b,1)},dispatchEvent:function(a){for(var b=0,c=this._listeners;b<c.length;){var d=c[b];++b;d(a)}},isEmtpy:function(){return 1>this._listeners.length},__class__:Lb});
var Td=function(a,b){this._success=a;this._result=E.request();this._line1=m.request();this._line2=m.request();null!=b&&this._result.toPoint(b)};g["com.workinman.math.InterceptResult"]=Td;Td.__name__=!0;Td.prototype={set_success:function(a){return this._success=a},set_result:function(a){null==a?this._result.to(0,0):this._result.toPoint(a);return this._result},__class__:Td,__properties__:{set_result:"set_result",set_success:"set_success"}};var Ze=function(a,b,c){this._worldRoot=a;this.worldCenterX=
b;this.worldCenterY=c;this.focalLength=300;this.set_rotation(0);this.pos=E.request();this._scratchPoint=new Db};g["com.workinman.math.WMCamera"]=Ze;Ze.__name__=!0;Ze.prototype={dispose:function(){this.pos.dispose();this._scratchPoint=this.pos=null},set_rotation:function(a){this.rotation=a;this._worldRoot.rotation=a;return this.rotation},getWorldPositionOfScreenPoint:function(a,b,c,d){this._worldRoot.get_viewMatrix().inverseTransform(a,b,this._scratchPoint);a=1/(this.focalLength/(this.focalLength-
(this.pos.z-c)));d.x=this.pos.x+(this.worldCenterX+(this._scratchPoint.x-this.worldCenterX)*a);d.y=this.pos.y+(this.worldCenterY+(this._scratchPoint.y-this.worldCenterY)*a);return d},__class__:Ze,__properties__:{set_rotation:"set_rotation"}};var m=function(){};g["com.workinman.math.WMLine"]=m;m.__name__=!0;m.__interfaces__=[Qa];m.request=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return i.get_instance().pool.requestObject("WMLine",m).init(a,b,c,d)};m.__super__=K;
m.prototype=v(K.prototype,{init:function(a,b,c,d){this._p0=E.request();this._p1=E.request();this._normal=E.request();this._vector=E.request();this._parametricDenom=E.request();this.toFloats(a,b,c,d);this._calcProperties();return this},dispose:function(){this._p0.dispose();this._p0=null;this._p1.dispose();this._p1=null;this._normal.dispose();this._normal=null;this._vector.dispose();this._vector=null;this._parametricDenom.dispose();this._parametricDenom=null;K.prototype.dispose.call(this)},get_p0:function(){return this._p0},
get_p1:function(){return this._p1},get_slope:function(){return this._slope},get_yIntercept:function(){return this._yIntercept},get_normal:function(){return this._normal},get_vector:function(){return this._vector},get_center:function(){return E.request(this._p0.x+this._vector.x/2,this._p0.y+this._vector.y/2)},get_centerX:function(){return this._p0.x+this._vector.x/2},get_centerY:function(){return this._p0.y+this._vector.y/2},get_parametricDenom:function(){return this._parametricDenom},get_length:function(){return this._length},
set_length:function(a){if(0==this.get_length())return this._length;this._p1.to(this._p0.x+this._vector.x*(a/this.get_length()),this._p0.y+this._vector.y*(a/this.get_length()));this._calcProperties();return this._length},recalculate:function(){this._calcProperties()},getNewPoint:function(a,b){null==b&&(b=E.request());b.to(this.get_p0().x+this._vector.x*a,this.get_p0().y+this._vector.y*a);return b},equals:function(a){return a.get_p0().equals(this.get_p0())&&a.get_p1().equals(this.get_p1())},flip:function(){var a=
this._p0.copy();this._p0.toPoint(this._p1);this._p1.toPoint(a);a.dispose();this._calcProperties()},clean:function(){this._p0.clean();this._p1.clean();this._calcProperties()},copy:function(){return m.request().to(this._p0,this._p1)},to:function(a,b){this._p0.toPoint(a);this._p1.toPoint(b);this._calcProperties();return this},toLine:function(a){this._p0.toPoint(a.get_p0());this._p1.toPoint(a.get_p1());this._calcProperties();return this},toFloats:function(a,b,c,d){this._p0.to(a,b);this._p1.to(c,d);this._calcProperties();
return this},originTo:function(a,b,c){null==c&&(c=0);this._p0.to(a,b,c);this._calcProperties();return this},originToPoint:function(a){this._p0.toPoint(a);this._calcProperties()},endTo:function(a,b,c){null==c&&(c=0);this._p1.to(a,b,c);this._calcProperties()},endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},rotate:function(a){this._vector.rotateTo(a);this._p1.to(this._p0.x+this._vector.x,this._p0.y+this._vector.y);this._calcProperties();this._calcProperties()},rotateTo:function(a){this._vector.rotateTo(a);
this._p1.to(this._p0.x+this._vector.x,this._p0.y+this._vector.y);this._calcProperties()},shiftOrigin:function(a){var b=this._vector.reverseCopy();b.set_length(a);this._p0.addPoint(b);b.dispose();this._calcProperties()},shiftEnd:function(a){this.set_length(this.get_length()+a)},_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.x-this._p1.x)*(this._p0.x-this._p1.x)+(this._p0.y-this._p1.y)*(this._p0.y-this._p1.y)))/1E3;this._vector.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-
this.get_p0().y);this._slope=this._vector.y/this._vector.x;0==this.get_vector().x&&(this._slope=1E5);this._yIntercept=this.get_p0().y-this._slope*this.get_p0().x;this._parametricDenom.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._vector.pseudoCross(this._normal);this._normal.normalize()},testLineDot:function(a){return this._vector.dot(a.get_normal())},projectOntoLine:function(a){var b=a.get_vector().dot(this.get_vector().normalizeCopy());return m.request().to(a.get_p0(),
a.get_p1().addPointCopy(this._normal.copyAndResize(Math.sqrt(a.get_length()*a.get_length()-b*b))))},testLineIntercept:function(a,b){null==b&&(b=new Td(!1));this._inverseDeterminate=1/(-1*this._slope- -1*a.get_slope());b.set_success(!0);var c=E.request((-1*a.get_yIntercept()- -1*this._yIntercept)*this._inverseDeterminate,(a.get_slope()*this._yIntercept-this.get_slope()*a.get_yIntercept())*this._inverseDeterminate,0);b.set_result(c);c.dispose();return b},testLineSegmentIntercept:function(a,b,c){var d=
-a.get_vector().x*this._vector.y+this._vector.x*a.get_vector().y,e=this.get_p0().x-a.get_p0().x,f=this.get_p0().y-a.get_p0().y,b=(-this._vector.y*e+this._vector.x*f)/d,a=(a.get_vector().x*f-a.get_vector().y*e)/d;null==c&&(c=new Td(!1));c.set_success(!1);0<=b&&1>=b&&0<=a&&1>=a&&(c.set_success(!0),a=E.request(this.get_p0().x+a*this._vector.x,this.get_p0().y+a*this._vector.y),c.set_result(a),a.dispose());return c},testPointSegmentIntercept:function(a,b){null==b&&(b=!1);this._xSegmentResult=0==this._parametricDenom.x?
0:(a.x-this.get_p0().x)/this._parametricDenom.x;this._ySegmentResult=0==this._parametricDenom.y?0:(a.y-this.get_p0().y)/this._parametricDenom.y;b&&null;return 0<=this._xSegmentResult&&1>=this._xSegmentResult&&0<=this._ySegmentResult&&1>=this._ySegmentResult?!0:!1},toString:function(){return"[WMLine] ("+this._p0.x+", "+this._p0.y+", "+this._p0.z+") ~> ("+this._p1.x+", "+this._p1.y+", "+this._p1.z+") / Len: "+this._length},__class__:m,__properties__:v(K.prototype.__properties__,{set_length:"set_length",
get_length:"get_length",get_parametricDenom:"get_parametricDenom",get_centerY:"get_centerY",get_centerX:"get_centerX",get_center:"get_center",get_vector:"get_vector",get_normal:"get_normal",get_yIntercept:"get_yIntercept",get_slope:"get_slope",get_p1:"get_p1",get_p0:"get_p0"})});var Uf=function(){};g["com.workinman.math.WMMath"]=Uf;Uf.__name__=!0;Uf.clamp=function(a,b,c,d){null==d&&(d=!1);d?a>c?a=b:a<b&&(a=c):a>c?a=c:a<b&&(a=b);return a};var E=function(){};g["com.workinman.math.WMPoint"]=E;E.__name__=
!0;E.request=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return i.get_instance().pool.requestObject("WMPoint",E).init(a,b,c)};E.__super__=K;E.prototype=v(K.prototype,{init:function(a,b,c){return this.to(a,b,c)},get_angle:function(){return 180*Math.atan2(this.y,this.x)/Math.PI},clean:function(){this.x=Math.round(1E3*this.x)/1E3;this.y=Math.round(1E3*this.y)/1E3;this.z=Math.round(1E3*this.z)/1E3;return this},to:function(a,b,c){null==c&&(c=0);this.x=a;this.y=b;this.z=c;this.calculateLength();
return this},toPoint:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.calculateLength();return this},add:function(a,b,c){null==c&&(c=0);this.x+=a;this.y+=b;this.z+=c;this.calculateLength();return this},addPoint:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.calculateLength();return this},addCopy:function(a,b,c){null==c&&(c=0);return E.request(this.x+a,this.y+b,this.z+c)},addPointCopy:function(a){return E.request(this.x+a.x,this.y+a.y,this.z+a.z)},subtract:function(a,b,c){null==c&&(c=0);this.x-=
a;this.y-=b;this.z-=c;this.calculateLength();return this},subtractPoint:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.calculateLength();return this},subtractCopy:function(a,b,c){null==c&&(c=0);return E.request(this.x-a,this.y-b,this.z-c)},subtractPointCopy:function(a){return E.request(this.x-a.x,this.y-a.y,this.z-a.z)},multiply:function(a){this.x*=a;this.y*=a;this.z*=a;this.clean();this.calculateLength();return this},multiplyCopy:function(a){return E.request(this.x*a,this.y*a,this.z*a)},divide:function(a){this.x/=
a;this.y/=a;this.z/=a;this.clean();this.calculateLength();return this},divideCopy:function(a){return E.request(this.x/a,this.y/a,this.z/a)},reverse:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},copy:function(){return E.request(this.x,this.y,this.z)},copyAndResize:function(a){return 0==a?E.request(0,0):this.multiplyCopy(a/this._length)},equals:function(a){return this.x==a.x&&this.y==a.y&&this.z==a.z},get_length:function(){return this._length},set_length:function(a){if(0==this._length||
0>=a)return this.to(0,0),this._length;this.multiply(a/this._length);return this._length},reverseCopy:function(){return E.request(-1*this.x,-1*this.y,-1*this.z)},normalize:function(){if(0==this._length)return this;this.x/=this._length;this.y/=this._length;this.z/=this._length;this.calculateLength();return this},normalizeTo:function(a){this.set_length(a);return this},normalizeCopy:function(){return 0==this._length?E.request(0,0,0):E.request(this.x/this._length,this.y/this._length,this.z/this._length)},
normalizeCopyTo:function(a){if(0==this._length)return E.request(0,0,0);this._workFloat=a/this._length;return E.request(this.x*this._workFloat,this.y*this._workFloat,this.z*this._workFloat)},pseudoCross:function(a){a.to(this.y,-this.x,this.z);return this},calculateLength:function(){this._length=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return this},rotate:function(a){a*=Math.PI/180;this._workFloat=this.x*Math.cos(a)-this.y*Math.sin(a);this.y=this.y*Math.cos(a)+this.x*Math.sin(a);this.x=
this._workFloat;return this},rotateTo:function(a){this.rotate(a-this.get_angle());return this},getAngleBetween:function(a){return 0==a.get_length()||0==this.get_length()?0:180/Math.PI*Math.acos((a.x*this.x+a.y*this.y)/(a.get_length()*this.get_length()))},rotateCopy:function(a){var b=Math.cos(a*Math.PI/180),a=Math.sin(a*Math.PI/180);return E.request(this.x*b-this.y*a,this.x*a-this.y*b)},get_normalizedMagnitude:function(){var a=this.normalizeCopy(),b=Math.sqrt(a.x*a.x+a.y*a.y);a.dispose();return b},
toString:function(){return"{ WMPoint : "+this.x+" , "+this.y+" , "+this.z+" , len: "+this._length+"  }"},dot:function(a){return this.x*a.x+this.y*a.y},__class__:E,__properties__:v(K.prototype.__properties__,{get_normalizedMagnitude:"get_normalizedMagnitude",set_length:"set_length",get_length:"get_length",get_angle:"get_angle"})});var oa=g["com.workinman.math.Side"]={__ename__:!0,__constructs__:["TOP","RIGHT","BOTTOM","LEFT"]};oa.TOP=["TOP",0];oa.TOP.toString=f;oa.TOP.__enum__=oa;oa.RIGHT=["RIGHT",
1];oa.RIGHT.toString=f;oa.RIGHT.__enum__=oa;oa.BOTTOM=["BOTTOM",2];oa.BOTTOM.toString=f;oa.BOTTOM.__enum__=oa;oa.LEFT=["LEFT",3];oa.LEFT.toString=f;oa.LEFT.__enum__=oa;oa.__empty_constructs__=[oa.TOP,oa.RIGHT,oa.BOTTOM,oa.LEFT];var ab=function(){};g["com.workinman.math.WMRectangle"]=ab;ab.__name__=!0;ab.__interfaces__=[Qa];ab.request=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return i.get_instance().pool.requestObject("WMRectangle",ab).init(a,b,c,d)};ab.fromRectangle=
function(a){return ab.request(a.x,a.y,a.width,a.height)};ab.__super__=K;ab.prototype=v(K.prototype,{create:function(){this._workLine=null},init:function(a,b,c,d){this._x=a;this._y=b;this._width=c;this._height=d;return this},dispose:function(){null!=this._workLine&&this._workLine.dispose();this._workLine=null;K.prototype.dispose.call(this)},_getWorkLine:function(){null==this._workLine&&(this._workLine=m.request());return this._workLine},get_x:function(){return this._x},set_x:function(a){return this._x=
a},get_y:function(){return this._y},set_y:function(a){return this._y=a},get_top:function(){return this._y},set_top:function(a){return this._y=a},get_left:function(){return this._x},set_left:function(a){return this._x=a},get_width:function(){return this._width},set_width:function(a){return this._width=a},get_height:function(){return this._height},set_height:function(a){return this._height=a},get_bottom:function(){return this._y+this._height},set_bottom:function(a){this._y=a-this._height;return this.get_bottom()},
get_right:function(){return this._x+this._width},set_right:function(a){this._x=a-this._width;return this.get_right()},get_centerX:function(){return this._x+this._width/2},set_centerX:function(a){this._x=a-this._width/2;return this.get_centerX()},get_centerY:function(){return this._y+this._height/2},set_centerY:function(a){this._y=a-this._height/2;return this.get_centerY()},copy:function(){return ab.request(this._x,this._y,this._width,this._height)},contains:function(a,b){return a<this.get_left()||
a>this.get_right()||b>this.get_bottom()||b<this.get_top()?!1:!0},toXY:function(a,b){this.set_x(a);this.set_y(b)},toWH:function(a,b){this.set_width(a);this.set_height(b)},toXYWH:function(a,b,c,d){this.toXY(a,b);this.toWH(c,d)},containsPoint:function(a){return this.contains(a.x,a.y)},intersects:function(a){return this.get_left()<a.get_right()&&this.get_right()>a.get_left()&&this.get_top()<a.get_bottom()&&this.get_bottom()>a.get_top()},intersection:function(a){var b=ab.request();if(this.intersects(a)){b.set_x(this.get_left()>
a.get_left()?this.get_left():a.get_left());b.set_y(this.get_top()>a.get_top()?this.get_top():a.get_top());var c;c=this.get_right()<a.get_right()?this.get_right():a.get_right();a=this.get_bottom()<a.get_bottom()?this.get_bottom():a.get_bottom();b.set_width(c-b.get_x());b.set_height(a-b.get_y())}return b},_setSideLine:function(a){this._getWorkLine();switch(a[1]){case 0:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_right(),this.get_top());break;case 1:this._workLine.toFloats(this.get_right(),
this.get_top(),this.get_right(),this.get_bottom());break;case 2:this._workLine.toFloats(this.get_left(),this.get_bottom(),this.get_right(),this.get_bottom());break;case 3:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_left(),this.get_bottom())}},sideLineIntercept:function(a,b,c){null==this._workLine?(this._setSideLine(b),null):this._setSideLine(b);return this._workLine.testLineSegmentIntercept(a,!1,c)},toString:function(){return"{ WMRectangle x: "+this._x+" y: "+this._y+" width: "+
this._width+" height: "+this._height+" }"},__class__:ab,__properties__:v(K.prototype.__properties__,{set_centerY:"set_centerY",get_centerY:"get_centerY",set_centerX:"set_centerX",get_centerX:"get_centerX",set_right:"set_right",get_right:"get_right",set_bottom:"set_bottom",get_bottom:"get_bottom",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_left:"set_left",get_left:"get_left",set_top:"set_top",get_top:"get_top",set_y:"set_y",get_y:"get_y",set_x:"set_x",
get_x:"get_x"})});var Be=function(){this._sessions=new N;this._randomSeeds=new N};g["com.workinman.math.random.WMRandom"]=Be;Be.__name__=!0;Be.prototype={random:function(a){null==a&&(a="");return""==a||null==this._randomSeeds.get(a)?Math.random():this._randomSeeds.get(a).random()},getRandomFloat:function(a,b,c){null==c&&(c="");return a+this.random(c)*(b-a)},getRandomInt:function(a,b,c){null==c&&(c="");return Math.floor(this.getRandomFloat(a,b+1,c))},__class__:Be};var hg=function(){};g["com.workinman.math.random.WeightTracker"]=
hg;hg.__name__=!0;var Vf=function(){};g["com.workinman.math.random.WMSeededRandom"]=Vf;Vf.__name__=!0;Vf.prototype={get_seed:function(){return this._seed},set_seed:function(a){this._seed=a;return this.get_seed()},_randomInt:function(){return this.set_seed(16807*this.get_seed()%2147483647)&1073741823},random:function(){return this._randomInt()/1073741823},__class__:Vf,__properties__:{set_seed:"set_seed",get_seed:"get_seed"}};var k=g["com.workinman.math.tween.EASE"]={__ename__:!0,__constructs__:"IN,QUAD_IN,OUT,QUAD_OUT,EASE_IN_OUT,QUAD,LINEAR,EXPO,EXPO_IN,EXPO_OUT,ELASTIC,ELASTIC_IN,ELASTIC_OUT,BUMP,BUMP_IN,BUMP_OUT,BOUNCE,BOUNCE_IN,BOUNCE_OUT,CUBIC,CUBIC_IN,CUBIC_OUT,SPACE,SPACE_IN,SPACE_OUT,BLAST,BLAST_IN,BLAST_OUT,WAVE,WAVE_IN,WAVE_OUT,CIRCLE,CIRCLE_IN,CIRCLE_OUT".split(",")};
k.IN=["IN",0];k.IN.toString=f;k.IN.__enum__=k;k.QUAD_IN=["QUAD_IN",1];k.QUAD_IN.toString=f;k.QUAD_IN.__enum__=k;k.OUT=["OUT",2];k.OUT.toString=f;k.OUT.__enum__=k;k.QUAD_OUT=["QUAD_OUT",3];k.QUAD_OUT.toString=f;k.QUAD_OUT.__enum__=k;k.EASE_IN_OUT=["EASE_IN_OUT",4];k.EASE_IN_OUT.toString=f;k.EASE_IN_OUT.__enum__=k;k.QUAD=["QUAD",5];k.QUAD.toString=f;k.QUAD.__enum__=k;k.LINEAR=["LINEAR",6];k.LINEAR.toString=f;k.LINEAR.__enum__=k;k.EXPO=["EXPO",7];k.EXPO.toString=f;k.EXPO.__enum__=k;k.EXPO_IN=["EXPO_IN",
8];k.EXPO_IN.toString=f;k.EXPO_IN.__enum__=k;k.EXPO_OUT=["EXPO_OUT",9];k.EXPO_OUT.toString=f;k.EXPO_OUT.__enum__=k;k.ELASTIC=["ELASTIC",10];k.ELASTIC.toString=f;k.ELASTIC.__enum__=k;k.ELASTIC_IN=["ELASTIC_IN",11];k.ELASTIC_IN.toString=f;k.ELASTIC_IN.__enum__=k;k.ELASTIC_OUT=["ELASTIC_OUT",12];k.ELASTIC_OUT.toString=f;k.ELASTIC_OUT.__enum__=k;k.BUMP=["BUMP",13];k.BUMP.toString=f;k.BUMP.__enum__=k;k.BUMP_IN=["BUMP_IN",14];k.BUMP_IN.toString=f;k.BUMP_IN.__enum__=k;k.BUMP_OUT=["BUMP_OUT",15];k.BUMP_OUT.toString=
f;k.BUMP_OUT.__enum__=k;k.BOUNCE=["BOUNCE",16];k.BOUNCE.toString=f;k.BOUNCE.__enum__=k;k.BOUNCE_IN=["BOUNCE_IN",17];k.BOUNCE_IN.toString=f;k.BOUNCE_IN.__enum__=k;k.BOUNCE_OUT=["BOUNCE_OUT",18];k.BOUNCE_OUT.toString=f;k.BOUNCE_OUT.__enum__=k;k.CUBIC=["CUBIC",19];k.CUBIC.toString=f;k.CUBIC.__enum__=k;k.CUBIC_IN=["CUBIC_IN",20];k.CUBIC_IN.toString=f;k.CUBIC_IN.__enum__=k;k.CUBIC_OUT=["CUBIC_OUT",21];k.CUBIC_OUT.toString=f;k.CUBIC_OUT.__enum__=k;k.SPACE=["SPACE",22];k.SPACE.toString=f;k.SPACE.__enum__=
k;k.SPACE_IN=["SPACE_IN",23];k.SPACE_IN.toString=f;k.SPACE_IN.__enum__=k;k.SPACE_OUT=["SPACE_OUT",24];k.SPACE_OUT.toString=f;k.SPACE_OUT.__enum__=k;k.BLAST=["BLAST",25];k.BLAST.toString=f;k.BLAST.__enum__=k;k.BLAST_IN=["BLAST_IN",26];k.BLAST_IN.toString=f;k.BLAST_IN.__enum__=k;k.BLAST_OUT=["BLAST_OUT",27];k.BLAST_OUT.toString=f;k.BLAST_OUT.__enum__=k;k.WAVE=["WAVE",28];k.WAVE.toString=f;k.WAVE.__enum__=k;k.WAVE_IN=["WAVE_IN",29];k.WAVE_IN.toString=f;k.WAVE_IN.__enum__=k;k.WAVE_OUT=["WAVE_OUT",30];
k.WAVE_OUT.toString=f;k.WAVE_OUT.__enum__=k;k.CIRCLE=["CIRCLE",31];k.CIRCLE.toString=f;k.CIRCLE.__enum__=k;k.CIRCLE_IN=["CIRCLE_IN",32];k.CIRCLE_IN.toString=f;k.CIRCLE_IN.__enum__=k;k.CIRCLE_OUT=["CIRCLE_OUT",33];k.CIRCLE_OUT.toString=f;k.CIRCLE_OUT.__enum__=k;k.__empty_constructs__=[k.IN,k.QUAD_IN,k.OUT,k.QUAD_OUT,k.EASE_IN_OUT,k.QUAD,k.LINEAR,k.EXPO,k.EXPO_IN,k.EXPO_OUT,k.ELASTIC,k.ELASTIC_IN,k.ELASTIC_OUT,k.BUMP,k.BUMP_IN,k.BUMP_OUT,k.BOUNCE,k.BOUNCE_IN,k.BOUNCE_OUT,k.CUBIC,k.CUBIC_IN,k.CUBIC_OUT,
k.SPACE,k.SPACE_IN,k.SPACE_OUT,k.BLAST,k.BLAST_IN,k.BLAST_OUT,k.WAVE,k.WAVE_IN,k.WAVE_OUT,k.CIRCLE,k.CIRCLE_IN,k.CIRCLE_OUT];var u=function(){};g["com.workinman.math.tween.PennerManager"]=u;u.__name__=!0;u.getEaseFunction=function(a){switch(a[1]){case 0:case 1:return u._tweenEaseIn;case 2:case 3:return u._tweenEaseOut;case 4:case 5:return u._tweenEaseBoth;case 7:return u._tweenExpoBoth;case 8:return u._tweenExpoIn;case 9:return u._tweenExpoOut;case 10:return u._tweenElasticBoth;case 11:return u._tweenElasticIn;
case 12:return u._tweenElasticOut;case 13:return u._tweenBumpBoth;case 14:return u._tweenBumpIn;case 15:return u._tweenBumpBoth;case 16:return u._tweenBounceBoth;case 17:return u._tweenBounceIn;case 18:return u._tweenBounceOut;case 19:return u._tweenCubicBoth;case 20:return u._tweenCubicIn;case 21:return u._tweenCubicOut;case 22:return u._tweenSpaceBoth;case 23:return u._tweenSpaceIn;case 24:return u._tweenSpaceOut;case 25:return u._tweenBlastBoth;case 26:return u._tweenBlastIn;case 27:return u._tweenBlastOut;
case 28:return u._tweenWaveBoth;case 29:return u._tweenWaveIn;case 30:return u._tweenWaveOut;case 31:return u._tweenCircleBoth;case 32:return u._tweenCircleIn;case 33:return u._tweenCircleOut;case 6:return u._tweenLinear}};u._tweenLinear=function(a,b,c,d){return a+c/d*b};u._tweenEaseBoth=function(a,b,c,d){return u._easeInOutQuad(c,a,b,d)};u._tweenEaseIn=function(a,b,c,d){return u._easeInQuad(c,a,b,d)};u._tweenEaseOut=function(a,b,c,d){return u._easeOutQuad(c,a,b,d)};u._tweenExpoBoth=function(a,b,
c,d){return u._easeInOutExpo(c,a,b,d)};u._tweenExpoIn=function(a,b,c,d){return u._easeInExpo(c,a,b,d)};u._tweenExpoOut=function(a,b,c,d){return u._easeOutExpo(c,a,b,d)};u._tweenElasticBoth=function(a,b,c,d){return u._easeInOutElastic(c,a,b,d)};u._tweenElasticIn=function(a,b,c,d){return u._easeInElastic(c,a,b,d)};u._tweenElasticOut=function(a,b,c,d){return u._easeOutElastic(c,a,b,d)};u._tweenBumpBoth=function(a,b,c,d){return u._easeInOutBack(c,a,b,d)};u._tweenBumpIn=function(a,b,c,d){return u._easeInBack(c,
a,b,d)};u._tweenBounceBoth=function(a,b,c,d){return u._easeInOutBounce(c,a,b,d)};u._tweenBounceIn=function(a,b,c,d){return u._easeInBounce(c,a,b,d)};u._tweenBounceOut=function(a,b,c,d){return u._easeOutBounce(c,a,b,d)};u._tweenCubicBoth=function(a,b,c,d){return u._easeInOutCubic(c,a,b,d)};u._tweenCubicIn=function(a,b,c,d){return u._easeInCubic(c,a,b,d)};u._tweenCubicOut=function(a,b,c,d){return u._easeOutCubic(c,a,b,d)};u._tweenSpaceBoth=function(a,b,c,d){return u._easeInOutQuart(c,a,b,d)};u._tweenSpaceIn=
function(a,b,c,d){return u._easeInQuart(c,a,b,d)};u._tweenSpaceOut=function(a,b,c,d){return u._easeOutQuart(c,a,b,d)};u._tweenBlastBoth=function(a,b,c,d){return u._easeInOutQuint(c,a,b,d)};u._tweenBlastIn=function(a,b,c,d){return u._easeInQuint(c,a,b,d)};u._tweenBlastOut=function(a,b,c,d){return u._easeOutQuint(c,a,b,d)};u._tweenWaveBoth=function(a,b,c,d){return u._easeInOutSine(c,a,b,d)};u._tweenWaveIn=function(a,b,c,d){return u._easeInSine(c,a,b,d)};u._tweenWaveOut=function(a,b,c,d){return u._easeOutSine(c,
a,b,d)};u._tweenCircleBoth=function(a,b,c,d){return u._easeInOutCirc(c,a,b,d)};u._tweenCircleIn=function(a,b,c,d){return u._easeInCirc(c,a,b,d)};u._tweenCircleOut=function(a,b,c,d){return u._easeOutCirc(c,a,b,d)};u._easeInQuad=function(a,b,c,d){return c*(a/=d)*a+b};u._easeOutQuad=function(a,b,c,d){return-c*(a/=d)*(a-2)+b};u._easeInOutQuad=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b};u._easeInExpo=function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b};u._easeOutExpo=function(a,
b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b};u._easeInOutExpo=function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b};u._easeInElastic=function(a,b,c,d){return u._easeInElasticL(a,b,c,d)};u._easeInElasticL=function(a,b,c,d,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);if(0==a)return b;if(1==(a/=d))return b+c;-0.123456==f&&(f=0.3*d);-0.123456==e||e<Math.abs(c)?(e=c,c=f/4):c=f/(2*Math.PI)*Math.asin(c/e);return-(e*Math.pow(2,10*(a-=
1))*Math.sin((a*d-c)*2*Math.PI/f))+b};u._easeOutElastic=function(a,b,c,d){return u._easeOutElasticL(a,b,c,d)};u._easeOutElasticL=function(a,b,c,d,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);var g;if(0==a)return b;if(1==(a/=d))return b+c;-0.123456==f&&(f=0.3*d);-0.123456==e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e);return e*Math.pow(2,-10*a)*Math.sin((a*d-g)*2*Math.PI/f)+c+b};u._easeInOutElastic=function(a,b,c,d){return u._easeInOutElasticL(a,b,c,d)};u._easeInOutElasticL=function(a,
b,c,d,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);var g;if(0==a)return b;if(2==(a/=d/2))return b+c;-0.123456==f&&(f=0.44999999999999996*d);-0.123456==e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e);return 1>a?-0.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+b:0.5*e*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+c+b};u._easeInBack=function(a,b,c,d){return u._easeInBackL(a,b,c,d)};u._easeInBackL=function(a,b,c,d,e){null==e&&(e=-0.123456);-0.123456==e&&(e=1.70158);
return c*(a/=d)*a*((e+1)*a-e)+b};u._easeInOutBack=function(a,b,c,d){return u._easeInOutBackL(a,b,c,d)};u._easeInOutBackL=function(a,b,c,d,e){null==e&&(e=-0.123456);-0.123456==e&&(e=1.70158);return 1>(a/=d/2)?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b};u._easeOutBounce=function(a,b,c,d){return 0.36363636363636365>(a/=d)?c*7.5625*a*a+b:0.7272727272727273>a?c*(7.5625*(a-=0.5454545454545454)*a+0.75)+b:0.9090909090909091>a?c*(7.5625*(a-=0.8181818181818182)*a+0.9375)+b:c*(7.5625*
(a-=0.9545454545454546)*a+0.984375)+b};u._easeInBounce=function(a,b,c,d){return c-u._easeOutBounce(d-a,0,c,d)+b};u._easeInOutBounce=function(a,b,c,d){return a<d/2?0.5*u._easeInBounce(2*a,0,c,d)+b:0.5*u._easeOutBounce(2*a-d,0,c,d)+0.5*c+b};u._easeInCubic=function(a,b,c,d){return c*(a/=d)*a*a+b};u._easeOutCubic=function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b};u._easeInOutCubic=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b};u._easeInQuart=function(a,b,c,d){return c*(a/=d)*a*a*a+
b};u._easeOutQuart=function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b};u._easeInOutQuart=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b};u._easeInQuint=function(a,b,c,d){return c*(a/=d)*a*a*a*a+b};u._easeOutQuint=function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b};u._easeInOutQuint=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b};u._easeInSine=function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b};u._easeOutSine=function(a,b,c,d){return c*Math.sin(a/
d*(Math.PI/2))+b};u._easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b};u._easeInCirc=function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b};u._easeOutCirc=function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b};u._easeInOutCirc=function(a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b};var O=g["com.workinman.math.tween.TWEEN_DIR"]={__ename__:!0,__constructs__:"TOP,TOP_RIGHT,RIGHT,BOTTOM_RIGHT,BOTTOM,BOTTOM_LEFT,LEFT,TOP_LEFT".split(",")};
O.TOP=["TOP",0];O.TOP.toString=f;O.TOP.__enum__=O;O.TOP_RIGHT=["TOP_RIGHT",1];O.TOP_RIGHT.toString=f;O.TOP_RIGHT.__enum__=O;O.RIGHT=["RIGHT",2];O.RIGHT.toString=f;O.RIGHT.__enum__=O;O.BOTTOM_RIGHT=["BOTTOM_RIGHT",3];O.BOTTOM_RIGHT.toString=f;O.BOTTOM_RIGHT.__enum__=O;O.BOTTOM=["BOTTOM",4];O.BOTTOM.toString=f;O.BOTTOM.__enum__=O;O.BOTTOM_LEFT=["BOTTOM_LEFT",5];O.BOTTOM_LEFT.toString=f;O.BOTTOM_LEFT.__enum__=O;O.LEFT=["LEFT",6];O.LEFT.toString=f;O.LEFT.__enum__=O;O.TOP_LEFT=["TOP_LEFT",7];O.TOP_LEFT.toString=
f;O.TOP_LEFT.__enum__=O;O.__empty_constructs__=[O.TOP,O.TOP_RIGHT,O.RIGHT,O.BOTTOM_RIGHT,O.BOTTOM,O.BOTTOM_LEFT,O.LEFT,O.TOP_LEFT];var Mb=function(){};g["com.workinman.math.tween.WMTweenDef"]=Mb;Mb.__name__=!0;Mb.__interfaces__=[Qa];Mb.request=function(a,b,c,d,e){return i.get_instance().pool.requestObject("WMTweenDef",Mb).init(a,b,c,d,e)};Mb.__super__=K;Mb.prototype=v(K.prototype,{create:function(){this._fields=[]},init:function(a,b,c,d,e){this._target=a;this._duration=b;this._delay=e;a=0;for(b=o.fields(c);a<
b.length;)e=b[a],++a,this._fields.push(Nb.request(e,o.field(c,e)));this._easeFunction=u.getEaseFunction(null==d?k.LINEAR:d);this._isComplete=!1;this._completionHandler=null;this._progress=0;this._started=!1;return this},dispose:function(){for(;0<this._fields.length;)this._fields.pop().dispose();this._completionHandler=this._easeFunction=this._target=null;K.prototype.dispose.call(this)},destroy:function(){this._fields=null;K.prototype.destroy.call(this)},_start:function(){this._isComplete=!1;this._started=
!0;for(var a=0,b=this._fields;a<b.length;){var c=b[a];++a;o.hasField(this._target,c.get_name())?c.set_origin(o.field(this._target,c.get_name())):null!=o.getProperty(this._target,c.get_name())&&c.set_origin(o.getProperty(this._target,c.get_name()))}},update:function(a){if(0<this._delay&&(this._delay-=a,0<this._delay))return;if(null==this._target)this._isComplete=!0;else if(!1==this._started&&this._start(),this._progress+=a,this._progress>this._duration&&(this._progress=this._duration),this._ratio=
Math.floor(1E3*(this._progress/this._duration))/1E3,this._progress>=this._duration){for(var a=0,b=this._fields;a<b.length;){var c=b[a];++a;o.setProperty(this._target,c.get_name(),c.get_dest())}null!=this._completionHandler&&this._completionHandler();this._isComplete=!0}else{a=0;for(b=this._fields;a<b.length;)c=b[a],++a,this._diff=c.get_dest()-c.get_origin(),o.setProperty(this._target,c.get_name(),this._easeFunction(c.get_origin(),this._diff,this._progress,this._duration))}},get_isComplete:function(){return this._isComplete},
set_isComplete:function(a){this._isComplete=a;return this.get_isComplete()},get_ratio:function(){return this._ratio},delay:function(a){this._delay=a;return this},ease:function(a){this._easeFunction=u.getEaseFunction(a);return this},onComplete:function(a){this._completionHandler=a;return this},__class__:Mb,__properties__:v(K.prototype.__properties__,{get_ratio:"get_ratio",set_isComplete:"set_isComplete",get_isComplete:"get_isComplete"})});var Nb=function(){};g["com.workinman.math.tween.FieldStorage"]=
Nb;Nb.__name__=!0;Nb.__interfaces__=[Qa];Nb.request=function(a,b){return i.get_instance().pool.requestObject("FieldStorage",Nb).init(a,b)};Nb.__super__=K;Nb.prototype=v(K.prototype,{init:function(a,b){this._name=a;this._origin=0;this._dest=b;return this},dispose:function(){this._name=null;K.prototype.dispose.call(this)},get_name:function(){return this._name},get_origin:function(){return this._origin},set_origin:function(a){return this._origin=a},get_dest:function(){return this._dest},__class__:Nb,
__properties__:v(K.prototype.__properties__,{get_dest:"get_dest",set_origin:"set_origin",get_origin:"get_origin",get_name:"get_name"})});var G=function(){};g["com.workinman.math.tween.WMTweenUtils"]=G;G.__name__=!0;G.__properties__={get__workPoint:"get__workPoint"};G.easeBounceIn=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!0);c&&(a.visible=!0,a.set_scale(0.1),a.alpha=0);b.tween(a,0.15,{scale:1.1,alpha:1},!0,k.OUT,d);return b.tween(a,0.15,{scale:1},!1,k.IN)};G.easeBounceOut=function(a,b,c,d){null==
d&&(d=0);null==c&&(c=!1);c&&(a.visible=!0,a.set_scale(1),a.alpha=1);b.tween(a,0.15,{scale:1.1},!0,k.OUT,d);return b.tween(a,0.15,{scale:0.1,alpha:0},!1,k.IN)};G.easeSlideInFromDir=function(a,b,c,d){null==d&&(d=0);G.get__workPoint().toPoint(a.pos);G._modifyWorkPointByDir(c);return G.easeSlideIn(a,b,G.get__workPoint().x,G.get__workPoint().y,d)};G.easeSlideIn=function(a,b,c,d,e){null==e&&(e=0);G.get__workPoint().toPoint(a.pos);a.pos.x=c;a.pos.y=d;a.visible=!0;a.alpha=1;return b.tween(a.pos,0.5,{x:G.get__workPoint().x,
y:G.get__workPoint().y},!0,k.OUT,e)};G.easeSlideOutToDir=function(a,b,c,d){null==d&&(d=0);G.get__workPoint().toPoint(a.pos);G._modifyWorkPointByDir(c);return G.easeSlideOut(a,b,G.get__workPoint().x,G.get__workPoint().y,d)};G.easeSlideOut=function(a,b,c,d,e){null==e&&(e=0);a.visible=!0;a.alpha=1;return b.tween(a.pos,0.5,{x:c,y:d},!0,k.IN,e)};G.get__workPoint=function(){null==G.__workPoint&&(G.__workPoint=E.request());return G.__workPoint};G._modifyWorkPointByDir=function(a){switch(a[1]){case 3:case 2:case 1:G.get__workPoint().x+=
F.STAGE_WIDTH;break;case 5:case 6:case 7:G.get__workPoint().x-=F.STAGE_WIDTH}switch(a[1]){case 7:case 0:case 1:G.get__workPoint().y-=560;break;case 5:case 4:case 3:G.get__workPoint().y+=560}};var Pa=function(){};g["com.workinman.math.tween.WMTweener"]=Pa;Pa.__name__=!0;Pa.__interfaces__=[Qa];Pa.__properties__={get__nullTarget:"get__nullTarget"};Pa.request=function(){return i.get_instance().pool.requestObject("WMTweener",Pa)};Pa.get__nullTarget=function(){null==Pa.__nullTarget&&(Pa.__nullTarget={});
return Pa.__nullTarget};Pa.__super__=K;Pa.prototype=v(K.prototype,{create:function(){this._targets=[]},dispose:function(){for(;0<this._targets.length;)this._targets.pop().dispose();K.prototype.dispose.call(this)},destroy:function(){this._targets=null;K.prototype.destroy.call(this)},update:function(a){for(var b=this._targets.length;0<b--;)this._targets[b].update(a),this._targets[b].get_isComplete()&&(this._targets[b].dispose(),this._targets.splice(b,1))},hasTween:function(a){for(var b=0,c=this._targets;b<
c.length;){var d=c[b];++b;if(d.get_target()==a)return!0}return!1},tween:function(a,b,c,d,e,f,g){null==g&&(g="def");null==f&&(f=0);null==d&&(d=!1);b=Mb.request(a,b,c,e,f);c=0;for(e=this._targets;c<e.length;)if(f=e[c],++c,f.get_target()==a)return d&&f.clearTweens(g),f.addTween(b,g),b;a=la.request(a);this._targets.push(a);a.addTween(b,g);return b},stop:function(a){for(var b=this._targets.length;0<b--;)if(this._targets[b].get_target()==a){this._targets[b].dispose();this._targets.splice(b,1);break}},stopThread:function(a,
b){for(var c=this._targets.length;0<c--;)if(this._targets[c].get_target()==a){this._targets[c].clearTweens(b);break}},stopAllTweens:function(){for(;0<this._targets.length;)this._targets.pop().dispose()},__class__:Pa});var la=function(){};g["com.workinman.math.tween.WMTweenTracker"]=la;la.__name__=!0;la.__interfaces__=[Qa];la.request=function(a){return i.get_instance().pool.requestObject("WMTweenTracker",la).init(a)};la.__super__=K;la.prototype=v(K.prototype,{create:function(){this._tweens=new N},
init:function(a){this._target=a;this._isComplete=!1;this._threadCount=0;return this},dispose:function(){this.clearAllTweens();this._target=null;K.prototype.dispose.call(this)},destroy:function(){this._tweens=null;K.prototype.destroy.call(this)},update:function(a){for(var b=this._tweens.keys();b.hasNext();){var c=b.next();la._tweenUpdate.push(c)}for(;0<la._tweenUpdate.length;)this._updateThread(a,la._tweenUpdate.pop());this._runRemoval();1>this._threadCount&&(this._isComplete=!0,this._dispatchTweensAllComplete(this._target))},
_updateThread:function(a,b){1>this._tweens.get(b).length?la._tweenRemoval.push(b):(this._tweens.get(b)[0].update(a),this._tweens.get(b)[0].get_isComplete()&&(this._tweens.get(b)[0].dispose(),this._tweens.get(b).splice(0,1),this._updateThread(a,b)))},_dispatchTweensAllComplete:function(a){i.get_instance().dispatcher.dispatchEvent(W.request(j.TWEENS_ALL_COMPLETE,function(){var b=new N;b.set("target",a);return b}(this)))},get_target:function(){return this._target},get_isComplete:function(){return this._isComplete},
set_isComplete:function(a){return this._isComplete=a},clearAllTweens:function(){for(var a=this._tweens.keys();a.hasNext();){var b=a.next();la._tweenUpdate.push(b)}for(;0<la._tweenUpdate.length;)this.clearTweens(la._tweenUpdate.pop())},clearTweens:function(a){if(null!=this._tweens.get(a)){for(;0<this._tweens.get(a).length;)this._tweens.get(a).pop().dispose();la._tweenRemoval.push(a);this._runRemoval()}},_runRemoval:function(){for(;0<la._tweenRemoval.length;)this._tweens.remove(la._tweenRemoval.pop()),
this._threadCount--},addTween:function(a,b){if(null==this._tweens.get(b)){this._threadCount++;var c=[];this._tweens.set(b,c);c}this._tweens.get(b).push(a)},__class__:la,__properties__:v(K.prototype.__properties__,{set_isComplete:"set_isComplete",get_isComplete:"get_isComplete",get_target:"get_target"})});var qe=function(){this._caches=new N;this._emptyParams=[]};g["com.workinman.pooling.CacheManager"]=qe;qe.__name__=!0;qe.prototype={dispose:function(){for(var a=this._caches.iterator();a.hasNext();)a.next().dispose();
this._emptyParams=this._caches=null},processFill:function(a){for(var b=this._caches.iterator();b.hasNext();)if(!1==b.next().fillCache(a))return!1;return!0},__class__:qe};var Wf=function(){};g["com.workinman.pooling.ElementCache"]=Wf;Wf.__name__=!0;Wf.prototype={dispose:function(){for(;0<this._cache.length;)this._cache.pop().destroy();this._emptyParams=this._type=this._cache=null},fillCache:function(a){for(var b;this._cache.length<this._initFill;)if(this._totalFill++,b=qa.createInstance(this._type,
this._emptyParams),b.setReturnFunction(p(this,this.returnFunction)),b.dispose(),0<a&&0>=a--)return!1;return!0},returnFunction:function(a){null==this._cache?a.destroy():this._cache.push(a)},__class__:Wf};var Xf=function(){};g["com.workinman.pooling.ICacheableElement"]=Xf;Xf.__name__=!0;Xf.prototype={__class__:Xf};var Ba=g["com.workinman.pooling.LOG_LEVEL"]={__ename__:!0,__constructs__:["NONE","NO_STACK","NEW_STACK","ALL_STACK"]};Ba.NONE=["NONE",0];Ba.NONE.toString=f;Ba.NONE.__enum__=Ba;Ba.NO_STACK=
["NO_STACK",1];Ba.NO_STACK.toString=f;Ba.NO_STACK.__enum__=Ba;Ba.NEW_STACK=["NEW_STACK",2];Ba.NEW_STACK.toString=f;Ba.NEW_STACK.__enum__=Ba;Ba.ALL_STACK=["ALL_STACK",3];Ba.ALL_STACK.toString=f;Ba.ALL_STACK.__enum__=Ba;Ba.__empty_constructs__=[Ba.NONE,Ba.NO_STACK,Ba.NEW_STACK,Ba.ALL_STACK];var xe=function(){this._pools=new N};g["com.workinman.pooling.PoolStore"]=xe;xe.__name__=!0;xe.prototype={_initPool:function(a,b,c,d){null==d&&(d=-1);!0!=this._pools.exists(a)&&(null==c&&(c=Ba.NONE),b=new qf(b,c,
d),this._pools.set(a,b))},requestObject:function(a,b,c,d){null==d&&(d=-1);this._testPool(a,b,c,d);c=this._pools.get(a);this._logCreate(a,c);if(0<c.get_numPooled())a=c.givePool(),a.poolActivate();else{c.incrementCreated();if(0<c.get_cap()&&c.get_created()>c.get_cap())throw"Too many instances of "+C.string(b)+" allocated - currently at "+c.get_created();a=qa.createEmptyInstance(b).instance(a,p(this,this._returnObject))}return a},_logCreate:function(a,b){switch(b.get_log()[1]){case 1:null;break;case 2:1>
b.get_numPooled()&&null;break;case 3:null}},_returnObject:function(a){if(!1!=this._pools.exists(a.get_poolKey())){var b;b=this._pools.get(a.get_poolKey());b.poolObject(a);this._logReturn(a.get_poolKey(),b)}},_logReturn:function(a,b){switch(b.get_log()[1]){case 0:case 2:break;case 3:null;break;default:null}},_testPool:function(a,b,c,d){null==d&&(d=-1);!1==this._pools.exists(a)&&this._initPool(a,b,c,d)},tracePoolReport:function(){for(var a="\nPool Report:\n\n",b=0,c=this._pools.keys();c.hasNext();){var d=
c.next(),a=a+("\t"+d+"\n"),b=this._pools.get(d).get_created()-this._pools.get(d).get_numPooled(),a=a+("\t\tTotal Created: "+this._pools.get(d).get_created()+" \t\tPool: "+this._pools.get(d).get_numPooled()+" \t\t\tLoose: "+b+" \t\t\tChange: "+(b-this._pools.get(d).get_loose()));this._pools.get(d).set_loose(b);a+="\n"}null},__class__:xe};var qf=function(a,b,c){this._pool=[];this._class=a;this._log=b;this._created=this._max=0;this._cap=c;this._loose=0};g["com.workinman.pooling.PoolTracker"]=qf;qf.__name__=
!0;qf.prototype={get_log:function(){return this._log},get_numPooled:function(){return this._pool.length},get_created:function(){return this._created},get_cap:function(){return this._cap},get_loose:function(){return this._loose},set_loose:function(a){this._loose=a;return this.get_loose()},incrementCreated:function(){this._created++},poolObject:function(a){this._pool.push(a);this._max=Za.max(this._max,this._pool.length)},givePool:function(){return this._pool.pop()},__class__:qf,__properties__:{set_loose:"set_loose",
get_loose:"get_loose",get_cap:"get_cap",get_created:"get_created",get_numPooled:"get_numPooled",get_log:"get_log"}};var mc=function(a){this.data={version:"-1"};this.id=a};g["com.workinman.saving.WMSharedObject"]=mc;mc.__name__=!0;mc.getLocal=function(a){var b=new mc(a);try{var c=window.localStorage.getItem(a);null!=c&&""!=c&&(b.data=Sa.run(c))}catch(d){null}return b};mc.prototype={dispose:function(){this.id=this.data=null},__class__:mc};var aa=function(){};g["com.workinman.services.Services"]=aa;
aa.__name__=!0;aa.initMain=function(){};aa.initServices=function(){};aa.setPlaybackToggle=function(){};aa.onBootstrapFinished=function(){};aa.onPreloadFinished=function(){};aa.onInitialFinished=function(){};aa.onSplashPlay=function(){};aa.onSplashClose=function(){};aa.onGameStart=function(){};aa.onPlayAgain=function(){};aa.onGameEnd=function(){};aa.onPauseEvent=function(){};aa.onResumeEvent=function(){};aa.update=function(){};var sa=function(){};g["com.workinman.utils.WMUtils"]=sa;sa.__name__=!0;
sa.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=L.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=L.substr(a,b,a.length-b);return a=sa.appendAssetsToUrl(a)};sa.appendAssetsToUrl=function(a){if(0==a.length)return a;"/"!=a.charAt(a.length-1)&&(a+="/");a.indexOf("/assets")<a.length-9&&(a+="assets/");return a};sa.emptyMap=function(a){for(var b=a.keys();b.hasNext();){var c=b.next();sa._mapEmpty.push(c)}for(;0<
sa._mapEmpty.length;)b=sa._mapEmpty.pop(),a.remove(b)};sa.removeExtension=function(a){var b=a.lastIndexOf(".");return 0>b?a:a.substring(0,b)};sa.addStringToArrayWithoutDuplicates=function(a,b){for(var c=0;c<b.length;){var d=b[c];++c;if(d==a)return}b.push(a)};sa.getExtension=function(a){if(null==a)return"";var b=a.lastIndexOf(".");if(0>b)return"";var c=a.lastIndexOf("?");return c>b?a.substring(b+1,c):a.substring(b+1,a.length)};var Ud=function(){this.parent=this.firstChild=this.next=this.firstComponent=
null;this._compMap={}};g["flambe.Entity"]=Ud;Ud.__name__=!0;Ud.__interfaces__=[kb];Ud.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=
this,b.next=d),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){null==b?this.firstChild=
d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:Ud};var Yf=function(){};g["flambe.util.PackageLog"]=Yf;Yf.__name__=!0;var rf=function(){};g["flambe.platform.Platform"]=rf;rf.__name__=!0;rf.prototype={__class__:rf};var Bb=function(){};g["flambe.platform.html.HtmlPlatform"]=
Bb;Bb.__name__=!0;Bb.__interfaces__=[rf];Bb.prototype={init:function(){var a=this;S.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new Cb(b);this._pointer=new Ma;this._mouse=new Vd(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new cc;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow=
"hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,e=function(c){if(!(1E3>c.timeStamp-d)){var e=b.getBoundingClientRect(),h=a.getX(c,e),e=a.getY(c,e);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(h,e,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(h,e);break;case "mouseup":a._mouse.submitUp(h,e,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(h,e,"mousewheel"==c.type?
c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",e,!1);window.addEventListener("mousemove",e,!1);window.addEventListener("mouseup",e,!1);b.addEventListener("mousewheel",e,!1);b.addEventListener("DOMMouseScroll",e,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var f="undefined"!=typeof window.ontouchstart,e="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(f||e){var g=new Wd(this._pointer,f?4:window.navigator.msMaxTouchPoints);
this._touch=g;e=function(b){var c;c=f?b.changedTouches:[b];var e=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();S.SHOULD_HIDE_MOBILE_BROWSER&&S.hideMobileBrowser();for(b=0;b<c.length;){var h=c[b];++b;var i=a.getX(h,e),j=a.getY(h,e);g.submitDown((f?h.identifier:h.pointerId)|0,i,j)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)h=c[b],++b,i=a.getX(h,e),j=
a.getY(h,e),g.submitMove((f?h.identifier:h.pointerId)|0,i,j);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)h=c[b],++b,i=a.getX(h,e),j=a.getY(h,e),g.submitUp((f?h.identifier:h.pointerId)|0,i,j)}};f?(b.addEventListener("touchstart",e,!1),b.addEventListener("touchmove",e,!1),b.addEventListener("touchend",e,!1),b.addEventListener("touchcancel",e,!1)):(b.addEventListener("MSPointerDown",e,!1),b.addEventListener("MSPointerMove",e,!1),b.addEventListener("MSPointerUp",
e,!1))}else this._touch=new Xd;var i=window.onerror;window.onerror=function(a,b,c){J.uncaughtError.emit(a);return null!=i?i(a,b,c):!1};var j=S.loadExtension("hidden",window.document);null!=j.value?(e=function(){J.hidden.set__(o.field(window.document,j.field))},e(null),window.document.addEventListener(j.prefix+"visibilitychange",e,!1)):(e=function(a){J.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",e,!1),window.addEventListener("pagehide",e,!1));J.hidden.get_changed().connect(function(b){b||
(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var k=S.loadExtension("requestAnimationFrame").value;if(null!=k){var l=window.performance,m=null!=l&&S.polyfill("now",l);m?this._lastUpdate=l.now():null;var n=null,n=function(c){a.update(m?l.now():c);k(n,b)};k(n,b)}else window.setInterval(function(){a.update(Date.now())},16);sc.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},loadAssetPack:function(a){return(new ea(this,a)).promise},getStage:function(){return this._stage},
update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;J.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new Xa;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};
this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new dc(a)},__class__:Bb};var Ta=function(a,b){this._value=a;this._changed=null!=b?new tc(b):null};g["flambe.util.Value"]=Ta;Ta.__name__=!0;Ta.prototype={watch:function(a){a(this._value,
this._value);return this.get_changed().connect(a)},get__:function(){return this._value},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new tc);return this._changed},__class__:Ta,__properties__:{get_changed:"get_changed",set__:"set__",get__:"get__"}};var ec=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};g["flambe.util.SignalConnection"]=ec;
ec.__name__=!0;ec.__interfaces__=[kb];ec.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:ec};var pa=function(a){this._head=null!=a?new ec(this,a):null;this._deferredTasks=null};g["flambe.util.SignalBase"]=pa;pa.__name__=!0;pa.prototype={connectImpl:function(a,b){var c=this,d=new ec(this,a);this._head==pa.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,b)}):this.listAdd(d,b);return d},
disconnect:function(a){var b=this;this._head==pa.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new sf(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=pa.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=
a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:pa};var tc=function(a){pa.call(this,a)};g["flambe.util.Signal2"]=tc;tc.__name__=!0;tc.__super__=pa;tc.prototype=v(pa.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==pa.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,
b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._listener(a,b),d.stayInList||d.dispose(),d=d._next;this.didEmit(c)},__class__:tc});var ra=function(a){pa.call(this,a)};g["flambe.util.Signal1"]=ra;ra.__name__=!0;ra.__super__=pa;ra.prototype=v(pa.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==pa.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=
this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:ra});var Ra=function(a,b){this._behavior=null;Ta.call(this,a,b)};g["flambe.animation.AnimatedFloat"]=Ra;Ra.__name__=!0;Ra.__super__=Ta;Ra.prototype=v(Ta.prototype,{set__:function(a){this._behavior=null;return Ta.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(Ta.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},__class__:Ra});
var J=function(){};g["flambe.System"]=J;J.__name__=!0;J.init=function(){J._calledInit||(J._platform.init(),J._calledInit=!0)};var sc=function(){};g["flambe.Log"]=sc;sc.__name__=!0;sc.info=function(){null};sc.__super__=Yf;sc.prototype=v(Yf.prototype,{__class__:sc});var tf=function(){this._realDt=0};g["flambe.SpeedAdjuster"]=tf;tf.__name__=!0;tf.__super__=Ha;tf.prototype=v(Ha.prototype,{get_name:function(){return"SpeedAdjuster_3"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);
this.scale.update(a)},__class__:tf});var Zf=function(){};g["flambe.animation.Behavior"]=Zf;Zf.__name__=!0;Zf.prototype={__class__:Zf};var Ob=function(){};g["flambe.asset.Asset"]=Ob;Ob.__name__=!0;Ob.__interfaces__=[kb];Ob.prototype={__class__:Ob};var z=g["flambe.asset.AssetFormat"]={__ename__:!0,__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};z.WEBP=["WEBP",0];z.WEBP.toString=f;z.WEBP.__enum__=z;z.JXR=["JXR",1];z.JXR.toString=f;z.JXR.__enum__=z;z.PNG=["PNG",
2];z.PNG.toString=f;z.PNG.__enum__=z;z.JPG=["JPG",3];z.JPG.toString=f;z.JPG.__enum__=z;z.GIF=["GIF",4];z.GIF.toString=f;z.GIF.__enum__=z;z.DDS=["DDS",5];z.DDS.toString=f;z.DDS.__enum__=z;z.PVR=["PVR",6];z.PVR.toString=f;z.PVR.__enum__=z;z.PKM=["PKM",7];z.PKM.toString=f;z.PKM.__enum__=z;z.MP3=["MP3",8];z.MP3.toString=f;z.MP3.__enum__=z;z.M4A=["M4A",9];z.M4A.toString=f;z.M4A.__enum__=z;z.OPUS=["OPUS",10];z.OPUS.toString=f;z.OPUS.__enum__=z;z.OGG=["OGG",11];z.OGG.toString=f;z.OGG.__enum__=z;z.WAV=["WAV",
12];z.WAV.toString=f;z.WAV.__enum__=z;z.Data=["Data",13];z.Data.toString=f;z.Data.__enum__=z;z.__empty_constructs__=[z.WEBP,z.JXR,z.PNG,z.JPG,z.GIF,z.DDS,z.PVR,z.PKM,z.MP3,z.M4A,z.OPUS,z.OGG,z.WAV,z.Data];var uf=function(a,b,c,d){this.name=a;this.url=b;this.format=c;this.bytes=d};g["flambe.asset.AssetEntry"]=uf;uf.__name__=!0;uf.prototype={__class__:uf};var Yd=function(){};g["flambe.asset.AssetPack"]=Yd;Yd.__name__=!0;Yd.__interfaces__=[kb];Yd.prototype={__class__:Yd};var Zd=function(){};g["flambe.asset.File"]=
Zd;Zd.__name__=!0;Zd.__interfaces__=[Ob];Zd.prototype={__class__:Zd};var bb=function(){this._localBase=this._remoteBase=null;this._entries=[]};g["flambe.asset.Manifest"]=bb;bb.__name__=!0;bb.fromAssets=function(a,b){null==b&&(b=!0);var c=o.field($f.getType(bb).assets[0],a);if(null==c){if(b)throw La.withFields("Missing asset pack",["name",a]);return null}var d=new bb;d.set_localBase("assets");for(var e=0;e<c.length;){var f=c[e];++e;var g=f.name,i=a+"/"+g+"?v="+C.string(f.md5),j=bb.inferFormat(g);j!=
z.Data&&(g=La.removeFileExtension(g));d.add(g,i,f.bytes,j)}return d};bb.inferFormat=function(a){a=La.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return z.GIF;case "jpg":case "jpeg":return z.JPG;case "jxr":case "wdp":return z.JXR;case "png":return z.PNG;case "webp":return z.WEBP;case "dds":return z.DDS;case "pvr":return z.PVR;case "pkm":return z.PKM;case "m4a":return z.M4A;case "mp3":return z.MP3;case "ogg":return z.OGG;case "opus":return z.OPUS;case "wav":return z.WAV}else null;
return z.Data};bb.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=bb.inferFormat(b));a=new uf(a,b,d,c);this._entries.push(a);return a},iterator:function(){return L.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&bb._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?La.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&vf.that(!da.startsWith(a,"http://")&&!da.startsWith(a,
"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},set_remoteBase:function(a){null!=a&&vf.that(da.startsWith(a,"http://")||da.startsWith(a,"https://"),"remoteBase must be on a remote domain, starting with http(s)://",null);return this._remoteBase=a},__class__:bb,__properties__:{set_remoteBase:"set_remoteBase",get_remoteBase:"get_remoteBase",set_localBase:"set_localBase",get_localBase:"get_localBase"}};
var ia=g["flambe.display.BlendMode"]={__ename__:!0,__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};ia.Normal=["Normal",0];ia.Normal.toString=f;ia.Normal.__enum__=ia;ia.Add=["Add",1];ia.Add.toString=f;ia.Add.__enum__=ia;ia.Multiply=["Multiply",2];ia.Multiply.toString=f;ia.Multiply.__enum__=ia;ia.Screen=["Screen",3];ia.Screen.toString=f;ia.Screen.__enum__=ia;ia.Mask=["Mask",4];ia.Mask.toString=f;ia.Mask.__enum__=ia;ia.Copy=["Copy",5];ia.Copy.toString=f;ia.Copy.__enum__=ia;ia.__empty_constructs__=
[ia.Normal,ia.Add,ia.Multiply,ia.Screen,ia.Mask,ia.Copy];var $d=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};g["flambe.display.Glyph"]=$d;$d.__name__=!0;$d.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?C["int"](this._kernings.get(a)):0},setKerning:function(a,
b){null==this._kernings&&(this._kernings=new cb);this._kernings.set(a,b)},__class__:$d};var Gb=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};g["flambe.display.Font"]=Gb;Gb.__name__=!0;Gb.prototype={layoutText:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=ua.Left);return new Pb(this,a,b,c,d,e)},reload:function(){this._glyphs=new cb;this._glyphs.set(Gb.NEWLINE.charCode,Gb.NEWLINE);for(var a=new fc(this._file.toString()),b=new cb,
c=this.name.lastIndexOf("/"),c=0<=c?L.substr(this.name,0,c+1):"",d=a.keywords();d.hasNext();)switch(d.next()){case "info":for(var e=a.pairs();e.hasNext();){var f=e.next();switch(f.key){case "size":this.size=f.getInt()}}break;case "common":for(e=a.pairs();e.hasNext();)switch(f=e.next(),f.key){case "lineHeight":this.lineHeight=f.getInt()}break;case "page":for(var e=0,f=null,g=a.pairs();g.hasNext();){var i=g.next();switch(i.key){case "id":e=i.getInt();break;case "file":f=i.getString()}}f=this._pack.getTexture(c+
La.removeFileExtension(f));b.set(e,f);break;case "char":e=null;for(f=a.pairs();f.hasNext();)switch(g=f.next(),g.key){case "id":e=new $d(g.getInt());break;case "x":e.x=g.getInt();break;case "y":e.y=g.getInt();break;case "width":e.width=g.getInt();break;case "height":e.height=g.getInt();break;case "page":g=g.getInt();e.page=b.get(g);break;case "xoffset":e.xOffset=g.getInt();break;case "yoffset":e.yOffset=g.getInt();break;case "xadvance":e.xAdvance=g.getInt()}this._glyphs.set(e.charCode,e);break;case "kerning":e=
null;g=f=0;for(i=a.pairs();i.hasNext();){var j=i.next();switch(j.key){case "first":e=this._glyphs.get(j.getInt());break;case "second":f=j.getInt();break;case "amount":g=j.getInt()}}null!=e&&0!=g&&e.setKerning(f,g)}},__class__:Gb};var ua=g["flambe.display.TextAlign"]={__ename__:!0,__constructs__:["Left","Center","Right"]};ua.Left=["Left",0];ua.Left.toString=f;ua.Left.__enum__=ua;ua.Center=["Center",1];ua.Center.toString=f;ua.Center.__enum__=ua;ua.Right=["Right",2];ua.Right.toString=f;ua.Right.__enum__=
ua;ua.__empty_constructs__=[ua.Left,ua.Center,ua.Right];var Pb=function(a,b,c,d,e,f){this.lines=0;var g=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+f);this.bounds=new wf;for(var i=[],f=b.length,j=0;j<f;){var k=j++,k=b.charCodeAt(k),k=a._glyphs.get(k);null!=k?this._glyphs.push(k):null}for(var b=-1,l=0,m=0,a=a._glyphs.get(10),f=function(){g.bounds.width=Za.max(g.bounds.width,l);g.bounds.height+=m;i[g.lines]=l;m=l=0;++g.lines},j=0;j<this._glyphs.length;){k=
this._glyphs[j];this._offsets[j]=Math.round(l);var n=0<d&&l+k.width>d;n||k==a?(n&&(0<=b?(this._glyphs[b]=a,l=this._offsets[b],j=b):this._glyphs.splice(j,0,a)),b=-1,m=this._lineOffset,f()):(32==k.charCode&&(b=j),l+=k.xAdvance+e,m=Za.max(m,k.height+k.yOffset),j+1<this._glyphs.length&&(l+=k.getKerning(this._glyphs[j+1].charCode)));++j}f();e=0;a=Pb.getAlignOffset(c,i[0],d);b=1.79769313486231E308;f=-1.79769313486231E308;k=j=0;for(n=this._glyphs.length;k<n;){var o=this._glyphs[k];10==o.charCode&&(e+=this._lineOffset,
++j,a=Pb.getAlignOffset(c,i[j],d));this._offsets[k]+=a;var p=e+o.yOffset;b<p||(b=p);f=Za.max(f,p+o.height);++k}this.bounds.x=Pb.getAlignOffset(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=f-b};g["flambe.display.TextLayout"]=Pb;Pb.__name__=!0;Pb.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-b)/2)}};Pb.prototype={draw:function(a){for(var b=0,c=0,d=this._glyphs.length;c<d;){var e=this._glyphs[c];10==e.charCode?b+=this._lineOffset:
e.draw(a,this._offsets[c],b);++c}},__class__:Pb};var fc=function(a){this._configText=a;this._keywordPattern=new pb("([A-Za-z]+)(.*)","");this._pairPattern=new pb('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};g["flambe.display._Font.ConfigParser"]=fc;fc.__name__=!0;fc.advance=function(a,b){var c=b.matchedPos();return L.substr(a,c.pos+c.len,a.length)};fc.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=fc.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);
return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=fc.advance(b,a._pairPattern);return new xf(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:fc};var xf=function(a,b){this.key=a;this._value=b};g["flambe.display._Font.ConfigPair"]=xf;xf.__name__=!0;xf.prototype={getInt:function(){return C.parseInt(this._value)},getString:function(){return 34!=
this._value.charCodeAt(0)?null:L.substr(this._value,1,this._value.length-2)},__class__:xf};var yf=function(){};g["flambe.display.Graphics"]=yf;yf.__name__=!0;yf.prototype={__class__:yf};var jb=g["flambe.display.Orientation"]={__ename__:!0,__constructs__:["Portrait","Landscape"]};jb.Portrait=["Portrait",0];jb.Portrait.toString=f;jb.Portrait.__enum__=jb;jb.Landscape=["Landscape",1];jb.Landscape.toString=f;jb.Landscape.__enum__=jb;jb.__empty_constructs__=[jb.Portrait,jb.Landscape];var ae=function(){};
g["flambe.display.Texture"]=ae;ae.__name__=!0;ae.__interfaces__=[Ob];ae.prototype={__class__:ae};var ag=function(){};g["flambe.display.SubTexture"]=ag;ag.__name__=!0;ag.__interfaces__=[ae];var e=g["flambe.input.Key"]={__ename__:!0,__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
e.A=["A",0];e.A.toString=f;e.A.__enum__=e;e.B=["B",1];e.B.toString=f;e.B.__enum__=e;e.C=["C",2];e.C.toString=f;e.C.__enum__=e;e.D=["D",3];e.D.toString=f;e.D.__enum__=e;e.E=["E",4];e.E.toString=f;e.E.__enum__=e;e.F=["F",5];e.F.toString=f;e.F.__enum__=e;e.G=["G",6];e.G.toString=f;e.G.__enum__=e;e.H=["H",7];e.H.toString=f;e.H.__enum__=e;e.I=["I",8];e.I.toString=f;e.I.__enum__=e;e.J=["J",9];e.J.toString=f;e.J.__enum__=e;e.K=["K",10];e.K.toString=f;e.K.__enum__=e;e.L=["L",11];e.L.toString=f;e.L.__enum__=
e;e.M=["M",12];e.M.toString=f;e.M.__enum__=e;e.N=["N",13];e.N.toString=f;e.N.__enum__=e;e.O=["O",14];e.O.toString=f;e.O.__enum__=e;e.P=["P",15];e.P.toString=f;e.P.__enum__=e;e.Q=["Q",16];e.Q.toString=f;e.Q.__enum__=e;e.R=["R",17];e.R.toString=f;e.R.__enum__=e;e.S=["S",18];e.S.toString=f;e.S.__enum__=e;e.T=["T",19];e.T.toString=f;e.T.__enum__=e;e.U=["U",20];e.U.toString=f;e.U.__enum__=e;e.V=["V",21];e.V.toString=f;e.V.__enum__=e;e.W=["W",22];e.W.toString=f;e.W.__enum__=e;e.X=["X",23];e.X.toString=
f;e.X.__enum__=e;e.Y=["Y",24];e.Y.toString=f;e.Y.__enum__=e;e.Z=["Z",25];e.Z.toString=f;e.Z.__enum__=e;e.Number0=["Number0",26];e.Number0.toString=f;e.Number0.__enum__=e;e.Number1=["Number1",27];e.Number1.toString=f;e.Number1.__enum__=e;e.Number2=["Number2",28];e.Number2.toString=f;e.Number2.__enum__=e;e.Number3=["Number3",29];e.Number3.toString=f;e.Number3.__enum__=e;e.Number4=["Number4",30];e.Number4.toString=f;e.Number4.__enum__=e;e.Number5=["Number5",31];e.Number5.toString=f;e.Number5.__enum__=
e;e.Number6=["Number6",32];e.Number6.toString=f;e.Number6.__enum__=e;e.Number7=["Number7",33];e.Number7.toString=f;e.Number7.__enum__=e;e.Number8=["Number8",34];e.Number8.toString=f;e.Number8.__enum__=e;e.Number9=["Number9",35];e.Number9.toString=f;e.Number9.__enum__=e;e.Numpad0=["Numpad0",36];e.Numpad0.toString=f;e.Numpad0.__enum__=e;e.Numpad1=["Numpad1",37];e.Numpad1.toString=f;e.Numpad1.__enum__=e;e.Numpad2=["Numpad2",38];e.Numpad2.toString=f;e.Numpad2.__enum__=e;e.Numpad3=["Numpad3",39];e.Numpad3.toString=
f;e.Numpad3.__enum__=e;e.Numpad4=["Numpad4",40];e.Numpad4.toString=f;e.Numpad4.__enum__=e;e.Numpad5=["Numpad5",41];e.Numpad5.toString=f;e.Numpad5.__enum__=e;e.Numpad6=["Numpad6",42];e.Numpad6.toString=f;e.Numpad6.__enum__=e;e.Numpad7=["Numpad7",43];e.Numpad7.toString=f;e.Numpad7.__enum__=e;e.Numpad8=["Numpad8",44];e.Numpad8.toString=f;e.Numpad8.__enum__=e;e.Numpad9=["Numpad9",45];e.Numpad9.toString=f;e.Numpad9.__enum__=e;e.NumpadAdd=["NumpadAdd",46];e.NumpadAdd.toString=f;e.NumpadAdd.__enum__=e;e.NumpadDecimal=
["NumpadDecimal",47];e.NumpadDecimal.toString=f;e.NumpadDecimal.__enum__=e;e.NumpadDivide=["NumpadDivide",48];e.NumpadDivide.toString=f;e.NumpadDivide.__enum__=e;e.NumpadEnter=["NumpadEnter",49];e.NumpadEnter.toString=f;e.NumpadEnter.__enum__=e;e.NumpadMultiply=["NumpadMultiply",50];e.NumpadMultiply.toString=f;e.NumpadMultiply.__enum__=e;e.NumpadSubtract=["NumpadSubtract",51];e.NumpadSubtract.toString=f;e.NumpadSubtract.__enum__=e;e.F1=["F1",52];e.F1.toString=f;e.F1.__enum__=e;e.F2=["F2",53];e.F2.toString=
f;e.F2.__enum__=e;e.F3=["F3",54];e.F3.toString=f;e.F3.__enum__=e;e.F4=["F4",55];e.F4.toString=f;e.F4.__enum__=e;e.F5=["F5",56];e.F5.toString=f;e.F5.__enum__=e;e.F6=["F6",57];e.F6.toString=f;e.F6.__enum__=e;e.F7=["F7",58];e.F7.toString=f;e.F7.__enum__=e;e.F8=["F8",59];e.F8.toString=f;e.F8.__enum__=e;e.F9=["F9",60];e.F9.toString=f;e.F9.__enum__=e;e.F10=["F10",61];e.F10.toString=f;e.F10.__enum__=e;e.F11=["F11",62];e.F11.toString=f;e.F11.__enum__=e;e.F12=["F12",63];e.F12.toString=f;e.F12.__enum__=e;e.F13=
["F13",64];e.F13.toString=f;e.F13.__enum__=e;e.F14=["F14",65];e.F14.toString=f;e.F14.__enum__=e;e.F15=["F15",66];e.F15.toString=f;e.F15.__enum__=e;e.Left=["Left",67];e.Left.toString=f;e.Left.__enum__=e;e.Up=["Up",68];e.Up.toString=f;e.Up.__enum__=e;e.Right=["Right",69];e.Right.toString=f;e.Right.__enum__=e;e.Down=["Down",70];e.Down.toString=f;e.Down.__enum__=e;e.Alt=["Alt",71];e.Alt.toString=f;e.Alt.__enum__=e;e.Backquote=["Backquote",72];e.Backquote.toString=f;e.Backquote.__enum__=e;e.Backslash=
["Backslash",73];e.Backslash.toString=f;e.Backslash.__enum__=e;e.Backspace=["Backspace",74];e.Backspace.toString=f;e.Backspace.__enum__=e;e.CapsLock=["CapsLock",75];e.CapsLock.toString=f;e.CapsLock.__enum__=e;e.Comma=["Comma",76];e.Comma.toString=f;e.Comma.__enum__=e;e.Command=["Command",77];e.Command.toString=f;e.Command.__enum__=e;e.Control=["Control",78];e.Control.toString=f;e.Control.__enum__=e;e.Delete=["Delete",79];e.Delete.toString=f;e.Delete.__enum__=e;e.End=["End",80];e.End.toString=f;e.End.__enum__=
e;e.Enter=["Enter",81];e.Enter.toString=f;e.Enter.__enum__=e;e.Equals=["Equals",82];e.Equals.toString=f;e.Equals.__enum__=e;e.Escape=["Escape",83];e.Escape.toString=f;e.Escape.__enum__=e;e.Home=["Home",84];e.Home.toString=f;e.Home.__enum__=e;e.Insert=["Insert",85];e.Insert.toString=f;e.Insert.__enum__=e;e.LeftBracket=["LeftBracket",86];e.LeftBracket.toString=f;e.LeftBracket.__enum__=e;e.Minus=["Minus",87];e.Minus.toString=f;e.Minus.__enum__=e;e.PageDown=["PageDown",88];e.PageDown.toString=f;e.PageDown.__enum__=
e;e.PageUp=["PageUp",89];e.PageUp.toString=f;e.PageUp.__enum__=e;e.Period=["Period",90];e.Period.toString=f;e.Period.__enum__=e;e.Quote=["Quote",91];e.Quote.toString=f;e.Quote.__enum__=e;e.RightBracket=["RightBracket",92];e.RightBracket.toString=f;e.RightBracket.__enum__=e;e.Semicolon=["Semicolon",93];e.Semicolon.toString=f;e.Semicolon.__enum__=e;e.Shift=["Shift",94];e.Shift.toString=f;e.Shift.__enum__=e;e.Slash=["Slash",95];e.Slash.toString=f;e.Slash.__enum__=e;e.Space=["Space",96];e.Space.toString=
f;e.Space.__enum__=e;e.Tab=["Tab",97];e.Tab.toString=f;e.Tab.__enum__=e;e.Menu=["Menu",98];e.Menu.toString=f;e.Menu.__enum__=e;e.Search=["Search",99];e.Search.toString=f;e.Search.__enum__=e;e.Unknown=function(a){a=["Unknown",100,a];a.__enum__=e;a.toString=f;return a};e.__empty_constructs__=[e.A,e.B,e.C,e.D,e.E,e.F,e.G,e.H,e.I,e.J,e.K,e.L,e.M,e.N,e.O,e.P,e.Q,e.R,e.S,e.T,e.U,e.V,e.W,e.X,e.Y,e.Z,e.Number0,e.Number1,e.Number2,e.Number3,e.Number4,e.Number5,e.Number6,e.Number7,e.Number8,e.Number9,e.Numpad0,
e.Numpad1,e.Numpad2,e.Numpad3,e.Numpad4,e.Numpad5,e.Numpad6,e.Numpad7,e.Numpad8,e.Numpad9,e.NumpadAdd,e.NumpadDecimal,e.NumpadDivide,e.NumpadEnter,e.NumpadMultiply,e.NumpadSubtract,e.F1,e.F2,e.F3,e.F4,e.F5,e.F6,e.F7,e.F8,e.F9,e.F10,e.F11,e.F12,e.F13,e.F14,e.F15,e.Left,e.Up,e.Right,e.Down,e.Alt,e.Backquote,e.Backslash,e.Backspace,e.CapsLock,e.Comma,e.Command,e.Control,e.Delete,e.End,e.Enter,e.Equals,e.Escape,e.Home,e.Insert,e.LeftBracket,e.Minus,e.PageDown,e.PageUp,e.Period,e.Quote,e.RightBracket,
e.Semicolon,e.Shift,e.Slash,e.Space,e.Tab,e.Menu,e.Search];var zf=function(){this.init(0,null)};g["flambe.input.KeyboardEvent"]=zf;zf.__name__=!0;zf.prototype={init:function(a,b){this.id=a;this.key=b},__class__:zf};var xa=g["flambe.input.MouseButton"]={__ename__:!0,__constructs__:["Left","Middle","Right","Unknown"]};xa.Left=["Left",0];xa.Left.toString=f;xa.Left.__enum__=xa;xa.Middle=["Middle",1];xa.Middle.toString=f;xa.Middle.__enum__=xa;xa.Right=["Right",2];xa.Right.toString=f;xa.Right.__enum__=
xa;xa.Unknown=function(a){a=["Unknown",3,a];a.__enum__=xa;a.toString=f;return a};xa.__empty_constructs__=[xa.Left,xa.Middle,xa.Right];var Ya=g["flambe.input.MouseCursor"]={__ename__:!0,__constructs__:["Default","Button","None"]};Ya.Default=["Default",0];Ya.Default.toString=f;Ya.Default.__enum__=Ya;Ya.Button=["Button",1];Ya.Button.toString=f;Ya.Button.__enum__=Ya;Ya.None=["None",2];Ya.None.toString=f;Ya.None.__enum__=Ya;Ya.__empty_constructs__=[Ya.Default,Ya.Button,Ya.None];var Af=function(){this.init(0,
0,0,null)};g["flambe.input.MouseEvent"]=Af;Af.__name__=!0;Af.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:Af};var uc=g["flambe.input.EventSource"]={__ename__:!0,__constructs__:["Mouse","Touch"]};uc.Mouse=function(a){a=["Mouse",0,a];a.__enum__=uc;a.toString=f;return a};uc.Touch=function(a){a=["Touch",1,a];a.__enum__=uc;a.toString=f;return a};uc.__empty_constructs__=[];var Bf=function(){this.init(0,0,0,null,null)};g["flambe.input.PointerEvent"]=Bf;Bf.__name__=
!0;Bf.prototype={init:function(a,b,c,d,e){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=e;this._stopped=!1},__class__:Bf};var Cf=function(a){this.id=a;this._source=uc.Touch(this)};g["flambe.input.TouchPoint"]=Cf;Cf.__name__=!0;Cf.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:Cf};var Za=function(){};g["flambe.math.FMath"]=Za;Za.__name__=!0;Za.max=function(a,b){return a>b?a:b};Za.clamp=function(a,b,c){return a<b?b:a>c?c:a};var Wa=function(){this.identity()};g["flambe.math.Matrix"]=
Wa;Wa.__name__=!0;Wa.multiply=function(a,b,c){null==c&&(c=new Wa);var d=a.m00*b.m00+a.m01*b.m10,e=a.m00*b.m01+a.m01*b.m11,f=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=d;c.m01=e;c.m02=f;d=a.m10*b.m00+a.m11*b.m10;e=a.m10*b.m01+a.m11*b.m11;f=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=d;c.m11=e;c.m12=f;return c};Wa.prototype={set:function(a,b,c,d,e,f){this.m00=a;this.m01=c;this.m02=e;this.m10=b;this.m11=d;this.m12=f},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,e){var f=Math.sin(e),e=Math.cos(e);
this.set(e*c,f*c,-f*d,e*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},__class__:Wa};var wf=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};g["flambe.math.Rectangle"]=
wf;wf.__name__=!0;wf.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},__class__:wf};var Ua=function(){this._disposed=!1};g["flambe.platform.BasicAsset"]=Ua;Ua.__name__=!0;Ua.__interfaces__=[Ob];Ua.prototype={dispose:function(){this._disposed||(this._disposed=
!0,this.onDisposed())},onDisposed:function(){null},__class__:Ua};var Qb=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new be;this._bytesLoaded=new N;this._pack=new ce(b,this);var d=Ec.array(b);if(0==d.length)this.handleSuccess();else{for(var e=new N,f=0;f<d.length;){var g=d[f];++f;var i=e.get(g.name);null==i&&(i=[],e.set(g.name,i));i.push(g)}this._assetsRemaining=Ec.count(e);for(d=e.iterator();d.hasNext();)e=[d.next()],this.pickBestEntry(e[0],function(a){return function(d){if(null!=
d){var e=b.getFullURL(d);try{c.loadEntry(e,d)}catch(f){c.handleError(d,"Unexpected error: "+C.string(f))}e=c.promise;e.set_total(e._total+d.bytes)}else d=a[0][0],Qb.isAudio(d.format)?c.handleLoad(d,db.getInstance()):c.handleError(d,"Could not find a supported format to load")}}(e))}};g["flambe.platform.BasicAssetPackLoader"]=Qb;Qb.__name__=!0;Qb.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};Qb.prototype={onDisposed:function(){},pickBestEntry:function(a,
b){this.getAssetFormats(function(c){for(var d=0;d<c.length;){var e=c[d];++d;for(var f=0;f<a.length;){var g=a[f];++f;if(g.format==e){b(g);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,
b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=this._bytesLoaded.iterator();d.hasNext();)var e=d.next(),c=c+e;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(La.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},
__class__:Qb};var ce=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new N;this.sounds=new N;this.files=new N};g["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=ce;ce.__name__=!0;ce.__interfaces__=[Yd];ce.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw La.withFields("Missing texture",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw La.withFields("Missing sound",
["name",a]);return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw La.withFields("Missing file",["name",a]);return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},get_manifest:function(){return this._manifest},
__class__:ce,__properties__:{get_manifest:"get_manifest"}};var vc=function(a){this._disposed=!1;this._content=a};g["flambe.platform.BasicFile"]=vc;vc.__name__=!0;vc.__interfaces__=[Zd];vc.__super__=Ua;vc.prototype=v(Ua.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:vc});var Df=function(){};g["flambe.subsystem.KeyboardSystem"]=Df;Df.__name__=!0;Df.prototype={__class__:Df};var Xa=function(){this.down=new ra;this.up=new ra;this.backButton=new gc;
this._keyStates=new cb};g["flambe.platform.BasicKeyboard"]=Xa;Xa.__name__=!0;Xa.__interfaces__=[Df];Xa.prototype={isDown:function(a){return this.isCodeDown(wc.toKeyCode(a))},isCodeDown:function(a){return this._keyStates.exists(a)},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),Xa._sharedEvent.init(Xa._sharedEvent.id+1,wc.toKey(a)),this.down.emit(Xa._sharedEvent));return!0},submitUp:function(a){this._keyStates.exists(a)&&
(this._keyStates.remove(a),Xa._sharedEvent.init(Xa._sharedEvent.id+1,wc.toKey(a)),this.up.emit(Xa._sharedEvent))},__class__:Xa};var Ef=function(){};g["flambe.subsystem.MouseSystem"]=Ef;Ef.__name__=!0;Ef.prototype={__class__:Ef};var Ia=function(a){this._pointer=a;this._source=uc.Mouse(Ia._sharedEvent);this.down=new ra;this.move=new ra;this.up=new ra;this.scroll=new ra;this._y=this._x=0;this._cursor=Ya.Default;this._buttonStates=new cb};g["flambe.platform.BasicMouse"]=Ia;Ia.__name__=!0;Ia.__interfaces__=
[Ef];Ia.prototype={submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,Ff.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(Ia._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(Ia._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,Ff.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(Ia._sharedEvent))},
submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;Ia._sharedEvent.init(Ia._sharedEvent.id+1,a,b,c)},__class__:Ia};var Gf=function(){};g["flambe.subsystem.PointerSystem"]=Gf;Gf.__name__=!0;Gf.prototype={__class__:Gf};var Ma=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new ra;this.move=new ra;this.up=new ra;this._x=a;this._y=b;this._isDown=c};g["flambe.platform.BasicPointer"]=
Ma;Ma.__name__=!0;Ma.__interfaces__=[Gf];Ma.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var d=[],e=ma.hitTest(J.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_0;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerDown(Ma._sharedEvent),Ma._sharedEvent._stopped)return;this.down.emit(Ma._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var d=[],e=ma.hitTest(J.root,
a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_0;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerMove(Ma._sharedEvent),Ma._sharedEvent._stopped)return;this.move.emit(Ma._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var d=[],e=ma.hitTest(J.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_0;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=
0;a<d.length;)if(b=d[a],++a,b.onPointerUp(Ma._sharedEvent),Ma._sharedEvent._stopped)return;this.up.emit(Ma._sharedEvent)}},prepare:function(a,b,c,d){this._x=a;this._y=b;Ma._sharedEvent.init(Ma._sharedEvent.id+1,a,b,c,d)},__class__:Ma};var Rb=function(a,b,c){this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};g["flambe.platform.BasicTexture"]=Rb;Rb.__name__=!0;Rb.__interfaces__=[ag];Rb.__super__=Ua;Rb.prototype=v(Ua.prototype,{onDisposed:function(){null==
this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:Rb,__properties__:{get_height:"get_height",get_width:"get_width"}});var de=function(){};g["flambe.subsystem.TouchSystem"]=de;de.__name__=!0;de.prototype={__class__:de};var Wd=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new cb;this._points=[];this.down=new ra;this.move=new ra;this.up=new ra};g["flambe.platform.BasicTouch"]=Wd;Wd.__name__=
!0;Wd.__interfaces__=[de];Wd.prototype={get_supported:function(){return!0},submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var d=new Cf(a);d.init(b,c);this._pointMap.set(a,d);this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var d=
this._pointMap.get(a);null!=d&&(d.init(b,c),this._pointMap.remove(a),L.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))},__class__:Wd,__properties__:{get_supported:"get_supported"}};var Sb=function(){};g["flambe.sound.Sound"]=Sb;Sb.__name__=!0;Sb.__interfaces__=[Ob];Sb.prototype={__class__:Sb};var db=function(){this._disposed=!1;this._playback=new xc(this)};g["flambe.platform.DummySound"]=db;db.__name__=!0;db.__interfaces__=
[Sb];db.getInstance=function(){null==db._instance&&(db._instance=new db);return db._instance};db.__super__=Ua;db.prototype=v(Ua.prototype,{play:function(){return this._playback},loop:function(){return this._playback},get_duration:function(){return 0},onDisposed:function(){},__class__:db,__properties__:{get_duration:"get_duration"}});var hc=function(){};g["flambe.sound.Playback"]=hc;hc.__name__=!0;hc.__interfaces__=[kb];hc.prototype={__class__:hc};var xc=function(a){this._sound=a;this.volume=new Ra(0);
this._complete=new Ta(!0)};g["flambe.platform.DummyPlayback"]=xc;xc.__name__=!0;xc.__interfaces__=[hc];xc.prototype={get_paused:function(){return!0},get_complete:function(){return this._complete},get_position:function(){return 0},dispose:function(){},__class__:xc,__properties__:{get_position:"get_position",get_complete:"get_complete",get_paused:"get_paused"}};var Xd=function(){this.down=new ra;this.move=new ra;this.up=new ra};g["flambe.platform.DummyTouch"]=Xd;Xd.__name__=!0;Xd.__interfaces__=[de];
Xd.prototype={get_supported:function(){return!1},__class__:Xd,__properties__:{get_supported:"get_supported"}};var yc=function(){this._entries=[]};g["flambe.platform.EventGroup"]=yc;yc.__name__=!0;yc.__interfaces__=[kb];yc.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new Hf(a,b,c))},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,
c.listener,!1)}this._entries=[]},__class__:yc};var Hf=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};g["flambe.platform._EventGroup.Entry"]=Hf;Hf.__name__=!0;Hf.prototype={__class__:Hf};var ee=function(){};g["flambe.platform.InternalGraphics"]=ee;ee.__name__=!0;ee.__interfaces__=[yf];ee.prototype={__class__:ee};var If=function(){};g["flambe.subsystem.RendererSystem"]=If;If.__name__=!0;If.prototype={__class__:If};var fe=function(){};g["flambe.platform.InternalRenderer"]=fe;fe.__name__=
!0;fe.__interfaces__=[If];fe.prototype={__class__:fe};var wc=function(){};g["flambe.platform.KeyCodes"]=wc;wc.__name__=!0;wc.toKey=function(a){switch(a){case 65:return e.A;case 66:return e.B;case 67:return e.C;case 68:return e.D;case 69:return e.E;case 70:return e.F;case 71:return e.G;case 72:return e.H;case 73:return e.I;case 74:return e.J;case 75:return e.K;case 76:return e.L;case 77:return e.M;case 78:return e.N;case 79:return e.O;case 80:return e.P;case 81:return e.Q;case 82:return e.R;case 83:return e.S;
case 84:return e.T;case 85:return e.U;case 86:return e.V;case 87:return e.W;case 88:return e.X;case 89:return e.Y;case 90:return e.Z;case 48:return e.Number0;case 49:return e.Number1;case 50:return e.Number2;case 51:return e.Number3;case 52:return e.Number4;case 53:return e.Number5;case 54:return e.Number6;case 55:return e.Number7;case 56:return e.Number8;case 57:return e.Number9;case 96:return e.Numpad0;case 97:return e.Numpad1;case 98:return e.Numpad2;case 99:return e.Numpad3;case 100:return e.Numpad4;
case 101:return e.Numpad5;case 102:return e.Numpad6;case 103:return e.Numpad7;case 104:return e.Numpad8;case 105:return e.Numpad9;case 107:return e.NumpadAdd;case 110:return e.NumpadDecimal;case 111:return e.NumpadDivide;case 108:return e.NumpadEnter;case 106:return e.NumpadMultiply;case 109:return e.NumpadSubtract;case 112:return e.F1;case 113:return e.F2;case 114:return e.F3;case 115:return e.F4;case 116:return e.F5;case 117:return e.F6;case 118:return e.F7;case 119:return e.F8;case 120:return e.F9;
case 121:return e.F10;case 122:return e.F11;case 123:return e.F12;case 37:return e.Left;case 38:return e.Up;case 39:return e.Right;case 40:return e.Down;case 18:return e.Alt;case 192:return e.Backquote;case 220:return e.Backslash;case 8:return e.Backspace;case 20:return e.CapsLock;case 188:return e.Comma;case 15:return e.Command;case 17:return e.Control;case 46:return e.Delete;case 35:return e.End;case 13:return e.Enter;case 187:return e.Equals;case 27:return e.Escape;case 36:return e.Home;case 45:return e.Insert;
case 219:return e.LeftBracket;case 189:return e.Minus;case 34:return e.PageDown;case 33:return e.PageUp;case 190:return e.Period;case 222:return e.Quote;case 221:return e.RightBracket;case 186:return e.Semicolon;case 16:return e.Shift;case 191:return e.Slash;case 32:return e.Space;case 9:return e.Tab;case 16777234:return e.Menu;case 16777247:return e.Search}return e.Unknown(a)};wc.toKeyCode=function(a){switch(a[1]){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;
case 5:return 70;case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;
case 34:return 56;case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;
case 61:return 121;case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;
case 89:return 33;case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return a[2]}};var cc=function(){this._tickables=[]};g["flambe.platform.MainLoop"]=cc;cc.__name__=!0;cc.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_3;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;
0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,cc.updateEntity(c,b),c=d};cc.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}J.volume.update(a);cc.updateEntity(J.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),ma.render(J.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:cc};
var Ff=function(){};g["flambe.platform.MouseCodes"]=Ff;Ff.__name__=!0;Ff.toButton=function(a){switch(a){case 0:return xa.Left;case 1:return xa.Middle;case 2:return xa.Right}return xa.Unknown(a)};var gg=function(){};g["flambe.platform.TextureRoot"]=gg;gg.__name__=!0;var ge=function(){};g["flambe.platform.Tickable"]=ge;ge.__name__=!0;ge.prototype={__class__:ge};var Hb=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};g["flambe.platform.html.CanvasGraphics"]=Hb;Hb.__name__=
!0;Hb.__interfaces__=[ee];Hb.prototype={save:function(){this._canvasCtx.save()},translate:function(a,b){this._canvasCtx.translate(a|0,b|0)},scale:function(a,b){this._canvasCtx.scale(a,b)},rotate:function(a){this._canvasCtx.rotate(3.141592653589793*a/180)},transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e,f)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,f,g){this._firstDraw?
(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,e,f,g),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+d|0,a.rootY+e|0,f|0,g|0,b|0,c|0,f|0,g|0)},fillRect:function(a,b,c,d,e){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,e),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+C.string(a);
this._canvasCtx.fillStyle="#"+C.string(a);this._canvasCtx.fillRect(b|0,c|0,d|0,e|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},
willRender:function(){this._firstDraw=!0},didRender:function(){},__class__:Hb};var dc=function(a){this.graphics=new Hb(a,!1);this._hasGPU=new Ta(!0)};g["flambe.platform.html.CanvasRenderer"]=dc;dc.__name__=!0;dc.__interfaces__=[fe];dc.prototype={get_type:function(){return Na.Canvas},createTextureFromImage:function(a){a=new zc(dc.CANVAS_TEXTURES?S.createCanvas(a):a);return a.createTexture(a.width,a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},
willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:dc,__properties__:{get_type:"get_type"}};var he=function(a,b,c){Rb.call(this,a,b,c)};g["flambe.platform.html.CanvasTexture"]=he;he.__name__=!0;he.__super__=Rb;he.prototype=v(Rb.prototype,{__class__:he});var zc=function(a){this._graphics=null;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};g["flambe.platform.html.CanvasTextureRoot"]=zc;zc.__name__=!0;zc.__interfaces__=
[gg];zc.__super__=Ua;zc.prototype=v(Ua.prototype,{createTexture:function(a,b){return new he(this,a,b)},onDisposed:function(){this._graphics=this.image=null},__class__:zc});var ea=function(a,b){Qb.call(this,a,b)};g["flambe.platform.html.HtmlAssetPackLoader"]=ea;ea.__name__=!0;ea.detectImageFormats=function(a){var b=[z.PNG,z.JPG,z.GIF],c=2,d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(z.WEBP);--c;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";
var e;e=window.document.createElement("img");e.onload=e.onerror=function(){1==e.width&&b.unshift(z.JXR);--c;0==c&&a(b)};e.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};ea.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==p(a,a.canPlayType))return[];var b=new pb("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",
""),c=window.navigator.userAgent;if(!$.get_supported()&&b.match(c))return[];for(var b=[{format:z.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:z.MP3,mimeType:"audio/mpeg"},{format:z.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:z.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:z.WAV,mimeType:"audio/wav"}],c=[],d=0;d<b.length;){var e=b[d];++d;var f="";try{f=a.canPlayType(e.mimeType)}catch(g){}""!=f&&c.push(e.format)}return c};ea.supportsBlob=function(){if(ea._detectBlobSupport){ea._detectBlobSupport=
!1;if((new pb("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;ea._URL=S.loadExtension("URL").value}return null!=ea._URL&&null!=ea._URL.createObjectURL};ea.__super__=Qb;ea.prototype=v(Qb.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d;d=window.document.createElement("img");var e=
new yc;e.addDisposingListener(d,"load",function(){ea.supportsBlob()&&ea._URL.revokeObjectURL(d.src);var a=c._platform.getRenderer().createTextureFromImage(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});e.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});ea.supportsBlob()?this.download(a,b,"blob",function(a){d.src=ea._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,
null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if($.get_supported())this.download(a,b,"arraybuffer",function(a){$.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new $(a))},function(){c.handleLoad(b,db.getInstance())})});else{var f;f=window.document.createElement("audio");f.preload="auto";var g=++ea._mediaRefCount;null==ea._mediaElements&&(ea._mediaElements=new cb);ea._mediaElements.set(g,f);e=new yc;e.addDisposingListener(f,"canplaythrough",
function(){ea._mediaElements.remove(g);c.handleLoad(b,new Ac(f))});e.addDisposingListener(f,"error",function(){ea._mediaElements.remove(g);var a=f.error.code;3==a||4==a?c.handleLoad(b,db.getInstance()):c.handleError(b,"Failed to load audio: "+f.error.code)});e.addListener(f,"progress",function(){if(0<f.buffered.length&&0<f.duration){var a=f.buffered.end(0)/f.duration;c.handleProgress(b,a*b.bytes|0)}});f.src=a;f.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new vc(a))})}},
getAssetFormats:function(a){var b=this;null==ea._supportedFormats&&(ea._supportedFormats=new be,ea.detectImageFormats(function(a){ea._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(ea.detectAudioFormats()).concat([z.Data]))}));ea._supportedFormats.get(a)},download:function(a,b,c,d){var e=this,f=null,g=null,i=0,j=!1,k=function(){j&&(j=!1,window.clearInterval(i))},l=3,m=function(){--l;return 0<=l?(g(),!0):!1},g=function(){k();null!=f&&f.abort();
f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType=c;var g=0;f.onprogress=function(a){j||(j=!0,i=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!m()&&(k(),e.handleError(b,"Download stalled"))},1E3));g=Date.now();e.handleProgress(b,a.loaded)};f.onerror=function(){if(0!=f.status||!m())k(),e.handleError(b,"HTTP error "+f.status)};f.onload=function(){var a=f.response;null==a&&(a=f.responseText);k();d(a)};f.send()};g()},__class__:ea});var Vd=function(a,b){Ia.call(this,a);this._canvas=
b};g["flambe.platform.html.HtmlMouse"]=Vd;Vd.__name__=!0;Vd.__super__=Ia;Vd.prototype=v(Ia.prototype,{__class__:Vd});var Ac=function(a){this._disposed=!1;this.audioElement=a};g["flambe.platform.html.HtmlSound"]=Ac;Ac.__name__=!0;Ac.__interfaces__=[Sb];Ac.__super__=Ua;Ac.prototype=v(Ua.prototype,{play:function(a){null==a&&(a=1);return new Bc(this,a,!1)},loop:function(a){null==a&&(a=1);return new Bc(this,a,!0)},get_duration:function(){return this.audioElement.duration},onDisposed:function(){this.audioElement=
null},__class__:Ac,__properties__:{get_duration:"get_duration"}});var Bc=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new Ra(b,function(){d.updateVolume()});this.updateVolume();this._complete=new Ta(!1);this.playAudio();J.hidden._value&&this.set_paused(!0)};g["flambe.platform.html._HtmlSound.HtmlPlayback"]=Bc;Bc.__name__=!0;Bc.__interfaces__=
[ge,hc];Bc.prototype={get_paused:function(){return this._clonedElement.paused},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_complete:function(){return this._complete},get_position:function(){return this._clonedElement.currentTime},update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),
this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(Bb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=J.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=J.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},updateVolume:function(){this._clonedElement.volume=
J.volume._value*this.volume._value},__class__:Bc,__properties__:{get_position:"get_position",get_complete:"get_complete",set_paused:"set_paused",get_paused:"get_paused"}};var Jf=function(){};g["flambe.subsystem.StageSystem"]=Jf;Jf.__name__=!0;Jf.prototype={__class__:Jf};var Cb=function(a){var b=this;this._canvas=a;this.resize=new gc;this.scaleFactor=Cb.computeScaleFactor();1!=this.scaleFactor&&(S.setVendorStyle(this._canvas,"transform-origin","top left"),S.setVendorStyle(this._canvas,"transform",
"scale("+1/this.scaleFactor+")"));S.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){S.callLater(p(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",p(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new Ta(null);null!=window.orientation&&(window.addEventListener("orientationchange",p(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new Ta(!1);S.addVendorListener(window.document,
"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};g["flambe.platform.html.HtmlStage"]=Cb;Cb.__name__=!0;Cb.__interfaces__=[Jf];Cb.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),b=S.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<a*window.screen.width||1136<a*b?1:a};Cb.prototype={get_width:function(){return this._canvas.width},
get_height:function(){return this._canvas.height},requestResize:function(a,b){if(this.resizeCanvas(a,b)){var c=this._canvas.parentElement;c.style.width=a+"px";c.style.height=b+"px"}},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();return!0},
hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";S.callLater(function(){S.hideMobileBrowser();S.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(S.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==S.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],
window.document).value)},__class__:Cb,__properties__:{get_height:"get_height",get_width:"get_width"}};var S=function(){};g["flambe.platform.html.HtmlUtil"]=S;S.__name__=!0;S.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};S.hideMobileBrowser=function(){window.scrollTo(1,0)};S.loadExtension=function(a,b){null==b&&(b=window);var c=o.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+L.substr(a,1,null),d=0,e=S.VENDOR_PREFIXES;d<e.length;){var f=
e[d];++d;var g=f+c,i=o.field(b,g);if(null!=i)return{prefix:f,field:g,value:i}}return{prefix:null,field:null,value:null}};S.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=S.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};S.polyfill=function(a,b){null==b&&(b=window);var c=S.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};S.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=S.VENDOR_PREFIXES;d<e.length;){var f=e[d];
++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};S.addVendorListener=function(a,b,c,d){for(var e=0,f=S.VENDOR_PREFIXES;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)};S.orientation=function(a){switch(a){case -90:case 90:return jb.Landscape;default:return jb.Portrait}};S.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};S.createCanvas=function(a){var b=S.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");
c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};S.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var $=function(a){this._disposed=!1;this.buffer=a};g["flambe.platform.html.WebAudioSound"]=$;$.__name__=!0;$.__interfaces__=[Sb];$.__properties__={get_supported:"get_supported"};$.get_supported=function(){if($._detectSupport){$._detectSupport=
!1;var a=S.loadExtension("AudioContext").value;null!=a&&($.ctx=new a,$.gain=$.createGain(),$.gain.connect($.ctx.destination),J.volume.watch(function(a){$.gain.gain.value=a}))}return null!=$.ctx};$.createGain=function(){return null!=$.ctx.createGain?$.ctx.createGain():$.ctx.createGainNode()};$.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};$.__super__=Ua;$.prototype=v(Ua.prototype,{play:function(a){null==a&&(a=1);return new Cc(this,a,!1)},loop:function(a){null==a&&(a=1);return new Cc(this,
a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:$,__properties__:{get_duration:"get_duration"}});var Cc=function(a,b,c){var d=this;this._sound=a;this._head=$.gain;this._complete=new Ta(!1);this._sourceNode=$.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){d._complete.set__(!0)};$.start(this._sourceNode,0);this.playAudio();this.volume=new Ra(b,function(a){d.setVolume(a)});
1!=b&&this.setVolume(b);J.hidden._value&&this.set_paused(!0)};g["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=Cc;Cc.__name__=!0;Cc.__interfaces__=[ge,hc];Cc.prototype={get_paused:function(){return 0<=this._pausedAt},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_complete:function(){return this._complete},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?
this._pausedAt:($.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=$.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=
this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=$.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(Bb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=J.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:Cc,__properties__:{get_position:"get_position",
get_complete:"get_complete",set_paused:"set_paused",get_paused:"get_paused"}};var Kf=function(){this._transitor=null};g["flambe.scene.Director"]=Kf;Kf.__name__=!0;Kf.__super__=Ha;Kf.prototype=v(Ha.prototype,{get_name:function(){return"Director_2"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&
this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},show:function(a){a=a._compMap.Scene_4;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_4;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=
this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},__class__:Kf,__properties__:v(Ha.prototype.__properties__,{get_topScene:"get_topScene"})});var bg=function(){};g["flambe.scene._Director.Transitor"]=bg;bg.__name__=!0;bg.prototype={update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();this._onComplete()},__class__:bg};var Lf=function(){};g["flambe.scene.Scene"]=Lf;Lf.__name__=!0;Lf.__super__=Ha;Lf.prototype=
v(Ha.prototype,{get_name:function(){return"Scene_4"},__class__:Lf});var cg=function(){};g["flambe.scene.Transition"]=cg;cg.__name__=!0;cg.prototype={update:function(){return!0},complete:function(){},__class__:cg};var Ad=function(){Ha.call(this);this._sounds=[]};g["flambe.sound.Mixer"]=Ad;Ad.__name__=!0;Ad.__super__=Ha;Ad.prototype=v(Ha.prototype,{get_name:function(){return"Mixer_1"},createSound:function(a,b){null==b&&(b=2147483647);var c=new ie(a,b);this._sounds.push(c);return c},stopAll:function(){for(var a=
0,b=this._sounds;a<b.length;){var c=b[a];++a;c.dispose()}},onRemoved:function(){this.stopAll();this._sounds=[]},__class__:Ad});var ie=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};g["flambe.sound._Mixer.MixerSound"]=ie;ie.__name__=!0;ie.__interfaces__=[kb,Sb];ie.prototype={play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,!0)},playOrLoop:function(a,b){var c=this.findOpenChannel();if(0>c)return new xc(this);var d;
d=b?this._source.loop(a):this._source.play(a);return this._playbacks[c]=d},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var c=a++,d=this._playbacks[c];if(null==d||d.get_complete().get__())return c}return-1},get_duration:function(){return this._source.get_duration()},dispose:function(){for(var a=0,b=this._playbacks;a<b.length;){var c=b[a];++a;c.dispose()}this._playbacks=[]},__class__:ie,__properties__:{get_duration:"get_duration"}};var Na=g["flambe.subsystem.RendererType"]={__ename__:!0,
__constructs__:["Stage3D","WebGL","Canvas"]};Na.Stage3D=["Stage3D",0];Na.Stage3D.toString=f;Na.Stage3D.__enum__=Na;Na.WebGL=["WebGL",1];Na.WebGL.toString=f;Na.WebGL.__enum__=Na;Na.Canvas=["Canvas",2];Na.Canvas.toString=f;Na.Canvas.__enum__=Na;Na.__empty_constructs__=[Na.Stage3D,Na.WebGL,Na.Canvas];var vf=function(){};g["flambe.util.Assert"]=vf;vf.__name__=!0;vf.that=function(){};var be=function(){this.success=new ra;this.error=new ra;this.progressChanged=new gc;this.hasResult=!1;this._total=this._progress=
0};g["flambe.util.Promise"]=be;be.__name__=!0;be.prototype={set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:be,
__properties__:{set_total:"set_total",set_progress:"set_progress",set_result:"set_result"}};var gc=function(a){pa.call(this,a)};g["flambe.util.Signal0"]=gc;gc.__name__=!0;gc.__super__=pa;gc.prototype=v(pa.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==pa.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=
b._next;this.didEmit(a)},__class__:gc});var sf=function(a){this.next=null;this.fn=a};g["flambe.util._SignalBase.Task"]=sf;sf.__name__=!0;sf.prototype={__class__:sf};var La=function(){};g["flambe.util.Strings"]=La;La.__name__=!0;La.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?L.substr(a,b+1,null):null};La.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?L.substr(a,0,b):a};La.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=L.substr(a,0,b));b=a.lastIndexOf("/");
0<=b&&(a=L.substr(a,b+1,null));return La.getFileExtension(a)};La.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};La.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(C.is(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+C.string(f);d+=2}a+="]"}return a};var Sa=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Sa.DEFAULT_RESOLVER;null==a&&(a=qa,Sa.DEFAULT_RESOLVER=
a);this.setResolver(a)};g["haxe.Unserializer"]=Sa;Sa.__name__=!0;Sa.initCodes=function(){for(var a=[],b=0,c=Sa.BASE64.length;b<c;){var d=b++;a[Sa.BASE64.charCodeAt(d)]=d}return a};Sa.run=function(a){return(new Sa(a)).unserialize()};Sa.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);
if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return qa.createEnum(a,
b);for(var d=[];0<c--;)d.push(this.unserialize());return qa.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return C.parseFloat(L.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";
b=L.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();
if(0>a||a>=this.cache.length)throw"Invalid reference";return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";return this.scache[a];case 120:throw this.unserialize();case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=qa.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,
this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;this.pos++;var c=this.readDigits(),d=qa.getEnumConstructs(b)[c];if(null==d)throw"Unknown enum index "+a+"@"+c;a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 108:a=new Fc;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new N;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=
this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new cb;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";return a;case 77:a=new lb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=L.substr(this.buf,this.pos,19),a=L.strDate(a),this.cache.push(a),this.pos+=19,a;case 115:a=
this.readDigits();d=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var e=Sa.CODES;null==e&&(e=Sa.initCodes(),Sa.CODES=e);for(var f=this.pos,g=a&3,i=f+(a-g),b=Dc.alloc(3*(a>>2)+(2<=g?g-1:0)),c=0;f<i;){var j=e[da.fastCodeAt(d,f++)],k=e[da.fastCodeAt(d,f++)];b.set(c++,j<<2|k>>4);j=e[da.fastCodeAt(d,f++)];b.set(c++,k<<4|j>>2);k=e[da.fastCodeAt(d,f++)];b.set(c++,j<<6|k)}2<=g&&(k=e[da.fastCodeAt(d,f++)],i=e[da.fastCodeAt(d,f++)],b.set(c++,k<<2|i>>4),3==g&&(d=e[da.fastCodeAt(d,
f++)],b.set(c++,i<<4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=qa.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw"Invalid custom data";return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:Sa};var je=function(){};g["haxe.ds.BalancedTree"]=je;je.__name__=!0;je.prototype={set:function(a,b){this.root=
this.setLoop(a,b,this.root)},get:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return b.value;b=0>c?b.left:b.right}return null},remove:function(a){try{return this.root=this.removeLoop(a,this.root),!0}catch(b){if(y.__instanceof(b,String))return!1;throw b;}},exists:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return!0;b=0>c?b.left:b.right}return!1},iterator:function(){var a=[];this.iteratorLoop(this.root,a);return L.iter(a)},keys:function(){var a=
[];this.keysLoop(this.root,a);return L.iter(a)},setLoop:function(a,b,c){if(null==c)return new Ca(null,a,b,null);var d=this.compare(a,c.key);if(0==d)return new Ca(c.left,a,b,c.right,null==c?0:c._height);if(0>d)return this.balance(this.setLoop(a,b,c.left),c.key,c.value,c.right);a=this.setLoop(a,b,c.right);return this.balance(c.left,c.key,c.value,a)},removeLoop:function(a,b){if(null==b)throw"Not_found";var c=this.compare(a,b.key);return 0==c?this.merge(b.left,b.right):0>c?this.balance(this.removeLoop(a,
b.left),b.key,b.value,b.right):this.balance(b.left,b.key,b.value,this.removeLoop(a,b.right))},iteratorLoop:function(a,b){null!=a&&(this.iteratorLoop(a.left,b),b.push(a.value),this.iteratorLoop(a.right,b))},keysLoop:function(a,b){null!=a&&(this.keysLoop(a.left,b),b.push(a.key),this.keysLoop(a.right,b))},merge:function(a,b){if(null==a)return b;if(null==b)return a;var c=this.minBinding(b);return this.balance(a,c.key,c.value,this.removeMinBinding(b))},minBinding:function(a){if(null==a)throw"Not_found";
return null==a.left?a:this.minBinding(a.left)},removeMinBinding:function(a){return null==a.left?a.right:this.balance(this.removeMinBinding(a.left),a.key,a.value,a.right)},balance:function(a,b,c,d){var e;e=null==a?0:a._height;var f;f=null==d?0:d._height;return e>f+2?function(){var b=a.left;return null==b?0:b._height}(this)>=function(){var b=a.right;return null==b?0:b._height}(this)?new Ca(a.left,a.key,a.value,new Ca(a.right,b,c,d)):new Ca(new Ca(a.left,a.key,a.value,a.right.left),a.right.key,a.right.value,
new Ca(a.right.right,b,c,d)):f>e+2?function(){var a=d.right;return null==a?0:a._height}(this)>function(){var a=d.left;return null==a?0:a._height}(this)?new Ca(new Ca(a,b,c,d.left),d.key,d.value,d.right):new Ca(new Ca(a,b,c,d.left.left),d.left.key,d.left.value,new Ca(d.left.right,d.key,d.value,d.right)):new Ca(a,b,c,d,(e>f?e:f)+1)},compare:function(a,b){return o.compare(a,b)},__class__:je};var Ca=function(a,b,c,d,e){null==e&&(e=-1);this.left=a;this.key=b;this.value=c;this.right=d;this._height=-1==
e?(function(a){a=a.left;return null==a?0:a._height}(this)>function(a){a=a.right;return null==a?0:a._height}(this)?function(a){a=a.left;return null==a?0:a._height}(this):function(a){a=a.right;return null==a?0:a._height}(this))+1:e};g["haxe.ds.TreeNode"]=Ca;Ca.__name__=!0;Ca.prototype={__class__:Ca};var Va=function(){};g["haxe.ds.EnumValueMap"]=Va;Va.__name__=!0;Va.__interfaces__=[Tb];Va.__super__=je;Va.prototype=v(je.prototype,{compare:function(a,b){var c=a[1]-b[1];if(0!=c)return c;var c=a.slice(2),
d=b.slice(2);return 0==c.length&&0==d.length?0:this.compareArgs(c,d)},compareArgs:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(var c=0,d=a.length;c<d;){var e=c++,e=this.compareArg(a[e],b[e]);if(0!=e)return e}return 0},compareArg:function(a,b){return o.isEnumValue(a)&&o.isEnumValue(b)?this.compare(a,b):a instanceof Array&&null==a.__enum__&&b instanceof Array&&null==b.__enum__?this.compareArgs(a,b):o.compare(a,b)},__class__:Va});var cb=function(){this.h={}};g["haxe.ds.IntMap"]=cb;cb.__name__=
!0;cb.__interfaces__=[Tb];cb.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return L.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref[this.it.next()]}}},__class__:cb};
var lb=function(){this.h={};this.h.__keys__={}};g["haxe.ds.ObjectMap"]=lb;lb.__name__=!0;lb.__interfaces__=[Tb];lb.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++lb.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return L.iter(a)},iterator:function(){return{ref:this.h,
it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref[this.it.next().__id__]}}},__class__:lb};var N=function(){this.h={}};g["haxe.ds.StringMap"]=N;N.__name__=!0;N.__interfaces__=[Tb];N.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b.substr(1));return L.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:N};var Dc=function(a,b){this.length=a;this.b=b};g["haxe.io.Bytes"]=Dc;Dc.__name__=!0;Dc.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new Dc(a,b)};Dc.prototype={set:function(a,b){this.b[a]=b&255},__class__:Dc};var dg=function(){};g["haxe.io.Eof"]=dg;dg.__name__=!0;dg.prototype={toString:function(){return"Eof"},
__class__:dg};var $f=function(){};g["haxe.rtti.Meta"]=$f;$f.__name__=!0;$f.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};var Mf=function(a){this.__x=a};g["haxe.xml._Fast.NodeAccess"]=Mf;Mf.__name__=!0;Mf.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==I.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;return new Wb(b)},__class__:Mf};var Nf=function(a){this.__x=a};g["haxe.xml._Fast.AttribAccess"]=
Nf;Nf.__name__=!0;Nf.prototype={resolve:function(a){if(this.__x.nodeType==I.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.get_nodeName()+" is missing attribute "+a;return b},__class__:Nf};var Of=function(a){this.__x=a};g["haxe.xml._Fast.HasAttribAccess"]=Of;Of.__name__=!0;Of.prototype={resolve:function(a){if(this.__x.nodeType==I.Document)throw"Cannot access document attribute "+a;return this.__x.exists(a)},__class__:Of};var Pf=function(a){this.__x=
a};g["haxe.xml._Fast.HasNodeAccess"]=Pf;Pf.__name__=!0;Pf.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:Pf};var Qf=function(a){this.__x=a};g["haxe.xml._Fast.NodeListAccess"]=Qf;Qf.__name__=!0;Qf.prototype={resolve:function(a){for(var b=new Fc,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new Wb(c))}return b},__class__:Qf};var Wb=function(a){if(a.nodeType!=I.Document&&a.nodeType!=I.Element)throw"Invalid nodeType "+C.string(a.nodeType);this.x=
a;this.node=new Mf(a);this.nodes=new Qf(a);this.att=new Nf(a);this.has=new Of(a);this.hasNode=new Pf(a)};g["haxe.xml.Fast"]=Wb;Wb.__name__=!0;Wb.prototype={get_name:function(){return this.x.nodeType==I.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==I.PCData&&c.nodeType==I.CData&&""==da.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==
I.PCData&&""==da.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";}if(b.nodeType!=I.PCData&&b.nodeType!=I.CData)throw this.get_name()+" does not have data";return b.get_nodeValue()},__class__:Wb,__properties__:{get_innerData:"get_innerData",get_name:"get_name"}};var vb=function(){};g["haxe.xml.Parser"]=vb;vb.__name__=!0;vb.parse=function(a){var b=I.createDocument();vb.doParse(a,0,b);return b};vb.doParse=function(a,b,c){null==b&&(b=
0);for(var d=null,e=1,f=1,g=null,i=0,j=0,k=0,l=a.charCodeAt(b),m=new Gc;l==l;){switch(e){case 0:switch(l){case 10:case 13:case 9:case 32:break;default:e=f;continue}break;case 1:switch(l){case 60:e=0;f=2;break;default:i=b;e=13;continue}break;case 13:60==l?(f=I.createPCData(m.b+L.substr(a,i,b-i)),m=new Gc,c.addChild(f),j++,e=0,f=2):38==l&&(m.addSub(a,i,b-i),e=18,f=13,i=b+1);break;case 17:93==l&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(e=I.createCData(L.substr(a,i,b-i)),c.addChild(e),j++,b+=2,
e=1);break;case 2:switch(l){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=L.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;e=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=L.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;e=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;e=15}i=b+1;break;case 63:e=14;i=b;break;case 47:if(null==c)throw"Expected node name";i=b+1;e=0;f=10;break;default:e=3;i=b;continue}break;case 3:if(!(97<=
l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(b==i)throw"Expected node name";d=I.createElement(L.substr(a,i,b-i));c.addChild(d);e=0;f=4;continue}break;case 4:switch(l){case 47:e=11;j++;break;case 62:e=9;j++;break;default:e=5;i=b;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(i==b)throw"Expected attribute name";g=L.substr(a,i,b-i);if(d.exists(g))throw"Duplicate attribute";e=0;f=6;continue}break;case 6:switch(l){case 61:e=
0;f=7;break;default:throw"Expected =";}break;case 7:switch(l){case 34:case 39:e=8;i=b;break;default:throw'Expected "';}break;case 8:l==a.charCodeAt(i)&&(f=L.substr(a,i+1,b-i-1),d.set(g,f),e=0,f=4);break;case 9:i=b=vb.doParse(a,b,d);e=1;break;case 11:switch(l){case 62:e=1;break;default:throw"Expected >";}break;case 12:switch(l){case 62:return 0==j&&c.addChild(I.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(i==
b)throw"Expected node name";if(L.substr(a,i,b-i)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";e=0;f=12;continue}break;case 15:45==l&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(I.createComment(L.substr(a,i,b-i))),b+=2,e=1);break;case 16:91==l?k++:93==l?k--:62==l&&0==k&&(c.addChild(I.createDocType(L.substr(a,i,b-i))),e=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,e=L.substr(a,i+1,b-i-2),c.addChild(I.createProcessingInstruction(e)),e=1);break;case 18:59==l&&(i=L.substr(a,
i,b-i),35==i.charCodeAt(0)?(i=120==i.charCodeAt(1)?C.parseInt("0"+L.substr(i,1,i.length-1)):C.parseInt(L.substr(i,1,i.length-1)),m.add(String.fromCharCode(i))):vb.escapes.exists(i)?m.add(vb.escapes.get(i)):m.b+=C.string("&"+i+";"),i=b+1,e=f)}l=da.fastCodeAt(a,++b)}1==e&&(i=b,e=13);if(13==e)return(b!=i||0==j)&&c.addChild(I.createPCData(m.b+L.substr(a,i,b-i))),b;throw"Unexpected end";};var y=function(){};g["js.Boot"]=y;y.__name__=!0;y.getClass=function(a){return a instanceof Array&&null==a.__enum__?
Array:a.__class__};y.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+y.__string_rec(a[f],b)):c+y.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+y.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return"???"}if(null!=
d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+y.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};y.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;
if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||y.__interfLoop(f,b))return!0}return y.__interfLoop(a.__super__,b)};y.__instanceof=function(a,b){if(null==b)return!1;switch(b){case pc:return(a|0)===a;case V:return"number"==typeof a;case Ed:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case kg:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||y.__interfLoop(y.getClass(a),b)))return!0}else return!1;
return b==lg&&null!=a.__name__||b==mg&&null!=a.__ename__?!0:a.__enum__==b}};y.__cast=function(a,b){if(y.__instanceof(a,b))return a;throw"Cannot cast "+C.string(a)+" to "+C.string(b);};var fg,ig=0;Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;g.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=g.String=String;String.__name__=!0;g.Array=Array;Array.__name__=
!0;Date.prototype.__class__=g.Date=Date;Date.__name__=["Date"];var pc=g.Int={__name__:["Int"]},kg=g.Dynamic={__name__:["Dynamic"]},V=g.Float=Number;V.__name__=["Float"];var Ed=g.Bool=Boolean;Ed.__ename__=["Bool"];var lg=g.Class={__name__:["Class"]},mg={};I.Element="element";I.PCData="pcdata";I.CData="cdata";I.Comment="comment";I.DocType="doctype";I.ProcessingInstruction="processingInstruction";I.Document="document";Y._scratchPoint=new Db;M._DEBUG_SHOW_CLICKWALL=!1;jc.TIMER_POINTER=1.5;Ub._PARTICLE_TIME=
0.01;Ub._BLINK_TIME=1;ic._TUTORIAL_TIME=15;P.partDirections=function(){var a=new Va;a.set(l.RED_START,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.BLUE_START,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.YELLOW_START,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.STRAIGHT,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.BUMP,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.SINGLE_LOOP,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.DOUBLE_LOOP,{startDirection:D.RIGHT,
endDirection:D.RIGHT});a.set(l.ZIGZAG,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.CURVE,{startDirection:D.LEFT,endDirection:D.LEFT});a.set(l.TUNNEL,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.VERTICAL_LOOP,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.STEPS,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.DROP,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.CONNECTION,{startDirection:D.LEFT,endDirection:D.RIGHT});a.set(l.RED_END,{startDirection:D.RIGHT,
endDirection:D.RIGHT});a.set(l.BLUE_END,{startDirection:D.RIGHT,endDirection:D.RIGHT});a.set(l.YELLOW_END,{startDirection:D.RIGHT,endDirection:D.RIGHT});return a}(this);F.STAGE_WIDTH=960;F.STAGE_CENTER_X=480;F.scaleFactor=1;F._isCocoon=-1;s.texture=new Oe;s.sound=new Je;s.xml=new Pe;s.spine=new Ne;s.localization=new Ie;s.xmlconfig=["config_loading","config"];ma._scratchPoint=new Db;Ka.radDeg=180/Math.PI;Ka.degRad=Math.PI/180;la._tweenRemoval=[];la._tweenUpdate=[];sa._mapEmpty=[];Bb.instance=new Bb;
pa.DISPATCHING_SENTINEL=new ec(null,null);J.root=new Ud;J.uncaughtError=new ra;J.hidden=new Ta(!1);J.volume=new Ra(1);J._platform=Bb.instance;J._calledInit=!1;bb.__meta__={obj:{assets:[{fonts_en_simple:[{bytes:12013,md5:"06e9f4b766bf42c251c3d191c28238ee",name:"Basic.fnt"},{bytes:56453,md5:"674ebeba5e5f0569bde00fbee542ea4c",name:"Basic.png"}],preload:[{bytes:990,md5:"e5c3f920683104b81b76c3882b883359",name:"button.mp3"},{bytes:4380,md5:"dd112c63d6c02aa700c1b1cdd8711ff6",name:"button.ogg"},{bytes:83499,
md5:"1c90c464f33efb3984b40c4ad84e16a7",name:"end_stinger.mp3"},{bytes:68816,md5:"ff98f8edd6c691ad52ce39c39c711676",name:"end_stinger.ogg"},{bytes:6200,md5:"b9e03c7c8f0db7a0270a49b142b39745",name:"loading_spinner.png"},{bytes:358,md5:"92c46301af864c0027605e5b8ab10301",name:"preload_0.atlas"},{bytes:18033,md5:"bccda5ef80a735940cb24b08886b7084",name:"preload_0.png"},{bytes:290660,md5:"c0faded9fbc31da59dfc8d42fc6b0043",name:"slide_loop.mp3"},{bytes:247786,md5:"52ca7f96b1fd4f20388bfeaf52ffc648",name:"slide_loop.ogg"}],
initial_audio_required:[{bytes:111176,md5:"b608f81834ab88aefbf2519bdf56b9ad",name:"game.mp3"},{bytes:126189,md5:"f5dd133e2b777752f33ee961fb3dcf17",name:"game.ogg"}],gameplay_audio_required:[{bytes:30005,md5:"64e3a074dd396106b2926ce111a9deca",name:"big_whoosh.mp3"},{bytes:29721,md5:"788e34f3a8cb2849aa22b5e21c7744c1",name:"big_whoosh.ogg"},{bytes:488119,md5:"1c62e9056cb28821555dfeb5fe20076d",name:"building_loop.mp3"},{bytes:395797,md5:"4c56eb6ecad285475f9fc88d851e3263",name:"building_loop.ogg"},{bytes:79022,
md5:"69830ddc9a19ba3b9409b10f448aaf28",name:"cheering.mp3"},{bytes:68408,md5:"fcc8156168a2a89068b0089b41eb24f1",name:"cheering.ogg"},{bytes:23558,md5:"854d77ae2be9fc902dc10953edc74fbe",name:"clang.mp3"},{bytes:24412,md5:"96f963ec47a341c009a87d2d11ceb22e",name:"clang.ogg"},{bytes:39456,md5:"f03b1b7be3e330af65024223250b4881",name:"countdown.mp3"},{bytes:33218,md5:"818646fcc5561d29adc4f7b18453f594",name:"countdown.ogg"},{bytes:145389,md5:"1edbd24a22c71bdd801991c3abd53f2a",name:"end_loop.mp3"},{bytes:125061,
md5:"e35c65c04e28619a8bdbaf0747762318",name:"end_loop.ogg"},{bytes:2114,md5:"bece6d8d3739b0abddc1fa1c921055d0",name:"placeholder_silent.mp3"},{bytes:5514,md5:"ae7363bbe4b631824f218d7866f30307",name:"placeholder_silent.ogg"},{bytes:11474,md5:"f0b910d8cc16d8c7bce610f6ba4fa37b",name:"small_whoosh.mp3"},{bytes:13703,md5:"9060cdd5d2db021e0b268864e143dbb1",name:"small_whoosh.ogg"},{bytes:14034,md5:"1659ea89d3c9a5246cf1482a36d2428a",name:"thud.mp3"},{bytes:15108,md5:"88dae5a6a4ba28d0a8f823a53d8da52e",name:"thud.ogg"}],
gameplay_universal:[{bytes:8951,md5:"506a259b3f14f03b70afa1815996a337",name:"BG.jpg"},{bytes:749,md5:"d18212f7f6abfa5d512af4ec2781f657",name:"D.atlas"},{bytes:3888,md5:"17c39fc917727a72a358b8f97c376687",name:"D.json"},{bytes:69639,md5:"aad97e83d22a34a3033c653989fdd7d4",name:"D.png"},{bytes:182142,md5:"b1f73265e59b91066dc2e5fa4de0b3be",name:"end_screen.jpg"},{bytes:1504,md5:"0d70b84eed73d2e25507a4079214873d",name:"finishingline.jpg"},{bytes:1796,md5:"3f588840cafaf3f6867f2323508489b1",name:"gameplay_universal_0.atlas"},
{bytes:130140,md5:"2932ba04092a3fec2752d27074731cde",name:"gameplay_universal_0.png"},{bytes:3135,md5:"e039506bb50b2a6ff1df50869051aae1",name:"gameplay_universal_1.atlas"},{bytes:315930,md5:"0343a3f1e27ca037f06c1794c974190a",name:"gameplay_universal_1.png"},{bytes:1932,md5:"fb3cefd3c1982cfe704b02cf7f4f7566",name:"gameplay_universal_2.atlas"},{bytes:300002,md5:"bc8aea8f00ae1ccc688cabee3e9ceaeb",name:"gameplay_universal_2.png"},{bytes:1983,md5:"8dea2fb0354d4a3db9c658f00269f3a9",name:"gameplay_universal_3.atlas"},
{bytes:332279,md5:"ca5e96a1236de59352a10b68bb01e6b2",name:"gameplay_universal_3.png"},{bytes:2603,md5:"20d08bf30bc3776f8a297254e54c75a0",name:"gameplay_universal_4.atlas"},{bytes:380525,md5:"9045088b32dabfc91c8da2c3b967c1a5",name:"gameplay_universal_4.png"},{bytes:269,md5:"1b363baeed30cd63213fbcbcdd18f1a0",name:"gameplay_universal_5.atlas"},{bytes:8402,md5:"1ac9c54701c7f7d18267f3b72fa1811a",name:"gameplay_universal_5.png"},{bytes:945,md5:"f4fb3a582b80134d661aa786a5e5a580",name:"R.atlas"},{bytes:3890,
md5:"c4de49684e02339c6b2579bab73fc4a9",name:"R.json"},{bytes:78751,md5:"2476fcc501d02ba98a25e1b838727e8e",name:"R.png"},{bytes:649,md5:"4e111b376e35c8832e6fefcc02d4faa4",name:"T.atlas"},{bytes:3453,md5:"21a1fb4e0533d24a40768213aca6c132",name:"T.json"},{bytes:62777,md5:"4aff6dc644b6b2219acbd29a978eb8fa",name:"T.png"}],initial_universal:[{bytes:3776,md5:"49ff002067e6cb6a20b1bd80c483e808",name:"initial_universal_0.atlas"},{bytes:108614,md5:"e14296e2bb43bc042897db100420434f",name:"initial_universal_0.png"}],
bootstrap:[{bytes:2114,md5:"bece6d8d3739b0abddc1fa1c921055d0",name:"audio/silent.mp3"},{bytes:5514,md5:"ae7363bbe4b631824f218d7866f30307",name:"audio/silent.ogg"},{bytes:429,md5:"279e53fdb2b5e300f953784865d2fe35",name:"config/config.xml"},{bytes:2017,md5:"bc4e6831578c008d9d6c4c58393bf8a5",name:"config/config_loading.xml"},{bytes:129037,md5:"e6ab47f1bbf5041b8ac264e6f8410269",name:"ui/splash/splash.jpg"},{bytes:156897,md5:"c7e2ae28f25418910afa2e0743b87305",name:"ui/splash/template_bg.jpg"}],fonts_ru:[{bytes:41267,
md5:"cfada22e39a2fd2d9510be9c71e0e2ce",name:"Basic.fnt"},{bytes:856864,md5:"0bf3cf22e0358894bf2cf87b4be6cbc1",name:"Basic.png"},{bytes:12668,md5:"df0f6ae434f50e085eb60eaf1f43f79e",name:"translation.xml"}],fonts_la:[{bytes:25155,md5:"0cb9ccca325378cb24ef1229dc4cf06f",name:"Basic.fnt"},{bytes:622185,md5:"b4a3a501cd3d901bc5242d83d7ffe226",name:"Basic.png"},{bytes:12668,md5:"df0f6ae434f50e085eb60eaf1f43f79e",name:"translation.xml"}],fonts_kr:[{bytes:25155,md5:"0cb9ccca325378cb24ef1229dc4cf06f",name:"Basic.fnt"},
{bytes:622185,md5:"b4a3a501cd3d901bc5242d83d7ffe226",name:"Basic.png"},{bytes:12668,md5:"df0f6ae434f50e085eb60eaf1f43f79e",name:"translation.xml"}],fonts_jp:[{bytes:25155,md5:"0cb9ccca325378cb24ef1229dc4cf06f",name:"Basic.fnt"},{bytes:622185,md5:"b4a3a501cd3d901bc5242d83d7ffe226",name:"Basic.png"},{bytes:12668,md5:"df0f6ae434f50e085eb60eaf1f43f79e",name:"translation.xml"}],fonts_en:[{bytes:25140,md5:"fa3cc367d0eedf09d6d6520ce1908390",name:"Basic.fnt"},{bytes:119520,md5:"b4ebc27732c6274d82e15614dbb5868d",
name:"Basic.png"},{bytes:12892,md5:"048bfebdbc5b56ddb152bee9dca5b9f6",name:"translation.xml"}],fonts_cn:[{bytes:25155,md5:"0cb9ccca325378cb24ef1229dc4cf06f",name:"Basic.fnt"},{bytes:622185,md5:"b4a3a501cd3d901bc5242d83d7ffe226",name:"Basic.png"},{bytes:12932,md5:"005819ceefc50c765ba9bbe3df0ec0e1",name:"translation.xml"}]}]}};bb._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();Gb.NEWLINE=
new $d(10);Xa._sharedEvent=new zf;Ia._sharedEvent=new Af;Ma._sharedEvent=new Bf;dc.CANVAS_TEXTURES=(new pb("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);ea._mediaRefCount=0;ea._detectBlobSupport=!0;S.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];S.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new pb("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);$._detectSupport=!0;Sa.DEFAULT_RESOLVER=qa;Sa.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
lb.count=0;vb.escapes=function(){var a=new N;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);wb.main()})();
