pc.script.attribute("displayName","string",""),pc.script.attribute("unlockNextMission","string",""),pc.script.attribute("time","number",30,{displayName:"Time(Second)"}),pc.script.attribute("showTutorial","boolean",!1),pc.script.create("MissionCatch",function(a){var b=function(a){this.entity=a,this.type=MissionTypes.CATCH};return b.prototype={initialize:function(){this.displayName=textDic.Mission.Snitch.value,this.childGame="List"===this.entity.getParent().getName(),this.childGame?this.missionManager=this.entity.getParent().getParent().script.ComplexMission:this.missionManager=a.root.findByName("Missions").script.MissionManager,this.missionManager.registerMission(this),this.childGame||(this.start=this.entity.findByName("Start"),this.startBodyWrapper=this.start.script?this.start.script.BodyWrapper:this.start.findByName("Collision").script.BodyWrapper),this.snitch=this.entity.findByName("Snitch"),this.snitch.script.Snitch.on("Caught",this._caughtHandler,this),this._initializePath()},update:function(a){},onEnable:function(){this.startBodyWrapper&&this.startBodyWrapper.on("onCollisionEnter",this.onCollisionEnter,this)},onDisable:function(){this.startBodyWrapper&&this.startBodyWrapper.off("onCollisionEnter",this.onCollisionEnter,this)},onCollisionEnter:function(a){"Player"!==a.name||this.snitch.enabled||(pc.Utils.debug("missionCombat","onCollisionEnter",this.displayName+" Started!"),this.missionManager.showMission(this))},_initializePath:function(){for(var a=this.entity.findByName("Path"),b=[],c=a.getChildren(),d=0;d<c.length;d++)b.push(c[d]);this.snitch.script.Snitch.initializePath(b)},_caughtHandler:function(){this.missionManager&&this.missionManager.missionComplete(this)},disableMission:function(){this.entity.enabled=!1},enableMission:function(){this.entity.enabled=!0},startMission:function(){this.snitch.enabled=!0,this.snitch.script.Snitch.reset()},destroyMission:function(){this.startBodyWrapper&&nick.engine.removeBody(this.startBodyWrapper.body),this.snitch.script.Snitch.removeBody(),this.entity.destroy()},failMission:function(){this.entity.enabled=!0,this.snitch.enabled=!1}},b});